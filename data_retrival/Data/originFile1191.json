{"items":[{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"score":0,"creation_date":1657653302,"post_id":72956372,"comment_id":128860581,"body_markdown":"See https://stackoverflow.com/questions/58916647/difference-between-enableautoconfiguration-vs-springbootconfiguration-autoc","body":"See <a href=\"https://stackoverflow.com/questions/58916647/difference-between-enableautoconfiguration-vs-springbootconfiguration-autoc\" title=\"difference between enableautoconfiguration vs springbootconfiguration autoc\">stackoverflow.com/questions/58916647/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":25779467,"reputation":116,"user_id":19525292,"display_name":"Shantanu Vora"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1657693985,"creation_date":1657693985,"answer_id":72961854,"question_id":72956372,"body_markdown":"**The [@EnableAutoConfiguration][1] annotation enables Spring Boot to auto-configure the application context. Therefore, it automatically creates and registers beans based on both the included jar files in the classpath and the beans defined by us.**\r\n\r\nFor example, when we define the spring-boot-starter-web dependency in our classpath, Spring boot auto-configures Tomcat and Spring MVC. However, this auto-configuration has less precedence in case we define our own configurations.\r\n\r\n**The package of the class declaring the [@EnableAutoConfiguration][1] annotation is considered the default.** Therefore, we should always apply the [@EnableAutoConfiguration][1] annotation in the root package so that every sub-package and class can be examined:\r\n\r\n    @Configuration\r\n    @EnableAutoConfiguration\r\n    public class EmployeeApplication {\r\n        public static void main(String[] args) {\r\n            ApplicationContext context = SpringApplication.run(EmployeeApplication.class, args);\r\n            // ...\r\n        }\r\n    }\r\n\r\nSecondly, if you have bootstrapped your application with Spring Boot, it will have [@SpringBootApplication][2] annotation which is equivalent to using [@Configuration][3], [@EnableAutoConfiguration][1], and [@ComponentScan][3], so you wouldn&#39;t need to explicitly add [@EnableAutoConfiguration][1].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/EnableAutoConfiguration.html\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/SpringBootApplication.html\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/ComponentScan.html","title":"Why @EnableAutoConfiguration when we already have @Conditonal and @Configuration","body":"<p><strong>The <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/EnableAutoConfiguration.html\" rel=\"nofollow noreferrer\">@EnableAutoConfiguration</a> annotation enables Spring Boot to auto-configure the application context. Therefore, it automatically creates and registers beans based on both the included jar files in the classpath and the beans defined by us.</strong></p>\n<p>For example, when we define the spring-boot-starter-web dependency in our classpath, Spring boot auto-configures Tomcat and Spring MVC. However, this auto-configuration has less precedence in case we define our own configurations.</p>\n<p><strong>The package of the class declaring the <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/EnableAutoConfiguration.html\" rel=\"nofollow noreferrer\">@EnableAutoConfiguration</a> annotation is considered the default.</strong> Therefore, we should always apply the <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/EnableAutoConfiguration.html\" rel=\"nofollow noreferrer\">@EnableAutoConfiguration</a> annotation in the root package so that every sub-package and class can be examined:</p>\n<pre><code>@Configuration\n@EnableAutoConfiguration\npublic class EmployeeApplication {\n    public static void main(String[] args) {\n        ApplicationContext context = SpringApplication.run(EmployeeApplication.class, args);\n        // ...\n    }\n}\n</code></pre>\n<p>Secondly, if you have bootstrapped your application with Spring Boot, it will have <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/SpringBootApplication.html\" rel=\"nofollow noreferrer\">@SpringBootApplication</a> annotation which is equivalent to using <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/ComponentScan.html\" rel=\"nofollow noreferrer\">@Configuration</a>, <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/EnableAutoConfiguration.html\" rel=\"nofollow noreferrer\">@EnableAutoConfiguration</a>, and <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/ComponentScan.html\" rel=\"nofollow noreferrer\">@ComponentScan</a>, so you wouldn't need to explicitly add <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/EnableAutoConfiguration.html\" rel=\"nofollow noreferrer\">@EnableAutoConfiguration</a>.</p>\n"}],"owner":{"account_id":1410257,"reputation":2118,"user_id":1337007,"accept_rate":72,"display_name":"ghostrider"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":834,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657693985,"creation_date":1657647652,"question_id":72956372,"body_markdown":"Why do we need `@EnableAutoConfiguration` when we already have `@Conditional` on `@Configuration` annotated classes. Aren&#39;t these 2 annotations self sufficient to scan the libs on the classpath and create beans? Why do we need an extra `@EnableAutoConfiguration`. ","title":"Why @EnableAutoConfiguration when we already have @Conditonal and @Configuration","body":"<p>Why do we need <code>@EnableAutoConfiguration</code> when we already have <code>@Conditional</code> on <code>@Configuration</code> annotated classes. Aren't these 2 annotations self sufficient to scan the libs on the classpath and create beans? Why do we need an extra <code>@EnableAutoConfiguration</code>.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":0,"creation_date":1657652747,"post_id":72956395,"comment_id":128860397,"body_markdown":"Is it usn = -N6nPEDs0OEgpeESJSXl ?","body":"Is it usn = -N6nPEDs0OEgpeESJSXl ?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1657692158,"post_id":72956395,"comment_id":128867850,"body_markdown":"Instead of describing what your database looks like, please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data).","body":"Instead of describing what your database looks like, please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>."},{"owner":{"account_id":22296933,"reputation":3,"user_id":16522807,"display_name":"sanjana s bharadwaj"},"score":0,"creation_date":1657694041,"post_id":72956395,"comment_id":128868269,"body_markdown":"@GobuCSG No. Usn is 132","body":"@GobuCSG No. Usn is 132"},{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":0,"creation_date":1657695848,"post_id":72956395,"comment_id":128868785,"body_markdown":"@sanjanasbharadwaj you&#39;ve refer this child &quot;-N6nPEDs0OEgpeESJSXl&quot; then only you can fetch.. So first create another tree TREE_NAME:{&quot;132&quot; : &quot;-N6nPEDs0OEgpeESJSXl&quot;} get the value from here then, firebaseDatabase.getReference(&quot;sem1Info1&quot;).child(&quot;users&quot;).child(&quot;PASS THE VALUE&quot;). No need orderByChild there","body":"@sanjanasbharadwaj you&#39;ve refer this child &quot;-N6nPEDs0OEgpeESJSXl&quot; then only you can fetch.. So first create another tree TREE_NAME:{&quot;132&quot; : &quot;-N6nPEDs0OEgpeESJSXl&quot;} get the value from here then, firebaseDatabase.getReference(&quot;sem1Info1&quot;).child(&quot;users&quot;).ch&zwnj;&#8203;ild(&quot;PASS THE VALUE&quot;). No need orderByChild there"},{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":0,"creation_date":1657695966,"post_id":72956395,"comment_id":128868823,"body_markdown":"orderByChild()\tOrder results by the value of a specified child key or nested child path.\n\nRefer this : https://firebase.google.com/docs/database/android/lists-of-data","body":"orderByChild()\tOrder results by the value of a specified child key or nested child path.  Refer this : <a href=\"https://firebase.google.com/docs/database/android/lists-of-data\" rel=\"nofollow noreferrer\">firebase.google.com/docs/database/android/lists-of-data</a>"},{"owner":{"account_id":22296933,"reputation":3,"user_id":16522807,"display_name":"sanjana s bharadwaj"},"score":0,"creation_date":1657807148,"post_id":72956395,"comment_id":128902234,"body_markdown":"how do i generate the  tree{&quot;132&quot; : &quot;-N6nPEDs0OEgpeESJSXl&quot;} dynamically everytime a user enters data ? is there a way i can make the usn as key?","body":"how do i generate the  tree{&quot;132&quot; : &quot;-N6nPEDs0OEgpeESJSXl&quot;} dynamically everytime a user enters data ? is there a way i can make the usn as key?"}],"owner":{"account_id":22296933,"reputation":3,"user_id":16522807,"display_name":"sanjana s bharadwaj"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657693951,"creation_date":1657647794,"question_id":72956395,"body_markdown":"I want to display student information according to the usn searched but when I click the read button the data isn&#39;t displaying. Im stuck here.Any help soon would be really helpful.\r\n\r\nthis is my firebase structure\r\n\r\n\r\n\r\n\r\n```\r\n&quot;sem1Info1&quot;: {\r\n    &quot;users&quot;: {\r\n      &quot;-N6nPEDs0OEgpeESJSXl&quot;: {\r\n        &quot;BACKLOGS&quot;: &quot;5&quot;,\r\n        &quot;CGPA&quot;: &quot;55&quot;,\r\n        &quot;SGPA&quot;: &quot;55&quot;,\r\n        &quot;USN&quot;: 132\r\n      }\r\n    }\r\n  }\r\n```\r\nand this is the android studio code that would be of use\r\n```public class MentorHome extends AppCompatActivity  {\r\n    FirebaseDatabase firebaseDatabase;\r\n\r\n    DatabaseReference databaseReference;\r\n\r\n    .\r\n    private TextView retrieveTV, retrieveTV1, retrieveTV2, readBtn,enterUsn;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_mentor_home);\r\n        firebaseDatabase = FirebaseDatabase.getInstance();\r\n        retrieveTV = findViewById(R.id.tv_mentName);\r\n        retrieveTV1 = findViewById(R.id.tv_studName);\r\n        retrieveTV2 = findViewById(R.id.tv_usn);\r\n        enterUsn=findViewById(R.id.etusername);\r\n        readBtn = findViewById(R.id.readdataBtn);\r\n        String usn= enterUsn.getText().toString();\r\n        readBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                firebaseDatabase.getReference(&quot;sem1Info1&quot;).child(&quot;users&quot;).orderByChild(&quot;USN&quot;).equalTo(usn).addListenerForSingleValueEvent(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(DataSnapshot dataSnapshot) {\r\n                        for (DataSnapshot snapshot : dataSnapshot.getChildren()) {\r\n                            \r\n                            String spga=snapshot.child(&quot;SGPA&quot;).getValue().toString();\r\n                            String cgpa =snapshot.child(&quot;CGPA&quot;).getValue().toString();\r\n                            String back=snapshot.child(&quot;BACKLOGS&quot;).getValue().toString();\r\n                            retrieveTV.setText(spga);\r\n                            retrieveTV1.setText(cgpa);\r\n                            retrieveTV2.setText(back);\r\n\r\n                        }\r\n\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n                        Toast.makeText(MentorHome.this,&quot;ERROR&quot;,Toast.LENGTH_LONG).show();\r\n\r\n                    }\r\n\r\n                    ;\r\n                });\r\n            }\r\n        });\r\n        \r\n        }\r\n}\r\n\r\n```","title":"data from firebase not displaying in android studio","body":"<p>I want to display student information according to the usn searched but when I click the read button the data isn't displaying. Im stuck here.Any help soon would be really helpful.</p>\n<p>this is my firebase structure</p>\n<pre><code>&quot;sem1Info1&quot;: {\n    &quot;users&quot;: {\n      &quot;-N6nPEDs0OEgpeESJSXl&quot;: {\n        &quot;BACKLOGS&quot;: &quot;5&quot;,\n        &quot;CGPA&quot;: &quot;55&quot;,\n        &quot;SGPA&quot;: &quot;55&quot;,\n        &quot;USN&quot;: 132\n      }\n    }\n  }\n</code></pre>\n<p>and this is the android studio code that would be of use</p>\n<pre><code>    FirebaseDatabase firebaseDatabase;\n\n    DatabaseReference databaseReference;\n\n    .\n    private TextView retrieveTV, retrieveTV1, retrieveTV2, readBtn,enterUsn;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_mentor_home);\n        firebaseDatabase = FirebaseDatabase.getInstance();\n        retrieveTV = findViewById(R.id.tv_mentName);\n        retrieveTV1 = findViewById(R.id.tv_studName);\n        retrieveTV2 = findViewById(R.id.tv_usn);\n        enterUsn=findViewById(R.id.etusername);\n        readBtn = findViewById(R.id.readdataBtn);\n        String usn= enterUsn.getText().toString();\n        readBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                firebaseDatabase.getReference(&quot;sem1Info1&quot;).child(&quot;users&quot;).orderByChild(&quot;USN&quot;).equalTo(usn).addListenerForSingleValueEvent(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(DataSnapshot dataSnapshot) {\n                        for (DataSnapshot snapshot : dataSnapshot.getChildren()) {\n                            \n                            String spga=snapshot.child(&quot;SGPA&quot;).getValue().toString();\n                            String cgpa =snapshot.child(&quot;CGPA&quot;).getValue().toString();\n                            String back=snapshot.child(&quot;BACKLOGS&quot;).getValue().toString();\n                            retrieveTV.setText(spga);\n                            retrieveTV1.setText(cgpa);\n                            retrieveTV2.setText(back);\n\n                        }\n\n                    }\n\n                    @Override\n                    public void onCancelled(@NonNull DatabaseError error) {\n                        Toast.makeText(MentorHome.this,&quot;ERROR&quot;,Toast.LENGTH_LONG).show();\n\n                    }\n\n                    ;\n                });\n            }\n        });\n        \n        }\n}\n\n</code></pre>\n"},{"tags":["java","spring-boot","jpa","sql-update","jpql"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1657694847,"post_id":72961667,"comment_id":128868482,"body_markdown":"Changes in a test are rolled back after the test, so no changes. If you want them to persist after the test you need to add `@Rollback(false)` to the test method.","body":"Changes in a test are rolled back after the test, so no changes. If you want them to persist after the test you need to add <code>@Rollback(false)</code> to the test method."}],"answers":[{"tags":[],"owner":{"account_id":23136359,"reputation":274,"user_id":17240540,"display_name":"Puneet Kundliya"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1657693320,"creation_date":1657693320,"answer_id":72961759,"question_id":72961667,"body_markdown":"Add nativeQuery = true in the your Query, Try using the below @Query\r\n\r\n    @Query(value = &quot;update Student s set s.emailId=:email where s.firstName =:firstName and s.id&gt;0&quot;,nativeQuery = true)","title":"JPQL update query not working in spring boot application","body":"<p>Add nativeQuery = true in the your Query, Try using the below @Query</p>\n<pre><code>@Query(value = &quot;update Student s set s.emailId=:email where s.firstName =:firstName and s.id&gt;0&quot;,nativeQuery = true)\n</code></pre>\n"}],"owner":{"account_id":25796284,"reputation":1,"user_id":19539401,"display_name":"rami"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1657693844,"creation_date":1657692768,"question_id":72961667,"body_markdown":"    \r\nI am trying to update Student emailId based on the firstName as following.\r\n\r\n\r\n    @Modifying(clearAutomatically = true)//, flushAutomatically = true)\r\n    @Query(value = &quot;update Student s set s.emailId=:email where s.firstName =:firstName and s.id&gt;0&quot;)\r\n    public int updateStudentEmailByFirstName(@Param(&quot;firstName&quot;) String firstName, @Param(&quot;email&quot;) String email);\r\n\r\nMy test code \r\n\r\n     @Test\r\n     @Order(11)\r\n     @Transactional\r\n     public void updateEmailByFirstName() {\r\n         String firstName = &quot;sm&quot;;\r\n         String email = &quot;sm2@gmail.com&quot;;\r\n         //studentRepository.setSafeUpdateFalse();\r\n         int res = studentRepository.updateStudentEmailByFirstName(firstName, email);\r\n         //studentRepository.setSafeUpdateTrue();\r\n         System.out.println(&quot;res = &quot; + res);\r\n     }\r\n\r\nI get the following output for my Test code\r\n\r\n    2022-07-13 11:27:54.693  INFO 12932 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@1f05d08c testClass = StudentRepositoryTest, testInstance = com.sm.jpa.demo.repository.StudentRepositoryTest@2c6d442d, testMethod = updateEmailByFirstName@StudentRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71842e18 testClass = StudentRepositoryTest, locations = &#39;{}&#39;, classes = &#39;{class com.sm.jpa.demo.JpaDemoApplication}&#39;, contextInitializerClasses = &#39;[]&#39;, activeProfiles = &#39;{}&#39;, propertySourceLocations = &#39;{}&#39;, propertySourceProperties = &#39;{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}&#39;, contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@49912c99, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5f9b2141, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@10feca44, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@3c73951, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@71def8f8, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@17f6480], resourceBasePath = &#39;src/main/webapp&#39;, contextLoader = &#39;org.springframework.boot.test.context.SpringBootContextLoader&#39;, parent = [null]], attributes = map[&#39;org.springframework.test.context.web.ServletTestExecutionListener.activateListener&#39; -&gt; true, &#39;org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder&#39; -&gt; true, &#39;org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder&#39; -&gt; true, &#39;org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents&#39; -&gt; false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4bab804f]; rollback [true]\r\n    Hibernate: update tbl_student set email_address=? where first_name=? and id&gt;0\r\n    res = 1\r\n\r\n\r\nBut cannot see the updated changes in the MySQL database. Corresponding native query also not working. How can I fix this? ","title":"JPQL update query not working in spring boot application","body":"<p>I am trying to update Student emailId based on the firstName as following.</p>\n<pre><code>@Modifying(clearAutomatically = true)//, flushAutomatically = true)\n@Query(value = &quot;update Student s set s.emailId=:email where s.firstName =:firstName and s.id&gt;0&quot;)\npublic int updateStudentEmailByFirstName(@Param(&quot;firstName&quot;) String firstName, @Param(&quot;email&quot;) String email);\n</code></pre>\n<p>My test code</p>\n<pre><code> @Test\n @Order(11)\n @Transactional\n public void updateEmailByFirstName() {\n     String firstName = &quot;sm&quot;;\n     String email = &quot;sm2@gmail.com&quot;;\n     //studentRepository.setSafeUpdateFalse();\n     int res = studentRepository.updateStudentEmailByFirstName(firstName, email);\n     //studentRepository.setSafeUpdateTrue();\n     System.out.println(&quot;res = &quot; + res);\n }\n</code></pre>\n<p>I get the following output for my Test code</p>\n<pre><code>2022-07-13 11:27:54.693  INFO 12932 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@1f05d08c testClass = StudentRepositoryTest, testInstance = com.sm.jpa.demo.repository.StudentRepositoryTest@2c6d442d, testMethod = updateEmailByFirstName@StudentRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@71842e18 testClass = StudentRepositoryTest, locations = '{}', classes = '{class com.sm.jpa.demo.JpaDemoApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@49912c99, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5f9b2141, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@10feca44, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@3c73951, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@71def8f8, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@17f6480], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -&gt; true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -&gt; true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -&gt; true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -&gt; false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4bab804f]; rollback [true]\nHibernate: update tbl_student set email_address=? where first_name=? and id&gt;0\nres = 1\n</code></pre>\n<p>But cannot see the updated changes in the MySQL database. Corresponding native query also not working. How can I fix this?</p>\n"},{"tags":["java","amazon-s3","aws-sdk"],"comments":[{"owner":{"account_id":6839059,"reputation":178,"user_id":5275728,"accept_rate":25,"display_name":"Gene Smith"},"score":0,"creation_date":1657634450,"post_id":72953591,"comment_id":128853951,"body_markdown":"I should also add that I am specifically trying to upload a .zip. But it could be anything in the future.","body":"I should also add that I am specifically trying to upload a .zip. But it could be anything in the future."}],"answers":[{"tags":[],"owner":{"account_id":6839059,"reputation":178,"user_id":5275728,"accept_rate":25,"display_name":"Gene Smith"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657693784,"creation_date":1657635339,"answer_id":72953813,"question_id":72953591,"body_markdown":"The problem was my credentials. The secret access key I provided was incorrect. :(","title":"Issuing uploading file to Amazon S3 Bucket. using the AWS SDK for Java v2","body":"<p>The problem was my credentials. The secret access key I provided was incorrect. :(</p>\n"},{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1657639117,"creation_date":1657635523,"answer_id":72953848,"question_id":72953591,"body_markdown":"This Java example works fine. Here is a screenshot of this Java code working: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nYou state:\r\n\r\n    key(&quot;testing&quot;) //No idea what goes in here.\r\n        .build();\r\n\r\nThe **key** is the name of the object to update. For example, **book.pdf** to upload a PDF file. All input to Java AWS V2 examples is documented at start in the main method.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nNow for your problem - make sure you have the **required dependencies** in the POM file. Use the POM file located here: \r\n\r\nhttps://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/s3\r\n\r\nAlso at start of every program, there is a link to **Java V2 Dev guide** that talks about setting up your DEV Environment, including your creds. \r\n\r\n  [1]: https://i.stack.imgur.com/wNHYb.png\r\n  [2]: https://i.stack.imgur.com/R8IZd.png","title":"Issuing uploading file to Amazon S3 Bucket. using the AWS SDK for Java v2","body":"<p>This Java example works fine. Here is a screenshot of this Java code working:</p>\n<p><a href=\"https://i.stack.imgur.com/wNHYb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wNHYb.png\" alt=\"enter image description here\" /></a></p>\n<p>You state:</p>\n<pre><code>key(&quot;testing&quot;) //No idea what goes in here.\n    .build();\n</code></pre>\n<p>The <strong>key</strong> is the name of the object to update. For example, <strong>book.pdf</strong> to upload a PDF file. All input to Java AWS V2 examples is documented at start in the main method.</p>\n<p><a href=\"https://i.stack.imgur.com/R8IZd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R8IZd.png\" alt=\"enter image description here\" /></a></p>\n<p>Now for your problem - make sure you have the <strong>required dependencies</strong> in the POM file. Use the POM file located here:</p>\n<p><a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/s3\" rel=\"nofollow noreferrer\">https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/s3</a></p>\n<p>Also at start of every program, there is a link to <strong>Java V2 Dev guide</strong> that talks about setting up your DEV Environment, including your creds.</p>\n"}],"owner":{"account_id":6839059,"reputation":178,"user_id":5275728,"accept_rate":25,"display_name":"Gene Smith"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":844,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72953813,"answer_count":2,"score":1,"last_activity_date":1657693784,"creation_date":1657634368,"question_id":72953591,"body_markdown":"I am trying to upload a file to an AWS S3 Bucket using the AWS SDK 2.0 for Java, but I am getting an error when trying to do so. \r\n\r\n    software.amazon.awssdk.services.s3.model.S3Exception: The request signature we calculated does not match the signature you provided. Check your key and signing method.\r\n\r\nI am not sure what I am missing. I have tried adding in a key, but I am not even sure what I need to put in there, think it is just a name to refer to what has been uploaded though.\r\n\r\n    private S3Client s3Client;\r\n\r\n    private void upload() {\r\n        setUpS3Client();\r\n\r\n         PutObjectRequest putObjectRequest = PutObjectRequest.builder()\r\n        .bucket(bucketName) //name of the bucket i am trying to upload to\r\n        .key(&quot;testing&quot;) //No idea what goes in here.\r\n        .build();\r\n\r\n        byte[] objectByteArray = getObjectByteArray(bucketRequest.getPathToFile()); //bucketRequest just holds the data that will be sent\r\n        PutObjectResponse putObjectResponse = s3Client.putObject(putObjectRequest, RequestBody.fromBytes(objectByteArray));\r\n    }\r\n\r\n      private void setUpS3Client() {\r\n\r\n        Region region = Region.AF_SOUTH_1;\r\n\r\n        s3Client = S3Client.builder()\r\n        .region(region)\r\n        .credentialsProvider(createStaticCredentialsProvider())\r\n        .build();\r\n\r\n        this.s3Client = s3Client;\r\n    }\r\n\r\n  \r\n\r\n\r\nDoes anyone know what this error is referring to and what I need to change to get the file to upload? Any help will be appreciated.\r\n","title":"Issuing uploading file to Amazon S3 Bucket. using the AWS SDK for Java v2","body":"<p>I am trying to upload a file to an AWS S3 Bucket using the AWS SDK 2.0 for Java, but I am getting an error when trying to do so.</p>\n<pre><code>software.amazon.awssdk.services.s3.model.S3Exception: The request signature we calculated does not match the signature you provided. Check your key and signing method.\n</code></pre>\n<p>I am not sure what I am missing. I have tried adding in a key, but I am not even sure what I need to put in there, think it is just a name to refer to what has been uploaded though.</p>\n<pre><code>private S3Client s3Client;\n\nprivate void upload() {\n    setUpS3Client();\n\n     PutObjectRequest putObjectRequest = PutObjectRequest.builder()\n    .bucket(bucketName) //name of the bucket i am trying to upload to\n    .key(&quot;testing&quot;) //No idea what goes in here.\n    .build();\n\n    byte[] objectByteArray = getObjectByteArray(bucketRequest.getPathToFile()); //bucketRequest just holds the data that will be sent\n    PutObjectResponse putObjectResponse = s3Client.putObject(putObjectRequest, RequestBody.fromBytes(objectByteArray));\n}\n\n  private void setUpS3Client() {\n\n    Region region = Region.AF_SOUTH_1;\n\n    s3Client = S3Client.builder()\n    .region(region)\n    .credentialsProvider(createStaticCredentialsProvider())\n    .build();\n\n    this.s3Client = s3Client;\n}\n</code></pre>\n<p>Does anyone know what this error is referring to and what I need to change to get the file to upload? Any help will be appreciated.</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":120777,"reputation":14376,"user_id":313400,"display_name":"Guillaume"},"score":0,"creation_date":1641488390,"post_id":70610170,"comment_id":124822208,"body_markdown":"Can you add the Hibernate version to your question?","body":"Can you add the Hibernate version to your question?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1641488950,"post_id":70610170,"comment_id":124822449,"body_markdown":"I don&#39;t know why, but it hits the error dealing with your count query, which is why it works without paging. How does your count query work with the other queries that work with pageable?","body":"I don&#39;t know why, but it hits the error dealing with your count query, which is why it works without paging. How does your count query work with the other queries that work with pageable?"},{"owner":{"account_id":3031405,"reputation":66,"user_id":2570337,"display_name":"Murray Wilson"},"score":0,"creation_date":1641575678,"post_id":70610170,"comment_id":124848255,"body_markdown":"The count query returns the correct count when I execute it using Oracle SQL Developer, as do the count queries for the other queries.\n\nCOUNT(GF.FACT_ID)\n-----------------\n            25487","body":"The count query returns the correct count when I execute it using Oracle SQL Developer, as do the count queries for the other queries.  COUNT(GF.FACT_ID) -----------------             25487"},{"owner":{"account_id":3031405,"reputation":66,"user_id":2570337,"display_name":"Murray Wilson"},"score":0,"creation_date":1641577337,"post_id":70610170,"comment_id":124848911,"body_markdown":"I added an example of a query that does work","body":"I added an example of a query that does work"},{"owner":{"account_id":9643088,"reputation":67,"user_id":7156734,"display_name":"Wilson"},"score":0,"creation_date":1649361061,"post_id":70610170,"comment_id":126862724,"body_markdown":"I&#39;ve debugging this issue for hours and I found the reason, it&#39;s because the NamedNativeQuery for counting does not have resultSetMapping or resultClass then causing &quot;queryReturns = namedQueryDefinition.getQueryReturns()&quot; to be empty then leading to an error at final NativeSQLQueryReturn nativeSQLQueryReturn = queryReturns[0];\nline 965 from AbstractSharedSessionContract class","body":"I&#39;ve debugging this issue for hours and I found the reason, it&#39;s because the NamedNativeQuery for counting does not have resultSetMapping or resultClass then causing &quot;queryReturns = namedQueryDefinition.getQueryReturns()&quot; to be empty then leading to an error at final NativeSQLQueryReturn nativeSQLQueryReturn = queryReturns[0]; line 965 from AbstractSharedSessionContract class"},{"owner":{"account_id":9643088,"reputation":67,"user_id":7156734,"display_name":"Wilson"},"score":0,"creation_date":1649361511,"post_id":70610170,"comment_id":126862872,"body_markdown":"I try to use resultClass/ResultSetMapping but I stuck again due to the namednativequery for count query is being created as java.lang.Long and won&#39;t accept other targets than Long, I am trying to find a way as resultClass/ResultSetMapping only accept Entities.\nThese issues are really annoying me, another thing I tried was using countQuery which also did not works having a silent exception where it could not find the named query for &quot;count&quot; or any name I give to the count","body":"I try to use resultClass/ResultSetMapping but I stuck again due to the namednativequery for count query is being created as java.lang.Long and won&#39;t accept other targets than Long, I am trying to find a way as resultClass/ResultSetMapping only accept Entities. These issues are really annoying me, another thing I tried was using countQuery which also did not works having a silent exception where it could not find the named query for &quot;count&quot; or any name I give to the count"}],"answers":[{"tags":[],"owner":{"account_id":18545106,"reputation":11,"user_id":13512681,"display_name":"Pavel Ivanov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657693476,"creation_date":1657693476,"answer_id":72961781,"question_id":70610170,"body_markdown":"You need to add resultSetMapping to your count query:\r\n```\r\n@NamedNativeQuery(name = &quot;GrefFacts.findAllSasVariables.count&quot;,\r\n    resultSetMapping = &quot;sasVariableCount&quot;,\r\n    query = &quot;SELECT count(gf.fact_id)&quot; +\r\n            &quot;   FROM gref_facts            gf&quot; +\r\n            &quot;   LEFT JOIN gref_not_used_scripts nus&quot; +\r\n            &quot;     ON gf.script_variable_nm = nus.script_variable_nm&quot;)\r\n```\r\n\r\nThen add\r\n```\r\n@SqlResultSetMappings(value = {\r\n    @SqlResultSetMapping(\r\n        name = &quot;sasVariableCount&quot;,\r\n        columns = { @ColumnResult(name = &quot;count&quot;, type = Long.class) }\r\n    ),\r\n    @SqlResultSetMapping(\r\n        name = &quot;SasVariableMapping&quot;,\r\n        classes = {\r\n            @ConstructorResult(\r\n                targetClass = com.epsilon.metadater.domain.SasVariable.class,\r\n                columns = {\r\n                    @ColumnResult(name = &quot;factId&quot;, type = Long.class),\r\n                    @ColumnResult(name = &quot;sasName&quot;,type = String.class),\r\n                    @ColumnResult(name = &quot;sasDesc&quot;,type = String.class),\r\n                    @ColumnResult(name = &quot;sasDataType&quot;,type = Integer.class),\r\n                    @ColumnResult(name = &quot;bitPosMask&quot;,type = Integer.class),\r\n                    @ColumnResult(name = &quot;sasStatus&quot;,type = Integer.class),\r\n                    @ColumnResult(name = &quot;answerId&quot;, type = Long.class),\r\n                    @ColumnResult(name = &quot;sasPName&quot;,type = String.class),\r\n                    @ColumnResult(name = &quot;sasPDesc&quot;,type = String.class),\r\n                    @ColumnResult(name = &quot;sasPNote&quot;,type = String.class),\r\n                    @ColumnResult(name = &quot;sasLinkedCvarCount&quot;,type = Integer.class)\r\n                }\r\n            )\r\n        }\r\n    )\r\n})\r\n```\r\n","title":"Hibernate throws ArrayIndexOutOfBoundsException on some native queries returning POJOs with Pageable","body":"<p>You need to add resultSetMapping to your count query:</p>\n<pre><code>@NamedNativeQuery(name = &quot;GrefFacts.findAllSasVariables.count&quot;,\n    resultSetMapping = &quot;sasVariableCount&quot;,\n    query = &quot;SELECT count(gf.fact_id)&quot; +\n            &quot;   FROM gref_facts            gf&quot; +\n            &quot;   LEFT JOIN gref_not_used_scripts nus&quot; +\n            &quot;     ON gf.script_variable_nm = nus.script_variable_nm&quot;)\n</code></pre>\n<p>Then add</p>\n<pre><code>@SqlResultSetMappings(value = {\n    @SqlResultSetMapping(\n        name = &quot;sasVariableCount&quot;,\n        columns = { @ColumnResult(name = &quot;count&quot;, type = Long.class) }\n    ),\n    @SqlResultSetMapping(\n        name = &quot;SasVariableMapping&quot;,\n        classes = {\n            @ConstructorResult(\n                targetClass = com.epsilon.metadater.domain.SasVariable.class,\n                columns = {\n                    @ColumnResult(name = &quot;factId&quot;, type = Long.class),\n                    @ColumnResult(name = &quot;sasName&quot;,type = String.class),\n                    @ColumnResult(name = &quot;sasDesc&quot;,type = String.class),\n                    @ColumnResult(name = &quot;sasDataType&quot;,type = Integer.class),\n                    @ColumnResult(name = &quot;bitPosMask&quot;,type = Integer.class),\n                    @ColumnResult(name = &quot;sasStatus&quot;,type = Integer.class),\n                    @ColumnResult(name = &quot;answerId&quot;, type = Long.class),\n                    @ColumnResult(name = &quot;sasPName&quot;,type = String.class),\n                    @ColumnResult(name = &quot;sasPDesc&quot;,type = String.class),\n                    @ColumnResult(name = &quot;sasPNote&quot;,type = String.class),\n                    @ColumnResult(name = &quot;sasLinkedCvarCount&quot;,type = Integer.class)\n                }\n            )\n        }\n    )\n})\n</code></pre>\n"}],"owner":{"account_id":3031405,"reputation":66,"user_id":2570337,"display_name":"Murray Wilson"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2706,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657693476,"creation_date":1641485915,"question_id":70610170,"body_markdown":"I am using Java, Spring, Hibernate (&amp; jhipster &amp; openapi) and an Oracle database in a project and a couple of my repository findAll() methods throw an &quot;ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0&quot; exception when calling them with a Pageable argument. (However, other classes using the same pattern do not). Also, calling a similar method without a Pageable argument does not throw an exception.\r\n\r\nHere is an example of one that throws this exception:\r\n```\r\n@Entity\r\n@NamedNativeQuery(name = &quot;GrefFacts.findAllSasVariables&quot;,\r\n    query = &quot;SELECT gf.fact_id                  AS factid,&quot; +\r\n            &quot;        gf.script_variable_nm      AS sasname,&quot; +\r\n            &quot;        upper(gf.script_variable_nm),&quot; +\r\n            &quot;        gf.script_variable_desc    AS sasdesc,&quot; +\r\n            &quot;        gf.data_type_lcd           AS sasdatatype,&quot; +\r\n            &quot;        gf.bt_answer_msk           AS bitposmask,&quot; +\r\n            &quot;        gf.metadata_status_lcd     AS sasstatus,&quot; +\r\n            &quot;        gf.answer_id               AS answerid,&quot; +\r\n            &quot;        nus.new_script_variable_nm AS saspname,&quot; +\r\n            &quot;        upper(nus.new_script_variable_nm),&quot; +\r\n            &quot;        nus.script_variable_desc   AS saspdesc,&quot; +\r\n            &quot;        script_note_str            AS saspnote,&quot; +\r\n            &quot;        (SELECT COUNT(sf.cat_id)&quot; +\r\n            &quot;           FROM sdde_facts sf&quot; +\r\n            &quot;          WHERE gf.fact_id = sf.fact_id&quot; +\r\n            &quot;        )                          AS saslinkedcvarcount&quot; +\r\n            &quot;   FROM gref_facts            gf&quot; +\r\n            &quot;   LEFT JOIN gref_not_used_scripts nus&quot; +\r\n            &quot;     ON gf.script_variable_nm = nus.script_variable_nm&quot; +\r\n            &quot;  ORDER BY upper(gf.script_variable_nm) ASC,&quot; +\r\n            &quot;           upper(nus.new_script_variable_nm) ASC&quot;,\r\n    resultSetMapping = &quot;SasVariableMapping&quot;\r\n)\r\n\r\n@NamedNativeQuery(name = &quot;GrefFacts.findAllSasVariables.count&quot;,\r\n    query = &quot;SELECT count(gf.fact_id)&quot; +\r\n            &quot;   FROM gref_facts            gf&quot; +\r\n            &quot;   LEFT JOIN gref_not_used_scripts nus&quot; +\r\n            &quot;     ON gf.script_variable_nm = nus.script_variable_nm&quot;\r\n)\r\n\r\n@SqlResultSetMapping(name = &quot;SasVariableMapping&quot;,\r\n    classes=@ConstructorResult(\r\n        targetClass = com.epsilon.metadater.domain.SasVariable.class,\r\n        columns = {\r\n            @ColumnResult(name = &quot;factId&quot;, type = Long.class),\r\n            @ColumnResult(name = &quot;sasName&quot;,type = String.class),\r\n            @ColumnResult(name = &quot;sasDesc&quot;,type = String.class),\r\n            @ColumnResult(name = &quot;sasDataType&quot;,type = Integer.class),\r\n            @ColumnResult(name = &quot;bitPosMask&quot;,type = Integer.class),\r\n            @ColumnResult(name = &quot;sasStatus&quot;,type = Integer.class),\r\n            @ColumnResult(name = &quot;answerId&quot;, type = Long.class),\r\n            @ColumnResult(name = &quot;sasPName&quot;,type = String.class),\r\n            @ColumnResult(name = &quot;sasPDesc&quot;,type = String.class),\r\n            @ColumnResult(name = &quot;sasPNote&quot;,type = String.class),\r\n            @ColumnResult(name = &quot;sasLinkedCvarCount&quot;,type = Integer.class)\r\n        }\r\n))\r\n\r\n@Table( ... )\r\npublic class GrefFacts implements Serializable { ... }\r\n```\r\n```java\r\n@Repository\r\npublic interface GrefFactsRepository extends JpaRepository&lt;GrefFacts, Long&gt;, JpaSpecificationExecutor&lt;GrefFacts&gt;\r\n{\r\n    @Query(nativeQuery = true)\r\n    List&lt;SasVariable&gt; findAllSasVariables();\r\n    \r\n    @Query(nativeQuery = true)\r\n    Page&lt;SasVariable&gt; findAllSasVariables(Pageable pageable);\r\n}\r\n```\r\n\r\n```java\r\npublic class SasVariablesApiDelegateImpl implements SasVariablesApiDelegate\r\n{\r\n    private final GrefFactsRepository grefFactsRepository;\r\n    public ResponseEntity&lt;List&lt;SasVariable&gt;&gt; getSasVariables(Pageable pageable, Boolean unpaged)\r\n    {\r\n        Page&lt;SasVariable&gt; page = grefFactsRepository.findAllSasVariables(pageable); // &lt;-- Exception thrown here\r\n    }\r\n}\r\n```\r\n\r\nand this is the Exception:\r\n```\r\norg.springframework.dao.InvalidDataAccessApiUsageException: java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0; nested exception is java.lang.IllegalArgumentException: java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\r\n        at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374)\r\n        at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235)\r\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\r\n        at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n        at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\r\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n        at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n        at com.sun.proxy.$Proxy277.findAllSasVariables(Unknown Source)\r\n        at com.epsilon.metadater.web.api.SasVariablesApiDelegateImpl.getSasVariables(SasVariablesApiDelegateImpl.java:68)\r\n        at com.epsilon.metadater.web.api.SasVariablesApi.getSasVariables(SasVariablesApi.java:51)\r\n        at com.epsilon.metadater.web.api.SasVariablesApi$$FastClassBySpringCGLIB$$923ad51a.invoke(&lt;generated&gt;)\r\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n        at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)\r\n        at com.epsilon.metadater.web.api.SasVariablesApiController$$EnhancerBySpringCGLIB$$fa4a950a.getSasVariables(&lt;generated&gt;)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)\r\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1063)\r\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:497)\r\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:584)\r\n        at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\r\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113)\r\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\r\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\r\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\r\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\r\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n        at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n        at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n        at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n        at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:149)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n        at com.epsilon.metadater.security.jwt.JWTFilter.doFilter(JWTFilter.java:37)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n        at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\r\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n        at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n        at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\r\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n        at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\r\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\r\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n        at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:97)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n        at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\r\n        at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n        at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\r\n        at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n        at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\r\n        at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)\r\n        at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n        at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n        at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n        at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\r\n        at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\r\n        at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\r\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n        at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)\r\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n        at io.undertow.servlet.handlers.SessionRestoringHandler.handleRequest(SessionRestoringHandler.java:119)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\r\n        at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n        at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\r\n        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\r\n        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)\r\n        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: java.lang.IllegalArgumentException: java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\r\n        at org.hibernate.internal.AbstractSharedSessionContract.buildQueryFromName(AbstractSharedSessionContract.java:908)\r\n        at org.hibernate.internal.AbstractSharedSessionContract.createNamedQuery(AbstractSharedSessionContract.java:1003)\r\n        at org.hibernate.internal.AbstractSharedSessionContract.createNamedQuery(AbstractSharedSessionContract.java:114)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)\r\n        at com.sun.proxy.$Proxy271.createNamedQuery(Unknown Source)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\r\n        at com.sun.proxy.$Proxy271.createNamedQuery(Unknown Source)\r\n        at org.springframework.data.jpa.repository.query.NamedQuery.doCreateCountQuery(NamedQuery.java:190)\r\n        at org.springframework.data.jpa.repository.query.NamedQuery.doCreateCountQuery(NamedQuery.java:43)\r\n        at org.springframework.data.jpa.repository.query.AbstractJpaQuery.createCountQuery(AbstractJpaQuery.java:253)\r\n        at org.springframework.data.jpa.repository.query.JpaQueryExecution$PagedExecution.count(JpaQueryExecution.java:183)\r\n        at org.springframework.data.jpa.repository.query.JpaQueryExecution$PagedExecution.lambda$doExecute$0(JpaQueryExecution.java:178)\r\n        at org.springframework.data.support.PageableExecutionUtils.getPage(PageableExecutionUtils.java:62)\r\n        at org.springframework.data.repository.support.PageableExecutionUtils.getPage(PageableExecutionUtils.java:51)\r\n        at org.springframework.data.jpa.repository.query.JpaQueryExecution$PagedExecution.doExecute(JpaQueryExecution.java:177)\r\n        at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88)\r\n        at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155)\r\n        at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143)\r\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\r\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\r\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:152)\r\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:131)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n        at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n        ... 133 common frames omitted\r\nCaused by: java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\r\n        at org.hibernate.internal.AbstractSharedSessionContract.resultClassChecking(AbstractSharedSessionContract.java:965)\r\n        at org.hibernate.internal.AbstractSharedSessionContract.createNativeQuery(AbstractSharedSessionContract.java:924)\r\n        at org.hibernate.internal.AbstractSharedSessionContract.buildQueryFromName(AbstractSharedSessionContract.java:902)\r\n        ... 170 common frames omitted\r\n````\r\nUpdate I initallialy had these versions:\r\n```\r\n&lt;java.version&gt;11&lt;/java.version&gt;\r\n&lt;spring-boot.version&gt;2.4.7&lt;/spring-boot.version&gt;\r\n&lt;hibernate.version&gt;5.4.32.Final&lt;/hibernate.version&gt;\r\n```\r\n\r\nand have since updated to the latest versions and it still happens:\r\n````\r\n&lt;spring-boot.version&gt;2.6.2&lt;/spring-boot.version&gt;\r\n&lt;hibernate.version&gt;5.6.2.Final&lt;/hibernate.version&gt;\r\n````\r\n\r\nHere is an example of a native query that works (does NOT throw an Exception) using the same Entity class. However it only returns a few rows, much less than a page:\r\n```\r\n@NamedNativeQuery(name = &quot;GrefFacts.findCvarLinksBySas&quot;,\r\n        query = &quot;SELECT DISTINCT\\n&quot;+\r\n        &quot;    ( nvl(c.qvroot, &#39; &#39;)\\n&quot;+\r\n        &quot;      || nvl(w.qvsufx, &#39; &#39;) ) AS cvarName,\\n&quot;+\r\n        &quot;    sf.tk_bit               AS tkBit\\n&quot;+\r\n        &quot;FROM gref_facts gf,\\n&quot;+\r\n        &quot;     sdde_facts sf,\\n&quot;+\r\n        &quot;     sdd_c      c,\\n&quot;+\r\n        &quot;     sdd_w      w\\n&quot;+\r\n        &quot;WHERE gf.script_variable_nm = :sasName\\n&quot;+\r\n        &quot;  AND gf.fact_id = sf.fact_id\\n&quot;+\r\n        &quot;  AND sf.cat_id = c.catid\\n&quot;+\r\n        &quot;  AND c.catid = w.catid\\n&quot;+\r\n        &quot;  AND sf.tk_word = w.tkword\\n&quot;+\r\n        &quot;ORDER BY cvarname ASC, tkbit ASC&quot;,\r\n    resultSetMapping = &quot;CvarLinkMapping&quot;\r\n)\r\n\r\n@NamedNativeQuery(name = &quot;GrefFacts.findCvarLinksBySas.count&quot;,\r\n    query = &quot;SELECT count(*)\\n&quot;+\r\n            &quot;  FROM (\\n&quot;+\r\n            &quot;SELECT DISTINCT\\n&quot;+\r\n            &quot;    (c.qvroot || w.qvsufx) AS cvarName,\\n&quot;+\r\n            &quot;    sf.tk_bit              AS tkBit\\n&quot;+\r\n            &quot;FROM gref_facts gf,\\n&quot;+\r\n            &quot;     sdde_facts sf,\\n&quot;+\r\n            &quot;     sdd_c      c,\\n&quot;+\r\n            &quot;     sdd_w      w\\n&quot;+\r\n            &quot;WHERE gf.script_variable_nm = :sasName\\n&quot;+\r\n            &quot;  AND gf.fact_id = sf.fact_id\\n&quot;+\r\n            &quot;  AND sf.cat_id = c.catid\\n&quot;+\r\n            &quot;  AND c.catid = w.catid\\n&quot;+\r\n            &quot;  AND sf.tk_word = w.tkword\\n&quot;+\r\n            &quot;)&quot;\r\n)\r\n\r\n@SqlResultSetMapping(name = &quot;CvarLinkMapping&quot;,\r\n    classes=@ConstructorResult(\r\n        targetClass = com.epsilon.metadater.domain.CvarLink.class,\r\n        columns = {\r\n            @ColumnResult(name = &quot;cvarName&quot;,type = String.class),\r\n            @ColumnResult(name = &quot;tkBit&quot;,type = Integer.class),\r\n        }\r\n))\r\n\r\n```\r\n\r\n```\r\n    @Query(nativeQuery = true)\r\n    List&lt;CvarLink&gt; findCvarLinksBySas(@Param(&quot;sasName&quot;) String sasName);\r\n\r\n    @Query(nativeQuery = true)\r\n    Page&lt;CvarLink&gt; findCvarLinksBySas(@Param(&quot;sasName&quot;) String sasName,\r\n                                      Pageable pageable);\r\n```\r\n\r\n```\r\npublic class CvarLinksApiDelegateImpl implements CvarLinksApiDelegate\r\n{\r\n    private final GrefFactsRepository grefFactsRepository;\r\n\r\n    public ResponseEntity&lt;List&lt;CvarLink&gt;&gt; getCvarLinks(String sasname,\r\n                                                       Pageable pageable,\r\n                                                       Boolean unpaged)\r\n    {\r\n            Page&lt;CvarLink&gt; page = grefFactsRepository.findCvarLinksBySas(sasname, pageable);\r\n    }\r\n}\r\n```","title":"Hibernate throws ArrayIndexOutOfBoundsException on some native queries returning POJOs with Pageable","body":"<p>I am using Java, Spring, Hibernate (&amp; jhipster &amp; openapi) and an Oracle database in a project and a couple of my repository findAll() methods throw an &quot;ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0&quot; exception when calling them with a Pageable argument. (However, other classes using the same pattern do not). Also, calling a similar method without a Pageable argument does not throw an exception.</p>\n<p>Here is an example of one that throws this exception:</p>\n<pre><code>@Entity\n@NamedNativeQuery(name = &quot;GrefFacts.findAllSasVariables&quot;,\n    query = &quot;SELECT gf.fact_id                  AS factid,&quot; +\n            &quot;        gf.script_variable_nm      AS sasname,&quot; +\n            &quot;        upper(gf.script_variable_nm),&quot; +\n            &quot;        gf.script_variable_desc    AS sasdesc,&quot; +\n            &quot;        gf.data_type_lcd           AS sasdatatype,&quot; +\n            &quot;        gf.bt_answer_msk           AS bitposmask,&quot; +\n            &quot;        gf.metadata_status_lcd     AS sasstatus,&quot; +\n            &quot;        gf.answer_id               AS answerid,&quot; +\n            &quot;        nus.new_script_variable_nm AS saspname,&quot; +\n            &quot;        upper(nus.new_script_variable_nm),&quot; +\n            &quot;        nus.script_variable_desc   AS saspdesc,&quot; +\n            &quot;        script_note_str            AS saspnote,&quot; +\n            &quot;        (SELECT COUNT(sf.cat_id)&quot; +\n            &quot;           FROM sdde_facts sf&quot; +\n            &quot;          WHERE gf.fact_id = sf.fact_id&quot; +\n            &quot;        )                          AS saslinkedcvarcount&quot; +\n            &quot;   FROM gref_facts            gf&quot; +\n            &quot;   LEFT JOIN gref_not_used_scripts nus&quot; +\n            &quot;     ON gf.script_variable_nm = nus.script_variable_nm&quot; +\n            &quot;  ORDER BY upper(gf.script_variable_nm) ASC,&quot; +\n            &quot;           upper(nus.new_script_variable_nm) ASC&quot;,\n    resultSetMapping = &quot;SasVariableMapping&quot;\n)\n\n@NamedNativeQuery(name = &quot;GrefFacts.findAllSasVariables.count&quot;,\n    query = &quot;SELECT count(gf.fact_id)&quot; +\n            &quot;   FROM gref_facts            gf&quot; +\n            &quot;   LEFT JOIN gref_not_used_scripts nus&quot; +\n            &quot;     ON gf.script_variable_nm = nus.script_variable_nm&quot;\n)\n\n@SqlResultSetMapping(name = &quot;SasVariableMapping&quot;,\n    classes=@ConstructorResult(\n        targetClass = com.epsilon.metadater.domain.SasVariable.class,\n        columns = {\n            @ColumnResult(name = &quot;factId&quot;, type = Long.class),\n            @ColumnResult(name = &quot;sasName&quot;,type = String.class),\n            @ColumnResult(name = &quot;sasDesc&quot;,type = String.class),\n            @ColumnResult(name = &quot;sasDataType&quot;,type = Integer.class),\n            @ColumnResult(name = &quot;bitPosMask&quot;,type = Integer.class),\n            @ColumnResult(name = &quot;sasStatus&quot;,type = Integer.class),\n            @ColumnResult(name = &quot;answerId&quot;, type = Long.class),\n            @ColumnResult(name = &quot;sasPName&quot;,type = String.class),\n            @ColumnResult(name = &quot;sasPDesc&quot;,type = String.class),\n            @ColumnResult(name = &quot;sasPNote&quot;,type = String.class),\n            @ColumnResult(name = &quot;sasLinkedCvarCount&quot;,type = Integer.class)\n        }\n))\n\n@Table( ... )\npublic class GrefFacts implements Serializable { ... }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface GrefFactsRepository extends JpaRepository&lt;GrefFacts, Long&gt;, JpaSpecificationExecutor&lt;GrefFacts&gt;\n{\n    @Query(nativeQuery = true)\n    List&lt;SasVariable&gt; findAllSasVariables();\n    \n    @Query(nativeQuery = true)\n    Page&lt;SasVariable&gt; findAllSasVariables(Pageable pageable);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class SasVariablesApiDelegateImpl implements SasVariablesApiDelegate\n{\n    private final GrefFactsRepository grefFactsRepository;\n    public ResponseEntity&lt;List&lt;SasVariable&gt;&gt; getSasVariables(Pageable pageable, Boolean unpaged)\n    {\n        Page&lt;SasVariable&gt; page = grefFactsRepository.findAllSasVariables(pageable); // &lt;-- Exception thrown here\n    }\n}\n</code></pre>\n<p>and this is the Exception:</p>\n<pre><code>org.springframework.dao.InvalidDataAccessApiUsageException: java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0; nested exception is java.lang.IllegalArgumentException: java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\n        at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374)\n        at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235)\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\n        at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n        at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n        at com.sun.proxy.$Proxy277.findAllSasVariables(Unknown Source)\n        at com.epsilon.metadater.web.api.SasVariablesApiDelegateImpl.getSasVariables(SasVariablesApiDelegateImpl.java:68)\n        at com.epsilon.metadater.web.api.SasVariablesApi.getSasVariables(SasVariablesApi.java:51)\n        at com.epsilon.metadater.web.api.SasVariablesApi$$FastClassBySpringCGLIB$$923ad51a.invoke(&lt;generated&gt;)\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n        at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)\n        at com.epsilon.metadater.web.api.SasVariablesApiController$$EnhancerBySpringCGLIB$$fa4a950a.getSasVariables(&lt;generated&gt;)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1063)\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:497)\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:584)\n        at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113)\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n        at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n        at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n        at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n        at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:149)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n        at com.epsilon.metadater.security.jwt.JWTFilter.doFilter(JWTFilter.java:37)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n        at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n        at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n        at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n        at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n        at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:97)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n        at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\n        at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\n        at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\n        at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\n        at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\n        at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)\n        at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\n        at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\n        at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\n        at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\n        at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at io.undertow.servlet.handlers.SessionRestoringHandler.handleRequest(SessionRestoringHandler.java:119)\n        at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)\n        at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\n        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\n        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\n        at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\n        at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n        at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\n        at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\n        at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\n        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\n        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)\n        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)\n        at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.lang.IllegalArgumentException: java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\n        at org.hibernate.internal.AbstractSharedSessionContract.buildQueryFromName(AbstractSharedSessionContract.java:908)\n        at org.hibernate.internal.AbstractSharedSessionContract.createNamedQuery(AbstractSharedSessionContract.java:1003)\n        at org.hibernate.internal.AbstractSharedSessionContract.createNamedQuery(AbstractSharedSessionContract.java:114)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)\n        at com.sun.proxy.$Proxy271.createNamedQuery(Unknown Source)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\n        at com.sun.proxy.$Proxy271.createNamedQuery(Unknown Source)\n        at org.springframework.data.jpa.repository.query.NamedQuery.doCreateCountQuery(NamedQuery.java:190)\n        at org.springframework.data.jpa.repository.query.NamedQuery.doCreateCountQuery(NamedQuery.java:43)\n        at org.springframework.data.jpa.repository.query.AbstractJpaQuery.createCountQuery(AbstractJpaQuery.java:253)\n        at org.springframework.data.jpa.repository.query.JpaQueryExecution$PagedExecution.count(JpaQueryExecution.java:183)\n        at org.springframework.data.jpa.repository.query.JpaQueryExecution$PagedExecution.lambda$doExecute$0(JpaQueryExecution.java:178)\n        at org.springframework.data.support.PageableExecutionUtils.getPage(PageableExecutionUtils.java:62)\n        at org.springframework.data.repository.support.PageableExecutionUtils.getPage(PageableExecutionUtils.java:51)\n        at org.springframework.data.jpa.repository.query.JpaQueryExecution$PagedExecution.doExecute(JpaQueryExecution.java:177)\n        at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88)\n        at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155)\n        at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143)\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:152)\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:131)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n        ... 133 common frames omitted\nCaused by: java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\n        at org.hibernate.internal.AbstractSharedSessionContract.resultClassChecking(AbstractSharedSessionContract.java:965)\n        at org.hibernate.internal.AbstractSharedSessionContract.createNativeQuery(AbstractSharedSessionContract.java:924)\n        at org.hibernate.internal.AbstractSharedSessionContract.buildQueryFromName(AbstractSharedSessionContract.java:902)\n        ... 170 common frames omitted\n</code></pre>\n<p>Update I initallialy had these versions:</p>\n<pre><code>&lt;java.version&gt;11&lt;/java.version&gt;\n&lt;spring-boot.version&gt;2.4.7&lt;/spring-boot.version&gt;\n&lt;hibernate.version&gt;5.4.32.Final&lt;/hibernate.version&gt;\n</code></pre>\n<p>and have since updated to the latest versions and it still happens:</p>\n<pre><code>&lt;spring-boot.version&gt;2.6.2&lt;/spring-boot.version&gt;\n&lt;hibernate.version&gt;5.6.2.Final&lt;/hibernate.version&gt;\n</code></pre>\n<p>Here is an example of a native query that works (does NOT throw an Exception) using the same Entity class. However it only returns a few rows, much less than a page:</p>\n<pre><code>@NamedNativeQuery(name = &quot;GrefFacts.findCvarLinksBySas&quot;,\n        query = &quot;SELECT DISTINCT\\n&quot;+\n        &quot;    ( nvl(c.qvroot, ' ')\\n&quot;+\n        &quot;      || nvl(w.qvsufx, ' ') ) AS cvarName,\\n&quot;+\n        &quot;    sf.tk_bit               AS tkBit\\n&quot;+\n        &quot;FROM gref_facts gf,\\n&quot;+\n        &quot;     sdde_facts sf,\\n&quot;+\n        &quot;     sdd_c      c,\\n&quot;+\n        &quot;     sdd_w      w\\n&quot;+\n        &quot;WHERE gf.script_variable_nm = :sasName\\n&quot;+\n        &quot;  AND gf.fact_id = sf.fact_id\\n&quot;+\n        &quot;  AND sf.cat_id = c.catid\\n&quot;+\n        &quot;  AND c.catid = w.catid\\n&quot;+\n        &quot;  AND sf.tk_word = w.tkword\\n&quot;+\n        &quot;ORDER BY cvarname ASC, tkbit ASC&quot;,\n    resultSetMapping = &quot;CvarLinkMapping&quot;\n)\n\n@NamedNativeQuery(name = &quot;GrefFacts.findCvarLinksBySas.count&quot;,\n    query = &quot;SELECT count(*)\\n&quot;+\n            &quot;  FROM (\\n&quot;+\n            &quot;SELECT DISTINCT\\n&quot;+\n            &quot;    (c.qvroot || w.qvsufx) AS cvarName,\\n&quot;+\n            &quot;    sf.tk_bit              AS tkBit\\n&quot;+\n            &quot;FROM gref_facts gf,\\n&quot;+\n            &quot;     sdde_facts sf,\\n&quot;+\n            &quot;     sdd_c      c,\\n&quot;+\n            &quot;     sdd_w      w\\n&quot;+\n            &quot;WHERE gf.script_variable_nm = :sasName\\n&quot;+\n            &quot;  AND gf.fact_id = sf.fact_id\\n&quot;+\n            &quot;  AND sf.cat_id = c.catid\\n&quot;+\n            &quot;  AND c.catid = w.catid\\n&quot;+\n            &quot;  AND sf.tk_word = w.tkword\\n&quot;+\n            &quot;)&quot;\n)\n\n@SqlResultSetMapping(name = &quot;CvarLinkMapping&quot;,\n    classes=@ConstructorResult(\n        targetClass = com.epsilon.metadater.domain.CvarLink.class,\n        columns = {\n            @ColumnResult(name = &quot;cvarName&quot;,type = String.class),\n            @ColumnResult(name = &quot;tkBit&quot;,type = Integer.class),\n        }\n))\n\n</code></pre>\n<pre><code>    @Query(nativeQuery = true)\n    List&lt;CvarLink&gt; findCvarLinksBySas(@Param(&quot;sasName&quot;) String sasName);\n\n    @Query(nativeQuery = true)\n    Page&lt;CvarLink&gt; findCvarLinksBySas(@Param(&quot;sasName&quot;) String sasName,\n                                      Pageable pageable);\n</code></pre>\n<pre><code>public class CvarLinksApiDelegateImpl implements CvarLinksApiDelegate\n{\n    private final GrefFactsRepository grefFactsRepository;\n\n    public ResponseEntity&lt;List&lt;CvarLink&gt;&gt; getCvarLinks(String sasname,\n                                                       Pageable pageable,\n                                                       Boolean unpaged)\n    {\n            Page&lt;CvarLink&gt; page = grefFactsRepository.findCvarLinksBySas(sasname, pageable);\n    }\n}\n</code></pre>\n"},{"tags":["java","gradle","logging","software-distribution"],"answers":[{"tags":[],"owner":{"account_id":9608825,"reputation":754,"user_id":7133935,"accept_rate":100,"display_name":"Logan Kitchen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657693401,"creation_date":1657693401,"answer_id":72961771,"question_id":72961770,"body_markdown":"The file is referenced relatively from the location of the .bat file in the distribution. For example, my .bat file is in the bin folder of my distribution. I added the logging.properties file to the distribution in the bin folder so I could reference it correctly.\r\n\r\nWith logging.properties in the bin directory I could simply change the reference to:\r\n\r\n    LogManager.getLogManager().readConfiguration(\r\n    new FileInputStream(&quot;./logging.properties&quot;));\r\n\r\nand it references correctly.\r\n","title":"How do I reference a Java logging.properties file path in a distributed Gradle project?","body":"<p>The file is referenced relatively from the location of the .bat file in the distribution. For example, my .bat file is in the bin folder of my distribution. I added the logging.properties file to the distribution in the bin folder so I could reference it correctly.</p>\n<p>With logging.properties in the bin directory I could simply change the reference to:</p>\n<pre><code>LogManager.getLogManager().readConfiguration(\nnew FileInputStream(&quot;./logging.properties&quot;));\n</code></pre>\n<p>and it references correctly.</p>\n"}],"owner":{"account_id":9608825,"reputation":754,"user_id":7133935,"accept_rate":100,"display_name":"Logan Kitchen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657693401,"creation_date":1657693401,"question_id":72961770,"body_markdown":"I have a Java Gradle application that logs correctly during development, but does not work correctly when it is distributed.\r\n\r\nWhen I run the program in my IDE (IntelliJ if that is relevant) the logging is formatted correctly, however, when I run &quot;./gradlew distZip&quot; and use the distributed software on our production server it does not create a log file and looses the logging.properties configuration it should have.\r\n\r\nThe logger pulls input from my logging.properties into LogManager, creates a handler with a simple formatter (configured in logging.properties), and adds the handler to the logger:\r\n\r\n    LogManager.getLogManager().readConfiguration(\r\n        new FileInputStream(&quot;./src/main/java/logging/logging.properties&quot;));\r\n    FileHandler handler = new FileHandler(&quot;myLog.log&quot;, FILE_SIZE, 4, true);\r\n    handler.setFormatter(new SimpleFormatter());\r\n    logger.addHandler(handler);\r\n\r\nWhen I run this in IntelliJ I get a set of output files: myLog.log.x and log entries in those files match the properties I created:\r\n\r\n    [2022-07-12 09:26:32] [INFO] APPLICATION: Setting up application \r\n    [2022-07-12 09:26:32] [INFO] Starting server on port: 8080\r\n    [2022-07-12 09:26:32] [INFO] Updating data from API \r\n    ...\r\n\r\nWhen I run the bat file from the distribution it logs to the terminal and gives an IO error:\r\n\r\n    Jul 12, 2022 12:53:09 PM logging.ApplicationLogger getLogger\r\n    SEVERE: .\\src\\main\\java\\logging\\logging.properties (The system cannot find the path \r\n    specified)\r\n\r\nI think this makes sense, since the distributed bat file doesn&#39;t know about the development file structure. What I don&#39;t know, is how to compensate for whatever &quot;./gradlew distZip&quot; does to the file structure. I tried adding the logging.properties file to the distribution as an additional file, but that didn&#39;t work. \r\n\r\nHow do I reference my logging.properties file so that it is found by my distribution?\r\n\r\n ","title":"How do I reference a Java logging.properties file path in a distributed Gradle project?","body":"<p>I have a Java Gradle application that logs correctly during development, but does not work correctly when it is distributed.</p>\n<p>When I run the program in my IDE (IntelliJ if that is relevant) the logging is formatted correctly, however, when I run &quot;./gradlew distZip&quot; and use the distributed software on our production server it does not create a log file and looses the logging.properties configuration it should have.</p>\n<p>The logger pulls input from my logging.properties into LogManager, creates a handler with a simple formatter (configured in logging.properties), and adds the handler to the logger:</p>\n<pre><code>LogManager.getLogManager().readConfiguration(\n    new FileInputStream(&quot;./src/main/java/logging/logging.properties&quot;));\nFileHandler handler = new FileHandler(&quot;myLog.log&quot;, FILE_SIZE, 4, true);\nhandler.setFormatter(new SimpleFormatter());\nlogger.addHandler(handler);\n</code></pre>\n<p>When I run this in IntelliJ I get a set of output files: myLog.log.x and log entries in those files match the properties I created:</p>\n<pre><code>[2022-07-12 09:26:32] [INFO] APPLICATION: Setting up application \n[2022-07-12 09:26:32] [INFO] Starting server on port: 8080\n[2022-07-12 09:26:32] [INFO] Updating data from API \n...\n</code></pre>\n<p>When I run the bat file from the distribution it logs to the terminal and gives an IO error:</p>\n<pre><code>Jul 12, 2022 12:53:09 PM logging.ApplicationLogger getLogger\nSEVERE: .\\src\\main\\java\\logging\\logging.properties (The system cannot find the path \nspecified)\n</code></pre>\n<p>I think this makes sense, since the distributed bat file doesn't know about the development file structure. What I don't know, is how to compensate for whatever &quot;./gradlew distZip&quot; does to the file structure. I tried adding the logging.properties file to the distribution as an additional file, but that didn't work.</p>\n<p>How do I reference my logging.properties file so that it is found by my distribution?</p>\n"},{"tags":["java","maven","extract"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1657617869,"post_id":72949748,"comment_id":128847676,"body_markdown":"First of all, why is it a problem? Very little space or bandwidth? Second, there are corner cases where you cannot decide programmatically which classes are needed - only way to be sure you have what you need is through heavy testing.","body":"First of all, why is it a problem? Very little space or bandwidth? Second, there are corner cases where you cannot decide programmatically which classes are needed - only way to be sure you have what you need is through heavy testing."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1657620485,"post_id":72949748,"comment_id":128848615,"body_markdown":"I would also ask what is really the problem here? Also why using `mvn package assembly:single.` to create a jar I suppose using jar-with-dependencies. The other important part is: Does not exist a more recent version of math lib because this one is of 2016?","body":"I would also ask what is really the problem here? Also why using <code>mvn package assembly:single.</code> to create a jar I suppose using jar-with-dependencies. The other important part is: Does not exist a more recent version of math lib because this one is of 2016?"},{"owner":{"account_id":25788295,"reputation":11,"user_id":19532749,"display_name":"rlb"},"score":0,"creation_date":1657694445,"post_id":72949748,"comment_id":128868372,"body_markdown":"Comment for Thorbj&#248;rn : Thanks for your comment. Yes, it is for space and speed reasons and because I need to create a lot of small libraries that include this commons.math3 library, for simulation.\n\nIn my code, I specify which class I need. However, as you suggested, I prefer to test my approach before I continue to develop other small libraries for simulation.\n\nOn the Apache site, the most recent commons.math3 library is version 3.6.1","body":"Comment for Thorbj&#248;rn : Thanks for your comment. Yes, it is for space and speed reasons and because I need to create a lot of small libraries that include this commons.math3 library, for simulation.  In my code, I specify which class I need. However, as you suggested, I prefer to test my approach before I continue to develop other small libraries for simulation.  On the Apache site, the most recent commons.math3 library is version 3.6.1"},{"owner":{"account_id":25788295,"reputation":11,"user_id":19532749,"display_name":"rlb"},"score":0,"creation_date":1657694956,"post_id":72949748,"comment_id":128868512,"body_markdown":"Comment for khmarbaise: Thanks for your comment. I used mvn package assembly :single command because I don&#39;t know what other command to use. I don&#39;t know how to make the link between the assembly and the output of the package execution command. Running this command gives me the expected result. I&#39;m new to using Maven. :- ))","body":"Comment for khmarbaise: Thanks for your comment. I used mvn package assembly :single command because I don&#39;t know what other command to use. I don&#39;t know how to make the link between the assembly and the output of the package execution command. Running this command gives me the expected result. I&#39;m new to using Maven. :- ))"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1657717322,"post_id":72949748,"comment_id":128876352,"body_markdown":"You can tag a person using `@user` with tab-completion.  The way Java works, large jar files only take space on disk, only classes needed are loaded into memory.  So, unless you have an actual problem with this, I would suggest saving it for later and solve other stuff first.","body":"You can tag a person using <code>@user</code> with tab-completion.  The way Java works, large jar files only take space on disk, only classes needed are loaded into memory.  So, unless you have an actual problem with this, I would suggest saving it for later and solve other stuff first."},{"owner":{"account_id":25788295,"reputation":11,"user_id":19532749,"display_name":"rlb"},"score":0,"creation_date":1657864058,"post_id":72949748,"comment_id":128915521,"body_markdown":"Comment for Thorbj&#248;rn : Thanks for your comment. You said that java load into memory only needed class. You give me an answer that meets my needs. I&#39;m happy about that, so I&#39;ll stop looking for the way to extract a part of the commons.math3 library. In you comment, you wrote that it could be possible to use a tag @user. My question: In which file should this tag be placed and where?","body":"Comment for Thorbj&#248;rn : Thanks for your comment. You said that java load into memory only needed class. You give me an answer that meets my needs. I&#39;m happy about that, so I&#39;ll stop looking for the way to extract a part of the commons.math3 library. In you comment, you wrote that it could be possible to use a tag @user. My question: In which file should this tag be placed and where?"}],"owner":{"account_id":25788295,"reputation":11,"user_id":19532749,"display_name":"rlb"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657693141,"creation_date":1657616949,"question_id":72949748,"body_markdown":"In my pom.xml file, I declare a dependency with the apache library : commons.math3-3.6.1.jar (21 subdirectories. The size of this library is about 2162Ko). \r\nFrom my point of view, this library is heavy for my use. I would like to extract only\r\nthe part I need: org.apache.commons.math3.ode.\r\nI&#39;ve read a lot of explanations, but I haven&#39;t found anything that would help me.\r\nDoes anyone have an idea?\r\nThank you for your help.\r\nRLB\r\n\r\nFor information: currently, I create the .jar file with the command :\r\nmvn package assembly:single. \r\nThis jar file has a size of 2.2 MB, which includes the commons.math3 library and another one.\r\nWith the command :\r\nmvn package, \r\nthe generated jar file is 8Kb in size. It includes only my own code.\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;org.rlb&lt;/groupId&gt;\r\n    &lt;artifactId&gt;FlyingBall&lt;/artifactId&gt;\r\n    &lt;version&gt; 0 &lt;/version&gt;\r\n    &lt;name&gt;FlyingBallCode&lt;/name&gt;\r\n    &lt;description&gt;My description &lt;/description&gt;\r\n\r\n    &lt;properties&gt;  \r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n       &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n       &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-math3&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.6.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.siani.javafmi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;fmu-framework&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t\r\n\t&lt;build&gt;\r\n\t\t&lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n\t\t  &lt;plugins&gt;\r\n\t\t\t&lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t  &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n\t\t\t  &lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t  &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n\t\t\t  &lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t  &lt;version&gt;3.8.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;!-- RLB : Exclude the class which contain the main function, before jar creation. --&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;siani/javafmi/FlyingBallMain.java&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t  &lt;version&gt;2.22.1&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t  &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t\t  &lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t  &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n\t\t\t  &lt;version&gt;2.5.2&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t  &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n\t\t\t  &lt;version&gt;2.8.2&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t  &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n\t\t\t  &lt;version&gt;3.7.1&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t  &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n\t\t\t  &lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.4.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;descriptorRefs&gt;\r\n\t\t\t\t\t\t&lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n\t\t\t\t\t&lt;/descriptorRefs&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;single&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n      \t      &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;","title":"How to extract a sub-part of a library with maven?","body":"<p>In my pom.xml file, I declare a dependency with the apache library : commons.math3-3.6.1.jar (21 subdirectories. The size of this library is about 2162Ko).\nFrom my point of view, this library is heavy for my use. I would like to extract only\nthe part I need: org.apache.commons.math3.ode.\nI've read a lot of explanations, but I haven't found anything that would help me.\nDoes anyone have an idea?\nThank you for your help.\nRLB</p>\n<p>For information: currently, I create the .jar file with the command :\nmvn package assembly:single.\nThis jar file has a size of 2.2 MB, which includes the commons.math3 library and another one.\nWith the command :\nmvn package,\nthe generated jar file is 8Kb in size. It includes only my own code.</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;org.rlb&lt;/groupId&gt;\n&lt;artifactId&gt;FlyingBall&lt;/artifactId&gt;\n&lt;version&gt; 0 &lt;/version&gt;\n&lt;name&gt;FlyingBallCode&lt;/name&gt;\n&lt;description&gt;My description &lt;/description&gt;\n\n&lt;properties&gt;  \n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n   &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n   &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-math3&lt;/artifactId&gt;\n        &lt;version&gt;3.6.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.siani.javafmi&lt;/groupId&gt;\n        &lt;artifactId&gt;fmu-framework&lt;/artifactId&gt;\n        &lt;version&gt;2.6.1&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n      &lt;plugins&gt;\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.8.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;!-- RLB : Exclude the class which contain the main function, before jar creation. --&gt;\n                    &lt;exclude&gt;siani/javafmi/FlyingBallMain.java&lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.22.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.7.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.4.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;descriptorRefs&gt;\n                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                &lt;/descriptorRefs&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\n                    &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n          &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","zip"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1534219183,"post_id":51833423,"comment_id":90620881,"body_markdown":"Basically, if I understand your problem, you need to strip off the &quot;source&quot; folder name from the desired zip entry name.  Something like [this example](https://stackoverflow.com/questions/28732118/java-zip-file-with-non-static-filename/28732297#28732297) and [this example](https://stackoverflow.com/questions/16381281/creating-folders-in-a-zip-folder-in-java/16381391#16381391) and [this example](https://stackoverflow.com/questions/30183634/how-to-zip-files-and-folders-in-java/30184644#30184644)","body":"Basically, if I understand your problem, you need to strip off the &quot;source&quot; folder name from the desired zip entry name.  Something like <a href=\"https://stackoverflow.com/questions/28732118/java-zip-file-with-non-static-filename/28732297#28732297\">this example</a> and <a href=\"https://stackoverflow.com/questions/16381281/creating-folders-in-a-zip-folder-in-java/16381391#16381391\">this example</a> and <a href=\"https://stackoverflow.com/questions/30183634/how-to-zip-files-and-folders-in-java/30184644#30184644\">this example</a>"},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1534220149,"post_id":51833423,"comment_id":90621107,"body_markdown":"Try this: The current folder is &quot;testing&quot; and create a sub-folder called &quot;testfolder&quot;. The testfolder has multiple files and one of them is &quot;user-guide.pdf&quot;. The program should be able to create a ZIP folder with only one entry user-guide.pdf - the output zip file &quot;MyZip&quot; will have just one file user-guide.pdf. The output zip file is created in a folder of your choice - testing or testfolder. If you are able to do that, you can apply the same logic to the application you are trying. Also, one can use `Files.walkFileTree` and `FileVisitor` APIs to walk the file tree and zip the contents.","body":"Try this: The current folder is &quot;testing&quot; and create a sub-folder called &quot;testfolder&quot;. The testfolder has multiple files and one of them is &quot;user-guide.pdf&quot;. The program should be able to create a ZIP folder with only one entry user-guide.pdf - the output zip file &quot;MyZip&quot; will have just one file user-guide.pdf. The output zip file is created in a folder of your choice - testing or testfolder. If you are able to do that, you can apply the same logic to the application you are trying. Also, one can use <code>Files.walkFileTree</code> and <code>FileVisitor</code> APIs to walk the file tree and zip the contents."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1534219728,"creation_date":1534219728,"answer_id":51833575,"question_id":51833423,"body_markdown":"So, if I understand correctly, what you want is, instead of the target folder appearing in the Zip file, all the files within it should start at &quot;/&quot; in the Zip file.\r\n\r\nFor example, if you had\r\n\r\n    FolderToZip/\r\n        TestFile1.txt\r\n        TestFile2.txt\r\n        TestFile3.txt\r\n        SomeSubFolder/\r\n            TestFile4.txt\r\n            TestFile5.txt\r\n            TestFile6.txt\r\n\r\n\r\nThe contents of the Zip file should contain\r\n\r\n    TestFile1.txt\r\n    TestFile2.txt\r\n    TestFile3.txt\r\n    SomeSubFolder/\r\n        TestFile4.txt\r\n        TestFile5.txt\r\n        TestFile6.txt\r\n\r\nTo do this, you need to keep a reference to the &quot;start&quot; folder and strip it&#39;s path off the files you are adding, to create the `ZipEntry`.\r\n\r\nFor simplicity, I changed your code to support `File` instead of `String`, it just makes the whole thing a lot less messy.\r\n\r\nBut the magic appears here...\r\n\r\n    FileInputStream in = new FileInputStream(srcFile);\r\n    String name = srcFile.getPath();\r\n    name = name.replace(rootPath.getPath(), &quot;&quot;);\r\n    System.out.println(&quot;Zip &quot; + srcFile + &quot;\\n to &quot; + name);\r\n    zip.putNextEntry(new ZipEntry(name));\r\n\r\n`rootPath` is the initial folder (`C:\\\\Drive\\\\temp\\\\testZip&quot;` in your example), `srcFile` is the file to be added.\r\n\r\nRunnable example...\r\n\r\n\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.util.zip.ZipEntry;\r\n    import java.util.zip.ZipOutputStream;\r\n    \r\n\r\n    public class ZipFolder {\r\n\r\n        public ZipFolder() {\r\n        }\r\n\r\n        public static void main(String[] args) throws Exception {\r\n            ZipFolder obj = new ZipFolder();\r\n            obj.zipFolder(new File(&quot;/Users/shanewhitehead/exports&quot;),\r\n                    new File(&quot;FolderZiper.zip&quot;));\r\n        }\r\n\r\n        public void zipFolder(File srcFolder, File destZipFile) throws Exception {\r\n            try (FileOutputStream fileWriter = new FileOutputStream(destZipFile);\r\n                    ZipOutputStream zip = new ZipOutputStream(fileWriter)) {\r\n\r\n                addFolderToZip(srcFolder, srcFolder, zip);\r\n            }\r\n        }\r\n\r\n        private void addFileToZip(File rootPath, File srcFile, ZipOutputStream zip) throws Exception {\r\n\r\n            if (srcFile.isDirectory()) {\r\n                addFolderToZip(rootPath, srcFile, zip);\r\n            } else {\r\n                byte[] buf = new byte[1024];\r\n                int len;\r\n                try (FileInputStream in = new FileInputStream(srcFile)) {\r\n                    String name = srcFile.getPath();\r\n                    name = name.replace(rootPath.getPath(), &quot;&quot;);\r\n                    System.out.println(&quot;Zip &quot; + srcFile + &quot;\\n to &quot; + name);\r\n                    zip.putNextEntry(new ZipEntry(name));\r\n                    while ((len = in.read(buf)) &gt; 0) {\r\n                        zip.write(buf, 0, len);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        private void addFolderToZip(File rootPath, File srcFolder, ZipOutputStream zip) throws Exception {\r\n            for (File fileName : srcFolder.listFiles()) {\r\n                addFileToZip(rootPath, fileName, zip);\r\n            }\r\n        }\r\n    }\r\n\r\nI also cleaned up your resource management, using [try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html)","title":"How to zip the content of a directory in Java","body":"<p>So, if I understand correctly, what you want is, instead of the target folder appearing in the Zip file, all the files within it should start at \"/\" in the Zip file.</p>\n\n<p>For example, if you had</p>\n\n<pre><code>FolderToZip/\n    TestFile1.txt\n    TestFile2.txt\n    TestFile3.txt\n    SomeSubFolder/\n        TestFile4.txt\n        TestFile5.txt\n        TestFile6.txt\n</code></pre>\n\n<p>The contents of the Zip file should contain</p>\n\n<pre><code>TestFile1.txt\nTestFile2.txt\nTestFile3.txt\nSomeSubFolder/\n    TestFile4.txt\n    TestFile5.txt\n    TestFile6.txt\n</code></pre>\n\n<p>To do this, you need to keep a reference to the \"start\" folder and strip it's path off the files you are adding, to create the <code>ZipEntry</code>.</p>\n\n<p>For simplicity, I changed your code to support <code>File</code> instead of <code>String</code>, it just makes the whole thing a lot less messy.</p>\n\n<p>But the magic appears here...</p>\n\n<pre><code>FileInputStream in = new FileInputStream(srcFile);\nString name = srcFile.getPath();\nname = name.replace(rootPath.getPath(), \"\");\nSystem.out.println(\"Zip \" + srcFile + \"\\n to \" + name);\nzip.putNextEntry(new ZipEntry(name));\n</code></pre>\n\n<p><code>rootPath</code> is the initial folder (<code>C:\\\\Drive\\\\temp\\\\testZip\"</code> in your example), <code>srcFile</code> is the file to be added.</p>\n\n<p>Runnable example...</p>\n\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipOutputStream;\n\n\npublic class ZipFolder {\n\n    public ZipFolder() {\n    }\n\n    public static void main(String[] args) throws Exception {\n        ZipFolder obj = new ZipFolder();\n        obj.zipFolder(new File(\"/Users/shanewhitehead/exports\"),\n                new File(\"FolderZiper.zip\"));\n    }\n\n    public void zipFolder(File srcFolder, File destZipFile) throws Exception {\n        try (FileOutputStream fileWriter = new FileOutputStream(destZipFile);\n                ZipOutputStream zip = new ZipOutputStream(fileWriter)) {\n\n            addFolderToZip(srcFolder, srcFolder, zip);\n        }\n    }\n\n    private void addFileToZip(File rootPath, File srcFile, ZipOutputStream zip) throws Exception {\n\n        if (srcFile.isDirectory()) {\n            addFolderToZip(rootPath, srcFile, zip);\n        } else {\n            byte[] buf = new byte[1024];\n            int len;\n            try (FileInputStream in = new FileInputStream(srcFile)) {\n                String name = srcFile.getPath();\n                name = name.replace(rootPath.getPath(), \"\");\n                System.out.println(\"Zip \" + srcFile + \"\\n to \" + name);\n                zip.putNextEntry(new ZipEntry(name));\n                while ((len = in.read(buf)) &gt; 0) {\n                    zip.write(buf, 0, len);\n                }\n            }\n        }\n    }\n\n    private void addFolderToZip(File rootPath, File srcFolder, ZipOutputStream zip) throws Exception {\n        for (File fileName : srcFolder.listFiles()) {\n            addFileToZip(rootPath, fileName, zip);\n        }\n    }\n}\n</code></pre>\n\n<p>I also cleaned up your resource management, using <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"noreferrer\">try-with-resources</a></p>\n"},{"tags":[],"owner":{"account_id":2043778,"reputation":17800,"user_id":1824361,"accept_rate":80,"display_name":"Ahmed Nabil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595192625,"creation_date":1595192625,"answer_id":62985640,"question_id":51833423,"body_markdown":"What about use this lib [Zeroturnaround Zip library][1]  \r\nThen you will zip your folder just a one line:\r\n\r\n    ZipUtil.pack(new File(&quot;D:\\\\sourceFolder\\\\&quot;), new File(&quot;D:\\\\generatedZipFile.zip&quot;));\r\n\r\n\r\n  [1]: https://github.com/zeroturnaround/zt-zip","title":"How to zip the content of a directory in Java","body":"<p>What about use this lib <a href=\"https://github.com/zeroturnaround/zt-zip\" rel=\"nofollow noreferrer\">Zeroturnaround Zip library</a><br />\nThen you will zip your folder just a one line:</p>\n<pre><code>ZipUtil.pack(new File(&quot;D:\\\\sourceFolder\\\\&quot;), new File(&quot;D:\\\\generatedZipFile.zip&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14369892,"reputation":312,"user_id":10379931,"display_name":"Nur Alam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657693061,"creation_date":1657693061,"answer_id":72961720,"question_id":51833423,"body_markdown":"You can call like this.\r\n\r\n    zipFoldersAndFiles(Paths.get(sourcesPath), Paths.get(exportLocationPath));\r\n\r\n\r\nDeclare the method.\r\n\r\n    private void zipFoldersAndFiles(Path sourcesFolderPath, Path zipPath){\r\n\r\n        new Thread(() -&gt; {\r\n\r\n            try {\r\n                ZipOutputStream zipOutputStream = new ZipOutputStream(new FileOutputStream(zipPath.toFile()));\r\n\r\n                Files.walkFileTree(sourcesFolderPath, new SimpleFileVisitor&lt;Path&gt;() {\r\n\r\n                    public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\r\n\r\n                        zipOutputStream.putNextEntry(new ZipEntry(sourcesFolderPath.relativize(file).toString()));\r\n                        zipOutputStream.setLevel(ZipOutputStream.STORED);\r\n                        Files.copy(file, zipOutputStream);\r\n                        zipOutputStream.closeEntry();\r\n                        return FileVisitResult.CONTINUE;\r\n                    }\r\n                });\r\n\r\n                zipOutputStream.close();\r\n            }\r\n            catch (Exception e){\r\n                System.out.println(&quot;error&quot;);\r\n            }\r\n        }).start();\r\n    }","title":"How to zip the content of a directory in Java","body":"<p>You can call like this.</p>\n<pre><code>zipFoldersAndFiles(Paths.get(sourcesPath), Paths.get(exportLocationPath));\n</code></pre>\n<p>Declare the method.</p>\n<pre><code>private void zipFoldersAndFiles(Path sourcesFolderPath, Path zipPath){\n\n    new Thread(() -&gt; {\n\n        try {\n            ZipOutputStream zipOutputStream = new ZipOutputStream(new FileOutputStream(zipPath.toFile()));\n\n            Files.walkFileTree(sourcesFolderPath, new SimpleFileVisitor&lt;Path&gt;() {\n\n                public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\n\n                    zipOutputStream.putNextEntry(new ZipEntry(sourcesFolderPath.relativize(file).toString()));\n                    zipOutputStream.setLevel(ZipOutputStream.STORED);\n                    Files.copy(file, zipOutputStream);\n                    zipOutputStream.closeEntry();\n                    return FileVisitResult.CONTINUE;\n                }\n            });\n\n            zipOutputStream.close();\n        }\n        catch (Exception e){\n            System.out.println(&quot;error&quot;);\n        }\n    }).start();\n}\n</code></pre>\n"}],"owner":{"account_id":6481132,"reputation":83,"user_id":5018073,"accept_rate":75,"display_name":"Vivek Vishal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9380,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":51833575,"answer_count":3,"score":6,"last_activity_date":1657693061,"creation_date":1534218324,"question_id":51833423,"body_markdown":"I am using below java, but when it zips, it creates a directory and zips all contents inside that directory.\r\nFor ex. if I have a folder named &#39;Directory&#39; and I want to zip the content to a Zipped file, inside the zipped file it creates a folder testZip and have files inside that.\r\nI need all files inside the zipped file, not inside a parent directory.\r\nPlease help. or suggest if there is any other way.\r\n\r\n    package folderZip;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    \r\n    import java.util.zip.ZipEntry;\r\n    import java.util.zip.ZipOutputStream;\r\n    \r\n    public class ZipFolder {\r\n        public ZipFolder() {  \r\n        }  \r\n    \r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            ZipFolder obj = new ZipFolder();\r\n            obj.zipFolder(&quot;C:\\\\Drive\\\\temp\\\\testZip&quot;,&quot;C:\\\\Drive\\\\temp\\\\FolderZiper.zip&quot;);       \r\n        }\r\n    \r\n    \r\n         public void zipFolder(String srcFolder,\r\n                                     String destZipFile) throws Exception {\r\n            ZipOutputStream zip = null;\r\n            FileOutputStream fileWriter = null;\r\n    \r\n            fileWriter = new FileOutputStream(destZipFile);\r\n            zip = new ZipOutputStream(fileWriter);\r\n    \r\n            addFolderToZip(&quot;&quot;, srcFolder, zip);\r\n            \r\n            zip.flush();\r\n            zip.close();\r\n    \r\n        }\r\n    \r\n        private void addFileToZip(String path, String srcFile,\r\n                                         ZipOutputStream zip) throws Exception {\r\n    \r\n            File folder = new File(srcFile);\r\n            if (folder.isDirectory()) {\r\n                addFolderToZip(path, srcFile, zip);\r\n            } else {\r\n                byte[] buf = new byte[1024];\r\n                int len;\r\n                FileInputStream in = new FileInputStream(srcFile);\r\n                zip.putNextEntry(new ZipEntry(path + &quot;/&quot; + folder.getName()));\r\n                while ((len = in.read(buf)) &gt; 0) {\r\n                    zip.write(buf, 0, len);\r\n                }\r\n            }\r\n        }\r\n    \r\n        private void addFolderToZip(String path, String srcFolder,\r\n                                           ZipOutputStream zip) throws Exception {\r\n            File folder = new File(srcFolder);\r\n    \r\n            for (String fileName : folder.list()) {\r\n                if (path.equals(&quot;&quot;)) {\r\n                    addFileToZip(folder.getName(), srcFolder + &quot;/&quot; + fileName,\r\n                                 zip);\r\n                } else {\r\n                    addFileToZip(path + &quot;/&quot; + folder.getName(),\r\n                                 srcFolder + &quot;/&quot; + fileName, zip);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How to zip the content of a directory in Java","body":"<p>I am using below java, but when it zips, it creates a directory and zips all contents inside that directory.\nFor ex. if I have a folder named 'Directory' and I want to zip the content to a Zipped file, inside the zipped file it creates a folder testZip and have files inside that.\nI need all files inside the zipped file, not inside a parent directory.\nPlease help. or suggest if there is any other way.</p>\n\n<pre><code>package folderZip;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\n\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipOutputStream;\n\npublic class ZipFolder {\n    public ZipFolder() {  \n    }  \n\n\n    public static void main(String[] args) throws Exception {\n        ZipFolder obj = new ZipFolder();\n        obj.zipFolder(\"C:\\\\Drive\\\\temp\\\\testZip\",\"C:\\\\Drive\\\\temp\\\\FolderZiper.zip\");       \n    }\n\n\n     public void zipFolder(String srcFolder,\n                                 String destZipFile) throws Exception {\n        ZipOutputStream zip = null;\n        FileOutputStream fileWriter = null;\n\n        fileWriter = new FileOutputStream(destZipFile);\n        zip = new ZipOutputStream(fileWriter);\n\n        addFolderToZip(\"\", srcFolder, zip);\n\n        zip.flush();\n        zip.close();\n\n    }\n\n    private void addFileToZip(String path, String srcFile,\n                                     ZipOutputStream zip) throws Exception {\n\n        File folder = new File(srcFile);\n        if (folder.isDirectory()) {\n            addFolderToZip(path, srcFile, zip);\n        } else {\n            byte[] buf = new byte[1024];\n            int len;\n            FileInputStream in = new FileInputStream(srcFile);\n            zip.putNextEntry(new ZipEntry(path + \"/\" + folder.getName()));\n            while ((len = in.read(buf)) &gt; 0) {\n                zip.write(buf, 0, len);\n            }\n        }\n    }\n\n    private void addFolderToZip(String path, String srcFolder,\n                                       ZipOutputStream zip) throws Exception {\n        File folder = new File(srcFolder);\n\n        for (String fileName : folder.list()) {\n            if (path.equals(\"\")) {\n                addFileToZip(folder.getName(), srcFolder + \"/\" + fileName,\n                             zip);\n            } else {\n                addFileToZip(path + \"/\" + folder.getName(),\n                             srcFolder + \"/\" + fileName, zip);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","java-8","java-time"],"comments":[{"owner":{"account_id":23407456,"reputation":263,"user_id":17469648,"display_name":"Rishi Ff"},"score":0,"creation_date":1657691545,"post_id":72960914,"comment_id":128867715,"body_markdown":"Why? because I am taking the input string through google voice input. so it needs some explicit characters.","body":"Why? because I am taking the input string through google voice input. so it needs some explicit characters."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1657697614,"post_id":72960914,"comment_id":128869330,"body_markdown":"I suggest you educate the publisher of your data about the [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) standard for date-time formats. These are used by default in the *java.time* classes.","body":"I suggest you educate the publisher of your data about the <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> standard for date-time formats. These are used by default in the <i>java.time</i> classes."}],"answers":[{"tags":[],"owner":{"account_id":7851443,"reputation":24,"user_id":5934813,"display_name":"Vuthisak Khy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1657688502,"creation_date":1657688502,"answer_id":72961160,"question_id":72960914,"body_markdown":"You passed 11:2 AM but the format is hh m A.\r\nThe format should be hh:m A but if you wanted to use format(hh m A) you should pass 11 2 AM. And LocalDate you should pass the date too. Check my answer below:\r\n\r\n```\r\nString time = &quot;2022-07-13 11:2 AM&quot;;\r\ntime = time.replace(&quot;a.m&quot;, &quot;AM&quot;);\r\ntime = time.replace(&quot;p.m&quot;, &quot;PM&quot;);\r\nSystem.out.println(&quot;Init:&quot; + time);\r\nif (time.contains(&quot;AM&quot;)) {\r\n   DateTimeFormatter dtfParse1 = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd hh:m a&quot;,\r\n                    Locale.ENGLISH);\r\n            // a second one to be used in order to format the desired result\r\n            DateTimeFormatter dtfFormat1 = DateTimeFormatter.ofPattern(&quot;hh:mm a&quot;, Locale.ENGLISH);\r\n            LocalDateTime localDate1 = LocalDateTime.parse(time, dtfParse1);\r\n            System.out.println(localDate1);\r\n            //mDatebtn.setText(day + &quot;-&quot; + month + &quot;-&quot; + year);\r\n            System.out.println(localDate1.format(dtfFormat1));\r\n            //finaltime = localDate1.format(dtfFormat1);\r\n        }\r\n```","title":"Caused by: java.time.format.DateTimeParseException: Text &#39;11 2 AM&#39; could not be parsed at index 3","body":"<p>You passed 11:2 AM but the format is hh m A.\nThe format should be hh:m A but if you wanted to use format(hh m A) you should pass 11 2 AM. And LocalDate you should pass the date too. Check my answer below:</p>\n<pre><code>String time = &quot;2022-07-13 11:2 AM&quot;;\ntime = time.replace(&quot;a.m&quot;, &quot;AM&quot;);\ntime = time.replace(&quot;p.m&quot;, &quot;PM&quot;);\nSystem.out.println(&quot;Init:&quot; + time);\nif (time.contains(&quot;AM&quot;)) {\n   DateTimeFormatter dtfParse1 = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd hh:m a&quot;,\n                    Locale.ENGLISH);\n            // a second one to be used in order to format the desired result\n            DateTimeFormatter dtfFormat1 = DateTimeFormatter.ofPattern(&quot;hh:mm a&quot;, Locale.ENGLISH);\n            LocalDateTime localDate1 = LocalDateTime.parse(time, dtfParse1);\n            System.out.println(localDate1);\n            //mDatebtn.setText(day + &quot;-&quot; + month + &quot;-&quot; + year);\n            System.out.println(localDate1.format(dtfFormat1));\n            //finaltime = localDate1.format(dtfFormat1);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19687014,"reputation":51,"user_id":14412756,"display_name":"Ritu Nambath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657690734,"creation_date":1657690734,"answer_id":72961400,"question_id":72960914,"body_markdown":"To Convert in hh:mm:a format \r\nany of the form will work for 11:22 AM or 11:2 AM\r\n\r\n \r\n\r\n     val time = &quot;11:22 AM&quot;\r\n            //  or\r\n            val time2 = &quot;11:2 AM&quot;\r\n            val parser = SimpleDateFormat(&quot;HH:mm a&quot;)\r\n            val date = parser.parse(time2) as Date\r\n            var format=parser.format(date)","title":"Caused by: java.time.format.DateTimeParseException: Text &#39;11 2 AM&#39; could not be parsed at index 3","body":"<p>To Convert in hh:mm:a format\nany of the form will work for 11:22 AM or 11:2 AM</p>\n<pre><code> val time = &quot;11:22 AM&quot;\n        //  or\n        val time2 = &quot;11:2 AM&quot;\n        val parser = SimpleDateFormat(&quot;HH:mm a&quot;)\n        val date = parser.parse(time2) as Date\n        var format=parser.format(date)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7851443,"reputation":24,"user_id":5934813,"display_name":"Vuthisak Khy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657692684,"creation_date":1657692551,"answer_id":72961644,"question_id":72960914,"body_markdown":"```\r\ntry {\r\n     String time = &quot;11 2 AM&quot;;\r\n     String parsePatter = time.contains(&quot;:&quot;) ? &quot;hh:mm a&quot; : &quot;hh m a&quot;;\r\n     SimpleDateFormat parser = new SimpleDateFormat(parsePatter);\r\n     Date date = parser.parse(time);\r\n\r\n     // Result\r\n     SimpleDateFormat resultParse = new SimpleDateFormat(&quot;hh:mm a&quot;);\r\n     String result = resultParse.format(date);\r\n     System.out.println(result); // 11:02 AM\r\n    } catch (Exception ex) {\r\n       ex.printStackTrace();\r\n    }\r\n```","title":"Caused by: java.time.format.DateTimeParseException: Text &#39;11 2 AM&#39; could not be parsed at index 3","body":"<pre><code>try {\n     String time = &quot;11 2 AM&quot;;\n     String parsePatter = time.contains(&quot;:&quot;) ? &quot;hh:mm a&quot; : &quot;hh m a&quot;;\n     SimpleDateFormat parser = new SimpleDateFormat(parsePatter);\n     Date date = parser.parse(time);\n\n     // Result\n     SimpleDateFormat resultParse = new SimpleDateFormat(&quot;hh:mm a&quot;);\n     String result = resultParse.format(date);\n     System.out.println(result); // 11:02 AM\n    } catch (Exception ex) {\n       ex.printStackTrace();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1657693029,"creation_date":1657693029,"answer_id":72961712,"question_id":72960914,"body_markdown":"If you want to parse some *time of day*, you will be needing a *`java.time.LocalTime`*, *not* a `LocalDate`.\r\n\r\nIn contrast to the old and outdated `java.util.Date`, a `LocalDate` represents a date consisting of day of month, month of year and year.\r\n\r\nYou are trying to parse a time of day, the pattern might even be working for it but you cannot create a `LocalDate` from information about hour of day, minute of hour and AM/PM. That won&#39;t be working…\r\n\r\nThe following code might be working for you:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n\t// your example input String\r\n\tString someTime = &quot;11 2 AM&quot;;\r\n\t// one dtf for parsing input\r\n\tDateTimeFormatter timeParser = DateTimeFormatter\r\n\t\t\t\t\t\t\t\t\t.ofPattern(&quot;K m a&quot;, Locale.ENGLISH);\r\n\t// another one for formatting as desired\r\n\tDateTimeFormatter timeFormatter = DateTimeFormatter\r\n\t\t\t\t\t\t\t\t\t\t.ofPattern(&quot;KK:mm a&quot;, Locale.ENGLISH);\r\n\t// parse using the parser\r\n\tLocalTime localTime = LocalTime.parse(someTime, timeParser);\r\n\t// print using the formatter\r\n\tSystem.out.println(localTime.format(timeFormatter));\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```none\r\n11:02 AM\r\n```","title":"Caused by: java.time.format.DateTimeParseException: Text &#39;11 2 AM&#39; could not be parsed at index 3","body":"<p>If you want to parse some <em>time of day</em>, you will be needing a <em><code>java.time.LocalTime</code></em>, <em>not</em> a <code>LocalDate</code>.</p>\n<p>In contrast to the old and outdated <code>java.util.Date</code>, a <code>LocalDate</code> represents a date consisting of day of month, month of year and year.</p>\n<p>You are trying to parse a time of day, the pattern might even be working for it but you cannot create a <code>LocalDate</code> from information about hour of day, minute of hour and AM/PM. That won't be working…</p>\n<p>The following code might be working for you:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    // your example input String\n    String someTime = &quot;11 2 AM&quot;;\n    // one dtf for parsing input\n    DateTimeFormatter timeParser = DateTimeFormatter\n                                    .ofPattern(&quot;K m a&quot;, Locale.ENGLISH);\n    // another one for formatting as desired\n    DateTimeFormatter timeFormatter = DateTimeFormatter\n                                        .ofPattern(&quot;KK:mm a&quot;, Locale.ENGLISH);\n    // parse using the parser\n    LocalTime localTime = LocalTime.parse(someTime, timeParser);\n    // print using the formatter\n    System.out.println(localTime.format(timeFormatter));\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>11:02 AM\n</code></pre>\n"}],"owner":{"account_id":23407456,"reputation":263,"user_id":17469648,"display_name":"Rishi Ff"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":490,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72961644,"answer_count":4,"score":-1,"last_activity_date":1657693029,"creation_date":1657686072,"question_id":72960914,"body_markdown":"I want parse the time in hh:mm:a format. but when I passed the string in hh:m:a format it gives error java.time.format.DateTimeParseException: at index 3.\r\nfor example:- when I passed the string like 11:15 AM everything is fine. but when I passed the String in 11:2 AM. It says Text &#39;11 2 AM&#39; could not be parsed at index 3.\r\n\r\nHere is my java code:-\r\n```java\r\nString time = result.get(0);\r\ntime = time.replace(&quot;a.m&quot;, &quot;AM&quot;);\r\ntime = time.replace(&quot;p.m&quot;, &quot;PM&quot;);\r\ntime = time.substring(0, time.length() - 1);\r\n\r\nmTimebtn.setText(time);\r\n\r\nif (time.contains(&quot;AM&quot;)) {\r\n    DateTimeFormatter dtfParse1 = DateTimeFormatter.ofPattern(&quot;hh m a&quot;, Locale.ENGLISH);\r\n    // a second one to be used in order to format the desired result\r\n    DateTimeFormatter dtfFormat1 =  DateTimeFormatter.ofPattern(&quot;hh:mm a&quot;, Locale.ENGLISH);\r\n    LocalDate localDate1 = LocalDate.parse(time, \r\n    mTimebtn.setText(localDate1.format(dtfFormat1));\r\n\r\n    finaltime = localDate1.format(dtfFormat1);\r\n}\r\n\r\n```\r\n","title":"Caused by: java.time.format.DateTimeParseException: Text &#39;11 2 AM&#39; could not be parsed at index 3","body":"<p>I want parse the time in hh:mm:a format. but when I passed the string in hh:m:a format it gives error java.time.format.DateTimeParseException: at index 3.\nfor example:- when I passed the string like 11:15 AM everything is fine. but when I passed the String in 11:2 AM. It says Text '11 2 AM' could not be parsed at index 3.</p>\n<p>Here is my java code:-</p>\n<pre class=\"lang-java prettyprint-override\"><code>String time = result.get(0);\ntime = time.replace(&quot;a.m&quot;, &quot;AM&quot;);\ntime = time.replace(&quot;p.m&quot;, &quot;PM&quot;);\ntime = time.substring(0, time.length() - 1);\n\nmTimebtn.setText(time);\n\nif (time.contains(&quot;AM&quot;)) {\n    DateTimeFormatter dtfParse1 = DateTimeFormatter.ofPattern(&quot;hh m a&quot;, Locale.ENGLISH);\n    // a second one to be used in order to format the desired result\n    DateTimeFormatter dtfFormat1 =  DateTimeFormatter.ofPattern(&quot;hh:mm a&quot;, Locale.ENGLISH);\n    LocalDate localDate1 = LocalDate.parse(time, \n    mTimebtn.setText(localDate1.format(dtfFormat1));\n\n    finaltime = localDate1.format(dtfFormat1);\n}\n\n</code></pre>\n"},{"tags":["java","testing","junit","scope"],"comments":[{"owner":{"account_id":236189,"reputation":2903,"user_id":503510,"accept_rate":81,"display_name":"Tintin"},"score":0,"creation_date":1657661773,"post_id":72958344,"comment_id":128862962,"body_markdown":"_I cannot use global declaration of TestInfo object in class B as I am running the tests in concurrent mode, where each test runs in its own thread and they have their own testinfo object._.        \nare you only reading `tesftInfo`  or updating them too inside your test methods?","body":"<i>I cannot use global declaration of TestInfo object in class B as I am running the tests in concurrent mode, where each test runs in its own thread and they have their own testinfo object.</i>.         are you only reading <code>tesftInfo</code>  or updating them too inside your test methods?"},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1657666414,"post_id":72958344,"comment_id":128863944,"body_markdown":"You can call A.get() once in each method and use the result 3 times, for a trivial bit of simplification.  But I&#39;d consider scrapping the getters entirely and making use of package-level access.","body":"You can call A.get() once in each method and use the result 3 times, for a trivial bit of simplification.  But I&#39;d consider scrapping the getters entirely and making use of package-level access."},{"owner":{"account_id":13881550,"reputation":1,"user_id":10021789,"display_name":"Pranitha"},"score":0,"creation_date":1657691264,"post_id":72958344,"comment_id":128867660,"body_markdown":"@Tintin I am updating them too","body":"@Tintin I am updating them too"}],"owner":{"account_id":13881550,"reputation":1,"user_id":10021789,"display_name":"Pranitha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657692790,"creation_date":1657659741,"question_id":72958344,"body_markdown":"I have two classes A and B. One is a helper and other is for Integration Tests.\r\nAs shown below, Variables in TestInfo class are shared among the test methods in B.class.\r\nI cannot use global declaration of TestInfo object in class B as I am running the tests in concurrent mode, where **each test runs in its own thread and they have their own testinfo object**.\r\n\r\nAs you can see, to **access or modify the variable from testinfo object in the test method, I need to call A.get() everytime** and declare a local variable to hold it. I have to do it in each method which looks redundant. Is there any better way where I can scope variable such that it&#39;s scope holds good for the methods inside it too?\r\n```\r\nclass TestInfo {\r\nint a;\r\nint b;\r\nint c;\r\n}\r\n\r\n\r\nclass A() {\r\nTestInfo testinfo;\r\n\r\nTestInfo get() {\r\n   return testinfo;\r\n  }\r\n}\r\n\r\n\r\nclass B() {\r\n\r\nvoid test1() {\r\nint a = A.get().getA();\r\nint b = A.get().getB();\r\nint c = A.get().getC();\r\nA.get().setA(&quot;a&quot;);\r\n\r\n}\r\n\r\nvoid test2() {\r\nint a = A.get().getA();\r\nint b = A.get().getB();\r\nint c = A.get().getC();\r\nA.get().setA(&quot;test2&quot;);\r\n\r\n}\r\n\r\nvoid test3() {\r\nint a = A.get().getA();\r\nint b = A.get().getB();\r\nint c = A.get().getC();\r\n}\r\n\r\nvoid test4() {\r\nint a = A.get().getA();\r\nint b = A.get().getB();\r\nint c = A.get().getC();\r\nA.get().setA(&quot;test4&quot;);\r\n}\r\n\r\nvoid helper_method1() {\r\nint a = A.get().getA();\r\nint b = A.get().getB();\r\nint c = A.get().getC();\r\nB.get().setB(&quot;helper&quot;);\r\n}\r\n\r\nvoid helper_method2() {\r\nint a = A.get().getA();\r\nint b = A.get().getB();\r\nint c = A.get().getC();\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n```","title":"Java - Scope of variables in JUnit test methods","body":"<p>I have two classes A and B. One is a helper and other is for Integration Tests.\nAs shown below, Variables in TestInfo class are shared among the test methods in B.class.\nI cannot use global declaration of TestInfo object in class B as I am running the tests in concurrent mode, where <strong>each test runs in its own thread and they have their own testinfo object</strong>.</p>\n<p>As you can see, to <strong>access or modify the variable from testinfo object in the test method, I need to call A.get() everytime</strong> and declare a local variable to hold it. I have to do it in each method which looks redundant. Is there any better way where I can scope variable such that it's scope holds good for the methods inside it too?</p>\n<pre><code>class TestInfo {\nint a;\nint b;\nint c;\n}\n\n\nclass A() {\nTestInfo testinfo;\n\nTestInfo get() {\n   return testinfo;\n  }\n}\n\n\nclass B() {\n\nvoid test1() {\nint a = A.get().getA();\nint b = A.get().getB();\nint c = A.get().getC();\nA.get().setA(&quot;a&quot;);\n\n}\n\nvoid test2() {\nint a = A.get().getA();\nint b = A.get().getB();\nint c = A.get().getC();\nA.get().setA(&quot;test2&quot;);\n\n}\n\nvoid test3() {\nint a = A.get().getA();\nint b = A.get().getB();\nint c = A.get().getC();\n}\n\nvoid test4() {\nint a = A.get().getA();\nint b = A.get().getB();\nint c = A.get().getC();\nA.get().setA(&quot;test4&quot;);\n}\n\nvoid helper_method1() {\nint a = A.get().getA();\nint b = A.get().getB();\nint c = A.get().getC();\nB.get().setB(&quot;helper&quot;);\n}\n\nvoid helper_method2() {\nint a = A.get().getA();\nint b = A.get().getB();\nint c = A.get().getC();\n}\n\n\n\n\n\n\n}\n</code></pre>\n"},{"tags":["java","excel","apache-poi","hssfworkbook"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1635882214,"post_id":69816064,"comment_id":123410120,"body_markdown":"If you&#39;re using external libraries, learn to use Maven or Gradle; it will make your life *much* easier.","body":"If you&#39;re using external libraries, learn to use Maven or Gradle; it will make your life <i>much</i> easier."},{"owner":{"account_id":222369,"reputation":31,"user_id":480911,"display_name":"Doug Gardiner"},"score":0,"creation_date":1635883483,"post_id":69816064,"comment_id":123410557,"body_markdown":"I wish I could.  I am stuck in a corporate situation where I only have the basic compiler to work with and no other tools.  No version control, no IDE of any sort, etc.  Just Notepad and my wits.","body":"I wish I could.  I am stuck in a corporate situation where I only have the basic compiler to work with and no other tools.  No version control, no IDE of any sort, etc.  Just Notepad and my wits."},{"owner":{"account_id":2359576,"reputation":3386,"user_id":2066598,"display_name":"kiwiwings"},"score":2,"creation_date":1635900964,"post_id":69816064,"comment_id":123414561,"body_markdown":"mixing hssf and xssf imports seems strange without knowing the details. your classpath misses a few entries. In your restricted situation, I would download the [poi bin](https://poi.apache.org/download.html) archive and [use wildcards](https://stackoverflow.com/questions/219585). An example invocation can be found [on the PPT render page](http://poi.apache.org/components/slideshow/ppt-wmf-emf-renderer.html) in &quot;Instructions to run&quot;.","body":"mixing hssf and xssf imports seems strange without knowing the details. your classpath misses a few entries. In your restricted situation, I would download the <a href=\"https://poi.apache.org/download.html\" rel=\"nofollow noreferrer\">poi bin</a> archive and <a href=\"https://stackoverflow.com/questions/219585\">use wildcards</a>. An example invocation can be found <a href=\"http://poi.apache.org/components/slideshow/ppt-wmf-emf-renderer.html\" rel=\"nofollow noreferrer\">on the PPT render page</a> in &quot;Instructions to run&quot;."},{"owner":{"account_id":222369,"reputation":31,"user_id":480911,"display_name":"Doug Gardiner"},"score":0,"creation_date":1635946656,"post_id":69816064,"comment_id":123427215,"body_markdown":"Build path now includes all libraries as a wildcard.  I also adjusted the import statement to:  [import org.apache.poi.ss.usermodel.Cell; \nimport org.apache.poi.ss.usermodel.CellStyle; \nimport org.apache.poi.ss.usermodel.DataFormat; \nimport org.apache.poi.ss.usermodel.Row; \nimport org.apache.poi.ss.usermodel.Sheet; \nimport org.apache.poi.ss.usermodel.Workbook; \nimport org.apache.poi.xssf.usermodel.XSSFRow; \nimport org.apache.poi.xssf.usermodel.XSSFSheet; \nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport org.apache.poi.xssf.usermodel.XSSFCell; ]  It builds, but same error","body":"Build path now includes all libraries as a wildcard.  I also adjusted the import statement to:  [import org.apache.poi.ss.usermodel.Cell;  import org.apache.poi.ss.usermodel.CellStyle;  import org.apache.poi.ss.usermodel.DataFormat;  import org.apache.poi.ss.usermodel.Row;  import org.apache.poi.ss.usermodel.Sheet;  import org.apache.poi.ss.usermodel.Workbook;  import org.apache.poi.xssf.usermodel.XSSFRow;  import org.apache.poi.xssf.usermodel.XSSFSheet;  import org.apache.poi.xssf.usermodel.XSSFWorkbook; import org.apache.poi.xssf.usermodel.XSSFCell; ]  It builds, but same error"}],"answers":[{"tags":[],"owner":{"account_id":2381040,"reputation":185,"user_id":2083070,"accept_rate":30,"display_name":"Vuzi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657692776,"creation_date":1657692776,"answer_id":72961669,"question_id":69816064,"body_markdown":"Faced a similar issue, using Eclipse Enterprise Enterprise, version: 2019-06 (4.12.0). I had added apache-poi 5 jars in a user library\r\n[![enter image description here][1]][1]\r\n\r\n The project compiled fine. But when I run the web application on my location machine, was getting the error  \r\n\r\n\r\nWhat I was missing in eclipse was to include the following\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/M3A9B.png\r\n  [2]: https://i.stack.imgur.com/tOt7H.png\r\n\r\nAfter this, everything was working fine","title":"Attempt to write using POI 5.0.0 give java.lang.NoClassDefFoundError: org/apache/poi/hssf/usermodel/HSSFWorkbook","body":"<p>Faced a similar issue, using Eclipse Enterprise Enterprise, version: 2019-06 (4.12.0). I had added apache-poi 5 jars in a user library\n<a href=\"https://i.stack.imgur.com/M3A9B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M3A9B.png\" alt=\"enter image description here\" /></a></p>\n<p>The project compiled fine. But when I run the web application on my location machine, was getting the error</p>\n<p>What I was missing in eclipse was to include the following</p>\n<p><a href=\"https://i.stack.imgur.com/tOt7H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tOt7H.png\" alt=\"enter image description here\" /></a></p>\n<p>After this, everything was working fine</p>\n"}],"owner":{"account_id":222369,"reputation":31,"user_id":480911,"display_name":"Doug Gardiner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":555,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657692776,"creation_date":1635881801,"question_id":69816064,"body_markdown":"So I downloaded Ant POI 5.0.0 and installed (to the best of my knowledge) it to my lib directory for use in my project.\r\n\r\nwhen I try execute the following code:\r\n\r\n    XSSFWorkbook book = new XSSFWorkbook(new FileInputStream(xlFile));\r\n\tXSSFSheet sheet = book.getSheetAt(0);\r\n\r\nI get &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError: org/apache/poi/hssf/usermodel/HSSFWorkbook&quot; but I know at least this directory and classes are there.  What other classes am I missing?  \r\n\r\nI&#39;m also using the following imports.\r\n\r\n    import org.apache.poi.hssf.usermodel.HSSFCell; \r\n    import org.apache.poi.ss.usermodel.Cell; \r\n    import org.apache.poi.ss.usermodel.CellStyle; \r\n    import org.apache.poi.ss.usermodel.DataFormat; \r\n    import org.apache.poi.ss.usermodel.Row; \r\n    import org.apache.poi.ss.usermodel.Sheet; \r\n    import org.apache.poi.ss.usermodel.Workbook; \r\n    import org.apache.poi.xssf.usermodel.XSSFRow; \r\n    import org.apache.poi.xssf.usermodel.XSSFSheet; \r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n\r\nJust for clarification, I have included my compiler command just in case I am missing something in my classpath as well.\r\n\r\njavac -g -d ..\\bin SomeApp.java -cp ..\\src;..\\lib\\poi-ooxml-5.0.0.jar;..\\lib\\poi-5.0.0.jar\r\n\r\n","title":"Attempt to write using POI 5.0.0 give java.lang.NoClassDefFoundError: org/apache/poi/hssf/usermodel/HSSFWorkbook","body":"<p>So I downloaded Ant POI 5.0.0 and installed (to the best of my knowledge) it to my lib directory for use in my project.</p>\n<p>when I try execute the following code:</p>\n<pre><code>XSSFWorkbook book = new XSSFWorkbook(new FileInputStream(xlFile));\nXSSFSheet sheet = book.getSheetAt(0);\n</code></pre>\n<p>I get &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError: org/apache/poi/hssf/usermodel/HSSFWorkbook&quot; but I know at least this directory and classes are there.  What other classes am I missing?</p>\n<p>I'm also using the following imports.</p>\n<pre><code>import org.apache.poi.hssf.usermodel.HSSFCell; \nimport org.apache.poi.ss.usermodel.Cell; \nimport org.apache.poi.ss.usermodel.CellStyle; \nimport org.apache.poi.ss.usermodel.DataFormat; \nimport org.apache.poi.ss.usermodel.Row; \nimport org.apache.poi.ss.usermodel.Sheet; \nimport org.apache.poi.ss.usermodel.Workbook; \nimport org.apache.poi.xssf.usermodel.XSSFRow; \nimport org.apache.poi.xssf.usermodel.XSSFSheet; \nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n</code></pre>\n<p>Just for clarification, I have included my compiler command just in case I am missing something in my classpath as well.</p>\n<p>javac -g -d ..\\bin SomeApp.java -cp ..\\src;..\\lib\\poi-ooxml-5.0.0.jar;..\\lib\\poi-5.0.0.jar</p>\n"},{"tags":["java","mysql","auto-generate"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1655989457,"post_id":72730493,"comment_id":128466347,"body_markdown":"Sounds like your `auto_increment` starts with 4 and increases by 10 each time","body":"Sounds like your <code>auto_increment</code> starts with 4 and increases by 10 each time"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1655989464,"post_id":72730493,"comment_id":128466348,"body_markdown":"Does this answer your question? [How is the MySQL auto\\_increment step size determined](https://stackoverflow.com/questions/8262863/how-is-the-mysql-auto-increment-step-size-determined)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/8262863/how-is-the-mysql-auto-increment-step-size-determined\">How is the MySQL auto_increment step size determined</a>"}],"owner":{"account_id":25604871,"reputation":1,"user_id":19379145,"display_name":"Syan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657692406,"creation_date":1655988741,"question_id":72730493,"body_markdown":"When I save any data, it&#39;ll save in id 4,14,24,etc. I want it to be in order like 1,2,3. Here is my code.\r\n\r\n    @Entity@Data@Table(name = &quot;user&quot;) @NoArgsConstructor @AllArgsConstructor public class User {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;idUser&quot;)\r\n    private Long idUser;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @Column(name = &quot;dob&quot;)\r\n    private Date DOB;\r\n\r\n    @Column(name = &quot;address&quot;)\r\n    private String address;\r\n\r\n    @UpdateTimestamp\r\n    @Column(name = &quot;updated_at&quot;)\r\n    private Date updatedAt;\r\n\r\n    \r\n    @Column(name= &quot;updated_by&quot;)\r\n    private String updatedBy;\r\n\r\n    @CreationTimestamp\r\n    @Column(name = &quot;created_at&quot;)\r\n    private Date createdAt;}\r\n    \r\nHere is my DTO\r\n\r\n    @Data public class UserDTO {\r\n    private long idUser;\r\n    private String name;\r\n    private Date DOB;\r\n    private String address;\r\n    private Date updated_at;\r\n    private Date created_at;}\r\n\r\nHere is my Service\r\n\r\n    @Slf4j @Service @AllArgsConstructor @NoArgsConstructor @Transactional public class UserService {\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    public User save( User request) {\r\n        return userRepository.save(request);\r\n    }}\r\n\r\nI only include some code in question so it will not be too long, but my code is like the one I use in photo. \r\nHere is the return from get:\r\n[the IDs are 4 and id 14][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YgmPT.png\r\n\r\nThank you in advance\r\n\r\n\r\n\r\n\r\nEdit: I just found that the Id starts with 4 as default from addons ClearDB from heroku that I use","title":"How to generate my My JPA MySQL Long Ids to be in order?","body":"<p>When I save any data, it'll save in id 4,14,24,etc. I want it to be in order like 1,2,3. Here is my code.</p>\n<pre><code>@Entity@Data@Table(name = &quot;user&quot;) @NoArgsConstructor @AllArgsConstructor public class User {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;idUser&quot;)\nprivate Long idUser;\n\n@Column(name = &quot;name&quot;)\nprivate String name;\n\n@Column(name = &quot;dob&quot;)\nprivate Date DOB;\n\n@Column(name = &quot;address&quot;)\nprivate String address;\n\n@UpdateTimestamp\n@Column(name = &quot;updated_at&quot;)\nprivate Date updatedAt;\n\n\n@Column(name= &quot;updated_by&quot;)\nprivate String updatedBy;\n\n@CreationTimestamp\n@Column(name = &quot;created_at&quot;)\nprivate Date createdAt;}\n</code></pre>\n<p>Here is my DTO</p>\n<pre><code>@Data public class UserDTO {\nprivate long idUser;\nprivate String name;\nprivate Date DOB;\nprivate String address;\nprivate Date updated_at;\nprivate Date created_at;}\n</code></pre>\n<p>Here is my Service</p>\n<pre><code>@Slf4j @Service @AllArgsConstructor @NoArgsConstructor @Transactional public class UserService {\n@Autowired\nprivate UserRepository userRepository;\n\npublic User save( User request) {\n    return userRepository.save(request);\n}}\n</code></pre>\n<p>I only include some code in question so it will not be too long, but my code is like the one I use in photo.\nHere is the return from get:\n<a href=\"https://i.stack.imgur.com/YgmPT.png\" rel=\"nofollow noreferrer\">the IDs are 4 and id 14</a></p>\n<p>Thank you in advance</p>\n<p>Edit: I just found that the Id starts with 4 as default from addons ClearDB from heroku that I use</p>\n"},{"tags":["java","validation","annotations"],"answers":[{"tags":[],"owner":{"account_id":4788875,"reputation":1284,"user_id":3868605,"accept_rate":62,"display_name":"alobodzk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406212243,"creation_date":1406212243,"answer_id":24936556,"question_id":24935991,"body_markdown":"You created class with isValid(..) method, it doesn&#39;t have anything to do with annotations.\r\nI understand, that you want to create annotation as a place of discovery of a validator class, if yes, just overload isValid(..) method with different types an it will work.","title":"Is it possible to overload javax validation annotations to read in multiple data types?","body":"<p>You created class with isValid(..) method, it doesn't have anything to do with annotations.\nI understand, that you want to create annotation as a place of discovery of a validator class, if yes, just overload isValid(..) method with different types an it will work.</p>\n"},{"tags":[],"owner":{"account_id":8894158,"reputation":129,"user_id":6639778,"display_name":"Shai Barak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657691673,"creation_date":1657691673,"answer_id":72961534,"question_id":24935991,"body_markdown":"For anyone still wondering the answer to this question - it is just possible to pass an array of validators to the interface and each validator will implement different data type.\r\n\r\nfor example if we make a custom @Max annotation :\r\n\r\n    @Target({ FIELD, PARAMETER })\r\n    @Retention(RUNTIME)\r\n    @Constraint(validatedBy = {CustomMaxLongValidator.class, CustomMaxIntValidator.class, CustomMaxShortValidator.class})\r\n    public @interface CustomMax {\r\n        /**\r\n         * @return value the element must be lower or equal to\r\n         */\r\n        long value();\r\n    \r\n        String message() default &quot;Custom Max Validation error&quot;;\r\n        Class&lt;?&gt;[] groups() default {};\r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\npay attention it is validated by 3 validator classes \r\n\r\n    validatedBy = {CustomMaxLongValidator.class, CustomMaxIntValidator.class, CustomMaxShortValidator.class}\r\n\r\nEach class will have it&#39;s own type \r\n\r\n    public class CustomMaxIntValidator implements ConstraintValidator&lt;CustomMax, Integer&gt;\r\n    public class CustomMaxShortValidator implements ConstraintValidator&lt;CustomMax, Short&gt;\r\n    public class CustomMaxLongValidator implements ConstraintValidator&lt;CustomMax, Long&gt;\r\n\r\nHope that helps!\r\n\r\n","title":"Is it possible to overload javax validation annotations to read in multiple data types?","body":"<p>For anyone still wondering the answer to this question - it is just possible to pass an array of validators to the interface and each validator will implement different data type.</p>\n<p>for example if we make a custom @Max annotation :</p>\n<pre><code>@Target({ FIELD, PARAMETER })\n@Retention(RUNTIME)\n@Constraint(validatedBy = {CustomMaxLongValidator.class, CustomMaxIntValidator.class, CustomMaxShortValidator.class})\npublic @interface CustomMax {\n    /**\n     * @return value the element must be lower or equal to\n     */\n    long value();\n\n    String message() default &quot;Custom Max Validation error&quot;;\n    Class&lt;?&gt;[] groups() default {};\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<p>pay attention it is validated by 3 validator classes</p>\n<pre><code>validatedBy = {CustomMaxLongValidator.class, CustomMaxIntValidator.class, CustomMaxShortValidator.class}\n</code></pre>\n<p>Each class will have it's own type</p>\n<pre><code>public class CustomMaxIntValidator implements ConstraintValidator&lt;CustomMax, Integer&gt;\npublic class CustomMaxShortValidator implements ConstraintValidator&lt;CustomMax, Short&gt;\npublic class CustomMaxLongValidator implements ConstraintValidator&lt;CustomMax, Long&gt;\n</code></pre>\n<p>Hope that helps!</p>\n"}],"owner":{"account_id":4794867,"reputation":1,"user_id":3873086,"display_name":"Cam Matthew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657691673,"creation_date":1406210805,"question_id":24935991,"body_markdown":"I&#39;m using custom validations from [javax.validator](http://docs.oracle.com/javaee/6/tutorial/doc/gircz.html); @Min, @Max. I&#39;ve made custom annotations though. Is there a way to use a single annotation for multiple datatypes?\r\n\r\n\r\nIf my annotation is roughly:\r\n\r\n        @Target( { METHOD, FIELD, ANNOTATION_TYPE })\r\n        @Retention(RUNTIME)\r\n        @Constraint(validatedBy = CustomValidator.class)\r\n        @Documented\r\n        public @interface CustomAnnotation{ /* Annotation code */ }\r\n\r\nand my validator is roughly: \r\n\r\n        public class CustomValidator implements ConstraintValidator&lt;CustomAnnotation, int&gt; {\r\n        \r\n            @Override\r\n            public void initialize(CustomAnnoation constraintAnnotation) { /* Init Code */ }\r\n        \r\n            @Override\r\n            public boolean isValid(int object, ConstraintValidatorContext constraintContext) { /* isValid Code */ }\r\n        }\r\n\r\nThis would make an annotation that only accepts int inputs. How could I overload the annotation to also accept, say doubles?\r\n","title":"Is it possible to overload javax validation annotations to read in multiple data types?","body":"<p>I'm using custom validations from <a href=\"http://docs.oracle.com/javaee/6/tutorial/doc/gircz.html\" rel=\"nofollow\">javax.validator</a>; @Min, @Max. I've made custom annotations though. Is there a way to use a single annotation for multiple datatypes?</p>\n\n<p>If my annotation is roughly:</p>\n\n<pre><code>    @Target( { METHOD, FIELD, ANNOTATION_TYPE })\n    @Retention(RUNTIME)\n    @Constraint(validatedBy = CustomValidator.class)\n    @Documented\n    public @interface CustomAnnotation{ /* Annotation code */ }\n</code></pre>\n\n<p>and my validator is roughly: </p>\n\n<pre><code>    public class CustomValidator implements ConstraintValidator&lt;CustomAnnotation, int&gt; {\n\n        @Override\n        public void initialize(CustomAnnoation constraintAnnotation) { /* Init Code */ }\n\n        @Override\n        public boolean isValid(int object, ConstraintValidatorContext constraintContext) { /* isValid Code */ }\n    }\n</code></pre>\n\n<p>This would make an annotation that only accepts int inputs. How could I overload the annotation to also accept, say doubles?</p>\n"},{"tags":["java","apache-kafka","offset","kafka-consumer-api"],"answers":[{"tags":[],"owner":{"account_id":4937688,"reputation":2667,"user_id":4802797,"accept_rate":83,"display_name":"fluency03"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1516024609,"creation_date":1516024609,"answer_id":48264461,"question_id":46546174,"body_markdown":"As it is said in the API documentation:\r\n\r\n---\r\n\r\n- [commitSync](https://kafka.apache.org/090/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html#commitSync(java.util.Map))\r\n\r\n\r\n&gt; *This is a synchronous commits and will block until either the commit succeeds or an unrecoverable error is encountered (in which case it is thrown to the caller).*\r\n\r\nThat means, the `commitSync` is a blocking method. Calling it will block your thread until it either succeeds or fails.\r\n\r\nFor example, \r\n\r\n    while (true) {\r\n        ConsumerRecords&lt;String, String&gt; records = consumer.poll(100);\r\n        for (ConsumerRecord&lt;String, String&gt; record : records) {\r\n            System.out.printf(&quot;offset = %d, key = %s, value = %s&quot;, record.offset(), record.key(), record.value());\r\n    \t\tconsumer.commitSync();\r\n        }\r\n    }\r\n\r\n\r\nFor each iteration in the for-loop, only after `consumer.commitSync()` successfully returns or interrupted with exception thrown, your code will move to the next iteration.\r\n\r\n---\r\n\r\n- [commitAsync](https://kafka.apache.org/090/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html#commitAsync(org.apache.kafka.clients.consumer.OffsetCommitCallback))\r\n\r\n\r\n&gt; *This is an asynchronous call and will not block. Any errors encountered are either passed to the callback (if provided) or discarded.*\r\n\r\n\r\nThat means, the `commitAsync` is a non-blocking method. Calling it will not block your thread. Instead, it will continue processing the following instructions, no matter whether it will succeed or fail eventually. \r\n\r\nFor example, similar to previous example, but here we use `commitAsync`:\r\n\r\n    while (true) {\r\n        ConsumerRecords&lt;String, String&gt; records = consumer.poll(100);\r\n        for (ConsumerRecord&lt;String, String&gt; record : records) {\r\n            System.out.printf(&quot;offset = %d, key = %s, value = %s&quot;, record.offset(), record.key(), record.value());\r\n    \t\tconsumer.commitAsync(callback);\r\n        }\r\n    }\r\n\r\n\r\nFor each iteration in the for-loop, no matter what will happen to `consumer.commitAsync()` eventually, your code will move to the next iteration. And, the result of the commit is going to be handled by the callback function you defined. \r\n\r\n---\r\n\r\n**Trade-offs: latency vs. data consistency**\r\n\r\n- If you have to ensure the data consistency, choose `commitSync()` because it will make sure that, before doing any further actions, you will know whether the offset commit is successful or failed. But because it is sync and blocking, you will spend more time on waiting for the commit to be finished, which leads to high latency.\r\n- If you are ok of certain data inconsistency and want to have low latency, choose `commitAsync()` because it will not wait to be finished. Instead, it will just send out the commit request and handle the response from Kafka (success or failure) later, and meanwhile, your code will continue executing. \r\n\r\nThis is all generally speaking, the actually behaviour will depend on your actual code and where you are calling the method.","title":"Kafka-consumer. commitSync vs commitAsync","body":"<p>As it is said in the API documentation:</p>\n\n<hr>\n\n<ul>\n<li><a href=\"https://kafka.apache.org/090/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html#commitSync(java.util.Map)\" rel=\"noreferrer\">commitSync</a></li>\n</ul>\n\n<blockquote>\n  <p><em>This is a synchronous commits and will block until either the commit succeeds or an unrecoverable error is encountered (in which case it is thrown to the caller).</em></p>\n</blockquote>\n\n<p>That means, the <code>commitSync</code> is a blocking method. Calling it will block your thread until it either succeeds or fails.</p>\n\n<p>For example, </p>\n\n<pre><code>while (true) {\n    ConsumerRecords&lt;String, String&gt; records = consumer.poll(100);\n    for (ConsumerRecord&lt;String, String&gt; record : records) {\n        System.out.printf(\"offset = %d, key = %s, value = %s\", record.offset(), record.key(), record.value());\n        consumer.commitSync();\n    }\n}\n</code></pre>\n\n<p>For each iteration in the for-loop, only after <code>consumer.commitSync()</code> successfully returns or interrupted with exception thrown, your code will move to the next iteration.</p>\n\n<hr>\n\n<ul>\n<li><a href=\"https://kafka.apache.org/090/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html#commitAsync(org.apache.kafka.clients.consumer.OffsetCommitCallback)\" rel=\"noreferrer\">commitAsync</a></li>\n</ul>\n\n<blockquote>\n  <p><em>This is an asynchronous call and will not block. Any errors encountered are either passed to the callback (if provided) or discarded.</em></p>\n</blockquote>\n\n<p>That means, the <code>commitAsync</code> is a non-blocking method. Calling it will not block your thread. Instead, it will continue processing the following instructions, no matter whether it will succeed or fail eventually. </p>\n\n<p>For example, similar to previous example, but here we use <code>commitAsync</code>:</p>\n\n<pre><code>while (true) {\n    ConsumerRecords&lt;String, String&gt; records = consumer.poll(100);\n    for (ConsumerRecord&lt;String, String&gt; record : records) {\n        System.out.printf(\"offset = %d, key = %s, value = %s\", record.offset(), record.key(), record.value());\n        consumer.commitAsync(callback);\n    }\n}\n</code></pre>\n\n<p>For each iteration in the for-loop, no matter what will happen to <code>consumer.commitAsync()</code> eventually, your code will move to the next iteration. And, the result of the commit is going to be handled by the callback function you defined. </p>\n\n<hr>\n\n<p><strong>Trade-offs: latency vs. data consistency</strong></p>\n\n<ul>\n<li>If you have to ensure the data consistency, choose <code>commitSync()</code> because it will make sure that, before doing any further actions, you will know whether the offset commit is successful or failed. But because it is sync and blocking, you will spend more time on waiting for the commit to be finished, which leads to high latency.</li>\n<li>If you are ok of certain data inconsistency and want to have low latency, choose <code>commitAsync()</code> because it will not wait to be finished. Instead, it will just send out the commit request and handle the response from Kafka (success or failure) later, and meanwhile, your code will continue executing. </li>\n</ul>\n\n<p>This is all generally speaking, the actually behaviour will depend on your actual code and where you are calling the method.</p>\n"},{"tags":[],"owner":{"account_id":8839010,"reputation":151,"user_id":6602033,"display_name":"Charls Joseph"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1549315197,"creation_date":1549315197,"answer_id":54524460,"question_id":46546174,"body_markdown":"Both commitSync and commitAsync uses kafka offset management feature and both has demerits. \r\nIf the message processing succeeds and commit offset failed(not atomic) and at same time partition re balancing happens, your processed message gets processed again(duplicate processing) by some other consumer. If you are okay with duplicate message processing, then you can go for commitAsync(because it doesn&#39;t block and provide low latency, and it provides a higher order commit. so you should be okay). Otherwise go for a custom offset management that takes care of atomicity while processing and updating the offset(use an external offset storage)\r\n","title":"Kafka-consumer. commitSync vs commitAsync","body":"<p>Both commitSync and commitAsync uses kafka offset management feature and both has demerits. \nIf the message processing succeeds and commit offset failed(not atomic) and at same time partition re balancing happens, your processed message gets processed again(duplicate processing) by some other consumer. If you are okay with duplicate message processing, then you can go for commitAsync(because it doesn't block and provide low latency, and it provides a higher order commit. so you should be okay). Otherwise go for a custom offset management that takes care of atomicity while processing and updating the offset(use an external offset storage)</p>\n"},{"tags":[],"owner":{"account_id":17824779,"reputation":71,"user_id":12946254,"display_name":"Moha"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1590904463,"creation_date":1590897503,"answer_id":62111376,"question_id":46546174,"body_markdown":"`commitAync` will not retry because if it retries it will make a mess.\r\n\r\nImagine that you are trying to commit offset 20 (async), and it did not commit (failed), and then the next poll block tries to commit the offset 40 (async), and it succeeded.\r\n\r\nNow, commit offset 20 is still waiting to commit, if it reties and succeed it will make a mess.\r\n\r\nThe mess is that the committed offset should be 40 not 20.","title":"Kafka-consumer. commitSync vs commitAsync","body":"<p><code>commitAync</code> will not retry because if it retries it will make a mess.</p>\n\n<p>Imagine that you are trying to commit offset 20 (async), and it did not commit (failed), and then the next poll block tries to commit the offset 40 (async), and it succeeded.</p>\n\n<p>Now, commit offset 20 is still waiting to commit, if it reties and succeed it will make a mess.</p>\n\n<p>The mess is that the committed offset should be 40 not 20.</p>\n"},{"tags":[],"owner":{"account_id":16883509,"reputation":16760,"user_id":12208910,"display_name":"Michael Heil"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1602333775,"creation_date":1602333775,"answer_id":64293563,"question_id":46546174,"body_markdown":"### Robust Retry handling with commitAsync()\r\n\r\nIn the book &quot;Kafka - The Definitive Guide&quot;, there is a hint on how to mitigate the potential problem of commiting lower offsets due to an asynchronous commit:\r\n\r\n&gt; **Retrying Async Commits**: A simple pattern to get commit order right for asynchronous retries is to use a monotonically increasing sequence number. Increase the sequence number every time you commit and add the sequence number at the time of the commit to the commitAsync callback. When you’re getting ready to send a retry, check if the commit sequence number the callback got is equal to the instance variable; if it is, there was no newer commit and it is safe to retry. If the instance sequence number is higher, don’t retry because a newer commit was already sent.\r\n\r\n\r\nThe following code depicts a possible solution:\r\n\r\n```scala\r\nimport java.util._\r\nimport java.time.Duration\r\nimport org.apache.kafka.clients.consumer.{ConsumerConfig, ConsumerRecord, KafkaConsumer, OffsetAndMetadata, OffsetCommitCallback}\r\nimport org.apache.kafka.common.{KafkaException, TopicPartition}\r\nimport collection.JavaConverters._\r\n\r\nobject AsyncCommitWithCallback extends App {\r\n\r\n  // define topic\r\n  val topic = &quot;myOutputTopic&quot;\r\n\r\n  // set properties\r\n  val props = new Properties()\r\n  props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;AsyncCommitter&quot;)\r\n  props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;)\r\n  // [set more properties...]\r\n  \r\n\r\n  // create KafkaConsumer and subscribe\r\n  val consumer = new KafkaConsumer[String, String](props)\r\n  consumer.subscribe(List(topic).asJavaCollection)\r\n\r\n  // initialize global counter\r\n  val atomicLong = new AtomicLong(0)\r\n\r\n  // consume message\r\n  try {\r\n    while(true) {\r\n      val records = consumer.poll(Duration.ofMillis(1)).asScala\r\n\r\n      if(records.nonEmpty) {\r\n        for (data &lt;- records) {\r\n          // do something with the records\r\n        }\r\n        consumer.commitAsync(new KeepOrderAsyncCommit)\r\n      }\r\n\r\n    }\r\n  } catch {\r\n    case ex: KafkaException =&gt; ex.printStackTrace()\r\n  } finally {\r\n    consumer.commitSync()\r\n    consumer.close()\r\n  }\r\n\r\n\r\n  class KeepOrderAsyncCommit extends OffsetCommitCallback {\r\n    // keeping position of this callback instance\r\n    val position = atomicLong.incrementAndGet()\r\n\r\n    override def onComplete(offsets: util.Map[TopicPartition, OffsetAndMetadata], exception: Exception): Unit = {\r\n      // retrying only if no other commit incremented the global counter\r\n      if(exception != null){\r\n        if(position == atomicLong.get) {\r\n          consumer.commitAsync(this)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n```","title":"Kafka-consumer. commitSync vs commitAsync","body":"<h3>Robust Retry handling with commitAsync()</h3>\n<p>In the book &quot;Kafka - The Definitive Guide&quot;, there is a hint on how to mitigate the potential problem of commiting lower offsets due to an asynchronous commit:</p>\n<blockquote>\n<p><strong>Retrying Async Commits</strong>: A simple pattern to get commit order right for asynchronous retries is to use a monotonically increasing sequence number. Increase the sequence number every time you commit and add the sequence number at the time of the commit to the commitAsync callback. When you’re getting ready to send a retry, check if the commit sequence number the callback got is equal to the instance variable; if it is, there was no newer commit and it is safe to retry. If the instance sequence number is higher, don’t retry because a newer commit was already sent.</p>\n</blockquote>\n<p>The following code depicts a possible solution:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>import java.util._\nimport java.time.Duration\nimport org.apache.kafka.clients.consumer.{ConsumerConfig, ConsumerRecord, KafkaConsumer, OffsetAndMetadata, OffsetCommitCallback}\nimport org.apache.kafka.common.{KafkaException, TopicPartition}\nimport collection.JavaConverters._\n\nobject AsyncCommitWithCallback extends App {\n\n  // define topic\n  val topic = &quot;myOutputTopic&quot;\n\n  // set properties\n  val props = new Properties()\n  props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;AsyncCommitter&quot;)\n  props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;)\n  // [set more properties...]\n  \n\n  // create KafkaConsumer and subscribe\n  val consumer = new KafkaConsumer[String, String](props)\n  consumer.subscribe(List(topic).asJavaCollection)\n\n  // initialize global counter\n  val atomicLong = new AtomicLong(0)\n\n  // consume message\n  try {\n    while(true) {\n      val records = consumer.poll(Duration.ofMillis(1)).asScala\n\n      if(records.nonEmpty) {\n        for (data &lt;- records) {\n          // do something with the records\n        }\n        consumer.commitAsync(new KeepOrderAsyncCommit)\n      }\n\n    }\n  } catch {\n    case ex: KafkaException =&gt; ex.printStackTrace()\n  } finally {\n    consumer.commitSync()\n    consumer.close()\n  }\n\n\n  class KeepOrderAsyncCommit extends OffsetCommitCallback {\n    // keeping position of this callback instance\n    val position = atomicLong.incrementAndGet()\n\n    override def onComplete(offsets: util.Map[TopicPartition, OffsetAndMetadata], exception: Exception): Unit = {\n      // retrying only if no other commit incremented the global counter\n      if(exception != null){\n        if(position == atomicLong.get) {\n          consumer.commitAsync(this)\n        }\n      }\n    }\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39851,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"answer_count":4,"score":24,"last_activity_date":1657691351,"creation_date":1507038441,"question_id":46546174,"body_markdown":"The quote from https://www.safaribooksonline.com/library/view/kafka-the-definitive/9781491936153/ch04.html#callout_kafka_consumers__reading_data_from_kafka_CO2-1\r\n\r\n&gt; The drawback is that while commitSync() will retry the commit until it\r\n&gt; either succeeds or encounters a non-retriable failure, commitAsync()\r\n&gt; will not retry.\r\n\r\n This phrase is not clear to me. I suppose that consumer sends commit request to broker and in case if the broker doesn&#39;t respond within some timeout it means that the commit failed. Am I wrong?\r\n\r\nCan you clarify the difference of `commitSync`  and `commitAsync` in details?  \r\nAlso, please provide use cases when which commit type should I prefer.","title":"Kafka-consumer. commitSync vs commitAsync","body":"<p>The quote from <a href=\"https://www.safaribooksonline.com/library/view/kafka-the-definitive/9781491936153/ch04.html#callout_kafka_consumers__reading_data_from_kafka_CO2-1\" rel=\"noreferrer\">https://www.safaribooksonline.com/library/view/kafka-the-definitive/9781491936153/ch04.html#callout_kafka_consumers__reading_data_from_kafka_CO2-1</a></p>\n\n<blockquote>\n  <p>The drawback is that while commitSync() will retry the commit until it\n  either succeeds or encounters a non-retriable failure, commitAsync()\n  will not retry.</p>\n</blockquote>\n\n<p>This phrase is not clear to me. I suppose that consumer sends commit request to broker and in case if the broker doesn't respond within some timeout it means that the commit failed. Am I wrong?</p>\n\n<p>Can you clarify the difference of <code>commitSync</code>  and <code>commitAsync</code> in details?<br>\nAlso, please provide use cases when which commit type should I prefer.</p>\n"},{"tags":["java","junit5","seetest","experitest"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1656941893,"post_id":72854540,"comment_id":128686851,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":25721015,"reputation":1,"user_id":19478022,"display_name":"黒崎はな"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657691026,"creation_date":1657691026,"answer_id":72961437,"question_id":72854540,"body_markdown":"I understand that Seetest itself doesn&#39;t have the ability to implement assertions.\r\n\r\nCopy the code, edit it in eclipse and write the assertion.\r\nAfter that, it worked by running it with JUnit.","title":"How to use Assertion in SeeTest","body":"<p>I understand that Seetest itself doesn't have the ability to implement assertions.</p>\n<p>Copy the code, edit it in eclipse and write the assertion.\nAfter that, it worked by running it with JUnit.</p>\n"}],"owner":{"account_id":25721015,"reputation":1,"user_id":19478022,"display_name":"黒崎はな"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72961437,"answer_count":1,"score":0,"last_activity_date":1657691026,"creation_date":1656926971,"question_id":72854540,"body_markdown":"I&#39;m currently trying to automate the testing of an Android application using SeeTest Automation.\r\n\r\nBut I don&#39;t know how to use assertions.\r\n\r\nDo I need to export SeeTest code once and add assertions in editing?","title":"How to use Assertion in SeeTest","body":"<p>I'm currently trying to automate the testing of an Android application using SeeTest Automation.</p>\n<p>But I don't know how to use assertions.</p>\n<p>Do I need to export SeeTest code once and add assertions in editing?</p>\n"},{"tags":["java","list","iterator","assertion","iterable"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1657690989,"post_id":72961264,"comment_id":128867610,"body_markdown":"If you&#39;re using Guava, you can always copy it to a list using `Lists.newArrayList()` or `ImmutableList.copyOf()`.","body":"If you&#39;re using Guava, you can always copy it to a list using <code>Lists.newArrayList()</code> or <code>ImmutableList.copyOf()</code>."}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657690711,"creation_date":1657690711,"answer_id":72961397,"question_id":72961264,"body_markdown":"Use an explicit `Iterator`:\r\n\r\n    Iterator&lt;ChangedValue&gt; changes = record.getValues().iterator();\r\n\r\n    assertTrue(changes.hasNext());\r\n    ChangedValue change = changes.next();\r\n    assertEquals(&quot;Title&quot;, change.getName());\r\n    assertEquals(&quot;old name&quot;, change.getFrom());\r\n    assertEquals(&quot;new name&quot;, change.getTo());\r\n\r\n    assertTrue(changes.hasNext());\r\n    change = changes.next();\r\n    assertEquals(&quot;Description&quot;, change.getName());\r\n    assertEquals(&quot;old description&quot;, change.getFrom());\r\n    assertEquals(&quot;new description&quot;, change.getTo());\r\n\r\n    assertFalse(changes.hasNext());","title":"What is the best way to assert items in an iterable","body":"<p>Use an explicit <code>Iterator</code>:</p>\n<pre><code>Iterator&lt;ChangedValue&gt; changes = record.getValues().iterator();\n\nassertTrue(changes.hasNext());\nChangedValue change = changes.next();\nassertEquals(&quot;Title&quot;, change.getName());\nassertEquals(&quot;old name&quot;, change.getFrom());\nassertEquals(&quot;new name&quot;, change.getTo());\n\nassertTrue(changes.hasNext());\nchange = changes.next();\nassertEquals(&quot;Description&quot;, change.getName());\nassertEquals(&quot;old description&quot;, change.getFrom());\nassertEquals(&quot;new description&quot;, change.getTo());\n\nassertFalse(changes.hasNext());\n</code></pre>\n"}],"owner":{"account_id":4504119,"reputation":1834,"user_id":3706638,"accept_rate":100,"display_name":"S.Dan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72961397,"answer_count":1,"score":0,"last_activity_date":1657690711,"creation_date":1657689529,"question_id":72961264,"body_markdown":"I&#39;ve got the following iterable `changes` (don&#39;t ask why it&#39;s not in my control). And I want to ensure there are specific items in the `changes` and I used the following: \r\n\r\n```\r\nIterable&lt;ChangedValue&gt; changes = record.getValues();\r\n\r\nassertEquals(2, Iterables.size(changes));\r\n\r\nchanges.forEach(entry -&gt; {\r\n    if (entry.getName().equals(&quot;Title&quot;)) {\r\n        assertEquals(&quot;old name&quot;, entry.getFrom());\r\n        assertEquals(&quot;new name&quot;, entry.getTo());\r\n    } else if (entry.getName().equals(&quot;Description&quot;)) {\r\n        assertEquals(&quot;old description&quot;, entry.getFrom());\r\n        assertEquals(&quot;new description&quot;, entry.getTo());\r\n    }\r\n});\r\n```\r\n\r\nThe problem with the above is that the above test case passes if the 2nd &quot;change&quot; is something else other than &quot;Description&quot;. If `changes` was a list I would&#39;ve done something like:\r\n```\r\nassertEquals(2, changes.size());\r\n\r\nassertEquals(&quot;Title&quot;, changes.get(0).getName());\r\nassertEquals(&quot;old name&quot;, changes.get(0).getFrom());\r\nassertEquals(&quot;new name&quot;, changes.get(0).getTo());\r\n\r\nassertEquals(&quot;Description&quot;, changes.get(1).getName());\r\nassertEquals(&quot;old description&quot;, changes.get(1).getFrom());\r\nassertEquals(&quot;new description&quot;, changes.get(1).getTo());\r\n\r\n```\r\n\r\nSo my question is, how can I achieve assertions similar to the above with an iterable?","title":"What is the best way to assert items in an iterable","body":"<p>I've got the following iterable <code>changes</code> (don't ask why it's not in my control). And I want to ensure there are specific items in the <code>changes</code> and I used the following:</p>\n<pre><code>Iterable&lt;ChangedValue&gt; changes = record.getValues();\n\nassertEquals(2, Iterables.size(changes));\n\nchanges.forEach(entry -&gt; {\n    if (entry.getName().equals(&quot;Title&quot;)) {\n        assertEquals(&quot;old name&quot;, entry.getFrom());\n        assertEquals(&quot;new name&quot;, entry.getTo());\n    } else if (entry.getName().equals(&quot;Description&quot;)) {\n        assertEquals(&quot;old description&quot;, entry.getFrom());\n        assertEquals(&quot;new description&quot;, entry.getTo());\n    }\n});\n</code></pre>\n<p>The problem with the above is that the above test case passes if the 2nd &quot;change&quot; is something else other than &quot;Description&quot;. If <code>changes</code> was a list I would've done something like:</p>\n<pre><code>assertEquals(2, changes.size());\n\nassertEquals(&quot;Title&quot;, changes.get(0).getName());\nassertEquals(&quot;old name&quot;, changes.get(0).getFrom());\nassertEquals(&quot;new name&quot;, changes.get(0).getTo());\n\nassertEquals(&quot;Description&quot;, changes.get(1).getName());\nassertEquals(&quot;old description&quot;, changes.get(1).getFrom());\nassertEquals(&quot;new description&quot;, changes.get(1).getTo());\n\n</code></pre>\n<p>So my question is, how can I achieve assertions similar to the above with an iterable?</p>\n"},{"tags":["java","xml","soap","xsd","xml-validation"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1657661827,"post_id":72958317,"comment_id":128862969,"body_markdown":"Are you sure about these file contents? Because i don&#39;t see the namespace &quot;m&quot; that is mentioned in the validation errors.","body":"Are you sure about these file contents? Because i don&#39;t see the namespace &quot;m&quot; that is mentioned in the validation errors."},{"owner":{"account_id":1351195,"reputation":28599,"user_id":1305969,"display_name":"zx485"},"score":0,"creation_date":1657670672,"post_id":72958317,"comment_id":128864586,"body_markdown":"Your XSD does not resemble the structure of your XML. Your XSD contains elements like `LanguageNameResponse` and `LanguageNameResult`, but your XML has some other elements, namely `LanguageName` and `sISOCode`. So, this won&#39;t validate for sure, apart from the namespace issues.","body":"Your XSD does not resemble the structure of your XML. Your XSD contains elements like <code>LanguageNameResponse</code> and <code>LanguageNameResult</code>, but your XML has some other elements, namely <code>LanguageName</code> and <code>sISOCode</code>. So, this won&#39;t validate for sure, apart from the namespace issues."}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657662388,"creation_date":1657662388,"answer_id":72958722,"question_id":72958317,"body_markdown":"The SOAP envelope and the SOAP body are in different namespaces. You need one schema document for each namespace, with appropriate `xs:import` links connecting them. Each element must be declared in the schema document with the correct `targetNamespace`.","title":"I am trying to validate XML against XMLSchema( XSD), below is the error I got for the code I have. May I know where I am going wrong?","body":"<p>The SOAP envelope and the SOAP body are in different namespaces. You need one schema document for each namespace, with appropriate <code>xs:import</code> links connecting them. Each element must be declared in the schema document with the correct <code>targetNamespace</code>.</p>\n"}],"owner":{"account_id":25488183,"reputation":3,"user_id":19283456,"display_name":"Haritha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657690666,"creation_date":1657659545,"question_id":72958317,"body_markdown":"Below is the code I have for validating XML file with XSD file.\r\n```\r\npublic class XmlXsdValidation {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tfinal String xsdPath = &quot;D://tmp/xsdFile.xsd&quot;;\r\n\t\tfinal String xmlPath = &quot;D://tmp/xmlFile.xml&quot;;\r\n\r\n\t\tFile xsdFile = new File(xsdPath);\r\n\t\tFile xmlFile = new File(xmlPath);\r\n\r\n\t\tSchemaFactory factory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\r\n\t\ttry {\r\n\t\t\tjavax.xml.validation.Schema xmlSchema = factory.newSchema(xsdFile);\r\n\t\t\tValidator validator = xmlSchema.newValidator();\r\n\t\t\tvalidator.validate(new StreamSource(xmlFile));\r\n\t\t\tSystem.out.println(&quot;Sucess....&quot;);\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\r\n\t\t} catch (SAXException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\nBelow is the xmlFile.xml content:\r\n```\r\n&lt;s11:Envelope xmlns:s11=&#39;http://schemas.xmlsoap.org/soap/envelope/&#39;&gt;\r\n  &lt;s11:Body&gt;\r\n    &lt;ns1:LanguageName xmlns:ns1=&#39;http://www.oorsprong.org/websamples.countryinfo&#39;&gt;\r\n      &lt;ns1:sISOCode&gt;abk&lt;/ns1:sISOCode&gt;\r\n    &lt;/ns1:LanguageName&gt;\r\n  &lt;/s11:Body&gt;\r\n&lt;/s11:Envelope&gt;\r\n```\r\nBelow is the xsdFile.xsd content:\r\n```\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;xsd:schema xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; targetNamespace=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; elementFormDefault=&quot;qualified&quot;&gt;\r\n    &lt;xsd:element name=&quot;Envelope&quot;&gt;\r\n        &lt;xsd:complexType mixed=&quot;true&quot;&gt;\r\n            &lt;xsd:sequence&gt;\r\n                &lt;xsd:element name=&quot;Body&quot; minOccurs=&quot;0&quot;&gt;\r\n                    &lt;xsd:complexType mixed=&quot;true&quot;&gt;\r\n                        &lt;xsd:sequence&gt;\r\n                            &lt;xsd:element name=&quot;LanguageNameResponse&quot; minOccurs=&quot;0&quot;&gt;\r\n                                &lt;xsd:complexType mixed=&quot;true&quot;&gt;\r\n                                    &lt;xsd:sequence&gt;\r\n                                        &lt;xsd:element name=&quot;LanguageNameResult&quot; minOccurs=&quot;0&quot; type=&quot;xsd:normalizedString&quot; /&gt;\r\n                                    &lt;/xsd:sequence&gt;\r\n                                &lt;/xsd:complexType&gt;\r\n                            &lt;/xsd:element&gt;\r\n                        &lt;/xsd:sequence&gt;\r\n                    &lt;/xsd:complexType&gt;\r\n                &lt;/xsd:element&gt;\r\n            &lt;/xsd:sequence&gt;\r\n        &lt;/xsd:complexType&gt;\r\n    &lt;/xsd:element&gt;\r\n&lt;/xsd:schema&gt;\r\n```\r\n\r\nOutPut( Error message):\r\nfile:/D:/tmp/xmlFile.xml; lineNumber: 3; columnNumber: 83; cvc-complex-type.2.4.a: Invalid content was found starting with element &#39;ns1:LanguageName&#39;. One of &#39;{&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;:LanguageNameResponse}&#39; is expected.\r\n\r\n\r\n\r\nWSDL file considered:\r\nhttps://www.swi-prolog.org/pack/file_details/wsdl/examples/country.wsdl","title":"I am trying to validate XML against XMLSchema( XSD), below is the error I got for the code I have. May I know where I am going wrong?","body":"<p>Below is the code I have for validating XML file with XSD file.</p>\n<pre><code>public class XmlXsdValidation {\n\n    public static void main(String[] args) {\n        final String xsdPath = &quot;D://tmp/xsdFile.xsd&quot;;\n        final String xmlPath = &quot;D://tmp/xmlFile.xml&quot;;\n\n        File xsdFile = new File(xsdPath);\n        File xmlFile = new File(xmlPath);\n\n        SchemaFactory factory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\n        try {\n            javax.xml.validation.Schema xmlSchema = factory.newSchema(xsdFile);\n            Validator validator = xmlSchema.newValidator();\n            validator.validate(new StreamSource(xmlFile));\n            System.out.println(&quot;Sucess....&quot;);\n        } catch (IOException e) {\n            e.printStackTrace();\n\n        } catch (SAXException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n}\n</code></pre>\n<p>Below is the xmlFile.xml content:</p>\n<pre><code>&lt;s11:Envelope xmlns:s11='http://schemas.xmlsoap.org/soap/envelope/'&gt;\n  &lt;s11:Body&gt;\n    &lt;ns1:LanguageName xmlns:ns1='http://www.oorsprong.org/websamples.countryinfo'&gt;\n      &lt;ns1:sISOCode&gt;abk&lt;/ns1:sISOCode&gt;\n    &lt;/ns1:LanguageName&gt;\n  &lt;/s11:Body&gt;\n&lt;/s11:Envelope&gt;\n</code></pre>\n<p>Below is the xsdFile.xsd content:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;xsd:schema xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; targetNamespace=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; elementFormDefault=&quot;qualified&quot;&gt;\n    &lt;xsd:element name=&quot;Envelope&quot;&gt;\n        &lt;xsd:complexType mixed=&quot;true&quot;&gt;\n            &lt;xsd:sequence&gt;\n                &lt;xsd:element name=&quot;Body&quot; minOccurs=&quot;0&quot;&gt;\n                    &lt;xsd:complexType mixed=&quot;true&quot;&gt;\n                        &lt;xsd:sequence&gt;\n                            &lt;xsd:element name=&quot;LanguageNameResponse&quot; minOccurs=&quot;0&quot;&gt;\n                                &lt;xsd:complexType mixed=&quot;true&quot;&gt;\n                                    &lt;xsd:sequence&gt;\n                                        &lt;xsd:element name=&quot;LanguageNameResult&quot; minOccurs=&quot;0&quot; type=&quot;xsd:normalizedString&quot; /&gt;\n                                    &lt;/xsd:sequence&gt;\n                                &lt;/xsd:complexType&gt;\n                            &lt;/xsd:element&gt;\n                        &lt;/xsd:sequence&gt;\n                    &lt;/xsd:complexType&gt;\n                &lt;/xsd:element&gt;\n            &lt;/xsd:sequence&gt;\n        &lt;/xsd:complexType&gt;\n    &lt;/xsd:element&gt;\n&lt;/xsd:schema&gt;\n</code></pre>\n<p>OutPut( Error message):\nfile:/D:/tmp/xmlFile.xml; lineNumber: 3; columnNumber: 83; cvc-complex-type.2.4.a: Invalid content was found starting with element 'ns1:LanguageName'. One of '{&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;:LanguageNameResponse}' is expected.</p>\n<p>WSDL file considered:\n<a href=\"https://www.swi-prolog.org/pack/file_details/wsdl/examples/country.wsdl\" rel=\"nofollow noreferrer\">https://www.swi-prolog.org/pack/file_details/wsdl/examples/country.wsdl</a></p>\n"},{"tags":["java","docker","maven","dockerfile"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1654251236,"post_id":72487530,"comment_id":128051688,"body_markdown":"If your build script doesn&#39;t work in Windows, there are tools like Vagrant that can help you set up a Linux VM you can use.  You can probably make the setup you describe work but as you note it&#39;s a little bit different from the way Docker is designed to be used.  There are also pretty routinely SO questions on &quot;Docker bind-mounts don&#39;t update&quot; and &quot;VPN connectivity doesn&#39;t work from inside a container&quot;.  I might either fix the build script or use a more Unixy system (Linux or MacOS) for development.","body":"If your build script doesn&#39;t work in Windows, there are tools like Vagrant that can help you set up a Linux VM you can use.  You can probably make the setup you describe work but as you note it&#39;s a little bit different from the way Docker is designed to be used.  There are also pretty routinely SO questions on &quot;Docker bind-mounts don&#39;t update&quot; and &quot;VPN connectivity doesn&#39;t work from inside a container&quot;.  I might either fix the build script or use a more Unixy system (Linux or MacOS) for development."},{"owner":{"account_id":14483402,"reputation":892,"user_id":11745788,"display_name":"WBLord"},"score":0,"creation_date":1654263258,"post_id":72487530,"comment_id":128055775,"body_markdown":"@DavidMaze Putting a full-fledged virtual machine sounds too loaded. If you have the opportunity to take a closer look, then I will be glad to contact you","body":"@DavidMaze Putting a full-fledged virtual machine sounds too loaded. If you have the opportunity to take a closer look, then I will be glad to contact you"},{"owner":{"account_id":51211,"reputation":3143,"user_id":152984,"accept_rate":52,"display_name":"CuriousMind"},"score":0,"creation_date":1657693478,"post_id":72487530,"comment_id":128868152,"body_markdown":"@WBLord did you try multi-stage build? That should help you build inside a docker container. Regarding .m2 dependencies, you can&#39;t mount host path in multi-stage build. Instead you can configure maven settings in such a way that it points to your organization repository.","body":"@WBLord did you try multi-stage build? That should help you build inside a docker container. Regarding .m2 dependencies, you can&#39;t mount host path in multi-stage build. Instead you can configure maven settings in such a way that it points to your organization repository."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657690632,"creation_date":1657690632,"answer_id":72961388,"question_id":72487530,"body_markdown":"You can perform the build with Maven inside Docker.\r\nFor that you basically trigger something like `docker build .`, and the rest is inside the Dockerfile.\r\n\r\nStart off from a container that has Maven, such as [maven][1]. \r\nAdd your whole project structure\r\nRun your build script\r\nSave your build result\r\n\r\nTo save your build result, you might want to upload it to some repository, or store it in a mounted volume that is available after the container run as well. Alternatively copy it to the next stage if you use a multistage docker build.\r\n\r\nIf you want to prevent repeated downloads of the .m2 directory or have many other dependencies in there, also mount it as volume when running the container.\r\n\r\n  [1]: https://hub.docker.com/_/maven","title":"How to make maven install in docker container","body":"<p>You can perform the build with Maven inside Docker.\nFor that you basically trigger something like <code>docker build .</code>, and the rest is inside the Dockerfile.</p>\n<p>Start off from a container that has Maven, such as <a href=\"https://hub.docker.com/_/maven\" rel=\"nofollow noreferrer\">maven</a>.\nAdd your whole project structure\nRun your build script\nSave your build result</p>\n<p>To save your build result, you might want to upload it to some repository, or store it in a mounted volume that is available after the container run as well. Alternatively copy it to the next stage if you use a multistage docker build.</p>\n<p>If you want to prevent repeated downloads of the .m2 directory or have many other dependencies in there, also mount it as volume when running the container.</p>\n"}],"owner":{"account_id":14483402,"reputation":892,"user_id":11745788,"display_name":"WBLord"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1357,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657690632,"creation_date":1654248439,"question_id":72487530,"body_markdown":"I have a multi-module project on maven. It is quite ancient and is going with a special dance with a tambourine.\r\n\r\nProject structure\r\n\r\n    root\r\n      |__api\r\n      |__build\r\n      |__flash\r\n      |__gwt\r\n      |__server\r\n      |__service\r\n      |__shared\r\n      |__target\r\n      |__toolset\r\n\r\nTo build such a project, I have a special script that needs to be executed while at the root of the project. \r\n\r\n    ./build/build_and_deploy.sh\r\n\r\nWhen building on Windows, there are a lot of problems (problems with long paths, symbols and line separators get lost, etc.), so I want to build this project in docker.\r\nAt first I wanted to connect **docker-maven-plugin** from **io.fabric8** as a plugin in maven, but as I understand it, it cannot run the build of itself in docker.\r\n\r\nSo I tried to write **Dockerfile** and ran into the following problems\r\nI don&#39;t want to copy the .m2 folder to docker, there are a lot of dependencies there, it will be quite a long time. \r\nI don&#39;t want to copy the project sources inside the container\r\nI couldn&#39;t run the script./build/build_and_deploy.sh\r\n\r\nHow I see the solution to this problem.\r\n\r\n1) Create a dockerfile, connect maven and java8 to it, and bash\r\n2) Using Volume to connect the sources and maven repository\r\n3) Because I work through VPN and the script is deployed, you need to find a solution to the problem through it (proxy/port forwarding???)\r\n\r\nIf you have experience or examples of a similar script or competent advice, then I will be glad to hear it","title":"How to make maven install in docker container","body":"<p>I have a multi-module project on maven. It is quite ancient and is going with a special dance with a tambourine.</p>\n<p>Project structure</p>\n<pre><code>root\n  |__api\n  |__build\n  |__flash\n  |__gwt\n  |__server\n  |__service\n  |__shared\n  |__target\n  |__toolset\n</code></pre>\n<p>To build such a project, I have a special script that needs to be executed while at the root of the project.</p>\n<pre><code>./build/build_and_deploy.sh\n</code></pre>\n<p>When building on Windows, there are a lot of problems (problems with long paths, symbols and line separators get lost, etc.), so I want to build this project in docker.\nAt first I wanted to connect <strong>docker-maven-plugin</strong> from <strong>io.fabric8</strong> as a plugin in maven, but as I understand it, it cannot run the build of itself in docker.</p>\n<p>So I tried to write <strong>Dockerfile</strong> and ran into the following problems\nI don't want to copy the .m2 folder to docker, there are a lot of dependencies there, it will be quite a long time.\nI don't want to copy the project sources inside the container\nI couldn't run the script./build/build_and_deploy.sh</p>\n<p>How I see the solution to this problem.</p>\n<ol>\n<li>Create a dockerfile, connect maven and java8 to it, and bash</li>\n<li>Using Volume to connect the sources and maven repository</li>\n<li>Because I work through VPN and the script is deployed, you need to find a solution to the problem through it (proxy/port forwarding???)</li>\n</ol>\n<p>If you have experience or examples of a similar script or competent advice, then I will be glad to hear it</p>\n"},{"tags":["java","optaplanner"],"answers":[{"tags":[],"owner":{"account_id":13441459,"reputation":1433,"user_id":9698517,"display_name":"Christopher Chianelli"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657030914,"creation_date":1657030914,"answer_id":72871028,"question_id":72858723,"body_markdown":"In your domain, I do not see any fields to determine the Job&#39;s date, so I am assuming all jobs share the same date. Using [Constraint Streams][1], you can model your minimum and maximum jobs constraints like so:\r\n\r\n    public class MyConstraintProvider implements ConstraintProvider {\r\n\r\n        @Override\r\n        public Constraint[] defineConstraints(ConstraintFactory constraintFactory) {\r\n            return new Constraint[] {\r\n                    minimumJobsPerDay(constraintFactory),\r\n                    maximumJobsPerDay(constraintFactory)\r\n            };\r\n        }\r\n\r\n\t    Constraint minimumJobsPerDay(ConstraintFactory constraintFactory) {\r\n\t        return constraintFactory.forEach(Inspector.class)\r\n\t\t                        .filter(inspector -&gt; inspector.getJobs().size() &lt; 10)\r\n\t\t                        .penalize(&quot;Employee performing less than minimum jobs per day&quot;,\r\n\t\t                                  HardSoftScore.ONE_HARD,\r\n\t\t                                  inspector -&gt; 10 - inspector.getJobs().size());\r\n\t    }\r\n\r\n\t    Constraint maximumJobsPerDay(ConstraintFactory constraintFactory) {\r\n\t        return constraintFactory.forEach(Inspector.class)\r\n\t\t                        .filter(inspector -&gt; inspector.getJobs().size() &gt; 30)\r\n\t\t                        .penalize(&quot;Employee performing more than maximum jobs per day&quot;,\r\n\t\t                                  HardSoftScore.ONE_HARD,\r\n\t\t                                  inspector -&gt; inspector.getJobs().size() - 30);\r\n\t    }\r\n    }\r\n\r\nFor your second question, the [Compose Constraint Collector][2] can be useful for combining constraints (although it not needed for your example). For your example (with an additional problem fact class `BusinessTrip`):\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    public class BusinessTrip {\r\n        private Employee employee;\r\n        private LocalDate start;\r\n        private LocalDate end;\r\n    }\r\n\r\nand changing Job so it has a date:\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @PlanningEntity\r\n    public class Job {\r\n    \r\n        @PlanningId\r\n        private Long id;\r\n\r\n        private LocalDate date;\r\n   \r\n        @PlanningVariable(valueRangeProviderRefs = &quot;employeeRange&quot;)\r\n        private Employee employee;\r\n    \r\n    }\r\n\r\nThe constraint can be model like so:\r\n\r\n    Constraint jobsDuringBusinessTrip(ConstraintFactory constraintFactory) {\r\n        return constraintFactory.forEach(BusinessTrip.class)\r\n            .join(Employee.class, Joiners.equal(BusinessTrip::getEmployee, employee -&gt; employee))\r\n            .join(Job.class, Joiners.overlapping(\r\n                  (trip, employee) -&gt; trip.getStart().atStartOfDay(),\r\n                  (trip, employee) -&gt; trip.getEnd().atStartOfDay(),\r\n                  job -&gt; job.getDate().atStartOfDay(),\r\n                  job -&gt; job.getDate().plusDays(1).atStartOfDay()),\r\n                  Joiners.equal((trip, employee) -&gt; employee, Job::getEmployee))\r\n            .groupBy((trip,employee,job) -&gt; trip,\r\n                     (trip,employee,job) -&gt; employee,\r\n                     ConstraintCollectors.countTri())\r\n            .filter((trip, employee, jobCount) -&gt; jobCount &lt; 20 || jobCount &gt; 60)\r\n            .penalize(&quot;Over or under job count during business trip&quot;,\r\n                      HardSoftScore.ONE_HARD);\r\n    }\r\n\r\n  [1]: https://www.optaplanner.org/docs/optaplanner/latest/constraint-streams/constraint-streams.html\r\n  [2]: https://www.optaplanner.org/docs/optaplanner/latest/constraint-streams/constraint-streams.html#collectorsComposition","title":"How to add HardConstraint for min and max count per group in OptaPlanner?","body":"<p>In your domain, I do not see any fields to determine the Job's date, so I am assuming all jobs share the same date. Using <a href=\"https://www.optaplanner.org/docs/optaplanner/latest/constraint-streams/constraint-streams.html\" rel=\"nofollow noreferrer\">Constraint Streams</a>, you can model your minimum and maximum jobs constraints like so:</p>\n<pre><code>public class MyConstraintProvider implements ConstraintProvider {\n\n    @Override\n    public Constraint[] defineConstraints(ConstraintFactory constraintFactory) {\n        return new Constraint[] {\n                minimumJobsPerDay(constraintFactory),\n                maximumJobsPerDay(constraintFactory)\n        };\n    }\n\n    Constraint minimumJobsPerDay(ConstraintFactory constraintFactory) {\n        return constraintFactory.forEach(Inspector.class)\n                            .filter(inspector -&gt; inspector.getJobs().size() &lt; 10)\n                            .penalize(&quot;Employee performing less than minimum jobs per day&quot;,\n                                      HardSoftScore.ONE_HARD,\n                                      inspector -&gt; 10 - inspector.getJobs().size());\n    }\n\n    Constraint maximumJobsPerDay(ConstraintFactory constraintFactory) {\n        return constraintFactory.forEach(Inspector.class)\n                            .filter(inspector -&gt; inspector.getJobs().size() &gt; 30)\n                            .penalize(&quot;Employee performing more than maximum jobs per day&quot;,\n                                      HardSoftScore.ONE_HARD,\n                                      inspector -&gt; inspector.getJobs().size() - 30);\n    }\n}\n</code></pre>\n<p>For your second question, the <a href=\"https://www.optaplanner.org/docs/optaplanner/latest/constraint-streams/constraint-streams.html#collectorsComposition\" rel=\"nofollow noreferrer\">Compose Constraint Collector</a> can be useful for combining constraints (although it not needed for your example). For your example (with an additional problem fact class <code>BusinessTrip</code>):</p>\n<pre><code>@Data\n@AllArgsConstructor\npublic class BusinessTrip {\n    private Employee employee;\n    private LocalDate start;\n    private LocalDate end;\n}\n</code></pre>\n<p>and changing Job so it has a date:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@PlanningEntity\npublic class Job {\n\n    @PlanningId\n    private Long id;\n\n    private LocalDate date;\n\n    @PlanningVariable(valueRangeProviderRefs = &quot;employeeRange&quot;)\n    private Employee employee;\n\n}\n</code></pre>\n<p>The constraint can be model like so:</p>\n<pre><code>Constraint jobsDuringBusinessTrip(ConstraintFactory constraintFactory) {\n    return constraintFactory.forEach(BusinessTrip.class)\n        .join(Employee.class, Joiners.equal(BusinessTrip::getEmployee, employee -&gt; employee))\n        .join(Job.class, Joiners.overlapping(\n              (trip, employee) -&gt; trip.getStart().atStartOfDay(),\n              (trip, employee) -&gt; trip.getEnd().atStartOfDay(),\n              job -&gt; job.getDate().atStartOfDay(),\n              job -&gt; job.getDate().plusDays(1).atStartOfDay()),\n              Joiners.equal((trip, employee) -&gt; employee, Job::getEmployee))\n        .groupBy((trip,employee,job) -&gt; trip,\n                 (trip,employee,job) -&gt; employee,\n                 ConstraintCollectors.countTri())\n        .filter((trip, employee, jobCount) -&gt; jobCount &lt; 20 || jobCount &gt; 60)\n        .penalize(&quot;Over or under job count during business trip&quot;,\n                  HardSoftScore.ONE_HARD);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10850257,"reputation":661,"user_id":7978231,"accept_rate":90,"display_name":"Orkhan Hasanli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657690435,"creation_date":1657690435,"answer_id":72961363,"question_id":72858723,"body_markdown":"Try this solution:\r\n\r\n```java\r\npublic class CustomConstraintProvider implements ConstraintProvider {\r\n\r\n    @Override\r\n    public Constraint[] defineConstraints(ConstraintFactory constraintFactory) {\r\n        return new Constraint[]{minNumberConflict(constraintFactory), maxNumberConflict(constraintFactory)};\r\n    }\r\n\r\n    Constraint maxNumberConflict(ConstraintFactory constraintFactory) {\r\n        return constraintFactory.forEach(Job.class).groupBy(Job::getEmployee, count()).filter((employee, count) -&gt; count &gt; 30).penalize(&quot;Max Count&quot;, HardMediumSoftScore.ONE_HARD, (employee, count) -&gt; count - 30);\r\n    }\r\n\r\n    Constraint minNumberConflict(ConstraintFactory constraintFactory) {\r\n        return constraintFactory.forEach(Job.class).groupBy(Job::getEmployee, count()).filter((employee, count) -&gt; 10 &gt; count).penalize(&quot;Min Count&quot;, HardMediumSoftScore.ONE_MEDIUM, (employee, count) -&gt; 10 - count);\r\n    }\r\n}\r\n\r\n```","title":"How to add HardConstraint for min and max count per group in OptaPlanner?","body":"<p>Try this solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomConstraintProvider implements ConstraintProvider {\n\n    @Override\n    public Constraint[] defineConstraints(ConstraintFactory constraintFactory) {\n        return new Constraint[]{minNumberConflict(constraintFactory), maxNumberConflict(constraintFactory)};\n    }\n\n    Constraint maxNumberConflict(ConstraintFactory constraintFactory) {\n        return constraintFactory.forEach(Job.class).groupBy(Job::getEmployee, count()).filter((employee, count) -&gt; count &gt; 30).penalize(&quot;Max Count&quot;, HardMediumSoftScore.ONE_HARD, (employee, count) -&gt; count - 30);\n    }\n\n    Constraint minNumberConflict(ConstraintFactory constraintFactory) {\n        return constraintFactory.forEach(Job.class).groupBy(Job::getEmployee, count()).filter((employee, count) -&gt; 10 &gt; count).penalize(&quot;Min Count&quot;, HardMediumSoftScore.ONE_MEDIUM, (employee, count) -&gt; 10 - count);\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":25648217,"reputation":65,"user_id":19415969,"display_name":"Scott A. Levinson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72871028,"answer_count":2,"score":2,"last_activity_date":1657690435,"creation_date":1656946952,"question_id":72858723,"body_markdown":"I&#39;m new in OptaPlanner.\r\n\r\nI need to divide the list of works between employees, but the number of work performed by one employee should not be less or more than the specified values.\r\nFor example, one employee cannot perform less than 10 and more than 30 jobs per day.\r\n\r\nSource code\r\n```java\r\n@Data\r\n@NoArgsConstructor\r\n@PlanningEntity\r\npublic class Job {\r\n\r\n    @PlanningId\r\n    private Long id;\r\n\r\n    @PlanningVariable(valueRangeProviderRefs = &quot;employeeRange&quot;)\r\n    private Employee employee;\r\n\r\n}\r\n\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@PlanningEntity\r\npublic class Inspector {\r\n\r\n    @PlanningId\r\n    private Long id;\r\n\r\n    @InverseRelationShadowVariable(sourceVariableName = &quot;employee&quot;)\r\n    private List&lt;Job&gt; jobs;\r\n\r\n}\r\n\r\n@Data\r\n@NoArgsConstructor\r\n@PlanningSolution\r\npublic class Plan {\r\n\r\n    @ProblemFactCollectionProperty\r\n    @ValueRangeProvider(id = &quot;employeeRange&quot;)\r\n    private List&lt;Employee&gt; employees;\r\n\r\n    @PlanningEntityCollectionProperty\r\n    private List&lt;Job&gt; jobs;\r\n\r\n    @PlanningScore\r\n    private HardSoftScore score;\r\n\r\n}\r\n```\r\n\r\nAlso another question:\r\n\r\nHow can I combine several constraints into one.\r\nFor example, one employee can perform from 10 to 30 jobs per day. A business trip lasts from 2 days and, accordingly, during this period he can perform a total of 20 to 60 jobs.\r\n\r\nI read the documentation, but I&#39;m not sure if the `count() countDistinct() min() max()` is suitable for this purpose","title":"How to add HardConstraint for min and max count per group in OptaPlanner?","body":"<p>I'm new in OptaPlanner.</p>\n<p>I need to divide the list of works between employees, but the number of work performed by one employee should not be less or more than the specified values.\nFor example, one employee cannot perform less than 10 and more than 30 jobs per day.</p>\n<p>Source code</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@NoArgsConstructor\n@PlanningEntity\npublic class Job {\n\n    @PlanningId\n    private Long id;\n\n    @PlanningVariable(valueRangeProviderRefs = &quot;employeeRange&quot;)\n    private Employee employee;\n\n}\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@PlanningEntity\npublic class Inspector {\n\n    @PlanningId\n    private Long id;\n\n    @InverseRelationShadowVariable(sourceVariableName = &quot;employee&quot;)\n    private List&lt;Job&gt; jobs;\n\n}\n\n@Data\n@NoArgsConstructor\n@PlanningSolution\npublic class Plan {\n\n    @ProblemFactCollectionProperty\n    @ValueRangeProvider(id = &quot;employeeRange&quot;)\n    private List&lt;Employee&gt; employees;\n\n    @PlanningEntityCollectionProperty\n    private List&lt;Job&gt; jobs;\n\n    @PlanningScore\n    private HardSoftScore score;\n\n}\n</code></pre>\n<p>Also another question:</p>\n<p>How can I combine several constraints into one.\nFor example, one employee can perform from 10 to 30 jobs per day. A business trip lasts from 2 days and, accordingly, during this period he can perform a total of 20 to 60 jobs.</p>\n<p>I read the documentation, but I'm not sure if the <code>count() countDistinct() min() max()</code> is suitable for this purpose</p>\n"},{"tags":["java","json","typescript","spring-boot","kotlin"],"answers":[{"tags":[],"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657690222,"creation_date":1657689849,"answer_id":72961299,"question_id":72959817,"body_markdown":"The type would be list of list of map. Following code works\r\n\r\n    val result: List&lt;List&lt;Map&lt;String,String&gt;&gt;&gt; = objectMapper.readValue(&quot;&quot;&quot;[\r\n            [\r\n                { &quot;-1&quot;: 272 },\r\n                { &quot;2&quot;: 0 },\r\n                { &quot;apple&quot;: -1 },\r\n                { &quot;apple&quot;: -1 }\r\n            ],\r\n            [\r\n                { &quot;1&quot;: 20 },\r\n                { &quot;-1&quot;: 2 },\r\n                { &quot;orange&quot;: 1 }\r\n            ]\r\n        ]\r\n    &quot;&quot;&quot;, object: TypeReference&lt;List&lt;List&lt;Map&lt;String,String&gt;&gt;&gt;&gt;(){})\r\n\r\nNote that the key in JSON is always a string. You have explicitly check whether the key is Int (may be with `toIntOrNull`).&lt;br&gt;\r\nAlso, by default, a JSON object always maps to `Map` in Java/kotlin instead of `Pair`","title":"Spring boot: How to convert a 2 dimensional array of dynamic JavaScript Objects into Kotlin","body":"<p>The type would be list of list of map. Following code works</p>\n<pre><code>val result: List&lt;List&lt;Map&lt;String,String&gt;&gt;&gt; = objectMapper.readValue(&quot;&quot;&quot;[\n        [\n            { &quot;-1&quot;: 272 },\n            { &quot;2&quot;: 0 },\n            { &quot;apple&quot;: -1 },\n            { &quot;apple&quot;: -1 }\n        ],\n        [\n            { &quot;1&quot;: 20 },\n            { &quot;-1&quot;: 2 },\n            { &quot;orange&quot;: 1 }\n        ]\n    ]\n&quot;&quot;&quot;, object: TypeReference&lt;List&lt;List&lt;Map&lt;String,String&gt;&gt;&gt;&gt;(){})\n</code></pre>\n<p>Note that the key in JSON is always a string. You have explicitly check whether the key is Int (may be with <code>toIntOrNull</code>).<br>\nAlso, by default, a JSON object always maps to <code>Map</code> in Java/kotlin instead of <code>Pair</code></p>\n"}],"owner":{"account_id":20402805,"reputation":1,"user_id":14968137,"display_name":"John M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657690222,"creation_date":1657673830,"question_id":72959817,"body_markdown":"I am trying to send this JSON object to a Spring boot application in Kotlin.\r\nIt is a 2 dimensional array of objects that each contain a key that is a string and a value that is an integer like so:\r\n```json\r\n    [\r\n            [\r\n                {\r\n                    &quot;-1&quot;: 272\r\n                },\r\n                {\r\n                    &quot;2&quot;: 0\r\n                },\r\n                {\r\n                    &quot;apple&quot;: -1\r\n                },\r\n                {\r\n                    &quot;apple&quot;: -1\r\n                }\r\n            ],\r\n            [\r\n                {\r\n                    &quot;1&quot;: 20\r\n                },\r\n                {\r\n                    &quot;-1&quot;: 2\r\n                },\r\n                {\r\n                    &quot;orange&quot;: 1\r\n                }\r\n            ]\r\n        ]\r\n```\r\nI am trying to conceptualize what kind of DTO I need to make in order to map this to an entity in the API. The object&#39;s type in the frontend is:\r\n ```typescript\r\ninterface Thing {\r\n[item: number | string]: number\r\n}\r\n```\r\nI have tried to use a Kotlin `List&lt;List&lt;Any&gt;&gt;` but I am having trouble accessing the key in order to get its value because it is dynamic. I have also tried to map this to a Kotlin `Pair&lt;Any, Integer&gt;` but Spring boot is still having trouble mapping this using ObjectMapper.\r\n\r\n","title":"Spring boot: How to convert a 2 dimensional array of dynamic JavaScript Objects into Kotlin","body":"<p>I am trying to send this JSON object to a Spring boot application in Kotlin.\nIt is a 2 dimensional array of objects that each contain a key that is a string and a value that is an integer like so:</p>\n<pre class=\"lang-json prettyprint-override\"><code>    [\n            [\n                {\n                    &quot;-1&quot;: 272\n                },\n                {\n                    &quot;2&quot;: 0\n                },\n                {\n                    &quot;apple&quot;: -1\n                },\n                {\n                    &quot;apple&quot;: -1\n                }\n            ],\n            [\n                {\n                    &quot;1&quot;: 20\n                },\n                {\n                    &quot;-1&quot;: 2\n                },\n                {\n                    &quot;orange&quot;: 1\n                }\n            ]\n        ]\n</code></pre>\n<p>I am trying to conceptualize what kind of DTO I need to make in order to map this to an entity in the API. The object's type in the frontend is:</p>\n<pre class=\"lang-js prettyprint-override\"><code>interface Thing {\n[item: number | string]: number\n}\n</code></pre>\n<p>I have tried to use a Kotlin <code>List&lt;List&lt;Any&gt;&gt;</code> but I am having trouble accessing the key in order to get its value because it is dynamic. I have also tried to map this to a Kotlin <code>Pair&lt;Any, Integer&gt;</code> but Spring boot is still having trouble mapping this using ObjectMapper.</p>\n"},{"tags":["java","json","case-insensitive"],"comments":[{"owner":{"account_id":10263065,"reputation":2310,"user_id":7573818,"display_name":"Jeremy Grand"},"score":0,"creation_date":1487592613,"post_id":42344155,"comment_id":71839656,"body_markdown":"You should try to reformulate your question as an actual question.","body":"You should try to reformulate your question as an actual question."},{"owner":{"account_id":5781672,"reputation":3514,"user_id":6402939,"accept_rate":75,"display_name":"jitendra varshney"},"score":0,"creation_date":1487592756,"post_id":42344155,"comment_id":71839742,"body_markdown":"you are not clear about your question","body":"you are not clear about your question"},{"owner":{"account_id":9518332,"reputation":9125,"user_id":7073944,"accept_rate":83,"display_name":"Vanquished Wombat"},"score":0,"creation_date":1487595016,"post_id":42344155,"comment_id":71841260,"body_markdown":"-1 from me. Your question is not well presented, clear or even a viable JSON string. Probability of a quick answer is proportional to clarity of the question.","body":"-1 from me. Your question is not well presented, clear or even a viable JSON string. Probability of a quick answer is proportional to clarity of the question."}],"answers":[{"tags":[],"owner":{"account_id":9273764,"reputation":1161,"user_id":6886968,"accept_rate":58,"display_name":"Akshay"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1487592943,"creation_date":1487592943,"answer_id":42344368,"question_id":42344155,"body_markdown":"First of all your JSON is not vaild.I believe that is your question and it will solve your other problems.\r\nTry \r\n\r\n    {\r\n    \t&quot;topic&quot;: &quot;Employee&quot;,\r\n    \t&quot;message&quot;: {\r\n    \t\t&quot;Id &quot;: &quot;IND01&quot;,\r\n    \t\t&quot;data &quot;: {\r\n    \r\n    \t\t\t&quot;salary &quot;: 50000\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThis is a valid JSON in your case.Henceforth learn the correct format of JSON and use any json validator to validate your JSON.","title":"how to read the key names from a json response as case insensitive","body":"<p>First of all your JSON is not vaild.I believe that is your question and it will solve your other problems.\nTry </p>\n\n<pre><code>{\n    \"topic\": \"Employee\",\n    \"message\": {\n        \"Id \": \"IND01\",\n        \"data \": {\n\n            \"salary \": 50000\n        }\n    }\n}\n</code></pre>\n\n<p>This is a valid JSON in your case.Henceforth learn the correct format of JSON and use any json validator to validate your JSON.</p>\n"},{"tags":[],"owner":{"account_id":10263065,"reputation":2310,"user_id":7573818,"display_name":"Jeremy Grand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487594255,"creation_date":1487593079,"answer_id":42344417,"question_id":42344155,"body_markdown":"If you can convert your json to a Map&lt;String,Object&gt;, you can remap the whole map (recursively) transforming every key to its lowercase value.\r\n\r\nSomething like :\r\n\r\n    public static Map&lt;String,Object&gt; convertToLowerCaseKeys(Map&lt;String,Object&gt; map){\r\n\t\treturn map.entrySet().stream().collect(Collectors.toMap(e -&gt; e.getKey().toLowerCase(), e -&gt; {\r\n\t\t\tif(e.getValue() != null &amp;&amp; e.getValue() instanceof Map){\r\n\t\t\t\treturn convertToLowerCaseKeys((Map&lt;String,Object&gt;)e.getValue());\r\n\t\t\t}\r\n\t\t\treturn e.getValue();\r\n\t\t}));\r\n\t}\r\n\r\nNote that the cast to Map&lt;String,Object&gt; might be a little too hasty but I&#39;ve gone with it for simplicity.\r\n\r\n\r\nEDIT : \r\n\r\nTo search for a (top-level) key while being case insensitive : \r\n\r\n    public static Object getCaseInsensitive(Map&lt;String,Object&gt; map, String key){\r\n\t\tif(key == null){\r\n\t\t\treturn map.get(null);\r\n\t\t}\r\n\t\tOptional&lt;String&gt; optional = map.keySet().stream().filter(e -&gt; e != null &amp;&amp; e.toLowerCase().equals(key.toLowerCase())).findAny();\r\n\t\tif(optional.isPresent()){\r\n\t\t\treturn map.get(optional.get());\r\n\t\t}\r\n\t\treturn null;\r\n\t}","title":"how to read the key names from a json response as case insensitive","body":"<p>If you can convert your json to a Map, you can remap the whole map (recursively) transforming every key to its lowercase value.</p>\n\n<p>Something like :</p>\n\n<pre><code>public static Map&lt;String,Object&gt; convertToLowerCaseKeys(Map&lt;String,Object&gt; map){\n    return map.entrySet().stream().collect(Collectors.toMap(e -&gt; e.getKey().toLowerCase(), e -&gt; {\n        if(e.getValue() != null &amp;&amp; e.getValue() instanceof Map){\n            return convertToLowerCaseKeys((Map&lt;String,Object&gt;)e.getValue());\n        }\n        return e.getValue();\n    }));\n}\n</code></pre>\n\n<p>Note that the cast to Map might be a little too hasty but I've gone with it for simplicity.</p>\n\n<p>EDIT : </p>\n\n<p>To search for a (top-level) key while being case insensitive : </p>\n\n<pre><code>public static Object getCaseInsensitive(Map&lt;String,Object&gt; map, String key){\n    if(key == null){\n        return map.get(null);\n    }\n    Optional&lt;String&gt; optional = map.keySet().stream().filter(e -&gt; e != null &amp;&amp; e.toLowerCase().equals(key.toLowerCase())).findAny();\n    if(optional.isPresent()){\n        return map.get(optional.get());\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19439499,"reputation":1,"user_id":14218235,"display_name":"Kevin Hwang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657689952,"creation_date":1657688715,"answer_id":72961177,"question_id":42344155,"body_markdown":"You can read names of members by getMembersNames()\r\n\r\nsee below some code\r\n\r\n    auto members = root.getMemberNames();\r\n\r\n    for(Json::Value::Members::iterator iter = members.begin();iter != members.end();iter++) {\r\n      if(_stricmp(iter-&gt;c_str(), “id”)==0)\r\n        id = root[iter-&gt;c_str()].asInt();\r\n    }\r\n","title":"how to read the key names from a json response as case insensitive","body":"<p>You can read names of members by getMembersNames()</p>\n<p>see below some code</p>\n<pre><code>auto members = root.getMemberNames();\n\nfor(Json::Value::Members::iterator iter = members.begin();iter != members.end();iter++) {\n  if(_stricmp(iter-&gt;c_str(), “id”)==0)\n    id = root[iter-&gt;c_str()].asInt();\n}\n</code></pre>\n"}],"owner":{"account_id":9302953,"reputation":19,"user_id":6907739,"display_name":"Raksh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3926,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1657689952,"creation_date":1487592340,"question_id":42344155,"body_markdown":"Below is my json format code:\r\n\r\n\t{\r\n\t\t&quot;topic&quot;: &quot;Employee&quot;,\r\n\t\t&quot;message&quot;: {\r\n\t\t\t&quot;Id&quot;: &quot;IND01&quot;,\r\n\t\t\t&quot;data&quot;: {\r\n\t\t\t\t&quot;salary&quot;: 50000\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nThe key names such as `topic`, `message`, `Id` and `data` to be read as case-insensitive. How can I get the keys from this json response body ?","title":"how to read the key names from a json response as case insensitive","body":"<p>Below is my json format code:</p>\n\n<pre><code>{\n    \"topic\": \"Employee\",\n    \"message\": {\n        \"Id\": \"IND01\",\n        \"data\": {\n            \"salary\": 50000\n        }\n    }\n}\n</code></pre>\n\n<p>The key names such as <code>topic</code>, <code>message</code>, <code>Id</code> and <code>data</code> to be read as case-insensitive. How can I get the keys from this json response body ?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1657699485,"post_id":72957963,"comment_id":128869910,"body_markdown":"[mcve] please.. that said: __never-ever- do any manual sizing or locating of components, that&#39;s the exclusive job of a layoutManager! unrelated: don&#39;t name custom classes the same as core classes","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please.. that said: __never-ever- do any manual sizing or locating of components, that&#39;s the exclusive job of a layoutManager! unrelated: don&#39;t name custom classes the same as core classes"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657688451,"creation_date":1657688451,"answer_id":72961154,"question_id":72957963,"body_markdown":"You badly need to use a LayoutManager. It is a class designed to keep your components at the correct size and position, even if windows or content need a resize.\r\n\r\nCheck this nice [Oracle tutorial on Layout Managers][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html","title":"JPanel changes its position by itself","body":"<p>You badly need to use a LayoutManager. It is a class designed to keep your components at the correct size and position, even if windows or content need a resize.</p>\n<p>Check this nice <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">Oracle tutorial on Layout Managers</a>.</p>\n"}],"owner":{"account_id":25793496,"reputation":13,"user_id":19537163,"display_name":"Forgotten NiK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72961154,"answer_count":1,"score":0,"last_activity_date":1657688464,"creation_date":1657657214,"question_id":72957963,"body_markdown":"I create a HashMap&lt;String, Panel&gt; via a method and return it to use, but one Panel(JPanel) element changes its coordinates to x0 y0 even though I don&#39;t, is this a compiler error or my code?\r\n\r\nI checked the objects during their creation, but the problem is not in the method that creates\r\n\r\nMain class:\r\n```\r\nprivate static boolean initialization() {\r\n\t\tWindow mainWindow = new Window(PROGRAM_NAME, true, -1, -1, WINDOW_MAIN_WIDTH, WINDOW_MAIN_HEIGHT);\r\n\t\tmainWindow.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tmainWindow.setResize(false);\r\n\t\tint[] size = {\r\n\t\t\t\t100,\r\n\t\t\t\t100,\r\n\t\t\t\t100,\r\n\t\t\t\t100\r\n\t\t};\r\n\t\tColor[] colors = {\r\n\t\t\t\tColor.RED,\r\n\t\t\t\tColor.BLUE,\r\n\t\t\t\tColor.YELLOW,\r\n\t\t\t\tColor.ORANGE,\r\n\t\t\t\tColor.CYAN\r\n\t\t};\r\n\t\tmainWindow.setPanels(WindowPanels.createPanels(size, colors, mainWindow));\r\n\r\n\t\tSystem.out.println(mainWindow.getPanel(&quot;down&quot;).getLocation());\r\n\t\t\r\n\t\tLabel l = new Label(&quot;Test&quot;, 0, 0);\r\n\t\tl.setColor(Color.BLACK);\r\n\t\tmainWindow.addCom(l, &quot;left&quot;);\r\n\t\t\r\n\t\tl = new Label(&quot;Test&quot;, 0, 0);\r\n\t\tl.setColor(Color.BLACK);\r\n\t\tmainWindow.addCom(l, &quot;top&quot;);\r\n\t\t\r\n\t\tl = new Label(&quot;Test&quot;, 0, 0);\r\n\t\tl.setColor(Color.BLACK);\r\n\t\tmainWindow.addCom(l, &quot;right&quot;);\r\n\t\t\r\n\t\tl = new Label(&quot;Test&quot;, 0, 0);\r\n\t\tl.setColor(Color.BLACK);\r\n\t\tmainWindow.addCom(l, &quot;down&quot;);\r\n\t\t\r\n\t\tl = new Label(&quot;Test&quot;, 0, 0);\r\n\t\tl.setColor(Color.BLACK);\r\n\t\tmainWindow.addCom(l, &quot;head&quot;);\r\n\t\t\r\n\t\tSystem.out.println(mainWindow.getPanel(&quot;down&quot;).getLocation());\r\n\t\t\r\n\t\twindows.add(mainWindow);\r\n\t\t\r\n\t\treturn true;\r\n\t}\r\n```\r\nClass with method for create:\r\n```\r\npublic class WindowPanels {\r\n\r\n\tpublic static HashMap&lt;String, Panel&gt; createPanels(int[] size, Color[] color, Window window){\r\n\t\tHashMap&lt;String, Panel&gt; panels = new HashMap&lt;String, Panel&gt;();\r\n\t\t\r\n\t\tint winWidth = window.getWidth(), winHeight = window.getHeight();\r\n\t\tint x = 0, y = 0, width = winWidth, height = winHeight;\r\n\t\t\r\n\t\tif (size[0] &gt; 0) {\r\n\t\t\tx = 0;\r\n\t\t\ty = size[1];\r\n\t\t\twidth = size[0];\r\n\t\t\theight = winHeight - size[1] - size[3];\r\n\t\t\tpanels.put(&quot;left&quot;, new Panel(color[0], x, y, width, height));\r\n\t\t} else size[0] = 0;\r\n\r\n\t\tif (size[1] &gt; 0) {\r\n\t\t\tx = 0;\r\n\t\t\ty = 0;\r\n\t\t\twidth = winWidth;\r\n\t\t\theight = size[1];\r\n\t\t\tpanels.put(&quot;top&quot;, new Panel(color[1], x, y, width, height));\r\n\t\t} else size[1] = 0;\r\n\r\n\t\tif (size[2] &gt; 0) {\r\n\t\t\tx = winWidth - size[2];\r\n\t\t\ty = size[1];\r\n\t\t\twidth = size[2];\r\n\t\t\theight = winHeight - size[1] - size[3];\r\n\t\t\tpanels.put(&quot;right&quot;, new Panel(color[2], x, y, width, height));\r\n\t\t} else size[2] = 0;\r\n\r\n\t\tif (size[3] &gt; 0) {\r\n\t\t\tx = 0;\r\n\t\t\ty = winHeight - size[3];\r\n\t\t\twidth = winWidth;\r\n\t\t\theight = size[3];\r\n\t\t\tpanels.put(&quot;down&quot;, new Panel(color[3], x, y, width, height));\r\n\t\t} else size[3] = 0;\r\n\t\t\r\n\t\tx = size[0];\r\n\t\ty = size[1];\r\n\t\twidth = winWidth - size[0] - size[2];\r\n\t\theight = winHeight - size[1] - size[3];\r\n\t\tpanels.put(&quot;head&quot;, new Panel(color[4], x, y, width, height));\r\n\t\t\r\n\t\treturn panels;\r\n\t}\r\n\t\r\n}\r\n```\r\nFrom class Panel (extends JPanel)\r\n```\r\npublic Panel(Color colorBackground, LayoutManager layout, int x, int y, int width, int height) {\r\n\t\tsuper(layout);\r\n\t\tsetBackground(colorBackground);\r\n\t\tsetBounds(x, y, width, height);\r\n\t}\r\n```\r\neven if I do this:\r\n```\r\nSystem.out.println(mainWindow.getPanel(&quot;down&quot;).getLocation());\r\nSystem.out.println(mainWindow.getPanel(&quot;down&quot;).getLocation());\r\n```\r\nit will return different values\r\n\r\n[Full code](https://drive.google.com/file/d/1wK3WoCVKYov9mfbfk2F1eBKOkVj3Unb-/view?usp=sharing)","title":"JPanel changes its position by itself","body":"<p>I create a HashMap&lt;String, Panel&gt; via a method and return it to use, but one Panel(JPanel) element changes its coordinates to x0 y0 even though I don't, is this a compiler error or my code?</p>\n<p>I checked the objects during their creation, but the problem is not in the method that creates</p>\n<p>Main class:</p>\n<pre><code>private static boolean initialization() {\n        Window mainWindow = new Window(PROGRAM_NAME, true, -1, -1, WINDOW_MAIN_WIDTH, WINDOW_MAIN_HEIGHT);\n        mainWindow.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        mainWindow.setResize(false);\n        int[] size = {\n                100,\n                100,\n                100,\n                100\n        };\n        Color[] colors = {\n                Color.RED,\n                Color.BLUE,\n                Color.YELLOW,\n                Color.ORANGE,\n                Color.CYAN\n        };\n        mainWindow.setPanels(WindowPanels.createPanels(size, colors, mainWindow));\n\n        System.out.println(mainWindow.getPanel(&quot;down&quot;).getLocation());\n        \n        Label l = new Label(&quot;Test&quot;, 0, 0);\n        l.setColor(Color.BLACK);\n        mainWindow.addCom(l, &quot;left&quot;);\n        \n        l = new Label(&quot;Test&quot;, 0, 0);\n        l.setColor(Color.BLACK);\n        mainWindow.addCom(l, &quot;top&quot;);\n        \n        l = new Label(&quot;Test&quot;, 0, 0);\n        l.setColor(Color.BLACK);\n        mainWindow.addCom(l, &quot;right&quot;);\n        \n        l = new Label(&quot;Test&quot;, 0, 0);\n        l.setColor(Color.BLACK);\n        mainWindow.addCom(l, &quot;down&quot;);\n        \n        l = new Label(&quot;Test&quot;, 0, 0);\n        l.setColor(Color.BLACK);\n        mainWindow.addCom(l, &quot;head&quot;);\n        \n        System.out.println(mainWindow.getPanel(&quot;down&quot;).getLocation());\n        \n        windows.add(mainWindow);\n        \n        return true;\n    }\n</code></pre>\n<p>Class with method for create:</p>\n<pre><code>public class WindowPanels {\n\n    public static HashMap&lt;String, Panel&gt; createPanels(int[] size, Color[] color, Window window){\n        HashMap&lt;String, Panel&gt; panels = new HashMap&lt;String, Panel&gt;();\n        \n        int winWidth = window.getWidth(), winHeight = window.getHeight();\n        int x = 0, y = 0, width = winWidth, height = winHeight;\n        \n        if (size[0] &gt; 0) {\n            x = 0;\n            y = size[1];\n            width = size[0];\n            height = winHeight - size[1] - size[3];\n            panels.put(&quot;left&quot;, new Panel(color[0], x, y, width, height));\n        } else size[0] = 0;\n\n        if (size[1] &gt; 0) {\n            x = 0;\n            y = 0;\n            width = winWidth;\n            height = size[1];\n            panels.put(&quot;top&quot;, new Panel(color[1], x, y, width, height));\n        } else size[1] = 0;\n\n        if (size[2] &gt; 0) {\n            x = winWidth - size[2];\n            y = size[1];\n            width = size[2];\n            height = winHeight - size[1] - size[3];\n            panels.put(&quot;right&quot;, new Panel(color[2], x, y, width, height));\n        } else size[2] = 0;\n\n        if (size[3] &gt; 0) {\n            x = 0;\n            y = winHeight - size[3];\n            width = winWidth;\n            height = size[3];\n            panels.put(&quot;down&quot;, new Panel(color[3], x, y, width, height));\n        } else size[3] = 0;\n        \n        x = size[0];\n        y = size[1];\n        width = winWidth - size[0] - size[2];\n        height = winHeight - size[1] - size[3];\n        panels.put(&quot;head&quot;, new Panel(color[4], x, y, width, height));\n        \n        return panels;\n    }\n    \n}\n</code></pre>\n<p>From class Panel (extends JPanel)</p>\n<pre><code>public Panel(Color colorBackground, LayoutManager layout, int x, int y, int width, int height) {\n        super(layout);\n        setBackground(colorBackground);\n        setBounds(x, y, width, height);\n    }\n</code></pre>\n<p>even if I do this:</p>\n<pre><code>System.out.println(mainWindow.getPanel(&quot;down&quot;).getLocation());\nSystem.out.println(mainWindow.getPanel(&quot;down&quot;).getLocation());\n</code></pre>\n<p>it will return different values</p>\n<p><a href=\"https://drive.google.com/file/d/1wK3WoCVKYov9mfbfk2F1eBKOkVj3Unb-/view?usp=sharing\" rel=\"nofollow noreferrer\">Full code</a></p>\n"},{"tags":["java","c#","selenium","webdriver","screenshot"],"comments":[{"owner":{"account_id":6886457,"reputation":208,"user_id":5291358,"display_name":"Muhammad USman"},"score":0,"creation_date":1457671109,"post_id":35921168,"comment_id":59521956,"body_markdown":"Check Answer i have posted. if any issue then let me know.","body":"Check Answer i have posted. if any issue then let me know."}],"answers":[{"tags":[],"owner":{"account_id":6886457,"reputation":208,"user_id":5291358,"display_name":"Muhammad USman"},"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1579032245,"creation_date":1457671083,"answer_id":35932324,"question_id":35921168,"body_markdown":"Here i have written some code to take screenshot of an Element using c#\r\n\r\n     FirefoxDriver driver = null;\r\n        private WebDriverWait wait;\r\n\r\n        // Use this function to take screenshot of an element.  \r\n\r\n    public static Bitmap GetElementScreenShot(IWebDriver driver, IWebElement element)\r\n    {\r\n        Screenshot sc = ((ITakesScreenshot)driver).GetScreenshot();\r\n        var img = Image.FromStream(new MemoryStream(sc.AsByteArray)) as Bitmap;\r\n        return img.Clone(new Rectangle(element.Location, element.Size), img.PixelFormat);\r\n    }\r\n     //testing function\r\n        public void GetIPLocation(string IPAddress)\r\n        {\r\n            try\r\n            {\r\n                if (driver == null)\r\n                    driver = new FirefoxDriver();\r\n                if (driver.Title != &quot;IP Location Finder - Geolocation&quot;)\r\n                    driver.Navigate().GoToUrl(&quot;https://www.iplocation.net/&quot;);\r\n                if (wait == null)\r\n                    wait = new WebDriverWait(driver, TimeSpan.FromSeconds(60));\r\n                var ipTextBox = wait.Until(ExpectedConditions.ElementExists(By.CssSelector(&quot;input[type=&#39;text&#39;]&quot;)));\r\n\r\n                ipTextBox.Clear();\r\n                ipTextBox.SendKeys(IPAddress);\r\n                wait.Until(ExpectedConditions.ElementExists(By.CssSelector(&quot;input[type=&#39;submit&#39;]&quot;))).Click();\r\n\r\n                foreach (IWebElement element in driver.FindElements(By.CssSelector(&quot;div&gt;.col.col_12_of_12&quot;)))\r\n                {\r\n                    if (element.FindElements(By.TagName(&quot;h4&quot;)).Count &gt; 0)\r\n                    {                          \r\n                         var img = GetElementScreenShot(driver, element);\r\n                        img.Save(&quot;test.png&quot;, System.Drawing.Imaging.ImageFormat.Png);\r\n                    }\r\n                }\r\n            }\r\n            catch (Exception)\r\n            {\r\n\r\n                throw;\r\n            }\r\n        }\r\n\r\n\r\n\r\nif any issue then let me know.","title":"How can I get screenshot of specified element using WebDriver in C#","body":"<p>Here i have written some code to take screenshot of an Element using c#</p>\n\n<pre><code> FirefoxDriver driver = null;\n    private WebDriverWait wait;\n\n    // Use this function to take screenshot of an element.  \n\npublic static Bitmap GetElementScreenShot(IWebDriver driver, IWebElement element)\n{\n    Screenshot sc = ((ITakesScreenshot)driver).GetScreenshot();\n    var img = Image.FromStream(new MemoryStream(sc.AsByteArray)) as Bitmap;\n    return img.Clone(new Rectangle(element.Location, element.Size), img.PixelFormat);\n}\n //testing function\n    public void GetIPLocation(string IPAddress)\n    {\n        try\n        {\n            if (driver == null)\n                driver = new FirefoxDriver();\n            if (driver.Title != \"IP Location Finder - Geolocation\")\n                driver.Navigate().GoToUrl(\"https://www.iplocation.net/\");\n            if (wait == null)\n                wait = new WebDriverWait(driver, TimeSpan.FromSeconds(60));\n            var ipTextBox = wait.Until(ExpectedConditions.ElementExists(By.CssSelector(\"input[type='text']\")));\n\n            ipTextBox.Clear();\n            ipTextBox.SendKeys(IPAddress);\n            wait.Until(ExpectedConditions.ElementExists(By.CssSelector(\"input[type='submit']\"))).Click();\n\n            foreach (IWebElement element in driver.FindElements(By.CssSelector(\"div&gt;.col.col_12_of_12\")))\n            {\n                if (element.FindElements(By.TagName(\"h4\")).Count &gt; 0)\n                {                          \n                     var img = GetElementScreenShot(driver, element);\n                    img.Save(\"test.png\", System.Drawing.Imaging.ImageFormat.Png);\n                }\n            }\n        }\n        catch (Exception)\n        {\n\n            throw;\n        }\n    }\n</code></pre>\n\n<p>if any issue then let me know.</p>\n"},{"tags":[],"owner":{"account_id":5581911,"reputation":9715,"user_id":4423545,"accept_rate":93,"display_name":"Andrew_STOP_RU_WAR_IN_UA"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1657687987,"creation_date":1548936208,"answer_id":54460192,"question_id":35921168,"body_markdown":"    public Bitmap MakeElemScreenshot( IWebDriver driver, WebElement elem)\r\n    {\r\n    \tScreenshot myScreenShot = ((ITakesScreenshot)driver).GetScreenshot();\r\n    \r\n        using( var screenBmp = new Bitmap(new MemoryStream(myScreenShot.AsByteArray)) )\r\n        {\r\n            return screenBmp.Clone(new Rectangle(elem.Location, elem.Size), screenBmp.PixelFormat);\r\n        }\r\n    }\r\n\r\n&quot;using&quot; -- is important construction as you need to dispose full screenshot image. You don&#39;t need to wait for garbage collector will be runned and your test will eat less memory.\r\n\r\nInstead of using `using` construction you can use `screenBmp.Dispose;` manually\r\n\r\nBy the way, it&#39;s c# code. But java&#39;s code will be almost the same.","title":"How can I get screenshot of specified element using WebDriver in C#","body":"<pre><code>public Bitmap MakeElemScreenshot( IWebDriver driver, WebElement elem)\n{\n    Screenshot myScreenShot = ((ITakesScreenshot)driver).GetScreenshot();\n\n    using( var screenBmp = new Bitmap(new MemoryStream(myScreenShot.AsByteArray)) )\n    {\n        return screenBmp.Clone(new Rectangle(elem.Location, elem.Size), screenBmp.PixelFormat);\n    }\n}\n</code></pre>\n<p>&quot;using&quot; -- is important construction as you need to dispose full screenshot image. You don't need to wait for garbage collector will be runned and your test will eat less memory.</p>\n<p>Instead of using <code>using</code> construction you can use <code>screenBmp.Dispose;</code> manually</p>\n<p>By the way, it's c# code. But java's code will be almost the same.</p>\n"}],"owner":{"account_id":6433369,"reputation":41,"user_id":4985679,"display_name":"Alex Angrybambr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10301,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":35932324,"answer_count":2,"score":2,"last_activity_date":1657687987,"creation_date":1457624967,"question_id":35921168,"body_markdown":"I have my little project written on Java and I need to rewrite it in C#.\r\n\r\nIt&#39;s almost done, but I am stuck on getting screenshot of element using Selenium webdriver. I did it in Java in the next way:\r\n\r\n        public String saveImage(){\r\n            String src = &quot;&quot;;\r\n            try{\r\n                File screenshot = ((TakesScreenshot)driver).getScreenshotAs(OutputType.FILE);\r\n                BufferedImage fullImg = ImageIO.read(screenshot);\r\n                Point point = elementToScreent.getLocation();\r\n                int eleWidth = elementToScreent.getSize().getWidth();\r\n                int eleHeight = elementToScreent.getSize().getHeight();\r\n                BufferedImage eleScreenshot= fullImg.getSubimage(point.getX(), point.getY(), eleWidth,\r\n                eleHeight);\r\n                ImageIO.write(eleScreenshot, &quot;png&quot;, screenshot);\r\n                src = path + System.currentTimeMillis() +&quot;.png&quot;;\r\n                FileUtils.copyFile(screenshot, new File(src));\r\n        }catch(Exception e){\r\n            e.printstacktrace();\r\n        }\r\n        return src;\r\n    }\r\n\r\nIt works perfect in Java, but I have no idea how to rewrite it in C#, as I am not so familiar with it.\r\n\r\nCould someone suggest some nice way to achieve the same in C#?","title":"How can I get screenshot of specified element using WebDriver in C#","body":"<p>I have my little project written on Java and I need to rewrite it in C#.</p>\n\n<p>It's almost done, but I am stuck on getting screenshot of element using Selenium webdriver. I did it in Java in the next way:</p>\n\n<pre><code>    public String saveImage(){\n        String src = \"\";\n        try{\n            File screenshot = ((TakesScreenshot)driver).getScreenshotAs(OutputType.FILE);\n            BufferedImage fullImg = ImageIO.read(screenshot);\n            Point point = elementToScreent.getLocation();\n            int eleWidth = elementToScreent.getSize().getWidth();\n            int eleHeight = elementToScreent.getSize().getHeight();\n            BufferedImage eleScreenshot= fullImg.getSubimage(point.getX(), point.getY(), eleWidth,\n            eleHeight);\n            ImageIO.write(eleScreenshot, \"png\", screenshot);\n            src = path + System.currentTimeMillis() +\".png\";\n            FileUtils.copyFile(screenshot, new File(src));\n    }catch(Exception e){\n        e.printstacktrace();\n    }\n    return src;\n}\n</code></pre>\n\n<p>It works perfect in Java, but I have no idea how to rewrite it in C#, as I am not so familiar with it.</p>\n\n<p>Could someone suggest some nice way to achieve the same in C#?</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1657687798,"post_id":72961048,"comment_id":128867052,"body_markdown":"If  `address` is null, then you can&#39;t call `getPinCode`.","body":"If  <code>address</code> is null, then you can&#39;t call <code>getPinCode</code>."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1657687942,"post_id":72961048,"comment_id":128867069,"body_markdown":"Also, this question has been asked before. Check answers for how to handle NPE and answers for Java streams. The answer you seek has been asked before. It is a matter of time before this question is closed for being a duplicate.","body":"Also, this question has been asked before. Check answers for how to handle NPE and answers for Java streams. The answer you seek has been asked before. It is a matter of time before this question is closed for being a duplicate."},{"owner":{"display_name":"user19430224"},"score":0,"creation_date":1657688373,"post_id":72961048,"comment_id":128867142,"body_markdown":"https://stackoverflow.com/questions/42424191/java-8-applying-stream-filter-based-on-a-condition","body":"<a href=\"https://stackoverflow.com/questions/42424191/java-8-applying-stream-filter-based-on-a-condition\" title=\"java 8 applying stream filter based on a condition\">stackoverflow.com/questions/42424191/&hellip;</a>"},{"owner":{"account_id":4820760,"reputation":43,"user_id":3891511,"display_name":"user3891511"},"score":0,"creation_date":1657693512,"post_id":72961048,"comment_id":128868159,"body_markdown":"Thanks for you response. But what I was asking is for the list which we are iterating using stream api. If that is null and we have to check, what is the best way to do this. I can think of one way which is:\n//before calling stream on employees.addresses first do a null check and if null return empty stream otherwise sirectly use the stream to do the filter and throw exception.\nStream addressStream;\nif(employees==null || employess.getAddresses()==null) {\nreturn Stream.empty();\n} else {","body":"Thanks for you response. But what I was asking is for the list which we are iterating using stream api. If that is null and we have to check, what is the best way to do this. I can think of one way which is: //before calling stream on employees.addresses first do a null check and if null return empty stream otherwise sirectly use the stream to do the filter and throw exception. Stream addressStream; if(employees==null || employess.getAddresses()==null) { return Stream.empty(); } else {"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1657705870,"post_id":72961048,"comment_id":128872102,"body_markdown":"The best way is not to let these things become `null`. Since `getAddresses()` returns a list, its default value should be an empty list, not `null`. It’s not clear what type `employees` has, but it’s always better not to let things be `null` in the first place, rather than clutter all subsequent processing with `null` checks.","body":"The best way is not to let these things become <code>null</code>. Since <code>getAddresses()</code> returns a list, its default value should be an empty list, not <code>null</code>. It’s not clear what type <code>employees</code> has, but it’s always better not to let things be <code>null</code> in the first place, rather than clutter all subsequent processing with <code>null</code> checks."}],"owner":{"account_id":4820760,"reputation":43,"user_id":3891511,"display_name":"user3891511"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1657688398,"answer_count":0,"score":0,"last_activity_date":1657687427,"creation_date":1657687427,"question_id":72961048,"body_markdown":"Here is the sample code which I am trying to execute:\r\nConsider a list of Employees with List of Address.\r\n\r\n    employees.getAddresses.stream()\r\n    .filter(address -&gt; address.getPincode!=null).findFirst()\r\n    .orElseThrow(() {\r\n    \tlogger.error(&quot;Error message&quot;);//logging error message\r\n    \tCustomException() exception = new CustomException();//constructing custom exception \r\n    \treturn exception;\r\n    \t});\r\n\r\nBut in the above code, if employees/addresses is null, it will throw NPE.I want to add a null check to employees and adresses field too and throw the same error which I am throwing in orElseThow block. is there a clean way of doing it. Is it possible to use the same &quot;orElseThrow&quot; for this null check.","title":"Null safe check for Java 8 Streams","body":"<p>Here is the sample code which I am trying to execute:\nConsider a list of Employees with List of Address.</p>\n<pre><code>employees.getAddresses.stream()\n.filter(address -&gt; address.getPincode!=null).findFirst()\n.orElseThrow(() {\n    logger.error(&quot;Error message&quot;);//logging error message\n    CustomException() exception = new CustomException();//constructing custom exception \n    return exception;\n    });\n</code></pre>\n<p>But in the above code, if employees/addresses is null, it will throw NPE.I want to add a null check to employees and adresses field too and throw the same error which I am throwing in orElseThow block. is there a clean way of doing it. Is it possible to use the same &quot;orElseThrow&quot; for this null check.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1657693007,"post_id":72960855,"comment_id":128868031,"body_markdown":"Without seeing the code for `TrackCoach` this is impossible to answer. There is no need for a default constructor from Spring. Also the `&lt;init&gt;()` you see is the default constructor that isn&#39;t available, so something needs it. We don&#39;t know what because we don&#39;t now the `TrackCoach` class nor do we have the **full stacktrace**.","body":"Without seeing the code for <code>TrackCoach</code> this is impossible to answer. There is no need for a default constructor from Spring. Also the <code>&lt;init&gt;()</code> you see is the default constructor that isn&#39;t available, so something needs it. We don&#39;t know what because we don&#39;t now the <code>TrackCoach</code> class nor do we have the <b>full stacktrace</b>."}],"answers":[{"tags":[],"owner":{"account_id":4770958,"reputation":380,"user_id":3855723,"display_name":"Rakesh Singh Balhara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657685870,"creation_date":1657685870,"answer_id":72960891,"question_id":72960855,"body_markdown":"A no-args constructor is needed when we use @entity annotation. Is it mandatory?\r\n\r\nThis has to do with how an ORM vendor has made the framework and what requirements he has made for it to work. Specifically for Hibernate yes it is mandatory.\r\n\r\nRead Hibernate docs\r\nhttps://docs.jboss.org/hibernate/orm/5.5/quickstart/html_single/#hibernate-gsg-tutorial-basic-entity\r\n\r\n2.2. The entity Java class\r\n\r\nThe no-argument constructor, which is also a JavaBean convention, is a requirement for all persistent classes. Hibernate needs to create objects for you, using Java Reflection. The constructor can be private. However, package or public visibility is required for runtime proxy generation and efficient data retrieval without bytecode instrumentation.","title":"Is no-arg constructor(ignore default constructor as I have some arguments constructor) necessary for init method to work in Spring?","body":"<p>A no-args constructor is needed when we use @entity annotation. Is it mandatory?</p>\n<p>This has to do with how an ORM vendor has made the framework and what requirements he has made for it to work. Specifically for Hibernate yes it is mandatory.</p>\n<p>Read Hibernate docs\n<a href=\"https://docs.jboss.org/hibernate/orm/5.5/quickstart/html_single/#hibernate-gsg-tutorial-basic-entity\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/5.5/quickstart/html_single/#hibernate-gsg-tutorial-basic-entity</a></p>\n<p>2.2. The entity Java class</p>\n<p>The no-argument constructor, which is also a JavaBean convention, is a requirement for all persistent classes. Hibernate needs to create objects for you, using Java Reflection. The constructor can be private. However, package or public visibility is required for runtime proxy generation and efficient data retrieval without bytecode instrumentation.</p>\n"}],"owner":{"account_id":15689183,"reputation":55,"user_id":11320852,"display_name":"krr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":257,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1657687101,"creation_date":1657685474,"question_id":72960855,"body_markdown":"In Spring, is a no-arg constructor necessary for init method to work(consider I have a constructor of one argument so default constructor does not come in the picture) because for me it is not working if I don&#39;t put a no-arg constructor. The exception is `No default constructor found; nested exception is java.lang.NoSuchMethodException: com.luv2code.springdemo.TrackCoach.&lt;init&gt;()`","title":"Is no-arg constructor(ignore default constructor as I have some arguments constructor) necessary for init method to work in Spring?","body":"<p>In Spring, is a no-arg constructor necessary for init method to work(consider I have a constructor of one argument so default constructor does not come in the picture) because for me it is not working if I don't put a no-arg constructor. The exception is <code>No default constructor found; nested exception is java.lang.NoSuchMethodException: com.luv2code.springdemo.TrackCoach.&lt;init&gt;()</code></p>\n"},{"tags":["java","for-loop","arraylist"],"comments":[{"owner":{"account_id":4774094,"reputation":122,"user_id":3857808,"display_name":"Ishadi Jayasinghe"},"score":0,"creation_date":1657594543,"post_id":72946522,"comment_id":128842147,"body_markdown":"Hi Dulaj. Could you please explain your question a bit more. I&#39;m not sure I understood you right. Is it like you want the index of a specific data item (309) in the arrayList?","body":"Hi Dulaj. Could you please explain your question a bit more. I&#39;m not sure I understood you right. Is it like you want the index of a specific data item (309) in the arrayList?"},{"owner":{"account_id":25785713,"reputation":1,"user_id":19530575,"display_name":"Dulaj"},"score":0,"creation_date":1657595083,"post_id":72946522,"comment_id":128842211,"body_markdown":"Yes Ishadi. The for loop returns 309 which are 3 indexes of the arraylist. I need that 309 outside the loop","body":"Yes Ishadi. The for loop returns 309 which are 3 indexes of the arraylist. I need that 309 outside the loop"}],"answers":[{"tags":[],"owner":{"account_id":4774094,"reputation":122,"user_id":3857808,"display_name":"Ishadi Jayasinghe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657686235,"creation_date":1657595380,"answer_id":72946625,"question_id":72946522,"body_markdown":"Something basic like below might work for you. But if it&#39;s for a larger set of indexes, you can use a StringBuilder. \r\n    \r\n    String result = &quot;&quot;;\r\n\r\n    for(int i = 4; i&lt;7; i++)  {\r\n        result = result+idNumber.get(i);\r\n    }\r\n    Integer.valueOf(result);","title":"How to call values of ArrayList inside for loop, from outside the loop JAVA?","body":"<p>Something basic like below might work for you. But if it's for a larger set of indexes, you can use a StringBuilder.</p>\n<pre><code>String result = &quot;&quot;;\n\nfor(int i = 4; i&lt;7; i++)  {\n    result = result+idNumber.get(i);\n}\nInteger.valueOf(result);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657598742,"creation_date":1657598742,"answer_id":72946912,"question_id":72946522,"body_markdown":"I believe the following achieves what you want.\r\n```java\r\nArrayList&lt;Integer&gt; idNumber = new ArrayList(12);    //creat arraylist  \r\nidNumber.add(1);\r\nidNumber.add(9);\r\nidNumber.add(9);\r\nidNumber.add(9);\r\nidNumber.add(3);\r\nidNumber.add(0);\r\nidNumber.add(9);\r\nidNumber.add(0);\r\nidNumber.add(4);\r\nidNumber.add(6);\r\nidNumber.add(7);\r\nidNumber.add(0);\r\n\r\nSystem.out.println(idNumber);  \r\nint amount = 0;\r\nfor(int i = 4; i &lt; 7; i++) {\r\n    amount = amount * 10 + idNumber.get(i);\r\n}\r\nSystem.out.print(amount);  \r\n```\r\nRunning the above code prints 309.\r\n\r\nAlternatively, you could use the [stream API][1]\r\n```java\r\n// import java.util.stream.Collectors;\r\n\r\nInteger value = idNumber.stream()\r\n                        .skip(4)\r\n                        .limit(3)\r\n                        .collect(Collectors.reducing(Integer.valueOf(0), (a, i) -&gt; a * 10 + i));\r\nSystem.out.println(value);\r\n```\r\nYou can see the complete code here: https://www.jdoodle.com/iembed/v0/t8k\r\n\r\n\r\n  [1]: https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html","title":"How to call values of ArrayList inside for loop, from outside the loop JAVA?","body":"<p>I believe the following achieves what you want.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;Integer&gt; idNumber = new ArrayList(12);    //creat arraylist  \nidNumber.add(1);\nidNumber.add(9);\nidNumber.add(9);\nidNumber.add(9);\nidNumber.add(3);\nidNumber.add(0);\nidNumber.add(9);\nidNumber.add(0);\nidNumber.add(4);\nidNumber.add(6);\nidNumber.add(7);\nidNumber.add(0);\n\nSystem.out.println(idNumber);  \nint amount = 0;\nfor(int i = 4; i &lt; 7; i++) {\n    amount = amount * 10 + idNumber.get(i);\n}\nSystem.out.print(amount);  \n</code></pre>\n<p>Running the above code prints 309.</p>\n<p>Alternatively, you could use the <a href=\"https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html\" rel=\"nofollow noreferrer\">stream API</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>// import java.util.stream.Collectors;\n\nInteger value = idNumber.stream()\n                        .skip(4)\n                        .limit(3)\n                        .collect(Collectors.reducing(Integer.valueOf(0), (a, i) -&gt; a * 10 + i));\nSystem.out.println(value);\n</code></pre>\n<p>You can see the complete code here: <a href=\"https://www.jdoodle.com/iembed/v0/t8k\" rel=\"nofollow noreferrer\">https://www.jdoodle.com/iembed/v0/t8k</a></p>\n"}],"owner":{"account_id":25785713,"reputation":1,"user_id":19530575,"display_name":"Dulaj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1657686235,"creation_date":1657594075,"question_id":72946522,"body_markdown":"I&#39;m new to programming. I was coding this Java `ArrayList`. I need the array of values which I get from a `for` loop to get outside of the loop to make more calculations. How can I get it done?\r\nHere I need 309 as an `int` outside the loop.\r\n```java\r\nArrayList&lt;Integer&gt; idNumber = new ArrayList(12);    //creat arraylist  \r\nidNumber.add(1);\r\nidNumber.add(9);\r\nidNumber.add(9);\r\nidNumber.add(9);\r\nidNumber.add(3);\r\nidNumber.add(0);\r\nidNumber.add(9);\r\nidNumber.add(0);\r\nidNumber.add(4);\r\nidNumber.add(6);\r\nidNumber.add(7);\r\nidNumber.add(0);\r\n\r\nSystem.out.println(idNumber);  \r\n\r\nfor(int i = 4; i &lt; 7; i++) {\r\n    System.out.print(idNumber.get(i));  \r\n}\r\n```\r\n","title":"How to call values of ArrayList inside for loop, from outside the loop JAVA?","body":"<p>I'm new to programming. I was coding this Java <code>ArrayList</code>. I need the array of values which I get from a <code>for</code> loop to get outside of the loop to make more calculations. How can I get it done?\nHere I need 309 as an <code>int</code> outside the loop.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;Integer&gt; idNumber = new ArrayList(12);    //creat arraylist  \nidNumber.add(1);\nidNumber.add(9);\nidNumber.add(9);\nidNumber.add(9);\nidNumber.add(3);\nidNumber.add(0);\nidNumber.add(9);\nidNumber.add(0);\nidNumber.add(4);\nidNumber.add(6);\nidNumber.add(7);\nidNumber.add(0);\n\nSystem.out.println(idNumber);  \n\nfor(int i = 4; i &lt; 7; i++) {\n    System.out.print(idNumber.get(i));  \n}\n</code></pre>\n"},{"tags":["java","spring-boot","gradle"],"comments":[{"owner":{"account_id":10098519,"reputation":5323,"user_id":7463126,"display_name":"Alan Bateman"},"score":3,"creation_date":1556781472,"post_id":55918972,"comment_id":98547399,"body_markdown":"The deprecated Unsafe.defineClass was removed in JDK 9, the recommendation is to use Lookup.defineClass. See the JDK 9 release note: https://www.oracle.com/technetwork/java/javase/9-deprecated-features-3745636.html#JDK-8181442","body":"The deprecated Unsafe.defineClass was removed in JDK 9, the recommendation is to use Lookup.defineClass. See the JDK 9 release note: <a href=\"https://www.oracle.com/technetwork/java/javase/9-deprecated-features-3745636.html#JDK-8181442\" rel=\"nofollow noreferrer\">oracle.com/technetwork/java/javase/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7620717,"reputation":742,"user_id":5778814,"display_name":"cmoetzing"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1556621360,"creation_date":1556621360,"answer_id":55919349,"question_id":55918972,"body_markdown":"Did you specify the module dependency mentioned [here](https://stackoverflow.com/questions/46778690/is-sun-misc-unsafe-become-public-in-jdk9)? Since JDK 9 the Unsafe API seems to be hidden.\r\n\r\nThus, adding \r\n\r\n    module jdk.unsupported {\r\n        exports sun.misc;\r\n        opens sun.misc;\r\n        ...\r\n    }\r\n\r\nto your project might help.","title":"Unable to find method sun.misc.Unsafe.defineClass","body":"<p>Did you specify the module dependency mentioned <a href=\"https://stackoverflow.com/questions/46778690/is-sun-misc-unsafe-become-public-in-jdk9\">here</a>? Since JDK 9 the Unsafe API seems to be hidden.</p>\n\n<p>Thus, adding </p>\n\n<pre><code>module jdk.unsupported {\n    exports sun.misc;\n    opens sun.misc;\n    ...\n}\n</code></pre>\n\n<p>to your project might help.</p>\n"},{"tags":[],"owner":{"account_id":13139344,"reputation":955,"user_id":9491394,"display_name":"MangduYogii"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556623272,"creation_date":1556623272,"answer_id":55919814,"question_id":55918972,"body_markdown":"&gt; There are problems with the dependencies in the .gradle file in Gradle.\r\nor pom.xml file (if you are using Maven).\r\nThere could be many reasons for that: a conflict in\r\n&gt; versions, or conflict declaring the same dependency twice. \r\nor else\r\n&gt; check the jar_file versions you added into the library.","title":"Unable to find method sun.misc.Unsafe.defineClass","body":"<blockquote>\n  <p>There are problems with the dependencies in the .gradle file in Gradle.\n  or pom.xml file (if you are using Maven).\n  There could be many reasons for that: a conflict in\n  versions, or conflict declaring the same dependency twice. \n  or else\n  check the jar_file versions you added into the library.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1561224242,"creation_date":1561224242,"answer_id":56717619,"question_id":55918972,"body_markdown":"I had the same issue (but using `JDK 11`): \r\n\r\n&gt; Unable to find method\r\n&gt; &#39;sun.misc.Unsafe.defineClass(Ljava/lang/String;[BIILjava/lang/ClassLoader;Ljava/security/ProtectionDomain;)Ljava/lang/Class;&#39;.\r\n\r\n with version `gradle 4.7` as you.\r\n\r\nMy `gradle-wrapper.properties` file was:\r\n  \r\n\r\n        distributionBase=GRADLE_USER_HOME\r\n        distributionPath=wrapper/dists\r\n        zipStoreBase=GRADLE_USER_HOME\r\n        zipStorePath=wrapper/dists\r\n        distributionUrl=https\\://services.gradle.org/distributions/gradle-4.7-all.zip\r\n\r\nTo solve the issue I changed to 4.9 version of wrapper using parameter `distributionUrl`:\r\n\r\n     distributionUrl=https\\://services.gradle.org/distributions/gradle-4.9-all.zip\r\n\r\nAnd rebuild the project without any errors.","title":"Unable to find method sun.misc.Unsafe.defineClass","body":"<p>I had the same issue (but using <code>JDK 11</code>): </p>\n\n<blockquote>\n  <p>Unable to find method\n  'sun.misc.Unsafe.defineClass(Ljava/lang/String;[BIILjava/lang/ClassLoader;Ljava/security/ProtectionDomain;)Ljava/lang/Class;'.</p>\n</blockquote>\n\n<p>with version <code>gradle 4.7</code> as you.</p>\n\n<p>My <code>gradle-wrapper.properties</code> file was:</p>\n\n<pre><code>    distributionBase=GRADLE_USER_HOME\n    distributionPath=wrapper/dists\n    zipStoreBase=GRADLE_USER_HOME\n    zipStorePath=wrapper/dists\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-4.7-all.zip\n</code></pre>\n\n<p>To solve the issue I changed to 4.9 version of wrapper using parameter <code>distributionUrl</code>:</p>\n\n<pre><code> distributionUrl=https\\://services.gradle.org/distributions/gradle-4.9-all.zip\n</code></pre>\n\n<p>And rebuild the project without any errors.</p>\n"},{"tags":[],"owner":{"account_id":8064839,"reputation":351,"user_id":6079353,"accept_rate":43,"display_name":"Java Noob"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647289489,"creation_date":1647289489,"answer_id":71473834,"question_id":55918972,"body_markdown":"Since the defineClass method was removed from sun.misc.Unsafe in later versions of java, we need to invoke the method in the internal Unsafe. Since this entire package is hidden by default, we need to invoke everything reflectively. This code works as of java 17\r\n\r\n    try {\r\n        Field f = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;),\r\n                f1 = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\r\n        f.setAccessible(true);\r\n        f1.setAccessible(false);\r\n        Unsafe unsafe = (Unsafe) f.get(null);\r\n        int i;//override boolean byte offset. should result in 12 for java 17\r\n        for (i = 0; unsafe.getBoolean(f, i) == unsafe.getBoolean(f1, i); i++);\r\n        Field f2 = Unsafe.class.getDeclaredField(&quot;theInternalUnsafe&quot;);\r\n        unsafe.putBoolean(f2, i, true);//write directly into override to bypass perms\r\n        Object internalUnsafe = f2.get(null);\r\n\r\n        Method defineClass = internalUnsafe.getClass().getDeclaredMethod(&quot;defineClass&quot;,\r\n                String.class, byte[].class, int.class, int.class,\r\n                ClassLoader.class, ProtectionDomain.class);\r\n        unsafe.putBoolean(defineClass, i, true);\r\n\r\n        Class&lt;?&gt; newClass = (Class&lt;?&gt;) defineClass.invoke(internalUnsafe,\r\n                className, byteCode, offset, length,\r\n                Object.class.getClassLoader(), Object.class.getProtectionDomain());\r\n\r\n    } catch (NoSuchFieldException | IllegalAccessException | NoSuchMethodException | InvocationTargetException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n\r\nI&#39;ll explain what this is doing step by step\r\n* use reflections to access the sun.misc.Unsafe instance directly.\r\n* get another copy of the sun Unsafe field, set it to inaccessible\r\n* imperically iterate through the bytes in these two instances until a discrepency is found. this is the variable &quot;override&quot; in the AccessibleObject class which fields and methods use to determine if they are accessible.\r\n* Get the internalUnsafe field from the sun Unsafe class, set it to accessible using the sun Unsafe instance (although we can obtain the field object, java won&#39;t let us set anything in the internal or reflections package to accessible directly)\r\n* get the internalUnsafe instance, save it to an Object pointer because we can&#39;t reference internal.misc.Unsafe directly\r\n* get the defineClass Method from internalUnsafe reflectively\r\n* set the method to accessible using the same offset with the sun Unsafe\r\n* invoke it with our parameters\r\n\r\nHopefully this stays working so long as Unsafe remains in the jdk.","title":"Unable to find method sun.misc.Unsafe.defineClass","body":"<p>Since the defineClass method was removed from sun.misc.Unsafe in later versions of java, we need to invoke the method in the internal Unsafe. Since this entire package is hidden by default, we need to invoke everything reflectively. This code works as of java 17</p>\n<pre><code>try {\n    Field f = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;),\n            f1 = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\n    f.setAccessible(true);\n    f1.setAccessible(false);\n    Unsafe unsafe = (Unsafe) f.get(null);\n    int i;//override boolean byte offset. should result in 12 for java 17\n    for (i = 0; unsafe.getBoolean(f, i) == unsafe.getBoolean(f1, i); i++);\n    Field f2 = Unsafe.class.getDeclaredField(&quot;theInternalUnsafe&quot;);\n    unsafe.putBoolean(f2, i, true);//write directly into override to bypass perms\n    Object internalUnsafe = f2.get(null);\n\n    Method defineClass = internalUnsafe.getClass().getDeclaredMethod(&quot;defineClass&quot;,\n            String.class, byte[].class, int.class, int.class,\n            ClassLoader.class, ProtectionDomain.class);\n    unsafe.putBoolean(defineClass, i, true);\n\n    Class&lt;?&gt; newClass = (Class&lt;?&gt;) defineClass.invoke(internalUnsafe,\n            className, byteCode, offset, length,\n            Object.class.getClassLoader(), Object.class.getProtectionDomain());\n\n} catch (NoSuchFieldException | IllegalAccessException | NoSuchMethodException | InvocationTargetException e) {\n    throw new RuntimeException(e);\n}\n</code></pre>\n<p>I'll explain what this is doing step by step</p>\n<ul>\n<li>use reflections to access the sun.misc.Unsafe instance directly.</li>\n<li>get another copy of the sun Unsafe field, set it to inaccessible</li>\n<li>imperically iterate through the bytes in these two instances until a discrepency is found. this is the variable &quot;override&quot; in the AccessibleObject class which fields and methods use to determine if they are accessible.</li>\n<li>Get the internalUnsafe field from the sun Unsafe class, set it to accessible using the sun Unsafe instance (although we can obtain the field object, java won't let us set anything in the internal or reflections package to accessible directly)</li>\n<li>get the internalUnsafe instance, save it to an Object pointer because we can't reference internal.misc.Unsafe directly</li>\n<li>get the defineClass Method from internalUnsafe reflectively</li>\n<li>set the method to accessible using the same offset with the sun Unsafe</li>\n<li>invoke it with our parameters</li>\n</ul>\n<p>Hopefully this stays working so long as Unsafe remains in the jdk.</p>\n"},{"tags":[],"owner":{"account_id":19236579,"reputation":11,"user_id":14057412,"display_name":"Dharaneesh G S"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657686058,"creation_date":1657612084,"answer_id":72948744,"question_id":55918972,"body_markdown":"As `sun.misc.Unsafe.defineClass` has been replaced by `java.lang.invoke.MethodHandles.Lookup.defineClass` in jdk 9, `sun.misc.Unsafe.defineClass` is completely removed in jdk 11. \r\n\r\nrefer : https://docs.oracle.com/javase/9/docs/api/java/lang/invoke/MethodHandles.Lookup.html#defineClass-byte:A-","title":"Unable to find method sun.misc.Unsafe.defineClass","body":"<p>As <code>sun.misc.Unsafe.defineClass</code> has been replaced by <code>java.lang.invoke.MethodHandles.Lookup.defineClass</code> in jdk 9, <code>sun.misc.Unsafe.defineClass</code> is completely removed in jdk 11.</p>\n<p>refer : <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/invoke/MethodHandles.Lookup.html#defineClass-byte:A-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/9/docs/api/java/lang/invoke/MethodHandles.Lookup.html#defineClass-byte:A-</a></p>\n"}],"owner":{"account_id":10983760,"reputation":1014,"user_id":8070135,"display_name":"daemonThread"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12312,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":5,"score":10,"last_activity_date":1657686058,"creation_date":1556620063,"question_id":55918972,"body_markdown":"I am using `jdk-10.0.2` and `gradle 4.7`, I am getting this error while building my project.\r\n\r\n        Unable to find method &#39;sun.misc.Unsafe.defineClass(Ljava/lang/String;[BIILjava/lang/ClassLoader;Ljava/security/ProtectionDomain;)Ljava/lang/Class;&#39;.\r\n    \r\n    Possible causes for this unexpected error include:\r\n    Gradle&#39;s dependency cache may be corrupt (this sometimes occurs after a network connection timeout.)\r\n    Re-download dependencies and sync project (requires network)\r\n    \r\n    The state of a Gradle build process (daemon) may be corrupt. Stopping all Gradle daemons may solve this problem.\r\n    Stop Gradle build processes (requires restart)\r\n    \r\n    Your project may be using a third-party plugin which is not compatible with the other plugins in the project or the version of Gradle requested by the project.\r\n    \r\n    In the case of corrupt Gradle processes, you can also try closing the IDE and then killing all Java processes.","title":"Unable to find method sun.misc.Unsafe.defineClass","body":"<p>I am using <code>jdk-10.0.2</code> and <code>gradle 4.7</code>, I am getting this error while building my project.</p>\n\n<pre><code>    Unable to find method 'sun.misc.Unsafe.defineClass(Ljava/lang/String;[BIILjava/lang/ClassLoader;Ljava/security/ProtectionDomain;)Ljava/lang/Class;'.\n\nPossible causes for this unexpected error include:\nGradle's dependency cache may be corrupt (this sometimes occurs after a network connection timeout.)\nRe-download dependencies and sync project (requires network)\n\nThe state of a Gradle build process (daemon) may be corrupt. Stopping all Gradle daemons may solve this problem.\nStop Gradle build processes (requires restart)\n\nYour project may be using a third-party plugin which is not compatible with the other plugins in the project or the version of Gradle requested by the project.\n\nIn the case of corrupt Gradle processes, you can also try closing the IDE and then killing all Java processes.\n</code></pre>\n"},{"tags":["java","nullpointerexception","classloader","embedded-resource"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1529672698,"post_id":50988090,"comment_id":88971721,"body_markdown":"The success of `getResource..` when using a relative path like `java\\lang\\Object.class` depends on the package of the calling class. Make it based on the root of the class path by prefixing the path with `/` e.g. `/java\\lang\\Object.class` but.. also note that path separator in getting resources should always be forward slash, so `/java/lang/Object.class`. BTW .. ***why*** are you trying to load the `java.lang.Object` class? That doesn&#39;t make sense to me.","body":"The success of <code>getResource..</code> when using a relative path like <code>java\\lang\\Object.class</code> depends on the package of the calling class. Make it based on the root of the class path by prefixing the path with <code>&#47;</code> e.g. <code>&#47;java\\lang\\Object.class</code> but.. also note that path separator in getting resources should always be forward slash, so <code>&#47;java&#47;lang&#47;Object.class</code>. BTW .. <b><i>why</i></b> are you trying to load the <code>java.lang.Object</code> class? That doesn&#39;t make sense to me."},{"owner":{"account_id":11653359,"reputation":5339,"user_id":8533940,"display_name":"Lothar"},"score":1,"creation_date":1529672849,"post_id":50988090,"comment_id":88971822,"body_markdown":"BTW: `stream.available()` doesn&#39;t necessarily return the complete number of bytes so you might end up returning truncated data.","body":"BTW: <code>stream.available()</code> doesn&#39;t necessarily return the complete number of bytes so you might end up returning truncated data."},{"owner":{"account_id":12543159,"reputation":35,"user_id":9127451,"display_name":"Jo_Nathan"},"score":0,"creation_date":1529676005,"post_id":50988090,"comment_id":88973836,"body_markdown":"@AndrewThompson Thanks, I tried adding a &#39;/&#39; and replacing the other backslashes, but it sadly didn&#39;t fix the problem. The backslashes come from &#39;replace(&quot;.&quot;, File.separatorChar)&#39; which I got from said tutorial. And I am not trying to load the Object class myself, but as far as I know, a loaded class will always try to load the classes it needs via the classloader it was loaded by, so it is using the custom one for loading the object class.","body":"@AndrewThompson Thanks, I tried adding a &#39;/&#39; and replacing the other backslashes, but it sadly didn&#39;t fix the problem. The backslashes come from &#39;replace(&quot;.&quot;, File.separatorChar)&#39; which I got from said tutorial. And I am not trying to load the Object class myself, but as far as I know, a loaded class will always try to load the classes it needs via the classloader it was loaded by, so it is using the custom one for loading the object class."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1529676193,"post_id":50988090,"comment_id":88973959,"body_markdown":"For better help sooner, post a [MCVE] or [Short, Self Contained, Correct Example](http://www.sscce.org/).","body":"For better help sooner, post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> or <a href=\"http://www.sscce.org/\" rel=\"nofollow noreferrer\">Short, Self Contained, Correct Example</a>."},{"owner":{"account_id":12543159,"reputation":35,"user_id":9127451,"display_name":"Jo_Nathan"},"score":0,"creation_date":1529676640,"post_id":50988090,"comment_id":88974264,"body_markdown":"@Lothar Oh thanks I just got it from the tutorial and was not really aware of what it actually does.","body":"@Lothar Oh thanks I just got it from the tutorial and was not really aware of what it actually does."}],"answers":[{"tags":[],"owner":{"account_id":19236579,"reputation":11,"user_id":14057412,"display_name":"Dharaneesh G S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657685991,"creation_date":1657685991,"answer_id":72960907,"question_id":50988090,"body_markdown":"Java 11 onwards if URLClassLoader is returned null it throws NullPointerException.\r\n\r\nrefer:\r\n\r\nhttps://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8198803","title":"URLClassLoader getResourceAsStream returns null","body":"<p>Java 11 onwards if URLClassLoader is returned null it throws NullPointerException.</p>\n<p>refer:</p>\n<p><a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8198803\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8198803</a></p>\n"}],"owner":{"account_id":12543159,"reputation":35,"user_id":9127451,"display_name":"Jo_Nathan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657685991,"creation_date":1529670975,"question_id":50988090,"body_markdown":"I have a custom `ClassLoader` in my project, that loads a class that is dynamically generated from user input at runtime. For building it I generally followed the instructions from [this tutorial][1] here but instead used a `URLClassLoader` as a parent as the class may change at runtime.  \r\n\r\nIt works fine for loading the class itself, but as soon as it tries to load associated classes it throws a `NullPointerException` at line 4 (`stream.available()`) in the following code, as the returned stream is null. \r\n\r\n    //file is &quot;java\\lang\\Object.class&quot; when throwing the exception\r\n    private byte[] loadClassFileData(String file) throws IOException { \r\n\t\tInputStream stream = parent.getResourceAsStream(file);\r\n\t\tint size = stream.available();\r\n\t\tbyte buff[] = new byte[size];\r\n\t\tDataInputStream in = new DataInputStream(stream);\r\n\t\tin.readFully(buff);\r\n\t\treturn buff;\r\n    }\r\nUsing the default class loader for *`getResourceAsStream()`* doesn&#39;t seem to help.\r\n\r\n\r\n  [1]: https://www.journaldev.com/349/java-classloader","title":"URLClassLoader getResourceAsStream returns null","body":"<p>I have a custom <code>ClassLoader</code> in my project, that loads a class that is dynamically generated from user input at runtime. For building it I generally followed the instructions from <a href=\"https://www.journaldev.com/349/java-classloader\" rel=\"nofollow noreferrer\">this tutorial</a> here but instead used a <code>URLClassLoader</code> as a parent as the class may change at runtime.  </p>\n\n<p>It works fine for loading the class itself, but as soon as it tries to load associated classes it throws a <code>NullPointerException</code> at line 4 (<code>stream.available()</code>) in the following code, as the returned stream is null. </p>\n\n<pre><code>//file is \"java\\lang\\Object.class\" when throwing the exception\nprivate byte[] loadClassFileData(String file) throws IOException { \n    InputStream stream = parent.getResourceAsStream(file);\n    int size = stream.available();\n    byte buff[] = new byte[size];\n    DataInputStream in = new DataInputStream(stream);\n    in.readFully(buff);\n    return buff;\n}\n</code></pre>\n\n<p>Using the default class loader for <em><code>getResourceAsStream()</code></em> doesn't seem to help.</p>\n"},{"tags":["java","spring","heroku","deployment"],"answers":[{"tags":[],"owner":{"account_id":25778544,"reputation":66,"user_id":19524472,"display_name":"Raju Ch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657684987,"creation_date":1657528774,"answer_id":72935782,"question_id":72928515,"body_markdown":"Create Procfile with this command: \r\n```\r\n     web: java -Dspring.profiles.active=default -Dserver.port=$PORT -jar target/*.jar\r\n```\r\nThen on the heroku CLI, enter the following:\r\n```\r\n     heroku ps:scale web=1\r\n```\r\n\r\nFor more details, please check here : https://www.autoscripts.net/heroku-no-web-processes-running-spring-boot/","title":"Heroku Spring Boot Aplication error code=H14 status=503","body":"<p>Create Procfile with this command:</p>\n<pre><code>     web: java -Dspring.profiles.active=default -Dserver.port=$PORT -jar target/*.jar\n</code></pre>\n<p>Then on the heroku CLI, enter the following:</p>\n<pre><code>     heroku ps:scale web=1\n</code></pre>\n<p>For more details, please check here : <a href=\"https://www.autoscripts.net/heroku-no-web-processes-running-spring-boot/\" rel=\"nofollow noreferrer\">https://www.autoscripts.net/heroku-no-web-processes-running-spring-boot/</a></p>\n"}],"owner":{"account_id":20756667,"reputation":21,"user_id":15242932,"display_name":"xaos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657684987,"creation_date":1657456681,"question_id":72928515,"body_markdown":"I deploy spring boot application on heroku server. Unfortunately I have problem to connect with application.\r\n\r\nHeroku logs:\r\n```\r\n2022-07-10T12:34:14.901062+00:00 heroku[router]: at=error code=H14 desc=&quot;No web processes running&quot; method=GET path=&quot;/test&quot; host=hquiz123.herokuapp.com request_id=edf9a13d-cac7-456c-9926-ebbbc612a336 fwd=&quot;194.150.250.3&quot; dyno= connect\r\n= service= status=503 bytes= protocol=http\r\n```\r\nApplication controller \r\n```\r\n@Controller\r\n@RequestMapping(&quot;/test&quot; )\r\n@AllArgsConstructor\r\npublic class TestController {\r\n\r\n\r\n    @GetMapping\r\n    public String test() {\r\n        return &quot;test&quot;;\r\n    }\r\n}\r\n```","title":"Heroku Spring Boot Aplication error code=H14 status=503","body":"<p>I deploy spring boot application on heroku server. Unfortunately I have problem to connect with application.</p>\n<p>Heroku logs:</p>\n<pre><code>2022-07-10T12:34:14.901062+00:00 heroku[router]: at=error code=H14 desc=&quot;No web processes running&quot; method=GET path=&quot;/test&quot; host=hquiz123.herokuapp.com request_id=edf9a13d-cac7-456c-9926-ebbbc612a336 fwd=&quot;194.150.250.3&quot; dyno= connect\n= service= status=503 bytes= protocol=http\n</code></pre>\n<p>Application controller</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/test&quot; )\n@AllArgsConstructor\npublic class TestController {\n\n\n    @GetMapping\n    public String test() {\n        return &quot;test&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","performance","go"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1612430004,"post_id":66042475,"comment_id":116765850,"body_markdown":"&quot;My expectation was Go will be faster&quot; honest question: why?","body":"&quot;My expectation was Go will be faster&quot; honest question: why?"},{"owner":{"account_id":517968,"reputation":619,"user_id":2881548,"accept_rate":0,"display_name":"THM"},"score":1,"creation_date":1612430116,"post_id":66042475,"comment_id":116765909,"body_markdown":"there is page with comparison Go and Java https://benchmarksgame-team.pages.debian.net/benchmarksgame/fastest/go.html with opposite result","body":"there is page with comparison Go and Java <a href=\"https://benchmarksgame-team.pages.debian.net/benchmarksgame/fastest/go.html\" rel=\"nofollow noreferrer\">benchmarksgame-team.pages.debian.net/benchmarksgame/fastest/&zwnj;&#8203;&hellip;</a> with opposite result"},{"owner":{"account_id":8666367,"reputation":9194,"user_id":6486738,"accept_rate":100,"display_name":"Ted Klein Bergman"},"score":1,"creation_date":1612430734,"post_id":66042475,"comment_id":116766163,"body_markdown":"It&#39;s really hard comparing two different languages as you don&#39;t know if you have equivalent programs. I&#39;m not really good with either Java or Go, but my first intuition is that Java&#39;s `StringTokenizer` might operate on the input string while `String.split` allocates and copy the input string. Another thing might be that their map data structure have different implementations, such as a HashMap, TreeMap or LinkedHashMap. Another reason might be that Go and Java has different debugging on by default. Java and Go also have different thread synchronization. There are too many factors.","body":"It&#39;s really hard comparing two different languages as you don&#39;t know if you have equivalent programs. I&#39;m not really good with either Java or Go, but my first intuition is that Java&#39;s <code>StringTokenizer</code> might operate on the input string while <code>String.split</code> allocates and copy the input string. Another thing might be that their map data structure have different implementations, such as a HashMap, TreeMap or LinkedHashMap. Another reason might be that Go and Java has different debugging on by default. Java and Go also have different thread synchronization. There are too many factors."},{"owner":{"account_id":517968,"reputation":619,"user_id":2881548,"accept_rate":0,"display_name":"THM"},"score":0,"creation_date":1612431008,"post_id":66042475,"comment_id":116766297,"body_markdown":"agree - there many factors - just like in any other non-trivial application - still I am surprised","body":"agree - there many factors - just like in any other non-trivial application - still I am surprised"},{"owner":{"account_id":8666367,"reputation":9194,"user_id":6486738,"accept_rate":100,"display_name":"Ted Klein Bergman"},"score":1,"creation_date":1612431059,"post_id":66042475,"comment_id":116766323,"body_markdown":"Are they creating the same amount of threads? In Java you create the threads explicitly, but in go you create coroutines (*goroutines*) and not threads. Maybe try to check the CPU usage, core usage and thread count for differences","body":"Are they creating the same amount of threads? In Java you create the threads explicitly, but in go you create coroutines (<i>goroutines</i>) and not threads. Maybe try to check the CPU usage, core usage and thread count for differences"},{"owner":{"account_id":1320892,"reputation":41051,"user_id":1266756,"display_name":"Volker"},"score":1,"creation_date":1612431180,"post_id":66042475,"comment_id":116766382,"body_markdown":"Microbenchmark is an other word for lie. Especially if you compare different microbenchmarks.","body":"Microbenchmark is an other word for lie. Especially if you compare different microbenchmarks."},{"owner":{"account_id":517968,"reputation":619,"user_id":2881548,"accept_rate":0,"display_name":"THM"},"score":0,"creation_date":1612434467,"post_id":66042475,"comment_id":116767953,"body_markdown":"this is not a question for &#39;microbenchmark&#39; - I have &#39;something to do&#39; - I created code which do the same in two languages and I am confused why Go implementation is slower than Java implementation - especially because my expectations was totally opposite. maybe I do mistake - and there is a question about - WHAT I DO WRONG?","body":"this is not a question for &#39;microbenchmark&#39; - I have &#39;something to do&#39; - I created code which do the same in two languages and I am confused why Go implementation is slower than Java implementation - especially because my expectations was totally opposite. maybe I do mistake - and there is a question about - WHAT I DO WRONG?"},{"owner":{"account_id":517968,"reputation":619,"user_id":2881548,"accept_rate":0,"display_name":"THM"},"score":0,"creation_date":1612434704,"post_id":66042475,"comment_id":116768089,"body_markdown":"CPU usage looks similar - in both cases CPU was consumed 100% - means: 1000%-850% (depends on other processes on Mac) - I executed it multiple times (more than on chart) - and not observed anything what can explain 40% difference in results","body":"CPU usage looks similar - in both cases CPU was consumed 100% - means: 1000%-850% (depends on other processes on Mac) - I executed it multiple times (more than on chart) - and not observed anything what can explain 40% difference in results"},{"owner":{"account_id":34433,"reputation":55374,"user_id":1400793,"display_name":"Paul Hankin"},"score":3,"creation_date":1612435658,"post_id":66042475,"comment_id":116768511,"body_markdown":"In the java version you run 100 threads, each doing 10 iterations. In the go version, you run 10 goroutines which each do 100 iterations, and which also start another 100 iterations in the background.","body":"In the java version you run 100 threads, each doing 10 iterations. In the go version, you run 10 goroutines which each do 100 iterations, and which also start another 100 iterations in the background."},{"owner":{"account_id":517968,"reputation":619,"user_id":2881548,"accept_rate":0,"display_name":"THM"},"score":0,"creation_date":1612443509,"post_id":66042475,"comment_id":116771904,"body_markdown":"Paul Hankin, many thanks for find this bug! - fortunately it is not related to results - it was because I committed to repo wrong version - results are still correct - and question is still valid","body":"Paul Hankin, many thanks for find this bug! - fortunately it is not related to results - it was because I committed to repo wrong version - results are still correct - and question is still valid"},{"owner":{"account_id":15526,"reputation":105601,"user_id":32880,"accept_rate":75,"display_name":"JimB"},"score":0,"creation_date":1612455108,"post_id":66042475,"comment_id":116777831,"body_markdown":"Have you written a proper Go benchmark, and have you profiled the program through that benchmark? Making `split` recursive is definitely not the most efficient method, the jvm may just be able to optimize that out better. Scanning a string should be linear, not quadratic.","body":"Have you written a proper Go benchmark, and have you profiled the program through that benchmark? Making <code>split</code> recursive is definitely not the most efficient method, the jvm may just be able to optimize that out better. Scanning a string should be linear, not quadratic."},{"owner":{"account_id":15526,"reputation":105601,"user_id":32880,"accept_rate":75,"display_name":"JimB"},"score":1,"creation_date":1612456507,"post_id":66042475,"comment_id":116778547,"body_markdown":"Yes, java is just better at optimizing the poor algorithm. Using a more reasonable algorithm will cut the execution time down by 90% and reduce memory allocation by many orders of magnitude.","body":"Yes, java is just better at optimizing the poor algorithm. Using a more reasonable algorithm will cut the execution time down by 90% and reduce memory allocation by many orders of magnitude."},{"owner":{"display_name":"user2587965"},"score":0,"creation_date":1626786487,"post_id":66042475,"comment_id":120981943,"body_markdown":"@THM The benchmarksgame site output should be taken with a grain of salt: I have it on good authority that many contributions are not correct and the results are spurious. Do the tests yourself to make sure what you get is actually authentically true.","body":"@THM The benchmarksgame site output should be taken with a grain of salt: I have it on good authority that many contributions are not correct and the results are spurious. Do the tests yourself to make sure what you get is actually authentically true."},{"owner":{"account_id":517968,"reputation":619,"user_id":2881548,"accept_rate":0,"display_name":"THM"},"score":0,"creation_date":1626938897,"post_id":66042475,"comment_id":121026124,"body_markdown":"For me it seems there is a lot of resistance  to accepting the information thar Java may be faster than Go","body":"For me it seems there is a lot of resistance  to accepting the information thar Java may be faster than Go"}],"answers":[{"tags":[],"owner":{"account_id":12570135,"reputation":178,"user_id":9144511,"display_name":"Daniel Kurniadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657684249,"creation_date":1657684249,"answer_id":72960726,"question_id":66042475,"body_markdown":"Rather than doing a game of guessing. Here is what I would do to understand what happened. \r\n\r\n1. Run a program profiling for both java and golang. Visualise them into memory allocation flow and flame graph.\r\n2. See where each program spend most of their time.\r\n\r\nBoth golang and java has the same runtime speed for more/less equivalent low-level task that they do. \r\n\r\nHowever, they underlying implementation for strings library can be different and hence lead to very huge performance difference. \r\n\r\nFor example, have you give a thought on how Golang vs Java implement a map? How about string splitting. \r\n\r\nAny excessive bytes copy operations? \r\n\r\nIn real-world, performance optimisation are mostly cpu and memory management, not the &quot;flashy&quot; better big O algorithms. See Kafka vs RMQ. A lot of the performance edge came from better socket buffer management and zero-copy technique, which isn&#39;t rocket science algo at all.","title":"Simple Go vs Java performance comparison in one particular application","body":"<p>Rather than doing a game of guessing. Here is what I would do to understand what happened.</p>\n<ol>\n<li>Run a program profiling for both java and golang. Visualise them into memory allocation flow and flame graph.</li>\n<li>See where each program spend most of their time.</li>\n</ol>\n<p>Both golang and java has the same runtime speed for more/less equivalent low-level task that they do.</p>\n<p>However, they underlying implementation for strings library can be different and hence lead to very huge performance difference.</p>\n<p>For example, have you give a thought on how Golang vs Java implement a map? How about string splitting.</p>\n<p>Any excessive bytes copy operations?</p>\n<p>In real-world, performance optimisation are mostly cpu and memory management, not the &quot;flashy&quot; better big O algorithms. See Kafka vs RMQ. A lot of the performance edge came from better socket buffer management and zero-copy technique, which isn't rocket science algo at all.</p>\n"}],"owner":{"account_id":517968,"reputation":619,"user_id":2881548,"accept_rate":0,"display_name":"THM"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1664,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"answer_count":1,"score":0,"last_activity_date":1657684249,"creation_date":1612429761,"question_id":66042475,"body_markdown":"I create simple test which compare my Go and Java application performance\r\nI do not know why but it looks like my Java application is faster than Go\r\nI used:\r\n\r\n    ~&gt; go version\r\n    go version go1.15.6 darwin/amd64\r\n\r\nand\r\n\r\n    ~&gt; java -version\r\n    openjdk version &quot;15.0.1&quot; 2020-10-20\r\n    OpenJDK Runtime Environment (build 15.0.1+9)\r\n    OpenJDK 64-Bit Server VM (build 15.0.1+9, mixed mode, sharing)\r\n\r\nGo function mostly tested is:\r\n\r\n    func split(text string, occurrence map[string]int, separators []string) {\r\n    \twords := strings.Split(text, separators[0])\r\n    \tfor _, w := range words {\r\n    \t\tif len(w) &gt; 0 {\r\n    \t\t\tif len(separators) &gt; 1 {\r\n    \t\t\t\tsplit(w, occurrence, separators[1:])\r\n    \t\t\t} else {\r\n    \t\t\t\toccurrence[w] = occurrence[w] + 1\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nJava equivalent:\r\n\r\n      private void split(String text, Map&lt;String, Integer&gt; occurrence, String[] separators) {\r\n        StringTokenizer st = new StringTokenizer(text, separators[0]);\r\n        while (st.hasMoreTokens()) {\r\n          if (separators.length &gt; 1) {\r\n            split(st.nextToken(), occurrence, Arrays.copyOfRange(separators, 1, separators.length));\r\n          } else {\r\n            occurrence.compute(st.nextToken(),(k,v) -&gt; v == null ? 1 : v+1);\r\n          }\r\n        }\r\n      }\r\n\r\n\r\n\r\nStart 10 threads and execute this method against text loaded from `ulyss10.txt` file in the loop (text is loaded into memory once on the beginning of application execution - it is not I/O test).\r\n\r\nThere you can see all files from test: https://github.com/TOlchawa/go-vs-java/tree/main/book_read_test \r\n\r\nMy expectation was Go will be faster - but results are opposite.\r\nIt looks like Go is little bit slower - about: 40% slower (which is unexpected)\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI know this is not a very reliable test - but nevertheless I&#39;m surprised.\r\n\r\n**Could you provide me list of possible reasons why it was happen, please?**\r\n\r\nin my understanding it is difference between:\r\n- strings.Split | StringTokenizer\r\n- slider | HashMap\r\n- routine | Thread\r\n- go compiler | JVM\r\n- memory management | GC\r\n- differences in source code of application (IMHO it is not an issue)\r\n\r\nwhat else ?\r\n\r\n  [1]: https://i.stack.imgur.com/sTxko.png\r\n\r\n//edit\r\n\r\nThere was a wrong version in Github repo - but during my tests I used correct and the question is still valid/open.","title":"Simple Go vs Java performance comparison in one particular application","body":"<p>I create simple test which compare my Go and Java application performance\nI do not know why but it looks like my Java application is faster than Go\nI used:</p>\n<pre><code>~&gt; go version\ngo version go1.15.6 darwin/amd64\n</code></pre>\n<p>and</p>\n<pre><code>~&gt; java -version\nopenjdk version &quot;15.0.1&quot; 2020-10-20\nOpenJDK Runtime Environment (build 15.0.1+9)\nOpenJDK 64-Bit Server VM (build 15.0.1+9, mixed mode, sharing)\n</code></pre>\n<p>Go function mostly tested is:</p>\n<pre><code>func split(text string, occurrence map[string]int, separators []string) {\n    words := strings.Split(text, separators[0])\n    for _, w := range words {\n        if len(w) &gt; 0 {\n            if len(separators) &gt; 1 {\n                split(w, occurrence, separators[1:])\n            } else {\n                occurrence[w] = occurrence[w] + 1\n            }\n        }\n    }\n}\n</code></pre>\n<p>Java equivalent:</p>\n<pre><code>  private void split(String text, Map&lt;String, Integer&gt; occurrence, String[] separators) {\n    StringTokenizer st = new StringTokenizer(text, separators[0]);\n    while (st.hasMoreTokens()) {\n      if (separators.length &gt; 1) {\n        split(st.nextToken(), occurrence, Arrays.copyOfRange(separators, 1, separators.length));\n      } else {\n        occurrence.compute(st.nextToken(),(k,v) -&gt; v == null ? 1 : v+1);\n      }\n    }\n  }\n</code></pre>\n<p>Start 10 threads and execute this method against text loaded from <code>ulyss10.txt</code> file in the loop (text is loaded into memory once on the beginning of application execution - it is not I/O test).</p>\n<p>There you can see all files from test: <a href=\"https://github.com/TOlchawa/go-vs-java/tree/main/book_read_test\" rel=\"nofollow noreferrer\">https://github.com/TOlchawa/go-vs-java/tree/main/book_read_test</a></p>\n<p>My expectation was Go will be faster - but results are opposite.\nIt looks like Go is little bit slower - about: 40% slower (which is unexpected)</p>\n<p><a href=\"https://i.stack.imgur.com/sTxko.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sTxko.png\" alt=\"enter image description here\" /></a></p>\n<p>I know this is not a very reliable test - but nevertheless I'm surprised.</p>\n<p><strong>Could you provide me list of possible reasons why it was happen, please?</strong></p>\n<p>in my understanding it is difference between:</p>\n<ul>\n<li>strings.Split | StringTokenizer</li>\n<li>slider | HashMap</li>\n<li>routine | Thread</li>\n<li>go compiler | JVM</li>\n<li>memory management | GC</li>\n<li>differences in source code of application (IMHO it is not an issue)</li>\n</ul>\n<p>what else ?</p>\n<p>//edit</p>\n<p>There was a wrong version in Github repo - but during my tests I used correct and the question is still valid/open.</p>\n"},{"tags":["java","class","jvm"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1657679838,"post_id":72960132,"comment_id":128865941,"body_markdown":"Why do you ask?","body":"Why do you ask?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1657706748,"post_id":72960132,"comment_id":128872413,"body_markdown":"When you use Java&#160;17, don’t use a `CustomClassLoader` for this use case but something like [`var lookup = MethodHandles.lookup().defineHiddenClass(bytecode, true); return lookup.findStatic(lookup.lookupClass(), &quot;testMethodInClass&quot;, MethodType.methodType(Object.class)) .invoke();`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/invoke/MethodHandles.Lookup.html#defineHiddenClass(byte%5B%5D,boolean,java.lang.invoke.MethodHandles.Lookup.ClassOption...)). This class can get garbage collected right after use without depending on class loader reachability.","body":"When you use Java 17, don’t use a <code>CustomClassLoader</code> for this use case but something like <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/invoke/MethodHandles.Lookup.html#defineHiddenClass(byte%5B%5D,boolean,java.lang.invoke.MethodHandles.Lookup.ClassOption...)\" rel=\"nofollow noreferrer\"><code>var lookup = MethodHandles.lookup().defineHiddenClass(bytecode, true); return lookup.findStatic(lookup.lookupClass(), &quot;testMethodInClass&quot;, MethodType.methodType(Object.class)) .invoke();</code></a>. This class can get garbage collected right after use without depending on class loader reachability."},{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1693225005,"post_id":72960132,"comment_id":135727792,"body_markdown":"Important for controlled destruction of sensitive data bound to a class","body":"Important for controlled destruction of sensitive data bound to a class"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657683919,"creation_date":1657683919,"answer_id":72960691,"question_id":72960132,"body_markdown":"&gt; For code above, can we consider any resource used by classTest will be released everywhen testMethod is done because its ClassLoader local variable cl is never used again?\r\n\r\nNo, but I think you&#39;re mixing terms here. Specifically, any __resource__, no. Resource has a very specific meaning. will it neccessarily be __released__? No. Again, specific meaning.\r\n\r\nSo let me try to be specific:\r\n\r\n## Released? I think you mean Collectable\r\n\r\nIf the object created by `cl.loadBytes` is garbage collectable (and from the code you showed above, it is), __and__ all instances of it are collectable (trivially true in your example; you make no instances), __and__ the ClassLoader object is collectable (again, in yoru code, it is), then and only then will it all be collectable.\r\n\r\nDoes that mean it&#39;ll instantly disappear? No, that is not how the garbage collector works. __If__ the collector thinks it is necessary to do so, it&#39;ll garbage collect. If the collector does not find it neccessary, it won&#39;t. It doesn&#39;t matter to you - garbage has no effect just by existing.\r\n\r\nPoint is, your JVM won&#39;t throw an OutOfMemoryError because you have 10,000 copies of that `Class` object filling up your memory.\r\n\r\n&quot;Released&quot; is a word that is only used in official parlance for resources. See next section.\r\n\r\n## Resource? I think you mean Object\r\n\r\nA resource is any object that represents a concept at the OS/Architecture level which _must therefore be __manually__ closed_ in order to __release__ this resource.\r\n\r\nAn example of a &#39;resource&#39; is `new FileInputStream`. That is an object that is a resource - __you do not rely on the garbage collector to clean this up__, because the garbage collector is free to decide that this particular object needs to be cleaned up many 5 days from now. If there&#39;s plenty of heap, why bother. This isn&#39;t academic - that really happens. Hence, __do not__, ever, open resource objects without using `try-with-resources` (or loading them in an object that itself `implements AutoClosable`, so that the user of your code can do so). It&#39;s the only safe way.\r\n\r\nThis is called &#39;releasing&#39;.\r\n\r\nWhat you&#39;re asking about is related to resources and releasing resources the same way guns and related to grandmas: Not - at - all.\r\n\r\nIf you want to use a resource, you use try-with:\r\n\r\n```\r\n// bad:\r\n\r\nvoid foo() throws IOException {\r\n  var in = new FileInputStream(...);\r\n  // do stuff with &#39;in&#39;\r\n  in.close();\r\n}\r\n\r\n// good:\r\n\r\nvoid foo() throws IOException {\r\n  try (var in = new FileInputStream(...)) {\r\n    // do stuff with &#39;in\r\n  }\r\n}\r\n```\r\n\r\nClassLoader shenanigans don&#39;t change that at all. It is not possible to &#39;automatically release&#39; resources without using try-with or manually rolling out a try/finally loop.\r\n\r\n","title":"Is it possible to finalize / release a Class instance?","body":"<blockquote>\n<p>For code above, can we consider any resource used by classTest will be released everywhen testMethod is done because its ClassLoader local variable cl is never used again?</p>\n</blockquote>\n<p>No, but I think you're mixing terms here. Specifically, any <strong>resource</strong>, no. Resource has a very specific meaning. will it neccessarily be <strong>released</strong>? No. Again, specific meaning.</p>\n<p>So let me try to be specific:</p>\n<h2>Released? I think you mean Collectable</h2>\n<p>If the object created by <code>cl.loadBytes</code> is garbage collectable (and from the code you showed above, it is), <strong>and</strong> all instances of it are collectable (trivially true in your example; you make no instances), <strong>and</strong> the ClassLoader object is collectable (again, in yoru code, it is), then and only then will it all be collectable.</p>\n<p>Does that mean it'll instantly disappear? No, that is not how the garbage collector works. <strong>If</strong> the collector thinks it is necessary to do so, it'll garbage collect. If the collector does not find it neccessary, it won't. It doesn't matter to you - garbage has no effect just by existing.</p>\n<p>Point is, your JVM won't throw an OutOfMemoryError because you have 10,000 copies of that <code>Class</code> object filling up your memory.</p>\n<p>&quot;Released&quot; is a word that is only used in official parlance for resources. See next section.</p>\n<h2>Resource? I think you mean Object</h2>\n<p>A resource is any object that represents a concept at the OS/Architecture level which <em>must therefore be <strong>manually</strong> closed</em> in order to <strong>release</strong> this resource.</p>\n<p>An example of a 'resource' is <code>new FileInputStream</code>. That is an object that is a resource - <strong>you do not rely on the garbage collector to clean this up</strong>, because the garbage collector is free to decide that this particular object needs to be cleaned up many 5 days from now. If there's plenty of heap, why bother. This isn't academic - that really happens. Hence, <strong>do not</strong>, ever, open resource objects without using <code>try-with-resources</code> (or loading them in an object that itself <code>implements AutoClosable</code>, so that the user of your code can do so). It's the only safe way.</p>\n<p>This is called 'releasing'.</p>\n<p>What you're asking about is related to resources and releasing resources the same way guns and related to grandmas: Not - at - all.</p>\n<p>If you want to use a resource, you use try-with:</p>\n<pre><code>// bad:\n\nvoid foo() throws IOException {\n  var in = new FileInputStream(...);\n  // do stuff with 'in'\n  in.close();\n}\n\n// good:\n\nvoid foo() throws IOException {\n  try (var in = new FileInputStream(...)) {\n    // do stuff with 'in\n  }\n}\n</code></pre>\n<p>ClassLoader shenanigans don't change that at all. It is not possible to 'automatically release' resources without using try-with or manually rolling out a try/finally loop.</p>\n"}],"owner":{"account_id":13730022,"reputation":309,"user_id":9907751,"display_name":"Firok"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":72960691,"answer_count":1,"score":1,"last_activity_date":1657683919,"creation_date":1657677797,"question_id":72960132,"body_markdown":"&gt; It may because the wrong keywords I used, not much discussion or articles found for this problem.\r\n\r\nAfter loaded into JVM, is it possible to release a `Class` instance automatically or manually?\r\n\r\n* If it can be released automatically, when will this procedure be executed? Can we expect a certain time point for that?\r\n* If it can be released manually, how? Are there some APIs?\r\n* If it can be released no matter automatically or mannually, are we able to monitor the finalization of `Class` instances, even by using some external tools outside JVM?\r\n\r\nSome old articles said that, if \r\n\r\n* there is no reference to any instance / static member of a `Class`\r\n* its `ClassLoader` instance is released\r\n\r\nthat `Class` will be released. Is it working for recent JVMs (for example, Oracle VM 17 or GraalVM 17)? Does it means we are able to construct some `Class` for instant use and have no worry about mem-leak?\r\n\r\n```java\r\nclass CustomClassLoader extends java.lang.ClassLoader\r\n{\r\n    public CustomClassLoader()\r\n    {\r\n        super(CustomClassLoader.class.getClassLoader());\r\n    }\r\n\r\n    public Class&lt;?&gt; loadBytes(byte[] bytecode)\r\n    {\r\n        return defineClass(null, bytecode, 0, bytecode.length);\r\n    }\r\n}\r\n\r\n@SneakyThrows\r\nObject testMethod()\r\n{\r\n    // read a Class from bytecode by a local ClassLoader\r\n    byte[] bytecode = readSomeBytesFromSomewhere();\r\n    var cl = new CustomClassLoader();\r\n    Class&lt;?&gt; classTest = cl.loadBytes(bytecode);\r\n\r\n    // any random code\r\n    return classTest.getMethod(&quot;testMethodInClass&quot;).invoke(null);\r\n}\r\n\r\npublic static void main(String... args)\r\n{\r\n    for(int step = 0; step &lt; 9999; step++)\r\n        testMethod();\r\n}\r\n```\r\n\r\nFor code above, can we consider any resource used by `classTest` will be released everywhen `testMethod` is done because its `ClassLoader` local variable `cl` is never used again?","title":"Is it possible to finalize / release a Class instance?","body":"<blockquote>\n<p>It may because the wrong keywords I used, not much discussion or articles found for this problem.</p>\n</blockquote>\n<p>After loaded into JVM, is it possible to release a <code>Class</code> instance automatically or manually?</p>\n<ul>\n<li>If it can be released automatically, when will this procedure be executed? Can we expect a certain time point for that?</li>\n<li>If it can be released manually, how? Are there some APIs?</li>\n<li>If it can be released no matter automatically or mannually, are we able to monitor the finalization of <code>Class</code> instances, even by using some external tools outside JVM?</li>\n</ul>\n<p>Some old articles said that, if</p>\n<ul>\n<li>there is no reference to any instance / static member of a <code>Class</code></li>\n<li>its <code>ClassLoader</code> instance is released</li>\n</ul>\n<p>that <code>Class</code> will be released. Is it working for recent JVMs (for example, Oracle VM 17 or GraalVM 17)? Does it means we are able to construct some <code>Class</code> for instant use and have no worry about mem-leak?</p>\n<pre class=\"lang-java prettyprint-override\"><code>class CustomClassLoader extends java.lang.ClassLoader\n{\n    public CustomClassLoader()\n    {\n        super(CustomClassLoader.class.getClassLoader());\n    }\n\n    public Class&lt;?&gt; loadBytes(byte[] bytecode)\n    {\n        return defineClass(null, bytecode, 0, bytecode.length);\n    }\n}\n\n@SneakyThrows\nObject testMethod()\n{\n    // read a Class from bytecode by a local ClassLoader\n    byte[] bytecode = readSomeBytesFromSomewhere();\n    var cl = new CustomClassLoader();\n    Class&lt;?&gt; classTest = cl.loadBytes(bytecode);\n\n    // any random code\n    return classTest.getMethod(&quot;testMethodInClass&quot;).invoke(null);\n}\n\npublic static void main(String... args)\n{\n    for(int step = 0; step &lt; 9999; step++)\n        testMethod();\n}\n</code></pre>\n<p>For code above, can we consider any resource used by <code>classTest</code> will be released everywhen <code>testMethod</code> is done because its <code>ClassLoader</code> local variable <code>cl</code> is never used again?</p>\n"},{"tags":["java","android","kotlin","frame","frame-rate"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1657723815,"post_id":72960471,"comment_id":128879280,"body_markdown":"You appear to be comparing two time instants one after another, shouldn&#39;t you be comparing between two times recorded by different calls of `Choreographer.postFrameCallback()`?","body":"You appear to be comparing two time instants one after another, shouldn&#39;t you be comparing between two times recorded by different calls of <code>Choreographer.postFrameCallback()</code>?"},{"owner":{"account_id":5243822,"reputation":3356,"user_id":4190159,"accept_rate":100,"display_name":"Somdip Dey"},"score":0,"creation_date":1657759285,"post_id":72960471,"comment_id":128889444,"body_markdown":"@MorrisonChang Thank you for your reply. I am new to Kotlin development and not sure how to get the framerate. Any suggestions on how to call Choreographer.postFrameCallback() to get framerates?","body":"@MorrisonChang Thank you for your reply. I am new to Kotlin development and not sure how to get the framerate. Any suggestions on how to call Choreographer.postFrameCallback() to get framerates?"},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":1,"creation_date":1657764221,"post_id":72960471,"comment_id":128890065,"body_markdown":"I&#39;m not sure what problem you are trying to solve by getting the &#39;frame rate&#39; of the system. I recommend reviewing the Google IO video: [Drawn out: How Android renders (Google I/O &#39;18)](https://youtu.be/zdQRIYOST64) and [UI Jank Detection](https://developer.android.com/studio/profile/jank-detection) documentation.","body":"I&#39;m not sure what problem you are trying to solve by getting the &#39;frame rate&#39; of the system. I recommend reviewing the Google IO video: <a href=\"https://youtu.be/zdQRIYOST64\" rel=\"nofollow noreferrer\">Drawn out: How Android renders (Google I/O &#39;18)</a> and <a href=\"https://developer.android.com/studio/profile/jank-detection\" rel=\"nofollow noreferrer\">UI Jank Detection</a> documentation."}],"answers":[{"tags":[],"owner":{"account_id":260152,"reputation":39795,"user_id":543539,"accept_rate":82,"display_name":"Egor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657683522,"creation_date":1657683522,"answer_id":72960644,"question_id":72960471,"body_markdown":"[`SystemClock.elapsedRealtime()`](https://developer.android.com/reference/android/os/SystemClock.html#elapsedRealtime()) returns a `long`, not an `android.os.SystemClock`:\r\n\r\n    fun getFrameRate(): String {\r\n            val timeElapsed1: Long = SystemClock.elapsedRealtime()\r\n            val timeElapsed2: Long = SystemClock.elapsedRealtime()\r\n            val frameTime = 1000.0 / (timeElapsed2 - timeElapsed1) \r\n            return frameTime\r\n    }\r\n\r\nor you can simply omit the types and let Kotlin infer them for you:\r\n\r\n    fun getFrameRate(): String {\r\n            val timeElapsed1 = SystemClock.elapsedRealtime()\r\n            val timeElapsed2 = SystemClock.elapsedRealtime()\r\n            val frameTime = 1000.0 / (timeElapsed2 - timeElapsed1) \r\n            return frameTime\r\n    }\r\n\r\nLastly, you&#39;ll need to convert `frameTime` to a `String`:\r\n\r\n    fun getFrameRate(): String {\r\n            val timeElapsed1 = SystemClock.elapsedRealtime()\r\n            val timeElapsed2 = SystemClock.elapsedRealtime()\r\n            val frameTime = 1000.0 / (timeElapsed2 - timeElapsed1) \r\n            return frameTime.toString()\r\n    }\r\n\r\n","title":"Get Frame Rate of Android using Kotlin","body":"<p><a href=\"https://developer.android.com/reference/android/os/SystemClock.html#elapsedRealtime()\" rel=\"nofollow noreferrer\"><code>SystemClock.elapsedRealtime()</code></a> returns a <code>long</code>, not an <code>android.os.SystemClock</code>:</p>\n<pre><code>fun getFrameRate(): String {\n        val timeElapsed1: Long = SystemClock.elapsedRealtime()\n        val timeElapsed2: Long = SystemClock.elapsedRealtime()\n        val frameTime = 1000.0 / (timeElapsed2 - timeElapsed1) \n        return frameTime\n}\n</code></pre>\n<p>or you can simply omit the types and let Kotlin infer them for you:</p>\n<pre><code>fun getFrameRate(): String {\n        val timeElapsed1 = SystemClock.elapsedRealtime()\n        val timeElapsed2 = SystemClock.elapsedRealtime()\n        val frameTime = 1000.0 / (timeElapsed2 - timeElapsed1) \n        return frameTime\n}\n</code></pre>\n<p>Lastly, you'll need to convert <code>frameTime</code> to a <code>String</code>:</p>\n<pre><code>fun getFrameRate(): String {\n        val timeElapsed1 = SystemClock.elapsedRealtime()\n        val timeElapsed2 = SystemClock.elapsedRealtime()\n        val frameTime = 1000.0 / (timeElapsed2 - timeElapsed1) \n        return frameTime.toString()\n}\n</code></pre>\n"}],"owner":{"account_id":5243822,"reputation":3356,"user_id":4190159,"accept_rate":100,"display_name":"Somdip Dey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":756,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657683522,"creation_date":1657681529,"question_id":72960471,"body_markdown":"I am able to get the frame rate of the Android system using the following answer in  Java: https://stackoverflow.com/a/8908035/4190159\r\n\r\nHowever, being new to Kotlin I was wondering how can I get the frame rate of Android system using Kotlin code? (my app is using Kotlin instead of Java)\r\n\r\nThe code as follows is not working for me:\r\n\r\n    fun getFrameRate(): String {\r\n            val timeElapsed1: android.os.SystemClock = SystemClock.elapsedRealtime()\r\n            val timeElapsed2: android.os.SystemClock = SystemClock.elapsedRealtime()\r\n            val frameTime = 1000.0 / (timeElapsed2 - timeElapsed1) \r\n            return frameTime\r\n    }","title":"Get Frame Rate of Android using Kotlin","body":"<p>I am able to get the frame rate of the Android system using the following answer in  Java: <a href=\"https://stackoverflow.com/a/8908035/4190159\">https://stackoverflow.com/a/8908035/4190159</a></p>\n<p>However, being new to Kotlin I was wondering how can I get the frame rate of Android system using Kotlin code? (my app is using Kotlin instead of Java)</p>\n<p>The code as follows is not working for me:</p>\n<pre><code>fun getFrameRate(): String {\n        val timeElapsed1: android.os.SystemClock = SystemClock.elapsedRealtime()\n        val timeElapsed2: android.os.SystemClock = SystemClock.elapsedRealtime()\n        val frameTime = 1000.0 / (timeElapsed2 - timeElapsed1) \n        return frameTime\n}\n</code></pre>\n"},{"tags":["java","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657683475,"creation_date":1657683475,"answer_id":72960639,"question_id":72959335,"body_markdown":"The Kafka TCP protocol is the same for all clients.\r\n\r\nJava, however, might require JKS files in addition to TLS certificates.\r\n\r\nNon Java clients cannot use JKS files, however. If you&#39;re using the Confluent Python client, then it&#39;ll use librdkafka, which is also implemented by `kcat` CLI, which you could also test with rather than builtin Kafka tools ","title":"Apache Kafka Consumer - Broker host resolution between Java Client vs. rest of the Clients","body":"<p>The Kafka TCP protocol is the same for all clients.</p>\n<p>Java, however, might require JKS files in addition to TLS certificates.</p>\n<p>Non Java clients cannot use JKS files, however. If you're using the Confluent Python client, then it'll use librdkafka, which is also implemented by <code>kcat</code> CLI, which you could also test with rather than builtin Kafka tools</p>\n"}],"owner":{"account_id":3144706,"reputation":1696,"user_id":2659409,"accept_rate":26,"display_name":"druuu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657683475,"creation_date":1657668295,"question_id":72959335,"body_markdown":"There is a scenario where I would be required to connect to external kafka and consume data for further processing. Is there a fundamental difference between kafka python client vs. Java clients in the way they are implemented?\r\n\r\nPython Client with the same host connects to broker and consumes over TLS but both Kafka console consumer or any java based clients establishes connection to broker (successfuly does SSL Handshake) but further fails as the client is not able to connect and subscribe. \r\n\r\nI am aware of listeners and advertised listeners, but python kafka is able to establish connection to broker and consume fine which confuses me. \r\n\r\nCan anyone elaborate on how different the clients are from each other?","title":"Apache Kafka Consumer - Broker host resolution between Java Client vs. rest of the Clients","body":"<p>There is a scenario where I would be required to connect to external kafka and consume data for further processing. Is there a fundamental difference between kafka python client vs. Java clients in the way they are implemented?</p>\n<p>Python Client with the same host connects to broker and consumes over TLS but both Kafka console consumer or any java based clients establishes connection to broker (successfuly does SSL Handshake) but further fails as the client is not able to connect and subscribe.</p>\n<p>I am aware of listeners and advertised listeners, but python kafka is able to establish connection to broker and consume fine which confuses me.</p>\n<p>Can anyone elaborate on how different the clients are from each other?</p>\n"},{"tags":["java","sorting","arraylist"],"comments":[{"owner":{"account_id":2894131,"reputation":76,"user_id":2482288,"display_name":"ouzture"},"score":0,"creation_date":1436772269,"post_id":31377448,"comment_id":50733528,"body_markdown":"May i ask why you dont want to use set method? Java is pretty much about setters and getters.","body":"May i ask why you dont want to use set method? Java is pretty much about setters and getters."},{"owner":{"account_id":3330344,"reputation":11,"user_id":2799438,"display_name":"TNJ"},"score":0,"creation_date":1436811766,"post_id":31377448,"comment_id":50757999,"body_markdown":"Thanks for reply ouzture, Actually this question was asked in interview and interviewer asks that no need to use sort, set or any other inbuilt functions.:)","body":"Thanks for reply ouzture, Actually this question was asked in interview and interviewer asks that no need to use sort, set or any other inbuilt functions.:)"}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1436771930,"creation_date":1436771930,"answer_id":31377471,"question_id":31377448,"body_markdown":"    arraylist.get(i)= arraylist.get(i);\r\n    arraylist.get(j) =tmp;\r\n\r\nYou can&#39;t assign a value to a method call. As the compiler told you, the left hand side of an assignment must be a variable.\r\n\r\nUse `set` method :\r\n\r\n    arraylist.set(i,arraylist.get(j));\r\n    arraylist.set(j,tmp);\r\n\r\n&gt;Is there a way to do it without using set method?\r\n\r\nNo. Unless you wish to convert your ArrayList to an array, sort the array, and update the ArrayList with the sorted array.","title":"How to do sorting in array list without using collections in Java","body":"<pre><code>arraylist.get(i)= arraylist.get(i);\narraylist.get(j) =tmp;\n</code></pre>\n\n<p>You can't assign a value to a method call. As the compiler told you, the left hand side of an assignment must be a variable.</p>\n\n<p>Use <code>set</code> method :</p>\n\n<pre><code>arraylist.set(i,arraylist.get(j));\narraylist.set(j,tmp);\n</code></pre>\n\n<blockquote>\n  <p>Is there a way to do it without using set method?</p>\n</blockquote>\n\n<p>No. Unless you wish to convert your ArrayList to an array, sort the array, and update the ArrayList with the sorted array.</p>\n"},{"tags":[],"owner":{"account_id":3764898,"reputation":767,"user_id":3128655,"accept_rate":40,"display_name":"Anil Reddy Yarragonda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1436772098,"creation_date":1436772098,"answer_id":31377512,"question_id":31377448,"body_markdown":"Problem in swapping:\r\n\r\n                int tmp = arraylist.get(i);\r\n                  arraylist.set(i,arraylist.get(j)) ;\r\n                  arraylist.set(j,tmp);","title":"How to do sorting in array list without using collections in Java","body":"<p>Problem in swapping:</p>\n\n<pre><code>            int tmp = arraylist.get(i);\n              arraylist.set(i,arraylist.get(j)) ;\n              arraylist.set(j,tmp);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1483734,"reputation":287,"user_id":1392437,"accept_rate":33,"display_name":"Kamal Pundir"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1436772268,"creation_date":1436772268,"answer_id":31377556,"question_id":31377448,"body_markdown":"You can&#39;t directly assign value to ArrayList Index. You have to use the set() method.\r\nchange your code as follow :\r\n\r\n\t\r\n\r\n      ArrayList &lt; Integer &gt; arraylist = new ArrayList &lt; Integer &gt; ();\r\n    \r\n    \t  arraylist.add(10010);\r\n    \t  arraylist.add(5);\r\n    \t  arraylist.add(4);\r\n    \t  arraylist.add(2);\r\n    \r\n    \t  for (int i = 0; i &lt; arraylist.size(); i++) {\r\n    \r\n    \t      for (int j = arraylist.size() - 1; j &gt; i; j--) {\r\n    \t          if (arraylist.get(i) &gt; arraylist.get(j)) {\r\n    \r\n    \t              int tmp = arraylist.get(i);\r\n    \t              arraylist.set(i,arraylist.get(j)) ;\r\n    \t              arraylist.set(j,tmp);\r\n    \r\n    \t          }\r\n    \r\n    \t      }\r\n    \r\n    \t  }\r\n    \t  for (int i: arraylist) {\r\n    \t      System.out.println(i);\r\n    \t  }\r\n     ","title":"How to do sorting in array list without using collections in Java","body":"<p>You can't directly assign value to ArrayList Index. You have to use the set() method.\nchange your code as follow :</p>\n\n<pre><code>  ArrayList &lt; Integer &gt; arraylist = new ArrayList &lt; Integer &gt; ();\n\n      arraylist.add(10010);\n      arraylist.add(5);\n      arraylist.add(4);\n      arraylist.add(2);\n\n      for (int i = 0; i &lt; arraylist.size(); i++) {\n\n          for (int j = arraylist.size() - 1; j &gt; i; j--) {\n              if (arraylist.get(i) &gt; arraylist.get(j)) {\n\n                  int tmp = arraylist.get(i);\n                  arraylist.set(i,arraylist.get(j)) ;\n                  arraylist.set(j,tmp);\n\n              }\n\n          }\n\n      }\n      for (int i: arraylist) {\n          System.out.println(i);\n      }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1436772574,"creation_date":1436772574,"answer_id":31377645,"question_id":31377448,"body_markdown":"The shortest way to swap to list values is the following:\r\n\r\n    arraylist.set(i, arraylist.set(j, arraylist.get(i)));\r\n\r\nYou can utilize the fact that `set` method returns the previous value. This algorithm is implemented in `Collections.swap` standard method, so you can use it:\r\n\r\n    Collections.swap(arraylist, i, j);","title":"How to do sorting in array list without using collections in Java","body":"<p>The shortest way to swap to list values is the following:</p>\n\n<pre><code>arraylist.set(i, arraylist.set(j, arraylist.get(i)));\n</code></pre>\n\n<p>You can utilize the fact that <code>set</code> method returns the previous value. This algorithm is implemented in <code>Collections.swap</code> standard method, so you can use it:</p>\n\n<pre><code>Collections.swap(arraylist, i, j);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8205387,"reputation":1,"user_id":6175286,"display_name":"Allen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460087635,"creation_date":1460087177,"answer_id":36491162,"question_id":31377448,"body_markdown":"    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n    \r\n    class Main{\r\n    \t\r\n    \tpublic static String titleCase(String s){\r\n    \t\tString is = s;\r\n    \t\tString ret = &quot;&quot;;\r\n    \t\t\r\n    \t\t\r\n    \t\t\t\tret += is.substring(0, 1).toUpperCase();\r\n    \t\t\t\r\n    \t\t\t\tret += is.substring(1).toLowerCase();\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\r\n    \t    \r\n    \t      return ret;\r\n    \t    }\r\n    \t\r\n    \tpublic static ArrayList&lt;String&gt; sort(ArrayList&lt;String&gt; list){\r\n    \t\tfor(int z = 0; z &lt;list.size()-1; z++){\r\n    \t\t\tif(list.get(z).compareTo(list.get(z+1)) &gt;0){\r\n    \t\t\t\tlist.add(z, list.get(z+1));\r\n    \t\t\t\tlist.remove(z+2);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn list;\r\n    \t\t\r\n    \t}\r\n     \r\n       \r\n        public static void main(String[] args) {\r\n          \r\n          \r\n            Scanner scan = new Scanner (System.in);\r\n            \r\n            ArrayList&lt;String&gt; names = new ArrayList();\r\n            int x = 0;\r\n            int count = 0;\r\n            String output = &quot;&quot;;\r\n            \r\n            while(x != 1){\r\n            System.out.println(&quot;Enter the next name:&quot;);\r\n            String temp = scan.next();\r\n            temp = titleCase(temp);\r\n            \r\n            \r\n            if(temp.toLowerCase().equals(&quot;stop&quot;)){\r\n            \tx = 1;\r\n            }\r\n            else{\r\n            \t\r\n            \tnames.add(count, temp);\r\n            \tcount++;\r\n            }\r\n            \r\n            }\r\n          names.equals(sort(names));\r\n            System.out.println(names.toString());\r\n            \r\n    \r\n            \r\n        }\r\n        \r\n        \r\n    }","title":"How to do sorting in array list without using collections in Java","body":"<pre><code>import java.util.ArrayList;\nimport java.util.Scanner;\n\nclass Main{\n\n    public static String titleCase(String s){\n        String is = s;\n        String ret = \"\";\n\n\n                ret += is.substring(0, 1).toUpperCase();\n\n                ret += is.substring(1).toLowerCase();\n\n\n\n\n          return ret;\n        }\n\n    public static ArrayList&lt;String&gt; sort(ArrayList&lt;String&gt; list){\n        for(int z = 0; z &lt;list.size()-1; z++){\n            if(list.get(z).compareTo(list.get(z+1)) &gt;0){\n                list.add(z, list.get(z+1));\n                list.remove(z+2);\n            }\n        }\n        return list;\n\n    }\n\n\n    public static void main(String[] args) {\n\n\n        Scanner scan = new Scanner (System.in);\n\n        ArrayList&lt;String&gt; names = new ArrayList();\n        int x = 0;\n        int count = 0;\n        String output = \"\";\n\n        while(x != 1){\n        System.out.println(\"Enter the next name:\");\n        String temp = scan.next();\n        temp = titleCase(temp);\n\n\n        if(temp.toLowerCase().equals(\"stop\")){\n            x = 1;\n        }\n        else{\n\n            names.add(count, temp);\n            count++;\n        }\n\n        }\n      names.equals(sort(names));\n        System.out.println(names.toString());\n\n\n\n    }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4998433,"reputation":111,"user_id":4018134,"display_name":"Riyad"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1544265390,"creation_date":1544265390,"answer_id":53681667,"question_id":31377448,"body_markdown":"\r\n     \r\n      Integer[] list={3,5,100,8,17,19};\r\n       \r\n       for(int i=0;i&lt;list.length;i++){\r\n        \r\n           for(int j=i+1;j&lt;list.length;j++){\r\n               \r\n               Integer tempI=list[i];\r\n               Integer tempJ=list[j];\r\n               \r\n               if(tempI&gt;tempJ){\r\n                 list[i]=tempJ;\r\n                 list[j]= tempI;\r\n                 \r\n               }\r\n                 \r\n               }\r\n           }\r\n       \r\n       for(Integer a:list){\r\n           System.out.println(&quot;&quot;+a);\r\n       }","title":"How to do sorting in array list without using collections in Java","body":"<pre><code>  Integer[] list={3,5,100,8,17,19};\n\n   for(int i=0;i&lt;list.length;i++){\n\n       for(int j=i+1;j&lt;list.length;j++){\n\n           Integer tempI=list[i];\n           Integer tempJ=list[j];\n\n           if(tempI&gt;tempJ){\n             list[i]=tempJ;\n             list[j]= tempI;\n\n           }\n\n           }\n       }\n\n   for(Integer a:list){\n       System.out.println(\"\"+a);\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9572815,"reputation":143,"user_id":7109970,"display_name":"C k khamari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561194855,"creation_date":1561194855,"answer_id":56714194,"question_id":31377448,"body_markdown":"        \r\n    `import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    \r\n    public class SortList {\r\n        public static void main(String[] args){\r\n            ArrayList&lt;Integer&gt; listToSort = new ArrayList&lt;Integer&gt;();\r\n            listToSort.add(10010);\r\n            listToSort.add(5);\r\n            listToSort.add(4);\r\n            listToSort.add(2);\r\n            System.out.println(&quot;List to SOrt&quot;+listToSort);\r\n            for(int i= 0;i&lt;listToSort.size();i++)\r\n            {\r\n                for (int j=0;j&lt;listToSort.size();j++){\r\n                    if(listToSort.get(j)&gt;listToSort.get(i)){\r\n                        int temp=listToSort.get(i);\r\n                        int temp2=listToSort.get(j);\r\n                        listToSort.set(j,temp);\r\n                        listToSort.set(i,temp2);\r\n                    }\r\n                }\r\n            }\r\n            System.out.println(&quot;List SOrted&quot;+listToSort);\r\n        }\r\n    }\r\n\r\n","title":"How to do sorting in array list without using collections in Java","body":"<pre><code>`import java.util.ArrayList;\nimport java.util.Collections;\n\npublic class SortList {\n    public static void main(String[] args){\n        ArrayList&lt;Integer&gt; listToSort = new ArrayList&lt;Integer&gt;();\n        listToSort.add(10010);\n        listToSort.add(5);\n        listToSort.add(4);\n        listToSort.add(2);\n        System.out.println(\"List to SOrt\"+listToSort);\n        for(int i= 0;i&lt;listToSort.size();i++)\n        {\n            for (int j=0;j&lt;listToSort.size();j++){\n                if(listToSort.get(j)&gt;listToSort.get(i)){\n                    int temp=listToSort.get(i);\n                    int temp2=listToSort.get(j);\n                    listToSort.set(j,temp);\n                    listToSort.set(i,temp2);\n                }\n            }\n        }\n        System.out.println(\"List SOrted\"+listToSort);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18601314,"reputation":1,"user_id":13556081,"display_name":"Saurav"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1589645399,"creation_date":1589645399,"answer_id":61839778,"question_id":31377448,"body_markdown":"    public class SortUsingCollection{\r\n      \r\n    \r\n    public static void main(String[] args){\r\n    \r\n       \r\n    \r\n    ArrayList al=new ArrayList();\r\n    \r\n    al.add(32);\r\n    al.add(3);\r\n    al.add(23);\r\n    al.add(80);\r\n    al.add(38);\r\n    al.add(31);\r\n    al.add(90);\r\n    al.add(8);\r\n    \t\r\n    ListIterator i=al.listIterator();\r\n    \t\r\n    int k=0;\r\n    \t\r\n    while(i.hasNext()){\r\n    int loop=0;\r\n    Integer n=(Integer)i.next();\r\n    ListIterator j=al.listIterator();\r\n    while(loop&lt;k){\r\n    if(j.hasNext())\r\n    j.next();\r\n    loop++;\r\n    }\r\n    \t\r\n    \r\n    \t\r\n    \r\n    while(j.hasNext()){\r\n    \t\t\t\r\n    \r\n    Integer m=(Integer)j.next();\r\n    \t\t\t\r\n    \r\n    if(m&lt;n){\r\n    \t\t\t\r\n    \r\n    j.set(n);\r\n    \t\t\t\r\n    \r\n    i.set(m);\r\n    \t\t\r\n    \r\n    n=m;\r\n    \t\t\t\r\n    \r\n    }\r\n    \t\t\r\n    \r\n    }\r\n    \r\n    \t\r\n    \r\n    k++;\r\n    \r\n    }\r\n    \t\r\n    \r\n    System.out.println(al);\r\n    \t\r\n    \r\n    }\r\n    \r\n    }\r\n\r\n","title":"How to do sorting in array list without using collections in Java","body":"<pre><code>public class SortUsingCollection{\n\n\npublic static void main(String[] args){\n\n\n\nArrayList al=new ArrayList();\n\nal.add(32);\nal.add(3);\nal.add(23);\nal.add(80);\nal.add(38);\nal.add(31);\nal.add(90);\nal.add(8);\n\nListIterator i=al.listIterator();\n\nint k=0;\n\nwhile(i.hasNext()){\nint loop=0;\nInteger n=(Integer)i.next();\nListIterator j=al.listIterator();\nwhile(loop&lt;k){\nif(j.hasNext())\nj.next();\nloop++;\n}\n\n\n\n\nwhile(j.hasNext()){\n\n\nInteger m=(Integer)j.next();\n\n\nif(m&lt;n){\n\n\nj.set(n);\n\n\ni.set(m);\n\n\nn=m;\n\n\n}\n\n\n}\n\n\n\nk++;\n\n}\n\n\nSystem.out.println(al);\n\n\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18548628,"reputation":1,"user_id":13515321,"display_name":"Orkhan Musayev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595030733,"creation_date":1595025154,"answer_id":62962585,"question_id":31377448,"body_markdown":"Try using this:\r\n\r\n    public static void SortingArrayListAsc(List&lt;Integer&gt; list) {\r\n\r\n        for (int i = 0; i &lt; list.size(); i++) {\r\n\r\n            for (int j = 0; j &lt; list.size(); j++) {\r\n\r\n                if (list.get(i) &lt; list.get(j)) {\r\n\r\n                    Integer temp = list.get(i);\r\n\r\n                    list.set(i, list.get(j));\r\n\r\n                    list.set(j, temp);\r\n\r\n                }\r\n\r\n            }\r\n\r\n        }       \r\n\r\n    }","title":"How to do sorting in array list without using collections in Java","body":"<p>Try using this:</p>\n<pre><code>public static void SortingArrayListAsc(List&lt;Integer&gt; list) {\n\n    for (int i = 0; i &lt; list.size(); i++) {\n\n        for (int j = 0; j &lt; list.size(); j++) {\n\n            if (list.get(i) &lt; list.get(j)) {\n\n                Integer temp = list.get(i);\n\n                list.set(i, list.get(j));\n\n                list.set(j, temp);\n\n            }\n\n        }\n\n    }       \n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22861647,"reputation":3,"user_id":17005621,"display_name":"RAKESH YEDLAPPALLI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657683399,"creation_date":1657683252,"answer_id":72960619,"question_id":31377448,"body_markdown":"public int [] sortArrayByType(int[] array,String sortType){\r\n\r\n        for(int i=0;i&lt;array.length;i++){\r\n\r\n            for(int j=i+1;j&lt;array.length;j++){\r\n\r\n\r\n                    if(sortType.equals(&quot;asc&quot;)) {\r\n                        if (array[i] &gt; array[j]) {\r\n                            swapValues(array, i, j);\r\n                        }\r\n                    }else{\r\n                        if (array[i] &lt; array[j]) {\r\n                            swapValues(array, i, j);\r\n                        }\r\n                    }\r\n            }\r\n        }\r\n        return array;\r\n    }\r\n\r\n    private void swapValues(int[] array, int i, int j) {\r\n        int temp = array[i];\r\n        array[i] = array[j];\r\n        array[j] = temp;\r\n    }","title":"How to do sorting in array list without using collections in Java","body":"<p>public int [] sortArrayByType(int[] array,String sortType){</p>\n<pre><code>    for(int i=0;i&lt;array.length;i++){\n\n        for(int j=i+1;j&lt;array.length;j++){\n\n\n                if(sortType.equals(&quot;asc&quot;)) {\n                    if (array[i] &gt; array[j]) {\n                        swapValues(array, i, j);\n                    }\n                }else{\n                    if (array[i] &lt; array[j]) {\n                        swapValues(array, i, j);\n                    }\n                }\n        }\n    }\n    return array;\n}\n\nprivate void swapValues(int[] array, int i, int j) {\n    int temp = array[i];\n    array[i] = array[j];\n    array[j] = temp;\n}\n</code></pre>\n"}],"owner":{"account_id":3330344,"reputation":11,"user_id":2799438,"display_name":"TNJ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76079,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":31377471,"answer_count":10,"score":0,"last_activity_date":1657683399,"creation_date":1436771852,"question_id":31377448,"body_markdown":"    ArrayList &lt; Integer &gt; arraylist = new ArrayList &lt; Integer &gt; ();\r\n    \r\n    arraylist.add(10010);\r\n    arraylist.add(5);\r\n    arraylist.add(4);\r\n    arraylist.add(2);\r\n    \r\n    for (int i = 0; i &lt; arraylist.size(); i++) {\r\n    \r\n    \tfor (int j = arraylist.size() - 1; j &gt; i; j--) {\r\n    \t\tif (arraylist.get(i) &gt; arraylist.get(j)) {\r\n    \r\n    \t\t\tint tmp = arraylist.get(i);\r\n    \t\t\tarraylist.get(i) = arraylist.get(i);\r\n    \t\t\tarraylist.get(j) = tmp;\r\n    \r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n    for (int i: arraylist) {\r\n    \tSystem.out.println(i);\r\n    }\r\n\r\nIt is giving error while swapping, The LHS should be variable. I understand it.\r\nSet method works here but I do not want to use.\r\nIs there a way to do it without using set method? \r\nHelp is really appreciated.\r\n\r\n","title":"How to do sorting in array list without using collections in Java","body":"<pre><code>ArrayList &lt; Integer &gt; arraylist = new ArrayList &lt; Integer &gt; ();\n\narraylist.add(10010);\narraylist.add(5);\narraylist.add(4);\narraylist.add(2);\n\nfor (int i = 0; i &lt; arraylist.size(); i++) {\n\n    for (int j = arraylist.size() - 1; j &gt; i; j--) {\n        if (arraylist.get(i) &gt; arraylist.get(j)) {\n\n            int tmp = arraylist.get(i);\n            arraylist.get(i) = arraylist.get(i);\n            arraylist.get(j) = tmp;\n\n        }\n\n    }\n\n}\nfor (int i: arraylist) {\n    System.out.println(i);\n}\n</code></pre>\n\n<p>It is giving error while swapping, The LHS should be variable. I understand it.\nSet method works here but I do not want to use.\nIs there a way to do it without using set method? \nHelp is really appreciated.</p>\n"},{"tags":["java","json","jackson","gson"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1657127928,"post_id":72887505,"comment_id":128738472,"body_markdown":"You can [use a regex](https://stackoverflow.com/a/29070952/16653700) to replace the keys.","body":"You can <a href=\"https://stackoverflow.com/a/29070952/16653700\">use a regex</a> to replace the keys."},{"owner":{"account_id":5879597,"reputation":838,"user_id":4629427,"display_name":"Rocky4Ever"},"score":0,"creation_date":1657128202,"post_id":72887505,"comment_id":128738567,"body_markdown":"@AliasCartellano I can rename high level fields.But How Can i Do it for nested and keys inside List?","body":"@AliasCartellano I can rename high level fields.But How Can i Do it for nested and keys inside List?"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1657128979,"post_id":72887505,"comment_id":128738860,"body_markdown":"You can replace keys using `str = str.replace(&quot;supportingCustomerName&quot;,&quot;Example&quot;);\n\t\tSystem.out.println(str);` on the string of the `jsonObject`.","body":"You can replace keys using <code>str = str.replace(&quot;supportingCustomerName&quot;,&quot;Example&quot;); \t\tSystem.out.println(str);</code> on the string of the <code>jsonObject</code>."},{"owner":{"account_id":5879597,"reputation":838,"user_id":4629427,"display_name":"Rocky4Ever"},"score":0,"creation_date":1657129081,"post_id":72887505,"comment_id":128738904,"body_markdown":"What if the another nested object have same name and i don&#39;t want to replace that field?Which will not be idea.I would like to only change key which is referred by the client","body":"What if the another nested object have same name and i don&#39;t want to replace that field?Which will not be idea.I would like to only change key which is referred by the client"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":1,"creation_date":1657129739,"post_id":72887505,"comment_id":128739136,"body_markdown":"Try [iterating through the JSON](https://www.baeldung.com/jsonobject-iteration) and renaming the keys that match the values to change.","body":"Try <a href=\"https://www.baeldung.com/jsonobject-iteration\" rel=\"nofollow noreferrer\">iterating through the JSON</a> and renaming the keys that match the values to change."},{"owner":{"account_id":5879597,"reputation":838,"user_id":4629427,"display_name":"Rocky4Ever"},"score":0,"creation_date":1657130032,"post_id":72887505,"comment_id":128739245,"body_markdown":"My json is not fixed,i receive different json with diff keys","body":"My json is not fixed,i receive different json with diff keys"}],"answers":[{"tags":[],"owner":{"account_id":5879597,"reputation":838,"user_id":4629427,"display_name":"Rocky4Ever"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657683246,"creation_date":1657683246,"answer_id":72960618,"question_id":72887505,"body_markdown":"Finally Ended Up using \r\n\r\n   \r\n\r\n     implementation group: &#39;com.jayway.jsonpath&#39;, name: &#39;json-path&#39;, version: &#39;2.7.0&#39; \r\n\r\n\r\n    @Override\r\n    public DocumentContext renameKey(JsonPath path, String oldKeyName, String newKeyName) {\r\n      List&lt;String&gt; modified =  path.renameKey(json, oldKeyName, newKeyName, configuration.addOptions(Option.AS_PATH_LIST));\r\n      if(logger.isDebugEnabled()){\r\n        for (String p : modified) {\r\n          logger.debug(&quot;Rename path {} new value {}&quot;, p, newKeyName);\r\n        }\r\n      }\r\n      return this;\r\n    }\r\n\r\n","title":"org.json.JSONObject : Rename Nested and Listed JSON Keys in Java","body":"<p>Finally Ended Up using</p>\n<pre><code> implementation group: 'com.jayway.jsonpath', name: 'json-path', version: '2.7.0' \n\n\n@Override\npublic DocumentContext renameKey(JsonPath path, String oldKeyName, String newKeyName) {\n  List&lt;String&gt; modified =  path.renameKey(json, oldKeyName, newKeyName, configuration.addOptions(Option.AS_PATH_LIST));\n  if(logger.isDebugEnabled()){\n    for (String p : modified) {\n      logger.debug(&quot;Rename path {} new value {}&quot;, p, newKeyName);\n    }\n  }\n  return this;\n}\n</code></pre>\n"}],"owner":{"account_id":5879597,"reputation":838,"user_id":4629427,"display_name":"Rocky4Ever"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":498,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72960618,"answer_count":1,"score":2,"last_activity_date":1657683246,"creation_date":1657127519,"question_id":72887505,"body_markdown":"I am trying to rename key names in a json object.I can rename at the top level, but unable to rename if the key present inside another object or if it present in a List Object.\r\n\r\n\r\nThis is what i have tried so far.\r\n\r\n\r\n             try {\r\n                    jsonObject.put(value, jsonObject.remove(key));\r\n                    LOG.trace(&quot;Renaming Field {} with Field {}&quot;, key, value);\r\n                } catch (JSONException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n\r\n\r\nHere is an Example Object.\r\n\r\n   \r\n\r\n     {\r\n          &quot;id&quot;: 123,\r\n          &quot;contactInformation&quot;: {\r\n            &quot;contact&quot;: {\r\n              &quot;email&quot;: &quot;toshiaki_yagi@gmail.com&quot;,\r\n            }\r\n          },\r\n          &quot;supportingCustomer&quot;: [\r\n            {\r\n              &quot;supportingCustomerName&quot;: &quot;JOHN&quot;\r\n            },\r\n            {\r\n              &quot;supportingCustomerName&quot;: &quot;JOHN&quot;\r\n            }\r\n\r\n          ]\r\n    \r\n    }\r\n\r\n\r\nHere I can rename Id, but having difficulty renaming `supportingCustomerName` and also `contactInformation.contact.email` using `org.json.JSONObject` ? Or is there any other library, i can use to rename keys.Any Help would be appreciated?\r\n\r\n\r\nMy JSON And key are dynamic not fixated.\r\n\r\n","title":"org.json.JSONObject : Rename Nested and Listed JSON Keys in Java","body":"<p>I am trying to rename key names in a json object.I can rename at the top level, but unable to rename if the key present inside another object or if it present in a List Object.</p>\n<p>This is what i have tried so far.</p>\n<pre><code>         try {\n                jsonObject.put(value, jsonObject.remove(key));\n                LOG.trace(&quot;Renaming Field {} with Field {}&quot;, key, value);\n            } catch (JSONException e) {\n                throw new RuntimeException(e);\n            }\n</code></pre>\n<p>Here is an Example Object.</p>\n<pre><code> {\n      &quot;id&quot;: 123,\n      &quot;contactInformation&quot;: {\n        &quot;contact&quot;: {\n          &quot;email&quot;: &quot;toshiaki_yagi@gmail.com&quot;,\n        }\n      },\n      &quot;supportingCustomer&quot;: [\n        {\n          &quot;supportingCustomerName&quot;: &quot;JOHN&quot;\n        },\n        {\n          &quot;supportingCustomerName&quot;: &quot;JOHN&quot;\n        }\n\n      ]\n\n}\n</code></pre>\n<p>Here I can rename Id, but having difficulty renaming <code>supportingCustomerName</code> and also <code>contactInformation.contact.email</code> using <code>org.json.JSONObject</code> ? Or is there any other library, i can use to rename keys.Any Help would be appreciated?</p>\n<p>My JSON And key are dynamic not fixated.</p>\n"},{"tags":["java","spring-boot","mockito","mockito-inline"],"answers":[{"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1649399463,"creation_date":1649399463,"answer_id":71792576,"question_id":71792512,"body_markdown":"`mockito-core` is pulled in by `spring-boot-starter-test`. Just exclude it and add `mockito-inline` as a test dependency.","title":"How to use mockito-inline with Spring-Boot?","body":"<p><code>mockito-core</code> is pulled in by <code>spring-boot-starter-test</code>. Just exclude it and add <code>mockito-inline</code> as a test dependency.</p>\n"},{"tags":[],"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649406591,"creation_date":1649406591,"answer_id":71793946,"question_id":71792512,"body_markdown":"No additional dependency should be required. Mockito.mockStatic is part of mockito core. As far as I remeber you just have to add the file &quot;org.mockito.plugins.MockMaker&quot; in the folder &quot;mockito-extensions&quot; in your test resources root. \r\n\r\n\r\nHowever if you really want to exclude the dependency of mockito from spring you can do so by adding an exclusion in your pom.xml dependency. An example of how to explicitly exclude a dependency of a library would look like this. \r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jcifs&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jcifs&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.3.17&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n       &lt;/dependency&gt;\r\n\r\n\r\nAlso be really carefull with using mockStatic. Always call close in the end or otherwise the staticMock will stay active in the Thread (across  multiple unit tests).\r\n\r\n&gt; Creates a thread-local mock controller for all static methods of the given class or interface. The returned object&#39;s MockedStatic.close() method must be called upon completing the test or the mock will remain active on the current thread.\r\nNote: We recommend against mocking static methods of classes in the standard library or classes used by custom class loaders used to executed the block with the mocked class. A mock maker might forbid mocking static methods of know classes that are known to cause problems. Also, if a static method is a JVM-intrinsic, it cannot typically be mocked even if not explicitly forbidden.\r\nSee examples in javadoc for Mockito class\r\nParams:\r\nclassToMock – class or interface of which static mocks should be mocked.\r\ndefaultAnswer – the default answer when invoking static methods.\r\nReturns:\r\nmock controller","title":"How to use mockito-inline with Spring-Boot?","body":"<p>No additional dependency should be required. Mockito.mockStatic is part of mockito core. As far as I remeber you just have to add the file &quot;org.mockito.plugins.MockMaker&quot; in the folder &quot;mockito-extensions&quot; in your test resources root.</p>\n<p>However if you really want to exclude the dependency of mockito from spring you can do so by adding an exclusion in your pom.xml dependency. An example of how to explicitly exclude a dependency of a library would look like this.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;jcifs&lt;/groupId&gt;\n        &lt;artifactId&gt;jcifs&lt;/artifactId&gt;\n        &lt;version&gt;1.3.17&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n                &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n   &lt;/dependency&gt;\n</code></pre>\n<p>Also be really carefull with using mockStatic. Always call close in the end or otherwise the staticMock will stay active in the Thread (across  multiple unit tests).</p>\n<blockquote>\n<p>Creates a thread-local mock controller for all static methods of the given class or interface. The returned object's MockedStatic.close() method must be called upon completing the test or the mock will remain active on the current thread.\nNote: We recommend against mocking static methods of classes in the standard library or classes used by custom class loaders used to executed the block with the mocked class. A mock maker might forbid mocking static methods of know classes that are known to cause problems. Also, if a static method is a JVM-intrinsic, it cannot typically be mocked even if not explicitly forbidden.\nSee examples in javadoc for Mockito class\nParams:\nclassToMock – class or interface of which static mocks should be mocked.\ndefaultAnswer – the default answer when invoking static methods.\nReturns:\nmock controller</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":18303134,"reputation":81,"user_id":13327457,"display_name":"Wythuk"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1657405717,"creation_date":1657405555,"answer_id":72924998,"question_id":71792512,"body_markdown":"According the documentation on [Github][1]. \r\n\r\nIt can be done via the mockito extension mechanism by creating the file `src/test/resources/mockito-extensions/org.mockito.plugins.MockMaker` containing a single line:\r\n```\r\nmock-maker-inline\r\n```\r\n\r\n\r\n  [1]: https://github.com/mockito/mockito/wiki/What%27s-new-in-Mockito-2#unmockable","title":"How to use mockito-inline with Spring-Boot?","body":"<p>According the documentation on <a href=\"https://github.com/mockito/mockito/wiki/What%27s-new-in-Mockito-2#unmockable\" rel=\"noreferrer\">Github</a>.</p>\n<p>It can be done via the mockito extension mechanism by creating the file <code>src/test/resources/mockito-extensions/org.mockito.plugins.MockMaker</code> containing a single line:</p>\n<pre><code>mock-maker-inline\n</code></pre>\n"},{"tags":[],"owner":{"account_id":118571,"reputation":47112,"user_id":309683,"accept_rate":68,"display_name":"Behrang Saeedzadeh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657682389,"creation_date":1657682389,"answer_id":72960556,"question_id":71792512,"body_markdown":"You don&#39;t really need to remove the `mockito-core` dependency as `mockito-inline` [depends on it](https://repo1.maven.org/maven2/org/mockito/mockito-inline/4.5.1/mockito-inline-4.5.1.pom) anyway.\r\n\r\nJust adding the `mockito-inline` dependency to your POM file is enough:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```","title":"How to use mockito-inline with Spring-Boot?","body":"<p>You don't really need to remove the <code>mockito-core</code> dependency as <code>mockito-inline</code> <a href=\"https://repo1.maven.org/maven2/org/mockito/mockito-inline/4.5.1/mockito-inline-4.5.1.pom\" rel=\"nofollow noreferrer\">depends on it</a> anyway.</p>\n<p>Just adding the <code>mockito-inline</code> dependency to your POM file is enough:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1409704,"reputation":2966,"user_id":1336558,"accept_rate":90,"display_name":"Mohit Kanwar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10556,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":71792576,"answer_count":4,"score":6,"last_activity_date":1657682389,"creation_date":1649399109,"question_id":71792512,"body_markdown":"**Context:**\r\nWe are using Junit 5, Spring-Boot 2.6.3 \r\nSpring-Boot comes with its dependency on mockito-core\r\n\r\n**Problem**\r\nI am looking to create a mock for a static method. Mockito provides a library (mockito-inline) that allows mocking static methods, however, it works when mockito-core is not directly in dependency. Mockito-inline downloads the compatible mockito-core when required.   \r\n(ref: https://frontbackend.com/java/how-to-mock-static-methods-with-mockito) \r\n\r\n**Possible Solutions**\r\n1. Remove mockito-core from spring-boot - Please help by suggesting how can it be done, without impacting the same dependency being added by Mockito-inline?\r\n2. There is a problem with my understanding - If this is the case, kindly help me understand it better, with probably an example of using Mockito with Spring-boot to mock static method","title":"How to use mockito-inline with Spring-Boot?","body":"<p><strong>Context:</strong>\nWe are using Junit 5, Spring-Boot 2.6.3\nSpring-Boot comes with its dependency on mockito-core</p>\n<p><strong>Problem</strong>\nI am looking to create a mock for a static method. Mockito provides a library (mockito-inline) that allows mocking static methods, however, it works when mockito-core is not directly in dependency. Mockito-inline downloads the compatible mockito-core when required.<br />\n(ref: <a href=\"https://frontbackend.com/java/how-to-mock-static-methods-with-mockito\" rel=\"noreferrer\">https://frontbackend.com/java/how-to-mock-static-methods-with-mockito</a>)</p>\n<p><strong>Possible Solutions</strong></p>\n<ol>\n<li>Remove mockito-core from spring-boot - Please help by suggesting how can it be done, without impacting the same dependency being added by Mockito-inline?</li>\n<li>There is a problem with my understanding - If this is the case, kindly help me understand it better, with probably an example of using Mockito with Spring-boot to mock static method</li>\n</ol>\n"},{"tags":["java","string","csv","format","printwriter"],"comments":[{"owner":{"account_id":212263,"reputation":136294,"user_id":464988,"accept_rate":94,"display_name":"MByD"},"score":2,"creation_date":1330530670,"post_id":9502226,"comment_id":12031998,"body_markdown":"This line should not compile: `String value = 0000000013;`","body":"This line should not compile: <code>String value = 0000000013;</code>"},{"owner":{"account_id":446466,"reputation":1135,"user_id":839527,"accept_rate":86,"display_name":"JProgrammer"},"score":0,"creation_date":1330530959,"post_id":9502226,"comment_id":12032101,"body_markdown":"can you format cell and set its type to text before writing to it.","body":"can you format cell and set its type to text before writing to it."}],"answers":[{"tags":[],"owner":{"account_id":892161,"reputation":11512,"user_id":930207,"display_name":"mcfinnigan"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1330530690,"creation_date":1330530690,"answer_id":9502270,"question_id":9502226,"body_markdown":"Add a single quote, `&#39;`, at the start of the line.  This informs Excel to not treat the value as a number.","title":"how to write to csv with a leading zero?","body":"<p>Add a single quote, <code>'</code>, at the start of the line.  This informs Excel to not treat the value as a number.</p>\n"},{"tags":[],"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1330530752,"creation_date":1330530752,"answer_id":9502288,"question_id":9502226,"body_markdown":"Try:\r\n\r\n    String.format(&quot;%08d&quot;, 13)\r\n\r\nNote the `0` in the format string, that tells Java to prefix the number with zeroes up to the length indicated in the field (8 in this case).","title":"how to write to csv with a leading zero?","body":"<p>Try:</p>\n\n<pre><code>String.format(\"%08d\", 13)\n</code></pre>\n\n<p>Note the <code>0</code> in the format string, that tells Java to prefix the number with zeroes up to the length indicated in the field (8 in this case).</p>\n"},{"tags":[],"owner":{"account_id":262968,"reputation":767120,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1330530799,"creation_date":1330530799,"answer_id":9502299,"question_id":9502226,"body_markdown":"You should use:\r\n\r\n    String.format(&quot;%08d&quot;, 13);","title":"how to write to csv with a leading zero?","body":"<p>You should use:</p>\n\n<pre><code>String.format(\"%08d\", 13);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3393,"reputation":60796,"user_id":4893,"accept_rate":64,"display_name":"sblundy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1330531386,"creation_date":1330531386,"answer_id":9502471,"question_id":9502226,"body_markdown":"When one opens a CSV file in excel 2007, it opens the Text Import Wizard. In step 3, you can specify the column data format of the column to be &#39;Text&#39;. Just select the appropriate column header in the &#39;Data preview&#39; pane. Then select the &#39;Text&#39; radio button in the &#39;Column data format&#39; pane.","title":"how to write to csv with a leading zero?","body":"<p>When one opens a CSV file in excel 2007, it opens the Text Import Wizard. In step 3, you can specify the column data format of the column to be 'Text'. Just select the appropriate column header in the 'Data preview' pane. Then select the 'Text' radio button in the 'Column data format' pane.</p>\n"},{"tags":[],"owner":{"account_id":3152440,"reputation":71,"user_id":2665582,"display_name":"madhavi"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1375987136,"creation_date":1375987136,"answer_id":18133595,"question_id":9502226,"body_markdown":"Append tab to the number\r\n\r\nex: &quot;\\t&quot;+&quot;01234&quot;","title":"how to write to csv with a leading zero?","body":"<p>Append tab to the number</p>\n\n<p>ex: \"\\t\"+\"01234\"</p>\n"},{"tags":[],"owner":{"account_id":3683349,"reputation":96,"user_id":3067754,"display_name":"Gomsy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1502397570,"creation_date":1502397570,"answer_id":45623081,"question_id":9502226,"body_markdown":"Even better way is to print your number as =&quot;0000000013&quot;\r\n\r\n    String value = &quot;0000000013&quot;; \r\n    printWriter.println(&quot;=\\&quot;&quot; + value + &quot;\\&quot;&quot;);\r\n\r\n","title":"how to write to csv with a leading zero?","body":"<p>Even better way is to print your number as =\"0000000013\"</p>\n\n<pre><code>String value = \"0000000013\"; \nprintWriter.println(\"=\\\"\" + value + \"\\\"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22680151,"reputation":11,"user_id":16850599,"display_name":"alinaMKR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657681718,"creation_date":1657681134,"answer_id":72960432,"question_id":9502226,"body_markdown":"The issue is that excel treats the cell as general format so it truncates all zeros, if you can&#39;t change cell type to Text, then use mentioned previously:\r\n\r\n        printWriter.write(&quot;=\\&quot;&quot; + value + &quot;\\&quot;&quot;);\r\nor\r\n\r\n        printWriter.println(&quot;=\\&quot;&quot; + value + &quot;\\&quot;&quot;);\r\n         \r\n        \r\n\r\nPlease note that you cant simply use \r\n\r\n        write(&quot;\\&quot;&quot; + value + &quot;\\&quot;&quot;)\r\n\r\nYou should append = symbol, i.e assign the value.\r\n\r\nBut using: \r\n\r\n        println(&quot;&#39;&quot; + value + &quot;&#39;&quot;) or println(&quot;&#39;&quot; + value)\r\n\r\nWill also display single quotes in excel file, if this is fine with you can also use that.","title":"how to write to csv with a leading zero?","body":"<p>The issue is that excel treats the cell as general format so it truncates all zeros, if you can't change cell type to Text, then use mentioned previously:</p>\n<pre><code>    printWriter.write(&quot;=\\&quot;&quot; + value + &quot;\\&quot;&quot;);\n</code></pre>\n<p>or</p>\n<pre><code>    printWriter.println(&quot;=\\&quot;&quot; + value + &quot;\\&quot;&quot;);\n     \n    \n</code></pre>\n<p>Please note that you cant simply use</p>\n<pre><code>    write(&quot;\\&quot;&quot; + value + &quot;\\&quot;&quot;)\n</code></pre>\n<p>You should append = symbol, i.e assign the value.</p>\n<p>But using:</p>\n<pre><code>    println(&quot;'&quot; + value + &quot;'&quot;) or println(&quot;'&quot; + value)\n</code></pre>\n<p>Will also display single quotes in excel file, if this is fine with you can also use that.</p>\n"}],"owner":{"account_id":357639,"reputation":10547,"user_id":992600,"accept_rate":74,"display_name":"adhg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15287,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":9502270,"answer_count":7,"score":3,"last_activity_date":1657681718,"creation_date":1330530547,"question_id":9502226,"body_markdown":"I wish to write to a CSV file some data. One of the column that I input the information is in the form of an integer with leading zeros, example: 0000000013. \r\n\r\nFor some reason, excel &#39;converts&#39; it to 13, and I must have it with 10 digits (0000000013). Can anyone tell how this can be circumvented? \r\n\r\n\r\n    String value = &quot;0000000013&quot;; //I tried String.format(&quot;%8d&quot;, 13) doesn&#39;t work\r\n    printWriter.println(value);\r\n\r\nThanks!!!\r\n","title":"how to write to csv with a leading zero?","body":"<p>I wish to write to a CSV file some data. One of the column that I input the information is in the form of an integer with leading zeros, example: 0000000013. </p>\n\n<p>For some reason, excel 'converts' it to 13, and I must have it with 10 digits (0000000013). Can anyone tell how this can be circumvented? </p>\n\n<pre><code>String value = \"0000000013\"; //I tried String.format(\"%8d\", 13) doesn't work\nprintWriter.println(value);\n</code></pre>\n\n<p>Thanks!!!</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":20880790,"reputation":116,"user_id":15338570,"display_name":"Dhana_Kulkarni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657677265,"creation_date":1657677265,"answer_id":72960086,"question_id":72959528,"body_markdown":"I searched about it and I think there is no option for matching the patterns of your config file names so the best I could find out is using the file in @PropertySource like this \r\n\r\n    @PropertySource(&quot;file:/path/to/application.properties&quot;)","title":"@PropertySource to incluide all files in path","body":"<p>I searched about it and I think there is no option for matching the patterns of your config file names so the best I could find out is using the file in @PropertySource like this</p>\n<pre><code>@PropertySource(&quot;file:/path/to/application.properties&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15446818,"reputation":126,"user_id":11143525,"display_name":"SARATHI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657681589,"creation_date":1657681589,"answer_id":72960476,"question_id":72959528,"body_markdown":"Spring doesnt have any predefined way for this. But, we can also use the @PropertySources annotation and specify an array of @PropertySource.\r\n\r\n    @PropertySources({\r\n        @PropertySource(&quot;classpath:foo.properties&quot;),\r\n        @PropertySource(&quot;classpath:bar.properties&quot;)\r\n    })\r\n    public class PropertiesWithJavaConfig {\r\n        //...\r\n    }\r\n\r\nIf you want to automatically include those roperty files its possible using yml.\r\n\r\nIn application-dev.yml, Adding this config allows to inject all the yml that have -dev.yml in them. This can be a list of specific files also. &quot;classpath:/test/test.yml,classpath:/test2/test.yml&quot;\r\n\r\n    application:\r\n      properties:\r\n        locations: &quot;classpath*:/**/*-dev.yml&quot;\r\n\r\nThis helps to get a properties map.\r\n\r\n    @Configuration\r\n    \r\n    public class PropertiesConfig {\r\n    \r\n    private final static Logger LOG = LoggerFactory.getLogger(PropertiesConfig.class);\r\n    \r\n    @Value(&quot;${application.properties.locations}&quot;)\r\n    private String[] locations;\r\n    \r\n    @Autowired\r\n    private ResourceLoader rl;\r\n    \r\n    @Bean\r\n    Map&lt;String, Properties&gt; myProperties() {\r\n        return stream(locations)\r\n                .collect(toMap(filename -&gt; filename, this::loadProperties));\r\n    }\r\n    \r\n    private Properties loadProperties(final String filename) {\r\n    \r\n        YamlPropertySourceLoader loader = new YamlPropertySourceLoader();\r\n        try {\r\n            final Resource[] possiblePropertiesResources = ResourcePatternUtils.getResourcePatternResolver(rl).getResources(filename);\r\n            final Properties properties = new Properties();\r\n            stream(possiblePropertiesResources)\r\n                    .filter(Resource::exists)\r\n                    .map(resource1 -&gt; {\r\n                        try {\r\n                            return loader.load(resource1.getFilename(), resource1);\r\n                        } catch (IOException e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n                    }).flatMap(l -&gt; l.stream())\r\n                    .forEach(propertySource -&gt; {\r\n                        Map source = ((MapPropertySource) propertySource).getSource();\r\n                        properties.putAll(source);\r\n                    });\r\n    \r\n            return properties;\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n    }\r\n\r\n    config\r\n        - application.yml\r\n        - application-dev.yml\r\n        - application-prod.yml\r\n    management\r\n        - management-dev.yml\r\n        - management-prod.yml\r\n\r\n... you get the idea\r\n\r\nThe component is slightly different\r\n\r\n    @Component\r\n    public class PropertiesConfigurer extends     PropertySourcesPlaceholderConfigurer\r\n        implements EnvironmentAware, InitializingBean {\r\n    \r\n    private final static Logger LOG = LoggerFactory.getLogger(PropertiesConfigurer.class);\r\n    \r\n    private String[] locations;\r\n    \r\n    @Autowired\r\n    private ResourceLoader rl;\r\n    private Environment environment;\r\n    \r\n    @Override\r\n    public void setEnvironment(Environment environment) {\r\n        // save off Environment for later use\r\n        this.environment = environment;\r\n        super.setEnvironment(environment);\r\n    }\r\n    \r\n    @Override\r\n    public void afterPropertiesSet() throws Exception {\r\n        // Copy property sources to Environment\r\n        MutablePropertySources envPropSources = ((ConfigurableEnvironment) environment).getPropertySources();\r\n        envPropSources.forEach(propertySource -&gt; {\r\n            if (propertySource.containsProperty(&quot;application.properties.locations&quot;)) {\r\n                locations = ((String) propertySource.getProperty(&quot;application.properties.locations&quot;)).split(&quot;,&quot;);\r\n                stream(locations).forEach(filename -&gt; loadProperties(filename).forEach(source -&gt;{\r\n                    envPropSources.addFirst(source);\r\n                }));\r\n            }\r\n        });\r\n    }\r\n    \r\n    \r\n    private List&lt;PropertySource&gt; loadProperties(final String filename) {\r\n        YamlPropertySourceLoader loader = new YamlPropertySourceLoader();\r\n        try {\r\n            final Resource[] possiblePropertiesResources = ResourcePatternUtils.getResourcePatternResolver(rl).getResources(filename);\r\n            final Properties properties = new Properties();\r\n            return stream(possiblePropertiesResources)\r\n                    .filter(Resource::exists)\r\n                    .map(resource1 -&gt; {\r\n                        try {\r\n                            return loader.load(resource1.getFilename(), resource1);\r\n                        } catch (IOException e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n                    }).flatMap(l -&gt; l.stream())\r\n                    .collect(Collectors.toList());\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n","title":"@PropertySource to incluide all files in path","body":"<p>Spring doesnt have any predefined way for this. But, we can also use the @PropertySources annotation and specify an array of @PropertySource.</p>\n<pre><code>@PropertySources({\n    @PropertySource(&quot;classpath:foo.properties&quot;),\n    @PropertySource(&quot;classpath:bar.properties&quot;)\n})\npublic class PropertiesWithJavaConfig {\n    //...\n}\n</code></pre>\n<p>If you want to automatically include those roperty files its possible using yml.</p>\n<p>In application-dev.yml, Adding this config allows to inject all the yml that have -dev.yml in them. This can be a list of specific files also. &quot;classpath:/test/test.yml,classpath:/test2/test.yml&quot;</p>\n<pre><code>application:\n  properties:\n    locations: &quot;classpath*:/**/*-dev.yml&quot;\n</code></pre>\n<p>This helps to get a properties map.</p>\n<pre><code>@Configuration\n\npublic class PropertiesConfig {\n\nprivate final static Logger LOG = LoggerFactory.getLogger(PropertiesConfig.class);\n\n@Value(&quot;${application.properties.locations}&quot;)\nprivate String[] locations;\n\n@Autowired\nprivate ResourceLoader rl;\n\n@Bean\nMap&lt;String, Properties&gt; myProperties() {\n    return stream(locations)\n            .collect(toMap(filename -&gt; filename, this::loadProperties));\n}\n\nprivate Properties loadProperties(final String filename) {\n\n    YamlPropertySourceLoader loader = new YamlPropertySourceLoader();\n    try {\n        final Resource[] possiblePropertiesResources = ResourcePatternUtils.getResourcePatternResolver(rl).getResources(filename);\n        final Properties properties = new Properties();\n        stream(possiblePropertiesResources)\n                .filter(Resource::exists)\n                .map(resource1 -&gt; {\n                    try {\n                        return loader.load(resource1.getFilename(), resource1);\n                    } catch (IOException e) {\n                        throw new RuntimeException(e);\n                    }\n                }).flatMap(l -&gt; l.stream())\n                .forEach(propertySource -&gt; {\n                    Map source = ((MapPropertySource) propertySource).getSource();\n                    properties.putAll(source);\n                });\n\n        return properties;\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n}\n}\n\nconfig\n    - application.yml\n    - application-dev.yml\n    - application-prod.yml\nmanagement\n    - management-dev.yml\n    - management-prod.yml\n</code></pre>\n<p>... you get the idea</p>\n<p>The component is slightly different</p>\n<pre><code>@Component\npublic class PropertiesConfigurer extends     PropertySourcesPlaceholderConfigurer\n    implements EnvironmentAware, InitializingBean {\n\nprivate final static Logger LOG = LoggerFactory.getLogger(PropertiesConfigurer.class);\n\nprivate String[] locations;\n\n@Autowired\nprivate ResourceLoader rl;\nprivate Environment environment;\n\n@Override\npublic void setEnvironment(Environment environment) {\n    // save off Environment for later use\n    this.environment = environment;\n    super.setEnvironment(environment);\n}\n\n@Override\npublic void afterPropertiesSet() throws Exception {\n    // Copy property sources to Environment\n    MutablePropertySources envPropSources = ((ConfigurableEnvironment) environment).getPropertySources();\n    envPropSources.forEach(propertySource -&gt; {\n        if (propertySource.containsProperty(&quot;application.properties.locations&quot;)) {\n            locations = ((String) propertySource.getProperty(&quot;application.properties.locations&quot;)).split(&quot;,&quot;);\n            stream(locations).forEach(filename -&gt; loadProperties(filename).forEach(source -&gt;{\n                envPropSources.addFirst(source);\n            }));\n        }\n    });\n}\n\n\nprivate List&lt;PropertySource&gt; loadProperties(final String filename) {\n    YamlPropertySourceLoader loader = new YamlPropertySourceLoader();\n    try {\n        final Resource[] possiblePropertiesResources = ResourcePatternUtils.getResourcePatternResolver(rl).getResources(filename);\n        final Properties properties = new Properties();\n        return stream(possiblePropertiesResources)\n                .filter(Resource::exists)\n                .map(resource1 -&gt; {\n                    try {\n                        return loader.load(resource1.getFilename(), resource1);\n                    } catch (IOException e) {\n                        throw new RuntimeException(e);\n                    }\n                }).flatMap(l -&gt; l.stream())\n                .collect(Collectors.toList());\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16223118,"reputation":85,"user_id":11714220,"display_name":"Alfredo Morales"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1224,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1657681589,"creation_date":1657670589,"question_id":72959528,"body_markdown":"is it possible, or is there a way to declare a @PropertySource so it automatically include all files ending in _config.properties like:\r\n\r\n    @PropertySource(value = { &quot;classpath:*_config.properties&quot; })\r\n\r\nor all .properties inside an specific folder folder\r\n\r\n    @PropertySource(value = { &quot;classpath:somefolder/*.properties&quot; })","title":"@PropertySource to incluide all files in path","body":"<p>is it possible, or is there a way to declare a @PropertySource so it automatically include all files ending in _config.properties like:</p>\n<pre><code>@PropertySource(value = { &quot;classpath:*_config.properties&quot; })\n</code></pre>\n<p>or all .properties inside an specific folder folder</p>\n<pre><code>@PropertySource(value = { &quot;classpath:somefolder/*.properties&quot; })\n</code></pre>\n"},{"tags":["java","file","audio","byte","wav"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1626568509,"post_id":68424973,"comment_id":120927821,"body_markdown":"Do you understand the difference between big endian and little endian? It isn&#39;t clear from your question what problem you are having doing the conversion.","body":"Do you understand the difference between big endian and little endian? It isn&#39;t clear from your question what problem you are having doing the conversion."},{"owner":{"account_id":49433,"reputation":27230,"user_id":147175,"accept_rate":93,"display_name":"Scott Stensland"},"score":0,"creation_date":1626570637,"post_id":68424973,"comment_id":120928040,"body_markdown":"this  may help https://stackoverflow.com/questions/14116916/do-i-need-to-care-about-big-endian-and-little-endian-when-i-read-data-through-au   also checkout  https://dsp.stackexchange.com/questions/66820/what-signed-16-bits-little-endian-mean-in-pcm-audio-buffer","body":"this  may help <a href=\"https://stackoverflow.com/questions/14116916/do-i-need-to-care-about-big-endian-and-little-endian-when-i-read-data-through-au\" title=\"do i need to care about big endian and little endian when i read data through au\">stackoverflow.com/questions/14116916/&hellip;</a>   also checkout  <a href=\"https://dsp.stackexchange.com/questions/66820/what-signed-16-bits-little-endian-mean-in-pcm-audio-buffer\" title=\"what signed 16 bits little endian mean in pcm audio buffer\">dsp.stackexchange.com/questions/66820/&hellip;</a>"},{"owner":{"account_id":18087896,"reputation":51,"user_id":13148334,"display_name":"Jes M&#252;ller"},"score":0,"creation_date":1626602184,"post_id":68424973,"comment_id":120932450,"body_markdown":"I understand the difference, currently i am coding a bot for discord that should recognize the voice and uses the google api for speech to text. I am getting it with big endian but google needs little endian","body":"I understand the difference, currently i am coding a bot for discord that should recognize the voice and uses the google api for speech to text. I am getting it with big endian but google needs little endian"}],"answers":[{"tags":[],"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626629942,"creation_date":1626629942,"answer_id":68431624,"question_id":68424973,"body_markdown":"When the data is 16-bit, each PCM value is stored as two bytes. All you have to do is iterate through the array, swapping the positions of every pair of bytes.","title":"How to convert little endian to big endian in java .wav files","body":"<p>When the data is 16-bit, each PCM value is stored as two bytes. All you have to do is iterate through the array, swapping the positions of every pair of bytes.</p>\n"},{"tags":[],"owner":{"account_id":18087896,"reputation":51,"user_id":13148334,"display_name":"Jes M&#252;ller"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657680936,"creation_date":1626632645,"answer_id":68431961,"question_id":68424973,"body_markdown":"Found a way ... it&#39;s pretty easy:\r\n\r\n    private void getWavFile(File outFile, byte[] decodedData) throws IOException {\r\n        AudioFormat format = new AudioFormat(48000.0F, 16, 2, true, true);\r\n        boolean convertable = AudioSystem.isConversionSupported(\r\n                               new AudioFormat(48000, 16, 2, true, false), format);\r\n        System.out.println(&quot;Can be converted: &quot; + convertable);\r\n        AudioSystem.write(new AudioInputStream(\r\n            new ByteArrayInputStream(decodedData), format, decodedData.length), \r\n            AudioFileFormat.Type.WAVE, outFile);\r\n        File converted = new File(&quot;converted.wav&quot;);\r\n        try {\r\n            AudioInputStream audioInputStream = AudioSystem.getAudioInputStream(\r\n                new AudioFormat(48000, 16, 2, true, false), \r\n                AudioSystem.getAudioInputStream(outFile));\r\n            AudioSystem.write(audioInputStream, AudioFileFormat.Type.WAVE, converted);\r\n        } catch (UnsupportedAudioFileException e) {\r\n                e.printStackTrace();\r\n        }\r\n    }","title":"How to convert little endian to big endian in java .wav files","body":"<p>Found a way ... it's pretty easy:</p>\n<pre><code>private void getWavFile(File outFile, byte[] decodedData) throws IOException {\n    AudioFormat format = new AudioFormat(48000.0F, 16, 2, true, true);\n    boolean convertable = AudioSystem.isConversionSupported(\n                           new AudioFormat(48000, 16, 2, true, false), format);\n    System.out.println(&quot;Can be converted: &quot; + convertable);\n    AudioSystem.write(new AudioInputStream(\n        new ByteArrayInputStream(decodedData), format, decodedData.length), \n        AudioFileFormat.Type.WAVE, outFile);\n    File converted = new File(&quot;converted.wav&quot;);\n    try {\n        AudioInputStream audioInputStream = AudioSystem.getAudioInputStream(\n            new AudioFormat(48000, 16, 2, true, false), \n            AudioSystem.getAudioInputStream(outFile));\n        AudioSystem.write(audioInputStream, AudioFileFormat.Type.WAVE, converted);\n    } catch (UnsupportedAudioFileException e) {\n            e.printStackTrace();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18087896,"reputation":51,"user_id":13148334,"display_name":"Jes M&#252;ller"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":552,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68431961,"answer_count":2,"score":1,"last_activity_date":1657680936,"creation_date":1626564459,"question_id":68424973,"body_markdown":"I&#39;ve got the following problem:\r\n\r\nI need to convert audio bytes (byte[]) from \r\n\r\n48kHz, 16 bit, stereo, PCM signed, BIG ENDIAN\r\n\r\nto\r\n\r\n48kHz, 16 bit, stereo, PCM signed, LITTLE ENDIAN\r\n\r\n\r\nin java and save it as .wav file.\r\n\r\n    \r\n                          List&lt;byte[]&gt; orderedBytes = bytesFromVoice;\r\n    \r\n                                /*\r\n                                Here i need to sort the bytes\r\n                                 */\r\n    \r\n                                int size = 0;\r\n                                for (byte[] bs : orderedBytes) {\r\n                                    size += bs.length;\r\n                                }\r\n                                byte[] decodedData = new byte[size];\r\n                                int i = 0;\r\n                                for (byte[] bs : orderedBytes) {\r\n                                    for (int j = 0; j &lt; bs.length; j++) {\r\n                                        decodedData[i++] = bs[j];\r\n                                    }\r\n                                }\r\n    \r\n                                //writing to file\r\n                                try {\r\n                                    getWavFile(getNextFile(), decodedData);\r\n                                } catch (IOException exception) {\r\n                                    exception.printStackTrace();\r\n                                }\r\n\r\n\r\n\r\n","title":"How to convert little endian to big endian in java .wav files","body":"<p>I've got the following problem:</p>\n<p>I need to convert audio bytes (byte[]) from</p>\n<p>48kHz, 16 bit, stereo, PCM signed, BIG ENDIAN</p>\n<p>to</p>\n<p>48kHz, 16 bit, stereo, PCM signed, LITTLE ENDIAN</p>\n<p>in java and save it as .wav file.</p>\n<pre><code>                      List&lt;byte[]&gt; orderedBytes = bytesFromVoice;\n\n                            /*\n                            Here i need to sort the bytes\n                             */\n\n                            int size = 0;\n                            for (byte[] bs : orderedBytes) {\n                                size += bs.length;\n                            }\n                            byte[] decodedData = new byte[size];\n                            int i = 0;\n                            for (byte[] bs : orderedBytes) {\n                                for (int j = 0; j &lt; bs.length; j++) {\n                                    decodedData[i++] = bs[j];\n                                }\n                            }\n\n                            //writing to file\n                            try {\n                                getWavFile(getNextFile(), decodedData);\n                            } catch (IOException exception) {\n                                exception.printStackTrace();\n                            }\n</code></pre>\n"},{"tags":["java","android","copy"],"answers":[{"tags":[],"owner":{"account_id":1857085,"reputation":12517,"user_id":1682419,"display_name":"Jerry101"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656576080,"creation_date":1656576080,"answer_id":72812254,"question_id":72812085,"body_markdown":"Android Studio (like all JetBrains IDEs) is very configurable.\r\n\r\nCheck its Keyboard Shortcuts to see if Ctrl+C is a shortcut to the text copy command in text panes:\r\n\r\n1. Preferences &gt; Keymap\r\n2. Click the second magnifying glass icon (&quot;Find actions by shortcut&quot;).\r\n3. Type Ctrl+C (or Cmd+C). --&gt; Is it mapped to Main Menu &gt; Edit &gt; Copy?\r\n4. Type `copy` into the magnifying glass icon filter text field. --&gt; Look through the different commands and their shortcuts.","title":"Ctrl +c and Ctrl +v is not working in android studio","body":"<p>Android Studio (like all JetBrains IDEs) is very configurable.</p>\n<p>Check its Keyboard Shortcuts to see if Ctrl+C is a shortcut to the text copy command in text panes:</p>\n<ol>\n<li>Preferences &gt; Keymap</li>\n<li>Click the second magnifying glass icon (&quot;Find actions by shortcut&quot;).</li>\n<li>Type Ctrl+C (or Cmd+C). --&gt; Is it mapped to Main Menu &gt; Edit &gt; Copy?</li>\n<li>Type <code>copy</code> into the magnifying glass icon filter text field. --&gt; Look through the different commands and their shortcuts.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":16846220,"reputation":58,"user_id":12180320,"display_name":"Thazin Soe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657680829,"creation_date":1657680829,"answer_id":72960403,"question_id":72812085,"body_markdown":"I think you installed IdeaVim in your Android Studio. Please remove this, restart and try again. Hope it will work.\r\n\r\nYou can check IdeaVim plugin is installed or not in Setting-&gt;Plugins\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2lnzX.png","title":"Ctrl +c and Ctrl +v is not working in android studio","body":"<p>I think you installed IdeaVim in your Android Studio. Please remove this, restart and try again. Hope it will work.</p>\n<p>You can check IdeaVim plugin is installed or not in Setting-&gt;Plugins</p>\n<p><a href=\"https://i.stack.imgur.com/2lnzX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2lnzX.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":19238778,"reputation":5,"user_id":14059236,"display_name":"Sfa Shah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":730,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":2,"score":-2,"last_activity_date":1657680829,"creation_date":1656575359,"question_id":72812085,"body_markdown":"I am able to copy text from other programs and paste it to Android Studio. I am able to right click and copy selected text. I am able to cut text and paste it using shortcut. But while using shortcut Ctrl + C to copy text I am often unable to copy. This is very annoying problem. Does anyone here knows how to solve it?","title":"Ctrl +c and Ctrl +v is not working in android studio","body":"<p>I am able to copy text from other programs and paste it to Android Studio. I am able to right click and copy selected text. I am able to cut text and paste it using shortcut. But while using shortcut Ctrl + C to copy text I am often unable to copy. This is very annoying problem. Does anyone here knows how to solve it?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","hibernate-envers"],"comments":[{"owner":{"account_id":10480901,"reputation":230,"user_id":7725929,"accept_rate":87,"display_name":"Muchtar"},"score":0,"creation_date":1686739418,"post_id":72960166,"comment_id":134839637,"body_markdown":"Are there any updates to this? I&#39;m facing the same problems by updating from spring boot 2.7 to 3.1","body":"Are there any updates to this? I&#39;m facing the same problems by updating from spring boot 2.7 to 3.1"}],"answers":[{"tags":[],"owner":{"account_id":15446818,"reputation":126,"user_id":11143525,"display_name":"SARATHI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657679804,"creation_date":1657679804,"answer_id":72960315,"question_id":72960166,"body_markdown":"You can access the Database and alter the table to auto increment even on null values this works fine.\r\n\r\n    mysql&gt; Create table employee(id INT NOT NULL PRIMARY KEY AUTO_INCREMENT, Name Varchar(10));\r\n    Query OK, 0 rows affected (0.16 sec)\r\nWhen a nul value is passed into this,\r\n\r\n    mysql&gt; Insert into employee(id, Name) values(NULL, &#39;Sarathi&#39;);\r\n    Query OK, 1 row affected (0.07 sec)\r\nIt wont consider the null and MySQL will return sequence number as seen below.\r\n\r\n    mysql&gt; Select * from employee;\r\n    +----+---------+\r\n    | id | Name    |\r\n    +----+---------+\r\n    | 1  | Sarathi |\r\n    +----+---------+\r\n    1 row in set (0.00 sec)\r\n\r\n","title":"Spring boot upgrade causes tests to fail with hibernate exception &quot;NULL not allowed for column REV&quot;","body":"<p>You can access the Database and alter the table to auto increment even on null values this works fine.</p>\n<pre><code>mysql&gt; Create table employee(id INT NOT NULL PRIMARY KEY AUTO_INCREMENT, Name Varchar(10));\nQuery OK, 0 rows affected (0.16 sec)\n</code></pre>\n<p>When a nul value is passed into this,</p>\n<pre><code>mysql&gt; Insert into employee(id, Name) values(NULL, 'Sarathi');\nQuery OK, 1 row affected (0.07 sec)\n</code></pre>\n<p>It wont consider the null and MySQL will return sequence number as seen below.</p>\n<pre><code>mysql&gt; Select * from employee;\n+----+---------+\n| id | Name    |\n+----+---------+\n| 1  | Sarathi |\n+----+---------+\n1 row in set (0.00 sec)\n</code></pre>\n"}],"owner":{"account_id":3600664,"reputation":2545,"user_id":3004041,"accept_rate":34,"display_name":"covfefe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":503,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1657680251,"creation_date":1657678241,"question_id":72960166,"body_markdown":"For my Java Spring application, after upgrading Spring boot to version `2.7.0`, my tests started failing with this error:\r\n\r\n    Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n    \tat com.core.SomeProject.Test.testSomething(SomeTest.java:224)\r\n    Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: \r\n    NULL not allowed for column &quot;REV&quot;; SQL statement:\r\n    insert into revinfo (rev, revtstmp) values (null, ?) [23502-212]\r\n\r\nAfter looking around, a commonly suggested solution was to modify the create statement for the `revinfo` table to make `rev` be auto-incremented like this:\r\n\r\n    &lt;addAutoIncrement tableName=&quot;REVINFO&quot; columnName=&quot;REV&quot; columnDataType=&quot;INTEGER&quot;/&gt;\r\n\r\nIf this is actually the solution, how do I configure this in my Spring application?\r\n\r\n\r\nIt looks like the `revinfo` table is automatically generated; it&#39;s not explicitly defined in the Spring project. The classes that have an `@Audited` tag above them have an audited table automatically generated for them, so I don&#39;t know how I can make that column autoincrement. Any ideas would be appreciated, thanks!\r\n\r\nThis is on hibernate-core version `5.6.9.Final` and hibernate-envers version `5.3.20.Final`.","title":"Spring boot upgrade causes tests to fail with hibernate exception &quot;NULL not allowed for column REV&quot;","body":"<p>For my Java Spring application, after upgrading Spring boot to version <code>2.7.0</code>, my tests started failing with this error:</p>\n<pre><code>Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement\n    at com.core.SomeProject.Test.testSomething(SomeTest.java:224)\nCaused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: \nNULL not allowed for column &quot;REV&quot;; SQL statement:\ninsert into revinfo (rev, revtstmp) values (null, ?) [23502-212]\n</code></pre>\n<p>After looking around, a commonly suggested solution was to modify the create statement for the <code>revinfo</code> table to make <code>rev</code> be auto-incremented like this:</p>\n<pre><code>&lt;addAutoIncrement tableName=&quot;REVINFO&quot; columnName=&quot;REV&quot; columnDataType=&quot;INTEGER&quot;/&gt;\n</code></pre>\n<p>If this is actually the solution, how do I configure this in my Spring application?</p>\n<p>It looks like the <code>revinfo</code> table is automatically generated; it's not explicitly defined in the Spring project. The classes that have an <code>@Audited</code> tag above them have an audited table automatically generated for them, so I don't know how I can make that column autoincrement. Any ideas would be appreciated, thanks!</p>\n<p>This is on hibernate-core version <code>5.6.9.Final</code> and hibernate-envers version <code>5.3.20.Final</code>.</p>\n"},{"tags":["java","concurrenthashmap"],"comments":[{"owner":{"account_id":536567,"reputation":7838,"user_id":905488,"display_name":"Mick Mnemonic"},"score":1,"creation_date":1533595789,"post_id":51716527,"comment_id":90394415,"body_markdown":"For a proper, efficient and lightweight Java 8 caching library, you could have a look at [Caffeine](https://github.com/ben-manes/caffeine/wiki/Population). It abstracts away the stuff you&#39;re worrying about here. For Java &lt; 8, [Guava caches](https://github.com/google/guava/wiki/CachesExplained) provide pretty much the same functionality.","body":"For a proper, efficient and lightweight Java 8 caching library, you could have a look at <a href=\"https://github.com/ben-manes/caffeine/wiki/Population\" rel=\"nofollow noreferrer\">Caffeine</a>. It abstracts away the stuff you&#39;re worrying about here. For Java &lt; 8, <a href=\"https://github.com/google/guava/wiki/CachesExplained\" rel=\"nofollow noreferrer\">Guava caches</a> provide pretty much the same functionality."},{"owner":{"account_id":10190767,"reputation":87,"user_id":7524277,"display_name":"dt94"},"score":1,"creation_date":1534200946,"post_id":51716527,"comment_id":90617324,"body_markdown":"I ended up using a Guava LoadingCache, like you said it does everything I was trying to achieve.","body":"I ended up using a Guava LoadingCache, like you said it does everything I was trying to achieve."}],"answers":[{"tags":[],"owner":{"account_id":953149,"reputation":177293,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1533595677,"creation_date":1533595677,"answer_id":51716599,"question_id":51716527,"body_markdown":"&amp;gt; Will using computeIfAbsent() work to acquire a &#39;lock&#39; on that particular key?\r\n\r\nYes; per [the Javadoc for `ConcurrentHashMap.computeIfAbsent(...)`](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html#computeIfAbsent-K-java.util.function.Function-):\r\n\r\n&gt; The entire method invocation is performed atomically, so the function is applied at most once per key.\r\n\r\nThat&#39;s really the whole point of the method.\r\n\r\nHowever, to be clear, the lock is not completely specific to that one key; rather, `ConcurrentHashMap` typically works by splitting the map into multiple segments, and having one lock per segment. This allows a great deal of concurrency, and is usually the most efficient approach; but you should be aware that it means that some threads might block on your object creation even if they&#39;re not actually touching the same key.\r\n\r\nIf this is a problem for you, then another approach is to use something like `ConcurrentHashMap&lt;K, AtomicReference&lt;V&gt;&gt;` to decouple *adding* the map entry from *populating* the map entry. (`AtomicReference&lt;V&gt;` doesn&#39;t have a `computeIfAbsent` method, but at that point you can just use normal double-checked locking with a combination of `get()` and `synchronized`.)","title":"How to lock on key in a ConcurrentHashMap","body":"<p>&gt; Will using computeIfAbsent() work to acquire a 'lock' on that particular key?</p>\n\n<p>Yes; per <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html#computeIfAbsent-K-java.util.function.Function-\" rel=\"noreferrer\">the Javadoc for <code>ConcurrentHashMap.computeIfAbsent(...)</code></a>:</p>\n\n<blockquote>\n  <p>The entire method invocation is performed atomically, so the function is applied at most once per key.</p>\n</blockquote>\n\n<p>That's really the whole point of the method.</p>\n\n<p>However, to be clear, the lock is not completely specific to that one key; rather, <code>ConcurrentHashMap</code> typically works by splitting the map into multiple segments, and having one lock per segment. This allows a great deal of concurrency, and is usually the most efficient approach; but you should be aware that it means that some threads might block on your object creation even if they're not actually touching the same key.</p>\n\n<p>If this is a problem for you, then another approach is to use something like <code>ConcurrentHashMap&lt;K, AtomicReference&lt;V&gt;&gt;</code> to decouple <em>adding</em> the map entry from <em>populating</em> the map entry. (<code>AtomicReference&lt;V&gt;</code> doesn't have a <code>computeIfAbsent</code> method, but at that point you can just use normal double-checked locking with a combination of <code>get()</code> and <code>synchronized</code>.)</p>\n"},{"tags":[],"owner":{"account_id":7281,"reputation":248647,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657679348,"creation_date":1657679348,"answer_id":72960258,"question_id":51716527,"body_markdown":"Took some research, but we were probably after is the Java `ConcurrentHashMap` equivalent of .NET&#39;s `.TryAdd` method. Which is Java world is:\r\n\r\n&gt; [putIfAbsent][1]\r\n&gt; ------------\r\n&gt; \r\n&gt;     public V putIfAbsent(K key, V value);\r\n&gt; \r\n&gt; If the specified key is not already associated with a value, associate it with the given value. This is equivalent to:\r\n&gt; \r\n&gt;     if (!map.containsKey(key))\r\n&gt;        return map.put(key, value);\r\n&gt;     else\r\n&gt;        return map.get(key);\r\n&gt; \r\n&gt; except that the action is performed atomically.\r\n\r\nI knew an atomic `add` operation **had** to exist; just was not easy to find. (which is odd because it&#39;s like the very first thing anyone would ever need to call).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html#putIfAbsent-K-V-","title":"How to lock on key in a ConcurrentHashMap","body":"<p>Took some research, but we were probably after is the Java <code>ConcurrentHashMap</code> equivalent of .NET's <code>.TryAdd</code> method. Which is Java world is:</p>\n<blockquote>\n<h2><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html#putIfAbsent-K-V-\" rel=\"nofollow noreferrer\">putIfAbsent</a></h2>\n<pre><code>public V putIfAbsent(K key, V value);\n</code></pre>\n<p>If the specified key is not already associated with a value, associate it with the given value. This is equivalent to:</p>\n<pre><code>if (!map.containsKey(key))\n   return map.put(key, value);\nelse\n   return map.get(key);\n</code></pre>\n<p>except that the action is performed atomically.</p>\n</blockquote>\n<p>I knew an atomic <code>add</code> operation <strong>had</strong> to exist; just was not easy to find. (which is odd because it's like the very first thing anyone would ever need to call).</p>\n"}],"owner":{"account_id":10190767,"reputation":87,"user_id":7524277,"display_name":"dt94"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3393,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":51716599,"answer_count":2,"score":6,"last_activity_date":1657679348,"creation_date":1533595049,"question_id":51716527,"body_markdown":"I am caching an object, which is created by a thread, into a map. The creation of the object is expensive, so I don&#39;t want multiple threads running to create the object because the put() hasn&#39;t returned. Once a thread tries to create an object for that key, other threads shouldn&#39;t try to create the object, even if put is not yet complete. Will using computeIfAbsent() work to acquire a &#39;lock&#39; on that particular key? If not, is there another way to achieve this?\r\n\r\n\r\n","title":"How to lock on key in a ConcurrentHashMap","body":"<p>I am caching an object, which is created by a thread, into a map. The creation of the object is expensive, so I don't want multiple threads running to create the object because the put() hasn't returned. Once a thread tries to create an object for that key, other threads shouldn't try to create the object, even if put is not yet complete. Will using computeIfAbsent() work to acquire a 'lock' on that particular key? If not, is there another way to achieve this?</p>\n"},{"tags":["java","vim","plugins","vim-plugin"],"answers":[{"tags":[],"owner":{"account_id":10033600,"reputation":605,"user_id":7419139,"display_name":"iaquobe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1579083716,"creation_date":1579042067,"answer_id":59742838,"question_id":58208330,"body_markdown":"Might a a bit late&lt;br&gt;\r\n\r\n`&lt;C-x&gt;&lt;C-o&gt;` (`ctrl + x`,`ctrl + o`) will bring up a list of options.\r\n\r\nPress this in insert mode wherever you would press `ctrl + space` in other IDEs&lt;br&gt;\r\ni.e.: after `System.`","title":"Just installed vim-javacomplete2 but doesn autocomplete at all","body":"<p>Might a a bit late<br></p>\n\n<p><code>&lt;C-x&gt;&lt;C-o&gt;</code> (<code>ctrl + x</code>,<code>ctrl + o</code>) will bring up a list of options.</p>\n\n<p>Press this in insert mode wherever you would press <code>ctrl + space</code> in other IDEs<br>\ni.e.: after <code>System.</code></p>\n"},{"tags":[],"owner":{"account_id":19174115,"reputation":110,"user_id":14135669,"display_name":"polendina"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657678981,"creation_date":1657678981,"answer_id":72960215,"question_id":58208330,"body_markdown":"Expanding upon @iaquobe&#39;s answer, autocompletion while typing or more specifically after the dot notation, isn&#39;t enabled by default with this plugin, unless triggered manually using &lt;kbd&gt;C&lt;/kbd&gt;-&lt;kbd&gt;x&lt;/kbd&gt;,&lt;kbd&gt;C&lt;/kbd&gt;-&lt;kbd&gt;o&lt;/kbd&gt;, which can -and will- become tedious over time.\r\n&lt;br&gt;There&#39;re other autocompletion plugins that can be installed along with other completion engines, and be configured to integrate with them, namely: `vim-mucomplet`, `youcompleteme`, and `neocomplete.vim`.","title":"Just installed vim-javacomplete2 but doesn autocomplete at all","body":"<p>Expanding upon @iaquobe's answer, autocompletion while typing or more specifically after the dot notation, isn't enabled by default with this plugin, unless triggered manually using <kbd>C</kbd>-<kbd>x</kbd>,<kbd>C</kbd>-<kbd>o</kbd>, which can -and will- become tedious over time.\n<br>There're other autocompletion plugins that can be installed along with other completion engines, and be configured to integrate with them, namely: <code>vim-mucomplet</code>, <code>youcompleteme</code>, and <code>neocomplete.vim</code>.</p>\n"}],"owner":{"account_id":15446839,"reputation":819,"user_id":11143545,"display_name":"Herdsman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1217,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1657678981,"creation_date":1570045239,"question_id":58208330,"body_markdown":"I am newbie to plugins in vim. I am using vim for a year but without any experience with plugins. So i installed Vim-plug, then add `Plug vim-javacomplete2&#39;` to my .vimrc and `:PlugInstall` it. It was installed. Then I add `autocmd FileType java setlocal omnifunc=javacomplete#Complete` to my .vimrc as well - as is in github. But then, ther is nothing else. So some commands works. I Tried for example `JCgenerateAccessors` - which generate getter and setter upon my private fields. So commands works. But The autocompletation doesn (such main function). I am making classes within a file in my directory. Then `javac Test.java` and `java Test` - which runs it. But still, when editting in vim the `Test.java`, no autocompletation. What I did wrong?","title":"Just installed vim-javacomplete2 but doesn autocomplete at all","body":"<p>I am newbie to plugins in vim. I am using vim for a year but without any experience with plugins. So i installed Vim-plug, then add <code>Plug vim-javacomplete2'</code> to my .vimrc and <code>:PlugInstall</code> it. It was installed. Then I add <code>autocmd FileType java setlocal omnifunc=javacomplete#Complete</code> to my .vimrc as well - as is in github. But then, ther is nothing else. So some commands works. I Tried for example <code>JCgenerateAccessors</code> - which generate getter and setter upon my private fields. So commands works. But The autocompletation doesn (such main function). I am making classes within a file in my directory. Then <code>javac Test.java</code> and <code>java Test</code> - which runs it. But still, when editting in vim the <code>Test.java</code>, no autocompletation. What I did wrong?</p>\n"},{"tags":["java","xml","dom4j"],"answers":[{"tags":[],"owner":{"account_id":2570099,"reputation":1,"user_id":2229064,"display_name":"Emircan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1428934123,"creation_date":1428934123,"answer_id":29607398,"question_id":29607050,"body_markdown":"You should select name from current node like this : \r\n\r\n        List list = document.selectNodes( &quot;//a/@href&quot; );\r\n\r\n        for (Iterator iter = list.iterator(); iter.hasNext(); ) {\r\n            Attribute attribute = (Attribute) iter.next();\r\n            String url = attribute.getValue();\r\n        }\r\n\r\nhttp://dom4j.sourceforge.net/dom4j-1.6.1/guide.html","title":"How to get nodes of only current element in dom4j?","body":"<p>You should select name from current node like this : </p>\n\n<pre><code>    List list = document.selectNodes( \"//a/@href\" );\n\n    for (Iterator iter = list.iterator(); iter.hasNext(); ) {\n        Attribute attribute = (Attribute) iter.next();\n        String url = attribute.getValue();\n    }\n</code></pre>\n\n<p><a href=\"http://dom4j.sourceforge.net/dom4j-1.6.1/guide.html\" rel=\"nofollow\">http://dom4j.sourceforge.net/dom4j-1.6.1/guide.html</a></p>\n"},{"tags":[],"owner":{"account_id":8897,"reputation":11209,"user_id":16206,"accept_rate":78,"display_name":"borjab"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1657676103,"creation_date":1428934512,"answer_id":29607554,"question_id":29607050,"body_markdown":"As it uses XPath why don&#39;t you try something like: \r\n\r\n    root.selectNodes(&quot;/root/variant[1]/values/name&quot;);\r\n\r\nThis means: Take the first variant in root and search for &quot;\\values\\name&quot;. \r\n\r\nYou may also try to remove the double slash. Double slash means any case that has an ancestor so it may be confusing. You may use the dot to select the current node:\r\n\r\n    variant.selectNodes(&quot;./values/name&quot;);\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to get nodes of only current element in dom4j?","body":"<p>As it uses XPath why don't you try something like:</p>\n<pre><code>root.selectNodes(&quot;/root/variant[1]/values/name&quot;);\n</code></pre>\n<p>This means: Take the first variant in root and search for &quot;\\values\\name&quot;.</p>\n<p>You may also try to remove the double slash. Double slash means any case that has an ancestor so it may be confusing. You may use the dot to select the current node:</p>\n<pre><code>variant.selectNodes(&quot;./values/name&quot;);\n</code></pre>\n"}],"owner":{"account_id":4691119,"reputation":57,"user_id":3797234,"accept_rate":10,"display_name":"user3797234"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1644,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1657676103,"creation_date":1428933152,"question_id":29607050,"body_markdown":"Please help me to solve the following issue in dom4j\r\n\r\nThis is my xml file:\r\n\r\n    &lt;root&gt;\r\n    \t&lt;variant&gt;\r\n    \t\t&lt;name&gt;first&lt;/name&gt;\r\n    \t\t&lt;values&gt;\r\n    \t\t\t&lt;name&gt;first_element&lt;/name&gt;\r\n    \t\t&lt;/values&gt;\r\n    \t&lt;/variant&gt;\r\n    \t&lt;variant&gt;\r\n    \t\t&lt;name&gt;second&lt;/name&gt;\r\n    \t\t&lt;values&gt;\r\n    \t\t\t&lt;name&gt;second_element&lt;/name&gt;\r\n    \t\t&lt;/values&gt;\r\n    \t&lt;/variant&gt;\r\n    &lt;/root&gt;\r\n\r\nI used following java code to get the variant node.\r\n\r\n    root.selectNodes(&quot;\\root\\variant&quot;);\r\n\r\nThis is giving me the list count as 2. I am using list to collect each node individually. from list nodes I am iterating. I used to following code to get the value &quot;values\\name&quot;.\r\n\r\n    variant.selectNodes(&quot;\\\\values\\name&quot;);\r\n\r\nI am getting both the values &quot;first_element and second_element&quot;. could any one help me to get one values of the current node.\r\n\r\n\r\n \r\n","title":"How to get nodes of only current element in dom4j?","body":"<p>Please help me to solve the following issue in dom4j</p>\n\n<p>This is my xml file:</p>\n\n<pre><code>&lt;root&gt;\n    &lt;variant&gt;\n        &lt;name&gt;first&lt;/name&gt;\n        &lt;values&gt;\n            &lt;name&gt;first_element&lt;/name&gt;\n        &lt;/values&gt;\n    &lt;/variant&gt;\n    &lt;variant&gt;\n        &lt;name&gt;second&lt;/name&gt;\n        &lt;values&gt;\n            &lt;name&gt;second_element&lt;/name&gt;\n        &lt;/values&gt;\n    &lt;/variant&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>I used following java code to get the variant node.</p>\n\n<pre><code>root.selectNodes(\"\\root\\variant\");\n</code></pre>\n\n<p>This is giving me the list count as 2. I am using list to collect each node individually. from list nodes I am iterating. I used to following code to get the value \"values\\name\".</p>\n\n<pre><code>variant.selectNodes(\"\\\\values\\name\");\n</code></pre>\n\n<p>I am getting both the values \"first_element and second_element\". could any one help me to get one values of the current node.</p>\n"},{"tags":["java","amazon-web-services","amazon-sqs"],"comments":[{"owner":{"account_id":58377,"reputation":247890,"user_id":174777,"display_name":"John Rotenstein"},"score":0,"creation_date":1657679590,"post_id":72959825,"comment_id":128865907,"body_markdown":"I can&#39;t see anything (eg logs) that would be able to tell you that a duplicate was discarded.","body":"I can&#39;t see anything (eg logs) that would be able to tell you that a duplicate was discarded."},{"owner":{"account_id":3792525,"reputation":898,"user_id":3148606,"display_name":"Amolpskamble"},"score":1,"creation_date":1657715570,"post_id":72959825,"comment_id":128875644,"body_markdown":"SQS returns the same message-id as the earlier message when the message is duplicate; you can store the message-id in the cache or any other storage and compare; if SQS is not returning any flag that suggests that message was duplicate","body":"SQS returns the same message-id as the earlier message when the message is duplicate; you can store the message-id in the cache or any other storage and compare; if SQS is not returning any flag that suggests that message was duplicate"}],"owner":{"account_id":182665,"reputation":851,"user_id":417541,"accept_rate":42,"display_name":"Do Will"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657674592,"creation_date":1657673892,"question_id":72959825,"body_markdown":"I am sending a message to an AWS SQS que as below - \r\n\r\n    Map&lt;String, Object&gt; headers = new HashMap&lt;&gt;();\r\n    headers.put(&quot;message-group-id&quot;, messageGroup);\r\n    headers.put(&quot;message-deduplication-id&quot;, &quot;000001&quot;);\r\n    queueMessagingTemplate.convertAndSend(&quot;Que-Name&quot;, msgObject, headers, postProcessor);\r\n\r\nAfter the first message, subsequent messages are ignored as duplicate as expected because of duplicate deduplication id. \r\n\r\nBut, I would like to somehow know that it was ignored. Is there a way? I implemented the PostProcessor hoping that the Message object would have an attribute giving some information to that effect. But, it doesn&#39;t seem to have anything useful.\r\n\r\n\r\n","title":"AWS SQS : After sending a message, is it possible to know if it was duplicate","body":"<p>I am sending a message to an AWS SQS que as below -</p>\n<pre><code>Map&lt;String, Object&gt; headers = new HashMap&lt;&gt;();\nheaders.put(&quot;message-group-id&quot;, messageGroup);\nheaders.put(&quot;message-deduplication-id&quot;, &quot;000001&quot;);\nqueueMessagingTemplate.convertAndSend(&quot;Que-Name&quot;, msgObject, headers, postProcessor);\n</code></pre>\n<p>After the first message, subsequent messages are ignored as duplicate as expected because of duplicate deduplication id.</p>\n<p>But, I would like to somehow know that it was ignored. Is there a way? I implemented the PostProcessor hoping that the Message object would have an attribute giving some information to that effect. But, it doesn't seem to have anything useful.</p>\n"},{"tags":["java","android","android-studio","crash"],"comments":[{"owner":{"display_name":"user19309143"},"score":0,"creation_date":1657656154,"post_id":72957717,"comment_id":128861442,"body_markdown":"Posting the stack trace will help in determining what is wrong.","body":"Posting the stack trace will help in determining what is wrong."},{"owner":{"account_id":25793476,"reputation":1,"user_id":19537146,"display_name":"RoscoeBotha"},"score":0,"creation_date":1657656564,"post_id":72957717,"comment_id":128861573,"body_markdown":"What is a stack trace? Sorry I’m new to this","body":"What is a stack trace? Sorry I’m new to this"},{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":0,"creation_date":1657658769,"post_id":72957717,"comment_id":128862236,"body_markdown":"Check your logcat include the crash details. you can see android studio bottom.\nWatch youtube videos. Debugging skill most important","body":"Check your logcat include the crash details. you can see android studio bottom. Watch youtube videos. Debugging skill most important"},{"owner":{"account_id":20537440,"reputation":253,"user_id":15073157,"display_name":"thebluepandabear"},"score":0,"creation_date":1657672682,"post_id":72957717,"comment_id":128864906,"body_markdown":"Please give your XML code, I will try to recreate this and see where the error is coming from.","body":"Please give your XML code, I will try to recreate this and see where the error is coming from."}],"answers":[{"tags":[],"owner":{"account_id":20537440,"reputation":253,"user_id":15073157,"display_name":"thebluepandabear"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657673542,"creation_date":1657673542,"answer_id":72959790,"question_id":72957717,"body_markdown":"The root of your problem is in the following method:\r\n\r\n```Java\r\npublic void setRandomButtonAnswer(){//randomly overwrites one of the 4 buttons as the correct answer\r\n    int min = 1;\r\n    int max = 5;//not inclusive (1-4)\r\n\r\n    randButton = (int) (Math.random() * (max - min) + min);\r\n    answerButtons[randButton].setText(Integer.toString(sum));\r\n}//setRandomButtonAnswer\r\n```\r\n\r\nYou are getting an `IndexOutOfBoundsException`:\r\n\r\n```\r\n  Caused by: java.lang.ArrayIndexOutOfBoundsException: length=4; index=4\r\n        at com.example.myapplication.MainActivity.setRandomButtonAnswer(MainActivity.java:104)\r\n        at com.example.myapplication.MainActivity.runEquation(MainActivity.java:45)\r\n        at com.example.myapplication.MainActivity.onCreate(MainActivity.java:38)\r\n        at android.app.Activity.performCreate(Activity.java:8051)\r\n        at android.app.Activity.performCreate(Activity.java:8031)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1329)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3608)\r\n```\r\n\r\nThis should be changed to:\r\n\r\n```Kotlin\r\nint max = 4;\r\n```\r\n\r\nSo, the new method should be:\r\n\r\n```\r\npublic void setRandomButtonAnswer(){//randomly overwrites one of the 4 buttons as the correct answer\r\n    int min = 1;\r\n    int max = 4;//not inclusive (1-4)\r\n\r\n    randButton = (int) (Math.random() * (max - min) + min);\r\n    answerButtons[randButton].setText(Integer.toString(sum));\r\n}//setRandomButtonAnswer\r\n```\r\n\r\nHopefully this fixes it.","title":"My android app started crashing occasionally when I press one of the 4 buttons after I implemented the code to generate another equation","body":"<p>The root of your problem is in the following method:</p>\n<pre><code>public void setRandomButtonAnswer(){//randomly overwrites one of the 4 buttons as the correct answer\n    int min = 1;\n    int max = 5;//not inclusive (1-4)\n\n    randButton = (int) (Math.random() * (max - min) + min);\n    answerButtons[randButton].setText(Integer.toString(sum));\n}//setRandomButtonAnswer\n</code></pre>\n<p>You are getting an <code>IndexOutOfBoundsException</code>:</p>\n<pre><code>  Caused by: java.lang.ArrayIndexOutOfBoundsException: length=4; index=4\n        at com.example.myapplication.MainActivity.setRandomButtonAnswer(MainActivity.java:104)\n        at com.example.myapplication.MainActivity.runEquation(MainActivity.java:45)\n        at com.example.myapplication.MainActivity.onCreate(MainActivity.java:38)\n        at android.app.Activity.performCreate(Activity.java:8051)\n        at android.app.Activity.performCreate(Activity.java:8031)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1329)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3608)\n</code></pre>\n<p>This should be changed to:</p>\n<pre><code>int max = 4;\n</code></pre>\n<p>So, the new method should be:</p>\n<pre><code>public void setRandomButtonAnswer(){//randomly overwrites one of the 4 buttons as the correct answer\n    int min = 1;\n    int max = 4;//not inclusive (1-4)\n\n    randButton = (int) (Math.random() * (max - min) + min);\n    answerButtons[randButton].setText(Integer.toString(sum));\n}//setRandomButtonAnswer\n</code></pre>\n<p>Hopefully this fixes it.</p>\n"}],"owner":{"account_id":25793476,"reputation":1,"user_id":19537146,"display_name":"RoscoeBotha"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657673542,"creation_date":1657655747,"question_id":72957717,"body_markdown":"Im making an app that has a timer that counts down from 30s. You get an equation with 4 button with 1 of them being correct. A score is kept track of and a new equation is generated every time you press a button. Im not done with the code yet, but the general concept works. I dont have an end after the timer ends etc. I&#39;m just wondering if anyone can look at my code and see why half of the time it works and the other half it crashes. Don&#39;t judge my bad Coding concepts xD. It only crashes sometimes when i press the buttons after i implemented the code to refresh the equation generated and the random numbers on the buttons \r\n\r\n\r\n----------\r\n\r\n\r\n```package com.example.braintrainerapp;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.os.CountDownTimer;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    public int sum;\r\n    public Button button1;\r\n    public Button button2;\r\n    public Button button3;\r\n    public Button button4;\r\n    public Button[] answerButtons;\r\n    public int randButton;\r\n    public int counter;\r\n    public int amountCorrect;\r\n    public TextView scoreTextView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        button1 = findViewById(R.id.answer1);\r\n        button2 = findViewById(R.id.answer2);\r\n        button3 = findViewById(R.id.answer3);\r\n        button4 = findViewById(R.id.answer4);\r\n        answerButtons = new Button[]{button1, button2, button3, button4};\r\n        scoreTextView = findViewById(R.id.scoreTextView);\r\n        counter = 0;\r\n        amountCorrect = 0;\r\n\r\n        runEquation();//runs all the methods to create an equation and the numbers stored in the buttons\r\n        timerCountDown();\r\n    }//onCreate()\r\n\r\n    public void runEquation(){\r\n        generateEquation();\r\n        getButtonNumbers();\r\n        setRandomButtonAnswer();\r\n    }//runEquation()\r\n\r\n    public void timerCountDown(){\r\n        TextView timerTextView = findViewById(R.id.timerTextView);\r\n\r\n        int lengthOfTime = 30; //amount of time for the timer in seconds\r\n\r\n        CountDownTimer timer = new CountDownTimer(lengthOfTime*1000, 1000) {//*1000 because it is measure in milliseconds\r\n            @Override\r\n            public void onTick(long timeLeft) {\r\n                timerTextView.setText(Long.toString(timeLeft/1000) + &#39;s&#39;);//&#39;s&#39; represents seconds\r\n            }\r\n\r\n            @Override\r\n            public void onFinish() {\r\n\r\n            }\r\n        }.start();\r\n    }//timerCountDown()\r\n\r\n    public void generateEquation(){//generates 2 random numbers between 3 and 15 and adds them together in variable sum\r\n        int numOne = randomNumber(3, 15); //3 is min number, 15 is max number\r\n        int numTwo = randomNumber(3, 15); //3 is min number, 15 is max number\r\n        sum = numOne + numTwo;//public int to check with the equations generated by the buttons\r\n\r\n        displayEquation(numOne, numTwo, sum);\r\n    }//generateEquation()\r\n\r\n    public int randomNumber(int min, int max){//generates a random number between min and max parameters\r\n        int randNum = (int) (Math.random() * (max-min) + min);//generates a random number between between the min and max parameters\r\n        return randNum;\r\n    }//randomNumber\r\n\r\n    public void displayEquation(int numOne, int numTwo, int sum){\r\n        TextView equationTextView = findViewById(R.id.equationTextView);\r\n        equationTextView.setText(numOne + &quot; + &quot; + numTwo + &quot; = ?&quot;);\r\n    }//displayEquation()\r\n\r\n\r\n    public void getButtonNumbers(){//sets the text of each of the buttons to a number generated from generateButtonNumber()\r\n        for(int i = 0; i &lt; 4; i++){\r\n            answerButtons[i].setText(Integer.toString(generateButtonNumber(i)));\r\n        }//end of for\r\n    }//getButtonNumbers()\r\n\r\n    public int generateButtonNumber(int index){//generates a random number between 3 and 15\r\n        int min = 3;\r\n        int max = 15;\r\n\r\n        int randNum = (int) (Math.random() * (max - min) + min);\r\n        return randNum;\r\n    }//generateButtonNumber()\r\n\r\n    public void setRandomButtonAnswer(){//randomly overwrites one of the 4 buttons as the correct answer\r\n        int min = 1;\r\n        int max = 5;//not inclusive (1-4)\r\n\r\n        randButton = (int) (Math.random() * (max - min) + min);\r\n        answerButtons[randButton].setText(Integer.toString(sum));\r\n    }//setRandomButtonAnswer\r\n\r\n    public void checkAnswer(View v){\r\n        Button answerButton = (Button) findViewById(v.getId());\r\n        int answer = Integer.parseInt(answerButton.getText().toString());\r\n\r\n        if(answer == sum){\r\n            correctAnswer();\r\n        }\r\n        else{\r\n            wrongAnswer();\r\n        }\r\n    }//checkAnswer()\r\n\r\n    public void correctAnswer(){\r\n        counter++;\r\n        amountCorrect++;\r\n        scoreTextView.setText(Integer.toString(amountCorrect) + &quot; / &quot; + Integer.toString(counter));\r\n        runEquation();\r\n    }//correctAnswer()\r\n\r\n    public void wrongAnswer(){\r\n        counter++;\r\n        scoreTextView.setText(Integer.toString(amountCorrect) + &quot; / &quot; + Integer.toString(counter));\r\n        runEquation();\r\n    }//wrongAnswer()\r\n}```","title":"My android app started crashing occasionally when I press one of the 4 buttons after I implemented the code to generate another equation","body":"<p>Im making an app that has a timer that counts down from 30s. You get an equation with 4 button with 1 of them being correct. A score is kept track of and a new equation is generated every time you press a button. Im not done with the code yet, but the general concept works. I dont have an end after the timer ends etc. I'm just wondering if anyone can look at my code and see why half of the time it works and the other half it crashes. Don't judge my bad Coding concepts xD. It only crashes sometimes when i press the buttons after i implemented the code to refresh the equation generated and the random numbers on the buttons</p>\n<hr />\n<pre><code>\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.os.CountDownTimer;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\n\npublic class MainActivity extends AppCompatActivity {\n\n    public int sum;\n    public Button button1;\n    public Button button2;\n    public Button button3;\n    public Button button4;\n    public Button[] answerButtons;\n    public int randButton;\n    public int counter;\n    public int amountCorrect;\n    public TextView scoreTextView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        button1 = findViewById(R.id.answer1);\n        button2 = findViewById(R.id.answer2);\n        button3 = findViewById(R.id.answer3);\n        button4 = findViewById(R.id.answer4);\n        answerButtons = new Button[]{button1, button2, button3, button4};\n        scoreTextView = findViewById(R.id.scoreTextView);\n        counter = 0;\n        amountCorrect = 0;\n\n        runEquation();//runs all the methods to create an equation and the numbers stored in the buttons\n        timerCountDown();\n    }//onCreate()\n\n    public void runEquation(){\n        generateEquation();\n        getButtonNumbers();\n        setRandomButtonAnswer();\n    }//runEquation()\n\n    public void timerCountDown(){\n        TextView timerTextView = findViewById(R.id.timerTextView);\n\n        int lengthOfTime = 30; //amount of time for the timer in seconds\n\n        CountDownTimer timer = new CountDownTimer(lengthOfTime*1000, 1000) {//*1000 because it is measure in milliseconds\n            @Override\n            public void onTick(long timeLeft) {\n                timerTextView.setText(Long.toString(timeLeft/1000) + 's');//'s' represents seconds\n            }\n\n            @Override\n            public void onFinish() {\n\n            }\n        }.start();\n    }//timerCountDown()\n\n    public void generateEquation(){//generates 2 random numbers between 3 and 15 and adds them together in variable sum\n        int numOne = randomNumber(3, 15); //3 is min number, 15 is max number\n        int numTwo = randomNumber(3, 15); //3 is min number, 15 is max number\n        sum = numOne + numTwo;//public int to check with the equations generated by the buttons\n\n        displayEquation(numOne, numTwo, sum);\n    }//generateEquation()\n\n    public int randomNumber(int min, int max){//generates a random number between min and max parameters\n        int randNum = (int) (Math.random() * (max-min) + min);//generates a random number between between the min and max parameters\n        return randNum;\n    }//randomNumber\n\n    public void displayEquation(int numOne, int numTwo, int sum){\n        TextView equationTextView = findViewById(R.id.equationTextView);\n        equationTextView.setText(numOne + &quot; + &quot; + numTwo + &quot; = ?&quot;);\n    }//displayEquation()\n\n\n    public void getButtonNumbers(){//sets the text of each of the buttons to a number generated from generateButtonNumber()\n        for(int i = 0; i &lt; 4; i++){\n            answerButtons[i].setText(Integer.toString(generateButtonNumber(i)));\n        }//end of for\n    }//getButtonNumbers()\n\n    public int generateButtonNumber(int index){//generates a random number between 3 and 15\n        int min = 3;\n        int max = 15;\n\n        int randNum = (int) (Math.random() * (max - min) + min);\n        return randNum;\n    }//generateButtonNumber()\n\n    public void setRandomButtonAnswer(){//randomly overwrites one of the 4 buttons as the correct answer\n        int min = 1;\n        int max = 5;//not inclusive (1-4)\n\n        randButton = (int) (Math.random() * (max - min) + min);\n        answerButtons[randButton].setText(Integer.toString(sum));\n    }//setRandomButtonAnswer\n\n    public void checkAnswer(View v){\n        Button answerButton = (Button) findViewById(v.getId());\n        int answer = Integer.parseInt(answerButton.getText().toString());\n\n        if(answer == sum){\n            correctAnswer();\n        }\n        else{\n            wrongAnswer();\n        }\n    }//checkAnswer()\n\n    public void correctAnswer(){\n        counter++;\n        amountCorrect++;\n        scoreTextView.setText(Integer.toString(amountCorrect) + &quot; / &quot; + Integer.toString(counter));\n        runEquation();\n    }//correctAnswer()\n\n    public void wrongAnswer(){\n        counter++;\n        scoreTextView.setText(Integer.toString(amountCorrect) + &quot; / &quot; + Integer.toString(counter));\n        runEquation();\n    }//wrongAnswer()\n}```\n</code></pre>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":8063342,"reputation":681,"user_id":6078268,"display_name":"vladtkachuk"},"score":0,"creation_date":1657625049,"post_id":72951461,"comment_id":128850138,"body_markdown":"could you please format the code and give full (simplified) snippets. it&#39;s hard to get what is going on and how you use it","body":"could you please format the code and give full (simplified) snippets. it&#39;s hard to get what is going on and how you use it"}],"answers":[{"tags":[],"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1657625687,"creation_date":1657625078,"answer_id":72951536,"question_id":72951461,"body_markdown":"What you could do is add bounds to the generic type of your `unversioned` method.\r\n\r\n```java\r\nprivate &lt;T extends DataProvider&gt; T unversioned(Parameters parameters, Supplier&lt;T&gt; supplier) {\r\n  // logic\r\n}\r\n```\r\n\r\nThis, however, requires you to have your response objects implement an interface:\r\n\r\n```java\r\npublic interface DataProvider {\r\n  /*\r\n   * Not sure what the return type of getData is, so used String for illustrative purposes\r\n   */\r\n  String getData(); \r\n}\r\n```\r\n\r\nIn case your response objects need to have different return values for `getData` you could further generify the interface.\r\n\r\n```java\r\npublic interface DataProvider&lt;T&gt; {\r\n  T getData(); \r\n}\r\n```\r\nThis requires a slight tweak of the `unversioned` method:\r\n```java\r\nprivate &lt;T extends DataProvider&lt;?&gt;&gt; T unversioned(Parameters parameters, Supplier&lt;T&gt; supplier) {\r\n  // logic\r\n}\r\n```\r\nAnd you can now define your response objects as follows:\r\n```java\r\npublic class StringResponse implements DataProvider&lt;String&gt; {\r\n  @Override\r\n  public String getData() {\r\n    // logic\r\n  }\r\n}\r\n\r\npublic class IntegerResponse implements DataProvider&lt;Integer&gt; {\r\n  @Override\r\n  public Integer getData() {\r\n    // logic\r\n  }\r\n}\r\n```","title":"How can I infer the type of the method on Java dynamically?","body":"<p>What you could do is add bounds to the generic type of your <code>unversioned</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private &lt;T extends DataProvider&gt; T unversioned(Parameters parameters, Supplier&lt;T&gt; supplier) {\n  // logic\n}\n</code></pre>\n<p>This, however, requires you to have your response objects implement an interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface DataProvider {\n  /*\n   * Not sure what the return type of getData is, so used String for illustrative purposes\n   */\n  String getData(); \n}\n</code></pre>\n<p>In case your response objects need to have different return values for <code>getData</code> you could further generify the interface.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface DataProvider&lt;T&gt; {\n  T getData(); \n}\n</code></pre>\n<p>This requires a slight tweak of the <code>unversioned</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private &lt;T extends DataProvider&lt;?&gt;&gt; T unversioned(Parameters parameters, Supplier&lt;T&gt; supplier) {\n  // logic\n}\n</code></pre>\n<p>And you can now define your response objects as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class StringResponse implements DataProvider&lt;String&gt; {\n  @Override\n  public String getData() {\n    // logic\n  }\n}\n\npublic class IntegerResponse implements DataProvider&lt;Integer&gt; {\n  @Override\n  public Integer getData() {\n    // logic\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":14729720,"reputation":33,"user_id":10637453,"display_name":"Donald Vecox"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72951536,"answer_count":1,"score":-1,"last_activity_date":1657673532,"creation_date":1657624748,"question_id":72951461,"body_markdown":"I have this two classes, using generics: \r\n ```\r\npublic Response version1(Parameters params) {\r\n    Supplier&lt;Response&gt; s = () -&gt; getResponse(params);\r\n    return unversioned(params, s);\r\n}\r\n\r\npublic Response2 version2(Parameters params) {\r\n    Supplier&lt;Response2&gt; s = () -&gt; getResponse2(params);\r\n    // s.get().getData(); Here, I am able to get the Data, because it knows it&#39;s from a Response2 class.\r\n    return unversioned(params, s);\r\n}\r\n```\r\n\r\nThese two generics are used for me to not have to duplicate every single line of code, as the methods are pretty much the same, just one line of code is different, which is the return type.\r\nSo, when I call the generics:\r\n\r\n```\r\nprivate &lt;T&gt; T unversioned(Parameters parameters, Supplier&lt;T&gt; supplier) {\r\n    T result = supplier.get();\r\n}\r\n```\r\n\r\nWhen I try to get the ```result.getData()``` method, it does not understand. Because it does not infer the type. How can I do that?\r\n","title":"How can I infer the type of the method on Java dynamically?","body":"<p>I have this two classes, using generics:</p>\n<pre><code>public Response version1(Parameters params) {\n   Supplier&lt;Response&gt; s = () -&gt; getResponse(params);\n   return unversioned(params, s);\n}\n\npublic Response2 version2(Parameters params) {\n   Supplier&lt;Response2&gt; s = () -&gt; getResponse2(params);\n   // s.get().getData(); Here, I am able to get the Data, because it knows it's from a Response2 class.\n   return unversioned(params, s);\n}\n</code></pre>\n<p>These two generics are used for me to not have to duplicate every single line of code, as the methods are pretty much the same, just one line of code is different, which is the return type.\nSo, when I call the generics:</p>\n<pre><code>private &lt;T&gt; T unversioned(Parameters parameters, Supplier&lt;T&gt; supplier) {\n    T result = supplier.get();\n}\n</code></pre>\n<p>When I try to get the <code>result.getData()</code> method, it does not understand. Because it does not infer the type. How can I do that?</p>\n"},{"tags":["java","c","binary","byte"],"comments":[{"owner":{"account_id":152965,"reputation":1565,"user_id":367890,"accept_rate":86,"display_name":"Satadru Biswas"},"score":3,"creation_date":1342556096,"post_id":11530147,"comment_id":15242335,"body_markdown":"Yes. So, what is your question again?","body":"Yes. So, what is your question again?"},{"owner":{"account_id":1632670,"reputation":2437,"user_id":1506919,"accept_rate":56,"display_name":"user1506919"},"score":0,"creation_date":1342556500,"post_id":11530147,"comment_id":15242513,"body_markdown":"Sorry, I edited my question; basically I dont know why my code is not working.","body":"Sorry, I edited my question; basically I dont know why my code is not working."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1342556571,"post_id":11530147,"comment_id":15242542,"body_markdown":"Not working in what way? What part is not working? What errors? What have you done to try to debug things? Sorry, but this question is terribly deficient in the information necessary for us to be able to answer it and is liable to be closed soon unless fixed soon.","body":"Not working in what way? What part is not working? What errors? What have you done to try to debug things? Sorry, but this question is terribly deficient in the information necessary for us to be able to answer it and is liable to be closed soon unless fixed soon."},{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":0,"creation_date":1342556710,"post_id":11530147,"comment_id":15242602,"body_markdown":"What exactly is this thing even doing? Also since when does c have a `&gt;&gt;&gt;` operator?","body":"What exactly is this thing even doing? Also since when does c have a <code>&gt;&gt;&gt;</code> operator?"},{"owner":{"account_id":991898,"reputation":35087,"user_id":1008938,"accept_rate":89,"display_name":"Linuxios"},"score":0,"creation_date":1342556873,"post_id":11530147,"comment_id":15242678,"body_markdown":"@Voo: It doesn&#39;t. I think that that is interpreted a right shift and then a greater then according to precedence rules.","body":"@Voo: It doesn&#39;t. I think that that is interpreted a right shift and then a greater then according to precedence rules."},{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":0,"creation_date":1342557010,"post_id":11530147,"comment_id":15242740,"body_markdown":"@Linuxios A right shift would need some integer following it not a different operator. No c compiler to test atm, but I&#39;m pretty sure that code doesn&#39;t even compile.","body":"@Linuxios A right shift would need some integer following it not a different operator. No c compiler to test atm, but I&#39;m pretty sure that code doesn&#39;t even compile."},{"owner":{"account_id":991898,"reputation":35087,"user_id":1008938,"accept_rate":89,"display_name":"Linuxios"},"score":0,"creation_date":1342557286,"post_id":11530147,"comment_id":15242857,"body_markdown":"@Voo: Agreed, but I&#39;ve seen bizarre operator precedence code before. Something like `-~+~-`. That&#39;s code I never want to maintain.","body":"@Voo: Agreed, but I&#39;ve seen bizarre operator precedence code before. Something like <code>-~+~-</code>. That&#39;s code I never want to maintain."},{"owner":{"account_id":1303837,"reputation":60487,"user_id":1253222,"display_name":"twalberg"},"score":0,"creation_date":1342557447,"post_id":11530147,"comment_id":15242918,"body_markdown":"`char fromBinary [] (String s) { /*...*/ }` is also likely to not even compile...","body":"<code>char fromBinary [] (String s) { &#47;*...*&#47; }</code> is also likely to not even compile..."}],"answers":[{"tags":[],"owner":{"account_id":1493192,"reputation":5476,"user_id":1435420,"accept_rate":67,"display_name":"David G"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1342565843,"creation_date":1342557857,"answer_id":11530596,"question_id":11530147,"body_markdown":"Just from the looks of it your C code is going to explode horribly (even if it were syntactically valid, which it is not). You&#39;re returning `toReturn` which is allocated on the stack so it goes out of scope the moment the function returns. This is almost certainly going to cause segmentation violations and the like. Instead of trying to translate Java, why not just write it in C from scratch.\r\n\r\n    unsigned char *fromBinary(const char * const s)\r\n    {\r\n       static unsigned char toReturn[8]={0};\r\n       size_t i,j;\r\n       const size_t len=8;\r\n\t\r\n       for(i=0;i&lt;len;i++)\r\n           {\r\n           toReturn[i]=0;\r\n           for(j=0;j&lt;8;j++)\r\n              toReturn[i]|=(s[i*8+j]==&#39;1&#39; ? 1&lt;&lt;(7-j) : 0);\r\n           }\r\n       return toReturn;\r\n    }\r\n\r\nNote the array returned is a) unsigned (to avoid sign extension) and b) allocated as static so it won&#39;t go away outside the function.\r\n\r\nUPDATE: this is a complete test harness for the above function:\r\n\r\n    #include &lt;stdio.h&gt;\r\n\r\n    unsigned char *fromBinary(const char * const s);\r\n\r\n    int main(void)\r\n    {\r\n       const char *const s=&quot;0010100100110101001101101101111010110010000001011101001001001001&quot;;\r\n       unsigned char *b;\r\n       b=fromBinary(s);\r\n       printf(&quot;%02X %02X %02X %02X %02X %02X %02X %02X\\n&quot;,b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]);\r\n       return 0;\r\n    }\r\n\r\n    unsigned char *fromBinary(const char * const s)\r\n    {\r\n    (as above)\r\n    }\r\n\r\nThis compiles without errors or warnings using gcc. It returns `29 35 36 DE B2 05 D2 49`. In your code you are a) not declaring any header files b) not prototyping `fromBinary()` c) not declaring or assigning `toReturn` in your `main()` function. You should also never declare `main()` with `void` return type. If you get errors with the above code then either you are not using a real C compiler or it is broken. I suggest reading or re-reading a basic book on the C programming language. Kelley and Pohl&#39;s &#39;A Book on C&#39; is a good start.","title":"Convert C to Java with binary byte conversion code","body":"<p>Just from the looks of it your C code is going to explode horribly (even if it were syntactically valid, which it is not). You're returning <code>toReturn</code> which is allocated on the stack so it goes out of scope the moment the function returns. This is almost certainly going to cause segmentation violations and the like. Instead of trying to translate Java, why not just write it in C from scratch.</p>\n\n<pre><code>unsigned char *fromBinary(const char * const s)\n{\n   static unsigned char toReturn[8]={0};\n   size_t i,j;\n   const size_t len=8;\n\n   for(i=0;i&lt;len;i++)\n       {\n       toReturn[i]=0;\n       for(j=0;j&lt;8;j++)\n          toReturn[i]|=(s[i*8+j]=='1' ? 1&lt;&lt;(7-j) : 0);\n       }\n   return toReturn;\n}\n</code></pre>\n\n<p>Note the array returned is a) unsigned (to avoid sign extension) and b) allocated as static so it won't go away outside the function.</p>\n\n<p>UPDATE: this is a complete test harness for the above function:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nunsigned char *fromBinary(const char * const s);\n\nint main(void)\n{\n   const char *const s=\"0010100100110101001101101101111010110010000001011101001001001001\";\n   unsigned char *b;\n   b=fromBinary(s);\n   printf(\"%02X %02X %02X %02X %02X %02X %02X %02X\\n\",b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]);\n   return 0;\n}\n\nunsigned char *fromBinary(const char * const s)\n{\n(as above)\n}\n</code></pre>\n\n<p>This compiles without errors or warnings using gcc. It returns <code>29 35 36 DE B2 05 D2 49</code>. In your code you are a) not declaring any header files b) not prototyping <code>fromBinary()</code> c) not declaring or assigning <code>toReturn</code> in your <code>main()</code> function. You should also never declare <code>main()</code> with <code>void</code> return type. If you get errors with the above code then either you are not using a real C compiler or it is broken. I suggest reading or re-reading a basic book on the C programming language. Kelley and Pohl's 'A Book on C' is a good start.</p>\n"},{"tags":[],"owner":{"account_id":943428,"reputation":39767,"user_id":971127,"display_name":"BLUEPIXY"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1342571929,"creation_date":1342571929,"answer_id":11532789,"question_id":11530147,"body_markdown":"I fixed , try this:\r\n\r\n\r\n    #include &lt;stdio.h&gt;\r\n    \r\n    typedef char* string;\r\n    \r\n    unsigned char* fromBinary(const char * const s) {\r\n        static unsigned char toReturn[8]={0};\r\n        size_t i,j;\r\n        const size_t len=8;\r\n        for(i=0;i&lt;len;i++){\r\n            for(j=0;j&lt;8;j++)\r\n                toReturn[i]|=(s[i*8+j]==&#39;1&#39; ? 1&lt;&lt;(7-j) : 0);\r\n        }\r\n        return toReturn;\r\n     }\r\n    \r\n    int main()  {\r\n        unsigned char (*bytes)[8];\r\n        string s =&quot;1010110011011110010010000010001101000101011001111010101111001101&quot;;\r\n        int j;\r\n    \r\n        bytes=(unsigned char (*)[8])fromBinary(s);\r\n        for (j=0;j&lt;8;j++){\r\n            //printf(&quot;%02X&quot;,(*bytes)[j]);\r\n            printf(&quot;%d&quot;,(*bytes)[j]);\r\n            printf(&quot;, &quot;);\r\n        }\r\n    }\r\n","title":"Convert C to Java with binary byte conversion code","body":"<p>I fixed , try this:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\ntypedef char* string;\n\nunsigned char* fromBinary(const char * const s) {\n    static unsigned char toReturn[8]={0};\n    size_t i,j;\n    const size_t len=8;\n    for(i=0;i&lt;len;i++){\n        for(j=0;j&lt;8;j++)\n            toReturn[i]|=(s[i*8+j]=='1' ? 1&lt;&lt;(7-j) : 0);\n    }\n    return toReturn;\n }\n\nint main()  {\n    unsigned char (*bytes)[8];\n    string s =\"1010110011011110010010000010001101000101011001111010101111001101\";\n    int j;\n\n    bytes=(unsigned char (*)[8])fromBinary(s);\n    for (j=0;j&lt;8;j++){\n        //printf(\"%02X\",(*bytes)[j]);\n        printf(\"%d\",(*bytes)[j]);\n        printf(\", \");\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1632670,"reputation":2437,"user_id":1506919,"accept_rate":56,"display_name":"user1506919"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":615,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":11530596,"answer_count":2,"score":0,"last_activity_date":1657672550,"creation_date":1342555965,"question_id":11530147,"body_markdown":"received help with. Basically, this code is written in Java but I need it to be able to work in C as well. I have tested the code already and it works fine. It essentially takes a binary sting and places it into a byte array with each place holding 8 characters (1s and 0s). I do know a few variables that will never change and have listed them below:\r\n\r\n- `Byte.SIZE` is always 8\r\n- `sLen` is always 64\r\n- `len` is always 8\r\n\r\nI have included the Java code and my attempt to make the conversion. However, my code consistently has run time errors and other syntax problems. I was wondering if anyone could find my issue:\r\n\r\n**Java code**\r\n\r\n    static byte[] fromBinary(String s) {\r\n        int sLen = s.length(), len = sLen / Byte.SIZE;\r\n        if (sLen % Byte.SIZE != 0) {\r\n            len++;\r\n        }\r\n        byte[] toReturn = new byte[len];\r\n        for (int i = 0; i &lt; sLen; i++) {\r\n            if (s.charAt(i) == &#39;1&#39;) {\r\n                toReturn[i / Byte.SIZE] = (byte) (toReturn[i / Byte.SIZE] | (0x80 &gt;&gt;&gt; (i % Byte.SIZE)));\r\n            }\r\n        }\r\n\r\n        return toReturn;\r\n    }\r\n\r\n**C code**\r\n\r\n    char fromBinary [] (String s) {\r\n        int sLen =64;\r\n        int len=8;\r\n        int i=0;\r\n        char toReturn [8];\r\n        char str [64]=s;\r\n\r\n        for (i = 0; i &lt; sLen; i++) {\r\n            if (str[i] == &#39;1&#39;) {\r\n                toReturn[i/8] = (char)(toReturn[i/8] | (0x80 &gt;&gt;&gt; (i%8)));\r\n            }\r\n        }\r\n\r\n        return toReturn;\r\n    }\r\n\r\nOK sorry, so to begin I am relatively new to C. I have been programming in Java for a few years so I am not vey accustomed to the errors and syntax of C. I am using Dynamic C as the programming environment so error messages may be different.\r\nI used the following main to run my program:\r\n\r\n    void main()  {\r\n    char bytes [8];\r\n    string s =&quot;1010110011011110010010000010001101000101011001111010101111001101&quot;;\r\n    bytes=fromBinary(s);\r\n     for (j=0;j&lt;8;j++){\r\n        printf(&quot;%d&quot;,toReturn[j]);\r\n        printf(&quot;, &quot;);\r\n        }\r\n    }\r\n\r\n I have been unable to run my program due to the following errors:\r\n\r\n```none\r\nline    1 : ERROR UNTITLED2.C   : Only cofunctions can be indexed.\r\nline    1 : ERROR UNTITLED2.C   : Old style function declaration missing parameter declaration list.\r\nline    1 : ERROR UNTITLED2.C   : &#39;,&#39; is missing/expected.\r\nline    6 : ERROR UNTITLED2.C   : Constant expression expected.\r\nline   10 : ERROR UNTITLED2.C   : Invalid expression.\r\nline   10 : ERROR UNTITLED2.C   : Missing character &#39;;&#39;.\r\nline   10 : ERROR UNTITLED2.C   : Missing character &#39;;&#39;.\r\nline   10 : ERROR UNTITLED2.C   : Missing character &#39;)&#39;.\r\nline   10 : ERROR UNTITLED2.C   : Missing character &#39;)&#39;.\r\nline   10 : ERROR UNTITLED2.C   : Invalid expression.\r\nline   10 : WARNING UNTITLED2.C   : Conversion to incompatible pointer type\r\nline   19 : WARNING UNTITLED2.C   : Type mismatch: incompatible types char[] and unsigned int used in expression.\r\n10 errors reached; further errors suppressed.\r\n```\r\n\r\n**Newest update**\r\n\r\n    unsigned char *fromBinary(const char * const s) {\r\n    static unsigned char toReturn[8]={0};\r\n    size_t i,j;\r\n    const size_t len=8;\r\n     for(i=0;i&lt;len;i++)        {\r\n        for(j=0;j&lt;8;j++)\r\n           toReturn[i]|=(s[i*8+j]==&#39;1&#39; ? 1&lt;&lt;(7-j) : 0);\r\n        }\r\n    return toReturn;\r\n     }\r\n\r\n     void main()  {\r\n     unsigned char bytes [8];\r\n     string s =&quot;1010110011011110010010000010001101000101011001111010101111001101&quot;;\r\n     fromBinary(s)\r\n     for (j=0;j&lt;8;j++){\r\n        printf(&quot;%d&quot;,toReturn[j]);\r\n         printf(&quot;, &quot;);\r\n        }\r\n    }\r\n\r\ngave me the following errors:\r\n\r\n```none\r\nline    1 : ERROR UNTITLED3.C   : Keyword &#39;const&#39; can only be used with globals and static locals.\r\nline    4 : ERROR UNTITLED3.C   : Assignment to read-only variable not allowed.\r\nline    4 : ERROR UNTITLED3.C   : Keyword &#39;const&#39; can only be used with globals and static locals.\r\nline    7 : WARNING UNTITLED3.C   : Conversion to incompatible pointer type\r\nline    7 : WARNING UNTITLED3.C   : Conversion to incompatible pointer type\r\nline    7 : WARNING UNTITLED3.C   : Conversion to incompatible pointer type\r\nline   15 : WARNING UNTITLED3.C   : Type mismatch: incompatible types char[] and unsigned int used in expression.\r\nline   15 : ERROR UNTITLED3.C   : Invalid expression - need lvalue.\r\nline   15 : ERROR UNTITLED3.C   : s is out of scope/ not declared.\r\nline   15 : ERROR UNTITLED3.C   : Missing character &#39;;&#39;.\r\nline   15 : ERROR UNTITLED3.C   : string is out of scope/ not declared.\r\nline   16 : WARNING UNTITLED3.C   : Conversion to incompatible pointer type\r\nline   16 : WARNING UNTITLED3.C   : Wrong type for parameter 1.\r\nline   16 : ERROR UNTITLED3.C   : s is out of scope/ not declared.\r\nline   16 : ERROR UNTITLED3.C   : DynamicC does not support array assignment.\r\nline   16 : ERROR UNTITLED3.C   : Invalid expression - need lvalue.\r\n```","title":"Convert C to Java with binary byte conversion code","body":"<p>received help with. Basically, this code is written in Java but I need it to be able to work in C as well. I have tested the code already and it works fine. It essentially takes a binary sting and places it into a byte array with each place holding 8 characters (1s and 0s). I do know a few variables that will never change and have listed them below:</p>\n<ul>\n<li><code>Byte.SIZE</code> is always 8</li>\n<li><code>sLen</code> is always 64</li>\n<li><code>len</code> is always 8</li>\n</ul>\n<p>I have included the Java code and my attempt to make the conversion. However, my code consistently has run time errors and other syntax problems. I was wondering if anyone could find my issue:</p>\n<p><strong>Java code</strong></p>\n<pre><code>static byte[] fromBinary(String s) {\n    int sLen = s.length(), len = sLen / Byte.SIZE;\n    if (sLen % Byte.SIZE != 0) {\n        len++;\n    }\n    byte[] toReturn = new byte[len];\n    for (int i = 0; i &lt; sLen; i++) {\n        if (s.charAt(i) == '1') {\n            toReturn[i / Byte.SIZE] = (byte) (toReturn[i / Byte.SIZE] | (0x80 &gt;&gt;&gt; (i % Byte.SIZE)));\n        }\n    }\n\n    return toReturn;\n}\n</code></pre>\n<p><strong>C code</strong></p>\n<pre><code>char fromBinary [] (String s) {\n    int sLen =64;\n    int len=8;\n    int i=0;\n    char toReturn [8];\n    char str [64]=s;\n\n    for (i = 0; i &lt; sLen; i++) {\n        if (str[i] == '1') {\n            toReturn[i/8] = (char)(toReturn[i/8] | (0x80 &gt;&gt;&gt; (i%8)));\n        }\n    }\n\n    return toReturn;\n}\n</code></pre>\n<p>OK sorry, so to begin I am relatively new to C. I have been programming in Java for a few years so I am not vey accustomed to the errors and syntax of C. I am using Dynamic C as the programming environment so error messages may be different.\nI used the following main to run my program:</p>\n<pre><code>void main()  {\nchar bytes [8];\nstring s =&quot;1010110011011110010010000010001101000101011001111010101111001101&quot;;\nbytes=fromBinary(s);\n for (j=0;j&lt;8;j++){\n    printf(&quot;%d&quot;,toReturn[j]);\n    printf(&quot;, &quot;);\n    }\n}\n</code></pre>\n<p>I have been unable to run my program due to the following errors:</p>\n<pre class=\"lang-none prettyprint-override\"><code>line    1 : ERROR UNTITLED2.C   : Only cofunctions can be indexed.\nline    1 : ERROR UNTITLED2.C   : Old style function declaration missing parameter declaration list.\nline    1 : ERROR UNTITLED2.C   : ',' is missing/expected.\nline    6 : ERROR UNTITLED2.C   : Constant expression expected.\nline   10 : ERROR UNTITLED2.C   : Invalid expression.\nline   10 : ERROR UNTITLED2.C   : Missing character ';'.\nline   10 : ERROR UNTITLED2.C   : Missing character ';'.\nline   10 : ERROR UNTITLED2.C   : Missing character ')'.\nline   10 : ERROR UNTITLED2.C   : Missing character ')'.\nline   10 : ERROR UNTITLED2.C   : Invalid expression.\nline   10 : WARNING UNTITLED2.C   : Conversion to incompatible pointer type\nline   19 : WARNING UNTITLED2.C   : Type mismatch: incompatible types char[] and unsigned int used in expression.\n10 errors reached; further errors suppressed.\n</code></pre>\n<p><strong>Newest update</strong></p>\n<pre><code>unsigned char *fromBinary(const char * const s) {\nstatic unsigned char toReturn[8]={0};\nsize_t i,j;\nconst size_t len=8;\n for(i=0;i&lt;len;i++)        {\n    for(j=0;j&lt;8;j++)\n       toReturn[i]|=(s[i*8+j]=='1' ? 1&lt;&lt;(7-j) : 0);\n    }\nreturn toReturn;\n }\n\n void main()  {\n unsigned char bytes [8];\n string s =&quot;1010110011011110010010000010001101000101011001111010101111001101&quot;;\n fromBinary(s)\n for (j=0;j&lt;8;j++){\n    printf(&quot;%d&quot;,toReturn[j]);\n     printf(&quot;, &quot;);\n    }\n}\n</code></pre>\n<p>gave me the following errors:</p>\n<pre class=\"lang-none prettyprint-override\"><code>line    1 : ERROR UNTITLED3.C   : Keyword 'const' can only be used with globals and static locals.\nline    4 : ERROR UNTITLED3.C   : Assignment to read-only variable not allowed.\nline    4 : ERROR UNTITLED3.C   : Keyword 'const' can only be used with globals and static locals.\nline    7 : WARNING UNTITLED3.C   : Conversion to incompatible pointer type\nline    7 : WARNING UNTITLED3.C   : Conversion to incompatible pointer type\nline    7 : WARNING UNTITLED3.C   : Conversion to incompatible pointer type\nline   15 : WARNING UNTITLED3.C   : Type mismatch: incompatible types char[] and unsigned int used in expression.\nline   15 : ERROR UNTITLED3.C   : Invalid expression - need lvalue.\nline   15 : ERROR UNTITLED3.C   : s is out of scope/ not declared.\nline   15 : ERROR UNTITLED3.C   : Missing character ';'.\nline   15 : ERROR UNTITLED3.C   : string is out of scope/ not declared.\nline   16 : WARNING UNTITLED3.C   : Conversion to incompatible pointer type\nline   16 : WARNING UNTITLED3.C   : Wrong type for parameter 1.\nline   16 : ERROR UNTITLED3.C   : s is out of scope/ not declared.\nline   16 : ERROR UNTITLED3.C   : DynamicC does not support array assignment.\nline   16 : ERROR UNTITLED3.C   : Invalid expression - need lvalue.\n</code></pre>\n"},{"tags":["java","rest","oauth","access-token","signature"],"answers":[{"tags":[],"owner":{"account_id":23191921,"reputation":1,"user_id":17288171,"display_name":"idevillafane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657672535,"creation_date":1648843040,"answer_id":71712195,"question_id":66821380,"body_markdown":"I&#39;m looking for the same but, actually, I have an example provided by the admins of the API that I&#39;m trying to consume.\r\nSince no one replied to this thread, I&#39;ll paste the mentioned example here, hoping it could help in some way.\r\nAlso, if someone can give me a hand, understand the code and explain how to implement it, it would be great.\r\n\r\n```java\r\npackage com.example.entities;\r\n\r\nimport javax.ws.rs.core.MediaType;\r\nimport javax.ws.rs.core.MultivaluedMap;\r\nimport com.sun.jersey.api.client.Client;\r\nimport com.sun.jersey.api.client.WebResource;\r\nimport com.sun.jersey.api.client.filter.LoggingFilter;\r\nimport com.sun.jersey.oauth.client.OAuthClientFilter;\r\nimport com.sun.jersey.oauth.signature.HMAC_SHA1;\r\nimport com.sun.jersey.oauth.signature.OAuthParameters;\r\nimport com.sun.jersey.oauth.signature.OAuthSecrets;\r\n\r\npublic class SSRestServiceClient {\r\n\r\n\t/*\r\n\t* private constructor to avoid construction of object.\r\n\t*/\r\n\t\r\n\tprivate SSRestServiceClient(String url, String consumerKey, String consumerSecret, int timeoutSeconds) {\r\n\r\n\t\tOAuthParameters params = new OAuthParameters().signatureMethod(HMAC_SHA1.NAME).consumerKey(consumerKey).version(OAUTH_VERSION);\r\n\t\tOAuthSecrets secrets = new OAuthSecrets().consumerSecret(consumerSecret);\r\n\t\tClient httpClient = Client.create();\r\n\t\thttpClient.setConnectTimeout(timeoutSeconds * 1000);\r\n\t\thttpClient.setReadTimeout(timeoutSeconds * 1000);\r\n\t\tOAuthClientFilter filter = new OAuthClientFilter(httpClient.getProviders(), params, secrets);\r\n\t\thttpClient.addFilter(filter);\r\n\t\thttpClient.addFilter(new LoggingFilter());\r\n\t\tthis.consumerKey = consumerKey;\r\n\t\tthis.webResource = httpClient.resource(url);\r\n\t}\r\n\t\r\n\t/*\r\n\t* Creates instance of the Client class, returns existing instance if it&#39;s already created.\r\n\t*/\r\n\t\r\n\tpublic static synchronized SSRestServiceClient getInstance(String url, String consumerKey, String consumerSecret) {\r\n\treturn getInstance(url, consumerKey, consumerSecret, 0);\r\n\r\n\t}\t\r\n\t\r\n\t  /*  \r\n\t   * Creates instance of the Client class, returns existing instance if it&#39;s already created.\r\n\t   */\r\n\t\r\n\tpublic static synchronized SSRestServiceClient getInstance(String url, String consumerKey,String consumerSecret, int timeoutSeconds) {\r\n\t\t if (client == null || client.getConsumerKey() == null || !client.getConsumerKey().equals(consumerKey)) {\r\n\t\t\t if (timeoutSeconds != 0 &amp;&amp; timeoutSeconds &lt; ONE_MINUTE) {\r\n\t\t\t\t timeoutSeconds = ONE_MINUTE;\r\n\t\t\t }\r\n\t\t\t client = new SSRestServiceClient(url, consumerKey, consumerSecret, timeoutSeconds);\r\n\t\t }\r\n\t\t return client;\r\n\t}\r\n\t\r\n\t/*\r\n\t * Return a list of all active source cities.\r\n\t */\r\n\t\r\n\t@Override\r\n\t\r\n\tpublic CityList getAllSources() {\r\n\t\treturn webResource.path(GET_ALL_SOURCES).get(CityList.class);\r\n\t}\r\n}\r\n```","title":"example OAuth 1.0 implementation in java","body":"<p>I'm looking for the same but, actually, I have an example provided by the admins of the API that I'm trying to consume.\nSince no one replied to this thread, I'll paste the mentioned example here, hoping it could help in some way.\nAlso, if someone can give me a hand, understand the code and explain how to implement it, it would be great.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.entities;\n\nimport javax.ws.rs.core.MediaType;\nimport javax.ws.rs.core.MultivaluedMap;\nimport com.sun.jersey.api.client.Client;\nimport com.sun.jersey.api.client.WebResource;\nimport com.sun.jersey.api.client.filter.LoggingFilter;\nimport com.sun.jersey.oauth.client.OAuthClientFilter;\nimport com.sun.jersey.oauth.signature.HMAC_SHA1;\nimport com.sun.jersey.oauth.signature.OAuthParameters;\nimport com.sun.jersey.oauth.signature.OAuthSecrets;\n\npublic class SSRestServiceClient {\n\n    /*\n    * private constructor to avoid construction of object.\n    */\n    \n    private SSRestServiceClient(String url, String consumerKey, String consumerSecret, int timeoutSeconds) {\n\n        OAuthParameters params = new OAuthParameters().signatureMethod(HMAC_SHA1.NAME).consumerKey(consumerKey).version(OAUTH_VERSION);\n        OAuthSecrets secrets = new OAuthSecrets().consumerSecret(consumerSecret);\n        Client httpClient = Client.create();\n        httpClient.setConnectTimeout(timeoutSeconds * 1000);\n        httpClient.setReadTimeout(timeoutSeconds * 1000);\n        OAuthClientFilter filter = new OAuthClientFilter(httpClient.getProviders(), params, secrets);\n        httpClient.addFilter(filter);\n        httpClient.addFilter(new LoggingFilter());\n        this.consumerKey = consumerKey;\n        this.webResource = httpClient.resource(url);\n    }\n    \n    /*\n    * Creates instance of the Client class, returns existing instance if it's already created.\n    */\n    \n    public static synchronized SSRestServiceClient getInstance(String url, String consumerKey, String consumerSecret) {\n    return getInstance(url, consumerKey, consumerSecret, 0);\n\n    }   \n    \n      /*  \n       * Creates instance of the Client class, returns existing instance if it's already created.\n       */\n    \n    public static synchronized SSRestServiceClient getInstance(String url, String consumerKey,String consumerSecret, int timeoutSeconds) {\n         if (client == null || client.getConsumerKey() == null || !client.getConsumerKey().equals(consumerKey)) {\n             if (timeoutSeconds != 0 &amp;&amp; timeoutSeconds &lt; ONE_MINUTE) {\n                 timeoutSeconds = ONE_MINUTE;\n             }\n             client = new SSRestServiceClient(url, consumerKey, consumerSecret, timeoutSeconds);\n         }\n         return client;\n    }\n    \n    /*\n     * Return a list of all active source cities.\n     */\n    \n    @Override\n    \n    public CityList getAllSources() {\n        return webResource.path(GET_ALL_SOURCES).get(CityList.class);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21072105,"reputation":1,"user_id":15488163,"display_name":"Yara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":422,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657672535,"creation_date":1616778474,"question_id":66821380,"body_markdown":"I need an example in java to be able to consume an API using OAuth 1.0 to generate the token : \r\nNB: i have only those informations (the consumerKey, ConsumerSecret, AccesToken and the acessTokenSecret).\r\nI have searched int the internet but I have not found a result that can help me.","title":"example OAuth 1.0 implementation in java","body":"<p>I need an example in java to be able to consume an API using OAuth 1.0 to generate the token :\nNB: i have only those informations (the consumerKey, ConsumerSecret, AccesToken and the acessTokenSecret).\nI have searched int the internet but I have not found a result that can help me.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1657672154,"post_id":72959585,"comment_id":128864817,"body_markdown":"If you want to give an indication in the UI of which option the user selected, look into a [Material Button Toggle Group](https://developer.android.com/reference/com/google/android/material/button/MaterialButtonToggleGroup) - it makes a group of buttons [only one of which can be selected](https://www.journaldev.com/31950/android-materialbuttontogglegroup), which will be a lot more clear to a user than a pair of regular buttons. When you want to see which one is selected somewhere else, [you can get the state](https://stackoverflow.com/questions/62346373/android-material-button-toggle-group)","body":"If you want to give an indication in the UI of which option the user selected, look into a <a href=\"https://developer.android.com/reference/com/google/android/material/button/MaterialButtonToggleGroup\" rel=\"nofollow noreferrer\">Material Button Toggle Group</a> - it makes a group of buttons <a href=\"https://www.journaldev.com/31950/android-materialbuttontogglegroup\" rel=\"nofollow noreferrer\">only one of which can be selected</a>, which will be a lot more clear to a user than a pair of regular buttons. When you want to see which one is selected somewhere else, <a href=\"https://stackoverflow.com/questions/62346373/android-material-button-toggle-group\">you can get the state</a>"}],"answers":[{"tags":[],"owner":{"account_id":20537440,"reputation":253,"user_id":15073157,"display_name":"thebluepandabear"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657671958,"creation_date":1657671958,"answer_id":72959655,"question_id":72959585,"body_markdown":"Hopefully I am getting this right (your question is hard to understand). \r\n\r\nSo, what you want is to gauge whether or not a user has clicked on a certain button in the middle of another method? \r\n\r\nIf so, you could implement something *similar* to the following:\r\n\r\n\r\n```Kotlin\r\nvar buttonAClicked = false\r\nvar buttonBClicked = false\r\n\r\nbinding.buttonA.setOnClickListener {\r\n    buttonAClicked = true\r\n}\r\n\r\nbinding.buttonB.setOnClickListener {\r\n    buttonBClicked = true\r\n}\r\n\r\nbinding.nextButton.setOnClickListener {\r\n    // reset both variables here after new object\r\n    buttonAClicked = false\r\n    buttonBClicked = false\r\n}\r\n\r\n// method\r\nfun myMethod() {\r\n    // do work here\r\n\r\n    if (buttonAClicked) {\r\n        // button a has been clicked\r\n    } else if (buttonBClicked) {\r\n        // button b has been clicked\r\n    } else {\r\n        // no button clicked (assuming that you can&#39;t press two buttons at once)\r\n    }\r\n}\r\n```\r\n\r\nI think Android has other views (as someone said in the comments) that can achieve something similar to this without having to do all of this extra effort.","title":"Android Studio Button Onclick From Separate Function","body":"<p>Hopefully I am getting this right (your question is hard to understand).</p>\n<p>So, what you want is to gauge whether or not a user has clicked on a certain button in the middle of another method?</p>\n<p>If so, you could implement something <em>similar</em> to the following:</p>\n<pre><code>var buttonAClicked = false\nvar buttonBClicked = false\n\nbinding.buttonA.setOnClickListener {\n    buttonAClicked = true\n}\n\nbinding.buttonB.setOnClickListener {\n    buttonBClicked = true\n}\n\nbinding.nextButton.setOnClickListener {\n    // reset both variables here after new object\n    buttonAClicked = false\n    buttonBClicked = false\n}\n\n// method\nfun myMethod() {\n    // do work here\n\n    if (buttonAClicked) {\n        // button a has been clicked\n    } else if (buttonBClicked) {\n        // button b has been clicked\n    } else {\n        // no button clicked (assuming that you can't press two buttons at once)\n    }\n}\n</code></pre>\n<p>I think Android has other views (as someone said in the comments) that can achieve something similar to this without having to do all of this extra effort.</p>\n"}],"owner":{"account_id":25794662,"reputation":1,"user_id":19538075,"display_name":"Amulya Bisaria"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72959655,"answer_count":1,"score":0,"last_activity_date":1657671958,"creation_date":1657671214,"question_id":72959585,"body_markdown":"hi i have a question about my android app\r\n\r\nI want to make a game that will basically show the user a certain object, and two buttons that will respectively accept or decline said object.\r\n\r\nHow do I make it so that the central code can read the buttons input in the middle of execution?\r\n\r\nEssentially, I want to be able to read if the user has clicked a button from the middle of a different function.\r\n\r\nPlease let me know how i can improve my question.","title":"Android Studio Button Onclick From Separate Function","body":"<p>hi i have a question about my android app</p>\n<p>I want to make a game that will basically show the user a certain object, and two buttons that will respectively accept or decline said object.</p>\n<p>How do I make it so that the central code can read the buttons input in the middle of execution?</p>\n<p>Essentially, I want to be able to read if the user has clicked a button from the middle of a different function.</p>\n<p>Please let me know how i can improve my question.</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":1,"creation_date":1646741928,"post_id":71394151,"comment_id":126194251,"body_markdown":"you must use `java.jdt.ls.java.home` instead of `java.home` since its deprecated this setting might be removed in later version of VS Code.","body":"you must use <code>java.jdt.ls.java.home</code> instead of <code>java.home</code> since its deprecated this setting might be removed in later version of VS Code."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1657671571,"creation_date":1646742733,"answer_id":71395110,"question_id":71394151,"body_markdown":"&gt; What is wrong here?\r\n\r\nYou are using a setting name that has been deprecated.  This setting is still probably still going to work ... for now ... but it is likely that it will stop working completely in a future release.\r\n\r\nSo what you need to do is to **change** your &quot;settings.xml&quot; to use &quot;java.jdt.ls.java.home&quot; as the property name instead of &quot;java.home&quot;. It would be advisable to do this as soon as practical.\r\n\r\n------------------\r\n\r\nNote that there is more information on the VSCode for Java settings [here][1].  The current version of the page says this:\r\n\r\n&gt; `java.home` : **Deprecated, please use &#39;java.jdt.ls.java.home&#39; instead.** Absolute path to JDK home folder used to launch the Java Language Server. Requires VS Code restart.\r\n\r\n------------------\r\n\r\nHowever, if your real problem is that VSCode is telling you that your version of the Java JDK is incompatible and you need to download a new one,  first read [`https://stackoverflow.com/questions/71042056/`][2].  Downloading a new JDK (as suggested by VSCode) may not be the best solution.\r\n\r\n\r\n  [1]: https://github.com/redhat-developer/vscode-java\r\n  [2]: https://stackoverflow.com/questions/71042056/","title":"VS code &amp; java: This setting is deprecated, please use &#39;java.jdt.ls.java.home&#39; instead","body":"<blockquote>\n<p>What is wrong here?</p>\n</blockquote>\n<p>You are using a setting name that has been deprecated.  This setting is still probably still going to work ... for now ... but it is likely that it will stop working completely in a future release.</p>\n<p>So what you need to do is to <strong>change</strong> your &quot;settings.xml&quot; to use &quot;java.jdt.ls.java.home&quot; as the property name instead of &quot;java.home&quot;. It would be advisable to do this as soon as practical.</p>\n<hr />\n<p>Note that there is more information on the VSCode for Java settings <a href=\"https://github.com/redhat-developer/vscode-java\" rel=\"nofollow noreferrer\">here</a>.  The current version of the page says this:</p>\n<blockquote>\n<p><code>java.home</code> : <strong>Deprecated, please use 'java.jdt.ls.java.home' instead.</strong> Absolute path to JDK home folder used to launch the Java Language Server. Requires VS Code restart.</p>\n</blockquote>\n<hr />\n<p>However, if your real problem is that VSCode is telling you that your version of the Java JDK is incompatible and you need to download a new one,  first read <a href=\"https://stackoverflow.com/questions/71042056/\"><code>https://stackoverflow.com/questions/71042056/</code></a>.  Downloading a new JDK (as suggested by VSCode) may not be the best solution.</p>\n"}],"owner":{"account_id":17188034,"reputation":61,"user_id":12442301,"display_name":"newbie81240"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14674,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71395110,"answer_count":1,"score":2,"last_activity_date":1657671571,"creation_date":1646738342,"question_id":71394151,"body_markdown":"I faced this error when I was trying to set up Java in my vs code. In my settings.json:\r\n```\r\n&quot;java.home&quot;: &quot;C:\\\\Program Files\\\\Java\\\\jdk-17.0.22&quot;\r\n```\r\nbut the error says This setting is deprecated, please use &#39;java.jdt.ls.java.home&#39; instead.\r\nWhat is wrong here?","title":"VS code &amp; java: This setting is deprecated, please use &#39;java.jdt.ls.java.home&#39; instead","body":"<p>I faced this error when I was trying to set up Java in my vs code. In my settings.json:</p>\n<pre><code>&quot;java.home&quot;: &quot;C:\\\\Program Files\\\\Java\\\\jdk-17.0.22&quot;\n</code></pre>\n<p>but the error says This setting is deprecated, please use 'java.jdt.ls.java.home' instead.\nWhat is wrong here?</p>\n"},{"tags":["java","expression","antlr","antlr4","grammar"],"comments":[{"owner":{"account_id":4912583,"reputation":3,"user_id":3957479,"display_name":"Aditya Jagtiani"},"score":0,"creation_date":1657663630,"post_id":72958865,"comment_id":128863423,"body_markdown":"@BartKiers I&#39;d really appreciate your expertise. Thanks!","body":"@BartKiers I&#39;d really appreciate your expertise. Thanks!"},{"owner":{"account_id":50123,"reputation":365443,"user_id":149392,"display_name":"sepp2k"},"score":0,"creation_date":1657664494,"post_id":72958865,"comment_id":128863587,"body_markdown":"How are `TagQueryParseErrorListener` and `getException` defined?","body":"How are <code>TagQueryParseErrorListener</code> and <code>getException</code> defined?"},{"owner":{"account_id":4912583,"reputation":3,"user_id":3957479,"display_name":"Aditya Jagtiani"},"score":0,"creation_date":1657667735,"post_id":72958865,"comment_id":128864164,"body_markdown":"The error listener implements ```ANTLRErrorListener``` and has callback methods for syntax errors &amp; ambiguities. The exception is initialized in these methods and returned via getException.","body":"The error listener implements <code>ANTLRErrorListener</code> and has callback methods for syntax errors &amp; ambiguities. The exception is initialized in these methods and returned via getException."},{"owner":{"account_id":6128906,"reputation":1172,"user_id":4779853,"display_name":"kaby76"},"score":0,"creation_date":1657668294,"post_id":72958865,"comment_id":128864240,"body_markdown":"You have a &quot;token recognition error&quot;; the lexer rules are the problem. You don&#39;t define a token for &#39;|&#39;, only for &#39;||&#39;. At that, you surround every token with optional spaces, which is highly unorthodox and unnatural. Further, the spacing around string literals, &#39;*&#39;-closure, parentheses, and symbols makes the rule difficult to read! If you have to recognize spaces around the literal, instead of `AND : &#39; &#39;*(&#39;&amp;&amp;&#39; | &#39;AND&#39; | &#39;and&#39;)&#39; &#39;*;`, write something like `AND : Whitespaces (&#39;&amp;&amp;&#39; | &#39;AND&#39; | &#39;and&#39;) Whitespaces; fragment Whitespaces: [ \\t]*;`","body":"You have a &quot;token recognition error&quot;; the lexer rules are the problem. You don&#39;t define a token for &#39;|&#39;, only for &#39;||&#39;. At that, you surround every token with optional spaces, which is highly unorthodox and unnatural. Further, the spacing around string literals, &#39;*&#39;-closure, parentheses, and symbols makes the rule difficult to read! If you have to recognize spaces around the literal, instead of <code>AND : &#39; &#39;*(&#39;&amp;&amp;&#39; | &#39;AND&#39; | &#39;and&#39;)&#39; &#39;*;</code>, write something like <code>AND : Whitespaces (&#39;&amp;&amp;&#39; | &#39;AND&#39; | &#39;and&#39;) Whitespaces; fragment Whitespaces: [ \\t]*;</code>"}],"answers":[{"tags":[],"owner":{"account_id":27816,"reputation":6650,"user_id":73764,"accept_rate":91,"display_name":"Mike Cargal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657669434,"creation_date":1657669104,"answer_id":72959408,"question_id":72958865,"body_markdown":"As @kaby76 points out, you&#39;re getting a token recognition error, this comes from the Lexer.  You&#39;ll also need to attach your `ErrorListener` to the Lexer.\r\n\r\n```\r\nlexer.addErrorListener(errorListener);\r\n```\r\n\r\nAlso, you really want your ErrorListener to collect all of the errors it encounters.  Just interrogating `errorListener.getException()` is (probably) just going to give you the last error it encountered.\r\n\r\nWhen ANTLR encounters a syntaxError, it&#39;s just going to can the `syntaxError(...)` method on all attached listeners and continue processing.  It&#39;s up to you to decide how to react to a syntax error reported to your listener.\r\n\r\nYou can choose how to handle your exceptions, but a &quot;normal&quot; process would be to build an `ArrayList` of all the errors you encounter and make it accessible in your `TagQueryListener` class.  Then you can add methods to check for errors, check max severity, check error count, etc.  (You could also just chose to throw an Exception to abort processing at the first error your encounter, but that&#39;s not going to be a great user experience.)\r\n\r\n(I agree with his advise re: whitespace handling as well)","title":"ANTLR4 Logical Expressions","body":"<p>As @kaby76 points out, you're getting a token recognition error, this comes from the Lexer.  You'll also need to attach your <code>ErrorListener</code> to the Lexer.</p>\n<pre><code>lexer.addErrorListener(errorListener);\n</code></pre>\n<p>Also, you really want your ErrorListener to collect all of the errors it encounters.  Just interrogating <code>errorListener.getException()</code> is (probably) just going to give you the last error it encountered.</p>\n<p>When ANTLR encounters a syntaxError, it's just going to can the <code>syntaxError(...)</code> method on all attached listeners and continue processing.  It's up to you to decide how to react to a syntax error reported to your listener.</p>\n<p>You can choose how to handle your exceptions, but a &quot;normal&quot; process would be to build an <code>ArrayList</code> of all the errors you encounter and make it accessible in your <code>TagQueryListener</code> class.  Then you can add methods to check for errors, check max severity, check error count, etc.  (You could also just chose to throw an Exception to abort processing at the first error your encounter, but that's not going to be a great user experience.)</p>\n<p>(I agree with his advise re: whitespace handling as well)</p>\n"}],"owner":{"account_id":4912583,"reputation":3,"user_id":3957479,"display_name":"Aditya Jagtiani"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72959408,"answer_count":1,"score":0,"last_activity_date":1657669434,"creation_date":1657663518,"question_id":72958865,"body_markdown":"I&#39;m new to ANTLR and trying to support logical expressions. My problem is that the grammar is considering even a single &#39;&amp;&#39; to be a logical AND (same goes for | and OR), which should not be the case. \r\n\r\nHere&#39;s my grammar file (TagQuery.g4): \r\n```grammar TagQuery;\r\n\r\nquery\r\n    : (expression)+\r\n    ;\r\n\r\nexpression\r\n    : keyValue                                                #comparisonExpression\r\n    | inExpression                                            #singleInExpression\r\n    | hasExpression                                           #singleHasExpression\r\n    | expressionGroup                                         #singleExpressionGroup\r\n    | expression logicalOperator expression                   #logicalExpression\r\n    | expressionGroup logicalOperator expressionGroup         #expressionGroupExpression\r\n    ;\r\n\r\ninExpression\r\n    : key IN literalList\r\n    ;\r\n\r\nhasExpression\r\n    : HAS key\r\n    ;\r\n\r\nexpressionGroup\r\n    : NOT? L_RND_BRACKET (expression)+ R_RND_BRACKET\r\n    ;\r\n\r\n\r\nkeyValue\r\n    : key comparisonOperator literal\r\n    ;\r\n\r\nkey\r\n    :  KEY_PREFIX (keyName) R_RND_BRACKET\r\n    ;\r\n\r\nkeyName\r\n    : IDENTIFIER\r\n    ;\r\n\r\n\r\ncomparisonOperator\r\n    : EQ | NEQ\r\n    ;\r\n\r\nlogicalOperator\r\n    : AND | OR\r\n    ;\r\n\r\nliteralList\r\n    : L_SQ_BRACKET literal (COMMA literal)* R_SQ_BRACKET\r\n    ;\r\n\r\nliteral\r\n    : STRING_LITERAL\r\n    ;\r\n\r\n\r\n// keywords\r\nAND                 : &#39; &#39;*(&#39;&amp;&amp;&#39; | &#39;AND&#39; | &#39;and&#39;)&#39; &#39;*;\r\nOR                  :  &#39; &#39;*(&#39;||&#39; | &#39;OR&#39; | &#39;or&#39;)&#39; &#39;*;\r\nIDENTIFIER          : [A-Za-z0-9_]+ ;\r\nESCAPED_IDENTIFIER  : &#39;&quot;&#39; ( &#39;&quot;&#39; &#39;&quot;&#39; | [^&quot;] )* &#39;&quot;&#39;;\r\nSTRING_LITERAL      : &#39;\\&#39;&#39; [A-Za-z0-9_ ]* &#39;\\&#39;&#39;;\r\nNOT                 : &#39; &#39;*(&#39;!&#39; | &#39;not&#39; | &#39;NOT&#39;)&#39; &#39;*;\r\nHAS                 : &#39; &#39;*(&#39;HAS&#39; | &#39;has&#39;)&#39; &#39;*;\r\nIN                  : &#39; &#39;*(&#39;IN&#39; | &#39;in&#39;)&#39; &#39;*;\r\nEQ                  : &#39; &#39;*&#39;=&#39;&#39; &#39;*;\r\nNEQ                 : &#39; &#39;*&#39;!=&#39;&#39; &#39;*;\r\nL_SQ_BRACKET        : &#39; &#39;*&#39;[&#39;&#39; &#39;*;\r\nR_SQ_BRACKET        : &#39; &#39;*&#39;]&#39;&#39; &#39;*;\r\nL_RND_BRACKET       : &#39; &#39;*&#39;(&#39;&#39; &#39;*;\r\nR_RND_BRACKET       : &#39; &#39;*&#39;)&#39;&#39; &#39;*;\r\nCOMMA               : &#39; &#39;*&#39;,&#39;&#39; &#39;*;\r\nKEY_PREFIX          : &#39;tags(&#39;&#39; &#39;*;\r\n//KEY_SUFFIX          : &#39;)&#39;&#39; &#39;*;\r\nSPACE               : [ \\t\\r\\n]+    -&gt; channel(HIDDEN);\r\nWS                  : [ \\t\\r\\n]+    -&gt; channel(HIDDEN);\r\n//BLANK               : &#39; &#39;*;\r\n```\r\n\r\nA sample valid query would be as follows:\r\n```tags(environment) = &#39;prod&#39; &amp;&amp; tags(region) = &#39;syd&#39;```\r\n\r\nHere&#39;s the method that evaluates the query: \r\n\r\n```    \r\npublic static Filter forQuery(String query) throws ParseException {\r\n        try {\r\n            LOGGER.info(&quot;Attempting to get tag filter for query {}&quot;, query);\r\n            CharStream in = CharStreams.fromStream(new ByteArrayInputStream(query.getBytes()));\r\n            TagQueryLexer lexer = new TagQueryLexer(in);\r\n            CommonTokenStream tokens = new CommonTokenStream(lexer);\r\n            TagQueryParser parser = new TagQueryParser(tokens);\r\n            TagQueryListener listener = new TagQueryListener();\r\n            parser.addParseListener(listener);\r\n            TagQueryParseErrorListener errorListener = new TagQueryParseErrorListener();\r\n            parser.addErrorListener(errorListener);\r\n            parser.query();\r\n            if (errorListener.getException() != null) {\r\n                listener.getFilter().setParseError(errorListener.getException());\r\n                LOGGER.error(&quot;Tag filter for query {} returned an error. Please check query syntax \\n {}&quot;, query, errorListener.getException());\r\n                throw errorListener.getException();\r\n            }\r\n            LOGGER.info(&quot;Tag filter for query {} returned successfully&quot;, query);\r\n            return listener.getFilter();\r\n        } catch (IOException e) {\r\n            LOGGER.error(&quot;Unexpected error encountered while getting filter for query {} \\n {}&quot;, query, e);\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n```\r\n\r\nHere are some invalid queries: \r\n```\r\n(tags(project) = &#39;cloudcollectors&#39; &amp; tags(jira) = &#39;XTNXBL&#39;)\r\n(tags(project) = &#39;cloudcollectors&#39; | tags(jira) = &#39;XTNXBL&#39;)\r\n(tags(project) = &#39;cloudcollectors&#39;  tags(jira) = &#39;XTNXBL&#39;)\r\n(tags(project) = &#39;cloudcollectors&#39; tags(jira) = &#39;XTNXBL&#39;)\r\n(tags(project) = &#39;cloudcollectors&#39;tags(jira) = &#39;XTNXBL&#39;)\r\n```\r\n\r\nI expect the errorListener in the method above to throw an exception as these queries are syntactically incorrect. However, that does not happen and they proceed to return a Filter object. \r\n\r\nCan someone suggest how to get past this? Am I missing something in my grammar? Thank you!","title":"ANTLR4 Logical Expressions","body":"<p>I'm new to ANTLR and trying to support logical expressions. My problem is that the grammar is considering even a single '&amp;' to be a logical AND (same goes for | and OR), which should not be the case.</p>\n<p>Here's my grammar file (TagQuery.g4):</p>\n<pre><code>\nquery\n    : (expression)+\n    ;\n\nexpression\n    : keyValue                                                #comparisonExpression\n    | inExpression                                            #singleInExpression\n    | hasExpression                                           #singleHasExpression\n    | expressionGroup                                         #singleExpressionGroup\n    | expression logicalOperator expression                   #logicalExpression\n    | expressionGroup logicalOperator expressionGroup         #expressionGroupExpression\n    ;\n\ninExpression\n    : key IN literalList\n    ;\n\nhasExpression\n    : HAS key\n    ;\n\nexpressionGroup\n    : NOT? L_RND_BRACKET (expression)+ R_RND_BRACKET\n    ;\n\n\nkeyValue\n    : key comparisonOperator literal\n    ;\n\nkey\n    :  KEY_PREFIX (keyName) R_RND_BRACKET\n    ;\n\nkeyName\n    : IDENTIFIER\n    ;\n\n\ncomparisonOperator\n    : EQ | NEQ\n    ;\n\nlogicalOperator\n    : AND | OR\n    ;\n\nliteralList\n    : L_SQ_BRACKET literal (COMMA literal)* R_SQ_BRACKET\n    ;\n\nliteral\n    : STRING_LITERAL\n    ;\n\n\n// keywords\nAND                 : ' '*('&amp;&amp;' | 'AND' | 'and')' '*;\nOR                  :  ' '*('||' | 'OR' | 'or')' '*;\nIDENTIFIER          : [A-Za-z0-9_]+ ;\nESCAPED_IDENTIFIER  : '&quot;' ( '&quot;' '&quot;' | [^&quot;] )* '&quot;';\nSTRING_LITERAL      : '\\'' [A-Za-z0-9_ ]* '\\'';\nNOT                 : ' '*('!' | 'not' | 'NOT')' '*;\nHAS                 : ' '*('HAS' | 'has')' '*;\nIN                  : ' '*('IN' | 'in')' '*;\nEQ                  : ' '*'='' '*;\nNEQ                 : ' '*'!='' '*;\nL_SQ_BRACKET        : ' '*'['' '*;\nR_SQ_BRACKET        : ' '*']'' '*;\nL_RND_BRACKET       : ' '*'('' '*;\nR_RND_BRACKET       : ' '*')'' '*;\nCOMMA               : ' '*','' '*;\nKEY_PREFIX          : 'tags('' '*;\n//KEY_SUFFIX          : ')'' '*;\nSPACE               : [ \\t\\r\\n]+    -&gt; channel(HIDDEN);\nWS                  : [ \\t\\r\\n]+    -&gt; channel(HIDDEN);\n//BLANK               : ' '*;\n</code></pre>\n<p>A sample valid query would be as follows:\n<code>tags(environment) = 'prod' &amp;&amp; tags(region) = 'syd'</code></p>\n<p>Here's the method that evaluates the query:</p>\n<pre><code>public static Filter forQuery(String query) throws ParseException {\n        try {\n            LOGGER.info(&quot;Attempting to get tag filter for query {}&quot;, query);\n            CharStream in = CharStreams.fromStream(new ByteArrayInputStream(query.getBytes()));\n            TagQueryLexer lexer = new TagQueryLexer(in);\n            CommonTokenStream tokens = new CommonTokenStream(lexer);\n            TagQueryParser parser = new TagQueryParser(tokens);\n            TagQueryListener listener = new TagQueryListener();\n            parser.addParseListener(listener);\n            TagQueryParseErrorListener errorListener = new TagQueryParseErrorListener();\n            parser.addErrorListener(errorListener);\n            parser.query();\n            if (errorListener.getException() != null) {\n                listener.getFilter().setParseError(errorListener.getException());\n                LOGGER.error(&quot;Tag filter for query {} returned an error. Please check query syntax \\n {}&quot;, query, errorListener.getException());\n                throw errorListener.getException();\n            }\n            LOGGER.info(&quot;Tag filter for query {} returned successfully&quot;, query);\n            return listener.getFilter();\n        } catch (IOException e) {\n            LOGGER.error(&quot;Unexpected error encountered while getting filter for query {} \\n {}&quot;, query, e);\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>Here are some invalid queries:</p>\n<pre><code>(tags(project) = 'cloudcollectors' &amp; tags(jira) = 'XTNXBL')\n(tags(project) = 'cloudcollectors' | tags(jira) = 'XTNXBL')\n(tags(project) = 'cloudcollectors'  tags(jira) = 'XTNXBL')\n(tags(project) = 'cloudcollectors' tags(jira) = 'XTNXBL')\n(tags(project) = 'cloudcollectors'tags(jira) = 'XTNXBL')\n</code></pre>\n<p>I expect the errorListener in the method above to throw an exception as these queries are syntactically incorrect. However, that does not happen and they proceed to return a Filter object.</p>\n<p>Can someone suggest how to get past this? Am I missing something in my grammar? Thank you!</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657658749,"creation_date":1657658749,"answer_id":72958187,"question_id":72958066,"body_markdown":"Case 3) You need an if statement against the ID\r\n\r\n    System.out.println(&quot;Enter the customer&#39;s ID: &quot;);\r\n    int identify = input.nextInt();\r\n    \r\n    for (int i = 0; i &lt; companyLog.size(); i++) {\r\n         CompanyData cd = companyLog.get(i);\r\n         // match specific customer id with an id in the companyLog array\r\n         if (cd.id == identify) {\r\n             // print the specific customer&#39;s data: customer id, customer name, and total sales\r\n             cd.printData();\r\n         }\r\n    }\r\n\r\nCase 4) You can input a range as a string rather than a float `0-100`, then `split(&quot;-&quot;)` the string, then cast each part to a float... Or you can input two floats for a low then a high. \r\n\r\nThe comments in the code say nothing about ordering the output. \r\n\r\n    //prompts the user for the lowest and highest total sales\r\n    System.out.println(&quot;Enter a sales range? (low): &quot;);\r\n    float low = input.nextFloat();\r\n    System.out.println(&quot;Enter a sales range? (high): &quot;);\r\n    float high = input.nextFloat();\r\n    \r\n    for (int i = 0; i &lt; companyLog.size(); i++) {\r\n         CompanyData cd = companyLog.get(i);\r\n         if (cd.sales &gt;= low &amp;&amp; cd.sales &lt; high) {\r\n             // print the specific customer&#39;s data: customer id, customer name, and total sales\r\n             cd.printData();\r\n         }\r\n    }\r\n","title":"How do I print an element from an array by asking for user input? (matching input with elements in the array)","body":"<p>Case 3) You need an if statement against the ID</p>\n<pre><code>System.out.println(&quot;Enter the customer's ID: &quot;);\nint identify = input.nextInt();\n\nfor (int i = 0; i &lt; companyLog.size(); i++) {\n     CompanyData cd = companyLog.get(i);\n     // match specific customer id with an id in the companyLog array\n     if (cd.id == identify) {\n         // print the specific customer's data: customer id, customer name, and total sales\n         cd.printData();\n     }\n}\n</code></pre>\n<p>Case 4) You can input a range as a string rather than a float <code>0-100</code>, then <code>split(&quot;-&quot;)</code> the string, then cast each part to a float... Or you can input two floats for a low then a high.</p>\n<p>The comments in the code say nothing about ordering the output.</p>\n<pre><code>//prompts the user for the lowest and highest total sales\nSystem.out.println(&quot;Enter a sales range? (low): &quot;);\nfloat low = input.nextFloat();\nSystem.out.println(&quot;Enter a sales range? (high): &quot;);\nfloat high = input.nextFloat();\n\nfor (int i = 0; i &lt; companyLog.size(); i++) {\n     CompanyData cd = companyLog.get(i);\n     if (cd.sales &gt;= low &amp;&amp; cd.sales &lt; high) {\n         // print the specific customer's data: customer id, customer name, and total sales\n         cd.printData();\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11988367,"reputation":540,"user_id":8772274,"display_name":"Nahuel Giani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657658765,"creation_date":1657658765,"answer_id":72958193,"question_id":72958066,"body_markdown":"Maybe you can do some like that in the case 3:\r\n\r\n    case 3: {\r\n\r\n        System.out.println(&quot;Enter the customer&#39;s ID: &quot;);\r\n        int identify = input.nextInt();\r\n        companyLog.get(identify).printData();\r\n\r\n        break;\r\n    }\r\n\r\nI give you some advice\r\n\r\n1) The &#39;break&#39; sentence must be into the case\r\n2) You don&#39;t need &#39;for&#39; in this case because you know the client id","title":"How do I print an element from an array by asking for user input? (matching input with elements in the array)","body":"<p>Maybe you can do some like that in the case 3:</p>\n<pre><code>case 3: {\n\n    System.out.println(&quot;Enter the customer's ID: &quot;);\n    int identify = input.nextInt();\n    companyLog.get(identify).printData();\n\n    break;\n}\n</code></pre>\n<p>I give you some advice</p>\n<ol>\n<li>The 'break' sentence must be into the case</li>\n<li>You don't need 'for' in this case because you know the client id</li>\n</ol>\n"}],"owner":{"account_id":25793637,"reputation":13,"user_id":19537279,"display_name":"Justin Anton Porter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":317,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72958187,"answer_count":2,"score":-1,"last_activity_date":1657667874,"creation_date":1657658032,"question_id":72958066,"body_markdown":"*Case 3* and *Case 4* - How do I print an element from an array by asking for user input? (matching input with elements in the array)\r\n\r\nAlso how do I grab user input as an integer range (e.g 1 - 4) and display it in order? (e.g element 1, element 2, element 3, element 4)\r\n\r\n\r\n------------------------------------------------------------------------------------------\r\n\r\n\r\n    import java.util.Scanner;\r\n    import java.util.ArrayList;\r\n    \r\n    // ----- OBJECT TYPE 1 ----- //\r\n    public class project {\r\n    \t\r\n    \t// ----- OBJECT 1 [ main method ] ----- //\r\n    \tpublic static void main(String[]args) {\r\n    \t\t\r\n    \t\tScanner input = new Scanner(System.in);\r\n    \t\t\r\n    \t\tArrayList&lt;CustomerData&gt; companyLog = new ArrayList&lt;&gt;();\r\n    \t\t\r\n    \t\t\r\n    \t\tboolean cycleMenu = true;\r\n    \t\twhile (cycleMenu) {\r\n    \t\t\tSystem.out.println(&quot;THE MENU&quot;);\r\n    \t\t\tSystem.out.println(&quot;------------- \\n&quot;);\r\n    \t\t\tSystem.out.println(&quot;1: Add New Customers&quot;);\r\n    \t\t\tSystem.out.println(&quot;2: Display All Customers&quot;);\r\n    \t\t\tSystem.out.println(&quot;3: Retrieve Specific Customer Data&quot;);\r\n    \t\t\tSystem.out.println(&quot;4: Retrieve Customer Total Sales Range&quot;);\r\n    \t\t\tSystem.out.println(&quot;9: Exit&quot;);\r\n    \t\t\t\r\n    \t\t\t//Add new customer - prompts the user for customer data: customer name, customer id, and total sales\r\n    \t\t\tint responses = input.nextInt();\r\n    \t\t\tswitch (responses) {\r\n    \t\t\t\tcase 1: {\r\n    \t\t\t\t\t//Load customers’ data - Prompt user for the number of customers to be loaded\r\n    \t\t\t\t\tSystem.out.println(&quot;What is the number of customers?: &quot;);\r\n    \t\t\t\t\tint cycle = input.nextInt();\r\n    \t\t\t\t\tfor (int i = 0; i &lt; cycle; i++) {\r\n    \t\t\t\t\t\tcompanyLog.add(new CustomerData());\r\n    \t\t\t\t\t}\r\n    \t\t\t\t} break;\r\n    \t\t\t\tcase 2: {\r\n    \t\t\t\t\t//re = results | Display ALL customers\r\n    \t\t\t\t\tfor (CustomerData re : companyLog) {\r\n    \t\t\t\t\t\tre.printData();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t} break;\r\n    \t\t\t\t//Retrieve specific customer&#39;s data:\r\n    \t\t\t\tcase 3: {\r\n    \t\t\t\t\t//prompts the user for the customer id\r\n    \t\t\t\t\tSystem.out.println(&quot;Enter the customer&#39;s ID: &quot;);\r\n    \t\t\t\t\tint identify = input.nextInt();\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t//match specific customer id with an id in the companyLog array\r\n    \t\t\t\t\tfor (int i = 0; i &lt; identify; i++) {\r\n    \t\t\t\t\t\t//print the specific customer&#39;s data: customer id, customer name, and total sales\r\n                             companyLog.get(identify);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t} break;\r\n    \t\t\t\t//Retrieve customers with total sales based on the range:\r\n    \t\t\t\tcase 4: {\r\n    \t\t\t\t\t//prompts the user for the lowest and highest total sales\r\n    \t\t\t\t\tSystem.out.println(&quot;Enter a sales range?: &quot;);\r\n    \t\t\t\t\tfloat range = input.nextFloat();\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t//match lowest and highest sales to companyLog array\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t//print all customers with total sales in that range from companyLog array\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t\r\n    \t\t\t\t} break;\r\n    \t\t\t\tcase 9: {\r\n    \t\t\t\t\t//Exit\r\n    \t\t\t\t\tSystem.out.println(&quot;\\n&quot; + &quot;You have exited the Java program. Goodbye! :)&quot;);\r\n    \t\t\t\t\tcycleMenu = false;\r\n    \t\t\t\t} break;\r\n    \t\t\t\t}\r\n    \t\t\t}\t\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    // ----- OBJECT TYPE 2 ----- //\r\n    class CustomerData {\r\n    \t\r\n    \tString names;\r\n    \tfloat sales;\r\n    \tint id;\r\n    \t\r\n    \t// ----- OBJECT 1 ----- //\r\n    \tpublic CustomerData() {\r\n    \t\t\r\n    \t\tScanner input = new Scanner(System.in);\r\n    \t\t\r\n    \t\t//Prompts for each customer&#39;s name\r\n    \t\tSystem.out.println(&quot;\\n What is this customers name?: \\n&quot;);\r\n    \t\tnames = input.next();\r\n    \t\t\r\n    \t\t//Customer id (5 digit number)\r\n    \t\tSystem.out.println(&quot;\\n Please enter this customer&#39;s 5-digit id number.: \\n&quot;);\r\n    \t\tid = input.nextInt();\r\n    \t\t\r\n    \t\t//Total sales\r\n    \t\tSystem.out.println(&quot;\\n What is this customer&#39;s sales total?: \\n&quot;);\r\n    \t\tsales = input.nextFloat();\r\n    \t\t\r\n    \t\tthis.names = names;\r\n    \t\tthis.id = id;\r\n    \t\tthis.sales = sales;\r\n    \t}\r\n    \t\r\n    \t// ----- OBJECT 2 ----- //\r\n    \tpublic void printData() {\r\n    \t\t\r\n    \t\t//Display all customers - displays each customer&#39;s data to the console, one customer per line\r\n    \t\tSystem.out.println(&quot;Customer: &quot; + this.names + &quot;\\n&quot;);\r\n    \t\tSystem.out.println(&quot;ID: &quot; + this.id + &quot;\\n&quot;);\r\n    \t\tSystem.out.println(&quot;Sales Total: &quot; + this.sales + &quot;\\n&quot;);\r\n    \t}\r\n    }\r\n\r\n","title":"How do I print an element from an array by asking for user input? (matching input with elements in the array)","body":"<p><em>Case 3</em> and <em>Case 4</em> - How do I print an element from an array by asking for user input? (matching input with elements in the array)</p>\n<p>Also how do I grab user input as an integer range (e.g 1 - 4) and display it in order? (e.g element 1, element 2, element 3, element 4)</p>\n<hr />\n<pre><code>import java.util.Scanner;\nimport java.util.ArrayList;\n\n// ----- OBJECT TYPE 1 ----- //\npublic class project {\n    \n    // ----- OBJECT 1 [ main method ] ----- //\n    public static void main(String[]args) {\n        \n        Scanner input = new Scanner(System.in);\n        \n        ArrayList&lt;CustomerData&gt; companyLog = new ArrayList&lt;&gt;();\n        \n        \n        boolean cycleMenu = true;\n        while (cycleMenu) {\n            System.out.println(&quot;THE MENU&quot;);\n            System.out.println(&quot;------------- \\n&quot;);\n            System.out.println(&quot;1: Add New Customers&quot;);\n            System.out.println(&quot;2: Display All Customers&quot;);\n            System.out.println(&quot;3: Retrieve Specific Customer Data&quot;);\n            System.out.println(&quot;4: Retrieve Customer Total Sales Range&quot;);\n            System.out.println(&quot;9: Exit&quot;);\n            \n            //Add new customer - prompts the user for customer data: customer name, customer id, and total sales\n            int responses = input.nextInt();\n            switch (responses) {\n                case 1: {\n                    //Load customers’ data - Prompt user for the number of customers to be loaded\n                    System.out.println(&quot;What is the number of customers?: &quot;);\n                    int cycle = input.nextInt();\n                    for (int i = 0; i &lt; cycle; i++) {\n                        companyLog.add(new CustomerData());\n                    }\n                } break;\n                case 2: {\n                    //re = results | Display ALL customers\n                    for (CustomerData re : companyLog) {\n                        re.printData();\n                    }\n                } break;\n                //Retrieve specific customer's data:\n                case 3: {\n                    //prompts the user for the customer id\n                    System.out.println(&quot;Enter the customer's ID: &quot;);\n                    int identify = input.nextInt();\n                    \n                    //match specific customer id with an id in the companyLog array\n                    for (int i = 0; i &lt; identify; i++) {\n                        //print the specific customer's data: customer id, customer name, and total sales\n                         companyLog.get(identify);\n                    }\n                } break;\n                //Retrieve customers with total sales based on the range:\n                case 4: {\n                    //prompts the user for the lowest and highest total sales\n                    System.out.println(&quot;Enter a sales range?: &quot;);\n                    float range = input.nextFloat();\n                    \n                    //match lowest and highest sales to companyLog array\n                    \n                    \n                    //print all customers with total sales in that range from companyLog array\n                    \n                    \n                } break;\n                case 9: {\n                    //Exit\n                    System.out.println(&quot;\\n&quot; + &quot;You have exited the Java program. Goodbye! :)&quot;);\n                    cycleMenu = false;\n                } break;\n                }\n            }   \n        }\n    }\n\n\n// ----- OBJECT TYPE 2 ----- //\nclass CustomerData {\n    \n    String names;\n    float sales;\n    int id;\n    \n    // ----- OBJECT 1 ----- //\n    public CustomerData() {\n        \n        Scanner input = new Scanner(System.in);\n        \n        //Prompts for each customer's name\n        System.out.println(&quot;\\n What is this customers name?: \\n&quot;);\n        names = input.next();\n        \n        //Customer id (5 digit number)\n        System.out.println(&quot;\\n Please enter this customer's 5-digit id number.: \\n&quot;);\n        id = input.nextInt();\n        \n        //Total sales\n        System.out.println(&quot;\\n What is this customer's sales total?: \\n&quot;);\n        sales = input.nextFloat();\n        \n        this.names = names;\n        this.id = id;\n        this.sales = sales;\n    }\n    \n    // ----- OBJECT 2 ----- //\n    public void printData() {\n        \n        //Display all customers - displays each customer's data to the console, one customer per line\n        System.out.println(&quot;Customer: &quot; + this.names + &quot;\\n&quot;);\n        System.out.println(&quot;ID: &quot; + this.id + &quot;\\n&quot;);\n        System.out.println(&quot;Sales Total: &quot; + this.sales + &quot;\\n&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1206541,"reputation":2037,"user_id":1176037,"accept_rate":67,"display_name":"Alan Deep"},"score":0,"creation_date":1533948867,"post_id":51795358,"comment_id":90548524,"body_markdown":"You got the idea wrong dear.\n\n`listView.getItems().add(list)` where list is a `List` or `ObservableList`.\n\nPlus you cannot convert `observablelist` to `listview,` `listview` is a `View`, something you can see on the UI.\n\nIf you can show us the stacktrace we can help you more","body":"You got the idea wrong dear.  <code>listView.getItems().add(list)</code> where list is a <code>List</code> or <code>ObservableList</code>.  Plus you cannot convert <code>observablelist</code> to <code>listview,</code> <code>listview</code> is a <code>View</code>, something you can see on the UI.  If you can show us the stacktrace we can help you more"},{"owner":{"account_id":14133436,"reputation":21,"user_id":10210725,"display_name":"M. Fahim"},"score":0,"creation_date":1533958317,"post_id":51795358,"comment_id":90549659,"body_markdown":"The code is exactly how the book explains the issue (to show the element of string array in a ListView). Is there any other way to import the elements of an array in listview?","body":"The code is exactly how the book explains the issue (to show the element of string array in a ListView). Is there any other way to import the elements of an array in listview?"}],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657666828,"creation_date":1657666828,"answer_id":72959200,"question_id":51795358,"body_markdown":"For reference, a tab&#39;s [`setContent()`][1] method accepts _any_ [`Node`][2], including a [`ListView`][3].\r\n\r\n[![image][4]][4]\r\n\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.ListView;\r\nimport javafx.scene.control.Tab;\r\nimport javafx.scene.control.TabPane;\r\nimport javafx.stage.Stage;\r\n\r\n/**\r\n * @see https://stackoverflow.com/q/51795358/230513\r\n */\r\npublic class TabList extends Application {\r\n\r\n    private Tab createTab(String title) {\r\n        String[] temp = {&quot;Book&quot;, &quot;Notebook&quot;, &quot;Pen&quot;, &quot;Pencil&quot;};\r\n        ObservableList&lt;String&gt; strList = FXCollections.observableArrayList(temp);\r\n        ListView&lt;String&gt; listView = new ListView&lt;&gt;(strList);\r\n        Tab tab = new Tab(title);\r\n        tab.setContent(listView);\r\n        return tab;\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        TabPane tabPane = new TabPane();\r\n        tabPane.getTabs().add(createTab(&quot;Manager&quot;));\r\n        tabPane.getTabs().add(createTab(&quot;Employee&quot;));\r\n        stage.setScene(new Scene(tabPane));\r\n        stage.setTitle(&quot;ListView in Tab&quot;);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/Tab.html#setContent(javafx.scene.Node)\r\n  [2]: https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/Node.html\r\n  [3]: https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/ListView.html\r\n  [4]: https://i.stack.imgur.com/W7BE6.png","title":"I am trying to put the content an String to ListView","body":"<p>For reference, a tab's <a href=\"https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/Tab.html#setContent(javafx.scene.Node)\" rel=\"nofollow noreferrer\"><code>setContent()</code></a> method accepts <em>any</em> <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/Node.html\" rel=\"nofollow noreferrer\"><code>Node</code></a>, including a <a href=\"https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/ListView.html\" rel=\"nofollow noreferrer\"><code>ListView</code></a>.</p>\n<p><a href=\"https://i.stack.imgur.com/W7BE6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W7BE6.png\" alt=\"image\" /></a></p>\n<pre><code>import javafx.application.Application;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.scene.Scene;\nimport javafx.scene.control.ListView;\nimport javafx.scene.control.Tab;\nimport javafx.scene.control.TabPane;\nimport javafx.stage.Stage;\n\n/**\n * @see https://stackoverflow.com/q/51795358/230513\n */\npublic class TabList extends Application {\n\n    private Tab createTab(String title) {\n        String[] temp = {&quot;Book&quot;, &quot;Notebook&quot;, &quot;Pen&quot;, &quot;Pencil&quot;};\n        ObservableList&lt;String&gt; strList = FXCollections.observableArrayList(temp);\n        ListView&lt;String&gt; listView = new ListView&lt;&gt;(strList);\n        Tab tab = new Tab(title);\n        tab.setContent(listView);\n        return tab;\n    }\n\n    @Override\n    public void start(Stage stage) {\n        TabPane tabPane = new TabPane();\n        tabPane.getTabs().add(createTab(&quot;Manager&quot;));\n        tabPane.getTabs().add(createTab(&quot;Employee&quot;));\n        stage.setScene(new Scene(tabPane));\n        stage.setTitle(&quot;ListView in Tab&quot;);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14133436,"reputation":21,"user_id":10210725,"display_name":"M. Fahim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657666828,"creation_date":1533946336,"question_id":51795358,"body_markdown":"I am trying to put the content an String to ListView. After running the code, the object of ListView contains null. I am not sure where is the problem? any help please!! Not to forget that employee it an object of Tap class which is located in TabLayout.\r\n\r\n    //Step 1. Create and initialize the array.\r\n    String[] temp = {&quot;Book&quot;, &quot;Notebook&quot;, &quot;pen&quot;, &quot;pencil&quot;};\r\n\r\n    //Step 2. Convert the array to ObservablList\r\n    ObservableList&lt;String&gt; strList = FXCollections.observableArrayList(temp);\r\n\r\n    //Step 3. Convert the ObservableList to ListView\r\n    ListView&lt;String&gt; listView = new ListView&lt;&gt;(strList);\r\n\r\n    //Step 4. Add the content of ListView to the employee Tap. \r\n    employee.setContent(listView);\r\n\r\nThe except is thrown when step 4 is executed. I think this happens because of step 3. The object of the elements ListView are null. \r\n\r\n","title":"I am trying to put the content an String to ListView","body":"<p>I am trying to put the content an String to ListView. After running the code, the object of ListView contains null. I am not sure where is the problem? any help please!! Not to forget that employee it an object of Tap class which is located in TabLayout.</p>\n\n<pre><code>//Step 1. Create and initialize the array.\nString[] temp = {\"Book\", \"Notebook\", \"pen\", \"pencil\"};\n\n//Step 2. Convert the array to ObservablList\nObservableList&lt;String&gt; strList = FXCollections.observableArrayList(temp);\n\n//Step 3. Convert the ObservableList to ListView\nListView&lt;String&gt; listView = new ListView&lt;&gt;(strList);\n\n//Step 4. Add the content of ListView to the employee Tap. \nemployee.setContent(listView);\n</code></pre>\n\n<p>The except is thrown when step 4 is executed. I think this happens because of step 3. The object of the elements ListView are null. </p>\n"},{"tags":["java","elasticsearch","spring-data-elasticsearch","resthighlevelclient"],"owner":{"account_id":1511851,"reputation":999,"user_id":1413756,"accept_rate":37,"display_name":"Dan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657666678,"creation_date":1657657071,"question_id":72957939,"body_markdown":"I am having an issue trying to implement optimistic locking when executing a document upsert.\r\n\r\nI followed all the guides, however I am getting the following error:\r\n\r\n    Validation Failed: 1: compare and write operations can not be used with upsert;\r\n\r\nI can trace this error back to this [validate][1] method, however I cannot find an explanation as to why this cannot be done nor HOW to do an upsert without running into conflicts.\r\n\r\n\r\nHere&#39;s where I am getting the error in my code:\r\n\r\n    private UpdateResponse doAction(UUID esId, List&lt;Comment&gt; comments, dSeqNoPrimaryTerm seqPrimNo, String indexName) {\r\n            UpdateResponse response = null;\r\n            Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\r\n            params.put(&quot;comments&quot;, comments);\r\n            Builder builder = UpdateQuery\r\n                    .builder(esId.toString())\r\n                    .withDocAsUpsert(true)\r\n                    .withDocument(Document.from(params))\r\n                    .withRefresh(Refresh.True);\r\n            if (seqPrimNo != null) {\r\n                builder.withIfSeqNo((int) seqPrimNo.getSequenceNumber());\r\n                builder.withIfPrimaryTerm((int) seqPrimNo.getPrimaryTerm());\r\n            }\r\n            UpdateQuery query = builder.build();\r\n            response = elasticsearchTemplate.update(query, IndexCoordinates.of(indexName));  // &lt;-- ERRORS HERE\r\n            return response;\r\n        }\r\n\r\nDoes that mean that we cannot do optimistic locking when doing an upsert?  What am I missing?\r\n\r\n\r\n  [1]: https://github.com/elastic/elasticsearch/blob/master/server/src/main/java/org/elasticsearch/action/update/UpdateRequest.java#L175","title":"Avoiding conflicts with elastic upsert","body":"<p>I am having an issue trying to implement optimistic locking when executing a document upsert.</p>\n<p>I followed all the guides, however I am getting the following error:</p>\n<pre><code>Validation Failed: 1: compare and write operations can not be used with upsert;\n</code></pre>\n<p>I can trace this error back to this <a href=\"https://github.com/elastic/elasticsearch/blob/master/server/src/main/java/org/elasticsearch/action/update/UpdateRequest.java#L175\" rel=\"nofollow noreferrer\">validate</a> method, however I cannot find an explanation as to why this cannot be done nor HOW to do an upsert without running into conflicts.</p>\n<p>Here's where I am getting the error in my code:</p>\n<pre><code>private UpdateResponse doAction(UUID esId, List&lt;Comment&gt; comments, dSeqNoPrimaryTerm seqPrimNo, String indexName) {\n        UpdateResponse response = null;\n        Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\n        params.put(&quot;comments&quot;, comments);\n        Builder builder = UpdateQuery\n                .builder(esId.toString())\n                .withDocAsUpsert(true)\n                .withDocument(Document.from(params))\n                .withRefresh(Refresh.True);\n        if (seqPrimNo != null) {\n            builder.withIfSeqNo((int) seqPrimNo.getSequenceNumber());\n            builder.withIfPrimaryTerm((int) seqPrimNo.getPrimaryTerm());\n        }\n        UpdateQuery query = builder.build();\n        response = elasticsearchTemplate.update(query, IndexCoordinates.of(indexName));  // &lt;-- ERRORS HERE\n        return response;\n    }\n</code></pre>\n<p>Does that mean that we cannot do optimistic locking when doing an upsert?  What am I missing?</p>\n"},{"tags":["java","mapping","mapstruct","objectmapper"],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657666440,"creation_date":1657666440,"answer_id":72959160,"question_id":72948391,"body_markdown":"**Objects definition:**\r\n```java\r\npublic class EntityA {\r\n\r\n    private String id;\r\n\r\n    private String anotherField;\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getAnotherField() {\r\n        return anotherField;\r\n    }\r\n}\r\n\r\npublic class ABC {\r\n    private final ObjectXYZ identification;\r\n    private final String anotherField;\r\n\r\n    public ABC(ObjectXYZ identification, String anotherField) {\r\n        this.identification = identification;\r\n        this.anotherField = anotherField;\r\n    }\r\n\r\n    public String getAnotherField() {\r\n        return anotherField;\r\n    }\r\n\r\n    public ObjectXYZ getIdentification() {\r\n        return identification;\r\n    }\r\n}\r\n\r\npublic class ObjectXYZ\r\n{\r\n    private  String identification;\r\n\r\n    public ObjectXYZ(String identification) {\r\n        this.identification = identification;\r\n    }\r\n\r\n    public String getIdentification() {\r\n        return identification;\r\n    }\r\n}\r\n```\r\n**Mapper:**\r\n&lt;br&gt;Mapstruct automatically determines the methods or constructors for mapping, you need just specify the right target\\source properties.\r\n```java\r\n@Mapper\r\npublic interface ObjectMapper\r\n{\r\n    @Mapping(target = &quot;identification&quot;, source = &quot;entity.id&quot;)\r\n    @Mapping(target = &quot;anotherField&quot;, source = &quot;entity.anotherField&quot;)\r\n    ABC toABC(EntityA entity);\r\n\r\n    @Mapping(target = &quot;identification&quot;, source = &quot;identification&quot;)\r\n    ObjectXYZ toObjectXYZ(String identification);\r\n}\r\n```\r\n**Generated code:**\r\n```java\r\npublic class ObjectMapperImpl implements ObjectMapper {\r\n\r\n    @Override\r\n    public ABC toABC(EntityA entity) {\r\n        if ( entity == null ) {\r\n            return null;\r\n        }\r\n\r\n        ObjectXYZ identification = null;\r\n        String anotherField = null;\r\n\r\n        identification = toObjectXYZ( entity.getId() );\r\n        anotherField = entity.getAnotherField();\r\n\r\n        ABC aBC = new ABC( identification, anotherField );\r\n\r\n        return aBC;\r\n    }\r\n\r\n    @Override\r\n    public ObjectXYZ toObjectXYZ(String identification) {\r\n        if ( identification == null ) {\r\n            return null;\r\n        }\r\n\r\n        String identification1 = null;\r\n\r\n        identification1 = identification;\r\n\r\n        ObjectXYZ objectXYZ = new ObjectXYZ( identification1 );\r\n\r\n        return objectXYZ;\r\n    }\r\n}\r\n```","title":"Mapstruct convert field to object field","body":"<p><strong>Objects definition:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class EntityA {\n\n    private String id;\n\n    private String anotherField;\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getAnotherField() {\n        return anotherField;\n    }\n}\n\npublic class ABC {\n    private final ObjectXYZ identification;\n    private final String anotherField;\n\n    public ABC(ObjectXYZ identification, String anotherField) {\n        this.identification = identification;\n        this.anotherField = anotherField;\n    }\n\n    public String getAnotherField() {\n        return anotherField;\n    }\n\n    public ObjectXYZ getIdentification() {\n        return identification;\n    }\n}\n\npublic class ObjectXYZ\n{\n    private  String identification;\n\n    public ObjectXYZ(String identification) {\n        this.identification = identification;\n    }\n\n    public String getIdentification() {\n        return identification;\n    }\n}\n</code></pre>\n<p><strong>Mapper:</strong>\n<br>Mapstruct automatically determines the methods or constructors for mapping, you need just specify the right target\\source properties.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic interface ObjectMapper\n{\n    @Mapping(target = &quot;identification&quot;, source = &quot;entity.id&quot;)\n    @Mapping(target = &quot;anotherField&quot;, source = &quot;entity.anotherField&quot;)\n    ABC toABC(EntityA entity);\n\n    @Mapping(target = &quot;identification&quot;, source = &quot;identification&quot;)\n    ObjectXYZ toObjectXYZ(String identification);\n}\n</code></pre>\n<p><strong>Generated code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ObjectMapperImpl implements ObjectMapper {\n\n    @Override\n    public ABC toABC(EntityA entity) {\n        if ( entity == null ) {\n            return null;\n        }\n\n        ObjectXYZ identification = null;\n        String anotherField = null;\n\n        identification = toObjectXYZ( entity.getId() );\n        anotherField = entity.getAnotherField();\n\n        ABC aBC = new ABC( identification, anotherField );\n\n        return aBC;\n    }\n\n    @Override\n    public ObjectXYZ toObjectXYZ(String identification) {\n        if ( identification == null ) {\n            return null;\n        }\n\n        String identification1 = null;\n\n        identification1 = identification;\n\n        ObjectXYZ objectXYZ = new ObjectXYZ( identification1 );\n\n        return objectXYZ;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2907,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72959160,"answer_count":1,"score":3,"last_activity_date":1657666440,"creation_date":1657610113,"question_id":72948391,"body_markdown":"I want to map two object with mapStruct\r\n```\r\npublic class EntityA\r\n{\r\n\r\n   @Id\r\n   private String id;\r\n   @Column\r\n   private String anotherField\r\n```\r\n\r\nThe second object with an object a paramter\r\n```\r\npublic class ABC\r\n{\r\n   private final ObjectXYZ identification;\r\n   // another fields\r\n```\r\n\r\n```\r\npublic class ObjectXYZ \r\n{\r\n   private final String identification;\r\n```\r\n\r\nMy Mapper:\r\n```\r\n@Mapper\r\npublic interface ObjectMapper\r\n{\r\n   @Mapping(target = &quot;identification&quot;, source = &quot;identification&quot;, qualifiedByName = &quot;ObjectXYZ&quot;)\r\n   ABC toABC(EntityA entity);\r\n\r\n   EntityA toEntityA(Material material);\r\n\r\n   @Named(&quot;ObjectXYZ&quot;)\r\n   @Mapping(target = &quot;identification&quot;, source = &quot;identification&quot;)\r\n   ObjectXYZ toObjectXYZ(String identification);\r\n}\r\n```\r\n\r\nhow can i map the `EntityA.id` to `ABC.identification.identification`","title":"Mapstruct convert field to object field","body":"<p>I want to map two object with mapStruct</p>\n<pre><code>public class EntityA\n{\n\n   @Id\n   private String id;\n   @Column\n   private String anotherField\n</code></pre>\n<p>The second object with an object a paramter</p>\n<pre><code>public class ABC\n{\n   private final ObjectXYZ identification;\n   // another fields\n</code></pre>\n<pre><code>public class ObjectXYZ \n{\n   private final String identification;\n</code></pre>\n<p>My Mapper:</p>\n<pre><code>@Mapper\npublic interface ObjectMapper\n{\n   @Mapping(target = &quot;identification&quot;, source = &quot;identification&quot;, qualifiedByName = &quot;ObjectXYZ&quot;)\n   ABC toABC(EntityA entity);\n\n   EntityA toEntityA(Material material);\n\n   @Named(&quot;ObjectXYZ&quot;)\n   @Mapping(target = &quot;identification&quot;, source = &quot;identification&quot;)\n   ObjectXYZ toObjectXYZ(String identification);\n}\n</code></pre>\n<p>how can i map the <code>EntityA.id</code> to <code>ABC.identification.identification</code></p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1657666488,"post_id":72959116,"comment_id":128863956,"body_markdown":"You can certainly just use the diamond syntax on the RHS.","body":"You can certainly just use the diamond syntax on the RHS."},{"owner":{"account_id":14486057,"reputation":264,"user_id":10463949,"display_name":"rostIvan"},"score":0,"creation_date":1657666709,"post_id":72959116,"comment_id":128863999,"body_markdown":"@DavidConrad, I agree. But is there any sense to ever use &quot;new ArrayList&lt;IOException&gt;()&quot; or &quot;new ArrayList&lt;Exception&gt;()&quot; instead of diamond operator?","body":"@DavidConrad, I agree. But is there any sense to ever use &quot;new ArrayList&lt;IOException&gt;()&quot; or &quot;new ArrayList&lt;Exception&gt;()&quot; instead of diamond operator?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1657667088,"post_id":72959116,"comment_id":128864057,"body_markdown":"There&#39;s no difference. You can only write `null` to `list1` and read `Object` from `list2`.","body":"There&#39;s no difference. You can only write <code>null</code> to <code>list1</code> and read <code>Object</code> from <code>list2</code>."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1657667724,"post_id":72959116,"comment_id":128864161,"body_markdown":"I can&#39;t see any reason to.","body":"I can&#39;t see any reason to."}],"owner":{"account_id":14486057,"reputation":264,"user_id":10463949,"display_name":"rostIvan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657665942,"creation_date":1657665942,"question_id":72959116,"body_markdown":"See code snippet below\r\n\r\n    List&lt;? extends Exception&gt; list1 = new ArrayList&lt;IOException&gt;();\r\n    List&lt;? super IOException&gt; list2 = new ArrayList&lt;Exception&gt;();\r\n\r\nIs there any real usecase to have `new ArrayList&lt;IOException&gt;()` and `new ArrayList&lt;Exception&gt;()` on the right side and how this could be helpful?","title":"Java Generics: Lower and Upper Bound wildcards usecase for different formal type parameter","body":"<p>See code snippet below</p>\n<pre><code>List&lt;? extends Exception&gt; list1 = new ArrayList&lt;IOException&gt;();\nList&lt;? super IOException&gt; list2 = new ArrayList&lt;Exception&gt;();\n</code></pre>\n<p>Is there any real usecase to have <code>new ArrayList&lt;IOException&gt;()</code> and <code>new ArrayList&lt;Exception&gt;()</code> on the right side and how this could be helpful?</p>\n"},{"tags":["java","sql","java-8","sql-server-2016","mssql-jdbc"],"comments":[{"owner":{"account_id":8932929,"reputation":16462,"user_id":6664872,"display_name":"cronoik"},"score":0,"creation_date":1555112013,"post_id":55660297,"comment_id":98009439,"body_markdown":"Welcome to Stackoverflow. Please add the code you have used to create the SQLServerBulkCopy object.","body":"Welcome to Stackoverflow. Please add the code you have used to create the SQLServerBulkCopy object."},{"owner":{"account_id":15734524,"reputation":21,"user_id":11353947,"display_name":"Nagesh Rachakonda"},"score":0,"creation_date":1555338066,"post_id":55660297,"comment_id":98065368,"body_markdown":"I used the standard call...\n\nEdited in the main post...","body":"I used the standard call...  Edited in the main post..."}],"answers":[{"tags":[],"owner":{"account_id":18773779,"reputation":41,"user_id":13690038,"display_name":"Lucas Pereira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657665040,"creation_date":1657665040,"answer_id":72959037,"question_id":55660297,"body_markdown":"I had a similar issue. Originally code would throw exception:\r\n\r\n```\r\n...\r\nConnection connection = Manager.getInstance().getConnection();\r\nSQLServerBulkCopy bulkCopy =  new SQLServerBulkCopy(connection);\r\n```\r\n\r\nChanged to fix\r\n\r\n```\r\nConnection connection = Manager.getInstance().getConnection().getMetaData().getConnection();\r\nSQLServerBulkCopy bulkCopy =  new SQLServerBulkCopy(connection);\r\n\r\n```\r\n\r\n","title":"Connection error while creating SQLServerBulkCopy object in java","body":"<p>I had a similar issue. Originally code would throw exception:</p>\n<pre><code>...\nConnection connection = Manager.getInstance().getConnection();\nSQLServerBulkCopy bulkCopy =  new SQLServerBulkCopy(connection);\n</code></pre>\n<p>Changed to fix</p>\n<pre><code>Connection connection = Manager.getInstance().getConnection().getMetaData().getConnection();\nSQLServerBulkCopy bulkCopy =  new SQLServerBulkCopy(connection);\n\n</code></pre>\n"}],"owner":{"account_id":15734524,"reputation":21,"user_id":11353947,"display_name":"Nagesh Rachakonda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":857,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1657665040,"creation_date":1555109047,"question_id":55660297,"body_markdown":"Receiving following error upon creating SQLServerBulkCopy object:\r\n```\r\ncom.microsoft.sqlserver.jdbc.SQLServerException: Destination connection must be a connection from the Microsoft JDBC Driver for SQL Server.\r\n```\r\n\r\n - Using 2016 SQL Server;  \r\n - connecting using SQL Authentication;  \r\n - Using mssql-jdbc-6.4.0.jre8.jar and JRE 1.8 versions.\r\n\r\nThe connection was successful but the SQLServerBulkCopy object creation is failing. Not sure why the connection is not an instance of SQLServerConnection.\r\n\r\nCode used to create the connection and SQLServerBulkCopy object:\r\n\r\n```\r\n    \r\n    public static Connection getConnection() throws Exception\r\n    {\r\n    \tString connectionUrl = &quot;jdbc:sqlserver://&quot; + serverName + &quot;:1433;database=&quot; + databaseName\r\n    \t\t\t+ &quot;;user=xxxxxx;password=yyyyyyy&quot;;\r\n    \t\r\n    \tConnection connection = null;\r\n    \t\r\n    \ttry\r\n    \t{\r\n    \t\tDriverManager.registerDriver(new com.microsoft.sqlserver.jdbc.SQLServerDriver());\r\n    \t\tconnection = DriverManager.getConnection(connectionUrl);\r\n    \t}\r\n    \tcatch (Exception e)\r\n    \t{\r\n    \t\tthrow new ODSException(&quot;Unable to create connection to SQL Server.&quot;, e);\r\n    \t}\r\n    \t\r\n    \treturn connection;\r\n    }\r\n    \r\n    private void executeBCP() throws ODSException {\r\n    \t//Create a Connection and SQLServerBulkCopy objects\r\n    \ttry (Connection connection = JDBCUtil.getConnection();\r\n    \t\t\tSQLServerBulkCopy bulkCopy = new SQLServerBulkCopy(connection))\r\n    \t{\r\n    \t\tboolean prevAutoCommit = connection.getAutoCommit();\r\n    \t\tconnection.setAutoCommit(false);\r\n    \r\n    //further code...\r\n    \r\n    \t}\r\n    \tcatch (SQLException e)\r\n    \t{\r\n    \t\tbcpLogger.error(e);\r\n    \t\t\r\n    \t\tthrow new ODSException(&quot;Error bulk copying data to SQL Server.&quot;, e);\r\n    \t}\r\n\r\n```\r\n\r\nFrom SQLServerBulkCopy source code, I see the constructor has the following code:\r\n```\r\n    public SQLServerBulkCopy(Connection connection) throws SQLServerException {\r\n            loggerExternal.entering(loggerClassName, &quot;SQLServerBulkCopy&quot;, connection);\r\n            if (null == connection || !(connection instanceof SQLServerConnection)) {\r\n                SQLServerException.makeFromDriverError(null, null, SQLServerException.getErrString(&quot;R_invalidDestConnection&quot;), null, false);\r\n            }\r\n```\r\n\r\n\r\n","title":"Connection error while creating SQLServerBulkCopy object in java","body":"<p>Receiving following error upon creating SQLServerBulkCopy object:</p>\n\n<pre><code>com.microsoft.sqlserver.jdbc.SQLServerException: Destination connection must be a connection from the Microsoft JDBC Driver for SQL Server.\n</code></pre>\n\n<ul>\n<li>Using 2016 SQL Server;  </li>\n<li>connecting using SQL Authentication;  </li>\n<li>Using mssql-jdbc-6.4.0.jre8.jar and JRE 1.8 versions.</li>\n</ul>\n\n<p>The connection was successful but the SQLServerBulkCopy object creation is failing. Not sure why the connection is not an instance of SQLServerConnection.</p>\n\n<p>Code used to create the connection and SQLServerBulkCopy object:</p>\n\n<pre><code>\n    public static Connection getConnection() throws Exception\n    {\n        String connectionUrl = \"jdbc:sqlserver://\" + serverName + \":1433;database=\" + databaseName\n                + \";user=xxxxxx;password=yyyyyyy\";\n\n        Connection connection = null;\n\n        try\n        {\n            DriverManager.registerDriver(new com.microsoft.sqlserver.jdbc.SQLServerDriver());\n            connection = DriverManager.getConnection(connectionUrl);\n        }\n        catch (Exception e)\n        {\n            throw new ODSException(\"Unable to create connection to SQL Server.\", e);\n        }\n\n        return connection;\n    }\n\n    private void executeBCP() throws ODSException {\n        //Create a Connection and SQLServerBulkCopy objects\n        try (Connection connection = JDBCUtil.getConnection();\n                SQLServerBulkCopy bulkCopy = new SQLServerBulkCopy(connection))\n        {\n            boolean prevAutoCommit = connection.getAutoCommit();\n            connection.setAutoCommit(false);\n\n    //further code...\n\n        }\n        catch (SQLException e)\n        {\n            bcpLogger.error(e);\n\n            throw new ODSException(\"Error bulk copying data to SQL Server.\", e);\n        }\n\n</code></pre>\n\n<p>From SQLServerBulkCopy source code, I see the constructor has the following code:</p>\n\n<pre><code>    public SQLServerBulkCopy(Connection connection) throws SQLServerException {\n            loggerExternal.entering(loggerClassName, \"SQLServerBulkCopy\", connection);\n            if (null == connection || !(connection instanceof SQLServerConnection)) {\n                SQLServerException.makeFromDriverError(null, null, SQLServerException.getErrString(\"R_invalidDestConnection\"), null, false);\n            }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","oauth-2.0"],"answers":[{"tags":[],"owner":{"account_id":21488921,"reputation":4715,"user_id":15835039,"display_name":"Steve Riesenberg"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1657664924,"creation_date":1657664924,"answer_id":72959024,"question_id":72943493,"body_markdown":"The two cases you&#39;re looking for can be handled with a combination of `AuthenticationEntryPoint`s applied at different levels, one for the `BearerTokenAuthenticationFilter` and a second for the filter chain. For example:\r\n\r\n```java\r\n@Bean\r\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n    http\r\n        .authorizeHttpRequests((authorize) -&gt; authorize\r\n            .anyRequest().authenticated()\r\n        )\r\n        .oauth2ResourceServer((oauth2) -&gt; oauth2\r\n            .jwt(Customizer.withDefaults())\r\n            .authenticationEntryPoint((request, response, exception) -&gt; {\r\n                System.out.println(&quot;Authentication failed&quot;);\r\n                BearerTokenAuthenticationEntryPoint delegate = new BearerTokenAuthenticationEntryPoint();\r\n                delegate.commence(request, response, exception);\r\n            })\r\n        )\r\n        .exceptionHandling((exceptions) -&gt; exceptions\r\n            .authenticationEntryPoint((request, response, exception) -&gt; {\r\n                System.out.println(&quot;Authentication is required&quot;);\r\n                BearerTokenAuthenticationEntryPoint delegate = new BearerTokenAuthenticationEntryPoint();\r\n                delegate.commence(request, response, exception);\r\n            })\r\n        );\r\n\r\n    return http.build();\r\n}\r\n```\r\n\r\nThe reason it works this way is that the `BearerTokenAuthenticationFilter` is not invoked when no bearer token is present. In that case, the entire filter chain is tried and no valid authentication is found. This would be the normal &quot;Authentication is required&quot; scenario for Spring Security.\r\n\r\nHowever, in the case of an present but invalid token, the `BearerTokenAuthenticationFilter` needs to validate the token to determine that it failed, and uses its own `AuthenticationFailureHandler` for this case. But the failure handler simply delegates to a specific `AuthenticationEntryPoint` by default, which is the one configured above for the &quot;Authentication failed&quot; case.\r\n\r\nIf you want to override the failure handler to do something else (though you may not have to after trying the above), you can do so with an `ObjectPostProcessor`. For example:\r\n\r\n```java\r\n@Bean\r\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n    http\r\n        .oauth2ResourceServer((oauth2) -&gt; oauth2\r\n            .jwt(Customizer.withDefaults())\r\n            .withObjectPostProcessor(new ObjectPostProcessor&lt;BearerTokenAuthenticationFilter&gt;() {\r\n                @Override\r\n                public &lt;O extends BearerTokenAuthenticationFilter&gt; O postProcess(O filter) {\r\n                    filter.setAuthenticationFailureHandler((request, response, exception) -&gt; {\r\n                        System.out.println(&quot;Authentication failed (and is being handled in a custom way)&quot;);\r\n                        BearerTokenAuthenticationEntryPoint delegate = new BearerTokenAuthenticationEntryPoint();\r\n                        delegate.commence(request, response, exception);\r\n                    });\r\n                    return filter;\r\n                }\r\n            })\r\n        );\r\n\r\n    return http.build();\r\n}\r\n```","title":"How to set authentication failure handler on BearerTokenAuthenticationFilter?","body":"<p>The two cases you're looking for can be handled with a combination of <code>AuthenticationEntryPoint</code>s applied at different levels, one for the <code>BearerTokenAuthenticationFilter</code> and a second for the filter chain. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    http\n        .authorizeHttpRequests((authorize) -&gt; authorize\n            .anyRequest().authenticated()\n        )\n        .oauth2ResourceServer((oauth2) -&gt; oauth2\n            .jwt(Customizer.withDefaults())\n            .authenticationEntryPoint((request, response, exception) -&gt; {\n                System.out.println(&quot;Authentication failed&quot;);\n                BearerTokenAuthenticationEntryPoint delegate = new BearerTokenAuthenticationEntryPoint();\n                delegate.commence(request, response, exception);\n            })\n        )\n        .exceptionHandling((exceptions) -&gt; exceptions\n            .authenticationEntryPoint((request, response, exception) -&gt; {\n                System.out.println(&quot;Authentication is required&quot;);\n                BearerTokenAuthenticationEntryPoint delegate = new BearerTokenAuthenticationEntryPoint();\n                delegate.commence(request, response, exception);\n            })\n        );\n\n    return http.build();\n}\n</code></pre>\n<p>The reason it works this way is that the <code>BearerTokenAuthenticationFilter</code> is not invoked when no bearer token is present. In that case, the entire filter chain is tried and no valid authentication is found. This would be the normal &quot;Authentication is required&quot; scenario for Spring Security.</p>\n<p>However, in the case of an present but invalid token, the <code>BearerTokenAuthenticationFilter</code> needs to validate the token to determine that it failed, and uses its own <code>AuthenticationFailureHandler</code> for this case. But the failure handler simply delegates to a specific <code>AuthenticationEntryPoint</code> by default, which is the one configured above for the &quot;Authentication failed&quot; case.</p>\n<p>If you want to override the failure handler to do something else (though you may not have to after trying the above), you can do so with an <code>ObjectPostProcessor</code>. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    http\n        .oauth2ResourceServer((oauth2) -&gt; oauth2\n            .jwt(Customizer.withDefaults())\n            .withObjectPostProcessor(new ObjectPostProcessor&lt;BearerTokenAuthenticationFilter&gt;() {\n                @Override\n                public &lt;O extends BearerTokenAuthenticationFilter&gt; O postProcess(O filter) {\n                    filter.setAuthenticationFailureHandler((request, response, exception) -&gt; {\n                        System.out.println(&quot;Authentication failed (and is being handled in a custom way)&quot;);\n                        BearerTokenAuthenticationEntryPoint delegate = new BearerTokenAuthenticationEntryPoint();\n                        delegate.commence(request, response, exception);\n                    });\n                    return filter;\n                }\n            })\n        );\n\n    return http.build();\n}\n</code></pre>\n"}],"owner":{"account_id":2939498,"reputation":3137,"user_id":2517719,"accept_rate":67,"display_name":"Floegipoky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3984,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72959024,"answer_count":1,"score":1,"last_activity_date":1657664924,"creation_date":1657566479,"question_id":72943493,"body_markdown":"I am able to create the filter chain with `http.oauth2ResourceServer().jwt()` and I&#39;ve also set `spring.security.oauth2.resourceserver.jwt.issuer-uri`. It is able to authenticate requests. However, I also need to do custom logging in the case of an authentication failure. The approach I&#39;m taking is to use a custom authentication entry point to handle when no bearer token is present, combined with a custom `BearerTokenAuthenticationFilter.authenticationFailureHandler` to handle an invalid token. I&#39;m open to other approaches to satisfy this goal.\r\n\r\nI am able to configure a custom authentication entry point to handle the case where no token is present:\r\n\r\n    // in WebSecurityConfigurerAdapter::configure\r\n    http\r\n        .exceptionHandling()\r\n        .authenticationEntryPoint((request, response, exception) -&gt; { /* ... */ });\r\n\r\nHowever I haven&#39;t found a way to access the BearerTokenAuthenticationFilter. The best I&#39;ve been able to come up with is to new up a second configured the way I want it, but this is not appealing to me because the server ends up doing extra work with every successfully authenticated request:\r\n\r\n    // in WebSecurityConfigurerAdapter::configure\r\n    var filter = new BearerTokenAuthenticationFilter(authenticationManagerBean());\r\n    filter.setAuthenticationFailureHandler(new JwtAuthenticationFailureHandler());\r\n    http.addFilterBefore(tokenAuth, BearerTokenAuthenticationFilter.class);\r\n    // my filter runs first\r\n\r\nSurely there is some way to set this property in the filter that spring security creates? Ideally it would be exposed by `OAuth2ResourceServerConfigurer`, but that only offers `accessDeniedHandler`.\r\n\r\nI&#39;ve tried accessing either the filter itself or the DefaultSecurityFilterChain as a bean, but they don&#39;t exist as beans in the application context. I found [this answer][1] which suggests configuring a bean in `spring-servlet.xml` and running it through a post processor. The idea of a BeanPostProcessor seems promising to me however I wasn&#39;t able to get it to work, because after modifying `spring-servlet.xml` as suggested the bean still doesn&#39;t exist. I can&#39;t use `getBean` to find it and it&#39;s not seen by the `BeanPostProcessor`:\r\n\r\n    &lt;http name=&quot;filterChain&quot;&gt;\r\n\r\n  [1]: https://stackoverflow.com/a/14244442/2517719","title":"How to set authentication failure handler on BearerTokenAuthenticationFilter?","body":"<p>I am able to create the filter chain with <code>http.oauth2ResourceServer().jwt()</code> and I've also set <code>spring.security.oauth2.resourceserver.jwt.issuer-uri</code>. It is able to authenticate requests. However, I also need to do custom logging in the case of an authentication failure. The approach I'm taking is to use a custom authentication entry point to handle when no bearer token is present, combined with a custom <code>BearerTokenAuthenticationFilter.authenticationFailureHandler</code> to handle an invalid token. I'm open to other approaches to satisfy this goal.</p>\n<p>I am able to configure a custom authentication entry point to handle the case where no token is present:</p>\n<pre><code>// in WebSecurityConfigurerAdapter::configure\nhttp\n    .exceptionHandling()\n    .authenticationEntryPoint((request, response, exception) -&gt; { /* ... */ });\n</code></pre>\n<p>However I haven't found a way to access the BearerTokenAuthenticationFilter. The best I've been able to come up with is to new up a second configured the way I want it, but this is not appealing to me because the server ends up doing extra work with every successfully authenticated request:</p>\n<pre><code>// in WebSecurityConfigurerAdapter::configure\nvar filter = new BearerTokenAuthenticationFilter(authenticationManagerBean());\nfilter.setAuthenticationFailureHandler(new JwtAuthenticationFailureHandler());\nhttp.addFilterBefore(tokenAuth, BearerTokenAuthenticationFilter.class);\n// my filter runs first\n</code></pre>\n<p>Surely there is some way to set this property in the filter that spring security creates? Ideally it would be exposed by <code>OAuth2ResourceServerConfigurer</code>, but that only offers <code>accessDeniedHandler</code>.</p>\n<p>I've tried accessing either the filter itself or the DefaultSecurityFilterChain as a bean, but they don't exist as beans in the application context. I found <a href=\"https://stackoverflow.com/a/14244442/2517719\">this answer</a> which suggests configuring a bean in <code>spring-servlet.xml</code> and running it through a post processor. The idea of a BeanPostProcessor seems promising to me however I wasn't able to get it to work, because after modifying <code>spring-servlet.xml</code> as suggested the bean still doesn't exist. I can't use <code>getBean</code> to find it and it's not seen by the <code>BeanPostProcessor</code>:</p>\n<pre><code>&lt;http name=&quot;filterChain&quot;&gt;\n</code></pre>\n"},{"tags":["java","java-11","localdatetime"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1657663933,"post_id":72958845,"comment_id":128863474,"body_markdown":"Start by converting to LocalTime, and just compare to 8am etc.  No need to create the special LocalDateTimes.","body":"Start by converting to LocalTime, and just compare to 8am etc.  No need to create the special LocalDateTimes."}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657664439,"creation_date":1657664439,"answer_id":72958963,"question_id":72958845,"body_markdown":"How about a little helper to make the comparisons easier:\r\n\r\n    private static &lt;C extends Comparable&lt;? super C&gt;&gt; boolean isBetween(C value, C start, C end) {\r\n        return value.compareTo(start) &gt;= 0 &amp;&amp; value.compareTo(end) &lt; 0;\r\n    }\r\n    \r\n    static boolean duringWorkingHours(LocalDateTime dateTime) {\r\n        LocalTime time = dateTime.toLocalTime();\r\n    \r\n        switch (dateTime.getDayOfWeek()) {\r\n            case SUNDAY:\r\n                return false;\r\n            case SATURDAY:\r\n                return isBetween(time, LocalTime.parse(&quot;08:00&quot;), LocalTime.parse(&quot;14:00&quot;));\r\n            default:\r\n                return isBetween(time, LocalTime.parse(&quot;08:00&quot;), LocalTime.parse(&quot;12:30&quot;))\r\n                    || isBetween(time, LocalTime.parse(&quot;14:00&quot;), LocalTime.parse(&quot;18:00&quot;));\r\n        }\r\n    }","title":"Clean way to check if a LocalDateTime is in a given range (working hours of some business)","body":"<p>How about a little helper to make the comparisons easier:</p>\n<pre><code>private static &lt;C extends Comparable&lt;? super C&gt;&gt; boolean isBetween(C value, C start, C end) {\n    return value.compareTo(start) &gt;= 0 &amp;&amp; value.compareTo(end) &lt; 0;\n}\n\nstatic boolean duringWorkingHours(LocalDateTime dateTime) {\n    LocalTime time = dateTime.toLocalTime();\n\n    switch (dateTime.getDayOfWeek()) {\n        case SUNDAY:\n            return false;\n        case SATURDAY:\n            return isBetween(time, LocalTime.parse(&quot;08:00&quot;), LocalTime.parse(&quot;14:00&quot;));\n        default:\n            return isBetween(time, LocalTime.parse(&quot;08:00&quot;), LocalTime.parse(&quot;12:30&quot;))\n                || isBetween(time, LocalTime.parse(&quot;14:00&quot;), LocalTime.parse(&quot;18:00&quot;));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24515002,"reputation":179,"user_id":18428894,"display_name":"bbKing"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":538,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72958963,"answer_count":1,"score":0,"last_activity_date":1657664439,"creation_date":1657663305,"question_id":72958845,"body_markdown":"I need to check if a given LocalDateTime is during the opening hours of a business, which are \r\n\r\nMonday - Friday, 8:00 - 12:30 and 14:00 - 18:00\r\n\r\nSaturday, 8:00 - 14:00\r\n\r\nI have the below method to do so, but I find it too cumbersome for such a simple requirement. Is there an eleganter way to make it cleaner and more readable? May be using some Java 8 lambda magic :-) ?\r\n\r\n    static boolean duringWorkingHours(LocalDateTime dateTime){\r\n        //MO - FR 08:00 - 12:30\r\n        //MO - FR 14:00 - 18:00\r\n        //SA      08:00 - 14:00\r\n\r\n        LocalDateTime morningStart   = dateTime.with(LocalTime.of(8,0));\r\n        LocalDateTime morningEnd     = dateTime.with(LocalTime.of(12,30));\r\n        LocalDateTime afternoonStart = dateTime.with(LocalTime.of(14,0));\r\n        LocalDateTime afternoonEnd   = dateTime.with(LocalTime.of(18,0));\r\n\r\n        LocalDateTime saturdayStart  = dateTime.with(LocalTime.of(8,0));\r\n        LocalDateTime saturdayEnd    = dateTime.with(LocalTime.of(14,0));\r\n\r\n        Set&lt;DayOfWeek&gt; weekDays      = Set.of(DayOfWeek.MONDAY, DayOfWeek.TUESDAY, DayOfWeek.WEDNESDAY, DayOfWeek.THURSDAY,DayOfWeek.FRIDAY);\r\n\r\n        boolean isWeekDay       = weekDays.contains(dateTime.getDayOfWeek());\r\n        boolean isSaturday      = dateTime.getDayOfWeek() == DayOfWeek.SATURDAY;\r\n\r\n        boolean isMorning       = (dateTime.isEqual(morningStart) || dateTime.isEqual(morningEnd))\r\n                || (dateTime.isAfter(morningStart) &amp;&amp; dateTime.isBefore(morningEnd));\r\n\r\n        boolean isAfternoon     = (dateTime.isEqual(afternoonStart) || dateTime.isEqual(afternoonEnd))\r\n                || (dateTime.isAfter(afternoonStart) &amp;&amp; dateTime.isBefore(afternoonEnd));\r\n\r\n        boolean isSaturdayRange = (dateTime.isEqual(saturdayStart) || dateTime.isEqual(saturdayEnd))\r\n                || (dateTime.isAfter(saturdayStart) &amp;&amp; dateTime.isBefore(saturdayEnd));\r\n\r\n        return (isWeekDay &amp;&amp; isMorning) || (isWeekDay &amp;&amp; isAfternoon) || (isSaturday &amp;&amp; isSaturdayRange);\r\n    }","title":"Clean way to check if a LocalDateTime is in a given range (working hours of some business)","body":"<p>I need to check if a given LocalDateTime is during the opening hours of a business, which are</p>\n<p>Monday - Friday, 8:00 - 12:30 and 14:00 - 18:00</p>\n<p>Saturday, 8:00 - 14:00</p>\n<p>I have the below method to do so, but I find it too cumbersome for such a simple requirement. Is there an eleganter way to make it cleaner and more readable? May be using some Java 8 lambda magic :-) ?</p>\n<pre><code>static boolean duringWorkingHours(LocalDateTime dateTime){\n    //MO - FR 08:00 - 12:30\n    //MO - FR 14:00 - 18:00\n    //SA      08:00 - 14:00\n\n    LocalDateTime morningStart   = dateTime.with(LocalTime.of(8,0));\n    LocalDateTime morningEnd     = dateTime.with(LocalTime.of(12,30));\n    LocalDateTime afternoonStart = dateTime.with(LocalTime.of(14,0));\n    LocalDateTime afternoonEnd   = dateTime.with(LocalTime.of(18,0));\n\n    LocalDateTime saturdayStart  = dateTime.with(LocalTime.of(8,0));\n    LocalDateTime saturdayEnd    = dateTime.with(LocalTime.of(14,0));\n\n    Set&lt;DayOfWeek&gt; weekDays      = Set.of(DayOfWeek.MONDAY, DayOfWeek.TUESDAY, DayOfWeek.WEDNESDAY, DayOfWeek.THURSDAY,DayOfWeek.FRIDAY);\n\n    boolean isWeekDay       = weekDays.contains(dateTime.getDayOfWeek());\n    boolean isSaturday      = dateTime.getDayOfWeek() == DayOfWeek.SATURDAY;\n\n    boolean isMorning       = (dateTime.isEqual(morningStart) || dateTime.isEqual(morningEnd))\n            || (dateTime.isAfter(morningStart) &amp;&amp; dateTime.isBefore(morningEnd));\n\n    boolean isAfternoon     = (dateTime.isEqual(afternoonStart) || dateTime.isEqual(afternoonEnd))\n            || (dateTime.isAfter(afternoonStart) &amp;&amp; dateTime.isBefore(afternoonEnd));\n\n    boolean isSaturdayRange = (dateTime.isEqual(saturdayStart) || dateTime.isEqual(saturdayEnd))\n            || (dateTime.isAfter(saturdayStart) &amp;&amp; dateTime.isBefore(saturdayEnd));\n\n    return (isWeekDay &amp;&amp; isMorning) || (isWeekDay &amp;&amp; isAfternoon) || (isSaturday &amp;&amp; isSaturdayRange);\n}\n</code></pre>\n"},{"tags":["java","json","mongodb"],"comments":[{"owner":{"account_id":181514,"reputation":9905,"user_id":415559,"accept_rate":73,"display_name":"barrypicker"},"score":0,"creation_date":1657661480,"post_id":72958497,"comment_id":128862901,"body_markdown":"Sorry, your end game is unclear.  Could you please provide a JSON example of what you want as the end result?","body":"Sorry, your end game is unclear.  Could you please provide a JSON example of what you want as the end result?"},{"owner":{"account_id":22262032,"reputation":29,"user_id":16493329,"display_name":"New CS Developer"},"score":0,"creation_date":1657662000,"post_id":72958497,"comment_id":128863016,"body_markdown":"@barrypicker I updated the question for better clarification with the JSON expected output","body":"@barrypicker I updated the question for better clarification with the JSON expected output"},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1657688454,"post_id":72958497,"comment_id":128867162,"body_markdown":"You can use the `com.mongodb.client.model.Updates.pushEach` to add a `List&lt;Document&gt;` (array of players) to team document in an _update_ operation.","body":"You can use the <code>com.mongodb.client.model.Updates.pushEach</code> to add a <code>List&lt;Document&gt;</code> (array of players) to team document in an <i>update</i> operation."}],"answers":[{"tags":[],"owner":{"account_id":181514,"reputation":9905,"user_id":415559,"accept_rate":73,"display_name":"barrypicker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657663298,"creation_date":1657662941,"answer_id":72958801,"question_id":72958497,"body_markdown":"I think you want to update an existing record, right?  I mean, you have a teamCollection record but without any players, and you want to add players to an existing team&#39;s record, correct?  If so, how about this?\r\n\r\n**addTeamPlayer()**\r\n\r\n    public static Document addTeamPlayer() throws IOException {\r\n        MongoClient mongoClient = MongoClients.create(&quot;mongodb://localhost:27017&quot;);\r\n        MongoDatabase db = mongoClient.getDatabase(&quot;teamDB&quot;);\r\n        MongoCollection&lt;Document&gt; col = db.getCollection(&quot;teamCollection&quot;);\r\n            \r\n        BufferedReader bfn = new BufferedReader(new InputStreamReader(System.in));\r\n            \r\n        Random rand = new Random();\r\n        int rand_int = rand.nextInt(25);\r\n    \r\n        System.out.println(&quot;Player name: &quot;);\r\n        String playerInput = bfn.readLine();\r\n            \r\n        System.out.println(&quot;Age: &quot;);\r\n        int ageInput = Integer.parseInt(bfn.readLine());\r\n            \r\n        System.out.println(&quot;Position: &quot;);\r\n        String positionInput = bfn.readLine();\r\n            \r\n        System.out.println(&quot;Ranking: &quot;);\r\n        int rankingInput = Integer.parseInt(bfn.readLine());\r\n            \r\n        Document playerDoc = new Document(&quot;player_id&quot;, Integer.toString(rand_int));\r\n        playerDoc.append(&quot;player_name&quot;, playerInput)\r\n            .append(&quot;age&quot;, ageInput)\r\n            .append(&quot;position&quot;, positionInput)\r\n            .append(&quot;ranking&quot;, rankingInput);\r\n            \r\n        org.bson.conversions.Bson filter = new org.bson.Document(); //com.mongodb.client.model.Filters.eq(&quot;_id&quot;, 1);\r\n\t\torg.bson.conversions.Bson update = com.mongodb.client.model.Updates.push(&quot;players&quot;, playerDoc);\r\n\r\n\t\tcom.mongodb.client.model.FindOneAndUpdateOptions options = new com.mongodb.client.model.FindOneAndUpdateOptions().returnDocument(com.mongodb.client.model.ReturnDocument.AFTER);\r\n\t\torg.bson.Document result = col.findOneAndUpdate(filter, update, options);\r\n\t\tSystem.out.println(result.toJson());\r\n            \r\n        return playerDoc;\r\n    }\r\n\r\n**Explanation**\r\n\r\nThe strategy is to use the `push` operator.  This is an array based operator.  It&#39;s use signifies the database should append to an array.\r\n\r\nIn my example the find filter is empty (simply a new document).  This will find and update any arbitrary record.  If you want to update a specific record you can add a filter to specify.  I have included (but commented out) the code to specify a filter.\r\n\r\nSee MongoDB documentation online at https://www.mongodb.com/docs/drivers/java/sync/current/fundamentals/crud/write-operations/embedded-arrays/\r\n\r\nI could imaging you have a parameter in the method `addTeamPlayer` that is the id of the record you wish to update.  If so, you could create a filter and find the specific team to append a player to.\r\n","title":"Java Program to add an array to an existing object in mongoDB","body":"<p>I think you want to update an existing record, right?  I mean, you have a teamCollection record but without any players, and you want to add players to an existing team's record, correct?  If so, how about this?</p>\n<p><strong>addTeamPlayer()</strong></p>\n<pre><code>public static Document addTeamPlayer() throws IOException {\n    MongoClient mongoClient = MongoClients.create(&quot;mongodb://localhost:27017&quot;);\n    MongoDatabase db = mongoClient.getDatabase(&quot;teamDB&quot;);\n    MongoCollection&lt;Document&gt; col = db.getCollection(&quot;teamCollection&quot;);\n        \n    BufferedReader bfn = new BufferedReader(new InputStreamReader(System.in));\n        \n    Random rand = new Random();\n    int rand_int = rand.nextInt(25);\n\n    System.out.println(&quot;Player name: &quot;);\n    String playerInput = bfn.readLine();\n        \n    System.out.println(&quot;Age: &quot;);\n    int ageInput = Integer.parseInt(bfn.readLine());\n        \n    System.out.println(&quot;Position: &quot;);\n    String positionInput = bfn.readLine();\n        \n    System.out.println(&quot;Ranking: &quot;);\n    int rankingInput = Integer.parseInt(bfn.readLine());\n        \n    Document playerDoc = new Document(&quot;player_id&quot;, Integer.toString(rand_int));\n    playerDoc.append(&quot;player_name&quot;, playerInput)\n        .append(&quot;age&quot;, ageInput)\n        .append(&quot;position&quot;, positionInput)\n        .append(&quot;ranking&quot;, rankingInput);\n        \n    org.bson.conversions.Bson filter = new org.bson.Document(); //com.mongodb.client.model.Filters.eq(&quot;_id&quot;, 1);\n    org.bson.conversions.Bson update = com.mongodb.client.model.Updates.push(&quot;players&quot;, playerDoc);\n\n    com.mongodb.client.model.FindOneAndUpdateOptions options = new com.mongodb.client.model.FindOneAndUpdateOptions().returnDocument(com.mongodb.client.model.ReturnDocument.AFTER);\n    org.bson.Document result = col.findOneAndUpdate(filter, update, options);\n    System.out.println(result.toJson());\n        \n    return playerDoc;\n}\n</code></pre>\n<p><strong>Explanation</strong></p>\n<p>The strategy is to use the <code>push</code> operator.  This is an array based operator.  It's use signifies the database should append to an array.</p>\n<p>In my example the find filter is empty (simply a new document).  This will find and update any arbitrary record.  If you want to update a specific record you can add a filter to specify.  I have included (but commented out) the code to specify a filter.</p>\n<p>See MongoDB documentation online at <a href=\"https://www.mongodb.com/docs/drivers/java/sync/current/fundamentals/crud/write-operations/embedded-arrays/\" rel=\"nofollow noreferrer\">https://www.mongodb.com/docs/drivers/java/sync/current/fundamentals/crud/write-operations/embedded-arrays/</a></p>\n<p>I could imaging you have a parameter in the method <code>addTeamPlayer</code> that is the id of the record you wish to update.  If so, you could create a filter and find the specific team to append a player to.</p>\n"}],"owner":{"account_id":22262032,"reputation":29,"user_id":16493329,"display_name":"New CS Developer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72958801,"answer_count":1,"score":0,"last_activity_date":1657663298,"creation_date":1657660687,"question_id":72958497,"body_markdown":"I am creating a program that allows a user to insert a team, the size of the team and player data. The code works, but not in the way that I want it to. I want the program to add an array of &quot;players&quot; and to add data to the database for each player in the array according to team size. So if a user inputs 2 team players, there are 2 objects in the array &quot;players&quot;. My program only records only one team player and I&#39;m not sure how to record all of the team players in an array for my database. My code is below: \r\n\r\n**addTeamPlayer()**\r\n```\r\npublic static Document addTeamPlayer() throws IOException {\r\n    MongoClient mongoClient = MongoClients.create(&quot;mongodb://localhost:27017&quot;);\r\n    MongoDatabase db = mongoClient.getDatabase(&quot;teamDB&quot;);\r\n    MongoCollection&lt;Document&gt; col = db.getCollection(&quot;teamCollection&quot;);\r\n    \t\r\n    BufferedReader bfn = new BufferedReader(new InputStreamReader(System.in));\r\n    \t\r\n    Random rand = new Random();\r\n    int rand_int = rand.nextInt(25);\r\n\r\n    System.out.println(&quot;Player name: &quot;);\r\n   \tString playerInput = bfn.readLine();\r\n    \t\r\n   \tSystem.out.println(&quot;Age: &quot;);\r\n   \tint ageInput = Integer.parseInt(bfn.readLine());\r\n    \t\r\n   \tSystem.out.println(&quot;Position: &quot;);\r\n   \tString positionInput = bfn.readLine();\r\n    \t\r\n   \tSystem.out.println(&quot;Ranking: &quot;);\r\n   \tint rankingInput = Integer.parseInt(bfn.readLine());\r\n    \t\r\n   \tDocument playerDoc = new Document(&quot;player_id&quot;, Integer.toString(rand_int));\r\n\tplayerDoc.append(&quot;player_name&quot;, playerInput)\r\n\t\t.append(&quot;age&quot;, ageInput)\r\n\t\t.append(&quot;position&quot;, positionInput)\r\n\t\t.append(&quot;ranking&quot;, rankingInput);\r\n    \t\r\n\t//col.insertOne(playerDoc);\r\n\t\t\r\n   \treturn playerDoc;\r\n}\r\n```\r\n**addTeam()**\r\n```\r\n    public static Document addTeam() throws IOException {\r\n    \t\r\n    \tMongoClient mongoClient = MongoClients.create(&quot;mongodb://localhost:27017&quot;);\r\n    \tMongoDatabase db = mongoClient.getDatabase(&quot;teamDB&quot;);\r\n    \tMongoCollection&lt;Document&gt; col = db.getCollection(&quot;teamCollection&quot;);\r\n    \t\r\n    \tBufferedReader bfn = new BufferedReader(new InputStreamReader(System.in));\r\n    \t\r\n    \tRandom rand = new Random();\r\n    \tint rand_int = rand.nextInt(25);\r\n    \t\r\n    \tSystem.out.println(&quot;Team name: &quot;);\r\n    \tString teamInput = bfn.readLine();\r\n    \tSystem.out.println(&quot;How many players: &quot;);\r\n    \tint teamSize = Integer.parseInt(bfn.readLine());\r\n    \t\r\n    \tDocument teamDoc = new Document(&quot;_id&quot;, new ObjectId());\r\n    \tSystem.out.println(&quot;Team name: &quot;);\r\n\t\tteamDoc.append(&quot;team_id&quot;, Integer.toString(rand_int))\r\n\t\t\t.append(&quot;team_name&quot;, teamInput).toString();\r\n\t\t\r\n\t\tfor(int i = 1; i &lt;= teamSize; i++) {\r\n\t\t\tSystem.out.println(&quot;Player &quot; + i + &quot;--&quot;);\r\n\t\t\tteamDoc.append(&quot;players&quot;, addTeamPlayer());\r\n\t\t}\r\n\t\t\r\n\t\tcol.insertOne(teamDoc);\r\n\t\t\r\n\t\treturn teamDoc;\r\n    }\r\n```\r\n**JSON Expected Output**\r\n```\r\n{\r\n\t  &quot;_id&quot;: {\r\n\t    &quot;$oid&quot;: &quot;62cde01f3e99574b06e59d19&quot;\r\n\t  },\r\n\t  &quot;team_id&quot;: &quot;11&quot;,\r\n\t  &quot;team_name&quot;: &quot;Seahawks&quot;,\r\n\t  &quot;players&quot;: [\r\n\t    {\r\n\t    &quot;player_id&quot;: &quot;0&quot;,\r\n\t    &quot;player_name&quot;: &quot;Joe Brown&quot;,\r\n\t    &quot;age&quot;: 23,\r\n\t    &quot;position&quot;: &quot;Tight End&quot;,\r\n\t    &quot;ranking&quot;: 5\r\n\t    },\r\n\t    {\r\n\t\t&quot;player_id&quot;: &quot;0&quot;,\r\n\t\t&quot;player_name&quot;: &quot;Joe Brown&quot;,\r\n\t\t&quot;age&quot;: 23,\r\n\t\t&quot;position&quot;: &quot;Tight End&quot;,\r\n\t\t&quot;ranking&quot;: 5\r\n\t\t}\r\n\t  ]\r\n}\r\n```","title":"Java Program to add an array to an existing object in mongoDB","body":"<p>I am creating a program that allows a user to insert a team, the size of the team and player data. The code works, but not in the way that I want it to. I want the program to add an array of &quot;players&quot; and to add data to the database for each player in the array according to team size. So if a user inputs 2 team players, there are 2 objects in the array &quot;players&quot;. My program only records only one team player and I'm not sure how to record all of the team players in an array for my database. My code is below:</p>\n<p><strong>addTeamPlayer()</strong></p>\n<pre><code>public static Document addTeamPlayer() throws IOException {\n    MongoClient mongoClient = MongoClients.create(&quot;mongodb://localhost:27017&quot;);\n    MongoDatabase db = mongoClient.getDatabase(&quot;teamDB&quot;);\n    MongoCollection&lt;Document&gt; col = db.getCollection(&quot;teamCollection&quot;);\n        \n    BufferedReader bfn = new BufferedReader(new InputStreamReader(System.in));\n        \n    Random rand = new Random();\n    int rand_int = rand.nextInt(25);\n\n    System.out.println(&quot;Player name: &quot;);\n    String playerInput = bfn.readLine();\n        \n    System.out.println(&quot;Age: &quot;);\n    int ageInput = Integer.parseInt(bfn.readLine());\n        \n    System.out.println(&quot;Position: &quot;);\n    String positionInput = bfn.readLine();\n        \n    System.out.println(&quot;Ranking: &quot;);\n    int rankingInput = Integer.parseInt(bfn.readLine());\n        \n    Document playerDoc = new Document(&quot;player_id&quot;, Integer.toString(rand_int));\n    playerDoc.append(&quot;player_name&quot;, playerInput)\n        .append(&quot;age&quot;, ageInput)\n        .append(&quot;position&quot;, positionInput)\n        .append(&quot;ranking&quot;, rankingInput);\n        \n    //col.insertOne(playerDoc);\n        \n    return playerDoc;\n}\n</code></pre>\n<p><strong>addTeam()</strong></p>\n<pre><code>    public static Document addTeam() throws IOException {\n        \n        MongoClient mongoClient = MongoClients.create(&quot;mongodb://localhost:27017&quot;);\n        MongoDatabase db = mongoClient.getDatabase(&quot;teamDB&quot;);\n        MongoCollection&lt;Document&gt; col = db.getCollection(&quot;teamCollection&quot;);\n        \n        BufferedReader bfn = new BufferedReader(new InputStreamReader(System.in));\n        \n        Random rand = new Random();\n        int rand_int = rand.nextInt(25);\n        \n        System.out.println(&quot;Team name: &quot;);\n        String teamInput = bfn.readLine();\n        System.out.println(&quot;How many players: &quot;);\n        int teamSize = Integer.parseInt(bfn.readLine());\n        \n        Document teamDoc = new Document(&quot;_id&quot;, new ObjectId());\n        System.out.println(&quot;Team name: &quot;);\n        teamDoc.append(&quot;team_id&quot;, Integer.toString(rand_int))\n            .append(&quot;team_name&quot;, teamInput).toString();\n        \n        for(int i = 1; i &lt;= teamSize; i++) {\n            System.out.println(&quot;Player &quot; + i + &quot;--&quot;);\n            teamDoc.append(&quot;players&quot;, addTeamPlayer());\n        }\n        \n        col.insertOne(teamDoc);\n        \n        return teamDoc;\n    }\n</code></pre>\n<p><strong>JSON Expected Output</strong></p>\n<pre><code>{\n      &quot;_id&quot;: {\n        &quot;$oid&quot;: &quot;62cde01f3e99574b06e59d19&quot;\n      },\n      &quot;team_id&quot;: &quot;11&quot;,\n      &quot;team_name&quot;: &quot;Seahawks&quot;,\n      &quot;players&quot;: [\n        {\n        &quot;player_id&quot;: &quot;0&quot;,\n        &quot;player_name&quot;: &quot;Joe Brown&quot;,\n        &quot;age&quot;: 23,\n        &quot;position&quot;: &quot;Tight End&quot;,\n        &quot;ranking&quot;: 5\n        },\n        {\n        &quot;player_id&quot;: &quot;0&quot;,\n        &quot;player_name&quot;: &quot;Joe Brown&quot;,\n        &quot;age&quot;: 23,\n        &quot;position&quot;: &quot;Tight End&quot;,\n        &quot;ranking&quot;: 5\n        }\n      ]\n}\n</code></pre>\n"},{"tags":["java","macos","maven","homebrew"],"answers":[{"tags":[],"owner":{"account_id":2021629,"reputation":57953,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1521979906,"creation_date":1521979906,"answer_id":49475685,"question_id":49298780,"body_markdown":"For this you have to enable the jenv maven plugin. From the [documentation](https://github.com/gcuisinier/jenv#plugins):\r\n\r\n&gt;Let&#39;s say you want Maven to use the JDK activated with Jenv, not the &gt;default JAVA_HOME configuration. You need to activate Jenv&#39;s maven plugin.\r\n\r\n    $ jenv enable-plugin maven\r\n    maven plugin activated\r\n\r\n&gt;Note: The enable-plugin functionality is system wide not local to the shell, or temporary - you only need to do each one once.","title":"java_home still pointing to the latest version of java after launching jenv","body":"<p>For this you have to enable the jenv maven plugin. From the <a href=\"https://github.com/gcuisinier/jenv#plugins\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>Let's say you want Maven to use the JDK activated with Jenv, not the >default JAVA_HOME configuration. You need to activate Jenv's maven plugin.</p>\n</blockquote>\n\n<pre><code>$ jenv enable-plugin maven\nmaven plugin activated\n</code></pre>\n\n<blockquote>\n  <p>Note: The enable-plugin functionality is system wide not local to the shell, or temporary - you only need to do each one once.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":10882153,"reputation":128,"user_id":8000686,"display_name":"SanjoS30"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657663279,"creation_date":1657663279,"answer_id":72958842,"question_id":49298780,"body_markdown":"Make sure maven is not using this file to set JAVA_HOME\r\n\r\n~/.mavenrc\r\n\r\nIf so, delete it and make sure that java_home is set elsewhere (either using jenv or explicitly setting JAVA_HOME as per your need.","title":"java_home still pointing to the latest version of java after launching jenv","body":"<p>Make sure maven is not using this file to set JAVA_HOME</p>\n<p>~/.mavenrc</p>\n<p>If so, delete it and make sure that java_home is set elsewhere (either using jenv or explicitly setting JAVA_HOME as per your need.</p>\n"}],"owner":{"account_id":2522819,"reputation":2434,"user_id":2192829,"accept_rate":49,"display_name":"Bertuz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1178,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1657663279,"creation_date":1521114780,"question_id":49298780,"body_markdown":"I have installed several versions of the JDK with brew cask:\r\n\r\n    MacBook-Pro:bin myusername$ brew cask list\r\n    java                                                        java8                                                       soapui\r\n\r\nAnd set the default one to be java8:\r\n\r\n    MacBook-Pro:bin myusername$ jenv global\r\n    1.8.0.162\r\n\r\nbut when I lanuch maven it does not found `$JAVA_HOME` and fallbacks to using `java_home`:\r\n\r\n    MacBook-Pro:bin myusername$ /usr/libexec/java_home\r\n    /Library/Java/JavaVirtualMachines/jdk-9.0.4.jdk/Contents/Home\r\n\r\nThe maven script: \r\n\r\n    #!/bin/bash\r\n    JAVA_HOME=&quot;${JAVA_HOME:-$(/usr/libexec/java_home)}&quot; exec &quot;/usr/local/Cellar/maven@3.2/3.2.5/libexec/bin/mvn&quot; &quot;$@&quot;\r\n\r\nI could change the `mvn` script but if I can fix the `JAVA_HOME` issue it would be really much better. Any hints? ","title":"java_home still pointing to the latest version of java after launching jenv","body":"<p>I have installed several versions of the JDK with brew cask:</p>\n\n<pre><code>MacBook-Pro:bin myusername$ brew cask list\njava                                                        java8                                                       soapui\n</code></pre>\n\n<p>And set the default one to be java8:</p>\n\n<pre><code>MacBook-Pro:bin myusername$ jenv global\n1.8.0.162\n</code></pre>\n\n<p>but when I lanuch maven it does not found <code>$JAVA_HOME</code> and fallbacks to using <code>java_home</code>:</p>\n\n<pre><code>MacBook-Pro:bin myusername$ /usr/libexec/java_home\n/Library/Java/JavaVirtualMachines/jdk-9.0.4.jdk/Contents/Home\n</code></pre>\n\n<p>The maven script: </p>\n\n<pre><code>#!/bin/bash\nJAVA_HOME=\"${JAVA_HOME:-$(/usr/libexec/java_home)}\" exec \"/usr/local/Cellar/maven@3.2/3.2.5/libexec/bin/mvn\" \"$@\"\n</code></pre>\n\n<p>I could change the <code>mvn</code> script but if I can fix the <code>JAVA_HOME</code> issue it would be really much better. Any hints? </p>\n"},{"tags":["java","amazon-web-services","amazon-s3","aws-sdk","aws-sdk-java-2.0"],"answers":[{"tags":[],"owner":{"account_id":8481338,"reputation":268,"user_id":6360955,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657661807,"creation_date":1657661807,"answer_id":72958643,"question_id":72957723,"body_markdown":"I am not aware of a multi-file upload mode in Amazon S3.\r\n\r\nAnother way is to **zip** the files and upload one big file, where you will benefit from multipart uploads. Then you let a **Lambda function**, triggered by the upload of a zip in your bucket, **unzip automatically** the files for you.\r\n\r\nFurther description of alternatives and a code example for the zip &amp; unzip strategy can be found [here][1]. \r\n\r\n\r\n  [1]: https://princekfrancis.medium.com/multiple-file-upload-into-amazon-s3-bucket-9888d51001bb","title":"Java AWS S3 SDK2 how to perform async bulk operations","body":"<p>I am not aware of a multi-file upload mode in Amazon S3.</p>\n<p>Another way is to <strong>zip</strong> the files and upload one big file, where you will benefit from multipart uploads. Then you let a <strong>Lambda function</strong>, triggered by the upload of a zip in your bucket, <strong>unzip automatically</strong> the files for you.</p>\n<p>Further description of alternatives and a code example for the zip &amp; unzip strategy can be found <a href=\"https://princekfrancis.medium.com/multiple-file-upload-into-amazon-s3-bucket-9888d51001bb\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":10389194,"reputation":14819,"user_id":7661119,"display_name":"Ervin Szilagyi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657661833,"creation_date":1657661833,"answer_id":72958651,"question_id":72957723,"body_markdown":"You could use [`S3TransferManager`](https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/transfer/s3/S3TransferManager.html) which is the implementation of [`TransferManager`](https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/transfer/TransferManager.html) library [adjusted for AWS Java SDK v2](https://aws.amazon.com/blogs/developer/introducing-amazon-s3-transfer-manager-in-the-aws-sdk-for-java-2-x/). `S3TransferManager` provides bulk uploads by using multiple threads. \r\n\r\nKeep in mind that in case of S3 you are paying for each `PUT` request. Each file upload will constitute at least one PUT request. Even if you are using something like `uploadDirectory` from the `S3TransferManager`, you will still pay for after each file. ","title":"Java AWS S3 SDK2 how to perform async bulk operations","body":"<p>You could use <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/transfer/s3/S3TransferManager.html\" rel=\"nofollow noreferrer\"><code>S3TransferManager</code></a> which is the implementation of <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/transfer/TransferManager.html\" rel=\"nofollow noreferrer\"><code>TransferManager</code></a> library <a href=\"https://aws.amazon.com/blogs/developer/introducing-amazon-s3-transfer-manager-in-the-aws-sdk-for-java-2-x/\" rel=\"nofollow noreferrer\">adjusted for AWS Java SDK v2</a>. <code>S3TransferManager</code> provides bulk uploads by using multiple threads.</p>\n<p>Keep in mind that in case of S3 you are paying for each <code>PUT</code> request. Each file upload will constitute at least one PUT request. Even if you are using something like <code>uploadDirectory</code> from the <code>S3TransferManager</code>, you will still pay for after each file.</p>\n"}],"owner":{"account_id":10230140,"reputation":659,"user_id":7551211,"display_name":"user7551211"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":567,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1657661833,"creation_date":1657655787,"question_id":72957723,"body_markdown":"I&#39;d like to perform bulk operations within S3 asynchronously. For some reason, I could not find a way of doing that in the new SDK2 client built by AWS. I currently use the [S3AsyncClient][1]&#39;s `putObject` method for uploading files, but I&#39;d like to do that in batches for performance improvements. The same applies to downloading files. I&#39;ve read about multipart uploads but I did not understand if that&#39;s what I&#39;m looking for, since my files are relatively small and I don&#39;t need a multipart upload. I How can I perform a multi-file upload?\r\n\r\n\r\n  [1]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/S3AsyncClient.html","title":"Java AWS S3 SDK2 how to perform async bulk operations","body":"<p>I'd like to perform bulk operations within S3 asynchronously. For some reason, I could not find a way of doing that in the new SDK2 client built by AWS. I currently use the <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/S3AsyncClient.html\" rel=\"nofollow noreferrer\">S3AsyncClient</a>'s <code>putObject</code> method for uploading files, but I'd like to do that in batches for performance improvements. The same applies to downloading files. I've read about multipart uploads but I did not understand if that's what I'm looking for, since my files are relatively small and I don't need a multipart upload. I How can I perform a multi-file upload?</p>\n"},{"tags":["java","encryption","public-key-encryption","java-security","ecdh"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1657675512,"post_id":72958635,"comment_id":128865329,"body_markdown":"ECDH is not an encryption algorithm. You can _combine_ it with a symmetric cipher, and that&#39;s what ECIES does, but SunEC (and other usual Sun./Oracle/OpenJDK providers) doesn&#39;t implement ECIES.","body":"ECDH is not an encryption algorithm. You can <i>combine</i> it with a symmetric cipher, and that&#39;s what ECIES does, but SunEC (and other usual Sun./Oracle/OpenJDK providers) doesn&#39;t implement ECIES."},{"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"score":0,"creation_date":1657676653,"post_id":72958635,"comment_id":128865491,"body_markdown":"Gotcha! thx :) What cipher would you recommend for encrypting and decrypting a string with EC?","body":"Gotcha! thx :) What cipher would you recommend for encrypting and decrypting a string with EC?"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1657712389,"post_id":72958635,"comment_id":128874355,"body_markdown":"No, you&#39;d still use ECIES. ECIES is just basically DH with the public key of the receiver, and an ephemeral key pair for each message. You derive the secret key using normal DH key agreement, encrypt the message with it, *and attach the public key* with the encrypted message, and destroy the private key. The receiver can now perform the same DH key agreement which generates the same secret key, and decrypt. Key agreement and symmetric encryption both **are** part of the standard set of implemented algorithms. By the way, the `getInstance(&quot;EC&quot;, &quot;SunEC&quot;)` is better just as `getInstance(&quot;EC&quot;)`.","body":"No, you&#39;d still use ECIES. ECIES is just basically DH with the public key of the receiver, and an ephemeral key pair for each message. You derive the secret key using normal DH key agreement, encrypt the message with it, <i>and attach the public key</i> with the encrypted message, and destroy the private key. The receiver can now perform the same DH key agreement which generates the same secret key, and decrypt. Key agreement and symmetric encryption both <b>are</b> part of the standard set of implemented algorithms. By the way, the <code>getInstance(&quot;EC&quot;, &quot;SunEC&quot;)</code> is better just as <code>getInstance(&quot;EC&quot;)</code>."},{"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"score":0,"creation_date":1657759900,"post_id":72958635,"comment_id":128889517,"body_markdown":"@Maarten Bodewes Oh! Understood. I was originally using RSA, because for the purposes of this question, I was going to generate a public key (that remains static), and use it to encrypt logs incoming to my API, should there be an exception/attack. However, in the case that my database is breached, only I am able to recover the logs. I am not using symmetrical encryption, because, obviously it would require keeping the key on the server itself (which may be breached). I stopped using RSA due to how computationally intensive it is to encrypt, so I was wondering what is a much faster alternative?","body":"@Maarten Bodewes Oh! Understood. I was originally using RSA, because for the purposes of this question, I was going to generate a public key (that remains static), and use it to encrypt logs incoming to my API, should there be an exception/attack. However, in the case that my database is breached, only I am able to recover the logs. I am not using symmetrical encryption, because, obviously it would require keeping the key on the server itself (which may be breached). I stopped using RSA due to how computationally intensive it is to encrypt, so I was wondering what is a much faster alternative?"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1657786165,"post_id":72958635,"comment_id":128894540,"body_markdown":"Not sure if that&#39;s going to work; RSA public key operations are relatively fast compared to other asymmetric primitives. It&#39;s the key generation that is very slow and unpredictable (finding primes) and private key operations are slow as well. But encryption just uses public keys, so it should be fast even compared to e.g. ECIES.","body":"Not sure if that&#39;s going to work; RSA public key operations are relatively fast compared to other asymmetric primitives. It&#39;s the key generation that is very slow and unpredictable (finding primes) and private key operations are slow as well. But encryption just uses public keys, so it should be fast even compared to e.g. ECIES."}],"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657661776,"creation_date":1657661776,"question_id":72958635,"body_markdown":"I am using this code to generate my private and public key (using Java), and I need to use it to encrypt and decrypt strings:\r\n\r\n    KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;EC&quot;, &quot;SunEC&quot;);\r\n    ECGenParameterSpec ecParameterSpec = new ECGenParameterSpec(&quot;secp256r1&quot;);\r\n    keyPairGenerator.initialize(ecParameterSpec);\r\n    KeyPair ecdhKeyPair = keyPairGenerator.genKeyPair();\r\n    PrivateKey privateKey = ecdhKeyPair.getPrivate();\r\n    PublicKey publicKey = ecdhKeyPair.getPublic();\r\n\r\nAssuming I have a string I want to encrypt and decrypt using the public key, how do I do that? I have been looking all around, and I cant seem to find the answer. Really, I am looking for the 2 functions that look like this:\r\n\r\n    public String encryptString(PublicKey publicKey, String stringToEncrypt){\r\n    }\r\n\r\nand \r\n\r\n    public String decryptString(PrivateKey privateKey, String stringToDecrypt){\r\n    }\r\n\r\nThanks guys!","title":"ECDH sunEC Encryption and Decryption for String Value","body":"<p>I am using this code to generate my private and public key (using Java), and I need to use it to encrypt and decrypt strings:</p>\n<pre><code>KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;EC&quot;, &quot;SunEC&quot;);\nECGenParameterSpec ecParameterSpec = new ECGenParameterSpec(&quot;secp256r1&quot;);\nkeyPairGenerator.initialize(ecParameterSpec);\nKeyPair ecdhKeyPair = keyPairGenerator.genKeyPair();\nPrivateKey privateKey = ecdhKeyPair.getPrivate();\nPublicKey publicKey = ecdhKeyPair.getPublic();\n</code></pre>\n<p>Assuming I have a string I want to encrypt and decrypt using the public key, how do I do that? I have been looking all around, and I cant seem to find the answer. Really, I am looking for the 2 functions that look like this:</p>\n<pre><code>public String encryptString(PublicKey publicKey, String stringToEncrypt){\n}\n</code></pre>\n<p>and</p>\n<pre><code>public String decryptString(PrivateKey privateKey, String stringToDecrypt){\n}\n</code></pre>\n<p>Thanks guys!</p>\n"},{"tags":["java","string","swap"],"comments":[{"owner":{"account_id":13062,"reputation":21722,"user_id":26039,"accept_rate":82,"display_name":"Eran"},"score":1,"creation_date":1377852728,"post_id":18528697,"comment_id":27249018,"body_markdown":"You do know that variables are just references, which could be optimized away by the compiler, right?","body":"You do know that variables are just references, which could be optimized away by the compiler, right?"},{"owner":{"account_id":271693,"reputation":7924,"user_id":562363,"accept_rate":59,"display_name":"Absurd-Mind"},"score":1,"creation_date":1377852790,"post_id":18528697,"comment_id":27249053,"body_markdown":"Why do you want to eliminate the third variable?","body":"Why do you want to eliminate the third variable?"},{"owner":{"account_id":263445,"reputation":7542,"user_id":549010,"accept_rate":65,"display_name":"Roger"},"score":1,"creation_date":1377852806,"post_id":18528697,"comment_id":27249060,"body_markdown":"concat with a &#39;special&#39; separator, then split again.","body":"concat with a &#39;special&#39; separator, then split again."},{"owner":{"account_id":2395376,"reputation":2753,"user_id":2094270,"accept_rate":44,"display_name":"Aashray"},"score":0,"creation_date":1377853008,"post_id":18528697,"comment_id":27249158,"body_markdown":"If you guys didn&#39;t notice, the variables are string.","body":"If you guys didn&#39;t notice, the variables are string."},{"owner":{"account_id":1634848,"reputation":4777,"user_id":1508629,"accept_rate":53,"display_name":"commit"},"score":0,"creation_date":1377853023,"post_id":18528697,"comment_id":27249169,"body_markdown":"Should appriciate this question as it is something about logic","body":"Should appriciate this question as it is something about logic"},{"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1377862379,"post_id":18528697,"comment_id":27254347,"body_markdown":"Im struggling to see a point to this question, other than some weird thing he got asked in an interview...","body":"Im struggling to see a point to this question, other than some weird thing he got asked in an interview..."},{"owner":{"account_id":2282546,"reputation":399,"user_id":2007313,"accept_rate":0,"display_name":"ARJUN"},"score":0,"creation_date":1415275366,"post_id":18528697,"comment_id":42135750,"body_markdown":"Check this [Write a Program to Swap two variables or number](http://www.msccomputerscience.com/2013/01/swapping-using-temporary-or-third.html&quot;&gt;&lt;b&gt;Write). You can find almost all the methods of swapping.","body":"Check this <a href=\"http://www.msccomputerscience.com/2013/01/swapping-using-temporary-or-third.html&quot;&gt;&lt;b&gt;Write\" rel=\"nofollow noreferrer\">Write a Program to Swap two variables or number</a>. You can find almost all the methods of swapping."}],"answers":[{"tags":[],"owner":{"account_id":1634848,"reputation":4777,"user_id":1508629,"accept_rate":53,"display_name":"commit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473993876,"creation_date":1377853075,"answer_id":18528857,"question_id":18528697,"body_markdown":"Here you go. Try this:\r\n\r\n    String a = &quot;one&quot;;\r\n    String b = &quot;two&quot;;\r\n    //String temp=null;\r\n    int i = a.length();\r\n    a += b;\r\n    b = a.substring(0, i);\r\n    a = a.substring(i, a.length());\r\n    System.out.println(a + &quot; &quot; + b);\r\n\r\nTake any value in as string in a variable. It will be swap.\r\n","title":"How to swap two string variables in Java without using a third variable","body":"<p>Here you go. Try this:</p>\n\n<pre><code>String a = \"one\";\nString b = \"two\";\n//String temp=null;\nint i = a.length();\na += b;\nb = a.substring(0, i);\na = a.substring(i, a.length());\nSystem.out.println(a + \" \" + b);\n</code></pre>\n\n<p>Take any value in as string in a variable. It will be swap.</p>\n"},{"tags":[],"owner":{"account_id":2153533,"reputation":773,"user_id":1909242,"accept_rate":100,"display_name":"Jj Tuibeo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1473994291,"creation_date":1377853088,"answer_id":18528861,"question_id":18528697,"body_markdown":"For strings:\r\n\r\n    String a = &quot;one&quot;\r\n    String b = &quot;two&quot;\r\n\r\n    a = a + b;\r\n    b = a.replace(b, &quot;&quot;);\r\n    a = a.replace(b, &quot;&quot;);\r\n","title":"How to swap two string variables in Java without using a third variable","body":"<p>For strings:</p>\n\n<pre><code>String a = \"one\"\nString b = \"two\"\n\na = a + b;\nb = a.replace(b, \"\");\na = a.replace(b, \"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1306560,"reputation":6829,"user_id":1255453,"accept_rate":68,"display_name":"Husman"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1473993952,"creation_date":1377853246,"answer_id":18528910,"question_id":18528697,"body_markdown":"    String a=&quot;one&quot;;\r\n    String b=&quot;two&quot;;\r\n    \r\n    a = a.concat(&quot;#&quot; + b);\r\n    b = a.split(&quot;#&quot;)[0];\r\n    a = a.split(&quot;#&quot;)[1];\r\n\r\nThis will work as long as your string doesn&#39;t contain the # character in them. Feel free to use any other character instead.\r\n \r\nYou could use a possible Unicode character, like &quot;\\u001E&quot; instead of the #.\r\n","title":"How to swap two string variables in Java without using a third variable","body":"<pre><code>String a=\"one\";\nString b=\"two\";\n\na = a.concat(\"#\" + b);\nb = a.split(\"#\")[0];\na = a.split(\"#\")[1];\n</code></pre>\n\n<p>This will work as long as your string doesn't contain the # character in them. Feel free to use any other character instead.</p>\n\n<p>You could use a possible Unicode character, like \"\\u001E\" instead of the #.</p>\n"},{"tags":[],"owner":{"account_id":2401660,"reputation":7686,"user_id":2099208,"display_name":"Ankur Lathi"},"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1473994002,"creation_date":1377853284,"answer_id":18528928,"question_id":18528697,"body_markdown":"Do it like this without using a third variable:\r\n\r\n    String a = &quot;one&quot;;\r\n    String b = &quot;two&quot;;\r\n\r\n    a = a + b;\r\n    b = a.substring(0, (a.length() - b.length()));\r\n    a = a.substring(b.length());\r\n\r\n    System.out.println(&quot;a = &quot; + a);\r\n    System.out.println(&quot;b = &quot; + b);\r\n","title":"How to swap two string variables in Java without using a third variable","body":"<p>Do it like this without using a third variable:</p>\n\n<pre><code>String a = \"one\";\nString b = \"two\";\n\na = a + b;\nb = a.substring(0, (a.length() - b.length()));\na = a.substring(b.length());\n\nSystem.out.println(\"a = \" + a);\nSystem.out.println(\"b = \" + b);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2799653,"reputation":568,"user_id":2408112,"accept_rate":50,"display_name":"Praveen P Moolekandathil"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1473994056,"creation_date":1377853288,"answer_id":18528930,"question_id":18528697,"body_markdown":"The simplest way is given below:\r\n\r\n    String a = &quot;one&quot;;\r\n    String b = &quot;two&quot;;\r\n    System.out.println(&quot;Before swap: &quot; a + &quot; &quot; + b);\r\n    int len = a.length();\r\n    a = a + b;\r\n    b = a.substring(0, len);\r\n    a = a.substring(len);\r\n    System.out.println(&quot;After swap: &quot; a + &quot; &quot; + b);\r\n","title":"How to swap two string variables in Java without using a third variable","body":"<p>The simplest way is given below:</p>\n\n<pre><code>String a = \"one\";\nString b = \"two\";\nSystem.out.println(\"Before swap: \" a + \" \" + b);\nint len = a.length();\na = a + b;\nb = a.substring(0, len);\na = a.substring(len);\nSystem.out.println(\"After swap: \" a + \" \" + b);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":188605,"reputation":5059,"user_id":427413,"accept_rate":71,"display_name":"marcus"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1380575274,"creation_date":1380575274,"answer_id":19103860,"question_id":18528697,"body_markdown":"// taken from this answer: https://stackoverflow.com/a/16826296/427413\r\n\r\n    String returnFirst(String x, String y) {\r\n        return x;\r\n    }\r\n\r\n    String a = &quot;one&quot;\r\n    String b = &quot;two&quot;\r\n    a = returnFirst(b, b = a); // If this is confusing try reading as a=b; b=a;\r\n\r\nThis works because the Java language guarantees (Java Language Specification, Java SE 7 Edition, section 15.12.4.2) that all arguments are evaluated from left to right (unlike some other languages, where the order of evaluation is undefined), so the execution order is:\r\n\r\n 1. The original value of `b` is evaluated in order to be passed as the first argument to the function\r\n 2. The expression `b = a` is evaluated, and the result (the new value of `b`) is passed as the second argument to the function\r\n 3. The function executes, returning the original value of `b` and ignoring its new value\r\n 4. You assing the result to `a`\r\n 5. Now the values have been swapped and you didn&#39;t need to declare `temp`. The parameter `x` works as `temp`, but it looks cleaner because you define the function once and you can use it everywhere.","title":"How to swap two string variables in Java without using a third variable","body":"<p>// taken from this answer: <a href=\"https://stackoverflow.com/a/16826296/427413\">https://stackoverflow.com/a/16826296/427413</a></p>\n\n<pre><code>String returnFirst(String x, String y) {\n    return x;\n}\n\nString a = \"one\"\nString b = \"two\"\na = returnFirst(b, b = a); // If this is confusing try reading as a=b; b=a;\n</code></pre>\n\n<p>This works because the Java language guarantees (Java Language Specification, Java SE 7 Edition, section 15.12.4.2) that all arguments are evaluated from left to right (unlike some other languages, where the order of evaluation is undefined), so the execution order is:</p>\n\n<ol>\n<li>The original value of <code>b</code> is evaluated in order to be passed as the first argument to the function</li>\n<li>The expression <code>b = a</code> is evaluated, and the result (the new value of <code>b</code>) is passed as the second argument to the function</li>\n<li>The function executes, returning the original value of <code>b</code> and ignoring its new value</li>\n<li>You assing the result to <code>a</code></li>\n<li>Now the values have been swapped and you didn't need to declare <code>temp</code>. The parameter <code>x</code> works as <code>temp</code>, but it looks cleaner because you define the function once and you can use it everywhere.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4627850,"reputation":43,"user_id":3751118,"display_name":"Couchcamote"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1403072601,"creation_date":1403071364,"answer_id":24278096,"question_id":18528697,"body_markdown":"    public class SwapStringVariable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tString a = &quot;test&quot;;\r\n    \t\tString b = &quot;paper&quot;;\r\n    \t\t\r\n    \t\ta = a + b;\r\n    \t\tb = a.substring(0, a.length()  - b.length());\r\n    \t\ta = a.substring(b.length(), a.length());\r\n    \t\t\t\t\r\n    \t\tSystem.out.println(a + &quot; &quot; + b);\r\n    \t\t\t\t\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How to swap two string variables in Java without using a third variable","body":"<pre><code>public class SwapStringVariable {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        String a = \"test\";\n        String b = \"paper\";\n\n        a = a + b;\n        b = a.substring(0, a.length()  - b.length());\n        a = a.substring(b.length(), a.length());\n\n        System.out.println(a + \" \" + b);\n\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3037926,"reputation":133,"user_id":2575575,"display_name":"armysheng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473994233,"creation_date":1412146577,"answer_id":26135717,"question_id":18528697,"body_markdown":" - Actually, the code in your question did not swap String a,b.\r\n\r\n   You should see this issue:\r\n   *https://stackoverflow.com/questions/3698323/swap-two-strings-in-java-by-passing-them-to-a-utility-function-but-without-ret*\r\n\r\n - And Java is passing by value:\r\n   *https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value*\r\n","title":"How to swap two string variables in Java without using a third variable","body":"<ul>\n<li><p>Actually, the code in your question did not swap String a,b.</p>\n\n<p>You should see this issue:\n<em><a href=\"https://stackoverflow.com/questions/3698323/swap-two-strings-in-java-by-passing-them-to-a-utility-function-but-without-ret\">Swap two strings in Java, by passing them to a utility function, but without returning objects or using wrapper classes</a></em></p></li>\n<li><p>And Java is passing by value:\n<em><a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\">Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?</a></em></p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3241989,"reputation":165,"user_id":2734752,"display_name":"troy"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1473994367,"creation_date":1443296900,"answer_id":32801314,"question_id":18528697,"body_markdown":"[Jj Tuibeo&#39;s solution][1] works if you add replaceFirst() and use a [regular expression][2]:\r\n\r\n    a += b;\r\n    b = a.replaceFirst(b + &quot;$&quot;, &quot;&quot;);\r\n    a = a.replaceFirst(&quot;^&quot; + b, &quot;&quot;);\r\n\r\n  [1]: https://stackoverflow.com/questions/18528697/how-to-swap-two-string-variables-in-java-without-using-a-third-variable/18528861#18528861\r\n  [2]: http://en.wikipedia.org/wiki/Regular_expression\r\n","title":"How to swap two string variables in Java without using a third variable","body":"<p><a href=\"https://stackoverflow.com/questions/18528697/how-to-swap-two-string-variables-in-java-without-using-a-third-variable/18528861#18528861\">Jj Tuibeo's solution</a> works if you add replaceFirst() and use a <a href=\"http://en.wikipedia.org/wiki/Regular_expression\" rel=\"nofollow noreferrer\">regular expression</a>:</p>\n\n<pre><code>a += b;\nb = a.replaceFirst(b + \"$\", \"\");\na = a.replaceFirst(\"^\" + b, \"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2171374,"reputation":21,"user_id":1923270,"display_name":"Nirav Dhinoja"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1453900950,"creation_date":1453900950,"answer_id":35038578,"question_id":18528697,"body_markdown":"    String str1 = &quot;first&quot;;\r\n    String str2 = &quot;second&quot;;\r\n    \r\n    str1 = str2+str1;\r\n    str2 = str1.substring(str2.length(),str1.length());\r\n    str1 = str1.substring(0,(str1.length() - str2.length()));\r\n    \r\n    System.out.println(str1);\r\n    System.out.println(str2);\r\n\r\n","title":"How to swap two string variables in Java without using a third variable","body":"<pre><code>String str1 = \"first\";\nString str2 = \"second\";\n\nstr1 = str2+str1;\nstr2 = str1.substring(str2.length(),str1.length());\nstr1 = str1.substring(0,(str1.length() - str2.length()));\n\nSystem.out.println(str1);\nSystem.out.println(str2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4710787,"reputation":1246,"user_id":3811345,"accept_rate":75,"display_name":"Krishnamoorthy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496989913,"creation_date":1496989913,"answer_id":44450803,"question_id":18528697,"body_markdown":"For String\r\nMethod 1:\r\n\r\n    public class SwapWithoutThirdVar{  \r\n    public static void main (String args[]){    \r\n     String s1 =&quot;one&quot;;\r\n     String s2 =&quot;two&quot;;\r\n     s1= s1+s2;\r\n     s2 = s1.substring(0,(s1.length()-s2.length()));\r\n     s1 = s1.substring(s2.length()); \r\n     System.out.println(&quot;s1 == &quot;+ s1);\r\n     System.out.println(&quot;s2 == &quot;+ s2);\r\n\r\n    }\r\n    }\r\n\r\nMethod 2:\r\n\r\n    public class SwapWithoutThirdVar\r\n    {\r\n    public static void main (String[] args) throws java.lang.Exception\r\n     {\r\n     String s1 = &quot;one&quot;;            \r\n     String s2 =&quot;two&quot;;          \r\n     s1=s2+s1;\r\n     s2=s1.replace(s2,&quot;&quot;);\r\n     s1=s1.replace(s2,&quot;&quot;);         \r\n     System.out.println(&quot;S1 : &quot;+s1); \r\n     System.out.println(&quot;S2 : &quot;+s2);\r\n      }\r\n    }\r\n\r\n\r\n\r\nFor Integers\r\n\r\npublic class SwapWithoutThirdVar {\r\n \r\n    public static void main(String a[]){\r\n        int x = 10;\r\n        int y = 20;       \r\n        x = x+y;\r\n        y=x-y;\r\n        x=x-y;\r\n        System.out.println(&quot;After swap:&quot;);\r\n        System.out.println(&quot;x value: &quot;+x);\r\n        System.out.println(&quot;y value: &quot;+y);\r\n    }\r\n    }\r\n\r\n","title":"How to swap two string variables in Java without using a third variable","body":"<p>For String\nMethod 1:</p>\n\n<pre><code>public class SwapWithoutThirdVar{  \npublic static void main (String args[]){    \n String s1 =\"one\";\n String s2 =\"two\";\n s1= s1+s2;\n s2 = s1.substring(0,(s1.length()-s2.length()));\n s1 = s1.substring(s2.length()); \n System.out.println(\"s1 == \"+ s1);\n System.out.println(\"s2 == \"+ s2);\n\n}\n}\n</code></pre>\n\n<p>Method 2:</p>\n\n<pre><code>public class SwapWithoutThirdVar\n{\npublic static void main (String[] args) throws java.lang.Exception\n {\n String s1 = \"one\";            \n String s2 =\"two\";          \n s1=s2+s1;\n s2=s1.replace(s2,\"\");\n s1=s1.replace(s2,\"\");         \n System.out.println(\"S1 : \"+s1); \n System.out.println(\"S2 : \"+s2);\n  }\n}\n</code></pre>\n\n<p>For Integers</p>\n\n<p>public class SwapWithoutThirdVar {</p>\n\n<pre><code>public static void main(String a[]){\n    int x = 10;\n    int y = 20;       \n    x = x+y;\n    y=x-y;\n    x=x-y;\n    System.out.println(\"After swap:\");\n    System.out.println(\"x value: \"+x);\n    System.out.println(\"y value: \"+y);\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12041724,"reputation":7,"user_id":8808433,"display_name":"sandeep kumar sahoo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1519479743,"creation_date":1519474176,"answer_id":48962701,"question_id":18528697,"body_markdown":"    public class ex{\r\n        public static void main(String[] args){\r\n            \r\n            String s1=&quot;abc&quot;;\r\n            String s2=&quot;def&quot;;\r\n            \r\n            System.out.println(s1);\r\n            System.out.println(s2);\r\n            \r\n            s3=s2.replaceAll(s1,s2=s1);\r\n            \r\n            System.out.println(s1);\r\n            System.out.println(s2);\r\n            \r\n        }\r\n    }","title":"How to swap two string variables in Java without using a third variable","body":"<pre><code>public class ex{\n    public static void main(String[] args){\n\n        String s1=\"abc\";\n        String s2=\"def\";\n\n        System.out.println(s1);\n        System.out.println(s2);\n\n        s3=s2.replaceAll(s1,s2=s1);\n\n        System.out.println(s1);\n        System.out.println(s2);\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4281721,"reputation":1308,"user_id":3500874,"accept_rate":40,"display_name":"Aishu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521787809,"creation_date":1521787809,"answer_id":49443944,"question_id":18528697,"body_markdown":"You can do in this way.\r\n\r\n\t\r\n\r\n    public static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t\tString a = &quot;one&quot;;\r\n    \t\tString b = &quot;two&quot;;\r\n    \t\t\r\n    \t\tSystem.out.println(a);\r\n    \t\tSystem.out.println(b);\r\n    \t\t\r\n    \t\ta = a+b;\r\n    \t\tb = &quot;&quot;;\r\n\r\n    \t\tSystem.out.println(&quot;*************&quot;);\r\n    \t\t b = a.substring(0, 3);\r\n    \t\t a = a.substring(3, 6);\r\n    \t\t \r\n    \t\t System.out.println(a);\r\n    \t\t System.out.println(b);\r\n    \r\n    \t}","title":"How to swap two string variables in Java without using a third variable","body":"<p>You can do in this way.</p>\n\n<pre><code>public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        String a = \"one\";\n        String b = \"two\";\n\n        System.out.println(a);\n        System.out.println(b);\n\n        a = a+b;\n        b = \"\";\n\n        System.out.println(\"*************\");\n         b = a.substring(0, 3);\n         a = a.substring(3, 6);\n\n         System.out.println(a);\n         System.out.println(b);\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13356487,"reputation":1,"user_id":9639834,"display_name":"Aaftab Alam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523600059,"creation_date":1523600059,"answer_id":49810402,"question_id":18528697,"body_markdown":"package com.core;\r\n\r\npublic class SwappingNoTemp {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tString a = &quot;java&quot;;\r\n\t\tString b = &quot;c&quot;;\r\n\r\n\t\ta = a + b;\r\n\r\n\t\tb = a.substring(0, a.length() - b.length());\r\n\t\ta = a.substring(b.length());\r\n\r\n\t\tSystem.out.println(&quot;swapping is a..&quot; + a);\r\n\t\tSystem.out.println(&quot;swapping  is b..&quot; + b);\r\n\r\n\t}\r\n\r\n}\r\n","title":"How to swap two string variables in Java without using a third variable","body":"<p>package com.core;</p>\n\n<p>public class SwappingNoTemp {</p>\n\n<pre><code>public static void main(String[] args) {\n\n    String a = \"java\";\n    String b = \"c\";\n\n    a = a + b;\n\n    b = a.substring(0, a.length() - b.length());\n    a = a.substring(b.length());\n\n    System.out.println(\"swapping is a..\" + a);\n    System.out.println(\"swapping  is b..\" + b);\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":8533629,"reputation":29,"user_id":6396276,"display_name":"Rahul Pyasi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526473874,"creation_date":1526473874,"answer_id":50371033,"question_id":18528697,"body_markdown":"    String name = &quot;george&quot;;\r\n    String name2 = &quot;mark&quot;;\r\n    System.out.println(name+&quot; &quot;+name2);\r\n    System.out.println(name.substring(name.length()) + name2 +  &quot; &quot;+ name );\r\n     \r\n\r\nHere substring(); method returns empty string. hence , names can be appended. \r\n","title":"How to swap two string variables in Java without using a third variable","body":"<pre><code>String name = \"george\";\nString name2 = \"mark\";\nSystem.out.println(name+\" \"+name2);\nSystem.out.println(name.substring(name.length()) + name2 +  \" \"+ name );\n</code></pre>\n\n<p>Here substring(); method returns empty string. hence , names can be appended. </p>\n"},{"tags":[],"owner":{"account_id":12369307,"reputation":9,"user_id":9020146,"display_name":"Inderjeet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565981416,"creation_date":1565980979,"answer_id":57529636,"question_id":18528697,"body_markdown":" \r\n\r\n    String a = &quot;one&quot;;//creates &quot;one&quot; object on heap\r\n    String b = &quot;two&quot;;// creates &quot;two&quot; object on heap\r\n    System.out.printf(&quot;a is %s , b is %s%n&quot;,a,b);\r\n    a = &quot;two&quot;;// will not create new &quot;two&quot; object &amp; now a is pointing to &quot;two&quot; object\r\n    b = &quot;one&quot;;// will not create new &quot;one&quot; object &amp; now b is pointing to &quot;one&quot; object\r\n    System.out.printf(&quot;a is %s , b is %s%n&quot;,a,b);","title":"How to swap two string variables in Java without using a third variable","body":"<pre><code>String a = \"one\";//creates \"one\" object on heap\nString b = \"two\";// creates \"two\" object on heap\nSystem.out.printf(\"a is %s , b is %s%n\",a,b);\na = \"two\";// will not create new \"two\" object &amp; now a is pointing to \"two\" object\nb = \"one\";// will not create new \"one\" object &amp; now b is pointing to \"one\" object\nSystem.out.printf(\"a is %s , b is %s%n\",a,b);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15275609,"reputation":1,"user_id":11021425,"display_name":"Mahek Shah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588891251,"creation_date":1588864490,"answer_id":61661343,"question_id":18528697,"body_markdown":" You can also do this by using a temp variable but in a different way:\r\n\r\n    String a = &quot;one&quot;\r\n    String b = &quot;two&quot;\r\n    String temp = null;\r\n    \r\n    temp=a.concat(b);\r\n    b=temp.substring(0,a.length());\r\n    a=temp.substring(a.length(),temp.length());\r\n\r\n    System.out.println(&quot;After Swapping A:&quot;+a+&quot;B:&quot;+b);","title":"How to swap two string variables in Java without using a third variable","body":"<p>You can also do this by using a temp variable but in a different way:</p>\n\n<pre><code>String a = \"one\"\nString b = \"two\"\nString temp = null;\n\ntemp=a.concat(b);\nb=temp.substring(0,a.length());\na=temp.substring(a.length(),temp.length());\n\nSystem.out.println(\"After Swapping A:\"+a+\"B:\"+b);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19639296,"reputation":1,"user_id":14375811,"display_name":"munchkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601577608,"creation_date":1601577608,"answer_id":64161413,"question_id":18528697,"body_markdown":"I&#39;d just like to point out, just in case anyone looks through this thread. There is no way of swapping two strings without using a third variable. In the java examples, since strings are immutable, a=a+b creates a third string, and doesn&#39;t reassign a. Doing the reverseString, creates a new variable, but this time on the stack frame as the program goes into a new scope. The use of Xor swapping might work, but Strings are immutable in java, and so xor swaps will also create a temporary variable. So in fact, unless the language enables you to reassign to the same memory space, it isn&#39;t possible to swap strings without creating new variables.","title":"How to swap two string variables in Java without using a third variable","body":"<p>I'd just like to point out, just in case anyone looks through this thread. There is no way of swapping two strings without using a third variable. In the java examples, since strings are immutable, a=a+b creates a third string, and doesn't reassign a. Doing the reverseString, creates a new variable, but this time on the stack frame as the program goes into a new scope. The use of Xor swapping might work, but Strings are immutable in java, and so xor swaps will also create a temporary variable. So in fact, unless the language enables you to reassign to the same memory space, it isn't possible to swap strings without creating new variables.</p>\n"},{"tags":[],"owner":{"account_id":12882612,"reputation":1,"user_id":9317186,"display_name":"Ralf Scholl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657661619,"creation_date":1657661619,"answer_id":72958614,"question_id":18528697,"body_markdown":"Swap with a multidimension assignment:\r\n\r\n    var a = &quot;one&quot;;\r\n    var b = &quot;two&quot;;\r\n    console.log(&quot;a =&quot;,a);\r\n    console.log(&quot;b =&quot;,b);\r\n    a = [b, b = a][0];\r\n    console.log(&quot;after swap a =&quot;,a);\r\n    console.log(&quot;after swap b =&quot;,b);","title":"How to swap two string variables in Java without using a third variable","body":"<p>Swap with a multidimension assignment:</p>\n<pre><code>var a = &quot;one&quot;;\nvar b = &quot;two&quot;;\nconsole.log(&quot;a =&quot;,a);\nconsole.log(&quot;b =&quot;,b);\na = [b, b = a][0];\nconsole.log(&quot;after swap a =&quot;,a);\nconsole.log(&quot;after swap b =&quot;,b);\n</code></pre>\n"}],"owner":{"account_id":1338923,"reputation":1513,"user_id":1281029,"accept_rate":65,"display_name":"user1281029"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61983,"favorite_count":0,"down_vote_count":3,"up_vote_count":23,"answer_count":19,"score":20,"last_activity_date":1657661619,"creation_date":1377852585,"question_id":18528697,"body_markdown":"How do I swap two string variables in Java without using a third variable, i.e. the temp variable?\r\n\r\n    String a = &quot;one&quot;\r\n    String b = &quot;two&quot;\r\n    String temp = null;\r\n    temp = a;\r\n    a = b;\r\n    b = temp;\r\n\r\nBut here there is a third variable. We need to eliminate the use of the third variable.\r\n","title":"How to swap two string variables in Java without using a third variable","body":"<p>How do I swap two string variables in Java without using a third variable, i.e. the temp variable?</p>\n\n<pre><code>String a = \"one\"\nString b = \"two\"\nString temp = null;\ntemp = a;\na = b;\nb = temp;\n</code></pre>\n\n<p>But here there is a third variable. We need to eliminate the use of the third variable.</p>\n"},{"tags":["java","date","if-statement","localdatetime"],"comments":[{"owner":{"account_id":11988367,"reputation":540,"user_id":8772274,"display_name":"Nahuel Giani"},"score":0,"creation_date":1657657298,"post_id":72957794,"comment_id":128861793,"body_markdown":"a.getFinFecha() is a Timestamp?","body":"a.getFinFecha() is a Timestamp?"},{"owner":{"account_id":25733635,"reputation":11,"user_id":19488787,"display_name":"Sergio"},"score":0,"creation_date":1657657595,"post_id":72957794,"comment_id":128861875,"body_markdown":"Nope, it is a Date","body":"Nope, it is a Date"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1657658098,"post_id":72957794,"comment_id":128862033,"body_markdown":"`a.getFinFecha().getDate() - 7` looks wrong to me.  You&#39;re just subtracting 7 from the day number of the date, without considering the month or year.","body":"<code>a.getFinFecha().getDate() - 7</code> looks wrong to me.  You&#39;re just subtracting 7 from the day number of the date, without considering the month or year."},{"owner":{"account_id":11988367,"reputation":540,"user_id":8772274,"display_name":"Nahuel Giani"},"score":0,"creation_date":1657658214,"post_id":72957794,"comment_id":128862060,"body_markdown":"I think that works Sergio. I tried it with the date 30/08/2022 and the result is 3","body":"I think that works Sergio. I tried it with the date 30/08/2022 and the result is 3"},{"owner":{"account_id":25733635,"reputation":11,"user_id":19488787,"display_name":"Sergio"},"score":0,"creation_date":1657658814,"post_id":72957794,"comment_id":128862248,"body_markdown":"That&#39;s actually true Nahuel, try it with the date 12/08/2022, it does not work.","body":"That&#39;s actually true Nahuel, try it with the date 12/08/2022, it does not work."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1657659038,"post_id":72957794,"comment_id":128862305,"body_markdown":"So can you please clarify?  When  `getFinFecha()` is `12/8/2022`, what result do you expect, and what result do you actually get?  And what is the actual local date and time when you&#39;re getting that result (I don&#39;t know your timezone)?","body":"So can you please clarify?  When  <code>getFinFecha()</code> is <code>12&#47;8&#47;2022</code>, what result do you expect, and what result do you actually get?  And what is the actual local date and time when you&#39;re getting that result (I don&#39;t know your timezone)?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1657659398,"post_id":72957794,"comment_id":128862415,"body_markdown":"(I&#39;m assuming that when you said 12/08/2022, you meant 12 August, not 8 December).","body":"(I&#39;m assuming that when you said 12/08/2022, you meant 12 August, not 8 December)."}],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657661483,"creation_date":1657661483,"answer_id":72958599,"question_id":72957794,"body_markdown":"&gt; I had to use Timestamp.valueOf so I could transform LocalDateTime to Date \r\n\r\nNo, you hadn&#39;t and you shoudn&#39;t. Avoid using deprecated methods like `getDate()` and make use of the `java.time` API. The simplest solution could be to convert the `Date` returned by `a.getFinFecha()` to `LocalDateTime` and compare according to your requierments:\r\n\r\n    private int yourMethod() {\r\n        Instant instant        = Instant.ofEpochMilli(a.getFinFecha().getTime());\r\n        LocalDateTime finFecha = LocalDateTime.ofInstant(instant, ZoneOffset.UTC); // or use appropriate offset for your use case\r\n        \r\n        if (LocalDateTime.now().isAfter(finFecha)) {\r\n            return 1;\r\n        } else if (LocalDateTime.now().isAfter(finFecha.minusDays(7))) {\r\n            return 2;\r\n        } else {\r\n            return 3;\r\n        }\r\n    }","title":"Problem comparing dates with if statement","body":"<blockquote>\n<p>I had to use Timestamp.valueOf so I could transform LocalDateTime to Date</p>\n</blockquote>\n<p>No, you hadn't and you shoudn't. Avoid using deprecated methods like <code>getDate()</code> and make use of the <code>java.time</code> API. The simplest solution could be to convert the <code>Date</code> returned by <code>a.getFinFecha()</code> to <code>LocalDateTime</code> and compare according to your requierments:</p>\n<pre><code>private int yourMethod() {\n    Instant instant        = Instant.ofEpochMilli(a.getFinFecha().getTime());\n    LocalDateTime finFecha = LocalDateTime.ofInstant(instant, ZoneOffset.UTC); // or use appropriate offset for your use case\n    \n    if (LocalDateTime.now().isAfter(finFecha)) {\n        return 1;\n    } else if (LocalDateTime.now().isAfter(finFecha.minusDays(7))) {\n        return 2;\n    } else {\n        return 3;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25733635,"reputation":11,"user_id":19488787,"display_name":"Sergio"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":72958599,"answer_count":1,"score":-2,"last_activity_date":1657661483,"creation_date":1657656140,"question_id":72957794,"body_markdown":"I&#39;ve got a problem comparing.\r\n\r\nThe second &quot;if&quot; is always fulfilled even if the second condition of the &quot;if&quot; is false.\r\n\r\nFirst, I had to use Timestamp.valueOf so I could transform LocalDateTime to Date (&quot;a&quot; is a type of data &quot;Date&quot;). What i want to do is compare if the current time is greater than a predetermined time (a.getFinFecha()), if so, return 1. If the current time is greater or equal to the predetermined time (a.getFinFecha()) less seven days and is lower than the pretermined date, I want to return 2. Else (which means if the current time is lower than a.getFinFecha() and lower than a.getFinFecha() less 7 days) return 3. The object I&#39;m passing is lower than the pretermined date less 7 days and it returns 2. Never returns 3.\r\n\r\n    if (java.sql.Timestamp.valueOf(LocalDateTime.now()).compareTo(a.getFinFecha()) &gt; 0) {\r\n                return 1;\r\n            } else if (java.sql.Timestamp.valueOf(LocalDateTime.now()).getDate() &gt;= (a.getFinFecha().getDate() - 7) &amp;&amp; java.sql.Timestamp.valueOf(LocalDateTime.now()).compareTo(a.getFinFecha()) &lt;= 0) {\r\n                return 2;\r\n            } else {\r\n                return 3;\r\n            }","title":"Problem comparing dates with if statement","body":"<p>I've got a problem comparing.</p>\n<p>The second &quot;if&quot; is always fulfilled even if the second condition of the &quot;if&quot; is false.</p>\n<p>First, I had to use Timestamp.valueOf so I could transform LocalDateTime to Date (&quot;a&quot; is a type of data &quot;Date&quot;). What i want to do is compare if the current time is greater than a predetermined time (a.getFinFecha()), if so, return 1. If the current time is greater or equal to the predetermined time (a.getFinFecha()) less seven days and is lower than the pretermined date, I want to return 2. Else (which means if the current time is lower than a.getFinFecha() and lower than a.getFinFecha() less 7 days) return 3. The object I'm passing is lower than the pretermined date less 7 days and it returns 2. Never returns 3.</p>\n<pre><code>if (java.sql.Timestamp.valueOf(LocalDateTime.now()).compareTo(a.getFinFecha()) &gt; 0) {\n            return 1;\n        } else if (java.sql.Timestamp.valueOf(LocalDateTime.now()).getDate() &gt;= (a.getFinFecha().getDate() - 7) &amp;&amp; java.sql.Timestamp.valueOf(LocalDateTime.now()).compareTo(a.getFinFecha()) &lt;= 0) {\n            return 2;\n        } else {\n            return 3;\n        }\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc","response","option-type"],"answers":[{"tags":[],"owner":{"account_id":236189,"reputation":2903,"user_id":503510,"accept_rate":81,"display_name":"Tintin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657661251,"creation_date":1657656616,"answer_id":72957880,"question_id":72956410,"body_markdown":"From my comment above  - *You are mixing concerns. Service is supposed to only care about business logic (e.g. not HTTP Status codes). That&#39;s controller&#39;s job. Use of Optional is correct, but the Response return type from service layer is not. Also errors like Not Found are automatically handled by a Rest Controller in Spring boot if a resource is not found. If you want to add custom logic and prepare generic responses, include a proper exception handling e.g. @ControllerAdvice (which allows you reuse exceptions for controllers).*\r\n\r\nAs an example, one of the solutions would be to throw `NoSuchElementException`. \r\nThis is illustrative and would apply if you want to handle other such situations (e.g. null pointers, internal server error, authentication errors in a more custom manner) in a generic manner.\r\n\r\n    public Employee findByEmail(String email) {\r\n        return employeeRepository.findByEmail(email) //assuming findByEmail is returning an Optional&lt;Employee&gt;, otherwise - simply use a null check.\r\n                .orElseThrow(NoSuchElementException::new)\r\n    }\r\n\r\nInside @ControllerAdvice class\r\n\r\n      @ExceptionHandler(NoSuchElementException.class)\r\n      @ResponseBody\r\n      @Order(Ordered.HIGHEST_PRECEDENCE)\r\n      public final ResponseEntity&lt;APIResponseErrorContainer&gt; handleNotFound(\r\n          NoSuchElementException ex) {\r\n    // log exception here if you wish to\r\n        return new ResponseEntity&lt;&gt;(createCustomResponseBody(),  HttpStatus.NOT_FOUND);\r\n      }","title":"Generic response for @RestController in Spring Boot?","body":"<p>From my comment above  - <em>You are mixing concerns. Service is supposed to only care about business logic (e.g. not HTTP Status codes). That's controller's job. Use of Optional is correct, but the Response return type from service layer is not. Also errors like Not Found are automatically handled by a Rest Controller in Spring boot if a resource is not found. If you want to add custom logic and prepare generic responses, include a proper exception handling e.g. @ControllerAdvice (which allows you reuse exceptions for controllers).</em></p>\n<p>As an example, one of the solutions would be to throw <code>NoSuchElementException</code>.\nThis is illustrative and would apply if you want to handle other such situations (e.g. null pointers, internal server error, authentication errors in a more custom manner) in a generic manner.</p>\n<pre><code>public Employee findByEmail(String email) {\n    return employeeRepository.findByEmail(email) //assuming findByEmail is returning an Optional&lt;Employee&gt;, otherwise - simply use a null check.\n            .orElseThrow(NoSuchElementException::new)\n}\n</code></pre>\n<p>Inside @ControllerAdvice class</p>\n<pre><code>  @ExceptionHandler(NoSuchElementException.class)\n  @ResponseBody\n  @Order(Ordered.HIGHEST_PRECEDENCE)\n  public final ResponseEntity&lt;APIResponseErrorContainer&gt; handleNotFound(\n      NoSuchElementException ex) {\n// log exception here if you wish to\n    return new ResponseEntity&lt;&gt;(createCustomResponseBody(),  HttpStatus.NOT_FOUND);\n  }\n</code></pre>\n"}],"owner":{"display_name":"user19249066"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1334,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1657661251,"creation_date":1657647857,"question_id":72956410,"body_markdown":"In my Spring Boot app, I just use `Optional` for the first time and after examining several projects and topics, now I am trying to build an approach as shown below: \r\n\r\n&lt;br/&gt;\r\n\r\n***Repository:***\r\n\r\n```\r\nOptional&lt;Employee&gt; findByEmail(String email);\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\n\r\n***Service:*** \r\n\r\n```\r\npublic Response findByEmail(String email) {\r\n    return employeeRepository.findByEmail(email)\r\n            // if record is found, I think no need to return status or message\r\n            .map(e -&gt; Response.builder().data(e).build()) \r\n            .orElseGet(() -&gt; Response.builder().status(404)\r\n                .data(null).message(&quot;Not found!&quot;).build());\r\n}\r\n```\r\n&lt;br/&gt;\r\n\r\n***Response:*** \r\n\r\n\r\n```\r\n@Data\r\n@Builder\r\npublic class Response {\r\n    private int status;\r\n    private Object data;\r\n    private String message;\r\n}\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\n***Controller:*** \r\n\r\n```\r\n@GetMapping(&quot;/employees/{email}&quot;)\r\npublic ResponseEntity&lt;Response&gt; findByEmail(@PathVariable String email) {\r\n    final Response response = employeeService.findByEmail(email);\r\n    return ResponseEntity\r\n            .status(response.getStatus())\r\n\r\n            .body(response.getMessage(), response.getData()); \r\n            // throws &quot;Expected 1 arguments but found 2&quot; error\r\n}\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\n\r\nHere is the points that I need to be clarified:\r\n\r\n**1.** Is this a proper approach to use a common response for all the `Optional` types in a Spring Boot app? If not, how should I change it (I want to return a common response from the Service)?  \r\n\r\n**2.** How to fix the *throws &quot;Expected 1 arguments but found 2&quot;* error in the Controller?  ","title":"Generic response for @RestController in Spring Boot?","body":"<p>In my Spring Boot app, I just use <code>Optional</code> for the first time and after examining several projects and topics, now I am trying to build an approach as shown below:</p>\n<br/>\n<p><em><strong>Repository:</strong></em></p>\n<pre><code>Optional&lt;Employee&gt; findByEmail(String email);\n</code></pre>\n<br/>\n<p><em><strong>Service:</strong></em></p>\n<pre><code>public Response findByEmail(String email) {\n    return employeeRepository.findByEmail(email)\n            // if record is found, I think no need to return status or message\n            .map(e -&gt; Response.builder().data(e).build()) \n            .orElseGet(() -&gt; Response.builder().status(404)\n                .data(null).message(&quot;Not found!&quot;).build());\n}\n</code></pre>\n<br/>\n<p><em><strong>Response:</strong></em></p>\n<pre><code>@Data\n@Builder\npublic class Response {\n    private int status;\n    private Object data;\n    private String message;\n}\n</code></pre>\n<br/>\n<p><em><strong>Controller:</strong></em></p>\n<pre><code>@GetMapping(&quot;/employees/{email}&quot;)\npublic ResponseEntity&lt;Response&gt; findByEmail(@PathVariable String email) {\n    final Response response = employeeService.findByEmail(email);\n    return ResponseEntity\n            .status(response.getStatus())\n\n            .body(response.getMessage(), response.getData()); \n            // throws &quot;Expected 1 arguments but found 2&quot; error\n}\n</code></pre>\n<br/>\n<p>Here is the points that I need to be clarified:</p>\n<p><strong>1.</strong> Is this a proper approach to use a common response for all the <code>Optional</code> types in a Spring Boot app? If not, how should I change it (I want to return a common response from the Service)?</p>\n<p><strong>2.</strong> How to fix the <em>throws &quot;Expected 1 arguments but found 2&quot;</em> error in the Controller?</p>\n"},{"tags":["java","mysql","sql-server"],"comments":[{"owner":{"account_id":236189,"reputation":2903,"user_id":503510,"accept_rate":81,"display_name":"Tintin"},"score":3,"creation_date":1657661889,"post_id":72958559,"comment_id":128862985,"body_markdown":"You need to contain your problem in a minimal viable way.  In its current state, its too much text and code for anyone to read.  People are more motivated to answer if they see a &quot;conceptual&quot; question.","body":"You need to contain your problem in a minimal viable way.  In its current state, its too much text and code for anyone to read.  People are more motivated to answer if they see a &quot;conceptual&quot; question."},{"owner":{"account_id":21706727,"reputation":1201,"user_id":16019058,"display_name":"Shmiel"},"score":0,"creation_date":1657664063,"post_id":72958559,"comment_id":128863498,"body_markdown":"MySQL &lt;&gt; SQL-Server","body":"MySQL &lt;&gt; SQL-Server"}],"owner":{"account_id":25379095,"reputation":33,"user_id":19191756,"display_name":"IgorArnaut"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657661133,"creation_date":1657661133,"question_id":72958559,"body_markdown":"I am trying to implement a rezervation of a table.\r\n\r\nA page has a combo-box of tables and input fields. I choose a table, pick a date, enter a number of customers and press *Proceed*. Then it sends me to a page with input fields. I input information about a customer and add him to the list. I can also add more customers. If it&#39;s enough, I press *Reserve*.\r\n\r\nIt&#39;s supposed to show a page telling me that it was successful, but instead I get:\r\n```\r\njava.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`mydb`.`Upis`, CONSTRAINT `fk_Upis_Musterija1` FOREIGN KEY (`idMusterija`) REFERENCES `Musterija` (`idMusterija`))\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:46) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3375) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3908) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:107) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[na:na]\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1407) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:489) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3290) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2425) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-5.3.21.jar:5.3.21]\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743) ~[spring-tx-5.3.21.jar:5.3.21]\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711) ~[spring-tx-5.3.21.jar:5.3.21]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654) ~[spring-tx-5.3.21.jar:5.3.21]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407) ~[spring-tx-5.3.21.jar:5.3.21]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.21.jar:5.3.21]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.21.jar:5.3.21]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.1.jar:2.7.1]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.21.jar:5.3.21]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.21.jar:5.3.21]\r\n\tat jdk.proxy8/jdk.proxy8.$Proxy170.save(Unknown Source) ~[na:na]\r\n\tat com.example.demo.controller.RezervacijaController.rezervisi(RezervacijaController.java:92) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.64.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.64.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.21.jar:5.3.21]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1787) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```\r\n\r\nSQL scripts and tables:\r\n```\r\nCREATE TABLE `Musterija` (\r\n  `idMusterija` int NOT NULL AUTO_INCREMENT,\r\n  `ime` varchar(20) NOT NULL,\r\n  `prezime` varchar(50) NOT NULL,\r\n  `adresa` varchar(100) NOT NULL,\r\n  `email` varchar(200) NOT NULL,\r\n  `brTelefona` varchar(20) NOT NULL,\r\n  PRIMARY KEY (`idMusterija`)\r\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;\r\n\r\nCREATE TABLE `Upis` (\r\n  `idRezervacija` int NOT NULL,\r\n  `idMusterija` int NOT NULL,\r\n  KEY `fk_Upis_Musterija1_idx` (`idMusterija`),\r\n  KEY `fk_Upis_Rezervacija1_idx` (`idRezervacija`),\r\n  CONSTRAINT `fk_Upis_Musterija1` FOREIGN KEY (`idMusterija`) REFERENCES `Musterija` (`idMusterija`),\r\n  CONSTRAINT `fk_Upis_Rezervacija1` FOREIGN KEY (`idRezervacija`) REFERENCES `Rezervacija` (`idRezervacija`)\r\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;\r\n\r\nCREATE TABLE `Rezervacija` (\r\n  `idRezervacija` int NOT NULL AUTO_INCREMENT,\r\n  `brMusterija` int NOT NULL,\r\n  `datumRezervacije` datetime NOT NULL,\r\n  `cenaRezervacije` double NOT NULL,\r\n  `idSto` int NOT NULL,\r\n  `idUser` int NOT NULL,\r\n  PRIMARY KEY (`idRezervacija`),\r\n  KEY `fk_Rezervacija_Sto1_idx` (`idSto`),\r\n  KEY `fk_Rezervacija_User1_idx` (`idUser`),\r\n  CONSTRAINT `fk_Rezervacija_Sto1` FOREIGN KEY (`idSto`) REFERENCES `Sto` (`idSto`),\r\n  CONSTRAINT `fk_Rezervacija_User1` FOREIGN KEY (`idUser`) REFERENCES `User` (`idUser`)\r\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;\r\n```\r\n[![tables][2]][2]\r\n\r\nRezervacija.java:\r\n```\r\n@Entity\r\n@NamedQuery(name=&quot;Rezervacija.findAll&quot;, query=&quot;SELECT r FROM Rezervacija r&quot;)\r\npublic class Rezervacija implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\tprivate int idRezervacija;\r\n\r\n\tprivate int brMusterija;\r\n\r\n\tprivate double cenaRezervacije;\r\n\r\n\t@Temporal(TemporalType.TIMESTAMP)\r\n\tprivate Date datumRezervacije;\r\n\r\n\t//bi-directional many-to-many association to Musterija\r\n\t@ManyToMany\r\n\t@JoinTable(\r\n\t\tname=&quot;Upis&quot;\r\n\t\t, joinColumns={\r\n\t\t\t@JoinColumn(name=&quot;idRezervacija&quot;)\r\n\t\t\t}\r\n\t\t, inverseJoinColumns={\r\n\t\t\t@JoinColumn(name=&quot;idMusterija&quot;)\r\n\t\t\t}\r\n\t\t)\r\n\tprivate List&lt;Musterija&gt; musterijas;\r\n\r\n\t//bi-directional many-to-one association to Sto\r\n\t@ManyToOne\r\n\t@JoinColumn(name=&quot;idSto&quot;)\r\n\tprivate Sto sto;\r\n\r\n\t//bi-directional many-to-one association to User\r\n\t@ManyToOne\r\n\t@JoinColumn(name=&quot;idUser&quot;)\r\n\tprivate User user;\r\n\r\n\t//bi-directional many-to-one association to Upis\r\n\t@OneToMany(mappedBy=&quot;rezervacija&quot;)\r\n\tprivate List&lt;Upis&gt; upis;\r\n\r\n\tpublic Rezervacija() {\r\n\t}\r\n\r\n\tpublic int getIdRezervacija() {\r\n\t\treturn this.idRezervacija;\r\n\t}\r\n\r\n\tpublic void setIdRezervacija(int idRezervacija) {\r\n\t\tthis.idRezervacija = idRezervacija;\r\n\t}\r\n\r\n\tpublic int getBrMusterija() {\r\n\t\treturn this.brMusterija;\r\n\t}\r\n\r\n\tpublic void setBrMusterija(int brMusterija) {\r\n\t\tthis.brMusterija = brMusterija;\r\n\t}\r\n\r\n\tpublic double getCenaRezervacije() {\r\n\t\treturn this.cenaRezervacije;\r\n\t}\r\n\r\n\tpublic void setCenaRezervacije(double cenaRezervacije) {\r\n\t\tthis.cenaRezervacije = cenaRezervacije;\r\n\t}\r\n\r\n\tpublic Date getDatumRezervacije() {\r\n\t\treturn this.datumRezervacije;\r\n\t}\r\n\r\n\tpublic void setDatumRezervacije(Date datumRezervacije) {\r\n\t\tthis.datumRezervacije = datumRezervacije;\r\n\t}\r\n\r\n\tpublic List&lt;Musterija&gt; getMusterijas() {\r\n\t\treturn this.musterijas;\r\n\t}\r\n\r\n\tpublic void setMusterijas(List&lt;Musterija&gt; musterijas) {\r\n\t\tthis.musterijas = musterijas;\r\n\t}\r\n\r\n\tpublic Sto getSto() {\r\n\t\treturn this.sto;\r\n\t}\r\n\r\n\tpublic void setSto(Sto sto) {\r\n\t\tthis.sto = sto;\r\n\t}\r\n\r\n\tpublic User getUser() {\r\n\t\treturn this.user;\r\n\t}\r\n\r\n\tpublic void setUser(User user) {\r\n\t\tthis.user = user;\r\n\t}\r\n\r\n\tpublic List&lt;Upis&gt; getUpis() {\r\n\t\treturn this.upis;\r\n\t}\r\n\r\n\tpublic void setUpis(List&lt;Upis&gt; upis) {\r\n\t\tthis.upis = upis;\r\n\t}\r\n\r\n\tpublic Upis addUpi(Upis upi) {\r\n\t\tgetUpis().add(upi);\r\n\t\tupi.setRezervacija(this);\r\n\r\n\t\treturn upi;\r\n\t}\r\n\r\n\tpublic Upis removeUpi(Upis upi) {\r\n\t\tgetUpis().remove(upi);\r\n\t\tupi.setRezervacija(null);\r\n\r\n\t\treturn upi;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nSto.java:\r\n```\r\n@Entity\r\n@NamedQuery(name=&quot;Sto.findAll&quot;, query=&quot;SELECT s FROM Sto s&quot;)\r\npublic class Sto implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\tprivate int idSto;\r\n\r\n\tprivate int brMesta;\r\n\r\n\t//bi-directional many-to-one association to Rezervacija\r\n\t@OneToMany(mappedBy=&quot;sto&quot;)\r\n\tprivate List&lt;Rezervacija&gt; rezervacijas;\r\n\r\n\tpublic Sto() {\r\n\t}\r\n\r\n\tpublic int getIdSto() {\r\n\t\treturn this.idSto;\r\n\t}\r\n\r\n\tpublic void setIdSto(int idSto) {\r\n\t\tthis.idSto = idSto;\r\n\t}\r\n\r\n\tpublic int getBrMesta() {\r\n\t\treturn this.brMesta;\r\n\t}\r\n\r\n\tpublic void setBrMesta(int brMesta) {\r\n\t\tthis.brMesta = brMesta;\r\n\t}\r\n\r\n\tpublic List&lt;Rezervacija&gt; getRezervacijas() {\r\n\t\treturn this.rezervacijas;\r\n\t}\r\n\r\n\tpublic void setRezervacijas(List&lt;Rezervacija&gt; rezervacijas) {\r\n\t\tthis.rezervacijas = rezervacijas;\r\n\t}\r\n\r\n\tpublic Rezervacija addRezervacija(Rezervacija rezervacija) {\r\n\t\tgetRezervacijas().add(rezervacija);\r\n\t\trezervacija.setSto(this);\r\n\r\n\t\treturn rezervacija;\r\n\t}\r\n\r\n\tpublic Rezervacija removeRezervacija(Rezervacija rezervacija) {\r\n\t\tgetRezervacijas().remove(rezervacija);\r\n\t\trezervacija.setSto(null);\r\n\r\n\t\treturn rezervacija;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nUpis.java:\r\n```\r\n@Entity\r\n@NamedQuery(name=&quot;Upis.findAll&quot;, query=&quot;SELECT u FROM Upis u&quot;)\r\npublic class Upis implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@EmbeddedId\r\n\tprivate UpisPK id;\r\n\r\n\t//bi-directional many-to-one association to Musterija\r\n\t@ManyToOne\r\n\t@JoinColumn(name=&quot;idMusterija&quot;, insertable = false, updatable = false)\r\n\tprivate Musterija musterija;\r\n\r\n\t//bi-directional many-to-one association to Rezervacija\r\n\t@ManyToOne\r\n\t@JoinColumn(name=&quot;idRezervacija&quot;, insertable = false, updatable = false)\r\n\tprivate Rezervacija rezervacija;\r\n\r\n\tpublic Upis() {\r\n\t}\r\n\r\n\tpublic UpisPK getId() {\r\n\t\treturn this.id;\r\n\t}\r\n\r\n\tpublic void setId(UpisPK id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic Musterija getMusterija() {\r\n\t\treturn this.musterija;\r\n\t}\r\n\r\n\tpublic void setMusterija(Musterija musterija) {\r\n\t\tthis.musterija = musterija;\r\n\t}\r\n\r\n\tpublic Rezervacija getRezervacija() {\r\n\t\treturn this.rezervacija;\r\n\t}\r\n\r\n\tpublic void setRezervacija(Rezervacija rezervacija) {\r\n\t\tthis.rezervacija = rezervacija;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nUpisPK.java:\r\n```\r\n@Embeddable\r\npublic class UpisPK implements Serializable {\r\n\t//default serial version id, required for serializable classes.\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Column(insertable=false, updatable=false)\r\n\tprivate int idRezervacija;\r\n\r\n\t@Column(insertable=false, updatable=false)\r\n\tprivate int idMusterija;\r\n\r\n\tpublic UpisPK() {\r\n\t}\r\n\tpublic int getIdRezervacija() {\r\n\t\treturn this.idRezervacija;\r\n\t}\r\n\tpublic void setIdRezervacija(int idRezervacija) {\r\n\t\tthis.idRezervacija = idRezervacija;\r\n\t}\r\n\tpublic int getIdMusterija() {\r\n\t\treturn this.idMusterija;\r\n\t}\r\n\tpublic void setIdMusterija(int idMusterija) {\r\n\t\tthis.idMusterija = idMusterija;\r\n\t}\r\n\r\n\tpublic boolean equals(Object other) {\r\n\t\tif (this == other) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif (!(other instanceof UpisPK)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tUpisPK castOther = (UpisPK)other;\r\n\t\treturn \r\n\t\t\t(this.idRezervacija == castOther.idRezervacija)\r\n\t\t\t&amp;&amp; (this.idMusterija == castOther.idMusterija);\r\n\t}\r\n\r\n\tpublic int hashCode() {\r\n\t\tfinal int prime = 31;\r\n\t\tint hash = 17;\r\n\t\thash = hash * prime + this.idRezervacija;\r\n\t\thash = hash * prime + this.idMusterija;\r\n\t\t\r\n\t\treturn hash;\r\n\t}\r\n}\r\n```\r\n\r\nMusterija.java:\r\n```\r\n@Entity\r\n@NamedQuery(name=&quot;Musterija.findAll&quot;, query=&quot;SELECT m FROM Musterija m&quot;)\r\npublic class Musterija implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\tprivate int idMusterija;\r\n\r\n\tprivate String adresa;\r\n\r\n\tprivate String brTelefona;\r\n\r\n\tprivate String email;\r\n\r\n\tprivate String ime;\r\n\r\n\tprivate String prezime;\r\n\r\n\t//bi-directional many-to-one association to Narudzbina\r\n\t@OneToMany(mappedBy=&quot;musterija&quot;)\r\n\tprivate List&lt;Narudzbina&gt; narudzbinas;\r\n\r\n\t//bi-directional many-to-many association to Rezervacija\r\n\t@ManyToMany(mappedBy=&quot;musterijas&quot;)\r\n\tprivate List&lt;Rezervacija&gt; rezervacijas;\r\n\r\n\t//bi-directional many-to-one association to Upis\r\n\t@OneToMany(mappedBy=&quot;musterija&quot;)\r\n\tprivate List&lt;Upis&gt; upis;\r\n\r\n\tpublic Musterija() {\r\n\t}\r\n\r\n\tpublic int getIdMusterija() {\r\n\t\treturn this.idMusterija;\r\n\t}\r\n\r\n\tpublic void setIdMusterija(int idMusterija) {\r\n\t\tthis.idMusterija = idMusterija;\r\n\t}\r\n\r\n\tpublic String getAdresa() {\r\n\t\treturn this.adresa;\r\n\t}\r\n\r\n\tpublic void setAdresa(String adresa) {\r\n\t\tthis.adresa = adresa;\r\n\t}\r\n\r\n\tpublic String getBrTelefona() {\r\n\t\treturn this.brTelefona;\r\n\t}\r\n\r\n\tpublic void setBrTelefona(String brTelefona) {\r\n\t\tthis.brTelefona = brTelefona;\r\n\t}\r\n\r\n\tpublic String getEmail() {\r\n\t\treturn this.email;\r\n\t}\r\n\r\n\tpublic void setEmail(String email) {\r\n\t\tthis.email = email;\r\n\t}\r\n\r\n\tpublic String getIme() {\r\n\t\treturn this.ime;\r\n\t}\r\n\r\n\tpublic void setIme(String ime) {\r\n\t\tthis.ime = ime;\r\n\t}\r\n\r\n\tpublic String getPrezime() {\r\n\t\treturn this.prezime;\r\n\t}\r\n\r\n\tpublic void setPrezime(String prezime) {\r\n\t\tthis.prezime = prezime;\r\n\t}\r\n\r\n\tpublic List&lt;Narudzbina&gt; getNarudzbinas() {\r\n\t\treturn this.narudzbinas;\r\n\t}\r\n\r\n\tpublic void setNarudzbinas(List&lt;Narudzbina&gt; narudzbinas) {\r\n\t\tthis.narudzbinas = narudzbinas;\r\n\t}\r\n\r\n\tpublic Narudzbina addNarudzbina(Narudzbina narudzbina) {\r\n\t\tgetNarudzbinas().add(narudzbina);\r\n\t\tnarudzbina.setMusterija(this);\r\n\r\n\t\treturn narudzbina;\r\n\t}\r\n\r\n\tpublic Narudzbina removeNarudzbina(Narudzbina narudzbina) {\r\n\t\tgetNarudzbinas().remove(narudzbina);\r\n\t\tnarudzbina.setMusterija(null);\r\n\r\n\t\treturn narudzbina;\r\n\t}\r\n\r\n\tpublic List&lt;Rezervacija&gt; getRezervacijas() {\r\n\t\treturn this.rezervacijas;\r\n\t}\r\n\r\n\tpublic void setRezervacijas(List&lt;Rezervacija&gt; rezervacijas) {\r\n\t\tthis.rezervacijas = rezervacijas;\r\n\t}\r\n\r\n\tpublic List&lt;Upis&gt; getUpis() {\r\n\t\treturn this.upis;\r\n\t}\r\n\r\n\tpublic void setUpis(List&lt;Upis&gt; upis) {\r\n\t\tthis.upis = upis;\r\n\t}\r\n\r\n\tpublic Upis addUpi(Upis upi) {\r\n\t\tgetUpis().add(upi);\r\n\t\tupi.setMusterija(this);\r\n\r\n\t\treturn upi;\r\n\t}\r\n\r\n\tpublic Upis removeUpi(Upis upi) {\r\n\t\tgetUpis().remove(upi);\r\n\t\tupi.setMusterija(null);\r\n\r\n\t\treturn upi;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nRezervacijaController.java:\r\n```\r\n@Controller\r\n@RequestMapping(&quot;/rezervacije&quot;)\r\npublic class RezervacijaController {\r\n\r\n\t@Autowired\r\n\tRezervacijaRepository rr;\r\n\t@Autowired\r\n\tMusterijaRepository mr;\r\n\t@Autowired\r\n\tStoRepository sr;\r\n\t@Autowired\r\n\tUpisRepository ur;\r\n\r\n\t@GetMapping(value = &quot;popuniStolove&quot;)\r\n\tpublic String popuniStolove(HttpServletRequest request) {\r\n\t\tList&lt;Sto&gt; stolovi = sr.findAll();\r\n\t\trequest.setAttribute(&quot;stolovi&quot;, stolovi);\r\n\t\treturn &quot;rezervacijaStola&quot;;\r\n\t}\r\n\t\r\n\t@PostMapping(value = &quot;unesiRezervaciju&quot;)\r\n\tpublic String unesiRezervaciju(Integer brMusterija, Date datum, Sto sto, HttpServletRequest request) {\r\n\t\tRezervacija r = new Rezervacija();\r\n\t\tr.setBrMusterija(brMusterija);\r\n\t\tr.setCenaRezervacije(800.0 * brMusterija);\r\n\t\tr.setDatumRezervacije(datum);\r\n\t\tsto.addRezervacija(r);\r\n\t\tsr.updateSto(sto);\r\n\t\t\r\n\t\tList&lt;Musterija&gt; musterije = new ArrayList&lt;Musterija&gt;();\r\n\t\trequest.getSession().setAttribute(&quot;musterije&quot;, musterije);\r\n\t\trequest.getSession().setAttribute(&quot;rezervacija&quot;, r);\r\n\t\treturn &quot;unosMusterija&quot;;\r\n\t}\r\n\t\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t@PostMapping(value = &quot;/dodajMusteriju&quot;)\r\n\tpublic String dodajMusteriju(String ime, String prezime, String adresa, String email, String brTelefona, HttpServletRequest request) {\r\n\t\tList&lt;Musterija&gt; musterije = (ArrayList&lt;Musterija&gt;) request.getSession().getAttribute(&quot;musterije&quot;);\r\n\t\tMusterija m = new Musterija();\r\n\t\tm.setIme(ime);\r\n\t\tm.setPrezime(prezime);\r\n\t\tm.setAdresa(adresa);\r\n\t\tm.setEmail(email);\r\n\t\tm.setBrTelefona(brTelefona);\r\n\t\tmusterije.add(m);\r\n\t\trequest.setAttribute(&quot;musterije&quot;, musterije);\r\n\t\treturn &quot;unosMusterija&quot;;\r\n\t}\r\n\t\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t@PostMapping(value = &quot;rezervisi&quot;)\r\n\tpublic String rezervisi(HttpServletRequest request) {\r\n\t\tRezervacija r = (Rezervacija) request.getSession().getAttribute(&quot;rezervacija&quot;);\r\n\t\tList&lt;Musterija&gt; musterije = (ArrayList&lt;Musterija&gt;) request.getSession().getAttribute(&quot;musterije&quot;);\r\n\t\t\r\n\t\tfor (Musterija m : musterije) {\r\n\t\t\tUpis upis = new Upis();\r\n\t\t\tUpisPK uPK = new UpisPK();\r\n\t\t\tuPK.setIdMusterija(m.getIdMusterija());\r\n\t\t\tuPK.setIdRezervacija(r.getIdRezervacija());\r\n\t\t\tupis.setId(uPK);\r\n\t\t\tur.save(upis);\r\n\t\t\tmr.save(m);\r\n\t\t}\r\n\t\t\r\n\t\trr.save(r);\r\n\t\treturn &quot;uspehRezervacija&quot;;\r\n\t}\r\n\t\r\n\t@InitBinder\r\n\tpublic void initBinder(WebDataBinder binder) {\r\n\t    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n\t    sdf.setLenient(true);\r\n\t    binder.registerCustomEditor(Date.class, new CustomDateEditor(sdf, true));\r\n\t}\r\n\r\n}\r\n```\r\n\r\nRepositories:\r\n```\r\npublic interface UpisRepository extends JpaRepository&lt;Upis, UpisPK&gt; {\r\n\r\n}\r\n```\r\n```\r\n@Repository\r\n@Transactional\r\npublic class StoRepoSpecificImpl implements StoRepoSpecific {\r\n\r\n\t@PersistenceContext\r\n\tEntityManager em;\r\n\r\n\t@Override\r\n\tpublic void updateSto(Sto sto) {\r\n\t\ttry {\r\n\t\t\tem.merge(sto);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n```\r\npublic interface StoRepoSpecific {\r\n\r\n\tpublic void updateSto(Sto sto);\r\n\t\r\n}\r\n```\r\n```\r\npublic interface StoRepository extends JpaRepository&lt;Sto, Integer&gt;, StoRepoSpecific {\r\n\r\n}\r\n```\r\n\r\nYou can see my public [project][1] on Github.\r\n\r\n  [1]: https://github.com/IgorArnaut/MIS-Picerija\r\n  [2]: https://i.stack.imgur.com/AnVrT.png","title":"I get &quot;Cannot add or update a child row: a foreign key constraint fails&quot; for some reason","body":"<p>I am trying to implement a rezervation of a table.</p>\n<p>A page has a combo-box of tables and input fields. I choose a table, pick a date, enter a number of customers and press <em>Proceed</em>. Then it sends me to a page with input fields. I input information about a customer and add him to the list. I can also add more customers. If it's enough, I press <em>Reserve</em>.</p>\n<p>It's supposed to show a page telling me that it was successful, but instead I get:</p>\n<pre><code>java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`mydb`.`Upis`, CONSTRAINT `fk_Upis_Musterija1` FOREIGN KEY (`idMusterija`) REFERENCES `Musterija` (`idMusterija`))\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:46) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3375) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3908) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:107) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[na:na]\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1407) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:489) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3290) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2425) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-5.3.21.jar:5.3.21]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743) ~[spring-tx-5.3.21.jar:5.3.21]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711) ~[spring-tx-5.3.21.jar:5.3.21]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654) ~[spring-tx-5.3.21.jar:5.3.21]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407) ~[spring-tx-5.3.21.jar:5.3.21]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.21.jar:5.3.21]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.21.jar:5.3.21]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.1.jar:2.7.1]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.21.jar:5.3.21]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.21.jar:5.3.21]\n    at jdk.proxy8/jdk.proxy8.$Proxy170.save(Unknown Source) ~[na:na]\n    at com.example.demo.controller.RezervacijaController.rezervisi(RezervacijaController.java:92) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.64.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.64.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1787) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>SQL scripts and tables:</p>\n<pre><code>CREATE TABLE `Musterija` (\n  `idMusterija` int NOT NULL AUTO_INCREMENT,\n  `ime` varchar(20) NOT NULL,\n  `prezime` varchar(50) NOT NULL,\n  `adresa` varchar(100) NOT NULL,\n  `email` varchar(200) NOT NULL,\n  `brTelefona` varchar(20) NOT NULL,\n  PRIMARY KEY (`idMusterija`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;\n\nCREATE TABLE `Upis` (\n  `idRezervacija` int NOT NULL,\n  `idMusterija` int NOT NULL,\n  KEY `fk_Upis_Musterija1_idx` (`idMusterija`),\n  KEY `fk_Upis_Rezervacija1_idx` (`idRezervacija`),\n  CONSTRAINT `fk_Upis_Musterija1` FOREIGN KEY (`idMusterija`) REFERENCES `Musterija` (`idMusterija`),\n  CONSTRAINT `fk_Upis_Rezervacija1` FOREIGN KEY (`idRezervacija`) REFERENCES `Rezervacija` (`idRezervacija`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;\n\nCREATE TABLE `Rezervacija` (\n  `idRezervacija` int NOT NULL AUTO_INCREMENT,\n  `brMusterija` int NOT NULL,\n  `datumRezervacije` datetime NOT NULL,\n  `cenaRezervacije` double NOT NULL,\n  `idSto` int NOT NULL,\n  `idUser` int NOT NULL,\n  PRIMARY KEY (`idRezervacija`),\n  KEY `fk_Rezervacija_Sto1_idx` (`idSto`),\n  KEY `fk_Rezervacija_User1_idx` (`idUser`),\n  CONSTRAINT `fk_Rezervacija_Sto1` FOREIGN KEY (`idSto`) REFERENCES `Sto` (`idSto`),\n  CONSTRAINT `fk_Rezervacija_User1` FOREIGN KEY (`idUser`) REFERENCES `User` (`idUser`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/AnVrT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AnVrT.png\" alt=\"tables\" /></a></p>\n<p>Rezervacija.java:</p>\n<pre><code>@Entity\n@NamedQuery(name=&quot;Rezervacija.findAll&quot;, query=&quot;SELECT r FROM Rezervacija r&quot;)\npublic class Rezervacija implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private int idRezervacija;\n\n    private int brMusterija;\n\n    private double cenaRezervacije;\n\n    @Temporal(TemporalType.TIMESTAMP)\n    private Date datumRezervacije;\n\n    //bi-directional many-to-many association to Musterija\n    @ManyToMany\n    @JoinTable(\n        name=&quot;Upis&quot;\n        , joinColumns={\n            @JoinColumn(name=&quot;idRezervacija&quot;)\n            }\n        , inverseJoinColumns={\n            @JoinColumn(name=&quot;idMusterija&quot;)\n            }\n        )\n    private List&lt;Musterija&gt; musterijas;\n\n    //bi-directional many-to-one association to Sto\n    @ManyToOne\n    @JoinColumn(name=&quot;idSto&quot;)\n    private Sto sto;\n\n    //bi-directional many-to-one association to User\n    @ManyToOne\n    @JoinColumn(name=&quot;idUser&quot;)\n    private User user;\n\n    //bi-directional many-to-one association to Upis\n    @OneToMany(mappedBy=&quot;rezervacija&quot;)\n    private List&lt;Upis&gt; upis;\n\n    public Rezervacija() {\n    }\n\n    public int getIdRezervacija() {\n        return this.idRezervacija;\n    }\n\n    public void setIdRezervacija(int idRezervacija) {\n        this.idRezervacija = idRezervacija;\n    }\n\n    public int getBrMusterija() {\n        return this.brMusterija;\n    }\n\n    public void setBrMusterija(int brMusterija) {\n        this.brMusterija = brMusterija;\n    }\n\n    public double getCenaRezervacije() {\n        return this.cenaRezervacije;\n    }\n\n    public void setCenaRezervacije(double cenaRezervacije) {\n        this.cenaRezervacije = cenaRezervacije;\n    }\n\n    public Date getDatumRezervacije() {\n        return this.datumRezervacije;\n    }\n\n    public void setDatumRezervacije(Date datumRezervacije) {\n        this.datumRezervacije = datumRezervacije;\n    }\n\n    public List&lt;Musterija&gt; getMusterijas() {\n        return this.musterijas;\n    }\n\n    public void setMusterijas(List&lt;Musterija&gt; musterijas) {\n        this.musterijas = musterijas;\n    }\n\n    public Sto getSto() {\n        return this.sto;\n    }\n\n    public void setSto(Sto sto) {\n        this.sto = sto;\n    }\n\n    public User getUser() {\n        return this.user;\n    }\n\n    public void setUser(User user) {\n        this.user = user;\n    }\n\n    public List&lt;Upis&gt; getUpis() {\n        return this.upis;\n    }\n\n    public void setUpis(List&lt;Upis&gt; upis) {\n        this.upis = upis;\n    }\n\n    public Upis addUpi(Upis upi) {\n        getUpis().add(upi);\n        upi.setRezervacija(this);\n\n        return upi;\n    }\n\n    public Upis removeUpi(Upis upi) {\n        getUpis().remove(upi);\n        upi.setRezervacija(null);\n\n        return upi;\n    }\n\n}\n</code></pre>\n<p>Sto.java:</p>\n<pre><code>@Entity\n@NamedQuery(name=&quot;Sto.findAll&quot;, query=&quot;SELECT s FROM Sto s&quot;)\npublic class Sto implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private int idSto;\n\n    private int brMesta;\n\n    //bi-directional many-to-one association to Rezervacija\n    @OneToMany(mappedBy=&quot;sto&quot;)\n    private List&lt;Rezervacija&gt; rezervacijas;\n\n    public Sto() {\n    }\n\n    public int getIdSto() {\n        return this.idSto;\n    }\n\n    public void setIdSto(int idSto) {\n        this.idSto = idSto;\n    }\n\n    public int getBrMesta() {\n        return this.brMesta;\n    }\n\n    public void setBrMesta(int brMesta) {\n        this.brMesta = brMesta;\n    }\n\n    public List&lt;Rezervacija&gt; getRezervacijas() {\n        return this.rezervacijas;\n    }\n\n    public void setRezervacijas(List&lt;Rezervacija&gt; rezervacijas) {\n        this.rezervacijas = rezervacijas;\n    }\n\n    public Rezervacija addRezervacija(Rezervacija rezervacija) {\n        getRezervacijas().add(rezervacija);\n        rezervacija.setSto(this);\n\n        return rezervacija;\n    }\n\n    public Rezervacija removeRezervacija(Rezervacija rezervacija) {\n        getRezervacijas().remove(rezervacija);\n        rezervacija.setSto(null);\n\n        return rezervacija;\n    }\n\n}\n</code></pre>\n<p>Upis.java:</p>\n<pre><code>@Entity\n@NamedQuery(name=&quot;Upis.findAll&quot;, query=&quot;SELECT u FROM Upis u&quot;)\npublic class Upis implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @EmbeddedId\n    private UpisPK id;\n\n    //bi-directional many-to-one association to Musterija\n    @ManyToOne\n    @JoinColumn(name=&quot;idMusterija&quot;, insertable = false, updatable = false)\n    private Musterija musterija;\n\n    //bi-directional many-to-one association to Rezervacija\n    @ManyToOne\n    @JoinColumn(name=&quot;idRezervacija&quot;, insertable = false, updatable = false)\n    private Rezervacija rezervacija;\n\n    public Upis() {\n    }\n\n    public UpisPK getId() {\n        return this.id;\n    }\n\n    public void setId(UpisPK id) {\n        this.id = id;\n    }\n\n    public Musterija getMusterija() {\n        return this.musterija;\n    }\n\n    public void setMusterija(Musterija musterija) {\n        this.musterija = musterija;\n    }\n\n    public Rezervacija getRezervacija() {\n        return this.rezervacija;\n    }\n\n    public void setRezervacija(Rezervacija rezervacija) {\n        this.rezervacija = rezervacija;\n    }\n\n}\n</code></pre>\n<p>UpisPK.java:</p>\n<pre><code>@Embeddable\npublic class UpisPK implements Serializable {\n    //default serial version id, required for serializable classes.\n    private static final long serialVersionUID = 1L;\n\n    @Column(insertable=false, updatable=false)\n    private int idRezervacija;\n\n    @Column(insertable=false, updatable=false)\n    private int idMusterija;\n\n    public UpisPK() {\n    }\n    public int getIdRezervacija() {\n        return this.idRezervacija;\n    }\n    public void setIdRezervacija(int idRezervacija) {\n        this.idRezervacija = idRezervacija;\n    }\n    public int getIdMusterija() {\n        return this.idMusterija;\n    }\n    public void setIdMusterija(int idMusterija) {\n        this.idMusterija = idMusterija;\n    }\n\n    public boolean equals(Object other) {\n        if (this == other) {\n            return true;\n        }\n        if (!(other instanceof UpisPK)) {\n            return false;\n        }\n        UpisPK castOther = (UpisPK)other;\n        return \n            (this.idRezervacija == castOther.idRezervacija)\n            &amp;&amp; (this.idMusterija == castOther.idMusterija);\n    }\n\n    public int hashCode() {\n        final int prime = 31;\n        int hash = 17;\n        hash = hash * prime + this.idRezervacija;\n        hash = hash * prime + this.idMusterija;\n        \n        return hash;\n    }\n}\n</code></pre>\n<p>Musterija.java:</p>\n<pre><code>@Entity\n@NamedQuery(name=&quot;Musterija.findAll&quot;, query=&quot;SELECT m FROM Musterija m&quot;)\npublic class Musterija implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private int idMusterija;\n\n    private String adresa;\n\n    private String brTelefona;\n\n    private String email;\n\n    private String ime;\n\n    private String prezime;\n\n    //bi-directional many-to-one association to Narudzbina\n    @OneToMany(mappedBy=&quot;musterija&quot;)\n    private List&lt;Narudzbina&gt; narudzbinas;\n\n    //bi-directional many-to-many association to Rezervacija\n    @ManyToMany(mappedBy=&quot;musterijas&quot;)\n    private List&lt;Rezervacija&gt; rezervacijas;\n\n    //bi-directional many-to-one association to Upis\n    @OneToMany(mappedBy=&quot;musterija&quot;)\n    private List&lt;Upis&gt; upis;\n\n    public Musterija() {\n    }\n\n    public int getIdMusterija() {\n        return this.idMusterija;\n    }\n\n    public void setIdMusterija(int idMusterija) {\n        this.idMusterija = idMusterija;\n    }\n\n    public String getAdresa() {\n        return this.adresa;\n    }\n\n    public void setAdresa(String adresa) {\n        this.adresa = adresa;\n    }\n\n    public String getBrTelefona() {\n        return this.brTelefona;\n    }\n\n    public void setBrTelefona(String brTelefona) {\n        this.brTelefona = brTelefona;\n    }\n\n    public String getEmail() {\n        return this.email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getIme() {\n        return this.ime;\n    }\n\n    public void setIme(String ime) {\n        this.ime = ime;\n    }\n\n    public String getPrezime() {\n        return this.prezime;\n    }\n\n    public void setPrezime(String prezime) {\n        this.prezime = prezime;\n    }\n\n    public List&lt;Narudzbina&gt; getNarudzbinas() {\n        return this.narudzbinas;\n    }\n\n    public void setNarudzbinas(List&lt;Narudzbina&gt; narudzbinas) {\n        this.narudzbinas = narudzbinas;\n    }\n\n    public Narudzbina addNarudzbina(Narudzbina narudzbina) {\n        getNarudzbinas().add(narudzbina);\n        narudzbina.setMusterija(this);\n\n        return narudzbina;\n    }\n\n    public Narudzbina removeNarudzbina(Narudzbina narudzbina) {\n        getNarudzbinas().remove(narudzbina);\n        narudzbina.setMusterija(null);\n\n        return narudzbina;\n    }\n\n    public List&lt;Rezervacija&gt; getRezervacijas() {\n        return this.rezervacijas;\n    }\n\n    public void setRezervacijas(List&lt;Rezervacija&gt; rezervacijas) {\n        this.rezervacijas = rezervacijas;\n    }\n\n    public List&lt;Upis&gt; getUpis() {\n        return this.upis;\n    }\n\n    public void setUpis(List&lt;Upis&gt; upis) {\n        this.upis = upis;\n    }\n\n    public Upis addUpi(Upis upi) {\n        getUpis().add(upi);\n        upi.setMusterija(this);\n\n        return upi;\n    }\n\n    public Upis removeUpi(Upis upi) {\n        getUpis().remove(upi);\n        upi.setMusterija(null);\n\n        return upi;\n    }\n\n}\n</code></pre>\n<p>RezervacijaController.java:</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/rezervacije&quot;)\npublic class RezervacijaController {\n\n    @Autowired\n    RezervacijaRepository rr;\n    @Autowired\n    MusterijaRepository mr;\n    @Autowired\n    StoRepository sr;\n    @Autowired\n    UpisRepository ur;\n\n    @GetMapping(value = &quot;popuniStolove&quot;)\n    public String popuniStolove(HttpServletRequest request) {\n        List&lt;Sto&gt; stolovi = sr.findAll();\n        request.setAttribute(&quot;stolovi&quot;, stolovi);\n        return &quot;rezervacijaStola&quot;;\n    }\n    \n    @PostMapping(value = &quot;unesiRezervaciju&quot;)\n    public String unesiRezervaciju(Integer brMusterija, Date datum, Sto sto, HttpServletRequest request) {\n        Rezervacija r = new Rezervacija();\n        r.setBrMusterija(brMusterija);\n        r.setCenaRezervacije(800.0 * brMusterija);\n        r.setDatumRezervacije(datum);\n        sto.addRezervacija(r);\n        sr.updateSto(sto);\n        \n        List&lt;Musterija&gt; musterije = new ArrayList&lt;Musterija&gt;();\n        request.getSession().setAttribute(&quot;musterije&quot;, musterije);\n        request.getSession().setAttribute(&quot;rezervacija&quot;, r);\n        return &quot;unosMusterija&quot;;\n    }\n    \n    @SuppressWarnings(&quot;unchecked&quot;)\n    @PostMapping(value = &quot;/dodajMusteriju&quot;)\n    public String dodajMusteriju(String ime, String prezime, String adresa, String email, String brTelefona, HttpServletRequest request) {\n        List&lt;Musterija&gt; musterije = (ArrayList&lt;Musterija&gt;) request.getSession().getAttribute(&quot;musterije&quot;);\n        Musterija m = new Musterija();\n        m.setIme(ime);\n        m.setPrezime(prezime);\n        m.setAdresa(adresa);\n        m.setEmail(email);\n        m.setBrTelefona(brTelefona);\n        musterije.add(m);\n        request.setAttribute(&quot;musterije&quot;, musterije);\n        return &quot;unosMusterija&quot;;\n    }\n    \n    @SuppressWarnings(&quot;unchecked&quot;)\n    @PostMapping(value = &quot;rezervisi&quot;)\n    public String rezervisi(HttpServletRequest request) {\n        Rezervacija r = (Rezervacija) request.getSession().getAttribute(&quot;rezervacija&quot;);\n        List&lt;Musterija&gt; musterije = (ArrayList&lt;Musterija&gt;) request.getSession().getAttribute(&quot;musterije&quot;);\n        \n        for (Musterija m : musterije) {\n            Upis upis = new Upis();\n            UpisPK uPK = new UpisPK();\n            uPK.setIdMusterija(m.getIdMusterija());\n            uPK.setIdRezervacija(r.getIdRezervacija());\n            upis.setId(uPK);\n            ur.save(upis);\n            mr.save(m);\n        }\n        \n        rr.save(r);\n        return &quot;uspehRezervacija&quot;;\n    }\n    \n    @InitBinder\n    public void initBinder(WebDataBinder binder) {\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n        sdf.setLenient(true);\n        binder.registerCustomEditor(Date.class, new CustomDateEditor(sdf, true));\n    }\n\n}\n</code></pre>\n<p>Repositories:</p>\n<pre><code>public interface UpisRepository extends JpaRepository&lt;Upis, UpisPK&gt; {\n\n}\n</code></pre>\n<pre><code>@Repository\n@Transactional\npublic class StoRepoSpecificImpl implements StoRepoSpecific {\n\n    @PersistenceContext\n    EntityManager em;\n\n    @Override\n    public void updateSto(Sto sto) {\n        try {\n            em.merge(sto);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n<pre><code>public interface StoRepoSpecific {\n\n    public void updateSto(Sto sto);\n    \n}\n</code></pre>\n<pre><code>public interface StoRepository extends JpaRepository&lt;Sto, Integer&gt;, StoRepoSpecific {\n\n}\n</code></pre>\n<p>You can see my public <a href=\"https://github.com/IgorArnaut/MIS-Picerija\" rel=\"nofollow noreferrer\">project</a> on Github.</p>\n"},{"tags":["java","aem","parent","groovy-console"],"answers":[{"tags":[],"owner":{"account_id":1503775,"reputation":18065,"user_id":1407656,"accept_rate":81,"display_name":"toniedzwiedz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657660620,"creation_date":1657577854,"answer_id":72945204,"question_id":72942828,"body_markdown":"The idiomatic way to find the `Page` containing a resource would be via [`PageManager#getContainingPage`](https://developer.adobe.com/experience-manager/reference-materials/6-4/javadoc/com/day/cq/wcm/api/PageManager.html#getContainingPage-org.apache.sling.api.resource.Resource-).\r\n\r\nOnce you&#39;ve got a `Page` object, you can read the relevant title. Keep in mind that there are a few options to choose from:\r\n- [`title`](https://developer.adobe.com/experience-manager/reference-materials/6-4/javadoc/com/day/cq/wcm/api/Page.html#getTitle--)\r\n- [`pageTitle`](https://developer.adobe.com/experience-manager/reference-materials/6-4/javadoc/com/day/cq/wcm/api/Page.html#getPageTitle--)\r\n- [`navigationTitle`](https://developer.adobe.com/experience-manager/reference-materials/6-4/javadoc/com/day/cq/wcm/api/Page.html#getNavigationTitle--)\r\n\r\nThey can map to different dialog fields in the Page properties and certain components may use them differently, sometimes using fallbacks from one to another in case a value is absent. Same goes for different page-level components which may or may not allow authors to set a given property.\r\n\r\nThe exact use should be [pretty clear if you use AEM Core Components](https://github.com/adobe/aem-core-wcm-components/pull/834/files) but custom components may need a bit of investigation, especially if you&#39;re dealing with a long-lived codebase.\r\n\r\nIf none of the titles is a good fit, you could use the [`name` of the page](https://developer.adobe.com/experience-manager/reference-materials/6-5/javadoc/com/day/cq/wcm/api/Page.html#getName--) which should match its node name in the repository.\r\n\r\nThe `PageManager` itself should be available as a [default binding in the Groovy console, under `pageManager`](https://github.com/CID15/aem-groovy-console/blob/0efb96bef6239a46fa9c2664fbb68e21a56213c8/bundle/src/main/groovy/org/cid15/aem/groovy/console/extension/impl/DefaultBindingExtensionProvider.groovy#L43). Alternatively, it can be adapted from a `ResourceResolver`, e.g. if you need some custom permissions.","title":"How to find parent node with specific name?","body":"<p>The idiomatic way to find the <code>Page</code> containing a resource would be via <a href=\"https://developer.adobe.com/experience-manager/reference-materials/6-4/javadoc/com/day/cq/wcm/api/PageManager.html#getContainingPage-org.apache.sling.api.resource.Resource-\" rel=\"nofollow noreferrer\"><code>PageManager#getContainingPage</code></a>.</p>\n<p>Once you've got a <code>Page</code> object, you can read the relevant title. Keep in mind that there are a few options to choose from:</p>\n<ul>\n<li><a href=\"https://developer.adobe.com/experience-manager/reference-materials/6-4/javadoc/com/day/cq/wcm/api/Page.html#getTitle--\" rel=\"nofollow noreferrer\"><code>title</code></a></li>\n<li><a href=\"https://developer.adobe.com/experience-manager/reference-materials/6-4/javadoc/com/day/cq/wcm/api/Page.html#getPageTitle--\" rel=\"nofollow noreferrer\"><code>pageTitle</code></a></li>\n<li><a href=\"https://developer.adobe.com/experience-manager/reference-materials/6-4/javadoc/com/day/cq/wcm/api/Page.html#getNavigationTitle--\" rel=\"nofollow noreferrer\"><code>navigationTitle</code></a></li>\n</ul>\n<p>They can map to different dialog fields in the Page properties and certain components may use them differently, sometimes using fallbacks from one to another in case a value is absent. Same goes for different page-level components which may or may not allow authors to set a given property.</p>\n<p>The exact use should be <a href=\"https://github.com/adobe/aem-core-wcm-components/pull/834/files\" rel=\"nofollow noreferrer\">pretty clear if you use AEM Core Components</a> but custom components may need a bit of investigation, especially if you're dealing with a long-lived codebase.</p>\n<p>If none of the titles is a good fit, you could use the <a href=\"https://developer.adobe.com/experience-manager/reference-materials/6-5/javadoc/com/day/cq/wcm/api/Page.html#getName--\" rel=\"nofollow noreferrer\"><code>name</code> of the page</a> which should match its node name in the repository.</p>\n<p>The <code>PageManager</code> itself should be available as a <a href=\"https://github.com/CID15/aem-groovy-console/blob/0efb96bef6239a46fa9c2664fbb68e21a56213c8/bundle/src/main/groovy/org/cid15/aem/groovy/console/extension/impl/DefaultBindingExtensionProvider.groovy#L43\" rel=\"nofollow noreferrer\">default binding in the Groovy console, under <code>pageManager</code></a>. Alternatively, it can be adapted from a <code>ResourceResolver</code>, e.g. if you need some custom permissions.</p>\n"}],"owner":{"account_id":24216315,"reputation":1,"user_id":18172141,"display_name":"alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657660620,"creation_date":1657562471,"question_id":72942828,"body_markdown":"    def query = SQLQuery() &lt;- my sql query\r\n    def result = query.execute()\r\n    result.nodes.each{node -&gt; \r\n        node.setProperty(JcrConstants.JCR_TITLE, &quot;new3&quot;)\r\n\r\nI found all components with a certain resource type using groovy consoly, and I need to replace their titles with the titles of the pages in which this component is located.\r\nI need to use parent node named `jcr:content`\r\n\r\nInstead of &quot;new3&quot; i can use `node.getParent().getParent().getParent().getProperty(&quot;jcr:title&quot;)`,but pages can have different structures. So, how to find parent node by name ?","title":"How to find parent node with specific name?","body":"<pre><code>def query = SQLQuery() &lt;- my sql query\ndef result = query.execute()\nresult.nodes.each{node -&gt; \n    node.setProperty(JcrConstants.JCR_TITLE, &quot;new3&quot;)\n</code></pre>\n<p>I found all components with a certain resource type using groovy consoly, and I need to replace their titles with the titles of the pages in which this component is located.\nI need to use parent node named <code>jcr:content</code></p>\n<p>Instead of &quot;new3&quot; i can use <code>node.getParent().getParent().getParent().getProperty(&quot;jcr:title&quot;)</code>,but pages can have different structures. So, how to find parent node by name ?</p>\n"},{"tags":["java","gpx","jenetics"],"answers":[{"tags":[],"owner":{"account_id":464675,"reputation":834,"user_id":868337,"display_name":"Franz Wilhelmst&#246;tter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657660417,"creation_date":1657575220,"answer_id":72944894,"question_id":72944526,"body_markdown":"If you pause your run, your watch should create a new  track-segment, like\r\n```xml\r\n&lt;trk&gt;\r\n\t&lt;trkseg&gt;\r\n\t\t&lt;trkpt lat=&quot;48.19949341&quot; lon=&quot;16.40377444&quot;&gt;&lt;/trkpt&gt;\r\n\t\t&lt;trkpt lat=&quot;48.19948359&quot; lon=&quot;16.40371021&quot;&gt;&lt;/trkpt&gt;\r\n\t\t...\r\n\t&lt;/trkseg&gt;\r\n\t&lt;trkseg&gt;\r\n\t\t&lt;trkpt lat=&quot;48.19949341&quot; lon=&quot;16.40377444&quot;&gt;&lt;/trkpt&gt;\r\n\t\t&lt;trkpt lat=&quot;48.19948359&quot; lon=&quot;16.40371021&quot;&gt;&lt;/trkpt&gt;\r\n\t\t...\r\n\t&lt;/trkseg&gt;\t\r\n&lt;/trk&gt;\r\n```\r\n\r\nThe JPX library lets you access the track-segments via `Gpx -&gt; getTracks -&gt; getTrackSegments`. In your example your watch should have created one track with two track-segments. The track-segments will contain the track-points before and after the stop.\r\n\r\n**Update: TrackSegment collector**\r\n\r\nThe following code lets you collect way-points into track-segments.\r\n```java\r\nimport static java.lang.String.format;\r\n\r\nimport java.io.IOException;\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.stream.Collector;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.Stream;\r\n\r\nimport io.jenetics.jpx.GPX;\r\nimport io.jenetics.jpx.Track;\r\nimport io.jenetics.jpx.TrackSegment;\r\nimport io.jenetics.jpx.WayPoint;\r\n\r\npublic final class TrackSegments {\r\n    private TrackSegments() {\r\n    }\r\n\r\n    /**\r\n     * Return a new collector, which collects a given way point list into a list\r\n     * of {@link TrackSegment}s. All way points without a timestamp are filtered\r\n     * out. A new segment is created if the timestamp of two consecutive points\r\n     * are greater than the give {@code maxGap} duration. Each segment will\r\n     * contain at least {@code minSegmentSize} points.\r\n     *\r\n     * @param maxGap the maximal allowed gap between two points within a\r\n     *        track segment. If two points exceed the given gap, a new segment\r\n     *        is created.\r\n     * @param minSegmentSize the minimal number of way points a segment must\r\n     *        consist\r\n     * @return a new track segment collector\r\n     * @throws NullPointerException if the given {@code maxGap} is {@code null}\r\n     * @throws IllegalArgumentException if the {@code maxGap} or\r\n     *         {@code minSegmentSize} is negative\r\n     */\r\n    public static Collector&lt;WayPoint, ?, List&lt;TrackSegment&gt;&gt;\r\n    toTrackSegments(final Duration maxGap, final int minSegmentSize) {\r\n        if (maxGap.isNegative()) {\r\n            throw new IllegalArgumentException(format(\r\n                &quot;The maximal allowed point gap must not be negative: %s&quot;,\r\n                maxGap\r\n            ));\r\n        }\r\n        if (minSegmentSize &lt; 1) {\r\n            throw new IllegalArgumentException(format(\r\n                &quot;The minimal track segment size must be greater 0, but was %d.&quot;,\r\n                minSegmentSize\r\n            ));\r\n        }\r\n\r\n        return Collectors.collectingAndThen(\r\n            Collectors.toList(),\r\n            points -&gt; toTrackSegments(points, maxGap, minSegmentSize)\r\n        );\r\n    }\r\n\r\n    private static List&lt;TrackSegment&gt; toTrackSegments(\r\n        final List&lt;WayPoint&gt; points,\r\n        final Duration gap,\r\n        final int minSegmentSize\r\n    ) {\r\n        final List&lt;WayPoint&gt; wps = points.stream()\r\n            .filter(wp -&gt; wp.getTime().isPresent())\r\n            .toList();\r\n\r\n        if (wps.size() &lt; minSegmentSize) {\r\n            return List.of();\r\n        }\r\n\r\n        final List&lt;TrackSegment&gt; segments = new ArrayList&lt;&gt;();\r\n        Instant last = wps.get(0).getTime().orElseThrow();\r\n        TrackSegment.Builder segment = TrackSegment.builder();\r\n\r\n        for (final WayPoint point : wps) {\r\n            final Instant zdt = point.getTime().orElseThrow();\r\n\r\n            if (last.plusNanos(gap.toNanos()).isAfter(zdt)) {\r\n                segment.addPoint(point);\r\n            } else {\r\n                if (segment.points().size() &gt;= minSegmentSize) {\r\n                    segments.add(segment.build());\r\n                }\r\n                segment = TrackSegment.builder();\r\n            }\r\n\r\n            last = zdt;\r\n        }\r\n\r\n        if (segment.points().size() &gt;= minSegmentSize) {\r\n            segments.add(segment.build());\r\n        }\r\n\r\n        return segments;\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        final GPX gpx = GPX.Reader.DEFAULT.read(&quot;some_file.gpx&quot;);\r\n\r\n        final Stream&lt;WayPoint&gt; points = gpx.tracks()\r\n            .flatMap(Track::segments)\r\n            .flatMap(TrackSegment::points);\r\n\r\n        final List&lt;TrackSegment&gt; segments = points\r\n            .collect(toTrackSegments(Duration.ofMinutes(1), 10));\r\n    }\r\n\r\n}\r\n```","title":"Jenetics jpx. Read gpx file and time when watch was stopped","body":"<p>If you pause your run, your watch should create a new  track-segment, like</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;trk&gt;\n    &lt;trkseg&gt;\n        &lt;trkpt lat=&quot;48.19949341&quot; lon=&quot;16.40377444&quot;&gt;&lt;/trkpt&gt;\n        &lt;trkpt lat=&quot;48.19948359&quot; lon=&quot;16.40371021&quot;&gt;&lt;/trkpt&gt;\n        ...\n    &lt;/trkseg&gt;\n    &lt;trkseg&gt;\n        &lt;trkpt lat=&quot;48.19949341&quot; lon=&quot;16.40377444&quot;&gt;&lt;/trkpt&gt;\n        &lt;trkpt lat=&quot;48.19948359&quot; lon=&quot;16.40371021&quot;&gt;&lt;/trkpt&gt;\n        ...\n    &lt;/trkseg&gt;   \n&lt;/trk&gt;\n</code></pre>\n<p>The JPX library lets you access the track-segments via <code>Gpx -&gt; getTracks -&gt; getTrackSegments</code>. In your example your watch should have created one track with two track-segments. The track-segments will contain the track-points before and after the stop.</p>\n<p><strong>Update: TrackSegment collector</strong></p>\n<p>The following code lets you collect way-points into track-segments.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static java.lang.String.format;\n\nimport java.io.IOException;\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.stream.Collector;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\nimport io.jenetics.jpx.GPX;\nimport io.jenetics.jpx.Track;\nimport io.jenetics.jpx.TrackSegment;\nimport io.jenetics.jpx.WayPoint;\n\npublic final class TrackSegments {\n    private TrackSegments() {\n    }\n\n    /**\n     * Return a new collector, which collects a given way point list into a list\n     * of {@link TrackSegment}s. All way points without a timestamp are filtered\n     * out. A new segment is created if the timestamp of two consecutive points\n     * are greater than the give {@code maxGap} duration. Each segment will\n     * contain at least {@code minSegmentSize} points.\n     *\n     * @param maxGap the maximal allowed gap between two points within a\n     *        track segment. If two points exceed the given gap, a new segment\n     *        is created.\n     * @param minSegmentSize the minimal number of way points a segment must\n     *        consist\n     * @return a new track segment collector\n     * @throws NullPointerException if the given {@code maxGap} is {@code null}\n     * @throws IllegalArgumentException if the {@code maxGap} or\n     *         {@code minSegmentSize} is negative\n     */\n    public static Collector&lt;WayPoint, ?, List&lt;TrackSegment&gt;&gt;\n    toTrackSegments(final Duration maxGap, final int minSegmentSize) {\n        if (maxGap.isNegative()) {\n            throw new IllegalArgumentException(format(\n                &quot;The maximal allowed point gap must not be negative: %s&quot;,\n                maxGap\n            ));\n        }\n        if (minSegmentSize &lt; 1) {\n            throw new IllegalArgumentException(format(\n                &quot;The minimal track segment size must be greater 0, but was %d.&quot;,\n                minSegmentSize\n            ));\n        }\n\n        return Collectors.collectingAndThen(\n            Collectors.toList(),\n            points -&gt; toTrackSegments(points, maxGap, minSegmentSize)\n        );\n    }\n\n    private static List&lt;TrackSegment&gt; toTrackSegments(\n        final List&lt;WayPoint&gt; points,\n        final Duration gap,\n        final int minSegmentSize\n    ) {\n        final List&lt;WayPoint&gt; wps = points.stream()\n            .filter(wp -&gt; wp.getTime().isPresent())\n            .toList();\n\n        if (wps.size() &lt; minSegmentSize) {\n            return List.of();\n        }\n\n        final List&lt;TrackSegment&gt; segments = new ArrayList&lt;&gt;();\n        Instant last = wps.get(0).getTime().orElseThrow();\n        TrackSegment.Builder segment = TrackSegment.builder();\n\n        for (final WayPoint point : wps) {\n            final Instant zdt = point.getTime().orElseThrow();\n\n            if (last.plusNanos(gap.toNanos()).isAfter(zdt)) {\n                segment.addPoint(point);\n            } else {\n                if (segment.points().size() &gt;= minSegmentSize) {\n                    segments.add(segment.build());\n                }\n                segment = TrackSegment.builder();\n            }\n\n            last = zdt;\n        }\n\n        if (segment.points().size() &gt;= minSegmentSize) {\n            segments.add(segment.build());\n        }\n\n        return segments;\n    }\n\n    public static void main(String[] args) throws IOException {\n        final GPX gpx = GPX.Reader.DEFAULT.read(&quot;some_file.gpx&quot;);\n\n        final Stream&lt;WayPoint&gt; points = gpx.tracks()\n            .flatMap(Track::segments)\n            .flatMap(TrackSegment::points);\n\n        final List&lt;TrackSegment&gt; segments = points\n            .collect(toTrackSegments(Duration.ofMinutes(1), 10));\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":4910838,"reputation":357,"user_id":3956189,"accept_rate":30,"display_name":"Gilles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657660417,"creation_date":1657572585,"question_id":72944526,"body_markdown":"I am using jenetics jpx to read GPX files in java. That&#39;s works well.\r\nThe gpx files are taken from my watch, from running sessions.\r\nI am reading the track points and would like to know if there is a way to determine, in the GPX file, when the watch was stopped for a break.\r\nEx: if I run for 15minutes then stop the watch for 5 minutes, then start it again and run for 15minutes the parsing of the gpx file will give me 35 minutes.\r\nBut I want to record 30 minutes.\r\n\r\nDo you know if it is possible to detect this?","title":"Jenetics jpx. Read gpx file and time when watch was stopped","body":"<p>I am using jenetics jpx to read GPX files in java. That's works well.\nThe gpx files are taken from my watch, from running sessions.\nI am reading the track points and would like to know if there is a way to determine, in the GPX file, when the watch was stopped for a break.\nEx: if I run for 15minutes then stop the watch for 5 minutes, then start it again and run for 15minutes the parsing of the gpx file will give me 35 minutes.\nBut I want to record 30 minutes.</p>\n<p>Do you know if it is possible to detect this?</p>\n"},{"tags":["java","operating-system","jvm","webassembly","wasi"],"comments":[{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1623755861,"post_id":67985166,"comment_id":120163432,"body_markdown":"When you use Java, you can see the standard library as the system interface. You could call this a &quot;virtual operating system&quot;, although that&#39;s not how people commonly name it. Your question is one of those &quot;word game&quot; questions that gets asked sometimes - people sometimes assume that technical terms always have very exact meanings (which isn&#39;t so) and then get lost in the exact definition of a term. So: Conceptually the Java std lib and the WASI sys interface are similar, but don&#39;t get too hung up on the exact correspondence and differences.","body":"When you use Java, you can see the standard library as the system interface. You could call this a &quot;virtual operating system&quot;, although that&#39;s not how people commonly name it. Your question is one of those &quot;word game&quot; questions that gets asked sometimes - people sometimes assume that technical terms always have very exact meanings (which isn&#39;t so) and then get lost in the exact definition of a term. So: Conceptually the Java std lib and the WASI sys interface are similar, but don&#39;t get too hung up on the exact correspondence and differences."},{"owner":{"account_id":15894846,"reputation":649,"user_id":11468868,"display_name":"prohit"},"score":0,"creation_date":1623761009,"post_id":67985166,"comment_id":120165629,"body_markdown":"Thanks for your clarification. I&#39;m wondering how they differ in implementations. In WASI, supported functions that use system resources get compiled to their corresponding WASI counterpart. They are then provided from a WASI conform runtime, that is platform/os specific. How is it in Java? Do JVMs interpret methods that use std libs in the same abstract way and translate them to platform/os specific instructions?","body":"Thanks for your clarification. I&#39;m wondering how they differ in implementations. In WASI, supported functions that use system resources get compiled to their corresponding WASI counterpart. They are then provided from a WASI conform runtime, that is platform/os specific. How is it in Java? Do JVMs interpret methods that use std libs in the same abstract way and translate them to platform/os specific instructions?"}],"owner":{"account_id":15894846,"reputation":649,"user_id":11468868,"display_name":"prohit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":759,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1657659852,"creation_date":1623755498,"question_id":67985166,"body_markdown":"My question is if the JVM actually provides a virtual operating system too, similar to how WASI does. \r\n\r\nAs for my understand WASM and JVM are both virtual machines, providing an environment to execute some bytecode. Their aim is to abstract the *machine layer*, thus CPU (architecture) and its&#39; ISA. \r\n\r\nWASM itself has no access to other system resources (fs, networking, ...) because of it&#39;s sandbox design. That&#39;s where WASI, as an extension to WASM, provides an abstract *operating system layer*, so that system resources can be accessed.\r\n\r\nFor Java applications, I can use native (Java) APIs, such as java.io/java.nio or java.net, directly on the JVM.\r\n\r\nI understand that both approaches handle security differently. E.g. I do not need to provide access to a file myself to a Java application, but as with WASI I do need to. My question is rather if they conceptually provide similar levels of abstractions in case of the OS.\r\n\r\nsource to WASI: https://hacks.mozilla.org/2019/03/standardizing-wasi-a-webassembly-system-interface/\r\n\r\nEDIT: We continued discussing in the WASI repository. https://github.com/WebAssembly/WASI/issues/439","title":"WASI and JVM - OS Abstraction","body":"<p>My question is if the JVM actually provides a virtual operating system too, similar to how WASI does.</p>\n<p>As for my understand WASM and JVM are both virtual machines, providing an environment to execute some bytecode. Their aim is to abstract the <em>machine layer</em>, thus CPU (architecture) and its' ISA.</p>\n<p>WASM itself has no access to other system resources (fs, networking, ...) because of it's sandbox design. That's where WASI, as an extension to WASM, provides an abstract <em>operating system layer</em>, so that system resources can be accessed.</p>\n<p>For Java applications, I can use native (Java) APIs, such as java.io/java.nio or java.net, directly on the JVM.</p>\n<p>I understand that both approaches handle security differently. E.g. I do not need to provide access to a file myself to a Java application, but as with WASI I do need to. My question is rather if they conceptually provide similar levels of abstractions in case of the OS.</p>\n<p>source to WASI: <a href=\"https://hacks.mozilla.org/2019/03/standardizing-wasi-a-webassembly-system-interface/\" rel=\"nofollow noreferrer\">https://hacks.mozilla.org/2019/03/standardizing-wasi-a-webassembly-system-interface/</a></p>\n<p>EDIT: We continued discussing in the WASI repository. <a href=\"https://github.com/WebAssembly/WASI/issues/439\" rel=\"nofollow noreferrer\">https://github.com/WebAssembly/WASI/issues/439</a></p>\n"},{"tags":["java","spring","spring-boot","rest","spring-mvc"],"comments":[{"owner":{"display_name":"user19522422"},"score":0,"creation_date":1657655174,"post_id":72957432,"comment_id":128861120,"body_markdown":"Does anybody else never used a generic approach for these return types in Spring Boot?","body":"Does anybody else never used a generic approach for these return types in Spring Boot?"}],"answers":[{"tags":[],"owner":{"account_id":7767429,"reputation":674,"user_id":5878215,"display_name":"Zorglube"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657659421,"creation_date":1657655827,"answer_id":72957728,"question_id":72957432,"body_markdown":"Specific ExceptionHandler: \r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/products&quot;)\r\n    public class ProductController {\r\n    \r\n      @Autowierd private ProductService productService; \r\n      \r\n      @GetMapping(&quot;/{code}&quot;)\r\n      public ResponseEntity&lt;Product&gt; findByCode(@PathVariable String code) {\r\n        return productService.findByCode(code).map(ResponseEntity::ok).orElseThrow(() -&gt; NoContentException::new);\r\n      }\r\n    \r\n       @ExceptionHandler(NoContentException.class)\r\n       public ResponseEntity handleNoContent(NoContentException e) {\r\n         return ResponseEntity.status(HttpStatus.NO_CONTENT).body(new ResponseMessage(&quot;No data&quot;));\r\n       }\r\n    }\r\n\r\nOr Common ExceptionHandler :\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/products&quot;)\r\n    public class ProductController {\r\n    \r\n      @Autowierd private ProductService productService; \r\n      \r\n      @GetMapping(&quot;/{code}&quot;)\r\n      public ResponseEntity&lt;Product&gt; findByCode(@PathVariable String code) {\r\n        return productService.findByCode(code).map(ResponseEntity::ok).orElseThrow(() -&gt; NoContentException::new);\r\n      }\r\n    }\r\n\r\nPlus : \r\n\r\n    @ControllerAdvice\r\n    public class CommonExceptionHandler extends ResponseEntityExceptionHandler {\r\n    \r\n       @ExceptionHandler(MaxUploadSizeExceededException.class)\r\n       public ResponseEntity handleMaxSizeException(MaxUploadSizeExceededException e) {\r\n         return ResponseEntity.status(HttpStatus.EXPECTATION_FAILED).body(new ResponseMessage(&quot;Too large!&quot;));\r\n       }\r\n\r\n       @ExceptionHandler(NoContentException.class)\r\n       public ResponseEntity handleNoContent(NoContentException e) {\r\n         return ResponseEntity.status(HttpStatus.NO_CONTENT).body(new ResponseMessage(&quot;No data&quot;));\r\n       }\r\n    }","title":"Best way to return ResponseEntity with data, empty and error in Spring Boot?","body":"<p>Specific ExceptionHandler:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/products&quot;)\npublic class ProductController {\n\n  @Autowierd private ProductService productService; \n  \n  @GetMapping(&quot;/{code}&quot;)\n  public ResponseEntity&lt;Product&gt; findByCode(@PathVariable String code) {\n    return productService.findByCode(code).map(ResponseEntity::ok).orElseThrow(() -&gt; NoContentException::new);\n  }\n\n   @ExceptionHandler(NoContentException.class)\n   public ResponseEntity handleNoContent(NoContentException e) {\n     return ResponseEntity.status(HttpStatus.NO_CONTENT).body(new ResponseMessage(&quot;No data&quot;));\n   }\n}\n</code></pre>\n<p>Or Common ExceptionHandler :</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/products&quot;)\npublic class ProductController {\n\n  @Autowierd private ProductService productService; \n  \n  @GetMapping(&quot;/{code}&quot;)\n  public ResponseEntity&lt;Product&gt; findByCode(@PathVariable String code) {\n    return productService.findByCode(code).map(ResponseEntity::ok).orElseThrow(() -&gt; NoContentException::new);\n  }\n}\n</code></pre>\n<p>Plus :</p>\n<pre><code>@ControllerAdvice\npublic class CommonExceptionHandler extends ResponseEntityExceptionHandler {\n\n   @ExceptionHandler(MaxUploadSizeExceededException.class)\n   public ResponseEntity handleMaxSizeException(MaxUploadSizeExceededException e) {\n     return ResponseEntity.status(HttpStatus.EXPECTATION_FAILED).body(new ResponseMessage(&quot;Too large!&quot;));\n   }\n\n   @ExceptionHandler(NoContentException.class)\n   public ResponseEntity handleNoContent(NoContentException e) {\n     return ResponseEntity.status(HttpStatus.NO_CONTENT).body(new ResponseMessage(&quot;No data&quot;));\n   }\n}\n</code></pre>\n"}],"owner":{"display_name":"user19522422"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3552,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657659421,"creation_date":1657653997,"question_id":72957432,"body_markdown":"I am trying to implement a generic approach that can be used for each return types from Service to Controller in my Spring Boot app. After searching and reading several threads and articles, I see that I need an approach with `@ControllerAdvice` and `@ExceptionHandler` annotations. \r\n\r\nFor exception, I created the following class:\r\n\r\n\r\n```\r\n@ControllerAdvice\r\npublic class FileUploadException extends ResponseEntityExceptionHandler {\r\n\r\n    @SuppressWarnings(&quot;rawtypes&quot;)\r\n    @ExceptionHandler(MaxUploadSizeExceededException.class)\r\n    public ResponseEntity handleMaxSizeException(MaxUploadSizeExceededException e) {\r\n        return ResponseEntity.status(HttpStatus.EXPECTATION_FAILED)\r\n                   .body(new ResponseMessage(&quot;Too large!&quot;));\r\n    }\r\n}\r\n```\r\n\r\nHowever, I am not sure if it is ok and how I should treat `Optional.empty()` results in my Service and Controller. So, could you please suggest me a proper approach or give an example that is used for exception, result with data and result with `Optional.empty()` ? \r\n\r\nPlease note that I have the following articles, but they are too old and I am not sure if these approach are still good or there is a better approach with the new versions of Spring Boot, etc? \r\n\r\n[Guide to Spring Boot REST API Error Handling](https://www.toptal.com/java/spring-boot-rest-api-error-handling)\r\n\r\n[Exception Handling in Spring MVC](https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc)\r\n","title":"Best way to return ResponseEntity with data, empty and error in Spring Boot?","body":"<p>I am trying to implement a generic approach that can be used for each return types from Service to Controller in my Spring Boot app. After searching and reading several threads and articles, I see that I need an approach with <code>@ControllerAdvice</code> and <code>@ExceptionHandler</code> annotations.</p>\n<p>For exception, I created the following class:</p>\n<pre><code>@ControllerAdvice\npublic class FileUploadException extends ResponseEntityExceptionHandler {\n\n    @SuppressWarnings(&quot;rawtypes&quot;)\n    @ExceptionHandler(MaxUploadSizeExceededException.class)\n    public ResponseEntity handleMaxSizeException(MaxUploadSizeExceededException e) {\n        return ResponseEntity.status(HttpStatus.EXPECTATION_FAILED)\n                   .body(new ResponseMessage(&quot;Too large!&quot;));\n    }\n}\n</code></pre>\n<p>However, I am not sure if it is ok and how I should treat <code>Optional.empty()</code> results in my Service and Controller. So, could you please suggest me a proper approach or give an example that is used for exception, result with data and result with <code>Optional.empty()</code> ?</p>\n<p>Please note that I have the following articles, but they are too old and I am not sure if these approach are still good or there is a better approach with the new versions of Spring Boot, etc?</p>\n<p><a href=\"https://www.toptal.com/java/spring-boot-rest-api-error-handling\" rel=\"nofollow noreferrer\">Guide to Spring Boot REST API Error Handling</a></p>\n<p><a href=\"https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc\" rel=\"nofollow noreferrer\">Exception Handling in Spring MVC</a></p>\n"},{"tags":["java","frameworks","microservices","profile","micronaut"],"answers":[{"tags":[],"owner":{"account_id":4129849,"reputation":3184,"user_id":3388069,"display_name":"Sascha Frinken"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1553145645,"creation_date":1537133317,"answer_id":52358532,"question_id":52357548,"body_markdown":"You can set active environment(s) either by *system property* **`micronaut.environments`** (`java -Dmicronaut.environments=foo,bar -jar myapp.jar`) or by *environment variable* **`MICRONAUT_ENVIRONMENTS`**.\r\n\r\nSee Documentation: https://docs.micronaut.io/snapshot/guide/index.html#environments","title":"How to specify a profile in a Micronaut application?","body":"<p>You can set active environment(s) either by <em>system property</em> <strong><code>micronaut.environments</code></strong> (<code>java -Dmicronaut.environments=foo,bar -jar myapp.jar</code>) or by <em>environment variable</em> <strong><code>MICRONAUT_ENVIRONMENTS</code></strong>.</p>\n\n<p>See Documentation: <a href=\"https://docs.micronaut.io/snapshot/guide/index.html#environments\" rel=\"noreferrer\">https://docs.micronaut.io/snapshot/guide/index.html#environments</a></p>\n"},{"tags":[],"owner":{"account_id":9288521,"reputation":128,"user_id":6897598,"display_name":"BazSTR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643409791,"creation_date":1643409791,"answer_id":70901081,"question_id":52357548,"body_markdown":"Here is my example of how to build and run Micronaut using environment variables and CMD in Win 10 with prod profile:\r\n\r\n    gradlew clean build -x test -x integrationTest\r\n    set MICRONAUT_ENVIRONMENTS=prod\r\n    echo %MICRONAUT_ENVIRONMENTS%\r\n    java -jar build/libs/app.jar \r\n\r\nDon&#39;t forget to check the environment in the console log after starting. Search for: &quot;Environment(s): \t[prod]&quot;.\r\n\r\nSolution with system property (java -Dmicronaut.environments=foo,bar -jar myapp.jar) does not work for me, but under Ubuntu/Mac it works fine.\r\nI&#39;m using micronautVersion=2.4.4","title":"How to specify a profile in a Micronaut application?","body":"<p>Here is my example of how to build and run Micronaut using environment variables and CMD in Win 10 with prod profile:</p>\n<pre><code>gradlew clean build -x test -x integrationTest\nset MICRONAUT_ENVIRONMENTS=prod\necho %MICRONAUT_ENVIRONMENTS%\njava -jar build/libs/app.jar \n</code></pre>\n<p>Don't forget to check the environment in the console log after starting. Search for: &quot;Environment(s):   [prod]&quot;.</p>\n<p>Solution with system property (java -Dmicronaut.environments=foo,bar -jar myapp.jar) does not work for me, but under Ubuntu/Mac it works fine.\nI'm using micronautVersion=2.4.4</p>\n"},{"tags":[],"owner":{"account_id":402778,"reputation":1452,"user_id":770134,"accept_rate":75,"display_name":"fieldju"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657659314,"creation_date":1657659314,"answer_id":72958279,"question_id":52357548,"body_markdown":"If you are trying to do this with gradle and the run task, you can take the following approach.\r\n\r\n***build.gradle***\r\n\r\n    run {\r\n        systemProperties([\r\n            &#39;micronaut.environments&#39;: &#39;local&#39;\r\n        ])\r\n    }\r\n\r\nThis by default will read from `application.yaml` and `application-local.yaml`","title":"How to specify a profile in a Micronaut application?","body":"<p>If you are trying to do this with gradle and the run task, you can take the following approach.</p>\n<p><em><strong>build.gradle</strong></em></p>\n<pre><code>run {\n    systemProperties([\n        'micronaut.environments': 'local'\n    ])\n}\n</code></pre>\n<p>This by default will read from <code>application.yaml</code> and <code>application-local.yaml</code></p>\n"}],"owner":{"account_id":11955858,"reputation":171,"user_id":8748244,"display_name":"tomas lingotti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20889,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":3,"score":14,"last_activity_date":1657659314,"creation_date":1537125034,"question_id":52357548,"body_markdown":"I want to specify different types of configs depending on the environment that I will deploy the app. Like in Spring-boot in the yml file we can set the profile, I want to know if there is a way to do it in Micronaut.\r\n","title":"How to specify a profile in a Micronaut application?","body":"<p>I want to specify different types of configs depending on the environment that I will deploy the app. Like in Spring-boot in the yml file we can set the profile, I want to know if there is a way to do it in Micronaut.</p>\n"},{"tags":["java","android","firebase","kotlin","firebase-authentication"],"owner":{"account_id":6933704,"reputation":761,"user_id":5322411,"accept_rate":60,"display_name":"No Name"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1657659253,"creation_date":1657652916,"question_id":72957262,"body_markdown":"I&#39;m trying to re-authorize a user after changing the password. \r\nBut I am getting this error \r\n\r\n&gt; The custom token format is incorrect. Please check the documentation\r\n\r\nWhat could be wrong?\r\n\r\n\r\nI don&#39;t have a server. I use Firebase Database\r\nI do every step in order:\r\n\r\n1) Change the password first\r\n2) I update the token\r\n3) I use a token for `re-authorization`\r\n\r\nstill getting this error.\r\n\r\n\r\nSometimes I get an error, something like \r\n\r\n&gt; You need to log in to change your password\r\n\r\nbut I&#39;m already logged in. \r\nThen I logout and login, and try to change the password again, but I get the error again `The custom token format is incorrect`.\r\n\r\n\r\nHere is the code for `re-authorization`, what is wrong?\r\n\r\n\r\n    private fun updatePassword(newPassword: String): Single&lt;Boolean&gt; {\r\n        return Single.create { emitter -&gt;\r\n            Firebase.auth.currentUser?.updatePassword(newPassword)\r\n                ?.addOnCompleteListener { task -&gt;\r\n                    if (task.isSuccessful) {\r\n                        emitter.onSuccess(true)\r\n                    } else {\r\n                        emitter.onSuccess(false)\r\n                    }\r\n                }\r\n        }\r\n    }\r\n\r\n    private fun getNewToken(): Single&lt;String&gt; {\r\n        return Single.create { emitter -&gt;\r\n            Firebase.auth.getAccessToken(true)\r\n                .addOnCompleteListener { task -&gt;\r\n                    if (task.isSuccessful) {\r\n                        val token = task.result.token\r\n                        emitter.onSuccess(token!!)\r\n                    } else {\r\n                        emitter.onError(Throwable(&quot;Error when refresh Token&quot;))\r\n                    }\r\n                }\r\n        }\r\n    }\r\n\r\n    private fun reAuthenticate(tokenId: String): Completable {\r\n        return Completable.create { emitter -&gt;\r\n            Firebase.auth.signInWithCustomToken(tokenId)\r\n                .addOnCompleteListener {\r\n                    if (it.isSuccessful) {\r\n                        emitter.onComplete()\r\n                    } else {\r\n                        emitter.onError(Throwable(&quot;Error&quot;))\r\n                    }\r\n                }\r\n        }\r\n    }\r\n\r\n    private fun checkReAuthenticate() {\r\n        val newPassword = &quot;pass12345&quot;\r\n\r\n        updatePassword(newPassword)\r\n            .flatMap {\r\n                getNewToken()\r\n            }\r\n            .flatMapCompletable { token -&gt;\r\n                reAuthenticate(token)\r\n            }\r\n            .subscribe(\r\n                {\r\n                    print(&quot;Success ReAuthenticated&quot;)\r\n                },\r\n                {\r\n                    print(&quot;Error when ReAuthenticate&quot;)\r\n                }\r\n            )\r\n    }","title":"Firebase Auth Error: The custom token format is incorrect. Please check the documentation","body":"<p>I'm trying to re-authorize a user after changing the password.\nBut I am getting this error</p>\n<blockquote>\n<p>The custom token format is incorrect. Please check the documentation</p>\n</blockquote>\n<p>What could be wrong?</p>\n<p>I don't have a server. I use Firebase Database\nI do every step in order:</p>\n<ol>\n<li>Change the password first</li>\n<li>I update the token</li>\n<li>I use a token for <code>re-authorization</code></li>\n</ol>\n<p>still getting this error.</p>\n<p>Sometimes I get an error, something like</p>\n<blockquote>\n<p>You need to log in to change your password</p>\n</blockquote>\n<p>but I'm already logged in.\nThen I logout and login, and try to change the password again, but I get the error again <code>The custom token format is incorrect</code>.</p>\n<p>Here is the code for <code>re-authorization</code>, what is wrong?</p>\n<pre><code>private fun updatePassword(newPassword: String): Single&lt;Boolean&gt; {\n    return Single.create { emitter -&gt;\n        Firebase.auth.currentUser?.updatePassword(newPassword)\n            ?.addOnCompleteListener { task -&gt;\n                if (task.isSuccessful) {\n                    emitter.onSuccess(true)\n                } else {\n                    emitter.onSuccess(false)\n                }\n            }\n    }\n}\n\nprivate fun getNewToken(): Single&lt;String&gt; {\n    return Single.create { emitter -&gt;\n        Firebase.auth.getAccessToken(true)\n            .addOnCompleteListener { task -&gt;\n                if (task.isSuccessful) {\n                    val token = task.result.token\n                    emitter.onSuccess(token!!)\n                } else {\n                    emitter.onError(Throwable(&quot;Error when refresh Token&quot;))\n                }\n            }\n    }\n}\n\nprivate fun reAuthenticate(tokenId: String): Completable {\n    return Completable.create { emitter -&gt;\n        Firebase.auth.signInWithCustomToken(tokenId)\n            .addOnCompleteListener {\n                if (it.isSuccessful) {\n                    emitter.onComplete()\n                } else {\n                    emitter.onError(Throwable(&quot;Error&quot;))\n                }\n            }\n    }\n}\n\nprivate fun checkReAuthenticate() {\n    val newPassword = &quot;pass12345&quot;\n\n    updatePassword(newPassword)\n        .flatMap {\n            getNewToken()\n        }\n        .flatMapCompletable { token -&gt;\n            reAuthenticate(token)\n        }\n        .subscribe(\n            {\n                print(&quot;Success ReAuthenticated&quot;)\n            },\n            {\n                print(&quot;Error when ReAuthenticate&quot;)\n            }\n        )\n}\n</code></pre>\n"},{"tags":["java","bufferedreader","read-write"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1657634252,"post_id":72953547,"comment_id":128853878,"body_markdown":"A little off-topic but: any reason to avoid simple ssh or the various rcon (remote console) options already integrated into the server?","body":"A little off-topic but: any reason to avoid simple ssh or the various rcon (remote console) options already integrated into the server?"},{"owner":{"account_id":12370191,"reputation":49,"user_id":9020730,"display_name":"goldarm5"},"score":0,"creation_date":1657635028,"post_id":72953547,"comment_id":128854149,"body_markdown":"@Rogue Fruther along the line this is going to be the foundation of a discordbot and website to manage the server. Im playing with a few friends, who are not all that into using ssh or rcon, so I want to build an easy to use solution to manage the server. Also there would be functionality integrated like editing the server.properties file amongst other things thats a bit more tedious with just ssh/rcon. And ultimately this seemed like a good project for me to just do some programming.","body":"@Rogue Fruther along the line this is going to be the foundation of a discordbot and website to manage the server. Im playing with a few friends, who are not all that into using ssh or rcon, so I want to build an easy to use solution to manage the server. Also there would be functionality integrated like editing the server.properties file amongst other things thats a bit more tedious with just ssh/rcon. And ultimately this seemed like a good project for me to just do some programming."},{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":0,"creation_date":1657636413,"post_id":72953547,"comment_id":128854710,"body_markdown":"I wonder if this isn&#39;t a windows/linux thing?  https://developers.redhat.com/blog/2021/05/06/why-windows-and-linux-line-endings-dont-line-up-and-how-to-fix-it#:~:text=to%20line%20endings-,Back%20to%20line%20endings,on%20the%20other%2C%20hilarity%20ensues.","body":"I wonder if this isn&#39;t a windows/linux thing?  <a href=\"https://developers.redhat.com/blog/2021/05/06/why-windows-and-linux-line-endings-dont-line-up-and-how-to-fix-it#:~:text=to%20line%20endings-,Back%20to%20line%20endings,on%20the%20other%2C%20hilarity%20ensues\" rel=\"nofollow noreferrer\">developers.redhat.com/blog/2021/05/06/&hellip;</a>."}],"answers":[{"tags":[],"owner":{"account_id":12370191,"reputation":49,"user_id":9020730,"display_name":"goldarm5"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657659112,"creation_date":1657659112,"answer_id":72958247,"question_id":72953547,"body_markdown":"BufferedReade.readLine() reads until either the next linefeed or the end of file.\r\n\r\nSo when reading this file:\r\n```\r\n[......]\r\n[21:34:31] [Server thread/INFO]: [removed] left the game\r\n```\r\n BufferedReader gives the following output:\r\n```\r\n[......]\r\ninit: [21:34:31] [Server thread/INFO]: [removed] left the game\r\ninit: null\r\n```\r\n&quot;init: &quot; was only added for debug purposes.\r\nWhen appending \r\n```\r\nxx\r\nghasjdkhajs\r\n```\r\nSo the end of the file looks like this:\r\n```\r\n[21:34:31] [Server thread/INFO]: [removed] left the gamexx\r\nghasjdkhajs\r\n```\r\nThis leads to the following output:\r\n```\r\npclimlp: xx\r\naddNewLogLine: xx\r\nthread: xx\r\n```\r\n\r\nSo BufferedReader was at the end of the file which was directly after\r\n```\r\nleft the game\r\n```\r\nSo when adding\r\n```\r\nxx\\r\\nghasjdkhajs\r\n```\r\nthe BufferedReader reads until the next linefeed. If there wasnt the &quot;xx&quot; added there would simply be nothing before the next linefeed, so the BufferedReader would return &quot;&quot; like in the question.","title":"BufferedReader reading empty lines instead of newly added lines","body":"<p>BufferedReade.readLine() reads until either the next linefeed or the end of file.</p>\n<p>So when reading this file:</p>\n<pre><code>[......]\n[21:34:31] [Server thread/INFO]: [removed] left the game\n</code></pre>\n<p>BufferedReader gives the following output:</p>\n<pre><code>[......]\ninit: [21:34:31] [Server thread/INFO]: [removed] left the game\ninit: null\n</code></pre>\n<p>&quot;init: &quot; was only added for debug purposes.\nWhen appending</p>\n<pre><code>xx\nghasjdkhajs\n</code></pre>\n<p>So the end of the file looks like this:</p>\n<pre><code>[21:34:31] [Server thread/INFO]: [removed] left the gamexx\nghasjdkhajs\n</code></pre>\n<p>This leads to the following output:</p>\n<pre><code>pclimlp: xx\naddNewLogLine: xx\nthread: xx\n</code></pre>\n<p>So BufferedReader was at the end of the file which was directly after</p>\n<pre><code>left the game\n</code></pre>\n<p>So when adding</p>\n<pre><code>xx\\r\\nghasjdkhajs\n</code></pre>\n<p>the BufferedReader reads until the next linefeed. If there wasnt the &quot;xx&quot; added there would simply be nothing before the next linefeed, so the BufferedReader would return &quot;&quot; like in the question.</p>\n"}],"owner":{"account_id":12370191,"reputation":49,"user_id":9020730,"display_name":"goldarm5"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72958247,"answer_count":1,"score":1,"last_activity_date":1657659112,"creation_date":1657634177,"question_id":72953547,"body_markdown":"Im currently working on a application to manage a remote minecraft server and the first thing Im working on is observing the messages in the minecraft console. Im doing this by observing the latest.log textfile in which the minecraft server copies its output. The log messages are added each in a newline, so the basic workflow for monitoring is:\r\n\r\n```\r\nstart -&gt; read all existing lines of latest.log -&gt; watch for file change notifications on latest.log -&gt; \r\nread newly added line(s) -&gt; wait for next file change notification\r\n```\r\n\r\nIve implemented the following class to do this:\r\n\r\n```\r\npublic class McServerService {\r\n\t\r\n\t\r\n\t\r\n\tprivate String directory;\r\n\t\r\n\t\r\n\tprivate List&lt;String&gt; currentLog;\r\n\t\t\r\n\tprivate Thread logObserverThread;\r\n\tprivate PropertyChangeSupport pcsupport;\r\n\t\r\n\t\r\n\tpublic McServerService (String directory) {\r\n\t\tthis.currentLog = new ArrayList&lt;String&gt;();\r\n\t\tthis.directory = directory;\r\n\t\tthis.pcsupport = new PropertyChangeSupport(this);\r\n\t}\r\n\t\r\n\tpublic void startWatching ()  {\r\n\t\tthis.logObserverThread = new Thread(new LogObserverThreadImpl(this.directory));\r\n\t\tthis.logObserverThread.start();\r\n\t}\r\n\t\r\n\tpublic void addNewLogLine (String newLogLine) {\r\n\t\tthis.pcsupport.firePropertyChange(&quot;currentLog&quot;, this.currentLog, newLogLine);\r\n\t\tthis.currentLog.add(newLogLine);\r\n\t\tSystem.out.println(&quot;addNewLogLine: &quot; + newLogLine);\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void addPropertyChangeListener (PropertyChangeListener pcl) {\r\n\t\tthis.pcsupport.addPropertyChangeListener(pcl);\r\n\t}\r\n\t\r\n\tpublic void removePropertyChangeListener (PropertyChangeListener pcl) {\r\n\t\tthis.pcsupport.removePropertyChangeListener(pcl);\r\n\t}\r\n\t\r\n\t\r\n\t\t\r\n\tprivate class LogObserverThreadImpl implements Runnable {\r\n\t\t\r\n\t\tBufferedReader br;\r\n\t\tWatchService watchService;\r\n\t\t\r\n\t\tprivate LogObserverThreadImpl (String directory) {\r\n\t\t\ttry {\r\n\t\t\t\tthis.br = new BufferedReader(new java.io.FileReader(directory + &quot;\\\\&quot; + &quot;latest.log&quot;));\r\n\t\t\t\tString nextLine = this.br.readLine();\r\n\t\t\t\twhile (nextLine != null) {\r\n\t\t\t\t\tMcServerService.this.currentLog.add(nextLine);\r\n\t\t\t\t\tSystem.out.println(&quot;init: &quot; + nextLine);\r\n\t\t\t\t\tthis.br.mark(2048);\r\n\t\t\t\t\tnextLine = this.br.readLine();\r\n\t\t\t\t\tSystem.out.println(&quot;init: &quot; + nextLine);\r\n\t\t\t\t}\r\n\t\t\t\tthis.br.reset();\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\tPath path = Paths.get(directory);\r\n\t\t\ttry {\r\n\t\t\t\tSystem.out.println(&quot;entered try&quot;);\r\n\t\t\t\tthis.watchService = FileSystems.getDefault().newWatchService();\r\n\t\t\t\tpath.register(watchService, StandardWatchEventKinds.ENTRY_CREATE, StandardWatchEventKinds.ENTRY_MODIFY);\r\n\t\t\t\tWatchKey key;\r\n\t\t\t\twhile ((key = this.watchService.take()) != null) {\r\n\t\t\t\t    for (WatchEvent&lt;?&gt; event : key.pollEvents()) {\r\n\t\t\t\t    \tif (event.context().toString().equals(&quot;latest.log&quot;)) {\r\n\t\t\t\t    \t\tString line = this.br.readLine();\r\n\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\t * if (line.equalsIgnoreCase(&quot;&quot;)) { line = this.br.readLine(); }\r\n\t\t\t\t\t\t\t */\r\n\t\t\t\t    \t\tMcServerService.this.addNewLogLine(line);\r\n\t\t\t\t    \t\tSystem.out.println(&quot;thread: &quot; + line);\r\n\t\t\t\t    \t}\r\n\t\t            }\r\n\t\t\t\t    key.reset();\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(&quot;after while&quot;);\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\r\n\t\r\n\t\r\n}\r\n```\r\n\r\nThe existing latest.log textfile is read as exspected with all its lines and then ends on null, but when adding the two lines \r\n```\r\ngadhsjlhgadsjlkh\r\njlhkadshljhads\r\n```\r\n\r\nand saving the file after each line, the output looks like this:\r\n```\r\ninit: null //&quot;last&quot; line of existing file\r\nentered try\r\n//now adding the two lines\r\npclimlp: \r\naddNewLogLine: \r\nthread: \r\npclimlp: gadhsjlhgadsjlkh\r\naddNewLogLine: gadhsjlhgadsjlkh\r\nthread: gadhsjlhgadsjlkh\r\n```\r\n\r\nThe problem is solved by uncommenting the equals check for &quot;&quot; in:\r\n```\r\nwhile ((key = this.watchService.take()) != null) {\r\n\t\t\t\t    for (WatchEvent&lt;?&gt; event : key.pollEvents()) {\r\n\t\t\t\t    \tif (event.context().toString().equals(&quot;latest.log&quot;)) {\r\n\t\t\t\t    \t\tString line = this.br.readLine();\r\n\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\t * if (line.equalsIgnoreCase(&quot;&quot;)) { line = this.br.readLine(); }\r\n\t\t\t\t\t\t\t */\r\n\t\t\t\t    \t\tMcServerService.this.addNewLogLine(line);\r\n\t\t\t\t    \t\tSystem.out.println(&quot;thread: &quot; + line);\r\n\t\t\t\t    \t}\r\n\t\t            }\r\n\t\t\t\t    key.reset();\r\n\t\t\t\t}\r\n```\r\n\r\nBut why is the BufferedReder reading empty lines there in the first place? Id understand null if the BufferedReader isnt updated yet, but why empty lines? Also if I manually save the file again (without adding more lines or anything), the BufferedReader will read the line it hasnt read before fine and is not skipping it. Can someone explain what happens there to cause this behaviour?","title":"BufferedReader reading empty lines instead of newly added lines","body":"<p>Im currently working on a application to manage a remote minecraft server and the first thing Im working on is observing the messages in the minecraft console. Im doing this by observing the latest.log textfile in which the minecraft server copies its output. The log messages are added each in a newline, so the basic workflow for monitoring is:</p>\n<pre><code>start -&gt; read all existing lines of latest.log -&gt; watch for file change notifications on latest.log -&gt; \nread newly added line(s) -&gt; wait for next file change notification\n</code></pre>\n<p>Ive implemented the following class to do this:</p>\n<pre><code>public class McServerService {\n    \n    \n    \n    private String directory;\n    \n    \n    private List&lt;String&gt; currentLog;\n        \n    private Thread logObserverThread;\n    private PropertyChangeSupport pcsupport;\n    \n    \n    public McServerService (String directory) {\n        this.currentLog = new ArrayList&lt;String&gt;();\n        this.directory = directory;\n        this.pcsupport = new PropertyChangeSupport(this);\n    }\n    \n    public void startWatching ()  {\n        this.logObserverThread = new Thread(new LogObserverThreadImpl(this.directory));\n        this.logObserverThread.start();\n    }\n    \n    public void addNewLogLine (String newLogLine) {\n        this.pcsupport.firePropertyChange(&quot;currentLog&quot;, this.currentLog, newLogLine);\n        this.currentLog.add(newLogLine);\n        System.out.println(&quot;addNewLogLine: &quot; + newLogLine);\n        \n    }\n    \n    public void addPropertyChangeListener (PropertyChangeListener pcl) {\n        this.pcsupport.addPropertyChangeListener(pcl);\n    }\n    \n    public void removePropertyChangeListener (PropertyChangeListener pcl) {\n        this.pcsupport.removePropertyChangeListener(pcl);\n    }\n    \n    \n        \n    private class LogObserverThreadImpl implements Runnable {\n        \n        BufferedReader br;\n        WatchService watchService;\n        \n        private LogObserverThreadImpl (String directory) {\n            try {\n                this.br = new BufferedReader(new java.io.FileReader(directory + &quot;\\\\&quot; + &quot;latest.log&quot;));\n                String nextLine = this.br.readLine();\n                while (nextLine != null) {\n                    McServerService.this.currentLog.add(nextLine);\n                    System.out.println(&quot;init: &quot; + nextLine);\n                    this.br.mark(2048);\n                    nextLine = this.br.readLine();\n                    System.out.println(&quot;init: &quot; + nextLine);\n                }\n                this.br.reset();\n            } catch (IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        }\n\n        @Override\n        public void run() {\n            Path path = Paths.get(directory);\n            try {\n                System.out.println(&quot;entered try&quot;);\n                this.watchService = FileSystems.getDefault().newWatchService();\n                path.register(watchService, StandardWatchEventKinds.ENTRY_CREATE, StandardWatchEventKinds.ENTRY_MODIFY);\n                WatchKey key;\n                while ((key = this.watchService.take()) != null) {\n                    for (WatchEvent&lt;?&gt; event : key.pollEvents()) {\n                        if (event.context().toString().equals(&quot;latest.log&quot;)) {\n                            String line = this.br.readLine();\n                            /*\n                             * if (line.equalsIgnoreCase(&quot;&quot;)) { line = this.br.readLine(); }\n                             */\n                            McServerService.this.addNewLogLine(line);\n                            System.out.println(&quot;thread: &quot; + line);\n                        }\n                    }\n                    key.reset();\n                }\n                System.out.println(&quot;after while&quot;);\n            } catch (IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            } catch (InterruptedException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        }\n        \n    }\n    \n    \n\n    \n    \n}\n</code></pre>\n<p>The existing latest.log textfile is read as exspected with all its lines and then ends on null, but when adding the two lines</p>\n<pre><code>gadhsjlhgadsjlkh\njlhkadshljhads\n</code></pre>\n<p>and saving the file after each line, the output looks like this:</p>\n<pre><code>init: null //&quot;last&quot; line of existing file\nentered try\n//now adding the two lines\npclimlp: \naddNewLogLine: \nthread: \npclimlp: gadhsjlhgadsjlkh\naddNewLogLine: gadhsjlhgadsjlkh\nthread: gadhsjlhgadsjlkh\n</code></pre>\n<p>The problem is solved by uncommenting the equals check for &quot;&quot; in:</p>\n<pre><code>while ((key = this.watchService.take()) != null) {\n                    for (WatchEvent&lt;?&gt; event : key.pollEvents()) {\n                        if (event.context().toString().equals(&quot;latest.log&quot;)) {\n                            String line = this.br.readLine();\n                            /*\n                             * if (line.equalsIgnoreCase(&quot;&quot;)) { line = this.br.readLine(); }\n                             */\n                            McServerService.this.addNewLogLine(line);\n                            System.out.println(&quot;thread: &quot; + line);\n                        }\n                    }\n                    key.reset();\n                }\n</code></pre>\n<p>But why is the BufferedReder reading empty lines there in the first place? Id understand null if the BufferedReader isnt updated yet, but why empty lines? Also if I manually save the file again (without adding more lines or anything), the BufferedReader will read the line it hasnt read before fine and is not skipping it. Can someone explain what happens there to cause this behaviour?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1657658525,"post_id":72958095,"comment_id":128862166,"body_markdown":"Null is not the same as empty. `String.valueOf(null)` returns `&quot;null&quot;`.","body":"Null is not the same as empty. <code>String.valueOf(null)</code> returns <code>&quot;null&quot;</code>."},{"owner":{"account_id":4248662,"reputation":843,"user_id":3476492,"accept_rate":89,"display_name":"01000001"},"score":1,"creation_date":1657658629,"post_id":72958095,"comment_id":128862198,"body_markdown":"@shmosel System.out.println(String.valueOf(null)); throws a NullPointerException","body":"@shmosel System.out.println(String.valueOf(null)); throws a NullPointerException"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1657658818,"post_id":72958095,"comment_id":128862251,"body_markdown":"My bad, it&#39;s calling the wrong overload. Try `String.valueOf((String)null)`.","body":"My bad, it&#39;s calling the wrong overload. Try <code>String.valueOf((String)null)</code>."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1657659228,"post_id":72958095,"comment_id":128862363,"body_markdown":"*I had assumed that uninitialized short value would result in empty String...* You don&#39;t have to assume; it&#39;s spelled out in the docs: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#valueOf-java.lang.Object-","body":"<i>I had assumed that uninitialized short value would result in empty String...</i> You don&#39;t have to assume; it&#39;s spelled out in the docs: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#valueOf-java.lang.Object-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/lang/&hellip;</a>"},{"owner":{"account_id":4248662,"reputation":843,"user_id":3476492,"accept_rate":89,"display_name":"01000001"},"score":1,"creation_date":1657659481,"post_id":72958095,"comment_id":128862435,"body_markdown":"@KlitosKyriacou yes https://stackoverflow.com/a/33891982/3476492","body":"@KlitosKyriacou yes <a href=\"https://stackoverflow.com/a/33891982/3476492\">stackoverflow.com/a/33891982/3476492</a>"}],"owner":{"account_id":4248662,"reputation":843,"user_id":3476492,"accept_rate":89,"display_name":"01000001"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1657659520,"answer_count":0,"score":0,"last_activity_date":1657659100,"creation_date":1657658237,"question_id":72958095,"body_markdown":"With this class:\r\n\r\n    public class ShortValue {\r\n    \r\n    \tprivate Short code;\r\n    \r\n    \tpublic Short getCode() {\r\n    \t\treturn code;\r\n    \t}\r\n    \r\n    \tpublic void setCode(Short code) {\r\n    \t\tthis.code = code;\r\n    \t}\r\n    }\r\n\r\nBelow code:\r\n\r\n\t\tShortValue s = new ShortValue();\r\n\t\tString test = String.valueOf(s.getCode());\r\n\t\tSystem.out.println(&quot;value: &quot; + test + &quot;, length: &quot; +  test.length());\r\n\t\tSystem.out.println(s.getCode());\r\nwill output: \r\n\r\n    value: null, length: 4\r\n    null\r\n\r\nMeaning actual string &quot;null&quot; is being created here from empty short value.\r\n\r\nIs this intentional that empty short value returns a non empty String? What is the purpose of this in Java?\r\n\r\nI am not complaining about the behavior though. Intuitively or naively, I had assumed that uninitialized short value would result in empty String if I get a String value from it where needed, but instead it returned string &quot;null&quot;, so I am only trying to see where this would make sense or if it is largely a part of some default behavior of JVM that I am not aware of.\r\n\r\n","title":"Empty/NULL Short value in object, returns non-empty String, is this intended?","body":"<p>With this class:</p>\n<pre><code>public class ShortValue {\n\n    private Short code;\n\n    public Short getCode() {\n        return code;\n    }\n\n    public void setCode(Short code) {\n        this.code = code;\n    }\n}\n</code></pre>\n<p>Below code:</p>\n<pre><code>    ShortValue s = new ShortValue();\n    String test = String.valueOf(s.getCode());\n    System.out.println(&quot;value: &quot; + test + &quot;, length: &quot; +  test.length());\n    System.out.println(s.getCode());\n</code></pre>\n<p>will output:</p>\n<pre><code>value: null, length: 4\nnull\n</code></pre>\n<p>Meaning actual string &quot;null&quot; is being created here from empty short value.</p>\n<p>Is this intentional that empty short value returns a non empty String? What is the purpose of this in Java?</p>\n<p>I am not complaining about the behavior though. Intuitively or naively, I had assumed that uninitialized short value would result in empty String if I get a String value from it where needed, but instead it returned string &quot;null&quot;, so I am only trying to see where this would make sense or if it is largely a part of some default behavior of JVM that I am not aware of.</p>\n"},{"tags":["java","arrays","sorting","integer"],"comments":[{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":2,"creation_date":1657654905,"post_id":72957508,"comment_id":128861035,"body_markdown":"Do you know how to sort an array normally? Do you know how to identify an odd number? What did you try? Show at least your code for sorting the array completely please, as an [mre]. Then describe what has you stuck with the other requirements. Doing this will avoid the impression that you just hope for somebody to do your work for you. https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions","body":"Do you know how to sort an array normally? Do you know how to identify an odd number? What did you try? Show at least your code for sorting the array completely please, as an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Then describe what has you stuck with the other requirements. Doing this will avoid the impression that you just hope for somebody to do your work for you. <a href=\"https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions\" title=\"how do i ask and answer homework questions\">meta.stackoverflow.com/questions/334822/&hellip;</a>"},{"owner":{"account_id":25614854,"reputation":11,"user_id":19387613,"display_name":"Noah Solomon"},"score":0,"creation_date":1657655805,"post_id":72957508,"comment_id":128861340,"body_markdown":"Done. Here is what I have right now ^","body":"Done. Here is what I have right now ^"},{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1657656928,"post_id":72957508,"comment_id":128861677,"body_markdown":"And what has you now stuck? What does not work as desired?","body":"And what has you now stuck? What does not work as desired?"}],"answers":[{"tags":[],"owner":{"account_id":25784351,"reputation":162,"user_id":19529459,"display_name":"Volt4"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657655985,"creation_date":1657655985,"answer_id":72957757,"question_id":72957508,"body_markdown":"Here is a nifty solution using the ```Stream``` API. \r\n```\r\npublic static int[] sortOdds(int[] a) {\r\n    var sortedOdds = Arrays.stream(a).filter(v -&gt; v % 2 == 1).sorted().toArray();\r\n    for (int i = 0, s = 0; i &lt; a.length; i++) {\r\n        if (a[i] % 2 == 1) {\r\n            a[i] = sortedOdds[s];\r\n            s++;\r\n        }\r\n    }\r\n    return a; // A return here is kind of redundant but whatever.\r\n}\r\n```\r\nHowever, as @Yunnosch mentioned, this really isnt a good question for stack overflow. This feels like a homework question, and if it is I doubt any professor would accept the solution above since it uses ```sorted()``` instead of actually implementing a sorting algorithm.","title":"Sort odd numbers in Array of even and odd numbers","body":"<p>Here is a nifty solution using the <code>Stream</code> API.</p>\n<pre><code>public static int[] sortOdds(int[] a) {\n    var sortedOdds = Arrays.stream(a).filter(v -&gt; v % 2 == 1).sorted().toArray();\n    for (int i = 0, s = 0; i &lt; a.length; i++) {\n        if (a[i] % 2 == 1) {\n            a[i] = sortedOdds[s];\n            s++;\n        }\n    }\n    return a; // A return here is kind of redundant but whatever.\n}\n</code></pre>\n<p>However, as @Yunnosch mentioned, this really isnt a good question for stack overflow. This feels like a homework question, and if it is I doubt any professor would accept the solution above since it uses <code>sorted()</code> instead of actually implementing a sorting algorithm.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657659092,"creation_date":1657656171,"answer_id":72957797,"question_id":72957508,"body_markdown":"- First, write a sort routine to sort normally in ascending order.  If you don&#39;t know how to do that, you can do a web search for `bubble sort`, `selection sort`, etc. but the first two are easily implemented.\r\n- Once you have that working, simply modify the sort to work only on odd numbers.\r\n\r\nIt is not necessary to presort any or all of the array and then manipulate the values afterwards (although the cost of filtering and and sorting a smaller array in preparation may have performance benefits over sorting a larger array)\r\n ","title":"Sort odd numbers in Array of even and odd numbers","body":"<ul>\n<li>First, write a sort routine to sort normally in ascending order.  If you don't know how to do that, you can do a web search for <code>bubble sort</code>, <code>selection sort</code>, etc. but the first two are easily implemented.</li>\n<li>Once you have that working, simply modify the sort to work only on odd numbers.</li>\n</ul>\n<p>It is not necessary to presort any or all of the array and then manipulate the values afterwards (although the cost of filtering and and sorting a smaller array in preparation may have performance benefits over sorting a larger array)</p>\n"}],"owner":{"account_id":25614854,"reputation":11,"user_id":19387613,"display_name":"Noah Solomon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":708,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":72957757,"answer_count":2,"score":-3,"last_activity_date":1657659092,"creation_date":1657654487,"question_id":72957508,"body_markdown":"I need to sort the odd numbers in the inputted array. So we do nothing with the even numbers in the array but we sort the odd numbers in ascending order\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(sortArray(new int[]{1, 5, 2, 7, 3}));\r\n    }\r\n    public static int[] sortArray(int[] array) {\r\n        List&lt;Integer&gt; odds = new ArrayList&lt;&gt;();\r\n        for (int elmnt : array) {\r\n            if (elmnt % 2 != 0) {\r\n                odds.add(elmnt);\r\n            }\r\n        }\r\n        odds.stream().sorted();\r\n        for (int i = 0; i &lt; array.length; i++) {\r\n            if (array[i] %2 != 0){\r\n                for (int j = 0; j &lt; odds.size(); j++) {\r\n                    array[i] = odds.get(j);\r\n                }\r\n            }\r\n        }\r\n        return array;\r\n    }\r\nin this example, the array should turn into:\r\n[1, 3, 2, 5, 7]\r\n\r\nhow can I do this?","title":"Sort odd numbers in Array of even and odd numbers","body":"<p>I need to sort the odd numbers in the inputted array. So we do nothing with the even numbers in the array but we sort the odd numbers in ascending order</p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(sortArray(new int[]{1, 5, 2, 7, 3}));\n}\npublic static int[] sortArray(int[] array) {\n    List&lt;Integer&gt; odds = new ArrayList&lt;&gt;();\n    for (int elmnt : array) {\n        if (elmnt % 2 != 0) {\n            odds.add(elmnt);\n        }\n    }\n    odds.stream().sorted();\n    for (int i = 0; i &lt; array.length; i++) {\n        if (array[i] %2 != 0){\n            for (int j = 0; j &lt; odds.size(); j++) {\n                array[i] = odds.get(j);\n            }\n        }\n    }\n    return array;\n}\n</code></pre>\n<p>in this example, the array should turn into:\n[1, 3, 2, 5, 7]</p>\n<p>how can I do this?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"score":0,"creation_date":1657473614,"post_id":72930189,"comment_id":128813162,"body_markdown":"Can you upload the code where you are injecting and using the repo?","body":"Can you upload the code where you are injecting and using the repo?"},{"owner":{"account_id":20145461,"reputation":61,"user_id":14774086,"display_name":"AwesomeDude091"},"score":0,"creation_date":1657474282,"post_id":72930189,"comment_id":128813316,"body_markdown":"@AnthonyAccioly I added the information you requested","body":"@AnthonyAccioly I added the information you requested"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1657476759,"post_id":72930189,"comment_id":128813805,"body_markdown":"Does it print &quot;I got constructed&quot;? Are you missing something fundamental?","body":"Does it print &quot;I got constructed&quot;? Are you missing something fundamental?"},{"owner":{"account_id":20145461,"reputation":61,"user_id":14774086,"display_name":"AwesomeDude091"},"score":0,"creation_date":1657479870,"post_id":72930189,"comment_id":128814412,"body_markdown":"It prints &quot;I got constructed&quot;","body":"It prints &quot;I got constructed&quot;"},{"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"score":0,"creation_date":1657485386,"post_id":72930189,"comment_id":128815462,"body_markdown":"I still can&#39;t see where you are calling `findAllContainingName`. Can you update the code?","body":"I still can&#39;t see where you are calling <code>findAllContainingName</code>. Can you update the code?"},{"owner":{"account_id":10944927,"reputation":491,"user_id":8043392,"display_name":"Shivaji Pote"},"score":0,"creation_date":1657487390,"post_id":72930189,"comment_id":128815830,"body_markdown":"You should also add entity classes. Or minimum reproducible example would be even better","body":"You should also add entity classes. Or minimum reproducible example would be even better"},{"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"score":0,"creation_date":1657495156,"post_id":72930189,"comment_id":128816866,"body_markdown":"What happens if instead of injecting `Registry` you inject  `PineappleServiceRepository` into the controller and call `findAllContainingName` directly on it?","body":"What happens if instead of injecting <code>Registry</code> you inject  <code>PineappleServiceRepository</code> into the controller and call <code>findAllContainingName</code> directly on it?"},{"owner":{"account_id":20145461,"reputation":61,"user_id":14774086,"display_name":"AwesomeDude091"},"score":0,"creation_date":1657537204,"post_id":72930189,"comment_id":128825583,"body_markdown":"@AnthonyAccioly the error persists","body":"@AnthonyAccioly the error persists"},{"owner":{"account_id":20145461,"reputation":61,"user_id":14774086,"display_name":"AwesomeDude091"},"score":0,"creation_date":1657537506,"post_id":72930189,"comment_id":128825693,"body_markdown":"@ShivajiPote I added the entity classes","body":"@ShivajiPote I added the entity classes"},{"owner":{"account_id":10944927,"reputation":491,"user_id":8043392,"display_name":"Shivaji Pote"},"score":0,"creation_date":1657572681,"post_id":72930189,"comment_id":128838476,"body_markdown":"I was trying to reproduce your issue with above classes but I am getting error `No property &#39;findAllContainingName&#39; found for type &#39;PineappleServiceEntity&#39;`.  So I wanted to check PineappleServiceEntity properties. Can you add them?","body":"I was trying to reproduce your issue with above classes but I am getting error <code>No property &#39;findAllContainingName&#39; found for type &#39;PineappleServiceEntity&#39;</code>.  So I wanted to check PineappleServiceEntity properties. Can you add them?"},{"owner":{"account_id":20145461,"reputation":61,"user_id":14774086,"display_name":"AwesomeDude091"},"score":0,"creation_date":1657574764,"post_id":72930189,"comment_id":128839006,"body_markdown":"@ShivajiPote This is the same error I am getting, which I thought was a result of Spring Boot not recognizing my custom interface/ class and instead referring to the Spring Boot construct based of off function name, that is why I ignored it. I checked, the `PineappleServiceEntity` has no further properties. It is however intended that other inheritors or `ServiceEntity` would have such functionality. Thank you for looking it this","body":"@ShivajiPote This is the same error I am getting, which I thought was a result of Spring Boot not recognizing my custom interface/ class and instead referring to the Spring Boot construct based of off function name, that is why I ignored it. I checked, the <code>PineappleServiceEntity</code> has no further properties. It is however intended that other inheritors or <code>ServiceEntity</code> would have such functionality. Thank you for looking it this"},{"owner":{"account_id":20145461,"reputation":61,"user_id":14774086,"display_name":"AwesomeDude091"},"score":0,"creation_date":1657579934,"post_id":72930189,"comment_id":128840049,"body_markdown":"Note: I confirmed that Spring auto function generation is the origin of the property not found error, by changing the function name to findAllByName which then allowed Spring to run, however it still didn’t call my method, it merely used the auto generated one.","body":"Note: I confirmed that Spring auto function generation is the origin of the property not found error, by changing the function name to findAllByName which then allowed Spring to run, however it still didn’t call my method, it merely used the auto generated one."}],"answers":[{"tags":[],"owner":{"account_id":10944927,"reputation":491,"user_id":8043392,"display_name":"Shivaji Pote"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1657657475,"creation_date":1657657475,"answer_id":72957998,"question_id":72930189,"body_markdown":"So I was able to reproduce your problem and fix it. Issue with your code is that your `PineappleServiceRepository` is not extending `ServiceRepositoryCustom` directly. It seems your repository needs to implement it directly if you are accessing custom repository methods from that repository. I got that idea from [this][1] post. \r\n\r\nSo to fix your issue, either remove `PineappleServiceRepository`(as you don&#39;t have any properties in PineappleEntity) and use `ServiceRepository` to call that custom method or make `PineappleServiceRepository` extend `ServiceRepositoryCustom`. \r\n\r\nI have pushed changes to [GitHub][2] with fix. You can take a look. If you want to keep `PineappleServiceRepository` and access custom method using this repository, let me know, I can update code.\r\n\r\n\r\n  [1]: https://vladmihalcea.com/custom-spring-data-repository/\r\n  [2]: https://github.com/spote87/stackoverflow/tree/main/jpa/q72930189","title":"Custom Repository Implementation is not being recognized","body":"<p>So I was able to reproduce your problem and fix it. Issue with your code is that your <code>PineappleServiceRepository</code> is not extending <code>ServiceRepositoryCustom</code> directly. It seems your repository needs to implement it directly if you are accessing custom repository methods from that repository. I got that idea from <a href=\"https://vladmihalcea.com/custom-spring-data-repository/\" rel=\"nofollow noreferrer\">this</a> post.</p>\n<p>So to fix your issue, either remove <code>PineappleServiceRepository</code>(as you don't have any properties in PineappleEntity) and use <code>ServiceRepository</code> to call that custom method or make <code>PineappleServiceRepository</code> extend <code>ServiceRepositoryCustom</code>.</p>\n<p>I have pushed changes to <a href=\"https://github.com/spote87/stackoverflow/tree/main/jpa/q72930189\" rel=\"nofollow noreferrer\">GitHub</a> with fix. You can take a look. If you want to keep <code>PineappleServiceRepository</code> and access custom method using this repository, let me know, I can update code.</p>\n"}],"owner":{"account_id":20145461,"reputation":61,"user_id":14774086,"display_name":"AwesomeDude091"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":618,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72957998,"answer_count":1,"score":1,"last_activity_date":1657657475,"creation_date":1657471309,"question_id":72930189,"body_markdown":"I am currently working on a project where I have created the following custom Repository:\r\n```java\r\npublic interface ServiceRepository&lt;T extends ServiceEntity&gt; extends JpaRepository&lt;T, UUID&gt;, ServiceRepositoryCustom {\r\n}\r\n\r\npublic interface ServiceRepositoryCustom {\r\n    List&lt;ServiceEntity&gt; findAllContainingName(String query);\r\n}\r\n\r\n@Repository(&quot;Repo&quot;)\r\npublic class ServiceRepositoryCustomImpl implements ServiceRepositoryCustom {\r\n\r\n\r\n    private final EntityManager em;\r\n\r\n    public ServiceRepositoryCustomImpl(EntityManager em) {\r\n        System.out.println(&quot;I got constructed&quot;);\r\n        this.em = em;\r\n    }\r\n\r\n    @Override\r\n    public List&lt;ServiceEntity&gt; findAllContainingName(String name) {\r\n        System.out.println(&quot;I got called with: &quot; + name);\r\n        CriteriaBuilder cb = em.getCriteriaBuilder();\r\n        CriteriaQuery&lt;ServiceEntity&gt; cq = cb.createQuery(ServiceEntity.class);\r\n\r\n        Root&lt;ServiceEntity&gt; serviceEntity = cq.from(ServiceEntity.class);\r\n        List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n\r\n        if(name != null)  {\r\n            // predicates.add(cb.equal(serviceEntity.get(&quot;name&quot;), name));\r\n            predicates.add(cb.like(serviceEntity.get(&quot;name&quot;), name + &quot;%&quot;));\r\n        }\r\n        cq.where(predicates.toArray(predicates.toArray(new Predicate[0])));\r\n\r\n        return em.createQuery(cq).getResultList();\r\n    }\r\n}\r\n```\r\nThe print statement &quot;I got called with: &quot; never gets called. So for whatever reason Spring Boot is not running the method through my custom implementation.\r\n\r\nAny suggestions? Any help is much appreciated\r\n\r\nEdit:\r\nHere is the code that injects and uses the Repository in question\r\n```java\r\n@Repository\r\npublic interface PineappleServiceRepository extends ServiceRepository&lt;PineappleServiceEntity&gt; {\r\n}\r\n\r\n@Component(&quot;Registry&quot;)\r\n@DependsOn({&quot;Context&quot;, &quot;Repo&quot;})\r\npublic class Registry {\r\n    private final List&lt;ServiceRepository&lt;? extends ServiceEntity&gt;&gt; serviceRepositories = new ArrayList&lt;&gt;();\r\n\r\n    public Registry(PineappleServiceRepository pineappleServiceRepository) {\r\n        this.serviceRepositories.add(pineappleServiceRepository);\r\n    }\r\n}\r\n```\r\nEdit 2:\r\nThe code prints &quot;I got constructed&quot;\r\n\r\nEdit 3:\r\nClass where `findAllContainingName` is called\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/test&quot;)\r\n@DependsOn(&quot;Registry&quot;)\r\npublic class ServiceController {\r\n\r\n    private final Registry registry;\r\n\r\n    public ServiceController(@NotNull Registry registry) {\r\n        this.registry = registry;\r\n    }\r\n\r\n    @GetMapping(&quot;&quot;)\r\n    List&lt;ServiceEntity&gt; all(@RequestParam(&quot;q&quot;) String query) {\r\n        return getAllServices(query);\r\n    }\r\n\r\n    private @NotNull List&lt;ServiceEntity&gt; getAllServices(String query) {\r\n        List&lt;ServiceEntity&gt; response = new ArrayList&lt;&gt;();\r\n        for(ServiceRepository&lt;? extends ServiceEntity&gt; repo: this.registry.getServiceRepositories()){\r\n             response.addAll(repo.findAllContainingName(query));\r\n        }\r\n        return response;\r\n    }\r\n}\r\n```\r\nEdit 4: \r\n\r\nHere the entities:\r\n```java\r\n@Entity\r\n@Table(name = &quot;services&quot;)\r\npublic abstract class ServiceEntity {\r\n\r\n    protected @Id\r\n    UUID id = UUID.randomUUID();\r\n    protected String name;\r\n\r\n    // Constructor + Getters and Setters\r\n}\r\n\r\n@Entity\r\npublic class PineappleServiceEntity extends ServiceEntity {\r\n    // Additional Properties, matching Constructors, Getters and Setters\r\n}\r\n","title":"Custom Repository Implementation is not being recognized","body":"<p>I am currently working on a project where I have created the following custom Repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface ServiceRepository&lt;T extends ServiceEntity&gt; extends JpaRepository&lt;T, UUID&gt;, ServiceRepositoryCustom {\n}\n\npublic interface ServiceRepositoryCustom {\n    List&lt;ServiceEntity&gt; findAllContainingName(String query);\n}\n\n@Repository(&quot;Repo&quot;)\npublic class ServiceRepositoryCustomImpl implements ServiceRepositoryCustom {\n\n\n    private final EntityManager em;\n\n    public ServiceRepositoryCustomImpl(EntityManager em) {\n        System.out.println(&quot;I got constructed&quot;);\n        this.em = em;\n    }\n\n    @Override\n    public List&lt;ServiceEntity&gt; findAllContainingName(String name) {\n        System.out.println(&quot;I got called with: &quot; + name);\n        CriteriaBuilder cb = em.getCriteriaBuilder();\n        CriteriaQuery&lt;ServiceEntity&gt; cq = cb.createQuery(ServiceEntity.class);\n\n        Root&lt;ServiceEntity&gt; serviceEntity = cq.from(ServiceEntity.class);\n        List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n\n        if(name != null)  {\n            // predicates.add(cb.equal(serviceEntity.get(&quot;name&quot;), name));\n            predicates.add(cb.like(serviceEntity.get(&quot;name&quot;), name + &quot;%&quot;));\n        }\n        cq.where(predicates.toArray(predicates.toArray(new Predicate[0])));\n\n        return em.createQuery(cq).getResultList();\n    }\n}\n</code></pre>\n<p>The print statement &quot;I got called with: &quot; never gets called. So for whatever reason Spring Boot is not running the method through my custom implementation.</p>\n<p>Any suggestions? Any help is much appreciated</p>\n<p>Edit:\nHere is the code that injects and uses the Repository in question</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface PineappleServiceRepository extends ServiceRepository&lt;PineappleServiceEntity&gt; {\n}\n\n@Component(&quot;Registry&quot;)\n@DependsOn({&quot;Context&quot;, &quot;Repo&quot;})\npublic class Registry {\n    private final List&lt;ServiceRepository&lt;? extends ServiceEntity&gt;&gt; serviceRepositories = new ArrayList&lt;&gt;();\n\n    public Registry(PineappleServiceRepository pineappleServiceRepository) {\n        this.serviceRepositories.add(pineappleServiceRepository);\n    }\n}\n</code></pre>\n<p>Edit 2:\nThe code prints &quot;I got constructed&quot;</p>\n<p>Edit 3:\nClass where <code>findAllContainingName</code> is called</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/test&quot;)\n@DependsOn(&quot;Registry&quot;)\npublic class ServiceController {\n\n    private final Registry registry;\n\n    public ServiceController(@NotNull Registry registry) {\n        this.registry = registry;\n    }\n\n    @GetMapping(&quot;&quot;)\n    List&lt;ServiceEntity&gt; all(@RequestParam(&quot;q&quot;) String query) {\n        return getAllServices(query);\n    }\n\n    private @NotNull List&lt;ServiceEntity&gt; getAllServices(String query) {\n        List&lt;ServiceEntity&gt; response = new ArrayList&lt;&gt;();\n        for(ServiceRepository&lt;? extends ServiceEntity&gt; repo: this.registry.getServiceRepositories()){\n             response.addAll(repo.findAllContainingName(query));\n        }\n        return response;\n    }\n}\n</code></pre>\n<p>Edit 4:</p>\n<p>Here the entities:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;services&quot;)\npublic abstract class ServiceEntity {\n\n    protected @Id\n    UUID id = UUID.randomUUID();\n    protected String name;\n\n    // Constructor + Getters and Setters\n}\n\n@Entity\npublic class PineappleServiceEntity extends ServiceEntity {\n    // Additional Properties, matching Constructors, Getters and Setters\n}\n</code></pre>\n"},{"tags":["java","unit-testing","intellij-idea","junit5"],"answers":[{"tags":[],"owner":{"account_id":11416432,"reputation":578,"user_id":8369150,"display_name":"Halil Sahin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657589890,"creation_date":1657589890,"answer_id":72946201,"question_id":72946009,"body_markdown":"For compare to String expressions you have to use assertEqual function.\r\nUsage: \r\n\r\n    assertEqual(String1, String2);","title":"JUnit 5 a very simple test keeps resolving on Undefined","body":"<p>For compare to String expressions you have to use assertEqual function.\nUsage:</p>\n<pre><code>assertEqual(String1, String2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1657591308,"creation_date":1657591308,"answer_id":72946300,"question_id":72946009,"body_markdown":"# `Assertions`, not `Assert`\r\n\r\nNo `Assert` class in JUnit Jupiter.\r\n\r\nUse [`Assertions`][1] class.\r\n\r\n    org.junit.jupiter.api.Assertions.assertTrue( new String( &quot;ss&quot; ).equals( &quot;ss&quot; ) );\r\n\r\n&gt;Tests passed: 1 of 1\r\n\r\nFor less typing, use static import. \r\n\r\n```java\r\npackage work.basil.example.squarematrix;\r\n\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n\r\nclass SquareMatrixTest\r\n{\r\n    @Test\r\n    void report ( )\r\n    {\r\n        assertTrue( new String( &quot;ss&quot; ).equals( &quot;ss&quot; ) );\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Assertions.html","title":"JUnit 5 a very simple test keeps resolving on Undefined","body":"<h1><code>Assertions</code>, not <code>Assert</code></h1>\n<p>No <code>Assert</code> class in JUnit Jupiter.</p>\n<p>Use <a href=\"https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Assertions.html\" rel=\"nofollow noreferrer\"><code>Assertions</code></a> class.</p>\n<pre><code>org.junit.jupiter.api.Assertions.assertTrue( new String( &quot;ss&quot; ).equals( &quot;ss&quot; ) );\n</code></pre>\n<blockquote>\n<p>Tests passed: 1 of 1</p>\n</blockquote>\n<p>For less typing, use static import.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.squarematrix;\n\nimport org.junit.jupiter.api.Test;\n\nimport static org.junit.jupiter.api.Assertions.*;\n\nclass SquareMatrixTest\n{\n    @Test\n    void report ( )\n    {\n        assertTrue( new String( &quot;ss&quot; ).equals( &quot;ss&quot; ) );\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":383265,"reputation":33,"user_id":739003,"accept_rate":0,"display_name":"vargashj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":387,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1657657360,"creation_date":1657587477,"question_id":72946009,"body_markdown":"How is this possible Thanks for your help\r\n\r\nI am on Intellij Community 2022 and I cant believe this Assert is failing. \r\n\r\nAssert.assertTrue(new String(&quot;ss&quot;).equals(&quot;ss&quot;)) -- this fails\r\nAssert.assertTrue(new String(&quot;ss&quot;).matches(&quot;ss&quot;)) -- this fails\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I19mu.png","title":"JUnit 5 a very simple test keeps resolving on Undefined","body":"<p>How is this possible Thanks for your help</p>\n<p>I am on Intellij Community 2022 and I cant believe this Assert is failing.</p>\n<p>Assert.assertTrue(new String(&quot;ss&quot;).equals(&quot;ss&quot;)) -- this fails\nAssert.assertTrue(new String(&quot;ss&quot;).matches(&quot;ss&quot;)) -- this fails</p>\n<p><a href=\"https://i.stack.imgur.com/I19mu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I19mu.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","integration-testing"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657657294,"creation_date":1657657294,"answer_id":72957970,"question_id":72952687,"body_markdown":"I&#39;m confused. What do you want to test?\r\n\r\nThe sample you link is achieving controller unit-testing with mockmvc. \r\n\r\nThey use an annotation which loads security context. As a consequence test security context must be configured for the request to reach controller endpoint. \r\n\r\nI don&#39;t see any security rules on your service (@PreAuthorize or something) =&gt; you don&#39;t need any security context, just don&#39;t load security config.\r\n\r\nIf you add security rules you want to unit test, load security config and setup test security context (either explicitly or with something like https://github.com/ch4mpy/spring-addons/tree/master/samples/webmvc-jwtauthenticationtoken/src/test/java/com/c4_soft/springaddons/samples/webmvc_jwtauthenticationtoken)\r\n\r\nThe call to external service is a complete different story: the external service is running with a different security context than the one attached to your tested service thread). Either:\r\n- `@MockBean RestTemplate` (and configure mock for the Rest call your service is issuing) =&gt; unit test\r\n- ensure test configuration for RestTemplate and external service points to the same started authorization server, load rest template config, auto wire RestTemplate as normal and let it issue request for real to actual external service (which must be started too) =&gt; integration test.\r\n\r\nYou should not start with integration test. Unit test are for more stable and easier to maintain. ","title":"How do I write an integration test for a REST API secured with OAuth2 in JUnit5?","body":"<p>I'm confused. What do you want to test?</p>\n<p>The sample you link is achieving controller unit-testing with mockmvc.</p>\n<p>They use an annotation which loads security context. As a consequence test security context must be configured for the request to reach controller endpoint.</p>\n<p>I don't see any security rules on your service (@PreAuthorize or something) =&gt; you don't need any security context, just don't load security config.</p>\n<p>If you add security rules you want to unit test, load security config and setup test security context (either explicitly or with something like <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/webmvc-jwtauthenticationtoken/src/test/java/com/c4_soft/springaddons/samples/webmvc_jwtauthenticationtoken\" rel=\"nofollow noreferrer\">https://github.com/ch4mpy/spring-addons/tree/master/samples/webmvc-jwtauthenticationtoken/src/test/java/com/c4_soft/springaddons/samples/webmvc_jwtauthenticationtoken</a>)</p>\n<p>The call to external service is a complete different story: the external service is running with a different security context than the one attached to your tested service thread). Either:</p>\n<ul>\n<li><code>@MockBean RestTemplate</code> (and configure mock for the Rest call your service is issuing) =&gt; unit test</li>\n<li>ensure test configuration for RestTemplate and external service points to the same started authorization server, load rest template config, auto wire RestTemplate as normal and let it issue request for real to actual external service (which must be started too) =&gt; integration test.</li>\n</ul>\n<p>You should not start with integration test. Unit test are for more stable and easier to maintain.</p>\n"}],"owner":{"account_id":24443293,"reputation":29,"user_id":18366663,"display_name":"xorax12"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657657294,"creation_date":1657630484,"question_id":72952687,"body_markdown":"I have a client service like this,\r\n\r\n    @Service\r\n    public class PersonClientService {\r\n      private final String EXTERNAL_API;\r\n      private RestTemplate restTemplate;\r\n    \r\n      @Autowired\r\n      public PersonClientService(RestTemplate restTemplate, @Value(&quot;${person.url}&quot;) String apiUrl) {\r\n        this.restTemplate = restTemplate;\r\n        EXTERNAL_API = apiUrl\r\n      }\r\n   \r\n      public ResponseDTO createData(PersonDTO personDTO) throws Exception {\r\n        try {\r\n          HttpEntity&lt;PersonDTO&gt; input = new HttpEntity&lt;&gt;(personDTO);\r\n          ResponseEntity&lt;ResponseDTO&gt; restponseDTO = restTemplate.exchange(EXTERNAL_API, HttpMethod.POST, input, ResponseDTO.class);\r\n          return responseDTO.getBody();\r\n        } catch(Exception e) {\r\n          //catch exception\r\n        }\r\n      }\r\n    }\r\n\r\nNow the rest template here that I am using is secured with OAuth2 implementation and it is using `client_id` and `secret` with `grant_type` as `client_credentials` to generate a token and then using this token as header to call the `EXTERNAL_API`\r\n\r\nI am following this guide here but it&#39;s not really helpful since it is using JUnit4 and I am on JUnit5: https://www.baeldung.com/oauth-api-testing-with-spring-mvc","title":"How do I write an integration test for a REST API secured with OAuth2 in JUnit5?","body":"<p>I have a client service like this,</p>\n<pre><code>@Service\npublic class PersonClientService {\n  private final String EXTERNAL_API;\n  private RestTemplate restTemplate;\n\n  @Autowired\n  public PersonClientService(RestTemplate restTemplate, @Value(&quot;${person.url}&quot;) String apiUrl) {\n    this.restTemplate = restTemplate;\n    EXTERNAL_API = apiUrl\n  }\n\n  public ResponseDTO createData(PersonDTO personDTO) throws Exception {\n    try {\n      HttpEntity&lt;PersonDTO&gt; input = new HttpEntity&lt;&gt;(personDTO);\n      ResponseEntity&lt;ResponseDTO&gt; restponseDTO = restTemplate.exchange(EXTERNAL_API, HttpMethod.POST, input, ResponseDTO.class);\n      return responseDTO.getBody();\n    } catch(Exception e) {\n      //catch exception\n    }\n  }\n}\n</code></pre>\n<p>Now the rest template here that I am using is secured with OAuth2 implementation and it is using <code>client_id</code> and <code>secret</code> with <code>grant_type</code> as <code>client_credentials</code> to generate a token and then using this token as header to call the <code>EXTERNAL_API</code></p>\n<p>I am following this guide here but it's not really helpful since it is using JUnit4 and I am on JUnit5: <a href=\"https://www.baeldung.com/oauth-api-testing-with-spring-mvc\" rel=\"nofollow noreferrer\">https://www.baeldung.com/oauth-api-testing-with-spring-mvc</a></p>\n"},{"tags":["java","jpeg","extract","mov"],"comments":[{"owner":{"account_id":1593148,"reputation":9800,"user_id":1519458,"accept_rate":67,"display_name":"Nuri Tasdemir"},"score":1,"creation_date":1364773223,"post_id":15735716,"comment_id":22357663,"body_markdown":"Probably I am asking the question in a wrong way. I do not play the video file (on screen). I just want to read and process it as a file and get a sample frame from it and save this sample frame as a jpeg","body":"Probably I am asking the question in a wrong way. I do not play the video file (on screen). I just want to read and process it as a file and get a sample frame from it and save this sample frame as a jpeg"},{"owner":{"account_id":1575857,"reputation":15730,"user_id":1462337,"accept_rate":82,"display_name":"rhashimoto"},"score":0,"creation_date":1364774345,"post_id":15735716,"comment_id":22357884,"body_markdown":"Here&#39;s a [similar question](http://stackoverflow.com/questions/11808815/how-to-get-the-the-single-images-of-an-mp4-movie-in-java) that doesn&#39;t look like it got a complete answer but might get you started.","body":"Here&#39;s a <a href=\"http://stackoverflow.com/questions/11808815/how-to-get-the-the-single-images-of-an-mp4-movie-in-java\">similar question</a> that doesn&#39;t look like it got a complete answer but might get you started."},{"owner":{"account_id":1593148,"reputation":9800,"user_id":1519458,"accept_rate":67,"display_name":"Nuri Tasdemir"},"score":2,"creation_date":1364780016,"post_id":15735716,"comment_id":22358933,"body_markdown":"I did it using Xoggler. I gave the link for the code in the answer section","body":"I did it using Xoggler. I gave the link for the code in the answer section"}],"answers":[{"tags":[],"owner":{"account_id":1501890,"reputation":1892,"user_id":1406264,"accept_rate":96,"display_name":"DRastislav"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1364772989,"creation_date":1364772989,"answer_id":15735809,"question_id":15735716,"body_markdown":"maybe this will help you: \r\n\r\n    Buffer buf = frameGrabber.grabFrame();\r\n    // Convert frame to an buffered image so it can be processed and saved\r\n    Image img = (new BufferToImage((VideoFormat) buf.getFormat()).createImage(buf));\r\n    buffImg = new BufferedImage(img.getWidth(this), img.getHeight(this), BufferedImage.TYPE_INT_RGB);\r\n    //TODO saving the buffImg\r\n\r\nfor more informations: \r\n\r\nhttps://stackoverflow.com/questions/1078689/how-to-take-single-snapshots-from-a-webcam","title":"How can I get a frame sample (jpeg) from a video (mov)","body":"<p>maybe this will help you: </p>\n\n<pre><code>Buffer buf = frameGrabber.grabFrame();\n// Convert frame to an buffered image so it can be processed and saved\nImage img = (new BufferToImage((VideoFormat) buf.getFormat()).createImage(buf));\nbuffImg = new BufferedImage(img.getWidth(this), img.getHeight(this), BufferedImage.TYPE_INT_RGB);\n//TODO saving the buffImg\n</code></pre>\n\n<p>for more informations: </p>\n\n<p><a href=\"https://stackoverflow.com/questions/1078689/how-to-take-single-snapshots-from-a-webcam\">How to take single snapshots from a webcam?</a></p>\n"},{"tags":[],"owner":{"account_id":1593148,"reputation":9800,"user_id":1519458,"accept_rate":67,"display_name":"Nuri Tasdemir"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1364790143,"creation_date":1364779897,"answer_id":15736494,"question_id":15735716,"body_markdown":"Xuggler does the job. They even give a sample code which does exactly what I need. Link is below\r\n\r\nhttp://xuggle.googlecode.com/svn/trunk/java/xuggle-xuggler/src/com/xuggle/mediatool/demos/DecodeAndCaptureFrames.java\r\n\r\nAnd I&#39;ve modified the code in this link such that it saves only the first frame of the video.\r\n\r\n\r\n    import javax.imageio.ImageIO;\r\n    \r\n    import java.io.File;\r\n    \r\n    import java.awt.image.BufferedImage;\r\n    \r\n    import com.xuggle.mediatool.IMediaReader;\r\n    import com.xuggle.mediatool.MediaListenerAdapter;\r\n    import com.xuggle.mediatool.ToolFactory;\r\n    import com.xuggle.mediatool.event.IVideoPictureEvent;\r\n    import com.xuggle.xuggler.Global;\r\n    \r\n    /**\r\n     *  * @author aclarke\r\n     *    @author trebor\r\n     */\r\n    \r\n    public class DecodeAndCaptureFrames extends MediaListenerAdapter\r\n    {\r\n      private int mVideoStreamIndex = -1;\r\n      private boolean gotFirst = false;\r\n      private String saveFile;\r\n      private Exception e;\r\n      /** Construct a DecodeAndCaptureFrames which reads and captures\r\n       * frames from a video file.\r\n       * \r\n       * @param filename the name of the media file to read\r\n       */\r\n    \r\n      public DecodeAndCaptureFrames(String videoFile, String saveFile)throws Exception\r\n      {\r\n        // create a media reader for processing video\r\n        this.saveFile = saveFile;\r\n        this.e = null;\r\n         IMediaReader reader = ToolFactory.makeReader(videoFile);\r\n        \r\n        // stipulate that we want BufferedImages created in BGR 24bit color space\r\n        reader.setBufferedImageTypeToGenerate(BufferedImage.TYPE_3BYTE_BGR);\r\n    \r\n        \r\n        // note that DecodeAndCaptureFrames is derived from\r\n        // MediaReader.ListenerAdapter and thus may be added as a listener\r\n        // to the MediaReader. DecodeAndCaptureFrames implements\r\n        // onVideoPicture().\r\n    \r\n        reader.addListener(this);\r\n    \r\n        // read out the contents of the media file, note that nothing else\r\n        // happens here.  action happens in the onVideoPicture() method\r\n        // which is called when complete video pictures are extracted from\r\n        // the media source\r\n    \r\n          while (reader.readPacket() == null &amp;&amp; !gotFirst);\r\n          \r\n          if (e != null)\r\n              throw e;\r\n      }\r\n      \r\n     \r\n    \r\n      /** \r\n       * Called after a video frame has been decoded from a media stream.\r\n       * Optionally a BufferedImage version of the frame may be passed\r\n       * if the calling {@link IMediaReader} instance was configured to\r\n       * create BufferedImages.\r\n       * \r\n       * This method blocks, so return quickly.\r\n       */\r\n    \r\n      public void onVideoPicture(IVideoPictureEvent event)\r\n      {\r\n        try\r\n        {\r\n          // if the stream index does not match the selected stream index,\r\n          // then have a closer look\r\n          \r\n          if (event.getStreamIndex() != mVideoStreamIndex)\r\n          {\r\n            // if the selected video stream id is not yet set, go ahead an\r\n            // select this lucky video stream\r\n            \r\n            if (-1 == mVideoStreamIndex)\r\n              mVideoStreamIndex = event.getStreamIndex();\r\n            \r\n            // otherwise return, no need to show frames from this video stream\r\n            \r\n            else\r\n              return;\r\n          }\r\n          \r\n          ImageIO.write(event.getImage(), &quot;jpg&quot;, new File(saveFile));\r\n          gotFirst = true;\r\n         \r\n        }\r\n        catch (Exception e)\r\n        {\r\n          this.e = e;\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"How can I get a frame sample (jpeg) from a video (mov)","body":"<p>Xuggler does the job. They even give a sample code which does exactly what I need. Link is below</p>\n\n<p><a href=\"http://xuggle.googlecode.com/svn/trunk/java/xuggle-xuggler/src/com/xuggle/mediatool/demos/DecodeAndCaptureFrames.java\" rel=\"noreferrer\">http://xuggle.googlecode.com/svn/trunk/java/xuggle-xuggler/src/com/xuggle/mediatool/demos/DecodeAndCaptureFrames.java</a></p>\n\n<p>And I've modified the code in this link such that it saves only the first frame of the video.</p>\n\n<pre><code>import javax.imageio.ImageIO;\n\nimport java.io.File;\n\nimport java.awt.image.BufferedImage;\n\nimport com.xuggle.mediatool.IMediaReader;\nimport com.xuggle.mediatool.MediaListenerAdapter;\nimport com.xuggle.mediatool.ToolFactory;\nimport com.xuggle.mediatool.event.IVideoPictureEvent;\nimport com.xuggle.xuggler.Global;\n\n/**\n *  * @author aclarke\n *    @author trebor\n */\n\npublic class DecodeAndCaptureFrames extends MediaListenerAdapter\n{\n  private int mVideoStreamIndex = -1;\n  private boolean gotFirst = false;\n  private String saveFile;\n  private Exception e;\n  /** Construct a DecodeAndCaptureFrames which reads and captures\n   * frames from a video file.\n   * \n   * @param filename the name of the media file to read\n   */\n\n  public DecodeAndCaptureFrames(String videoFile, String saveFile)throws Exception\n  {\n    // create a media reader for processing video\n    this.saveFile = saveFile;\n    this.e = null;\n     IMediaReader reader = ToolFactory.makeReader(videoFile);\n\n    // stipulate that we want BufferedImages created in BGR 24bit color space\n    reader.setBufferedImageTypeToGenerate(BufferedImage.TYPE_3BYTE_BGR);\n\n\n    // note that DecodeAndCaptureFrames is derived from\n    // MediaReader.ListenerAdapter and thus may be added as a listener\n    // to the MediaReader. DecodeAndCaptureFrames implements\n    // onVideoPicture().\n\n    reader.addListener(this);\n\n    // read out the contents of the media file, note that nothing else\n    // happens here.  action happens in the onVideoPicture() method\n    // which is called when complete video pictures are extracted from\n    // the media source\n\n      while (reader.readPacket() == null &amp;&amp; !gotFirst);\n\n      if (e != null)\n          throw e;\n  }\n\n\n\n  /** \n   * Called after a video frame has been decoded from a media stream.\n   * Optionally a BufferedImage version of the frame may be passed\n   * if the calling {@link IMediaReader} instance was configured to\n   * create BufferedImages.\n   * \n   * This method blocks, so return quickly.\n   */\n\n  public void onVideoPicture(IVideoPictureEvent event)\n  {\n    try\n    {\n      // if the stream index does not match the selected stream index,\n      // then have a closer look\n\n      if (event.getStreamIndex() != mVideoStreamIndex)\n      {\n        // if the selected video stream id is not yet set, go ahead an\n        // select this lucky video stream\n\n        if (-1 == mVideoStreamIndex)\n          mVideoStreamIndex = event.getStreamIndex();\n\n        // otherwise return, no need to show frames from this video stream\n\n        else\n          return;\n      }\n\n      ImageIO.write(event.getImage(), \"jpg\", new File(saveFile));\n      gotFirst = true;\n\n    }\n    catch (Exception e)\n    {\n      this.e = e;\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":171115,"reputation":3305,"user_id":398316,"accept_rate":91,"display_name":"Maghoumi"},"down_vote_count":1,"up_vote_count":72,"is_accepted":false,"score":71,"last_activity_date":1657656812,"creation_date":1393626836,"answer_id":22107132,"question_id":15735716,"body_markdown":"I know that the original question is solved, nevertheless, I am posting this answer in case anyone else got stuck like I did.  \r\n\r\nSince yesterday, I have tried everything, and I mean everything to do this. All available Java libraries are either out of date, not maintained anymore or lack any kind of usable documentation (seriously??!?!)  \r\n\r\nI tried JFM (old and useless), JCodec (no documentation whatsoever), JJMpeg (looks promising but is very difficult and cumbersome to use due to lack of Java-class documentation), OpenCV auto-Java builds and a few bunch of other libraries that I cannot remember.  \r\n\r\nFinally, I decided to take a look at [JavaCV][1]&#39;s ([Github link][2]) classes and voila! It contains FFMPEG bindings with detailed documentations.\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.bytedeco&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;javacv&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nTurns out there is a very easy way to extract video frames from a video file to a `BufferedImage` and by extension a JPEG file. The class FFmpegFrameGrabber could be easily used for grabbing individual frames and converting them to `BufferedImage`. A code sample is as follows:\r\n\r\n    FFmpegFrameGrabber g = new FFmpegFrameGrabber(&quot;textures/video/anim.mp4&quot;);\r\n    g.start();\r\n\r\n    Java2DFrameConverter converter = new Java2DFrameConverter();\r\n    \r\n    for (int i = 0 ; i &lt; 50 ; i++) {\r\n        \r\n        Frame frame = g.grabImage(); // It is important to use grabImage() to get a frame that can be turned into a BufferedImage\r\n\r\n        BufferedImage bi = converter.convert(frame);\r\n\r\n    \tImageIO.write(bi, &quot;png&quot;, new File(&quot;frame-dump/video-frame-&quot; + System.currentTimeMillis() + &quot;.png&quot;));\r\n    }\r\n    \r\n    g.stop();\r\n\r\nBasically, this code dumps the first 50 frames of the video and saves them as a PNG file. The good thing is that the internal seek function, works on actual frames not keyframes (a problem that I had with JCodec)\r\n\r\nYou can refer to the JavaCV&#39;s homepage to find out more about other classes that can be used for capturing frames from WebCams etc. Hope this answer helps :-)\r\n\r\n\r\n  [1]: https://code.google.com/p/javacv/\r\n  [2]: https://github.com/bytedeco/javacv","title":"How can I get a frame sample (jpeg) from a video (mov)","body":"<p>I know that the original question is solved, nevertheless, I am posting this answer in case anyone else got stuck like I did.</p>\n<p>Since yesterday, I have tried everything, and I mean everything to do this. All available Java libraries are either out of date, not maintained anymore or lack any kind of usable documentation (seriously??!?!)</p>\n<p>I tried JFM (old and useless), JCodec (no documentation whatsoever), JJMpeg (looks promising but is very difficult and cumbersome to use due to lack of Java-class documentation), OpenCV auto-Java builds and a few bunch of other libraries that I cannot remember.</p>\n<p>Finally, I decided to take a look at <a href=\"https://code.google.com/p/javacv/\" rel=\"nofollow noreferrer\">JavaCV</a>'s (<a href=\"https://github.com/bytedeco/javacv\" rel=\"nofollow noreferrer\">Github link</a>) classes and voila! It contains FFMPEG bindings with detailed documentations.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.bytedeco&lt;/groupId&gt;\n    &lt;artifactId&gt;javacv&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Turns out there is a very easy way to extract video frames from a video file to a <code>BufferedImage</code> and by extension a JPEG file. The class FFmpegFrameGrabber could be easily used for grabbing individual frames and converting them to <code>BufferedImage</code>. A code sample is as follows:</p>\n<pre><code>FFmpegFrameGrabber g = new FFmpegFrameGrabber(&quot;textures/video/anim.mp4&quot;);\ng.start();\n\nJava2DFrameConverter converter = new Java2DFrameConverter();\n\nfor (int i = 0 ; i &lt; 50 ; i++) {\n    \n    Frame frame = g.grabImage(); // It is important to use grabImage() to get a frame that can be turned into a BufferedImage\n\n    BufferedImage bi = converter.convert(frame);\n\n    ImageIO.write(bi, &quot;png&quot;, new File(&quot;frame-dump/video-frame-&quot; + System.currentTimeMillis() + &quot;.png&quot;));\n}\n\ng.stop();\n</code></pre>\n<p>Basically, this code dumps the first 50 frames of the video and saves them as a PNG file. The good thing is that the internal seek function, works on actual frames not keyframes (a problem that I had with JCodec)</p>\n<p>You can refer to the JavaCV's homepage to find out more about other classes that can be used for capturing frames from WebCams etc. Hope this answer helps :-)</p>\n"},{"tags":[],"owner":{"account_id":2815364,"reputation":4577,"user_id":2420599,"display_name":"Gabriel Archanjo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404474613,"creation_date":1404474613,"answer_id":24573630,"question_id":15735716,"body_markdown":"Below it is shown the essential code to request frames from media files.\r\n\r\nFor the complete source code and video demo:&lt;br/&gt;\r\n[&quot;Media File Processing&quot;][1] example using **Marvin Framework**..\r\n\r\n    public class MediaFileExample implements Runnable{\r\n\r\n        private MarvinVideoInterface    videoAdapter;\r\n        private MarvinImage             videoFrame;\r\n\r\n        public MediaFileExample(){\r\n            try{\r\n                // Create the VideoAdapter used to load the video file\r\n                videoAdapter = new MarvinJavaCVAdapter();\r\n                videoAdapter.loadResource(&quot;./res/snooker.wmv&quot;);\r\n\r\n                // Start the thread for requesting the video frames \r\n                new Thread(this).start();\r\n            }\r\n            catch(MarvinVideoInterfaceException e){e.printStackTrace();}\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            try{\r\n                while(true){\r\n                    // Request a video frame\r\n                    videoFrame = videoAdapter.getFrame();\r\n                }\r\n            }catch(MarvinVideoInterfaceException e){e.printStackTrace();}\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            MediaFileExample m = new MediaFileExample();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://marvinproject.sourceforge.net/en/examples/mediaFile.html","title":"How can I get a frame sample (jpeg) from a video (mov)","body":"<p>Below it is shown the essential code to request frames from media files.</p>\n\n<p>For the complete source code and video demo:<br/>\n<a href=\"http://marvinproject.sourceforge.net/en/examples/mediaFile.html\" rel=\"nofollow\">\"Media File Processing\"</a> example using <strong>Marvin Framework</strong>..</p>\n\n<pre><code>public class MediaFileExample implements Runnable{\n\n    private MarvinVideoInterface    videoAdapter;\n    private MarvinImage             videoFrame;\n\n    public MediaFileExample(){\n        try{\n            // Create the VideoAdapter used to load the video file\n            videoAdapter = new MarvinJavaCVAdapter();\n            videoAdapter.loadResource(\"./res/snooker.wmv\");\n\n            // Start the thread for requesting the video frames \n            new Thread(this).start();\n        }\n        catch(MarvinVideoInterfaceException e){e.printStackTrace();}\n    }\n\n    @Override\n    public void run() {\n        try{\n            while(true){\n                // Request a video frame\n                videoFrame = videoAdapter.getFrame();\n            }\n        }catch(MarvinVideoInterfaceException e){e.printStackTrace();}\n    }\n\n    public static void main(String[] args) {\n        MediaFileExample m = new MediaFileExample();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5952056,"reputation":71,"user_id":4679744,"display_name":"kousik Mridha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1426824474,"creation_date":1426652427,"answer_id":29114068,"question_id":15735716,"body_markdown":"\r\n\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import javax.imageio.ImageIO;\r\n    import org.bytedeco.javacpp.opencv_core.IplImage;\r\n    import org.bytedeco.javacv.FFmpegFrameGrabber;\r\n    import org.bytedeco.javacv.FrameGrabber.Exception;\r\n    \r\n    public class Read{\r\n    \tpublic static void main(String []args) throws IOException, Exception\r\n    \t{\r\n    \t\tFFmpegFrameGrabber frameGrabber = new FFmpegFrameGrabber(&quot;C:/Users/Digilog/Downloads/Test.mp4&quot;);\r\n    \t\tframeGrabber.start();\r\n    \t\tIplImage i;\r\n    \t\ttry {\r\n    \t\t\t\r\n    \t\t\ti = frameGrabber.grab();\r\n    \t\t\tBufferedImage  bi = i.getBufferedImage();\r\n    \t\t\tImageIO.write(bi,&quot;png&quot;, new File(&quot;D:/Img.png&quot;));\r\n    \t\t\tframeGrabber.stop();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\t \r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n","title":"How can I get a frame sample (jpeg) from a video (mov)","body":"<pre><code>import java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport javax.imageio.ImageIO;\nimport org.bytedeco.javacpp.opencv_core.IplImage;\nimport org.bytedeco.javacv.FFmpegFrameGrabber;\nimport org.bytedeco.javacv.FrameGrabber.Exception;\n\npublic class Read{\n    public static void main(String []args) throws IOException, Exception\n    {\n        FFmpegFrameGrabber frameGrabber = new FFmpegFrameGrabber(\"C:/Users/Digilog/Downloads/Test.mp4\");\n        frameGrabber.start();\n        IplImage i;\n        try {\n\n            i = frameGrabber.grab();\n            BufferedImage  bi = i.getBufferedImage();\n            ImageIO.write(bi,\"png\", new File(\"D:/Img.png\"));\n            frameGrabber.stop();\n        } catch (Exception e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4973546,"reputation":28157,"user_id":4009451,"accept_rate":87,"display_name":"smeeb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1471139437,"creation_date":1471139437,"answer_id":38938497,"question_id":15735716,"body_markdown":"Here&#39;s how with [BoofCV](https://github.com/lessthanoptimal/BoofCV/):\r\n\r\n    String fileName = UtilIO.pathExample(&quot;tracking/chipmunk.mjpeg&quot;);\r\n\r\n    MediaManager media = DefaultMediaManager.INSTANCE;\r\n\r\n    ConfigBackgroundBasic configBasic = new ConfigBackgroundBasic(30, 0.005f);\r\n    ImageType imageType = ImageType.single(GrayF32.class);\r\n    BackgroundModelMoving background = FactoryBackgroundModel.movingBasic(configBasic, new PointTransformHomography_F32(), imageType);\r\n\r\n    SimpleImageSequence video = media.openVideo(fileName, background.getImageType());\r\n\r\n    ImageBase nextFrame;\r\n    while(video.hasNext()) {\r\n        nextFrame = video.next();\r\n        \r\n        // Now do something with it...\r\n    }","title":"How can I get a frame sample (jpeg) from a video (mov)","body":"<p>Here's how with <a href=\"https://github.com/lessthanoptimal/BoofCV/\" rel=\"nofollow\">BoofCV</a>:</p>\n\n<pre><code>String fileName = UtilIO.pathExample(\"tracking/chipmunk.mjpeg\");\n\nMediaManager media = DefaultMediaManager.INSTANCE;\n\nConfigBackgroundBasic configBasic = new ConfigBackgroundBasic(30, 0.005f);\nImageType imageType = ImageType.single(GrayF32.class);\nBackgroundModelMoving background = FactoryBackgroundModel.movingBasic(configBasic, new PointTransformHomography_F32(), imageType);\n\nSimpleImageSequence video = media.openVideo(fileName, background.getImageType());\n\nImageBase nextFrame;\nwhile(video.hasNext()) {\n    nextFrame = video.next();\n\n    // Now do something with it...\n}\n</code></pre>\n"}],"owner":{"account_id":1593148,"reputation":9800,"user_id":1519458,"accept_rate":67,"display_name":"Nuri Tasdemir"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66145,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":15736494,"answer_count":6,"score":28,"last_activity_date":1657656812,"creation_date":1364772280,"question_id":15735716,"body_markdown":"I want to get a frame sample (jpeg) from a video file (mov) with java. Is there an easy way to do this. When I search in google all I can find is to make mov from multiple jpgs. I dont know maybe I cannot find the right keywords.","title":"How can I get a frame sample (jpeg) from a video (mov)","body":"<p>I want to get a frame sample (jpeg) from a video file (mov) with java. Is there an easy way to do this. When I search in google all I can find is to make mov from multiple jpgs. I dont know maybe I cannot find the right keywords.</p>\n"},{"tags":["java","groovy"],"answers":[{"tags":[],"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657656729,"creation_date":1657656729,"answer_id":72957892,"question_id":72955522,"body_markdown":"it&#39;s a strange request and i&#39;d fix it in place where you are generating input text\r\n\r\nhowever seems each new-line that you want to remove prepended with a backslash `\\`\r\n```\r\ninput.replaceAll(&quot;&lt;[^&gt;]*&gt;&quot;,&quot;&quot;)\r\n     .replaceAll(&quot;\\\\\\\\[\\\\r\\\\n]+&quot;,&quot;&quot;) // backslach+newline -&gt; empty\r\n     .replaceAll(&quot;\\\\|[\\\\r\\\\n]+&quot;,&quot;|&quot;) // pipe+newline -&gt; pipe\r\n```\r\n\r\n","title":"Removing backslash and newline character within one column","body":"<p>it's a strange request and i'd fix it in place where you are generating input text</p>\n<p>however seems each new-line that you want to remove prepended with a backslash <code>\\</code></p>\n<pre><code>input.replaceAll(&quot;&lt;[^&gt;]*&gt;&quot;,&quot;&quot;)\n     .replaceAll(&quot;\\\\\\\\[\\\\r\\\\n]+&quot;,&quot;&quot;) // backslach+newline -&gt; empty\n     .replaceAll(&quot;\\\\|[\\\\r\\\\n]+&quot;,&quot;|&quot;) // pipe+newline -&gt; pipe\n</code></pre>\n"}],"owner":{"account_id":3393838,"reputation":207,"user_id":2848031,"accept_rate":64,"display_name":"user2848031"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72957892,"answer_count":1,"score":0,"last_activity_date":1657656729,"creation_date":1657643275,"question_id":72955522,"body_markdown":"I&#39;m getting text string html along with backslash and newline character. I can easily remove html tags using `.replaceAll(&quot;&lt;[^&gt;]*&gt;&quot;,&quot;&quot;)` but still \\ and new line character still exists. So, again i tried to `replaceAll(&quot;\\\\r\\\\n|\\\\r|\\\\n&quot;,&quot;&quot;)` but removing end of line characters.\r\n\r\nInput String:\r\n\r\n    test1|test2|test3|test4|test5\r\n    testa|testB|testc|testd|teste\r\n    test11|test22|\r\n    &lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; id=&quot;master_tbl&quot;&gt;\\\r\n    &lt;tbody&gt;\\\r\n    &lt;tr id=&quot;master_cr&quot;&gt;\\\r\n    &lt;td&gt;\\\r\n    &lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; id=&quot;master_DefaultContent_rts_s3801_tbl&quot;&gt;\\\r\n    &lt;tbody&gt;\\\r\n    &lt;tr id=&quot;master_DefaultContent_rts_s3801_cr&quot;&gt;\\\r\n    &lt;td&gt;\\\r\n    &lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; id=&quot;master_DefaultContent_rts_s3801_ctl03&quot; width=&quot;100%&quot;&gt;\\\r\n    &lt;tbody&gt;\\\r\n    &lt;tr&gt;\\\r\n    &lt;td&gt;&lt;span id=&quot;master_DefaultContent_rts_s3801_f25914c&quot;&gt;test33&lt;/span&gt;&lt;/td&gt;\\\r\n    &lt;/tr&gt;\\\r\n    &lt;/tbody&gt;\\\r\n    &lt;/table&gt;\\\r\n    &lt;/td&gt;\\\r\n    &lt;/tr&gt;\\\r\n    &lt;/tbody&gt;\\\r\n    &lt;/table&gt;\\\r\n    &lt;/td&gt;\\\r\n    &lt;/tr&gt;\\\r\n    &lt;/tbody&gt;\\\r\n    &lt;/table&gt;|test44|test55\r\n    test66|test77|test88|test99|test00\r\n\r\nExpected output string:\r\n\r\n    test1|test2|test3|test4|test5\r\n    testa|testB|testc|testd|teste\r\n    test11|test22|test33|test44|test55\r\n    test66|test77|test88|test99|test00","title":"Removing backslash and newline character within one column","body":"<p>I'm getting text string html along with backslash and newline character. I can easily remove html tags using <code>.replaceAll(&quot;&lt;[^&gt;]*&gt;&quot;,&quot;&quot;)</code> but still \\ and new line character still exists. So, again i tried to <code>replaceAll(&quot;\\\\r\\\\n|\\\\r|\\\\n&quot;,&quot;&quot;)</code> but removing end of line characters.</p>\n<p>Input String:</p>\n<pre><code>test1|test2|test3|test4|test5\ntesta|testB|testc|testd|teste\ntest11|test22|\n&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; id=&quot;master_tbl&quot;&gt;\\\n&lt;tbody&gt;\\\n&lt;tr id=&quot;master_cr&quot;&gt;\\\n&lt;td&gt;\\\n&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; id=&quot;master_DefaultContent_rts_s3801_tbl&quot;&gt;\\\n&lt;tbody&gt;\\\n&lt;tr id=&quot;master_DefaultContent_rts_s3801_cr&quot;&gt;\\\n&lt;td&gt;\\\n&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; id=&quot;master_DefaultContent_rts_s3801_ctl03&quot; width=&quot;100%&quot;&gt;\\\n&lt;tbody&gt;\\\n&lt;tr&gt;\\\n&lt;td&gt;&lt;span id=&quot;master_DefaultContent_rts_s3801_f25914c&quot;&gt;test33&lt;/span&gt;&lt;/td&gt;\\\n&lt;/tr&gt;\\\n&lt;/tbody&gt;\\\n&lt;/table&gt;\\\n&lt;/td&gt;\\\n&lt;/tr&gt;\\\n&lt;/tbody&gt;\\\n&lt;/table&gt;\\\n&lt;/td&gt;\\\n&lt;/tr&gt;\\\n&lt;/tbody&gt;\\\n&lt;/table&gt;|test44|test55\ntest66|test77|test88|test99|test00\n</code></pre>\n<p>Expected output string:</p>\n<pre><code>test1|test2|test3|test4|test5\ntesta|testB|testc|testd|teste\ntest11|test22|test33|test44|test55\ntest66|test77|test88|test99|test00\n</code></pre>\n"},{"tags":["java","json","post","rest-assured","rest-assured-jsonpath"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1657666599,"post_id":72957706,"comment_id":128863980,"body_markdown":"You should log the RA request and find out what is the difference between RA and Postman. Because your request is `bad request` meaning some key-value is wrong, the response is HTML, starting with `&lt;` character --&gt; RA throws JSON Exception while parsing it.","body":"You should log the RA request and find out what is the difference between RA and Postman. Because your request is <code>bad request</code> meaning some key-value is wrong, the response is HTML, starting with <code>&lt;</code> character --&gt; RA throws JSON Exception while parsing it."},{"owner":{"account_id":15371775,"reputation":514,"user_id":11089623,"display_name":"cheparsky"},"score":0,"creation_date":1658779308,"post_id":72957706,"comment_id":129132132,"body_markdown":"1) `Lexing failed on line: 1, column: 1, while reading &#39;&lt;&#39;, no possible valid JSON` - looks like you get XML in response, not JSON; 2) add whole error stack trace when you get `400 bad request`; 3) Postman add some additional headers, e.g. `Content-Type` header, check it","body":"1) <code>Lexing failed on line: 1, column: 1, while reading &#39;&lt;&#39;, no possible valid JSON</code> - looks like you get XML in response, not JSON; 2) add whole error stack trace when you get <code>400 bad request</code>; 3) Postman add some additional headers, e.g. <code>Content-Type</code> header, check it"}],"owner":{"account_id":4113062,"reputation":435,"user_id":3375417,"accept_rate":0,"display_name":"wheelerlc64"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":617,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657655700,"creation_date":1657655700,"question_id":72957706,"body_markdown":"Currently I am getting the below error when trying to perform a post Request in Rest Assured and looking to get the &quot;tokenId&quot; from the response body:\r\n\r\n```\r\nio.restassured.path.json.exception.JsonPathException: Failed to parse the JSON document\r\n\r\n\tat io.restassured.path.json.JsonPath$ExceptionCatcher.invoke(JsonPath.java:1002)\r\n\tat io.restassured.path.json.JsonPath$4.doParseWith(JsonPath.java:967)\r\n\tat io.restassured.path.json.JsonPath$JsonParser.parseWith(JsonPath.java:1047)\r\n\tat io.restassured.path.json.JsonPath.get(JsonPath.java:202)\r\n\tat io.restassured.path.json.JsonPath.getString(JsonPath.java:352)\r\n\tat com.restassured.oauth.AuthenticateSetup.authenticationSetup(AuthenticateSetup.java:39)\r\n\tat com.restassured.runner.TestRunner.testNgBeforeSuite(TestRunner.java:31)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:124)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:59)\r\n\tat org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:458)\r\n\tat org.testng.internal.Invoker.invokeConfigurations(Invoker.java:222)\r\n\tat org.testng.internal.Invoker.invokeConfigurations(Invoker.java:142)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:401)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:364)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:84)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1208)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1137)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1049)\r\n\tat org.testng.TestNG.run(TestNG.java:1017)\r\n\tat com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\r\n\tat com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\r\nCaused by: groovy.json.JsonException: Lexing failed on line: 1, column: 1, while reading &#39;&lt;&#39;, no possible valid JSON value or punctuation could be recognized.\r\n\tat groovy.json.JsonLexer.nextToken(JsonLexer.java:86)\r\n\tat groovy.json.JsonLexer$nextToken.call(Unknown Source)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:130)\r\n\tat io.restassured.internal.path.json.ConfigurableJsonSlurper.parse(ConfigurableJsonSlurper.groovy:97)\r\n\tat io.restassured.internal.path.json.ConfigurableJsonSlurper$parse.callCurrent(Unknown Source)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:51)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:171)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:185)\r\n\tat io.restassured.internal.path.json.ConfigurableJsonSlurper.parseText(ConfigurableJsonSlurper.groovy:83)\r\n\tat io.restassured.path.json.JsonPath$4$1.method(JsonPath.java:965)\r\n\tat io.restassured.path.json.JsonPath$ExceptionCatcher.invoke(JsonPath.java:1000)\r\n\t... 25 more\r\n```\r\n\r\nThe code I have is as seen below:\r\n\r\n\r\n```\r\npublic class AuthenticateSetup {\r\n\r\n    public static Response response;\r\n    public static String responseString;\r\n    public static ReadPropertyFile urlProperties;\r\n\r\n    public void authenticationSetup() throws JsonException {\r\n\r\n        urlProperties = new ReadPropertyFile(&quot;./src/test/resources/Url.properties&quot;);\r\n        RestAssured.baseURI = urlProperties.getProperty(&quot;devAuthBaseUrl&quot;);\r\n        response = given()\r\n                .config(RestAssured.config().encoderConfig(encoderConfig().encodeContentTypeAs(&quot;*/*&quot;, ContentType.JSON)))\r\n                //.contentType(ContentType.ANY)\r\n                .param(&quot;authIndexType&quot;, &quot;service&quot;)\r\n                .param(&quot;authIndexValue&quot;, &quot;ldapService&quot;)\r\n                .header(&quot;host&quot;, RestAssured.baseURI)\r\n                .header(&quot;X-OpenAM-Username&quot;,urlProperties.getProperty(&quot;contactId&quot;))\r\n                .header(&quot;X-OpenAM-Password&quot;,urlProperties.getProperty(&quot;contactPwd&quot;))\r\n                .header(&quot;Accept-API-Version&quot;,&quot;resource=2.0,protocol=1.0&quot;)\r\n                .when()\r\n                .post(urlProperties.getProperty(&quot;devVGWAuthenticateUrl&quot;))\r\n                .then()\r\n//                .assertThat()\r\n//                .statusCode(200)\r\n                .extract().response();\r\n\r\n        System.out.println(&quot;The response is &quot; + response);\r\n        String tokenId = response.jsonPath().getString(&quot;tokenId&quot;);\r\n        System.out.println(&quot;The token id is &quot; + tokenId);\r\n\t}\r\n}\r\n```\r\n\r\nAt first I was getting an encoding error so I added the config.  Below is the postman request that works just fine in postman:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIs there any reason I am unable to parse the JSON?  Also if I turn on the .assertThat().statuscode(200) call I am getting a 400 error for bad request.  Any help would be appreciated as I&#39;m unsure where to go from here.\r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Cx1DJ.png","title":"Rest Assured - Unable to parse JSON Document when doing a POST request with params and headers","body":"<p>Currently I am getting the below error when trying to perform a post Request in Rest Assured and looking to get the &quot;tokenId&quot; from the response body:</p>\n<pre><code>io.restassured.path.json.exception.JsonPathException: Failed to parse the JSON document\n\n    at io.restassured.path.json.JsonPath$ExceptionCatcher.invoke(JsonPath.java:1002)\n    at io.restassured.path.json.JsonPath$4.doParseWith(JsonPath.java:967)\n    at io.restassured.path.json.JsonPath$JsonParser.parseWith(JsonPath.java:1047)\n    at io.restassured.path.json.JsonPath.get(JsonPath.java:202)\n    at io.restassured.path.json.JsonPath.getString(JsonPath.java:352)\n    at com.restassured.oauth.AuthenticateSetup.authenticationSetup(AuthenticateSetup.java:39)\n    at com.restassured.runner.TestRunner.testNgBeforeSuite(TestRunner.java:31)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:124)\n    at org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:59)\n    at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:458)\n    at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:222)\n    at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:142)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:401)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:364)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:84)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1208)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1137)\n    at org.testng.TestNG.runSuites(TestNG.java:1049)\n    at org.testng.TestNG.run(TestNG.java:1017)\n    at com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\n    at com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\nCaused by: groovy.json.JsonException: Lexing failed on line: 1, column: 1, while reading '&lt;', no possible valid JSON value or punctuation could be recognized.\n    at groovy.json.JsonLexer.nextToken(JsonLexer.java:86)\n    at groovy.json.JsonLexer$nextToken.call(Unknown Source)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:130)\n    at io.restassured.internal.path.json.ConfigurableJsonSlurper.parse(ConfigurableJsonSlurper.groovy:97)\n    at io.restassured.internal.path.json.ConfigurableJsonSlurper$parse.callCurrent(Unknown Source)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:51)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:171)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:185)\n    at io.restassured.internal.path.json.ConfigurableJsonSlurper.parseText(ConfigurableJsonSlurper.groovy:83)\n    at io.restassured.path.json.JsonPath$4$1.method(JsonPath.java:965)\n    at io.restassured.path.json.JsonPath$ExceptionCatcher.invoke(JsonPath.java:1000)\n    ... 25 more\n</code></pre>\n<p>The code I have is as seen below:</p>\n<pre><code>public class AuthenticateSetup {\n\n    public static Response response;\n    public static String responseString;\n    public static ReadPropertyFile urlProperties;\n\n    public void authenticationSetup() throws JsonException {\n\n        urlProperties = new ReadPropertyFile(&quot;./src/test/resources/Url.properties&quot;);\n        RestAssured.baseURI = urlProperties.getProperty(&quot;devAuthBaseUrl&quot;);\n        response = given()\n                .config(RestAssured.config().encoderConfig(encoderConfig().encodeContentTypeAs(&quot;*/*&quot;, ContentType.JSON)))\n                //.contentType(ContentType.ANY)\n                .param(&quot;authIndexType&quot;, &quot;service&quot;)\n                .param(&quot;authIndexValue&quot;, &quot;ldapService&quot;)\n                .header(&quot;host&quot;, RestAssured.baseURI)\n                .header(&quot;X-OpenAM-Username&quot;,urlProperties.getProperty(&quot;contactId&quot;))\n                .header(&quot;X-OpenAM-Password&quot;,urlProperties.getProperty(&quot;contactPwd&quot;))\n                .header(&quot;Accept-API-Version&quot;,&quot;resource=2.0,protocol=1.0&quot;)\n                .when()\n                .post(urlProperties.getProperty(&quot;devVGWAuthenticateUrl&quot;))\n                .then()\n//                .assertThat()\n//                .statusCode(200)\n                .extract().response();\n\n        System.out.println(&quot;The response is &quot; + response);\n        String tokenId = response.jsonPath().getString(&quot;tokenId&quot;);\n        System.out.println(&quot;The token id is &quot; + tokenId);\n    }\n}\n</code></pre>\n<p>At first I was getting an encoding error so I added the config.  Below is the postman request that works just fine in postman:</p>\n<p><a href=\"https://i.stack.imgur.com/Cx1DJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Cx1DJ.png\" alt=\"enter image description here\" /></a></p>\n<p>Is there any reason I am unable to parse the JSON?  Also if I turn on the .assertThat().statuscode(200) call I am getting a 400 error for bad request.  Any help would be appreciated as I'm unsure where to go from here.</p>\n"},{"tags":["java","spring","querydsl"],"owner":{"account_id":2449433,"reputation":627,"user_id":2280645,"accept_rate":96,"display_name":"KenobiBastila"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":566,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1657655058,"creation_date":1657655058,"question_id":72957612,"body_markdown":"**Overview**\r\n\r\nUsing QueryDSL, its possible to derive queries from the attributes contained in a Request query string. For example:\r\n\r\n    ?firstname=Dave&amp;lastname=Matthews\r\n\r\nThis query would search for users with firstname equal to Dave and Last name equal to matthews.\r\n\r\n\r\n\r\n**Problem**\r\n\r\nHow do you use the LIKE operator? For example, suppose I want to fetch a list of users that have the lastname containing the word &quot;Matt&quot;. Ive read solutions that propose to bind the fields and instead of using equals, use contains in all of them. This does solve the problem but creates another as it replaces the EQUAL operator. Other proposed solutions is to customize every repository with every possible field of the class, as in : https://stackoverflow.com/questions/65250550/querydsl-web-with-contains\r\n\r\n\r\n\r\n\r\n\r\n**Current solution**\r\n\r\nThe current solution I have is to search using equals, it does not solve the problem. It does not work with LIKE, CONTAINS, or anything of the sort. So basically I have the method below:\r\n\r\n      @RequestMapping(value = &quot;/&quot;, method = RequestMethod.GET)\r\n      String index(Model model, \r\n              @QuerydslPredicate(root = User.class) Predicate predicate,    \r\n              Pageable pageable) {\r\n    \r\n        model.addAttribute(&quot;users&quot;, repository.findAll(predicate, pageable));\r\n    \r\n        return &quot;index&quot;;\r\n      }\r\n\r\n\r\n\r\n\r\n\r\n\r\n**Another Topic in Stackoverflow**\r\n\r\nThe following topic\r\n\r\n https://stackoverflow.com/questions/48378013/how-can-you-use-different-operators-with-querydsl-web\r\n\r\nApproach a similar issue however using another operators as example. The proposed solution by the user Geert Graat, is to use the library Spring Data QueryDSL Value Operators, which can be found at : https://bitbucket.org/gt_tech/spring-data-querydsl-value-operators/src/master/\r\n\r\nHowever, some questions remain:\r\n\r\nA) Is it still valid to 2022?\r\n\r\nB) Is this the only and proper solution? \r\n\r\n\r\n**References**\r\n\r\nhttps://www.logicbig.com/tutorials/spring-framework/spring-data/query-dsl-web-support.html\r\n\r\nhttps://www.logicbig.com/tutorials/spring-framework/spring-data/web-query-dsl-collection-properties.html\r\n\r\nhttps://gt-tech.bitbucket.io/spring-data-querydsl-value-operators/README.html\r\n\r\nhttps://bitbucket.org/gt_tech/spring-data-querydsl-value-operators/src/master/\r\n\r\nhttps://docs.spring.io/spring-data/jpa/docs/current/reference/html/#core.web.type-safe","title":"How to use Like Operator with QueryDSL-Web?","body":"<p><strong>Overview</strong></p>\n<p>Using QueryDSL, its possible to derive queries from the attributes contained in a Request query string. For example:</p>\n<pre><code>?firstname=Dave&amp;lastname=Matthews\n</code></pre>\n<p>This query would search for users with firstname equal to Dave and Last name equal to matthews.</p>\n<p><strong>Problem</strong></p>\n<p>How do you use the LIKE operator? For example, suppose I want to fetch a list of users that have the lastname containing the word &quot;Matt&quot;. Ive read solutions that propose to bind the fields and instead of using equals, use contains in all of them. This does solve the problem but creates another as it replaces the EQUAL operator. Other proposed solutions is to customize every repository with every possible field of the class, as in : <a href=\"https://stackoverflow.com/questions/65250550/querydsl-web-with-contains\">Querydsl web with contains</a></p>\n<p><strong>Current solution</strong></p>\n<p>The current solution I have is to search using equals, it does not solve the problem. It does not work with LIKE, CONTAINS, or anything of the sort. So basically I have the method below:</p>\n<pre><code>  @RequestMapping(value = &quot;/&quot;, method = RequestMethod.GET)\n  String index(Model model, \n          @QuerydslPredicate(root = User.class) Predicate predicate,    \n          Pageable pageable) {\n\n    model.addAttribute(&quot;users&quot;, repository.findAll(predicate, pageable));\n\n    return &quot;index&quot;;\n  }\n</code></pre>\n<p><strong>Another Topic in Stackoverflow</strong></p>\n<p>The following topic</p>\n<p><a href=\"https://stackoverflow.com/questions/48378013/how-can-you-use-different-operators-with-querydsl-web\">How can you use different operators with QueryDSL Web?</a></p>\n<p>Approach a similar issue however using another operators as example. The proposed solution by the user Geert Graat, is to use the library Spring Data QueryDSL Value Operators, which can be found at : <a href=\"https://bitbucket.org/gt_tech/spring-data-querydsl-value-operators/src/master/\" rel=\"nofollow noreferrer\">https://bitbucket.org/gt_tech/spring-data-querydsl-value-operators/src/master/</a></p>\n<p>However, some questions remain:</p>\n<p>A) Is it still valid to 2022?</p>\n<p>B) Is this the only and proper solution?</p>\n<p><strong>References</strong></p>\n<p><a href=\"https://www.logicbig.com/tutorials/spring-framework/spring-data/query-dsl-web-support.html\" rel=\"nofollow noreferrer\">https://www.logicbig.com/tutorials/spring-framework/spring-data/query-dsl-web-support.html</a></p>\n<p><a href=\"https://www.logicbig.com/tutorials/spring-framework/spring-data/web-query-dsl-collection-properties.html\" rel=\"nofollow noreferrer\">https://www.logicbig.com/tutorials/spring-framework/spring-data/web-query-dsl-collection-properties.html</a></p>\n<p><a href=\"https://gt-tech.bitbucket.io/spring-data-querydsl-value-operators/README.html\" rel=\"nofollow noreferrer\">https://gt-tech.bitbucket.io/spring-data-querydsl-value-operators/README.html</a></p>\n<p><a href=\"https://bitbucket.org/gt_tech/spring-data-querydsl-value-operators/src/master/\" rel=\"nofollow noreferrer\">https://bitbucket.org/gt_tech/spring-data-querydsl-value-operators/src/master/</a></p>\n<p><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#core.web.type-safe\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#core.web.type-safe</a></p>\n"},{"tags":["java","oracle","jpa","jdbc","eclipselink"],"answers":[{"tags":[],"owner":{"account_id":36208,"reputation":240316,"user_id":103154,"display_name":"axtavt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1274744906,"creation_date":1274744906,"answer_id":2901142,"question_id":2899888,"body_markdown":"`v$session.program` is a JDBC connection property, but `Persistence.createEntityManagerFactory` gets persistence unit properties. There is no direct way to pass arbitrary JDBC property into entity manager. \r\n\r\nHowever, in EclipseLink you can use `SessionCustomizer`:\r\n\r\n    public class ProgramCustomizer extends SessionCustomizer {\r\n        @Override\r\n        public void customize(Session s) throws Exception {\r\n            s.getDatasourceLogin().setProperty(&quot;v$session.program&quot;, &quot;Customers&quot;);\r\n            super.customize(s);\r\n        }\r\n    }\r\n\r\n-\r\n\r\n    emProperties.put(PersistenceUnitProperties.SESSION_CUSTOMIZER, &quot;ProgramCustomizer&quot;); ","title":"How to set application name with JPA (EclipseLink)?","body":"<p><code>v$session.program</code> is a JDBC connection property, but <code>Persistence.createEntityManagerFactory</code> gets persistence unit properties. There is no direct way to pass arbitrary JDBC property into entity manager. </p>\n\n<p>However, in EclipseLink you can use <code>SessionCustomizer</code>:</p>\n\n<pre><code>public class ProgramCustomizer extends SessionCustomizer {\n    @Override\n    public void customize(Session s) throws Exception {\n        s.getDatasourceLogin().setProperty(\"v$session.program\", \"Customers\");\n        super.customize(s);\n    }\n}\n</code></pre>\n\n<p>-</p>\n\n<pre><code>emProperties.put(PersistenceUnitProperties.SESSION_CUSTOMIZER, \"ProgramCustomizer\"); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":12026001,"reputation":487,"user_id":8797928,"display_name":"Gmugra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657102483,"creation_date":1657102483,"answer_id":72881715,"question_id":2899888,"body_markdown":"You can achive that without `SessionCustomizer` in `persistence.xml`:\r\n\r\n    &lt;property name=&quot;eclipselink.jdbc.property.v$session.program&quot; value=&quot;Customers&quot; /&gt;\r\n\r\nFYI: https://www.eclipse.org/eclipselink/documentation/2.7/jpa/extensions/persistenceproperties_ref.htm#CIHHJHHD","title":"How to set application name with JPA (EclipseLink)?","body":"<p>You can achive that without <code>SessionCustomizer</code> in <code>persistence.xml</code>:</p>\n<pre><code>&lt;property name=&quot;eclipselink.jdbc.property.v$session.program&quot; value=&quot;Customers&quot; /&gt;\n</code></pre>\n<p>FYI: <a href=\"https://www.eclipse.org/eclipselink/documentation/2.7/jpa/extensions/persistenceproperties_ref.htm#CIHHJHHD\" rel=\"nofollow noreferrer\">https://www.eclipse.org/eclipselink/documentation/2.7/jpa/extensions/persistenceproperties_ref.htm#CIHHJHHD</a></p>\n"}],"owner":{"account_id":133380,"reputation":199,"user_id":1159612,"accept_rate":64,"display_name":"Alvaro Castro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":976,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":2901142,"answer_count":2,"score":1,"last_activity_date":1657654964,"creation_date":1274731202,"question_id":2899888,"body_markdown":"hello everybody i am using JPA with EclipseLink and oracle as DB and i need to set the property **v$session of jdbc4** it  allows to set an identification name to the application for auditing purposes but i had no lucky setting it up....i have been trying through entitiyManager following the example in this page: http://wiki.eclipse.org/Configuring_a_EclipseLink_JPA_Application_(ELUG) it does not show any error but does not set the application name at all... when i see the audit in oracle it is not being audited with the name i set by code &quot;Customers&quot; but with OS_program_name=JDBC Thin Client it means that the property in the code is not being set properly and i have no idea where the issue is, the code i am using is the following :\r\n\r\n        emProperties.put(&quot;v$session.program&quot;,&quot;Customers&quot;);\r\n        factory=Persistence.createEntityManagerFactory(&quot;clients&quot;,emProperties);\r\n        em=factory.createEntityManager(emProperties);        \r\n        em.merge(clients);\r\n\r\n\r\ndoes anybody know how to do it or any idea....\r\n\r\nthanks.-","title":"How to set application name with JPA (EclipseLink)?","body":"<p>hello everybody i am using JPA with EclipseLink and oracle as DB and i need to set the property <strong>v$session of jdbc4</strong> it  allows to set an identification name to the application for auditing purposes but i had no lucky setting it up....i have been trying through entitiyManager following the example in this page: <a href=\"http://wiki.eclipse.org/Configuring_a_EclipseLink_JPA_Application_(ELUG)\" rel=\"nofollow noreferrer\">http://wiki.eclipse.org/Configuring_a_EclipseLink_JPA_Application_(ELUG)</a> it does not show any error but does not set the application name at all... when i see the audit in oracle it is not being audited with the name i set by code \"Customers\" but with OS_program_name=JDBC Thin Client it means that the property in the code is not being set properly and i have no idea where the issue is, the code i am using is the following :</p>\n\n<pre><code>    emProperties.put(\"v$session.program\",\"Customers\");\n    factory=Persistence.createEntityManagerFactory(\"clients\",emProperties);\n    em=factory.createEntityManager(emProperties);        \n    em.merge(clients);\n</code></pre>\n\n<p>does anybody know how to do it or any idea....</p>\n\n<p>thanks.-</p>\n"},{"tags":["java","android","canvas","graphics","drawing"],"answers":[{"tags":[],"owner":{"account_id":12438275,"reputation":1057,"user_id":9057721,"display_name":"Style-7"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657654619,"creation_date":1657654619,"answer_id":72957532,"question_id":72951357,"body_markdown":"This is possible by magic method of `canvas` `drawBitmapMesh`.\r\n\r\nThis is example from my project:\r\n\r\n    static void Draw( Canvas canvas, Rect rt, Ini ini ){\r\n        final int sections = 256;\r\n        Point size = new Point();\r\n        float[] verts = Mesh.GetVertices( rt, sections, ini, size );\r\n        canvas.drawBitmapMesh( ini.bm, size.x, size.y, verts, 0, null, 0, null );\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TNxWF.png\r\n","title":"how to draw prespctive image in android canvas","body":"<p>This is possible by magic method of <code>canvas</code> <code>drawBitmapMesh</code>.</p>\n<p>This is example from my project:</p>\n<pre><code>static void Draw( Canvas canvas, Rect rt, Ini ini ){\n    final int sections = 256;\n    Point size = new Point();\n    float[] verts = Mesh.GetVertices( rt, sections, ini, size );\n    canvas.drawBitmapMesh( ini.bm, size.x, size.y, verts, 0, null, 0, null );\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/TNxWF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TNxWF.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":21461018,"reputation":40,"user_id":15811766,"display_name":"Star4Droid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72957532,"answer_count":1,"score":0,"last_activity_date":1657654619,"creation_date":1657624186,"question_id":72951357,"body_markdown":"i have searched about how to draw prespctive image in canvas like in the picture but i dont find anything thing. if its not possible using canvas, how i can make something like it? \r\n[![image][1]][1]\r\n\r\ni find this:-\r\n```\r\nBitmap bitmap1=BitmapFactory.decodeResource(getResources(), R.drawable.img1);\r\nBitmap bitmap2=BitmapFactory.decodeResource(getResources(), R.drawable.img1);\r\nPaint paint = new Paint();\r\npaint.setAntiAlias(true);\r\nCanvas canvas = new Canvas(resultingImage);\r\nPath path=new Path();\r\npath.moveTo(0,0);\r\nfloat mm=1000;\r\npath.lineTo(mm,0);\r\npath.lineTo(mm, mm);\r\npath.lineTo(0, mm);\r\npath.lineTo(0,0);\r\ncanvas.drawPath(path, paint);\r\n\r\npaint.setXfermode(new PorterDuffXfermode(PorterDuff.Mode.SRC_IN));\r\ncanvas.drawBitmap(bitmap2, 0, 0, paint);\r\nimg.setImageBitmap(resultingImage);\r\n```\r\nbut this cut the image.\r\n\r\n  [1]: https://i.stack.imgur.com/ajiBy.jpg","title":"how to draw prespctive image in android canvas","body":"<p>i have searched about how to draw prespctive image in canvas like in the picture but i dont find anything thing. if its not possible using canvas, how i can make something like it?\n<a href=\"https://i.stack.imgur.com/ajiBy.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ajiBy.jpg\" alt=\"image\" /></a></p>\n<p>i find this:-</p>\n<pre><code>Bitmap bitmap1=BitmapFactory.decodeResource(getResources(), R.drawable.img1);\nBitmap bitmap2=BitmapFactory.decodeResource(getResources(), R.drawable.img1);\nPaint paint = new Paint();\npaint.setAntiAlias(true);\nCanvas canvas = new Canvas(resultingImage);\nPath path=new Path();\npath.moveTo(0,0);\nfloat mm=1000;\npath.lineTo(mm,0);\npath.lineTo(mm, mm);\npath.lineTo(0, mm);\npath.lineTo(0,0);\ncanvas.drawPath(path, paint);\n\npaint.setXfermode(new PorterDuffXfermode(PorterDuff.Mode.SRC_IN));\ncanvas.drawBitmap(bitmap2, 0, 0, paint);\nimg.setImageBitmap(resultingImage);\n</code></pre>\n<p>but this cut the image.</p>\n"},{"tags":["java","design-patterns"],"comments":[{"owner":{"account_id":2029491,"reputation":9823,"user_id":1813616,"display_name":"Uwe Plonus"},"score":0,"creation_date":1370528728,"post_id":16955588,"comment_id":24500491,"body_markdown":"After that update: What is the goal that you want to achieve?","body":"After that update: What is the goal that you want to achieve?"},{"owner":{"account_id":1750224,"reputation":11501,"user_id":1599479,"accept_rate":83,"display_name":"Alex"},"score":0,"creation_date":1370528772,"post_id":16955588,"comment_id":24500521,"body_markdown":"@Uwe Plonus if method setFieldX invoked then fieldX should be marked to be updated later.","body":"@Uwe Plonus if method setFieldX invoked then fieldX should be marked to be updated later."},{"owner":{"account_id":2029491,"reputation":9823,"user_id":1813616,"display_name":"Uwe Plonus"},"score":0,"creation_date":1370528947,"post_id":16955588,"comment_id":24500647,"body_markdown":"Why do you want to update it later? What is the reason for this? When we know what you want to achieve we can help you better. In the given example no one sees why you want to do this.","body":"Why do you want to update it later? What is the reason for this? When we know what you want to achieve we can help you better. In the given example no one sees why you want to do this."},{"owner":{"account_id":1750224,"reputation":11501,"user_id":1599479,"accept_rate":83,"display_name":"Alex"},"score":0,"creation_date":1370529158,"post_id":16955588,"comment_id":24500803,"body_markdown":"@Uwe Plonus Update database having detached object for selected fields only and to know which fields should be updated as well.","body":"@Uwe Plonus Update database having detached object for selected fields only and to know which fields should be updated as well."},{"owner":{"account_id":41994,"reputation":20222,"user_id":122207,"display_name":"Tim Bender"},"score":0,"creation_date":1370541885,"post_id":16955588,"comment_id":24508552,"body_markdown":"Eh. I&#39;m going to chock this up to your requirement not making sense. If at a later date the pseudo-entity is to be committed to the database, it should be committed as a whole to prevent corruption. Just a thought. Have you heard of JPA?","body":"Eh. I&#39;m going to chock this up to your requirement not making sense. If at a later date the pseudo-entity is to be committed to the database, it should be committed as a whole to prevent corruption. Just a thought. Have you heard of JPA?"},{"owner":{"account_id":1750224,"reputation":11501,"user_id":1599479,"accept_rate":83,"display_name":"Alex"},"score":1,"creation_date":1370560706,"post_id":16955588,"comment_id":24517459,"body_markdown":"@Tim Bender I will try to explain clear. This is Dto (not domain object). I need to copy only those fields to domain object which were changed (at late stage). At early stage I don&#39;t want to get stored object and compare to it. I just want to collect information to know what to change later. E.g. recognise NULL value from changes and NULL value as default value.","body":"@Tim Bender I will try to explain clear. This is Dto (not domain object). I need to copy only those fields to domain object which were changed (at late stage). At early stage I don&#39;t want to get stored object and compare to it. I just want to collect information to know what to change later. E.g. recognise NULL value from changes and NULL value as default value."},{"owner":{"account_id":41994,"reputation":20222,"user_id":122207,"display_name":"Tim Bender"},"score":0,"creation_date":1370565934,"post_id":16955588,"comment_id":24518725,"body_markdown":"Sounds like a changeset or audit log akin to a modern DCVS or RDBMS.","body":"Sounds like a changeset or audit log akin to a modern DCVS or RDBMS."}],"answers":[{"tags":[],"owner":{"account_id":41994,"reputation":20222,"user_id":122207,"display_name":"Tim Bender"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1370502012,"creation_date":1370502012,"answer_id":16955663,"question_id":16955588,"body_markdown":"Sounds like you want the [Observer][1]/[Observable][2] pattern. Basically a state listener registers (observes) with the `myClass` object to receive a notification when something changes.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Observer.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/Observable.html","title":"Java object, changed fields listener, design-pattern","body":"<p>Sounds like you want the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Observer.html\" rel=\"nofollow\">Observer</a>/<a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Observable.html\" rel=\"nofollow\">Observable</a> pattern. Basically a state listener registers (observes) with the <code>myClass</code> object to receive a notification when something changes.</p>\n"},{"tags":[],"owner":{"account_id":2637729,"reputation":21771,"user_id":2282011,"accept_rate":90,"display_name":"Devolus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1370531908,"creation_date":1370502066,"answer_id":16955679,"question_id":16955588,"body_markdown":"That&#39;s hard to say, because we don&#39;t know why you need to monitor the fields and what neds to be done with the changes.\r\n\r\nOne thing you could do is to add listeners to your object (Observer pattern), so that classes, interested in the changes, can get notified about it. This of course works only if you have access to the interested classes and can modify them accordingly.\r\n\r\nIf you have no access and anybody can call your methods, you might have to go via reflection. If you need a better answer, you must give more details.\r\n\r\n**Update**\r\n\r\nSince you only want to keep track of it internaly via setters, then you can simply put in your setter, whatever you need to keep track of the changes. One solution could be to create a separate class, which stores the changes. So whenever you do some update, you call the tracker class and tell it the information you want to keep track of, like old value, new value, timestamp, whatever.\r\n","title":"Java object, changed fields listener, design-pattern","body":"<p>That's hard to say, because we don't know why you need to monitor the fields and what neds to be done with the changes.</p>\n\n<p>One thing you could do is to add listeners to your object (Observer pattern), so that classes, interested in the changes, can get notified about it. This of course works only if you have access to the interested classes and can modify them accordingly.</p>\n\n<p>If you have no access and anybody can call your methods, you might have to go via reflection. If you need a better answer, you must give more details.</p>\n\n<p><strong>Update</strong></p>\n\n<p>Since you only want to keep track of it internaly via setters, then you can simply put in your setter, whatever you need to keep track of the changes. One solution could be to create a separate class, which stores the changes. So whenever you do some update, you call the tracker class and tell it the information you want to keep track of, like old value, new value, timestamp, whatever.</p>\n"},{"tags":[],"owner":{"account_id":2029491,"reputation":9823,"user_id":1813616,"display_name":"Uwe Plonus"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1370502136,"creation_date":1370502136,"answer_id":16955693,"question_id":16955588,"body_markdown":"I think what you are searching the a `java.bean.PropertyChangeListener` which is the Observer-Pattern in Java.\r\n\r\nBasically you add code to all setters to call the method in the `PropertyChangeListener` to inform all observers that the value is changed.\r\n\r\nThis is the normal Java way.","title":"Java object, changed fields listener, design-pattern","body":"<p>I think what you are searching the a <code>java.bean.PropertyChangeListener</code> which is the Observer-Pattern in Java.</p>\n\n<p>Basically you add code to all setters to call the method in the <code>PropertyChangeListener</code> to inform all observers that the value is changed.</p>\n\n<p>This is the normal Java way.</p>\n"},{"tags":[],"owner":{"account_id":968830,"reputation":17562,"user_id":991778,"accept_rate":78,"display_name":"sanbhat"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1370502675,"creation_date":1370502675,"answer_id":16955851,"question_id":16955588,"body_markdown":"If you want to implement using conventional design-pattern approach, I would recommend using [Observer Pattern][1]\r\n\r\nHave a Listener for set field event of your class\r\n\r\n    public interface FieldListener {\r\n    \r\n    \tpublic void fieldValueChanged(String fieldName, Object newValue);\r\n    }\r\n\r\nMake a class implement this listener (Observer)\r\n\r\n    public class SampleObserver implements FieldListener {\r\n    \r\n    \t@Override\r\n    \tpublic void fieldValueChanged(String fieldName, Object newValue) {\r\n    \t\tSystem.out.println(fieldName + &quot; - got set with value - &quot; + newValue);\r\n    \t}\r\n    \r\n    }\r\n\r\nhave a place-holder for your listeners in the Observable class (in your case `MyClass`) and whenever the set method gets called, just fire the event.\r\n\r\n    public class MyClass {\r\n    \t\r\n    \tList&lt;FieldListener&gt; listeners = new ArrayList&lt;FieldListener&gt;(); // the placeholder for listeners\r\n    \r\n    \tprivate String field1;\r\n    \tprivate String field2;\r\n    \t\r\n    \t/**\r\n    \t * @param field1 the field1 to set\r\n    \t */\r\n    \tpublic void setField1(String field1) {\r\n    \t\tfireEvent(&quot;field1&quot;, field1);\r\n    \t\tthis.field1 = field1;\r\n    \t}\r\n    \t/**\r\n    \t * @param field2 the field2 to set\r\n    \t */\r\n    \tpublic void setField2(String field2) {\r\n    \t\tfireEvent(&quot;field2&quot;, field2);\r\n    \t\tthis.field2 = field2;\r\n    \t}\r\n    \t\r\n    \tpublic void addListener(FieldListener l) {\r\n    \t\tif(l != null) listeners.add(l);\r\n    \t}\r\n    \t\r\n    \tpublic void fireEvent(String fieldName, Object newValue) {\r\n    \t\tfor(FieldListener l : listeners) {\r\n    \t\t\tl.fieldValueChanged(fieldName, newValue);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String [] args) {\r\n    \t\tMyClass m = new MyClass();\r\n    \t\tm.addListener(new SampleObserver());\r\n    \t\tm.setField1(&quot;s&quot;);\r\n    \t\tm.setField2(&quot;v&quot;);\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\n  [1]: http://sourcemaking.com/design_patterns/observer","title":"Java object, changed fields listener, design-pattern","body":"<p>If you want to implement using conventional design-pattern approach, I would recommend using <a href=\"http://sourcemaking.com/design_patterns/observer\" rel=\"noreferrer\">Observer Pattern</a></p>\n\n<p>Have a Listener for set field event of your class</p>\n\n<pre><code>public interface FieldListener {\n\n    public void fieldValueChanged(String fieldName, Object newValue);\n}\n</code></pre>\n\n<p>Make a class implement this listener (Observer)</p>\n\n<pre><code>public class SampleObserver implements FieldListener {\n\n    @Override\n    public void fieldValueChanged(String fieldName, Object newValue) {\n        System.out.println(fieldName + \" - got set with value - \" + newValue);\n    }\n\n}\n</code></pre>\n\n<p>have a place-holder for your listeners in the Observable class (in your case <code>MyClass</code>) and whenever the set method gets called, just fire the event.</p>\n\n<pre><code>public class MyClass {\n\n    List&lt;FieldListener&gt; listeners = new ArrayList&lt;FieldListener&gt;(); // the placeholder for listeners\n\n    private String field1;\n    private String field2;\n\n    /**\n     * @param field1 the field1 to set\n     */\n    public void setField1(String field1) {\n        fireEvent(\"field1\", field1);\n        this.field1 = field1;\n    }\n    /**\n     * @param field2 the field2 to set\n     */\n    public void setField2(String field2) {\n        fireEvent(\"field2\", field2);\n        this.field2 = field2;\n    }\n\n    public void addListener(FieldListener l) {\n        if(l != null) listeners.add(l);\n    }\n\n    public void fireEvent(String fieldName, Object newValue) {\n        for(FieldListener l : listeners) {\n            l.fieldValueChanged(fieldName, newValue);\n        }\n    }\n\n    public static void main(String [] args) {\n        MyClass m = new MyClass();\n        m.addListener(new SampleObserver());\n        m.setField1(\"s\");\n        m.setField2(\"v\");\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1076269,"reputation":357,"user_id":1074348,"accept_rate":67,"display_name":"Jeffrey P"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657654609,"creation_date":1657654609,"answer_id":72957530,"question_id":16955588,"body_markdown":"I realize I am late to the party and that the other answers here are valid, but I wanted to offer an alternative that might be simpler for anyone else that comes looking.\r\n\r\nMy suggestion is to use `Optional` for your fields but not for your getters/setters. In this way anything that is not `Optional.empty()` has been changed/updated.\r\n\r\n    import java.util.Optional;\r\n    \r\n    public class MyClass\r\n    {\r\n        private Optional&lt;String&gt; field1 = Optional.empty();\r\n        private Optional&lt;String&gt; field2 = Optional.empty();\r\n        private Optional&lt;String&gt; field3 = Optional.empty();\r\n    \r\n        public String getField1()\r\n        {\r\n            return field1.orElse(null);\r\n        }\r\n    \r\n        public void setField1(String value)\r\n        {\r\n            field1 = Optional.ofNullable(value);\r\n        }\r\n    \r\n        public String getField2()\r\n        {\r\n            return field2.orElse(null);\r\n        }\r\n    \r\n        public void setField2(String value)\r\n        {\r\n            field2 = Optional.ofNullable(value);\r\n        }\r\n    \r\n        public String getField3()\r\n        {\r\n            return field3.orElse(null);\r\n        }\r\n    \r\n        public void setField3(String value)\r\n        {\r\n            field3 = Optional.ofNullable(value);\r\n        }\r\n    }\r\n","title":"Java object, changed fields listener, design-pattern","body":"<p>I realize I am late to the party and that the other answers here are valid, but I wanted to offer an alternative that might be simpler for anyone else that comes looking.</p>\n<p>My suggestion is to use <code>Optional</code> for your fields but not for your getters/setters. In this way anything that is not <code>Optional.empty()</code> has been changed/updated.</p>\n<pre><code>import java.util.Optional;\n\npublic class MyClass\n{\n    private Optional&lt;String&gt; field1 = Optional.empty();\n    private Optional&lt;String&gt; field2 = Optional.empty();\n    private Optional&lt;String&gt; field3 = Optional.empty();\n\n    public String getField1()\n    {\n        return field1.orElse(null);\n    }\n\n    public void setField1(String value)\n    {\n        field1 = Optional.ofNullable(value);\n    }\n\n    public String getField2()\n    {\n        return field2.orElse(null);\n    }\n\n    public void setField2(String value)\n    {\n        field2 = Optional.ofNullable(value);\n    }\n\n    public String getField3()\n    {\n        return field3.orElse(null);\n    }\n\n    public void setField3(String value)\n    {\n        field3 = Optional.ofNullable(value);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1750224,"reputation":11501,"user_id":1599479,"accept_rate":83,"display_name":"Alex"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15614,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":16955851,"answer_count":5,"score":6,"last_activity_date":1657654609,"creation_date":1370501757,"question_id":16955588,"body_markdown":"There is a class:\r\n\r\n    public class MyClass {\r\n    private String field1;\r\n    private String field2;\r\n    private String field3;\r\n    // getters, setters\r\n    }\r\n\r\nThen we update some fields\r\n\r\n    MyClass myClass = new MyClass();\r\n    myClass.setField1(&quot;field1&quot;);\r\n    myClass.setField2(null);\r\n\r\nHow can I know which fields of MyClass were tried to be changed (invoked, in the example above field1 and field2)?  \r\nWhat is the best solution for that? Maybe some design-pattern?  \r\nOne option is to create `HashSet` of changed fields for this object as an additional property and update it inside each setter but it does not seem nice.  \r\nShould it be something like Proxy object which will be intercept all method calls (i.e. setXXX()) (through Java reflection?) or anything else?  \r\n\r\n**UPDATE**  \r\nIt seems that each setter should invoke some inner method what does not seem nice as I said. And I don&#39;t need to notify any other objects about changes. I would like to store all states in this object and have access to these changes later.  \r\nIn details: if method setFieldX invoked then fieldX should be marked to be updated later  \r\nP.S. All fields have different names.  \r\nAny other solutions except reflection (I want to populate object via pure setter)?","title":"Java object, changed fields listener, design-pattern","body":"<p>There is a class:</p>\n\n<pre><code>public class MyClass {\nprivate String field1;\nprivate String field2;\nprivate String field3;\n// getters, setters\n}\n</code></pre>\n\n<p>Then we update some fields</p>\n\n<pre><code>MyClass myClass = new MyClass();\nmyClass.setField1(\"field1\");\nmyClass.setField2(null);\n</code></pre>\n\n<p>How can I know which fields of MyClass were tried to be changed (invoked, in the example above field1 and field2)?<br>\nWhat is the best solution for that? Maybe some design-pattern?<br>\nOne option is to create <code>HashSet</code> of changed fields for this object as an additional property and update it inside each setter but it does not seem nice.<br>\nShould it be something like Proxy object which will be intercept all method calls (i.e. setXXX()) (through Java reflection?) or anything else?  </p>\n\n<p><strong>UPDATE</strong><br>\nIt seems that each setter should invoke some inner method what does not seem nice as I said. And I don't need to notify any other objects about changes. I would like to store all states in this object and have access to these changes later.<br>\nIn details: if method setFieldX invoked then fieldX should be marked to be updated later<br>\nP.S. All fields have different names.<br>\nAny other solutions except reflection (I want to populate object via pure setter)?</p>\n"},{"tags":["java","database","sqlite","intellij-idea","jdbc"],"comments":[{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1657628103,"post_id":72951766,"comment_id":128851253,"body_markdown":"How do yo include Sqlite jdbc driver dependency into the project?","body":"How do yo include Sqlite jdbc driver dependency into the project?"},{"owner":{"account_id":22715958,"reputation":1,"user_id":16881217,"display_name":"user16881217"},"score":0,"creation_date":1657634151,"post_id":72951766,"comment_id":128853826,"body_markdown":"File -&gt; Project Structure -&gt; Modules -&gt; Dependencies -&gt; + Jar/Library (tried both) -&gt; Apply","body":"File -&gt; Project Structure -&gt; Modules -&gt; Dependencies -&gt; + Jar/Library (tried both) -&gt; Apply"},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1657697496,"post_id":72951766,"comment_id":128869288,"body_markdown":"In a Gradle-based project you must not change the project structure settings, including the dependencies in the IDE UI settings. Instead, you should make corresponding configuration in the Gradle build file.","body":"In a Gradle-based project you must not change the project structure settings, including the dependencies in the IDE UI settings. Instead, you should make corresponding configuration in the Gradle build file."}],"answers":[{"tags":[],"owner":{"account_id":22715958,"reputation":1,"user_id":16881217,"display_name":"user16881217"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657654347,"creation_date":1657654347,"answer_id":72957490,"question_id":72951766,"body_markdown":"Managed to fix it by adding\r\n\r\n\r\n\timplementation(&#39;org.xerial:sqlite-jdbc&#39;)\r\n\r\nTo the build.gradle file under dependencies","title":"Intellij cant find Sqlite JDBC","body":"<p>Managed to fix it by adding</p>\n<pre><code>implementation('org.xerial:sqlite-jdbc')\n</code></pre>\n<p>To the build.gradle file under dependencies</p>\n"}],"owner":{"account_id":22715958,"reputation":1,"user_id":16881217,"display_name":"user16881217"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":488,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657654347,"creation_date":1657626264,"question_id":72951766,"body_markdown":"Im trying to connect to a sqlite database but for some reason intellij won&#39;t detect the driver. I have added it to my libraries and as a dependecy for my module and intellij even autofills the import but when building it gives the error &quot;error: package org.sqlite does not exist&quot;\r\n\r\n[This person seemed to have the same issue][1] and for me it also worked about a week ago and now all of the sudden it decided not to work anymore. Could someone please help me?\r\n\r\n\r\n  [1]: https://intellij-support.jetbrains.com/hc/en-us/community/posts/208382565-org-sqlite-JDBC-will-not-be-found","title":"Intellij cant find Sqlite JDBC","body":"<p>Im trying to connect to a sqlite database but for some reason intellij won't detect the driver. I have added it to my libraries and as a dependecy for my module and intellij even autofills the import but when building it gives the error &quot;error: package org.sqlite does not exist&quot;</p>\n<p><a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/208382565-org-sqlite-JDBC-will-not-be-found\" rel=\"nofollow noreferrer\">This person seemed to have the same issue</a> and for me it also worked about a week ago and now all of the sudden it decided not to work anymore. Could someone please help me?</p>\n"},{"tags":["java","amazon-web-services","performance","amazon-s3","outputstream"],"comments":[{"owner":{"account_id":4143297,"reputation":393,"user_id":3397816,"accept_rate":0,"display_name":"Trinopoty"},"score":2,"creation_date":1581612634,"post_id":60212728,"comment_id":106503615,"body_markdown":"An OutputStream is used for reading data from a source and an InputStream is used for writing data to a target. What you&#39;re trying to do does not make sense. Use the InputStream.","body":"An OutputStream is used for reading data from a source and an InputStream is used for writing data to a target. What you&#39;re trying to do does not make sense. Use the InputStream."},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":2,"creation_date":1581625105,"post_id":60212728,"comment_id":106509339,"body_markdown":"@Trinopot the OutputStream has `write` methods, that&#39;s what you use (indirectly) when you use  `System.out.println()` https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/io/OutputStream.html","body":"@Trinopot the OutputStream has <code>write</code> methods, that&#39;s what you use (indirectly) when you use  <code>System.out.println()</code> <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/io/OutputStream.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/13/docs/api/java.base/java/io&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":4143297,"reputation":393,"user_id":3397816,"accept_rate":0,"display_name":"Trinopoty"},"score":2,"creation_date":1581680727,"post_id":60212728,"comment_id":106526819,"body_markdown":"Oh yeah. Guess I got it inverted.","body":"Oh yeah. Guess I got it inverted."}],"answers":[{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1581612990,"creation_date":1581612990,"answer_id":60212985,"question_id":60212728,"body_markdown":"You can take a look at AWS SDK [Performing Operations on an Amazon S3 Object](https://docs.aws.amazon.com/sdk-for-java/v2/developer-guide/examples-s3-objects.html#upload-object)\r\n\r\n    ...\r\n    S3Client s3;\r\n    ...\r\n    // Put Object\r\n    s3.putObject(bucket,object);","title":"How to create a java OutputStream for an S3 object and write value to it?","body":"<p>You can take a look at AWS SDK <a href=\"https://docs.aws.amazon.com/sdk-for-java/v2/developer-guide/examples-s3-objects.html#upload-object\" rel=\"nofollow noreferrer\">Performing Operations on an Amazon S3 Object</a></p>\n\n<pre><code>...\nS3Client s3;\n...\n// Put Object\ns3.putObject(bucket,object);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1885290,"reputation":3234,"user_id":1704634,"display_name":"blagerweij"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1603493320,"creation_date":1603493320,"answer_id":64508183,"question_id":60212728,"body_markdown":"It&#39;s possible to create an S3OutputStream which wraps the AmazonS3 client. See this gist for the implementation:\r\n https://gist.github.com/blagerweij/ad1dbb7ee2fff8bcffd372815ad310eb \r\nIt automatically detects large files, and uses multi-part transfers when required. It uses a byte-array for buffering, the size of that buffer depends on your use case. (default is 10MB)\r\n\r\nFor example:\r\n```\r\n   final S3Client s3Client = AmazonS3ClientBuilder.defaultClient();\r\n   final OutputStream out = new S3OutputStream(s3Client, &quot;bucket&quot;, &quot;path/file.ext&quot;);\r\n```","title":"How to create a java OutputStream for an S3 object and write value to it?","body":"<p>It's possible to create an S3OutputStream which wraps the AmazonS3 client. See this gist for the implementation:\n<a href=\"https://gist.github.com/blagerweij/ad1dbb7ee2fff8bcffd372815ad310eb\" rel=\"nofollow noreferrer\">https://gist.github.com/blagerweij/ad1dbb7ee2fff8bcffd372815ad310eb</a>\nIt automatically detects large files, and uses multi-part transfers when required. It uses a byte-array for buffering, the size of that buffer depends on your use case. (default is 10MB)</p>\n<p>For example:</p>\n<pre><code>   final S3Client s3Client = AmazonS3ClientBuilder.defaultClient();\n   final OutputStream out = new S3OutputStream(s3Client, &quot;bucket&quot;, &quot;path/file.ext&quot;);\n</code></pre>\n"}],"owner":{"account_id":333447,"reputation":1186,"user_id":1062597,"accept_rate":54,"display_name":"Arun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11611,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":2,"score":11,"last_activity_date":1657654332,"creation_date":1581612104,"question_id":60212728,"body_markdown":"Existing ways of adding content to an S3 file using methods in AmazonS3 class are\r\n\r\n - by putObject with an InputStream\r\n - Creating a local file with content and uploading it to S3.\r\n\r\nIs there a way an OutputStream can be created for an existing S3 object to which values from a list can be written into? I see there are no APIs for doing so.\r\n\r\n","title":"How to create a java OutputStream for an S3 object and write value to it?","body":"<p>Existing ways of adding content to an S3 file using methods in AmazonS3 class are</p>\n\n<ul>\n<li>by putObject with an InputStream</li>\n<li>Creating a local file with content and uploading it to S3.</li>\n</ul>\n\n<p>Is there a way an OutputStream can be created for an existing S3 object to which values from a list can be written into? I see there are no APIs for doing so.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":10676540,"reputation":655,"user_id":15087622,"display_name":"mashuptwice"},"score":1,"creation_date":1657652418,"post_id":72957182,"comment_id":128860271,"body_markdown":"What did you try so far?","body":"What did you try so far?"},{"owner":{"account_id":3991492,"reputation":133,"user_id":3290283,"display_name":"Avatar Girase"},"score":0,"creation_date":1657653151,"post_id":72957182,"comment_id":128860532,"body_markdown":"I tried --&gt; \\b(\\d)\\3+\\b a and /(\\d)\\1{2,1}/ but looks didnt help","body":"I tried --&gt; \\b(\\d)\\3+\\b a and /(\\d)\\1{2,1}/ but looks didnt help"}],"answers":[{"tags":[],"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657653843,"creation_date":1657653319,"answer_id":72957317,"question_id":72957182,"body_markdown":"For this one try e.g.\r\n\r\n    ^(?:8|(\\d)(?!\\1\\1))\\d{9,24}$\r\n\r\n[Here is the demo at regex101][1]\r\n\r\nThe first character is either `8` or any digit that&#39;s not followed two times by [itself][2].  \r\nLength requirement is reduced by one as we already match one digit at the start.\r\n\r\n\r\n  [1]: https://regex101.com/r/g0q0b9/1\r\n  [2]: https://www.regular-expressions.info/backref.html","title":"Regex to stop user from entering first three repeated digit except 888","body":"<p>For this one try e.g.</p>\n<pre><code>^(?:8|(\\d)(?!\\1\\1))\\d{9,24}$\n</code></pre>\n<p><a href=\"https://regex101.com/r/g0q0b9/1\" rel=\"nofollow noreferrer\">Here is the demo at regex101</a></p>\n<p>The first character is either <code>8</code> or any digit that's not followed two times by <a href=\"https://www.regular-expressions.info/backref.html\" rel=\"nofollow noreferrer\">itself</a>.<br />\nLength requirement is reduced by one as we already match one digit at the start.</p>\n"}],"owner":{"account_id":3991492,"reputation":133,"user_id":3290283,"display_name":"Avatar Girase"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657653843,"creation_date":1657652394,"question_id":72957182,"body_markdown":"I need help in stopping a user from entering a phone number that has repeated first three digit except 888. \r\n\r\n   Phone number should  be between 10 digits to 25 digits. \r\n\r\nExample. \r\nGood Data\r\n\r\n88876565451 \r\n7687987555\r\n\r\nBad Data\r\n666879876577\r\n4448765654567\r\nI tried --&gt; \\b(\\d)\\3+\\b but looks that is not right.","title":"Regex to stop user from entering first three repeated digit except 888","body":"<p>I need help in stopping a user from entering a phone number that has repeated first three digit except 888.</p>\n<p>Phone number should  be between 10 digits to 25 digits.</p>\n<p>Example.\nGood Data</p>\n<p>88876565451\n7687987555</p>\n<p>Bad Data\n666879876577\n4448765654567\nI tried --&gt; \\b(\\d)\\3+\\b but looks that is not right.</p>\n"},{"tags":["java","jpa","eclipselink","connection-pooling","dropwizard"],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657653695,"creation_date":1657208833,"answer_id":72900781,"question_id":72892366,"body_markdown":"You might try looking at `getTotalNumberOfConnections()` and subtracting `getConnectionsAvailable()` which should give you the number of connections in use on a pool. Depending on the pool, you shouldn&#39;t see too much change; read connections and connections in general are lazily fetched from pools to ensure they are not held on longer than necessary, so your polling would have to be very frequent to catch usage. \r\n\r\nYou can take a look at the source for the classes [ConnectionPool.java][1] and [ReadConnectionPool.java][2] to get an idea of what to look for and use, and you might also look at the [EclipseLink performance profiler][3] but you can probably tell there isn&#39;t a lot of investment in areas that might help gather connection statistics. I believe the thinking was that most looking for those options would pick an external datasource for pooling; I&#39;d suggest you look into using [Oracle UCP][4] or some other pool that EclipseLink can use which has plenty of statistics tracking mechanisms built in.\r\n\r\nTo pass in your own instance, you can use the `jakarta.persistence.nonJtaDataSource` or `javax.persistence.nonJtaDataSource` persistence property to pass in the instance directly, or give a name if you are in a container environment that EclipseLink can look up in JNDI.\r\n\r\n\r\n  [1]: https://github.com/eclipse-ee4j/eclipselink/blob/master/foundation/org.eclipse.persistence.core/src/main/java/org/eclipse/persistence/sessions/server/ConnectionPool.java\r\n  [2]: https://github.com/eclipse-ee4j/eclipselink/blob/master/foundation/org.eclipse.persistence.core/src/main/java/org/eclipse/persistence/sessions/server/ReadConnectionPool.java\r\n  [3]: https://www.eclipse.org/eclipselink/documentation/2.6/solutions/performance002.htm\r\n  [4]: https://docs.oracle.com/cd/E11882_01/java.112/e12265/intro.htm#BABHFGCA","title":"How to obtain JPA Connection Pool Statistics in EclipseLink?","body":"<p>You might try looking at <code>getTotalNumberOfConnections()</code> and subtracting <code>getConnectionsAvailable()</code> which should give you the number of connections in use on a pool. Depending on the pool, you shouldn't see too much change; read connections and connections in general are lazily fetched from pools to ensure they are not held on longer than necessary, so your polling would have to be very frequent to catch usage.</p>\n<p>You can take a look at the source for the classes <a href=\"https://github.com/eclipse-ee4j/eclipselink/blob/master/foundation/org.eclipse.persistence.core/src/main/java/org/eclipse/persistence/sessions/server/ConnectionPool.java\" rel=\"nofollow noreferrer\">ConnectionPool.java</a> and <a href=\"https://github.com/eclipse-ee4j/eclipselink/blob/master/foundation/org.eclipse.persistence.core/src/main/java/org/eclipse/persistence/sessions/server/ReadConnectionPool.java\" rel=\"nofollow noreferrer\">ReadConnectionPool.java</a> to get an idea of what to look for and use, and you might also look at the <a href=\"https://www.eclipse.org/eclipselink/documentation/2.6/solutions/performance002.htm\" rel=\"nofollow noreferrer\">EclipseLink performance profiler</a> but you can probably tell there isn't a lot of investment in areas that might help gather connection statistics. I believe the thinking was that most looking for those options would pick an external datasource for pooling; I'd suggest you look into using <a href=\"https://docs.oracle.com/cd/E11882_01/java.112/e12265/intro.htm#BABHFGCA\" rel=\"nofollow noreferrer\">Oracle UCP</a> or some other pool that EclipseLink can use which has plenty of statistics tracking mechanisms built in.</p>\n<p>To pass in your own instance, you can use the <code>jakarta.persistence.nonJtaDataSource</code> or <code>javax.persistence.nonJtaDataSource</code> persistence property to pass in the instance directly, or give a name if you are in a container environment that EclipseLink can look up in JNDI.</p>\n"}],"owner":{"account_id":15490816,"reputation":102,"user_id":13673276,"display_name":"Lakshan Chathuranga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72900781,"answer_count":1,"score":1,"last_activity_date":1657653747,"creation_date":1657168889,"question_id":72892366,"body_markdown":"I am currently working on Dropwizard framework project with **EclipseLink JPA**. I need to get connection pool statistics such as the number of active connections, the total number of connections, etc. I tried with the below method, but it always shows the same data. Please help me in solving this problem.\r\n\r\n```\r\nEntityManager entityManager = (EntityManager) unitOfWorkI.getContext();\r\nServerSession serverSession = entityManager.unwrap(ServerSession.class);\r\n\r\nfor (Map.Entry&lt;String, ConnectionPool&gt; entry: serverSession.getConnectionPools().entrySet()) {\r\n    System.out.println(&quot;Connection Pool Name: &quot; + entry.getKey());\r\n    System.out.println(&quot;Min number of Connections: &quot; + entry.getValue().getMinNumberOfConnections());\r\n    System.out.println(&quot;Max number of Connections: &quot; + entry.getValue().getMaxNumberOfConnections());\r\n    System.out.println(&quot;Connections in use: &quot; + (entry.getValue().getMaxNumberOfConnections() - entry.getValue().getConnectionsAvailable().size()));\r\n}\r\n\r\nentityManager.close();\r\n```","title":"How to obtain JPA Connection Pool Statistics in EclipseLink?","body":"<p>I am currently working on Dropwizard framework project with <strong>EclipseLink JPA</strong>. I need to get connection pool statistics such as the number of active connections, the total number of connections, etc. I tried with the below method, but it always shows the same data. Please help me in solving this problem.</p>\n<pre><code>EntityManager entityManager = (EntityManager) unitOfWorkI.getContext();\nServerSession serverSession = entityManager.unwrap(ServerSession.class);\n\nfor (Map.Entry&lt;String, ConnectionPool&gt; entry: serverSession.getConnectionPools().entrySet()) {\n    System.out.println(&quot;Connection Pool Name: &quot; + entry.getKey());\n    System.out.println(&quot;Min number of Connections: &quot; + entry.getValue().getMinNumberOfConnections());\n    System.out.println(&quot;Max number of Connections: &quot; + entry.getValue().getMaxNumberOfConnections());\n    System.out.println(&quot;Connections in use: &quot; + (entry.getValue().getMaxNumberOfConnections() - entry.getValue().getConnectionsAvailable().size()));\n}\n\nentityManager.close();\n</code></pre>\n"},{"tags":["java","android","android-studio","serialization"],"answers":[{"tags":[],"owner":{"account_id":22666965,"reputation":33,"user_id":16839187,"display_name":"Shogery"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657653545,"creation_date":1657653545,"answer_id":72957352,"question_id":72954039,"body_markdown":"Solved it. Something about saving the text as a CharSequence instead of a String was causing the error. If someone has an explanation as to why that would be an issue that would be fantastic.\r\n\r\n```\r\npackage com.learn.myapplication;\r\n\r\n\r\nimport android.content.Context;\r\nimport android.content.SharedPreferences;\r\nimport android.util.Log;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.ArrayList;\r\nimport java.util.HashSet;\r\n\r\npublic class Note implements Serializable {\r\n\r\n    private String nt_title;\r\n    private CharSequence nt_text; // Changed to String\r\n    private final String nt_created;\r\n    private Bubble nt_bubble;\r\n\r\n    public Note(Context context, Bubble bubble){\r\n        this.nt_bubble = bubble;\r\n        this.nt_created = Utility.DateAndTimeNow();\r\n        this.nt_serial = ReturnSerial(context);\r\n        this.nt_title = &quot;&quot;;\r\n        this.nt_text = &quot;&quot;;\r\n    }\r\n\r\n    public Note(Context context, Bubble bubble, CharSequence text){ //Changed to String\r\n        this.nt_bubble = bubble;\r\n        this.nt_created = Utility.DateAndTimeNow();\r\n        this.nt_serial = ReturnSerial(context);\r\n        this.nt_title = &quot;&quot;;\r\n        this.nt_text = text;\r\n    }\r\n\r\n    public String getTitle(){ return nt_title; }\r\n\r\n    public CharSequence getText(){ return nt_text; } // Changed To String\r\n\r\n    public String getCreated(){ return nt_created; }\r\n\r\n    public Bubble getBubble(){ return nt_bubble; }\r\n\r\n    public boolean setTitle(String title){ this.nt_title = title; return true;}\r\n\r\n    public boolean setText(CharSequence text){ this.nt_text = text; return true;}\r\n\r\n    public boolean setBubble(Bubble bubble){ this.nt_bubble = bubble; return true; }\r\n\r\n}\r\n\r\n```","title":"java.io.NotSerializableException: androidx.emoji2.text.SpannableBuilder?","body":"<p>Solved it. Something about saving the text as a CharSequence instead of a String was causing the error. If someone has an explanation as to why that would be an issue that would be fantastic.</p>\n<pre><code>package com.learn.myapplication;\n\n\nimport android.content.Context;\nimport android.content.SharedPreferences;\nimport android.util.Log;\n\nimport java.io.Serializable;\nimport java.util.ArrayList;\nimport java.util.HashSet;\n\npublic class Note implements Serializable {\n\n    private String nt_title;\n    private CharSequence nt_text; // Changed to String\n    private final String nt_created;\n    private Bubble nt_bubble;\n\n    public Note(Context context, Bubble bubble){\n        this.nt_bubble = bubble;\n        this.nt_created = Utility.DateAndTimeNow();\n        this.nt_serial = ReturnSerial(context);\n        this.nt_title = &quot;&quot;;\n        this.nt_text = &quot;&quot;;\n    }\n\n    public Note(Context context, Bubble bubble, CharSequence text){ //Changed to String\n        this.nt_bubble = bubble;\n        this.nt_created = Utility.DateAndTimeNow();\n        this.nt_serial = ReturnSerial(context);\n        this.nt_title = &quot;&quot;;\n        this.nt_text = text;\n    }\n\n    public String getTitle(){ return nt_title; }\n\n    public CharSequence getText(){ return nt_text; } // Changed To String\n\n    public String getCreated(){ return nt_created; }\n\n    public Bubble getBubble(){ return nt_bubble; }\n\n    public boolean setTitle(String title){ this.nt_title = title; return true;}\n\n    public boolean setText(CharSequence text){ this.nt_text = text; return true;}\n\n    public boolean setBubble(Bubble bubble){ this.nt_bubble = bubble; return true; }\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":22666965,"reputation":33,"user_id":16839187,"display_name":"Shogery"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657653545,"creation_date":1657636385,"question_id":72954039,"body_markdown":"I just started running into an error that I just don&#39;t understand. I&#39;m making a note editor app and the resulting error occurs after I try to save my data in the editor activity. Usually, this save method works just fine but in this particular context it causes an issue.\r\n\r\nHere are the related code blocks:\r\n```\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.text.Editable;\r\nimport android.text.TextWatcher;\r\nimport android.view.Menu;\r\nimport android.view.MenuInflater;\r\nimport android.view.MenuItem;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\npublic class NoteEditorActivity extends AppCompatActivity {\r\n\r\n    private int noteId;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_note_editor);\r\n\r\n        EditText editText = findViewById(R.id.et_NoteText);\r\n        EditText editTitle = findViewById(R.id.et_NoteTitle);\r\n        Intent intent = getIntent();\r\n        noteId = intent.getIntExtra(&quot;noteId&quot;, -1);\r\n\r\n        editText.setText(State.St.st_current.getNote(noteId).getText());\r\n        editTitle.setText(State.St.st_current.getNote(noteId).getTitle());\r\n\r\n        editText.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n                UpdateText(charSequence);\r\n            }\r\n\r\n        });\r\n\r\n        editTitle.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n                UpdateTitle(String.valueOf(charSequence));\r\n            }\r\n        });\r\n    }\r\n\r\n    private void UpdateText(CharSequence text){\r\n        State.St.st_current.getNote(noteId).setText(text);\r\n    }\r\n\r\n    private void UpdateTitle(String title){\r\n        State.St.st_current.getNote(noteId).setTitle(title);\r\n    }\r\n\r\n    private void BackUp(){\r\n        Utility.ManageData.SaveState(getApplicationContext(), State.St);\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class Utility {\r\n    public static class ManageData {\r\n\r\n        public static void SaveState(Context context, State state){\r\n            String dir = context.getFilesDir().getAbsolutePath();\r\n            dir += &quot;/state&quot;;\r\n            File path = new File(dir);\r\n            try{\r\n                FileOutputStream outStream = new FileOutputStream(path);\r\n                ObjectOutputStream objectOut = new ObjectOutputStream(outStream);\r\n                objectOut.writeObject(state);\r\n                outStream.close();\r\n                objectOut.close();\r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        public static State LoadState(Context context) {\r\n            String dir = context.getFilesDir().getAbsolutePath();\r\n            dir += &quot;/state&quot;;\r\n            File path = new File(dir);\r\n            try {\r\n                FileInputStream inStream = new FileInputStream(path);\r\n                ObjectInputStream objectIn = new ObjectInputStream(inStream);\r\n                State state = (State) objectIn.readObject();\r\n                inStream.close();\r\n                objectIn.close();\r\n                return state;\r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } catch (ClassNotFoundException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class State implements Serializable {\r\n\r\n    public static State St;\r\n\r\n    public ArrayList&lt;Bubble&gt; st_bubbles;\r\n    public Bubble st_current;\r\n\r\n    public State(){\r\n        st_bubbles = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    public ArrayList&lt;Bubble&gt; getBubbles() { return st_bubbles; }\r\n    public Bubble getBubble(String name) {\r\n        for(int i = 0; i &lt; st_bubbles.size(); i ++){\r\n            if(st_bubbles.get(i).getName().equals(name)) return st_bubbles.get(i);\r\n        }\r\n        return null;\r\n    }\r\n\r\n}\r\n```\r\n\r\nAlso all contained objects are also serializable.\r\n\r\nAnd here are all the related error codes.\r\n\r\n\r\n2022-07-12 07:20:57.196 28080-28080/com.learn.myapplication W/System.err: java.io.NotSerializableException: androidx.emoji2.text.SpannableBuilder\r\n2022-07-12 07:20:57.196 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1240)\r\n2022-07-12 07:20:57.196 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1604)\r\n2022-07-12 07:20:57.196 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1565)\r\n2022-07-12 07:20:57.196 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1488)\r\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1234)\r\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:354)\r\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.util.ArrayList.writeObject(ArrayList.java:762)\r\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.lang.reflect.Method.invoke(Native Method)\r\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:1036)\r\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1552)\r\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1488)\r\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1234)\r\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1604)\r\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1565)\r\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1488)\r\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1234)\r\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1604)\r\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1565)\r\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1488)\r\n2022-07-12 07:20:57.198 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1234)\r\n2022-07-12 07:20:57.198 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:354)\r\n2022-07-12 07:20:57.198 28080-28080/com.learn.myapplication W/System.err:     at com.learn.myapplication.Utility$ManageData.SaveState(Utility.java:34)","title":"java.io.NotSerializableException: androidx.emoji2.text.SpannableBuilder?","body":"<p>I just started running into an error that I just don't understand. I'm making a note editor app and the resulting error occurs after I try to save my data in the editor activity. Usually, this save method works just fine but in this particular context it causes an issue.</p>\n<p>Here are the related code blocks:</p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.text.Editable;\nimport android.text.TextWatcher;\nimport android.view.Menu;\nimport android.view.MenuInflater;\nimport android.view.MenuItem;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\npublic class NoteEditorActivity extends AppCompatActivity {\n\n    private int noteId;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_note_editor);\n\n        EditText editText = findViewById(R.id.et_NoteText);\n        EditText editTitle = findViewById(R.id.et_NoteTitle);\n        Intent intent = getIntent();\n        noteId = intent.getIntExtra(&quot;noteId&quot;, -1);\n\n        editText.setText(State.St.st_current.getNote(noteId).getText());\n        editTitle.setText(State.St.st_current.getNote(noteId).getTitle());\n\n        editText.addTextChangedListener(new TextWatcher() {\n            @Override\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n                UpdateText(charSequence);\n            }\n\n        });\n\n        editTitle.addTextChangedListener(new TextWatcher() {\n            @Override\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n                UpdateTitle(String.valueOf(charSequence));\n            }\n        });\n    }\n\n    private void UpdateText(CharSequence text){\n        State.St.st_current.getNote(noteId).setText(text);\n    }\n\n    private void UpdateTitle(String title){\n        State.St.st_current.getNote(noteId).setTitle(title);\n    }\n\n    private void BackUp(){\n        Utility.ManageData.SaveState(getApplicationContext(), State.St);\n    }\n}\n</code></pre>\n<pre><code>public class Utility {\n    public static class ManageData {\n\n        public static void SaveState(Context context, State state){\n            String dir = context.getFilesDir().getAbsolutePath();\n            dir += &quot;/state&quot;;\n            File path = new File(dir);\n            try{\n                FileOutputStream outStream = new FileOutputStream(path);\n                ObjectOutputStream objectOut = new ObjectOutputStream(outStream);\n                objectOut.writeObject(state);\n                outStream.close();\n                objectOut.close();\n            } catch (FileNotFoundException e) {\n                e.printStackTrace();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n\n        public static State LoadState(Context context) {\n            String dir = context.getFilesDir().getAbsolutePath();\n            dir += &quot;/state&quot;;\n            File path = new File(dir);\n            try {\n                FileInputStream inStream = new FileInputStream(path);\n                ObjectInputStream objectIn = new ObjectInputStream(inStream);\n                State state = (State) objectIn.readObject();\n                inStream.close();\n                objectIn.close();\n                return state;\n            } catch (FileNotFoundException e) {\n                e.printStackTrace();\n            } catch (IOException e) {\n                e.printStackTrace();\n            } catch (ClassNotFoundException e) {\n                e.printStackTrace();\n            }\n            return null;\n        }\n    }\n}\n</code></pre>\n<pre><code>public class State implements Serializable {\n\n    public static State St;\n\n    public ArrayList&lt;Bubble&gt; st_bubbles;\n    public Bubble st_current;\n\n    public State(){\n        st_bubbles = new ArrayList&lt;&gt;();\n    }\n\n    public ArrayList&lt;Bubble&gt; getBubbles() { return st_bubbles; }\n    public Bubble getBubble(String name) {\n        for(int i = 0; i &lt; st_bubbles.size(); i ++){\n            if(st_bubbles.get(i).getName().equals(name)) return st_bubbles.get(i);\n        }\n        return null;\n    }\n\n}\n</code></pre>\n<p>Also all contained objects are also serializable.</p>\n<p>And here are all the related error codes.</p>\n<p>2022-07-12 07:20:57.196 28080-28080/com.learn.myapplication W/System.err: java.io.NotSerializableException: androidx.emoji2.text.SpannableBuilder\n2022-07-12 07:20:57.196 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1240)\n2022-07-12 07:20:57.196 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1604)\n2022-07-12 07:20:57.196 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1565)\n2022-07-12 07:20:57.196 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1488)\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1234)\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:354)\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.util.ArrayList.writeObject(ArrayList.java:762)\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.lang.reflect.Method.invoke(Native Method)\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:1036)\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1552)\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1488)\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1234)\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1604)\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1565)\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1488)\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1234)\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1604)\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1565)\n2022-07-12 07:20:57.197 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1488)\n2022-07-12 07:20:57.198 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1234)\n2022-07-12 07:20:57.198 28080-28080/com.learn.myapplication W/System.err:     at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:354)\n2022-07-12 07:20:57.198 28080-28080/com.learn.myapplication W/System.err:     at com.learn.myapplication.Utility$ManageData.SaveState(Utility.java:34)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1657653441,"post_id":72956597,"comment_id":128860625,"body_markdown":"`native` is an implementation detail - it just means a method is not implemented in Java.","body":"<code>native</code> is an implementation detail - it just means a method is not implemented in Java."}],"answers":[{"tags":[],"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657650664,"creation_date":1657650664,"answer_id":72956886,"question_id":72956597,"body_markdown":"Say you defined `enum MyEnum`.\r\n\r\nThat must be static, because you want to access all values with `MyEnum.values()`.\r\n\r\nAnd as `values()` must be static it cannot use the generic parameter (`enum MyEnum extends Enum&lt;MyEnum&gt;`).\r\n\r\nSo don&#39;t define an interface for your enums with a method named `values`. Find another appropriate name.","title":"Why is the values()-method in an enum static and implicit, and not defined as native?","body":"<p>Say you defined <code>enum MyEnum</code>.</p>\n<p>That must be static, because you want to access all values with <code>MyEnum.values()</code>.</p>\n<p>And as <code>values()</code> must be static it cannot use the generic parameter (<code>enum MyEnum extends Enum&lt;MyEnum&gt;</code>).</p>\n<p>So don't define an interface for your enums with a method named <code>values</code>. Find another appropriate name.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657653385,"creation_date":1657653385,"answer_id":72957325,"question_id":72956597,"body_markdown":"It has to be `static`: Because... that&#39;s the point of the method. Given an enum _type_, let&#39;s say `CardSuit`, you&#39;d want to invoke `CardSuit.values()`, not `CardSuit.SPADES.values()`, that makes no sense.\r\n\r\nIt cannot be `native`: `native`, specifically, means: &quot;The actual code for this method is defined in C&quot; (or at any rate, in a natively compiled file that has been `.loadLibrary`ied in, or has been auto-loaded in by the JVM itself). The implementation of the `values()` method isn&#39;t done &#39;in C&#39;.\r\n\r\n&gt; I have an interface that is exclusively implemented by enums, but because the implicit method is static, i can&#39;t even define values() in that interface.\r\n\r\nStatic methods don&#39;t &#39;do&#39; inheritance. They live outside of it. It makes the most sense to think of static methods as not participating in the type system at all; they must be written inside types _only_ because java&#39;s namespacing system piggybacks on the type system. They cannot be inherited, you can&#39;t override them. The definition of `final` on a `static` method is daft (a holdover from the Java 1.0 specs that aren&#39;t worth fixing at this point).\r\n\r\nWhy do you think the much-derided concept of the `Factory` exists? That&#39;s taking the &#39;class&#39; concept and making a separate type hierarchy for that concept, so that you can have an instance that represents the class: You have, say, a `Person` class, as well as a `PersonFactory` class. An _instance_ of `PersonFactory` is a lot like the concept `Person.class`, except `Person.class` cannot &#39;do&#39; inheritance, and static methods cannot be interfaced or overridden in any way. Whereas with the factory stuff, the actual factory _is_ an instance, thus the relevant methods _can be_ instance methods, and thus you can have em implement interfaces and the like.\r\n\r\nAt any rate, given that `values()` is static and doesn&#39;t make sense as non-static, defining an interface that your enums are meant to implement just does not make sense. At best, the factory equivalent for your enums could implement it: `values()` is a question you ask of the entire type itself. Which __is not__ what interface methods are for! Interface methods are questions you can ask __of a specific instance of the type__.","title":"Why is the values()-method in an enum static and implicit, and not defined as native?","body":"<p>It has to be <code>static</code>: Because... that's the point of the method. Given an enum <em>type</em>, let's say <code>CardSuit</code>, you'd want to invoke <code>CardSuit.values()</code>, not <code>CardSuit.SPADES.values()</code>, that makes no sense.</p>\n<p>It cannot be <code>native</code>: <code>native</code>, specifically, means: &quot;The actual code for this method is defined in C&quot; (or at any rate, in a natively compiled file that has been <code>.loadLibrary</code>ied in, or has been auto-loaded in by the JVM itself). The implementation of the <code>values()</code> method isn't done 'in C'.</p>\n<blockquote>\n<p>I have an interface that is exclusively implemented by enums, but because the implicit method is static, i can't even define values() in that interface.</p>\n</blockquote>\n<p>Static methods don't 'do' inheritance. They live outside of it. It makes the most sense to think of static methods as not participating in the type system at all; they must be written inside types <em>only</em> because java's namespacing system piggybacks on the type system. They cannot be inherited, you can't override them. The definition of <code>final</code> on a <code>static</code> method is daft (a holdover from the Java 1.0 specs that aren't worth fixing at this point).</p>\n<p>Why do you think the much-derided concept of the <code>Factory</code> exists? That's taking the 'class' concept and making a separate type hierarchy for that concept, so that you can have an instance that represents the class: You have, say, a <code>Person</code> class, as well as a <code>PersonFactory</code> class. An <em>instance</em> of <code>PersonFactory</code> is a lot like the concept <code>Person.class</code>, except <code>Person.class</code> cannot 'do' inheritance, and static methods cannot be interfaced or overridden in any way. Whereas with the factory stuff, the actual factory <em>is</em> an instance, thus the relevant methods <em>can be</em> instance methods, and thus you can have em implement interfaces and the like.</p>\n<p>At any rate, given that <code>values()</code> is static and doesn't make sense as non-static, defining an interface that your enums are meant to implement just does not make sense. At best, the factory equivalent for your enums could implement it: <code>values()</code> is a question you ask of the entire type itself. Which <strong>is not</strong> what interface methods are for! Interface methods are questions you can ask <strong>of a specific instance of the type</strong>.</p>\n"}],"owner":{"account_id":23646042,"reputation":447,"user_id":18197654,"display_name":"xtay2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":72957325,"answer_count":2,"score":4,"last_activity_date":1657653385,"creation_date":1657648865,"question_id":72956597,"body_markdown":"This question is similar to [this][1] one, but I&#39;m not satisfied with its answer.\r\nWhy is the values()-method of every enum in Java implicit and static? Couldn&#39;t it just be defined as:\r\n\r\n    public final native T[] values();\r\n\r\nI have an interface that is exclusively implemented by enums, but because the implicit method is static, i can&#39;t even define values() in that interface.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/15452703/why-the-static-methods-values-and-valueof-in-enum-are-added-by-the-compiler","title":"Why is the values()-method in an enum static and implicit, and not defined as native?","body":"<p>This question is similar to <a href=\"https://stackoverflow.com/questions/15452703/why-the-static-methods-values-and-valueof-in-enum-are-added-by-the-compiler\">this</a> one, but I'm not satisfied with its answer.\nWhy is the values()-method of every enum in Java implicit and static? Couldn't it just be defined as:</p>\n<pre><code>public final native T[] values();\n</code></pre>\n<p>I have an interface that is exclusively implemented by enums, but because the implicit method is static, i can't even define values() in that interface.</p>\n"},{"tags":["java","append","filewriter","truncation"],"comments":[{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":2,"creation_date":1657629487,"post_id":72952388,"comment_id":128851837,"body_markdown":"to open a file in append mode, but, if the file already exists, override its contents - does this even make sense?","body":"to open a file in append mode, but, if the file already exists, override its contents - does this even make sense?"},{"owner":{"account_id":3628239,"reputation":115,"user_id":7646049,"display_name":"Evgeny Kuznetsov"},"score":0,"creation_date":1657631010,"post_id":72952388,"comment_id":128852433,"body_markdown":"@aran I open a file for writing, I call ```write``` several times during program life cycle to append some content. What can I do else? If I do not specify ```true``` as a second argument in ```FileWriter``` constructor it overrides my file on every call of ```write```. Am I wrong?","body":"@aran I open a file for writing, I call <code>write</code> several times during program life cycle to append some content. What can I do else? If I do not specify <code>true</code> as a second argument in <code>FileWriter</code> constructor it overrides my file on every call of <code>write</code>. Am I wrong?"},{"owner":{"account_id":25660167,"reputation":89,"user_id":19426256,"display_name":"Drishti Jain"},"score":1,"creation_date":1657631806,"post_id":72952388,"comment_id":128852785,"body_markdown":"@EvgenyKuznetsov Please tell us what behaviour you want in the following situations: **Case 1: File already exists and is empty**  _Case 2: File already exists and has some data in it._ **Case 3: File does not exist.**","body":"@EvgenyKuznetsov Please tell us what behaviour you want in the following situations: <b>Case 1: File already exists and is empty</b>  <i>Case 2: File already exists and has some data in it.</i> <b>Case 3: File does not exist.</b>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1657632089,"post_id":72952388,"comment_id":128852928,"body_markdown":"“if the file already exists, override its contents” is literally the opposite of appending to a file.  Edit your question and show some short examples of file contents before and after your ideal theoretical code runs.","body":"“if the file already exists, override its contents” is literally the opposite of appending to a file.  Edit your question and show some short examples of file contents before and after your ideal theoretical code runs."},{"owner":{"account_id":3628239,"reputation":115,"user_id":7646049,"display_name":"Evgeny Kuznetsov"},"score":0,"creation_date":1657632577,"post_id":72952388,"comment_id":128853170,"body_markdown":"I have changed the question a bit, is it clear now what am I trying to do?","body":"I have changed the question a bit, is it clear now what am I trying to do?"}],"answers":[{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657653320,"creation_date":1657636884,"answer_id":72954170,"question_id":72952388,"body_markdown":"This code should do the job according to your description from the question:\r\n\r\n```java\r\npublic final class Writer \r\n{\r\n  private static final Set&lt;String&gt; m_AppendMarkers = new HashMap&lt;&gt;();\r\n\r\n  public static void write( final String message, final String destinationPath ) \r\n  {\r\n    final var append = m_AppendMarkers.contains( destinationPath );\r\n    try( final var fw = new FileWriter( destinationPath, append );\r\n      final var bw = new BufferedWriter( fw ) )\r\n    {\r\n      bw.write( message );\r\n      bw.newLine();\r\n      m_AppendMarkers.add( destinationPath );\r\n    } \r\n    catch( final IOException e ) \r\n    {\r\n      e.printStackTrace();\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThe set will be empty at each restart of the program, therefore `Set::contains` will return `false` for the first attempt to write to the given file; for further attempts, the path to the file was added to the set and the contains check will give you `true`, so further lines will be appended.\r\n\r\nBut to be honest, although this works, you should consider a different design! So it is not a good idea to open and close a file for each and every new line you write to it.\r\n\r\nAlso working with a static method is not good design (and that is the reason why you need the `Set` instead of a simple `boolean` flag).\r\n\r\nTo do it right (or at least a bit better) try this:\r\n\r\n```java\r\npublic class YourProgram\r\n{\r\n  private static class Writer implements AutoClosable\r\n  {\r\n    private final String m_DestinationPath;\r\n    private final StringJoiner m_Buffer ) = new StringJoiner( &quot;\\n&quot;, &quot;&quot;, &quot;\\n&quot; );\r\n\r\n    public Writer( final String destinationPath )\r\n    {\r\n      m_DestinationPath = destinationPath;\r\n    }\r\n\r\n    @Overwrite\r\n    public final void close() throws IOException\r\n    {\r\n      try( final var writer = new BufferedWriter( new FileWriter( m_DestinationPath, false ) ) )\r\n      {\r\n        writer.write( m_Buffer.toString() );\r\n      }\r\n    } \r\n\r\n    public static void write( final String message )\r\n    {\r\n      m_Buffer.add( message );\r\n    }\r\n  }\r\n  //  class Writer\r\n\r\n  private static Writer m_Writer;\r\n\r\n  public static final void main( final String... args )\r\n  {\r\n    try( var w = new Writer( &quot;TheNameOfYourOutputFile&quot; ) )\r\n    {\r\n      m_Writer = w;\r\n\r\n      // Your code goes here …\r\n      …\r\n    }\r\n    catch( final IOException e )\r\n    {\r\n      err.println( &quot;Failed to write the output file&quot; );\r\n      e.printStackTrace( err );\r\n    }\r\n    catch( final Throwable t )\r\n    {\r\n      err.println( &quot;Unhandled exception&quot; );\r\n      t.printStackTrace( err );\r\n    }\r\n  }\r\n}\r\n// class YourProgram\r\n```\r\nError handling was omitted to keep readability.\r\n\r\n\r\nAs long as you do not attempt to write several GigaBytes of data, this should work much more smoothly than the other design. Ok, it is not crash-save, nothing will be written to the output file if the program will be killed externally.","title":"Opening a file in append mode but truncating the file if not empty in JAVA 11","body":"<p>This code should do the job according to your description from the question:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class Writer \n{\n  private static final Set&lt;String&gt; m_AppendMarkers = new HashMap&lt;&gt;();\n\n  public static void write( final String message, final String destinationPath ) \n  {\n    final var append = m_AppendMarkers.contains( destinationPath );\n    try( final var fw = new FileWriter( destinationPath, append );\n      final var bw = new BufferedWriter( fw ) )\n    {\n      bw.write( message );\n      bw.newLine();\n      m_AppendMarkers.add( destinationPath );\n    } \n    catch( final IOException e ) \n    {\n      e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n<p>The set will be empty at each restart of the program, therefore <code>Set::contains</code> will return <code>false</code> for the first attempt to write to the given file; for further attempts, the path to the file was added to the set and the contains check will give you <code>true</code>, so further lines will be appended.</p>\n<p>But to be honest, although this works, you should consider a different design! So it is not a good idea to open and close a file for each and every new line you write to it.</p>\n<p>Also working with a static method is not good design (and that is the reason why you need the <code>Set</code> instead of a simple <code>boolean</code> flag).</p>\n<p>To do it right (or at least a bit better) try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class YourProgram\n{\n  private static class Writer implements AutoClosable\n  {\n    private final String m_DestinationPath;\n    private final StringJoiner m_Buffer ) = new StringJoiner( &quot;\\n&quot;, &quot;&quot;, &quot;\\n&quot; );\n\n    public Writer( final String destinationPath )\n    {\n      m_DestinationPath = destinationPath;\n    }\n\n    @Overwrite\n    public final void close() throws IOException\n    {\n      try( final var writer = new BufferedWriter( new FileWriter( m_DestinationPath, false ) ) )\n      {\n        writer.write( m_Buffer.toString() );\n      }\n    } \n\n    public static void write( final String message )\n    {\n      m_Buffer.add( message );\n    }\n  }\n  //  class Writer\n\n  private static Writer m_Writer;\n\n  public static final void main( final String... args )\n  {\n    try( var w = new Writer( &quot;TheNameOfYourOutputFile&quot; ) )\n    {\n      m_Writer = w;\n\n      // Your code goes here …\n      …\n    }\n    catch( final IOException e )\n    {\n      err.println( &quot;Failed to write the output file&quot; );\n      e.printStackTrace( err );\n    }\n    catch( final Throwable t )\n    {\n      err.println( &quot;Unhandled exception&quot; );\n      t.printStackTrace( err );\n    }\n  }\n}\n// class YourProgram\n</code></pre>\n<p>Error handling was omitted to keep readability.</p>\n<p>As long as you do not attempt to write several GigaBytes of data, this should work much more smoothly than the other design. Ok, it is not crash-save, nothing will be written to the output file if the program will be killed externally.</p>\n"}],"owner":{"account_id":3628239,"reputation":115,"user_id":7646049,"display_name":"Evgeny Kuznetsov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72954170,"answer_count":1,"score":-1,"last_activity_date":1657653320,"creation_date":1657629179,"question_id":72952388,"body_markdown":"I would like to create a result.csv file if it does not exist, then I call ```write``` several times and append corresponding messages one by a call. \r\n\r\nBut If the file already exists and contain something before the run of the program, I would like to erase its contents and then begin to append corresponding messages .\r\n\r\nI have tried the following: \r\n```\r\npublic final class Writer {\r\n    public static void write(String message, String destinationPath) {\r\n        try (FileWriter fw = new FileWriter(destinationPath, true);\r\n             BufferedWriter bw = new BufferedWriter(fw)\r\n        ) {\r\n            bw.write(message);\r\n            bw.newLine();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\nBut, as you may guess, when I run the program over and over it just appends new line on existing ones not erasing what was inside before the program was ran.\r\n\r\nthe call of ```write``` is done like: \r\n\r\n``` studentNamesAndIds.values().forEach(id -&gt; Writer.write(id+&quot;,&quot;+ DecideGrade.softLookUp(id, studentIdsAndGrades),writeFilePath));```\r\n\r\nWhat should I change to get the result I mentioned at the beginning?\r\n\r\nP.S. If I were declaring ```new FileWriter(destinationPath)``` without the second argument ```true``` then every call of ```write``` would erase the content of my file, I would withe the last line inside.  ","title":"Opening a file in append mode but truncating the file if not empty in JAVA 11","body":"<p>I would like to create a result.csv file if it does not exist, then I call <code>write</code> several times and append corresponding messages one by a call.</p>\n<p>But If the file already exists and contain something before the run of the program, I would like to erase its contents and then begin to append corresponding messages .</p>\n<p>I have tried the following:</p>\n<pre><code>public final class Writer {\n    public static void write(String message, String destinationPath) {\n        try (FileWriter fw = new FileWriter(destinationPath, true);\n             BufferedWriter bw = new BufferedWriter(fw)\n        ) {\n            bw.write(message);\n            bw.newLine();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n<p>But, as you may guess, when I run the program over and over it just appends new line on existing ones not erasing what was inside before the program was ran.</p>\n<p>the call of <code>write</code> is done like:</p>\n<p><code> studentNamesAndIds.values().forEach(id -&gt; Writer.write(id+&quot;,&quot;+ DecideGrade.softLookUp(id, studentIdsAndGrades),writeFilePath));</code></p>\n<p>What should I change to get the result I mentioned at the beginning?</p>\n<p>P.S. If I were declaring <code>new FileWriter(destinationPath)</code> without the second argument <code>true</code> then every call of <code>write</code> would erase the content of my file, I would withe the last line inside.</p>\n"},{"tags":["java","java-ee-6","jax-rs"],"answers":[{"tags":[],"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1657652724,"creation_date":1338723628,"answer_id":10870006,"question_id":10869977,"body_markdown":"These classes ([*JSR 311: JAX-RS: The JavaTM API for RESTful Web Services*](http://jcp.org/en/jsr/detail?id=311)) are not part of the JDK. You need to include appropriate JAR file to your CLASSPATH. You can find the API e.g. in [maven repository](https://repo1.maven.org/maven2/javax/ws/rs/jsr311-api/1.1.1/).\r\n\r\nAlso check out [tag:apache-cxf], [tag:jersey] (reference implementation), [tag:Resteasy] from JBoss, [tag:restlet] and few other JAX-RS implementations.","title":"Can&#39;t find javax.ws.rs package in jdk","body":"<p>These classes (<a href=\"http://jcp.org/en/jsr/detail?id=311\" rel=\"nofollow noreferrer\"><em>JSR 311: JAX-RS: The JavaTM API for RESTful Web Services</em></a>) are not part of the JDK. You need to include appropriate JAR file to your CLASSPATH. You can find the API e.g. in <a href=\"https://repo1.maven.org/maven2/javax/ws/rs/jsr311-api/1.1.1/\" rel=\"nofollow noreferrer\">maven repository</a>.</p>\n<p>Also check out <a href=\"/questions/tagged/apache-cxf\" class=\"post-tag\" title=\"show questions tagged &#39;apache-cxf&#39;\" rel=\"tag\">apache-cxf</a>, <a href=\"/questions/tagged/jersey\" class=\"post-tag\" title=\"show questions tagged &#39;jersey&#39;\" rel=\"tag\">jersey</a> (reference implementation), <a href=\"/questions/tagged/resteasy\" class=\"post-tag\" title=\"show questions tagged &#39;resteasy&#39;\" rel=\"tag\">resteasy</a> from JBoss, <a href=\"/questions/tagged/restlet\" class=\"post-tag\" title=\"show questions tagged &#39;restlet&#39;\" rel=\"tag\">restlet</a> and few other JAX-RS implementations.</p>\n"},{"tags":[],"owner":{"account_id":6198597,"reputation":188,"user_id":4829183,"display_name":"orientchen1978"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1429887622,"creation_date":1429887622,"answer_id":29850869,"question_id":10869977,"body_markdown":"Try:\r\nhttp://download.oracle.com/otndocs/jcp/jaxrs-2_0_rev_A-mrel-spec/index.html\r\n\r\nDownload: javax.ws.rs-api-2.0.rev.A.jar\r\n\r\nThen add to your Project Properties(YourProjectName)-&gt;Libraries-&gt;Add JAR/Folder","title":"Can&#39;t find javax.ws.rs package in jdk","body":"<p>Try:\n<a href=\"http://download.oracle.com/otndocs/jcp/jaxrs-2_0_rev_A-mrel-spec/index.html\">http://download.oracle.com/otndocs/jcp/jaxrs-2_0_rev_A-mrel-spec/index.html</a></p>\n\n<p>Download: javax.ws.rs-api-2.0.rev.A.jar</p>\n\n<p>Then add to your Project Properties(YourProjectName)->Libraries->Add JAR/Folder</p>\n"},{"tags":[],"owner":{"account_id":2347162,"reputation":10955,"user_id":2057089,"display_name":"Gene"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1563892457,"creation_date":1462489413,"answer_id":37061675,"question_id":10869977,"body_markdown":"It doesn&#39;t matter what your JDK is set to. \r\n\r\nGo here= http://www.java2s.com/Code/Jar/j/Downloadjavaxwsrsjar.htm\r\n\r\nOr type in &quot;Download javax.ws.rs&quot; into Google. \r\n\r\nDownload “javax.ws/javax.ws.rs.jar.zip”\r\n\r\n[![enter image description here][1]][1]\r\n\r\nUnzip to your desktop. The resulting file should be a jar file.\r\nOpen your project preferences and add it as external jar.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\nSelect your javax.ws.rs.jar file from your Desktop. \r\n\r\nClick “Apply” and then “OK”. \r\n\r\nNow you should be able to use the javax.ws.rs libraries. You can test it by typing &quot;import javax.ws.rs.GET;&quot; in one of your Java classes.  \r\n\r\n\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/evMtX.png\r\n  [2]: http://i.stack.imgur.com/clfoI.png\r\n  [3]: http://i.stack.imgur.com/CWvJW.png","title":"Can&#39;t find javax.ws.rs package in jdk","body":"<p>It doesn't matter what your JDK is set to. </p>\n\n<p>Go here= <a href=\"http://www.java2s.com/Code/Jar/j/Downloadjavaxwsrsjar.htm\" rel=\"nofollow noreferrer\">http://www.java2s.com/Code/Jar/j/Downloadjavaxwsrsjar.htm</a></p>\n\n<p>Or type in \"Download javax.ws.rs\" into Google. </p>\n\n<p>Download “javax.ws/javax.ws.rs.jar.zip”</p>\n\n<p><a href=\"https://i.stack.imgur.com/evMtX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/evMtX.png\" alt=\"enter image description here\"></a></p>\n\n<p>Unzip to your desktop. The resulting file should be a jar file.\nOpen your project preferences and add it as external jar.</p>\n\n<p><a href=\"https://i.stack.imgur.com/clfoI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/clfoI.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/CWvJW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CWvJW.png\" alt=\"enter image description here\"></a></p>\n\n<p>Select your javax.ws.rs.jar file from your Desktop. </p>\n\n<p>Click “Apply” and then “OK”. </p>\n\n<p>Now you should be able to use the javax.ws.rs libraries. You can test it by typing \"import javax.ws.rs.GET;\" in one of your Java classes.  </p>\n"}],"owner":{"account_id":1047162,"reputation":4175,"user_id":1051927,"accept_rate":77,"display_name":"narek.gevorgyan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88336,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":10870006,"answer_count":3,"score":36,"last_activity_date":1657652724,"creation_date":1338723370,"question_id":10869977,"body_markdown":"I&#39;m trying to get into JAX-RS.\r\nMy project jdk is set to 1.7.03.\r\nDoes there have to be definitions of annotations for JAX-RS(javax.ws.rs)?\r\nIf not, where I can find them?","title":"Can&#39;t find javax.ws.rs package in jdk","body":"<p>I'm trying to get into JAX-RS.\nMy project jdk is set to 1.7.03.\nDoes there have to be definitions of annotations for JAX-RS(javax.ws.rs)?\nIf not, where I can find them?</p>\n"},{"tags":["java","unit-testing","archunit"],"answers":[{"tags":[],"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650393229,"creation_date":1650393229,"answer_id":71929710,"question_id":71926009,"body_markdown":"I don&#39;t think that [ArchUnit&#39;s JUnit 4 &amp; 5 support](https://www.archunit.org/userguide/html/000_Index.html#_junit_4_5_support) – in the current version 0.23.1 – allows for dynamic packages configured via an `application.properties`.\r\n\r\nBut instead of using `@AnalyzeClasses`, you can always just invoke [`new ClassFileImporter().import`](https://javadoc.io/doc/com.tngtech.archunit/archunit/latest/com/tngtech/archunit/core/importer/ClassFileImporter.html)… and pass any dynamic runtime values you like.  \r\n(Note that ArchUnit&#39;s JUnit support also introduces a clever cache to reuse imported `JavaClasses` by multiple `@ArchTest`s, but storing `JavaClasses` in a static field  may be also good enough.)","title":"Use ArchUnit As Adapter to Run Architecture Test Based on External AnalyzeClasses","body":"<p>I don't think that <a href=\"https://www.archunit.org/userguide/html/000_Index.html#_junit_4_5_support\" rel=\"nofollow noreferrer\">ArchUnit's JUnit 4 &amp; 5 support</a> – in the current version 0.23.1 – allows for dynamic packages configured via an <code>application.properties</code>.</p>\n<p>But instead of using <code>@AnalyzeClasses</code>, you can always just invoke <a href=\"https://javadoc.io/doc/com.tngtech.archunit/archunit/latest/com/tngtech/archunit/core/importer/ClassFileImporter.html\" rel=\"nofollow noreferrer\"><code>new ClassFileImporter().import</code></a>… and pass any dynamic runtime values you like.<br />\n(Note that ArchUnit's JUnit support also introduces a clever cache to reuse imported <code>JavaClasses</code> by multiple <code>@ArchTest</code>s, but storing <code>JavaClasses</code> in a static field  may be also good enough.)</p>\n"},{"tags":[],"owner":{"account_id":2987995,"reputation":859,"user_id":2536277,"accept_rate":75,"display_name":"pete83"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657652292,"creation_date":1657652292,"answer_id":72957164,"question_id":71926009,"body_markdown":"This actually should be possible using a custom `LocationProvider` within `@AnalyzeClasses`. E.g.\r\n\r\n```\r\n\r\n@AnalyzeClasses(locations = ApplicationPropertiesLocationProvider.class)\r\npublic class ExampleTest {\r\n  // ...\r\n}\r\n\r\nclass ApplicationPropertiesLocationProvider implements LocationProvider {\r\n  @Override\r\n  public Set&lt;Location&gt; get(Class&lt;?&gt; testClass) {\r\n    String packageToScan = readFromApplicationProperties();\r\n    return Locations.ofPackage(packageToScan);\r\n  }\r\n}\r\n```\r\n\r\nBut be aware of caching limitations! The caching mechanism assumes that your `LocationProvider` is &quot;idempotent&quot;, i.e. it always returns the same locations. The caching mechanism will only take the type of the `LocationProvider` into consideration as cache key. This should not be a problem for a static `application.properties` as source though.","title":"Use ArchUnit As Adapter to Run Architecture Test Based on External AnalyzeClasses","body":"<p>This actually should be possible using a custom <code>LocationProvider</code> within <code>@AnalyzeClasses</code>. E.g.</p>\n<pre><code>\n@AnalyzeClasses(locations = ApplicationPropertiesLocationProvider.class)\npublic class ExampleTest {\n  // ...\n}\n\nclass ApplicationPropertiesLocationProvider implements LocationProvider {\n  @Override\n  public Set&lt;Location&gt; get(Class&lt;?&gt; testClass) {\n    String packageToScan = readFromApplicationProperties();\n    return Locations.ofPackage(packageToScan);\n  }\n}\n</code></pre>\n<p>But be aware of caching limitations! The caching mechanism assumes that your <code>LocationProvider</code> is &quot;idempotent&quot;, i.e. it always returns the same locations. The caching mechanism will only take the type of the <code>LocationProvider</code> into consideration as cache key. This should not be a problem for a static <code>application.properties</code> as source though.</p>\n"}],"owner":{"account_id":2031219,"reputation":2191,"user_id":1814867,"accept_rate":50,"display_name":"Mandar Pandit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":578,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657652292,"creation_date":1650375788,"question_id":71926009,"body_markdown":"I am trying to do one example with ```ArchUnit``` where passing the **AnalyzeClasses** can be dynamic based on for which Adapter Application the test need run.\r\n\r\nFor Example:\r\n\r\n    @AnalyzeClasses(packages = &quot;${archtest.scan.package}&quot;, importOptions = { ImportOption.DoNotIncludeTests.class, ImportOption.DoNotIncludeJars.class })\r\n    public class ArchitectureTests {\r\n    \r\n    }\r\n\r\nAnd from ```application.properties``` file it should allow to pass the packages to analyze dynamically,  so any application using this Application as Jar library can provide the scan classes in its properties file. As below.\r\n\r\n    archtest.scan.package=com.example.pkgname\r\n\r\nI am not sure what is the right way to pick up the dynamic value from property and pass that into ```@AnalyzeClasses``` Annotation. I am looking for some help or any example in this regard.\r\n\r\n ","title":"Use ArchUnit As Adapter to Run Architecture Test Based on External AnalyzeClasses","body":"<p>I am trying to do one example with <code>ArchUnit</code> where passing the <strong>AnalyzeClasses</strong> can be dynamic based on for which Adapter Application the test need run.</p>\n<p>For Example:</p>\n<pre><code>@AnalyzeClasses(packages = &quot;${archtest.scan.package}&quot;, importOptions = { ImportOption.DoNotIncludeTests.class, ImportOption.DoNotIncludeJars.class })\npublic class ArchitectureTests {\n\n}\n</code></pre>\n<p>And from <code>application.properties</code> file it should allow to pass the packages to analyze dynamically,  so any application using this Application as Jar library can provide the scan classes in its properties file. As below.</p>\n<pre><code>archtest.scan.package=com.example.pkgname\n</code></pre>\n<p>I am not sure what is the right way to pick up the dynamic value from property and pass that into <code>@AnalyzeClasses</code> Annotation. I am looking for some help or any example in this regard.</p>\n"},{"tags":["java","testng","junit5"],"answers":[{"tags":[],"owner":{"account_id":14377484,"reputation":44,"user_id":10385597,"display_name":"toolateitsme"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1657651276,"creation_date":1657651276,"answer_id":72956991,"question_id":72956793,"body_markdown":"Please, read a guide about Dynamic tests - https://junit.org/junit5/docs/current/user-guide/#writing-tests-dynamic-tests-examples\r\n\r\nAlso, dynamic tests can be parameterized (like data providers) with Sources - https://junit.org/junit5/docs/current/user-guide/#writing-tests-dynamic-tests-uri-test-source read this part of guide","title":"TestNG @Factory analog in JUnit 5","body":"<p>Please, read a guide about Dynamic tests - <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-dynamic-tests-examples\" rel=\"nofollow noreferrer\">https://junit.org/junit5/docs/current/user-guide/#writing-tests-dynamic-tests-examples</a></p>\n<p>Also, dynamic tests can be parameterized (like data providers) with Sources - <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-dynamic-tests-uri-test-source\" rel=\"nofollow noreferrer\">https://junit.org/junit5/docs/current/user-guide/#writing-tests-dynamic-tests-uri-test-source</a> read this part of guide</p>\n"}],"owner":{"account_id":16546803,"reputation":1,"user_id":11956137,"display_name":"Aleksandr Kireev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657651276,"creation_date":1657650089,"question_id":72956793,"body_markdown":"In TestNG we can annotate test class constructor @Factory annotation and specify data provider for this factory like this:\r\n\r\n    @Factory(dataProvider = &quot;dataProviderName&quot;)\r\nAnd TestNG create instance of test class for each object returned by data provider.\r\nIn JUnit 5 I didn&#39;t found feature exactly like that. My question is, how I can reproduce that behavior in JUnit 5?\r\n\r\nThanks in advance for your help","title":"TestNG @Factory analog in JUnit 5","body":"<p>In TestNG we can annotate test class constructor @Factory annotation and specify data provider for this factory like this:</p>\n<pre><code>@Factory(dataProvider = &quot;dataProviderName&quot;)\n</code></pre>\n<p>And TestNG create instance of test class for each object returned by data provider.\nIn JUnit 5 I didn't found feature exactly like that. My question is, how I can reproduce that behavior in JUnit 5?</p>\n<p>Thanks in advance for your help</p>\n"},{"tags":["java","annotations","archunit"],"comments":[{"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"score":0,"creation_date":1605789865,"post_id":64699060,"comment_id":114763354,"body_markdown":"Can&#39;t find something about parameters neither frankly.. strange.. maybe it&#39;s missing.","body":"Can&#39;t find something about parameters neither frankly.. strange.. maybe it&#39;s missing."},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":2,"creation_date":1614788774,"post_id":64699060,"comment_id":117493491,"body_markdown":"It seems this is currently not possible. See https://github.com/TNG/ArchUnit/issues/113 for the relevant issue.","body":"It seems this is currently not possible. See <a href=\"https://github.com/TNG/ArchUnit/issues/113\" rel=\"nofollow noreferrer\">github.com/TNG/ArchUnit/issues/113</a> for the relevant issue."}],"answers":[{"tags":[],"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1626130082,"creation_date":1626130082,"answer_id":68354598,"question_id":64699060,"body_markdown":"You can always fall back to the Reflection API:\r\n```java\r\nArchRule rule = methods()\r\n    .that().areDeclaredInClassesThat().areInterfaces()\r\n    .and().areDeclaredInClassesThat().areAnnotatedWith(ComponentInterface.class)\r\n    .should(haveAllParametersAnnotatedWith(Input.class));\r\n\r\nArchCondition&lt;JavaMethod&gt; haveAllParametersAnnotatedWith(Class&lt;? extends Annotation&gt; annotationClass) {\r\n  return new ArchCondition&lt;JavaMethod&gt;(&quot;have all parameters annotated with @&quot; + annotationClass.getSimpleName()) {\r\n    @Override\r\n    public void check(JavaMethod method, ConditionEvents events) {\r\n      boolean areAllParametersAnnotated = true;\r\n      for (Annotation[] parameterAnnotations : method.reflect().getParameterAnnotations()) {\r\n        boolean isParameterAnnotated = false;\r\n        for (Annotation annotation : parameterAnnotations) {\r\n          if (annotation.annotationType().equals(annotationClass)) {\r\n            isParameterAnnotated = true;\r\n          }\r\n        }\r\n        areAllParametersAnnotated &amp;= isParameterAnnotated;\r\n      }\r\n      String message = (areAllParametersAnnotated ? &quot;&quot; : &quot;not &quot;)\r\n          + &quot;all parameters of &quot; + method.getDescription()\r\n          + &quot; are annotated with @&quot; + annotationClass.getSimpleName();\r\n      events.add(new SimpleConditionEvent(method, areAllParametersAnnotated, message));\r\n    }\r\n  };\r\n}\r\n```","title":"ArchUnit - ensure method parameters are annotated","body":"<p>You can always fall back to the Reflection API:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArchRule rule = methods()\n    .that().areDeclaredInClassesThat().areInterfaces()\n    .and().areDeclaredInClassesThat().areAnnotatedWith(ComponentInterface.class)\n    .should(haveAllParametersAnnotatedWith(Input.class));\n\nArchCondition&lt;JavaMethod&gt; haveAllParametersAnnotatedWith(Class&lt;? extends Annotation&gt; annotationClass) {\n  return new ArchCondition&lt;JavaMethod&gt;(&quot;have all parameters annotated with @&quot; + annotationClass.getSimpleName()) {\n    @Override\n    public void check(JavaMethod method, ConditionEvents events) {\n      boolean areAllParametersAnnotated = true;\n      for (Annotation[] parameterAnnotations : method.reflect().getParameterAnnotations()) {\n        boolean isParameterAnnotated = false;\n        for (Annotation annotation : parameterAnnotations) {\n          if (annotation.annotationType().equals(annotationClass)) {\n            isParameterAnnotated = true;\n          }\n        }\n        areAllParametersAnnotated &amp;= isParameterAnnotated;\n      }\n      String message = (areAllParametersAnnotated ? &quot;&quot; : &quot;not &quot;)\n          + &quot;all parameters of &quot; + method.getDescription()\n          + &quot; are annotated with @&quot; + annotationClass.getSimpleName();\n      events.add(new SimpleConditionEvent(method, areAllParametersAnnotated, message));\n    }\n  };\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2987995,"reputation":859,"user_id":2536277,"accept_rate":75,"display_name":"pete83"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657651223,"creation_date":1657651223,"answer_id":72956981,"question_id":64699060,"body_markdown":"Note that the information is meanwhile available (but not added to the fluent API yet) -&gt; https://github.com/TNG/ArchUnit/pull/701\r\n\r\nYou can achieve it with e.g. a custom `ArchCondition`\r\n\r\n```\r\nmethods()\r\n  ...\r\n  .should(haveParametersAnnotatedWith(Input.class))\r\n\r\n// ...\r\n\r\nprivate ArchCondition&lt;JavaMethod&gt; haveParametersAnnotatedWith(\r\n  Class&lt;? extends Annotation&gt; annotationType\r\n) {\r\n  return new ArchCondition&lt;JavaMethod&gt;(\r\n    &quot;have parameters annotated with @&quot; + annotationType.getSimpleName()\r\n  ) {\r\n    @Override\r\n    public void check(JavaMethod method, ConditionEvents events) {\r\n      method.getParameters().stream()\r\n        .filter(parameter -&gt; !parameter.isAnnotatedWith(annotationType))\r\n        .forEach(parameter -&gt; events.add(SimpleConditionEvent.violated(method,\r\n          parameter.getDescription() + &quot; is not annotated with @&quot; + annotationType.getSimpleName())));\r\n    }\r\n  };\r\n}\r\n```","title":"ArchUnit - ensure method parameters are annotated","body":"<p>Note that the information is meanwhile available (but not added to the fluent API yet) -&gt; <a href=\"https://github.com/TNG/ArchUnit/pull/701\" rel=\"nofollow noreferrer\">https://github.com/TNG/ArchUnit/pull/701</a></p>\n<p>You can achieve it with e.g. a custom <code>ArchCondition</code></p>\n<pre><code>methods()\n  ...\n  .should(haveParametersAnnotatedWith(Input.class))\n\n// ...\n\nprivate ArchCondition&lt;JavaMethod&gt; haveParametersAnnotatedWith(\n  Class&lt;? extends Annotation&gt; annotationType\n) {\n  return new ArchCondition&lt;JavaMethod&gt;(\n    &quot;have parameters annotated with @&quot; + annotationType.getSimpleName()\n  ) {\n    @Override\n    public void check(JavaMethod method, ConditionEvents events) {\n      method.getParameters().stream()\n        .filter(parameter -&gt; !parameter.isAnnotatedWith(annotationType))\n        .forEach(parameter -&gt; events.add(SimpleConditionEvent.violated(method,\n          parameter.getDescription() + &quot; is not annotated with @&quot; + annotationType.getSimpleName())));\n    }\n  };\n}\n</code></pre>\n"}],"owner":{"account_id":26752,"reputation":761,"user_id":69888,"accept_rate":50,"display_name":"manuna"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2499,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":68354598,"answer_count":2,"score":4,"last_activity_date":1657651223,"creation_date":1604585926,"question_id":64699060,"body_markdown":"I&#39;m trying to write an ArchUnit test rule, which should ensure that interfaces annotated with ```@ComponentInterface``` annotation have method parameters annotated with ```@Input``` annotation.\r\nLike this:\r\n\r\n```\r\nArchRule rule =\r\n        methods()\r\n            .that()\r\n            .areDeclaredInClassesThat()\r\n            .areInterfaces()\r\n            .and()\r\n            .areDeclaredInClassesThat()\r\n            .areAnnotatedWith(ComponentInterface.class)\r\n            .should()\r\n            .haveRawParameterTypes(\r\n                allElements(CanBeAnnotated.Predicates.annotatedWith(Input.class)));\r\n```\r\nThe interface looks like this:\r\n```\r\n@ComponentInterface\r\npublic interface AdminComponent {\r\n  void login(@Input(name = &quot;loginString&quot;) String loginString);\r\n}\r\n```\r\nBut the test fails with an error like this:\r\n```Method &lt; com.some.package.AdminComponent.login(java.lang.String)&gt; does not have raw parameter types all elements annotated with @Input in (AdminComponent.java:0)```\r\n\r\nHow should the rule look like to work properly in this case?\r\n\r\n\r\nP.S. After doing some debug, it turned out that _haveRawParameterTypes_ checks if parameter types (classes) are annotated, not the method parameters itself. So it looks at _String_ class and finds out, that it is not annotated with _@Input_. Good to know, but it doesn&#39;t solve the problem.","title":"ArchUnit - ensure method parameters are annotated","body":"<p>I'm trying to write an ArchUnit test rule, which should ensure that interfaces annotated with <code>@ComponentInterface</code> annotation have method parameters annotated with <code>@Input</code> annotation.\nLike this:</p>\n<pre><code>ArchRule rule =\n        methods()\n            .that()\n            .areDeclaredInClassesThat()\n            .areInterfaces()\n            .and()\n            .areDeclaredInClassesThat()\n            .areAnnotatedWith(ComponentInterface.class)\n            .should()\n            .haveRawParameterTypes(\n                allElements(CanBeAnnotated.Predicates.annotatedWith(Input.class)));\n</code></pre>\n<p>The interface looks like this:</p>\n<pre><code>@ComponentInterface\npublic interface AdminComponent {\n  void login(@Input(name = &quot;loginString&quot;) String loginString);\n}\n</code></pre>\n<p>But the test fails with an error like this:\n<code>Method &lt; com.some.package.AdminComponent.login(java.lang.String)&gt; does not have raw parameter types all elements annotated with @Input in (AdminComponent.java:0)</code></p>\n<p>How should the rule look like to work properly in this case?</p>\n<p>P.S. After doing some debug, it turned out that <em>haveRawParameterTypes</em> checks if parameter types (classes) are annotated, not the method parameters itself. So it looks at <em>String</em> class and finds out, that it is not annotated with <em>@Input</em>. Good to know, but it doesn't solve the problem.</p>\n"},{"tags":["java","android","image","android-studio","sharing"],"comments":[{"owner":{"account_id":17869190,"reputation":1204,"user_id":12980866,"display_name":"Shreemaan Abhishek"},"score":0,"creation_date":1596106978,"post_id":62838312,"comment_id":111707947,"body_markdown":"could you please add the stacktrace from the logcat so I can know where is the error coming from?","body":"could you please add the stacktrace from the logcat so I can know where is the error coming from?"},{"owner":{"account_id":17869190,"reputation":1204,"user_id":12980866,"display_name":"Shreemaan Abhishek"},"score":0,"creation_date":1596107056,"post_id":62838312,"comment_id":111707978,"body_markdown":"and are you getting the null pointer exception when click some button?","body":"and are you getting the null pointer exception when click some button?"},{"owner":{"account_id":17673717,"reputation":75,"user_id":12829226,"display_name":"life4"},"score":0,"creation_date":1596123246,"post_id":62838312,"comment_id":111716854,"body_markdown":"i fixed with recyclerview","body":"i fixed with recyclerview"},{"owner":{"account_id":17869190,"reputation":1204,"user_id":12980866,"display_name":"Shreemaan Abhishek"},"score":0,"creation_date":1596160985,"post_id":62838312,"comment_id":111730443,"body_markdown":"Then please share your answer and accept your own answer as the correct one :)\\","body":"Then please share your answer and accept your own answer as the correct one :)\\"}],"answers":[{"tags":[],"owner":{"account_id":17869190,"reputation":1204,"user_id":12980866,"display_name":"Shreemaan Abhishek"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1596100367,"creation_date":1594429686,"answer_id":62844139,"question_id":62838312,"body_markdown":"Call startActivity inside onItemClickListener. You will have to insert the logic that gets the location of Image inside the clickListener, attach that path as extra to the intent.\r\n","title":"Giving share option to the grid images","body":"<p>Call startActivity inside onItemClickListener. You will have to insert the logic that gets the location of Image inside the clickListener, attach that path as extra to the intent.</p>\n"}],"owner":{"account_id":17673717,"reputation":75,"user_id":12829226,"display_name":"life4"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657651041,"creation_date":1594397613,"question_id":62838312,"body_markdown":"i am creating an application which i want share images to any social platform. i used a grid view successfully . i want to add a social share function to the applications which get the image location and share to the social platform. i tried this method from https://stackoverflow.com/a/21848647/4294399\r\n  \r\n\r\n    BitmapDrawable bm = (BitmapDrawable) yourImageView.getDrawable();\r\n    Bitmap mysharebmp = bm.getBitmap();\r\n     String path = Images.Media.insertImage(getContentResolver(),\r\n                    mysharebmp, &quot;MyImage&quot;, null);\r\n    Uri uri = Uri.parse(path);\r\n    Intent sharingIntent = new Intent(Intent.ACTION_SEND);\r\n    sharingIntent.setType(&quot;image/png&quot;);\r\n    sharingIntent.putExtra(Intent.EXTRA_STREAM, uri);\r\n    startActivity(Intent.createChooser(sharingIntent,\r\n                    &quot;Share image using&quot;));\r\n    \r\nit&#39;s giving fatal error how can i share image when the click from gridView ? I&#39;m getting \r\n\r\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;android.graphics.drawable.Drawable android.widget.ImageView.getDrawable()&#39; on a null object reference`` i&#39;m getting this error\r\n\r\n\r\n\r\n        gridView = (GridView) findViewById(R.id.gridView);\r\n        list = new ArrayList&lt;&gt;();\r\n        adapter = new FoodListAdapter(this, R.layout.food_items, list);\r\n        gridView.setAdapter(adapter);\r\n\r\n        // get all data from sqlite\r\n        Cursor cursor = MainActivity.sqLiteHelper.getData(&quot;SELECT * FROM FOOD&quot;);\r\n        list.clear();\r\n        while (cursor.moveToNext()) {\r\n            int id = cursor.getInt(0);\r\n            String name = cursor.getString(1);\r\n            String price = cursor.getString(2);\r\n            byte[] image = cursor.getBlob(3);\r\n\r\n            list.add(new Food(name, price, image, id));\r\n        }\r\n        adapter.notifyDataSetChanged();\r\n        gridView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n                    \r\n            }\r\n        });\r\n        @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n\r\n        if(requestCode == 888){\r\n            if(grantResults.length &gt;0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED){\r\n                Intent intent = new Intent(Intent.ACTION_PICK);\r\n                intent.setType(&quot;image/*&quot;);\r\n                startActivityForResult(intent, 888);\r\n            }\r\n            else {\r\n                Toast.makeText(getApplicationContext(), &quot;You don&#39;t have permission to access file location!&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n            return;\r\n        }\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n\r\n        if(requestCode == 888 &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null){\r\n            Uri uri = data.getData();\r\n            try {\r\n                InputStream inputStream = getContentResolver().openInputStream(uri);\r\n                Bitmap bitmap = BitmapFactory.decodeStream(inputStream);\r\n                imageViewFood.setImageBitmap(bitmap);\r\n\r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n    }\r\n","title":"Giving share option to the grid images","body":"<p>i am creating an application which i want share images to any social platform. i used a grid view successfully . i want to add a social share function to the applications which get the image location and share to the social platform. i tried this method from <a href=\"https://stackoverflow.com/a/21848647/4294399\">https://stackoverflow.com/a/21848647/4294399</a></p>\n<pre><code>BitmapDrawable bm = (BitmapDrawable) yourImageView.getDrawable();\nBitmap mysharebmp = bm.getBitmap();\n String path = Images.Media.insertImage(getContentResolver(),\n                mysharebmp, &quot;MyImage&quot;, null);\nUri uri = Uri.parse(path);\nIntent sharingIntent = new Intent(Intent.ACTION_SEND);\nsharingIntent.setType(&quot;image/png&quot;);\nsharingIntent.putExtra(Intent.EXTRA_STREAM, uri);\nstartActivity(Intent.createChooser(sharingIntent,\n                &quot;Share image using&quot;));\n</code></pre>\n<p>it's giving fatal error how can i share image when the click from gridView ? I'm getting</p>\n<p>java.lang.NullPointerException: Attempt to invoke virtual method 'android.graphics.drawable.Drawable android.widget.ImageView.getDrawable()' on a null object reference`` i'm getting this error</p>\n<pre><code>    gridView = (GridView) findViewById(R.id.gridView);\n    list = new ArrayList&lt;&gt;();\n    adapter = new FoodListAdapter(this, R.layout.food_items, list);\n    gridView.setAdapter(adapter);\n\n    // get all data from sqlite\n    Cursor cursor = MainActivity.sqLiteHelper.getData(&quot;SELECT * FROM FOOD&quot;);\n    list.clear();\n    while (cursor.moveToNext()) {\n        int id = cursor.getInt(0);\n        String name = cursor.getString(1);\n        String price = cursor.getString(2);\n        byte[] image = cursor.getBlob(3);\n\n        list.add(new Food(name, price, image, id));\n    }\n    adapter.notifyDataSetChanged();\n    gridView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n        @Override\n        public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n                \n        }\n    });\n    @Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n\n    if(requestCode == 888){\n        if(grantResults.length &gt;0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED){\n            Intent intent = new Intent(Intent.ACTION_PICK);\n            intent.setType(&quot;image/*&quot;);\n            startActivityForResult(intent, 888);\n        }\n        else {\n            Toast.makeText(getApplicationContext(), &quot;You don't have permission to access file location!&quot;, Toast.LENGTH_SHORT).show();\n        }\n        return;\n    }\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n\n    if(requestCode == 888 &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null){\n        Uri uri = data.getData();\n        try {\n            InputStream inputStream = getContentResolver().openInputStream(uri);\n            Bitmap bitmap = BitmapFactory.decodeStream(inputStream);\n            imageViewFood.setImageBitmap(bitmap);\n\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n    }\n\n    super.onActivityResult(requestCode, resultCode, data);\n}\n</code></pre>\n"},{"tags":["java","android","react-native","kotlin","momentjs"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1657648532,"post_id":72947719,"comment_id":128859088,"body_markdown":"*I have tried every possible solution on stactoverflow but the exception occur while parsing the date string.* It should not (of course). Please show us the code you have tried and paste the exact exception message you are getting, and I am sure we can help you out. You may also link to the answers where you got that code from.","body":"<i>I have tried every possible solution on stactoverflow but the exception occur while parsing the date string.</i> It should not (of course). Please show us the code you have tried and paste the exact exception message you are getting, and I am sure we can help you out. You may also link to the answers where you got that code from."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1657650535,"post_id":72947719,"comment_id":128859663,"body_markdown":"`Jul-07-2022 01:47 pm` looks a bit off standard to me. Unless you have very specific requirements, you should prefer giving your user Java’s built-in localized format. For example (in Java) `LocalDateTime.parse(&quot;2022-07-07T08:17:12.117000&quot;) .atOffset(ZoneOffset.UTC) .atZoneSameInstant(ZoneId.of(&quot;Asia/Kolkata&quot;)) .format(DateTimeFormatter.ofLocalizedDateTime(FormatStyle.MEDIUM, FormatStyle.SHORT).withLocale(Locale.forLanguageTag(&quot;en-IN&quot;)))` gives `07-Jul-2022, 1:47 pm`. It’s pretty close, isn’t it?","body":"<code>Jul-07-2022 01:47 pm</code> looks a bit off standard to me. Unless you have very specific requirements, you should prefer giving your user Java’s built-in localized format. For example (in Java) <code>LocalDateTime.parse(&quot;2022-07-07T08:17:12.117000&quot;) .atOffset(ZoneOffset.UTC) .atZoneSameInstant(ZoneId.of(&quot;Asia&#47;Kolkata&quot;)) .format(DateTimeFormatter.ofLocalizedDateTime(FormatStyle.ME&zwnj;&#8203;DIUM, FormatStyle.SHORT).withLocale(Locale.forLanguageTag(&quot;en-IN&quot;)&zwnj;&#8203;))</code> gives <code>07-Jul-2022, 1:47 pm</code>. It’s pretty close, isn’t it?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1657650679,"post_id":72947719,"comment_id":128859717,"body_markdown":"The bonus is that when you leave out the call to `withLocale()`, the user’s locale will be used, and audiences with different cultural backgrounds will all be happy.","body":"The bonus is that when you leave out the call to <code>withLocale()</code>, the user’s locale will be used, and audiences with different cultural backgrounds will all be happy."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1657650979,"post_id":72947719,"comment_id":128859815,"body_markdown":"More about parsing your string (without getting any exception) in [this answer](https://stackoverflow.com/a/67935390/5772882) and [this one](https://stackoverflow.com/a/54023929/5772882).","body":"More about parsing your string (without getting any exception) in <a href=\"https://stackoverflow.com/a/67935390/5772882\">this answer</a> and <a href=\"https://stackoverflow.com/a/54023929/5772882\">this one</a>."}],"answers":[{"tags":[],"owner":{"account_id":19707612,"reputation":93,"user_id":14428899,"display_name":"Abhi"},"down_vote_count":2,"up_vote_count":1,"is_accepted":true,"score":-1,"last_activity_date":1657606049,"creation_date":1657606049,"answer_id":72947720,"question_id":72947719,"body_markdown":"In JAVA \r\n```\r\npublic String TimeConverter(String date) throws ParseException {\r\n        String dateStr = date;\r\n        try {\r\n            @SuppressLint(&quot;SimpleDateFormat&quot;) SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;);\r\n            formatter.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n            Date value = formatter.parse(dateStr);\r\n            @SuppressLint(&quot;SimpleDateFormat&quot;) SimpleDateFormat dateformatter = new SimpleDateFormat(&quot;MMM-dd-yyyy hh:mm a&quot;);\r\n            dateformatter.setTimeZone(TimeZone.getDefault());\r\n            dateStr = dateformatter.format(value);\r\n        } catch (Exception e) {\r\n            dateStr = &quot;00-00-0000 00:00&quot;;\r\n        }\r\n        return dateStr;\r\n    }\r\n\r\n```\r\n\r\nIn Kotlin\r\n```\r\nfun main() {\r\n    var newdate = &quot;2022-07-07T08:17:12.117000&quot;;\r\n    try {\r\n\r\n        val formatter = SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;)\r\n\r\n        formatter.timeZone = TimeZone.getTimeZone(&quot;UTC&quot;)\r\n        val value = formatter.parse(newdate.toString())\r\n        val dateFormatter = SimpleDateFormat(&quot;MMM-dd-yyyy hh:mm a&quot;) //this format changeable\r\n        dateFormatter.timeZone = TimeZone.getDefault()\r\n        newdate = dateFormatter.format(value)\r\n        //Log.d(&quot;ourDate&quot;, ourDate);\r\n    } catch (e: Exception) {\r\n        newdate = &quot;00-00-0000 00:00&quot;\r\n    }\r\n    println(newdate)\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n*May this help!\r\nI have been keep digging for this that&#39;s why i want to share so that it can help someone like me.*\r\n**Just remember to change the simple date format pattern according to your date pattern.**","title":"Convert UTC date string like &quot;2022-07-07T08:17:12.117000&quot; to your local Timezone in Kotlin and Java. Alternative to Moment library available in react","body":"<p>In JAVA</p>\n<pre><code>public String TimeConverter(String date) throws ParseException {\n        String dateStr = date;\n        try {\n            @SuppressLint(&quot;SimpleDateFormat&quot;) SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss&quot;);\n            formatter.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\n            Date value = formatter.parse(dateStr);\n            @SuppressLint(&quot;SimpleDateFormat&quot;) SimpleDateFormat dateformatter = new SimpleDateFormat(&quot;MMM-dd-yyyy hh:mm a&quot;);\n            dateformatter.setTimeZone(TimeZone.getDefault());\n            dateStr = dateformatter.format(value);\n        } catch (Exception e) {\n            dateStr = &quot;00-00-0000 00:00&quot;;\n        }\n        return dateStr;\n    }\n\n</code></pre>\n<p>In Kotlin</p>\n<pre><code>fun main() {\n    var newdate = &quot;2022-07-07T08:17:12.117000&quot;;\n    try {\n\n        val formatter = SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss&quot;)\n\n        formatter.timeZone = TimeZone.getTimeZone(&quot;UTC&quot;)\n        val value = formatter.parse(newdate.toString())\n        val dateFormatter = SimpleDateFormat(&quot;MMM-dd-yyyy hh:mm a&quot;) //this format changeable\n        dateFormatter.timeZone = TimeZone.getDefault()\n        newdate = dateFormatter.format(value)\n        //Log.d(&quot;ourDate&quot;, ourDate);\n    } catch (e: Exception) {\n        newdate = &quot;00-00-0000 00:00&quot;\n    }\n    println(newdate)\n}\n\n\n</code></pre>\n<p><em>May this help!\nI have been keep digging for this that's why i want to share so that it can help someone like me.</em>\n<strong>Just remember to change the simple date format pattern according to your date pattern.</strong></p>\n"},{"tags":[],"owner":{"account_id":23040778,"reputation":780,"user_id":17158981,"display_name":"Ionut"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657650744,"creation_date":1657610064,"answer_id":72948384,"question_id":72947719,"body_markdown":"In Kotlin, using the new `Time` library this is how i would do it.\r\n\r\nAlso don&#39;t forget to change the pattern strings to match your specific case. In your case the string pattern should be `val dateTimePattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSSSS&quot;`, but please check other approaches if it does not match.\r\n \r\n\r\n    fun formatDateTime(dateString: String): String {\r\n        //change this to match your specific string\r\n        val dateTimePattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot;\r\n    \r\n        val formatter = DateTimeFormatter.ofPattern(dateTimePattern).withZone(\r\n            ZoneOffset.UTC\r\n        )\r\n        val timeFormatter = DateTimeFormatter.ofPattern(&quot;hh:mm a&quot;)\r\n        val dateFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;)\r\n        // \\u00A0 is used to prevent the view from breaking line between &quot;10:10&quot; and &quot;PM&quot;\r\n        val dateTime =\r\n            ZonedDateTime.parse(dateString, formatter).withZoneSameInstant(ZoneId.systemDefault())\r\n        val eventDateString = dateTime.format(dateFormatter)\r\n    \r\n        val formattedTime = dateTime.format(timeFormatter)\r\n            .replace(&quot; &quot;, &quot;\\u00A0&quot;)\r\n    \r\n        return &quot;$eventDateString $formattedTime&quot;\r\n    }\r\n\r\nThis [question][1] is a more complete discussion around this topic for anyone interested.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8405087/what-is-this-date-format-2011-08-12t201746-384z","title":"Convert UTC date string like &quot;2022-07-07T08:17:12.117000&quot; to your local Timezone in Kotlin and Java. Alternative to Moment library available in react","body":"<p>In Kotlin, using the new <code>Time</code> library this is how i would do it.</p>\n<p>Also don't forget to change the pattern strings to match your specific case. In your case the string pattern should be <code>val dateTimePattern = &quot;yyyy-MM-dd'T'HH:mm:ss.SSSSSS&quot;</code>, but please check other approaches if it does not match.</p>\n<pre><code>fun formatDateTime(dateString: String): String {\n    //change this to match your specific string\n    val dateTimePattern = &quot;yyyy-MM-dd'T'HH:mm:ss.SSSZ&quot;\n\n    val formatter = DateTimeFormatter.ofPattern(dateTimePattern).withZone(\n        ZoneOffset.UTC\n    )\n    val timeFormatter = DateTimeFormatter.ofPattern(&quot;hh:mm a&quot;)\n    val dateFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;)\n    // \\u00A0 is used to prevent the view from breaking line between &quot;10:10&quot; and &quot;PM&quot;\n    val dateTime =\n        ZonedDateTime.parse(dateString, formatter).withZoneSameInstant(ZoneId.systemDefault())\n    val eventDateString = dateTime.format(dateFormatter)\n\n    val formattedTime = dateTime.format(timeFormatter)\n        .replace(&quot; &quot;, &quot;\\u00A0&quot;)\n\n    return &quot;$eventDateString $formattedTime&quot;\n}\n</code></pre>\n<p>This <a href=\"https://stackoverflow.com/questions/8405087/what-is-this-date-format-2011-08-12t201746-384z\">question</a> is a more complete discussion around this topic for anyone interested.</p>\n"}],"owner":{"account_id":19707612,"reputation":93,"user_id":14428899,"display_name":"Abhi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2974,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":72947720,"answer_count":2,"score":0,"last_activity_date":1657650744,"creation_date":1657606049,"question_id":72947719,"body_markdown":"I have used the moment library to convert the date string in my local timezone in react but i have to implement the same in android but the problem is moment library is not available for java/kotlin.\r\nI have tried every possible solution on stactoverflow but the exception occur while parsing the date string.\r\nFormat of the string is:\r\n`2022-07-07T08:17:12.117000\r\n`\r\nand want the output:\r\n\r\n`\r\nJul-07-2022 01:47 pm\r\n`\r\n\r\n","title":"Convert UTC date string like &quot;2022-07-07T08:17:12.117000&quot; to your local Timezone in Kotlin and Java. Alternative to Moment library available in react","body":"<p>I have used the moment library to convert the date string in my local timezone in react but i have to implement the same in android but the problem is moment library is not available for java/kotlin.\nI have tried every possible solution on stactoverflow but the exception occur while parsing the date string.\nFormat of the string is:\n<code>2022-07-07T08:17:12.117000 </code>\nand want the output:</p>\n<p><code>Jul-07-2022 01:47 pm</code></p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":8801,"page":1191,"page_size":100}
