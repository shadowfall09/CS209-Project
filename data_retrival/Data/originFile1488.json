{"items":[{"tags":["java","gradle","build.gradle"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1638042338,"post_id":70137891,"comment_id":123984061,"body_markdown":"It&#39;s possible one of the plugins is using the `JavaExec.main` property (my guess would be the JavaFX plugin).","body":"It&#39;s possible one of the plugins is using the <code>JavaExec.main</code> property (my guess would be the JavaFX plugin)."},{"owner":{"account_id":16729724,"reputation":546,"user_id":12092416,"display_name":"Sergei"},"score":0,"creation_date":1638045202,"post_id":70137891,"comment_id":123984645,"body_markdown":"If you can, run your build with `--scan` parameter. It will publish information about deprecations to the gradle scan server and you should be able to see more details helping you analyze it. See [this page](https://docs.gradle.org/current/userguide/upgrading_version_5.html) as an example how to do it","body":"If you can, run your build with <code>--scan</code> parameter. It will publish information about deprecations to the gradle scan server and you should be able to see more details helping you analyze it. See <a href=\"https://docs.gradle.org/current/userguide/upgrading_version_5.html\" rel=\"nofollow noreferrer\">this page</a> as an example how to do it"}],"answers":[{"tags":[],"owner":{"account_id":2021629,"reputation":57953,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648158892,"creation_date":1648158892,"answer_id":71609891,"question_id":70137891,"body_markdown":"As correctly guessed in the comments, the deprecation warning comes from the javafx issue. There is an [open issue](https://github.com/openjfx/javafx-gradle-plugin/issues/114) about this:\r\n\r\n&gt;In the current stable version, I get warning when I run this.\r\n&gt;\r\n&gt;     .\\gradlew run --stacktrace --warning-mode all\r\n&gt;\r\n&gt;The JavaExec.main property has been deprecated. This is scheduled to be removed in Gradle 8.0. Please use the mainClass property instead. See https://docs.gradle.org/7.2/dsl/org.gradle.api.tasks.JavaExec.html#org.gradle.api.tasks.JavaExec:main for more details.\r\nIt seems the problem of gradle-modules-plugin. Also, in the current version of this plugin, the problem already fixed.\r\n&gt;\r\n&gt;May I fix it and send PR?","title":"Why do I get the warning &quot;This build used outdated Gradle functions, which makes it incompatible with Gradle 8.0&quot;.?","body":"<p>As correctly guessed in the comments, the deprecation warning comes from the javafx issue. There is an <a href=\"https://github.com/openjfx/javafx-gradle-plugin/issues/114\" rel=\"nofollow noreferrer\">open issue</a> about this:</p>\n<blockquote>\n<p>In the current stable version, I get warning when I run this.</p>\n<pre><code>.\\gradlew run --stacktrace --warning-mode all\n</code></pre>\n<p>The JavaExec.main property has been deprecated. This is scheduled to be removed in Gradle 8.0. Please use the mainClass property instead. See <a href=\"https://docs.gradle.org/7.2/dsl/org.gradle.api.tasks.JavaExec.html#org.gradle.api.tasks.JavaExec:main\" rel=\"nofollow noreferrer\">https://docs.gradle.org/7.2/dsl/org.gradle.api.tasks.JavaExec.html#org.gradle.api.tasks.JavaExec:main</a> for more details.\nIt seems the problem of gradle-modules-plugin. Also, in the current version of this plugin, the problem already fixed.</p>\n<p>May I fix it and send PR?</p>\n</blockquote>\n"}],"owner":{"account_id":20614626,"reputation":381,"user_id":15151531,"display_name":"Santa Monica"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4882,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":71609891,"answer_count":1,"score":7,"last_activity_date":1648158892,"creation_date":1638039877,"question_id":70137891,"body_markdown":"When running with the **--warning-mode** all key, I get the following.\r\n\r\n    The JavaExec.main property has been deprecated. This is scheduled to be removed in Gradle 8.0. Please use the mainClass property instead. See https://docs.gradle.org/7.3/dsl/org.gradle.api.tasks.JavaExec.html#org.gradle.api.tasks.JavaExec:main for more details.\r\n\r\nBut I don&#39;t use this parameter, I use **mainClass**.\r\n\r\n**build.gradle**\r\n\r\n    plugins {\r\n        id &#39;application&#39;\r\n        id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.10&#39;\r\n        id &#39;org.beryx.jlink&#39; version &#39;2.24.4&#39;\r\n    }\r\n\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n\r\n    application {\r\n        mainModule = &#39;pigletmodule&#39;\r\n        mainClass = &#39;piglet.Main&#39;\r\n    }\r\n\r\n    javafx {\r\n        version = &quot;17.0.1&quot;\r\n        modules = [&#39;javafx.controls&#39;]\r\n    }\r\n\r\n    jlink {\r\n        options = [&#39;--strip-debug&#39;, &#39;--compress&#39;, &#39;2&#39;, &#39;--no-header-files&#39;, &#39;--no-man-pages&#39;]\r\n        launcher {\r\n            name = &#39;piglet&#39;\r\n        }\r\n    }\r\n","title":"Why do I get the warning &quot;This build used outdated Gradle functions, which makes it incompatible with Gradle 8.0&quot;.?","body":"<p>When running with the <strong>--warning-mode</strong> all key, I get the following.</p>\n<pre><code>The JavaExec.main property has been deprecated. This is scheduled to be removed in Gradle 8.0. Please use the mainClass property instead. See https://docs.gradle.org/7.3/dsl/org.gradle.api.tasks.JavaExec.html#org.gradle.api.tasks.JavaExec:main for more details.\n</code></pre>\n<p>But I don't use this parameter, I use <strong>mainClass</strong>.</p>\n<p><strong>build.gradle</strong></p>\n<pre><code>plugins {\n    id 'application'\n    id 'org.openjfx.javafxplugin' version '0.0.10'\n    id 'org.beryx.jlink' version '2.24.4'\n}\n\nrepositories {\n    mavenCentral()\n}\n\napplication {\n    mainModule = 'pigletmodule'\n    mainClass = 'piglet.Main'\n}\n\njavafx {\n    version = &quot;17.0.1&quot;\n    modules = ['javafx.controls']\n}\n\njlink {\n    options = ['--strip-debug', '--compress', '2', '--no-header-files', '--no-man-pages']\n    launcher {\n        name = 'piglet'\n    }\n}\n</code></pre>\n"},{"tags":["java","docker"],"comments":[{"owner":{"account_id":2926221,"reputation":727,"user_id":2507462,"display_name":"Daniel Sobrado"},"score":0,"creation_date":1661323558,"post_id":71591206,"comment_id":129741211,"body_markdown":"You can check: https://github.com/carlossg/docker-maven/blob/master/eclipse-temurin-17/Dockerfile","body":"You can check: <a href=\"https://github.com/carlossg/docker-maven/blob/master/eclipse-temurin-17/Dockerfile\" rel=\"nofollow noreferrer\">github.com/carlossg/docker-maven/blob/master/eclipse-temurin&zwnj;&#8203;-17/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1648158842,"creation_date":1648057784,"answer_id":71591834,"question_id":71591206,"body_markdown":"```\r\nFROM maven:3.8.4-eclipse-temurin-11 as build\r\n```","title":"How to build a docker container in eclipse-temurin with maven?","body":"<pre><code>FROM maven:3.8.4-eclipse-temurin-11 as build\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2041,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71591834,"answer_count":1,"score":0,"last_activity_date":1648158842,"creation_date":1648055064,"question_id":71591206,"body_markdown":"I&#39;m starting to build a java application container with docker. I&#39;d like to build the `jar` directly inside the docker container itself. But the following always fails. Why?\r\n\r\n    # syntax=docker/dockerfile:1\r\n    FROM eclipse-temurin:11 as build\r\n    WORKDIR application\r\n    \r\n    COPY .mvn .mvn","title":"How to build a docker container in eclipse-temurin with maven?","body":"<p>I'm starting to build a java application container with docker. I'd like to build the <code>jar</code> directly inside the docker container itself. But the following always fails. Why?</p>\n<pre><code># syntax=docker/dockerfile:1\nFROM eclipse-temurin:11 as build\nWORKDIR application\n\nCOPY .mvn .mvn\n</code></pre>\n"},{"tags":["java","spring","spring-boot","kubernetes"],"comments":[{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1619959853,"post_id":67354330,"comment_id":119055422,"body_markdown":"I have removed the `micronaut` tag as the question doesn&#39;t appear to involve  Micronaut.","body":"I have removed the <code>micronaut</code> tag as the question doesn&#39;t appear to involve  Micronaut."},{"owner":{"account_id":1979094,"reputation":3912,"user_id":1776132,"display_name":"Smile"},"score":0,"creation_date":1648103569,"post_id":67354330,"comment_id":126540499,"body_markdown":"&#39;What I need is to deploy separate parts of application (like 1 queue listener only) per pod in the cloud yet keep the monolith code architecture.&#39; IMO difficult to achieve this with java/spring-boot. Best to break the application logically.","body":"&#39;What I need is to deploy separate parts of application (like 1 queue listener only) per pod in the cloud yet keep the monolith code architecture.&#39; IMO difficult to achieve this with java/spring-boot. Best to break the application logically."},{"owner":{"account_id":19573912,"reputation":793,"user_id":14324416,"display_name":"jacky-neo"},"score":0,"creation_date":1648109128,"post_id":67354330,"comment_id":126541993,"body_markdown":"I agree @Smile opinion.","body":"I agree @Smile opinion."}],"answers":[{"tags":[],"owner":{"account_id":19527325,"reputation":23,"user_id":14287895,"display_name":"Stephan"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1619944697,"creation_date":1619944697,"answer_id":67354412,"question_id":67354330,"body_markdown":"I do not get the essence of your post. \r\nYou want to have an application with &quot;monolithic code architecture&quot;. \r\nAnd then deploy it to several pods, but only parts of the application are actually running.\r\nWhy don&#39;t you separate the parts you want to be special to be applications in their own right? \r\n\r\nPerhaps this is because I come from a Java background and haven&#39;t deployed monolithic scripting apps. ","title":"Spring Boot - Running one specific background job per pod","body":"<p>I do not get the essence of your post.\nYou want to have an application with &quot;monolithic code architecture&quot;.\nAnd then deploy it to several pods, but only parts of the application are actually running.\nWhy don't you separate the parts you want to be special to be applications in their own right?</p>\n<p>Perhaps this is because I come from a Java background and haven't deployed monolithic scripting apps.</p>\n"},{"tags":[],"owner":{"account_id":19573912,"reputation":793,"user_id":14324416,"display_name":"jacky-neo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648131922,"creation_date":1648104833,"answer_id":71598155,"question_id":67354330,"body_markdown":"According to my expierence, I will resolve these issue as below. Hope it is what you want.  \r\n\r\n&gt; I can run the webserver separately without queue listeners and\r\n   scheduled jobs\r\n\r\nDevelop a [Spring Boot](https://spring.io/projects/spring-boot) app to do it and deploy it as `service-A` in Kubernetes. In this app, you use `spring-mvc` to define the controller or REST controller to receive requests. Then use the Kubernetes `Nodeport` or define `ingress-gateway` to make the service accessible from outside the Kubernetes cluster. If you use session, you should save it into Redis or a similar shared place so that more instances of the service (pod) can share same session value.\r\n\r\n&gt; I can run one queue listener per pod in the k8s \r\n\r\nDevelop a new Spring Boot app to do it and deploy it as `service-B` in Kubernetes. This service only processes queue messages from [RabbitMQ](https://www.rabbitmq.com/) or others, which can be sent from `service-A` or another source. In most times it should not be accessed from outside the Kubernetes cluster.\r\n\r\n&gt; I can use k8s cron scheduling instead of App level Spring scheduler?\r\n\r\nIn my opinion, I like to define a new Spring Boot app with `spring-scheduler` called `service-C` in Kubernetes. It will have only one instance and will not be scaled. Then, it will invoke `service-A` method at the scheduled time. It will not be accessible from outside the Kubernetes cluster. But if you like Kubernetes `CronJob`, you can just write a bash shell using `service-A`&#39;s dns name in Kubernetes to access its REST endpoint.\r\n\r\nThe above three services can each be configured with different resources such as CPU and memory usage.","title":"Spring Boot - Running one specific background job per pod","body":"<p>According to my expierence, I will resolve these issue as below. Hope it is what you want.</p>\n<blockquote>\n<p>I can run the webserver separately without queue listeners and\nscheduled jobs</p>\n</blockquote>\n<p>Develop a <a href=\"https://spring.io/projects/spring-boot\" rel=\"nofollow noreferrer\">Spring Boot</a> app to do it and deploy it as <code>service-A</code> in Kubernetes. In this app, you use <code>spring-mvc</code> to define the controller or REST controller to receive requests. Then use the Kubernetes <code>Nodeport</code> or define <code>ingress-gateway</code> to make the service accessible from outside the Kubernetes cluster. If you use session, you should save it into Redis or a similar shared place so that more instances of the service (pod) can share same session value.</p>\n<blockquote>\n<p>I can run one queue listener per pod in the k8s</p>\n</blockquote>\n<p>Develop a new Spring Boot app to do it and deploy it as <code>service-B</code> in Kubernetes. This service only processes queue messages from <a href=\"https://www.rabbitmq.com/\" rel=\"nofollow noreferrer\">RabbitMQ</a> or others, which can be sent from <code>service-A</code> or another source. In most times it should not be accessed from outside the Kubernetes cluster.</p>\n<blockquote>\n<p>I can use k8s cron scheduling instead of App level Spring scheduler?</p>\n</blockquote>\n<p>In my opinion, I like to define a new Spring Boot app with <code>spring-scheduler</code> called <code>service-C</code> in Kubernetes. It will have only one instance and will not be scaled. Then, it will invoke <code>service-A</code> method at the scheduled time. It will not be accessible from outside the Kubernetes cluster. But if you like Kubernetes <code>CronJob</code>, you can just write a bash shell using <code>service-A</code>'s dns name in Kubernetes to access its REST endpoint.</p>\n<p>The above three services can each be configured with different resources such as CPU and memory usage.</p>\n"},{"tags":[],"owner":{"account_id":2848514,"reputation":10932,"user_id":2446208,"accept_rate":69,"display_name":"blacktide"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648158692,"creation_date":1648134599,"answer_id":71604956,"question_id":67354330,"body_markdown":"&gt; What I need is to deploy separate parts of application (like 1 queue listener only) per pod in the cloud yet keep the monolith code architecture.\r\n\r\nI agree with [@jacky-neo&#39;s answer](https://stackoverflow.com/a/71598155/2446208) in terms of the appropriate architecture/best practice, but that may require you to break up your monolithic application.\r\n\r\nTo solve this without breaking up your monolithic application, deploy multiple instances of your monolith to Kubernetes each as a separate `Deployment`. Each deployment can have its own configuration. Then you can [utilize feature flags](https://www.baeldung.com/spring-feature-flags) and define the environment variables for each deployment based on the functionality you would like to enable.\r\n\r\nIn `application.properties`:\r\n\r\n```properties\r\nmyapp.queue.listener.enabled=${QUEUE_LISTENER_ENABLED:false}\r\n```\r\n\r\nIn your `Deployment` for the queue listener, enable the feature flag:\r\n\r\n```yaml\r\nenv:\r\n  - name: &#39;QUEUE_LISTENER_ENABLED&#39;\r\n    value: &#39;true&#39;\r\n```\r\n\r\nYou would then just need to configure your monolithic application to use this `myapp.queue.listener.enabled` property and only enable the queue listener when the property is set to `true`.\r\n\r\nSimilarly, you could also apply this logic to the Spring profile to only run certain features in your app based on the profile defined in your `ConfigMap`.\r\n\r\n[This Baeldung article](https://www.baeldung.com/spring-feature-flags) explains the process I&#39;m presenting here in detail.\r\n\r\nFor the scheduled task, just [set up a `CronJob` using a `curl` container](https://florianbuchner.com/kubernetes-curl-cronjob-for-internal-service/) which can invoke the service you want to perform the work.\r\n\r\n## Edit\r\n\r\nAnother option based on your comments below -- split the shared logic out into a `shared` module (using Gradle or Maven), and have two other runnable modules like `web` and `listener` that depend on the `shared` module. This will allow you to keep your shared logic in the same repository, and keep you from having to build/maintain an extra library which you would like to avoid.\r\n\r\nThis would be a good step in the right direction, and it would lend well to breaking the app into smaller pieces later down the road.\r\n\r\n[Here&#39;s some additional info](https://spring.io/guides/gs/multi-module/) about multi-module Spring Boot projects using Maven or Gradle.","title":"Spring Boot - Running one specific background job per pod","body":"<blockquote>\n<p>What I need is to deploy separate parts of application (like 1 queue listener only) per pod in the cloud yet keep the monolith code architecture.</p>\n</blockquote>\n<p>I agree with <a href=\"https://stackoverflow.com/a/71598155/2446208\">@jacky-neo's answer</a> in terms of the appropriate architecture/best practice, but that may require you to break up your monolithic application.</p>\n<p>To solve this without breaking up your monolithic application, deploy multiple instances of your monolith to Kubernetes each as a separate <code>Deployment</code>. Each deployment can have its own configuration. Then you can <a href=\"https://www.baeldung.com/spring-feature-flags\" rel=\"nofollow noreferrer\">utilize feature flags</a> and define the environment variables for each deployment based on the functionality you would like to enable.</p>\n<p>In <code>application.properties</code>:</p>\n<pre><code>myapp.queue.listener.enabled=${QUEUE_LISTENER_ENABLED:false}\n</code></pre>\n<p>In your <code>Deployment</code> for the queue listener, enable the feature flag:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>env:\n  - name: 'QUEUE_LISTENER_ENABLED'\n    value: 'true'\n</code></pre>\n<p>You would then just need to configure your monolithic application to use this <code>myapp.queue.listener.enabled</code> property and only enable the queue listener when the property is set to <code>true</code>.</p>\n<p>Similarly, you could also apply this logic to the Spring profile to only run certain features in your app based on the profile defined in your <code>ConfigMap</code>.</p>\n<p><a href=\"https://www.baeldung.com/spring-feature-flags\" rel=\"nofollow noreferrer\">This Baeldung article</a> explains the process I'm presenting here in detail.</p>\n<p>For the scheduled task, just <a href=\"https://florianbuchner.com/kubernetes-curl-cronjob-for-internal-service/\" rel=\"nofollow noreferrer\">set up a <code>CronJob</code> using a <code>curl</code> container</a> which can invoke the service you want to perform the work.</p>\n<h2>Edit</h2>\n<p>Another option based on your comments below -- split the shared logic out into a <code>shared</code> module (using Gradle or Maven), and have two other runnable modules like <code>web</code> and <code>listener</code> that depend on the <code>shared</code> module. This will allow you to keep your shared logic in the same repository, and keep you from having to build/maintain an extra library which you would like to avoid.</p>\n<p>This would be a good step in the right direction, and it would lend well to breaking the app into smaller pieces later down the road.</p>\n<p><a href=\"https://spring.io/guides/gs/multi-module/\" rel=\"nofollow noreferrer\">Here's some additional info</a> about multi-module Spring Boot projects using Maven or Gradle.</p>\n"}],"owner":{"account_id":3431387,"reputation":67,"user_id":2875696,"display_name":"olsavmic"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2105,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1648158692,"creation_date":1619943967,"question_id":67354330,"body_markdown":"I&#39;m coming from the PHP/Python/JS environment where it&#39;s a standard to run multiple instances of web application as separate processes and asynchronous tasks like queue processing as separate scripts.\r\n\r\n**eg. in the k8s environment, there would be** \r\n- N instances of **web server only**, each running in separate pod\r\n- For each queue, **dynamic number of consumers, each in separate pod**\r\n- **Cron scheduling using k8s crontab** functionality, leaving the scheduling process to k8s\r\n\r\nSuch approach matches well the cloud nature where the workload can be scheduled across both smaller number of powerful machines and **lot of less powerful machines** and allows very fine control of auto scaling (based on the number of messages in specific queue for example).\r\n\r\nAlso, there is a clear separation between the developer and DevOps responsibility. \r\n\r\n\r\n\r\nRecently, I tried to replicate the same setup with **Java Spring Boot** application and failed miserably.\r\n\r\nEven though Java frameworks say that they are &quot;cloud native&quot;, it seems like all the documentation is still built around monolith application, which handles all consumers and cron scheduling in separate threads.\r\n\r\nClear answer to this problem is microservices but that&#39;s way out of scope.\r\n\r\n\r\n**What I need is to deploy separate parts of application (like 1 queue listener only) per pod in the cloud yet keep the monolith code architecture.**\r\n\r\n\r\nSo, the question is:\r\n\r\nHow do I design my Spring Boot application so that:\r\n - I can run the webserver separately without queue listeners and scheduled jobs\r\n - I can run one queue listener per pod in the k8s\r\n - I can use k8s cron scheduling instead of App level Spring scheduler?\r\n\r\nI found several ways to achieve something like this but I expect there must be some &quot;more or less standard way&quot;.\r\n\r\n\r\n------------------------------------------\r\nAlternative solutions that came to my mind:\r\n - Having separate module with separate Application definition so that each &quot;command&quot; is built separately\r\n - Using Spring Profiles to instantiate specific services only according to some environment variables\r\n - Implement custom command line runner which would parse command name/queue name and dynamically create appropriate services (this seems to be the most similar approach to the way how it&#39;s done in &quot;scripting languages&quot;)\r\n\r\nWhat I mainly want to achieve with such setup is:\r\n - To be able to run the application on lot of weak HW instead of having 1 machine with 32 cpu cores \r\n - Easier scaling per workload\r\n - Removing one layer from already complex monitoring infrastructure (k8s already allows very fine resource monitoring, application level task scheduling and parallelism makes this way more difficult)\r\n\r\n\r\n\r\nDo I miss something or is it just that it&#39;s not standard to write Java server apps this way?\r\nThank you! ","title":"Spring Boot - Running one specific background job per pod","body":"<p>I'm coming from the PHP/Python/JS environment where it's a standard to run multiple instances of web application as separate processes and asynchronous tasks like queue processing as separate scripts.</p>\n<p><strong>eg. in the k8s environment, there would be</strong></p>\n<ul>\n<li>N instances of <strong>web server only</strong>, each running in separate pod</li>\n<li>For each queue, <strong>dynamic number of consumers, each in separate pod</strong></li>\n<li><strong>Cron scheduling using k8s crontab</strong> functionality, leaving the scheduling process to k8s</li>\n</ul>\n<p>Such approach matches well the cloud nature where the workload can be scheduled across both smaller number of powerful machines and <strong>lot of less powerful machines</strong> and allows very fine control of auto scaling (based on the number of messages in specific queue for example).</p>\n<p>Also, there is a clear separation between the developer and DevOps responsibility.</p>\n<p>Recently, I tried to replicate the same setup with <strong>Java Spring Boot</strong> application and failed miserably.</p>\n<p>Even though Java frameworks say that they are &quot;cloud native&quot;, it seems like all the documentation is still built around monolith application, which handles all consumers and cron scheduling in separate threads.</p>\n<p>Clear answer to this problem is microservices but that's way out of scope.</p>\n<p><strong>What I need is to deploy separate parts of application (like 1 queue listener only) per pod in the cloud yet keep the monolith code architecture.</strong></p>\n<p>So, the question is:</p>\n<p>How do I design my Spring Boot application so that:</p>\n<ul>\n<li>I can run the webserver separately without queue listeners and scheduled jobs</li>\n<li>I can run one queue listener per pod in the k8s</li>\n<li>I can use k8s cron scheduling instead of App level Spring scheduler?</li>\n</ul>\n<p>I found several ways to achieve something like this but I expect there must be some &quot;more or less standard way&quot;.</p>\n<hr />\n<p>Alternative solutions that came to my mind:</p>\n<ul>\n<li>Having separate module with separate Application definition so that each &quot;command&quot; is built separately</li>\n<li>Using Spring Profiles to instantiate specific services only according to some environment variables</li>\n<li>Implement custom command line runner which would parse command name/queue name and dynamically create appropriate services (this seems to be the most similar approach to the way how it's done in &quot;scripting languages&quot;)</li>\n</ul>\n<p>What I mainly want to achieve with such setup is:</p>\n<ul>\n<li>To be able to run the application on lot of weak HW instead of having 1 machine with 32 cpu cores</li>\n<li>Easier scaling per workload</li>\n<li>Removing one layer from already complex monitoring infrastructure (k8s already allows very fine resource monitoring, application level task scheduling and parallelism makes this way more difficult)</li>\n</ul>\n<p>Do I miss something or is it just that it's not standard to write Java server apps this way?\nThank you!</p>\n"},{"tags":["java","stack"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1648158014,"post_id":71609583,"comment_id":126560760,"body_markdown":"The example could use more code, please provide a [mre]. Questions that are of interest before we can help you: What do you exactly mean by &quot;pop in the stack&quot;? Usually you can access a stack only from top to bottom (where top is the side you add new elements to and remove existing elements from). Should &quot;pop&quot;ing also modify the stack? In which way? What does the method `temp.getElement()` exactly do? Does it also modify the stack?","body":"The example could use more code, please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Questions that are of interest before we can help you: What do you exactly mean by &quot;pop in the stack&quot;? Usually you can access a stack only from top to bottom (where top is the side you add new elements to and remove existing elements from). Should &quot;pop&quot;ing also modify the stack? In which way? What does the method <code>temp.getElement()</code> exactly do? Does it also modify the stack?"},{"owner":{"account_id":24529372,"reputation":320,"user_id":18441431,"display_name":"Rob"},"score":0,"creation_date":1648158251,"post_id":71609583,"comment_id":126560828,"body_markdown":"It&#39;s not a stak if you can pop a specific element, in a stack you can only pop the last added element (LIFO)","body":"It&#39;s not a stak if you can pop a specific element, in a stack you can only pop the last added element (LIFO)"},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1648218125,"post_id":71609583,"comment_id":126575744,"body_markdown":"Your `pop(int)` method does not seem to remove the selected node (unlike a regular `pop()`). If that is intended, it might make sense to rename the method to `get(int)` or similar to avoid confusion. Would also be good to verify that all your methods update the references between the nodes correctly; if your stack is really doubly linked, then your `push(T)` and `pop()` methods might not correctly update all references between nodes. Your implementation looks more like a singly linked list.","body":"Your <code>pop(int)</code> method does not seem to remove the selected node (unlike a regular <code>pop()</code>). If that is intended, it might make sense to rename the method to <code>get(int)</code> or similar to avoid confusion. Would also be good to verify that all your methods update the references between the nodes correctly; if your stack is really doubly linked, then your <code>push(T)</code> and <code>pop()</code> methods might not correctly update all references between nodes. Your implementation looks more like a singly linked list."}],"owner":{"account_id":23361532,"reputation":1,"user_id":17433675,"display_name":"vladkov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":761,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648158621,"creation_date":1648156928,"question_id":71609583,"body_markdown":"So, i have this method pop(int k) where the whole point of the method is to pop the k value of the stack. So for example if k = 2 you pop the second element in the stack, this is a double linked stack so it should be possible to just iterate through it and pop() the element needed to be popped. However, for some reason when i run it the method has logical errors that i cant figure out.\r\n\r\n    public class DLStack&lt;T&gt; implements DLStackADT&lt;T&gt; {\r\n        private DoubleLinkedNode&lt;T&gt; top;\r\n        private int numItems;\r\n    \r\n        public DLStack(){\r\n            top = null;\r\n            numItems = 0;\r\n        }\r\n    \r\n        public void push(T dataItem){\r\n            DoubleLinkedNode&lt;T&gt; temp = new DoubleLinkedNode&lt;T&gt;(dataItem);\r\n            temp.setNext(top);\r\n            top = temp;\r\n            numItems++;\r\n        }\r\n    \r\n        public T pop() throws EmptyStackException{\r\n            if(isEmpty())throw new EmptyStackException(&quot;Stack&quot;);\r\n            T result = top.getElement();\r\n            top = top.getNext();\r\n            numItems--;\r\n            return result;\r\n        }\r\n    \r\n        public T pop(int k) throws InvalidItemException{\r\n            DoubleLinkedNode&lt;T&gt; temp = top;\r\n            if(k &gt; numItems || k &lt;= 0){\r\n                throw new InvalidItemException(&quot;Invalid item&quot;);\r\n            }\r\n    \r\n            for (int i = 1; temp != null &amp;&amp; i &lt; k; i++){\r\n                temp = temp.getNext();\r\n            }\r\n    \r\n            T result = temp.getElement();\r\n    \r\n            return result;\r\n    \r\n        }","title":"Pop method of the certain element in a stack, Java","body":"<p>So, i have this method pop(int k) where the whole point of the method is to pop the k value of the stack. So for example if k = 2 you pop the second element in the stack, this is a double linked stack so it should be possible to just iterate through it and pop() the element needed to be popped. However, for some reason when i run it the method has logical errors that i cant figure out.</p>\n<pre><code>public class DLStack&lt;T&gt; implements DLStackADT&lt;T&gt; {\n    private DoubleLinkedNode&lt;T&gt; top;\n    private int numItems;\n\n    public DLStack(){\n        top = null;\n        numItems = 0;\n    }\n\n    public void push(T dataItem){\n        DoubleLinkedNode&lt;T&gt; temp = new DoubleLinkedNode&lt;T&gt;(dataItem);\n        temp.setNext(top);\n        top = temp;\n        numItems++;\n    }\n\n    public T pop() throws EmptyStackException{\n        if(isEmpty())throw new EmptyStackException(&quot;Stack&quot;);\n        T result = top.getElement();\n        top = top.getNext();\n        numItems--;\n        return result;\n    }\n\n    public T pop(int k) throws InvalidItemException{\n        DoubleLinkedNode&lt;T&gt; temp = top;\n        if(k &gt; numItems || k &lt;= 0){\n            throw new InvalidItemException(&quot;Invalid item&quot;);\n        }\n\n        for (int i = 1; temp != null &amp;&amp; i &lt; k; i++){\n            temp = temp.getNext();\n        }\n\n        T result = temp.getElement();\n\n        return result;\n\n    }\n</code></pre>\n"},{"tags":["java","setter"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1648155761,"post_id":71609295,"comment_id":126560131,"body_markdown":"Can the same player join the same team twice? Can a player be in multiple teams? If not, what do you expect to happen if a player that was in team A joins another team? You gotta remove them from the player&#39;s list in team A too, don&#39;t you?","body":"Can the same player join the same team twice? Can a player be in multiple teams? If not, what do you expect to happen if a player that was in team A joins another team? You gotta remove them from the player&#39;s list in team A too, don&#39;t you?"}],"answers":[{"tags":[],"owner":{"account_id":17922454,"reputation":99,"user_id":13021900,"display_name":"Maickeen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648155860,"creation_date":1648155860,"answer_id":71609403,"question_id":71609295,"body_markdown":"Well, to make your code work, you should just remove `team.addPlayer(this)` from  the method `joinTeam()`. But now you are just setting  a value to your attribute, so it should be a `setTeam()`.\r\n\r\n    public class Team {\r\n    \r\n       private ArrayList&lt;Player&gt; playerList;\r\n       \r\n       public void addPlayer(Player player){\r\n          playerList.add(player);\r\n          player.joinTeam(this);\r\n       }\r\n    \r\n    }\r\n    \r\n    public class Player {\r\n       \r\n       private Team team;\r\n       \r\n       public void setTeam(Team team) {\r\n          this.team = team;\r\n       }\r\n    \r\n    }","title":"Setter methods set fields in each others class","body":"<p>Well, to make your code work, you should just remove <code>team.addPlayer(this)</code> from  the method <code>joinTeam()</code>. But now you are just setting  a value to your attribute, so it should be a <code>setTeam()</code>.</p>\n<pre><code>public class Team {\n\n   private ArrayList&lt;Player&gt; playerList;\n   \n   public void addPlayer(Player player){\n      playerList.add(player);\n      player.joinTeam(this);\n   }\n\n}\n\npublic class Player {\n   \n   private Team team;\n   \n   public void setTeam(Team team) {\n      this.team = team;\n   }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10418091,"reputation":932,"user_id":7681514,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648155882,"creation_date":1648155882,"answer_id":71609410,"question_id":71609295,"body_markdown":"In principle, you should only really have one function for a specific type of action. If you want to add a Player to a Team, something like\r\n\r\n```java\r\npublic class Team {\r\n\r\n   private ArrayList&lt;Player&gt; playerList;\r\n   \r\n   public void addPlayer(Player player) {\r\n      playerList.add(player);\r\n      player.setTeam(this);\r\n   }\r\n}\r\n\r\npublic class Player {\r\n   \r\n   private Team team;\r\n   \r\n   public void setTeam(Team team) {\r\n      this.team = team;\r\n   }\r\n}\r\n\r\n```\r\nwould be better suited for your task. You only call one method (`addPlayer`) and both actions you want to have happen, will happen.","title":"Setter methods set fields in each others class","body":"<p>In principle, you should only really have one function for a specific type of action. If you want to add a Player to a Team, something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Team {\n\n   private ArrayList&lt;Player&gt; playerList;\n   \n   public void addPlayer(Player player) {\n      playerList.add(player);\n      player.setTeam(this);\n   }\n}\n\npublic class Player {\n   \n   private Team team;\n   \n   public void setTeam(Team team) {\n      this.team = team;\n   }\n}\n\n</code></pre>\n<p>would be better suited for your task. You only call one method (<code>addPlayer</code>) and both actions you want to have happen, will happen.</p>\n"}],"owner":{"account_id":22988680,"reputation":65,"user_id":17114506,"display_name":"Sebastian Sole"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71609410,"answer_count":2,"score":1,"last_activity_date":1648157936,"creation_date":1648155201,"question_id":71609295,"body_markdown":"I have two classes, Player and Team. A player has a team field, and a team has a playerList field, containing the players on that team. When a player joins a team, the player&#39;s team field should be set to that team, and the team&#39;s playerList should add the player object joining. This is what I have so far, but is this not very recursive? How can I solve this problem? Example code is provided below.\r\n```\r\n\r\npublic class Team {\r\n\r\n   private ArrayList&lt;Player&gt; playerList;\r\n   \r\n   public void addPlayer(Player player){\r\n      playerList.add(player);\r\n      player.joinTeam(this);\r\n   }\r\n\r\n}\r\n\r\npublic class Player {\r\n   \r\n   private Team team;\r\n   \r\n   public void joinTeam(Team team) {\r\n      this.team = team;\r\n      team.addPlayer(this)\r\n   }\r\n\r\n}\r\n\r\n\r\n```","title":"Setter methods set fields in each others class","body":"<p>I have two classes, Player and Team. A player has a team field, and a team has a playerList field, containing the players on that team. When a player joins a team, the player's team field should be set to that team, and the team's playerList should add the player object joining. This is what I have so far, but is this not very recursive? How can I solve this problem? Example code is provided below.</p>\n<pre><code>\npublic class Team {\n\n   private ArrayList&lt;Player&gt; playerList;\n   \n   public void addPlayer(Player player){\n      playerList.add(player);\n      player.joinTeam(this);\n   }\n\n}\n\npublic class Player {\n   \n   private Team team;\n   \n   public void joinTeam(Team team) {\n      this.team = team;\n      team.addPlayer(this)\n   }\n\n}\n\n\n</code></pre>\n"},{"tags":["java","jwt","jjwt"],"comments":[{"owner":{"account_id":1528364,"reputation":125594,"user_id":1426227,"accept_rate":79,"display_name":"cassiomolin"},"score":2,"creation_date":1488243448,"post_id":42496388,"comment_id":72136085,"body_markdown":"Try `claims.put(&quot;services&quot;, jsonObject.toString ());` or use a `Map`.","body":"Try <code>claims.put(&quot;services&quot;, jsonObject.toString ());</code> or use a <code>Map</code>."},{"owner":{"account_id":8497217,"reputation":37834,"user_id":6371459,"accept_rate":25,"display_name":"pedrofb"},"score":0,"creation_date":1488272269,"post_id":42496388,"comment_id":72146231,"body_markdown":"What library are you using for `JSONObject`? Probably is a problem encoding the JSON object to string.","body":"What library are you using for <code>JSONObject</code>? Probably is a problem encoding the JSON object to string."},{"owner":{"account_id":2298492,"reputation":776,"user_id":2019364,"accept_rate":40,"display_name":"Niro"},"score":0,"creation_date":1488312637,"post_id":42496388,"comment_id":72172559,"body_markdown":"Trying `.toString()` did not help. I am using net.sf.json-lib as the library. Instead of fighting with it more, I decided it was easier to build the tokens manually, then still validate them through the library. Thanks for helping","body":"Trying <code>.toString()</code> did not help. I am using net.sf.json-lib as the library. Instead of fighting with it more, I decided it was easier to build the tokens manually, then still validate them through the library. Thanks for helping"}],"answers":[{"tags":[],"owner":{"account_id":1773009,"reputation":678,"user_id":1617419,"display_name":"Jan Pavtel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1488899375,"creation_date":1488899375,"answer_id":42651749,"question_id":42496388,"body_markdown":"Please instead of `JSONObject` try `Map&lt;String,String&gt;`","title":"Java jjwt creating invalid JSON for JWT","body":"<p>Please instead of <code>JSONObject</code> try <code>Map&lt;String,String&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":2298492,"reputation":776,"user_id":2019364,"accept_rate":40,"display_name":"Niro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1617817376,"creation_date":1617817376,"answer_id":66991395,"question_id":42496388,"body_markdown":"Ultimately, I could not get the JJWT library working how I wanted. As such, I implemented a simple hashing algorithm and jwt creator manually. Here is what that looks like:\r\n\r\n        Date now = new Date();\r\n        //Valid only for 30 minutes\r\n        Date expiration = new Date(now.getTime() + TimeUnit.MINUTES.toMillis(30));\r\n\r\n        JSONObject header = new JSONObject();\r\n        JSONObject payload = new JSONObject();\r\n\r\n        header.put(&quot;alg&quot;, &quot;HS256&quot;);\r\n\r\n        payload.put(&quot;sub&quot;, &quot;ourSubject&quot;);\r\n        payload.put(&quot;exp&quot;, expiration.getTime() / 1000);\r\n        payload.put(&quot;jti&quot;, UUID.randomUUID().toString());\r\n        payload.put(&quot;iat&quot;, now.getTime() / 1000);\r\n        payload.put(&quot;services&quot;, &quot;JSON object of our custom data needed in authorization (not authentication&quot;);\r\n        String signature = &quot;&quot;;\r\n\r\n        StringBuilder token = new StringBuilder();\r\n        token.append(new String(Base64.encodeBase64(header.toString().getBytes())));\r\n        token.append(&quot;.&quot;);\r\n        token.append(new String(Base64.encodeBase64(payload.toString().getBytes())));\r\n        try {\r\n            Mac sha256_HMAC = Mac.getInstance(&quot;HmacSHA256&quot;);\r\n            SecretKeySpec secret_key = new SecretKeySpec(Base64.encodeBase64((secret + otherPartOfSecret).getBytes()), &quot;HmacSHA256&quot;);\r\n            sha256_HMAC.init(secret_key);\r\n\r\n            signature = new String(Base64.encodeBase64(sha256_HMAC.doFinal(token.toString().getBytes())));\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Error&quot;);\r\n        }\r\n\r\n        token.append(&quot;.&quot;);\r\n        token.append(signature);\r\n\r\n        return token.toString();","title":"Java jjwt creating invalid JSON for JWT","body":"<p>Ultimately, I could not get the JJWT library working how I wanted. As such, I implemented a simple hashing algorithm and jwt creator manually. Here is what that looks like:</p>\n<pre><code>    Date now = new Date();\n    //Valid only for 30 minutes\n    Date expiration = new Date(now.getTime() + TimeUnit.MINUTES.toMillis(30));\n\n    JSONObject header = new JSONObject();\n    JSONObject payload = new JSONObject();\n\n    header.put(&quot;alg&quot;, &quot;HS256&quot;);\n\n    payload.put(&quot;sub&quot;, &quot;ourSubject&quot;);\n    payload.put(&quot;exp&quot;, expiration.getTime() / 1000);\n    payload.put(&quot;jti&quot;, UUID.randomUUID().toString());\n    payload.put(&quot;iat&quot;, now.getTime() / 1000);\n    payload.put(&quot;services&quot;, &quot;JSON object of our custom data needed in authorization (not authentication&quot;);\n    String signature = &quot;&quot;;\n\n    StringBuilder token = new StringBuilder();\n    token.append(new String(Base64.encodeBase64(header.toString().getBytes())));\n    token.append(&quot;.&quot;);\n    token.append(new String(Base64.encodeBase64(payload.toString().getBytes())));\n    try {\n        Mac sha256_HMAC = Mac.getInstance(&quot;HmacSHA256&quot;);\n        SecretKeySpec secret_key = new SecretKeySpec(Base64.encodeBase64((secret + otherPartOfSecret).getBytes()), &quot;HmacSHA256&quot;);\n        sha256_HMAC.init(secret_key);\n\n        signature = new String(Base64.encodeBase64(sha256_HMAC.doFinal(token.toString().getBytes())));\n    } catch (Exception e) {\n        System.out.println(&quot;Error&quot;);\n    }\n\n    token.append(&quot;.&quot;);\n    token.append(signature);\n\n    return token.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6172758,"reputation":23,"user_id":4810603,"display_name":"Peter Andersson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648157552,"creation_date":1648157493,"answer_id":71609686,"question_id":42496388,"body_markdown":"You can use the `toMap()` method to solve this issue.\r\n\r\nThe code from your example will then look like this:\r\n\r\n    JSONObject jsonObject = new JSONObject();\r\n    jsonObject.put(&quot;serviceName1&quot;, &quot;serviceStatus1&quot;);\r\n    jsonObject.put(&quot;serviceName2&quot;, &quot;serviceStatus2&quot;);\r\n    claims.put(&quot;services&quot;,jsonObject.toMap());\r\n\r\nThis will result in the following claim in the JWT.\r\n\r\n    &quot;services&quot;: {\r\n        &quot;serviceName1&quot;: &quot;serviceStatus1&quot;,\r\n        &quot;serviceName2&quot;: &quot;serviceStatus2&quot;\r\n    }","title":"Java jjwt creating invalid JSON for JWT","body":"<p>You can use the <code>toMap()</code> method to solve this issue.</p>\n<p>The code from your example will then look like this:</p>\n<pre><code>JSONObject jsonObject = new JSONObject();\njsonObject.put(&quot;serviceName1&quot;, &quot;serviceStatus1&quot;);\njsonObject.put(&quot;serviceName2&quot;, &quot;serviceStatus2&quot;);\nclaims.put(&quot;services&quot;,jsonObject.toMap());\n</code></pre>\n<p>This will result in the following claim in the JWT.</p>\n<pre><code>&quot;services&quot;: {\n    &quot;serviceName1&quot;: &quot;serviceStatus1&quot;,\n    &quot;serviceName2&quot;: &quot;serviceStatus2&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":2298492,"reputation":776,"user_id":2019364,"accept_rate":40,"display_name":"Niro"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2020,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66991395,"answer_count":3,"score":0,"last_activity_date":1648157552,"creation_date":1488232129,"question_id":42496388,"body_markdown":"I must be missing something. I am using the JJWT library to create JWTs. The JWTs are created inconsistently from the library depending on the data set in the claims. My code:\r\n\r\n    Date now = new Date();\r\n    Date expiration = new Date(now.getTime() + TimeUnit.MINUTES.toMillis(30));\r\n    \r\n    Claims claims = Jwts.claims();\r\n\r\n    JSONObject jsonObject = new JSONObject();\r\n    jsonObject.put(&quot;serviceName1&quot;, &quot;serviceStatus1&quot;);\r\n    jsonObject.put(&quot;serviceName2&quot;, &quot;serviceStatus2&quot;);\r\n    claims.put(&quot;services&quot;,jsonObject);\r\n\r\n    claims.setSubject(&quot;225544&quot;);\r\n    claims.setExpiration(expiration);\r\n    claims.setId(UUID.randomUUID().toString());\r\n    claims.setIssuedAt(now);\r\n    \r\n    return Jwts.builder()\r\n        .setClaims(claims)\r\n        .signWith(SignatureAlgorithm.HS256, Base64.encodeBase64(secret.getBytes()))\r\n        .compact();\r\n\r\nThis code creates a JWT and signs it correctly. However, when the payload is decoded, the payload value is not always valid JSON. Most often it is missing the closing `}` causing any parsing of it to fail.\r\nIf the `Subject` is 8 characters, it works fine. If it is 7 or 6 characters long, it is invalid JSON. Or if I add other tags to the claim, sometimes it works and sometimes it doesn&#39;t. Am I doing something wrong? \r\n\r\nI have also tried using Auth0 java-JWT library and get similar results, Payload not always valid JSON. ","title":"Java jjwt creating invalid JSON for JWT","body":"<p>I must be missing something. I am using the JJWT library to create JWTs. The JWTs are created inconsistently from the library depending on the data set in the claims. My code:</p>\n\n<pre><code>Date now = new Date();\nDate expiration = new Date(now.getTime() + TimeUnit.MINUTES.toMillis(30));\n\nClaims claims = Jwts.claims();\n\nJSONObject jsonObject = new JSONObject();\njsonObject.put(\"serviceName1\", \"serviceStatus1\");\njsonObject.put(\"serviceName2\", \"serviceStatus2\");\nclaims.put(\"services\",jsonObject);\n\nclaims.setSubject(\"225544\");\nclaims.setExpiration(expiration);\nclaims.setId(UUID.randomUUID().toString());\nclaims.setIssuedAt(now);\n\nreturn Jwts.builder()\n    .setClaims(claims)\n    .signWith(SignatureAlgorithm.HS256, Base64.encodeBase64(secret.getBytes()))\n    .compact();\n</code></pre>\n\n<p>This code creates a JWT and signs it correctly. However, when the payload is decoded, the payload value is not always valid JSON. Most often it is missing the closing <code>}</code> causing any parsing of it to fail.\nIf the <code>Subject</code> is 8 characters, it works fine. If it is 7 or 6 characters long, it is invalid JSON. Or if I add other tags to the claim, sometimes it works and sometimes it doesn't. Am I doing something wrong? </p>\n\n<p>I have also tried using Auth0 java-JWT library and get similar results, Payload not always valid JSON. </p>\n"},{"tags":["java","swing","listener","jtextfield","keylistener"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1648155683,"post_id":71609307,"comment_id":126560115,"body_markdown":"1. Don&#39;t use `KeyListener` on text components.  Use a `DocumentListener` if you want to monitor changes or a `DocumentFilter` if you want to filter what can be entered into them.  2. The basic answer to your question is to pass some kind of information to the implementing class.  The event object will generally pass the source of the event, but in the case of the document listeners, you&#39;ll get the `Document`, not the the text field","body":"1. Don&#39;t use <code>KeyListener</code> on text components.  Use a <code>DocumentListener</code> if you want to monitor changes or a <code>DocumentFilter</code> if you want to filter what can be entered into them.  2. The basic answer to your question is to pass some kind of information to the implementing class.  The event object will generally pass the source of the event, but in the case of the document listeners, you&#39;ll get the <code>Document</code>, not the the text field"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648157429,"creation_date":1648157429,"answer_id":71609669,"question_id":71609307,"body_markdown":"Don&#39;t use `KeyListener` on text components, it&#39;s not helpful and you might end up in the middle of mutation of the state.\r\n\r\nInstead, use a `DocumentListener` to monitor the changes to the text field, see [How to Write a Document Listener](https://docs.oracle.com/javase/tutorial/uiswing/events/documentlistener.html) for more details.\r\n\r\nYou should also be making use of dependency injection, basically passing information to the classes which need to interact with your program.\r\n\r\nSee: \r\n\r\n* [Dependency Injection with Code Examples](https://stackify.com/dependency-injection/)\r\n* https://stackoverflow.com/questions/130794/what-is-dependency-injection\r\n* [About design patterns: Dependency Injection](https://aveuiller.github.io/about_design_patterns-dependency_injection.html)\r\n* [A quick intro to Dependency Injection: what it is, and when to use it](https://www.freecodecamp.org/news/a-quick-intro-to-dependency-injection-what-it-is-and-when-to-use-it-7578c84fa88f/)\r\n* [Dependency Injection](https://www.tutorialsteacher.com/ioc/dependency-injection#:~:text=Dependency%20Injection%20(DI)%20is%20a,class%20that%20depends%20on%20them.)\r\n* [Passing Information to a Method or a Constructor](https://docs.oracle.com/javase/tutorial/java/javaOO/arguments.html)\r\n\r\nfor more information.\r\n\r\n\r\n    import java.awt.Color;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Font;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    import java.util.List;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.border.EmptyBorder;\r\n    import javax.swing.event.DocumentEvent;\r\n    import javax.swing.event.DocumentListener;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            private List&lt;JTextField&gt; textFields;\r\n\r\n            public TestPane() {\r\n                setBorder(new EmptyBorder(64, 64, 64, 64));\r\n                setLayout(new GridBagLayout());\r\n\r\n                Font font = new Font(&quot;Times new Roman&quot;, Font.BOLD, 30);\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.ipadx = 75;\r\n                gbc.ipady = 75;\r\n                gbc.insets = new Insets(8, 8, 8, 8);\r\n                for (int row = 0; row &lt; 5; row++) {\r\n                    for (int col = 0; col &lt; 5; col++) {\r\n                        gbc.gridx = col;\r\n                        gbc.gridy = row;\r\n                        JTextField field = new JTextField(1);\r\n                        field.setHorizontalAlignment(JTextField.CENTER);\r\n                        field.setFont(font);\r\n                        textFields.add(field);\r\n\r\n                        if (row == col) {\r\n                            field.setText(&quot;1&quot;);\r\n                        }\r\n\r\n                        int index = ((row * 5) + col) + 1;\r\n                        if (index % 10 == 0) {\r\n                            field.getDocument().addDocumentListener(new DocumentHighlighter(field));\r\n                        }\r\n                        add(field, gbc);\r\n                    }\r\n                }\r\n            }\r\n\r\n            public class DocumentHighlighter implements DocumentListener {\r\n\r\n                private JTextField field;\r\n                private Color defaultColor;\r\n\r\n                public DocumentHighlighter(JTextField field) {\r\n                    this.field = field;\r\n                    defaultColor = field.getBackground();\r\n                }\r\n\r\n                protected void highlightFieldIfRequired() {\r\n                    if (field.getText().isEmpty()) {\r\n                        field.setBackground(defaultColor);\r\n                    } else {\r\n                        field.setBackground(Color.GREEN);\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void insertUpdate(DocumentEvent e) {\r\n                    highlightFieldIfRequired();\r\n                }\r\n\r\n                @Override\r\n                public void removeUpdate(DocumentEvent e) {\r\n                    highlightFieldIfRequired();\r\n                }\r\n\r\n                @Override\r\n                public void changedUpdate(DocumentEvent e) {\r\n                    highlightFieldIfRequired();\r\n                }            \r\n            }\r\n        }\r\n    }\r\n\r\nOne of the things I can see which is about to step up smack you then face, is how you share and manage data.\r\n\r\nOne concept you want to spend some time looking into, is the way you decouple your responsibilities.  One of the ways this can be done is via a &quot;model&quot;.  A model is responsible for managing the state and rules associated with the data.  The view then becomes responsible for presenting the current state of the model and updating the model based on the user input.\r\n\r\nSee: \r\n* [Model–view–controller](https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller)\r\n* [The Model View Controller Pattern – MVC Architecture and Frameworks Explained](https://www.freecodecamp.org/news/the-model-view-controller-pattern-mvc-architecture-and-frameworks-explained/)\r\n* [MVC: Model, View, Controller](https://www.codecademy.com/article/mvc)\r\n\r\nOne of the key elements to this concept is the use of the [observer pattern](https://www.oodesign.com/observer-pattern.html). You&#39;ve already seen this at work, as Swing listeners are observers.\r\n\r\nOh, and you really, really want to take the time and learn and understand the layout manager API. See [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) for more details","title":"How to access the objects of the array of JTextField objects in the KeyListener?","body":"<p>Don't use <code>KeyListener</code> on text components, it's not helpful and you might end up in the middle of mutation of the state.</p>\n<p>Instead, use a <code>DocumentListener</code> to monitor the changes to the text field, see <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/documentlistener.html\" rel=\"nofollow noreferrer\">How to Write a Document Listener</a> for more details.</p>\n<p>You should also be making use of dependency injection, basically passing information to the classes which need to interact with your program.</p>\n<p>See:</p>\n<ul>\n<li><a href=\"https://stackify.com/dependency-injection/\" rel=\"nofollow noreferrer\">Dependency Injection with Code Examples</a></li>\n<li><a href=\"https://stackoverflow.com/questions/130794/what-is-dependency-injection\">What is dependency injection?</a></li>\n<li><a href=\"https://aveuiller.github.io/about_design_patterns-dependency_injection.html\" rel=\"nofollow noreferrer\">About design patterns: Dependency Injection</a></li>\n<li><a href=\"https://www.freecodecamp.org/news/a-quick-intro-to-dependency-injection-what-it-is-and-when-to-use-it-7578c84fa88f/\" rel=\"nofollow noreferrer\">A quick intro to Dependency Injection: what it is, and when to use it</a></li>\n<li><a href=\"https://www.tutorialsteacher.com/ioc/dependency-injection#:%7E:text=Dependency%20Injection%20(DI)%20is%20a,class%20that%20depends%20on%20them.\" rel=\"nofollow noreferrer\">Dependency Injection</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/arguments.html\" rel=\"nofollow noreferrer\">Passing Information to a Method or a Constructor</a></li>\n</ul>\n<p>for more information.</p>\n<pre><code>import java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.Font;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport java.util.List;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\nimport javax.swing.border.EmptyBorder;\nimport javax.swing.event.DocumentEvent;\nimport javax.swing.event.DocumentListener;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        private List&lt;JTextField&gt; textFields;\n\n        public TestPane() {\n            setBorder(new EmptyBorder(64, 64, 64, 64));\n            setLayout(new GridBagLayout());\n\n            Font font = new Font(&quot;Times new Roman&quot;, Font.BOLD, 30);\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.ipadx = 75;\n            gbc.ipady = 75;\n            gbc.insets = new Insets(8, 8, 8, 8);\n            for (int row = 0; row &lt; 5; row++) {\n                for (int col = 0; col &lt; 5; col++) {\n                    gbc.gridx = col;\n                    gbc.gridy = row;\n                    JTextField field = new JTextField(1);\n                    field.setHorizontalAlignment(JTextField.CENTER);\n                    field.setFont(font);\n                    textFields.add(field);\n\n                    if (row == col) {\n                        field.setText(&quot;1&quot;);\n                    }\n\n                    int index = ((row * 5) + col) + 1;\n                    if (index % 10 == 0) {\n                        field.getDocument().addDocumentListener(new DocumentHighlighter(field));\n                    }\n                    add(field, gbc);\n                }\n            }\n        }\n\n        public class DocumentHighlighter implements DocumentListener {\n\n            private JTextField field;\n            private Color defaultColor;\n\n            public DocumentHighlighter(JTextField field) {\n                this.field = field;\n                defaultColor = field.getBackground();\n            }\n\n            protected void highlightFieldIfRequired() {\n                if (field.getText().isEmpty()) {\n                    field.setBackground(defaultColor);\n                } else {\n                    field.setBackground(Color.GREEN);\n                }\n            }\n\n            @Override\n            public void insertUpdate(DocumentEvent e) {\n                highlightFieldIfRequired();\n            }\n\n            @Override\n            public void removeUpdate(DocumentEvent e) {\n                highlightFieldIfRequired();\n            }\n\n            @Override\n            public void changedUpdate(DocumentEvent e) {\n                highlightFieldIfRequired();\n            }            \n        }\n    }\n}\n</code></pre>\n<p>One of the things I can see which is about to step up smack you then face, is how you share and manage data.</p>\n<p>One concept you want to spend some time looking into, is the way you decouple your responsibilities.  One of the ways this can be done is via a &quot;model&quot;.  A model is responsible for managing the state and rules associated with the data.  The view then becomes responsible for presenting the current state of the model and updating the model based on the user input.</p>\n<p>See:</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow noreferrer\">Model–view–controller</a></li>\n<li><a href=\"https://www.freecodecamp.org/news/the-model-view-controller-pattern-mvc-architecture-and-frameworks-explained/\" rel=\"nofollow noreferrer\">The Model View Controller Pattern – MVC Architecture and Frameworks Explained</a></li>\n<li><a href=\"https://www.codecademy.com/article/mvc\" rel=\"nofollow noreferrer\">MVC: Model, View, Controller</a></li>\n</ul>\n<p>One of the key elements to this concept is the use of the <a href=\"https://www.oodesign.com/observer-pattern.html\" rel=\"nofollow noreferrer\">observer pattern</a>. You've already seen this at work, as Swing listeners are observers.</p>\n<p>Oh, and you really, really want to take the time and learn and understand the layout manager API. See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> for more details</p>\n"}],"owner":{"account_id":17801000,"reputation":57,"user_id":12927771,"display_name":"Klopo22"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71609669,"answer_count":1,"score":0,"last_activity_date":1648157429,"creation_date":1648155300,"question_id":71609307,"body_markdown":"I have this code, that use an array of the JTextField objects for 25 elements and I want that ever element will be handle by KeyListener (keyPressed) differently after changing or adding text there. \r\n\r\nSo how can I get an index of the changed field into the listener? \r\n\r\nFor exist, 10-th element will change the background of the field to the green after adding or changing there text by user.\r\n\r\n        public JTextField field[];\r\n    public void TextFilling(){\r\n        field = new JTextField[25]; Font font = new Font(&quot;Times new Roman&quot;, Font.BOLD ,30);\r\n        textChangedListener listener = new textChangedListener();\r\n\r\n        //There are the process of formating size, location and other settings of the elements:\r\n        for (int i = 0, j=0, k=0; i&lt; field.length; i++, k++) {field[i] = new JTextField();\r\n            if (k==j) field[i].setText(&quot;1&quot;);\r\n            if (i % 5 == 0 &amp;&amp; i!=0) {j++; k = 0;}\r\n            field[i].setBounds(5+(100*(k+1)), 5+(100*(j+1)), 95, 95);\r\n            field[i].setHorizontalAlignment(JTextField.CENTER); field[i].setFont(font);\r\n\r\n            frame.add(field[i]);\r\n            field[i].addKeyListener(listener);\r\n        }\r\n    }\r\n    class textChangedListener implements KeyListener\r\n    {\r\n        public void keyPressed(KeyEvent e){\r\n            \r\n        }\r\n        public void keyReleased(KeyEvent e){}\r\n\r\n        public void keyTyped(KeyEvent e){}\r\n    }\r\n\r\n","title":"How to access the objects of the array of JTextField objects in the KeyListener?","body":"<p>I have this code, that use an array of the JTextField objects for 25 elements and I want that ever element will be handle by KeyListener (keyPressed) differently after changing or adding text there.</p>\n<p>So how can I get an index of the changed field into the listener?</p>\n<p>For exist, 10-th element will change the background of the field to the green after adding or changing there text by user.</p>\n<pre><code>    public JTextField field[];\npublic void TextFilling(){\n    field = new JTextField[25]; Font font = new Font(&quot;Times new Roman&quot;, Font.BOLD ,30);\n    textChangedListener listener = new textChangedListener();\n\n    //There are the process of formating size, location and other settings of the elements:\n    for (int i = 0, j=0, k=0; i&lt; field.length; i++, k++) {field[i] = new JTextField();\n        if (k==j) field[i].setText(&quot;1&quot;);\n        if (i % 5 == 0 &amp;&amp; i!=0) {j++; k = 0;}\n        field[i].setBounds(5+(100*(k+1)), 5+(100*(j+1)), 95, 95);\n        field[i].setHorizontalAlignment(JTextField.CENTER); field[i].setFont(font);\n\n        frame.add(field[i]);\n        field[i].addKeyListener(listener);\n    }\n}\nclass textChangedListener implements KeyListener\n{\n    public void keyPressed(KeyEvent e){\n        \n    }\n    public void keyReleased(KeyEvent e){}\n\n    public void keyTyped(KeyEvent e){}\n}\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1648150244,"post_id":71607501,"comment_id":126558367,"body_markdown":"When setting the system variables the ordering is important. As the container needs to start before the Spring APplication context is started, if not setting them is pretty useless. Another thing is it appears as if you are mixing JUnit4 (`@RunWIth`) with JUnit5 which is probably also an issue.","body":"When setting the system variables the ordering is important. As the container needs to start before the Spring APplication context is started, if not setting them is pretty useless. Another thing is it appears as if you are mixing JUnit4 (<code>@RunWIth</code>) with JUnit5 which is probably also an issue."},{"owner":{"account_id":30234,"reputation":1818,"user_id":82309,"accept_rate":79,"display_name":"mats"},"score":0,"creation_date":1648156771,"post_id":71607501,"comment_id":126560432,"body_markdown":"@M.Deinum Sorry, I wrote a long comment about `@ExtendWith` sorting out the issue, but I accidentally launched tests in the wrong profile. However, there is an interesting issue with properties which I will describe in my original question. Nevertheless, thanks for the heads-up","body":"@M.Deinum Sorry, I wrote a long comment about <code>@ExtendWith</code> sorting out the issue, but I accidentally launched tests in the wrong profile. However, there is an interesting issue with properties which I will describe in my original question. Nevertheless, thanks for the heads-up"}],"owner":{"account_id":30234,"reputation":1818,"user_id":82309,"accept_rate":79,"display_name":"mats"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":759,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648157377,"creation_date":1648145544,"question_id":71607501,"body_markdown":"I have been reading [Baeldung&#39;s Testcontainer HowTo][1] where in section 4 it is mentioned:\r\n\r\n&gt; In the start() method we use `System#setProperty` to set connection parameters as environment variables.\r\n&gt; We can now put them in our application.properties file:\r\n&gt;\r\n&gt; ```\r\n&gt; spring.datasource.url=${DB_URL}\r\n&gt; spring.datasource.username=${DB_USERNAME}\r\n&gt; spring.datasource.password=${DB_PASSWORD}\r\n&gt; ```\r\n\r\nI tried this approach - albeit with using Junit5 and hence no `@ClassRule` to fire up the container as stated in the tutorial, yet `@Container` instead.\r\n\r\nIt turns out: These environment variables are seemingly not used in the Spring context. They seems to be empty, yet e.g. the DB URL apparently defaults to `localhost:5432` when using PostgreSQL.\r\n\r\nMy question:\r\n**I wonder if and how programatically defined environment variables would work in an `application.properties` or `application.yml`.**\r\n\r\nWould not `@SpringBootTest` load my context as defined in `application.yml` (with empty env vars) *before* the Container is initialized and defines those `DB_` variables?\r\n\r\nIt would be nice if this approach actually worked, because I believe this would help me to trigger Liquibase prior to test execution, although there is certainly a way to do that programmatically as well.\r\n\r\nPS: With a custom `ApplicationContextInitializer` which programatically sets the data source properties, the test does work.\r\n\r\n\r\n**** EDIT ****\r\n\r\nI found out that the feature of setting properties via programmatically defined env vars *does* work. However, I was misled due to the following setup:\r\n\r\nMy project base directory has a subdir `config` with `config/application.yml` as the externalized config source in it. I thought that is a good idea - better than placing a config in `src/main/resources`, because - unless one explicitly excludes it - it would land in the `jar` and I would not necessarily want that.\r\n\r\nHowever, I did believe that a `src/test/resources/application.yml` (further called: T) would override any settings obtained from `config/application.yml` (further called: P). Apparently not quite, which I found out after adding Liquibase:\r\n\r\nP contains `spring.liquibase.enable=false` while T contains `spring.liquibase.enable=true` and `spring.liquibase.changeLog=classpath:/db/foo.yaml`. Launching the tests, I see no Liquibase updates. Setting `spring.liquibase.enable=true` in P, however, results in Liquibase updates being applied during integration tests.\r\nAlso, *not* setting `spring.liquibase.changeLog=classpath:/db/foo.yaml` in T makes Liquibase complain about a missing changelog file (it defaults to some file name I do not use). That means, T must be read after all. But apparently, properties set in P are not overridden in T (which may be a feature I was not aware of).\r\nSuch overriding does work, however, when moving P to `src/main/resources/application.yml`.\r\n\r\nAlso removed the Junit4 annotation `@RunWith` following @M.Deinum&#39;s good remark.\r\n\r\n**** END OF EDIT ****\r\n\r\n\r\nFull test class:\r\n\r\n```java\r\n// @RunWith(SpringRunner.class)\r\n@ExtendWith(SpringExtension.class)\r\n@SpringBootTest\r\n@Testcontainers\r\n@ActiveProfiles(&quot;integration-test-postgres&quot;)\r\nclass MyRepositoryIntegrationTest {\r\n\r\n    @Autowired\r\n    MyRepository repository;\r\n\r\n    @Container\r\n    static JdbcDatabaseContainer&lt;?&gt; databaseContainer = IntegrationTestPostgresContainer.getInstance();\r\n\r\n    @Test\r\n    void test() {\r\n        assertEquals(&quot;postgres&quot;, System.getProperty(&quot;DB_USERNAME&quot;));\r\n        assertEquals(&quot;postgres&quot;, System.getProperty(&quot;DB_PASSWORD&quot;));\r\n        assertTrue(databaseContainer.isRunning());\r\n    }\r\n}\r\n```\r\n\r\nContainer extension:\r\n\r\n```java\r\npublic class IntegrationTestPostgresContainer extends PostgreSQLContainer&lt;IntegrationTestPostgresContainer&gt; {\r\n\r\n    private static final String IMAGE_VERSION = &quot;postgres:12.3&quot;;\r\n    private static IntegrationTestPostgresContainer container;\r\n\r\n    private IntegrationTestPostgresContainer() {\r\n        super(IMAGE_VERSION);\r\n    }\r\n\r\n    public static IntegrationTestPostgresContainer getInstance() {\r\n        if (container == null) {\r\n            container = new IntegrationTestPostgresContainer()\r\n                .withDatabaseName(&quot;mddb&quot;)\r\n                .withUsername(&quot;postgres&quot;)\r\n                .withPassword(&quot;postgres&quot;);\r\n        }\r\n        return container;\r\n    }\r\n\r\n    @Override\r\n    public void start() {\r\n        super.start();\r\n        System.setProperty(&quot;DB_URL&quot;, container.getJdbcUrl());\r\n        System.setProperty(&quot;DB_USERNAME&quot;, container.getUsername());\r\n        System.setProperty(&quot;DB_PASSWORD&quot;, container.getPassword());\r\n    }\r\n\r\n    @Override\r\n    public void stop() {\r\n        // noop\r\n    }\r\n\r\n}\r\n```\r\n\r\nInitializer, to be added to the test context via `@ContextConfiguration(initializers = {DataSourceContextInitializer.class})` in order to make the test pass:\r\n\r\n```java\r\npublic class DataSourceContextInitializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\r\n\r\n    private final static JdbcDatabaseContainer&lt;?&gt; CONTAINER = IntegrationTestPostgresContainer.getInstance();\r\n\r\n    public void initialize(ConfigurableApplicationContext configurableApplicationContext) {\r\n            TestPropertyValues.of(\r\n                &quot;spring.datasource.url=&quot; + CONTAINER.getJdbcUrl(),\r\n                &quot;spring.datasource.username=&quot; + CONTAINER.getUsername(),\r\n                &quot;spring.datasource.password=&quot; + CONTAINER.getPassword()\r\n            )\r\n                .applyTo(configurableApplicationContext.getEnvironment());\r\n    }\r\n}\r\n```\r\n\r\n`application.yml`\r\n\r\n```yaml\r\n---\r\nspring:\r\n  config:\r\n    activate:\r\n      on-profile: integration-test-postgres\r\n  datasource:\r\n    driver-class-name: org.postgresql.Driver\r\n```\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-testcontainers-integration-test#common-configuration","title":"Environment variables set via System#setProperty used in Spring application.yml","body":"<p>I have been reading <a href=\"https://www.baeldung.com/spring-boot-testcontainers-integration-test#common-configuration\" rel=\"nofollow noreferrer\">Baeldung's Testcontainer HowTo</a> where in section 4 it is mentioned:</p>\n<blockquote>\n<p>In the start() method we use <code>System#setProperty</code> to set connection parameters as environment variables.\nWe can now put them in our application.properties file:</p>\n<pre><code>spring.datasource.url=${DB_URL}\nspring.datasource.username=${DB_USERNAME}\nspring.datasource.password=${DB_PASSWORD}\n</code></pre>\n</blockquote>\n<p>I tried this approach - albeit with using Junit5 and hence no <code>@ClassRule</code> to fire up the container as stated in the tutorial, yet <code>@Container</code> instead.</p>\n<p>It turns out: These environment variables are seemingly not used in the Spring context. They seems to be empty, yet e.g. the DB URL apparently defaults to <code>localhost:5432</code> when using PostgreSQL.</p>\n<p>My question:\n<strong>I wonder if and how programatically defined environment variables would work in an <code>application.properties</code> or <code>application.yml</code>.</strong></p>\n<p>Would not <code>@SpringBootTest</code> load my context as defined in <code>application.yml</code> (with empty env vars) <em>before</em> the Container is initialized and defines those <code>DB_</code> variables?</p>\n<p>It would be nice if this approach actually worked, because I believe this would help me to trigger Liquibase prior to test execution, although there is certainly a way to do that programmatically as well.</p>\n<p>PS: With a custom <code>ApplicationContextInitializer</code> which programatically sets the data source properties, the test does work.</p>\n<p>**** EDIT ****</p>\n<p>I found out that the feature of setting properties via programmatically defined env vars <em>does</em> work. However, I was misled due to the following setup:</p>\n<p>My project base directory has a subdir <code>config</code> with <code>config/application.yml</code> as the externalized config source in it. I thought that is a good idea - better than placing a config in <code>src/main/resources</code>, because - unless one explicitly excludes it - it would land in the <code>jar</code> and I would not necessarily want that.</p>\n<p>However, I did believe that a <code>src/test/resources/application.yml</code> (further called: T) would override any settings obtained from <code>config/application.yml</code> (further called: P). Apparently not quite, which I found out after adding Liquibase:</p>\n<p>P contains <code>spring.liquibase.enable=false</code> while T contains <code>spring.liquibase.enable=true</code> and <code>spring.liquibase.changeLog=classpath:/db/foo.yaml</code>. Launching the tests, I see no Liquibase updates. Setting <code>spring.liquibase.enable=true</code> in P, however, results in Liquibase updates being applied during integration tests.\nAlso, <em>not</em> setting <code>spring.liquibase.changeLog=classpath:/db/foo.yaml</code> in T makes Liquibase complain about a missing changelog file (it defaults to some file name I do not use). That means, T must be read after all. But apparently, properties set in P are not overridden in T (which may be a feature I was not aware of).\nSuch overriding does work, however, when moving P to <code>src/main/resources/application.yml</code>.</p>\n<p>Also removed the Junit4 annotation <code>@RunWith</code> following @M.Deinum's good remark.</p>\n<p>**** END OF EDIT ****</p>\n<p>Full test class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// @RunWith(SpringRunner.class)\n@ExtendWith(SpringExtension.class)\n@SpringBootTest\n@Testcontainers\n@ActiveProfiles(&quot;integration-test-postgres&quot;)\nclass MyRepositoryIntegrationTest {\n\n    @Autowired\n    MyRepository repository;\n\n    @Container\n    static JdbcDatabaseContainer&lt;?&gt; databaseContainer = IntegrationTestPostgresContainer.getInstance();\n\n    @Test\n    void test() {\n        assertEquals(&quot;postgres&quot;, System.getProperty(&quot;DB_USERNAME&quot;));\n        assertEquals(&quot;postgres&quot;, System.getProperty(&quot;DB_PASSWORD&quot;));\n        assertTrue(databaseContainer.isRunning());\n    }\n}\n</code></pre>\n<p>Container extension:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class IntegrationTestPostgresContainer extends PostgreSQLContainer&lt;IntegrationTestPostgresContainer&gt; {\n\n    private static final String IMAGE_VERSION = &quot;postgres:12.3&quot;;\n    private static IntegrationTestPostgresContainer container;\n\n    private IntegrationTestPostgresContainer() {\n        super(IMAGE_VERSION);\n    }\n\n    public static IntegrationTestPostgresContainer getInstance() {\n        if (container == null) {\n            container = new IntegrationTestPostgresContainer()\n                .withDatabaseName(&quot;mddb&quot;)\n                .withUsername(&quot;postgres&quot;)\n                .withPassword(&quot;postgres&quot;);\n        }\n        return container;\n    }\n\n    @Override\n    public void start() {\n        super.start();\n        System.setProperty(&quot;DB_URL&quot;, container.getJdbcUrl());\n        System.setProperty(&quot;DB_USERNAME&quot;, container.getUsername());\n        System.setProperty(&quot;DB_PASSWORD&quot;, container.getPassword());\n    }\n\n    @Override\n    public void stop() {\n        // noop\n    }\n\n}\n</code></pre>\n<p>Initializer, to be added to the test context via <code>@ContextConfiguration(initializers = {DataSourceContextInitializer.class})</code> in order to make the test pass:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DataSourceContextInitializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\n\n    private final static JdbcDatabaseContainer&lt;?&gt; CONTAINER = IntegrationTestPostgresContainer.getInstance();\n\n    public void initialize(ConfigurableApplicationContext configurableApplicationContext) {\n            TestPropertyValues.of(\n                &quot;spring.datasource.url=&quot; + CONTAINER.getJdbcUrl(),\n                &quot;spring.datasource.username=&quot; + CONTAINER.getUsername(),\n                &quot;spring.datasource.password=&quot; + CONTAINER.getPassword()\n            )\n                .applyTo(configurableApplicationContext.getEnvironment());\n    }\n}\n</code></pre>\n<p><code>application.yml</code></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>---\nspring:\n  config:\n    activate:\n      on-profile: integration-test-postgres\n  datasource:\n    driver-class-name: org.postgresql.Driver\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1632183034,"post_id":69262037,"comment_id":122419074,"body_markdown":"Well, they&#39;re not long integers, at the very least.","body":"Well, they&#39;re not long integers, at the very least."},{"owner":{"display_name":"user16225412"},"score":0,"creation_date":1632183139,"post_id":69262037,"comment_id":122419091,"body_markdown":"that...solved it. i feel so dumb but thank you so much","body":"that...solved it. i feel so dumb but thank you so much"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1632183450,"post_id":69262037,"comment_id":122419143,"body_markdown":"Glad you worked it out :)","body":"Glad you worked it out :)"}],"answers":[{"tags":[],"owner":{"account_id":24028100,"reputation":1,"user_id":18009452,"display_name":"Mahak Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648157360,"creation_date":1648157089,"answer_id":71609615,"question_id":69262037,"body_markdown":"Use `long` datatype because there is possibility of Integer overflowing or use 16 bit Integer.\r\n\r\n    public static void miniMaxSum(List&lt;Integer&gt; arr) {\r\n    // Write your code here\r\n        Collections.sort(arr);\r\n        long max = 0;\r\n        long min = 0;\r\n        long sum = 0;\r\n        long smallest = arr.get(0);\r\n        long largest = arr.get(4);\r\n        for (int i=0; i&lt;arr.size(); i++) {\r\n            sum += arr.get(i);\r\n        }\r\n        min = sum - largest;\r\n        max = sum - smallest;\r\n   \r\n        \r\n        System.out.print(min+ &quot; &quot; + max);\r\n\r\n    }\r\n    }\r\n","title":"Finding the minimum sum and maximum sum of a list of integers in an array","body":"<p>Use <code>long</code> datatype because there is possibility of Integer overflowing or use 16 bit Integer.</p>\n<pre><code>public static void miniMaxSum(List&lt;Integer&gt; arr) {\n// Write your code here\n    Collections.sort(arr);\n    long max = 0;\n    long min = 0;\n    long sum = 0;\n    long smallest = arr.get(0);\n    long largest = arr.get(4);\n    for (int i=0; i&lt;arr.size(); i++) {\n        sum += arr.get(i);\n    }\n    min = sum - largest;\n    max = sum - smallest;\n\n    \n    System.out.print(min+ &quot; &quot; + max);\n\n}\n}\n</code></pre>\n"}],"owner":{"display_name":"user16225412"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648157360,"creation_date":1632182835,"question_id":69262037,"body_markdown":"I am currently working on a HackerRank practice question and I only pass 5 test cases and I have no idea why. I&#39;ve thought of all edge cases that I can think of myself but I fail most test cases. \r\n\r\n**Problem:**\r\nGiven five positive integers, find the minimum and maximum values that can be calculated by summing exactly *four of the five integers*. Then print the respective minimum and maximum values as a single line of two space-separated long integers.\r\n\r\nExample - \r\nThe minimum sum is 1 + 3 + 5 + 7 = 16 and the maximum sum is 3 + 5 + 7 + 9 = 24. The function prints\r\n\r\n`16 24`\r\n\r\nThis is my solution so far: \r\n\r\n```java\r\npublic static void miniMaxSum(List&lt;Integer&gt; arr) {\r\n    // Write your code here\r\n        Collections.sort(arr);\r\n        int max = 0;\r\n        int min = 0;\r\n        int sum = 0;\r\n        int smallest = arr.get(0);\r\n        int largest = arr.get(4);\r\n        for (int i=0; i&lt;arr.size(); i++) {\r\n            sum += arr.get(i);\r\n        }\r\n        min = sum - largest;\r\n        max = sum - smallest;\r\n   \r\n        \r\n        System.out.print(min+ &quot; &quot; + max);\r\n\r\n    }\r\n```\r\nI have no idea what test cases I&#39;m failing since it doesn&#39;t tell me. I&#39;ve tried arrays with duplicates, massive numbers, unsorted, and it all gives me expected answer. Please help!","title":"Finding the minimum sum and maximum sum of a list of integers in an array","body":"<p>I am currently working on a HackerRank practice question and I only pass 5 test cases and I have no idea why. I've thought of all edge cases that I can think of myself but I fail most test cases.</p>\n<p><strong>Problem:</strong>\nGiven five positive integers, find the minimum and maximum values that can be calculated by summing exactly <em>four of the five integers</em>. Then print the respective minimum and maximum values as a single line of two space-separated long integers.</p>\n<p>Example -\nThe minimum sum is 1 + 3 + 5 + 7 = 16 and the maximum sum is 3 + 5 + 7 + 9 = 24. The function prints</p>\n<p><code>16 24</code></p>\n<p>This is my solution so far:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void miniMaxSum(List&lt;Integer&gt; arr) {\n    // Write your code here\n        Collections.sort(arr);\n        int max = 0;\n        int min = 0;\n        int sum = 0;\n        int smallest = arr.get(0);\n        int largest = arr.get(4);\n        for (int i=0; i&lt;arr.size(); i++) {\n            sum += arr.get(i);\n        }\n        min = sum - largest;\n        max = sum - smallest;\n   \n        \n        System.out.print(min+ &quot; &quot; + max);\n\n    }\n</code></pre>\n<p>I have no idea what test cases I'm failing since it doesn't tell me. I've tried arrays with duplicates, massive numbers, unsorted, and it all gives me expected answer. Please help!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1648156584,"post_id":71609492,"comment_id":126560380,"body_markdown":"From what you describe, it sound like the `StatusEffect`s are multitions (each sub-class of `StatusEffect` is a singleton). --- If we need a collection without duplicates, we can use a `Set` instead of a `List`","body":"From what you describe, it sound like the <code>StatusEffect</code>s are multitions (each sub-class of <code>StatusEffect</code> is a singleton). --- If we need a collection without duplicates, we can use a <code>Set</code> instead of a <code>List</code>"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1648156655,"post_id":71609492,"comment_id":126560403,"body_markdown":"You either need a separate set or list of the classes, not the instances. Or iterate through the list and check the class of each instance against the instance of the new class. Currently you have the effect instances in there but check if a class is in there, which it never is.","body":"You either need a separate set or list of the classes, not the instances. Or iterate through the list and check the class of each instance against the instance of the new class. Currently you have the effect instances in there but check if a class is in there, which it never is."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1648156747,"post_id":71609492,"comment_id":126560425,"body_markdown":"How is `equals()` implemented in `StatusEffect` and its respective subclasses?","body":"How is <code>equals()</code> implemented in <code>StatusEffect</code> and its respective subclasses?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1648156868,"post_id":71609492,"comment_id":126560459,"body_markdown":"Use a `Set`.  As dan1st points out, you need a correctly implemented `equals()` method or the Set won&#39;t work.  An `enum` might be appropriate here.","body":"Use a <code>Set</code>.  As dan1st points out, you need a correctly implemented <code>equals()</code> method or the Set won&#39;t work.  An <code>enum</code> might be appropriate here."},{"owner":{"account_id":23507466,"reputation":11,"user_id":17556509,"display_name":"PhantomFoamy"},"score":0,"creation_date":1648156872,"post_id":71609492,"comment_id":126560460,"body_markdown":"@dan1st I haven&#39;t used equals() in StatusEffect or its subclasses","body":"@dan1st I haven&#39;t used equals() in StatusEffect or its subclasses"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1648156877,"post_id":71609492,"comment_id":126560462,"body_markdown":"_Why_ do you need the ArrayList to allow &quot;anything&quot; for its first addition, but only &quot;the same class as before&quot; for subsequent additions, though? What problem does this approach solve? (because it&#39;s quite likely that this smooths over a symptom of an underlying design problem instead).","body":"<i>Why</i> do you need the ArrayList to allow &quot;anything&quot; for its first addition, but only &quot;the same class as before&quot; for subsequent additions, though? What problem does this approach solve? (because it&#39;s quite likely that this smooths over a symptom of an underlying design problem instead)."}],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648157341,"creation_date":1648157341,"answer_id":71609658,"question_id":71609492,"body_markdown":"If you want a single object per class in your data structure, you can use a `Map`. The key of the `Map` would be a `Class` representing the effect type and the value would be the concrete effect:\r\n\r\n```java\r\nMap&lt;Class&lt;? extends StatusEffect&gt;, StatusEffect&gt; effects = new HashMap&lt;&gt;();\r\n\r\n//insert only if not already there\r\neffects.putIfAbsent(effect.getClass(), effect);\r\n//insert or overwrite if already there\r\neffects.put(effect.getClass(), effect);\r\n//remove\r\neffects.remove(effect.getClass());\r\n//or\r\neffects.remove(Burning.class);\r\n//iterate\r\nfor(StatusEffect effect : effects.values()){\r\n    //... \r\n}\r\n```\r\n\r\nThe nature of `Map`s only allows a single value per key. \r\n\r\nIf you want to preserve order, you can use a `LinkedHashMap` instead of a `HashMap`. ","title":"ArrayList with unique classes","body":"<p>If you want a single object per class in your data structure, you can use a <code>Map</code>. The key of the <code>Map</code> would be a <code>Class</code> representing the effect type and the value would be the concrete effect:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Class&lt;? extends StatusEffect&gt;, StatusEffect&gt; effects = new HashMap&lt;&gt;();\n\n//insert only if not already there\neffects.putIfAbsent(effect.getClass(), effect);\n//insert or overwrite if already there\neffects.put(effect.getClass(), effect);\n//remove\neffects.remove(effect.getClass());\n//or\neffects.remove(Burning.class);\n//iterate\nfor(StatusEffect effect : effects.values()){\n    //... \n}\n</code></pre>\n<p>The nature of <code>Map</code>s only allows a single value per key.</p>\n<p>If you want to preserve order, you can use a <code>LinkedHashMap</code> instead of a <code>HashMap</code>.</p>\n"}],"owner":{"account_id":23507466,"reputation":11,"user_id":17556509,"display_name":"PhantomFoamy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71609658,"answer_count":1,"score":0,"last_activity_date":1648157341,"creation_date":1648156457,"question_id":71609492,"body_markdown":"I have an `Entity` class, which has an ArrayList (called &quot;effects&quot;) of subclasses of a class, `StatusEffect`. The ArrayList could have different subclasses of `StatusEffect` like `Burning`, `Frozen`, `Nauseated`. I also have a method, `addEffect()` which adds a subclass of status effect to the ArrayList using &quot;`effects.add(new SUBCLASS-NAME())`&quot;. My question is how I could make it so that if the arrayList already has a SubClass of one type in it, it won&#39;t add the new effect. For example, if the ArrayList has the &quot;`Burning`&quot; class in it already, and I try to use `addEffect(),` it won&#39;t do anything because the ArrayList already has the class &quot;Burning&quot; in it.\r\n\r\nWhat I tried was\r\n```java\r\nprotected void addEffect(StatusEffect effect) {\r\n    if(!getEffects().contains(effect.getClass())) {\r\n        effects.add(effect);\r\n    }\r\n    else {\r\n        out.println(getName() + &quot; was already affected by &quot; + effect.getName());\r\n    }\r\n}\r\n```","title":"ArrayList with unique classes","body":"<p>I have an <code>Entity</code> class, which has an ArrayList (called &quot;effects&quot;) of subclasses of a class, <code>StatusEffect</code>. The ArrayList could have different subclasses of <code>StatusEffect</code> like <code>Burning</code>, <code>Frozen</code>, <code>Nauseated</code>. I also have a method, <code>addEffect()</code> which adds a subclass of status effect to the ArrayList using &quot;<code>effects.add(new SUBCLASS-NAME())</code>&quot;. My question is how I could make it so that if the arrayList already has a SubClass of one type in it, it won't add the new effect. For example, if the ArrayList has the &quot;<code>Burning</code>&quot; class in it already, and I try to use <code>addEffect(),</code> it won't do anything because the ArrayList already has the class &quot;Burning&quot; in it.</p>\n<p>What I tried was</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected void addEffect(StatusEffect effect) {\n    if(!getEffects().contains(effect.getClass())) {\n        effects.add(effect);\n    }\n    else {\n        out.println(getName() + &quot; was already affected by &quot; + effect.getName());\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","loops"],"answers":[{"tags":[],"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648151495,"creation_date":1648151080,"answer_id":71608536,"question_id":71608452,"body_markdown":"There is no need for two `for` loops. You can do this in `O(n)`, as for values on the diagonal `y` and `x` will be identical. \r\n\r\nTo get both diagonals you need to start once on the left using `i` and once on the right using `arr.length - i - 1`. As `i` is increasing you will gradually move from left to right for `i` and at the same time move from right to left for `arr.length - i - 1`. \r\n\r\nThis will work for any `n x n` matrix.\r\n```java\r\nprivate static void fillDiagonal() {\r\n    int[][] arr = new int[5][5];\r\n    for (int i = 0; i &lt; arr.length; i++) {\r\n        arr[i][i] = 1;\r\n        arr[arr.length - i - 1][i] = 1;\r\n    }\r\n    Arrays.stream(arr).map(Arrays::toString).forEach(System.out::println);\r\n}\r\n```\r\n\r\nExpected output:\r\n```\r\n[1, 0, 0, 0, 1]\r\n[0, 1, 0, 1, 0]\r\n[0, 0, 1, 0, 0]\r\n[0, 1, 0, 1, 0]\r\n[1, 0, 0, 0, 1]\r\n```","title":"Fill diagonal elements of array with Numbers","body":"<p>There is no need for two <code>for</code> loops. You can do this in <code>O(n)</code>, as for values on the diagonal <code>y</code> and <code>x</code> will be identical.</p>\n<p>To get both diagonals you need to start once on the left using <code>i</code> and once on the right using <code>arr.length - i - 1</code>. As <code>i</code> is increasing you will gradually move from left to right for <code>i</code> and at the same time move from right to left for <code>arr.length - i - 1</code>.</p>\n<p>This will work for any <code>n x n</code> matrix.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void fillDiagonal() {\n    int[][] arr = new int[5][5];\n    for (int i = 0; i &lt; arr.length; i++) {\n        arr[i][i] = 1;\n        arr[arr.length - i - 1][i] = 1;\n    }\n    Arrays.stream(arr).map(Arrays::toString).forEach(System.out::println);\n}\n</code></pre>\n<p>Expected output:</p>\n<pre><code>[1, 0, 0, 0, 1]\n[0, 1, 0, 1, 0]\n[0, 0, 1, 0, 0]\n[0, 1, 0, 1, 0]\n[1, 0, 0, 0, 1]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3901572,"reputation":85,"user_id":3229298,"accept_rate":60,"display_name":"ferzle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648151185,"creation_date":1648151185,"answer_id":71608555,"question_id":71608452,"body_markdown":"First, notice that you set those two entries for every iteration of the loops, which is bad. Second, you have a double-nested loop where you don&#39;t even use j, so that&#39;s bad. Think about this: You want to set 3 entries on the main diagonal and 3 entries on the reverse diagonal. So that should just require one or two loops that execute 3 times, not a double-nested loop. \r\nThird, you realized that the important indices are [0][0],[1][1], and [2][2], which you can index as [i][i] if you make i go from 0 to 2. Now what are the indices in the reverse diagonal? Write them down, and then create a formula based on i and 3 (or in general n) that will be the correct ones.\r\n","title":"Fill diagonal elements of array with Numbers","body":"<p>First, notice that you set those two entries for every iteration of the loops, which is bad. Second, you have a double-nested loop where you don't even use j, so that's bad. Think about this: You want to set 3 entries on the main diagonal and 3 entries on the reverse diagonal. So that should just require one or two loops that execute 3 times, not a double-nested loop.\nThird, you realized that the important indices are [0][0],[1][1], and [2][2], which you can index as [i][i] if you make i go from 0 to 2. Now what are the indices in the reverse diagonal? Write them down, and then create a formula based on i and 3 (or in general n) that will be the correct ones.</p>\n"},{"tags":[],"owner":{"account_id":24610645,"reputation":11,"user_id":18512280,"display_name":"Ankur Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648151280,"creation_date":1648151280,"answer_id":71608572,"question_id":71608452,"body_markdown":"```\r\nprivate static void fillDiagonal() {\r\n        int[][] arr = new int[3][3];\r\n        //  System.out.println(Arrays.deepToString(arr));\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            for (int j = 0; j &lt; arr[i].length; j++) {\r\n                if(i == j) arr[i][j] = 1;\r\n                if(i+j == arr.length - 1) arr[i][j] = 1;\r\n            }\r\n        }\r\n        System.out.println(Arrays.deepToString(arr));\r\n    }\r\n```","title":"Fill diagonal elements of array with Numbers","body":"<pre><code>private static void fillDiagonal() {\n        int[][] arr = new int[3][3];\n        //  System.out.println(Arrays.deepToString(arr));\n        for (int i = 0; i &lt; arr.length; i++) {\n            for (int j = 0; j &lt; arr[i].length; j++) {\n                if(i == j) arr[i][j] = 1;\n                if(i+j == arr.length - 1) arr[i][j] = 1;\n            }\n        }\n        System.out.println(Arrays.deepToString(arr));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648157292,"creation_date":1648156858,"answer_id":71609560,"question_id":71608452,"body_markdown":"It only takes a single loop and you only need to iterate across half the length of a side.\r\n\r\n```\r\nint[][] result = fillDiagonal(7);\t\r\nfor (int[] row : result) {\r\n\tSystem.out.println(Arrays.toString(row));\r\n}\r\n\t\r\n```\r\nprints\r\n```\r\n[1, 0, 0, 0, 0, 0, 1]\r\n[0, 1, 0, 0, 0, 1, 0]\r\n[0, 0, 1, 0, 1, 0, 0]\r\n[0, 0, 0, 1, 0, 0, 0]\r\n[0, 0, 1, 0, 1, 0, 0]\r\n[0, 1, 0, 0, 0, 1, 0]\r\n[1, 0, 0, 0, 0, 0, 1]\r\n```\r\n- takes an `int` value to specify a side of the square matrix\r\n- returns the filled matrix\r\n- given a square matrix of size `n x n`\r\n- the the upper left corner `v[0][0]` and the lower right is `v[n-i-1][n-i-1]`.\r\n- these middle values are filled out similarly effective filling in the diagonals going from the corners inward.\r\n```\r\npublic static int[][] fillDiagonal(int n) {\r\n\tint[][] v = new int[n][n];\r\n\tfor (int i = 0; i &lt;= n / 2; i++) {\r\n\t\tv[i][i] = v[i][n-i -1] = v[n-i-1][i] = v[n-i-1][n-i-1] = 1;\r\n\t}\r\n\treturn v;\r\n}\r\n```\r\n","title":"Fill diagonal elements of array with Numbers","body":"<p>It only takes a single loop and you only need to iterate across half the length of a side.</p>\n<pre><code>int[][] result = fillDiagonal(7);   \nfor (int[] row : result) {\n    System.out.println(Arrays.toString(row));\n}\n    \n</code></pre>\n<p>prints</p>\n<pre><code>[1, 0, 0, 0, 0, 0, 1]\n[0, 1, 0, 0, 0, 1, 0]\n[0, 0, 1, 0, 1, 0, 0]\n[0, 0, 0, 1, 0, 0, 0]\n[0, 0, 1, 0, 1, 0, 0]\n[0, 1, 0, 0, 0, 1, 0]\n[1, 0, 0, 0, 0, 0, 1]\n</code></pre>\n<ul>\n<li>takes an <code>int</code> value to specify a side of the square matrix</li>\n<li>returns the filled matrix</li>\n<li>given a square matrix of size <code>n x n</code></li>\n<li>the the upper left corner <code>v[0][0]</code> and the lower right is <code>v[n-i-1][n-i-1]</code>.</li>\n<li>these middle values are filled out similarly effective filling in the diagonals going from the corners inward.</li>\n</ul>\n<pre><code>public static int[][] fillDiagonal(int n) {\n    int[][] v = new int[n][n];\n    for (int i = 0; i &lt;= n / 2; i++) {\n        v[i][i] = v[i][n-i -1] = v[n-i-1][i] = v[n-i-1][n-i-1] = 1;\n    }\n    return v;\n}\n</code></pre>\n"}],"owner":{"account_id":23417369,"reputation":39,"user_id":17478126,"display_name":"IMBABOT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":571,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71608536,"answer_count":4,"score":0,"last_activity_date":1648157292,"creation_date":1648150555,"question_id":71608452,"body_markdown":"\r\nI.ve got `2D array` amount of raws and columns are the same.\r\n\r\nI need to fill diagonal elements like this:\r\n\r\n    1 0 1\r\n    0 1 0\r\n    1 0 1\r\n\r\nHere is my code:\r\n\r\n       private static void fillDiagonal() {\r\n            int[][] arr = new int[3][3];\r\n            //  System.out.println(Arrays.deepToString(arr));\r\n            for (int i = 0; i &lt; arr.length; i++) {\r\n                for (int j = 0; j &lt; arr[i].length; j++) {\r\n                    arr[i][i] = 1;\r\n                    arr[0][2] = 1;\r\n                    arr[2][0] = 1;\r\n                }\r\n            }\r\n            System.out.println(Arrays.deepToString(arr));\r\n        }\r\n\r\nIt&#39;s worked, but I need to change it from Hardcode values.\r\n    \r\n    arr[0][2] = 1;\r\n    arr[2][0] = 1;\r\n\r\nTo fill it with loop\r\n\r\nHow to achieve it?","title":"Fill diagonal elements of array with Numbers","body":"<p>I.ve got <code>2D array</code> amount of raws and columns are the same.</p>\n<p>I need to fill diagonal elements like this:</p>\n<pre><code>1 0 1\n0 1 0\n1 0 1\n</code></pre>\n<p>Here is my code:</p>\n<pre><code>   private static void fillDiagonal() {\n        int[][] arr = new int[3][3];\n        //  System.out.println(Arrays.deepToString(arr));\n        for (int i = 0; i &lt; arr.length; i++) {\n            for (int j = 0; j &lt; arr[i].length; j++) {\n                arr[i][i] = 1;\n                arr[0][2] = 1;\n                arr[2][0] = 1;\n            }\n        }\n        System.out.println(Arrays.deepToString(arr));\n    }\n</code></pre>\n<p>It's worked, but I need to change it from Hardcode values.</p>\n<pre><code>arr[0][2] = 1;\narr[2][0] = 1;\n</code></pre>\n<p>To fill it with loop</p>\n<p>How to achieve it?</p>\n"},{"tags":["java","overriding","super","late-binding"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1648163051,"post_id":71609572,"comment_id":126561939,"body_markdown":"Have you considered testing it for yourself?","body":"Have you considered testing it for yourself?"},{"owner":{"account_id":24677173,"reputation":31,"user_id":18571422,"display_name":"User_214534"},"score":0,"creation_date":1648187898,"post_id":71609572,"comment_id":126565814,"body_markdown":"How am I able to test it myself? I am interested in internal implementation. In which way I can see the internal implementation?","body":"How am I able to test it myself? I am interested in internal implementation. In which way I can see the internal implementation?"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648157287,"creation_date":1648157287,"answer_id":71609643,"question_id":71609572,"body_markdown":"No. And you can use `javap` (the decompiler tool which shows you bytecode) to check this. The dog class does not have a `makeSound` method at all.\r\n\r\nThe compiler sees the characters &quot;dog.makeSound()&quot; and knows what Animal.class and Dog.class look like - either because those are on the classpath, or those are in the same compilation run. The compiler itself therefore &#39;resolves&#39; what you mean with this. If either Dog or Animal is missing, the compiler will error out, telling you that you&#39;re missing a required class, and call it a day - no class file, making the rest moot.\r\n\r\nIn the class file format, method calls are __fully specced__. Their identity is based on a fully qualified class name _and_ the method name _and_ the exact types (without generics) of all parameters _and_ the return type. Only if all that is identical does the JVM consider it the same method. As far as the JVM is considered, the method in java code `&quot;foo&quot;.toLowerCase()` is named: &quot;java/lang/String::toLowerCase::()Ljava/lang/String;&quot;. A mouthful, fortunately, we program in java, and not in bytecode.\r\n\r\nThus, at the class level, your `&quot;dog.makeSound();&quot;` is compiled to something along the lines of:\r\n\r\n```\r\nINVOKEVIRTUAL com.foo.User214534sPackage.Animal :: makeSound :: ()V\r\n```\r\n\r\nand the JVM, when it sees this, checks what&#39;s top of stack (as this is an instance method, the &#39;receiver&#39; (the `dog.` part) is effectively the first parameter), checks what the _actual_ type is of the object that the variable is pointing at, figures out that it is `com.foo.User214534sPackage.domestics.Dog`, and checks if said class has a `makeSound` method defined. If it does, the JVM will actually invoke that (even though the INVOKEVIRTUAL call mentions only Animal.makeSound). If it does not, it&#39;ll check the parent type of Dog.. and will keep doing that until it gets to Animal which of course has a makeSound method (if it didn&#39;t, `javac` could not have produced the class file).\r\n","title":"Does child class internally call super of parent method?","body":"<p>No. And you can use <code>javap</code> (the decompiler tool which shows you bytecode) to check this. The dog class does not have a <code>makeSound</code> method at all.</p>\n<p>The compiler sees the characters &quot;dog.makeSound()&quot; and knows what Animal.class and Dog.class look like - either because those are on the classpath, or those are in the same compilation run. The compiler itself therefore 'resolves' what you mean with this. If either Dog or Animal is missing, the compiler will error out, telling you that you're missing a required class, and call it a day - no class file, making the rest moot.</p>\n<p>In the class file format, method calls are <strong>fully specced</strong>. Their identity is based on a fully qualified class name <em>and</em> the method name <em>and</em> the exact types (without generics) of all parameters <em>and</em> the return type. Only if all that is identical does the JVM consider it the same method. As far as the JVM is considered, the method in java code <code>&quot;foo&quot;.toLowerCase()</code> is named: &quot;java/lang/String::toLowerCase::()Ljava/lang/String;&quot;. A mouthful, fortunately, we program in java, and not in bytecode.</p>\n<p>Thus, at the class level, your <code>&quot;dog.makeSound();&quot;</code> is compiled to something along the lines of:</p>\n<pre><code>INVOKEVIRTUAL com.foo.User214534sPackage.Animal :: makeSound :: ()V\n</code></pre>\n<p>and the JVM, when it sees this, checks what's top of stack (as this is an instance method, the 'receiver' (the <code>dog.</code> part) is effectively the first parameter), checks what the <em>actual</em> type is of the object that the variable is pointing at, figures out that it is <code>com.foo.User214534sPackage.domestics.Dog</code>, and checks if said class has a <code>makeSound</code> method defined. If it does, the JVM will actually invoke that (even though the INVOKEVIRTUAL call mentions only Animal.makeSound). If it does not, it'll check the parent type of Dog.. and will keep doing that until it gets to Animal which of course has a makeSound method (if it didn't, <code>javac</code> could not have produced the class file).</p>\n"}],"owner":{"account_id":24677173,"reputation":31,"user_id":18571422,"display_name":"User_214534"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71609643,"answer_count":1,"score":0,"last_activity_date":1648157287,"creation_date":1648156898,"question_id":71609572,"body_markdown":"I have a small doubt regarding method overriding.\r\n\r\n    Animal animal = new Dog();\r\n    animal.makeSound();\r\n\r\nDog is the child class of Animal. `animal.makeSound()` will call dog object `makeSound()` because it&#39;s late binding. When we don&#39;t override `dog` it will call animal class `makeSound()`. But let&#39;s take this code.\r\n\r\n    Dog dog = new Dog();\r\n    dog.makeSound();\r\n\r\nIf the dog doesn&#39;t override the parent method, still it has parent method, which is normal in the case of inheritance. I just wondering about the internal implementation. Does the dog internally override the parent method and call super inside it like this?\r\n\r\n    @Override\r\n    public void makeSound() {\r\n        super.makeSound();\r\n    }\r\n\r\nThank you.","title":"Does child class internally call super of parent method?","body":"<p>I have a small doubt regarding method overriding.</p>\n<pre><code>Animal animal = new Dog();\nanimal.makeSound();\n</code></pre>\n<p>Dog is the child class of Animal. <code>animal.makeSound()</code> will call dog object <code>makeSound()</code> because it's late binding. When we don't override <code>dog</code> it will call animal class <code>makeSound()</code>. But let's take this code.</p>\n<pre><code>Dog dog = new Dog();\ndog.makeSound();\n</code></pre>\n<p>If the dog doesn't override the parent method, still it has parent method, which is normal in the case of inheritance. I just wondering about the internal implementation. Does the dog internally override the parent method and call super inside it like this?</p>\n<pre><code>@Override\npublic void makeSound() {\n    super.makeSound();\n}\n</code></pre>\n<p>Thank you.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":3,"creation_date":1648153754,"post_id":71608782,"comment_id":126559472,"body_markdown":"You *must* call `super.paintComponent(g);` when you override paintComponent.  Usually it should be the very first line in your paintComponent method.  See https://docs.oracle.com/javase/tutorial/uiswing/painting/.","body":"You <i>must</i> call <code>super.paintComponent(g);</code> when you override paintComponent.  Usually it should be the very first line in your paintComponent method.  See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/painting</a>."},{"owner":{"account_id":19474022,"reputation":11,"user_id":14245732,"display_name":"Zaen Nik"},"score":0,"creation_date":1648158035,"post_id":71608782,"comment_id":126560772,"body_markdown":"Hi so I&#39;ve tried to add that line and now it presented a new problem where the gui and sliders worked fine but now I have problem drawing. Whenever I left click it only shows a single circle. I&#39;ve added a screenshot to the post","body":"Hi so I&#39;ve tried to add that line and now it presented a new problem where the gui and sliders worked fine but now I have problem drawing. Whenever I left click it only shows a single circle. I&#39;ve added a screenshot to the post"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1648158250,"post_id":71608782,"comment_id":126560827,"body_markdown":"*&quot;Instead it only shows a single circle everytime I left click&quot;* - painting in Swing is destructive.  That is, every time `paintComponent` is called, you are expected to repaint the entire state, from scratch.  This means that you need to maintain some kind of model of what has preciously been painted and reapply it.  You could use a `BufferedImage`, but I prefer to use a model of some kind","body":"<i>&quot;Instead it only shows a single circle everytime I left click&quot;</i> - painting in Swing is destructive.  That is, every time <code>paintComponent</code> is called, you are expected to repaint the entire state, from scratch.  This means that you need to maintain some kind of model of what has preciously been painted and reapply it.  You could use a <code>BufferedImage</code>, but I prefer to use a model of some kind"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1648158770,"post_id":71608782,"comment_id":126560959,"body_markdown":"For [example](https://stackoverflow.com/questions/23966290/java-paint-not-drawing-in-swing/23966309#23966309); [example](https://stackoverflow.com/questions/23708522/calling-paintcomponent-with-parameters-using-repaint/23708548#23708548); [example](https://stackoverflow.com/questions/14764157/mouseevent-is-not-registering-a-release-when-i-release-the-mouse-button/14764264#14764264); [example](https://stackoverflow.com/questions/12683533/drawing-a-rectangle-that-wont-disappear-in-next-paint/12683601#12683601);","body":"For <a href=\"https://stackoverflow.com/questions/23966290/java-paint-not-drawing-in-swing/23966309#23966309\">example</a>; <a href=\"https://stackoverflow.com/questions/23708522/calling-paintcomponent-with-parameters-using-repaint/23708548#23708548\">example</a>; <a href=\"https://stackoverflow.com/questions/14764157/mouseevent-is-not-registering-a-release-when-i-release-the-mouse-button/14764264#14764264\">example</a>; <a href=\"https://stackoverflow.com/questions/12683533/drawing-a-rectangle-that-wont-disappear-in-next-paint/12683601#12683601\">example</a>;"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1648158884,"post_id":71608782,"comment_id":126560995,"body_markdown":"[example](https://stackoverflow.com/questions/35447533/why-are-drawn-lines-automatically-erased/35447699#35447699). All of this suggests to me that really should take the time to read through [Painting in AWT and Swing](https://www.oracle.com/java/technologies/painting.html) and [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) to get a better understanding of how painting actually works","body":"<a href=\"https://stackoverflow.com/questions/35447533/why-are-drawn-lines-automatically-erased/35447699#35447699\">example</a>. All of this suggests to me that really should take the time to read through <a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> to get a better understanding of how painting actually works"}],"owner":{"account_id":19474022,"reputation":11,"user_id":14245732,"display_name":"Zaen Nik"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648157231,"creation_date":1648152407,"question_id":71608782,"body_markdown":"so I&#39;ve been working on this drawing program using Java Swing and I&#39;ve separated the Drawing Frame and Drawing Panel into separate classes. \r\n\r\nI&#39;m not sure why but when I start drawing, it gets very glitchy and a duplicate JSlider appears at the top\r\n[![enter image description here][1]][1]\r\n\r\nTo make things more confusing, after I right click to select the colors and start drawing, a duplicate color selection screen appears at the top near the JSlider\r\n\r\n[![enter image description here][2]][2]\r\n\r\nFor reference, here are the codes of the program\r\n\r\n``` \r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\nimport javax.swing.event.*;\r\n\r\n\r\npublic class DrawingFrame extends JFrame{\r\n       private Point mousePnt=new Point();\r\n        public static Color penColor = new Color(0,0,0);\r\n        private JSlider penSize = new JSlider(JSlider.HORIZONTAL,1,30,4);\r\n        public static int pen = 4;\r\n \r\n            DrawingFrame() {\r\n                JPanel toolbar = new JPanel(new FlowLayout(FlowLayout.LEFT));\r\n                DrawingPanel jp = new DrawingPanel(); \r\n\t\ttoolbar.add(new Label(&quot;Drag mouse to draw&quot;));\r\n                toolbar.add(penSize);\r\n\t\tthis.add(toolbar,BorderLayout.SOUTH);\r\n                this.add(jp,BorderLayout.CENTER);\r\n             \r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                setSize(800,600);\r\n                setVisible(true);\r\n            }\r\n            \r\n        public static void main(String[] a){\r\n\t\tnew DrawingFrame();\r\n\t}\r\n        \r\n        public class DrawingPanel extends JPanel implements MouseMotionListener, MouseListener, ChangeListener {  \r\n\tpublic DrawingPanel(){\r\n                addMouseMotionListener(this);\r\n                addMouseListener(this);\r\n                penSize.addChangeListener(this);\r\n                setBackground(Color.white);\r\n\r\n\t}\r\n        \r\n        public void mouseMoved (MouseEvent me){\r\n            \r\n        }\r\n\t\r\n        public void mouseDragged(MouseEvent me) {\r\n                mousePnt = me.getPoint(); \r\n                repaint();\r\n        }\r\n        \r\n        public void mouseClicked(MouseEvent me) { \r\n            \r\n            if(me.getModifiers()== MouseEvent.BUTTON3_MASK){              \r\n                penColor = JColorChooser.showDialog(null,&quot;Change pen colour&quot;,penColor);\r\n            }      \r\n        }\r\n        public void mouseEntered(MouseEvent me) { \r\n        }\r\n        public void mouseExited(MouseEvent me) {   }\r\n        public void mousePressed(MouseEvent me) {         \r\n        }\r\n        public void mouseReleased(MouseEvent me) {   }\r\n\r\n        public void stateChanged(ChangeEvent e) {\r\n            JSlider source = (JSlider)e.getSource();\r\n            if (!source.getValueIsAdjusting()) {\r\n                pen = (int)source.getValue();\r\n            }\r\n\r\n            \r\n        }\r\n        \r\n        @Override\r\n       public void paintComponent(Graphics g){\r\n            //g.setStroke(new BasicStroke(pen));\r\n           \r\n            g.setColor(penColor);\r\n            g.fillOval(mousePnt.x,mousePnt.y,pen,pen);\r\n       }\r\n    \r\n}\r\n}\r\n``` \r\n\r\nFollowing the comments, I added super.paintComponent(g); under paintComponent\r\n``` \r\n @Override\r\n       public void paintComponent(Graphics g){\r\n            super.paintComponent(g);\r\n            g.setColor(penColor);\r\n            g.fillOval(mousePnt.x,mousePnt.y,pen,pen);\r\n       }\r\n``` \r\n\r\nHowever, this presented a new problem where the gui worked perfectly to change sizes and color but now nothing happens when I try to draw. Instead it only shows a single circle everytime I left click\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TwvH0.png\r\n  [2]: https://i.stack.imgur.com/thhJX.png\r\n  [3]: https://i.stack.imgur.com/1ng2I.png","title":"Java GUI making duplicate glitches","body":"<p>so I've been working on this drawing program using Java Swing and I've separated the Drawing Frame and Drawing Panel into separate classes.</p>\n<p>I'm not sure why but when I start drawing, it gets very glitchy and a duplicate JSlider appears at the top\n<a href=\"https://i.stack.imgur.com/TwvH0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TwvH0.png\" alt=\"enter image description here\" /></a></p>\n<p>To make things more confusing, after I right click to select the colors and start drawing, a duplicate color selection screen appears at the top near the JSlider</p>\n<p><a href=\"https://i.stack.imgur.com/thhJX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/thhJX.png\" alt=\"enter image description here\" /></a></p>\n<p>For reference, here are the codes of the program</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport javax.swing.event.*;\n\n\npublic class DrawingFrame extends JFrame{\n       private Point mousePnt=new Point();\n        public static Color penColor = new Color(0,0,0);\n        private JSlider penSize = new JSlider(JSlider.HORIZONTAL,1,30,4);\n        public static int pen = 4;\n \n            DrawingFrame() {\n                JPanel toolbar = new JPanel(new FlowLayout(FlowLayout.LEFT));\n                DrawingPanel jp = new DrawingPanel(); \n        toolbar.add(new Label(&quot;Drag mouse to draw&quot;));\n                toolbar.add(penSize);\n        this.add(toolbar,BorderLayout.SOUTH);\n                this.add(jp,BorderLayout.CENTER);\n             \n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                setSize(800,600);\n                setVisible(true);\n            }\n            \n        public static void main(String[] a){\n        new DrawingFrame();\n    }\n        \n        public class DrawingPanel extends JPanel implements MouseMotionListener, MouseListener, ChangeListener {  \n    public DrawingPanel(){\n                addMouseMotionListener(this);\n                addMouseListener(this);\n                penSize.addChangeListener(this);\n                setBackground(Color.white);\n\n    }\n        \n        public void mouseMoved (MouseEvent me){\n            \n        }\n    \n        public void mouseDragged(MouseEvent me) {\n                mousePnt = me.getPoint(); \n                repaint();\n        }\n        \n        public void mouseClicked(MouseEvent me) { \n            \n            if(me.getModifiers()== MouseEvent.BUTTON3_MASK){              \n                penColor = JColorChooser.showDialog(null,&quot;Change pen colour&quot;,penColor);\n            }      \n        }\n        public void mouseEntered(MouseEvent me) { \n        }\n        public void mouseExited(MouseEvent me) {   }\n        public void mousePressed(MouseEvent me) {         \n        }\n        public void mouseReleased(MouseEvent me) {   }\n\n        public void stateChanged(ChangeEvent e) {\n            JSlider source = (JSlider)e.getSource();\n            if (!source.getValueIsAdjusting()) {\n                pen = (int)source.getValue();\n            }\n\n            \n        }\n        \n        @Override\n       public void paintComponent(Graphics g){\n            //g.setStroke(new BasicStroke(pen));\n           \n            g.setColor(penColor);\n            g.fillOval(mousePnt.x,mousePnt.y,pen,pen);\n       }\n    \n}\n}\n</code></pre>\n<p>Following the comments, I added super.paintComponent(g); under paintComponent</p>\n<pre><code> @Override\n       public void paintComponent(Graphics g){\n            super.paintComponent(g);\n            g.setColor(penColor);\n            g.fillOval(mousePnt.x,mousePnt.y,pen,pen);\n       }\n</code></pre>\n<p>However, this presented a new problem where the gui worked perfectly to change sizes and color but now nothing happens when I try to draw. Instead it only shows a single circle everytime I left click</p>\n<p><a href=\"https://i.stack.imgur.com/1ng2I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1ng2I.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1648142372,"post_id":71606716,"comment_id":126555642,"body_markdown":"It has been years since I did anything in Swing, but I believe the problem is that you have overridden `paint(Graphics)`, which means the component doesn&#39;t draw itself properly. See also [Overriding the paint() method](https://stackoverflow.com/questions/34036540/overriding-the-paint-method)","body":"It has been years since I did anything in Swing, but I believe the problem is that you have overridden <code>paint(Graphics)</code>, which means the component doesn&#39;t draw itself properly. See also <a href=\"https://stackoverflow.com/questions/34036540/overriding-the-paint-method\">Overriding the paint() method</a>"},{"owner":{"account_id":19474022,"reputation":11,"user_id":14245732,"display_name":"Zaen Nik"},"score":0,"creation_date":1648148665,"post_id":71606716,"comment_id":126557837,"body_markdown":"I&#39;ve been trying to convert the paint into paintComponent as you said, but I&#39;m a bit stuck on how to do it. For now, I&#39;ve managed to make a separate public class painting extends JPanel just for the paintComponent but I think it&#39;s started another problem with the mouse listener","body":"I&#39;ve been trying to convert the paint into paintComponent as you said, but I&#39;m a bit stuck on how to do it. For now, I&#39;ve managed to make a separate public class painting extends JPanel just for the paintComponent but I think it&#39;s started another problem with the mouse listener"},{"owner":{"account_id":3901572,"reputation":85,"user_id":3229298,"accept_rate":60,"display_name":"ferzle"},"score":0,"creation_date":1648150784,"post_id":71606716,"comment_id":126558541,"body_markdown":"If you want to paint on part of your GUI, make that a separate JPanel. So subclass JPanel and override paint as you have done in that subclass, and then put that JPanel on CENTER of your main application. The paint stuff would all go there, and the mouse stuff would stay where it is.  I hope that makes sense.","body":"If you want to paint on part of your GUI, make that a separate JPanel. So subclass JPanel and override paint as you have done in that subclass, and then put that JPanel on CENTER of your main application. The paint stuff would all go there, and the mouse stuff would stay where it is.  I hope that makes sense."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1648151828,"post_id":71606716,"comment_id":126558872,"body_markdown":"*I&#39;ve been trying to convert the paint into paintComponent* - See [Custom Painting Approaches](https://tips4java.wordpress.com/2009/05/08/custom-painting-approaches/). It contains tutorials for you to read to learn basic painting along with working examples to get you started.","body":"<i>I&#39;ve been trying to convert the paint into paintComponent</i> - See <a href=\"https://tips4java.wordpress.com/2009/05/08/custom-painting-approaches/\" rel=\"nofollow noreferrer\">Custom Painting Approaches</a>. It contains tutorials for you to read to learn basic painting along with working examples to get you started."}],"owner":{"account_id":19474022,"reputation":11,"user_id":14245732,"display_name":"Zaen Nik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648156908,"creation_date":1648142025,"question_id":71606716,"body_markdown":"So I&#39;m making this drawing program using Java Swing where i can either draw normally or pick a shape and draw that.\r\n\r\nThis is how it looks like when I start the program\r\n[![This is how it looks like when I start the program][1]][1]\r\n\r\nThis is after I click on where the buttons are supposed to be\r\n[![enter image description here][2]][2]\r\n\r\nHere are the codes to the program. I&#39;m not sure why the buttons only appear after I click on them. Any ideas?\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\nimport javax.swing.event.*;\r\nimport java.lang.*;\r\n\r\npublic class DrawProgram extends JFrame implements MouseMotionListener, MouseListener, ChangeListener{\r\n    private Point mousePnt = new Point();\r\n    private Point mousePnt2 = new Point();\r\n    public static Color penColor = new Color(0,0,0);\r\n    private JSlider penSize = new JSlider(JSlider.HORIZONTAL,1,30,4);\r\n    public static int pen = 4;\r\n    private boolean toggle = false;\r\n    private int pointCounter = 1;\r\n    private int shape = 0;\r\n    JToggleButton rectangle;\r\n    JToggleButton circle;\r\n    JToggleButton triangle;\r\n    JToggleButton rhombus;\r\n    \r\n    public DrawProgram(){\r\n\tsuper(&quot;Painter&quot;);\r\n\tJPanel toolbar = new JPanel(new FlowLayout(FlowLayout.LEFT));\r\n        JPanel jp = new JPanel();\r\n        ImageIcon rectangleIcon = new ImageIcon(this.getClass().getResource(&quot;/images/rectangle_icon.png&quot;));\r\n        ImageIcon circleIcon = new ImageIcon(this.getClass().getResource(&quot;/images/circle_icon.png&quot;));\r\n        ImageIcon triangleIcon = new ImageIcon(this.getClass().getResource(&quot;/images/triangle_icon.png&quot;));\r\n        ImageIcon rhombusIcon = new ImageIcon(this.getClass().getResource(&quot;/images/rhombus_icon.png&quot;));\r\n        rectangle = new JToggleButton(rectangleIcon);\r\n        circle = new JToggleButton(circleIcon);\r\n        triangle = new JToggleButton(triangleIcon);\r\n        rhombus = new JToggleButton(rhombusIcon);\r\n        \r\n\ttoolbar.add(new Label(&quot;Drag mouse to draw&quot;));\r\n        toolbar.add(penSize);\r\n        toolbar.add(rectangle);\r\n        toolbar.add(circle);\r\n        toolbar.add(triangle);\r\n        toolbar.add(rhombus);\r\n        \r\n\tthis.add(toolbar,BorderLayout.SOUTH);\r\n        this.add(jp,BorderLayout.CENTER);\r\n        \r\n        rectangle.addItemListener(new rectangleItemListener());\r\n        circle.addItemListener(new circleItemListener());\r\n        triangle.addItemListener(new triangleItemListener());\r\n        rhombus.addItemListener(new rhombusItemListener());\r\n        jp.addMouseMotionListener(this);\r\n        jp.addMouseListener(this);\r\n        penSize.addChangeListener(this);\r\n\tsetSize(800,600);\r\n\tsetVisible(true);\r\n\tsetDefaultCloseOperation(EXIT_ON_CLOSE);\r\n    }\r\n    \r\n    public void mouseMoved(MouseEvent me){}\r\n\t\r\n    public void mouseDragged(MouseEvent me){\r\n        mousePnt = me.getPoint(); \r\n        repaint();\r\n    }\r\n    \r\n    public void mouseClicked(MouseEvent me){\r\n        if(me.getModifiers()== MouseEvent.BUTTON3_MASK){              \r\n            penColor = JColorChooser.showDialog(null,&quot;Change pen colour&quot;,penColor);\r\n        }\r\n        else if(me.getModifiers()== MouseEvent.BUTTON1_MASK){\r\n            if(toggle == true){\r\n                if(pointCounter == 1){\r\n                    mousePnt = me.getPoint();\r\n                    pointCounter = 2;\r\n                }\r\n                else{\r\n                    mousePnt2 = me.getPoint();\r\n                    pointCounter = 1;\r\n                    repaint();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    public void mouseEntered(MouseEvent me){}\r\n    public void mouseExited(MouseEvent me){}\r\n    public void mousePressed(MouseEvent me){}\r\n    public void mouseReleased(MouseEvent me){}\r\n\r\n    public void stateChanged(ChangeEvent e){\r\n        JSlider source = (JSlider)e.getSource();\r\n        if(!source.getValueIsAdjusting()){\r\n            pen = (int)source.getValue();\r\n        }    \r\n    }\r\n        \r\n    public void paint(Graphics g){\r\n        g.setColor(penColor);\r\n        \r\n        if(shape == 0)\r\n            g.fillOval(mousePnt.x+8,mousePnt.y+30,pen,pen);\r\n        else if(shape == 1)\r\n            paintRectangle(g);\r\n        else if(shape == 2)\r\n            paintCircle(g);\r\n        else if(shape == 3)\r\n            paintTriangle(g);\r\n        else\r\n            paintRhombus(g);\r\n    }\r\n    \r\n    public void paintRectangle(Graphics g){\r\n        if(mousePnt.x &lt;= mousePnt2.x &amp;&amp; mousePnt.y &lt;= mousePnt2.y)  // Up Left Corner\r\n            g.drawRect(mousePnt.x+8, mousePnt.y+30, Math.abs((mousePnt.x+8)-(mousePnt2.x+8)), Math.abs((mousePnt.y+30)-(mousePnt2.y+30)));\r\n        else if(mousePnt.x &lt;= mousePnt2.x &amp;&amp; mousePnt.y &gt;= mousePnt2.y) // Down Left Corner\r\n            g.drawRect(mousePnt.x+8, mousePnt2.y+30, Math.abs((mousePnt.x+8)-(mousePnt2.x+8)), Math.abs((mousePnt.y+30)-(mousePnt2.y+30)));\r\n        else if(mousePnt.x &gt;= mousePnt2.x &amp;&amp; mousePnt.y &lt;= mousePnt2.y) // Up Right Corner\r\n            g.drawRect(mousePnt2.x+8, mousePnt.y+30, Math.abs((mousePnt.x+8)-(mousePnt2.x+8)), Math.abs((mousePnt.y+30)-(mousePnt2.y+30)));\r\n        else // Down Right Corner\r\n            g.drawRect(mousePnt2.x+8, mousePnt2.y+30, Math.abs((mousePnt.x+8)-(mousePnt2.x+8)), Math.abs((mousePnt.y+30)-(mousePnt2.y+30)));\r\n    }\r\n    \r\n    public void paintCircle(Graphics g){\r\n        if(mousePnt.x &lt;= mousePnt2.x &amp;&amp; mousePnt.y &lt;= mousePnt2.y)  // Up Left Corner\r\n            g.drawOval(mousePnt.x+8, mousePnt.y+30, Math.abs((mousePnt.x+8)-(mousePnt2.x+8)), Math.abs((mousePnt.y+30)-(mousePnt2.y+30)));\r\n        else if(mousePnt.x &lt;= mousePnt2.x &amp;&amp; mousePnt.y &gt;= mousePnt2.y) // Down Left Corner\r\n            g.drawOval(mousePnt.x+8, mousePnt2.y+30, Math.abs((mousePnt.x+8)-(mousePnt2.x+8)), Math.abs((mousePnt.y+30)-(mousePnt2.y+30)));\r\n        else if(mousePnt.x &gt;= mousePnt2.x &amp;&amp; mousePnt.y &lt;= mousePnt2.y) // Up Right Corner\r\n            g.drawOval(mousePnt2.x+8, mousePnt.y+30, Math.abs((mousePnt.x+8)-(mousePnt2.x+8)), Math.abs((mousePnt.y+30)-(mousePnt2.y+30)));\r\n        else // Down Right Corner\r\n            g.drawOval(mousePnt2.x+8, mousePnt2.y+30, Math.abs((mousePnt.x+8)-(mousePnt2.x+8)), Math.abs((mousePnt.y+30)-(mousePnt2.y+30)));\r\n    }\r\n    \r\n    public void paintTriangle(Graphics g){\r\n        if(mousePnt.y &lt;= mousePnt2.y){\r\n            g.drawLine(mousePnt.x+8,mousePnt2.y+30,mousePnt2.x+8,mousePnt2.y+30);\r\n            g.drawLine(mousePnt.x+8,mousePnt2.y+30,(mousePnt.x+8+mousePnt2.x+8)/2,mousePnt.y+30);\r\n            g.drawLine(mousePnt2.x+8,mousePnt2.y+30,(mousePnt.x+8+mousePnt2.x+8)/2,mousePnt.y+30);\r\n        }\r\n        else{\r\n            g.drawLine(mousePnt.x+8,mousePnt.y+30,mousePnt2.x+8,mousePnt.y+30);\r\n            g.drawLine(mousePnt.x+8,mousePnt.y+30,(mousePnt.x+8+mousePnt2.x+8)/2,mousePnt2.y+30);\r\n            g.drawLine(mousePnt2.x+8,mousePnt.y+30,(mousePnt.x+8+mousePnt2.x+8)/2,mousePnt2.y+30);\r\n        }\r\n    }\r\n    \r\n    public void paintRhombus(Graphics g){\r\n        g.drawLine((mousePnt.x+8+mousePnt2.x+8)/2,mousePnt.y+30,mousePnt.x+8,(mousePnt.y+30+mousePnt2.y+30)/2);\r\n        g.drawLine((mousePnt.x+8+mousePnt2.x+8)/2,mousePnt.y+30,mousePnt2.x+8,(mousePnt.y+30+mousePnt2.y+30)/2);\r\n        g.drawLine((mousePnt.x+8+mousePnt2.x+8)/2,mousePnt2.y+30,mousePnt.x+8,(mousePnt.y+30+mousePnt2.y+30)/2);\r\n        g.drawLine((mousePnt.x+8+mousePnt2.x+8)/2,mousePnt2.y+30,mousePnt2.x+8,(mousePnt.y+30+mousePnt2.y+30)/2);\r\n    }\r\n    \r\n    public class rectangleItemListener implements ItemListener{\r\n        public void itemStateChanged(ItemEvent eve){\r\n            if(rectangle.isSelected()){\r\n                toggle = true;\r\n                shape = 1;\r\n            }\r\n            else{\r\n                toggle = false;\r\n                shape = 0;\r\n            }\r\n        }\r\n    }\r\n    \r\n    public class circleItemListener implements ItemListener{\r\n        public void itemStateChanged(ItemEvent eve){\r\n            if(circle.isSelected()){\r\n                toggle = true;\r\n                shape = 2;\r\n            }\r\n            else{\r\n                toggle = false;\r\n                shape = 0;\r\n            }\r\n        }\r\n    }\r\n    \r\n    public class triangleItemListener implements ItemListener{\r\n        public void itemStateChanged(ItemEvent eve){\r\n            if(triangle.isSelected()){\r\n                toggle = true;\r\n                shape = 3;\r\n            }\r\n            else{\r\n                toggle = false;\r\n                shape = 0;\r\n            }\r\n        }\r\n    }\r\n    \r\n    public class rhombusItemListener implements ItemListener{\r\n        public void itemStateChanged(ItemEvent eve){\r\n            if(rhombus.isSelected()){\r\n                toggle = true;\r\n                shape = 4;\r\n            }\r\n            else{\r\n                toggle = false;\r\n                shape = 0;\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main(String[] a){\r\n\tnew DrawProgram();\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uC95z.png\r\n  [2]: https://i.stack.imgur.com/A8uCn.png","title":"Why does the buttons only appear when I click on them?","body":"<p>So I'm making this drawing program using Java Swing where i can either draw normally or pick a shape and draw that.</p>\n<p>This is how it looks like when I start the program\n<a href=\"https://i.stack.imgur.com/uC95z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uC95z.png\" alt=\"This is how it looks like when I start the program\" /></a></p>\n<p>This is after I click on where the buttons are supposed to be\n<a href=\"https://i.stack.imgur.com/A8uCn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A8uCn.png\" alt=\"enter image description here\" /></a></p>\n<p>Here are the codes to the program. I'm not sure why the buttons only appear after I click on them. Any ideas?</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport javax.swing.event.*;\nimport java.lang.*;\n\npublic class DrawProgram extends JFrame implements MouseMotionListener, MouseListener, ChangeListener{\n    private Point mousePnt = new Point();\n    private Point mousePnt2 = new Point();\n    public static Color penColor = new Color(0,0,0);\n    private JSlider penSize = new JSlider(JSlider.HORIZONTAL,1,30,4);\n    public static int pen = 4;\n    private boolean toggle = false;\n    private int pointCounter = 1;\n    private int shape = 0;\n    JToggleButton rectangle;\n    JToggleButton circle;\n    JToggleButton triangle;\n    JToggleButton rhombus;\n    \n    public DrawProgram(){\n    super(&quot;Painter&quot;);\n    JPanel toolbar = new JPanel(new FlowLayout(FlowLayout.LEFT));\n        JPanel jp = new JPanel();\n        ImageIcon rectangleIcon = new ImageIcon(this.getClass().getResource(&quot;/images/rectangle_icon.png&quot;));\n        ImageIcon circleIcon = new ImageIcon(this.getClass().getResource(&quot;/images/circle_icon.png&quot;));\n        ImageIcon triangleIcon = new ImageIcon(this.getClass().getResource(&quot;/images/triangle_icon.png&quot;));\n        ImageIcon rhombusIcon = new ImageIcon(this.getClass().getResource(&quot;/images/rhombus_icon.png&quot;));\n        rectangle = new JToggleButton(rectangleIcon);\n        circle = new JToggleButton(circleIcon);\n        triangle = new JToggleButton(triangleIcon);\n        rhombus = new JToggleButton(rhombusIcon);\n        \n    toolbar.add(new Label(&quot;Drag mouse to draw&quot;));\n        toolbar.add(penSize);\n        toolbar.add(rectangle);\n        toolbar.add(circle);\n        toolbar.add(triangle);\n        toolbar.add(rhombus);\n        \n    this.add(toolbar,BorderLayout.SOUTH);\n        this.add(jp,BorderLayout.CENTER);\n        \n        rectangle.addItemListener(new rectangleItemListener());\n        circle.addItemListener(new circleItemListener());\n        triangle.addItemListener(new triangleItemListener());\n        rhombus.addItemListener(new rhombusItemListener());\n        jp.addMouseMotionListener(this);\n        jp.addMouseListener(this);\n        penSize.addChangeListener(this);\n    setSize(800,600);\n    setVisible(true);\n    setDefaultCloseOperation(EXIT_ON_CLOSE);\n    }\n    \n    public void mouseMoved(MouseEvent me){}\n    \n    public void mouseDragged(MouseEvent me){\n        mousePnt = me.getPoint(); \n        repaint();\n    }\n    \n    public void mouseClicked(MouseEvent me){\n        if(me.getModifiers()== MouseEvent.BUTTON3_MASK){              \n            penColor = JColorChooser.showDialog(null,&quot;Change pen colour&quot;,penColor);\n        }\n        else if(me.getModifiers()== MouseEvent.BUTTON1_MASK){\n            if(toggle == true){\n                if(pointCounter == 1){\n                    mousePnt = me.getPoint();\n                    pointCounter = 2;\n                }\n                else{\n                    mousePnt2 = me.getPoint();\n                    pointCounter = 1;\n                    repaint();\n                }\n            }\n        }\n    }\n    \n    public void mouseEntered(MouseEvent me){}\n    public void mouseExited(MouseEvent me){}\n    public void mousePressed(MouseEvent me){}\n    public void mouseReleased(MouseEvent me){}\n\n    public void stateChanged(ChangeEvent e){\n        JSlider source = (JSlider)e.getSource();\n        if(!source.getValueIsAdjusting()){\n            pen = (int)source.getValue();\n        }    \n    }\n        \n    public void paint(Graphics g){\n        g.setColor(penColor);\n        \n        if(shape == 0)\n            g.fillOval(mousePnt.x+8,mousePnt.y+30,pen,pen);\n        else if(shape == 1)\n            paintRectangle(g);\n        else if(shape == 2)\n            paintCircle(g);\n        else if(shape == 3)\n            paintTriangle(g);\n        else\n            paintRhombus(g);\n    }\n    \n    public void paintRectangle(Graphics g){\n        if(mousePnt.x &lt;= mousePnt2.x &amp;&amp; mousePnt.y &lt;= mousePnt2.y)  // Up Left Corner\n            g.drawRect(mousePnt.x+8, mousePnt.y+30, Math.abs((mousePnt.x+8)-(mousePnt2.x+8)), Math.abs((mousePnt.y+30)-(mousePnt2.y+30)));\n        else if(mousePnt.x &lt;= mousePnt2.x &amp;&amp; mousePnt.y &gt;= mousePnt2.y) // Down Left Corner\n            g.drawRect(mousePnt.x+8, mousePnt2.y+30, Math.abs((mousePnt.x+8)-(mousePnt2.x+8)), Math.abs((mousePnt.y+30)-(mousePnt2.y+30)));\n        else if(mousePnt.x &gt;= mousePnt2.x &amp;&amp; mousePnt.y &lt;= mousePnt2.y) // Up Right Corner\n            g.drawRect(mousePnt2.x+8, mousePnt.y+30, Math.abs((mousePnt.x+8)-(mousePnt2.x+8)), Math.abs((mousePnt.y+30)-(mousePnt2.y+30)));\n        else // Down Right Corner\n            g.drawRect(mousePnt2.x+8, mousePnt2.y+30, Math.abs((mousePnt.x+8)-(mousePnt2.x+8)), Math.abs((mousePnt.y+30)-(mousePnt2.y+30)));\n    }\n    \n    public void paintCircle(Graphics g){\n        if(mousePnt.x &lt;= mousePnt2.x &amp;&amp; mousePnt.y &lt;= mousePnt2.y)  // Up Left Corner\n            g.drawOval(mousePnt.x+8, mousePnt.y+30, Math.abs((mousePnt.x+8)-(mousePnt2.x+8)), Math.abs((mousePnt.y+30)-(mousePnt2.y+30)));\n        else if(mousePnt.x &lt;= mousePnt2.x &amp;&amp; mousePnt.y &gt;= mousePnt2.y) // Down Left Corner\n            g.drawOval(mousePnt.x+8, mousePnt2.y+30, Math.abs((mousePnt.x+8)-(mousePnt2.x+8)), Math.abs((mousePnt.y+30)-(mousePnt2.y+30)));\n        else if(mousePnt.x &gt;= mousePnt2.x &amp;&amp; mousePnt.y &lt;= mousePnt2.y) // Up Right Corner\n            g.drawOval(mousePnt2.x+8, mousePnt.y+30, Math.abs((mousePnt.x+8)-(mousePnt2.x+8)), Math.abs((mousePnt.y+30)-(mousePnt2.y+30)));\n        else // Down Right Corner\n            g.drawOval(mousePnt2.x+8, mousePnt2.y+30, Math.abs((mousePnt.x+8)-(mousePnt2.x+8)), Math.abs((mousePnt.y+30)-(mousePnt2.y+30)));\n    }\n    \n    public void paintTriangle(Graphics g){\n        if(mousePnt.y &lt;= mousePnt2.y){\n            g.drawLine(mousePnt.x+8,mousePnt2.y+30,mousePnt2.x+8,mousePnt2.y+30);\n            g.drawLine(mousePnt.x+8,mousePnt2.y+30,(mousePnt.x+8+mousePnt2.x+8)/2,mousePnt.y+30);\n            g.drawLine(mousePnt2.x+8,mousePnt2.y+30,(mousePnt.x+8+mousePnt2.x+8)/2,mousePnt.y+30);\n        }\n        else{\n            g.drawLine(mousePnt.x+8,mousePnt.y+30,mousePnt2.x+8,mousePnt.y+30);\n            g.drawLine(mousePnt.x+8,mousePnt.y+30,(mousePnt.x+8+mousePnt2.x+8)/2,mousePnt2.y+30);\n            g.drawLine(mousePnt2.x+8,mousePnt.y+30,(mousePnt.x+8+mousePnt2.x+8)/2,mousePnt2.y+30);\n        }\n    }\n    \n    public void paintRhombus(Graphics g){\n        g.drawLine((mousePnt.x+8+mousePnt2.x+8)/2,mousePnt.y+30,mousePnt.x+8,(mousePnt.y+30+mousePnt2.y+30)/2);\n        g.drawLine((mousePnt.x+8+mousePnt2.x+8)/2,mousePnt.y+30,mousePnt2.x+8,(mousePnt.y+30+mousePnt2.y+30)/2);\n        g.drawLine((mousePnt.x+8+mousePnt2.x+8)/2,mousePnt2.y+30,mousePnt.x+8,(mousePnt.y+30+mousePnt2.y+30)/2);\n        g.drawLine((mousePnt.x+8+mousePnt2.x+8)/2,mousePnt2.y+30,mousePnt2.x+8,(mousePnt.y+30+mousePnt2.y+30)/2);\n    }\n    \n    public class rectangleItemListener implements ItemListener{\n        public void itemStateChanged(ItemEvent eve){\n            if(rectangle.isSelected()){\n                toggle = true;\n                shape = 1;\n            }\n            else{\n                toggle = false;\n                shape = 0;\n            }\n        }\n    }\n    \n    public class circleItemListener implements ItemListener{\n        public void itemStateChanged(ItemEvent eve){\n            if(circle.isSelected()){\n                toggle = true;\n                shape = 2;\n            }\n            else{\n                toggle = false;\n                shape = 0;\n            }\n        }\n    }\n    \n    public class triangleItemListener implements ItemListener{\n        public void itemStateChanged(ItemEvent eve){\n            if(triangle.isSelected()){\n                toggle = true;\n                shape = 3;\n            }\n            else{\n                toggle = false;\n                shape = 0;\n            }\n        }\n    }\n    \n    public class rhombusItemListener implements ItemListener{\n        public void itemStateChanged(ItemEvent eve){\n            if(rhombus.isSelected()){\n                toggle = true;\n                shape = 4;\n            }\n            else{\n                toggle = false;\n                shape = 0;\n            }\n        }\n    }\n\n    public static void main(String[] a){\n    new DrawProgram();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","jsp"],"answers":[{"tags":[],"owner":{"account_id":24332746,"reputation":1,"user_id":18271346,"display_name":"Dylan Gaston"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648156541,"creation_date":1648156541,"answer_id":71609503,"question_id":71608540,"body_markdown":"SOLVED!\r\n\r\nI had to add this code to the Application. No clue what the @Componentscan and @Override methods actually do though. Any explanation would be great. Haha\r\n\r\n```\r\n@SpringBootApplication\r\n@ComponentScan(basePackages=&quot;com.project&quot;)\r\npublic class CarAppApplication extends SpringBootServletInitializer{\r\n\r\n\t@Override\r\n\tprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n\t\treturn application.sources(CarAppApplication.class);\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(CarAppApplication.class, args);\r\n\t}\r\n```","title":"JSP files won&#39;t link","body":"<p>SOLVED!</p>\n<p>I had to add this code to the Application. No clue what the @Componentscan and @Override methods actually do though. Any explanation would be great. Haha</p>\n<pre><code>@SpringBootApplication\n@ComponentScan(basePackages=&quot;com.project&quot;)\npublic class CarAppApplication extends SpringBootServletInitializer{\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(CarAppApplication.class);\n    }\n    \n    public static void main(String[] args) {\n        SpringApplication.run(CarAppApplication.class, args);\n    }\n</code></pre>\n"}],"owner":{"account_id":24332746,"reputation":1,"user_id":18271346,"display_name":"Dylan Gaston"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648156541,"creation_date":1648151120,"question_id":71608540,"body_markdown":"I have 2 JSP files in the same folder. src/main/webapp/WEB-INF/jsp.\r\n\r\nI&#39;m trying to link the two pages together on a local host, it will read my index page, but will not link to my add-inventory jsp.\r\n\r\n\r\nController: \r\n```\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.ModelAttribute;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.servlet.ModelAndView;\r\n\r\n\r\nimport com.project.domain.Vehicle;\r\nimport com.project.service.VehicleService;\r\n\r\n@Controller\r\npublic class VehicleController {\r\n\t\r\n\t@Autowired\r\n\tVehicleService vehicleService;\r\n\r\n\t@GetMapping(&quot;/&quot;)\r\n\tpublic String welcome(Model model) {\r\n\t\treturn &quot;index&quot;;\r\n\t\t\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;/add-inventory&quot;)\r\n\tpublic ModelAndView addInventory(Model model) {\r\n\t\treturn new ModelAndView(&quot;add-inventory&quot;, &quot;vehicle&quot;, new Vehicle());\r\n\t}\r\n\t\r\n\t@PostMapping(&quot;/add-inventory&quot;)\r\n\tpublic String handleAddInventory(Model model, @ModelAttribute(&quot;vehicle&quot;) Vehicle vehicle, HttpSession session) {\r\n\t\tvehicleService.saveVehicle(vehicle);\r\n\t\tmodel.addAttribute(&quot;newvehicle&quot;, vehicle);\r\n\t\treturn &quot;index&quot;;\r\n}\r\n}\r\n\r\n```\r\n\r\nindex file:\r\n```&lt;%@ taglib prefix=&quot;form&quot; uri=&quot;http://www.springframework.org/tags/form&quot;%&gt;\r\n&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot;%&gt;\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\r\n    pageEncoding=&quot;UTF-8&quot;%&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta charset=&quot;UTF-8&quot;&gt;\r\n&lt;title&gt;Home&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\nHello World\r\n\r\n&lt;a href=&quot;/add-inventory&quot;&gt;Add Inventory&lt;/a&gt; &lt;br&gt;\r\n\r\n\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nadd-inventory file:\r\nadd-inventory file:\r\n\r\n```&lt;%@ taglib prefix=&quot;form&quot; uri=&quot;http://www.springframework.org/tags/form&quot;%&gt;\r\n&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot;%&gt;\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\r\n    pageEncoding=&quot;UTF-8&quot;%&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta charset=&quot;UTF-8&quot;&gt;\r\n&lt;title&gt;Add Cars&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\nWhy is this not working\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt; \r\n```\r\nI&#39;ve tried changing the method to return a string like this and it does not work either. \r\n```\r\n@GetMapping(&quot;/add-inventory&quot;)\r\n\tpublic String welcome(Model model) {\r\n\t\treturn &quot;add-inventory&quot;;\r\n```\r\n\r\ndependencies:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.project&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;carApp&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;carApp&lt;/name&gt;\r\n\t&lt;description&gt;Claim Academy&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- hot swapping, disable cache for template, enable live reload --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n[Error image of jsp page][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0uoXK.png","title":"JSP files won&#39;t link","body":"<p>I have 2 JSP files in the same folder. src/main/webapp/WEB-INF/jsp.</p>\n<p>I'm trying to link the two pages together on a local host, it will read my index page, but will not link to my add-inventory jsp.</p>\n<p>Controller:</p>\n<pre><code>\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.servlet.ModelAndView;\n\n\nimport com.project.domain.Vehicle;\nimport com.project.service.VehicleService;\n\n@Controller\npublic class VehicleController {\n    \n    @Autowired\n    VehicleService vehicleService;\n\n    @GetMapping(&quot;/&quot;)\n    public String welcome(Model model) {\n        return &quot;index&quot;;\n        \n    }\n    \n    @GetMapping(&quot;/add-inventory&quot;)\n    public ModelAndView addInventory(Model model) {\n        return new ModelAndView(&quot;add-inventory&quot;, &quot;vehicle&quot;, new Vehicle());\n    }\n    \n    @PostMapping(&quot;/add-inventory&quot;)\n    public String handleAddInventory(Model model, @ModelAttribute(&quot;vehicle&quot;) Vehicle vehicle, HttpSession session) {\n        vehicleService.saveVehicle(vehicle);\n        model.addAttribute(&quot;newvehicle&quot;, vehicle);\n        return &quot;index&quot;;\n}\n}\n\n</code></pre>\n<p>index file:</p>\n<pre><code>&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot;%&gt;\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\n    pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;UTF-8&quot;&gt;\n&lt;title&gt;Home&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\nHello World\n\n&lt;a href=&quot;/add-inventory&quot;&gt;Add Inventory&lt;/a&gt; &lt;br&gt;\n\n\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>add-inventory file:\nadd-inventory file:</p>\n<pre><code>&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot;%&gt;\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\n    pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;UTF-8&quot;&gt;\n&lt;title&gt;Add Cars&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\nWhy is this not working\n\n&lt;/body&gt;\n&lt;/html&gt; \n</code></pre>\n<p>I've tried changing the method to return a string like this and it does not work either.</p>\n<pre><code>@GetMapping(&quot;/add-inventory&quot;)\n    public String welcome(Model model) {\n        return &quot;add-inventory&quot;;\n</code></pre>\n<p>dependencies:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.project&lt;/groupId&gt;\n    &lt;artifactId&gt;carApp&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;carApp&lt;/name&gt;\n    &lt;description&gt;Claim Academy&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- hot swapping, disable cache for template, enable live reload --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/0uoXK.png\" rel=\"nofollow noreferrer\">Error image of jsp page</a></p>\n"},{"tags":["java","interface","private-methods","spotbugs"],"comments":[{"owner":{"account_id":227916,"reputation":2970,"user_id":489872,"accept_rate":86,"display_name":"ave4496"},"score":0,"creation_date":1643397008,"post_id":70898918,"comment_id":125337971,"body_markdown":"this exact interface works for me","body":"this exact interface works for me"},{"owner":{"account_id":14179476,"reputation":2663,"user_id":10243634,"display_name":"Oboe"},"score":0,"creation_date":1643400636,"post_id":70898918,"comment_id":125339079,"body_markdown":"@ave4496 It works, but *Spotbugs* reports a bug.","body":"@ave4496 It works, but <i>Spotbugs</i> reports a bug."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643476216,"creation_date":1643476216,"answer_id":70907834,"question_id":70898918,"body_markdown":"Spotbugs 4.5.3 reports this as &quot;low priority&quot; bug.\r\n\r\nIMHO you have basically two options:\r\n\r\n* report it to the Spotbugs project as issue (https://github.com/spotbugs/spotbugs/issues)\r\n* tell Spotbugs to ignore the problem:\r\n  * either annotate the method with `@SuppressFBWarnings(&quot;UPM&quot;)`\r\n  * or use a filter file (https://spotbugs.readthedocs.io/en/stable/filter.html) \r\n\r\nThe solution with the annotation is probably easier to implement but clutters your source code.\r\n\r\nThe solution with the filter file might be harder to implement (if you do not use a filter file already) and the connection between the actual code and the filter might get lost, but your source code is not cluttered with annotations just to mute a noisy tool.","title":"Uncalled private method in an interface","body":"<p>Spotbugs 4.5.3 reports this as &quot;low priority&quot; bug.</p>\n<p>IMHO you have basically two options:</p>\n<ul>\n<li>report it to the Spotbugs project as issue (<a href=\"https://github.com/spotbugs/spotbugs/issues\" rel=\"nofollow noreferrer\">https://github.com/spotbugs/spotbugs/issues</a>)</li>\n<li>tell Spotbugs to ignore the problem:\n<ul>\n<li>either annotate the method with <code>@SuppressFBWarnings(&quot;UPM&quot;)</code></li>\n<li>or use a filter file (<a href=\"https://spotbugs.readthedocs.io/en/stable/filter.html\" rel=\"nofollow noreferrer\">https://spotbugs.readthedocs.io/en/stable/filter.html</a>)</li>\n</ul>\n</li>\n</ul>\n<p>The solution with the annotation is probably easier to implement but clutters your source code.</p>\n<p>The solution with the filter file might be harder to implement (if you do not use a filter file already) and the connection between the actual code and the filter might get lost, but your source code is not cluttered with annotations just to mute a noisy tool.</p>\n"}],"owner":{"account_id":14179476,"reputation":2663,"user_id":10243634,"display_name":"Oboe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":603,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70907834,"answer_count":1,"score":0,"last_activity_date":1648156313,"creation_date":1643396318,"question_id":70898918,"body_markdown":"I have an `interface` with a `default` method and a `private` method, where the `private` method is called from the `default` method. \r\n\r\nWhen running [Spotbugs][1], it issues an error that the `private` method is never called: [UPM_UNCALLED_PRIVATE_METHOD][2].\r\n\r\n    public interface Foo {\r\n    \r\n    \tdefault boolean foo(int value1, int value2) {\r\n    \t\treturn bar(value1 + value2);\r\n    \t}\r\n    \r\n    \tprivate boolean bar(int value) {\r\n    \t\treturn value == 0;\r\n    \t}\r\n    \r\n    }\r\n\r\nI&#39;m doing something wrong or it&#39;s a [Spotbugs][1] issue?\r\n\r\n*Note 1:* When modifying the private method to `static`, it doesn&#39;t report the error.\r\n\r\n*Note 2:* I&#39;ve seen similar issues reported, but all are closed and related to `class` instead of `interface`.\r\n\r\n---\r\n**UPDATE**\r\n\r\nA similar issue was recently reported on Github ([#1988][3]), but hasn&#39;t been solved yet.\r\n\r\n\r\n  [1]: https://spotbugs.readthedocs.io/en/stable/index.html\r\n  [2]: https://spotbugs.readthedocs.io/en/stable/bugDescriptions.html#upm-private-method-is-never-called-upm-uncalled-private-method\r\n  [3]: https://github.com/spotbugs/spotbugs/issues/1988","title":"Uncalled private method in an interface","body":"<p>I have an <code>interface</code> with a <code>default</code> method and a <code>private</code> method, where the <code>private</code> method is called from the <code>default</code> method.</p>\n<p>When running <a href=\"https://spotbugs.readthedocs.io/en/stable/index.html\" rel=\"nofollow noreferrer\">Spotbugs</a>, it issues an error that the <code>private</code> method is never called: <a href=\"https://spotbugs.readthedocs.io/en/stable/bugDescriptions.html#upm-private-method-is-never-called-upm-uncalled-private-method\" rel=\"nofollow noreferrer\">UPM_UNCALLED_PRIVATE_METHOD</a>.</p>\n<pre><code>public interface Foo {\n\n    default boolean foo(int value1, int value2) {\n        return bar(value1 + value2);\n    }\n\n    private boolean bar(int value) {\n        return value == 0;\n    }\n\n}\n</code></pre>\n<p>I'm doing something wrong or it's a <a href=\"https://spotbugs.readthedocs.io/en/stable/index.html\" rel=\"nofollow noreferrer\">Spotbugs</a> issue?</p>\n<p><em>Note 1:</em> When modifying the private method to <code>static</code>, it doesn't report the error.</p>\n<p><em>Note 2:</em> I've seen similar issues reported, but all are closed and related to <code>class</code> instead of <code>interface</code>.</p>\n<hr />\n<p><strong>UPDATE</strong></p>\n<p>A similar issue was recently reported on Github (<a href=\"https://github.com/spotbugs/spotbugs/issues/1988\" rel=\"nofollow noreferrer\">#1988</a>), but hasn't been solved yet.</p>\n"},{"tags":["java","javafx","fxml"],"comments":[{"owner":{"account_id":7122736,"reputation":26890,"user_id":5446749,"accept_rate":80,"display_name":"vvvvv"},"score":3,"creation_date":1648156287,"post_id":71609344,"comment_id":126560301,"body_markdown":"Post your edit as an answer instead of an edit to your question!","body":"Post your edit as an answer instead of an edit to your question!"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1648159926,"post_id":71609344,"comment_id":126561253,"body_markdown":"15 reputation is required to [self-answer](https://stackoverflow.com/help/self-answer).  To allow a self-answer will require another upvote of the question.","body":"15 reputation is required to <a href=\"https://stackoverflow.com/help/self-answer\">self-answer</a>.  To allow a self-answer will require another upvote of the question."}],"owner":{"account_id":20203987,"reputation":29,"user_id":14818943,"display_name":"kyleryan1291"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1648156172,"creation_date":1648155473,"question_id":71609344,"body_markdown":"I&#39;m trying to implement a bar chart in JavaFX, but for some reason the data (bars of the chart) is not displaying when I run the application. The chart is set using fxml but the data is set with Java code. When the application runs all I see is the bare chart. How cna I get the bars to show in the chart?\r\n\r\nCode:\r\n```java\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class HelloApplication extends Application {\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;HelloView.fxml&quot;));\r\n        Scene scene = new Scene(fxmlLoader.load());\r\n        stage.setTitle(&quot;Hello!&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\nData class:\r\n```java\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.chart.BarChart;\r\nimport javafx.scene.chart.CategoryAxis;\r\nimport javafx.scene.chart.NumberAxis;\r\nimport javafx.scene.chart.XYChart;\r\nimport javafx.scene.layout.AnchorPane;\r\n\r\nimport java.net.URL;\r\nimport java.util.ResourceBundle;\r\n\r\npublic class HelloController implements Initializable {\r\n    final static String austria = &quot;Austria&quot;;\r\n    final static String brazil = &quot;Brazil&quot;;\r\n    final static String france = &quot;France&quot;;\r\n    final static String italy = &quot;Italy&quot;;\r\n    final static String usa = &quot;USA&quot;;\r\n\r\n    @FXML\r\n    private AnchorPane anchorPane;\r\n\r\n    @FXML\r\n    private CategoryAxis countries;\r\n\r\n    @FXML\r\n    private NumberAxis values;\r\n\r\n    @FXML\r\n    private BarChart&lt;String, Integer&gt; barChart;\r\n\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {\r\n        XYChart.Series&lt;String, Integer&gt; series1 = new XYChart.Series&lt;&gt;();\r\n        XYChart.Series&lt;String, Integer&gt; series2 = new XYChart.Series&lt;&gt;();\r\n\r\n        countries.setLabel(&quot;Countries&quot;);\r\n        values.setLabel(&quot;Value&quot;);\r\n\r\n        series1.getData().add(new XYChart.Data&lt;&gt;(&quot;Austria&quot;, 50984));\r\n        series1.getData().add(new XYChart.Data&lt;&gt;(&quot;Germany&quot;, 50984));\r\n        series1.getData().add(new XYChart.Data&lt;&gt;(&quot;United Kingdom&quot;, 50984));\r\n        series1.getData().add(new XYChart.Data&lt;&gt;(&quot;Greece&quot;, 50984));\r\n        series1.getData().add(new XYChart.Data&lt;&gt;(&quot;France&quot;, 50984));\r\n\r\n        series2.getData().add(new XYChart.Data&lt;&gt;(&quot;Austria&quot;, 50984));\r\n        series2.getData().add(new XYChart.Data&lt;&gt;(&quot;Germany&quot;, 50984));\r\n        series2.getData().add(new XYChart.Data&lt;&gt;(&quot;United Kingdom&quot;, 50984));\r\n        series2.getData().add(new XYChart.Data&lt;&gt;(&quot;Greece&quot;, 50984));\r\n        series2.getData().add(new XYChart.Data&lt;&gt;(&quot;France&quot;, 50984));\r\n\r\n        barChart.getData().addAll(series1, series2);\r\n\r\n        System.out.println(&quot;Inside initialize&quot;);\r\n    }\r\n}\r\n```\r\n\r\nThis is the output:\r\n[output][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tzSqK.png\r\n\r\n\r\n**EDIT**\r\nI figured out the answer:\r\nI never added fx:controller tag pointing to Java controller class to my fxml file.","title":"Bars not showing in bar chart JavaFX","body":"<p>I'm trying to implement a bar chart in JavaFX, but for some reason the data (bars of the chart) is not displaying when I run the application. The chart is set using fxml but the data is set with Java code. When the application runs all I see is the bare chart. How cna I get the bars to show in the chart?</p>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;HelloView.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load());\n        stage.setTitle(&quot;Hello!&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>Data class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.chart.BarChart;\nimport javafx.scene.chart.CategoryAxis;\nimport javafx.scene.chart.NumberAxis;\nimport javafx.scene.chart.XYChart;\nimport javafx.scene.layout.AnchorPane;\n\nimport java.net.URL;\nimport java.util.ResourceBundle;\n\npublic class HelloController implements Initializable {\n    final static String austria = &quot;Austria&quot;;\n    final static String brazil = &quot;Brazil&quot;;\n    final static String france = &quot;France&quot;;\n    final static String italy = &quot;Italy&quot;;\n    final static String usa = &quot;USA&quot;;\n\n    @FXML\n    private AnchorPane anchorPane;\n\n    @FXML\n    private CategoryAxis countries;\n\n    @FXML\n    private NumberAxis values;\n\n    @FXML\n    private BarChart&lt;String, Integer&gt; barChart;\n\n\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n        XYChart.Series&lt;String, Integer&gt; series1 = new XYChart.Series&lt;&gt;();\n        XYChart.Series&lt;String, Integer&gt; series2 = new XYChart.Series&lt;&gt;();\n\n        countries.setLabel(&quot;Countries&quot;);\n        values.setLabel(&quot;Value&quot;);\n\n        series1.getData().add(new XYChart.Data&lt;&gt;(&quot;Austria&quot;, 50984));\n        series1.getData().add(new XYChart.Data&lt;&gt;(&quot;Germany&quot;, 50984));\n        series1.getData().add(new XYChart.Data&lt;&gt;(&quot;United Kingdom&quot;, 50984));\n        series1.getData().add(new XYChart.Data&lt;&gt;(&quot;Greece&quot;, 50984));\n        series1.getData().add(new XYChart.Data&lt;&gt;(&quot;France&quot;, 50984));\n\n        series2.getData().add(new XYChart.Data&lt;&gt;(&quot;Austria&quot;, 50984));\n        series2.getData().add(new XYChart.Data&lt;&gt;(&quot;Germany&quot;, 50984));\n        series2.getData().add(new XYChart.Data&lt;&gt;(&quot;United Kingdom&quot;, 50984));\n        series2.getData().add(new XYChart.Data&lt;&gt;(&quot;Greece&quot;, 50984));\n        series2.getData().add(new XYChart.Data&lt;&gt;(&quot;France&quot;, 50984));\n\n        barChart.getData().addAll(series1, series2);\n\n        System.out.println(&quot;Inside initialize&quot;);\n    }\n}\n</code></pre>\n<p>This is the output:\n<a href=\"https://i.stack.imgur.com/tzSqK.png\" rel=\"nofollow noreferrer\">output</a></p>\n<p><strong>EDIT</strong>\nI figured out the answer:\nI never added fx:controller tag pointing to Java controller class to my fxml file.</p>\n"},{"tags":["java","pdf","digital-signature","openpdf"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1648164448,"post_id":71609392,"comment_id":126562213,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":15029463,"reputation":332,"user_id":10848072,"display_name":"saurabh kumar"},"score":0,"creation_date":1699416540,"post_id":71609392,"comment_id":136527548,"body_markdown":"My guess is that the pdf does get signed, its just not visible. Have you tried opening it with Acrobat reader and checking if the sign is added.","body":"My guess is that the pdf does get signed, its just not visible. Have you tried opening it with Acrobat reader and checking if the sign is added."}],"owner":{"account_id":24678484,"reputation":11,"user_id":18572548,"display_name":"Deepthi KV"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1115,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648155802,"creation_date":1648155802,"question_id":71609392,"body_markdown":"Could anyone provide a example of how to add digital signature to PDF using openPDF.\r\nI have looked at the openPDF gitHUb link https://github.com/LibrePDF/OpenPDF/wiki/Signing\r\nand tried to use what is avilable in PdfSignatureAppreanceTest, but i dont see the PDF modified with the signature. \r\n","title":"Add Digital signature to PDF using openPDF","body":"<p>Could anyone provide a example of how to add digital signature to PDF using openPDF.\nI have looked at the openPDF gitHUb link <a href=\"https://github.com/LibrePDF/OpenPDF/wiki/Signing\" rel=\"nofollow noreferrer\">https://github.com/LibrePDF/OpenPDF/wiki/Signing</a>\nand tried to use what is avilable in PdfSignatureAppreanceTest, but i dont see the PDF modified with the signature.</p>\n"},{"tags":["java","redis","iteration","jedis"],"comments":[{"owner":{"account_id":1099357,"reputation":47932,"user_id":3160475,"display_name":"Itamar Haber"},"score":2,"creation_date":1448103259,"post_id":33842026,"comment_id":55449471,"body_markdown":"Try looking in Jedis&#39; sources, specifically the tests - they usually give a clue: https://github.com/xetorthio/jedis/blob/master/src/test/java/redis/clients/jedis/tests/commands/HashesCommandsTest.java#L339","body":"Try looking in Jedis&#39; sources, specifically the tests - they usually give a clue: <a href=\"https://github.com/xetorthio/jedis/blob/master/src/test/java/redis/clients/jedis/tests/commands/HashesCommandsTest.java#L339\" rel=\"nofollow noreferrer\">github.com/xetorthio/jedis/blob/master/src/test/java/redis/&hellip;</a>"},{"owner":{"account_id":2570317,"reputation":11557,"user_id":2229229,"accept_rate":76,"display_name":"luksch"},"score":0,"creation_date":1448106974,"post_id":33842026,"comment_id":55450458,"body_markdown":"thank you for that pointer. However, the tests do not seem to really iterate over a hash. I can see only one call to hscan for example. I am still missing the concept of the current cursor as String.","body":"thank you for that pointer. However, the tests do not seem to really iterate over a hash. I can see only one call to hscan for example. I am still missing the concept of the current cursor as String."}],"answers":[{"tags":[],"owner":{"account_id":2570317,"reputation":11557,"user_id":2229229,"accept_rate":76,"display_name":"luksch"},"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1550876365,"creation_date":1448304741,"answer_id":33878416,"question_id":33842026,"body_markdown":"In the good tradition of answering own questions, here is what I found out:\r\n\r\n```java\r\nString key = &quot;THEKEY&quot;;\r\nScanParams scanParams = new ScanParams().count(100);\r\nString cur = redis.clients.jedis.ScanParams.SCAN_POINTER_START; \r\nboolean cycleIsFinished = false;\r\nwhile(!cycleIsFinished) {\r\n  ScanResult&lt;Entry&lt;String, String&gt;&gt; scanResult = \r\n        jedis.hscan(key, cur, scanParams);\r\n  List&lt;Entry&lt;String, String&gt;&gt; result = scanResult.getResult();\r\n  \r\n  //do whatever with the key-value pairs in result\r\n\r\n  cur = scanResult.getStringCursor();\r\n  if (cur.equals(&quot;0&quot;)) {\r\n    cycleIsFinished = true;\r\n  }                 \r\n}\r\n```\r\n\r\nThe important part is that cur is a String variable and it is `&quot;0&quot;` if the scan is complete.\r\n\r\nWith the help of ScanParams I was able to define the approximate size of each chunk to get from the hash. Approximate, because the hash might change during the scan, so it may be that an element is returned twice in the loop. ","title":"How to use SCAN commands in Jedis","body":"<p>In the good tradition of answering own questions, here is what I found out:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String key = \"THEKEY\";\nScanParams scanParams = new ScanParams().count(100);\nString cur = redis.clients.jedis.ScanParams.SCAN_POINTER_START; \nboolean cycleIsFinished = false;\nwhile(!cycleIsFinished) {\n  ScanResult&lt;Entry&lt;String, String&gt;&gt; scanResult = \n        jedis.hscan(key, cur, scanParams);\n  List&lt;Entry&lt;String, String&gt;&gt; result = scanResult.getResult();\n\n  //do whatever with the key-value pairs in result\n\n  cur = scanResult.getStringCursor();\n  if (cur.equals(\"0\")) {\n    cycleIsFinished = true;\n  }                 \n}\n</code></pre>\n\n<p>The important part is that cur is a String variable and it is <code>\"0\"</code> if the scan is complete.</p>\n\n<p>With the help of ScanParams I was able to define the approximate size of each chunk to get from the hash. Approximate, because the hash might change during the scan, so it may be that an element is returned twice in the loop. </p>\n"},{"tags":[],"owner":{"account_id":9821864,"reputation":41,"user_id":7276299,"display_name":"Onno Becker Hof"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1481369419,"creation_date":1481369419,"answer_id":41075031,"question_id":33842026,"body_markdown":"A suggestion to the example above. You can specify the key match within the scanParams class. See below.\r\n\r\n\tScanParams scanParams = new ScanParams();\r\n\t\tscanParams.match(&quot;*&quot;);\r\n\r\n\t\tString cursor = redis.clients.jedis.ScanParams.SCAN_POINTER_START;\r\n\t\tboolean cycleIsFinished = false;\r\n\t\twhile (!cycleIsFinished) {\r\n\t\t\t\r\n\t\t\tScanResult&lt;String&gt; scanResult = jedisRead.scan(cursor, scanParams);\r\n\t\t\tList&lt;String&gt; result = scanResult.getResult();\r\n\t\t\t\r\n\t\t\t/*\r\n\t\t\t * do what you need to do with the result\r\n\t\t\t */\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tcursor = scanResult.getStringCursor();\r\n\t\t\tif (cursor.equals(&quot;0&quot;)) {\r\n\t\t\t\tcycleIsFinished = true;\r\n\t\t\t}\r\n\t\t}\r\n","title":"How to use SCAN commands in Jedis","body":"<p>A suggestion to the example above. You can specify the key match within the scanParams class. See below.</p>\n\n<pre><code>ScanParams scanParams = new ScanParams();\n    scanParams.match(\"*\");\n\n    String cursor = redis.clients.jedis.ScanParams.SCAN_POINTER_START;\n    boolean cycleIsFinished = false;\n    while (!cycleIsFinished) {\n\n        ScanResult&lt;String&gt; scanResult = jedisRead.scan(cursor, scanParams);\n        List&lt;String&gt; result = scanResult.getResult();\n\n        /*\n         * do what you need to do with the result\n         */\n\n\n\n        cursor = scanResult.getStringCursor();\n        if (cursor.equals(\"0\")) {\n            cycleIsFinished = true;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":200258,"reputation":653,"user_id":446011,"display_name":"gschaden"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1509361750,"creation_date":1509361750,"answer_id":47013777,"question_id":33842026,"body_markdown":"I don&#39;t like flag variables\r\n\r\n    Jedis jedis = new Jedis(&quot;localhost&quot;);\r\n\r\n    ScanParams scanParams = new ScanParams().count(10).match(&quot;*&quot;);\r\n    String cur = SCAN_POINTER_START;\r\n    do {\r\n        ScanResult&lt;String&gt; scanResult = jedis.scan(cur, scanParams);\r\n\r\n        // work with result\r\n        scanResult.getResult().stream().forEach(System.out::println);\r\n        cur = scanResult.getStringCursor();\r\n    } while (!cur.equals(SCAN_POINTER_START));\r\n\r\n\r\n\r\n","title":"How to use SCAN commands in Jedis","body":"<p>I don't like flag variables</p>\n\n<pre><code>Jedis jedis = new Jedis(\"localhost\");\n\nScanParams scanParams = new ScanParams().count(10).match(\"*\");\nString cur = SCAN_POINTER_START;\ndo {\n    ScanResult&lt;String&gt; scanResult = jedis.scan(cur, scanParams);\n\n    // work with result\n    scanResult.getResult().stream().forEach(System.out::println);\n    cur = scanResult.getStringCursor();\n} while (!cur.equals(SCAN_POINTER_START));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15644198,"reputation":25,"user_id":12062524,"display_name":"Oscar Besga Panel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637744788,"creation_date":1637744788,"answer_id":70093278,"question_id":33842026,"body_markdown":"(late to the party, I know)\r\nI am the developer of a library called [InterruptingJedisLocks](https://github.com/oscar-besga-panel/InterruptingJedisLocks), located on github.\r\n\r\nMy class ScanIterable/ScanIterator are iterators that use a SCAN operation under the hood; making it easier to operate in Java, hidding complexity.\r\nThe ScanUtils class also is a good helper. \r\n\r\nFeel free to use it with the library or only the Java classes","title":"How to use SCAN commands in Jedis","body":"<p>(late to the party, I know)\nI am the developer of a library called <a href=\"https://github.com/oscar-besga-panel/InterruptingJedisLocks\" rel=\"nofollow noreferrer\">InterruptingJedisLocks</a>, located on github.</p>\n<p>My class ScanIterable/ScanIterator are iterators that use a SCAN operation under the hood; making it easier to operate in Java, hidding complexity.\nThe ScanUtils class also is a good helper.</p>\n<p>Feel free to use it with the library or only the Java classes</p>\n"}],"owner":{"account_id":2570317,"reputation":11557,"user_id":2229229,"accept_rate":76,"display_name":"luksch"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23846,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":33878416,"answer_count":4,"score":22,"last_activity_date":1648155563,"creation_date":1448100136,"question_id":33842026,"body_markdown":"I was using redis and [jedis][1] for quite some time and never needed the SCAN commands so far. Now however I need to use the [SCAN][2] commands, particularly hscan. I understand how it works on the redis level, but the jedis Java wrapper side is confusing to me. There are `ScanResults` and `ScanParameter` classes flowing around and I have no clear concept of how to use them properly. The documentation for this feature is non-existent or at least hard to find. Can anyone point out where to find decent examples of how to iterate over a hash using hscan with jedis?\r\n\r\nSorry to have no code, but what I tried so far just makes no sense whatsoever.\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/xetorthio/jedis\r\n  [2]: http://redis.io/commands/scan","title":"How to use SCAN commands in Jedis","body":"<p>I was using redis and <a href=\"https://github.com/xetorthio/jedis\" rel=\"noreferrer\">jedis</a> for quite some time and never needed the SCAN commands so far. Now however I need to use the <a href=\"http://redis.io/commands/scan\" rel=\"noreferrer\">SCAN</a> commands, particularly hscan. I understand how it works on the redis level, but the jedis Java wrapper side is confusing to me. There are <code>ScanResults</code> and <code>ScanParameter</code> classes flowing around and I have no clear concept of how to use them properly. The documentation for this feature is non-existent or at least hard to find. Can anyone point out where to find decent examples of how to iterate over a hash using hscan with jedis?</p>\n\n<p>Sorry to have no code, but what I tried so far just makes no sense whatsoever.</p>\n"},{"tags":["java","selenium","kotlin","web-scraping","browser-automation"],"comments":[{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":3,"creation_date":1647940833,"post_id":71569023,"comment_id":126491582,"body_markdown":"Why people will help one who doesn&#39;t accept / upvote received answers and even not commenting if it helped etc?","body":"Why people will help one who doesn&#39;t accept / upvote received answers and even not commenting if it helped etc?"},{"owner":{"account_id":17187071,"reputation":1135,"user_id":12441504,"display_name":"commandiron"},"score":0,"creation_date":1647952522,"post_id":71569023,"comment_id":126495807,"body_markdown":"what are u talking about? I am new learner, maybe you can explain me what i should do. I don&#39;t know even accept answers, only i upvote for good answers normally.","body":"what are u talking about? I am new learner, maybe you can explain me what i should do. I don&#39;t know even accept answers, only i upvote for good answers normally."},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1647952760,"post_id":71569023,"comment_id":126495898,"body_markdown":"Really? You are more that 2 years here, asked a lot of questions and got answered where it was possible. When you are using absolutely FREE of charge service you should at least read the rules and say &quot;Thanks&quot; to people helped you. You have enough reputation to both accept and upvote given you answers.","body":"Really? You are more that 2 years here, asked a lot of questions and got answered where it was possible. When you are using absolutely FREE of charge service you should at least read the rules and say &quot;Thanks&quot; to people helped you. You have enough reputation to both accept and upvote given you answers."},{"owner":{"account_id":17187071,"reputation":1135,"user_id":12441504,"display_name":"commandiron"},"score":0,"creation_date":1647952986,"post_id":71569023,"comment_id":126496001,"body_markdown":"@Prophet are u sure read rules? &quot;Please do not add a comment on your question or on an answer to say &quot;Thank you&quot;. &quot;","body":"@Prophet are u sure read rules? &quot;Please do not add a comment on your question or on an answer to say &quot;Thank you&quot;. &quot;"},{"owner":{"account_id":17187071,"reputation":1135,"user_id":12441504,"display_name":"commandiron"},"score":0,"creation_date":1647953097,"post_id":71569023,"comment_id":126496046,"body_markdown":"But i am learn that now, i must accept the correct answers, i will review my old answers.","body":"But i am learn that now, i must accept the correct answers, i will review my old answers."},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1647953175,"post_id":71569023,"comment_id":126496072,"body_markdown":"I&#39;m talking about accepting and upvoting given you answers, this is the way to say &quot;Thanks&quot; here and to indicate the question is resolved. I&#39;m not talking about adding such comments.","body":"I&#39;m talking about accepting and upvoting given you answers, this is the way to say &quot;Thanks&quot; here and to indicate the question is resolved. I&#39;m not talking about adding such comments."},{"owner":{"account_id":17187071,"reputation":1135,"user_id":12441504,"display_name":"commandiron"},"score":0,"creation_date":1647953440,"post_id":71569023,"comment_id":126496190,"body_markdown":"okay, i am done it for my old answers. Thanks for notice.","body":"okay, i am done it for my old answers. Thanks for notice."},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1647953520,"post_id":71569023,"comment_id":126496227,"body_markdown":"I see. Well done! Keep doing that in the future as well.","body":"I see. Well done! Keep doing that in the future as well."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":1,"creation_date":1647988704,"post_id":71569023,"comment_id":126509338,"body_markdown":"The site&#39;s detecting you as a bot.  Which means they probably don&#39;t want you to use bots on it.  Be a good internet citizen and e-mail them to see if they have an API you can use.  Getting around that detection is a moving target, but there are some services you can use if you must... they will manually receive the captcha and get the token without using it... they then send it to your script so you can pass.   There are also free options to configure and/or re-write the webdriver to try to evade detection. Results will vary.","body":"The site&#39;s detecting you as a bot.  Which means they probably don&#39;t want you to use bots on it.  Be a good internet citizen and e-mail them to see if they have an API you can use.  Getting around that detection is a moving target, but there are some services you can use if you must... they will manually receive the captcha and get the token without using it... they then send it to your script so you can pass.   There are also free options to configure and/or re-write the webdriver to try to evade detection. Results will vary."}],"owner":{"account_id":17187071,"reputation":1135,"user_id":12441504,"display_name":"commandiron"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":461,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648155466,"creation_date":1647938089,"question_id":71569023,"body_markdown":"im trying to web scrapping with selenium library in my java project. While i am try to login site with interactive behaviour (manually type username and password in login page) cant login. Site is under recaptcha protection, i think block login operation, because if i dont listen with browser with selenium, i can login.\r\nCode;\r\n```\r\n                //Webdriver\r\n                System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;data/src/main/kotlin/com/myapp/data/drivers/chromedriver.exe&quot;);\r\n                WebDriverManager.chromedriver().setup()\r\n\r\n                //Chrome Options\r\n                val options = ChromeOptions()\r\n\r\n                // Fixing 255 Error crashes\r\n                options.addArguments(&quot;--no-sandbox&quot;)\r\n                options.addArguments(&quot;--disable-dev-shm-usage&quot;)\r\n\r\n                // Options to trick bot detection -&gt; i can trick bot detection with this code. Site ban me if dont use this lines\r\n                options.addArguments(&quot;--disable-blink-features=AutomationControlled&quot;)\r\n                options.setExperimentalOption(&quot;excludeSwitches&quot;, Collections.singletonList(&quot;enable-automation&quot;))\r\n                options.setExperimentalOption(&quot;useAutomationExtension&quot;, false)\r\n                options.addArguments(&quot;window-size=1920,1080&quot;)\r\n                options.addArguments(&quot;disable-infobars&quot;)\r\n                options.addArguments(&quot;user-data-dir=/tmp/afabc&quot;)\r\n\r\n                // Changing the user agent\r\n                val userAgent = UserAgent(RandomUserAgent().getRandomUserAgent())\r\n                options.addArguments(&quot;user-agent=${userAgent}&quot;)\r\n\r\n\r\n                //Chrome Driver\r\n                val driver: WebDriver = ChromeDriver(options)\r\n                driver.manage().window().position = Point(0,0)\r\n\r\n                //Wait For Element\r\n                driver.manage().timeouts().implicitlyWait(Duration.ofMillis(10000))\r\n                val wait = WebDriverWait(driver,60)\r\n\r\n                //Operation\r\n                driver.get(LOGIN_SITE_URL)\r\n```\r\n```\r\nval afterLoginPageSomeElementXpath = &quot;/html/body/div[1]/div[1]/div[5]/ul/li[1]/a&quot;\r\n\r\n //For Listen user can login or not // İf i remove this code, i can login.\r\nwait.until(ExpectedConditions.elementToBeClickable(By.xpath(afterLoginPageSomeElementXpath))) \r\n```\r\n\r\nHow can i bypass this issue? Anyone help?","title":"Cant login even i am typing manually while selenium listen browser","body":"<p>im trying to web scrapping with selenium library in my java project. While i am try to login site with interactive behaviour (manually type username and password in login page) cant login. Site is under recaptcha protection, i think block login operation, because if i dont listen with browser with selenium, i can login.\nCode;</p>\n<pre><code>                //Webdriver\n                System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;data/src/main/kotlin/com/myapp/data/drivers/chromedriver.exe&quot;);\n                WebDriverManager.chromedriver().setup()\n\n                //Chrome Options\n                val options = ChromeOptions()\n\n                // Fixing 255 Error crashes\n                options.addArguments(&quot;--no-sandbox&quot;)\n                options.addArguments(&quot;--disable-dev-shm-usage&quot;)\n\n                // Options to trick bot detection -&gt; i can trick bot detection with this code. Site ban me if dont use this lines\n                options.addArguments(&quot;--disable-blink-features=AutomationControlled&quot;)\n                options.setExperimentalOption(&quot;excludeSwitches&quot;, Collections.singletonList(&quot;enable-automation&quot;))\n                options.setExperimentalOption(&quot;useAutomationExtension&quot;, false)\n                options.addArguments(&quot;window-size=1920,1080&quot;)\n                options.addArguments(&quot;disable-infobars&quot;)\n                options.addArguments(&quot;user-data-dir=/tmp/afabc&quot;)\n\n                // Changing the user agent\n                val userAgent = UserAgent(RandomUserAgent().getRandomUserAgent())\n                options.addArguments(&quot;user-agent=${userAgent}&quot;)\n\n\n                //Chrome Driver\n                val driver: WebDriver = ChromeDriver(options)\n                driver.manage().window().position = Point(0,0)\n\n                //Wait For Element\n                driver.manage().timeouts().implicitlyWait(Duration.ofMillis(10000))\n                val wait = WebDriverWait(driver,60)\n\n                //Operation\n                driver.get(LOGIN_SITE_URL)\n</code></pre>\n<pre><code>val afterLoginPageSomeElementXpath = &quot;/html/body/div[1]/div[1]/div[5]/ul/li[1]/a&quot;\n\n //For Listen user can login or not // İf i remove this code, i can login.\nwait.until(ExpectedConditions.elementToBeClickable(By.xpath(afterLoginPageSomeElementXpath))) \n</code></pre>\n<p>How can i bypass this issue? Anyone help?</p>\n"},{"tags":["java","jsp","maven-2","jsf"],"comments":[{"owner":{"account_id":7478,"reputation":74884,"user_id":13018,"accept_rate":73,"display_name":"annakata"},"score":4,"creation_date":1230895685,"post_id":406533,"comment_id":231446,"body_markdown":"It&#39;s funny how similar &quot;Pom&quot; and &quot;Porn&quot; look in the SO font...","body":"It&#39;s funny how similar &quot;Pom&quot; and &quot;Porn&quot; look in the SO font..."}],"answers":[{"tags":[],"owner":{"account_id":20832,"reputation":6065,"user_id":50131,"accept_rate":100,"display_name":"Andrew Newdigate"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1433126101,"creation_date":1230896468,"answer_id":406562,"question_id":406533,"body_markdown":"org.apache.struts.tiles.Controller is an interface in Struts Tiles 1.x, which you can find in the maven artifact &quot;org.apache.struts:struts-tiles&quot;\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\r\n        &lt;artifactId&gt;struts-tiles&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3.10&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nKeep in mind, this only works with Struts 1.x, and not Struts 2.\r\n\r\n[http://struts.apache.org/1.x/struts-tiles/][1]\r\n\r\n\r\n  [1]: http://struts.apache.org/1.x/struts-tiles/","title":"Which dependency should be added in pom file to import org.apache.tiles.controller?","body":"<p>org.apache.struts.tiles.Controller is an interface in Struts Tiles 1.x, which you can find in the maven artifact \"org.apache.struts:struts-tiles\"</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\n    &lt;artifactId&gt;struts-tiles&lt;/artifactId&gt;\n    &lt;version&gt;1.3.10&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Keep in mind, this only works with Struts 1.x, and not Struts 2.</p>\n\n<p><a href=\"http://struts.apache.org/1.x/struts-tiles/\" rel=\"nofollow noreferrer\">http://struts.apache.org/1.x/struts-tiles/</a></p>\n"},{"tags":[],"owner":{"account_id":403681,"reputation":2273,"user_id":771578,"accept_rate":100,"display_name":"messivanio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433777920,"creation_date":1433777920,"answer_id":30713492,"question_id":406533,"body_markdown":"According to https://tiles.apache.org/download.html#Tiles_3_as_a_Maven_dependency :\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\r\n      &lt;artifactId&gt;tiles-extras&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.5&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Which dependency should be added in pom file to import org.apache.tiles.controller?","body":"<p>According to <a href=\"https://tiles.apache.org/download.html#Tiles_3_as_a_Maven_dependency\" rel=\"nofollow\">https://tiles.apache.org/download.html#Tiles_3_as_a_Maven_dependency</a> :</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\n  &lt;artifactId&gt;tiles-extras&lt;/artifactId&gt;\n  &lt;version&gt;3.0.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":18028,"reputation":39206,"user_id":40933,"accept_rate":63,"display_name":"Warrior"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":906,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1648155450,"creation_date":1230895226,"question_id":406533,"body_markdown":"Which dependency should be added in pom file to import `org.apache.tiles.controller`?","title":"Which dependency should be added in pom file to import org.apache.tiles.controller?","body":"<p>Which dependency should be added in pom file to import <code>org.apache.tiles.controller</code>?</p>\n"},{"tags":["java","spring-boot","kubernetes","docker-compose","netflix-eureka"],"owner":{"account_id":17180743,"reputation":11,"user_id":12436202,"display_name":"Henrik Andersson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648155444,"creation_date":1648072520,"question_id":71594536,"body_markdown":"The Setup here is two SpringBoot REST Services built on SpringBoot 2.6.4 and also a SpringBoot Eureka Netflix Server built on 2.6.4. All of these lives on separate Docker images built with JIB.\r\n\r\nOne of the Services takes call from a web gui (not part of the problem) and that service calls the second service to get some information. It is this calls, that in a Kubernetes setup does not work.\r\n\r\nWhen I put the Docker images together via Docker Compose on my own machine the setup works fine and service one gets answers from service two.\r\n\r\nWhen we use the setup on Kubernets, that we have set up in our AWS, the call from Service one to Service two results in:\r\n```\r\njava.net.UnknownHostException\r\n```\r\nI can see that both Services are registered in the Eureka server, so the registration part seems to work.\r\n\r\nThen I found on Spring page https://cloud.spring.io/spring-cloud-netflix/multi/multi__service_discovery_eureka_clients.html that \r\n&gt;You can do so by customizing the EurekaInstanceConfigBean as follows:\r\n```\r\n@Bean\r\n@Profile(&quot;!default&quot;)\r\npublic EurekaInstanceConfigBean eurekaInstanceConfig(InetUtils inetUtils) {\r\n  EurekaInstanceConfigBean b = new EurekaInstanceConfigBean(inetUtils);\r\n  AmazonInfo info = AmazonInfo.Builder.newBuilder().autoBuild(&quot;eureka&quot;);\r\n  b.setDataCenterInfo(info);\r\n  return b;\r\n}\r\n```\r\nWhen I try this, I get the following exception in runtime.\r\n```\r\nCaused by: java.lang.ClassNotFoundException: com.netflix.config.DynamicPropertyFactory\r\n```\r\nHave we missed something? \r\nIs this setup of Spring Boot broken with Eureka? (I can see hints around the web about deprecation)\r\nShould we try another approach for Discovery? (even if it seems on Spring that Eureka is the approach to use) And in that case, what do you suggest?","title":"SpringBoot Eureka Discovey not working when used in Kubernetes","body":"<p>The Setup here is two SpringBoot REST Services built on SpringBoot 2.6.4 and also a SpringBoot Eureka Netflix Server built on 2.6.4. All of these lives on separate Docker images built with JIB.</p>\n<p>One of the Services takes call from a web gui (not part of the problem) and that service calls the second service to get some information. It is this calls, that in a Kubernetes setup does not work.</p>\n<p>When I put the Docker images together via Docker Compose on my own machine the setup works fine and service one gets answers from service two.</p>\n<p>When we use the setup on Kubernets, that we have set up in our AWS, the call from Service one to Service two results in:</p>\n<pre><code>java.net.UnknownHostException\n</code></pre>\n<p>I can see that both Services are registered in the Eureka server, so the registration part seems to work.</p>\n<p>Then I found on Spring page <a href=\"https://cloud.spring.io/spring-cloud-netflix/multi/multi__service_discovery_eureka_clients.html\" rel=\"nofollow noreferrer\">https://cloud.spring.io/spring-cloud-netflix/multi/multi__service_discovery_eureka_clients.html</a> that</p>\n<blockquote>\n<p>You can do so by customizing the EurekaInstanceConfigBean as follows:</p>\n</blockquote>\n<pre><code>@Bean\n@Profile(&quot;!default&quot;)\npublic EurekaInstanceConfigBean eurekaInstanceConfig(InetUtils inetUtils) {\n  EurekaInstanceConfigBean b = new EurekaInstanceConfigBean(inetUtils);\n  AmazonInfo info = AmazonInfo.Builder.newBuilder().autoBuild(&quot;eureka&quot;);\n  b.setDataCenterInfo(info);\n  return b;\n}\n</code></pre>\n<p>When I try this, I get the following exception in runtime.</p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: com.netflix.config.DynamicPropertyFactory\n</code></pre>\n<p>Have we missed something?\nIs this setup of Spring Boot broken with Eureka? (I can see hints around the web about deprecation)\nShould we try another approach for Discovery? (even if it seems on Spring that Eureka is the approach to use) And in that case, what do you suggest?</p>\n"},{"tags":["java","windows","netbeans"],"comments":[{"owner":{"account_id":1231743,"reputation":3244,"user_id":1196170,"accept_rate":48,"display_name":"jprism"},"score":0,"creation_date":1509474307,"post_id":47042091,"comment_id":81031377,"body_markdown":"I don&#39;t think so this is your JDK or PATH issue. Looks like more on Netbeans. Run run installer with &quot;--verbose --output out.txt&quot;  and post the output.txt in the NetBeans forum.","body":"I don&#39;t think so this is your JDK or PATH issue. Looks like more on Netbeans. Run run installer with &quot;--verbose --output out.txt&quot;  and post the output.txt in the NetBeans forum."},{"owner":{"account_id":12139862,"reputation":35,"user_id":8864167,"display_name":"ilsec"},"score":0,"creation_date":1509475054,"post_id":47042091,"comment_id":81031787,"body_markdown":"Thank you. How do I run the installer with verbose output?","body":"Thank you. How do I run the installer with verbose output?"}],"answers":[{"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648154948,"creation_date":1509477045,"answer_id":47042948,"question_id":47042091,"body_markdown":"You can run [no need to be as `admin`] `cmd`.\r\n \r\n\r\n    C:\\Users\\pc&gt;echo %JAVA_HOME%\r\n\r\nif you don&#39;t get such a clause:\r\n\r\n&gt;     C:\\Program Files\\Java\\jdk1.8.0_151\\bin\r\n\r\nGo to your environment variables and for both `user` and `system` variables \r\n\r\n&gt;     set JAVA_HOME -&gt; C:\\Program Files\\Java\\jdk1.8.0_151\\bin\r\n\r\n","title":"Netbeans 8.2 installing native library error","body":"<p>You can run [no need to be as <code>admin</code>] <code>cmd</code>.</p>\n<pre><code>C:\\Users\\pc&gt;echo %JAVA_HOME%\n</code></pre>\n<p>if you don't get such a clause:</p>\n<blockquote>\n<pre><code>C:\\Program Files\\Java\\jdk1.8.0_151\\bin\n</code></pre>\n</blockquote>\n<p>Go to your environment variables and for both <code>user</code> and <code>system</code> variables</p>\n<blockquote>\n<pre><code>set JAVA_HOME -&gt; C:\\Program Files\\Java\\jdk1.8.0_151\\bin\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":12139862,"reputation":35,"user_id":8864167,"display_name":"ilsec"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4362,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":47042948,"answer_count":1,"score":1,"last_activity_date":1648154948,"creation_date":1509473814,"question_id":47042091,"body_markdown":"On my Windows 10 (x64) Laptop, I installed JDK8.151 (x64) and added the jre bin and jdk bin paths to the system variables under PATH in enviroment variables. However when I installed the Netbeans 8.2 (x64) (JavaSE) version from Netbeans&#39; website and ran it, an error appeared: Cannot load native library from path:native/jnilib/windows/windows-x64.dll","title":"Netbeans 8.2 installing native library error","body":"<p>On my Windows 10 (x64) Laptop, I installed JDK8.151 (x64) and added the jre bin and jdk bin paths to the system variables under PATH in enviroment variables. However when I installed the Netbeans 8.2 (x64) (JavaSE) version from Netbeans' website and ran it, an error appeared: Cannot load native library from path:native/jnilib/windows/windows-x64.dll</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648104091,"creation_date":1648104091,"answer_id":71598052,"question_id":71597972,"body_markdown":"All of that goes in the application tag.  The application tag has all services, activities, and broadcast receivers inside it.","title":"How to create manifest file for an app that needs only one java file as a service?","body":"<p>All of that goes in the application tag.  The application tag has all services, activities, and broadcast receivers inside it.</p>\n"}],"owner":{"account_id":15594940,"reputation":125,"user_id":11250768,"display_name":"Rahul Rawat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648154877,"creation_date":1648103627,"question_id":71597972,"body_markdown":"I am trying to create a simple background app that extends a subclass of the system service, the resource of the original file (that is being extended) lays out general instructions on how to declare it as a service in the manifest file:\r\n\r\n       &lt;service&gt;\r\n          android:name=&quot;.MyCustom&quot;\r\n          android:exported=&quot;true&quot;\r\n          android:icon=&quot;@drawable/my_icon&quot;\r\n          android:label=&quot;@string/my_custom_label&quot; &gt;\r\n     \r\n          &lt;intent-filter&gt;\r\n              &lt;action android:name=&quot;android.service.targetservice&quot; /&gt;\r\n              &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n          &lt;/intent-filter&gt;\r\n          &lt;meta-data\r\n              android:name=&quot;android.service.targetservice&quot;\r\n              android:resource=&quot;@xml/my_custom&quot; /&gt;\r\n      &lt;/service&gt;\r\n\r\nBut I can&#39;t figure out what to put inside in the ```&lt;application&gt;``` tag. The file ```MyCustom``` is the single java file in the entire project.\r\n\r\nAny help will be appreciated!\r\n\r\n ","title":"How to create manifest file for an app that needs only one java file as a service?","body":"<p>I am trying to create a simple background app that extends a subclass of the system service, the resource of the original file (that is being extended) lays out general instructions on how to declare it as a service in the manifest file:</p>\n<pre><code>   &lt;service&gt;\n      android:name=&quot;.MyCustom&quot;\n      android:exported=&quot;true&quot;\n      android:icon=&quot;@drawable/my_icon&quot;\n      android:label=&quot;@string/my_custom_label&quot; &gt;\n \n      &lt;intent-filter&gt;\n          &lt;action android:name=&quot;android.service.targetservice&quot; /&gt;\n          &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n      &lt;/intent-filter&gt;\n      &lt;meta-data\n          android:name=&quot;android.service.targetservice&quot;\n          android:resource=&quot;@xml/my_custom&quot; /&gt;\n  &lt;/service&gt;\n</code></pre>\n<p>But I can't figure out what to put inside in the <code>&lt;application&gt;</code> tag. The file <code>MyCustom</code> is the single java file in the entire project.</p>\n<p>Any help will be appreciated!</p>\n"},{"tags":["java","maven","spring-cloud","spring-cloud-gcp"],"comments":[{"owner":{"account_id":13316976,"reputation":3,"user_id":9613038,"display_name":"Patrick Grant"},"score":0,"creation_date":1648145011,"post_id":71607352,"comment_id":126556617,"body_markdown":"just for clarity, i removed the project tags because they seemed to cause problems with the code formatter (stack thought the question looked like spam) - additionally, I first tried using the 2.6.2 parent version that was used in the parent spring-cloud-gcp-samples pom, no luck","body":"just for clarity, i removed the project tags because they seemed to cause problems with the code formatter (stack thought the question looked like spam) - additionally, I first tried using the 2.6.2 parent version that was used in the parent spring-cloud-gcp-samples pom, no luck"}],"answers":[{"tags":[],"owner":{"account_id":22504126,"reputation":26,"user_id":16700009,"display_name":"Min Zhu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648154653,"creation_date":1648154653,"answer_id":71609210,"question_id":71607352,"body_markdown":"You are inheriting version for `com.google.cloud:spring-cloud-gcp-dependencies` from project.version, which is 2.3.12.RELEASE in your case.\r\n```\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\r\n        &lt;version&gt;${project.version}&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n```\r\nWhen in fact, you want to specify a valid version as listed in [maven repository][1].\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.google.cloud/spring-cloud-gcp-dependencies","title":"How to fix Non-resolvable import POM: com.google.cloud:spring-cloud-gcp-dependencies","body":"<p>You are inheriting version for <code>com.google.cloud:spring-cloud-gcp-dependencies</code> from project.version, which is 2.3.12.RELEASE in your case.</p>\n<pre><code>      &lt;dependency&gt;\n        &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\n        &lt;version&gt;${project.version}&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n</code></pre>\n<p>When in fact, you want to specify a valid version as listed in <a href=\"https://mvnrepository.com/artifact/com.google.cloud/spring-cloud-gcp-dependencies\" rel=\"nofollow noreferrer\">maven repository</a>.</p>\n"}],"owner":{"account_id":13316976,"reputation":3,"user_id":9613038,"display_name":"Patrick Grant"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2809,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71609210,"answer_count":1,"score":0,"last_activity_date":1648154653,"creation_date":1648144801,"question_id":71607352,"body_markdown":"Trying to build spring-cloud-gcp from https://github.com/GoogleCloudPlatform/spring-cloud-gcp\r\n\r\n1. Many failed compile/install attempts due to failed tests (unit and checkstyle) - decided to just disable and/or not fail due to tests - great, that worked, entire build (all sub projects) compiled\r\n2. Wanted to deploy the spring-cloud-gcp-data-firestore-sample (pom is below) to Cloud run, so changed the parent reference in the pom (as suggested/documented in the pom).\r\n3. Now can&#39;t compile/install spring-cloud-gcp-data-firestore-sample and get this error &quot;**Non-resolvable import POM: com.google.cloud:spring-cloud-gcp-dependencies:pom:2.3.12.RELEASE was not found in https://repo.maven.apache.org/maven2**&quot;\r\n\r\nI&#39;ve tried:\r\n\r\n1. Adding additional spring maven repos to the pom (see pom below) - no luck, and based on the error message maven doesn&#39;t even seem to be checking the added repo&#39;s\r\n2. referencing/using different versions of the spring-boot-starter-parent - no luck, nothing changed in the error\r\n3. mvn -U clean compile - no luck\r\n\r\nAnyone got any ideas?  Any suggestions greatly appreciated.\r\n\r\n    &lt;parent&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.3.12.RELEASE&lt;/version&gt;\r\n    \t&lt;relativePath/&gt;\r\n       &lt;/parent&gt;\r\n    \r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;name&gt;Spring Cloud GCP Code Sample - Spring Data Firestore&lt;/name&gt;\r\n      &lt;artifactId&gt;spring-cloud-gcp-data-firestore-sample&lt;/artifactId&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;integration-test.tags.exclude&gt;native&lt;/integration-test.tags.exclude&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\r\n            &lt;version&gt;${project.version}&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/dependencyManagement&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-cloud-gcp-starter-data-firestore&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-cloud-gcp-autoconfigure&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n          &lt;artifactId&gt;reactor-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;!-- JUnit5 is required for Test Containers. --&gt;\r\n          &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n          &lt;artifactId&gt;gcloud&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n              &lt;skip&gt;true&lt;/skip&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    \r\n      &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n          &lt;id&gt;native&lt;/id&gt;\r\n          &lt;activation&gt;\r\n              &lt;property&gt;\r\n                &lt;name&gt;it.native&lt;/name&gt;\r\n              &lt;/property&gt;\r\n          &lt;/activation&gt;\r\n          &lt;properties&gt;\r\n            &lt;!-- Include only native tests, exclude all others --&gt;\r\n            &lt;integration-test.tags.include&gt;native&lt;/integration-test.tags.include&gt;\r\n            &lt;integration-test.tags.exclude/&gt;\r\n    \r\n            &lt;!-- Native build args --&gt;\r\n            &lt;native.build.args&gt;\r\n              --enable-url-protocols=http,https\r\n              --no-fallback\r\n              --no-server\r\n            &lt;/native.build.args&gt;\r\n    \r\n            &lt;!-- Paketo buildpacks used for building native image --&gt;\r\n            &lt;builder&gt;paketobuildpacks/builder:tiny&lt;/builder&gt;\r\n          &lt;/properties&gt;\r\n    \r\n          &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\r\n              &lt;artifactId&gt;spring-native&lt;/artifactId&gt;\r\n              &lt;version&gt;${spring-native.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n              &lt;artifactId&gt;google-cloud-graalvm-support&lt;/artifactId&gt;\r\n              &lt;version&gt;${google-cloud-graalvm-support.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n              &lt;artifactId&gt;spring-context-indexer&lt;/artifactId&gt;\r\n              &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n          &lt;/dependencies&gt;\r\n    \r\n          &lt;build&gt;\r\n            &lt;plugins&gt;\r\n              &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-aot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-native.version}&lt;/version&gt;\r\n                &lt;dependencies&gt;\r\n                  &lt;dependency&gt;\r\n                    &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-cloud-gcp-native-support&lt;/artifactId&gt;\r\n                    &lt;version&gt;${project.version}&lt;/version&gt;\r\n                  &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n                &lt;executions&gt;\r\n                  &lt;execution&gt;\r\n                    &lt;id&gt;test-generate&lt;/id&gt;\r\n                    &lt;goals&gt;\r\n                      &lt;goal&gt;test-generate&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                  &lt;/execution&gt;\r\n                  &lt;execution&gt;\r\n                    &lt;id&gt;generate&lt;/id&gt;\r\n                    &lt;goals&gt;\r\n                      &lt;goal&gt;generate&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                  &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n              &lt;/plugin&gt;\r\n              &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;classifier&gt;${classifier}&lt;/classifier&gt;\r\n                  &lt;image&gt;\r\n                    &lt;builder&gt;${builder}&lt;/builder&gt;\r\n                    &lt;name&gt;${project.artifactId}:test&lt;/name&gt;\r\n                    &lt;env&gt;\r\n                      &lt;BP_NATIVE_IMAGE&gt;true&lt;/BP_NATIVE_IMAGE&gt;\r\n                      &lt;BP_NATIVE_IMAGE_BUILD_ARGUMENTS&gt;${native.build.args}&lt;/BP_NATIVE_IMAGE_BUILD_ARGUMENTS&gt;\r\n                    &lt;/env&gt;\r\n                    &lt;pullPolicy&gt;IF_NOT_PRESENT&lt;/pullPolicy&gt;\r\n                  &lt;/image&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                  &lt;execution&gt;\r\n                    &lt;id&gt;build-docker-image-before-integration-tests&lt;/id&gt;\r\n                    &lt;phase&gt;pre-integration-test&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                      &lt;goal&gt;build-image&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                  &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n              &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n          &lt;/build&gt;\r\n          &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n              &lt;id&gt;spring-releases&lt;/id&gt;\r\n              &lt;name&gt;Spring Releases&lt;/name&gt;\r\n              &lt;url&gt;https://repo.spring.io/release&lt;/url&gt;\r\n              &lt;snapshots&gt;\r\n                &lt;enabled&gt;true&lt;/enabled&gt;\r\n              &lt;/snapshots&gt;\r\n            &lt;/repository&gt;\r\n          &lt;/repositories&gt;\r\n          &lt;pluginRepositories&gt;\r\n            &lt;pluginRepository&gt;\r\n              &lt;id&gt;spring-releases&lt;/id&gt;\r\n              &lt;name&gt;Spring Releases&lt;/name&gt;\r\n              &lt;url&gt;https://repo.spring.io/release&lt;/url&gt;\r\n              &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n              &lt;/snapshots&gt;\r\n            &lt;/pluginRepository&gt;\r\n          &lt;/pluginRepositories&gt;\r\n        &lt;/profile&gt;\r\n    \r\n      &lt;/profiles&gt;","title":"How to fix Non-resolvable import POM: com.google.cloud:spring-cloud-gcp-dependencies","body":"<p>Trying to build spring-cloud-gcp from <a href=\"https://github.com/GoogleCloudPlatform/spring-cloud-gcp\" rel=\"nofollow noreferrer\">https://github.com/GoogleCloudPlatform/spring-cloud-gcp</a></p>\n<ol>\n<li>Many failed compile/install attempts due to failed tests (unit and checkstyle) - decided to just disable and/or not fail due to tests - great, that worked, entire build (all sub projects) compiled</li>\n<li>Wanted to deploy the spring-cloud-gcp-data-firestore-sample (pom is below) to Cloud run, so changed the parent reference in the pom (as suggested/documented in the pom).</li>\n<li>Now can't compile/install spring-cloud-gcp-data-firestore-sample and get this error &quot;**Non-resolvable import POM: com.google.cloud:spring-cloud-gcp-dependencies:pom:2.3.12.RELEASE was not found in <a href=\"https://repo.maven.apache.org/maven2**%22\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2**&quot;</a></li>\n</ol>\n<p>I've tried:</p>\n<ol>\n<li>Adding additional spring maven repos to the pom (see pom below) - no luck, and based on the error message maven doesn't even seem to be checking the added repo's</li>\n<li>referencing/using different versions of the spring-boot-starter-parent - no luck, nothing changed in the error</li>\n<li>mvn -U clean compile - no luck</li>\n</ol>\n<p>Anyone got any ideas?  Any suggestions greatly appreciated.</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.3.12.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt;\n   &lt;/parent&gt;\n\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;name&gt;Spring Cloud GCP Code Sample - Spring Data Firestore&lt;/name&gt;\n  &lt;artifactId&gt;spring-cloud-gcp-data-firestore-sample&lt;/artifactId&gt;\n\n  &lt;properties&gt;\n    &lt;integration-test.tags.exclude&gt;native&lt;/integration-test.tags.exclude&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\n        &lt;version&gt;${project.version}&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-cloud-gcp-starter-data-firestore&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-cloud-gcp-autoconfigure&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n      &lt;artifactId&gt;reactor-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;!-- JUnit5 is required for Test Containers. --&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n      &lt;artifactId&gt;gcloud&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;skip&gt;true&lt;/skip&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n  &lt;profiles&gt;\n    &lt;profile&gt;\n      &lt;id&gt;native&lt;/id&gt;\n      &lt;activation&gt;\n          &lt;property&gt;\n            &lt;name&gt;it.native&lt;/name&gt;\n          &lt;/property&gt;\n      &lt;/activation&gt;\n      &lt;properties&gt;\n        &lt;!-- Include only native tests, exclude all others --&gt;\n        &lt;integration-test.tags.include&gt;native&lt;/integration-test.tags.include&gt;\n        &lt;integration-test.tags.exclude/&gt;\n\n        &lt;!-- Native build args --&gt;\n        &lt;native.build.args&gt;\n          --enable-url-protocols=http,https\n          --no-fallback\n          --no-server\n        &lt;/native.build.args&gt;\n\n        &lt;!-- Paketo buildpacks used for building native image --&gt;\n        &lt;builder&gt;paketobuildpacks/builder:tiny&lt;/builder&gt;\n      &lt;/properties&gt;\n\n      &lt;dependencies&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-native&lt;/artifactId&gt;\n          &lt;version&gt;${spring-native.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n          &lt;artifactId&gt;google-cloud-graalvm-support&lt;/artifactId&gt;\n          &lt;version&gt;${google-cloud-graalvm-support.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-context-indexer&lt;/artifactId&gt;\n          &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n      &lt;/dependencies&gt;\n\n      &lt;build&gt;\n        &lt;plugins&gt;\n          &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-aot-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${spring-native.version}&lt;/version&gt;\n            &lt;dependencies&gt;\n              &lt;dependency&gt;\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-gcp-native-support&lt;/artifactId&gt;\n                &lt;version&gt;${project.version}&lt;/version&gt;\n              &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n            &lt;executions&gt;\n              &lt;execution&gt;\n                &lt;id&gt;test-generate&lt;/id&gt;\n                &lt;goals&gt;\n                  &lt;goal&gt;test-generate&lt;/goal&gt;\n                &lt;/goals&gt;\n              &lt;/execution&gt;\n              &lt;execution&gt;\n                &lt;id&gt;generate&lt;/id&gt;\n                &lt;goals&gt;\n                  &lt;goal&gt;generate&lt;/goal&gt;\n                &lt;/goals&gt;\n              &lt;/execution&gt;\n            &lt;/executions&gt;\n          &lt;/plugin&gt;\n          &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n              &lt;classifier&gt;${classifier}&lt;/classifier&gt;\n              &lt;image&gt;\n                &lt;builder&gt;${builder}&lt;/builder&gt;\n                &lt;name&gt;${project.artifactId}:test&lt;/name&gt;\n                &lt;env&gt;\n                  &lt;BP_NATIVE_IMAGE&gt;true&lt;/BP_NATIVE_IMAGE&gt;\n                  &lt;BP_NATIVE_IMAGE_BUILD_ARGUMENTS&gt;${native.build.args}&lt;/BP_NATIVE_IMAGE_BUILD_ARGUMENTS&gt;\n                &lt;/env&gt;\n                &lt;pullPolicy&gt;IF_NOT_PRESENT&lt;/pullPolicy&gt;\n              &lt;/image&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n              &lt;execution&gt;\n                &lt;id&gt;build-docker-image-before-integration-tests&lt;/id&gt;\n                &lt;phase&gt;pre-integration-test&lt;/phase&gt;\n                &lt;goals&gt;\n                  &lt;goal&gt;build-image&lt;/goal&gt;\n                &lt;/goals&gt;\n              &lt;/execution&gt;\n            &lt;/executions&gt;\n          &lt;/plugin&gt;\n        &lt;/plugins&gt;\n      &lt;/build&gt;\n      &lt;repositories&gt;\n        &lt;repository&gt;\n          &lt;id&gt;spring-releases&lt;/id&gt;\n          &lt;name&gt;Spring Releases&lt;/name&gt;\n          &lt;url&gt;https://repo.spring.io/release&lt;/url&gt;\n          &lt;snapshots&gt;\n            &lt;enabled&gt;true&lt;/enabled&gt;\n          &lt;/snapshots&gt;\n        &lt;/repository&gt;\n      &lt;/repositories&gt;\n      &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n          &lt;id&gt;spring-releases&lt;/id&gt;\n          &lt;name&gt;Spring Releases&lt;/name&gt;\n          &lt;url&gt;https://repo.spring.io/release&lt;/url&gt;\n          &lt;snapshots&gt;\n            &lt;enabled&gt;false&lt;/enabled&gt;\n          &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n      &lt;/pluginRepositories&gt;\n    &lt;/profile&gt;\n\n  &lt;/profiles&gt;\n</code></pre>\n"},{"tags":["java","jvm","jvm-arguments"],"answers":[{"tags":[],"owner":{"account_id":54362,"reputation":11938,"user_id":162634,"accept_rate":62,"display_name":"Victor Sorokin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1282165696,"creation_date":1282165696,"answer_id":3516705,"question_id":3516664,"body_markdown":"I think because actual memory of computer is finite. So, in a sense, JVM allows you to detect memleaks before all memory is wasted.  \r\nPlus, what to do if you run several JVMs on the same machine -- in this case how do you allow each of these JVM to grow &quot;as much as it needs&quot;?","title":"Why do you need to specify the Java heap size?","body":"<p>I think because actual memory of computer is finite. So, in a sense, JVM allows you to detect memleaks before all memory is wasted.<br>\nPlus, what to do if you run several JVMs on the same machine -- in this case how do you allow each of these JVM to grow \"as much as it needs\"?</p>\n"},{"tags":[],"owner":{"account_id":142896,"reputation":35109,"user_id":350890,"accept_rate":100,"display_name":"Peter Tillemans"},"down_vote_count":2,"up_vote_count":8,"is_accepted":true,"score":6,"last_activity_date":1282165729,"creation_date":1282165729,"answer_id":3516712,"question_id":3516664,"body_markdown":"My interpretation is that Sun is a company focused on selling Big Boxes and they like that the sysadmins can do things on these boxes. Running a system to fill all the memory is a good way to run it into the ground and be unable to efficiently take action to restore operation because you cannot allocate memory to create a login shell for example.\r\n\r\n","title":"Why do you need to specify the Java heap size?","body":"<p>My interpretation is that Sun is a company focused on selling Big Boxes and they like that the sysadmins can do things on these boxes. Running a system to fill all the memory is a good way to run it into the ground and be unable to efficiently take action to restore operation because you cannot allocate memory to create a login shell for example.</p>\n"},{"tags":[],"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1282166055,"creation_date":1282166055,"answer_id":3516763,"question_id":3516664,"body_markdown":"Because growing the heap, stack, and permgen size dynamically just would make the server go down anyway.  In such a world, the server would eventually leak away all of its resources.\r\n\r\nAlso, developing automatic memory management wasn&#39;t as mature as it is today.  Having virtual limits makes things easier if you pick the wrong defaults, but it can make the coding a bit less efficient on the back end.\r\n\r\nYes, these are guesses, but reasonable ones; especially when you consider Java&#39;s / Oak&#39;s origins of embedded set top box programming.  It isn&#39;t like an embedded system is going to have swap or disk backed virtual memory, so why make the JVM act as if it were available?\r\n\r\n","title":"Why do you need to specify the Java heap size?","body":"<p>Because growing the heap, stack, and permgen size dynamically just would make the server go down anyway.  In such a world, the server would eventually leak away all of its resources.</p>\n\n<p>Also, developing automatic memory management wasn't as mature as it is today.  Having virtual limits makes things easier if you pick the wrong defaults, but it can make the coding a bit less efficient on the back end.</p>\n\n<p>Yes, these are guesses, but reasonable ones; especially when you consider Java's / Oak's origins of embedded set top box programming.  It isn't like an embedded system is going to have swap or disk backed virtual memory, so why make the JVM act as if it were available?</p>\n"},{"tags":[],"owner":{"account_id":10258,"reputation":26460,"user_id":19276,"accept_rate":81,"display_name":"DJClayworth"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1439216067,"creation_date":1282167722,"answer_id":3516960,"question_id":3516664,"body_markdown":"Three reasons:\r\n\r\n 1. Because Java was intended to be a language for writing web apps. It is generally not thought to be a good idea to let a web app take over all of the machine resources.\r\n 2. Because Java is garbage collected. As well as specifying an upper limit of memory, the heap size triggers garbage collection too. Essentially you are saying &quot;you can use this much, but when you hit that limit you&#39;ve got to tidy up&quot;.\r\n 3. There are many classes of applications where you do want to limit the amount of memory used by the Java process, e.g. where it is more important that other processes continue when there is insufficient memory for both.\r\n 4. Because **being able to limit heap size is a feature**. If you like the approach where the process can have unlimited memory, (as on the other languages mentioned) then you can always set the heap limit to be more than it could possibly acquire. If you want to limit heap size, you can do that. Other languages have only one of those possible behaviours, making them less flexible.","title":"Why do you need to specify the Java heap size?","body":"<p>Three reasons:</p>\n\n<ol>\n<li>Because Java was intended to be a language for writing web apps. It is generally not thought to be a good idea to let a web app take over all of the machine resources.</li>\n<li>Because Java is garbage collected. As well as specifying an upper limit of memory, the heap size triggers garbage collection too. Essentially you are saying \"you can use this much, but when you hit that limit you've got to tidy up\".</li>\n<li>There are many classes of applications where you do want to limit the amount of memory used by the Java process, e.g. where it is more important that other processes continue when there is insufficient memory for both.</li>\n<li>Because <strong>being able to limit heap size is a feature</strong>. If you like the approach where the process can have unlimited memory, (as on the other languages mentioned) then you can always set the heap limit to be more than it could possibly acquire. If you want to limit heap size, you can do that. Other languages have only one of those possible behaviours, making them less flexible.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9868114,"reputation":11,"user_id":7308859,"display_name":"Franklin Ronald"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648154418,"creation_date":1648154418,"answer_id":71609164,"question_id":3516664,"body_markdown":"Old topic but I got here and I think I know the answer.\r\n\r\nComplementing what Peter said, the Java ecosystem is entirely designed for system administrators and support teams. In the same way that the administrator defines the memory resources that he wants to be used by the application, the same happens with database connections (JNDI) in which you do not need to give the application or your developer where the database production is, just the name that references the resource.\r\nEverything Sun did had a perfect mission-critical management system. In the case of the Solaris operating system, Sun has developed a feature called &quot;projects&quot; (https://docs.oracle.com/cd/E37838_01/html/E61042/index.html) that serves for the administrator to limit server resources in applications of any programming language (as you mentioned above).\r\nTherefore, it is important for a production system to let the system administrator know how much resources the application is able to use and to be able to limit what is necessary. And this is not unique to Java or Sun products. In the case of .NET it is possible to limit these resources (https://learn.microsoft.com/en-us/iis/configuration/system.applicationhost/applicationpools/add/processmodel), Ruby (https://gist.github. com/jjb/7389552), Node.JS (https://stackoverflow.com/questions/48387040/how-do-i-determine-the-correct-max-old-space-size-for-node-js) and etc.\r\n\r\nLearning to manage is important like learning to develop. A lot of people think Docker is a modern marvel while FreeBSD Jails, Solaris Zones and so on existed a long time ago. What makes good software not fail is that it is well written and well managed.","title":"Why do you need to specify the Java heap size?","body":"<p>Old topic but I got here and I think I know the answer.</p>\n<p>Complementing what Peter said, the Java ecosystem is entirely designed for system administrators and support teams. In the same way that the administrator defines the memory resources that he wants to be used by the application, the same happens with database connections (JNDI) in which you do not need to give the application or your developer where the database production is, just the name that references the resource.\nEverything Sun did had a perfect mission-critical management system. In the case of the Solaris operating system, Sun has developed a feature called &quot;projects&quot; (<a href=\"https://docs.oracle.com/cd/E37838_01/html/E61042/index.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E37838_01/html/E61042/index.html</a>) that serves for the administrator to limit server resources in applications of any programming language (as you mentioned above).\nTherefore, it is important for a production system to let the system administrator know how much resources the application is able to use and to be able to limit what is necessary. And this is not unique to Java or Sun products. In the case of .NET it is possible to limit these resources (<a href=\"https://learn.microsoft.com/en-us/iis/configuration/system.applicationhost/applicationpools/add/processmodel\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/iis/configuration/system.applicationhost/applicationpools/add/processmodel</a>), Ruby (<a href=\"https://gist.github\" rel=\"nofollow noreferrer\">https://gist.github</a>. com/jjb/7389552), Node.JS (<a href=\"https://stackoverflow.com/questions/48387040/how-do-i-determine-the-correct-max-old-space-size-for-node-js\">How do I determine the correct &quot;max-old-space-size&quot; for node.js?</a>) and etc.</p>\n<p>Learning to manage is important like learning to develop. A lot of people think Docker is a modern marvel while FreeBSD Jails, Solaris Zones and so on existed a long time ago. What makes good software not fail is that it is well written and well managed.</p>\n"}],"owner":{"account_id":34618,"reputation":33031,"user_id":97901,"accept_rate":62,"display_name":"benstpierre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2131,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":3516712,"answer_count":5,"score":19,"last_activity_date":1648154418,"creation_date":1282165351,"question_id":3516664,"body_markdown":"I have always wondered, why does Java require you set the heap size manually?  I was under the impression that programs written in other languages would just allocate as much memory as needed as the program run until the OS could allocate no more.\r\n\r\nIn the Java world we need to set the heap, stack, and permgen size.  While this is simple enough forgetting to increase these to &quot;large enough&quot; numbers is the #1 reason I have seen servers go down.\r\n\r\nWhy is it not possible to tell Java to grow the heap/stack/permgen as much as it needs over time?","title":"Why do you need to specify the Java heap size?","body":"<p>I have always wondered, why does Java require you set the heap size manually?  I was under the impression that programs written in other languages would just allocate as much memory as needed as the program run until the OS could allocate no more.</p>\n\n<p>In the Java world we need to set the heap, stack, and permgen size.  While this is simple enough forgetting to increase these to \"large enough\" numbers is the #1 reason I have seen servers go down.</p>\n\n<p>Why is it not possible to tell Java to grow the heap/stack/permgen as much as it needs over time?</p>\n"},{"tags":["java","dictionary","immutability","guava"],"comments":[{"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"score":0,"creation_date":1328078031,"post_id":9091449,"comment_id":54288053,"body_markdown":"Please file a feature request if you like, but you probably really are looking for a library of proper functional data structures.","body":"Please file a feature request if you like, but you probably really are looking for a library of proper functional data structures."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1328078699,"post_id":9091449,"comment_id":54288054,"body_markdown":"Yep.  This is a thing which can be done -- that&#39;s what functional languages do -- but that&#39;s not what Guava is there for.  Guava&#39;s e.g. `ImmutableMap` is based on hashing, and that&#39;s not going to support efficient update, not without a significant price in query speed.","body":"Yep.  This is a thing which can be done -- that&#39;s what functional languages do -- but that&#39;s not what Guava is there for.  Guava&#39;s e.g. <code>ImmutableMap</code> is based on hashing, and that&#39;s not going to support efficient update, not without a significant price in query speed."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1328079118,"post_id":9091449,"comment_id":54288055,"body_markdown":"Rephrase: Guava&#39;s immutable collections are built for fast queries/iteration and minimal memory consumption.  That means hashing and arrays, which isn&#39;t going to let you support efficient nondestructive updates.","body":"Rephrase: Guava&#39;s immutable collections are built for fast queries/iteration and minimal memory consumption.  That means hashing and arrays, which isn&#39;t going to let you support efficient nondestructive updates."},{"owner":{"account_id":50098,"reputation":32598,"user_id":149311,"accept_rate":80,"display_name":"Thomas Jung"},"score":0,"creation_date":1328082214,"post_id":9091449,"comment_id":54288056,"body_markdown":"@Louis Guava could still support the API `originalMap.cloneAndPut(key, value)` or `originalMap.asBuilder().put(key, value)`.","body":"@Louis Guava could still support the API <code>originalMap.cloneAndPut(key, value)</code> or <code>originalMap.asBuilder().put(key, value)</code>."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1328115131,"post_id":9091449,"comment_id":54288057,"body_markdown":"That&#39;s got linear overhead, and it&#39;s super risky to make users think it&#39;s faster than it actually is...your code doesn&#39;t really make me realize that it&#39;s a slow workaround.","body":"That&#39;s got linear overhead, and it&#39;s super risky to make users think it&#39;s faster than it actually is...your code doesn&#39;t really make me realize that it&#39;s a slow workaround."},{"owner":{"account_id":50098,"reputation":32598,"user_id":149311,"accept_rate":80,"display_name":"Thomas Jung"},"score":0,"creation_date":1328122349,"post_id":9091449,"comment_id":54288058,"body_markdown":"@Louis Who thinks like that also thinks that new HashMap(map) or clone are constant operations. I&#39;d say not very many Java developers. (Would be nice to settle such somewhat pointless discussions with surveys and to see if Java devs think like you or I think they think.)","body":"@Louis Who thinks like that also thinks that new HashMap(map) or clone are constant operations. I&#39;d say not very many Java developers. (Would be nice to settle such somewhat pointless discussions with surveys and to see if Java devs think like you or I think they think.)"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1328122640,"post_id":9091449,"comment_id":54288059,"body_markdown":"I&#39;ll grant you that `cloneAndPut` is self-evidently linear, but some developers (like the OP!) might assume `asBuilder().put()` used some smarter tricks to be logarithmic or something.","body":"I&#39;ll grant you that <code>cloneAndPut</code> is self-evidently linear, but some developers (like the OP!) might assume <code>asBuilder().put()</code> used some smarter tricks to be logarithmic or something."},{"owner":{"account_id":3324,"reputation":14696,"user_id":4792,"accept_rate":50,"display_name":"Kevin Wong"},"score":0,"creation_date":1347479296,"post_id":9091449,"comment_id":54288060,"body_markdown":"Who cares if cloneAndPut() is fast/efficient. Lots of ppl will use these data structures in contexts where their performance isn&#39;t a concern (like me).","body":"Who cares if cloneAndPut() is fast/efficient. Lots of ppl will use these data structures in contexts where their performance isn&#39;t a concern (like me)."},{"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"score":0,"creation_date":1348701692,"post_id":9091449,"comment_id":54288061,"body_markdown":"Please file a feature request if you like, but you probably really are looking for a library of proper functional data structures.","body":"Please file a feature request if you like, but you probably really are looking for a library of proper functional data structures."},{"owner":{"account_id":2226874,"reputation":759,"user_id":1965404,"display_name":"typeracer"},"score":0,"creation_date":1573516673,"post_id":9091449,"comment_id":103899883,"body_markdown":"@KevinBourrillion It would be nice if the state of a builder could be copied/cloned.  This would allow creating a builder &quot;template&quot; and spawn off copies that allow adding other parameters.","body":"@KevinBourrillion It would be nice if the state of a builder could be copied/cloned.  This would allow creating a builder &quot;template&quot; and spawn off copies that allow adding other parameters."}],"answers":[{"tags":[],"owner":{"account_id":50098,"reputation":32598,"user_id":149311,"accept_rate":80,"display_name":"Thomas Jung"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1507218078,"creation_date":1328081141,"answer_id":9092294,"question_id":9091449,"body_markdown":"A bit unexpected the [map of Functional Java][1] is mutable like Guava&#39;s. The list is immutable though as I would expect.\r\n\r\nGoogling for &quot;persistent collection java&quot; brought up: pcollections. There are&#39;s a [Map implementation][2]. \r\n\r\nBefore actually using any other implementation I would benchmark the memory and performance characteristics against Guava. I would not be surprised if it&#39;s still better.\r\n\r\n\r\n  [1]: http://www.functionaljava.org/javadoc/4.7/functionaljava/index.html\r\n  [2]: http://static.javadoc.io/org.pcollections/pcollections/2.1.2/org/pcollections/HashPMap.html","title":"Efficiently &quot;modifying&quot; an ImmutableMap","body":"<p>A bit unexpected the <a href=\"http://www.functionaljava.org/javadoc/4.7/functionaljava/index.html\" rel=\"nofollow noreferrer\">map of Functional Java</a> is mutable like Guava's. The list is immutable though as I would expect.</p>\n\n<p>Googling for \"persistent collection java\" brought up: pcollections. There are's a <a href=\"http://static.javadoc.io/org.pcollections/pcollections/2.1.2/org/pcollections/HashPMap.html\" rel=\"nofollow noreferrer\">Map implementation</a>. </p>\n\n<p>Before actually using any other implementation I would benchmark the memory and performance characteristics against Guava. I would not be surprised if it's still better.</p>\n"},{"tags":[],"owner":{"account_id":14983151,"reputation":570,"user_id":10816587,"display_name":"MichaelCkr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648153286,"creation_date":1646821209,"answer_id":71407752,"question_id":9091449,"body_markdown":"One may go with the following&lt;s&gt;, to just duplicate the map once instead of twice&lt;/s&gt;:\r\n\r\n```java\r\nImmutableMap&lt;String, Object&gt; originalMap = /* get the map */;\r\nMap&lt;String, Object&gt; modifiedMap = ImmutableMap.&lt;String, Object&gt;builder().putAll( originalMap )\r\n   .put( &quot;new key&quot;, new Object() )\r\n   .build();\r\n```\r\n\r\nHowever, removing a value looks quite less beautiful with an iteration over the existing map, e.g. like this:\r\n\r\n```java\r\nImmutableMap&lt;String, Object&gt; originalMap = /* get the map */;\r\nif( !originalMap.containsKey( &quot;key to remove&quot; ) ) {\r\n   return;\r\n}\r\nImmutableMap.Builder&lt;String, Object&gt; mapBuilder = ImmutableMap.builder();\r\nfor( Map.Entry&lt;String, Object&gt; originalEntry : originalMap.entrySet() ) {\r\n   if( originalEntry.getKey().equals( &quot;key to remove&quot; ) ) {\r\n      continue;\r\n   }\r\n   mapBuilder.put( originalEntry );\r\n}\r\nMap&lt;String, Object&gt; modifiedMap = mapBuilder.build();\r\n```\r\n\r\n","title":"Efficiently &quot;modifying&quot; an ImmutableMap","body":"<p>One may go with the following<s>, to just duplicate the map once instead of twice</s>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ImmutableMap&lt;String, Object&gt; originalMap = /* get the map */;\nMap&lt;String, Object&gt; modifiedMap = ImmutableMap.&lt;String, Object&gt;builder().putAll( originalMap )\n   .put( &quot;new key&quot;, new Object() )\n   .build();\n</code></pre>\n<p>However, removing a value looks quite less beautiful with an iteration over the existing map, e.g. like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ImmutableMap&lt;String, Object&gt; originalMap = /* get the map */;\nif( !originalMap.containsKey( &quot;key to remove&quot; ) ) {\n   return;\n}\nImmutableMap.Builder&lt;String, Object&gt; mapBuilder = ImmutableMap.builder();\nfor( Map.Entry&lt;String, Object&gt; originalEntry : originalMap.entrySet() ) {\n   if( originalEntry.getKey().equals( &quot;key to remove&quot; ) ) {\n      continue;\n   }\n   mapBuilder.put( originalEntry );\n}\nMap&lt;String, Object&gt; modifiedMap = mapBuilder.build();\n</code></pre>\n"}],"owner":{"account_id":46836,"reputation":12142,"user_id":138513,"accept_rate":46,"display_name":"Hakanai"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10501,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":2,"score":15,"last_activity_date":1648153286,"creation_date":1328075731,"question_id":9091449,"body_markdown":"We&#39;re currently using Guava for its immutable collections but I was surprised to find that their maps don&#39;t have methods to easily create new maps with minor modifications. And on top of that, their builder doesn&#39;t allow assigning new values to keys, or removing keys.\r\n\r\nSo if I wanted to modify just one value, here&#39;s what I would like to be able to do:\r\n\r\n    ImmutableMap&lt;Guid, ImmutableMap&lt;String, Integer&gt;&gt; originalMap = /* get the map */;\r\n    ImmutableMap&lt;Guid, ImmutableMap&lt;String, Integer&gt;&gt; modifiedMap =\r\n        originalMap.cloneAndPut(key, value);\r\n\r\nHere&#39;s what it looks like Guava are expecting me to do:\r\n\r\n    ImmutableMap&lt;Guid, ImmutableMap&lt;String, Integer&gt;&gt; originalMap = /* get the map */;\r\n    Map&lt;Guid, ImmutableMap&lt;String, Integer&gt;&gt; mutableCopy = new LinkedHashMap&lt;&gt;(originalMap);\r\n    mutableCopy.put(key, value);\r\n    originalMap = ImmutableMap.copyOf(mutableCopy);\r\n    /* put the map back */\r\n\r\nBy doing this I get a new copy of the map with the modification I want. The original copy is untouched and I will be using an atomic reference to put the thing back so the whole setup is thread-safe.\r\n\r\nIt&#39;s just slow.\r\n\r\nThere is a lot of wasted copying going on under the covers here. Suppose there&#39;s 1,024 buckets in the map. That&#39;s 1,023 buckets which you&#39;re unnecessarily creating all over again (twice each, too), when you could have used those immutable buckets as-is and cloned only one of them.\r\n\r\nSo I guess:\r\n\r\n1. Is there a Guava utility method buried somewhere for this sort of thing? (It isn&#39;t in Maps or on the ImmutableMap.Builder.)\r\n\r\n2. Is there any other Java library which gets this sort of thing right? I am under the impression that Clojure has this sort of thing under the hood but we&#39;re not ready to switch languages just yet...\r\n","title":"Efficiently &quot;modifying&quot; an ImmutableMap","body":"<p>We're currently using Guava for its immutable collections but I was surprised to find that their maps don't have methods to easily create new maps with minor modifications. And on top of that, their builder doesn't allow assigning new values to keys, or removing keys.</p>\n\n<p>So if I wanted to modify just one value, here's what I would like to be able to do:</p>\n\n<pre><code>ImmutableMap&lt;Guid, ImmutableMap&lt;String, Integer&gt;&gt; originalMap = /* get the map */;\nImmutableMap&lt;Guid, ImmutableMap&lt;String, Integer&gt;&gt; modifiedMap =\n    originalMap.cloneAndPut(key, value);\n</code></pre>\n\n<p>Here's what it looks like Guava are expecting me to do:</p>\n\n<pre><code>ImmutableMap&lt;Guid, ImmutableMap&lt;String, Integer&gt;&gt; originalMap = /* get the map */;\nMap&lt;Guid, ImmutableMap&lt;String, Integer&gt;&gt; mutableCopy = new LinkedHashMap&lt;&gt;(originalMap);\nmutableCopy.put(key, value);\noriginalMap = ImmutableMap.copyOf(mutableCopy);\n/* put the map back */\n</code></pre>\n\n<p>By doing this I get a new copy of the map with the modification I want. The original copy is untouched and I will be using an atomic reference to put the thing back so the whole setup is thread-safe.</p>\n\n<p>It's just slow.</p>\n\n<p>There is a lot of wasted copying going on under the covers here. Suppose there's 1,024 buckets in the map. That's 1,023 buckets which you're unnecessarily creating all over again (twice each, too), when you could have used those immutable buckets as-is and cloned only one of them.</p>\n\n<p>So I guess:</p>\n\n<ol>\n<li><p>Is there a Guava utility method buried somewhere for this sort of thing? (It isn't in Maps or on the ImmutableMap.Builder.)</p></li>\n<li><p>Is there any other Java library which gets this sort of thing right? I am under the impression that Clojure has this sort of thing under the hood but we're not ready to switch languages just yet...</p></li>\n</ol>\n"},{"tags":["java","concurrency"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1648152911,"post_id":71608793,"comment_id":126559185,"body_markdown":"With `synchronized`, we do not have the capability to throw an exception, we can only wait until the resource gets available. If we need more fine-grained control, we can use a [`Lock`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/Lock.html). --- Why do you want to throw an exception instead of waiting until the resource is available?","body":"With <code>synchronized</code>, we do not have the capability to throw an exception, we can only wait until the resource gets available. If we need more fine-grained control, we can use a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/Lock.html\" rel=\"nofollow noreferrer\"><code>Lock</code></a>. --- Why do you want to throw an exception instead of waiting until the resource is available?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1648153005,"post_id":71608793,"comment_id":126559213,"body_markdown":"What&#39;s the point of synchronizing on `people` if the second thread throws an exception before it even gets there?","body":"What&#39;s the point of synchronizing on <code>people</code> if the second thread throws an exception before it even gets there?"},{"owner":{"account_id":22959374,"reputation":21,"user_id":17089505,"display_name":"Raccoon21"},"score":0,"creation_date":1648153797,"post_id":71608793,"comment_id":126559487,"body_markdown":"I want to catch the exception in ExceptionHandler and  alert the user who initiated the request to wait.","body":"I want to catch the exception in ExceptionHandler and  alert the user who initiated the request to wait."}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648153255,"creation_date":1648153255,"answer_id":71608935,"question_id":71608793,"body_markdown":"You can create a set of processing names and throw an exception if your name is already there:\r\n\r\n    private final Set&lt;String&gt; processingNames =\r\n            Collections.newSetFromMap(new ConcurrentHashMap&lt;&gt;());\r\n    \r\n    public AnyObject do(String name, String do) {\r\n        if (!processingNames.add(name)) {\r\n            throw new IllegalStateException(name + &quot; already processing&quot;);\r\n        }\r\n        try {\r\n            Name people = nameRepository.findByName(name);\r\n            synchronized (people) {\r\n                //...\r\n            }\r\n        } finally {\r\n            processingNames.remove(name);\r\n        }\r\n    }","title":"May I know the second request came in if I use synchronized?","body":"<p>You can create a set of processing names and throw an exception if your name is already there:</p>\n<pre><code>private final Set&lt;String&gt; processingNames =\n        Collections.newSetFromMap(new ConcurrentHashMap&lt;&gt;());\n\npublic AnyObject do(String name, String do) {\n    if (!processingNames.add(name)) {\n        throw new IllegalStateException(name + &quot; already processing&quot;);\n    }\n    try {\n        Name people = nameRepository.findByName(name);\n        synchronized (people) {\n            //...\n        }\n    } finally {\n        processingNames.remove(name);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22959374,"reputation":21,"user_id":17089505,"display_name":"Raccoon21"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648153255,"creation_date":1648152473,"question_id":71608793,"body_markdown":"I have a method that is called in a controller.\r\nfor example,\r\n`public AnyObject do(String name, String do) {...}`\r\n\r\nI want it to be impossible to execute this method for the same name.\r\nI do:\r\n`public AnyObject do(String name, String do) { Name people = nameRepository.findByName(name);     synchronized (people) {...} }`\r\n\r\nI hope my thoughts are correct...\r\n\r\nAnd if during the execution of the method it happens to be called again for &quot;people&quot;, I want to throw an exception. How can I know that the object is currently busy?\r\n\r\nI did not find any options to find out that the object is currently busy.","title":"May I know the second request came in if I use synchronized?","body":"<p>I have a method that is called in a controller.\nfor example,\n<code>public AnyObject do(String name, String do) {...}</code></p>\n<p>I want it to be impossible to execute this method for the same name.\nI do:\n<code>public AnyObject do(String name, String do) { Name people = nameRepository.findByName(name);     synchronized (people) {...} }</code></p>\n<p>I hope my thoughts are correct...</p>\n<p>And if during the execution of the method it happens to be called again for &quot;people&quot;, I want to throw an exception. How can I know that the object is currently busy?</p>\n<p>I did not find any options to find out that the object is currently busy.</p>\n"},{"tags":["java","macos","netbeans"],"comments":[{"owner":{"account_id":112931,"reputation":77772,"user_id":297696,"accept_rate":100,"display_name":"wkl"},"score":0,"creation_date":1339692685,"post_id":11037693,"comment_id":14434814,"body_markdown":"I think you&#39;re asking about [JAR Bundler](https://developer.apple.com/library/mac/#documentation/Java/Conceptual/Jar_Bundler/About/About.html#//apple_ref/doc/uid/TP40000884-CH202-BAJCICAA).","body":"I think you&#39;re asking about <a href=\"https://developer.apple.com/library/mac/#documentation/Java/Conceptual/Jar_Bundler/About/About.html#//apple_ref/doc/uid/TP40000884-CH202-BAJCICAA\" rel=\"nofollow noreferrer\">JAR Bundler</a>."},{"owner":{"account_id":145851,"reputation":20697,"user_id":355931,"accept_rate":88,"display_name":"Barranka"},"score":1,"creation_date":1339694906,"post_id":11037693,"comment_id":14435606,"body_markdown":"@birryree Not exactly... when I build the project, NetBeans generates a &quot;.jar&quot; file and a &quot;lib&quot; folder, which contains the required libraries for the application... what I&#39;d like to know is if there&#39;s a way to pack the full &quot;dist&quot; folder into an app, in order to distribute the full application (including required libraries) in one package, and to make this package executable in Mac OS X","body":"@birryree Not exactly... when I build the project, NetBeans generates a &quot;.jar&quot; file and a &quot;lib&quot; folder, which contains the required libraries for the application... what I&#39;d like to know is if there&#39;s a way to pack the full &quot;dist&quot; folder into an app, in order to distribute the full application (including required libraries) in one package, and to make this package executable in Mac OS X"},{"owner":{"account_id":767999,"reputation":4988,"user_id":803285,"accept_rate":74,"display_name":"Asif"},"score":0,"creation_date":1339697401,"post_id":11037693,"comment_id":14436581,"body_markdown":"Possible duplicate: http://stackoverflow.com/questions/2695214/convert-jar-to-an-osx-executable","body":"Possible duplicate: <a href=\"http://stackoverflow.com/questions/2695214/convert-jar-to-an-osx-executable\" title=\"convert jar to an osx executable\">stackoverflow.com/questions/2695214/&hellip;</a>"},{"owner":{"account_id":18250,"reputation":39302,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":1,"creation_date":1339697401,"post_id":11037693,"comment_id":14436582,"body_markdown":"@Barranka: If you want to deploy a Java app on OS X, you&#39;ll want to involve `JarBundler` (and thus a Mac) in your build process somehow. While it&#39;s possible to make an app bundle using lower-level tools, it&#39;s probably just less convenient.","body":"@Barranka: If you want to deploy a Java app on OS X, you&#39;ll want to involve <code>JarBundler</code> (and thus a Mac) in your build process somehow. While it&#39;s possible to make an app bundle using lower-level tools, it&#39;s probably just less convenient."},{"owner":{"account_id":767999,"reputation":4988,"user_id":803285,"accept_rate":74,"display_name":"Asif"},"score":1,"creation_date":1339697606,"post_id":11037693,"comment_id":14436665,"body_markdown":"I just google `jar to app converter` it results in bundles of apps and related blogs..[here](http://www.bartbusschots.ie/blog/?p=296) is one.","body":"I just google <code>jar to app converter</code> it results in bundles of apps and related blogs..<a href=\"http://www.bartbusschots.ie/blog/?p=296\" rel=\"nofollow noreferrer\">here</a> is one."},{"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"score":1,"creation_date":1474242133,"post_id":11037693,"comment_id":66437779,"body_markdown":"[Install4J](https://www.ej-technologies.com/products/install4j/overview.html) also works fine. Free for open source projects.","body":"<a href=\"https://www.ej-technologies.com/products/install4j/overview.html\" rel=\"nofollow noreferrer\">Install4J</a> also works fine. Free for open source projects."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1680206269,"post_id":11037693,"comment_id":133863484,"body_markdown":"Modern tooling: [*JEP 282: jlink: The Java Linker*](https://openjdk.org/jeps/282) and [*JEP 392: Packaging Tool*](https://openjdk.org/jeps/392). Learn the [*Java Platform Module System*](https://en.wikipedia.org/wiki/Java_Platform_Module_System)","body":"Modern tooling: <a href=\"https://openjdk.org/jeps/282\" rel=\"nofollow noreferrer\"><i>JEP 282: jlink: The Java Linker</i></a> and <a href=\"https://openjdk.org/jeps/392\" rel=\"nofollow noreferrer\"><i>JEP 392: Packaging Tool</i></a>. Learn the <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System\" rel=\"nofollow noreferrer\"><i>Java Platform Module System</i></a>"}],"answers":[{"tags":[],"owner":{"account_id":205044,"reputation":22510,"user_id":453590,"accept_rate":100,"display_name":"haylem"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1339696965,"creation_date":1339696523,"answer_id":11038674,"question_id":11037693,"body_markdown":"## Use the Apple Java Extensions and its Guide\r\n\r\nThe [Apple Java Extensions][1] contains a very complete development guide with information on the [deployment of Java applications on Mac OS X][4] and the production of application bundles. It also introduces other aspects of the Apple Java Extensions, like the support for integration with the standard Mac OS X UI.\r\n\r\n### Other references:\r\n\r\n * [JarBundler][5].\r\n * [Make a Mac OS X App Bundle][6]\r\n * [Creating a osx app bundle in Java registered to a protocol url][7]\r\n\r\n  [1]: http://developer.apple.com/library/mac/#samplecode/AppleJavaExtensions/Introduction/Intro.html\r\n  [2]: http://developer.apple.com/library/mac/#documentation/Java/Reference/JavaSE6_AppleExtensionsRef/api/index.html\r\n  [3]: http://www.apple.com/\r\n  [4]: http://developer.apple.com/library/mac/#documentation/Java/Conceptual/Java14Development/03-JavaDeployment/JavaDeployment.html\r\n  [5]: http://informagen.com/JarBundler/\r\n  [6]: http://howlingmoonsoftware.com/wordpress/?p=36\r\n  [7]: http://blog.myti.it/post/5158151441/javaosxurlhandler","title":"Convert Java application to Mac OS X app","body":"<h2>Use the Apple Java Extensions and its Guide</h2>\n\n<p>The <a href=\"http://developer.apple.com/library/mac/#samplecode/AppleJavaExtensions/Introduction/Intro.html\">Apple Java Extensions</a> contains a very complete development guide with information on the <a href=\"http://developer.apple.com/library/mac/#documentation/Java/Conceptual/Java14Development/03-JavaDeployment/JavaDeployment.html\">deployment of Java applications on Mac OS X</a> and the production of application bundles. It also introduces other aspects of the Apple Java Extensions, like the support for integration with the standard Mac OS X UI.</p>\n\n<h3>Other references:</h3>\n\n<ul>\n<li><a href=\"http://informagen.com/JarBundler/\">JarBundler</a>.</li>\n<li><a href=\"http://howlingmoonsoftware.com/wordpress/?p=36\">Make a Mac OS X App Bundle</a></li>\n<li><a href=\"http://blog.myti.it/post/5158151441/javaosxurlhandler\">Creating a osx app bundle in Java registered to a protocol url</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1212298,"reputation":27075,"user_id":1180621,"accept_rate":100,"display_name":"Andrejs"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1416168791,"creation_date":1399263345,"answer_id":23464693,"question_id":11037693,"body_markdown":"There is a library that let&#39;s you package your Java app  \r\n**Packr**: https://github.com/libgdx/packr\r\n\r\nPackages your JAR, assets and a JVM for distribution on Windows (ZIP), Linux (ZIP) and Mac OS X (.app), adding a native executable file to make it appear like the app is a native app.\r\n\r\nIt can even minimize the JRE for you.\r\n","title":"Convert Java application to Mac OS X app","body":"<p>There is a library that let's you package your Java app<br>\n<strong>Packr</strong>: <a href=\"https://github.com/libgdx/packr\">https://github.com/libgdx/packr</a></p>\n\n<p>Packages your JAR, assets and a JVM for distribution on Windows (ZIP), Linux (ZIP) and Mac OS X (.app), adding a native executable file to make it appear like the app is a native app.</p>\n\n<p>It can even minimize the JRE for you.</p>\n"},{"tags":[],"owner":{"account_id":10125938,"reputation":371,"user_id":7481295,"display_name":"Jorl17"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1485563855,"creation_date":1485563855,"answer_id":41905197,"question_id":11037693,"body_markdown":"**[jar2app][1]**\r\n\r\nPackr is a great tool, but at the time I found that I wanted something &quot;easier to use&quot;, so **jar2app** was born. I know this is an old question but perhaps other people might find this program **easier to use** than other alternatives. If they don&#39;t, there&#39;s [a direct reference in the FAQ][2] to other alternatives (such as Packr).\r\n\r\n\r\n  [1]: https://github.com/Jorl17/jar2app\r\n  [2]: https://github.com/Jorl17/jar2app#jar2app-doesnt-do-what-i-want-are-there-other-alternatives","title":"Convert Java application to Mac OS X app","body":"<p><strong><a href=\"https://github.com/Jorl17/jar2app\" rel=\"noreferrer\">jar2app</a></strong></p>\n\n<p>Packr is a great tool, but at the time I found that I wanted something \"easier to use\", so <strong>jar2app</strong> was born. I know this is an old question but perhaps other people might find this program <strong>easier to use</strong> than other alternatives. If they don't, there's <a href=\"https://github.com/Jorl17/jar2app#jar2app-doesnt-do-what-i-want-are-there-other-alternatives\" rel=\"noreferrer\">a direct reference in the FAQ</a> to other alternatives (such as Packr).</p>\n"},{"tags":[],"owner":{"account_id":218055,"reputation":165,"user_id":2097862,"display_name":"Molham"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1495548560,"creation_date":1495548560,"answer_id":44137157,"question_id":11037693,"body_markdown":"You can use [javapackager][1] tool to build the application and wrap it in into an installer, the following commands show how to convert a jar file into a bundle file:\r\ncommands\r\n-----------------------\r\n\r\n    mkdir -p package/macosx\r\n    cp Test.icns package/macosx\r\n    jdk=$(/usr/libexec/java_home)\r\n    $jdk/bin/javapackager -deploy -native dmg \\\r\n       -srcfiles Test.jar -appclass package.Test -name Test \\\r\n       -outdir deploy -outfile Test -v\r\n    cp deploy/bundles/Test-1.0.dmg installer.dmg\r\n    ls -l\r\n    open installer.dmg\r\n\r\n \r\n\r\nTo change the application icon and more info [MacJava][2].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/tools/unix/javapackager.html\r\n  [2]: http://centerkey.com/mac/java/","title":"Convert Java application to Mac OS X app","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/unix/javapackager.html\" rel=\"nofollow noreferrer\">javapackager</a> tool to build the application and wrap it in into an installer, the following commands show how to convert a jar file into a bundle file:</p>\n\n<h2>commands</h2>\n\n<pre><code>mkdir -p package/macosx\ncp Test.icns package/macosx\njdk=$(/usr/libexec/java_home)\n$jdk/bin/javapackager -deploy -native dmg \\\n   -srcfiles Test.jar -appclass package.Test -name Test \\\n   -outdir deploy -outfile Test -v\ncp deploy/bundles/Test-1.0.dmg installer.dmg\nls -l\nopen installer.dmg\n</code></pre>\n\n<p>To change the application icon and more info <a href=\"http://centerkey.com/mac/java/\" rel=\"nofollow noreferrer\">MacJava</a>.</p>\n"},{"tags":[],"owner":{"account_id":6845325,"reputation":1,"user_id":8222721,"display_name":"Alper San"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1518295215,"creation_date":1518282984,"answer_id":48723445,"question_id":11037693,"body_markdown":"You can try this app , it bundles your jar file into Mac app \r\n\r\nEdit: it&#39;s easy to use , select the Jar file and an Icon. Here you can see the [screen shoot.][1]\r\n\r\nhttps://github.com/aprsn/Mac-App-Creator\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/O3fJl.png","title":"Convert Java application to Mac OS X app","body":"<p>You can try this app , it bundles your jar file into Mac app </p>\n\n<p>Edit: it's easy to use , select the Jar file and an Icon. Here you can see the <a href=\"https://i.stack.imgur.com/O3fJl.png\" rel=\"nofollow noreferrer\">screen shoot.</a></p>\n\n<p><a href=\"https://github.com/aprsn/Mac-App-Creator\" rel=\"nofollow noreferrer\">https://github.com/aprsn/Mac-App-Creator</a></p>\n"},{"tags":[],"owner":{"account_id":2691138,"reputation":105,"user_id":2324477,"display_name":"Cheefachi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574920722,"creation_date":1574920722,"answer_id":59082577,"question_id":11037693,"body_markdown":"So none of these options worked for me (maybe because I am running OS X 10.15, maybe because most of these projects are years old, who knows). Installing Catalina made the existing app I had built around the Java app no longer work.\r\n\r\n[Ultimately, this post helped][1]: Just use Automator to run a script that runs the java command to launch the jar. I wanted to make an app to launch [Colossus, a Java version of the old Avalon Hill board game Titan][2]. I wrote a shell script that looks like:`java -Xmx256m -jar /my/path/to/the/game/Colossus.jar net.sf.colossus.appmain.Start` and then created an automator application whose only action was &quot;Run Shell Script&quot; that launches that script. Works like a charm, no installing Ant, no command line apps requiring you to download java vms, and best of all it uses an Apple tool so will work with newer versions of OS X.\r\n\r\n  [1]: https://apple.stackexchange.com/questions/91285/how-do-i-make-a-bash-script-so-that-i-can-drag-its-input-on-top-of-the-icon\r\n  [2]: http://colossus.sourceforge.net/","title":"Convert Java application to Mac OS X app","body":"<p>So none of these options worked for me (maybe because I am running OS X 10.15, maybe because most of these projects are years old, who knows). Installing Catalina made the existing app I had built around the Java app no longer work.</p>\n\n<p><a href=\"https://apple.stackexchange.com/questions/91285/how-do-i-make-a-bash-script-so-that-i-can-drag-its-input-on-top-of-the-icon\">Ultimately, this post helped</a>: Just use Automator to run a script that runs the java command to launch the jar. I wanted to make an app to launch <a href=\"http://colossus.sourceforge.net/\" rel=\"nofollow noreferrer\">Colossus, a Java version of the old Avalon Hill board game Titan</a>. I wrote a shell script that looks like:<code>java -Xmx256m -jar /my/path/to/the/game/Colossus.jar net.sf.colossus.appmain.Start</code> and then created an automator application whose only action was \"Run Shell Script\" that launches that script. Works like a charm, no installing Ant, no command line apps requiring you to download java vms, and best of all it uses an Apple tool so will work with newer versions of OS X.</p>\n"},{"tags":[],"owner":{"account_id":1194451,"reputation":348,"user_id":1166461,"accept_rate":60,"display_name":"Programus"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1603764402,"creation_date":1603764402,"answer_id":64547396,"question_id":11037693,"body_markdown":"Since some of the links in the accepted answer are no longer available or suitable in 2020, 8 years from the question was asked, I would like to share my findings that I confirmed working today. \r\n\r\nThere is a tool, `javapackager`, shipped with java, can package java application on Windows, Linux, macOS for you. \r\n\r\nHere is the official manual: https://docs.oracle.com/javase/8/docs/technotes/tools/unix/javapackager.html\r\n\r\n(Also there are other helpful tools here: https://docs.oracle.com/javase/8/docs/technotes/tools/ )\r\n\r\n----\r\nFor packaging a mac application, I used this command: \r\n```bash\r\njavapackager \\\r\n\t-deploy \\\r\n\t-native image \\\r\n\t-srcdir ./csv-encrypt-tool-mac \\\r\n\t-srcfiles csv-encrypt-tool.jar \\\r\n\t-srcfiles dict \\\r\n\t-srcfiles config \\\r\n\t-srcfiles log \\\r\n\t-outdir ./dist \\\r\n\t-outfile csv-encrypt-tool \\\r\n\t-appclass some.package.CsvEncToolApp \\\r\n\t-name &quot;csv-encrypt-tool&quot; \\\r\n\t-title &quot;csv-encrypt-tool&quot; \\\r\n\t-nosign \\\r\n\t-v \\\r\n\t-BjvmOptions=-Xmx4096m \\\r\n\t-BmainJar=csv-encrypt-tool.jar \\\r\n\t-Bicon=icon.icns\r\n\r\n```\r\n\r\nAnd this is the explanation: \r\n```bash\r\n-deploy \\                                       # Assembles the application package for redistribution with sys JRE\r\n-native image \\                                 # Build a .app file. If you want a .dmg, use -native dmg\r\n-srcdir ./csv-encrypt-tool-mac \\                # directory where my jar and resource files in\r\n-srcfiles csv-encrypt-tool.jar \\                # my executable jar, path relative to -srcdir\r\n-srcfiles dict \\                                # one of my resource directories, path relative to -srcdir\r\n-srcfiles config \\                              # another one of my resource directories, path relative to -srcdir\r\n-srcfiles log \\                                 # again, one of my resource directories, path relative to -srcdir\r\n-outdir ./dist \\                                # where I want the package to be put\r\n-outfile csv-encrypt-tool \\                     # the output file name without extension, the final file (or bundle which is a directory actually) will be csv-encrypt-tool.app\r\n-appclass some.package.CsvEncToolApp \\          # the class with main method, which is the entry point of the whole app\r\n-name &quot;csv-encrypt-tool&quot; \\                      # the name (not very sure what this is for)\r\n-title &quot;csv-encrypt-tool&quot; \\                     # the title (not sure what it is either)\r\n-nosign \\                                       # not sign the app since this is just an internal tool, if you want to publish it, signing is necessary\r\n-v \\                                            # verbose\r\n-BjvmOptions=-Xmx4096m \\                        # I need 4GB max heap size\r\n-BmainJar=csv-encrypt-tool.jar \\                # the jar file with main class\r\n-Bicon=icon.icns                                # the icon\r\n\r\n```\r\n\r\nAfter the command is executed, there will be some files and directories created in `dist`, where I want the package be, and one of the directories is `bundles`. The application is put in there. \r\n\r\nSince I just built an internal tool, there is no need to sign and packaged without other production ready options. You can refer to the official manual for help. \r\n\r\nHope this help others who do not know how to package an application on macOS in 2020, just like me. ","title":"Convert Java application to Mac OS X app","body":"<p>Since some of the links in the accepted answer are no longer available or suitable in 2020, 8 years from the question was asked, I would like to share my findings that I confirmed working today.</p>\n<p>There is a tool, <code>javapackager</code>, shipped with java, can package java application on Windows, Linux, macOS for you.</p>\n<p>Here is the official manual: <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/unix/javapackager.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/tools/unix/javapackager.html</a></p>\n<p>(Also there are other helpful tools here: <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/tools/</a> )</p>\n<hr />\n<p>For packaging a mac application, I used this command:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>javapackager \\\n    -deploy \\\n    -native image \\\n    -srcdir ./csv-encrypt-tool-mac \\\n    -srcfiles csv-encrypt-tool.jar \\\n    -srcfiles dict \\\n    -srcfiles config \\\n    -srcfiles log \\\n    -outdir ./dist \\\n    -outfile csv-encrypt-tool \\\n    -appclass some.package.CsvEncToolApp \\\n    -name &quot;csv-encrypt-tool&quot; \\\n    -title &quot;csv-encrypt-tool&quot; \\\n    -nosign \\\n    -v \\\n    -BjvmOptions=-Xmx4096m \\\n    -BmainJar=csv-encrypt-tool.jar \\\n    -Bicon=icon.icns\n\n</code></pre>\n<p>And this is the explanation:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>-deploy \\                                       # Assembles the application package for redistribution with sys JRE\n-native image \\                                 # Build a .app file. If you want a .dmg, use -native dmg\n-srcdir ./csv-encrypt-tool-mac \\                # directory where my jar and resource files in\n-srcfiles csv-encrypt-tool.jar \\                # my executable jar, path relative to -srcdir\n-srcfiles dict \\                                # one of my resource directories, path relative to -srcdir\n-srcfiles config \\                              # another one of my resource directories, path relative to -srcdir\n-srcfiles log \\                                 # again, one of my resource directories, path relative to -srcdir\n-outdir ./dist \\                                # where I want the package to be put\n-outfile csv-encrypt-tool \\                     # the output file name without extension, the final file (or bundle which is a directory actually) will be csv-encrypt-tool.app\n-appclass some.package.CsvEncToolApp \\          # the class with main method, which is the entry point of the whole app\n-name &quot;csv-encrypt-tool&quot; \\                      # the name (not very sure what this is for)\n-title &quot;csv-encrypt-tool&quot; \\                     # the title (not sure what it is either)\n-nosign \\                                       # not sign the app since this is just an internal tool, if you want to publish it, signing is necessary\n-v \\                                            # verbose\n-BjvmOptions=-Xmx4096m \\                        # I need 4GB max heap size\n-BmainJar=csv-encrypt-tool.jar \\                # the jar file with main class\n-Bicon=icon.icns                                # the icon\n\n</code></pre>\n<p>After the command is executed, there will be some files and directories created in <code>dist</code>, where I want the package be, and one of the directories is <code>bundles</code>. The application is put in there.</p>\n<p>Since I just built an internal tool, there is no need to sign and packaged without other production ready options. You can refer to the official manual for help.</p>\n<p>Hope this help others who do not know how to package an application on macOS in 2020, just like me.</p>\n"},{"tags":[],"owner":{"account_id":64856,"reputation":29696,"user_id":191246,"accept_rate":77,"display_name":"ccpizza"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1648152959,"creation_date":1615114051,"answer_id":66515637,"question_id":11037693,"body_markdown":"As of JDK14 there is also  **[`&#128230; jpackage`][1]** ([**JEP-392**][2]), currently promoted from incubation phase to a production-ready feature.\r\n\r\nExample usage that worked with an [swt app][3] (assumes all the required jar files reside in the `files` folder; you can also provide a custom resource folder with `--resource-dir`):\r\n\r\n```bash\r\njpackage --type dmg \\\r\n -i files \\\r\n -n Bigly \\\r\n --main-class com.biglybt.ui.Main \\\r\n --main-jar BiglyBT.jar \\\r\n --java-options -XstartOnFirstThread \\\r\n --mac-package-name BiglyBt \\\r\n --icon app.icns \\\r\n --verbose\r\n```\r\n\r\nFor the full option list use:\r\n\r\n```bash\r\njpackage --help\r\n```\r\n\r\n&gt; &lt;sup&gt;WARNING: It&#39;s probably debatable whether it&#39;s a bug or not, and maybe it will be addressed in a future release, but in the current version, if you specify the input folder as `-i .`, and do not provide a custom destination with `--dest` then jpackage will bundle *everything* in the current folder... including the bundle it just created, i.e. it goes recursive on itself *when* `.` is both the input folder *and* the output :D .&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/14/jpackage/packaging-overview.html\r\n  [2]: https://openjdk.java.net/jeps/392\r\n  [3]: https://github.com/BiglySoftware/BiglyBT","title":"Convert Java application to Mac OS X app","body":"<p>As of JDK14 there is also  <strong><a href=\"https://docs.oracle.com/en/java/javase/14/jpackage/packaging-overview.html\" rel=\"nofollow noreferrer\"><code>📦 jpackage</code></a></strong> (<a href=\"https://openjdk.java.net/jeps/392\" rel=\"nofollow noreferrer\"><strong>JEP-392</strong></a>), currently promoted from incubation phase to a production-ready feature.</p>\n<p>Example usage that worked with an <a href=\"https://github.com/BiglySoftware/BiglyBT\" rel=\"nofollow noreferrer\">swt app</a> (assumes all the required jar files reside in the <code>files</code> folder; you can also provide a custom resource folder with <code>--resource-dir</code>):</p>\n<pre class=\"lang-sh prettyprint-override\"><code>jpackage --type dmg \\\n -i files \\\n -n Bigly \\\n --main-class com.biglybt.ui.Main \\\n --main-jar BiglyBT.jar \\\n --java-options -XstartOnFirstThread \\\n --mac-package-name BiglyBt \\\n --icon app.icns \\\n --verbose\n</code></pre>\n<p>For the full option list use:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>jpackage --help\n</code></pre>\n<blockquote>\n<p><sup>WARNING: It's probably debatable whether it's a bug or not, and maybe it will be addressed in a future release, but in the current version, if you specify the input folder as <code>-i .</code>, and do not provide a custom destination with <code>--dest</code> then jpackage will bundle <em>everything</em> in the current folder... including the bundle it just created, i.e. it goes recursive on itself <em>when</em> <code>.</code> is both the input folder <em>and</em> the output :D .</sup></p>\n</blockquote>\n"}],"owner":{"account_id":145851,"reputation":20697,"user_id":355931,"accept_rate":88,"display_name":"Barranka"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36160,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":11038674,"answer_count":8,"score":18,"last_activity_date":1648152959,"creation_date":1339692293,"question_id":11037693,"body_markdown":"Is there a way to convert a Java application into a Mac OS X executable app?\r\n\r\nI use NetBeans to develop in Java, and I&#39;d like to &quot;pack&quot; the &quot;dist&quot; folder into an app (just for convenience)","title":"Convert Java application to Mac OS X app","body":"<p>Is there a way to convert a Java application into a Mac OS X executable app?</p>\n\n<p>I use NetBeans to develop in Java, and I'd like to \"pack\" the \"dist\" folder into an app (just for convenience)</p>\n"},{"tags":["java","spring-boot","aop","spring-aop","aspect"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1645808822,"post_id":71267768,"comment_id":125976557,"body_markdown":"I think I can explain to you what is going on. But before I do, please give me some more context. Why are those two messages bothering you? They should be logged on INFO. Is there any follow-up problem when starting or using the application? Because this is what I am seeing when trying to reproduce those log messages.","body":"I think I can explain to you what is going on. But before I do, please give me some more context. Why are those two messages bothering you? They should be logged on INFO. Is there any follow-up problem when starting or using the application? Because this is what I am seeing when trying to reproduce those log messages."},{"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"score":0,"creation_date":1645816556,"post_id":71267768,"comment_id":125979273,"body_markdown":"I understand they are not hurting anything, but it&#39;s also telling me that there is a Pointcut where I don&#39;t expect one.  There is no reason that any of the filters should be getting called.  So I&#39;m just trying to understand what&#39;s going on","body":"I understand they are not hurting anything, but it&#39;s also telling me that there is a Pointcut where I don&#39;t expect one.  There is no reason that any of the filters should be getting called.  So I&#39;m just trying to understand what&#39;s going on"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1646094905,"post_id":71267768,"comment_id":126035085,"body_markdown":"To @ℛɑƒ&#230;Ŀᴿᴹᴿ who reformatted the original code block to a normal text quote: Log output should be in a code block, even if it means horizontal scrolling. I reverted that.","body":"To @ℛɑƒ&#230;Ŀᴿᴹᴿ who reformatted the original code block to a normal text quote: Log output should be in a code block, even if it means horizontal scrolling. I reverted that."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646094718,"creation_date":1645873111,"answer_id":71276086,"question_id":71267768,"body_markdown":"Let us inspect the error message with some extra line breaks:\r\n\r\n```none\r\nUnable to proxy interface-implementing method\r\n  public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(\r\n    javax.servlet.ServletRequest,\r\n    javax.servlet.ServletResponse,\r\n    javax.servlet.FilterChain\r\n  )\r\n  throws javax.servlet.ServletException,java.io.IOException\r\n\r\nbecause it is marked as final:\r\n  Consider using interface-based JDK proxies instead!\r\n```\r\n\r\nWhat that means is that\r\n  * somewhere in your application (or in a dependency) you have a `Filter` class extending `OncePerRequestFilter` and\r\n  * somehow Spring AOP is trying to proxy it.\r\n  * The way it is trying to proxy it is by using CGLIB proxies.\r\n  * CGLIB proxies work by creating subclasses and overriding methods so as to be able to intercept them and delegate to the original ones or skip them, whatever the developer prefers.\r\n  * Spring framework class `OncePerRequestFilter` implements an interface method `doFilter` from `Filter`, but for some reason declares it `final`. I.e., when proxying the filter, the final method from the parent class cannot be proxied. If later you call it on the proxy instance, it actually ends up in the original object. You cannot hook into it with aspects, advisors or method interceptors.\r\n  * The hint &quot;consider using interface-based JDK proxies instead&quot; means that if you need to hook into such a method, you could configure Spring to create a JDK proxy instead of a CGLIB proxy. That way, the proxy would directly implement methods of all interfaces the target class implements, and you could hook into those two final methods. But in that case, other target class methods which do not implement any interface methods cannot be intercepted anymore. It is a trade-off, choose whichever variant is better for you, because you cannot have both.\r\n\r\nNow with regard to your astonishment that some classes are being targeted at all by Spring AOP, you need to understand that many pointcuts are being evaluated dynamically, especially if they contain things like `this()`, `target()`, `@(target)` etc. which need runtime information. Users are often surprised that their generic pointcuts seem to &quot;proxy the world&quot;, often even  including Spring&#39;s own framework beans. Usually, you can limit that by scoping the pointcuts with something like `&amp;&amp; within(org.acme.myapp..**)`. You can try that. Not being able to see your many pointcuts, I can only speculate what they might contain, but like so often in software development the devil is in the details.\r\n\r\n---\r\n\r\n**Update after question edit:** Like I speculated before, you are using dynamic pointcuts such as `@target` and `@annotation` and a bunch of `within(@org.springframework..* *)` stuff which also targets Spring&#39;s own beans. But what I am missing is some application-specific package scoping `&amp;&amp; within(org.acme.myapp..**)`, like I suggested before. So all of what I said before still holds. Neither have you reported back on whether you tried that and what the effect was, nor have you said if you found the bean(s) extending `OncePerRequestFilter` and `GenericFilterBean`.","title":"Aspect capturing additional Pointcuts","body":"<p>Let us inspect the error message with some extra line breaks:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Unable to proxy interface-implementing method\n  public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(\n    javax.servlet.ServletRequest,\n    javax.servlet.ServletResponse,\n    javax.servlet.FilterChain\n  )\n  throws javax.servlet.ServletException,java.io.IOException\n\nbecause it is marked as final:\n  Consider using interface-based JDK proxies instead!\n</code></pre>\n<p>What that means is that</p>\n<ul>\n<li>somewhere in your application (or in a dependency) you have a <code>Filter</code> class extending <code>OncePerRequestFilter</code> and</li>\n<li>somehow Spring AOP is trying to proxy it.</li>\n<li>The way it is trying to proxy it is by using CGLIB proxies.</li>\n<li>CGLIB proxies work by creating subclasses and overriding methods so as to be able to intercept them and delegate to the original ones or skip them, whatever the developer prefers.</li>\n<li>Spring framework class <code>OncePerRequestFilter</code> implements an interface method <code>doFilter</code> from <code>Filter</code>, but for some reason declares it <code>final</code>. I.e., when proxying the filter, the final method from the parent class cannot be proxied. If later you call it on the proxy instance, it actually ends up in the original object. You cannot hook into it with aspects, advisors or method interceptors.</li>\n<li>The hint &quot;consider using interface-based JDK proxies instead&quot; means that if you need to hook into such a method, you could configure Spring to create a JDK proxy instead of a CGLIB proxy. That way, the proxy would directly implement methods of all interfaces the target class implements, and you could hook into those two final methods. But in that case, other target class methods which do not implement any interface methods cannot be intercepted anymore. It is a trade-off, choose whichever variant is better for you, because you cannot have both.</li>\n</ul>\n<p>Now with regard to your astonishment that some classes are being targeted at all by Spring AOP, you need to understand that many pointcuts are being evaluated dynamically, especially if they contain things like <code>this()</code>, <code>target()</code>, <code>@(target)</code> etc. which need runtime information. Users are often surprised that their generic pointcuts seem to &quot;proxy the world&quot;, often even  including Spring's own framework beans. Usually, you can limit that by scoping the pointcuts with something like <code>&amp;&amp; within(org.acme.myapp..**)</code>. You can try that. Not being able to see your many pointcuts, I can only speculate what they might contain, but like so often in software development the devil is in the details.</p>\n<hr />\n<p><strong>Update after question edit:</strong> Like I speculated before, you are using dynamic pointcuts such as <code>@target</code> and <code>@annotation</code> and a bunch of <code>within(@org.springframework..* *)</code> stuff which also targets Spring's own beans. But what I am missing is some application-specific package scoping <code>&amp;&amp; within(org.acme.myapp..**)</code>, like I suggested before. So all of what I said before still holds. Neither have you reported back on whether you tried that and what the effect was, nor have you said if you found the bean(s) extending <code>OncePerRequestFilter</code> and <code>GenericFilterBean</code>.</p>\n"}],"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":491,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1648152900,"creation_date":1645801356,"question_id":71267768,"body_markdown":"I&#39;ve been getting these messages at startup of my Spring Boot service.\r\n\r\n```none\r\nUnable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(javax.servlet.ServletRequest,javax.servlet.ServletResponse,javax.servlet.FilterChain) throws javax.servlet.ServletException,java.io.IOException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n\r\nUnable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(javax.servlet.FilterConfig) throws javax.servlet.ServletException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n```\r\n\r\nThe problem&#39;s I can&#39;t figure out what classes are getting selected by my Pointcut that is causing this:\r\n\r\nMy Aspect file:\r\n\r\n    @Around(&quot;execution(public * com.torchai..*.*(..)) &quot;\r\n            + &quot;&amp;&amp; loggingEnabledAndNotDisabled()&quot;\r\n            + &quot;&amp;&amp; !allPublicControllerMethodsNotDisabled()&quot;\r\n            + &quot;&amp;&amp; !allPublicControllerLayerMethodsNotDisabled()&quot;\r\n            + &quot;&amp;&amp; !allPublicServiceMethodsNotDisabled()&quot;\r\n            + &quot;&amp;&amp; !allPublicServiceLayerMethodsNotDisabled()&quot;)\r\n    public Object allPublicMethodsNotDisabledAndNotControllerOrService(\r\n                  final ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\r\n        return log(proceedingJoinPoint, LogEvent.LAYER_OTHER);\r\n    }\r\n\r\n    @AfterThrowing(\r\n            pointcut = &quot;execution(public * com.torchai..*.*(..)) &quot;\r\n                    + &quot;&amp;&amp; loggingEnabledAndNotDisabled()&quot;\r\n                    + &quot;&amp;&amp; !allPublicControllerMethodsNotDisabled()&quot;\r\n                    + &quot;&amp;&amp; !allPublicControllerLayerMethodsNotDisabled()&quot;\r\n                    + &quot;&amp;&amp; !allPublicServiceMethodsNotDisabled()&quot;\r\n                    + &quot;&amp;&amp; !allPublicServiceLayerMethodsNotDisabled()&quot;,\r\n            throwing = &quot;t&quot;)\r\n    public void allPublicMethodsNotDisabledAndNotControllerOrService(\r\n                final JoinPoint joinPoint, final Throwable t) {\r\n        onException(joinPoint, t, LogEvent.LAYER_OTHER);\r\n    }\r\n\r\nI&#39;m not pasting in all the supporting Pointcuts, but you can see they are the same for `@Around` and `@AfterThrowing`. These points cuts should not be selecting anything at this point.\r\n\r\nWhat I find really interesting is if I totally comment out the `@Around` code, the problem is still there.\r\n\r\nBut if I leave the `@Around` code and comment out `@AfterThrowing`, the problem is gone.\r\n\r\nSo even though these 2 things should be equivalent in terms of what they select, for some reason `@AfterThrowing` is selecting something that is causing the problem.\r\n\r\n## Update\r\n\r\n@kriegaex Thanks for your through response.  Here are my other pointcuts.  Was just trying to keep things simple by not including them.\r\n\r\n```\r\n\r\n    @Pointcut(&quot;@annotation(com.torchai.service.aspect.annotations.AspectLog) &quot;\r\n            + &quot;|| @target(com.torchai.service.aspect.annotations.AspectLog)&quot;)\r\n    public void methodOrClassLoggingEnabled() {\r\n    }\r\n\r\n    @Pointcut(&quot;!@annotation(com.torchai.service.aspect.annotations.AspectNoLog)&quot;)\r\n    public void methodLoggingNotDisabled() {\r\n    }\r\n\r\n    @Pointcut(&quot;methodOrClassLoggingEnabled() &amp;&amp; methodLoggingNotDisabled()&quot;)\r\n    public void loggingEnabledAndNotDisabled() {\r\n    }\r\n\r\n    /**\r\n     * Any public methods in classes which are specifically annotated as a Controller\r\n     */\r\n    @Pointcut(&quot;within(@org.springframework.web.bind.annotation.RestController *) ||&quot;\r\n            + &quot;within(@org.springframework.stereotype.Controller *)&quot;)\r\n    public void allPublicControllerMethods() {\r\n    }\r\n\r\n    /**\r\n     * Any public methods in classes which are specifically annotated as a Service\r\n     */\r\n    @Pointcut(&quot;within(@org.springframework.stereotype.Service *)&quot;)\r\n    public void allPublicServiceMethods() {\r\n    }\r\n\r\n    // Controller classes are enabled by default, so don&#39;t need to be specifically enabled.\r\n    @Pointcut(&quot;allPublicControllerMethods() &quot;\r\n            + &quot;&amp;&amp; methodLoggingNotDisabled()&quot;)\r\n    public void allPublicControllerMethodsNotDisabled() {\r\n    }\r\n\r\n    // Service classes are enabled by default, so don&#39;t need to be specifically enabled.\r\n    @Pointcut(&quot;allPublicServiceMethods() &quot;\r\n            + &quot;&amp;&amp; methodLoggingNotDisabled()&quot;)\r\n    public void allPublicServiceMethodsNotDisabled() {\r\n    }\r\n\r\n    // Components which aren&#39;t Service classes, but in the service package need to be enabled with @AspectLog\r\n    @Pointcut(&quot;execution(public * com.torchai.service..service..*(..)) &quot;\r\n            + &quot;&amp;&amp; loggingEnabledAndNotDisabled()&quot;)\r\n    public void allPublicServiceLayerMethodsNotDisabled() {\r\n    }\r\n\r\n    // Components which aren&#39;t Controller classes, but in the controller package need to be enabled with @AspectLog\r\n    @Pointcut(&quot;execution(public * com.torchai.service..controller..*(..)) &quot;\r\n            + &quot;&amp;&amp; loggingEnabledAndNotDisabled()&quot;)\r\n    public void allPublicControllerLayerMethodsNotDisabled() {\r\n    }\r\n\r\n    @Around(&quot;allPublicControllerMethodsNotDisabled() &quot;\r\n            + &quot;|| allPublicControllerLayerMethodsNotDisabled()&quot;)\r\n    public Object logController(final ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\r\n        return log(proceedingJoinPoint, LogEvent.LAYER_CONTROLLER);\r\n    }\r\n\r\n    @Around(&quot;allPublicServiceMethodsNotDisabled() &quot;\r\n            + &quot;|| allPublicServiceLayerMethodsNotDisabled()&quot;)\r\n    public Object logService(final ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\r\n        return log(proceedingJoinPoint, LogEvent.LAYER_SERVICE);\r\n    }\r\n\r\n```\r\nI understand the basic meaning of the message, although admittedly, I&#39;m not sure how to do the JDK proxy instead.  But I don&#39;t think it really necessary.  We do have a Filter class which implements `OncePerRequestFilter`, but I can&#39;t be sure that that is the one getting picked up, because it doesn&#39;t say.\r\n\r\nBut my real confusion is not just that a class is getting picked up that I didn&#39;t expect, but that it seems to only get picked up by the `@AfterThrowing` and not by `@Around` .  Why wouldn&#39;t these be exactly the same?\r\n\r\n## Update #2 (a few minutes later)\r\nI&#39;m thinking this might have something to do with my used of `execution` as opposed to your suggestion of `within`.  I don&#39;t fully understand the difference.  But still, the definitions in `@AfterThrowing` and `@Around` are the same.  And even where I&#39;m using `execution`, it still needs to match the other conditions.\r\n\r\n\r\n## Update #3\r\n\r\nI&#39;ve created a repo that shows the problem: https://github.com/peterkronenberg/aoptest\r\n\r\nAt startup, Springboot issues these messages:\r\n\r\n```\r\n2022-03-24 15:58:57.261  INFO 35104 --- [           main] o.s.aop.framework.CglibAopProxy          : Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(javax.servlet.ServletRequest,javax.servlet.ServletResponse,javax.servlet.FilterChain) throws javax.servlet.ServletException,java.io.IOException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n2022-03-24 15:58:57.261  INFO 35104 --- [           main] o.s.aop.framework.CglibAopProxy          : Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(javax.servlet.FilterConfig) throws javax.servlet.ServletException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n2022-03-24 15:58:57.310 ERROR 35104 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Exception starting filter [authFilter]\r\n```\r\n\r\nThe service doesn&#39;t start up, which is not what I was seeing originally.  But maybe that provides more clues.  But if I disabled the Aspect code, simply by commenting out the `@Aspect` annotation in the `AspectLayer` class, then it seems to work.\r\nSomehow, there is a conflict between my Aspect code and my Filter code\r\n\r\nI do *not* want my AuthFilter class to be picked up by my Aspect code.  I believe that&#39;s what is causing the problem, although I&#39;m not sure why","title":"Aspect capturing additional Pointcuts","body":"<p>I've been getting these messages at startup of my Spring Boot service.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(javax.servlet.ServletRequest,javax.servlet.ServletResponse,javax.servlet.FilterChain) throws javax.servlet.ServletException,java.io.IOException] because it is marked as final: Consider using interface-based JDK proxies instead!\n\nUnable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(javax.servlet.FilterConfig) throws javax.servlet.ServletException] because it is marked as final: Consider using interface-based JDK proxies instead!\n</code></pre>\n<p>The problem's I can't figure out what classes are getting selected by my Pointcut that is causing this:</p>\n<p>My Aspect file:</p>\n<pre><code>@Around(&quot;execution(public * com.torchai..*.*(..)) &quot;\n        + &quot;&amp;&amp; loggingEnabledAndNotDisabled()&quot;\n        + &quot;&amp;&amp; !allPublicControllerMethodsNotDisabled()&quot;\n        + &quot;&amp;&amp; !allPublicControllerLayerMethodsNotDisabled()&quot;\n        + &quot;&amp;&amp; !allPublicServiceMethodsNotDisabled()&quot;\n        + &quot;&amp;&amp; !allPublicServiceLayerMethodsNotDisabled()&quot;)\npublic Object allPublicMethodsNotDisabledAndNotControllerOrService(\n              final ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\n    return log(proceedingJoinPoint, LogEvent.LAYER_OTHER);\n}\n\n@AfterThrowing(\n        pointcut = &quot;execution(public * com.torchai..*.*(..)) &quot;\n                + &quot;&amp;&amp; loggingEnabledAndNotDisabled()&quot;\n                + &quot;&amp;&amp; !allPublicControllerMethodsNotDisabled()&quot;\n                + &quot;&amp;&amp; !allPublicControllerLayerMethodsNotDisabled()&quot;\n                + &quot;&amp;&amp; !allPublicServiceMethodsNotDisabled()&quot;\n                + &quot;&amp;&amp; !allPublicServiceLayerMethodsNotDisabled()&quot;,\n        throwing = &quot;t&quot;)\npublic void allPublicMethodsNotDisabledAndNotControllerOrService(\n            final JoinPoint joinPoint, final Throwable t) {\n    onException(joinPoint, t, LogEvent.LAYER_OTHER);\n}\n</code></pre>\n<p>I'm not pasting in all the supporting Pointcuts, but you can see they are the same for <code>@Around</code> and <code>@AfterThrowing</code>. These points cuts should not be selecting anything at this point.</p>\n<p>What I find really interesting is if I totally comment out the <code>@Around</code> code, the problem is still there.</p>\n<p>But if I leave the <code>@Around</code> code and comment out <code>@AfterThrowing</code>, the problem is gone.</p>\n<p>So even though these 2 things should be equivalent in terms of what they select, for some reason <code>@AfterThrowing</code> is selecting something that is causing the problem.</p>\n<h2>Update</h2>\n<p>@kriegaex Thanks for your through response.  Here are my other pointcuts.  Was just trying to keep things simple by not including them.</p>\n<pre><code>\n    @Pointcut(&quot;@annotation(com.torchai.service.aspect.annotations.AspectLog) &quot;\n            + &quot;|| @target(com.torchai.service.aspect.annotations.AspectLog)&quot;)\n    public void methodOrClassLoggingEnabled() {\n    }\n\n    @Pointcut(&quot;!@annotation(com.torchai.service.aspect.annotations.AspectNoLog)&quot;)\n    public void methodLoggingNotDisabled() {\n    }\n\n    @Pointcut(&quot;methodOrClassLoggingEnabled() &amp;&amp; methodLoggingNotDisabled()&quot;)\n    public void loggingEnabledAndNotDisabled() {\n    }\n\n    /**\n     * Any public methods in classes which are specifically annotated as a Controller\n     */\n    @Pointcut(&quot;within(@org.springframework.web.bind.annotation.RestController *) ||&quot;\n            + &quot;within(@org.springframework.stereotype.Controller *)&quot;)\n    public void allPublicControllerMethods() {\n    }\n\n    /**\n     * Any public methods in classes which are specifically annotated as a Service\n     */\n    @Pointcut(&quot;within(@org.springframework.stereotype.Service *)&quot;)\n    public void allPublicServiceMethods() {\n    }\n\n    // Controller classes are enabled by default, so don't need to be specifically enabled.\n    @Pointcut(&quot;allPublicControllerMethods() &quot;\n            + &quot;&amp;&amp; methodLoggingNotDisabled()&quot;)\n    public void allPublicControllerMethodsNotDisabled() {\n    }\n\n    // Service classes are enabled by default, so don't need to be specifically enabled.\n    @Pointcut(&quot;allPublicServiceMethods() &quot;\n            + &quot;&amp;&amp; methodLoggingNotDisabled()&quot;)\n    public void allPublicServiceMethodsNotDisabled() {\n    }\n\n    // Components which aren't Service classes, but in the service package need to be enabled with @AspectLog\n    @Pointcut(&quot;execution(public * com.torchai.service..service..*(..)) &quot;\n            + &quot;&amp;&amp; loggingEnabledAndNotDisabled()&quot;)\n    public void allPublicServiceLayerMethodsNotDisabled() {\n    }\n\n    // Components which aren't Controller classes, but in the controller package need to be enabled with @AspectLog\n    @Pointcut(&quot;execution(public * com.torchai.service..controller..*(..)) &quot;\n            + &quot;&amp;&amp; loggingEnabledAndNotDisabled()&quot;)\n    public void allPublicControllerLayerMethodsNotDisabled() {\n    }\n\n    @Around(&quot;allPublicControllerMethodsNotDisabled() &quot;\n            + &quot;|| allPublicControllerLayerMethodsNotDisabled()&quot;)\n    public Object logController(final ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\n        return log(proceedingJoinPoint, LogEvent.LAYER_CONTROLLER);\n    }\n\n    @Around(&quot;allPublicServiceMethodsNotDisabled() &quot;\n            + &quot;|| allPublicServiceLayerMethodsNotDisabled()&quot;)\n    public Object logService(final ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\n        return log(proceedingJoinPoint, LogEvent.LAYER_SERVICE);\n    }\n\n</code></pre>\n<p>I understand the basic meaning of the message, although admittedly, I'm not sure how to do the JDK proxy instead.  But I don't think it really necessary.  We do have a Filter class which implements <code>OncePerRequestFilter</code>, but I can't be sure that that is the one getting picked up, because it doesn't say.</p>\n<p>But my real confusion is not just that a class is getting picked up that I didn't expect, but that it seems to only get picked up by the <code>@AfterThrowing</code> and not by <code>@Around</code> .  Why wouldn't these be exactly the same?</p>\n<h2>Update #2 (a few minutes later)</h2>\n<p>I'm thinking this might have something to do with my used of <code>execution</code> as opposed to your suggestion of <code>within</code>.  I don't fully understand the difference.  But still, the definitions in <code>@AfterThrowing</code> and <code>@Around</code> are the same.  And even where I'm using <code>execution</code>, it still needs to match the other conditions.</p>\n<h2>Update #3</h2>\n<p>I've created a repo that shows the problem: <a href=\"https://github.com/peterkronenberg/aoptest\" rel=\"nofollow noreferrer\">https://github.com/peterkronenberg/aoptest</a></p>\n<p>At startup, Springboot issues these messages:</p>\n<pre><code>2022-03-24 15:58:57.261  INFO 35104 --- [           main] o.s.aop.framework.CglibAopProxy          : Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(javax.servlet.ServletRequest,javax.servlet.ServletResponse,javax.servlet.FilterChain) throws javax.servlet.ServletException,java.io.IOException] because it is marked as final: Consider using interface-based JDK proxies instead!\n2022-03-24 15:58:57.261  INFO 35104 --- [           main] o.s.aop.framework.CglibAopProxy          : Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(javax.servlet.FilterConfig) throws javax.servlet.ServletException] because it is marked as final: Consider using interface-based JDK proxies instead!\n2022-03-24 15:58:57.310 ERROR 35104 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Exception starting filter [authFilter]\n</code></pre>\n<p>The service doesn't start up, which is not what I was seeing originally.  But maybe that provides more clues.  But if I disabled the Aspect code, simply by commenting out the <code>@Aspect</code> annotation in the <code>AspectLayer</code> class, then it seems to work.\nSomehow, there is a conflict between my Aspect code and my Filter code</p>\n<p>I do <em>not</em> want my AuthFilter class to be picked up by my Aspect code.  I believe that's what is causing the problem, although I'm not sure why</p>\n"},{"tags":["java","jasper-reports","azure-blob-storage","filenotfoundexception"],"answers":[{"tags":[],"owner":{"account_id":21681461,"reputation":8709,"user_id":15997509,"display_name":"kavyaS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648152492,"creation_date":1648152492,"answer_id":71608797,"question_id":71587102,"body_markdown":"Please check if any of the following ways can work.\r\n\r\n&gt; This exception `Error opening input stream from URL`  will be usually \r\n&gt; thrown by the FileInputStream, FileOutputStream .\r\n\r\n - FileInputStream is for files and not for URLs.\r\n\r\n \r\n\r\n\r\n----------\r\n\r\n\r\n1.To get an input stream from any URL is via `URL.openStream()`,    or\r\n    `URL.getConnection().getInputStream()`, which is equivalent but you \r\n    can have other reasons to get the URLConnection if required.\r\n    \r\n   \r\n example:\r\n\r\n    InputStream input = new\r\n         URL(&quot;https://MY_BLOB.blob.core.windows.net/images/explosive.png&quot;).openStream();\r\n\r\n  See [java - InputStream from a URL - Stack Overflow][1]\r\n\r\n\r\n----------\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n 2. Try adding that image as an image resource in the main &#39;images&#39;\r\n    folder, then try to change that line of xml to be the following:\r\n    \r\njrxml File:\r\n    \r\n        &lt;imageExpression&gt;&lt;![CDATA[&quot;https://...../images/explosive.png &quot;]]&gt;&lt;/imageExpression&gt;\r\n\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n\r\nOr\r\n\r\n.\r\n 3. Try to create the following parameters in reports to reference them\r\n    later from [absolute or external reference][2]  :   [java - Spring\r\n    JasperReports Images Location - Stack Overflow][3]\r\n    \r\n    This allows the images directory to be relative to the ROOT_DIR\r\n    path. It also allows you to change ROOT_DIR dynamically. The\r\n    parameters must be declared in their relative order.\r\n    \r\n        &lt;imageExpression class=&quot;java.lang.String&quot;&gt;\r\n           &lt;![CDATA[$P{ROOT_DIR}+&quot;explosive.png&quot;]]&gt;\r\n        &lt;/imageExpression&gt;\r\n\r\nPlease check the below references .\r\n\r\n**References:**\r\n\r\n 1. [java - Using JasperReports with a relative path - Stack Overflow][4]\r\n 2. [Jasper: error opening input stream from url - Stack Overflow][5]\r\n 3. [java - How to show an image on jasper report? - Stack Overflow][6]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6932369/inputstream-from-a-url?msclkid=0200302aaba511eca1753ea664805806\r\n  [2]: https://community.jaspersoft.com/documentation/jasperreports-server-administration-guide/v550/jasperreport-structure#:~:text=References%20in%20Subreports\r\n  [3]: https://stackoverflow.com/questions/6752630/spring-jasperreports-images-location?msclkid=d76848e4aba911eca27fecaf8f8235c7\r\n  [4]: https://stackoverflow.com/questions/5376725/using-jasperreports-with-a-relative-path\r\n  [5]: https://stackoverflow.com/questions/8340874/jasper-error-opening-input-stream-from-url\r\n  [6]: https://stackoverflow.com/questions/2746561/how-to-show-an-image-on-jasper-report?msclkid=677c7c27aba111ecb9ae5b5cd4a7c180\r\n","title":"Problem accesing image in Azure bolb storage from Spring app via URL","body":"<p>Please check if any of the following ways can work.</p>\n<blockquote>\n<p>This exception <code>Error opening input stream from URL</code>  will be usually\nthrown by the FileInputStream, FileOutputStream .</p>\n</blockquote>\n<ul>\n<li>FileInputStream is for files and not for URLs.</li>\n</ul>\n<hr />\n<p>1.To get an input stream from any URL is via <code>URL.openStream()</code>,    or\n<code>URL.getConnection().getInputStream()</code>, which is equivalent but you\ncan have other reasons to get the URLConnection if required.</p>\n<p>example:</p>\n<pre><code>InputStream input = new\n     URL(&quot;https://MY_BLOB.blob.core.windows.net/images/explosive.png&quot;).openStream();\n</code></pre>\n<p>See <a href=\"https://stackoverflow.com/questions/6932369/inputstream-from-a-url?msclkid=0200302aaba511eca1753ea664805806\">java - InputStream from a URL - Stack Overflow</a></p>\n<hr />\n<ol start=\"2\">\n<li>Try adding that image as an image resource in the main 'images'\nfolder, then try to change that line of xml to be the following:</li>\n</ol>\n<p>jrxml File:</p>\n<pre><code>    &lt;imageExpression&gt;&lt;![CDATA[&quot;https://...../images/explosive.png &quot;]]&gt;&lt;/imageExpression&gt;\n</code></pre>\n<hr />\n<p>Or</p>\n<p>.\n3. Try to create the following parameters in reports to reference them\nlater from <a href=\"https://community.jaspersoft.com/documentation/jasperreports-server-administration-guide/v550/jasperreport-structure#:%7E:text=References%20in%20Subreports\" rel=\"nofollow noreferrer\">absolute or external reference</a>  :   <a href=\"https://stackoverflow.com/questions/6752630/spring-jasperreports-images-location?msclkid=d76848e4aba911eca27fecaf8f8235c7\">java - Spring\nJasperReports Images Location - Stack Overflow</a></p>\n<pre><code>This allows the images directory to be relative to the ROOT_DIR\npath. It also allows you to change ROOT_DIR dynamically. The\nparameters must be declared in their relative order.\n\n    &lt;imageExpression class=&quot;java.lang.String&quot;&gt;\n       &lt;![CDATA[$P{ROOT_DIR}+&quot;explosive.png&quot;]]&gt;\n    &lt;/imageExpression&gt;\n</code></pre>\n<p>Please check the below references .</p>\n<p><strong>References:</strong></p>\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/5376725/using-jasperreports-with-a-relative-path\">java - Using JasperReports with a relative path - Stack Overflow</a></li>\n<li><a href=\"https://stackoverflow.com/questions/8340874/jasper-error-opening-input-stream-from-url\">Jasper: error opening input stream from url - Stack Overflow</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2746561/how-to-show-an-image-on-jasper-report?msclkid=677c7c27aba111ecb9ae5b5cd4a7c180\">java - How to show an image on jasper report? - Stack Overflow</a></li>\n</ol>\n"}],"owner":{"account_id":422416,"reputation":41,"user_id":801178,"display_name":"arkhadi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":413,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648152492,"creation_date":1648037925,"question_id":71587102,"body_markdown":"I have an image in Azure blob storage and I need access to it within an Spring boot app in order to populate a Jasper report.\r\nIn my local machine is working just fine, the code runs, gets the image and populates de reports but in my DEV environment it is not working.\r\n\r\nThe DEV envionrment is basically an Azure VM with Nginx as reverse proxy, and docker to run the containers. The spring app is up and running there but when I try to get the image it is not working. \r\nI receive a FileNotFound exception.\r\n\r\nHowever if I try to retrieve the image via a cUrl get i can download it form the VM and from the container itself.\r\nThere are some company configurations and proxy but as I can access it from the container I think I should be able to access it from my java code as well...\r\n\r\nThe URL and ip are mapped in the hosts file in the docker container.\r\n\r\nDoes anyone has any idea what may be happening? That I can retrieve the image from the container but not form the code?\r\n\r\nEDIT: Adding Stack trace from Jasper, pretty much the same when I open a stream in my own code.\r\n\r\n    2022-03-23 12:37:54.604 ERROR 1 --- [http-nio-8080-exec-9] n.s.j.engine.fill.JRFillSubreport : Fill 1: exception\r\n    \r\n    net.sf.jasperreports.engine.JRRuntimeException: net.sf.jasperreports.engine.JRException: Error opening input stream from URL: https://MY_BLOB.blob.core.windows.net/images/explosive.png.\r\n    at net.sf.jasperreports.repo.DefaultRepositoryService.getInputStream(DefaultRepositoryService.java:139) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    at net.sf.jasperreports.repo.InputStreamPersistenceService.load(InputStreamPersistenceService.java:51) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    at net.sf.jasperreports.repo.DefaultRepositoryService.getResource(DefaultRepositoryService.java:196) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    at net.sf.jasperreports.repo.RepositoryUtil.findInputStream(RepositoryUtil.java:195) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    at net.sf.jasperreports.repo.RepositoryUtil.getBytesFromLocation(RepositoryUtil.java:211) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    at net.sf.jasperreports.renderers.util.RendererUtil.getNonLazyRenderable(RendererUtil.java:179) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    at net.sf.jasperreports.engine.fill.JRFillImage.evaluateImage(JRFillImage.java:526) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    at net.sf.jasperreports.engine.fill.JRFillImage.evaluate(JRFillImage.java:451) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    at net.sf.jasperreports.engine.fill.JRFillElementContainer.evaluate(JRFillElementContainer.java:383) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    at net.sf.jasperreports.engine.fill.JRFillBand.evaluate(JRFillBand.java:548) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    at net.sf.jasperreports.engine.fill.JRVerticalFiller.fillSummaryNoLastFooterSamePage(JRVerticalFiller.java:1265) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    at net.sf.jasperreports.engine.fill.JRVerticalFiller.fillSummary(JRVerticalFiller.java:1216) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    at net.sf.jasperreports.engine.fill.JRVerticalFiller.fillReportEnd(JRVerticalFiller.java:308) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    at net.sf.jasperreports.engine.fill.JRVerticalFiller.fillReport(JRVerticalFiller.java:126) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    at net.sf.jasperreports.engine.fill.JRBaseFiller.fill(JRBaseFiller.java:622) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    at net.sf.jasperreports.engine.fill.BaseReportFiller.fill(BaseReportFiller.java:433) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    at net.sf.jasperreports.engine.fill.JRFillSubreport.fillSubreport(JRFillSubreport.java:830) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    at net.sf.jasperreports.engine.fill.JRSubreportRunnable.run(JRSubreportRunnable.java:61) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    at net.sf.jasperreports.engine.fill.AbstractThreadSubreportRunner.run(AbstractThreadSubreportRunner.java:221) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n    at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\r\n    Caused by: net.sf.jasperreports.engine.JRException: Error opening input stream from URL: https://MY_BLOB.blob.core.windows.net/images/explosive.png.\r\n    at net.sf.jasperreports.engine.util.JRLoader.getInputStream(JRLoader.java:343) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    at net.sf.jasperreports.repo.DefaultRepositoryService.getInputStream(DefaultRepositoryService.java:122) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    ... 21 common frames omitted\r\n    Caused by: java.io.FileNotFoundException: https://MY_BLOB.blob.core.windows.net/images/explosive.png\r\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1920) ~[na:na]\r\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1520) ~[na:na]\r\n    at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:250) ~[na:na]\r\n    at java.base/java.net.URL.openStream(URL.java:1165) ~[na:na]\r\n    at net.sf.jasperreports.engine.util.JRLoader.getInputStream(JRLoader.java:339) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n\r\n","title":"Problem accesing image in Azure bolb storage from Spring app via URL","body":"<p>I have an image in Azure blob storage and I need access to it within an Spring boot app in order to populate a Jasper report.\nIn my local machine is working just fine, the code runs, gets the image and populates de reports but in my DEV environment it is not working.</p>\n<p>The DEV envionrment is basically an Azure VM with Nginx as reverse proxy, and docker to run the containers. The spring app is up and running there but when I try to get the image it is not working.\nI receive a FileNotFound exception.</p>\n<p>However if I try to retrieve the image via a cUrl get i can download it form the VM and from the container itself.\nThere are some company configurations and proxy but as I can access it from the container I think I should be able to access it from my java code as well...</p>\n<p>The URL and ip are mapped in the hosts file in the docker container.</p>\n<p>Does anyone has any idea what may be happening? That I can retrieve the image from the container but not form the code?</p>\n<p>EDIT: Adding Stack trace from Jasper, pretty much the same when I open a stream in my own code.</p>\n<pre><code>2022-03-23 12:37:54.604 ERROR 1 --- [http-nio-8080-exec-9] n.s.j.engine.fill.JRFillSubreport : Fill 1: exception\n\nnet.sf.jasperreports.engine.JRRuntimeException: net.sf.jasperreports.engine.JRException: Error opening input stream from URL: https://MY_BLOB.blob.core.windows.net/images/explosive.png.\nat net.sf.jasperreports.repo.DefaultRepositoryService.getInputStream(DefaultRepositoryService.java:139) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\nat net.sf.jasperreports.repo.InputStreamPersistenceService.load(InputStreamPersistenceService.java:51) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\nat net.sf.jasperreports.repo.DefaultRepositoryService.getResource(DefaultRepositoryService.java:196) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\nat net.sf.jasperreports.repo.RepositoryUtil.findInputStream(RepositoryUtil.java:195) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\nat net.sf.jasperreports.repo.RepositoryUtil.getBytesFromLocation(RepositoryUtil.java:211) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\nat net.sf.jasperreports.renderers.util.RendererUtil.getNonLazyRenderable(RendererUtil.java:179) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\nat net.sf.jasperreports.engine.fill.JRFillImage.evaluateImage(JRFillImage.java:526) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\nat net.sf.jasperreports.engine.fill.JRFillImage.evaluate(JRFillImage.java:451) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\nat net.sf.jasperreports.engine.fill.JRFillElementContainer.evaluate(JRFillElementContainer.java:383) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\nat net.sf.jasperreports.engine.fill.JRFillBand.evaluate(JRFillBand.java:548) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\nat net.sf.jasperreports.engine.fill.JRVerticalFiller.fillSummaryNoLastFooterSamePage(JRVerticalFiller.java:1265) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\nat net.sf.jasperreports.engine.fill.JRVerticalFiller.fillSummary(JRVerticalFiller.java:1216) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\nat net.sf.jasperreports.engine.fill.JRVerticalFiller.fillReportEnd(JRVerticalFiller.java:308) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\nat net.sf.jasperreports.engine.fill.JRVerticalFiller.fillReport(JRVerticalFiller.java:126) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\nat net.sf.jasperreports.engine.fill.JRBaseFiller.fill(JRBaseFiller.java:622) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\nat net.sf.jasperreports.engine.fill.BaseReportFiller.fill(BaseReportFiller.java:433) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\nat net.sf.jasperreports.engine.fill.JRFillSubreport.fillSubreport(JRFillSubreport.java:830) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\nat net.sf.jasperreports.engine.fill.JRSubreportRunnable.run(JRSubreportRunnable.java:61) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\nat net.sf.jasperreports.engine.fill.AbstractThreadSubreportRunner.run(AbstractThreadSubreportRunner.java:221) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\nat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\nat java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\nCaused by: net.sf.jasperreports.engine.JRException: Error opening input stream from URL: https://MY_BLOB.blob.core.windows.net/images/explosive.png.\nat net.sf.jasperreports.engine.util.JRLoader.getInputStream(JRLoader.java:343) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\nat net.sf.jasperreports.repo.DefaultRepositoryService.getInputStream(DefaultRepositoryService.java:122) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\n... 21 common frames omitted\nCaused by: java.io.FileNotFoundException: https://MY_BLOB.blob.core.windows.net/images/explosive.png\nat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1920) ~[na:na]\nat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1520) ~[na:na]\nat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:250) ~[na:na]\nat java.base/java.net.URL.openStream(URL.java:1165) ~[na:na]\nat net.sf.jasperreports.engine.util.JRLoader.getInputStream(JRLoader.java:339) ~[jasperreports-6.17.0.jar!/:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\n</code></pre>\n"},{"tags":["java","unit-testing","mockito","jco"],"answers":[{"tags":[],"owner":{"account_id":11974021,"reputation":1349,"user_id":8761728,"display_name":"Tom Pantelis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1518963769,"creation_date":1518963769,"answer_id":48852691,"question_id":48852467,"body_markdown":"JCoDestinationManager.getDestination is a static method which you can&#39;t mock with &#39;when&#39; as that expects an instance method. You&#39;ll have to use a mocking framework that supports static methods like PowerMock.","title":"Mocking/stubbing JCo library using mockito framework","body":"<p>JCoDestinationManager.getDestination is a static method which you can't mock with 'when' as that expects an instance method. You'll have to use a mocking framework that supports static methods like PowerMock.</p>\n"},{"tags":[],"owner":{"account_id":3205029,"reputation":1,"user_id":2706223,"display_name":"Asyl J"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648152337,"creation_date":1648152337,"answer_id":71608769,"question_id":48852467,"body_markdown":"With the latest of Mockito, you can mock static methods.\r\n\r\n```\r\ntry (MockedStatic&lt;JCoDestinationManager&gt; manager = mockStatic(JCoDestinationManager.class)) {\r\n       manager.when(() -&gt;\r\n               JCoDestinationManager.getDestination(&quot;ABAP_AS_WITHOUT_POOL&quot;))\r\n              .thenReturn(destination);\r\n       assertEquals(destination,sapConnection.getDestination());\r\n\r\n    }\r\n```","title":"Mocking/stubbing JCo library using mockito framework","body":"<p>With the latest of Mockito, you can mock static methods.</p>\n<pre><code>try (MockedStatic&lt;JCoDestinationManager&gt; manager = mockStatic(JCoDestinationManager.class)) {\n       manager.when(() -&gt;\n               JCoDestinationManager.getDestination(&quot;ABAP_AS_WITHOUT_POOL&quot;))\n              .thenReturn(destination);\n       assertEquals(destination,sapConnection.getDestination());\n\n    }\n</code></pre>\n"}],"owner":{"account_id":12967604,"reputation":3,"user_id":9374543,"display_name":"dkrypt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":651,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":48852691,"answer_count":2,"score":0,"last_activity_date":1648152337,"creation_date":1518962279,"question_id":48852467,"body_markdown":"I am writing a basic Java program to connect to SAP server and retrieve a BAPI Function. This program is to basically showcase the importance of Unit Testing in development. However, while writing Unit Tests I would not like to really connect to the server and expect JCo return types. Considering this, I went ahead with Mockito framework to mock/stub some of the JCo libraries and it&#39;s methods. I would like to mention that I am new to Java and Mockito, however, I have good experience with C and C++. \r\n\r\n**Main Code:** \r\n\r\n    package SAPConnection;\r\n\r\n    import java.util.Properties;\r\n    \r\n    import com.sap.conn.jco.JCoDestination;\r\n    import com.sap.conn.jco.JCoDestinationManager;\r\n    import com.sap.conn.jco.JCoException;\r\n    import com.sap.conn.jco.JCoFunction;\r\n    import com.sap.conn.jco.ext.DestinationDataProvider;\r\n\r\n    public class sapConnection\r\n    {    \r\n        public static JCoDestination getDestination() throws JCoException\r\n        {\r\n            JCoDestination destination = JCoDestinationManager.getDestination(DESTINATION_NAME1);\r\n            return destination;\r\n        }\r\n    \r\n        public static JCoFunction retrieveFunction(String funName, JCoDestination destination) throws JCoException\r\n        {\r\n    \t    return(destination.getRepository().getFunction(funName)); \r\n        }\r\n    \r\n        public static void printMetaData(JCoFunction function)\r\n        {\r\n             System.out.println(function.getTableParameterList().getMetaData().toString());\r\n    \t     System.out.println(&quot;MetaData Printed Successfully\\n\\n&quot;);\r\n        }    \r\n    \r\n        public static void main(String[] args) throws JCoException\r\n        {\r\n            JCoDestination Finaldestination = getDestination(); \r\n            JCoFunction function = \r\n            retrieveFunction(&quot;ZBAPI_GET_DOCUMENTS&quot;,Finaldestination);\r\n            printMetaData(function);\r\n        }\r\n    }\r\n\r\n**Test Code**\r\n\r\n    package SAPConnection;\r\n\r\n    import static org.junit.Assert.assertEquals;\r\n    import static org.mockito.Mockito.when;\r\n\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n    import org.mockito.Mockito;\r\n\r\n    import com.sap.conn.jco.JCoDestination;\r\n    import com.sap.conn.jco.JCoDestinationManager;\r\n    import com.sap.conn.jco.JCoException;\r\n    import com.sap.conn.jco.JCoFunction;\r\n\r\n    public class testsapConnection {\r\n\r\n\tpublic JCoDestinationManager destManager = Mockito.mock(JCoDestinationManager.class);\r\n\tpublic JCoDestination destination=Mockito.mock(JCoDestination.class);\r\n\tpublic JCoFunction function = Mockito.mock(JCoFunction.class);\r\n\t\t\r\n\t@Test\r\n\tpublic void testgetDestination() throws JCoException {\r\n\t\twhen(destManager.getDestination(&quot;ABAP_AS_WITHOUT_POOL&quot;)).thenReturn(destination);\r\n\t\tassertEquals(destination,sapConnection.getDestination());\r\n\t}\r\n    }\r\n\r\nRather than a straightforward solution, please explain the underlying mistakes and problems in these codes so that I can understand.\r\n\r\nWhile running the test it says, \r\n\r\n    org.mockito.exceptions.misusing.MissingMethodInvocationException: \r\n    when() requires an argument which has to be &#39;a method call on a mock&#39;.","title":"Mocking/stubbing JCo library using mockito framework","body":"<p>I am writing a basic Java program to connect to SAP server and retrieve a BAPI Function. This program is to basically showcase the importance of Unit Testing in development. However, while writing Unit Tests I would not like to really connect to the server and expect JCo return types. Considering this, I went ahead with Mockito framework to mock/stub some of the JCo libraries and it's methods. I would like to mention that I am new to Java and Mockito, however, I have good experience with C and C++. </p>\n\n<p><strong>Main Code:</strong> </p>\n\n<pre><code>package SAPConnection;\n\nimport java.util.Properties;\n\nimport com.sap.conn.jco.JCoDestination;\nimport com.sap.conn.jco.JCoDestinationManager;\nimport com.sap.conn.jco.JCoException;\nimport com.sap.conn.jco.JCoFunction;\nimport com.sap.conn.jco.ext.DestinationDataProvider;\n\npublic class sapConnection\n{    \n    public static JCoDestination getDestination() throws JCoException\n    {\n        JCoDestination destination = JCoDestinationManager.getDestination(DESTINATION_NAME1);\n        return destination;\n    }\n\n    public static JCoFunction retrieveFunction(String funName, JCoDestination destination) throws JCoException\n    {\n        return(destination.getRepository().getFunction(funName)); \n    }\n\n    public static void printMetaData(JCoFunction function)\n    {\n         System.out.println(function.getTableParameterList().getMetaData().toString());\n         System.out.println(\"MetaData Printed Successfully\\n\\n\");\n    }    \n\n    public static void main(String[] args) throws JCoException\n    {\n        JCoDestination Finaldestination = getDestination(); \n        JCoFunction function = \n        retrieveFunction(\"ZBAPI_GET_DOCUMENTS\",Finaldestination);\n        printMetaData(function);\n    }\n}\n</code></pre>\n\n<p><strong>Test Code</strong></p>\n\n<pre><code>package SAPConnection;\n\nimport static org.junit.Assert.assertEquals;\nimport static org.mockito.Mockito.when;\n\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.mockito.Mockito;\n\nimport com.sap.conn.jco.JCoDestination;\nimport com.sap.conn.jco.JCoDestinationManager;\nimport com.sap.conn.jco.JCoException;\nimport com.sap.conn.jco.JCoFunction;\n\npublic class testsapConnection {\n\npublic JCoDestinationManager destManager = Mockito.mock(JCoDestinationManager.class);\npublic JCoDestination destination=Mockito.mock(JCoDestination.class);\npublic JCoFunction function = Mockito.mock(JCoFunction.class);\n\n@Test\npublic void testgetDestination() throws JCoException {\n    when(destManager.getDestination(\"ABAP_AS_WITHOUT_POOL\")).thenReturn(destination);\n    assertEquals(destination,sapConnection.getDestination());\n}\n}\n</code></pre>\n\n<p>Rather than a straightforward solution, please explain the underlying mistakes and problems in these codes so that I can understand.</p>\n\n<p>While running the test it says, </p>\n\n<pre><code>org.mockito.exceptions.misusing.MissingMethodInvocationException: \nwhen() requires an argument which has to be 'a method call on a mock'.\n</code></pre>\n"},{"tags":["java","android","android-layout","imageview"],"answers":[{"tags":[],"owner":{"account_id":18571239,"reputation":4748,"user_id":13533028,"display_name":"Narendra_Nath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648151538,"creation_date":1648149809,"answer_id":71608320,"question_id":71608135,"body_markdown":"The point to note here is the blurred background is an extension of the image itself. So if the left side of the screen has a purple hue the blurred region at the top left will be purple as well.\r\n\r\nYOu can use a library like [Blurry][1] where it blurs the contents of the screen and then set that as a background. You can control the amount of blur you want. \r\n\r\nOnce you get the blurred image set it as the background of the container layout and set the picture in front \r\n\r\neg:\r\n\r\n```\r\nval bitmap = Blurry.with(this)\r\n  .radius(10) // make it more if you want the lue to be more\r\n  .sampling(8)\r\n  .capture(findViewById(R.id.right_bottom)).get() // get the view you want to blur\r\nimageView.setImageDrawable(BitmapDrawable(resources, bitmap)) // set the value to the background\r\n```\r\n\r\n\r\n  [1]: https://github.com/wasabeef/Blurry","title":"Make an imageview blurred towards the vertical edges in Android","body":"<p>The point to note here is the blurred background is an extension of the image itself. So if the left side of the screen has a purple hue the blurred region at the top left will be purple as well.</p>\n<p>YOu can use a library like <a href=\"https://github.com/wasabeef/Blurry\" rel=\"nofollow noreferrer\">Blurry</a> where it blurs the contents of the screen and then set that as a background. You can control the amount of blur you want.</p>\n<p>Once you get the blurred image set it as the background of the container layout and set the picture in front</p>\n<p>eg:</p>\n<pre><code>val bitmap = Blurry.with(this)\n  .radius(10) // make it more if you want the lue to be more\n  .sampling(8)\n  .capture(findViewById(R.id.right_bottom)).get() // get the view you want to blur\nimageView.setImageDrawable(BitmapDrawable(resources, bitmap)) // set the value to the background\n</code></pre>\n"}],"owner":{"account_id":24677459,"reputation":141,"user_id":18571653,"display_name":"Mayur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":750,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1648151538,"creation_date":1648148794,"question_id":71608135,"body_markdown":"I would like to design a layout containing an imageview and a background view with two special effect. First is where the main imageview gets transformed with faded towards the vertical edges and second is a background imageview with a blurred effect like the image \r\n\r\n[![here][1]][1]\r\n\r\nThe result that i am able to achieve\r\n\r\n[![here][2]][2] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QReOO.jpg\r\n  [2]: https://i.stack.imgur.com/8puv6.jpg\r\n\r\nI saw this [post](https://stackoverflow.com/questions/21888674/apply-fading-edges-to-imageview) for my first effect and currently using it, but it does not work when I change my phone into dark mode so I am not getting a perfect solution. \r\n\r\nAnd the second special blur effect that i am able to achieve is far way different from what i want to achieve. The required blur effect has some hardness of the different shades of color and mine one is quite smooth. For my blur effect I am using the below code and I am using the library Fresco for my image.\r\n\r\n\r\n    ImageRequest request = ImageRequestBuilder.newBuilderWithSource(Uri.parse(imageUrl))\r\n                .setPostprocessor(new IterativeBoxBlurPostProcessor(60)).build();\r\n\r\n    PipelineDraweeController controller = (PipelineDraweeController) Fresco.newDraweeControllerBuilder()\r\n                .setImageRequest(request)\r\n                .setOldController(backgroundImage.getController())\r\n                .build();\r\n    backgroundImage.setController(controller);\r\n\r\n\r\nCan anyone please suggest me any good solution or any good library for it or some code sample that can help me to achieve what I want.","title":"Make an imageview blurred towards the vertical edges in Android","body":"<p>I would like to design a layout containing an imageview and a background view with two special effect. First is where the main imageview gets transformed with faded towards the vertical edges and second is a background imageview with a blurred effect like the image</p>\n<p><a href=\"https://i.stack.imgur.com/QReOO.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QReOO.jpg\" alt=\"here\" /></a></p>\n<p>The result that i am able to achieve</p>\n<p><a href=\"https://i.stack.imgur.com/8puv6.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8puv6.jpg\" alt=\"here\" /></a></p>\n<p>I saw this <a href=\"https://stackoverflow.com/questions/21888674/apply-fading-edges-to-imageview\">post</a> for my first effect and currently using it, but it does not work when I change my phone into dark mode so I am not getting a perfect solution.</p>\n<p>And the second special blur effect that i am able to achieve is far way different from what i want to achieve. The required blur effect has some hardness of the different shades of color and mine one is quite smooth. For my blur effect I am using the below code and I am using the library Fresco for my image.</p>\n<pre><code>ImageRequest request = ImageRequestBuilder.newBuilderWithSource(Uri.parse(imageUrl))\n            .setPostprocessor(new IterativeBoxBlurPostProcessor(60)).build();\n\nPipelineDraweeController controller = (PipelineDraweeController) Fresco.newDraweeControllerBuilder()\n            .setImageRequest(request)\n            .setOldController(backgroundImage.getController())\n            .build();\nbackgroundImage.setController(controller);\n</code></pre>\n<p>Can anyone please suggest me any good solution or any good library for it or some code sample that can help me to achieve what I want.</p>\n"},{"tags":["java","xml","jackson","jackson-dataformat-xml"],"owner":{"account_id":1506240,"reputation":165,"user_id":1409550,"display_name":"GoranM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648151159,"creation_date":1648151159,"question_id":71608549,"body_markdown":"It is very easy to serialize Java object to a string using something like:\r\n\r\n    import com.fasterxml.jackson.dataformat.xml.XmlMapper;\r\n    ...    \r\n    public void serialize() throws Exception {\r\n      MyPojo object = new MyPojo();\r\n      String xml = new XmlMapper().writeValueAsString(object);\r\n    }\r\n\r\nBut I have difficulties understanding how to get org.w3c.dom.Document or javax.xml.transform.dom.DOMResult as a result of this serialization (because I&#39;ll be doing XSLT transformation immediately after so I&#39;d like to avoid unnecessary string conversions)?","title":"Jackson XML Mapper: how to serialize Java object to org.w3c.dom.Document or javax.xml.transform.dom.DOMResult","body":"<p>It is very easy to serialize Java object to a string using something like:</p>\n<pre><code>import com.fasterxml.jackson.dataformat.xml.XmlMapper;\n...    \npublic void serialize() throws Exception {\n  MyPojo object = new MyPojo();\n  String xml = new XmlMapper().writeValueAsString(object);\n}\n</code></pre>\n<p>But I have difficulties understanding how to get org.w3c.dom.Document or javax.xml.transform.dom.DOMResult as a result of this serialization (because I'll be doing XSLT transformation immediately after so I'd like to avoid unnecessary string conversions)?</p>\n"},{"tags":["python","java","encryption","pycryptodome","javax.crypto"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1648154234,"post_id":71608455,"comment_id":126559638,"body_markdown":"In the Python code, `vault_auth_password` must be Base64 *de*coded and the nonce must be UTF8 encoded *only*. From `decrypt_me` the tag (the last 16 bytes) and the ciphertext (everything before) must be determined. Also [`decrypt_and_verify()`](https://pycryptodome.readthedocs.io/en/latest/src/cipher/modern.html#gcm-mode-1) should be applied. Note, for GCM a 12 bytes nonce is recommended, a static salt is fatal for GCM and in the Java code encodings are not specified, which is cross platform a potential source of errors.","body":"In the Python code, <code>vault_auth_password</code> must be Base64 <i>de</i>coded and the nonce must be UTF8 encoded <i>only</i>. From <code>decrypt_me</code> the tag (the last 16 bytes) and the ciphertext (everything before) must be determined. Also <a href=\"https://pycryptodome.readthedocs.io/en/latest/src/cipher/modern.html#gcm-mode-1\" rel=\"nofollow noreferrer\"><code>decrypt_and_verify()</code></a> should be applied. Note, for GCM a 12 bytes nonce is recommended, a static salt is fatal for GCM and in the Java code encodings are not specified, which is cross platform a potential source of errors."},{"owner":{"account_id":24570415,"reputation":77,"user_id":18476928,"display_name":"a693673"},"score":0,"creation_date":1648156695,"post_id":71608455,"comment_id":126560412,"body_markdown":"Hello.  Thanks for the fast reply.  What do you mean that the tag + ciphertext must be determined?  The decrypt_and_verify() requires a mac_tag, what should I pass to it?  Is that the &#39;determined&#39; part that you mentioned prior?  Thanks.","body":"Hello.  Thanks for the fast reply.  What do you mean that the tag + ciphertext must be determined?  The decrypt_and_verify() requires a mac_tag, what should I pass to it?  Is that the &#39;determined&#39; part that you mentioned prior?  Thanks."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1648157485,"post_id":71608455,"comment_id":126560622,"body_markdown":"I&#39;ve already described that: The tag is the last 16 bytes of `decrypt_me`, everything before that is the actual ciphertext.","body":"I&#39;ve already described that: The tag is the last 16 bytes of <code>decrypt_me</code>, everything before that is the actual ciphertext."},{"owner":{"account_id":24570415,"reputation":77,"user_id":18476928,"display_name":"a693673"},"score":0,"creation_date":1648158443,"post_id":71608455,"comment_id":126560874,"body_markdown":"Oh I see.  decrypt_me should be broken into two parts as you suggest.  Anyways, thanks.  That helped a lot.","body":"Oh I see.  decrypt_me should be broken into two parts as you suggest.  Anyways, thanks.  That helped a lot."}],"owner":{"account_id":24570415,"reputation":77,"user_id":18476928,"display_name":"a693673"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":620,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648150569,"creation_date":1648150569,"question_id":71608455,"body_markdown":"In my company, we have java class for encrypt/decrypt-ing small strings such as passwords.  \r\n\r\nRunning the java code through a debugger, I can get the encrypted string, and the decrypted string.  I then feed the encrypted string into my python code, and look at the decrypted string. \r\n\r\nWhat I find is that the two decrypted strings do not match.  The python decrypted string must equal the one produced by java.\r\n\r\nI am a complete newbie to encryption.  So, I&#39;m hoping I can get some help.  I have isolated the code below.  Now, I can&#39;t change the java code, b/c I don&#39;t own it.  I&#39;m wondering what I can do to the python code to produce the same output given the inputs.\r\n\r\nObviously, I&#39;ve changed the values for the encrypt/decrypt strings.\r\n\r\nThanks.\r\n\r\n\r\nRight now, I am focused on the decrypt side.  Here&#39;s the extracted java code:\r\n    \r\n    import java.io.IOException;\r\n    import java.nio.charset.Charset;\r\n    \r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.spec.GCMParameterSpec;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    \r\n    \r\n    import org.apache.commons.codec.binary.Base64;\r\n    \r\n    \r\n    class SecurityTool {\r\n    \r\n        private final String BYTE_MODE = &quot;UTF-8&quot;;\r\n        private String securityKey = &quot;&quot;;\r\n        private String vector = &quot;ABCD&quot;;\r\n    \r\n        public SecurityTool(String secKeyVal) {\r\n            securityKey = secKeyVal;\r\n            vector = &quot;ABCD&quot;;\r\n        }\r\n    \r\n    \r\n        public Cipher getCipherObject(String mode) {\r\n            Cipher cipher = null;\r\n            // This is utf-8\r\n            String default_charset = Charset.defaultCharset().toString();\r\n            try {\r\n                SecretKeySpec skeySpec = null;\r\n                GCMParameterSpec gcmParameterSpec = null;\r\n                if (securityKey != null &amp;&amp; vector != null) {\r\n                    skeySpec = new SecretKeySpec(securityKey.getBytes(BYTE_MODE), &quot;AES&quot;);\r\n                    gcmParameterSpec = new GCMParameterSpec(16 * 8, vector.getBytes(BYTE_MODE));\r\n                }\r\n                cipher = Cipher.getInstance(&quot;AES/GCM/NoPADDING&quot;);\r\n                if (mode.equalsIgnoreCase(&quot;ENCRYPT&quot;)) {\r\n                    cipher.init(Cipher.ENCRYPT_MODE, skeySpec, gcmParameterSpec);\r\n                } else {\r\n                    cipher.init(Cipher.DECRYPT_MODE, skeySpec, gcmParameterSpec);\r\n                }\r\n    \r\n            } catch (Exception e) {\r\n                System.out.println(&quot;EXCEPTION: Exception while instantiating Cipher security. Error=&gt;&quot; + e.getMessage());\r\n            }\r\n    \r\n            return cipher;\r\n        }\r\n    \r\n        public String encrypt(String tobeEncrypted) {\r\n            String retval = null;\r\n            byte[] encrypted = null;\r\n            try {\r\n                Cipher cipher = getCipherObject(&quot;ENCRYPT&quot;);\r\n                if (null != cipher) {\r\n                    encrypted = cipher.doFinal(tobeEncrypted.getBytes());\r\n                }\r\n                retval = Base64.encodeBase64String(encrypted);\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;EXCEPTION: Exception while encrypting string. Error=&gt;&quot; + e.getMessage());\r\n            }\r\n            return retval;\r\n        }\r\n    \r\n        public String decrypt(String tobeDecrypted) {\r\n            String retval = null;\r\n            byte[] originalText = null;\r\n            try {\r\n                Cipher cipher = getCipherObject(&quot;DECRYPT&quot;);\r\n                if (null != cipher) {\r\n                    originalText = cipher.doFinal(Base64.decodeBase64(tobeDecrypted));\r\n                }\r\n                retval = new String(originalText);\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;EXCEPTION: Exception while decrypting string. Error=&gt;&quot; + e.getMessage());\r\n            }\r\n            return retval;\r\n        }\r\n    }\r\n    \r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            String encrypted_vault_auth_password = &quot;&lt;encrypted-password-string&gt;&quot;;\r\n            String expected_decrypted_text = &quot;&lt;decrypted-password-expected&gt;&quot;;\r\n            String securityKey = &quot;&lt;the-security-key&gt;&quot;;\r\n            SecurityTool security_tool = new SecurityTool(securityKey);\r\n    \r\n            String decrypted_text = security_tool.decrypt(encrypted_vault_auth_password);\r\n    \r\n            boolean bmatch = expected_decrypted_text.equals(decrypted_text);\r\n    \r\n            System.out.println(&quot;Text matches: &quot; + bmatch);\r\n        }\r\n    }\r\n\r\nNow here&#39;s my python attempt at the same decryption:\r\n\r\n    from Crypto.Cipher import AES\r\n    import base64\r\n    \r\n    def decrypt_attempt():\r\n        vault_auth_password = &quot;&lt;encrypted-password-string&gt;&quot;\r\n        sec_key_val = &quot;&lt;the-security-key&gt;&quot;.encode(&#39;utf-8&#39;)\r\n        vector = base64.b64encode(&quot;ABCD&quot;.encode(&#39;utf-8&#39;))\r\n        decrypt_me = base64.b64encode(vault_auth_password.encode(&#39;utf-8&#39;))\r\n    \r\n        expected_text = &quot;&lt;decrypted-password-expected&gt;&quot;\r\n    \r\n        try:\r\n            cipher_object = AES.new(\r\n                sec_key_val,\r\n                mode=AES.MODE_GCM,\r\n                nonce=vector)\r\n    \r\n            original_text = cipher_object.decrypt(decrypt_me)\r\n            # original_text = base64.b64decode(original_text)\r\n            original_text = original_text.decode(&#39;utf-8&#39;)\r\n    \r\n            if original_text != expected_text:\r\n                raise Exception(\r\n                    f&quot;Decrypted password does not match: decrypt = {original_text}, expected = {expected_text}&quot;)\r\n        except Exception as e:\r\n            print(f&quot;Exception: {e}&quot;)\r\n            raise\r\n        else:\r\n            print(f&quot;Success!&quot;)\r\n    \r\n    if __name__ == &#39;__main__&#39;:\r\n        decrypt_attempt()\r\n\r\n","title":"Python equivalent to java encryption","body":"<p>In my company, we have java class for encrypt/decrypt-ing small strings such as passwords.</p>\n<p>Running the java code through a debugger, I can get the encrypted string, and the decrypted string.  I then feed the encrypted string into my python code, and look at the decrypted string.</p>\n<p>What I find is that the two decrypted strings do not match.  The python decrypted string must equal the one produced by java.</p>\n<p>I am a complete newbie to encryption.  So, I'm hoping I can get some help.  I have isolated the code below.  Now, I can't change the java code, b/c I don't own it.  I'm wondering what I can do to the python code to produce the same output given the inputs.</p>\n<p>Obviously, I've changed the values for the encrypt/decrypt strings.</p>\n<p>Thanks.</p>\n<p>Right now, I am focused on the decrypt side.  Here's the extracted java code:</p>\n<pre><code>import java.io.IOException;\nimport java.nio.charset.Charset;\n\nimport javax.crypto.Cipher;\nimport javax.crypto.spec.GCMParameterSpec;\nimport javax.crypto.spec.SecretKeySpec;\n\n\nimport org.apache.commons.codec.binary.Base64;\n\n\nclass SecurityTool {\n\n    private final String BYTE_MODE = &quot;UTF-8&quot;;\n    private String securityKey = &quot;&quot;;\n    private String vector = &quot;ABCD&quot;;\n\n    public SecurityTool(String secKeyVal) {\n        securityKey = secKeyVal;\n        vector = &quot;ABCD&quot;;\n    }\n\n\n    public Cipher getCipherObject(String mode) {\n        Cipher cipher = null;\n        // This is utf-8\n        String default_charset = Charset.defaultCharset().toString();\n        try {\n            SecretKeySpec skeySpec = null;\n            GCMParameterSpec gcmParameterSpec = null;\n            if (securityKey != null &amp;&amp; vector != null) {\n                skeySpec = new SecretKeySpec(securityKey.getBytes(BYTE_MODE), &quot;AES&quot;);\n                gcmParameterSpec = new GCMParameterSpec(16 * 8, vector.getBytes(BYTE_MODE));\n            }\n            cipher = Cipher.getInstance(&quot;AES/GCM/NoPADDING&quot;);\n            if (mode.equalsIgnoreCase(&quot;ENCRYPT&quot;)) {\n                cipher.init(Cipher.ENCRYPT_MODE, skeySpec, gcmParameterSpec);\n            } else {\n                cipher.init(Cipher.DECRYPT_MODE, skeySpec, gcmParameterSpec);\n            }\n\n        } catch (Exception e) {\n            System.out.println(&quot;EXCEPTION: Exception while instantiating Cipher security. Error=&gt;&quot; + e.getMessage());\n        }\n\n        return cipher;\n    }\n\n    public String encrypt(String tobeEncrypted) {\n        String retval = null;\n        byte[] encrypted = null;\n        try {\n            Cipher cipher = getCipherObject(&quot;ENCRYPT&quot;);\n            if (null != cipher) {\n                encrypted = cipher.doFinal(tobeEncrypted.getBytes());\n            }\n            retval = Base64.encodeBase64String(encrypted);\n        } catch (Exception e) {\n            System.out.println(&quot;EXCEPTION: Exception while encrypting string. Error=&gt;&quot; + e.getMessage());\n        }\n        return retval;\n    }\n\n    public String decrypt(String tobeDecrypted) {\n        String retval = null;\n        byte[] originalText = null;\n        try {\n            Cipher cipher = getCipherObject(&quot;DECRYPT&quot;);\n            if (null != cipher) {\n                originalText = cipher.doFinal(Base64.decodeBase64(tobeDecrypted));\n            }\n            retval = new String(originalText);\n        } catch (Exception e) {\n            System.out.println(&quot;EXCEPTION: Exception while decrypting string. Error=&gt;&quot; + e.getMessage());\n        }\n        return retval;\n    }\n}\n\n\npublic class Main {\n\n    public static void main(String[] args) {\n        String encrypted_vault_auth_password = &quot;&lt;encrypted-password-string&gt;&quot;;\n        String expected_decrypted_text = &quot;&lt;decrypted-password-expected&gt;&quot;;\n        String securityKey = &quot;&lt;the-security-key&gt;&quot;;\n        SecurityTool security_tool = new SecurityTool(securityKey);\n\n        String decrypted_text = security_tool.decrypt(encrypted_vault_auth_password);\n\n        boolean bmatch = expected_decrypted_text.equals(decrypted_text);\n\n        System.out.println(&quot;Text matches: &quot; + bmatch);\n    }\n}\n</code></pre>\n<p>Now here's my python attempt at the same decryption:</p>\n<pre><code>from Crypto.Cipher import AES\nimport base64\n\ndef decrypt_attempt():\n    vault_auth_password = &quot;&lt;encrypted-password-string&gt;&quot;\n    sec_key_val = &quot;&lt;the-security-key&gt;&quot;.encode('utf-8')\n    vector = base64.b64encode(&quot;ABCD&quot;.encode('utf-8'))\n    decrypt_me = base64.b64encode(vault_auth_password.encode('utf-8'))\n\n    expected_text = &quot;&lt;decrypted-password-expected&gt;&quot;\n\n    try:\n        cipher_object = AES.new(\n            sec_key_val,\n            mode=AES.MODE_GCM,\n            nonce=vector)\n\n        original_text = cipher_object.decrypt(decrypt_me)\n        # original_text = base64.b64decode(original_text)\n        original_text = original_text.decode('utf-8')\n\n        if original_text != expected_text:\n            raise Exception(\n                f&quot;Decrypted password does not match: decrypt = {original_text}, expected = {expected_text}&quot;)\n    except Exception as e:\n        print(f&quot;Exception: {e}&quot;)\n        raise\n    else:\n        print(f&quot;Success!&quot;)\n\nif __name__ == '__main__':\n    decrypt_attempt()\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-storage"],"comments":[{"owner":{"account_id":7423733,"reputation":7391,"user_id":5647037,"display_name":"Vucko"},"score":1,"creation_date":1648134352,"post_id":71604808,"comment_id":126552189,"body_markdown":"deprecated doesn&#39;t mean unusable. Just discouraged. Basically you can still use that method, but they&#39;re no longer maintaining it. This is the new and encouraged [way](https://stackoverflow.com/questions/62671106/onactivityresult-method-is-deprecated-what-is-the-alternative).","body":"deprecated doesn&#39;t mean unusable. Just discouraged. Basically you can still use that method, but they&#39;re no longer maintaining it. This is the new and encouraged <a href=\"https://stackoverflow.com/questions/62671106/onactivityresult-method-is-deprecated-what-is-the-alternative\">way</a>."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1648136428,"post_id":71604808,"comment_id":126553111,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?","body":"What exactly in this code doesn&#39;t work the way you expect?"}],"answers":[{"tags":[],"owner":{"account_id":15436122,"reputation":71,"user_id":11136190,"display_name":"Ruchi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648143404,"creation_date":1648143404,"answer_id":71607048,"question_id":71604808,"body_markdown":"Yes startActivityForeResult is deprecated.\r\n\r\nNow you can use ActivityResultLauncher for the callbacks\r\n\r\nhttps://developer.android.com/training/basics/intents/result#java","title":"How to upload and save an image from gallery. startActivityForResult deprecated","body":"<p>Yes startActivityForeResult is deprecated.</p>\n<p>Now you can use ActivityResultLauncher for the callbacks</p>\n<p><a href=\"https://developer.android.com/training/basics/intents/result#java\" rel=\"nofollow noreferrer\">https://developer.android.com/training/basics/intents/result#java</a></p>\n"},{"tags":[],"owner":{"account_id":2643177,"reputation":995,"user_id":2286422,"display_name":"Myroslav"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1648150117,"creation_date":1648150117,"answer_id":71608373,"question_id":71604808,"body_markdown":"`startActivityForResult` is indeed deprecated in later versions of AndroidX Activity and Fragment APIs (while I believe you can still use it despite of warning). New way to get result from activity is [`registerForActivityResult`][1]. \r\n\r\nIn your code you would need to create a launcher, which will handle result (selected image)\r\n```\r\nprivate final ActivityResultLauncher&lt;Intent&gt; launcher = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(),\r\n            result -&gt; {\r\n                if (result.getResultCode() == Activity.RESULT_OK \r\n                       &amp;&amp; result.getData() != null) {\r\n                    Uri photoUri = result.getData().getData();\r\n                    //use photoUri here\r\n                }\r\n            }\r\n    );\r\n\r\n```\r\nand then launch this launcher in onClickListener\r\n```\r\nprofileImage.setOnClickListener(view -&gt; {\r\n            Intent intent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n            launcher.launch(intent);\r\n        });\r\n```\r\n\r\n  [1]: https://developer.android.com/training/basics/intents/result","title":"How to upload and save an image from gallery. startActivityForResult deprecated","body":"<p><code>startActivityForResult</code> is indeed deprecated in later versions of AndroidX Activity and Fragment APIs (while I believe you can still use it despite of warning). New way to get result from activity is <a href=\"https://developer.android.com/training/basics/intents/result\" rel=\"noreferrer\"><code>registerForActivityResult</code></a>.</p>\n<p>In your code you would need to create a launcher, which will handle result (selected image)</p>\n<pre><code>private final ActivityResultLauncher&lt;Intent&gt; launcher = registerForActivityResult(\n            new ActivityResultContracts.StartActivityForResult(),\n            result -&gt; {\n                if (result.getResultCode() == Activity.RESULT_OK \n                       &amp;&amp; result.getData() != null) {\n                    Uri photoUri = result.getData().getData();\n                    //use photoUri here\n                }\n            }\n    );\n\n</code></pre>\n<p>and then launch this launcher in onClickListener</p>\n<pre><code>profileImage.setOnClickListener(view -&gt; {\n            Intent intent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n            launcher.launch(intent);\n        });\n</code></pre>\n"}],"owner":{"account_id":24675195,"reputation":11,"user_id":18569691,"display_name":"Alesha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3154,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1648150117,"creation_date":1648133969,"question_id":71604808,"body_markdown":"I&#39;m currently learning how to use android studio in java and am trying to make a social media app. I am currently creating an edit profile page where the user would update their details and upload a profile picture.\r\n\r\nI have been following tutorials online and all of the ones I have come across use the startActivityForResult method. It has been crossed out and wont call the method as it is deprecated. But I don&#39;t know what to use instead.\r\n\r\n`` `ProfileImage.setOnClickListener(new View.OnClickListener() { ``\r\n`@Override`\r\n`public void onClick(View view) {`\r\n`//open gallery`\r\n\r\n                Intent OpenGalleryIntent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n                startActivityForResult(OpenGalleryIntent, 1000);\r\n            }\r\n        });\r\n    }\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @androidx.annotation.Nullable Intent data){\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if(requestCode == 1000){\r\n            if(resultCode == Activity.RESULT_OK){\r\n                Uri imageUri = data.getData();\r\n                ProfileImage.setImageURI(imageUri);\r\n                UploadImageToFirebase(imageUri);\r\n            }\r\n        }\r\n    }\r\n    private void UploadImageToFirebase(Uri image){\r\n        StorageReference fileRef = storageReference.child(&quot;Profile.jpg&quot;);\r\n        fileRef.putFile(image).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n            @Override\r\n            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                Toast.makeText(Edit_Profile.this, &quot;Image Uploaded&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });![enter image description here](https://i.stack.imgur.com/padRc.jpg)`\r\n\r\nI know there is an alternative but I don&#39;t understand how it works.","title":"How to upload and save an image from gallery. startActivityForResult deprecated","body":"<p>I'm currently learning how to use android studio in java and am trying to make a social media app. I am currently creating an edit profile page where the user would update their details and upload a profile picture.</p>\n<p>I have been following tutorials online and all of the ones I have come across use the startActivityForResult method. It has been crossed out and wont call the method as it is deprecated. But I don't know what to use instead.</p>\n<p><code>`ProfileImage.setOnClickListener(new View.OnClickListener() {</code>\n<code>@Override</code>\n<code>public void onClick(View view) {</code>\n<code>//open gallery</code></p>\n<pre><code>            Intent OpenGalleryIntent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n            startActivityForResult(OpenGalleryIntent, 1000);\n        }\n    });\n}\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @androidx.annotation.Nullable Intent data){\n    super.onActivityResult(requestCode, resultCode, data);\n    if(requestCode == 1000){\n        if(resultCode == Activity.RESULT_OK){\n            Uri imageUri = data.getData();\n            ProfileImage.setImageURI(imageUri);\n            UploadImageToFirebase(imageUri);\n        }\n    }\n}\nprivate void UploadImageToFirebase(Uri image){\n    StorageReference fileRef = storageReference.child(&quot;Profile.jpg&quot;);\n    fileRef.putFile(image).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n        @Override\n        public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n            Toast.makeText(Edit_Profile.this, &quot;Image Uploaded&quot;, Toast.LENGTH_SHORT).show();\n        }\n    });![enter image description here](https://i.stack.imgur.com/padRc.jpg)`\n</code></pre>\n<p>I know there is an alternative but I don't understand how it works.</p>\n"},{"tags":["java","google-cloud-endpoints","endpoint"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1648159148,"post_id":71608299,"comment_id":126561062,"body_markdown":"You need to provide more details to get help here. E.g. what does web.xml look like, how do you build the project, how are dependencies specified? It is irrelevant that the code is from your teacher, but it is more relevant what do you want to achieve with it? (No, &quot;make it run&quot; is not what we need to hear ;-) , but  what should the code do?)","body":"You need to provide more details to get help here. E.g. what does web.xml look like, how do you build the project, how are dependencies specified? It is irrelevant that the code is from your teacher, but it is more relevant what do you want to achieve with it? (No, &quot;make it run&quot; is not what we need to hear ;-) , but  what should the code do?)"},{"owner":{"account_id":24677858,"reputation":1,"user_id":18572003,"display_name":"Arendar"},"score":0,"creation_date":1648203896,"post_id":71608299,"comment_id":126570446,"body_markdown":"Well... Someone in another server say me that I need is to cut this line (&lt;servlet-class&gt;com.google.api.server.spi.EndpointsServlet&lt;/servlet-class&gt;), save, paste this line at the same site and then save again. This solve my problem but if you want to know how is my code I will do in the next comment...","body":"Well... Someone in another server say me that I need is to cut this line (&lt;servlet-class&gt;com.google.api.server.spi.EndpointsServlet&lt;/&zwnj;&#8203;servlet-class&gt;), save, paste this line at the same site and then save again. This solve my problem but if you want to know how is my code I will do in the next comment..."},{"owner":{"account_id":24677858,"reputation":1,"user_id":18572003,"display_name":"Arendar"},"score":0,"creation_date":1648203986,"post_id":71608299,"comment_id":126570476,"body_markdown":"&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\n         version=&quot;3.1&quot;&gt;\n  &lt;servlet&gt;\n      &lt;servlet-name&gt;EndpointsServlet&lt;/servlet-name&gt;\n                &lt;servlet-class&gt;com.google.api.server.spi.EndpointsServlet&lt;/servlet-class&gt;\n      &lt;init-param&gt;\n        &lt;param-name&gt;services&lt;/param-name&gt;\n        &lt;param-value&gt;vocales.com.Endpoint_vocales&lt;/param-value&gt;\nContinue next...","body":"&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;web-app xmlns=&quot;<a href=\"http://xmlns.jcp.org/xml/ns/javaee\" rel=\"nofollow noreferrer\">xmlns.jcp.org/xml/ns/javaee</a>&quot;          xmlns:xsi=&quot;<a href=\"http://www.w3.org/2001/XMLSchema-instance\" rel=\"nofollow noreferrer\">w3.org/2001/XMLSchema-instance</a>&quot;          xsi:schemaLocation=&quot;<a href=\"http://xmlns.jcp.org/xml/ns/javaee\" rel=\"nofollow noreferrer\">xmlns.jcp.org/xml/ns/javaee</a> <a href=\"http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\" rel=\"nofollow noreferrer\">xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd</a>&quot;          version=&quot;3.1&quot;&gt;   &lt;servlet&gt;       &lt;servlet-name&gt;EndpointsServlet&lt;/servlet-name&gt;                 &lt;servlet-class&gt;com.google.api.server.spi.EndpointsServlet&lt;/s&zwnj;&#8203;ervlet-class&gt;       &lt;init-param&gt;         &lt;param-name&gt;services&lt;/param-name&gt;         &lt;param-value&gt;vocales.com.Endpoint_vocales&lt;/param-value&gt; Continue next..."},{"owner":{"account_id":24677858,"reputation":1,"user_id":18572003,"display_name":"Arendar"},"score":0,"creation_date":1648203995,"post_id":71608299,"comment_id":126570484,"body_markdown":"&lt;/init-param&gt;\n  &lt;/servlet&gt;\n    &lt;!-- Route API method requests to the backend. --&gt;\n  &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;EndpointsServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/_ah/api/*&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n  \n  &lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n  &lt;/welcome-file-list&gt;\n&lt;/web-app&gt;","body":"&lt;/init-param&gt;   &lt;/servlet&gt;     &lt;!-- Route API method requests to the backend. --&gt;   &lt;servlet-mapping&gt;         &lt;servlet-name&gt;EndpointsServlet&lt;/servlet-name&gt;         &lt;url-pattern&gt;/_ah/api/*&lt;/url-pattern&gt;   &lt;/servlet-mapping&gt;      &lt;welcome-file-list&gt;     &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;   &lt;/welcome-file-list&gt; &lt;/web-app&gt;"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1648376621,"post_id":71608299,"comment_id":126603989,"body_markdown":"please update your question with that XML stuff, chances are higher that other users will stop reading after the question ;) And: if you found a solution, please also answer your own question - so others with a similar problem have a better chance to get help from your learnings.","body":"please update your question with that XML stuff, chances are higher that other users will stop reading after the question ;) And: if you found a solution, please also answer your own question - so others with a similar problem have a better chance to get help from your learnings."}],"owner":{"account_id":24677858,"reputation":1,"user_id":18572003,"display_name":"Arendar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648149697,"creation_date":1648149697,"question_id":71608299,"body_markdown":"I was using a code from my teacher when I found this error. I tried to search in google how to solve it, just with this page: [java lang classnotfoundexception .com.google.api.server.spi.endpointservlet][1]. I just applied what the answers said but the problem didn&#39;t solve. What I should do to solve this error?\r\n\r\n    com.google.api.server.spi.EndpointsServlet could not be resolved\tweb.xml\t/cuentavocales/src/main/webapp/WEB-INF\tline 8\tUnresolved Servlet Class\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/48036019/java-lang-classnotfoundexception-com-google-api-server-spi-endpointsservlet/52673313","title":"com.google.api.server.spi.EndpointsServlet could not be resolved","body":"<p>I was using a code from my teacher when I found this error. I tried to search in google how to solve it, just with this page: <a href=\"https://stackoverflow.com/questions/48036019/java-lang-classnotfoundexception-com-google-api-server-spi-endpointsservlet/52673313\">java lang classnotfoundexception .com.google.api.server.spi.endpointservlet</a>. I just applied what the answers said but the problem didn't solve. What I should do to solve this error?</p>\n<pre><code>com.google.api.server.spi.EndpointsServlet could not be resolved    web.xml /cuentavocales/src/main/webapp/WEB-INF  line 8  Unresolved Servlet Class\n</code></pre>\n"},{"tags":["python","java","rsa","password-encryption"],"answers":[{"tags":[],"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648149620,"creation_date":1648143524,"answer_id":71607076,"question_id":71604965,"body_markdown":"The full error message is: *M2Crypto.RSA.RSAError: no start line*, indicating that the key is imported incorrectly.\r\n\r\n[`load_key_string()`][1] requires a PEM-encoded private key in PKCS#1 or PKCS#8 format, but no public key. A PEM encoded public key in X.509/SPKI format can be imported with [`load_pub_key_bio()`][2]. \r\n\r\nFrom the posted X.509/SPKI key a PEM encoded key can be created by adding a newline after every 64 characters and adding a corresponding header and footer:\r\n\r\n```py\r\nimport M2Crypto\r\n\r\nx509 = &#39;&#39;&#39;-----BEGIN PUBLIC KEY-----\r\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQClnY+3rAf/az9t2bxC80TObpZ2\r\nZCH1xSjPt9QtXl6k6UtD7mQcI2CWSwnDgKJr2m2WnM1kR6X+oOL61lXO0gSuuD8t\r\nWOx/knZA2VaSTLdsHBDLOX3e6Fo/O3CtoLVwO5FYFBIFHXMoikPkR8tFIOLWsX0y\r\n3slLQQShwSJAHytP4QIDAQAB\r\n-----END PUBLIC KEY-----&#39;&#39;&#39;\r\n\r\nbio = M2Crypto.BIO.MemoryBuffer(x509)\r\nrsa_pub = M2Crypto.RSA.load_pub_key_bio(bio)\r\n```\r\n\r\nAnother issue is that there is no `encode()` defined for an integer, but presumably `password` is supposed to be a string and this is just a copy/paste error. \r\n\r\nWith these changes the code works.\r\n\r\nNote that a 1024 bits RSA key (like yours) is insecure nowadays, instead the length should be &gt;= 2048 bits.\r\n\r\n[1]: https://gitlab.com/m2crypto/m2crypto/-/blob/master/src/M2Crypto/RSA.py#L403\r\n[2]: https://gitlab.com/m2crypto/m2crypto/-/blob/master/src/M2Crypto/RSA.py#L433","title":"How to use public key to encrypt data and use base64 encode it in python?","body":"<p>The full error message is: <em>M2Crypto.RSA.RSAError: no start line</em>, indicating that the key is imported incorrectly.</p>\n<p><a href=\"https://gitlab.com/m2crypto/m2crypto/-/blob/master/src/M2Crypto/RSA.py#L403\" rel=\"nofollow noreferrer\"><code>load_key_string()</code></a> requires a PEM-encoded private key in PKCS#1 or PKCS#8 format, but no public key. A PEM encoded public key in X.509/SPKI format can be imported with <a href=\"https://gitlab.com/m2crypto/m2crypto/-/blob/master/src/M2Crypto/RSA.py#L433\" rel=\"nofollow noreferrer\"><code>load_pub_key_bio()</code></a>.</p>\n<p>From the posted X.509/SPKI key a PEM encoded key can be created by adding a newline after every 64 characters and adding a corresponding header and footer:</p>\n<pre class=\"lang-py prettyprint-override\"><code>import M2Crypto\n\nx509 = '''-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQClnY+3rAf/az9t2bxC80TObpZ2\nZCH1xSjPt9QtXl6k6UtD7mQcI2CWSwnDgKJr2m2WnM1kR6X+oOL61lXO0gSuuD8t\nWOx/knZA2VaSTLdsHBDLOX3e6Fo/O3CtoLVwO5FYFBIFHXMoikPkR8tFIOLWsX0y\n3slLQQShwSJAHytP4QIDAQAB\n-----END PUBLIC KEY-----'''\n\nbio = M2Crypto.BIO.MemoryBuffer(x509)\nrsa_pub = M2Crypto.RSA.load_pub_key_bio(bio)\n</code></pre>\n<p>Another issue is that there is no <code>encode()</code> defined for an integer, but presumably <code>password</code> is supposed to be a string and this is just a copy/paste error.</p>\n<p>With these changes the code works.</p>\n<p>Note that a 1024 bits RSA key (like yours) is insecure nowadays, instead the length should be &gt;= 2048 bits.</p>\n"}],"owner":{"account_id":17957590,"reputation":550,"user_id":13049231,"display_name":"fitz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3005,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71607076,"answer_count":1,"score":1,"last_activity_date":1648149620,"creation_date":1648134631,"question_id":71604965,"body_markdown":"I want to implement the following function using python, it uses public key to encrypt the password and then using base64 to encode it. I have searched many answers but I didn&#39;t find a solution, I think probably I didn&#39;t understand them. Would you please give me some advice?\r\n\r\n```java\r\n// # java code\r\npublic static String encryptRSA(String password, String publicKey) {\r\n        try {\r\n            byte[] decoded = Base64.decode(publicKey);\r\n            RSAPublicKey pubKey = (RSAPublicKey) KeyFactory.getInstance(&quot;RSA&quot;)\r\n                    .generatePublic(new X509EncodedKeySpec(decoded));\r\n            Cipher cipher = Cipher.getInstance(&quot;RSA&quot;);\r\n            cipher.init(Cipher.ENCRYPT_MODE, pubKey);\r\n            String outStr = Base64.encode(cipher.doFinal(password.getBytes(&quot;UTF-8&quot;)));\r\n            return outStr;\r\n        } catch (Exception e) {\r\n        }\r\n        return null;\r\n    }\r\n```\r\nI use the following code, but it raises error `M2Crypto.RSA.RSAError`.\r\n```python\r\n# python code\r\nimport base64\r\n\r\nimport M2Crypto\r\n\r\npub = &quot;MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQClnY+3rAf/az9t2bxC80TObpZ2ZCH1xSjPt9QtXl6k6UtD7mQcI2CWSwnDgKJr2m2WnM1kR6X+oOL61lXO0gSuuD8tWOx/knZA2VaSTLdsHBDLOX3e6Fo/O3CtoLVwO5FYFBIFHXMoikPkR8tFIOLWsX0y3slLQQShwSJAHytP4QIDAQAB&quot;\r\npassword = 123\r\n\r\n\r\ndef public_encrypt(public_key, password):\r\n    rsa_pub = M2Crypto.RSA.load_key_string(public_key.encode(&#39;utf-8&#39;))\r\n    ctxt_pub = rsa_pub.public_encrypt(password.encode(), M2Crypto.RSA.pkcs1_padding)\r\n    ctxt64_pub = base64.b64encode(ctxt_pub).decode()\r\n    return ctxt64_pub\r\n\r\n\r\nres = public_encrypt(pub, password)\r\nprint(&#39;res:&#39;, res)\r\n```","title":"How to use public key to encrypt data and use base64 encode it in python?","body":"<p>I want to implement the following function using python, it uses public key to encrypt the password and then using base64 to encode it. I have searched many answers but I didn't find a solution, I think probably I didn't understand them. Would you please give me some advice?</p>\n<pre class=\"lang-java prettyprint-override\"><code>// # java code\npublic static String encryptRSA(String password, String publicKey) {\n        try {\n            byte[] decoded = Base64.decode(publicKey);\n            RSAPublicKey pubKey = (RSAPublicKey) KeyFactory.getInstance(&quot;RSA&quot;)\n                    .generatePublic(new X509EncodedKeySpec(decoded));\n            Cipher cipher = Cipher.getInstance(&quot;RSA&quot;);\n            cipher.init(Cipher.ENCRYPT_MODE, pubKey);\n            String outStr = Base64.encode(cipher.doFinal(password.getBytes(&quot;UTF-8&quot;)));\n            return outStr;\n        } catch (Exception e) {\n        }\n        return null;\n    }\n</code></pre>\n<p>I use the following code, but it raises error <code>M2Crypto.RSA.RSAError</code>.</p>\n<pre class=\"lang-py prettyprint-override\"><code># python code\nimport base64\n\nimport M2Crypto\n\npub = &quot;MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQClnY+3rAf/az9t2bxC80TObpZ2ZCH1xSjPt9QtXl6k6UtD7mQcI2CWSwnDgKJr2m2WnM1kR6X+oOL61lXO0gSuuD8tWOx/knZA2VaSTLdsHBDLOX3e6Fo/O3CtoLVwO5FYFBIFHXMoikPkR8tFIOLWsX0y3slLQQShwSJAHytP4QIDAQAB&quot;\npassword = 123\n\n\ndef public_encrypt(public_key, password):\n    rsa_pub = M2Crypto.RSA.load_key_string(public_key.encode('utf-8'))\n    ctxt_pub = rsa_pub.public_encrypt(password.encode(), M2Crypto.RSA.pkcs1_padding)\n    ctxt64_pub = base64.b64encode(ctxt_pub).decode()\n    return ctxt64_pub\n\n\nres = public_encrypt(pub, password)\nprint('res:', res)\n</code></pre>\n"},{"tags":["java","swing","awt"],"answers":[{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648146302,"creation_date":1648146302,"answer_id":71607646,"question_id":71607565,"body_markdown":"What you&#39;ll want to do is to create a calculateCost() that then checks if the radio/check boxes are selected to alter the value.  Then have your listener call that method.  For example:\r\n\r\n\r\n    public void calculateAndDiplay() {\r\n          float cost = 15.00;\r\n          if (r2.isSelected()) {\r\n             cost += 20;\r\n          }\r\n          if (c1.isSelected()) {\r\n            cost += 5;\r\n          }\r\n          if (c2.isSelected()) {\r\n            cost += 8;\r\n          }\r\n          if (c3.isSelected()) {\r\n            cost += 10;\r\n          }\r\n          t1.setText(Float.toString(cost));\r\n    } ","title":"I would like to perform some arithmetic operation based on the selection of a radio/checkbox button. How to code the action listener on this button?","body":"<p>What you'll want to do is to create a calculateCost() that then checks if the radio/check boxes are selected to alter the value.  Then have your listener call that method.  For example:</p>\n<pre><code>public void calculateAndDiplay() {\n      float cost = 15.00;\n      if (r2.isSelected()) {\n         cost += 20;\n      }\n      if (c1.isSelected()) {\n        cost += 5;\n      }\n      if (c2.isSelected()) {\n        cost += 8;\n      }\n      if (c3.isSelected()) {\n        cost += 10;\n      }\n      t1.setText(Float.toString(cost));\n} \n</code></pre>\n"}],"owner":{"account_id":24677058,"reputation":1,"user_id":18571320,"display_name":"axolotl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648149407,"creation_date":1648145871,"question_id":71607565,"body_markdown":"I want to take values from radio and checkbox button based on selection. After that perform addition of given values and show them in textbox. I&#39;m confused between ActionListener and itemlistner\r\n\r\n    import java.awt.; \r\n    import java.awt.event.; \r\n    import javax.swing.*; \r\n     class roomcost implements ActionListener {\r\n      Button b1;\r\n      TextField t1;\r\n      Label l1,l2,l3,l4,l5,l6,l7;\r\n      JFrame f;\r\n      JCheckBox c1,c2,c3;\r\n      JRadioButton r1,r2;\r\n      ButtonGroup bg;\r\n      roomcost() {\r\n       JFrame f = new JFrame(&quot;Hotel Room Reservation&quot;);\r\n    \r\n        Label l1 = new Label(&quot;Room Type:&quot;);\r\n        Label l2 = new Label(&quot;Facilities:&quot;);\r\n        Label l3 = new Label(&quot;cost:&quot;);\r\n        Label l4 = new Label(&quot; &quot;);\r\n        Label l5 = new Label(&quot; &quot;);\r\n        Label l6 = new Label(&quot; &quot;);\r\n        Label l7 = new Label(&quot; &quot;);\r\n        t1 = new TextField();\r\n        c1 = new JCheckBox(&quot;Breakfast&quot;);\r\n        c2 = new JCheckBox(&quot;Lunch&quot;);\r\n        c3 = new JCheckBox(&quot;Dinner&quot;);\r\n        r1 = new JRadioButton(&quot;AC&quot;);\r\n        r2 = new JRadioButton(&quot;Non-AC&quot;);\r\n        ButtonGroup group=new ButtonGroup();\r\n        group.add(r1);\r\n        group.add(r2);\r\n        r1.setSelected(true);\r\n        r1.addActionListener(this);\r\n        r2.addActionListener(this);\r\n        b1 = new Button(&quot;Calculate&quot;);\r\n        b1.setPreferredSize(new Dimension(2,3));\r\n        b1.addActionListener(this);\r\n        f.add(l1);f.add(r1);f.add(r2);f.add(l4);\r\n        f.add(l2);f.add(c1);f.add(c2);f.add(c3);\r\n        f.add(l3);f.add(t1);f.add(l5);f.add(l6);\r\n        f.add(l7);f.add(b1);\r\n        f.setLayout(new GridLayout(4,4,20,30));\r\n        f.setSize(400,400);\r\n        f.setVisible(true);\r\n        f.addWindowListener(new WindowAdapter() {\r\n           \r\n            public void windowClosing(WindowEvent we) {\r\n                System.exit(0);\r\n            }\r\n        });\r\n        }\r\n    \r\n    \r\n    \r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n     \r\n    \r\n    \r\n     }\r\n    \r\n    \r\n    \r\n    public static void main(String args[]) {\r\n        roomcost rc = new roomcost();\r\n    }\r\n\r\n}\r\n\r\nBecause of grid layout I tried to empty labels for layout managing, ![enter image description here](https://i.stack.imgur.com/zOHhx.png)would love to know if there&#39;s a better way to do it ,I&#39;ve attached output of awt(GUI).","title":"I would like to perform some arithmetic operation based on the selection of a radio/checkbox button. How to code the action listener on this button?","body":"<p>I want to take values from radio and checkbox button based on selection. After that perform addition of given values and show them in textbox. I'm confused between ActionListener and itemlistner</p>\n<pre><code>import java.awt.; \nimport java.awt.event.; \nimport javax.swing.*; \n class roomcost implements ActionListener {\n  Button b1;\n  TextField t1;\n  Label l1,l2,l3,l4,l5,l6,l7;\n  JFrame f;\n  JCheckBox c1,c2,c3;\n  JRadioButton r1,r2;\n  ButtonGroup bg;\n  roomcost() {\n   JFrame f = new JFrame(&quot;Hotel Room Reservation&quot;);\n\n    Label l1 = new Label(&quot;Room Type:&quot;);\n    Label l2 = new Label(&quot;Facilities:&quot;);\n    Label l3 = new Label(&quot;cost:&quot;);\n    Label l4 = new Label(&quot; &quot;);\n    Label l5 = new Label(&quot; &quot;);\n    Label l6 = new Label(&quot; &quot;);\n    Label l7 = new Label(&quot; &quot;);\n    t1 = new TextField();\n    c1 = new JCheckBox(&quot;Breakfast&quot;);\n    c2 = new JCheckBox(&quot;Lunch&quot;);\n    c3 = new JCheckBox(&quot;Dinner&quot;);\n    r1 = new JRadioButton(&quot;AC&quot;);\n    r2 = new JRadioButton(&quot;Non-AC&quot;);\n    ButtonGroup group=new ButtonGroup();\n    group.add(r1);\n    group.add(r2);\n    r1.setSelected(true);\n    r1.addActionListener(this);\n    r2.addActionListener(this);\n    b1 = new Button(&quot;Calculate&quot;);\n    b1.setPreferredSize(new Dimension(2,3));\n    b1.addActionListener(this);\n    f.add(l1);f.add(r1);f.add(r2);f.add(l4);\n    f.add(l2);f.add(c1);f.add(c2);f.add(c3);\n    f.add(l3);f.add(t1);f.add(l5);f.add(l6);\n    f.add(l7);f.add(b1);\n    f.setLayout(new GridLayout(4,4,20,30));\n    f.setSize(400,400);\n    f.setVisible(true);\n    f.addWindowListener(new WindowAdapter() {\n       \n        public void windowClosing(WindowEvent we) {\n            System.exit(0);\n        }\n    });\n    }\n\n\n\n@Override\npublic void actionPerformed(ActionEvent e) {\n \n\n\n }\n\n\n\npublic static void main(String args[]) {\n    roomcost rc = new roomcost();\n}\n</code></pre>\n<p>}</p>\n<p>Because of grid layout I tried to empty labels for layout managing, <img src=\"https://i.stack.imgur.com/zOHhx.png\" alt=\"enter image description here\" />would love to know if there's a better way to do it ,I've attached output of awt(GUI).</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1648151262,"post_id":71608221,"comment_id":126558685,"body_markdown":"Which version of dependency analyzer is being used?","body":"Which version of dependency analyzer is being used?"},{"owner":{"account_id":9314784,"reputation":55,"user_id":6915446,"display_name":"Shruthi"},"score":0,"creation_date":1648184973,"post_id":71608221,"comment_id":126565351,"body_markdown":"1.1 of maven-dependency-analyzer","body":"1.1 of maven-dependency-analyzer"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1648192002,"post_id":71608221,"comment_id":126566693,"body_markdown":"I would say it&#39;s a bit out of date: please check https://maven.apache.org/shared/maven-dependency-analyzer/","body":"I would say it&#39;s a bit out of date: please check <a href=\"https://maven.apache.org/shared/maven-dependency-analyzer/\" rel=\"nofollow noreferrer\">maven.apache.org/shared/maven-dependency-analyzer</a>"}],"owner":{"account_id":9314784,"reputation":55,"user_id":6915446,"display_name":"Shruthi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1525,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1648149296,"creation_date":1648149296,"question_id":71608221,"body_markdown":"I am using an osgi plugin that internally calls maven-dependency-analyzer for scanning bytecode class files.\r\nHowever, it throws IndexOutOfBoundException for some classes.\r\nAnd it points to this code \r\nhttps://github.com/apache/maven-dependency-analyzer/blob/master/src/main/java/org/apache/maven/shared/dependency/analyzer/asm/DependencyClassFileVisitor.java#L83\r\n[![enter image description here][1]][1]\r\nAny idea how can I resolved this issue? Should I use any other asm depenency?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iBYin.png","title":"maven-dependency-analyzer unable to process some classes","body":"<p>I am using an osgi plugin that internally calls maven-dependency-analyzer for scanning bytecode class files.\nHowever, it throws IndexOutOfBoundException for some classes.\nAnd it points to this code\n<a href=\"https://github.com/apache/maven-dependency-analyzer/blob/master/src/main/java/org/apache/maven/shared/dependency/analyzer/asm/DependencyClassFileVisitor.java#L83\" rel=\"nofollow noreferrer\">https://github.com/apache/maven-dependency-analyzer/blob/master/src/main/java/org/apache/maven/shared/dependency/analyzer/asm/DependencyClassFileVisitor.java#L83</a>\n<a href=\"https://i.stack.imgur.com/iBYin.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iBYin.png\" alt=\"enter image description here\" /></a>\nAny idea how can I resolved this issue? Should I use any other asm depenency?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1648157585,"post_id":71607128,"comment_id":126560654,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":18571239,"reputation":4748,"user_id":13533028,"display_name":"Narendra_Nath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648148455,"creation_date":1648148455,"answer_id":71608065,"question_id":71607128,"body_markdown":"There is a mistake in the way you are fetching the files \r\n\r\nYOu would need to use an `Uri` and pass that to the MediaPlayer for it to be able to play your music . Also store y our audio files in raw subdirectory\r\n\r\nFor eg: \r\n\r\n```\r\nUri mediaPath = Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + R.raw.filename);\r\ntry {\r\n    mMediaPlayer.setDataSource(getApplicationContext(), mediaPath);\r\n    mMediaPlayer.prepare();\r\n    mMediaPlayer.start();\r\n} catch (Exception e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\nRef : [StackOverflow questionon playing music from raw resource][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/24276451/13533028","title":"Media player to return file from res folder","body":"<p>There is a mistake in the way you are fetching the files</p>\n<p>YOu would need to use an <code>Uri</code> and pass that to the MediaPlayer for it to be able to play your music . Also store y our audio files in raw subdirectory</p>\n<p>For eg:</p>\n<pre><code>Uri mediaPath = Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + R.raw.filename);\ntry {\n    mMediaPlayer.setDataSource(getApplicationContext(), mediaPath);\n    mMediaPlayer.prepare();\n    mMediaPlayer.start();\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>Ref : <a href=\"https://stackoverflow.com/q/24276451/13533028\">StackOverflow questionon playing music from raw resource</a></p>\n"}],"owner":{"account_id":24676922,"reputation":1,"user_id":18571194,"display_name":"Igor Jordanovski"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648148455,"creation_date":1648143735,"question_id":71607128,"body_markdown":"If someone can help me with this problem:\r\n I&#39;m trying to get the song from res folder in this method \r\n\r\n        private void playSound(String file) {\r\n            Context context = binding.playBtn.getContext();\r\n            Resources resources = context.getResources();\r\n            int sound_id = resources.getIdentifier(file,&quot;raw&quot;,\r\n                    context.getPackageName());\r\n           MediaPlayer mediaPlayer = MediaPlayer.create(context,sound_id);\r\n           mediaPlayer.start();\r\n        }\r\n\r\nThen to call this method here\r\n\r\n        public void bind(CalmScreenItem calmScreenItem) {\r\n            binding.mainText.setText(calmScreenItem.mainText);\r\n            binding.subtext.setText(calmScreenItem.subtext);\r\n            binding.itemImg.setImageDrawable(getImage(calmScreenItem.imgUrl));\r\n            binding.container.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    playSound(calmScreenItem.soundUrl);\r\n                }\r\n            });\r\n        }\r\nThen finally call in the main fragment in the list**\r\n\r\n    private List&lt;CalmScreenItem&gt; getItems() {\r\n        List&lt;CalmScreenItem&gt; calmScreenItems = new ArrayList&lt;&gt;();\r\n        calmScreenItems.add(new CalmScreenItem(getString(R.string.main_item1),getString(R.string.sub_item1),&quot;guide&quot;,&quot;free.mp3&quot;));\r\n        calmScreenItems.add(new CalmScreenItem(getString(R.string.main_item2),getString(R.string.sub_item2),&quot;mindfull&quot;,&quot;mindfull.mp3&quot;));\r\n\r\n\r\n        return calmScreenItems;\r\n    }\r\n\r\nThe output should be when clicked on button to play different sound from the res folder\r\n\r\nCan someone please help me! Thanks","title":"Media player to return file from res folder","body":"<p>If someone can help me with this problem:\nI'm trying to get the song from res folder in this method</p>\n<pre><code>    private void playSound(String file) {\n        Context context = binding.playBtn.getContext();\n        Resources resources = context.getResources();\n        int sound_id = resources.getIdentifier(file,&quot;raw&quot;,\n                context.getPackageName());\n       MediaPlayer mediaPlayer = MediaPlayer.create(context,sound_id);\n       mediaPlayer.start();\n    }\n</code></pre>\n<p>Then to call this method here</p>\n<pre><code>    public void bind(CalmScreenItem calmScreenItem) {\n        binding.mainText.setText(calmScreenItem.mainText);\n        binding.subtext.setText(calmScreenItem.subtext);\n        binding.itemImg.setImageDrawable(getImage(calmScreenItem.imgUrl));\n        binding.container.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                playSound(calmScreenItem.soundUrl);\n            }\n        });\n    }\n</code></pre>\n<p>Then finally call in the main fragment in the list**</p>\n<pre><code>private List&lt;CalmScreenItem&gt; getItems() {\n    List&lt;CalmScreenItem&gt; calmScreenItems = new ArrayList&lt;&gt;();\n    calmScreenItems.add(new CalmScreenItem(getString(R.string.main_item1),getString(R.string.sub_item1),&quot;guide&quot;,&quot;free.mp3&quot;));\n    calmScreenItems.add(new CalmScreenItem(getString(R.string.main_item2),getString(R.string.sub_item2),&quot;mindfull&quot;,&quot;mindfull.mp3&quot;));\n\n\n    return calmScreenItems;\n}\n</code></pre>\n<p>The output should be when clicked on button to play different sound from the res folder</p>\n<p>Can someone please help me! Thanks</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1648146882,"post_id":71607606,"comment_id":126557242,"body_markdown":"See [this SO answer](https://stackoverflow.com/a/31422046/11434552) that addresses your issue.  Basically you can change `int[]` to `Integer[]` and it would work, though I recommend following @Louis Wasserman&#39;s answer instead.","body":"See <a href=\"https://stackoverflow.com/a/31422046/11434552\">this SO answer</a> that addresses your issue.  Basically you can change <code>int[]</code> to <code>Integer[]</code> and it would work, though I recommend following @Louis Wasserman&#39;s answer instead."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648146975,"creation_date":1648146585,"answer_id":71607711,"question_id":71607606,"body_markdown":"Your issue is that `Arrays.asList(int[])` doesn&#39;t do what you think it does.  It creates a list with a single element, an integer array.  It does not create a list containing several integers.  (And note that the Baeldung article you link doesn&#39;t use `Array.asList` on an `int[]`, either.)\r\n\r\nInstead, write `Arrays.stream(a).reduce(0, Integer::sum)`, or even `Arrays.stream(a).sum()`.","title":"Stream API reduce method not working while adding elements","body":"<p>Your issue is that <code>Arrays.asList(int[])</code> doesn't do what you think it does.  It creates a list with a single element, an integer array.  It does not create a list containing several integers.  (And note that the Baeldung article you link doesn't use <code>Array.asList</code> on an <code>int[]</code>, either.)</p>\n<p>Instead, write <code>Arrays.stream(a).reduce(0, Integer::sum)</code>, or even <code>Arrays.stream(a).sum()</code>.</p>\n"},{"tags":[],"owner":{"account_id":3314485,"reputation":828,"user_id":2787159,"accept_rate":86,"display_name":"thatsIch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648147979,"creation_date":1648147979,"answer_id":71607985,"question_id":71607606,"body_markdown":"The problem you are facing is, that you input a `int[]` into the `Arrays.ofList`-method.\r\n\r\nThe return type of the call `Arrays.ofList(int[])` would be `List&lt;int[]&gt;`, which is currently not supported. Thus it is being interpreted you wanting a list with only a single element of type `int[]`.\r\n\r\nTo circumvent that, you can either declare the list using the boxed types (`Integer`, `Double`, etc.) or use different Methods to generate a stream of integers.\r\n\r\n# Solution 1: Use Boxed Types\r\n\r\n```java\r\nInteger[] a = {1,2,3,4,5};\r\nint sum = Arrays.asList(a).stream().reduce(0, (psum, x) -&gt; psum+x);\r\nSystem.out.println(sum);\r\n// prints 15\r\n```\r\n\r\n# Solution 2: Use Arrays.asList with varargs directly\r\n\r\n```java\r\nint sum = Arrays.asList(1,2,3,4,5).stream().reduce(0, (psum, x) -&gt; psum+x);\r\nSystem.out.println(sum);\r\n// prints 15\r\n```\r\n\r\n# Solution 3: Use Stream with varargs directly\r\n\r\nSimilar to the previous solution but generating directly the stream without an intermediate list.\r\n\r\n```java\r\nint sum = Stream.of(1,2,3,4,5).reduce(0, (psum, x) -&gt; psum+x);\r\nSystem.out.println(sum);\r\n// prints 15\r\n```\r\n\r\n# Solution 4: Use IntStream with varargs directly\r\n\r\nJava offers multiple different types of `Stream` one of them being `IntStream`.\r\nThis offers an unboxed version for primitives.\r\n\r\n```java\r\nint sum = IntStream.of(1,2,3,4,5).reduce(0, (psum, x) -&gt; psum+x);\r\nSystem.out.println(sum);\r\n// prints 15\r\n```\r\n\r\n# Bonus\r\n\r\nAn alternative to using `reduce(0, (psum, x) -&gt; psum+x)` would be using some adding-operation.\r\n\r\nYou could use `Integer.sum(int a, int b)` which fulfills the contract of `reduce`.\r\n\r\n```java\r\nint sum = IntStream.of(1,2,3,4,5).reduce(0, Integer::sum);\r\nSystem.out.println(sum);\r\n// prints 15\r\n```\r\n\r\nUsing an `IntStream` offers an additional benefit having the method `sum()`.\r\n\r\n```java\r\nint sum = IntStream.of(1,2,3,4,5).sum();\r\nSystem.out.println(sum);\r\n// prints 15\r\n```\r\n\r\nIn case you are not able to generate an `IntStream` yourself and need to work with a `Stream&lt;Integer&gt;`, you can also map to an `IntStream`.\r\n\r\n```java\r\nint sum = Stream.of(1,2,3,4,5).mapToInt(Integer::intValue).sum()\r\nSystem.out.println(sum);\r\n// prints 15\r\n```","title":"Stream API reduce method not working while adding elements","body":"<p>The problem you are facing is, that you input a <code>int[]</code> into the <code>Arrays.ofList</code>-method.</p>\n<p>The return type of the call <code>Arrays.ofList(int[])</code> would be <code>List&lt;int[]&gt;</code>, which is currently not supported. Thus it is being interpreted you wanting a list with only a single element of type <code>int[]</code>.</p>\n<p>To circumvent that, you can either declare the list using the boxed types (<code>Integer</code>, <code>Double</code>, etc.) or use different Methods to generate a stream of integers.</p>\n<h1>Solution 1: Use Boxed Types</h1>\n<pre class=\"lang-java prettyprint-override\"><code>Integer[] a = {1,2,3,4,5};\nint sum = Arrays.asList(a).stream().reduce(0, (psum, x) -&gt; psum+x);\nSystem.out.println(sum);\n// prints 15\n</code></pre>\n<h1>Solution 2: Use Arrays.asList with varargs directly</h1>\n<pre class=\"lang-java prettyprint-override\"><code>int sum = Arrays.asList(1,2,3,4,5).stream().reduce(0, (psum, x) -&gt; psum+x);\nSystem.out.println(sum);\n// prints 15\n</code></pre>\n<h1>Solution 3: Use Stream with varargs directly</h1>\n<p>Similar to the previous solution but generating directly the stream without an intermediate list.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int sum = Stream.of(1,2,3,4,5).reduce(0, (psum, x) -&gt; psum+x);\nSystem.out.println(sum);\n// prints 15\n</code></pre>\n<h1>Solution 4: Use IntStream with varargs directly</h1>\n<p>Java offers multiple different types of <code>Stream</code> one of them being <code>IntStream</code>.\nThis offers an unboxed version for primitives.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int sum = IntStream.of(1,2,3,4,5).reduce(0, (psum, x) -&gt; psum+x);\nSystem.out.println(sum);\n// prints 15\n</code></pre>\n<h1>Bonus</h1>\n<p>An alternative to using <code>reduce(0, (psum, x) -&gt; psum+x)</code> would be using some adding-operation.</p>\n<p>You could use <code>Integer.sum(int a, int b)</code> which fulfills the contract of <code>reduce</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int sum = IntStream.of(1,2,3,4,5).reduce(0, Integer::sum);\nSystem.out.println(sum);\n// prints 15\n</code></pre>\n<p>Using an <code>IntStream</code> offers an additional benefit having the method <code>sum()</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int sum = IntStream.of(1,2,3,4,5).sum();\nSystem.out.println(sum);\n// prints 15\n</code></pre>\n<p>In case you are not able to generate an <code>IntStream</code> yourself and need to work with a <code>Stream&lt;Integer&gt;</code>, you can also map to an <code>IntStream</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int sum = Stream.of(1,2,3,4,5).mapToInt(Integer::intValue).sum()\nSystem.out.println(sum);\n// prints 15\n</code></pre>\n"}],"owner":{"account_id":20162704,"reputation":175,"user_id":14787412,"display_name":"Aditya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71607711,"answer_count":2,"score":0,"last_activity_date":1648147979,"creation_date":1648146093,"question_id":71607606,"body_markdown":"I am trying to add elements of int array using Stream API.\r\n\r\n```\r\nimport java.util.*;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        int[] a = {1,2,3,4,5};\r\n        int sum = Arrays.asList(a).stream().reduce(0, (psum, x) -&gt; psum+x);\r\n        System.out.println(sum);\r\n    }\r\n}\r\n```\r\n\r\nBut its is giving this error message.\r\n\r\n```\r\nE:\\Java\\StreamAPI\\src\\Main.java:6:44\r\njava: no suitable method found for reduce(int,(psum,x)-&gt;psum + x)\r\n    method java.util.stream.Stream.reduce(int[],java.util.function.BinaryOperator&lt;int[]&gt;) is not applicable\r\n      (argument mismatch; int cannot be converted to int[])\r\n    method java.util.stream.Stream.&lt;U&gt;reduce(U,java.util.function.BiFunction&lt;U,? super int[],U&gt;,java.util.function.BinaryOperator&lt;U&gt;) is not applicable\r\n      (cannot infer type-variable(s) U\r\n        (actual and formal argument lists differ in length))\r\n```\r\n\r\nI even tried doing this \r\n\r\n```\r\nimport java.util.*;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        int[] a = {1,2,3,4,5};\r\n        int sum = Arrays.asList(a).stream().reduce(0, Integer::sum);\r\n        System.out.println(sum);\r\n    }\r\n}\r\n```\r\n\r\nI got this error message:\r\n\r\n```\r\nE:\\Java\\StreamAPI\\src\\Main.java:6:44\r\njava: no suitable method found for reduce(int,Integer::sum)\r\n    method java.util.stream.Stream.reduce(int[],java.util.function.BinaryOperator&lt;int[]&gt;) is not applicable\r\n      (argument mismatch; int cannot be converted to int[])\r\n    method java.util.stream.Stream.&lt;U&gt;reduce(U,java.util.function.BiFunction&lt;U,? super int[],U&gt;,java.util.function.BinaryOperator&lt;U&gt;) is not applicable\r\n      (cannot infer type-variable(s) U\r\n        (actual and formal argument lists differ in length))\r\n```\r\n\r\nBoth of these examples were given in this Baeldung [article][1] about reduce in stream api.\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-stream-reduce","title":"Stream API reduce method not working while adding elements","body":"<p>I am trying to add elements of int array using Stream API.</p>\n<pre><code>import java.util.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        int[] a = {1,2,3,4,5};\n        int sum = Arrays.asList(a).stream().reduce(0, (psum, x) -&gt; psum+x);\n        System.out.println(sum);\n    }\n}\n</code></pre>\n<p>But its is giving this error message.</p>\n<pre><code>E:\\Java\\StreamAPI\\src\\Main.java:6:44\njava: no suitable method found for reduce(int,(psum,x)-&gt;psum + x)\n    method java.util.stream.Stream.reduce(int[],java.util.function.BinaryOperator&lt;int[]&gt;) is not applicable\n      (argument mismatch; int cannot be converted to int[])\n    method java.util.stream.Stream.&lt;U&gt;reduce(U,java.util.function.BiFunction&lt;U,? super int[],U&gt;,java.util.function.BinaryOperator&lt;U&gt;) is not applicable\n      (cannot infer type-variable(s) U\n        (actual and formal argument lists differ in length))\n</code></pre>\n<p>I even tried doing this</p>\n<pre><code>import java.util.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        int[] a = {1,2,3,4,5};\n        int sum = Arrays.asList(a).stream().reduce(0, Integer::sum);\n        System.out.println(sum);\n    }\n}\n</code></pre>\n<p>I got this error message:</p>\n<pre><code>E:\\Java\\StreamAPI\\src\\Main.java:6:44\njava: no suitable method found for reduce(int,Integer::sum)\n    method java.util.stream.Stream.reduce(int[],java.util.function.BinaryOperator&lt;int[]&gt;) is not applicable\n      (argument mismatch; int cannot be converted to int[])\n    method java.util.stream.Stream.&lt;U&gt;reduce(U,java.util.function.BiFunction&lt;U,? super int[],U&gt;,java.util.function.BinaryOperator&lt;U&gt;) is not applicable\n      (cannot infer type-variable(s) U\n        (actual and formal argument lists differ in length))\n</code></pre>\n<p>Both of these examples were given in this Baeldung <a href=\"https://www.baeldung.com/java-stream-reduce\" rel=\"nofollow noreferrer\">article</a> about reduce in stream api.</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1648122490,"post_id":71601681,"comment_id":126546907,"body_markdown":"I’m voting to close this question because reviews of working code are off topic here.","body":"I’m voting to close this question because reviews of working code are off topic here."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1648122524,"post_id":71601681,"comment_id":126546916,"body_markdown":"Having said that: you might turn to https://codereview.stackexchange.com/ ... but remember: read their help center content carefully before asking a question there. Ensure to not repeat your mistake and coming up with off topic content.","body":"Having said that: you might turn to <a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a> ... but remember: read their help center content carefully before asking a question there. Ensure to not repeat your mistake and coming up with off topic content."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1648122641,"post_id":71601681,"comment_id":126546962,"body_markdown":"Having said that: from a first glance, your code looks good. The only thing you *could* change: your methods in the layout class, they don&#39;t share any information (you have no fields in that class, besides your constant). Thus you could consider to make the methods static. Keeping it non-static only makes sense if there is a reasonable chance that you will want to use different Layout classes (based on inheritance or so) later on.","body":"Having said that: from a first glance, your code looks good. The only thing you <i>could</i> change: your methods in the layout class, they don&#39;t share any information (you have no fields in that class, besides your constant). Thus you could consider to make the methods static. Keeping it non-static only makes sense if there is a reasonable chance that you will want to use different Layout classes (based on inheritance or so) later on."}],"answers":[{"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648147777,"creation_date":1648143336,"answer_id":71607033,"question_id":71601681,"body_markdown":"In my view, we can separate logic of game from cards:\r\n- `FreeCellGame` class will be responsible for logic of game.\r\n- `Cell`, `FreeCell` and `HomeCell` will be responsible for cards.\r\n\r\nWe can extract the same logic of `FreeCell` and `HomeCell` in base class `Cell`. I mean methods `toString()` and `buildHorizontalBorder()`. I do not know Java, so I will show in C#. However, I will make comments how it can be converted to Java:\r\n\r\n\tpublic abstract class Cell\r\n    {\r\n        private int MAX_CELLS = 4;\r\n\r\n        public abstract bool AddCart();\r\n\r\n        // When you add some card, you need to remove\r\n        // card from array where you took this card\r\n        public abstract bool RemoveCart(Card card);\r\n\r\n        public string toString() {\r\n            StringBuilder box = new StringBuilder();\r\n            box.Append(buildHorizontalBorder());\r\n            box.Append(&quot;\\n&quot;);\r\n            box.Append(buildContent());\r\n            box.Append(&quot;\\n&quot;);\r\n            box.Append(buildHorizontalBorder());\r\n            return box.ToString();\r\n        }\r\n\r\n        internal abstract string buildContent();\r\n\r\n        private string buildHorizontalBorder() {\r\n            StringBuilder border = new StringBuilder();\r\n            border.Append(&quot;+&quot;);\r\n            for (int i = 0; i &lt; MAX_CELLS; i++)\r\n            {\r\n                border.Append(&quot;----&quot;).Append(&quot;+&quot;);\r\n            }\r\n            return border.ToString();\r\n        }\r\n    }\r\n\r\nand its concrete implementations:\r\n\r\n\tpublic class HomeCell : Cell // &quot;:&quot; extends in Java\r\n    {\r\n\t\t// other code is omitted for the brevity \r\n\t\t\r\n        public override bool AddCart()\r\n        {  }\r\n\r\n        public override bool RemoveCart(Card card)\r\n        {  }\r\n\r\n        internal override string buildContent()\r\n        {  }\r\n    }\r\n\t\r\n\tpublic class FreeCell : Cell // &quot;:&quot; extends in Java\r\n    {\r\n\t\t// other code is omitted for the brevity \r\n\t\t\r\n        public override bool AddCart()\r\n        {  }\r\n\r\n        public override bool RemoveCart(Card card)\r\n        {  }\r\n\r\n        internal override string buildContent()\r\n        {   }\r\n    }\r\n\r\nand game class is:\r\n\r\n\tpublic class FreeCellGame\r\n    {\r\n        private HomeCell homeCell = new HomeCell();\r\n        private FreeCell freeCell = new FreeCell();\r\n\r\n        private void AddCard()\r\n        { \r\n            // your logic of game here\r\n            // here you will manipulate by calling methods of &quot;homeCell&quot; and \r\n            // &quot;freeCell&quot; to move cards from their arrays\r\n        }\r\n    }\r\n\r\n","title":"Avoid code repetition in two different classes toString","body":"<p>In my view, we can separate logic of game from cards:</p>\n<ul>\n<li><code>FreeCellGame</code> class will be responsible for logic of game.</li>\n<li><code>Cell</code>, <code>FreeCell</code> and <code>HomeCell</code> will be responsible for cards.</li>\n</ul>\n<p>We can extract the same logic of <code>FreeCell</code> and <code>HomeCell</code> in base class <code>Cell</code>. I mean methods <code>toString()</code> and <code>buildHorizontalBorder()</code>. I do not know Java, so I will show in C#. However, I will make comments how it can be converted to Java:</p>\n<pre><code>public abstract class Cell\n{\n    private int MAX_CELLS = 4;\n\n    public abstract bool AddCart();\n\n    // When you add some card, you need to remove\n    // card from array where you took this card\n    public abstract bool RemoveCart(Card card);\n\n    public string toString() {\n        StringBuilder box = new StringBuilder();\n        box.Append(buildHorizontalBorder());\n        box.Append(&quot;\\n&quot;);\n        box.Append(buildContent());\n        box.Append(&quot;\\n&quot;);\n        box.Append(buildHorizontalBorder());\n        return box.ToString();\n    }\n\n    internal abstract string buildContent();\n\n    private string buildHorizontalBorder() {\n        StringBuilder border = new StringBuilder();\n        border.Append(&quot;+&quot;);\n        for (int i = 0; i &lt; MAX_CELLS; i++)\n        {\n            border.Append(&quot;----&quot;).Append(&quot;+&quot;);\n        }\n        return border.ToString();\n    }\n}\n</code></pre>\n<p>and its concrete implementations:</p>\n<pre><code>public class HomeCell : Cell // &quot;:&quot; extends in Java\n{\n    // other code is omitted for the brevity \n    \n    public override bool AddCart()\n    {  }\n\n    public override bool RemoveCart(Card card)\n    {  }\n\n    internal override string buildContent()\n    {  }\n}\n\npublic class FreeCell : Cell // &quot;:&quot; extends in Java\n{\n    // other code is omitted for the brevity \n    \n    public override bool AddCart()\n    {  }\n\n    public override bool RemoveCart(Card card)\n    {  }\n\n    internal override string buildContent()\n    {   }\n}\n</code></pre>\n<p>and game class is:</p>\n<pre><code>public class FreeCellGame\n{\n    private HomeCell homeCell = new HomeCell();\n    private FreeCell freeCell = new FreeCell();\n\n    private void AddCard()\n    { \n        // your logic of game here\n        // here you will manipulate by calling methods of &quot;homeCell&quot; and \n        // &quot;freeCell&quot; to move cards from their arrays\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1648147777,"creation_date":1648121374,"question_id":71601681,"body_markdown":"Modeling a solution just to display(in console) the `FreeCell` card game,\r\nI have two classes **Home** and **FreeCells**, both way almost similar `toString` implementation \r\n\r\noutput something like this\r\n\r\n    +----+----+----+----+\r\n    | 2♣ | E  | E  | E  |\r\n    +----+----+----+----+\r\n\r\n### class Home ###\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Stack;\r\n    \r\n    public class Home {\r\n        private final int MAX_CELLS = 4;\r\n        private Stack&lt;Card&gt;[] homeCells;\r\n    \r\n        public Home() {\r\n            this.homeCells = new Stack[4];\r\n        }\r\n    \r\n    \r\n        public boolean addACard(Card card) {\r\n            //...some code\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            StringBuilder box = new StringBuilder();\r\n            box.append(buildHorizontalBorder());\r\n            box.append(&quot;\\n&quot;);\r\n            box.append(buildContent());\r\n            box.append(&quot;\\n&quot;);\r\n            box.append(buildHorizontalBorder());\r\n            return box.toString();\r\n        }\r\n    \r\n        private String buildContent() {\r\n            StringBuilder contentBox = new StringBuilder();\r\n            contentBox.append(&quot;|&quot;);\r\n            for (int index = 0; index &lt; MAX_CELLS; index++) {\r\n                contentBox.append(&quot; &quot;).append(this.homeCells[index] == null ? &quot;E &quot; : this.homeCells[index].peek().toString()).\r\n                        append(&quot; &quot;).append(&quot;|&quot;);\r\n            }\r\n            return contentBox.toString();\r\n        }\r\n    \r\n        private String buildHorizontalBorder() {\r\n            StringBuilder border = new StringBuilder();\r\n            border.append(&quot;+&quot;);\r\n            for (int i = 0; i &lt; MAX_CELLS; i++) {\r\n                border.append(&quot;----&quot;).append(&quot;+&quot;);\r\n            }\r\n            return border.toString();\r\n        }\r\n    }\r\n\r\n### class FreeCell ###\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class FreeCells {\r\n        private final int MAX_CELLS = 4;\r\n        private List&lt;Card&gt; cells;\r\n    \r\n        public FreeCells() {\r\n            this.cells = new ArrayList&lt;&gt;();\r\n        }\r\n    \r\n        public boolean addCard(Card card) {\r\n            //...some code\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            StringBuilder box = new StringBuilder();\r\n            box.append(buildHorizontalBorder());\r\n            box.append(&quot;\\n&quot;);\r\n            box.append(buildContent());\r\n            box.append(&quot;\\n&quot;);\r\n            box.append(buildHorizontalBorder());\r\n            return box.toString();\r\n        }\r\n    \r\n        private String buildContent() {\r\n            StringBuilder contentBox = new StringBuilder();\r\n            contentBox.append(&quot;|&quot;);\r\n            for (int index = 0; index &lt; MAX_CELLS; index++) {\r\n                contentBox.append(&quot; &quot;).append(index &lt; this.cells.size() ? this.cells.get(index).toString() : &quot;E &quot;).append(&quot; &quot;).append(&quot;|&quot;);\r\n            }\r\n            return contentBox.toString();\r\n        }\r\n    \r\n        private String buildHorizontalBorder() {\r\n            StringBuilder border = new StringBuilder();\r\n            border.append(&quot;+&quot;);\r\n            for (int i = 0; i &lt; MAX_CELLS; i++) {\r\n                border.append(&quot;----&quot;).append(&quot;+&quot;);\r\n            }\r\n            return border.toString();\r\n        }\r\n    }\r\n\r\nI am thinking of introdcuing a new class and abstract out the display logic to here \r\n\r\n### class Layout ###\r\n\r\n    public class Layout {\r\n        private final int MAX_CELLS = 4;\r\n    \r\n    \r\n        public String build(List&lt;Card&gt; cards) {\r\n            StringBuilder box = new StringBuilder();\r\n            box.append(buildHorizontalBorder());\r\n            box.append(&quot;\\n&quot;);\r\n            box.append(buildContent(cards));\r\n            box.append(&quot;\\n&quot;);\r\n            box.append(buildHorizontalBorder());\r\n            return box.toString();\r\n        }\r\n        \r\n    \r\n        private String buildContent(List&lt;Card&gt; cards) {\r\n            StringBuilder contentBox = new StringBuilder();\r\n            contentBox.append(&quot;|&quot;);\r\n            for (int index = 0; index &lt; MAX_CELLS; index++) {\r\n                contentBox.append(&quot; &quot;).append(index &lt; cards.size() ? cards.get(index).toString() : &quot;E &quot;).append(&quot; &quot;).append(&quot;|&quot;);\r\n            }\r\n            return contentBox.toString();\r\n        }\r\n    \r\n        private String buildHorizontalBorder() {\r\n            StringBuilder border = new StringBuilder();\r\n            border.append(&quot;+&quot;);\r\n            for (int i = 0; i &lt; MAX_CELLS; i++) {\r\n                border.append(&quot;----&quot;).append(&quot;+&quot;);\r\n            }\r\n            return border.toString();\r\n        }\r\n    }\r\n\r\nThen change the method of `toString` of class **Home** to \r\n\r\n        @Override\r\n        public String toString() {\r\n            return new Layout().build(Arrays.stream(this.homeCells).filter(Objects::nonNull).map(Stack::peek).collect(Collectors.toList()));\r\n        }\r\n\r\nThen change the method of `toString` of class **FreeCell** to \r\n\r\n    @Override\r\n    public String toString() {\r\n        return new Layout().build(this.cells)();\r\n    }\r\n\r\nIs this correct OO way, or i can do this better some other way?","title":"Avoid code repetition in two different classes toString","body":"<p>Modeling a solution just to display(in console) the <code>FreeCell</code> card game,\nI have two classes <strong>Home</strong> and <strong>FreeCells</strong>, both way almost similar <code>toString</code> implementation</p>\n<p>output something like this</p>\n<pre><code>+----+----+----+----+\n| 2♣ | E  | E  | E  |\n+----+----+----+----+\n</code></pre>\n<h3>class Home</h3>\n<pre><code>import java.util.HashMap;\nimport java.util.Stack;\n\npublic class Home {\n    private final int MAX_CELLS = 4;\n    private Stack&lt;Card&gt;[] homeCells;\n\n    public Home() {\n        this.homeCells = new Stack[4];\n    }\n\n\n    public boolean addACard(Card card) {\n        //...some code\n    }\n\n    @Override\n    public String toString() {\n        StringBuilder box = new StringBuilder();\n        box.append(buildHorizontalBorder());\n        box.append(&quot;\\n&quot;);\n        box.append(buildContent());\n        box.append(&quot;\\n&quot;);\n        box.append(buildHorizontalBorder());\n        return box.toString();\n    }\n\n    private String buildContent() {\n        StringBuilder contentBox = new StringBuilder();\n        contentBox.append(&quot;|&quot;);\n        for (int index = 0; index &lt; MAX_CELLS; index++) {\n            contentBox.append(&quot; &quot;).append(this.homeCells[index] == null ? &quot;E &quot; : this.homeCells[index].peek().toString()).\n                    append(&quot; &quot;).append(&quot;|&quot;);\n        }\n        return contentBox.toString();\n    }\n\n    private String buildHorizontalBorder() {\n        StringBuilder border = new StringBuilder();\n        border.append(&quot;+&quot;);\n        for (int i = 0; i &lt; MAX_CELLS; i++) {\n            border.append(&quot;----&quot;).append(&quot;+&quot;);\n        }\n        return border.toString();\n    }\n}\n</code></pre>\n<h3>class FreeCell</h3>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class FreeCells {\n    private final int MAX_CELLS = 4;\n    private List&lt;Card&gt; cells;\n\n    public FreeCells() {\n        this.cells = new ArrayList&lt;&gt;();\n    }\n\n    public boolean addCard(Card card) {\n        //...some code\n    }\n\n    @Override\n    public String toString() {\n        StringBuilder box = new StringBuilder();\n        box.append(buildHorizontalBorder());\n        box.append(&quot;\\n&quot;);\n        box.append(buildContent());\n        box.append(&quot;\\n&quot;);\n        box.append(buildHorizontalBorder());\n        return box.toString();\n    }\n\n    private String buildContent() {\n        StringBuilder contentBox = new StringBuilder();\n        contentBox.append(&quot;|&quot;);\n        for (int index = 0; index &lt; MAX_CELLS; index++) {\n            contentBox.append(&quot; &quot;).append(index &lt; this.cells.size() ? this.cells.get(index).toString() : &quot;E &quot;).append(&quot; &quot;).append(&quot;|&quot;);\n        }\n        return contentBox.toString();\n    }\n\n    private String buildHorizontalBorder() {\n        StringBuilder border = new StringBuilder();\n        border.append(&quot;+&quot;);\n        for (int i = 0; i &lt; MAX_CELLS; i++) {\n            border.append(&quot;----&quot;).append(&quot;+&quot;);\n        }\n        return border.toString();\n    }\n}\n</code></pre>\n<p>I am thinking of introdcuing a new class and abstract out the display logic to here</p>\n<h3>class Layout</h3>\n<pre><code>public class Layout {\n    private final int MAX_CELLS = 4;\n\n\n    public String build(List&lt;Card&gt; cards) {\n        StringBuilder box = new StringBuilder();\n        box.append(buildHorizontalBorder());\n        box.append(&quot;\\n&quot;);\n        box.append(buildContent(cards));\n        box.append(&quot;\\n&quot;);\n        box.append(buildHorizontalBorder());\n        return box.toString();\n    }\n    \n\n    private String buildContent(List&lt;Card&gt; cards) {\n        StringBuilder contentBox = new StringBuilder();\n        contentBox.append(&quot;|&quot;);\n        for (int index = 0; index &lt; MAX_CELLS; index++) {\n            contentBox.append(&quot; &quot;).append(index &lt; cards.size() ? cards.get(index).toString() : &quot;E &quot;).append(&quot; &quot;).append(&quot;|&quot;);\n        }\n        return contentBox.toString();\n    }\n\n    private String buildHorizontalBorder() {\n        StringBuilder border = new StringBuilder();\n        border.append(&quot;+&quot;);\n        for (int i = 0; i &lt; MAX_CELLS; i++) {\n            border.append(&quot;----&quot;).append(&quot;+&quot;);\n        }\n        return border.toString();\n    }\n}\n</code></pre>\n<p>Then change the method of <code>toString</code> of class <strong>Home</strong> to</p>\n<pre><code>    @Override\n    public String toString() {\n        return new Layout().build(Arrays.stream(this.homeCells).filter(Objects::nonNull).map(Stack::peek).collect(Collectors.toList()));\n    }\n</code></pre>\n<p>Then change the method of <code>toString</code> of class <strong>FreeCell</strong> to</p>\n<pre><code>@Override\npublic String toString() {\n    return new Layout().build(this.cells)();\n}\n</code></pre>\n<p>Is this correct OO way, or i can do this better some other way?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":10418091,"reputation":932,"user_id":7681514,"display_name":"Matt"},"score":1,"creation_date":1648144559,"post_id":71607228,"comment_id":126556459,"body_markdown":"I&#39;m not sure you posted the correct code chunk b/c `public class StandardController()` does not compile. I&#39;m guessing this was meant to be the method?","body":"I&#39;m not sure you posted the correct code chunk b/c <code>public class StandardController()</code> does not compile. I&#39;m guessing this was meant to be the method?"},{"owner":{"display_name":"user18310619"},"score":0,"creation_date":1648145053,"post_id":71607228,"comment_id":126556630,"body_markdown":"It is a controller with an endpoint that receives requests from external api.","body":"It is a controller with an endpoint that receives requests from external api."},{"owner":{"account_id":10418091,"reputation":932,"user_id":7681514,"display_name":"Matt"},"score":0,"creation_date":1648145263,"post_id":71607228,"comment_id":126556696,"body_markdown":"Right I understand your intention, but if you actually paste your code the way it is into an IDE it won&#39;t even compile which is why i was assuming you copied it into stack overflow wrong.","body":"Right I understand your intention, but if you actually paste your code the way it is into an IDE it won&#39;t even compile which is why i was assuming you copied it into stack overflow wrong."},{"owner":{"display_name":"user18310619"},"score":0,"creation_date":1648145531,"post_id":71607228,"comment_id":126556791,"body_markdown":"I just copied it as a placeholder similar to what I am doing in a real code because real code is bigger and contains unnecessary stuff.","body":"I just copied it as a placeholder similar to what I am doing in a real code because real code is bigger and contains unnecessary stuff."},{"owner":{"account_id":10418091,"reputation":932,"user_id":7681514,"display_name":"Matt"},"score":1,"creation_date":1648145766,"post_id":71607228,"comment_id":126556876,"body_markdown":"To be more clear, your first line: `public class StandardController(@RequestBody Object body) {` is not valid Java. I think you meant for this line to be a method, but instead you put `class` in the method definition accidently?","body":"To be more clear, your first line: <code>public class StandardController(@RequestBody Object body) {</code> is not valid Java. I think you meant for this line to be a method, but instead you put <code>class</code> in the method definition accidently?"}],"answers":[{"tags":[],"owner":{"account_id":22574687,"reputation":1,"user_id":16760375,"display_name":"CaptainDno"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1648146219,"creation_date":1648146219,"answer_id":71607628,"question_id":71607228,"body_markdown":"In Spring Boot controller, you can use [ResponseStatusException][1]. \r\nSomething like this should work:\r\n\r\n    try {\r\n      //Your Code here\r\n    } catch(Exception e) {\r\n      throw new ResponseStatusException( HttpStatus.BAD_REQUEST, &quot;Required properties are missing&quot;);\r\n    }\r\n\r\nAlso, you can check [this article][2] on Baeldung if you want more information about this way of exception handling.\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/server/ResponseStatusException.html\r\n  [2]: https://www.baeldung.com/spring-response-status-exception","title":"How to throw an exception if required properties have either null or empty values?","body":"<p>In Spring Boot controller, you can use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/server/ResponseStatusException.html\" rel=\"nofollow noreferrer\">ResponseStatusException</a>.\nSomething like this should work:</p>\n<pre><code>try {\n  //Your Code here\n} catch(Exception e) {\n  throw new ResponseStatusException( HttpStatus.BAD_REQUEST, &quot;Required properties are missing&quot;);\n}\n</code></pre>\n<p>Also, you can check <a href=\"https://www.baeldung.com/spring-response-status-exception\" rel=\"nofollow noreferrer\">this article</a> on Baeldung if you want more information about this way of exception handling.</p>\n"},{"tags":[],"owner":{"account_id":16509210,"reputation":564,"user_id":11928455,"display_name":"Amimul Ehsan Rahi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1648146677,"creation_date":1648146677,"answer_id":71607726,"question_id":71607228,"body_markdown":"You need to receive CustomDto directly from the user. Because DTO is meant for transfer. If you receive custom dto from user then you can add validation on the object. \r\n\r\nJust an example\r\n```\r\n@Data\r\npublic class ClassDto {\r\n\r\n    private Long classId;\r\n\r\n    @NotNull\r\n    @Size(max = 200)\r\n    private String className;\r\n\r\n    private Double classAdmissionFee;\r\n}\r\n```\r\n\r\nLook at the @NotNull and @Size annotation. They comes under javax validation. \r\n\r\nNow once after your DTO is fully configured. You need to do this:\r\n```\r\npublic class StandardController(@Valid @RequestBody CustomDTO customDto) {\r\n    \r\n}\r\n```\r\n\r\nNotice the @Valid annotation. While any of the DTO constraints fails spring will throw a MethodArgumentNotValidException. So you need to handle the exception via @ControllerAdvice or extending ResponseEntityExceptionHandler. \r\n\r\nHere is a nice article link for your case: \r\nhttps://www.javaguides.net/2021/04/spring-boot-dto-validation-example.html\r\n\r\n","title":"How to throw an exception if required properties have either null or empty values?","body":"<p>You need to receive CustomDto directly from the user. Because DTO is meant for transfer. If you receive custom dto from user then you can add validation on the object.</p>\n<p>Just an example</p>\n<pre><code>@Data\npublic class ClassDto {\n\n    private Long classId;\n\n    @NotNull\n    @Size(max = 200)\n    private String className;\n\n    private Double classAdmissionFee;\n}\n</code></pre>\n<p>Look at the @NotNull and @Size annotation. They comes under javax validation.</p>\n<p>Now once after your DTO is fully configured. You need to do this:</p>\n<pre><code>public class StandardController(@Valid @RequestBody CustomDTO customDto) {\n    \n}\n</code></pre>\n<p>Notice the @Valid annotation. While any of the DTO constraints fails spring will throw a MethodArgumentNotValidException. So you need to handle the exception via @ControllerAdvice or extending ResponseEntityExceptionHandler.</p>\n<p>Here is a nice article link for your case:\n<a href=\"https://www.javaguides.net/2021/04/spring-boot-dto-validation-example.html\" rel=\"nofollow noreferrer\">https://www.javaguides.net/2021/04/spring-boot-dto-validation-example.html</a></p>\n"}],"owner":{"display_name":"user18310619"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3949,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71607726,"answer_count":2,"score":0,"last_activity_date":1648146677,"creation_date":1648144233,"question_id":71607228,"body_markdown":"I want to throw an exception when I parse the received object to a DTO and while parsing if any of the fields in DTO that I have marked as required has null values then I want to throw an exception with 400 response.\r\n\r\nI have a controller like this,\r\n\r\n    public class StandardController(@RequestBody Object body) {\r\n        ModelMapper modelMapper = new ModelMapper();  \r\n        try {\r\n          CustomDTO customDto = modelMapper.map(body, CustomDTO.class);\r\n        } catch (Exception e) {\r\n          //throw exception with a message required properties are missing with 400 response`\r\n        }\r\n    }\r\n\r\nI have marked a few properties in my CustomDTO as `required = true` with `JsonProperty`. But when I test the controller, its not throwing an exception.\r\n\r\nAny idea how I can implement this scenario?","title":"How to throw an exception if required properties have either null or empty values?","body":"<p>I want to throw an exception when I parse the received object to a DTO and while parsing if any of the fields in DTO that I have marked as required has null values then I want to throw an exception with 400 response.</p>\n<p>I have a controller like this,</p>\n<pre><code>public class StandardController(@RequestBody Object body) {\n    ModelMapper modelMapper = new ModelMapper();  \n    try {\n      CustomDTO customDto = modelMapper.map(body, CustomDTO.class);\n    } catch (Exception e) {\n      //throw exception with a message required properties are missing with 400 response`\n    }\n}\n</code></pre>\n<p>I have marked a few properties in my CustomDTO as <code>required = true</code> with <code>JsonProperty</code>. But when I test the controller, its not throwing an exception.</p>\n<p>Any idea how I can implement this scenario?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648146483,"creation_date":1648146109,"answer_id":71607613,"question_id":71607185,"body_markdown":"The solution is really simple.\r\n\r\nI just need to write a query in my `FormDataAccess`. \r\n\r\n    @Query(&quot; from Form where student.id = :studentId&quot;)\r\n    List&lt;Form&gt; findFormByStudentId(int studentId);\r\n\r\nnow I can retrieve the forms using this path\r\n\r\n    api/v1/forms/student/7\r\n\r\nI still wonder how to retrieve the forms from the Student side, not Form side such that\r\n\r\n    api/v1/student/7/forms","title":"Fetch list of forms that are belong to a specific student","body":"<p>The solution is really simple.</p>\n<p>I just need to write a query in my <code>FormDataAccess</code>.</p>\n<pre><code>@Query(&quot; from Form where student.id = :studentId&quot;)\nList&lt;Form&gt; findFormByStudentId(int studentId);\n</code></pre>\n<p>now I can retrieve the forms using this path</p>\n<pre><code>api/v1/forms/student/7\n</code></pre>\n<p>I still wonder how to retrieve the forms from the Student side, not Form side such that</p>\n<pre><code>api/v1/student/7/forms\n</code></pre>\n"}],"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71607613,"answer_count":1,"score":0,"last_activity_date":1648146483,"creation_date":1648144007,"question_id":71607185,"body_markdown":"I have a class of `Form` and `Student`. A student may have 0 or many forms. I set the relation between them as `OneToMany`. Now, I need to fetch the forms that are owned by a specific student. I have two questions at that point. How should I fetch those forms in the URL? Let&#39;s say I want to fetch the forms of the student with id=7.\r\n\r\n*Option 1:*\r\n\r\n    api/v1/forms?studentId=7\r\n\r\n*Option 2:*\r\n\r\n    api/v1/students/7/forms\r\n\r\nWhich one of them is most used or more reasonable?\r\nThe second problem is that. Normally, when I want to add a new method to the `JpaRepo`. I just need to add the method that is served by Jpa such that `findAll`, `findByStudentId`. Since I have a list of forms in the Student entity/model. How can I fetch all the forms? Which named method should I use? To sum up, I need to know whether I should write the method in `FormDataAccess` or `StudentDataAccess`. And what should be the method name?\r\n\r\n\r\nStudent\r\n--\r\n\r\n``` \r\n@Data\r\n@Entity\r\n@Table(name = &quot;student&quot;)\r\npublic class Student {\r\n    @Id\r\n    @Column(name = &quot;Student_id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n\r\n    @Column(name = &quot;Student_name&quot;)\r\n    private String name;\r\n    @Column(name = &quot;Course_id&quot;)\r\n    private int courseID;\r\n    @Column(name=&quot;Oasis_id&quot;)\r\n    private Long oasisID;\r\n\r\n    @OneToMany(mappedBy = &quot;student&quot;,fetch = FetchType.LAZY)\r\n    @JsonIgnore\r\n    private List&lt;Form&gt; forms;\r\n}\r\n\r\n```\r\n\r\nForm Model\r\n--\r\n\r\n``` \r\n@Data\r\n@Entity\r\n@Table(name=&quot;form&quot;)\r\npublic class Form {\r\n\r\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;Student_id&quot;, nullable = false)\r\n    private Student student;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;Attending_id&quot;, nullable = false)\r\n    private AttendingPhysician attending;\r\n    @Column(name = &quot;Kayit_no&quot;, nullable = false)\r\n    private String kayitNo;\r\n\r\n    @Column(name = &quot;Staj_turu&quot;, nullable = false)\r\n    private String stajTuru;\r\n\r\n    @Column(name = &quot;Yas&quot;, nullable = false)\r\n    private int yas;\r\n\r\n    @Column(name = &quot;Cinsiyet&quot;, nullable = false)\r\n    private String cinsiyet;\r\n\r\n    @Column(name = &quot;Sikayet&quot;, nullable = false)\r\n    private String sikayet;\r\n\r\n    @Column(name = &quot;Ayirici_tani&quot;, nullable = false)\r\n    private String ayiriciTani;\r\n\r\n    @Column(name = &quot;Kesin_tani&quot;, nullable = false)\r\n    private String kesinTani;\r\n\r\n    @Column(name = &quot;Tedavi_yontemi&quot;, nullable = false)\r\n    private String tedaviYontemi;\r\n\r\n    @Column(name = &quot;Etkilesim_turu&quot;, nullable = false)\r\n    private String etkilesimTuru;\r\n\r\n    @Column(name = &quot;Kapsam&quot;, nullable = false)\r\n    private String kapsam;\r\n\r\n    @Column(name = &quot;Gerceklestigi_ortam&quot;, nullable = false)\r\n    private String gerceklestigiOrtam;\r\n\r\n    @Column(name = &quot;Status&quot;, nullable = false)\r\n    private String status;\r\n\r\n    @Column(name=&quot;Date_sent&quot;, nullable = false)  // Convert to timestamp using java Date @CreationTimestamp, @UpdateTimestamp\r\n    private String dateSent;\r\n\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n","title":"Fetch list of forms that are belong to a specific student","body":"<p>I have a class of <code>Form</code> and <code>Student</code>. A student may have 0 or many forms. I set the relation between them as <code>OneToMany</code>. Now, I need to fetch the forms that are owned by a specific student. I have two questions at that point. How should I fetch those forms in the URL? Let's say I want to fetch the forms of the student with id=7.</p>\n<p><em>Option 1:</em></p>\n<pre><code>api/v1/forms?studentId=7\n</code></pre>\n<p><em>Option 2:</em></p>\n<pre><code>api/v1/students/7/forms\n</code></pre>\n<p>Which one of them is most used or more reasonable?\nThe second problem is that. Normally, when I want to add a new method to the <code>JpaRepo</code>. I just need to add the method that is served by Jpa such that <code>findAll</code>, <code>findByStudentId</code>. Since I have a list of forms in the Student entity/model. How can I fetch all the forms? Which named method should I use? To sum up, I need to know whether I should write the method in <code>FormDataAccess</code> or <code>StudentDataAccess</code>. And what should be the method name?</p>\n<h2>Student</h2>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;student&quot;)\npublic class Student {\n    @Id\n    @Column(name = &quot;Student_id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n    @Column(name = &quot;Student_name&quot;)\n    private String name;\n    @Column(name = &quot;Course_id&quot;)\n    private int courseID;\n    @Column(name=&quot;Oasis_id&quot;)\n    private Long oasisID;\n\n    @OneToMany(mappedBy = &quot;student&quot;,fetch = FetchType.LAZY)\n    @JsonIgnore\n    private List&lt;Form&gt; forms;\n}\n\n</code></pre>\n<h2>Form Model</h2>\n<pre><code>@Data\n@Entity\n@Table(name=&quot;form&quot;)\npublic class Form {\n\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;Student_id&quot;, nullable = false)\n    private Student student;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;Attending_id&quot;, nullable = false)\n    private AttendingPhysician attending;\n    @Column(name = &quot;Kayit_no&quot;, nullable = false)\n    private String kayitNo;\n\n    @Column(name = &quot;Staj_turu&quot;, nullable = false)\n    private String stajTuru;\n\n    @Column(name = &quot;Yas&quot;, nullable = false)\n    private int yas;\n\n    @Column(name = &quot;Cinsiyet&quot;, nullable = false)\n    private String cinsiyet;\n\n    @Column(name = &quot;Sikayet&quot;, nullable = false)\n    private String sikayet;\n\n    @Column(name = &quot;Ayirici_tani&quot;, nullable = false)\n    private String ayiriciTani;\n\n    @Column(name = &quot;Kesin_tani&quot;, nullable = false)\n    private String kesinTani;\n\n    @Column(name = &quot;Tedavi_yontemi&quot;, nullable = false)\n    private String tedaviYontemi;\n\n    @Column(name = &quot;Etkilesim_turu&quot;, nullable = false)\n    private String etkilesimTuru;\n\n    @Column(name = &quot;Kapsam&quot;, nullable = false)\n    private String kapsam;\n\n    @Column(name = &quot;Gerceklestigi_ortam&quot;, nullable = false)\n    private String gerceklestigiOrtam;\n\n    @Column(name = &quot;Status&quot;, nullable = false)\n    private String status;\n\n    @Column(name=&quot;Date_sent&quot;, nullable = false)  // Convert to timestamp using java Date @CreationTimestamp, @UpdateTimestamp\n    private String dateSent;\n\n\n\n}\n\n</code></pre>\n"},{"tags":["java","spring-boot","junit","spring-boot-test","spring-boot-maven-plugin"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1648124254,"post_id":71602330,"comment_id":126547592,"body_markdown":"Time to upgrade. [Log4shell](https://en.wikipedia.org/wiki/Log4Shell) (if no other reason).","body":"Time to upgrade. <a href=\"https://en.wikipedia.org/wiki/Log4Shell\" rel=\"nofollow noreferrer\">Log4shell</a> (if no other reason)."},{"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"score":0,"creation_date":1648127316,"post_id":71602330,"comment_id":126548901,"body_markdown":"You kinda have to upgrade... There are unpatched security vulnerabilities that can cost you more than refactoring...","body":"You kinda have to upgrade... There are unpatched security vulnerabilities that can cost you more than refactoring..."}],"answers":[{"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648126793,"creation_date":1648124602,"answer_id":71602491,"question_id":71602330,"body_markdown":"The most recommended solution would be to upgrade the entire project. If not, the easiest solution is to rely on `spring-boot-starter-test`:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThis means you&#39;ll have to rely on JUnit 4 and older versions of Mockito, AssertJ and the Spring testing library.\r\n\r\nThese are the annotations you can use:\r\n\r\n- `@ExtendWith(SpringExtension.class)` / `@RunWith(SpringRunner.class)` → `@RunWith(SpringJUnit4ClassRunner.class)`\r\n- `@ExtendWith(MockitoExtension.class)` → `@RunWith(MockitoJUnitRunner.class)`\r\n- `@SpringBootTest` → `@SpringApplicationConfiguration` (not an exact replacement)\r\n\r\nTest slices (`@DataJpaTest`, `@WebMvcTest`) were introduced in **Spring boot 1.4**, so you can&#39;t rely on those either.\r\n\r\nThe best way to find out what is possible, is by checking the  [reference documentation of Spring boot 1.2.7](https://docs.spring.io/spring-boot/docs/1.2.7.RELEASE/reference/htmlsingle/#boot-features-testing). \r\nOne example they show is:\r\n\r\n```java\r\n@RunWith(SpringJUnit4ClassRunner.class)\r\n@SpringApplicationConfiguration(classes = SampleDataJpaApplication.class)\r\npublic class CityRepositoryIntegrationTests {\r\n\r\n    @Autowired\r\n    CityRepository repository;\r\n\r\n    // ...\r\n\r\n}\r\n```","title":"How to Test a Spring Boot 1.2.7 Application?","body":"<p>The most recommended solution would be to upgrade the entire project. If not, the easiest solution is to rely on <code>spring-boot-starter-test</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This means you'll have to rely on JUnit 4 and older versions of Mockito, AssertJ and the Spring testing library.</p>\n<p>These are the annotations you can use:</p>\n<ul>\n<li><code>@ExtendWith(SpringExtension.class)</code> / <code>@RunWith(SpringRunner.class)</code> → <code>@RunWith(SpringJUnit4ClassRunner.class)</code></li>\n<li><code>@ExtendWith(MockitoExtension.class)</code> → <code>@RunWith(MockitoJUnitRunner.class)</code></li>\n<li><code>@SpringBootTest</code> → <code>@SpringApplicationConfiguration</code> (not an exact replacement)</li>\n</ul>\n<p>Test slices (<code>@DataJpaTest</code>, <code>@WebMvcTest</code>) were introduced in <strong>Spring boot 1.4</strong>, so you can't rely on those either.</p>\n<p>The best way to find out what is possible, is by checking the  <a href=\"https://docs.spring.io/spring-boot/docs/1.2.7.RELEASE/reference/htmlsingle/#boot-features-testing\" rel=\"nofollow noreferrer\">reference documentation of Spring boot 1.2.7</a>.\nOne example they show is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(SpringJUnit4ClassRunner.class)\n@SpringApplicationConfiguration(classes = SampleDataJpaApplication.class)\npublic class CityRepositoryIntegrationTests {\n\n    @Autowired\n    CityRepository repository;\n\n    // ...\n\n}\n</code></pre>\n"}],"owner":{"account_id":24672248,"reputation":3,"user_id":18567122,"display_name":"Aricann"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71602491,"answer_count":1,"score":0,"last_activity_date":1648146304,"creation_date":1648123990,"question_id":71602330,"body_markdown":"I need to test old Spring Boot Java application (version of **Spring Boot 1.2.7**, **Java 1.8**) and I don&#39;t want to change Spring version (because the application is very voluminous and then I will have to refactor the code very much).\r\n\r\nI&#39;d like to apply to input of my desktop application different table column types and test that application determines them correctly.\r\n\r\nBut the problem is that due to old version of Spring I can&#39;t pull up annotations like @ExtendWith(SpringExtension.class), @ExtendWith(MockitoExtension.class), or @RunWith(SpringRunner.class) to enable spring boot features, or @SpringBootTest to load complete application context for end-to-end integration testing.\r\n\r\n**I&#39;m using the following dependencies for tests**:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.6.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.6.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nI tried to upgrade the version of Spring dependencies for testing (to be able to include annotations) and keep the Spring version of existing project but then initialization errors occured.\r\n\r\nHow can I enable spring boot features for testing?","title":"How to Test a Spring Boot 1.2.7 Application?","body":"<p>I need to test old Spring Boot Java application (version of <strong>Spring Boot 1.2.7</strong>, <strong>Java 1.8</strong>) and I don't want to change Spring version (because the application is very voluminous and then I will have to refactor the code very much).</p>\n<p>I'd like to apply to input of my desktop application different table column types and test that application determines them correctly.</p>\n<p>But the problem is that due to old version of Spring I can't pull up annotations like @ExtendWith(SpringExtension.class), @ExtendWith(MockitoExtension.class), or @RunWith(SpringRunner.class) to enable spring boot features, or @SpringBootTest to load complete application context for end-to-end integration testing.</p>\n<p><strong>I'm using the following dependencies for tests</strong>:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;5.6.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.6.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\n            &lt;version&gt;1.3.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I tried to upgrade the version of Spring dependencies for testing (to be able to include annotations) and keep the Spring version of existing project but then initialization errors occured.</p>\n<p>How can I enable spring boot features for testing?</p>\n"},{"tags":["java","api","rest","etl","informatica-powercenter"],"comments":[{"owner":{"account_id":8583678,"reputation":7033,"user_id":6430523,"display_name":"Koushik Roy"},"score":0,"creation_date":1648149217,"post_id":71607549,"comment_id":126558021,"body_markdown":"Please refer to the answer https://stackoverflow.com/questions/63295470/informatica-how-to-post-json-data-with-bearer-token-in-header/63352194#63352194","body":"Please refer to the answer <a href=\"https://stackoverflow.com/questions/63295470/informatica-how-to-post-json-data-with-bearer-token-in-header/63352194#63352194\" title=\"informatica how to post json data with bearer token in header\">stackoverflow.com/questions/63295470/&hellip;</a>"},{"owner":{"account_id":24567842,"reputation":33,"user_id":18474752,"display_name":"Ashok "},"score":0,"creation_date":1648154498,"post_id":71607549,"comment_id":126559729,"body_markdown":"okay thanks but how you&#39;re passing username and password like in json format in expression transformation","body":"okay thanks but how you&#39;re passing username and password like in json format in expression transformation"},{"owner":{"account_id":8583678,"reputation":7033,"user_id":6430523,"display_name":"Koushik Roy"},"score":0,"creation_date":1648184340,"post_id":71607549,"comment_id":126565258,"body_markdown":"its in the answer. hardcoded value in json format exactly like API expects - `{\n   &quot;id&quot;:&quot;xxxx&quot;\n   &quot;pass&quot;:&quot;yyyyy&quot;\n  }`. Now, if your API expects email, you can pass email. The return values are also imp","body":"its in the answer. hardcoded value in json format exactly like API expects - <code>{    &quot;id&quot;:&quot;xxxx&quot;    &quot;pass&quot;:&quot;yyyyy&quot;   }</code>. Now, if your API expects email, you can pass email. The return values are also imp"},{"owner":{"account_id":8583678,"reputation":7033,"user_id":6430523,"display_name":"Koushik Roy"},"score":0,"creation_date":1648184674,"post_id":71607549,"comment_id":126565311,"body_markdown":"in expression - create a new column like this `out_api_string =&#39;{    &quot;id&quot;:&quot;&#39;||inp_id||  &#39;&quot;    &quot;pass&quot;:&quot;&#39; || inp_pass|| &#39;&quot;   }&#39;`. Then use this as input to your http transformation. Pls note in above exp, i assumed inp_id, inp_pass coming from a file and you can pass hardcoded value as well.","body":"in expression - create a new column like this <code>out_api_string =&#39;{    &quot;id&quot;:&quot;&#39;||inp_id||  &#39;&quot;    &quot;pass&quot;:&quot;&#39; || inp_pass|| &#39;&quot;   }&#39;</code>. Then use this as input to your http transformation. Pls note in above exp, i assumed inp_id, inp_pass coming from a file and you can pass hardcoded value as well."},{"owner":{"account_id":24567842,"reputation":33,"user_id":18474752,"display_name":"Ashok "},"score":0,"creation_date":1648203639,"post_id":71607549,"comment_id":126570358,"body_markdown":"salesforce create connected app where pass consumer key()client-id) and consumer secret along with \ngrant-type:password \nclient_id:\nclient_secret: \nusername: \npassword \nresponse: \n&quot;access token&quot;: \n&quot;instance url&quot;: \n&quot;id&quot; :hhtps:test.salesforce.com/xxxxx/yyyyy\n&quot;token type&quot; &quot;bearer&quot;","body":"salesforce create connected app where pass consumer key()client-id) and consumer secret along with  grant-type:password  client_id: client_secret:  username:  password  response:  &quot;access token&quot;:  &quot;instance url&quot;:  &quot;id&quot; :hhtps:test.salesforce.com/xxxxx/yyyyy &quot;token type&quot; &quot;bearer&quot;"},{"owner":{"account_id":24567842,"reputation":33,"user_id":18474752,"display_name":"Ashok "},"score":0,"creation_date":1648203659,"post_id":71607549,"comment_id":126570364,"body_markdown":"in the next request we send data along with token . 1&gt;for json data type we have to convert in expression transformtn or the http transformation by default converts it?\n 2&gt; is the token we use in the header or body. seems similar scenario of urs. \n3&gt;is there any configtn needs to be made in deafult tab and http name in http transmtn","body":"in the next request we send data along with token . 1&gt;for json data type we have to convert in expression transformtn or the http transformation by default converts it?  2&gt; is the token we use in the header or body. seems similar scenario of urs.  3&gt;is there any configtn needs to be made in deafult tab and http name in http transmtn"},{"owner":{"account_id":8583678,"reputation":7033,"user_id":6430523,"display_name":"Koushik Roy"},"score":0,"creation_date":1648204625,"post_id":71607549,"comment_id":126570718,"body_markdown":"1- you have to create a valid json in exp. 2 - body 3 - probably not but make sure you can reach the api from informatica. You may need some certificate to be added if there is some certificate issues.","body":"1- you have to create a valid json in exp. 2 - body 3 - probably not but make sure you can reach the api from informatica. You may need some certificate to be added if there is some certificate issues."}],"owner":{"account_id":24567842,"reputation":33,"user_id":18474752,"display_name":"Ashok "},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648145780,"creation_date":1648145780,"question_id":71607549,"body_markdown":"I have a mapping where I need to hit the Rest web service through informatica http transformation. I have two fields to pass as below format which I am converting in expression transformation and sending it as string to http transformation.\r\n\r\n    [\r\n     {\r\n       &quot;id&quot;:&quot;xxxx&quot;\r\n       &quot;email&quot;:&quot;yyyyy&quot;\r\n      }\r\n    ]\r\n\r\nI have not configured anything in the header. The rest service developer said they will send a consumer key which we need to pass to connect to rest service. Is there anything I need to configure in the header in the http transformation. Do I need to use any other http transformation in the mapping level. Attached screenshot of the mapping.[Mapping image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RQT6M.jpg\r\n","title":"How to authorize and connect to Rest webservice from informatica and post the data?","body":"<p>I have a mapping where I need to hit the Rest web service through informatica http transformation. I have two fields to pass as below format which I am converting in expression transformation and sending it as string to http transformation.</p>\n<pre><code>[\n {\n   &quot;id&quot;:&quot;xxxx&quot;\n   &quot;email&quot;:&quot;yyyyy&quot;\n  }\n]\n</code></pre>\n<p>I have not configured anything in the header. The rest service developer said they will send a consumer key which we need to pass to connect to rest service. Is there anything I need to configure in the header in the http transformation. Do I need to use any other http transformation in the mapping level. Attached screenshot of the mapping.<a href=\"https://i.stack.imgur.com/RQT6M.jpg\" rel=\"nofollow noreferrer\">Mapping image</a></p>\n"},{"tags":["java","postgresql","jdbi"],"comments":[{"owner":{"account_id":8633322,"reputation":218393,"user_id":6464308,"display_name":"Laurenz Albe"},"score":0,"creation_date":1648046167,"post_id":71588949,"comment_id":126525376,"body_markdown":"That can never block. Your code must do something different.","body":"That can never block. Your code must do something different."},{"owner":{"account_id":24661486,"reputation":1,"user_id":18557643,"display_name":"Daniel Claroni"},"score":0,"creation_date":1648063654,"post_id":71588949,"comment_id":126532452,"body_markdown":"@LaurenzAlbe I am pretty sure after doing more debugging that the blocking PID is that of the original transaction. I am at a loss but it keeps coming back to seem that I am blocking myself. I don&#39;t fully understand how triggers run when initiated from within a transaction already","body":"@LaurenzAlbe I am pretty sure after doing more debugging that the blocking PID is that of the original transaction. I am at a loss but it keeps coming back to seem that I am blocking myself. I don&#39;t fully understand how triggers run when initiated from within a transaction already"},{"owner":{"account_id":8633322,"reputation":218393,"user_id":6464308,"display_name":"Laurenz Albe"},"score":0,"creation_date":1648069233,"post_id":71588949,"comment_id":126534168,"body_markdown":"They run in the same transaction. Log transactions and statements in the database to see what happens.","body":"They run in the same transaction. Log transactions and statements in the database to see what happens."},{"owner":{"account_id":24661486,"reputation":1,"user_id":18557643,"display_name":"Daniel Claroni"},"score":0,"creation_date":1648143693,"post_id":71588949,"comment_id":126556129,"body_markdown":"@LaurenzAlbe Ok, thank you. There may be some logic I am missing, but moving the insert (and trigger fired by it, implicitly) outside of the transaction removed the deadlock. I&#39;m curious if this has something to do with JDBI, but I&#39;m still at a loss. At least I have a fix for now","body":"@LaurenzAlbe Ok, thank you. There may be some logic I am missing, but moving the insert (and trigger fired by it, implicitly) outside of the transaction removed the deadlock. I&#39;m curious if this has something to do with JDBI, but I&#39;m still at a loss. At least I have a fix for now"},{"owner":{"account_id":8633322,"reputation":218393,"user_id":6464308,"display_name":"Laurenz Albe"},"score":0,"creation_date":1648160187,"post_id":71588949,"comment_id":126561309,"body_markdown":"The deadlock must be with a different transaction, perhaps involving tables with a foreign key relationship.","body":"The deadlock must be with a different transaction, perhaps involving tables with a foreign key relationship."}],"owner":{"account_id":24661486,"reputation":1,"user_id":18557643,"display_name":"Daniel Claroni"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648145737,"creation_date":1648045625,"question_id":71588949,"body_markdown":"I&#39;m having trouble with what I think is a deadlock when a trigger is fired after a lock. Can you see any reason why there would be a deadlock in the situation described by this pseudo code:\r\n\r\n- in a single transaction, started in the Java by `Jdbi.inTransaction()`\r\n  - select for update on a row by unique ID in table 1\r\n\r\n  - insert new record into table 2\r\n\r\n    - fires a trigger that attempts to update the row in table 1\r\n\r\nIt appears that the last query that is fired by the trigger is hanging. I could see this action causing a deadlock if the trigger is executed in another transaction, but my understanding is that the trigger will be in the same transaction as the original query.\r\n\r\nI tried reproducing this manually on my own, but I can only get it to reproduce in one deployment environment","title":"Postgres Deadlock in Trigger after Select ... For Update","body":"<p>I'm having trouble with what I think is a deadlock when a trigger is fired after a lock. Can you see any reason why there would be a deadlock in the situation described by this pseudo code:</p>\n<ul>\n<li>in a single transaction, started in the Java by <code>Jdbi.inTransaction()</code>\n<ul>\n<li><p>select for update on a row by unique ID in table 1</p>\n</li>\n<li><p>insert new record into table 2</p>\n<ul>\n<li>fires a trigger that attempts to update the row in table 1</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>It appears that the last query that is fired by the trigger is hanging. I could see this action causing a deadlock if the trigger is executed in another transaction, but my understanding is that the trigger will be in the same transaction as the original query.</p>\n<p>I tried reproducing this manually on my own, but I can only get it to reproduce in one deployment environment</p>\n"},{"tags":["java","jaxb","jax-ws","java-11"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1648148418,"post_id":71607520,"comment_id":126557754,"body_markdown":"I think you need one of the dependencies in [this question](https://stackoverflow.com/q/53642287/636009), maybe `jaxb-core` (but a newer version), I&#39;m not sure.","body":"I think you need one of the dependencies in <a href=\"https://stackoverflow.com/q/53642287/636009\">this question</a>, maybe <code>jaxb-core</code> (but a newer version), I&#39;m not sure."},{"owner":{"account_id":12601632,"reputation":23,"user_id":11346663,"display_name":"Scorpio"},"score":0,"creation_date":1648203759,"post_id":71607520,"comment_id":126570403,"body_markdown":"Hi , did add the same still it does not work for me . &lt;dependency&gt;\n  &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n  &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n  &lt;version&gt;2.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n  &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n  &lt;version&gt;2.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n  &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n  &lt;version&gt;2.3.0&lt;/version&gt;\n&lt;/dependency&gt;","body":"Hi , did add the same still it does not work for me . &lt;dependency&gt;   &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;   &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;   &lt;version&gt;2.3.0&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt;   &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;   &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;   &lt;version&gt;2.3.0&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt;   &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;   &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;   &lt;version&gt;2.3.0&lt;/version&gt; &lt;/dependency&gt;"},{"owner":{"account_id":12601632,"reputation":23,"user_id":11346663,"display_name":"Scorpio"},"score":0,"creation_date":1648203893,"post_id":71607520,"comment_id":126570442,"body_markdown":"I unzipped war file and modified pom and added these dependencies and recreated the war file with the updated pom and then deployed the war file in tomcat 9 but still I see this class not found error. I have checked in the webapps folder the updated pom is showing the new dependencies. PLease suggest if I am doing something incorrectly","body":"I unzipped war file and modified pom and added these dependencies and recreated the war file with the updated pom and then deployed the war file in tomcat 9 but still I see this class not found error. I have checked in the webapps folder the updated pom is showing the new dependencies. PLease suggest if I am doing something incorrectly"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1648546698,"post_id":71607520,"comment_id":126645672,"body_markdown":"When using `jakarta.xml.bind` 3.0 you also have to modify the code as the package name has changed from `javax.xml.bind` to `jakarta.xml.bind` (API and implementation). If you can modify the sources then you should make this step and then just use `org.glassfish.jaxb:jaxb-runtime:3.0.2` afterwards all the jaxb problems are gone.","body":"When using <code>jakarta.xml.bind</code> 3.0 you also have to modify the code as the package name has changed from <code>javax.xml.bind</code> to <code>jakarta.xml.bind</code> (API and implementation). If you can modify the sources then you should make this step and then just use <code>org.glassfish.jaxb:jaxb-runtime:3.0.2</code> afterwards all the jaxb problems are gone."}],"owner":{"account_id":12601632,"reputation":23,"user_id":11346663,"display_name":"Scorpio"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1774,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648145644,"creation_date":1648145644,"question_id":71607520,"body_markdown":"I have recently migrated my application to java 11 &amp; Tomcat 9.0 &amp; have started getting jaxb class not found exception. \r\n\r\n    caused by: java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1364)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1187)\r\n\tat javax.xml.bind.ServiceLoaderUtil.nullSafeLoadClass(ServiceLoaderUtil.java:122)\r\n\tat javax.xml.bind.ServiceLoaderUtil.safeLoadClass(ServiceLoaderUtil.java:155)\r\n\tat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:276)\r\n\r\nI have tried tweaking pom.xml and redeployed my war file in tomcat but still the same error persists in logs. \r\n\r\nIn pom.xml I have added the following but it does not work for me\r\n\r\n        &lt;!-- JAXB API only --&gt;\r\n      &lt;dependency&gt;\r\n          &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.0&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n    \r\n      &lt;!-- JAXB RI, Jakarta XML Binding --&gt;\r\n      &lt;dependency&gt;\r\n          &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.0&lt;/version&gt;\r\n          &lt;scope&gt;runtime&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n\r\nalso tried adding this in pom.xml but it also doesn&#39;t work for me.\r\n\r\n    &lt;!-- JAXB API --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;!-- JAXB Runtime --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nPlease suggest","title":"Java 11 exception java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory","body":"<p>I have recently migrated my application to java 11 &amp; Tomcat 9.0 &amp; have started getting jaxb class not found exception.</p>\n<pre><code>caused by: java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory\nat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1364)\nat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1187)\nat javax.xml.bind.ServiceLoaderUtil.nullSafeLoadClass(ServiceLoaderUtil.java:122)\nat javax.xml.bind.ServiceLoaderUtil.safeLoadClass(ServiceLoaderUtil.java:155)\nat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:276)\n</code></pre>\n<p>I have tried tweaking pom.xml and redeployed my war file in tomcat but still the same error persists in logs.</p>\n<p>In pom.xml I have added the following but it does not work for me</p>\n<pre><code>    &lt;!-- JAXB API only --&gt;\n  &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n      &lt;version&gt;3.0.0&lt;/version&gt;\n  &lt;/dependency&gt;\n\n  &lt;!-- JAXB RI, Jakarta XML Binding --&gt;\n  &lt;dependency&gt;\n      &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n      &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n      &lt;version&gt;3.0.0&lt;/version&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n  &lt;/dependency&gt;\n</code></pre>\n<p>also tried adding this in pom.xml but it also doesn't work for me.</p>\n<pre><code>&lt;!-- JAXB API --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- JAXB Runtime --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n    &lt;version&gt;2.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Please suggest</p>\n"},{"tags":["java","binding","javafx"],"answers":[{"tags":[],"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1385637691,"creation_date":1385637691,"answer_id":20264807,"question_id":20264480,"body_markdown":"This is possible by binding to a boolean expression via `Bindings`:\r\n\r\n    button.disableProperty().bind(\r\n        Bindings.and(\r\n            textField.textProperty().isEqualTo(&quot;&quot;),\r\n            textField2.textProperty().isEqualTo(&quot;&quot;)));","title":"JavaFX bind to multiple properties","body":"<p>This is possible by binding to a boolean expression via <code>Bindings</code>:</p>\n\n<pre><code>button.disableProperty().bind(\n    Bindings.and(\n        textField.textProperty().isEqualTo(\"\"),\n        textField2.textProperty().isEqualTo(\"\")));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":475158,"reputation":485,"user_id":885323,"display_name":"martin_dk"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1385706307,"creation_date":1385706307,"answer_id":20279625,"question_id":20264480,"body_markdown":"In addition to Andreys approach, I found that you can also do it like this:\r\n\r\n        BooleanBinding booleanBinding = \r\n          textField.textProperty().isEqualTo(&quot;&quot;).or(\r\n            textField2.textProperty().isEqualTo(&quot;&quot;));\r\n\r\n        button.disableProperty().bind(booleanBinding);","title":"JavaFX bind to multiple properties","body":"<p>In addition to Andreys approach, I found that you can also do it like this:</p>\n\n<pre><code>    BooleanBinding booleanBinding = \n      textField.textProperty().isEqualTo(\"\").or(\n        textField2.textProperty().isEqualTo(\"\"));\n\n    button.disableProperty().bind(booleanBinding);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7750115,"reputation":383,"user_id":5866302,"accept_rate":100,"display_name":"Korvin Gump"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1463313912,"creation_date":1463313912,"answer_id":37238074,"question_id":20264480,"body_markdown":"In addition to martin_dk answer, if you want to bind more than two properties you will get code like below, looks weird, but it works.\r\n\r\n    BooleanBinding booleanBinding\r\n            = finalEditor.selectedProperty().or(\r\n                    staticEditor.selectedProperty().or(\r\n                            syncEditor.selectedProperty().or(\r\n                                    nativeEditor.selectedProperty().or(\r\n                                            strictEditor.selectedProperty()))));\r\n\r\n    abstractEditor.disableProperty ().bind(booleanBinding);\r\n\r\n","title":"JavaFX bind to multiple properties","body":"<p>In addition to martin_dk answer, if you want to bind more than two properties you will get code like below, looks weird, but it works.</p>\n\n<pre><code>BooleanBinding booleanBinding\n        = finalEditor.selectedProperty().or(\n                staticEditor.selectedProperty().or(\n                        syncEditor.selectedProperty().or(\n                                nativeEditor.selectedProperty().or(\n                                        strictEditor.selectedProperty()))));\n\nabstractEditor.disableProperty ().bind(booleanBinding);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24677201,"reputation":1,"user_id":18571444,"display_name":"Denis Terentyev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648145557,"creation_date":1648145557,"answer_id":71607509,"question_id":20264480,"body_markdown":"Better way for case with 2+ properties:\r\n```java\r\nbutton.disableProperty().bind(\r\n    Stream.of(\r\n                        textField,\r\n                        textField2\r\n                ) // or any &lt;collection&gt;.stream()\r\n                .map(TextField::textProperty)\r\n                .map(StringProperty::isEmpty)\r\n                .reduce(Bindings::and)\r\n);\r\n```","title":"JavaFX bind to multiple properties","body":"<p>Better way for case with 2+ properties:</p>\n<pre class=\"lang-java prettyprint-override\"><code>button.disableProperty().bind(\n    Stream.of(\n                        textField,\n                        textField2\n                ) // or any &lt;collection&gt;.stream()\n                .map(TextField::textProperty)\n                .map(StringProperty::isEmpty)\n                .reduce(Bindings::and)\n);\n</code></pre>\n"}],"owner":{"account_id":475158,"reputation":485,"user_id":885323,"display_name":"martin_dk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19167,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":20264807,"answer_count":4,"score":17,"last_activity_date":1648145557,"creation_date":1385636903,"question_id":20264480,"body_markdown":"I have a simple fxml with a textfield and a button. I&#39;d like to have the button disabled if the textfield is empty. So I insert something like the following in my controller:\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle bundle) {\r\n      button.disableProperty().bind(textField.textProperty().isEqualTo(&quot;&quot;));\r\n    }\r\n\r\n..and that works fine. The problem is when I add a second textfield and would like my button to be disabled if either textfield is empty. What to do then? I tried the following, but that doesn&#39;t work:\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle bundle) {\r\n      button.disableProperty().bind(textField.textProperty().isEqualTo(&quot;&quot;));\r\n      button.disableProperty().bind(textField2.textProperty().isEqualTo(&quot;&quot;));\r\n    }\r\n","title":"JavaFX bind to multiple properties","body":"<p>I have a simple fxml with a textfield and a button. I'd like to have the button disabled if the textfield is empty. So I insert something like the following in my controller:</p>\n\n<pre><code>@Override\npublic void initialize(URL url, ResourceBundle bundle) {\n  button.disableProperty().bind(textField.textProperty().isEqualTo(\"\"));\n}\n</code></pre>\n\n<p>..and that works fine. The problem is when I add a second textfield and would like my button to be disabled if either textfield is empty. What to do then? I tried the following, but that doesn't work:</p>\n\n<pre><code>@Override\npublic void initialize(URL url, ResourceBundle bundle) {\n  button.disableProperty().bind(textField.textProperty().isEqualTo(\"\"));\n  button.disableProperty().bind(textField2.textProperty().isEqualTo(\"\"));\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1648144066,"post_id":71606619,"comment_id":126556271,"body_markdown":"Seems you have several problems. Try to ask only one issue by question. \nPost your code here. \nAnyway, think, how could `whole.equals(tr) &amp;&amp; whole.equals(tr_end)` evaluate to `true` when `tr.equals(tr_end)` evaluate to `false` ?","body":"Seems you have several problems. Try to ask only one issue by question.  Post your code here.  Anyway, think, how could <code>whole.equals(tr) &amp;&amp; whole.equals(tr_end)</code> evaluate to <code>true</code> when <code>tr.equals(tr_end)</code> evaluate to <code>false</code> ?"},{"owner":{"account_id":24647810,"reputation":11,"user_id":18545254,"display_name":"Hand Up Ventures"},"score":0,"creation_date":1648144485,"post_id":71606619,"comment_id":126556432,"body_markdown":"I was trying to include the beginning tag of the bolded row, the content between, and the ending tag. I only want that content to print for now.","body":"I was trying to include the beginning tag of the bolded row, the content between, and the ending tag. I only want that content to print for now."}],"owner":{"account_id":24647810,"reputation":11,"user_id":18545254,"display_name":"Hand Up Ventures"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648145495,"creation_date":1648141653,"question_id":71606619,"body_markdown":"I&#39;m wanting to use Jsoup to parse through some HTML code. Firstly, I want to only print out the bolded row that contains the(not really columns)headers as the HTML is formatted by rows.I want to select &amp; print the tr tag that contains the bold style within the tag. How do I convert the bold styled tr to a Java GUI table with the bold styled tr with the td elements as the column headers? How do I reformat the document to be able to sort by columns and not rows?    \r\n\r\nI have attached the GitHub link with the Java code. I couldn&#39;t get it to pass the algorithm.\r\n\r\n\r\n[GitHub](https://gist.github.com/elec08/6f5100771485943df87a756b6f1eb09d)","title":"Wanting to print based on a string; Java","body":"<p>I'm wanting to use Jsoup to parse through some HTML code. Firstly, I want to only print out the bolded row that contains the(not really columns)headers as the HTML is formatted by rows.I want to select &amp; print the tr tag that contains the bold style within the tag. How do I convert the bold styled tr to a Java GUI table with the bold styled tr with the td elements as the column headers? How do I reformat the document to be able to sort by columns and not rows?</p>\n<p>I have attached the GitHub link with the Java code. I couldn't get it to pass the algorithm.</p>\n<p><a href=\"https://gist.github.com/elec08/6f5100771485943df87a756b6f1eb09d\" rel=\"nofollow noreferrer\">GitHub</a></p>\n"},{"tags":["java","gradle","openapi","openapi-generator"],"comments":[{"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1694513626,"post_id":71605451,"comment_id":135897517,"body_markdown":"Try to specify different packages names for these options, and generate them. You will see the difference in the generated code.","body":"Try to specify different packages names for these options, and generate them. You will see the difference in the generated code."}],"answers":[{"tags":[],"owner":{"account_id":2767223,"reputation":21433,"user_id":2382650,"accept_rate":92,"display_name":"Cisco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648145199,"creation_date":1648145199,"answer_id":71607433,"question_id":71605451,"body_markdown":"From the context of Java, these are packages. For example, the `spring` generator defines the following defaults:\r\n\r\n* apiPackage -- `org.openapitools.api`\r\n* invokerPackage -- `org.openapitools.api`\r\n\r\nThe `spring` generator does not have any references for `packageName`, so it is not supported.\r\nhttps://github.com/OpenAPITools/openapi-generator/blob/master/modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/SpringCodegen.java#L139...L141\r\n\r\n\r\nSo, those options merely control how [Java packages](https://en.wikipedia.org/wiki/Java_package) are generated.\r\n\r\n","title":"What is the difference between api-package, invoker-package and package-name options in OpenAPI Generator?","body":"<p>From the context of Java, these are packages. For example, the <code>spring</code> generator defines the following defaults:</p>\n<ul>\n<li>apiPackage -- <code>org.openapitools.api</code></li>\n<li>invokerPackage -- <code>org.openapitools.api</code></li>\n</ul>\n<p>The <code>spring</code> generator does not have any references for <code>packageName</code>, so it is not supported.\n<a href=\"https://github.com/OpenAPITools/openapi-generator/blob/master/modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/SpringCodegen.java#L139...L141\" rel=\"nofollow noreferrer\">https://github.com/OpenAPITools/openapi-generator/blob/master/modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/SpringCodegen.java#L139...L141</a></p>\n<p>So, those options merely control how <a href=\"https://en.wikipedia.org/wiki/Java_package\" rel=\"nofollow noreferrer\">Java packages</a> are generated.</p>\n"}],"owner":{"account_id":7280482,"reputation":75,"user_id":5550425,"display_name":"Roman Horbovyi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1265,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1648145199,"creation_date":1648136636,"question_id":71605451,"body_markdown":"OpenAPI Generator docs contains a list of all available options which are relevant for any OpenAPI Generator tooling (CLI, Maven/Gradle plugins etc.). There are a couple of options which are confusing to me and I don&#39;t understand the difference: **--api-package**, **--invoker-package** and **--package-name**. Here are their descriptions taken from the [User Manual][1]:\r\n\r\n&gt; --api-package \\&lt;api package\\&gt;: package for generated api classes\r\n\r\n&gt; --invoker-package \\&lt;invoker package\\&gt;: root package for generated code\r\n\r\n&gt; --package-name \\&lt;package name\\&gt;: package for generated classes (where supported)\r\n\r\nCan someone explain the difference between these 3 options?\r\n\r\nNote: Not sure if this is any relevant, but I am asking this question in the context of Java stack with Gradle OpenAPI Generator plugin. \r\n\r\n\r\n  [1]: https://openapi-generator.tech/docs/usage#generate","title":"What is the difference between api-package, invoker-package and package-name options in OpenAPI Generator?","body":"<p>OpenAPI Generator docs contains a list of all available options which are relevant for any OpenAPI Generator tooling (CLI, Maven/Gradle plugins etc.). There are a couple of options which are confusing to me and I don't understand the difference: <strong>--api-package</strong>, <strong>--invoker-package</strong> and <strong>--package-name</strong>. Here are their descriptions taken from the <a href=\"https://openapi-generator.tech/docs/usage#generate\" rel=\"nofollow noreferrer\">User Manual</a>:</p>\n<blockquote>\n<p>--api-package &lt;api package&gt;: package for generated api classes</p>\n</blockquote>\n<blockquote>\n<p>--invoker-package &lt;invoker package&gt;: root package for generated code</p>\n</blockquote>\n<blockquote>\n<p>--package-name &lt;package name&gt;: package for generated classes (where supported)</p>\n</blockquote>\n<p>Can someone explain the difference between these 3 options?</p>\n<p>Note: Not sure if this is any relevant, but I am asking this question in the context of Java stack with Gradle OpenAPI Generator plugin.</p>\n"},{"tags":["java","spring","maven"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1648144372,"post_id":71607223,"comment_id":126556389,"body_markdown":"It sounds like the repo was down briefly - I&#39;m able to access it now.  I&#39;d try it again and if it&#39;s still not working then check your network connections.  Do you have a firewall?","body":"It sounds like the repo was down briefly - I&#39;m able to access it now.  I&#39;d try it again and if it&#39;s still not working then check your network connections.  Do you have a firewall?"},{"owner":{"account_id":19348730,"reputation":1,"user_id":14146630,"display_name":"ASha"},"score":0,"creation_date":1648144686,"post_id":71607223,"comment_id":126556515,"body_markdown":"I&#39;m already turn off firewall. @stdunbar","body":"I&#39;m already turn off firewall. @stdunbar"},{"owner":{"account_id":19348730,"reputation":1,"user_id":14146630,"display_name":"ASha"},"score":1,"creation_date":1648207514,"post_id":71607223,"comment_id":126571757,"body_markdown":"Nevermind,I found the solution.Just delete the &quot;--offline&quot; from Tools/options/java/maven/global execution options and Boom it&#39;s download require jar automatically.","body":"Nevermind,I found the solution.Just delete the &quot;--offline&quot; from Tools/options/java/maven/global execution options and Boom it&#39;s download require jar automatically."}],"owner":{"account_id":19348730,"reputation":1,"user_id":14146630,"display_name":"ASha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648144921,"creation_date":1648144221,"question_id":71607223,"body_markdown":"When I try to create a new project I got error like this. I can create normal maven project.\r\nI also try proxy and mirror config in the setting.xml file and still no luck.\r\nI use netbean 12 with jdk 8 and maven 3.6.3\r\n\r\n``` \r\nThe POM for org.apache.maven.plugins:maven-archetype-plugin:jar:3.1.2 is missing, no dependency information available\r\n```\r\n\r\n```\r\nPlugin org.apache.maven.plugins:maven-archetype-plugin:3.1.2 or one of\r\n its dependencies could not be resolved: Cannot access central \r\n(https://repo.maven.apache.org/maven2) in offline mode and the artifact\r\n org.apache.maven.plugins:maven-archetype-plugin:jar:3.1.2 has not been \r\ndownloaded from it before. -&gt; [Help 1]```","title":"Can&#39;t create new maven web project in netbean","body":"<p>When I try to create a new project I got error like this. I can create normal maven project.\nI also try proxy and mirror config in the setting.xml file and still no luck.\nI use netbean 12 with jdk 8 and maven 3.6.3</p>\n<pre><code>The POM for org.apache.maven.plugins:maven-archetype-plugin:jar:3.1.2 is missing, no dependency information available\n</code></pre>\n<pre><code>Plugin org.apache.maven.plugins:maven-archetype-plugin:3.1.2 or one of\n its dependencies could not be resolved: Cannot access central \n(https://repo.maven.apache.org/maven2) in offline mode and the artifact\n org.apache.maven.plugins:maven-archetype-plugin:jar:3.1.2 has not been \ndownloaded from it before. -&gt; [Help 1]```\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1648141609,"post_id":71606421,"comment_id":126555332,"body_markdown":"&quot;Inherit&quot; is probably the wrong word because your project is not a child of either project. Is what you&#39;re trying to achieve by adding the direct dependency to make C no longer optional? It&#39;s not clear from your question. As for &quot;*at all times*&quot;, this will not be possible since B could remove the dependency on C altogether, and then what version would you use?","body":"&quot;Inherit&quot; is probably the wrong word because your project is not a child of either project. Is what you&#39;re trying to achieve by adding the direct dependency to make C no longer optional? It&#39;s not clear from your question. As for &quot;<i>at all times</i>&quot;, this will not be possible since B could remove the dependency on C altogether, and then what version would you use?"},{"owner":{"account_id":14866375,"reputation":465,"user_id":10735351,"display_name":"Graham Meehan"},"score":0,"creation_date":1648142360,"post_id":71606421,"comment_id":126555636,"body_markdown":"Correct, I would like to make Project C non-optional for Project A as we have a few direct calls to it from Project A. Our concern is that if something is changed in Project C (or one of its dependencies) to break functionality in both Projects A and B, we only want to have to update the version in Project B.","body":"Correct, I would like to make Project C non-optional for Project A as we have a few direct calls to it from Project A. Our concern is that if something is changed in Project C (or one of its dependencies) to break functionality in both Projects A and B, we only want to have to update the version in Project B."}],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648144781,"creation_date":1648144781,"answer_id":71607349,"question_id":71606421,"body_markdown":"If you don&#39;t control project B, it&#39;s not possible, except possibly with some plugin hackery.\r\n\r\nIf you *do* control project B then you can declare a dependency management section in that project which you can additionally [import into project A][1].\r\n\r\n**Project B POM**\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;groupId&gt;com.foo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;project-c&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.3&lt;/version&gt;\r\n    &lt;/dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.foo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;project-c&lt;/artifactId&gt;\r\n            &lt;!-- no need for version here, comes from dependencyManagement --&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n**Project A POM**\r\n\r\n    &lt;properties&gt;\r\n        &lt;!-- using a property isn&#39;t necessary, but ensures the\r\n             POM import and dependency stay in sync --&gt;\r\n        &lt;project.b.version&gt;2.3.4&lt;/project.b.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.foo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;project-b&lt;/artifactId&gt;\r\n                &lt;version&gt;${project.b.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.foo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;project-b&lt;/artifactId&gt;\r\n            &lt;version&gt;${project.b.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.foo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;project-c&lt;/artifactId&gt;\r\n            &lt;!-- version is not necessary, imported from project-b&#39;s dependency management --&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nThis will mean Project A will default to Project B for *all* dependencies in B&#39;s dependency management section. I don&#39;t think there&#39;s a way to restrict it to just a specific one. I doubt you&#39;ll care but just something to be aware of.\r\n\r\nAny versions that Project A defines, either in its own dependency management or directly in `&lt;dependencies&gt;`, will override any version brought in from Project B&#39;s dependency management.\r\n\r\n\r\n  [1]: https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#importing-dependencies","title":"Inheriting the version of an optional dependency","body":"<p>If you don't control project B, it's not possible, except possibly with some plugin hackery.</p>\n<p>If you <em>do</em> control project B then you can declare a dependency management section in that project which you can additionally <a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#importing-dependencies\" rel=\"nofollow noreferrer\">import into project A</a>.</p>\n<p><strong>Project B POM</strong></p>\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;groupId&gt;com.foo&lt;/groupId&gt;\n    &lt;artifactId&gt;project-c&lt;/artifactId&gt;\n    &lt;version&gt;1.2.3&lt;/version&gt;\n&lt;/dependencyManagement&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.foo&lt;/groupId&gt;\n        &lt;artifactId&gt;project-c&lt;/artifactId&gt;\n        &lt;!-- no need for version here, comes from dependencyManagement --&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p><strong>Project A POM</strong></p>\n<pre><code>&lt;properties&gt;\n    &lt;!-- using a property isn't necessary, but ensures the\n         POM import and dependency stay in sync --&gt;\n    &lt;project.b.version&gt;2.3.4&lt;/project.b.version&gt;\n&lt;/properties&gt;\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.foo&lt;/groupId&gt;\n            &lt;artifactId&gt;project-b&lt;/artifactId&gt;\n            &lt;version&gt;${project.b.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.foo&lt;/groupId&gt;\n        &lt;artifactId&gt;project-b&lt;/artifactId&gt;\n        &lt;version&gt;${project.b.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.foo&lt;/groupId&gt;\n        &lt;artifactId&gt;project-c&lt;/artifactId&gt;\n        &lt;!-- version is not necessary, imported from project-b's dependency management --&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>This will mean Project A will default to Project B for <em>all</em> dependencies in B's dependency management section. I don't think there's a way to restrict it to just a specific one. I doubt you'll care but just something to be aware of.</p>\n<p>Any versions that Project A defines, either in its own dependency management or directly in <code>&lt;dependencies&gt;</code>, will override any version brought in from Project B's dependency management.</p>\n"}],"owner":{"account_id":14866375,"reputation":465,"user_id":10735351,"display_name":"Graham Meehan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71607349,"answer_count":1,"score":2,"last_activity_date":1648144781,"creation_date":1648140739,"question_id":71606421,"body_markdown":"My company has 3 Maven projects organized as follows:\r\n\r\nProject A depends on Project B.\r\n\r\nProject B depends on Project C. (Project B has set Project C as an Optional dependency in their POM)\r\n\r\nI am the owner of Project A. I would like to add Project C as a direct dependency in my POM. However, I do not want to be responsible for keeping the version of Project C up to date. Is there a way I can inherit the version of Project C specified in Project B&#39;s POM at all times?","title":"Inheriting the version of an optional dependency","body":"<p>My company has 3 Maven projects organized as follows:</p>\n<p>Project A depends on Project B.</p>\n<p>Project B depends on Project C. (Project B has set Project C as an Optional dependency in their POM)</p>\n<p>I am the owner of Project A. I would like to add Project C as a direct dependency in my POM. However, I do not want to be responsible for keeping the version of Project C up to date. Is there a way I can inherit the version of Project C specified in Project B's POM at all times?</p>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1648145303,"post_id":71607346,"comment_id":126556703,"body_markdown":"Looks like pre-java 11. (Java 11 has [nestmate based access control](https://openjdk.java.net/jeps/181)). The class is private - without nest based access controls you can&#39;t invoke the method. Use `annotationMethod.setAccessible(true)` before invoking the method.","body":"Looks like pre-java 11. (Java 11 has <a href=\"https://openjdk.java.net/jeps/181\" rel=\"nofollow noreferrer\">nestmate based access control</a>). The class is private - without nest based access controls you can&#39;t invoke the method. Use <code>annotationMethod.setAccessible(true)</code> before invoking the method."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1648145442,"post_id":71607346,"comment_id":126556755,"body_markdown":"@JohannesKuhn oh gorsh that was it, I hadn&#39;t even notice the interface was private (the error message is absolutely not clear). If you write this as an answer I&#39;ll accept it, thanks a lot","body":"@JohannesKuhn oh gorsh that was it, I hadn&#39;t even notice the interface was private (the error message is absolutely not clear). If you write this as an answer I&#39;ll accept it, thanks a lot"}],"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648144755,"creation_date":1648144755,"question_id":71607346,"body_markdown":"I have the following class: \r\n\r\n    public final class SomeClass {\r\n        \r\n        @Signature(&quot;some info&quot;)\r\n        public void someMethod() {\r\n    \r\n        }\r\n    \r\n        @Retention(RetentionPolicy.RUNTIME)\r\n        @Target({ ElementType.METHOD })\r\n        @Inherited\r\n        private @interface Signature {\r\n    \r\n            String value();\r\n        }    \r\n    }\r\n\r\nThis class is not in my source code nor in a dependency, it&#39;s compiled from a resource file on-the-fly at runtime. That means, the symbol `Signature.class` (as well as `SomeClass.class`) do not exist in my class loader and will never do at compile time, so I can&#39;t do the easy:\r\n\r\n    Signature signature = method.getAnnotation(Signature.class);\r\n    signature.value();\r\n\r\nI would like to retrieve the value that is assigned to the annotation `@Signature` at runtime, but I&#39;m being unable to. \r\nAll I know is that the method will only have one annotation (the `@Signature` annotation) and that this annotation will always have one parameter `value`, but that&#39;s all I know. \r\n\r\nThis is my (raw) attempt:\r\n\r\n    Class&lt;?&gt; compiledClass = compiler.compile(classSourceCode); //this properly return the class instance\r\n    for (Method method : compiledClass.getDeclaredMethods()) {\r\n        for (Annotation annotation : method.getAnnotations()) {\r\n            Class&lt;? extends Annotation&gt; realType = annotation.annotationType();\r\n            for (Method annotationMethod : realType.getDeclaredMethods()) {\r\n                System.out.println(annotationMethod.invoke(annotation)); //&lt;-- THIS FAILS\r\n            }\r\n        }\r\n    }     \r\n\r\nThe failure that I get at runtime is: \r\n\r\n&gt; java.lang.IllegalAccessException: class SomeClass cannot access a member of interface SomeClass$Signature with modifiers &quot;public abstract&quot;\r\n\r\nThe method that I get is the method `value()`. \r\n\r\nHow can I do that? \r\n\r\n","title":"Get the value of an annotation with reflection (without knowing the concrete annotation type)","body":"<p>I have the following class:</p>\n<pre><code>public final class SomeClass {\n    \n    @Signature(&quot;some info&quot;)\n    public void someMethod() {\n\n    }\n\n    @Retention(RetentionPolicy.RUNTIME)\n    @Target({ ElementType.METHOD })\n    @Inherited\n    private @interface Signature {\n\n        String value();\n    }    \n}\n</code></pre>\n<p>This class is not in my source code nor in a dependency, it's compiled from a resource file on-the-fly at runtime. That means, the symbol <code>Signature.class</code> (as well as <code>SomeClass.class</code>) do not exist in my class loader and will never do at compile time, so I can't do the easy:</p>\n<pre><code>Signature signature = method.getAnnotation(Signature.class);\nsignature.value();\n</code></pre>\n<p>I would like to retrieve the value that is assigned to the annotation <code>@Signature</code> at runtime, but I'm being unable to.\nAll I know is that the method will only have one annotation (the <code>@Signature</code> annotation) and that this annotation will always have one parameter <code>value</code>, but that's all I know.</p>\n<p>This is my (raw) attempt:</p>\n<pre><code>Class&lt;?&gt; compiledClass = compiler.compile(classSourceCode); //this properly return the class instance\nfor (Method method : compiledClass.getDeclaredMethods()) {\n    for (Annotation annotation : method.getAnnotations()) {\n        Class&lt;? extends Annotation&gt; realType = annotation.annotationType();\n        for (Method annotationMethod : realType.getDeclaredMethods()) {\n            System.out.println(annotationMethod.invoke(annotation)); //&lt;-- THIS FAILS\n        }\n    }\n}     \n</code></pre>\n<p>The failure that I get at runtime is:</p>\n<blockquote>\n<p>java.lang.IllegalAccessException: class SomeClass cannot access a member of interface SomeClass$Signature with modifiers &quot;public abstract&quot;</p>\n</blockquote>\n<p>The method that I get is the method <code>value()</code>.</p>\n<p>How can I do that?</p>\n"},{"tags":["java","spring-boot","google-cloud-spanner","r2dbc","google-cloud-spanner-emulator"],"comments":[{"owner":{"account_id":2975918,"reputation":755,"user_id":2526969,"display_name":"frascu"},"score":0,"creation_date":1665649018,"post_id":71586185,"comment_id":130750572,"body_markdown":"Did my answer help you? or do you want me to add something to my answer? otherwise, feel free to accept my answer if you like.","body":"Did my answer help you? or do you want me to add something to my answer? otherwise, feel free to accept my answer if you like."}],"answers":[{"tags":[],"owner":{"account_id":2975918,"reputation":755,"user_id":2526969,"display_name":"frascu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648036708,"creation_date":1648036708,"answer_id":71586817,"question_id":71586185,"body_markdown":"Here you can find a test container example of gcloud spanner:\r\n\r\nhttps://github.com/saturnism/testcontainers-gcloud-examples/blob/main/springboot/spanner-example/src/test/java/com/example/springboot/spanner/SpannerIntegrationTests.java\r\n\r\nand here:\r\n\r\nhttps://www.testcontainers.org/modules/gcloud/#spanner","title":"How to provide credentials for Spanner integration tests with Spring Boot, R2DBC and TestContainers (Spanner Emulator)","body":"<p>Here you can find a test container example of gcloud spanner:</p>\n<p><a href=\"https://github.com/saturnism/testcontainers-gcloud-examples/blob/main/springboot/spanner-example/src/test/java/com/example/springboot/spanner/SpannerIntegrationTests.java\" rel=\"nofollow noreferrer\">https://github.com/saturnism/testcontainers-gcloud-examples/blob/main/springboot/spanner-example/src/test/java/com/example/springboot/spanner/SpannerIntegrationTests.java</a></p>\n<p>and here:</p>\n<p><a href=\"https://www.testcontainers.org/modules/gcloud/#spanner\" rel=\"nofollow noreferrer\">https://www.testcontainers.org/modules/gcloud/#spanner</a></p>\n"},{"tags":[],"owner":{"account_id":10326713,"reputation":3074,"user_id":7617957,"display_name":"Knut Olav L&#248;ite"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648038832,"creation_date":1648038832,"answer_id":71587316,"question_id":71586185,"body_markdown":"The error you are getting is actually hinting that your credentials options are working, but that something is trying to connect to Cloud Spanner (or some other Cloud product) without credentials. The emulator would normally not return an `Unauthenticated` error, as it does not expect any credentials. Could you check:\r\n1. That your tests are really trying to connect to the emulator endpoint in all cases, and not real Cloud Spanner.\r\n2. That your tests are not accidentally trying to access some other Cloud product with `NoCredentials`.\r\n\r\n","title":"How to provide credentials for Spanner integration tests with Spring Boot, R2DBC and TestContainers (Spanner Emulator)","body":"<p>The error you are getting is actually hinting that your credentials options are working, but that something is trying to connect to Cloud Spanner (or some other Cloud product) without credentials. The emulator would normally not return an <code>Unauthenticated</code> error, as it does not expect any credentials. Could you check:</p>\n<ol>\n<li>That your tests are really trying to connect to the emulator endpoint in all cases, and not real Cloud Spanner.</li>\n<li>That your tests are not accidentally trying to access some other Cloud product with <code>NoCredentials</code>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":482529,"reputation":5253,"user_id":896981,"accept_rate":100,"display_name":"magiccrafter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648144635,"creation_date":1648144635,"answer_id":71607314,"question_id":71586185,"body_markdown":"Thanks to [elefeint][1]&#39;s hint:\r\n&gt; You would also have to set up an environment variable export SPANNER_EMULATOR_HOST=localhost:9010, so that the Spanner client library picks up the non-production host, similar to jdbc driver.\r\n&gt; \r\n&gt;Upvote #200 for allowing programmatic customization of emulator.\r\n\r\nfor more details check the [Github issue #200][2]\r\n\r\nHere is the workaround I came up with to bypass the requirement for SPANNER_EMULATOR_HOST env variable prior to the integration tests run:\r\n```java\r\n@Testcontainers\r\n@ExtendWith(SystemStubsExtension.class)\r\n@ExtendWith(SpringExtension.class)\r\n@SpringBootTest\r\n@ActiveProfiles(&quot;it&quot;)\r\n@DirtiesContext\r\npublic class SpannerIT {\r\n\r\n    static final String PROJECT_ID = &quot;nv-local&quot;;\r\n    static final String INSTANCE_ID = &quot;test-instance&quot;;\r\n    static final String DATABASE_NAME = &quot;trades&quot;;\r\n\r\n    @Container\r\n    private static final SpannerEmulatorContainer spannerContainer =\r\n        new SpannerEmulatorContainer(\r\n            DockerImageName.parse(&quot;gcr.io/cloud-spanner-emulator/emulator&quot;).withTag(&quot;1.4.1&quot;));\r\n\r\n    @SystemStub\r\n    private static EnvironmentVariables environmentVariables;\r\n\r\n    @Autowired\r\n    ConnectionFactory connectionFactory;\r\n\r\n    @DynamicPropertySource\r\n    static void properties(DynamicPropertyRegistry r) {\r\n        environmentVariables.set(&quot;SPANNER_EMULATOR_HOST&quot;, spannerContainer.getEmulatorGrpcEndpoint());\r\n        r.add(&quot;spring.r2dbc.url&quot;, () -&gt; &quot;r2dbc:cloudspanner://&quot; +\r\n            &quot;/projects/&quot; + PROJECT_ID + &quot;/instances/&quot; + INSTANCE_ID + &quot;/databases/&quot; + DATABASE_NAME);\r\n    }\r\n```\r\nThis way, we can have the Spanner emulator in Testcontainers without starting the spanner emulator separately and mapping a concrete port. The complete source code can be found [here](https://github.com/magiccrafter/spanner-spring-boot-r2jdbc-app/blob/main/src/test/java/com/example/spannerspringbootr2jdbcapp/SpannerIT.java).\r\n\r\n\r\n  [1]: https://github.com/elefeint\r\n  [2]: https://github.com/GoogleCloudPlatform/cloud-spanner-r2dbc/issues/200","title":"How to provide credentials for Spanner integration tests with Spring Boot, R2DBC and TestContainers (Spanner Emulator)","body":"<p>Thanks to <a href=\"https://github.com/elefeint\" rel=\"nofollow noreferrer\">elefeint</a>'s hint:</p>\n<blockquote>\n<p>You would also have to set up an environment variable export SPANNER_EMULATOR_HOST=localhost:9010, so that the Spanner client library picks up the non-production host, similar to jdbc driver.</p>\n<p>Upvote #200 for allowing programmatic customization of emulator.</p>\n</blockquote>\n<p>for more details check the <a href=\"https://github.com/GoogleCloudPlatform/cloud-spanner-r2dbc/issues/200\" rel=\"nofollow noreferrer\">Github issue #200</a></p>\n<p>Here is the workaround I came up with to bypass the requirement for SPANNER_EMULATOR_HOST env variable prior to the integration tests run:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Testcontainers\n@ExtendWith(SystemStubsExtension.class)\n@ExtendWith(SpringExtension.class)\n@SpringBootTest\n@ActiveProfiles(&quot;it&quot;)\n@DirtiesContext\npublic class SpannerIT {\n\n    static final String PROJECT_ID = &quot;nv-local&quot;;\n    static final String INSTANCE_ID = &quot;test-instance&quot;;\n    static final String DATABASE_NAME = &quot;trades&quot;;\n\n    @Container\n    private static final SpannerEmulatorContainer spannerContainer =\n        new SpannerEmulatorContainer(\n            DockerImageName.parse(&quot;gcr.io/cloud-spanner-emulator/emulator&quot;).withTag(&quot;1.4.1&quot;));\n\n    @SystemStub\n    private static EnvironmentVariables environmentVariables;\n\n    @Autowired\n    ConnectionFactory connectionFactory;\n\n    @DynamicPropertySource\n    static void properties(DynamicPropertyRegistry r) {\n        environmentVariables.set(&quot;SPANNER_EMULATOR_HOST&quot;, spannerContainer.getEmulatorGrpcEndpoint());\n        r.add(&quot;spring.r2dbc.url&quot;, () -&gt; &quot;r2dbc:cloudspanner://&quot; +\n            &quot;/projects/&quot; + PROJECT_ID + &quot;/instances/&quot; + INSTANCE_ID + &quot;/databases/&quot; + DATABASE_NAME);\n    }\n</code></pre>\n<p>This way, we can have the Spanner emulator in Testcontainers without starting the spanner emulator separately and mapping a concrete port. The complete source code can be found <a href=\"https://github.com/magiccrafter/spanner-spring-boot-r2jdbc-app/blob/main/src/test/java/com/example/spannerspringbootr2jdbcapp/SpannerIT.java\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":482529,"reputation":5253,"user_id":896981,"accept_rate":100,"display_name":"magiccrafter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1088,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1648144635,"creation_date":1648033779,"question_id":71586185,"body_markdown":"Here is the error from the execution of the integration tests:\r\n```\r\ncom.google.cloud.spanner.SpannerException: \r\nUNAUTHENTICATED: com.google.api.gax.rpc.UnauthenticatedException: io.grpc.StatusRuntimeException: \r\nUNAUTHENTICATED: Request is missing required authentication credential. \r\nExpected OAuth 2 access token, login cookie or other valid authentication credential. \r\nSee https://developers.google.com/identity/sign-in/web/devconsole-project.\r\n```\r\n\r\ncode (simplified for easier and faster reproducing):\r\n```java\r\n@ExtendWith(SpringExtension.class)\r\n@SpringBootTest\r\n@ActiveProfiles(&quot;it&quot;)\r\n@DirtiesContext\r\npublic class SpannerIT {\r\n\r\n    static final String PROJECT_ID = &quot;emulator-config&quot;;\r\n    static final String INSTANCE_ID = &quot;test-instance&quot;;\r\n    static final String DATABASE_NAME = &quot;test-database&quot;;\r\n\r\n    static SpannerEmulatorContainer spannerContainer;\r\n\r\n    @Autowired\r\n    private R2dbcEntityTemplate template;\r\n\r\n    @DynamicPropertySource\r\n    static void properties(DynamicPropertyRegistry r) {\r\n        r.add(&quot;spring.cloud.gcp.spanner.emulator-host&quot;, spannerContainer::getEmulatorGrpcEndpoint);\r\n        r.add(&quot;spring.r2dbc.url&quot;, () -&gt; &quot;r2dbc:cloudspanner://&quot; + spannerContainer.getEmulatorHttpEndpoint() +\r\n            &quot;/projects/&quot; + PROJECT_ID + &quot;/instances/&quot; + INSTANCE_ID + &quot;/databases/&quot; + DATABASE_NAME);\r\n    }\r\n\r\n    @BeforeAll\r\n    public static void beforeAll() {\r\n        spannerContainer = new SpannerEmulatorContainer(\r\n            DockerImageName.parse(&quot;gcr.io/cloud-spanner-emulator/emulator&quot;).withTag(&quot;1.4.1&quot;));\r\n        spannerContainer.start();\r\n    }\r\n\r\n    @AfterAll\r\n    public static void afterAll() {\r\n        spannerContainer.stop();\r\n    }\r\n\r\n    @Test\r\n    void test() {\r\n        StepVerifier.create(\r\n                template.select(Query.query(CriteriaDefinition.empty()), SomeClazz.class)\r\n            )\r\n            .verifyComplete();\r\n\r\n    }\r\n\r\n    @Data\r\n    @Table(&quot;test&quot;)\r\n    public class SomeClazz {\r\n\r\n        @Column(&quot;column&quot;)\r\n        private String column;\r\n    }\r\n}\r\n```\r\n\r\nand the configs (application-it.yml):\r\n```yml\r\nspring:\r\n  cloud:\r\n    gcp:\r\n      spanner:\r\n        project-id: emulator-config\r\n\r\n  r2dbc:\r\n    url: overwritten_in_tests\r\n    properties:\r\n      usePlainText: true\r\n      autoConfigEmulator: true\r\n```\r\n\r\n\r\n\r\nBy setting the `usePlainText` to the r2dbc URL in theory we should bypass the credentials issue. The credentials provider is correctly configured to `NoCredentials` (`SpannerConnectionFactoryProvider#extractCredentials`).\r\n\r\nGithub repo with the complete code:  \r\nhttps://github.com/magiccrafter/spanner-spring-boot-r2jdbc-app\r\n","title":"How to provide credentials for Spanner integration tests with Spring Boot, R2DBC and TestContainers (Spanner Emulator)","body":"<p>Here is the error from the execution of the integration tests:</p>\n<pre><code>com.google.cloud.spanner.SpannerException: \nUNAUTHENTICATED: com.google.api.gax.rpc.UnauthenticatedException: io.grpc.StatusRuntimeException: \nUNAUTHENTICATED: Request is missing required authentication credential. \nExpected OAuth 2 access token, login cookie or other valid authentication credential. \nSee https://developers.google.com/identity/sign-in/web/devconsole-project.\n</code></pre>\n<p>code (simplified for easier and faster reproducing):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest\n@ActiveProfiles(&quot;it&quot;)\n@DirtiesContext\npublic class SpannerIT {\n\n    static final String PROJECT_ID = &quot;emulator-config&quot;;\n    static final String INSTANCE_ID = &quot;test-instance&quot;;\n    static final String DATABASE_NAME = &quot;test-database&quot;;\n\n    static SpannerEmulatorContainer spannerContainer;\n\n    @Autowired\n    private R2dbcEntityTemplate template;\n\n    @DynamicPropertySource\n    static void properties(DynamicPropertyRegistry r) {\n        r.add(&quot;spring.cloud.gcp.spanner.emulator-host&quot;, spannerContainer::getEmulatorGrpcEndpoint);\n        r.add(&quot;spring.r2dbc.url&quot;, () -&gt; &quot;r2dbc:cloudspanner://&quot; + spannerContainer.getEmulatorHttpEndpoint() +\n            &quot;/projects/&quot; + PROJECT_ID + &quot;/instances/&quot; + INSTANCE_ID + &quot;/databases/&quot; + DATABASE_NAME);\n    }\n\n    @BeforeAll\n    public static void beforeAll() {\n        spannerContainer = new SpannerEmulatorContainer(\n            DockerImageName.parse(&quot;gcr.io/cloud-spanner-emulator/emulator&quot;).withTag(&quot;1.4.1&quot;));\n        spannerContainer.start();\n    }\n\n    @AfterAll\n    public static void afterAll() {\n        spannerContainer.stop();\n    }\n\n    @Test\n    void test() {\n        StepVerifier.create(\n                template.select(Query.query(CriteriaDefinition.empty()), SomeClazz.class)\n            )\n            .verifyComplete();\n\n    }\n\n    @Data\n    @Table(&quot;test&quot;)\n    public class SomeClazz {\n\n        @Column(&quot;column&quot;)\n        private String column;\n    }\n}\n</code></pre>\n<p>and the configs (application-it.yml):</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  cloud:\n    gcp:\n      spanner:\n        project-id: emulator-config\n\n  r2dbc:\n    url: overwritten_in_tests\n    properties:\n      usePlainText: true\n      autoConfigEmulator: true\n</code></pre>\n<p>By setting the <code>usePlainText</code> to the r2dbc URL in theory we should bypass the credentials issue. The credentials provider is correctly configured to <code>NoCredentials</code> (<code>SpannerConnectionFactoryProvider#extractCredentials</code>).</p>\n<p>Github repo with the complete code:<br />\n<a href=\"https://github.com/magiccrafter/spanner-spring-boot-r2jdbc-app\" rel=\"nofollow noreferrer\">https://github.com/magiccrafter/spanner-spring-boot-r2jdbc-app</a></p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648144589,"creation_date":1648144589,"answer_id":71607304,"question_id":71606800,"body_markdown":"One option would be to keep track of the direction the box is moving:\r\n```\r\nenum Direction {NONE, LEFT, RIGHT, UP, DOWN};\r\nDirection dir = Direction.NONE;\r\n\r\npublic void keyPressed(KeyEvent e) {\r\n\tif (e.getKeyCode() == e.VK_RIGHT) {\r\n\t\tx += 20;\r\n\t\tdir = Direction.RIGHT;\r\n\t\trepaint();\r\n\t}\r\n\tif (e.getKeyCode() == e.VK_LEFT) {\r\n\t\tx -= 20;\r\n\t\tdir = Direction.LEFT;\r\n\t\trepaint();\r\n\t}\r\n\tif (e.getKeyCode() == e.VK_UP) {\r\n\t\ty -= 20;\r\n\t\tdir = Direction.UP;\r\n\t\trepaint();\r\n\t}\r\n\tif (e.getKeyCode() == e.VK_DOWN) {\r\n\t\ty += 20;\r\n\t\tdir = Direction.DOWN;\r\n\t\trepaint();\r\n\t}\r\n}\r\n```\r\nThen, when you intersect with the other rectangle, move accordingly:\r\n```\r\nif (object1.intersects(object2)) {\r\n\tif (dir == Direction.RIGHT) x2 += 50;\r\n\telse if (dir == Direction.LEFT) x2 -= 50;\r\n\telse if (dir == Direction.DOWN) y2 += 50;\r\n\telse if (dir == Direction.UP) y2 -= 50;\r\n}\r\n```","title":"Pushing another object in java.awt.Graphics","body":"<p>One option would be to keep track of the direction the box is moving:</p>\n<pre><code>enum Direction {NONE, LEFT, RIGHT, UP, DOWN};\nDirection dir = Direction.NONE;\n\npublic void keyPressed(KeyEvent e) {\n    if (e.getKeyCode() == e.VK_RIGHT) {\n        x += 20;\n        dir = Direction.RIGHT;\n        repaint();\n    }\n    if (e.getKeyCode() == e.VK_LEFT) {\n        x -= 20;\n        dir = Direction.LEFT;\n        repaint();\n    }\n    if (e.getKeyCode() == e.VK_UP) {\n        y -= 20;\n        dir = Direction.UP;\n        repaint();\n    }\n    if (e.getKeyCode() == e.VK_DOWN) {\n        y += 20;\n        dir = Direction.DOWN;\n        repaint();\n    }\n}\n</code></pre>\n<p>Then, when you intersect with the other rectangle, move accordingly:</p>\n<pre><code>if (object1.intersects(object2)) {\n    if (dir == Direction.RIGHT) x2 += 50;\n    else if (dir == Direction.LEFT) x2 -= 50;\n    else if (dir == Direction.DOWN) y2 += 50;\n    else if (dir == Direction.UP) y2 -= 50;\n}\n</code></pre>\n"}],"owner":{"account_id":20005584,"reputation":17,"user_id":14663709,"display_name":"Pej"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71607304,"answer_count":1,"score":1,"last_activity_date":1648144589,"creation_date":1648142399,"question_id":71606800,"body_markdown":"I have managed to push the other object but not the way I want it to, what I was trying to do is to push the other object towards the direction where I am pushing to other object like when you push a box or something. But in this case, I can&#39;t quite get how to push the other object to the same direction I am pushing it.\r\n\r\nIn this case: Box 1 pushing Box 2 from the -x(left) direction so the Box 2 will go towards the +x(right) direction and same with box 1 pushing box 2 from the -y(down) direction then box 2 will go towards +y(up) direction.\r\n\r\nHere is the code:\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.KeyEvent;\r\n    import java.awt.event.KeyListener;\r\n    \r\n    public class Main2 extends JFrame implements KeyListener, ActionListener {\r\n    \r\n        public static int x = 0;\r\n        public static int y = 0;\r\n        public static int x2 = 100;\r\n        public static int y2 = 100;\r\n    \r\n        public Main2() {\r\n            add(new panel());\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Main2 test = new Main2();\r\n            test.setTitle(&quot;TEST&quot;);\r\n            test.setSize(Toolkit.getDefaultToolkit().getScreenSize());\r\n            test.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            test.setVisible(true);\r\n            test.addKeyListener(test);\r\n        }\r\n    \r\n        public class panel extends JPanel {\r\n    \r\n            public panel() {\r\n                Container c = getContentPane();\r\n                c.setBackground(Color.white);\r\n    \r\n            }\r\n    \r\n            public void paint(Graphics g) {\r\n                super.paint(g);\r\n    \r\n                object1(g, x, y);\r\n                g.setColor(Color.RED);\r\n                object2(g, x2, y2);\r\n                \r\n                Rectangle object1 = new Rectangle(x, y, 25, 25);\r\n                Rectangle object2 = new Rectangle(x2, y2, 50, 50);\r\n                object1.contains(x, y);\r\n                object2.contains(x2, y2);\r\n    \r\n                \r\n                if (object1.intersects(object2.getX(), object2.getX(), object2.getX(), object2.getX())) {\r\n                \tx2 += 50;\r\n                \ty2 += 0;\r\n                }\r\n                pause(1);\r\n    \r\n                repaint();\r\n           \r\n            }\r\n        }\r\n    \r\n        public static void pause(int time) {\r\n    \r\n            try \r\n            {\r\n                Thread.sleep(time);\r\n            } catch (InterruptedException e) {\r\n            }  \r\n        }\r\n    \r\n        public void actionPerformed(ActionEvent e) {\r\n        }\r\n    \r\n        public void keyTyped(KeyEvent e) {\r\n        }\r\n    \r\n        public void keyReleased(KeyEvent e) {\r\n        }\r\n    \r\n        public void keyPressed(KeyEvent e) {\r\n    \r\n            if (e.getKeyCode() == e.VK_RIGHT) {\r\n                x += 20;\r\n                repaint();\r\n            }\r\n            if (e.getKeyCode() == e.VK_LEFT) {\r\n                x -= 20;\r\n                repaint();\r\n            }\r\n            if (e.getKeyCode() == e.VK_UP) {\r\n                y -= 20;\r\n                repaint();\r\n            }\r\n            if (e.getKeyCode() == e.VK_DOWN) {\r\n                y += 20;\r\n                repaint();\r\n            }\r\n        }\r\n    \r\n        public void object1(Graphics g, int x, int y) {\r\n    \r\n            g.fillRect(x, y, 30, 30);\r\n        }\r\n        \r\n        public void object2(Graphics g, int x, int y) {\r\n        \tg.fillRect(x2, y2, 50, 50);\r\n        }\r\n    }\r\n\r\n","title":"Pushing another object in java.awt.Graphics","body":"<p>I have managed to push the other object but not the way I want it to, what I was trying to do is to push the other object towards the direction where I am pushing to other object like when you push a box or something. But in this case, I can't quite get how to push the other object to the same direction I am pushing it.</p>\n<p>In this case: Box 1 pushing Box 2 from the -x(left) direction so the Box 2 will go towards the +x(right) direction and same with box 1 pushing box 2 from the -y(down) direction then box 2 will go towards +y(up) direction.</p>\n<p>Here is the code:</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\n\npublic class Main2 extends JFrame implements KeyListener, ActionListener {\n\n    public static int x = 0;\n    public static int y = 0;\n    public static int x2 = 100;\n    public static int y2 = 100;\n\n    public Main2() {\n        add(new panel());\n\n    }\n\n    public static void main(String[] args) {\n        Main2 test = new Main2();\n        test.setTitle(&quot;TEST&quot;);\n        test.setSize(Toolkit.getDefaultToolkit().getScreenSize());\n        test.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        test.setVisible(true);\n        test.addKeyListener(test);\n    }\n\n    public class panel extends JPanel {\n\n        public panel() {\n            Container c = getContentPane();\n            c.setBackground(Color.white);\n\n        }\n\n        public void paint(Graphics g) {\n            super.paint(g);\n\n            object1(g, x, y);\n            g.setColor(Color.RED);\n            object2(g, x2, y2);\n            \n            Rectangle object1 = new Rectangle(x, y, 25, 25);\n            Rectangle object2 = new Rectangle(x2, y2, 50, 50);\n            object1.contains(x, y);\n            object2.contains(x2, y2);\n\n            \n            if (object1.intersects(object2.getX(), object2.getX(), object2.getX(), object2.getX())) {\n                x2 += 50;\n                y2 += 0;\n            }\n            pause(1);\n\n            repaint();\n       \n        }\n    }\n\n    public static void pause(int time) {\n\n        try \n        {\n            Thread.sleep(time);\n        } catch (InterruptedException e) {\n        }  \n    }\n\n    public void actionPerformed(ActionEvent e) {\n    }\n\n    public void keyTyped(KeyEvent e) {\n    }\n\n    public void keyReleased(KeyEvent e) {\n    }\n\n    public void keyPressed(KeyEvent e) {\n\n        if (e.getKeyCode() == e.VK_RIGHT) {\n            x += 20;\n            repaint();\n        }\n        if (e.getKeyCode() == e.VK_LEFT) {\n            x -= 20;\n            repaint();\n        }\n        if (e.getKeyCode() == e.VK_UP) {\n            y -= 20;\n            repaint();\n        }\n        if (e.getKeyCode() == e.VK_DOWN) {\n            y += 20;\n            repaint();\n        }\n    }\n\n    public void object1(Graphics g, int x, int y) {\n\n        g.fillRect(x, y, 30, 30);\n    }\n    \n    public void object2(Graphics g, int x, int y) {\n        g.fillRect(x2, y2, 50, 50);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","properties"],"comments":[{"owner":{"account_id":2030,"reputation":50607,"user_id":2788,"accept_rate":69,"display_name":"Strelok"},"score":0,"creation_date":1501772365,"post_id":45487762,"comment_id":77936905,"body_markdown":"It should work. How and when did you define it? How are you running the app?","body":"It should work. How and when did you define it? How are you running the app?"},{"owner":{"account_id":27169,"reputation":4357,"user_id":71410,"accept_rate":78,"display_name":"Andrea Girardi"},"score":0,"creation_date":1501772470,"post_id":45487762,"comment_id":77936976,"body_markdown":"Check this https://stackoverflow.com/questions/4779572/could-not-resolve-spring-property-placeholder and in particular second answer","body":"Check this <a href=\"https://stackoverflow.com/questions/4779572/could-not-resolve-spring-property-placeholder\" title=\"could not resolve spring property placeholder\">stackoverflow.com/questions/4779572/&hellip;</a> and in particular second answer"}],"answers":[{"tags":[],"owner":{"account_id":22150943,"reputation":11,"user_id":16399495,"display_name":"Christien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648144424,"creation_date":1648144424,"answer_id":71607271,"question_id":45487762,"body_markdown":"This looks like a problem with how you have structured your project. To avoid issues like this I would use an IDE like IntelliJ if you are able to to build out you packages/modules/projects for you.\r\n\r\nGenerally, `.properties` files should live inside the `/resources` folder.\r\n\r\nSo change where you store that file and it should work. I will write your package directory in yaml format so you can follow:\r\n\r\n```\r\nsrc:\r\n  main:\r\n    java:\r\n      packagename:\r\n        ... package classes all in here ...\r\n    resources:\r\n      ... property files go here ...\r\n```","title":"Spring @PropertySource not reading environment variable","body":"<p>This looks like a problem with how you have structured your project. To avoid issues like this I would use an IDE like IntelliJ if you are able to to build out you packages/modules/projects for you.</p>\n<p>Generally, <code>.properties</code> files should live inside the <code>/resources</code> folder.</p>\n<p>So change where you store that file and it should work. I will write your package directory in yaml format so you can follow:</p>\n<pre><code>src:\n  main:\n    java:\n      packagename:\n        ... package classes all in here ...\n    resources:\n      ... property files go here ...\n</code></pre>\n"}],"owner":{"account_id":11477163,"reputation":21,"user_id":8412349,"display_name":"Nina"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2647,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648144424,"creation_date":1501771985,"question_id":45487762,"body_markdown":"I think I&#39;ve read all I could find on the topic, but cannot get the @PropertySource annotation to read an environment variable.\r\n\r\nThis works fine:\r\n\r\n@PropertySource(&quot;file:C:\\\\Code\\\\java\\\\myappname\\\\configuration\\\\myappname_config.properties&quot;)\r\n\r\nBut I do need to read the path from environment, so I have the **myappname_path** environment variable set up (I&#39;m on Windows, with SpringBoot 1.5.4)\r\n\r\nEither of those gets me &quot;Could not resolve placeholder&quot; exception:\r\n\r\n@PropertySource(&quot;file:${**myappname_path**}\\\\myappname_config.properties&quot;)\r\n@PropertySource(&quot;file:${systemProperties[&#39;**myappname_path**&#39;]}\\\\myappname_config.properties&quot;)\r\n\r\nThank you very much for help.\r\n\r\nUPDATE: OK, that was my fault. Apparently, in this case the reboot was necessary to get the system property to take effect. \r\nSo now this syntax works:\r\n@PropertySource(&quot;file:${**myappname_path**}\\\\myappname_config.properties&quot;)\r\n\r\nThis one does not, but it&#39;s not that important:\r\n@PropertySource(&quot;file:${systemProperties[&#39;**myappname_path**&#39;]}\\\\myappname_config.properties&quot;)\r\n\r\nThanks a lot for responses.\r\n","title":"Spring @PropertySource not reading environment variable","body":"<p>I think I've read all I could find on the topic, but cannot get the @PropertySource annotation to read an environment variable.</p>\n\n<p>This works fine:</p>\n\n<p>@PropertySource(\"file:C:\\Code\\java\\myappname\\configuration\\myappname_config.properties\")</p>\n\n<p>But I do need to read the path from environment, so I have the <strong>myappname_path</strong> environment variable set up (I'm on Windows, with SpringBoot 1.5.4)</p>\n\n<p>Either of those gets me \"Could not resolve placeholder\" exception:</p>\n\n<p>@PropertySource(\"file:${<strong>myappname_path</strong>}\\myappname_config.properties\")\n@PropertySource(\"file:${systemProperties['<strong>myappname_path</strong>']}\\myappname_config.properties\")</p>\n\n<p>Thank you very much for help.</p>\n\n<p>UPDATE: OK, that was my fault. Apparently, in this case the reboot was necessary to get the system property to take effect. \nSo now this syntax works:\n@PropertySource(\"file:${<strong>myappname_path</strong>}\\myappname_config.properties\")</p>\n\n<p>This one does not, but it's not that important:\n@PropertySource(\"file:${systemProperties['<strong>myappname_path</strong>']}\\myappname_config.properties\")</p>\n\n<p>Thanks a lot for responses.</p>\n"},{"tags":["java","algorithm","arraylist","dynamic-programming","sub-array"],"comments":[{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1648065453,"post_id":71592923,"comment_id":126533013,"body_markdown":"You are not really using your variable `maxSubArraySum`. You can easily delete it and inline the result.","body":"You are not really using your variable <code>maxSubArraySum</code>. You can easily delete it and inline the result."}],"answers":[{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648065282,"creation_date":1648065282,"answer_id":71593269,"question_id":71592923,"body_markdown":"You are quiet close with your approach.\r\nThere are two problems with the last part:\r\n1) `int greatest = Integer.MAX_VALUE;` should be `Integer.MIN_VALUE` instead.\r\n2) You check for the size of a subarray but you have to check for the sum of the subarray.\r\n\r\nif you change the last part to:\r\n\r\n\tint greatest = Integer.MIN_VALUE;\r\n\tfor (int i = 0; i &lt; lists.size(); i++) {\r\n\t\tif (sum(lists.get(i)) &gt; greatest) {\r\n\t\t\tgreatest = lists.get(i).size();\r\n\t\t\tsmallest = i;\r\n\t\t}\r\n\t}\r\n\r\nby utilizing\r\n\r\n\r\n\tpublic static int sum(List&lt;Integer&gt; arr) {\r\n\t\tint sum = 0;\r\n\t\tfor(int a : arr){\r\n\t\t\tsum += a;\r\n\t\t}\r\n\t\treturn sum;\r\n\t}\r\n\r\nit yields the desired result.","title":"Finding the subarray with the Maximum sum in the given ArrayList","body":"<p>You are quiet close with your approach.\nThere are two problems with the last part:</p>\n<ol>\n<li><code>int greatest = Integer.MAX_VALUE;</code> should be <code>Integer.MIN_VALUE</code> instead.</li>\n<li>You check for the size of a subarray but you have to check for the sum of the subarray.</li>\n</ol>\n<p>if you change the last part to:</p>\n<pre><code>int greatest = Integer.MIN_VALUE;\nfor (int i = 0; i &lt; lists.size(); i++) {\n    if (sum(lists.get(i)) &gt; greatest) {\n        greatest = lists.get(i).size();\n        smallest = i;\n    }\n}\n</code></pre>\n<p>by utilizing</p>\n<pre><code>public static int sum(List&lt;Integer&gt; arr) {\n    int sum = 0;\n    for(int a : arr){\n        sum += a;\n    }\n    return sum;\n}\n</code></pre>\n<p>it yields the desired result.</p>\n"},{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648066362,"creation_date":1648066362,"answer_id":71593476,"question_id":71592923,"body_markdown":"Here is a more concise solution\r\n\r\n\r\n\tprivate List&lt;Integer&gt; solution(List&lt;Integer&gt; nums) {\r\n\t\tint biggestSumSoFar = Integer.MIN_VALUE;\r\n\t    List&lt;Integer&gt; biggestSubListSoFar = new ArrayList&lt;&gt;();\r\n\t\tfor (int left = 0; left &lt; nums.size(); ++left) {\r\n\t\t\tfor (int right = left + 1; right &lt; nums.size(); ++right) {\r\n\t\t\t\tList&lt;Integer&gt; currentSubList = subListSum(nums, left, right);\r\n\t\t\t\tint currentSum = sum(currentSubList);\r\n\t\t\t\tif (currentSum &gt; biggestSumSoFar) {\r\n\t\t\t\t\tbiggestSumSoFar = currentSum;\r\n\t\t\t\t\tbiggestSubListSoFar = currentSubList;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn biggestSubListSoFar;\r\n\t}\r\n\r\n\tprivate List&lt;Integer&gt; subListSum(final List&lt;Integer&gt; nums, final int left, final int right)\r\n\t{\r\n\t\tfinal List&lt;Integer&gt; sublist = new ArrayList&lt;&gt;();\r\n\t\tfor (int i = left; i &lt; right; i++)\r\n\t\t{\r\n\t\t\tsublist.add(nums.get(i));\r\n\t\t}\r\n\t\treturn sublist;\r\n\t}\r\n\r\n\tprivate int sum(List&lt;Integer&gt; arr) {\r\n\t\tint sum = 0;\r\n\t\tfor(int a : arr){\r\n\t\t\tsum += a;\r\n\t\t}\r\n\t\treturn sum;\r\n\t}","title":"Finding the subarray with the Maximum sum in the given ArrayList","body":"<p>Here is a more concise solution</p>\n<pre><code>private List&lt;Integer&gt; solution(List&lt;Integer&gt; nums) {\n    int biggestSumSoFar = Integer.MIN_VALUE;\n    List&lt;Integer&gt; biggestSubListSoFar = new ArrayList&lt;&gt;();\n    for (int left = 0; left &lt; nums.size(); ++left) {\n        for (int right = left + 1; right &lt; nums.size(); ++right) {\n            List&lt;Integer&gt; currentSubList = subListSum(nums, left, right);\n            int currentSum = sum(currentSubList);\n            if (currentSum &gt; biggestSumSoFar) {\n                biggestSumSoFar = currentSum;\n                biggestSubListSoFar = currentSubList;\n            }\n        }\n    }\n    return biggestSubListSoFar;\n}\n\nprivate List&lt;Integer&gt; subListSum(final List&lt;Integer&gt; nums, final int left, final int right)\n{\n    final List&lt;Integer&gt; sublist = new ArrayList&lt;&gt;();\n    for (int i = left; i &lt; right; i++)\n    {\n        sublist.add(nums.get(i));\n    }\n    return sublist;\n}\n\nprivate int sum(List&lt;Integer&gt; arr) {\n    int sum = 0;\n    for(int a : arr){\n        sum += a;\n    }\n    return sum;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648068963,"creation_date":1648068963,"answer_id":71593956,"question_id":71592923,"body_markdown":"Adding a third inner for-loop can make the task probably easier. Just think about how you would do it with a pen and paper. Imagine you have an array of 6 elements with indices from `0` to `5`, then all possible subarrays would have the following start and end indices (strat inclusive, end exclusive)\r\n\r\n    0 - 1     1 - 2     2 - 3     3 - 4     4 - 5\r\n    0 - 2     1 - 3     2 - 4     3 - 5   \r\n    0 - 3     1 - 4     2 - 5   \r\n    0 - 4     1 - 5   \r\n    0 - 5 \r\n\r\nHaving the above all you need is to calculate the subsum and store the relevant start and end indices    \r\n\r\n    public List&lt;Integer&gt; solution(List&lt;Integer&gt; nums) {\r\n        int maxSubArrSum = Integer.MIN_VALUE;\r\n        int start = 0;\r\n        int end   = 0;\r\n        for (int left = 0; left &lt; nums.size(); left++){\r\n            for (int right = left+1; right &lt; nums.size(); right++){\r\n                int subSum = 0;\r\n                for (int k = left; k &lt; right; k++){\r\n                    subSum += nums.get(k);\r\n                }\r\n                if (subSum &gt; maxSubArrSum){\r\n                    maxSubArrSum = subSum;                    \r\n                    start = left;\r\n                    end   = right;\r\n                }\r\n            }\r\n        }\r\n        return nums.subList(start,end);\r\n    }\r\n\r\n  ","title":"Finding the subarray with the Maximum sum in the given ArrayList","body":"<p>Adding a third inner for-loop can make the task probably easier. Just think about how you would do it with a pen and paper. Imagine you have an array of 6 elements with indices from <code>0</code> to <code>5</code>, then all possible subarrays would have the following start and end indices (strat inclusive, end exclusive)</p>\n<pre><code>0 - 1     1 - 2     2 - 3     3 - 4     4 - 5\n0 - 2     1 - 3     2 - 4     3 - 5   \n0 - 3     1 - 4     2 - 5   \n0 - 4     1 - 5   \n0 - 5 \n</code></pre>\n<p>Having the above all you need is to calculate the subsum and store the relevant start and end indices</p>\n<pre><code>public List&lt;Integer&gt; solution(List&lt;Integer&gt; nums) {\n    int maxSubArrSum = Integer.MIN_VALUE;\n    int start = 0;\n    int end   = 0;\n    for (int left = 0; left &lt; nums.size(); left++){\n        for (int right = left+1; right &lt; nums.size(); right++){\n            int subSum = 0;\n            for (int k = left; k &lt; right; k++){\n                subSum += nums.get(k);\n            }\n            if (subSum &gt; maxSubArrSum){\n                maxSubArrSum = subSum;                    \n                start = left;\n                end   = right;\n            }\n        }\n    }\n    return nums.subList(start,end);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648144421,"creation_date":1648069026,"answer_id":71593960,"question_id":71592923,"body_markdown":"Basically, you are trying to approach this task with a **brute-force** algorithm, which in the worse case scenario will have the **O(n^2)** both time and space complexity.\r\n\r\nIt could be done with a *linear* (i.e. **O(n)**) both time and space complexity, without *nested loops*.\r\n\r\nWith this approach, first, we need to find the **maximum possible sum** of the subarray by using the [**Kadane&#39;s algorithm**](https://en.wikipedia.org/wiki/Maximum_subarray_problem#Kadane&#39;s_algorithm).\r\n\r\nAnd then perform the iteration with over the *source list* in a single loop tracking the ***current sum***. When it becomes equal to the *maximum sum* it would mean the target subarray of consecutive elements was found.\r\n\r\nVariables `start` and `end` denote the *starting* and *ending* indices of the resulting *subarray*. \r\n\r\nMethod `subList()` creates a *view* over the source list and every modification of the *view* will be reflected in the source and vice versa. Hence, as a precaution it&#39;s being wrapped with with a new instance of `ArrayList`.\r\n\r\n    public static List&lt;Integer&gt; solution(List&lt;Integer&gt; nums) {\r\n        if (nums.size() == 0) {\r\n            return Collections.emptyList();\r\n        }\r\n\r\n        final int maxSum = getMaxSum(nums); // getting max sum by using Kadane&#39;s algorithm\r\n        int curSum = nums.get(0);\r\n\r\n        int start = 0; // beginning of the resulting subarray\r\n        int end = 0; // end of the resulting subarray exclusive\r\n\r\n        for (int i = 1; i &lt; nums.size(); i++) {\r\n            if (curSum == maxSum) {\r\n                end = i;\r\n                break; // maximus sub-array was found\r\n            }\r\n\r\n            if (nums.get(i) &gt; curSum + nums.get(i)) {\r\n                start = i;             // setting start to current index\r\n                curSum = nums.get(i);  // assigning the current element the sum\r\n            } else {\r\n                curSum += nums.get(i); // adding the current element to the sum\r\n            }\r\n        }\r\n        return new ArrayList&lt;&gt;(nums.subList(start, end));\r\n    }\r\n\r\n***Kadane&#39;s** algorithm implementation*.\r\n\r\nThe overall idea is to maintain two variables denoting the *global* and a *local* maximum. There are to ways in which the *local maximum* changes with each iteration, we either  \r\n* adding the current element to the *local maximum*;\r\n* or assigning the current element&#39;s value to the *local maximum*.\r\n\r\nAt the end of every iteration, the *global maximum* is being compared with a *local maximum* and adjusted if needed.\r\n\r\n\r\n    public static int getMaxSum(List&lt;Integer&gt; nums) {\r\n        int maxSum = Integer.MIN_VALUE;\r\n        int curSum = nums.get(0);\r\n        for (int i = 1; i &lt; nums.size(); i++) {\r\n            curSum = Math.max(nums.get(i), curSum + nums.get(i));\r\n            maxSum = Math.max(maxSum, curSum);\r\n        }\r\n        return maxSum;\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Integer&gt; source = List.of(-1, 10, -11, -1, 17, 0, 0, 9, 20, 7, -8, -6, -18);\r\n        System.out.println(solution(source));\r\n    }\r\n\r\n**output**\r\n```\r\n[17, 0, 0, 9, 20, 7]\r\n```","title":"Finding the subarray with the Maximum sum in the given ArrayList","body":"<p>Basically, you are trying to approach this task with a <strong>brute-force</strong> algorithm, which in the worse case scenario will have the <strong>O(n^2)</strong> both time and space complexity.</p>\n<p>It could be done with a <em>linear</em> (i.e. <strong>O(n)</strong>) both time and space complexity, without <em>nested loops</em>.</p>\n<p>With this approach, first, we need to find the <strong>maximum possible sum</strong> of the subarray by using the <a href=\"https://en.wikipedia.org/wiki/Maximum_subarray_problem#Kadane%27s_algorithm\" rel=\"nofollow noreferrer\"><strong>Kadane's algorithm</strong></a>.</p>\n<p>And then perform the iteration with over the <em>source list</em> in a single loop tracking the <em><strong>current sum</strong></em>. When it becomes equal to the <em>maximum sum</em> it would mean the target subarray of consecutive elements was found.</p>\n<p>Variables <code>start</code> and <code>end</code> denote the <em>starting</em> and <em>ending</em> indices of the resulting <em>subarray</em>.</p>\n<p>Method <code>subList()</code> creates a <em>view</em> over the source list and every modification of the <em>view</em> will be reflected in the source and vice versa. Hence, as a precaution it's being wrapped with with a new instance of <code>ArrayList</code>.</p>\n<pre><code>public static List&lt;Integer&gt; solution(List&lt;Integer&gt; nums) {\n    if (nums.size() == 0) {\n        return Collections.emptyList();\n    }\n\n    final int maxSum = getMaxSum(nums); // getting max sum by using Kadane's algorithm\n    int curSum = nums.get(0);\n\n    int start = 0; // beginning of the resulting subarray\n    int end = 0; // end of the resulting subarray exclusive\n\n    for (int i = 1; i &lt; nums.size(); i++) {\n        if (curSum == maxSum) {\n            end = i;\n            break; // maximus sub-array was found\n        }\n\n        if (nums.get(i) &gt; curSum + nums.get(i)) {\n            start = i;             // setting start to current index\n            curSum = nums.get(i);  // assigning the current element the sum\n        } else {\n            curSum += nums.get(i); // adding the current element to the sum\n        }\n    }\n    return new ArrayList&lt;&gt;(nums.subList(start, end));\n}\n</code></pre>\n<p><em><strong>Kadane's</strong> algorithm implementation</em>.</p>\n<p>The overall idea is to maintain two variables denoting the <em>global</em> and a <em>local</em> maximum. There are to ways in which the <em>local maximum</em> changes with each iteration, we either</p>\n<ul>\n<li>adding the current element to the <em>local maximum</em>;</li>\n<li>or assigning the current element's value to the <em>local maximum</em>.</li>\n</ul>\n<p>At the end of every iteration, the <em>global maximum</em> is being compared with a <em>local maximum</em> and adjusted if needed.</p>\n<pre><code>public static int getMaxSum(List&lt;Integer&gt; nums) {\n    int maxSum = Integer.MIN_VALUE;\n    int curSum = nums.get(0);\n    for (int i = 1; i &lt; nums.size(); i++) {\n        curSum = Math.max(nums.get(i), curSum + nums.get(i));\n        maxSum = Math.max(maxSum, curSum);\n    }\n    return maxSum;\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    List&lt;Integer&gt; source = List.of(-1, 10, -11, -1, 17, 0, 0, 9, 20, 7, -8, -6, -18);\n    System.out.println(solution(source));\n}\n</code></pre>\n<p><strong>output</strong></p>\n<pre><code>[17, 0, 0, 9, 20, 7]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648071867,"creation_date":1648071867,"answer_id":71594417,"question_id":71592923,"body_markdown":"Here is a modified version of [Kadane&#39;s Algorithm](https://en.wikipedia.org/wiki/Maximum_subarray_problem) to find the largest sum of contiguous elements in a list. It is adapted from a solution given in Python and works in a single pass.\r\n```\r\nList&lt;Integer&gt; list = List.of(-1, 10, -11, -1, 17, 0, 0, 9, 20, 7, -8, -6, -18);\r\nList&lt;Integer&gt; subList = maxSubArray(list); \r\nSystem.out.println(subList);\r\n```\r\nprints\r\n```\r\n[17, 0, 0, 9, 20, 7]\r\n\r\npublic static List&lt;Integer&gt; maxSubArray(List&lt;Integer&gt; list) {\r\n\tint max = Integer.MIN_VALUE;\r\n\tint sum = max;\r\n\tint end = 0;\r\n\tint cstart = 0, start = 0;\r\n\tfor (int i = 0; i &lt; list.size(); i++) {\r\n\t\tint val = list.get(i);\r\n\t\tif (sum &lt;= 0) {\r\n\t\t\tsum = val;\r\n\t\t\tcstart = i;\r\n\t\t} else {\r\n\t\t\tsum += val;\r\n\t\t}\r\n\t\tif (sum &gt; max) {\r\n\t\t\t  max = sum;\r\n\t\t\t  start = cstart;\r\n\t\t\t  end = i;\t            \r\n\t\t}\r\n\t}\r\n\treturn list.subList(start,end+1); \r\n}","title":"Finding the subarray with the Maximum sum in the given ArrayList","body":"<p>Here is a modified version of <a href=\"https://en.wikipedia.org/wiki/Maximum_subarray_problem\" rel=\"nofollow noreferrer\">Kadane's Algorithm</a> to find the largest sum of contiguous elements in a list. It is adapted from a solution given in Python and works in a single pass.</p>\n<pre><code>List&lt;Integer&gt; list = List.of(-1, 10, -11, -1, 17, 0, 0, 9, 20, 7, -8, -6, -18);\nList&lt;Integer&gt; subList = maxSubArray(list); \nSystem.out.println(subList);\n</code></pre>\n<p>prints</p>\n<pre><code>[17, 0, 0, 9, 20, 7]\n\npublic static List&lt;Integer&gt; maxSubArray(List&lt;Integer&gt; list) {\n    int max = Integer.MIN_VALUE;\n    int sum = max;\n    int end = 0;\n    int cstart = 0, start = 0;\n    for (int i = 0; i &lt; list.size(); i++) {\n        int val = list.get(i);\n        if (sum &lt;= 0) {\n            sum = val;\n            cstart = i;\n        } else {\n            sum += val;\n        }\n        if (sum &gt; max) {\n              max = sum;\n              start = cstart;\n              end = i;              \n        }\n    }\n    return list.subList(start,end+1); \n}\n</code></pre>\n"}],"owner":{"account_id":13791765,"reputation":77,"user_id":9954018,"display_name":"stucklucky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2596,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71593476,"answer_count":5,"score":1,"last_activity_date":1648144421,"creation_date":1648063514,"question_id":71592923,"body_markdown":"The problem description:\r\n\r\nGiven an `ArrayList` of `Integers`. Find a **subarray** with the ***maximum sum*** of any potential subarray within the `ArrayList`. \r\n\r\nA **subarray** a is a combination of consecutive numbers. \r\n\r\nThe subarray can be of any length `n`, where the size of `n &gt;= 0`.\r\n\r\n*Example*\r\n\r\n**Input:** \r\n```\r\n[-1, 10, -11, -1, 17, 0, 0, 9, 20, 7, -8, -6, -18]\r\n```\r\n**Solution**\r\n```\r\n[17, 0, 0, 9, 20, 0, 7]\r\n```\r\nHere is the code that I have so far.\r\n\r\n```\r\npublic class MaxSubArray {\r\n\r\n    public ArrayList&lt;Integer&gt; solution(ArrayList&lt;Integer&gt; nums) {\r\n        int maxSubArrSum = Integer.MIN_VALUE;\r\n        int greatest = Integer.MAX_VALUE;\r\n        int smallest = 0;\r\n        int start;\r\n        int end;\r\n        ArrayList&lt;Integer&gt; maxSubArr;\r\n        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; lists = new ArrayList();\r\n\r\n        try {\r\n            for (int left = 0; left &lt; nums.size(); left++) {\r\n                int runningSum = 0;\r\n                for (int right = left; right &lt; nums.size(); right++) {\r\n                    runningSum += nums.get(right);\r\n                    if (runningSum &gt;= maxSubArrSum) {\r\n                        ArrayList&lt;Integer&gt; temp = new ArrayList&lt;&gt;();\r\n                        maxSubArrSum = runningSum;\r\n                        start = left;\r\n                        end = right;\r\n                        for (int i = start; i &lt;= end; i++) {\r\n                            temp.add(nums.get(i));\r\n                        }\r\n                        lists.add(temp);\r\n                    }\r\n                }\r\n            }\r\n\r\n            for (int i = 0; i &lt; lists.size(); i++) {\r\n                if (lists.get(i).size() &lt; greatest) {\r\n                    greatest = lists.get(i).size();\r\n                    smallest = i;\r\n                }\r\n            }\r\n            maxSubArr = lists.get(smallest);\r\n            return maxSubArr;\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return nums;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nI am trying to iterate through the `nums` `ArrayList` and figuring out the *first* and *last* indexes of the **subarrays** with the *maximum sum* and putting them in a list of `ArrayList`s. \r\n\r\nAfter that, I am trying to figure out which of the **subarrays** has the *smallest size* and returning it. \r\n\r\nWhat I am doing wrong here?","title":"Finding the subarray with the Maximum sum in the given ArrayList","body":"<p>The problem description:</p>\n<p>Given an <code>ArrayList</code> of <code>Integers</code>. Find a <strong>subarray</strong> with the <em><strong>maximum sum</strong></em> of any potential subarray within the <code>ArrayList</code>.</p>\n<p>A <strong>subarray</strong> a is a combination of consecutive numbers.</p>\n<p>The subarray can be of any length <code>n</code>, where the size of <code>n &gt;= 0</code>.</p>\n<p><em>Example</em></p>\n<p><strong>Input:</strong></p>\n<pre><code>[-1, 10, -11, -1, 17, 0, 0, 9, 20, 7, -8, -6, -18]\n</code></pre>\n<p><strong>Solution</strong></p>\n<pre><code>[17, 0, 0, 9, 20, 0, 7]\n</code></pre>\n<p>Here is the code that I have so far.</p>\n<pre><code>public class MaxSubArray {\n\n    public ArrayList&lt;Integer&gt; solution(ArrayList&lt;Integer&gt; nums) {\n        int maxSubArrSum = Integer.MIN_VALUE;\n        int greatest = Integer.MAX_VALUE;\n        int smallest = 0;\n        int start;\n        int end;\n        ArrayList&lt;Integer&gt; maxSubArr;\n        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; lists = new ArrayList();\n\n        try {\n            for (int left = 0; left &lt; nums.size(); left++) {\n                int runningSum = 0;\n                for (int right = left; right &lt; nums.size(); right++) {\n                    runningSum += nums.get(right);\n                    if (runningSum &gt;= maxSubArrSum) {\n                        ArrayList&lt;Integer&gt; temp = new ArrayList&lt;&gt;();\n                        maxSubArrSum = runningSum;\n                        start = left;\n                        end = right;\n                        for (int i = start; i &lt;= end; i++) {\n                            temp.add(nums.get(i));\n                        }\n                        lists.add(temp);\n                    }\n                }\n            }\n\n            for (int i = 0; i &lt; lists.size(); i++) {\n                if (lists.get(i).size() &lt; greatest) {\n                    greatest = lists.get(i).size();\n                    smallest = i;\n                }\n            }\n            maxSubArr = lists.get(smallest);\n            return maxSubArr;\n        } catch (Exception e) {\n            e.printStackTrace();\n            return nums;\n        }\n    }\n}\n\n</code></pre>\n<p>I am trying to iterate through the <code>nums</code> <code>ArrayList</code> and figuring out the <em>first</em> and <em>last</em> indexes of the <strong>subarrays</strong> with the <em>maximum sum</em> and putting them in a list of <code>ArrayList</code>s.</p>\n<p>After that, I am trying to figure out which of the <strong>subarrays</strong> has the <em>smallest size</em> and returning it.</p>\n<p>What I am doing wrong here?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1648069289,"post_id":71593922,"comment_id":126534185,"body_markdown":"It would be better to not use a _File_ (on disk), but use a _resource_ (on the class path) like `new Image(&quot;/window_icon.png&quot;);`","body":"It would be better to not use a <i>File</i> (on disk), but use a <i>resource</i> (on the class path) like <code>new Image(&quot;&#47;window_icon.png&quot;);</code>"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1648070489,"post_id":71593922,"comment_id":126534538,"body_markdown":"See the guide for [resource lookup in JavaFX](https://stackoverflow.com/questions/61531317/how-do-i-determine-the-correct-path-for-fxml-files-css-files-images-and-other), If it continues to fail, check all the troubleshooting steps in that guide to ensure that the image is actually loaded correctly. Image has an [error property](https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/image/Image.html#errorProperty()) that you can monitor.  Use a standard icon size for the image (e.g. 32x32), or a set of images of standard size multiples.","body":"See the guide for <a href=\"https://stackoverflow.com/questions/61531317/how-do-i-determine-the-correct-path-for-fxml-files-css-files-images-and-other\">resource lookup in JavaFX</a>, If it continues to fail, check all the troubleshooting steps in that guide to ensure that the image is actually loaded correctly. Image has an <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/image/Image.html#errorProperty()\" rel=\"nofollow noreferrer\">error property</a> that you can monitor.  Use a standard icon size for the image (e.g. 32x32), or a set of images of standard size multiples."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1648071046,"post_id":71593922,"comment_id":126534723,"body_markdown":"See the [Image constructor javadoc](https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/image/Image.html#%3Cinit%3E(java.lang.String)) &quot;url - a resource path, file path, or URL&quot;. To tell the constructor to load from a file path rather than a resource path, you need to prefix the file path with `file:`.  Though the resource path is recommended as previously noted.  Also if you use file, output the value of `new File(&quot;window_icon.png&quot;).toURI().toString()` and double-check it matches where your icon actually is (I know you said that you already did that).","body":"See the <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/image/Image.html#%3Cinit%3E(java.lang.String)\" rel=\"nofollow noreferrer\">Image constructor javadoc</a> &quot;url - a resource path, file path, or URL&quot;. To tell the constructor to load from a file path rather than a resource path, you need to prefix the file path with <code>file:</code>.  Though the resource path is recommended as previously noted.  Also if you use file, output the value of <code>new File(&quot;window_icon.png&quot;).toURI().toString()</code> and double-check it matches where your icon actually is (I know you said that you already did that)."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1648071131,"post_id":71593922,"comment_id":126534752,"body_markdown":"`.ico` format is [not currently directly supported by JavaFX](https://stackoverflow.com/questions/28474791/javafx-2-2-image-support-for-ico), so I don&#39;t recommend trying that.","body":"<code>.ico</code> format is <a href=\"https://stackoverflow.com/questions/28474791/javafx-2-2-image-support-for-ico\">not currently directly supported by JavaFX</a>, so I don&#39;t recommend trying that."},{"owner":{"account_id":22592411,"reputation":100,"user_id":16775319,"display_name":"GaussGun"},"score":0,"creation_date":1648071354,"post_id":71593922,"comment_id":126534807,"body_markdown":"@jewelsea can Cyrillic symbols in full path cause problems?","body":"@jewelsea can Cyrillic symbols in full path cause problems?"},{"owner":{"account_id":22592411,"reputation":100,"user_id":16775319,"display_name":"GaussGun"},"score":0,"creation_date":1648071463,"post_id":71593922,"comment_id":126534842,"body_markdown":"@JoopEggen this causes &quot;Invalid URL or resource not found&quot;","body":"@JoopEggen this causes &quot;Invalid URL or resource not found&quot;"},{"owner":{"account_id":22592411,"reputation":100,"user_id":16775319,"display_name":"GaussGun"},"score":0,"creation_date":1648071744,"post_id":71593922,"comment_id":126534919,"body_markdown":"@jewelsea to your first comment, `stage.getIcons().add(new Image(getClass().getResourceAsStream(&quot;/window_icon.png&quot;)));`  results into NullPointerException","body":"@jewelsea to your first comment, <code>stage.getIcons().add(new Image(getClass().getResourceAsStream(&quot;&#47;window_icon.png&quot;)));</code>  results into NullPointerException"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1648076428,"post_id":71593922,"comment_id":126536086,"body_markdown":"Either `stage` or the resource stream is null. Check the root directory of your application build output.  Likely the `window_icon.png` image is not there.  Follow the troubleshooting steps in the  [resource lookup guide](https://stackoverflow.com/questions/61531317/how-do-i-determine-the-correct-path-for-fxml-files-css-files-images-and-other).  Study the [eden coding resource guide](https://edencoding.com/where-to-put-resource-files-in-javafx/).","body":"Either <code>stage</code> or the resource stream is null. Check the root directory of your application build output.  Likely the <code>window_icon.png</code> image is not there.  Follow the troubleshooting steps in the  <a href=\"https://stackoverflow.com/questions/61531317/how-do-i-determine-the-correct-path-for-fxml-files-css-files-images-and-other\">resource lookup guide</a>.  Study the <a href=\"https://edencoding.com/where-to-put-resource-files-in-javafx/\" rel=\"nofollow noreferrer\">eden coding resource guide</a>."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1648082765,"post_id":71593922,"comment_id":126537223,"body_markdown":"Then the resource was not found. Look in the jar (zip format) and check the case sensitive path. For maven projects the resource file should be in src/main/resources/.","body":"Then the resource was not found. Look in the jar (zip format) and check the case sensitive path. For maven projects the resource file should be in src/main/resources/."}],"answers":[{"tags":[],"owner":{"account_id":22592411,"reputation":100,"user_id":16775319,"display_name":"GaussGun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648144336,"creation_date":1648144336,"answer_id":71607252,"question_id":71593922,"body_markdown":"The solution that worked for me is using ResourceStream. Putting the source image into /src/main/resources/{packagename} folder made this line of code work:\r\n\r\n ```stage.getIcons().add(new Image(getClass().getResourceAsStream(&quot;window_icon.png&quot;)))``` \r\n\r\nThanks to @JoopEggen for the hint","title":"JavaFX window icon doesn&#39;t change","body":"<p>The solution that worked for me is using ResourceStream. Putting the source image into /src/main/resources/{packagename} folder made this line of code work:</p>\n<p><code>stage.getIcons().add(new Image(getClass().getResourceAsStream(&quot;window_icon.png&quot;)))</code></p>\n<p>Thanks to @JoopEggen for the hint</p>\n"}],"owner":{"account_id":22592411,"reputation":100,"user_id":16775319,"display_name":"GaussGun"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71607252,"answer_count":1,"score":0,"last_activity_date":1648144336,"creation_date":1648068824,"question_id":71593922,"body_markdown":"I try to change icon in my javaFX application. It starts but icon doesn&#39;t change in both application top left corner and in task bar. I use this code to change the icon:\r\n```java\r\nImage icon = new Image(new File(&quot;window_icon.png&quot;).toURI().toString());\r\nstage.getIcons().add(icon);\r\n```\r\nBut it seems to have no effect at all (no exceptions as well). BTW: I&#39;m sure the file exisits. I also tried different images and formats(.png, .ico and .jpg)\r\n\r\n(I use ItelliJ 2021.3.2 on windows 10 and create scene with FXMLLoader)\r\n\r\nWhat can be the problem?\r\n\r\nUpdate: tried 16x16, 32x32, 64x64, image&#39;s original 256x256\r\n\r\nusing ```Image(&quot;file:window_icon.png&quot;)``` doesn&#39;t change anything","title":"JavaFX window icon doesn&#39;t change","body":"<p>I try to change icon in my javaFX application. It starts but icon doesn't change in both application top left corner and in task bar. I use this code to change the icon:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Image icon = new Image(new File(&quot;window_icon.png&quot;).toURI().toString());\nstage.getIcons().add(icon);\n</code></pre>\n<p>But it seems to have no effect at all (no exceptions as well). BTW: I'm sure the file exisits. I also tried different images and formats(.png, .ico and .jpg)</p>\n<p>(I use ItelliJ 2021.3.2 on windows 10 and create scene with FXMLLoader)</p>\n<p>What can be the problem?</p>\n<p>Update: tried 16x16, 32x32, 64x64, image's original 256x256</p>\n<p>using <code>Image(&quot;file:window_icon.png&quot;)</code> doesn't change anything</p>\n"},{"tags":["java","mysql","javafx","java-8","timeout"],"comments":[{"owner":{"account_id":6740011,"reputation":46650,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1648144727,"post_id":71607211,"comment_id":126556524,"body_markdown":"you can use events but every second checking will cost too much performance","body":"you can use events but every second checking will cost too much performance"},{"owner":{"account_id":8304657,"reputation":10791,"user_id":6248528,"display_name":"Solarflare"},"score":0,"creation_date":1648145600,"post_id":71607211,"comment_id":126556818,"body_markdown":"1. I don&#39;t think an event (or MySQL in general) will have anything to do with it. Basically, your app would need to send an &quot;i am still alive&quot; request every second (to your middleware, not mysql). If it doesn&#39;t do it, the session will become invalid. 2. Why would you want to even do that? Just make a session invalid if another session is opened (e.g. if you log in somewhere else, you logout in your app - where the logout means: the next request of the app will be denied). That is what probably everyone else does.","body":"1. I don&#39;t think an event (or MySQL in general) will have anything to do with it. Basically, your app would need to send an &quot;i am still alive&quot; request every second (to your middleware, not mysql). If it doesn&#39;t do it, the session will become invalid. 2. Why would you want to even do that? Just make a session invalid if another session is opened (e.g. if you log in somewhere else, you logout in your app - where the logout means: the next request of the app will be denied). That is what probably everyone else does."},{"owner":{"account_id":12824901,"reputation":1708,"user_id":9278333,"display_name":"trilogy"},"score":0,"creation_date":1648149732,"post_id":71607211,"comment_id":126558197,"body_markdown":"Store a threadsafe `AtomicInteger` that count down from a set number (on a separate thread of course). Every action you perform in the app that sends to the SQL database, reset that counter. If the counter reaches zero, sign out of the app.","body":"Store a threadsafe <code>AtomicInteger</code> that count down from a set number (on a separate thread of course). Every action you perform in the app that sends to the SQL database, reset that counter. If the counter reaches zero, sign out of the app."}],"owner":{"account_id":24676945,"reputation":1,"user_id":18571213,"display_name":"Egy TattO"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1648144928,"answer_count":0,"score":0,"last_activity_date":1648144145,"creation_date":1648144145,"question_id":71607211,"body_markdown":"i developed application with multiuser account ,,, with javafx - mysql ..\r\nhow i make mysql check every second if the users is active or not ,,, so i want prevent user enter to the application from another pc if the application crash accidentally or electric going down ,,, for any reason the user become not active\r\n\r\ni made the application signout if the user end the session by closing the application and on exit of the application ,,, but what if this happend accidentally by crashing or electric down or any other reason","title":"mysql checking if user singnig in every second","body":"<p>i developed application with multiuser account ,,, with javafx - mysql ..\nhow i make mysql check every second if the users is active or not ,,, so i want prevent user enter to the application from another pc if the application crash accidentally or electric going down ,,, for any reason the user become not active</p>\n<p>i made the application signout if the user end the session by closing the application and on exit of the application ,,, but what if this happend accidentally by crashing or electric down or any other reason</p>\n"},{"tags":["java","sonarqube","code-duplication"],"comments":[{"owner":{"account_id":6312552,"reputation":143,"user_id":4903643,"display_name":"Arpit"},"score":0,"creation_date":1648102494,"post_id":71597776,"comment_id":126540256,"body_markdown":"Which line is duplicate. I think the same code block is already existing in your file, that&#39;s the reason sonar might have marked this whole block as duplicate.","body":"Which line is duplicate. I think the same code block is already existing in your file, that&#39;s the reason sonar might have marked this whole block as duplicate."},{"owner":{"account_id":9190353,"reputation":457,"user_id":6831116,"display_name":"Gopinath Radhakrishnan"},"score":0,"creation_date":1648102563,"post_id":71597776,"comment_id":126540272,"body_markdown":"Sonar is not expecting you to refactor the code, it is complaining that same lines of code is being used in more than one class/method and recommending you to look for opportunities to re-use.","body":"Sonar is not expecting you to refactor the code, it is complaining that same lines of code is being used in more than one class/method and recommending you to look for opportunities to re-use."},{"owner":{"account_id":4197325,"reputation":349,"user_id":3593464,"accept_rate":83,"display_name":"Rishabh Prasad"},"score":0,"creation_date":1648102748,"post_id":71597776,"comment_id":126540306,"body_markdown":"@Arpit All the above-mentioned lines are duplicated in another method.","body":"@Arpit All the above-mentioned lines are duplicated in another method."},{"owner":{"account_id":4197325,"reputation":349,"user_id":3593464,"accept_rate":83,"display_name":"Rishabh Prasad"},"score":0,"creation_date":1648102900,"post_id":71597776,"comment_id":126540337,"body_markdown":"@GopinathRadhakrishnan Yes, and that is where I am stuck as in how to re-use it. I am not so experienced in java, read a few articles but I am not able to figure out how can I remove only this part of duplicate code.","body":"@GopinathRadhakrishnan Yes, and that is where I am stuck as in how to re-use it. I am not so experienced in java, read a few articles but I am not able to figure out how can I remove only this part of duplicate code."},{"owner":{"account_id":6312552,"reputation":143,"user_id":4903643,"display_name":"Arpit"},"score":0,"creation_date":1648103669,"post_id":71597776,"comment_id":126540526,"body_markdown":"Yes, so what you should do is create a Utility class, put this method there and call this method from as many places you want. so in this way you will not have duplicate block and sonar wont trouble you.","body":"Yes, so what you should do is create a Utility class, put this method there and call this method from as many places you want. so in this way you will not have duplicate block and sonar wont trouble you."},{"owner":{"account_id":4197325,"reputation":349,"user_id":3593464,"accept_rate":83,"display_name":"Rishabh Prasad"},"score":0,"creation_date":1648104529,"post_id":71597776,"comment_id":126540713,"body_markdown":"Let me rephrase my question @Arpit","body":"Let me rephrase my question @Arpit"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1648108336,"post_id":71597776,"comment_id":126541764,"body_markdown":"I don&#39;t think we can help you unless you show us the code that this is allegedly a duplicate of.  As far as I can see, there is not duplication &gt;within&lt; this code.  The other option is to simply ignore Sonarqube&#39;s warning.","body":"I don&#39;t think we can help you unless you show us the code that this is allegedly a duplicate of.  As far as I can see, there is not duplication &gt;within&lt; this code.  The other option is to simply ignore Sonarqube&#39;s warning."},{"owner":{"account_id":4197325,"reputation":349,"user_id":3593464,"accept_rate":83,"display_name":"Rishabh Prasad"},"score":0,"creation_date":1648110488,"post_id":71597776,"comment_id":126542444,"body_markdown":"@StephenC I have updated the codes.","body":"@StephenC I have updated the codes."},{"owner":{"account_id":6312552,"reputation":143,"user_id":4903643,"display_name":"Arpit"},"score":0,"creation_date":1648111800,"post_id":71597776,"comment_id":126542958,"body_markdown":"@Rishabh please check, i have edited my answer","body":"@Rishabh please check, i have edited my answer"}],"answers":[{"tags":[],"owner":{"account_id":6312552,"reputation":143,"user_id":4903643,"display_name":"Arpit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648144133,"creation_date":1648104147,"answer_id":71598058,"question_id":71597776,"body_markdown":"Since the method is duplicate, I would suggest you to either refactor it and create one private method and use it from different places in your class, or if method is being used from multiple classes then I would suggest you to create a Utility class and move the method in Utility class and use it from as many places you want. \r\n\r\nThis way sonar wont trouble you. Sample code below.\r\n\r\n \r\n\r\n       public class MyUtility {\r\n          public static someUniqueCodeBlock() {\r\n            List&lt;Object&gt; logAttributes = GenericCarDataHelper.getGenericCarLogAttribute(genericCarNodeId);\r\n            var transactionManager = new TransactionManager();\r\n            transactionManager.createTransactionContext();\r\n            try {\r\n                genericCarPersistenceService.validateGenericCarAttributes(genericCarNode);\r\n                NodeNamesInfo names = genericCarDecorator.getNodeNameInfo(genericCarNode);\r\n                transactionManager.startTransaction();\r\n                transactionResults = new ArrayList&lt;&gt;();\r\n                String partTypeInternalName = Constants.Types.NODE_yyy_INTERNAL_NAME;\r\n                String parent = genericCarNode.getParent();\r\n                String parentInternalName = GenericCarDataHelper.getGenericCarParentInternalName(parent);\r\n                String nodeHierachy = classificationService.getNodeHierarchy(names.getInternalName());\r\n                var updateNodeResult = classificationService.updateNode(names.getInternalName(), names.getDisplayNameEn(), names.getDisplayNameDe(), Collections.emptyMap(), parentInternalName);\r\n          } catch(###) {\r\n                }\r\n        }\r\n        \r\n        class Caller {\r\n        private void createGenericCar(List&lt;Result&gt; results, GenericCar genericCarNode) {\r\n            if (genericCarNodeId == null || genericCarNodeId.isEmpty()) {\r\n                results.add(new Result.Builder().state(State.ERROR).errorMessage(#########).build());\r\n            } else {\r\n    MyUtility.someUniqueCodeBlock();\r\n                    $\r\n                    $\r\n                    $(not duplicated code)\r\n                    $\r\n                    $\r\n                    \r\n            }\r\n        }\r\n          \r\n        }\r\n\r\n","title":"Removing duplicate codes from if/else and try clause","body":"<p>Since the method is duplicate, I would suggest you to either refactor it and create one private method and use it from different places in your class, or if method is being used from multiple classes then I would suggest you to create a Utility class and move the method in Utility class and use it from as many places you want.</p>\n<p>This way sonar wont trouble you. Sample code below.</p>\n<pre><code>   public class MyUtility {\n      public static someUniqueCodeBlock() {\n        List&lt;Object&gt; logAttributes = GenericCarDataHelper.getGenericCarLogAttribute(genericCarNodeId);\n        var transactionManager = new TransactionManager();\n        transactionManager.createTransactionContext();\n        try {\n            genericCarPersistenceService.validateGenericCarAttributes(genericCarNode);\n            NodeNamesInfo names = genericCarDecorator.getNodeNameInfo(genericCarNode);\n            transactionManager.startTransaction();\n            transactionResults = new ArrayList&lt;&gt;();\n            String partTypeInternalName = Constants.Types.NODE_yyy_INTERNAL_NAME;\n            String parent = genericCarNode.getParent();\n            String parentInternalName = GenericCarDataHelper.getGenericCarParentInternalName(parent);\n            String nodeHierachy = classificationService.getNodeHierarchy(names.getInternalName());\n            var updateNodeResult = classificationService.updateNode(names.getInternalName(), names.getDisplayNameEn(), names.getDisplayNameDe(), Collections.emptyMap(), parentInternalName);\n      } catch(###) {\n            }\n    }\n    \n    class Caller {\n    private void createGenericCar(List&lt;Result&gt; results, GenericCar genericCarNode) {\n        if (genericCarNodeId == null || genericCarNodeId.isEmpty()) {\n            results.add(new Result.Builder().state(State.ERROR).errorMessage(#########).build());\n        } else {\nMyUtility.someUniqueCodeBlock();\n                $\n                $\n                $(not duplicated code)\n                $\n                $\n                \n        }\n    }\n      \n    }\n</code></pre>\n"}],"owner":{"account_id":4197325,"reputation":349,"user_id":3593464,"accept_rate":83,"display_name":"Rishabh Prasad"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648144133,"creation_date":1648102204,"question_id":71597776,"body_markdown":"Sonar has marked the below-mentioned code as duplicate, and I am not able to understand how to refactor the code as the fragments of the code exist in the if/else and try clause.\r\n\r\nFirst Method:\r\n\r\n    private void createGenericCar(List&lt;Result&gt; results, GenericCar genericCarNode) {\r\n    \tif (genericCarNodeId == null || genericCarNodeId.isEmpty()) {\r\n    \t\tresults.add(new Result.Builder().state(State.ERROR).errorMessage(#########).build());\r\n    \t} else {\r\n    \t\tList&lt;Object&gt; logAttributes = GenericCarDataHelper.getGenericCarLogAttribute(genericCarNodeId);\r\n    \t\tvar transactionManager = new TransactionManager();\r\n    \t\ttransactionManager.createTransactionContext();\r\n    \t\ttry {\r\n    \t\t\tgenericCarPersistenceService.validateGenericCarAttributes(genericCarNode);\r\n    \t\t\tNodeNamesInfo names = genericCarDecorator.getNodeNameInfo(genericCarNode);\r\n    \t\t\ttransactionManager.startTransaction();\r\n    \t\t\ttransactionResults = new ArrayList&lt;&gt;();\r\n    \t\t\tString nodeInternalName = names.getInternalName();\r\n    \t\t\tString parentPartTypeInternalName = Constants.Types.NODE_yyy_INTERNAL_NAME;\r\n    \t\t\tString parent = genericCarNode.getParent();\r\n    \t\t\tvar parentInternalName = &quot;&quot;;\r\n    \t\t\tif (parent.equals(Constants.Classification.GENERIC_CAR_NODE_GUID)) {\r\n                    parentInternalName = Constants.Classification.GENERIC_CAR_FIRST_NODE;\r\n                    parentPartTypeInternalName = Constants.Types.ROOT_INTERNAL_NAME;\r\n                } else if (!parent.isEmpty()) {\r\n                    parentInternalName = Constants.Classification.GENERIC_CAR_INTERNAL_NAME_PREFIX + parent;\r\n                }\r\n    \t\t\t$\r\n    \t\t\t$\r\n    \t\t\t$(not duplicated code)\r\n    \t\t\t$\r\n    \t\t\t$\r\n    \t\t\t} catch(###) {\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nSecond method:\r\n\r\n    private void updateGenericCar(List&lt;Result&gt; results, GenericCar genericCarNode) {\r\n    \tif (genericCarNodeId == null || genericCarNodeId.isEmpty()) {\r\n    \t\tresults.add(new Result.Builder().state(State.ERROR).errorMessage(#########).build());\r\n    \t} else {\r\n    \t\tList&lt;Object&gt; logAttributes = GenericCarDataHelper.getGenericCarLogAttribute(genericCarNodeId);\r\n    \t\tvar transactionManager = new TransactionManager();\r\n    \t\ttransactionManager.createTransactionContext();\r\n    \t\ttry {\r\n    \t\t\tgenericCarPersistenceService.validateGenericCarAttributes(genericCarNode);\r\n    \t\t\tNodeNamesInfo names = genericCarDecorator.getNodeNameInfo(genericCarNode);\r\n    \t\t\ttransactionManager.startTransaction();\r\n    \t\t\ttransactionResults = new ArrayList&lt;&gt;();\r\n    \t\t\tString partTypeInternalName = Constants.Types.NODE_yyy_INTERNAL_NAME;\r\n    \t\t\tString parent = genericCarNode.getParent();\r\n    \t\t\tString parentInternalName = GenericCarDataHelper.getGenericCarParentInternalName(parent);\r\n    \t\t\tString nodeHierachy = classificationService.getNodeHierarchy(names.getInternalName());\r\n    \t\t\tvar updateNodeResult = classificationService.updateNode(names.getInternalName(), names.getDisplayNameEn(), names.getDisplayNameDe(), Collections.emptyMap(), parentInternalName);\r\n    \t\t\t$\r\n    \t\t\t$\r\n    \t\t\t$(not duplicated code)\r\n    \t\t\t$\r\n    \t\t\t$\r\n    \t\t\t} catch(###) {\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThanks for the help in advance!","title":"Removing duplicate codes from if/else and try clause","body":"<p>Sonar has marked the below-mentioned code as duplicate, and I am not able to understand how to refactor the code as the fragments of the code exist in the if/else and try clause.</p>\n<p>First Method:</p>\n<pre><code>private void createGenericCar(List&lt;Result&gt; results, GenericCar genericCarNode) {\n    if (genericCarNodeId == null || genericCarNodeId.isEmpty()) {\n        results.add(new Result.Builder().state(State.ERROR).errorMessage(#########).build());\n    } else {\n        List&lt;Object&gt; logAttributes = GenericCarDataHelper.getGenericCarLogAttribute(genericCarNodeId);\n        var transactionManager = new TransactionManager();\n        transactionManager.createTransactionContext();\n        try {\n            genericCarPersistenceService.validateGenericCarAttributes(genericCarNode);\n            NodeNamesInfo names = genericCarDecorator.getNodeNameInfo(genericCarNode);\n            transactionManager.startTransaction();\n            transactionResults = new ArrayList&lt;&gt;();\n            String nodeInternalName = names.getInternalName();\n            String parentPartTypeInternalName = Constants.Types.NODE_yyy_INTERNAL_NAME;\n            String parent = genericCarNode.getParent();\n            var parentInternalName = &quot;&quot;;\n            if (parent.equals(Constants.Classification.GENERIC_CAR_NODE_GUID)) {\n                parentInternalName = Constants.Classification.GENERIC_CAR_FIRST_NODE;\n                parentPartTypeInternalName = Constants.Types.ROOT_INTERNAL_NAME;\n            } else if (!parent.isEmpty()) {\n                parentInternalName = Constants.Classification.GENERIC_CAR_INTERNAL_NAME_PREFIX + parent;\n            }\n            $\n            $\n            $(not duplicated code)\n            $\n            $\n            } catch(###) {\n        }\n    }\n}\n</code></pre>\n<p>Second method:</p>\n<pre><code>private void updateGenericCar(List&lt;Result&gt; results, GenericCar genericCarNode) {\n    if (genericCarNodeId == null || genericCarNodeId.isEmpty()) {\n        results.add(new Result.Builder().state(State.ERROR).errorMessage(#########).build());\n    } else {\n        List&lt;Object&gt; logAttributes = GenericCarDataHelper.getGenericCarLogAttribute(genericCarNodeId);\n        var transactionManager = new TransactionManager();\n        transactionManager.createTransactionContext();\n        try {\n            genericCarPersistenceService.validateGenericCarAttributes(genericCarNode);\n            NodeNamesInfo names = genericCarDecorator.getNodeNameInfo(genericCarNode);\n            transactionManager.startTransaction();\n            transactionResults = new ArrayList&lt;&gt;();\n            String partTypeInternalName = Constants.Types.NODE_yyy_INTERNAL_NAME;\n            String parent = genericCarNode.getParent();\n            String parentInternalName = GenericCarDataHelper.getGenericCarParentInternalName(parent);\n            String nodeHierachy = classificationService.getNodeHierarchy(names.getInternalName());\n            var updateNodeResult = classificationService.updateNode(names.getInternalName(), names.getDisplayNameEn(), names.getDisplayNameDe(), Collections.emptyMap(), parentInternalName);\n            $\n            $\n            $(not duplicated code)\n            $\n            $\n            } catch(###) {\n        }\n    }\n}\n</code></pre>\n<p>Thanks for the help in advance!</p>\n"},{"tags":["java","android","kotlin","augmented-reality","arcore"],"answers":[{"tags":[],"owner":{"account_id":8834917,"reputation":50835,"user_id":6599590,"accept_rate":96,"display_name":"Andy Jazz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648144044,"creation_date":1648143172,"answer_id":71606991,"question_id":71602987,"body_markdown":"It&#39;s an old great issue since 2019. Seems the resolving can be done from the another hosting device.","title":"ARCore – Cloud Anchors with persistent Cloud Anchors","body":"<p>It's an old great issue since 2019. Seems the resolving can be done from the another hosting device.</p>\n"}],"owner":{"account_id":16271593,"reputation":51,"user_id":11750013,"display_name":"rehan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1648144044,"creation_date":1648126849,"question_id":71602987,"body_markdown":"I am working with AR using &quot;*ARCore Cloud Anchors with persistent Cloud Anchors*&quot;. I am following the [provided documentation][1].\r\nI am facing an issue in the Resolve part. When I press the resolve button, nothing shows up on the frame. Even though my anchor points are getting stored in the Database but resolve isn&#39;t working properly.\r\n\r\n\r\n  [1]: https://codelabs.developers.google.com/codelabs/arcore-cloud-anchors#0","title":"ARCore – Cloud Anchors with persistent Cloud Anchors","body":"<p>I am working with AR using &quot;<em>ARCore Cloud Anchors with persistent Cloud Anchors</em>&quot;. I am following the <a href=\"https://codelabs.developers.google.com/codelabs/arcore-cloud-anchors#0\" rel=\"nofollow noreferrer\">provided documentation</a>.\nI am facing an issue in the Resolve part. When I press the resolve button, nothing shows up on the frame. Even though my anchor points are getting stored in the Database but resolve isn't working properly.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1648144060,"post_id":71607165,"comment_id":126556267,"body_markdown":"Try hitting the tab key to move between the buttons. Does the &#39;weird border&#39; change between buttons? If so it&#39;s to display input focus. If not, post a [mre] and a better description of what &#39;weird&#39; means to you.","body":"Try hitting the tab key to move between the buttons. Does the &#39;weird border&#39; change between buttons? If so it&#39;s to display input focus. If not, post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and a better description of what &#39;weird&#39; means to you."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1648190071,"post_id":71607165,"comment_id":126566248,"body_markdown":"Maybe method [setFocusPainted](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/AbstractButton.html#setFocusPainted(boolean)), in class `javx.swing.AbstractButton` (which is parent class of `JButton`), is appropriate?","body":"Maybe method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/AbstractButton.html#setFocusPainted(boolean)\" rel=\"nofollow noreferrer\">setFocusPainted</a>, in class <code>javx.swing.AbstractButton</code> (which is parent class of <code>JButton</code>), is appropriate?"}],"owner":{"account_id":20156275,"reputation":46,"user_id":14782396,"display_name":"Phishy1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648143918,"creation_date":1648143918,"question_id":71607165,"body_markdown":"I have a blackjack game, and the GUI is created using swing. One of my buttons looks completely normal, and the other one has a weird border around the text. Both buttons were made using Intellij IDEA&#39;s built-in GUI form, and I copied the normal looking one to make the weird looking one. \r\n\r\nHere&#39;s what the button looks like (compared to the normal one).\r\n\r\n[Can&#39;t embed images lol][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HdJ2w.png","title":"Swing Button has weird border","body":"<p>I have a blackjack game, and the GUI is created using swing. One of my buttons looks completely normal, and the other one has a weird border around the text. Both buttons were made using Intellij IDEA's built-in GUI form, and I copied the normal looking one to make the weird looking one.</p>\n<p>Here's what the button looks like (compared to the normal one).</p>\n<p><a href=\"https://i.stack.imgur.com/HdJ2w.png\" rel=\"nofollow noreferrer\">Can't embed images lol</a></p>\n"},{"tags":["java","scala","class","import","package"],"comments":[{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":0,"creation_date":1648143846,"post_id":71607056,"comment_id":126556187,"body_markdown":"What are you using to compile the project? AFAIK **sbt** handles this automatically and I would guess any other build tool should do the same","body":"What are you using to compile the project? AFAIK <b>sbt</b> handles this automatically and I would guess any other build tool should do the same"},{"owner":{"account_id":5356532,"reputation":1515,"user_id":4269054,"accept_rate":100,"display_name":"NikhilP"},"score":0,"creation_date":1648144273,"post_id":71607056,"comment_id":126556343,"body_markdown":"I am using maven and IDE is intelliJ","body":"I am using maven and IDE is intelliJ"},{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":0,"creation_date":1648149134,"post_id":71607056,"comment_id":126557995,"body_markdown":"Have you confirmed the problem happens if you use **maven** to compile the code?","body":"Have you confirmed the problem happens if you use <b>maven</b> to compile the code?"},{"owner":{"account_id":5356532,"reputation":1515,"user_id":4269054,"accept_rate":100,"display_name":"NikhilP"},"score":0,"creation_date":1648454565,"post_id":71607056,"comment_id":126618746,"body_markdown":"yes I am using maven only","body":"yes I am using maven only"}],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648143735,"creation_date":1648143735,"answer_id":71607127,"question_id":71607056,"body_markdown":"You can do this by using the -cp directive with javac so that you can compile from multiple directories.\r\n\r\nBut the better way to do this would be to compile your scala code separately first and put it in a JAR file. Then you can just include the jar for compilation and runtime\r\n\r\n[https://www.cs.utexas.edu/~scottm/cs307/handouts/Eclipse%20Help/jarInEclipse.htm][1]\r\n\r\n\r\n  [1]: https://www.cs.utexas.edu/~scottm/cs307/handouts/Eclipse%20Help/jarInEclipse.htm","title":"Can we import a class present in /src/main/scala to /src/main/java","body":"<p>You can do this by using the -cp directive with javac so that you can compile from multiple directories.</p>\n<p>But the better way to do this would be to compile your scala code separately first and put it in a JAR file. Then you can just include the jar for compilation and runtime</p>\n<p><a href=\"https://www.cs.utexas.edu/%7Escottm/cs307/handouts/Eclipse%20Help/jarInEclipse.htm\" rel=\"nofollow noreferrer\">https://www.cs.utexas.edu/~scottm/cs307/handouts/Eclipse%20Help/jarInEclipse.htm</a></p>\n"}],"owner":{"account_id":5356532,"reputation":1515,"user_id":4269054,"accept_rate":100,"display_name":"NikhilP"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1648143735,"creation_date":1648143441,"question_id":71607056,"body_markdown":"I am new to scala guys and  I have a scala code in my project, now I wish to add some java parser classes to this proejct and I am trying to keep the Java and scala code separate in my project repository.\r\nI have some parser java classes copied from another repository which I want to keep separate in /src/main/java and the code which is using these parser classes sits in /src/main/scala, so now when I try to import that package which is present under /src/main/java it is not able to locate that class and I am getting compilation error in import. is there a way to import a package present under different java directory into scala class present in scala directory?\r\n\r\nThanks in advance.","title":"Can we import a class present in /src/main/scala to /src/main/java","body":"<p>I am new to scala guys and  I have a scala code in my project, now I wish to add some java parser classes to this proejct and I am trying to keep the Java and scala code separate in my project repository.\nI have some parser java classes copied from another repository which I want to keep separate in /src/main/java and the code which is using these parser classes sits in /src/main/scala, so now when I try to import that package which is present under /src/main/java it is not able to locate that class and I am getting compilation error in import. is there a way to import a package present under different java directory into scala class present in scala directory?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring-boot","docker","containers","docker-api"],"comments":[{"owner":{"account_id":5955901,"reputation":10524,"user_id":4682610,"accept_rate":29,"display_name":"Florian Schaetz"},"score":1,"creation_date":1648143777,"post_id":71607103,"comment_id":126556163,"body_markdown":"Did you change the port? 9200 is not the default docker port, iirc.","body":"Did you change the port? 9200 is not the default docker port, iirc."},{"owner":{"account_id":22002419,"reputation":79,"user_id":16273950,"display_name":"Marouen Ghozzi"},"score":0,"creation_date":1648143834,"post_id":71607103,"comment_id":126556183,"body_markdown":"how can i know the default docker port ?","body":"how can i know the default docker port ?"}],"owner":{"account_id":22002419,"reputation":79,"user_id":16273950,"display_name":"Marouen Ghozzi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":439,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648143612,"creation_date":1648143612,"question_id":71607103,"body_markdown":"I need to list all my containers which are up with docker compose file in windows . \r\n\r\nthis is my code :\r\n\r\n    public void listContainer() {\r\n    \t\tDefaultDockerClientConfig config\r\n    \t\t  = DefaultDockerClientConfig.createDefaultConfigBuilder()\r\n    \t\t    .withDockerHost(&quot;tcp://192.168.65.2:9200&quot;).build();\r\n    \t\tDockerClient dockerClient = DockerClientBuilder\r\n    \t\t\t\t  .getInstance(config)\r\n    \t\t\t\t  .build();\r\n    \t\tList&lt;Container&gt; containers = dockerClient.listContainersCmd().exec() ;\t\t\r\n    \t\t\t\tfor(Container container : containers) {\r\n                System.out.println(container.getId()); \r\n    \r\n            }\r\n    \t}\r\n\r\n**java.net.ConnectException: Connection timed out: connect**\r\n\r\nthis is my log file : \r\n\r\n    java.net.ConnectException: Connection timed out: connect\r\n    \tat java.base/sun.nio.ch.Net.connect0(Native Method) ~[na:na]\r\n    \tat java.base/sun.nio.ch.Net.connect(Net.java:503) ~[na:na]\r\n    \tat java.base/sun.nio.ch.Net.connect(Net.java:492) ~[na:na]\r\n    \tat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588) ~[na:na]\r\n    \tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:333) ~[na:na]\r\n    \tat java.base/java.net.Socket.connect(Socket.java:648) ~[na:na]\r\n    \tat org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75) ~[httpclient-4.5.13.jar:4.5.13]\r\n    \tat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142) ~[httpclient-4.5.13.jar:4.5.13]\r\n    \tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar:4.5.13]\r\n    \tat org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar:4.5.13]\r\n    \tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar:4.5.13]\r\n    \tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]\r\n    \tat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]\r\n    \tat org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]\r\n    \tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]\r\n    \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:72) ~[httpclient-4.5.13.jar:4.5.13]\r\n    \tat org.glassfish.jersey.apache.connector.ApacheConnector.apply(ApacheConnector.java:483) ~[jersey-apache-connector-2.35.jar:na]\r\n    \tat org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:297) ~[jersey-client-2.35.jar:na]\r\n    \tat org.glassfish.jersey.client.JerseyInvocation.lambda$invoke$2(JerseyInvocation.java:687) ~[jersey-client-2.35.jar:na]\r\n    \tat org.glassfish.jersey.client.JerseyInvocation.call(JerseyInvocation.java:697) ~[jersey-client-2.35.jar:na]\r\n    \tat org.glassfish.jersey.client.JerseyInvocation.lambda$runInScope$3(JerseyInvocation.java:691) ~[jersey-client-2.35.jar:na]\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:292) ~[jersey-common-2.35.jar:na]\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:274) ~[jersey-common-2.35.jar:na]\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:205) ~[jersey-common-2.35.jar:na]\r\n\r\nthose are my containers : \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/J2pxp.png\r\n\r\n","title":"I can&#39;t reach my containers using docker java api client ( windows 10 ) timeout reached","body":"<p>I need to list all my containers which are up with docker compose file in windows .</p>\n<p>this is my code :</p>\n<pre><code>public void listContainer() {\n        DefaultDockerClientConfig config\n          = DefaultDockerClientConfig.createDefaultConfigBuilder()\n            .withDockerHost(&quot;tcp://192.168.65.2:9200&quot;).build();\n        DockerClient dockerClient = DockerClientBuilder\n                  .getInstance(config)\n                  .build();\n        List&lt;Container&gt; containers = dockerClient.listContainersCmd().exec() ;      \n                for(Container container : containers) {\n            System.out.println(container.getId()); \n\n        }\n    }\n</code></pre>\n<p><strong>java.net.ConnectException: Connection timed out: connect</strong></p>\n<p>this is my log file :</p>\n<pre><code>java.net.ConnectException: Connection timed out: connect\n    at java.base/sun.nio.ch.Net.connect0(Native Method) ~[na:na]\n    at java.base/sun.nio.ch.Net.connect(Net.java:503) ~[na:na]\n    at java.base/sun.nio.ch.Net.connect(Net.java:492) ~[na:na]\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588) ~[na:na]\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:333) ~[na:na]\n    at java.base/java.net.Socket.connect(Socket.java:648) ~[na:na]\n    at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75) ~[httpclient-4.5.13.jar:4.5.13]\n    at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142) ~[httpclient-4.5.13.jar:4.5.13]\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar:4.5.13]\n    at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar:4.5.13]\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar:4.5.13]\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]\n    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]\n    at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:72) ~[httpclient-4.5.13.jar:4.5.13]\n    at org.glassfish.jersey.apache.connector.ApacheConnector.apply(ApacheConnector.java:483) ~[jersey-apache-connector-2.35.jar:na]\n    at org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:297) ~[jersey-client-2.35.jar:na]\n    at org.glassfish.jersey.client.JerseyInvocation.lambda$invoke$2(JerseyInvocation.java:687) ~[jersey-client-2.35.jar:na]\n    at org.glassfish.jersey.client.JerseyInvocation.call(JerseyInvocation.java:697) ~[jersey-client-2.35.jar:na]\n    at org.glassfish.jersey.client.JerseyInvocation.lambda$runInScope$3(JerseyInvocation.java:691) ~[jersey-client-2.35.jar:na]\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:292) ~[jersey-common-2.35.jar:na]\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:274) ~[jersey-common-2.35.jar:na]\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:205) ~[jersey-common-2.35.jar:na]\n</code></pre>\n<p>those are my containers :</p>\n<p><a href=\"https://i.stack.imgur.com/J2pxp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J2pxp.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","loops","math","switch-statement","double"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1648078305,"post_id":71595194,"comment_id":126536433,"body_markdown":"Just go through your code and ask yourself what values each variable will have after each step. Or run it under a debugger. In particular, after &quot;2.8 + 2&quot; has been input, and added up, where does the total go, and where will the next number (9.5) go, and what will be the operands to the subtraction?","body":"Just go through your code and ask yourself what values each variable will have after each step. Or run it under a debugger. In particular, after &quot;2.8 + 2&quot; has been input, and added up, where does the total go, and where will the next number (9.5) go, and what will be the operands to the subtraction?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1648139141,"post_id":71595194,"comment_id":126554291,"body_markdown":"Also note: even for your reduced requirements, you aren&#39;t doing proper parsing. What if the user enters `0 + 1` ... then your code will fail, because num1 turns 0, and you use that as **marker** that tells you that you still waiting for the first operand. The real answer might be: accept that this is more complicated than you thought, and then decide whether you want to REALLY understand and solve this stuff. If so, turn to a good tutorial, like https://blog.mbedded.ninja/programming/algorithms-and-data-structures/how-to-parse-mathematical-expressions/","body":"Also note: even for your reduced requirements, you aren&#39;t doing proper parsing. What if the user enters <code>0 + 1</code> ... then your code will fail, because num1 turns 0, and you use that as <b>marker</b> that tells you that you still waiting for the first operand. The real answer might be: accept that this is more complicated than you thought, and then decide whether you want to REALLY understand and solve this stuff. If so, turn to a good tutorial, like <a href=\"https://blog.mbedded.ninja/programming/algorithms-and-data-structures/how-to-parse-mathematical-expressions/\" rel=\"nofollow noreferrer\">blog.mbedded.ninja/programming/algorithms-and-data-structure&zwnj;&#8203;s/&hellip;</a>"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1648139201,"post_id":71595194,"comment_id":126554320,"body_markdown":"That link lists the key terms that matter for you, and that you then can research one by one.","body":"That link lists the key terms that matter for you, and that you then can research one by one."}],"answers":[{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648078975,"creation_date":1648078975,"answer_id":71595397,"question_id":71595194,"body_markdown":"I switched up your order a little bit and reset the holding variable.\r\n\r\n    public static void main(String[] args) {\r\n\t\t // Declare the identifiers\r\n        final String END = &quot;=&quot;;\r\n        String input;\r\n        double num1 = 0;\r\n        double num2 = 0;\r\n        char operator = 0;\r\n        \r\n        Scanner scnr = new Scanner (System.in);\r\n        \r\n        System.out.println(&quot;Enter your numeric expression in the following form: &quot;);\r\n        System.out.println(&quot;number operator number operator number = &quot;);\r\n        System.out.println(&quot;Leave a blank space after each number or operator.&quot;);\r\n        System.out.println(&quot;Example: 3.5 * 3 - 5 / 2.5 =&quot;);\r\n\r\n        // Input the first item\r\n        System.out.print(&quot;&gt; &quot;);\r\n        input = scnr.next();\r\n        \r\n        // Process the first item and input and process the rest of the items \r\n        while (!input.equals(END)){\r\n            switch (input){\r\n                case &quot;+&quot;:               \r\n                    operator = &#39;+&#39;;\r\n                    System.out.println(&quot;&gt; Operator is: &quot; + operator);\r\n                    break;\r\n                case &quot;-&quot;:               \r\n                    operator = &#39;-&#39;;\r\n                    System.out.println(&quot;&gt; Operator is: &quot; + operator);\r\n                    break;\r\n                case &quot;*&quot;: \r\n                    operator = &#39;*&#39;;\r\n                    System.out.println(&quot;&gt; Operator is: &quot; + operator);\r\n                    break;\r\n                case &quot;/&quot;: \r\n                    operator = &#39;/&#39;;\r\n                    System.out.println(&quot;&gt; Operator is: &quot; + operator);\r\n                    break;                  \r\n                default: // a number was entered\r\n                    if (num1 == 0) {\r\n                        num1 = Double.parseDouble(input);\r\n                        System.out.println(&quot;&gt; Num1 is: &quot; + num1);\r\n                    } else {\r\n                        num2 = Double.parseDouble(input);\r\n                        System.out.println(&quot;&gt; Num2 is: &quot; + num2);\r\n                    }\r\n                    \r\n            } // end of switch\r\n            \r\n            if (num1 != 0 &amp;&amp; num2 != 0) {\r\n                \r\n                System.out.println(String.format(&quot;Num1 : %.3f, Num2: %.3f&quot;, num1, num2));\r\n                \r\n                switch (operator) {\r\n                    case &#39;+&#39;:               \r\n                        num1 = num1 + num2;\r\n                        num2 = 0;\r\n                        break;\r\n                    case &#39;-&#39;:               \r\n                        num1 = num1 - num2;\r\n                        num2 = 0;\r\n                        break;\r\n                    case &#39;*&#39;: \r\n                        num1 = num1 * num2;\r\n                        num2 = 0;\r\n                        break;\r\n                    case &#39;/&#39;: \r\n                        num1 = num1 / num2;\r\n                        num2 = 0;\r\n                        break;\r\n                    default:\r\n                }\r\n            }\r\n            input = scnr.next();\r\n            \r\n        } // end of while-loop\r\n        \r\n        // Display the answer\r\n        System.out.println(&quot;&gt; Answer is: &quot; + num1);\r\n    }","title":"Java Calculator program issue","body":"<p>I switched up your order a little bit and reset the holding variable.</p>\n<pre><code>public static void main(String[] args) {\n     // Declare the identifiers\n    final String END = &quot;=&quot;;\n    String input;\n    double num1 = 0;\n    double num2 = 0;\n    char operator = 0;\n    \n    Scanner scnr = new Scanner (System.in);\n    \n    System.out.println(&quot;Enter your numeric expression in the following form: &quot;);\n    System.out.println(&quot;number operator number operator number = &quot;);\n    System.out.println(&quot;Leave a blank space after each number or operator.&quot;);\n    System.out.println(&quot;Example: 3.5 * 3 - 5 / 2.5 =&quot;);\n\n    // Input the first item\n    System.out.print(&quot;&gt; &quot;);\n    input = scnr.next();\n    \n    // Process the first item and input and process the rest of the items \n    while (!input.equals(END)){\n        switch (input){\n            case &quot;+&quot;:               \n                operator = '+';\n                System.out.println(&quot;&gt; Operator is: &quot; + operator);\n                break;\n            case &quot;-&quot;:               \n                operator = '-';\n                System.out.println(&quot;&gt; Operator is: &quot; + operator);\n                break;\n            case &quot;*&quot;: \n                operator = '*';\n                System.out.println(&quot;&gt; Operator is: &quot; + operator);\n                break;\n            case &quot;/&quot;: \n                operator = '/';\n                System.out.println(&quot;&gt; Operator is: &quot; + operator);\n                break;                  \n            default: // a number was entered\n                if (num1 == 0) {\n                    num1 = Double.parseDouble(input);\n                    System.out.println(&quot;&gt; Num1 is: &quot; + num1);\n                } else {\n                    num2 = Double.parseDouble(input);\n                    System.out.println(&quot;&gt; Num2 is: &quot; + num2);\n                }\n                \n        } // end of switch\n        \n        if (num1 != 0 &amp;&amp; num2 != 0) {\n            \n            System.out.println(String.format(&quot;Num1 : %.3f, Num2: %.3f&quot;, num1, num2));\n            \n            switch (operator) {\n                case '+':               \n                    num1 = num1 + num2;\n                    num2 = 0;\n                    break;\n                case '-':               \n                    num1 = num1 - num2;\n                    num2 = 0;\n                    break;\n                case '*': \n                    num1 = num1 * num2;\n                    num2 = 0;\n                    break;\n                case '/': \n                    num1 = num1 / num2;\n                    num2 = 0;\n                    break;\n                default:\n            }\n        }\n        input = scnr.next();\n        \n    } // end of while-loop\n    \n    // Display the answer\n    System.out.println(&quot;&gt; Answer is: &quot; + num1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15650323,"reputation":835,"user_id":11291844,"display_name":"happy songs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648143537,"creation_date":1648079219,"answer_id":71595412,"question_id":71595194,"body_markdown":"In order to make it work, try to:\r\n* in your 2nd switch statement, change `num2 = num1 + num2;` into `num1 = num1 + num2;`. Do this for all cases;\r\n* I added an `isOperator` boolean to skip computing the operation if input is an operator.\r\n\r\nFull code below:\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Calculator {\r\n\r\n    // Compute an arithmetic expression \r\n    public static void main(String[] args) {\r\n        // Declare the identifiers\r\n        final String END = &quot;=&quot;;\r\n        String input;\r\n        double num1 = 0;\r\n        double num2 = 0;\r\n        char operator = 0;\r\n        boolean isOperator;\r\n        \r\n        Scanner scnr = new Scanner (System.in);\r\n        \r\n        System.out.println(&quot;Enter your numeric expression in the following form: &quot;);\r\n        System.out.println(&quot;number operator number operator number = &quot;);\r\n        System.out.println(&quot;Leave a blank space after each number or operator.&quot;);\r\n        System.out.println(&quot;Example: 3.5 * 3 - 5 / 2.5 =&quot;);\r\n\r\n        // Input the first item\r\n        System.out.print(&quot;&gt; &quot;);\r\n        input = scnr.next();\r\n        \r\n        // Process the first item and input and process the rest of the items \r\n        while (!input.equals(END)){\r\n            isOperator = true;\r\n            switch (input){\r\n                case &quot;+&quot;:               \r\n                    operator = &#39;+&#39;;\r\n                    System.out.println(&quot;&gt; Operator is: &quot; + operator);\r\n                    break;\r\n                case &quot;-&quot;:               \r\n                    operator = &#39;-&#39;;\r\n                    System.out.println(&quot;&gt; Operator is: &quot; + operator);\r\n                    break;\r\n                case &quot;*&quot;: \r\n                    operator = &#39;*&#39;;\r\n                    System.out.println(&quot;&gt; Operator is: &quot; + operator);\r\n                    break;\r\n                case &quot;/&quot;: \r\n                    operator = &#39;/&#39;;\r\n                    System.out.println(&quot;&gt; Operator is: &quot; + operator);\r\n                    break;                  \r\n                default: // a number was entered\r\n                    isOperator = false;\r\n                    if (num1 == 0) {\r\n                        num1 = Double.parseDouble(input);\r\n                        System.out.println(&quot;&gt; Num1 is: &quot; + num1);\r\n                    }\r\n                    else {\r\n                        num2 = Double.parseDouble(input);\r\n                        System.out.println(&quot;&gt; Num2 is: &quot; + num2);\r\n                    }\r\n                    \r\n            } // end of switch\r\n            \r\n            // do not compute the operation if the input is an operator and num1,num2 != 0\r\n            if (num1 != 0 &amp;&amp; num2 != 0 &amp;&amp; !isOperator) {\r\n                \r\n                System.out.println(&quot;Num2 before calc is &quot; + num2);\r\n                \r\n                switch (operator) {\r\n                    case &#39;+&#39;:               \r\n                        num1 = num1 + num2;\r\n                        break;\r\n                    case &#39;-&#39;:               \r\n                        num1 = num1 - num2;\r\n                        break;\r\n                    case &#39;*&#39;: \r\n                        num1 = num1 * num2;\r\n                        break;\r\n                    case &#39;/&#39;: \r\n                        num1 = num1 / num2;\r\n                        break;\r\n                    default:\r\n                }\r\n            }\r\n            input = scnr.next();\r\n            \r\n        } // end of while-loop\r\n        \r\n        // Display the answer\r\n        System.out.println(&quot;&gt; Answer is: &quot; + num1);\r\n        \r\n        \r\n        \r\n        System.out.println(&quot;Have a nice day!&quot;);\r\n        \r\n    }\r\n}\r\n```\r\n\r\n**Edit:** As mentioned in the comments, the code does not treat the cases when the user inputs `0`. Below, I removed the `if(num1 == 0)` and `if (num1 != 0 &amp;&amp; num2 != 0)` conditions:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Calculator {\r\n\r\n    // Compute an arithmetic expression \r\n    public static void main(String[] args) {\r\n        // Declare the identifiers\r\n        final String END = &quot;=&quot;;\r\n        String input;\r\n        double result = 0;\r\n        double num = 0;\r\n        char operator = 0;\r\n        boolean isOperator;\r\n        \r\n        Scanner scnr = new Scanner (System.in);\r\n        \r\n        System.out.println(&quot;Enter your numeric expression in the following form: &quot;);\r\n        System.out.println(&quot;number operator number operator number = &quot;);\r\n        System.out.println(&quot;Leave a blank space after each number or operator.&quot;);\r\n        System.out.println(&quot;Example: 3.5 * 3 - 5 / 2.5 =&quot;);\r\n\r\n        // Input the first item\r\n        System.out.print(&quot;&gt; &quot;);\r\n        input = scnr.next();\r\n        \r\n        // Process the first item and input and process the rest of the items \r\n        while (!input.equals(END)){\r\n            isOperator = true;\r\n            switch (input){\r\n                case &quot;+&quot;:               \r\n                    operator = &#39;+&#39;;\r\n                    System.out.println(&quot;&gt; Operator is: &quot; + operator);\r\n                    break;\r\n                case &quot;-&quot;:               \r\n                    operator = &#39;-&#39;;\r\n                    System.out.println(&quot;&gt; Operator is: &quot; + operator);\r\n                    break;\r\n                case &quot;*&quot;: \r\n                    operator = &#39;*&#39;;\r\n                    System.out.println(&quot;&gt; Operator is: &quot; + operator);\r\n                    break;\r\n                case &quot;/&quot;: \r\n                    operator = &#39;/&#39;;\r\n                    System.out.println(&quot;&gt; Operator is: &quot; + operator);\r\n                    break;                  \r\n                default: // a number was entered\r\n                    isOperator = false;\r\n                    num = Double.parseDouble(input);\r\n                    System.out.println(&quot;&gt; Num is: &quot; + num);\r\n            } // end of switch\r\n            \r\n            // do not compute the operation if the input is an operator\r\n            if (!isOperator) {\r\n                \r\n                System.out.println(&quot;Result before calc is &quot; + result);\r\n                \r\n                switch (operator) {\r\n                    case &#39;+&#39;:               \r\n                        result += num;\r\n                        break;\r\n                    case &#39;-&#39;:               \r\n                        result -= num;\r\n                        break;\r\n                    case &#39;*&#39;: \r\n                        result *= num;\r\n                        break;\r\n                    case &#39;/&#39;: \r\n                        result /= num;\r\n                        break;\r\n                    default:\r\n                        result += num;\r\n                }\r\n            }\r\n            input = scnr.next();\r\n            \r\n        } // end of while-loop\r\n        \r\n        // Display the answer\r\n        System.out.println(&quot;&gt; Answer is: &quot; + result);\r\n        \r\n        \r\n        \r\n        System.out.println(&quot;Have a nice day!&quot;);\r\n        \r\n    }\r\n}\r\n```","title":"Java Calculator program issue","body":"<p>In order to make it work, try to:</p>\n<ul>\n<li>in your 2nd switch statement, change <code>num2 = num1 + num2;</code> into <code>num1 = num1 + num2;</code>. Do this for all cases;</li>\n<li>I added an <code>isOperator</code> boolean to skip computing the operation if input is an operator.</li>\n</ul>\n<p>Full code below:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Calculator {\n\n    // Compute an arithmetic expression \n    public static void main(String[] args) {\n        // Declare the identifiers\n        final String END = &quot;=&quot;;\n        String input;\n        double num1 = 0;\n        double num2 = 0;\n        char operator = 0;\n        boolean isOperator;\n        \n        Scanner scnr = new Scanner (System.in);\n        \n        System.out.println(&quot;Enter your numeric expression in the following form: &quot;);\n        System.out.println(&quot;number operator number operator number = &quot;);\n        System.out.println(&quot;Leave a blank space after each number or operator.&quot;);\n        System.out.println(&quot;Example: 3.5 * 3 - 5 / 2.5 =&quot;);\n\n        // Input the first item\n        System.out.print(&quot;&gt; &quot;);\n        input = scnr.next();\n        \n        // Process the first item and input and process the rest of the items \n        while (!input.equals(END)){\n            isOperator = true;\n            switch (input){\n                case &quot;+&quot;:               \n                    operator = '+';\n                    System.out.println(&quot;&gt; Operator is: &quot; + operator);\n                    break;\n                case &quot;-&quot;:               \n                    operator = '-';\n                    System.out.println(&quot;&gt; Operator is: &quot; + operator);\n                    break;\n                case &quot;*&quot;: \n                    operator = '*';\n                    System.out.println(&quot;&gt; Operator is: &quot; + operator);\n                    break;\n                case &quot;/&quot;: \n                    operator = '/';\n                    System.out.println(&quot;&gt; Operator is: &quot; + operator);\n                    break;                  \n                default: // a number was entered\n                    isOperator = false;\n                    if (num1 == 0) {\n                        num1 = Double.parseDouble(input);\n                        System.out.println(&quot;&gt; Num1 is: &quot; + num1);\n                    }\n                    else {\n                        num2 = Double.parseDouble(input);\n                        System.out.println(&quot;&gt; Num2 is: &quot; + num2);\n                    }\n                    \n            } // end of switch\n            \n            // do not compute the operation if the input is an operator and num1,num2 != 0\n            if (num1 != 0 &amp;&amp; num2 != 0 &amp;&amp; !isOperator) {\n                \n                System.out.println(&quot;Num2 before calc is &quot; + num2);\n                \n                switch (operator) {\n                    case '+':               \n                        num1 = num1 + num2;\n                        break;\n                    case '-':               \n                        num1 = num1 - num2;\n                        break;\n                    case '*': \n                        num1 = num1 * num2;\n                        break;\n                    case '/': \n                        num1 = num1 / num2;\n                        break;\n                    default:\n                }\n            }\n            input = scnr.next();\n            \n        } // end of while-loop\n        \n        // Display the answer\n        System.out.println(&quot;&gt; Answer is: &quot; + num1);\n        \n        \n        \n        System.out.println(&quot;Have a nice day!&quot;);\n        \n    }\n}\n</code></pre>\n<p><strong>Edit:</strong> As mentioned in the comments, the code does not treat the cases when the user inputs <code>0</code>. Below, I removed the <code>if(num1 == 0)</code> and <code>if (num1 != 0 &amp;&amp; num2 != 0)</code> conditions:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Calculator {\n\n    // Compute an arithmetic expression \n    public static void main(String[] args) {\n        // Declare the identifiers\n        final String END = &quot;=&quot;;\n        String input;\n        double result = 0;\n        double num = 0;\n        char operator = 0;\n        boolean isOperator;\n        \n        Scanner scnr = new Scanner (System.in);\n        \n        System.out.println(&quot;Enter your numeric expression in the following form: &quot;);\n        System.out.println(&quot;number operator number operator number = &quot;);\n        System.out.println(&quot;Leave a blank space after each number or operator.&quot;);\n        System.out.println(&quot;Example: 3.5 * 3 - 5 / 2.5 =&quot;);\n\n        // Input the first item\n        System.out.print(&quot;&gt; &quot;);\n        input = scnr.next();\n        \n        // Process the first item and input and process the rest of the items \n        while (!input.equals(END)){\n            isOperator = true;\n            switch (input){\n                case &quot;+&quot;:               \n                    operator = '+';\n                    System.out.println(&quot;&gt; Operator is: &quot; + operator);\n                    break;\n                case &quot;-&quot;:               \n                    operator = '-';\n                    System.out.println(&quot;&gt; Operator is: &quot; + operator);\n                    break;\n                case &quot;*&quot;: \n                    operator = '*';\n                    System.out.println(&quot;&gt; Operator is: &quot; + operator);\n                    break;\n                case &quot;/&quot;: \n                    operator = '/';\n                    System.out.println(&quot;&gt; Operator is: &quot; + operator);\n                    break;                  \n                default: // a number was entered\n                    isOperator = false;\n                    num = Double.parseDouble(input);\n                    System.out.println(&quot;&gt; Num is: &quot; + num);\n            } // end of switch\n            \n            // do not compute the operation if the input is an operator\n            if (!isOperator) {\n                \n                System.out.println(&quot;Result before calc is &quot; + result);\n                \n                switch (operator) {\n                    case '+':               \n                        result += num;\n                        break;\n                    case '-':               \n                        result -= num;\n                        break;\n                    case '*': \n                        result *= num;\n                        break;\n                    case '/': \n                        result /= num;\n                        break;\n                    default:\n                        result += num;\n                }\n            }\n            input = scnr.next();\n            \n        } // end of while-loop\n        \n        // Display the answer\n        System.out.println(&quot;&gt; Answer is: &quot; + result);\n        \n        \n        \n        System.out.println(&quot;Have a nice day!&quot;);\n        \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24612389,"reputation":3,"user_id":18513772,"display_name":"Brendano_El_Taco"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":477,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71595412,"answer_count":2,"score":0,"last_activity_date":1648143537,"creation_date":1648077231,"question_id":71595194,"body_markdown":"I am trying to develop a calculator program that inputs an arithmetic expression of the form `number operator number =` and computes the result of the expression. The expression will be evaluated from left to right not considering regular operator precedence. For example, the expression `14 - 5 * 3 =` will produce `27.0`. The value `=` displays the final result and terminates the program.\r\n\r\nI&#39;ve been trying to fix this for a couple of days now, but it outputs the wrong answer whenever I enter an expression with more than two numbers. For instance, `2.8 + 2 - 9.5` should equal `-4.7` but the program outputs `-6.7`. Any idea why that is the case?\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Calculator {\r\n\r\n\t// Compute an arithmetic expression \r\n\tpublic static void main(String[] args) {\r\n\t\t// Declare the identifiers\r\n\t\tfinal String END = &quot;=&quot;;\r\n\t\tString input;\r\n\t\tdouble num1 = 0;\r\n\t\tdouble num2 = 0;\r\n\t\tchar operator = 0;\r\n\t\t\r\n\t\tScanner scnr = new Scanner (System.in);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Enter your numeric expression in the following form: &quot;);\r\n\t\tSystem.out.println(&quot;number operator number operator number = &quot;);\r\n\t\tSystem.out.println(&quot;Leave a blank space after each number or operator.&quot;);\r\n\t\tSystem.out.println(&quot;Example: 3.5 * 3 - 5 / 2.5 =&quot;);\r\n\r\n\t\t// Input the first item\r\n\t\tSystem.out.print(&quot;&gt; &quot;);\r\n\t\tinput = scnr.next();\r\n\t\t\r\n\t\t// Process the first item and input and process the rest of the items \r\n\t\twhile (!input.equals(END)){\r\n\t\t\tswitch (input){\r\n\t\t\t\tcase &quot;+&quot;: \t\t\t\t\r\n\t\t\t\t\toperator = &#39;+&#39;;\r\n\t\t\t\t\tSystem.out.println(&quot;&gt; Operator is: &quot; + operator);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &quot;-&quot;: \t\t\t\t\r\n\t\t\t\t\toperator = &#39;-&#39;;\r\n\t\t\t\t\tSystem.out.println(&quot;&gt; Operator is: &quot; + operator);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &quot;*&quot;: \r\n\t\t\t\t\toperator = &#39;*&#39;;\r\n\t\t\t\t\tSystem.out.println(&quot;&gt; Operator is: &quot; + operator);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &quot;/&quot;: \r\n\t\t\t\t\toperator = &#39;/&#39;;\r\n\t\t\t\t\tSystem.out.println(&quot;&gt; Operator is: &quot; + operator);\r\n\t\t\t\t\tbreak;\t\t\t\t\t\r\n\t\t\t\tdefault: // a number was entered\r\n\t\t\t\t\tif (num1 == 0) {\r\n\t\t\t\t\t\tnum1 = Double.parseDouble(input);\r\n\t\t\t\t\t\tSystem.out.println(&quot;&gt; Num1 is: &quot; + num1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tnum2 = Double.parseDouble(input);\r\n\t\t\t\t\t\tSystem.out.println(&quot;&gt; Num2 is: &quot; + num2);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t} // end of switch\r\n\t\t\t\r\n\t\t\tif (num1 != 0 &amp;&amp; num2 != 0) {\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;Num2 before calc is &quot; + num2);\r\n\t\t\t\t\r\n\t\t\t\tswitch (operator) {\r\n\t\t\t\t\tcase &#39;+&#39;: \t\t\t\t\r\n\t\t\t\t\t\tnum2 = num1 + num2;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase &#39;-&#39;: \t\t\t\t\r\n\t\t\t\t\t\tnum2 = num1 - num2;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase &#39;*&#39;: \r\n\t\t\t\t\t\tnum2 = num1 * num2;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase &#39;/&#39;: \r\n\t\t\t\t\t\tnum2 = num1 / num2;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tinput = scnr.next();\r\n\t\t\t\r\n\t\t} // end of while-loop\r\n\t\t\r\n\t\t// Display the answer\r\n\t\tSystem.out.println(&quot;&gt; Answer is: &quot; + num2);\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tSystem.out.println(&quot;Have a nice day!&quot;);\r\n\t\t\r\n\t}\r\n}\r\n\r\n```\r\n","title":"Java Calculator program issue","body":"<p>I am trying to develop a calculator program that inputs an arithmetic expression of the form <code>number operator number =</code> and computes the result of the expression. The expression will be evaluated from left to right not considering regular operator precedence. For example, the expression <code>14 - 5 * 3 =</code> will produce <code>27.0</code>. The value <code>=</code> displays the final result and terminates the program.</p>\n<p>I've been trying to fix this for a couple of days now, but it outputs the wrong answer whenever I enter an expression with more than two numbers. For instance, <code>2.8 + 2 - 9.5</code> should equal <code>-4.7</code> but the program outputs <code>-6.7</code>. Any idea why that is the case?</p>\n<pre><code>import java.util.Scanner;\n\npublic class Calculator {\n\n    // Compute an arithmetic expression \n    public static void main(String[] args) {\n        // Declare the identifiers\n        final String END = &quot;=&quot;;\n        String input;\n        double num1 = 0;\n        double num2 = 0;\n        char operator = 0;\n        \n        Scanner scnr = new Scanner (System.in);\n        \n        System.out.println(&quot;Enter your numeric expression in the following form: &quot;);\n        System.out.println(&quot;number operator number operator number = &quot;);\n        System.out.println(&quot;Leave a blank space after each number or operator.&quot;);\n        System.out.println(&quot;Example: 3.5 * 3 - 5 / 2.5 =&quot;);\n\n        // Input the first item\n        System.out.print(&quot;&gt; &quot;);\n        input = scnr.next();\n        \n        // Process the first item and input and process the rest of the items \n        while (!input.equals(END)){\n            switch (input){\n                case &quot;+&quot;:               \n                    operator = '+';\n                    System.out.println(&quot;&gt; Operator is: &quot; + operator);\n                    break;\n                case &quot;-&quot;:               \n                    operator = '-';\n                    System.out.println(&quot;&gt; Operator is: &quot; + operator);\n                    break;\n                case &quot;*&quot;: \n                    operator = '*';\n                    System.out.println(&quot;&gt; Operator is: &quot; + operator);\n                    break;\n                case &quot;/&quot;: \n                    operator = '/';\n                    System.out.println(&quot;&gt; Operator is: &quot; + operator);\n                    break;                  \n                default: // a number was entered\n                    if (num1 == 0) {\n                        num1 = Double.parseDouble(input);\n                        System.out.println(&quot;&gt; Num1 is: &quot; + num1);\n                    }\n                    else {\n                        num2 = Double.parseDouble(input);\n                        System.out.println(&quot;&gt; Num2 is: &quot; + num2);\n                    }\n                    \n            } // end of switch\n            \n            if (num1 != 0 &amp;&amp; num2 != 0) {\n                \n                System.out.println(&quot;Num2 before calc is &quot; + num2);\n                \n                switch (operator) {\n                    case '+':               \n                        num2 = num1 + num2;\n                        break;\n                    case '-':               \n                        num2 = num1 - num2;\n                        break;\n                    case '*': \n                        num2 = num1 * num2;\n                        break;\n                    case '/': \n                        num2 = num1 / num2;\n                        break;\n                    default:\n                }\n            }\n            input = scnr.next();\n            \n        } // end of while-loop\n        \n        // Display the answer\n        System.out.println(&quot;&gt; Answer is: &quot; + num2);\n        \n        \n        \n        System.out.println(&quot;Have a nice day!&quot;);\n        \n    }\n}\n\n</code></pre>\n"},{"tags":["java","eclipse","selenium","maven"],"comments":[{"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"score":0,"creation_date":1648143925,"post_id":71607079,"comment_id":126556210,"body_markdown":"Do a maven clean and build and then check if issue still persists.","body":"Do a maven clean and build and then check if issue still persists."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":1,"creation_date":1648159433,"post_id":71607079,"comment_id":126561127,"body_markdown":"What are the full error messages?","body":"What are the full error messages?"}],"owner":{"account_id":22173640,"reputation":3,"user_id":16418576,"display_name":"Vansh saxena"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648143530,"creation_date":1648143530,"question_id":71607079,"body_markdown":"I am facing an issue. Mine issue is that when i created a java project in Eclipse IDE its all good no errors but when i converted it to a maven project as i wanted to work with selenium, it shows me error i tried to troubleshoot but i didn&#39;t succeeded.\r\nI hope all will help me.\r\nA screen shot of the issue is provided.\r\n\r\nI converted a java project to maven and after converting it shows error.\r\nI expected that it will not show any error.\r\n\r\n[![](https://i.stack.imgur.com/Nxfz6.png)](https://i.stack.imgur.com/Nxfz6.png)","title":"An error occured when i converted a java project to maven project for selenium","body":"<p>I am facing an issue. Mine issue is that when i created a java project in Eclipse IDE its all good no errors but when i converted it to a maven project as i wanted to work with selenium, it shows me error i tried to troubleshoot but i didn't succeeded.\nI hope all will help me.\nA screen shot of the issue is provided.</p>\n<p>I converted a java project to maven and after converting it shows error.\nI expected that it will not show any error.</p>\n<p><a href=\"https://i.stack.imgur.com/Nxfz6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Nxfz6.png\" alt=\"\" /></a></p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":1217581,"reputation":219,"user_id":1184863,"display_name":"Ashish Das"},"score":2,"creation_date":1536759406,"post_id":52296395,"comment_id":91540911,"body_markdown":"Check this link :  \nhttps://firebase.google.com/docs/firestore/manage-data/add-data#update_elements_in_an_array\n\n[Update elements in an array]\n\nIf your document contains an array field, you can use arrayUnion() and arrayRemove() to add and remove elements. arrayUnion() adds elements to an array but only elements not already present. arrayRemove() removes all instances of each given element.","body":"Check this link :   <a href=\"https://firebase.google.com/docs/firestore/manage-data/add-data#update_elements_in_an_array\" rel=\"nofollow noreferrer\">firebase.google.com/docs/firestore/manage-data/&hellip;</a>  [Update elements in an array]  If your document contains an array field, you can use arrayUnion() and arrayRemove() to add and remove elements. arrayUnion() adds elements to an array but only elements not already present. arrayRemove() removes all instances of each given element."},{"owner":{"account_id":1347454,"reputation":2322,"user_id":1287916,"accept_rate":87,"display_name":"simone.tino"},"score":2,"creation_date":1536759407,"post_id":52296395,"comment_id":91540912,"body_markdown":"Welcome to StackOverflow, even thought providing links into questions is good to explain the issue you are facing, it is still recommended for you to give some more background and explanation about the issue you are trying to resolve.","body":"Welcome to StackOverflow, even thought providing links into questions is good to explain the issue you are facing, it is still recommended for you to give some more background and explanation about the issue you are trying to resolve."},{"owner":{"account_id":1217581,"reputation":219,"user_id":1184863,"display_name":"Ashish Das"},"score":0,"creation_date":1536760006,"post_id":52296395,"comment_id":91541303,"body_markdown":"Hmm, already having answer for your question in this link\nhttps://stackoverflow.com/questions/46757614/how-to-update-an-array-of-objects-with-firestore/","body":"Hmm, already having answer for your question in this link <a href=\"https://stackoverflow.com/questions/46757614/how-to-update-an-array-of-objects-with-firestore/\" title=\"how to update an array of objects with firestore\">stackoverflow.com/questions/46757614/&hellip;</a>"},{"owner":{"account_id":14333163,"reputation":89,"user_id":10353402,"display_name":"Alex _Favaro_"},"score":0,"creation_date":1536760303,"post_id":52296395,"comment_id":91541484,"body_markdown":"@AshishDas Thanks but I&#39;m looking for Android, that answer provides a solution in Javascript and do not understand.","body":"@AshishDas Thanks but I&#39;m looking for Android, that answer provides a solution in Javascript and do not understand."},{"owner":{"account_id":14333163,"reputation":89,"user_id":10353402,"display_name":"Alex _Favaro_"},"score":0,"creation_date":1536760363,"post_id":52296395,"comment_id":91541522,"body_markdown":"@smn.tino I need to know if this is possible, so I can use this feature in my project or not and I understand is possible. Thanks anyway.","body":"@smn.tino I need to know if this is possible, so I can use this feature in my project or not and I understand is possible. Thanks anyway."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1536914963,"creation_date":1536759644,"answer_id":52296626,"question_id":52296395,"body_markdown":"Actually, the &quot;guy&quot; who wrote those answers it&#39;s me :) At that time, there wasn&#39;t a way in which you could update array elements. It was possible only to store arrays but **not** to update array members.\r\n\r\nNow, when updating a document, you can pass as the second argument to the `update()` method:\r\n\r\n    FieldValue.arrayUnion(&quot;newArrayValue&quot;)\r\n\r\nYou can find more informations in the official documentation regarding [update elements in an array](https://firebase.google.com/docs/firestore/manage-data/add-data#update_elements_in_an_array).\r\n\r\n&gt; If your document contains an array field, you can use arrayUnion() and arrayRemove() to add and remove elements. arrayUnion() adds elements to an array but only elements not already present. arrayRemove() removes all instances of each given element.\r\n\r\nP.S. I will also update those answers.","title":"How to update array elements in Firestore with Android?","body":"<p>Actually, the \"guy\" who wrote those answers it's me :) At that time, there wasn't a way in which you could update array elements. It was possible only to store arrays but <strong>not</strong> to update array members.</p>\n\n<p>Now, when updating a document, you can pass as the second argument to the <code>update()</code> method:</p>\n\n<pre><code>FieldValue.arrayUnion(\"newArrayValue\")\n</code></pre>\n\n<p>You can find more informations in the official documentation regarding <a href=\"https://firebase.google.com/docs/firestore/manage-data/add-data#update_elements_in_an_array\" rel=\"noreferrer\">update elements in an array</a>.</p>\n\n<blockquote>\n  <p>If your document contains an array field, you can use arrayUnion() and arrayRemove() to add and remove elements. arrayUnion() adds elements to an array but only elements not already present. arrayRemove() removes all instances of each given element.</p>\n</blockquote>\n\n<p>P.S. I will also update those answers.</p>\n"},{"tags":[],"owner":{"account_id":24676817,"reputation":1,"user_id":18571100,"display_name":"Jane Prakeerth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648142857,"creation_date":1648142857,"answer_id":71606914,"question_id":52296395,"body_markdown":"Try using  FieldValue.arrayUnion(comment_full) instead of passing comment_full                 FirebaseFirestore.getInstance().collection(&quot;posts&quot;).document(&quot;$postid&quot;).update(&quot;comments&quot;,FieldValue.arrayUnion(comment_full))\r\n","title":"How to update array elements in Firestore with Android?","body":"<p>Try using  FieldValue.arrayUnion(comment_full) instead of passing comment_full                 FirebaseFirestore.getInstance().collection(&quot;posts&quot;).document(&quot;$postid&quot;).update(&quot;comments&quot;,FieldValue.arrayUnion(comment_full))</p>\n"}],"owner":{"account_id":14333163,"reputation":89,"user_id":10353402,"display_name":"Alex _Favaro_"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4182,"favorite_count":0,"down_vote_count":2,"up_vote_count":9,"accepted_answer_id":52296626,"answer_count":2,"score":7,"last_activity_date":1648142857,"creation_date":1536758924,"question_id":52296395,"body_markdown":"I read this [post](https://stackoverflow.com/questions/51605958/listen-to-updates-on-certain-query-with-array-fields-on-cloud-firestore-android) and this [post](https://stackoverflow.com/questions/51202300/how-to-add-update-remove-array-elements-in-firebase-firestore-android-using-hash) of the same guy saying that you cannot update array elements.\r\n\r\nI also read a recent [article](https://firebase.googleblog.com/2018/08/better-arrays-in-cloud-firestore.html), where is says that this can be done somehow with `arrayUnion` or something like that but I cannot get any informations on stackoverflow either in the docs.\r\n\r\nIs there any way I can solve this? Thanks!","title":"How to update array elements in Firestore with Android?","body":"<p>I read this <a href=\"https://stackoverflow.com/questions/51605958/listen-to-updates-on-certain-query-with-array-fields-on-cloud-firestore-android\">post</a> and this <a href=\"https://stackoverflow.com/questions/51202300/how-to-add-update-remove-array-elements-in-firebase-firestore-android-using-hash\">post</a> of the same guy saying that you cannot update array elements.</p>\n\n<p>I also read a recent <a href=\"https://firebase.googleblog.com/2018/08/better-arrays-in-cloud-firestore.html\" rel=\"noreferrer\">article</a>, where is says that this can be done somehow with <code>arrayUnion</code> or something like that but I cannot get any informations on stackoverflow either in the docs.</p>\n\n<p>Is there any way I can solve this? Thanks!</p>\n"},{"tags":["java","url"],"comments":[{"owner":{"display_name":"user166390"},"score":3,"creation_date":1321589480,"post_id":8177628,"comment_id":10044338,"body_markdown":"Well, &quot;the fastest&quot; in most meaningful measures would be &quot;which one can talk to the server without hacking together an HTTP request/parser by hand&quot;? This of course assumes that HTTP is the desired protocol to use -- if it wasn&#39;t then where does URLConnection even fit in the picture? (One doesn&#39;t use URLConnection, as it&#39;s abstract, rather a subclass such as HttpURLConnection is used.)","body":"Well, &quot;the fastest&quot; in most meaningful measures would be &quot;which one can talk to the server without hacking together an HTTP request/parser by hand&quot;? This of course assumes that HTTP is the desired protocol to use -- if it wasn&#39;t then where does URLConnection even fit in the picture? (One doesn&#39;t use URLConnection, as it&#39;s abstract, rather a subclass such as HttpURLConnection is used.)"}],"answers":[{"tags":[],"owner":{"account_id":120436,"reputation":2639,"user_id":312884,"display_name":"r0ast3d"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1648142663,"creation_date":1321589188,"answer_id":8177639,"question_id":8177628,"body_markdown":"Both have different purposes, depending upon your need \r\n\r\nA socket can implement *almost* a duplex kind of functionality, whereas a url connection can connect to a given URI and read its content. ","title":"Which is fast URLConnection or Socket","body":"<p>Both have different purposes, depending upon your need</p>\n<p>A socket can implement <em>almost</em> a duplex kind of functionality, whereas a url connection can connect to a given URI and read its content.</p>\n"},{"tags":[],"owner":{"account_id":236609,"reputation":4038,"user_id":504213,"accept_rate":89,"display_name":"Naved"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1321589379,"creation_date":1321589379,"answer_id":8177659,"question_id":8177628,"body_markdown":"Although it depends on the type of data, server etc.  \r\nI agree with r0ast3d.\r\n\r\nAccording to me if server allows both the things, then I would prefer to use URLConnection.  \r\nBoth sends data using streams, but wait mode in Socket is bit high than in URLConnection.\r\n\r\nPlease correct me If I am wrong.","title":"Which is fast URLConnection or Socket","body":"<p>Although it depends on the type of data, server etc.<br>\nI agree with r0ast3d.</p>\n\n<p>According to me if server allows both the things, then I would prefer to use URLConnection.<br>\nBoth sends data using streams, but wait mode in Socket is bit high than in URLConnection.</p>\n\n<p>Please correct me If I am wrong.</p>\n"},{"tags":[],"owner":{"account_id":17180,"reputation":27171,"user_id":38207,"accept_rate":83,"display_name":"James Anderson"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1321589499,"creation_date":1321589499,"answer_id":8177667,"question_id":8177628,"body_markdown":"Presumably you mean the java &quot;URLConnection&quot; library versus or raw Sockets.\r\n\r\nAs URL connection uses sockets internally then logically sockets should a little bit faster as http makes all the socket calls plus some overhead in handling the full protocol. \r\n\r\nIn practice I would expect very little difference. If you code up your own sockets interface  you will need to do most the extra processing carried out by the URL connection in order to make the sockets connection workable and reliable.\r\n\r\nAlso the java &quot;URLConnection&quot; library was probably written by programmers who are better than you or I. Certainly 10 years on most of the bugs have been found. So why not take advantage of that skill and experience and use the simpler URLConnection. ","title":"Which is fast URLConnection or Socket","body":"<p>Presumably you mean the java \"URLConnection\" library versus or raw Sockets.</p>\n\n<p>As URL connection uses sockets internally then logically sockets should a little bit faster as http makes all the socket calls plus some overhead in handling the full protocol. </p>\n\n<p>In practice I would expect very little difference. If you code up your own sockets interface  you will need to do most the extra processing carried out by the URL connection in order to make the sockets connection workable and reliable.</p>\n\n<p>Also the java \"URLConnection\" library was probably written by programmers who are better than you or I. Certainly 10 years on most of the bugs have been found. So why not take advantage of that skill and experience and use the simpler URLConnection. </p>\n"},{"tags":[],"owner":{"account_id":3033117,"reputation":111,"user_id":2571738,"display_name":"EarlB"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1402663511,"creation_date":1402663511,"answer_id":24205652,"question_id":8177628,"body_markdown":"From tutorial [http://docs.oracle.com/javase/tutorial/networking/urls/connecting.html][1]\r\nURLConnection IS NOT abstract and can be instanciated\r\n\r\nWould love to see some benchmarks on which one is faster though.\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/networking/urls/connecting.html","title":"Which is fast URLConnection or Socket","body":"<p>From tutorial <a href=\"http://docs.oracle.com/javase/tutorial/networking/urls/connecting.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/networking/urls/connecting.html</a>\nURLConnection IS NOT abstract and can be instanciated</p>\n\n<p>Would love to see some benchmarks on which one is faster though.</p>\n"},{"tags":[],"owner":{"account_id":2595484,"reputation":116,"user_id":2249288,"display_name":"Wahiduzzaman Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1448858104,"creation_date":1448858104,"answer_id":33991516,"question_id":8177628,"body_markdown":"It does not matter which one is faster both of these have different purposes. A socket is an endpoint for communication between two machines and need to access different protocol. Class URL represents a Uniform Resource Locator, a pointer to a &quot;resource&quot; on the World Wide Web. A resource can be something as simple as a file or a directory, or it can be a reference to a more complicated object, such as a query to a database or to a search engine. \r\n   In short if you need to communicate with the other machine or device implement socket and if you want to read data from server use URLconnection. \r\n\r\nHappy Coding :D  ","title":"Which is fast URLConnection or Socket","body":"<p>It does not matter which one is faster both of these have different purposes. A socket is an endpoint for communication between two machines and need to access different protocol. Class URL represents a Uniform Resource Locator, a pointer to a \"resource\" on the World Wide Web. A resource can be something as simple as a file or a directory, or it can be a reference to a more complicated object, such as a query to a database or to a search engine. \n   In short if you need to communicate with the other machine or device implement socket and if you want to read data from server use URLconnection. </p>\n\n<p>Happy Coding :D  </p>\n"}],"owner":{"account_id":179158,"reputation":471,"user_id":411626,"accept_rate":56,"display_name":"vinoth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6698,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":8177639,"answer_count":5,"score":3,"last_activity_date":1648142663,"creation_date":1321589006,"question_id":8177628,"body_markdown":"For getting data from remote url which connection type will work fast URLConnection or Socket. ","title":"Which is fast URLConnection or Socket","body":"<p>For getting data from remote url which connection type will work fast URLConnection or Socket. </p>\n"},{"tags":["java","android","sockets","networking","network-programming"],"comments":[{"owner":{"account_id":158544,"reputation":102715,"user_id":377270,"display_name":"sarnold"},"score":0,"creation_date":1336530509,"post_id":10509067,"comment_id":13587843,"body_markdown":"Are you asking for some Java code that sends the magic WOL packets?","body":"Are you asking for some Java code that sends the magic WOL packets?"},{"owner":{"account_id":1466216,"reputation":143,"user_id":1378952,"accept_rate":58,"display_name":"vij"},"score":0,"creation_date":1336530900,"post_id":10509067,"comment_id":13587912,"body_markdown":"hey, i need to know whether it works for laptops(i need to switch these laptops from my android phone). if possible please put some sample codes for this mechanism","body":"hey, i need to know whether it works for laptops(i need to switch these laptops from my android phone). if possible please put some sample codes for this mechanism"}],"answers":[{"tags":[],"owner":{"account_id":1405205,"reputation":7819,"user_id":1333114,"accept_rate":87,"display_name":"James Cross"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1336574416,"creation_date":1336574416,"answer_id":10518347,"question_id":10509067,"body_markdown":"WOL is a BIOS setting that you will need to turn on on the individual machines (I think it is turned off by default). I don&#39;t think there is any reason that laptops cannot accept WOL packets. \r\n\r\nHere is a simple implmentation of WOL for Java: http://www.jibble.org/wake-on-lan/\r\nIt should be easy to port it over to work on Android.\r\n\r\nHowever, you have to note that WOL will only work within a LAN and that the target machines have to be in a specific power setting in order to allow them to turn on.","title":"wake on lan to wake up laptop from android phones","body":"<p>WOL is a BIOS setting that you will need to turn on on the individual machines (I think it is turned off by default). I don't think there is any reason that laptops cannot accept WOL packets. </p>\n\n<p>Here is a simple implmentation of WOL for Java: <a href=\"http://www.jibble.org/wake-on-lan/\" rel=\"nofollow\">http://www.jibble.org/wake-on-lan/</a>\nIt should be easy to port it over to work on Android.</p>\n\n<p>However, you have to note that WOL will only work within a LAN and that the target machines have to be in a specific power setting in order to allow them to turn on.</p>\n"},{"tags":[],"owner":{"account_id":1082240,"reputation":69,"user_id":1078901,"display_name":"ssand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648142590,"creation_date":1648142590,"answer_id":71606851,"question_id":10509067,"body_markdown":"You have to be more specific. If your laptop is connected over WiFi then there are big chances that it won&#39;t work. If your laptop is connected over an Ethernet cable then most probably it will work. You just have to enable WOL from the BIOS, or on some devices it can be also done from the network interface properties.\r\nI&#39;m using [WolOn][1] Android app to wake a laptop connected over cable and it works flawlessly both on Windows and Ubuntu.\r\n\r\n\r\n  [1]: https://play.google.com/store/apps/details?id=com.bitklog.wolon&amp;utm_source=stackovf","title":"wake on lan to wake up laptop from android phones","body":"<p>You have to be more specific. If your laptop is connected over WiFi then there are big chances that it won't work. If your laptop is connected over an Ethernet cable then most probably it will work. You just have to enable WOL from the BIOS, or on some devices it can be also done from the network interface properties.\nI'm using <a href=\"https://play.google.com/store/apps/details?id=com.bitklog.wolon&amp;utm_source=stackovf\" rel=\"nofollow noreferrer\">WolOn</a> Android app to wake a laptop connected over cable and it works flawlessly both on Windows and Ubuntu.</p>\n"}],"owner":{"account_id":1466216,"reputation":143,"user_id":1378952,"accept_rate":58,"display_name":"vij"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1855,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1648142590,"creation_date":1336530216,"question_id":10509067,"body_markdown":"i heard that wol(wake on lan) will only work for desktop systems. is there any implementation in java for wol, so that it works for laptops?(wol is the mechanism of turning on the remote system by sending &#39;magic packet&#39; to the system).and is there any implementation in java for android phones? i found a simple wol apps in android market, i tried to extract the functionality of these apps, by practically testing them. but no app is working for both desktop and laptop systems.i configured my windows pc, so that it allows magic packet to wake on the pc.but i dont know where its going wrong.","title":"wake on lan to wake up laptop from android phones","body":"<p>i heard that wol(wake on lan) will only work for desktop systems. is there any implementation in java for wol, so that it works for laptops?(wol is the mechanism of turning on the remote system by sending 'magic packet' to the system).and is there any implementation in java for android phones? i found a simple wol apps in android market, i tried to extract the functionality of these apps, by practically testing them. but no app is working for both desktop and laptop systems.i configured my windows pc, so that it allows magic packet to wake on the pc.but i dont know where its going wrong.</p>\n"},{"tags":["java","docker","dockerfile"],"answers":[{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648142306,"creation_date":1648137666,"answer_id":71605663,"question_id":71605250,"body_markdown":"We can achieve this with the [`ARG` directive (`docs.docker.com`)](https://docs.docker.com/engine/reference/builder/#arg). Here is an example `Dockerfile`:\r\n\r\n    # syntax=docker/dockerfile:1\r\n    ARG TAG\r\n    \r\n    FROM ubuntu:$TAG\r\n    ARG FILE_TO_COPY\r\n    ARG EXPOSE_PORT\r\n    COPY $FILE_TO_COPY file.txt\r\n    CMD cat file.txt\r\n    \r\n    EXPOSE $PORT_TO_EXPOSE\r\nThere is a semantic difference between any `ARG` before the first `FROM` and any arg after the first `FROM`: the former can be used within the `FROM` directive, e.g. to define the tag or digest. Its value is not available in a build stage. The latter belongs to a build stage, and thus in only accessible within the build stage. This behaviour is specified [here (`docs.docker.com`)](https://docs.docker.com/engine/reference/builder/#understand-how-arg-and-from-interact).\r\n\r\nWe can build the image, specifying the build arguments:\r\n\r\n    $ docker build \\\r\n      --build-arg TAG=18.04 \\\r\n      --build-arg FILE_TO_COPY=foo.txt \\\r\n      --build-arg PORT_TO_EXPOSE=8080 \\\r\n      --tag test \\\r\n      .\r\n\r\nand then run it:\r\n\r\n    $ docker run -it --rm test\r\n    bar","title":"How to create a reusable dockerfile template?","body":"<p>We can achieve this with the <a href=\"https://docs.docker.com/engine/reference/builder/#arg\" rel=\"nofollow noreferrer\"><code>ARG</code> directive (<code>docs.docker.com</code>)</a>. Here is an example <code>Dockerfile</code>:</p>\n<pre><code># syntax=docker/dockerfile:1\nARG TAG\n\nFROM ubuntu:$TAG\nARG FILE_TO_COPY\nARG EXPOSE_PORT\nCOPY $FILE_TO_COPY file.txt\nCMD cat file.txt\n\nEXPOSE $PORT_TO_EXPOSE\n</code></pre>\n<p>There is a semantic difference between any <code>ARG</code> before the first <code>FROM</code> and any arg after the first <code>FROM</code>: the former can be used within the <code>FROM</code> directive, e.g. to define the tag or digest. Its value is not available in a build stage. The latter belongs to a build stage, and thus in only accessible within the build stage. This behaviour is specified <a href=\"https://docs.docker.com/engine/reference/builder/#understand-how-arg-and-from-interact\" rel=\"nofollow noreferrer\">here (<code>docs.docker.com</code>)</a>.</p>\n<p>We can build the image, specifying the build arguments:</p>\n<pre><code>$ docker build \\\n  --build-arg TAG=18.04 \\\n  --build-arg FILE_TO_COPY=foo.txt \\\n  --build-arg PORT_TO_EXPOSE=8080 \\\n  --tag test \\\n  .\n</code></pre>\n<p>and then run it:</p>\n<pre><code>$ docker run -it --rm test\nbar\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1811,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1648142306,"creation_date":1648135842,"question_id":71605250,"body_markdown":"I find myself often repeating `dockerfile` content. For example for a typical `spring-boot` application, this would be as follows:\r\n\r\n    FROM $BUILD_IMAGE as build\r\n    COPY pom.xml .\r\n    RUN mvn dependency:go-offline\r\n    \r\n    COPY src src\r\n    RUN mvn package\r\n    RUN java -Djarmode=layertools -jar target/application.jar extract\r\n    \r\n    FROM $RUNTIME_IMAGE\r\n    COPY --from=build /application/dependencies/ ./\r\n    COPY --from=build /application/spring-boot-loader/ ./\r\n    COPY --from=build /application/snapshot-dependencies/ ./\r\n    COPY --from=build /application/application/ ./\r\n    \r\n    EXPOSE 8081\r\n    ENTRYPOINT [&quot;java&quot;, &quot;org.springframework.boot.loader.JarLauncher&quot;]\r\n\r\nHere only 3 things are dynamic based on the project that executes the dockerfile: `pom.xml`, `src`, `EXPOSE &lt;port&gt;`. Everything else is always the same.\r\n\r\nQuestion: is it possible to create some kind of &quot;template&quot;, so that I can &quot;feed&quot; the template with those 3 dynamic files or folders?\r\n\r\nI would not want to copy the `dockerfile` into all of my projects 1:1. I would prefer if I could use the dockerfile as a base definition, and reference it from all of my spring-boot projects.","title":"How to create a reusable dockerfile template?","body":"<p>I find myself often repeating <code>dockerfile</code> content. For example for a typical <code>spring-boot</code> application, this would be as follows:</p>\n<pre><code>FROM $BUILD_IMAGE as build\nCOPY pom.xml .\nRUN mvn dependency:go-offline\n\nCOPY src src\nRUN mvn package\nRUN java -Djarmode=layertools -jar target/application.jar extract\n\nFROM $RUNTIME_IMAGE\nCOPY --from=build /application/dependencies/ ./\nCOPY --from=build /application/spring-boot-loader/ ./\nCOPY --from=build /application/snapshot-dependencies/ ./\nCOPY --from=build /application/application/ ./\n\nEXPOSE 8081\nENTRYPOINT [&quot;java&quot;, &quot;org.springframework.boot.loader.JarLauncher&quot;]\n</code></pre>\n<p>Here only 3 things are dynamic based on the project that executes the dockerfile: <code>pom.xml</code>, <code>src</code>, <code>EXPOSE &lt;port&gt;</code>. Everything else is always the same.</p>\n<p>Question: is it possible to create some kind of &quot;template&quot;, so that I can &quot;feed&quot; the template with those 3 dynamic files or folders?</p>\n<p>I would not want to copy the <code>dockerfile</code> into all of my projects 1:1. I would prefer if I could use the dockerfile as a base definition, and reference it from all of my spring-boot projects.</p>\n"},{"tags":["java","spring","properties-file","spring-el"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1423237764,"post_id":28369458,"comment_id":45079763,"body_markdown":"new and Spring bean factory are orthogonal.  new means &quot;no Spring&quot;","body":"new and Spring bean factory are orthogonal.  new means &quot;no Spring&quot;"},{"owner":{"account_id":1282249,"reputation":3856,"user_id":1236099,"accept_rate":51,"display_name":"madhairsilence"},"score":0,"creation_date":1482236180,"post_id":28369458,"comment_id":69683713,"body_markdown":"@duffymo cant be generalized like that. new Entity, new ValueObject does not come under this","body":"@duffymo cant be generalized like that. new Entity, new ValueObject does not come under this"}],"answers":[{"tags":[],"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"down_vote_count":2,"up_vote_count":24,"is_accepted":false,"score":22,"last_activity_date":1423242461,"creation_date":1423241991,"answer_id":28370899,"question_id":28369458,"body_markdown":"&gt; Is it possible to use Spring @Value, to map values from properties file to the HashMap?\r\n\r\nYes, it is. With a little help of code and [Spel][1].\r\n\r\nFirstly, consider this singleton Spring-bean (you should scan it):\r\n\r\n\t@Component(&quot;PropertySplitter&quot;)\r\n\tpublic class PropertySplitter {\r\n\r\n\t\t/**\r\n\t\t * Example: one.example.property = KEY1:VALUE1,KEY2:VALUE2\r\n\t\t */\r\n\t\tpublic Map&lt;String, String&gt; map(String property) {\r\n\t\t\treturn this.map(property, &quot;,&quot;);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Example: one.example.property = KEY1:VALUE1.1,VALUE1.2;KEY2:VALUE2.1,VALUE2.2\r\n\t\t */\r\n\t\tpublic Map&lt;String, List&lt;String&gt;&gt; mapOfList(String property) {\r\n\t\t\tMap&lt;String, String&gt; map = this.map(property, &quot;;&quot;);\r\n\r\n\t\t\tMap&lt;String, List&lt;String&gt;&gt; mapOfList = new HashMap&lt;&gt;();\r\n\t\t\tfor (Entry&lt;String, String&gt; entry : map.entrySet()) {\r\n\t\t\t\tmapOfList.put(entry.getKey(), this.list(entry.getValue()));\r\n\t\t\t}\r\n\r\n\t\t\treturn mapOfList;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Example: one.example.property = VALUE1,VALUE2,VALUE3,VALUE4\r\n\t\t */\r\n\t\tpublic List&lt;String&gt; list(String property) {\r\n\t\t\treturn this.list(property, &quot;,&quot;);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Example: one.example.property = VALUE1.1,VALUE1.2;VALUE2.1,VALUE2.2\r\n\t\t */\r\n\t\tpublic List&lt;List&lt;String&gt;&gt; groupedList(String property) {\r\n\t\t\tList&lt;String&gt; unGroupedList = this.list(property, &quot;;&quot;);\r\n\r\n\t\t\tList&lt;List&lt;String&gt;&gt; groupedList = new ArrayList&lt;&gt;();\r\n\t\t\tfor (String group : unGroupedList) {\r\n\t\t\t\tgroupedList.add(this.list(group));\r\n\t\t\t}\r\n\r\n\t\t\treturn groupedList;\r\n\r\n\t\t}\r\n\r\n\t\tprivate List&lt;String&gt; list(String property, String splitter) {\r\n\t\t\treturn Splitter.on(splitter).omitEmptyStrings().trimResults().splitToList(property);\r\n\t\t}\r\n\r\n\t\tprivate Map&lt;String, String&gt; map(String property, String splitter) {\r\n\t\t\treturn Splitter.on(splitter).omitEmptyStrings().trimResults().withKeyValueSeparator(&quot;:&quot;).split(property);\r\n\t\t}\r\n\r\n\t}\r\n\r\n**Note:** `PropertySplitter` class uses `Splitter` utility from Guava. Please refer to [its documentation][2] for further details.\r\n\r\nThen, in some bean of yours:\r\n\r\n    @Component\r\n    public class MyBean {\r\n\r\n        @Value(&quot;#{PropertySplitter.map(&#39;${service.expiration}&#39;)}&quot;)\r\n        Map&lt;String, String&gt; propertyAsMap;\r\n\r\n    }\r\n\r\nAnd finally, the property:\r\n\r\n    service.expiration = name1:100,name2:20\r\n\r\nIt&#39;s not exactly what you&#39;ve asked, because this `PropertySplitter` works with one single property that is *transformed* into a `Map`, but I think you could either switch to this way of specifying properties, or modify the `PropertySplitter` code so that it matches the more hierarchical way you desire.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/expressions.html\r\n  [2]: https://code.google.com/p/guava-libraries/wiki/StringsExplained\r\n","title":"How to fill HashMap from java property file with Spring @Value","body":"<blockquote>\n  <p>Is it possible to use Spring @Value, to map values from properties file to the HashMap?</p>\n</blockquote>\n\n<p>Yes, it is. With a little help of code and <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/expressions.html\">Spel</a>.</p>\n\n<p>Firstly, consider this singleton Spring-bean (you should scan it):</p>\n\n<pre><code>@Component(\"PropertySplitter\")\npublic class PropertySplitter {\n\n    /**\n     * Example: one.example.property = KEY1:VALUE1,KEY2:VALUE2\n     */\n    public Map&lt;String, String&gt; map(String property) {\n        return this.map(property, \",\");\n    }\n\n    /**\n     * Example: one.example.property = KEY1:VALUE1.1,VALUE1.2;KEY2:VALUE2.1,VALUE2.2\n     */\n    public Map&lt;String, List&lt;String&gt;&gt; mapOfList(String property) {\n        Map&lt;String, String&gt; map = this.map(property, \";\");\n\n        Map&lt;String, List&lt;String&gt;&gt; mapOfList = new HashMap&lt;&gt;();\n        for (Entry&lt;String, String&gt; entry : map.entrySet()) {\n            mapOfList.put(entry.getKey(), this.list(entry.getValue()));\n        }\n\n        return mapOfList;\n    }\n\n    /**\n     * Example: one.example.property = VALUE1,VALUE2,VALUE3,VALUE4\n     */\n    public List&lt;String&gt; list(String property) {\n        return this.list(property, \",\");\n    }\n\n    /**\n     * Example: one.example.property = VALUE1.1,VALUE1.2;VALUE2.1,VALUE2.2\n     */\n    public List&lt;List&lt;String&gt;&gt; groupedList(String property) {\n        List&lt;String&gt; unGroupedList = this.list(property, \";\");\n\n        List&lt;List&lt;String&gt;&gt; groupedList = new ArrayList&lt;&gt;();\n        for (String group : unGroupedList) {\n            groupedList.add(this.list(group));\n        }\n\n        return groupedList;\n\n    }\n\n    private List&lt;String&gt; list(String property, String splitter) {\n        return Splitter.on(splitter).omitEmptyStrings().trimResults().splitToList(property);\n    }\n\n    private Map&lt;String, String&gt; map(String property, String splitter) {\n        return Splitter.on(splitter).omitEmptyStrings().trimResults().withKeyValueSeparator(\":\").split(property);\n    }\n\n}\n</code></pre>\n\n<p><strong>Note:</strong> <code>PropertySplitter</code> class uses <code>Splitter</code> utility from Guava. Please refer to <a href=\"https://code.google.com/p/guava-libraries/wiki/StringsExplained\">its documentation</a> for further details.</p>\n\n<p>Then, in some bean of yours:</p>\n\n<pre><code>@Component\npublic class MyBean {\n\n    @Value(\"#{PropertySplitter.map('${service.expiration}')}\")\n    Map&lt;String, String&gt; propertyAsMap;\n\n}\n</code></pre>\n\n<p>And finally, the property:</p>\n\n<pre><code>service.expiration = name1:100,name2:20\n</code></pre>\n\n<p>It's not exactly what you've asked, because this <code>PropertySplitter</code> works with one single property that is <em>transformed</em> into a <code>Map</code>, but I think you could either switch to this way of specifying properties, or modify the <code>PropertySplitter</code> code so that it matches the more hierarchical way you desire.</p>\n"},{"tags":[],"owner":{"account_id":902059,"reputation":1485,"user_id":937933,"accept_rate":57,"display_name":"d-sauer"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1423496839,"creation_date":1423496839,"answer_id":28413642,"question_id":28369458,"body_markdown":"I make one solution inspired by the previous post.\r\n\r\nRegister property file in the Spring configuration:\r\n\r\n    &lt;util:properties id=&quot;myProp&quot; location=&quot;classpath:my.properties&quot;/&gt;\r\n\r\nAnd I create component:\r\n\r\n    @Component(&quot;PropertyMapper&quot;)\r\n    public class PropertyMapper {\r\n\r\n        @Autowired\r\n        ApplicationContext applicationContext;\r\n\r\n        public HashMap&lt;String, Object&gt; startWith(String qualifier, String startWith) {\r\n            return startWith(qualifier, startWith, false);\r\n        }\r\n    \r\n        public HashMap&lt;String, Object&gt; startWith(String qualifier, String startWith, boolean removeStartWith) {\r\n            HashMap&lt;String, Object&gt; result = new HashMap&lt;String, Object&gt;();\r\n\r\n            Object obj = applicationContext.getBean(qualifier);\r\n            if (obj instanceof Properties) {\r\n                Properties mobileProperties = (Properties)obj;\r\n            \r\n                if (mobileProperties != null) {\r\n                    for (Entry&lt;Object, Object&gt; e : mobileProperties.entrySet()) {\r\n                        Object oKey = e.getKey();\r\n                        if (oKey instanceof String) {\r\n                            String key = (String)oKey;\r\n                            if (((String) oKey).startsWith(startWith)) {\r\n                                if (removeStartWith) \r\n                                    key = key.substring(startWith.length());\r\n                                result.put(key, e.getValue());\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            return result;\r\n        }\r\n    }\r\n\r\n\r\nAnd when I want to map all properties that begin with specifix value to HashMap, with @Value annotation:\r\n\r\n    @Service\r\n    public class MyServiceImpl implements MyService {\r\n\r\n        @Value(&quot;#{PropertyMapper.startWith(&#39;myProp&#39;, &#39;service.expiration.&#39;, true)}&quot;)\r\n        private HashMap&lt;String, Object&gt; portalExpirations;\r\n","title":"How to fill HashMap from java property file with Spring @Value","body":"<p>I make one solution inspired by the previous post.</p>\n\n<p>Register property file in the Spring configuration:</p>\n\n<pre><code>&lt;util:properties id=\"myProp\" location=\"classpath:my.properties\"/&gt;\n</code></pre>\n\n<p>And I create component:</p>\n\n<pre><code>@Component(\"PropertyMapper\")\npublic class PropertyMapper {\n\n    @Autowired\n    ApplicationContext applicationContext;\n\n    public HashMap&lt;String, Object&gt; startWith(String qualifier, String startWith) {\n        return startWith(qualifier, startWith, false);\n    }\n\n    public HashMap&lt;String, Object&gt; startWith(String qualifier, String startWith, boolean removeStartWith) {\n        HashMap&lt;String, Object&gt; result = new HashMap&lt;String, Object&gt;();\n\n        Object obj = applicationContext.getBean(qualifier);\n        if (obj instanceof Properties) {\n            Properties mobileProperties = (Properties)obj;\n\n            if (mobileProperties != null) {\n                for (Entry&lt;Object, Object&gt; e : mobileProperties.entrySet()) {\n                    Object oKey = e.getKey();\n                    if (oKey instanceof String) {\n                        String key = (String)oKey;\n                        if (((String) oKey).startsWith(startWith)) {\n                            if (removeStartWith) \n                                key = key.substring(startWith.length());\n                            result.put(key, e.getValue());\n                        }\n                    }\n                }\n            }\n        }\n\n        return result;\n    }\n}\n</code></pre>\n\n<p>And when I want to map all properties that begin with specifix value to HashMap, with @Value annotation:</p>\n\n<pre><code>@Service\npublic class MyServiceImpl implements MyService {\n\n    @Value(\"#{PropertyMapper.startWith('myProp', 'service.expiration.', true)}\")\n    private HashMap&lt;String, Object&gt; portalExpirations;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4116935,"reputation":392,"user_id":3378272,"display_name":"Viktor Stoitschev"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1511030494,"creation_date":1504610273,"answer_id":46053665,"question_id":28369458,"body_markdown":"The quickest Spring **Boot** based solution I can think of follows. In my particular example I am migrating data from one system to another. That is why I need a mapping for a field called *priority*. \r\n\r\nFirst I&#39;ve created the properties file (priority-migration.properties) like such:\r\n\r\n    my.prefix.priority.0:0\r\n    my.prefix.priority.10:1\r\n    my.prefix.priority.15:2\r\n    my.prefix.priority.20:2\r\n    another.prefix.foo:bar\r\n\r\nand put it on the classpath.\r\n\r\nAssuming you want to use the map in a spring managed bean/component, annotate your class with: \r\n\r\n    @Component\r\n    @PropertySource(&quot;classpath:/priority-migration.properties&quot;)\r\n\r\nWhat you actually want in your map is of course only the key/value pairs which are prefixed with my.prefix, i.e. this part: \r\n\r\n  \r\n\r\n    {\r\n        0:0\r\n        10:1\r\n        15:2\r\n        20:2\r\n    }\r\n\r\nTo achieve that you need to annotate your component with \r\n\r\n    @ConfigurationProperties(&quot;my.prefix&quot;)\r\n\r\nand create a getter for the **priority** infix. The latter proved to be mandatory in my case (although the [Sring Doc][1] says it is enough to have a property **priority** and initialize it with a mutable value)\r\n\r\n    private final Map&lt;Integer, Integer&gt; priorityMap = new HashMap&lt;&gt;();\r\n    \r\n    public Map&lt;Integer, Integer&gt; getPriority() {\r\n        return priorityMap;\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\n**In the End**\r\n\r\nIt looks something like this:\r\n\r\n    @Component\r\n    @ConfigurationProperties(&quot;my.prefix&quot;)\r\n    @PropertySource(&quot;classpath:/priority-migration.properties&quot;)\r\n    class PriorityProcessor {\r\n    \r\n        private final Map&lt;Integer, Integer&gt; priorityMap = new HashMap&lt;&gt;();\r\n    \r\n        public Map&lt;Integer, Integer&gt; getPriority() {\r\n            return priorityMap;\r\n        }\r\n    \r\n        public void process() {\r\n    \r\n            Integer myPriority = priorityMap.get(10)\r\n            // use it here\r\n        }\r\n    }\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/1.2.3.RELEASE/reference/htmlsingle/#boot-features-external-config-loading-yaml\r\n","title":"How to fill HashMap from java property file with Spring @Value","body":"<p>The quickest Spring <strong>Boot</strong> based solution I can think of follows. In my particular example I am migrating data from one system to another. That is why I need a mapping for a field called <em>priority</em>. </p>\n\n<p>First I've created the properties file (priority-migration.properties) like such:</p>\n\n<pre><code>my.prefix.priority.0:0\nmy.prefix.priority.10:1\nmy.prefix.priority.15:2\nmy.prefix.priority.20:2\nanother.prefix.foo:bar\n</code></pre>\n\n<p>and put it on the classpath.</p>\n\n<p>Assuming you want to use the map in a spring managed bean/component, annotate your class with: </p>\n\n<pre><code>@Component\n@PropertySource(\"classpath:/priority-migration.properties\")\n</code></pre>\n\n<p>What you actually want in your map is of course only the key/value pairs which are prefixed with my.prefix, i.e. this part: </p>\n\n<pre><code>{\n    0:0\n    10:1\n    15:2\n    20:2\n}\n</code></pre>\n\n<p>To achieve that you need to annotate your component with </p>\n\n<pre><code>@ConfigurationProperties(\"my.prefix\")\n</code></pre>\n\n<p>and create a getter for the <strong>priority</strong> infix. The latter proved to be mandatory in my case (although the <a href=\"https://docs.spring.io/spring-boot/docs/1.2.3.RELEASE/reference/htmlsingle/#boot-features-external-config-loading-yaml\" rel=\"noreferrer\">Sring Doc</a> says it is enough to have a property <strong>priority</strong> and initialize it with a mutable value)</p>\n\n<pre><code>private final Map&lt;Integer, Integer&gt; priorityMap = new HashMap&lt;&gt;();\n\npublic Map&lt;Integer, Integer&gt; getPriority() {\n    return priorityMap;\n}\n</code></pre>\n\n<hr>\n\n<p><strong>In the End</strong></p>\n\n<p>It looks something like this:</p>\n\n<pre><code>@Component\n@ConfigurationProperties(\"my.prefix\")\n@PropertySource(\"classpath:/priority-migration.properties\")\nclass PriorityProcessor {\n\n    private final Map&lt;Integer, Integer&gt; priorityMap = new HashMap&lt;&gt;();\n\n    public Map&lt;Integer, Integer&gt; getPriority() {\n        return priorityMap;\n    }\n\n    public void process() {\n\n        Integer myPriority = priorityMap.get(10)\n        // use it here\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2368861,"reputation":1591,"user_id":2073963,"display_name":"wonhee"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1529627418,"creation_date":1529627418,"answer_id":50979119,"question_id":28369458,"body_markdown":"From Spring 4.1.x ( I can&#39;t remember specific version though ), you can do something like\r\n\r\n    @Value(&quot;#{${your.properties.key.name}}&quot;)\r\n    private Map&lt;String, String&gt; myMap;\r\n\r\nwhere your.properties.key.name in your properties file should be something like\r\n\r\n    your.properties.key.name={\\\r\n        name1 : 100, \\\r\n        name2 : 200 \\\r\n    }\r\n\r\nJust make sure that you should create PropertySourcesPlaceholderConfigurer bean to make it work both in your app and if you are writing any unit test code to test your code, otherwise ${...} placeholder for the property value won&#39;t work as expected and you&#39;ll see some weird SpringEL errors. ","title":"How to fill HashMap from java property file with Spring @Value","body":"<p>From Spring 4.1.x ( I can't remember specific version though ), you can do something like</p>\n\n<pre><code>@Value(\"#{${your.properties.key.name}}\")\nprivate Map&lt;String, String&gt; myMap;\n</code></pre>\n\n<p>where your.properties.key.name in your properties file should be something like</p>\n\n<pre><code>your.properties.key.name={\\\n    name1 : 100, \\\n    name2 : 200 \\\n}\n</code></pre>\n\n<p>Just make sure that you should create PropertySourcesPlaceholderConfigurer bean to make it work both in your app and if you are writing any unit test code to test your code, otherwise ${...} placeholder for the property value won't work as expected and you'll see some weird SpringEL errors. </p>\n"},{"tags":[],"owner":{"account_id":199441,"reputation":652,"user_id":444769,"accept_rate":67,"display_name":"Marc Bouvier"},"down_vote_count":0,"up_vote_count":68,"is_accepted":false,"score":68,"last_activity_date":1537518849,"creation_date":1537518849,"answer_id":52439745,"question_id":28369458,"body_markdown":"You can use the SPEL json-like syntax to write a simple map or a map of list in property file.\r\n\r\n    simple.map={&#39;KEY1&#39;: &#39;value1&#39;, &#39;KEY2&#39;: &#39;value3&#39;, &#39;KEY3&#39;: &#39;value5&#39;}\r\n    \r\n    map.of.list={\\\r\n      &#39;KEY1&#39;: {&#39;value1&#39;,&#39;value2&#39;}, \\\r\n      &#39;KEY2&#39;: {&#39;value3&#39;,&#39;value4&#39;}, \\\r\n      &#39;KEY3&#39;: {&#39;value5&#39;} \\\r\n     }\r\n\r\nI used `\\` for multiline property to enhance readability\r\n\r\n\r\nThen, in Java, you can access and parse it automatically with `@Value` like this.\r\n\r\n    @Value(&quot;#{${simple.map}}&quot;)\r\n    Map&lt;String, String&gt; simpleMap;\r\n    \r\n    @Value(&quot;#{${map.of.list}}&quot;)\r\n    Map&lt;String, List&lt;String&gt;&gt; mapOfList;\r\n\r\n\r\nHere with `${simple.map}`, `@Value` gets the following String from the property file:\r\n\r\n    &quot;{&#39;KEY1&#39;: &#39;value1&#39;, &#39;KEY2&#39;: &#39;value3&#39;, &#39;KEY3&#39;: &#39;value5&#39;}&quot;\r\n\r\n\r\nThen, it is evaluated as if it was inlined \r\n\r\n    @Value(&quot;#{{&#39;KEY1&#39;: &#39;value1&#39;, &#39;KEY2&#39;: &#39;value3&#39;, &#39;KEY3&#39;: &#39;value5&#39;}}&quot;)\r\n\r\n\r\nYou can learn more in [the official documentation](https://docs.spring.io/spring/docs/4.3.10.RELEASE/spring-framework-reference/html/expressions.html#expressions-inline-lists)","title":"How to fill HashMap from java property file with Spring @Value","body":"<p>You can use the SPEL json-like syntax to write a simple map or a map of list in property file.</p>\n\n<pre><code>simple.map={'KEY1': 'value1', 'KEY2': 'value3', 'KEY3': 'value5'}\n\nmap.of.list={\\\n  'KEY1': {'value1','value2'}, \\\n  'KEY2': {'value3','value4'}, \\\n  'KEY3': {'value5'} \\\n }\n</code></pre>\n\n<p>I used <code>\\</code> for multiline property to enhance readability</p>\n\n<p>Then, in Java, you can access and parse it automatically with <code>@Value</code> like this.</p>\n\n<pre><code>@Value(\"#{${simple.map}}\")\nMap&lt;String, String&gt; simpleMap;\n\n@Value(\"#{${map.of.list}}\")\nMap&lt;String, List&lt;String&gt;&gt; mapOfList;\n</code></pre>\n\n<p>Here with <code>${simple.map}</code>, <code>@Value</code> gets the following String from the property file:</p>\n\n<pre><code>\"{'KEY1': 'value1', 'KEY2': 'value3', 'KEY3': 'value5'}\"\n</code></pre>\n\n<p>Then, it is evaluated as if it was inlined </p>\n\n<pre><code>@Value(\"#{{'KEY1': 'value1', 'KEY2': 'value3', 'KEY3': 'value5'}}\")\n</code></pre>\n\n<p>You can learn more in <a href=\"https://docs.spring.io/spring/docs/4.3.10.RELEASE/spring-framework-reference/html/expressions.html#expressions-inline-lists\" rel=\"noreferrer\">the official documentation</a></p>\n"},{"tags":[],"owner":{"account_id":4725644,"reputation":839,"user_id":3822374,"display_name":"Milan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1588293616,"creation_date":1588292446,"answer_id":61534988,"question_id":28369458,"body_markdown":"Solution for pulling **Map** using **@Value**  from   **application.yml** property coded as **multiline**\r\n\r\n\r\n\r\n\r\n&gt; **application.yml**\r\n\r\n    other-prop: just for demo \r\n    \r\n    my-map-property-name: &quot;{\\\r\n             key1: \\&quot;ANY String Value here\\&quot;, \\  \r\n             key2: \\&quot;any number of items\\&quot; , \\ \r\n             key3: \\&quot;Note the Last item does not have comma\\&quot; \\\r\n             }&quot;\r\n    \r\n    other-prop2: just for demo 2 \r\n\r\nHere the value for our map property &quot;my-map-property-name&quot; is stored in **JSON** format inside a **string**  and we have achived multiline using **\\\\** at end of line \r\n\r\n\r\n&gt; **myJavaClass.java**\r\n\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    \r\n    public class myJavaClass {\r\n    \r\n    @Value(&quot;#{${my-map-property-name}}&quot;) \r\n    private Map&lt;String,String&gt; myMap;\r\n    \r\n \tpublic void someRandomMethod (){\r\n        if(myMap.containsKey(&quot;key1&quot;)) {\r\n                //todo...\r\n        } }\r\n    \r\n    }\r\n\r\n\r\n**More explanation**\r\n\r\n - **\\\\** in yaml it is Used to break string into multiline\r\n\r\n - **\\\\&quot;** is escape charater for &quot;(quote) in yaml string  \r\n\r\n - **{key:value}** JSON in yaml which will be converted to Map by @Value \r\n\r\n - **#{ }** it is SpEL expresion and can be used in @Value to convert json int Map or Array / list [Reference][1] \r\n     \r\nTested in a spring boot project\r\n\r\n  [1]: https://docs.spring.io/spring/docs/3.0.x/reference/expressions.html","title":"How to fill HashMap from java property file with Spring @Value","body":"<p>Solution for pulling <strong>Map</strong> using <strong>@Value</strong>  from   <strong>application.yml</strong> property coded as <strong>multiline</strong></p>\n\n<blockquote>\n  <p><strong>application.yml</strong></p>\n</blockquote>\n\n<pre><code>other-prop: just for demo \n\nmy-map-property-name: \"{\\\n         key1: \\\"ANY String Value here\\\", \\  \n         key2: \\\"any number of items\\\" , \\ \n         key3: \\\"Note the Last item does not have comma\\\" \\\n         }\"\n\nother-prop2: just for demo 2 \n</code></pre>\n\n<p>Here the value for our map property \"my-map-property-name\" is stored in <strong>JSON</strong> format inside a <strong>string</strong>  and we have achived multiline using <strong>\\</strong> at end of line </p>\n\n<blockquote>\n  <p><strong>myJavaClass.java</strong></p>\n</blockquote>\n\n<pre><code>import org.springframework.beans.factory.annotation.Value;\n\npublic class myJavaClass {\n\n@Value(\"#{${my-map-property-name}}\") \nprivate Map&lt;String,String&gt; myMap;\n\npublic void someRandomMethod (){\n    if(myMap.containsKey(\"key1\")) {\n            //todo...\n    } }\n\n}\n</code></pre>\n\n<p><strong>More explanation</strong></p>\n\n<ul>\n<li><p><strong>\\</strong> in yaml it is Used to break string into multiline</p></li>\n<li><p><strong>\\\"</strong> is escape charater for \"(quote) in yaml string  </p></li>\n<li><p><strong>{key:value}</strong> JSON in yaml which will be converted to Map by @Value </p></li>\n<li><p><strong>#{ }</strong> it is SpEL expresion and can be used in @Value to convert json int Map or Array / list <a href=\"https://docs.spring.io/spring/docs/3.0.x/reference/expressions.html\" rel=\"nofollow noreferrer\">Reference</a> </p></li>\n</ul>\n\n<p>Tested in a spring boot project</p>\n"},{"tags":[],"owner":{"account_id":19203710,"reputation":1,"user_id":14031089,"display_name":"Diana Gene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596255707,"creation_date":1596238956,"answer_id":63200355,"question_id":28369458,"body_markdown":"Use the same variable name as the Yaml name\r\n\r\nEg:  \r\n```\r\nprivate final HashMap&lt;String, String&gt; expiration \r\n```\r\ninstead of \r\n```\r\nprivate final HashMap&lt;String, String&gt; expirations \r\n```","title":"How to fill HashMap from java property file with Spring @Value","body":"<p>Use the same variable name as the Yaml name</p>\n<p>Eg:</p>\n<pre><code>private final HashMap&lt;String, String&gt; expiration \n</code></pre>\n<p>instead of</p>\n<pre><code>private final HashMap&lt;String, String&gt; expirations \n</code></pre>\n"},{"tags":[],"owner":{"account_id":5480789,"reputation":124,"user_id":4357340,"display_name":"Vijay Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648142232,"creation_date":1648142232,"answer_id":71606765,"question_id":28369458,"body_markdown":"Or something similar to this in properties file\r\n\r\n    org.code=0009,0008,0010\r\n    org.code.0009.channel=30,40\r\n    org.code.0008.channel=30,40\r\n    org.code.0010.channel=30,40\r\n\r\nin Java, read org.code and then loop thru each org.code and build org.code..channel and put it into a map....","title":"How to fill HashMap from java property file with Spring @Value","body":"<p>Or something similar to this in properties file</p>\n<pre><code>org.code=0009,0008,0010\norg.code.0009.channel=30,40\norg.code.0008.channel=30,40\norg.code.0010.channel=30,40\n</code></pre>\n<p>in Java, read org.code and then loop thru each org.code and build org.code..channel and put it into a map....</p>\n"}],"owner":{"account_id":902059,"reputation":1485,"user_id":937933,"accept_rate":57,"display_name":"d-sauer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144972,"favorite_count":0,"down_vote_count":0,"up_vote_count":70,"accepted_answer_id":28413642,"answer_count":8,"score":70,"last_activity_date":1648142232,"creation_date":1423237554,"question_id":28369458,"body_markdown":"Is it possible to use Spring @Value, to map values from properties file to the HashMap.\r\n\r\nCurrently I have something like this, and mapping one value is not a problem.\r\nBut I need to map custom values in HashMap expirations.\r\nIs something like this possible?\r\n\r\n    @Service\r\n    @PropertySource(value = &quot;classpath:my_service.properties&quot;)\r\n    public class SomeServiceImpl implements SomeService {\r\n\r\n\r\n        @Value(&quot;#{conf[&#39;service.cache&#39;]}&quot;)\r\n        private final boolean useCache = false;\r\n        \r\n        @Value(&quot;#{conf[&#39;service.expiration.[&lt;custom name&gt;]&#39;]}&quot;)\r\n        private final HashMap&lt;String, String&gt; expirations = new HashMap&lt;String, String&gt;();\r\n\r\n\r\n\r\nProperty file: &#39;my_service.properties&#39;\r\n\r\n    service.cache=true\r\n    service.expiration.name1=100\r\n    service.expiration.name2=20\r\n\r\nIs it posible to map like this key:value set\r\n\r\n - name1 = 100\r\n \r\n - name2 = 20\r\n","title":"How to fill HashMap from java property file with Spring @Value","body":"<p>Is it possible to use Spring @Value, to map values from properties file to the HashMap.</p>\n\n<p>Currently I have something like this, and mapping one value is not a problem.\nBut I need to map custom values in HashMap expirations.\nIs something like this possible?</p>\n\n<pre><code>@Service\n@PropertySource(value = \"classpath:my_service.properties\")\npublic class SomeServiceImpl implements SomeService {\n\n\n    @Value(\"#{conf['service.cache']}\")\n    private final boolean useCache = false;\n\n    @Value(\"#{conf['service.expiration.[&lt;custom name&gt;]']}\")\n    private final HashMap&lt;String, String&gt; expirations = new HashMap&lt;String, String&gt;();\n</code></pre>\n\n<p>Property file: 'my_service.properties'</p>\n\n<pre><code>service.cache=true\nservice.expiration.name1=100\nservice.expiration.name2=20\n</code></pre>\n\n<p>Is it posible to map like this key:value set</p>\n\n<ul>\n<li><p>name1 = 100</p></li>\n<li><p>name2 = 20</p></li>\n</ul>\n"},{"tags":["java","itext7"],"comments":[{"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"score":0,"creation_date":1598179502,"post_id":63448385,"comment_id":112367873,"body_markdown":"You need to return several `Text` elements, some of them would be colored with green background color and some will remain in their default mode. Right now it&#39;s not obvious how to reproduce your problem since you did not provide the input you feed into your code","body":"You need to return several <code>Text</code> elements, some of them would be colored with green background color and some will remain in their default mode. Right now it&#39;s not obvious how to reproduce your problem since you did not provide the input you feed into your code"},{"owner":{"account_id":10533051,"reputation":75,"user_id":7761811,"display_name":"jasvik"},"score":0,"creation_date":1598253244,"post_id":63448385,"comment_id":112386361,"body_markdown":"@AlexeySubach updatedmy post. Any help?","body":"@AlexeySubach updatedmy post. Any help?"}],"answers":[{"tags":[],"owner":{"account_id":11435856,"reputation":47,"user_id":8383272,"display_name":"Robert Sullivan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648142111,"creation_date":1648142111,"answer_id":71606740,"question_id":63448385,"body_markdown":"I&#39;m a little late to the party, but I had a similar issue,\r\n\r\nTo do this you have to find the locations of your words, then highlight those words.\r\n\r\n        public static List&lt;IPdfTextLocation&gt; PdfFindKeywordLocations(PdfDocument pdfDocument, Keyword keyword, int pageNumber)\r\n        {\r\n            string cleanKeyword = DataFormatHelper.ReplaceStringText(keyword.Name, new Dictionary&lt;string, string&gt;()\r\n            {\r\n                {&quot;[ ]&quot;, @&quot;\\W&quot;}\r\n            });\r\n\r\n            Regex regex = new Regex(cleanKeyword, RegexOptions.IgnoreCase);\r\n\r\n            RegexBasedLocationExtractionStrategy extractionStrategy = new RegexBasedLocationExtractionStrategy(regex);\r\n\r\n            PdfCanvasProcessor parser = new PdfCanvasProcessor(extractionStrategy);\r\n\r\n            parser.ProcessPageContent(pdfDocument.GetPage(pageNumber));\r\n\r\n            return extractionStrategy.GetResultantLocations().ToList();\r\n        }\r\n\r\n        private static void PdfHighlightLocations(PdfDocument pdfDocument, IEnumerable&lt;IPdfTextLocation&gt; locations, int pageNumber)\r\n        {\r\n            PdfCanvas pdfCanvas = new PdfCanvas(pdfDocument.GetPage(pageNumber).NewContentStreamBefore(), pdfDocument.GetPage(pageNumber).GetResources(), pdfDocument);\r\n\r\n            foreach (var l in locations)\r\n            {\r\n                pdfCanvas.SaveState().SetFillColor(ColorConstants.GREEN).Rectangle(l.GetRectangle().GetX(), l.GetRectangle().GetY(), l.GetRectangle().GetWidth(), l.GetRectangle().GetHeight()).Fill().RestoreState();\r\n            }\r\n        }\r\n","title":"Highlight specific word in a pdf document using itext7","body":"<p>I'm a little late to the party, but I had a similar issue,</p>\n<p>To do this you have to find the locations of your words, then highlight those words.</p>\n<pre><code>    public static List&lt;IPdfTextLocation&gt; PdfFindKeywordLocations(PdfDocument pdfDocument, Keyword keyword, int pageNumber)\n    {\n        string cleanKeyword = DataFormatHelper.ReplaceStringText(keyword.Name, new Dictionary&lt;string, string&gt;()\n        {\n            {&quot;[ ]&quot;, @&quot;\\W&quot;}\n        });\n\n        Regex regex = new Regex(cleanKeyword, RegexOptions.IgnoreCase);\n\n        RegexBasedLocationExtractionStrategy extractionStrategy = new RegexBasedLocationExtractionStrategy(regex);\n\n        PdfCanvasProcessor parser = new PdfCanvasProcessor(extractionStrategy);\n\n        parser.ProcessPageContent(pdfDocument.GetPage(pageNumber));\n\n        return extractionStrategy.GetResultantLocations().ToList();\n    }\n\n    private static void PdfHighlightLocations(PdfDocument pdfDocument, IEnumerable&lt;IPdfTextLocation&gt; locations, int pageNumber)\n    {\n        PdfCanvas pdfCanvas = new PdfCanvas(pdfDocument.GetPage(pageNumber).NewContentStreamBefore(), pdfDocument.GetPage(pageNumber).GetResources(), pdfDocument);\n\n        foreach (var l in locations)\n        {\n            pdfCanvas.SaveState().SetFillColor(ColorConstants.GREEN).Rectangle(l.GetRectangle().GetX(), l.GetRectangle().GetY(), l.GetRectangle().GetWidth(), l.GetRectangle().GetHeight()).Fill().RestoreState();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":10533051,"reputation":75,"user_id":7761811,"display_name":"jasvik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":491,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648142111,"creation_date":1597657631,"question_id":63448385,"body_markdown":"I want to create a pdf report in which some of the text alone is need to be highlighted while generating report.\r\n\r\nmy current code\r\n\r\n    private static Text returnCorrectColor(String letter,String htext, PdfFont helveticaFont, PdfFont helveticaBoldFont) {\r\n        ArrayList&lt;String&gt;htextaslist = new ArrayList&lt;&gt;(Arrays.asList(htext.trim().split(&quot;\\\\r?\\\\n&quot;)));\r\n        String v=StringUtils.normalizeSpace( htext.trim());\r\n\r\n        Boolean flag=false;\r\n        try {\r\n            for (int i=0;i&lt;htextaslist.size();i++) {\r\n                System.out.println(&quot;entire linr&quot;+letter);\r\n                System.out.println(&quot;htext&quot;+htextaslist.get(i));\r\n                if (letter.trim().contains(htextaslist.get(i).trim())) {\r\n                    System.out.println(&quot;boolran&quot;+&quot;0inside&quot;);\r\n                    flag=true;\r\n                    if(flag)\r\n                    {\r\n                        break;\r\n                    }\r\n                } \r\n                else {\r\n                    flag=false;\r\n                }\r\n\r\n            }\r\n        } catch (PatternSyntaxException e) {\r\n\t\t\t// TODO: handle exception\r\n            flag=true;\r\n        }\r\n        if(flag) {\r\n            return new Text(letter)\r\n                     .setBackgroundColor(Color.GREEN)\r\n                     .setFontColor(Color.BLACK)\r\n                     .setFont(helveticaBoldFont);\r\n        } else {\r\n            return new Text(String.valueOf(letter))\r\n                  .setFontColor(Color.BLACK)\r\n                  .setFont(helveticaFont);\r\n        \r\n        }         \t\r\n    }\r\n\r\nwith this i&#39;m able to highlight the entire line but what i need is to highlight a specific text that is &quot;htext&quot; only to be highlighted in a line.\r\n\r\n\r\nAnd i don&#39;t hardcode the data in paragraph\r\n i call this method inside a for loop like\r\n\r\n    outputaslist = new ArrayList&lt;&gt;(Arrays.asList(output.split(&quot;\\\\r?\\\\n&quot;)));\r\n    for (int s = 0; s &lt; outputaslist.size(); s++) {     \r\n        paragraph.add(returnCorrectColor(outputaslist.get(s),testcaselist.get(i).getHtext(), helveticaFont, helveticaBoldFont));\r\n        paragraph.add(&quot;\\n&quot;);\r\n    }\r\n\r\nmy current ouput is like the above one but i expect the one below\r\n  [![current output][1]][1]\r\n\r\n\r\n[![Expected output][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2av5H.png\r\n  [2]: https://i.stack.imgur.com/694YV.png\r\n\r\n\r\nIs there any way to do this?\r\n\r\none of my sample input\r\n\r\n    outputActive Internet connections (servers and established)\r\n    Proto Recv-Q Send-Q Local Address           Foreign Address         State       \r\n     PID/Program name    \r\n     tcp        0      0 127.0.0.53:53           0.0.0.0:*               LISTEN      \r\n    1185/systemd-resolv \r\n    tcp        0      0 127.0.0.1:631           0.0.0.0:*               LISTEN      1441/cupsd          \r\n    tcp        0      0 0.0.0.0:443             0.0.0.0:*               LISTEN      1780/nginx: master  \r\n    tcp        0      0 127.0.0.1:35373         0.0.0.0:*               LISTEN      1616/containerd     \r\n    tcp        0      0 10.10.100.242:51938     13.33.60.102:443        TIME_WAIT   -                   \r\n     tcp        0      0 10.10.100.242:52762     34.210.242.116:443      ESTABLISHED 6994/firefox        \r\n\r\nI would like to highlight only listen in the output\r\n\r\n","title":"Highlight specific word in a pdf document using itext7","body":"<p>I want to create a pdf report in which some of the text alone is need to be highlighted while generating report.</p>\n<p>my current code</p>\n<pre><code>private static Text returnCorrectColor(String letter,String htext, PdfFont helveticaFont, PdfFont helveticaBoldFont) {\n    ArrayList&lt;String&gt;htextaslist = new ArrayList&lt;&gt;(Arrays.asList(htext.trim().split(&quot;\\\\r?\\\\n&quot;)));\n    String v=StringUtils.normalizeSpace( htext.trim());\n\n    Boolean flag=false;\n    try {\n        for (int i=0;i&lt;htextaslist.size();i++) {\n            System.out.println(&quot;entire linr&quot;+letter);\n            System.out.println(&quot;htext&quot;+htextaslist.get(i));\n            if (letter.trim().contains(htextaslist.get(i).trim())) {\n                System.out.println(&quot;boolran&quot;+&quot;0inside&quot;);\n                flag=true;\n                if(flag)\n                {\n                    break;\n                }\n            } \n            else {\n                flag=false;\n            }\n\n        }\n    } catch (PatternSyntaxException e) {\n        // TODO: handle exception\n        flag=true;\n    }\n    if(flag) {\n        return new Text(letter)\n                 .setBackgroundColor(Color.GREEN)\n                 .setFontColor(Color.BLACK)\n                 .setFont(helveticaBoldFont);\n    } else {\n        return new Text(String.valueOf(letter))\n              .setFontColor(Color.BLACK)\n              .setFont(helveticaFont);\n    \n    }           \n}\n</code></pre>\n<p>with this i'm able to highlight the entire line but what i need is to highlight a specific text that is &quot;htext&quot; only to be highlighted in a line.</p>\n<p>And i don't hardcode the data in paragraph\ni call this method inside a for loop like</p>\n<pre><code>outputaslist = new ArrayList&lt;&gt;(Arrays.asList(output.split(&quot;\\\\r?\\\\n&quot;)));\nfor (int s = 0; s &lt; outputaslist.size(); s++) {     \n    paragraph.add(returnCorrectColor(outputaslist.get(s),testcaselist.get(i).getHtext(), helveticaFont, helveticaBoldFont));\n    paragraph.add(&quot;\\n&quot;);\n}\n</code></pre>\n<p>my current ouput is like the above one but i expect the one below\n<a href=\"https://i.stack.imgur.com/2av5H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2av5H.png\" alt=\"current output\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/694YV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/694YV.png\" alt=\"Expected output\" /></a></p>\n<p>Is there any way to do this?</p>\n<p>one of my sample input</p>\n<pre><code>outputActive Internet connections (servers and established)\nProto Recv-Q Send-Q Local Address           Foreign Address         State       \n PID/Program name    \n tcp        0      0 127.0.0.53:53           0.0.0.0:*               LISTEN      \n1185/systemd-resolv \ntcp        0      0 127.0.0.1:631           0.0.0.0:*               LISTEN      1441/cupsd          \ntcp        0      0 0.0.0.0:443             0.0.0.0:*               LISTEN      1780/nginx: master  \ntcp        0      0 127.0.0.1:35373         0.0.0.0:*               LISTEN      1616/containerd     \ntcp        0      0 10.10.100.242:51938     13.33.60.102:443        TIME_WAIT   -                   \n tcp        0      0 10.10.100.242:52762     34.210.242.116:443      ESTABLISHED 6994/firefox        \n</code></pre>\n<p>I would like to highlight only listen in the output</p>\n"},{"tags":["java","unit-testing","mockito","void","stubbing"],"answers":[{"tags":[],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1517819860,"creation_date":1440157118,"answer_id":32139363,"question_id":32139252,"body_markdown":"Suppose you have\r\n\r\n    public class IFace {\r\n        public void yourMethod() {            \r\n        }\r\n    }\r\n\r\nThen to mock it you need \r\n\r\n        IFace mock = Mockito.mock(IFace.class);\r\n        Mockito.doAnswer(new Answer() {\r\n            @Override\r\n            public Object answer(InvocationOnMock invocationOnMock) throws Throwable {\r\n                //PUT YOUR CODE HERE\r\n                return null;\r\n            }\r\n        }).when(mock).yourMethod();\r\n","title":"Mockito: how to stub void methods to run some code when called","body":"<p>Suppose you have</p>\n\n<pre><code>public class IFace {\n    public void yourMethod() {            \n    }\n}\n</code></pre>\n\n<p>Then to mock it you need </p>\n\n<pre><code>    IFace mock = Mockito.mock(IFace.class);\n    Mockito.doAnswer(new Answer() {\n        @Override\n        public Object answer(InvocationOnMock invocationOnMock) throws Throwable {\n            //PUT YOUR CODE HERE\n            return null;\n        }\n    }).when(mock).yourMethod();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1511970338,"creation_date":1440157210,"answer_id":32139397,"question_id":32139252,"body_markdown":"You can use \t\t\r\n\r\n      Mockito.doAnswer(new Answer&lt;Void&gt;() {\r\n            @Override\r\n\t\t\tpublic Void answer(InvocationOnMock invocation) throws Throwable {\r\n\t\t\t\t//DO SOMETHING\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}).when(...).remove(Matchers.&lt;String&gt;anyVararg());\r\n\r\n\r\nFrom the Javadoc:\r\n\r\n&gt; Use doAnswer() when you want to stub a void method with generic\r\n&gt; Answer. \r\n&gt; \r\n&gt; Stubbing voids requires different approach from Mockito.when(Object)\r\n&gt; because the compiler does not like void methods inside brackets... \r\n&gt; \r\n&gt; Example: \r\n\r\n        doAnswer(new Answer() {\r\n        public Object answer(InvocationOnMock invocation) {\r\n            Object[] args = invocation.getArguments();\r\n            Mock mock = invocation.getMock();\r\n            return null;\r\n        }}).when(mock).someMethod();\r\n\r\nSee examples in javadoc for Mockito","title":"Mockito: how to stub void methods to run some code when called","body":"<p>You can use         </p>\n\n<pre><code>  Mockito.doAnswer(new Answer&lt;Void&gt;() {\n        @Override\n        public Void answer(InvocationOnMock invocation) throws Throwable {\n            //DO SOMETHING\n            return null;\n        }\n    }).when(...).remove(Matchers.&lt;String&gt;anyVararg());\n</code></pre>\n\n<p>From the Javadoc:</p>\n\n<blockquote>\n  <p>Use doAnswer() when you want to stub a void method with generic\n  Answer. </p>\n  \n  <p>Stubbing voids requires different approach from Mockito.when(Object)\n  because the compiler does not like void methods inside brackets... </p>\n  \n  <p>Example: </p>\n</blockquote>\n\n<pre><code>    doAnswer(new Answer() {\n    public Object answer(InvocationOnMock invocation) {\n        Object[] args = invocation.getArguments();\n        Mock mock = invocation.getMock();\n        return null;\n    }}).when(mock).someMethod();\n</code></pre>\n\n<p>See examples in javadoc for Mockito</p>\n"},{"tags":[],"owner":{"account_id":2232407,"reputation":4006,"user_id":1969663,"display_name":"Ruben"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1440273817,"creation_date":1440273817,"answer_id":32160253,"question_id":32139252,"body_markdown":"If you really don&#39;t like to `return null` in your implementation of `Answer`, you can create your own Answer implementation that delegates to a void method:\r\n\r\n    public abstract class DoesSomethingAnswer implements Answer&lt;Void&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic Void answer(InvocationOnMock invocation) throws Throwable {\r\n    \t\tdoSomething(invocation);\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \tprotected abstract void doSomething(InvocationOnMock invocation);    \r\n    }\r\n\r\nThen your test has one line less:\r\n\r\n\t\tSet&lt;String&gt; mySet = new HashSet&lt;&gt;();\r\n\t\tMockito.doAnswer(new DoesSomethingAnswer() {\r\n\t\t\t@Override\r\n\t\t\tprotected void doSomething(InvocationOnMock invocation) {\r\n\t\t\t\tObject[] args = invocation.getArguments();\r\n\t\t\t\tString[] stringsToDelete = (String[]) args[0];\r\n\t\t\t\tmySet.removeAll(Arrays.asList(stringsToDelete));\r\n\t\t\t}\r\n\t\t}).when(repoMock).remove(Matchers.&lt;String&gt; anyVararg());\r\n\r\nOr, if you just need the arguments from the invocation:\r\n\r\n    public abstract class DoesSomethingAnswer implements Answer&lt;Void&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic Void answer(InvocationOnMock invocation) throws Throwable {\r\n    \t\tdoSomething(invocation.getArguments());\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \tprotected abstract void doSomething(Object[] args);\r\n    }\r\n\r\n","title":"Mockito: how to stub void methods to run some code when called","body":"<p>If you really don't like to <code>return null</code> in your implementation of <code>Answer</code>, you can create your own Answer implementation that delegates to a void method:</p>\n\n<pre><code>public abstract class DoesSomethingAnswer implements Answer&lt;Void&gt; {\n\n    @Override\n    public Void answer(InvocationOnMock invocation) throws Throwable {\n        doSomething(invocation);\n        return null;\n    }\n\n    protected abstract void doSomething(InvocationOnMock invocation);    \n}\n</code></pre>\n\n<p>Then your test has one line less:</p>\n\n<pre><code>    Set&lt;String&gt; mySet = new HashSet&lt;&gt;();\n    Mockito.doAnswer(new DoesSomethingAnswer() {\n        @Override\n        protected void doSomething(InvocationOnMock invocation) {\n            Object[] args = invocation.getArguments();\n            String[] stringsToDelete = (String[]) args[0];\n            mySet.removeAll(Arrays.asList(stringsToDelete));\n        }\n    }).when(repoMock).remove(Matchers.&lt;String&gt; anyVararg());\n</code></pre>\n\n<p>Or, if you just need the arguments from the invocation:</p>\n\n<pre><code>public abstract class DoesSomethingAnswer implements Answer&lt;Void&gt; {\n\n    @Override\n    public Void answer(InvocationOnMock invocation) throws Throwable {\n        doSomething(invocation.getArguments());\n        return null;\n    }\n\n    protected abstract void doSomething(Object[] args);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5650328,"reputation":1113,"user_id":4471199,"display_name":"RoBeaToZ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648141898,"creation_date":1641300145,"answer_id":70578992,"question_id":32139252,"body_markdown":"In addition to https://stackoverflow.com/a/32139397/4471199 you can use lambda:\r\n\r\n```java\r\nMockito.doAnswer(\r\n        invocation -&gt; {\r\n            // DO SOMETHING\r\n            return null;\r\n        }\r\n).when(repoMock).remove(Matchers.&lt;String&gt;anyVararg());\r\n```","title":"Mockito: how to stub void methods to run some code when called","body":"<p>In addition to <a href=\"https://stackoverflow.com/a/32139397/4471199\">https://stackoverflow.com/a/32139397/4471199</a> you can use lambda:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mockito.doAnswer(\n        invocation -&gt; {\n            // DO SOMETHING\n            return null;\n        }\n).when(repoMock).remove(Matchers.&lt;String&gt;anyVararg());\n</code></pre>\n"}],"owner":{"account_id":430482,"reputation":27583,"user_id":813951,"accept_rate":75,"display_name":"Mister Smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28807,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":32139397,"answer_count":4,"score":22,"last_activity_date":1648141898,"creation_date":1440156804,"question_id":32139252,"body_markdown":"I want to stub a repository class to test another class (Holder class) that has a repository. The repository interface supports CRUD operations, and has many methods, but my unit test on the Holder class only needs to call two of them. The repository interface:\r\n\r\n\tpublic interface IRepo {\r\n\t\tpublic void remove(String... sarr);\r\n\t\t\r\n\t\tpublic void add(String... sarr);\r\n\t\t\r\n\t\t//Lots of other methods I don&#39;t need now\r\n\t}\r\n\r\n**I want to create a repository mock that can store instances, define logic for `add` and `remove` only, and also provide a means of checking what is stored on it after calling add and remove.**\r\n\t\r\nIf I do:\r\n\r\n\tIRepo repoMock = mock(IRepo.class);\r\n\r\nThen I have a dumb object that does nothing on each method. That&#39;s OK, now I just need to define behaviour for add and remove.\r\n\r\nI could create a `Set&lt;String&gt;` and stub only those two methods to work on the set. Then I&#39;d instantiate a Holder that has an IRepo, inject the partially stubbed mock, and after exercising the holder, check the set to verify it contains what it should.\r\n\r\nI&#39;ve managed to partially stub a void method like `remove` using the deprecated method `stubVoid`:\r\n\r\n\tSet&lt;String&gt; mySet = new HashSet&lt;&gt;();\r\n\tstubVoid(repoMock).toAnswer(new Answer&lt;Void&gt;() {\r\n\r\n\t\t@Override\r\n\t\tpublic Void answer(InvocationOnMock invocation) throws Throwable {\r\n\t\t\tObject[] args = invocation.getArguments();\r\n\t\t\tString[] stringsToDelete = (String[]) args[0];\r\n\t\t\tmySet.removeAll(Arrays.asList(stringsToDelete));\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}).on().remove(Matchers.&lt;String&gt;anyVararg());\r\n\t\r\nBut is deprecated, and it is not much better than creating a partial implementation for IRepo. Is there a better way?\r\n\r\nNOTE: Java 7 answers only please, this should run in Android.","title":"Mockito: how to stub void methods to run some code when called","body":"<p>I want to stub a repository class to test another class (Holder class) that has a repository. The repository interface supports CRUD operations, and has many methods, but my unit test on the Holder class only needs to call two of them. The repository interface:</p>\n\n<pre><code>public interface IRepo {\n    public void remove(String... sarr);\n\n    public void add(String... sarr);\n\n    //Lots of other methods I don't need now\n}\n</code></pre>\n\n<p><strong>I want to create a repository mock that can store instances, define logic for <code>add</code> and <code>remove</code> only, and also provide a means of checking what is stored on it after calling add and remove.</strong></p>\n\n<p>If I do:</p>\n\n<pre><code>IRepo repoMock = mock(IRepo.class);\n</code></pre>\n\n<p>Then I have a dumb object that does nothing on each method. That's OK, now I just need to define behaviour for add and remove.</p>\n\n<p>I could create a <code>Set&lt;String&gt;</code> and stub only those two methods to work on the set. Then I'd instantiate a Holder that has an IRepo, inject the partially stubbed mock, and after exercising the holder, check the set to verify it contains what it should.</p>\n\n<p>I've managed to partially stub a void method like <code>remove</code> using the deprecated method <code>stubVoid</code>:</p>\n\n<pre><code>Set&lt;String&gt; mySet = new HashSet&lt;&gt;();\nstubVoid(repoMock).toAnswer(new Answer&lt;Void&gt;() {\n\n    @Override\n    public Void answer(InvocationOnMock invocation) throws Throwable {\n        Object[] args = invocation.getArguments();\n        String[] stringsToDelete = (String[]) args[0];\n        mySet.removeAll(Arrays.asList(stringsToDelete));\n        return null;\n    }\n}).on().remove(Matchers.&lt;String&gt;anyVararg());\n</code></pre>\n\n<p>But is deprecated, and it is not much better than creating a partial implementation for IRepo. Is there a better way?</p>\n\n<p>NOTE: Java 7 answers only please, this should run in Android.</p>\n"},{"tags":["java","annotations","spring-scheduled"],"answers":[{"tags":[],"owner":{"account_id":14253684,"reputation":197,"user_id":10296608,"display_name":"John Stone"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648141718,"creation_date":1648141718,"answer_id":71606633,"question_id":71602753,"body_markdown":"Let&#39;s say you have a property (not a variable) called `run-frequency.minutes` which contains an integer of how frequently you would like a method to execute.  There are three annotation properties that will come in handy:\r\n\r\n* `initialDelayString` - Value of how long to wait before the first execution.\r\n* `fixedDelayString` - Value of how long to wait between executions.\r\n* `timeUnit` - The unit to use when evaluating the above two values (MINUTES, SECONDS, etc).\r\n\r\n```java\r\n@Scheduled(\r\n    initialDelayString = &quot;${run-frequency.minutes}&quot;,\r\n    fixedDelayString = &quot;${run-frequency.minutes}&quot;,\r\n    timeUnit = TimeUnit.MINUTES\r\n)\r\n```\r\n\r\nOn a side note, here is the JavaDoc for that annotation: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html","title":"How to read value in integer in @Schedule annotation?","body":"<p>Let's say you have a property (not a variable) called <code>run-frequency.minutes</code> which contains an integer of how frequently you would like a method to execute.  There are three annotation properties that will come in handy:</p>\n<ul>\n<li><code>initialDelayString</code> - Value of how long to wait before the first execution.</li>\n<li><code>fixedDelayString</code> - Value of how long to wait between executions.</li>\n<li><code>timeUnit</code> - The unit to use when evaluating the above two values (MINUTES, SECONDS, etc).</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Scheduled(\n    initialDelayString = &quot;${run-frequency.minutes}&quot;,\n    fixedDelayString = &quot;${run-frequency.minutes}&quot;,\n    timeUnit = TimeUnit.MINUTES\n)\n</code></pre>\n<p>On a side note, here is the JavaDoc for that annotation: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html</a></p>\n"}],"owner":{"account_id":24193040,"reputation":21,"user_id":18152025,"display_name":"SakshiSinghal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":533,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1648141718,"creation_date":1648125754,"question_id":71602753,"body_markdown":"The variable used in @Schedule is defined in some other project but to use it in another project \r\n it is read in a class and the passed in @Scheduled in other file.\r\n\r\n  The variable is defined in the class as: \r\n\r\n    @Value(&quot;${cron_frequency_interval_for_logs}&quot;)\r\n    int cronFrequencyIntervalForLogs;\r\n\r\nand used as \r\n\r\n    @Scheduled(fixedDelayString = &quot;${cron_frequency_interval_for_logs}&quot;)\r\n\r\nThis works fine but the time it takes is in milliseconds and that too in String type.\r\n\r\nWhat I want and tried is: want the time in integer form and in minutes:\r\n\r\n    @Value(&quot;${cron_frequency_interval_for_logs}&quot;)\r\n    int cronFrequencyIntervalForLogs;\r\n\r\n This syntax I copied from internet but didn&#39;t work for me.\r\n\r\n    @Scheduled(fixedDelay = &quot;#{new Integer(&#39;${cron_frequency_interval_for_logs}&#39;)}&quot;)\r\n\r\nI want the time to be in minutes as first priority but by referring to the below article I got to know the format would be 5\\*60\\*1000 for 5 minutes and in such a case if I can just store 5 in the variable and can do the rest of the calculation as that is going to be repetitive. \r\n\r\nIs there any way of doing this? \r\n[Referred this][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/61749805/how-to-give-minute-in-fixeddelay-initialdelay-in-scheduled-spring-boot","title":"How to read value in integer in @Schedule annotation?","body":"<p>The variable used in @Schedule is defined in some other project but to use it in another project\nit is read in a class and the passed in @Scheduled in other file.</p>\n<p>The variable is defined in the class as:</p>\n<pre><code>@Value(&quot;${cron_frequency_interval_for_logs}&quot;)\nint cronFrequencyIntervalForLogs;\n</code></pre>\n<p>and used as</p>\n<pre><code>@Scheduled(fixedDelayString = &quot;${cron_frequency_interval_for_logs}&quot;)\n</code></pre>\n<p>This works fine but the time it takes is in milliseconds and that too in String type.</p>\n<p>What I want and tried is: want the time in integer form and in minutes:</p>\n<pre><code>@Value(&quot;${cron_frequency_interval_for_logs}&quot;)\nint cronFrequencyIntervalForLogs;\n</code></pre>\n<p>This syntax I copied from internet but didn't work for me.</p>\n<pre><code>@Scheduled(fixedDelay = &quot;#{new Integer('${cron_frequency_interval_for_logs}')}&quot;)\n</code></pre>\n<p>I want the time to be in minutes as first priority but by referring to the below article I got to know the format would be 5*60*1000 for 5 minutes and in such a case if I can just store 5 in the variable and can do the rest of the calculation as that is going to be repetitive.</p>\n<p>Is there any way of doing this?\n<a href=\"https://stackoverflow.com/questions/61749805/how-to-give-minute-in-fixeddelay-initialdelay-in-scheduled-spring-boot\">Referred this</a></p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1609429,"reputation":1062,"user_id":1488843,"accept_rate":75,"display_name":"MGPJ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648135820,"creation_date":1648135820,"answer_id":71605242,"question_id":71605199,"body_markdown":"Add Spring AOP dependency in your project.","title":"Unexpected exception parsing XML document from class path resource in spring boot","body":"<p>Add Spring AOP dependency in your project.</p>\n"}],"owner":{"account_id":22680246,"reputation":255,"user_id":16850682,"display_name":"Aditya Dixit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":953,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648141632,"creation_date":1648135641,"question_id":71605199,"body_markdown":"I am using spring boot and wrote the following code:\r\npackage com.luv2code.springdemo;\r\n\r\n    import org.springframework.context.support.ClassPathXmlApplicationContext;\r\n    \r\n    public class AnnotationDemoApp {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);\r\n    \t\tCoach theCoach = context.getBean(&quot;thatSillyCoach&quot;, Coach.class);\r\n    \t\tSystem.out.println(theCoach.getDailyWorkout());\r\n    \t\tcontext.close();\r\n    \t}\r\n    \r\n    }\r\n\r\nError message:\r\n\r\n    Exception in thread &quot;main&quot; org.springframework.beans.factory.BeanDefinitionStoreException: Unexpected exception parsing XML document from class path resource [applicationContext.xml]; nested exception is java.lang.NoClassDefFoundError: org/springframework/aop/TargetSource\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:417)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:338)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:310)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:188)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:224)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:195)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:257)\r\n    \tat org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:128)\r\n    \tat org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:94)\r\n    \tat org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:130)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:671)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:553)\r\n    \tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:144)\r\n    \tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:85)\r\n    \tat com.luv2code.springdemo.AnnotationDemoApp.main(AnnotationDemoApp.java:8)\r\n    Caused by: java.lang.NoClassDefFoundError: org/springframework/aop/TargetSource\r\n    \tat org.springframework.context.annotation.AnnotationConfigUtils.registerAnnotationConfigProcessors(AnnotationConfigUtils.java:157)\r\n    \tat org.springframework.context.annotation.ComponentScanBeanDefinitionParser.registerComponents(ComponentScanBeanDefinitionParser.java:152)\r\n    \tat org.springframework.context.annotation.ComponentScanBeanDefinitionParser.parse(ComponentScanBeanDefinitionParser.java:91)\r\n    \tat org.springframework.beans.factory.xml.NamespaceHandlerSupport.parse(NamespaceHandlerSupport.java:74)\r\n    \tat org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1391)\r\n    \tat org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1371)\r\n    \tat org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:179)\r\n    \tat org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.doRegisterBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:149)\r\n    \tat org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:96)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.registerBeanDefinitions(XmlBeanDefinitionReader.java:511)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:391)\r\n    \t... 14 more\r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.aop.TargetSource\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \t... 25 more\r\n\r\n\r\nMy project structure:\r\n\r\n[![spring_error][1]][1]\r\n\r\nMy applicationContext.xml is outside of com.luv2code.springdemo.\r\n\r\nWhat is the error here?\r\n\r\n  [1]: https://i.stack.imgur.com/JknSK.png","title":"Unexpected exception parsing XML document from class path resource in spring boot","body":"<p>I am using spring boot and wrote the following code:\npackage com.luv2code.springdemo;</p>\n<pre><code>import org.springframework.context.support.ClassPathXmlApplicationContext;\n\npublic class AnnotationDemoApp {\n\n    public static void main(String[] args) {\n        ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);\n        Coach theCoach = context.getBean(&quot;thatSillyCoach&quot;, Coach.class);\n        System.out.println(theCoach.getDailyWorkout());\n        context.close();\n    }\n\n}\n</code></pre>\n<p>Error message:</p>\n<pre><code>Exception in thread &quot;main&quot; org.springframework.beans.factory.BeanDefinitionStoreException: Unexpected exception parsing XML document from class path resource [applicationContext.xml]; nested exception is java.lang.NoClassDefFoundError: org/springframework/aop/TargetSource\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:417)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:338)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:310)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:188)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:224)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:195)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:257)\n    at org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:128)\n    at org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:94)\n    at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:130)\n    at org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:671)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:553)\n    at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:144)\n    at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:85)\n    at com.luv2code.springdemo.AnnotationDemoApp.main(AnnotationDemoApp.java:8)\nCaused by: java.lang.NoClassDefFoundError: org/springframework/aop/TargetSource\n    at org.springframework.context.annotation.AnnotationConfigUtils.registerAnnotationConfigProcessors(AnnotationConfigUtils.java:157)\n    at org.springframework.context.annotation.ComponentScanBeanDefinitionParser.registerComponents(ComponentScanBeanDefinitionParser.java:152)\n    at org.springframework.context.annotation.ComponentScanBeanDefinitionParser.parse(ComponentScanBeanDefinitionParser.java:91)\n    at org.springframework.beans.factory.xml.NamespaceHandlerSupport.parse(NamespaceHandlerSupport.java:74)\n    at org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1391)\n    at org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1371)\n    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:179)\n    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.doRegisterBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:149)\n    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:96)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.registerBeanDefinitions(XmlBeanDefinitionReader.java:511)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:391)\n    ... 14 more\nCaused by: java.lang.ClassNotFoundException: org.springframework.aop.TargetSource\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 25 more\n</code></pre>\n<p>My project structure:</p>\n<p><a href=\"https://i.stack.imgur.com/JknSK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JknSK.png\" alt=\"spring_error\" /></a></p>\n<p>My applicationContext.xml is outside of com.luv2code.springdemo.</p>\n<p>What is the error here?</p>\n"},{"tags":["java","xml","jaxb","marshalling"],"answers":[{"tags":[],"owner":{"account_id":9779820,"reputation":9709,"user_id":7248342,"display_name":"Thomas Fritsch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648141385,"creation_date":1648141385,"answer_id":71606562,"question_id":71564510,"body_markdown":"&gt; Is there a way to change the default naming convention\r\n&gt; when marshalling a Map to XML using JAXB?\r\n\r\nI think there is no way to change this naming, because the element names of\r\n`&lt;entry&gt;`, `&lt;key&gt;` and `&lt;value&gt;` are hard-coded in the JAXB implementation.  \r\nIn class `com.sun.xml.bind.v2.runtime.property.SingleMapNodeProperty`\r\n(which is responsible for serializing a `Map` entry) there is actually this code:\r\n\r\n    this.entryTag = context.nameBuilder.createElementName(&quot;&quot;,&quot;entry&quot;);\r\n    this.keyTag = context.nameBuilder.createElementName(&quot;&quot;,&quot;key&quot;);\r\n    this.valueTag = context.nameBuilder.createElementName(&quot;&quot;,&quot;value&quot;);\r\n\r\n&gt; Is there possibly I can do this another way with nested objects instead of a hash map?\r\n&gt;\r\n&gt; I was messing around attempting to do a List of `&lt;details&gt;`\r\n&gt; but my JAXB was having troubles marshalling a list.\r\n\r\nI don&#39;t know which troubles you encountered.\r\nBut you can achieve your goal just by changing in your `Error` class from\r\n\r\n    private Map&lt;String, String&gt; details;\r\n\r\nto\r\n\r\n\t@XmlElementWrapper(name = &quot;details&quot;)\r\n\t@XmlElement(name = &quot;detail&quot;)\r\n    private List&lt;Detail&gt; details;\r\n\r\n(and of course also adapting the constructor/getter/setter accordingly).  \r\nYou will also need a `Detail` class for representing the content\r\nwithin `&lt;detail&gt;...&lt;/detail&gt;`.\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class Detail {\r\n    \r\n\t    @XmlElement\r\n\t    private String key;\r\n\t\r\n\t    @XmlElement\r\n\t    private String value;\r\n\t\t\r\n\t\t// constructors, getters, setters (omitted here for brevity)\r\n    }\r\n\r\n","title":"How to change default Hashmap tag name from &lt;entry&gt; to something else when marshalling XML using JAXB?","body":"<blockquote>\n<p>Is there a way to change the default naming convention\nwhen marshalling a Map to XML using JAXB?</p>\n</blockquote>\n<p>I think there is no way to change this naming, because the element names of\n<code>&lt;entry&gt;</code>, <code>&lt;key&gt;</code> and <code>&lt;value&gt;</code> are hard-coded in the JAXB implementation.<br />\nIn class <code>com.sun.xml.bind.v2.runtime.property.SingleMapNodeProperty</code>\n(which is responsible for serializing a <code>Map</code> entry) there is actually this code:</p>\n<pre><code>this.entryTag = context.nameBuilder.createElementName(&quot;&quot;,&quot;entry&quot;);\nthis.keyTag = context.nameBuilder.createElementName(&quot;&quot;,&quot;key&quot;);\nthis.valueTag = context.nameBuilder.createElementName(&quot;&quot;,&quot;value&quot;);\n</code></pre>\n<blockquote>\n<p>Is there possibly I can do this another way with nested objects instead of a hash map?</p>\n<p>I was messing around attempting to do a List of <code>&lt;details&gt;</code>\nbut my JAXB was having troubles marshalling a list.</p>\n</blockquote>\n<p>I don't know which troubles you encountered.\nBut you can achieve your goal just by changing in your <code>Error</code> class from</p>\n<pre><code>private Map&lt;String, String&gt; details;\n</code></pre>\n<p>to</p>\n<pre><code>@XmlElementWrapper(name = &quot;details&quot;)\n@XmlElement(name = &quot;detail&quot;)\nprivate List&lt;Detail&gt; details;\n</code></pre>\n<p>(and of course also adapting the constructor/getter/setter accordingly).<br />\nYou will also need a <code>Detail</code> class for representing the content\nwithin <code>&lt;detail&gt;...&lt;/detail&gt;</code>.</p>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\npublic class Detail {\n\n    @XmlElement\n    private String key;\n\n    @XmlElement\n    private String value;\n    \n    // constructors, getters, setters (omitted here for brevity)\n}\n</code></pre>\n"}],"owner":{"account_id":7129598,"reputation":872,"user_id":5451356,"accept_rate":73,"display_name":"terrabl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71606562,"answer_count":1,"score":0,"last_activity_date":1648141385,"creation_date":1647899187,"question_id":71564510,"body_markdown":"I am attempting to change the value of the &lt;entry&gt; tag in the marshalled XML using JAXB to &lt;detail&gt;. My clients that are calling my application are expecting &lt;detail&gt;, previously I was using XSLT to do this transformation but I am switching to a JAXB approach to create the XML response. \r\n\r\nRight now this is the error XML that I am creating:\r\n```xml\r\n&lt;error&gt;\r\n    &lt;details&gt;\r\n        &lt;entry&gt;\r\n            &lt;key&gt;code&lt;/key&gt;\r\n            &lt;value&gt;1234&lt;/value&gt;\r\n        &lt;/entry&gt;\r\n        &lt;entry&gt;\r\n            &lt;key&gt;customKey&lt;/key&gt;\r\n            &lt;value&gt;customerValue&lt;/value&gt;\r\n        &lt;/entry&gt;\r\n    &lt;/details&gt;\r\n&lt;/error&gt;\r\n```\r\n\r\nAnd I need it to look like this:\r\n\r\n```xml\r\n&lt;error&gt;\r\n    &lt;details&gt;\r\n        &lt;detail&gt;\r\n            &lt;key&gt;code&lt;/key&gt;\r\n            &lt;value&gt;1234&lt;/value&gt;\r\n        &lt;/detail&gt;\r\n        &lt;detail&gt;\r\n            &lt;key&gt;customKey&lt;/key&gt;\r\n            &lt;value&gt;customerValue&lt;/value&gt;\r\n        &lt;/detail&gt;\r\n    &lt;/details&gt;\r\n&lt;/error&gt;\r\n```\r\n\r\nThe Java object that I am using to marshall is as follows:\r\n\r\n```java\r\nimport javax.xml.bind.annotation.XmlAccessType;\r\nimport javax.xml.bind.annotation.XmlAccessorType;\r\nimport javax.xml.bind.annotation.XmlRootElement;\r\nimport java.util.Map;\r\n\r\n@XmlRootElement(\r\n        name = &quot;error&quot;\r\n)\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\npublic class Error {\r\n    \r\n    private Map&lt;String, String&gt; details;\r\n\r\n    public Error() {\r\n\r\n    }\r\n\r\n    public Error(Map&lt;String, String&gt; details) {\r\n        this.details = details;\r\n    }\r\n    \r\n    public Map&lt;String, String&gt; getDetails() {\r\n        return details;\r\n    }\r\n\r\n    public void setDetails(Map&lt;String, String&gt; details) {\r\n        this.details = details;\r\n    }\r\n}\r\n```\r\n\r\nIs there a way to change the default naming convention when marshalling a Map to XML using JAXB? Is there possibly I can do this another way with nested objects instead of a hash map? \r\n\r\nI was messing around attempting to do a List of `&lt;details&gt;` but my JAXB was having troubles marshalling a list. \r\n\r\nThank you","title":"How to change default Hashmap tag name from &lt;entry&gt; to something else when marshalling XML using JAXB?","body":"<p>I am attempting to change the value of the  tag in the marshalled XML using JAXB to . My clients that are calling my application are expecting , previously I was using XSLT to do this transformation but I am switching to a JAXB approach to create the XML response.</p>\n<p>Right now this is the error XML that I am creating:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;error&gt;\n    &lt;details&gt;\n        &lt;entry&gt;\n            &lt;key&gt;code&lt;/key&gt;\n            &lt;value&gt;1234&lt;/value&gt;\n        &lt;/entry&gt;\n        &lt;entry&gt;\n            &lt;key&gt;customKey&lt;/key&gt;\n            &lt;value&gt;customerValue&lt;/value&gt;\n        &lt;/entry&gt;\n    &lt;/details&gt;\n&lt;/error&gt;\n</code></pre>\n<p>And I need it to look like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;error&gt;\n    &lt;details&gt;\n        &lt;detail&gt;\n            &lt;key&gt;code&lt;/key&gt;\n            &lt;value&gt;1234&lt;/value&gt;\n        &lt;/detail&gt;\n        &lt;detail&gt;\n            &lt;key&gt;customKey&lt;/key&gt;\n            &lt;value&gt;customerValue&lt;/value&gt;\n        &lt;/detail&gt;\n    &lt;/details&gt;\n&lt;/error&gt;\n</code></pre>\n<p>The Java object that I am using to marshall is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlRootElement;\nimport java.util.Map;\n\n@XmlRootElement(\n        name = &quot;error&quot;\n)\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class Error {\n    \n    private Map&lt;String, String&gt; details;\n\n    public Error() {\n\n    }\n\n    public Error(Map&lt;String, String&gt; details) {\n        this.details = details;\n    }\n    \n    public Map&lt;String, String&gt; getDetails() {\n        return details;\n    }\n\n    public void setDetails(Map&lt;String, String&gt; details) {\n        this.details = details;\n    }\n}\n</code></pre>\n<p>Is there a way to change the default naming convention when marshalling a Map to XML using JAXB? Is there possibly I can do this another way with nested objects instead of a hash map?</p>\n<p>I was messing around attempting to do a List of <code>&lt;details&gt;</code> but my JAXB was having troubles marshalling a list.</p>\n<p>Thank you</p>\n"},{"tags":["java","swing","graphics","jpanel"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1648068949,"post_id":71592195,"comment_id":126534089,"body_markdown":"1) class names should start with an upper case character 2) by convention constructors are coded first in your class, not last.","body":"1) class names should start with an upper case character 2) by convention constructors are coded first in your class, not last."},{"owner":{"account_id":24648199,"reputation":3,"user_id":18545595,"display_name":"HannahLovesAna"},"score":0,"creation_date":1648134934,"post_id":71592195,"comment_id":126552438,"body_markdown":"My WiFi is currently down but I&#39;ll try to get a minimal example of my code up soon. And thanks for the tips camickr, I&#39;ll try to remember those in the future!","body":"My WiFi is currently down but I&#39;ll try to get a minimal example of my code up soon. And thanks for the tips camickr, I&#39;ll try to remember those in the future!"},{"owner":{"account_id":24648199,"reputation":3,"user_id":18545595,"display_name":"HannahLovesAna"},"score":0,"creation_date":1648139367,"post_id":71592195,"comment_id":126554387,"body_markdown":"After some more investigation I&#39;ve edited my example to what I think is the simplest it could get.","body":"After some more investigation I&#39;ve edited my example to what I think is the simplest it could get."}],"answers":[{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1648141101,"creation_date":1648141101,"answer_id":71606493,"question_id":71592195,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nSee the code comments.\r\n\r\n    import java.awt.Color;\r\n    import javax.swing.*;\r\n    \r\n    public class BlackWindow extends JFrame {\r\n    \r\n        BlackWindow(){\r\n            setBounds(100,100,400,100);\r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            // sets the frame black, not the content pane\r\n            //setBackground(Color.BLACK);\r\n            getContentPane().setBackground(Color.BLACK);\r\n            setVisible(true);\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            new BlackWindow();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NzJuD.png\r\n\r\nThis example also speaks to a few general principles we follow when using Swing&#39;s `JFrame`:\r\n\r\n1. Don&#39;t extend the `JFrame` class, just use an instance of one.\r\n2. Don&#39;t do anything significant to the coloring or styling of a frame, instead color (for example) a `JPanel` and **add it** to the frame. ","title":"Java Swing panels and graphics stopped displaying","body":"<p><a href=\"https://i.stack.imgur.com/NzJuD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NzJuD.png\" alt=\"enter image description here\" /></a></p>\n<p>See the code comments.</p>\n<pre><code>import java.awt.Color;\nimport javax.swing.*;\n\npublic class BlackWindow extends JFrame {\n\n    BlackWindow(){\n        setBounds(100,100,400,100);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        // sets the frame black, not the content pane\n        //setBackground(Color.BLACK);\n        getContentPane().setBackground(Color.BLACK);\n        setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        new BlackWindow();\n    }\n}\n</code></pre>\n<p>This example also speaks to a few general principles we follow when using Swing's <code>JFrame</code>:</p>\n<ol>\n<li>Don't extend the <code>JFrame</code> class, just use an instance of one.</li>\n<li>Don't do anything significant to the coloring or styling of a frame, instead color (for example) a <code>JPanel</code> and <strong>add it</strong> to the frame.</li>\n</ol>\n"}],"owner":{"account_id":24648199,"reputation":3,"user_id":18545595,"display_name":"HannahLovesAna"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648141101,"creation_date":1648059722,"question_id":71592195,"body_markdown":"I&#39;m new to Java Swing (and fairly new to Java in general) and I&#39;ve been messing around with Swing for a while, but after making some changes my panels stopped displaying and I don&#39;t know why.\r\n\r\nWhen using `isDisplayable()` on my JPanel object it returns `false`. After more investigation my program does not seem to display graphics at all.\r\n\r\nEven a simple piece of code doesn&#39;t work for me anymore:\r\n\r\n```\r\npublic class window extends JFrame {\r\n\r\n        window(){\r\n\r\n        setBounds(100,100,1200,700);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); \r\n        setBackground(Color.black);\r\n        setVisible(true);\r\n    }\r\n    public static void main(String[] args) throws IOException{\r\n        new window();\r\n\r\n    }\r\n\r\n```\r\n\r\nI have no idea what I changed for this to happen, but all I get is a blank a completely blank window.\r\n\r\nAny help is appreciated a lot!","title":"Java Swing panels and graphics stopped displaying","body":"<p>I'm new to Java Swing (and fairly new to Java in general) and I've been messing around with Swing for a while, but after making some changes my panels stopped displaying and I don't know why.</p>\n<p>When using <code>isDisplayable()</code> on my JPanel object it returns <code>false</code>. After more investigation my program does not seem to display graphics at all.</p>\n<p>Even a simple piece of code doesn't work for me anymore:</p>\n<pre><code>public class window extends JFrame {\n\n        window(){\n\n        setBounds(100,100,1200,700);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); \n        setBackground(Color.black);\n        setVisible(true);\n    }\n    public static void main(String[] args) throws IOException{\n        new window();\n\n    }\n\n</code></pre>\n<p>I have no idea what I changed for this to happen, but all I get is a blank a completely blank window.</p>\n<p>Any help is appreciated a lot!</p>\n"},{"tags":["java","priority-queue"],"comments":[{"owner":{"account_id":6332,"reputation":17357,"user_id":10601,"accept_rate":91,"display_name":"perimosocordiae"},"score":2,"creation_date":1260327047,"post_id":1871253,"comment_id":1769224,"body_markdown":"You might find this SO question useful: http://stackoverflow.com/questions/714796/priorityqueue-heap-update","body":"You might find this SO question useful: <a href=\"http://stackoverflow.com/questions/714796/priorityqueue-heap-update\" title=\"priorityqueue heap update\">stackoverflow.com/questions/714796/priorityqueue-heap-update</a>"},{"owner":{"account_id":55726,"reputation":19658,"user_id":166938,"accept_rate":87,"display_name":"Marcus Whybrow"},"score":0,"creation_date":1260327227,"post_id":1871253,"comment_id":1769233,"body_markdown":"Great thanks, I didn&#39;t see that question before.","body":"Great thanks, I didn&#39;t see that question before."}],"answers":[{"tags":[],"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"down_vote_count":1,"up_vote_count":57,"is_accepted":true,"score":56,"last_activity_date":1260326823,"creation_date":1260326823,"answer_id":1871303,"question_id":1871253,"body_markdown":"You have to remove and re-insert, as the queue works by putting new elements in the appropriate position when they are inserted. This is much faster than the alternative of finding the highest-priority element every time you pull out of the queue. The drawback is that you cannot change the priority after the element has been inserted. A TreeMap has the same limitation (as does a HashMap, which also breaks when the hashcode of its elements changes after insertion).\r\n\r\nIf you want to write a wrapper, you can move the comparison code from enqueue to dequeue. You would not need to sort at enqueue time anymore (because the order it creates would not be reliable anyway if you allow changes).\r\n\r\nBut this will perform worse, and you want to synchronize on the queue if you change any of the priorities. Since you need to add synchronization code when updating priorities, you might as well just dequeue and enqueue (you need the reference to the queue in both cases).\r\n","title":"Updating Java PriorityQueue when its elements change priority","body":"<p>You have to remove and re-insert, as the queue works by putting new elements in the appropriate position when they are inserted. This is much faster than the alternative of finding the highest-priority element every time you pull out of the queue. The drawback is that you cannot change the priority after the element has been inserted. A TreeMap has the same limitation (as does a HashMap, which also breaks when the hashcode of its elements changes after insertion).</p>\n\n<p>If you want to write a wrapper, you can move the comparison code from enqueue to dequeue. You would not need to sort at enqueue time anymore (because the order it creates would not be reliable anyway if you allow changes).</p>\n\n<p>But this will perform worse, and you want to synchronize on the queue if you change any of the priorities. Since you need to add synchronization code when updating priorities, you might as well just dequeue and enqueue (you need the reference to the queue in both cases).</p>\n"},{"tags":[],"owner":{"account_id":576824,"reputation":131,"user_id":227680,"display_name":"Jon McCaffrey"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1260331108,"creation_date":1260331108,"answer_id":1871497,"question_id":1871253,"body_markdown":"I don&#39;t know if there is a Java implementation, but if you&#39;re changing key values alot, you can use a Fibonnaci heap, which has O(1) amortized cost to *decrease* a key value of an entry in the heap, rather than O(log(n)) as in an ordinary heap.","title":"Updating Java PriorityQueue when its elements change priority","body":"<p>I don't know if there is a Java implementation, but if you're changing key values alot, you can use a Fibonnaci heap, which has O(1) amortized cost to <em>decrease</em> a key value of an entry in the heap, rather than O(log(n)) as in an ordinary heap.</p>\n"},{"tags":[],"owner":{"account_id":1058083,"reputation":76416,"user_id":1060350,"accept_rate":76,"display_name":"Has QUIT--Anony-Mousse"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1356308327,"creation_date":1356308327,"answer_id":14015794,"question_id":1871253,"body_markdown":"It depends a lot on whether you have direct control of *when* the values change.\r\n\r\nIf you know when the values change, you can either remove and reinsert (which in fact is fairly expensive, as removing requires a linear scan over the heap!).\r\nFurthermore, you can use an UpdatableHeap structure (not in stock java though) for this situation. Essentially, that is a heap that tracks the position of elements in a hashmap. This way, when the priority of an element changes, it can repair the heap. Third, you can look for an Fibonacci heap which does the same.\r\n\r\nDepending on your update rate, a linear scan / quicksort / QuickSelect each time might also work. In particular if you have much more updates than `pull`s, this is the way to go. QuickSelect is probably best if you have batches of update and then batches of pull opertions.","title":"Updating Java PriorityQueue when its elements change priority","body":"<p>It depends a lot on whether you have direct control of <em>when</em> the values change.</p>\n\n<p>If you know when the values change, you can either remove and reinsert (which in fact is fairly expensive, as removing requires a linear scan over the heap!).\nFurthermore, you can use an UpdatableHeap structure (not in stock java though) for this situation. Essentially, that is a heap that tracks the position of elements in a hashmap. This way, when the priority of an element changes, it can repair the heap. Third, you can look for an Fibonacci heap which does the same.</p>\n\n<p>Depending on your update rate, a linear scan / quicksort / QuickSelect each time might also work. In particular if you have much more updates than <code>pull</code>s, this is the way to go. QuickSelect is probably best if you have batches of update and then batches of pull opertions.</p>\n"},{"tags":[],"owner":{"account_id":1164676,"reputation":717,"user_id":6950119,"display_name":"Techflash"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1551548360,"creation_date":1522598054,"answer_id":49599851,"question_id":1871253,"body_markdown":"To trigger reheapify try this:\r\n   \r\n```java\r\nif(!priorityQueue.isEmpty()) {\r\n    priorityQueue.add(priorityQueue.remove());\r\n}\r\n```","title":"Updating Java PriorityQueue when its elements change priority","body":"<p>To trigger reheapify try this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>if(!priorityQueue.isEmpty()) {\n    priorityQueue.add(priorityQueue.remove());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6763325,"reputation":49,"user_id":5209167,"display_name":"Phoenix King"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1526794378,"creation_date":1526794378,"answer_id":50431975,"question_id":1871253,"body_markdown":"  Something I&#39;ve tried and it works so far, is peeking to see if the reference to the object you&#39;re changing is the same as the head of the PriorityQueue, if it is, then you poll(), change then re-insert; else you can change without polling because when the head is polled, then the heap is heapified anyways.\r\n\r\nDOWNSIDE: This changes the priority for Objects with the same Priority. ","title":"Updating Java PriorityQueue when its elements change priority","body":"<p>Something I've tried and it works so far, is peeking to see if the reference to the object you're changing is the same as the head of the PriorityQueue, if it is, then you poll(), change then re-insert; else you can change without polling because when the head is polled, then the heap is heapified anyways.</p>\n\n<p>DOWNSIDE: This changes the priority for Objects with the same Priority. </p>\n"},{"tags":[],"owner":{"account_id":13893649,"reputation":733,"user_id":10807253,"display_name":"tensor"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1546669770,"creation_date":1546669770,"answer_id":54049575,"question_id":1871253,"body_markdown":"One easy solution that you can implement is by just adding that element again into the priority queue. It will not change the way you extract the elements although it will consume more space but that also won&#39;t be too much to effect your running time.\r\n\r\nTo proof this let&#39;s consider dijkstra algorithm below\r\n\r\n    public int[] dijkstra() {\r\n    int distance[] = new int[this.vertices];\r\n    int previous[] = new int[this.vertices];\r\n    for (int i = 0; i &lt; this.vertices; i++) {\r\n        distance[i] = Integer.MAX_VALUE;\r\n        previous[i] = -1;\r\n    }\r\n    distance[0] = 0;\r\n    previous[0] = 0;\r\n    PriorityQueue&lt;Node&gt; pQueue = new PriorityQueue&lt;&gt;(this.vertices, new NodeComparison());\r\n    addValues(pQueue, distance);\r\n    while (!pQueue.isEmpty()) {\r\n        Node n = pQueue.remove();\r\n        List&lt;Edge&gt; neighbours = adjacencyList.get(n.position);\r\n        for (Edge neighbour : neighbours) {\r\n            if (distance[neighbour.destination] &gt; distance[n.position] + neighbour.weight) {\r\n                distance[neighbour.destination] = distance[n.position] + neighbour.weight;\r\n                previous[neighbour.destination] = n.position;\r\n                pQueue.add(new Node(neighbour.destination, distance[neighbour.destination]));\r\n            }\r\n        }\r\n    }\r\n    return previous;\r\n}\r\n\r\n\r\nHere our interest is in line \r\n`pQueue.add(new Node(neighbour.destination, distance[neighbour.destination]));`\r\nI am not changing priority of the particular node by removing it and adding again rather I am just adding new node with same value but different priority.\r\nNow at the time of extracting I will always get this node first because I have implemented min heap here and the node with value greater than this (less priority) always be extracted afterwards and in this way all neighboring nodes will already be relaxed when less prior element will be extracted.\r\n\r\n","title":"Updating Java PriorityQueue when its elements change priority","body":"<p>One easy solution that you can implement is by just adding that element again into the priority queue. It will not change the way you extract the elements although it will consume more space but that also won't be too much to effect your running time.</p>\n\n<p>To proof this let's consider dijkstra algorithm below</p>\n\n<pre><code>public int[] dijkstra() {\nint distance[] = new int[this.vertices];\nint previous[] = new int[this.vertices];\nfor (int i = 0; i &lt; this.vertices; i++) {\n    distance[i] = Integer.MAX_VALUE;\n    previous[i] = -1;\n}\ndistance[0] = 0;\nprevious[0] = 0;\nPriorityQueue&lt;Node&gt; pQueue = new PriorityQueue&lt;&gt;(this.vertices, new NodeComparison());\naddValues(pQueue, distance);\nwhile (!pQueue.isEmpty()) {\n    Node n = pQueue.remove();\n    List&lt;Edge&gt; neighbours = adjacencyList.get(n.position);\n    for (Edge neighbour : neighbours) {\n        if (distance[neighbour.destination] &gt; distance[n.position] + neighbour.weight) {\n            distance[neighbour.destination] = distance[n.position] + neighbour.weight;\n            previous[neighbour.destination] = n.position;\n            pQueue.add(new Node(neighbour.destination, distance[neighbour.destination]));\n        }\n    }\n}\nreturn previous;\n</code></pre>\n\n<p>}</p>\n\n<p>Here our interest is in line \n<code>pQueue.add(new Node(neighbour.destination, distance[neighbour.destination]));</code>\nI am not changing priority of the particular node by removing it and adding again rather I am just adding new node with same value but different priority.\nNow at the time of extracting I will always get this node first because I have implemented min heap here and the node with value greater than this (less priority) always be extracted afterwards and in this way all neighboring nodes will already be relaxed when less prior element will be extracted.</p>\n"},{"tags":[],"owner":{"account_id":10042541,"reputation":2660,"user_id":7424948,"display_name":"Ricola"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1648140895,"creation_date":1622981613,"answer_id":67858977,"question_id":1871253,"body_markdown":"Without reimplementing the priority queue yourself (so by only using `utils.PriorityQueue`) you have essentially two main approaches:\r\n\r\n### 1) Remove and put back\r\n\r\nRemove element then put it back with new priority. This is explained in the answers above. Removing an element is O(n) so this approach is quite slow.\r\n\r\n### 2) Use a Map and keep stale items in the queue\r\nKeep a `HashMap` of item -&gt; priority. The keys of the map are the items (without their priority) and the values of the map are the priorities.\r\n\r\nKeep it in sync with the PriorityQueue (i.e. every time you add or remove an item from the Queue, update the Map accordingly). \r\n\r\nNow when you need to change the priority of an item, simply add the same item to the queue with a different priority (and update the map of course). When you poll an item from the queue, check if its priority is the same than in your map. If not, then ditch it and poll again.\r\n\r\nIf you don&#39;t need to change the priorities too often, this second approach is faster. Your heap will be larger and you might need to poll more times, but you don&#39;t need to find your item.\r\nThe &#39;change priority&#39; operation would be __O(f(n)log n*)__, with _f(n)_ the number of &#39;change priority&#39; operation **per item** and _n*_ the actual size of your heap (which is n*f(n)).\r\n\r\n\r\nI believe that if *f(n)* is O(n/logn)(for example f(n) = O(sqrt(n)), this is faster than the first approach.\r\n\r\nNote : in the explanation above, by *priority* I means all the variables that are used in your Comparator. Also your item need to implement `equals` and `hashcode`, and both methods shouldn&#39;t use the priority variables.","title":"Updating Java PriorityQueue when its elements change priority","body":"<p>Without reimplementing the priority queue yourself (so by only using <code>utils.PriorityQueue</code>) you have essentially two main approaches:</p>\n<h3>1) Remove and put back</h3>\n<p>Remove element then put it back with new priority. This is explained in the answers above. Removing an element is O(n) so this approach is quite slow.</p>\n<h3>2) Use a Map and keep stale items in the queue</h3>\n<p>Keep a <code>HashMap</code> of item -&gt; priority. The keys of the map are the items (without their priority) and the values of the map are the priorities.</p>\n<p>Keep it in sync with the PriorityQueue (i.e. every time you add or remove an item from the Queue, update the Map accordingly).</p>\n<p>Now when you need to change the priority of an item, simply add the same item to the queue with a different priority (and update the map of course). When you poll an item from the queue, check if its priority is the same than in your map. If not, then ditch it and poll again.</p>\n<p>If you don't need to change the priorities too often, this second approach is faster. Your heap will be larger and you might need to poll more times, but you don't need to find your item.\nThe 'change priority' operation would be <strong>O(f(n)log n*)</strong>, with <em>f(n)</em> the number of 'change priority' operation <strong>per item</strong> and <em>n*</em> the actual size of your heap (which is n*f(n)).</p>\n<p>I believe that if <em>f(n)</em> is O(n/logn)(for example f(n) = O(sqrt(n)), this is faster than the first approach.</p>\n<p>Note : in the explanation above, by <em>priority</em> I means all the variables that are used in your Comparator. Also your item need to implement <code>equals</code> and <code>hashcode</code>, and both methods shouldn't use the priority variables.</p>\n"},{"tags":[],"owner":{"account_id":322516,"reputation":121953,"user_id":641955,"accept_rate":72,"display_name":"janos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644168015,"creation_date":1644168015,"answer_id":71009712,"question_id":1871253,"body_markdown":"&gt; Is there a better way other than just creating a wrapper class around the PriorityQueue to do this?\r\n\r\nIt depends on the definition of &quot;better&quot; and the implementation of the wrapper.\r\n\r\nIf the implementation of the wrapper is to re-insert the value using the `PriorityQueue`&#39;s `.remove(...)` and `.add(...)` methods,\r\nit&#39;s important to point out that `.remove(...)` runs in `O(n)` time.\r\nDepending on the heap implementation,\r\nupdating the priority of a value can be done in `O(log n)` or even `O(1)` time, \r\ntherefore this wrapper suggestion may fall short of common expectations.\r\n\r\nIf you want to minimize your effort to implement,\r\nas well as the risk of bugs of any custom solution,\r\nthen a wrapper that performs re-insert looks easy and safe.\r\n\r\nIf you want the implementation to be faster than `O(n)`,\r\nthen you have some options:\r\n\r\n1. Implement a heap yourself. The [wikipedia entry][1] describes multiple variants with their properties. This approach is likely to get your the best performance, at the same time the more code you write yourself, the greater the risk of bugs.\r\n\r\n2. Implement a different kind of wrapper: handlee updating the priority by marking the entry as removed, and add a new entry with the revised priority. \r\nThis is relatively easy to do (less code), see below, though it has its own caveats.\r\n\r\nI came across the second idea in [Python&#39;s documentation][2],\r\nand applied it to implement a reusable data structure in Java (see caveats at the bottom):\r\n\r\n    public class UpdatableHeap&lt;T&gt; {\r\n    \r\n      private final PriorityQueue&lt;Node&lt;T&gt;&gt; pq = new PriorityQueue&lt;&gt;(Comparator.comparingInt(node -&gt; node.priority));\r\n      private final Map&lt;T, Node&lt;T&gt;&gt; entries = new HashMap&lt;&gt;();\r\n    \r\n      public void addOrUpdate(T value, int priority) {\r\n        if (entries.containsKey(value)) {\r\n          entries.remove(value).removed = true;\r\n        }\r\n    \r\n        Node&lt;T&gt; node = new Node&lt;&gt;(value, priority);\r\n        entries.put(value, node);\r\n        pq.add(node);\r\n      }\r\n    \r\n      public T pop() {\r\n        while (!pq.isEmpty()) {\r\n          Node&lt;T&gt; node = pq.poll();\r\n          if (!node.removed) {\r\n            entries.remove(node.value);\r\n            return node.value;\r\n          }\r\n        }\r\n    \r\n        throw new IllegalStateException(&quot;pop from empty heap&quot;);\r\n      }\r\n    \r\n      public boolean isEmpty() {\r\n        return entries.isEmpty();\r\n      }\r\n    \r\n      private static class Node&lt;T&gt; {\r\n        private final T value;\r\n        private final int priority;\r\n        private boolean removed = false;\r\n    \r\n        private Node(T value, int priority) {\r\n          this.value = value;\r\n          this.priority = priority;\r\n        }\r\n      }\r\n    }\r\n\r\nNote some caveats:\r\n\r\n- Entries marked removed stay in memory until they are popped\r\n  - This can be unacceptable in use cases with very frequent updates\r\n- The internal `Node` wrapped around the actual values is an extra memory overhead (constant per entry). There is also an internal `Map`, mapping all the values currently in the priority queue to their `Node` wrapper.\r\n- Since the values are used in a map, users must be aware of the usual cautions when using a map, and make sure to have appropriate `equals` and `hashCode` implementations.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Heap_(data_structure)\r\n  [2]: https://docs.python.org/3.5/library/heapq.html\r\n","title":"Updating Java PriorityQueue when its elements change priority","body":"<blockquote>\n<p>Is there a better way other than just creating a wrapper class around the PriorityQueue to do this?</p>\n</blockquote>\n<p>It depends on the definition of &quot;better&quot; and the implementation of the wrapper.</p>\n<p>If the implementation of the wrapper is to re-insert the value using the <code>PriorityQueue</code>'s <code>.remove(...)</code> and <code>.add(...)</code> methods,\nit's important to point out that <code>.remove(...)</code> runs in <code>O(n)</code> time.\nDepending on the heap implementation,\nupdating the priority of a value can be done in <code>O(log n)</code> or even <code>O(1)</code> time,\ntherefore this wrapper suggestion may fall short of common expectations.</p>\n<p>If you want to minimize your effort to implement,\nas well as the risk of bugs of any custom solution,\nthen a wrapper that performs re-insert looks easy and safe.</p>\n<p>If you want the implementation to be faster than <code>O(n)</code>,\nthen you have some options:</p>\n<ol>\n<li><p>Implement a heap yourself. The <a href=\"https://en.wikipedia.org/wiki/Heap_(data_structure)\" rel=\"nofollow noreferrer\">wikipedia entry</a> describes multiple variants with their properties. This approach is likely to get your the best performance, at the same time the more code you write yourself, the greater the risk of bugs.</p>\n</li>\n<li><p>Implement a different kind of wrapper: handlee updating the priority by marking the entry as removed, and add a new entry with the revised priority.\nThis is relatively easy to do (less code), see below, though it has its own caveats.</p>\n</li>\n</ol>\n<p>I came across the second idea in <a href=\"https://docs.python.org/3.5/library/heapq.html\" rel=\"nofollow noreferrer\">Python's documentation</a>,\nand applied it to implement a reusable data structure in Java (see caveats at the bottom):</p>\n<pre><code>public class UpdatableHeap&lt;T&gt; {\n\n  private final PriorityQueue&lt;Node&lt;T&gt;&gt; pq = new PriorityQueue&lt;&gt;(Comparator.comparingInt(node -&gt; node.priority));\n  private final Map&lt;T, Node&lt;T&gt;&gt; entries = new HashMap&lt;&gt;();\n\n  public void addOrUpdate(T value, int priority) {\n    if (entries.containsKey(value)) {\n      entries.remove(value).removed = true;\n    }\n\n    Node&lt;T&gt; node = new Node&lt;&gt;(value, priority);\n    entries.put(value, node);\n    pq.add(node);\n  }\n\n  public T pop() {\n    while (!pq.isEmpty()) {\n      Node&lt;T&gt; node = pq.poll();\n      if (!node.removed) {\n        entries.remove(node.value);\n        return node.value;\n      }\n    }\n\n    throw new IllegalStateException(&quot;pop from empty heap&quot;);\n  }\n\n  public boolean isEmpty() {\n    return entries.isEmpty();\n  }\n\n  private static class Node&lt;T&gt; {\n    private final T value;\n    private final int priority;\n    private boolean removed = false;\n\n    private Node(T value, int priority) {\n      this.value = value;\n      this.priority = priority;\n    }\n  }\n}\n</code></pre>\n<p>Note some caveats:</p>\n<ul>\n<li>Entries marked removed stay in memory until they are popped\n<ul>\n<li>This can be unacceptable in use cases with very frequent updates</li>\n</ul>\n</li>\n<li>The internal <code>Node</code> wrapped around the actual values is an extra memory overhead (constant per entry). There is also an internal <code>Map</code>, mapping all the values currently in the priority queue to their <code>Node</code> wrapper.</li>\n<li>Since the values are used in a map, users must be aware of the usual cautions when using a map, and make sure to have appropriate <code>equals</code> and <code>hashCode</code> implementations.</li>\n</ul>\n"}],"owner":{"account_id":55726,"reputation":19658,"user_id":166938,"accept_rate":87,"display_name":"Marcus Whybrow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96944,"favorite_count":0,"down_vote_count":0,"up_vote_count":88,"accepted_answer_id":1871303,"answer_count":8,"score":88,"last_activity_date":1648140895,"creation_date":1260325716,"question_id":1871253,"body_markdown":"I&#39;m trying to use a `PriorityQueue` to order objects using a `Comparator`.\r\n\r\nThis can be achieved easily, but the objects class variables (with which the comparator calculates priority) may change after the initial insertion. Most people have suggested the simple solution of removing the object, updating the values and reinserting it again, as this is when the priority queue&#39;s comparator is put into action.\r\n\r\nIs there a better way other than just creating a wrapper class around the PriorityQueue to do this?","title":"Updating Java PriorityQueue when its elements change priority","body":"<p>I'm trying to use a <code>PriorityQueue</code> to order objects using a <code>Comparator</code>.</p>\n\n<p>This can be achieved easily, but the objects class variables (with which the comparator calculates priority) may change after the initial insertion. Most people have suggested the simple solution of removing the object, updating the values and reinserting it again, as this is when the priority queue's comparator is put into action.</p>\n\n<p>Is there a better way other than just creating a wrapper class around the PriorityQueue to do this?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":19672763,"reputation":1766,"user_id":15062361,"display_name":"Pepe N O"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648137701,"creation_date":1648137701,"answer_id":71605669,"question_id":71604982,"body_markdown":"It&#39;s better if you handle your set of elements to permute as a string, there are numerous examples over the internet, like:\r\n\r\n     public class Permute {\r\n        public static void main(String[] args) {\r\n            String str = &quot;123&quot;;\r\n            permute(str);\r\n        }\r\n        public static void permute(String str) {\r\n            permute(&quot;&quot;, str);\r\n        }\r\n        public static void permute(String prefix, String str) {\r\n            int n = str.length();\r\n            if (n == 0) {\r\n                System.out.println(prefix);\r\n            } else {\r\n                for (int i = 0; i &lt; n; i++) {\r\n                    permute(prefix + str.charAt(i), str.substring(0, i) + str.substring(i+1, n));\r\n                }\r\n            }\r\n        }\r\n    }","title":"a combination of permutations of elements in a java array","body":"<p>It's better if you handle your set of elements to permute as a string, there are numerous examples over the internet, like:</p>\n<pre><code> public class Permute {\n    public static void main(String[] args) {\n        String str = &quot;123&quot;;\n        permute(str);\n    }\n    public static void permute(String str) {\n        permute(&quot;&quot;, str);\n    }\n    public static void permute(String prefix, String str) {\n        int n = str.length();\n        if (n == 0) {\n            System.out.println(prefix);\n        } else {\n            for (int i = 0; i &lt; n; i++) {\n                permute(prefix + str.charAt(i), str.substring(0, i) + str.substring(i+1, n));\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16049089,"reputation":225,"user_id":11583484,"display_name":"TiMauzi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648140891,"creation_date":1648140159,"answer_id":71606270,"question_id":71604982,"body_markdown":"Let&#39;s step back and review your underlying idea: I assume that you always take a pair of neighboring values in the array and swap those. So for the first step, you are swapping the values of indices 0 and 1, for the second step, you are swapping 1 and 2 etc. If you reach the end of your array, you are going back to the start, thus swapping indices n-1 and 0, then 0 and 1 again and so on.\r\n\r\nTaking these preliminary thoughts into account, I came up with the following approach within the method `permutation` that uses mainly a `while` loop to find all `factorial(n)` permutations:\r\n\r\n```\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        permutation(3);\r\n    }\r\n\r\n    static int factorial(int n) {\r\n        int res = 1;\r\n        for (int i = 2; i &lt;= n; i++) {\r\n            res *= i;\r\n        }\r\n        return res;\r\n    }\r\n\r\n    static void print_permutation(int[] array) {\r\n        for (int k = 0; k &lt; array.length; k++) {\r\n            System.out.print(array[k]);\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\n    static void permutation(int n) {\r\n        int[] array = new int[n];\r\n        for (int i = 0; i &lt; n; i++){\r\n            array[i] = i+1;\r\n        }\r\n        print_permutation(array);\r\n        int counter = factorial(n);\r\n        int i = 0;\r\n        int j = i+1;\r\n        while (counter &gt; 1) {\r\n            int t = array[i];\r\n            array[i] = array[j];\r\n            array[j] = t;\r\n            print_permutation(array);\r\n            // Swap the next pair of neighbors.\r\n            // If there is no next value, use the first value again.\r\n            if (i+1 == n) {\r\n                i = 0;\r\n            } else {\r\n                i++;\r\n            }\r\n            if (j+1 == n) {\r\n                j = 0;\r\n            } else {\r\n                j++;\r\n            }\r\n            counter--; // Stop after factorial(n) permutations.\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe first step is similar to your own idea, just creating an `array` from 1 to n and printing the &quot;default&quot; permutation.\r\n\r\nI reused your `factorial` function to create a `counter` value, which tells me when to stop looking for new permutations (it is used as a break condition in the `while` loop). I also added a little helper function that does the printing (which is not necessary, but better for understanding the overall idea of the algorithm in the method `permutation`).\r\n\r\nWithin the `while` loop, I basically just do what I already described above, always swapping the neighboring pairs of values (or jumping back to the start of the array) until `counter` has been decreased to 1.\r\n\r\nFor `permutation(3)`, this program returns:\r\n```\r\n123\r\n213\r\n231\r\n132\r\n312\r\n321\r\n```\r\n\r\nUnfortunately, this doesn&#39;t lead to correct results for e.g. `permutation(4)`, thus I think, the general idea is not correct here.","title":"a combination of permutations of elements in a java array","body":"<p>Let's step back and review your underlying idea: I assume that you always take a pair of neighboring values in the array and swap those. So for the first step, you are swapping the values of indices 0 and 1, for the second step, you are swapping 1 and 2 etc. If you reach the end of your array, you are going back to the start, thus swapping indices n-1 and 0, then 0 and 1 again and so on.</p>\n<p>Taking these preliminary thoughts into account, I came up with the following approach within the method <code>permutation</code> that uses mainly a <code>while</code> loop to find all <code>factorial(n)</code> permutations:</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        permutation(3);\n    }\n\n    static int factorial(int n) {\n        int res = 1;\n        for (int i = 2; i &lt;= n; i++) {\n            res *= i;\n        }\n        return res;\n    }\n\n    static void print_permutation(int[] array) {\n        for (int k = 0; k &lt; array.length; k++) {\n            System.out.print(array[k]);\n        }\n        System.out.println();\n    }\n\n    static void permutation(int n) {\n        int[] array = new int[n];\n        for (int i = 0; i &lt; n; i++){\n            array[i] = i+1;\n        }\n        print_permutation(array);\n        int counter = factorial(n);\n        int i = 0;\n        int j = i+1;\n        while (counter &gt; 1) {\n            int t = array[i];\n            array[i] = array[j];\n            array[j] = t;\n            print_permutation(array);\n            // Swap the next pair of neighbors.\n            // If there is no next value, use the first value again.\n            if (i+1 == n) {\n                i = 0;\n            } else {\n                i++;\n            }\n            if (j+1 == n) {\n                j = 0;\n            } else {\n                j++;\n            }\n            counter--; // Stop after factorial(n) permutations.\n        }\n\n    }\n\n}\n</code></pre>\n<p>The first step is similar to your own idea, just creating an <code>array</code> from 1 to n and printing the &quot;default&quot; permutation.</p>\n<p>I reused your <code>factorial</code> function to create a <code>counter</code> value, which tells me when to stop looking for new permutations (it is used as a break condition in the <code>while</code> loop). I also added a little helper function that does the printing (which is not necessary, but better for understanding the overall idea of the algorithm in the method <code>permutation</code>).</p>\n<p>Within the <code>while</code> loop, I basically just do what I already described above, always swapping the neighboring pairs of values (or jumping back to the start of the array) until <code>counter</code> has been decreased to 1.</p>\n<p>For <code>permutation(3)</code>, this program returns:</p>\n<pre><code>123\n213\n231\n132\n312\n321\n</code></pre>\n<p>Unfortunately, this doesn't lead to correct results for e.g. <code>permutation(4)</code>, thus I think, the general idea is not correct here.</p>\n"}],"owner":{"account_id":23207420,"reputation":11,"user_id":17301433,"display_name":"danrik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1648140891,"creation_date":1648134700,"question_id":71604982,"body_markdown":"I made a code that should show the entire combination of permutations of elements in an array.\r\n\r\n        package com.company;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.lang.Math;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n         first(3);\r\n        }\r\n    \r\n        static int factorial(int n) {\r\n            int res = 1;\r\n            for (int i = 2; i &lt;= n; i++) {\r\n                res *= i;\r\n            }\r\n            return res;\r\n        }\r\n    \r\n       static void first(int n){\r\n          int[] array = new int[n];\r\n            for(int i = 0; i &lt; n;i++){\r\n              array[i]=i+1;\r\n            }\r\n            for(int i = 0; i &lt; factorial(n);i++){\r\n                for(int j = 0; j &lt; n; j++) {\r\n                    if(j==n-1){\r\n                        continue;\r\n                    }\r\n                    int t = array[j];\r\n                    array[j] = array[j+1];\r\n                    array[j+1] = t;\r\n                }\r\n                for(int k =0;k&lt;n;k++){\r\n                    System.out.print(array[k]);\r\n                }\r\n                System.out.println();\r\n                }\r\n    \r\n    \r\n            }\r\n       }\r\n\r\nWhat should it be:\r\n\r\n123\r\n213\r\n231\r\n132\r\n312\r\n321\r\n\r\nBut it turns out like this:\r\n\r\n231\r\n312\r\n123\r\n231\r\n312\r\n123\r\n\r\nHow can a permutation be done the way it should?","title":"a combination of permutations of elements in a java array","body":"<p>I made a code that should show the entire combination of permutations of elements in an array.</p>\n<pre><code>    package com.company;\n\nimport java.util.ArrayList;\nimport java.lang.Math;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class Main {\n\n    public static void main(String[] args) {\n     first(3);\n    }\n\n    static int factorial(int n) {\n        int res = 1;\n        for (int i = 2; i &lt;= n; i++) {\n            res *= i;\n        }\n        return res;\n    }\n\n   static void first(int n){\n      int[] array = new int[n];\n        for(int i = 0; i &lt; n;i++){\n          array[i]=i+1;\n        }\n        for(int i = 0; i &lt; factorial(n);i++){\n            for(int j = 0; j &lt; n; j++) {\n                if(j==n-1){\n                    continue;\n                }\n                int t = array[j];\n                array[j] = array[j+1];\n                array[j+1] = t;\n            }\n            for(int k =0;k&lt;n;k++){\n                System.out.print(array[k]);\n            }\n            System.out.println();\n            }\n\n\n        }\n   }\n</code></pre>\n<p>What should it be:</p>\n<p>123\n213\n231\n132\n312\n321</p>\n<p>But it turns out like this:</p>\n<p>231\n312\n123\n231\n312\n123</p>\n<p>How can a permutation be done the way it should?</p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1648140106,"post_id":71606208,"comment_id":126554691,"body_markdown":"Because an exception is thrown on the previous line, because `2/0` results in an `ArithmeticException`.","body":"Because an exception is thrown on the previous line, because <code>2&#47;0</code> results in an <code>ArithmeticException</code>."}],"answers":[{"tags":[],"owner":{"account_id":19923129,"reputation":112,"user_id":14598473,"display_name":"KhushThakor"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1648140875,"creation_date":1648140387,"answer_id":71606325,"question_id":71606208,"body_markdown":"For Exception handling we would use a try catch statement like \r\n \r\n\r\n    try {\r\n        System.out.println(2/0);\r\n    }catch(ArithmeticException e) {\r\n      \tSystem.out.println(&quot;Please Be Careful&quot;);\r\n    }\r\n\r\nIn your case the Custom Exception is not showing up since in the previous line you have a AthmeticExcpetion hence that exception will be thrown and Java will stop and not execute you exception.\r\n","title":"Java throw keyword","body":"<p>For Exception handling we would use a try catch statement like</p>\n<pre><code>try {\n    System.out.println(2/0);\n}catch(ArithmeticException e) {\n    System.out.println(&quot;Please Be Careful&quot;);\n}\n</code></pre>\n<p>In your case the Custom Exception is not showing up since in the previous line you have a AthmeticExcpetion hence that exception will be thrown and Java will stop and not execute you exception.</p>\n"}],"owner":{"account_id":18790445,"reputation":61,"user_id":13703014,"display_name":"kartikay dwivedi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648140875,"creation_date":1648139947,"question_id":71606208,"body_markdown":"```\r\npublic class MyThrow {\r\n    public static void main(String[] args) {\r\n        System.out.println(2/0);\r\n        throw new ArithmeticException(&quot;please be carefull&quot;);\r\n    }\r\n}\r\n```\r\n\r\nWhy is the custom exception not showing?\r\nIt is showing the default one.","title":"Java throw keyword","body":"<pre><code>public class MyThrow {\n    public static void main(String[] args) {\n        System.out.println(2/0);\n        throw new ArithmeticException(&quot;please be carefull&quot;);\n    }\n}\n</code></pre>\n<p>Why is the custom exception not showing?\nIt is showing the default one.</p>\n"},{"tags":["java","httpclient"],"comments":[{"owner":{"account_id":2078462,"reputation":10342,"user_id":2986984,"accept_rate":80,"display_name":"tkruse"},"score":0,"creation_date":1584066487,"post_id":30889984,"comment_id":107329275,"body_markdown":"related: https://stackoverflow.com/questions/21574478","body":"related: <a href=\"https://stackoverflow.com/questions/21574478\">stackoverflow.com/questions/21574478</a>"}],"answers":[{"tags":[],"owner":{"account_id":330575,"reputation":1167,"user_id":654765,"accept_rate":88,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1467296894,"creation_date":1438016552,"answer_id":31659073,"question_id":30889984,"body_markdown":"&lt;!-- language-all: java --&gt;\r\n\r\nShort answer:\r\n\r\n`request.releaseConnection()` is releasing the underlying HTTP connection to allow it to be reused. `response.close()` is closing a stream (not a connection), this stream is the response content we are streaming from the network socket.\r\n\r\n\r\nLong Answer:\r\n\r\nThe correct pattern to follow in any recent version &gt; 4.2 and probably even before that, is not to use `releaseConnection`.  \r\n\r\n`request.releaseConnection()` releases the underlying httpConnection so the request can be reused, however the Java doc says: \r\n\r\n&gt; A convenience method to simplify migration from HttpClient 3.1 API...\r\n\r\nInstead of releasing the connection, we ensure the response content is fully consumed which in turn ensures the connection is released and ready for reuse. A short example is shown below:\r\n\r\n    CloseableHttpClient httpclient = HttpClients.createDefault();\r\n    HttpGet httpGet = new HttpGet(&quot;http://targethost/homepage&quot;);\r\n    CloseableHttpResponse response1 = httpclient.execute(httpGet);\r\n    try {\r\n        System.out.println(response1.getStatusLine());\r\n        HttpEntity entity1 = response1.getEntity();\r\n        // do something useful with the response body\r\n\t    String bodyAsString = EntityUtils.toString(exportResponse.getEntity());\r\n        System.out.println(bodyAsString);\r\n        // and ensure it is fully consumed (this is how stream is released.\r\n        EntityUtils.consume(entity1);\r\n    } finally {\r\n        response1.close();\r\n    }\r\n\r\n\r\n  [1]: http://hc.apache.org/httpcomponents-client-4.2.x/quickstart.html","title":"What&#39;s the difference between CloseableHttpResponse.close() and httpPost.releaseConnection()?","body":"\n\n<p>Short answer:</p>\n\n<p><code>request.releaseConnection()</code> is releasing the underlying HTTP connection to allow it to be reused. <code>response.close()</code> is closing a stream (not a connection), this stream is the response content we are streaming from the network socket.</p>\n\n<p>Long Answer:</p>\n\n<p>The correct pattern to follow in any recent version > 4.2 and probably even before that, is not to use <code>releaseConnection</code>.  </p>\n\n<p><code>request.releaseConnection()</code> releases the underlying httpConnection so the request can be reused, however the Java doc says: </p>\n\n<blockquote>\n  <p>A convenience method to simplify migration from HttpClient 3.1 API...</p>\n</blockquote>\n\n<p>Instead of releasing the connection, we ensure the response content is fully consumed which in turn ensures the connection is released and ready for reuse. A short example is shown below:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>CloseableHttpClient httpclient = HttpClients.createDefault();\nHttpGet httpGet = new HttpGet(\"http://targethost/homepage\");\nCloseableHttpResponse response1 = httpclient.execute(httpGet);\ntry {\n    System.out.println(response1.getStatusLine());\n    HttpEntity entity1 = response1.getEntity();\n    // do something useful with the response body\n    String bodyAsString = EntityUtils.toString(exportResponse.getEntity());\n    System.out.println(bodyAsString);\n    // and ensure it is fully consumed (this is how stream is released.\n    EntityUtils.consume(entity1);\n} finally {\n    response1.close();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2025979,"reputation":2522,"user_id":1810962,"accept_rate":80,"display_name":"joseph"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648140710,"creation_date":1648140710,"answer_id":71606409,"question_id":30889984,"body_markdown":"1. `CloseableHttpResponse.close()` closes the tcp socket\r\n2. `HttpPost.releaseConnection()` closes the tcp socket\r\n3. `EntityUtils.consume(response.getEntity())` allows you to re-use the tcp socket\r\n\r\n**Details**\r\n\r\n\r\n`CloseableHttpResponse.close()` closes the tcp socket, preventing the connection from being re-used. You need to establish a new tcp connection in order to initiate another request.\r\n\r\nThis is the call chain that lead me to the above conclusion:\r\n\r\n1. HttpResponseProxy.close()\r\n2. -&gt; ConnectionHolder.close()\r\n3. -&gt; ConnectionHolder.releaseConnection(reusable=false)\r\n4. -&gt; managedConn.close()\r\n5. -&gt; BHttpConnectionBase.close()\r\n6. -&gt; Socket.close() \r\n\r\n\r\n`HttpPost.releaseConnection()` also closes the Socket. This is the call chain that lead me to the above conclusion:\r\n\r\n1. HttpPost.releaseConnection()\r\n2. HttpRequestBase.releaseConnect()\r\n3. AbstractExecutionAwareRequest.reset()\r\n4. ConnectionHolder.cancel() (\r\n5. ConnectionHolder.abortConnection()\r\n6. HttpConnection.shutdown()\r\n\r\nHere is experimental code that also demonstrates the above three facts:\r\n\r\n```\r\nimport java.lang.reflect.Constructor;\r\nimport java.net.Socket;\r\nimport java.net.SocketImpl;\r\nimport java.net.SocketImplFactory;\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\nimport org.apache.http.client.methods.CloseableHttpResponse;\r\nimport org.apache.http.client.methods.HttpGet;\r\nimport org.apache.http.impl.client.CloseableHttpClient;\r\nimport org.apache.http.impl.client.HttpClientBuilder;\r\nimport org.apache.http.util.EntityUtils;\r\n\r\npublic class Main {\r\n\r\n    private static SocketImpl newSocketImpl() {\r\n        try {\r\n            Class&lt;?&gt; defaultSocketImpl = Class.forName(&quot;java.net.SocksSocketImpl&quot;);\r\n            Constructor&lt;?&gt; constructor = defaultSocketImpl.getDeclaredConstructor();\r\n            constructor.setAccessible(true);\r\n            return (SocketImpl) constructor.newInstance();\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        // this is a hack that lets me listen to Tcp socket creation\r\n        final List&lt;SocketImpl&gt; allSockets = Collections.synchronizedList(new ArrayList&lt;&gt;());\r\n        Socket.setSocketImplFactory(new SocketImplFactory() {\r\n            public SocketImpl createSocketImpl() {\r\n                SocketImpl socket = newSocketImpl();\r\n                allSockets.add(socket);\r\n                return socket;\r\n            }\r\n        });\r\n\r\n        System.out.println(&quot;num of sockets after start: &quot; + allSockets.size());\r\n        CloseableHttpClient client = HttpClientBuilder.create().build();\r\n        System.out.println(&quot;num of sockets after client created: &quot; + allSockets.size());\r\n        HttpGet request = new HttpGet(&quot;http://www.google.com&quot;);\r\n        System.out.println(&quot;num of sockets after get created: &quot; + allSockets.size());\r\n        CloseableHttpResponse response = client.execute(request);\r\n        System.out.println(&quot;num of sockets after get executed: &quot; + allSockets.size());\r\n        response.close();\r\n        System.out.println(&quot;num of sockets after response closed: &quot; + allSockets.size());\r\n        response = client.execute(request);\r\n        System.out.println(&quot;num of sockets after request executed again: &quot; + allSockets.size());\r\n        request.releaseConnection();\r\n        System.out.println(&quot;num of sockets after release connection: &quot; + allSockets.size());\r\n        response = client.execute(request);\r\n        System.out.println(&quot;num of sockets after request executed again for 3rd time: &quot; + allSockets.size());\r\n        EntityUtils.consume(response.getEntity());\r\n        System.out.println(&quot;num of sockets after entityConsumed: &quot; + allSockets.size());\r\n        response = client.execute(request);\r\n        System.out.println(&quot;num of sockets after request executed again for 4th time: &quot; + allSockets.size());\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\npom.xml\r\n```\r\n&lt;project&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n\r\n    &lt;groupId&gt;org.joseph&lt;/groupId&gt;\r\n    &lt;artifactId&gt;close.vs.release.conn&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n         &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n            &lt;version&gt;4.5.13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nOutput:\r\n```\r\nnum of sockets after start: 0\r\nnum of sockets after client created: 0\r\nnum of sockets after get created: 0\r\nnum of sockets after get executed: 1\r\nnum of sockets after response closed: 1\r\nnum of sockets after request executed again: 2\r\nnum of sockets after release connection: 2\r\nnum of sockets after request executed again for 3rd time: 3\r\nnum of sockets after entityConsumed: 3\r\nnum of sockets after request executed again for 4th time: 3\r\n```\r\n\r\nNotice that both `.close()` and `.releaseConnection()` both result in a new tcp connection. Only consuming the entity allows you to re-use the tcp connection.\r\n\r\nIf you want the connect to be re-usable after each request, then you need to do what @Matt recommended and consume the entity.","title":"What&#39;s the difference between CloseableHttpResponse.close() and httpPost.releaseConnection()?","body":"<ol>\n<li><code>CloseableHttpResponse.close()</code> closes the tcp socket</li>\n<li><code>HttpPost.releaseConnection()</code> closes the tcp socket</li>\n<li><code>EntityUtils.consume(response.getEntity())</code> allows you to re-use the tcp socket</li>\n</ol>\n<p><strong>Details</strong></p>\n<p><code>CloseableHttpResponse.close()</code> closes the tcp socket, preventing the connection from being re-used. You need to establish a new tcp connection in order to initiate another request.</p>\n<p>This is the call chain that lead me to the above conclusion:</p>\n<ol>\n<li>HttpResponseProxy.close()</li>\n<li>-&gt; ConnectionHolder.close()</li>\n<li>-&gt; ConnectionHolder.releaseConnection(reusable=false)</li>\n<li>-&gt; managedConn.close()</li>\n<li>-&gt; BHttpConnectionBase.close()</li>\n<li>-&gt; Socket.close()</li>\n</ol>\n<p><code>HttpPost.releaseConnection()</code> also closes the Socket. This is the call chain that lead me to the above conclusion:</p>\n<ol>\n<li>HttpPost.releaseConnection()</li>\n<li>HttpRequestBase.releaseConnect()</li>\n<li>AbstractExecutionAwareRequest.reset()</li>\n<li>ConnectionHolder.cancel() (</li>\n<li>ConnectionHolder.abortConnection()</li>\n<li>HttpConnection.shutdown()</li>\n</ol>\n<p>Here is experimental code that also demonstrates the above three facts:</p>\n<pre><code>import java.lang.reflect.Constructor;\nimport java.net.Socket;\nimport java.net.SocketImpl;\nimport java.net.SocketImplFactory;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\n\nimport org.apache.http.client.methods.CloseableHttpResponse;\nimport org.apache.http.client.methods.HttpGet;\nimport org.apache.http.impl.client.CloseableHttpClient;\nimport org.apache.http.impl.client.HttpClientBuilder;\nimport org.apache.http.util.EntityUtils;\n\npublic class Main {\n\n    private static SocketImpl newSocketImpl() {\n        try {\n            Class&lt;?&gt; defaultSocketImpl = Class.forName(&quot;java.net.SocksSocketImpl&quot;);\n            Constructor&lt;?&gt; constructor = defaultSocketImpl.getDeclaredConstructor();\n            constructor.setAccessible(true);\n            return (SocketImpl) constructor.newInstance();\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public static void main(String[] args) throws Exception {\n        // this is a hack that lets me listen to Tcp socket creation\n        final List&lt;SocketImpl&gt; allSockets = Collections.synchronizedList(new ArrayList&lt;&gt;());\n        Socket.setSocketImplFactory(new SocketImplFactory() {\n            public SocketImpl createSocketImpl() {\n                SocketImpl socket = newSocketImpl();\n                allSockets.add(socket);\n                return socket;\n            }\n        });\n\n        System.out.println(&quot;num of sockets after start: &quot; + allSockets.size());\n        CloseableHttpClient client = HttpClientBuilder.create().build();\n        System.out.println(&quot;num of sockets after client created: &quot; + allSockets.size());\n        HttpGet request = new HttpGet(&quot;http://www.google.com&quot;);\n        System.out.println(&quot;num of sockets after get created: &quot; + allSockets.size());\n        CloseableHttpResponse response = client.execute(request);\n        System.out.println(&quot;num of sockets after get executed: &quot; + allSockets.size());\n        response.close();\n        System.out.println(&quot;num of sockets after response closed: &quot; + allSockets.size());\n        response = client.execute(request);\n        System.out.println(&quot;num of sockets after request executed again: &quot; + allSockets.size());\n        request.releaseConnection();\n        System.out.println(&quot;num of sockets after release connection: &quot; + allSockets.size());\n        response = client.execute(request);\n        System.out.println(&quot;num of sockets after request executed again for 3rd time: &quot; + allSockets.size());\n        EntityUtils.consume(response.getEntity());\n        System.out.println(&quot;num of sockets after entityConsumed: &quot; + allSockets.size());\n        response = client.execute(request);\n        System.out.println(&quot;num of sockets after request executed again for 4th time: &quot; + allSockets.size());\n    }\n\n}\n\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;project&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    \n\n    &lt;groupId&gt;org.joseph&lt;/groupId&gt;\n    &lt;artifactId&gt;close.vs.release.conn&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n         &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n            &lt;version&gt;4.5.13&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Output:</p>\n<pre><code>num of sockets after start: 0\nnum of sockets after client created: 0\nnum of sockets after get created: 0\nnum of sockets after get executed: 1\nnum of sockets after response closed: 1\nnum of sockets after request executed again: 2\nnum of sockets after release connection: 2\nnum of sockets after request executed again for 3rd time: 3\nnum of sockets after entityConsumed: 3\nnum of sockets after request executed again for 4th time: 3\n</code></pre>\n<p>Notice that both <code>.close()</code> and <code>.releaseConnection()</code> both result in a new tcp connection. Only consuming the entity allows you to re-use the tcp connection.</p>\n<p>If you want the connect to be re-usable after each request, then you need to do what @Matt recommended and consume the entity.</p>\n"}],"owner":{"account_id":6482711,"reputation":261,"user_id":5019233,"display_name":"wyang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46919,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"answer_count":2,"score":26,"last_activity_date":1648140710,"creation_date":1434539840,"question_id":30889984,"body_markdown":"    CloseableHttpResponse response = null;\r\n    try {\r\n        // do some thing ....\r\n        HttpPost request = new HttpPost(&quot;some url&quot;);\r\n        response = getHttpClient().execute(request);\r\n        // do some other thing ....\r\n    } catch(Exception e) {\r\n        // deal with exception\r\n    } finally {\r\n        if(response != null) {\r\n            try {\r\n                response.close(); // (1)\r\n            } catch(Exception e) {}\r\n            request.releaseConnection(); // (2)\r\n        }\r\n    }\r\n\r\nI&#39;ve made a http request like above.\r\n\r\nIn order to release the underlying connection, is it correct to call (1) and (2)? and what&#39;s the difference between the two invocation?\r\n","title":"What&#39;s the difference between CloseableHttpResponse.close() and httpPost.releaseConnection()?","body":"<pre><code>CloseableHttpResponse response = null;\ntry {\n    // do some thing ....\n    HttpPost request = new HttpPost(\"some url\");\n    response = getHttpClient().execute(request);\n    // do some other thing ....\n} catch(Exception e) {\n    // deal with exception\n} finally {\n    if(response != null) {\n        try {\n            response.close(); // (1)\n        } catch(Exception e) {}\n        request.releaseConnection(); // (2)\n    }\n}\n</code></pre>\n\n<p>I've made a http request like above.</p>\n\n<p>In order to release the underlying connection, is it correct to call (1) and (2)? and what's the difference between the two invocation?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":3,"creation_date":1648131969,"post_id":71604247,"comment_id":126551090,"body_markdown":"Didn&#39;t read the body of the question, but you can&#39;t name a constructor with a &quot;random name&quot;. The syntax of declaring a constructor is *always* `[public/private] TheClassName([0 or more parameters]) { ... }`, where square brackets denote optionality","body":"Didn&#39;t read the body of the question, but you can&#39;t name a constructor with a &quot;random name&quot;. The syntax of declaring a constructor is <i>always</i> <code>[public&#47;private] TheClassName([0 or more parameters]) { ... }</code>, where square brackets denote optionality"},{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1648132005,"post_id":71604247,"comment_id":126551109,"body_markdown":"neither `public void Point(int x)`  nor `public int Point(int x)` would be a constructor for the class `Point` because constructors do not have return types. And a constructor name always has to match the class name by definition.","body":"neither <code>public void Point(int x)</code>  nor <code>public int Point(int x)</code> would be a constructor for the class <code>Point</code> because constructors do not have return types. And a constructor name always has to match the class name by definition."},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1648132059,"post_id":71604247,"comment_id":126551129,"body_markdown":"Hint: `public void Point(...) { ... }` or `public int Point(...) { ... }` do not declare a constructor but a method. Constructors are not allowed to declare a return type.","body":"Hint: <code>public void Point(...) { ... }</code> or <code>public int Point(...) { ... }</code> do not declare a constructor but a method. Constructors are not allowed to declare a return type."},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1648132122,"post_id":71604247,"comment_id":126551165,"body_markdown":"why would you do that? When I change a tire on my car, I don&#39;t say &quot;hey, look! I&#39;m creating a car&quot;, I say &quot;I&#39;m changing a tire&quot;. There is a good reason for having a different naming convention for constructors and setters.","body":"why would you do that? When I change a tire on my car, I don&#39;t say &quot;hey, look! I&#39;m creating a car&quot;, I say &quot;I&#39;m changing a tire&quot;. There is a good reason for having a different naming convention for constructors and setters."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1648132149,"post_id":71604247,"comment_id":126551176,"body_markdown":"The only thing that you can change for a constructors signature is the arguments it receives. So you can do `public Point()` for a no-args default constructor or `public Point(int x)` for a constructor that needs an int as argument for example","body":"The only thing that you can change for a constructors signature is the arguments it receives. So you can do <code>public Point()</code> for a no-args default constructor or <code>public Point(int x)</code> for a constructor that needs an int as argument for example"}],"answers":[{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1648140554,"creation_date":1648132059,"answer_id":71604305,"question_id":71604247,"body_markdown":"Well, I think you are confused about constructors. They have two requirements:\r\n\r\n* They have to have the same name as the enclosing class;\r\n* They have no return type.\r\n\r\nSo no, `void Point()` is never a constructor. And within the `Point` class, anything other than `Point` will never be a constructor.\r\n\r\nNote that writing `void Point()` is still valid (unfortunately), but it is not a constructor, but just a regular method which happens to have the same name as its enclosing class. The compiler can tell them apart, because their usage is never ambiguous. However, you **should never** give your method the same name as the enclosing class, as it is both confusing and it violates the [Java Naming Conventions][1].\r\n\r\nAlso note that the compiler automatically generates a no-argument constructor for you if you don&#39;t define any constructor.\r\n\r\nSo this:\r\n\r\n```java\r\nclass Point {\r\n    public void setX(int x) { this.x = x; }\r\n    public void setY(int y) { this.y = y; }\r\n    public int getX() { return x; }\r\n    public int getY() { return y; }\r\n}\r\n```\r\n\r\nis equivalent to this:\r\n\r\n```java\r\nclass Point {\r\n\r\n    public Point() { }\r\n\r\n    public void setX(int x) { this.x = x; }\r\n    public void setY(int y) { this.y = y; }\r\n    public int getX() { return x; }\r\n    public int getY() { return y; }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html","title":"Difference between naming a constructor with the same name as a name of the class vs naming it with random name","body":"<p>Well, I think you are confused about constructors. They have two requirements:</p>\n<ul>\n<li>They have to have the same name as the enclosing class;</li>\n<li>They have no return type.</li>\n</ul>\n<p>So no, <code>void Point()</code> is never a constructor. And within the <code>Point</code> class, anything other than <code>Point</code> will never be a constructor.</p>\n<p>Note that writing <code>void Point()</code> is still valid (unfortunately), but it is not a constructor, but just a regular method which happens to have the same name as its enclosing class. The compiler can tell them apart, because their usage is never ambiguous. However, you <strong>should never</strong> give your method the same name as the enclosing class, as it is both confusing and it violates the <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">Java Naming Conventions</a>.</p>\n<p>Also note that the compiler automatically generates a no-argument constructor for you if you don't define any constructor.</p>\n<p>So this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Point {\n    public void setX(int x) { this.x = x; }\n    public void setY(int y) { this.y = y; }\n    public int getX() { return x; }\n    public int getY() { return y; }\n}\n</code></pre>\n<p>is equivalent to this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Point {\n\n    public Point() { }\n\n    public void setX(int x) { this.x = x; }\n    public void setY(int y) { this.y = y; }\n    public int getX() { return x; }\n    public int getY() { return y; }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13501260,"reputation":31,"user_id":9740627,"display_name":"Francis Lewis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1648132151,"creation_date":1648132151,"answer_id":71604332,"question_id":71604247,"body_markdown":"Constructors do not have a return type.  For example,\r\n\r\n```\r\npublic Point(int x, int y) {\r\n    this.x = x;\r\n    this.y = y;\r\n}\r\n```\r\n\r\nTrying to define it this way ...\r\n\r\n```\r\npublic int Point(int x) {}\r\n```\r\n\r\n... is actually declaring a method, just confusingly with the same name as the class.","title":"Difference between naming a constructor with the same name as a name of the class vs naming it with random name","body":"<p>Constructors do not have a return type.  For example,</p>\n<pre><code>public Point(int x, int y) {\n    this.x = x;\n    this.y = y;\n}\n</code></pre>\n<p>Trying to define it this way ...</p>\n<pre><code>public int Point(int x) {}\n</code></pre>\n<p>... is actually declaring a method, just confusingly with the same name as the class.</p>\n"}],"owner":{"account_id":24163521,"reputation":1,"user_id":18126722,"display_name":"user18126722"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1648167282,"answer_count":2,"score":-4,"last_activity_date":1648140554,"creation_date":1648131823,"question_id":71604247,"body_markdown":"I want to ask about java programming language, to be specific about constructors. Lets say we have a class test, where we are testing the whole program, and class point, where constructors are defined (set and get method btw).\r\nClass line:\r\n\r\n```\r\npublic class Test {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\t\r\n\t\tPoint p = new Point();\r\n\t\t\r\n\r\n\t\tp.setX(10);\r\n\t\tSystem.out.println(&quot;X coordinate point1: &quot; + p.getX());\r\n\t\tp.setY(20);\r\n\t\tSystem.out.println(&quot;Y coordinate point1: &quot; + p.getY());\r\n}\r\n```\r\n\r\nClass point:\r\n\r\n```\r\npublic void setX(int x) {\r\n\t\tthis.x = x;\r\n\t}\r\n\r\n\tpublic int getX() {\r\n\t\treturn x;\r\n\t}\r\n\r\n\tpublic int getY() {\r\n\t\treturn y;\r\n\t}\r\n\r\n\tpublic void setY(int y) {\r\n\t\tthis.y = y;\r\n\t}\r\n```\r\n\r\nNow, would be a mistake if I put the name of the class Point in constructor:\r\n\r\n\r\n`public void Point(int x) { \t\tthis.x = x; \t}`\r\n\r\n\r\n`public int Point(int x)`\r\n\r\n` { \t\tthis.x = x; \t}`\r\n\r\nLogically, I suppose that I just need to rename the name of the constructor in the main method, but again, I&#39;m not so sure about that.\r\n\r\nI renamed the name of the constructor as class Point and in the main method as well, but, as I thought, it&#39;s wrong for some reason. It didn&#39;t show directly the error description","title":"Difference between naming a constructor with the same name as a name of the class vs naming it with random name","body":"<p>I want to ask about java programming language, to be specific about constructors. Lets say we have a class test, where we are testing the whole program, and class point, where constructors are defined (set and get method btw).\nClass line:</p>\n<pre><code>public class Test {\n\n    public static void main(String[] args) {\n        \n        \n        Point p = new Point();\n        \n\n        p.setX(10);\n        System.out.println(&quot;X coordinate point1: &quot; + p.getX());\n        p.setY(20);\n        System.out.println(&quot;Y coordinate point1: &quot; + p.getY());\n}\n</code></pre>\n<p>Class point:</p>\n<pre><code>public void setX(int x) {\n        this.x = x;\n    }\n\n    public int getX() {\n        return x;\n    }\n\n    public int getY() {\n        return y;\n    }\n\n    public void setY(int y) {\n        this.y = y;\n    }\n</code></pre>\n<p>Now, would be a mistake if I put the name of the class Point in constructor:</p>\n<p><code>public void Point(int x) {         this.x = x;     }</code></p>\n<p><code>public int Point(int x)</code></p>\n<p><code> {         this.x = x;     }</code></p>\n<p>Logically, I suppose that I just need to rename the name of the constructor in the main method, but again, I'm not so sure about that.</p>\n<p>I renamed the name of the constructor as class Point and in the main method as well, but, as I thought, it's wrong for some reason. It didn't show directly the error description</p>\n"},{"tags":["java","reactjs","react-native","servlets","crud"],"comments":[{"owner":{"account_id":24554625,"reputation":21,"user_id":18463386,"display_name":"Rohit Ghosh"},"score":0,"creation_date":1648208434,"post_id":71606266,"comment_id":126572078,"body_markdown":"Any help fellow coders?","body":"Any help fellow coders?"}],"owner":{"account_id":24554625,"reputation":21,"user_id":18463386,"display_name":"Rohit Ghosh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648140153,"creation_date":1648140153,"question_id":71606266,"body_markdown":"I want a solution for my problem. I am facing a problem where the data received from Search.js form is not sending data to my Java Servlet in DYNAMIC WEB PROJECT in Eclipse. I have attached the screenshots and the codes also. Please help.\r\n\r\nSearch.js Code:\r\n```\r\nimport React from &#39;react&#39;\r\nimport axios  from &#39;axios&#39;;\r\nconst  Search = () =&gt; {\r\n    \r\nconst handleSubmit = async (e) =&gt; {\r\n    const re = /^[0-9\\b]+$/\r\n    if (e.key === &quot;Enter&quot;) {\r\n        if(e.target.value===&#39;&#39; || re.test(e.target.value))\r\n        {\r\n            e.preventDefault()\r\n            let res= fetch(&quot;http://localhost:8080/Hrc/search&quot;,{\r\n            mode:&quot;no-cors&quot;,\r\n            method:&quot;POST&quot;,\r\n            headers: {\r\n                &#39;Content-Type&#39;: &#39;application/json&#39;\r\n            },\r\n            body:JSON.stringify({\r\n                cust_number:e.target.value\r\n            })})\r\n            console.log(e.target.value)\r\n            if(res.ok)\r\n            {\r\n                console.log(&quot;Successful search&quot;)\r\n            }\r\n            else{\r\n                console.log(&quot;Error&quot;)\r\n            }\r\n        }\r\n        // ... submit to API or something\r\n    }\r\n}\r\n\r\n    return (\r\n    &lt;div&gt;\r\n        &lt;div&gt;\r\n            &lt;form onSubmit=&#39;http://localhost:8080/Hrc/search&#39; method=&quot;post&quot;&gt;\r\n            &lt;input type=&quot;text&quot; name=&#39;cust_number&#39; placeholder=&#39;Search Customer Id&#39; className=&quot;sarch-button&quot; onKeyPress={handleSubmit}/&gt;\r\n            &lt;/form&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    )\r\n}\r\n\r\nexport default Search\r\n```\r\n\r\nApp.js\r\n```\r\nimport React,{ useState } from &#39;react&#39;\r\nimport {useMemo}  from &#39;react&#39;\r\nimport Logo from &#39;./components/Logo.js&#39;\r\nimport &#39;./App.css&#39;\r\nimport PredictBtn from &#39;./components/PredictBtn.js&#39;\r\nimport Analytics from &#39;./components/AnalyticsView.js&#39;\r\nimport Advsrchmodal from &#39;./components/Advsrchmodal.js&#39;\r\nimport Search from &#39;./components/Search.js&#39;\r\nimport Add from &#39;./components/Addmodal.js&#39;\r\nimport Edit from &#39;./components/Edit.js&#39;\r\nimport Delete from &#39;./components/Delete.js&#39;\r\nimport Table from &#39;./components/Table.js&#39;\r\nimport table from &#39;./assets/json/mock.json&#39;\r\nimport {Columns} from &#39;./components/column&#39;\r\nexport default function App(){\r\n  const [advmodal,setadvmodal]=useState(false)\r\n  const [addmodal,setaddmodal]=useState(false)\r\n  const [editmodal,seteditmodal]=useState(false)\r\n  const [delmodal,setdelmodal]=useState(false)\r\n  const [search,setSearch]=useState(&#39;&#39;)\r\n  const searchItems=(searchValue)=&gt;{\r\n    setSearch(searchValue)\r\n  }\r\n  const columns = useMemo(()=&gt; Columns ,[])\r\n  const data = useMemo(()=&gt; table, [])\r\n    return(\r\n    &lt;div&gt;\r\n      &lt;body&gt;\r\n      &lt;Logo /&gt;\r\n      &lt;div className=&#39;header-btns&#39;&gt;\r\n        &lt;PredictBtn/&gt;&lt;Analytics/&gt;\r\n        &lt;button onClick={()=&gt; setadvmodal(true)} className=&quot;leftbtns adv-srch-btn&quot;id=&quot;adv-srch-modal&quot;&gt;ADVANCED SEARCH&lt;/button&gt;\r\n        &lt;Advsrchmodal onClose={()=&gt; setadvmodal(false)} show={advmodal}/&gt;\r\n        \r\n        \r\n        &lt;Search handleSearch={searchItems}/&gt;\r\n      \r\n        &lt;button onClick={()=&gt; setaddmodal(true)} className=&quot;rightbtns add-btn&quot; id =&quot;add-modal&quot;&gt;ADD&lt;/button&gt;\r\n        &lt;Add onClose={()=&gt; setaddmodal(false)} show={addmodal}/&gt;\r\n      \r\n      \r\n        &lt;button onClick={()=&gt; seteditmodal(true)} className=&quot;rightbtns edit-btn&quot;&gt;EDIT&lt;/button&gt;\r\n        &lt;Edit onClose={()=&gt; seteditmodal(false)} show={editmodal}/&gt;\r\n\r\n        &lt;button onClick={()=&gt; setdelmodal(true)} className=&quot;rightbtns del-btn&quot;&gt;DELETE&lt;/button&gt;\r\n        &lt;Delete onClose={()=&gt;setdelmodal(false)} show={delmodal}/&gt;\r\n      &lt;/div&gt;\r\n      &lt;div className=&quot;Table&quot;&gt;\r\n        &lt;Table columns={Columns} data={data}/&gt;\r\n      &lt;/div&gt;\r\n      &lt;/body&gt;\r\n    &lt;/div&gt;\r\n  )\r\n}\r\n```\r\nIgnore the other imports , focus on the search import\r\n\r\nSearch.java(&#39;The Servlet&#39;) code:\r\n```\r\npackage com.highradius;\r\n\r\nimport java.io.IOException;\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.io.*;\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.annotation.WebServlet;\r\nimport jakarta.servlet.http.HttpServlet;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\n\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.GsonBuilder;\r\nimport java.io.FileWriter;\r\n\r\n@WebServlet(&quot;/servlet&quot;)\r\npublic class Search extends HttpServlet {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tstatic final String JDBC_DRIVER=&quot;com.mysql.jdbc.Driver&quot;;\r\n\tstatic final String DB_URL=&quot;jdbc:mysql://localhost:3306/grey_goose?zeroDateTimeBehavior=convertToNull&quot;;\r\n\t\r\n\tstatic final String USER=&quot;root&quot;;\r\n\tstatic final String PASSWORD=&quot;ROHITghosh1234&quot;;\r\n\t\r\n\t\r\n\r\n    public Search() {\r\n        super();\r\n        // TODO Auto-generated constructor stub\r\n    }\r\n\r\n\r\n\tprotected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t//response.getWriter().append(&quot;Served at: &quot;).append(request.getContextPath());\r\n\t\tresp.addHeader(&quot;Access-Control-Allow-Origin&quot;,&quot;http://localhost:3000&quot;);\r\n\t\tConnection conn = null;\r\n\t\tStatement stmt = null;\r\n\t\tList&lt;Response&gt; demoList = new ArrayList&lt;&gt;();\r\n\t\tString cust_number=req.getParameter(&quot;cust_number&quot;);\r\n\t\t\r\n\t\ttry {\r\n\t\t\tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\t\t\tconn = DriverManager.getConnection(DB_URL, USER, PASSWORD);\r\n\t\t\tstmt = conn.createStatement();\r\n\t\t\tString sql;\r\n\t\t\tif(cust_number==&quot;&quot;)\r\n\t\t\t\tsql=&quot;select sl_no,business_code,cust_number,clear_date,buisness_year,doc_id,posting_date,document_create_date,due_in_date,invoice_currency,document_type,posting_id,total_open_amount,baseline_create_date,cust_payment_terms,invoice_id from winter_internship&quot;;\r\n\t\t\telse\r\n\t\t\t\tsql=&quot;select sl_no,business_code,cust_number,clear_date,buisness_year,doc_id,posting_date,document_create_date,due_in_date,invoice_currency,document_type,posting_id,total_open_amount,baseline_create_date,cust_payment_terms,invoice_id from winter_internship where cust_number like &#39;&quot;+cust_number+&quot;%&#39;&quot;;\r\n\t\t\tResultSet rs=stmt.executeQuery(sql);\r\n\t\t\twhile(rs.next()) {\r\n\t\t\t\tResponse res=new Response();\r\n\t\t\t\tres.setsl_no(rs.getInt(&quot;sl_no&quot;));\r\n\t\t\t\tres.setbusiness_code(rs.getString(&quot;business_code&quot;));\r\n\t\t\t\tres.setcust_number(rs.getString(&quot;cust_number&quot;));\r\n\t\t\t\tres.setclear_date(rs.getDate(&quot;clear_date&quot;));\r\n\t\t\t\tres.setbuisness_year(rs.getInt(&quot;buisness_year&quot;));\r\n\t\t\t\tres.setdoc_id(rs.getString(&quot;doc_id&quot;));\r\n\t\t\t\tres.setposting_date(rs.getDate(&quot;posting_date&quot;));\r\n\t\t\t\tres.setdocument_create_date(rs.getDate(&quot;document_create_date&quot;));\r\n\t\t\t\tres.setdue_in_date(rs.getDate(&quot;due_in_date&quot;));\r\n\t\t\t\tres.setinvoice_currency(rs.getString(&quot;invoice_currency&quot;));\r\n\t\t\t\tres.setdocument_type(rs.getString(&quot;document_type&quot;));\r\n\t\t\t\tres.setposting_id(rs.getInt(&quot;posting_id&quot;));\r\n\t\t\t\tres.settotal_open_amount(rs.getDouble(&quot;total_open_amount&quot;));\r\n\t\t\t\tres.setbaseline_create_date(rs.getDate(&quot;baseline_create_date&quot;));\r\n\t\t\t\tres.setcust_payment_terms(rs.getString(&quot;cust_payment_terms&quot;));\r\n\t\t\t\tres.setinvoice_id(rs.getInt(&quot;invoice_id&quot;));\r\n\t\t\t\tdemoList.add(res);\r\n\t\t\t}\r\n\t\t\t\tString jsonString = getJSONStringFromObject(demoList);\r\n\t\t\t\tresp.setContentType(&quot;application/json&quot;);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tresp.getWriter().write(jsonString);\r\n\t\t\t\t\tFile files=new File(&quot;D:\\\\\\\\hrcsummerinternship\\\\\\\\src\\\\\\\\assets\\\\\\\\json\\\\\\\\searchoutput.json&quot;);\r\n\t\t\t\t\tfiles.delete();\r\n\t\t\t\t\tFileWriter file=new FileWriter(&quot;D:\\\\hrcsummerinternship\\\\src\\\\assets\\\\json\\\\searchoutput.json&quot;);\r\n\t\t\t\t\t\r\n\t\t\t\t\tfile.write(jsonString);\r\n\t\t\t\t\tfile.close();\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t\trs.close();\r\n\t\t\t\tstmt.close();\r\n\t\t\t\tconn.close();\r\n\t\t\t} catch (SQLException se) {\r\n\t\t\t\tse.printStackTrace();\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} finally {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (conn != null)\r\n\t\t\t\t\t\tconn.close();\r\n\t\t\t\t} catch (SQLException se) {\r\n\t\t\t\t\tse.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tdoGet(request, response);\r\n\t}\r\n\tprivate String getJSONStringFromObject(List&lt;Response&gt; filmlist) {\r\n\t\tGson gson = new GsonBuilder().setPrettyPrinting().create();\r\n\t\tString json = gson.toJson(filmlist);\r\n\t\t//System.out.print(json);\r\n\t\treturn json;\r\n\t}\r\n\r\n}\r\n```\r\n\r\n[Folder Structure][1]\r\n\r\n\r\n[Console output][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dqCYb.png\r\n  [2]: https://i.stack.imgur.com/CrKbo.png\r\n\r\n\r\nI have also used axios, but to no avail. Please Help","title":"React form data to Java Servlet","body":"<p>I want a solution for my problem. I am facing a problem where the data received from Search.js form is not sending data to my Java Servlet in DYNAMIC WEB PROJECT in Eclipse. I have attached the screenshots and the codes also. Please help.</p>\n<p>Search.js Code:</p>\n<pre><code>import React from 'react'\nimport axios  from 'axios';\nconst  Search = () =&gt; {\n    \nconst handleSubmit = async (e) =&gt; {\n    const re = /^[0-9\\b]+$/\n    if (e.key === &quot;Enter&quot;) {\n        if(e.target.value==='' || re.test(e.target.value))\n        {\n            e.preventDefault()\n            let res= fetch(&quot;http://localhost:8080/Hrc/search&quot;,{\n            mode:&quot;no-cors&quot;,\n            method:&quot;POST&quot;,\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body:JSON.stringify({\n                cust_number:e.target.value\n            })})\n            console.log(e.target.value)\n            if(res.ok)\n            {\n                console.log(&quot;Successful search&quot;)\n            }\n            else{\n                console.log(&quot;Error&quot;)\n            }\n        }\n        // ... submit to API or something\n    }\n}\n\n    return (\n    &lt;div&gt;\n        &lt;div&gt;\n            &lt;form onSubmit='http://localhost:8080/Hrc/search' method=&quot;post&quot;&gt;\n            &lt;input type=&quot;text&quot; name='cust_number' placeholder='Search Customer Id' className=&quot;sarch-button&quot; onKeyPress={handleSubmit}/&gt;\n            &lt;/form&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    )\n}\n\nexport default Search\n</code></pre>\n<p>App.js</p>\n<pre><code>import React,{ useState } from 'react'\nimport {useMemo}  from 'react'\nimport Logo from './components/Logo.js'\nimport './App.css'\nimport PredictBtn from './components/PredictBtn.js'\nimport Analytics from './components/AnalyticsView.js'\nimport Advsrchmodal from './components/Advsrchmodal.js'\nimport Search from './components/Search.js'\nimport Add from './components/Addmodal.js'\nimport Edit from './components/Edit.js'\nimport Delete from './components/Delete.js'\nimport Table from './components/Table.js'\nimport table from './assets/json/mock.json'\nimport {Columns} from './components/column'\nexport default function App(){\n  const [advmodal,setadvmodal]=useState(false)\n  const [addmodal,setaddmodal]=useState(false)\n  const [editmodal,seteditmodal]=useState(false)\n  const [delmodal,setdelmodal]=useState(false)\n  const [search,setSearch]=useState('')\n  const searchItems=(searchValue)=&gt;{\n    setSearch(searchValue)\n  }\n  const columns = useMemo(()=&gt; Columns ,[])\n  const data = useMemo(()=&gt; table, [])\n    return(\n    &lt;div&gt;\n      &lt;body&gt;\n      &lt;Logo /&gt;\n      &lt;div className='header-btns'&gt;\n        &lt;PredictBtn/&gt;&lt;Analytics/&gt;\n        &lt;button onClick={()=&gt; setadvmodal(true)} className=&quot;leftbtns adv-srch-btn&quot;id=&quot;adv-srch-modal&quot;&gt;ADVANCED SEARCH&lt;/button&gt;\n        &lt;Advsrchmodal onClose={()=&gt; setadvmodal(false)} show={advmodal}/&gt;\n        \n        \n        &lt;Search handleSearch={searchItems}/&gt;\n      \n        &lt;button onClick={()=&gt; setaddmodal(true)} className=&quot;rightbtns add-btn&quot; id =&quot;add-modal&quot;&gt;ADD&lt;/button&gt;\n        &lt;Add onClose={()=&gt; setaddmodal(false)} show={addmodal}/&gt;\n      \n      \n        &lt;button onClick={()=&gt; seteditmodal(true)} className=&quot;rightbtns edit-btn&quot;&gt;EDIT&lt;/button&gt;\n        &lt;Edit onClose={()=&gt; seteditmodal(false)} show={editmodal}/&gt;\n\n        &lt;button onClick={()=&gt; setdelmodal(true)} className=&quot;rightbtns del-btn&quot;&gt;DELETE&lt;/button&gt;\n        &lt;Delete onClose={()=&gt;setdelmodal(false)} show={delmodal}/&gt;\n      &lt;/div&gt;\n      &lt;div className=&quot;Table&quot;&gt;\n        &lt;Table columns={Columns} data={data}/&gt;\n      &lt;/div&gt;\n      &lt;/body&gt;\n    &lt;/div&gt;\n  )\n}\n</code></pre>\n<p>Ignore the other imports , focus on the search import</p>\n<p>Search.java('The Servlet') code:</p>\n<pre><code>package com.highradius;\n\nimport java.io.IOException;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.io.*;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.annotation.WebServlet;\nimport jakarta.servlet.http.HttpServlet;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\n\nimport com.google.gson.Gson;\nimport com.google.gson.GsonBuilder;\nimport java.io.FileWriter;\n\n@WebServlet(&quot;/servlet&quot;)\npublic class Search extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n    static final String JDBC_DRIVER=&quot;com.mysql.jdbc.Driver&quot;;\n    static final String DB_URL=&quot;jdbc:mysql://localhost:3306/grey_goose?zeroDateTimeBehavior=convertToNull&quot;;\n    \n    static final String USER=&quot;root&quot;;\n    static final String PASSWORD=&quot;ROHITghosh1234&quot;;\n    \n    \n\n    public Search() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n\n\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n        // TODO Auto-generated method stub\n        //response.getWriter().append(&quot;Served at: &quot;).append(request.getContextPath());\n        resp.addHeader(&quot;Access-Control-Allow-Origin&quot;,&quot;http://localhost:3000&quot;);\n        Connection conn = null;\n        Statement stmt = null;\n        List&lt;Response&gt; demoList = new ArrayList&lt;&gt;();\n        String cust_number=req.getParameter(&quot;cust_number&quot;);\n        \n        try {\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            conn = DriverManager.getConnection(DB_URL, USER, PASSWORD);\n            stmt = conn.createStatement();\n            String sql;\n            if(cust_number==&quot;&quot;)\n                sql=&quot;select sl_no,business_code,cust_number,clear_date,buisness_year,doc_id,posting_date,document_create_date,due_in_date,invoice_currency,document_type,posting_id,total_open_amount,baseline_create_date,cust_payment_terms,invoice_id from winter_internship&quot;;\n            else\n                sql=&quot;select sl_no,business_code,cust_number,clear_date,buisness_year,doc_id,posting_date,document_create_date,due_in_date,invoice_currency,document_type,posting_id,total_open_amount,baseline_create_date,cust_payment_terms,invoice_id from winter_internship where cust_number like '&quot;+cust_number+&quot;%'&quot;;\n            ResultSet rs=stmt.executeQuery(sql);\n            while(rs.next()) {\n                Response res=new Response();\n                res.setsl_no(rs.getInt(&quot;sl_no&quot;));\n                res.setbusiness_code(rs.getString(&quot;business_code&quot;));\n                res.setcust_number(rs.getString(&quot;cust_number&quot;));\n                res.setclear_date(rs.getDate(&quot;clear_date&quot;));\n                res.setbuisness_year(rs.getInt(&quot;buisness_year&quot;));\n                res.setdoc_id(rs.getString(&quot;doc_id&quot;));\n                res.setposting_date(rs.getDate(&quot;posting_date&quot;));\n                res.setdocument_create_date(rs.getDate(&quot;document_create_date&quot;));\n                res.setdue_in_date(rs.getDate(&quot;due_in_date&quot;));\n                res.setinvoice_currency(rs.getString(&quot;invoice_currency&quot;));\n                res.setdocument_type(rs.getString(&quot;document_type&quot;));\n                res.setposting_id(rs.getInt(&quot;posting_id&quot;));\n                res.settotal_open_amount(rs.getDouble(&quot;total_open_amount&quot;));\n                res.setbaseline_create_date(rs.getDate(&quot;baseline_create_date&quot;));\n                res.setcust_payment_terms(rs.getString(&quot;cust_payment_terms&quot;));\n                res.setinvoice_id(rs.getInt(&quot;invoice_id&quot;));\n                demoList.add(res);\n            }\n                String jsonString = getJSONStringFromObject(demoList);\n                resp.setContentType(&quot;application/json&quot;);\n                try {\n                    resp.getWriter().write(jsonString);\n                    File files=new File(&quot;D:\\\\\\\\hrcsummerinternship\\\\\\\\src\\\\\\\\assets\\\\\\\\json\\\\\\\\searchoutput.json&quot;);\n                    files.delete();\n                    FileWriter file=new FileWriter(&quot;D:\\\\hrcsummerinternship\\\\src\\\\assets\\\\json\\\\searchoutput.json&quot;);\n                    \n                    file.write(jsonString);\n                    file.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n                rs.close();\n                stmt.close();\n                conn.close();\n            } catch (SQLException se) {\n                se.printStackTrace();\n            } catch (Exception e) {\n                e.printStackTrace();\n            } finally {\n                try {\n                    if (conn != null)\n                        conn.close();\n                } catch (SQLException se) {\n                    se.printStackTrace();\n                }\n            }\n        }\n\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        // TODO Auto-generated method stub\n        doGet(request, response);\n    }\n    private String getJSONStringFromObject(List&lt;Response&gt; filmlist) {\n        Gson gson = new GsonBuilder().setPrettyPrinting().create();\n        String json = gson.toJson(filmlist);\n        //System.out.print(json);\n        return json;\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/dqCYb.png\" rel=\"nofollow noreferrer\">Folder Structure</a></p>\n<p><a href=\"https://i.stack.imgur.com/CrKbo.png\" rel=\"nofollow noreferrer\">Console output</a></p>\n<p>I have also used axios, but to no avail. Please Help</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":24676353,"reputation":11,"user_id":18570692,"display_name":"user18570692"},"score":1,"creation_date":1648141446,"post_id":71606258,"comment_id":126555261,"body_markdown":"Yeah but I never used the method Arrays.copyOfRange in my code","body":"Yeah but I never used the method Arrays.copyOfRange in my code"},{"owner":{"account_id":24676353,"reputation":11,"user_id":18570692,"display_name":"user18570692"},"score":0,"creation_date":1648141567,"post_id":71606258,"comment_id":126555316,"body_markdown":"And @OHGODSPIDERS by me saying the code used to work before is because maybe JAVAFX has changed or opens the possibility my code is outdated","body":"And @OHGODSPIDERS by me saying the code used to work before is because maybe JAVAFX has changed or opens the possibility my code is outdated"},{"owner":{"account_id":24676353,"reputation":11,"user_id":18570692,"display_name":"user18570692"},"score":1,"creation_date":1648141709,"post_id":71606258,"comment_id":126555371,"body_markdown":"Also i checked through my code and I don&#39;t even use arrays in it, I prefer arraylists","body":"Also i checked through my code and I don&#39;t even use arrays in it, I prefer arraylists"},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1648141752,"post_id":71606258,"comment_id":126555383,"body_markdown":"Okay, So the stacktrace doesn&#39;t even mention any part of your code? Do I understand that correct?","body":"Okay, So the stacktrace doesn&#39;t even mention any part of your code? Do I understand that correct?"},{"owner":{"account_id":24676353,"reputation":11,"user_id":18570692,"display_name":"user18570692"},"score":1,"creation_date":1648141896,"post_id":71606258,"comment_id":126555453,"body_markdown":"Yeah, it doesn&#39;t mention anything in the code, which is why im so confused","body":"Yeah, it doesn&#39;t mention anything in the code, which is why im so confused"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1648142434,"post_id":71606258,"comment_id":126555673,"body_markdown":"Hm, looking at https://code.yawk.at/java/13/jdk.compiler/com/sun/tools/javac/launcher/Main.java#com.sun.tools.javac.launcher.Main%23execute%28java.lang.String%2Cjava.lang.String%5B%5D%2Ccom.sun.tools.javac.launcher.Main.Context%29 it looks to me like the problem is that an `InvocationTargetException` is thrown and before that gets passed higher/rethrown the code tries to modify its stacktrace where the Arrays.copyOfRange method is used and the above runtime exception happens. Unfortunately this looks like the original `InvocationTargetException` is swallowed and the original error msg is lost","body":"Hm, looking at <a href=\"https://code.yawk.at/java/13/jdk.compiler/com/sun/tools/javac/launcher/Main.java#com.sun.tools.javac.launcher.Main%23execute%28java.lang.String%2Cjava.lang.String%5B%5D%2Ccom.sun.tools.javac.launcher.Main.Context%29\" rel=\"nofollow noreferrer\">code.yawk.at/java/13/jdk.compiler/com/sun/tools/javac/launch&zwnj;&#8203;er/&hellip;</a> it looks to me like the problem is that an <code>InvocationTargetException</code> is thrown and before that gets passed higher/rethrown the code tries to modify its stacktrace where the Arrays.copyOfRange method is used and the above runtime exception happens. Unfortunately this looks like the original <code>InvocationTargetException</code> is swallowed and the original error msg is lost"}],"owner":{"account_id":24676353,"reputation":11,"user_id":18570692,"display_name":"user18570692"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648140134,"creation_date":1648140134,"question_id":71606258,"body_markdown":"    Exception in Application constructor\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: 0 &gt; -4\r\n    at java.base/java.util.Arrays.copyOfRange(Arrays.java:3781)\r\n    at java.base/java.util.Arrays.copyOfRange(Arrays.java:3741)\r\n    at jdk.compiler/com.sun.tools.javac.launcher.Main.execute(Main.java:427)\r\n    at jdk.compiler/com.sun.tools.javac.launcher.Main.run(Main.java:192)\r\n    at jdk.compiler/com.sun.tools.javac.launcher.Main.main(Main.java:132)\r\n    Press any key to continue . . .\r\n\r\n\r\nAnyone know why this could happen\r\n\r\nFor reference I am trying to run a JavaFX project from 2019\r\nI didnt make any changes to the code and it isn&#39;t working now","title":"Im trying to run old code, which I know works, and am getting some new errors","body":"<pre><code>Exception in Application constructor\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: 0 &gt; -4\nat java.base/java.util.Arrays.copyOfRange(Arrays.java:3781)\nat java.base/java.util.Arrays.copyOfRange(Arrays.java:3741)\nat jdk.compiler/com.sun.tools.javac.launcher.Main.execute(Main.java:427)\nat jdk.compiler/com.sun.tools.javac.launcher.Main.run(Main.java:192)\nat jdk.compiler/com.sun.tools.javac.launcher.Main.main(Main.java:132)\nPress any key to continue . . .\n</code></pre>\n<p>Anyone know why this could happen</p>\n<p>For reference I am trying to run a JavaFX project from 2019\nI didnt make any changes to the code and it isn't working now</p>\n"},{"tags":["java","json","spring-boot","rest"],"comments":[{"owner":{"account_id":1609429,"reputation":1062,"user_id":1488843,"accept_rate":75,"display_name":"MGPJ"},"score":0,"creation_date":1648140971,"post_id":71606191,"comment_id":126555054,"body_markdown":"change the variable isValid as valid and try again","body":"change the variable isValid as valid and try again"},{"owner":{"account_id":24675846,"reputation":11,"user_id":18570253,"display_name":"leondesu"},"score":0,"creation_date":1648554852,"post_id":71606191,"comment_id":126648870,"body_markdown":"@MGPJ changing the name to valid (or keeping the name isValid and adding the annotation JsonProperty to the boolean) solved a different problem where the boolean was always reaching the backend as false. I still don&#39;t know the exact reason for the BAD_REQUEST error, but it had to do something with the combination of lombok annotations on the class. For example AllArgsConstructor with Data and a lot of other combinations would not work, but Value with NoArgsConstructor(force = true, access = AccessLevel.PRIVATE) and AllArgsConstructor works.","body":"@MGPJ changing the name to valid (or keeping the name isValid and adding the annotation JsonProperty to the boolean) solved a different problem where the boolean was always reaching the backend as false. I still don&#39;t know the exact reason for the BAD_REQUEST error, but it had to do something with the combination of lombok annotations on the class. For example AllArgsConstructor with Data and a lot of other combinations would not work, but Value with NoArgsConstructor(force = true, access = AccessLevel.PRIVATE) and AllArgsConstructor works."}],"owner":{"account_id":24675846,"reputation":11,"user_id":18570253,"display_name":"leondesu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":717,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648139851,"creation_date":1648139851,"question_id":71606191,"body_markdown":"I&#39;m developing a web application with Spring Boot and Angular and currently writing a REST test call to test a PUT method for my Spring Boot Controller. The controller expects to receive a request body with a DTO that wraps a single boolean value. After checking the boolean value, it is supposed to update some stuff and send back a message.\r\n\r\nMy problem is that everytime I run the test I get a 400 BAD_REQUEST error, even when running the application and testing it &quot;live&quot;.\r\n\r\nThis is what the backend expects to receive:\r\n\r\n````\r\n@Data\r\n@AllArgsConstructor\r\npublic class ValidityRequest {\r\n  boolean isValid;\r\n}\r\n````\r\n\r\nThe weird thing is that it all works perfectly if I add a second value to the ValidityRequest object like such:\r\n\r\n````\r\n@Data\r\n@AllArgsConstructor\r\npublic class ValidityRequest {\r\n  boolean isValid;\r\n  boolean someUnusedValue;\r\n}\r\n````\r\n\r\nI have tried numerous different combinations of possible solutions to make it work with just the one value inside the wrapper just to understand the problem (e.g. implements Serializable, @JsonProperty, renaming the value to valid to help avoid the problematic of JSON needing a &quot;getIsValid&quot; getter, using Object type Boolean, completely replacing the boolean with a String, writing all Constructors, getters and setters without Lombok), but nothing worked.\r\n\r\nThe only way to get the REST test to pass, was to send a single boolean instead of wrapping it into a DTO. In the live application this solution didn&#39;t work, because the boolean would always reach the backend as false, even when I sent it as true from the frontend.\r\n\r\nThe only way to get both the test and the application to work was, as I stated, to add a second value (whatever, String, boolean, LocalDate, all did the trick) even if that value wasn&#39;t used.\r\n\r\n\r\n**Note**: I would like a solution for the single value DTO to work, but more than that I would like to know what is causing the BAD_REQUEST error so I can gain more knowledge on this issue.\r\n\r\n\r\nMy controller looks like this:\r\n\r\n````\r\n  @PutMapping(&quot;/check/{id}&quot;)\r\n  public ResponseEntity&lt;Object&gt; checkValidityAndUpdate(\r\n      @PathVariable final String id,\r\n      @RequestBody final validityRequest ValidityRequest,\r\n      final WebRequest request) {\r\n    return execute(request, () -&gt; ResponseEntity.ok(validityService.checkValidityAndUpdate(id, validityRequest)));\r\n  }\r\n````\r\nMy REST test call looks like this:\r\n\r\n````\r\n    final HttpEntity&lt;Object&gt; request = new HttpEntity&lt;&gt;(validityRequest, authenticator.getAuthorizationHeader());\r\n    ResponseEntity&lt;String&gt; response = testRestTemplate.exchange(\r\n            new URI(BASE_URL + &quot;/check/&quot; + id),\r\n            HttpMethod.PUT,\r\n            request,\r\n            String.class);\r\n````\r\n","title":"Spring Boot sends BAD_REQUEST if expected request body contains DTO with only one value","body":"<p>I'm developing a web application with Spring Boot and Angular and currently writing a REST test call to test a PUT method for my Spring Boot Controller. The controller expects to receive a request body with a DTO that wraps a single boolean value. After checking the boolean value, it is supposed to update some stuff and send back a message.</p>\n<p>My problem is that everytime I run the test I get a 400 BAD_REQUEST error, even when running the application and testing it &quot;live&quot;.</p>\n<p>This is what the backend expects to receive:</p>\n<pre><code>@Data\n@AllArgsConstructor\npublic class ValidityRequest {\n  boolean isValid;\n}\n</code></pre>\n<p>The weird thing is that it all works perfectly if I add a second value to the ValidityRequest object like such:</p>\n<pre><code>@Data\n@AllArgsConstructor\npublic class ValidityRequest {\n  boolean isValid;\n  boolean someUnusedValue;\n}\n</code></pre>\n<p>I have tried numerous different combinations of possible solutions to make it work with just the one value inside the wrapper just to understand the problem (e.g. implements Serializable, @JsonProperty, renaming the value to valid to help avoid the problematic of JSON needing a &quot;getIsValid&quot; getter, using Object type Boolean, completely replacing the boolean with a String, writing all Constructors, getters and setters without Lombok), but nothing worked.</p>\n<p>The only way to get the REST test to pass, was to send a single boolean instead of wrapping it into a DTO. In the live application this solution didn't work, because the boolean would always reach the backend as false, even when I sent it as true from the frontend.</p>\n<p>The only way to get both the test and the application to work was, as I stated, to add a second value (whatever, String, boolean, LocalDate, all did the trick) even if that value wasn't used.</p>\n<p><strong>Note</strong>: I would like a solution for the single value DTO to work, but more than that I would like to know what is causing the BAD_REQUEST error so I can gain more knowledge on this issue.</p>\n<p>My controller looks like this:</p>\n<pre><code>  @PutMapping(&quot;/check/{id}&quot;)\n  public ResponseEntity&lt;Object&gt; checkValidityAndUpdate(\n      @PathVariable final String id,\n      @RequestBody final validityRequest ValidityRequest,\n      final WebRequest request) {\n    return execute(request, () -&gt; ResponseEntity.ok(validityService.checkValidityAndUpdate(id, validityRequest)));\n  }\n</code></pre>\n<p>My REST test call looks like this:</p>\n<pre><code>    final HttpEntity&lt;Object&gt; request = new HttpEntity&lt;&gt;(validityRequest, authenticator.getAuthorizationHeader());\n    ResponseEntity&lt;String&gt; response = testRestTemplate.exchange(\n            new URI(BASE_URL + &quot;/check/&quot; + id),\n            HttpMethod.PUT,\n            request,\n            String.class);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1648139959,"post_id":71606176,"comment_id":126554621,"body_markdown":"They serve entirely different purposes: `Objects.requireNonNull` throws a NPE if the argument is null; try/catch handles an exception that has been thrown.","body":"They serve entirely different purposes: <code>Objects.requireNonNull</code> throws a NPE if the argument is null; try/catch handles an exception that has been thrown."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1648140023,"post_id":71606176,"comment_id":126554659,"body_markdown":"BTW, it is *almost never* the right thing to catch a `NullPointerException`, because you can avoid it by checking if the thing is null, i.e. `if (thing != null) { ... }`.","body":"BTW, it is <i>almost never</i> the right thing to catch a <code>NullPointerException</code>, because you can avoid it by checking if the thing is null, i.e. <code>if (thing != null) { ... }</code>."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":3,"creation_date":1648140115,"post_id":71606176,"comment_id":126554694,"body_markdown":"**Warning**: you are *swallowing* exceptions (i.e. having an empty `catch` clause). **Never** do that, especially not for `NullPointerException`s. Swallowing such an exception hides the true cause of an object being `null`. You should instead throw it and not catch it, so the program crashes immediately instead of silently continuing in an unknown state. `Objects::requireNonNull` does that. Otherwise, if you *expect* that certain variable is `null`, then add a null-check, as Andy already mentioned.","body":"<b>Warning</b>: you are <i>swallowing</i> exceptions (i.e. having an empty <code>catch</code> clause). <b>Never</b> do that, especially not for <code>NullPointerException</code>s. Swallowing such an exception hides the true cause of an object being <code>null</code>. You should instead throw it and not catch it, so the program crashes immediately instead of silently continuing in an unknown state. <code>Objects::requireNonNull</code> does that. Otherwise, if you <i>expect</i> that certain variable is <code>null</code>, then add a null-check, as Andy already mentioned."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1648140932,"post_id":71606176,"comment_id":126555035,"body_markdown":"That warning is your IDE telling you that your code has a potential bug, and you should fix that by guarding against it. Adding a try-catch doesn&#39;t fix the potential issue, and - even worse - the try-catch you wrote will hide the problem which might be a worse bug than the one the warning is about.","body":"That warning is your IDE telling you that your code has a potential bug, and you should fix that by guarding against it. Adding a try-catch doesn&#39;t fix the potential issue, and - even worse - the try-catch you wrote will hide the problem which might be a worse bug than the one the warning is about."},{"owner":{"account_id":10115449,"reputation":1615,"user_id":7474282,"accept_rate":75,"display_name":"Taha Sami"},"score":0,"creation_date":1648143332,"post_id":71606176,"comment_id":126556014,"body_markdown":"Thank you guys for the clarification","body":"Thank you guys for the clarification"}],"owner":{"account_id":10115449,"reputation":1615,"user_id":7474282,"accept_rate":75,"display_name":"Taha Sami"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648139796,"creation_date":1648139796,"question_id":71606176,"body_markdown":"    try {\r\n        switch ((Integer) navController.getCurrentBackStackEntry().getSavedStateHandle().get(&quot;position&quot;)) {\r\n            case 1:\r\n                //...\r\n                break;\r\n            case 2:\r\n                //...\r\n                break;\r\n        }\r\n    } catch (NullPointerException ignored) {\r\n\r\n    }\r\n\r\nI put the code inside `try/catch` but still get `NullPointerException` warning, But this method `Objects.requireNonNull(...)` will hide the warning but I&#39;m asking myself what is the difference between `try/catch` and `Objects.requireNonNull(...)`? Also why `try/catch` not hide the warning?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pNTbe.png","title":"What is the difference between Try/Catch and Objects.requireNonNull for NullPointerException?","body":"<pre><code>try {\n    switch ((Integer) navController.getCurrentBackStackEntry().getSavedStateHandle().get(&quot;position&quot;)) {\n        case 1:\n            //...\n            break;\n        case 2:\n            //...\n            break;\n    }\n} catch (NullPointerException ignored) {\n\n}\n</code></pre>\n<p>I put the code inside <code>try/catch</code> but still get <code>NullPointerException</code> warning, But this method <code>Objects.requireNonNull(...)</code> will hide the warning but I'm asking myself what is the difference between <code>try/catch</code> and <code>Objects.requireNonNull(...)</code>? Also why <code>try/catch</code> not hide the warning?</p>\n<p><a href=\"https://i.stack.imgur.com/pNTbe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pNTbe.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","anylogic","agent-based-modeling","statechart"],"comments":[{"owner":{"account_id":4196914,"reputation":8766,"user_id":3438111,"accept_rate":100,"display_name":"Felipe"},"score":0,"creation_date":1645032561,"post_id":71145546,"comment_id":125764823,"body_markdown":"you can add another collection of collections and choose randomly from there, and then when you selected something, choose randomly from the chosen collection... then remove that from the collection of collections so you don&#39;t select it again","body":"you can add another collection of collections and choose randomly from there, and then when you selected something, choose randomly from the chosen collection... then remove that from the collection of collections so you don&#39;t select it again"},{"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":0,"creation_date":1645032720,"post_id":71145546,"comment_id":125764893,"body_markdown":"Welcome to SOF, always try to ask separate questions in separate issues. Makes it much easier to reply, also see https://stackoverflow.com/help/how-to-ask","body":"Welcome to SOF, always try to ask separate questions in separate issues. Makes it much easier to reply, also see <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":24278396,"reputation":1,"user_id":18225353,"display_name":"Abdullah"},"score":0,"creation_date":1645038628,"post_id":71145546,"comment_id":125767146,"body_markdown":"@Felipe I was thinking of implementing something along this approach, but I can&#39;t seem to figure out how to place the collections under one collection. When I create a new collection, under its properties, I see that I can add each individual element from which I have stored in the collections, but I don&#39;t think this is what I am after. What would I have to do to place these sub-collections into a main collection?","body":"@Felipe I was thinking of implementing something along this approach, but I can&#39;t seem to figure out how to place the collections under one collection. When I create a new collection, under its properties, I see that I can add each individual element from which I have stored in the collections, but I don&#39;t think this is what I am after. What would I have to do to place these sub-collections into a main collection?"}],"answers":[{"tags":[],"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645032895,"creation_date":1645032895,"answer_id":71146635,"question_id":71145546,"body_markdown":"Either do the approach by Felipe or you can also group your elements in 1 large `LinkedHashMap` collection where the keys are a String (or better an `OptionList` with the types &quot;Hospital&quot;, &quot;School&quot;...) and the values are `ArrayList&lt;GISPoint&gt;` with all the actual points. \r\n\r\n(LinkedHashMaps are a standard Java data type, check the web to learn about them).\r\n\r\nRe avoiding revisiting: Best have a collection in each Vehicle `placesVisted` (type `ArrayList&lt;GISPoint&gt;` or similar) and store each place you already visited. Then before moving somewhere else, first check if you have been there previously","title":"In Anylogic, how to randomly select agents from a collection of collections","body":"<p>Either do the approach by Felipe or you can also group your elements in 1 large <code>LinkedHashMap</code> collection where the keys are a String (or better an <code>OptionList</code> with the types &quot;Hospital&quot;, &quot;School&quot;...) and the values are <code>ArrayList&lt;GISPoint&gt;</code> with all the actual points.</p>\n<p>(LinkedHashMaps are a standard Java data type, check the web to learn about them).</p>\n<p>Re avoiding revisiting: Best have a collection in each Vehicle <code>placesVisted</code> (type <code>ArrayList&lt;GISPoint&gt;</code> or similar) and store each place you already visited. Then before moving somewhere else, first check if you have been there previously</p>\n"}],"owner":{"account_id":24278396,"reputation":1,"user_id":18225353,"display_name":"Abdullah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648139510,"creation_date":1645028649,"question_id":71145546,"body_markdown":"I am new to anylogic and am trying to build an agent-based model which randomly directs agents (vehicles) from a starting point (a Home location point on GIS map) to a selection of locations. I have 6 different sets of collections which have varying respective locations stored within them (SchoolsCollection, SupermarketsCollection, ShoppingCentresCollection, HospitalsCollection, TourismCollection and WorkOfficeCollection).\r\n\r\nWithin my statechart for my vehicles, I instruct it to visit 4 locations. So far I have only been able to make the agent move to a random location within one of the collections in each transition using: moveTo(randomFrom(main.HospitalsCollection)) for example.\r\n\r\nBut as I want my agent to randomly pick a location from the six collections above and not revisit the same class of collection from its previous journey, I am unsure on how to:\r\n\r\n1) move my agent to randomly select a location from the collection of collections I have above \r\n\r\n2) when moving on to the next location via the transition in my statechart, to not revsit the previous type of location it was just at (ie not go from one school in one trip and the following trip go to another school). From my limited experience, I would imagine this make use an if loop? \r\n\r\nIf you could help me with the above two queries that would be much appreciated!\r\n\r\nThanks in advance. ","title":"In Anylogic, how to randomly select agents from a collection of collections","body":"<p>I am new to anylogic and am trying to build an agent-based model which randomly directs agents (vehicles) from a starting point (a Home location point on GIS map) to a selection of locations. I have 6 different sets of collections which have varying respective locations stored within them (SchoolsCollection, SupermarketsCollection, ShoppingCentresCollection, HospitalsCollection, TourismCollection and WorkOfficeCollection).</p>\n<p>Within my statechart for my vehicles, I instruct it to visit 4 locations. So far I have only been able to make the agent move to a random location within one of the collections in each transition using: moveTo(randomFrom(main.HospitalsCollection)) for example.</p>\n<p>But as I want my agent to randomly pick a location from the six collections above and not revisit the same class of collection from its previous journey, I am unsure on how to:</p>\n<ol>\n<li><p>move my agent to randomly select a location from the collection of collections I have above</p>\n</li>\n<li><p>when moving on to the next location via the transition in my statechart, to not revsit the previous type of location it was just at (ie not go from one school in one trip and the following trip go to another school). From my limited experience, I would imagine this make use an if loop?</p>\n</li>\n</ol>\n<p>If you could help me with the above two queries that would be much appreciated!</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","json","spring","spring-boot","jackson"],"answers":[{"tags":[],"owner":{"account_id":24263449,"reputation":489,"user_id":18212724,"display_name":"Aditya Akella"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647755568,"creation_date":1647755568,"answer_id":71544405,"question_id":71544261,"body_markdown":"You can use @JsonAnyGetter and get the additional dynamic key value pair(s) in a Map. Please refer to the usage of @JsonAnyGetter in the following example and do let me know if you still need help. \r\n\r\nhttps://www.logicbig.com/tutorials/misc/jackson/jackson-any-setter.html ","title":"How to map JSON to Java POJO with a dynamic field in JSON?","body":"<p>You can use @JsonAnyGetter and get the additional dynamic key value pair(s) in a Map. Please refer to the usage of @JsonAnyGetter in the following example and do let me know if you still need help.</p>\n<p><a href=\"https://www.logicbig.com/tutorials/misc/jackson/jackson-any-setter.html\" rel=\"nofollow noreferrer\">https://www.logicbig.com/tutorials/misc/jackson/jackson-any-setter.html</a></p>\n"},{"tags":[],"owner":{"account_id":9779820,"reputation":9709,"user_id":7248342,"display_name":"Thomas Fritsch"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1647937371,"creation_date":1647896468,"answer_id":71564058,"question_id":71544261,"body_markdown":"May be you were thinking too complicated here.\r\nIn your `CurrencyConvertDto` class, instead of using\r\n\r\n    @JsonProperty(&quot;rates&quot;)\r\n    private Rates rates;\r\n \r\n you can simply use\r\n\r\n    @JsonProperty(&quot;rates&quot;)\r\n    private Map&lt;String, RateInfo&gt; rates;\r\n\r\n(and of course adjust the `getRates`and `setRates` methods accordingly).\r\nAnd then you don&#39;t need the `Rates` class anymore.\r\n\r\nJackson can cope with this out-of-the-box.\r\nIt will handle arbitrary currency codes as keys of the map, like in:\r\n\r\n    {\r\n      &quot;base_currency_code&quot;: &quot;HKD&quot;,\r\n      &quot;base_currency_name&quot;: &quot;Hong Kong dollar&quot;,\r\n      &quot;amount&quot;: &quot;150.5800&quot;,\r\n      &quot;updated_date&quot;: &quot;2022-03-20&quot;,\r\n      &quot;rates&quot;: {\r\n        &quot;GBP&quot;: {\r\n          &quot;currency_name&quot;: &quot;Pound sterling&quot;,\r\n          &quot;rate&quot;: &quot;0.0975&quot;,\r\n          &quot;rate_for_amount&quot;: &quot;14.6774&quot;\r\n        },\r\n        &quot;EUR&quot;: {\r\n          &quot;currency_name&quot;: &quot;Euro&quot;,\r\n          &quot;rate&quot;: &quot;0.120&quot;,\r\n          &quot;rate_for_amount&quot;: &quot;18.07&quot;\r\n        }\r\n      },\r\n\t  &quot;status&quot;: &quot;success&quot;\r\n\t}\r\n\r\n\r\nAnd by the way: You don&#39;t need to repeat the `@JsonProperty`\r\nannotations on the getter and setter methods. Putting `@JsonProperty`\r\nonly on the member variables is already enough.","title":"How to map JSON to Java POJO with a dynamic field in JSON?","body":"<p>May be you were thinking too complicated here.\nIn your <code>CurrencyConvertDto</code> class, instead of using</p>\n<pre><code>@JsonProperty(&quot;rates&quot;)\nprivate Rates rates;\n</code></pre>\n<p>you can simply use</p>\n<pre><code>@JsonProperty(&quot;rates&quot;)\nprivate Map&lt;String, RateInfo&gt; rates;\n</code></pre>\n<p>(and of course adjust the <code>getRates</code>and <code>setRates</code> methods accordingly).\nAnd then you don't need the <code>Rates</code> class anymore.</p>\n<p>Jackson can cope with this out-of-the-box.\nIt will handle arbitrary currency codes as keys of the map, like in:</p>\n<pre><code>{\n  &quot;base_currency_code&quot;: &quot;HKD&quot;,\n  &quot;base_currency_name&quot;: &quot;Hong Kong dollar&quot;,\n  &quot;amount&quot;: &quot;150.5800&quot;,\n  &quot;updated_date&quot;: &quot;2022-03-20&quot;,\n  &quot;rates&quot;: {\n    &quot;GBP&quot;: {\n      &quot;currency_name&quot;: &quot;Pound sterling&quot;,\n      &quot;rate&quot;: &quot;0.0975&quot;,\n      &quot;rate_for_amount&quot;: &quot;14.6774&quot;\n    },\n    &quot;EUR&quot;: {\n      &quot;currency_name&quot;: &quot;Euro&quot;,\n      &quot;rate&quot;: &quot;0.120&quot;,\n      &quot;rate_for_amount&quot;: &quot;18.07&quot;\n    }\n  },\n  &quot;status&quot;: &quot;success&quot;\n}\n</code></pre>\n<p>And by the way: You don't need to repeat the <code>@JsonProperty</code>\nannotations on the getter and setter methods. Putting <code>@JsonProperty</code>\nonly on the member variables is already enough.</p>\n"},{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648139373,"creation_date":1647898303,"answer_id":71564383,"question_id":71544261,"body_markdown":"If you are able,\r\nthe simplest option would be to use a reasonable JSON design.\r\n\r\nHere is an example:\r\n```json\r\n{\r\n  &quot;base_currency_code&quot;: &quot;HKD&quot;,\r\n  &quot;base_currency_name&quot;: &quot;Hong Kong dollar&quot;,\r\n  &quot;amount&quot;: &quot;150.5800&quot;,\r\n  &quot;updated_date&quot;: &quot;2022-03-20&quot;,\r\n  &quot;rates&quot;: {\r\n    &quot;currentySymbol&quot;: &quot;GBP&quot;,\r\n    &quot;currency_name&quot;: &quot;Pound sterling&quot;,\r\n    &quot;rate&quot;: &quot;0.0975&quot;,\r\n    &quot;rate_for_amount&quot;: &quot;14.6774&quot;\r\n    }\r\n  },\r\n  &quot;status&quot;: &quot;success&quot;\r\n}\r\n```","title":"How to map JSON to Java POJO with a dynamic field in JSON?","body":"<p>If you are able,\nthe simplest option would be to use a reasonable JSON design.</p>\n<p>Here is an example:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;base_currency_code&quot;: &quot;HKD&quot;,\n  &quot;base_currency_name&quot;: &quot;Hong Kong dollar&quot;,\n  &quot;amount&quot;: &quot;150.5800&quot;,\n  &quot;updated_date&quot;: &quot;2022-03-20&quot;,\n  &quot;rates&quot;: {\n    &quot;currentySymbol&quot;: &quot;GBP&quot;,\n    &quot;currency_name&quot;: &quot;Pound sterling&quot;,\n    &quot;rate&quot;: &quot;0.0975&quot;,\n    &quot;rate_for_amount&quot;: &quot;14.6774&quot;\n    }\n  },\n  &quot;status&quot;: &quot;success&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":20870345,"reputation":33,"user_id":15330450,"display_name":"YinHk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2705,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71564058,"answer_count":3,"score":1,"last_activity_date":1648139373,"creation_date":1647753617,"question_id":71544261,"body_markdown":"I would like create a Java object which map this JSON object:\r\n```json\r\n{\r\n  &quot;base_currency_code&quot;: &quot;HKD&quot;,\r\n  &quot;base_currency_name&quot;: &quot;Hong Kong dollar&quot;,\r\n  &quot;amount&quot;: &quot;150.5800&quot;,\r\n  &quot;updated_date&quot;: &quot;2022-03-20&quot;,\r\n  &quot;rates&quot;: {\r\n    &quot;GBP&quot;: {\r\n      &quot;currency_name&quot;: &quot;Pound sterling&quot;,\r\n      &quot;rate&quot;: &quot;0.0975&quot;,\r\n      &quot;rate_for_amount&quot;: &quot;14.6774&quot;\r\n    }\r\n  },\r\n  &quot;status&quot;: &quot;success&quot;\r\n}\r\n```\r\n\r\nOnly the `&quot;GBP&quot;` property name is dynamic field, it could be another currency symbol next time like `&quot;USD&quot;`, `&quot;JPY&quot;` etc.\r\n\r\nI create the Java class like this:\r\n```java\r\n\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\n@JsonPropertyOrder({\r\n    &quot;base_currency_code&quot;,\r\n    &quot;base_currency_name&quot;,\r\n    &quot;amount&quot;,\r\n    &quot;updated_date&quot;,\r\n    &quot;rates&quot;,\r\n    &quot;status&quot;\r\n})\r\npublic class CurrencyConvertDto {\r\n\r\n    @JsonProperty(&quot;base_currency_code&quot;)\r\n    private String baseCurrencyCode;\r\n    @JsonProperty(&quot;base_currency_name&quot;)\r\n    private String baseCurrencyName;\r\n    @JsonProperty(&quot;amount&quot;)\r\n    private String amount;\r\n    @JsonProperty(&quot;updated_date&quot;)\r\n    private String updatedDate;\r\n    @JsonProperty(&quot;rates&quot;)\r\n    private Rates rates;\r\n    @JsonProperty(&quot;status&quot;)\r\n    private String status;\r\n    /*\r\n    @JsonIgnore\r\n    private Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\r\n    */\r\n\r\n    @JsonProperty(&quot;base_currency_code&quot;)\r\n    public String getBaseCurrencyCode() {\r\n        return baseCurrencyCode;\r\n    }\r\n\r\n    @JsonProperty(&quot;base_currency_code&quot;)\r\n    public void setBaseCurrencyCode(String baseCurrencyCode) {\r\n        this.baseCurrencyCode = baseCurrencyCode;\r\n    }\r\n\r\n    @JsonProperty(&quot;base_currency_name&quot;)\r\n    public String getBaseCurrencyName() {\r\n        return baseCurrencyName;\r\n    }\r\n\r\n    @JsonProperty(&quot;base_currency_name&quot;)\r\n    public void setBaseCurrencyName(String baseCurrencyName) {\r\n        this.baseCurrencyName = baseCurrencyName;\r\n    }\r\n\r\n    @JsonProperty(&quot;amount&quot;)\r\n    public String getAmount() {\r\n        return amount;\r\n    }\r\n\r\n    @JsonProperty(&quot;amount&quot;)\r\n    public void setAmount(String amount) {\r\n        this.amount = amount;\r\n    }\r\n\r\n    @JsonProperty(&quot;updated_date&quot;)\r\n    public String getUpdatedDate() {\r\n        return updatedDate;\r\n    }\r\n\r\n    @JsonProperty(&quot;updated_date&quot;)\r\n    public void setUpdatedDate(String updatedDate) {\r\n        this.updatedDate = updatedDate;\r\n    }\r\n\r\n    @JsonProperty(&quot;rates&quot;)\r\n    public Rates getRates() {\r\n        return rates;\r\n    }\r\n\r\n    @JsonProperty(&quot;rates&quot;)\r\n    public void setRates(Rates rates) {\r\n        this.rates = rates;\r\n    }\r\n\r\n    @JsonProperty(&quot;status&quot;)\r\n    public String getStatus() {\r\n        return status;\r\n    }\r\n\r\n    @JsonProperty(&quot;status&quot;)\r\n    public void setStatus(String status) {\r\n        this.status = status;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n```java\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\npublic class Rates {\r\n\r\n    private List&lt;Map&lt;String, String&gt;&gt; rateInfo = new ArrayList&lt;Map&lt;String, String&gt;&gt;();\r\n\r\n    @JsonAnySetter\r\n    public void setDynamicProperty(String name, Map&lt;String, String&gt; map) {\r\n        rateInfo.add(map);\r\n    }\r\n\r\n    public List&lt;Map&lt;String, String&gt;&gt; getRateInfo() {\r\n        return rateInfo;\r\n    }\r\n\r\n    public void setRateInfo(List&lt;Map&lt;String, String&gt;&gt; rateInfo) {\r\n        this.rateInfo = rateInfo;\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\n```java\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\n@JsonPropertyOrder({\r\n    &quot;currency_name&quot;,\r\n    &quot;rate&quot;,\r\n    &quot;rate_for_amount&quot;\r\n})\r\npublic class RateInfo {\r\n\r\n    @JsonProperty(&quot;currency_name&quot;)\r\n    private String currencyName;\r\n    @JsonProperty(&quot;rate&quot;)\r\n    private String rate;\r\n    @JsonProperty(&quot;rate_for_amount&quot;)\r\n    private String rateForAmount;\r\n    /*\r\n    @JsonIgnore\r\n    private Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\r\n    */\r\n\r\n    @JsonProperty(&quot;currency_name&quot;)\r\n    public String getCurrencyName() {\r\n        return currencyName;\r\n    }\r\n\r\n    @JsonProperty(&quot;currency_name&quot;)\r\n    public void setCurrencyName(String currencyName) {\r\n        this.currencyName = currencyName;\r\n    }\r\n\r\n    @JsonProperty(&quot;rate&quot;)\r\n    public String getRate() {\r\n        return rate;\r\n    }\r\n\r\n    @JsonProperty(&quot;rate&quot;)\r\n    public void setRate(String rate) {\r\n        this.rate = rate;\r\n    }\r\n\r\n    @JsonProperty(&quot;rate_for_amount&quot;)\r\n    public String getRateForAmount() {\r\n        return rateForAmount;\r\n    }\r\n\r\n    @JsonProperty(&quot;rate_for_amount&quot;)\r\n    public void setRateForAmount(String rateForAmount) {\r\n        this.rateForAmount = rateForAmount;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nBut when compile, it seems have problem. it can&#39;t map the JSON object with the dynamic field . Does anyone know how to fix it? Thanks you very much.","title":"How to map JSON to Java POJO with a dynamic field in JSON?","body":"<p>I would like create a Java object which map this JSON object:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;base_currency_code&quot;: &quot;HKD&quot;,\n  &quot;base_currency_name&quot;: &quot;Hong Kong dollar&quot;,\n  &quot;amount&quot;: &quot;150.5800&quot;,\n  &quot;updated_date&quot;: &quot;2022-03-20&quot;,\n  &quot;rates&quot;: {\n    &quot;GBP&quot;: {\n      &quot;currency_name&quot;: &quot;Pound sterling&quot;,\n      &quot;rate&quot;: &quot;0.0975&quot;,\n      &quot;rate_for_amount&quot;: &quot;14.6774&quot;\n    }\n  },\n  &quot;status&quot;: &quot;success&quot;\n}\n</code></pre>\n<p>Only the <code>&quot;GBP&quot;</code> property name is dynamic field, it could be another currency symbol next time like <code>&quot;USD&quot;</code>, <code>&quot;JPY&quot;</code> etc.</p>\n<p>I create the Java class like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonPropertyOrder({\n    &quot;base_currency_code&quot;,\n    &quot;base_currency_name&quot;,\n    &quot;amount&quot;,\n    &quot;updated_date&quot;,\n    &quot;rates&quot;,\n    &quot;status&quot;\n})\npublic class CurrencyConvertDto {\n\n    @JsonProperty(&quot;base_currency_code&quot;)\n    private String baseCurrencyCode;\n    @JsonProperty(&quot;base_currency_name&quot;)\n    private String baseCurrencyName;\n    @JsonProperty(&quot;amount&quot;)\n    private String amount;\n    @JsonProperty(&quot;updated_date&quot;)\n    private String updatedDate;\n    @JsonProperty(&quot;rates&quot;)\n    private Rates rates;\n    @JsonProperty(&quot;status&quot;)\n    private String status;\n    /*\n    @JsonIgnore\n    private Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\n    */\n\n    @JsonProperty(&quot;base_currency_code&quot;)\n    public String getBaseCurrencyCode() {\n        return baseCurrencyCode;\n    }\n\n    @JsonProperty(&quot;base_currency_code&quot;)\n    public void setBaseCurrencyCode(String baseCurrencyCode) {\n        this.baseCurrencyCode = baseCurrencyCode;\n    }\n\n    @JsonProperty(&quot;base_currency_name&quot;)\n    public String getBaseCurrencyName() {\n        return baseCurrencyName;\n    }\n\n    @JsonProperty(&quot;base_currency_name&quot;)\n    public void setBaseCurrencyName(String baseCurrencyName) {\n        this.baseCurrencyName = baseCurrencyName;\n    }\n\n    @JsonProperty(&quot;amount&quot;)\n    public String getAmount() {\n        return amount;\n    }\n\n    @JsonProperty(&quot;amount&quot;)\n    public void setAmount(String amount) {\n        this.amount = amount;\n    }\n\n    @JsonProperty(&quot;updated_date&quot;)\n    public String getUpdatedDate() {\n        return updatedDate;\n    }\n\n    @JsonProperty(&quot;updated_date&quot;)\n    public void setUpdatedDate(String updatedDate) {\n        this.updatedDate = updatedDate;\n    }\n\n    @JsonProperty(&quot;rates&quot;)\n    public Rates getRates() {\n        return rates;\n    }\n\n    @JsonProperty(&quot;rates&quot;)\n    public void setRates(Rates rates) {\n        this.rates = rates;\n    }\n\n    @JsonProperty(&quot;status&quot;)\n    public String getStatus() {\n        return status;\n    }\n\n    @JsonProperty(&quot;status&quot;)\n    public void setStatus(String status) {\n        this.status = status;\n    }\n\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class Rates {\n\n    private List&lt;Map&lt;String, String&gt;&gt; rateInfo = new ArrayList&lt;Map&lt;String, String&gt;&gt;();\n\n    @JsonAnySetter\n    public void setDynamicProperty(String name, Map&lt;String, String&gt; map) {\n        rateInfo.add(map);\n    }\n\n    public List&lt;Map&lt;String, String&gt;&gt; getRateInfo() {\n        return rateInfo;\n    }\n\n    public void setRateInfo(List&lt;Map&lt;String, String&gt;&gt; rateInfo) {\n        this.rateInfo = rateInfo;\n    }\n\n}\n\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonPropertyOrder({\n    &quot;currency_name&quot;,\n    &quot;rate&quot;,\n    &quot;rate_for_amount&quot;\n})\npublic class RateInfo {\n\n    @JsonProperty(&quot;currency_name&quot;)\n    private String currencyName;\n    @JsonProperty(&quot;rate&quot;)\n    private String rate;\n    @JsonProperty(&quot;rate_for_amount&quot;)\n    private String rateForAmount;\n    /*\n    @JsonIgnore\n    private Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\n    */\n\n    @JsonProperty(&quot;currency_name&quot;)\n    public String getCurrencyName() {\n        return currencyName;\n    }\n\n    @JsonProperty(&quot;currency_name&quot;)\n    public void setCurrencyName(String currencyName) {\n        this.currencyName = currencyName;\n    }\n\n    @JsonProperty(&quot;rate&quot;)\n    public String getRate() {\n        return rate;\n    }\n\n    @JsonProperty(&quot;rate&quot;)\n    public void setRate(String rate) {\n        this.rate = rate;\n    }\n\n    @JsonProperty(&quot;rate_for_amount&quot;)\n    public String getRateForAmount() {\n        return rateForAmount;\n    }\n\n    @JsonProperty(&quot;rate_for_amount&quot;)\n    public void setRateForAmount(String rateForAmount) {\n        this.rateForAmount = rateForAmount;\n    }\n\n}\n\n</code></pre>\n<p>But when compile, it seems have problem. it can't map the JSON object with the dynamic field . Does anyone know how to fix it? Thanks you very much.</p>\n"},{"tags":["java","android-studio","oop","android-activity","appcompatactivity"],"comments":[{"owner":{"account_id":22109886,"reputation":208,"user_id":16364947,"display_name":"AshishVE"},"score":0,"creation_date":1648132203,"post_id":71592407,"comment_id":126551195,"body_markdown":"You should put  &quot;  new Steuerung();   &quot; below  of setContentView(R.layout.activity_load);","body":"You should put  &quot;  new Steuerung();   &quot; below  of setContentView(R.layout.activity_load);"},{"owner":{"account_id":24664242,"reputation":1,"user_id":18560130,"display_name":"Razac"},"score":0,"creation_date":1648147278,"post_id":71592407,"comment_id":126557371,"body_markdown":"I still get an exception if i use  &quot;txtfeld.setText(&quot;Loaded&quot;);&quot;\nI also tried making an private Attribut in GUI from the textview and initialise it in the constructor but it still doesnt work. Also using setcontentview (R.layout.activity_load); again in the constructor of GUI doesnt work\n\nThe Exception:\n&#39;java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.androidstudioshit/com.example.androidstudioshit.MAIN}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.TextView.setText(java.lang.CharSequence)&#39; on a null object reference&#39;","body":"I still get an exception if i use  &quot;txtfeld.setText(&quot;Loaded&quot;);&quot; I also tried making an private Attribut in GUI from the textview and initialise it in the constructor but it still doesnt work. Also using setcontentview (R.layout.activity_load); again in the constructor of GUI doesnt work  The Exception: &#39;java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.androidstudioshit/com.example.andr&zwnj;&#8203;oidstudioshit.MAIN}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.TextView.setText(java.lang.CharSequence)&#39; on a null object reference&#39;"}],"owner":{"account_id":24664242,"reputation":1,"user_id":18560130,"display_name":"Razac"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648139239,"creation_date":1648060866,"question_id":71592407,"body_markdown":"I want to modify the TextField &quot;Mitte&quot; in the class GUI but if i try i get an Error:\r\n\r\nIm new to Android so i struggle with the concepts of intends, activities and OnCreate(), but i understand Java and Objects;\r\n\r\n```\r\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.androidstudioshit/com.example.androidstudioshit.MAIN}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.content.pm.ApplicationInfo android.content.Context.getApplicationInfo()&#39; on a null object reference\r\n```\r\n\r\nHow My APP is Designed (OOP):\r\n\r\n## Main (just generates Steuerung):\r\n\r\n    public class MAIN extends AppCompatActivity\r\n    {\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            new Steuerung();\r\n            setContentView(R.layout.activity_load);\r\n        }\r\n    \r\n    }\r\n\r\n## Steuerung (Has a bidirectional Association with GUI):\r\n\r\nAnd also A few Associations with other Classes (but i dont think they matter in this context)\r\n\r\n         \r\n    public class Steuerung\r\n    {\r\n    \r\n        //Attribute\r\n        private GUI DieGUI;\r\n        private BT BlT;\r\n        private Funktionen Fkt;\r\n    \r\n        public Steuerung()\r\n        {\r\n            DieGUI = new GUI(this);\r\n            Str();\r\n        }\r\n    \r\n        public void Str()\r\n        {\r\n            DieGUI.createGUI();\r\n        }\r\n    \r\n    }\r\n\r\n## GUI:\r\n\r\n    public class GUI extends AppCompatActivity{private Steuerung steuerung;\r\n    public GUI()\r\n    {}\r\n    \r\n    public GUI(Steuerung steuerung)\r\n    {\r\n        this.steuerung = steuerung;\r\n    }\r\n    \r\n    public void createGUI()\r\n    {\r\n        TextView txtfeld = (TextView) findViewById(R.id.TextMitte);\r\n        txtfeld.setText(&quot;Loaded&quot;); //As soon as i Use this Code i get the Error\r\n    }\r\n    }\r\n\r\n## Main Activity (named &quot;activity_load&quot;)\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n----------\r\n\r\n----------\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;xmlns:tools=&quot;http://schemas.android.com/tools&quot;android:layout_width=&quot;match_parent&quot;android:layout_height=&quot;match_parent&quot;tools:context=&quot;.GUI&quot;&gt;\r\n    &lt;TextView\r\n        android:id=&quot;@+id/TextMitte&quot;\r\n        android:layout_width=&quot;136dp&quot;\r\n        android:layout_height=&quot;72dp&quot;\r\n        android:text=&quot;Loading...&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView&quot;\r\n        android:layout_width=&quot;166dp&quot;\r\n        android:layout_height=&quot;23dp&quot;\r\n        android:text=&quot;Bluetoth App Arduino V1&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/TextMitte&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.234&quot; /&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n## AndroidManifest\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;package=&quot;com.example.androidstudioshit&quot;&gt;&lt;uses-permission android:name=&quot;andriod.permission.BLUETOOTH&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot;/&gt;\r\n    \r\n    &lt;uses-feature android:name=&quot;android.hardware.bluetooth&quot; android:required=&quot;true&quot;/&gt;\r\n    \r\n    \r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;BT APP&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.AndroidStudioShit&quot;&gt;\r\n    \r\n        &lt;activity\r\n            android:name = &quot;.MAIN&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity android:name=&quot;.GUI&quot; /&gt;\r\n    &lt;/application&gt;\r\n\r\n&gt; I tried to fix it by:\r\n&gt; \\-putting setContentView(R.layout.activity_load); into GUI\r\n&gt; \\-creating Intends (but they might just have been wrong)\r\n&gt; \\-Playing with the references in xml files.\r\n&gt;\r\n&gt; Later in the Programming I dont just want to change the text but also recieve ONClick() from Buttons in GUI.\r\n&gt;\r\n&gt; I thought about just moving GUI MAIN is also not really an Option for me.\r\n&gt;\r\n&gt; I would be happy if you could help me.","title":"How To Access and Modify activity outside OnCreate class","body":"<p>I want to modify the TextField &quot;Mitte&quot; in the class GUI but if i try i get an Error:</p>\n<p>Im new to Android so i struggle with the concepts of intends, activities and OnCreate(), but i understand Java and Objects;</p>\n<pre><code>java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.androidstudioshit/com.example.androidstudioshit.MAIN}: java.lang.NullPointerException: Attempt to invoke virtual method 'android.content.pm.ApplicationInfo android.content.Context.getApplicationInfo()' on a null object reference\n</code></pre>\n<p>How My APP is Designed (OOP):</p>\n<h2>Main (just generates Steuerung):</h2>\n<pre><code>public class MAIN extends AppCompatActivity\n{\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        new Steuerung();\n        setContentView(R.layout.activity_load);\n    }\n\n}\n</code></pre>\n<h2>Steuerung (Has a bidirectional Association with GUI):</h2>\n<p>And also A few Associations with other Classes (but i dont think they matter in this context)</p>\n<pre><code>public class Steuerung\n{\n\n    //Attribute\n    private GUI DieGUI;\n    private BT BlT;\n    private Funktionen Fkt;\n\n    public Steuerung()\n    {\n        DieGUI = new GUI(this);\n        Str();\n    }\n\n    public void Str()\n    {\n        DieGUI.createGUI();\n    }\n\n}\n</code></pre>\n<h2>GUI:</h2>\n<pre><code>public class GUI extends AppCompatActivity{private Steuerung steuerung;\npublic GUI()\n{}\n\npublic GUI(Steuerung steuerung)\n{\n    this.steuerung = steuerung;\n}\n\npublic void createGUI()\n{\n    TextView txtfeld = (TextView) findViewById(R.id.TextMitte);\n    txtfeld.setText(&quot;Loaded&quot;); //As soon as i Use this Code i get the Error\n}\n}\n</code></pre>\n<h2>Main Activity (named &quot;activity_load&quot;)</h2>\n\n<hr />\n<hr />\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;xmlns:tools=&quot;http://schemas.android.com/tools&quot;android:layout_width=&quot;match_parent&quot;android:layout_height=&quot;match_parent&quot;tools:context=&quot;.GUI&quot;&gt;\n&lt;TextView\n    android:id=&quot;@+id/TextMitte&quot;\n    android:layout_width=&quot;136dp&quot;\n    android:layout_height=&quot;72dp&quot;\n    android:text=&quot;Loading...&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n    app:layout_constraintRight_toRightOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/textView&quot;\n    android:layout_width=&quot;166dp&quot;\n    android:layout_height=&quot;23dp&quot;\n    android:text=&quot;Bluetoth App Arduino V1&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@+id/TextMitte&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintHorizontal_bias=&quot;0.497&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    app:layout_constraintVertical_bias=&quot;0.234&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<h2>AndroidManifest</h2>\n\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;package=&quot;com.example.androidstudioshit&quot;&gt;&lt;uses-permission android:name=&quot;andriod.permission.BLUETOOTH&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot;/&gt;\n\n&lt;uses-feature android:name=&quot;android.hardware.bluetooth&quot; android:required=&quot;true&quot;/&gt;\n\n\n&lt;application\n    android:allowBackup=&quot;true&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;BT APP&quot;\n    android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/Theme.AndroidStudioShit&quot;&gt;\n\n    &lt;activity\n        android:name = &quot;.MAIN&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n    &lt;activity android:name=&quot;.GUI&quot; /&gt;\n&lt;/application&gt;\n</code></pre>\n<blockquote>\n<p>I tried to fix it by:\n-putting setContentView(R.layout.activity_load); into GUI\n-creating Intends (but they might just have been wrong)\n-Playing with the references in xml files.</p>\n<p>Later in the Programming I dont just want to change the text but also recieve ONClick() from Buttons in GUI.</p>\n<p>I thought about just moving GUI MAIN is also not really an Option for me.</p>\n<p>I would be happy if you could help me.</p>\n</blockquote>\n"},{"tags":["java","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648139207,"creation_date":1648139207,"answer_id":71606034,"question_id":71605945,"body_markdown":"You must use the `@Where` annotation:\r\n\r\n\r\n    @ManyToOne\r\n    @Where(clause = &quot;linked_entity_type = &#39;TableA&#39;&quot;)\r\n    @JoinColumn(name = &quot;linked_entity_id&quot;, referencedColumnName = &quot;id&quot;, insertable=false, updateable=false)\r\n    private TableA tableA;\r\n\r\n    @ManyToOne\r\n    @Where(clause = &quot;linked_entity_type = &#39;TableB&#39;&quot;)\r\n    @JoinColumn(name = &quot;linked_entity_id&quot;, referencedColumnName = &quot;id&quot;, insertable=false, updateable=false)\r\n    private TableB tableB;\r\n\r\nSource: https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#pc-where\r\n\r\n","title":"JPA modeling of FK pointing to various tables","body":"<p>You must use the <code>@Where</code> annotation:</p>\n<pre><code>@ManyToOne\n@Where(clause = &quot;linked_entity_type = 'TableA'&quot;)\n@JoinColumn(name = &quot;linked_entity_id&quot;, referencedColumnName = &quot;id&quot;, insertable=false, updateable=false)\nprivate TableA tableA;\n\n@ManyToOne\n@Where(clause = &quot;linked_entity_type = 'TableB'&quot;)\n@JoinColumn(name = &quot;linked_entity_id&quot;, referencedColumnName = &quot;id&quot;, insertable=false, updateable=false)\nprivate TableB tableB;\n</code></pre>\n<p>Source: <a href=\"https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#pc-where\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#pc-where</a></p>\n"}],"owner":{"account_id":17176912,"reputation":647,"user_id":12432925,"display_name":"Carlos Gonzalez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71606034,"answer_count":1,"score":1,"last_activity_date":1648139207,"creation_date":1648138849,"question_id":71605945,"body_markdown":"There&#39;s a table with a &quot;FK&quot; column whose values might point back to either TableA or TableB, something like this:\r\n\r\n    CREATE TABLE TableC (\r\n      &quot;id&quot; bigint GENERATED BY DEFAULT AS IDENTITY,\r\n      &quot;linked_entity_id&quot; integer,\r\n      &quot;linked_entity_type&quot; varchar(15),\r\n      ...other columns\r\n      PRIMARY KEY (&quot;id&quot;)\r\n    );\r\n\r\nI&#39;m struggling with representing this in JPA. I&#39;d like to have both TableA and TableB entities in JPA to have a List&lt;TableC&gt;. Is there a way to do this?\r\n\r\nThis is my attempt, having TableC entity modeled like this:\r\n\r\n    @Entity\r\n    public class TableC {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        private Long linkedEntityId;\r\n    \r\n        @Enumerated(EnumType.STRING)\r\n        private LinkedEntityType linkedEntityType;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;linked_entity_id&quot;, referencedColumnName = &quot;id&quot;, insertable=false, updateable=false)\r\n        private TableA tableA;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;linked_entity_id&quot;, referencedColumnName = &quot;id&quot;, insertable=false, updateable=false)\r\n        private TableB tableB;\r\n    \r\n    }\r\n\r\nBut, what happens when the TableC has a row whose id in the linked_entity_id column belongs to TableA id not to TableB? I think an exception would be thrown.\r\n\r\nPS: TableA and TableB do not have anything in common.","title":"JPA modeling of FK pointing to various tables","body":"<p>There's a table with a &quot;FK&quot; column whose values might point back to either TableA or TableB, something like this:</p>\n<pre><code>CREATE TABLE TableC (\n  &quot;id&quot; bigint GENERATED BY DEFAULT AS IDENTITY,\n  &quot;linked_entity_id&quot; integer,\n  &quot;linked_entity_type&quot; varchar(15),\n  ...other columns\n  PRIMARY KEY (&quot;id&quot;)\n);\n</code></pre>\n<p>I'm struggling with representing this in JPA. I'd like to have both TableA and TableB entities in JPA to have a List. Is there a way to do this?</p>\n<p>This is my attempt, having TableC entity modeled like this:</p>\n<pre><code>@Entity\npublic class TableC {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private Long linkedEntityId;\n\n    @Enumerated(EnumType.STRING)\n    private LinkedEntityType linkedEntityType;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;linked_entity_id&quot;, referencedColumnName = &quot;id&quot;, insertable=false, updateable=false)\n    private TableA tableA;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;linked_entity_id&quot;, referencedColumnName = &quot;id&quot;, insertable=false, updateable=false)\n    private TableB tableB;\n\n}\n</code></pre>\n<p>But, what happens when the TableC has a row whose id in the linked_entity_id column belongs to TableA id not to TableB? I think an exception would be thrown.</p>\n<p>PS: TableA and TableB do not have anything in common.</p>\n"},{"tags":["java","arrays","match"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1648133179,"post_id":71604367,"comment_id":126551635,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648134358,"creation_date":1648134358,"answer_id":71604898,"question_id":71604367,"body_markdown":"This function returns `true` if the given start position is a downwards diagonal (as drawn in your picture, advancing left-to-right) of length `s` full of character `c`. \r\n\r\n    public static void isFullDownDiagonal(char[][] board, \r\n             int startCol, int startRow, int s, char c) {\r\n\r\n       for (int i=0; i&lt;s; i++) {\r\n          if (board[startRow+i][startCol+i] != c) return false; \r\n                         //  \\_ change this sign to test up diagonal         \r\n       }\r\n       return true;\r\n    }\r\n\r\n\r\nWith a small change you can test for the upwards diagonal. And in an `NxN`board there can only be starts-of-diagonal in a `(N-s+1)x(N-s+1)` area at the top-left and bottom-corners.","title":"cross match 2d array","body":"<p>This function returns <code>true</code> if the given start position is a downwards diagonal (as drawn in your picture, advancing left-to-right) of length <code>s</code> full of character <code>c</code>.</p>\n<pre><code>public static void isFullDownDiagonal(char[][] board, \n         int startCol, int startRow, int s, char c) {\n\n   for (int i=0; i&lt;s; i++) {\n      if (board[startRow+i][startCol+i] != c) return false; \n                     //  \\_ change this sign to test up diagonal         \n   }\n   return true;\n}\n</code></pre>\n<p>With a small change you can test for the upwards diagonal. And in an <code>NxN</code>board there can only be starts-of-diagonal in a <code>(N-s+1)x(N-s+1)</code> area at the top-left and bottom-corners.</p>\n"},{"tags":[],"owner":{"account_id":14179476,"reputation":2663,"user_id":10243634,"display_name":"Oboe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648139012,"creation_date":1648136383,"answer_id":71605387,"question_id":71604367,"body_markdown":"You can use `IntStream` to check if the diagonals have only `&#39;*&#39;`:\r\n\r\n    public static boolean checkDiagonals(char[][] arr) {\r\n        int dimension = arr.length;\r\n        return IntStream.range(0, dimension)\r\n                .allMatch(i -&gt; arr[i][i] == &#39;*&#39;) \r\n        || IntStream.range(0, dimension)\r\n                .allMatch(i -&gt; arr[i][dimension - i - 1] == &#39;*&#39;);\r\n    }","title":"cross match 2d array","body":"<p>You can use <code>IntStream</code> to check if the diagonals have only <code>'*'</code>:</p>\n<pre><code>public static boolean checkDiagonals(char[][] arr) {\n    int dimension = arr.length;\n    return IntStream.range(0, dimension)\n            .allMatch(i -&gt; arr[i][i] == '*') \n    || IntStream.range(0, dimension)\n            .allMatch(i -&gt; arr[i][dimension - i - 1] == '*');\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648137836,"creation_date":1648137836,"answer_id":71605715,"question_id":71604367,"body_markdown":"Another one...\r\n\r\n      public static void main(String[] args) {       \r\n        char[][] char2d={\r\n          {&#39;*&#39;,&#39;o&#39;,&#39;o&#39;,&#39;*&#39;},\r\n          {&#39;o&#39;,&#39;*&#39;,&#39;o&#39;,&#39;o&#39;},\r\n          {&#39;o&#39;,&#39;o&#39;,&#39;*&#39;,&#39;o&#39;},\r\n          {&#39;o&#39;,&#39;o&#39;,&#39;o&#39;,&#39;*&#39;}\r\n        };\r\n        System.out.println(hasCross(char2d, &#39;*&#39;));\r\n      }\r\n    \r\n      public static boolean hasCross(char[][] board, char c) {\r\n        // Assumes a SQUARE board!\r\n        boolean crossA = true;\r\n        boolean crossB = true;\r\n        for(int col=0, rowA=0, rowB=(board.length-1); col&lt;board.length; col++, rowA++, rowB--) {\r\n          if (board[rowA][col]!=c) {\r\n            crossA = false;\r\n          }\r\n          if (board[rowB][col]!=c) {\r\n            crossB = false;\r\n          }\r\n        }\r\n        return crossA || crossB;\r\n      }\r\n\r\n","title":"cross match 2d array","body":"<p>Another one...</p>\n<pre><code>  public static void main(String[] args) {       \n    char[][] char2d={\n      {'*','o','o','*'},\n      {'o','*','o','o'},\n      {'o','o','*','o'},\n      {'o','o','o','*'}\n    };\n    System.out.println(hasCross(char2d, '*'));\n  }\n\n  public static boolean hasCross(char[][] board, char c) {\n    // Assumes a SQUARE board!\n    boolean crossA = true;\n    boolean crossB = true;\n    for(int col=0, rowA=0, rowB=(board.length-1); col&lt;board.length; col++, rowA++, rowB--) {\n      if (board[rowA][col]!=c) {\n        crossA = false;\n      }\n      if (board[rowB][col]!=c) {\n        crossB = false;\n      }\n    }\n    return crossA || crossB;\n  }\n</code></pre>\n"}],"owner":{"account_id":17550370,"reputation":1,"user_id":18531553,"display_name":"mohammad mohammadi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1648139012,"creation_date":1648132290,"question_id":71604367,"body_markdown":"trying to implement a bigger scale of tic tac toe game\r\n\r\nthis game can have more than 3 rows and columns\r\n\r\nwhenever a 4 consecutive pattern is found(horizantal,vertical or cross)\r\n\r\nthe player is the winner\r\n\r\ni already found the horizantal and vertical mathcing implemantation\r\n\r\nbut can&#39;t find a way to identify the cross pattern of a certain charcter inside a 2d array\r\n\r\nconsider the following 2d array\r\n\r\n\\`\r\n\r\n            char[][] char2d={\r\n                {&#39;*&#39;,&#39;o&#39;,&#39;o&#39;,&#39;*&#39;},\r\n                {&#39;o&#39;,&#39;*&#39;,&#39;o&#39;,&#39;o&#39;},\r\n                {&#39;o&#39;,&#39;o&#39;,&#39;*&#39;,&#39;o&#39;},\r\n                {&#39;o&#39;,&#39;o&#39;,&#39;o&#39;,&#39;*&#39;}\r\n        }\r\n\r\n\\`\r\n\r\nhow can i check if the &#39;\\*&#39; character has four consecutive cross pattern in this 2d array","title":"cross match 2d array","body":"<p>trying to implement a bigger scale of tic tac toe game</p>\n<p>this game can have more than 3 rows and columns</p>\n<p>whenever a 4 consecutive pattern is found(horizantal,vertical or cross)</p>\n<p>the player is the winner</p>\n<p>i already found the horizantal and vertical mathcing implemantation</p>\n<p>but can't find a way to identify the cross pattern of a certain charcter inside a 2d array</p>\n<p>consider the following 2d array</p>\n<p>`</p>\n<pre><code>        char[][] char2d={\n            {'*','o','o','*'},\n            {'o','*','o','o'},\n            {'o','o','*','o'},\n            {'o','o','o','*'}\n    }\n</code></pre>\n<p>`</p>\n<p>how can i check if the '*' character has four consecutive cross pattern in this 2d array</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","thymeleaf"],"comments":[{"owner":{"account_id":83010,"reputation":27402,"user_id":233014,"display_name":"Christoffer Hammarstr&#246;m"},"score":0,"creation_date":1648117777,"post_id":71598958,"comment_id":126545104,"body_markdown":"Please see https://stackoverflow.com/help/minimal-reproducible-example","body":"Please see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"}],"answers":[{"tags":[],"owner":{"account_id":5747167,"reputation":316,"user_id":4538070,"display_name":"KevinC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648137790,"creation_date":1648137790,"answer_id":71605701,"question_id":71598958,"body_markdown":"Create a JdbcTemplate for each Datasource in your config class. Then, inject those JdbcTemplate beans into the appropriate Repository class. \r\n\r\nYou should not be instantiating classes that are managed by Spring, except in config classes.","title":"Using multiple DataSources in Spring","body":"<p>Create a JdbcTemplate for each Datasource in your config class. Then, inject those JdbcTemplate beans into the appropriate Repository class.</p>\n<p>You should not be instantiating classes that are managed by Spring, except in config classes.</p>\n"},{"tags":[],"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648138809,"creation_date":1648138809,"answer_id":71605936,"question_id":71598958,"body_markdown":"You have to inject datasource to Repository class. If you call db.getDatasource() then each call creates datasource.\r\n\r\n    class Repository{\r\n    \r\n       private final Datasource dtSource;\r\n       private final JdbcTemplate jdbcTemplate;\r\n       public Repository(@Qualifier(&quot;mydatasource&quot;) Datasource dtSource){\r\n          This.jdbcTemplate = new JdbcTemplate(dtSource);\r\n       }\r\n    }\r\n\r\nSimply you can inject beans with @Bean annotated method. It creates bean in spring context","title":"Using multiple DataSources in Spring","body":"<p>You have to inject datasource to Repository class. If you call db.getDatasource() then each call creates datasource.</p>\n<pre><code>class Repository{\n\n   private final Datasource dtSource;\n   private final JdbcTemplate jdbcTemplate;\n   public Repository(@Qualifier(&quot;mydatasource&quot;) Datasource dtSource){\n      This.jdbcTemplate = new JdbcTemplate(dtSource);\n   }\n}\n</code></pre>\n<p>Simply you can inject beans with @Bean annotated method. It creates bean in spring context</p>\n"}],"owner":{"account_id":24132797,"reputation":29,"user_id":18100193,"display_name":"JohnNewman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71605701,"answer_count":2,"score":0,"last_activity_date":1648138809,"creation_date":1648109568,"question_id":71598958,"body_markdown":"I have built a web app in Spring. Till now I have managed to connect to only one datasource but I need to connect to two Datasources.\r\n\r\nHere is the code:\r\n\r\nDbConfig class:\r\n\r\n   \r\n\r\n     @Configuration\r\n    public class DbConfig {\r\n        \r\n        @Bean\r\n        @Primary\r\n        public DataSource dataSourceMail() {\r\n        \r\n           \r\n                \r\n            HikariConfig config = new HikariConfig();\r\n            config.setDriverClassName(&quot;oracle.jdbc.OracleDriver&quot;);\r\n            config.setJdbcUrl(&quot;jdbc:oracle:thin:@1&quot;);\r\n            config.setUsername(&quot;xxx&quot;);\r\n            config.setPassword(&quot;xxx&quot;);\r\n            config.setConnectionTimeout(20000);\r\n            config.setMaximumPoolSize(100);\r\n            config.addDataSourceProperty(&quot;cachePrepStmts&quot;, &quot;true&quot;);\r\n            config.addDataSourceProperty(&quot;prepStmtCacheSize&quot;, &quot;250&quot;);\r\n            config.addDataSourceProperty(&quot;prepStmtCacheSqlLimit&quot;, &quot;2048&quot;);\r\n            \r\n            \r\n            return new HikariDataSource(config);\r\n        }\r\n        \r\n        @Bean(name=&quot;inregIvg&quot;)\r\n        public DataSource dataSourceInregIvg() {\r\n            \r\n            HikariConfig config = new HikariConfig();\r\n            config.setDriverClassName(&quot;oracle.jdbc.OracleDriver&quot;);\r\n            config.setJdbcUrl(&quot;jdbc:oracle:thin:@2&quot;);\r\n            config.setUsername(&quot;yyy&quot;);\r\n            config.setPassword(&quot;yyy&quot;);\r\n            config.setConnectionTimeout(20000);\r\n            config.setMaximumPoolSize(100);\r\n            config.addDataSourceProperty(&quot;cachePrepStmts&quot;, &quot;true&quot;);\r\n            config.addDataSourceProperty(&quot;prepStmtCacheSize&quot;, &quot;250&quot;);\r\n            config.addDataSourceProperty(&quot;prepStmtCacheSqlLimit&quot;, &quot;2048&quot;);\r\n            \r\n            \r\n            return new HikariDataSource(config);\r\n            \r\n        }\r\n    }\r\n\r\nRepository:\r\n\r\n        @Repository\r\n    public class TelefonMailRepository {\r\n          \r\n        \r\n        \r\n      \r\n        \r\n        public List&lt;Map&lt;String, Object&gt;&gt; findByNumber(String telefon){\r\n            DbConfig dbc = new DbConfig();\r\n            \r\n            JdbcTemplate jdbcTemplate = new JdbcTemplate(dbc.dataSourceInregIvg());\r\n        List&lt;Map&lt;String, Object&gt;&gt; info1 = jdbcTemplate.queryForList(&quot;select cif, den_client from b101_conturi where telefon=?&quot;, telefon);\r\n       \r\n       return info1;\r\n        \r\n        }\r\n        \r\n        \r\n        \r\n        public Map&lt;String, Object&gt; findByNumber2(String telefon) {\r\n            \r\n            DbConfig dbc = new DbConfig();\r\n            \r\n            String query2 = &quot;select cnp, nume, prenume from utilizatori where telefon=?&quot;;\r\n            JdbcTemplate jdbcTemplate = new JdbcTemplate(dbc.dataSourceMail());\r\n            Map&lt;String, Object&gt; info = jdbcTemplate.queryForMap(query2,telefon);\r\n            \r\n            return info;\r\n                    \r\n        } }\r\n\r\nService:\r\n\r\n        @Service\r\n    public class TelefonMailService {\r\n        \r\n    @Autowired    \r\n    private TelefonMailRepository repository;\r\n    \r\n    \r\n    \r\n    public List&lt;Map&lt;String, Object&gt;&gt; getRaspuns(String telefon) {\r\n       \r\n        \r\n        List&lt;Map&lt;String, Object&gt;&gt; mapList = new ArrayList&lt;&gt;();\r\n    \r\n        \r\n        \r\n    mapList = repository.findByNumber(telefon);\r\n    \r\n        return mapList;\r\n     \r\n    }\r\n    \r\n    public Raspuns getRaspunsB(String telefon) {\r\n        \r\n        Map&lt;String, Object&gt; map = repository.findByNumber2(telefon);\r\n        \r\n        String cnp = (String)map.get(&quot;cnp&quot;).toString();\r\n        String nume = (String)map.get(&quot;nume&quot;);\r\n        String prenume = (String)map.get(&quot;prenume&quot;);\r\n        \r\n        Raspuns raspuns = new Raspuns();\r\n        raspuns.setCnp(cnp);\r\n        raspuns.setNume(nume);\r\n        raspuns.setPrenume(prenume);\r\n        \r\n        return raspuns;\r\n        \r\n    } }\r\n\r\nController:\r\n\r\n    @PostMapping(&quot;/raspuns&quot;)\r\n    public String postDbRequest(@RequestParam(&quot;text2&quot;)String telefon, Model model) {\r\n    \r\n        Raspuns x = service.getRaspunsB(telefon);\r\n        model.addAttribute(&quot;raspuns&quot;, x);\r\n     \r\n      \r\n       List&lt;Map&lt;String, Object&gt;&gt; mapList = service.getRaspuns(telefon);\r\n        model.addAttribute(&quot;map_list&quot;,mapList);\r\n     \r\n      \r\n        \r\n       \r\n        return &quot;raspuns&quot;;\r\n    }}\r\n\r\nData class:\r\n\r\n        import lombok.Data;\r\n    \r\n    \r\n    @Data\r\n    public class Raspuns {\r\n        \r\n     private String cnp;\r\n       \r\n     private String nume;\r\n       \r\n     private String prenume;\r\n     \r\n     private String cif;\r\n     \r\n     private String den_client;\r\n        \r\n    }\r\n\r\nThymeleaf index.html class:\r\n\r\n        &lt;!DOCTYPE html&gt;\r\n    &lt;html xmlns:th =&quot;http://www.thymeleaf.org&quot; &gt;\r\n    &lt;head&gt;\r\n    &lt;meta charset =&quot;UTF-8&quot; &gt;&lt;/meta&gt;\r\n    &lt;meta name =&quot;viewport&quot; content =&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot; &gt;\r\n    &lt;!-- Read CSS --&gt;\r\n    &lt;link rel =&quot;stylesheet&quot; th:href =&quot;@{/webjars/bootstrap/css/bootstrap.min.css}&quot; &gt;\r\n    &lt;link rel =&quot;stylesheet&quot; th:href =&quot;@{/stil.css}&quot; &gt;\r\n    &lt;!-- Read JS --&gt;\r\n    &lt;script th:src =&quot;@{/webjars/jquery/jquery.min.js}&quot; defer &gt;&lt;/script&gt;\r\n    &lt;script th:src =&quot;@{/webjars/bootstrap/js/bootstrap.min.js}&quot; defer &gt;&lt;/script&gt;\r\n    &lt;title&gt; Cautare telefon sau e-mail&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body class =&quot;bg-light&quot; &gt;\r\n        &lt;h2 text-align=&quot;center&quot;&gt;Cautare telefon sau email&lt;/h2&gt;\r\n    &lt;div class =&quot;text-center&quot; &gt;\r\n    &lt;form method =&quot;post&quot; action =&quot;/raspuns&quot; &gt;\r\n    &lt;div class=&quot;form-group&quot;&gt;\r\n        &lt;input type =&quot;number&quot; minlength=&quot;10&quot; maxlength=&quot;10&quot; class=&quot;form-control&quot; name =&quot;text2&quot; th:value =&quot;${text2_value}&quot; placeholder=&quot;Numar telefon&quot;/&gt;\r\n        \r\n        &lt;input type =&quot;submit&quot; value =&quot;Cauta&quot; class =&quot;btn btn-primary&quot; margin-top=&quot;2%&quot;/&gt;\r\n    &lt;/div&gt;\r\n        &lt;/form&gt;\r\n        &lt;br&gt;&lt;/br&gt;\r\n    &lt;form method =&quot;post&quot; action =&quot;/raspuns2&quot; &gt;\r\n        &lt;div class =&quot;form-group&quot; &gt;\r\n    &lt;input type =&quot;email&quot; class =&quot;form-control&quot; placeholder =&quot;Adresa email&quot; th:value=&quot;${email_value}&quot;\r\n    name =&quot;email&quot; /&gt;\r\n    \r\n    &lt;input type =&quot;submit&quot; value =&quot;Cauta&quot; class =&quot;btn btn-primary&quot; margin-top=&quot;2%&quot;/&gt;\r\n    &lt;/div&gt;\r\n        \r\n    &lt;/form&gt;\r\n    \r\n    &lt;/div&gt;\r\n       \r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nThymleaf html response and display answer class:\r\n\r\n        &lt;!DOCTYPE html&gt;\r\n    &lt;html xmlns:th =&quot;http://www.thymeleaf.org&quot; &gt;\r\n    &lt;head&gt;\r\n    &lt;meta charset =&quot;UTF-8&quot; &gt;&lt;/meta&gt;\r\n    &lt;meta name =&quot;viewport&quot; content =&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot; &gt;\r\n    &lt;!-- Read CSS --&gt;\r\n    &lt;link rel =&quot;stylesheet&quot; th:href =&quot;@{/webjars/bootstrap/css/bootstrap.min.css}&quot; &gt;\r\n    &lt;link rel =&quot;stylesheet&quot; th:href =&quot;@{/stil.css}&quot; &gt;\r\n    &lt;!-- Read JS --&gt;\r\n    &lt;script th:src =&quot;@{/webjars/jquery/jquery.min.js}&quot; defer &gt;&lt;/script&gt;\r\n    &lt;script th:src =&quot;@{/webjars/bootstrap/js/bootstrap.min.js}&quot; defer &gt;&lt;/script&gt;\r\n    &lt;title&gt; Cautare telefon sau email&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;form  action=&quot;/&quot;&gt;\r\n        &lt;button class =&quot;btn btn-primary&quot;&gt;Acasa&lt;/button&gt;    \r\n        &lt;/form&gt;\r\n    &lt;h1&gt; Cautare telefon&lt;/h1&gt;\r\n    \r\n    &lt;table class=&quot;table&quot;&gt;\r\n        \r\n      &lt;tbody&gt;\r\n        &lt;tr th:each=&quot;map : ${map_list}&quot; &gt;\r\n    &lt;td&gt; CNP:&lt;/td&gt;\r\n    &lt;td th:text =&quot;${map.get(&#39;cif&#39;)}&quot; &gt;&lt;/td&gt;\r\n    &lt;td&gt; Nume:&lt;/td&gt;\r\n    &lt;td th:text =&quot;${map.get(&#39;den_client&#39;)}&quot; &gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    \r\n    \r\n    \r\n    \r\n      &lt;/tbody&gt;\r\n    &lt;/table&gt;\r\n    &lt;table&gt;\r\n    &lt;tr&gt;\r\n    &lt;td&gt; CNP:&lt;/td&gt;\r\n    &lt;td th:text =&quot;${raspuns.cnp}&quot; &gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n    &lt;td&gt; Nume:&lt;/td&gt;\r\n    &lt;td th:text =&quot;${raspuns.nume}&quot; &gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n    &lt;td&gt; Prenume:&lt;/td&gt;\r\n    &lt;td th:text =&quot;${raspuns.prenume}&quot; &gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;/table&gt;\r\n    \r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nYesterday I interogated a phone number that exists in database A and I received answer and when I interogated database B it gave me no results. Today I did a build and clean and when I interogated database B it gave me a response but from database A did not give me an answer it gave me no results. I do not understand how and why it does not connect to both databases at once. Thanks\r\n\r\n","title":"Using multiple DataSources in Spring","body":"<p>I have built a web app in Spring. Till now I have managed to connect to only one datasource but I need to connect to two Datasources.</p>\n<p>Here is the code:</p>\n<p>DbConfig class:</p>\n<pre><code> @Configuration\npublic class DbConfig {\n    \n    @Bean\n    @Primary\n    public DataSource dataSourceMail() {\n    \n       \n            \n        HikariConfig config = new HikariConfig();\n        config.setDriverClassName(&quot;oracle.jdbc.OracleDriver&quot;);\n        config.setJdbcUrl(&quot;jdbc:oracle:thin:@1&quot;);\n        config.setUsername(&quot;xxx&quot;);\n        config.setPassword(&quot;xxx&quot;);\n        config.setConnectionTimeout(20000);\n        config.setMaximumPoolSize(100);\n        config.addDataSourceProperty(&quot;cachePrepStmts&quot;, &quot;true&quot;);\n        config.addDataSourceProperty(&quot;prepStmtCacheSize&quot;, &quot;250&quot;);\n        config.addDataSourceProperty(&quot;prepStmtCacheSqlLimit&quot;, &quot;2048&quot;);\n        \n        \n        return new HikariDataSource(config);\n    }\n    \n    @Bean(name=&quot;inregIvg&quot;)\n    public DataSource dataSourceInregIvg() {\n        \n        HikariConfig config = new HikariConfig();\n        config.setDriverClassName(&quot;oracle.jdbc.OracleDriver&quot;);\n        config.setJdbcUrl(&quot;jdbc:oracle:thin:@2&quot;);\n        config.setUsername(&quot;yyy&quot;);\n        config.setPassword(&quot;yyy&quot;);\n        config.setConnectionTimeout(20000);\n        config.setMaximumPoolSize(100);\n        config.addDataSourceProperty(&quot;cachePrepStmts&quot;, &quot;true&quot;);\n        config.addDataSourceProperty(&quot;prepStmtCacheSize&quot;, &quot;250&quot;);\n        config.addDataSourceProperty(&quot;prepStmtCacheSqlLimit&quot;, &quot;2048&quot;);\n        \n        \n        return new HikariDataSource(config);\n        \n    }\n}\n</code></pre>\n<p>Repository:</p>\n<pre><code>    @Repository\npublic class TelefonMailRepository {\n      \n    \n    \n  \n    \n    public List&lt;Map&lt;String, Object&gt;&gt; findByNumber(String telefon){\n        DbConfig dbc = new DbConfig();\n        \n        JdbcTemplate jdbcTemplate = new JdbcTemplate(dbc.dataSourceInregIvg());\n    List&lt;Map&lt;String, Object&gt;&gt; info1 = jdbcTemplate.queryForList(&quot;select cif, den_client from b101_conturi where telefon=?&quot;, telefon);\n   \n   return info1;\n    \n    }\n    \n    \n    \n    public Map&lt;String, Object&gt; findByNumber2(String telefon) {\n        \n        DbConfig dbc = new DbConfig();\n        \n        String query2 = &quot;select cnp, nume, prenume from utilizatori where telefon=?&quot;;\n        JdbcTemplate jdbcTemplate = new JdbcTemplate(dbc.dataSourceMail());\n        Map&lt;String, Object&gt; info = jdbcTemplate.queryForMap(query2,telefon);\n        \n        return info;\n                \n    } }\n</code></pre>\n<p>Service:</p>\n<pre><code>    @Service\npublic class TelefonMailService {\n    \n@Autowired    \nprivate TelefonMailRepository repository;\n\n\n\npublic List&lt;Map&lt;String, Object&gt;&gt; getRaspuns(String telefon) {\n   \n    \n    List&lt;Map&lt;String, Object&gt;&gt; mapList = new ArrayList&lt;&gt;();\n\n    \n    \nmapList = repository.findByNumber(telefon);\n\n    return mapList;\n \n}\n\npublic Raspuns getRaspunsB(String telefon) {\n    \n    Map&lt;String, Object&gt; map = repository.findByNumber2(telefon);\n    \n    String cnp = (String)map.get(&quot;cnp&quot;).toString();\n    String nume = (String)map.get(&quot;nume&quot;);\n    String prenume = (String)map.get(&quot;prenume&quot;);\n    \n    Raspuns raspuns = new Raspuns();\n    raspuns.setCnp(cnp);\n    raspuns.setNume(nume);\n    raspuns.setPrenume(prenume);\n    \n    return raspuns;\n    \n} }\n</code></pre>\n<p>Controller:</p>\n<pre><code>@PostMapping(&quot;/raspuns&quot;)\npublic String postDbRequest(@RequestParam(&quot;text2&quot;)String telefon, Model model) {\n\n    Raspuns x = service.getRaspunsB(telefon);\n    model.addAttribute(&quot;raspuns&quot;, x);\n \n  \n   List&lt;Map&lt;String, Object&gt;&gt; mapList = service.getRaspuns(telefon);\n    model.addAttribute(&quot;map_list&quot;,mapList);\n \n  \n    \n   \n    return &quot;raspuns&quot;;\n}}\n</code></pre>\n<p>Data class:</p>\n<pre><code>    import lombok.Data;\n\n\n@Data\npublic class Raspuns {\n    \n private String cnp;\n   \n private String nume;\n   \n private String prenume;\n \n private String cif;\n \n private String den_client;\n    \n}\n</code></pre>\n<p>Thymeleaf index.html class:</p>\n<pre><code>    &lt;!DOCTYPE html&gt;\n&lt;html xmlns:th =&quot;http://www.thymeleaf.org&quot; &gt;\n&lt;head&gt;\n&lt;meta charset =&quot;UTF-8&quot; &gt;&lt;/meta&gt;\n&lt;meta name =&quot;viewport&quot; content =&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot; &gt;\n&lt;!-- Read CSS --&gt;\n&lt;link rel =&quot;stylesheet&quot; th:href =&quot;@{/webjars/bootstrap/css/bootstrap.min.css}&quot; &gt;\n&lt;link rel =&quot;stylesheet&quot; th:href =&quot;@{/stil.css}&quot; &gt;\n&lt;!-- Read JS --&gt;\n&lt;script th:src =&quot;@{/webjars/jquery/jquery.min.js}&quot; defer &gt;&lt;/script&gt;\n&lt;script th:src =&quot;@{/webjars/bootstrap/js/bootstrap.min.js}&quot; defer &gt;&lt;/script&gt;\n&lt;title&gt; Cautare telefon sau e-mail&lt;/title&gt;\n&lt;/head&gt;\n&lt;body class =&quot;bg-light&quot; &gt;\n    &lt;h2 text-align=&quot;center&quot;&gt;Cautare telefon sau email&lt;/h2&gt;\n&lt;div class =&quot;text-center&quot; &gt;\n&lt;form method =&quot;post&quot; action =&quot;/raspuns&quot; &gt;\n&lt;div class=&quot;form-group&quot;&gt;\n    &lt;input type =&quot;number&quot; minlength=&quot;10&quot; maxlength=&quot;10&quot; class=&quot;form-control&quot; name =&quot;text2&quot; th:value =&quot;${text2_value}&quot; placeholder=&quot;Numar telefon&quot;/&gt;\n    \n    &lt;input type =&quot;submit&quot; value =&quot;Cauta&quot; class =&quot;btn btn-primary&quot; margin-top=&quot;2%&quot;/&gt;\n&lt;/div&gt;\n    &lt;/form&gt;\n    &lt;br&gt;&lt;/br&gt;\n&lt;form method =&quot;post&quot; action =&quot;/raspuns2&quot; &gt;\n    &lt;div class =&quot;form-group&quot; &gt;\n&lt;input type =&quot;email&quot; class =&quot;form-control&quot; placeholder =&quot;Adresa email&quot; th:value=&quot;${email_value}&quot;\nname =&quot;email&quot; /&gt;\n\n&lt;input type =&quot;submit&quot; value =&quot;Cauta&quot; class =&quot;btn btn-primary&quot; margin-top=&quot;2%&quot;/&gt;\n&lt;/div&gt;\n    \n&lt;/form&gt;\n\n&lt;/div&gt;\n   \n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Thymleaf html response and display answer class:</p>\n<pre><code>    &lt;!DOCTYPE html&gt;\n&lt;html xmlns:th =&quot;http://www.thymeleaf.org&quot; &gt;\n&lt;head&gt;\n&lt;meta charset =&quot;UTF-8&quot; &gt;&lt;/meta&gt;\n&lt;meta name =&quot;viewport&quot; content =&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot; &gt;\n&lt;!-- Read CSS --&gt;\n&lt;link rel =&quot;stylesheet&quot; th:href =&quot;@{/webjars/bootstrap/css/bootstrap.min.css}&quot; &gt;\n&lt;link rel =&quot;stylesheet&quot; th:href =&quot;@{/stil.css}&quot; &gt;\n&lt;!-- Read JS --&gt;\n&lt;script th:src =&quot;@{/webjars/jquery/jquery.min.js}&quot; defer &gt;&lt;/script&gt;\n&lt;script th:src =&quot;@{/webjars/bootstrap/js/bootstrap.min.js}&quot; defer &gt;&lt;/script&gt;\n&lt;title&gt; Cautare telefon sau email&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;form  action=&quot;/&quot;&gt;\n    &lt;button class =&quot;btn btn-primary&quot;&gt;Acasa&lt;/button&gt;    \n    &lt;/form&gt;\n&lt;h1&gt; Cautare telefon&lt;/h1&gt;\n\n&lt;table class=&quot;table&quot;&gt;\n    \n  &lt;tbody&gt;\n    &lt;tr th:each=&quot;map : ${map_list}&quot; &gt;\n&lt;td&gt; CNP:&lt;/td&gt;\n&lt;td th:text =&quot;${map.get('cif')}&quot; &gt;&lt;/td&gt;\n&lt;td&gt; Nume:&lt;/td&gt;\n&lt;td th:text =&quot;${map.get('den_client')}&quot; &gt;&lt;/td&gt;\n&lt;/tr&gt;\n\n\n\n\n  &lt;/tbody&gt;\n&lt;/table&gt;\n&lt;table&gt;\n&lt;tr&gt;\n&lt;td&gt; CNP:&lt;/td&gt;\n&lt;td th:text =&quot;${raspuns.cnp}&quot; &gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt; Nume:&lt;/td&gt;\n&lt;td th:text =&quot;${raspuns.nume}&quot; &gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt; Prenume:&lt;/td&gt;\n&lt;td th:text =&quot;${raspuns.prenume}&quot; &gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Yesterday I interogated a phone number that exists in database A and I received answer and when I interogated database B it gave me no results. Today I did a build and clean and when I interogated database B it gave me a response but from database A did not give me an answer it gave me no results. I do not understand how and why it does not connect to both databases at once. Thanks</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1648028437,"post_id":71584711,"comment_id":126517940,"body_markdown":"please try to be a bit more clear.","body":"please try to be a bit more clear."},{"owner":{"account_id":19830252,"reputation":37,"user_id":14525009,"display_name":"dragon sly"},"score":0,"creation_date":1648029608,"post_id":71584711,"comment_id":126518399,"body_markdown":"I have my list that appears with about fifty names and I would like that instead of manually looking for its position by scrolling the recycleview that it focuses directly on the player&#39;s line but always keeping the previous and next lines it is why do a search does not interest me because I would only have the line requested and not the others\n\nthank you","body":"I have my list that appears with about fifty names and I would like that instead of manually looking for its position by scrolling the recycleview that it focuses directly on the player&#39;s line but always keeping the previous and next lines it is why do a search does not interest me because I would only have the line requested and not the others  thank you"},{"owner":{"account_id":9101183,"reputation":195,"user_id":6773266,"display_name":"mohammed ahmed"},"score":0,"creation_date":1648045486,"post_id":71584711,"comment_id":126525075,"body_markdown":"Do you want your recycler view to scroll to specific position?","body":"Do you want your recycler view to scroll to specific position?"},{"owner":{"account_id":19830252,"reputation":37,"user_id":14525009,"display_name":"dragon sly"},"score":0,"creation_date":1648057547,"post_id":71584711,"comment_id":126530387,"body_markdown":"yes thats what i want to do thank you","body":"yes thats what i want to do thank you"}],"answers":[{"tags":[],"owner":{"account_id":16009437,"reputation":55,"user_id":18441288,"display_name":"pak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648138802,"creation_date":1648050970,"answer_id":71590295,"question_id":71584711,"body_markdown":"Your question is quite confuse. But... As per my understanding to your question, you have a list and you want to show it in recyclerview by username.\r\n\r\nIf I am right, \r\n\r\n```\r\nList&lt;String&gt; playerList = Arrays.asList(&quot;Ozil&quot;, &quot;Odegard&quot;, &quot;Son&quot;, &quot;Kane&quot;, &quot;Neymar&quot;);  \r\nList&lt;String&gt; sortedList =playerList.stream().sorted().collect(Collectors.toList());     \r\n\r\n//this will sort the list by name order and you can just simply attach it to recycler view\r\n```\r\n\r\nPlease tell me if my understanding is wrong.\r\n\r\n\r\n**EDIT**\r\n\r\nI see. You want to scroll to the specific position. If you can simply get the Username, do like this.\r\n\r\n```\r\nint index = userList.indexOf(&quot;user1&quot;); //this will return index of the user1\r\n\r\nrv.getLayoutManager().scrollToPosition(index); //this will scroll to user1 position automatically\r\n\r\n```\r\n\r\nThe above code will scroll to the User1 position. But User1 will not at position 1. I mean you can scroll up if you want.  To show User1 at the top of the list, please do the following.\r\n\r\n```\r\nint index = userList.indexOf(&quot;user1&quot;);\r\n\r\nuserList.remove(index); // will remove user1\r\nuserList.add(0,&quot;user1); //will add user1 add the top\r\n\r\n```\r\n","title":"How in a recycleview started the view by a condition","body":"<p>Your question is quite confuse. But... As per my understanding to your question, you have a list and you want to show it in recyclerview by username.</p>\n<p>If I am right,</p>\n<pre><code>List&lt;String&gt; playerList = Arrays.asList(&quot;Ozil&quot;, &quot;Odegard&quot;, &quot;Son&quot;, &quot;Kane&quot;, &quot;Neymar&quot;);  \nList&lt;String&gt; sortedList =playerList.stream().sorted().collect(Collectors.toList());     \n\n//this will sort the list by name order and you can just simply attach it to recycler view\n</code></pre>\n<p>Please tell me if my understanding is wrong.</p>\n<p><strong>EDIT</strong></p>\n<p>I see. You want to scroll to the specific position. If you can simply get the Username, do like this.</p>\n<pre><code>int index = userList.indexOf(&quot;user1&quot;); //this will return index of the user1\n\nrv.getLayoutManager().scrollToPosition(index); //this will scroll to user1 position automatically\n\n</code></pre>\n<p>The above code will scroll to the User1 position. But User1 will not at position 1. I mean you can scroll up if you want.  To show User1 at the top of the list, please do the following.</p>\n<pre><code>int index = userList.indexOf(&quot;user1&quot;);\n\nuserList.remove(index); // will remove user1\nuserList.add(0,&quot;user1); //will add user1 add the top\n\n</code></pre>\n"}],"owner":{"account_id":19830252,"reputation":37,"user_id":14525009,"display_name":"dragon sly"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648138802,"creation_date":1648027535,"question_id":71584711,"body_markdown":"I have a recycleview which works perfectly I go through an adapter.\r\n\r\n on the other hand I would like this view to be displayed not at position 0 but at a position following the name, it is to make a classification by player and I do not see how to do it, searching in the recycleview is not the solution because it does not display the results before and after.\r\n\r\n\r\nI think it is in the adapter that you have to modify the code attached\r\n\r\nThank you for your help\r\n\r\n    public class RecyclerAdapter extends RecyclerView.Adapter&lt;RecyclerAdapter.MyViewHolder&gt; {\r\n\r\n    private Context mContext;\r\n    private List&lt;Product&gt; products = new ArrayList&lt;&gt;();\r\n\r\n\r\n    public RecyclerAdapter (Context context,List&lt;Product&gt; products){\r\n        this.mContext = context;\r\n        this.products = products;\r\n    }\r\n\r\n\r\n    public class MyViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        private TextView mTitle, mPrice,mPosition;\r\n     /*   private ImageView mImageView;*/\r\n        private RatingBar mRate;\r\n        private LinearLayout mContainer;\r\n\r\n        public MyViewHolder (View view){\r\n            super(view);\r\n\r\n            mTitle = view.findViewById(R.id.product_title);\r\n      /*      mImageView = view.findViewById(R.id.product_image);*/\r\n\r\n            mPrice = view.findViewById(R.id.product_price);\r\n            mContainer = view.findViewById(R.id.product_container);\r\n       mPosition=view.findViewById(R.id.position);\r\n\r\n\r\n        }\r\n    }\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n\r\n        View view = LayoutInflater.from(mContext).inflate(R.layout.products_list_item_layout,parent,false);\r\n        return new MyViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n\r\n        final Product product = products.get(position);\r\n\r\n        holder.mPosition.setText(position+1+&quot;&quot;);\r\n        holder.mPrice.setText(product.getNom());\r\n\r\n        holder.mTitle.setText(product.getPoint());\r\n       /* Glide.with(mContext).load(product.getImage()).into(holder.mImageView);*/\r\n\r\n\r\n\r\n    }","title":"How in a recycleview started the view by a condition","body":"<p>I have a recycleview which works perfectly I go through an adapter.</p>\n<p>on the other hand I would like this view to be displayed not at position 0 but at a position following the name, it is to make a classification by player and I do not see how to do it, searching in the recycleview is not the solution because it does not display the results before and after.</p>\n<p>I think it is in the adapter that you have to modify the code attached</p>\n<p>Thank you for your help</p>\n<pre><code>public class RecyclerAdapter extends RecyclerView.Adapter&lt;RecyclerAdapter.MyViewHolder&gt; {\n\nprivate Context mContext;\nprivate List&lt;Product&gt; products = new ArrayList&lt;&gt;();\n\n\npublic RecyclerAdapter (Context context,List&lt;Product&gt; products){\n    this.mContext = context;\n    this.products = products;\n}\n\n\npublic class MyViewHolder extends RecyclerView.ViewHolder {\n\n    private TextView mTitle, mPrice,mPosition;\n /*   private ImageView mImageView;*/\n    private RatingBar mRate;\n    private LinearLayout mContainer;\n\n    public MyViewHolder (View view){\n        super(view);\n\n        mTitle = view.findViewById(R.id.product_title);\n  /*      mImageView = view.findViewById(R.id.product_image);*/\n\n        mPrice = view.findViewById(R.id.product_price);\n        mContainer = view.findViewById(R.id.product_container);\n   mPosition=view.findViewById(R.id.position);\n\n\n    }\n}\n\n\n@NonNull\n@Override\npublic MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n    View view = LayoutInflater.from(mContext).inflate(R.layout.products_list_item_layout,parent,false);\n    return new MyViewHolder(view);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n\n    final Product product = products.get(position);\n\n    holder.mPosition.setText(position+1+&quot;&quot;);\n    holder.mPrice.setText(product.getNom());\n\n    holder.mTitle.setText(product.getPoint());\n   /* Glide.with(mContext).load(product.getImage()).into(holder.mImageView);*/\n\n\n\n}\n</code></pre>\n"},{"tags":["java","spring","junit"],"answers":[{"tags":[],"owner":{"account_id":3385568,"reputation":183,"user_id":2841597,"display_name":"vishal"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1446301991,"creation_date":1394531531,"answer_id":22322077,"question_id":22245261,"body_markdown":"I have done the multipart file as a input for junit by using [\\[MockMultipartFile\\]][1].\r\n\r\n    FileInputStream inputFile = new FileInputStream( &quot;path of the file&quot;);  \r\n    MockMultipartFile file = new MockMultipartFile(&quot;file&quot;, &quot;NameOfTheFile&quot;, &quot;multipart/form-data&quot;, inputFile); \r\n\r\nnow use the file input as multipart file.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-framework/docs/2.0.8/api/org/springframework/mock/web/MockMultipartFile.html","title":"How to give the multipart file input in junit","body":"<p>I have done the multipart file as a input for junit by using <a href=\"http://docs.spring.io/spring-framework/docs/2.0.8/api/org/springframework/mock/web/MockMultipartFile.html\" rel=\"noreferrer\">[MockMultipartFile]</a>.</p>\n\n<pre><code>FileInputStream inputFile = new FileInputStream( \"path of the file\");  \nMockMultipartFile file = new MockMultipartFile(\"file\", \"NameOfTheFile\", \"multipart/form-data\", inputFile); \n</code></pre>\n\n<p>now use the file input as multipart file.</p>\n"},{"tags":[],"owner":{"account_id":6010289,"reputation":876,"user_id":4720950,"display_name":"Parameshwar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609767611,"creation_date":1609767611,"answer_id":65563656,"question_id":22245261,"body_markdown":"In case of unit test using Mockito, hence only for mocking parameter i added as following no need if file just to mock \r\n\r\n    MockMultipartFile kmlfile = new MockMultipartFile(&quot;data&quot;, &quot;filename.kml&quot;, &quot;text/plain&quot;, &quot;some kml&quot;.getBytes());\r\n\r\nAbove code helped in creating mock file just for mocking\r\n\r\nFollowing is the Controller service which am mocking\r\n\r\n\t@RestController\r\n\tpublic class LayerDataController {\r\n\r\n\t\t@PostMapping(value = &quot;/saveOnflyMaplayerdata&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n\t\tpublic Map&lt;String, Object&gt; saveOnflyMaplayerdata(\r\n\t\t\t\t@RequestParam(&quot;name&quot;) String name, \r\n\t\t\t\t@RequestParam(&quot;fileData&quot;) MultipartFile fileData) {\r\n\t\t\ttry {\r\n\t\t\t\tboolean isValidFile = false;\r\n\t\t\t\tif (!fileData.isEmpty()) {\r\n\r\n\t\t\t\t\tString fileName = fileData.getOriginalFilename();\r\n\t\t\t\t\tLOGGER.info(&quot;fileName : &quot; + fileName);\r\n\t\t\t\t\tString filetype = FilenameUtils.getExtension(fileName);\r\n\t\t\t\t\tLOGGER.info(&quot;fileName : &quot; + filetype);\r\n\r\n\t\t\t\t\tswitch (filetype) {\r\n\r\n\t\t\t\t\tcase &quot;csv&quot;:\r\n\t\t\t\t\t\tisValidFile = true;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase &quot;kml&quot;:\r\n\t\t\t\t\t\tisValidFile = true;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase &quot;kmz&quot;:\r\n\t\t\t\t\t\tisValidFile = true;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tisValidFile = false;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (isValidFile) {\r\n\t\t\t\t\t\t//call save method\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tMap&lt;String, Object&gt; response = new HashMap&lt;&gt;();\r\n\t\t\t\t\t\tresponse.put(&quot;status&quot;, false);\r\n\t\t\t\t\t\tresponse.put(&quot;err_msg&quot;, &quot;Unexpected Filetype/extection failed uploading&quot;);\r\n\t\t\t\t\t\treturn response;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tLOGGER.error(e);\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t}\r\n\r\nTestcase written using Mockito (Mocking multipart file)\r\n\r\n\timport java.util.HashMap;\r\n\timport java.util.Map;\r\n\timport org.junit.Before;\r\n\timport org.junit.Test;\r\n\timport org.junit.runner.RunWith;\r\n\timport org.mockito.InjectMocks;\r\n\timport org.mockito.Mock;\r\n\timport org.mockito.Mockito;\r\n\timport org.mockito.MockitoAnnotations;\r\n\timport org.mockito.junit.MockitoJUnitRunner;\r\n\timport org.springframework.beans.factory.annotation.Autowired;\r\n\timport org.springframework.mock.web.MockMultipartFile;\r\n\timport org.springframework.web.multipart.MultipartFile;\r\n\timport com.example.service.OnflyFileSave;\r\n\r\n\t@RunWith(MockitoJUnitRunner.class)\r\n\tpublic class LayerDataControllerTest  {\r\n\r\n\t\t@Mock\r\n\t\tOnflyFileSave onfly;\r\n\t\t\r\n\t\t@InjectMocks\r\n\t\tLayerDataController testclass;\r\n\t\t\r\n\t\t@Before\r\n\t\tpublic void setUp() throws Exception {\r\n\t\t    MockitoAnnotations.initMocks(this);\r\n\r\n\t\t}\r\n\r\n\t\t@Test\r\n\t\tpublic void testSaveOnflyMaplayerdataCsv() {\r\n        //no file is path is used as simpley mocking is done just to Mock in method level\r\n\t        MockMultipartFile csvfile = new MockMultipartFile(&quot;data&quot;, &quot;filename.csv&quot;, &quot;text/plain&quot;, &quot;some csv&quot;.getBytes());\r\n\t\t\ttestclass.saveOnflyMaplayerdata(&quot;name&quot;, csvfile);\r\n\t\t}\r\n\r\n\t\t@Test\r\n\t\tpublic void testSaveOnflyMaplayerdataKml() {\r\n\t        MockMultipartFile kmlfile = new MockMultipartFile(&quot;data&quot;, &quot;filename.kml&quot;, &quot;text/plain&quot;, &quot;some kml&quot;.getBytes());\r\n\t\t\ttestclass.saveOnflyMaplayerdata(&quot;name&quot;, kmlfile);\r\n\t\t}\r\n\t}  \r\n\r\nPackage used as following in spring boot\r\n\r\n\t&lt;!-- For Mockito Spring boot --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-test&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt; \r\n\t&lt;!-- For Mockito Spring boot --&gt;\r\n\r\n\t&lt;!-- For Mock multipart --&gt;\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;!-- For Mock multipart --&gt;\r\n\r\n","title":"How to give the multipart file input in junit","body":"<p>In case of unit test using Mockito, hence only for mocking parameter i added as following no need if file just to mock</p>\n<pre><code>MockMultipartFile kmlfile = new MockMultipartFile(&quot;data&quot;, &quot;filename.kml&quot;, &quot;text/plain&quot;, &quot;some kml&quot;.getBytes());\n</code></pre>\n<p>Above code helped in creating mock file just for mocking</p>\n<p>Following is the Controller service which am mocking</p>\n<pre><code>@RestController\npublic class LayerDataController {\n\n    @PostMapping(value = &quot;/saveOnflyMaplayerdata&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\n    public Map&lt;String, Object&gt; saveOnflyMaplayerdata(\n            @RequestParam(&quot;name&quot;) String name, \n            @RequestParam(&quot;fileData&quot;) MultipartFile fileData) {\n        try {\n            boolean isValidFile = false;\n            if (!fileData.isEmpty()) {\n\n                String fileName = fileData.getOriginalFilename();\n                LOGGER.info(&quot;fileName : &quot; + fileName);\n                String filetype = FilenameUtils.getExtension(fileName);\n                LOGGER.info(&quot;fileName : &quot; + filetype);\n\n                switch (filetype) {\n\n                case &quot;csv&quot;:\n                    isValidFile = true;\n                    break;\n\n                case &quot;kml&quot;:\n                    isValidFile = true;\n                    break;\n\n                case &quot;kmz&quot;:\n                    isValidFile = true;\n                    break;\n\n                default:\n                    isValidFile = false;\n                    break;\n                }\n\n                if (isValidFile) {\n                    //call save method\n                } else {\n                    Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();\n                    response.put(&quot;status&quot;, false);\n                    response.put(&quot;err_msg&quot;, &quot;Unexpected Filetype/extection failed uploading&quot;);\n                    return response;\n                }\n            }\n        } catch (Exception e) {\n            LOGGER.error(e);\n        }\n        return null;\n    }\n\n}\n</code></pre>\n<p>Testcase written using Mockito (Mocking multipart file)</p>\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.Mockito;\nimport org.mockito.MockitoAnnotations;\nimport org.mockito.junit.MockitoJUnitRunner;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.mock.web.MockMultipartFile;\nimport org.springframework.web.multipart.MultipartFile;\nimport com.example.service.OnflyFileSave;\n\n@RunWith(MockitoJUnitRunner.class)\npublic class LayerDataControllerTest  {\n\n    @Mock\n    OnflyFileSave onfly;\n    \n    @InjectMocks\n    LayerDataController testclass;\n    \n    @Before\n    public void setUp() throws Exception {\n        MockitoAnnotations.initMocks(this);\n\n    }\n\n    @Test\n    public void testSaveOnflyMaplayerdataCsv() {\n    //no file is path is used as simpley mocking is done just to Mock in method level\n        MockMultipartFile csvfile = new MockMultipartFile(&quot;data&quot;, &quot;filename.csv&quot;, &quot;text/plain&quot;, &quot;some csv&quot;.getBytes());\n        testclass.saveOnflyMaplayerdata(&quot;name&quot;, csvfile);\n    }\n\n    @Test\n    public void testSaveOnflyMaplayerdataKml() {\n        MockMultipartFile kmlfile = new MockMultipartFile(&quot;data&quot;, &quot;filename.kml&quot;, &quot;text/plain&quot;, &quot;some kml&quot;.getBytes());\n        testclass.saveOnflyMaplayerdata(&quot;name&quot;, kmlfile);\n    }\n}  \n</code></pre>\n<p>Package used as following in spring boot</p>\n<pre><code>&lt;!-- For Mockito Spring boot --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt; \n&lt;!-- For Mockito Spring boot --&gt;\n\n&lt;!-- For Mock multipart --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;!-- For Mock multipart --&gt;\n</code></pre>\n"}],"owner":{"account_id":3385568,"reputation":183,"user_id":2841597,"display_name":"vishal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22369,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1648138619,"creation_date":1394181633,"question_id":22245261,"body_markdown":"I am using JUnit for testing of Daoimpl. In one of the cases, I need to give an input which is a multipart file. I searched the internet and found that mockmultipartfile is used, but didn&#39;t find any example. Please provide me one for better understanding. \r\n\r\nI am using **spring** and **JUnit 4.11**","title":"How to give the multipart file input in junit","body":"<p>I am using JUnit for testing of Daoimpl. In one of the cases, I need to give an input which is a multipart file. I searched the internet and found that mockmultipartfile is used, but didn't find any example. Please provide me one for better understanding.</p>\n<p>I am using <strong>spring</strong> and <strong>JUnit 4.11</strong></p>\n"},{"tags":["java","spring-boot","jpa","intellij-idea"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1648138305,"post_id":71605136,"comment_id":126553962,"body_markdown":"You have to open the ssh tunnel on your machine an then connect to your local host and port. How do you create the ssh tunnel?","body":"You have to open the ssh tunnel on your machine an then connect to your local host and port. How do you create the ssh tunnel?"}],"answers":[{"tags":[],"owner":{"account_id":6969304,"reputation":547,"user_id":5346203,"display_name":"Alex Cumarav"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1648138517,"creation_date":1648138517,"answer_id":71605879,"question_id":71605136,"body_markdown":"As you speak about the PROD database - of course, a better option is to make backup/restore local copy and play with it. But regarding the first part of your question you can use `ssh port forwarding` e.g.: \r\n```bash\r\nssh   -R 13306:0.0.0.0:3306 user@server -N\r\n# 13306 your machine local port\r\n# 3306 server remote port\r\n```\r\nand connect to remote MySQL server from your IntelliJ to `localhost:13306`\r\n\r\n","title":"IntelliJ and Jpa Buddy - SSH tunnel DB connection","body":"<p>As you speak about the PROD database - of course, a better option is to make backup/restore local copy and play with it. But regarding the first part of your question you can use <code>ssh port forwarding</code> e.g.:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>ssh   -R 13306:0.0.0.0:3306 user@server -N\n# 13306 your machine local port\n# 3306 server remote port\n</code></pre>\n<p>and connect to remote MySQL server from your IntelliJ to <code>localhost:13306</code></p>\n"}],"owner":{"account_id":11689088,"reputation":35,"user_id":8557945,"display_name":"sqgl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":480,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71605879,"answer_count":1,"score":1,"last_activity_date":1648138517,"creation_date":1648135386,"question_id":71605136,"body_markdown":"I&#39;m working on a Java project (based on Spring Boot 2.6.x) using IntelliJ Community Edition and JPA Buddy. I want to use JPA Buddy for entity utility and Liquibase integration.\r\n\r\nThe production DB (MySQL 5.7) is reachable only by ssh tunnel.\r\n\r\nIs there a way to configure a DB connection using ssh tunnel? How can I generate a changeLog from the production DB?\r\n\r\nThanks!\r\nMiky","title":"IntelliJ and Jpa Buddy - SSH tunnel DB connection","body":"<p>I'm working on a Java project (based on Spring Boot 2.6.x) using IntelliJ Community Edition and JPA Buddy. I want to use JPA Buddy for entity utility and Liquibase integration.</p>\n<p>The production DB (MySQL 5.7) is reachable only by ssh tunnel.</p>\n<p>Is there a way to configure a DB connection using ssh tunnel? How can I generate a changeLog from the production DB?</p>\n<p>Thanks!\nMiky</p>\n"},{"tags":["java","sql","postgresql","jdbc","timescaledb"],"comments":[{"owner":{"account_id":15441076,"reputation":2527,"user_id":11139634,"display_name":"Ancoron"},"score":2,"creation_date":1554748524,"post_id":55579020,"comment_id":97857988,"body_markdown":"Which version of timescaledb are you using? Are you sure that you are allowed to access the function? Also, are you by chance using a different schema or is the extension installed at a different schema?","body":"Which version of timescaledb are you using? Are you sure that you are allowed to access the function? Also, are you by chance using a different schema or is the extension installed at a different schema?"},{"owner":{"account_id":15601602,"reputation":51,"user_id":11255601,"display_name":"Bronfman"},"score":1,"creation_date":1554749868,"post_id":55579020,"comment_id":97858594,"body_markdown":"I can insert into this table, so its not about my jdbc configuration and schema, and I copy pasted the query to sql edior, it works just fine...","body":"I can insert into this table, so its not about my jdbc configuration and schema, and I copy pasted the query to sql edior, it works just fine..."},{"owner":{"account_id":15441076,"reputation":2527,"user_id":11139634,"display_name":"Ancoron"},"score":1,"creation_date":1554793255,"post_id":55579020,"comment_id":97870827,"body_markdown":"Can you add the output of the following query executed via JDBC and the correct user? `SELECT n.nspname, p.proname, a.rolname, pg_catalog.pg_get_function_arguments(p.oid), p.proacl\nFROM pg_catalog.pg_proc p LEFT JOIN pg_catalog.pg_namespace n ON (n.oid = p.pronamespace) LEFT JOIN pg_catalog.pg_authid a ON (a.oid = p.proowner)\nWHERE pg_catalog.pg_function_is_visible(p.oid) AND p.proname = &#39;time_bucket&#39;\nORDER BY 1, 2, 4;`","body":"Can you add the output of the following query executed via JDBC and the correct user? <code>SELECT n.nspname, p.proname, a.rolname, pg_catalog.pg_get_function_arguments(p.oid), p.proacl FROM pg_catalog.pg_proc p LEFT JOIN pg_catalog.pg_namespace n ON (n.oid = p.pronamespace) LEFT JOIN pg_catalog.pg_authid a ON (a.oid = p.proowner) WHERE pg_catalog.pg_function_is_visible(p.oid) AND p.proname = &#39;time_bucket&#39; ORDER BY 1, 2, 4;</code>"},{"owner":{"account_id":15601602,"reputation":51,"user_id":11255601,"display_name":"Bronfman"},"score":2,"creation_date":1554904967,"post_id":55579020,"comment_id":97922798,"body_markdown":"Thank you for your help, I finally solved the problem, its because I have set my default schema in my jdbc configuration file, but time_bucket function is in different schema, so system somehow cannot find it----which is weird, but that&#39;s the cause. again, thank you for your answer and help!","body":"Thank you for your help, I finally solved the problem, its because I have set my default schema in my jdbc configuration file, but time_bucket function is in different schema, so system somehow cannot find it----which is weird, but that&#39;s the cause. again, thank you for your answer and help!"},{"owner":{"account_id":15441076,"reputation":2527,"user_id":11139634,"display_name":"Ancoron"},"score":1,"creation_date":1554923784,"post_id":55579020,"comment_id":97932742,"body_markdown":"I&#39;m glad you solved it. :-)","body":"I&#39;m glad you solved it. :-)"}],"answers":[{"tags":[],"owner":{"account_id":5431088,"reputation":1748,"user_id":4321944,"display_name":"Martin Rauscher"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648138382,"creation_date":1648138382,"answer_id":71605841,"question_id":55579020,"body_markdown":"Repeating the answer from the comments for easier retrieval:\r\n\r\nIf you have a default schema (aka search path) set it must include the schema that contains the TSDB functions.\r\n\r\nOn a live connection you can do this e.g. like this:\r\n```sql\r\nSET search_path TO demo, public;\r\n```","title":"Query to select data from database between 2 timestamps, Exception: time_bucket function does not exists?","body":"<p>Repeating the answer from the comments for easier retrieval:</p>\n<p>If you have a default schema (aka search path) set it must include the schema that contains the TSDB functions.</p>\n<p>On a live connection you can do this e.g. like this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SET search_path TO demo, public;\n</code></pre>\n"}],"owner":{"account_id":15601602,"reputation":51,"user_id":11255601,"display_name":"Bronfman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1755,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1648138382,"creation_date":1554745622,"question_id":55579020,"body_markdown":"I&#39;ve been trying to write a query in Java to select data from postgres timescale database between 2 timestamps, but I keep getting Exception says that time_bucket function does not exists \r\n\r\nI cannot change the timestamp column in database to Date since I dont have the ownership, and I tried to copy paste the query to sql editor, it works perfectly fine!!\r\n\r\nthis is the query: \r\n\r\n    private final String SELECT_CANDLESTICK_BY_REQUEST = &quot;SELECT &quot; + \r\n\t\t\t&quot;\ttime_bucket(  interval &#39;1 minute&#39; , period_start_ts) AS periodts,  &quot; + \r\n\t\t\t&quot;\tcount(*),  &quot; + \r\n\t\t\t&quot;\tfirst(metrics-&gt;&gt;&#39;askOpen&#39;,period_start_ts) as askOpen,  &quot; + \r\n\t\t\t&quot;\tmax(metrics-&gt;&gt;&#39;askHigh&#39;) as askHigh,  &quot; + \r\n\t\t\t&quot;\tmin(metrics-&gt;&gt;&#39;askLow&#39;) as askLow,  &quot; + \r\n\t\t\t&quot;\tlast(metrics-&gt;&gt;&#39;askClose&#39;,period_start_ts) as askClose, &quot; + \r\n\t\t\t&quot;\tfirst(metrics-&gt;&gt;&#39;bidOpen&#39;,period_start_ts) as bidOpen,  &quot; + \r\n\t\t\t&quot;\tmax(metrics-&gt;&gt;&#39;bidHigh&#39;) as bidHigh,  &quot; + \r\n\t\t\t&quot;\tmin(metrics-&gt;&gt;&#39;bidLow&#39;) as bidLow,  &quot; + \r\n\t\t\t&quot;\tlast(metrics-&gt;&gt;&#39;bidClose&#39;,period_start_ts) as bidClose &quot; + \r\n\t\t\t&quot;  FROM candlestick_1_sec_fact &quot; + \r\n\t\t\t&quot;  where period_start_ts between ? and ? &quot; + \r\n\t\t\t&quot;  and symbol_cd = ? and liquidity_source_nm =  ? &quot; + \r\n\t\t\t&quot;  GROUP BY periodts &quot; + \r\n\t\t\t&quot;  ORDER BY periodts&quot; ;\r\n\r\n\r\n\r\n\r\nthis is how i set the parameters:\r\n\r\n    PreparedStatement select = connection.prepareStatement(SELECT_CANDLESTICK_BY_REQUEST);\r\n\t\t\t\r\n\t\t\r\n\t\tselect.setTimestamp(1, new Timestamp(startTime));\r\n\t\tselect.setTimestamp(2, new Timestamp(endTime));\r\n\t\tselect.setString(3, symbol);\r\n\t\tselect.setString(4, source); \r\n\r\nthis is the exception i get:\r\n\r\n    org.postgresql.util.PSQLException: ERROR: function time_bucket(interval, timestamp without time zone) does not exist . Hint: No function matches the given name and argument types. You might need to add explicit type casts.\r\n\r\nEven if i take out the interval keyword in the query, it still does not recognize the time_bucket function. \r\n\r\n\r\nThank you in advance for your time and knowledge!","title":"Query to select data from database between 2 timestamps, Exception: time_bucket function does not exists?","body":"<p>I've been trying to write a query in Java to select data from postgres timescale database between 2 timestamps, but I keep getting Exception says that time_bucket function does not exists </p>\n\n<p>I cannot change the timestamp column in database to Date since I dont have the ownership, and I tried to copy paste the query to sql editor, it works perfectly fine!!</p>\n\n<p>this is the query: </p>\n\n<pre><code>private final String SELECT_CANDLESTICK_BY_REQUEST = \"SELECT \" + \n        \"   time_bucket(  interval '1 minute' , period_start_ts) AS periodts,  \" + \n        \"   count(*),  \" + \n        \"   first(metrics-&gt;&gt;'askOpen',period_start_ts) as askOpen,  \" + \n        \"   max(metrics-&gt;&gt;'askHigh') as askHigh,  \" + \n        \"   min(metrics-&gt;&gt;'askLow') as askLow,  \" + \n        \"   last(metrics-&gt;&gt;'askClose',period_start_ts) as askClose, \" + \n        \"   first(metrics-&gt;&gt;'bidOpen',period_start_ts) as bidOpen,  \" + \n        \"   max(metrics-&gt;&gt;'bidHigh') as bidHigh,  \" + \n        \"   min(metrics-&gt;&gt;'bidLow') as bidLow,  \" + \n        \"   last(metrics-&gt;&gt;'bidClose',period_start_ts) as bidClose \" + \n        \"  FROM candlestick_1_sec_fact \" + \n        \"  where period_start_ts between ? and ? \" + \n        \"  and symbol_cd = ? and liquidity_source_nm =  ? \" + \n        \"  GROUP BY periodts \" + \n        \"  ORDER BY periodts\" ;\n</code></pre>\n\n<p>this is how i set the parameters:</p>\n\n<pre><code>PreparedStatement select = connection.prepareStatement(SELECT_CANDLESTICK_BY_REQUEST);\n\n\n    select.setTimestamp(1, new Timestamp(startTime));\n    select.setTimestamp(2, new Timestamp(endTime));\n    select.setString(3, symbol);\n    select.setString(4, source); \n</code></pre>\n\n<p>this is the exception i get:</p>\n\n<pre><code>org.postgresql.util.PSQLException: ERROR: function time_bucket(interval, timestamp without time zone) does not exist . Hint: No function matches the given name and argument types. You might need to add explicit type casts.\n</code></pre>\n\n<p>Even if i take out the interval keyword in the query, it still does not recognize the time_bucket function. </p>\n\n<p>Thank you in advance for your time and knowledge!</p>\n"},{"tags":["java","json","serialization","jackson","objectmapper"],"comments":[{"owner":{"account_id":14179476,"reputation":2663,"user_id":10243634,"display_name":"Oboe"},"score":0,"creation_date":1647963864,"post_id":71573627,"comment_id":126500875,"body_markdown":"Why not `if (values != null) jsonNode.putPOJO(jsonKey, values);`?","body":"Why not <code>if (values != null) jsonNode.putPOJO(jsonKey, values);</code>?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1647965286,"post_id":71573627,"comment_id":126501537,"body_markdown":"To summarize the question linked above, it&#39;s easiest to either manually exclude null when working with json tree, or don&#39;t include them at all. The explanation why this is happening is in the accepted answer.","body":"To summarize the question linked above, it&#39;s easiest to either manually exclude null when working with json tree, or don&#39;t include them at all. The explanation why this is happening is in the accepted answer."},{"owner":{"account_id":7850636,"reputation":3,"user_id":5934198,"display_name":"XChobot"},"score":0,"creation_date":1648113005,"post_id":71573627,"comment_id":126543377,"body_markdown":"@Oboe I agree that this is one of the solutions I currently use, but I wanted a native solution when the ObjectMapper supports it.","body":"@Oboe I agree that this is one of the solutions I currently use, but I wanted a native solution when the ObjectMapper supports it."},{"owner":{"account_id":7850636,"reputation":3,"user_id":5934198,"display_name":"XChobot"},"score":0,"creation_date":1648113429,"post_id":71573627,"comment_id":126543529,"body_markdown":"@Chaosfire, Thanks you a lot for provided link. This clarifies me why the settings is ignored and filtering are not applied. What i don&#39;t understand is, why this options is allowed to set. Is it only applicable to specific scenario? like for example for primitive data types?","body":"@Chaosfire, Thanks you a lot for provided link. This clarifies me why the settings is ignored and filtering are not applied. What i don&#39;t understand is, why this options is allowed to set. Is it only applicable to specific scenario? like for example for primitive data types?"}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648118324,"creation_date":1648118324,"answer_id":71600932,"question_id":71573627,"body_markdown":"This option is applicable when serializing objects, custom objects or a `Map` for example, but **not** when working with json tree. Consider this `Foo` class:\r\n```\r\npublic class Foo {\r\n\r\n    private String id;\r\n    private String name;\r\n\r\n    //getters and setters\r\n}\r\n```\r\nThe option to exclude nulls will work as expected with it.\r\n\r\nMain method to illustrate it:\r\n```\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        serializeNulls();\r\n        System.out.println();\r\n        doNotSerializeNulls();\r\n    }\r\n\r\n    private static void serializeNulls() throws Exception {\r\n        ObjectMapper jsonMapper = new ObjectMapper();\r\n        Foo foo = new Foo();\r\n        foo.setId(&quot;id&quot;);\r\n        System.out.println(&quot;Serialize nulls&quot;);\r\n        System.out.println(jsonMapper.writeValueAsString(foo));\r\n\r\n        Map&lt;String, Object&gt; map = new LinkedHashMap&lt;&gt;();\r\n        map.put(&quot;key1&quot;, &quot;val1&quot;);\r\n        map.put(&quot;key2&quot;, null);\r\n        System.out.println(jsonMapper.writeValueAsString(map));\r\n    }\r\n\r\n    private static void doNotSerializeNulls() throws Exception {\r\n        ObjectMapper jsonMapper = new ObjectMapper();\r\n        jsonMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n        jsonMapper.setDefaultPropertyInclusion(JsonInclude.Include.NON_NULL);\r\n\r\n        Foo foo = new Foo();\r\n        foo.setId(&quot;id&quot;);\r\n        System.out.println(&quot;Do not serialize nulls&quot;);\r\n        System.out.println(jsonMapper.writeValueAsString(foo));\r\n\r\n        Map&lt;String, Object&gt; map = new LinkedHashMap&lt;&gt;();\r\n        map.put(&quot;key1&quot;, &quot;val1&quot;);\r\n        map.put(&quot;key2&quot;, null);\r\n        System.out.println(jsonMapper.writeValueAsString(map));\r\n    }\r\n}\r\n```","title":"ObjectMapper setSerializationInclusion(JsonInclude.Include.NON_NULL) setting is not reflected","body":"<p>This option is applicable when serializing objects, custom objects or a <code>Map</code> for example, but <strong>not</strong> when working with json tree. Consider this <code>Foo</code> class:</p>\n<pre><code>public class Foo {\n\n    private String id;\n    private String name;\n\n    //getters and setters\n}\n</code></pre>\n<p>The option to exclude nulls will work as expected with it.</p>\n<p>Main method to illustrate it:</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) throws Exception {\n        serializeNulls();\n        System.out.println();\n        doNotSerializeNulls();\n    }\n\n    private static void serializeNulls() throws Exception {\n        ObjectMapper jsonMapper = new ObjectMapper();\n        Foo foo = new Foo();\n        foo.setId(&quot;id&quot;);\n        System.out.println(&quot;Serialize nulls&quot;);\n        System.out.println(jsonMapper.writeValueAsString(foo));\n\n        Map&lt;String, Object&gt; map = new LinkedHashMap&lt;&gt;();\n        map.put(&quot;key1&quot;, &quot;val1&quot;);\n        map.put(&quot;key2&quot;, null);\n        System.out.println(jsonMapper.writeValueAsString(map));\n    }\n\n    private static void doNotSerializeNulls() throws Exception {\n        ObjectMapper jsonMapper = new ObjectMapper();\n        jsonMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\n        jsonMapper.setDefaultPropertyInclusion(JsonInclude.Include.NON_NULL);\n\n        Foo foo = new Foo();\n        foo.setId(&quot;id&quot;);\n        System.out.println(&quot;Do not serialize nulls&quot;);\n        System.out.println(jsonMapper.writeValueAsString(foo));\n\n        Map&lt;String, Object&gt; map = new LinkedHashMap&lt;&gt;();\n        map.put(&quot;key1&quot;, &quot;val1&quot;);\n        map.put(&quot;key2&quot;, null);\n        System.out.println(jsonMapper.writeValueAsString(map));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7850636,"reputation":3,"user_id":5934198,"display_name":"XChobot"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2923,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1648451655,"accepted_answer_id":71600932,"answer_count":1,"score":-1,"last_activity_date":1648138100,"creation_date":1647958762,"question_id":71573627,"body_markdown":"ObjectMapper still includes null values. I tried a lot of solutions found here, but nothing works. I cannot use json annotation, so my only solution is predefined setting of mapper, but this was not reflected. I thought this was due to caching of objectMapper. But my only modifies of mapper are made in Constructor. So caching would not be a problem\r\n\r\nDependencies:\r\n```none\r\nLog4J2: 2.17.1\r\nFasterxml Jackson annotation: 2.13.2\r\nFasterxml Jackson databind: 2.13.2\r\nWildfly: 20.0.1\r\nOpenJDK: 11.0.14.1\r\n```\r\n\r\nI have an objectMapper defined as global value which is instantiated in constructor. Then I have one method for building a JSON which accepts key and value. As value can by anything.\r\n\r\n```\r\nprivate final ObjectMapper jsonMapper;\r\n\r\npublic SomeConstructor() {\r\n\tthis.jsonMapper = new ObjectMapper();\r\n\tthis.jsonMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n\tthis.jsonMapper.setDefaultPropertyInclusion(JsonInclude.Include.NON_NULL);\r\n}\r\n\r\n@Override\r\npublic void setJsonVar(String jsonVar, String jsonKey, Object values) {\r\n\r\n\t// loads ObjectNode from memory if exists\r\n\tObjectNode jsonNode = getJsonVar(jsonVar);\r\n\r\n\t// lazy init if ObjectNode not exists\r\n\tif (jsonNode == null) {\r\n\t\tjsonNode = jsonMapper.createObjectNode();\r\n\t}\r\n\t// add object\r\n\tjsonNode.putPOJO(jsonKey, values);\r\n}\r\n```\r\n\r\nUsage:\r\n```\r\nsetJsonVar(&quot;var-A&quot;, &quot;key-A&quot;, 1);\r\nsetJsonVar(&quot;var-A&quot;, &quot;key-B&quot;, null);\r\nprint(&quot;var-a&quot;);\r\n```\r\n\r\nExpectation: \r\n\r\nI want to avoid null values in JSON.\r\n\r\nExpected: `var-A: { &quot;key-A&quot;:1 }`\r\nGot: `var-A: { &quot;key-A&quot;:1, &quot;key-B&quot;:null }`\r\n\r\nWhy does this happen and what can I do to work around this?\r\n\r\n","title":"ObjectMapper setSerializationInclusion(JsonInclude.Include.NON_NULL) setting is not reflected","body":"<p>ObjectMapper still includes null values. I tried a lot of solutions found here, but nothing works. I cannot use json annotation, so my only solution is predefined setting of mapper, but this was not reflected. I thought this was due to caching of objectMapper. But my only modifies of mapper are made in Constructor. So caching would not be a problem</p>\n<p>Dependencies:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Log4J2: 2.17.1\nFasterxml Jackson annotation: 2.13.2\nFasterxml Jackson databind: 2.13.2\nWildfly: 20.0.1\nOpenJDK: 11.0.14.1\n</code></pre>\n<p>I have an objectMapper defined as global value which is instantiated in constructor. Then I have one method for building a JSON which accepts key and value. As value can by anything.</p>\n<pre><code>private final ObjectMapper jsonMapper;\n\npublic SomeConstructor() {\n    this.jsonMapper = new ObjectMapper();\n    this.jsonMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\n    this.jsonMapper.setDefaultPropertyInclusion(JsonInclude.Include.NON_NULL);\n}\n\n@Override\npublic void setJsonVar(String jsonVar, String jsonKey, Object values) {\n\n    // loads ObjectNode from memory if exists\n    ObjectNode jsonNode = getJsonVar(jsonVar);\n\n    // lazy init if ObjectNode not exists\n    if (jsonNode == null) {\n        jsonNode = jsonMapper.createObjectNode();\n    }\n    // add object\n    jsonNode.putPOJO(jsonKey, values);\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>setJsonVar(&quot;var-A&quot;, &quot;key-A&quot;, 1);\nsetJsonVar(&quot;var-A&quot;, &quot;key-B&quot;, null);\nprint(&quot;var-a&quot;);\n</code></pre>\n<p>Expectation:</p>\n<p>I want to avoid null values in JSON.</p>\n<p>Expected: <code>var-A: { &quot;key-A&quot;:1 }</code>\nGot: <code>var-A: { &quot;key-A&quot;:1, &quot;key-B&quot;:null }</code></p>\n<p>Why does this happen and what can I do to work around this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1647918496,"post_id":71566469,"comment_id":126486570,"body_markdown":"See [Scanner is skipping nextLine() after using next() or nextFoo()?](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo) Specifically, when you use scanner.next...(); you only get the next element and don&#39;t consume the entire line, so the very next call to scanner.next...(); will grab the next element on the previous line which will typically be blank or a newline character, and therefore null. Always use `scanner.nextline();` where possible, or consume the rest of the line after any &quot;next&quot; calls other than nextLine.","body":"See <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Scanner is skipping nextLine() after using next() or nextFoo()?</a> Specifically, when you use scanner.next...(); you only get the next element and don&#39;t consume the entire line, so the very next call to scanner.next...(); will grab the next element on the previous line which will typically be blank or a newline character, and therefore null. Always use <code>scanner.nextline();</code> where possible, or consume the rest of the line after any &quot;next&quot; calls other than nextLine."},{"owner":{"account_id":11639846,"reputation":189,"user_id":8524713,"display_name":"bhaskarkh"},"score":0,"creation_date":1647922376,"post_id":71566469,"comment_id":126487176,"body_markdown":"In catch block you are not assigning movieDate as its declare null intialy its taking the same add this in catch block also String inputDate = scanner.next();\n                movieDate = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;).parse(inputDate);","body":"In catch block you are not assigning movieDate as its declare null intialy its taking the same add this in catch block also String inputDate = scanner.next();                 movieDate = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;).parse(inputDate);"}],"answers":[{"tags":[],"owner":{"account_id":23249259,"reputation":7,"user_id":17337358,"display_name":"Mritunjay Upadhyay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648137925,"creation_date":1647938501,"answer_id":71569117,"question_id":71566469,"body_markdown":"I&#39;ve found the answer for this problem.\r\n\r\n```\r\nDate movieDate = null;\r\nwhile( movieDate == null ) {\r\n    try {\r\n        System.out.println(&quot;Enter the release date(dd-mm-yyyy)&quot;);\r\n        String inputDate = scanner.next();\r\n        movieDate = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;).parse(inputDate);\r\n    } catch (ParseException e){\r\n        System.out.println(&quot;You&#39;ve entered the wrong date format&quot;);\r\n    }\r\n}\r\n```\r\n\r\nThe previous code the error was @ catch I was using the &quot;inputDate&quot; as a Local variable.","title":"Getting a null value while trying to use try and catch for a problem statement","body":"<p>I've found the answer for this problem.</p>\n<pre><code>Date movieDate = null;\nwhile( movieDate == null ) {\n    try {\n        System.out.println(&quot;Enter the release date(dd-mm-yyyy)&quot;);\n        String inputDate = scanner.next();\n        movieDate = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;).parse(inputDate);\n    } catch (ParseException e){\n        System.out.println(&quot;You've entered the wrong date format&quot;);\n    }\n}\n</code></pre>\n<p>The previous code the error was @ catch I was using the &quot;inputDate&quot; as a Local variable.</p>\n"},{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647947471,"creation_date":1647947471,"answer_id":71571079,"question_id":71566469,"body_markdown":"The core problem you encountered was one of scope.  In the catch-block you prompt and accept a new response but you capture it in a variable defined within the catch block.  When the block ends, the variable is no longer in scope and the value is lost.  You never parse a Date from the String so the Date variable is still null.\r\n\r\nConsider changing the logic to redirect back to the input step if you get an exception.  The following example places all of this in its own method to isolate the unit of work.  Within the method, use a loop to allow us to repeatedly prompt the user for the date input.  We place all of the core logic in the try-block.  The catch-block is only responsible for informing the user it was a bad parse.\r\n\r\n    private Date getReleaseDate() {\r\n      while (true) {\r\n        try {\r\n          System.out.println(&quot;Enter the release date (dd-mm-yyyy):&quot;);\r\n          String inputDate = scanner.next();\r\n          return new SimpleDateFormat(&quot;dd-MM-yyyy&quot;).parse(inputDate);\r\n\r\n        } catch (ParseException e) {\r\n          System.out.println(&quot;You&#39;ve entered the wrong date format, please try again&quot;);\r\n        }\r\n      }\r\n    }\r\n","title":"Getting a null value while trying to use try and catch for a problem statement","body":"<p>The core problem you encountered was one of scope.  In the catch-block you prompt and accept a new response but you capture it in a variable defined within the catch block.  When the block ends, the variable is no longer in scope and the value is lost.  You never parse a Date from the String so the Date variable is still null.</p>\n<p>Consider changing the logic to redirect back to the input step if you get an exception.  The following example places all of this in its own method to isolate the unit of work.  Within the method, use a loop to allow us to repeatedly prompt the user for the date input.  We place all of the core logic in the try-block.  The catch-block is only responsible for informing the user it was a bad parse.</p>\n<pre><code>private Date getReleaseDate() {\n  while (true) {\n    try {\n      System.out.println(&quot;Enter the release date (dd-mm-yyyy):&quot;);\n      String inputDate = scanner.next();\n      return new SimpleDateFormat(&quot;dd-MM-yyyy&quot;).parse(inputDate);\n\n    } catch (ParseException e) {\n      System.out.println(&quot;You've entered the wrong date format, please try again&quot;);\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":23249259,"reputation":7,"user_id":17337358,"display_name":"Mritunjay Upadhyay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648137925,"creation_date":1647918200,"question_id":71566469,"body_markdown":"Recently, I was given a problem statement to basically enter movie title, release date and their rating based on IMDB and then sort any of the two properties, which was done easily. Now, while entering the date, I was getting a parse error, so I used try and catch block. Now the problem arising here is when let&#39;s say I give a wrong value, it says you&#39;ve entered the wrong date format, re-enter the details. It&#39;s not taking the re-entered value, but instead null. Here is the code.\r\n\r\n```\r\nboolean movieQuestion;\r\nwhile(true){\r\n    System.out.println(&quot;Do you want to enter movie rating yes or no? &quot;);\r\n    String inputString = scanner.next();\r\n    movieQuestion =inputString.equalsIgnoreCase(&quot;Yes&quot;);\r\n    if(!movieQuestion){\r\n        System.out.println(&quot;Come again Later!&quot;);\r\n        break;\r\n    }\r\n\r\n    System.out.println(&quot;Enter the name of the movie: &quot;);\r\n    String movieName = scanner.next();\r\n    System.out.println(&quot;Enter the movie rating(out of 10):&quot;);\r\n    double rating = scanner.nextDouble();\r\n\r\n    Date movieDate = null;\r\n    try {\r\n        System.out.println(&quot;Enter the release date(dd-mm-yyyy)&quot;);\r\n        String inputDate = scanner.next();\r\n        movieDate = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;).parse(inputDate);\r\n    } catch (ParseException e){\r\n        System.out.println(&quot;You&#39;ve entered the wrong date format&quot;);\r\n        System.out.println(&quot;Enter the release date(dd-mm-yyyy)&quot;);\r\n        String inputDate = scanner.next();\r\n    }\r\n\r\n            Movie movie = new Movie(movieName,movieDate,rating);\r\n    mainMovieSet.add(movie);\r\n\r\n}\r\n```\r\n\r\nThis is what I tried to avoid breaking of code with an exception.\r\n\r\n```\r\nDate movieDate = null;\r\ntry {\r\n    System.out.println(&quot;Enter the release date(dd-mm-yyyy)&quot;);\r\n    String inputDate = scanner.next();\r\n    movieDate = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;).parse(inputDate);\r\n} catch (ParseException e){\r\n    System.out.println(&quot;You&#39;ve entered the wrong date format&quot;);\r\n    System.out.println(&quot;Enter the release date(dd-mm-yyyy)&quot;);\r\n    String inputDate = scanner.next();\r\n}\r\n```\r\n\r\nEvery time I re-enter the value if a wrong value is given, it just displays a null after the correct value displayed.","title":"Getting a null value while trying to use try and catch for a problem statement","body":"<p>Recently, I was given a problem statement to basically enter movie title, release date and their rating based on IMDB and then sort any of the two properties, which was done easily. Now, while entering the date, I was getting a parse error, so I used try and catch block. Now the problem arising here is when let's say I give a wrong value, it says you've entered the wrong date format, re-enter the details. It's not taking the re-entered value, but instead null. Here is the code.</p>\n<pre><code>boolean movieQuestion;\nwhile(true){\n    System.out.println(&quot;Do you want to enter movie rating yes or no? &quot;);\n    String inputString = scanner.next();\n    movieQuestion =inputString.equalsIgnoreCase(&quot;Yes&quot;);\n    if(!movieQuestion){\n        System.out.println(&quot;Come again Later!&quot;);\n        break;\n    }\n\n    System.out.println(&quot;Enter the name of the movie: &quot;);\n    String movieName = scanner.next();\n    System.out.println(&quot;Enter the movie rating(out of 10):&quot;);\n    double rating = scanner.nextDouble();\n\n    Date movieDate = null;\n    try {\n        System.out.println(&quot;Enter the release date(dd-mm-yyyy)&quot;);\n        String inputDate = scanner.next();\n        movieDate = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;).parse(inputDate);\n    } catch (ParseException e){\n        System.out.println(&quot;You've entered the wrong date format&quot;);\n        System.out.println(&quot;Enter the release date(dd-mm-yyyy)&quot;);\n        String inputDate = scanner.next();\n    }\n\n            Movie movie = new Movie(movieName,movieDate,rating);\n    mainMovieSet.add(movie);\n\n}\n</code></pre>\n<p>This is what I tried to avoid breaking of code with an exception.</p>\n<pre><code>Date movieDate = null;\ntry {\n    System.out.println(&quot;Enter the release date(dd-mm-yyyy)&quot;);\n    String inputDate = scanner.next();\n    movieDate = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;).parse(inputDate);\n} catch (ParseException e){\n    System.out.println(&quot;You've entered the wrong date format&quot;);\n    System.out.println(&quot;Enter the release date(dd-mm-yyyy)&quot;);\n    String inputDate = scanner.next();\n}\n</code></pre>\n<p>Every time I re-enter the value if a wrong value is given, it just displays a null after the correct value displayed.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8504,"page":1488,"page_size":100}
