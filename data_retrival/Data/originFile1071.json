{"items":[{"tags":["java","mysql","config"],"comments":[{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1661866216,"post_id":73543271,"comment_id":129869622,"body_markdown":"Is MySQL running on your computer (localhost)?","body":"Is MySQL running on your computer (localhost)?"},{"owner":{"account_id":9367772,"reputation":65,"user_id":6952090,"display_name":"user6952090"},"score":0,"creation_date":1661867050,"post_id":73543271,"comment_id":129870021,"body_markdown":"Hi Jesper, I cannot get to run on localhost right now with the application.properties file I have above. Any ideas?","body":"Hi Jesper, I cannot get to run on localhost right now with the application.properties file I have above. Any ideas?"},{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1661868575,"post_id":73543271,"comment_id":129870731,"body_markdown":"I&#39;m asking you if you have the MySQL database server running on your computer. Because your code is showing that you&#39;re trying to connect to a MySQL database server that&#39;s running on `localhost`. If the database server is not running, you&#39;ll get an error message similar to what you posted (&quot;communications link failure&quot;). So you need to check that the MySQL database server is indeed running, if not you need to start it before you run your program.","body":"I&#39;m asking you if you have the MySQL database server running on your computer. Because your code is showing that you&#39;re trying to connect to a MySQL database server that&#39;s running on <code>localhost</code>. If the database server is not running, you&#39;ll get an error message similar to what you posted (&quot;communications link failure&quot;). So you need to check that the MySQL database server is indeed running, if not you need to start it before you run your program."},{"owner":{"account_id":23946271,"reputation":69,"user_id":17938577,"display_name":"DAHUANGGO"},"score":0,"creation_date":1661875126,"post_id":73543271,"comment_id":129873457,"body_markdown":"Is there a possibility that even if mysql is installed on your local machine, you have not started the mysql service?","body":"Is there a possibility that even if mysql is installed on your local machine, you have not started the mysql service?"},{"owner":{"account_id":9367772,"reputation":65,"user_id":6952090,"display_name":"user6952090"},"score":0,"creation_date":1661895027,"post_id":73543271,"comment_id":129879780,"body_markdown":"@DAHUANGGO I have mysql installed on my machine and I started it, now I have a new problem with user@localhost connection. Check the question edits, thanks!","body":"@DAHUANGGO I have mysql installed on my machine and I started it, now I have a new problem with user@localhost connection. Check the question edits, thanks!"}],"answers":[{"tags":[],"owner":{"account_id":23946271,"reputation":69,"user_id":17938577,"display_name":"DAHUANGGO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661924020,"creation_date":1661924020,"answer_id":73551257,"question_id":73543271,"body_markdown":"@user6952090 Then if there is no problem with the service, then according to your log, I personally think that there are only two reasons for the exception, the first is that your password is wrong, and the second is that your sql permissions are insufficient. If you have a database management system installed on a windows system, you can do the following:\r\n1. Enter ` net stop mysql` in cmd.exe to stop the MySQL service\r\n2. Enter the command line to go to the bin directory of mysql\r\n3. Enter `mysqld --defaults-file=&quot;D:\\MySQL\\my.ini&quot; --console --skip-grant-tables` in the bin directory\r\n4. Open another cmd.exe, go to the bin directory of mysql, and enter: `mysql -uroot mysql`\r\n5. Input: `update user set authentication_string=password(&#39;123456&#39;) where user=&#39;root&#39;;`\r\n6. Refresh privileges: `mysql&gt;flush privileges;`\r\n7.  `mysql&gt;quit`\r\n8. If you get an error when shutting down, type `mysqladmin -uroot -p shutdown\r\n[new_password]`\r\n9. After changing the password, you can enter the command line: `net start mysql` to start the MySQL service, `mysql -uroot -p`, enter the password to enter mysql","title":"Access denied for user &#39;user&#39;@&#39;localhost&#39; (MySQL DB connection error from Intellij)","body":"<p>@user6952090 Then if there is no problem with the service, then according to your log, I personally think that there are only two reasons for the exception, the first is that your password is wrong, and the second is that your sql permissions are insufficient. If you have a database management system installed on a windows system, you can do the following:</p>\n<ol>\n<li>Enter <code> net stop mysql</code> in cmd.exe to stop the MySQL service</li>\n<li>Enter the command line to go to the bin directory of mysql</li>\n<li>Enter <code>mysqld --defaults-file=&quot;D:\\MySQL\\my.ini&quot; --console --skip-grant-tables</code> in the bin directory</li>\n<li>Open another cmd.exe, go to the bin directory of mysql, and enter: <code>mysql -uroot mysql</code></li>\n<li>Input: <code>update user set authentication_string=password('123456') where user='root';</code></li>\n<li>Refresh privileges: <code>mysql&gt;flush privileges;</code></li>\n<li><code>mysql&gt;quit</code></li>\n<li>If you get an error when shutting down, type <code>mysqladmin -uroot -p shutdown [new_password]</code></li>\n<li>After changing the password, you can enter the command line: <code>net start mysql</code> to start the MySQL service, <code>mysql -uroot -p</code>, enter the password to enter mysql</li>\n</ol>\n"}],"owner":{"account_id":9367772,"reputation":65,"user_id":6952090,"display_name":"user6952090"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":582,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661924020,"creation_date":1661866010,"question_id":73543271,"body_markdown":"UPDATE\r\n\r\nI am trying to setup a Spring boot project using JPA and MySQL. I am having issues connecting to a simple MySQL DB with some tutorials I am following online. I am also trying to create a table called members and insert data using a script. I have the MySQL server running on my local right now and I get this error message:\r\n\r\n  \r\n\r\n    ERROR 21205 --- [           main] o.a.tomcat.jdbc.pool.ConnectionPool      : Unable to create initial connections of pool.\r\n    \r\n    java.sql.SQLException: Access denied for user &#39;user&#39;@&#39;localhost&#39; (using password: YES)\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.18.jar:8.0.18]\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.18.jar:8.0.18]\r\n\r\nHere is my application.properties file\r\n\r\n    spring.datasource.url = jdbc:mysql://localhost:3306/members\r\n    spring.datasource.username = user\r\n    spring.datasource.password = password\r\n    spring.jpa.hibernate.ddl-auto = update\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5InnoDBDialect\r\n    spring.profiles.active=dev\r\n    #spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.\r\n\r\n\r\nThis is my create.sql\r\n\r\n    CREATE TABLE MEMBERS(\r\n      memberId INT NOT NULL,\r\n      companyName VARCHAR(50) NOT NULL,\r\n      companySize INT NOT NULL,\r\n      primaryContact VARCHAR(50) NOT NULL,\r\n      city VARCHAR(50) NOT NULL,\r\n      state VARCHAR(50) NOT NULL,\r\n      netZeroTimeline INT NOT NULL,\r\n      numCreditsDesired INT NOT NULL,\r\n      --preferredOffsets VARCHAR(50) NOT NULL,\r\n      budget INT NOT NULL,\r\n      carbonCreditId INT NOT NULL,\r\n      PRIMARY KEY (memberId)\r\n    );\r\n\r\nLastly this is my member entity class (model)\r\n\r\n\r\n    package org.example.data.jpa.model;\r\n\r\n    import javax.persistence.*;\r\n    import java.util.ArrayList;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;member&quot;)\r\n    public class Member {\r\n    \r\n        Long memberId;\r\n        String companyName;\r\n        Integer companySize;\r\n        String primaryContact;\r\n        String city;\r\n        String state;\r\n        Integer netZeroTimeLine;\r\n        Integer numCreditsDesired;\r\n        //ArrayList&lt;String&gt; preferredOffsets = new ArrayList&lt;String&gt;();\r\n        Double budget;\r\n        Integer carbonCreditId;\r\n    \r\n    \r\n        public Long getMemberId() {\r\n            return memberId;\r\n        }\r\n    \r\n        public void setMemberId(Long memberId) {\r\n            this.memberId = memberId;\r\n        }\r\n    \r\n        public String getCompanyName() {\r\n            return companyName;\r\n        }\r\n    \r\n        public void setCompanyName(String companyName) {\r\n            this.companyName = companyName;\r\n        }\r\n    \r\n        public Integer getCompanySize() {\r\n            return companySize;\r\n        }\r\n    \r\n        public void setCompanySize(Integer companySize) {\r\n            this.companySize = companySize;\r\n        }\r\n    \r\n        public String getPrimaryContact() {\r\n            return primaryContact;\r\n        }\r\n    \r\n        public void setPrimaryContact(String primaryContact) {\r\n            this.primaryContact = primaryContact;\r\n        }\r\n    \r\n        public String getCity() {\r\n            return city;\r\n        }\r\n    \r\n        public void setCity(String city) {\r\n            this.city = city;\r\n        }\r\n    \r\n        public String getState() {\r\n            return state;\r\n        }\r\n    \r\n        public void setState(String state) {\r\n            this.state = state;\r\n        }\r\n    \r\n        public Integer getNetZeroTimeLine() {\r\n            return netZeroTimeLine;\r\n        }\r\n    \r\n        public void setNetZeroTimeLine(Integer netZeroTimeLine) {\r\n            this.netZeroTimeLine = netZeroTimeLine;\r\n        }\r\n    \r\n        public Integer getNumCreditsDesired() {\r\n            return numCreditsDesired;\r\n        }\r\n    \r\n        public void setNumCreditsDesired(Integer numCreditsDesired) {\r\n            this.numCreditsDesired = numCreditsDesired;\r\n        }\r\n    \r\n        public Double getBudget() {\r\n            return budget;\r\n        }\r\n    \r\n        public void setBudget(Double budget) {\r\n            this.budget = budget;\r\n        }\r\n    \r\n        public Integer getCarbonCreditId() {\r\n            return carbonCreditId;\r\n        }\r\n    \r\n        public void setCarbonCreditId(Integer carbonCreditId) {\r\n            this.carbonCreditId = carbonCreditId;\r\n        }\r\n    \r\n    }\r\n\r\nThanks for your time\r\n","title":"Access denied for user &#39;user&#39;@&#39;localhost&#39; (MySQL DB connection error from Intellij)","body":"<p>UPDATE</p>\n<p>I am trying to setup a Spring boot project using JPA and MySQL. I am having issues connecting to a simple MySQL DB with some tutorials I am following online. I am also trying to create a table called members and insert data using a script. I have the MySQL server running on my local right now and I get this error message:</p>\n<pre><code>ERROR 21205 --- [           main] o.a.tomcat.jdbc.pool.ConnectionPool      : Unable to create initial connections of pool.\n\njava.sql.SQLException: Access denied for user 'user'@'localhost' (using password: YES)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.18.jar:8.0.18]\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.18.jar:8.0.18]\n</code></pre>\n<p>Here is my application.properties file</p>\n<pre><code>spring.datasource.url = jdbc:mysql://localhost:3306/members\nspring.datasource.username = user\nspring.datasource.password = password\nspring.jpa.hibernate.ddl-auto = update\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5InnoDBDialect\nspring.profiles.active=dev\n#spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.\n</code></pre>\n<p>This is my create.sql</p>\n<pre><code>CREATE TABLE MEMBERS(\n  memberId INT NOT NULL,\n  companyName VARCHAR(50) NOT NULL,\n  companySize INT NOT NULL,\n  primaryContact VARCHAR(50) NOT NULL,\n  city VARCHAR(50) NOT NULL,\n  state VARCHAR(50) NOT NULL,\n  netZeroTimeline INT NOT NULL,\n  numCreditsDesired INT NOT NULL,\n  --preferredOffsets VARCHAR(50) NOT NULL,\n  budget INT NOT NULL,\n  carbonCreditId INT NOT NULL,\n  PRIMARY KEY (memberId)\n);\n</code></pre>\n<p>Lastly this is my member entity class (model)</p>\n<pre><code>package org.example.data.jpa.model;\n\nimport javax.persistence.*;\nimport java.util.ArrayList;\n\n@Entity\n@Table(name = &quot;member&quot;)\npublic class Member {\n\n    Long memberId;\n    String companyName;\n    Integer companySize;\n    String primaryContact;\n    String city;\n    String state;\n    Integer netZeroTimeLine;\n    Integer numCreditsDesired;\n    //ArrayList&lt;String&gt; preferredOffsets = new ArrayList&lt;String&gt;();\n    Double budget;\n    Integer carbonCreditId;\n\n\n    public Long getMemberId() {\n        return memberId;\n    }\n\n    public void setMemberId(Long memberId) {\n        this.memberId = memberId;\n    }\n\n    public String getCompanyName() {\n        return companyName;\n    }\n\n    public void setCompanyName(String companyName) {\n        this.companyName = companyName;\n    }\n\n    public Integer getCompanySize() {\n        return companySize;\n    }\n\n    public void setCompanySize(Integer companySize) {\n        this.companySize = companySize;\n    }\n\n    public String getPrimaryContact() {\n        return primaryContact;\n    }\n\n    public void setPrimaryContact(String primaryContact) {\n        this.primaryContact = primaryContact;\n    }\n\n    public String getCity() {\n        return city;\n    }\n\n    public void setCity(String city) {\n        this.city = city;\n    }\n\n    public String getState() {\n        return state;\n    }\n\n    public void setState(String state) {\n        this.state = state;\n    }\n\n    public Integer getNetZeroTimeLine() {\n        return netZeroTimeLine;\n    }\n\n    public void setNetZeroTimeLine(Integer netZeroTimeLine) {\n        this.netZeroTimeLine = netZeroTimeLine;\n    }\n\n    public Integer getNumCreditsDesired() {\n        return numCreditsDesired;\n    }\n\n    public void setNumCreditsDesired(Integer numCreditsDesired) {\n        this.numCreditsDesired = numCreditsDesired;\n    }\n\n    public Double getBudget() {\n        return budget;\n    }\n\n    public void setBudget(Double budget) {\n        this.budget = budget;\n    }\n\n    public Integer getCarbonCreditId() {\n        return carbonCreditId;\n    }\n\n    public void setCarbonCreditId(Integer carbonCreditId) {\n        this.carbonCreditId = carbonCreditId;\n    }\n\n}\n</code></pre>\n<p>Thanks for your time</p>\n"},{"tags":["java","spring-boot","vaadin"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1661853046,"post_id":73540376,"comment_id":129864590,"body_markdown":"Isn&#39;t the message *The stats file from webpack (stats.json) was not found. The application is running in production mode.Verify that build-frontend task has executed successfully and that stats.json is on the classpath.Or switch application to development mode.* clear?","body":"Isn&#39;t the message <i>The stats file from webpack (stats.json) was not found. The application is running in production mode.Verify that build-frontend task has executed successfully and that stats.json is on the classpath.Or switch application to development mode.</i> clear?"},{"owner":{"account_id":15855975,"reputation":37,"user_id":11440340,"display_name":"Till Gl&#246;ckner"},"score":0,"creation_date":1661857465,"post_id":73540376,"comment_id":129866102,"body_markdown":"The jar is supposed to run on a server, so it has to run in production mode. What exactly do I need to add to the classpath?","body":"The jar is supposed to run on a server, so it has to run in production mode. What exactly do I need to add to the classpath?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":2,"creation_date":1661857961,"post_id":73540376,"comment_id":129866273,"body_markdown":"have you build it with mvn package -Pproduction","body":"have you build it with mvn package -Pproduction"},{"owner":{"account_id":15855975,"reputation":37,"user_id":11440340,"display_name":"Till Gl&#246;ckner"},"score":0,"creation_date":1661858505,"post_id":73540376,"comment_id":129866473,"body_markdown":"Thank you so much, it&#39;s finally working.","body":"Thank you so much, it&#39;s finally working."}],"answers":[{"tags":[],"owner":{"account_id":15855975,"reputation":37,"user_id":11440340,"display_name":"Till Gl&#246;ckner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661922496,"creation_date":1661863225,"answer_id":73542620,"question_id":73540376,"body_markdown":"I created a maven build run configuration in Eclipse that has &quot;package -Pproduction&quot; as the goal.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xcUhG.png\r\n\r\n\r\n\r\nWhen it runs it creates a jar file in the target directory that works.\r\n\r\nThanks to @Simon Martinelli","title":"Exception when starting vaadin 14 website with springboot","body":"<p>I created a maven build run configuration in Eclipse that has &quot;package -Pproduction&quot; as the goal.</p>\n<p><a href=\"https://i.stack.imgur.com/xcUhG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xcUhG.png\" alt=\"enter image description here\" /></a></p>\n<p>When it runs it creates a jar file in the target directory that works.</p>\n<p>Thanks to @Simon Martinelli</p>\n"}],"owner":{"account_id":15855975,"reputation":37,"user_id":11440340,"display_name":"Till Gl&#246;ckner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":369,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73542620,"answer_count":1,"score":-1,"last_activity_date":1661922496,"creation_date":1661852788,"question_id":73540376,"body_markdown":"I developed a vaadin website including spring boot. The website is already running in production mode and the tomcat starts, but the following exception comes up the first time you access it via the browser:\r\n\r\nWhitelabel Error Page\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n\r\nTue Aug 30 11:11:55 CEST 2022\r\nThere was an unexpected error (type=Internal Server Error, status=500).\r\ncom.vaadin.flow.server.BootstrapException: Unable to read webpack stats file.\r\ncom.vaadin.flow.server.ServiceException: com.vaadin.flow.server.BootstrapException: Unable to read webpack stats file.\r\n\tat com.vaadin.flow.server.VaadinService.handleExceptionDuringRequest(VaadinService.java:1594)\r\n\tat com.vaadin.flow.server.VaadinService.handleRequest(VaadinService.java:1557)\r\n\tat com.vaadin.flow.server.VaadinServlet.service(VaadinServlet.java:247)\r\n\tat com.vaadin.flow.spring.SpringServlet.service(SpringServlet.java:108)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:712)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:352)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312)\r\n\tat org.springframework.web.servlet.mvc.ServletForwardingController.handleRequestInternal(ServletForwardingController.java:141)\r\n\tat org.springframework.web.servlet.mvc.AbstractController.handleRequest(AbstractController.java:177)\r\n\tat org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:52)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:626)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: com.vaadin.flow.server.BootstrapException: Unable to read webpack stats file.\r\n\tat com.vaadin.flow.server.BootstrapHandler$BootstrapPageBuilder.setupFrameworkLibraries(BootstrapHandler.java:893)\r\n\tat com.vaadin.flow.server.BootstrapHandler$BootstrapPageBuilder.setupDocumentHead(BootstrapHandler.java:770)\r\n\tat com.vaadin.flow.server.BootstrapHandler$BootstrapPageBuilder.getBootstrapPage(BootstrapHandler.java:539)\r\n\tat com.vaadin.flow.server.BootstrapHandler.synchronizedHandleRequest(BootstrapHandler.java:480)\r\n\tat com.vaadin.flow.server.SynchronizedRequestHandler.handleRequest(SynchronizedRequestHandler.java:40)\r\n\tat com.vaadin.flow.server.VaadinService.handleRequest(VaadinService.java:1545)\r\n\t... 52 more\r\nCaused by: java.io.IOException: The stats file from webpack (stats.json) was not found.\r\nThe application is running in production mode.Verify that build-frontend task has executed successfully and that stats.json is on the classpath.Or switch application to development mode.\r\n\tat com.vaadin.flow.server.BootstrapHandler$BootstrapPageBuilder.appendNpmBundle(BootstrapHandler.java:925)\r\n\tat com.vaadin.flow.server.BootstrapHandler$BootstrapPageBuilder.setupFrameworkLibraries(BootstrapHandler.java:891)\r\n\t... 57 more\r\n\r\n\r\nProject Info:\r\n``` \r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;vaadin.version&gt;14.8.16&lt;/vaadin.version&gt;\r\n      &lt;!-- The main class to start by executing &quot;java -jar&quot; --&gt;\r\n      &lt;start-class&gt;com.rofu.onlinestatistikcenter.Application&lt;/start-class&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.7&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n```","title":"Exception when starting vaadin 14 website with springboot","body":"<p>I developed a vaadin website including spring boot. The website is already running in production mode and the tomcat starts, but the following exception comes up the first time you access it via the browser:</p>\n<p>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.</p>\n<p>Tue Aug 30 11:11:55 CEST 2022\nThere was an unexpected error (type=Internal Server Error, status=500).\ncom.vaadin.flow.server.BootstrapException: Unable to read webpack stats file.\ncom.vaadin.flow.server.ServiceException: com.vaadin.flow.server.BootstrapException: Unable to read webpack stats file.\nat com.vaadin.flow.server.VaadinService.handleExceptionDuringRequest(VaadinService.java:1594)\nat com.vaadin.flow.server.VaadinService.handleRequest(VaadinService.java:1557)\nat com.vaadin.flow.server.VaadinServlet.service(VaadinServlet.java:247)\nat com.vaadin.flow.spring.SpringServlet.service(SpringServlet.java:108)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:712)\nat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459)\nat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:352)\nat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312)\nat org.springframework.web.servlet.mvc.ServletForwardingController.handleRequestInternal(ServletForwardingController.java:141)\nat org.springframework.web.servlet.mvc.AbstractController.handleRequest(AbstractController.java:177)\nat org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:52)\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\nat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:626)\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373)\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\nat java.lang.Thread.run(Thread.java:748)\nCaused by: com.vaadin.flow.server.BootstrapException: Unable to read webpack stats file.\nat com.vaadin.flow.server.BootstrapHandler$BootstrapPageBuilder.setupFrameworkLibraries(BootstrapHandler.java:893)\nat com.vaadin.flow.server.BootstrapHandler$BootstrapPageBuilder.setupDocumentHead(BootstrapHandler.java:770)\nat com.vaadin.flow.server.BootstrapHandler$BootstrapPageBuilder.getBootstrapPage(BootstrapHandler.java:539)\nat com.vaadin.flow.server.BootstrapHandler.synchronizedHandleRequest(BootstrapHandler.java:480)\nat com.vaadin.flow.server.SynchronizedRequestHandler.handleRequest(SynchronizedRequestHandler.java:40)\nat com.vaadin.flow.server.VaadinService.handleRequest(VaadinService.java:1545)\n... 52 more\nCaused by: java.io.IOException: The stats file from webpack (stats.json) was not found.\nThe application is running in production mode.Verify that build-frontend task has executed successfully and that stats.json is on the classpath.Or switch application to development mode.\nat com.vaadin.flow.server.BootstrapHandler$BootstrapPageBuilder.appendNpmBundle(BootstrapHandler.java:925)\nat com.vaadin.flow.server.BootstrapHandler$BootstrapPageBuilder.setupFrameworkLibraries(BootstrapHandler.java:891)\n... 57 more</p>\n<p>Project Info:</p>\n<pre><code>    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;vaadin.version&gt;14.8.16&lt;/vaadin.version&gt;\n      &lt;!-- The main class to start by executing &quot;java -jar&quot; --&gt;\n      &lt;start-class&gt;com.rofu.onlinestatistikcenter.Application&lt;/start-class&gt;\n    &lt;/properties&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.7&lt;/version&gt;\n    &lt;/parent&gt;\n</code></pre>\n"},{"tags":["java","mongodb"],"comments":[{"owner":{"account_id":25978864,"reputation":1,"user_id":19692924,"display_name":"Roofton"},"score":0,"creation_date":1659649087,"post_id":73238788,"comment_id":129350994,"body_markdown":"I was just trying to resolve the issue using trial and error and this issue was resolved when I updated the project JDK version to 1.8 from 11. Still don&#39;t understand what was cause causing the issue in the first place.","body":"I was just trying to resolve the issue using trial and error and this issue was resolved when I updated the project JDK version to 1.8 from 11. Still don&#39;t understand what was cause causing the issue in the first place."},{"owner":{"account_id":3708513,"reputation":51,"user_id":3086428,"display_name":"amiorlin"},"score":0,"creation_date":1660144600,"post_id":73238788,"comment_id":129464736,"body_markdown":"Hi, I am getting the exact same error when calling to\njava.naming/javax.naming.directory.InitialDirContext.getAttributes(InitialDirContext.java:142).\n\n\nI am using JDK 11.04.\nUpgrading the JDK resolved it?\nDo you know what is the root cause?\nIt suddenly started to appear while no changes occurred on my app.","body":"Hi, I am getting the exact same error when calling to java.naming/javax.naming.directory.InitialDirContext.getAttr&zwnj;&#8203;ibutes(InitialDirCon&zwnj;&#8203;text.java:142).   I am using JDK 11.04. Upgrading the JDK resolved it? Do you know what is the root cause? It suddenly started to appear while no changes occurred on my app."},{"owner":{"account_id":3708513,"reputation":51,"user_id":3086428,"display_name":"amiorlin"},"score":0,"creation_date":1660292901,"post_id":73238788,"comment_id":129503181,"body_markdown":"Just to update - my issue caused due to 3-rd party running on the machine, cortex xdr by Palo alto. When we disabled it, the issue was not reproduced.","body":"Just to update - my issue caused due to 3-rd party running on the machine, cortex xdr by Palo alto. When we disabled it, the issue was not reproduced."},{"owner":{"account_id":25978864,"reputation":1,"user_id":19692924,"display_name":"Roofton"},"score":0,"creation_date":1660598774,"post_id":73238788,"comment_id":129565802,"body_markdown":"@amiorlin Thanks for that update. I can see that the same 3rd party is running on my machine as well!","body":"@amiorlin Thanks for that update. I can see that the same 3rd party is running on my machine as well!"}],"answers":[{"tags":[],"owner":{"account_id":12005253,"reputation":66,"user_id":8783791,"display_name":"sunny "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661922022,"creation_date":1661922022,"answer_id":73551049,"question_id":73238788,"body_markdown":"In my company&#39;s laptop, because of cortex IDR update it started appearing. Solution would be add -XVerify:none in your VM argument in IDE.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RZdM6.png","title":"java.lang.VerifyError: Bad type on operand stack error when connecting to a Mongo Db database","body":"<p>In my company's laptop, because of cortex IDR update it started appearing. Solution would be add -XVerify:none in your VM argument in IDE.\n<a href=\"https://i.stack.imgur.com/RZdM6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RZdM6.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":25978864,"reputation":1,"user_id":19692924,"display_name":"Roofton"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":956,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661922022,"creation_date":1659628034,"question_id":73238788,"body_markdown":"I&#39;m trying to connect to a Mongo db database using mongo db java driver. I was able to make a connection to the target database yesterday, but I&#39;ve been stuck with this exception for a whole day now. Able to make a connection to a mongo db server started in my local machine. So I assume this may have something to do with the proxy or network settings. But I&#39;m not able to understand the root cause from this exception message. Can someone suggest any solution please?\r\n\r\n    MongoClient mongoClient = MongoClients.create(connectionString);\r\n    mongoClient.getDatabase(&quot;qadb&quot;)\r\n\r\n\r\n\r\n\r\nException in thread &quot;main&quot; java.lang.VerifyError: Bad type on operand stack\r\nException Details:\r\n  Location:\r\n    com/sun/jndi/dns/Resolver.&lt;init&gt;([Ljava/lang/String;II)V @10: invokestatic\r\n  Reason:\r\n    Type uninitializedThis (current frame, stack[0]) is not assignable to &#39;java/lang/Object&#39;\r\n  Current Frame:\r\n    bci: @10\r\n    flags: { flagThisUninit }\r\n    locals: { uninitializedThis, &#39;[Ljava/lang/String;&#39;, integer, integer }\r\n    stack: { uninitializedThis, &#39;[Ljava/lang/String;&#39;, &#39;java/lang/Integer&#39;, &#39;java/lang/Integer&#39; }\r\n  Bytecode:\r\n    0000000: 2a2b 1cb8 0092 1db8 0092 b800 982a b700\r\n    0000010: 012a 1cb5 0002 2a1d b500 032a bb00 0459\r\n    0000020: 2b1c 1db7 0005 b500 06b1               \r\n\r\n\tat jdk.naming.dns/com.sun.jndi.dns.DnsContext.getResolver(DnsContext.java:573)\r\n\tat jdk.naming.dns/com.sun.jndi.dns.DnsContext.c_getAttributes(DnsContext.java:434)\r\n\tat java.naming/com.sun.jndi.toolkit.ctx.ComponentDirContext.p_getAttributes(ComponentDirContext.java:235)\r\n\tat java.naming/com.sun.jndi.toolkit.ctx.PartialCompositeDirContext.getAttributes(PartialCompositeDirContext.java:141)\r\n\tat java.naming/com.sun.jndi.toolkit.ctx.PartialCompositeDirContext.getAttributes(PartialCompositeDirContext.java:129)\r\n\tat java.naming/javax.naming.directory.InitialDirContext.getAttributes(InitialDirContext.java:142)\r\n\tat com.mongodb.internal.dns.DefaultDnsResolver.resolveAdditionalQueryParametersFromTxtRecords(DefaultDnsResolver.java:114)\r\n\tat com.mongodb.ConnectionString.&lt;init&gt;(ConnectionString.java:388)\r\n\tat com.mongodb.client.MongoClients.create(MongoClients.java:61)\r\n\r\nDetailed error message\r\n\r\n![1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YMzUg.png","title":"java.lang.VerifyError: Bad type on operand stack error when connecting to a Mongo Db database","body":"<p>I'm trying to connect to a Mongo db database using mongo db java driver. I was able to make a connection to the target database yesterday, but I've been stuck with this exception for a whole day now. Able to make a connection to a mongo db server started in my local machine. So I assume this may have something to do with the proxy or network settings. But I'm not able to understand the root cause from this exception message. Can someone suggest any solution please?</p>\n<pre><code>MongoClient mongoClient = MongoClients.create(connectionString);\nmongoClient.getDatabase(&quot;qadb&quot;)\n</code></pre>\n<p>Exception in thread &quot;main&quot; java.lang.VerifyError: Bad type on operand stack\nException Details:\nLocation:\ncom/sun/jndi/dns/Resolver.([Ljava/lang/String;II)V @10: invokestatic\nReason:\nType uninitializedThis (current frame, stack[0]) is not assignable to 'java/lang/Object'\nCurrent Frame:\nbci: @10\nflags: { flagThisUninit }\nlocals: { uninitializedThis, '[Ljava/lang/String;', integer, integer }\nstack: { uninitializedThis, '[Ljava/lang/String;', 'java/lang/Integer', 'java/lang/Integer' }\nBytecode:\n0000000: 2a2b 1cb8 0092 1db8 0092 b800 982a b700\n0000010: 012a 1cb5 0002 2a1d b500 032a bb00 0459\n0000020: 2b1c 1db7 0005 b500 06b1</p>\n<pre><code>at jdk.naming.dns/com.sun.jndi.dns.DnsContext.getResolver(DnsContext.java:573)\nat jdk.naming.dns/com.sun.jndi.dns.DnsContext.c_getAttributes(DnsContext.java:434)\nat java.naming/com.sun.jndi.toolkit.ctx.ComponentDirContext.p_getAttributes(ComponentDirContext.java:235)\nat java.naming/com.sun.jndi.toolkit.ctx.PartialCompositeDirContext.getAttributes(PartialCompositeDirContext.java:141)\nat java.naming/com.sun.jndi.toolkit.ctx.PartialCompositeDirContext.getAttributes(PartialCompositeDirContext.java:129)\nat java.naming/javax.naming.directory.InitialDirContext.getAttributes(InitialDirContext.java:142)\nat com.mongodb.internal.dns.DefaultDnsResolver.resolveAdditionalQueryParametersFromTxtRecords(DefaultDnsResolver.java:114)\nat com.mongodb.ConnectionString.&lt;init&gt;(ConnectionString.java:388)\nat com.mongodb.client.MongoClients.create(MongoClients.java:61)\n</code></pre>\n<p>Detailed error message</p>\n<p><img src=\"https://i.stack.imgur.com/YMzUg.png\" alt=\"1\" /></p>\n"},{"tags":["java","selenium-webdriver","gettext","katalon-studio","katalon"],"answers":[{"tags":[],"owner":{"account_id":21346040,"reputation":11,"user_id":15716091,"display_name":"Souvik_07"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661921879,"creation_date":1661921879,"answer_id":73551032,"question_id":73274035,"body_markdown":"The answer to the above problem is to create customized xpaths for all elements which needs to be captured. For example: \r\nCreating an xpath for the Ask Question button above. \r\n//a[@class=&quot;ws-nowrap s-btn s-btn__primary&quot;]\r\n\r\nTo learn more about how to create unique customized xpaths for all types of element, please watch this video:(https://www.youtube.com/watch?v=3uktjWgKrtI). \r\n\r\nI think xpaths are a very usefull tool to access any kind of elements present in any website. \r\n\r\nTo use the xpaths in katalon by using Selenium drivers : \r\nPackage files : \r\n```\r\nimport org.openqa.selenium.By as By\r\nimport org.openqa.selenium.Keys as Keys\r\nimport org.openqa.selenium.WebDriver as WebDriver\r\nimport org.openqa.selenium.WebElement as WebElement\r\n```\r\nCode :\r\n```\r\ndriver.findElement(By.xpath(&#39;a[@class=&quot;ws-nowrap s-btn s-btn__primary&#39;)).click()\r\n```","title":"How to get text from a dynamic label id HTML field using its relative xpath in Katalon?","body":"<p>The answer to the above problem is to create customized xpaths for all elements which needs to be captured. For example:\nCreating an xpath for the Ask Question button above.\n//a[@class=&quot;ws-nowrap s-btn s-btn__primary&quot;]</p>\n<p>To learn more about how to create unique customized xpaths for all types of element, please watch this video:(<a href=\"https://www.youtube.com/watch?v=3uktjWgKrtI\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=3uktjWgKrtI</a>).</p>\n<p>I think xpaths are a very usefull tool to access any kind of elements present in any website.</p>\n<p>To use the xpaths in katalon by using Selenium drivers :\nPackage files :</p>\n<pre><code>import org.openqa.selenium.By as By\nimport org.openqa.selenium.Keys as Keys\nimport org.openqa.selenium.WebDriver as WebDriver\nimport org.openqa.selenium.WebElement as WebElement\n</code></pre>\n<p>Code :</p>\n<pre><code>driver.findElement(By.xpath('a[@class=&quot;ws-nowrap s-btn s-btn__primary')).click()\n</code></pre>\n"}],"owner":{"account_id":21346040,"reputation":11,"user_id":15716091,"display_name":"Souvik_07"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661921879,"creation_date":1659942649,"question_id":73274035,"body_markdown":"[Error received while using the xpath of the dynamic element][1]I want to fetch the details of login failure from a website to the katalon console. \r\nNow, the problem i am facing while doing this is that, katalon cannot find the element by the id of the element because the id is dynamically changing. Hence i am using xpath to solve that problem. But while fetching a text on the website it cannot capture that element with a level tag.  \r\n\r\n[On Clicking the login button thios error appears and then this error should be fetched by Katalon into its own console][2] \r\n[This is code used to fetch the details of the login error][3]\r\n[Which printing the variable data 1, i am not able to receive any kind of data in the Katalon log viewer or in the console.][4]\r\n\r\nIf anyone one could help me on this, it would be much appreciated.  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8pHDf.png\r\n  [2]: https://i.stack.imgur.com/e54sw.png\r\n  [3]: https://i.stack.imgur.com/tXEKS.png\r\n  [4]: https://i.stack.imgur.com/pSsJ0.png","title":"How to get text from a dynamic label id HTML field using its relative xpath in Katalon?","body":"<p><a href=\"https://i.stack.imgur.com/8pHDf.png\" rel=\"nofollow noreferrer\">Error received while using the xpath of the dynamic element</a>I want to fetch the details of login failure from a website to the katalon console.\nNow, the problem i am facing while doing this is that, katalon cannot find the element by the id of the element because the id is dynamically changing. Hence i am using xpath to solve that problem. But while fetching a text on the website it cannot capture that element with a level tag.</p>\n<p><a href=\"https://i.stack.imgur.com/e54sw.png\" rel=\"nofollow noreferrer\">On Clicking the login button thios error appears and then this error should be fetched by Katalon into its own console</a>\n<a href=\"https://i.stack.imgur.com/tXEKS.png\" rel=\"nofollow noreferrer\">This is code used to fetch the details of the login error</a>\n<a href=\"https://i.stack.imgur.com/pSsJ0.png\" rel=\"nofollow noreferrer\">Which printing the variable data 1, i am not able to receive any kind of data in the Katalon log viewer or in the console.</a></p>\n<p>If anyone one could help me on this, it would be much appreciated.</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1357330844,"post_id":14163966,"comment_id":19623468,"body_markdown":"Short answer is no. The long answer is use Maven. You will need to include all dependent libraries, either as additional MetBeans packages or as complied binaries, I&#39;d add them into a lib directory within the Netbeans project folder personally","body":"Short answer is no. The long answer is use Maven. You will need to include all dependent libraries, either as additional MetBeans packages or as complied binaries, I&#39;d add them into a lib directory within the Netbeans project folder personally"}],"answers":[{"tags":[],"owner":{"account_id":1779877,"reputation":24967,"user_id":1622894,"accept_rate":100,"display_name":"ollo"},"down_vote_count":2,"up_vote_count":9,"is_accepted":true,"score":7,"last_activity_date":1357402819,"creation_date":1357402819,"answer_id":14173709,"question_id":14163966,"body_markdown":"Not sure if this is what you need:\r\n\r\n 1. Right click on your project -&gt; **`Properties`**\r\n 2. **`Libraries`** -&gt; **`Libraries Folder`** -&gt; **`Browse`**\r\n 3. Select the folder *`[Step 1]`* (eg. insert `./lib` - directory is created if not existing) -&gt; Next\r\n 4. Set the *Actions* as you need *`[Step 2]`*, maybe the default action (&quot;*Use Existing ...*&quot;) is already what you need\r\n 5. **`Finish`**\r\n\r\nThis will ...\r\n\r\n - Create a common Lib directory in your project folder\r\n - If you *clean &amp; build* your project there will be a lib folder in the dist directory which contains all your libraries of the project","title":"Netbeans : Library&#39;s are not included in the project folder","body":"<p>Not sure if this is what you need:</p>\n\n<ol>\n<li>Right click on your project -> <strong><code>Properties</code></strong></li>\n<li><strong><code>Libraries</code></strong> -> <strong><code>Libraries Folder</code></strong> -> <strong><code>Browse</code></strong></li>\n<li>Select the folder <em><code>[Step 1]</code></em> (eg. insert <code>./lib</code> - directory is created if not existing) -> Next</li>\n<li>Set the <em>Actions</em> as you need <em><code>[Step 2]</code></em>, maybe the default action (\"<em>Use Existing ...</em>\") is already what you need</li>\n<li><strong><code>Finish</code></strong></li>\n</ol>\n\n<p>This will ...</p>\n\n<ul>\n<li>Create a common Lib directory in your project folder</li>\n<li>If you <em>clean &amp; build</em> your project there will be a lib folder in the dist directory which contains all your libraries of the project</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2433946,"reputation":51,"user_id":2124296,"display_name":"shaanyes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1401790748,"creation_date":1401790748,"answer_id":24012616,"question_id":14163966,"body_markdown":"Netbeans will package the jar in a lib folder only if the project is a java application project. i.e. it should be a java project with a class having main method. It should be specified in the Run category of the Project Properties. If you run the clean and build, the dist folder will have the application jar and the library will be added as a jar under the lib folder. The contents of the dist folder could then be zipped and shared with other developers. They should be able to execute it out of the box. \r\nNote: The manifest file of the application jar will have a class path entry to the library.\r\n\r\nIf you need the the same behaviour for java projects that are not applications, modify the ant scripts.","title":"Netbeans : Library&#39;s are not included in the project folder","body":"<p>Netbeans will package the jar in a lib folder only if the project is a java application project. i.e. it should be a java project with a class having main method. It should be specified in the Run category of the Project Properties. If you run the clean and build, the dist folder will have the application jar and the library will be added as a jar under the lib folder. The contents of the dist folder could then be zipped and shared with other developers. They should be able to execute it out of the box. \nNote: The manifest file of the application jar will have a class path entry to the library.</p>\n\n<p>If you need the the same behaviour for java projects that are not applications, modify the ant scripts.</p>\n"}],"owner":{"account_id":918188,"reputation":6053,"user_id":950506,"accept_rate":81,"display_name":"Chris Headleand"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22896,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":14173709,"answer_count":2,"score":3,"last_activity_date":1661921401,"creation_date":1357329208,"question_id":14163966,"body_markdown":"I need to package a netbeans project up as a zip so I can send it around a few developers. However I have built a library as another project and included it as a library using the netbeans &quot;add project&quot; option. \r\n\r\nHowever....\r\n\r\nthe libray is never added to the project folder... is there a setting I can change that include the jar so other developer can unzip the project and use &quot;out of the box&quot;? \r\n\r\nCheers","title":"Netbeans : Library&#39;s are not included in the project folder","body":"<p>I need to package a netbeans project up as a zip so I can send it around a few developers. However I have built a library as another project and included it as a library using the netbeans \"add project\" option. </p>\n\n<p>However....</p>\n\n<p>the libray is never added to the project folder... is there a setting I can change that include the jar so other developer can unzip the project and use \"out of the box\"? </p>\n\n<p>Cheers</p>\n"},{"tags":["java","arrays","multithreading","volatile","memory-fences"],"comments":[{"owner":{"account_id":7422059,"reputation":8094,"user_id":5645988,"display_name":"Madhusudana Reddy Sunnapu"},"score":0,"creation_date":1451547678,"post_id":34542492,"comment_id":56827590,"body_markdown":"The comment above the method `public void addEntry(..)` in both `SharedTable` and `SharedTable2` says this method is thread-safe. I presume you might be synchronizing on the  `SharedTable` or `SharedTable2` object in the worker threads while calling `public void addEntry(..)` method. Isn&#39;t it?","body":"The comment above the method <code>public void addEntry(..)</code> in both <code>SharedTable</code> and <code>SharedTable2</code> says this method is thread-safe. I presume you might be synchronizing on the  <code>SharedTable</code> or <code>SharedTable2</code> object in the worker threads while calling <code>public void addEntry(..)</code> method. Isn&#39;t it?"}],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1451546524,"creation_date":1451546160,"answer_id":34542690,"question_id":34542492,"body_markdown":"No, SharedTable is not thread-safe. A happens-before is only guaranteed if you read, from a synchronized block, something that has been written from a synchronized block using the same lock. \r\n\r\nSince the writes are made out of a synchronized block, the JMM doesn&#39;t guarantee that the writes will be visible by the reader thread.\r\n\r\n","title":"Does a synchronized block trigger a full memory fence for arrays?","body":"<p>No, SharedTable is not thread-safe. A happens-before is only guaranteed if you read, from a synchronized block, something that has been written from a synchronized block using the same lock. </p>\n\n<p>Since the writes are made out of a synchronized block, the JMM doesn't guarantee that the writes will be visible by the reader thread.</p>\n"},{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661921285,"creation_date":1660885926,"answer_id":73412084,"question_id":34542492,"body_markdown":"Mutating an object that is exchanged between threads, can be done outside of a synchronized block.\r\n\r\nLet&#39;s first introduce a very practical example. Imagine you have 2 threads; one produces jobs and the other consumes jobs. These threads communicate with each other using a queue. Let&#39;s assume a BLockingQueue. Then the producer thread can use simple POJO objects that do not have any internal synchronization and safely exchange these POJOs with the consumer thread. This is exactly how java Executors work. In the documentation, you will find something about the [memory consistency effects][1].\r\n\r\nWhy does it work?\r\n\r\nThere needs to be a happens-before edge between writing of the fields of the job and reading the fields of the job.\r\n\r\n```\r\nclass Job{int a;}\r\n\r\nqueue = new SomeBlockingQueue();\r\n\r\nthread1:\r\n    job = new Job();\r\n    job.a=1;                    (1)\r\n    queue.put(job);             (2)\r\n\r\nthread2:\r\n    job=queue.take();           (3)\r\n    r1=job.a;                   (4)\r\n```\r\n\r\nThere is a happens-before edge between (1) and (2) due to program order rule.\r\n\r\nThere is a happens-before edge between (2) and (3) due to either the monitor lock rule or volatile variable rule.\r\n\r\nThere is a happens-before edge between (3) and (4) due to the program order rule.\r\n\r\nBecause the happens-before relation is transitive, there is a happens-before edge between (1) and (4) and hence there is no data race.\r\n\r\nSo the above code will work fine. But if the producer modifies the Job after it has put it on the queue, then there could be a data race. So you need to make sure your code doesn&#39;t suffer from that problem.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/BlockingQueue.html","title":"Does a synchronized block trigger a full memory fence for arrays?","body":"<p>Mutating an object that is exchanged between threads, can be done outside of a synchronized block.</p>\n<p>Let's first introduce a very practical example. Imagine you have 2 threads; one produces jobs and the other consumes jobs. These threads communicate with each other using a queue. Let's assume a BLockingQueue. Then the producer thread can use simple POJO objects that do not have any internal synchronization and safely exchange these POJOs with the consumer thread. This is exactly how java Executors work. In the documentation, you will find something about the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/BlockingQueue.html\" rel=\"nofollow noreferrer\">memory consistency effects</a>.</p>\n<p>Why does it work?</p>\n<p>There needs to be a happens-before edge between writing of the fields of the job and reading the fields of the job.</p>\n<pre><code>class Job{int a;}\n\nqueue = new SomeBlockingQueue();\n\nthread1:\n    job = new Job();\n    job.a=1;                    (1)\n    queue.put(job);             (2)\n\nthread2:\n    job=queue.take();           (3)\n    r1=job.a;                   (4)\n</code></pre>\n<p>There is a happens-before edge between (1) and (2) due to program order rule.</p>\n<p>There is a happens-before edge between (2) and (3) due to either the monitor lock rule or volatile variable rule.</p>\n<p>There is a happens-before edge between (3) and (4) due to the program order rule.</p>\n<p>Because the happens-before relation is transitive, there is a happens-before edge between (1) and (4) and hence there is no data race.</p>\n<p>So the above code will work fine. But if the producer modifies the Job after it has put it on the queue, then there could be a data race. So you need to make sure your code doesn't suffer from that problem.</p>\n"}],"owner":{"account_id":94193,"reputation":20589,"user_id":257299,"accept_rate":64,"display_name":"kevinarpe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":429,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":34542690,"answer_count":2,"score":5,"last_activity_date":1661921285,"creation_date":1451545126,"question_id":34542492,"body_markdown":"I am confused about sharing arrays safely between threads in Java, specifically memory fences and the keyword `synchronized`.\r\n\r\nThis Q&amp;A is helpful, but does not answer all of my questions: https://stackoverflow.com/questions/8324064/java-arrays-synchronized-atomic-or-synchronized-suffices\r\n\r\nWhat follows is sample code to demonstrate the issue.  Assume there is a pool of worker threads that populates the `SharedTable` via method `add(...)`.  After all worker threads are done, a final thread reads and saves the data.\r\n\r\nSample code to demonstrate the issue:\r\n\r\n    public final class SharedTable {\r\n\r\n        // Column-oriented data entries\r\n        private final String[] data1Arr;\r\n        private final int[] data2Arr;\r\n        private final long[] data3Arr;\r\n        private final AtomicInteger nextIndex;\r\n\r\n        public SharedTable(int size) {\r\n            this.data1Arr = new String[size];\r\n            this.data2Arr = new int[size];\r\n            this.data3Arr = new long[size];\r\n            this.nextIndex = new AtomicInteger(0);\r\n        }\r\n\r\n        // Thread-safe: Called by worker threads\r\n        public void addEntry(String data1, int data2, long data3) {\r\n            final int index = nextIndex.getAndIncrement();\r\n            data1Arr[index] = data1;\r\n            data2Arr[index] = data2;\r\n            data3Arr[index] = data3;\r\n        }\r\n\r\n        // Not thread-safe: Called by clean-up/joiner/collator thread...\r\n        // after worker threads are complete\r\n        public void save() {\r\n            // Does this induce a full memory fence to ensure thread-safe reading of \r\n            synchronized (this) {\r\n                final int usedSide = nextIndex.get();\r\n                for (int i = 0; i &lt; usedSide; ++i) {\r\n                    final String data1 = data1Arr[i];\r\n                    final int    data2 = data2Arr[i];\r\n                    final long   data3 = data3Arr[i];\r\n                    // TODO: Save data here\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThe sample code above could also be implemented using `Atomic*Array`, which acts as an &quot;array of volatile values/references&quot;.\r\n\r\n    public final class SharedTable2 {\r\n\r\n        // Column-oriented data entries\r\n        private final AtomicReferenceArray&lt;String&gt; data1Arr;\r\n        private final AtomicIntegerArray  data2Arr;\r\n        private final AtomicLongArray data3Arr;\r\n        private final AtomicInteger nextIndex;\r\n\r\n        public SharedTable2(int size) { ... }\r\n\r\n        // Thread-safe: Called by worker threads\r\n        public void addEntry(String data1, int data2, long data3) {\r\n            final int index = nextIndex.getAndIncrement();\r\n            data1Arr.set(index, data1);\r\n            ...\r\n        }\r\n\r\n        // Not thread-safe: Called by clean-up/joiner/collator thread...\r\n        // after worker threads are complete\r\n        public void save() {\r\n            final int usedSide = nextIndex.get();\r\n            for (int i = 0; i &lt; usedSide; ++i) {\r\n                final String data1 = data1Arr.get(i);\r\n                final int    data2 = data2Arr.get(i);\r\n                final long   data3 = data3Arr.get(i);\r\n                // TODO: Save data here\r\n            }\r\n        }\r\n    }\r\n\r\n 1. Is `SharedTable` thread-safe (and cache coherent)?\r\n 1. Is `SharedTable` (much?) more efficient as only a single memory fence is required, whereas `SharedTable2` invokes a memory fence for each call to `Atomic*Array.set(...)`?\r\n\r\nIf it helps, I am using Java 8 on 64-bit x86 hardware (Windows and Linux).","title":"Does a synchronized block trigger a full memory fence for arrays?","body":"<p>I am confused about sharing arrays safely between threads in Java, specifically memory fences and the keyword <code>synchronized</code>.</p>\n\n<p>This Q&amp;A is helpful, but does not answer all of my questions: <a href=\"https://stackoverflow.com/questions/8324064/java-arrays-synchronized-atomic-or-synchronized-suffices\">Java arrays: synchronized + Atomic*, or synchronized suffices?</a></p>\n\n<p>What follows is sample code to demonstrate the issue.  Assume there is a pool of worker threads that populates the <code>SharedTable</code> via method <code>add(...)</code>.  After all worker threads are done, a final thread reads and saves the data.</p>\n\n<p>Sample code to demonstrate the issue:</p>\n\n<pre><code>public final class SharedTable {\n\n    // Column-oriented data entries\n    private final String[] data1Arr;\n    private final int[] data2Arr;\n    private final long[] data3Arr;\n    private final AtomicInteger nextIndex;\n\n    public SharedTable(int size) {\n        this.data1Arr = new String[size];\n        this.data2Arr = new int[size];\n        this.data3Arr = new long[size];\n        this.nextIndex = new AtomicInteger(0);\n    }\n\n    // Thread-safe: Called by worker threads\n    public void addEntry(String data1, int data2, long data3) {\n        final int index = nextIndex.getAndIncrement();\n        data1Arr[index] = data1;\n        data2Arr[index] = data2;\n        data3Arr[index] = data3;\n    }\n\n    // Not thread-safe: Called by clean-up/joiner/collator thread...\n    // after worker threads are complete\n    public void save() {\n        // Does this induce a full memory fence to ensure thread-safe reading of \n        synchronized (this) {\n            final int usedSide = nextIndex.get();\n            for (int i = 0; i &lt; usedSide; ++i) {\n                final String data1 = data1Arr[i];\n                final int    data2 = data2Arr[i];\n                final long   data3 = data3Arr[i];\n                // TODO: Save data here\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>The sample code above could also be implemented using <code>Atomic*Array</code>, which acts as an \"array of volatile values/references\".</p>\n\n<pre><code>public final class SharedTable2 {\n\n    // Column-oriented data entries\n    private final AtomicReferenceArray&lt;String&gt; data1Arr;\n    private final AtomicIntegerArray  data2Arr;\n    private final AtomicLongArray data3Arr;\n    private final AtomicInteger nextIndex;\n\n    public SharedTable2(int size) { ... }\n\n    // Thread-safe: Called by worker threads\n    public void addEntry(String data1, int data2, long data3) {\n        final int index = nextIndex.getAndIncrement();\n        data1Arr.set(index, data1);\n        ...\n    }\n\n    // Not thread-safe: Called by clean-up/joiner/collator thread...\n    // after worker threads are complete\n    public void save() {\n        final int usedSide = nextIndex.get();\n        for (int i = 0; i &lt; usedSide; ++i) {\n            final String data1 = data1Arr.get(i);\n            final int    data2 = data2Arr.get(i);\n            final long   data3 = data3Arr.get(i);\n            // TODO: Save data here\n        }\n    }\n}\n</code></pre>\n\n<ol>\n<li>Is <code>SharedTable</code> thread-safe (and cache coherent)?</li>\n<li>Is <code>SharedTable</code> (much?) more efficient as only a single memory fence is required, whereas <code>SharedTable2</code> invokes a memory fence for each call to <code>Atomic*Array.set(...)</code>?</li>\n</ol>\n\n<p>If it helps, I am using Java 8 on 64-bit x86 hardware (Windows and Linux).</p>\n"},{"tags":["java","android","firebase","android-studio"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1661817394,"post_id":73535736,"comment_id":129856891,"body_markdown":"Do you get an Exception thrown? An error message? If so, please include a copy.","body":"Do you get an Exception thrown? An error message? If so, please include a copy."},{"owner":{"account_id":26193132,"reputation":17,"user_id":19874620,"display_name":"Morgan"},"score":0,"creation_date":1661817999,"post_id":73535736,"comment_id":129856960,"body_markdown":"@James Nope, the app just crashes, no error.","body":"@James Nope, the app just crashes, no error."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1661818122,"post_id":73535736,"comment_id":129856981,"body_markdown":"Then how do you know it crashes?","body":"Then how do you know it crashes?"},{"owner":{"account_id":26193132,"reputation":17,"user_id":19874620,"display_name":"Morgan"},"score":1,"creation_date":1661819374,"post_id":73535736,"comment_id":129857082,"body_markdown":"@James Because of the phone emulator in android studio, &quot;com.example.auth keeps stopping&quot; is the emulator message when it crashes.","body":"@James Because of the phone emulator in android studio, &quot;com.example.auth keeps stopping&quot; is the emulator message when it crashes."},{"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"score":0,"creation_date":1661823188,"post_id":73535736,"comment_id":129857612,"body_markdown":"why your `continue_button` clicked twice? you already inside the method `onClick` and then you trigger again `setOnClickListener` ?","body":"why your <code>continue_button</code> clicked twice? you already inside the method <code>onClick</code> and then you trigger again <code>setOnClickListener</code> ?"},{"owner":{"account_id":26193132,"reputation":17,"user_id":19874620,"display_name":"Morgan"},"score":0,"creation_date":1661824098,"post_id":73535736,"comment_id":129857734,"body_markdown":"@TicherhazFreePalestine I corrected that, but the button still doesn&#39;t work. Thanks for catching that though!","body":"@TicherhazFreePalestine I corrected that, but the button still doesn&#39;t work. Thanks for catching that though!"},{"owner":{"account_id":8027891,"reputation":711,"user_id":6054085,"display_name":"Ahsan Ullah Rasel"},"score":0,"creation_date":1661826037,"post_id":73535736,"comment_id":129857981,"body_markdown":"@Morgan Did you fixed the part where you are reassigning onClick after clicking continue button? If yes, then paste your edited code of that part.","body":"@Morgan Did you fixed the part where you are reassigning onClick after clicking continue button? If yes, then paste your edited code of that part."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1661835678,"post_id":73535736,"comment_id":129859204,"body_markdown":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question. Please respond using @AlexMamo","body":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question. Please respond using @AlexMamo"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1661842835,"post_id":73535736,"comment_id":129860824,"body_markdown":"When an app crashes, it writes an error message and stack trace to its logcat. Please find those, and add them to your question by clicking the `edit` link under it. Also see https://stackoverflow.com/questions/23353173/unfortunately-myapp-has-stopped-how-can-i-solve-this and https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors","body":"When an app crashes, it writes an error message and stack trace to its logcat. Please find those, and add them to your question by clicking the <code>edit</code> link under it. Also see <a href=\"https://stackoverflow.com/questions/23353173/unfortunately-myapp-has-stopped-how-can-i-solve-this\" title=\"unfortunately myapp has stopped how can i solve this\">stackoverflow.com/questions/23353173/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors\" title=\"what is a stack trace and how can i use it to debug my application errors\">stackoverflow.com/questions/3988788/&hellip;</a>"},{"owner":{"account_id":26193132,"reputation":17,"user_id":19874620,"display_name":"Morgan"},"score":0,"creation_date":1661894620,"post_id":73535736,"comment_id":129879692,"body_markdown":"@AhsanUllahRasel I&#39;ve edited the code to what it is now.","body":"@AhsanUllahRasel I&#39;ve edited the code to what it is now."},{"owner":{"account_id":26193132,"reputation":17,"user_id":19874620,"display_name":"Morgan"},"score":0,"creation_date":1661895066,"post_id":73535736,"comment_id":129879787,"body_markdown":"@AlexMamo java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.auth/com.example.auth.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.ImageView.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference","body":"@AlexMamo java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.auth/com.example.auth.MainActivity&zwnj;&#8203;}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.ImageView.setOnClickListener(android.view.Vie&zwnj;&#8203;w$OnClickListener)&#39; on a null object reference"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1661930611,"post_id":73535736,"comment_id":129885908,"body_markdown":"Have you tried AhsanUllahRasel&#39;s solution?","body":"Have you tried AhsanUllahRasel&#39;s solution?"}],"answers":[{"tags":[],"owner":{"account_id":20826347,"reputation":68,"user_id":15296744,"display_name":"Dorrin Samadian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661819680,"creation_date":1661819680,"answer_id":73535972,"question_id":73535736,"body_markdown":"\r\nYou should initialize your buttons and after that, set onclicklistener to them. For the complete explanation visit https://stackoverflow.com/questions/15994457/android-app-crashes-on-button-click ","title":"App crashes when I press &quot;continue&quot; button (transitioning between activities)","body":"<p>You should initialize your buttons and after that, set onclicklistener to them. For the complete explanation visit <a href=\"https://stackoverflow.com/questions/15994457/android-app-crashes-on-button-click\">Android App Crashes on Button Click</a></p>\n"},{"tags":[],"owner":{"account_id":8027891,"reputation":711,"user_id":6054085,"display_name":"Ahsan Ullah Rasel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661921006,"creation_date":1661921006,"answer_id":73550949,"question_id":73535736,"body_markdown":"According to your logcat, it seems that, you are referencing an resource ID which doesn&#39;t exists on your XML (`activity_main.xml`) file. &lt;br/&gt;\r\nCheck whether the ID `imageView` exists or not. It might not present in your layout file or it may have different name. Make the ID name same both in `activity_main.xml` side and `MainActivity` side.","title":"App crashes when I press &quot;continue&quot; button (transitioning between activities)","body":"<p>According to your logcat, it seems that, you are referencing an resource ID which doesn't exists on your XML (<code>activity_main.xml</code>) file. <br/>\nCheck whether the ID <code>imageView</code> exists or not. It might not present in your layout file or it may have different name. Make the ID name same both in <code>activity_main.xml</code> side and <code>MainActivity</code> side.</p>\n"}],"owner":{"account_id":26193132,"reputation":17,"user_id":19874620,"display_name":"Morgan"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73550949,"answer_count":2,"score":0,"last_activity_date":1661921006,"creation_date":1661816996,"question_id":73535736,"body_markdown":"I am creating an app where you log in and then access a database of files unique to each user account. I have a continue button linking the &quot;LoginActivity&quot; and &quot;MainActivity&quot; activities together. The code that I have in the LoginActivity file is this: \r\n\r\n```\r\n@Override\r\n\tpublic void onClick(View v) {\r\n\t\tswitch (v.getId()) {\r\n\t\t\tcase R.id.email_create_account_button:\r\n\t\t\t\tcreateAccount(mEdtEmail.getText().toString(), mEdtPassword.getText().toString());\r\n\t\t\t\tbreak;\r\n\t\t\tcase R.id.email_sign_in_button:\r\n\t\t\t\tsignIn(mEdtEmail.getText().toString(), mEdtPassword.getText().toString());\r\n\t\t\t\tbreak;\r\n\t\t\tcase R.id.sign_out_button:\r\n\t\t\t\tsignOut();\r\n\t\t\t\tbreak;\r\n\t\t\tcase R.id.continue_button:\r\n\t\t\t\tButton btn = (Button)findViewById(R.id.continue_button);\r\n                startActivity(new Intent(LoginActivity.this, MainActivity.class));\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n```\r\n\r\nand on the MainActivity side I have this:\r\n\r\n```\r\n@Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        upload_button = findViewById(R.id.upload_button);\r\n        showall_button = findViewById(R.id.showall_button);\r\n        progressBar = findViewById(R.id.progressBar);\r\n        imageView = findViewById(R.id.imageView);\r\n\r\n        progressBar.setVisibility(View.INVISIBLE);\r\n\r\n        imageView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent galleryIntent = new Intent();\r\n                galleryIntent.setAction(Intent.ACTION_GET_CONTENT);\r\n                galleryIntent.setType(&quot;image/*&quot;);\r\n                startActivityForResult(galleryIntent , 2);\r\n            }\r\n        });\r\n```\r\n\r\nWhat is wrong with my code? I can&#39;t seem to figure it out. Please let me know if you need more code from my project. Thanks!","title":"App crashes when I press &quot;continue&quot; button (transitioning between activities)","body":"<p>I am creating an app where you log in and then access a database of files unique to each user account. I have a continue button linking the &quot;LoginActivity&quot; and &quot;MainActivity&quot; activities together. The code that I have in the LoginActivity file is this:</p>\n<pre><code>@Override\n    public void onClick(View v) {\n        switch (v.getId()) {\n            case R.id.email_create_account_button:\n                createAccount(mEdtEmail.getText().toString(), mEdtPassword.getText().toString());\n                break;\n            case R.id.email_sign_in_button:\n                signIn(mEdtEmail.getText().toString(), mEdtPassword.getText().toString());\n                break;\n            case R.id.sign_out_button:\n                signOut();\n                break;\n            case R.id.continue_button:\n                Button btn = (Button)findViewById(R.id.continue_button);\n                startActivity(new Intent(LoginActivity.this, MainActivity.class));\n                break;\n        }\n    }\n</code></pre>\n<p>and on the MainActivity side I have this:</p>\n<pre><code>@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        upload_button = findViewById(R.id.upload_button);\n        showall_button = findViewById(R.id.showall_button);\n        progressBar = findViewById(R.id.progressBar);\n        imageView = findViewById(R.id.imageView);\n\n        progressBar.setVisibility(View.INVISIBLE);\n\n        imageView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent galleryIntent = new Intent();\n                galleryIntent.setAction(Intent.ACTION_GET_CONTENT);\n                galleryIntent.setType(&quot;image/*&quot;);\n                startActivityForResult(galleryIntent , 2);\n            }\n        });\n</code></pre>\n<p>What is wrong with my code? I can't seem to figure it out. Please let me know if you need more code from my project. Thanks!</p>\n"},{"tags":["java","android","qr-code"],"answers":[{"tags":[],"owner":{"account_id":3493872,"reputation":267,"user_id":2922740,"accept_rate":29,"display_name":"Kanishka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661920794,"creation_date":1661920794,"answer_id":73550930,"question_id":73550846,"body_markdown":"I found the way to do it.\r\nWhen Scan event triggered you have to release the scanner reaource so it stop canning again. After the work is done again call `mCodeScanner.startPreview();`\r\n\r\n    @Override\r\n                public void onDecoded(@NonNull final Result result) {\r\n                    getActivity().runOnUiThread(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            binding.scanCode.setText(result.getText());\r\n                            scannedQr = result.getText();\r\n                            mCodeScanner.releaseResources();\r\n                            getDetails(mCodeScanner);\r\n                        }\r\n                    });\r\n                }","title":"How to add delay to budiyev code scanner scanning event","body":"<p>I found the way to do it.\nWhen Scan event triggered you have to release the scanner reaource so it stop canning again. After the work is done again call <code>mCodeScanner.startPreview();</code></p>\n<pre><code>@Override\n            public void onDecoded(@NonNull final Result result) {\n                getActivity().runOnUiThread(new Runnable() {\n                    @Override\n                    public void run() {\n                        binding.scanCode.setText(result.getText());\n                        scannedQr = result.getText();\n                        mCodeScanner.releaseResources();\n                        getDetails(mCodeScanner);\n                    }\n                });\n            }\n</code></pre>\n"}],"owner":{"account_id":3493872,"reputation":267,"user_id":2922740,"accept_rate":29,"display_name":"Kanishka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661920794,"creation_date":1661919729,"question_id":73550846,"body_markdown":"I am using budiyev:code-scanner library in my android project to scan QR codes. It is in continues scan mode. Is there a way to set a small delay time in one scan to another. Now it scan multiple records in a blink of an eye\r\n\r\n    mCodeScanner = new CodeScanner(getActivity(), binding.scannerView);\r\n            mCodeScanner.setCamera(CodeScanner.CAMERA_BACK);\r\n            mCodeScanner.setFormats(CodeScanner.ALL_FORMATS);\r\n            mCodeScanner.setAutoFocusMode(AutoFocusMode.SAFE);\r\n            mCodeScanner.setScanMode(ScanMode.CONTINUOUS);\r\n\r\n    @Override\r\n                public void onDecoded(@NonNull final Result result) {\r\n                    getActivity().runOnUiThread(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            binding.scanCode.setText(result.getText());\r\n                            scannedQr = result.getText();\r\n                            getDetails(scannedQr);\r\n                        }\r\n                    });\r\n                }","title":"How to add delay to budiyev code scanner scanning event","body":"<p>I am using budiyev:code-scanner library in my android project to scan QR codes. It is in continues scan mode. Is there a way to set a small delay time in one scan to another. Now it scan multiple records in a blink of an eye</p>\n<pre><code>mCodeScanner = new CodeScanner(getActivity(), binding.scannerView);\n        mCodeScanner.setCamera(CodeScanner.CAMERA_BACK);\n        mCodeScanner.setFormats(CodeScanner.ALL_FORMATS);\n        mCodeScanner.setAutoFocusMode(AutoFocusMode.SAFE);\n        mCodeScanner.setScanMode(ScanMode.CONTINUOUS);\n\n@Override\n            public void onDecoded(@NonNull final Result result) {\n                getActivity().runOnUiThread(new Runnable() {\n                    @Override\n                    public void run() {\n                        binding.scanCode.setText(result.getText());\n                        scannedQr = result.getText();\n                        getDetails(scannedQr);\n                    }\n                });\n            }\n</code></pre>\n"},{"tags":["java","eclipse","selenium","maven"],"comments":[{"owner":{"account_id":11119865,"reputation":3661,"user_id":8163071,"display_name":"C. Peck"},"score":0,"creation_date":1661919594,"post_id":73550670,"comment_id":129883378,"body_markdown":"Might I assume you&#39;ve tried re-installing Maven?\n\nAlso, what does this have to do with Selenium?","body":"Might I assume you&#39;ve tried re-installing Maven?  Also, what does this have to do with Selenium?"}],"answers":[{"tags":[],"owner":{"account_id":19301190,"reputation":21,"user_id":14109036,"display_name":"Serin Heo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661919828,"creation_date":1661919828,"answer_id":73550857,"question_id":73550670,"body_markdown":"It seems like your maven repository configuration is wrong. \r\n\r\nRemove your maven repository first.\r\n\r\nmaven update (check forced option) &gt; maven clean &gt; maven install.\r\n","title":"Why I&#39;m Unable to create a Maven Project","body":"<p>It seems like your maven repository configuration is wrong.</p>\n<p>Remove your maven repository first.</p>\n<p>maven update (check forced option) &gt; maven clean &gt; maven install.</p>\n"}],"owner":{"account_id":23899321,"reputation":11,"user_id":17897782,"display_name":"Nandy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661919828,"creation_date":1661917676,"question_id":73550670,"body_markdown":"Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:2.6 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-resources-plugin:jar:2.6\r\nPlugin org.apache.maven.plugins:maven-resources-plugin:2.6 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-resources-plugin:jar:2.6\r\n\r\nGetting this above Error.How to Proceed further?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZnyDA.png","title":"Why I&#39;m Unable to create a Maven Project","body":"<p>Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:2.6 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-resources-plugin:jar:2.6\nPlugin org.apache.maven.plugins:maven-resources-plugin:2.6 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-resources-plugin:jar:2.6</p>\n<p>Getting this above Error.How to Proceed further?</p>\n<p><a href=\"https://i.stack.imgur.com/ZnyDA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZnyDA.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","big-o","computer-science"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1549922288,"post_id":54639755,"comment_id":96071486,"body_markdown":"If `A` is all zeros, it should be O(n^2).","body":"If <code>A</code> is all zeros, it should be O(n^2)."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":3,"creation_date":1549922298,"post_id":54639755,"comment_id":96071490,"body_markdown":"*Best* case is that all values in `A` is zero. So _O(n^2)_. Average and Worst case are both _O(n^3)_.","body":"<i>Best</i> case is that all values in <code>A</code> is zero. So <i>O(n^2)</i>. Average and Worst case are both <i>O(n^3)</i>."},{"owner":{"account_id":8477623,"reputation":722,"user_id":6358346,"display_name":"Grant Foster"},"score":0,"creation_date":1549922924,"post_id":54639755,"comment_id":96071742,"body_markdown":"turned @Andreas answer into a community wiki answer","body":"turned @Andreas answer into a community wiki answer"}],"answers":[{"tags":[],"owner":{"account_id":15216823,"reputation":11,"user_id":12942091,"display_name":"shahzam1755"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1582449667,"creation_date":1582449667,"answer_id":60360755,"question_id":54639755,"body_markdown":"It is true that matrix multiplication takes O(n^3) time to run in average and worst cases. For 2 matrices of dimensions m x n and n x p respectively, there is going to be a total of m*n*p (or n^3 for simplicity) calculations, one for each entry in the resultant matrix. As for the best case, it depends on what your program does when it sees that at least one of the matrices is a zero matrix (all entries in the matrix are 0). If it can spot a zero matrix, then you can short circuit the program. In this case, the running time is going to be O(n^2) (you just scan a couple of n x n matrices at most), which is the best that can be achieved for matrix multiplication. If this optimization is not available, the program will run in O(n^3) in any case. Either way, you can still say that the best case is O(n^3) because of the definition of Big-O notation, but that is not of interest to most people. ","title":"Matrix multiplication Big O notation","body":"<p>It is true that matrix multiplication takes O(n^3) time to run in average and worst cases. For 2 matrices of dimensions m x n and n x p respectively, there is going to be a total of m<em>n</em>p (or n^3 for simplicity) calculations, one for each entry in the resultant matrix. As for the best case, it depends on what your program does when it sees that at least one of the matrices is a zero matrix (all entries in the matrix are 0). If it can spot a zero matrix, then you can short circuit the program. In this case, the running time is going to be O(n^2) (you just scan a couple of n x n matrices at most), which is the best that can be achieved for matrix multiplication. If this optimization is not available, the program will run in O(n^3) in any case. Either way, you can still say that the best case is O(n^3) because of the definition of Big-O notation, but that is not of interest to most people. </p>\n"},{"tags":[],"owner":{"account_id":26204361,"reputation":1,"user_id":19884174,"display_name":"Anon S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661919539,"creation_date":1661919379,"answer_id":73550816,"question_id":54639755,"body_markdown":"The line of code shown above must be corrected.\r\n\r\n    C[i][k] += A[i][j]*B[j][k];\r\n\r\nIt should be corrected as follows.\r\n\r\n    C[i][j] += A[i][k]*B[k][j];","title":"Matrix multiplication Big O notation","body":"<p>The line of code shown above must be corrected.</p>\n<pre><code>C[i][k] += A[i][j]*B[j][k];\n</code></pre>\n<p>It should be corrected as follows.</p>\n<pre><code>C[i][j] += A[i][k]*B[k][j];\n</code></pre>\n"}],"owner":{"account_id":10434434,"reputation":33,"user_id":7693220,"display_name":"Jkae11"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1186,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1661919539,"creation_date":1549922105,"question_id":54639755,"body_markdown":"I have a question regarding best case scenario for this piece of code and worst case scenario in Big O notation. From my point of view, it should be O (n^3) for both cases but some people disagree.\r\n\r\n    public int [][] multiply (int [][] A, int \r\n     [][] B, int n) {\t\r\n    int [][] C = new int[n][n];\t- 1 ( ignored )\r\n    for(int i=0; i&lt;n; i++) {\t\t- n \r\n      for(int j=0; j&lt;n; j++) {\t- n \r\n         if(A[i][j ]!=0) {\t- 1 ( ignored )\r\n             for (int k=0; k&lt;n; k++) {   - n\r\n                  C[i][k] += A[i][j]*B[j][k]; - \r\n            }\r\n          }\r\n         }\r\n       }\r\n     return C; \r\n   } ","title":"Matrix multiplication Big O notation","body":"<p>I have a question regarding best case scenario for this piece of code and worst case scenario in Big O notation. From my point of view, it should be O (n^3) for both cases but some people disagree.</p>\n\n<pre><code>public int [][] multiply (int [][] A, int \n [][] B, int n) {   \nint [][] C = new int[n][n]; - 1 ( ignored )\nfor(int i=0; i&lt;n; i++) {        - n \n  for(int j=0; j&lt;n; j++) {  - n \n     if(A[i][j ]!=0) {  - 1 ( ignored )\n         for (int k=0; k&lt;n; k++) {   - n\n              C[i][k] += A[i][j]*B[j][k]; - \n        }\n      }\n     }\n   }\n return C; \n</code></pre>\n\n<p>} </p>\n"},{"tags":["java","osgi","apache-felix","java-9","java-platform-module-system"],"comments":[{"owner":{"account_id":7332,"reputation":23983,"user_id":12704,"accept_rate":75,"display_name":"Michael Easter"},"score":1,"creation_date":1504694141,"post_id":46061428,"comment_id":79106572,"body_markdown":"This may not merit an answer but in case it helps, [here](https://github.com/codetojoy/WarO_Java_9/blob/master/List.md) is a small example in Java 9. See link for a version of it in OSGi (Java 8).","body":"This may not merit an answer but in case it helps, <a href=\"https://github.com/codetojoy/WarO_Java_9/blob/master/List.md\" rel=\"nofollow noreferrer\">here</a> is a small example in Java 9. See link for a version of it in OSGi (Java 8)."}],"answers":[{"tags":[],"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1661919241,"creation_date":1504646498,"answer_id":46063526,"question_id":46061428,"body_markdown":"Generic tips:\r\n\r\n* Read [the State of the Module System](http://openjdk.java.net/projects/jigsaw/spec/sotms/#the-unnamed-module) to familiarize yourself with the JPMS. Alternatively, read [this module system tutorial](https://blog.codefx.org/java/java-module-system-tutorial/#modules) (disclaimer: I&#39;m the author).\r\n* In the [answer to your other question](https://stackoverflow.com/a/46063447/2525313), creating modules is optional.\r\n\r\nTo answer your specific questions:\r\n\r\nPlace _module declaration_ (`module-info.java`) into the project&#39;s source root directory (e.g. `src/main/java`). It must be among the list of files to compile to be turned into a _module descriptor_ (`module-info.class`). Last step is to include it in the list of class files that are packaged into a JAR. Having a module descriptor in a JAR turns it into a _modular JAR_. If placed on the module path, the JPMS turns it into a module.\r\n\r\nIf you don&#39;t want to create modules after all and prefer your code to run in the unnamed module, you can allow it to access internal APIs with the placeholder `ALL-UNNAMED` - in the case f your warning you need to _open_ that package to reflection:\r\n\r\n    --add-opens java.base/java.net=ALL-UNNAMED\r\n\r\nThe better solution would be to stop using internal APIs, though. &#128521; As this is not your code, but your dependency, you should look for or open an issue with Apache Felix that asks to remove the access of internal API.\r\n\r\n","title":"Where to place module-info.java using Java 9?","body":"<p>Generic tips:</p>\n<ul>\n<li>Read <a href=\"http://openjdk.java.net/projects/jigsaw/spec/sotms/#the-unnamed-module\" rel=\"nofollow noreferrer\">the State of the Module System</a> to familiarize yourself with the JPMS. Alternatively, read <a href=\"https://blog.codefx.org/java/java-module-system-tutorial/#modules\" rel=\"nofollow noreferrer\">this module system tutorial</a> (disclaimer: I'm the author).</li>\n<li>In the <a href=\"https://stackoverflow.com/a/46063447/2525313\">answer to your other question</a>, creating modules is optional.</li>\n</ul>\n<p>To answer your specific questions:</p>\n<p>Place <em>module declaration</em> (<code>module-info.java</code>) into the project's source root directory (e.g. <code>src/main/java</code>). It must be among the list of files to compile to be turned into a <em>module descriptor</em> (<code>module-info.class</code>). Last step is to include it in the list of class files that are packaged into a JAR. Having a module descriptor in a JAR turns it into a <em>modular JAR</em>. If placed on the module path, the JPMS turns it into a module.</p>\n<p>If you don't want to create modules after all and prefer your code to run in the unnamed module, you can allow it to access internal APIs with the placeholder <code>ALL-UNNAMED</code> - in the case f your warning you need to <em>open</em> that package to reflection:</p>\n<pre><code>--add-opens java.base/java.net=ALL-UNNAMED\n</code></pre>\n<p>The better solution would be to stop using internal APIs, though. 😉 As this is not your code, but your dependency, you should look for or open an issue with Apache Felix that asks to remove the access of internal API.</p>\n"},{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1615541940,"creation_date":1504664789,"answer_id":46065870,"question_id":46061428,"body_markdown":"Well the [Jigsaw quick start](http://openjdk.java.net/projects/jigsaw/quick-start) is a nice way to start off with if you&#39;re kick starting a project on Java-9. \r\n\r\n&gt; Where should I place this module-info.java to make jvm read it?\r\n\r\nInferring your module name from the declaration `module org.apache.felix.framework { }`, you should place the `module-info.java` file in your project directory at:\r\n\r\n    src/org.apache.felix.framework/module-info.java \r\n\r\n&gt; How should I bind this module-info with\r\n&gt; org.apache.felix.framework-5.4.0.jar file/bundle/jar?\r\n\r\nFurther to compile modules and package them(bind the module-info.class at the top level directory of your modular jar), you can use the `javac` and `jar` commands. \r\n\r\nSample commands for the above would be somewhat like :\r\n\r\n    $ javac --module-path mods -d mods/org.apache.felix.framework \\\r\n        src/org.apache.felix.framework/module-info.java src/org.apache.felix.framework/com/apache/felix/framework/Application.java\r\n\r\n\r\n    $ jar --create --file=mlib/org.apache.felix.framework.jar \\\r\n        --main-class=com.apache.felix.framework.Application -C mods/com.apache.felix.framework\r\n\r\nAnd further you can execute the module using:\r\n\r\n    $ java -p mlib -m com.apache.felix.framework\r\n\r\n----------\r\n\r\n\r\nAlso apart from The State Module System and the Quick-Start documents, for migrating existing projects to Java-9, I would suggest you to follow the [JDK9 Migration Guide](https://docs.oracle.com/javase/9/migrate/toc.htm#JSMIG-GUID-7744EF96-5899-4FB2-B34E-86D49B2E89B6) which states a clear step wise transition required to adapt to Java9.","title":"Where to place module-info.java using Java 9?","body":"<p>Well the <a href=\"http://openjdk.java.net/projects/jigsaw/quick-start\" rel=\"nofollow noreferrer\">Jigsaw quick start</a> is a nice way to start off with if you're kick starting a project on Java-9.</p>\n<blockquote>\n<p>Where should I place this module-info.java to make jvm read it?</p>\n</blockquote>\n<p>Inferring your module name from the declaration <code>module org.apache.felix.framework { }</code>, you should place the <code>module-info.java</code> file in your project directory at:</p>\n<pre><code>src/org.apache.felix.framework/module-info.java \n</code></pre>\n<blockquote>\n<p>How should I bind this module-info with\norg.apache.felix.framework-5.4.0.jar file/bundle/jar?</p>\n</blockquote>\n<p>Further to compile modules and package them(bind the module-info.class at the top level directory of your modular jar), you can use the <code>javac</code> and <code>jar</code> commands.</p>\n<p>Sample commands for the above would be somewhat like :</p>\n<pre><code>$ javac --module-path mods -d mods/org.apache.felix.framework \\\n    src/org.apache.felix.framework/module-info.java src/org.apache.felix.framework/com/apache/felix/framework/Application.java\n\n\n$ jar --create --file=mlib/org.apache.felix.framework.jar \\\n    --main-class=com.apache.felix.framework.Application -C mods/com.apache.felix.framework\n</code></pre>\n<p>And further you can execute the module using:</p>\n<pre><code>$ java -p mlib -m com.apache.felix.framework\n</code></pre>\n<hr />\n<p>Also apart from The State Module System and the Quick-Start documents, for migrating existing projects to Java-9, I would suggest you to follow the <a href=\"https://docs.oracle.com/javase/9/migrate/toc.htm#JSMIG-GUID-7744EF96-5899-4FB2-B34E-86D49B2E89B6\" rel=\"nofollow noreferrer\">JDK9 Migration Guide</a> which states a clear step wise transition required to adapt to Java9.</p>\n"},{"tags":[],"owner":{"account_id":10098519,"reputation":5323,"user_id":7463126,"display_name":"Alan Bateman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1504694235,"creation_date":1504686331,"answer_id":46070268,"question_id":46061428,"body_markdown":"You should submit a bug to Apache Felix as it&#39;s the code in org.apache.felix.framework-5.4.0.jar that is doing the illegal access and needs to be fixed. I did a quick test with newer version 5.6.8 and with `--illegal-access=debug` and it appears that Felix has several issues that need attention. Yes, you can temporarily eliminate the specific warning above by opening the java.net package to &quot;ALL-UNNAMED&quot; but that is just one or many issues.","title":"Where to place module-info.java using Java 9?","body":"<p>You should submit a bug to Apache Felix as it's the code in org.apache.felix.framework-5.4.0.jar that is doing the illegal access and needs to be fixed. I did a quick test with newer version 5.6.8 and with <code>--illegal-access=debug</code> and it appears that Felix has several issues that need attention. Yes, you can temporarily eliminate the specific warning above by opening the java.net package to \"ALL-UNNAMED\" but that is just one or many issues.</p>\n"}],"owner":{"account_id":6539656,"reputation":11090,"user_id":5057736,"accept_rate":84,"display_name":"Pavel_K"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18358,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":46063526,"answer_count":3,"score":17,"last_activity_date":1661919241,"creation_date":1504636952,"question_id":46061428,"body_markdown":"I have an OSGI application and I have around 30 bundles (jar files). Today I decided to see how it works/if it works with Java 9.\r\n\r\nSo I started my application and got\r\n\r\n    WARNING: An illegal reflective access operation has occurred\r\n    WARNING: Illegal reflective access by org.apache.felix.framework.util.SecureAction (file:/home/.../jar/org.apache.felix.framework-5.4.0.jar) to method java.net.URLClassLoader.addURL(java.net.URL)\r\n    WARNING: Please consider reporting this to the maintainers of org.apache.felix.framework.util.SecureAction\r\n    WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\n    WARNING: All illegal access operations will be denied in a future release\r\n\r\nAfter some reading I added command line option \r\n\r\n    --add-exports java.base/java.net=org.apache.felix.framework \r\nand created file module-info.java with the following content:\r\n\r\n    module org.apache.felix.framework { }\r\nAnd I have two questions. Where should I place this module-info.java to make jvm read it? How should I bind this module-info with `org.apache.felix.framework-5.4.0.jar` file/bundle/jar? \r\n\r\nIf I do everything wrong please, show me right direction for fixing this problem.\r\n\r\n\r\n","title":"Where to place module-info.java using Java 9?","body":"<p>I have an OSGI application and I have around 30 bundles (jar files). Today I decided to see how it works/if it works with Java 9.</p>\n\n<p>So I started my application and got</p>\n\n<pre><code>WARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by org.apache.felix.framework.util.SecureAction (file:/home/.../jar/org.apache.felix.framework-5.4.0.jar) to method java.net.URLClassLoader.addURL(java.net.URL)\nWARNING: Please consider reporting this to the maintainers of org.apache.felix.framework.util.SecureAction\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n</code></pre>\n\n<p>After some reading I added command line option </p>\n\n<pre><code>--add-exports java.base/java.net=org.apache.felix.framework \n</code></pre>\n\n<p>and created file module-info.java with the following content:</p>\n\n<pre><code>module org.apache.felix.framework { }\n</code></pre>\n\n<p>And I have two questions. Where should I place this module-info.java to make jvm read it? How should I bind this module-info with <code>org.apache.felix.framework-5.4.0.jar</code> file/bundle/jar? </p>\n\n<p>If I do everything wrong please, show me right direction for fixing this problem.</p>\n"},{"tags":["java","android","kotlin","imageview","scale"],"owner":{"account_id":7544172,"reputation":417,"user_id":5727849,"display_name":"Thang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661919206,"creation_date":1661919206,"question_id":73550799,"body_markdown":"I have a list of images like the one on the left with fixed size frames,when i select one of the images i want a frame like the selected image to appear on the dialog with a ratio, that is, when I select the image with a square frame, in that dialog I have a picture frame like the one selected with the ratio,conversely, when I select an image with a rectangular frame, the dialog must also have a rectangular frame:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nMy code as below:\r\n\r\n```\r\n    /**\r\n     * \r\n     * @param size is size of frame is selected\r\n     */\r\n    public void scaleImage(Size size){\r\n        ViewGroup.LayoutParams layoutParams = mPreview.getLayoutParams();\r\n        final double viewWidthToBitmapWidthRatio = (double)size.getWidth() / (double)mBitmap.getWidth();\r\n        layoutParams.height = (int) (mBitmap.getHeight() * viewWidthToBitmapWidthRatio);\r\n        mPreview.setLayoutParams(layoutParams);\r\n        Drawable d = new BitmapDrawable(getResources(), mBitmap);\r\n        mPreview.setImageBitmap(mBitmap);\r\n    }\r\n```\r\n\r\nso can anyone help me to solve this problem:\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rFncC.png","title":"How to create new frame and scale image with size frame is selected in android","body":"<p>I have a list of images like the one on the left with fixed size frames,when i select one of the images i want a frame like the selected image to appear on the dialog with a ratio, that is, when I select the image with a square frame, in that dialog I have a picture frame like the one selected with the ratio,conversely, when I select an image with a rectangular frame, the dialog must also have a rectangular frame:</p>\n<p><a href=\"https://i.stack.imgur.com/rFncC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rFncC.png\" alt=\"enter image description here\" /></a></p>\n<p>My code as below:</p>\n<pre><code>    /**\n     * \n     * @param size is size of frame is selected\n     */\n    public void scaleImage(Size size){\n        ViewGroup.LayoutParams layoutParams = mPreview.getLayoutParams();\n        final double viewWidthToBitmapWidthRatio = (double)size.getWidth() / (double)mBitmap.getWidth();\n        layoutParams.height = (int) (mBitmap.getHeight() * viewWidthToBitmapWidthRatio);\n        mPreview.setLayoutParams(layoutParams);\n        Drawable d = new BitmapDrawable(getResources(), mBitmap);\n        mPreview.setImageBitmap(mBitmap);\n    }\n</code></pre>\n<p>so can anyone help me to solve this problem:</p>\n"},{"tags":["java","spring","hibernate","spring-batch","java-batch"],"comments":[{"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":3,"creation_date":1661918673,"post_id":73550686,"comment_id":129883264,"body_markdown":"What does &quot;stops the execution&quot; mean exactly? Is the JVM exiting? Or does it continue to run, but is no longer making observable progress? What steps have you taken to debug the issue?","body":"What does &quot;stops the execution&quot; mean exactly? Is the JVM exiting? Or does it continue to run, but is no longer making observable progress? What steps have you taken to debug the issue?"},{"owner":{"account_id":12142871,"reputation":97,"user_id":8866086,"display_name":"sjy"},"score":1,"creation_date":1661931994,"post_id":73550686,"comment_id":129886332,"body_markdown":"move the below code into constructor DataSource dataSource= (DataSource) ctx.getBean(&quot;dataSource&quot;);\n    this.jdbcTemplate = new JdbcTemplate(dataSource);  Its using jdbcTemplate above errors in logs not related to writer. try to logs jdbc using logging.level.org.springframework.jdbc.core = TRACE","body":"move the below code into constructor DataSource dataSource= (DataSource) ctx.getBean(&quot;dataSource&quot;);     this.jdbcTemplate = new JdbcTemplate(dataSource);  Its using jdbcTemplate above errors in logs not related to writer. try to logs jdbc using logging.level.org.springframework.jdbc.core = TRACE"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1661933750,"post_id":73550686,"comment_id":129886925,"body_markdown":"Your writer is wrong. First don&#39;t create a `JdbcTemplate` but use a preconfigured one and inject it. You should use a batch insert/update and not individual updates. This is slow, don&#39;t do logging in the writer, logging in slow and will become a performance bottleneck. Your logging doesn&#39;t show anything related, please add the full log from the point it starts to shutdown and preferably some before that.","body":"Your writer is wrong. First don&#39;t create a <code>JdbcTemplate</code> but use a preconfigured one and inject it. You should use a batch insert/update and not individual updates. This is slow, don&#39;t do logging in the writer, logging in slow and will become a performance bottleneck. Your logging doesn&#39;t show anything related, please add the full log from the point it starts to shutdown and preferably some before that."},{"owner":{"account_id":17933035,"reputation":255,"user_id":13029949,"display_name":"Saimuga"},"score":0,"creation_date":1662169671,"post_id":73550686,"comment_id":129950757,"body_markdown":"@meriton\nAs you mentioned, JVM is not exiting. Spring Batch keeps executing. But there is no progress. No Log entries. No Errors. Initially I did some research and found that the error might be due to Hikari Database validation settings. So I have added the below values to properties file.\nspring.datasource.hikari.connectionTimeout=12000000.\nBut it didnt work. Please let me know if you have any more questions.","body":"@meriton As you mentioned, JVM is not exiting. Spring Batch keeps executing. But there is no progress. No Log entries. No Errors. Initially I did some research and found that the error might be due to Hikari Database validation settings. So I have added the below values to properties file. spring.datasource.hikari.connectionTimeout=12000000. But it didnt work. Please let me know if you have any more questions."},{"owner":{"account_id":17933035,"reputation":255,"user_id":13029949,"display_name":"Saimuga"},"score":0,"creation_date":1662169793,"post_id":73550686,"comment_id":129950766,"body_markdown":"@sjy\nSure, I will try it out and let you know. Thanks for your suggestions !!!","body":"@sjy Sure, I will try it out and let you know. Thanks for your suggestions !!!"},{"owner":{"account_id":17933035,"reputation":255,"user_id":13029949,"display_name":"Saimuga"},"score":0,"creation_date":1662169920,"post_id":73550686,"comment_id":129950776,"body_markdown":"@M.Deinum\nThanks for the suggestions. I will remove the log entries from the writer. The thing is there are no logs other than the one I added in my post. The log doesnt show anything related to the error. Thats why I am wondering what is causing the problem.","body":"@M.Deinum Thanks for the suggestions. I will remove the log entries from the writer. The thing is there are no logs other than the one I added in my post. The log doesnt show anything related to the error. Thats why I am wondering what is causing the problem."},{"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1662206813,"post_id":73550686,"comment_id":129955513,"body_markdown":"See [Tool for debugging hangs in java application](https://stackoverflow.com/questions/9833497/tool-for-debugging-hangs-in-java-application) and similar questions for how to debug hung java processes. A thread dump will tell you where the program is hanging, which greatly narrows down the possible causes.","body":"See <a href=\"https://stackoverflow.com/questions/9833497/tool-for-debugging-hangs-in-java-application\">Tool for debugging hangs in java application</a> and similar questions for how to debug hung java processes. A thread dump will tell you where the program is hanging, which greatly narrows down the possible causes."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1662277652,"post_id":73550686,"comment_id":129965575,"body_markdown":"It isn&#39;t only the log entries your `JdbcTemplate` usage, as mentioned, is wrong as well.","body":"It isn&#39;t only the log entries your <code>JdbcTemplate</code> usage, as mentioned, is wrong as well."}],"owner":{"account_id":17933035,"reputation":255,"user_id":13029949,"display_name":"Saimuga"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661917919,"creation_date":1661917919,"question_id":73550686,"body_markdown":"I have written a spring batch with Reader and Writer (No Processor). All it does is based upon the input records from the reader, loads the data from few source tables to archive tables. I am calling a stored procedure in the writer which loads the records to archive tables and deletes from the source tables. But I am running into a strange behavior, Every time I start the batch it performs the archiving process but stops abruptly at 2 hours 10 minutes of execution time. Even if i rerun, again runs for 2 hours and 10 minutes and stops the execution. But the archival is not fully completed. There are no errors in the log except the below line.\r\n\r\nError Log :\r\n\r\n    2022-08-29 17:12:09.157  INFO 9109612 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2022-08-29 17:12:09.158 TRACE 9109612 --- [SpringApplicationShutdownHook] o.h.type.spi.TypeConfiguration$Scope     : Handling #sessionFactoryClosed from [org.hibernate.internal.SessionFactoryImpl@c647c96f] for TypeConfiguration\r\n    2022-08-29 17:12:09.158 DEBUG 9109612 --- [SpringApplicationShutdownHook] o.h.type.spi.TypeConfiguration$Scope     : Un-scoping TypeConfiguration [org.hibernate.type.spi.TypeConfiguration$Scope@9239dddd] from SessionFactory [org.hibernate.internal.SessionFactoryImpl@c647c96f]\r\n\r\n\r\nBelow is my batch Writer implementation. Can someone please shed some light on this ?\r\n\r\n    @Override\r\n    public void write(List&lt;? extends Account&gt; items) throws Exception {\r\n    \t\r\n    \tDataSource dataSource= (DataSource) ctx.getBean(&quot;dataSource&quot;);\r\n    \tthis.jdbcTemplate = new JdbcTemplate(dataSource);\r\n    \t\r\n    \tfor (cvObj : items) {\r\n    \r\n    \t\tlogger.info(&quot;Going to archive for batch &quot;);\r\n    \t\tjdbcTemplate.update(QUERY_INSERT_ARCHIVE,cvObj.getRunner);  \r\n    \t\tjdbcTemplate.update(&quot;{ call pArchiveRecords (?) }&quot;, cvObj.getRunner);\r\n    \t\tlogger.info(&quot;Archival completed for ::: &quot;+cvObj.getRunner);\r\n    \t\tjdbcTemplate.update(QUERY_UPDATE_ARCHIVE,cvObj.getRunner);\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \r\n    }\r\n\r\n","title":"Spring Batch Stops exactly at 2 hours 10 minutes everytime","body":"<p>I have written a spring batch with Reader and Writer (No Processor). All it does is based upon the input records from the reader, loads the data from few source tables to archive tables. I am calling a stored procedure in the writer which loads the records to archive tables and deletes from the source tables. But I am running into a strange behavior, Every time I start the batch it performs the archiving process but stops abruptly at 2 hours 10 minutes of execution time. Even if i rerun, again runs for 2 hours and 10 minutes and stops the execution. But the archival is not fully completed. There are no errors in the log except the below line.</p>\n<p>Error Log :</p>\n<pre><code>2022-08-29 17:12:09.157  INFO 9109612 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2022-08-29 17:12:09.158 TRACE 9109612 --- [SpringApplicationShutdownHook] o.h.type.spi.TypeConfiguration$Scope     : Handling #sessionFactoryClosed from [org.hibernate.internal.SessionFactoryImpl@c647c96f] for TypeConfiguration\n2022-08-29 17:12:09.158 DEBUG 9109612 --- [SpringApplicationShutdownHook] o.h.type.spi.TypeConfiguration$Scope     : Un-scoping TypeConfiguration [org.hibernate.type.spi.TypeConfiguration$Scope@9239dddd] from SessionFactory [org.hibernate.internal.SessionFactoryImpl@c647c96f]\n</code></pre>\n<p>Below is my batch Writer implementation. Can someone please shed some light on this ?</p>\n<pre><code>@Override\npublic void write(List&lt;? extends Account&gt; items) throws Exception {\n    \n    DataSource dataSource= (DataSource) ctx.getBean(&quot;dataSource&quot;);\n    this.jdbcTemplate = new JdbcTemplate(dataSource);\n    \n    for (cvObj : items) {\n\n        logger.info(&quot;Going to archive for batch &quot;);\n        jdbcTemplate.update(QUERY_INSERT_ARCHIVE,cvObj.getRunner);  \n        jdbcTemplate.update(&quot;{ call pArchiveRecords (?) }&quot;, cvObj.getRunner);\n        logger.info(&quot;Archival completed for ::: &quot;+cvObj.getRunner);\n        jdbcTemplate.update(QUERY_UPDATE_ARCHIVE,cvObj.getRunner);\n        \n        \n    }\n    \n\n}\n</code></pre>\n"},{"tags":["java","spring-mvc","spring-boot","classpath"],"answers":[{"tags":[],"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1449591757,"creation_date":1449591757,"answer_id":34160910,"question_id":34160419,"body_markdown":"The classpath also contains additional libraries (JARs), which also can have a `static` folder, which would then be included for serving static resources. So if the documentation would only state the folder `src/main/resources/static`, it would be incomplete.\r\n\r\nAd 2: As long as you don&#39;t mess with the default Maven configuration, then it&#39;s safe to assume this.\r\n\r\nAd 3: Maybe start with the official Oracle documentation: https://docs.oracle.com/javase/8/docs/technotes/tools/windows/classpath.html. Hint: Of course, it&#39;s not only the contents of the resources folder, which are in the classpath, but also of course all compiled classes, hence its name.","title":"Spring Boot classpath","body":"<p>The classpath also contains additional libraries (JARs), which also can have a <code>static</code> folder, which would then be included for serving static resources. So if the documentation would only state the folder <code>src/main/resources/static</code>, it would be incomplete.</p>\n\n<p>Ad 2: As long as you don't mess with the default Maven configuration, then it's safe to assume this.</p>\n\n<p>Ad 3: Maybe start with the official Oracle documentation: <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/windows/classpath.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/tools/windows/classpath.html</a>. Hint: Of course, it's not only the contents of the resources folder, which are in the classpath, but also of course all compiled classes, hence its name.</p>\n"},{"tags":[],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":49,"is_accepted":true,"score":49,"last_activity_date":1449593727,"creation_date":1449592927,"answer_id":34161312,"question_id":34160419,"body_markdown":"`/src/main/resources` is a [Maven][1] project structure convention. It&#39;s a path inside your project where you place resources. During the build step, Maven will take files in there and place them in the appropriate place for you to use them in your runtime classpath, eg in an executable `.jar`, some physical file system location used in the classpath (with `java`&#39;s `-cp` option), etc. \r\n\r\nI could choose to build my application myself or with a different build tool. In such a case, `/src/main/resources` would not exist. However, the intention is for the classpath to be the same, ie. to contain the same resources and `.class` files.\r\n\r\nThe Spring boot documentation talks about the classpath because it shouldn&#39;t make assumptions about how your project is set up.\r\n\r\n  [1]: https://maven.apache.org/","title":"Spring Boot classpath","body":"<p><code>/src/main/resources</code> is a <a href=\"https://maven.apache.org/\" rel=\"noreferrer\">Maven</a> project structure convention. It's a path inside your project where you place resources. During the build step, Maven will take files in there and place them in the appropriate place for you to use them in your runtime classpath, eg in an executable <code>.jar</code>, some physical file system location used in the classpath (with <code>java</code>'s <code>-cp</code> option), etc. </p>\n\n<p>I could choose to build my application myself or with a different build tool. In such a case, <code>/src/main/resources</code> would not exist. However, the intention is for the classpath to be the same, ie. to contain the same resources and <code>.class</code> files.</p>\n\n<p>The Spring boot documentation talks about the classpath because it shouldn't make assumptions about how your project is set up.</p>\n"},{"tags":[],"owner":{"account_id":25477840,"reputation":1,"user_id":19274753,"display_name":"Andrew Wanyama"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661917665,"creation_date":1661917665,"answer_id":73550669,"question_id":34160419,"body_markdown":"To add to previous answers, it&#39;s the [Spring Boot Maven Plugin](https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/) (spring-boot-maven-plugin in the `pom.xml`) that  that enables you to run the application using Maven. One of its functions is to ensure contents in the app including dependency libraries are available on the runtime classpath, such as within the the executable JAR file.","title":"Spring Boot classpath","body":"<p>To add to previous answers, it's the <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/\" rel=\"nofollow noreferrer\">Spring Boot Maven Plugin</a> (spring-boot-maven-plugin in the <code>pom.xml</code>) that  that enables you to run the application using Maven. One of its functions is to ensure contents in the app including dependency libraries are available on the runtime classpath, such as within the the executable JAR file.</p>\n"}],"owner":{"account_id":4265069,"reputation":16090,"user_id":3763649,"accept_rate":68,"display_name":"Andrea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115511,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":34161312,"answer_count":3,"score":40,"last_activity_date":1661917665,"creation_date":1449590479,"question_id":34160419,"body_markdown":"In the [Spring Boot&#39;s docs here][1], about serving static content, it says:\r\n\r\n&gt; By default Spring Boot will serve static content from a directory\r\n&gt; called /static (or /public or /resources or /META-INF/resources) in\r\n&gt; the **classpath**.\r\n\r\nI found that all the content in the directory:\r\n\r\n    src/main/resources\r\n\r\nwill be copied inside the **classpath**, so I can put my static content in: \r\n\r\n    src/main/resources/static\r\n\r\nand all will work fine and I&#39;m happy since I can have my static content under the `src` directory.\r\n\r\nBut, I have some questions about this:\r\n\r\n1. Why the documentation doesn&#39;t say to put static content in `src/main/resources/static` instead of speaking about the classpath (I think this is a bit confusing)?\r\n2. Is it good to assume that the content in `src/main/resources/` will be always copied in the classpath?\r\n3. Is there some Spring Boot official documentation explaining what I&#39;m supposed to find in the classpath other than Java classes and packages (up to now I only know I can found all the content from `src/main/resources/`)?\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-developing-web-applications.html#boot-features-spring-mvc-static-content","title":"Spring Boot classpath","body":"<p>In the <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-developing-web-applications.html#boot-features-spring-mvc-static-content\" rel=\"noreferrer\">Spring Boot's docs here</a>, about serving static content, it says:</p>\n\n<blockquote>\n  <p>By default Spring Boot will serve static content from a directory\n  called /static (or /public or /resources or /META-INF/resources) in\n  the <strong>classpath</strong>.</p>\n</blockquote>\n\n<p>I found that all the content in the directory:</p>\n\n<pre><code>src/main/resources\n</code></pre>\n\n<p>will be copied inside the <strong>classpath</strong>, so I can put my static content in: </p>\n\n<pre><code>src/main/resources/static\n</code></pre>\n\n<p>and all will work fine and I'm happy since I can have my static content under the <code>src</code> directory.</p>\n\n<p>But, I have some questions about this:</p>\n\n<ol>\n<li>Why the documentation doesn't say to put static content in <code>src/main/resources/static</code> instead of speaking about the classpath (I think this is a bit confusing)?</li>\n<li>Is it good to assume that the content in <code>src/main/resources/</code> will be always copied in the classpath?</li>\n<li>Is there some Spring Boot official documentation explaining what I'm supposed to find in the classpath other than Java classes and packages (up to now I only know I can found all the content from <code>src/main/resources/</code>)?</li>\n</ol>\n"},{"tags":["java","c#","node.js","windows","shortcut-file"],"comments":[{"owner":{"account_id":6068753,"reputation":49,"user_id":4738251,"display_name":"Shalien"},"score":0,"creation_date":1582215710,"post_id":60323884,"comment_id":106709000,"body_markdown":"Nice find, indeed they seem to be in the Public/Desktop folder and not just in the ${user}/Desktop folder. I&#39;ll go to bed less silly tonight, thank you @the_lotus.","body":"Nice find, indeed they seem to be in the Public/Desktop folder and not just in the ${user}/Desktop folder. I&#39;ll go to bed less silly tonight, thank you @the_lotus."}],"answers":[{"tags":[],"owner":{"account_id":44484,"reputation":12668,"user_id":130611,"accept_rate":87,"display_name":"the_lotus"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1582215816,"creation_date":1582215816,"answer_id":60324421,"question_id":60323884,"body_markdown":"The desktop that you see is a combination of multiple desktop folders.\r\n\r\n    C:\\Users\\{username}\\Desktop\r\n    C:\\Users\\Public\\Desktop\r\n    …\r\n\r\nDo a right-click properties to see where the link is stored.","title":"Why are windows shortcut not accessible when reading the directory","body":"<p>The desktop that you see is a combination of multiple desktop folders.</p>\n\n<pre><code>C:\\Users\\{username}\\Desktop\nC:\\Users\\Public\\Desktop\n…\n</code></pre>\n\n<p>Do a right-click properties to see where the link is stored.</p>\n"},{"tags":[],"owner":{"account_id":110214,"reputation":159,"user_id":291730,"display_name":"man910"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661917605,"creation_date":1661917605,"answer_id":73550666,"question_id":60323884,"body_markdown":"I just ran into the exact same problem in Java.  I was able to get around it by creating a symbolic link instead of a shortcut.  To create a symbolic link similar to *NIX, you need to use the mklink command.  I also had to run the command prompt as an administrator in order to get sufficient privileges.\r\n\r\n    mklink myLocalFile \\\\host\\Users\\userId\\Documents\\...\\myNetworkFile","title":"Why are windows shortcut not accessible when reading the directory","body":"<p>I just ran into the exact same problem in Java.  I was able to get around it by creating a symbolic link instead of a shortcut.  To create a symbolic link similar to *NIX, you need to use the mklink command.  I also had to run the command prompt as an administrator in order to get sufficient privileges.</p>\n<pre><code>mklink myLocalFile \\\\host\\Users\\userId\\Documents\\...\\myNetworkFile\n</code></pre>\n"}],"owner":{"account_id":6068753,"reputation":49,"user_id":4738251,"display_name":"Shalien"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":60324421,"answer_count":2,"score":2,"last_activity_date":1661917605,"creation_date":1582214115,"question_id":60323884,"body_markdown":"Recently I tried to write a small application to help me sort the shortcut on my desktop.\r\n\r\nI quickly noticed that the shortcuts (.lnk, .url) created by the system or an application ( an installer, the steam &quot;create shortcut&quot; function, etc) did not appear in the list of processed files.\r\n\r\nThinking that the problem came from Java, I also made the test in C#, Dart and NodeJS and each time the same result: the shortcuts created with the function &quot;Create a shortcut&quot; of the right click menu are well seen and processed by my program, the shortcuts created by the system are ignored and absent from the listings.\r\n\r\nDo the shortcuts created by the system have a different &quot;marking&quot; from an authorization point of view? Is there a way to be able to process them?\r\n\r\n\r\n I attach my NodeJS test code, if needed I could share the other code. \r\nI also specify that all my tests were carried out with Windows 10 Pro 1909 (18363.657) on an Administrator account.\r\n\r\n```js\r\nconst fs = require(&quot;fs&quot;);\r\nconst os = require(&#39;os&#39;);\r\nconst path = require(&#39;path&#39;);\r\n\r\nvar desktopPath = fs.readdirSync(`${os.homedir()}${path.sep}Desktop`);\r\n\r\nfor(var i = 0; i &lt; desktopPath.length; i++) {\r\n    console.log(desktopPath[i]);\r\n}\r\n```\r\n\r\nThanks for your attention. ","title":"Why are windows shortcut not accessible when reading the directory","body":"<p>Recently I tried to write a small application to help me sort the shortcut on my desktop.</p>\n\n<p>I quickly noticed that the shortcuts (.lnk, .url) created by the system or an application ( an installer, the steam \"create shortcut\" function, etc) did not appear in the list of processed files.</p>\n\n<p>Thinking that the problem came from Java, I also made the test in C#, Dart and NodeJS and each time the same result: the shortcuts created with the function \"Create a shortcut\" of the right click menu are well seen and processed by my program, the shortcuts created by the system are ignored and absent from the listings.</p>\n\n<p>Do the shortcuts created by the system have a different \"marking\" from an authorization point of view? Is there a way to be able to process them?</p>\n\n<p>I attach my NodeJS test code, if needed I could share the other code. \nI also specify that all my tests were carried out with Windows 10 Pro 1909 (18363.657) on an Administrator account.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const fs = require(\"fs\");\nconst os = require('os');\nconst path = require('path');\n\nvar desktopPath = fs.readdirSync(`${os.homedir()}${path.sep}Desktop`);\n\nfor(var i = 0; i &lt; desktopPath.length; i++) {\n    console.log(desktopPath[i]);\n}\n</code></pre>\n\n<p>Thanks for your attention. </p>\n"},{"tags":["java","cryptography","keycloak","bouncycastle","post-quantum-cryptography"],"answers":[{"tags":[],"owner":{"account_id":25918039,"reputation":1,"user_id":19641155,"display_name":"linghuchong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661916241,"creation_date":1661916241,"answer_id":73550560,"question_id":73502938,"body_markdown":" Brendon Vicente, Custom ClassLoader can helper your.\r\n\r\n    public class LoadClassInfo extends ClassLoader{\r\n    \tprivate ClassLoader classLoader;\r\n    \tprivate String pack_name;\r\n    \tpublic LoadClassInfo(ClassLoader parent,String pack_name) {\r\n            super(parent);\r\n            this.classLoader = parent;\r\n            this.pack_name = pack_name;\r\n        }\r\n        public Class&lt;?&gt; loadClass(String name) throws ClassNotFoundException {\r\n           if(!name.contains(pack_name))return super.loadClass(name);\r\n            try {\r\n            \tif(!name.matches(&quot;(.+)\\\\.(.+)\\\\.(.+)&quot;))return null;\r\n            \tInputStream input = classLoader.getResourceAsStream(String.format(&quot;%s.class&quot;,name.replace(&quot;.&quot;,&quot;/&quot;)));\r\n                ByteArrayOutputStream buffer = new ByteArrayOutputStream();\r\n                int data = input.read();\r\n                while(data != -1){\r\n                    buffer.write(data);\r\n                    data = input.read();\r\n                }\r\n                input.close();\r\n                byte[] classData = buffer.toByteArray();\r\n                System.out.println(&quot;name &quot;+name);\r\n                return defineClass(name,classData, 0, classData.length);\r\n            } catch (MalformedURLException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n    ScheduledThreadPoolExecutor scheduleds = new ScheduledThreadPoolExecutor(1);\r\n    \tClassLoader classLoader;\r\n    \tString file_path = (classLoader = ClassLoader.getSystemClassLoader())\r\n    \t\t\t.getResource(&quot;com.imageutil&quot;.replace(&quot;.&quot;,&quot;/&quot;)).getPath()\r\n    \t\t\t.substring(1);\r\n    \ttry {\r\n\t\t\tMap&lt;String,String&gt; maps = Files.list(Paths.get(file_path))\r\n\t\t\t.filter(x-&gt;x.getFileName().toString().endsWith(&quot;.class&quot;))\r\n\t\t\t.collect(Collectors.toMap(m-&gt;{\r\n\t\t\t\treturn m.toString();\r\n\t\t\t},m-&gt;{\r\n\t\t\t\ttry {\r\n\t\t\t\t\treturn String.valueOf(Files.size(m));\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t},(a,b)-&gt;a));\r\n\t\t\tmaps.forEach((m,n)-&gt;{\r\n\t\t\t\tSystem.out.println(m+&quot; : &quot;+n);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tscheduleds.scheduleAtFixedRate(()-&gt;{\r\n\t\t\t\ttry {\r\n\t\t\t\t\tPath[] paths = Files.list(Paths.get(file_path)).toArray(Path[]::new);\r\n\t\t\t\t\tfor (Path string : paths) {\r\n\t\t\t\t\t\tString class_path = string.toString();\r\n\t\t\t\t\t\tString last_time = String.valueOf(Files.size(string));\r\n\t\t\t\t\t\tif(Objects.equals(last_time,maps.get(class_path)))continue;\r\n\t\t\t\t\t\tString pack_name = class_path.split(&quot;classes&quot;)[1].replace(&quot;\\\\&quot;, &quot;.&quot;).substring(1);\r\n\t\t\t\t\t\tString class_name = pack_name.substring(0, pack_name.lastIndexOf(&quot;.&quot;));\r\n\t\t\t\t\t\tLoadClassInfo loadClassInfos = new LoadClassInfo(classLoader,&quot;com.imageutil&quot;);\r\n\t\t\t\t\t\tClass&lt;?&gt; classs = loadClassInfos.loadClass(class_name);\r\n\t\t\t\t\t\tclasss.newInstance();\r\n\t\t\t\t\t\tmaps.put(class_path,last_time);\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t},1,1,TimeUnit.SECONDS);\r\n\t\t\t\r\n\t\t\t\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n \r\n        }\r\n","title":"How to replace core classes/functionalities with a custom SPI?","body":"<p>Brendon Vicente, Custom ClassLoader can helper your.</p>\n<pre><code>public class LoadClassInfo extends ClassLoader{\n    private ClassLoader classLoader;\n    private String pack_name;\n    public LoadClassInfo(ClassLoader parent,String pack_name) {\n        super(parent);\n        this.classLoader = parent;\n        this.pack_name = pack_name;\n    }\n    public Class&lt;?&gt; loadClass(String name) throws ClassNotFoundException {\n       if(!name.contains(pack_name))return super.loadClass(name);\n        try {\n            if(!name.matches(&quot;(.+)\\\\.(.+)\\\\.(.+)&quot;))return null;\n            InputStream input = classLoader.getResourceAsStream(String.format(&quot;%s.class&quot;,name.replace(&quot;.&quot;,&quot;/&quot;)));\n            ByteArrayOutputStream buffer = new ByteArrayOutputStream();\n            int data = input.read();\n            while(data != -1){\n                buffer.write(data);\n                data = input.read();\n            }\n            input.close();\n            byte[] classData = buffer.toByteArray();\n            System.out.println(&quot;name &quot;+name);\n            return defineClass(name,classData, 0, classData.length);\n        } catch (MalformedURLException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n}\nScheduledThreadPoolExecutor scheduleds = new ScheduledThreadPoolExecutor(1);\n    ClassLoader classLoader;\n    String file_path = (classLoader = ClassLoader.getSystemClassLoader())\n            .getResource(&quot;com.imageutil&quot;.replace(&quot;.&quot;,&quot;/&quot;)).getPath()\n            .substring(1);\n    try {\n        Map&lt;String,String&gt; maps = Files.list(Paths.get(file_path))\n        .filter(x-&gt;x.getFileName().toString().endsWith(&quot;.class&quot;))\n        .collect(Collectors.toMap(m-&gt;{\n            return m.toString();\n        },m-&gt;{\n            try {\n                return String.valueOf(Files.size(m));\n            } catch (IOException e) {\n                e.printStackTrace();\n                return null;\n            }\n        },(a,b)-&gt;a));\n        maps.forEach((m,n)-&gt;{\n            System.out.println(m+&quot; : &quot;+n);\n        });\n        \n        scheduleds.scheduleAtFixedRate(()-&gt;{\n            try {\n                Path[] paths = Files.list(Paths.get(file_path)).toArray(Path[]::new);\n                for (Path string : paths) {\n                    String class_path = string.toString();\n                    String last_time = String.valueOf(Files.size(string));\n                    if(Objects.equals(last_time,maps.get(class_path)))continue;\n                    String pack_name = class_path.split(&quot;classes&quot;)[1].replace(&quot;\\\\&quot;, &quot;.&quot;).substring(1);\n                    String class_name = pack_name.substring(0, pack_name.lastIndexOf(&quot;.&quot;));\n                    LoadClassInfo loadClassInfos = new LoadClassInfo(classLoader,&quot;com.imageutil&quot;);\n                    Class&lt;?&gt; classs = loadClassInfos.loadClass(class_name);\n                    classs.newInstance();\n                    maps.put(class_path,last_time);\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        },1,1,TimeUnit.SECONDS);\n        \n        \n    } catch (IOException e) {\n        e.printStackTrace();\n\n    }\n</code></pre>\n"}],"owner":{"account_id":26166959,"reputation":81,"user_id":19852624,"display_name":"Brendon Vicente"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1661916241,"creation_date":1661525726,"question_id":73502938,"body_markdown":"I&#39;m trying to add some post quantum key algorithms (from liboqs-java) to Keycloak via custom SPI&#39;s. I can generate keys with the algorithms i&#39;ve added, but I ran into some issues while manipulating them.\r\n\r\nKeycloak is having trouble while handling keys with my new algorithms... I think Java BouncyCastle does not recognizes post quantum algorithms (such as Dilithium2) and it causes system to crash.\r\n\r\nI&#39;m having issues specifically with JcaPEMWriter BouncyCastle class, on BCPemUtilsProvider Keycloak class. My solution was to rewrite BCPemUtilsProvider so I can replace BouncyCastle functions but, in order to do this, I would need to change a core file from Keycloak and recompile the entire project, what would take an enormous amount of time, for each minor change.\r\n\r\nI&#39;d like to fix this via SPI (if possible) or some lightweight solution, so I can do tests in a practical time. Is there any way to change core functionalities without recompiling the entiry Keycloak (or, maybe, another solution I&#39;m not seeing)?\r\n\r\nThanks in advance!!\r\n\r\nBy the way, here is the code for key generating:\r\n```\r\npublic AbstractGeneratedDLSecretKeyProvider(ComponentModel model, KeyUse use, String type, String algorithm) {\r\n\t\tthis.status = KeyStatus.from(model.get(Attributes.ACTIVE_KEY, true), model.get(Attributes.ENABLED_KEY, true));\r\n\t\tthis.kid = model.get(Attributes.KID_KEY);\r\n\t\tthis.model = model;\r\n\t\tthis.use = use;\r\n\t\tthis.type = type;\r\n\t\tthis.algorithm = algorithm;\r\n\r\n\t\tif (model.hasNote(PrivateKey.class.getName()) &amp;&amp; model.hasNote(PublicKey.class.getName())) {\r\n\t\t\tprivateKey = model.getNote(PrivateKey.class.getName());\r\n\t\t\tpublicKey = model.getNote(PublicKey.class.getName());\r\n\t\t} else {\r\n\t\t\tSignature signer = new Signature(&quot;Dilithium2&quot;);\r\n\r\n\t\t\tsigner.generate_keypair();\r\n\r\n\t\t\tprivateKey = new DLPrivateKey(signer.export_secret_key());\r\n\t\t\tpublicKey = new DLPublicKey(signer.export_public_key());\r\n\r\n\t\t\tmodel.setNote(PrivateKey.class.getName(), privateKey);\r\n\t\t\tmodel.setNote(PublicKey.class.getName(), publicKey);\r\n\t\t}\r\n\t}\r\n```\r\n\r\nAnd this is the error I&#39;m facing:\r\n```\r\n2022-08-25 21:06:18,476 ERROR [org.keycloak.services.error.KeycloakErrorHandler] (executor-thread-0) Uncaught server error: org.keycloak.common.util.PemException: java.lang.IllegalArgumentException: failed to construct sequence from byte[]: Extra data detected in stream\r\n\tat org.keycloak.crypto.def.BCPemUtilsProvider.encode(BCPemUtilsProvider.java:56)\r\n\tat org.keycloak.common.crypto.PemUtilsProvider.encodeKey(PemUtilsProvider.java:129)\r\n\tat org.keycloak.common.util.PemUtils.encodeKey(PemUtils.java:98)\r\n\tat org.keycloak.services.resources.admin.KeyResource.toKeyMetadataRepresentation(KeyResource.java:83)\r\n\tat org.keycloak.services.resources.admin.KeyResource.lambda$getKeyMetadata$0(KeyResource.java:67)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n\tat java.base/java.util.stream.Streams$StreamBuilderImpl.forEachRemaining(Streams.java:411)\r\n\tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)\r\n\tat java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:274)\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)\r\n\tat org.keycloak.services.resources.admin.KeyResource.getKeyMetadata(KeyResource.java:69)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:170)\r\n\tat org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:130)\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:660)\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:524)\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$2(ResourceMethodInvoker.java:474)\r\n\tat org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:476)\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:434)\r\n\tat org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:192)\r\n\tat org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:152)\r\n\tat org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:183)\r\n\tat org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:152)\r\n\tat org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:183)\r\n\tat org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:141)\r\n\tat org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:32)\r\n\tat org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:492)\r\n\tat org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:261)\r\n\tat org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:161)\r\n\tat org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\r\n\tat org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:164)\r\n\tat org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:247)\r\n\tat io.quarkus.resteasy.runtime.standalone.RequestDispatcher.service(RequestDispatcher.java:73)\r\n\tat io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.dispatch(VertxRequestHandler.java:151)\r\n\tat io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.handle(VertxRequestHandler.java:82)\r\n\tat io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.handle(VertxRequestHandler.java:42)\r\n\tat io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1212)\r\n\tat io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:163)\r\n\tat io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:141)\r\n\tat io.quarkus.vertx.http.runtime.StaticResourcesRecorder$2.handle(StaticResourcesRecorder.java:67)\r\n\tat io.quarkus.vertx.http.runtime.StaticResourcesRecorder$2.handle(StaticResourcesRecorder.java:55)\r\n\tat io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1212)\r\n\tat io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:163)\r\n\tat io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:141)\r\n\tat io.quarkus.vertx.http.runtime.VertxHttpRecorder$5.handle(VertxHttpRecorder.java:380)\r\n\tat io.quarkus.vertx.http.runtime.VertxHttpRecorder$5.handle(VertxHttpRecorder.java:358)\r\n\tat io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1212)\r\n\tat io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:163)\r\n\tat io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:141)\r\n\tat org.keycloak.quarkus.runtime.integration.web.QuarkusRequestFilter.lambda$createBlockingHandler$1(QuarkusRequestFilter.java:90)\r\n\tat io.vertx.core.impl.ContextImpl.lambda$null$0(ContextImpl.java:159)\r\n\tat io.vertx.core.impl.AbstractContext.dispatch(AbstractContext.java:100)\r\n\tat io.vertx.core.impl.ContextImpl.lambda$executeBlocking$1(ContextImpl.java:157)\r\n\tat io.quarkus.vertx.core.runtime.VertxCoreRecorder$13.runWith(VertxCoreRecorder.java:545)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n\tat org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\r\n\tat org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: java.lang.IllegalArgumentException: failed to construct sequence from byte[]: Extra data detected in stream\r\n\tat org.bouncycastle.asn1.ASN1Sequence.getInstance(ASN1Sequence.java:92)\r\n\tat org.bouncycastle.asn1.x509.SubjectPublicKeyInfo.getInstance(SubjectPublicKeyInfo.java:43)\r\n\tat org.bouncycastle.openssl.jcajce.JcaMiscPEMGenerator.convertObject(Unknown Source)\r\n\tat org.bouncycastle.openssl.jcajce.JcaMiscPEMGenerator.&lt;init&gt;(Unknown Source)\r\n\tat org.bouncycastle.openssl.jcajce.JcaPEMWriter.writeObject(Unknown Source)\r\n\tat org.bouncycastle.openssl.jcajce.JcaPEMWriter.writeObject(Unknown Source)\r\n\tat org.keycloak.crypto.def.BCPemUtilsProvider.encode(BCPemUtilsProvider.java:50)\r\n\t... 68 more\r\n```","title":"How to replace core classes/functionalities with a custom SPI?","body":"<p>I'm trying to add some post quantum key algorithms (from liboqs-java) to Keycloak via custom SPI's. I can generate keys with the algorithms i've added, but I ran into some issues while manipulating them.</p>\n<p>Keycloak is having trouble while handling keys with my new algorithms... I think Java BouncyCastle does not recognizes post quantum algorithms (such as Dilithium2) and it causes system to crash.</p>\n<p>I'm having issues specifically with JcaPEMWriter BouncyCastle class, on BCPemUtilsProvider Keycloak class. My solution was to rewrite BCPemUtilsProvider so I can replace BouncyCastle functions but, in order to do this, I would need to change a core file from Keycloak and recompile the entire project, what would take an enormous amount of time, for each minor change.</p>\n<p>I'd like to fix this via SPI (if possible) or some lightweight solution, so I can do tests in a practical time. Is there any way to change core functionalities without recompiling the entiry Keycloak (or, maybe, another solution I'm not seeing)?</p>\n<p>Thanks in advance!!</p>\n<p>By the way, here is the code for key generating:</p>\n<pre><code>public AbstractGeneratedDLSecretKeyProvider(ComponentModel model, KeyUse use, String type, String algorithm) {\n        this.status = KeyStatus.from(model.get(Attributes.ACTIVE_KEY, true), model.get(Attributes.ENABLED_KEY, true));\n        this.kid = model.get(Attributes.KID_KEY);\n        this.model = model;\n        this.use = use;\n        this.type = type;\n        this.algorithm = algorithm;\n\n        if (model.hasNote(PrivateKey.class.getName()) &amp;&amp; model.hasNote(PublicKey.class.getName())) {\n            privateKey = model.getNote(PrivateKey.class.getName());\n            publicKey = model.getNote(PublicKey.class.getName());\n        } else {\n            Signature signer = new Signature(&quot;Dilithium2&quot;);\n\n            signer.generate_keypair();\n\n            privateKey = new DLPrivateKey(signer.export_secret_key());\n            publicKey = new DLPublicKey(signer.export_public_key());\n\n            model.setNote(PrivateKey.class.getName(), privateKey);\n            model.setNote(PublicKey.class.getName(), publicKey);\n        }\n    }\n</code></pre>\n<p>And this is the error I'm facing:</p>\n<pre><code>2022-08-25 21:06:18,476 ERROR [org.keycloak.services.error.KeycloakErrorHandler] (executor-thread-0) Uncaught server error: org.keycloak.common.util.PemException: java.lang.IllegalArgumentException: failed to construct sequence from byte[]: Extra data detected in stream\n    at org.keycloak.crypto.def.BCPemUtilsProvider.encode(BCPemUtilsProvider.java:56)\n    at org.keycloak.common.crypto.PemUtilsProvider.encodeKey(PemUtilsProvider.java:129)\n    at org.keycloak.common.util.PemUtils.encodeKey(PemUtils.java:98)\n    at org.keycloak.services.resources.admin.KeyResource.toKeyMetadataRepresentation(KeyResource.java:83)\n    at org.keycloak.services.resources.admin.KeyResource.lambda$getKeyMetadata$0(KeyResource.java:67)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.base/java.util.stream.Streams$StreamBuilderImpl.forEachRemaining(Streams.java:411)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)\n    at java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:274)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)\n    at org.keycloak.services.resources.admin.KeyResource.getKeyMetadata(KeyResource.java:69)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:170)\n    at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:130)\n    at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:660)\n    at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:524)\n    at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$2(ResourceMethodInvoker.java:474)\n    at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\n    at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:476)\n    at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:434)\n    at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:192)\n    at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:152)\n    at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:183)\n    at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:152)\n    at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:183)\n    at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:141)\n    at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:32)\n    at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:492)\n    at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:261)\n    at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:161)\n    at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\n    at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:164)\n    at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:247)\n    at io.quarkus.resteasy.runtime.standalone.RequestDispatcher.service(RequestDispatcher.java:73)\n    at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.dispatch(VertxRequestHandler.java:151)\n    at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.handle(VertxRequestHandler.java:82)\n    at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.handle(VertxRequestHandler.java:42)\n    at io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1212)\n    at io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:163)\n    at io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:141)\n    at io.quarkus.vertx.http.runtime.StaticResourcesRecorder$2.handle(StaticResourcesRecorder.java:67)\n    at io.quarkus.vertx.http.runtime.StaticResourcesRecorder$2.handle(StaticResourcesRecorder.java:55)\n    at io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1212)\n    at io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:163)\n    at io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:141)\n    at io.quarkus.vertx.http.runtime.VertxHttpRecorder$5.handle(VertxHttpRecorder.java:380)\n    at io.quarkus.vertx.http.runtime.VertxHttpRecorder$5.handle(VertxHttpRecorder.java:358)\n    at io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1212)\n    at io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:163)\n    at io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:141)\n    at org.keycloak.quarkus.runtime.integration.web.QuarkusRequestFilter.lambda$createBlockingHandler$1(QuarkusRequestFilter.java:90)\n    at io.vertx.core.impl.ContextImpl.lambda$null$0(ContextImpl.java:159)\n    at io.vertx.core.impl.AbstractContext.dispatch(AbstractContext.java:100)\n    at io.vertx.core.impl.ContextImpl.lambda$executeBlocking$1(ContextImpl.java:157)\n    at io.quarkus.vertx.core.runtime.VertxCoreRecorder$13.runWith(VertxCoreRecorder.java:545)\n    at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n    at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\n    at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.lang.IllegalArgumentException: failed to construct sequence from byte[]: Extra data detected in stream\n    at org.bouncycastle.asn1.ASN1Sequence.getInstance(ASN1Sequence.java:92)\n    at org.bouncycastle.asn1.x509.SubjectPublicKeyInfo.getInstance(SubjectPublicKeyInfo.java:43)\n    at org.bouncycastle.openssl.jcajce.JcaMiscPEMGenerator.convertObject(Unknown Source)\n    at org.bouncycastle.openssl.jcajce.JcaMiscPEMGenerator.&lt;init&gt;(Unknown Source)\n    at org.bouncycastle.openssl.jcajce.JcaPEMWriter.writeObject(Unknown Source)\n    at org.bouncycastle.openssl.jcajce.JcaPEMWriter.writeObject(Unknown Source)\n    at org.keycloak.crypto.def.BCPemUtilsProvider.encode(BCPemUtilsProvider.java:50)\n    ... 68 more\n</code></pre>\n"},{"tags":["java","automation","rest-assured"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1661872258,"post_id":73544670,"comment_id":129872263,"body_markdown":"Deserialize as an array/list of `Root` and grab the first instance.","body":"Deserialize as an array/list of <code>Root</code> and grab the first instance."}],"answers":[{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661914569,"creation_date":1661914569,"answer_id":73550431,"question_id":73544670,"body_markdown":"Your response is an array, it should be deserialized to array of `Root` class. Simple code would be:\r\n\r\n```\r\nRoot root = given()....extract().as(Root[].class)[0];\r\n```\r\nor \r\n\r\n```\r\nRoot root = given()....extract().jsonPath().getList(&quot;&quot;, Root.class).get(0);\r\n```","title":"Why can&#39;t I serialize a GET request from JSON to JAVA in Rest-assured test","body":"<p>Your response is an array, it should be deserialized to array of <code>Root</code> class. Simple code would be:</p>\n<pre><code>Root root = given()....extract().as(Root[].class)[0];\n</code></pre>\n<p>or</p>\n<pre><code>Root root = given()....extract().jsonPath().getList(&quot;&quot;, Root.class).get(0);\n</code></pre>\n"}],"owner":{"account_id":18141370,"reputation":143,"user_id":13762114,"display_name":"Otto Rahn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73550431,"answer_count":1,"score":-2,"last_activity_date":1661914569,"creation_date":1661871970,"question_id":73544670,"body_markdown":"i have JSON : \r\n\r\n    [\r\n      {\r\n        &quot;id&quot;: &quot;string&quot;,\r\n        &quot;name&quot;: &quot;string&quot;,\r\n        &quot;port&quot;: 0,\r\n        &quot;location&quot;: &quot;string&quot;,\r\n        &quot;useCustomLocation&quot;: true,\r\n        &quot;inMemoryMode&quot;: true,\r\n        &quot;enabled&quot;: true,\r\n        &quot;active&quot;: true,\r\n        &quot;autoStartup&quot;: true,\r\n        &quot;partitions&quot;: [\r\n          {\r\n            &quot;id&quot;: &quot;string&quot;,\r\n            &quot;name&quot;: &quot;string&quot;,\r\n            &quot;factorUser&quot;: {\r\n              &quot;username&quot;: &quot;string&quot;,\r\n              &quot;password&quot;: &quot;string&quot;,\r\n              &quot;admin&quot;: true,\r\n              &quot;perms&quot;: &quot;string&quot;\r\n            },\r\n            &quot;users&quot;: [\r\n              {\r\n                &quot;username&quot;: &quot;string&quot;,\r\n                &quot;password&quot;: &quot;string&quot;,\r\n                &quot;admin&quot;: true,\r\n                &quot;perms&quot;: &quot;string&quot;\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n\r\ni converted JSON to POJO with jsonformatterservice. And i received 3 classes: \r\n\r\n    public class Partition {\r\n        private String id;\r\n        private String name;\r\n        private User factorUser;\r\n        private User[] users;\r\n    ...\r\n\r\n\r\n    public class User {\r\n        private String username;\r\n        private String password;\r\n        private boolean admin;\r\n        private String perms;\r\n    ...\r\n\r\n    public class Root {\r\n        private String id;\r\n        private String name;\r\n        private long port;\r\n        private String location;\r\n        private boolean useCustomLocation;\r\n        private boolean inMemoryMode;\r\n        private boolean enabled;\r\n        private boolean active;\r\n        private boolean autoStartup;\r\n        private Partition[] partitions;\r\n    ...\r\n\r\nall these classes have Getters and Setter. \r\n\r\nMy test: \r\n\r\n    @Test\r\n    public void baseData() {\r\n        given()\r\n                .contentType(ContentType.JSON)\r\n                .log().all()\r\n                .auth()\r\n                .preemptive()\r\n                .basic(&quot;login&quot;, &quot;password&quot;)\r\n                .get(BaseUrl + STORE_INSTANCE)\r\n                .then()\r\n                .statusCode(200)\r\n                .extract().as(Root.class);\r\n    }\r\n\r\nI get exception: Cannot deserialize instance of `Api.BaseData.User` out of START_ARRAY token\r\n\r\n\r\nWhat am I doing wrong ? I&#39;m trying to figure it out but I can&#39;t figure out how to work with complex JSON","title":"Why can&#39;t I serialize a GET request from JSON to JAVA in Rest-assured test","body":"<p>i have JSON :</p>\n<pre><code>[\n  {\n    &quot;id&quot;: &quot;string&quot;,\n    &quot;name&quot;: &quot;string&quot;,\n    &quot;port&quot;: 0,\n    &quot;location&quot;: &quot;string&quot;,\n    &quot;useCustomLocation&quot;: true,\n    &quot;inMemoryMode&quot;: true,\n    &quot;enabled&quot;: true,\n    &quot;active&quot;: true,\n    &quot;autoStartup&quot;: true,\n    &quot;partitions&quot;: [\n      {\n        &quot;id&quot;: &quot;string&quot;,\n        &quot;name&quot;: &quot;string&quot;,\n        &quot;factorUser&quot;: {\n          &quot;username&quot;: &quot;string&quot;,\n          &quot;password&quot;: &quot;string&quot;,\n          &quot;admin&quot;: true,\n          &quot;perms&quot;: &quot;string&quot;\n        },\n        &quot;users&quot;: [\n          {\n            &quot;username&quot;: &quot;string&quot;,\n            &quot;password&quot;: &quot;string&quot;,\n            &quot;admin&quot;: true,\n            &quot;perms&quot;: &quot;string&quot;\n          }\n        ]\n      }\n    ]\n  }\n]\n</code></pre>\n<p>i converted JSON to POJO with jsonformatterservice. And i received 3 classes:</p>\n<pre><code>public class Partition {\n    private String id;\n    private String name;\n    private User factorUser;\n    private User[] users;\n...\n\n\npublic class User {\n    private String username;\n    private String password;\n    private boolean admin;\n    private String perms;\n...\n\npublic class Root {\n    private String id;\n    private String name;\n    private long port;\n    private String location;\n    private boolean useCustomLocation;\n    private boolean inMemoryMode;\n    private boolean enabled;\n    private boolean active;\n    private boolean autoStartup;\n    private Partition[] partitions;\n...\n</code></pre>\n<p>all these classes have Getters and Setter.</p>\n<p>My test:</p>\n<pre><code>@Test\npublic void baseData() {\n    given()\n            .contentType(ContentType.JSON)\n            .log().all()\n            .auth()\n            .preemptive()\n            .basic(&quot;login&quot;, &quot;password&quot;)\n            .get(BaseUrl + STORE_INSTANCE)\n            .then()\n            .statusCode(200)\n            .extract().as(Root.class);\n}\n</code></pre>\n<p>I get exception: Cannot deserialize instance of <code>Api.BaseData.User</code> out of START_ARRAY token</p>\n<p>What am I doing wrong ? I'm trying to figure it out but I can't figure out how to work with complex JSON</p>\n"},{"tags":["java","xml","dom"],"comments":[{"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"score":2,"creation_date":1340269403,"post_id":11133754,"comment_id":14593898,"body_markdown":"Is your `builder` namespace-aware? `builder.isNamespaceAware()`","body":"Is your <code>builder</code> namespace-aware? <code>builder.isNamespaceAware()</code>"}],"answers":[{"tags":[],"owner":{"account_id":433847,"reputation":685,"user_id":819421,"display_name":"alexvanboxel"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1417779121,"creation_date":1340313786,"answer_id":11146971,"question_id":11133754,"body_markdown":"Since there is not an easy way to rename the root element, we&#39;ll have to replace it with an element that has the correct namespace and attribute, and then copy all the original children into it. Forcing the namespace declaration is not needed because by giving the element the correct namespace (URI) and setting the prefix, the declaration will be automatic.\r\n\r\nReplace the `setAttribute` and `setPrefix` with this (line 2,3)\r\n\r\n\r\n    String namespace = &quot;http://com&quot;;\r\n    String prefix = &quot;ns2&quot;;\r\n    // Upgrade the DOM level 1 to level 2 with the correct namespace\r\n    Element originalDocumentElement = document.getDocumentElement();\r\n    Element newDocumentElement = document.createElementNS(namespace, originalDocumentElement.getNodeName());\r\n    // Set the desired namespace and prefix\r\n    newDocumentElement.setPrefix(prefix);\r\n    // Copy all children\r\n    NodeList list = originalDocumentElement.getChildNodes();\r\n    while(list.getLength()!=0) {\r\n        newDocumentElement.appendChild(list.item(0));\r\n    }\r\n    // Replace the original element\r\n    document.replaceChild(newDocumentElement, originalDocumentElement);\r\n\r\n\r\nIn the original code the author tried to declare an element namespace like this:\r\n\r\n    .setAttributeNS(&quot;http://com&quot;, &quot;xmlns:ns2&quot;, &quot;Test&quot;);\r\n\r\nThe first parameter is the namespace of the attribute, and since it&#39;s a namespace attribute it need to have the http://www.w3.org/2000/xmlns/ URI. The declared namespace should come into the 3rd parameter\r\n\r\n    .setAttributeNS(&quot;http://www.w3.org/2000/xmlns/&quot;, &quot;xmlns:ns2&quot;, &quot;http://com&quot;);\r\n\r\n","title":"Adding namespace to an already created XML document","body":"<p>Since there is not an easy way to rename the root element, we'll have to replace it with an element that has the correct namespace and attribute, and then copy all the original children into it. Forcing the namespace declaration is not needed because by giving the element the correct namespace (URI) and setting the prefix, the declaration will be automatic.</p>\n\n<p>Replace the <code>setAttribute</code> and <code>setPrefix</code> with this (line 2,3)</p>\n\n<pre><code>String namespace = \"http://com\";\nString prefix = \"ns2\";\n// Upgrade the DOM level 1 to level 2 with the correct namespace\nElement originalDocumentElement = document.getDocumentElement();\nElement newDocumentElement = document.createElementNS(namespace, originalDocumentElement.getNodeName());\n// Set the desired namespace and prefix\nnewDocumentElement.setPrefix(prefix);\n// Copy all children\nNodeList list = originalDocumentElement.getChildNodes();\nwhile(list.getLength()!=0) {\n    newDocumentElement.appendChild(list.item(0));\n}\n// Replace the original element\ndocument.replaceChild(newDocumentElement, originalDocumentElement);\n</code></pre>\n\n<p>In the original code the author tried to declare an element namespace like this:</p>\n\n<pre><code>.setAttributeNS(\"http://com\", \"xmlns:ns2\", \"Test\");\n</code></pre>\n\n<p>The first parameter is the namespace of the attribute, and since it's a namespace attribute it need to have the <a href=\"http://www.w3.org/2000/xmlns/\" rel=\"noreferrer\">http://www.w3.org/2000/xmlns/</a> URI. The declared namespace should come into the 3rd parameter</p>\n\n<pre><code>.setAttributeNS(\"http://www.w3.org/2000/xmlns/\", \"xmlns:ns2\", \"http://com\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1018166,"reputation":895,"user_id":1029242,"display_name":"wangf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1435732496,"creation_date":1435732496,"answer_id":31154097,"question_id":11133754,"body_markdown":"Bellow approach also works for me, but probably should not use in performance critical case.\r\n\r\n1. Add name space to document root element as attribute. \r\n2. Transform the document to XML string. The purpose of this step is to make the child element in the XML string inherit parent element namespace.\r\n3. Now the xml string have name space. \r\n4. You can use the XML string to build a document again or used for JAXB unmarshal, etc.\r\n\r\n----------------------------\r\n\r\n    \r\n\r\n\r\n\r\n\tprivate static String addNamespaceToXml(InputStream in)\r\n\t\t\tthrows ParserConfigurationException, SAXException, IOException,\r\n\t\t\tTransformerException {\r\n\t\tDocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n\t\t/*\r\n\t\t * Must not namespace aware, otherwise the generated XML string will\r\n\t\t * have wrong namespace\r\n\t\t */\r\n\t\t// dbf.setNamespaceAware(true);\r\n\t\tDocumentBuilder db = dbf.newDocumentBuilder();\r\n\t\tDocument document = db.parse(in);\r\n\t\tElement documentElement = document.getDocumentElement();\r\n\t\t// Add name space to root element as attribute\r\n\t\tdocumentElement.setAttribute(&quot;xmlns&quot;, &quot;http://you_name_space&quot;);\r\n\t\tString xml = transformXmlNodeToXmlString(documentElement);\r\n\t\treturn xml;\r\n\t}\r\n\r\n\tprivate static String transformXmlNodeToXmlString(Node node)\r\n\t\t\tthrows TransformerException {\r\n\t\tTransformerFactory transFactory = TransformerFactory.newInstance();\r\n\t\tTransformer transformer = transFactory.newTransformer();\r\n\t\tStringWriter buffer = new StringWriter();\r\n\t\ttransformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, &quot;yes&quot;);\r\n\t\ttransformer.transform(new DOMSource(node), new StreamResult(buffer));\r\n\t\tString xml = buffer.toString();\r\n\t\treturn xml;\r\n\t}","title":"Adding namespace to an already created XML document","body":"<p>Bellow approach also works for me, but probably should not use in performance critical case.</p>\n\n<ol>\n<li>Add name space to document root element as attribute. </li>\n<li>Transform the document to XML string. The purpose of this step is to make the child element in the XML string inherit parent element namespace.</li>\n<li>Now the xml string have name space. </li>\n<li>You can use the XML string to build a document again or used for JAXB unmarshal, etc.</li>\n</ol>\n\n<hr>\n\n<pre><code>private static String addNamespaceToXml(InputStream in)\n        throws ParserConfigurationException, SAXException, IOException,\n        TransformerException {\n    DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n    /*\n     * Must not namespace aware, otherwise the generated XML string will\n     * have wrong namespace\n     */\n    // dbf.setNamespaceAware(true);\n    DocumentBuilder db = dbf.newDocumentBuilder();\n    Document document = db.parse(in);\n    Element documentElement = document.getDocumentElement();\n    // Add name space to root element as attribute\n    documentElement.setAttribute(\"xmlns\", \"http://you_name_space\");\n    String xml = transformXmlNodeToXmlString(documentElement);\n    return xml;\n}\n\nprivate static String transformXmlNodeToXmlString(Node node)\n        throws TransformerException {\n    TransformerFactory transFactory = TransformerFactory.newInstance();\n    Transformer transformer = transFactory.newTransformer();\n    StringWriter buffer = new StringWriter();\n    transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, \"yes\");\n    transformer.transform(new DOMSource(node), new StreamResult(buffer));\n    String xml = buffer.toString();\n    return xml;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591045487,"creation_date":1550868900,"answer_id":54835028,"question_id":11133754,"body_markdown":"Partially gleaned from [here][1], and also from a comment above, I was able to get it to work (transforming an arbitrary DOM Node and adding a prefix to it and all its children) thus:\r\n\r\n      private String addNamespacePrefix(Document doc, Node node) throws TransformerException {\r\n        Element mainRootElement = doc.createElementNS(\r\n                &quot;http://abc.de/x/y/z&quot;, // namespace\r\n                &quot;my-prefix:fake-header-element&quot; // prefix to &quot;register&quot; it with the DOM so we don&#39;t get exceptions later...\r\n        );\r\n        List&lt;Element&gt; descendants = nodeListToArrayRecurse(node.getChildNodes()); // for some reason we have to grab all these before doing the first &quot;renameNode&quot; ... no idea why ...\r\n    \r\n        mainRootElement.appendChild(node);\r\n        doc.renameNode(node, &quot;http://abc.de/x/y/z&quot;, &quot;my-prefix:&quot; + node.getNodeName());\r\n        descendants.stream().forEach(c -&gt; doc.renameNode(c, &quot;http://abc.de/x/y/z&quot;, &quot;my-prefix:&quot; + c.getNodeName()));\r\n      }\r\n    \r\n      private List&lt;Element&gt; nodeListToArrayRecurse(NodeList entryNodes) {\r\n        List&lt;Element&gt; allEntries = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; entryNodes.getLength(); i++) {\r\n          Node child = entryNodes.item(i);\r\n          if (child.getNodeType() == Node.ELEMENT_NODE) {\r\n            allEntries.add((Element) child);\r\n            allEntries.addAll(nodeListToArray(child.getChildNodes())); // recurse\r\n          } // ignore other [i.e. text] nodes https://stackoverflow.com/questions/14566596/loop-through-all-elements-in-xml-using-nodelist\r\n        }\r\n        return allEntries;\r\n      }\r\n\r\nIf it helps anybody.  I then convert it to string, then manually remove the extra header and closing lines.  What a pain, I must be doing something wrong...\r\n\r\n  [1]: https://stackoverflow.com/a/28497163/32453\r\n","title":"Adding namespace to an already created XML document","body":"<p>Partially gleaned from <a href=\"https://stackoverflow.com/a/28497163/32453\">here</a>, and also from a comment above, I was able to get it to work (transforming an arbitrary DOM Node and adding a prefix to it and all its children) thus:</p>\n\n<pre><code>  private String addNamespacePrefix(Document doc, Node node) throws TransformerException {\n    Element mainRootElement = doc.createElementNS(\n            \"http://abc.de/x/y/z\", // namespace\n            \"my-prefix:fake-header-element\" // prefix to \"register\" it with the DOM so we don't get exceptions later...\n    );\n    List&lt;Element&gt; descendants = nodeListToArrayRecurse(node.getChildNodes()); // for some reason we have to grab all these before doing the first \"renameNode\" ... no idea why ...\n\n    mainRootElement.appendChild(node);\n    doc.renameNode(node, \"http://abc.de/x/y/z\", \"my-prefix:\" + node.getNodeName());\n    descendants.stream().forEach(c -&gt; doc.renameNode(c, \"http://abc.de/x/y/z\", \"my-prefix:\" + c.getNodeName()));\n  }\n\n  private List&lt;Element&gt; nodeListToArrayRecurse(NodeList entryNodes) {\n    List&lt;Element&gt; allEntries = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; entryNodes.getLength(); i++) {\n      Node child = entryNodes.item(i);\n      if (child.getNodeType() == Node.ELEMENT_NODE) {\n        allEntries.add((Element) child);\n        allEntries.addAll(nodeListToArray(child.getChildNodes())); // recurse\n      } // ignore other [i.e. text] nodes https://stackoverflow.com/questions/14566596/loop-through-all-elements-in-xml-using-nodelist\n    }\n    return allEntries;\n  }\n</code></pre>\n\n<p>If it helps anybody.  I then convert it to string, then manually remove the extra header and closing lines.  What a pain, I must be doing something wrong...</p>\n"},{"tags":[],"owner":{"account_id":394872,"reputation":19,"user_id":757540,"display_name":"unhuman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661913922,"creation_date":1661913922,"answer_id":73550377,"question_id":11133754,"body_markdown":"This seems to be working for me, and it&#39;s much simpler than those answers provided:\r\n\r\n```\r\nDocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\nDocumentBuilder builder = factory.newDocumentBuilder();\r\ndocument = builder.parse(new File(filename));\r\ndocument.getDocumentElement().setAttributeNS(&quot;http://www.w3.org/2000/xmlns/&quot;, &quot;xmlns:yourNamespace&quot;, &quot;http://whatever/else&quot;);\r\n```","title":"Adding namespace to an already created XML document","body":"<p>This seems to be working for me, and it's much simpler than those answers provided:</p>\n<pre><code>DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\nDocumentBuilder builder = factory.newDocumentBuilder();\ndocument = builder.parse(new File(filename));\ndocument.getDocumentElement().setAttributeNS(&quot;http://www.w3.org/2000/xmlns/&quot;, &quot;xmlns:yourNamespace&quot;, &quot;http://whatever/else&quot;);\n</code></pre>\n"}],"owner":{"account_id":954323,"reputation":949,"user_id":979903,"accept_rate":73,"display_name":"Dilip"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44961,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":11146971,"answer_count":4,"score":8,"last_activity_date":1661913922,"creation_date":1340264985,"question_id":11133754,"body_markdown":"I am creating a W3C Document object using a String value. Once I created the Document object, I want to add a namespace to the root element of this document. Here&#39;s my current code:\r\n\r\n    Document document = builder.parse(new InputSource(new StringReader(xmlString)));\r\n    document.getDocumentElement().setAttributeNS(&quot;http://com&quot;, &quot;xmlns:ns2&quot;, &quot;Test&quot;);\r\n    document.setPrefix(&quot;ns2&quot;);\r\n    TransformerFactory tranFactory = TransformerFactory.newInstance();\r\n    Transformer aTransformer = tranFactory.newTransformer();\r\n    Source src = new DOMSource(document);\r\n    Result dest = new StreamResult(new File(&quot;c:\\\\xmlFileName.xml&quot;));\r\n    aTransformer.transform(src, dest);\r\n\r\nWhat I use as input: \r\n    \r\n    &lt;product&gt;\r\n        &lt;arg0&gt;DDDDDD&lt;/arg0&gt;\r\n        &lt;arg1&gt;DDDD&lt;/arg1&gt;\r\n    &lt;/product&gt;\r\n\r\nWhat the output should look like: \r\n\r\n    &lt;ns2:product xmlns:ns2=&quot;http://com&quot;&gt;\r\n        &lt;arg0&gt;DDDDDD&lt;/arg0&gt;\r\n        &lt;arg1&gt;DDDD&lt;/arg1&gt;\r\n    &lt;/ns2:product&gt;\r\n\r\nI need to add the prefix value and namespace also to the input xml string. If I try the above code I am getting this exception: \r\n\r\n    NAMESPACE_ERR: An attempt is made to create or change an object in a way which is incorrect with regard to namespaces.\r\n\r\nAppreciate your help!\r\n\r\n","title":"Adding namespace to an already created XML document","body":"<p>I am creating a W3C Document object using a String value. Once I created the Document object, I want to add a namespace to the root element of this document. Here's my current code:</p>\n\n<pre><code>Document document = builder.parse(new InputSource(new StringReader(xmlString)));\ndocument.getDocumentElement().setAttributeNS(\"http://com\", \"xmlns:ns2\", \"Test\");\ndocument.setPrefix(\"ns2\");\nTransformerFactory tranFactory = TransformerFactory.newInstance();\nTransformer aTransformer = tranFactory.newTransformer();\nSource src = new DOMSource(document);\nResult dest = new StreamResult(new File(\"c:\\\\xmlFileName.xml\"));\naTransformer.transform(src, dest);\n</code></pre>\n\n<p>What I use as input: </p>\n\n<pre><code>&lt;product&gt;\n    &lt;arg0&gt;DDDDDD&lt;/arg0&gt;\n    &lt;arg1&gt;DDDD&lt;/arg1&gt;\n&lt;/product&gt;\n</code></pre>\n\n<p>What the output should look like: </p>\n\n<pre><code>&lt;ns2:product xmlns:ns2=\"http://com\"&gt;\n    &lt;arg0&gt;DDDDDD&lt;/arg0&gt;\n    &lt;arg1&gt;DDDD&lt;/arg1&gt;\n&lt;/ns2:product&gt;\n</code></pre>\n\n<p>I need to add the prefix value and namespace also to the input xml string. If I try the above code I am getting this exception: </p>\n\n<pre><code>NAMESPACE_ERR: An attempt is made to create or change an object in a way which is incorrect with regard to namespaces.\n</code></pre>\n\n<p>Appreciate your help!</p>\n"},{"tags":["java","rest","automated-tests","rest-assured","hamcrest"],"answers":[{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661913755,"creation_date":1661913755,"answer_id":73550363,"question_id":73546499,"body_markdown":"It would be\r\n\r\n```\r\ngiven()...\r\n        .then()\r\n        .body(&quot;res.find {it.id == 1}.name&quot;, equalTo(&quot;a&quot;));\r\n```","title":"How to assert attributes value using sibling attribute value in hamcrest matcher","body":"<p>It would be</p>\n<pre><code>given()...\n        .then()\n        .body(&quot;res.find {it.id == 1}.name&quot;, equalTo(&quot;a&quot;));\n</code></pre>\n"}],"owner":{"account_id":13875569,"reputation":2288,"user_id":10017326,"display_name":"rahul rai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73550363,"answer_count":1,"score":0,"last_activity_date":1661913755,"creation_date":1661881250,"question_id":73546499,"body_markdown":"Given an API response as:\r\n\r\n    {\r\n        &quot;res&quot;: [\r\n            {\r\n                &quot;id&quot;: 1,\r\n                &quot;name&quot;: &quot;a&quot;,\r\n            },\r\n            {\r\n                &quot;id&quot;: 2,\r\n                &quot;name&quot;: &quot;b&quot;,\r\n            }\r\n        ]\r\n    }\r\n\r\nHow can I assert using *hamcrest matcher* that name field for object with id **1** is **a**. ","title":"How to assert attributes value using sibling attribute value in hamcrest matcher","body":"<p>Given an API response as:</p>\n<pre><code>{\n    &quot;res&quot;: [\n        {\n            &quot;id&quot;: 1,\n            &quot;name&quot;: &quot;a&quot;,\n        },\n        {\n            &quot;id&quot;: 2,\n            &quot;name&quot;: &quot;b&quot;,\n        }\n    ]\n}\n</code></pre>\n<p>How can I assert using <em>hamcrest matcher</em> that name field for object with id <strong>1</strong> is <strong>a</strong>.</p>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661912966,"creation_date":1661912966,"answer_id":73550295,"question_id":73549615,"body_markdown":"I don&#39;t know about the `if`, but for the method body, it might be:\r\n\r\n&gt;Preferences &gt; Editor &gt; Code Style &gt; Java &gt; Blank Lines &gt; Before method body &gt; 1\r\n\r\n[![screenshot][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zYuSO.jpg","title":"IntelliJ IDEA Java formatter, how to not allow blank lines after opening braces?","body":"<p>I don't know about the <code>if</code>, but for the method body, it might be:</p>\n<blockquote>\n<p>Preferences &gt; Editor &gt; Code Style &gt; Java &gt; Blank Lines &gt; Before method body &gt; 1</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/zYuSO.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zYuSO.jpg\" alt=\"screenshot\" /></a></p>\n"},{"tags":[],"owner":{"account_id":16139017,"reputation":129,"user_id":15817444,"display_name":"Mazhar Ibna Zahur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661913140,"creation_date":1661913140,"answer_id":73550305,"question_id":73549615,"body_markdown":"in your IDE `file-&gt;settings-&gt;code style-&gt;java`. then select `Blank Lines` tab and change **Before Method Body**.","title":"IntelliJ IDEA Java formatter, how to not allow blank lines after opening braces?","body":"<p>in your IDE <code>file-&gt;settings-&gt;code style-&gt;java</code>. then select <code>Blank Lines</code> tab and change <strong>Before Method Body</strong>.</p>\n"}],"owner":{"account_id":1236424,"reputation":6658,"user_id":1199931,"accept_rate":68,"display_name":"ashishduh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1661913140,"creation_date":1661904323,"question_id":73549615,"body_markdown":"I&#39;ve searched existing questions and IDEA formatter options but to no avail, I can not for the life of me figure out how to prevent these sorts of blank lines after the braces:\r\n\r\n```\r\npublic void foo() {\r\n\r\n   int x = 0;\r\n   if {\r\n\r\n      int y = 0;\r\n   }\r\n}\r\n```\r\n\r\nI know I can get rid of ALL blank lines in the code body by specifying maximum lines in &quot;code&quot; to be 0 but that&#39;s not what I want.\r\n\r\nAny help appreciated :)","title":"IntelliJ IDEA Java formatter, how to not allow blank lines after opening braces?","body":"<p>I've searched existing questions and IDEA formatter options but to no avail, I can not for the life of me figure out how to prevent these sorts of blank lines after the braces:</p>\n<pre><code>public void foo() {\n\n   int x = 0;\n   if {\n\n      int y = 0;\n   }\n}\n</code></pre>\n<p>I know I can get rid of ALL blank lines in the code body by specifying maximum lines in &quot;code&quot; to be 0 but that's not what I want.</p>\n<p>Any help appreciated :)</p>\n"},{"tags":["java","android","ionic-framework","google-play"],"comments":[{"owner":{"account_id":18302804,"reputation":176,"user_id":13327203,"display_name":"Sandip"},"score":0,"creation_date":1661326788,"post_id":73469038,"comment_id":129742287,"body_markdown":"did you test your release (signed) apk before publishing? There might be something using your debug certi&#39;s hashes which is changed when you sign with some other key","body":"did you test your release (signed) apk before publishing? There might be something using your debug certi&#39;s hashes which is changed when you sign with some other key"},{"owner":{"account_id":26146833,"reputation":11,"user_id":19835336,"display_name":"Salini Vijayan"},"score":0,"creation_date":1661327099,"post_id":73469038,"comment_id":129742402,"body_markdown":"No... could you please explain in details. I am newbie to this.","body":"No... could you please explain in details. I am newbie to this."},{"owner":{"account_id":12061122,"reputation":627,"user_id":8820118,"display_name":"nosTa"},"score":0,"creation_date":1661340533,"post_id":73469038,"comment_id":129747634,"body_markdown":"try ionic capacitor build android. Afterwards go to the path of that apk and install it on your device via command shell =&gt; &quot;adb install xxx.apk&quot;. Or send it by mail to your phone and open the apk from the mail. Than you can see if it starts. If it crashes, you will be able to call adb logcat to see the error.","body":"try ionic capacitor build android. Afterwards go to the path of that apk and install it on your device via command shell =&gt; &quot;adb install xxx.apk&quot;. Or send it by mail to your phone and open the apk from the mail. Than you can see if it starts. If it crashes, you will be able to call adb logcat to see the error."},{"owner":{"account_id":6696437,"reputation":2557,"user_id":5164318,"display_name":"emandt"},"score":0,"creation_date":1661350877,"post_id":73469038,"comment_id":129752111,"body_markdown":"Please add first initial row of error, the one starting with &quot;Caused by: .....&quot;","body":"Please add first initial row of error, the one starting with &quot;Caused by: .....&quot;"}],"answers":[{"tags":[],"owner":{"account_id":7830302,"reputation":504,"user_id":5920608,"display_name":"MESP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661326569,"creation_date":1661326569,"answer_id":73469146,"question_id":73469038,"body_markdown":"Did you include crashlytics in your application? it is a package by Google Firebase which helps you find, isolate and fix crashes in your app. \r\n\r\nIt could be that your application won&#39;t work on a physical device, or on some of the 1000&#39;s of devices out there in the world. Try adding some crash logging to isolate your problem.","title":"App recently published on play store but app doesn&#39;t open","body":"<p>Did you include crashlytics in your application? it is a package by Google Firebase which helps you find, isolate and fix crashes in your app.</p>\n<p>It could be that your application won't work on a physical device, or on some of the 1000's of devices out there in the world. Try adding some crash logging to isolate your problem.</p>\n"},{"tags":[],"owner":{"account_id":26146833,"reputation":11,"user_id":19835336,"display_name":"Salini Vijayan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661912946,"creation_date":1661410022,"answer_id":73483045,"question_id":73469038,"body_markdown":"I found the solution. I just deleted the test files inside Android.\r\n\r\n**Files**: **android/app/test and android/app/androidTest**\r\n\r\n\r\nI also removed these lines \r\n\r\n 1. **testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner**&quot; from **build.gradle** under **android-&gt; defaultConfig**\r\n2. **testImplementation &quot;junit:junit:$junitVersion&quot;\r\n    androidTestImplementation &quot;androidx.test.ext:junit:$androidxJunitVersion&quot;\r\n    androidTestImplementation &quot;androidx.test.espresso:espresso-core:$androidxEspressoCoreVersion&quot;** these lines from **build.gradle** under **dependencies**","title":"App recently published on play store but app doesn&#39;t open","body":"<p>I found the solution. I just deleted the test files inside Android.</p>\n<p><strong>Files</strong>: <strong>android/app/test and android/app/androidTest</strong></p>\n<p>I also removed these lines</p>\n<ol>\n<li><strong>testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner</strong>&quot; from <strong>build.gradle</strong> under <strong>android-&gt; defaultConfig</strong></li>\n<li><strong>testImplementation &quot;junit:junit:$junitVersion&quot;\nandroidTestImplementation &quot;androidx.test.ext:junit:$androidxJunitVersion&quot;\nandroidTestImplementation &quot;androidx.test.espresso:espresso-core:$androidxEspressoCoreVersion&quot;</strong> these lines from <strong>build.gradle</strong> under <strong>dependencies</strong></li>\n</ol>\n"}],"owner":{"account_id":26146833,"reputation":11,"user_id":19835336,"display_name":"Salini Vijayan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1661912946,"creation_date":1661326027,"question_id":73469038,"body_markdown":"Recently I published my ionic capacitor app on play store, when I tr to open the app after installing it is showing this error.\r\n\r\n&gt; java.lang.NegativeArraySizeException: -1 \tat a1.a.u(Unknown Source:76)\r\n&gt; \tat g2.q0.h(Unknown Source:27) \tat g2.q0.&lt;init&gt;(Unknown Source:113)\r\n&gt; \tat g2.e.P(Unknown Source:75) \tat g2.e.N(Unknown Source:23) \tat\r\n&gt; g2.e.&lt;init&gt;(Unknown Source:119) \tat g2.e.&lt;init&gt;(Unknown Source:0) \tat\r\n&gt; g2.e$b.c(Unknown Source:108) \tat g2.f.M(Unknown Source:19) \tat\r\n&gt; g2.f.onStart(Unknown Source:32) \tat\r\n&gt; android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1392)\r\n&gt; \tat android.app.Activity.performStart(Activity.java:7252) \tat\r\n&gt; android.app.ActivityThread.handleStartActivity(ActivityThread.java:2970)\r\n&gt; \tat\r\n&gt; android.app.servertransaction.TransactionExecutor.performLifecycleSequence(TransactionExecutor.java:180)\r\n&gt; \tat\r\n&gt; android.app.servertransaction.TransactionExecutor.cycleToPath(TransactionExecutor.java:165)\r\n&gt; \tat\r\n&gt; android.app.servertransaction.TransactionExecutor.executeLifecycleState(TransactionExecutor.java:142)\r\n&gt; \tat\r\n&gt; android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:70)\r\n&gt; \tat\r\n&gt; android.app.ActivityThread$H.handleMessage(ActivityThread.java:1831)\r\n&gt; \tat android.os.Handler.dispatchMessage(Handler.java:106) \tat\r\n&gt; android.os.Looper.loop(Looper.java:201) \tat\r\n&gt; android.app.ActivityThread.main(ActivityThread.java:6810) \tat\r\n&gt; java.lang.reflect.Method.invoke(Native Method) \tat\r\n&gt; com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:547)\r\n&gt; \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:873)\r\n&gt; Blockquote\r\n\r\nBut my app still working on my emulator without showing any errors. How can I fix this? Pls help ...\r\n","title":"App recently published on play store but app doesn&#39;t open","body":"<p>Recently I published my ionic capacitor app on play store, when I tr to open the app after installing it is showing this error.</p>\n<blockquote>\n<p>java.lang.NegativeArraySizeException: -1  at a1.a.u(Unknown Source:76)\nat g2.q0.h(Unknown Source:27)   at g2.q0.(Unknown Source:113)\nat g2.e.P(Unknown Source:75)    at g2.e.N(Unknown Source:23)    at\ng2.e.(Unknown Source:119)   at g2.e.(Unknown Source:0)    at\ng2.e$b.c(Unknown Source:108)  at g2.f.M(Unknown Source:19)    at\ng2.f.onStart(Unknown Source:32)   at\nandroid.app.Instrumentation.callActivityOnStart(Instrumentation.java:1392)\nat android.app.Activity.performStart(Activity.java:7252)    at\nandroid.app.ActivityThread.handleStartActivity(ActivityThread.java:2970)\nat\nandroid.app.servertransaction.TransactionExecutor.performLifecycleSequence(TransactionExecutor.java:180)\nat\nandroid.app.servertransaction.TransactionExecutor.cycleToPath(TransactionExecutor.java:165)\nat\nandroid.app.servertransaction.TransactionExecutor.executeLifecycleState(TransactionExecutor.java:142)\nat\nandroid.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:70)\nat\nandroid.app.ActivityThread$H.handleMessage(ActivityThread.java:1831)\nat android.os.Handler.dispatchMessage(Handler.java:106)     at\nandroid.os.Looper.loop(Looper.java:201)   at\nandroid.app.ActivityThread.main(ActivityThread.java:6810)     at\njava.lang.reflect.Method.invoke(Native Method)    at\ncom.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:547)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:873)\nBlockquote</p>\n</blockquote>\n<p>But my app still working on my emulator without showing any errors. How can I fix this? Pls help ...</p>\n"},{"tags":["java","mongodb","set","push","dbref"],"comments":[{"owner":{"account_id":1450087,"reputation":11188,"user_id":1409374,"display_name":"rickhg12hs"},"score":0,"creation_date":1661914616,"post_id":73540959,"comment_id":129882800,"body_markdown":"Perhaps the oplog entry shows the `&quot;$push&quot;` by `&quot;$set&quot;`ing a specific array location.  If you are losing data, I&#39;d continue searching for the cuase.","body":"Perhaps the oplog entry shows the <code>&quot;$push&quot;</code> by <code>&quot;$set&quot;</code>ing a specific array location.  If you are losing data, I&#39;d continue searching for the cuase."}],"owner":{"account_id":26197207,"reputation":21,"user_id":19878167,"display_name":"M Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1661912429,"creation_date":1661855533,"question_id":73540959,"body_markdown":"\r\nMongoDB Java - List&lt;DBRef&gt; update is causing existing entries to be overwritten.\r\n\r\nI have setup a 3 node mongo 4.0.27 replica set with 1 primary and 2 secondary nodes.\r\n\r\nI am executing a Push operation on a List&lt;DBRef&gt; to add new entries. However this is resulting in an overwrite of previous entries as the $push seems to be getting converted into $set.&lt;index&gt; in the oplog.\r\n\r\nI am trying to insert 20 new entries into the list.\r\n\r\nCan see the following in the driver DEBUG logs.\r\n\r\n    *2022-08-30 13:11:42 [http-nio-8080-exec-45] DEBUG \r\n    org.mongodb.driver.protocol.command -Sending command &#39;{&quot;update&quot;: &quot;orgEntity&quot;, \r\n    &quot;ordered&quot;: true, &quot;writeConcern&quot;: {&quot;w&quot;: 3, &quot;j&quot;: true}, &quot;txnNumber&quot;: 59, &quot;$db&quot;: \r\n    &quot;productDB&quot;, &quot;$clusterTime&quot;: {&quot;clusterTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1661845302, &quot;i&quot;: \r\n    29}}, &quot;signature&quot;: {&quot;hash&quot;: {&quot;$binary&quot;: {&quot;base64&quot;: &quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;, \r\n    &quot;subType&quot;: &quot;00&quot;}}, &quot;keyId&quot;: 0}}, &quot;lsid&quot;: {&quot;id&quot;: {&quot;$binary&quot;: {&quot;base64&quot;: \r\n    &quot;qAABBCCDDEEFFSSAAEE/AAD7A==&quot;, &quot;subType&quot;: &quot;04&quot;}}}, &quot;updates&quot;: [{&quot;q&quot;: {&quot;_id&quot;: {&quot;$oid&quot;: \r\n    &quot;63085377d8db0b0e3cccac63&quot;}}, &quot;u&quot;: {&quot;$push&quot;: {&quot;dBRefForLocEntity&quot;: {&quot;$ref&quot;: \r\n    &quot;geolocation&quot;, &quot;$id&quot;: {&quot;$oid&quot;: &quot;630dbf36b2d3b5194196f4bd&quot;}}}}}]}&#39; with request id \r\n    1059 to database productDB on connection [connectionId{localValue:8, serverValue:47}] \r\n    to server mongo1:27021\r\n    2022-08-30 13:11:42 [http-nio-8080-exec-38] DEBUG org.mongodb.driver.protocol.command \r\n    -Sending command &#39;{&quot;update&quot;: &quot;orgEntity&quot;, &quot;ordered&quot;: true, &quot;writeConcern&quot;: {&quot;w&quot;: 3, \r\n    &quot;j&quot;: true}, &quot;txnNumber&quot;: 27, &quot;$db&quot;: &quot;productDB&quot;, &quot;$clusterTime&quot;: {&quot;clusterTime&quot;: \r\n    {&quot;$timestamp&quot;: {&quot;t&quot;: 1661845302, &quot;i&quot;: 38}}, &quot;signature&quot;: {&quot;hash&quot;: {&quot;$binary&quot;: \r\n    {&quot;base64&quot;: &quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;, &quot;subType&quot;: &quot;00&quot;}}, &quot;keyId&quot;: 0}}, &quot;lsid&quot;: \r\n    {&quot;id&quot;: {&quot;$binary&quot;: {&quot;base64&quot;: &quot;bpl+TemyRby34zFE5DQheQ==&quot;, &quot;subType&quot;: &quot;04&quot;}}}, \r\n    &quot;updates&quot;: [{&quot;q&quot;: {&quot;_id&quot;: {&quot;$oid&quot;: &quot;63085377d8db0b0e3cccac63&quot;}}, &quot;u&quot;: {&quot;$push&quot;: \r\n    {&quot;dBRefForLocEntity&quot;: {&quot;$ref&quot;: &quot;geolocation&quot;, &quot;$id&quot;: {&quot;$oid&quot;: \r\n    &quot;630dbf36b2d3b5194197025a&quot;}}}}}]}&#39; with request id 1144 to database productDB on \r\n    connection [connectionId{localValue:10, serverValue:48}] to server mongo1:27021\r\n    2022-08-30 13:11:43 [http-nio-8080-exec-39] DEBUG org.mongodb.driver.protocol.command \r\n    -Sending command &#39;{&quot;update&quot;: &quot;orgEntity&quot;, &quot;ordered&quot;: true, &quot;writeConcern&quot;: {&quot;w&quot;: 3, \r\n    &quot;j&quot;: true}, &quot;txnNumber&quot;: 34, &quot;$db&quot;: &quot;productDB&quot;, &quot;$clusterTime&quot;: {&quot;clusterTime&quot;: \r\n    {&quot;$timestamp&quot;: {&quot;t&quot;: 1661845303, &quot;i&quot;: 2}}, &quot;signature&quot;: {&quot;hash&quot;: {&quot;$binary&quot;: \r\n    {&quot;base64&quot;: &quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;, &quot;subType&quot;: &quot;00&quot;}}, &quot;keyId&quot;: 0}}, &quot;lsid&quot;: \r\n    {&quot;id&quot;: {&quot;$binary&quot;: {&quot;base64&quot;: &quot;bpl+TemyRby34zFE5DQheQ==&quot;, &quot;subType&quot;: &quot;04&quot;}}}, \r\n    &quot;updates&quot;: [{&quot;q&quot;: {&quot;_id&quot;: {&quot;$oid&quot;: &quot;63085377d8db0b0e3cccac63&quot;}}, &quot;u&quot;: {&quot;$push&quot;: \r\n    {&quot;dBRefForLocEntity&quot;: {&quot;$ref&quot;: &quot;geolocation&quot;, &quot;$id&quot;: {&quot;$oid&quot;: \r\n    &quot;630dbf37b2d3b51941970ff8&quot;}}}}}]}&#39; with request id 1208 to database productDB on \r\n    connection [connectionId{localValue:10, serverValue:48}] to server mongo1:27021\r\n    2022-08-30 13:11:43 [http-nio-8080-exec-41] DEBUG org.mongodb.driver.protocol.command \r\n    -Sending command &#39;{&quot;update&quot;: &quot;orgEntity&quot;, &quot;ordered&quot;: true, &quot;writeConcern&quot;: {&quot;w&quot;: 3, \r\n    &quot;j&quot;: true}, &quot;txnNumber&quot;: 54, &quot;$db&quot;: &quot;productDB&quot;, &quot;$clusterTime&quot;: {&quot;clusterTime&quot;: \r\n    {&quot;$timestamp&quot;: {&quot;t&quot;: 1661845303, &quot;i&quot;: 11}}, &quot;signature&quot;: {&quot;hash&quot;: {&quot;$binary&quot;: \r\n    {&quot;base64&quot;: &quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;, &quot;subType&quot;: &quot;00&quot;}}, &quot;keyId&quot;: 0}}, &quot;lsid&quot;: \r\n    {&quot;id&quot;: {&quot;$binary&quot;: {&quot;base64&quot;: &quot;brfjBuGQSoeu5VwXGQMo1Q==&quot;, &quot;subType&quot;: &quot;04&quot;}}}, \r\n    &quot;updates&quot;: [{&quot;q&quot;: {&quot;_id&quot;: {&quot;$oid&quot;: &quot;63085377d8db0b0e3cccac63&quot;}}, &quot;u&quot;: {&quot;$push&quot;: \r\n    {&quot;dBRefForLocEntity&quot;: {&quot;$ref&quot;: &quot;geolocation&quot;, &quot;$id&quot;: {&quot;$oid&quot;: \r\n    &quot;630dbf37b2d3b51941971d95&quot;}}}}}]}&#39; with request id 1286 to database productDB on \r\n    connection [connectionId{localValue:8, serverValue:47}] to server mongo1:27021\r\n    2022-08-30 13:11:43 [http-nio-8080-exec-37] DEBUG org.mongodb.driver.protocol.command \r\n    -Sending command &#39;{&quot;update&quot;: &quot;orgEntity&quot;, &quot;ordered&quot;: true, &quot;writeConcern&quot;: {&quot;w&quot;: 3, \r\n    &quot;j&quot;: true}, &quot;txnNumber&quot;: 72, &quot;$db&quot;: &quot;productDB&quot;, &quot;$clusterTime&quot;: {&quot;clusterTime&quot;: \r\n    {&quot;$timestamp&quot;: {&quot;t&quot;: 1661845303, &quot;i&quot;: 21}}, &quot;signature&quot;: {&quot;hash&quot;: {&quot;$binary&quot;: \r\n    {&quot;base64&quot;: &quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;, &quot;subType&quot;: &quot;00&quot;}}, &quot;keyId&quot;: 0}}, &quot;lsid&quot;: \r\n    {&quot;id&quot;: {&quot;$binary&quot;: {&quot;base64&quot;: &quot;qAABBCCDDEEFFSSAAEE/AAD7A==&quot;, &quot;subType&quot;: &quot;04&quot;}}}, \r\n    &quot;updates&quot;: [{&quot;q&quot;: {&quot;_id&quot;: {&quot;$oid&quot;: &quot;63085377d8db0b0e3cccac63&quot;}}, &quot;u&quot;: {&quot;$push&quot;: \r\n    {&quot;dBRefForLocEntity&quot;: {&quot;$ref&quot;: &quot;geolocation&quot;, &quot;$id&quot;: {&quot;$oid&quot;: \r\n    &quot;630dbf37b2d3b51941972b33&quot;}}}}}]}&#39; with request id 1367 to database productDB on \r\n    connection [connectionId{localValue:10, serverValue:48}] to server mongo1:27021*\r\n\r\n\r\nThe op-log shows the following operation for one of the $push items.\r\n\r\n    &quot;o&quot;: {\r\n        &quot;$v&quot;: 1,\r\n        &quot;$set&quot;: {\r\n          &quot;dBRefForLocEntity.3468&quot;: {\r\n            &quot;$ref&quot;: &quot;geolocation&quot;,\r\n            &quot;$id&quot;: {\r\n              &quot;$oid&quot;: &quot;630db2b16c6f5e01638234a6&quot;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\nFrom the update-log generated from oplog by running below commands can see that there are multiple overwrites to the same index.\r\n```bash\r\nmongodump -d local -c oplog.rs -o oplogD --port 27021\r\ncd oplogD/local/\r\nbsondump oplog.rs.bson  | jq . &gt; updatelog.json\r\n\r\ncat updatelog.json | grep  &quot;dBRefForLocEntity.3468&quot; \r\n          &quot;dBRefForLocEntity.3468&quot;: {\r\n          &quot;dBRefForLocEntity.3468&quot;: {\r\n          &quot;dBRefForLocEntity.3468&quot;: {\r\n          &quot;dBRefForLocEntity.3468&quot;: {\r\n          &quot;dBRefForLocEntity.3468&quot;: {\r\n          &quot;dBRefForLocEntity.3468&quot;: {\r\n          &quot;dBRefForLocEntity.3468&quot;: {\r\n          &quot;dBRefForLocEntity.3468&quot;: {\r\n```\r\n\r\nThis issue is not seen initially. After the list size grows to some 1500+ entries the issue happens consistently.\r\n\r\nI tried all options from the code perspective (tried out all APIs provided by mongocollection/repository/$push/$addtoSet etc, also writing with WriteConcern.W3) but always hitting this issue.\r\n\r\nPlease provide your inputs to debug/rootcause this issue which is causing the overwrites to the list and/or any workarounds.\r\n\r\n","title":"MongoDB Java - $push to List&lt;DBRef&gt; is overwriting existing entries","body":"<p>MongoDB Java - List update is causing existing entries to be overwritten.</p>\n<p>I have setup a 3 node mongo 4.0.27 replica set with 1 primary and 2 secondary nodes.</p>\n<p>I am executing a Push operation on a List to add new entries. However this is resulting in an overwrite of previous entries as the $push seems to be getting converted into $set. in the oplog.</p>\n<p>I am trying to insert 20 new entries into the list.</p>\n<p>Can see the following in the driver DEBUG logs.</p>\n<pre><code>*2022-08-30 13:11:42 [http-nio-8080-exec-45] DEBUG \norg.mongodb.driver.protocol.command -Sending command '{&quot;update&quot;: &quot;orgEntity&quot;, \n&quot;ordered&quot;: true, &quot;writeConcern&quot;: {&quot;w&quot;: 3, &quot;j&quot;: true}, &quot;txnNumber&quot;: 59, &quot;$db&quot;: \n&quot;productDB&quot;, &quot;$clusterTime&quot;: {&quot;clusterTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1661845302, &quot;i&quot;: \n29}}, &quot;signature&quot;: {&quot;hash&quot;: {&quot;$binary&quot;: {&quot;base64&quot;: &quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;, \n&quot;subType&quot;: &quot;00&quot;}}, &quot;keyId&quot;: 0}}, &quot;lsid&quot;: {&quot;id&quot;: {&quot;$binary&quot;: {&quot;base64&quot;: \n&quot;qAABBCCDDEEFFSSAAEE/AAD7A==&quot;, &quot;subType&quot;: &quot;04&quot;}}}, &quot;updates&quot;: [{&quot;q&quot;: {&quot;_id&quot;: {&quot;$oid&quot;: \n&quot;63085377d8db0b0e3cccac63&quot;}}, &quot;u&quot;: {&quot;$push&quot;: {&quot;dBRefForLocEntity&quot;: {&quot;$ref&quot;: \n&quot;geolocation&quot;, &quot;$id&quot;: {&quot;$oid&quot;: &quot;630dbf36b2d3b5194196f4bd&quot;}}}}}]}' with request id \n1059 to database productDB on connection [connectionId{localValue:8, serverValue:47}] \nto server mongo1:27021\n2022-08-30 13:11:42 [http-nio-8080-exec-38] DEBUG org.mongodb.driver.protocol.command \n-Sending command '{&quot;update&quot;: &quot;orgEntity&quot;, &quot;ordered&quot;: true, &quot;writeConcern&quot;: {&quot;w&quot;: 3, \n&quot;j&quot;: true}, &quot;txnNumber&quot;: 27, &quot;$db&quot;: &quot;productDB&quot;, &quot;$clusterTime&quot;: {&quot;clusterTime&quot;: \n{&quot;$timestamp&quot;: {&quot;t&quot;: 1661845302, &quot;i&quot;: 38}}, &quot;signature&quot;: {&quot;hash&quot;: {&quot;$binary&quot;: \n{&quot;base64&quot;: &quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;, &quot;subType&quot;: &quot;00&quot;}}, &quot;keyId&quot;: 0}}, &quot;lsid&quot;: \n{&quot;id&quot;: {&quot;$binary&quot;: {&quot;base64&quot;: &quot;bpl+TemyRby34zFE5DQheQ==&quot;, &quot;subType&quot;: &quot;04&quot;}}}, \n&quot;updates&quot;: [{&quot;q&quot;: {&quot;_id&quot;: {&quot;$oid&quot;: &quot;63085377d8db0b0e3cccac63&quot;}}, &quot;u&quot;: {&quot;$push&quot;: \n{&quot;dBRefForLocEntity&quot;: {&quot;$ref&quot;: &quot;geolocation&quot;, &quot;$id&quot;: {&quot;$oid&quot;: \n&quot;630dbf36b2d3b5194197025a&quot;}}}}}]}' with request id 1144 to database productDB on \nconnection [connectionId{localValue:10, serverValue:48}] to server mongo1:27021\n2022-08-30 13:11:43 [http-nio-8080-exec-39] DEBUG org.mongodb.driver.protocol.command \n-Sending command '{&quot;update&quot;: &quot;orgEntity&quot;, &quot;ordered&quot;: true, &quot;writeConcern&quot;: {&quot;w&quot;: 3, \n&quot;j&quot;: true}, &quot;txnNumber&quot;: 34, &quot;$db&quot;: &quot;productDB&quot;, &quot;$clusterTime&quot;: {&quot;clusterTime&quot;: \n{&quot;$timestamp&quot;: {&quot;t&quot;: 1661845303, &quot;i&quot;: 2}}, &quot;signature&quot;: {&quot;hash&quot;: {&quot;$binary&quot;: \n{&quot;base64&quot;: &quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;, &quot;subType&quot;: &quot;00&quot;}}, &quot;keyId&quot;: 0}}, &quot;lsid&quot;: \n{&quot;id&quot;: {&quot;$binary&quot;: {&quot;base64&quot;: &quot;bpl+TemyRby34zFE5DQheQ==&quot;, &quot;subType&quot;: &quot;04&quot;}}}, \n&quot;updates&quot;: [{&quot;q&quot;: {&quot;_id&quot;: {&quot;$oid&quot;: &quot;63085377d8db0b0e3cccac63&quot;}}, &quot;u&quot;: {&quot;$push&quot;: \n{&quot;dBRefForLocEntity&quot;: {&quot;$ref&quot;: &quot;geolocation&quot;, &quot;$id&quot;: {&quot;$oid&quot;: \n&quot;630dbf37b2d3b51941970ff8&quot;}}}}}]}' with request id 1208 to database productDB on \nconnection [connectionId{localValue:10, serverValue:48}] to server mongo1:27021\n2022-08-30 13:11:43 [http-nio-8080-exec-41] DEBUG org.mongodb.driver.protocol.command \n-Sending command '{&quot;update&quot;: &quot;orgEntity&quot;, &quot;ordered&quot;: true, &quot;writeConcern&quot;: {&quot;w&quot;: 3, \n&quot;j&quot;: true}, &quot;txnNumber&quot;: 54, &quot;$db&quot;: &quot;productDB&quot;, &quot;$clusterTime&quot;: {&quot;clusterTime&quot;: \n{&quot;$timestamp&quot;: {&quot;t&quot;: 1661845303, &quot;i&quot;: 11}}, &quot;signature&quot;: {&quot;hash&quot;: {&quot;$binary&quot;: \n{&quot;base64&quot;: &quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;, &quot;subType&quot;: &quot;00&quot;}}, &quot;keyId&quot;: 0}}, &quot;lsid&quot;: \n{&quot;id&quot;: {&quot;$binary&quot;: {&quot;base64&quot;: &quot;brfjBuGQSoeu5VwXGQMo1Q==&quot;, &quot;subType&quot;: &quot;04&quot;}}}, \n&quot;updates&quot;: [{&quot;q&quot;: {&quot;_id&quot;: {&quot;$oid&quot;: &quot;63085377d8db0b0e3cccac63&quot;}}, &quot;u&quot;: {&quot;$push&quot;: \n{&quot;dBRefForLocEntity&quot;: {&quot;$ref&quot;: &quot;geolocation&quot;, &quot;$id&quot;: {&quot;$oid&quot;: \n&quot;630dbf37b2d3b51941971d95&quot;}}}}}]}' with request id 1286 to database productDB on \nconnection [connectionId{localValue:8, serverValue:47}] to server mongo1:27021\n2022-08-30 13:11:43 [http-nio-8080-exec-37] DEBUG org.mongodb.driver.protocol.command \n-Sending command '{&quot;update&quot;: &quot;orgEntity&quot;, &quot;ordered&quot;: true, &quot;writeConcern&quot;: {&quot;w&quot;: 3, \n&quot;j&quot;: true}, &quot;txnNumber&quot;: 72, &quot;$db&quot;: &quot;productDB&quot;, &quot;$clusterTime&quot;: {&quot;clusterTime&quot;: \n{&quot;$timestamp&quot;: {&quot;t&quot;: 1661845303, &quot;i&quot;: 21}}, &quot;signature&quot;: {&quot;hash&quot;: {&quot;$binary&quot;: \n{&quot;base64&quot;: &quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;, &quot;subType&quot;: &quot;00&quot;}}, &quot;keyId&quot;: 0}}, &quot;lsid&quot;: \n{&quot;id&quot;: {&quot;$binary&quot;: {&quot;base64&quot;: &quot;qAABBCCDDEEFFSSAAEE/AAD7A==&quot;, &quot;subType&quot;: &quot;04&quot;}}}, \n&quot;updates&quot;: [{&quot;q&quot;: {&quot;_id&quot;: {&quot;$oid&quot;: &quot;63085377d8db0b0e3cccac63&quot;}}, &quot;u&quot;: {&quot;$push&quot;: \n{&quot;dBRefForLocEntity&quot;: {&quot;$ref&quot;: &quot;geolocation&quot;, &quot;$id&quot;: {&quot;$oid&quot;: \n&quot;630dbf37b2d3b51941972b33&quot;}}}}}]}' with request id 1367 to database productDB on \nconnection [connectionId{localValue:10, serverValue:48}] to server mongo1:27021*\n</code></pre>\n<p>The op-log shows the following operation for one of the $push items.</p>\n<pre><code>&quot;o&quot;: {\n    &quot;$v&quot;: 1,\n    &quot;$set&quot;: {\n      &quot;dBRefForLocEntity.3468&quot;: {\n        &quot;$ref&quot;: &quot;geolocation&quot;,\n        &quot;$id&quot;: {\n          &quot;$oid&quot;: &quot;630db2b16c6f5e01638234a6&quot;\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>From the update-log generated from oplog by running below commands can see that there are multiple overwrites to the same index.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mongodump -d local -c oplog.rs -o oplogD --port 27021\ncd oplogD/local/\nbsondump oplog.rs.bson  | jq . &gt; updatelog.json\n\ncat updatelog.json | grep  &quot;dBRefForLocEntity.3468&quot; \n          &quot;dBRefForLocEntity.3468&quot;: {\n          &quot;dBRefForLocEntity.3468&quot;: {\n          &quot;dBRefForLocEntity.3468&quot;: {\n          &quot;dBRefForLocEntity.3468&quot;: {\n          &quot;dBRefForLocEntity.3468&quot;: {\n          &quot;dBRefForLocEntity.3468&quot;: {\n          &quot;dBRefForLocEntity.3468&quot;: {\n          &quot;dBRefForLocEntity.3468&quot;: {\n</code></pre>\n<p>This issue is not seen initially. After the list size grows to some 1500+ entries the issue happens consistently.</p>\n<p>I tried all options from the code perspective (tried out all APIs provided by mongocollection/repository/$push/$addtoSet etc, also writing with WriteConcern.W3) but always hitting this issue.</p>\n<p>Please provide your inputs to debug/rootcause this issue which is causing the overwrites to the list and/or any workarounds.</p>\n"},{"tags":["java","spring-boot","docker","maven","cicd"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":1,"creation_date":1661881508,"post_id":73546442,"comment_id":129875879,"body_markdown":"This question is opinion based (as in, it depends) But I also get the impression that you didn&#39;t do the basic research. https://spring.io/guides/gs/spring-boot-docker/","body":"This question is opinion based (as in, it depends) But I also get the impression that you didn&#39;t do the basic research. <a href=\"https://spring.io/guides/gs/spring-boot-docker/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/spring-boot-docker</a>"},{"owner":{"account_id":7544112,"reputation":565,"user_id":5727808,"display_name":"TrollBearPig"},"score":0,"creation_date":1661884250,"post_id":73546442,"comment_id":129876753,"body_markdown":"@M.P.Korstanje I&#39;ve done research, else how would I have gotten to the point of atleast being able to run locally. Thanks for the link, however those docs still have the docker file depending on a jar file and doesn&#39;t answer my question.","body":"@M.P.Korstanje I&#39;ve done research, else how would I have gotten to the point of atleast being able to run locally. Thanks for the link, however those docs still have the docker file depending on a jar file and doesn&#39;t answer my question."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1661887105,"post_id":73546442,"comment_id":129877572,"body_markdown":"@TrollBearPig would you mind explaining more thoroughly what exactly you would like to avoid?","body":"@TrollBearPig would you mind explaining more thoroughly what exactly you would like to avoid?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1661890227,"post_id":73546442,"comment_id":129878573,"body_markdown":"Btw, as indicated by the above link, you don&#39;t need a Dockerfile - _Spring Boot supports building a container from Maven or Gradle by using its own build plugin._ More importantly, the Maven image isn&#39;t meant to be used for runtime containers","body":"Btw, as indicated by the above link, you don&#39;t need a Dockerfile - <i>Spring Boot supports building a container from Maven or Gradle by using its own build plugin.</i> More importantly, the Maven image isn&#39;t meant to be used for runtime containers"},{"owner":{"account_id":7544112,"reputation":565,"user_id":5727808,"display_name":"TrollBearPig"},"score":0,"creation_date":1661891658,"post_id":73546442,"comment_id":129878952,"body_markdown":"@OneCricketeer thanks I know Spring can build the image itself. My pipeline however depends on the DockerFile to build the image, and does not support a Registry I could push an image directly into. I am trying to remove the dependency of the Dockerfile from the Jar file as the Jar will have sensitive data and cannot be pushed up to Git. DockerFile can still use a jar, but would have to build it itself on the fly.","body":"@OneCricketeer thanks I know Spring can build the image itself. My pipeline however depends on the DockerFile to build the image, and does not support a Registry I could push an image directly into. I am trying to remove the dependency of the Dockerfile from the Jar file as the Jar will have sensitive data and cannot be pushed up to Git. DockerFile can still use a jar, but would have to build it itself on the fly."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1661894540,"post_id":73546442,"comment_id":129879676,"body_markdown":"JAR files are not pushed to Git. Only java source files are. If you have sensitive secrets, such as database credentials, then those will also be readable inside of Docker images","body":"JAR files are not pushed to Git. Only java source files are. If you have sensitive secrets, such as database credentials, then those will also be readable inside of Docker images"}],"answers":[{"tags":[],"owner":{"account_id":23609658,"reputation":759,"user_id":17644863,"display_name":"Santanu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661888940,"creation_date":1661888621,"answer_id":73547711,"question_id":73546442,"body_markdown":"The `Dockerfile` can be like this:\r\n\r\n    # Build Stage\r\n    FROM maven:3.8-openjdk-17-slim AS build\r\n    COPY src /home/app/src\r\n    COPY pom.xml /home/app\r\n    RUN mvn -f /home/app/pom.xml clean package\r\n\r\n    # Execution Stage\r\n    FROM openjdk:17-oracle\r\n    COPY --from=build /home/app/target/demo-0.1-SNAPSHOT.jar /usr/local/lib/demo.jar\r\n    EXPOSE 8080\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/usr/local/lib/demo.jar&quot;]\r\n\r\nTo build docker image\r\n\r\n    $ docker build -t demo-app:1.0 .   \r\n\r\nRun docker image\r\n\r\n    $ docker run -p 8080:8080 demo-app:1.0\r\n\r\nSimple build part of `pom.xml` will work\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n","title":"Best practice for dockerizing a springboot app in a CICD pipeline","body":"<p>The <code>Dockerfile</code> can be like this:</p>\n<pre><code># Build Stage\nFROM maven:3.8-openjdk-17-slim AS build\nCOPY src /home/app/src\nCOPY pom.xml /home/app\nRUN mvn -f /home/app/pom.xml clean package\n\n# Execution Stage\nFROM openjdk:17-oracle\nCOPY --from=build /home/app/target/demo-0.1-SNAPSHOT.jar /usr/local/lib/demo.jar\nEXPOSE 8080\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/usr/local/lib/demo.jar&quot;]\n</code></pre>\n<p>To build docker image</p>\n<pre><code>$ docker build -t demo-app:1.0 .   \n</code></pre>\n<p>Run docker image</p>\n<pre><code>$ docker run -p 8080:8080 demo-app:1.0\n</code></pre>\n<p>Simple build part of <code>pom.xml</code> will work</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7544112,"reputation":565,"user_id":5727808,"display_name":"TrollBearPig"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661911885,"creation_date":1661911885,"answer_id":73550212,"question_id":73546442,"body_markdown":"```\r\nFROM maven:3.8-openjdk-17-slim AS build\r\nWORKDIR /workspace/app\r\n\r\nCOPY mvnw .\r\nCOPY .mvn .mvn\r\nCOPY pom.xml .\r\nCOPY src src\r\n\r\nRUN mvn -f /workspace/app/pom.xml install\r\nRUN mkdir -p target/dependency &amp;&amp; (cd target/dependency; jar -xf ../*.jar)\r\n\r\nFROM openjdk:17-oracle\r\nVOLUME /tmp\r\nARG DEPENDENCY=/workspace/app/target/dependency\r\nCOPY --from=build ${DEPENDENCY}/BOOT-INF/lib /app/lib\r\nCOPY --from=build ${DEPENDENCY}/META-INF /app/META-INF\r\nCOPY --from=build ${DEPENDENCY}/BOOT-INF/classes /app\r\nENTRYPOINT [&quot;java&quot;,&quot;-cp&quot;,&quot;app:app/lib/*&quot;,&quot;com.demo.DemoServiceApplication&quot;]\r\n```\r\n\r\nGot it working with this, only needing to change the last line.\r\n\r\nDocker Command:\r\n\r\n*  docker build -t demo -f Dockerfile .\r\n* docker run -d -p 8080:8080 -e &quot;SPRING_PROFILES_ACTIVE=develop&quot; demo:latest\r\n\r\nThis results in a DockerFile that is not dependent on an external jar file and can be run in isolation against a repo for a cicd pipeline. \r\n\r\n**Source**: [Toptal - Multi-Stage Build][1] \r\n\r\n\r\n  [1]: https://spring.io/guides/topicals/spring-boot-docker","title":"Best practice for dockerizing a springboot app in a CICD pipeline","body":"<pre><code>FROM maven:3.8-openjdk-17-slim AS build\nWORKDIR /workspace/app\n\nCOPY mvnw .\nCOPY .mvn .mvn\nCOPY pom.xml .\nCOPY src src\n\nRUN mvn -f /workspace/app/pom.xml install\nRUN mkdir -p target/dependency &amp;&amp; (cd target/dependency; jar -xf ../*.jar)\n\nFROM openjdk:17-oracle\nVOLUME /tmp\nARG DEPENDENCY=/workspace/app/target/dependency\nCOPY --from=build ${DEPENDENCY}/BOOT-INF/lib /app/lib\nCOPY --from=build ${DEPENDENCY}/META-INF /app/META-INF\nCOPY --from=build ${DEPENDENCY}/BOOT-INF/classes /app\nENTRYPOINT [&quot;java&quot;,&quot;-cp&quot;,&quot;app:app/lib/*&quot;,&quot;com.demo.DemoServiceApplication&quot;]\n</code></pre>\n<p>Got it working with this, only needing to change the last line.</p>\n<p>Docker Command:</p>\n<ul>\n<li>docker build -t demo -f Dockerfile .</li>\n<li>docker run -d -p 8080:8080 -e &quot;SPRING_PROFILES_ACTIVE=develop&quot; demo:latest</li>\n</ul>\n<p>This results in a DockerFile that is not dependent on an external jar file and can be run in isolation against a repo for a cicd pipeline.</p>\n<p><strong>Source</strong>: <a href=\"https://spring.io/guides/topicals/spring-boot-docker\" rel=\"nofollow noreferrer\">Toptal - Multi-Stage Build</a></p>\n"}],"owner":{"account_id":7544112,"reputation":565,"user_id":5727808,"display_name":"TrollBearPig"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":724,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73550212,"answer_count":2,"score":0,"last_activity_date":1661911885,"creation_date":1661880924,"question_id":73546442,"body_markdown":"**Context**: I&#39;m able to dockerize and run my Springboot app *locally* just fine with the below, following the most common recommendations of using a generated jar file to run the app via Docker. \r\n\r\n**Question**: Since it&#39;s bad practice to push the jar file to the repo as it&#39;s going to potentially contain secrets from the local application.yml files, and the docker file depends on the jar file, how can I have my app be dockerized not just locally but on the cloud in anywhich cicd pipeline? Would my next step be modifying the dockerfile to copy over the project directory, and handle generating the jar file itself? Or should I not be using a jar at all and copying over the directory and using a CMD [Some Spring Run command)]\r\n\r\n\r\n\r\n\r\nDockerFile:\r\n\r\n```\r\nFROM maven:3.8.5-openjdk-17\r\nADD target/xyz.jar xyz.jar\r\n\r\nENV RESTFUL_PORT 8080\r\nENV PORT_POSTGRES 5432\r\nEXPOSE $RESTFUL_PORT\r\nEXPOSE $PORT_POSTGRES\r\n\r\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;,&quot;/xyz.jar&quot;]\r\n```\r\n\r\nThe pom.xml plugin which generates the jar file:\r\n```\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.10.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\n\r\n### Docker Steps\r\n1) Build the Jar:\r\n   ```mvn clean install```\r\n2) Build the Image:\r\n   ```docker build -t xyz -f Dockerfile```\r\n3) Run the Image:\r\n    ```docker run -d -p 8080:8080 -e &quot;SPRING_PROFILES_ACTIVE=dev&quot; xyz```","title":"Best practice for dockerizing a springboot app in a CICD pipeline","body":"<p><strong>Context</strong>: I'm able to dockerize and run my Springboot app <em>locally</em> just fine with the below, following the most common recommendations of using a generated jar file to run the app via Docker.</p>\n<p><strong>Question</strong>: Since it's bad practice to push the jar file to the repo as it's going to potentially contain secrets from the local application.yml files, and the docker file depends on the jar file, how can I have my app be dockerized not just locally but on the cloud in anywhich cicd pipeline? Would my next step be modifying the dockerfile to copy over the project directory, and handle generating the jar file itself? Or should I not be using a jar at all and copying over the directory and using a CMD [Some Spring Run command)]</p>\n<p>DockerFile:</p>\n<pre><code>FROM maven:3.8.5-openjdk-17\nADD target/xyz.jar xyz.jar\n\nENV RESTFUL_PORT 8080\nENV PORT_POSTGRES 5432\nEXPOSE $RESTFUL_PORT\nEXPOSE $PORT_POSTGRES\n\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;,&quot;/xyz.jar&quot;]\n</code></pre>\n<p>The pom.xml plugin which generates the jar file:</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<h3>Docker Steps</h3>\n<ol>\n<li>Build the Jar:\n<code>mvn clean install</code></li>\n<li>Build the Image:\n<code>docker build -t xyz -f Dockerfile</code></li>\n<li>Run the Image:\n<code>docker run -d -p 8080:8080 -e &quot;SPRING_PROFILES_ACTIVE=dev&quot; xyz</code></li>\n</ol>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1449857082,"post_id":34229480,"comment_id":56203397,"body_markdown":"Apache POI can handle any file size that&#39;s valid in Excel, provided that you give it enough memory to deserialise and hold it all. What on earth makes you think there&#39;s a limit?","body":"Apache POI can handle any file size that&#39;s valid in Excel, provided that you give it enough memory to deserialise and hold it all. What on earth makes you think there&#39;s a limit?"},{"owner":{"account_id":6189371,"reputation":4655,"user_id":4822479,"accept_rate":60,"display_name":"Madhusudan"},"score":0,"creation_date":1449932557,"post_id":34229480,"comment_id":56224377,"body_markdown":"@Gagravarr I heard from my senior member that it apache POI can handel limited excel file size. So before proceeding I wanted to confirm. I tried to search over internet, but I didn&#39;t read any such limitation.","body":"@Gagravarr I heard from my senior member that it apache POI can handel limited excel file size. So before proceeding I wanted to confirm. I tried to search over internet, but I didn&#39;t read any such limitation."},{"owner":{"account_id":1146751,"reputation":4513,"user_id":1129313,"accept_rate":46,"display_name":"Garry"},"score":0,"creation_date":1450085208,"post_id":34229480,"comment_id":56268282,"body_markdown":"Its good that you checked here instead of trusting your senior blindly.","body":"Its good that you checked here instead of trusting your senior blindly."},{"owner":{"account_id":408269,"reputation":18064,"user_id":517371,"accept_rate":74,"display_name":"Tobia"},"score":1,"creation_date":1520522846,"post_id":34229480,"comment_id":85358627,"body_markdown":"@Gagravarr Not true. MS Excel can handle tables up to [**1 billion**](https://support.office.com/en-us/article/Data-Model-specification-and-limits-19AA79F8-E6E8-45A8-9BE2-B58778FD68EF#tblID0EDACAAA) rows, while Apache POI only up to [**1 million**](https://poi.apache.org/apidocs/org/apache/poi/ss/SpreadsheetVersion.html#enum.constant.summary) rows. That&#39;s a sizable difference that may break some applications.","body":"@Gagravarr Not true. MS Excel can handle tables up to <a href=\"https://support.office.com/en-us/article/Data-Model-specification-and-limits-19AA79F8-E6E8-45A8-9BE2-B58778FD68EF#tblID0EDACAAA\" rel=\"nofollow noreferrer\"><b>1 billion</b></a> rows, while Apache POI only up to <a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/SpreadsheetVersion.html#enum.constant.summary\" rel=\"nofollow noreferrer\"><b>1 million</b></a> rows. That&#39;s a sizable difference that may break some applications."}],"answers":[{"tags":[],"owner":{"account_id":179293,"reputation":15713,"user_id":411846,"accept_rate":80,"display_name":"centic"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1450087470,"creation_date":1450087470,"answer_id":34264208,"question_id":34229480,"body_markdown":"The limits of Excel file formats are defined in class [SpreadsheetVersion][1], as long as you have enough main-memory, you should be able to handle files up to these limits. For huge files using the default POI classes you will need a big amount of memory and that is likely where the &quot;maximum file size&quot; myth comes from. \r\n\r\nThere are ways to overcome the main-memory limitations if needed:\r\n\r\nFor writing very huge files, there is [SXSSFWorkbook][2] which allows to do a streaming write of data out to files (with certain limitations on what you can do as only parts of the file are held in memory).\r\n\r\nFor reading very huge files, take a look at the sample [XLSX2CSV][3] which shows how you can read a file in streaming fashion (again with some limitations on what information you can read out of the file, but there are ways to get at most of it if necessary)\r\n\r\n\r\n  [1]: https://poi.apache.org/apidocs/org/apache/poi/ss/SpreadsheetVersion.html\r\n  [2]: http://poi.apache.org/spreadsheet/index.html\r\n  [3]: https://svn.apache.org/repos/asf/poi/trunk/src/examples/src/org/apache/poi/xssf/eventusermodel/XLSX2CSV.java","title":"Is there any limitation on size of excel file that Apache POI can handle?","body":"<p>The limits of Excel file formats are defined in class <a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/SpreadsheetVersion.html\" rel=\"nofollow\">SpreadsheetVersion</a>, as long as you have enough main-memory, you should be able to handle files up to these limits. For huge files using the default POI classes you will need a big amount of memory and that is likely where the \"maximum file size\" myth comes from. </p>\n\n<p>There are ways to overcome the main-memory limitations if needed:</p>\n\n<p>For writing very huge files, there is <a href=\"http://poi.apache.org/spreadsheet/index.html\" rel=\"nofollow\">SXSSFWorkbook</a> which allows to do a streaming write of data out to files (with certain limitations on what you can do as only parts of the file are held in memory).</p>\n\n<p>For reading very huge files, take a look at the sample <a href=\"https://svn.apache.org/repos/asf/poi/trunk/src/examples/src/org/apache/poi/xssf/eventusermodel/XLSX2CSV.java\" rel=\"nofollow\">XLSX2CSV</a> which shows how you can read a file in streaming fashion (again with some limitations on what information you can read out of the file, but there are ways to get at most of it if necessary)</p>\n"},{"tags":[],"owner":{"account_id":1808646,"reputation":1117,"user_id":1645154,"accept_rate":58,"display_name":"Midhun Pottammal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450087670,"creation_date":1450087670,"answer_id":34264288,"question_id":34229480,"body_markdown":"Apache POI can handle more than one MB file ,it uses your memory properly.Apache poi limitation list that not mentioned \r\n\r\n    [https://poi.apache.org/spreadsheet/limitations.html][1]\r\n\r\n\r\n  [1]: https://poi.apache.org/spreadsheet/limitations.html","title":"Is there any limitation on size of excel file that Apache POI can handle?","body":"<p>Apache POI can handle more than one MB file ,it uses your memory properly.Apache poi limitation list that not mentioned </p>\n\n<pre><code>[https://poi.apache.org/spreadsheet/limitations.html][1]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20112073,"reputation":11,"user_id":14748286,"display_name":"vincent"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661911859,"creation_date":1661911542,"answer_id":73550186,"question_id":34229480,"body_markdown":"I think there is a limitation for input file size, because I have a problem about reading a xlsx file which size is 200+MB,\r\nwhen I read it with apache poi, then the exception like below \r\n\r\n&gt; Exception in thread &quot;main&quot; java.io.IOException: MaxLength (100000000) reached - stream seems to be invalid.\r\nand when I search the message from source code, it can not be changed, caz it&#39;s hard code, this is what I found\r\n\r\n[source code segment which confuse me][1]\r\n\r\nsearching from the class that from above pic, there is no way to change the *MAX_ENTRY_SIZE*.\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GPIil.png","title":"Is there any limitation on size of excel file that Apache POI can handle?","body":"<p>I think there is a limitation for input file size, because I have a problem about reading a xlsx file which size is 200+MB,\nwhen I read it with apache poi, then the exception like below</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.io.IOException: MaxLength (100000000) reached - stream seems to be invalid.\nand when I search the message from source code, it can not be changed, caz it's hard code, this is what I found</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/GPIil.png\" rel=\"nofollow noreferrer\">source code segment which confuse me</a></p>\n<p>searching from the class that from above pic, there is no way to change the <em>MAX_ENTRY_SIZE</em>.</p>\n"}],"owner":{"account_id":6189371,"reputation":4655,"user_id":4822479,"accept_rate":60,"display_name":"Madhusudan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10453,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":34264208,"answer_count":3,"score":0,"last_activity_date":1661911859,"creation_date":1449855893,"question_id":34229480,"body_markdown":"I am using Apache POI to create a excel sheet and write data into it through java program and reading the same file in different java program. I heard that Apache POI can handle maximum size of 1 MB? Am I right? \r\n\r\nIf it is, then what is the option for this?","title":"Is there any limitation on size of excel file that Apache POI can handle?","body":"<p>I am using Apache POI to create a excel sheet and write data into it through java program and reading the same file in different java program. I heard that Apache POI can handle maximum size of 1 MB? Am I right? </p>\n\n<p>If it is, then what is the option for this?</p>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1661887077,"creation_date":1661885954,"answer_id":73547306,"question_id":73547195,"body_markdown":"Make the last `forEach` a `map` instead.\r\n\r\nInstead of `n.getValue()` only add that part if `n.getValue` is not 1. \r\n\r\nThen collect by joining. \r\n\r\nAt that point you will have a string you can print.\r\n\r\nSo, assuming we don&#39;t want to change your first part:\r\n\r\n    &quot;abbccd&quot;.chars()\r\n            .mapToObj(s -&gt; Character.toLowerCase((char)s)) // notice here Character.valueOf was redundant, we&#39;re already dealing with a char\r\n            .collect(Collectors.groupingBy(Function.identity(), LinkedHashMap::new, Collectors.counting()))\r\n            .entrySet().stream()\r\n            .map(n -&gt; n.getKey()+&quot;&quot;+(n.getValue() == 1 ? &quot;&quot; : n.getValue()))\r\n            .collect(Collectors.joining());\r\n\r\nResults in `ab2c2d`.","title":"use java stream to find count of each character in a string","body":"<p>Make the last <code>forEach</code> a <code>map</code> instead.</p>\n<p>Instead of <code>n.getValue()</code> only add that part if <code>n.getValue</code> is not 1.</p>\n<p>Then collect by joining.</p>\n<p>At that point you will have a string you can print.</p>\n<p>So, assuming we don't want to change your first part:</p>\n<pre><code>&quot;abbccd&quot;.chars()\n        .mapToObj(s -&gt; Character.toLowerCase((char)s)) // notice here Character.valueOf was redundant, we're already dealing with a char\n        .collect(Collectors.groupingBy(Function.identity(), LinkedHashMap::new, Collectors.counting()))\n        .entrySet().stream()\n        .map(n -&gt; n.getKey()+&quot;&quot;+(n.getValue() == 1 ? &quot;&quot; : n.getValue()))\n        .collect(Collectors.joining());\n</code></pre>\n<p>Results in <code>ab2c2d</code>.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661911340,"creation_date":1661903958,"answer_id":73549578,"question_id":73547195,"body_markdown":"Unfortunately, the other two Answers both fail with most characters. \r\n\r\n# Avoid legacy type `char`\r\n\r\nThe `char` type is legacy, essentially broken since Java 2, legacy since Java 5. As a 16-bit value, `char` is physically incapable of representing most of the 144,697 characters defined in [Unicode][1].\r\n\r\nSee one Answer’s code break:\r\n\r\n```java\r\nString input = &quot;&#128567;&#128567;abbccd&quot;;\r\nString output =\r\n        input\r\n                .chars()\r\n                .mapToObj( s -&gt; Character.toLowerCase( ( char ) s ) ) // notice here Character.valueOf was redundant, we&#39;re already dealing with a char\r\n                .collect( Collectors.groupingBy( Function.identity() , LinkedHashMap :: new , Collectors.counting() ) )\r\n                .entrySet().stream()\r\n                .map( n -&gt; n.getKey() + &quot;&quot; + ( n.getValue() == 1 ? &quot;&quot; : n.getValue() ) )\r\n                .collect( Collectors.joining() );\r\n\r\nSystem.out.println( &quot;output = &quot; + output );\r\n```\r\n\r\n&gt;output = ?2?2ab2c2d\r\n\r\n# Code point\r\n\r\nUse [code point][2] integer numbers instead, when working with individual characters. A code point is the number permanently assigned to each character in Unicode. They range from zero to just over a million.\r\n\r\nYou will find code point related method scattered around the Java classes. These include `String`, `StringBuilder`, `Character`, etc. \r\n\r\nThe `String#codePoints` method returns an `IntStream` of code points, the code point number for each character in the string.\r\n\r\nHere is a re-worked version of the clever code from [Answer by Federico klez Culloca][3]. Kudos to him, as I could not have come up with that approach.\r\n\r\n```java\r\nString input = &quot;&#128567;&#128567;abbccd&quot;;\r\nString output =\r\n        input\r\n                .codePoints()\r\n                .map( Character :: toLowerCase )\r\n                .mapToObj( codePoint -&gt; Character.toString( codePoint ) )\r\n                .collect( Collectors.groupingBy( Function.identity() , LinkedHashMap :: new , Collectors.counting() ) )\r\n                .entrySet().stream()\r\n                .map( n -&gt; n.getKey() + &quot;&quot; + ( n.getValue() == 1 ? &quot;&quot; : n.getValue() ) )\r\n                .collect( Collectors.joining() );\r\nSystem.out.println( &quot;output = &quot; + output );\r\n```\r\n\r\n&gt;output = &#128567;2ab2c2d\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Unicode\r\n  [2]: https://en.wikipedia.org/wiki/Code_point\r\n  [3]: https://stackoverflow.com/a/73547306/642706","title":"use java stream to find count of each character in a string","body":"<p>Unfortunately, the other two Answers both fail with most characters.</p>\n<h1>Avoid legacy type <code>char</code></h1>\n<p>The <code>char</code> type is legacy, essentially broken since Java 2, legacy since Java 5. As a 16-bit value, <code>char</code> is physically incapable of representing most of the 144,697 characters defined in <a href=\"https://en.wikipedia.org/wiki/Unicode\" rel=\"nofollow noreferrer\">Unicode</a>.</p>\n<p>See one Answer’s code break:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;😷😷abbccd&quot;;\nString output =\n        input\n                .chars()\n                .mapToObj( s -&gt; Character.toLowerCase( ( char ) s ) ) // notice here Character.valueOf was redundant, we're already dealing with a char\n                .collect( Collectors.groupingBy( Function.identity() , LinkedHashMap :: new , Collectors.counting() ) )\n                .entrySet().stream()\n                .map( n -&gt; n.getKey() + &quot;&quot; + ( n.getValue() == 1 ? &quot;&quot; : n.getValue() ) )\n                .collect( Collectors.joining() );\n\nSystem.out.println( &quot;output = &quot; + output );\n</code></pre>\n<blockquote>\n<p>output = ?2?2ab2c2d</p>\n</blockquote>\n<h1>Code point</h1>\n<p>Use <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code point</a> integer numbers instead, when working with individual characters. A code point is the number permanently assigned to each character in Unicode. They range from zero to just over a million.</p>\n<p>You will find code point related method scattered around the Java classes. These include <code>String</code>, <code>StringBuilder</code>, <code>Character</code>, etc.</p>\n<p>The <code>String#codePoints</code> method returns an <code>IntStream</code> of code points, the code point number for each character in the string.</p>\n<p>Here is a re-worked version of the clever code from <a href=\"https://stackoverflow.com/a/73547306/642706\">Answer by Federico klez Culloca</a>. Kudos to him, as I could not have come up with that approach.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;😷😷abbccd&quot;;\nString output =\n        input\n                .codePoints()\n                .map( Character :: toLowerCase )\n                .mapToObj( codePoint -&gt; Character.toString( codePoint ) )\n                .collect( Collectors.groupingBy( Function.identity() , LinkedHashMap :: new , Collectors.counting() ) )\n                .entrySet().stream()\n                .map( n -&gt; n.getKey() + &quot;&quot; + ( n.getValue() == 1 ? &quot;&quot; : n.getValue() ) )\n                .collect( Collectors.joining() );\nSystem.out.println( &quot;output = &quot; + output );\n</code></pre>\n<blockquote>\n<p>output = 😷2ab2c2d</p>\n</blockquote>\n"}],"owner":{"account_id":17464063,"reputation":45,"user_id":12661169,"display_name":"sid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1006,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1661911340,"creation_date":1661885337,"question_id":73547195,"body_markdown":"we have this string:  `String input1 = &quot;abbccd&quot;;`\r\n\r\nexpected output: `ab2c2d`   (note: if count=1, it shouldn&#39;t show in output).\r\n\r\nthe following code outputs `a1,b2 c2 d2` on separate lines. Any suggestion to fix and improve?\r\n\r\n\r\n    input1.chars()\r\n          .mapToObj(s -&gt; Character.toLowerCase(Character.valueOf((char) s)))\r\n          .collect(Collectors.groupingBy(Function.identity(), LinkedHashMap::new, Collectors.counting()))\r\n          .entrySet().stream()\r\n          .forEach(n -&gt; {System.out.println(n.getKey()+&quot;&quot;+n.getValue());});\r\n","title":"use java stream to find count of each character in a string","body":"<p>we have this string:  <code>String input1 = &quot;abbccd&quot;;</code></p>\n<p>expected output: <code>ab2c2d</code>   (note: if count=1, it shouldn't show in output).</p>\n<p>the following code outputs <code>a1,b2 c2 d2</code> on separate lines. Any suggestion to fix and improve?</p>\n<pre><code>input1.chars()\n      .mapToObj(s -&gt; Character.toLowerCase(Character.valueOf((char) s)))\n      .collect(Collectors.groupingBy(Function.identity(), LinkedHashMap::new, Collectors.counting()))\n      .entrySet().stream()\n      .forEach(n -&gt; {System.out.println(n.getKey()+&quot;&quot;+n.getValue());});\n</code></pre>\n"},{"tags":["java","linux","camera","crash","project"],"comments":[{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1661195430,"post_id":73449941,"comment_id":129709715,"body_markdown":"What do you mean by &quot;it says the line ... is problematic&quot;? Do you get an error message? If so, then what is the exact error message? It contains important information that tells you what exactly the problem is, so you need to include it in your question here.","body":"What do you mean by &quot;it says the line ... is problematic&quot;? Do you get an error message? If so, then what is the exact error message? It contains important information that tells you what exactly the problem is, so you need to include it in your question here."},{"owner":{"account_id":26104281,"reputation":1,"user_id":19799202,"display_name":"safir"},"score":0,"creation_date":1661201061,"post_id":73449941,"comment_id":129711377,"body_markdown":"Okay. I made it clearer, I think. @Jesper","body":"Okay. I made it clearer, I think. @Jesper"}],"answers":[{"tags":[],"owner":{"account_id":1420007,"reputation":17492,"user_id":1344825,"display_name":"Eddy Talvala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661909149,"creation_date":1661909149,"answer_id":73549981,"question_id":73449941,"body_markdown":"The old camera API is deprecated, but it&#39;s only a warning - you should be able to use it just fine if you ignore the deprecation warnings (or suppress them).\r\n\r\n`Camera.startPreview()` is an Android SDK API, so you can&#39;t look into its code (the SDK just comes with stubs, not implementations, which is why you see an empty method).\r\n\r\nIf what you&#39;re seeing isn&#39;t a deprecation warning, you&#39;ll need to explain what you are seeing in more detail. It&#39;s unclear what exactly happens when the app shuts down - where are you running it, and what logs are you seeing?","title":"How do I fix a project with a outdated camera?","body":"<p>The old camera API is deprecated, but it's only a warning - you should be able to use it just fine if you ignore the deprecation warnings (or suppress them).</p>\n<p><code>Camera.startPreview()</code> is an Android SDK API, so you can't look into its code (the SDK just comes with stubs, not implementations, which is why you see an empty method).</p>\n<p>If what you're seeing isn't a deprecation warning, you'll need to explain what you are seeing in more detail. It's unclear what exactly happens when the app shuts down - where are you running it, and what logs are you seeing?</p>\n"}],"owner":{"account_id":26104281,"reputation":1,"user_id":19799202,"display_name":"safir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1661909149,"creation_date":1661195154,"question_id":73449941,"body_markdown":"Picture 3 [enter image description here][1] Start Preview leads me here. Not sure what to do. \r\n\r\nPicture 2 [enter image description here][2] Blue line gets me here, line 617\r\n\r\nPicture 1 [enter image description here][3] Points to the problem. So I hit the blue line.  \r\n\r\n(I tried replacing camera with camera2 or cameraX. Not working. )\r\n\r\nHow do I run this project in android studios in linux? https://github.com/DhananjaiH/MeasureCam\r\n\r\nI run the app and it tells me that the line that says camera.startPreview(); is problematic. I open start preview, and it points to a different file that has a line - &quot;public native final void startPreview();&quot; . Not sure what it wants from me. The app just keeps shutting down. I then deleted the first line of camera.startPreview(); and it runs the app, but without the camera. \r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QIWRA.png\r\n  [2]: https://i.stack.imgur.com/N00ld.png\r\n  [3]: https://i.stack.imgur.com/qsDq5.png","title":"How do I fix a project with a outdated camera?","body":"<p>Picture 3 <a href=\"https://i.stack.imgur.com/QIWRA.png\" rel=\"nofollow noreferrer\">enter image description here</a> Start Preview leads me here. Not sure what to do.</p>\n<p>Picture 2 <a href=\"https://i.stack.imgur.com/N00ld.png\" rel=\"nofollow noreferrer\">enter image description here</a> Blue line gets me here, line 617</p>\n<p>Picture 1 <a href=\"https://i.stack.imgur.com/qsDq5.png\" rel=\"nofollow noreferrer\">enter image description here</a> Points to the problem. So I hit the blue line.</p>\n<p>(I tried replacing camera with camera2 or cameraX. Not working. )</p>\n<p>How do I run this project in android studios in linux? <a href=\"https://github.com/DhananjaiH/MeasureCam\" rel=\"nofollow noreferrer\">https://github.com/DhananjaiH/MeasureCam</a></p>\n<p>I run the app and it tells me that the line that says camera.startPreview(); is problematic. I open start preview, and it points to a different file that has a line - &quot;public native final void startPreview();&quot; . Not sure what it wants from me. The app just keeps shutting down. I then deleted the first line of camera.startPreview(); and it runs the app, but without the camera.</p>\n"},{"tags":["java","file-io"],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1292274191,"creation_date":1292264031,"answer_id":4432041,"question_id":4431945,"body_markdown":"What happens when you do a binary comparison of the files. e.g. with diff.  Do you see a difference after the first file?  \r\n\r\nCan you try breaking up a text TXT file? if there are bytes are out of place it should be more obvious what is going wrong. e.g. a repeated block/file/or data full of nul bytes. ??\r\n\r\nEDIT: As others have noticed, you read the files in no particular order.  What you can do is use a padded file number like.\r\n\r\n    newName = String.format(&quot;%s.part%09d&quot;, fname, nChunks - 1);\r\n\r\nThis will give you up to 1 billion files in numeric order.\r\n\r\nWhen you read the files, you need to ensure they are sorted.\r\n\r\n    Arrays.sort(files);\r\n    for (File file : files) {\r\n\r\nUsing a custom comparator as others have suggest would reduce the size of the padded numbers but it can be nice to be able to sort by name to get the correct order. e.g. in explorer.\r\n\r\n","title":"Split and join back a binary file in java","body":"<p>What happens when you do a binary comparison of the files. e.g. with diff.  Do you see a difference after the first file?  </p>\n\n<p>Can you try breaking up a text TXT file? if there are bytes are out of place it should be more obvious what is going wrong. e.g. a repeated block/file/or data full of nul bytes. ??</p>\n\n<p>EDIT: As others have noticed, you read the files in no particular order.  What you can do is use a padded file number like.</p>\n\n<pre><code>newName = String.format(\"%s.part%09d\", fname, nChunks - 1);\n</code></pre>\n\n<p>This will give you up to 1 billion files in numeric order.</p>\n\n<p>When you read the files, you need to ensure they are sorted.</p>\n\n<pre><code>Arrays.sort(files);\nfor (File file : files) {\n</code></pre>\n\n<p>Using a custom comparator as others have suggest would reduce the size of the padded numbers but it can be nice to be able to sort by name to get the correct order. e.g. in explorer.</p>\n"},{"tags":[],"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1292264136,"creation_date":1292264136,"answer_id":4432060,"question_id":4431945,"body_markdown":"&gt;And for joining file, I put the names of all chunks in a List, then sort it by name and then run the following code:\r\n\r\nBut your names are of the following form:\r\n\r\n    newName = fname + &quot;.part&quot; + Integer.toString(nChunks - 1);\r\n\r\nThink carefully about what happens if you have 11 or more parts. Which string comes first in alphabetical order: &quot;.part10&quot; or &quot;.part2&quot;? (Answer: &quot;.part10&quot;, since &#39;1&#39; comes before &#39;2&#39; in the character encoding.)\r\n","title":"Split and join back a binary file in java","body":"<blockquote>\n  <p>And for joining file, I put the names of all chunks in a List, then sort it by name and then run the following code:</p>\n</blockquote>\n\n<p>But your names are of the following form:</p>\n\n<pre><code>newName = fname + \".part\" + Integer.toString(nChunks - 1);\n</code></pre>\n\n<p>Think carefully about what happens if you have 11 or more parts. Which string comes first in alphabetical order: \".part10\" or \".part2\"? (Answer: \".part10\", since '1' comes before '2' in the character encoding.)</p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1292264163,"creation_date":1292264163,"answer_id":4432066,"question_id":4431945,"body_markdown":"I can spot only 2 potential mistakes in the code:\r\n\r\n    int fileSize = (int) ifile.length();\r\n\r\nThe above fails when the file is over 2GB since an `int` cannot hold more.\r\n\r\n    newName = fname + &quot;.part&quot; + Integer.toString(nChunks - 1);\r\n \r\nA filename which is constructed like that should be sorted on a very specific manner. When using default string sorting, `name.part10` will namely come before `name.part2`. You&#39;d like to supply a custom [`Comparator`][1] which extracts and parses the part number as an int and then compare by that instead.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/Comparator.html","title":"Split and join back a binary file in java","body":"<p>I can spot only 2 potential mistakes in the code:</p>\n\n<pre><code>int fileSize = (int) ifile.length();\n</code></pre>\n\n<p>The above fails when the file is over 2GB since an <code>int</code> cannot hold more.</p>\n\n<pre><code>newName = fname + \".part\" + Integer.toString(nChunks - 1);\n</code></pre>\n\n<p>A filename which is constructed like that should be sorted on a very specific manner. When using default string sorting, <code>name.part10</code> will namely come before <code>name.part2</code>. You'd like to supply a custom <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Comparator.html\" rel=\"noreferrer\"><code>Comparator</code></a> which extracts and parses the part number as an int and then compare by that instead.</p>\n"},{"tags":[],"owner":{"account_id":235352,"reputation":126,"user_id":502119,"display_name":"Haderlump"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1292264416,"creation_date":1292264416,"answer_id":4432109,"question_id":4431945,"body_markdown":"Are there more than 10 chunks? Then the program will concatenate *.part1 + *.part10 + *.part2 and so on.","title":"Split and join back a binary file in java","body":"<p>Are there more than 10 chunks? Then the program will concatenate *.part1 + *.part10 + *.part2 and so on.</p>\n"},{"tags":[],"owner":{"account_id":1787362,"reputation":11,"user_id":1628537,"display_name":"Manglesh pareek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1348741939,"creation_date":1346095588,"answer_id":12148298,"question_id":4431945,"body_markdown":"For splitting the file:-----&gt;\r\n\r\n\r\n\r\n    import java.io.*;\r\n    \r\n    class Split\r\n    {\r\n    \r\n    \r\n      public static void main(String args[])throws IOException\r\n       {\r\n    \r\n    \tConsole con=System.console();\r\n    \tSystem.out.println(&quot;enter the file name&quot;);\r\n    \tString path=con.readLine();\r\n     \tFile f= new File(path);\r\n    \tint filesize=(int)f.length();\r\n    \tFileInputStream fis= new FileInputStream(path);\t\r\n    \t\r\n    \tint size;\r\n    \tSystem.out.println(&quot;enter file size for split&quot;);\r\n            size=Integer.parseInt(con.readLine());\r\n             \r\n    \t\r\n    \tbyte b[]=new byte[size];\r\n     \r\n    \tint ch,c=0;\r\n    \t\r\n         \r\n     \r\n      \r\n    \twhile(filesize&gt;0)\r\n               {\r\n                     ch=fis.read(b,0,size);\r\n    \r\n    \r\n    \t\tfilesize = filesize-ch;\r\n    \r\n    \r\n                    String fname=c+&quot;.&quot;+f.getName()+&quot;&quot;;\r\n    \t\tc++;\r\n    \t\tFileOutputStream fos= new FileOutputStream(new File(fname));\r\n    \t\tfos.write(b,0,ch);\r\n    \t\tfos.flush();\r\n    \t\tfos.close();\r\n    \t\t\r\n    \t\t}\r\n    \r\n    fis.close();\r\n      \r\n    }\r\n    \r\n    }","title":"Split and join back a binary file in java","body":"<p>For splitting the file:-----></p>\n\n<pre><code>import java.io.*;\n\nclass Split\n{\n\n\n  public static void main(String args[])throws IOException\n   {\n\n    Console con=System.console();\n    System.out.println(\"enter the file name\");\n    String path=con.readLine();\n    File f= new File(path);\n    int filesize=(int)f.length();\n    FileInputStream fis= new FileInputStream(path); \n\n    int size;\n    System.out.println(\"enter file size for split\");\n        size=Integer.parseInt(con.readLine());\n\n\n    byte b[]=new byte[size];\n\n    int ch,c=0;\n\n\n\n\n    while(filesize&gt;0)\n           {\n                 ch=fis.read(b,0,size);\n\n\n        filesize = filesize-ch;\n\n\n                String fname=c+\".\"+f.getName()+\"\";\n        c++;\n        FileOutputStream fos= new FileOutputStream(new File(fname));\n        fos.write(b,0,ch);\n        fos.flush();\n        fos.close();\n\n        }\n\nfis.close();\n\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5843046,"reputation":1,"user_id":4603958,"display_name":"Devendra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424838081,"creation_date":1424836929,"answer_id":28710897,"question_id":4431945,"body_markdown":"It takes split file name &amp; destination file size(in byte) form user and split it into subfiles its working for all type of files like(.bin,.jpg,.rar)\r\n\r\n \r\n\r\n \r\n\r\n    import java.io.*;\r\n    class split{\r\n    public static void main(String args[])throws IOException {\r\n    String a;\r\n    int b;\r\n    long len;\r\n    Console con=System.console();\r\n    System.out.println(&quot;Enter File Name: &quot;);\r\n    File f=new File(con.readLine());\r\n    System.out.println(&quot;Enter Destination File Size: &quot;);  \r\n    b=Integer.parseInt(con.readLine());\r\n    FileInputStream fis=new FileInputStream(f);\r\n    len=f.length();\r\n    int c=(int)len/b;\r\n    if(((int)len%b)!=0)\r\n    c++;\r\n    for(int i=0;i&lt;c;i++){\r\n    File f1=new File(i+&quot;&quot;+&quot;.&quot;+f);\r\n    FileOutputStream fos=new FileOutputStream(f1);\r\n    for(int j=0;j&lt;b;j++){   \r\n    int ch;\r\n    if((ch=fis.read())!=-1)\r\n    fos.write(ch); } }\r\n    fis.close();\r\n    System.out.println(&quot;Operation Successful&quot;); }}\r\n\r\nand another program will merge all the split files.It take only split file name and merge all the files.\r\n\r\n\r\n    import java.io.*;\r\n    class merge{\r\n    static int i;\r\n    public static void main(String args[])throws IOException{\r\n    String a;\r\n    int b;\r\n    long len;\r\n    Console con=System.console();\r\n    System.out.println(&quot;Enter File to be retrived: &quot;);\r\n    File f=new File(con.readLine());\r\n    FileOutputStream fos=new FileOutputStream(f,true);\r\n    try {\r\n    File f1=new File(i+&quot;&quot;+&quot;.&quot;+f);\r\n    while((f1.exists())!=false) {\r\n    int ch;\r\n    FileInputStream fis=new FileInputStream(i+&quot;&quot;+&quot;.&quot;+f);\r\n    i++;\r\n    while((ch=fis.read())!=-1){\r\n    fos.write(ch);  }}}\r\n    catch(FileNotFoundException e1){} }}","title":"Split and join back a binary file in java","body":"<p>It takes split file name &amp; destination file size(in byte) form user and split it into subfiles its working for all type of files like(.bin,.jpg,.rar)</p>\n\n<pre><code>import java.io.*;\nclass split{\npublic static void main(String args[])throws IOException {\nString a;\nint b;\nlong len;\nConsole con=System.console();\nSystem.out.println(\"Enter File Name: \");\nFile f=new File(con.readLine());\nSystem.out.println(\"Enter Destination File Size: \");  \nb=Integer.parseInt(con.readLine());\nFileInputStream fis=new FileInputStream(f);\nlen=f.length();\nint c=(int)len/b;\nif(((int)len%b)!=0)\nc++;\nfor(int i=0;i&lt;c;i++){\nFile f1=new File(i+\"\"+\".\"+f);\nFileOutputStream fos=new FileOutputStream(f1);\nfor(int j=0;j&lt;b;j++){   \nint ch;\nif((ch=fis.read())!=-1)\nfos.write(ch); } }\nfis.close();\nSystem.out.println(\"Operation Successful\"); }}\n</code></pre>\n\n<p>and another program will merge all the split files.It take only split file name and merge all the files.</p>\n\n<pre><code>import java.io.*;\nclass merge{\nstatic int i;\npublic static void main(String args[])throws IOException{\nString a;\nint b;\nlong len;\nConsole con=System.console();\nSystem.out.println(\"Enter File to be retrived: \");\nFile f=new File(con.readLine());\nFileOutputStream fos=new FileOutputStream(f,true);\ntry {\nFile f1=new File(i+\"\"+\".\"+f);\nwhile((f1.exists())!=false) {\nint ch;\nFileInputStream fis=new FileInputStream(i+\"\"+\".\"+f);\ni++;\nwhile((ch=fis.read())!=-1){\nfos.write(ch);  }}}\ncatch(FileNotFoundException e1){} }}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":558770,"reputation":16438,"user_id":755804,"accept_rate":20,"display_name":"18446744073709551615"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1441718033,"creation_date":1441717226,"answer_id":32458533,"question_id":4431945,"body_markdown":"\tpublic class FileSplitter {\r\n\t\tprivate static final int BUFSIZE = 4*1024;\r\n\t\tpublic boolean needsSplitting(String file, int chunkSize) {\r\n\t\t\treturn new File(file).length() &gt; chunkSize;\r\n\t\t}\r\n\t\tprivate static boolean isASplitFileChunk(String file) {\r\n\t\t\treturn chunkIndexLen(file) &gt; 0;\r\n\t\t}\r\n\t\tprivate static int chunkIndexLen(String file) {\r\n\t\t\tint n = numberOfTrailingDigits(file);\r\n\t\t\tif (n &gt; 0) {\r\n\t\t\t\tString zeroes = new String(new char[n]).replace(&quot;\\0&quot;, &quot;0&quot;);\r\n\t\t\t\tif (file.matches(&quot;.*\\\\.part[0-9]{&quot;+n+&quot;}?of[0-9]{&quot;+n+&quot;}?$&quot;) &amp;&amp; !file.endsWith(zeroes) &amp;&amp; !chunkNumberStr(file, n).equals(zeroes)) {\r\n\t\t\t\t\treturn n;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tprivate static String getWholeFileName(String chunkName) {\r\n\t\t\tint n = chunkIndexLen(chunkName);\r\n\t\t\tif (n&gt;0) {\r\n\t\t\t\treturn chunkName.substring(0, chunkName.length() - 7 - 2*n); // 7+2n: 1+4+n+2+n : .part012of345\r\n\t\t\t}\r\n\t\t\treturn chunkName;\r\n\t\t}\r\n\t\tprivate static int getNumberOfChunks(String filename) {\r\n\t\t\tint n = chunkIndexLen(filename);\r\n\t\t\tif (n &gt; 0) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tString digits = chunksTotalStr(filename, n);\r\n\t\t\t\t\treturn Integer.parseInt(digits);\r\n\t\t\t\t} catch (NumberFormatException x) { // should never happen\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\tprivate static int getChunkNumber(String filename) {\r\n\t\t\tint n = chunkIndexLen(filename);\r\n\t\t\tif (n &gt; 0) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// filename.part001of200\r\n\t\t\t\t\tString digits = chunkNumberStr(filename, n);\r\n\t\t\t\t\treturn Integer.parseInt(digits)-1;\r\n\t\t\t\t} catch (NumberFormatException x) {\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tprivate static int numberOfTrailingDigits(String s) {\r\n\t\t\tint n=0, l=s.length()-1;\r\n\t\t\twhile (l&gt;=0 &amp;&amp; Character.isDigit(s.charAt(l))) {\r\n\t\t\t\tn++; l--;\r\n\t\t\t}\r\n\t\t\treturn n;\r\n\t\t}\r\n\t\tprivate static String chunksTotalStr(String filename, int chunkIndexLen) {\r\n\t\t\treturn filename.substring(filename.length()-chunkIndexLen);\r\n\t\t}\r\n\t\tprotected static String chunkNumberStr(String filename, int chunkIndexLen) {\r\n\t\t\tint p = filename.length() - 2 - 2*chunkIndexLen; // 123of456\r\n\t\t\treturn filename.substring(p,p+chunkIndexLen);\r\n\t\t}\r\n\t\t// 0,8 ==&gt; part1of8; 7,8 ==&gt; part8of8\r\n\t\tprivate static String chunkFileName(String filename, int n, int total, int chunkIndexLength) {\r\n\t\t\treturn filename+String.format(&quot;.part%0&quot;+chunkIndexLength+&quot;dof%0&quot;+chunkIndexLength+&quot;d&quot;, n+1, total);\r\n\t\t}\r\n\t\tpublic static String[] splitFile(String fname, long chunkSize) throws IOException {\r\n\t\t\tFileInputStream fis = null;\r\n\t\t\tArrayList&lt;String&gt; res = new ArrayList&lt;String&gt;();\r\n\t\t\tbyte[] buffer = new byte[BUFSIZE];\r\n\t\t\ttry {\r\n\t\t\t\tlong totalSize = new File(fname).length();\r\n\t\t\t\tint nChunks = (int) ((totalSize + chunkSize - 1) / chunkSize);\r\n\t\t\t\tint chunkIndexLength = String.format(&quot;%d&quot;, nChunks).length();\r\n\t\t\t\tfis = new FileInputStream(fname);\r\n\t\t\t\tlong written = 0;\r\n\t\t\t\tfor (int i=0; written&lt;totalSize; i++) {\r\n\t\t\t\t\tString chunkFName = chunkFileName(fname, i, nChunks, chunkIndexLength);\r\n\t\t\t\t\tFileOutputStream fos = new FileOutputStream(chunkFName);\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\twritten += copyStream(fis, buffer, fos, chunkSize);\r\n\t\t\t\t\t} finally {\r\n\t\t\t\t\t\tCloser.closeSilently(fos);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tres.add(chunkFName);\r\n\t\t\t\t}\r\n\t\t\t} finally {\r\n\t\t\t\tCloser.closeSilently(fis);\r\n\t\t\t}\r\n\t\t\treturn res.toArray(new String[0]);\r\n\t\t}\r\n\t\tpublic static boolean canJoinFile(String chunkName) {\r\n\t\t\tint n = chunkIndexLen(chunkName);\r\n\t\t\tif (n&gt;0) {\r\n\t\t\t\tint nChunks = getNumberOfChunks(chunkName);\r\n\t\t\t\tString filename = getWholeFileName(chunkName);\r\n\t\t\t\tfor (int i=0; i&lt;nChunks; i++) {\r\n\t\t\t\t\tif (!new File(chunkFileName(filename, i, nChunks, n)).exists()) {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tpublic static void joinChunks(String chunkName) throws IOException {\r\n\t\t\tint n = chunkIndexLen(chunkName);\r\n\t\t\tif (n&gt;0) {\r\n\t\t\t\tint nChunks = getNumberOfChunks(chunkName);\r\n\t\t\t\tString filename = getWholeFileName(chunkName);\r\n\t\t\t\tbyte[] buffer = new byte[BUFSIZE];\r\n\t\t\t\tFileOutputStream fos = new FileOutputStream(filename);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tfor (int i=0; i&lt;nChunks; i++) {\r\n\t\t\t\t\t\tFileInputStream fis = new FileInputStream(chunkFileName(filename, i, nChunks, n));\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tcopyStream(fis, buffer, fos, -1);\r\n\t\t\t\t\t\t} finally {\r\n\t\t\t\t\t\t\tCloser.closeSilently(fis);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tCloser.closeSilently(fos);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tpublic static boolean deleteAllChunks(String chunkName) {\r\n\t\t\tboolean res = true;\r\n\t\t\tint n = chunkIndexLen(chunkName);\r\n\t\t\tif (n&gt;0) {\r\n\t\t\t\tint nChunks = getNumberOfChunks(chunkName);\r\n\t\t\t\tString filename = getWholeFileName(chunkName);\r\n\t\t\t\tfor (int i=0; i&lt;nChunks; i++) {\r\n\t\t\t\t\tFile f = new File(chunkFileName(filename, i, nChunks, n));\r\n\t\t\t\t\tres &amp;= (f.delete() || !f.exists());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn res;\r\n\t\t}\r\n\t\tprivate static long copyStream(FileInputStream fis, byte[] buffer, FileOutputStream fos, long maxAmount) throws IOException {\r\n\t\t\tlong chunkSizeWritten;\r\n\t\t\tfor (chunkSizeWritten=0; chunkSizeWritten&lt;maxAmount || maxAmount&lt;0; ) {\r\n\t\t\t\tint toRead = maxAmount &lt; 0 ? buffer.length : (int)Math.min(buffer.length, maxAmount - chunkSizeWritten);\r\n\t\t\t\tint lengthRead = fis.read(buffer, 0, toRead);\r\n\t\t\t\tif (lengthRead &lt; 0) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tfos.write(buffer, 0, lengthRead);\r\n\t\t\t\tchunkSizeWritten += lengthRead;\r\n\t\t\t}\r\n\t\t\treturn chunkSizeWritten;\r\n\t\t}\r\n\t}\r\n\r\nBorrow `Closer` [here][1] or [from org.apache.logging.log4j.core.util][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/26654728/755804\r\n  [2]: https://github.com/apache/logging-log4j2/blob/master/log4j-core/src/main/java/org/apache/logging/log4j/core/util/Closer.java","title":"Split and join back a binary file in java","body":"<pre><code>public class FileSplitter {\n    private static final int BUFSIZE = 4*1024;\n    public boolean needsSplitting(String file, int chunkSize) {\n        return new File(file).length() &gt; chunkSize;\n    }\n    private static boolean isASplitFileChunk(String file) {\n        return chunkIndexLen(file) &gt; 0;\n    }\n    private static int chunkIndexLen(String file) {\n        int n = numberOfTrailingDigits(file);\n        if (n &gt; 0) {\n            String zeroes = new String(new char[n]).replace(\"\\0\", \"0\");\n            if (file.matches(\".*\\\\.part[0-9]{\"+n+\"}?of[0-9]{\"+n+\"}?$\") &amp;&amp; !file.endsWith(zeroes) &amp;&amp; !chunkNumberStr(file, n).equals(zeroes)) {\n                return n;\n            }\n        }\n        return 0;\n    }\n    private static String getWholeFileName(String chunkName) {\n        int n = chunkIndexLen(chunkName);\n        if (n&gt;0) {\n            return chunkName.substring(0, chunkName.length() - 7 - 2*n); // 7+2n: 1+4+n+2+n : .part012of345\n        }\n        return chunkName;\n    }\n    private static int getNumberOfChunks(String filename) {\n        int n = chunkIndexLen(filename);\n        if (n &gt; 0) {\n            try {\n                String digits = chunksTotalStr(filename, n);\n                return Integer.parseInt(digits);\n            } catch (NumberFormatException x) { // should never happen\n            }\n        }\n        return 1;\n    }\n    private static int getChunkNumber(String filename) {\n        int n = chunkIndexLen(filename);\n        if (n &gt; 0) {\n            try {\n                // filename.part001of200\n                String digits = chunkNumberStr(filename, n);\n                return Integer.parseInt(digits)-1;\n            } catch (NumberFormatException x) {\n            }\n        }\n        return 0;\n    }\n    private static int numberOfTrailingDigits(String s) {\n        int n=0, l=s.length()-1;\n        while (l&gt;=0 &amp;&amp; Character.isDigit(s.charAt(l))) {\n            n++; l--;\n        }\n        return n;\n    }\n    private static String chunksTotalStr(String filename, int chunkIndexLen) {\n        return filename.substring(filename.length()-chunkIndexLen);\n    }\n    protected static String chunkNumberStr(String filename, int chunkIndexLen) {\n        int p = filename.length() - 2 - 2*chunkIndexLen; // 123of456\n        return filename.substring(p,p+chunkIndexLen);\n    }\n    // 0,8 ==&gt; part1of8; 7,8 ==&gt; part8of8\n    private static String chunkFileName(String filename, int n, int total, int chunkIndexLength) {\n        return filename+String.format(\".part%0\"+chunkIndexLength+\"dof%0\"+chunkIndexLength+\"d\", n+1, total);\n    }\n    public static String[] splitFile(String fname, long chunkSize) throws IOException {\n        FileInputStream fis = null;\n        ArrayList&lt;String&gt; res = new ArrayList&lt;String&gt;();\n        byte[] buffer = new byte[BUFSIZE];\n        try {\n            long totalSize = new File(fname).length();\n            int nChunks = (int) ((totalSize + chunkSize - 1) / chunkSize);\n            int chunkIndexLength = String.format(\"%d\", nChunks).length();\n            fis = new FileInputStream(fname);\n            long written = 0;\n            for (int i=0; written&lt;totalSize; i++) {\n                String chunkFName = chunkFileName(fname, i, nChunks, chunkIndexLength);\n                FileOutputStream fos = new FileOutputStream(chunkFName);\n                try {\n                    written += copyStream(fis, buffer, fos, chunkSize);\n                } finally {\n                    Closer.closeSilently(fos);\n                }\n                res.add(chunkFName);\n            }\n        } finally {\n            Closer.closeSilently(fis);\n        }\n        return res.toArray(new String[0]);\n    }\n    public static boolean canJoinFile(String chunkName) {\n        int n = chunkIndexLen(chunkName);\n        if (n&gt;0) {\n            int nChunks = getNumberOfChunks(chunkName);\n            String filename = getWholeFileName(chunkName);\n            for (int i=0; i&lt;nChunks; i++) {\n                if (!new File(chunkFileName(filename, i, nChunks, n)).exists()) {\n                    return false;\n                }\n            }\n            return true;\n        }\n        return false;\n    }\n    public static void joinChunks(String chunkName) throws IOException {\n        int n = chunkIndexLen(chunkName);\n        if (n&gt;0) {\n            int nChunks = getNumberOfChunks(chunkName);\n            String filename = getWholeFileName(chunkName);\n            byte[] buffer = new byte[BUFSIZE];\n            FileOutputStream fos = new FileOutputStream(filename);\n            try {\n                for (int i=0; i&lt;nChunks; i++) {\n                    FileInputStream fis = new FileInputStream(chunkFileName(filename, i, nChunks, n));\n                    try {\n                        copyStream(fis, buffer, fos, -1);\n                    } finally {\n                        Closer.closeSilently(fis);\n                    }\n                }\n            } finally {\n                Closer.closeSilently(fos);\n            }\n        }\n    }\n    public static boolean deleteAllChunks(String chunkName) {\n        boolean res = true;\n        int n = chunkIndexLen(chunkName);\n        if (n&gt;0) {\n            int nChunks = getNumberOfChunks(chunkName);\n            String filename = getWholeFileName(chunkName);\n            for (int i=0; i&lt;nChunks; i++) {\n                File f = new File(chunkFileName(filename, i, nChunks, n));\n                res &amp;= (f.delete() || !f.exists());\n            }\n        }\n        return res;\n    }\n    private static long copyStream(FileInputStream fis, byte[] buffer, FileOutputStream fos, long maxAmount) throws IOException {\n        long chunkSizeWritten;\n        for (chunkSizeWritten=0; chunkSizeWritten&lt;maxAmount || maxAmount&lt;0; ) {\n            int toRead = maxAmount &lt; 0 ? buffer.length : (int)Math.min(buffer.length, maxAmount - chunkSizeWritten);\n            int lengthRead = fis.read(buffer, 0, toRead);\n            if (lengthRead &lt; 0) {\n                break;\n            }\n            fos.write(buffer, 0, lengthRead);\n            chunkSizeWritten += lengthRead;\n        }\n        return chunkSizeWritten;\n    }\n}\n</code></pre>\n\n<p>Borrow <code>Closer</code> <a href=\"https://stackoverflow.com/a/26654728/755804\">here</a> or <a href=\"https://github.com/apache/logging-log4j2/blob/master/log4j-core/src/main/java/org/apache/logging/log4j/core/util/Closer.java\" rel=\"nofollow noreferrer\">from org.apache.logging.log4j.core.util</a>.</p>\n"},{"tags":[],"owner":{"account_id":19374782,"reputation":53,"user_id":14167283,"display_name":"Reza Dizaji"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661909131,"creation_date":1661909131,"answer_id":73549980,"question_id":4431945,"body_markdown":"I wrote a Kotlin version of original &quot;splitting a file&quot; part of code. I didn&#39;t solve the above mentioned problem with file names because I&#39;m uploading the chunks in order to drive API and I think that&#39;s a problem for the Drive API to solve how to glue chunks back together.\r\n\r\nAnyway, since it took me a while to figure out what exactly happening because lack of documentation on original code, I thought why not help others understand it better.\r\n\r\nAlso as a final note I wanna add the fact that I modified the code a little bit to be a function and return a list of files.\r\n\r\nHere&#39;s the code:\r\n\r\n    private fun splitFile(file: File, chunkSize: Int = 524288): List&lt;File&gt; {\r\n        val resultedFiles = mutableListOf&lt;File&gt;()\r\n\r\n        // This will read file data for us\r\n        val inputStream = FileInputStream(file)\r\n\r\n        // At first, all file size is remained to be processed\r\n        var remainingDataSize = file.length()\r\n        // We have 0 chunks at first\r\n        var nChunks = 0\r\n        // Every chunk size is the requested size except for the last chunk\r\n        var currentChunkSize = chunkSize\r\n\r\n        // While data is remained to be read\r\n        while (remainingDataSize &gt; 0) {\r\n            // If remaining data size is less than chunk size then change last chunk size to remaining size\r\n            if (remainingDataSize &lt;= chunkSize) {\r\n                currentChunkSize = remainingDataSize.toInt()\r\n            }\r\n\r\n            // Initialize a byteArray for our chunk data\r\n            val byteChunk = ByteArray(currentChunkSize)\r\n\r\n            /** Read data from file to our byteChunk as much as needed.\r\n             * We don&#39;t have to specify an $offset parameter for this method\r\n             * because we initialized inputStream before the loop and it remembers\r\n             * to which point it has read the data.*/\r\n            val read = inputStream.read(byteChunk, 0, currentChunkSize)\r\n            // Subtract the read data size from remainingDataSize\r\n            remainingDataSize -= read\r\n\r\n            // Assert that we read as much as calculated.\r\n            assert(read == byteChunk.size) { &quot;There was a problem in chunk size calculations or reading process.&quot; }\r\n\r\n            // We are going to add a chunk to our resulted\r\n            nChunks++\r\n\r\n            // Initialize new file\r\n            val newFileName = file.name + &quot;.part&quot; + nChunks\r\n            val newFile = File(file.parent, newFileName)\r\n\r\n            try {\r\n                // Write data to our new file\r\n                FileOutputStream(newFile).run {\r\n                    write(byteChunk)\r\n                    flush()\r\n                    close()\r\n                }\r\n            } catch (e: Exception) {\r\n                if (e is FileNotFoundException) Log.e(\r\n                    TAG,\r\n                    &quot;splitFile: File not found: ${e.message}&quot;,\r\n                    e\r\n                )\r\n                else if (e is SecurityException) Log.e(\r\n                    TAG,\r\n                    &quot;splitFile: Security error: ${e.message}&quot;,\r\n                    e\r\n                )\r\n            }\r\n            // Add the new file to result list\r\n            resultedFiles.add(newFile)\r\n        }\r\n        inputStream.close()\r\n\r\n        return resultedFiles\r\n    }\r\n\r\nAlso I think it worth mentioning that it&#39;s better to delete the files after using to prevent your app&#39;s size getting large for no reason. Every file object has a `.delete()` method.","title":"Split and join back a binary file in java","body":"<p>I wrote a Kotlin version of original &quot;splitting a file&quot; part of code. I didn't solve the above mentioned problem with file names because I'm uploading the chunks in order to drive API and I think that's a problem for the Drive API to solve how to glue chunks back together.</p>\n<p>Anyway, since it took me a while to figure out what exactly happening because lack of documentation on original code, I thought why not help others understand it better.</p>\n<p>Also as a final note I wanna add the fact that I modified the code a little bit to be a function and return a list of files.</p>\n<p>Here's the code:</p>\n<pre><code>private fun splitFile(file: File, chunkSize: Int = 524288): List&lt;File&gt; {\n    val resultedFiles = mutableListOf&lt;File&gt;()\n\n    // This will read file data for us\n    val inputStream = FileInputStream(file)\n\n    // At first, all file size is remained to be processed\n    var remainingDataSize = file.length()\n    // We have 0 chunks at first\n    var nChunks = 0\n    // Every chunk size is the requested size except for the last chunk\n    var currentChunkSize = chunkSize\n\n    // While data is remained to be read\n    while (remainingDataSize &gt; 0) {\n        // If remaining data size is less than chunk size then change last chunk size to remaining size\n        if (remainingDataSize &lt;= chunkSize) {\n            currentChunkSize = remainingDataSize.toInt()\n        }\n\n        // Initialize a byteArray for our chunk data\n        val byteChunk = ByteArray(currentChunkSize)\n\n        /** Read data from file to our byteChunk as much as needed.\n         * We don't have to specify an $offset parameter for this method\n         * because we initialized inputStream before the loop and it remembers\n         * to which point it has read the data.*/\n        val read = inputStream.read(byteChunk, 0, currentChunkSize)\n        // Subtract the read data size from remainingDataSize\n        remainingDataSize -= read\n\n        // Assert that we read as much as calculated.\n        assert(read == byteChunk.size) { &quot;There was a problem in chunk size calculations or reading process.&quot; }\n\n        // We are going to add a chunk to our resulted\n        nChunks++\n\n        // Initialize new file\n        val newFileName = file.name + &quot;.part&quot; + nChunks\n        val newFile = File(file.parent, newFileName)\n\n        try {\n            // Write data to our new file\n            FileOutputStream(newFile).run {\n                write(byteChunk)\n                flush()\n                close()\n            }\n        } catch (e: Exception) {\n            if (e is FileNotFoundException) Log.e(\n                TAG,\n                &quot;splitFile: File not found: ${e.message}&quot;,\n                e\n            )\n            else if (e is SecurityException) Log.e(\n                TAG,\n                &quot;splitFile: Security error: ${e.message}&quot;,\n                e\n            )\n        }\n        // Add the new file to result list\n        resultedFiles.add(newFile)\n    }\n    inputStream.close()\n\n    return resultedFiles\n}\n</code></pre>\n<p>Also I think it worth mentioning that it's better to delete the files after using to prevent your app's size getting large for no reason. Every file object has a <code>.delete()</code> method.</p>\n"}],"owner":{"account_id":137871,"reputation":1149,"user_id":342390,"accept_rate":89,"display_name":"Vinay Pandey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21945,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":4432066,"answer_count":8,"score":21,"last_activity_date":1661909131,"creation_date":1292263459,"question_id":4431945,"body_markdown":"I am trying to divide a binary file (like video/audio/image) into chunks of 100kb each and then join those chunks back to get back the original file.\r\nMy code seems to be working, in the sense that it divides the file and joins the chunks, the file I get back is of the same size as original. However, the problem is that the contents get truncated - that is, if it&#39;s a video file it stops after 2 seconds, if it is image file then only the upper part looks correct.\r\n\r\nHere is the code I am using (I can post the entire code if you like):\r\n\r\nFor dividing:\r\n\r\n    File ifile = new File(fname); \r\n    FileInputStream fis;\r\n    String newName;\r\n    FileOutputStream chunk;\r\n    int fileSize = (int) ifile.length();\r\n    int nChunks = 0, read = 0, readLength = Chunk_Size;\r\n    byte[] byteChunk;\r\n    try {\r\n        fis = new FileInputStream(ifile);\r\n        StupidTest.size = (int)ifile.length();\r\n        while (fileSize &gt; 0) {\r\n            if (fileSize &lt;= Chunk_Size) {\r\n                readLength = fileSize;\r\n            }\r\n            byteChunk = new byte[readLength];\r\n            read = fis.read(byteChunk, 0, readLength);\r\n            fileSize -= read;\r\n            assert(read==byteChunk.length);\r\n            nChunks++;\r\n            newName = fname + &quot;.part&quot; + Integer.toString(nChunks - 1);\r\n            chunk = new FileOutputStream(new File(newName));\r\n            chunk.write(byteChunk);\r\n            chunk.flush();\r\n            chunk.close();\r\n            byteChunk = null;\r\n            chunk = null;\r\n        }\r\n        fis.close();\r\n        fis = null;\r\n\r\nAnd for joining file, I put the names of all chunks in a List&lt;File&gt;, then sort it by name and then run the following code:\r\n\r\n    File ofile = new File(fname);\r\n    FileOutputStream fos;\r\n    FileInputStream fis;\r\n    byte[] fileBytes;\r\n    int bytesRead = 0;\r\n    try {\r\n        fos = new FileOutputStream(ofile,true);\t\t\t\t\r\n        for (File file : files) {\r\n            fis = new FileInputStream(file);\r\n            fileBytes = new byte[(int) file.length()];\r\n            bytesRead = fis.read(fileBytes, 0,(int)  file.length());\r\n            assert(bytesRead == fileBytes.length);\r\n            assert(bytesRead == (int) file.length());\r\n            fos.write(fileBytes);\r\n            fos.flush();\r\n            fileBytes = null;\r\n            fis.close();\r\n            fis = null;\r\n        }\r\n        fos.close();\r\n        fos = null;","title":"Split and join back a binary file in java","body":"<p>I am trying to divide a binary file (like video/audio/image) into chunks of 100kb each and then join those chunks back to get back the original file.\nMy code seems to be working, in the sense that it divides the file and joins the chunks, the file I get back is of the same size as original. However, the problem is that the contents get truncated - that is, if it's a video file it stops after 2 seconds, if it is image file then only the upper part looks correct.</p>\n\n<p>Here is the code I am using (I can post the entire code if you like):</p>\n\n<p>For dividing:</p>\n\n<pre><code>File ifile = new File(fname); \nFileInputStream fis;\nString newName;\nFileOutputStream chunk;\nint fileSize = (int) ifile.length();\nint nChunks = 0, read = 0, readLength = Chunk_Size;\nbyte[] byteChunk;\ntry {\n    fis = new FileInputStream(ifile);\n    StupidTest.size = (int)ifile.length();\n    while (fileSize &gt; 0) {\n        if (fileSize &lt;= Chunk_Size) {\n            readLength = fileSize;\n        }\n        byteChunk = new byte[readLength];\n        read = fis.read(byteChunk, 0, readLength);\n        fileSize -= read;\n        assert(read==byteChunk.length);\n        nChunks++;\n        newName = fname + \".part\" + Integer.toString(nChunks - 1);\n        chunk = new FileOutputStream(new File(newName));\n        chunk.write(byteChunk);\n        chunk.flush();\n        chunk.close();\n        byteChunk = null;\n        chunk = null;\n    }\n    fis.close();\n    fis = null;\n</code></pre>\n\n<p>And for joining file, I put the names of all chunks in a List, then sort it by name and then run the following code:</p>\n\n<pre><code>File ofile = new File(fname);\nFileOutputStream fos;\nFileInputStream fis;\nbyte[] fileBytes;\nint bytesRead = 0;\ntry {\n    fos = new FileOutputStream(ofile,true);             \n    for (File file : files) {\n        fis = new FileInputStream(file);\n        fileBytes = new byte[(int) file.length()];\n        bytesRead = fis.read(fileBytes, 0,(int)  file.length());\n        assert(bytesRead == fileBytes.length);\n        assert(bytesRead == (int) file.length());\n        fos.write(fileBytes);\n        fos.flush();\n        fileBytes = null;\n        fis.close();\n        fis = null;\n    }\n    fos.close();\n    fos = null;\n</code></pre>\n"},{"tags":["java","processing"],"comments":[{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1661906381,"post_id":73549474,"comment_id":129881677,"body_markdown":"Since it&#39;s a 2-dimensional array of integers, it&#39;s an array **of arrays** of integers. Right? So. Look again at the [main documentation page, one level up from the example](https://processing.org/reference/JSONArray.html). Do you see anything relevant to access an array from the array-of-arrays? Anyway, please read [ask] and try to ask a *specific* question, [rather than](https://meta.stackoverflow.com/questions/284236) &quot;any help is appreciated&quot;.","body":"Since it&#39;s a 2-dimensional array of integers, it&#39;s an array <b>of arrays</b> of integers. Right? So. Look again at the <a href=\"https://processing.org/reference/JSONArray.html\" rel=\"nofollow noreferrer\">main documentation page, one level up from the example</a>. Do you see anything relevant to access an array from the array-of-arrays? Anyway, please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and try to ask a <i>specific</i> question, <a href=\"https://meta.stackoverflow.com/questions/284236\">rather than</a> &quot;any help is appreciated&quot;."},{"owner":{"account_id":21359225,"reputation":61,"user_id":15727897,"display_name":"declandeclandeclan"},"score":0,"creation_date":1661907607,"post_id":73549474,"comment_id":129881834,"body_markdown":"@KarlKnechtel I did look at that page, and I did not see anything of use. Perhaps I missed something. I can&#39;t tell if you are being helpful or just condescending. Also, is my title not a specific question? &quot;Any help is appreciated&quot; is not the question I asked. I asked _specifically_, &quot;How can I load a 2D array of integers from a JSON file?&quot;","body":"@KarlKnechtel I did look at that page, and I did not see anything of use. Perhaps I missed something. I can&#39;t tell if you are being helpful or just condescending. Also, is my title not a specific question? &quot;Any help is appreciated&quot; is not the question I asked. I asked <i>specifically</i>, &quot;How can I load a 2D array of integers from a JSON file?&quot;"}],"answers":[{"tags":[],"owner":{"account_id":16801428,"reputation":910,"user_id":12146581,"display_name":"Mohamad Ghaith Alzin"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1661905959,"creation_date":1661905959,"answer_id":73549739,"question_id":73549474,"body_markdown":"\r\nYou need to do it like this: using **getJSONArray()**\r\n\r\n    JSONObject currentLevel;\r\n    currentLevel = loadJSONObject(&quot;assets/levels/test_level.json&quot;);\r\n    \r\n    JSONArray array = currentLevel.getJSONArray(&quot;floor&quot;);\r\n\r\n    print(array)\r\n\r\nRef:\r\n\r\n[JSONArray_getJSONArray](https://processing.org/reference/JSONArray_getJSONArray_.html)\r\n\r\n","title":"How can I load a 2D array of integers from a JSON file?","body":"<p>You need to do it like this: using <strong>getJSONArray()</strong></p>\n<pre><code>JSONObject currentLevel;\ncurrentLevel = loadJSONObject(&quot;assets/levels/test_level.json&quot;);\n\nJSONArray array = currentLevel.getJSONArray(&quot;floor&quot;);\n\nprint(array)\n</code></pre>\n<p>Ref:</p>\n<p><a href=\"https://processing.org/reference/JSONArray_getJSONArray_.html\" rel=\"nofollow noreferrer\">JSONArray_getJSONArray</a></p>\n"},{"tags":[],"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661908362,"creation_date":1661908362,"answer_id":73549922,"question_id":73549474,"body_markdown":"From the [documentation, one level up](https://processing.org/reference/JSONArray.html):\r\n\r\n&gt; `getJSONArray()`: Retrieves the `JSONArray` with the associated index value\r\n\r\nAfter we get the `floor` data (e.g. `floor = currentlevel.getJSONArray(&quot;floor&quot;)`), it is itself an array *of arrays* of integers. Processing represents this with its `JSONArray` type, which apparently does not support indexing. We also cannot convert it to a plain array of integers, because it *doesn&#39;t represent one* - in the same way that we cannot treat an `int[][]` as if it were an `int[]` in Java.\r\n\r\nInstead: use `getJSONArray` on `floor` to get the individual arrays of integers; and *those* can then be converted using `getIntArray`.","title":"How can I load a 2D array of integers from a JSON file?","body":"<p>From the <a href=\"https://processing.org/reference/JSONArray.html\" rel=\"nofollow noreferrer\">documentation, one level up</a>:</p>\n<blockquote>\n<p><code>getJSONArray()</code>: Retrieves the <code>JSONArray</code> with the associated index value</p>\n</blockquote>\n<p>After we get the <code>floor</code> data (e.g. <code>floor = currentlevel.getJSONArray(&quot;floor&quot;)</code>), it is itself an array <em>of arrays</em> of integers. Processing represents this with its <code>JSONArray</code> type, which apparently does not support indexing. We also cannot convert it to a plain array of integers, because it <em>doesn't represent one</em> - in the same way that we cannot treat an <code>int[][]</code> as if it were an <code>int[]</code> in Java.</p>\n<p>Instead: use <code>getJSONArray</code> on <code>floor</code> to get the individual arrays of integers; and <em>those</em> can then be converted using <code>getIntArray</code>.</p>\n"}],"owner":{"account_id":21359225,"reputation":61,"user_id":15727897,"display_name":"declandeclandeclan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1661908362,"creation_date":1661902861,"question_id":73549474,"body_markdown":"I have a JSON file that, among other things, contains various 2D arrays. [Here][1] is a link to a copy of the file. I want to load things such as &quot;floor&quot; into an int[][] array. I can&#39;t seem to find any way to do that. I might also be storing the array incorrectly, I&#39;m not sure. I create the JSON file with a python script. \r\n\r\nWhen I use processing&#39;s &quot;loadJSONObject&quot; function and access &quot;floor&quot;, it says that it is a &quot;processing.data.JSONArray&quot; but I can&#39;t index it like a normal array. If I try to, it gives the error &quot;The type of the expression must be an array type but it resolved to Object&quot;\r\n\r\nIf I try to index it with &quot;.getIntArray&quot; like in [this](https://processing.org/reference/JSONArray_getIntArray_.html) example, it gives the error &quot;The function getIntArray() does not exist.&quot;\r\n\r\nHere is some code, since I can&#39;t link pastebin without it: \r\n\r\n```\r\nJSONObject currentLevel;\r\ncurrentLevel = loadJSONObject(&quot;assets/levels/test_level.json&quot;);\r\nprintln(currentLevel.get(&quot;floor&quot;).getIntArray());\r\n```\r\n\r\nAny help is appreciated, thanks.\r\n\r\n\r\n  [1]: https://pastebin.com/KcFmScXT","title":"How can I load a 2D array of integers from a JSON file?","body":"<p>I have a JSON file that, among other things, contains various 2D arrays. <a href=\"https://pastebin.com/KcFmScXT\" rel=\"nofollow noreferrer\">Here</a> is a link to a copy of the file. I want to load things such as &quot;floor&quot; into an int[][] array. I can't seem to find any way to do that. I might also be storing the array incorrectly, I'm not sure. I create the JSON file with a python script.</p>\n<p>When I use processing's &quot;loadJSONObject&quot; function and access &quot;floor&quot;, it says that it is a &quot;processing.data.JSONArray&quot; but I can't index it like a normal array. If I try to, it gives the error &quot;The type of the expression must be an array type but it resolved to Object&quot;</p>\n<p>If I try to index it with &quot;.getIntArray&quot; like in <a href=\"https://processing.org/reference/JSONArray_getIntArray_.html\" rel=\"nofollow noreferrer\">this</a> example, it gives the error &quot;The function getIntArray() does not exist.&quot;</p>\n<p>Here is some code, since I can't link pastebin without it:</p>\n<pre><code>JSONObject currentLevel;\ncurrentLevel = loadJSONObject(&quot;assets/levels/test_level.json&quot;);\nprintln(currentLevel.get(&quot;floor&quot;).getIntArray());\n</code></pre>\n<p>Any help is appreciated, thanks.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1642614895,"post_id":70775408,"comment_id":125120487,"body_markdown":"when it is &quot;optional&quot;, then why (small) `boolean` not `Boolean` or even `Optional&lt;Boolean&gt;` ?","body":"when it is &quot;optional&quot;, then why (small) <code>boolean</code> not <code>Boolean</code> or even <code>Optional&lt;Boolean&gt;</code> ?"},{"owner":{"account_id":22259865,"reputation":139,"user_id":16491467,"display_name":"Akcore"},"score":0,"creation_date":1642620703,"post_id":70775408,"comment_id":125122586,"body_markdown":"@xerx593 Even with `Boolean` instead of `boolean` for the optional param, `response.getBody()` return null. With it as it currently is, it doesn&#39;t even exit the `postForEntity` function.","body":"@xerx593 Even with <code>Boolean</code> instead of <code>boolean</code> for the optional param, <code>response.getBody()</code> return null. With it as it currently is, it doesn&#39;t even exit the <code>postForEntity</code> function."}],"answers":[{"tags":[],"owner":{"account_id":22259865,"reputation":139,"user_id":16491467,"display_name":"Akcore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642776437,"creation_date":1642714534,"answer_id":70793711,"question_id":70775408,"body_markdown":"I&#39;m not exactly sure why, but the return contentType() in the controller return needed to be removed. For some reason Jackson was not parsing the return type properly. Then either a primitive `boolean` or the class `Boolean` works.","title":"Spring Boot: How to Add Params to TestRestTemplate.postForEntity?","body":"<p>I'm not exactly sure why, but the return contentType() in the controller return needed to be removed. For some reason Jackson was not parsing the return type properly. Then either a primitive <code>boolean</code> or the class <code>Boolean</code> works.</p>\n"},{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661907805,"creation_date":1661907805,"answer_id":73549881,"question_id":70775408,"body_markdown":"Main problem, is that your implementation tries to respond with `text/plain` without registering any `Boolean` to `text/plain` converter.\r\n\r\nYou have several options to solve that:\r\n1. Just return (response with) the &quot;default (media) type&quot;:\r\n\r\n       return ResponseEntity\r\n        .ok()\r\n        .body(rr);\r\n\r\n2. If you *need* to respond with text/plain, then \r\n\r\n   a. `ResponseEntity&lt;String&gt;` would be the straight-forward solution:\r\n       \r\n       @PostMapping(value = &quot;/test2&quot;)\r\n       public ResponseEntity&lt;String&gt; // String!!!  not Boolean ... {\r\n         return ResponseEntity\r\n          .ok()\r\n          .contentType(MediaType.TEXT_PLAIN) // explicit media type here or as @PostMapping.produces attribute\r\n          .body(String.valueOf(rr)); // convert the boolean here\r\n       }\r\n\r\n   b. Or to *really* register a custom(ized) (Boolean&lt;-&gt;text/plain) converter ...\r\n\r\nThen we could test 1. (with TestRestTemplate) like:\r\n\r\n        @Test\r\n        public void test1() throws URISyntaxException {\r\n          final String baseUrl = &quot;http://localhost:&quot; + randomServerPort + &quot;/test/&quot;;\r\n          URI uri = new URI(baseUrl);\r\n          // true:\r\n          ResponseEntity&lt;Boolean&gt; result = this.restTemplate.postForEntity(uri + &quot;?update=true&quot;, null /*here goes normally the &quot;post body&quot;/entity*/, Boolean.class);\r\n\r\n          assertThat(result.getStatusCodeValue()).isEqualTo(HttpStatus.OK.value());\r\n          assertThat(result.getBody()).isTrue();\r\n        }\r\n\r\nand 2. accordingly with string result:\r\n\r\n        @Test\r\n        public void test2() throws URISyntaxException {\r\n          final String baseUrl = &quot;http://localhost:&quot; + randomServerPort + &quot;/test2/&quot;;\r\n          URI uri = new URI(baseUrl);\r\n          ResponseEntity&lt;String&gt; result = this.restTemplate.postForEntity(uri + &quot;?update=true&quot;, null, String.class);\r\n\r\n          assertThat(result.getStatusCodeValue()).isEqualTo(HttpStatus.OK.value());\r\n          assertThat(Boolean.valueOf(result.getBody())).isTrue();\r\n        }\r\n\r\nPlease consider, we have several (out-of-the-box) options regarding &quot;content encoding&quot; and &quot;how to pass this `update` parameter&quot;.\r\n\r\nFor brevity, simplicity and lack of need I omit any post objects and headers (`null`, which would go as the second method argument), and passed the only parameter as &quot;URI parameter&quot;.\r\n\r\n\r\n----------\r\n\r\n\r\nAlso consider the note on [`RestTemplate`][1], which could also be applied to `TerstRestTemplate`:\r\n\r\n&gt;**NOTE**: As of 5.0 this class is in maintenance mode, with only minor requests for changes and bugs to be accepted going forward. Please, consider using the `org.springframework.web.reactive.client.WebClient` which has a more modern API and supports sync, async, and streaming scenarios.\r\n\r\n   \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html","title":"Spring Boot: How to Add Params to TestRestTemplate.postForEntity?","body":"<p>Main problem, is that your implementation tries to respond with <code>text/plain</code> without registering any <code>Boolean</code> to <code>text/plain</code> converter.</p>\n<p>You have several options to solve that:</p>\n<ol>\n<li><p>Just return (response with) the &quot;default (media) type&quot;:</p>\n<pre><code>return ResponseEntity\n .ok()\n .body(rr);\n</code></pre>\n</li>\n<li><p>If you <em>need</em> to respond with text/plain, then</p>\n<p>a. <code>ResponseEntity&lt;String&gt;</code> would be the straight-forward solution:</p>\n<pre><code>@PostMapping(value = &quot;/test2&quot;)\npublic ResponseEntity&lt;String&gt; // String!!!  not Boolean ... {\n  return ResponseEntity\n   .ok()\n   .contentType(MediaType.TEXT_PLAIN) // explicit media type here or as @PostMapping.produces attribute\n   .body(String.valueOf(rr)); // convert the boolean here\n}\n</code></pre>\n<p>b. Or to <em>really</em> register a custom(ized) (Boolean&lt;-&gt;text/plain) converter ...</p>\n</li>\n</ol>\n<p>Then we could test 1. (with TestRestTemplate) like:</p>\n<pre><code>    @Test\n    public void test1() throws URISyntaxException {\n      final String baseUrl = &quot;http://localhost:&quot; + randomServerPort + &quot;/test/&quot;;\n      URI uri = new URI(baseUrl);\n      // true:\n      ResponseEntity&lt;Boolean&gt; result = this.restTemplate.postForEntity(uri + &quot;?update=true&quot;, null /*here goes normally the &quot;post body&quot;/entity*/, Boolean.class);\n\n      assertThat(result.getStatusCodeValue()).isEqualTo(HttpStatus.OK.value());\n      assertThat(result.getBody()).isTrue();\n    }\n</code></pre>\n<p>and 2. accordingly with string result:</p>\n<pre><code>    @Test\n    public void test2() throws URISyntaxException {\n      final String baseUrl = &quot;http://localhost:&quot; + randomServerPort + &quot;/test2/&quot;;\n      URI uri = new URI(baseUrl);\n      ResponseEntity&lt;String&gt; result = this.restTemplate.postForEntity(uri + &quot;?update=true&quot;, null, String.class);\n\n      assertThat(result.getStatusCodeValue()).isEqualTo(HttpStatus.OK.value());\n      assertThat(Boolean.valueOf(result.getBody())).isTrue();\n    }\n</code></pre>\n<p>Please consider, we have several (out-of-the-box) options regarding &quot;content encoding&quot; and &quot;how to pass this <code>update</code> parameter&quot;.</p>\n<p>For brevity, simplicity and lack of need I omit any post objects and headers (<code>null</code>, which would go as the second method argument), and passed the only parameter as &quot;URI parameter&quot;.</p>\n<hr />\n<p>Also consider the note on <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html\" rel=\"nofollow noreferrer\"><code>RestTemplate</code></a>, which could also be applied to <code>TerstRestTemplate</code>:</p>\n<blockquote>\n<p><strong>NOTE</strong>: As of 5.0 this class is in maintenance mode, with only minor requests for changes and bugs to be accepted going forward. Please, consider using the <code>org.springframework.web.reactive.client.WebClient</code> which has a more modern API and supports sync, async, and streaming scenarios.</p>\n</blockquote>\n"}],"owner":{"account_id":22259865,"reputation":139,"user_id":16491467,"display_name":"Akcore"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":602,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1661907805,"creation_date":1642614477,"question_id":70775408,"body_markdown":"I am trying to add parameters to a `postForEntity` request but it seems to never go through. Here is the minimum reproducible code:\r\n\r\n    @Test\r\n    public void test()\r\n    {\r\n        String urlTemplate = UriComponentsBuilder.fromHttpUrl(&quot;http://localhost:8080/test&quot;)\r\n                .queryParam(&quot;update&quot;)\r\n                // .queryParam(&quot;update&quot;, &quot;{update}&quot;) //This does not work either\r\n                .encode()\r\n                .toUriString();\r\n\r\n        HashMap&lt;String, String&gt; paramValues = new HashMap&lt;&gt;();\r\n        paramValues.put(&quot;update&quot;, &quot;true&quot;);\r\n\r\n        HttpEntity&lt;AnimateRequest&gt; httpEntity = new HttpEntity&lt;&gt;(null, new HttpHeaders());\r\n\r\n        ResponseEntity&lt;Boolean&gt; response = this.template.postForEntity(\r\n                urlTemplate,\r\n                httpEntity,\r\n                Boolean.class,\r\n                paramValues);\r\n        boolean bb = response.getBody();\r\n    }\r\n\r\n\r\nIn a controller:\r\n\r\n    @PostMapping(value = &quot;/test&quot;)\r\n    public ResponseEntity&lt;Boolean&gt; tester(@RequestParam(name=&quot;update&quot;, required = false) boolean rr)\r\n    {\r\n        return ResponseEntity\r\n                .ok()\r\n                .contentType(MediaType.TEXT_PLAIN)\r\n                .body(rr);\r\n    }\r\n\r\nErrors with:\r\n\r\n    org.springframework.web.client.RestClientException: Error while extracting response for type [class java.lang.Boolean] and content type [application/json]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize instance of `java.lang.Boolean` out of START_OBJECT token; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.lang.Boolean` out of START_OBJECT token\r\n at [Source: (PushbackInputStream); line: 1, column: 1]","title":"Spring Boot: How to Add Params to TestRestTemplate.postForEntity?","body":"<p>I am trying to add parameters to a <code>postForEntity</code> request but it seems to never go through. Here is the minimum reproducible code:</p>\n<pre><code>@Test\npublic void test()\n{\n    String urlTemplate = UriComponentsBuilder.fromHttpUrl(&quot;http://localhost:8080/test&quot;)\n            .queryParam(&quot;update&quot;)\n            // .queryParam(&quot;update&quot;, &quot;{update}&quot;) //This does not work either\n            .encode()\n            .toUriString();\n\n    HashMap&lt;String, String&gt; paramValues = new HashMap&lt;&gt;();\n    paramValues.put(&quot;update&quot;, &quot;true&quot;);\n\n    HttpEntity&lt;AnimateRequest&gt; httpEntity = new HttpEntity&lt;&gt;(null, new HttpHeaders());\n\n    ResponseEntity&lt;Boolean&gt; response = this.template.postForEntity(\n            urlTemplate,\n            httpEntity,\n            Boolean.class,\n            paramValues);\n    boolean bb = response.getBody();\n}\n</code></pre>\n<p>In a controller:</p>\n<pre><code>@PostMapping(value = &quot;/test&quot;)\npublic ResponseEntity&lt;Boolean&gt; tester(@RequestParam(name=&quot;update&quot;, required = false) boolean rr)\n{\n    return ResponseEntity\n            .ok()\n            .contentType(MediaType.TEXT_PLAIN)\n            .body(rr);\n}\n</code></pre>\n<p>Errors with:</p>\n<pre><code>org.springframework.web.client.RestClientException: Error while extracting response for type [class java.lang.Boolean] and content type [application/json]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize instance of `java.lang.Boolean` out of START_OBJECT token; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.lang.Boolean` out of START_OBJECT token\n</code></pre>\n<p>at [Source: (PushbackInputStream); line: 1, column: 1]</p>\n"},{"tags":["java","database","spring-boot"],"comments":[{"owner":{"account_id":15925517,"reputation":87,"user_id":11491219,"display_name":"Shail"},"score":0,"creation_date":1661767899,"post_id":73527080,"comment_id":129841924,"body_markdown":"storing images into db is a bad idea due to multiple reasons; Rather I would suggest to store the images into file system and store the link for the image into your db table.","body":"storing images into db is a bad idea due to multiple reasons; Rather I would suggest to store the images into file system and store the link for the image into your db table."},{"owner":{"account_id":12331407,"reputation":284,"user_id":8997268,"display_name":"Umesh Sulakude"},"score":0,"creation_date":1661769398,"post_id":73527080,"comment_id":129842375,"body_markdown":"You can use BLOB , yes it is bad idea , better store the image cloud like s3 and get the url and store those url in DB columns.","body":"You can use BLOB , yes it is bad idea , better store the image cloud like s3 and get the url and store those url in DB columns."}],"answers":[{"tags":[],"owner":{"account_id":8361884,"reputation":24,"user_id":6279883,"display_name":"Parinda Amin"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1661799577,"creation_date":1661771098,"answer_id":73527830,"question_id":73527080,"body_markdown":"Take  \r\n\r\n    private byte[] photo;\r\n    \r\nin your entity class. And in the database set the datatype to byte array.\r\n\r\nStore the base64-encoded photo in the database.\r\n\r\n","title":"How to insert a photo file into an entity in Spring Boot?","body":"<p>Take</p>\n<pre><code>private byte[] photo;\n</code></pre>\n<p>in your entity class. And in the database set the datatype to byte array.</p>\n<p>Store the base64-encoded photo in the database.</p>\n"}],"owner":{"account_id":24922608,"reputation":11,"user_id":18790722,"display_name":"Hadicha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1034,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1661775348,"answer_count":1,"score":-2,"last_activity_date":1661907098,"creation_date":1661767041,"question_id":73527080,"body_markdown":"I have created  an entity called &quot;BusinessAccount&quot;. \r\n\r\n```\r\n\r\n@Entity\r\n@Table(name = &quot;business_account&quot;)\r\n@Getter\r\n@Setter\r\npublic class BusinessAccount extends AbstractEntity {\r\n private String name;\r\n private String surName;\r\n ...\r\n\r\n```\r\nSo every account should have its own photo, so I am thinking how to save a photo to my DB, any ideas? Would be glad for your help.\r\nWhat I have tried is that to make a different &quot;Endpoint&quot; , in which photos will be stored in the DB , but the loading so slow, so that&#39;s why I wanted to add the Photo to the Entity or add it to the Body. \r\n\r\n","title":"How to insert a photo file into an entity in Spring Boot?","body":"<p>I have created  an entity called &quot;BusinessAccount&quot;.</p>\n<pre><code>\n@Entity\n@Table(name = &quot;business_account&quot;)\n@Getter\n@Setter\npublic class BusinessAccount extends AbstractEntity {\n private String name;\n private String surName;\n ...\n\n</code></pre>\n<p>So every account should have its own photo, so I am thinking how to save a photo to my DB, any ideas? Would be glad for your help.\nWhat I have tried is that to make a different &quot;Endpoint&quot; , in which photos will be stored in the DB , but the loading so slow, so that's why I wanted to add the Photo to the Entity or add it to the Body.</p>\n"},{"tags":["java","servlets","nullpointerexception","jboss"],"answers":[{"tags":[],"owner":{"account_id":1647342,"reputation":6510,"user_id":1518628,"accept_rate":67,"display_name":"Lan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661841447,"creation_date":1363883363,"answer_id":15553028,"question_id":15548272,"body_markdown":"The error is very clear. You have a `NullPointerException` in your `Trafcontrol.java` at line 48. You have to check your own code, maybe using Eclipse debugging feature to step through your code.","title":"Error on web server=====&gt;java.lang.NullPointerException","body":"<p>The error is very clear. You have a <code>NullPointerException</code> in your <code>Trafcontrol.java</code> at line 48. You have to check your own code, maybe using Eclipse debugging feature to step through your code.</p>\n"}],"owner":{"account_id":2463341,"reputation":9,"user_id":2146972,"display_name":"Shan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2187,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1661941203,"answer_count":1,"score":-1,"last_activity_date":1661906828,"creation_date":1363870718,"question_id":15548272,"body_markdown":"I have created a simple servlet dynamic project with some html pages,....\r\n\r\nAs clicking the submit button on the form should transfer the control to servlet, I don&#39;t know what is the problem, it shows a &quot;HTTP status 500&quot; error....\r\nIt shows the error as:\r\n\r\nException appears on the browser:\r\n        java.lang.NullPointerException\r\n\tcontroller.Trafcontrol.doGet(Trafcontrol.java:48)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:690)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:803)\r\n\torg.jboss.web.tomcat.filters.ReplyHeaderFilter.doFilter(ReplyHeaderFilter.java:96)\r\n\r\nApp server used:JBOSS AS 4.2.2, Eclipse:Helios 3.6..\r\n\r\nI need my control to be passed to servlet, so i can further process with my project.\r\n\r\nI also include the &quot;console&quot; window content:\r\n\r\n     `Servlet.service() for servlet servname threw exception\r\n      java.lang.NullPointerException\r\n\tat controller.Trafcontrol.doGet(Trafcontrol.java:48)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:690)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\r\n\tat   org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat org.jboss.web.tomcat.filters.ReplyHeaderFilter.doFilter(ReplyHeaderFilter.java:96)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:230)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)\r\n\tat org.jboss.web.tomcat.security.SecurityAssociationValve.invoke(SecurityAssociationValve.java:182)\r\n\tat org.jboss.web.tomcat.security.JaccContextValve.invoke(JaccContextValve.java:84)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\r\n\tat org.jboss.web.tomcat.service.jca.CachedConnectionValve.invoke(CachedConnectionValve.java:157)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:262)\r\n\tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:844)\r\n\tat  \r\n org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583)\r\n\tat org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:446)\r\n\tat java.lang.Thread.run(Unknown Source)`\r\n\r\nPlease any one help on this, thx.....\r\n\r\n\r\n","title":"Error on web server=====&gt;java.lang.NullPointerException","body":"<p>I have created a simple servlet dynamic project with some html pages,....</p>\n\n<p>As clicking the submit button on the form should transfer the control to servlet, I don't know what is the problem, it shows a \"HTTP status 500\" error....\nIt shows the error as:</p>\n\n<p>Exception appears on the browser:\n        java.lang.NullPointerException\n    controller.Trafcontrol.doGet(Trafcontrol.java:48)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:690)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\n    org.jboss.web.tomcat.filters.ReplyHeaderFilter.doFilter(ReplyHeaderFilter.java:96)</p>\n\n<p>App server used:JBOSS AS 4.2.2, Eclipse:Helios 3.6..</p>\n\n<p>I need my control to be passed to servlet, so i can further process with my project.</p>\n\n<p>I also include the \"console\" window content:</p>\n\n<pre><code> `Servlet.service() for servlet servname threw exception\n  java.lang.NullPointerException\nat controller.Trafcontrol.doGet(Trafcontrol.java:48)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:690)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\nat   org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\nat org.jboss.web.tomcat.filters.ReplyHeaderFilter.doFilter(ReplyHeaderFilter.java:96)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:230)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)\nat org.jboss.web.tomcat.security.SecurityAssociationValve.invoke(SecurityAssociationValve.java:182)\nat org.jboss.web.tomcat.security.JaccContextValve.invoke(JaccContextValve.java:84)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\nat org.jboss.web.tomcat.service.jca.CachedConnectionValve.invoke(CachedConnectionValve.java:157)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:262)\nat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:844)\nat  \n</code></pre>\n\n<p>org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583)\n    at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:446)\n    at java.lang.Thread.run(Unknown Source)`</p>\n\n<p>Please any one help on this, thx.....</p>\n"},{"tags":["java","rotation"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1661906060,"post_id":73549593,"comment_id":129881640,"body_markdown":"I&#39;m unclear what is actually being asked here.  Is `getNeededRotations()` a method you wrote?  Is it working properly or not?","body":"I&#39;m unclear what is actually being asked here.  Is <code>getNeededRotations()</code> a method you wrote?  Is it working properly or not?"},{"owner":{"account_id":26203044,"reputation":11,"user_id":19883081,"display_name":"okko"},"score":0,"creation_date":1661910844,"post_id":73549593,"comment_id":129882335,"body_markdown":"`getNeededRotations()` was a provided method, it functions properly, and should be. I provided it to give context as it is not a basic java method. @markspace","body":"<code>getNeededRotations()</code> was a provided method, it functions properly, and should be. I provided it to give context as it is not a basic java method. @markspace"},{"owner":{"account_id":8653039,"reputation":599,"user_id":7775861,"accept_rate":50,"display_name":"Kyle Berezin"},"score":0,"creation_date":1661914344,"post_id":73549593,"comment_id":129882765,"body_markdown":"There is a bit to much code for me here but you may want to look into something called quaternions. There are problems with doing yaw/pitch/roll in any language, and quaternions avoid most of the issues. They are not supported natively in java so you would probably need to import a 3rd party lib.","body":"There is a bit to much code for me here but you may want to look into something called quaternions. There are problems with doing yaw/pitch/roll in any language, and quaternions avoid most of the issues. They are not supported natively in java so you would probably need to import a 3rd party lib."},{"owner":{"account_id":26203044,"reputation":11,"user_id":19883081,"display_name":"okko"},"score":0,"creation_date":1661974358,"post_id":73549593,"comment_id":129901752,"body_markdown":"I&#39;m aware of quaternions, but I&#39;ve never really liked them, and my yaw calculation already works, do you at least know a quick reliable way I can get pitch?","body":"I&#39;m aware of quaternions, but I&#39;ve never really liked them, and my yaw calculation already works, do you at least know a quick reliable way I can get pitch?"}],"owner":{"account_id":26203044,"reputation":11,"user_id":19883081,"display_name":"okko"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661904144,"creation_date":1661904144,"question_id":73549593,"body_markdown":"I am creating a mod for minecraft, however I figured it&#39;d be best to ask out of the context of it since I&#39;m not using forge which basically makes a lot of the code need bare bones java.\r\n\r\nSome context is needed, because of what is used from minecraft, which I will explain now.\r\n\r\nMinecraft displays pitch in a range of -90 to 90, not 0 to 180, which is why values are sometimes modified by adding or subtracting. Also, there is a function used in my functions, which is `getNeededRotations()`, only context needed to understand that should be the getEyesPos(), returns a vector of the camera position, self explanatory.\r\n\r\n```java\r\npublic static Rotation getNeededRotations(Vec3 vec)\r\n\t{\r\n\t\tVec3 eyesPos = getEyesPos();\r\n\t\t\r\n\t\tdouble diffX = vec.xCoord - eyesPos.xCoord;\r\n\t\tdouble diffY = vec.yCoord - eyesPos.yCoord;\r\n\t\tdouble diffZ = vec.zCoord - eyesPos.zCoord;\r\n\t\t\r\n\t\tdouble diffXZ = Math.sqrt(diffX * diffX + diffZ * diffZ);\r\n\t\t\r\n\t\tfloat yaw = (float)Math.toDegrees(Math.atan2(diffZ, diffX)) - 90F;\r\n\t\tfloat pitch = (float)-Math.toDegrees(Math.atan2(diffY, diffXZ));\r\n\t\t\r\n\t\treturn new Rotation(yaw, pitch);\r\n\t}\r\n```\r\n\r\nI have tried making this myself, by researching the math needed, however it resulted in some very strange rotations, so I decided to scrap it. I referenced and used some functions from a public github repository. I created a function to return the yaw, which works great, which is below:\r\n\r\n\r\n```java\r\npublic static double getYawToLookVec(Vec3 vec)\r\n\t{\r\n\t\tRotation needed = getNeededRotations(vec);\r\n\t\t\r\n\t\tEntityPlayerSP player = Minecraft.getMinecraft().thePlayer;\r\n\t\tfloat currentYaw = MathHelper.wrapAngleTo180_float(player.cameraYaw);\r\n\t\t\r\n\t\tfloat diffYaw = currentYaw - needed.yaw;\r\n\t\t\r\n\t\treturn -diffYaw;\r\n\t}\r\n```\r\n\r\nBut pitch is my problem, I figured I&#39;d do the same thing, since that worked fine, but that is not the case, it resulted in strange behavior and rapid turning. I messed with my variables, until I reached this:\r\n```java\r\npublic static double getPitchToLookVec(Vec3 vec)\r\n\t{\r\n\t\tRotation needed = getNeededRotations(vec);\r\n\t\t\r\n\t\tEntityPlayerSP player = Minecraft.getMinecraft().thePlayer;\r\n\t\tfloat currentPitch = MathHelper.wrapAngleTo180_float(player.rotationPitch);\r\n\t\t\r\n\t\tfloat diffPitch = currentPitch - needed.pitch;\r\n\t\t\r\n\t\t\r\n\t\treturn -(diffPitch + 90);\r\n\t}\r\n```\r\n\r\nAt first, this seems like a very good step in the right direction, which it was, but it acts very strange when used, for some reason, every other time the function is used, it seems to return what is the desired pitch, but negated, so one use it returns about 45, the next time it returns -45, which results in an odd flickering motion. As you can see from this data, that is what happens (pitch)\r\n\r\n```\r\n59.890427\r\n-61.170303\r\n59.890427\r\n-61.170303\r\n59.890427\r\n-61.170303\r\n59.890427\r\n-61.170303\r\n```\r\n\r\nIf anyone knows a better reliable way to get pitch, or how to fix mine please let me know!\r\n\r\nBy the way, please don&#39;t mark this as already answered unless the answer is actually working and good, or at least someone tell me how I can incorporate what I&#39;ve already gotten into that, thanks.","title":"How can I find the yaw/pitch to point towards a 3D vector in java?","body":"<p>I am creating a mod for minecraft, however I figured it'd be best to ask out of the context of it since I'm not using forge which basically makes a lot of the code need bare bones java.</p>\n<p>Some context is needed, because of what is used from minecraft, which I will explain now.</p>\n<p>Minecraft displays pitch in a range of -90 to 90, not 0 to 180, which is why values are sometimes modified by adding or subtracting. Also, there is a function used in my functions, which is <code>getNeededRotations()</code>, only context needed to understand that should be the getEyesPos(), returns a vector of the camera position, self explanatory.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Rotation getNeededRotations(Vec3 vec)\n    {\n        Vec3 eyesPos = getEyesPos();\n        \n        double diffX = vec.xCoord - eyesPos.xCoord;\n        double diffY = vec.yCoord - eyesPos.yCoord;\n        double diffZ = vec.zCoord - eyesPos.zCoord;\n        \n        double diffXZ = Math.sqrt(diffX * diffX + diffZ * diffZ);\n        \n        float yaw = (float)Math.toDegrees(Math.atan2(diffZ, diffX)) - 90F;\n        float pitch = (float)-Math.toDegrees(Math.atan2(diffY, diffXZ));\n        \n        return new Rotation(yaw, pitch);\n    }\n</code></pre>\n<p>I have tried making this myself, by researching the math needed, however it resulted in some very strange rotations, so I decided to scrap it. I referenced and used some functions from a public github repository. I created a function to return the yaw, which works great, which is below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static double getYawToLookVec(Vec3 vec)\n    {\n        Rotation needed = getNeededRotations(vec);\n        \n        EntityPlayerSP player = Minecraft.getMinecraft().thePlayer;\n        float currentYaw = MathHelper.wrapAngleTo180_float(player.cameraYaw);\n        \n        float diffYaw = currentYaw - needed.yaw;\n        \n        return -diffYaw;\n    }\n</code></pre>\n<p>But pitch is my problem, I figured I'd do the same thing, since that worked fine, but that is not the case, it resulted in strange behavior and rapid turning. I messed with my variables, until I reached this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static double getPitchToLookVec(Vec3 vec)\n    {\n        Rotation needed = getNeededRotations(vec);\n        \n        EntityPlayerSP player = Minecraft.getMinecraft().thePlayer;\n        float currentPitch = MathHelper.wrapAngleTo180_float(player.rotationPitch);\n        \n        float diffPitch = currentPitch - needed.pitch;\n        \n        \n        return -(diffPitch + 90);\n    }\n</code></pre>\n<p>At first, this seems like a very good step in the right direction, which it was, but it acts very strange when used, for some reason, every other time the function is used, it seems to return what is the desired pitch, but negated, so one use it returns about 45, the next time it returns -45, which results in an odd flickering motion. As you can see from this data, that is what happens (pitch)</p>\n<pre><code>59.890427\n-61.170303\n59.890427\n-61.170303\n59.890427\n-61.170303\n59.890427\n-61.170303\n</code></pre>\n<p>If anyone knows a better reliable way to get pitch, or how to fix mine please let me know!</p>\n<p>By the way, please don't mark this as already answered unless the answer is actually working and good, or at least someone tell me how I can incorporate what I've already gotten into that, thanks.</p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":1459452,"reputation":39,"user_id":1374155,"display_name":"flynnk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661903455,"creation_date":1661903455,"answer_id":73549536,"question_id":69666509,"body_markdown":"    new org.hibernate.type.CustomType(new MyUserType1())\r\n\r\nworks for me.\r\n\r\nHad the same question and came across this SO, so thought I&#39;d put the answer I found down here.","title":"How to get a Hibernate Type object for a (custom) UserType class","body":"<pre><code>new org.hibernate.type.CustomType(new MyUserType1())\n</code></pre>\n<p>works for me.</p>\n<p>Had the same question and came across this SO, so thought I'd put the answer I found down here.</p>\n"}],"owner":{"account_id":459272,"reputation":21232,"user_id":859640,"accept_rate":100,"display_name":"John S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661903455,"creation_date":1634838081,"question_id":69666509,"body_markdown":"I am looking for help on coding the `getPropertyTypes()` method when implementing the Hibernate `CompositeUserType` interface for defining a custom composite type that is made up of custom types.\r\n\r\nWhen creating a custom composite type for Hibernate, you implement the `CompositeUserType` interface, of which one of the methods is:\r\n\r\n    Type[] getPropertyTypes();\r\n\r\nThis is easy enough to do if the component types are all basic types. It might look like this:\r\n\r\n    public Type[] getPropertyTypes() {\r\n        return new Type[] {\r\n          StringType.INSTANCE, \r\n          IntegerType.INSTANCE\r\n        };\r\n    }\r\n\r\nBut how is this done when the component types are custom types?\r\n\r\nBack in Hibernate v3.6, you could do:\r\n\r\n    public Type[] getPropertyTypes() {\r\n        return new Type[] {\r\n          Hibernate.custom(MyUserType1.class),\r\n          Hibernate.custom(MyUserType2.class),\r\n        };\r\n    }\r\n\r\nWhere `MyUserType1` and `MyUserType2` implement the `UserType` interface.\r\n\r\nBut I am now using Hibernate v5.3.22, and the `Hibernate.custom()` method is long gone.","title":"How to get a Hibernate Type object for a (custom) UserType class","body":"<p>I am looking for help on coding the <code>getPropertyTypes()</code> method when implementing the Hibernate <code>CompositeUserType</code> interface for defining a custom composite type that is made up of custom types.</p>\n<p>When creating a custom composite type for Hibernate, you implement the <code>CompositeUserType</code> interface, of which one of the methods is:</p>\n<pre><code>Type[] getPropertyTypes();\n</code></pre>\n<p>This is easy enough to do if the component types are all basic types. It might look like this:</p>\n<pre><code>public Type[] getPropertyTypes() {\n    return new Type[] {\n      StringType.INSTANCE, \n      IntegerType.INSTANCE\n    };\n}\n</code></pre>\n<p>But how is this done when the component types are custom types?</p>\n<p>Back in Hibernate v3.6, you could do:</p>\n<pre><code>public Type[] getPropertyTypes() {\n    return new Type[] {\n      Hibernate.custom(MyUserType1.class),\n      Hibernate.custom(MyUserType2.class),\n    };\n}\n</code></pre>\n<p>Where <code>MyUserType1</code> and <code>MyUserType2</code> implement the <code>UserType</code> interface.</p>\n<p>But I am now using Hibernate v5.3.22, and the <code>Hibernate.custom()</code> method is long gone.</p>\n"},{"tags":["java","spring-integration"],"comments":[{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1661453547,"post_id":73491845,"comment_id":129782886,"body_markdown":"Probably the poller thread is stuck someplace in user code; take a thread dump the next time it happens.","body":"Probably the poller thread is stuck someplace in user code; take a thread dump the next time it happens."},{"owner":{"account_id":16442912,"reputation":119,"user_id":11878640,"display_name":"Rayyan"},"score":0,"creation_date":1661793429,"post_id":73491845,"comment_id":129850928,"body_markdown":"Followed your inputs on a different thread and implemented `MessageSourceMutator` and was able to verify poller running fine. Has it got anything to do with `.maxMessagesPerPoll(100)` as the container runs just on 500MB? It was also observed to work fine after changing to `.maxMessagesPerPoll(10)`","body":"Followed your inputs on a different thread and implemented <code>MessageSourceMutator</code> and was able to verify poller running fine. Has it got anything to do with <code>.maxMessagesPerPoll(100)</code> as the container runs just on 500MB? It was also observed to work fine after changing to <code>.maxMessagesPerPoll(10)</code>"}],"owner":{"account_id":16442912,"reputation":119,"user_id":11878640,"display_name":"Rayyan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661903145,"creation_date":1661450008,"question_id":73491845,"body_markdown":"Weirdly, our Spring Integration (2.7.3) running as a `Job` kind on AWS EKS container, stops picking files. The files that weren&#39;t picked originally, gets picked if the container is restarted. Below are our configuration. \r\n\r\nIs something wrong with the `FileReadingMessageSource` usage?\r\n\r\n\t@Bean\r\n\tpublic PollerSpec pollerSpec() {\r\n\r\n\t\treturn Pollers.fixedDelay(Duration.ofMinutes(5))\r\n\t\t\t\t\t.maxMessagesPerPoll(100)\r\n\t\t\t\t\t.transactionSynchronizationFactory(transactionSynchronizationFactory)\r\n\t\t\t\t\t.transactional(pseudoTransactionManager);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic FileReadingMessageSource fileReadingMessageSource(final File inboundDirectory) {\r\n\r\n\t\tvar source = new FileReadingMessageSource();\r\n\t\tsource.setDirectory(inboundDirectory);\r\n\t\tsource.setScanner(directoryScanner());\r\n\r\n\t\treturn source;\r\n\t}\r\n\r\n    @Bean\r\n\tpublic DirectoryScanner directoryScanner() {\r\n\r\n\t\tFileListFilter&lt;File&gt; filter = new CompositeFileListFilter&lt;&gt;(\r\n\t\t\t\tArrays.asList(new AcceptOnceFileListFilter&lt;&gt;(), new LastModifiedFileListFilter()));\r\n\r\n\t\tvar scanner = new RecursiveDirectoryScanner();\r\n\t\tscanner.setFilter(filter);\r\n\r\n\t\treturn scanner;\r\n\t}\r\n\r\n    @Bean\r\n\tpublic IntegrationFlow startFlow() {\r\n\r\n\t\treturn IntegrationFlows.from(fileReadingMessageSource(null), p -&gt; p.poller(pollerSpec()))\r\n\t\t\t\t\t\t\t.enrichHeaders(Collections.singletonMap(ERROR_CHANNEL, appErrorChannel))\r\n\t\t\t\t\t\t\t.log(DEBUG, message -&gt; &quot;File Picked: &quot; + message.getHeaders().get(FILENAME))\r\n                            .......\r\n                            .......\r\n    }","title":"Spring Integration FileReadingMessageSource STOPS Picking Files","body":"<p>Weirdly, our Spring Integration (2.7.3) running as a <code>Job</code> kind on AWS EKS container, stops picking files. The files that weren't picked originally, gets picked if the container is restarted. Below are our configuration.</p>\n<p>Is something wrong with the <code>FileReadingMessageSource</code> usage?</p>\n<pre><code>@Bean\npublic PollerSpec pollerSpec() {\n\n    return Pollers.fixedDelay(Duration.ofMinutes(5))\n                .maxMessagesPerPoll(100)\n                .transactionSynchronizationFactory(transactionSynchronizationFactory)\n                .transactional(pseudoTransactionManager);\n}\n\n@Bean\npublic FileReadingMessageSource fileReadingMessageSource(final File inboundDirectory) {\n\n    var source = new FileReadingMessageSource();\n    source.setDirectory(inboundDirectory);\n    source.setScanner(directoryScanner());\n\n    return source;\n}\n\n@Bean\npublic DirectoryScanner directoryScanner() {\n\n    FileListFilter&lt;File&gt; filter = new CompositeFileListFilter&lt;&gt;(\n            Arrays.asList(new AcceptOnceFileListFilter&lt;&gt;(), new LastModifiedFileListFilter()));\n\n    var scanner = new RecursiveDirectoryScanner();\n    scanner.setFilter(filter);\n\n    return scanner;\n}\n\n@Bean\npublic IntegrationFlow startFlow() {\n\n    return IntegrationFlows.from(fileReadingMessageSource(null), p -&gt; p.poller(pollerSpec()))\n                        .enrichHeaders(Collections.singletonMap(ERROR_CHANNEL, appErrorChannel))\n                        .log(DEBUG, message -&gt; &quot;File Picked: &quot; + message.getHeaders().get(FILENAME))\n                        .......\n                        .......\n}\n</code></pre>\n"},{"tags":["java","arraylist","swap"],"comments":[{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":0,"creation_date":1661887087,"post_id":73547394,"comment_id":129877565,"body_markdown":"There is [`Collections.swap()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#swap(java.util.List,int,int)) to swap two elements in a list. However, you will not find an in-built function to swap elements of two different lists. Just store the two elements in local variables, and use [`List.set()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#set(int,E)) to assign them where they belong.","body":"There is <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#swap(java.util.List,int,int)\" rel=\"nofollow noreferrer\"><code>Collections.swap()</code></a> to swap two elements in a list. However, you will not find an in-built function to swap elements of two different lists. Just store the two elements in local variables, and use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#set(int,E)\" rel=\"nofollow noreferrer\"><code>List.set()</code></a> to assign them where they belong."}],"answers":[{"tags":[],"owner":{"account_id":26202250,"reputation":21,"user_id":19882439,"display_name":"Willard Washington Ford"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661902372,"creation_date":1661892803,"answer_id":73548350,"question_id":73547394,"body_markdown":"I don&#39;t believe there is a built-in function to swap these two elements. \r\n\r\nA brute force solution would have to store one value in another variable and then swap them in O(1) time.\r\n\r\nSomething like:\r\n\r\n    void swap(int i, int j){\r\n        int val = bigList.get(i).set(j, bigList.get(i+1).get(j));\r\n        bigList.get(i+1).set(j, val);\r\n    }\r\n--Where &#39;bigList&#39; is the parent ArrayList containing ArrayLists.\r\n\r\nHope this helps!","title":"How to swap elements in ArrayList&lt;ArrayList&lt;Integer&gt;&gt;?","body":"<p>I don't believe there is a built-in function to swap these two elements.</p>\n<p>A brute force solution would have to store one value in another variable and then swap them in O(1) time.</p>\n<p>Something like:</p>\n<pre><code>void swap(int i, int j){\n    int val = bigList.get(i).set(j, bigList.get(i+1).get(j));\n    bigList.get(i+1).set(j, val);\n}\n</code></pre>\n<p>--Where 'bigList' is the parent ArrayList containing ArrayLists.</p>\n<p>Hope this helps!</p>\n"}],"owner":{"account_id":20358740,"reputation":59,"user_id":14933653,"display_name":"Amrutha k"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1661902372,"creation_date":1661886529,"question_id":73547394,"body_markdown":"I&#39;m trying to swap elements in `ArrayList&lt;ArrayList&lt;Integer&gt;&gt;`. I wanted to know either an inbuilt function if present any or brute-force approach to solve :\r\n`swap(mat.get(i).get(j),mat.get(j).get(i+1)) `\r\nswapping these 2 elements in a `ArrayList&lt;ArrayList&lt;Integer&gt;&gt;`.","title":"How to swap elements in ArrayList&lt;ArrayList&lt;Integer&gt;&gt;?","body":"<p>I'm trying to swap elements in <code>ArrayList&lt;ArrayList&lt;Integer&gt;&gt;</code>. I wanted to know either an inbuilt function if present any or brute-force approach to solve :\n<code>swap(mat.get(i).get(j),mat.get(j).get(i+1)) </code>\nswapping these 2 elements in a <code>ArrayList&lt;ArrayList&lt;Integer&gt;&gt;</code>.</p>\n"},{"tags":["java","types","switch-statement"],"comments":[{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1661929620,"post_id":73549393,"comment_id":129885588,"body_markdown":"This does not (yet) exist in the current version of Java (Java 18). But it&#39;s a feature that might be added in a future version. In fact, it&#39;s a [preview feature](https://openjdk.org/jeps/406) in Java 17 and 18.","body":"This does not (yet) exist in the current version of Java (Java 18). But it&#39;s a feature that might be added in a future version. In fact, it&#39;s a <a href=\"https://openjdk.org/jeps/406\" rel=\"nofollow noreferrer\">preview feature</a> in Java 17 and 18."}],"answers":[{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661901994,"creation_date":1661901994,"answer_id":73549416,"question_id":73549393,"body_markdown":"There is a dynamic [`cast()`][1] operation you can apply to the result:\r\n\r\n```java\r\nreturn type.cast(ThreadLocalRandom.current().nextInt());\r\n```\r\n\r\nI&#39;d be curious to know how you use your method. It seems likely there would be a cleaner way to embody and access this functionality.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#cast-java.lang.Object-","title":"switch case on class type java","body":"<p>There is a dynamic <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#cast-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>cast()</code></a> operation you can apply to the result:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return type.cast(ThreadLocalRandom.current().nextInt());\n</code></pre>\n<p>I'd be curious to know how you use your method. It seems likely there would be a cleaner way to embody and access this functionality.</p>\n"}],"owner":{"account_id":21631299,"reputation":61,"user_id":15954888,"display_name":"Fouvet S&#233;bastien"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73549416,"answer_count":1,"score":0,"last_activity_date":1661902134,"creation_date":1661901747,"question_id":73549393,"body_markdown":"I want to create a function that returns a value of the type passed as an argument.\r\nfor that I wanted to use a switch on the type of the argument, but I didn&#39;t have to do the right thing.\r\nwhat is the correct way:\r\n\r\n    public &lt;T&gt; T threadLocalRandom(Class&lt;T&gt; type){\r\n        switch (type){\r\n            case Integer i:\r\n                return (T) ThreadLocalRandom.current().nextInt();\r\n            case Double:\r\n                return ThreadLocalRandom.current().nextDouble();\r\n            case Boolean:\r\n                return ThreadLocalRandom.current().nextBoolean();\r\n        }\r\n    }\r\n\r\n    public &lt;T&gt; T threadLocalRandom(Class&lt;T&gt; type){\r\n        switch (type.getClass().getSimpleName()){\r\n            case &quot;Integer&quot;:\r\n                return (T) ThreadLocalRandom.current().nextInt();\r\n            case &quot;Double&quot;:\r\n                return ThreadLocalRandom.current().nextDouble();\r\n            case &quot;Boolean&quot;:\r\n                return ThreadLocalRandom.current().nextBoolean();\r\n        }\r\n    }\r\n\r\nin any case I have an error because I return an Interger, a Double or a Boolean while the method wants to return a type T\r\nThanks\r\nHow to make the Type T match the type returned by the switch?\r\n\r\n","title":"switch case on class type java","body":"<p>I want to create a function that returns a value of the type passed as an argument.\nfor that I wanted to use a switch on the type of the argument, but I didn't have to do the right thing.\nwhat is the correct way:</p>\n<pre><code>public &lt;T&gt; T threadLocalRandom(Class&lt;T&gt; type){\n    switch (type){\n        case Integer i:\n            return (T) ThreadLocalRandom.current().nextInt();\n        case Double:\n            return ThreadLocalRandom.current().nextDouble();\n        case Boolean:\n            return ThreadLocalRandom.current().nextBoolean();\n    }\n}\n\npublic &lt;T&gt; T threadLocalRandom(Class&lt;T&gt; type){\n    switch (type.getClass().getSimpleName()){\n        case &quot;Integer&quot;:\n            return (T) ThreadLocalRandom.current().nextInt();\n        case &quot;Double&quot;:\n            return ThreadLocalRandom.current().nextDouble();\n        case &quot;Boolean&quot;:\n            return ThreadLocalRandom.current().nextBoolean();\n    }\n}\n</code></pre>\n<p>in any case I have an error because I return an Interger, a Double or a Boolean while the method wants to return a type T\nThanks\nHow to make the Type T match the type returned by the switch?</p>\n"},{"tags":["java","modelmapper"],"answers":[{"tags":[],"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661902041,"creation_date":1661825559,"answer_id":73536440,"question_id":73004737,"body_markdown":"# Introduction\r\nLet&#39;s consider the following versions as the current versions:\r\n\r\n* ModelMapper: `3.1.0`.\r\n\r\nIt seems that by the &#171;ModelMapper&#187; library design:\r\n\r\n* There is no way to &#171;reuse&#187; the converted source value to set multiple destination property values.\r\n\r\n# Possible solution\r\nA post-converter may be used to copy a value from one destination property to another.\r\n\r\n## Draft example program\r\n### `pom.xml` file\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n    &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n    &lt;version&gt;3.1.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n### `Customer` class\r\n```java\r\nclass Customer {\r\n    private String fullName;\r\n\r\n    public String getFullName() {\r\n        return fullName;\r\n    }\r\n\r\n    public void setFullName(final String fullName) {\r\n        this.fullName = fullName;\r\n    }\r\n}\r\n```\r\n\r\n### `CustomerDTO` class\r\n```java\r\nimport java.util.StringJoiner;\r\n\r\nclass CustomerDTO {\r\n    private String fullName;\r\n    private String copyOfFullName;\r\n\r\n    public String getFullName() {\r\n        return fullName;\r\n    }\r\n\r\n    public void setFullName(final String fullName) {\r\n        this.fullName = fullName;\r\n    }\r\n\r\n    public String getCopyOfFullName() {\r\n        return copyOfFullName;\r\n    }\r\n\r\n    public void setCopyOfFullName(final String copyOfFullName) {\r\n        this.copyOfFullName = copyOfFullName;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return new StringJoiner(&quot;, &quot;, CustomerDTO.class.getSimpleName() + &quot;[&quot;, &quot;]&quot;)\r\n            .add(&quot;fullName=&#39;&quot; + fullName + &quot;&#39;&quot;)\r\n            .add(&quot;copyOfFullName=&#39;&quot; + copyOfFullName + &quot;&#39;&quot;)\r\n            .toString();\r\n    }\r\n}\r\n```\r\n\r\n### `Program` class\r\n```java\r\nimport org.modelmapper.Converter;\r\nimport org.modelmapper.ModelMapper;\r\n\r\npublic final class Program {\r\n    public static void main(final String[] args) {\r\n        final Customer customer = new Customer();\r\n        customer.setFullName(&quot;Full name&quot;);\r\n\r\n        final ModelMapper modelMapper = new ModelMapper();\r\n\r\n        final Converter&lt;Customer, CustomerDTO&gt; customerConverter = context -&gt; {\r\n            final CustomerDTO destination = context.getDestination();\r\n            // NOTE: Copying the value of the full name property to another property.\r\n            destination.setCopyOfFullName(destination.getFullName());\r\n            return destination;\r\n        };\r\n        modelMapper.typeMap(\r\n            Customer.class, CustomerDTO.class\r\n        ).addMapping(\r\n            Customer::getFullName, CustomerDTO::setFullName\r\n        ).setPostConverter(customerConverter);\r\n\r\n        modelMapper.validate();\r\n\r\n        final CustomerDTO customerDTO = modelMapper.map(customer, CustomerDTO.class);\r\n        System.out.println(customerDTO);\r\n    }\r\n}\r\n```\r\n\r\n#### Output\r\n```\r\nCustomerDTO[fullName=&#39;Full name&#39;, copyOfFullName=&#39;Full name&#39;]\r\n```\r\n\r\n# Additional references\r\n* Post-converter example. [java - ModelMapper: transferring attribute from root to each elements of a list - Stack Overflow](https://stackoverflow.com/questions/69215180/modelmapper-transferring-attribute-from-root-to-each-elements-of-a-list).\r\n\r\n    * [Answer](https://stackoverflow.com/a/69271579).\r\n","title":"ModelMapper reverse map from a destination field onto itself","body":"<h1>Introduction</h1>\n<p>Let's consider the following versions as the current versions:</p>\n<ul>\n<li>ModelMapper: <code>3.1.0</code>.</li>\n</ul>\n<p>It seems that by the «ModelMapper» library design:</p>\n<ul>\n<li>There is no way to «reuse» the converted source value to set multiple destination property values.</li>\n</ul>\n<h1>Possible solution</h1>\n<p>A post-converter may be used to copy a value from one destination property to another.</p>\n<h2>Draft example program</h2>\n<h3><code>pom.xml</code> file</h3>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n    &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<h3><code>Customer</code> class</h3>\n<pre class=\"lang-java prettyprint-override\"><code>class Customer {\n    private String fullName;\n\n    public String getFullName() {\n        return fullName;\n    }\n\n    public void setFullName(final String fullName) {\n        this.fullName = fullName;\n    }\n}\n</code></pre>\n<h3><code>CustomerDTO</code> class</h3>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.StringJoiner;\n\nclass CustomerDTO {\n    private String fullName;\n    private String copyOfFullName;\n\n    public String getFullName() {\n        return fullName;\n    }\n\n    public void setFullName(final String fullName) {\n        this.fullName = fullName;\n    }\n\n    public String getCopyOfFullName() {\n        return copyOfFullName;\n    }\n\n    public void setCopyOfFullName(final String copyOfFullName) {\n        this.copyOfFullName = copyOfFullName;\n    }\n\n    @Override\n    public String toString() {\n        return new StringJoiner(&quot;, &quot;, CustomerDTO.class.getSimpleName() + &quot;[&quot;, &quot;]&quot;)\n            .add(&quot;fullName='&quot; + fullName + &quot;'&quot;)\n            .add(&quot;copyOfFullName='&quot; + copyOfFullName + &quot;'&quot;)\n            .toString();\n    }\n}\n</code></pre>\n<h3><code>Program</code> class</h3>\n<pre class=\"lang-java prettyprint-override\"><code>import org.modelmapper.Converter;\nimport org.modelmapper.ModelMapper;\n\npublic final class Program {\n    public static void main(final String[] args) {\n        final Customer customer = new Customer();\n        customer.setFullName(&quot;Full name&quot;);\n\n        final ModelMapper modelMapper = new ModelMapper();\n\n        final Converter&lt;Customer, CustomerDTO&gt; customerConverter = context -&gt; {\n            final CustomerDTO destination = context.getDestination();\n            // NOTE: Copying the value of the full name property to another property.\n            destination.setCopyOfFullName(destination.getFullName());\n            return destination;\n        };\n        modelMapper.typeMap(\n            Customer.class, CustomerDTO.class\n        ).addMapping(\n            Customer::getFullName, CustomerDTO::setFullName\n        ).setPostConverter(customerConverter);\n\n        modelMapper.validate();\n\n        final CustomerDTO customerDTO = modelMapper.map(customer, CustomerDTO.class);\n        System.out.println(customerDTO);\n    }\n}\n</code></pre>\n<h4>Output</h4>\n<pre><code>CustomerDTO[fullName='Full name', copyOfFullName='Full name']\n</code></pre>\n<h1>Additional references</h1>\n<ul>\n<li><p>Post-converter example. <a href=\"https://stackoverflow.com/questions/69215180/modelmapper-transferring-attribute-from-root-to-each-elements-of-a-list\">java - ModelMapper: transferring attribute from root to each elements of a list - Stack Overflow</a>.</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/69271579\">Answer</a>.</li>\n</ul>\n</li>\n</ul>\n"}],"owner":{"account_id":16442912,"reputation":119,"user_id":11878640,"display_name":"Rayyan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73536440,"answer_count":1,"score":1,"last_activity_date":1661902041,"creation_date":1657979327,"question_id":73004737,"body_markdown":"Is there a way `ModelMapper` can reverse map a value already set using `PropertyMap` again to another field in `destination`? In other words, I have a computed value and the same has to be set on two fields using `PropertyMap`, computation changes the value everytime and cannot be invoked twice `using(converter)`.","title":"ModelMapper reverse map from a destination field onto itself","body":"<p>Is there a way <code>ModelMapper</code> can reverse map a value already set using <code>PropertyMap</code> again to another field in <code>destination</code>? In other words, I have a computed value and the same has to be set on two fields using <code>PropertyMap</code>, computation changes the value everytime and cannot be invoked twice <code>using(converter)</code>.</p>\n"},{"tags":["java","algorithm","sorting"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661901572,"creation_date":1661901572,"answer_id":73549378,"question_id":73549277,"body_markdown":"`compare(a, b)` returns a number that is negative if `a &lt; b`, zero if `a == b`, and positive if `a &gt; b`.\r\n\r\nLet&#39;s assume `compare(a, b)` returns a negative number, so `a &lt; b`.\r\n\r\nThen `order1.compareTo(order2)` returned a negative number too, so `order1 &lt; order2`.\r\n\r\nBut if you returned `order2.compareTo(order1)`, well, we know `order1 &lt; order2`.  But that means `order2 &gt; order1`, so `order2.compareTo(order1)` will return a positive number.\r\n\r\nIn general, it&#39;s really just that `a &lt; b` is not the same thing as `b &lt; a` -- it&#39;s the opposite.","title":"Self Define CompareTo(), why does the order of compareTo matters to the sorting order?","body":"<p><code>compare(a, b)</code> returns a number that is negative if <code>a &lt; b</code>, zero if <code>a == b</code>, and positive if <code>a &gt; b</code>.</p>\n<p>Let's assume <code>compare(a, b)</code> returns a negative number, so <code>a &lt; b</code>.</p>\n<p>Then <code>order1.compareTo(order2)</code> returned a negative number too, so <code>order1 &lt; order2</code>.</p>\n<p>But if you returned <code>order2.compareTo(order1)</code>, well, we know <code>order1 &lt; order2</code>.  But that means <code>order2 &gt; order1</code>, so <code>order2.compareTo(order1)</code> will return a positive number.</p>\n<p>In general, it's really just that <code>a &lt; b</code> is not the same thing as <code>b &lt; a</code> -- it's the opposite.</p>\n"},{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661901838,"creation_date":1661901838,"answer_id":73549400,"question_id":73549277,"body_markdown":"The docs for `Comparator.compare()` says:\r\n\r\n&gt; Compares its two arguments for order. Returns a negative integer, zero, or a positive integer as the first argument is less than, equal to, or greater than the second.\r\n\r\nYou can see right there in the docs that order matters.  First argument and second argument are different. So if you compare two strings\r\n\r\n    &quot;a&quot;.compareTo( &quot;b&quot; )   // returns negative\r\n\r\nThe result indicates that `a` should be less than `b`.  However if you compare the strings this way:\r\n\r\n    &quot;b&quot;.compareTo( &quot;a&quot; ) // returns positive\r\n\r\nThe result indicates that `a` is actually greater than `b`, so you get `a` being placed after `b`.  In other words, reverse sort order.\r\n","title":"Self Define CompareTo(), why does the order of compareTo matters to the sorting order?","body":"<p>The docs for <code>Comparator.compare()</code> says:</p>\n<blockquote>\n<p>Compares its two arguments for order. Returns a negative integer, zero, or a positive integer as the first argument is less than, equal to, or greater than the second.</p>\n</blockquote>\n<p>You can see right there in the docs that order matters.  First argument and second argument are different. So if you compare two strings</p>\n<pre><code>&quot;a&quot;.compareTo( &quot;b&quot; )   // returns negative\n</code></pre>\n<p>The result indicates that <code>a</code> should be less than <code>b</code>.  However if you compare the strings this way:</p>\n<pre><code>&quot;b&quot;.compareTo( &quot;a&quot; ) // returns positive\n</code></pre>\n<p>The result indicates that <code>a</code> is actually greater than <code>b</code>, so you get <code>a</code> being placed after <code>b</code>.  In other words, reverse sort order.</p>\n"}],"owner":{"account_id":24866232,"reputation":1,"user_id":18741272,"display_name":"Ryan L"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":73549378,"answer_count":2,"score":-3,"last_activity_date":1661901838,"creation_date":1661900591,"question_id":73549277,"body_markdown":"I have String array of [3,30,34,5,9] that I want to sort, \r\n\r\n\r\nHowever, for value 3 and 30, 3 has to be bigger than 30 \r\n\r\nsuch that string a+b &gt; b+c. \r\nif a = 3 and b = 30; ab&gt;ba =&gt; 330&gt;303 so that 3 should be bigger than 30;\r\n\r\n\r\nSo that my array [3,30,34,5,9] after sorting should be [9,5,34,3,30]\r\n\r\nI found a class function that implements comparator as following:\r\n\r\n    private class LargerNumberComparator implements Comparator&lt;String&gt; {\r\n        @Override\r\n        public int compare(String a, String b) {\r\n            String order1 = a + b;\r\n            String order2 = b + a;\r\n           return order1.compareTo(order2);\r\n        }\r\n    }\r\n\r\nIn the above code, it will sort my string in ascending order such that original array:\r\n[3,30,34,5,9] will become [30,3,34,5,9]\r\n\r\nHowever, if I change the return order1.compareTo(order2); to be return order2.compareTo(order1) that will change the sorting order of the array from ascending to descending;\r\n\r\n***Q:Why does the order to .compareTo changes the sorting order?***","title":"Self Define CompareTo(), why does the order of compareTo matters to the sorting order?","body":"<p>I have String array of [3,30,34,5,9] that I want to sort,</p>\n<p>However, for value 3 and 30, 3 has to be bigger than 30</p>\n<p>such that string a+b &gt; b+c.\nif a = 3 and b = 30; ab&gt;ba =&gt; 330&gt;303 so that 3 should be bigger than 30;</p>\n<p>So that my array [3,30,34,5,9] after sorting should be [9,5,34,3,30]</p>\n<p>I found a class function that implements comparator as following:</p>\n<pre><code>private class LargerNumberComparator implements Comparator&lt;String&gt; {\n    @Override\n    public int compare(String a, String b) {\n        String order1 = a + b;\n        String order2 = b + a;\n       return order1.compareTo(order2);\n    }\n}\n</code></pre>\n<p>In the above code, it will sort my string in ascending order such that original array:\n[3,30,34,5,9] will become [30,3,34,5,9]</p>\n<p>However, if I change the return order1.compareTo(order2); to be return order2.compareTo(order1) that will change the sorting order of the array from ascending to descending;</p>\n<p><em><strong>Q:Why does the order to .compareTo changes the sorting order?</strong></em></p>\n"},{"tags":["java","java-8","duplicates","java-stream"],"comments":[{"owner":{"account_id":3785624,"reputation":7670,"user_id":3143670,"accept_rate":50,"display_name":"Neeraj Jain"},"score":3,"creation_date":1430831088,"post_id":30053487,"comment_id":48222094,"body_markdown":"if you are not interested in knowing what are those duplicates , then it&#39;s the best way !!","body":"if you are not interested in knowing what are those duplicates , then it&#39;s the best way !!"}],"answers":[{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":74,"is_accepted":true,"score":74,"last_activity_date":1661900677,"creation_date":1430831016,"answer_id":30053822,"question_id":30053487,"body_markdown":"Your code would need to iterate over all elements. If you want to make sure that there are no duplicates simple method like\r\n\r\n\tpublic static &lt;T&gt; boolean areAllUnique(List&lt;T&gt; list){\r\n\t\tSet&lt;T&gt; set = new HashSet&lt;&gt;();\r\n\r\n\t\tfor (T t: list){\r\n\t\t\tif (!set.add(t))\r\n\t\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\treturn true;\r\n\t}\r\n\r\nwould be more efficient since it can give you `false` immediately when first non-unique element would be found.\r\n\r\nThis method could also be rewritten using [`Stream#allMatch`][1] which also is short-circuit (returns false immediately for first element which doesn&#39;t fulfill provided condition)  \r\n(assuming non-parallel streams and thread-safe environment) \r\n\r\n\tpublic static &lt;T&gt; boolean areAllUnique(List&lt;T&gt; list){\r\n\t\tSet&lt;T&gt; set = new HashSet&lt;&gt;();\r\n\t\treturn list.stream().allMatch(t -&gt; set.add(t));\r\n\t}\r\n\r\nwhich can be farther shortened as [@Holger][2] [pointed out in comment][3] \r\n\r\n\tpublic static &lt;T&gt; boolean areAllUnique(List&lt;T&gt; list){\r\n\t\treturn list.stream().allMatch(new HashSet&lt;&gt;()::add);\r\n\t}\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#allMatch-java.util.function.Predicate-\r\n  [2]: https://stackoverflow.com/users/2711488/holger\r\n  [3]: https://stackoverflow.com/questions/30053487/how-to-check-if-exists-any-duplicate-in-java-8-streams/30053822#comment48222350_30053822","title":"How to check if exists any duplicate in Java 8 Streams?","body":"<p>Your code would need to iterate over all elements. If you want to make sure that there are no duplicates simple method like</p>\n<pre><code>public static &lt;T&gt; boolean areAllUnique(List&lt;T&gt; list){\n    Set&lt;T&gt; set = new HashSet&lt;&gt;();\n\n    for (T t: list){\n        if (!set.add(t))\n            return false;\n    }\n    \n    return true;\n}\n</code></pre>\n<p>would be more efficient since it can give you <code>false</code> immediately when first non-unique element would be found.</p>\n<p>This method could also be rewritten using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#allMatch-java.util.function.Predicate-\" rel=\"nofollow noreferrer\"><code>Stream#allMatch</code></a> which also is short-circuit (returns false immediately for first element which doesn't fulfill provided condition)<br />\n(assuming non-parallel streams and thread-safe environment)</p>\n<pre><code>public static &lt;T&gt; boolean areAllUnique(List&lt;T&gt; list){\n    Set&lt;T&gt; set = new HashSet&lt;&gt;();\n    return list.stream().allMatch(t -&gt; set.add(t));\n}\n</code></pre>\n<p>which can be farther shortened as <a href=\"https://stackoverflow.com/users/2711488/holger\">@Holger</a> <a href=\"https://stackoverflow.com/questions/30053487/how-to-check-if-exists-any-duplicate-in-java-8-streams/30053822#comment48222350_30053822\">pointed out in comment</a></p>\n<pre><code>public static &lt;T&gt; boolean areAllUnique(List&lt;T&gt; list){\n    return list.stream().allMatch(new HashSet&lt;&gt;()::add);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":998175,"reputation":779,"user_id":1013629,"display_name":"geekdenz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1450842201,"creation_date":1450842201,"answer_id":34428297,"question_id":30053487,"body_markdown":"Started this class as a StreamTool, but I think there must be an even better way with reduce or similar:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public class StreamTool {\r\n    \r\n    \t/**\r\n    \t * Whether stream records are unique in that stream.\r\n    \t * @param &lt;T&gt; Type of records\r\n    \t * @param records\r\n    \t * @return true if there are no duplicates, false otherwise\r\n    \t */\r\n    \tpublic static &lt;T&gt; boolean isUnique(Stream&lt;T&gt; records) {\r\n    \t\treturn records.allMatch(new HashSet&lt;&gt;()::add);\r\n    \t}\r\n    }","title":"How to check if exists any duplicate in Java 8 Streams?","body":"<p>Started this class as a StreamTool, but I think there must be an even better way with reduce or similar:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class StreamTool {\n\n    /**\n     * Whether stream records are unique in that stream.\n     * @param &lt;T&gt; Type of records\n     * @param records\n     * @return true if there are no duplicates, false otherwise\n     */\n    public static &lt;T&gt; boolean isUnique(Stream&lt;T&gt; records) {\n        return records.allMatch(new HashSet&lt;&gt;()::add);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1521739,"reputation":3696,"user_id":1421194,"accept_rate":73,"display_name":"Sasha"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1542353502,"creation_date":1480950058,"answer_id":40977178,"question_id":30053487,"body_markdown":"I used the following:&lt;br&gt;\r\n1\\. `return list.size() == new HashSet&lt;&gt;(list).size();`.\r\n\r\nI&#39;m not sure how it compares to:&lt;br&gt;\r\n2\\. `return list.size() == list.stream().distinct().count();`&lt;br&gt;\r\nand&lt;br&gt;\r\n3\\. `return list.stream().sequential().allMatch(new HashSet&lt;&gt;()::add);`&lt;br&gt;\r\nin terms of performance.\r\n\r\nThe last one (#3) has possibility to handle not only collections (e.g. lists), but also streams (without explicitly collecting them).\r\n\r\nUpd.: The last one (#3) seems to be the best not only because it can handle pure streams, but also because it stops on the first duplicate (while #1 and #2 always iterate till the end) — as @Pshemo said in [comment](/q/30053487#comment81961406_30053822). &lt;!--Though this doesn&#39;t really matter in assertions and other correctness checks (when items are unique in &amp;gt;99% cases); if duplicates are really possible, we usually need not just detect their presence, but actually manage them somehow.--&gt;","title":"How to check if exists any duplicate in Java 8 Streams?","body":"<p>I used the following:<br>\n1. <code>return list.size() == new HashSet&lt;&gt;(list).size();</code>.</p>\n\n<p>I'm not sure how it compares to:<br>\n2. <code>return list.size() == list.stream().distinct().count();</code><br>\nand<br>\n3. <code>return list.stream().sequential().allMatch(new HashSet&lt;&gt;()::add);</code><br>\nin terms of performance.</p>\n\n<p>The last one (#3) has possibility to handle not only collections (e.g. lists), but also streams (without explicitly collecting them).</p>\n\n<p>Upd.: The last one (#3) seems to be the best not only because it can handle pure streams, but also because it stops on the first duplicate (while #1 and #2 always iterate till the end) — as @Pshemo said in <a href=\"/q/30053487#comment81961406_30053822\">comment</a>. </p>\n"},{"tags":[],"owner":{"account_id":2760668,"reputation":2685,"user_id":2377639,"display_name":"Will Humphreys"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1495046497,"creation_date":1495046497,"answer_id":44032568,"question_id":30053487,"body_markdown":"You can use the counting collector.\r\n\r\n    Stream.of(1, 3, 4, 6, 7, 5, 6)\r\n                .collect(Collectors.groupingBy(\r\n                        Function.identity(), Collectors.counting()))\r\n                .entrySet().stream().anyMatch(e -&gt; e.getValue() &gt; 1)","title":"How to check if exists any duplicate in Java 8 Streams?","body":"<p>You can use the counting collector.</p>\n\n<pre><code>Stream.of(1, 3, 4, 6, 7, 5, 6)\n            .collect(Collectors.groupingBy(\n                    Function.identity(), Collectors.counting()))\n            .entrySet().stream().anyMatch(e -&gt; e.getValue() &gt; 1)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5500955,"reputation":876,"user_id":10783374,"display_name":"Edor Linus"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1650637360,"creation_date":1574018162,"answer_id":58904239,"question_id":30053487,"body_markdown":"Given array arr,\r\n```\r\narr.length != Arrays.stream(arr).distinct().count()\r\n```\r\nwill help check for duplicates \r\n","title":"How to check if exists any duplicate in Java 8 Streams?","body":"<p>Given array arr,</p>\n<pre><code>arr.length != Arrays.stream(arr).distinct().count()\n</code></pre>\n<p>will help check for duplicates</p>\n"},{"tags":[],"owner":{"account_id":1099760,"reputation":7046,"user_id":1092450,"accept_rate":74,"display_name":"itro"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1621333043,"creation_date":1621333043,"answer_id":67584269,"question_id":30053487,"body_markdown":"Use `set.add()` it is faster.\r\n\r\n    Set&lt;T&gt; items = new HashSet&lt;&gt;();\r\n    list.stream().filter(n -&gt; !items.add(n)) \r\n                .collect(Collectors.toSet());","title":"How to check if exists any duplicate in Java 8 Streams?","body":"<p>Use <code>set.add()</code> it is faster.</p>\n<pre><code>Set&lt;T&gt; items = new HashSet&lt;&gt;();\nlist.stream().filter(n -&gt; !items.add(n)) \n            .collect(Collectors.toSet());\n</code></pre>\n"}],"owner":{"account_id":5481141,"reputation":7665,"user_id":4398050,"accept_rate":94,"display_name":"pedrorijo91"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77399,"favorite_count":0,"down_vote_count":0,"up_vote_count":67,"accepted_answer_id":30053822,"answer_count":6,"score":67,"last_activity_date":1661900677,"creation_date":1430830213,"question_id":30053487,"body_markdown":"In java 8, what&#39;s the best way to check if a List contains any duplicate?\r\n\r\nMy idea was something like:\r\n\r\n    list.size() != list.stream().distinct().count()\r\n\r\nIs it the best way?","title":"How to check if exists any duplicate in Java 8 Streams?","body":"<p>In java 8, what's the best way to check if a List contains any duplicate?</p>\n\n<p>My idea was something like:</p>\n\n<pre><code>list.size() != list.stream().distinct().count()\n</code></pre>\n\n<p>Is it the best way?</p>\n"},{"tags":["java","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661799889,"creation_date":1661799889,"answer_id":73533545,"question_id":73533436,"body_markdown":"Yes, the correlation key for group aggregation is based on the file name. You need to use different file name or consider to configure an aggregator for `expireGroupsUponCompletion(true)`. The `new FileAggregator()` should go to the `processor()` option of the aggregator spec.","title":"Spring Integration FileAggregator not invoked when the the same file is placed for reprocessing","body":"<p>Yes, the correlation key for group aggregation is based on the file name. You need to use different file name or consider to configure an aggregator for <code>expireGroupsUponCompletion(true)</code>. The <code>new FileAggregator()</code> should go to the <code>processor()</code> option of the aggregator spec.</p>\n"}],"owner":{"account_id":16442912,"reputation":119,"user_id":11878640,"display_name":"Rayyan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73533545,"answer_count":1,"score":0,"last_activity_date":1661900606,"creation_date":1661799144,"question_id":73533436,"body_markdown":"In the below flow, the file split, aggregation works perfectly fine with new (different) files. When a processed file is placed again and picked by the `Poller`, it goes into the `FileSplitterSpec()` but never reaches the `FileAggregator`.\r\n\r\nAre there any markers placed on the processed file, that it is failing to reach the aggregator the next time?\r\n\r\n    return IntegrationFlows.from(txnChannel())\r\n    \t\t\t\t\t\t.split(fileSplitterSpec())\r\n    \t\t\t\t\t\t.filter(payload -&gt; !(payload instanceof FileMarker), e -&gt; e.discardChannel(&quot;aggregatorChannel&quot;))\r\n    \t\t\t\t\t\t.&lt;String&gt; filter(StringUtils::isNotBlank, e -&gt; e.discardChannel(&quot;aggregatorChannel&quot;))\r\n    \t\t\t\t\t\t.transform(transformer, &quot;transform&quot;)\r\n    \t\t\t\t\t\t.handle((payload, headers) -&gt; {\r\n    \t\t\t\t\t\t\theaders.get(&quot;indHeader&quot;, DTO.class).getTxn().add(payload);\r\n    \t\t\t\t\t\t\treturn payload;\r\n    \t\t\t\t\t\t})\r\n    \t\t\t\t\t\t.channel(&quot;aggregatorChannel&quot;)\r\n    \t\t\t\t        .aggregate(new FileAggregator())\r\n\r\n\r\n    @Bean\r\n    public FileSplitterSpec fileSplitterSpec() {\r\n    \r\n    \treturn Files.splitter()\r\n    \t\t\t\t.markers()\r\n    \t\t\t\t.firstLineAsHeader(&quot;someHeader&quot;);\r\n    }","title":"Spring Integration FileAggregator not invoked when the the same file is placed for reprocessing","body":"<p>In the below flow, the file split, aggregation works perfectly fine with new (different) files. When a processed file is placed again and picked by the <code>Poller</code>, it goes into the <code>FileSplitterSpec()</code> but never reaches the <code>FileAggregator</code>.</p>\n<p>Are there any markers placed on the processed file, that it is failing to reach the aggregator the next time?</p>\n<pre><code>return IntegrationFlows.from(txnChannel())\n                        .split(fileSplitterSpec())\n                        .filter(payload -&gt; !(payload instanceof FileMarker), e -&gt; e.discardChannel(&quot;aggregatorChannel&quot;))\n                        .&lt;String&gt; filter(StringUtils::isNotBlank, e -&gt; e.discardChannel(&quot;aggregatorChannel&quot;))\n                        .transform(transformer, &quot;transform&quot;)\n                        .handle((payload, headers) -&gt; {\n                            headers.get(&quot;indHeader&quot;, DTO.class).getTxn().add(payload);\n                            return payload;\n                        })\n                        .channel(&quot;aggregatorChannel&quot;)\n                        .aggregate(new FileAggregator())\n\n\n@Bean\npublic FileSplitterSpec fileSplitterSpec() {\n\n    return Files.splitter()\n                .markers()\n                .firstLineAsHeader(&quot;someHeader&quot;);\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9498384,"reputation":1543,"user_id":7060504,"display_name":"Z.R.T."},"score":0,"creation_date":1512354330,"post_id":47625549,"comment_id":82209163,"body_markdown":"let say we have geo point  with coordinates X,Y and radius R.  you want to get the coordinates of points along the entire perimeter of the circle, correct ?","body":"let say we have geo point  with coordinates X,Y and radius R.  you want to get the coordinates of points along the entire perimeter of the circle, correct ?"},{"owner":{"account_id":2788358,"reputation":571,"user_id":2399158,"accept_rate":64,"display_name":"user2399158"},"score":0,"creation_date":1512355038,"post_id":47625549,"comment_id":82209305,"body_markdown":"yupppp...........","body":"yupppp..........."},{"owner":{"account_id":395375,"reputation":7111,"user_id":3591528,"display_name":"teppic"},"score":0,"creation_date":1512356049,"post_id":47625549,"comment_id":82209502,"body_markdown":"Pick a random bearing then use a distance-and-bearing formula to calculate the destination lat/long. [This answer](https://stackoverflow.com/questions/10119479/calculating-lat-and-long-from-bearing-and-distance) has one solution. Some more details [here](https://www.movable-type.co.uk/scripts/latlong.html).","body":"Pick a random bearing then use a distance-and-bearing formula to calculate the destination lat/long. <a href=\"https://stackoverflow.com/questions/10119479/calculating-lat-and-long-from-bearing-and-distance\">This answer</a> has one solution. Some more details <a href=\"https://www.movable-type.co.uk/scripts/latlong.html\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":2788358,"reputation":571,"user_id":2399158,"accept_rate":64,"display_name":"user2399158"},"score":0,"creation_date":1512362924,"post_id":47625549,"comment_id":82211040,"body_markdown":"Thanksssssssssss","body":"Thanksssssssssss"}],"answers":[{"tags":[],"owner":{"account_id":2788358,"reputation":571,"user_id":2399158,"accept_rate":64,"display_name":"user2399158"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1512542189,"creation_date":1512542189,"answer_id":47668249,"question_id":47625549,"body_markdown":"    public static void generatePoint(double latitude, double longitude, double distanceInMetres, double bearing) {\r\n    \t    Random random = new Random();\r\n    \t    \r\n    \t\t//int bear = random.nextInt(360);\r\n    \t    double brngRad = Math.toRadians(bearing);\r\n    \t    double latRad = Math.toRadians(latitude);\r\n    \t    double lonRad = Math.toRadians(longitude);\r\n    \t    int earthRadiusInMetres = 6371000;\r\n    \t    double distFrac = distanceInMetres / earthRadiusInMetres;\r\n    \r\n    \t    double latitudeResult = Math.asin(Math.sin(latRad) * Math.cos(distFrac) + Math.cos(latRad) * Math.sin(distFrac) * Math.cos(brngRad));\r\n    \t    double a = Math.atan2(Math.sin(brngRad) * Math.sin(distFrac) * Math.cos(latRad), Math.cos(distFrac) - Math.sin(latRad) * Math.sin(latitudeResult));\r\n    \t    double longitudeResult = (lonRad + a + 3 * Math.PI) % (2 * Math.PI) - Math.PI;\r\n    \r\n    \t    System.out.println(&quot;bearing: &quot;+bearing+ &quot;, latitude: &quot; + Math.toDegrees(latitudeResult) + &quot;, longitude: &quot; + Math.toDegrees(longitudeResult));\r\n    \t}\r\n\r\n\r\nneed to add bearing","title":"Generate a random geopoint from a fixed distance from a given latitude and longitude","body":"<pre><code>public static void generatePoint(double latitude, double longitude, double distanceInMetres, double bearing) {\n        Random random = new Random();\n\n        //int bear = random.nextInt(360);\n        double brngRad = Math.toRadians(bearing);\n        double latRad = Math.toRadians(latitude);\n        double lonRad = Math.toRadians(longitude);\n        int earthRadiusInMetres = 6371000;\n        double distFrac = distanceInMetres / earthRadiusInMetres;\n\n        double latitudeResult = Math.asin(Math.sin(latRad) * Math.cos(distFrac) + Math.cos(latRad) * Math.sin(distFrac) * Math.cos(brngRad));\n        double a = Math.atan2(Math.sin(brngRad) * Math.sin(distFrac) * Math.cos(latRad), Math.cos(distFrac) - Math.sin(latRad) * Math.sin(latitudeResult));\n        double longitudeResult = (lonRad + a + 3 * Math.PI) % (2 * Math.PI) - Math.PI;\n\n        System.out.println(\"bearing: \"+bearing+ \", latitude: \" + Math.toDegrees(latitudeResult) + \", longitude: \" + Math.toDegrees(longitudeResult));\n    }\n</code></pre>\n\n<p>need to add bearing</p>\n"},{"tags":[],"owner":{"account_id":20031879,"reputation":21,"user_id":14684461,"display_name":"urboypx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661900523,"creation_date":1661900523,"answer_id":73549272,"question_id":47625549,"body_markdown":"For anyone looking, this is how I implemented this code in JavaScript:\r\n\r\n    function generatePoint(\r\n      latitude,\r\n      longitude,\r\n      distanceInMetres,\r\n      bearing = Math.floor(Math.random() * (360 - 1) + 1)\r\n    ) {\r\n      const brngRad = deg2Rad(bearing);\r\n      const latRad = deg2Rad(latitude);\r\n      const lonRad = deg2Rad(longitude);\r\n    \r\n      const EARTH_RADIUS_IN_METRES = 6371000;\r\n    \r\n      const distFrac = distanceInMetres / EARTH_RADIUS_IN_METRES;\r\n    \r\n      const latitudeResult = Math.asin(\r\n        Math.sin(latRad) * Math.cos(distFrac) +\r\n          Math.cos(latRad) * Math.sin(distFrac) * Math.cos(brngRad)\r\n      );\r\n      const a = Math.atan2(\r\n        Math.sin(brngRad) * Math.sin(distFrac) * Math.cos(latRad),\r\n        Math.cos(distFrac) - Math.sin(latRad) * Math.sin(latitudeResult)\r\n      );\r\n    \r\n      const longitudeResult =\r\n        ((lonRad + a + 3 * Math.PI) % (2 * Math.PI)) - Math.PI;\r\n    \r\n      return {\r\n        latitude: rad2Deg(latitudeResult),\r\n        longitude: rad2Deg(longitudeResult),\r\n        bearing,\r\n      };\r\n    }\r\n    \r\n    function deg2Rad(deg) {\r\n      return deg * (Math.PI / 180);\r\n    }\r\n    \r\n    function rad2Deg(rad) {\r\n      return rad * (180 / Math.PI);\r\n    }\r\n\r\nIt will also generate a random bearing if none is provided","title":"Generate a random geopoint from a fixed distance from a given latitude and longitude","body":"<p>For anyone looking, this is how I implemented this code in JavaScript:</p>\n<pre><code>function generatePoint(\n  latitude,\n  longitude,\n  distanceInMetres,\n  bearing = Math.floor(Math.random() * (360 - 1) + 1)\n) {\n  const brngRad = deg2Rad(bearing);\n  const latRad = deg2Rad(latitude);\n  const lonRad = deg2Rad(longitude);\n\n  const EARTH_RADIUS_IN_METRES = 6371000;\n\n  const distFrac = distanceInMetres / EARTH_RADIUS_IN_METRES;\n\n  const latitudeResult = Math.asin(\n    Math.sin(latRad) * Math.cos(distFrac) +\n      Math.cos(latRad) * Math.sin(distFrac) * Math.cos(brngRad)\n  );\n  const a = Math.atan2(\n    Math.sin(brngRad) * Math.sin(distFrac) * Math.cos(latRad),\n    Math.cos(distFrac) - Math.sin(latRad) * Math.sin(latitudeResult)\n  );\n\n  const longitudeResult =\n    ((lonRad + a + 3 * Math.PI) % (2 * Math.PI)) - Math.PI;\n\n  return {\n    latitude: rad2Deg(latitudeResult),\n    longitude: rad2Deg(longitudeResult),\n    bearing,\n  };\n}\n\nfunction deg2Rad(deg) {\n  return deg * (Math.PI / 180);\n}\n\nfunction rad2Deg(rad) {\n  return rad * (180 / Math.PI);\n}\n</code></pre>\n<p>It will also generate a random bearing if none is provided</p>\n"}],"owner":{"account_id":2788358,"reputation":571,"user_id":2399158,"accept_rate":64,"display_name":"user2399158"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":679,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":47668249,"answer_count":2,"score":3,"last_activity_date":1661900523,"creation_date":1512353325,"question_id":47625549,"body_markdown":"I am writing a java program to generate a all the longitude and latitude with a fixed distance from my my given point. the distance must be exact 2000km, not withub 2000km.\r\n\r\nthis is my code\r\n\r\n    public static void getLocation(double x0, double y0, int meters) {\r\n    \t    Random random = new Random();\r\n    \r\n    \t    // Convert radius from meters to degrees\r\n    \t    double radiusInDegrees = meters / 111000f;\r\n    \r\n    \t    double u = random.nextDouble();\r\n    \t    double v = random.nextDouble();\r\n    \t    double w = radiusInDegrees * Math.sqrt(u);\r\n    \t    double t = 2 * Math.PI * v;\r\n    \t    double x = w * Math.cos(t);\r\n    \t    double y = w * Math.sin(t);\r\n    \r\n    \t    // Adjust the x-coordinate for the shrinking of the east-west distances\r\n    \t   // double new_x = x / Math.cos(Math.toRadians(y0));\r\n    \r\n    \t    double foundLongitude = x + x0;\r\n    \t    double foundLatitude = y + y0;\r\n    \t    System.out.println(&quot;Longitude: &quot; + foundLongitude + &quot;  Latitude: &quot; + foundLatitude );\r\n    \t} \r\n\r\n\r\nHow do I make all the point generate equal distance from the geo point, like forming a circle?","title":"Generate a random geopoint from a fixed distance from a given latitude and longitude","body":"<p>I am writing a java program to generate a all the longitude and latitude with a fixed distance from my my given point. the distance must be exact 2000km, not withub 2000km.</p>\n\n<p>this is my code</p>\n\n<pre><code>public static void getLocation(double x0, double y0, int meters) {\n        Random random = new Random();\n\n        // Convert radius from meters to degrees\n        double radiusInDegrees = meters / 111000f;\n\n        double u = random.nextDouble();\n        double v = random.nextDouble();\n        double w = radiusInDegrees * Math.sqrt(u);\n        double t = 2 * Math.PI * v;\n        double x = w * Math.cos(t);\n        double y = w * Math.sin(t);\n\n        // Adjust the x-coordinate for the shrinking of the east-west distances\n       // double new_x = x / Math.cos(Math.toRadians(y0));\n\n        double foundLongitude = x + x0;\n        double foundLatitude = y + y0;\n        System.out.println(\"Longitude: \" + foundLongitude + \"  Latitude: \" + foundLatitude );\n    } \n</code></pre>\n\n<p>How do I make all the point generate equal distance from the geo point, like forming a circle?</p>\n"},{"tags":["java","collections","apache-commons-collection"],"comments":[{"owner":{"account_id":43412,"reputation":23624,"user_id":126916,"accept_rate":91,"display_name":"Abhinav Sarkar"},"score":5,"creation_date":1355331201,"post_id":13844597,"comment_id":19057240,"body_markdown":"What is the problem with `collection != null &amp;&amp; collection.contains(x)`? Simple and no external dependencies!","body":"What is the problem with <code>collection != null &amp;&amp; collection.contains(x)</code>? Simple and no external dependencies!"},{"owner":{"account_id":162919,"reputation":53273,"user_id":384706,"accept_rate":64,"display_name":"Cratylus"},"score":1,"creation_date":1355331322,"post_id":13844597,"comment_id":19057308,"body_markdown":"@AbhinavSarkar:This is what I was thinking!","body":"@AbhinavSarkar:This is what I was thinking!"},{"owner":{"account_id":1187701,"reputation":3820,"user_id":1161318,"accept_rate":100,"display_name":"RonaldBarzell"},"score":0,"creation_date":1355331330,"post_id":13844597,"comment_id":19057311,"body_markdown":"Here&#39;s a somewhat related post, by someone who didn&#39;t want to deal with checking for null all the time: http://stackoverflow.com/questions/271526/avoiding-null-statements-in-java","body":"Here&#39;s a somewhat related post, by someone who didn&#39;t want to deal with checking for null all the time: <a href=\"http://stackoverflow.com/questions/271526/avoiding-null-statements-in-java\" title=\"avoiding null statements in java\">stackoverflow.com/questions/271526/&hellip;</a>"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1421194354,"post_id":13844597,"comment_id":44265308,"body_markdown":"Note that if `x` is null, there are bigger problems.  Even if you&#39;ve checked that `collection` is not null, there are some kinds of collection (such as a `TreeSet` without its own `Comparator`) for which `collection.contains(null)` will throw a `NullPointerException`, where you&#39;d really want it to simply return `false`.  I am still looking for a null-safe way to do `collection.contains(x)`, without explicitly catching this exception.","body":"Note that if <code>x</code> is null, there are bigger problems.  Even if you&#39;ve checked that <code>collection</code> is not null, there are some kinds of collection (such as a <code>TreeSet</code> without its own <code>Comparator</code>) for which <code>collection.contains(null)</code> will throw a <code>NullPointerException</code>, where you&#39;d really want it to simply return <code>false</code>.  I am still looking for a null-safe way to do <code>collection.contains(x)</code>, without explicitly catching this exception."}],"answers":[{"tags":[],"owner":{"account_id":101064,"reputation":12650,"user_id":272075,"accept_rate":100,"display_name":"Thorn G"},"down_vote_count":1,"up_vote_count":12,"is_accepted":true,"score":11,"last_activity_date":1355331383,"creation_date":1355331383,"answer_id":13844742,"question_id":13844597,"body_markdown":"You should instead be applying the **Null Object Pattern** here and use an empty collection, rather than a null collection. Of course, perhaps this is appropriate for your problem, but without more context it&#39;s hard to tell. In other words, I think you are solving the wrong problem -- why might `collection` be null in the first place?","title":"null-safe Collection contains method","body":"<p>You should instead be applying the <strong>Null Object Pattern</strong> here and use an empty collection, rather than a null collection. Of course, perhaps this is appropriate for your problem, but without more context it's hard to tell. In other words, I think you are solving the wrong problem -- why might <code>collection</code> be null in the first place?</p>\n"},{"tags":[],"owner":{"account_id":680482,"reputation":26161,"user_id":664364,"accept_rate":82,"display_name":"Ariel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661900468,"creation_date":1661900468,"answer_id":73549263,"question_id":13844597,"body_markdown":"Do it like this:\r\n\r\n    CollectionUtils.emptyIfNull(collection).contains(x)\r\n\r\nThere is also an equivalent version for `SetUtils`, `MapUtils`, `ListUtils`, etc.\r\n\r\nThis code is longer, so it seems to me it&#39;s mainly useful when you need a single expression for a Lambda.","title":"null-safe Collection contains method","body":"<p>Do it like this:</p>\n<pre><code>CollectionUtils.emptyIfNull(collection).contains(x)\n</code></pre>\n<p>There is also an equivalent version for <code>SetUtils</code>, <code>MapUtils</code>, <code>ListUtils</code>, etc.</p>\n<p>This code is longer, so it seems to me it's mainly useful when you need a single expression for a Lambda.</p>\n"}],"owner":{"account_id":444485,"reputation":18145,"user_id":836318,"accept_rate":53,"display_name":"wrschneider"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17328,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":13844742,"answer_count":2,"score":14,"last_activity_date":1661900468,"creation_date":1355330997,"question_id":13844597,"body_markdown":"What&#39;s the best way to do null-safe `contains` on a Java collection?  \r\n\r\nin other words - \r\n\r\n     if (collection != null &amp;&amp; collection.contains(x))\r\n\r\n?\r\n\r\nI was hoping Apache commons-collections had something like `CollectionUtils.contains(collection, x)` that would simply return false if the collection was null, as there is with `size()`, which treats null like an empty collection.\r\n\r\nHowever, it seems like there is no such thing - did I just miss it?","title":"null-safe Collection contains method","body":"<p>What's the best way to do null-safe <code>contains</code> on a Java collection?  </p>\n\n<p>in other words - </p>\n\n<pre><code> if (collection != null &amp;&amp; collection.contains(x))\n</code></pre>\n\n<p>?</p>\n\n<p>I was hoping Apache commons-collections had something like <code>CollectionUtils.contains(collection, x)</code> that would simply return false if the collection was null, as there is with <code>size()</code>, which treats null like an empty collection.</p>\n\n<p>However, it seems like there is no such thing - did I just miss it?</p>\n"},{"tags":["java","jshell","editpad"],"answers":[{"tags":[],"owner":{"account_id":97204,"reputation":4979,"user_id":263801,"accept_rate":74,"display_name":"Archie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661900306,"creation_date":1661890947,"answer_id":73548063,"question_id":73547388,"body_markdown":"`jdk.editpad` is a really small module that provides a simple Swing-based GUI text editor.\r\n\r\n[Here&#39;s the code][1] if you want to see for yourself.\r\n\r\n\r\n  [1]: https://github.com/openjdk/jdk/tree/master/src/jdk.editpad/share/classes/jdk/editpad","title":"What is Java module jdk.editpad?","body":"<p><code>jdk.editpad</code> is a really small module that provides a simple Swing-based GUI text editor.</p>\n<p><a href=\"https://github.com/openjdk/jdk/tree/master/src/jdk.editpad/share/classes/jdk/editpad\" rel=\"nofollow noreferrer\">Here's the code</a> if you want to see for yourself.</p>\n"}],"owner":{"account_id":97204,"reputation":4979,"user_id":263801,"accept_rate":74,"display_name":"Archie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1661900306,"creation_date":1661886494,"question_id":73547388,"body_markdown":"The JDK ships with a module `jdk.editpad` that [exports no services or packages][1]. The Javadoc describes this module as:\r\n\r\n&gt; Provides the implementation of the edit pad service used by jdk.jshell.\r\n\r\nBut if you look at [the modules depended on by `jdk.jshell`][2], `jdk.editpad` does not appear in the picture.\r\n\r\n**So what is `jdk.editpad`, what does it do, and where is it documented?**\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/jdk.editpad/module-summary.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/jdk.jshell/module-summary.html","title":"What is Java module jdk.editpad?","body":"<p>The JDK ships with a module <code>jdk.editpad</code> that <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/jdk.editpad/module-summary.html\" rel=\"nofollow noreferrer\">exports no services or packages</a>. The Javadoc describes this module as:</p>\n<blockquote>\n<p>Provides the implementation of the edit pad service used by jdk.jshell.</p>\n</blockquote>\n<p>But if you look at <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/jdk.jshell/module-summary.html\" rel=\"nofollow noreferrer\">the modules depended on by <code>jdk.jshell</code></a>, <code>jdk.editpad</code> does not appear in the picture.</p>\n<p><strong>So what is <code>jdk.editpad</code>, what does it do, and where is it documented?</strong></p>\n"},{"tags":["java","concurrency","hashmap"],"comments":[{"owner":{"account_id":124364,"reputation":85329,"user_id":319403,"accept_rate":75,"display_name":"cHao"},"score":0,"creation_date":1302735254,"post_id":5656546,"comment_id":6452683,"body_markdown":"Accessing with other keys isn&#39;t all that safe either.  Adding a key/value (even a different one) involves changing internal stuff in the collection, and in extreme cases could cause the whole map to be resized while someone&#39;s trying to retrieve stuff from it.  That could cause problems.  e.g: http://lightbody.net/blog/2005/07/hashmapget_can_cause_an_infini.html","body":"Accessing with other keys isn&#39;t all that safe either.  Adding a key/value (even a different one) involves changing internal stuff in the collection, and in extreme cases could cause the whole map to be resized while someone&#39;s trying to retrieve stuff from it.  That could cause problems.  e.g: <a href=\"http://lightbody.net/blog/2005/07/hashmapget_can_cause_an_infini.html\" rel=\"nofollow noreferrer\">lightbody.net/blog/2005/07/hashmapget_can_cause_an_infini.ht&zwnj;&#8203;ml</a>"}],"answers":[{"tags":[],"owner":{"account_id":119818,"reputation":2942,"user_id":311811,"display_name":"Zkoh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1302735025,"creation_date":1302735025,"answer_id":5656622,"question_id":5656546,"body_markdown":"    private void synchronized functionname() {\r\n        value = map.get(key);\r\n        if (value == null) {\r\n            value = new Value();\r\n            map.put(key,value);\r\n        }\r\n        value.update();\r\n    }\r\n\r\nYou can learn more about synchronized methods here: [Synchronized Methods][1]\r\n\r\nYou might also want to investigate the `ConcurrentHashMap` class, which might suit your purposes. You can see it on the JavaDoc.\r\n\r\n  [1]: http://download.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html\r\n\r\n","title":"How to safely modify values in Java HashMaps concurrently?","body":"<pre><code>private void synchronized functionname() {\n    value = map.get(key);\n    if (value == null) {\n        value = new Value();\n        map.put(key,value);\n    }\n    value.update();\n}\n</code></pre>\n\n<p>You can learn more about synchronized methods here: <a href=\"http://download.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html\" rel=\"nofollow\">Synchronized Methods</a></p>\n\n<p>You might also want to investigate the <code>ConcurrentHashMap</code> class, which might suit your purposes. You can see it on the JavaDoc.</p>\n"},{"tags":[],"owner":{"account_id":363106,"reputation":2483,"user_id":706650,"accept_rate":56,"display_name":"mabn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1302735071,"creation_date":1302735071,"answer_id":5656629,"question_id":5656546,"body_markdown":"You cannot parallelize updates to HashMap because update can trigger resize of the underlying array including recalculation of all keys.\r\n\r\nUse other collection, for example java.util.concurrent.ConcurrentHashMap which is a &quot;A hash table supporting full concurrency of retrievals and adjustable expected concurrency for updates.&quot; according to javadoc.","title":"How to safely modify values in Java HashMaps concurrently?","body":"<p>You cannot parallelize updates to HashMap because update can trigger resize of the underlying array including recalculation of all keys.</p>\n\n<p>Use other collection, for example java.util.concurrent.ConcurrentHashMap which is a \"A hash table supporting full concurrency of retrievals and adjustable expected concurrency for updates.\" according to javadoc.</p>\n"},{"tags":[],"owner":{"account_id":33369,"reputation":7886,"user_id":93370,"display_name":"A Lee"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1661899998,"creation_date":1302735133,"answer_id":5656639,"question_id":5656546,"body_markdown":"Short answer is there&#39;s no safe way to do this without synchronizing the entire block. You could use [java.util.concurrent.ConcurrentHashMap][1] though, see [this article for more details.][2] The basic idea is to use `ConcurrentHashMap.putIfAbsent` instead of the normal `put`.\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html\r\n  [2]: https://www.burnison.ca/articles/the-concurrency-of-concurrenthashmap","title":"How to safely modify values in Java HashMaps concurrently?","body":"<p>Short answer is there's no safe way to do this without synchronizing the entire block. You could use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html\" rel=\"nofollow noreferrer\">java.util.concurrent.ConcurrentHashMap</a> though, see <a href=\"https://www.burnison.ca/articles/the-concurrency-of-concurrenthashmap\" rel=\"nofollow noreferrer\">this article for more details.</a> The basic idea is to use <code>ConcurrentHashMap.putIfAbsent</code> instead of the normal <code>put</code>.</p>\n"},{"tags":[],"owner":{"account_id":32322,"reputation":13480,"user_id":89566,"accept_rate":84,"display_name":"bmw0128"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1302735185,"creation_date":1302735185,"answer_id":5656646,"question_id":5656546,"body_markdown":"I wouldn&#39;t use HashMap if you need to be concerned about threading issues. Make use of the Java 5 concurrent package and look into ConcurrentHashMap.","title":"How to safely modify values in Java HashMaps concurrently?","body":"<p>I wouldn't use HashMap if you need to be concerned about threading issues. Make use of the Java 5 concurrent package and look into ConcurrentHashMap.</p>\n"},{"tags":[],"owner":{"account_id":65096,"reputation":15637,"user_id":191797,"accept_rate":100,"display_name":"Piyush Mattoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1302735558,"creation_date":1302735558,"answer_id":5656696,"question_id":5656546,"body_markdown":"Look into [Concurrent HashMap][1]. It has excellent performance even for single-threaded applications. It allows concurrent modification of Map from various threads without any need of blocking them.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/ConcurrentHashMap.html","title":"How to safely modify values in Java HashMaps concurrently?","body":"<p>Look into <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/ConcurrentHashMap.html\" rel=\"nofollow\">Concurrent HashMap</a>. It has excellent performance even for single-threaded applications. It allows concurrent modification of Map from various threads without any need of blocking them.</p>\n"},{"tags":[],"owner":{"account_id":72889,"reputation":4696,"user_id":210216,"display_name":"Jed Wesley-Smith"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1302739460,"creation_date":1302739460,"answer_id":5657116,"question_id":5656546,"body_markdown":"You just described the use case for the [Guava][1] computing map. You create it with:\r\n\r\n    Map&lt;Key, Value&gt; map = new MapMaker().makeComputingMap(new Function&lt;Key, Value&gt;() {\r\n      public Value apply(Key key) {\r\n        return new Value().update();\r\n      }\r\n    ));\r\n\r\nand use it:\r\n\r\n    Value v = map.get(key);\r\n\r\nThis guarantees only one thread will call `update()` and other threads will block and wait until the method completes.\r\n\r\nYou probably don&#39;t actually want your value having a mutable update method on it, but that&#39;s another discussion.\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/","title":"How to safely modify values in Java HashMaps concurrently?","body":"<p>You just described the use case for the <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"nofollow\">Guava</a> computing map. You create it with:</p>\n\n<pre><code>Map&lt;Key, Value&gt; map = new MapMaker().makeComputingMap(new Function&lt;Key, Value&gt;() {\n  public Value apply(Key key) {\n    return new Value().update();\n  }\n));\n</code></pre>\n\n<p>and use it:</p>\n\n<pre><code>Value v = map.get(key);\n</code></pre>\n\n<p>This guarantees only one thread will call <code>update()</code> and other threads will block and wait until the method completes.</p>\n\n<p>You probably don't actually want your value having a mutable update method on it, but that's another discussion.</p>\n"},{"tags":[],"owner":{"account_id":20044,"reputation":4699,"user_id":47508,"accept_rate":62,"display_name":"richs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1302791696,"creation_date":1302791327,"answer_id":5664774,"question_id":5656546,"body_markdown":"One possibility is to manage multiple locks.   So you can keep an array of locks that is retrieved based on the key&#39;s hash code.  This should give you better through-put then synchronizing the whole method.  You can size the array based on the number of thread that you believe will be accessing the code.  \r\n\r\n    private static final int NUM_LOCKS = 16;\r\n    Object [] lockArray = new Object[NUM_LOCKS];\r\n    ...\r\n    // Load array with Objects or Reentrant Locks\r\n\r\n    ...\r\n\r\n    Object keyLock = lockArray[key.hashcode % NUM_LOCKS];\r\n    synchronize(keyLock){\r\n      value = map.get(key);\r\n      if (value == null) {\r\n        value = new Value();\r\n        map.put(key,value);\r\n      }\r\n      value.update();\r\n    }\r\n","title":"How to safely modify values in Java HashMaps concurrently?","body":"<p>One possibility is to manage multiple locks.   So you can keep an array of locks that is retrieved based on the key's hash code.  This should give you better through-put then synchronizing the whole method.  You can size the array based on the number of thread that you believe will be accessing the code.  </p>\n\n<pre><code>private static final int NUM_LOCKS = 16;\nObject [] lockArray = new Object[NUM_LOCKS];\n...\n// Load array with Objects or Reentrant Locks\n\n...\n\nObject keyLock = lockArray[key.hashcode % NUM_LOCKS];\nsynchronize(keyLock){\n  value = map.get(key);\n  if (value == null) {\n    value = new Value();\n    map.put(key,value);\n  }\n  value.update();\n}\n</code></pre>\n"}],"owner":{"account_id":363303,"reputation":51,"user_id":706955,"display_name":"David P"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3896,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":7,"score":1,"last_activity_date":1661899998,"creation_date":1302734545,"question_id":5656546,"body_markdown":"I have a block of Java code that looks something like this that I&#39;m trying to parallelize:\r\n\r\n    value = map.get(key);\r\n    if (value == null) {\r\n        value = new Value();\r\n        map.put(key,value);\r\n    }\r\n    value.update();\r\n\r\nI want to block any other thread from accessing the map with that particular key until after `value.update()` is called *even if key is not in the key set*.  Accessing with other keys should be allowed. How could I achieve this?","title":"How to safely modify values in Java HashMaps concurrently?","body":"<p>I have a block of Java code that looks something like this that I'm trying to parallelize:</p>\n\n<pre><code>value = map.get(key);\nif (value == null) {\n    value = new Value();\n    map.put(key,value);\n}\nvalue.update();\n</code></pre>\n\n<p>I want to block any other thread from accessing the map with that particular key until after <code>value.update()</code> is called <em>even if key is not in the key set</em>.  Accessing with other keys should be allowed. How could I achieve this?</p>\n"},{"tags":["java","solr","jboss","wildfly","teiid"],"answers":[{"tags":[],"owner":{"account_id":1974326,"reputation":554,"user_id":1772470,"display_name":"Ramesh Reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661899142,"creation_date":1661899142,"answer_id":73549133,"question_id":73532691,"body_markdown":"I suspect the libraries may have gone out of support, you would have to debug and see what causing the NPE and fix it in the connector code.","title":"Deploying Solr Translator in Jboss","body":"<p>I suspect the libraries may have gone out of support, you would have to debug and see what causing the NPE and fix it in the connector code.</p>\n"}],"owner":{"account_id":9686601,"reputation":19,"user_id":7186191,"display_name":"ASAFDAR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73549133,"answer_count":1,"score":0,"last_activity_date":1661899142,"creation_date":1661795001,"question_id":73532691,"body_markdown":"I am trying to use the embedded JCA connector to connect to a Solr Source to be able to then deploy that as native VDB in TEIID to query SOLR using SQL. Below is the translator and resource adapter configuration I have under standalone.xml:\r\n\r\ntranslator:\r\n```\r\n&lt;translator name=&quot;solr&quot; module=&quot;org.jboss.teiid.translator.solr&quot;/&gt;\r\n```\r\nresource adapter:\r\n\r\n```\r\n&lt;resource-adapter id=&quot;solrDS&quot;&gt;\r\n                    &lt;module slot=&quot;main&quot; id=&quot;org.jboss.teiid.resource-adapter.solr&quot;/&gt;\r\n                    &lt;transaction-support&gt;XATransaction&lt;/transaction-support&gt;\r\n                    &lt;connection-definitions&gt;\r\n                        &lt;connection-definition class-name=&quot;org.teiid.resource.adapter.solr.SolrManagedConnectionFactory&quot; jndi-name=&quot;java:/solrDS&quot; enabled=&quot;true&quot; pool-name=&quot;solrDS&quot;&gt;\r\n                            &lt;config-property name=&quot;CoreName&quot;&gt;\r\n                                document_shard3_replica_n8\r\n                            &lt;/config-property&gt;\r\n                            &lt;config-property name=&quot;url&quot;&gt;\r\n                                http://&lt;solr-server&gt;:8983/solr\r\n                            &lt;/config-property&gt;\r\n                        &lt;/connection-definition&gt;\r\n                    &lt;/connection-definitions&gt;\r\n&lt;/resource-adapter&gt;\r\n```\r\nWhen I deploy the VDB, I am getting following error in server.log:\r\n```\r\nWARN  [org.teiid.RUNTIME] (Worker8) TEIID50036 VDB SolrSourceModel.1 model &quot;SolrSourceModel&quot; metadata failed to load. Reason:java.lang.NullPointerException: java.lang.NullPointerException\r\n```\r\nThank you and appreciate if I can get any help on this.","title":"Deploying Solr Translator in Jboss","body":"<p>I am trying to use the embedded JCA connector to connect to a Solr Source to be able to then deploy that as native VDB in TEIID to query SOLR using SQL. Below is the translator and resource adapter configuration I have under standalone.xml:</p>\n<p>translator:</p>\n<pre><code>&lt;translator name=&quot;solr&quot; module=&quot;org.jboss.teiid.translator.solr&quot;/&gt;\n</code></pre>\n<p>resource adapter:</p>\n<pre><code>&lt;resource-adapter id=&quot;solrDS&quot;&gt;\n                    &lt;module slot=&quot;main&quot; id=&quot;org.jboss.teiid.resource-adapter.solr&quot;/&gt;\n                    &lt;transaction-support&gt;XATransaction&lt;/transaction-support&gt;\n                    &lt;connection-definitions&gt;\n                        &lt;connection-definition class-name=&quot;org.teiid.resource.adapter.solr.SolrManagedConnectionFactory&quot; jndi-name=&quot;java:/solrDS&quot; enabled=&quot;true&quot; pool-name=&quot;solrDS&quot;&gt;\n                            &lt;config-property name=&quot;CoreName&quot;&gt;\n                                document_shard3_replica_n8\n                            &lt;/config-property&gt;\n                            &lt;config-property name=&quot;url&quot;&gt;\n                                http://&lt;solr-server&gt;:8983/solr\n                            &lt;/config-property&gt;\n                        &lt;/connection-definition&gt;\n                    &lt;/connection-definitions&gt;\n&lt;/resource-adapter&gt;\n</code></pre>\n<p>When I deploy the VDB, I am getting following error in server.log:</p>\n<pre><code>WARN  [org.teiid.RUNTIME] (Worker8) TEIID50036 VDB SolrSourceModel.1 model &quot;SolrSourceModel&quot; metadata failed to load. Reason:java.lang.NullPointerException: java.lang.NullPointerException\n</code></pre>\n<p>Thank you and appreciate if I can get any help on this.</p>\n"},{"tags":["java","android-studio","kotlin","multiplayer","nakama"],"answers":[{"tags":[],"owner":{"account_id":23176386,"reputation":75,"user_id":17274824,"display_name":"Liam K."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661898466,"creation_date":1661898466,"answer_id":73549053,"question_id":73517482,"body_markdown":"After a lot of trial and error I finally solved it.\r\nI&#39;m posting this here for the rare case anybody will have the same problem.\r\n\r\nFirst of all, I had to use the `AbstractSocketListener` not the `SocketListener`, which are both provided from the Nakama Framework.\r\n\r\nThen you have to create a listener variable like this:\r\n\r\n    val listener: SocketListener = object : AbstractSocketListener() {\r\n        override fun onMatchPresence(matchPresence: MatchPresenceEvent?) {\r\n            super.onMatchPresence(matchPresence)\r\n            //code\r\n        }\r\n    }\r\nI chose the `onMatchPresence` callback as an example, but you can use all callbacks Nakama provides, which are for example listed in the code block of my question above, or in the [documentation for Java][1]. If you are using android studio, you can just start by typing `override fun *name of callback*` and then press `Tab`. Android Studio should automatically create the rest of the function for you.\r\n\r\nIn the next step, we need our socket. If you haven&#39;t created one yet:\r\n    \r\n    val client: Client = DefaultClient(&quot;defaultkey&quot;)\r\n    val socket: SocketClient = client.createSocket()\r\n\r\nFor more information about the creation of the client and the socket [check out the getting started section of the docs][2]\r\n\r\nAfter that, our last step is to link our listener to our socket, which can be done as follows:\r\n\r\n    socket.connect(session, listener).get()\r\n\r\nAfter that, you should be set to go! You can place the code you want to execute when you get the callback in the section I marked with the comment.\r\n\r\n  [1]: https://heroiclabs.com/docs/nakama/client-libraries/java/\r\n  [2]: https://heroiclabs.com/docs/nakama/client-libraries/java/#getting-started","title":"SocketListener doesn&#39;t give callbacks","body":"<p>After a lot of trial and error I finally solved it.\nI'm posting this here for the rare case anybody will have the same problem.</p>\n<p>First of all, I had to use the <code>AbstractSocketListener</code> not the <code>SocketListener</code>, which are both provided from the Nakama Framework.</p>\n<p>Then you have to create a listener variable like this:</p>\n<pre><code>val listener: SocketListener = object : AbstractSocketListener() {\n    override fun onMatchPresence(matchPresence: MatchPresenceEvent?) {\n        super.onMatchPresence(matchPresence)\n        //code\n    }\n}\n</code></pre>\n<p>I chose the <code>onMatchPresence</code> callback as an example, but you can use all callbacks Nakama provides, which are for example listed in the code block of my question above, or in the <a href=\"https://heroiclabs.com/docs/nakama/client-libraries/java/\" rel=\"nofollow noreferrer\">documentation for Java</a>. If you are using android studio, you can just start by typing <code>override fun *name of callback*</code> and then press <code>Tab</code>. Android Studio should automatically create the rest of the function for you.</p>\n<p>In the next step, we need our socket. If you haven't created one yet:</p>\n<pre><code>val client: Client = DefaultClient(&quot;defaultkey&quot;)\nval socket: SocketClient = client.createSocket()\n</code></pre>\n<p>For more information about the creation of the client and the socket <a href=\"https://heroiclabs.com/docs/nakama/client-libraries/java/#getting-started\" rel=\"nofollow noreferrer\">check out the getting started section of the docs</a></p>\n<p>After that, our last step is to link our listener to our socket, which can be done as follows:</p>\n<pre><code>socket.connect(session, listener).get()\n</code></pre>\n<p>After that, you should be set to go! You can place the code you want to execute when you get the callback in the section I marked with the comment.</p>\n"}],"owner":{"account_id":23176386,"reputation":75,"user_id":17274824,"display_name":"Liam K."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73549053,"answer_count":1,"score":0,"last_activity_date":1661898466,"creation_date":1661678829,"question_id":73517482,"body_markdown":"I&#39;m currently building a multiplayer game in Kotlin/Java and I wanted to use the nakama framework for the backend. I was working on the match-joining system when I noticed that I don&#39;t get callbacks from the SocketListener interface of the nakama library. I don&#39;t know why this happens\r\n\r\nThe interface of nakama (java):\r\n\r\n    public interface SocketListener {\r\n        /**\r\n        * Called when the client socket disconnects.\r\n        *\r\n        * Throwable t is set if an error caused the disconnect.\r\n        */\r\n        void onDisconnect(final Throwable t);\r\n\r\n        /**\r\n        * Called when the client receives an error.\r\n        *\r\n        * @param error The {@code Error} received.\r\n        */\r\n        void onError(final Error error);\r\n\r\n        /**\r\n        * Called when a new topic message has been received.\r\n        *\r\n        * @param message The {@code ChannelMessage} received.\r\n        */\r\n        void onChannelMessage(final ChannelMessage message);\r\n\r\n        /**\r\n        * Called when a new topic presence update has been received.\r\n        *\r\n        * @param presence The {@code ChannelPresenceEvent} received.\r\n        */\r\n        void onChannelPresence(final ChannelPresenceEvent presence);\r\n\r\n        /**\r\n        * Called when a matchmaking has found a match.\r\n        *\r\n        * @param matched The {@code MatchmakerMatched} received.\r\n        */\r\n        void onMatchmakerMatched(final MatchmakerMatched matched);\r\n\r\n        /**\r\n        * Called when a new match data is received.\r\n        *\r\n        * @param matchData The {@code MatchData} received.\r\n        */\r\n        void onMatchData(final MatchData matchData);\r\n\r\n        /**\r\n        * Called when a new match presence update is received.\r\n        *\r\n        * @param matchPresence The {@code MatchPresenceEvent} received.\r\n        */\r\n        void onMatchPresence(final MatchPresenceEvent matchPresence);\r\n\r\n        /**\r\n        * Called when the client receives new notifications.\r\n        *\r\n        * @param notifications The list of {@code Notification} received.\r\n        */\r\n        void onNotifications(final NotificationList notifications);\r\n\r\n        /**\r\n        * Called when the client receives status presence updates.\r\n        *\r\n        * @param presence Updated {@code StatusPresenceEvent} presence.\r\n        */\r\n        void onStatusPresence(final StatusPresenceEvent presence);\r\n\r\n        /**\r\n        * Called when the client receives stream presence updates.\r\n        *\r\n        * @param presence Updated {@code StreamPresenceEvent} presence.\r\n        */\r\n        void onStreamPresence(final StreamPresenceEvent presence);\r\n\r\n        /**\r\n        * Called when the client receives stream data.\r\n        *\r\n        * @param data Stream {@code StreamData} data received.\r\n        */\r\n        void onStreamData(final StreamData data);\r\n    }\r\n\r\nMy implementation in Kotlin: \r\n\r\n    class MSocketListener : SocketListener {\r\n        override fun onDisconnect(t: Throwable?) {\r\n            TODO(&quot;Not yet implemented&quot;)\r\n        }\r\n\r\n        override fun onError(error: Error?) {\r\n            TODO(&quot;Not yet implemented&quot;)\r\n        }\r\n\r\n        override fun onChannelMessage(message: ChannelMessage?) {\r\n            TODO(&quot;Not yet implemented&quot;)\r\n        }\r\n\r\n        override fun onChannelPresence(presence: ChannelPresenceEvent?) {\r\n            TODO(&quot;Not yet implemented&quot;)\r\n        }\r\n\r\n        override fun onMatchmakerMatched(matched: MatchmakerMatched?) {\r\n            TODO(&quot;Not yet implemented&quot;)\r\n        }\r\n\r\n        override fun onMatchData(matchData: MatchData?) {\r\n            TODO(&quot;Not yet implemented&quot;)\r\n        }\r\n\r\n        override fun onMatchPresence(matchPresence: MatchPresenceEvent?) {\r\n            TODO(&quot;Not yet implemented&quot;)\r\n        }\r\n\r\n        override fun onNotifications(notifications: NotificationList?) {\r\n            TODO(&quot;Not yet implemented&quot;)\r\n        }\r\n\r\n        override fun onStatusPresence(presence: StatusPresenceEvent?) {\r\n            TODO(&quot;Not yet implemented&quot;)\r\n        }\r\n\r\n        override fun onStreamPresence(presence: StreamPresenceEvent?) {\r\n            TODO(&quot;Not yet implemented&quot;)\r\n        }\r\n\r\n        override fun onStreamData(data: StreamData?) {\r\n            TODO(&quot;Not yet implemented&quot;)\r\n        }\r\n    }\r\nDoes anybody know why I don&#39;t get callbacks?\r\nThanks in advance\r\n\r\n\r\nEdit:\r\nI&#39;ve now also tried implementing the interface in a java class.. still no callback\r\n\r\nJava Class (basically the same code as the Kotlin class, just in java):\r\n   \r\n    public class NakamaTest implements SocketListener {\r\n        @Override\r\n        public void onDisconnect(Throwable t) {\r\n            //code\r\n        }\r\n\r\n        @Override\r\n        public void onError(Error error) {\r\n            //code\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onChannelMessage(ChannelMessage message) {\r\n            //code\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onChannelPresence(ChannelPresenceEvent presence) {\r\n            //code\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onMatchmakerMatched(MatchmakerMatched matched) {\r\n            //code\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onMatchData(MatchData matchData) {\r\n            //code\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onMatchPresence(MatchPresenceEvent matchPresence) {\r\n            //code\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onNotifications(NotificationList notifications) {\r\n            //code\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onStatusPresence(StatusPresenceEvent presence) {\r\n            //code\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onStreamPresence(StreamPresenceEvent presence) {\r\n            //code\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onStreamData(StreamData data) {\r\n            //code\r\n        }\r\n    }","title":"SocketListener doesn&#39;t give callbacks","body":"<p>I'm currently building a multiplayer game in Kotlin/Java and I wanted to use the nakama framework for the backend. I was working on the match-joining system when I noticed that I don't get callbacks from the SocketListener interface of the nakama library. I don't know why this happens</p>\n<p>The interface of nakama (java):</p>\n<pre><code>public interface SocketListener {\n    /**\n    * Called when the client socket disconnects.\n    *\n    * Throwable t is set if an error caused the disconnect.\n    */\n    void onDisconnect(final Throwable t);\n\n    /**\n    * Called when the client receives an error.\n    *\n    * @param error The {@code Error} received.\n    */\n    void onError(final Error error);\n\n    /**\n    * Called when a new topic message has been received.\n    *\n    * @param message The {@code ChannelMessage} received.\n    */\n    void onChannelMessage(final ChannelMessage message);\n\n    /**\n    * Called when a new topic presence update has been received.\n    *\n    * @param presence The {@code ChannelPresenceEvent} received.\n    */\n    void onChannelPresence(final ChannelPresenceEvent presence);\n\n    /**\n    * Called when a matchmaking has found a match.\n    *\n    * @param matched The {@code MatchmakerMatched} received.\n    */\n    void onMatchmakerMatched(final MatchmakerMatched matched);\n\n    /**\n    * Called when a new match data is received.\n    *\n    * @param matchData The {@code MatchData} received.\n    */\n    void onMatchData(final MatchData matchData);\n\n    /**\n    * Called when a new match presence update is received.\n    *\n    * @param matchPresence The {@code MatchPresenceEvent} received.\n    */\n    void onMatchPresence(final MatchPresenceEvent matchPresence);\n\n    /**\n    * Called when the client receives new notifications.\n    *\n    * @param notifications The list of {@code Notification} received.\n    */\n    void onNotifications(final NotificationList notifications);\n\n    /**\n    * Called when the client receives status presence updates.\n    *\n    * @param presence Updated {@code StatusPresenceEvent} presence.\n    */\n    void onStatusPresence(final StatusPresenceEvent presence);\n\n    /**\n    * Called when the client receives stream presence updates.\n    *\n    * @param presence Updated {@code StreamPresenceEvent} presence.\n    */\n    void onStreamPresence(final StreamPresenceEvent presence);\n\n    /**\n    * Called when the client receives stream data.\n    *\n    * @param data Stream {@code StreamData} data received.\n    */\n    void onStreamData(final StreamData data);\n}\n</code></pre>\n<p>My implementation in Kotlin:</p>\n<pre><code>class MSocketListener : SocketListener {\n    override fun onDisconnect(t: Throwable?) {\n        TODO(&quot;Not yet implemented&quot;)\n    }\n\n    override fun onError(error: Error?) {\n        TODO(&quot;Not yet implemented&quot;)\n    }\n\n    override fun onChannelMessage(message: ChannelMessage?) {\n        TODO(&quot;Not yet implemented&quot;)\n    }\n\n    override fun onChannelPresence(presence: ChannelPresenceEvent?) {\n        TODO(&quot;Not yet implemented&quot;)\n    }\n\n    override fun onMatchmakerMatched(matched: MatchmakerMatched?) {\n        TODO(&quot;Not yet implemented&quot;)\n    }\n\n    override fun onMatchData(matchData: MatchData?) {\n        TODO(&quot;Not yet implemented&quot;)\n    }\n\n    override fun onMatchPresence(matchPresence: MatchPresenceEvent?) {\n        TODO(&quot;Not yet implemented&quot;)\n    }\n\n    override fun onNotifications(notifications: NotificationList?) {\n        TODO(&quot;Not yet implemented&quot;)\n    }\n\n    override fun onStatusPresence(presence: StatusPresenceEvent?) {\n        TODO(&quot;Not yet implemented&quot;)\n    }\n\n    override fun onStreamPresence(presence: StreamPresenceEvent?) {\n        TODO(&quot;Not yet implemented&quot;)\n    }\n\n    override fun onStreamData(data: StreamData?) {\n        TODO(&quot;Not yet implemented&quot;)\n    }\n}\n</code></pre>\n<p>Does anybody know why I don't get callbacks?\nThanks in advance</p>\n<p>Edit:\nI've now also tried implementing the interface in a java class.. still no callback</p>\n<p>Java Class (basically the same code as the Kotlin class, just in java):</p>\n<pre><code>public class NakamaTest implements SocketListener {\n    @Override\n    public void onDisconnect(Throwable t) {\n        //code\n    }\n\n    @Override\n    public void onError(Error error) {\n        //code\n\n    }\n\n    @Override\n    public void onChannelMessage(ChannelMessage message) {\n        //code\n\n    }\n\n    @Override\n    public void onChannelPresence(ChannelPresenceEvent presence) {\n        //code\n\n    }\n\n    @Override\n    public void onMatchmakerMatched(MatchmakerMatched matched) {\n        //code\n\n    }\n\n    @Override\n    public void onMatchData(MatchData matchData) {\n        //code\n\n    }\n\n    @Override\n    public void onMatchPresence(MatchPresenceEvent matchPresence) {\n        //code\n\n    }\n\n    @Override\n    public void onNotifications(NotificationList notifications) {\n        //code\n\n    }\n\n    @Override\n    public void onStatusPresence(StatusPresenceEvent presence) {\n        //code\n\n    }\n\n    @Override\n    public void onStreamPresence(StreamPresenceEvent presence) {\n        //code\n\n    }\n\n    @Override\n    public void onStreamData(StreamData data) {\n        //code\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","apache-kafka-connect","confluent-schema-registry"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1660395594,"post_id":73342014,"comment_id":129525923,"body_markdown":"You&#39;ll also need kafka-avro-serializer dependency","body":"You&#39;ll also need kafka-avro-serializer dependency"},{"owner":{"account_id":5885632,"reputation":604,"user_id":4633735,"display_name":"Hemanth Gowda"},"score":0,"creation_date":1661893359,"post_id":73342014,"comment_id":129879412,"body_markdown":"I&#39;ve added the below dependency and still the same exact issue.\n\n&lt;!--     https://mvnrepository.com/artifact/io.confluent/kafka-avro-serializer --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n      &lt;artifactId&gt;kafka-avro-serializer&lt;/artifactId&gt;\n      &lt;version&gt;3.3.1&lt;/version&gt;\n    &lt;/dependency&gt;","body":"I&#39;ve added the below dependency and still the same exact issue.  &lt;!--     <a href=\"https://mvnrepository.com/artifact/io.confluent/kafka-avro-serializer\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/io.confluent/kafka-avro-serialize&zwnj;&#8203;r</a> --&gt;     &lt;dependency&gt;       &lt;groupId&gt;io.confluent&lt;/groupId&gt;       &lt;artifactId&gt;kafka-avro-serializer&lt;/artifactId&gt;       &lt;version&gt;3.3.1&lt;/version&gt;     &lt;/dependency&gt;"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1661897890,"post_id":73342014,"comment_id":129880367,"body_markdown":"To fix &quot;no such method&quot; errors, you&#39;d probably need to use a version newer than 3.3.1. For example, your converter is using 7.2.1, so use the same for the serializer. You also should not really need the converter in your Java program. That should be reserved for the Connect workers themselves","body":"To fix &quot;no such method&quot; errors, you&#39;d probably need to use a version newer than 3.3.1. For example, your converter is using 7.2.1, so use the same for the serializer. You also should not really need the converter in your Java program. That should be reserved for the Connect workers themselves"}],"owner":{"account_id":5885632,"reputation":604,"user_id":4633735,"display_name":"Hemanth Gowda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661897916,"creation_date":1660371834,"question_id":73342014,"body_markdown":"I&#39;m trying to write the ADLS genn 2 in parquet format.\r\n\r\n    format.class: io.confluent.connect.azure.storage.format.parquet.ParquetFormat\r\n\r\n\r\n\r\nDependencies in pom.xml\r\n  \r\n\r\n&gt; &lt;dependency&gt;   &lt;groupId&gt;io.confluent&lt;/groupId&gt;  \r\n&gt; &lt;artifactId&gt;kafka-connect-avro-converter&lt;/artifactId&gt;  \r\n&gt; &lt;version&gt;7.2.1&lt;/version&gt;   &lt;/dependency&gt;\r\n\r\n\r\n\r\nkc_config.yaml\r\n\r\n \r\n\r\n        key.converter: io.confluent.connect.avro.AvroConverter\r\n        value.converter: io.confluent.connect.avro.AvroConverter\r\n        connector.class:io.confluent.connect.azure.datalake.gen2.AzureDataLakeGen2SinkConnector\r\n        storage.class: io.confluent.connect.azure.datalake.gen2.storage.AzureDataLakeGen2Storage\r\n        azure.datalake.gen2.account.name: ${ADLS_ACCOUNT_NAME}\r\n        azure.datalake.gen2.access.key: ${AZURE_KEY}\r\n\r\nError\r\n\r\n    java.lang.NoSuchMethodError: io.confluent.kafka.serializers.KafkaAvroSerializerConfig.getLatestCompatibilityStrict()Z\r\n            at io.confluent.kafka.serializers.AbstractKafkaAvroSerializer.configure(AbstractKafkaAvroSerializer.java:55)\r\n            at io.confluent.connect.avro.AvroConverter$Serializer.&lt;init&gt;(AvroConverter.java:145)\r\n            at io.confluent.connect.avro.AvroConverter.configure(AvroConverter.java:77)\r\n            at org.apache.kafka.connect.runtime.isolation.Plugins.newConverter(Plugins.java:293)\r\n            at org.apache.kafka.connect.runtime.Worker.startTask(Worker.java:446)\r\n            at org.apache.kafka.connect.runtime.distributed.DistributedHerder.startTask(DistributedHerder.java:1140)\r\n            at org.apache.kafka.connect.runtime.distributed.DistributedHerder.access$1700(DistributedHerder.java:125)\r\n            at org.apache.kafka.connect.runtime.distributed.DistributedHerder$13.call(DistributedHerder.java:1155)\r\n            at org.apache.kafka.connect.runtime.distributed.DistributedHerder$13.call(DistributedHerder.java:1151)\r\n            at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n            at java.lang.Thread.run(Thread.java:750)\r\n\r\n\r\n\r\n\r\n\r\n","title":"Kafka Connect azure-data-lake-gen2-connector fails with below error when using avro converter","body":"<p>I'm trying to write the ADLS genn 2 in parquet format.</p>\n<pre><code>format.class: io.confluent.connect.azure.storage.format.parquet.ParquetFormat\n</code></pre>\n<p>Dependencies in pom.xml</p>\n<blockquote>\n<p>   io.confluent<br />\nkafka-connect-avro-converter<br />\n7.2.1   </p>\n</blockquote>\n<p>kc_config.yaml</p>\n<pre><code>    key.converter: io.confluent.connect.avro.AvroConverter\n    value.converter: io.confluent.connect.avro.AvroConverter\n    connector.class:io.confluent.connect.azure.datalake.gen2.AzureDataLakeGen2SinkConnector\n    storage.class: io.confluent.connect.azure.datalake.gen2.storage.AzureDataLakeGen2Storage\n    azure.datalake.gen2.account.name: ${ADLS_ACCOUNT_NAME}\n    azure.datalake.gen2.access.key: ${AZURE_KEY}\n</code></pre>\n<p>Error</p>\n<pre><code>java.lang.NoSuchMethodError: io.confluent.kafka.serializers.KafkaAvroSerializerConfig.getLatestCompatibilityStrict()Z\n        at io.confluent.kafka.serializers.AbstractKafkaAvroSerializer.configure(AbstractKafkaAvroSerializer.java:55)\n        at io.confluent.connect.avro.AvroConverter$Serializer.&lt;init&gt;(AvroConverter.java:145)\n        at io.confluent.connect.avro.AvroConverter.configure(AvroConverter.java:77)\n        at org.apache.kafka.connect.runtime.isolation.Plugins.newConverter(Plugins.java:293)\n        at org.apache.kafka.connect.runtime.Worker.startTask(Worker.java:446)\n        at org.apache.kafka.connect.runtime.distributed.DistributedHerder.startTask(DistributedHerder.java:1140)\n        at org.apache.kafka.connect.runtime.distributed.DistributedHerder.access$1700(DistributedHerder.java:125)\n        at org.apache.kafka.connect.runtime.distributed.DistributedHerder$13.call(DistributedHerder.java:1155)\n        at org.apache.kafka.connect.runtime.distributed.DistributedHerder$13.call(DistributedHerder.java:1151)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at java.lang.Thread.run(Thread.java:750)\n</code></pre>\n"},{"tags":["java","swagger","openapi","openapi-generator"],"owner":{"account_id":28380,"reputation":2314,"user_id":75787,"accept_rate":65,"display_name":"evilfred"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661897910,"creation_date":1661897910,"question_id":73548988,"body_markdown":"I have a class Foo. Most of the time instances of it are Foo. There is an enum property fooType that has 100 different enum values. For 2 specific enum values, there is a corresponding subclass of Foo. For every other of the 98 values, the object is a Foo.\r\n\r\nJackson lets me specify a &quot;defaultImpl&quot; in @JsonTypeInfo to mark the default class (as Foo itself). However, I cannot find an equivalent in Swagger / Open API. The [documentation here][1] is rather difficult to grok but seems to indicate that you must list each value individually, which would be an arduous task and difficult to maintain. Is there no way to provide a fallback / default type for polymorphic deserialization?\r\n\r\n  [1]: https://github.com/OAI/OpenAPI-Specification/blob/main/versions/3.0.3.md#discriminatorObject","title":"How to specify default subclass for Swagger / Open API discriminator","body":"<p>I have a class Foo. Most of the time instances of it are Foo. There is an enum property fooType that has 100 different enum values. For 2 specific enum values, there is a corresponding subclass of Foo. For every other of the 98 values, the object is a Foo.</p>\n<p>Jackson lets me specify a &quot;defaultImpl&quot; in @JsonTypeInfo to mark the default class (as Foo itself). However, I cannot find an equivalent in Swagger / Open API. The <a href=\"https://github.com/OAI/OpenAPI-Specification/blob/main/versions/3.0.3.md#discriminatorObject\" rel=\"nofollow noreferrer\">documentation here</a> is rather difficult to grok but seems to indicate that you must list each value individually, which would be an arduous task and difficult to maintain. Is there no way to provide a fallback / default type for polymorphic deserialization?</p>\n"},{"tags":["java","eclipse","swing","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1661900344,"post_id":73548932,"comment_id":129880796,"body_markdown":"In addition to the info in the duplicate, see also, the [official openjfx.io documentation](https://openjfx.io/openjfx-docs/#install-javafx) section: &quot;JavaFX and Eclipse Non-modular from IDE&quot;.","body":"In addition to the info in the duplicate, see also, the <a href=\"https://openjfx.io/openjfx-docs/#install-javafx\" rel=\"nofollow noreferrer\">official openjfx.io documentation</a> section: &quot;JavaFX and Eclipse Non-modular from IDE&quot;."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1661900729,"post_id":73548932,"comment_id":129880865,"body_markdown":"Your example fails in several respects; compare it to this working [example](https://stackoverflow.com/a/41160520/230513).","body":"Your example fails in several respects; compare it to this working <a href=\"https://stackoverflow.com/a/41160520/230513\">example</a>."}],"owner":{"account_id":26202159,"reputation":1,"user_id":19882362,"display_name":"Nathaniel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1661900022,"answer_count":0,"score":0,"last_activity_date":1661897395,"creation_date":1661897395,"question_id":73548932,"body_markdown":"I tried creating a simple swing app with embedded javafx components and was receiving an error message and could not understand the error as I had followed the instruction given. I am new to programming and would like any assistance to solve the problem. I am coding using Eclipse Version: 2022-06 (4.24.0) Build id: 20220609-1112 on Windows 11.\r\n\r\n\r\n    package media;\r\n    \r\n    import javax.swing.JFrame;    \r\n    import javax.swing.SwingUtilities;    \r\n    import javafx.application.Platform;    \r\n    import javafx.embed.swing.JFXPanel;    \r\n    import javafx.scene.Group;    \r\n    import javafx.scene.Scene;    \r\n    import javafx.scene.paint.Color;    \r\n    import javafx.scene.text.Text;\r\n    \r\n    public class SFXApp {\r\n    \t\r\n    \r\n    \tprivate static void initAndShowGUI() {\r\n    \t\t//This method is invoked on the EDT thread\r\n    \t\tJFrame frame = new JFrame(&quot;Swing and JavaFX&quot;);\r\n    \t\tfinal JFXPanel fxPanel = new JFXPanel();\r\n    \t\tframe.add(fxPanel);\r\n    \t\tframe.setSize(300,200);\r\n    \t\tframe.setVisible(true);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\r\n    \t\tPlatform.runLater(new Runnable() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tinitFX(fxPanel);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tprivate static void initFX(JFXPanel fxPanel) {\r\n    \t\t//This method is invoked on the JavaFX thread\r\n    \t\tScene scene = createScene();\r\n    \t\tfxPanel.setScene(scene);\t\t\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tprivate static Scene createScene() {\r\n    \t\tGroup root = new Group();\r\n    \t\tScene scene = new Scene(root, Color.ALICEBLUE);\r\n    \t\tText text = new Text();\r\n    \t\t\r\n    \t\ttext.setText(&quot;Welcome JavaFX&quot;);\r\n    \t\t\r\n    \t\troot.getChildren().add(text);\r\n    \t\t\r\n    \t\treturn (scene);\t\t\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String args[]) {\r\n    \t\tSwingUtilities.invokeLater(new Runnable() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tinitAndShowGUI();\r\n    \t\t\t\t}\r\n    \t\t});\r\n    \t}\r\n    }\r\n\r\n[Java Build Path Libraries ][1]\r\n\r\n\r\n[Run Configuration VM ][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mKh3r.png\r\n  [2]: https://i.stack.imgur.com/1DOZ4.png\r\n\r\n\r\n&gt; Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.IllegalAccessError:\r\n&gt; class javafx.embed.swing.JFXPanel (in unnamed module @0x6ee9fee9)\r\n&gt; cannot access class com.sun.javafx.logging.PlatformLogger (in module\r\n&gt; javafx.base) because module javafx.base does not export\r\n&gt; com.sun.javafx.logging to unnamed module @0x6ee9fee9 \tat\r\n&gt; javafx.embed.swing.JFXPanel.&lt;clinit&gt;(JFXPanel.java:136) \tat\r\n&gt; media.SFXApp.initAndShowGUI(SFXApp.java:19) \tat\r\n&gt; media.SFXApp$2.run(SFXApp.java:57) \tat\r\n&gt; java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\r\n&gt; \tat\r\n&gt; java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\r\n&gt; \tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720) \tat\r\n&gt; java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714) \tat\r\n&gt; java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n&gt; \tat\r\n&gt; java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n&gt; \tat\r\n&gt; java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\r\n&gt; \tat\r\n&gt; java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n&gt; \tat\r\n&gt; java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n&gt; \tat\r\n&gt; java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n&gt; \tat\r\n&gt; java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n&gt; \tat\r\n&gt; java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n&gt; \tat\r\n&gt; java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n\r\n","title":"Error message on simple swing embedded javafx application","body":"<p>I tried creating a simple swing app with embedded javafx components and was receiving an error message and could not understand the error as I had followed the instruction given. I am new to programming and would like any assistance to solve the problem. I am coding using Eclipse Version: 2022-06 (4.24.0) Build id: 20220609-1112 on Windows 11.</p>\n<pre><code>package media;\n\nimport javax.swing.JFrame;    \nimport javax.swing.SwingUtilities;    \nimport javafx.application.Platform;    \nimport javafx.embed.swing.JFXPanel;    \nimport javafx.scene.Group;    \nimport javafx.scene.Scene;    \nimport javafx.scene.paint.Color;    \nimport javafx.scene.text.Text;\n\npublic class SFXApp {\n    \n\n    private static void initAndShowGUI() {\n        //This method is invoked on the EDT thread\n        JFrame frame = new JFrame(&quot;Swing and JavaFX&quot;);\n        final JFXPanel fxPanel = new JFXPanel();\n        frame.add(fxPanel);\n        frame.setSize(300,200);\n        frame.setVisible(true);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        Platform.runLater(new Runnable() {\n            @Override\n            public void run() {\n                initFX(fxPanel);\n            }\n        });\n        \n    }\n    \n    private static void initFX(JFXPanel fxPanel) {\n        //This method is invoked on the JavaFX thread\n        Scene scene = createScene();\n        fxPanel.setScene(scene);        \n        \n    }\n    \n    private static Scene createScene() {\n        Group root = new Group();\n        Scene scene = new Scene(root, Color.ALICEBLUE);\n        Text text = new Text();\n        \n        text.setText(&quot;Welcome JavaFX&quot;);\n        \n        root.getChildren().add(text);\n        \n        return (scene);     \n    }\n    \n    public static void main(String args[]) {\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                initAndShowGUI();\n                }\n        });\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/mKh3r.png\" rel=\"nofollow noreferrer\">Java Build Path Libraries </a></p>\n<p><a href=\"https://i.stack.imgur.com/1DOZ4.png\" rel=\"nofollow noreferrer\">Run Configuration VM </a></p>\n<blockquote>\n<p>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.IllegalAccessError:\nclass javafx.embed.swing.JFXPanel (in unnamed module @0x6ee9fee9)\ncannot access class com.sun.javafx.logging.PlatformLogger (in module\njavafx.base) because module javafx.base does not export\ncom.sun.javafx.logging to unnamed module @0x6ee9fee9  at\njavafx.embed.swing.JFXPanel.(JFXPanel.java:136)   at\nmedia.SFXApp.initAndShowGUI(SFXApp.java:19)   at\nmedia.SFXApp$2.run(SFXApp.java:57)    at\njava.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\nat\njava.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\nat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)  at\njava.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)   at\njava.base/java.security.AccessController.doPrivileged(AccessController.java:399)\nat\njava.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\nat\njava.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\nat\njava.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\nat\njava.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\nat\njava.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\nat\njava.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\nat\njava.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\nat\njava.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)</p>\n</blockquote>\n"},{"tags":["java","reactjs","spring-boot","deployment","cors"],"answers":[{"tags":[],"owner":{"account_id":5191510,"reputation":1415,"user_id":4154302,"display_name":"Asad Awadia"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1661896788,"creation_date":1661896788,"answer_id":73548856,"question_id":73548145,"body_markdown":"If there is a cors issue then add a cors middleware handler on the springboot side to allow the domain\r\n\r\nIf the devs for react and spring sides are different then deploy them separately.  If 1 team is doing both then deploy it together\r\n\r\nPut it/them in a docker container and deploy it on a VPS with Digitalocean ","title":"How do I deploy my react and spring boot application? What is the best approach from the two methods described below?","body":"<p>If there is a cors issue then add a cors middleware handler on the springboot side to allow the domain</p>\n<p>If the devs for react and spring sides are different then deploy them separately.  If 1 team is doing both then deploy it together</p>\n<p>Put it/them in a docker container and deploy it on a VPS with Digitalocean</p>\n"}],"owner":{"account_id":15906218,"reputation":83,"user_id":11477360,"display_name":"Hassan Raza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":537,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1661902825,"accepted_answer_id":73548856,"answer_count":1,"score":0,"last_activity_date":1661896788,"creation_date":1661891495,"question_id":73548145,"body_markdown":"I am trying to deploy my full stack application comprising of react and spring boot but I am not sure what the best approach is. I could either package the react files with in the spring boot jar but I am not sure if that has any implications with respect to security or even performance? \r\n\r\nAnother option which in my head sounds better is to host the frontend (react) and the backend(springboot) on two different domains but an issue I am facing with that is CORS issue. When running it locally everything was good but as soon I deploy them on two different domains there seems to be a CORS issue? \r\n\r\nAny advice would be much appreciated...","title":"How do I deploy my react and spring boot application? What is the best approach from the two methods described below?","body":"<p>I am trying to deploy my full stack application comprising of react and spring boot but I am not sure what the best approach is. I could either package the react files with in the spring boot jar but I am not sure if that has any implications with respect to security or even performance?</p>\n<p>Another option which in my head sounds better is to host the frontend (react) and the backend(springboot) on two different domains but an issue I am facing with that is CORS issue. When running it locally everything was good but as soon I deploy them on two different domains there seems to be a CORS issue?</p>\n<p>Any advice would be much appreciated...</p>\n"},{"tags":["java","jackson","osgi","jira","apache-felix"],"comments":[{"owner":{"account_id":2559174,"reputation":3256,"user_id":2220556,"display_name":"Scott Dudley"},"score":1,"creation_date":1528825362,"post_id":50819553,"comment_id":88650790,"body_markdown":"It sounds like you&#39;re using two dynamically-loaded P2 plugins inside Jira. Is it possible that your dependent plugin could be using an earlier version of the same class (previously loaded in an earlier incarnation of the first plugin) that did not have that annotation present? Restarting Jira after loading both plugins can help you decide if this theory holds water.","body":"It sounds like you&#39;re using two dynamically-loaded P2 plugins inside Jira. Is it possible that your dependent plugin could be using an earlier version of the same class (previously loaded in an earlier incarnation of the first plugin) that did not have that annotation present? Restarting Jira after loading both plugins can help you decide if this theory holds water."},{"owner":{"account_id":6303614,"reputation":4396,"user_id":4897413,"display_name":"gjoranv"},"score":1,"creation_date":1528832244,"post_id":50819553,"comment_id":88654134,"body_markdown":"As you are using Jackson 2, why does your importing bundle import classes from old Jackson 1 (org.codehaus)? Also, are you deploying the jackson bundles to your OSGi container? If not, I recommend you try that, and ensure that both your importing and exporting bundle have `Import-Package` on the relevant jackson packages. The three most central bundles are: `jackson-annotations`, `jackson-core` and `jackson-databind`. If both your bundles agree on which jackson classes to use, I think it should work.","body":"As you are using Jackson 2, why does your importing bundle import classes from old Jackson 1 (org.codehaus)? Also, are you deploying the jackson bundles to your OSGi container? If not, I recommend you try that, and ensure that both your importing and exporting bundle have <code>Import-Package</code> on the relevant jackson packages. The three most central bundles are: <code>jackson-annotations</code>, <code>jackson-core</code> and <code>jackson-databind</code>. If both your bundles agree on which jackson classes to use, I think it should work."},{"owner":{"account_id":2559174,"reputation":3256,"user_id":2220556,"display_name":"Scott Dudley"},"score":1,"creation_date":1528835669,"post_id":50819553,"comment_id":88655713,"body_markdown":"I think @gjoranv is on to something. The OP likely doesn&#39;t have control over the container (end users can typically only add new OSGi bundles to Jira, but not touch what&#39;s available&#160;in the main container itself). However, if the OP is bundling Jackson 2 in each of the two plugins individually, the annotation classes in each will be different and I imagine it will function as described in the problem. In this case, if the OP adjusts his code to use the Jackson 1 implementation that is already included in Jira, both plugins will share the same classes and it should work.","body":"I think @gjoranv is on to something. The OP likely doesn&#39;t have control over the container (end users can typically only add new OSGi bundles to Jira, but not touch what&#39;s available in the main container itself). However, if the OP is bundling Jackson 2 in each of the two plugins individually, the annotation classes in each will be different and I imagine it will function as described in the problem. In this case, if the OP adjusts his code to use the Jackson 1 implementation that is already included in Jira, both plugins will share the same classes and it should work."},{"owner":{"account_id":1574864,"reputation":3598,"user_id":1461602,"accept_rate":80,"display_name":"Tormod Haugene"},"score":0,"creation_date":1528875548,"post_id":50819553,"comment_id":88667321,"body_markdown":"Thanks for the insight, Scott and Gjoranv! I will answer each comment in order: (1, Scott - *restarting Jira*)  I tried to restart Jira/OSGi, but the error still persisted unfortunately. (2, Gjoranv - *Codehaus imports*) Good question! The Jira platform itself uses Jackson 1, but it still shouldn&#39;t be needed in the &quot;importing bundle&quot; (we are trying to use Jackson 2 as standard). I will try to see if I can find the code that imports the Codehaus version, and switch it over to FasterXml.","body":"Thanks for the insight, Scott and Gjoranv! I will answer each comment in order: (1, Scott - <i>restarting Jira</i>)  I tried to restart Jira/OSGi, but the error still persisted unfortunately. (2, Gjoranv - <i>Codehaus imports</i>) Good question! The Jira platform itself uses Jackson 1, but it still shouldn&#39;t be needed in the &quot;importing bundle&quot; (we are trying to use Jackson 2 as standard). I will try to see if I can find the code that imports the Codehaus version, and switch it over to FasterXml."},{"owner":{"account_id":1574864,"reputation":3598,"user_id":1461602,"accept_rate":80,"display_name":"Tormod Haugene"},"score":0,"creation_date":1528876034,"post_id":50819553,"comment_id":88667586,"body_markdown":"(3, Gjoranv/Scott *exposing Jackson 2 to OSGi*): Your assumption is correct, I currently have a *compile* dependency to Jackson 2.9.3 in *both bundles*. Are you suggesting that it might help to export the Jackson packages from the first bundle, importing those into the second bundle, and then change the mvn-dependency in the importing bundle to *provided*? Could you please elaborate why this would be different (I&#39;m not that familiar with how Jackson works at a detailed level). Regarding switching to Jackson 1; although this is possible, I find the feature set/syntax in v. 2 much better.. :-)","body":"(3, Gjoranv/Scott <i>exposing Jackson 2 to OSGi</i>): Your assumption is correct, I currently have a <i>compile</i> dependency to Jackson 2.9.3 in <i>both bundles</i>. Are you suggesting that it might help to export the Jackson packages from the first bundle, importing those into the second bundle, and then change the mvn-dependency in the importing bundle to <i>provided</i>? Could you please elaborate why this would be different (I&#39;m not that familiar with how Jackson works at a detailed level). Regarding switching to Jackson 1; although this is possible, I find the feature set/syntax in v. 2 much better.. :-)"},{"owner":{"account_id":6303614,"reputation":4396,"user_id":4897413,"display_name":"gjoranv"},"score":1,"creation_date":1528880038,"post_id":50819553,"comment_id":88669887,"body_markdown":"The simplest and best would be to deploy the jackson2 bundles along with your own bundles, and make sure both your bundles have `Import-Package` (use provided scope). Exporting the jackson2 packages from one of the bundles, and importing it the other should work the same way, but will give you the extra work of figuring out which packages to export. The correct set of packages are already exported from the jackson2 bundles. Why does it matter? i suspect (from experience) that the problem is that your two bundles are using different classes for the same jackson annotations.","body":"The simplest and best would be to deploy the jackson2 bundles along with your own bundles, and make sure both your bundles have <code>Import-Package</code> (use provided scope). Exporting the jackson2 packages from one of the bundles, and importing it the other should work the same way, but will give you the extra work of figuring out which packages to export. The correct set of packages are already exported from the jackson2 bundles. Why does it matter? i suspect (from experience) that the problem is that your two bundles are using different classes for the same jackson annotations."},{"owner":{"account_id":6303614,"reputation":4396,"user_id":4897413,"display_name":"gjoranv"},"score":1,"creation_date":1528880293,"post_id":50819553,"comment_id":88670034,"body_markdown":"When the jackson framework scans classes for annotations, it looks for the specific annotation class instance that it uses. If a bundle is using its own instance of the same class, the annotation will not be recognized. In OSGi, each bundle has a separate class loader, and each class loader can contain its own instance (but only one) of a given class.","body":"When the jackson framework scans classes for annotations, it looks for the specific annotation class instance that it uses. If a bundle is using its own instance of the same class, the annotation will not be recognized. In OSGi, each bundle has a separate class loader, and each class loader can contain its own instance (but only one) of a given class."},{"owner":{"account_id":1574864,"reputation":3598,"user_id":1461602,"accept_rate":80,"display_name":"Tormod Haugene"},"score":0,"creation_date":1528888254,"post_id":50819553,"comment_id":88675133,"body_markdown":"@gjoranv, thank you for the explanation! It seems like your suspicion was spot on: I tried exporting/importing `com.fasterxml.jackson` from the first bundle to the other, and that worked! :-) I&#39;ll do some research on how to best expose Jackson to OSGi, since I believe I will have to do it manually due to the overlay Jira has for Apache Felix. Either way, I&#39;d be struggling with this for quite some time if you and Scott hadn&#39;t stepped in, so thanks again! Also, if you&#39;d like to post the suggestion as an answer I&#39;ll accept that afterwards and update it with some concrete examples. ;-)","body":"@gjoranv, thank you for the explanation! It seems like your suspicion was spot on: I tried exporting/importing <code>com.fasterxml.jackson</code> from the first bundle to the other, and that worked! :-) I&#39;ll do some research on how to best expose Jackson to OSGi, since I believe I will have to do it manually due to the overlay Jira has for Apache Felix. Either way, I&#39;d be struggling with this for quite some time if you and Scott hadn&#39;t stepped in, so thanks again! Also, if you&#39;d like to post the suggestion as an answer I&#39;ll accept that afterwards and update it with some concrete examples. ;-)"},{"owner":{"account_id":6303614,"reputation":4396,"user_id":4897413,"display_name":"gjoranv"},"score":0,"creation_date":1528902644,"post_id":50819553,"comment_id":88684986,"body_markdown":"@TormodHaugene, glad I could help!","body":"@TormodHaugene, glad I could help!"}],"answers":[{"tags":[],"owner":{"account_id":6303614,"reputation":4396,"user_id":4897413,"display_name":"gjoranv"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1528902106,"creation_date":1528902106,"answer_id":50840470,"question_id":50819553,"body_markdown":"Based on my comments and your feedback:\r\n\r\nThe problem is that your two bundles have different instances of the Jackson annotation classes. When the Jackson framework scans classes for annotations, it looks for the specific annotation class instance that it uses. If a bundle has its own instance of the same class, the annotation will not be recognised. (In OSGi, each bundle has a separate class loader, and each class loader can contain its own instance of a given class.)\r\n\r\nYou can resolve this in two ways:\r\n\r\n 1. Deploy jackson2 as separate bundles to your OSGi container, and ensure that both your importing and exporting bundle have `Import-Package` on the relevant jackson packages. The most central bundles are: `jackson-annotations`, `jackson-core` and `jackson-databind`. In this case, use scope `provided` for the jackson2 dependencies in both your bundles.\r\n 2. Export the jackson2 packages from one of your bundles, and import it in the other. This will give you the extra work of figuring out and maintaining which packages to export. In this case, use scope `compile` for jackson2 in the exporting bundle, and scope `provided` in the importing bundle.\r\n\r\n","title":"Imported Jackson Annotations Ignored for POJOs in OSGi Dependency at Runtime","body":"<p>Based on my comments and your feedback:</p>\n\n<p>The problem is that your two bundles have different instances of the Jackson annotation classes. When the Jackson framework scans classes for annotations, it looks for the specific annotation class instance that it uses. If a bundle has its own instance of the same class, the annotation will not be recognised. (In OSGi, each bundle has a separate class loader, and each class loader can contain its own instance of a given class.)</p>\n\n<p>You can resolve this in two ways:</p>\n\n<ol>\n<li>Deploy jackson2 as separate bundles to your OSGi container, and ensure that both your importing and exporting bundle have <code>Import-Package</code> on the relevant jackson packages. The most central bundles are: <code>jackson-annotations</code>, <code>jackson-core</code> and <code>jackson-databind</code>. In this case, use scope <code>provided</code> for the jackson2 dependencies in both your bundles.</li>\n<li>Export the jackson2 packages from one of your bundles, and import it in the other. This will give you the extra work of figuring out and maintaining which packages to export. In this case, use scope <code>compile</code> for jackson2 in the exporting bundle, and scope <code>provided</code> in the importing bundle.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12085091,"reputation":1,"user_id":8834674,"display_name":"Carlos Kicdo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661896400,"creation_date":1661896285,"answer_id":73548800,"question_id":50819553,"body_markdown":"In my case there were Jackson imports that I wasn&#39;t taking into account. I just added them in the pom after I saw your comment. It worked perfectly. ","title":"Imported Jackson Annotations Ignored for POJOs in OSGi Dependency at Runtime","body":"<p>In my case there were Jackson imports that I wasn't taking into account. I just added them in the pom after I saw your comment. It worked perfectly.</p>\n"}],"owner":{"account_id":1574864,"reputation":3598,"user_id":1461602,"accept_rate":80,"display_name":"Tormod Haugene"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1044,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":50840470,"answer_count":2,"score":4,"last_activity_date":1661896400,"creation_date":1528813470,"question_id":50819553,"body_markdown":"## Summary\r\n*Jackson annotations applied to POJOs exported through an OSGi depdendency does not work when the POJO is serialized in an importing bundle at Runtime. If the POJO is placed in the using bundle directly, or tested in a Unit Test (in either bundle), everything works as expected.*\r\n\r\n*Does anyone know what could make the runtime serialization ignore the Jackson-annotations at runtime in the importing OSGi-bundle?*\r\n\r\n----------\r\n\r\nThis is a looong question. I have tried to create an as simple example as possible. If anything is unclear, please let me know, and I will try to elaborate.\r\n\r\n***Contents***\r\n\r\n* Inside Exporting Bundle\r\n - POJO\r\n - Unit test (which works)\r\n - Runtime test (which works)\r\n\r\n* Inside Importing Bundle\r\n - Unit test (which works)\r\n - Runtime test (which FAILS)\r\n\r\n* Runtime environment details\r\n* Bundle manifests (simplified)\r\n\r\n\r\n\r\n# Simplified example:\r\n\r\nLet&#39;s assume we have want to serialize a simple POJO exported and imported over OSGi. The JSON-annotations should work both in the importing and exporting bundle, both runtime and during unit tests (runtime fails in the when imported).\r\n\r\n--------------\r\n## Inside Exporting Bundle:\r\n\r\nBoth runtime and unit tests of the Jackson serialization works just fine in the bundle where the POJO itself is declared.\r\n\r\n**POJO to serialize** \r\n\r\nThe `@JsonProperty`-annotation should make any serialized version of this POJO look something like `{&quot;correctSerializedName&quot;:&quot;someName&quot;}` and not `{&quot;javaName&quot;:&quot;someName&quot;}`:\r\n\r\n    package exporting.osgi.bundle.models;\r\n\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n\r\n    public class DependencyModel {\r\n    \r\n        private String javaName;\r\n\r\n        @JsonProperty(&quot;correctSerializedName&quot;)\r\n        public String getJavaName() {\r\n            return javaName;\r\n        }\r\n\r\n        public DependencyModel(String javaName) {\r\n            this.javaName = javaName;\r\n        }\r\n    }\r\n\r\n**Correct behaviour: Unit test**\r\n\r\n    import com.fasterxml.jackson.*;\r\n    import org.junit.jupiter.*;\r\n\r\n    class ExportingBundleTests {\r\n\r\n        @Test\r\n        void serialize_inDepdendencyProject_getsCorrectJsonName() {\r\n            DependencyModel dependencyModel = new DependencyModel(&quot;name&quot;);\r\n\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            String jsonString = mapper.writeValueAsString(dependencyModel);\r\n\r\n            // Asserts True -&gt; serialization works as expected\r\n            assertEquals(jsonString, &quot;{\\&quot;correctSerializedName\\&quot;:\\&quot;name\\&quot;}&quot;);\r\n        }    \r\n    }\r\n\r\n**Correct behaviour: Runtime**\r\n\r\n    public void runtimeFromDepdendency() {\r\n        DependencyModel dependencyModel = new DependencyModel(&quot;name&quot;);\r\n\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        String jsonString = mapper.writeValueAsString(dependencyModel);\r\n\r\n        // jsonString = {&quot;correctSerializedName&quot;:&quot;name&quot;}\r\n    }\r\n\r\n--------------\r\n## Inside the importing OSGi bundle\r\n\r\n**Correct behaviour: Unit test**\r\n\r\n    import exporting.osgi.bundle.models.DependencyModel;\r\n    import com.fasterxml.jackson.*;\r\n    import org.junit.jupiter.api.*;\r\n\r\n    class ImportingBundleTests {\r\n\r\n        @Test\r\n        void serialize_inUsingProject_getsCorrectJsonName() {\r\n\r\n            DependencyModel dependencyModel = new DependencyModel(&quot;name&quot;);\r\n\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            String jsonString = mapper.writeValueAsString(dependencyModel);\r\n\r\n            // Asserts True -&gt; serialization works as expected\r\n            assertEquals(jsonString, &quot;{\\&quot;correctSerializedName\\&quot;:\\&quot;name\\&quot;}&quot;);\r\n        }\r\n    }\r\n\r\n**FAILS: Runtime**\r\n\r\n    import exporting.osgi.bundle.models.DependencyModel;\r\n    import com.fasterxml.jackson.*;\r\n\r\n    public Response runsFromUsingProject() throws JsonProcessingException {\r\n        DependencyModel dependencyModel = new DependencyModel(&quot;name&quot;);\r\n\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        String jsonString = mapper.writeValueAsString(dependencyModel);\r\n\r\n        // jsonString = {&quot;javaName&quot;:&quot;name&quot;}   &lt;---- WHICH IS WRONG\r\n    }\r\n\r\n\r\n--------------\r\n\r\n\r\n## Runtime environment\r\n\r\n* Jira 7.2.2 OSGi (based on Apache Felix)\r\n* Maven 3.2.1\r\n* Java 1.8\r\n* Jackson 2.9.3\r\n\r\n## Exporting plugin Bundle Manifest (simplified)\r\n\r\n    Created-By: Apache Maven Bundle Plugin\r\n    Manifest-Version: 1.0\r\n    Build-Jdk: 1.8.0_111\r\n    Bundle-ManifestVersion: 2\r\n    \r\n    Export-Package:\r\n    ...\r\n    exporting.osgi.bundle;version=&quot;1.0.0&quot;;\r\n        uses:=&quot;exporting.osgi.bundle.models&quot;,\r\n    ...\r\n\r\n    Originally-Created-By: Apache Maven Bundle Plugin\r\n    Require-Capability: osgi.ee;filter:=&quot;(&amp;(osgi.ee=JavaSE)(version=1.8))&quot;\r\n    Spring-Context: *\r\n    Tool: Bnd-2.4.1.201501161923\r\n\r\n## Importing plugin Bundle Manifest (simplified)\r\n\r\n    Created-By: Apache Maven Bundle Plugin\r\n    Manifest-Version: 1.0\r\n    Build-Jdk: 1.8.0_111\r\n    Bundle-ManifestVersion: 2\r\n    Archiver-Version: Plexus Archiver\r\n    Bundle-ClassPath: .,META-INF/lib/gt-epsg-hsql-18.1.jar,META-INF/lib/sq\r\n    lite-jdbc-3.8.11.1.jar\r\n\r\n    Import-Package: \r\n    ...\r\n    exporting.osgi.bundle.models\r\n    ...\r\n    com.fasterxml.jackson.dataformat.xml;resolution:=optional,\r\n    com.fasterxml.jackson.dataformat.xml.deser;resolution:=optional,\r\n    com.fasterxml.jackson.dataformat.xml.ser;resolution:=optional,\r\n    org.codehaus.jackson;resolution:=optional,\r\n    org.codehaus.jackson.annotate;resolution:=optional,\r\n    org.codehaus.jackson.map;resolution:=optional,\r\n    org.codehaus.jackson.map.annotate;resolution:=optional,\r\n    ...\r\n    \r\n    Originally-Created-By: Apache Maven Bundle Plugin\r\n    Require-Capability: osgi.ee;filter:=&quot;(&amp;(osgi.ee=JavaSE)(version=1.8))&quot;\r\n    Spring-Context: *\r\n    Tool: Bnd-2.4.1.201501161923\r\n\r\n\r\n\r\n\r\n----------------\r\n\r\nAs illustrated above, the `@JsonProperty`-annotation is ignored *at runtime in the importing depdendency*, but everything else works as expected. Again, I don&#39;t think this is a Jackson-version issue, although I might have overlooked something.\r\n\r\nHave I perhaps missed some fundamental OSGi-behaviour?\r\n\r\n","title":"Imported Jackson Annotations Ignored for POJOs in OSGi Dependency at Runtime","body":"<h2>Summary</h2>\n\n<p><em>Jackson annotations applied to POJOs exported through an OSGi depdendency does not work when the POJO is serialized in an importing bundle at Runtime. If the POJO is placed in the using bundle directly, or tested in a Unit Test (in either bundle), everything works as expected.</em></p>\n\n<p><em>Does anyone know what could make the runtime serialization ignore the Jackson-annotations at runtime in the importing OSGi-bundle?</em></p>\n\n<hr>\n\n<p>This is a looong question. I have tried to create an as simple example as possible. If anything is unclear, please let me know, and I will try to elaborate.</p>\n\n<p><strong><em>Contents</em></strong></p>\n\n<ul>\n<li><p>Inside Exporting Bundle</p>\n\n<ul>\n<li>POJO</li>\n<li>Unit test (which works)</li>\n<li>Runtime test (which works)</li>\n</ul></li>\n<li><p>Inside Importing Bundle</p>\n\n<ul>\n<li>Unit test (which works)</li>\n<li>Runtime test (which FAILS)</li>\n</ul></li>\n<li><p>Runtime environment details</p></li>\n<li>Bundle manifests (simplified)</li>\n</ul>\n\n<h1>Simplified example:</h1>\n\n<p>Let's assume we have want to serialize a simple POJO exported and imported over OSGi. The JSON-annotations should work both in the importing and exporting bundle, both runtime and during unit tests (runtime fails in the when imported).</p>\n\n<hr>\n\n<h2>Inside Exporting Bundle:</h2>\n\n<p>Both runtime and unit tests of the Jackson serialization works just fine in the bundle where the POJO itself is declared.</p>\n\n<p><strong>POJO to serialize</strong> </p>\n\n<p>The <code>@JsonProperty</code>-annotation should make any serialized version of this POJO look something like <code>{\"correctSerializedName\":\"someName\"}</code> and not <code>{\"javaName\":\"someName\"}</code>:</p>\n\n<pre><code>package exporting.osgi.bundle.models;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\npublic class DependencyModel {\n\n    private String javaName;\n\n    @JsonProperty(\"correctSerializedName\")\n    public String getJavaName() {\n        return javaName;\n    }\n\n    public DependencyModel(String javaName) {\n        this.javaName = javaName;\n    }\n}\n</code></pre>\n\n<p><strong>Correct behaviour: Unit test</strong></p>\n\n<pre><code>import com.fasterxml.jackson.*;\nimport org.junit.jupiter.*;\n\nclass ExportingBundleTests {\n\n    @Test\n    void serialize_inDepdendencyProject_getsCorrectJsonName() {\n        DependencyModel dependencyModel = new DependencyModel(\"name\");\n\n        ObjectMapper mapper = new ObjectMapper();\n        String jsonString = mapper.writeValueAsString(dependencyModel);\n\n        // Asserts True -&gt; serialization works as expected\n        assertEquals(jsonString, \"{\\\"correctSerializedName\\\":\\\"name\\\"}\");\n    }    \n}\n</code></pre>\n\n<p><strong>Correct behaviour: Runtime</strong></p>\n\n<pre><code>public void runtimeFromDepdendency() {\n    DependencyModel dependencyModel = new DependencyModel(\"name\");\n\n    ObjectMapper mapper = new ObjectMapper();\n    String jsonString = mapper.writeValueAsString(dependencyModel);\n\n    // jsonString = {\"correctSerializedName\":\"name\"}\n}\n</code></pre>\n\n<hr>\n\n<h2>Inside the importing OSGi bundle</h2>\n\n<p><strong>Correct behaviour: Unit test</strong></p>\n\n<pre><code>import exporting.osgi.bundle.models.DependencyModel;\nimport com.fasterxml.jackson.*;\nimport org.junit.jupiter.api.*;\n\nclass ImportingBundleTests {\n\n    @Test\n    void serialize_inUsingProject_getsCorrectJsonName() {\n\n        DependencyModel dependencyModel = new DependencyModel(\"name\");\n\n        ObjectMapper mapper = new ObjectMapper();\n        String jsonString = mapper.writeValueAsString(dependencyModel);\n\n        // Asserts True -&gt; serialization works as expected\n        assertEquals(jsonString, \"{\\\"correctSerializedName\\\":\\\"name\\\"}\");\n    }\n}\n</code></pre>\n\n<p><strong>FAILS: Runtime</strong></p>\n\n<pre><code>import exporting.osgi.bundle.models.DependencyModel;\nimport com.fasterxml.jackson.*;\n\npublic Response runsFromUsingProject() throws JsonProcessingException {\n    DependencyModel dependencyModel = new DependencyModel(\"name\");\n\n    ObjectMapper mapper = new ObjectMapper();\n    String jsonString = mapper.writeValueAsString(dependencyModel);\n\n    // jsonString = {\"javaName\":\"name\"}   &lt;---- WHICH IS WRONG\n}\n</code></pre>\n\n<hr>\n\n<h2>Runtime environment</h2>\n\n<ul>\n<li>Jira 7.2.2 OSGi (based on Apache Felix)</li>\n<li>Maven 3.2.1</li>\n<li>Java 1.8</li>\n<li>Jackson 2.9.3</li>\n</ul>\n\n<h2>Exporting plugin Bundle Manifest (simplified)</h2>\n\n<pre><code>Created-By: Apache Maven Bundle Plugin\nManifest-Version: 1.0\nBuild-Jdk: 1.8.0_111\nBundle-ManifestVersion: 2\n\nExport-Package:\n...\nexporting.osgi.bundle;version=\"1.0.0\";\n    uses:=\"exporting.osgi.bundle.models\",\n...\n\nOriginally-Created-By: Apache Maven Bundle Plugin\nRequire-Capability: osgi.ee;filter:=\"(&amp;(osgi.ee=JavaSE)(version=1.8))\"\nSpring-Context: *\nTool: Bnd-2.4.1.201501161923\n</code></pre>\n\n<h2>Importing plugin Bundle Manifest (simplified)</h2>\n\n<pre><code>Created-By: Apache Maven Bundle Plugin\nManifest-Version: 1.0\nBuild-Jdk: 1.8.0_111\nBundle-ManifestVersion: 2\nArchiver-Version: Plexus Archiver\nBundle-ClassPath: .,META-INF/lib/gt-epsg-hsql-18.1.jar,META-INF/lib/sq\nlite-jdbc-3.8.11.1.jar\n\nImport-Package: \n...\nexporting.osgi.bundle.models\n...\ncom.fasterxml.jackson.dataformat.xml;resolution:=optional,\ncom.fasterxml.jackson.dataformat.xml.deser;resolution:=optional,\ncom.fasterxml.jackson.dataformat.xml.ser;resolution:=optional,\norg.codehaus.jackson;resolution:=optional,\norg.codehaus.jackson.annotate;resolution:=optional,\norg.codehaus.jackson.map;resolution:=optional,\norg.codehaus.jackson.map.annotate;resolution:=optional,\n...\n\nOriginally-Created-By: Apache Maven Bundle Plugin\nRequire-Capability: osgi.ee;filter:=\"(&amp;(osgi.ee=JavaSE)(version=1.8))\"\nSpring-Context: *\nTool: Bnd-2.4.1.201501161923\n</code></pre>\n\n<hr>\n\n<p>As illustrated above, the <code>@JsonProperty</code>-annotation is ignored <em>at runtime in the importing depdendency</em>, but everything else works as expected. Again, I don't think this is a Jackson-version issue, although I might have overlooked something.</p>\n\n<p>Have I perhaps missed some fundamental OSGi-behaviour?</p>\n"},{"tags":["java","spring-boot","docker","cassandra","datastax-java-driver"],"answers":[{"tags":[],"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661895803,"creation_date":1661865285,"answer_id":73543094,"question_id":73542049,"body_markdown":"**[EDITED]** You need to publish both the port and a host IP address to expose the containers&#39; services outside of the Docker network. For example:\r\n\r\n```\r\n$ docker run ... -p 10.1.2.3:10001:9042\r\n```\r\n\r\nThis means that the container service running on port `9042` will be accessible on host IP `10.1.2.3:10001`.\r\n\r\nAs a side note, if your goal is to simply learn how to build apps with Cassandra as a backend then you can use **Astra DB**. It is a Cassandra-as-a-service running on the cloud. You can [sign up for a free account here][2] with no credit card required and you can launch a free Cassandra cluster in just 5 clicks. Cheers!\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.3.6.RELEASE/reference/htmlsingle/#boot-features-cassandra\r\n  [2]: https://dtsx.io/2XM1INf","title":"Getting error connecting to 4-node Cassandra cluster running in Docker from Spring Boot app","body":"<p><strong>[EDITED]</strong> You need to publish both the port and a host IP address to expose the containers' services outside of the Docker network. For example:</p>\n<pre><code>$ docker run ... -p 10.1.2.3:10001:9042\n</code></pre>\n<p>This means that the container service running on port <code>9042</code> will be accessible on host IP <code>10.1.2.3:10001</code>.</p>\n<p>As a side note, if your goal is to simply learn how to build apps with Cassandra as a backend then you can use <strong>Astra DB</strong>. It is a Cassandra-as-a-service running on the cloud. You can <a href=\"https://dtsx.io/2XM1INf\" rel=\"nofollow noreferrer\">sign up for a free account here</a> with no credit card required and you can launch a free Cassandra cluster in just 5 clicks. Cheers!</p>\n"}],"owner":{"account_id":16641195,"reputation":359,"user_id":13154548,"display_name":"eternal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1079,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661895803,"creation_date":1661860460,"question_id":73542049,"body_markdown":"I am trying to set up docker-compose with 4 Cassandra nodes. Here is my docker-compose configuration:\r\n\r\n        version: &quot;3.8&quot;\r\n    \r\n    services:\r\n      cass1:\r\n        image: cassandra:4\r\n        container_name: cass1\r\n        hostname: cass1\r\n        networks:\r\n          cass_netwrok:\r\n            ipv4_address: 172.30.0.2\r\n        expose:\r\n          - 9042\r\n        ports:\r\n          - &quot;9042:9042&quot;\r\n        environment:\r\n          - CASSANDRA_CLUSTER_NAME=default\r\n          - CASSANDRA_SEEDS=cass1\r\n      cass2:\r\n        image: cassandra:4\r\n        container_name: cass2\r\n        hostname: cass2\r\n        networks:\r\n          cass_netwrok:\r\n            ipv4_address: 172.30.0.3\r\n        expose:\r\n          - 9042\r\n        ports:\r\n          - &quot;9043:9042&quot;\r\n        environment:\r\n          - CASSANDRA_CLUSTER_NAME=default\r\n          - CASSANDRA_SEEDS=cass1\r\n        depends_on:\r\n          - cass1\r\n      cass3:\r\n        image: cassandra:4\r\n        container_name: cass3\r\n        hostname: cass3\r\n        networks:\r\n          cass_netwrok:\r\n            ipv4_address: 172.30.0.4\r\n        expose:\r\n          - 9042\r\n        ports:\r\n          - &quot;9044:9042&quot;\r\n        environment:\r\n          - CASSANDRA_CLUSTER_NAME=default\r\n          - CASSANDRA_SEEDS=cass1\r\n        depends_on:\r\n          - cass1\r\n      cass4:\r\n        expose:\r\n          - 9042\r\n        image: cassandra:4\r\n        container_name: cass4\r\n        hostname: cass4\r\n        networks:\r\n          cass_netwrok:\r\n            ipv4_address: 172.30.0.5\r\n        ports:\r\n          - &quot;9045:9042&quot;\r\n        environment:\r\n          - CASSANDRA_CLUSTER_NAME=default\r\n          - CASSANDRA_SEEDS=cass1\r\n        depends_on:\r\n          - cass1\r\n    \r\n    networks:\r\n      cass_netwrok:\r\n        ipam:\r\n          driver: default\r\n          config:\r\n            - subnet: 172.30.0.0/16\r\n\r\nLooks like this is working, because I can connect to 1 node by localhost:9042 and create a keyspace plus table and observe the same table in the second node localhost:9043.\r\n\r\nBut when I am trying to set up the spring boot application and connect to Cassandra, I observe errors in logs:\r\n\r\n    2022-08-30 14:45:47.252  INFO 135480 --- [           main] c.d.o.d.i.core.DefaultMavenCoordinates   : DataStax Java driver for Apache Cassandra(R) (com.datastax.oss:java-driver-core) version 4.14.1\r\n    2022-08-30 14:45:47.692  INFO 135480 --- [     s0-admin-0] c.d.oss.driver.internal.core.time.Clock  : Using native clock for microsecond precision\r\n    2022-08-30 14:45:48.191  WARN 135480 --- [        s0-io-2] c.d.o.d.i.c.m.DefaultTopologyMonitor     : [s0] Found invalid row in system.peers_v2 for peer: /172.30.0.3. This is likely a gossip or snitch issue, this node will be ignored.\r\n    2022-08-30 14:45:48.214  WARN 135480 --- [        s0-io-2] c.d.o.d.i.c.m.SchemaAgreementChecker     : [s0] Found invalid system.peers row for peer: /172.30.0.3, excluding from schema agreement check.\r\n    2022-08-30 14:45:53.315  WARN 135480 --- [     s0-admin-0] c.d.o.d.internal.core.pool.ChannelPool   : [s0|/172.30.0.5:9042]  Error while opening new channel (ConnectionInitException: [s0|connecting...] Protocol initialization request, step 1 (STARTUP {CQL_VERSION=3.0.0, DRIVER_NAME=DataStax Java driver for Apache Cassandra(R), DRIVER_VERSION=4.14.1, CLIENT_ID=6bf33612-5f5a-497c-a475-ef1d522d6c2d}): failed to send request (java.nio.channels.NotYetConnectedException))\r\n    2022-08-30 14:45:53.315  WARN 135480 --- [     s0-admin-1] c.d.o.d.internal.core.pool.ChannelPool   : [s0|/172.30.0.4:9042]  Error while opening new channel (ConnectionInitException: [s0|connecting...] Protocol initialization request, step 1 (STARTUP {CQL_VERSION=3.0.0, DRIVER_NAME=DataStax Java driver for Apache Cassandra(R), DRIVER_VERSION=4.14.1, CLIENT_ID=6bf33612-5f5a-497c-a475-ef1d522d6c2d}): failed to send request (java.nio.channels.NotYetConnectedException))\r\n    2022-08-30 14:45:53.346  INFO 135480 --- [     s1-admin-0] c.d.oss.driver.internal.core.time.Clock  : Using native clock for microsecond precision\r\n    2022-08-30 14:45:53.387  WARN 135480 --- [        s1-io-2] c.d.o.d.i.c.m.DefaultTopologyMonitor     : [s1] Found invalid row in system.peers_v2 for peer: /172.30.0.3. This is likely a gossip or snitch issue, this node will be ignored.\r\n    2022-08-30 14:45:53.394  WARN 135480 --- [        s1-io-2] c.d.o.d.i.c.m.SchemaAgreementChecker     : [s1] Found invalid system.peers row for peer: /172.30.0.3, excluding from schema agreement check.\r\n    2022-08-30 14:45:58.438  WARN 135480 --- [     s1-admin-1] c.d.o.d.internal.core.pool.ChannelPool   : [s1|/172.30.0.4:9042]  Error while opening new channel (ConnectionInitException: [s1|connecting...] Protocol initialization request, step 1 (STARTUP {CQL_VERSION=3.0.0, DRIVER_NAME=DataStax Java driver for Apache Cassandra(R), DRIVER_VERSION=4.14.1, CLIENT_ID=b9d24164-5b75-4a69-acbb-b162b20c0679}): failed to send request (java.nio.channels.NotYetConnectedException))\r\n    2022-08-30 14:45:58.446  WARN 135480 --- [     s1-admin-0] c.d.o.d.internal.core.pool.ChannelPool   : [s1|/172.30.0.5:9042]  Error while opening new channel (ConnectionInitException: [s1|connecting...] Protocol initialization request, step 1 (STARTUP {CQL_VERSION=3.0.0, DRIVER_NAME=DataStax Java driver for Apache Cassandra(R), DRIVER_VERSION=4.14.1, CLIENT_ID=b9d24164-5b75-4a69-acbb-b162b20c0679}): failed to send request (java.nio.channels.NotYetConnectedException))\r\n    2022-08-30 14:45:58.472  WARN 135480 --- [        s0-io-2] c.d.o.d.i.c.m.SchemaAgreementChecker     : [s0] Found invalid system.peers row for peer: /172.30.0.3, excluding from schema agreement check.\r\n    2022-08-30 14:45:58.474  WARN 135480 --- [        s1-io-2] c.d.o.d.i.c.m.SchemaAgreementChecker     : [s1] Found invalid system.peers row for peer: /172.30.0.3, excluding from schema agreement check.\r\n    2022-08-30 14:45:58.608  WARN 135480 --- [        s1-io-2] c.d.o.d.i.c.m.SchemaAgreementChecker     : [s1] Found invalid system.peers row for peer: /172.30.0.3, excluding from schema agreement check.\r\n    2022-08-30 14:45:59.305  INFO 135480 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    2022-08-30 14:45:59.319  INFO 135480 --- [           main] c.e.nosqltask3.NoSqlTask3Application     : Started NoSqlTask3Application in 14.233 seconds (JVM running for 15.225)\r\n    2022-08-30 14:45:59.334  WARN 135480 --- [     s0-admin-0] c.d.o.d.internal.core.pool.ChannelPool   : [s0|/172.30.0.5:9042]  Error while opening new channel (ConnectionInitException: [s0|connecting...] Protocol initialization request, step 1 (STARTUP {CQL_VERSION=3.0.0, DRIVER_NAME=DataStax Java driver for Apache Cassandra(R), DRIVER_VERSION=4.14.1, CLIENT_ID=6bf33612-5f5a-497c-a475-ef1d522d6c2d}): failed to send request (java.nio.channels.NotYetConnectedException))\r\n    2022-08-30 14:45:59.429  WARN 135480 --- [     s0-admin-1] c.d.o.d.internal.core.pool.ChannelPool   : [s0|/172.30.0.4:9042]  Error while opening new channel (ConnectionInitException: [s0|connecting...] Protocol initialization request, step 1 (STARTUP {CQL_VERSION=3.0.0, DRIVER_NAME=DataStax Java driver for Apache Cassandra(R), DRIVER_VERSION=4.14.1, CLIENT_ID=6bf33612-5f5a-497c-a475-ef1d522d6c2d}): failed to send request (java.nio.channels.NotYetConnectedException))\r\n    2022-08-30 14:46:04.472  WARN 135480 --- [     s1-admin-0] c.d.o.d.internal.core.pool.ChannelPool   : [s1|/172.30.0.5:9042]  Error while opening new channel (ConnectionInitException: [s1|connecting...] Protocol initialization request, step 1 (STARTUP {CQL_VERSION=3.0.0, DRIVER_NAME=DataStax Java driver for Apache Cassandra(R), DRIVER_VERSION=4.14.1, CLIENT_ID=b9d24164-5b75-4a69-acbb-b162b20c0679}): failed to send request (java.nio.channels.NotYetConnectedException))\r\n\r\nEspecially I don&#39;t know how to fix `Error while opening new channel`. I guess that this is because spring boot trying to connect to the node by container IP and default Cassandra port 9042, but only the first node has the 9042 port exposed.\r\n\r\nHere is my spring properties:\r\n\r\n    spring:\r\n      data:\r\n        cassandra:\r\n          keyspace-name: events\r\n          contact-points:\r\n            - &quot;localhost:9042&quot;\r\n            - &quot;localhost:9043&quot;\r\n            - &quot;localhost:9044&quot;\r\n            - &quot;localhost:9045&quot;\r\n\r\nAnd Cassandra config class:\r\n\r\n    @Configuration\r\n    @EnableCassandraRepositories(basePackages = &quot;com.eternal.nosqltask3.repository&quot;)\r\n    public class CassandraConfig extends AbstractCassandraConfiguration {\r\n    \r\n        @Value(&quot;${spring.data.cassandra.keyspace-name}&quot;)\r\n        private String keyspace;\r\n        @Override\r\n        protected String getKeyspaceName() {\r\n            return keyspace;\r\n        }\r\n    }\r\n\r\nPlease suggest, what am I missing to set up multi-node Cassandra and spring boot without errors.","title":"Getting error connecting to 4-node Cassandra cluster running in Docker from Spring Boot app","body":"<p>I am trying to set up docker-compose with 4 Cassandra nodes. Here is my docker-compose configuration:</p>\n<pre><code>    version: &quot;3.8&quot;\n\nservices:\n  cass1:\n    image: cassandra:4\n    container_name: cass1\n    hostname: cass1\n    networks:\n      cass_netwrok:\n        ipv4_address: 172.30.0.2\n    expose:\n      - 9042\n    ports:\n      - &quot;9042:9042&quot;\n    environment:\n      - CASSANDRA_CLUSTER_NAME=default\n      - CASSANDRA_SEEDS=cass1\n  cass2:\n    image: cassandra:4\n    container_name: cass2\n    hostname: cass2\n    networks:\n      cass_netwrok:\n        ipv4_address: 172.30.0.3\n    expose:\n      - 9042\n    ports:\n      - &quot;9043:9042&quot;\n    environment:\n      - CASSANDRA_CLUSTER_NAME=default\n      - CASSANDRA_SEEDS=cass1\n    depends_on:\n      - cass1\n  cass3:\n    image: cassandra:4\n    container_name: cass3\n    hostname: cass3\n    networks:\n      cass_netwrok:\n        ipv4_address: 172.30.0.4\n    expose:\n      - 9042\n    ports:\n      - &quot;9044:9042&quot;\n    environment:\n      - CASSANDRA_CLUSTER_NAME=default\n      - CASSANDRA_SEEDS=cass1\n    depends_on:\n      - cass1\n  cass4:\n    expose:\n      - 9042\n    image: cassandra:4\n    container_name: cass4\n    hostname: cass4\n    networks:\n      cass_netwrok:\n        ipv4_address: 172.30.0.5\n    ports:\n      - &quot;9045:9042&quot;\n    environment:\n      - CASSANDRA_CLUSTER_NAME=default\n      - CASSANDRA_SEEDS=cass1\n    depends_on:\n      - cass1\n\nnetworks:\n  cass_netwrok:\n    ipam:\n      driver: default\n      config:\n        - subnet: 172.30.0.0/16\n</code></pre>\n<p>Looks like this is working, because I can connect to 1 node by localhost:9042 and create a keyspace plus table and observe the same table in the second node localhost:9043.</p>\n<p>But when I am trying to set up the spring boot application and connect to Cassandra, I observe errors in logs:</p>\n<pre><code>2022-08-30 14:45:47.252  INFO 135480 --- [           main] c.d.o.d.i.core.DefaultMavenCoordinates   : DataStax Java driver for Apache Cassandra(R) (com.datastax.oss:java-driver-core) version 4.14.1\n2022-08-30 14:45:47.692  INFO 135480 --- [     s0-admin-0] c.d.oss.driver.internal.core.time.Clock  : Using native clock for microsecond precision\n2022-08-30 14:45:48.191  WARN 135480 --- [        s0-io-2] c.d.o.d.i.c.m.DefaultTopologyMonitor     : [s0] Found invalid row in system.peers_v2 for peer: /172.30.0.3. This is likely a gossip or snitch issue, this node will be ignored.\n2022-08-30 14:45:48.214  WARN 135480 --- [        s0-io-2] c.d.o.d.i.c.m.SchemaAgreementChecker     : [s0] Found invalid system.peers row for peer: /172.30.0.3, excluding from schema agreement check.\n2022-08-30 14:45:53.315  WARN 135480 --- [     s0-admin-0] c.d.o.d.internal.core.pool.ChannelPool   : [s0|/172.30.0.5:9042]  Error while opening new channel (ConnectionInitException: [s0|connecting...] Protocol initialization request, step 1 (STARTUP {CQL_VERSION=3.0.0, DRIVER_NAME=DataStax Java driver for Apache Cassandra(R), DRIVER_VERSION=4.14.1, CLIENT_ID=6bf33612-5f5a-497c-a475-ef1d522d6c2d}): failed to send request (java.nio.channels.NotYetConnectedException))\n2022-08-30 14:45:53.315  WARN 135480 --- [     s0-admin-1] c.d.o.d.internal.core.pool.ChannelPool   : [s0|/172.30.0.4:9042]  Error while opening new channel (ConnectionInitException: [s0|connecting...] Protocol initialization request, step 1 (STARTUP {CQL_VERSION=3.0.0, DRIVER_NAME=DataStax Java driver for Apache Cassandra(R), DRIVER_VERSION=4.14.1, CLIENT_ID=6bf33612-5f5a-497c-a475-ef1d522d6c2d}): failed to send request (java.nio.channels.NotYetConnectedException))\n2022-08-30 14:45:53.346  INFO 135480 --- [     s1-admin-0] c.d.oss.driver.internal.core.time.Clock  : Using native clock for microsecond precision\n2022-08-30 14:45:53.387  WARN 135480 --- [        s1-io-2] c.d.o.d.i.c.m.DefaultTopologyMonitor     : [s1] Found invalid row in system.peers_v2 for peer: /172.30.0.3. This is likely a gossip or snitch issue, this node will be ignored.\n2022-08-30 14:45:53.394  WARN 135480 --- [        s1-io-2] c.d.o.d.i.c.m.SchemaAgreementChecker     : [s1] Found invalid system.peers row for peer: /172.30.0.3, excluding from schema agreement check.\n2022-08-30 14:45:58.438  WARN 135480 --- [     s1-admin-1] c.d.o.d.internal.core.pool.ChannelPool   : [s1|/172.30.0.4:9042]  Error while opening new channel (ConnectionInitException: [s1|connecting...] Protocol initialization request, step 1 (STARTUP {CQL_VERSION=3.0.0, DRIVER_NAME=DataStax Java driver for Apache Cassandra(R), DRIVER_VERSION=4.14.1, CLIENT_ID=b9d24164-5b75-4a69-acbb-b162b20c0679}): failed to send request (java.nio.channels.NotYetConnectedException))\n2022-08-30 14:45:58.446  WARN 135480 --- [     s1-admin-0] c.d.o.d.internal.core.pool.ChannelPool   : [s1|/172.30.0.5:9042]  Error while opening new channel (ConnectionInitException: [s1|connecting...] Protocol initialization request, step 1 (STARTUP {CQL_VERSION=3.0.0, DRIVER_NAME=DataStax Java driver for Apache Cassandra(R), DRIVER_VERSION=4.14.1, CLIENT_ID=b9d24164-5b75-4a69-acbb-b162b20c0679}): failed to send request (java.nio.channels.NotYetConnectedException))\n2022-08-30 14:45:58.472  WARN 135480 --- [        s0-io-2] c.d.o.d.i.c.m.SchemaAgreementChecker     : [s0] Found invalid system.peers row for peer: /172.30.0.3, excluding from schema agreement check.\n2022-08-30 14:45:58.474  WARN 135480 --- [        s1-io-2] c.d.o.d.i.c.m.SchemaAgreementChecker     : [s1] Found invalid system.peers row for peer: /172.30.0.3, excluding from schema agreement check.\n2022-08-30 14:45:58.608  WARN 135480 --- [        s1-io-2] c.d.o.d.i.c.m.SchemaAgreementChecker     : [s1] Found invalid system.peers row for peer: /172.30.0.3, excluding from schema agreement check.\n2022-08-30 14:45:59.305  INFO 135480 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2022-08-30 14:45:59.319  INFO 135480 --- [           main] c.e.nosqltask3.NoSqlTask3Application     : Started NoSqlTask3Application in 14.233 seconds (JVM running for 15.225)\n2022-08-30 14:45:59.334  WARN 135480 --- [     s0-admin-0] c.d.o.d.internal.core.pool.ChannelPool   : [s0|/172.30.0.5:9042]  Error while opening new channel (ConnectionInitException: [s0|connecting...] Protocol initialization request, step 1 (STARTUP {CQL_VERSION=3.0.0, DRIVER_NAME=DataStax Java driver for Apache Cassandra(R), DRIVER_VERSION=4.14.1, CLIENT_ID=6bf33612-5f5a-497c-a475-ef1d522d6c2d}): failed to send request (java.nio.channels.NotYetConnectedException))\n2022-08-30 14:45:59.429  WARN 135480 --- [     s0-admin-1] c.d.o.d.internal.core.pool.ChannelPool   : [s0|/172.30.0.4:9042]  Error while opening new channel (ConnectionInitException: [s0|connecting...] Protocol initialization request, step 1 (STARTUP {CQL_VERSION=3.0.0, DRIVER_NAME=DataStax Java driver for Apache Cassandra(R), DRIVER_VERSION=4.14.1, CLIENT_ID=6bf33612-5f5a-497c-a475-ef1d522d6c2d}): failed to send request (java.nio.channels.NotYetConnectedException))\n2022-08-30 14:46:04.472  WARN 135480 --- [     s1-admin-0] c.d.o.d.internal.core.pool.ChannelPool   : [s1|/172.30.0.5:9042]  Error while opening new channel (ConnectionInitException: [s1|connecting...] Protocol initialization request, step 1 (STARTUP {CQL_VERSION=3.0.0, DRIVER_NAME=DataStax Java driver for Apache Cassandra(R), DRIVER_VERSION=4.14.1, CLIENT_ID=b9d24164-5b75-4a69-acbb-b162b20c0679}): failed to send request (java.nio.channels.NotYetConnectedException))\n</code></pre>\n<p>Especially I don't know how to fix <code>Error while opening new channel</code>. I guess that this is because spring boot trying to connect to the node by container IP and default Cassandra port 9042, but only the first node has the 9042 port exposed.</p>\n<p>Here is my spring properties:</p>\n<pre><code>spring:\n  data:\n    cassandra:\n      keyspace-name: events\n      contact-points:\n        - &quot;localhost:9042&quot;\n        - &quot;localhost:9043&quot;\n        - &quot;localhost:9044&quot;\n        - &quot;localhost:9045&quot;\n</code></pre>\n<p>And Cassandra config class:</p>\n<pre><code>@Configuration\n@EnableCassandraRepositories(basePackages = &quot;com.eternal.nosqltask3.repository&quot;)\npublic class CassandraConfig extends AbstractCassandraConfiguration {\n\n    @Value(&quot;${spring.data.cassandra.keyspace-name}&quot;)\n    private String keyspace;\n    @Override\n    protected String getKeyspaceName() {\n        return keyspace;\n    }\n}\n</code></pre>\n<p>Please suggest, what am I missing to set up multi-node Cassandra and spring boot without errors.</p>\n"},{"tags":["java","spring","request","repository"],"comments":[{"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"score":0,"creation_date":1661896491,"post_id":73548719,"comment_id":129880087,"body_markdown":"Depending on the amount of Parameters you have it would be beneficial to use a DTO in the http body (@RequestBody). Your parameteers there can be &quot;null&quot; by default.","body":"Depending on the amount of Parameters you have it would be beneficial to use a DTO in the http body (@RequestBody). Your parameteers there can be &quot;null&quot; by default."},{"owner":{"account_id":23897722,"reputation":221,"user_id":17896393,"display_name":"Lulex97"},"score":0,"creation_date":1661899240,"post_id":73548719,"comment_id":129880614,"body_markdown":"Yes, but I would like to create one endpoint with optional parameters. For example I wanna have request which returns all of DTO&#39;s and request only with DTO&#39;s which contains for example specified name","body":"Yes, but I would like to create one endpoint with optional parameters. For example I wanna have request which returns all of DTO&#39;s and request only with DTO&#39;s which contains for example specified name"},{"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"score":0,"creation_date":1661928402,"post_id":73548719,"comment_id":129885166,"body_markdown":"You can still do that with a request DTO. The response DTO is independet from that.","body":"You can still do that with a request DTO. The response DTO is independet from that."}],"owner":{"account_id":23897722,"reputation":221,"user_id":17896393,"display_name":"Lulex97"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661895695,"creation_date":1661895695,"question_id":73548719,"body_markdown":"I created @Get endpoint to test dynamic search with request param.\r\nMy rest api is split into Controller -&gt; Service -&gt; Repository.\r\n\r\nEnpoint in controller:\r\n\r\n    @GetMapping(&quot;/test&quot;)\r\n    public Set&lt;DriverDTO&gt; test(@RequestParam(required = false)  String name,\r\n                       @RequestParam(required = false)  String surname) {\r\n        Set&lt;DriverEntity&gt; driverEntities = driverService.getAllTEST(name, surname);\r\n        return modelMapperService.mapSetToSetOfEnteredClass(driverEntities, DriverDTO.class);\r\n    }\r\n\r\nand my method in service prepared for test:\r\n\r\n    public Set&lt;DriverEntity&gt; getAllTEST(String name, String surname) {\r\n        ExampleMatcher matcher = ExampleMatcher\r\n                .matchingAll()\r\n                .withMatcher(&quot;name&quot;, contains().ignoreCase())\r\n                .withMatcher(&quot;surname&quot;, contains().ignoreCase());\r\n\r\n        DriverEntity example = DriverEntity\r\n                .builder()\r\n                .name(name)\r\n                .surname(surname)\r\n                .build();\r\n        return new HashSet&lt;&gt;(driverEntityRepository.findAll(Example.of(example, matcher)));\r\n    }\r\n\r\nI would like to create one endpoint with optional request parameteres for dynamic searching. I found solution like that and for expample for request like:\r\n\r\n    http://localhost:8081/drivers/test?name=tom&amp;surname=smith\r\n\r\n it works but is it the best way do it? Maybe there are any other and better solutions?","title":"Dynamic search with request param","body":"<p>I created @Get endpoint to test dynamic search with request param.\nMy rest api is split into Controller -&gt; Service -&gt; Repository.</p>\n<p>Enpoint in controller:</p>\n<pre><code>@GetMapping(&quot;/test&quot;)\npublic Set&lt;DriverDTO&gt; test(@RequestParam(required = false)  String name,\n                   @RequestParam(required = false)  String surname) {\n    Set&lt;DriverEntity&gt; driverEntities = driverService.getAllTEST(name, surname);\n    return modelMapperService.mapSetToSetOfEnteredClass(driverEntities, DriverDTO.class);\n}\n</code></pre>\n<p>and my method in service prepared for test:</p>\n<pre><code>public Set&lt;DriverEntity&gt; getAllTEST(String name, String surname) {\n    ExampleMatcher matcher = ExampleMatcher\n            .matchingAll()\n            .withMatcher(&quot;name&quot;, contains().ignoreCase())\n            .withMatcher(&quot;surname&quot;, contains().ignoreCase());\n\n    DriverEntity example = DriverEntity\n            .builder()\n            .name(name)\n            .surname(surname)\n            .build();\n    return new HashSet&lt;&gt;(driverEntityRepository.findAll(Example.of(example, matcher)));\n}\n</code></pre>\n<p>I would like to create one endpoint with optional request parameteres for dynamic searching. I found solution like that and for expample for request like:</p>\n<pre><code>http://localhost:8081/drivers/test?name=tom&amp;surname=smith\n</code></pre>\n<p>it works but is it the best way do it? Maybe there are any other and better solutions?</p>\n"},{"tags":["java","android-studio"],"answers":[{"tags":[],"owner":{"account_id":24185627,"reputation":157,"user_id":18145581,"display_name":"Anubis94"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661895233,"creation_date":1661894899,"answer_id":73548633,"question_id":73548219,"body_markdown":"Simply.You don&#39;t define the TextView object **id** In the dua **(Activity.xml)**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.dua&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/test&quot; &lt;--\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:text=&quot;Value&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:textSize=&quot;30sp&quot;/&gt;\r\n&lt;/RelativeLayout&gt;\r\n```  ","title":"E/AndroidRuntime: FATAL EXCEPTION: main Process: com.example.tugas, PID: 12670","body":"<p>Simply.You don't define the TextView object <strong>id</strong> In the dua <strong>(Activity.xml)</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.dua&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/test&quot; &lt;--\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;Value&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textSize=&quot;30sp&quot;/&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":21408804,"reputation":1,"user_id":15769500,"display_name":"StressCodingCok"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":594,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661895233,"creation_date":1661891960,"question_id":73548219,"body_markdown":"I just want to send data from activity1 to activity 2 using text input, where activity 1 makes data input and activity 2 displays data from activity 1,I have followed the full youtube tutorial but still the error and the error is no warning in the line of code, I don&#39;t understand if this is an error from android studio or a code writing error, here it is written :\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.tugas, PID: 12670\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.tugas/com.example.tugas.dua}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.TextView.setText(java.lang.CharSequence)&#39; on a null object reference\r\n```\r\n\r\n---\r\n\r\nthis my activity1 page  `MainActivity.java` code:\r\n\r\n```\r\npackage com.example.tugas;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    Button btn;\r\n    EditText et;\r\n    String st;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        btn = findViewById(R.id.kirim);\r\n        et = findViewById(R.id.test);\r\n\r\n        btn.setOnClickListener(new View.OnClickListener(){\r\n            @Override\r\n            public void onClick(View view){\r\n                Intent intent = new Intent(MainActivity.this,dua.class);\r\n                st = et.getText().toString();\r\n                intent.putExtra(&quot;Value&quot;,st);\r\n                startActivity(intent);\r\n                finish();\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n---\r\n \r\nhere my `activity_main.xml` code:\r\n\r\n```\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;\r\n    android:padding=&quot;2sp&quot;&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/test&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:hint=&quot;Type Something&quot; /&gt;\r\n    &lt;Button\r\n        android:id=&quot;@+id/kirim&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@+id/test&quot;\r\n        android:text=&quot;submit&quot;\r\n        /&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n\r\n```\r\n---\r\nthis is my second activity `dua.java` code:\r\n\r\n```\r\npackage com.example.tugas;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.widget.TextView;\r\n\r\npublic class dua extends AppCompatActivity {\r\n\r\n    TextView textView;\r\n    String st;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_dua);\r\n        textView = findViewById(R.id.test);\r\n        st = getIntent().getExtras().getString(&quot;Value&quot;);\r\n        textView.setText(st);\r\n    }\r\n}\r\n\r\n```\r\n---\r\nhere my second activity layout `activity_dua.xml` code:\r\n\r\n```\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.dua&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:text=&quot;Value&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:textSize=&quot;30sp&quot;/&gt;\r\n&lt;/RelativeLayout&gt;\r\n\r\n\r\n```\r\n\r\n---\r\nthis my `AndroidManifest.xml` code:\r\n\r\n```\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    package=&quot;com.example.tugas&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.Tugas&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.dua&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\n``` \r\nthank you for your attention\r\n","title":"E/AndroidRuntime: FATAL EXCEPTION: main Process: com.example.tugas, PID: 12670","body":"<p>I just want to send data from activity1 to activity 2 using text input, where activity 1 makes data input and activity 2 displays data from activity 1,I have followed the full youtube tutorial but still the error and the error is no warning in the line of code, I don't understand if this is an error from android studio or a code writing error, here it is written :</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.tugas, PID: 12670\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.tugas/com.example.tugas.dua}: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.TextView.setText(java.lang.CharSequence)' on a null object reference\n</code></pre>\n<hr />\n<p>this my activity1 page  <code>MainActivity.java</code> code:</p>\n<pre><code>package com.example.tugas;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\n\npublic class MainActivity extends AppCompatActivity {\n\n    Button btn;\n    EditText et;\n    String st;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        btn = findViewById(R.id.kirim);\n        et = findViewById(R.id.test);\n\n        btn.setOnClickListener(new View.OnClickListener(){\n            @Override\n            public void onClick(View view){\n                Intent intent = new Intent(MainActivity.this,dua.class);\n                st = et.getText().toString();\n                intent.putExtra(&quot;Value&quot;,st);\n                startActivity(intent);\n                finish();\n            }\n        });\n    }\n}\n\n\n</code></pre>\n<hr />\n<p>here my <code>activity_main.xml</code> code:</p>\n<pre><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;\n    android:padding=&quot;2sp&quot;&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/test&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Type Something&quot; /&gt;\n    &lt;Button\n        android:id=&quot;@+id/kirim&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@+id/test&quot;\n        android:text=&quot;submit&quot;\n        /&gt;\n\n&lt;/RelativeLayout&gt;\n\n</code></pre>\n<hr />\n<p>this is my second activity <code>dua.java</code> code:</p>\n<pre><code>package com.example.tugas;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.widget.TextView;\n\npublic class dua extends AppCompatActivity {\n\n    TextView textView;\n    String st;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_dua);\n        textView = findViewById(R.id.test);\n        st = getIntent().getExtras().getString(&quot;Value&quot;);\n        textView.setText(st);\n    }\n}\n\n</code></pre>\n<hr />\n<p>here my second activity layout <code>activity_dua.xml</code> code:</p>\n<pre><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.dua&quot;&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;Value&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textSize=&quot;30sp&quot;/&gt;\n&lt;/RelativeLayout&gt;\n\n\n</code></pre>\n<hr />\n<p>this my <code>AndroidManifest.xml</code> code:</p>\n<pre><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;com.example.tugas&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.Tugas&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.dua&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n\n</code></pre>\n<p>thank you for your attention</p>\n"},{"tags":["java","ldap","apacheds","apache-directory"],"answers":[{"tags":[],"owner":{"account_id":2979716,"reputation":12923,"user_id":2529954,"display_name":"EricLavault"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1474813685,"creation_date":1474813685,"answer_id":39687958,"question_id":39686786,"body_markdown":"Actually the `member` attribute type does not &quot;store groups where a user is a member of&quot;, on the contrary it contains the distinguished names of objects that are on a list or in a group. \r\n\r\n`inetOrgPerson` object class does not and should not hold any &quot;member&quot; attribute, `groupOfNames` does and even requires it since it represents a set of named objects that are stored in &quot;member&quot; attribute.\r\n\r\n(see [RFC 4519][2], [RFC 2798][3])\r\n\r\nI guess what you want is to add **memberOf** attribute to inetOrgPerson. For that you need to define the &quot;memberOf&quot; attribute type and edit the inetOrgPerson object class in the schema. You must add the attribute type first because the object class refers to it. \r\n\r\n(see also : [Adding Schema Elements in Apache DS][1])\r\n\r\n  [1]: http://directory.apache.org/apacheds/basic-ug/2.3.1-adding-schema-elements.html\r\n  [2]: https://www.rfc-editor.org/rfc/rfc4519\r\n  [3]: https://www.rfc-editor.org/rfc/rfc2798","title":"Member-Attribute for inetOrgPerson object in ApacheDS","body":"<p>Actually the <code>member</code> attribute type does not &quot;store groups where a user is a member of&quot;, on the contrary it contains the distinguished names of objects that are on a list or in a group.</p>\n<p><code>inetOrgPerson</code> object class does not and should not hold any &quot;member&quot; attribute, <code>groupOfNames</code> does and even requires it since it represents a set of named objects that are stored in &quot;member&quot; attribute.</p>\n<p>(see <a href=\"https://www.rfc-editor.org/rfc/rfc4519\" rel=\"nofollow noreferrer\">RFC 4519</a>, <a href=\"https://www.rfc-editor.org/rfc/rfc2798\" rel=\"nofollow noreferrer\">RFC 2798</a>)</p>\n<p>I guess what you want is to add <strong>memberOf</strong> attribute to inetOrgPerson. For that you need to define the &quot;memberOf&quot; attribute type and edit the inetOrgPerson object class in the schema. You must add the attribute type first because the object class refers to it.</p>\n<p>(see also : <a href=\"http://directory.apache.org/apacheds/basic-ug/2.3.1-adding-schema-elements.html\" rel=\"nofollow noreferrer\">Adding Schema Elements in Apache DS</a>)</p>\n"},{"tags":[],"owner":{"account_id":26202377,"reputation":1,"user_id":19882540,"display_name":"Tim Wilt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661893346,"creation_date":1661893346,"answer_id":73548429,"question_id":39686786,"body_markdown":"**Configure the memberOf overlay**\r\n\r\n•\tsudo -i\r\n\r\n•\tslapcat -n 0 | grep olcModuleLoad\r\n\r\n•\tif modules then\r\n\r\n 1. ldapmodify -Q -Y EXTERNAL -H ldapi:///\r\n 2. dn: cn=module{0},cn=config\r\n 3. changetype: modify\r\n 4. add: olcModuleLoad\r\n 5. olcModuleLoad: memberof.la \r\n 6. Hit Enter\r\n\r\nmodifying entry &quot;cn=module{0},cn=config&quot; should display\r\n\r\n•\tif no modules then\r\n\r\n 1. ldapadd -Y EXTERNAL -Q -H ldapi:///\r\n 2. dn: cn=module,cn=config\r\n 3. cn: module\r\n 4. objectClass: olcModuleList\r\n 5. olcModulePath: /usr/lib/ldap (search for memberof.la to find the correct path)\r\n 6. olcModuleLoad: memberof.la\r\n 7. Hit Enter\r\n\r\nadding new entry &quot;cn=module,cn=config&quot; should display\r\n\r\n•\thit ctrl c\r\n\r\n•\tslapcat -n 0 | grep olcModuleLoad\r\n\r\no\tolcModuleLoad: {0}back_mdb\r\n\r\no\tolcModuleLoad: {1}memberof.la\r\n \r\n\r\n**Apply the memberOf overlay**\r\n\r\nldapadd -Y EXTERNAL -H ldapi:///\r\n\r\ndn: olcOverlay=memberof,olcDatabase={1}mdb,cn=config\r\n\r\nobjectClass: olcOverlayConfig\r\n\r\nobjectClass: olcMemberOf\r\n\r\nolcOverlay: memberof\r\n\r\nolcMemberOfRefint: TRUE\r\n\r\nHit Enter\r\n\r\nadding new entry &quot;olcOverlay=memberof,olcDatabase={1}mdb,cn=config&quot; should display\r\n\r\nhit ctrl c","title":"Member-Attribute for inetOrgPerson object in ApacheDS","body":"<p><strong>Configure the memberOf overlay</strong></p>\n<p>•   sudo -i</p>\n<p>•   slapcat -n 0 | grep olcModuleLoad</p>\n<p>•   if modules then</p>\n<ol>\n<li>ldapmodify -Q -Y EXTERNAL -H ldapi:///</li>\n<li>dn: cn=module{0},cn=config</li>\n<li>changetype: modify</li>\n<li>add: olcModuleLoad</li>\n<li>olcModuleLoad: memberof.la</li>\n<li>Hit Enter</li>\n</ol>\n<p>modifying entry &quot;cn=module{0},cn=config&quot; should display</p>\n<p>•   if no modules then</p>\n<ol>\n<li>ldapadd -Y EXTERNAL -Q -H ldapi:///</li>\n<li>dn: cn=module,cn=config</li>\n<li>cn: module</li>\n<li>objectClass: olcModuleList</li>\n<li>olcModulePath: /usr/lib/ldap (search for memberof.la to find the correct path)</li>\n<li>olcModuleLoad: memberof.la</li>\n<li>Hit Enter</li>\n</ol>\n<p>adding new entry &quot;cn=module,cn=config&quot; should display</p>\n<p>•   hit ctrl c</p>\n<p>•   slapcat -n 0 | grep olcModuleLoad</p>\n<p>o   olcModuleLoad: {0}back_mdb</p>\n<p>o   olcModuleLoad: {1}memberof.la</p>\n<p><strong>Apply the memberOf overlay</strong></p>\n<p>ldapadd -Y EXTERNAL -H ldapi:///</p>\n<p>dn: olcOverlay=memberof,olcDatabase={1}mdb,cn=config</p>\n<p>objectClass: olcOverlayConfig</p>\n<p>objectClass: olcMemberOf</p>\n<p>olcOverlay: memberof</p>\n<p>olcMemberOfRefint: TRUE</p>\n<p>Hit Enter</p>\n<p>adding new entry &quot;olcOverlay=memberof,olcDatabase={1}mdb,cn=config&quot; should display</p>\n<p>hit ctrl c</p>\n"}],"owner":{"account_id":3972400,"reputation":16901,"user_id":3276634,"accept_rate":11,"display_name":"Lion"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2816,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1661893346,"creation_date":1474806361,"question_id":39686786,"body_markdown":"I&#39;m using ApacheDS as LDAP server. I need some groups to manage permission on different application. For example, a group called &quot;jira-users&quot;, which are able to login to jira. So I need an attribute where I can store the member groups of an user. I&#39;m using the objectClass called inetOrgPerson which seems suiteable for storing users. \r\n\r\nFrom Active Directory which I was working on in the past, I remember an attribute called **memberOf**. Seems that this is AD specific, since the inetOrgPerson class has an attribute called **member**. According to the documentation, it does the same: Storing groups where the user is a member of. But when I try to add this to a inetOrgPerson object, I get the following error in Apache Directory studio:\r\n\r\n&gt; Warning! This attribute isn&#39;t allowed according to the scheme! \r\n&gt; Would you like to still use it? \r\n\r\nWhen I try this pressing *yes*, I got the following exception: \r\n\r\n&gt; Fehler beim Ausf&#252;hren des LDIF\r\n&gt;  - [LDAP: error code 65 - OBJECT_CLASS_VIOLATION: failed for MessageType : MODIFY_REQUES   java.lang.Exception: [LDAP: error code\r\n&gt; 65 - OBJECT_CLASS_VIOLATION: failed for MessageType : MODIFY_REQUEST\r\n&gt; Message ID : 262\r\n&gt;     Modify Request\r\n&gt;         Object : &#39;cn=Testuser,ou=user,dc=example,dc=com&#39;\r\n&gt;             Modification[0]\r\n&gt;                 Operation :  add\r\n&gt;                 Modification member: cn=Testgruppe,ou=user,dc=example,dc=comorg.apache.directory.api.ldap.model.message.ModifyRequestImpl@868031e2:\r\n&gt; ERR_277 Attribute member not declared in objectClasses of entry\r\n&gt; cn=Testuser,ou=user,dc=example,dc=com] \tat\r\n&gt; org.apache.directory.studio.connection.core.io.api.DirectoryApiConnectionWrapper.checkResponse(DirectoryApiConnectionWrapper.java:1268)\r\n&gt; \tat\r\n&gt; org.apache.directory.studio.connection.core.io.api.DirectoryApiConnectionWrapper.access$9(DirectoryApiConnectionWrapper.java:1236)\r\n&gt; \tat\r\n&gt; org.apache.directory.studio.connection.core.io.api.DirectoryApiConnectionWrapper$4.run(DirectoryApiConnectionWrapper.java:716)\r\n&gt; \tat\r\n&gt; org.apache.directory.studio.connection.core.io.api.DirectoryApiConnectionWrapper.runAndMonitor(DirectoryApiConnectionWrapper.java:1163)\r\n&gt; \tat\r\n&gt; org.apache.directory.studio.connection.core.io.api.DirectoryApiConnectionWrapper.checkConnectionAndRunAndMonitor(DirectoryApiConnectionWrapper.java:1099)\r\n&gt; \tat\r\n&gt; org.apache.directory.studio.connection.core.io.api.DirectoryApiConnectionWrapper.modifyEntry(DirectoryApiConnectionWrapper.java:738)\r\n&gt; \tat\r\n&gt; org.apache.directory.studio.ldapbrowser.core.jobs.ImportLdifRunnable.importLdifRecord(ImportLdifRunnable.java:515)\r\n&gt; \tat\r\n&gt; org.apache.directory.studio.ldapbrowser.core.jobs.ImportLdifRunnable.importLdif(ImportLdifRunnable.java:272)\r\n&gt; \tat\r\n&gt; org.apache.directory.studio.ldapbrowser.core.jobs.ExecuteLdifRunnable.executeLdif(ExecuteLdifRunnable.java:157)\r\n&gt; \tat\r\n&gt; org.apache.directory.studio.ldapbrowser.core.jobs.ExecuteLdifRunnable.run(ExecuteLdifRunnable.java:123)\r\n&gt; \tat\r\n&gt; org.apache.directory.studio.ldapbrowser.core.jobs.UpdateEntryRunnable.run(UpdateEntryRunnable.java:59)\r\n&gt; \tat\r\n&gt; org.apache.directory.studio.connection.ui.RunnableContextRunner$1.run(RunnableContextRunner.java:116)\r\n&gt; \tat\r\n&gt; org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:119)\r\n&gt; \r\n&gt;   [LDAP: error code 65 - OBJECT_CLASS_VIOLATION: failed for\r\n&gt; MessageType : MODIFY_REQUEST Message ID : 262\r\n&gt;     Modify Request\r\n&gt;         Object : &#39;cn=Testuser,ou=user,dc=example,dc=com&#39;\r\n&gt;             Modification[0]\r\n&gt;                 Operation :  add\r\n&gt;                 Modification member: cn=Testgruppe,ou=user,dc=example,dc=comorg.apache.directory.api.ldap.model.message.ModifyRequestImpl@868031e2:\r\n&gt; ERR_277 Attribute member not declared in objectClasses of entry\r\n&gt; cn=Testuser,ou=user,dc=example,dc=com]\r\n\r\nI tried to add it like described here http://morenews.blogspot.de/2010/12/adding-active-directory-properties-to.html with ldapadd. This gave me no error and when i look at ou=schema,cn=other,ou=objectClasses I see my inserted values. But when I create a new inetOrgPerson, there is no possibility to use it! What I&#39;m doing wrong? ","title":"Member-Attribute for inetOrgPerson object in ApacheDS","body":"<p>I'm using ApacheDS as LDAP server. I need some groups to manage permission on different application. For example, a group called \"jira-users\", which are able to login to jira. So I need an attribute where I can store the member groups of an user. I'm using the objectClass called inetOrgPerson which seems suiteable for storing users. </p>\n\n<p>From Active Directory which I was working on in the past, I remember an attribute called <strong>memberOf</strong>. Seems that this is AD specific, since the inetOrgPerson class has an attribute called <strong>member</strong>. According to the documentation, it does the same: Storing groups where the user is a member of. But when I try to add this to a inetOrgPerson object, I get the following error in Apache Directory studio:</p>\n\n<blockquote>\n  <p>Warning! This attribute isn't allowed according to the scheme! \n  Would you like to still use it? </p>\n</blockquote>\n\n<p>When I try this pressing <em>yes</em>, I got the following exception: </p>\n\n<blockquote>\n  <p>Fehler beim Ausführen des LDIF\n   - [LDAP: error code 65 - OBJECT_CLASS_VIOLATION: failed for MessageType : MODIFY_REQUES   java.lang.Exception: [LDAP: error code\n  65 - OBJECT_CLASS_VIOLATION: failed for MessageType : MODIFY_REQUEST\n  Message ID : 262\n      Modify Request\n          Object : 'cn=Testuser,ou=user,dc=example,dc=com'\n              Modification[0]\n                  Operation :  add\n                  Modification member: cn=Testgruppe,ou=user,dc=example,dc=comorg.apache.directory.api.ldap.model.message.ModifyRequestImpl@868031e2:\n  ERR_277 Attribute member not declared in objectClasses of entry\n  cn=Testuser,ou=user,dc=example,dc=com]    at\n  org.apache.directory.studio.connection.core.io.api.DirectoryApiConnectionWrapper.checkResponse(DirectoryApiConnectionWrapper.java:1268)\n    at\n  org.apache.directory.studio.connection.core.io.api.DirectoryApiConnectionWrapper.access$9(DirectoryApiConnectionWrapper.java:1236)\n    at\n  org.apache.directory.studio.connection.core.io.api.DirectoryApiConnectionWrapper$4.run(DirectoryApiConnectionWrapper.java:716)\n    at\n  org.apache.directory.studio.connection.core.io.api.DirectoryApiConnectionWrapper.runAndMonitor(DirectoryApiConnectionWrapper.java:1163)\n    at\n  org.apache.directory.studio.connection.core.io.api.DirectoryApiConnectionWrapper.checkConnectionAndRunAndMonitor(DirectoryApiConnectionWrapper.java:1099)\n    at\n  org.apache.directory.studio.connection.core.io.api.DirectoryApiConnectionWrapper.modifyEntry(DirectoryApiConnectionWrapper.java:738)\n    at\n  org.apache.directory.studio.ldapbrowser.core.jobs.ImportLdifRunnable.importLdifRecord(ImportLdifRunnable.java:515)\n    at\n  org.apache.directory.studio.ldapbrowser.core.jobs.ImportLdifRunnable.importLdif(ImportLdifRunnable.java:272)\n    at\n  org.apache.directory.studio.ldapbrowser.core.jobs.ExecuteLdifRunnable.executeLdif(ExecuteLdifRunnable.java:157)\n    at\n  org.apache.directory.studio.ldapbrowser.core.jobs.ExecuteLdifRunnable.run(ExecuteLdifRunnable.java:123)\n    at\n  org.apache.directory.studio.ldapbrowser.core.jobs.UpdateEntryRunnable.run(UpdateEntryRunnable.java:59)\n    at\n  org.apache.directory.studio.connection.ui.RunnableContextRunner$1.run(RunnableContextRunner.java:116)\n    at\n  org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:119)</p>\n  \n  <p>[LDAP: error code 65 - OBJECT_CLASS_VIOLATION: failed for\n  MessageType : MODIFY_REQUEST Message ID : 262\n      Modify Request\n          Object : 'cn=Testuser,ou=user,dc=example,dc=com'\n              Modification[0]\n                  Operation :  add\n                  Modification member: cn=Testgruppe,ou=user,dc=example,dc=comorg.apache.directory.api.ldap.model.message.ModifyRequestImpl@868031e2:\n  ERR_277 Attribute member not declared in objectClasses of entry\n  cn=Testuser,ou=user,dc=example,dc=com]</p>\n</blockquote>\n\n<p>I tried to add it like described here <a href=\"http://morenews.blogspot.de/2010/12/adding-active-directory-properties-to.html\" rel=\"nofollow\">http://morenews.blogspot.de/2010/12/adding-active-directory-properties-to.html</a> with ldapadd. This gave me no error and when i look at ou=schema,cn=other,ou=objectClasses I see my inserted values. But when I create a new inetOrgPerson, there is no possibility to use it! What I'm doing wrong? </p>\n"},{"tags":["java","spring","eclipse","spring-mvc"],"comments":[{"owner":{"display_name":"user9420984"},"score":0,"creation_date":1533117775,"post_id":51630397,"comment_id":90225179,"body_markdown":"Did you clean your project in Eclipse after you changed the settings?","body":"Did you clean your project in Eclipse after you changed the settings?"},{"owner":{"account_id":1770940,"reputation":1647,"user_id":1615720,"accept_rate":77,"display_name":"xcode"},"score":0,"creation_date":1533117857,"post_id":51630397,"comment_id":90225230,"body_markdown":"no, i don&#39;t know how, i&#39;m beginner, how to do it?","body":"no, i don&#39;t know how, i&#39;m beginner, how to do it?"},{"owner":{"display_name":"user9420984"},"score":0,"creation_date":1533117897,"post_id":51630397,"comment_id":90225256,"body_markdown":"Click `Project &gt; Clean...`   Not certain if it will solve your problem but it does with me 99% of the time when Eclipse doesn&#39;t find my imports.","body":"Click <code>Project &gt; Clean...</code>   Not certain if it will solve your problem but it does with me 99% of the time when Eclipse doesn&#39;t find my imports."},{"owner":{"account_id":1770940,"reputation":1647,"user_id":1615720,"accept_rate":77,"display_name":"xcode"},"score":0,"creation_date":1533118132,"post_id":51630397,"comment_id":90225408,"body_markdown":"I did clean it and the Error is still there","body":"I did clean it and the Error is still there"}],"answers":[{"tags":[],"owner":{"account_id":13399946,"reputation":668,"user_id":9669795,"display_name":"Anna van den Akker"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1533118549,"creation_date":1533118549,"answer_id":51630783,"question_id":51630397,"body_markdown":"You can try to add annotation dependencies to pom.xml, so that they would be available for Spring:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n      &lt;version&gt;1.3.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n","title":"import javax.annotation.* cannot be resolved in Eclipse&#39;s Java 10 Compiler","body":"<p>You can try to add annotation dependencies to pom.xml, so that they would be available for Spring:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n  &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n  &lt;version&gt;1.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18073143,"reputation":106,"user_id":13137252,"display_name":"dcba dcba"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586343588,"creation_date":1586340571,"answer_id":61098175,"question_id":51630397,"body_markdown":"Add `javax.annotation-api-1.3.2.jar` to your classpath. It works with JDK 10 as well.  \r\nFor more clarity on alternative approaches, go through below video link:\r\n\r\nhttps://www.youtube.com/watch?v=jOYSRwwMLX8&amp;list=PLzS3AYzXBoj9IBdtgXRSyZEwlU2QV-mGG&amp;index=6","title":"import javax.annotation.* cannot be resolved in Eclipse&#39;s Java 10 Compiler","body":"<p>Add <code>javax.annotation-api-1.3.2.jar</code> to your classpath. It works with JDK 10 as well.<br>\nFor more clarity on alternative approaches, go through below video link:</p>\n\n<p><a href=\"https://www.youtube.com/watch?v=jOYSRwwMLX8&amp;list=PLzS3AYzXBoj9IBdtgXRSyZEwlU2QV-mGG&amp;index=6\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=jOYSRwwMLX8&amp;list=PLzS3AYzXBoj9IBdtgXRSyZEwlU2QV-mGG&amp;index=6</a></p>\n"},{"tags":[],"owner":{"account_id":19930805,"reputation":69,"user_id":14604444,"display_name":"Parth Bhatt"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1604910899,"creation_date":1604910899,"answer_id":64748184,"question_id":51630397,"body_markdown":"Well This happens Because @PostConstruct and @preDestroy are deprecated in java 9 onwards so better not to use them instead use interface to resolve this","title":"import javax.annotation.* cannot be resolved in Eclipse&#39;s Java 10 Compiler","body":"<p>Well This happens Because @PostConstruct and @preDestroy are deprecated in java 9 onwards so better not to use them instead use interface to resolve this</p>\n"},{"tags":[],"owner":{"account_id":7366982,"reputation":419,"user_id":5608445,"display_name":"Anvita Shukla"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1611709834,"creation_date":1611709834,"answer_id":65911547,"question_id":51630397,"body_markdown":"You would need to point the Eclipse to Java 8 via Window --&gt;Preferences--&gt;Java and add JDK 1.8 bin path. Once done, project will be built automatically and issue should be resolved.","title":"import javax.annotation.* cannot be resolved in Eclipse&#39;s Java 10 Compiler","body":"<p>You would need to point the Eclipse to Java 8 via Window --&gt;Preferences--&gt;Java and add JDK 1.8 bin path. Once done, project will be built automatically and issue should be resolved.</p>\n"},{"tags":[],"owner":{"account_id":17619217,"reputation":1510,"user_id":12785586,"display_name":"User"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1616953023,"creation_date":1616953023,"answer_id":66844285,"question_id":51630397,"body_markdown":"missing `Javax Annotation`\r\n\r\nhttps://mvnrepository.com/artifact/javax.annotation/javax.annotation-api/1.3.2\r\n\r\njar or dependency can be found here.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"import javax.annotation.* cannot be resolved in Eclipse&#39;s Java 10 Compiler","body":"<p>missing <code>Javax Annotation</code></p>\n<p><a href=\"https://mvnrepository.com/artifact/javax.annotation/javax.annotation-api/1.3.2\" rel=\"noreferrer\">https://mvnrepository.com/artifact/javax.annotation/javax.annotation-api/1.3.2</a></p>\n<p>jar or dependency can be found here.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n    &lt;version&gt;1.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22446984,"reputation":1,"user_id":16650753,"display_name":"MaxiDC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640020946,"creation_date":1640012618,"answer_id":70423807,"question_id":51630397,"body_markdown":"You can add the interfaces `InitializingBean` and `DisposableBean`  to your class.\r\nThen you can use the `methods:afterPropertiesSet()` and `destroy()`.","title":"import javax.annotation.* cannot be resolved in Eclipse&#39;s Java 10 Compiler","body":"<p>You can add the interfaces <code>InitializingBean</code> and <code>DisposableBean</code>  to your class.\nThen you can use the <code>methods:afterPropertiesSet()</code> and <code>destroy()</code>.</p>\n"},{"tags":[],"owner":{"account_id":15286841,"reputation":863,"user_id":11029624,"display_name":"Mahbub Ul Islam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644926879,"creation_date":1644926879,"answer_id":71126178,"question_id":51630397,"body_markdown":"`@PreDestroy` and `@PostConstruct` are from\r\n\r\n    import javax.annotation.PostConstruct;\r\n    import javax.annotation.PreDestroy;t\r\n\r\nAfter importing these two libraries in eclipse if eclipse can not recognize them then you have to add a jar.\r\n\r\n    javax.annotation-api\r\n\r\n[Download here.][1]\r\n\r\nAdd it to your project.\r\n\r\nAnd add it to `Reference Libraries`.\r\n\r\nTo add jar, goto Project `Properties` &gt;&gt; `Java Build Path` &gt;&gt; `Libraries` &gt;&gt; `Add Jars`\r\n\r\n\r\n  [1]: https://jar-download.com/artifacts/javax.annotation/javax.annotation-api/1.3.2/source-code","title":"import javax.annotation.* cannot be resolved in Eclipse&#39;s Java 10 Compiler","body":"<p><code>@PreDestroy</code> and <code>@PostConstruct</code> are from</p>\n<pre><code>import javax.annotation.PostConstruct;\nimport javax.annotation.PreDestroy;t\n</code></pre>\n<p>After importing these two libraries in eclipse if eclipse can not recognize them then you have to add a jar.</p>\n<pre><code>javax.annotation-api\n</code></pre>\n<p><a href=\"https://jar-download.com/artifacts/javax.annotation/javax.annotation-api/1.3.2/source-code\" rel=\"nofollow noreferrer\">Download here.</a></p>\n<p>Add it to your project.</p>\n<p>And add it to <code>Reference Libraries</code>.</p>\n<p>To add jar, goto Project <code>Properties</code> &gt;&gt; <code>Java Build Path</code> &gt;&gt; <code>Libraries</code> &gt;&gt; <code>Add Jars</code></p>\n"},{"tags":[],"owner":{"account_id":19863876,"reputation":79,"user_id":14551630,"display_name":"mrwahl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645470359,"creation_date":1645470359,"answer_id":71211721,"question_id":51630397,"body_markdown":"This worked for me when I ran into this type of issue.\r\nI added this to my pom.xml\r\n````\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.annotation-api&lt;/artifact Id&gt;\r\n    &lt;version&gt;1.2&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n````","title":"import javax.annotation.* cannot be resolved in Eclipse&#39;s Java 10 Compiler","body":"<p>This worked for me when I ran into this type of issue.\nI added this to my pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.annotation-api&lt;/artifact Id&gt;\n    &lt;version&gt;1.2&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3242704,"reputation":13438,"user_id":2735286,"accept_rate":89,"display_name":"gil.fernandes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649781362,"creation_date":1649781362,"answer_id":71846285,"question_id":51630397,"body_markdown":"If you are using Gradle, you can add this this line to the dependencies:\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\r\nThis is an example of the dependencies that I am using in one project:\r\n\r\n```\r\ndependencies {\r\n    implementation &#39;com.graphql-java:graphql-java:11.0&#39;\r\n    implementation &#39;com.graphql-java:graphql-java-spring-boot-starter-webmvc:1.0&#39;\r\n    implementation &#39;com.google.guava:guava:26.0-jre&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;javax.annotation:javax.annotation-api:1.3.2&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.7.0&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.7.0&#39;\r\n}\r\n```\r\n\r\nThis should solve the question&#39;s problem on Java 10 up to Java 17.","title":"import javax.annotation.* cannot be resolved in Eclipse&#39;s Java 10 Compiler","body":"<p>If you are using Gradle, you can add this this line to the dependencies:</p>\n<pre><code>implementation 'org.springframework.boot:spring-boot-starter-web'\n</code></pre>\n<p>This is an example of the dependencies that I am using in one project:</p>\n<pre><code>dependencies {\n    implementation 'com.graphql-java:graphql-java:11.0'\n    implementation 'com.graphql-java:graphql-java-spring-boot-starter-webmvc:1.0'\n    implementation 'com.google.guava:guava:26.0-jre'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'javax.annotation:javax.annotation-api:1.3.2'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.7.0'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.7.0'\n}\n</code></pre>\n<p>This should solve the question's problem on Java 10 up to Java 17.</p>\n"},{"tags":[],"owner":{"account_id":357362,"reputation":2080,"user_id":697480,"display_name":"Adam Wise"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661893150,"creation_date":1661893150,"answer_id":73548403,"question_id":51630397,"body_markdown":"I found that I had installed a newer version of Java, and needed to use Java 8 for a new project I was on. The solution was to look for references to the new er version of Java on the OS.\r\n\r\nI found a reference in my .zshrc file to the newer version of Java, and removing that line fixed the issue for me. Specifically I removed this line:\r\n\r\n    export JAVA_HOME=$(/usr/libexec/java_home -v 15.0.2+10)","title":"import javax.annotation.* cannot be resolved in Eclipse&#39;s Java 10 Compiler","body":"<p>I found that I had installed a newer version of Java, and needed to use Java 8 for a new project I was on. The solution was to look for references to the new er version of Java on the OS.</p>\n<p>I found a reference in my .zshrc file to the newer version of Java, and removing that line fixed the issue for me. Specifically I removed this line:</p>\n<pre><code>export JAVA_HOME=$(/usr/libexec/java_home -v 15.0.2+10)\n</code></pre>\n"}],"owner":{"account_id":1770940,"reputation":1647,"user_id":1615720,"accept_rate":77,"display_name":"xcode"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69649,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":10,"score":22,"last_activity_date":1661893150,"creation_date":1533117416,"question_id":51630397,"body_markdown":"In my machine (Windows 10), there are two versions of Java, Java 1.8 (JRE and JDK) and Java 10 (JRE and JDK).\r\n\r\nPreviously **IF** I set my **Eclipse** to:\r\n\r\n - Java Compiler (JDK Complience) **: 1.8**\r\n - Java Build Path (JRE System Libraries) **: 1.8**\r\n\r\n**THEN IF** i use following Spring code\r\n\r\n    import javax.annotation.PostConstruct;\r\n    ...\r\n    ...\r\n    ...\r\n    @PostConstruct\r\n    ...\r\n    ...\r\nEverything works **fine**. No error at all.\r\n\r\n**However**, IF I set my Eclipse to:\r\n\r\n - Java Compiler (JDK Complience) **: 10**\r\n - Java Build Path (JRE System Libraries) **: 10**\r\n\r\nNow, the `import` statement is **throwing an Error message:**\r\n\r\n    The import javax.annotation.PostConstruct cannot be resolved\r\n\r\nand this **error also happen** on `@PreDestroy` annotation too.\r\n\r\nWhy is this happening? What happen to Java 10? How to solve this problem if i still want to retain Java Compiler and JRE System Libraries version to Java 10?\r\n\r\nThank You.","title":"import javax.annotation.* cannot be resolved in Eclipse&#39;s Java 10 Compiler","body":"<p>In my machine (Windows 10), there are two versions of Java, Java 1.8 (JRE and JDK) and Java 10 (JRE and JDK).</p>\n\n<p>Previously <strong>IF</strong> I set my <strong>Eclipse</strong> to:</p>\n\n<ul>\n<li>Java Compiler (JDK Complience) <strong>: 1.8</strong></li>\n<li>Java Build Path (JRE System Libraries) <strong>: 1.8</strong></li>\n</ul>\n\n<p><strong>THEN IF</strong> i use following Spring code</p>\n\n<pre><code>import javax.annotation.PostConstruct;\n...\n...\n...\n@PostConstruct\n...\n...\n</code></pre>\n\n<p>Everything works <strong>fine</strong>. No error at all.</p>\n\n<p><strong>However</strong>, IF I set my Eclipse to:</p>\n\n<ul>\n<li>Java Compiler (JDK Complience) <strong>: 10</strong></li>\n<li>Java Build Path (JRE System Libraries) <strong>: 10</strong></li>\n</ul>\n\n<p>Now, the <code>import</code> statement is <strong>throwing an Error message:</strong></p>\n\n<pre><code>The import javax.annotation.PostConstruct cannot be resolved\n</code></pre>\n\n<p>and this <strong>error also happen</strong> on <code>@PreDestroy</code> annotation too.</p>\n\n<p>Why is this happening? What happen to Java 10? How to solve this problem if i still want to retain Java Compiler and JRE System Libraries version to Java 10?</p>\n\n<p>Thank You.</p>\n"},{"tags":["java","mysql","database"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1661897347,"post_id":73548398,"comment_id":129880269,"body_markdown":"You execute the insert at the same time that you display the form, when you need to do it on an ActionListener attached to the submit button, that is when the user has had a chance to enter some data. Also, research prepared statements and try-with-resources.","body":"You execute the insert at the same time that you display the form, when you need to do it on an ActionListener attached to the submit button, that is when the user has had a chance to enter some data. Also, research prepared statements and try-with-resources."},{"owner":{"account_id":20312707,"reputation":1,"user_id":14899335,"display_name":"Uzair "},"score":0,"creation_date":1661969644,"post_id":73548398,"comment_id":129900329,"body_markdown":"I was wondering if you could please share some code as to how to do that because I am having some difficulty doing so, Thanks.","body":"I was wondering if you could please share some code as to how to do that because I am having some difficulty doing so, Thanks."}],"owner":{"account_id":20312707,"reputation":1,"user_id":14899335,"display_name":"Uzair "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661893123,"creation_date":1661893123,"question_id":73548398,"body_markdown":"I am a beginner in java coding and was stuck on a problem that I had been receiving while trying to get the text that I put inside of my Jtextfield to save inside of my MySQL database,\r\n\r\nThis is my current code, it runs fine but inserts a blank row into my database when I try to save my text\r\n\r\n\r\nThis is my main class:\r\n\r\n\r\n\r\n    public class Main{\r\n\r\n    public static void main(String[] args) {\r\n        new MyFrame();\r\n    }\r\n    }\r\n\r\n \r\nThis is my class for my main menu:\r\n\r\n\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n\r\n\r\n\r\n    public class MyFrame extends JFrame{\r\n\r\n\r\n\r\n    JLabel label;\r\n    JMenu Add;\r\n    JMenu remove;\r\n    JMenu items;\r\n    JMenu vendors;\r\n    JMenuBar menuBar;\r\n    JMenuItem addCustomer;\r\n    JMenuItem addVendors;\r\n    JMenuItem addProducts;\r\n    JMenuItem removeCustomer;\r\n    JMenuItem removeProduct;\r\n    JMenuItem removeVendor;\r\n\r\n\r\n\r\n    MyFrame(){\r\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        this.setLayout(new FlowLayout());\r\n\r\n        label = new JLabel(&quot;Inventory Software&quot;);\r\n        label.setFont(new Font(&quot;Comic Sans MS&quot;, Font.BOLD, 30));\r\n\r\n        menuBar = new JMenuBar();\r\n\r\n        Add = new JMenu(&quot;Add&quot;);\r\n        remove = new JMenu(&quot;Remove&quot;);\r\n        items = new JMenu(&quot;Items&quot;);\r\n        vendors = new JMenu(&quot;Vendors&quot;);\r\n\r\n\r\n        addCustomer = new JMenuItem(&quot;Add Customers&quot;);\r\n        addVendors = new JMenuItem(&quot;Add Vendors&quot;);\r\n        addProducts = new JMenuItem(&quot;Add Products&quot;);\r\n\r\n        removeCustomer = new JMenuItem(&quot;Remove Customer&quot;);\r\n        removeProduct = new JMenuItem(&quot;Remove Product&quot;);\r\n        removeVendor = new JMenuItem(&quot;Remove Vendor&quot;);\r\n\r\n\r\n        remove.add(removeCustomer);\r\n        remove.add(removeProduct);\r\n        remove.add(removeVendor);\r\n\r\n        Add.add(addCustomer);\r\n        Add.add(addProducts);\r\n        Add.add(addVendors);\r\n\r\n        menuBar.add(Add);\r\n        menuBar.add(remove);\r\n        menuBar.add(items);\r\n        menuBar.add(vendors);\r\n\r\n\r\n        addCustomer.addActionListener(new WindowAC());\r\n        addVendors.addActionListener(new WindowAV());\r\n        addProducts.addActionListener(new WindowAP());\r\n        removeCustomer.addActionListener(new WindowRC());\r\n        removeVendor.addActionListener(new WindowRV());\r\n        removeProduct.addActionListener(new WindowRP());\r\n\r\n\r\n        this.setPreferredSize(new Dimension(550, 300));\r\n        this.setJMenuBar(menuBar);\r\n        this.add(label);\r\n        this.pack();\r\n        this.setVisible(true);\r\n        this.getContentPane().setBackground(Color.WHITE);\r\n        this.setLocationRelativeTo(null);\r\n        this.setTitle(&quot;Intact Communications Inventory Software&quot;);\r\n        }\r\n        }\r\n\r\n\r\nThis is my class for my Add customer tab containing the Jtextfield:\r\n\r\n\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n\r\n    public class WindowAC implements ActionListener\r\n    {\r\n\r\n    public void actionPerformed(ActionEvent e)\r\n    {\r\n        if(&quot;Add Customers&quot;.equals(e.getActionCommand())){\r\n\r\n            JFrame windowAC = new JFrame();\r\n\r\n            JLabel label = new JLabel(&quot;Name:&quot;);\r\n            JLabel label1 = new JLabel(&quot;Address:&quot;);\r\n            JLabel label2 = new JLabel(&quot;Email:&quot;);\r\n            JLabel label3 = new JLabel(&quot;Tel: &quot;);\r\n            JLabel label4 = new JLabel(&quot;FAX: &quot;);\r\n            JLabel label5 = new JLabel(&quot; &quot;);\r\n\r\n            JTextField textField = new JTextField();\r\n            JTextField textField1 = new JTextField();\r\n            JTextField textField2 = new JTextField();\r\n            JTextField textField3 = new JTextField();\r\n            JTextField textField4 = new JTextField();\r\n\r\n            JButton button = new JButton(&quot;Submit&quot;);\r\n\r\n            String s1, s2;\r\n\r\n            label.setBounds(50, 100, 100, 50);\r\n            label1.setBounds(50, 150, 100, 50);\r\n            label2.setBounds(50, 200, 100, 50);\r\n            label3.setBounds(50, 250, 100, 50);\r\n            label4.setBounds(50, 300, 100, 50);\r\n            label5.setBounds(50, 350, 100, 50);\r\n\r\n\r\n\r\n            textField.setBounds(150, 110, 400, 30);\r\n            textField1.setBounds(150, 160, 400, 30);\r\n            textField2.setBounds(150, 210, 400, 30);\r\n            textField3.setBounds(150, 260, 400, 30);\r\n            textField4.setBounds(150, 310, 400, 30);\r\n\r\n            button.setBounds(300, 450, 100, 70);\r\n\r\n            windowAC.add(button);\r\n            windowAC.add(label);\r\n            windowAC.add(textField);\r\n            windowAC.add(label1);\r\n            windowAC.add(textField1);\r\n            windowAC.add(label2);\r\n            windowAC.add(textField2);\r\n            windowAC.add(label3);\r\n            windowAC.add(textField3);\r\n            windowAC.add(label4);\r\n            windowAC.add(textField4);\r\n            windowAC.add(label5);\r\n\r\n            windowAC.setSize(750,750);\r\n            windowAC.getContentPane().setBackground(Color.WHITE);\r\n            windowAC.setTitle(&quot;Add Customer info&quot;);\r\n            windowAC.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            windowAC.setVisible(true);\r\n            windowAC.setLocationRelativeTo(null);\r\n            s1 = textField.getText();\r\n            s2 = textField1.getText();\r\n\r\n            Connection conn = null;\r\n            Statement stmt = null;\r\n            try {\r\n                try {\r\n                    Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n                } catch (Exception e1) {\r\n                    System.out.println(e1);\r\n                }\r\n                conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost/inventoryapp&quot;, &quot;root&quot;, &quot;P@kist@n1&quot;);\r\n                System.out.println(&quot;Connection is created successfully:&quot;);\r\n                stmt = conn.createStatement();\r\n                String query1 = &quot;INSERT INTO names(first_name,last_name) VALUES (&#39;&quot; + s1 + &quot;&#39;,&#39;&quot; + s2 + &quot;&#39;)&quot;;\r\n                stmt.executeUpdate(query1);\r\n                System.out.println(&quot;Record is inserted in the table successfully..................&quot;);\r\n            } catch (SQLException excep) {\r\n                excep.printStackTrace();\r\n            } catch (Exception excep) {\r\n                excep.printStackTrace();\r\n            } finally {\r\n                try {\r\n                    if (stmt != null)\r\n                        conn.close();\r\n                } catch (SQLException se) {}\r\n                try {\r\n                    if (conn != null)\r\n                        conn.close();\r\n                } catch (SQLException se) {\r\n                    se.printStackTrace();\r\n                }\r\n            }\r\n            System.out.println(&quot;Please check it in the MySQL Table...........&quot;);\r\n\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    \r\n\r\nMy code tells me that the data from the Jtextfield has saved fine inside if my datatbase but my database only inserts a blank row instead of what I typed into my textfield","title":"Connection between MySQL workbench Database and java using Intellij","body":"<p>I am a beginner in java coding and was stuck on a problem that I had been receiving while trying to get the text that I put inside of my Jtextfield to save inside of my MySQL database,</p>\n<p>This is my current code, it runs fine but inserts a blank row into my database when I try to save my text</p>\n<p>This is my main class:</p>\n<pre><code>public class Main{\n\npublic static void main(String[] args) {\n    new MyFrame();\n}\n}\n</code></pre>\n<p>This is my class for my main menu:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\n\n\npublic class MyFrame extends JFrame{\n\n\n\nJLabel label;\nJMenu Add;\nJMenu remove;\nJMenu items;\nJMenu vendors;\nJMenuBar menuBar;\nJMenuItem addCustomer;\nJMenuItem addVendors;\nJMenuItem addProducts;\nJMenuItem removeCustomer;\nJMenuItem removeProduct;\nJMenuItem removeVendor;\n\n\n\nMyFrame(){\n    this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    this.setLayout(new FlowLayout());\n\n    label = new JLabel(&quot;Inventory Software&quot;);\n    label.setFont(new Font(&quot;Comic Sans MS&quot;, Font.BOLD, 30));\n\n    menuBar = new JMenuBar();\n\n    Add = new JMenu(&quot;Add&quot;);\n    remove = new JMenu(&quot;Remove&quot;);\n    items = new JMenu(&quot;Items&quot;);\n    vendors = new JMenu(&quot;Vendors&quot;);\n\n\n    addCustomer = new JMenuItem(&quot;Add Customers&quot;);\n    addVendors = new JMenuItem(&quot;Add Vendors&quot;);\n    addProducts = new JMenuItem(&quot;Add Products&quot;);\n\n    removeCustomer = new JMenuItem(&quot;Remove Customer&quot;);\n    removeProduct = new JMenuItem(&quot;Remove Product&quot;);\n    removeVendor = new JMenuItem(&quot;Remove Vendor&quot;);\n\n\n    remove.add(removeCustomer);\n    remove.add(removeProduct);\n    remove.add(removeVendor);\n\n    Add.add(addCustomer);\n    Add.add(addProducts);\n    Add.add(addVendors);\n\n    menuBar.add(Add);\n    menuBar.add(remove);\n    menuBar.add(items);\n    menuBar.add(vendors);\n\n\n    addCustomer.addActionListener(new WindowAC());\n    addVendors.addActionListener(new WindowAV());\n    addProducts.addActionListener(new WindowAP());\n    removeCustomer.addActionListener(new WindowRC());\n    removeVendor.addActionListener(new WindowRV());\n    removeProduct.addActionListener(new WindowRP());\n\n\n    this.setPreferredSize(new Dimension(550, 300));\n    this.setJMenuBar(menuBar);\n    this.add(label);\n    this.pack();\n    this.setVisible(true);\n    this.getContentPane().setBackground(Color.WHITE);\n    this.setLocationRelativeTo(null);\n    this.setTitle(&quot;Intact Communications Inventory Software&quot;);\n    }\n    }\n</code></pre>\n<p>This is my class for my Add customer tab containing the Jtextfield:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\npublic class WindowAC implements ActionListener\n{\n\npublic void actionPerformed(ActionEvent e)\n{\n    if(&quot;Add Customers&quot;.equals(e.getActionCommand())){\n\n        JFrame windowAC = new JFrame();\n\n        JLabel label = new JLabel(&quot;Name:&quot;);\n        JLabel label1 = new JLabel(&quot;Address:&quot;);\n        JLabel label2 = new JLabel(&quot;Email:&quot;);\n        JLabel label3 = new JLabel(&quot;Tel: &quot;);\n        JLabel label4 = new JLabel(&quot;FAX: &quot;);\n        JLabel label5 = new JLabel(&quot; &quot;);\n\n        JTextField textField = new JTextField();\n        JTextField textField1 = new JTextField();\n        JTextField textField2 = new JTextField();\n        JTextField textField3 = new JTextField();\n        JTextField textField4 = new JTextField();\n\n        JButton button = new JButton(&quot;Submit&quot;);\n\n        String s1, s2;\n\n        label.setBounds(50, 100, 100, 50);\n        label1.setBounds(50, 150, 100, 50);\n        label2.setBounds(50, 200, 100, 50);\n        label3.setBounds(50, 250, 100, 50);\n        label4.setBounds(50, 300, 100, 50);\n        label5.setBounds(50, 350, 100, 50);\n\n\n\n        textField.setBounds(150, 110, 400, 30);\n        textField1.setBounds(150, 160, 400, 30);\n        textField2.setBounds(150, 210, 400, 30);\n        textField3.setBounds(150, 260, 400, 30);\n        textField4.setBounds(150, 310, 400, 30);\n\n        button.setBounds(300, 450, 100, 70);\n\n        windowAC.add(button);\n        windowAC.add(label);\n        windowAC.add(textField);\n        windowAC.add(label1);\n        windowAC.add(textField1);\n        windowAC.add(label2);\n        windowAC.add(textField2);\n        windowAC.add(label3);\n        windowAC.add(textField3);\n        windowAC.add(label4);\n        windowAC.add(textField4);\n        windowAC.add(label5);\n\n        windowAC.setSize(750,750);\n        windowAC.getContentPane().setBackground(Color.WHITE);\n        windowAC.setTitle(&quot;Add Customer info&quot;);\n        windowAC.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        windowAC.setVisible(true);\n        windowAC.setLocationRelativeTo(null);\n        s1 = textField.getText();\n        s2 = textField1.getText();\n\n        Connection conn = null;\n        Statement stmt = null;\n        try {\n            try {\n                Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            } catch (Exception e1) {\n                System.out.println(e1);\n            }\n            conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost/inventoryapp&quot;, &quot;root&quot;, &quot;P@kist@n1&quot;);\n            System.out.println(&quot;Connection is created successfully:&quot;);\n            stmt = conn.createStatement();\n            String query1 = &quot;INSERT INTO names(first_name,last_name) VALUES ('&quot; + s1 + &quot;','&quot; + s2 + &quot;')&quot;;\n            stmt.executeUpdate(query1);\n            System.out.println(&quot;Record is inserted in the table successfully..................&quot;);\n        } catch (SQLException excep) {\n            excep.printStackTrace();\n        } catch (Exception excep) {\n            excep.printStackTrace();\n        } finally {\n            try {\n                if (stmt != null)\n                    conn.close();\n            } catch (SQLException se) {}\n            try {\n                if (conn != null)\n                    conn.close();\n            } catch (SQLException se) {\n                se.printStackTrace();\n            }\n        }\n        System.out.println(&quot;Please check it in the MySQL Table...........&quot;);\n\n        }\n    }\n\n}\n</code></pre>\n<p>My code tells me that the data from the Jtextfield has saved fine inside if my datatbase but my database only inserts a blank row instead of what I typed into my textfield</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":16641195,"reputation":359,"user_id":13154548,"display_name":"eternal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661892906,"creation_date":1661892906,"answer_id":73548362,"question_id":73548318,"body_markdown":"    List&lt;Recipe&gt; list = recipe.findRecipeByUserId(id, pageable).getContent();\r\nYou can get a list of items from the Page using the `getContent()` method. From there you can iterate the list or use streams to check if all Recipes have the required user id.","title":"How to check every item in page if its belong to the user","body":"<pre><code>List&lt;Recipe&gt; list = recipe.findRecipeByUserId(id, pageable).getContent();\n</code></pre>\n<p>You can get a list of items from the Page using the <code>getContent()</code> method. From there you can iterate the list or use streams to check if all Recipes have the required user id.</p>\n"}],"owner":{"account_id":23727935,"reputation":117,"user_id":17747601,"display_name":"m_novak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661892906,"creation_date":1661892633,"question_id":73548318,"body_markdown":"In my application, I try to do a simple validation of the data before I return it to the user to check that the data really belongs to the user. For example, if the user uses GET /recipe/{id}, the application will check if the user&#39;s ID and recipe.getUser().getId() are the same or not.\r\nIm using this solution when returning one object.\r\n\r\n    public Recipe getRecipe(Long id){\r\n     //Returns current user\r\n     User user = userService.currentUser();\r\n     Recipe recipe = recipeRepository.findById(id).get();\r\n     \r\n     //Check if Id is same or not\r\n     if(recipe.getUser.getId() != user.getId()){\r\n       log.error(&quot;Permission denied.&quot;);\r\n       return null;\r\n     }\r\n    \r\n     return recipe;\r\n    }\r\n\r\nIn what way can I similarly check all items in a page if they really belong to the user?\r\n\r\n    public Page&lt;Recipe&gt; getRecipeByPage(Long id, int pageNumber, int pageSize){\r\n     Pageable pageable = PageRequest.of(pageNumber, pageSize);\r\n     return recipe.findRecipeByUserId(id, pageable);\r\n    }","title":"How to check every item in page if its belong to the user","body":"<p>In my application, I try to do a simple validation of the data before I return it to the user to check that the data really belongs to the user. For example, if the user uses GET /recipe/{id}, the application will check if the user's ID and recipe.getUser().getId() are the same or not.\nIm using this solution when returning one object.</p>\n<pre><code>public Recipe getRecipe(Long id){\n //Returns current user\n User user = userService.currentUser();\n Recipe recipe = recipeRepository.findById(id).get();\n \n //Check if Id is same or not\n if(recipe.getUser.getId() != user.getId()){\n   log.error(&quot;Permission denied.&quot;);\n   return null;\n }\n\n return recipe;\n}\n</code></pre>\n<p>In what way can I similarly check all items in a page if they really belong to the user?</p>\n<pre><code>public Page&lt;Recipe&gt; getRecipeByPage(Long id, int pageNumber, int pageSize){\n Pageable pageable = PageRequest.of(pageNumber, pageSize);\n return recipe.findRecipeByUserId(id, pageable);\n}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","spring-security"],"answers":[{"tags":[],"owner":{"account_id":2588110,"reputation":7132,"user_id":2243324,"display_name":"jzheaux"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661892755,"creation_date":1661892755,"answer_id":73548338,"question_id":73530501,"body_markdown":"&gt; It extends `GenericFilterBean` in order to gain this functionality.\r\n\r\nI think I&#39;d word that differently. According to [`GenericFilterBean`&#39;s JavaDoc][1]:\r\n\r\n```java\r\n/**\r\n * This generic filter base class has no dependency on the Spring  \r\n * org.springframework.context.ApplicationContext concept. Filters usually \r\n * don&#39;t load their own context but rather access service beans from the \r\n * Spring root application context, accessible via the filter&#39;s \r\n * ServletContext\r\n **/\r\n```\r\n\r\nNote also from `GenericFilterBean`&#39;s JavaDoc:\r\n\r\n```java\r\n/**\r\n * This filter leaves actual filtering to subclasses, which have to implement \r\n * the Filter.doFilter method.\r\n **/\r\n```\r\n\r\nOr, IOW, `GenericFilterBean` picks up `init-param`s, registers them as Spring bean properties, and applies those properties to the filter. `init-param`s are limited in their capacity and also `doFilter` still needs implementing either way.\r\n\r\nThis is where `DelegatingFilterProxy` comes in. It looks up a bean of type `Filter` from the application context and proxies to it in its own `doFilter` method. This proxy allows applications to specify a bean of type `Filter` that relies on Spring&#39;s lifecycle instead of the servlet container&#39;s.\r\n\r\nYou can see this detailed in [`DelegatingFilterProxy`&#39;s JavaDoc][2]:\r\n\r\n```java\r\n/**\r\n  * This approach is particularly useful for Filter implementation with \r\n  * complex setup needs, allowing to apply the full Spring bean definition \r\n  * machinery to Filter instances.\r\n  */\r\n```\r\n\r\n*NOTE*: Spring Boot applications can alternatively publish beans of type [`FilterRegistrationBean`][3] to specify both the underlying filter, its order and dispatcher types.\r\n\r\n&gt; Both classes seem to be able to be wired directly in the `web.xml`\r\n\r\nWhat gives you this impression? Given that `GenericFilterBean` is `abstract`, I&#39;m not clear on how it could be referenced in a `web.xml` file. The Servlet container would not be able to construct it.\r\n\r\n&gt; does Spring Security use a `DelegatingFilterProxy` in order to call the `FilterChainProxy`\r\n\r\n[Yes][4].\r\n\r\nSpring Security chooses to use the `Filter` API instead of inventing its own. Because of that, it fits nicely inside the purpose of `DelegatingFilterProxy`.  (You can imagine how limiting it might be for folks to configure Spring Security though `web.xml` `init-param`s alone, for example.)\r\n\r\nHypothetically, if Spring Security had decided to create its own filter-like API, it would have its own implementation of `GenericFilterBean` that implements `doFilter` differently.\r\n\r\n&gt; although the latter already extends `GenericFilterBean`\r\n\r\nI think this part of your question is asking &quot;couldn&#39;t `FilterChainProxy` just be specified as a filter to the servlet container since it implements `GenericFilterBean`?&quot;. And the answer is [&quot;no&quot;][4]. From Spring Security&#39;s docs:\r\n\r\n&gt; Another benefit of `DelegatingFilterProxy` is that it allows delaying looking `Filter` bean instances. This is important because the container needs to register the `Filter` instances before the container can startup. However, Spring typically uses a `ContextLoaderListener` to load the Spring Beans which will not be done until after the Filter instances need to be registered.\r\n\r\nWhy does it extend `GenericFilterBean`, then? Most Spring filters extend `GenericFilterBean` because it allows more flexibility for applications to use them like building blocks. Like its JavaDoc says:\r\n\r\n```java\r\n/**\r\n  * A handy superclass for any type of filter.\r\n  */\r\n```\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/blob/main/spring-web/src/main/java/org/springframework/web/filter/GenericFilterBean.java#L54\r\n  [2]: https://github.com/spring-projects/spring-framework/blob/main/spring-web/src/main/java/org/springframework/web/filter/DelegatingFilterProxy.java#L45\r\n  [3]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#web.servlet.embedded-container.servlets-filters-listeners.beans\r\n  [4]: https://docs.spring.io/spring-security/reference/5.7.2/servlet/architecture.html#servlet-delegatingfilterproxy","title":"Whats the difference between DelegatingFilterProxy and GenericFilterBean?","body":"<blockquote>\n<p>It extends <code>GenericFilterBean</code> in order to gain this functionality.</p>\n</blockquote>\n<p>I think I'd word that differently. According to <a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-web/src/main/java/org/springframework/web/filter/GenericFilterBean.java#L54\" rel=\"nofollow noreferrer\"><code>GenericFilterBean</code>'s JavaDoc</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * This generic filter base class has no dependency on the Spring  \n * org.springframework.context.ApplicationContext concept. Filters usually \n * don't load their own context but rather access service beans from the \n * Spring root application context, accessible via the filter's \n * ServletContext\n **/\n</code></pre>\n<p>Note also from <code>GenericFilterBean</code>'s JavaDoc:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * This filter leaves actual filtering to subclasses, which have to implement \n * the Filter.doFilter method.\n **/\n</code></pre>\n<p>Or, IOW, <code>GenericFilterBean</code> picks up <code>init-param</code>s, registers them as Spring bean properties, and applies those properties to the filter. <code>init-param</code>s are limited in their capacity and also <code>doFilter</code> still needs implementing either way.</p>\n<p>This is where <code>DelegatingFilterProxy</code> comes in. It looks up a bean of type <code>Filter</code> from the application context and proxies to it in its own <code>doFilter</code> method. This proxy allows applications to specify a bean of type <code>Filter</code> that relies on Spring's lifecycle instead of the servlet container's.</p>\n<p>You can see this detailed in <a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-web/src/main/java/org/springframework/web/filter/DelegatingFilterProxy.java#L45\" rel=\"nofollow noreferrer\"><code>DelegatingFilterProxy</code>'s JavaDoc</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n  * This approach is particularly useful for Filter implementation with \n  * complex setup needs, allowing to apply the full Spring bean definition \n  * machinery to Filter instances.\n  */\n</code></pre>\n<p><em>NOTE</em>: Spring Boot applications can alternatively publish beans of type <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#web.servlet.embedded-container.servlets-filters-listeners.beans\" rel=\"nofollow noreferrer\"><code>FilterRegistrationBean</code></a> to specify both the underlying filter, its order and dispatcher types.</p>\n<blockquote>\n<p>Both classes seem to be able to be wired directly in the <code>web.xml</code></p>\n</blockquote>\n<p>What gives you this impression? Given that <code>GenericFilterBean</code> is <code>abstract</code>, I'm not clear on how it could be referenced in a <code>web.xml</code> file. The Servlet container would not be able to construct it.</p>\n<blockquote>\n<p>does Spring Security use a <code>DelegatingFilterProxy</code> in order to call the <code>FilterChainProxy</code></p>\n</blockquote>\n<p><a href=\"https://docs.spring.io/spring-security/reference/5.7.2/servlet/architecture.html#servlet-delegatingfilterproxy\" rel=\"nofollow noreferrer\">Yes</a>.</p>\n<p>Spring Security chooses to use the <code>Filter</code> API instead of inventing its own. Because of that, it fits nicely inside the purpose of <code>DelegatingFilterProxy</code>.  (You can imagine how limiting it might be for folks to configure Spring Security though <code>web.xml</code> <code>init-param</code>s alone, for example.)</p>\n<p>Hypothetically, if Spring Security had decided to create its own filter-like API, it would have its own implementation of <code>GenericFilterBean</code> that implements <code>doFilter</code> differently.</p>\n<blockquote>\n<p>although the latter already extends <code>GenericFilterBean</code></p>\n</blockquote>\n<p>I think this part of your question is asking &quot;couldn't <code>FilterChainProxy</code> just be specified as a filter to the servlet container since it implements <code>GenericFilterBean</code>?&quot;. And the answer is <a href=\"https://docs.spring.io/spring-security/reference/5.7.2/servlet/architecture.html#servlet-delegatingfilterproxy\" rel=\"nofollow noreferrer\">&quot;no&quot;</a>. From Spring Security's docs:</p>\n<blockquote>\n<p>Another benefit of <code>DelegatingFilterProxy</code> is that it allows delaying looking <code>Filter</code> bean instances. This is important because the container needs to register the <code>Filter</code> instances before the container can startup. However, Spring typically uses a <code>ContextLoaderListener</code> to load the Spring Beans which will not be done until after the Filter instances need to be registered.</p>\n</blockquote>\n<p>Why does it extend <code>GenericFilterBean</code>, then? Most Spring filters extend <code>GenericFilterBean</code> because it allows more flexibility for applications to use them like building blocks. Like its JavaDoc says:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n  * A handy superclass for any type of filter.\n  */\n</code></pre>\n"}],"owner":{"account_id":6173468,"reputation":313,"user_id":4811107,"display_name":"Krangerich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":328,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"answer_count":1,"score":-4,"last_activity_date":1661892755,"creation_date":1661783924,"question_id":73530501,"body_markdown":"* `DelegatingFilterProxy` enables you to use a Spring Bean as a servlet filter. So you can use the spring context inside the filter, inject other beans and so on. It extends `GenericFilterBean` in order to gain this functionality.\r\n* `GenericFilterBean` enables you to do the same.\r\n\r\nBoth classes seem to claim to provide the same functionality in the end. Both classes seem to be able to be wired directly in the `web.xml`. The code of `DelegatingFilterProxy` seems to be just a thin layer of indirection.\r\n\r\nBut why is this even necessary, where you could just extend `GenericFilterBean` instead? Why, for example, does Spring Security use a `DelegatingFilterProxy` in order to call the `FilterChainProxy`, although the latter already extends `GenericFilterBean`?","title":"Whats the difference between DelegatingFilterProxy and GenericFilterBean?","body":"<ul>\n<li><code>DelegatingFilterProxy</code> enables you to use a Spring Bean as a servlet filter. So you can use the spring context inside the filter, inject other beans and so on. It extends <code>GenericFilterBean</code> in order to gain this functionality.</li>\n<li><code>GenericFilterBean</code> enables you to do the same.</li>\n</ul>\n<p>Both classes seem to claim to provide the same functionality in the end. Both classes seem to be able to be wired directly in the <code>web.xml</code>. The code of <code>DelegatingFilterProxy</code> seems to be just a thin layer of indirection.</p>\n<p>But why is this even necessary, where you could just extend <code>GenericFilterBean</code> instead? Why, for example, does Spring Security use a <code>DelegatingFilterProxy</code> in order to call the <code>FilterChainProxy</code>, although the latter already extends <code>GenericFilterBean</code>?</p>\n"},{"tags":["c#","java","bitwise-operators"],"comments":[{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":10,"creation_date":1260448201,"post_id":1880172,"comment_id":1780289,"body_markdown":"There is no &lt;&lt;&lt; operator in Java, only a &gt;&gt;&gt; operator.","body":"There is no &lt;&lt;&lt; operator in Java, only a &gt;&gt;&gt; operator."},{"owner":{"account_id":1912993,"reputation":1801,"user_id":1726260,"accept_rate":75,"display_name":"Arjun Vachhani"},"score":1,"creation_date":1661842777,"post_id":1880172,"comment_id":129860800,"body_markdown":"C# 11 supports &gt;&gt;&gt; operator. check [My answer](https://stackoverflow.com/questions/1880172/equivalent-of-java-triple-shift-operator-in-c/73533057#73533057) and here is [Microsoft Docs](https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/operators/bitwise-and-shift-operators#unsigned-right-shift-operator-)","body":"C# 11 supports &gt;&gt;&gt; operator. check <a href=\"https://stackoverflow.com/questions/1880172/equivalent-of-java-triple-shift-operator-in-c/73533057#73533057\">My answer</a> and here is <a href=\"https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/operators/bitwise-and-shift-operators#unsigned-right-shift-operator-\" rel=\"nofollow noreferrer\">Microsoft Docs</a>"}],"answers":[{"tags":[],"owner":{"account_id":32074,"reputation":59409,"user_id":88558,"accept_rate":88,"display_name":"Lucero"},"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1661891227,"creation_date":1260442332,"answer_id":1880186,"question_id":1880172,"body_markdown":"Edit: The [Unsigned right-shift operator &gt;&gt;&gt;](https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/operators/bitwise-and-shift-operators#unsigned-right-shift-operator-) is now also available in C# 11 and later.\r\n\r\nFor earlier C# versions, you can use unsigned integer types, and then the `&lt;&lt;` and `&gt;&gt;` do what you expect. The [MSDN documentation on shift operators][1] gives you the details.\r\n\r\nSince Java doesn&#39;t support unsigned integers (apart from `char`), this additional operator became necessary.\r\n\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/aa691377(VS.71).aspx","title":"Equivalent of Java triple shift operator (&gt;&gt;&gt;) in C#?","body":"<p>Edit: The <a href=\"https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/operators/bitwise-and-shift-operators#unsigned-right-shift-operator-\" rel=\"nofollow noreferrer\">Unsigned right-shift operator &gt;&gt;&gt;</a> is now also available in C# 11 and later.</p>\n<p>For earlier C# versions, you can use unsigned integer types, and then the <code>&lt;&lt;</code> and <code>&gt;&gt;</code> do what you expect. The <a href=\"http://msdn.microsoft.com/en-us/library/aa691377(VS.71).aspx\" rel=\"nofollow noreferrer\">MSDN documentation on shift operators</a> gives you the details.</p>\n<p>Since Java doesn't support unsigned integers (apart from <code>char</code>), this additional operator became necessary.</p>\n"},{"tags":[],"owner":{"account_id":62022,"reputation":43632,"user_id":184499,"display_name":"Matt"},"down_vote_count":2,"up_vote_count":19,"is_accepted":false,"score":17,"last_activity_date":1260442497,"creation_date":1260442497,"answer_id":1880203,"question_id":1880172,"body_markdown":"Java doesn&#39;t have an unsigned left shift (`&lt;&lt;&lt;`), but either way, you can just cast to `uint` and shfit from there.\r\n\r\nE.g.\r\n\r\n    (int)((uint)foo &gt;&gt; 2); // temporarily cast to uint, shift, then cast back to int","title":"Equivalent of Java triple shift operator (&gt;&gt;&gt;) in C#?","body":"<p>Java doesn't have an unsigned left shift (<code>&lt;&lt;&lt;</code>), but either way, you can just cast to <code>uint</code> and shfit from there.</p>\n\n<p>E.g.</p>\n\n<pre><code>(int)((uint)foo &gt;&gt; 2); // temporarily cast to uint, shift, then cast back to int\n</code></pre>\n"},{"tags":[],"owner":{"account_id":695878,"reputation":447,"user_id":576200,"display_name":"KeithC"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1295038499,"creation_date":1295038499,"answer_id":4695846,"question_id":1880172,"body_markdown":"Upon reading this, I hope my conclusion of use as follows is correct.\r\nIf not, insights appreciated.\r\n\r\nJava\r\n\r\n    i &gt;&gt;&gt;= 1;\r\n\r\nC#:\r\n\r\n    i = (int)((uint)i &gt;&gt; 1);\r\n\r\n\r\n\r\n","title":"Equivalent of Java triple shift operator (&gt;&gt;&gt;) in C#?","body":"<p>Upon reading this, I hope my conclusion of use as follows is correct.\nIf not, insights appreciated.</p>\n\n<p>Java</p>\n\n<pre><code>i &gt;&gt;&gt;= 1;\n</code></pre>\n\n<p>C#:</p>\n\n<pre><code>i = (int)((uint)i &gt;&gt; 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":76308,"reputation":304,"user_id":218551,"display_name":"Sebastien Lebreton"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1310135251,"creation_date":1310135251,"answer_id":6625912,"question_id":1880172,"body_markdown":"n &gt;&gt;&gt; s in Java is equivalent to TripleShift(n,s) where:        \r\n\r\n\r\n        private static long TripleShift(long n, int s)\r\n        {\r\n            if (n &gt;= 0)\r\n                return n &gt;&gt; s;\r\n            return (n &gt;&gt; s) + (2 &lt;&lt; ~s);\r\n        }\r\n","title":"Equivalent of Java triple shift operator (&gt;&gt;&gt;) in C#?","body":"<p>n >>> s in Java is equivalent to TripleShift(n,s) where:        </p>\n\n<pre><code>    private static long TripleShift(long n, int s)\n    {\n        if (n &gt;= 0)\n            return n &gt;&gt; s;\n        return (n &gt;&gt; s) + (2 &lt;&lt; ~s);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18999,"reputation":10646,"user_id":44080,"accept_rate":99,"display_name":"Charles Okwuagwu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423246731,"creation_date":1423246731,"answer_id":28372248,"question_id":1880172,"body_markdown":"For my **VB.Net** folks\r\n\r\nThe suggested answers above will give you overflow exceptions with `Option Strict ON` \r\n\r\nTry this for example `-100 &gt;&gt;&gt; 2` with above solutions:\r\n\r\nThe following code works always for `&gt;&gt;&gt;`\r\n\r\n    Function RShift3(ByVal a As Long, ByVal n As Integer) As Long\r\n            If a &gt;= 0 Then\r\n                Return a &gt;&gt; n\r\n            Else\r\n                Return (a &gt;&gt; n) + (2 &lt;&lt; (Not n))\r\n            End If\r\n    End Function","title":"Equivalent of Java triple shift operator (&gt;&gt;&gt;) in C#?","body":"<p>For my <strong>VB.Net</strong> folks</p>\n\n<p>The suggested answers above will give you overflow exceptions with <code>Option Strict ON</code> </p>\n\n<p>Try this for example <code>-100 &gt;&gt;&gt; 2</code> with above solutions:</p>\n\n<p>The following code works always for <code>&gt;&gt;&gt;</code></p>\n\n<pre><code>Function RShift3(ByVal a As Long, ByVal n As Integer) As Long\n        If a &gt;= 0 Then\n            Return a &gt;&gt; n\n        Else\n            Return (a &gt;&gt; n) + (2 &lt;&lt; (Not n))\n        End If\nEnd Function\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3148611,"reputation":7032,"user_id":3894854,"accept_rate":97,"display_name":"Musakkhir Sayyed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1435642546,"creation_date":1435642546,"answer_id":31130333,"question_id":1880172,"body_markdown":"There is no &gt;&gt;&gt; operator in C#. But you can convert your value like int,long,Int16,Int32,Int64 to unsigned uint, ulong, UInt16,UInt32,UInt64 etc.\r\n\r\nHere is the example.\r\n\r\n        private long getUnsignedRightShift(long value,int s)\r\n        {\r\n            return (long)((ulong)value &gt;&gt; s);\r\n        }","title":"Equivalent of Java triple shift operator (&gt;&gt;&gt;) in C#?","body":"<p>There is no >>> operator in C#. But you can convert your value like int,long,Int16,Int32,Int64 to unsigned uint, ulong, UInt16,UInt32,UInt64 etc.</p>\n\n<p>Here is the example.</p>\n\n<pre><code>    private long getUnsignedRightShift(long value,int s)\n    {\n        return (long)((ulong)value &gt;&gt; s);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1912993,"reputation":1801,"user_id":1726260,"accept_rate":75,"display_name":"Arjun Vachhani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661796931,"creation_date":1661796931,"answer_id":73533057,"question_id":1880172,"body_markdown":"C# 11 and later supports `&gt;&gt;&gt;` Unsigned right shift operator \r\n\r\n\r\nhttps://learn.microsoft.com/en-us/dotnet/csharp/language-reference/operators/bitwise-and-shift-operators#unsigned-right-shift-operator-","title":"Equivalent of Java triple shift operator (&gt;&gt;&gt;) in C#?","body":"<p>C# 11 and later supports <code>&gt;&gt;&gt;</code> Unsigned right shift operator</p>\n<p><a href=\"https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/operators/bitwise-and-shift-operators#unsigned-right-shift-operator-\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/operators/bitwise-and-shift-operators#unsigned-right-shift-operator-</a></p>\n"}],"owner":{"account_id":66672,"reputation":1449,"user_id":195489,"accept_rate":91,"display_name":"Nikolaos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17769,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":1880186,"answer_count":7,"score":38,"last_activity_date":1661891227,"creation_date":1260442218,"question_id":1880172,"body_markdown":"What is the equivalent (in C#) of Java&#39;s `&gt;&gt;&gt;` operator?\r\n\r\n(Just to clarify, I&#39;m not referring to the `&gt;&gt;` and `&lt;&lt;` operators.)","title":"Equivalent of Java triple shift operator (&gt;&gt;&gt;) in C#?","body":"<p>What is the equivalent (in C#) of Java's <code>&gt;&gt;&gt;</code> operator?</p>\n\n<p>(Just to clarify, I'm not referring to the <code>&gt;&gt;</code> and <code>&lt;&lt;</code> operators.)</p>\n"},{"tags":["java","archlinux"],"answers":[{"tags":[],"owner":{"account_id":2734467,"reputation":804,"user_id":2357439,"display_name":"Alexander Bollaert"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591821301,"creation_date":1591821301,"answer_id":62312649,"question_id":60801629,"body_markdown":"Assuming you&#39;re trying to run a JavaFX application under Wayland, try starting the app as `java -Djdk.gtk.version=2 -jar SG.jar` as per [this][1] comment.\r\n\r\n\r\n  [1]: https://github.com/javafxports/openjdk-jfx/issues/175#issuecomment-417030981","title":"Arch Linux Java critical error executing jar","body":"<p>Assuming you're trying to run a JavaFX application under Wayland, try starting the app as <code>java -Djdk.gtk.version=2 -jar SG.jar</code> as per <a href=\"https://github.com/javafxports/openjdk-jfx/issues/175#issuecomment-417030981\" rel=\"nofollow noreferrer\">this</a> comment.</p>\n"}],"owner":{"account_id":12931128,"reputation":3,"user_id":9350128,"display_name":"user9350128"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661891183,"creation_date":1584893128,"question_id":60801629,"body_markdown":"If I try to run my .jar file with ```java -jar SG.jar``` I get the following error message: \r\n\r\n```\r\njava:2285): Gdk-CRITICAL **: 16:58:47.463: gdk_x11_display_set_window_scale: assertion &#39;GDK_IS_X11_DISPLAY (display)&#39; failed\r\n#\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  SIGSEGV (0xb) at pc=0x00007f01d2eec673, pid=2285, tid=2321\r\n#\r\n# JRE version: OpenJDK Runtime Environment (13.0.2+8) (build 13.0.2+8)\r\n# Java VM: OpenJDK 64-Bit Server VM (13.0.2+8, mixed mode, tiered, compressed oops, g1 gc, linux-amd64)\r\n# Problematic frame:\r\n# C  [libX11.so.6+0x2b673]\r\n\r\n```","title":"Arch Linux Java critical error executing jar","body":"<p>If I try to run my .jar file with <code>java -jar SG.jar</code> I get the following error message:</p>\n<pre><code>java:2285): Gdk-CRITICAL **: 16:58:47.463: gdk_x11_display_set_window_scale: assertion 'GDK_IS_X11_DISPLAY (display)' failed\n#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x00007f01d2eec673, pid=2285, tid=2321\n#\n# JRE version: OpenJDK Runtime Environment (13.0.2+8) (build 13.0.2+8)\n# Java VM: OpenJDK 64-Bit Server VM (13.0.2+8, mixed mode, tiered, compressed oops, g1 gc, linux-amd64)\n# Problematic frame:\n# C  [libX11.so.6+0x2b673]\n\n</code></pre>\n"},{"tags":["java","asynchronous","java-8","project-reactor","completable-future"],"answers":[{"tags":[],"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661891094,"creation_date":1661891094,"answer_id":73548085,"question_id":73538876,"body_markdown":"Unlike Reactor types, `CompletableFuture` is able to handle `null` values, so you can use that to represent empty state and do action based on that:\r\n\r\n```java\r\nCompletableFuture&lt;String&gt; callingMethod(){\r\n    return getData2()\r\n        .thenCompose(cached -&gt; cached == null \r\n            ? getData1() \r\n            : CompletableFuture.completedFuture(cached));\r\n}\r\n```","title":"How do I achieve .switchIfEmpty() type of method present in Reactive Framework with Mono/Flux with completable future?","body":"<p>Unlike Reactor types, <code>CompletableFuture</code> is able to handle <code>null</code> values, so you can use that to represent empty state and do action based on that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;String&gt; callingMethod(){\n    return getData2()\n        .thenCompose(cached -&gt; cached == null \n            ? getData1() \n            : CompletableFuture.completedFuture(cached));\n}\n</code></pre>\n"}],"owner":{"account_id":21573087,"reputation":29,"user_id":15905693,"display_name":"Akash Beura"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1661891116,"creation_date":1661845792,"question_id":73538876,"body_markdown":"```\r\nMono&lt;String&gt; getData1(){\r\n  return someApiClient.getData();\r\n}\r\n\r\nMono&lt;String&gt; getData2(){\r\n  return someCacheClient.getData();\r\n}\r\n\r\nMono&lt;Object&gt; callingMethod(){\r\n  return getData2().switchIfEmpty(getData1());\r\n}\r\n\r\n```\r\n\r\nHow do I convert the &quot;callingMethod&quot; if my implementation is like this\r\n\r\n```\r\nCompletableFuture&lt;String&gt; getData1(){\r\n  return someApiClient.getData().toFuture();\r\n}\r\n\r\nCompletableFuture&lt;String&gt; getData2(){\r\n  return someCacheClient.getData().toFuture();\r\n}\r\n\r\nCompletableFuture&lt;String&gt; callingMethod(){\r\n  // How to do it here? I am not getting any way. \r\n  // I need to achieve similar functionality like .switchIfEmpty here\r\n}\r\n```\r\n\r\nI tried to search different articles online but did not find any. Please help me out here.","title":"How do I achieve .switchIfEmpty() type of method present in Reactive Framework with Mono/Flux with completable future?","body":"<pre><code>Mono&lt;String&gt; getData1(){\n  return someApiClient.getData();\n}\n\nMono&lt;String&gt; getData2(){\n  return someCacheClient.getData();\n}\n\nMono&lt;Object&gt; callingMethod(){\n  return getData2().switchIfEmpty(getData1());\n}\n\n</code></pre>\n<p>How do I convert the &quot;callingMethod&quot; if my implementation is like this</p>\n<pre><code>CompletableFuture&lt;String&gt; getData1(){\n  return someApiClient.getData().toFuture();\n}\n\nCompletableFuture&lt;String&gt; getData2(){\n  return someCacheClient.getData().toFuture();\n}\n\nCompletableFuture&lt;String&gt; callingMethod(){\n  // How to do it here? I am not getting any way. \n  // I need to achieve similar functionality like .switchIfEmpty here\n}\n</code></pre>\n<p>I tried to search different articles online but did not find any. Please help me out here.</p>\n"},{"tags":["java","grid","vaadin"],"comments":[{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1661886461,"post_id":73547136,"comment_id":129877368,"body_markdown":"Why don&#39;t you join the tables and let the DB do the heavy lifting?","body":"Why don&#39;t you join the tables and let the DB do the heavy lifting?"},{"owner":{"account_id":25313691,"reputation":83,"user_id":19136108,"display_name":"Andromeda"},"score":0,"creation_date":1661886554,"post_id":73547136,"comment_id":129877392,"body_markdown":"@cfrick it will be the second way, if this solution is can&#39;t be reached ...","body":"@cfrick it will be the second way, if this solution is can&#39;t be reached ..."},{"owner":{"account_id":14808729,"reputation":81,"user_id":10694985,"display_name":"Roman Kovař&#237;k"},"score":0,"creation_date":1662120560,"post_id":73547136,"comment_id":129938357,"body_markdown":"Workaround: Could you avoid showing that info immediately in favour of a lazy loading via a button click (or via https://vaadin.com/docs/latest/components/grid/#item-details)? If that&#39;s not feasible, you can cache the results from the other table in the column renderer so you don&#39;t have to call the database per each row.","body":"Workaround: Could you avoid showing that info immediately in favour of a lazy loading via a button click (or via <a href=\"https://vaadin.com/docs/latest/components/grid/#item-details\" rel=\"nofollow noreferrer\">vaadin.com/docs/latest/components/grid/#item-details</a>)? If that&#39;s not feasible, you can cache the results from the other table in the column renderer so you don&#39;t have to call the database per each row."}],"answers":[{"tags":[],"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661890961,"creation_date":1661890654,"answer_id":73548027,"question_id":73547136,"body_markdown":"First of all, I&#39;d not bother with with enriching rows, in that way, if\r\nI don&#39;t have to.  If the solution is as simple as just joining the data\r\nin the DB, creating a view, ... then just do that.\r\n\r\nYet, there are times, this has to be done efficiently, because the data\r\nto enrich does not come from the same source.\r\n\r\nI think the best place to do that, is as part of the lazy loading of the\r\ndata.  Once you hold the stream in hand for the currently loaded page,\r\nyou can `map` over the stream and enrich the data, or do an batch load\r\netc.  Pick what is most efficient.\r\n\r\nIf you have to do that a lot, make sure to provide useful tools inside\r\nyour repositories; for quickly adding things just for one grid, you can\r\nas well highjack the DataProvider or it&#39;s successor.\r\n\r\nFollowing an example (note the `XXX`):\r\n\r\n```groovy\r\n@Route(&quot;&quot;)\r\nclass GridView extends Div {\r\n    GridView() {\r\n        add(new Grid&lt;User&gt;(User).tap {\r\n            setItems({ q -&gt;\r\n                // XXX: this materializes the stream first to get all\r\n                //      unique organizationId:s, batch-load the\r\n                //      Organization, and finally transform the User\r\n                def users = FakeUserRepo.page(q.offset, q.limit).toList()\r\n                def orgaMap = FakeOrganizationRepo.batchLoad(users*.organizationId.toSet())\r\n                users.stream().map {\r\n                    it.organizationName = orgaMap[it.organizationId].name; it\r\n                }\r\n            }, { q -&gt;\r\n                FakeUserRepo.count()\r\n            })\r\n        })\r\n    }\r\n}\r\n\r\n@TupleConstructor\r\nclass Organization {\r\n    Integer id\r\n    String name\r\n}\r\n\r\nclass FakeOrganizationRepo {\r\n\r\n    public static final Map&lt;Integer, Organization&gt; ORGANIZATIONS = (0..&lt;5).collectEntries { [it, new Organization(it, &quot;Organization $it&quot;)] }\r\n\r\n    static Map&lt;Integer, Organization&gt; batchLoad(Set&lt;Integer&gt; ids) {\r\n        ORGANIZATIONS.subMap(ids)\r\n    }\r\n}\r\n\r\n@TupleConstructor\r\nclass User {\r\n    Integer id\r\n    String name\r\n    Integer organizationId\r\n    String organizationName\r\n}\r\n\r\nclass FakeUserRepo {\r\n\r\n    public static final Collection&lt;User&gt; USERS = (1..500_000).collect {\r\n        new User(it, &quot;User $it&quot;, it % FakeOrganizationRepo.ORGANIZATIONS.size())\r\n    }\r\n\r\n    static int count() {\r\n        USERS.size()\r\n    }\r\n\r\n    static Stream&lt;User&gt; page(int offset, int limit) {\r\n        USERS.stream().skip(offset).limit(limit)\r\n    }\r\n\r\n}\r\n```\r\n","title":"How to calculate a value into a own column without having to call the database for each record","body":"<p>First of all, I'd not bother with with enriching rows, in that way, if\nI don't have to.  If the solution is as simple as just joining the data\nin the DB, creating a view, ... then just do that.</p>\n<p>Yet, there are times, this has to be done efficiently, because the data\nto enrich does not come from the same source.</p>\n<p>I think the best place to do that, is as part of the lazy loading of the\ndata.  Once you hold the stream in hand for the currently loaded page,\nyou can <code>map</code> over the stream and enrich the data, or do an batch load\netc.  Pick what is most efficient.</p>\n<p>If you have to do that a lot, make sure to provide useful tools inside\nyour repositories; for quickly adding things just for one grid, you can\nas well highjack the DataProvider or it's successor.</p>\n<p>Following an example (note the <code>XXX</code>):</p>\n<pre><code>@Route(&quot;&quot;)\nclass GridView extends Div {\n    GridView() {\n        add(new Grid&lt;User&gt;(User).tap {\n            setItems({ q -&gt;\n                // XXX: this materializes the stream first to get all\n                //      unique organizationId:s, batch-load the\n                //      Organization, and finally transform the User\n                def users = FakeUserRepo.page(q.offset, q.limit).toList()\n                def orgaMap = FakeOrganizationRepo.batchLoad(users*.organizationId.toSet())\n                users.stream().map {\n                    it.organizationName = orgaMap[it.organizationId].name; it\n                }\n            }, { q -&gt;\n                FakeUserRepo.count()\n            })\n        })\n    }\n}\n\n@TupleConstructor\nclass Organization {\n    Integer id\n    String name\n}\n\nclass FakeOrganizationRepo {\n\n    public static final Map&lt;Integer, Organization&gt; ORGANIZATIONS = (0..&lt;5).collectEntries { [it, new Organization(it, &quot;Organization $it&quot;)] }\n\n    static Map&lt;Integer, Organization&gt; batchLoad(Set&lt;Integer&gt; ids) {\n        ORGANIZATIONS.subMap(ids)\n    }\n}\n\n@TupleConstructor\nclass User {\n    Integer id\n    String name\n    Integer organizationId\n    String organizationName\n}\n\nclass FakeUserRepo {\n\n    public static final Collection&lt;User&gt; USERS = (1..500_000).collect {\n        new User(it, &quot;User $it&quot;, it % FakeOrganizationRepo.ORGANIZATIONS.size())\n    }\n\n    static int count() {\n        USERS.size()\n    }\n\n    static Stream&lt;User&gt; page(int offset, int limit) {\n        USERS.stream().skip(offset).limit(limit)\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":25313691,"reputation":83,"user_id":19136108,"display_name":"Andromeda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73548027,"answer_count":1,"score":0,"last_activity_date":1661890961,"creation_date":1661884964,"question_id":73547136,"body_markdown":"I am trying to load data to the grid from another database table.\r\n\r\nMy grid is created from `User` entity\r\n\r\n    private Grid&lt;User&gt; grid = new Grid&lt;&gt;(User.class, false);\r\n\r\n`User` has several columns like\r\n\r\n    private Long userId;\r\n    private String username;\r\n    private String email;\r\n    .\r\n    .\r\n    .\r\n\r\nThe `User` contains the record identifier from the second table (entity) too:\r\n\r\n    private Long organizationId;\r\n\r\nSo I added columns to the grid:\r\n\r\n    grid.addColumn(User::getUserId).setAutoWidth(true).setHeader(&quot;id&quot;);\r\n    grid.addColumn(User::getUsername).setAutoWidth(true).setHeader(&quot;login&quot;);\r\n\r\nAnd I created my &quot;own&quot; column which using data from another table (entity):\r\n\r\n     grid.addColumn(user -&gt; organizationService.findOrganizationNameByOrganizationId(user.getOrganizationId()).setAutoWidth(true).setHeader(&quot;organization name&quot;);\r\n\r\nBut problem is, that loading is very slow, because `User` table has about `500 000 rows` and it send query to the database for each row ...    \r\n\r\nIs possible to load `organization name` by `organization id` defined in `user entity` in batch e.g. ?   ","title":"How to calculate a value into a own column without having to call the database for each record","body":"<p>I am trying to load data to the grid from another database table.</p>\n<p>My grid is created from <code>User</code> entity</p>\n<pre><code>private Grid&lt;User&gt; grid = new Grid&lt;&gt;(User.class, false);\n</code></pre>\n<p><code>User</code> has several columns like</p>\n<pre><code>private Long userId;\nprivate String username;\nprivate String email;\n.\n.\n.\n</code></pre>\n<p>The <code>User</code> contains the record identifier from the second table (entity) too:</p>\n<pre><code>private Long organizationId;\n</code></pre>\n<p>So I added columns to the grid:</p>\n<pre><code>grid.addColumn(User::getUserId).setAutoWidth(true).setHeader(&quot;id&quot;);\ngrid.addColumn(User::getUsername).setAutoWidth(true).setHeader(&quot;login&quot;);\n</code></pre>\n<p>And I created my &quot;own&quot; column which using data from another table (entity):</p>\n<pre><code> grid.addColumn(user -&gt; organizationService.findOrganizationNameByOrganizationId(user.getOrganizationId()).setAutoWidth(true).setHeader(&quot;organization name&quot;);\n</code></pre>\n<p>But problem is, that loading is very slow, because <code>User</code> table has about <code>500 000 rows</code> and it send query to the database for each row ...</p>\n<p>Is possible to load <code>organization name</code> by <code>organization id</code> defined in <code>user entity</code> in batch e.g. ?</p>\n"},{"tags":["java","python","encryption","aes"],"answers":[{"tags":[],"owner":{"account_id":2033317,"reputation":61286,"user_id":1816580,"display_name":"Artjom B."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1441817473,"creation_date":1441817473,"answer_id":32485255,"question_id":32483738,"body_markdown":"Java has providers which implement some schemes. A scheme is chosen from a string, in your case `Cipher.getInstance(&quot;AES&quot;)`. Since it is not possible to run plain AES in Java, it selects some defaults to make it a complete scheme. \r\n\r\nIt is necessary to determine the mode of operation and optionally the padding mode. Most providers in Java default to `&quot;AES/ECB/PKCS5Padding&quot;` when they see `&quot;AES&quot;`.\r\n\r\nNow for `byte[] newIv = cipher.doFinal(myIv)`. This line encrypts the plaintext (`myIv`) with AES in ECB mode and applies PKCS#7 padding. ECB mode doesn&#39;t use an IV, so this is bad variable naming, because `myIv` is not an IV for the encryption.\r\n\r\n[This][1] is a post that shows how padding and unpadding can be done.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/12525165","title":"AES Java to Python","body":"<p>Java has providers which implement some schemes. A scheme is chosen from a string, in your case <code>Cipher.getInstance(\"AES\")</code>. Since it is not possible to run plain AES in Java, it selects some defaults to make it a complete scheme. </p>\n\n<p>It is necessary to determine the mode of operation and optionally the padding mode. Most providers in Java default to <code>\"AES/ECB/PKCS5Padding\"</code> when they see <code>\"AES\"</code>.</p>\n\n<p>Now for <code>byte[] newIv = cipher.doFinal(myIv)</code>. This line encrypts the plaintext (<code>myIv</code>) with AES in ECB mode and applies PKCS#7 padding. ECB mode doesn't use an IV, so this is bad variable naming, because <code>myIv</code> is not an IV for the encryption.</p>\n\n<p><a href=\"https://stackoverflow.com/a/12525165\">This</a> is a post that shows how padding and unpadding can be done.</p>\n"},{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1441877957,"creation_date":1441877957,"answer_id":32498277,"question_id":32483738,"body_markdown":"The code uses `&quot;AES&quot;` as algorithm string, which (indeed) resolves to `&quot;AES/ECB/PKCS5Padding&quot;`. It seems you can use `AES.MODE_ECB` in python using PyCrypto, so it should be no problem replicating that. You may have to implement PKCS#7 padding/unpadding yourself though (or use [one of the many examples on the internet](https://stackoverflow.com/a/14205319/589259)). You would not need any IV because ECB doesn&#39;t use an IV.\r\n\r\nAs why a static key is used and why a static IV is being encrypted (with padding) is unknown to me. That can only be clarified by the author of the code. It certainly does not follow best practice.\r\n\r\n","title":"AES Java to Python","body":"<p>The code uses <code>\"AES\"</code> as algorithm string, which (indeed) resolves to <code>\"AES/ECB/PKCS5Padding\"</code>. It seems you can use <code>AES.MODE_ECB</code> in python using PyCrypto, so it should be no problem replicating that. You may have to implement PKCS#7 padding/unpadding yourself though (or use <a href=\"https://stackoverflow.com/a/14205319/589259\">one of the many examples on the internet</a>). You would not need any IV because ECB doesn't use an IV.</p>\n\n<p>As why a static key is used and why a static IV is being encrypted (with padding) is unknown to me. That can only be clarified by the author of the code. It certainly does not follow best practice.</p>\n"}],"owner":{"account_id":1024018,"reputation":4682,"user_id":1033716,"accept_rate":77,"display_name":"Martol1ni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1341,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":32498277,"answer_count":2,"score":1,"last_activity_date":1661890502,"creation_date":1441812793,"question_id":32483738,"body_markdown":"This is an AES encryption code I&#39;ve gotten from a Java source. This bugs me, as the `Cipher` itself doesn&#39;t use any initial vector in it&#39;s initialization - thus I can&#39;t seem to to the same thing in Python. Can anyone with a Java background help me understand what this actually does?\r\n\r\n    byte key[] = {0x13, 0x00, 0x00, 0x00, 0x08, 0x00, 0x00, 0x00, 0x06, 0x00, 0x00, 0x00, (byte) 0xB4, 0x00, 0x00, 0x00, 0x1B, 0x00, 0x00, 0x00, 0x0F, 0x00, 0x00, 0x00, 0x33, 0x00, 0x00, 0x00, 0x52, 0x00, 0x00, 0x00};\r\n    SecretKeySpec skeySpec = new SecretKeySpec(key, &quot;AES&quot;);\r\n    Cipher cipher = Cipher.getInstance(&quot;AES&quot;);\r\n    cipher.init(Cipher.ENCRYPT_MODE, skeySpec);\r\n    byte[] myIv = {70, 114, 122, 82, 70, 114, 122, 82, 70, 114, 122, 82, 70, 114, 122, 82}\r\n    byte[] newIv = cipher.doFinal(myIv);","title":"AES Java to Python","body":"<p>This is an AES encryption code I've gotten from a Java source. This bugs me, as the <code>Cipher</code> itself doesn't use any initial vector in it's initialization - thus I can't seem to to the same thing in Python. Can anyone with a Java background help me understand what this actually does?</p>\n\n<pre><code>byte key[] = {0x13, 0x00, 0x00, 0x00, 0x08, 0x00, 0x00, 0x00, 0x06, 0x00, 0x00, 0x00, (byte) 0xB4, 0x00, 0x00, 0x00, 0x1B, 0x00, 0x00, 0x00, 0x0F, 0x00, 0x00, 0x00, 0x33, 0x00, 0x00, 0x00, 0x52, 0x00, 0x00, 0x00};\nSecretKeySpec skeySpec = new SecretKeySpec(key, \"AES\");\nCipher cipher = Cipher.getInstance(\"AES\");\ncipher.init(Cipher.ENCRYPT_MODE, skeySpec);\nbyte[] myIv = {70, 114, 122, 82, 70, 114, 122, 82, 70, 114, 122, 82, 70, 114, 122, 82}\nbyte[] newIv = cipher.doFinal(myIv);\n</code></pre>\n"},{"tags":["java","spring-webflux","project-reactor","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661890325,"creation_date":1661890325,"answer_id":73547966,"question_id":73525320,"body_markdown":"You can use `transform` operator for this purpose:\r\n\r\n```java\r\nprivate Flux&lt;BusinessObject&gt; getBusinessObjects(String serviceURL) {\r\n        return this.webClient.get()\r\n                .uri(serviceURL)\r\n                .retrieve()\r\n                .bodyToFlux(BusinessObject.class)\r\n                .transform(originalFlux -&gt; wrapWithRetry(originalFlux));\r\n\r\n}\r\n\r\nprivate &lt;T&gt; Flux&lt;T&gt; wrapWithRetry(Flux&lt;T&gt; originalFlux) {\r\n    return originalFlux\r\n        .retryWhen(Retry.backoff(3, Duration.of(2, ChronoUnit.SECONDS))\r\n            .doBeforeRetry((value) -&gt; log.info(&quot;Retrying request &quot; + value))\r\n            .filter(error -&gt; error instanceof WebClientRequestException)\r\n            .onRetryExhaustedThrow((retryBackoffSpec, retrySignal) -&gt;\r\n                new RuntimeException(retrySignal.failure().getMessage())));\r\n}\r\n```\r\n\r\nOnly drawback is that if you have `Mono` use cases as well then you need to implement it twice.\r\n\r\nIf that is still too much copy-paste, you can consider defining an `ExchangeFilterFunction` to apply retry for every `WebClient` call automatically. Something like this:\r\n\r\n```java\r\nWebClient.builder()\r\n     // ...\r\n    .filter((request, next) -&gt; next.exchange(request).retry()) // add full retry config here\r\n    .build();\r\n```","title":"Apply retry to each and every endpoint in the spring webflux application","body":"<p>You can use <code>transform</code> operator for this purpose:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Flux&lt;BusinessObject&gt; getBusinessObjects(String serviceURL) {\n        return this.webClient.get()\n                .uri(serviceURL)\n                .retrieve()\n                .bodyToFlux(BusinessObject.class)\n                .transform(originalFlux -&gt; wrapWithRetry(originalFlux));\n\n}\n\nprivate &lt;T&gt; Flux&lt;T&gt; wrapWithRetry(Flux&lt;T&gt; originalFlux) {\n    return originalFlux\n        .retryWhen(Retry.backoff(3, Duration.of(2, ChronoUnit.SECONDS))\n            .doBeforeRetry((value) -&gt; log.info(&quot;Retrying request &quot; + value))\n            .filter(error -&gt; error instanceof WebClientRequestException)\n            .onRetryExhaustedThrow((retryBackoffSpec, retrySignal) -&gt;\n                new RuntimeException(retrySignal.failure().getMessage())));\n}\n</code></pre>\n<p>Only drawback is that if you have <code>Mono</code> use cases as well then you need to implement it twice.</p>\n<p>If that is still too much copy-paste, you can consider defining an <code>ExchangeFilterFunction</code> to apply retry for every <code>WebClient</code> call automatically. Something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>WebClient.builder()\n     // ...\n    .filter((request, next) -&gt; next.exchange(request).retry()) // add full retry config here\n    .build();\n</code></pre>\n"}],"owner":{"account_id":347665,"reputation":4574,"user_id":681929,"accept_rate":58,"display_name":"nobalG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":525,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73547966,"answer_count":1,"score":1,"last_activity_date":1661890396,"creation_date":1661757535,"question_id":73525320,"body_markdown":"I have created below webclient and using it inside of my service to make HTTP third party calls.\r\n\r\n    @Configuration\r\n    public class WebclientConfig {\r\n    \r\n        @Bean\r\n        public WebClient webClient() {\r\n            // custom client connector with connection pool disabled is being used as by default the connection pooling is done and connection reset happens after some idle time.\r\n    \r\n            return WebClient.builder()\r\n                    .clientConnector(new ReactorClientHttpConnector(HttpClient.newConnection()))\r\n                    .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n                    .defaultHeader(HttpHeaders.ACCEPT, MediaType.APPLICATION_JSON_VALUE)\r\n                    .build();\r\n        }\r\n    }\r\n\r\n\r\nand in my service, I am calling the third party service like below.\r\n\r\n    private Flux&lt;BusinessObject&gt; getBusinessObjects(String serviceURL) {\r\n            return this.webClient.get()\r\n                    .uri(serviceURL)\r\n                    .retrieve()\r\n                    .bodyToFlux(BusinessObject.class)    //code below this, do I have to copy for each webclient request to configure the retry, even if the values are same\r\n                    .retryWhen(Retry.backoff(3, Duration.of(2, ChronoUnit.SECONDS))\r\n                    .doBeforeRetry((value) -&gt; log.info(&quot;Retrying request &quot; + value))\r\n                    .filter(error -&gt; error instanceof WebClientRequestException)\r\n                    .onRetryExhaustedThrow((retryBackoffSpec, retrySignal) -&gt;\r\n                            new RuntimeException(retrySignal.failure().getMessage())));\r\n    \r\n        }\r\n\r\nMy question is as in comment in above code.\r\nI have multiple webclient calls, but I want to configure the retry backoff configuration at a single place. How can I do that? so that my code should look like below\r\n\r\n    private Flux&lt;BusinessObject&gt; getBusinessObjects(String serviceURL) {\r\n                return this.webClient.get()\r\n                        .uri(serviceURL)\r\n                        .retrieve()\r\n                        .bodyToFlux(BusinessObject.class)\r\n                        .somCommonRetryCodeWrappingTheRetryLogic();\r\n\r\n                        \r\n        \r\n        }","title":"Apply retry to each and every endpoint in the spring webflux application","body":"<p>I have created below webclient and using it inside of my service to make HTTP third party calls.</p>\n<pre><code>@Configuration\npublic class WebclientConfig {\n\n    @Bean\n    public WebClient webClient() {\n        // custom client connector with connection pool disabled is being used as by default the connection pooling is done and connection reset happens after some idle time.\n\n        return WebClient.builder()\n                .clientConnector(new ReactorClientHttpConnector(HttpClient.newConnection()))\n                .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n                .defaultHeader(HttpHeaders.ACCEPT, MediaType.APPLICATION_JSON_VALUE)\n                .build();\n    }\n}\n</code></pre>\n<p>and in my service, I am calling the third party service like below.</p>\n<pre><code>private Flux&lt;BusinessObject&gt; getBusinessObjects(String serviceURL) {\n        return this.webClient.get()\n                .uri(serviceURL)\n                .retrieve()\n                .bodyToFlux(BusinessObject.class)    //code below this, do I have to copy for each webclient request to configure the retry, even if the values are same\n                .retryWhen(Retry.backoff(3, Duration.of(2, ChronoUnit.SECONDS))\n                .doBeforeRetry((value) -&gt; log.info(&quot;Retrying request &quot; + value))\n                .filter(error -&gt; error instanceof WebClientRequestException)\n                .onRetryExhaustedThrow((retryBackoffSpec, retrySignal) -&gt;\n                        new RuntimeException(retrySignal.failure().getMessage())));\n\n    }\n</code></pre>\n<p>My question is as in comment in above code.\nI have multiple webclient calls, but I want to configure the retry backoff configuration at a single place. How can I do that? so that my code should look like below</p>\n<pre><code>private Flux&lt;BusinessObject&gt; getBusinessObjects(String serviceURL) {\n            return this.webClient.get()\n                    .uri(serviceURL)\n                    .retrieve()\n                    .bodyToFlux(BusinessObject.class)\n                    .somCommonRetryCodeWrappingTheRetryLogic();\n\n                    \n    \n    }\n</code></pre>\n"},{"tags":["java","android","xml","imageview"],"comments":[{"owner":{"account_id":11129418,"reputation":542,"user_id":8169814,"display_name":"Malik Saifullah"},"score":0,"creation_date":1661888062,"post_id":73547557,"comment_id":129877885,"body_markdown":"For more how to set image as a drawable to dynamically \n[This answer should help you out](https://stackoverflow.com/questions/11737607/how-to-set-the-image-from-drawable-dynamically-in-android)","body":"For more how to set image as a drawable to dynamically  <a href=\"https://stackoverflow.com/questions/11737607/how-to-set-the-image-from-drawable-dynamically-in-android\">This answer should help you out</a>"},{"owner":{"account_id":25360601,"reputation":23,"user_id":19175942,"display_name":"Martin Smith"},"score":0,"creation_date":1661889100,"post_id":73547557,"comment_id":129878230,"body_markdown":"@MalikSaifullah Thanks for your reply.\nI have followed what you said.\nJust kept one imageview at xml file\nAnd added this on the java file.\n\n`int imageResource = getResources().getIdentifier(&quot;@drawable/aquaris&quot;, null, getPackageName());\n                Drawable res = getResources().getDrawable(imageResource);\n                image.setImageDrawable(res);`\n\nBut however, the image doesnt show up when i run the app. What am I doing wrong?","body":"@MalikSaifullah Thanks for your reply. I have followed what you said. Just kept one imageview at xml file And added this on the java file.  <code>int imageResource = getResources().getIdentifier(&quot;@drawable&#47;aquaris&quot;, null, getPackageName());                 Drawable res = getResources().getDrawable(imageResource);                 image.setImageDrawable(res);</code>  But however, the image doesnt show up when i run the app. What am I doing wrong?"},{"owner":{"account_id":11129418,"reputation":542,"user_id":8169814,"display_name":"Malik Saifullah"},"score":0,"creation_date":1661889532,"post_id":73547557,"comment_id":129878359,"body_markdown":"My bad my first comment was not tested as hence was wrong. let me write a detailed answer and could please updated your code with what you have tried.","body":"My bad my first comment was not tested as hence was wrong. let me write a detailed answer and could please updated your code with what you have tried."},{"owner":{"account_id":25360601,"reputation":23,"user_id":19175942,"display_name":"Martin Smith"},"score":0,"creation_date":1661889812,"post_id":73547557,"comment_id":129878452,"body_markdown":"@MalikSaifullah Ok, I have updated the code. Please check","body":"@MalikSaifullah Ok, I have updated the code. Please check"},{"owner":{"account_id":25360601,"reputation":23,"user_id":19175942,"display_name":"Martin Smith"},"score":0,"creation_date":1661890362,"post_id":73547557,"comment_id":129878602,"body_markdown":"@MalikSaifullah Also, after adding those 3 lines of code in the java file, the app keeps crashing when i click a date on the calendar.","body":"@MalikSaifullah Also, after adding those 3 lines of code in the java file, the app keeps crashing when i click a date on the calendar."},{"owner":{"account_id":11129418,"reputation":542,"user_id":8169814,"display_name":"Malik Saifullah"},"score":0,"creation_date":1661890417,"post_id":73547557,"comment_id":129878615,"body_markdown":"You missed to set the visibilty of the image to Visible use this :- \n                image.setVisibility(View.VISIBLE);\nTo set the image from the drawable use this :- \n                image.setImageDrawable(AppCompatResources.getDrawable(MainActivity.this,R.drawable.aquaris));\n\nR.drawable.image_name_here (i have added aquaris i assume you have the image with that name in your drawable folder)","body":"You missed to set the visibilty of the image to Visible use this :-                  image.setVisibility(View.VISIBLE); To set the image from the drawable use this :-                  image.setImageDrawable(AppCompatResources.getDrawable(MainAc&zwnj;&#8203;tivity.this,R.drawab&zwnj;&#8203;le.aquaris));  R.drawable.image_name_here (i have added aquaris i assume you have the image with that name in your drawable folder)"},{"owner":{"account_id":25360601,"reputation":23,"user_id":19175942,"display_name":"Martin Smith"},"score":0,"creation_date":1661890892,"post_id":73547557,"comment_id":129878757,"body_markdown":"@MalikSaifullah Ok great, it works now. Thanks a lot for your help! Now I just have to implement this on the if else statements, and I believe I can do it myself. Will let you know. And thanks again, you saved my day!!!","body":"@MalikSaifullah Ok great, it works now. Thanks a lot for your help! Now I just have to implement this on the if else statements, and I believe I can do it myself. Will let you know. And thanks again, you saved my day!!!"}],"owner":{"account_id":25360601,"reputation":23,"user_id":19175942,"display_name":"Martin Smith"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661889794,"creation_date":1661887597,"question_id":73547557,"body_markdown":"I am basically complete noob to android programming, just took 1 week of class and now I have to do a mini project.\r\n\r\nI decided to build an app that can display the Zodiac signs of an user, when they click their DOB on the calendar.\r\n\r\nThe else if statements for displaying the name of each zodiac sign perfectly works. Now, I m just trying to implement a feature where it displays the Zodiac image along with the zodiac name. \r\n\r\nPlease look at the code below. (Sorry if the code looks messy)\r\n\r\n    package com.example.zodiac;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.graphics.drawable.Drawable;\r\n    import android.os.Bundle;\r\n    import android.widget.CalendarView;\r\n    import android.widget.ImageView;\r\n    import android.widget.TextView;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        TextView maintitle;\r\n        TextView subtitle;\r\n        CalendarView calendar;\r\n        TextView zodiactext;\r\n        ImageView image;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            maintitle = (TextView) findViewById(R.id.mainTitle);\r\n            subtitle = (TextView)  findViewById(R.id.subTitle);\r\n            calendar = (CalendarView) findViewById(R.id.calendar);\r\n            zodiactext = (TextView) findViewById(R.id.zodiacText);\r\n            image = (ImageView) findViewById(R.id.image);\r\n    \r\n    \r\n            calendar.setOnDateChangeListener(new CalendarView.OnDateChangeListener() {\r\n                @Override\r\n                public void onSelectedDayChange(@NonNull CalendarView calendarView, int year, int month, int dayOfMonth) {\r\n    \r\n                    int imageResource = getResources().getIdentifier(&quot;@drawable/aquaris&quot;, null, getPackageName());\r\n                    Drawable res = getResources().getDrawable(imageResource);\r\n                    image.setImageDrawable(res);\r\n    \r\n                    String zodiacSign=&quot;&quot;;\r\n                    if(month==0){\r\n                        if (dayOfMonth&lt;20){\r\n                            zodiacSign=&quot;Capricorn&quot;;\r\n                        }else {\r\n                            zodiacSign=&quot;Aquarius&quot;;\r\n                        }\r\n                    }else if(month==1){\r\n                        if (dayOfMonth&lt;19){\r\n                            zodiacSign=&quot;Aquarius&quot;;\r\n                        }else {\r\n                            zodiacSign=&quot;Pisces&quot;;\r\n                        }\r\n                    }else if(month==2){\r\n                        if (dayOfMonth&lt;21){\r\n                            zodiacSign=&quot;Pisces&quot;;\r\n                        }else {\r\n                            zodiacSign=&quot;Aries&quot;;\r\n                        }\r\n                    }else if(month==3){\r\n                        if (dayOfMonth&lt;20){\r\n                            zodiacSign=&quot;Aries&quot;;\r\n                        }else {\r\n                            zodiacSign=&quot;Taurus&quot;;\r\n                        }\r\n                    }else if(month==4){\r\n                        if (dayOfMonth&lt;21){\r\n                            zodiacSign=&quot;Taurus&quot;;\r\n                        }else {\r\n                            zodiacSign=&quot;Gemini&quot;;\r\n                        }\r\n                    }else if(month==5){\r\n                        if (dayOfMonth&lt;22){\r\n                            zodiacSign=&quot;Gemini&quot;;\r\n                        }else {\r\n                            zodiacSign=&quot;Cancer&quot;;\r\n                        }\r\n                    }else if(month==6){\r\n                        if (dayOfMonth&lt;23){\r\n                            zodiacSign=&quot;Cancer&quot;;\r\n                        }else {\r\n                            zodiacSign=&quot;Leo&quot;;\r\n                        }\r\n                    }else if(month==7){\r\n                        if (dayOfMonth&lt;23){\r\n                            zodiacSign=&quot;Leo&quot;;\r\n                        }else {\r\n                            zodiacSign=&quot;Virgo&quot;;\r\n                        }\r\n                    }else if(month==8){\r\n                        if (dayOfMonth&lt;23){\r\n                            zodiacSign=&quot;Virgo&quot;;\r\n                        }else {\r\n                            zodiacSign=&quot;Libra&quot;;\r\n                        }\r\n                    }else if(month==9){\r\n                        if (dayOfMonth&lt;24){\r\n                            zodiacSign=&quot;Libra&quot;;\r\n                        }else {\r\n                            zodiacSign=&quot;Scorpio&quot;;\r\n                        }\r\n                    }else if(month==10){\r\n                        if (dayOfMonth&lt;23){\r\n                            zodiacSign=&quot;Scorpio&quot;;\r\n                        }else {\r\n                            zodiacSign=&quot;Sagittarius&quot;;\r\n                        }\r\n                    }else if(month==11){\r\n                        if (dayOfMonth&lt;22){\r\n                            zodiacSign=&quot;Sagittarius&quot;;\r\n                        }else {\r\n                            zodiacSign=&quot;Capricorn&quot;;\r\n                        }\r\n                    }\r\n                    zodiactext.setText(zodiacSign);\r\n    \r\n                }\r\n            });\r\n    \r\n    \r\n        }\r\n    }\r\n\r\nXML file - \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@drawable/space&quot;\r\n        tools:context=&quot;.MainActivity&quot;\r\n        tools:layout_editor_absoluteX=&quot;0dp&quot;\r\n        tools:layout_editor_absoluteY=&quot;286dp&quot;&gt;\r\n    \r\n        &lt;CalendarView\r\n            android:id=&quot;@+id/calendar&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;28dp&quot;\r\n            android:layout_marginTop=&quot;148dp&quot;\r\n            android:background=&quot;@color/design_default_color_background&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/mainTitle&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;41dp&quot;\r\n            android:text=&quot;Zodiac Finder&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/subTitle&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;41dp&quot;\r\n            android:layout_marginBottom=&quot;40dp&quot;\r\n            android:text=&quot;Pick your date and month to find your Zodiac Symbol&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/calendar&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/zodiacText&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;28dp&quot;\r\n            android:text=&quot;Your Zodiac symbol is - &quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.501&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/calendar&quot; /&gt;\r\n    \r\n        &lt;ImageView\r\n            android:id=&quot;@+id/image&quot;\r\n            android:layout_width=&quot;148dp&quot;\r\n            android:layout_height=&quot;127dp&quot;\r\n            android:visibility=&quot;gone&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.501&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.963&quot;\r\n            android:src=&quot;@drawable/scorpio&quot;\r\n            tools:srcCompat=&quot;@drawable/scorpio&quot; /&gt;\r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nI am completely stuck at this point. Don&#39;t know how to implement these zodiac images along with its names. I am pretty sure I have done lots of mistakes in the ImageView codes, cuz I haven&#39;t learned anything about using them yet.\r\n\r\n[This is how the app works now][1]\r\n\r\nPlease help me with this issue. \r\n\r\n1. All the imageviews I added in the XML file, by default displays on the app, even when there is no function to it in java file. \r\n2. So, I want it to be blank when the app is freshly opened. And when the user clicks a date in the calendar, the app should display that respective zodiac image only, along with the zodiac name (If else conditions).\r\n\r\nApologies if there&#39;s any mistake in my question, and I hope someone would be able to help me out. If anything isn&#39;t clear, please ask me.\r\n\r\nThank you\r\n\r\nEdit: Updated the code with small changes.\r\n\r\n  [1]: https://i.stack.imgur.com/uKf2M.gif","title":"How to display images (ImageView) based on multiple if else statements, in android?","body":"<p>I am basically complete noob to android programming, just took 1 week of class and now I have to do a mini project.</p>\n<p>I decided to build an app that can display the Zodiac signs of an user, when they click their DOB on the calendar.</p>\n<p>The else if statements for displaying the name of each zodiac sign perfectly works. Now, I m just trying to implement a feature where it displays the Zodiac image along with the zodiac name.</p>\n<p>Please look at the code below. (Sorry if the code looks messy)</p>\n<pre><code>package com.example.zodiac;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.graphics.drawable.Drawable;\nimport android.os.Bundle;\nimport android.widget.CalendarView;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\npublic class MainActivity extends AppCompatActivity {\n\n    TextView maintitle;\n    TextView subtitle;\n    CalendarView calendar;\n    TextView zodiactext;\n    ImageView image;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        maintitle = (TextView) findViewById(R.id.mainTitle);\n        subtitle = (TextView)  findViewById(R.id.subTitle);\n        calendar = (CalendarView) findViewById(R.id.calendar);\n        zodiactext = (TextView) findViewById(R.id.zodiacText);\n        image = (ImageView) findViewById(R.id.image);\n\n\n        calendar.setOnDateChangeListener(new CalendarView.OnDateChangeListener() {\n            @Override\n            public void onSelectedDayChange(@NonNull CalendarView calendarView, int year, int month, int dayOfMonth) {\n\n                int imageResource = getResources().getIdentifier(&quot;@drawable/aquaris&quot;, null, getPackageName());\n                Drawable res = getResources().getDrawable(imageResource);\n                image.setImageDrawable(res);\n\n                String zodiacSign=&quot;&quot;;\n                if(month==0){\n                    if (dayOfMonth&lt;20){\n                        zodiacSign=&quot;Capricorn&quot;;\n                    }else {\n                        zodiacSign=&quot;Aquarius&quot;;\n                    }\n                }else if(month==1){\n                    if (dayOfMonth&lt;19){\n                        zodiacSign=&quot;Aquarius&quot;;\n                    }else {\n                        zodiacSign=&quot;Pisces&quot;;\n                    }\n                }else if(month==2){\n                    if (dayOfMonth&lt;21){\n                        zodiacSign=&quot;Pisces&quot;;\n                    }else {\n                        zodiacSign=&quot;Aries&quot;;\n                    }\n                }else if(month==3){\n                    if (dayOfMonth&lt;20){\n                        zodiacSign=&quot;Aries&quot;;\n                    }else {\n                        zodiacSign=&quot;Taurus&quot;;\n                    }\n                }else if(month==4){\n                    if (dayOfMonth&lt;21){\n                        zodiacSign=&quot;Taurus&quot;;\n                    }else {\n                        zodiacSign=&quot;Gemini&quot;;\n                    }\n                }else if(month==5){\n                    if (dayOfMonth&lt;22){\n                        zodiacSign=&quot;Gemini&quot;;\n                    }else {\n                        zodiacSign=&quot;Cancer&quot;;\n                    }\n                }else if(month==6){\n                    if (dayOfMonth&lt;23){\n                        zodiacSign=&quot;Cancer&quot;;\n                    }else {\n                        zodiacSign=&quot;Leo&quot;;\n                    }\n                }else if(month==7){\n                    if (dayOfMonth&lt;23){\n                        zodiacSign=&quot;Leo&quot;;\n                    }else {\n                        zodiacSign=&quot;Virgo&quot;;\n                    }\n                }else if(month==8){\n                    if (dayOfMonth&lt;23){\n                        zodiacSign=&quot;Virgo&quot;;\n                    }else {\n                        zodiacSign=&quot;Libra&quot;;\n                    }\n                }else if(month==9){\n                    if (dayOfMonth&lt;24){\n                        zodiacSign=&quot;Libra&quot;;\n                    }else {\n                        zodiacSign=&quot;Scorpio&quot;;\n                    }\n                }else if(month==10){\n                    if (dayOfMonth&lt;23){\n                        zodiacSign=&quot;Scorpio&quot;;\n                    }else {\n                        zodiacSign=&quot;Sagittarius&quot;;\n                    }\n                }else if(month==11){\n                    if (dayOfMonth&lt;22){\n                        zodiacSign=&quot;Sagittarius&quot;;\n                    }else {\n                        zodiacSign=&quot;Capricorn&quot;;\n                    }\n                }\n                zodiactext.setText(zodiacSign);\n\n            }\n        });\n\n\n    }\n}\n</code></pre>\n<p>XML file -</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@drawable/space&quot;\n    tools:context=&quot;.MainActivity&quot;\n    tools:layout_editor_absoluteX=&quot;0dp&quot;\n    tools:layout_editor_absoluteY=&quot;286dp&quot;&gt;\n\n    &lt;CalendarView\n        android:id=&quot;@+id/calendar&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;28dp&quot;\n        android:layout_marginTop=&quot;148dp&quot;\n        android:background=&quot;@color/design_default_color_background&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/mainTitle&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;41dp&quot;\n        android:text=&quot;Zodiac Finder&quot;\n        android:textStyle=&quot;bold&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/subTitle&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;41dp&quot;\n        android:layout_marginBottom=&quot;40dp&quot;\n        android:text=&quot;Pick your date and month to find your Zodiac Symbol&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/calendar&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/zodiacText&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;28dp&quot;\n        android:text=&quot;Your Zodiac symbol is - &quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.501&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/calendar&quot; /&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/image&quot;\n        android:layout_width=&quot;148dp&quot;\n        android:layout_height=&quot;127dp&quot;\n        android:visibility=&quot;gone&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.501&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.963&quot;\n        android:src=&quot;@drawable/scorpio&quot;\n        tools:srcCompat=&quot;@drawable/scorpio&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>I am completely stuck at this point. Don't know how to implement these zodiac images along with its names. I am pretty sure I have done lots of mistakes in the ImageView codes, cuz I haven't learned anything about using them yet.</p>\n<p><a href=\"https://i.stack.imgur.com/uKf2M.gif\" rel=\"nofollow noreferrer\">This is how the app works now</a></p>\n<p>Please help me with this issue.</p>\n<ol>\n<li>All the imageviews I added in the XML file, by default displays on the app, even when there is no function to it in java file.</li>\n<li>So, I want it to be blank when the app is freshly opened. And when the user clicks a date in the calendar, the app should display that respective zodiac image only, along with the zodiac name (If else conditions).</li>\n</ol>\n<p>Apologies if there's any mistake in my question, and I hope someone would be able to help me out. If anything isn't clear, please ask me.</p>\n<p>Thank you</p>\n<p>Edit: Updated the code with small changes.</p>\n"},{"tags":["java","jackson"],"answers":[{"tags":[],"owner":{"account_id":365547,"reputation":4033,"user_id":710530,"accept_rate":67,"display_name":"DavidA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661889563,"creation_date":1661889563,"answer_id":73547848,"question_id":73547793,"body_markdown":"Try the @JsonUnwrapped annotation:\r\n\r\n    class MyBean {\r\n      @JsonUnwrapped\r\n      private Map&lt;String,String&gt; map;\r\n      public MyBean(String key, String value) {\r\n         map = Collections.singletonMap(key, value);\r\n      }\r\n    }","title":"ObjectMapper to Serialize as a map","body":"<p>Try the @JsonUnwrapped annotation:</p>\n<pre><code>class MyBean {\n  @JsonUnwrapped\n  private Map&lt;String,String&gt; map;\n  public MyBean(String key, String value) {\n     map = Collections.singletonMap(key, value);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661889563,"creation_date":1661889146,"question_id":73547793,"body_markdown":"I have a bean that internally uses a map\r\n\r\n    class MyBean { \r\n        private Map&lt;String,String&gt; map;\r\n        public MyBean(String key, String value) {\r\n           map = Collections.singletonMap(key, value);\r\n        }\r\n    }\r\n\r\n\r\n\r\nI want to serialize it so it uses the underlaying map as its representation\r\n `{&quot;akey&quot;:&quot;avalue&quot;}`\r\n\r\n    ...\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapperWriteValueAsString(new MyBean(&quot;akey&quot;, &quot;avalue&quot;));\r\n\r\n\r\nbut the default serialization returns the map attribute \r\n\r\n    {&quot;map&quot;:{&quot;akey&quot;:&quot;avalue&quot;}}\r\n\r\nI managed to create a custom serializer that uses the map attribute. Is this the only way to achieve it? \r\n\r\n\r\n    private static class MyBeanSerializer extends StdSerializer&lt;MyBean&gt; {\r\n\r\n        public MyBeanSerializer() {\r\n            this(null);\r\n        }\r\n\r\n        public MyBeanSerializer(Class&lt;MyBean&gt; t) {\r\n            super(t);\r\n        }\r\n\r\n        @Override\r\n        public void serialize(MyBean value, JsonGenerator jgen, SerializerProvider provider) throws IOException {\r\n            jgen.writeObject(value.map);\r\n        }\r\n    }\r\n","title":"ObjectMapper to Serialize as a map","body":"<p>I have a bean that internally uses a map</p>\n<pre><code>class MyBean { \n    private Map&lt;String,String&gt; map;\n    public MyBean(String key, String value) {\n       map = Collections.singletonMap(key, value);\n    }\n}\n</code></pre>\n<p>I want to serialize it so it uses the underlaying map as its representation\n<code>{&quot;akey&quot;:&quot;avalue&quot;}</code></p>\n<pre><code>...\nObjectMapper mapper = new ObjectMapper();\nmapperWriteValueAsString(new MyBean(&quot;akey&quot;, &quot;avalue&quot;));\n</code></pre>\n<p>but the default serialization returns the map attribute</p>\n<pre><code>{&quot;map&quot;:{&quot;akey&quot;:&quot;avalue&quot;}}\n</code></pre>\n<p>I managed to create a custom serializer that uses the map attribute. Is this the only way to achieve it?</p>\n<pre><code>private static class MyBeanSerializer extends StdSerializer&lt;MyBean&gt; {\n\n    public MyBeanSerializer() {\n        this(null);\n    }\n\n    public MyBeanSerializer(Class&lt;MyBean&gt; t) {\n        super(t);\n    }\n\n    @Override\n    public void serialize(MyBean value, JsonGenerator jgen, SerializerProvider provider) throws IOException {\n        jgen.writeObject(value.map);\n    }\n}\n</code></pre>\n"},{"tags":["java","redis","redisson"],"answers":[{"tags":[],"owner":{"account_id":1257758,"reputation":1666,"user_id":1216859,"accept_rate":71,"display_name":"Saeid Nourian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661889418,"creation_date":1661889418,"answer_id":73547829,"question_id":73532931,"body_markdown":"Found the cause. It was due to a bug in older version of redission.\r\nIt was fixed in redission v3.16.5 with this comment:\r\n\r\n    Fixed - RLocalCachedMap.delete() method clears local cache asynchronously\r\n\r\nFixed code:\r\n\r\nhttps://github.com/redisson/redisson/commit/42f27d89bc5096fce7fb4483121b0d5f5d49123f","title":"RedissonLocalCachedMap.clear() has a small delay","body":"<p>Found the cause. It was due to a bug in older version of redission.\nIt was fixed in redission v3.16.5 with this comment:</p>\n<pre><code>Fixed - RLocalCachedMap.delete() method clears local cache asynchronously\n</code></pre>\n<p>Fixed code:</p>\n<p><a href=\"https://github.com/redisson/redisson/commit/42f27d89bc5096fce7fb4483121b0d5f5d49123f\" rel=\"nofollow noreferrer\">https://github.com/redisson/redisson/commit/42f27d89bc5096fce7fb4483121b0d5f5d49123f</a></p>\n"}],"owner":{"account_id":1257758,"reputation":1666,"user_id":1216859,"accept_rate":71,"display_name":"Saeid Nourian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661889418,"creation_date":1661796241,"question_id":73532931,"body_markdown":"I noticed that when my code calls `RedissonLocalCachedMap.clear()` and then immediately reads from it, it doesn&#39;t always get a cleared cache. It appears that there is a small delay between calling `clear()` and the cache actually getting cleared. Is that correct? If so, is there a sync method I can call that doesn&#39;t return until it gets cleared.\r\n","title":"RedissonLocalCachedMap.clear() has a small delay","body":"<p>I noticed that when my code calls <code>RedissonLocalCachedMap.clear()</code> and then immediately reads from it, it doesn't always get a cleared cache. It appears that there is a small delay between calling <code>clear()</code> and the cache actually getting cleared. Is that correct? If so, is there a sync method I can call that doesn't return until it gets cleared.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":26377,"reputation":352187,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":0,"creation_date":1661593050,"post_id":73509840,"comment_id":129812224,"body_markdown":"What is the adjacentElementsProduct problem? We don&#39;t know what that is.","body":"What is the adjacentElementsProduct problem? We don&#39;t know what that is."},{"owner":{"account_id":26172427,"reputation":51,"user_id":19857166,"display_name":"basil vj"},"score":0,"creation_date":1662273011,"post_id":73509840,"comment_id":129964850,"body_markdown":"it means find the largest pair in a array eg:- 7*3 =21 like that","body":"it means find the largest pair in a array eg:- 7*3 =21 like that"}],"answers":[{"tags":[],"owner":{"account_id":6496686,"reputation":578,"user_id":5029081,"display_name":"Haroldo Macedo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661889403,"creation_date":1661755373,"answer_id":73524992,"question_id":73509840,"body_markdown":"Have you tried to define your b[] as “b[inputArray.length]” instead of “b[5]”?\r\n\r\nIf the “inputArray” is larger than 5 your code will break.\r\n\r\nDo this:\r\n\r\n    static int solution(int[] inputArray) {\r\n\r\n      int[] b = new int[inputArray.length];\r\n    ...\r\n\r\n","title":"adjacentElementsProduct probleam in CodeSignal - java","body":"<p>Have you tried to define your b[] as “b[inputArray.length]” instead of “b[5]”?</p>\n<p>If the “inputArray” is larger than 5 your code will break.</p>\n<p>Do this:</p>\n<pre><code>static int solution(int[] inputArray) {\n\n  int[] b = new int[inputArray.length];\n...\n</code></pre>\n"}],"owner":{"account_id":26172427,"reputation":51,"user_id":19857166,"display_name":"basil vj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1661889403,"creation_date":1661592948,"question_id":73509840,"body_markdown":"\r\n   I  tried to solve the **adjacentElementsProduct** problem in codesignal and it shows an error **Execution error on test 1: Your program had a runtime error**.\r\n But i did the exact code in my eclipse ide it worked i know a small code compared to the one i mentioned below for this problem  but i want to know whats wrong in my code .\r\n\r\n**my code;**\r\n\r\n    int solution(int[] inputArray) {\r\n    \r\n      int[] b = new int [5];e\r\n    \r\n      int max=0;\r\n      \r\n      for(int i = 0;i&lt;inputArray.length-1;i++) {\r\n    \t  b[i] = inputArray[i]*inputArray[i+1];\r\n      }\r\n      for(int i=0;i&lt;b.length;i++) {\r\n    \t  \r\n    \t  if(b[i]&gt;max) {\r\n    \t\t  max = b[i];      \r\n    \t  }    \t  \r\n      }\r\n    return max;\r\n    }","title":"adjacentElementsProduct probleam in CodeSignal - java","body":"<p>I  tried to solve the <strong>adjacentElementsProduct</strong> problem in codesignal and it shows an error <strong>Execution error on test 1: Your program had a runtime error</strong>.\nBut i did the exact code in my eclipse ide it worked i know a small code compared to the one i mentioned below for this problem  but i want to know whats wrong in my code .</p>\n<p><strong>my code;</strong></p>\n<pre><code>int solution(int[] inputArray) {\n\n  int[] b = new int [5];e\n\n  int max=0;\n  \n  for(int i = 0;i&lt;inputArray.length-1;i++) {\n      b[i] = inputArray[i]*inputArray[i+1];\n  }\n  for(int i=0;i&lt;b.length;i++) {\n      \n      if(b[i]&gt;max) {\n          max = b[i];      \n      }       \n  }\nreturn max;\n}\n</code></pre>\n"},{"tags":["java","spring","keycloak"],"answers":[{"tags":[],"owner":{"account_id":23190055,"reputation":1,"user_id":17286543,"display_name":"Ismail Harik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661883056,"creation_date":1661883056,"answer_id":73546835,"question_id":70868363,"body_markdown":"You should disable csrf on your configure method :\r\n\r\n     public void configure(HttpSecurity http) throws Exception {\r\n        super.configure(http);\r\n        http.csrf().disable().authorizeRequests().anyRequest().authenticated();\r\n    }\r\n}","title":"Adding Spring Boot Keycloak configuration of HTTP requests","body":"<p>You should disable csrf on your configure method :</p>\n<pre><code> public void configure(HttpSecurity http) throws Exception {\n    super.configure(http);\n    http.csrf().disable().authorizeRequests().anyRequest().authenticated();\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661889302,"creation_date":1661887961,"answer_id":73547616,"question_id":70868363,"body_markdown":"You should not use `KeycloakWebSecurityConfigurerAdapter` nor anything else from Keycloak libs for Spring, [it is deprecated][1].\r\n\r\nInstead, you can follow [this tutorial][2] which proposes two solutions based on:\r\n- `spring-boot-starter-oauth2-resource-server` which requires [quite some Java conf][3]\r\n- `spring-addons-webmvc-jwt-resource-server` which enables to [configure most of security from properties][4] (way simpler than preceding)\r\n\r\nAll tutorials linked here show how to map Keycloak roles to spring-security authorities (and will keep CSRF protection enabled, even for stateless resource-servers).\r\n\r\n\r\n  [1]: https://github.com/keycloak/keycloak/discussions/10187\r\n  [2]: https://dzone.com/articles/spring-oauth2-resource-servers\r\n  [3]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_jwtauthenticationtoken\r\n  [4]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_oauthentication","title":"Adding Spring Boot Keycloak configuration of HTTP requests","body":"<p>You should not use <code>KeycloakWebSecurityConfigurerAdapter</code> nor anything else from Keycloak libs for Spring, <a href=\"https://github.com/keycloak/keycloak/discussions/10187\" rel=\"nofollow noreferrer\">it is deprecated</a>.</p>\n<p>Instead, you can follow <a href=\"https://dzone.com/articles/spring-oauth2-resource-servers\" rel=\"nofollow noreferrer\">this tutorial</a> which proposes two solutions based on:</p>\n<ul>\n<li><code>spring-boot-starter-oauth2-resource-server</code> which requires <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_jwtauthenticationtoken\" rel=\"nofollow noreferrer\">quite some Java conf</a></li>\n<li><code>spring-addons-webmvc-jwt-resource-server</code> which enables to <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_oauthentication\" rel=\"nofollow noreferrer\">configure most of security from properties</a> (way simpler than preceding)</li>\n</ul>\n<p>All tutorials linked here show how to map Keycloak roles to spring-security authorities (and will keep CSRF protection enabled, even for stateless resource-servers).</p>\n"}],"owner":{"account_id":20120943,"reputation":65,"user_id":14755460,"display_name":"mj01100011"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1661889302,"creation_date":1643220953,"question_id":70868363,"body_markdown":"Currently in my **SecurityConfig.java** class file where I define my **KeycloakWebSecurityConfigurerAdapter** I want to define so that every GET request can be done by two different roles. But only one role can do the other types of HTTP requests (POST, PUT, PATCH etc). How can this be achieved in my code below:\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        super.configure(http);\r\n        http.authorizeRequests()\r\n            .antMatchers(HttpMethod.GET).hasAnyRole(&quot;user&quot;, &quot;admin&quot;)\r\n            .anyRequest().hasRole(&quot;admin&quot;);\r\n    }\r\n\r\nWhat happens is that when trying to do POST request I get access denied 403. GET requests works fine. Any ideas?","title":"Adding Spring Boot Keycloak configuration of HTTP requests","body":"<p>Currently in my <strong>SecurityConfig.java</strong> class file where I define my <strong>KeycloakWebSecurityConfigurerAdapter</strong> I want to define so that every GET request can be done by two different roles. But only one role can do the other types of HTTP requests (POST, PUT, PATCH etc). How can this be achieved in my code below:</p>\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    super.configure(http);\n    http.authorizeRequests()\n        .antMatchers(HttpMethod.GET).hasAnyRole(&quot;user&quot;, &quot;admin&quot;)\n        .anyRequest().hasRole(&quot;admin&quot;);\n}\n</code></pre>\n<p>What happens is that when trying to do POST request I get access denied 403. GET requests works fine. Any ideas?</p>\n"},{"tags":["java","spring-boot","openssl","netty","amazon-cloudhsm"],"comments":[{"owner":{"account_id":1075943,"reputation":23262,"user_id":1074097,"display_name":"Norman Maurer"},"score":0,"creation_date":1630914792,"post_id":69034513,"comment_id":122075115,"body_markdown":"can you try the latest netty-tcnative release ? That said I doubt it will help. Can you load the engine via cmdline ?","body":"can you try the latest netty-tcnative release ? That said I doubt it will help. Can you load the engine via cmdline ?"},{"owner":{"account_id":2218,"reputation":16624,"user_id":3050,"accept_rate":95,"display_name":"Paul Whelan"},"score":0,"creation_date":1630919701,"post_id":69034513,"comment_id":122077074,"body_markdown":"Thanks @Norman - Its the same with the latest netty-tcnative release. I can load the engine from the command line.","body":"Thanks @Norman - Its the same with the latest netty-tcnative release. I can load the engine from the command line."},{"owner":{"account_id":1075943,"reputation":23262,"user_id":1074097,"display_name":"Norman Maurer"},"score":0,"creation_date":1630931420,"post_id":69034513,"comment_id":122081368,"body_markdown":"Please open an issue and attach the engine in question.","body":"Please open an issue and attach the engine in question."},{"owner":{"account_id":2218,"reputation":16624,"user_id":3050,"accept_rate":95,"display_name":"Paul Whelan"},"score":0,"creation_date":1630945402,"post_id":69034513,"comment_id":122086995,"body_markdown":"Thanks Norman - https://github.com/netty/netty-tcnative/issues/659","body":"Thanks Norman - <a href=\"https://github.com/netty/netty-tcnative/issues/659\" rel=\"nofollow noreferrer\">github.com/netty/netty-tcnative/issues/659</a>"}],"owner":{"account_id":2218,"reputation":16624,"user_id":3050,"accept_rate":95,"display_name":"Paul Whelan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1836,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661888040,"creation_date":1630602388,"question_id":69034513,"body_markdown":"**Question 1)** How do I get netty-tcnative working with an openssl engine that is not the default one? In my case I am trying the cloudhsm engine. Has anyone any experience of loading this engine or indeed any other engine in a similar fashion. I documented the issues I am running into below.\r\n\r\n**Question 2)** Should the openssl version reported by netty-tcnative on initialisation in the logs match the native openssl install version? I would expect it to however its not in my case. Perhaps this is relevant I am not sure.\r\n\r\n\r\n*More Detail*\r\nI have a docker container that can access an AWS cloudHSM. I can use openssl and cloudhsm in the container using openssl on the command line. \r\n\r\n    [root@1f094ffd14e4 ob-shell]# openssl engine\r\n    (rdrand) Intel RDRAND engine\r\n    (dynamic) Dynamic engine loading support\r\n\r\n    [root@1f094ffd14e4 ob-shell]# openssl engine cloudhsm\r\n    (cloudhsm) CloudHSM hardware engine support\r\n\r\nEverything works as I would expect it to. The native openssl version is *1.0.2k-fips*\r\n\r\n    [root@1f094ffd14e4 ob-shell]# openssl version\r\n    OpenSSL 1.0.2k-fips  26 Jan 2017\r\n\r\nI require a Java Application using netty-tcnative to access the HSM using openssl. I can&#39;t use the JCE approach due to it not working on a JDK &gt; JDK8. AWS do not support JDK11/JDK17. \r\n\r\nI am using the dynamically linked version of netty-tcnative.\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;netty-tcnative&lt;/artifactId&gt;\r\n            &lt;classifier&gt;linux-x86_64-fedora&lt;/classifier&gt;\r\n            &lt;version&gt;2.0.38.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nThis works well and I can see the details of the netty openssl configuration when using the default engine. \r\n\r\n&gt; 2021-09-02 13:07:45.905 DEBUG 7 --- [           main]\r\n&gt; io.netty.handler.ssl.OpenSsl             : Initialize netty-tcnative\r\n&gt; using engine: &#39;default&#39; 2021-09-02 13:07:45.906 DEBUG 7 --- [         \r\n&gt; main] io.netty.handler.ssl.OpenSsl             : netty-tcnative using\r\n&gt; native library: OpenSSL 1.0.1e-fips 11 Feb 2013\r\n\r\nHowever to use the HSM I need to use the cloudhsm engine. This is where the trouble starts. When I try to enable the cloudhsm engine with the following system Property **-Dio.netty.handler.ssl.openssl.engine=cloudhsm** I get problems. The cloudhsm engine does not load at all. \r\n\r\n&gt; 2021-09-02 17:19:49.433 DEBUG 7 --- [           main]\r\n&gt; i.n.util.internal.NativeLibraryLoader    : Successfully loaded the\r\n&gt; library /tmp/libnetty_tcnative_linux_x86_64569349996051888224.so\r\n&gt; 2021-09-02 17:19:49.434 DEBUG 7 --- [           main]\r\n&gt; io.netty.handler.ssl.OpenSsl             : Initialize netty-tcnative\r\n&gt; using engine: &#39;cloudhsm&#39; Error in reading the  non-fips digest methods\r\n&gt; from the library.Error caching the software digest. Dynamic Engine:\r\n&gt; cloudhsm load failed 2021-09-02 17:19:49.437 DEBUG 7 --- [          \r\n&gt; main] io.netty.handler.ssl.OpenSsl             : Failed to initialize\r\n&gt; netty-tcnative; OpenSslEngine will be unavailable. See\r\n&gt; https://netty.io/wiki/forked-tomcat-native.html for more information.\r\n&gt; \r\n&gt; java.lang.Exception: This function has not been implemented on this\r\n&gt; platform\r\n&gt;         at io.netty.internal.tcnative.SSL.initialize(Native Method) ~[netty-tcnative-2.0.38.Final-linux-x86_64-fedora.jar:na]\r\n&gt;         at io.netty.internal.tcnative.Library.initialize(Library.java:158)\r\n&gt; ~[netty-tcnative-2.0.38.Final-linux-x86_64-fedora.jar:na]\r\n&gt;         at io.netty.handler.ssl.OpenSsl.initializeTcNative(OpenSsl.java:597)\r\n&gt; ~[netty-handler-4.1.63.Final.jar:4.1.63.Final]\r\n&gt;         at io.netty.handler.ssl.OpenSsl.&lt;clinit&gt;(OpenSsl.java:153) ~[netty-handler-4.1.63.Final.jar:4.1.63.Final]\r\n&gt;         at io.netty.handler.ssl.ReferenceCountedOpenSslContext.&lt;init&gt;(ReferenceCountedOpenSslContext.java:207)\r\n&gt; ~[netty-handler-4.1.63.Final.jar:4.1.63.Final]\r\n&gt;         at io.netty.handler.ssl.OpenSslContext.&lt;init&gt;(OpenSslContext.java:36)\r\n&gt; ~[netty-handler-4.1.63.Final.jar:4.1.63.Final]\r\n&gt;         at io.netty.handler.ssl.OpenSslClientContext.&lt;init&gt;(OpenSslClientContext.java:191)\r\n&gt; ~[netty-handler-4.1.63.Final.jar:4.1.63.Final]\r\n&gt;         at io.netty.handler.ssl.SslContext.newClientContextInternal(SslContext.java:830)\r\n&gt; ~[netty-handler-4.1.63.Final.jar:4.1.63.Final]\r\n&gt;         at io.netty.handler.ssl.SslContextBuilder.build(SslContextBuilder.java:614)\r\n&gt; ~[netty-handler-4.1.63.Final.jar:4.1.63.Final]\r\n&gt;         at com.me.commands.NettyCommands.experiment(NettyCommands.java:44)\r\n&gt; ~[classes/:1.0-SNAPSHOT]\r\n&gt;         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\r\n&gt; Method) ~[na:na]\r\n&gt;         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt; ~[na:na]\r\n&gt;         at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; ~[na:na]\r\n&gt;         at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n&gt;         at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)\r\n&gt; ~[spring-core-5.3.6.jar:5.3.6]\r\n&gt;         at org.springframework.shell.Shell.evaluate(Shell.java:169) ~[spring-shell-core-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n&gt;         at org.springframework.shell.Shell.run(Shell.java:134) ~[spring-shell-core-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n&gt;         at org.springframework.shell.jline.InteractiveShellApplicationRunner.run(InteractiveShellApplicationRunner.java:84)\r\n&gt; ~[spring-shell-core-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n&gt;         at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:810)\r\n&gt; ~[spring-boot-2.4.5.jar:2.4.5]\r\n&gt;         at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:800)\r\n&gt; ~[spring-boot-2.4.5.jar:2.4.5]\r\n&gt;         at org.springframework.boot.SpringApplication.run(SpringApplication.java:346)\r\n&gt; ~[spring-boot-2.4.5.jar:2.4.5]\r\n&gt;         at org.springframework.boot.SpringApplication.run(SpringApplication.java:1340)\r\n&gt; ~[spring-boot-2.4.5.jar:2.4.5]\r\n&gt;         at org.springframework.boot.SpringApplication.run(SpringApplication.java:1329)\r\n&gt; ~[spring-boot-2.4.5.jar:2.4.5]\r\n&gt;         at com.me.Application.main(Application.java:41)\r\n&gt; ~[classes/:1.0-SNAPSHOT]\r\n&gt;         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\r\n&gt; Method) ~[na:na]\r\n&gt;         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt; ~[na:na]\r\n&gt;         at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; ~[na:na]\r\n&gt;         at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n&gt;         at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n&gt; ~[ob-shell/:na]\r\n&gt;         at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\r\n&gt; ~[ob-shell/:na]\r\n&gt;         at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n&gt; ~[ob-shell/:na]\r\n&gt;         at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88)\r\n&gt; ~[ob-shell/:na]\r\n\r\nAny ideas?","title":"Using the non default openssl engine with netty-tcnative","body":"<p><strong>Question 1)</strong> How do I get netty-tcnative working with an openssl engine that is not the default one? In my case I am trying the cloudhsm engine. Has anyone any experience of loading this engine or indeed any other engine in a similar fashion. I documented the issues I am running into below.</p>\n<p><strong>Question 2)</strong> Should the openssl version reported by netty-tcnative on initialisation in the logs match the native openssl install version? I would expect it to however its not in my case. Perhaps this is relevant I am not sure.</p>\n<p><em>More Detail</em>\nI have a docker container that can access an AWS cloudHSM. I can use openssl and cloudhsm in the container using openssl on the command line.</p>\n<pre><code>[root@1f094ffd14e4 ob-shell]# openssl engine\n(rdrand) Intel RDRAND engine\n(dynamic) Dynamic engine loading support\n\n[root@1f094ffd14e4 ob-shell]# openssl engine cloudhsm\n(cloudhsm) CloudHSM hardware engine support\n</code></pre>\n<p>Everything works as I would expect it to. The native openssl version is <em>1.0.2k-fips</em></p>\n<pre><code>[root@1f094ffd14e4 ob-shell]# openssl version\nOpenSSL 1.0.2k-fips  26 Jan 2017\n</code></pre>\n<p>I require a Java Application using netty-tcnative to access the HSM using openssl. I can't use the JCE approach due to it not working on a JDK &gt; JDK8. AWS do not support JDK11/JDK17.</p>\n<p>I am using the dynamically linked version of netty-tcnative.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.netty&lt;/groupId&gt;\n        &lt;artifactId&gt;netty-tcnative&lt;/artifactId&gt;\n        &lt;classifier&gt;linux-x86_64-fedora&lt;/classifier&gt;\n        &lt;version&gt;2.0.38.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>This works well and I can see the details of the netty openssl configuration when using the default engine.</p>\n<blockquote>\n<p>2021-09-02 13:07:45.905 DEBUG 7 --- [           main]\nio.netty.handler.ssl.OpenSsl             : Initialize netty-tcnative\nusing engine: 'default' 2021-09-02 13:07:45.906 DEBUG 7 --- [<br />\nmain] io.netty.handler.ssl.OpenSsl             : netty-tcnative using\nnative library: OpenSSL 1.0.1e-fips 11 Feb 2013</p>\n</blockquote>\n<p>However to use the HSM I need to use the cloudhsm engine. This is where the trouble starts. When I try to enable the cloudhsm engine with the following system Property <strong>-Dio.netty.handler.ssl.openssl.engine=cloudhsm</strong> I get problems. The cloudhsm engine does not load at all.</p>\n<blockquote>\n<p>2021-09-02 17:19:49.433 DEBUG 7 --- [           main]\ni.n.util.internal.NativeLibraryLoader    : Successfully loaded the\nlibrary /tmp/libnetty_tcnative_linux_x86_64569349996051888224.so\n2021-09-02 17:19:49.434 DEBUG 7 --- [           main]\nio.netty.handler.ssl.OpenSsl             : Initialize netty-tcnative\nusing engine: 'cloudhsm' Error in reading the  non-fips digest methods\nfrom the library.Error caching the software digest. Dynamic Engine:\ncloudhsm load failed 2021-09-02 17:19:49.437 DEBUG 7 --- [<br />\nmain] io.netty.handler.ssl.OpenSsl             : Failed to initialize\nnetty-tcnative; OpenSslEngine will be unavailable. See\n<a href=\"https://netty.io/wiki/forked-tomcat-native.html\" rel=\"nofollow noreferrer\">https://netty.io/wiki/forked-tomcat-native.html</a> for more information.</p>\n<p>java.lang.Exception: This function has not been implemented on this\nplatform\nat io.netty.internal.tcnative.SSL.initialize(Native Method) ~[netty-tcnative-2.0.38.Final-linux-x86_64-fedora.jar:na]\nat io.netty.internal.tcnative.Library.initialize(Library.java:158)\n~[netty-tcnative-2.0.38.Final-linux-x86_64-fedora.jar:na]\nat io.netty.handler.ssl.OpenSsl.initializeTcNative(OpenSsl.java:597)\n~[netty-handler-4.1.63.Final.jar:4.1.63.Final]\nat io.netty.handler.ssl.OpenSsl.(OpenSsl.java:153) ~[netty-handler-4.1.63.Final.jar:4.1.63.Final]\nat io.netty.handler.ssl.ReferenceCountedOpenSslContext.(ReferenceCountedOpenSslContext.java:207)\n~[netty-handler-4.1.63.Final.jar:4.1.63.Final]\nat io.netty.handler.ssl.OpenSslContext.(OpenSslContext.java:36)\n~[netty-handler-4.1.63.Final.jar:4.1.63.Final]\nat io.netty.handler.ssl.OpenSslClientContext.(OpenSslClientContext.java:191)\n~[netty-handler-4.1.63.Final.jar:4.1.63.Final]\nat io.netty.handler.ssl.SslContext.newClientContextInternal(SslContext.java:830)\n~[netty-handler-4.1.63.Final.jar:4.1.63.Final]\nat io.netty.handler.ssl.SslContextBuilder.build(SslContextBuilder.java:614)\n~[netty-handler-4.1.63.Final.jar:4.1.63.Final]\nat com.me.commands.NettyCommands.experiment(NettyCommands.java:44)\n~[classes/:1.0-SNAPSHOT]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\nMethod) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n~[na:na]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\nat org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)\n~[spring-core-5.3.6.jar:5.3.6]\nat org.springframework.shell.Shell.evaluate(Shell.java:169) ~[spring-shell-core-2.0.0.RELEASE.jar:2.0.0.RELEASE]\nat org.springframework.shell.Shell.run(Shell.java:134) ~[spring-shell-core-2.0.0.RELEASE.jar:2.0.0.RELEASE]\nat org.springframework.shell.jline.InteractiveShellApplicationRunner.run(InteractiveShellApplicationRunner.java:84)\n~[spring-shell-core-2.0.0.RELEASE.jar:2.0.0.RELEASE]\nat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:810)\n~[spring-boot-2.4.5.jar:2.4.5]\nat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:800)\n~[spring-boot-2.4.5.jar:2.4.5]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:346)\n~[spring-boot-2.4.5.jar:2.4.5]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1340)\n~[spring-boot-2.4.5.jar:2.4.5]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1329)\n~[spring-boot-2.4.5.jar:2.4.5]\nat com.me.Application.main(Application.java:41)\n~[classes/:1.0-SNAPSHOT]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\nMethod) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n~[na:na]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\nat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n~[ob-shell/:na]\nat org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\n~[ob-shell/:na]\nat org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n~[ob-shell/:na]\nat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88)\n~[ob-shell/:na]</p>\n</blockquote>\n<p>Any ideas?</p>\n"},{"tags":["java","spring","spring-batch"],"comments":[{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1661849382,"post_id":73539301,"comment_id":129863181,"body_markdown":"Maybe [this](https://github.com/fmbenhassine/spring-batch-lab/tree/main/issues/so53366710) can help. He is merging more than one file, but maybe you can reuse something.","body":"Maybe <a href=\"https://github.com/fmbenhassine/spring-batch-lab/tree/main/issues/so53366710\" rel=\"nofollow noreferrer\">this</a> can help. He is merging more than one file, but maybe you can reuse something."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":1,"creation_date":1661850055,"post_id":73539301,"comment_id":129863463,"body_markdown":"How would you do that *without* Spring Batch? Do you have an algorithm to solve this requirement? If you share your solution, I will try to help you implement it with Spring Batch.","body":"How would you do that <i>without</i> Spring Batch? Do you have an algorithm to solve this requirement? If you share your solution, I will try to help you implement it with Spring Batch."},{"owner":{"account_id":1252568,"reputation":181,"user_id":1212674,"accept_rate":58,"display_name":"Robert Mason"},"score":0,"creation_date":1661851388,"post_id":73539301,"comment_id":129863972,"body_markdown":"@MahmoudBenHassine are you asking me how I would do this without batch? My plan is to use spring batch. The input file has 1-1 pairs they just aren&#39;t aligned next to each other in the input file","body":"@MahmoudBenHassine are you asking me how I would do this without batch? My plan is to use spring batch. The input file has 1-1 pairs they just aren&#39;t aligned next to each other in the input file"},{"owner":{"account_id":1252568,"reputation":181,"user_id":1212674,"accept_rate":58,"display_name":"Robert Mason"},"score":0,"creation_date":1661851439,"post_id":73539301,"comment_id":129864000,"body_markdown":"@Pp88 this looks like it is close to what I need. I think splitting the initial input file into two new files and then ingesting them is the correct solution","body":"@Pp88 this looks like it is close to what I need. I think splitting the initial input file into two new files and then ingesting them is the correct solution"},{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1661851521,"post_id":73539301,"comment_id":129864040,"body_markdown":"The project is of @MahmoudBenHassine so… :) better to explain him your needs","body":"The project is of @MahmoudBenHassine so… :) better to explain him your needs"},{"owner":{"account_id":1252568,"reputation":181,"user_id":1212674,"accept_rate":58,"display_name":"Robert Mason"},"score":0,"creation_date":1661852305,"post_id":73539301,"comment_id":129864320,"body_markdown":"Yh I did see that!","body":"Yh I did see that!"}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661887668,"creation_date":1661887668,"answer_id":73547572,"question_id":73539301,"body_markdown":"I see no need to use the fork/join model linked in the comment. The way I would approach this is by using a staging table (in a SQLite DB for instance), and use a SQL query to group items by the required field.\r\n\r\nThis way, you would have a regular chunk-oriented step that reads data from a table and writes records to a file.","title":"Is it possible in Spring Batch to merge read lines that aren&#39;t next to each other before a write","body":"<p>I see no need to use the fork/join model linked in the comment. The way I would approach this is by using a staging table (in a SQLite DB for instance), and use a SQL query to group items by the required field.</p>\n<p>This way, you would have a regular chunk-oriented step that reads data from a table and writes records to a file.</p>\n"}],"owner":{"account_id":1252568,"reputation":181,"user_id":1212674,"accept_rate":58,"display_name":"Robert Mason"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661887668,"creation_date":1661847930,"question_id":73539301,"body_markdown":"There is a file that needs to be processed and altered to create a new file that is a &quot;transpose&quot; of the existing file.\r\n\r\nThere are pairs within the file with a common identifier &#39;id&#39; however the file does not have these lines next to each other. The file structure looks as follows\r\n\r\n    D|ABC|12345|example1|example2\r\n    D|ABC|67890|example1|example2\r\n    D|ABC|121212|example1|example2\r\n    D|DEF|example3|12345|example4|\r\n    D|DEF|example3|67890|example4|\r\n    D|DEF|example3|121212|example4|\r\n\r\nThe intended output would be\r\n\r\n    D|ABC|12345|example1|example2|D|DEF|example3|12345|example4|\r\n    D|ABC|67890|example1|example2|D|DEF|example3|67890|example4|\r\n    D|ABC|121212|example1|example2|D|DEF|example3|121212|example4|\r\n\r\nI have a PatternMatchingCompositeLineMapper that can determine which object to map a line to but i am unsure on how to manage this to allow the processor to merge the lines as a peekableItemReader is only for the following line.\r\n\r\nOr is it simpler to write each type to a new file, then have a second step that would then read the two files and merge there?","title":"Is it possible in Spring Batch to merge read lines that aren&#39;t next to each other before a write","body":"<p>There is a file that needs to be processed and altered to create a new file that is a &quot;transpose&quot; of the existing file.</p>\n<p>There are pairs within the file with a common identifier 'id' however the file does not have these lines next to each other. The file structure looks as follows</p>\n<pre><code>D|ABC|12345|example1|example2\nD|ABC|67890|example1|example2\nD|ABC|121212|example1|example2\nD|DEF|example3|12345|example4|\nD|DEF|example3|67890|example4|\nD|DEF|example3|121212|example4|\n</code></pre>\n<p>The intended output would be</p>\n<pre><code>D|ABC|12345|example1|example2|D|DEF|example3|12345|example4|\nD|ABC|67890|example1|example2|D|DEF|example3|67890|example4|\nD|ABC|121212|example1|example2|D|DEF|example3|121212|example4|\n</code></pre>\n<p>I have a PatternMatchingCompositeLineMapper that can determine which object to map a line to but i am unsure on how to manage this to allow the processor to merge the lines as a peekableItemReader is only for the following line.</p>\n<p>Or is it simpler to write each type to a new file, then have a second step that would then read the two files and merge there?</p>\n"},{"tags":["java","docker"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1661887635,"post_id":73547173,"comment_id":129877758,"body_markdown":"`custom_java_image` does not have `java` binary on the path","body":"<code>custom_java_image</code> does not have <code>java</code> binary on the path"},{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1661901301,"post_id":73547173,"comment_id":129880960,"body_markdown":"...what is in `custom_java_image`?  Can you `docker run --rm custom_java_image java -version` successfully?","body":"...what is in <code>custom_java_image</code>?  Can you <code>docker run --rm custom_java_image java -version</code> successfully?"},{"owner":{"account_id":19301016,"reputation":372,"user_id":14108904,"display_name":"philein-sophos"},"score":0,"creation_date":1661932021,"post_id":73547173,"comment_id":129886342,"body_markdown":"This command properly returns `java` version","body":"This command properly returns <code>java</code> version"}],"owner":{"account_id":19301016,"reputation":372,"user_id":14108904,"display_name":"philein-sophos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":757,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661887613,"creation_date":1661885192,"question_id":73547173,"body_markdown":"While running docker service, its failing to start container, and the `docker service ps &lt;service_name&gt; --no-trunc` is giving following error:\r\n\r\n    starting container failed: failed to create shim task: OCI runtime create failed: runc create failed: unable to start container process: exec: &quot;java&quot;: executable file not found in $PATH: unknown\r\n\r\nFollowing is the Dockerfile that I am using\r\n\r\n    FROM custom_java_image\r\n    WORKDIR /root/\r\n    COPY target/*.jar /root/myfile.jar\r\n    EXPOSE 8443\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/root/myfile.jar&quot;] \r\n\r\n","title":"Docker service failing to start container with error : exec: &quot;java&quot;: executable file not found in $PATH: unknown","body":"<p>While running docker service, its failing to start container, and the <code>docker service ps &lt;service_name&gt; --no-trunc</code> is giving following error:</p>\n<pre><code>starting container failed: failed to create shim task: OCI runtime create failed: runc create failed: unable to start container process: exec: &quot;java&quot;: executable file not found in $PATH: unknown\n</code></pre>\n<p>Following is the Dockerfile that I am using</p>\n<pre><code>FROM custom_java_image\nWORKDIR /root/\nCOPY target/*.jar /root/myfile.jar\nEXPOSE 8443\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/root/myfile.jar&quot;] \n</code></pre>\n"},{"tags":["java","jquery","spring","orm","mybatis"],"answers":[{"tags":[],"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661886734,"creation_date":1661886734,"answer_id":73547429,"question_id":73528407,"body_markdown":"There seems to be a mix-up with comma and colon, but it would look something like this if I understand correctly.  \r\n\r\n\r\n```xml\r\n&lt;select id=&quot;select&quot; resultType=&quot;domain.User&quot;&gt;\r\n  select * from users\r\n  &lt;where&gt;\r\n    &lt;foreach collection=&quot;list&quot; item=&quot;x&quot; separator=&quot;and&quot;&gt;\r\n      ${x.targetField}\r\n      &lt;choose&gt;\r\n        &lt;when test=&quot;x.filterFunction == &#39;GreaterEquals&#39;&quot;&gt;\r\n          &gt;=\r\n        &lt;/when&gt;\r\n        &lt;when test=&quot;x.filterFunction == &#39;LessEquals&#39;&quot;&gt;\r\n          &amp;lt;=\r\n        &lt;/when&gt;\r\n        &lt;when test=&quot;x.filterFunction == &#39;like&#39;&quot;&gt;\r\n          like\r\n        &lt;/when&gt;\r\n      &lt;/choose&gt;\r\n      #{x.filterValue}\r\n    &lt;/foreach&gt;\r\n  &lt;/where&gt;\r\n&lt;/select&gt;\r\n```\r\n\r\nA few notes:\r\n\r\n1. As it&#39;s XML, `&lt;` must be escaped as `&amp;lt;` or written in CDATA i.e. `&lt;![CDATA[&lt;]]&gt;`.\r\n1. You must ensure that the value of `targetField` is a valid column name because `${}` has to be used for column names in the statement. See the [FAQ](https://github.com/mybatis/mybatis-3/wiki/FAQ#what-is-the-difference-between--and-) for the details.\r\n\r\nOff-topic:\r\n- You may also be able to use SQL provider. There are some examples in the [doc](https://mybatis.org/mybatis-3/java-api.html).","title":"MyBatis query in a for loop","body":"<p>There seems to be a mix-up with comma and colon, but it would look something like this if I understand correctly.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;select id=&quot;select&quot; resultType=&quot;domain.User&quot;&gt;\n  select * from users\n  &lt;where&gt;\n    &lt;foreach collection=&quot;list&quot; item=&quot;x&quot; separator=&quot;and&quot;&gt;\n      ${x.targetField}\n      &lt;choose&gt;\n        &lt;when test=&quot;x.filterFunction == 'GreaterEquals'&quot;&gt;\n          &gt;=\n        &lt;/when&gt;\n        &lt;when test=&quot;x.filterFunction == 'LessEquals'&quot;&gt;\n          &amp;lt;=\n        &lt;/when&gt;\n        &lt;when test=&quot;x.filterFunction == 'like'&quot;&gt;\n          like\n        &lt;/when&gt;\n      &lt;/choose&gt;\n      #{x.filterValue}\n    &lt;/foreach&gt;\n  &lt;/where&gt;\n&lt;/select&gt;\n</code></pre>\n<p>A few notes:</p>\n<ol>\n<li>As it's XML, <code>&lt;</code> must be escaped as <code>&amp;lt;</code> or written in CDATA i.e. <code>&lt;![CDATA[&lt;]]&gt;</code>.</li>\n<li>You must ensure that the value of <code>targetField</code> is a valid column name because <code>${}</code> has to be used for column names in the statement. See the <a href=\"https://github.com/mybatis/mybatis-3/wiki/FAQ#what-is-the-difference-between--and-\" rel=\"nofollow noreferrer\">FAQ</a> for the details.</li>\n</ol>\n<p>Off-topic:</p>\n<ul>\n<li>You may also be able to use SQL provider. There are some examples in the <a href=\"https://mybatis.org/mybatis-3/java-api.html\" rel=\"nofollow noreferrer\">doc</a>.</li>\n</ul>\n"}],"owner":{"account_id":1873750,"reputation":2191,"user_id":1695427,"accept_rate":83,"display_name":"Majid Abdolhosseini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":439,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73547429,"answer_count":1,"score":0,"last_activity_date":1661886734,"creation_date":1661774090,"question_id":73528407,"body_markdown":"I&#39;m using Java, Spring boot and MyBatis.\r\nConsider that I have a list of hashMap objects like this :\r\n```\r\n[\r\n   { &quot;filterFunction&quot;: &quot;GreaterEquals&quot;: &quot;filterValue&quot;: 1000, &quot;targetField&quot;: &quot;balance&quot;},\r\n   { &quot;filterFunction&quot;: &quot;like&quot;: &quot;filterValue&quot;:&quot;Mike&quot;, &quot;targetField&quot;: &quot;name&quot;},\r\n]\r\n\r\n```\r\nHow can I convert it to a query ?\r\nin myBatis xml file I want to have a loop and for each list item add a condition (WHERE clause).\r\n\r\nso my WHERE query should be dynamic and in a loop.\r\nHow can I achieve this?","title":"MyBatis query in a for loop","body":"<p>I'm using Java, Spring boot and MyBatis.\nConsider that I have a list of hashMap objects like this :</p>\n<pre><code>[\n   { &quot;filterFunction&quot;: &quot;GreaterEquals&quot;: &quot;filterValue&quot;: 1000, &quot;targetField&quot;: &quot;balance&quot;},\n   { &quot;filterFunction&quot;: &quot;like&quot;: &quot;filterValue&quot;:&quot;Mike&quot;, &quot;targetField&quot;: &quot;name&quot;},\n]\n\n</code></pre>\n<p>How can I convert it to a query ?\nin myBatis xml file I want to have a loop and for each list item add a condition (WHERE clause).</p>\n<p>so my WHERE query should be dynamic and in a loop.\nHow can I achieve this?</p>\n"},{"tags":["java","spring-boot","hibernate","rest"],"answers":[{"tags":[],"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661835279,"creation_date":1661754014,"answer_id":73524800,"question_id":73524326,"body_markdown":"you need to set reference for their relationship in the child entities too.\r\nYou can follow this approach:\r\n\r\n    course.getHoleLayout().forEach(layout-&gt;layout.setCourse(course));\r\n    Similarly, do it for other child:\r\n    course.getScores().forEach(score-&gt; score.setCourse(course));\r\n\r\nNow, save all in one go:\r\n\r\n    COURSE_REPOSITORY.save(course);\r\n\r\n\r\n**Note: make sure, your primary key values for your entites are in object form:\r\nLike this:**\r\n\r\n    private Long id;\r\n\r\n\r\n**Update:**&lt;br&gt; *instead of writing this:*\r\n \r\n\r\n     course.getHoleLayout().forEach(layout -&gt; layout.setCourse(course));\r\n            \r\n            for (int i = 0; i &lt; course.getHoleLayout().size(); i++) {\r\n                HOLE_REPOSITORY.save(course.getHoleLayout().get(i).getHoles().get(i));\r\n                course.getHoleLayout()\r\n                        .get(i)\r\n                        .getHoles()\r\n                        .forEach(hole -&gt; hole.setHoleLayout(course.getHoleLayout().get(i)));\r\n            }\r\n            \r\n            COURSE_REPOSITORY.save(course);\r\n            HOLE_LAYOUT_REPOSITORY.saveAll(course.getHoleLayout());\r\n            return course;\r\n\r\n*Write this:*\r\n \r\n\r\n     course.getHoleLayout().forEach(layout -&gt; layout.setCourse(course));\r\n            \r\n         \r\n            \r\n            COURSE_REPOSITORY.save(course);\r\n            return course;\r\n\r\n\r\n***Also, before saving them, you need to ensure that their values are null.\r\nhope will work it.***\r\n\r\n","title":"Saving Parent entity and child entity at the same time, while assigning foreign keys","body":"<p>you need to set reference for their relationship in the child entities too.\nYou can follow this approach:</p>\n<pre><code>course.getHoleLayout().forEach(layout-&gt;layout.setCourse(course));\nSimilarly, do it for other child:\ncourse.getScores().forEach(score-&gt; score.setCourse(course));\n</code></pre>\n<p>Now, save all in one go:</p>\n<pre><code>COURSE_REPOSITORY.save(course);\n</code></pre>\n<p><strong>Note: make sure, your primary key values for your entites are in object form:\nLike this:</strong></p>\n<pre><code>private Long id;\n</code></pre>\n<p><strong>Update:</strong><br> <em>instead of writing this:</em></p>\n<pre><code> course.getHoleLayout().forEach(layout -&gt; layout.setCourse(course));\n        \n        for (int i = 0; i &lt; course.getHoleLayout().size(); i++) {\n            HOLE_REPOSITORY.save(course.getHoleLayout().get(i).getHoles().get(i));\n            course.getHoleLayout()\n                    .get(i)\n                    .getHoles()\n                    .forEach(hole -&gt; hole.setHoleLayout(course.getHoleLayout().get(i)));\n        }\n        \n        COURSE_REPOSITORY.save(course);\n        HOLE_LAYOUT_REPOSITORY.saveAll(course.getHoleLayout());\n        return course;\n</code></pre>\n<p><em>Write this:</em></p>\n<pre><code> course.getHoleLayout().forEach(layout -&gt; layout.setCourse(course));\n        \n     \n        \n        COURSE_REPOSITORY.save(course);\n        return course;\n</code></pre>\n<p><em><strong>Also, before saving them, you need to ensure that their values are null.\nhope will work it.</strong></em></p>\n"},{"tags":[],"owner":{"account_id":24919598,"reputation":79,"user_id":18788036,"display_name":"charbs29"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661885898,"creation_date":1661885898,"answer_id":73547294,"question_id":73524326,"body_markdown":"Update, I solved the issue by adding @JsonManagedReference to my @OneToMany initializations and @JsonBackReference to the class that the foreign id was mapped to. Thank you to **user404** for the help! It didn&#39;t solve the issue... but on the other hand, I ended up learning something new.\r\n\r\n**Course Entity:**\r\n```@Table(name = &quot;courses&quot;)\r\npublic class Course {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private long id;\r\n\r\n    @OneToMany(mappedBy = &quot;course&quot;)\r\n    private List&lt;Score&gt; scores;\r\n\r\n    @OneToMany(mappedBy = &quot;course&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n    @JsonManagedReference\r\n    private List&lt;HoleLayout&gt; holeLayout = new ArrayList&lt;&gt;();\r\n\r\n    @Column(name = &quot;courseName&quot;, nullable = false)\r\n    private String courseName;\r\n\r\n    ... getters and setters.\r\n```\r\n\r\n**HoleLayout:**\r\n```\r\n@Table(name = &quot;holeLayout&quot;)\r\npublic class HoleLayout {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private long id;\r\n    \r\n    @OneToMany(mappedBy = &quot;holeLayout&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n    @JsonManagedReference\r\n    private List&lt;Hole&gt; holes = new ArrayList&lt;&gt;();\r\n\r\n    @ManyToOne\r\n    @JsonBackReference\r\n    private Course course;\r\n\r\n    @Enumerated(EnumType.ORDINAL)\r\n    @Column(name = &quot;layoutType&quot;, nullable = false)\r\n    private LayoutType layoutType;\r\n\r\n    @Column(name = &quot;front9Yards&quot;, nullable = false)\r\n    private long front9Yards;\r\n\r\n    @Column(name = &quot;back9Yards&quot;, nullable = false)\r\n    private long back9Yards;\r\n\r\n    @Column(name = &quot;overallPar&quot;, nullable = false)\r\n    private int overallPar;\r\n\r\n    @Column(name = &quot;courseRating&quot;, nullable = false)\r\n    private double courseRating;\r\n\r\n    @Column(name = &quot;slopeRating&quot;, nullable = false)\r\n    private double slopeRating;\r\n    \r\n    ... getters and setters\r\n```","title":"Saving Parent entity and child entity at the same time, while assigning foreign keys","body":"<p>Update, I solved the issue by adding @JsonManagedReference to my @OneToMany initializations and @JsonBackReference to the class that the foreign id was mapped to. Thank you to <strong>user404</strong> for the help! It didn't solve the issue... but on the other hand, I ended up learning something new.</p>\n<p><strong>Course Entity:</strong></p>\n<pre><code>public class Course {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private long id;\n\n    @OneToMany(mappedBy = &quot;course&quot;)\n    private List&lt;Score&gt; scores;\n\n    @OneToMany(mappedBy = &quot;course&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    @JsonManagedReference\n    private List&lt;HoleLayout&gt; holeLayout = new ArrayList&lt;&gt;();\n\n    @Column(name = &quot;courseName&quot;, nullable = false)\n    private String courseName;\n\n    ... getters and setters.\n</code></pre>\n<p><strong>HoleLayout:</strong></p>\n<pre><code>@Table(name = &quot;holeLayout&quot;)\npublic class HoleLayout {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private long id;\n    \n    @OneToMany(mappedBy = &quot;holeLayout&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    @JsonManagedReference\n    private List&lt;Hole&gt; holes = new ArrayList&lt;&gt;();\n\n    @ManyToOne\n    @JsonBackReference\n    private Course course;\n\n    @Enumerated(EnumType.ORDINAL)\n    @Column(name = &quot;layoutType&quot;, nullable = false)\n    private LayoutType layoutType;\n\n    @Column(name = &quot;front9Yards&quot;, nullable = false)\n    private long front9Yards;\n\n    @Column(name = &quot;back9Yards&quot;, nullable = false)\n    private long back9Yards;\n\n    @Column(name = &quot;overallPar&quot;, nullable = false)\n    private int overallPar;\n\n    @Column(name = &quot;courseRating&quot;, nullable = false)\n    private double courseRating;\n\n    @Column(name = &quot;slopeRating&quot;, nullable = false)\n    private double slopeRating;\n    \n    ... getters and setters\n</code></pre>\n"}],"owner":{"account_id":24919598,"reputation":79,"user_id":18788036,"display_name":"charbs29"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":596,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73547294,"answer_count":2,"score":0,"last_activity_date":1661885898,"creation_date":1661749648,"question_id":73524326,"body_markdown":"I am trying to save a ***parent object-&gt;(Course)***, ***a child object -&gt;(HoleLayout)***, and another ***child object-&gt;(Hole)***, except this one takes the id of ***Course*** and ***HoleLayout***, all at the same time using a PostMapping. \r\n\r\nI have tried most of the suggestions on StackOverflow, and so far, I haven&#39;t had any luck. It saves all three entities completely fine, the only issue is the foreign id does not get assigned to any of the child objects. I&#39;m unsure if the mistake is happening in my ***CourseController*** or my ***CourseServiceImpl*** class. I am also using an Enum which has three different variables (***Championship, Mens, Womens***), which is used when I attempt to save the Course entity. \r\n\r\nSo far, I have tried using bidirectional mapping and JsonConverter to convert the ***Hole*** and ***HoleLayout*** to JSON, which wasn&#39;t the answer.\r\n\r\nHere is the [JSON body][1] that I write when attempting to save the Course entity using Postman.   \r\n\r\nThis is the parent entity ***Course***:\r\n\r\n```@Entity\r\n@Table(name = &quot;courses&quot;)\r\npublic class Course {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private long id;\r\n\r\n    @OneToMany(mappedBy = &quot;course&quot;)\r\n    private List&lt;Score&gt; scores;\r\n\r\n    @OneToMany(mappedBy = &quot;course&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n    private List&lt;HoleLayout&gt; holeLayout = new ArrayList&lt;&gt;();\r\n\r\n    @Column(name = &quot;courseName&quot;, nullable = false)\r\n    private String courseName;\r\n\r\n    ... getters and setters.\r\n```\r\n\r\nThis is the first child entity ***HoleLayout***\r\n```@Entity\r\n@Table(name = &quot;holeLayout&quot;)\r\npublic class HoleLayout {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private long id;\r\n    \r\n    @OneToMany(mappedBy = &quot;holeLayout&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n    private List&lt;Hole&gt; holes = new ArrayList&lt;&gt;();\r\n\r\n    @ManyToOne\r\n    private Course course;\r\n\r\n    @Enumerated(EnumType.ORDINAL)\r\n    @Column(name = &quot;layoutType&quot;, nullable = false)\r\n    private LayoutType layoutType;\r\n\r\n    @Column(name = &quot;front9Yards&quot;, nullable = false)\r\n    private long front9Yards;\r\n\r\n    @Column(name = &quot;back9Yards&quot;, nullable = false)\r\n    private long back9Yards;\r\n\r\n    @Column(name = &quot;overallPar&quot;, nullable = false)\r\n    private int overallPar;\r\n\r\n    @Column(name = &quot;courseRating&quot;, nullable = false)\r\n    private double courseRating;\r\n\r\n    @Column(name = &quot;slopeRating&quot;, nullable = false)\r\n    private double slopeRating;\r\n    \r\n    ... getters and setters\r\n```\r\n\r\nLastly, the second child object ***Hole***, which should have the Course and HoleLayout id. \r\n```@Entity\r\n@Table(name = &quot;hole&quot;)\r\npublic class Hole {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private long id;\r\n\r\n    @ManyToOne\r\n    private HoleLayout holeLayout;\r\n\r\n    @Column(name = &quot;holeNumber&quot;, nullable = false)\r\n    private int holeNumber;\r\n\r\n    @Column(name = &quot;yards&quot;, nullable = false)\r\n    private int yards;\r\n\r\n    @Column(name = &quot;par&quot;, nullable = false)\r\n    private int par;\r\n    \r\n    ... getters and setters. \r\n```\r\nThis is the ***CourseServiceImpl***:\r\n```\r\n@Override\r\n    public Course createCourse(Course course) {\r\n        course.getHoleLayout().forEach(layout -&gt; layout.setCourse(course));\r\n        \r\n        for (int i = 0; i &lt; course.getHoleLayout().size(); i++) {\r\n            HOLE_REPOSITORY.save(course.getHoleLayout().get(i).getHoles().get(i));\r\n            course.getHoleLayout()\r\n                    .get(i)\r\n                    .getHoles()\r\n                    .forEach(hole -&gt; hole.setHoleLayout(course.getHoleLayout().get(i)));\r\n        }\r\n        \r\n        COURSE_REPOSITORY.save(course);\r\n        HOLE_LAYOUT_REPOSITORY.saveAll(course.getHoleLayout());\r\n        return course;\r\n    }\r\n```\r\nThe ***CoursServiceImpl*** also throws this error when I attempt to save the Course:\r\n```Cannot invoke &quot;java.util.List.forEach(java.util.function.Consumer)&quot; because the return value of &quot;com.Rest.GolfMax.API.Models.Course.getHoleLayout()&quot; is null```\r\n\r\n***\r\nLastly, this is the ***CourseController***\r\n```    @PostMapping(&quot;&quot;)\r\n    public ResponseEntity&lt;CourseDto&gt; addNewCourse(@RequestBody @NotNull CourseDto courseDto) {\r\n        Course courseRequest = modelMapper.map(courseDto, Course.class);\r\n\r\n        if (COURSE_SERVICE.isValid(courseDto.getCourseName()))\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST);\r\n\r\n        Course course = COURSE_SERVICE.createCourse(courseRequest);\r\n        CourseDto courseResponse = modelMapper.map(course, CourseDto.class);\r\n        return new ResponseEntity&lt;&gt;(courseResponse, HttpStatus.CREATED);\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://docs.google.com/document/d/1XosMtom2_1gdOjLfkWe-dL-QiaWYGAINTsUbGzMEAXw/edit?usp=sharing","title":"Saving Parent entity and child entity at the same time, while assigning foreign keys","body":"<p>I am trying to save a <em><strong>parent object-&gt;(Course)</strong></em>, <em><strong>a child object -&gt;(HoleLayout)</strong></em>, and another <em><strong>child object-&gt;(Hole)</strong></em>, except this one takes the id of <em><strong>Course</strong></em> and <em><strong>HoleLayout</strong></em>, all at the same time using a PostMapping.</p>\n<p>I have tried most of the suggestions on StackOverflow, and so far, I haven't had any luck. It saves all three entities completely fine, the only issue is the foreign id does not get assigned to any of the child objects. I'm unsure if the mistake is happening in my <em><strong>CourseController</strong></em> or my <em><strong>CourseServiceImpl</strong></em> class. I am also using an Enum which has three different variables (<em><strong>Championship, Mens, Womens</strong></em>), which is used when I attempt to save the Course entity.</p>\n<p>So far, I have tried using bidirectional mapping and JsonConverter to convert the <em><strong>Hole</strong></em> and <em><strong>HoleLayout</strong></em> to JSON, which wasn't the answer.</p>\n<p>Here is the <a href=\"https://docs.google.com/document/d/1XosMtom2_1gdOjLfkWe-dL-QiaWYGAINTsUbGzMEAXw/edit?usp=sharing\" rel=\"nofollow noreferrer\">JSON body</a> that I write when attempting to save the Course entity using Postman.</p>\n<p>This is the parent entity <em><strong>Course</strong></em>:</p>\n<pre><code>@Table(name = &quot;courses&quot;)\npublic class Course {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private long id;\n\n    @OneToMany(mappedBy = &quot;course&quot;)\n    private List&lt;Score&gt; scores;\n\n    @OneToMany(mappedBy = &quot;course&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    private List&lt;HoleLayout&gt; holeLayout = new ArrayList&lt;&gt;();\n\n    @Column(name = &quot;courseName&quot;, nullable = false)\n    private String courseName;\n\n    ... getters and setters.\n</code></pre>\n<p>This is the first child entity <em><strong>HoleLayout</strong></em></p>\n<pre><code>@Table(name = &quot;holeLayout&quot;)\npublic class HoleLayout {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private long id;\n    \n    @OneToMany(mappedBy = &quot;holeLayout&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    private List&lt;Hole&gt; holes = new ArrayList&lt;&gt;();\n\n    @ManyToOne\n    private Course course;\n\n    @Enumerated(EnumType.ORDINAL)\n    @Column(name = &quot;layoutType&quot;, nullable = false)\n    private LayoutType layoutType;\n\n    @Column(name = &quot;front9Yards&quot;, nullable = false)\n    private long front9Yards;\n\n    @Column(name = &quot;back9Yards&quot;, nullable = false)\n    private long back9Yards;\n\n    @Column(name = &quot;overallPar&quot;, nullable = false)\n    private int overallPar;\n\n    @Column(name = &quot;courseRating&quot;, nullable = false)\n    private double courseRating;\n\n    @Column(name = &quot;slopeRating&quot;, nullable = false)\n    private double slopeRating;\n    \n    ... getters and setters\n</code></pre>\n<p>Lastly, the second child object <em><strong>Hole</strong></em>, which should have the Course and HoleLayout id.</p>\n<pre><code>@Table(name = &quot;hole&quot;)\npublic class Hole {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private long id;\n\n    @ManyToOne\n    private HoleLayout holeLayout;\n\n    @Column(name = &quot;holeNumber&quot;, nullable = false)\n    private int holeNumber;\n\n    @Column(name = &quot;yards&quot;, nullable = false)\n    private int yards;\n\n    @Column(name = &quot;par&quot;, nullable = false)\n    private int par;\n    \n    ... getters and setters. \n</code></pre>\n<p>This is the <em><strong>CourseServiceImpl</strong></em>:</p>\n<pre><code>@Override\n    public Course createCourse(Course course) {\n        course.getHoleLayout().forEach(layout -&gt; layout.setCourse(course));\n        \n        for (int i = 0; i &lt; course.getHoleLayout().size(); i++) {\n            HOLE_REPOSITORY.save(course.getHoleLayout().get(i).getHoles().get(i));\n            course.getHoleLayout()\n                    .get(i)\n                    .getHoles()\n                    .forEach(hole -&gt; hole.setHoleLayout(course.getHoleLayout().get(i)));\n        }\n        \n        COURSE_REPOSITORY.save(course);\n        HOLE_LAYOUT_REPOSITORY.saveAll(course.getHoleLayout());\n        return course;\n    }\n</code></pre>\n<p>The <em><strong>CoursServiceImpl</strong></em> also throws this error when I attempt to save the Course:\n<code>Cannot invoke &quot;java.util.List.forEach(java.util.function.Consumer)&quot; because the return value of &quot;com.Rest.GolfMax.API.Models.Course.getHoleLayout()&quot; is null</code></p>\n<hr />\n<p>Lastly, this is the <em><strong>CourseController</strong></em></p>\n<pre><code>    public ResponseEntity&lt;CourseDto&gt; addNewCourse(@RequestBody @NotNull CourseDto courseDto) {\n        Course courseRequest = modelMapper.map(courseDto, Course.class);\n\n        if (COURSE_SERVICE.isValid(courseDto.getCourseName()))\n            return new ResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST);\n\n        Course course = COURSE_SERVICE.createCourse(courseRequest);\n        CourseDto courseResponse = modelMapper.map(course, CourseDto.class);\n        return new ResponseEntity&lt;&gt;(courseResponse, HttpStatus.CREATED);\n    }\n</code></pre>\n"},{"tags":["java","spring","maven","spring-boot","querydsl"],"answers":[{"tags":[],"owner":{"account_id":8383349,"reputation":41,"user_id":6906515,"display_name":"rishav goswami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568973713,"creation_date":1568973713,"answer_id":58026122,"question_id":53345913,"body_markdown":"**Reason for this issue:**\r\n```\r\nYour Query Classes are generated in different package (i.e. inside /annotations) and \r\nyou are trying to find it from different package.\r\n```\r\n\r\n**Solution:**\r\n\r\nChange the outputDirectory path (*i.e. taget location for generating &#39;Q&#39; prefixed Classes*)\r\n```\r\n&lt;outputDirectory&gt;target/generated-sources/annotations&lt;/outputDirectory&gt;\r\n```\r\nto\r\n```\r\n&lt;outputDirectory&gt;target/generated-sources/apt&lt;/outputDirectory&gt;\r\n```\r\nDelete your target folder and do \r\n\r\n&gt; mvn clean install","title":"Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Did not find a query class for domain class","body":"<p><strong>Reason for this issue:</strong></p>\n\n<pre><code>Your Query Classes are generated in different package (i.e. inside /annotations) and \nyou are trying to find it from different package.\n</code></pre>\n\n<p><strong>Solution:</strong></p>\n\n<p>Change the outputDirectory path (<em>i.e. taget location for generating 'Q' prefixed Classes</em>)</p>\n\n<pre><code>&lt;outputDirectory&gt;target/generated-sources/annotations&lt;/outputDirectory&gt;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>&lt;outputDirectory&gt;target/generated-sources/apt&lt;/outputDirectory&gt;\n</code></pre>\n\n<p>Delete your target folder and do </p>\n\n<blockquote>\n  <p>mvn clean install</p>\n</blockquote>\n"}],"owner":{"account_id":12466027,"reputation":71,"user_id":9075945,"display_name":"vince"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4791,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1661885441,"creation_date":1542405099,"question_id":53345913,"body_markdown":"I created a maven project in sts and I am trying to create a war file for the project. I also have querydsl configured for my classes. One class is giving me a error response when I run maven install. \r\n\r\n&gt; ERROR: Error creating bean with name &#39;productBrandController&#39; defined\r\n&gt; in file\r\n&gt; [C:\\Users\\vince\\Documents\\workspace-spring-tool-suite-4-4.0.1.RELEASE\\project\\target\\test-classes\\com\\project\\project\\StoreBased\\ProductBrandController.class]: Unsatisfied dependency expressed through constructor parameter 0;\r\n&gt; nested exception is\r\n&gt; org.springframework.beans.factory.BeanCreationException: Error\r\n&gt; creating bean with name &#39;productBrandRepository&#39;: Invocation of init\r\n&gt; method failed; nested exception is\r\n&gt; org.springframework.beans.BeanInstantiationException: Failed to\r\n&gt; instantiate\r\n&gt; [org.springframework.data.mongodb.repository.support.QuerydslMongoPredicateExecutor]:\r\n&gt; Constructor threw exception; nested exception is\r\n&gt; java.lang.IllegalArgumentException: Did not find a query class\r\n&gt; project.QProductBrand for domain class\r\n&gt; project.StoreBased.ProductBrand!\r\n\r\n \r\n\r\nI need help with my pom file (Not sure if javax.xml.bind might be the culprit) and I am also not sure if my output directory is correct (I already tried java instead of annotations as output). Much thanks for the help! \r\n\r\nThis is the class\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    import org.springframework.data.annotation.Id;\r\n    import org.springframework.data.mongodb.core.index.IndexDirection;\r\n    import org.springframework.data.mongodb.core.index.Indexed;\r\n    import org.springframework.data.mongodb.core.mapping.Document;\r\n\r\n\r\n    @Document(collection = &quot;ProductBrand&quot;)\r\n    public class ProductBrand {\r\n\t\r\n    \t@Id\r\n\t    private String id;\r\n    \tprivate ProductsBasic basic;\r\n\t    @Indexed(direction = IndexDirection.ASCENDING)\r\n    \tprivate String name;\r\n\t    @Indexed(direction = IndexDirection.ASCENDING)\r\n    \tprivate String units;\r\n\t    @Indexed(direction = IndexDirection.ASCENDING)\r\n    \tprivate double price;\r\n\t    @Indexed(direction = IndexDirection.ASCENDING)\r\n    \tprivate double price100g;\r\n\t    private String manufacturer;\r\n    \tprivate List&lt;Manufacturer&gt; manufacturerIndex;\r\n\t    private boolean organic;\r\n    \tprivate List&lt;Organic&gt; organicIndex;\r\n\t    private String category;\r\n    \tprivate List&lt;Category&gt; categoryIndex;\r\n\t    private String subCategory;\r\n    \tprivate List&lt;SubCategory&gt; subCategoryIndex;\r\n\t    private boolean seasonal;\r\n    \tprivate List&lt;Seasonal&gt; seasonalIndex;\r\n\t    private boolean frozenGoods;\r\n    \tprivate List&lt;FrozenGoods&gt; frozenGoodsIndex;\r\n\t    private boolean refrigeratedGoods;\r\n    \tprivate List&lt;RefrigeratedGoods&gt; refrigeratedGoodsIndex;\r\n\t    private boolean available;\r\n    \tprivate List&lt;Available&gt; availableIndex;\r\n\t    @Indexed(direction = IndexDirection.ASCENDING)\r\n    \tprivate String store;\r\n\t    private List&lt;Store&gt; storeIndex;\r\n\r\n    \t// public ProductBrand() {\r\n\t    // super();\r\n    \t// }\r\n\r\n\t    public ProductBrand() {\r\n\t\t    this.setAvailableIndex(new ArrayList&lt;&gt;());\r\n    \t\tthis.setCategoryIndex(new ArrayList&lt;&gt;());\r\n\t    \tthis.setSubCategoryIndex(new ArrayList&lt;&gt;());\r\n\t\t    this.setFrozenGoodsIndex(new ArrayList&lt;&gt;());\r\n    \t\tthis.setManufacturerIndex(new ArrayList&lt;&gt;());\r\n\t    \tthis.setOrganicIndex(new ArrayList&lt;&gt;());\r\n\t\t    this.setRefrigeratedGoodsIndex(new ArrayList&lt;&gt;());\r\n    \t\tthis.setSeasonalIndex(new ArrayList&lt;&gt;());\r\n\t    \tthis.setStoreIndex(new ArrayList&lt;&gt;());\r\n\t    }\r\n\r\n    \tpublic ProductBrand(String id, ProductsBasic basic, String name, String units, double price, double price100g,\r\n\t\t\tString manufacturer, List&lt;Manufacturer&gt; manufacturerIndex, boolean organic, List&lt;Organic&gt; organicIndex,\r\n\t\t\tString category, List&lt;Category&gt; categoryIndex, String subCategory, List&lt;SubCategory&gt; subCategoryIndex,\r\n\t\t\tboolean seasonal, List&lt;Seasonal&gt; seasonalIndex, boolean frozenGoods, List&lt;FrozenGoods&gt; frozenGoodsIndex,\r\n\t\t\tboolean refrigeratedGoods, List&lt;RefrigeratedGoods&gt; refrigeratedGoodsIndex, boolean available,\r\n\t\t\tList&lt;Available&gt; availableIndex, String store, List&lt;Store&gt; storeIndex) {\r\n\t    \tsuper();\r\n\t\t    this.id = id;\r\n    \t\tthis.basic = basic;\r\n\t    \tthis.name = name;\r\n\t\t    this.units = units;\r\n    \t\tthis.price = price;\r\n\t    \tthis.price100g = price100g;\r\n\t\t    this.manufacturer = manufacturer;\r\n    \t\tthis.setManufacturerIndex(manufacturerIndex);\r\n\t    \tthis.organic = organic;\r\n\t\t    this.setOrganicIndex(organicIndex);\r\n    \t\tthis.category = category;\r\n\t    \tthis.setCategoryIndex(categoryIndex);\r\n\t\t    this.subCategory = subCategory;\r\n    \t\tthis.setSubCategoryIndex(subCategoryIndex);\r\n\t    \tthis.seasonal = seasonal;\r\n\t\t    this.setSeasonalIndex(seasonalIndex);\r\n    \t\tthis.frozenGoods = frozenGoods;\r\n\t    \tthis.setFrozenGoodsIndex(frozenGoodsIndex);\r\n\t\t    this.refrigeratedGoods = refrigeratedGoods;\r\n    \t\tthis.setRefrigeratedGoodsIndex(refrigeratedGoodsIndex);\r\n\t    \tthis.available = available;\r\n\t\t    this.setAvailableIndex(availableIndex);\r\n    \t\tthis.store = store;\r\n\t    \tthis.setStoreIndex(storeIndex);\r\n\t    }\r\n\r\n    \tpublic String getManufacturer() {\r\n\t    \treturn manufacturer;\r\n    \t}\r\n\r\n\t    public void setManufacturer(String manufacturer) {\r\n\t\t    this.manufacturer = manufacturer;\r\n    \t}\r\n\r\n\t    public boolean isOrganic() {\r\n\t\t    return organic;\r\n    \t}\r\n\r\n\t    public void setOrganic(boolean organic) {\r\n\t\t    this.organic = organic;\r\n    \t}\r\n\r\n\t    public String getCategory() {\r\n\t\t    return category;\r\n    \t}\r\n\r\n\t    public void setCategory(String category) {\r\n\t\t    this.category = category;\r\n\t    }\r\n\r\n    \tpublic String getSubCategory() {\r\n\t    \treturn subCategory;\r\n    \t}\r\n\r\n\t    public void setSubCategory(String subCategory) {\r\n\t\t    this.subCategory = subCategory;\r\n    \t}\r\n\r\n\t    public boolean isSeasonal() {\r\n\t\t    return seasonal;\r\n    \t}\r\n\r\n\t    public void setSeasonal(boolean seasonal) {\r\n\t\t    this.seasonal = seasonal;\r\n    \t}\r\n\r\n\t    public boolean isFrozenGoods() {\r\n\t\t    return frozenGoods;\r\n    \t}\r\n\r\n\t    public void setFrozenGoods(boolean frozenGoods) {\r\n\t\t    this.frozenGoods = frozenGoods;\r\n    \t}\r\n\r\n\t    public boolean isRefrigeratedGoods() {\r\n\t\t    return refrigeratedGoods;\r\n    \t}\r\n\r\n\t    public void setRefrigeratedGoods(boolean refrigeratedGoods) {\r\n\t\t    this.refrigeratedGoods = refrigeratedGoods;\r\n    \t}\r\n\r\n\t    public boolean isAvailable() {\r\n\t\t    return available;\r\n\t    }\r\n\r\n    \tpublic void setAvailable(boolean available) {\r\n\t    \tthis.available = available;\r\n    \t}\r\n\r\n\t    public void addProduktBrand(ProductBrand productBrand) {\r\n\t\t    ProductBrand.add(productBrand);\r\n    \t}\r\n\r\n    \tpublic static void add(ProductBrand productBrand) {\r\n\t    }\r\n\r\n    \tpublic String getId() {\r\n\t    \treturn id;\r\n    \t}\r\n\r\n\t    public void setId(String id) {\r\n\t\t    this.id = id;\r\n    \t}\r\n\r\n\t    public ProductsBasic getBasic() {\r\n\t\t    return basic;\r\n    \t}\r\n\r\n\t    public void setBasic(ProductsBasic basic) {\r\n\t\t    this.basic = basic;\r\n    \t}\r\n\r\n\t    public String getStore() {\r\n\t\t    return store;\r\n    \t}\r\n\r\n\t    public void setStore(String store) {\r\n\t\t    this.store = store;\r\n    \t}\r\n\r\n    \tpublic String getName() {\r\n\t    \treturn name;\r\n    \t}\r\n\r\n\t    public void setName(String name) {\r\n\t\t    this.name = name;\r\n    \t}\r\n\r\n\t    public String getUnits() {\r\n\t\t    return units;\r\n    \t}\r\n\r\n\t    public void setUnits(String units) {\r\n\t\t    this.units = units;\r\n    \t}\r\n\r\n\t    public double getPrice() {\r\n\t\t    return price;\r\n    \t}\r\n\r\n\t    public void setPrice(double price) {\r\n\t\t    this.price = price;\r\n    \t}\r\n\r\n\t    public double getPrice100g() {\r\n\t\t    return price100g;\r\n\t    }\r\n\r\n    \tpublic void setPrice100g(double price100g) {\r\n\t    \tthis.price100g = price100g;\r\n    \t}\r\n\r\n\t    public List&lt;Manufacturer&gt; getManufacturerIndex() {\r\n\t\t    return manufacturerIndex;\r\n    \t}\r\n\r\n\t    public void setManufacturerIndex(List&lt;Manufacturer&gt; manufacturerIndex) {\r\n\t\t    this.manufacturerIndex = manufacturerIndex;\r\n    \t}\r\n\r\n\t    public List&lt;Organic&gt; getOrganicIndex() {\r\n\t\t    return organicIndex;\r\n\t    }\r\n\r\n    \tpublic void setOrganicIndex(List&lt;Organic&gt; organicIndex) {\r\n\t    \tthis.organicIndex = organicIndex;\r\n    \t}\r\n\r\n\t    public List&lt;Category&gt; getCategoryIndex() {\r\n\t\t    return categoryIndex;\r\n    \t}\r\n\r\n\t    public void setCategoryIndex(List&lt;Category&gt; categoryIndex) {\r\n\t\t    this.categoryIndex = categoryIndex;\r\n\t    }\r\n\r\n\t\tpublic List&lt;SubCategory&gt; getSubCategoryIndex() {\r\n\t\t\treturn subCategoryIndex;\r\n\t\t}\r\n\r\n\t\tpublic void setSubCategoryIndex(List&lt;SubCategory&gt; subCategoryIndex) {\r\n\t\t\tthis.subCategoryIndex = subCategoryIndex;\r\n\t\t}\r\n\r\n\t\tpublic List&lt;Seasonal&gt; getSeasonalIndex() {\r\n\t\t\treturn seasonalIndex;\r\n\t\t}\r\n\r\n\t\tpublic void setSeasonalIndex(List&lt;Seasonal&gt; seasonalIndex) {\r\n\t\t\tthis.seasonalIndex = seasonalIndex;\r\n\t\t}\r\n\r\n\t\tpublic List&lt;FrozenGoods&gt; getFrozenGoodsIndex() {\r\n\t\t\treturn frozenGoodsIndex;\r\n\t\t}\r\n\r\n\t\tpublic void setFrozenGoodsIndex(List&lt;FrozenGoods&gt; frozenGoodsIndex) {\r\n\t\t\tthis.frozenGoodsIndex = frozenGoodsIndex;\r\n\t\t}\r\n\r\n\t\tpublic List&lt;RefrigeratedGoods&gt; getRefrigeratedGoodsIndex() {\r\n\t\t\treturn refrigeratedGoodsIndex;\r\n\t\t}\r\n\r\n\t\tpublic void setRefrigeratedGoodsIndex(List&lt;RefrigeratedGoods&gt; refrigeratedGoodsIndex) {\r\n\t\t\tthis.refrigeratedGoodsIndex = refrigeratedGoodsIndex;\r\n\t\t}\r\n\r\n\t\tpublic List&lt;Available&gt; getAvailableIndex() {\r\n\t\t\treturn availableIndex;\r\n\t\t}\r\n\r\n\t\tpublic void setAvailableIndex(List&lt;Available&gt; availableIndex) {\r\n\t\t\tthis.availableIndex = availableIndex;\r\n\t\t}\r\n\r\n\t\tpublic List&lt;Store&gt; getStoreIndex() {\r\n\t\t\treturn storeIndex;\r\n\t\t}\r\n\r\n\t\tpublic void setStoreIndex(List&lt;Store&gt; storeIndex) {\r\n\t\t\tthis.storeIndex = storeIndex;\r\n\t\t}\r\n\r\n    }\r\n\r\nThis is the controller of the class\r\n\r\n    import java.util.List;\r\n    import java.util.Optional;\r\n\r\n    import org.springframework.web.bind.annotation.DeleteMapping;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.PutMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    import project.QProductBrand;\r\n    import com.querydsl.core.types.dsl.BooleanExpression;\r\n\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/productbrand&quot;)\r\n    public class ProductBrandController {\r\n\t\tprivate ProductBrandRepository productBrandRepository;\r\n\r\n\t\tpublic ProductBrandController(ProductBrandRepository productBrandRepository) {\r\n\t\t\tthis.productBrandRepository = productBrandRepository;\r\n\t\t}\r\n\r\n\t\t@GetMapping(&quot;/all&quot;)\r\n\t\tpublic List&lt;ProductBrand&gt; getAll() {\r\n\t\t\tList&lt;ProductBrand&gt; product = this.productBrandRepository.findAll();\r\n\r\n\t\t\treturn product;\r\n\t\t}\r\n\r\n\t\t@GetMapping(&quot;/productbrand/{name}&quot;)\r\n\t\tpublic List&lt;ProductBrand&gt; getByName(@PathVariable(&quot;name&quot;) String name) {\r\n\t\t\tList&lt;ProductBrand&gt; product = this.productBrandRepository.findByName(name);\r\n\r\n\t\t\treturn product;\r\n\t\t}\r\n\r\n\t\t@PutMapping\r\n\t\tpublic void insert(@RequestBody ProductBrand productBrand) {\r\n\t\t\tthis.productBrandRepository.insert(productBrand);\r\n\t\t}\r\n\r\n\t\t@PostMapping\r\n\t\tpublic void update(@RequestBody ProductBrand productBrand) {\r\n\t\t\tthis.productBrandRepository.save(productBrand);\r\n\t\t}\r\n\r\n\t\t@DeleteMapping(&quot;/{id}&quot;)\r\n\t\tpublic void delete(@PathVariable(&quot;id&quot;) ProductBrand id) {\r\n\t\t\tthis.productBrandRepository.delete(id);\r\n\t\t}\r\n\r\n\t\t@GetMapping(&quot;/{id}&quot;)\r\n\t\tpublic Optional&lt;ProductBrand&gt; getById(@PathVariable(&quot;id&quot;) String id) {\r\n\t\t\tOptional&lt;ProductBrand&gt; brand = this.productBrandRepository.findById(id);\r\n\t\t\treturn brand;\r\n\r\n\t\t}\r\n\r\n\t\t@GetMapping(&quot;/productBrand/{organic}&quot;)\r\n\t\tpublic List&lt;ProductBrand&gt; getByOrganic(@PathVariable(&quot;organic&quot;) boolean organic) {\r\n\t\t\tList&lt;ProductBrand&gt; brand = this.productBrandRepository.findByOrganic(organic);\r\n\r\n\t\t\treturn brand;\r\n\t\t}\r\n\t\r\n\t\t@GetMapping(&quot;/productBrand/{manufacturer}&quot;)\r\n\t\tpublic List&lt;ProductBrand&gt; getByManufacturer(@PathVariable(&quot;manufacturer&quot;) String manufacturer) {\r\n\t\t\tList&lt;ProductBrand&gt; brand = this.productBrandRepository.findByManufacturer(manufacturer);\r\n\r\n\t\t\treturn brand;\r\n\t\t}\r\n\r\n\t\t@GetMapping(&quot;/productBrand/{category}&quot;)\r\n\t\tpublic List&lt;ProductBrand&gt; getByCategory(@PathVariable(&quot;category&quot;) String category) {\r\n\t\t\tList&lt;ProductBrand&gt; brand = this.productBrandRepository.findByCategory(category);\r\n\r\n\t\t\treturn brand;\r\n\t\t}\r\n\r\n\t\t@GetMapping(&quot;/productBrand/{seasonal}&quot;)\r\n\t\tpublic List&lt;ProductBrand&gt; getBySeasonal(@PathVariable(&quot;seasonal&quot;) boolean seasonal) {\r\n\t\t\tList&lt;ProductBrand&gt; brand = this.productBrandRepository.findBySeasonal(seasonal);\r\n\r\n\t\t\treturn brand;\r\n\t\t}\r\n\r\n\t\t@GetMapping(&quot;/productBrand/{frozenGoods}&quot;)\r\n\t\tpublic List&lt;ProductBrand&gt; getByFrozenGoods(@PathVariable(&quot;frozenGoods&quot;) boolean frozenGoods) {\r\n\t\t\tList&lt;ProductBrand&gt; brand = this.productBrandRepository.findByFrozenGoods(frozenGoods);\r\n\r\n\t\t\treturn brand;\r\n\t\t}\r\n\r\n\t\t@GetMapping(&quot;/productBrand/{refrigeratedGoods}&quot;)\r\n\t\tpublic List&lt;ProductBrand&gt; getByRefrigeratedGoods(@PathVariable(&quot;refrigeratedGoods&quot;) boolean refrigeratedGoods) {\r\n\t\t\tList&lt;ProductBrand&gt; brand = this.productBrandRepository.findByRefrigeratedGoods(refrigeratedGoods);\r\n\r\n\t\t\treturn brand;\r\n\t\t}\r\n\r\n\t\t@GetMapping(&quot;/productBrand/{available}&quot;)\r\n\t\tpublic List&lt;ProductBrand&gt; getByAvailable(@PathVariable(&quot;available&quot;) boolean available) {\r\n\t\t\tList&lt;ProductBrand&gt; brand = this.productBrandRepository.findByAvailable(available);\r\n\r\n\t\t\treturn brand;\r\n\t\t}\r\n\t\r\n\r\n\t\t@GetMapping(&quot;/recommended&quot;)\r\n\t\tpublic List&lt;ProductBrand&gt; getRecommended() {\r\n\t\t\tfinal boolean isOrganic = true;\r\n\t\t\tfinal boolean isSeasonal = true;\r\n\r\n\t\t\tQProductBrand qBrand = new QProductBrand(&quot;ProductBrand&quot;);\r\n\t\t\r\n\t\t\tBooleanExpression filterByOrganic = (qBrand.organicIndex).any().organic.gt(isOrganic);\r\n\r\n\t\t\tBooleanExpression filterBySeasonal = (qBrand.seasonalIndex).any().seasonal.gt(isSeasonal);\r\n\r\n\t\t\tList&lt;ProductBrand&gt; brand = (List&lt;ProductBrand&gt;) this.productBrandRepository\r\n\t\t\t\t\t.findAll(filterByOrganic.and(filterBySeasonal));\r\n\r\n\t\t\treturn brand;\r\n\t\t}\r\n\r\n\t}\r\n\r\nThis is my repository \r\n\r\n    import java.util.List;\r\n\r\n    import org.springframework.data.mongodb.repository.MongoRepository;\r\n    import org.springframework.data.querydsl.QuerydslPredicateExecutor;\r\n    import org.springframework.stereotype.Repository;\r\n\r\n    @Repository\r\n    public interface ProductBrandRepository extends MongoRepository&lt;ProductBrand, String&gt;, QuerydslPredicateExecutor&lt;ProductBrand&gt; {\r\n\r\n    \tList&lt;ProductBrand&gt; findByName(String name);\r\n\r\n\t    List&lt;ProductBrand&gt; findByOrganic(boolean organic);\r\n\r\n\t    List&lt;ProductBrand&gt; findBySeasonal(boolean seasonal);\r\n\r\n\t    List&lt;ProductBrand&gt; findByFrozenGoods(boolean frozenGoods);\r\n\r\n\t    List&lt;ProductBrand&gt; findByRefrigeratedGoods(boolean refrigeratedGoods);\r\n\r\n\t    List&lt;ProductBrand&gt; findByAvailable(boolean available);\r\n\r\n\t    List&lt;ProductBrand&gt; findByCategory(String category);\r\n\r\n\t    List&lt;ProductBrand&gt; findByManufacturer(String manufacturer);\r\n\r\n    }\r\n\r\nAnd this is my pom file \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\t    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    \t&lt;groupId&gt;com.BETAapp&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;project&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n    \t&lt;name&gt;project&lt;/name&gt;\r\n\t    &lt;description&gt;demo&lt;/description&gt;\r\n\r\n     \t&lt;parent&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n     \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.0.6.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t    &lt;/parent&gt;\r\n\r\n    \t&lt;properties&gt;\r\n\t    \t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t    &lt;/properties&gt;\r\n\r\n    \t&lt;dependencies&gt;\r\n\t    \t&lt;dependency&gt;\r\n\t\t    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n\t        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\t    \t&lt;dependency&gt;\r\n\t\t    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\t     \t&lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;spring-boot-starter-groovy-templates&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\t    \t&lt;dependency&gt;\r\n\t\t    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;spring-boot-starter-mustache&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\t    \t&lt;dependency&gt;\r\n\t\t    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n\t    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    \t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\t    \t&lt;dependency&gt;\r\n\t\t    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\t    \t&lt;dependency&gt;\r\n\t\t    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n  \r\n\t    \t&lt;dependency&gt;\r\n\t\t    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t    \t&lt;/dependency&gt;\r\n\t\t    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t    \t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t    \t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\t    \t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t    \t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t    \t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.4.0-b180725.0427&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/org.mongodb.morphia/morphia --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.mongodb.morphia&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;morphia&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;0.107&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/com.querydsl/querydsl-apt --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;querydsl-mongodb&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;4.2.1&lt;/version&gt;\r\n\t\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;/exclusions&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\r\n\t\t&lt;build&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;1.1.3&lt;/version&gt;\r\n\t\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;4.2.1&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;process&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t\t&lt;outputDirectory&gt;target/generated-sources/annotations&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t\t\t&lt;processor&gt;org.springframework.data.mongodb.repository.support.MongoAnnotationProcessor&lt;/processor&gt;\r\n\t\t\t\t\t\t\t\t&lt;logOnlyOnError&gt;true&lt;/logOnlyOnError&gt;\r\n\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/build&gt;\r\n\r\n\r\n\t&lt;/project&gt;\r\n\r\n-------------------------------------------------------------------------------\r\n    Test set: project.StoreBased.ApplicationTests\r\n    -------------------------------------------------------------------------------\r\n    Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 11.036 s &lt;&lt;&lt; FAILURE! - in project.StoreBased.ApplicationTests\r\n    contextLoads(project.StoreBased.ApplicationTests)  Time elapsed: 0.002 s  &lt;&lt;&lt; ERROR!\r\n    java.lang.IllegalStateException: Failed to load ApplicationContext\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;productBrandController&#39; defined in file [C:\\Users\\vince\\Documents\\workspace-spring-tool-suite-4-4.0.1.RELEASE\\project(18.11.2018)\\target\\test-classes\\com\\project\\project\\StoreBased\\ProductBrandController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;productBrandRepository&#39;: Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.repository.support.QuerydslMongoPredicateExecutor]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Did not find a query class project.StoreBased.QProductBrand for domain class project.StoreBased.ProductBrand!\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;productBrandRepository&#39;: Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.repository.support.QuerydslMongoPredicateExecutor]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Did not find a query class project.StoreBased.QProductBrand for domain class project.project.StoreBased.ProductBrand!\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.repository.support.QuerydslMongoPredicateExecutor]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Did not find a query class project.StoreBased.QProductBrand for domain class project.StoreBased.ProductBrand!\r\n    Caused by: java.lang.IllegalArgumentException: Did not find a query class project.StoreBased.QProductBrand for domain class project.StoreBased.ProductBrand!\r\n    Caused by: java.lang.ClassNotFoundException: project.StoreBased.QProductBrand","title":"Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Did not find a query class for domain class","body":"<p>I created a maven project in sts and I am trying to create a war file for the project. I also have querydsl configured for my classes. One class is giving me a error response when I run maven install.</p>\n<blockquote>\n<p>ERROR: Error creating bean with name 'productBrandController' defined\nin file\n[C:\\Users\\vince\\Documents\\workspace-spring-tool-suite-4-4.0.1.RELEASE\\project\\target\\test-classes\\com\\project\\project\\StoreBased\\ProductBrandController.class]: Unsatisfied dependency expressed through constructor parameter 0;\nnested exception is\norg.springframework.beans.factory.BeanCreationException: Error\ncreating bean with name 'productBrandRepository': Invocation of init\nmethod failed; nested exception is\norg.springframework.beans.BeanInstantiationException: Failed to\ninstantiate\n[org.springframework.data.mongodb.repository.support.QuerydslMongoPredicateExecutor]:\nConstructor threw exception; nested exception is\njava.lang.IllegalArgumentException: Did not find a query class\nproject.QProductBrand for domain class\nproject.StoreBased.ProductBrand!</p>\n</blockquote>\n<p>I need help with my pom file (Not sure if javax.xml.bind might be the culprit) and I am also not sure if my output directory is correct (I already tried java instead of annotations as output). Much thanks for the help!</p>\n<p>This is the class</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.mongodb.core.index.IndexDirection;\nimport org.springframework.data.mongodb.core.index.Indexed;\nimport org.springframework.data.mongodb.core.mapping.Document;\n\n\n@Document(collection = &quot;ProductBrand&quot;)\npublic class ProductBrand {\n\n    @Id\n    private String id;\n    private ProductsBasic basic;\n    @Indexed(direction = IndexDirection.ASCENDING)\n    private String name;\n    @Indexed(direction = IndexDirection.ASCENDING)\n    private String units;\n    @Indexed(direction = IndexDirection.ASCENDING)\n    private double price;\n    @Indexed(direction = IndexDirection.ASCENDING)\n    private double price100g;\n    private String manufacturer;\n    private List&lt;Manufacturer&gt; manufacturerIndex;\n    private boolean organic;\n    private List&lt;Organic&gt; organicIndex;\n    private String category;\n    private List&lt;Category&gt; categoryIndex;\n    private String subCategory;\n    private List&lt;SubCategory&gt; subCategoryIndex;\n    private boolean seasonal;\n    private List&lt;Seasonal&gt; seasonalIndex;\n    private boolean frozenGoods;\n    private List&lt;FrozenGoods&gt; frozenGoodsIndex;\n    private boolean refrigeratedGoods;\n    private List&lt;RefrigeratedGoods&gt; refrigeratedGoodsIndex;\n    private boolean available;\n    private List&lt;Available&gt; availableIndex;\n    @Indexed(direction = IndexDirection.ASCENDING)\n    private String store;\n    private List&lt;Store&gt; storeIndex;\n\n    // public ProductBrand() {\n    // super();\n    // }\n\n    public ProductBrand() {\n        this.setAvailableIndex(new ArrayList&lt;&gt;());\n        this.setCategoryIndex(new ArrayList&lt;&gt;());\n        this.setSubCategoryIndex(new ArrayList&lt;&gt;());\n        this.setFrozenGoodsIndex(new ArrayList&lt;&gt;());\n        this.setManufacturerIndex(new ArrayList&lt;&gt;());\n        this.setOrganicIndex(new ArrayList&lt;&gt;());\n        this.setRefrigeratedGoodsIndex(new ArrayList&lt;&gt;());\n        this.setSeasonalIndex(new ArrayList&lt;&gt;());\n        this.setStoreIndex(new ArrayList&lt;&gt;());\n    }\n\n    public ProductBrand(String id, ProductsBasic basic, String name, String units, double price, double price100g,\n        String manufacturer, List&lt;Manufacturer&gt; manufacturerIndex, boolean organic, List&lt;Organic&gt; organicIndex,\n        String category, List&lt;Category&gt; categoryIndex, String subCategory, List&lt;SubCategory&gt; subCategoryIndex,\n        boolean seasonal, List&lt;Seasonal&gt; seasonalIndex, boolean frozenGoods, List&lt;FrozenGoods&gt; frozenGoodsIndex,\n        boolean refrigeratedGoods, List&lt;RefrigeratedGoods&gt; refrigeratedGoodsIndex, boolean available,\n        List&lt;Available&gt; availableIndex, String store, List&lt;Store&gt; storeIndex) {\n        super();\n        this.id = id;\n        this.basic = basic;\n        this.name = name;\n        this.units = units;\n        this.price = price;\n        this.price100g = price100g;\n        this.manufacturer = manufacturer;\n        this.setManufacturerIndex(manufacturerIndex);\n        this.organic = organic;\n        this.setOrganicIndex(organicIndex);\n        this.category = category;\n        this.setCategoryIndex(categoryIndex);\n        this.subCategory = subCategory;\n        this.setSubCategoryIndex(subCategoryIndex);\n        this.seasonal = seasonal;\n        this.setSeasonalIndex(seasonalIndex);\n        this.frozenGoods = frozenGoods;\n        this.setFrozenGoodsIndex(frozenGoodsIndex);\n        this.refrigeratedGoods = refrigeratedGoods;\n        this.setRefrigeratedGoodsIndex(refrigeratedGoodsIndex);\n        this.available = available;\n        this.setAvailableIndex(availableIndex);\n        this.store = store;\n        this.setStoreIndex(storeIndex);\n    }\n\n    public String getManufacturer() {\n        return manufacturer;\n    }\n\n    public void setManufacturer(String manufacturer) {\n        this.manufacturer = manufacturer;\n    }\n\n    public boolean isOrganic() {\n        return organic;\n    }\n\n    public void setOrganic(boolean organic) {\n        this.organic = organic;\n    }\n\n    public String getCategory() {\n        return category;\n    }\n\n    public void setCategory(String category) {\n        this.category = category;\n    }\n\n    public String getSubCategory() {\n        return subCategory;\n    }\n\n    public void setSubCategory(String subCategory) {\n        this.subCategory = subCategory;\n    }\n\n    public boolean isSeasonal() {\n        return seasonal;\n    }\n\n    public void setSeasonal(boolean seasonal) {\n        this.seasonal = seasonal;\n    }\n\n    public boolean isFrozenGoods() {\n        return frozenGoods;\n    }\n\n    public void setFrozenGoods(boolean frozenGoods) {\n        this.frozenGoods = frozenGoods;\n    }\n\n    public boolean isRefrigeratedGoods() {\n        return refrigeratedGoods;\n    }\n\n    public void setRefrigeratedGoods(boolean refrigeratedGoods) {\n        this.refrigeratedGoods = refrigeratedGoods;\n    }\n\n    public boolean isAvailable() {\n        return available;\n    }\n\n    public void setAvailable(boolean available) {\n        this.available = available;\n    }\n\n    public void addProduktBrand(ProductBrand productBrand) {\n        ProductBrand.add(productBrand);\n    }\n\n    public static void add(ProductBrand productBrand) {\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public ProductsBasic getBasic() {\n        return basic;\n    }\n\n    public void setBasic(ProductsBasic basic) {\n        this.basic = basic;\n    }\n\n    public String getStore() {\n        return store;\n    }\n\n    public void setStore(String store) {\n        this.store = store;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getUnits() {\n        return units;\n    }\n\n    public void setUnits(String units) {\n        this.units = units;\n    }\n\n    public double getPrice() {\n        return price;\n    }\n\n    public void setPrice(double price) {\n        this.price = price;\n    }\n\n    public double getPrice100g() {\n        return price100g;\n    }\n\n    public void setPrice100g(double price100g) {\n        this.price100g = price100g;\n    }\n\n    public List&lt;Manufacturer&gt; getManufacturerIndex() {\n        return manufacturerIndex;\n    }\n\n    public void setManufacturerIndex(List&lt;Manufacturer&gt; manufacturerIndex) {\n        this.manufacturerIndex = manufacturerIndex;\n    }\n\n    public List&lt;Organic&gt; getOrganicIndex() {\n        return organicIndex;\n    }\n\n    public void setOrganicIndex(List&lt;Organic&gt; organicIndex) {\n        this.organicIndex = organicIndex;\n    }\n\n    public List&lt;Category&gt; getCategoryIndex() {\n        return categoryIndex;\n    }\n\n    public void setCategoryIndex(List&lt;Category&gt; categoryIndex) {\n        this.categoryIndex = categoryIndex;\n    }\n\n    public List&lt;SubCategory&gt; getSubCategoryIndex() {\n        return subCategoryIndex;\n    }\n\n    public void setSubCategoryIndex(List&lt;SubCategory&gt; subCategoryIndex) {\n        this.subCategoryIndex = subCategoryIndex;\n    }\n\n    public List&lt;Seasonal&gt; getSeasonalIndex() {\n        return seasonalIndex;\n    }\n\n    public void setSeasonalIndex(List&lt;Seasonal&gt; seasonalIndex) {\n        this.seasonalIndex = seasonalIndex;\n    }\n\n    public List&lt;FrozenGoods&gt; getFrozenGoodsIndex() {\n        return frozenGoodsIndex;\n    }\n\n    public void setFrozenGoodsIndex(List&lt;FrozenGoods&gt; frozenGoodsIndex) {\n        this.frozenGoodsIndex = frozenGoodsIndex;\n    }\n\n    public List&lt;RefrigeratedGoods&gt; getRefrigeratedGoodsIndex() {\n        return refrigeratedGoodsIndex;\n    }\n\n    public void setRefrigeratedGoodsIndex(List&lt;RefrigeratedGoods&gt; refrigeratedGoodsIndex) {\n        this.refrigeratedGoodsIndex = refrigeratedGoodsIndex;\n    }\n\n    public List&lt;Available&gt; getAvailableIndex() {\n        return availableIndex;\n    }\n\n    public void setAvailableIndex(List&lt;Available&gt; availableIndex) {\n        this.availableIndex = availableIndex;\n    }\n\n    public List&lt;Store&gt; getStoreIndex() {\n        return storeIndex;\n    }\n\n    public void setStoreIndex(List&lt;Store&gt; storeIndex) {\n        this.storeIndex = storeIndex;\n    }\n\n}\n</code></pre>\n<p>This is the controller of the class</p>\n<pre><code>import java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.PutMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport project.QProductBrand;\nimport com.querydsl.core.types.dsl.BooleanExpression;\n\n\n@RestController\n@RequestMapping(&quot;/productbrand&quot;)\npublic class ProductBrandController {\n    private ProductBrandRepository productBrandRepository;\n\n    public ProductBrandController(ProductBrandRepository productBrandRepository) {\n        this.productBrandRepository = productBrandRepository;\n    }\n\n    @GetMapping(&quot;/all&quot;)\n    public List&lt;ProductBrand&gt; getAll() {\n        List&lt;ProductBrand&gt; product = this.productBrandRepository.findAll();\n\n        return product;\n    }\n\n    @GetMapping(&quot;/productbrand/{name}&quot;)\n    public List&lt;ProductBrand&gt; getByName(@PathVariable(&quot;name&quot;) String name) {\n        List&lt;ProductBrand&gt; product = this.productBrandRepository.findByName(name);\n\n        return product;\n    }\n\n    @PutMapping\n    public void insert(@RequestBody ProductBrand productBrand) {\n        this.productBrandRepository.insert(productBrand);\n    }\n\n    @PostMapping\n    public void update(@RequestBody ProductBrand productBrand) {\n        this.productBrandRepository.save(productBrand);\n    }\n\n    @DeleteMapping(&quot;/{id}&quot;)\n    public void delete(@PathVariable(&quot;id&quot;) ProductBrand id) {\n        this.productBrandRepository.delete(id);\n    }\n\n    @GetMapping(&quot;/{id}&quot;)\n    public Optional&lt;ProductBrand&gt; getById(@PathVariable(&quot;id&quot;) String id) {\n        Optional&lt;ProductBrand&gt; brand = this.productBrandRepository.findById(id);\n        return brand;\n\n    }\n\n    @GetMapping(&quot;/productBrand/{organic}&quot;)\n    public List&lt;ProductBrand&gt; getByOrganic(@PathVariable(&quot;organic&quot;) boolean organic) {\n        List&lt;ProductBrand&gt; brand = this.productBrandRepository.findByOrganic(organic);\n\n        return brand;\n    }\n\n    @GetMapping(&quot;/productBrand/{manufacturer}&quot;)\n    public List&lt;ProductBrand&gt; getByManufacturer(@PathVariable(&quot;manufacturer&quot;) String manufacturer) {\n        List&lt;ProductBrand&gt; brand = this.productBrandRepository.findByManufacturer(manufacturer);\n\n        return brand;\n    }\n\n    @GetMapping(&quot;/productBrand/{category}&quot;)\n    public List&lt;ProductBrand&gt; getByCategory(@PathVariable(&quot;category&quot;) String category) {\n        List&lt;ProductBrand&gt; brand = this.productBrandRepository.findByCategory(category);\n\n        return brand;\n    }\n\n    @GetMapping(&quot;/productBrand/{seasonal}&quot;)\n    public List&lt;ProductBrand&gt; getBySeasonal(@PathVariable(&quot;seasonal&quot;) boolean seasonal) {\n        List&lt;ProductBrand&gt; brand = this.productBrandRepository.findBySeasonal(seasonal);\n\n        return brand;\n    }\n\n    @GetMapping(&quot;/productBrand/{frozenGoods}&quot;)\n    public List&lt;ProductBrand&gt; getByFrozenGoods(@PathVariable(&quot;frozenGoods&quot;) boolean frozenGoods) {\n        List&lt;ProductBrand&gt; brand = this.productBrandRepository.findByFrozenGoods(frozenGoods);\n\n        return brand;\n    }\n\n    @GetMapping(&quot;/productBrand/{refrigeratedGoods}&quot;)\n    public List&lt;ProductBrand&gt; getByRefrigeratedGoods(@PathVariable(&quot;refrigeratedGoods&quot;) boolean refrigeratedGoods) {\n        List&lt;ProductBrand&gt; brand = this.productBrandRepository.findByRefrigeratedGoods(refrigeratedGoods);\n\n        return brand;\n    }\n\n    @GetMapping(&quot;/productBrand/{available}&quot;)\n    public List&lt;ProductBrand&gt; getByAvailable(@PathVariable(&quot;available&quot;) boolean available) {\n        List&lt;ProductBrand&gt; brand = this.productBrandRepository.findByAvailable(available);\n\n        return brand;\n    }\n\n\n    @GetMapping(&quot;/recommended&quot;)\n    public List&lt;ProductBrand&gt; getRecommended() {\n        final boolean isOrganic = true;\n        final boolean isSeasonal = true;\n\n        QProductBrand qBrand = new QProductBrand(&quot;ProductBrand&quot;);\n    \n        BooleanExpression filterByOrganic = (qBrand.organicIndex).any().organic.gt(isOrganic);\n\n        BooleanExpression filterBySeasonal = (qBrand.seasonalIndex).any().seasonal.gt(isSeasonal);\n\n        List&lt;ProductBrand&gt; brand = (List&lt;ProductBrand&gt;) this.productBrandRepository\n                .findAll(filterByOrganic.and(filterBySeasonal));\n\n        return brand;\n    }\n\n}\n</code></pre>\n<p>This is my repository</p>\n<pre><code>import java.util.List;\n\nimport org.springframework.data.mongodb.repository.MongoRepository;\nimport org.springframework.data.querydsl.QuerydslPredicateExecutor;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface ProductBrandRepository extends MongoRepository&lt;ProductBrand, String&gt;, QuerydslPredicateExecutor&lt;ProductBrand&gt; {\n\n    List&lt;ProductBrand&gt; findByName(String name);\n\n    List&lt;ProductBrand&gt; findByOrganic(boolean organic);\n\n    List&lt;ProductBrand&gt; findBySeasonal(boolean seasonal);\n\n    List&lt;ProductBrand&gt; findByFrozenGoods(boolean frozenGoods);\n\n    List&lt;ProductBrand&gt; findByRefrigeratedGoods(boolean refrigeratedGoods);\n\n    List&lt;ProductBrand&gt; findByAvailable(boolean available);\n\n    List&lt;ProductBrand&gt; findByCategory(String category);\n\n    List&lt;ProductBrand&gt; findByManufacturer(String manufacturer);\n\n}\n</code></pre>\n<p>And this is my pom file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.BETAapp&lt;/groupId&gt;\n    &lt;artifactId&gt;project&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;name&gt;project&lt;/name&gt;\n    &lt;description&gt;demo&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.0.6.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-groovy-templates&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mustache&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.4.0-b180725.0427&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.mongodb.morphia/morphia --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mongodb.morphia&lt;/groupId&gt;\n            &lt;artifactId&gt;morphia&lt;/artifactId&gt;\n            &lt;version&gt;0.107&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.querydsl/querydsl-apt --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n            &lt;artifactId&gt;querydsl-mongodb&lt;/artifactId&gt;\n            &lt;version&gt;4.2.1&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n                    &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.1.3&lt;/version&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n                        &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\n                        &lt;version&gt;4.2.1&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;process&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;target/generated-sources/annotations&lt;/outputDirectory&gt;\n                            &lt;processor&gt;org.springframework.data.mongodb.repository.support.MongoAnnotationProcessor&lt;/processor&gt;\n                            &lt;logOnlyOnError&gt;true&lt;/logOnlyOnError&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n<hr />\n<pre><code>Test set: project.StoreBased.ApplicationTests\n-------------------------------------------------------------------------------\nTests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 11.036 s &lt;&lt;&lt; FAILURE! - in project.StoreBased.ApplicationTests\ncontextLoads(project.StoreBased.ApplicationTests)  Time elapsed: 0.002 s  &lt;&lt;&lt; ERROR!\njava.lang.IllegalStateException: Failed to load ApplicationContext\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'productBrandController' defined in file [C:\\Users\\vince\\Documents\\workspace-spring-tool-suite-4-4.0.1.RELEASE\\project(18.11.2018)\\target\\test-classes\\com\\project\\project\\StoreBased\\ProductBrandController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productBrandRepository': Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.repository.support.QuerydslMongoPredicateExecutor]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Did not find a query class project.StoreBased.QProductBrand for domain class project.StoreBased.ProductBrand!\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productBrandRepository': Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.repository.support.QuerydslMongoPredicateExecutor]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Did not find a query class project.StoreBased.QProductBrand for domain class project.project.StoreBased.ProductBrand!\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.repository.support.QuerydslMongoPredicateExecutor]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Did not find a query class project.StoreBased.QProductBrand for domain class project.StoreBased.ProductBrand!\nCaused by: java.lang.IllegalArgumentException: Did not find a query class project.StoreBased.QProductBrand for domain class project.StoreBased.ProductBrand!\nCaused by: java.lang.ClassNotFoundException: project.StoreBased.QProductBrand\n</code></pre>\n"},{"tags":["java","java-8","jboss","dockerfile"],"owner":{"account_id":25975497,"reputation":129,"user_id":19690010,"display_name":"Andrew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":512,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1661885416,"creation_date":1660903322,"question_id":73415065,"body_markdown":"I built a Docker container for my JBoss application. Container ran in AWS EKS Fargate. I found that an OutOfMemory error occurred after the application ran for several minutes. However, it would be fine if the root user is used rather than the created user. \r\n\r\nMy Dockerfile:\r\n```\r\nFROM openjdk:8u342-oraclelinux8\r\n\r\nENV WILDFLY_VERSION 11.0.0.Final\r\nENV JBOSS_HOME /usr/local/jboss_api\r\nENV HOME /usr/local\r\n    \r\nRUN groupadd -r jboss &amp;&amp; useradd -ms /bin/bash -l -r -g  jboss jboss \\\r\n    &amp;&amp; chown jboss /usr/local\r\n    \r\nUSER jboss\r\n    \r\nWORKDIR ${HOME}\r\nCOPY ./wildfly .\r\nRUN tar -xvf wildfly-$WILDFLY_VERSION.tar.gz\r\nRUN rm ./wildfly-$WILDFLY_VERSION.tar.gz\r\nRUN mv ./wildfly-$WILDFLY_VERSION ./jboss_api \\\r\n    &amp;&amp; mkdir ${JBOSS_HOME}/standalone/configuration/properties\r\n    \r\nWORKDIR ${JBOSS_HOME}\r\nCOPY ./script ./bin\r\nCOPY ./properties ./standalone/configuration\r\nCOPY ./configurations/standalone.conf ./bin/standalone.conf\r\n    \r\nCOPY ./ROOT.war ./standalone/deployments/ROOT.war\r\n    \r\nWORKDIR ${JBOSS_HOME}\r\nCMD ./bin/server.sh start\r\n```\r\nI figured out there is a memory issue for JVM. Therefore `-Xmx2500m` is set in java config.  \r\n`-XX:+UnlockExperimentalVMOptions` and `-XX:+UseCGroupMemoryLimitForHeap` are also added by reading some reference articles but the problem still cannot be solved. \r\n\r\nDoes anyone have an idea about this?\r\n\r\n","title":"Out of Memory Error in OpenJDK Docker Container","body":"<p>I built a Docker container for my JBoss application. Container ran in AWS EKS Fargate. I found that an OutOfMemory error occurred after the application ran for several minutes. However, it would be fine if the root user is used rather than the created user.</p>\n<p>My Dockerfile:</p>\n<pre><code>FROM openjdk:8u342-oraclelinux8\n\nENV WILDFLY_VERSION 11.0.0.Final\nENV JBOSS_HOME /usr/local/jboss_api\nENV HOME /usr/local\n    \nRUN groupadd -r jboss &amp;&amp; useradd -ms /bin/bash -l -r -g  jboss jboss \\\n    &amp;&amp; chown jboss /usr/local\n    \nUSER jboss\n    \nWORKDIR ${HOME}\nCOPY ./wildfly .\nRUN tar -xvf wildfly-$WILDFLY_VERSION.tar.gz\nRUN rm ./wildfly-$WILDFLY_VERSION.tar.gz\nRUN mv ./wildfly-$WILDFLY_VERSION ./jboss_api \\\n    &amp;&amp; mkdir ${JBOSS_HOME}/standalone/configuration/properties\n    \nWORKDIR ${JBOSS_HOME}\nCOPY ./script ./bin\nCOPY ./properties ./standalone/configuration\nCOPY ./configurations/standalone.conf ./bin/standalone.conf\n    \nCOPY ./ROOT.war ./standalone/deployments/ROOT.war\n    \nWORKDIR ${JBOSS_HOME}\nCMD ./bin/server.sh start\n</code></pre>\n<p>I figured out there is a memory issue for JVM. Therefore <code>-Xmx2500m</code> is set in java config.<br />\n<code>-XX:+UnlockExperimentalVMOptions</code> and <code>-XX:+UseCGroupMemoryLimitForHeap</code> are also added by reading some reference articles but the problem still cannot be solved.</p>\n<p>Does anyone have an idea about this?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":365547,"reputation":4033,"user_id":710530,"accept_rate":67,"display_name":"DavidA"},"score":1,"creation_date":1661833354,"post_id":73535770,"comment_id":129858833,"body_markdown":"If you add a matcher for /home, and then rather than .permitAll() instead use .authenticate(), I believe it will do what you want.  Ie., you are restricting access to the /home path to only authenticated users, which will spur spring into sending you to the login form URL if you are not authenticated.  This is a guess, as I am much more familiar with XML spring security config rather than java config.","body":"If you add a matcher for /home, and then rather than .permitAll() instead use .authenticate(), I believe it will do what you want.  Ie., you are restricting access to the /home path to only authenticated users, which will spur spring into sending you to the login form URL if you are not authenticated.  This is a guess, as I am much more familiar with XML spring security config rather than java config."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1661862572,"post_id":73535770,"comment_id":129868134,"body_markdown":"`but when the app starts it immediately goes to my home.jsp` your APP goes to it? is your app automatic? I seriously doubt your app does something, you are doing a request first to what? and then what happens?","body":"<code>but when the app starts it immediately goes to my home.jsp</code> your APP goes to it? is your app automatic? I seriously doubt your app does something, you are doing a request first to what? and then what happens?"},{"owner":{"account_id":14590652,"reputation":13,"user_id":10537893,"display_name":"JebediahKermin"},"score":0,"creation_date":1661876655,"post_id":73535770,"comment_id":129874015,"body_markdown":"@Toerktumlare I use an external version of tomcat with the application context set to &quot;/&quot; so when the app deploys it goes to localhost:8080/ which would open my home page rather than looking for my login authentication page. I have solved this issue with my answer posted down below. Thank you all for your help!","body":"@Toerktumlare I use an external version of tomcat with the application context set to &quot;/&quot; so when the app deploys it goes to localhost:8080/ which would open my home page rather than looking for my login authentication page. I have solved this issue with my answer posted down below. Thank you all for your help!"}],"answers":[{"tags":[],"owner":{"account_id":14590652,"reputation":13,"user_id":10537893,"display_name":"JebediahKermin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661884178,"creation_date":1661876545,"answer_id":73545621,"question_id":73535770,"body_markdown":"**Edit**\r\nAs pointed out by jzheaux down below. The naming convention of the method doesn’t matter. The fix was adding the .anyRequest().authenticated() which makes sure any other page besides the ones I had specified above it require authentication before you’re able to go to them.\r\n\r\nI found what was wrong. I was using filterChain rather than the securityFilterChain. I also modified the method a little bit as shown here\r\n```\r\n@Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests((requests) -&gt; requests\r\n                        .antMatchers(&quot;/login&quot;, &quot;/register&quot;).permitAll()\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .formLogin((form) -&gt; form\r\n                        .loginPage(&quot;/login&quot;)\r\n                        .loginProcessingUrl(&quot;/submit-login&quot;)\r\n                        .permitAll()\r\n                )\r\n                .logout(LogoutConfigurer::permitAll);\r\n\r\n        return http.build();\r\n    }\r\n```\r\nOnce making these changes the app defaulted to opening up my login.jsp for authentication before continuing on. Thank you all for the help.","title":"Spring defaults to my home.jsp rather than going to my login.jsp for authentication","body":"<p><strong>Edit</strong>\nAs pointed out by jzheaux down below. The naming convention of the method doesn’t matter. The fix was adding the .anyRequest().authenticated() which makes sure any other page besides the ones I had specified above it require authentication before you’re able to go to them.</p>\n<p>I found what was wrong. I was using filterChain rather than the securityFilterChain. I also modified the method a little bit as shown here</p>\n<pre><code>@Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests((requests) -&gt; requests\n                        .antMatchers(&quot;/login&quot;, &quot;/register&quot;).permitAll()\n                        .anyRequest().authenticated()\n                )\n                .formLogin((form) -&gt; form\n                        .loginPage(&quot;/login&quot;)\n                        .loginProcessingUrl(&quot;/submit-login&quot;)\n                        .permitAll()\n                )\n                .logout(LogoutConfigurer::permitAll);\n\n        return http.build();\n    }\n</code></pre>\n<p>Once making these changes the app defaulted to opening up my login.jsp for authentication before continuing on. Thank you all for the help.</p>\n"}],"owner":{"account_id":14590652,"reputation":13,"user_id":10537893,"display_name":"JebediahKermin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1661884178,"creation_date":1661817332,"question_id":73535770,"body_markdown":"When I launch my webapp I want spring to redirect to my login.jsp in order to authenticate before it goes to my home.jsp but when the app starts it immediately goes to my home.jsp. I created this SecurityFilterChain which I had thought would default to my login.jsp for authentication.\r\n```\r\n@Configuration\r\npublic class SecurityConfiguration {\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/login&quot;, &quot;/register&quot;).permitAll()\r\n                .and()\r\n                .formLogin()\r\n                    .loginPage(&quot;/login&quot;).permitAll();\r\n        return http.build();\r\n    }\r\n}\r\n```\r\nIf more information is needed please let me know.","title":"Spring defaults to my home.jsp rather than going to my login.jsp for authentication","body":"<p>When I launch my webapp I want spring to redirect to my login.jsp in order to authenticate before it goes to my home.jsp but when the app starts it immediately goes to my home.jsp. I created this SecurityFilterChain which I had thought would default to my login.jsp for authentication.</p>\n<pre><code>@Configuration\npublic class SecurityConfiguration {\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeRequests()\n                .antMatchers(&quot;/login&quot;, &quot;/register&quot;).permitAll()\n                .and()\n                .formLogin()\n                    .loginPage(&quot;/login&quot;).permitAll();\n        return http.build();\n    }\n}\n</code></pre>\n<p>If more information is needed please let me know.</p>\n"},{"tags":["java","spring","hibernate","maven"],"comments":[{"owner":{"account_id":1494810,"reputation":8228,"user_id":1401019,"accept_rate":79,"display_name":"Sundararaj Govindasamy"},"score":1,"creation_date":1489422212,"post_id":42768265,"comment_id":72652643,"body_markdown":"Can you share full stack trace?","body":"Can you share full stack trace?"},{"owner":{"account_id":7730848,"reputation":789,"user_id":5854048,"accept_rate":79,"display_name":"In-young Choung"},"score":0,"creation_date":1489426170,"post_id":42768265,"comment_id":72655186,"body_markdown":"Thank you. I&#39;ve updated it.","body":"Thank you. I&#39;ve updated it."}],"answers":[{"tags":[],"owner":{"account_id":221262,"reputation":2192,"user_id":479136,"accept_rate":60,"display_name":"GauravJ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489471605,"creation_date":1489423158,"answer_id":42768930,"question_id":42768265,"body_markdown":"You need to add `mysql` JDBC jar in your dependencies.\r\n\r\n\r\n----------\r\n\r\n 1. Fix your driver class name as ` com.mysql.jdbc.Driver`.\r\n 2. Fix your username and password property as \r\n\r\n        &quot;connection.username&quot; for database user\r\n        &quot;connection.password&quot; for database user password\r\n\r\n 3. Create mysql database. See [this][1]. \r\n 4. For SSL warning, modify your connection.url to include use ssl false. For example, `jdbc:mysql://localhost:3306/&lt;enter-your-database&gt;?autoReconnect=true&amp;useSSL=false`\r\n\r\n 5. Modify your mysql dialect to `org.hibernate.dialect.MySQLDialect`\r\n 6. Use `&lt;property name=&quot;hbmdl.auto&quot;&gt;create-drop&lt;/property&gt;` instead of `&lt;property name=&quot;hbmdl.auto&quot;&gt;update&lt;/property&gt;` however *do not* use this option in production. You should create schema yourself and not do it via hibernate.\r\n\r\n  [1]: https://dev.mysql.com/doc/refman/5.7/en/create-database.html","title":"Unable to create requested service [org.hibernate .engine.jdbc.env.spi.JdbcEnvironment]-MySQL","body":"<p>You need to add <code>mysql</code> JDBC jar in your dependencies.</p>\n\n<hr>\n\n<ol>\n<li>Fix your driver class name as <code>com.mysql.jdbc.Driver</code>.</li>\n<li><p>Fix your username and password property as </p>\n\n<pre><code>\"connection.username\" for database user\n\"connection.password\" for database user password\n</code></pre></li>\n<li><p>Create mysql database. See <a href=\"https://dev.mysql.com/doc/refman/5.7/en/create-database.html\" rel=\"nofollow noreferrer\">this</a>. </p></li>\n<li><p>For SSL warning, modify your connection.url to include use ssl false. For example, <code>jdbc:mysql://localhost:3306/&lt;enter-your-database&gt;?autoReconnect=true&amp;useSSL=false</code></p></li>\n<li><p>Modify your mysql dialect to <code>org.hibernate.dialect.MySQLDialect</code></p></li>\n<li>Use <code>&lt;property name=\"hbmdl.auto\"&gt;create-drop&lt;/property&gt;</code> instead of <code>&lt;property name=\"hbmdl.auto\"&gt;update&lt;/property&gt;</code> however <em>do not</em> use this option in production. You should create schema yourself and not do it via hibernate.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1781396,"reputation":6599,"user_id":1624035,"accept_rate":65,"display_name":"UdayKiran Pulipati"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1580567165,"creation_date":1566160772,"answer_id":57548214,"question_id":42768265,"body_markdown":"Upgrade MySql driver to [mysql-connector-java - 8.0.17][1] and\r\n\r\nThose who are using **[greater than MySQL 5.5][2]** version \r\n\r\nchange their driver property \r\n\r\nfrom **`com.mysql.jdbc.Driver`** to **`com.mysql.cj.jdbc.Driver`**\r\n\r\nbecause:\r\n\r\n&gt; Loading class com.mysql.jdbc.Driver. This is deprecated. The new\r\n&gt; driver class is com.mysql.cj.jdbc.Driver. The driver is automatically\r\n&gt; registered via the SPI and manual loading of the driver class is\r\n&gt; generally unnecessary.INFO - HHH000401: using driver\r\n&gt; [com.mysql.jdbc.Driver] at URL....\r\n\r\nin **`hibernate.properties`**\r\n\r\n    hibernate.connection.driver_class = com.mysql.cj.jdbc.Driver\r\n\r\n**or** if you are using **`hibernate.cfg.xml`** update\r\n\r\n    &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\r\n\r\n\r\n\r\n  [1]: https://app.box.com/s/hmppqnnfk33hi1o8x2twi1j8j0dc2p3a\r\n  [2]: https://dev.mysql.com/downloads/connector/j/5.1.html","title":"Unable to create requested service [org.hibernate .engine.jdbc.env.spi.JdbcEnvironment]-MySQL","body":"<p>Upgrade MySql driver to <a href=\"https://app.box.com/s/hmppqnnfk33hi1o8x2twi1j8j0dc2p3a\" rel=\"nofollow noreferrer\">mysql-connector-java - 8.0.17</a> and</p>\n\n<p>Those who are using <strong><a href=\"https://dev.mysql.com/downloads/connector/j/5.1.html\" rel=\"nofollow noreferrer\">greater than MySQL 5.5</a></strong> version </p>\n\n<p>change their driver property </p>\n\n<p>from <strong><code>com.mysql.jdbc.Driver</code></strong> to <strong><code>com.mysql.cj.jdbc.Driver</code></strong></p>\n\n<p>because:</p>\n\n<blockquote>\n  <p>Loading class com.mysql.jdbc.Driver. This is deprecated. The new\n  driver class is com.mysql.cj.jdbc.Driver. The driver is automatically\n  registered via the SPI and manual loading of the driver class is\n  generally unnecessary.INFO - HHH000401: using driver\n  [com.mysql.jdbc.Driver] at URL....</p>\n</blockquote>\n\n<p>in <strong><code>hibernate.properties</code></strong></p>\n\n<pre><code>hibernate.connection.driver_class = com.mysql.cj.jdbc.Driver\n</code></pre>\n\n<p><strong>or</strong> if you are using <strong><code>hibernate.cfg.xml</code></strong> update</p>\n\n<pre><code>&lt;property name=\"connection.driver_class\"&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16255836,"reputation":41,"user_id":11738494,"display_name":"Beginner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1567049773,"creation_date":1567049773,"answer_id":57702655,"question_id":42768265,"body_markdown":"Use HSQLDialect not MYSQLDialect\r\n\r\n```\r\nspring.jpa.database-platform=org.hibernate.dialect.HSQLDialect\r\nspring.jpa.hibernate.ddl-auto=none\r\nspring.jpa.show-sql=true\r\n\r\n\r\nspring.datasource.url=jdbc:mysql://localhost:3306/xyz?serverTimezone=CST6CDT\r\nspring.datasource.username=root\r\nspring.datasource.password=root\r\nspring.datasource.driverClassName=com.mysql.cj.jdbc.Driver\r\n```\r\n","title":"Unable to create requested service [org.hibernate .engine.jdbc.env.spi.JdbcEnvironment]-MySQL","body":"<p>Use HSQLDialect not MYSQLDialect</p>\n\n<pre><code>spring.jpa.database-platform=org.hibernate.dialect.HSQLDialect\nspring.jpa.hibernate.ddl-auto=none\nspring.jpa.show-sql=true\n\n\nspring.datasource.url=jdbc:mysql://localhost:3306/xyz?serverTimezone=CST6CDT\nspring.datasource.username=root\nspring.datasource.password=root\nspring.datasource.driverClassName=com.mysql.cj.jdbc.Driver\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7849399,"reputation":860,"user_id":5933317,"display_name":"Kapil Thakkar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1568899726,"creation_date":1568899726,"answer_id":58012190,"question_id":42768265,"body_markdown":"`connection.driver_class` property must be compatible with `mysql-connector` jar.\r\n\r\n`mysql-connector` &lt; `5.5.xx` use `com.mysql.jdbc.Driver`\r\n\r\n`mysql-connector` &gt; `5.5.xx` use `com.mysql.cj.jdbc.Driver`\r\n\r\n\r\n\r\n ","title":"Unable to create requested service [org.hibernate .engine.jdbc.env.spi.JdbcEnvironment]-MySQL","body":"<p><code>connection.driver_class</code> property must be compatible with <code>mysql-connector</code> jar.</p>\n\n<p><code>mysql-connector</code> &lt; <code>5.5.xx</code> use <code>com.mysql.jdbc.Driver</code></p>\n\n<p><code>mysql-connector</code> > <code>5.5.xx</code> use <code>com.mysql.cj.jdbc.Driver</code></p>\n"},{"tags":[],"owner":{"account_id":8286732,"reputation":93,"user_id":6229631,"display_name":"jingyuan iu"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1576825985,"creation_date":1576822068,"answer_id":59420566,"question_id":42768265,"body_markdown":"     &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/test?serverTimezone=UTC&lt;/property&gt;\r\n\r\nYou need  to set  `serverTimezone`.","title":"Unable to create requested service [org.hibernate .engine.jdbc.env.spi.JdbcEnvironment]-MySQL","body":"<pre><code> &lt;property name=\"connection.url\"&gt;jdbc:mysql://localhost:3306/test?serverTimezone=UTC&lt;/property&gt;\n</code></pre>\n\n<p>You need  to set  <code>serverTimezone</code>.</p>\n"},{"tags":[],"owner":{"account_id":5084916,"reputation":303,"user_id":4079977,"accept_rate":50,"display_name":"MishraJi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582734577,"creation_date":1582734577,"answer_id":60418416,"question_id":42768265,"body_markdown":"I had the same issue when I deployed my war file to tomcat in my demo environment.\r\nMy application was not getting started because, in my /tomcat/webapp/ROOT folder, I found my war file Myapp.war there. \r\ni.e. In my ROOT folder, it has\r\nWEB-INF, META-INF, and Myapp.war, which caused the startup issue.\r\nI deleted the war file and it worked.","title":"Unable to create requested service [org.hibernate .engine.jdbc.env.spi.JdbcEnvironment]-MySQL","body":"<p>I had the same issue when I deployed my war file to tomcat in my demo environment.\nMy application was not getting started because, in my /tomcat/webapp/ROOT folder, I found my war file Myapp.war there. \ni.e. In my ROOT folder, it has\nWEB-INF, META-INF, and Myapp.war, which caused the startup issue.\nI deleted the war file and it worked.</p>\n"},{"tags":[],"owner":{"account_id":18684513,"reputation":21,"user_id":13620344,"display_name":"Paolo Guagliumi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661883263,"creation_date":1661883263,"answer_id":73546869,"question_id":42768265,"body_markdown":"I had the same problem: the mistake I was making was having a double line defined between the properties. So you have to be very careful that the main connection properties are correct.\r\n\r\nSecondly, make sure that the specified dialect is correct for the DB version you are using. To see the various dialects you need to go to the hibernate-core-5.3.1.Final.jar file and from there look for the org.hybernate.dialect package which lists the various dialects available.\r\n\r\n    &lt;hibernate-configuration&gt;\r\n    \t&lt;session-factory&gt;\r\n    \t\t&lt;!-- Database connection settings --&gt;\r\n    \t\t&lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n    \t\t&lt;!-- property name=&quot;connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property  com.mysql.cj.jdbc.Driver --&gt;\r\n    \t\t&lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/test&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;connection.password&quot;&gt;mypassword&lt;/property&gt;\r\n    \r\n    \t\t&lt;!-- JDBC connection pool (use the built-in) --&gt;\r\n    \t\t&lt;property name=&quot;connection.pool_size&quot;&gt;1&lt;/property&gt;\r\n    \r\n    \t\t&lt;!-- SQL dialect --&gt;\r\n    \t\t&lt;!--&lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;--&gt;\r\n    \t\t&lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\r\n    \r\n    \t\t&lt;!-- Disable the second-level cache --&gt;\r\n    \t\t&lt;property name=&quot;cache.provider_class&quot;&gt;org.hibernate.cache.internal.NoCacheProvider&lt;/property&gt;\r\n    \r\n    \t\t&lt;!-- Echo all executed SQL to stdout --&gt;\r\n    \t\t&lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt; \r\n    \t\t&lt;property name=&quot;format_sql&quot;&gt;true&lt;/property&gt;\r\n    \r\n    \t\t&lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n    \r\n    \t\t&lt;!-- Drop and re-create the database schema on startup --&gt;\r\n    \t\t&lt;property name=&quot;hbm2ddl.auto&quot;&gt;update&lt;/property&gt;  \r\n    \r\n    \t\t&lt;!-- Names the annotated entity class --&gt;\r\n    \t\t&lt;mapping class=&quot;org.test.connection.UserDetails&quot; /&gt;\r\n    \r\n    \t&lt;/session-factory&gt;\r\n    \r\n    &lt;/hibernate-configuration&gt;","title":"Unable to create requested service [org.hibernate .engine.jdbc.env.spi.JdbcEnvironment]-MySQL","body":"<p>I had the same problem: the mistake I was making was having a double line defined between the properties. So you have to be very careful that the main connection properties are correct.</p>\n<p>Secondly, make sure that the specified dialect is correct for the DB version you are using. To see the various dialects you need to go to the hibernate-core-5.3.1.Final.jar file and from there look for the org.hybernate.dialect package which lists the various dialects available.</p>\n<pre><code>&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;!-- Database connection settings --&gt;\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n        &lt;!-- property name=&quot;connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property  com.mysql.cj.jdbc.Driver --&gt;\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/test&lt;/property&gt;\n        &lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\n        &lt;property name=&quot;connection.password&quot;&gt;mypassword&lt;/property&gt;\n\n        &lt;!-- JDBC connection pool (use the built-in) --&gt;\n        &lt;property name=&quot;connection.pool_size&quot;&gt;1&lt;/property&gt;\n\n        &lt;!-- SQL dialect --&gt;\n        &lt;!--&lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;--&gt;\n        &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\n\n        &lt;!-- Disable the second-level cache --&gt;\n        &lt;property name=&quot;cache.provider_class&quot;&gt;org.hibernate.cache.internal.NoCacheProvider&lt;/property&gt;\n\n        &lt;!-- Echo all executed SQL to stdout --&gt;\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt; \n        &lt;property name=&quot;format_sql&quot;&gt;true&lt;/property&gt;\n\n        &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\n\n        &lt;!-- Drop and re-create the database schema on startup --&gt;\n        &lt;property name=&quot;hbm2ddl.auto&quot;&gt;update&lt;/property&gt;  \n\n        &lt;!-- Names the annotated entity class --&gt;\n        &lt;mapping class=&quot;org.test.connection.UserDetails&quot; /&gt;\n\n    &lt;/session-factory&gt;\n\n&lt;/hibernate-configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":7730848,"reputation":789,"user_id":5854048,"accept_rate":79,"display_name":"In-young Choung"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96411,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":7,"score":8,"last_activity_date":1661883263,"creation_date":1489421218,"question_id":42768265,"body_markdown":"I am a newbie to Hibernate. I am currently using Spring boot framework and trying to create database tables through hibernate.\r\n\r\nI know the same question is asked before but I can&#39;t seem to figure out how to fix the error based on my environment.\r\n\r\n\r\n\r\nhibernate.cfg.xml\r\n\r\n    &lt;hibernate-configuration&gt;\r\n\t&lt;session-factory&gt;\r\n\t\t&lt;!-- Database connection settings --&gt;\r\n\t\t&lt;property name=&quot;connection.driver_class&quot;&gt;org.mm.mysql.Driver&lt;/property&gt;\r\n\t\t&lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306&lt;/property&gt;\r\n\t\t&lt;property name=&quot;connection_userid&quot;&gt;user&lt;/property&gt;\r\n\t\t&lt;property name=&quot;connection_pwd&quot;&gt;pass&lt;/property&gt;\r\n\r\n\t\t&lt;!-- JDBC connection pool (use the built-in) --&gt;\r\n\t\t&lt;property name=&quot;connection_pool_size&quot;&gt;true&lt;/property&gt;\r\n\r\n\t\t&lt;!-- SQL dialect --&gt;\r\n\t\t&lt;property name=&quot;dialect&quot;&gt;org.hibernate.MySQLDialect&lt;/property&gt;\r\n\r\n\t\t&lt;!-- Disable the second-level cache --&gt;\r\n\t\t&lt;property name=&quot;cache.provider_class&quot;&gt;org.hibernate.NoCacheProvider&lt;/property&gt;\r\n\r\n\t\t&lt;!-- Echo all executed SQL to stdout --&gt;\r\n\t\t&lt;property name=&quot;show_sql&quot;&gt;1&lt;/property&gt;\r\n\r\n\t\t&lt;!-- Drop and re-create the database schema on startup --&gt;\r\n\t\t&lt;property name=&quot;hbmdl.auto&quot;&gt;update&lt;/property&gt;\r\n\r\n\t\t&lt;!-- Names the annotated entity class --&gt;\r\n\t\t&lt;mapping class=&quot;com.test.springboot.model.AdultParticipant&quot; /&gt;\r\n\r\n\t&lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n\r\n\r\n\r\nmain class\r\n\r\n         public static void main(String[] args) throws Exception {\r\n        SpringApplication.run(WebApplication.class, args);\r\n        \r\n        Configuration cfg = new Configuration();\r\n    \tcfg.configure(&quot;hibernate.cfg.xml&quot;);\r\n    \tSessionFactory factory = cfg.buildSessionFactory();\r\n    \t\r\n    \tSession session = factory.openSession();\r\n    \tTransaction t = session.beginTransaction();\r\n    \t\r\n    \tAdultParticipant ap = new AdultParticipant();\r\n\t\tap.setFirstName(&quot;User&quot;); \r\n\t\tap.setLastName(&quot;UserLastName&quot;);\r\n    \t\r\n\t\tsession.persist(ap);\r\n\t\t\r\n\t\tt.commit();\r\n\t\t\r\n\t\tsession.close();\r\n\t\tSystem.out.println(&quot;successfully saved&quot;);\r\n\r\n\r\nPOJO class\r\n\r\n    @Entity\r\n    @Table(name = &quot;adultparticipant&quot;)\r\n    public class AdultParticipant {\r\n\t\r\n\t@GeneratedValue\r\n\t@Id\r\n\t@Column (name = &quot;id&quot;)\r\n\tprivate int id;\r\n\t\r\n\t@Column (name = &quot;firstName&quot;)\r\n\tprivate String firstName;\r\n\t\r\n\t@Column (name = &quot;lastName&quot;)\r\n\tprivate String lastName;\r\n\t\r\n\t\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\t\r\n\r\n\tpublic String getFirstName() {\r\n\t\treturn firstName;\r\n\t}\r\n\tpublic void setFirstName(String firstName) {\r\n\t\tthis.firstName = firstName;\r\n\t}\r\n\t\r\n\tpublic String getLastName() {\r\n\t\treturn lastName;\r\n\t}\r\n\tpublic void setLastName(String lastName) {\r\n\t\tthis.lastName = lastName;\r\n\t  }\r\n    }\r\n\r\n\r\nDAOImpl class\r\n\r\n      public class AdultParticipantDAOImpl implements AdultParticipantDAO{\r\n\tprivate SessionFactory sessionFactory;\r\n\tpublic void setSessionFactory(SessionFactory sessionFactory) {\r\n\t\tthis.sessionFactory = sessionFactory;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void save(AdultParticipant ap) {\r\n\t\tSession session = this.sessionFactory.openSession();\r\n\t\tTransaction tx = session.beginTransaction();\r\n\t\tsession.persist(ap);\r\n\t\ttx.commit();\r\n\t\tsession.close();\r\n\t}\r\n\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t@Override\r\n\tpublic List&lt;AdultParticipant&gt; list() {\r\n\t\tSession session = this.sessionFactory.openSession();\r\n\t\tList&lt;AdultParticipant&gt; adultParticipants = session.createQuery(&quot;from AdultParticipant&quot;).list();\r\n\t\tsession.close();\r\n\t\treturn adultParticipants;\r\n\t }\r\n    }\r\n\r\n\r\nDAO class\r\n      \r\n    public interface AdultParticipantDAO {\r\n\t\r\n\tpublic void save(AdultParticipant p);\r\n\t\r\n\tpublic List&lt;AdultParticipant&gt; list();\r\n\r\n    }\r\n\r\n\r\nPOM.xml\r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n     &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;artifactId&gt;hello-springboot&lt;/artifactId&gt;\r\n\t&lt;name&gt;hello-springboot&lt;/name&gt;\r\n\t&lt;description&gt;hello-springboot&lt;/description&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.3.5.RELEASE&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.1.40&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n\r\nERROR in Console  \r\n\r\n    2017-03-13 11:48:40.512  WARN 9532 --- [           main] org.hibernate.orm.connections.pooling    : HHH10001002: Using H\r\n    ibernate built-in connection pool (not for production use!)\r\n    Exception in thread &quot;main&quot; org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate\r\n    .engine.jdbc.env.spi.JdbcEnvironment]\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:271)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:233)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210)\r\n    \tat org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:51)","title":"Unable to create requested service [org.hibernate .engine.jdbc.env.spi.JdbcEnvironment]-MySQL","body":"<p>I am a newbie to Hibernate. I am currently using Spring boot framework and trying to create database tables through hibernate.</p>\n\n<p>I know the same question is asked before but I can't seem to figure out how to fix the error based on my environment.</p>\n\n<p>hibernate.cfg.xml</p>\n\n<pre><code>&lt;hibernate-configuration&gt;\n&lt;session-factory&gt;\n    &lt;!-- Database connection settings --&gt;\n    &lt;property name=\"connection.driver_class\"&gt;org.mm.mysql.Driver&lt;/property&gt;\n    &lt;property name=\"connection.url\"&gt;jdbc:mysql://localhost:3306&lt;/property&gt;\n    &lt;property name=\"connection_userid\"&gt;user&lt;/property&gt;\n    &lt;property name=\"connection_pwd\"&gt;pass&lt;/property&gt;\n\n    &lt;!-- JDBC connection pool (use the built-in) --&gt;\n    &lt;property name=\"connection_pool_size\"&gt;true&lt;/property&gt;\n\n    &lt;!-- SQL dialect --&gt;\n    &lt;property name=\"dialect\"&gt;org.hibernate.MySQLDialect&lt;/property&gt;\n\n    &lt;!-- Disable the second-level cache --&gt;\n    &lt;property name=\"cache.provider_class\"&gt;org.hibernate.NoCacheProvider&lt;/property&gt;\n\n    &lt;!-- Echo all executed SQL to stdout --&gt;\n    &lt;property name=\"show_sql\"&gt;1&lt;/property&gt;\n\n    &lt;!-- Drop and re-create the database schema on startup --&gt;\n    &lt;property name=\"hbmdl.auto\"&gt;update&lt;/property&gt;\n\n    &lt;!-- Names the annotated entity class --&gt;\n    &lt;mapping class=\"com.test.springboot.model.AdultParticipant\" /&gt;\n\n&lt;/session-factory&gt;\n</code></pre>\n\n<p></p>\n\n<p>main class</p>\n\n<pre><code>     public static void main(String[] args) throws Exception {\n    SpringApplication.run(WebApplication.class, args);\n\n    Configuration cfg = new Configuration();\n    cfg.configure(\"hibernate.cfg.xml\");\n    SessionFactory factory = cfg.buildSessionFactory();\n\n    Session session = factory.openSession();\n    Transaction t = session.beginTransaction();\n\n    AdultParticipant ap = new AdultParticipant();\n    ap.setFirstName(\"User\"); \n    ap.setLastName(\"UserLastName\");\n\n    session.persist(ap);\n\n    t.commit();\n\n    session.close();\n    System.out.println(\"successfully saved\");\n</code></pre>\n\n<p>POJO class</p>\n\n<pre><code>@Entity\n@Table(name = \"adultparticipant\")\npublic class AdultParticipant {\n\n@GeneratedValue\n@Id\n@Column (name = \"id\")\nprivate int id;\n\n@Column (name = \"firstName\")\nprivate String firstName;\n\n@Column (name = \"lastName\")\nprivate String lastName;\n\n\npublic int getId() {\n    return id;\n}\npublic void setId(int id) {\n    this.id = id;\n}\n\n\npublic String getFirstName() {\n    return firstName;\n}\npublic void setFirstName(String firstName) {\n    this.firstName = firstName;\n}\n\npublic String getLastName() {\n    return lastName;\n}\npublic void setLastName(String lastName) {\n    this.lastName = lastName;\n  }\n}\n</code></pre>\n\n<p>DAOImpl class</p>\n\n<pre><code>  public class AdultParticipantDAOImpl implements AdultParticipantDAO{\nprivate SessionFactory sessionFactory;\npublic void setSessionFactory(SessionFactory sessionFactory) {\n    this.sessionFactory = sessionFactory;\n}\n\n@Override\npublic void save(AdultParticipant ap) {\n    Session session = this.sessionFactory.openSession();\n    Transaction tx = session.beginTransaction();\n    session.persist(ap);\n    tx.commit();\n    session.close();\n}\n\n@SuppressWarnings(\"unchecked\")\n@Override\npublic List&lt;AdultParticipant&gt; list() {\n    Session session = this.sessionFactory.openSession();\n    List&lt;AdultParticipant&gt; adultParticipants = session.createQuery(\"from AdultParticipant\").list();\n    session.close();\n    return adultParticipants;\n }\n}\n</code></pre>\n\n<p>DAO class</p>\n\n<pre><code>public interface AdultParticipantDAO {\n\npublic void save(AdultParticipant p);\n\npublic List&lt;AdultParticipant&gt; list();\n\n}\n</code></pre>\n\n<p>POM.xml</p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n &lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;artifactId&gt;hello-springboot&lt;/artifactId&gt;\n&lt;name&gt;hello-springboot&lt;/name&gt;\n&lt;description&gt;hello-springboot&lt;/description&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.3.5.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;5.1.40&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n\n<p>ERROR in Console  </p>\n\n<pre><code>2017-03-13 11:48:40.512  WARN 9532 --- [           main] org.hibernate.orm.connections.pooling    : HHH10001002: Using H\nibernate built-in connection pool (not for production use!)\nException in thread \"main\" org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate\n.engine.jdbc.env.spi.JdbcEnvironment]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:271)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:233)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210)\n    at org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:51)\n</code></pre>\n"},{"tags":["java","binding","dagger-2","dagger"],"comments":[{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":0,"creation_date":1661798678,"post_id":73507120,"comment_id":129852747,"body_markdown":"Duped against [a previous question I answered](https://stackoverflow.com/questions/50483569/default-implementation-using-dagger-if-named-not-found) (which I recently edited with this question in mind). If this isn&#39;t applicable to your case, let me know and I can reopen.","body":"Duped against <a href=\"https://stackoverflow.com/questions/50483569/default-implementation-using-dagger-if-named-not-found\">a previous question I answered</a> (which I recently edited with this question in mind). If this isn&#39;t applicable to your case, let me know and I can reopen."},{"owner":{"account_id":33485,"reputation":18869,"user_id":93796,"accept_rate":55,"display_name":"user93796"},"score":0,"creation_date":1661881329,"post_id":73507120,"comment_id":129875811,"body_markdown":"This is the the case. My case is different. I want dagger to inject default binding if Named is NOT specified. If Named is specified use that","body":"This is the the case. My case is different. I want dagger to inject default binding if Named is NOT specified. If Named is specified use that"},{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":0,"creation_date":1661883031,"post_id":73507120,"comment_id":129876348,"body_markdown":"Reopened as requested, but the case isn&#39;t different. `@Poison Apple` and `Apple` are as independent as `Apple` and `Orange`. It&#39;s just another binding to provide.","body":"Reopened as requested, but the case isn&#39;t different. <code>@Poison Apple</code> and <code>Apple</code> are as independent as <code>Apple</code> and <code>Orange</code>. It&#39;s just another binding to provide."}],"answers":[{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661882885,"creation_date":1661882885,"answer_id":73546813,"question_id":73507120,"body_markdown":"This is the same case as [the dupe I had linked](https://stackoverflow.com/questions/50483569/default-implementation-using-dagger-if-named-not-found): `@Named(&quot;B&quot;) Base` and `Base` are entirely different bindings to Dagger, so there&#39;s no &quot;default&quot; to set, just a different injection to bind.\r\n\r\nThe best you can do is to use `@Binds` or `@Provides` to bind `Base`, which won&#39;t conflict with `@Named(&quot;B&quot;) Base`.\r\n\r\n```\r\n// Base injections without a @Named annotation should act as if they&#39;re @Named(&quot;B&quot;).\r\n@Binds abstract Base bindBase(@Named(&quot;B&quot;) Base bBase);\r\n```","title":"Use one binding as default when multiple bindings are present in Dagger","body":"<p>This is the same case as <a href=\"https://stackoverflow.com/questions/50483569/default-implementation-using-dagger-if-named-not-found\">the dupe I had linked</a>: <code>@Named(&quot;B&quot;) Base</code> and <code>Base</code> are entirely different bindings to Dagger, so there's no &quot;default&quot; to set, just a different injection to bind.</p>\n<p>The best you can do is to use <code>@Binds</code> or <code>@Provides</code> to bind <code>Base</code>, which won't conflict with <code>@Named(&quot;B&quot;) Base</code>.</p>\n<pre><code>// Base injections without a @Named annotation should act as if they're @Named(&quot;B&quot;).\n@Binds abstract Base bindBase(@Named(&quot;B&quot;) Base bBase);\n</code></pre>\n"}],"owner":{"account_id":33485,"reputation":18869,"user_id":93796,"accept_rate":55,"display_name":"user93796"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661882885,"creation_date":1661554235,"question_id":73507120,"body_markdown":"I have two bindings for a single BaseClass. For example\r\n\r\n    class Base{\r\n    }\r\n    \r\n    class A extends Base{}\r\n    \r\n    class C extends Base{}\r\n    \r\n    @Provides\r\n    @Singleton\r\n    @Named(&quot;b&quot;\r\n    Base provideA(){\r\n      return A;\r\n    }\r\n    \r\n    @Provides\r\n    @Singleton\r\n    @Named(&quot;b&quot;)\r\n    Base provideB(){\r\n     return B;\r\n    }\r\n\r\nI dont want to sepcify @Named(&quot;b&quot;) in all the places which needs Base as dependency, but bidining named &quot;B&quot; should be used by default unless explicitly @Named is specified.\r\n\r\n        class BaseUSer{\r\n        \r\n         //I dont want to annotate base variable in all places @Named, but by default it should use @Named b\r\n    @Inject\r\n         public BaseUser(Base /*should use b*/ b, Base @Named(&quot;a&quot;) a){\r\n          \r\n         }\r\n\r\n\r\n","title":"Use one binding as default when multiple bindings are present in Dagger","body":"<p>I have two bindings for a single BaseClass. For example</p>\n<pre><code>class Base{\n}\n\nclass A extends Base{}\n\nclass C extends Base{}\n\n@Provides\n@Singleton\n@Named(&quot;b&quot;\nBase provideA(){\n  return A;\n}\n\n@Provides\n@Singleton\n@Named(&quot;b&quot;)\nBase provideB(){\n return B;\n}\n</code></pre>\n<p>I dont want to sepcify @Named(&quot;b&quot;) in all the places which needs Base as dependency, but bidining named &quot;B&quot; should be used by default unless explicitly @Named is specified.</p>\n<pre><code>    class BaseUSer{\n    \n     //I dont want to annotate base variable in all places @Named, but by default it should use @Named b\n@Inject\n     public BaseUser(Base /*should use b*/ b, Base @Named(&quot;a&quot;) a){\n      \n     }\n</code></pre>\n"},{"tags":["java","java-8","functional-interface"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":7,"creation_date":1423515193,"post_id":28417262,"comment_id":45171406,"body_markdown":"Each Page of the API Doc has a link labelled “USE” at the top which you can click for [`Consumer`](http://docs.oracle.com/javase/8/docs/api/java/util/function/class-use/Consumer.html) and [`Supplier`](http://docs.oracle.com/javase/8/docs/api/java/util/function/class-use/Supplier.html) You may also search the [tutorial](http://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html) for `Consumer`…","body":"Each Page of the API Doc has a link labelled “USE” at the top which you can click for <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/function/class-use/Consumer.html\" rel=\"nofollow noreferrer\"><code>Consumer</code></a> and <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/function/class-use/Supplier.html\" rel=\"nofollow noreferrer\"><code>Supplier</code></a> You may also search the <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">tutorial</a> for <code>Consumer</code>…"},{"owner":{"account_id":291702,"reputation":989,"user_id":1232197,"accept_rate":73,"display_name":"anton1980"},"score":15,"creation_date":1550279360,"post_id":28417262,"comment_id":96223446,"body_markdown":"I love the answer by Stuart Marks. And I think most people who answered below missed the point. The question is not &quot;how&quot; to write Suppliers, Consumers and Functions. It is &quot;why&quot; in the world would you want to? For a person who is not used to them, they make the code much more complex. But the benefit of using them is not clear.","body":"I love the answer by Stuart Marks. And I think most people who answered below missed the point. The question is not &quot;how&quot; to write Suppliers, Consumers and Functions. It is &quot;why&quot; in the world would you want to? For a person who is not used to them, they make the code much more complex. But the benefit of using them is not clear."},{"owner":{"account_id":7690023,"reputation":744,"user_id":5826609,"accept_rate":20,"display_name":"Trunk"},"score":0,"creation_date":1562503781,"post_id":28417262,"comment_id":100386913,"body_markdown":"As far as I can see (and I share your frustration with the tangential descriptions) it&#39;s just a slick way of abstracting both object-type and object-treatment from an object used in a piece of code. This allows application of this same code to many different types of object by simply defining different new classes and injecting them into the Supplier and Consumer interfaces. So, in a police record system, the same superficial code is used for all suspects but the final printout for each depends on each suspect&#39;s classification, e.g. &#39;citizen&#39;, &#39;petty&#39;, &#39;larcen&#39;, &#39;felon&#39;, &#39;hardened&#39;, etc.","body":"As far as I can see (and I share your frustration with the tangential descriptions) it&#39;s just a slick way of abstracting both object-type and object-treatment from an object used in a piece of code. This allows application of this same code to many different types of object by simply defining different new classes and injecting them into the Supplier and Consumer interfaces. So, in a police record system, the same superficial code is used for all suspects but the final printout for each depends on each suspect&#39;s classification, e.g. &#39;citizen&#39;, &#39;petty&#39;, &#39;larcen&#39;, &#39;felon&#39;, &#39;hardened&#39;, etc."}],"answers":[{"tags":[],"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"down_vote_count":2,"up_vote_count":119,"is_accepted":true,"score":117,"last_activity_date":1638732595,"creation_date":1423511014,"answer_id":28417951,"question_id":28417262,"body_markdown":"This is Supplier:\r\n\r\n    public Integer getInteger() {\r\n        return new Random().nextInt();\r\n    }\r\n\r\nThis is Consumer:\r\n\r\n    public void sum(Integer a, Integer b) {\r\n        System.out.println(a + b);\r\n    }\r\n\r\nSo in layman terms, a supplier is a method that returns some value (as in its return value). Whereas, a consumer is a method that consumes some value (as in method argument), and does some operations on them.\r\n\r\nThose will transform to something like these:\r\n\r\n    // new operator itself is a supplier, of the reference to the newly created object\r\n    Supplier&lt;List&lt;String&gt;&gt; listSupplier = ArrayList::new;\r\n    Consumer&lt;String&gt; printConsumer = a1 -&gt; System.out.println(a1);\r\n    BiConsumer&lt;Integer, Integer&gt; sumConsumer = (a1, a2) -&gt; System.out.println(a1 + a2);\r\n\r\nAs for usage, the very basic example would be: [`Stream#forEach(Consumer)`][1] method. It takes a Consumer, which consumes the element from the stream you&#39;re iterating upon, and performs some action on each of them. Probably print them.\r\n\r\n    Consumer&lt;String&gt; stringConsumer = (s) -&gt; System.out.println(s.length());\r\n    Arrays.asList(&quot;ab&quot;, &quot;abc&quot;, &quot;a&quot;, &quot;abcd&quot;).stream().forEach(stringConsumer);\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#forEach-java.util.function.Consumer-","title":"When and why would you use Java&#39;s Supplier and Consumer interfaces?","body":"<p>This is Supplier:</p>\n<pre><code>public Integer getInteger() {\n    return new Random().nextInt();\n}\n</code></pre>\n<p>This is Consumer:</p>\n<pre><code>public void sum(Integer a, Integer b) {\n    System.out.println(a + b);\n}\n</code></pre>\n<p>So in layman terms, a supplier is a method that returns some value (as in its return value). Whereas, a consumer is a method that consumes some value (as in method argument), and does some operations on them.</p>\n<p>Those will transform to something like these:</p>\n<pre><code>// new operator itself is a supplier, of the reference to the newly created object\nSupplier&lt;List&lt;String&gt;&gt; listSupplier = ArrayList::new;\nConsumer&lt;String&gt; printConsumer = a1 -&gt; System.out.println(a1);\nBiConsumer&lt;Integer, Integer&gt; sumConsumer = (a1, a2) -&gt; System.out.println(a1 + a2);\n</code></pre>\n<p>As for usage, the very basic example would be: <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#forEach-java.util.function.Consumer-\" rel=\"noreferrer\"><code>Stream#forEach(Consumer)</code></a> method. It takes a Consumer, which consumes the element from the stream you're iterating upon, and performs some action on each of them. Probably print them.</p>\n<pre><code>Consumer&lt;String&gt; stringConsumer = (s) -&gt; System.out.println(s.length());\nArrays.asList(&quot;ab&quot;, &quot;abc&quot;, &quot;a&quot;, &quot;abcd&quot;).stream().forEach(stringConsumer);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"down_vote_count":0,"up_vote_count":214,"is_accepted":false,"score":214,"last_activity_date":1423529650,"creation_date":1423529650,"answer_id":28422318,"question_id":28417262,"body_markdown":"The reason you&#39;re having difficulty grasping the meaning of functional interfaces such as those in `java.util.function` is that the interfaces defined here do not have any meaning! They are present primarily to represent *structure*, not *semantics*.\r\n\r\nThis is atypical for most Java APIs. The typical Java API, such as a class or interface, has meaning, and you can develop a mental model for what it represents and use that to understand the operations on it. Consider `java.util.List` for example. A `List` is a container of other objects. They have a sequence and an index. The number of objects contained in the list is returned by `size()`. Each object has an index in the range 0..size-1 (inclusive). The object at index *i* can be retrieved by calling `list.get(i)`. And so forth.\r\n\r\nThe functional interfaces in `java.util.function` don&#39;t have any such meaning. Instead, they&#39;re interfaces that merely represent the *structure* of a function, such as the number of arguments, the number of return values, and (sometimes) whether an argument or return value is a primitive. Thus we have something like `Function&lt;T,R&gt;` which represents a function that takes a single argument of type *T* and returns a value of type *R*. That&#39;s it. What does that function do? Well, it can do anything ... as long as it takes a single argument and returns a single value. That&#39;s why the specification for `Function&lt;T,R&gt;` is little more than &quot;Represents a function that accepts one argument and produces a result.&quot;\r\n\r\nClearly, when we&#39;re writing code, it has meaning, and that meaning has to come from somewhere. In the case of the functional interfaces, the meaning comes from the context in which they&#39;re used. The interface `Function&lt;T,R&gt;` has no meaning in isolation. However, in the `java.util.Map&lt;K,V&gt;` API, there is the following:\r\n\r\n    V computeIfAbsent(K key, Function&lt;K,V&gt; mappingFunction)\r\n\r\n(wildcards elided for brevity)\r\n\r\nAh, this use of `Function` is as a &quot;mapping function&quot;. What does that do? In this context, if `key` is not already present in the map, the mapping function is called and is handed the key and is expected to produce a value, and the resulting key-value pair is inserted into the map.\r\n\r\nSo you can&#39;t look at the specification for `Function` (or any of the other functional interfaces, for that matter) and attempt to discern what they mean. You have to look at where they&#39;re used in other APIs to understand what they mean, and that meaning applies only to that context.","title":"When and why would you use Java&#39;s Supplier and Consumer interfaces?","body":"<p>The reason you're having difficulty grasping the meaning of functional interfaces such as those in <code>java.util.function</code> is that the interfaces defined here do not have any meaning! They are present primarily to represent <em>structure</em>, not <em>semantics</em>.</p>\n\n<p>This is atypical for most Java APIs. The typical Java API, such as a class or interface, has meaning, and you can develop a mental model for what it represents and use that to understand the operations on it. Consider <code>java.util.List</code> for example. A <code>List</code> is a container of other objects. They have a sequence and an index. The number of objects contained in the list is returned by <code>size()</code>. Each object has an index in the range 0..size-1 (inclusive). The object at index <em>i</em> can be retrieved by calling <code>list.get(i)</code>. And so forth.</p>\n\n<p>The functional interfaces in <code>java.util.function</code> don't have any such meaning. Instead, they're interfaces that merely represent the <em>structure</em> of a function, such as the number of arguments, the number of return values, and (sometimes) whether an argument or return value is a primitive. Thus we have something like <code>Function&lt;T,R&gt;</code> which represents a function that takes a single argument of type <em>T</em> and returns a value of type <em>R</em>. That's it. What does that function do? Well, it can do anything ... as long as it takes a single argument and returns a single value. That's why the specification for <code>Function&lt;T,R&gt;</code> is little more than \"Represents a function that accepts one argument and produces a result.\"</p>\n\n<p>Clearly, when we're writing code, it has meaning, and that meaning has to come from somewhere. In the case of the functional interfaces, the meaning comes from the context in which they're used. The interface <code>Function&lt;T,R&gt;</code> has no meaning in isolation. However, in the <code>java.util.Map&lt;K,V&gt;</code> API, there is the following:</p>\n\n<pre><code>V computeIfAbsent(K key, Function&lt;K,V&gt; mappingFunction)\n</code></pre>\n\n<p>(wildcards elided for brevity)</p>\n\n<p>Ah, this use of <code>Function</code> is as a \"mapping function\". What does that do? In this context, if <code>key</code> is not already present in the map, the mapping function is called and is handed the key and is expected to produce a value, and the resulting key-value pair is inserted into the map.</p>\n\n<p>So you can't look at the specification for <code>Function</code> (or any of the other functional interfaces, for that matter) and attempt to discern what they mean. You have to look at where they're used in other APIs to understand what they mean, and that meaning applies only to that context.</p>\n"},{"tags":[],"owner":{"account_id":2281083,"reputation":4871,"user_id":2020820,"display_name":"Steve K"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1558313736,"creation_date":1423625050,"answer_id":28446048,"question_id":28417262,"body_markdown":"A `Supplier` is any method which takes no arguments and returns a value. Its job is literally to supply an instance of an expected class. For instance, every reference to a &#39;getter&#39; method is a `Supplier`\r\n\r\n    public Integer getCount(){\r\n        return this.count;\r\n    }\r\n\r\nIts instance method reference `myClass::getCount` is an instance of `Supplier&lt;Integer&gt;`.\r\n\r\nA `Consumer` is any method which takes arguments and returns nothing. It is invoked for its side-effects. In Java terms, a `Consumer` is an idiom for a `void` method. &#39;setter&#39; methods are a good example:\r\n\r\n    public void setCount(int count){\r\n        this.count = count;\r\n    }\r\n\r\nIts instance method reference `myClass::setCount` is an instance of `Consumer&lt;Integer&gt;` and `IntConsumer`.\r\n\r\nA `Function&lt;A,B&gt;` is any method which takes an argument of one type, and returns another. This can be referred to as a &#39;transformation&#39;. The `Function&lt;A,B&gt;` takes an `A` and returns a `B`. Notable is that for a given value of `A`, the function should always return a specific value of `B`. `A` and `B` can in fact be the same type, such as the following:\r\n\r\n    public Integer addTwo(int i){\r\n        return i+2;\r\n    }\r\n\r\nIts instance method reference `myClass:addTwo` is a `Function&lt;Integer, Integer&gt;` and a `ToIntFunction&lt;Integer&gt;`.\r\n\r\nA Class method reference to a getter is another example of a function.\r\n\r\n    public Integer getCount(){\r\n        return this.count;\r\n    }\r\n\r\nIts class method reference `MyClass::getCount` is an instance of `Function&lt;MyClass,Integer&gt;` and `ToIntFunction&lt;MyClass&gt;`.","title":"When and why would you use Java&#39;s Supplier and Consumer interfaces?","body":"<p>A <code>Supplier</code> is any method which takes no arguments and returns a value. Its job is literally to supply an instance of an expected class. For instance, every reference to a 'getter' method is a <code>Supplier</code></p>\n\n<pre><code>public Integer getCount(){\n    return this.count;\n}\n</code></pre>\n\n<p>Its instance method reference <code>myClass::getCount</code> is an instance of <code>Supplier&lt;Integer&gt;</code>.</p>\n\n<p>A <code>Consumer</code> is any method which takes arguments and returns nothing. It is invoked for its side-effects. In Java terms, a <code>Consumer</code> is an idiom for a <code>void</code> method. 'setter' methods are a good example:</p>\n\n<pre><code>public void setCount(int count){\n    this.count = count;\n}\n</code></pre>\n\n<p>Its instance method reference <code>myClass::setCount</code> is an instance of <code>Consumer&lt;Integer&gt;</code> and <code>IntConsumer</code>.</p>\n\n<p>A <code>Function&lt;A,B&gt;</code> is any method which takes an argument of one type, and returns another. This can be referred to as a 'transformation'. The <code>Function&lt;A,B&gt;</code> takes an <code>A</code> and returns a <code>B</code>. Notable is that for a given value of <code>A</code>, the function should always return a specific value of <code>B</code>. <code>A</code> and <code>B</code> can in fact be the same type, such as the following:</p>\n\n<pre><code>public Integer addTwo(int i){\n    return i+2;\n}\n</code></pre>\n\n<p>Its instance method reference <code>myClass:addTwo</code> is a <code>Function&lt;Integer, Integer&gt;</code> and a <code>ToIntFunction&lt;Integer&gt;</code>.</p>\n\n<p>A Class method reference to a getter is another example of a function.</p>\n\n<pre><code>public Integer getCount(){\n    return this.count;\n}\n</code></pre>\n\n<p>Its class method reference <code>MyClass::getCount</code> is an instance of <code>Function&lt;MyClass,Integer&gt;</code> and <code>ToIntFunction&lt;MyClass&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":4727881,"reputation":1345,"user_id":3824267,"display_name":"Dhruv Rai Puri"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1556799405,"creation_date":1450529833,"answer_id":34371025,"question_id":28417262,"body_markdown":"**Why are Consumer/Supplier/other functional interfaces defined in java.util.function package**: Consumer and Supplier are two, among many, of the in-built functional interfaces provided in Java 8. The purpose of all these in-built functional interfaces is to provide a ready &quot;template&quot; for functional interfaces having common function descriptors(functional method signatures/definitions).\r\n\r\nLets say we have a required to convert a type T to another type R. If we were to pass *any* function defined like this as a parameter to a method, then that method would need to define a Functional Interface whose functional/abstract method takes parameter of type T as input and gives a parameter of type R as output. Now, there could be many scenarios like this and the programmer(s) would end up defining multiple functional interfaces for their needs. To avoid this kind of a scenario, ease programming &amp; bring a common standard in usage of functional interfaces, a set of in-built functional interfaces such as Predicate, Function, Consumer &amp; Supplier have been defined.\r\n\r\n**What does Consumer do**: Consumer functional interface accepts an input, does something with that input and does not give any output. Its definition is like this (from Java Source) - \r\n\r\n    @FunctionalInterface\r\n    public interface Consumer&lt;T&gt; {\r\n     void accept(T t);\r\n    }\r\nHere accept() is the functional\\abstract method which does takes an input and returns no output. So, if you want to input an Integer, do something with it with no output then instead of defining your own interface use an instance of Consumer&lt;Integer&gt;. \r\n\r\n**What does Supplier do**: Supplier functional interface does not take any input but returns an output. Its defined like this(from Java Source) - \r\n\r\n    @FunctionalInterface\r\n    public interface Supplier&lt;T&gt; {\r\n      T get();\r\n    }\r\nWherever you need a function which returns something, say an Integer, but takes no output use an instance of Supplier&lt;Integer&gt;.\r\n\r\nIn case more clarity, along with example usage, of Consumer &amp; Supplier interfaces is needed then you can refer my blog posts on the same - http://www.javabrahman.com/java-8/java-8-java-util-function-consumer-tutorial-with-examples/ **and** http://www.javabrahman.com/java-8/java-8-java-util-function-supplier-tutorial-with-examples/","title":"When and why would you use Java&#39;s Supplier and Consumer interfaces?","body":"<p><strong>Why are Consumer/Supplier/other functional interfaces defined in java.util.function package</strong>: Consumer and Supplier are two, among many, of the in-built functional interfaces provided in Java 8. The purpose of all these in-built functional interfaces is to provide a ready \"template\" for functional interfaces having common function descriptors(functional method signatures/definitions).</p>\n\n<p>Lets say we have a required to convert a type T to another type R. If we were to pass <em>any</em> function defined like this as a parameter to a method, then that method would need to define a Functional Interface whose functional/abstract method takes parameter of type T as input and gives a parameter of type R as output. Now, there could be many scenarios like this and the programmer(s) would end up defining multiple functional interfaces for their needs. To avoid this kind of a scenario, ease programming &amp; bring a common standard in usage of functional interfaces, a set of in-built functional interfaces such as Predicate, Function, Consumer &amp; Supplier have been defined.</p>\n\n<p><strong>What does Consumer do</strong>: Consumer functional interface accepts an input, does something with that input and does not give any output. Its definition is like this (from Java Source) - </p>\n\n<pre><code>@FunctionalInterface\npublic interface Consumer&lt;T&gt; {\n void accept(T t);\n}\n</code></pre>\n\n<p>Here accept() is the functional\\abstract method which does takes an input and returns no output. So, if you want to input an Integer, do something with it with no output then instead of defining your own interface use an instance of Consumer. </p>\n\n<p><strong>What does Supplier do</strong>: Supplier functional interface does not take any input but returns an output. Its defined like this(from Java Source) - </p>\n\n<pre><code>@FunctionalInterface\npublic interface Supplier&lt;T&gt; {\n  T get();\n}\n</code></pre>\n\n<p>Wherever you need a function which returns something, say an Integer, but takes no output use an instance of Supplier.</p>\n\n<p>In case more clarity, along with example usage, of Consumer &amp; Supplier interfaces is needed then you can refer my blog posts on the same - <a href=\"http://www.javabrahman.com/java-8/java-8-java-util-function-consumer-tutorial-with-examples/\" rel=\"noreferrer\">http://www.javabrahman.com/java-8/java-8-java-util-function-consumer-tutorial-with-examples/</a> <strong>and</strong> <a href=\"http://www.javabrahman.com/java-8/java-8-java-util-function-supplier-tutorial-with-examples/\" rel=\"noreferrer\">http://www.javabrahman.com/java-8/java-8-java-util-function-supplier-tutorial-with-examples/</a></p>\n"},{"tags":[],"owner":{"account_id":4159728,"reputation":469,"user_id":3410093,"display_name":"lalitbhagtani"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1486468050,"creation_date":1486468050,"answer_id":42089111,"question_id":28417262,"body_markdown":"In Laymen terms,\r\n\r\nsupplier will supply data but without consuming any data. In programming terms a method which doesn&#39;t take any argument but return a value. It is used to generate new values.\r\n\r\nhttp://codedestine.com/java-8-supplier-interface/\r\n\r\nconsumer will consume data and but do not return any data. In programming terms a method which takes multiple argument and does not return any value. \r\n\r\nhttp://codedestine.com/java-8-consumer-interface/\r\n\r\n","title":"When and why would you use Java&#39;s Supplier and Consumer interfaces?","body":"<p>In Laymen terms,</p>\n\n<p>supplier will supply data but without consuming any data. In programming terms a method which doesn't take any argument but return a value. It is used to generate new values.</p>\n\n<p><a href=\"http://codedestine.com/java-8-supplier-interface/\" rel=\"nofollow noreferrer\">http://codedestine.com/java-8-supplier-interface/</a></p>\n\n<p>consumer will consume data and but do not return any data. In programming terms a method which takes multiple argument and does not return any value. </p>\n\n<p><a href=\"http://codedestine.com/java-8-consumer-interface/\" rel=\"nofollow noreferrer\">http://codedestine.com/java-8-consumer-interface/</a></p>\n"},{"tags":[],"owner":{"account_id":3313963,"reputation":11003,"user_id":2786733,"accept_rate":95,"display_name":"Andrejs"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1491915275,"creation_date":1491915275,"answer_id":43346537,"question_id":28417262,"body_markdown":"1. Meaning\r\n----------\r\n\r\nSee my answers to my question [here][1] and also another [here][2], but in short these new Interfaces provide **convention** and **descriptiveness** for everyone to use (+ funky method chaining such as `.forEach(someMethod().andThen(otherMethod()))`\r\n \r\n  \r\n\r\n2. Differences\r\n--\r\n\r\n**Consumer**:  Takes something, does something, returns nothing: `void accept(T t)`\r\n\r\n**Supplier:**  Takes nothing, returns something :   `T get()` (reverse of Consumer, basically a universal &#39;getter&#39; method)\r\n\r\n\r\n\r\n3. Usage\r\n--\r\n\r\n    // Consumer: It takes something (a String) and does something (prints it) \r\n        List&lt;Person&gt; personList = getPersons();\r\n        \r\n         personList.stream()\r\n                        .map(Person::getName)    \r\n                        .forEach(System.out::println); \r\n\r\nSupplier: wrap repetitive code, e.g. code execution timing\r\n\r\n    public class SupplierExample {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            // Imagine a class Calculate with some methods\r\n            Double result1 = timeMe(Calculate::doHeavyComputation);\r\n            Double result2 = timeMe(Calculate::doMoreComputation);\r\n        }\r\n        private static Double timeMe(Supplier&lt;Double&gt; code) {\r\n    \r\n            Instant start = Instant.now();\r\n            // Supplier method .get() just invokes whatever it is passed\r\n            Double result = code.get();\r\n            Instant end = Instant.now();\r\n    \r\n            Duration elapsed = Duration.between(start,end);\r\n            System.out.println(&quot;Computation took:&quot; + elapsed.toMillis());\r\n    \r\n            return result;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/43050679/purpose-of-functional-interfaces-in-java8\r\n  [2]: https://stackoverflow.com/questions/36881826/what-is-use-of-functional-interface-in-java-8\r\n\r\n\r\n","title":"When and why would you use Java&#39;s Supplier and Consumer interfaces?","body":"<h2>1. Meaning</h2>\n\n<p>See my answers to my question <a href=\"https://stackoverflow.com/questions/43050679/purpose-of-functional-interfaces-in-java8\">here</a> and also another <a href=\"https://stackoverflow.com/questions/36881826/what-is-use-of-functional-interface-in-java-8\">here</a>, but in short these new Interfaces provide <strong>convention</strong> and <strong>descriptiveness</strong> for everyone to use (+ funky method chaining such as <code>.forEach(someMethod().andThen(otherMethod()))</code></p>\n\n<h2>2. Differences</h2>\n\n<p><strong>Consumer</strong>:  Takes something, does something, returns nothing: <code>void accept(T t)</code></p>\n\n<p><strong>Supplier:</strong>  Takes nothing, returns something :   <code>T get()</code> (reverse of Consumer, basically a universal 'getter' method)</p>\n\n<h2>3. Usage</h2>\n\n<pre><code>// Consumer: It takes something (a String) and does something (prints it) \n    List&lt;Person&gt; personList = getPersons();\n\n     personList.stream()\n                    .map(Person::getName)    \n                    .forEach(System.out::println); \n</code></pre>\n\n<p>Supplier: wrap repetitive code, e.g. code execution timing</p>\n\n<pre><code>public class SupplierExample {\n\n    public static void main(String[] args) {\n\n        // Imagine a class Calculate with some methods\n        Double result1 = timeMe(Calculate::doHeavyComputation);\n        Double result2 = timeMe(Calculate::doMoreComputation);\n    }\n    private static Double timeMe(Supplier&lt;Double&gt; code) {\n\n        Instant start = Instant.now();\n        // Supplier method .get() just invokes whatever it is passed\n        Double result = code.get();\n        Instant end = Instant.now();\n\n        Duration elapsed = Duration.between(start,end);\n        System.out.println(\"Computation took:\" + elapsed.toMillis());\n\n        return result;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5440948,"reputation":257,"user_id":4329067,"display_name":"Ankit Sood"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1492672897,"creation_date":1492672897,"answer_id":43512791,"question_id":28417262,"body_markdown":"Consumer and supplier are the interfaces provided by java. Consumer is use for iterate over the list elements and supplier is use for supply object&#39;s \r\n\r\nyou can easily understand with code demonstration.\r\n\r\n**Consumer**\r\n    \r\n    package com.java.java8;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.function.Consumer;\r\n    \r\n    /**\r\n     * The Class ConsumerDemo.\r\n     *\r\n     * @author Ankit Sood Apr 20, 2017\r\n     */\r\n    public class ConsumerDemo {\r\n    \r\n        /**\r\n         * The main method.\r\n         *\r\n         * @param args\r\n         *            the arguments\r\n         */\r\n        public static void main(String[] args) {\r\n    \r\n    \tList&lt;String&gt; str = new ArrayList&lt;&gt;();\r\n    \tstr.add(&quot;DEMO&quot;);\r\n    \tstr.add(&quot;DEMO2&quot;);\r\n    \tstr.add(&quot;DEMO3&quot;);\r\n    \r\n    \t/* Consumer is use for iterate over the List */\r\n    \tConsumer&lt;String&gt; consumer = new Consumer&lt;String&gt;() {\r\n    \t    @Override\r\n    \t    public void accept(String t) {\r\n    \r\n    \t\t/* Print list element on consile */\r\n    \t\tSystem.out.println(t);\r\n    \t    }\r\n    \t};\r\n    \r\n    \tstr.forEach(consumer);\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n**Supplier**\r\n\r\n    package com.java.java8;\r\n    \r\n    import java.util.function.Supplier;\r\n    \r\n    /**\r\n     * The Class SupplierDemo.\r\n     *\r\n     * @author Ankit Sood Apr 20, 2017\r\n     */\r\n    public class SupplierDemo {\r\n    \r\n        /**\r\n         * The main method.\r\n         *\r\n         * @param args\r\n         *            the arguments\r\n         */\r\n        public static void main(String[] args) {\r\n    \tgetValue(() -&gt; &quot;Output1&quot;);\r\n    \tgetValue(() -&gt; &quot;OutPut2&quot;);\r\n        }\r\n    \r\n        /**\r\n         * Gets the value.\r\n         *\r\n         * @param supplier\r\n         *            the supplier\r\n         * @return the value\r\n         */\r\n        public static void getValue(Supplier&lt;?&gt; supplier) {\r\n    \tSystem.out.println(supplier.get());\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n","title":"When and why would you use Java&#39;s Supplier and Consumer interfaces?","body":"<p>Consumer and supplier are the interfaces provided by java. Consumer is use for iterate over the list elements and supplier is use for supply object's </p>\n\n<p>you can easily understand with code demonstration.</p>\n\n<p><strong>Consumer</strong></p>\n\n<pre><code>package com.java.java8;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.function.Consumer;\n\n/**\n * The Class ConsumerDemo.\n *\n * @author Ankit Sood Apr 20, 2017\n */\npublic class ConsumerDemo {\n\n    /**\n     * The main method.\n     *\n     * @param args\n     *            the arguments\n     */\n    public static void main(String[] args) {\n\n    List&lt;String&gt; str = new ArrayList&lt;&gt;();\n    str.add(\"DEMO\");\n    str.add(\"DEMO2\");\n    str.add(\"DEMO3\");\n\n    /* Consumer is use for iterate over the List */\n    Consumer&lt;String&gt; consumer = new Consumer&lt;String&gt;() {\n        @Override\n        public void accept(String t) {\n\n        /* Print list element on consile */\n        System.out.println(t);\n        }\n    };\n\n    str.forEach(consumer);\n\n    }\n\n}\n</code></pre>\n\n<p><strong>Supplier</strong></p>\n\n<pre><code>package com.java.java8;\n\nimport java.util.function.Supplier;\n\n/**\n * The Class SupplierDemo.\n *\n * @author Ankit Sood Apr 20, 2017\n */\npublic class SupplierDemo {\n\n    /**\n     * The main method.\n     *\n     * @param args\n     *            the arguments\n     */\n    public static void main(String[] args) {\n    getValue(() -&gt; \"Output1\");\n    getValue(() -&gt; \"OutPut2\");\n    }\n\n    /**\n     * Gets the value.\n     *\n     * @param supplier\n     *            the supplier\n     * @return the value\n     */\n    public static void getValue(Supplier&lt;?&gt; supplier) {\n    System.out.println(supplier.get());\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1051059,"reputation":11277,"user_id":1054992,"accept_rate":71,"display_name":"james emanon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94777,"favorite_count":0,"down_vote_count":1,"up_vote_count":137,"accepted_answer_id":28417951,"answer_count":7,"score":136,"last_activity_date":1661882647,"creation_date":1423508446,"question_id":28417262,"body_markdown":"As a non-Java programmer learning Java, I am reading about `Supplier` and `Consumer` interfaces at the moment. And I can&#39;t wrap my head around their usage and meaning. \r\n\r\nWhen and why you would use these interfaces? Can someone give me a simple layperson example of this? \r\n\r\nI&#39;m finding the Doc examples not succinct enough for my understanding.","title":"When and why would you use Java&#39;s Supplier and Consumer interfaces?","body":"<p>As a non-Java programmer learning Java, I am reading about <code>Supplier</code> and <code>Consumer</code> interfaces at the moment. And I can't wrap my head around their usage and meaning.</p>\n<p>When and why you would use these interfaces? Can someone give me a simple layperson example of this?</p>\n<p>I'm finding the Doc examples not succinct enough for my understanding.</p>\n"},{"tags":["java","vaadin8"],"answers":[{"tags":[],"owner":{"account_id":14527719,"reputation":373,"user_id":10493440,"display_name":"Eisenknurr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1549375615,"creation_date":1549375615,"answer_id":54536227,"question_id":54535455,"body_markdown":"You extend download\r\n\r\n        fileDownloader.extend(download);\r\nbut try to remove the extension from fileDownloader\r\n\r\n     downloadButton.removeExtension(fileDownloader);\r\n\r\nThat is a mismatch. (Assuming that is a typo though.)\r\n\r\nYou can remove the button and then create a new Button, a new downloader and then extend that. Some extensions can&#39;t be removed though.\r\n\r\nHowever, you don&#39;t need that. You can just update the StreamResource and not touch the binding at all.\r\n\r\nA more elaborate example is the OnDemandDownloader from [https://vaadin.com/docs/v8/framework/articles/LettingTheUserDownloadAFile.html][1]\r\n\r\n\r\n         /**\r\n         * This specializes {@link FileDownloader} in a way, such that both the file name and content can be determined\r\n         * on-demand, i.e. when the user has clicked the component.\r\n         */\r\n        public class OnDemandFileDownloader extends FileDownloader {\r\n        \r\n          /**\r\n           * Provide both the {@link StreamSource} and the filename in an on-demand way.\r\n           */\r\n          public interface OnDemandStreamResource extends StreamSource {\r\n            String getFilename ();\r\n          }\r\n        \r\n          private static final long serialVersionUID = 1L;\r\n          private final OnDemandStreamResource onDemandStreamResource;\r\n        \r\n          public OnDemandFileDownloader (OnDemandStreamResource onDemandStreamResource) {\r\n            super(new StreamResource(onDemandStreamResource, &quot;&quot;));\r\n            this.onDemandStreamResource = checkNotNull(onDemandStreamResource,\r\n              &quot;The given on-demand stream resource may never be null!&quot;);\r\n          }\r\n        \r\n          @Override\r\n          public boolean handleConnectorRequest (VaadinRequest request, VaadinResponse response, String path)\r\n              throws IOException {\r\n            getResource().setFilename(onDemandStreamResource.getFilename());\r\n            return super.handleConnectorRequest(request, response, path);\r\n          }\r\n        \r\n          private StreamResource getResource () {\r\n            return (StreamResource) this.getResource(&quot;dl&quot;);\r\n          }\r\n        }\r\n\r\n  [1]: https://vaadin.com/docs/v8/framework/articles/LettingTheUserDownloadAFile.html\r\n","title":"vaadin FileDownloader reset extension","body":"<p>You extend download</p>\n\n<pre><code>    fileDownloader.extend(download);\n</code></pre>\n\n<p>but try to remove the extension from fileDownloader</p>\n\n<pre><code> downloadButton.removeExtension(fileDownloader);\n</code></pre>\n\n<p>That is a mismatch. (Assuming that is a typo though.)</p>\n\n<p>You can remove the button and then create a new Button, a new downloader and then extend that. Some extensions can't be removed though.</p>\n\n<p>However, you don't need that. You can just update the StreamResource and not touch the binding at all.</p>\n\n<p>A more elaborate example is the OnDemandDownloader from <a href=\"https://vaadin.com/docs/v8/framework/articles/LettingTheUserDownloadAFile.html\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/v8/framework/articles/LettingTheUserDownloadAFile.html</a></p>\n\n<pre><code>     /**\n     * This specializes {@link FileDownloader} in a way, such that both the file name and content can be determined\n     * on-demand, i.e. when the user has clicked the component.\n     */\n    public class OnDemandFileDownloader extends FileDownloader {\n\n      /**\n       * Provide both the {@link StreamSource} and the filename in an on-demand way.\n       */\n      public interface OnDemandStreamResource extends StreamSource {\n        String getFilename ();\n      }\n\n      private static final long serialVersionUID = 1L;\n      private final OnDemandStreamResource onDemandStreamResource;\n\n      public OnDemandFileDownloader (OnDemandStreamResource onDemandStreamResource) {\n        super(new StreamResource(onDemandStreamResource, \"\"));\n        this.onDemandStreamResource = checkNotNull(onDemandStreamResource,\n          \"The given on-demand stream resource may never be null!\");\n      }\n\n      @Override\n      public boolean handleConnectorRequest (VaadinRequest request, VaadinResponse response, String path)\n          throws IOException {\n        getResource().setFilename(onDemandStreamResource.getFilename());\n        return super.handleConnectorRequest(request, response, path);\n      }\n\n      private StreamResource getResource () {\n        return (StreamResource) this.getResource(\"dl\");\n      }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26201126,"reputation":1,"user_id":19881485,"display_name":"Richie Ray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661882454,"creation_date":1661882454,"answer_id":73546729,"question_id":54535455,"body_markdown":"You can do a little trick:\r\n\r\n    downloadButton.removeExtension(downloadButton.getExtensions().iterator().next());\r\n\r\nthis worked for me when I was trying to add a different new download to the button and I wanted to remove the old download.","title":"vaadin FileDownloader reset extension","body":"<p>You can do a little trick:</p>\n<pre><code>downloadButton.removeExtension(downloadButton.getExtensions().iterator().next());\n</code></pre>\n<p>this worked for me when I was trying to add a different new download to the button and I wanted to remove the old download.</p>\n"}],"owner":{"account_id":3464846,"reputation":1474,"user_id":2900725,"accept_rate":42,"display_name":"zond"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":690,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54536227,"answer_count":2,"score":0,"last_activity_date":1661882454,"creation_date":1549373051,"question_id":54535455,"body_markdown":"As we know, we have to extend `FileDownloader` with button to be able to download file.\r\n     \r\n    //\r\n    Button downloadButton = new Button(&quot;download&quot;);\r\n\r\n    private void  updateFileForDownload(){\r\n        ...       \r\n        StreamResource sr = getFileStream();\r\n        FileDownloader fileDownloader = new FileDownloader(sr);\r\n        fileDownloader.extend(downloadButton);\r\n        ...\r\n    }\r\n    private StreamResource getFileStream() {\r\n        StreamResource.StreamSource source = () -&gt; new ByteArrayInputStream(binderDocument.getBean().getFile());\r\n        StreamResource resource = new StreamResource(source, binderDocument.getBean().getFilename());\r\n        return resource;\r\n    }\r\n\r\nI have some problem in my application. If i call method `updateFileForDownload` more than one time a get more than one file by clicking on `downloadButton`. I need reset extension for Button or for `FileDownloader`. I tried both:\r\n\r\n     downloadButton.removeExtension(fileDownloader);\r\n\r\n Here we get \r\n\r\n&gt; java.lang.IllegalArgumentException: This connector is not the parent for given extension\r\n\tat com.vaadin.server.AbstractClientConnector.removeExtension(AbstractClientConnector.java:595)\r\n    \r\n    fileDownloader.removeExtension(downloadButton); \r\n\r\n and  here we cannot apply Button to Extension\r\n\r\nHow can I reset `FileDownloader` for Button?","title":"vaadin FileDownloader reset extension","body":"<p>As we know, we have to extend <code>FileDownloader</code> with button to be able to download file.</p>\n\n<pre><code>//\nButton downloadButton = new Button(\"download\");\n\nprivate void  updateFileForDownload(){\n    ...       \n    StreamResource sr = getFileStream();\n    FileDownloader fileDownloader = new FileDownloader(sr);\n    fileDownloader.extend(downloadButton);\n    ...\n}\nprivate StreamResource getFileStream() {\n    StreamResource.StreamSource source = () -&gt; new ByteArrayInputStream(binderDocument.getBean().getFile());\n    StreamResource resource = new StreamResource(source, binderDocument.getBean().getFilename());\n    return resource;\n}\n</code></pre>\n\n<p>I have some problem in my application. If i call method <code>updateFileForDownload</code> more than one time a get more than one file by clicking on <code>downloadButton</code>. I need reset extension for Button or for <code>FileDownloader</code>. I tried both:</p>\n\n<pre><code> downloadButton.removeExtension(fileDownloader);\n</code></pre>\n\n<p>Here we get </p>\n\n<blockquote>\n  <p>java.lang.IllegalArgumentException: This connector is not the parent for given extension\n      at com.vaadin.server.AbstractClientConnector.removeExtension(AbstractClientConnector.java:595)</p>\n</blockquote>\n\n<pre><code>fileDownloader.removeExtension(downloadButton); \n</code></pre>\n\n<p>and  here we cannot apply Button to Extension</p>\n\n<p>How can I reset <code>FileDownloader</code> for Button?</p>\n"},{"tags":["java","spring","spring-boot","graphql"],"comments":[{"owner":{"account_id":16923735,"reputation":155,"user_id":12239887,"display_name":"rubalvjaiswal"},"score":0,"creation_date":1661882145,"post_id":73417410,"comment_id":129876065,"body_markdown":"I found a solution to by writing the custom instrumentation by extending SimpleInstrumentation from graphql-java\n\n```","body":"I found a solution to by writing the custom instrumentation by extending SimpleInstrumentation from graphql-java  ```"}],"answers":[{"tags":[],"owner":{"account_id":16923735,"reputation":155,"user_id":12239887,"display_name":"rubalvjaiswal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661882254,"creation_date":1661882254,"answer_id":73546687,"question_id":73417410,"body_markdown":"I found a solution to by writing the custom instrumentation by extending SimpleInstrumentation from graphql-java\r\n\r\nInstrumentation class as below\r\n```\r\npublic class MaxQueryCountInstrumentation extends SimpleInstrumentation {\r\n\r\n   private int maxQueryCount;\r\n   public MaxQueryCountInstrumentation(int maxqueryCount) {\r\n        this.maxQueryCount=maxqueryCount;\r\n    }\r\n\r\n\r\n    @Override\r\n    public InstrumentationContext&lt;ExecutionResult&gt; beginExecuteOperation(InstrumentationExecuteOperationParameters parameters) {\r\n        int size = ((OperationDefinition) parameters.getExecutionContext().getDocument().getDefinitions().get(0)).getSelectionSet().getSelections().size();\r\n        if (maxQueryCount &lt; size)\r\n            throw new AbortExecutionException(&quot;Maximum query count exceeded &quot; + size + &quot; &gt; &quot; + maxQueryCount);\r\n        return SimpleInstrumentationContext.noOp();\r\n    }\r\n\r\n}\r\n```\r\n\r\nConfig as below:\r\n\r\n```\r\n@Bean\r\n    @ConditionalOnMissingBean\r\n    @ConditionalOnProperty(prefix = &quot;spring.graphql.instrumentation&quot;, name = &quot;max-query-count&quot;)\r\n    public MaxQueryCountInstrumentation maxQueryCountComplexity(@Value(&quot;${spring.graphql.instrumentation.max-query-count}&quot;) int maxqueryCount) {\r\n        return new MaxQueryCountInstrumentation(maxqueryCount);\r\n    }\r\n```","title":"How to create intrumentation for add contraint on number of queries executed in single API call?","body":"<p>I found a solution to by writing the custom instrumentation by extending SimpleInstrumentation from graphql-java</p>\n<p>Instrumentation class as below</p>\n<pre><code>public class MaxQueryCountInstrumentation extends SimpleInstrumentation {\n\n   private int maxQueryCount;\n   public MaxQueryCountInstrumentation(int maxqueryCount) {\n        this.maxQueryCount=maxqueryCount;\n    }\n\n\n    @Override\n    public InstrumentationContext&lt;ExecutionResult&gt; beginExecuteOperation(InstrumentationExecuteOperationParameters parameters) {\n        int size = ((OperationDefinition) parameters.getExecutionContext().getDocument().getDefinitions().get(0)).getSelectionSet().getSelections().size();\n        if (maxQueryCount &lt; size)\n            throw new AbortExecutionException(&quot;Maximum query count exceeded &quot; + size + &quot; &gt; &quot; + maxQueryCount);\n        return SimpleInstrumentationContext.noOp();\n    }\n\n}\n</code></pre>\n<p>Config as below:</p>\n<pre><code>@Bean\n    @ConditionalOnMissingBean\n    @ConditionalOnProperty(prefix = &quot;spring.graphql.instrumentation&quot;, name = &quot;max-query-count&quot;)\n    public MaxQueryCountInstrumentation maxQueryCountComplexity(@Value(&quot;${spring.graphql.instrumentation.max-query-count}&quot;) int maxqueryCount) {\n        return new MaxQueryCountInstrumentation(maxqueryCount);\n    }\n</code></pre>\n"}],"owner":{"account_id":16923735,"reputation":155,"user_id":12239887,"display_name":"rubalvjaiswal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661882254,"creation_date":1660915059,"question_id":73417410,"body_markdown":"I&#39;m using spring-graphql 1.0.1 version, looking to add custom instrumentation to deny user to query if he tries to execute queries &gt; n. It will help to protect graphql server by serving limited number of queries per request.\r\n\r\nTo add the maxQueryComplexity and maxQueryDepth instrumentation are available, which I have configured as follows. Is there any way to create a custom instrumentation to for maxQueries \r\n```\r\n@Bean\r\n@ConditionalOnMissingBean\r\n@ConditionalOnProperty(prefix = &quot;spring.graphql.instrumentation&quot;, name = &quot;max-query-complexity&quot;)\r\npublic MaxQueryComplexityInstrumentation maxQueryComplexityInstrumentation(@Value(&quot;${spring.graphql.instrumentation.max-query-complexity}&quot;) int maxComplexity) {\r\n    return new MaxQueryComplexityInstrumentation(maxComplexity);\r\n}\r\n\r\n@Bean\r\n@ConditionalOnMissingBean\r\n@ConditionalOnProperty(prefix = &quot;spring.graphql.instrumentation&quot;, name = &quot;max-query-depth&quot;)\r\npublic MaxQueryDepthInstrumentation maxQueryDepthInstrumentation(@Value(&quot;${spring.graphql.instrumentation.max-query-depth}&quot;) int maxDepth) {\r\n    return new MaxQueryDepthInstrumentation(maxDepth);\r\n}\r\n```","title":"How to create intrumentation for add contraint on number of queries executed in single API call?","body":"<p>I'm using spring-graphql 1.0.1 version, looking to add custom instrumentation to deny user to query if he tries to execute queries &gt; n. It will help to protect graphql server by serving limited number of queries per request.</p>\n<p>To add the maxQueryComplexity and maxQueryDepth instrumentation are available, which I have configured as follows. Is there any way to create a custom instrumentation to for maxQueries</p>\n<pre><code>@Bean\n@ConditionalOnMissingBean\n@ConditionalOnProperty(prefix = &quot;spring.graphql.instrumentation&quot;, name = &quot;max-query-complexity&quot;)\npublic MaxQueryComplexityInstrumentation maxQueryComplexityInstrumentation(@Value(&quot;${spring.graphql.instrumentation.max-query-complexity}&quot;) int maxComplexity) {\n    return new MaxQueryComplexityInstrumentation(maxComplexity);\n}\n\n@Bean\n@ConditionalOnMissingBean\n@ConditionalOnProperty(prefix = &quot;spring.graphql.instrumentation&quot;, name = &quot;max-query-depth&quot;)\npublic MaxQueryDepthInstrumentation maxQueryDepthInstrumentation(@Value(&quot;${spring.graphql.instrumentation.max-query-depth}&quot;) int maxDepth) {\n    return new MaxQueryDepthInstrumentation(maxDepth);\n}\n</code></pre>\n"},{"tags":["java","sonarqube"],"comments":[{"owner":{"account_id":1316894,"reputation":10675,"user_id":1263543,"display_name":"benzonico"},"score":0,"creation_date":1537963920,"post_id":52515406,"comment_id":91974374,"body_markdown":"You should first compile your java project.","body":"You should first compile your java project."},{"owner":{"account_id":4020814,"reputation":716,"user_id":3311245,"accept_rate":0,"display_name":"Pavan T"},"score":0,"creation_date":1569497201,"post_id":52515406,"comment_id":102620673,"body_markdown":"You just have to provide &quot;target&quot; e.g sonar.java.binaries = target. It&#39;s working for me.","body":"You just have to provide &quot;target&quot; e.g sonar.java.binaries = target. It&#39;s working for me."}],"answers":[{"tags":[],"owner":{"account_id":14527987,"reputation":11,"user_id":10493642,"display_name":"Darrin Robinson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539571566,"creation_date":1539571566,"answer_id":52809097,"question_id":52515406,"body_markdown":"I&#39;m sure that you figured this out already.  However, here&#39;s what you need to do for Java projects built using Maven.\r\n\r\nIf you&#39;re using the path &quot;**/target/classes&quot; then let&#39;s assume that you&#39;re using Maven for your builds.  You would perform a &quot;mvn clean package&quot; for your Sonarqube Scanner to work.   \r\n\r\nOnce you have used maven to compile and package into the standard directory (&quot;./target/classes&quot;) then just pass the appropriate setting to the scanner (either through a configuration file or the command line).  An example of passing through the command line is below.\r\n\r\n    \t\t${scanner_home}/bin/sonar-scanner \r\n\t\t\t\t-Dsonar.login=&lt;SONAR KEY&gt;\r\n\t\t\t\t-Dsonar.projectKey=&lt;PROJECT KEY&gt;\r\n\t\t\t\t-Dsonar.branch.name=&lt;BRANCH_NAME&gt;\r\n\t\t\t\t-Dsonar.branch.target=&lt;RELEASABLE BRANCH&gt;\r\n\t\t\t\t-Dsonar.sources=./src\r\n                -Dsonar.java.binaries=./target/classes\r\n\r\nNotice that I&#39;m using a relative path for the sonar.sources and sonar.java.binaries settings.  I do this in a Jenkins build pipeline and made this configurable since I also build PHP and use Composer, Gulp, npm, and other tool in my build process.  (If you&#39;re using the SonarQube Scanner for Maven, then you would put this into a property file.)","title":"Sonar analysis abort because &#39;No files nor directories matching &#39;target/classes&#39;","body":"<p>I'm sure that you figured this out already.  However, here's what you need to do for Java projects built using Maven.</p>\n\n<p>If you're using the path \"**/target/classes\" then let's assume that you're using Maven for your builds.  You would perform a \"mvn clean package\" for your Sonarqube Scanner to work.   </p>\n\n<p>Once you have used maven to compile and package into the standard directory (\"./target/classes\") then just pass the appropriate setting to the scanner (either through a configuration file or the command line).  An example of passing through the command line is below.</p>\n\n<pre><code>        ${scanner_home}/bin/sonar-scanner \n            -Dsonar.login=&lt;SONAR KEY&gt;\n            -Dsonar.projectKey=&lt;PROJECT KEY&gt;\n            -Dsonar.branch.name=&lt;BRANCH_NAME&gt;\n            -Dsonar.branch.target=&lt;RELEASABLE BRANCH&gt;\n            -Dsonar.sources=./src\n            -Dsonar.java.binaries=./target/classes\n</code></pre>\n\n<p>Notice that I'm using a relative path for the sonar.sources and sonar.java.binaries settings.  I do this in a Jenkins build pipeline and made this configurable since I also build PHP and use Composer, Gulp, npm, and other tool in my build process.  (If you're using the SonarQube Scanner for Maven, then you would put this into a property file.)</p>\n"},{"tags":[],"owner":{"account_id":304046,"reputation":4566,"user_id":613339,"accept_rate":81,"display_name":"bsautner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564764891,"creation_date":1564764891,"answer_id":57330706,"question_id":52515406,"body_markdown":"for the poor lost soul who finds themselves on this thread, you may encounter this error when migrating from gradle 4.x to 5.x as the classes folder is renamed from `classes` to `app_classes` and it&#39;s no longer `variant/flavor` it&#39;s `variantFlavor` - you can verify by building your app and looking in the build folder\r\n\r\n\r\nI had to change this sonarqube property in my build.gradle\r\n\r\n ``property &quot;sonar.java.binaries&quot;, &quot;build/intermediates/app_classes/betaDebug,build/tmp/kotlin-classes/betaDebug&quot;``","title":"Sonar analysis abort because &#39;No files nor directories matching &#39;target/classes&#39;","body":"<p>for the poor lost soul who finds themselves on this thread, you may encounter this error when migrating from gradle 4.x to 5.x as the classes folder is renamed from <code>classes</code> to <code>app_classes</code> and it's no longer <code>variant/flavor</code> it's <code>variantFlavor</code> - you can verify by building your app and looking in the build folder</p>\n\n<p>I had to change this sonarqube property in my build.gradle</p>\n\n<p><code>property \"sonar.java.binaries\", \"build/intermediates/app_classes/betaDebug,build/tmp/kotlin-classes/betaDebug\"</code></p>\n"},{"tags":[],"owner":{"account_id":454394,"reputation":4041,"user_id":851951,"accept_rate":32,"display_name":"Dani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1578570890,"creation_date":1578570890,"answer_id":59663430,"question_id":52515406,"body_markdown":"Sometimes some modules could not generate sources, for example, working with Maven, those modules packaging as &#39;pom&#39;.\r\n\r\nTo avoid sonar analysing them, specify in your **sonar.properties** the property **sonar.modules** with the ones are generating sources.","title":"Sonar analysis abort because &#39;No files nor directories matching &#39;target/classes&#39;","body":"<p>Sometimes some modules could not generate sources, for example, working with Maven, those modules packaging as 'pom'.</p>\n\n<p>To avoid sonar analysing them, specify in your <strong>sonar.properties</strong> the property <strong>sonar.modules</strong> with the ones are generating sources.</p>\n"},{"tags":[],"owner":{"account_id":10168350,"reputation":1388,"user_id":7666239,"display_name":"Sergey Nemchinov"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1585915764,"creation_date":1585915366,"answer_id":61011486,"question_id":52515406,"body_markdown":"One of the reasons might be that Sonar cannot find that directory if you do analysis before building your project.\r\nThe `target/classes` directory does not exist before you started building the project using maven.\r\n\r\nTry this value to workaround:\r\n\r\n    sonar.java.binaries=target\r\n\r\nor\r\n\r\n    sonar.java.binaries=.\r\n\r\n","title":"Sonar analysis abort because &#39;No files nor directories matching &#39;target/classes&#39;","body":"<p>One of the reasons might be that Sonar cannot find that directory if you do analysis before building your project.\nThe <code>target/classes</code> directory does not exist before you started building the project using maven.</p>\n\n<p>Try this value to workaround:</p>\n\n<pre><code>sonar.java.binaries=target\n</code></pre>\n\n<p>or</p>\n\n<pre><code>sonar.java.binaries=.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5183476,"reputation":126,"user_id":4148452,"display_name":"Cristhian Camilo G&#243;mez Narv&#225;ez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661881543,"creation_date":1610491389,"answer_id":65693162,"question_id":52515406,"body_markdown":"The Answer from @bsaunter works.\r\nI have to add that you may encounter this error also when migrating from **gradle 5.x to 6.x**,\r\ngot to your build/intermediate/javac/debug folder and look what is generating sonarqube, the name of the folder could be &quot;classes&quot;\r\n\r\nLook for this property &quot;sonar.java.binaries&quot; on wherever file in your project folder and replace the value for the correct generated folder by sonarqube.","title":"Sonar analysis abort because &#39;No files nor directories matching &#39;target/classes&#39;","body":"<p>The Answer from @bsaunter works.\nI have to add that you may encounter this error also when migrating from <strong>gradle 5.x to 6.x</strong>,\ngot to your build/intermediate/javac/debug folder and look what is generating sonarqube, the name of the folder could be &quot;classes&quot;</p>\n<p>Look for this property &quot;sonar.java.binaries&quot; on wherever file in your project folder and replace the value for the correct generated folder by sonarqube.</p>\n"}],"owner":{"display_name":"user7128116"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21781,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":5,"score":11,"last_activity_date":1661881543,"creation_date":1537957151,"question_id":52515406,"body_markdown":"I&#39;m performing an analysis with Sonar but I get the following error:\r\n\r\n    Error during SonarQube Scanner execution\r\n    java.lang.IllegalStateException: No files nor directories matching &#39;target/classes&#39;\r\n\r\n\r\nIn my project I&#39;ve the target directory but no classes directory or files, what should be in there for the analysis to work?","title":"Sonar analysis abort because &#39;No files nor directories matching &#39;target/classes&#39;","body":"<p>I'm performing an analysis with Sonar but I get the following error:</p>\n\n<pre><code>Error during SonarQube Scanner execution\njava.lang.IllegalStateException: No files nor directories matching 'target/classes'\n</code></pre>\n\n<p>In my project I've the target directory but no classes directory or files, what should be in there for the analysis to work?</p>\n"},{"tags":["java","github","serial-port","apple-m1","gradlew"],"comments":[{"owner":{"account_id":13815643,"reputation":136,"user_id":9972305,"display_name":"B.Letz"},"score":0,"creation_date":1661934203,"post_id":73546521,"comment_id":129887114,"body_markdown":"Hi, have you tried to execute the command as superuser?","body":"Hi, have you tried to execute the command as superuser?"},{"owner":{"account_id":26158011,"reputation":1,"user_id":19844994,"display_name":"AlexMad"},"score":0,"creation_date":1661935097,"post_id":73546521,"comment_id":129887465,"body_markdown":"Hi! Tried it right now, at first it started the download, and then the same problem occurred","body":"Hi! Tried it right now, at first it started the download, and then the same problem occurred"},{"owner":{"account_id":13815643,"reputation":136,"user_id":9972305,"display_name":"B.Letz"},"score":0,"creation_date":1661951514,"post_id":73546521,"comment_id":129893551,"body_markdown":"My second guess would be that this is a problem with the M1 of the Macbook but I develope on Windows so this is not my expertiese. Since the M1 is an ARM architecture it could be that you need a special version of the JDK but I don&#39;t know","body":"My second guess would be that this is a problem with the M1 of the Macbook but I develope on Windows so this is not my expertiese. Since the M1 is an ARM architecture it could be that you need a special version of the JDK but I don&#39;t know"},{"owner":{"account_id":13815643,"reputation":136,"user_id":9972305,"display_name":"B.Letz"},"score":0,"creation_date":1661951634,"post_id":73546521,"comment_id":129893608,"body_markdown":"Maybe https://stackoverflow.com/questions/64788005/java-jdk-for-the-apple-m1-chip question can help you here","body":"Maybe <a href=\"https://stackoverflow.com/questions/64788005/java-jdk-for-the-apple-m1-chip\" title=\"java jdk for the apple m1 chip\">stackoverflow.com/questions/64788005/&hellip;</a> question can help you here"},{"owner":{"account_id":13815643,"reputation":136,"user_id":9972305,"display_name":"B.Letz"},"score":0,"creation_date":1661952007,"post_id":73546521,"comment_id":129893746,"body_markdown":"After looking at the open Issues of the GitHub page it seems this is in developement right now. See https://github.com/NeuronRobotics/nrjavaserial/issues/195","body":"After looking at the open Issues of the GitHub page it seems this is in developement right now. See <a href=\"https://github.com/NeuronRobotics/nrjavaserial/issues/195\" rel=\"nofollow noreferrer\">github.com/NeuronRobotics/nrjavaserial/issues/195</a>"}],"owner":{"account_id":26158011,"reputation":1,"user_id":19844994,"display_name":"AlexMad"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661881333,"creation_date":1661881333,"question_id":73546521,"body_markdown":"I want to install COM port to connect my &quot;Extended&quot; controller (stabilization solution) but the software when plugged in, doesn&#39;t show any COM 3 ports. Found this solution https://github.com/NeuronRobotics/nrjavaserial\r\n\r\nMy steps: using the command git clone, after it is downloaded, I changed the directory to the folder it created.\r\n$ cd nrjavaserial\r\n\r\nAfter that, I tried to use this command.\r\n$./gradlew build      But it failed. Leaving this messagge in terminal : \r\n\r\n* What went wrong:\r\nCould not initialize class org.codehaus.groovy.runtime.InvokerHelper\r\n&gt; Exception java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.reflection.ReflectionCache [in thread &quot;Daemon worker&quot;]\r\n\r\nAny ideas? My guess is that java is not installed correctly or something is missing. Or support for this is not there.. Thank you in advance.\r\n\r\nUsing JAVA JDK jdk-18.0.2.1.jdk\r\nM1 Macbook Air.","title":"When trying to build &quot;./gradlew build&quot; but it says build failed","body":"<p>I want to install COM port to connect my &quot;Extended&quot; controller (stabilization solution) but the software when plugged in, doesn't show any COM 3 ports. Found this solution <a href=\"https://github.com/NeuronRobotics/nrjavaserial\" rel=\"nofollow noreferrer\">https://github.com/NeuronRobotics/nrjavaserial</a></p>\n<p>My steps: using the command git clone, after it is downloaded, I changed the directory to the folder it created.\n$ cd nrjavaserial</p>\n<p>After that, I tried to use this command.\n$./gradlew build      But it failed. Leaving this messagge in terminal :</p>\n<ul>\n<li>What went wrong:\nCould not initialize class org.codehaus.groovy.runtime.InvokerHelper</li>\n</ul>\n<blockquote>\n<p>Exception java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.reflection.ReflectionCache [in thread &quot;Daemon worker&quot;]</p>\n</blockquote>\n<p>Any ideas? My guess is that java is not installed correctly or something is missing. Or support for this is not there.. Thank you in advance.</p>\n<p>Using JAVA JDK jdk-18.0.2.1.jdk\nM1 Macbook Air.</p>\n"},{"tags":["java","yaml","quarkus","microprofile","smallrye"],"answers":[{"tags":[],"owner":{"account_id":1954609,"reputation":903,"user_id":1757919,"display_name":"Roberto Cortez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661881241,"creation_date":1661881241,"answer_id":73546497,"question_id":73128085,"body_markdown":"My recommendation is to use the following mapping strategy:\r\n\r\n```java\r\n@ConfigMapping(prefix = &quot;my.filter&quot;)\r\ninterface RangesMapping {\r\n    List&lt;Ranges&gt; numberRange();\r\n\r\n    interface Ranges {\r\n        Range range();\r\n\r\n        interface Range {\r\n            String from();\r\n\r\n            String to();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis does not require any specific `Converter`. Everything is handled for you automatically.\r\n\r\nWhat you currently see is a legacy feature that provided the value of the parent property `my.filter` tree, so users could use a Converter, because there was no automatic conversion support for `List` or `Map`. That is not the case anymore and such property value will be removed.","title":"Quarkus converter for microprofile configMapping not giving full object","body":"<p>My recommendation is to use the following mapping strategy:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ConfigMapping(prefix = &quot;my.filter&quot;)\ninterface RangesMapping {\n    List&lt;Ranges&gt; numberRange();\n\n    interface Ranges {\n        Range range();\n\n        interface Range {\n            String from();\n\n            String to();\n        }\n    }\n}\n</code></pre>\n<p>This does not require any specific <code>Converter</code>. Everything is handled for you automatically.</p>\n<p>What you currently see is a legacy feature that provided the value of the parent property <code>my.filter</code> tree, so users could use a Converter, because there was no automatic conversion support for <code>List</code> or <code>Map</code>. That is not the case anymore and such property value will be removed.</p>\n"}],"owner":{"account_id":2090586,"reputation":4006,"user_id":1860517,"accept_rate":85,"display_name":"mangusbrother"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":379,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661881241,"creation_date":1658859626,"question_id":73128085,"body_markdown":"I have the following configuration:\r\n\r\n```\r\nmy:\r\n  filter:\r\n      number-range:\r\n        - range:\r\n              from: +994700110000\r\n              to: +994700110002\r\n```\r\n\r\nThe ConfigMapping is: \r\n\r\n```\r\n@ConfigMapping(prefix = &quot;my.filter&quot;)\r\npublic interface SmsGatewayFilterListConfig {\r\n\r\n    List&lt;RangeWrapper&gt; numberRange();\r\n}\r\n```\r\n\r\nwith pojos:\r\n\r\n```\r\n\r\npublic record RangeWrapper(Range range) {\r\n}\r\n\r\npublic record Range(String from,\r\n                    String to) {\r\n}\r\n\r\n```\r\n\r\nAnd my converter (registered in `META-INF/services/org.eclipse.microprofile.config.spi.Converter` ):\r\n\r\n```\r\nimport org.eclipse.microprofile.config.spi.Converter;\r\nimport org.yaml.snakeyaml.Yaml;\r\n\r\npublic class RangeWrapperConverter implements Converter&lt;RangeWrapper&gt; {\r\n    @Override\r\n    public RangeWrapper convert(String s) throws IllegalArgumentException, NullPointerException {\r\n        System.out.println(&quot;Got: &quot; + s);\r\n        return new Yaml().loadAs(s, RangeWrapper.class);\r\n    }\r\n}\r\n\r\n```\r\n\r\nI have the `quarkus-config-yaml` dependency set, and am using application.yml\r\n\r\n\r\nWhen i try to startup my quarkus app, I am getting parsing issues however, as the string which is passed to my converter is being:\r\n\r\n`{&quot;number-range&quot;: [{&quot;range&quot;: {&quot;from&quot;: &quot;+994700110000&quot;`\r\n\r\nThis seems to somehow be in json format, and even then not providing the full content of my yaml. What can be wrong please? ","title":"Quarkus converter for microprofile configMapping not giving full object","body":"<p>I have the following configuration:</p>\n<pre><code>my:\n  filter:\n      number-range:\n        - range:\n              from: +994700110000\n              to: +994700110002\n</code></pre>\n<p>The ConfigMapping is:</p>\n<pre><code>@ConfigMapping(prefix = &quot;my.filter&quot;)\npublic interface SmsGatewayFilterListConfig {\n\n    List&lt;RangeWrapper&gt; numberRange();\n}\n</code></pre>\n<p>with pojos:</p>\n<pre><code>\npublic record RangeWrapper(Range range) {\n}\n\npublic record Range(String from,\n                    String to) {\n}\n\n</code></pre>\n<p>And my converter (registered in <code>META-INF/services/org.eclipse.microprofile.config.spi.Converter</code> ):</p>\n<pre><code>import org.eclipse.microprofile.config.spi.Converter;\nimport org.yaml.snakeyaml.Yaml;\n\npublic class RangeWrapperConverter implements Converter&lt;RangeWrapper&gt; {\n    @Override\n    public RangeWrapper convert(String s) throws IllegalArgumentException, NullPointerException {\n        System.out.println(&quot;Got: &quot; + s);\n        return new Yaml().loadAs(s, RangeWrapper.class);\n    }\n}\n\n</code></pre>\n<p>I have the <code>quarkus-config-yaml</code> dependency set, and am using application.yml</p>\n<p>When i try to startup my quarkus app, I am getting parsing issues however, as the string which is passed to my converter is being:</p>\n<p><code>{&quot;number-range&quot;: [{&quot;range&quot;: {&quot;from&quot;: &quot;+994700110000&quot;</code></p>\n<p>This seems to somehow be in json format, and even then not providing the full content of my yaml. What can be wrong please?</p>\n"},{"tags":["java","maven","pom.xml","maven-failsafe-plugin","cucumber-serenity"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1590683948,"post_id":62069572,"comment_id":109779872,"body_markdown":"First remove the `surefire-junit47` from maven-surefire-plugin. Furthermore If I correctly remember the docs of cucumber it supports only JUnit 4 which means you have to add at minimum a dependency to junit 4 to your project.","body":"First remove the <code>surefire-junit47</code> from maven-surefire-plugin. Furthermore If I correctly remember the docs of cucumber it supports only JUnit 4 which means you have to add at minimum a dependency to junit 4 to your project."},{"owner":{"account_id":17983812,"reputation":35,"user_id":13069526,"display_name":"JagadeesanV"},"score":0,"creation_date":1590684867,"post_id":62069572,"comment_id":109780425,"body_markdown":"@khmarbaise - I added the surefire because of the answer in the post. https://stackoverflow.com/questions/19716619/maven-failsafe-plugin-doesnt-run-parallel-test\n\nI have the JUNIT dependency to 4.12. Thanks","body":"@khmarbaise - I added the surefire because of the answer in the post. <a href=\"https://stackoverflow.com/questions/19716619/maven-failsafe-plugin-doesnt-run-parallel-test\" title=\"maven failsafe plugin doesnt run parallel test\">stackoverflow.com/questions/19716619/&hellip;</a>  I have the JUNIT dependency to 4.12. Thanks"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1590685798,"post_id":62069572,"comment_id":109780942,"body_markdown":"First the mentioned post is 7 years old and was wrong at time of writing as it is today (has a dependency to the provider? etc. The question was about parallelisation). The JUnit 4.12 dependency is not visible in the posted pom? Furthermore a full working example on github or alike would be very helpful.","body":"First the mentioned post is 7 years old and was wrong at time of writing as it is today (has a dependency to the provider? etc. The question was about parallelisation). The JUnit 4.12 dependency is not visible in the posted pom? Furthermore a full working example on github or alike would be very helpful."}],"answers":[{"tags":[],"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661880609,"creation_date":1590705801,"answer_id":62075740,"question_id":62069572,"body_markdown":"You&#39;re using the wrong value for `parallel`. You have to set it to methods or both. Otherwise Surefire will run all tests of your runner class serially. \r\n\r\n&gt; https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit\r\n&gt;\r\n&gt; Cucumber JUnit supports parallel execution of feature files across multiple threads. To enable this with maven set the parallel property to either methods or both.\r\n\r\n```\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;!-- Use 2.22.1 or higher --&gt;\r\n            &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;  \r\n            &lt;configuration&gt;\r\n                &lt;parallel&gt;both&lt;/parallel&gt;\r\n                &lt;threadCount&gt;4&lt;/threadCount&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```","title":"Maven - Failsafe plugin is not running cucumber tests in parallel","body":"<p>You're using the wrong value for <code>parallel</code>. You have to set it to methods or both. Otherwise Surefire will run all tests of your runner class serially.</p>\n<blockquote>\n<p><a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit\" rel=\"nofollow noreferrer\">https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit</a></p>\n<p>Cucumber JUnit supports parallel execution of feature files across multiple threads. To enable this with maven set the parallel property to either methods or both.</p>\n</blockquote>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;!-- Use 2.22.1 or higher --&gt;\n            &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;  \n            &lt;configuration&gt;\n                &lt;parallel&gt;both&lt;/parallel&gt;\n                &lt;threadCount&gt;4&lt;/threadCount&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":17983812,"reputation":35,"user_id":13069526,"display_name":"JagadeesanV"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3365,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62075740,"answer_count":1,"score":1,"last_activity_date":1661880609,"creation_date":1590682770,"question_id":62069572,"body_markdown":"I am trying to setup serenity cucumber tests to run in parallel \r\n\r\nI have added all the necessary configuration that have been mentioned but for some reason tests are executed in a single thread. I tried various combinations with forkCount, threadCount, parallel, useUnlimitedThreadCounts etc nothing seems to work.\r\n\r\nAlso tried having a dependency for JUnit 4 and 5 which didnt work as well.\r\n\r\n**Pom.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;serenity.version&gt;2.2.5&lt;/serenity.version&gt;\r\n        &lt;serenity.maven.version&gt;2.2.5&lt;/serenity.maven.version&gt;\r\n        &lt;serenity.cucumber5.version&gt;2.2.2&lt;/serenity.cucumber5.version&gt;\r\n        &lt;cucumber.version&gt;5.6.0&lt;/cucumber.version&gt;\r\n        &lt;selenium.version&gt;3.141.59&lt;/selenium.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- Cucumber --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Serenity --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n            &lt;artifactId&gt;serenity-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${serenity.version}&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n            &lt;artifactId&gt;serenity-cucumber5&lt;/artifactId&gt;\r\n            &lt;version&gt;${serenity.cucumber5.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Selenium --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;${selenium.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M4&lt;/version&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;surefire-junit47&lt;/artifactId&gt;\r\n                        &lt;version&gt;3.0.0-M4&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;parallel&gt;classes&lt;/parallel&gt;\r\n                    &lt;threadCount&gt;2&lt;/threadCount&gt;\r\n                    &lt;forkCount&gt;2C&lt;/forkCount&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nThe maven debug logs for verify indicates parallelMavenExecution is set to false for some reason.\r\n```\r\n[DEBUG] Configuring mojo org.apache.maven.plugins:maven-failsafe-plugin:3.0.0-M4:integration-test from plugin realm ClassRealm[plugin&gt;org.apache.maven.plugins:maven-failsafe-plugin:3.0.0-M4, parent: jdk.internal.loader.ClassLoaders$AppClassLoader@4f8e5cde]\r\n[DEBUG] Configuring mojo &#39;org.apache.maven.plugins:maven-failsafe-plugin:3.0.0-M4:integration-test&#39; with basic configurator --&gt;\r\n[DEBUG]   (s) additionalClasspathElements = []\r\n[DEBUG]   (s) basedir = /Users/vinothraj/IdeaProjects/hiscox-usa-portal-testsuite\r\n[DEBUG]   (s) childDelegation = false\r\n[DEBUG]   (s) classpathDependencyExcludes = []\r\n[DEBUG]   (s) defaultClassesDirectory = /target/classes\r\n[DEBUG]   (s) dependenciesToScan = []\r\n[DEBUG]   (s) disableXmlReport = false\r\n[DEBUG]   (s) enableAssertions = true\r\n[DEBUG]   (f) excludedEnvironmentVariables = []\r\n[DEBUG]   (f) forkCount = 2C\r\n[DEBUG]   (s) forkMode = once\r\n[DEBUG]   (s) forkedProcessExitTimeoutInSeconds = 30\r\n[DEBUG]   (s) junitArtifactName = junit:junit\r\n[DEBUG]   (s) localRepository =       id: local\r\n      url: file:///.m2/repository/\r\n   layout: default\r\nsnapshots: [enabled =&gt; true, update =&gt; always]\r\n releases: [enabled =&gt; true, update =&gt; always]\r\n\r\n[DEBUG]   (s) parallel = classes\r\n[DEBUG]   (f) parallelMavenExecution = false\r\n[DEBUG]   (s) parallelOptimized = true\r\n[DEBUG]   (s) perCoreThreadCount = true\r\n```\r\n\r\nThanks in advance.\r\n","title":"Maven - Failsafe plugin is not running cucumber tests in parallel","body":"<p>I am trying to setup serenity cucumber tests to run in parallel </p>\n\n<p>I have added all the necessary configuration that have been mentioned but for some reason tests are executed in a single thread. I tried various combinations with forkCount, threadCount, parallel, useUnlimitedThreadCounts etc nothing seems to work.</p>\n\n<p>Also tried having a dependency for JUnit 4 and 5 which didnt work as well.</p>\n\n<p><strong>Pom.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n\n    &lt;properties&gt;\n        &lt;serenity.version&gt;2.2.5&lt;/serenity.version&gt;\n        &lt;serenity.maven.version&gt;2.2.5&lt;/serenity.maven.version&gt;\n        &lt;serenity.cucumber5.version&gt;2.2.2&lt;/serenity.cucumber5.version&gt;\n        &lt;cucumber.version&gt;5.6.0&lt;/cucumber.version&gt;\n        &lt;selenium.version&gt;3.141.59&lt;/selenium.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- Cucumber --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Serenity --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n            &lt;artifactId&gt;serenity-core&lt;/artifactId&gt;\n            &lt;version&gt;${serenity.version}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n                    &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n            &lt;artifactId&gt;serenity-cucumber5&lt;/artifactId&gt;\n            &lt;version&gt;${serenity.cucumber5.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Selenium --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;${selenium.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M4&lt;/version&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\n                        &lt;artifactId&gt;surefire-junit47&lt;/artifactId&gt;\n                        &lt;version&gt;3.0.0-M4&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n                &lt;configuration&gt;\n                    &lt;parallel&gt;classes&lt;/parallel&gt;\n                    &lt;threadCount&gt;2&lt;/threadCount&gt;\n                    &lt;forkCount&gt;2C&lt;/forkCount&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n\n<p>The maven debug logs for verify indicates parallelMavenExecution is set to false for some reason.</p>\n\n<pre><code>[DEBUG] Configuring mojo org.apache.maven.plugins:maven-failsafe-plugin:3.0.0-M4:integration-test from plugin realm ClassRealm[plugin&gt;org.apache.maven.plugins:maven-failsafe-plugin:3.0.0-M4, parent: jdk.internal.loader.ClassLoaders$AppClassLoader@4f8e5cde]\n[DEBUG] Configuring mojo 'org.apache.maven.plugins:maven-failsafe-plugin:3.0.0-M4:integration-test' with basic configurator --&gt;\n[DEBUG]   (s) additionalClasspathElements = []\n[DEBUG]   (s) basedir = /Users/vinothraj/IdeaProjects/hiscox-usa-portal-testsuite\n[DEBUG]   (s) childDelegation = false\n[DEBUG]   (s) classpathDependencyExcludes = []\n[DEBUG]   (s) defaultClassesDirectory = /target/classes\n[DEBUG]   (s) dependenciesToScan = []\n[DEBUG]   (s) disableXmlReport = false\n[DEBUG]   (s) enableAssertions = true\n[DEBUG]   (f) excludedEnvironmentVariables = []\n[DEBUG]   (f) forkCount = 2C\n[DEBUG]   (s) forkMode = once\n[DEBUG]   (s) forkedProcessExitTimeoutInSeconds = 30\n[DEBUG]   (s) junitArtifactName = junit:junit\n[DEBUG]   (s) localRepository =       id: local\n      url: file:///.m2/repository/\n   layout: default\nsnapshots: [enabled =&gt; true, update =&gt; always]\n releases: [enabled =&gt; true, update =&gt; always]\n\n[DEBUG]   (s) parallel = classes\n[DEBUG]   (f) parallelMavenExecution = false\n[DEBUG]   (s) parallelOptimized = true\n[DEBUG]   (s) perCoreThreadCount = true\n</code></pre>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","xml","xslt","jar"],"comments":[{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1661862667,"post_id":73541926,"comment_id":129868181,"body_markdown":"If you load the XSLT code from a string with `factory.newTransformer(new StreamSource(new StringReader(xslt)));`, how do you expect it to resolve a relative URI like `functions.xslt`?","body":"If you load the XSLT code from a string with <code>factory.newTransformer(new StreamSource(new StringReader(xslt)));</code>, how do you expect it to resolve a relative URI like <code>functions.xslt</code>?"},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":2,"creation_date":1661862825,"post_id":73541926,"comment_id":129868233,"body_markdown":"Consider to provide a base URI/system id https://docs.oracle.com/javase/7/docs/api/javax/xml/transform/stream/StreamSource.html#StreamSource(java.io.Reader,%20java.lang.String)","body":"Consider to provide a base URI/system id <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/xml/transform/stream/StreamSource.html#StreamSource(java.io.Reader,%20java.lang.String)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/javax/xml/transform/stream&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":6839059,"reputation":178,"user_id":5275728,"accept_rate":25,"display_name":"Gene Smith"},"score":0,"creation_date":1661866510,"post_id":73541926,"comment_id":129869766,"body_markdown":"@MartinHonnen thanks I did not think of it that way. I will give it a try","body":"@MartinHonnen thanks I did not think of it that way. I will give it a try"}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661880406,"creation_date":1661880406,"answer_id":73546375,"question_id":73541926,"body_markdown":"The XSLT processor cannot resolve a relative URI in xsl:include/xsl:import unless it knows the base URI of the stylesheet. If you supply the input as a StreamSource wrapping an InputStream, without also supplying a SystemId, then the base URI will be unknown.\r\n\r\nIn your example the XSLT processor has no idea where the stylesheet code came from.","title":"Unable find href within XSLT, when transforming XML. Java","body":"<p>The XSLT processor cannot resolve a relative URI in xsl:include/xsl:import unless it knows the base URI of the stylesheet. If you supply the input as a StreamSource wrapping an InputStream, without also supplying a SystemId, then the base URI will be unknown.</p>\n<p>In your example the XSLT processor has no idea where the stylesheet code came from.</p>\n"}],"owner":{"account_id":6839059,"reputation":178,"user_id":5275728,"accept_rate":25,"display_name":"Gene Smith"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73546375,"answer_count":1,"score":1,"last_activity_date":1661880406,"creation_date":1661859974,"question_id":73541926,"body_markdown":"Some background... I am transforming a xml (condensedModel) file using a xslt (deployments.xslt). \r\n\r\nI have a **deployments.xslt** file that is using a **functions.xslt** file that is included using href.\r\nThis is where the problem looks to be. It seems to not be able to find the functions.xslt file I made and am referencing within that file.\r\n\r\n    &lt;xsl:stylesheet version=&quot;1.0&quot;\r\n                xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\r\n    &lt;xsl:output method=&quot;text&quot; omit-xml-declaration=&quot;yes&quot; indent=&quot;no&quot;/&gt;\r\n    &lt;xsl:variable name=&quot;lowercase&quot; select=&quot;&#39;abcdefghijklmnopqrstuvwxyz-_&#39;&quot;/&gt;\r\n    &lt;xsl:variable name=&quot;uppercase&quot; select=&quot;&#39;ABCDEFGHIJKLMNOPQRSTUVWXYZ. &#39;&quot;/&gt;\r\n    &lt;!--    &lt;xsl:variable name=&quot;kubename&quot; select=&quot;&#39;name&#39;&quot;/&gt;--&gt;\r\n    &lt;xsl:variable name=&quot;kubename&quot; select=&quot;&#39;app.kubernetes.io/name&#39;&quot;/&gt;\r\n    &lt;xsl:variable name=&quot;quot&quot;&gt;&quot;&lt;/xsl:variable&gt;\r\n    &lt;xsl:variable name=&quot;apos&quot;&gt;&#39;&lt;/xsl:variable&gt;\r\n    &lt;xsl:include href=&quot;functions.xslt&quot;/&gt;\r\n\r\n\r\n\r\nJava:\r\n\r\n\r\n\r\n      private TransformerFactory factory = TransformerFactory.newInstance();\r\n      private Transformer transformer;\r\n\r\n      private void init(String xslt) throws IOException, TransformerConfigurationException, AggregatorException {\r\n       if (xslt == null || xslt.isEmpty()) {\r\n         throw new AggregatorException(&quot;XSLT was null or empty. Unable to transform condensed model to yaml&quot;);\r\n       }\r\n       transformer = factory.newTransformer(new StreamSource(new StringReader(xslt)));\r\n\r\n       Security.addProvider(new BouncyCastleProvider()); \r\n     }\r\n\r\n      public String transform(TransformingYamlEnum transformerToUse) throws TransformerException, IOException, AggregatorException {\r\n        String xslt = determineXsltToUse(transformerToUse);\r\n        init(xslt);\r\n    \r\n        try (ByteArrayOutputStream bos = new ByteArrayOutputStream()) {\r\n          InputStream inputStream = new ByteArrayInputStream(condensedModel.getBytes(StandardCharsets.UTF_8));\r\n          process(inputStream, bos);\r\n    \r\n          return bos.toString(&quot;UTF-8&quot;);\r\n        }\r\n      }\r\n\r\n      private void process(InputStream inputStream, OutputStream outputStream) throws TransformerException {\r\n        transformer.transform(\r\n            new StreamSource(inputStream),\r\n            new StreamResult(outputStream));\r\n      }\r\n\r\nThis is obviously within a jar and the deployments.xslt is being loaded in within my init(). The actual transformation takes place when I call trasform().\r\n\r\nIt does work when I hard code the path to let&#39;s say the desktop and manually place the functions.xslt file on the desktop. But as you can imagine, this is not a viable option. Any ideas about what I am doing wrong?","title":"Unable find href within XSLT, when transforming XML. Java","body":"<p>Some background... I am transforming a xml (condensedModel) file using a xslt (deployments.xslt).</p>\n<p>I have a <strong>deployments.xslt</strong> file that is using a <strong>functions.xslt</strong> file that is included using href.\nThis is where the problem looks to be. It seems to not be able to find the functions.xslt file I made and am referencing within that file.</p>\n<pre><code>&lt;xsl:stylesheet version=&quot;1.0&quot;\n            xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\n&lt;xsl:output method=&quot;text&quot; omit-xml-declaration=&quot;yes&quot; indent=&quot;no&quot;/&gt;\n&lt;xsl:variable name=&quot;lowercase&quot; select=&quot;'abcdefghijklmnopqrstuvwxyz-_'&quot;/&gt;\n&lt;xsl:variable name=&quot;uppercase&quot; select=&quot;'ABCDEFGHIJKLMNOPQRSTUVWXYZ. '&quot;/&gt;\n&lt;!--    &lt;xsl:variable name=&quot;kubename&quot; select=&quot;'name'&quot;/&gt;--&gt;\n&lt;xsl:variable name=&quot;kubename&quot; select=&quot;'app.kubernetes.io/name'&quot;/&gt;\n&lt;xsl:variable name=&quot;quot&quot;&gt;&quot;&lt;/xsl:variable&gt;\n&lt;xsl:variable name=&quot;apos&quot;&gt;'&lt;/xsl:variable&gt;\n&lt;xsl:include href=&quot;functions.xslt&quot;/&gt;\n</code></pre>\n<p>Java:</p>\n<pre><code>  private TransformerFactory factory = TransformerFactory.newInstance();\n  private Transformer transformer;\n\n  private void init(String xslt) throws IOException, TransformerConfigurationException, AggregatorException {\n   if (xslt == null || xslt.isEmpty()) {\n     throw new AggregatorException(&quot;XSLT was null or empty. Unable to transform condensed model to yaml&quot;);\n   }\n   transformer = factory.newTransformer(new StreamSource(new StringReader(xslt)));\n\n   Security.addProvider(new BouncyCastleProvider()); \n }\n\n  public String transform(TransformingYamlEnum transformerToUse) throws TransformerException, IOException, AggregatorException {\n    String xslt = determineXsltToUse(transformerToUse);\n    init(xslt);\n\n    try (ByteArrayOutputStream bos = new ByteArrayOutputStream()) {\n      InputStream inputStream = new ByteArrayInputStream(condensedModel.getBytes(StandardCharsets.UTF_8));\n      process(inputStream, bos);\n\n      return bos.toString(&quot;UTF-8&quot;);\n    }\n  }\n\n  private void process(InputStream inputStream, OutputStream outputStream) throws TransformerException {\n    transformer.transform(\n        new StreamSource(inputStream),\n        new StreamResult(outputStream));\n  }\n</code></pre>\n<p>This is obviously within a jar and the deployments.xslt is being loaded in within my init(). The actual transformation takes place when I call trasform().</p>\n<p>It does work when I hard code the path to let's say the desktop and manually place the functions.xslt file on the desktop. But as you can imagine, this is not a viable option. Any ideas about what I am doing wrong?</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1661880151,"post_id":73546332,"comment_id":129875395,"body_markdown":"Check if that folder exists on your machine.","body":"Check if that folder exists on your machine."},{"owner":{"account_id":10376986,"reputation":146,"user_id":10962675,"display_name":"Auvee"},"score":0,"creation_date":1661880235,"post_id":73546332,"comment_id":129875425,"body_markdown":"it does exist. I did the java --version.","body":"it does exist. I did the java --version."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1661880336,"post_id":73546332,"comment_id":129875471,"body_markdown":"@Auvee that doesn&#39;t prove the directory exists. It only proves you have a `java.exe` executable in your path","body":"@Auvee that doesn&#39;t prove the directory exists. It only proves you have a <code>java.exe</code> executable in your path"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":1,"creation_date":1661880338,"post_id":73546332,"comment_id":129875473,"body_markdown":"`java --version` tells you that the `java` command exists somewhere, but it doesn&#39;t tell you where. You need to check that the folder exists.","body":"<code>java --version</code> tells you that the <code>java</code> command exists somewhere, but it doesn&#39;t tell you where. You need to check that the folder exists."},{"owner":{"account_id":10376986,"reputation":146,"user_id":10962675,"display_name":"Auvee"},"score":0,"creation_date":1661880736,"post_id":73546332,"comment_id":129875594,"body_markdown":"So how can I check or what should I check?","body":"So how can I check or what should I check?"},{"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"score":0,"creation_date":1661880775,"post_id":73546332,"comment_id":129875609,"body_markdown":"Also, since you have %JAVA_HOME%\\bin in the list you don&#39;t need to also include the full path to the jdk&#39;s \\bin directory that you have listed above it (nor the full path to the jre), as that&#39;s redundant.","body":"Also, since you have %JAVA_HOME%\\bin in the list you don&#39;t need to also include the full path to the jdk&#39;s \\bin directory that you have listed above it (nor the full path to the jre), as that&#39;s redundant."},{"owner":{"account_id":10376986,"reputation":146,"user_id":10962675,"display_name":"Auvee"},"score":0,"creation_date":1661880783,"post_id":73546332,"comment_id":129875612,"body_markdown":"No but I am trying to figure it out @Woodchuck","body":"No but I am trying to figure it out @Woodchuck"},{"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"score":0,"creation_date":1661880924,"post_id":73546332,"comment_id":129875653,"body_markdown":"What do you get if you run this?: where java","body":"What do you get if you run this?: where java"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1661881005,"post_id":73546332,"comment_id":129875681,"body_markdown":"hit windows+R, then enter that path (C:\\Program Files\\Java\\jdk1.8.0_202\\bin). Does it open a folder?","body":"hit windows+R, then enter that path (C:\\Program Files\\Java\\jdk1.8.0_202\\bin). Does it open a folder?"},{"owner":{"account_id":6193930,"reputation":2587,"user_id":4825845,"display_name":"Juan Moreno"},"score":2,"creation_date":1661881093,"post_id":73546332,"comment_id":129875713,"body_markdown":"What is the output of `echo %JAVA_HOME%`?","body":"What is the output of <code>echo %JAVA_HOME%</code>?"}],"answers":[{"tags":[],"owner":{"account_id":6193930,"reputation":2587,"user_id":4825845,"display_name":"Juan Moreno"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661880345,"creation_date":1661880345,"answer_id":73546367,"question_id":73546332,"body_markdown":"`JAVA_HOME` shouldn’t point to the `bin` directory. It should point to the JDK installation path. \r\n\r\nIt should be: `C:\\Program Files\\Java\\jdk1.8.0_202`, also you don&#39;t need JRE if you already have `%JAVA_HOME%\\bin`, see https://www.baeldung.com/java-home-on-windows-7-8-10-mac-os-x-linux\r\n","title":"JAVA_HOME is set to an invalid directory: C:\\Program Files\\Java\\jdk1.8.0_202\\bin","body":"<p><code>JAVA_HOME</code> shouldn’t point to the <code>bin</code> directory. It should point to the JDK installation path.</p>\n<p>It should be: <code>C:\\Program Files\\Java\\jdk1.8.0_202</code>, also you don't need JRE if you already have <code>%JAVA_HOME%\\bin</code>, see <a href=\"https://www.baeldung.com/java-home-on-windows-7-8-10-mac-os-x-linux\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-home-on-windows-7-8-10-mac-os-x-linux</a></p>\n"}],"owner":{"account_id":10376986,"reputation":146,"user_id":10962675,"display_name":"Auvee"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1413,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1661944234,"accepted_answer_id":73546367,"answer_count":1,"score":0,"last_activity_date":1661880345,"creation_date":1661880077,"question_id":73546332,"body_markdown":"I am trying to run a React native app with this command \r\n\r\n    npx react-native run-android --variant=stagingDebug --appId com.ursafe_staging\r\n\r\nBut getting this wrong environment path error\r\n\r\n    ERROR: JAVA_HOME is set to an invalid directory: C:\\Program Files\\Java\\jdk1.8.0_202\\bin\r\n    \r\n    Please set the JAVA_HOME variable in your environment to match the\r\n    location of your Java installation.\r\n    \r\n    error Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\r\n    Error: Command failed: gradlew.bat app:installStagingDebug -PreactNativeDevServerPort=8081\r\n\r\nHere is my environment path looks like\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nand this one \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DKA28.png\r\n  [2]: https://i.stack.imgur.com/ZonSy.png\r\n\r\n\r\nStill getting the error when I run the command.","title":"JAVA_HOME is set to an invalid directory: C:\\Program Files\\Java\\jdk1.8.0_202\\bin","body":"<p>I am trying to run a React native app with this command</p>\n<pre><code>npx react-native run-android --variant=stagingDebug --appId com.ursafe_staging\n</code></pre>\n<p>But getting this wrong environment path error</p>\n<pre><code>ERROR: JAVA_HOME is set to an invalid directory: C:\\Program Files\\Java\\jdk1.8.0_202\\bin\n\nPlease set the JAVA_HOME variable in your environment to match the\nlocation of your Java installation.\n\nerror Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\nError: Command failed: gradlew.bat app:installStagingDebug -PreactNativeDevServerPort=8081\n</code></pre>\n<p>Here is my environment path looks like</p>\n<p><a href=\"https://i.stack.imgur.com/DKA28.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DKA28.png\" alt=\"enter image description here\" /></a></p>\n<p>and this one</p>\n<p><a href=\"https://i.stack.imgur.com/ZonSy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZonSy.png\" alt=\"enter image description here\" /></a></p>\n<p>Still getting the error when I run the command.</p>\n"},{"tags":["java","spring","spring-security"],"answers":[{"tags":[],"owner":{"account_id":2588110,"reputation":7132,"user_id":2243324,"display_name":"jzheaux"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661880142,"creation_date":1661880142,"answer_id":73546337,"question_id":73534832,"body_markdown":"You can construct the `AuthenticationManager` yourself, for example:\r\n\r\n```java\r\n@Bean\r\nAuthenticationManager apiAuthenticationManager(InMemoryUserDetailsManager users) {\r\n    DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\r\n    provider.setUserDetailsService(users);\r\n    return new ProviderManager(provider);\r\n}\r\n```","title":"Spring security Expose Multiple Authentication Managers without WebSecurityConfigurerAdapter","body":"<p>You can construct the <code>AuthenticationManager</code> yourself, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nAuthenticationManager apiAuthenticationManager(InMemoryUserDetailsManager users) {\n    DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\n    provider.setUserDetailsService(users);\n    return new ProviderManager(provider);\n}\n</code></pre>\n"}],"owner":{"account_id":16508870,"reputation":57,"user_id":11928210,"display_name":"Doug Yachera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73546337,"answer_count":1,"score":0,"last_activity_date":1661880142,"creation_date":1661808318,"question_id":73534832,"body_markdown":"Now that ```WebSecurityConfigurerAdapter``` has been deprecated I am trying to update my code to use the new ways to set up authentication based off : https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\r\n\r\nI currently use ldap authentication as well as in memory authentication.  In my app I need to expose the AuthenticationManagers as beans for each.  My old code this was done aby creating two separate WebSecurityConfigurerAdapter:\r\n```\r\n@Configuration\r\n@Order(1)\r\npublic class APIWebSecurityConfigurerAdapter extends WebSecurityConfigurerAdapter {\r\n\r\n\t\tpublic void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\t\tauth\r\n\t\t\t.inMemoryAuthentication()\r\n\t\t\t.withUser(ApiRolesUsers.API_VIEW_ALL).password(&quot;{noop}&quot; + apiKeyStore.getKeyByUserName(ApiRolesUsers.API_VIEW_ALL)).roles(ApiRolesUsers.API_VIEW_ALL)\r\n\t\t\t.and()\r\n\t\t\t.withUser(ApiRolesUsers.API_UPDATE_ALL).password(&quot;{noop}&quot; + apiKeyStore.getKeyByUserName(ApiRolesUsers.API_UPDATE_ALL)).roles(ApiRolesUsers.API_UPDATE_ALL)\r\n\t\t\t.and()\r\n\t\t\t.withUser(ApiRolesUsers.API_EDL_UPDATE).password(&quot;{noop}&quot; + apiKeyStore.getKeyByUserName(ApiRolesUsers.API_EDL_UPDATE)).roles(ApiRolesUsers.API_EDL_UPDATE);\r\n\t\t}\r\n...\r\n        @Bean( name = &quot;apiAuthenticationManager&quot;)\r\n\t\tpublic AuthenticationManager authenticationManagerBean() throws Exception {\r\n\t\t\treturn super.authenticationManagerBean();\r\n\t\t}\r\n...\r\n}\r\n```\r\n\r\nand\r\n\r\n```\r\n    @Configuration\r\n\t@Order(2)\r\n\tpublic class FormLoginWebSecurityConfigurerAdapter extends WebSecurityConfigurerAdapter {\r\n\r\n        @Autowired\r\n\t\t@Override\r\n\t\tpublic void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\t\tauth\r\n\t\t\t.ldapAuthentication()\r\n\t\t\t.userSearchBase(ldapUserSearchBase)\r\n\t\t\t.userSearchFilter(ldapUserSearchFilter)\r\n\t\t\t.groupSearchBase(ldapGroupSearchBase)\r\n\t\t\t.contextSource(ldapContextSource);\r\n...\r\n        @Bean( name = &quot;authenticationManager&quot;)\r\n\t\tpublic AuthenticationManager authenticationManagerBean() throws Exception {\r\n\t\t\treturn super.authenticationManagerBean();\r\n\t\t}\r\n...\r\n}\r\n```\r\n\r\nFrom there I could then autowire both &quot;authenticationManager&quot; and &quot;apiAuthenticationManager&quot;. I am able to recreate the &quot;authenticationManager&quot; part without ```WebSecurityConfigurerAdapter ``` in the new format with:\r\n\r\n```\r\n\t@Bean(name = &quot;authenticationManager&quot;)\r\n\tAuthenticationManager ldapAuthenticationManager(\r\n\t\t\tLdapContextSource contextSource) {\r\n\t\tLdapBindAuthenticationManagerFactory factory = \r\n\t\t\t\tnew LdapBindAuthenticationManagerFactory(contextSource);\r\n\t\tfactory.setUserSearchBase(ldapUserSearchBase);\r\n\t\tfactory.setUserSearchFilter(ldapUserSearchFilter);\r\n\t\treturn factory.createAuthenticationManager();\r\n\t}\r\n```\r\n\r\nBased off new spring documentation I am able to create the in memory part with:\r\n```\r\n    //How do I expose AuthenticationManager for this???\r\n\tpublic InMemoryUserDetailsManager inMemoryUserDetailsManager(AuthenticationConfiguration providerManager) {\r\n\t\t\r\n\t\tUserDetails apiViewAll = User.builder()\r\n\t\t\t\t.username(ApiRolesUsers.API_VIEW_ALL)\r\n\t\t\t\t.password(&quot;{noop}&quot; + apiKeyStore.getKeyByUserName(ApiRolesUsers.API_VIEW_ALL))\r\n\t\t\t\t.roles(ApiRolesUsers.API_VIEW_ALL)\r\n\t\t\t\t.build();\r\n\r\n\t\tUserDetails updateAll = User.builder()\r\n\t\t\t\t.username(ApiRolesUsers.API_UPDATE_ALL)\r\n\t\t\t\t.password(&quot;{noop}&quot; + apiKeyStore.getKeyByUserName(ApiRolesUsers.API_UPDATE_ALL))\r\n\t\t\t\t.roles(ApiRolesUsers.API_UPDATE_ALL)\r\n\t\t\t\t.build();\r\n\r\n\t\tUserDetails edlUpdate = User.builder()\r\n\t\t\t\t.username(ApiRolesUsers.API_EDL_UPDATE)\r\n\t\t\t\t.password(&quot;{noop}&quot; + apiKeyStore.getKeyByUserName(ApiRolesUsers.API_EDL_UPDATE))\r\n\t\t\t\t.roles(ApiRolesUsers.API_EDL_UPDATE)\r\n\t\t\t\t.build();\r\n\t\t\r\n\t\tInMemoryUserDetailsManager manager = new InMemoryUserDetailsManager(apiViewAll, updateAll, edlUpdate);\r\n\t\t\r\n\t\treturn manager;\r\n\t}\r\n```\r\nIn the above I need to expose the related AuthenticationManager that ```WebSecurityConfigurerAdapter ``` was able to do before they deprecated it.\r\nDoing something like this only returns the ldap authentication...\r\n```\r\n@Bean(name = &quot;apiAuthenticationManager&quot;) {\r\npublic AuthenticationManager authenticationManager(AuthenticationConfiguration \r\n     authenticationConfiguration) throws Exception {\r\n     return authenticationConfiguration.getAuthenticationManager();\r\n}\r\n```\r\n\r\nDoes anyone know how I can implement and expose both AuthenticationManagers without the use of ```WebSecurityConfigurerAdapter ```\r\n","title":"Spring security Expose Multiple Authentication Managers without WebSecurityConfigurerAdapter","body":"<p>Now that <code>WebSecurityConfigurerAdapter</code> has been deprecated I am trying to update my code to use the new ways to set up authentication based off : <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter</a></p>\n<p>I currently use ldap authentication as well as in memory authentication.  In my app I need to expose the AuthenticationManagers as beans for each.  My old code this was done aby creating two separate WebSecurityConfigurerAdapter:</p>\n<pre><code>@Configuration\n@Order(1)\npublic class APIWebSecurityConfigurerAdapter extends WebSecurityConfigurerAdapter {\n\n        public void configure(AuthenticationManagerBuilder auth) throws Exception {\n            auth\n            .inMemoryAuthentication()\n            .withUser(ApiRolesUsers.API_VIEW_ALL).password(&quot;{noop}&quot; + apiKeyStore.getKeyByUserName(ApiRolesUsers.API_VIEW_ALL)).roles(ApiRolesUsers.API_VIEW_ALL)\n            .and()\n            .withUser(ApiRolesUsers.API_UPDATE_ALL).password(&quot;{noop}&quot; + apiKeyStore.getKeyByUserName(ApiRolesUsers.API_UPDATE_ALL)).roles(ApiRolesUsers.API_UPDATE_ALL)\n            .and()\n            .withUser(ApiRolesUsers.API_EDL_UPDATE).password(&quot;{noop}&quot; + apiKeyStore.getKeyByUserName(ApiRolesUsers.API_EDL_UPDATE)).roles(ApiRolesUsers.API_EDL_UPDATE);\n        }\n...\n        @Bean( name = &quot;apiAuthenticationManager&quot;)\n        public AuthenticationManager authenticationManagerBean() throws Exception {\n            return super.authenticationManagerBean();\n        }\n...\n}\n</code></pre>\n<p>and</p>\n<pre><code>    @Configuration\n    @Order(2)\n    public class FormLoginWebSecurityConfigurerAdapter extends WebSecurityConfigurerAdapter {\n\n        @Autowired\n        @Override\n        public void configure(AuthenticationManagerBuilder auth) throws Exception {\n            auth\n            .ldapAuthentication()\n            .userSearchBase(ldapUserSearchBase)\n            .userSearchFilter(ldapUserSearchFilter)\n            .groupSearchBase(ldapGroupSearchBase)\n            .contextSource(ldapContextSource);\n...\n        @Bean( name = &quot;authenticationManager&quot;)\n        public AuthenticationManager authenticationManagerBean() throws Exception {\n            return super.authenticationManagerBean();\n        }\n...\n}\n</code></pre>\n<p>From there I could then autowire both &quot;authenticationManager&quot; and &quot;apiAuthenticationManager&quot;. I am able to recreate the &quot;authenticationManager&quot; part without <code>WebSecurityConfigurerAdapter </code> in the new format with:</p>\n<pre><code>    @Bean(name = &quot;authenticationManager&quot;)\n    AuthenticationManager ldapAuthenticationManager(\n            LdapContextSource contextSource) {\n        LdapBindAuthenticationManagerFactory factory = \n                new LdapBindAuthenticationManagerFactory(contextSource);\n        factory.setUserSearchBase(ldapUserSearchBase);\n        factory.setUserSearchFilter(ldapUserSearchFilter);\n        return factory.createAuthenticationManager();\n    }\n</code></pre>\n<p>Based off new spring documentation I am able to create the in memory part with:</p>\n<pre><code>    //How do I expose AuthenticationManager for this???\n    public InMemoryUserDetailsManager inMemoryUserDetailsManager(AuthenticationConfiguration providerManager) {\n        \n        UserDetails apiViewAll = User.builder()\n                .username(ApiRolesUsers.API_VIEW_ALL)\n                .password(&quot;{noop}&quot; + apiKeyStore.getKeyByUserName(ApiRolesUsers.API_VIEW_ALL))\n                .roles(ApiRolesUsers.API_VIEW_ALL)\n                .build();\n\n        UserDetails updateAll = User.builder()\n                .username(ApiRolesUsers.API_UPDATE_ALL)\n                .password(&quot;{noop}&quot; + apiKeyStore.getKeyByUserName(ApiRolesUsers.API_UPDATE_ALL))\n                .roles(ApiRolesUsers.API_UPDATE_ALL)\n                .build();\n\n        UserDetails edlUpdate = User.builder()\n                .username(ApiRolesUsers.API_EDL_UPDATE)\n                .password(&quot;{noop}&quot; + apiKeyStore.getKeyByUserName(ApiRolesUsers.API_EDL_UPDATE))\n                .roles(ApiRolesUsers.API_EDL_UPDATE)\n                .build();\n        \n        InMemoryUserDetailsManager manager = new InMemoryUserDetailsManager(apiViewAll, updateAll, edlUpdate);\n        \n        return manager;\n    }\n</code></pre>\n<p>In the above I need to expose the related AuthenticationManager that <code>WebSecurityConfigurerAdapter </code> was able to do before they deprecated it.\nDoing something like this only returns the ldap authentication...</p>\n<pre><code>@Bean(name = &quot;apiAuthenticationManager&quot;) {\npublic AuthenticationManager authenticationManager(AuthenticationConfiguration \n     authenticationConfiguration) throws Exception {\n     return authenticationConfiguration.getAuthenticationManager();\n}\n</code></pre>\n<p>Does anyone know how I can implement and expose both AuthenticationManagers without the use of <code>WebSecurityConfigurerAdapter </code></p>\n"},{"tags":["java","kotlin","mocking","stub","wiremock"],"answers":[{"tags":[],"owner":{"account_id":16106441,"reputation":6176,"user_id":11625850,"display_name":"agoff"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661880042,"creation_date":1661880042,"answer_id":73546322,"question_id":73544313,"body_markdown":"[WireMock has a specific path requirement.][1]\r\n\r\n&gt; To read the body content from a file, place the file under the __files directory. By default this is expected to be under src/test/resources when running from the JUnit rule. \r\n\r\nMake sure your file is located at `src/test/resources/__files/something.json`.\r\n\r\n  [1]: https://wiremock.org/docs/stubbing/#specifying-the-response-body","title":"Wiremock - how to read response from json file?","body":"<p><a href=\"https://wiremock.org/docs/stubbing/#specifying-the-response-body\" rel=\"nofollow noreferrer\">WireMock has a specific path requirement.</a></p>\n<blockquote>\n<p>To read the body content from a file, place the file under the __files directory. By default this is expected to be under src/test/resources when running from the JUnit rule.</p>\n</blockquote>\n<p>Make sure your file is located at <code>src/test/resources/__files/something.json</code>.</p>\n"}],"owner":{"account_id":19973429,"reputation":25,"user_id":14638359,"display_name":"sugo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3867,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661880042,"creation_date":1661870458,"question_id":73544313,"body_markdown":"I am trying to use wiremock, using this dependency:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\r\n    &lt;artifactId&gt;wiremock-jre8&lt;/artifactId&gt;\r\n    &lt;version&gt;2.33.2&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\nI intend to read responses from json files. However, nothing I do works. The test passes without reading the file (I&#39;ve attempted to use random file names and it always works). What could be wrong here?\r\n\r\n\r\n```\r\n@SpringBootTest\r\n@TestExecutionListeners\r\n@ContextConfiguration(initializers = [WireMockContextInitializer::class])\r\n@AutoConfigureWebTestClient\r\nclass EndpointsTest {\r\n\r\n    @Autowired\r\n    private lateinit var wireMockServer: WireMockServer\r\n\r\n    @AfterEach\r\n    fun afterEach() {\r\n        wireMockServer.resetAll()\r\n    }\r\n\r\n    @Test\r\n    fun anything() {\r\n        wireMockServer = WireMockServer()\r\n        wireMockServer.stubFor(post(&quot;/some-endpoint&quot;).willReturn(aResponse().withBodyFile(&quot;something.json&quot;)))\r\n        ...\r\n    }\r\n}\r\n```\r\n","title":"Wiremock - how to read response from json file?","body":"<p>I am trying to use wiremock, using this dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\n    &lt;artifactId&gt;wiremock-jre8&lt;/artifactId&gt;\n    &lt;version&gt;2.33.2&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I intend to read responses from json files. However, nothing I do works. The test passes without reading the file (I've attempted to use random file names and it always works). What could be wrong here?</p>\n<pre><code>@SpringBootTest\n@TestExecutionListeners\n@ContextConfiguration(initializers = [WireMockContextInitializer::class])\n@AutoConfigureWebTestClient\nclass EndpointsTest {\n\n    @Autowired\n    private lateinit var wireMockServer: WireMockServer\n\n    @AfterEach\n    fun afterEach() {\n        wireMockServer.resetAll()\n    }\n\n    @Test\n    fun anything() {\n        wireMockServer = WireMockServer()\n        wireMockServer.stubFor(post(&quot;/some-endpoint&quot;).willReturn(aResponse().withBodyFile(&quot;something.json&quot;)))\n        ...\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium","parameters","jenkins","testng"],"answers":[{"tags":[],"owner":{"account_id":390524,"reputation":5786,"user_id":750650,"display_name":"Łukasz Rżanek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1413374128,"creation_date":1413374128,"answer_id":26381946,"question_id":26380231,"body_markdown":"Jenkins have a [built-in parameters handling](https://wiki.jenkins-ci.org/display/JENKINS/Parameterized+Build), which is quite flexible in it&#39;s own way. But in this case, since you want to pass a filename as parameter, you can easily combine that functionality with a [Filesystem List Parameter](https://wiki.jenkins-ci.org/display/JENKINS/Filesystem+List+Parameter+Plug-in), which can build the list based on a regexp that will parse list of files. \r\n\r\nIf you use Maven or Ant, you can embed that parameter within your build process, in a form similar to this:\r\n\r\n      &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;systemPropertyVariables&gt;\r\n                    &lt;environment&gt;${env.PARAM}&lt;/environment&gt;\r\n                &lt;/systemPropertyVariables&gt;\r\n                &lt;suiteXmlFiles&gt; \r\n                    &lt;suiteXmlFile&gt;testng.xml&lt;/suiteXmlFile&gt;\r\n                &lt;/suiteXmlFiles&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\nWith this you can read the parameter that was passed on to Maven - in Jenkins using it&#39;s internal caller, and on command line with:\r\n\r\n    mvn install -Denv.PARAM=VALUE\r\n\r\nSo it should work either way...","title":"Jenkins pass parameters to testNG Java","body":"<p>Jenkins have a <a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Parameterized+Build\" rel=\"nofollow\">built-in parameters handling</a>, which is quite flexible in it's own way. But in this case, since you want to pass a filename as parameter, you can easily combine that functionality with a <a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Filesystem+List+Parameter+Plug-in\" rel=\"nofollow\">Filesystem List Parameter</a>, which can build the list based on a regexp that will parse list of files. </p>\n\n<p>If you use Maven or Ant, you can embed that parameter within your build process, in a form similar to this:</p>\n\n<pre><code>  &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;systemPropertyVariables&gt;\n                &lt;environment&gt;${env.PARAM}&lt;/environment&gt;\n            &lt;/systemPropertyVariables&gt;\n            &lt;suiteXmlFiles&gt; \n                &lt;suiteXmlFile&gt;testng.xml&lt;/suiteXmlFile&gt;\n            &lt;/suiteXmlFiles&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n\n<p>With this you can read the parameter that was passed on to Maven - in Jenkins using it's internal caller, and on command line with:</p>\n\n<pre><code>mvn install -Denv.PARAM=VALUE\n</code></pre>\n\n<p>So it should work either way...</p>\n"}],"owner":{"account_id":1387346,"reputation":531,"user_id":1319067,"accept_rate":86,"display_name":"Student"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6825,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":26381946,"answer_count":1,"score":1,"last_activity_date":1661880042,"creation_date":1413368780,"question_id":26380231,"body_markdown":"I am working on a test automation framework using testNG, Selenium and Jenkins. The code is working fine, it reads one or more csv files and uses that as test data. I run the test from Jenkins.\r\n\r\n&lt;code class=&#39;prettyprint&#39; lang-java&gt;\r\n    \r\n\r\n    package test;\r\n    import java.io.BufferedReader;\r\n    import java.io.File;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.lang.reflect.Method;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.ArrayList;\r\n    import java.util.Date;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    \r\n    import org.apache.commons.io.FileUtils;\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.OutputType;\r\n    import org.openqa.selenium.TakesScreenshot;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    import org.openqa.selenium.ie.InternetExplorerDriver;\r\n    import org.testng.annotations.AfterClass;\r\n    import org.testng.annotations.AfterMethod;\r\n    import org.testng.annotations.AfterSuite;\r\n    import org.testng.annotations.BeforeClass;\r\n    import org.testng.annotations.BeforeMethod;\r\n    import org.testng.annotations.BeforeSuite;\r\n    import org.testng.annotations.DataProvider;\r\n    import org.testng.annotations.Test;\r\n    import org.testng.annotations.BeforeTest;\r\n    import org.testng.annotations.AfterTest;\r\n    \r\n    public class runTest {\r\n    private WebDriver myDriver = null;\r\n    \t\r\n    \t@BeforeTest\r\n    \tpublic void openBrowser(){\r\n    \t\tSystem.out.println(&quot;This test automation framework is created by --- for ---&quot;);\r\n    \t\t//Set browser\r\n    \t\t//System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C://Temp//chromedriver.exe&quot;);\r\n    \t\t//System.setProperty(&quot;webdriver.ie.driver&quot;, &quot;C://Temp//IEDriverServer.exe&quot;);\r\n    \t\t\r\n    \t\t//Instantiate new WebDriver object with browser of choice\r\n    \t\tmyDriver = new FirefoxDriver();\r\n    \t\t//myDriver = new InternetExplorerDriver();\r\n    \t\t//myDriver = new ChromeDriver();\r\n    \t\tmyDriver.get(&quot;http://localhost/tests/&quot;);\r\n    \t}\r\n    \t\r\n    \t\r\n    \t@Test (dataProvider=&quot;provideData&quot;)\r\n    \tpublic void csvTest(String stepNr, String timeWaitMil, String waitForElement, String clickOnCssNameXpathLink, \r\n    \t\t\t\t\t\tString valueInTextBox, String backspaceText, String assertReturnTrueFalse, \r\n    \t\t\t\t\t\tString assertBy, String getUrl, \r\n    \t\t\t\t\t\tString deleteCookie, String snapshot, String specialSnapshot){\r\n    \t\t\r\n    \t\t\r\n    \t\t\t\t\r\n    \t\t// Click on a something based on css, name xpath or link\r\n    \t\tif (!&quot;-&quot;.equals(clickOnCssNameXpathLink)){\r\n    \t\t\tmyDriver.findElement(By.name(clickOnCssNameXpathLink)).click();\r\n    \t\t}\r\n    \t\t\r\n    \t\t// Enter value in textbox\r\n    \t\tif (!&quot;-&quot;.equals(valueInTextBox)){\r\n    \t\t\tmyDriver.findElement(By.name(clickOnCssNameXpathLink)).sendKeys(valueInTextBox);\r\n    \t\t}\r\n    \t\t\r\n    \t\t\r\n    \t\t// Delete cookies\r\n    \t\tif (!&quot;-&quot;.equals(deleteCookie)){\r\n    \t\t\tmyDriver.manage().deleteAllCookies();\t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\t// Make snapshot of whole page\r\n    \t\tif (snapshot.equalsIgnoreCase(&quot;true&quot;)){\r\n    \t\t\t// take the screenshot of full page\r\n    \t        File scrFile = ((TakesScreenshot)myDriver).getScreenshotAs(OutputType.FILE);\r\n    \t        // prepare date to use in filename\r\n    \t        Date d = new Date();\r\n    \t        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd-MM-yyyy HH-mm-ss&quot;);\r\n    \t        // Save screenshot\r\n    \t        try {\r\n    \t\t\t\tFileUtils.copyFile(scrFile, new File(&quot;c:\\\\Temp\\\\screenshots\\\\full_page_&quot; +dateFormat.format(d)+ &quot;.png&quot;));\r\n    \t\t\t} catch (IOException e) {\r\n    \t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t\tSystem.out.println(&quot;Could not make screenshot&quot;);\r\n    \t\t\t}\t\t\r\n    \t\t}\r\n\r\n    \t} \r\n    \t\r\n    \t\r\n    \t@DataProvider\r\n    \tpublic Iterator&lt;Object []&gt; provideData() throws InterruptedException, IOException\r\n        {\r\n    \t\t//Array with multiple csv&#39;s\r\n    \t\tString csvFiles[] = {&quot;C:/Users/---/Desktop/JES2.0/testingSelenium/testNG/data.csv&quot;, &quot;C:/Users/---/Desktop/JES2.0/testingSelenium/testNG/data2.csv&quot;};\r\n    \t\t\r\n    \t\tList&lt;Object []&gt; testCases = new ArrayList&lt;&gt;();\r\n    \t\t\r\n    \t\t//loop through csv files\r\n    \t\tfor(String csvFile:csvFiles){\r\n    \t\t        String[] data= null;\r\n    \t\t\t\t//read csv file\r\n    \t\t        BufferedReader br = new BufferedReader(new FileReader(csvFile));\r\n    \t\t        \r\n    \t\t        //Skip first line in the csv file, because that only contains the column names\r\n    \t\t        String line = br.readLine();\r\n    \t\t\t\t\r\n    \t\t        //loop through csv and split parameters by comma sign ,\r\n    \t\t        while ((line = br.readLine()) != null) {\r\n    \t\t            // use comma as separator\r\n    \t\t            data= line.split(&quot;,&quot;);\r\n    \t\t            testCases.add(data);\r\n    \t\t        }//end of while loop\r\n    \t\t\t\r\n    \t\t\t}// end of for loop\r\n            return testCases.iterator();\t\t\r\n        }\r\n    \r\n    \r\n    \t@AfterTest\r\n    \tpublic void closeBrowser(){\r\n    \t\t//close browser\r\n    \t\tmyDriver.quit();\r\n    \t}\r\n    \r\n    }\r\n&lt;/code&gt;\r\n\r\nAs you can see, the browser, the url and the CSV files are hardcoded. I want to be able to pass these as parameters. What is the best way to do this? Is it possible to pass them through Jenkins?\r\n\r\nI am thinking of building a dashboard where I can specify what tests (csv files) to run using which browser. \r\n\r\nThis is the Jenkins batch command I am running\r\n\r\n    java -cp C:\\Users\\---\\Desktop\\JES2.0\\testingSelenium\\testNG\\libs\\selenium-server-standalone-2.43.1.jar;C:\\Users\\---\\Desktop\\JES2.0\\testingSelenium\\testNG\\bin org.testng.TestNG testng.xml","title":"Jenkins pass parameters to testNG Java","body":"<p>I am working on a test automation framework using testNG, Selenium and Jenkins. The code is working fine, it reads one or more csv files and uses that as test data. I run the test from Jenkins.</p>\n\n<p></p>\n\n<pre><code>package test;\nimport java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.lang.reflect.Method;\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.Iterator;\nimport java.util.List;\n\nimport org.apache.commons.io.FileUtils;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.OutputType;\nimport org.openqa.selenium.TakesScreenshot;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.ie.InternetExplorerDriver;\nimport org.testng.annotations.AfterClass;\nimport org.testng.annotations.AfterMethod;\nimport org.testng.annotations.AfterSuite;\nimport org.testng.annotations.BeforeClass;\nimport org.testng.annotations.BeforeMethod;\nimport org.testng.annotations.BeforeSuite;\nimport org.testng.annotations.DataProvider;\nimport org.testng.annotations.Test;\nimport org.testng.annotations.BeforeTest;\nimport org.testng.annotations.AfterTest;\n\npublic class runTest {\nprivate WebDriver myDriver = null;\n\n    @BeforeTest\n    public void openBrowser(){\n        System.out.println(\"This test automation framework is created by --- for ---\");\n        //Set browser\n        //System.setProperty(\"webdriver.chrome.driver\", \"C://Temp//chromedriver.exe\");\n        //System.setProperty(\"webdriver.ie.driver\", \"C://Temp//IEDriverServer.exe\");\n\n        //Instantiate new WebDriver object with browser of choice\n        myDriver = new FirefoxDriver();\n        //myDriver = new InternetExplorerDriver();\n        //myDriver = new ChromeDriver();\n        myDriver.get(\"http://localhost/tests/\");\n    }\n\n\n    @Test (dataProvider=\"provideData\")\n    public void csvTest(String stepNr, String timeWaitMil, String waitForElement, String clickOnCssNameXpathLink, \n                        String valueInTextBox, String backspaceText, String assertReturnTrueFalse, \n                        String assertBy, String getUrl, \n                        String deleteCookie, String snapshot, String specialSnapshot){\n\n\n\n        // Click on a something based on css, name xpath or link\n        if (!\"-\".equals(clickOnCssNameXpathLink)){\n            myDriver.findElement(By.name(clickOnCssNameXpathLink)).click();\n        }\n\n        // Enter value in textbox\n        if (!\"-\".equals(valueInTextBox)){\n            myDriver.findElement(By.name(clickOnCssNameXpathLink)).sendKeys(valueInTextBox);\n        }\n\n\n        // Delete cookies\n        if (!\"-\".equals(deleteCookie)){\n            myDriver.manage().deleteAllCookies();           \n        }\n\n        // Make snapshot of whole page\n        if (snapshot.equalsIgnoreCase(\"true\")){\n            // take the screenshot of full page\n            File scrFile = ((TakesScreenshot)myDriver).getScreenshotAs(OutputType.FILE);\n            // prepare date to use in filename\n            Date d = new Date();\n            SimpleDateFormat dateFormat = new SimpleDateFormat(\"dd-MM-yyyy HH-mm-ss\");\n            // Save screenshot\n            try {\n                FileUtils.copyFile(scrFile, new File(\"c:\\\\Temp\\\\screenshots\\\\full_page_\" +dateFormat.format(d)+ \".png\"));\n            } catch (IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n                System.out.println(\"Could not make screenshot\");\n            }       \n        }\n\n    } \n\n\n    @DataProvider\n    public Iterator&lt;Object []&gt; provideData() throws InterruptedException, IOException\n    {\n        //Array with multiple csv's\n        String csvFiles[] = {\"C:/Users/---/Desktop/JES2.0/testingSelenium/testNG/data.csv\", \"C:/Users/---/Desktop/JES2.0/testingSelenium/testNG/data2.csv\"};\n\n        List&lt;Object []&gt; testCases = new ArrayList&lt;&gt;();\n\n        //loop through csv files\n        for(String csvFile:csvFiles){\n                String[] data= null;\n                //read csv file\n                BufferedReader br = new BufferedReader(new FileReader(csvFile));\n\n                //Skip first line in the csv file, because that only contains the column names\n                String line = br.readLine();\n\n                //loop through csv and split parameters by comma sign ,\n                while ((line = br.readLine()) != null) {\n                    // use comma as separator\n                    data= line.split(\",\");\n                    testCases.add(data);\n                }//end of while loop\n\n            }// end of for loop\n        return testCases.iterator();        \n    }\n\n\n    @AfterTest\n    public void closeBrowser(){\n        //close browser\n        myDriver.quit();\n    }\n\n}\n</code></pre>\n\n<p></p>\n\n<p>As you can see, the browser, the url and the CSV files are hardcoded. I want to be able to pass these as parameters. What is the best way to do this? Is it possible to pass them through Jenkins?</p>\n\n<p>I am thinking of building a dashboard where I can specify what tests (csv files) to run using which browser. </p>\n\n<p>This is the Jenkins batch command I am running</p>\n\n<pre><code>java -cp C:\\Users\\---\\Desktop\\JES2.0\\testingSelenium\\testNG\\libs\\selenium-server-standalone-2.43.1.jar;C:\\Users\\---\\Desktop\\JES2.0\\testingSelenium\\testNG\\bin org.testng.TestNG testng.xml\n</code></pre>\n"},{"tags":["java","instanceof","reflection"],"comments":[{"owner":{"account_id":246686,"reputation":58068,"user_id":520957,"accept_rate":94,"display_name":"J&#233;r&#244;me Verstrynge"},"score":17,"creation_date":1343592922,"post_id":496928,"comment_id":15537254,"body_markdown":"For the records, isInstance() is the most convenient method to check whether an object can be casted into a class type (for more details, see: http://tshikatshikaaa.blogspot.nl/2012/07/java-instanceof-isassignablefrom-or.html)","body":"For the records, isInstance() is the most convenient method to check whether an object can be casted into a class type (for more details, see: <a href=\"http://tshikatshikaaa.blogspot.nl/2012/07/java-instanceof-isassignablefrom-or.html\" rel=\"nofollow noreferrer\">tshikatshikaaa.blogspot.nl/2012/07/&hellip;</a>)"},{"owner":{"account_id":1458162,"reputation":848,"user_id":1373232,"accept_rate":53,"display_name":"Nom1fan"},"score":1,"creation_date":1637675177,"post_id":496928,"comment_id":123885505,"body_markdown":"To counter what @J&#233;r&#244;meVerstrynge suggested: *The instanceof construction is a preferred way to check whether a variable can be cast to some type statically* because a compile-time error will occur in case of incompatible types. The method isInstance() from java.lang.Class works differently and does type check at runtime only, incompatible types will therefore not be detected early in the development, potentially resulting in dead code. The isInstance() method should only be used in dynamic cases when the instanceof operator can’t be used.","body":"To counter what @J&#233;r&#244;meVerstrynge suggested: <i>The instanceof construction is a preferred way to check whether a variable can be cast to some type statically</i> because a compile-time error will occur in case of incompatible types. The method isInstance() from java.lang.Class works differently and does type check at runtime only, incompatible types will therefore not be detected early in the development, potentially resulting in dead code. The isInstance() method should only be used in dynamic cases when the instanceof operator can’t be used."}],"answers":[{"tags":[],"owner":{"account_id":5807,"reputation":392461,"user_id":9530,"accept_rate":78,"display_name":"Adam Rosenfield"},"down_vote_count":4,"up_vote_count":225,"is_accepted":false,"score":221,"last_activity_date":1233345196,"creation_date":1233345196,"answer_id":496968,"question_id":496928,"body_markdown":"`instanceof` can only be used with reference types, not primitive types.  `isAssignableFrom()` can be used with any class objects:\r\n\r\n    a instanceof int  // syntax error\r\n    3 instanceof Foo  // syntax error\r\n    int.class.isAssignableFrom(int.class)  // true\r\n\r\nSee &lt;a href=&quot;http://java.sun.com/javase/6/docs/api/java/lang/Class.html#isAssignableFrom(java.lang.Class)&quot;&gt;http://java.sun.com/javase/6/docs/api/java/lang/Class.html#isAssignableFrom(java.lang.Class)&lt;/a&gt;.","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p><code>instanceof</code> can only be used with reference types, not primitive types.  <code>isAssignableFrom()</code> can be used with any class objects:</p>\n\n<pre><code>a instanceof int  // syntax error\n3 instanceof Foo  // syntax error\nint.class.isAssignableFrom(int.class)  // true\n</code></pre>\n\n<p>See <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Class.html#isAssignableFrom(java.lang.Class)\" rel=\"noreferrer\"><a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Class.html#isAssignableFrom(java.lang.Class)\" rel=\"noreferrer\">http://java.sun.com/javase/6/docs/api/java/lang/Class.html#isAssignableFrom(java.lang.Class)</a></a>.</p>\n"},{"tags":[],"owner":{"account_id":13446,"reputation":44828,"user_id":27020,"accept_rate":100,"display_name":"Marc Novakowski"},"down_vote_count":4,"up_vote_count":557,"is_accepted":true,"score":553,"last_activity_date":1475438673,"creation_date":1233345498,"answer_id":497001,"question_id":496928,"body_markdown":"When using `instanceof`, you need to know the class of `B` at compile time.  When using `isAssignableFrom()` it can be dynamic and change during runtime.","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p>When using <code>instanceof</code>, you need to know the class of <code>B</code> at compile time.  When using <code>isAssignableFrom()</code> it can be dynamic and change during runtime.</p>\n"},{"tags":[],"owner":{"account_id":601435,"reputation":57,"user_id":296886,"display_name":"algebra"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1268943266,"creation_date":1268942638,"answer_id":2472999,"question_id":496928,"body_markdown":"Consider following situation. Suppose you want to check whether type A is a super class of the type of obj, you can go either\r\n\r\n...\r\nA.class.isAssignableFrom(obj.getClass())\r\n...\r\n\r\nOR\r\n\r\n...\r\nobj instanceof A\r\n...\r\n\r\nBut the isAssignableFrom solution requires that the type of obj be visible here. If this is not the case (e.g., the type of obj might be of a private inner class), this option is out. However, the instanceof solution would always work.","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p>Consider following situation. Suppose you want to check whether type A is a super class of the type of obj, you can go either</p>\n\n<p>...\nA.class.isAssignableFrom(obj.getClass())\n...</p>\n\n<p>OR</p>\n\n<p>...\nobj instanceof A\n...</p>\n\n<p>But the isAssignableFrom solution requires that the type of obj be visible here. If this is not the case (e.g., the type of obj might be of a private inner class), this option is out. However, the instanceof solution would always work.</p>\n"},{"tags":[],"owner":{"account_id":644354,"reputation":5,"user_id":430081,"display_name":"Milan"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1431686653,"creation_date":1282687549,"answer_id":3561415,"question_id":496928,"body_markdown":"some tests we did in our team show that `A.class.isAssignableFrom(B.getClass())` works faster than `B instanceof A`. this can be very useful if you need to check this on large number of elements.","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p>some tests we did in our team show that <code>A.class.isAssignableFrom(B.getClass())</code> works faster than <code>B instanceof A</code>. this can be very useful if you need to check this on large number of elements.</p>\n"},{"tags":[],"owner":{"account_id":650957,"reputation":359,"user_id":441359,"display_name":"Ashish Arya"},"down_vote_count":7,"up_vote_count":37,"is_accepted":false,"score":30,"last_activity_date":1299513876,"creation_date":1283856690,"answer_id":3657960,"question_id":496928,"body_markdown":"Apart from basic differences mentioned above, there is a core subtle difference between instanceof operator and isAssignableFrom method in Class.\r\n\r\nRead `instanceof` as “is this (the left part) the instance of this or any subclass of this (the right part)” and read `x.getClass().isAssignableFrom(Y.class)` as “Can I write `X x = new Y()`”. In other words, instanceof operator checks if the left object is same or subclass of right class, while `isAssignableFrom` checks if we can assign object of the parameter class (from) to the reference of the class on which the method is called.  \r\nNote that both of these consider the actual instance not the reference type.\r\n \r\nConsider an example of 3 classes A, B and C where C extends B and B extends A.\r\n\r\n    B b = new C();\r\n    \r\n    System.out.println(b instanceof A); //is b (which is actually class C object) instance of A, yes. This will return true.  \r\n    System.out.println(b instanceof B); // is b (which is actually class C object) instance of B, yes. This will return true.  \r\n    System.out.println(b instanceof C); // is b (which is actually class C object) instance of C, yes. This will return true. If the first statement would be B b = new B(), this would have been false.\r\n    System.out.println(b.getClass().isAssignableFrom(A.class));//Can I write C c = new A(), no. So this is false.\r\n    System.out.println(b.getClass().isAssignableFrom(B.class)); //Can I write C c = new B(), no. So this is false.\r\n    System.out.println(b.getClass().isAssignableFrom(C.class)); //Can I write C c = new C(), Yes. So this is true.\r\n\r\n","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p>Apart from basic differences mentioned above, there is a core subtle difference between instanceof operator and isAssignableFrom method in Class.</p>\n\n<p>Read <code>instanceof</code> as “is this (the left part) the instance of this or any subclass of this (the right part)” and read <code>x.getClass().isAssignableFrom(Y.class)</code> as “Can I write <code>X x = new Y()</code>”. In other words, instanceof operator checks if the left object is same or subclass of right class, while <code>isAssignableFrom</code> checks if we can assign object of the parameter class (from) to the reference of the class on which the method is called.<br>\nNote that both of these consider the actual instance not the reference type.</p>\n\n<p>Consider an example of 3 classes A, B and C where C extends B and B extends A.</p>\n\n<pre><code>B b = new C();\n\nSystem.out.println(b instanceof A); //is b (which is actually class C object) instance of A, yes. This will return true.  \nSystem.out.println(b instanceof B); // is b (which is actually class C object) instance of B, yes. This will return true.  \nSystem.out.println(b instanceof C); // is b (which is actually class C object) instance of C, yes. This will return true. If the first statement would be B b = new B(), this would have been false.\nSystem.out.println(b.getClass().isAssignableFrom(A.class));//Can I write C c = new A(), no. So this is false.\nSystem.out.println(b.getClass().isAssignableFrom(B.class)); //Can I write C c = new B(), no. So this is false.\nSystem.out.println(b.getClass().isAssignableFrom(C.class)); //Can I write C c = new C(), Yes. So this is true.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":587073,"reputation":167,"user_id":265270,"display_name":"S. Ali Tokmen"},"down_vote_count":2,"up_vote_count":16,"is_accepted":false,"score":14,"last_activity_date":1320166801,"creation_date":1291991836,"answer_id":4409848,"question_id":496928,"body_markdown":"There is also another difference:\r\n\r\nnull instanceof X is `false` no matter what X is\r\n\r\nnull.getClass().isAssignableFrom(X) will throw a NullPointerException","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p>There is also another difference:</p>\n\n<p>null instanceof X is <code>false</code> no matter what X is</p>\n\n<p>null.getClass().isAssignableFrom(X) will throw a NullPointerException</p>\n"},{"tags":[],"owner":{"account_id":700196,"reputation":131,"user_id":589287,"display_name":"tkalmijn"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1295972170,"creation_date":1295972170,"answer_id":4795955,"question_id":496928,"body_markdown":"There is yet another difference. If the type (Class) to test against is dynamic, e.g. passed as a method parameter, then instanceof won&#39;t cut it for you.\r\n\r\n    boolean test(Class clazz) {\r\n       return (this instanceof clazz); // clazz cannot be resolved to a type.\r\n    }\r\n\r\nbut you can do:\r\n\r\n    boolean test(Class clazz) {\r\n       return (clazz.isAssignableFrom(this.getClass())); // okidoki\r\n    }\r\n\r\nOops, I see this answer is already covered. Maybe this example is helpful to someone.","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p>There is yet another difference. If the type (Class) to test against is dynamic, e.g. passed as a method parameter, then instanceof won't cut it for you.</p>\n\n<pre><code>boolean test(Class clazz) {\n   return (this instanceof clazz); // clazz cannot be resolved to a type.\n}\n</code></pre>\n\n<p>but you can do:</p>\n\n<pre><code>boolean test(Class clazz) {\n   return (clazz.isAssignableFrom(this.getClass())); // okidoki\n}\n</code></pre>\n\n<p>Oops, I see this answer is already covered. Maybe this example is helpful to someone.</p>\n"},{"tags":[],"owner":{"account_id":35892,"reputation":30826,"user_id":102008,"accept_rate":37,"display_name":"user102008"},"down_vote_count":1,"up_vote_count":36,"is_accepted":false,"score":35,"last_activity_date":1313441933,"creation_date":1313441933,"answer_id":7070786,"question_id":496928,"body_markdown":"A more direct equivalent to `a instanceof B` is\r\n\r\n    B.class.isInstance(a)\r\n\r\nThis works (returns false) when `a` is `null` too.","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p>A more direct equivalent to <code>a instanceof B</code> is</p>\n\n<pre><code>B.class.isInstance(a)\n</code></pre>\n\n<p>This works (returns false) when <code>a</code> is <code>null</code> too.</p>\n"},{"tags":[],"owner":{"account_id":1094134,"reputation":71,"user_id":1088111,"display_name":"Owen"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1323370046,"creation_date":1323360259,"answer_id":8433889,"question_id":496928,"body_markdown":"This thread provided me some insight into how `instanceof` differed from `isAssignableFrom`, so I thought I&#39;d share something of my own.\r\n\r\nI have found that using `isAssignableFrom` to be the only (probably not the only, but possibly the easiest) way to ask one&#39;s self if a reference of one class can take instances of another, when one has instances of neither class to do the comparison.\r\n\r\nHence, I didn&#39;t find using the `instanceof` operator to compare assignability to be a good idea when all I had were classes, unless I contemplated creating an instance from one of the classes; I thought this would be sloppy.","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p>This thread provided me some insight into how <code>instanceof</code> differed from <code>isAssignableFrom</code>, so I thought I'd share something of my own.</p>\n\n<p>I have found that using <code>isAssignableFrom</code> to be the only (probably not the only, but possibly the easiest) way to ask one's self if a reference of one class can take instances of another, when one has instances of neither class to do the comparison.</p>\n\n<p>Hence, I didn't find using the <code>instanceof</code> operator to compare assignability to be a good idea when all I had were classes, unless I contemplated creating an instance from one of the classes; I thought this would be sloppy.</p>\n"},{"tags":[],"owner":{"account_id":1606038,"reputation":12017,"user_id":1486125,"accept_rate":54,"display_name":"JBE"},"down_vote_count":1,"up_vote_count":124,"is_accepted":false,"score":123,"last_activity_date":1532706129,"creation_date":1345800109,"answer_id":12106524,"question_id":496928,"body_markdown":"Talking in terms of performance :\r\n\r\n**TL;DR**\r\n\r\nUse **isInstance** or **instanceof** which have similar performance. **isAssignableFrom** is slightly slower.\r\n\r\nSorted by performance:\r\n\r\n 1. **isInstance**\r\n 2. **instanceof** (+ 0.5%)\r\n 3. **isAssignableFrom** (+ 2.7%)\r\n\r\n*Based on a benchmark of 2000 iterations on JAVA 8 Windows x64, with 20 warmup iterations.*\r\n\r\n**In theory**\r\n\r\nUsing a soft like [bytecode viewer](http://bytecodeviewer.com/) we can translate each operator into bytecode.\r\n\r\nIn the context of:\r\n\r\n    package foo;\r\n\r\n    public class Benchmark\r\n    {\r\n      public static final Object a = new A();\r\n      public static final Object b = new B();\r\n    \r\n      ...\r\n\r\n    }\r\n\r\nJAVA:\r\n\r\n    b instanceof A;\r\n\r\nBytecode:\r\n\r\n    getstatic foo/Benchmark.b:java.lang.Object\r\n    instanceof foo/A\r\n\r\nJAVA:\r\n\r\n    A.class.isInstance(b);\r\n\r\nBytecode:\r\n\r\n    ldc Lfoo/A; (org.objectweb.asm.Type)\r\n    getstatic foo/Benchmark.b:java.lang.Object\r\n    invokevirtual java/lang/Class isInstance((Ljava/lang/Object;)Z);\r\n\r\nJAVA:\r\n\r\n    A.class.isAssignableFrom(b.getClass());\r\n\r\nBytecode:\r\n\r\n    ldc Lfoo/A; (org.objectweb.asm.Type)\r\n    getstatic foo/Benchmark.b:java.lang.Object\r\n    invokevirtual java/lang/Object getClass(()Ljava/lang/Class;);\r\n    invokevirtual java/lang/Class isAssignableFrom((Ljava/lang/Class;)Z);\r\n\r\nMeasuring how many bytecode instructions are used by each operator, we could expect **instanceof** and **isInstance** to be faster than **isAssignableFrom**. However, the actual performance is NOT determined by the bytecode but by the machine code (which is platform dependent). Let&#39;s do a micro benchmark for each of the operators.\r\n\r\n**The benchmark**\r\n\r\nCredit: As advised by @aleksandr-dubinsky, and thanks to @yura for providing the base code, here is a [JMH](http://openjdk.java.net/projects/code-tools/jmh/) benchmark (see this [tuning guide](http://java-performance.info/jmh/)):\r\n\r\n    class A {}\r\n    class B extends A {}\r\n    \r\n    public class Benchmark {\r\n    \r\n    \tpublic static final Object a = new A();\r\n    \tpublic static final Object b = new B();\r\n    \r\n    \t@Benchmark\r\n    \t@BenchmarkMode(Mode.Throughput)\r\n    \t@OutputTimeUnit(TimeUnit.MICROSECONDS)\r\n    \tpublic boolean testInstanceOf()\r\n    \t{\r\n    \t\treturn b instanceof A;\r\n    \t}\r\n    \r\n    \t@Benchmark\r\n    \t@BenchmarkMode(Mode.Throughput)\r\n    \t@OutputTimeUnit(TimeUnit.MICROSECONDS)\r\n    \tpublic boolean testIsInstance()\r\n    \t{\r\n    \t\treturn A.class.isInstance(b);\r\n    \t}\r\n    \r\n    \t@Benchmark\r\n    \t@BenchmarkMode(Mode.Throughput)\r\n    \t@OutputTimeUnit(TimeUnit.MICROSECONDS)\r\n    \tpublic boolean testIsAssignableFrom()\r\n    \t{\r\n    \t\treturn A.class.isAssignableFrom(b.getClass());\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws RunnerException {\r\n    \t\tOptions opt = new OptionsBuilder()\r\n    \t\t\t\t.include(TestPerf2.class.getSimpleName())\r\n    \t\t\t\t.warmupIterations(20)\r\n    \t\t\t\t.measurementIterations(2000)\r\n    \t\t\t\t.forks(1)\r\n    \t\t\t\t.build();\r\n    \r\n    \t\tnew Runner(opt).run();\r\n    \t}\r\n    }\r\n\r\nGave the following results (score is *a number of operations in a time unit*, so the higher the score the better):\r\n\r\n    Benchmark                       Mode   Cnt    Score   Error   Units\r\n    Benchmark.testIsInstance        thrpt  2000  373,061 &#177; 0,115  ops/us\r\n    Benchmark.testInstanceOf        thrpt  2000  371,047 &#177; 0,131  ops/us\r\n    Benchmark.testIsAssignableFrom  thrpt  2000  363,648 &#177; 0,289  ops/us\r\n\r\n**Warning**\r\n\r\n- the benchmark is JVM and platform dependent. Since there are no significant differences between each operation, it might be possible to get a different result (and maybe different order!) on a different JAVA version and/or platforms like Solaris, Mac or Linux.\r\n- the benchmark compares the performance of &quot;is B an instance of A&quot; when &quot;B extends A&quot; directly. If the class hierarchy is deeper and more complex (like B extends X which extends Y which extends Z which extends A), results might be different.\r\n- it is usually advised to write the code first picking one of the operators (the most convenient) and then profile your code to check if there are a performance bottleneck. Maybe this operator is negligible in the context of your code, or maybe...\r\n- in relation to the previous point, `instanceof` in the context of your code might get optimized more easily than an `isInstance` for example... \r\n\r\nTo give you an example, take the following loop:\r\n\r\n    class A{}\r\n    class B extends A{}\r\n    \r\n    A b = new B();\r\n    \r\n    boolean execute(){\r\n      return A.class.isAssignableFrom(b.getClass());\r\n      // return A.class.isInstance(b);\r\n      // return b instanceof A;\r\n    }\r\n    \r\n    // Warmup the code\r\n    for (int i = 0; i &lt; 100; ++i)\r\n      execute();\r\n    \r\n    // Time it\r\n    int count = 100000;\r\n    final long start = System.nanoTime();\r\n    for(int i=0; i&lt;count; i++){\r\n       execute();\r\n    }\r\n    final long elapsed = System.nanoTime() - start;\r\n\r\nThanks to the JIT, the code is optimized at some point and we get:\r\n\r\n- instanceof: 6ms \r\n- isInstance: 12ms\r\n- isAssignableFrom : 15ms\r\n\r\n**Note**\r\n\r\nOriginally this post was doing its own benchmark using a *for* loop in raw JAVA, which gave unreliable results as some optimization like Just In Time can eliminate the loop. So it was mostly measuring how long did the JIT compiler take to optimize the loop: see https://stackoverflow.com/questions/12106799/performance-test-independent-of-the-number-of-iterations for more details\r\n\r\n**Related questions**\r\n\r\n- https://stackoverflow.com/questions/4973359/does-instanceof-operator-generate-a-lot-of-overhead-why\r\n- https://stackoverflow.com/questions/14190189/how-instanceof-is-implemented-inside-java\r\n- https://stackoverflow.com/questions/103564/the-performance-impact-of-using-instanceof-in-java","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p>Talking in terms of performance :</p>\n\n<p><strong>TL;DR</strong></p>\n\n<p>Use <strong>isInstance</strong> or <strong>instanceof</strong> which have similar performance. <strong>isAssignableFrom</strong> is slightly slower.</p>\n\n<p>Sorted by performance:</p>\n\n<ol>\n<li><strong>isInstance</strong></li>\n<li><strong>instanceof</strong> (+ 0.5%)</li>\n<li><strong>isAssignableFrom</strong> (+ 2.7%)</li>\n</ol>\n\n<p><em>Based on a benchmark of 2000 iterations on JAVA 8 Windows x64, with 20 warmup iterations.</em></p>\n\n<p><strong>In theory</strong></p>\n\n<p>Using a soft like <a href=\"http://bytecodeviewer.com/\" rel=\"noreferrer\">bytecode viewer</a> we can translate each operator into bytecode.</p>\n\n<p>In the context of:</p>\n\n<pre><code>package foo;\n\npublic class Benchmark\n{\n  public static final Object a = new A();\n  public static final Object b = new B();\n\n  ...\n\n}\n</code></pre>\n\n<p>JAVA:</p>\n\n<pre><code>b instanceof A;\n</code></pre>\n\n<p>Bytecode:</p>\n\n<pre><code>getstatic foo/Benchmark.b:java.lang.Object\ninstanceof foo/A\n</code></pre>\n\n<p>JAVA:</p>\n\n<pre><code>A.class.isInstance(b);\n</code></pre>\n\n<p>Bytecode:</p>\n\n<pre><code>ldc Lfoo/A; (org.objectweb.asm.Type)\ngetstatic foo/Benchmark.b:java.lang.Object\ninvokevirtual java/lang/Class isInstance((Ljava/lang/Object;)Z);\n</code></pre>\n\n<p>JAVA:</p>\n\n<pre><code>A.class.isAssignableFrom(b.getClass());\n</code></pre>\n\n<p>Bytecode:</p>\n\n<pre><code>ldc Lfoo/A; (org.objectweb.asm.Type)\ngetstatic foo/Benchmark.b:java.lang.Object\ninvokevirtual java/lang/Object getClass(()Ljava/lang/Class;);\ninvokevirtual java/lang/Class isAssignableFrom((Ljava/lang/Class;)Z);\n</code></pre>\n\n<p>Measuring how many bytecode instructions are used by each operator, we could expect <strong>instanceof</strong> and <strong>isInstance</strong> to be faster than <strong>isAssignableFrom</strong>. However, the actual performance is NOT determined by the bytecode but by the machine code (which is platform dependent). Let's do a micro benchmark for each of the operators.</p>\n\n<p><strong>The benchmark</strong></p>\n\n<p>Credit: As advised by @aleksandr-dubinsky, and thanks to @yura for providing the base code, here is a <a href=\"http://openjdk.java.net/projects/code-tools/jmh/\" rel=\"noreferrer\">JMH</a> benchmark (see this <a href=\"http://java-performance.info/jmh/\" rel=\"noreferrer\">tuning guide</a>):</p>\n\n<pre><code>class A {}\nclass B extends A {}\n\npublic class Benchmark {\n\n    public static final Object a = new A();\n    public static final Object b = new B();\n\n    @Benchmark\n    @BenchmarkMode(Mode.Throughput)\n    @OutputTimeUnit(TimeUnit.MICROSECONDS)\n    public boolean testInstanceOf()\n    {\n        return b instanceof A;\n    }\n\n    @Benchmark\n    @BenchmarkMode(Mode.Throughput)\n    @OutputTimeUnit(TimeUnit.MICROSECONDS)\n    public boolean testIsInstance()\n    {\n        return A.class.isInstance(b);\n    }\n\n    @Benchmark\n    @BenchmarkMode(Mode.Throughput)\n    @OutputTimeUnit(TimeUnit.MICROSECONDS)\n    public boolean testIsAssignableFrom()\n    {\n        return A.class.isAssignableFrom(b.getClass());\n    }\n\n    public static void main(String[] args) throws RunnerException {\n        Options opt = new OptionsBuilder()\n                .include(TestPerf2.class.getSimpleName())\n                .warmupIterations(20)\n                .measurementIterations(2000)\n                .forks(1)\n                .build();\n\n        new Runner(opt).run();\n    }\n}\n</code></pre>\n\n<p>Gave the following results (score is <em>a number of operations in a time unit</em>, so the higher the score the better):</p>\n\n<pre><code>Benchmark                       Mode   Cnt    Score   Error   Units\nBenchmark.testIsInstance        thrpt  2000  373,061 ± 0,115  ops/us\nBenchmark.testInstanceOf        thrpt  2000  371,047 ± 0,131  ops/us\nBenchmark.testIsAssignableFrom  thrpt  2000  363,648 ± 0,289  ops/us\n</code></pre>\n\n<p><strong>Warning</strong></p>\n\n<ul>\n<li>the benchmark is JVM and platform dependent. Since there are no significant differences between each operation, it might be possible to get a different result (and maybe different order!) on a different JAVA version and/or platforms like Solaris, Mac or Linux.</li>\n<li>the benchmark compares the performance of \"is B an instance of A\" when \"B extends A\" directly. If the class hierarchy is deeper and more complex (like B extends X which extends Y which extends Z which extends A), results might be different.</li>\n<li>it is usually advised to write the code first picking one of the operators (the most convenient) and then profile your code to check if there are a performance bottleneck. Maybe this operator is negligible in the context of your code, or maybe...</li>\n<li>in relation to the previous point, <code>instanceof</code> in the context of your code might get optimized more easily than an <code>isInstance</code> for example... </li>\n</ul>\n\n<p>To give you an example, take the following loop:</p>\n\n<pre><code>class A{}\nclass B extends A{}\n\nA b = new B();\n\nboolean execute(){\n  return A.class.isAssignableFrom(b.getClass());\n  // return A.class.isInstance(b);\n  // return b instanceof A;\n}\n\n// Warmup the code\nfor (int i = 0; i &lt; 100; ++i)\n  execute();\n\n// Time it\nint count = 100000;\nfinal long start = System.nanoTime();\nfor(int i=0; i&lt;count; i++){\n   execute();\n}\nfinal long elapsed = System.nanoTime() - start;\n</code></pre>\n\n<p>Thanks to the JIT, the code is optimized at some point and we get:</p>\n\n<ul>\n<li>instanceof: 6ms </li>\n<li>isInstance: 12ms</li>\n<li>isAssignableFrom : 15ms</li>\n</ul>\n\n<p><strong>Note</strong></p>\n\n<p>Originally this post was doing its own benchmark using a <em>for</em> loop in raw JAVA, which gave unreliable results as some optimization like Just In Time can eliminate the loop. So it was mostly measuring how long did the JIT compiler take to optimize the loop: see <a href=\"https://stackoverflow.com/questions/12106799/performance-test-independent-of-the-number-of-iterations\">Performance test independent of the number of iterations</a> for more details</p>\n\n<p><strong>Related questions</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/4973359/does-instanceof-operator-generate-a-lot-of-overhead-why\">Does instanceof operator generate a lot of overhead ? Why?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/14190189/how-instanceof-is-implemented-inside-java\">How instanceof is implemented inside JAVA?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/103564/the-performance-impact-of-using-instanceof-in-java\">The performance impact of using instanceof in Java</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":260172,"reputation":15404,"user_id":543572,"accept_rate":100,"display_name":"James-Jesse Drinkard"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1452026985,"creation_date":1378755032,"answer_id":18705541,"question_id":496928,"body_markdown":"instanceof cannot be used with primitive types or generic types either.  As in the following code:\r\n\r\n    //Define Class&lt; T &gt; type ... \r\n\r\n    Object e = new Object();\r\n    \r\n    if(e instanceof T) {\r\n      // Do something.\r\n    }\r\n\r\nThe error is: Cannot perform instanceof check against type parameter T.  Use it&#39;s erasure Object instead since further generic type information will be erased at runtime.\r\n\r\nDoes not compile due to type erasure removing the runtime reference.  However, the code below will compile:\r\n\r\n    if( type.isAssignableFrom(e.getClass())){\r\n      // Do something.\r\n    }\r\n\r\n","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p>instanceof cannot be used with primitive types or generic types either.  As in the following code:</p>\n\n<pre><code>//Define Class&lt; T &gt; type ... \n\nObject e = new Object();\n\nif(e instanceof T) {\n  // Do something.\n}\n</code></pre>\n\n<p>The error is: Cannot perform instanceof check against type parameter T.  Use it's erasure Object instead since further generic type information will be erased at runtime.</p>\n\n<p>Does not compile due to type erasure removing the runtime reference.  However, the code below will compile:</p>\n\n<pre><code>if( type.isAssignableFrom(e.getClass())){\n  // Do something.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2788691,"reputation":21,"user_id":2798292,"display_name":"Stephan Korsholm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460491225,"creation_date":1458309570,"answer_id":36086355,"question_id":496928,"body_markdown":"    isAssignableFrom(A, B) =\r\n    \r\n    if (A == B) return true\r\n    else if (B == java.lang.Object) return false\r\n    else return isAssignableFrom(A, getSuperClass(B))\r\n\r\nThe pseudo code above is a definition of, if references of type/class A is assignable from references of type/class B. It is a recursive definition. To some it may be helpful, for others it may be confusing. I add it in case somebody should find it useful. This is just an attempt to capture my understanding, it is not the official definition. It is used in a certain Java VM implementation and works for many example programs, so while I cannot guarentee that it captures all aspects of isAssignableFrom, it is not completely off.","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<pre><code>isAssignableFrom(A, B) =\n\nif (A == B) return true\nelse if (B == java.lang.Object) return false\nelse return isAssignableFrom(A, getSuperClass(B))\n</code></pre>\n\n<p>The pseudo code above is a definition of, if references of type/class A is assignable from references of type/class B. It is a recursive definition. To some it may be helpful, for others it may be confusing. I add it in case somebody should find it useful. This is just an attempt to capture my understanding, it is not the official definition. It is used in a certain Java VM implementation and works for many example programs, so while I cannot guarentee that it captures all aspects of isAssignableFrom, it is not completely off.</p>\n"},{"tags":[],"owner":{"account_id":1502661,"reputation":1753,"user_id":1406807,"display_name":"Yura"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503248704,"creation_date":1503248704,"answer_id":45784735,"question_id":496928,"body_markdown":"Talking in terms of performance &quot;2&quot; (with JMH):\r\n\r\n    class A{}\r\n    class B extends A{}\r\n\t\r\n    public class InstanceOfTest {\r\n\r\n\tpublic static final Object a = new A();\r\n\tpublic static final Object b = new B();\r\n\r\n\t@Benchmark\r\n\t@BenchmarkMode(Mode.AverageTime)\r\n\t@OutputTimeUnit(TimeUnit.NANOSECONDS)\r\n\tpublic boolean testInstanceOf()\r\n\t{\r\n\t\treturn b instanceof A;\r\n\t}\r\n\r\n\t@Benchmark\r\n\t@BenchmarkMode(Mode.AverageTime)\r\n\t@OutputTimeUnit(TimeUnit.NANOSECONDS)\r\n\tpublic boolean testIsInstance()\r\n\t{\r\n\t\treturn A.class.isInstance(b);\r\n\t}\r\n\r\n\t@Benchmark\r\n\t@BenchmarkMode(Mode.AverageTime)\r\n\t@OutputTimeUnit(TimeUnit.NANOSECONDS)\r\n\tpublic boolean testIsAssignableFrom()\r\n\t{\r\n\t\treturn A.class.isAssignableFrom(b.getClass());\r\n\t}\r\n\r\n\tpublic static void main(String[] args) throws RunnerException {\r\n\t\tOptions opt = new OptionsBuilder()\r\n\t\t\t\t.include(InstanceOfTest.class.getSimpleName())\r\n\t\t\t\t.warmupIterations(5)\r\n\t\t\t\t.measurementIterations(5)\r\n\t\t\t\t.forks(1)\r\n\t\t\t\t.build();\r\n\r\n\t\tnew Runner(opt).run();\r\n\t}\r\n    }\r\n\r\nIt gives:\r\n\r\n    Benchmark                            Mode  Cnt  Score   Error  Units\r\n    InstanceOfTest.testInstanceOf        avgt    5  1,972 ? 0,002  ns/op\r\n    InstanceOfTest.testIsAssignableFrom  avgt    5  1,991 ? 0,004  ns/op\r\n    InstanceOfTest.testIsInstance        avgt    5  1,972 ? 0,003  ns/op\r\n \r\nSo that we can conclude: **instanceof** as fast as **isInstance()** and **isAssignableFrom()** not far away (+0.9% executon time). So no real difference whatever you choose","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p>Talking in terms of performance \"2\" (with JMH):</p>\n\n<pre><code>class A{}\nclass B extends A{}\n\npublic class InstanceOfTest {\n\npublic static final Object a = new A();\npublic static final Object b = new B();\n\n@Benchmark\n@BenchmarkMode(Mode.AverageTime)\n@OutputTimeUnit(TimeUnit.NANOSECONDS)\npublic boolean testInstanceOf()\n{\n    return b instanceof A;\n}\n\n@Benchmark\n@BenchmarkMode(Mode.AverageTime)\n@OutputTimeUnit(TimeUnit.NANOSECONDS)\npublic boolean testIsInstance()\n{\n    return A.class.isInstance(b);\n}\n\n@Benchmark\n@BenchmarkMode(Mode.AverageTime)\n@OutputTimeUnit(TimeUnit.NANOSECONDS)\npublic boolean testIsAssignableFrom()\n{\n    return A.class.isAssignableFrom(b.getClass());\n}\n\npublic static void main(String[] args) throws RunnerException {\n    Options opt = new OptionsBuilder()\n            .include(InstanceOfTest.class.getSimpleName())\n            .warmupIterations(5)\n            .measurementIterations(5)\n            .forks(1)\n            .build();\n\n    new Runner(opt).run();\n}\n}\n</code></pre>\n\n<p>It gives:</p>\n\n<pre><code>Benchmark                            Mode  Cnt  Score   Error  Units\nInstanceOfTest.testInstanceOf        avgt    5  1,972 ? 0,002  ns/op\nInstanceOfTest.testIsAssignableFrom  avgt    5  1,991 ? 0,004  ns/op\nInstanceOfTest.testIsInstance        avgt    5  1,972 ? 0,003  ns/op\n</code></pre>\n\n<p>So that we can conclude: <strong>instanceof</strong> as fast as <strong>isInstance()</strong> and <strong>isAssignableFrom()</strong> not far away (+0.9% executon time). So no real difference whatever you choose</p>\n"},{"tags":[],"owner":{"account_id":5300832,"reputation":2123,"user_id":4230520,"display_name":"Sagan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586798988,"creation_date":1586798988,"answer_id":61193297,"question_id":496928,"body_markdown":"How about some examples to show it in action...\r\n\r\n    @Test\r\n    public void isInstanceOf() {\r\n        Exception anEx1 = new Exception(&quot;ex&quot;);\r\n        Exception anEx2 = new RuntimeException(&quot;ex&quot;);\r\n        RuntimeException anEx3 = new RuntimeException(&quot;ex&quot;);\r\n\r\n        //Base case, handles inheritance\r\n        Assert.assertTrue(anEx1 instanceof Exception);\r\n        Assert.assertTrue(anEx2 instanceof Exception);\r\n        Assert.assertTrue(anEx3 instanceof Exception);\r\n\r\n        //Other cases\r\n        Assert.assertFalse(anEx1 instanceof RuntimeException);\r\n        Assert.assertTrue(anEx2 instanceof RuntimeException);\r\n        Assert.assertTrue(anEx3 instanceof RuntimeException);\r\n    }\r\n\r\n    @Test\r\n    public void isAssignableFrom() {\r\n        Exception anEx1 = new Exception(&quot;ex&quot;);\r\n        Exception anEx2 = new RuntimeException(&quot;ex&quot;);\r\n        RuntimeException anEx3 = new RuntimeException(&quot;ex&quot;);\r\n\r\n        //Correct usage = The base class goes first\r\n        Assert.assertTrue(Exception.class.isAssignableFrom(anEx1.getClass()));\r\n        Assert.assertTrue(Exception.class.isAssignableFrom(anEx2.getClass()));\r\n        Assert.assertTrue(Exception.class.isAssignableFrom(anEx3.getClass()));\r\n\r\n        //Incorrect usage = Method parameter is used in the wrong order\r\n        Assert.assertTrue(anEx1.getClass().isAssignableFrom(Exception.class));\r\n        Assert.assertFalse(anEx2.getClass().isAssignableFrom(Exception.class));\r\n        Assert.assertFalse(anEx3.getClass().isAssignableFrom(Exception.class));\r\n    }","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p>How about some examples to show it in action...</p>\n\n<pre><code>@Test\npublic void isInstanceOf() {\n    Exception anEx1 = new Exception(\"ex\");\n    Exception anEx2 = new RuntimeException(\"ex\");\n    RuntimeException anEx3 = new RuntimeException(\"ex\");\n\n    //Base case, handles inheritance\n    Assert.assertTrue(anEx1 instanceof Exception);\n    Assert.assertTrue(anEx2 instanceof Exception);\n    Assert.assertTrue(anEx3 instanceof Exception);\n\n    //Other cases\n    Assert.assertFalse(anEx1 instanceof RuntimeException);\n    Assert.assertTrue(anEx2 instanceof RuntimeException);\n    Assert.assertTrue(anEx3 instanceof RuntimeException);\n}\n\n@Test\npublic void isAssignableFrom() {\n    Exception anEx1 = new Exception(\"ex\");\n    Exception anEx2 = new RuntimeException(\"ex\");\n    RuntimeException anEx3 = new RuntimeException(\"ex\");\n\n    //Correct usage = The base class goes first\n    Assert.assertTrue(Exception.class.isAssignableFrom(anEx1.getClass()));\n    Assert.assertTrue(Exception.class.isAssignableFrom(anEx2.getClass()));\n    Assert.assertTrue(Exception.class.isAssignableFrom(anEx3.getClass()));\n\n    //Incorrect usage = Method parameter is used in the wrong order\n    Assert.assertTrue(anEx1.getClass().isAssignableFrom(Exception.class));\n    Assert.assertFalse(anEx2.getClass().isAssignableFrom(Exception.class));\n    Assert.assertFalse(anEx3.getClass().isAssignableFrom(Exception.class));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":723954,"reputation":1847,"user_id":666583,"display_name":"AndrewF"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661879775,"creation_date":1661879775,"answer_id":73546274,"question_id":496928,"body_markdown":"It all depends on what you have available at that point in the code. I would not recommend to use `isAssignableFrom` if you are working with an actual object — there is a better option. Here is a ranked list of recommendations, based on what you have available:\r\n\r\n - If you have an object `a` and you know the type `B` at compile time:\r\n\r\n   `a instanceof B`\r\n - If you have an object `a` and you don&#39;t know the type `B`, but you have an object `b`:\r\n\r\n   `b.getClass().isInstance(a)`\r\n - If you have an object `a` and you don&#39;t have a type at compile time OR an instantiated object, but you do have a class object `Class&lt;?&gt; someBClass`:\r\n\r\n   `someBClass.isInstance(a)`\r\n - If you have no instantiated objects, but you have two `Class&lt;?&gt;` objects:\r\n\r\n   `someBClass.isAssignableFrom(someAClass)`.\r\n\r\nAssuming you start at the top of the list and work down, each one of these is the simplest way to accomplish your goal, and based on my own research _I believe_ that you will also get the best possible performance.","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p>It all depends on what you have available at that point in the code. I would not recommend to use <code>isAssignableFrom</code> if you are working with an actual object — there is a better option. Here is a ranked list of recommendations, based on what you have available:</p>\n<ul>\n<li><p>If you have an object <code>a</code> and you know the type <code>B</code> at compile time:</p>\n<p><code>a instanceof B</code></p>\n</li>\n<li><p>If you have an object <code>a</code> and you don't know the type <code>B</code>, but you have an object <code>b</code>:</p>\n<p><code>b.getClass().isInstance(a)</code></p>\n</li>\n<li><p>If you have an object <code>a</code> and you don't have a type at compile time OR an instantiated object, but you do have a class object <code>Class&lt;?&gt; someBClass</code>:</p>\n<p><code>someBClass.isInstance(a)</code></p>\n</li>\n<li><p>If you have no instantiated objects, but you have two <code>Class&lt;?&gt;</code> objects:</p>\n<p><code>someBClass.isAssignableFrom(someAClass)</code>.</p>\n</li>\n</ul>\n<p>Assuming you start at the top of the list and work down, each one of these is the simplest way to accomplish your goal, and based on my own research <em>I believe</em> that you will also get the best possible performance.</p>\n"}],"owner":{"account_id":22128,"reputation":6277,"user_id":54318,"accept_rate":100,"display_name":"Megamug"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":282182,"favorite_count":0,"down_vote_count":0,"up_vote_count":506,"accepted_answer_id":497001,"answer_count":15,"score":506,"last_activity_date":1661879775,"creation_date":1233344664,"question_id":496928,"body_markdown":"Which of the following is better?\r\n\r\n    a instanceof B\r\n\r\nor\r\n\r\n    B.class.isAssignableFrom(a.getClass())\r\n\r\nThe only difference that I know of is, when &#39;a&#39; is null, the first returns false, while the second throws an exception. Other than that, do they always give the same result?","title":"What is the difference between instanceof and Class.isAssignableFrom(...)?","body":"<p>Which of the following is better?</p>\n\n<pre><code>a instanceof B\n</code></pre>\n\n<p>or</p>\n\n<pre><code>B.class.isAssignableFrom(a.getClass())\n</code></pre>\n\n<p>The only difference that I know of is, when 'a' is null, the first returns false, while the second throws an exception. Other than that, do they always give the same result?</p>\n"},{"tags":["java","graph","tree","jgrapht"],"comments":[{"owner":{"account_id":2146298,"reputation":2282,"user_id":1903852,"accept_rate":77,"display_name":"Joris Kinable"},"score":0,"creation_date":1661832018,"post_id":73531442,"comment_id":129858660,"body_markdown":"Please include a [MRE], and add some details about what you try to accomplish. What assumptions are you making in terms of the input graph? Is the graph directed? Does the graph contain cycles? If so, how do you want to deal with that in terms of edges?","body":"Please include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, and add some details about what you try to accomplish. What assumptions are you making in terms of the input graph? Is the graph directed? Does the graph contain cycles? If so, how do you want to deal with that in terms of edges?"},{"owner":{"account_id":2146298,"reputation":2282,"user_id":1903852,"accept_rate":77,"display_name":"Joris Kinable"},"score":0,"creation_date":1661832517,"post_id":73531442,"comment_id":129858733,"body_markdown":"Also, what `Tree` are you specifically referring to? A [TreeMap](https://docs.oracle.com/javase/8/docs/api/java/util/TreeMap.html) or something else? And what would be the purpose of it (you might be better off with some of jGraphT&#39;s functionality)?","body":"Also, what <code>Tree</code> are you specifically referring to? A <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/TreeMap.html\" rel=\"nofollow noreferrer\">TreeMap</a> or something else? And what would be the purpose of it (you might be better off with some of jGraphT&#39;s functionality)?"},{"owner":{"account_id":323468,"reputation":341,"user_id":643503,"accept_rate":60,"display_name":"Neill Lima"},"score":0,"creation_date":1661848017,"post_id":73531442,"comment_id":129862696,"body_markdown":"Thanks @JorisKinable, I&#39;ve edit the question and I hope it&#39;s enough for the context. Thanks for looking at it.","body":"Thanks @JorisKinable, I&#39;ve edit the question and I hope it&#39;s enough for the context. Thanks for looking at it."},{"owner":{"account_id":2146298,"reputation":2282,"user_id":1903852,"accept_rate":77,"display_name":"Joris Kinable"},"score":0,"creation_date":1662097613,"post_id":73531442,"comment_id":129931396,"body_markdown":"Did my answer answer your question? If not, please update your question, else hit accept and up vote so I know this has been resolved.","body":"Did my answer answer your question? If not, please update your question, else hit accept and up vote so I know this has been resolved."}],"answers":[{"tags":[],"owner":{"account_id":2146298,"reputation":2282,"user_id":1903852,"accept_rate":77,"display_name":"Joris Kinable"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661879753,"creation_date":1661879753,"answer_id":73546269,"question_id":73531442,"body_markdown":"You can directly construct the tree based on your data structure by iterating recursively over the nodes in the graphs as follows.\r\n\r\n```\r\npublic static void main(String[] args){\r\n    //Construct the example graph.\r\n    Graph&lt;String, DefaultEdge&gt; graph = new SimpleDirectedGraph&lt;&gt;(DefaultEdge.class);\r\n    Graphs.addEdgeWithVertices(graph, &quot;Car&quot;, &quot;Trunk&quot;);\r\n    Graphs.addEdgeWithVertices(graph, &quot;Trunk&quot;, &quot;Engine&quot;);\r\n    Graphs.addEdgeWithVertices(graph, &quot;Engine&quot;, &quot;Valve&quot;);\r\n    Graphs.addEdgeWithVertices(graph, &quot;Valve&quot;, &quot;Bolt&quot;);\r\n    Graphs.addEdgeWithVertices(graph, &quot;Trunk&quot;, &quot;Engine&quot;);\r\n    Graphs.addEdgeWithVertices(graph, &quot;Car&quot;, &quot;Battery&quot;);\r\n\r\n    //OPTIONAL: Test whether the graph contains a directed cycle. This would prevent us from constructing a tree\r\n    CycleDetector&lt;String, DefaultEdge&gt; cycleDetector = new CycleDetector&lt;&gt;(graph);\r\n    if(cycleDetector.detectCycles())\r\n        throw new RuntimeException(&quot;Graph cannot contain cycles, i.e. graph must be acyclic!&quot;);\r\n\r\n    //Construct the Tree\r\n    Tree&lt;String&gt; tree = Tree.of(&quot;Car&quot;);\r\n    buildSubtree(graph, tree);\r\n\r\n    System.out.println(&quot;Tree: \\n&quot;+tree);\r\n}\r\n\r\nprivate static void buildSubtree(Graph&lt;String, DefaultEdge&gt; graph, Tree&lt;String&gt; root){\r\n    for(DefaultEdge arc : graph.outgoingEdgesOf(root.value)){\r\n        Tree&lt;String&gt; child = root.addChild(graph.getEdgeTarget(arc));\r\n        buildSubtree(graph, child);\r\n    }\r\n}\r\n```\r\nI made a few minor modifications to the Tree class:\r\n```\r\npublic class Tree&lt;T&gt; {\r\n    public final T value;\r\n    private List&lt;Tree&lt;T&gt;&gt; children;\r\n\r\n    private Tree(T value){\r\n        this.value=value;\r\n        this.children = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    public static &lt;T&gt; Tree&lt;T&gt; of(T value){\r\n        return new Tree&lt;&gt;(value);\r\n    }\r\n\r\n    public Tree&lt;T&gt; addChild(T value){\r\n        Tree&lt;T&gt; newChild = new Tree&lt;&gt;(value);\r\n        children.add(newChild);\r\n        return newChild;\r\n    }\r\n\r\n    public String toString(){\r\n        String s =&quot;node: &quot;+value+&quot; - children: (&quot;+\r\n                children.stream().map(child -&gt; child.value.toString()).collect(Collectors.joining(&quot;,&quot;))+\r\n                &quot;)\\n&quot;;\r\n        for(Tree&lt;T&gt; child : children)\r\n            s+=child.toString();\r\n        return s;\r\n    }\r\n}\r\n```\r\nOutput:\r\n```\r\nTree: \r\nnode: Car - children: (Trunk,Battery)\r\nnode: Trunk - children: (Engine)\r\nnode: Engine - children: (Valve)\r\nnode: Valve - children: (Bolt)\r\nnode: Bolt - children: ()\r\nnode: Battery - children: ()\r\n```\r\n**Note**: From the question I cannot deduce why this particular Tree structure has any advantage over the much richer data structures offered by JGraphT. It is questionable whether using this Tree structure is a good idea.","title":"Transform jgrapht graph into a Tree","body":"<p>You can directly construct the tree based on your data structure by iterating recursively over the nodes in the graphs as follows.</p>\n<pre><code>public static void main(String[] args){\n    //Construct the example graph.\n    Graph&lt;String, DefaultEdge&gt; graph = new SimpleDirectedGraph&lt;&gt;(DefaultEdge.class);\n    Graphs.addEdgeWithVertices(graph, &quot;Car&quot;, &quot;Trunk&quot;);\n    Graphs.addEdgeWithVertices(graph, &quot;Trunk&quot;, &quot;Engine&quot;);\n    Graphs.addEdgeWithVertices(graph, &quot;Engine&quot;, &quot;Valve&quot;);\n    Graphs.addEdgeWithVertices(graph, &quot;Valve&quot;, &quot;Bolt&quot;);\n    Graphs.addEdgeWithVertices(graph, &quot;Trunk&quot;, &quot;Engine&quot;);\n    Graphs.addEdgeWithVertices(graph, &quot;Car&quot;, &quot;Battery&quot;);\n\n    //OPTIONAL: Test whether the graph contains a directed cycle. This would prevent us from constructing a tree\n    CycleDetector&lt;String, DefaultEdge&gt; cycleDetector = new CycleDetector&lt;&gt;(graph);\n    if(cycleDetector.detectCycles())\n        throw new RuntimeException(&quot;Graph cannot contain cycles, i.e. graph must be acyclic!&quot;);\n\n    //Construct the Tree\n    Tree&lt;String&gt; tree = Tree.of(&quot;Car&quot;);\n    buildSubtree(graph, tree);\n\n    System.out.println(&quot;Tree: \\n&quot;+tree);\n}\n\nprivate static void buildSubtree(Graph&lt;String, DefaultEdge&gt; graph, Tree&lt;String&gt; root){\n    for(DefaultEdge arc : graph.outgoingEdgesOf(root.value)){\n        Tree&lt;String&gt; child = root.addChild(graph.getEdgeTarget(arc));\n        buildSubtree(graph, child);\n    }\n}\n</code></pre>\n<p>I made a few minor modifications to the Tree class:</p>\n<pre><code>public class Tree&lt;T&gt; {\n    public final T value;\n    private List&lt;Tree&lt;T&gt;&gt; children;\n\n    private Tree(T value){\n        this.value=value;\n        this.children = new ArrayList&lt;&gt;();\n    }\n\n    public static &lt;T&gt; Tree&lt;T&gt; of(T value){\n        return new Tree&lt;&gt;(value);\n    }\n\n    public Tree&lt;T&gt; addChild(T value){\n        Tree&lt;T&gt; newChild = new Tree&lt;&gt;(value);\n        children.add(newChild);\n        return newChild;\n    }\n\n    public String toString(){\n        String s =&quot;node: &quot;+value+&quot; - children: (&quot;+\n                children.stream().map(child -&gt; child.value.toString()).collect(Collectors.joining(&quot;,&quot;))+\n                &quot;)\\n&quot;;\n        for(Tree&lt;T&gt; child : children)\n            s+=child.toString();\n        return s;\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Tree: \nnode: Car - children: (Trunk,Battery)\nnode: Trunk - children: (Engine)\nnode: Engine - children: (Valve)\nnode: Valve - children: (Bolt)\nnode: Bolt - children: ()\nnode: Battery - children: ()\n</code></pre>\n<p><strong>Note</strong>: From the question I cannot deduce why this particular Tree structure has any advantage over the much richer data structures offered by JGraphT. It is questionable whether using this Tree structure is a good idea.</p>\n"}],"owner":{"account_id":323468,"reputation":341,"user_id":643503,"accept_rate":60,"display_name":"Neill Lima"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73546269,"answer_count":1,"score":1,"last_activity_date":1661879753,"creation_date":1661788489,"question_id":73531442,"body_markdown":"I would like to know if JGraphT has any built-in feature that allows one to export a generated graph into an infinite Tree (parent node/parent children) format. \r\n\r\n**Tree class**\r\n\r\n```\r\npublic class Tree&lt;T&gt; {\r\n\r\n  private T value;\r\n  private List&lt;Tree&lt;T&gt;&gt; children;\r\n\r\n  private Tree(T value) {\r\n    this.value = value;\r\n    this.children = new ArrayList&lt;&gt;();\r\n  }\r\n\r\n  public static &lt;T&gt; Tree&lt;T&gt; of(T value) {\r\n    return new Tree&lt;&gt;(value);\r\n  }\r\n\r\n  public Tree&lt;T&gt; addChild(T value) {\r\n    Tree&lt;T&gt; newChild = new Tree&lt;&gt;(value);\r\n    children.add(newChild);\r\n    return newChild;\r\n  }\r\n}\r\n```\r\n\r\n**The data sample**\r\n\r\nI&#39;m experimenting with a tree of components, in which a component can have `n` children based on a root component. The nodes can only relate to one another in descending order.\r\n\r\nE.g (Rough draft). \r\n\r\n```\r\nCar &gt; Trunk &gt; Engine &gt; Valve &gt; Bolt \r\nCar &gt; Trunk &gt; Battery \r\n```\r\n\r\nAnd so on. Of course, the list of components should grow indefinitely based on the complexity of the root component in question.\r\n\r\n**The graph**\r\n\r\nI&#39;ve created a `DirectedPseudograph&lt;Component, DefaultEdge&gt;` and added all the components as vertexes and added the edges between them, that part is working well. I can get the root components and traverse the graph using DFS and BFS to list the relationship between the nodes. \r\n\r\n**The Goal**\r\n\r\nI would like to export this into a Java object to use it further in the system. I&#39;ve played a bit with the JSONExporter but I wasn&#39;t able to get it into a sort of Object tree. Hence the question here is to see if there is a specific way to achieve this. I&#39;m flexible with the data type (`class Tree&lt;T&gt;` above) as long as I can generate nested objects. I would be okay generating a nested JSON object and marshaling it into POJO if needed as well, although that would mean a lot of extra code, so I wanted to take the shortcut.\r\n\r\nI&#39;ve been playing with the `.vertexSet()` and `.edgeSet()` functions, but generating a tree out of it would require a lot of boilerplate code. \r\n\r\nShould I leverage a BFS Iterator to go over all nodes/connections and craft a tree out of it manually?\r\n\r\nBest,\r\n\r\nNeill","title":"Transform jgrapht graph into a Tree","body":"<p>I would like to know if JGraphT has any built-in feature that allows one to export a generated graph into an infinite Tree (parent node/parent children) format.</p>\n<p><strong>Tree class</strong></p>\n<pre><code>public class Tree&lt;T&gt; {\n\n  private T value;\n  private List&lt;Tree&lt;T&gt;&gt; children;\n\n  private Tree(T value) {\n    this.value = value;\n    this.children = new ArrayList&lt;&gt;();\n  }\n\n  public static &lt;T&gt; Tree&lt;T&gt; of(T value) {\n    return new Tree&lt;&gt;(value);\n  }\n\n  public Tree&lt;T&gt; addChild(T value) {\n    Tree&lt;T&gt; newChild = new Tree&lt;&gt;(value);\n    children.add(newChild);\n    return newChild;\n  }\n}\n</code></pre>\n<p><strong>The data sample</strong></p>\n<p>I'm experimenting with a tree of components, in which a component can have <code>n</code> children based on a root component. The nodes can only relate to one another in descending order.</p>\n<p>E.g (Rough draft).</p>\n<pre><code>Car &gt; Trunk &gt; Engine &gt; Valve &gt; Bolt \nCar &gt; Trunk &gt; Battery \n</code></pre>\n<p>And so on. Of course, the list of components should grow indefinitely based on the complexity of the root component in question.</p>\n<p><strong>The graph</strong></p>\n<p>I've created a <code>DirectedPseudograph&lt;Component, DefaultEdge&gt;</code> and added all the components as vertexes and added the edges between them, that part is working well. I can get the root components and traverse the graph using DFS and BFS to list the relationship between the nodes.</p>\n<p><strong>The Goal</strong></p>\n<p>I would like to export this into a Java object to use it further in the system. I've played a bit with the JSONExporter but I wasn't able to get it into a sort of Object tree. Hence the question here is to see if there is a specific way to achieve this. I'm flexible with the data type (<code>class Tree&lt;T&gt;</code> above) as long as I can generate nested objects. I would be okay generating a nested JSON object and marshaling it into POJO if needed as well, although that would mean a lot of extra code, so I wanted to take the shortcut.</p>\n<p>I've been playing with the <code>.vertexSet()</code> and <code>.edgeSet()</code> functions, but generating a tree out of it would require a lot of boilerplate code.</p>\n<p>Should I leverage a BFS Iterator to go over all nodes/connections and craft a tree out of it manually?</p>\n<p>Best,</p>\n<p>Neill</p>\n"},{"tags":["java","rabbitmq","message-queue","producer-consumer","rabbitmq-exchange"],"comments":[{"owner":{"account_id":23435245,"reputation":894,"user_id":17493431,"display_name":"Ethan"},"score":1,"creation_date":1661878989,"post_id":73544820,"comment_id":129874925,"body_markdown":"Do not vandalize your posts. By posting on this site, you&#39;ve irrevocably granted the Stack Exchange network the right to distribute that content under the [CC BY-SA 4.0 license](//creativecommons.org/licenses/by-sa/4.0/) for as long as it sees fit to do so. For alternatives to deletion, see: [I&#39;ve thought better of my question; can I delete it?](https://&lt;sitename&gt;.com/help/what-to-do-instead-of-deleting-question)","body":"Do not vandalize your posts. By posting on this site, you&#39;ve irrevocably granted the Stack Exchange network the right to distribute that content under the <a href=\"//creativecommons.org/licenses/by-sa/4.0/\" rel=\"nofollow noreferrer\">CC BY-SA 4.0 license</a> for as long as it sees fit to do so. For alternatives to deletion, see: <a href=\"https://&lt;sitename&gt;.com/help/what-to-do-instead-of-deleting-question\" rel=\"nofollow noreferrer\">I&#39;ve thought better of my question; can I delete it?</a>"}],"answers":[{"tags":[],"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661875689,"creation_date":1661875689,"answer_id":73545443,"question_id":73544820,"body_markdown":"I think you close connection without waiting message. Nothing stop your code to close all and that&#39;s kill consumer thread that is launch.\r\n\r\nSo you need waiting in a while loop : \r\n\r\n    private static final volatile boolean NO_LEFT = true;    \r\n        public void tamagoReceiveDish() throws IOException, TimeoutException  {\r\n        String sushiDishEx = &quot;sushiDishExchange&quot;;\r\n        String tamagoKey = &quot;tamagoDishKey&quot;;\r\n        \r\n        ConnectionFactory factory = new ConnectionFactory();\r\n        try (Connection con = factory.newConnection()) {  // added a try clause \r\n        Channel chan = con.createChannel();\r\n       chan.exchangeDeclare(sushiDishEx, &quot;direct&quot;); // direct exchange\r\n        \r\n        String queueName = chan.queueDeclare().getQueue();  \r\n        chan.queueBind(queueName, sushiDishEx, tamagoKey); \r\n        \r\n        \r\n        chan.basicConsume(queueName, true, (x, msg)-&gt;{\r\n        byte[] byteArray = msg.getBody();\r\n        try {\r\n            Sushi sushi = (Sushi) deserialize(byteArray);\r\n            System.out.println(&quot;CUSTOMER &quot; + this.custNo + &quot; (ordered Tamago Sushi): Received &quot; + sushi.sushiName + &quot;.&quot;);\r\n            System.out.println(&quot;CUSTOMER &quot; + this.custNo + &quot;: Left the restaurant.&quot;);\r\n            NO_LEFT = false;\r\n            \r\n        } catch (Exception e) {}\r\n        }, x-&gt;{}\r\n        );\r\n       while(NO_LEFT){\r\n         Thread.sleep(100);\r\n        }\r\n        }}","title":"RabbitMQ direct exchange is not consuming messages","body":"<p>I think you close connection without waiting message. Nothing stop your code to close all and that's kill consumer thread that is launch.</p>\n<p>So you need waiting in a while loop :</p>\n<pre><code>private static final volatile boolean NO_LEFT = true;    \n    public void tamagoReceiveDish() throws IOException, TimeoutException  {\n    String sushiDishEx = &quot;sushiDishExchange&quot;;\n    String tamagoKey = &quot;tamagoDishKey&quot;;\n    \n    ConnectionFactory factory = new ConnectionFactory();\n    try (Connection con = factory.newConnection()) {  // added a try clause \n    Channel chan = con.createChannel();\n   chan.exchangeDeclare(sushiDishEx, &quot;direct&quot;); // direct exchange\n    \n    String queueName = chan.queueDeclare().getQueue();  \n    chan.queueBind(queueName, sushiDishEx, tamagoKey); \n    \n    \n    chan.basicConsume(queueName, true, (x, msg)-&gt;{\n    byte[] byteArray = msg.getBody();\n    try {\n        Sushi sushi = (Sushi) deserialize(byteArray);\n        System.out.println(&quot;CUSTOMER &quot; + this.custNo + &quot; (ordered Tamago Sushi): Received &quot; + sushi.sushiName + &quot;.&quot;);\n        System.out.println(&quot;CUSTOMER &quot; + this.custNo + &quot;: Left the restaurant.&quot;);\n        NO_LEFT = false;\n        \n    } catch (Exception e) {}\n    }, x-&gt;{}\n    );\n   while(NO_LEFT){\n     Thread.sleep(100);\n    }\n    }}\n</code></pre>\n"}],"owner":{"account_id":18777764,"reputation":105,"user_id":13693125,"display_name":"cloud"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":377,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73545443,"answer_count":1,"score":1,"last_activity_date":1661879558,"creation_date":1661872593,"question_id":73544820,"body_markdown":"edit: edited to make it more generalized \r\n\r\nI have a producer thread wanting to send a message to the consumer threads in Java using RabbitMQ direct exchange, but my consumer are not receiving the dish. Below is the method my producer uses to publish the message:\r\n\r\nNote that `key` was passed as a parameter and was determined in a previous if-else statement to be either `&quot;key1&quot;` or `&quot;key2&quot;` string.\r\n\r\n    public void producerSend (Object object, String key) throws IOException, TimeoutException {\r\n        \r\n        String exchange = &quot;directExchange&quot;;\r\n        \r\n        System.out.println(&quot;PRODUCER: Sent message);\r\n        \r\n        ConnectionFactory factory = new ConnectionFactory();\r\n        byte[] byteArray = getByteArray(object);\r\n        try (Connection con = factory.newConnection()){\r\n            Channel chan = con.createChannel();\r\n            chan.exchangeDeclare (exchange, BuiltinExchangeType.DIRECT);\r\n            chan.basicPublish(exchange, key, null, byteArray);\r\n        }\r\n    }\r\n\r\nBelow is the method my consumers use to consume the message:\r\n\r\n    public void consumerReceive() throws IOException, TimeoutException  {\r\n    String exchange = &quot;directExchange&quot;;\r\n    String key = &quot;key1&quot;;\r\n        \r\n        ConnectionFactory factory = new ConnectionFactory();\r\n        try (Connection con = factory.newConnection()) {  // added a try clause \r\n        Channel chan = con.createChannel();\r\n       chan.exchangeDeclare(exchange, &quot;direct&quot;); // direct exchange\r\n        \r\n        String queueName = chan.queueDeclare().getQueue();  \r\n        chan.queueBind(queueName, exchange, key); \r\n        \r\n        \r\n        chan.basicConsume(queueName, true, (x, msg)-&gt;{\r\n        byte[] byteArray = msg.getBody();\r\n        try {\r\n            Object object = (Object) deserialize(byteArray);\r\n            System.out.println(&quot;CONSUMER: Received message. Bye!&quot;);\r\n           \r\n            \r\n        } catch (Exception e) {}\r\n        }, x-&gt;{}\r\n        );\r\n        }\r\n    }\r\n\r\nNote that I added a `try clause` when creating a new connection for the consumer as there were many consumers (threads) that are continuously created to order and obtain a message, and I want them to only connect ONCE with the producer to obtain the message, then stop connection (consumer says bye). \r\n\r\nBefore, when I did not add the `try clause`, so the consumers were able to receive the message and leave, but when the next consumer joins and waits for their message, the producer ends up sending the message to ALL of the consumers who had previously received their message because the connection was still open with the previous consumers. That&#39;s why I added the `try clause`, but I&#39;m not sure why after adding it, the consumers no longer receive any dish (the consumer connection is not created?).\r\n\r\nI&#39;d really appreciate it if anyone could help me resolve this problem. I only want one unique consumer to receive each message and leave (close the connection with that consumer?)","title":"RabbitMQ direct exchange is not consuming messages","body":"<p>edit: edited to make it more generalized</p>\n<p>I have a producer thread wanting to send a message to the consumer threads in Java using RabbitMQ direct exchange, but my consumer are not receiving the dish. Below is the method my producer uses to publish the message:</p>\n<p>Note that <code>key</code> was passed as a parameter and was determined in a previous if-else statement to be either <code>&quot;key1&quot;</code> or <code>&quot;key2&quot;</code> string.</p>\n<pre><code>public void producerSend (Object object, String key) throws IOException, TimeoutException {\n    \n    String exchange = &quot;directExchange&quot;;\n    \n    System.out.println(&quot;PRODUCER: Sent message);\n    \n    ConnectionFactory factory = new ConnectionFactory();\n    byte[] byteArray = getByteArray(object);\n    try (Connection con = factory.newConnection()){\n        Channel chan = con.createChannel();\n        chan.exchangeDeclare (exchange, BuiltinExchangeType.DIRECT);\n        chan.basicPublish(exchange, key, null, byteArray);\n    }\n}\n</code></pre>\n<p>Below is the method my consumers use to consume the message:</p>\n<pre><code>public void consumerReceive() throws IOException, TimeoutException  {\nString exchange = &quot;directExchange&quot;;\nString key = &quot;key1&quot;;\n    \n    ConnectionFactory factory = new ConnectionFactory();\n    try (Connection con = factory.newConnection()) {  // added a try clause \n    Channel chan = con.createChannel();\n   chan.exchangeDeclare(exchange, &quot;direct&quot;); // direct exchange\n    \n    String queueName = chan.queueDeclare().getQueue();  \n    chan.queueBind(queueName, exchange, key); \n    \n    \n    chan.basicConsume(queueName, true, (x, msg)-&gt;{\n    byte[] byteArray = msg.getBody();\n    try {\n        Object object = (Object) deserialize(byteArray);\n        System.out.println(&quot;CONSUMER: Received message. Bye!&quot;);\n       \n        \n    } catch (Exception e) {}\n    }, x-&gt;{}\n    );\n    }\n}\n</code></pre>\n<p>Note that I added a <code>try clause</code> when creating a new connection for the consumer as there were many consumers (threads) that are continuously created to order and obtain a message, and I want them to only connect ONCE with the producer to obtain the message, then stop connection (consumer says bye).</p>\n<p>Before, when I did not add the <code>try clause</code>, so the consumers were able to receive the message and leave, but when the next consumer joins and waits for their message, the producer ends up sending the message to ALL of the consumers who had previously received their message because the connection was still open with the previous consumers. That's why I added the <code>try clause</code>, but I'm not sure why after adding it, the consumers no longer receive any dish (the consumer connection is not created?).</p>\n<p>I'd really appreciate it if anyone could help me resolve this problem. I only want one unique consumer to receive each message and leave (close the connection with that consumer?)</p>\n"},{"tags":["python","java","intellij-idea","jython","scriptengine"],"answers":[{"tags":[],"owner":{"account_id":1295621,"reputation":111,"user_id":7403310,"display_name":"saadeez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661856531,"creation_date":1661856531,"answer_id":73541192,"question_id":73540502,"body_markdown":"I have not worked with Jython library but its seems that it helps to get python libraries/interpreter in java code.\r\nYour code looks like you want to execute some python class and get result in Java. You can simply execute it as a shell command and get its result like following utility function:\r\n\r\n\t\r\n\r\n    public static String runSystemCommand(String fileToRun) throws IOException\r\n    \t{\r\n    \t\tProcess p = Runtime.getRuntime().exec(fileToRun);\r\n    \t\tBufferedReader input = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n    \r\n    \t\tString result = input.lines().collect(Collectors.joining(&quot;\\n&quot;));\r\n    \r\n    \t\tinput.close();\r\n    \r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws Exception\r\n    \t{\r\n    \t\tSystem.out.println(runSystemCommand(&quot;python /home/saad/shell.py&quot;));\r\n    \t}\r\n\r\n","title":"How do I run Python Scripts in Java with the ScriptEngine?","body":"<p>I have not worked with Jython library but its seems that it helps to get python libraries/interpreter in java code.\nYour code looks like you want to execute some python class and get result in Java. You can simply execute it as a shell command and get its result like following utility function:</p>\n<pre><code>public static String runSystemCommand(String fileToRun) throws IOException\n    {\n        Process p = Runtime.getRuntime().exec(fileToRun);\n        BufferedReader input = new BufferedReader(new InputStreamReader(p.getInputStream()));\n\n        String result = input.lines().collect(Collectors.joining(&quot;\\n&quot;));\n\n        input.close();\n\n        return result;\n    }\n\n    public static void main(String[] args) throws Exception\n    {\n        System.out.println(runSystemCommand(&quot;python /home/saad/shell.py&quot;));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26181592,"reputation":3,"user_id":19864896,"display_name":"Skyliam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661879151,"creation_date":1661879151,"answer_id":73546163,"question_id":73540502,"body_markdown":"I found a workaround using the ProcessBuilder. Its running my python script in the shell like @saadeez showed me.\r\n\r\n    @Test\r\n      public void givenPythonScript_whenPythonProcessInvoked_thenSuccess() throws Exception {\r\n      ProcessBuilder processBuilder = new ProcessBuilder(&quot;python&quot;, &quot;C:.py&quot;);\r\n      processBuilder.redirectErrorStream(true);\r\n\r\n      Process process = processBuilder.start();\r\n      List&lt;String&gt; results = readProcessOutput(process.getInputStream());\r\n      System.out.println(results);\r\n      int exitCode = process.waitFor();\r\n      assertEquals(&quot;0&quot;, &quot;&quot;+exitCode);}\r\n\r\n\r\n    public static String runSystemCommand(String fileToRun) throws IOException\r\n    {\r\n        Process p = Runtime.getRuntime().exec(fileToRun);\r\n        BufferedReader input = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n\r\n        String result = input.lines().collect(Collectors.joining(&quot;\\n&quot;));\r\n\r\n        input.close();\r\n\r\n        return result;}\r\n    ","title":"How do I run Python Scripts in Java with the ScriptEngine?","body":"<p>I found a workaround using the ProcessBuilder. Its running my python script in the shell like @saadeez showed me.</p>\n<pre><code>@Test\n  public void givenPythonScript_whenPythonProcessInvoked_thenSuccess() throws Exception {\n  ProcessBuilder processBuilder = new ProcessBuilder(&quot;python&quot;, &quot;C:.py&quot;);\n  processBuilder.redirectErrorStream(true);\n\n  Process process = processBuilder.start();\n  List&lt;String&gt; results = readProcessOutput(process.getInputStream());\n  System.out.println(results);\n  int exitCode = process.waitFor();\n  assertEquals(&quot;0&quot;, &quot;&quot;+exitCode);}\n\n\npublic static String runSystemCommand(String fileToRun) throws IOException\n{\n    Process p = Runtime.getRuntime().exec(fileToRun);\n    BufferedReader input = new BufferedReader(new InputStreamReader(p.getInputStream()));\n\n    String result = input.lines().collect(Collectors.joining(&quot;\\n&quot;));\n\n    input.close();\n\n    return result;}\n</code></pre>\n"}],"owner":{"account_id":26181592,"reputation":3,"user_id":19864896,"display_name":"Skyliam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73541192,"answer_count":2,"score":0,"last_activity_date":1661879151,"creation_date":1661853321,"question_id":73540502,"body_markdown":"I&#39;m trying to run Python Scripts in my Java Application with Jyton/ScriptEngine but it&#39;s not working.\r\nScriptEngine does not find JythonScriptEngine.\r\n\r\n    public static void main(String[] Args) throws FileNotFoundException, ScriptException {\r\n        PySystemState engineSys = new PySystemState();\r\n        engineSys.path.append(Py.newString(&quot;C:/Users/User/AppData/Local/jython2.7.2/jython.jar&quot;));\r\n        Py.setSystemState(engineSys);\r\n        StringWriter writer = new StringWriter();\r\n        ScriptContext context = new SimpleScriptContext();\r\n        context.setWriter(writer);\r\n        ScriptEngineManager manager = new ScriptEngineManager();\r\n        ScriptEngine engine = manager.getEngineByName(&quot;python&quot;);\r\n        engine.eval(new FileReader(&quot;C:/*/MyScript.py&quot;), context);\r\n        System.out.println(engine.get(&quot;value&quot;));}\r\n\r\nI added Jython into my Project Libary.\r\n\r\nBut it didnt work.\r\n\r\nI hope somebody can help me.\r\nThank you in advance. :D\r\n\r\n","title":"How do I run Python Scripts in Java with the ScriptEngine?","body":"<p>I'm trying to run Python Scripts in my Java Application with Jyton/ScriptEngine but it's not working.\nScriptEngine does not find JythonScriptEngine.</p>\n<pre><code>public static void main(String[] Args) throws FileNotFoundException, ScriptException {\n    PySystemState engineSys = new PySystemState();\n    engineSys.path.append(Py.newString(&quot;C:/Users/User/AppData/Local/jython2.7.2/jython.jar&quot;));\n    Py.setSystemState(engineSys);\n    StringWriter writer = new StringWriter();\n    ScriptContext context = new SimpleScriptContext();\n    context.setWriter(writer);\n    ScriptEngineManager manager = new ScriptEngineManager();\n    ScriptEngine engine = manager.getEngineByName(&quot;python&quot;);\n    engine.eval(new FileReader(&quot;C:/*/MyScript.py&quot;), context);\n    System.out.println(engine.get(&quot;value&quot;));}\n</code></pre>\n<p>I added Jython into my Project Libary.</p>\n<p>But it didnt work.</p>\n<p>I hope somebody can help me.\nThank you in advance. :D</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1239585,"reputation":816,"user_id":1202506,"display_name":"NicuMarasoiu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1661879112,"creation_date":1661879112,"answer_id":73546159,"question_id":53330463,"body_markdown":"There is one, https://www.tornadovm.org/ but not sure how mature.\r\n\r\nTornadoVM can currently execute on multi-core CPUs, dedicated GPUs (Nvidia, AMD), integrated GPUs (Intel HD Graphics and ARM Mali), and FPGAs (Intel and Xilinx).\r\n\r\n```\r\nBackend wise (not all OSes support all these):\r\n--opencl: Enables the OpenCL backend (requires OpenCL drivers)\r\n--ptx: Enables the PTX backend (requires NVIDIA CUDA drivers)\r\n--spirv: Enables the SPIRV backend (requires Intel Level Zero drivers)\r\n```","title":"What JVM can run on CPU and GPU?","body":"<p>There is one, <a href=\"https://www.tornadovm.org/\" rel=\"nofollow noreferrer\">https://www.tornadovm.org/</a> but not sure how mature.</p>\n<p>TornadoVM can currently execute on multi-core CPUs, dedicated GPUs (Nvidia, AMD), integrated GPUs (Intel HD Graphics and ARM Mali), and FPGAs (Intel and Xilinx).</p>\n<pre><code>Backend wise (not all OSes support all these):\n--opencl: Enables the OpenCL backend (requires OpenCL drivers)\n--ptx: Enables the PTX backend (requires NVIDIA CUDA drivers)\n--spirv: Enables the SPIRV backend (requires Intel Level Zero drivers)\n</code></pre>\n"}],"owner":{"account_id":412334,"reputation":33758,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1848,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":73546159,"answer_count":1,"score":5,"last_activity_date":1661879112,"creation_date":1542334109,"question_id":53330463,"body_markdown":"What JVM runs on a CPU + GPU? \r\n\r\nI know JVM like *Oracle*, *Zulu*, *OpenJDK* but none is designed to offload processing to  GPU.  ","title":"What JVM can run on CPU and GPU?","body":"<p>What JVM runs on a CPU + GPU? </p>\n\n<p>I know JVM like <em>Oracle</em>, <em>Zulu</em>, <em>OpenJDK</em> but none is designed to offload processing to  GPU.  </p>\n"},{"tags":["java","gzip","zlib"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1661837905,"post_id":73537322,"comment_id":129859583,"body_markdown":"&quot;the required 32Kb of previous decompressed data required to start inflating a new block&quot;: where did you get that idea?","body":"&quot;the required 32Kb of previous decompressed data required to start inflating a new block&quot;: where did you get that idea?"},{"owner":{"account_id":9022207,"reputation":11,"user_id":6722892,"display_name":"A. Eglin"},"score":0,"creation_date":1661872661,"post_id":73537322,"comment_id":129872431,"body_markdown":"https://github.com/madler/zlib/blob/master/examples/zran.c#L22-L23","body":"<a href=\"https://github.com/madler/zlib/blob/master/examples/zran.c#L22-L23\" rel=\"nofollow noreferrer\">github.com/madler/zlib/blob/master/examples/zran.c#L22-L23</a>"},{"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"score":0,"creation_date":1661876562,"post_id":73537322,"comment_id":129873989,"body_markdown":"@user207421 The OP is correct.","body":"@user207421 The OP is correct."}],"answers":[{"tags":[],"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661878134,"creation_date":1661878134,"answer_id":73545963,"question_id":73537322,"body_markdown":"You are correct that the Java `Inflater` (spelled wrong) class does not provide an interface to the zlib capabilities required for your application. You would need to link to the zlib library in C directly.\r\n\r\n[zran.c][1] provides a working example of what you&#39;re looking for. You use the `Z_BLOCK` flush value with `inflate()` to stop inflation at the next deflate block boundary. On return, `data_type` will tell you how many bits of the last consumed byte of input are part of the next block. You will need to track the offset of the next full byte to consume, and maintain your own buffer of the last 32K of uncompressed data.\r\n\r\nNow you can deliver that offset into the file, the number of bits from the preceding byte to use for the next block, and the 32K of uncompressed data. You can start a new raw inflation with `inflateInit2()`, using `inflatePrime()` to insert those initial 0 to 7 bits from the byte that precedes the first full byte of the next block, and using `inflateSetDictionary()` to set the 32K (or less) of preceding uncompressed data. Then call `inflate()` and you&#39;re off to the races.\r\n\r\nSince you are decoding a gzip stream, and since you need to use raw inflate to start decoding in the middle, you will also need to keep track of two more things. Those are the running total number of uncompressed bytes and the running CRC-32 of the uncompressed data. They are needed to perform the integrity check using the trailer at the end of the gzip stream, which contains the final values of those. zlib also provides the `crc32()` function for that calculation.\r\n\r\nFor the start of the gzip stream, you can either decode the gzip header yourself, which is straightforward referencing [RFC 1952][2], or you can use `inflateInit2()` requesting gzip encoding and `inflate()` with `Z_BLOCK` to decode the header.\r\n\r\nNote that a concatenation of valid gzip streams is a valid gzip stream. If you get to the end of a gzip trailer, and there is still more input from the gzip file, then start over with the decoding of a gzip header.\r\n\r\n  [1]: https://github.com/madler/zlib/blob/master/examples/zran.c\r\n  [2]: https://www.rfc-editor.org/rfc/rfc1952","title":"Java GZIP/ZLib inflate only one block at a time and return a checkpoint that can be used to start the next inflation","body":"<p>You are correct that the Java <code>Inflater</code> (spelled wrong) class does not provide an interface to the zlib capabilities required for your application. You would need to link to the zlib library in C directly.</p>\n<p><a href=\"https://github.com/madler/zlib/blob/master/examples/zran.c\" rel=\"nofollow noreferrer\">zran.c</a> provides a working example of what you're looking for. You use the <code>Z_BLOCK</code> flush value with <code>inflate()</code> to stop inflation at the next deflate block boundary. On return, <code>data_type</code> will tell you how many bits of the last consumed byte of input are part of the next block. You will need to track the offset of the next full byte to consume, and maintain your own buffer of the last 32K of uncompressed data.</p>\n<p>Now you can deliver that offset into the file, the number of bits from the preceding byte to use for the next block, and the 32K of uncompressed data. You can start a new raw inflation with <code>inflateInit2()</code>, using <code>inflatePrime()</code> to insert those initial 0 to 7 bits from the byte that precedes the first full byte of the next block, and using <code>inflateSetDictionary()</code> to set the 32K (or less) of preceding uncompressed data. Then call <code>inflate()</code> and you're off to the races.</p>\n<p>Since you are decoding a gzip stream, and since you need to use raw inflate to start decoding in the middle, you will also need to keep track of two more things. Those are the running total number of uncompressed bytes and the running CRC-32 of the uncompressed data. They are needed to perform the integrity check using the trailer at the end of the gzip stream, which contains the final values of those. zlib also provides the <code>crc32()</code> function for that calculation.</p>\n<p>For the start of the gzip stream, you can either decode the gzip header yourself, which is straightforward referencing <a href=\"https://www.rfc-editor.org/rfc/rfc1952\" rel=\"nofollow noreferrer\">RFC 1952</a>, or you can use <code>inflateInit2()</code> requesting gzip encoding and <code>inflate()</code> with <code>Z_BLOCK</code> to decode the header.</p>\n<p>Note that a concatenation of valid gzip streams is a valid gzip stream. If you get to the end of a gzip trailer, and there is still more input from the gzip file, then start over with the decoding of a gzip header.</p>\n"}],"owner":{"account_id":9022207,"reputation":11,"user_id":6722892,"display_name":"A. Eglin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661878134,"creation_date":1661835445,"question_id":73537322,"body_markdown":"As the title says. I&#39;m looking for a way to decompress a gzip file in such a way that I can stop decompressing on one host, upload the current location in the file and the required 32Kb of previous decompressed data required to start inflating a new block, and then pick up inflation again on another host. Ideally with existing Java packages but I can import from C if required. \r\n\r\nI&#39;ve already looked at https://github.com/madler/zlib and https://docs.oracle.com/javase/8/docs/api/java/util/zip/Inflater.html . I find the zlib library very confusing and difficult to understand but I have a vague semblance of an idea that it can be used for my needs here. Any help in the right direction would be appreciated. Currently I&#39;ve gotten so far as to parse a GZIP files headers &amp; get to the first inflate block, but the Java ZLib library doesn&#39;t allow you to inflate only one block at a time and doesn&#39;t return any sort of checkpoints along the way.","title":"Java GZIP/ZLib inflate only one block at a time and return a checkpoint that can be used to start the next inflation","body":"<p>As the title says. I'm looking for a way to decompress a gzip file in such a way that I can stop decompressing on one host, upload the current location in the file and the required 32Kb of previous decompressed data required to start inflating a new block, and then pick up inflation again on another host. Ideally with existing Java packages but I can import from C if required.</p>\n<p>I've already looked at <a href=\"https://github.com/madler/zlib\" rel=\"nofollow noreferrer\">https://github.com/madler/zlib</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/zip/Inflater.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/zip/Inflater.html</a> . I find the zlib library very confusing and difficult to understand but I have a vague semblance of an idea that it can be used for my needs here. Any help in the right direction would be appreciated. Currently I've gotten so far as to parse a GZIP files headers &amp; get to the first inflate block, but the Java ZLib library doesn't allow you to inflate only one block at a time and doesn't return any sort of checkpoints along the way.</p>\n"},{"tags":["java","spring","spring-boot","elasticsearch","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1631965140,"post_id":69233447,"comment_id":122369021,"body_markdown":"the linked program does not compile. Where is the connection to Elasticsearch configured? Anyway it&#39;s not a good idea to use the same entity for a relational database and for a document store like Elasticsearch.","body":"the linked program does not compile. Where is the connection to Elasticsearch configured? Anyway it&#39;s not a good idea to use the same entity for a relational database and for a document store like Elasticsearch."}],"answers":[{"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661877806,"creation_date":1631960246,"answer_id":69233722,"question_id":69233447,"body_markdown":"java.util.Set is an interface not a class.\r\nInterfaces do not have constructors, they are joined to a class that &quot;implements&quot; (has the operating code methods of) the interface.\r\nAll method signatures in an interface are abstract , they have no code, only the signature of methods supplied by the implementing class.\r\ne.g. HashSet is a class that implements java.util.Set\r\nSee the API documentation at the top of its page for &quot;all known implementing classes&quot;\r\n\r\nYour HashSet is **private**  *it must use private methods to call on it e.g. set or get e.t.c.*\r\n\r\nTo hazard a guess the List must become a Set but List is instantiated and Set is a variable waiting.\r\nSomewhere in the code in private methods this goes like (figuratively)...\r\n\r\n    private Set&lt;Address&gt; addresses = (Set&lt;Address&gt;)(Collection&lt;Address&gt;)elasticsearchTemplate.search(nativeSearchQuery, Customer.class);\r\n\r\nNote that in that line they are all interfaces but to have an instantiated interface means there is a class attached that implements the interface List , however the class should also be able to use interface Set.\r\nI just presume the List returned is actually in a HashSet and the instantiation is simply reserving space in memory like &quot;C&quot; language, just a helper that is not required to have any class instantiated at that time.\r\n**A HashSet takes a Collection in its constructor and a Collection can be either a Set or a List.**\r\n","title":"Spring data elasticsearch:throws MappingInstantiationException: Failed to instantiate java.util.Set using constructor NO_CONSTRUCTOR with arguments","body":"<p>java.util.Set is an interface not a class.\nInterfaces do not have constructors, they are joined to a class that &quot;implements&quot; (has the operating code methods of) the interface.\nAll method signatures in an interface are abstract , they have no code, only the signature of methods supplied by the implementing class.\ne.g. HashSet is a class that implements java.util.Set\nSee the API documentation at the top of its page for &quot;all known implementing classes&quot;</p>\n<p>Your HashSet is <strong>private</strong>  <em>it must use private methods to call on it e.g. set or get e.t.c.</em></p>\n<p>To hazard a guess the List must become a Set but List is instantiated and Set is a variable waiting.\nSomewhere in the code in private methods this goes like (figuratively)...</p>\n<pre><code>private Set&lt;Address&gt; addresses = (Set&lt;Address&gt;)(Collection&lt;Address&gt;)elasticsearchTemplate.search(nativeSearchQuery, Customer.class);\n</code></pre>\n<p>Note that in that line they are all interfaces but to have an instantiated interface means there is a class attached that implements the interface List , however the class should also be able to use interface Set.\nI just presume the List returned is actually in a HashSet and the instantiation is simply reserving space in memory like &quot;C&quot; language, just a helper that is not required to have any class instantiated at that time.\n<strong>A HashSet takes a Collection in its constructor and a Collection can be either a Set or a List.</strong></p>\n"}],"owner":{"account_id":22788505,"reputation":11,"user_id":16943217,"display_name":"Ma Va"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":866,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661877806,"creation_date":1631958097,"question_id":69233447,"body_markdown":"I am in process of migrating an application to the latest spring boot version (using gradle spring-boot-dependencies with version 2.5.4).\r\n\r\nI have an entity called `Customer` which is annotated with `@Document(indexName = &quot;customer&quot;)`; and another entity `Address` which is annotated with `@Document(indexName = &quot;address&quot;)`. Customer class has `private Set&lt;Address&gt; addresses = new HashSet&lt;&gt;()`.\r\n\r\nGetting the below error, while calling **List&lt;Customer&gt; hits = elasticsearchTemplate\r\n            .search(nativeSearchQuery, Customer.class)** from the repository. \r\n\r\n&gt; **org.springframework.data.mapping.model.MappingInstantiationException:\r\n&gt; Failed to instantiate java.util.Set using constructor NO_CONSTRUCTOR with arguments**. \r\n\t\t\t\r\n\t\t\t\r\nIt is working if I follow similar MONGO suggestion https://stackoverflow.com/questions/46223496/failed-to-instantiate-java-util-set-using-constructor-no-constructor-with-argume and make the declaration `private HashSet&lt;Address&gt; addresses = new HashSet&lt;&gt;()`. I can&#39;t follow this as we have hundreds of entities and their JPA criteria mappings built with JPA Metamodel are failing.\r\n\r\n\r\nplease note that I have already reviewed the below 2  threads and feel it&#39;s different:\r\n1. https://stackoverflow.com/questions/67558754/indexing-problem-with-spring-data-elastic-migration-from-3-x-to-4-x/69232630#69232630\r\n2. https://stackoverflow.com/questions/69172866/spring-data-elasticsearch-using-document-annotation-on-pojo-interface-class-no\r\n\r\nif you are looking for a sample repository: https://gitlab.com/mvallapuneni/spring-es-sample\r\n\r\n\r\nAny help is appreciated...\r\n","title":"Spring data elasticsearch:throws MappingInstantiationException: Failed to instantiate java.util.Set using constructor NO_CONSTRUCTOR with arguments","body":"<p>I am in process of migrating an application to the latest spring boot version (using gradle spring-boot-dependencies with version 2.5.4).</p>\n<p>I have an entity called <code>Customer</code> which is annotated with <code>@Document(indexName = &quot;customer&quot;)</code>; and another entity <code>Address</code> which is annotated with <code>@Document(indexName = &quot;address&quot;)</code>. Customer class has <code>private Set&lt;Address&gt; addresses = new HashSet&lt;&gt;()</code>.</p>\n<p>Getting the below error, while calling <strong>List hits = elasticsearchTemplate\n.search(nativeSearchQuery, Customer.class)</strong> from the repository.</p>\n<blockquote>\n<p><strong>org.springframework.data.mapping.model.MappingInstantiationException:\nFailed to instantiate java.util.Set using constructor NO_CONSTRUCTOR with arguments</strong>.</p>\n</blockquote>\n<p>It is working if I follow similar MONGO suggestion <a href=\"https://stackoverflow.com/questions/46223496/failed-to-instantiate-java-util-set-using-constructor-no-constructor-with-argume\">Failed to instantiate java.util.Set using constructor NO_CONSTRUCTOR with arguments</a> and make the declaration <code>private HashSet&lt;Address&gt; addresses = new HashSet&lt;&gt;()</code>. I can't follow this as we have hundreds of entities and their JPA criteria mappings built with JPA Metamodel are failing.</p>\n<p>please note that I have already reviewed the below 2  threads and feel it's different:</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/67558754/indexing-problem-with-spring-data-elastic-migration-from-3-x-to-4-x/69232630#69232630\">Indexing problem with Spring Data Elastic migration from 3.x to 4.x</a></li>\n<li><a href=\"https://stackoverflow.com/questions/69172866/spring-data-elasticsearch-using-document-annotation-on-pojo-interface-class-no\">Spring data elasticsearch: Using @Document annotation on POJO interface class not working</a></li>\n</ol>\n<p>if you are looking for a sample repository: <a href=\"https://gitlab.com/mvallapuneni/spring-es-sample\" rel=\"nofollow noreferrer\">https://gitlab.com/mvallapuneni/spring-es-sample</a></p>\n<p>Any help is appreciated...</p>\n"},{"tags":["java","json","compression","tiled"],"comments":[{"owner":{"account_id":362976,"reputation":35565,"user_id":706456,"accept_rate":77,"display_name":"oleksii"},"score":0,"creation_date":1661817979,"post_id":73530807,"comment_id":129856954,"body_markdown":"It&#39;s hard to know where the bug is. Try writing some test for the code. Isolate the problem to a couple of specific functions: compress/decompress, read/write, encode/decode. Compression algorithms themselves will not be a problem, but most likely the code that passes data to them. Check that you read and write data correctly from the source. Check that data is saved with the expected encoding. If this isn&#39;t helpful, try narrowing down the question.","body":"It&#39;s hard to know where the bug is. Try writing some test for the code. Isolate the problem to a couple of specific functions: compress/decompress, read/write, encode/decode. Compression algorithms themselves will not be a problem, but most likely the code that passes data to them. Check that you read and write data correctly from the source. Check that data is saved with the expected encoding. If this isn&#39;t helpful, try narrowing down the question."}],"answers":[{"tags":[],"owner":{"account_id":9546953,"reputation":309,"user_id":11484157,"display_name":"Zizzyzizzy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661877774,"creation_date":1661877774,"answer_id":73545891,"question_id":73530807,"body_markdown":"eshiya in the Tiled forums got me pointed in the right direction to solve this.\r\n\r\nFirst I changed the unzip method to use bytes instead, but that still returned the same result. I paid very close attention this time and noticed that the unzip method was returning only 526 bytes of the 1024 bytes I was expecting (16 x 16 x 4). This seemed to indicate improper handling of the unzipped data, so I googled around to find the proper way to unzip gzipped byte data.\r\n\r\nTwo quick source code changes later and it&#39;s working fine now!\r\n\r\nFirst, have the method properly use only byte arrays, and an actual buffer:\r\n\r\n\r\n```\r\n    public static byte[] unzip(String b64) {\r\n        ByteArrayOutputStream os = new ByteArrayOutputStream();\r\n        try {\r\n            byte[] bytes = Base64.getDecoder().decode(b64);\r\n            GZIPInputStream gis = new GZIPInputStream(new ByteArrayInputStream(bytes));\r\n            byte[] buffer = new byte[1024];\r\n            int len;\r\n            while ((len = gis.read(buffer)) != -1){\r\n                os.write(buffer, 0, len);\r\n            }\r\n            os.close();\r\n            gis.close();\r\n            return os.toByteArray();\r\n        } catch (Exception e) {\r\n            return new byte[1];\r\n        }\r\n    }\r\n```\r\nNext, change the return variable to the unzip call to match the method change:\r\n\r\n```\r\n                        case &quot;gzip&quot;:\r\n                            try {\r\n                                decoded = unzip(chunkData);\r\n                            } catch (Exception e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                            break;\r\n```","title":"Problem with Tiled map chunk data after decompression","body":"<p>eshiya in the Tiled forums got me pointed in the right direction to solve this.</p>\n<p>First I changed the unzip method to use bytes instead, but that still returned the same result. I paid very close attention this time and noticed that the unzip method was returning only 526 bytes of the 1024 bytes I was expecting (16 x 16 x 4). This seemed to indicate improper handling of the unzipped data, so I googled around to find the proper way to unzip gzipped byte data.</p>\n<p>Two quick source code changes later and it's working fine now!</p>\n<p>First, have the method properly use only byte arrays, and an actual buffer:</p>\n<pre><code>    public static byte[] unzip(String b64) {\n        ByteArrayOutputStream os = new ByteArrayOutputStream();\n        try {\n            byte[] bytes = Base64.getDecoder().decode(b64);\n            GZIPInputStream gis = new GZIPInputStream(new ByteArrayInputStream(bytes));\n            byte[] buffer = new byte[1024];\n            int len;\n            while ((len = gis.read(buffer)) != -1){\n                os.write(buffer, 0, len);\n            }\n            os.close();\n            gis.close();\n            return os.toByteArray();\n        } catch (Exception e) {\n            return new byte[1];\n        }\n    }\n</code></pre>\n<p>Next, change the return variable to the unzip call to match the method change:</p>\n<pre><code>                        case &quot;gzip&quot;:\n                            try {\n                                decoded = unzip(chunkData);\n                            } catch (Exception e) {\n                                e.printStackTrace();\n                            }\n                            break;\n</code></pre>\n"}],"owner":{"account_id":9546953,"reputation":309,"user_id":11484157,"display_name":"Zizzyzizzy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661877774,"creation_date":1661785403,"question_id":73530807,"body_markdown":"I have a very specific use case for reading Tiled Map Editor data that doesn&#39;t require the entire (and often outdated) libtiled library.\r\n\r\nJSON is my preferred format, since it&#39;s really easy to work with in Java. The code I have is working perfectly for raw, uncompressed chunk data that is base64 encoded. As soon as I change the setting in Tiled to gzip or zlib, I start to get completely invalid numbers after a couple of correct tile GID&#39;s are extracted from the base64 decoded string:\r\n\r\n**RAW/UNCOMPRESSED (Correct data):**\r\n\r\n    Layer Name: Floor\r\n    Width, Height: 96,48 \r\n    Start X,Y: -80,-48\r\n    Encoding: base64\r\n    Compression: \r\n    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\r\n    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\r\n    0,0,1099,1100,1101,691,692,693,694,695,696,697,1207,1208,700,701,\r\n    0,0,708,709,1243,1244,1245,713,714,1297,1298,1299,718,719,720,721,\r\n\r\n\r\n\r\n**GZIP:**\r\n\r\n    Layer Name: Floor\r\n    Width, Height: 96,48 \r\n    Start X,Y: -80,-48\r\n    Encoding: base64\r\n    Compression: gzip\r\n    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\r\n    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\r\n    0,0,1099,1100,1101,45989871,-1074855936,701,45989871,-1074855936,701,45989871,-1074855936,701,45989871,-1074855936,\r\n    1213,79544303,-1074855936,701,45989871,0,0,-1074855936,701,45989871,-1074855936,1213,79544303,-1074855936,1213,45989871,\r\n\r\n**ZLIB:**\r\n \r\n\r\n    Layer Name: Floor\r\n    Width, Height: 96,48 \r\n    Start X,Y: -80,-48\r\n    Encoding: base64\r\n    Compression: zlib\r\n    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\r\n    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\r\n    0,0,1099,1100,1101,45989871,-1074855936,701,45989871,-1074855936,701,45989871,-1074855936,701,45989871,-1074855936,\r\n    1213,79544303,-1074855936,701,45989871,0,0,-1074855936,701,45989871,-1074855936,1213,79544303,-1074855936,1213,45989871,\r\n\r\nWorking source code is here:\r\nhttps://paste.ee/p/uRgnQ\r\n\r\nExported Raw, gzip and zlib JSON data are here:\r\nhttps://paste.ee/p/lUsbq","title":"Problem with Tiled map chunk data after decompression","body":"<p>I have a very specific use case for reading Tiled Map Editor data that doesn't require the entire (and often outdated) libtiled library.</p>\n<p>JSON is my preferred format, since it's really easy to work with in Java. The code I have is working perfectly for raw, uncompressed chunk data that is base64 encoded. As soon as I change the setting in Tiled to gzip or zlib, I start to get completely invalid numbers after a couple of correct tile GID's are extracted from the base64 decoded string:</p>\n<p><strong>RAW/UNCOMPRESSED (Correct data):</strong></p>\n<pre><code>Layer Name: Floor\nWidth, Height: 96,48 \nStart X,Y: -80,-48\nEncoding: base64\nCompression: \n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n0,0,1099,1100,1101,691,692,693,694,695,696,697,1207,1208,700,701,\n0,0,708,709,1243,1244,1245,713,714,1297,1298,1299,718,719,720,721,\n</code></pre>\n<p><strong>GZIP:</strong></p>\n<pre><code>Layer Name: Floor\nWidth, Height: 96,48 \nStart X,Y: -80,-48\nEncoding: base64\nCompression: gzip\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n0,0,1099,1100,1101,45989871,-1074855936,701,45989871,-1074855936,701,45989871,-1074855936,701,45989871,-1074855936,\n1213,79544303,-1074855936,701,45989871,0,0,-1074855936,701,45989871,-1074855936,1213,79544303,-1074855936,1213,45989871,\n</code></pre>\n<p><strong>ZLIB:</strong></p>\n<pre><code>Layer Name: Floor\nWidth, Height: 96,48 \nStart X,Y: -80,-48\nEncoding: base64\nCompression: zlib\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n0,0,1099,1100,1101,45989871,-1074855936,701,45989871,-1074855936,701,45989871,-1074855936,701,45989871,-1074855936,\n1213,79544303,-1074855936,701,45989871,0,0,-1074855936,701,45989871,-1074855936,1213,79544303,-1074855936,1213,45989871,\n</code></pre>\n<p>Working source code is here:\n<a href=\"https://paste.ee/p/uRgnQ\" rel=\"nofollow noreferrer\">https://paste.ee/p/uRgnQ</a></p>\n<p>Exported Raw, gzip and zlib JSON data are here:\n<a href=\"https://paste.ee/p/lUsbq\" rel=\"nofollow noreferrer\">https://paste.ee/p/lUsbq</a></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8921,"page":1071,"page_size":100}
