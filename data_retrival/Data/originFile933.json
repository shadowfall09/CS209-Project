{"items":[{"tags":["java","hadoop","mapreduce","hive","hdfs"],"comments":[{"owner":{"account_id":296864,"reputation":4138,"user_id":602076,"display_name":"mohit6up"},"score":0,"creation_date":1364162737,"post_id":15571584,"comment_id":22130000,"body_markdown":"Do you have the right file permissions on this file?","body":"Do you have the right file permissions on this file?"},{"owner":{"account_id":1623002,"reputation":1520,"user_id":1532882,"accept_rate":100,"display_name":"Jake Z"},"score":5,"creation_date":1386697329,"post_id":15571584,"comment_id":30644900,"body_markdown":"Make sure the `dfs.datanode.address` port address is open. I had a similar error happen to me and it turned out that out of the several ports I needed to open, I neglected `50010`.","body":"Make sure the <code>dfs.datanode.address</code> port address is open. I had a similar error happen to me and it turned out that out of the several ports I needed to open, I neglected <code>50010</code>."},{"owner":{"account_id":4033122,"reputation":27140,"user_id":3318517,"accept_rate":67,"display_name":"Daniel Darabos"},"score":0,"creation_date":1420632724,"post_id":15571584,"comment_id":44044214,"body_markdown":"Thanks @MarkW, that was my mistake too. Care to add this as an answer?","body":"Thanks @MarkW, that was my mistake too. Care to add this as an answer?"}],"answers":[{"tags":[],"owner":{"account_id":1121609,"reputation":419,"user_id":1109819,"accept_rate":100,"display_name":"lvella"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1363959991,"creation_date":1363959991,"answer_id":15571928,"question_id":15571584,"body_markdown":"What I usually do when this happens is that I go to *tmp/hadoop-username/dfs/* directory and manually delete the *data* and *name* folders (assuming you are running in a Linux environment).\r\n\r\nThen format the dfs by calling *bin/hadoop namenode -format* (make sure that you answer with a capital *Y* when you are asked whether you want to format; if you are not asked, then re-run the command again).\r\n\r\nYou can then start hadoop again by calling *bin/start-all.sh*","title":"Writing to HDFS could only be replicated to 0 nodes instead of minReplication (=1)","body":"<p>What I usually do when this happens is that I go to <em>tmp/hadoop-username/dfs/</em> directory and manually delete the <em>data</em> and <em>name</em> folders (assuming you are running in a Linux environment).</p>\n\n<p>Then format the dfs by calling <em>bin/hadoop namenode -format</em> (make sure that you answer with a capital <em>Y</em> when you are asked whether you want to format; if you are not asked, then re-run the command again).</p>\n\n<p>You can then start hadoop again by calling <em>bin/start-all.sh</em></p>\n"},{"tags":[],"owner":{"account_id":2738449,"reputation":14392,"user_id":2360535,"accept_rate":64,"display_name":"twlkyao"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1387011582,"creation_date":1387011582,"answer_id":20581413,"question_id":15571584,"body_markdown":" 1. Check whether your DataNode is running,use the command:`jps`.\r\n 2. If it is **not running** wait sometime and retry.\r\n 3. If it is **running**, I think you have to re-format your DataNode.","title":"Writing to HDFS could only be replicated to 0 nodes instead of minReplication (=1)","body":"<ol>\n<li>Check whether your DataNode is running,use the command:<code>jps</code>.</li>\n<li>If it is <strong>not running</strong> wait sometime and retry.</li>\n<li>If it is <strong>running</strong>, I think you have to re-format your DataNode.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3391423,"reputation":692,"user_id":2846171,"display_name":"Devan M S"},"down_vote_count":7,"up_vote_count":19,"is_accepted":true,"score":12,"last_activity_date":1432315105,"creation_date":1404543979,"answer_id":24583936,"question_id":15571584,"body_markdown":"1.Stop all Hadoop daemons \r\n\r\n    for x in `cd /etc/init.d ; ls hadoop*` ; do sudo service $x stop ; done\r\n\r\n2.Remove all files from `/var/lib/hadoop-hdfs/cache/hdfs/dfs/name` \r\n\r\n    Eg: devan@Devan-PC:~$ sudo rm -r /var/lib/hadoop-hdfs/cache/\r\n\r\n3.Format Namenode\r\n\r\n    sudo -u hdfs hdfs namenode -format\r\n\r\n4.Start all Hadoop daemons\r\n\r\n    for x in `cd /etc/init.d ; ls hadoop*` ; do sudo service $x start ; done\r\n\r\n[Stop All Hadoop Service][1]\r\n  [1]: http://www.cloudera.com/content/cloudera/en/documentation/cdh4/latest/CDH4-Installation-Guide/cdh4ig_topic_27_3.html","title":"Writing to HDFS could only be replicated to 0 nodes instead of minReplication (=1)","body":"<p>1.Stop all Hadoop daemons </p>\n\n<pre><code>for x in `cd /etc/init.d ; ls hadoop*` ; do sudo service $x stop ; done\n</code></pre>\n\n<p>2.Remove all files from <code>/var/lib/hadoop-hdfs/cache/hdfs/dfs/name</code> </p>\n\n<pre><code>Eg: devan@Devan-PC:~$ sudo rm -r /var/lib/hadoop-hdfs/cache/\n</code></pre>\n\n<p>3.Format Namenode</p>\n\n<pre><code>sudo -u hdfs hdfs namenode -format\n</code></pre>\n\n<p>4.Start all Hadoop daemons</p>\n\n<pre><code>for x in `cd /etc/init.d ; ls hadoop*` ; do sudo service $x start ; done\n</code></pre>\n\n<p><a href=\"http://www.cloudera.com/content/cloudera/en/documentation/cdh4/latest/CDH4-Installation-Guide/cdh4ig_topic_27_3.html\" rel=\"noreferrer\">Stop All Hadoop Service</a></p>\n"},{"tags":[],"owner":{"account_id":3271551,"reputation":253,"user_id":2754816,"display_name":"divyaravi"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1428343476,"creation_date":1428343476,"answer_id":29476823,"question_id":15571584,"body_markdown":"I had the same issue, I was running very low on disk space. Freeing up disk solved it.","title":"Writing to HDFS could only be replicated to 0 nodes instead of minReplication (=1)","body":"<p>I had the same issue, I was running very low on disk space. Freeing up disk solved it.</p>\n"},{"tags":[],"owner":{"account_id":7247808,"reputation":3044,"user_id":5819877,"accept_rate":100,"display_name":"Praveen Kumar K S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466171908,"creation_date":1466171908,"answer_id":37883534,"question_id":15571584,"body_markdown":"**Very Simple fix for the same issue on Windows 8.1**&lt;br&gt;\r\nI used Windows 8.1 OS and Hadoop 2.7.2, Did the following things to overcome this issue.\r\n\r\n 1. When I started the hdfs namenode -format, I noticed there is a lock in my directory. please refer the figure below.&lt;br&gt;\r\n[![HadoopNameNode][1]][1]\r\n 2. Once I deleted the full folder as shown below, and again I did the **hdfs namenode -format.**\r\n[![Folder location][2]][2] &lt;br&gt;\r\n[![Full Folder Delete][3]][3]\r\n 3. After performing above two steps, I could successfully place my required files in HDFS system. I used **start-all.cmd** command to start yarn and namenode.\r\n\r\n  [1]: http://i.stack.imgur.com/EJZQl.png\r\n  [2]: http://i.stack.imgur.com/SNu7y.png\r\n  [3]: http://i.stack.imgur.com/4Ub3w.png","title":"Writing to HDFS could only be replicated to 0 nodes instead of minReplication (=1)","body":"<p><strong>Very Simple fix for the same issue on Windows 8.1</strong><br>\nI used Windows 8.1 OS and Hadoop 2.7.2, Did the following things to overcome this issue.</p>\n\n<ol>\n<li>When I started the hdfs namenode -format, I noticed there is a lock in my directory. please refer the figure below.<br>\n<a href=\"https://i.stack.imgur.com/EJZQl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EJZQl.png\" alt=\"HadoopNameNode\"></a></li>\n<li>Once I deleted the full folder as shown below, and again I did the <strong>hdfs namenode -format.</strong>\n<a href=\"https://i.stack.imgur.com/SNu7y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SNu7y.png\" alt=\"Folder location\"></a> <br>\n<a href=\"https://i.stack.imgur.com/4Ub3w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Ub3w.png\" alt=\"Full Folder Delete\"></a></li>\n<li>After performing above two steps, I could successfully place my required files in HDFS system. I used <strong>start-all.cmd</strong> command to start yarn and namenode.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5346693,"reputation":2655,"user_id":4262053,"accept_rate":78,"display_name":"Reihan_amn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1505878749,"creation_date":1505878749,"answer_id":46312888,"question_id":15571584,"body_markdown":"I had this problem and I solved it as bellow:\r\n\r\n\r\n 1. Find where are your datanode and namenode metadata/data saved; if you cannot find it, simply do this command on mac to find it (there are located in a folder called &quot;tmp&quot;)\r\n\r\n     **find /usr/local/Cellar/ -name &quot;tmp&quot;;**   \r\n\r\n     find command is like this: find &lt;&quot;directory&quot;&gt; -name &lt;&quot;any string clue for that directory or file&quot;&gt;\r\n\r\n\r\n\r\n 2. After finding that file, cd into it.\r\n    /usr/local/Cellar//hadoop/hdfs/tmp\r\n    \r\n    then cd to dfs\r\n \r\n    then using -ls command see that data and name directories are located there.\r\n\r\n\r\n 3. Using remove command, remove them both:\r\n\r\n **rm -R data .      and      rm -R name**\r\n\r\n 4. Go to bin folder and end everything if you already have not done it:\r\n\r\n    **sbin/end-dfs.sh**\r\n\r\n 5. Exit from the server or localhost.\r\n\r\n 6. Log into the server again: ssh &lt;&quot;server name&quot;&gt;\r\n\r\n 7. start the dfs:\r\n\r\n      **sbin/start-dfs.sh**\r\n 8. Format the namenode for being sure:\r\n\r\n    **bin/hdfs namenode -format**\r\n\r\n 9. you can now use hdfs commands to upload your data into dfs and run MapReduce jobs.","title":"Writing to HDFS could only be replicated to 0 nodes instead of minReplication (=1)","body":"<p>I had this problem and I solved it as bellow:</p>\n\n<ol>\n<li><p>Find where are your datanode and namenode metadata/data saved; if you cannot find it, simply do this command on mac to find it (there are located in a folder called \"tmp\")</p>\n\n<p><strong>find /usr/local/Cellar/ -name \"tmp\";</strong>   </p>\n\n<p>find command is like this: find &lt;\"directory\"> -name &lt;\"any string clue for that directory or file\"></p></li>\n<li><p>After finding that file, cd into it.\n/usr/local/Cellar//hadoop/hdfs/tmp</p>\n\n<p>then cd to dfs</p>\n\n<p>then using -ls command see that data and name directories are located there.</p></li>\n<li><p>Using remove command, remove them both:</p>\n\n<p><strong>rm -R data .      and      rm -R name</strong></p></li>\n<li><p>Go to bin folder and end everything if you already have not done it:</p>\n\n<p><strong>sbin/end-dfs.sh</strong></p></li>\n<li><p>Exit from the server or localhost.</p></li>\n<li><p>Log into the server again: ssh &lt;\"server name\"></p></li>\n<li><p>start the dfs:</p>\n\n<p><strong>sbin/start-dfs.sh</strong></p></li>\n<li><p>Format the namenode for being sure:</p>\n\n<p><strong>bin/hdfs namenode -format</strong></p></li>\n<li><p>you can now use hdfs commands to upload your data into dfs and run MapReduce jobs.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":106641,"reputation":2427,"user_id":283998,"accept_rate":80,"display_name":"fracca"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551349673,"creation_date":1551349673,"answer_id":54923444,"question_id":15571584,"body_markdown":"In my case, this issue was resolved by opening the firewall port on 50010 on the datanodes.","title":"Writing to HDFS could only be replicated to 0 nodes instead of minReplication (=1)","body":"<p>In my case, this issue was resolved by opening the firewall port on 50010 on the datanodes.</p>\n"},{"tags":[],"owner":{"account_id":6339270,"reputation":503,"user_id":4934659,"accept_rate":83,"display_name":"SparkleGoat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610729468,"creation_date":1610729468,"answer_id":65740209,"question_id":15571584,"body_markdown":"In my case the dfs.datanode.du.reserved in the hdfs-site.xml was too large as well as the name node giving out the private ip address of the data node so it could not route properly. The solution to the private ip was to switch the docker container to host network and place the hostname in the host properties of the config files.\r\n\r\nThis goes over other possibilities\r\n[Stack Question on replication issue](https://stackoverflow.com/questions/36015864/hadoop-be-replicated-to-0-nodes-instead-of-minreplication-1-there-are-1/36310025)","title":"Writing to HDFS could only be replicated to 0 nodes instead of minReplication (=1)","body":"<p>In my case the dfs.datanode.du.reserved in the hdfs-site.xml was too large as well as the name node giving out the private ip address of the data node so it could not route properly. The solution to the private ip was to switch the docker container to host network and place the hostname in the host properties of the config files.</p>\n<p>This goes over other possibilities\n<a href=\"https://stackoverflow.com/questions/36015864/hadoop-be-replicated-to-0-nodes-instead-of-minreplication-1-there-are-1/36310025\">Stack Question on replication issue</a></p>\n"},{"tags":[],"owner":{"account_id":18301226,"reputation":35,"user_id":13325970,"display_name":"alD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666751387,"creation_date":1666751387,"answer_id":74202076,"question_id":15571584,"body_markdown":"The answers saying to open port numbered `50010` *might* only apply to an older version of Hadoop. I&#39;m using Hadoop version `3.3.4` and the port you should open to fix this error is `9866`. You need to open this port on all of the Hadoop dataNodes.\r\nHere&#39;s a code snippet you can use in RHEL 8:\r\n\r\n    sudo firewall-cmd --zone=public --permanent --add-port 9866/tcp\r\n    sudo firewall-cmd --reload","title":"Writing to HDFS could only be replicated to 0 nodes instead of minReplication (=1)","body":"<p>The answers saying to open port numbered <code>50010</code> <em>might</em> only apply to an older version of Hadoop. I'm using Hadoop version <code>3.3.4</code> and the port you should open to fix this error is <code>9866</code>. You need to open this port on all of the Hadoop dataNodes.\nHere's a code snippet you can use in RHEL 8:</p>\n<pre><code>sudo firewall-cmd --zone=public --permanent --add-port 9866/tcp\nsudo firewall-cmd --reload\n</code></pre>\n"}],"owner":{"account_id":207189,"reputation":1597,"user_id":456917,"accept_rate":39,"display_name":"Ashish Sharma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71794,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":24583936,"answer_count":9,"score":28,"last_activity_date":1666751387,"creation_date":1363958959,"question_id":15571584,"body_markdown":"I have 3 data nodes running, while running a job i am getting the following given below error ,\r\n\r\n&gt; \r\njava.io.IOException: File /user/ashsshar/olhcache/loaderMap9b663bd9 could only be replicated to 0 nodes instead of minReplication (=1).  There are 3 datanode(s) running and 3 node(s) are excluded in this operation.\r\n        at org.apache.hadoop.hdfs.server.blockmanagement.BlockManager.chooseTarget(BlockManager.java:1325)\r\n\r\n\r\nThis error mainly comes when our DataNode instances have ran out of space or if DataNodes are not running.\r\nI tried restarting the DataNodes but still getting the same error.\r\n\r\ndfsadmin -reports  at my cluster nodes clearly shows a lots of space is available.\r\n\r\nI am not sure why this is happending.\r\n\r\n","title":"Writing to HDFS could only be replicated to 0 nodes instead of minReplication (=1)","body":"<p>I have 3 data nodes running, while running a job i am getting the following given below error ,</p>\n\n<blockquote>\n  <p>java.io.IOException: File /user/ashsshar/olhcache/loaderMap9b663bd9 could only be replicated to 0 nodes instead of minReplication (=1).  There are 3 datanode(s) running and 3 node(s) are excluded in this operation.\n          at org.apache.hadoop.hdfs.server.blockmanagement.BlockManager.chooseTarget(BlockManager.java:1325)</p>\n</blockquote>\n\n<p>This error mainly comes when our DataNode instances have ran out of space or if DataNodes are not running.\nI tried restarting the DataNodes but still getting the same error.</p>\n\n<p>dfsadmin -reports  at my cluster nodes clearly shows a lots of space is available.</p>\n\n<p>I am not sure why this is happending.</p>\n"},{"tags":["java","primes"],"comments":[{"owner":{"account_id":18725445,"reputation":100,"user_id":15050200,"display_name":"space-ninja-x"},"score":0,"creation_date":1666751276,"post_id":74201398,"comment_id":131008539,"body_markdown":"The 2 answers posted, contain working code and an explanation.\nI would like to suggest that you try working out the problem (in fact, any problem) on paper first. It will help you loads! Like, how do YOU know that 6 is the largest difference?? If you understand how you arrived at your conclusion, you will be able to write the code.","body":"The 2 answers posted, contain working code and an explanation. I would like to suggest that you try working out the problem (in fact, any problem) on paper first. It will help you loads! Like, how do YOU know that 6 is the largest difference?? If you understand how you arrived at your conclusion, you will be able to write the code."}],"answers":[{"tags":[],"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666747812,"creation_date":1666747812,"answer_id":74201764,"question_id":74201398,"body_markdown":"You do not need a double loop, think about the problem, what you are doing is only calculating the differenct between a number and the one after it.\r\n\r\nYou only need to store one local variable max, assign a new value to max each time the difference is bigger than max.\r\n\r\nIt is also unclear what your input is, where does the list of primes come from&gt;? Is n the size of the list of primes starting from 2?","title":"How to find the maximum distance in a set on consecutive prime numbers?","body":"<p>You do not need a double loop, think about the problem, what you are doing is only calculating the differenct between a number and the one after it.</p>\n<p>You only need to store one local variable max, assign a new value to max each time the difference is bigger than max.</p>\n<p>It is also unclear what your input is, where does the list of primes come from&gt;? Is n the size of the list of primes starting from 2?</p>\n"},{"tags":[],"owner":{"account_id":25329751,"reputation":1,"user_id":19149728,"display_name":"pageqiu009"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666749917,"creation_date":1666749917,"answer_id":74201939,"question_id":74201398,"body_markdown":"I think you want code like this:\r\n\r\n    \tList&lt;Integer&gt; primeList = new ArrayList&lt;&gt;();\r\n\t\tprimeList.add(2);\r\n\t\tprimeList.add(3);\r\n\t\tprimeList.add(5);\r\n\t\tprimeList.add(7);\r\n\t\tprimeList.add(11);\r\n\t\tprimeList.add(13);\r\n\t\tprimeList.add(17);\r\n\t\tprimeList.add(19);\r\n\t\tprimeList.add(23);\r\n\t\tprimeList.add(29);\r\n\r\n\t\tint distance = 0;\r\n\t\tfor(int i=1;i &lt;primeList.size();i++) {\r\n\t\t\tint tempDistance = primeList.get(i)-primeList.get(i-1);\r\n\t\t\tif (tempDistance&gt;distance) {\r\n\t\t\t\tdistance = tempDistance;\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(distance);\r\n\t}","title":"How to find the maximum distance in a set on consecutive prime numbers?","body":"<p>I think you want code like this:</p>\n<pre><code>    List&lt;Integer&gt; primeList = new ArrayList&lt;&gt;();\n    primeList.add(2);\n    primeList.add(3);\n    primeList.add(5);\n    primeList.add(7);\n    primeList.add(11);\n    primeList.add(13);\n    primeList.add(17);\n    primeList.add(19);\n    primeList.add(23);\n    primeList.add(29);\n\n    int distance = 0;\n    for(int i=1;i &lt;primeList.size();i++) {\n        int tempDistance = primeList.get(i)-primeList.get(i-1);\n        if (tempDistance&gt;distance) {\n            distance = tempDistance;\n        }\n    }\n    System.out.println(distance);\n}\n</code></pre>\n"}],"owner":{"display_name":"user20146539"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666749917,"creation_date":1666743168,"question_id":74201398,"body_markdown":"I am writing a method that finds the largest distance in a consecutive set of prime numbers. For example, if the set is 2,3,5,7,11,13,17,19,23,29; the method would return 6 because the greatest distance within the set is 6 (23-29).\r\n\r\nMy code so far is:\r\n     \r\n\r\n     public static double primeSpace(int n)\r\n    {\r\n        int i = 0;\r\n        int Prime1;\r\n        int Prime2;\r\n        while (i &lt;= 0)\r\n        {\r\n            for(; i &lt;= n; i++)\r\n            {\r\n                if (isPrime(n))\r\n                {\r\n                    Prime1 = n;\r\n                    \r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\nSo as is obvious, I am not sure of how to store a value for prime2 so I can subtract and after that I am lost.","title":"How to find the maximum distance in a set on consecutive prime numbers?","body":"<p>I am writing a method that finds the largest distance in a consecutive set of prime numbers. For example, if the set is 2,3,5,7,11,13,17,19,23,29; the method would return 6 because the greatest distance within the set is 6 (23-29).</p>\n<p>My code so far is:</p>\n<pre><code> public static double primeSpace(int n)\n{\n    int i = 0;\n    int Prime1;\n    int Prime2;\n    while (i &lt;= 0)\n    {\n        for(; i &lt;= n; i++)\n        {\n            if (isPrime(n))\n            {\n                Prime1 = n;\n                \n            }\n        }\n    }\n\n}\n</code></pre>\n<p>So as is obvious, I am not sure of how to store a value for prime2 so I can subtract and after that I am lost.</p>\n"},{"tags":["java","colors","set","overlay","tiff"],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666749823,"creation_date":1341016961,"answer_id":11270571,"question_id":11270150,"body_markdown":"You can make the `Color.white` pixels transparent using `RGBImageFilter`, shown [here][1], or `LookupOp`, mentioned [here][2]. Then you can use the `AlphaComposite.SRC_OVER` rule to combine the images. [`AlphaCompositeDemo`][3] is an example that lets one explore the available modes, and there&#39;s related example [here][4]. Of course, you&#39;ll need to profile both approaches to see which is faster.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/4380790/230513\r\n  [2]: https://stackoverflow.com/a/4383798/230513\r\n  [3]: https://sites.google.com/site/drjohnbmatthews/composite\r\n  [4]: https://stackoverflow.com/a/7824225/230513","title":"What is high performance for creating a TIF image from a background TIF and a foreground TIF in java","body":"<p>You can make the <code>Color.white</code> pixels transparent using <code>RGBImageFilter</code>, shown <a href=\"https://stackoverflow.com/a/4380790/230513\">here</a>, or <code>LookupOp</code>, mentioned <a href=\"https://stackoverflow.com/a/4383798/230513\">here</a>. Then you can use the <code>AlphaComposite.SRC_OVER</code> rule to combine the images. <a href=\"https://sites.google.com/site/drjohnbmatthews/composite\" rel=\"nofollow noreferrer\"><code>AlphaCompositeDemo</code></a> is an example that lets one explore the available modes, and there's related example <a href=\"https://stackoverflow.com/a/7824225/230513\">here</a>. Of course, you'll need to profile both approaches to see which is faster.</p>\n"}],"owner":{"account_id":1614165,"reputation":1,"user_id":1492318,"display_name":"Caliboy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666749823,"creation_date":1341012460,"question_id":11270150,"body_markdown":"I have two TIF files, one is background (overlay) and the other is foreground. The following code is currently used for combining two TIFs.\r\n\r\n\t\t// Background color of foreground image\r\n\t\tint w = Color.WHITE.getRGB();\r\n\r\n\t\t// Fill all pixels which are not background color\r\n\t\tfor (int i = 0; i &lt; foregroundImage.getWidth(); i++)\r\n\t\t{\r\n\t\t\tfor (int j = 0; j &lt; foregroundImage.getHeight(); j++)\r\n\t\t\t{\r\n\t\t\t\tint x = foregroundImage.getRGB(i, j);\r\n\t\t\t\tif (x != w)\r\n\t\t\t\t\tbackgroundImage.setRGB(i, j, x);\r\n\t\t\t}\r\n\t\t}\r\n\r\nIs there any other way that has a better performance to do this?\r\n\r\n","title":"What is high performance for creating a TIF image from a background TIF and a foreground TIF in java","body":"<p>I have two TIF files, one is background (overlay) and the other is foreground. The following code is currently used for combining two TIFs.</p>\n\n<pre><code>    // Background color of foreground image\n    int w = Color.WHITE.getRGB();\n\n    // Fill all pixels which are not background color\n    for (int i = 0; i &lt; foregroundImage.getWidth(); i++)\n    {\n        for (int j = 0; j &lt; foregroundImage.getHeight(); j++)\n        {\n            int x = foregroundImage.getRGB(i, j);\n            if (x != w)\n                backgroundImage.setRGB(i, j, x);\n        }\n    }\n</code></pre>\n\n<p>Is there any other way that has a better performance to do this?</p>\n"},{"tags":["java","junit","hamcrest"],"answers":[{"tags":[],"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"down_vote_count":1,"up_vote_count":205,"is_accepted":true,"score":204,"last_activity_date":1391779260,"creation_date":1391779260,"answer_id":21628859,"question_id":21624592,"body_markdown":"If you want to assert that the two lists are identical, don&#39;t complicate things with Hamcrest:\r\n\r\n    assertEquals(expectedList, actual.getList());\r\n\r\nIf you really intend to perform an order-insensitive comparison, you can call the `containsInAnyOrder` varargs method and provide values directly:\r\n\r\n    assertThat(actual.getList(), containsInAnyOrder(&quot;item1&quot;, &quot;item2&quot;));\r\n\r\n(Assuming that your list is of `String`, rather than `Agent`, for this example.)\r\n\r\nIf you really want to call that same method with the contents of a `List`:\r\n\r\n    assertThat(actual.getList(), containsInAnyOrder(expectedList.toArray(new String[expectedList.size()]));\r\n\r\nWithout this, you&#39;re calling the method with a single argument and creating a `Matcher` that expects to match an `Iterable` where *each element* is a `List`. This can&#39;t be used to match a `List`.\r\n\r\nThat is, you can&#39;t match a `List&lt;Agent&gt;` with a `Matcher&lt;Iterable&lt;List&lt;Agent&gt;&gt;`, which is what your code is attempting.\r\n","title":"Hamcrest compare collections","body":"<p>If you want to assert that the two lists are identical, don't complicate things with Hamcrest:</p>\n\n<pre><code>assertEquals(expectedList, actual.getList());\n</code></pre>\n\n<p>If you really intend to perform an order-insensitive comparison, you can call the <code>containsInAnyOrder</code> varargs method and provide values directly:</p>\n\n<pre><code>assertThat(actual.getList(), containsInAnyOrder(\"item1\", \"item2\"));\n</code></pre>\n\n<p>(Assuming that your list is of <code>String</code>, rather than <code>Agent</code>, for this example.)</p>\n\n<p>If you really want to call that same method with the contents of a <code>List</code>:</p>\n\n<pre><code>assertThat(actual.getList(), containsInAnyOrder(expectedList.toArray(new String[expectedList.size()]));\n</code></pre>\n\n<p>Without this, you're calling the method with a single argument and creating a <code>Matcher</code> that expects to match an <code>Iterable</code> where <em>each element</em> is a <code>List</code>. This can't be used to match a <code>List</code>.</p>\n\n<p>That is, you can't match a <code>List&lt;Agent&gt;</code> with a <code>Matcher&lt;Iterable&lt;List&lt;Agent&gt;&gt;</code>, which is what your code is attempting.</p>\n"},{"tags":[],"owner":{"account_id":482605,"reputation":7823,"user_id":897090,"accept_rate":70,"display_name":"Nelson Tatius"},"down_vote_count":1,"up_vote_count":84,"is_accepted":false,"score":83,"last_activity_date":1534873175,"creation_date":1425180348,"answer_id":28789747,"question_id":21624592,"body_markdown":"    List&lt;Long&gt; actual = Arrays.asList(1L, 2L);\r\n    List&lt;Long&gt; expected = Arrays.asList(2L, 1L);\r\n    assertThat(actual, containsInAnyOrder(expected.toArray()));\r\n\r\nShorter version of @Joe&#39;s answer without redundant parameters.","title":"Hamcrest compare collections","body":"<pre><code>List&lt;Long&gt; actual = Arrays.asList(1L, 2L);\nList&lt;Long&gt; expected = Arrays.asList(2L, 1L);\nassertThat(actual, containsInAnyOrder(expected.toArray()));\n</code></pre>\n\n<p>Shorter version of @Joe's answer without redundant parameters.</p>\n"},{"tags":[],"owner":{"account_id":5055569,"reputation":3946,"user_id":4058910,"accept_rate":23,"display_name":"Shravan Ramamurthy"},"down_vote_count":9,"up_vote_count":3,"is_accepted":false,"score":-6,"last_activity_date":1625685763,"creation_date":1447262885,"answer_id":33656283,"question_id":21624592,"body_markdown":"To compare two lists with the order preserved (strict order) use.\r\n\r\n    assertThat(actualList, contains(&quot;item1&quot;,&quot;item2&quot;));\r\n\r\nIf we want to compare without a specific order we can use below command\r\n\r\n    assertThat(collection, containsInAnyOrder(&quot;item1&quot;,&quot;item2&quot;));","title":"Hamcrest compare collections","body":"<p>To compare two lists with the order preserved (strict order) use.</p>\n<pre><code>assertThat(actualList, contains(&quot;item1&quot;,&quot;item2&quot;));\n</code></pre>\n<p>If we want to compare without a specific order we can use below command</p>\n<pre><code>assertThat(collection, containsInAnyOrder(&quot;item1&quot;,&quot;item2&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8897,"reputation":11209,"user_id":16206,"accept_rate":78,"display_name":"borjab"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1457550731,"creation_date":1457550050,"answer_id":35900341,"question_id":21624592,"body_markdown":"For list of objects you may need something like this: \n\n    import static org.hamcrest.MatcherAssert.assertThat;\n    import static org.hamcrest.Matchers.contains;\n    import static org.hamcrest.Matchers.allOf;\n    import static org.hamcrest.beans.HasPropertyWithValue.hasProperty;\n    import static org.hamcrest.Matchers.is;\n\n    @Test\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public void test_returnsList(){\n\n        arrange();\n      \n        List&lt;MyBean&gt; myList = act();\n        \n        assertThat(myList , contains(allOf(hasProperty(&quot;id&quot;,          is(7L)), \n                                           hasProperty(&quot;name&quot;,        is(&quot;testName1&quot;)),\n                                           hasProperty(&quot;description&quot;, is(&quot;testDesc1&quot;))),\n                                     allOf(hasProperty(&quot;id&quot;,          is(11L)), \n                                           hasProperty(&quot;name&quot;,        is(&quot;testName2&quot;)),\n                                           hasProperty(&quot;description&quot;, is(&quot;testDesc2&quot;)))));\n    }\n\nUse [containsInAnyOrder][1] if you do not want to check the order of the objects.\n\nP.S. Any help to avoid the warning that is suppresed will be really appreciated.\n\n  [1]: http://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/Matchers.html#containsInAnyOrder(org.hamcrest.Matcher...)","title":"Hamcrest compare collections","body":"<p>For list of objects you may need something like this:</p>\n<pre><code>import static org.hamcrest.MatcherAssert.assertThat;\nimport static org.hamcrest.Matchers.contains;\nimport static org.hamcrest.Matchers.allOf;\nimport static org.hamcrest.beans.HasPropertyWithValue.hasProperty;\nimport static org.hamcrest.Matchers.is;\n\n@Test\n@SuppressWarnings(&quot;unchecked&quot;)\npublic void test_returnsList(){\n\n    arrange();\n  \n    List&lt;MyBean&gt; myList = act();\n    \n    assertThat(myList , contains(allOf(hasProperty(&quot;id&quot;,          is(7L)), \n                                       hasProperty(&quot;name&quot;,        is(&quot;testName1&quot;)),\n                                       hasProperty(&quot;description&quot;, is(&quot;testDesc1&quot;))),\n                                 allOf(hasProperty(&quot;id&quot;,          is(11L)), \n                                       hasProperty(&quot;name&quot;,        is(&quot;testName2&quot;)),\n                                       hasProperty(&quot;description&quot;, is(&quot;testDesc2&quot;)))));\n}\n</code></pre>\n<p>Use <a href=\"http://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/Matchers.html#containsInAnyOrder(org.hamcrest.Matcher...)\" rel=\"nofollow noreferrer\">containsInAnyOrder</a> if you do not want to check the order of the objects.</p>\n<p>P.S. Any help to avoid the warning that is suppresed will be really appreciated.</p>\n"},{"tags":[],"owner":{"account_id":112936,"reputation":2411,"user_id":297710,"display_name":"yvolk"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1467968278,"creation_date":1467968278,"answer_id":38262680,"question_id":21624592,"body_markdown":"With existing Hamcrest libraries (as of v.2.0.0.0) you are forced to use Collection.toArray() method on your Collection in order to use containsInAnyOrder Matcher.\r\nFar nicer would be to add this as a separate method to org.hamcrest.Matchers:\r\n\r\n    public static &lt;T&gt; org.hamcrest.Matcher&lt;java.lang.Iterable&lt;? extends T&gt;&gt; containsInAnyOrder(Collection&lt;T&gt; items) {\r\n        return org.hamcrest.collection.IsIterableContainingInAnyOrder.&lt;T&gt;containsInAnyOrder((T[]) items.toArray());\r\n    }\r\n\r\nActually I ended up adding this method to my custom test library and use it to increase readability of my test cases (due to less verbosity).","title":"Hamcrest compare collections","body":"<p>With existing Hamcrest libraries (as of v.2.0.0.0) you are forced to use Collection.toArray() method on your Collection in order to use containsInAnyOrder Matcher.\nFar nicer would be to add this as a separate method to org.hamcrest.Matchers:</p>\n\n<pre><code>public static &lt;T&gt; org.hamcrest.Matcher&lt;java.lang.Iterable&lt;? extends T&gt;&gt; containsInAnyOrder(Collection&lt;T&gt; items) {\n    return org.hamcrest.collection.IsIterableContainingInAnyOrder.&lt;T&gt;containsInAnyOrder((T[]) items.toArray());\n}\n</code></pre>\n\n<p>Actually I ended up adding this method to my custom test library and use it to increase readability of my test cases (due to less verbosity).</p>\n"},{"tags":[],"owner":{"account_id":1230894,"reputation":2364,"user_id":1195507,"accept_rate":100,"display_name":"rvazquezglez"},"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1666749491,"creation_date":1495039244,"answer_id":44030511,"question_id":21624592,"body_markdown":"To complement @Joe&#39;s answer:\r\n\r\nHamcrest provides you with four main methods to match a list:\r\n\r\n`contains` Checks for matching all the elements considering the order. If the list has more or fewer elements, it will fail\r\n\r\n`containsInAnyOrder` Checks for matching all the elements, and it doesn&#39;t matter the order. If the list has more or fewer elements, will fail\r\n\r\n`hasItems` Checks just for the specified objects it doesn&#39;t matter if the list has more\r\n\r\n`hasItem` Checks just for one object it doesn&#39;t matter if the list has more\r\n\r\nAll of them can receive a list of objects and use the `equals` method for comparison or can be mixed with other matchers like @borjab mentioned:\r\n\r\n    assertThat(myList , contains(allOf(hasProperty(&quot;id&quot;, is(7L)), \r\n                                       hasProperty(&quot;name&quot;, is(&quot;testName1&quot;)),\r\n                                       hasProperty(&quot;description&quot;, is(&quot;testDesc1&quot;))),\r\n                                 allOf(hasProperty(&quot;id&quot;, is(11L)), \r\n                                       hasProperty(&quot;name&quot;, is(&quot;testName2&quot;)),\r\n                                       hasProperty(&quot;description&quot;, is(&quot;testDesc2&quot;)))));\r\n\r\nhttp://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/Matchers.html#contains(E...)\r\nhttp://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/Matchers.html#containsInAnyOrder(java.util.Collection)\r\nhttp://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/Matchers.html#hasItems(T...)","title":"Hamcrest compare collections","body":"<p>To complement @Joe's answer:</p>\n<p>Hamcrest provides you with four main methods to match a list:</p>\n<p><code>contains</code> Checks for matching all the elements considering the order. If the list has more or fewer elements, it will fail</p>\n<p><code>containsInAnyOrder</code> Checks for matching all the elements, and it doesn't matter the order. If the list has more or fewer elements, will fail</p>\n<p><code>hasItems</code> Checks just for the specified objects it doesn't matter if the list has more</p>\n<p><code>hasItem</code> Checks just for one object it doesn't matter if the list has more</p>\n<p>All of them can receive a list of objects and use the <code>equals</code> method for comparison or can be mixed with other matchers like @borjab mentioned:</p>\n<pre><code>assertThat(myList , contains(allOf(hasProperty(&quot;id&quot;, is(7L)), \n                                   hasProperty(&quot;name&quot;, is(&quot;testName1&quot;)),\n                                   hasProperty(&quot;description&quot;, is(&quot;testDesc1&quot;))),\n                             allOf(hasProperty(&quot;id&quot;, is(11L)), \n                                   hasProperty(&quot;name&quot;, is(&quot;testName2&quot;)),\n                                   hasProperty(&quot;description&quot;, is(&quot;testDesc2&quot;)))));\n</code></pre>\n<p><a href=\"http://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/Matchers.html#contains(E...)\" rel=\"noreferrer\">http://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/Matchers.html#contains(E...)</a>\n<a href=\"http://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/Matchers.html#containsInAnyOrder(java.util.Collection)\" rel=\"noreferrer\">http://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/Matchers.html#containsInAnyOrder(java.util.Collection)</a>\n<a href=\"http://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/Matchers.html#hasItems(T...)\" rel=\"noreferrer\">http://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/Matchers.html#hasItems(T...)</a></p>\n"},{"tags":[],"owner":{"account_id":93757,"reputation":458,"user_id":256365,"accept_rate":75,"display_name":"Jim Jarrett"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1601761649,"creation_date":1507826852,"answer_id":46714949,"question_id":21624592,"body_markdown":"Make sure that the `Object`s in your list have `equals()` defined on them. Then\r\n\r\n    assertThat(generatedList, is(equalTo(expectedList)));\r\n\r\nworks.","title":"Hamcrest compare collections","body":"<p>Make sure that the <code>Object</code>s in your list have <code>equals()</code> defined on them. Then</p>\n<pre><code>assertThat(generatedList, is(equalTo(expectedList)));\n</code></pre>\n<p>works.</p>\n"}],"owner":{"account_id":1214616,"reputation":3054,"user_id":1182469,"accept_rate":87,"display_name":"xander27"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166106,"favorite_count":0,"down_vote_count":1,"up_vote_count":150,"accepted_answer_id":21628859,"answer_count":7,"score":149,"last_activity_date":1666749491,"creation_date":1391767207,"question_id":21624592,"body_markdown":"I&#39;m trying to compare 2 lists:\r\n\r\n    assertThat(actual.getList(), is(Matchers.containsInAnyOrder(expectedList)));\r\n\r\nBut idea \r\n\r\n    java: no suitable method found for assertThat(java.util.List&lt;Agent&gt;,org.hamcrest.Matcher&lt;java.lang.Iterable&lt;? extends model.Agents&gt;&gt;)\r\n    method org.junit.Assert.&lt;T&gt;assertThat(T,org.hamcrest.Matcher&lt;T&gt;) is not applicable\r\n      (no instance(s) of type variable(s) T exist so that argument type org.hamcrest.Matcher&lt;java.lang.Iterable&lt;? extends model.Agents&gt;&gt; conforms to formal parameter type org.hamcrest.Matcher&lt;T&gt;)\r\n    method org.junit.Assert.&lt;T&gt;assertThat(java.lang.String,T,org.hamcrest.Matcher&lt;T&gt;) is not applicable\r\n      (cannot instantiate from arguments because actual and formal argument lists differ in length)\r\n\r\nHow should I write it?","title":"Hamcrest compare collections","body":"<p>I'm trying to compare 2 lists:</p>\n\n<pre><code>assertThat(actual.getList(), is(Matchers.containsInAnyOrder(expectedList)));\n</code></pre>\n\n<p>But idea </p>\n\n<pre><code>java: no suitable method found for assertThat(java.util.List&lt;Agent&gt;,org.hamcrest.Matcher&lt;java.lang.Iterable&lt;? extends model.Agents&gt;&gt;)\nmethod org.junit.Assert.&lt;T&gt;assertThat(T,org.hamcrest.Matcher&lt;T&gt;) is not applicable\n  (no instance(s) of type variable(s) T exist so that argument type org.hamcrest.Matcher&lt;java.lang.Iterable&lt;? extends model.Agents&gt;&gt; conforms to formal parameter type org.hamcrest.Matcher&lt;T&gt;)\nmethod org.junit.Assert.&lt;T&gt;assertThat(java.lang.String,T,org.hamcrest.Matcher&lt;T&gt;) is not applicable\n  (cannot instantiate from arguments because actual and formal argument lists differ in length)\n</code></pre>\n\n<p>How should I write it?</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","crud"],"answers":[{"tags":[],"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666748579,"creation_date":1666748579,"answer_id":74201824,"question_id":74201770,"body_markdown":"The example you are referring is using Java version 8.\r\n\r\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\r\nAnd you are using Java 18 as you said, hence the mismatch is happening.\r\n\r\nEither use java 8 or migrate it to 18.","title":"Cannot load configuration class: net.guides.springboot2.crud.Application Error in JPA spring boot","body":"<p>The example you are referring is using Java version 8.</p>\n<pre><code>&lt;java.version&gt;1.8&lt;/java.version&gt;\n</code></pre>\n<p>And you are using Java 18 as you said, hence the mismatch is happening.</p>\n<p>Either use java 8 or migrate it to 18.</p>\n"}],"owner":{"account_id":12265267,"reputation":36,"user_id":8951973,"display_name":"sachin lobo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74201824,"answer_count":1,"score":0,"last_activity_date":1666748579,"creation_date":1666747941,"question_id":74201770,"body_markdown":"Here is a complete error log\r\n\r\n    2022-10-25 18:11:09.510  INFO 12252 --- [           main] net.guides.springboot2.crud.Application  : Starting Application on DESKTOP-L7QADCR with PID 12252 (C:\\Users\\Seema\\springboot-postgresql-hibernate-crud-example-main\\springboot-postgresql-hibernate-crud-example-main\\target\\classes started by Seema in C:\\Users\\Seema\\springboot-postgresql-hibernate-crud-example-main\\springboot-postgresql-hibernate-crud-example-main)\r\n    2022-10-25 18:11:09.533  INFO 12252 --- [           main] net.guides.springboot2.crud.Application  : No active profile set, falling back to default profiles: default\r\n    2022-10-25 18:11:10.019  INFO 12252 --- [           main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4c12331b: startup date [Tue Oct 25 18:11:10 IST 2022]; root of context hierarchy\r\n    2022-10-25 18:11:19.081 ERROR 12252 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    java.lang.IllegalStateException: Cannot load configuration class: net.guides.springboot2.crud.Application\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:414) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:254) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:282) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:126) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:694) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:532) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:780) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:333) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1277) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1265) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\r\n    \tat net.guides.springboot2.crud.Application.main(Application.java:11) ~[classes/:na]\r\n    Caused by: java.lang.ExceptionInInitializerError: null\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer.newEnhancer(ConfigurationClassEnhancer.java:122) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:110) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:403) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \t... 12 common frames omitted\r\n    Caused by: org.springframework.cglib.core.CodeGenerationException: java.lang.reflect.InaccessibleObjectException--&gt;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @184f6be2\r\n    \tat org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:464) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:336) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:93) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:91) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n    \tat org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:116) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:291) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.cglib.core.KeyFactory$Generator.create(KeyFactory.java:221) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:174) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:153) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:73) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \t... 15 common frames omitted\r\n    Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @184f6be2\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354) ~[na:na]\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:200) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.setAccessible(Method.java:194) ~[na:na]\r\n\r\nhttps://github.com/RameshMF/springboot-postgresql-hibernate-crud-example\r\nI got one tutorial from youtube. It is a simple crud application on spring boot jpa , but I am getting this error while running.\r\nI am using jdk 18 version ","title":"Cannot load configuration class: net.guides.springboot2.crud.Application Error in JPA spring boot","body":"<p>Here is a complete error log</p>\n<pre><code>2022-10-25 18:11:09.510  INFO 12252 --- [           main] net.guides.springboot2.crud.Application  : Starting Application on DESKTOP-L7QADCR with PID 12252 (C:\\Users\\Seema\\springboot-postgresql-hibernate-crud-example-main\\springboot-postgresql-hibernate-crud-example-main\\target\\classes started by Seema in C:\\Users\\Seema\\springboot-postgresql-hibernate-crud-example-main\\springboot-postgresql-hibernate-crud-example-main)\n2022-10-25 18:11:09.533  INFO 12252 --- [           main] net.guides.springboot2.crud.Application  : No active profile set, falling back to default profiles: default\n2022-10-25 18:11:10.019  INFO 12252 --- [           main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4c12331b: startup date [Tue Oct 25 18:11:10 IST 2022]; root of context hierarchy\n2022-10-25 18:11:19.081 ERROR 12252 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\njava.lang.IllegalStateException: Cannot load configuration class: net.guides.springboot2.crud.Application\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:414) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:254) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:282) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:126) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:694) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:532) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:780) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:333) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1277) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1265) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\n    at net.guides.springboot2.crud.Application.main(Application.java:11) ~[classes/:na]\nCaused by: java.lang.ExceptionInInitializerError: null\n    at org.springframework.context.annotation.ConfigurationClassEnhancer.newEnhancer(ConfigurationClassEnhancer.java:122) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:110) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:403) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    ... 12 common frames omitted\nCaused by: org.springframework.cglib.core.CodeGenerationException: java.lang.reflect.InaccessibleObjectException--&gt;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @184f6be2\n    at org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:464) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:336) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:93) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:91) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:116) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:291) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.cglib.core.KeyFactory$Generator.create(KeyFactory.java:221) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:174) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:153) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:73) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    ... 15 common frames omitted\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @184f6be2\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354) ~[na:na]\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297) ~[na:na]\n    at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:200) ~[na:na]\n    at java.base/java.lang.reflect.Method.setAccessible(Method.java:194) ~[na:na]\n</code></pre>\n<p><a href=\"https://github.com/RameshMF/springboot-postgresql-hibernate-crud-example\" rel=\"nofollow noreferrer\">https://github.com/RameshMF/springboot-postgresql-hibernate-crud-example</a>\nI got one tutorial from youtube. It is a simple crud application on spring boot jpa , but I am getting this error while running.\nI am using jdk 18 version</p>\n"},{"tags":["java","spring-boot","logging","spring-boot-actuator"],"comments":[{"owner":{"account_id":2429732,"reputation":148,"user_id":2120924,"display_name":"Vish"},"score":0,"creation_date":1570553500,"post_id":58290677,"comment_id":102945889,"body_markdown":"@bur&#230;quete Do you have any idea regarding this? Thanks!","body":"@bur&#230;quete Do you have any idea regarding this? Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":3175510,"reputation":2055,"user_id":2683501,"accept_rate":82,"display_name":"pL4Gu33"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1570555211,"creation_date":1570555211,"answer_id":58291157,"question_id":58290677,"body_markdown":"You could write your own HealthAggregator and set the Default Spring Aggregator in it and use it. \r\n\r\n    public class OwnHealthAggregator implements HealthAggregator {\r\n\r\n    private final HealthAggregator defaultHealth;\r\n\r\n    public OwnHealthAggregator(HealthAggregator defaultHealth) {\r\n        this.defaultHealth = defaultHealth;\r\n    }\r\n\r\n    @Override\r\n    public Health aggregate(Map&lt;String, Health&gt; healths) {\r\n        Health result = this.defaultHealth.aggregate(healths);\r\n        // LOG Result here\r\n        return result;\r\n    }\r\n\r\n    }\r\n\r\nDefine a bean and use the default one:\r\n   \r\n    @Bean\r\n    public HealthAggregator health() {\r\n        return new OwnHealthAggregator(new OrderedHealthAggregator());\r\n    }\r\n\r\n----\r\nOff-topic when you use actuator in this version, you should be careful because many endpoints are enable by default (like /beans, /env, /dump).","title":"Logging Spring Boot Actuator health status in the application log file","body":"<p>You could write your own HealthAggregator and set the Default Spring Aggregator in it and use it. </p>\n\n<pre><code>public class OwnHealthAggregator implements HealthAggregator {\n\nprivate final HealthAggregator defaultHealth;\n\npublic OwnHealthAggregator(HealthAggregator defaultHealth) {\n    this.defaultHealth = defaultHealth;\n}\n\n@Override\npublic Health aggregate(Map&lt;String, Health&gt; healths) {\n    Health result = this.defaultHealth.aggregate(healths);\n    // LOG Result here\n    return result;\n}\n\n}\n</code></pre>\n\n<p>Define a bean and use the default one:</p>\n\n<pre><code>@Bean\npublic HealthAggregator health() {\n    return new OwnHealthAggregator(new OrderedHealthAggregator());\n}\n</code></pre>\n\n<hr>\n\n<p>Off-topic when you use actuator in this version, you should be careful because many endpoints are enable by default (like /beans, /env, /dump).</p>\n"},{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1570559864,"creation_date":1570559864,"answer_id":58292238,"question_id":58290677,"body_markdown":"Spring will inject a list of all components that implement a specific interface.\r\nFor example:\r\n`private List&lt;HealthIndicator&gt; healthIndicatorList`\r\nwill contain every class that implements the `HealthIndicator` class.\r\n\r\nYou could implement the `HealthIndicator` class in your own component and\r\nthen call the `health()` method on each member of the healthIndicatorList and log the result.\r\n\r\nOf course,\r\ndo not recursively call the `health()` method of your logging health indicator.\r\nHere is some code:\r\n```Java\r\n@Component\r\npublic class LoggingHealthIndicator implements HealthIndicator\r\n{\r\n    @Autowired\r\n    private List&lt;HealthIndicator&gt; healthIndicatorList\r\n\r\n    @Override\r\n    public Health health()\r\n\t{\r\n        for (final HealthIndicator current : healthIndicatorList)\r\n\t\t{\r\n\t\t\tif (current != this)\r\n\t\t\t{\r\n\t\t\t\t// assumes SLF4j\r\n\t\t\t\tlogger.log(&quot;blam message; {}&quot;, current.health());\r\n\t\t\t}\r\n\t\t}\t\t\r\n        return Health.up().build();\r\n    }\r\n}\r\n```\r\n\r\nThat code might not work because you class wants all\r\nHealthIndictor implementations and is a HealthIndicator itself.\r\n\r\nYou might need to add a `@PostConstruct` method and retrieve the list of HealthIndictor components yourself.","title":"Logging Spring Boot Actuator health status in the application log file","body":"<p>Spring will inject a list of all components that implement a specific interface.\nFor example:\n<code>private List&lt;HealthIndicator&gt; healthIndicatorList</code>\nwill contain every class that implements the <code>HealthIndicator</code> class.</p>\n\n<p>You could implement the <code>HealthIndicator</code> class in your own component and\nthen call the <code>health()</code> method on each member of the healthIndicatorList and log the result.</p>\n\n<p>Of course,\ndo not recursively call the <code>health()</code> method of your logging health indicator.\nHere is some code:</p>\n\n<pre><code>@Component\npublic class LoggingHealthIndicator implements HealthIndicator\n{\n    @Autowired\n    private List&lt;HealthIndicator&gt; healthIndicatorList\n\n    @Override\n    public Health health()\n    {\n        for (final HealthIndicator current : healthIndicatorList)\n        {\n            if (current != this)\n            {\n                // assumes SLF4j\n                logger.log(\"blam message; {}\", current.health());\n            }\n        }       \n        return Health.up().build();\n    }\n}\n</code></pre>\n\n<p>That code might not work because you class wants all\nHealthIndictor implementations and is a HealthIndicator itself.</p>\n\n<p>You might need to add a <code>@PostConstruct</code> method and retrieve the list of HealthIndictor components yourself.</p>\n"}],"owner":{"account_id":2429732,"reputation":148,"user_id":2120924,"display_name":"Vish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4774,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":58291157,"answer_count":2,"score":3,"last_activity_date":1666748331,"creation_date":1570553072,"question_id":58290677,"body_markdown":"Currently we are using Spring boot actuator **vr 1.5.10** and we can access our health page with **/health** endpoint successfully. But while accessing our health endpoint, we need to log that health status in our application&#39;s log file as well so later we can create a Kibana watcher alert based on the status. \r\n\r\nI saw that we can extend the health endpoint with &quot;**@EndpointWebExtension**&quot; and log the status there as proposed in [here][1]. But seems like that is not supported with vr 1.5.10. \r\n\r\nAny direction will be really appreciated! \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/54977273/enable-logging-in-spring-boot-actuator-health-check-api","title":"Logging Spring Boot Actuator health status in the application log file","body":"<p>Currently we are using Spring boot actuator <strong>vr 1.5.10</strong> and we can access our health page with <strong>/health</strong> endpoint successfully. But while accessing our health endpoint, we need to log that health status in our application's log file as well so later we can create a Kibana watcher alert based on the status. </p>\n\n<p>I saw that we can extend the health endpoint with \"<strong>@EndpointWebExtension</strong>\" and log the status there as proposed in <a href=\"https://stackoverflow.com/questions/54977273/enable-logging-in-spring-boot-actuator-health-check-api\">here</a>. But seems like that is not supported with vr 1.5.10. </p>\n\n<p>Any direction will be really appreciated! </p>\n"},{"tags":["java","multidimensional-array"],"comments":[{"owner":{"account_id":24509269,"reputation":184,"user_id":18423808,"display_name":"IndexZero"},"score":0,"creation_date":1666743171,"post_id":74201374,"comment_id":131007288,"body_markdown":"you&#39;re using a nested loop but you  are never using i for anything. Most likely a typo on mangerTable[row][1]. Also please read the guidlines for questions","body":"you&#39;re using a nested loop but you  are never using i for anything. Most likely a typo on mangerTable[row][1]. Also please read the guidlines for questions"}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666748308,"creation_date":1666748308,"answer_id":74201799,"question_id":74201374,"body_markdown":"It looks like the ID for each manager is the **second** element in each row as you&#39;ve indicated in your code (`if(mangerTable[row][1].equals(workId)){`) so, with that in mind and with so little information, I think what you are trying to do is something like this (read comments in code):\r\n\r\n    // searching for matching id\r\n    int i = -1;\r\n    do {\r\n        String id = &quot;&quot;;\r\n        while (id.isEmpty()) {\r\n            System.out.print(&quot;Enter ID to Find (q to quit): -&gt; &quot;);\r\n            id = input.nextLine();\r\n            // Quit?\r\n            if (id.equalsIgnoreCase(&quot;q&quot;)) {\r\n                return;\r\n            }\r\n            /* Validate input. Assuming all ID&#39;s are numerical:\r\n               Are all characters supplied numerical digits? */ \r\n            if (!id.matches(&quot;\\\\d+&quot;)) {\r\n                System.out.println(&quot;Invalid ID! (&quot; + id + &quot;) Try again...&quot;\r\n                                 + System.lineSeparator());\r\n                id = &quot;&quot;; // Empty id to ensure re-loop.\r\n            }\r\n        }\r\n\r\n        for (int row = 0; row &lt; mangerTable.length; row++) {\r\n            if (mangerTable[row][1].equals(id)) {\r\n                //there is a match\r\n                i = row;\r\n                break; // Found...no need to carry on.\r\n            }\r\n        }\r\n        if (i &gt;= 0) {\r\n            //there is a match\r\n            System.out.println(&quot;Match Found In Row Index: &quot; + i \r\n                    + &quot;  (literal Row #&quot; + (i + 1) + &quot;)&quot;);\r\n            System.out.println(&quot;Contents of Row:  &quot; + Arrays.toString(mangerTable[i]));\r\n            String yn = &quot;&quot;;\r\n            while (yn.isEmpty()) {\r\n                System.out.print(&quot;Want to Find another ID? (y/n): &quot;);\r\n                yn = input.nextLine();\r\n                /* Validate input:\r\n                   Is either the `y` or `n` supplied (in any letter case)? \r\n                   `(?i)` makes the expression letter case insensitive. */\r\n                if (!yn.matches(&quot;(?i)[yn]&quot;)) {\r\n                    System.out.println(&quot;Invalid choice (&quot; + yn + &quot;)! Try Again...&quot;\r\n                            + System.lineSeparator());\r\n                    yn = &quot;&quot;;  // Empty yn to ensure re-loop.\r\n                }\r\n            }\r\n            if (yn.equalsIgnoreCase(&quot;y&quot;)) {\r\n                System.out.println();\r\n                i = -1;  // -1 to i to ensure do/while re-loop.\r\n            }\r\n        }\r\n        else {\r\n            //there isn&#39;t match\r\n            System.out.println(&quot;No ID Match Found!&quot; + System.lineSeparator());\r\n        }\r\n    } while (i &lt; 0);","title":"searching in 2d loop","body":"<p>It looks like the ID for each manager is the <strong>second</strong> element in each row as you've indicated in your code (<code>if(mangerTable[row][1].equals(workId)){</code>) so, with that in mind and with so little information, I think what you are trying to do is something like this (read comments in code):</p>\n<pre><code>// searching for matching id\nint i = -1;\ndo {\n    String id = &quot;&quot;;\n    while (id.isEmpty()) {\n        System.out.print(&quot;Enter ID to Find (q to quit): -&gt; &quot;);\n        id = input.nextLine();\n        // Quit?\n        if (id.equalsIgnoreCase(&quot;q&quot;)) {\n            return;\n        }\n        /* Validate input. Assuming all ID's are numerical:\n           Are all characters supplied numerical digits? */ \n        if (!id.matches(&quot;\\\\d+&quot;)) {\n            System.out.println(&quot;Invalid ID! (&quot; + id + &quot;) Try again...&quot;\n                             + System.lineSeparator());\n            id = &quot;&quot;; // Empty id to ensure re-loop.\n        }\n    }\n\n    for (int row = 0; row &lt; mangerTable.length; row++) {\n        if (mangerTable[row][1].equals(id)) {\n            //there is a match\n            i = row;\n            break; // Found...no need to carry on.\n        }\n    }\n    if (i &gt;= 0) {\n        //there is a match\n        System.out.println(&quot;Match Found In Row Index: &quot; + i \n                + &quot;  (literal Row #&quot; + (i + 1) + &quot;)&quot;);\n        System.out.println(&quot;Contents of Row:  &quot; + Arrays.toString(mangerTable[i]));\n        String yn = &quot;&quot;;\n        while (yn.isEmpty()) {\n            System.out.print(&quot;Want to Find another ID? (y/n): &quot;);\n            yn = input.nextLine();\n            /* Validate input:\n               Is either the `y` or `n` supplied (in any letter case)? \n               `(?i)` makes the expression letter case insensitive. */\n            if (!yn.matches(&quot;(?i)[yn]&quot;)) {\n                System.out.println(&quot;Invalid choice (&quot; + yn + &quot;)! Try Again...&quot;\n                        + System.lineSeparator());\n                yn = &quot;&quot;;  // Empty yn to ensure re-loop.\n            }\n        }\n        if (yn.equalsIgnoreCase(&quot;y&quot;)) {\n            System.out.println();\n            i = -1;  // -1 to i to ensure do/while re-loop.\n        }\n    }\n    else {\n        //there isn't match\n        System.out.println(&quot;No ID Match Found!&quot; + System.lineSeparator());\n    }\n} while (i &lt; 0);\n</code></pre>\n"}],"owner":{"account_id":26732903,"reputation":1,"user_id":20334942,"display_name":"rose"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666748308,"creation_date":1666742871,"question_id":74201374,"body_markdown":"why do i always get the output incorrect! even if enter the matching id\r\nits a string 2d array\r\n\r\n    public void getWorkId(){\r\n    int i = 0;\r\n    do{\r\n        //taking id\r\n    System.out.println(&quot;id: &quot;);\r\n    workId= input.next();\r\n    //searching for matching id\r\n    for(int row = 0; row &lt; mangerTable.length; row++){\r\n            if(mangerTable[row][1].equals(workId)){\r\n                //there is a match\r\n                i=1;\r\n                break;\r\n            }else{\r\n                //there isn&#39;t match\r\n                System.out.println(&quot;incorrect!&quot;);\r\n                i= -1;\r\n                break;\r\n            }//end else\r\n        }//end row loop\r\n    }while(i&gt;0);\r\n\r\n    }","title":"searching in 2d loop","body":"<p>why do i always get the output incorrect! even if enter the matching id\nits a string 2d array</p>\n<pre><code>public void getWorkId(){\nint i = 0;\ndo{\n    //taking id\nSystem.out.println(&quot;id: &quot;);\nworkId= input.next();\n//searching for matching id\nfor(int row = 0; row &lt; mangerTable.length; row++){\n        if(mangerTable[row][1].equals(workId)){\n            //there is a match\n            i=1;\n            break;\n        }else{\n            //there isn't match\n            System.out.println(&quot;incorrect!&quot;);\n            i= -1;\n            break;\n        }//end else\n    }//end row loop\n}while(i&gt;0);\n\n}\n</code></pre>\n"},{"tags":["java","spring","apache-camel","spring-camel"],"comments":[{"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"score":1,"creation_date":1508842389,"post_id":46907227,"comment_id":80763822,"body_markdown":"Actually my comment refered to using `.to(&quot;bean:nameOfBeanInRegistry(${body})` instead of using `.bean(Class, String)` if you want to stick with `?method=...` syntax. I&#39;m not aware of `.bean(...)` supporting that syntax as it supports an additional parameters that is explicitly invoking a method that was not annotated with `@Handler`. This annotation is used in cases when the bean has multiple public methods available to invoke to tell Camel which one should be used by not specifying the name directly. Furthermore, you did not specify any argument for the method invoked, though smth requires 1","body":"Actually my comment refered to using <code>.to(&quot;bean:nameOfBeanInRegistry(${body})</code> instead of using <code>.bean(Class, String)</code> if you want to stick with <code>?method=...</code> syntax. I&#39;m not aware of <code>.bean(...)</code> supporting that syntax as it supports an additional parameters that is explicitly invoking a method that was not annotated with <code>@Handler</code>. This annotation is used in cases when the bean has multiple public methods available to invoke to tell Camel which one should be used by not specifying the name directly. Furthermore, you did not specify any argument for the method invoked, though smth requires 1"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1508847152,"post_id":46907227,"comment_id":80766996,"body_markdown":"@Roman Vottner, can you, please just write working  code ?\n **to(&quot;bean:nameOfBeanInRegistry(${body})** - where should I write a  **?method=...** and what should I write to provide argument for smth method?","body":"@Roman Vottner, can you, please just write working  code ?  <b>to(&quot;bean:nameOfBeanInRegistry(${body})</b> - where should I write a  <b>?method=...</b> and what should I write to provide argument for smth method?"}],"answers":[{"tags":[],"owner":{"account_id":403034,"reputation":3576,"user_id":770557,"display_name":"cristianoms"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508838692,"creation_date":1508838692,"answer_id":46907355,"question_id":46907227,"body_markdown":"As you&#39;re already using Spring, why not annotate your bean with `@Component` and use an autowired instance inside your route?","title":"org.apache.camel.NoSuchBeanException: No bean could be found in the registry for:","body":"<p>As you're already using Spring, why not annotate your bean with <code>@Component</code> and use an autowired instance inside your route?</p>\n"},{"tags":[],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1508838886,"creation_date":1508838886,"answer_id":46907420,"question_id":46907227,"body_markdown":"this works:\r\n\r\n  \r\n\r\n     from(&quot;seda:second&quot;)               \r\n         .bean(HelloWorld.class, &quot;smth&quot;)","title":"org.apache.camel.NoSuchBeanException: No bean could be found in the registry for:","body":"<p>this works:</p>\n\n<pre><code> from(\"seda:second\")               \n     .bean(HelloWorld.class, \"smth\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8213997,"reputation":78,"user_id":6181070,"display_name":"Od Chan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568979806,"creation_date":1568967324,"answer_id":58024454,"question_id":46907227,"body_markdown":"The way you give the class name and method to &quot;bean&quot; is wrong!\r\nIf you wanna use ```bean``` then these are acceptable ways for how to work with it:\r\n\r\n```\r\nfrom(&quot;direct:a&quot;).bean(ClassName.class , &quot;methodName&quot;).to(&quot;direct:b&quot;);\r\n```\r\n```\r\nfrom(&quot;direct:a&quot;).bean(&quot;registeredClassName&quot;,&quot;methodName&quot;).to(&quot;direct:b&quot;); \r\n// this registered named is the name that you give to spring annotations like\r\n//@Component , @Configuration , @Service , @Controller , @Bean etc...\r\n// If you are using Camel stand alone then registeredClassName is the name that \r\n// you gave to  camel&#39;s registry. \r\n//For example:\r\n\r\nSimpleRegistry simpleRegistry = new SimpleRegistry(); // this class is just a mapper\r\nsimpleRegistry.put(&quot;registeredClassName&quot;,new ClassName());\r\n\r\nCamelContext camelContext = new DefaultCamelContext(simpleRegistry);\r\n```\r\n```\r\n// In Spring Boot \r\n@Autowired \r\nprivate ClassName instanceOfClassName;\r\nfrom(&quot;direct:a&quot;).bean(instanceOfClassName , &quot;methodName&quot;).to(&quot;direct:b&quot;);\r\n```\r\nAnd this is the right way for using class and method together like the way you went through: \r\n\r\n```\r\nfrom(&quot;direct:a&quot;).to(&quot;bean:registeredClassName?method=methodName&quot;).to(&quot;direct:b&quot;);\r\n// remember no parenthesis () for methodName \r\n```\r\n```\r\n\r\nfrom(&quot;direct:a&quot;).to(&quot;bean:FullyQualifiedClassName?method=Name&quot;).to(&quot;direct:b&quot;);\r\n```\r\n\r\nAlso this is another way of invoking bean and its&#39; method although it is a little advance and you need to know what is Simple-Language. \r\n```\r\nfrom(&quot;direct:start&quot;).bean(&quot;registeredClassName&quot;,&quot;methodName(${body},${header.customerId},${header.customerType}&quot;);\r\n```\r\nThat&#39;s all :))\r\n","title":"org.apache.camel.NoSuchBeanException: No bean could be found in the registry for:","body":"<p>The way you give the class name and method to \"bean\" is wrong!\nIf you wanna use <code>bean</code> then these are acceptable ways for how to work with it:</p>\n\n<pre><code>from(\"direct:a\").bean(ClassName.class , \"methodName\").to(\"direct:b\");\n</code></pre>\n\n<pre><code>from(\"direct:a\").bean(\"registeredClassName\",\"methodName\").to(\"direct:b\"); \n// this registered named is the name that you give to spring annotations like\n//@Component , @Configuration , @Service , @Controller , @Bean etc...\n// If you are using Camel stand alone then registeredClassName is the name that \n// you gave to  camel's registry. \n//For example:\n\nSimpleRegistry simpleRegistry = new SimpleRegistry(); // this class is just a mapper\nsimpleRegistry.put(\"registeredClassName\",new ClassName());\n\nCamelContext camelContext = new DefaultCamelContext(simpleRegistry);\n</code></pre>\n\n<pre><code>// In Spring Boot \n@Autowired \nprivate ClassName instanceOfClassName;\nfrom(\"direct:a\").bean(instanceOfClassName , \"methodName\").to(\"direct:b\");\n</code></pre>\n\n<p>And this is the right way for using class and method together like the way you went through: </p>\n\n<pre><code>from(\"direct:a\").to(\"bean:registeredClassName?method=methodName\").to(\"direct:b\");\n// remember no parenthesis () for methodName \n</code></pre>\n\n<pre><code>\nfrom(\"direct:a\").to(\"bean:FullyQualifiedClassName?method=Name\").to(\"direct:b\");\n</code></pre>\n\n<p>Also this is another way of invoking bean and its' method although it is a little advance and you need to know what is Simple-Language. </p>\n\n<pre><code>from(\"direct:start\").bean(\"registeredClassName\",\"methodName(${body},${header.customerId},${header.customerType}\");\n</code></pre>\n\n<p>That's all :))</p>\n"},{"tags":[],"owner":{"account_id":15279532,"reputation":559,"user_id":11024336,"display_name":"Indika_Nuwan95"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666748115,"creation_date":1666748115,"answer_id":74201786,"question_id":46907227,"body_markdown":"I was trying to execute a method under another class using camel beans. so i had to use &#39;to&#39; instead of bean. this is what worked for me.\r\n\r\n            //add class instance and add it to the registry as a bean\r\n        MyService myService = new MyService();\r\n\r\n        SimpleRegistry registry = new SimpleRegistry();\r\n\r\n        registry.bind(&quot;myServiceBean&quot;, myService);\r\n\r\n\r\n\r\n        CamelContext context = new DefaultCamelContext(registry);\r\n\r\n        context.addRoutes(new RouteBuilder() {\r\n            @Override\r\n            public void configure() throws Exception {\r\n                from(&quot;direct:start&quot;)\r\n                        .to(&quot;bean:myServiceBean?method=messageReciever&quot;);\r\n            }\r\n        });\r\n    context.start();","title":"org.apache.camel.NoSuchBeanException: No bean could be found in the registry for:","body":"<p>I was trying to execute a method under another class using camel beans. so i had to use 'to' instead of bean. this is what worked for me.</p>\n<pre><code>        //add class instance and add it to the registry as a bean\n    MyService myService = new MyService();\n\n    SimpleRegistry registry = new SimpleRegistry();\n\n    registry.bind(&quot;myServiceBean&quot;, myService);\n\n\n\n    CamelContext context = new DefaultCamelContext(registry);\n\n    context.addRoutes(new RouteBuilder() {\n        @Override\n        public void configure() throws Exception {\n            from(&quot;direct:start&quot;)\n                    .to(&quot;bean:myServiceBean?method=messageReciever&quot;);\n        }\n    });\ncontext.start();\n</code></pre>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28203,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":46907420,"answer_count":4,"score":5,"last_activity_date":1666748115,"creation_date":1508838346,"question_id":46907227,"body_markdown":"I have the following route definition:\r\n\r\n    @Component\r\n    public class CamelRoutes extends RouteBuilder {\r\n        @Override\r\n        public void configure() throws Exception {\r\n               from(&quot;seda:second&quot;)                   \r\n                    .bean(&quot;helloWorld?method=smth&quot;)    \r\n                    .process(exchange -&gt; {\r\n                        System.out.println(&quot;Message:&quot; + exchange.getIn().getBody());\r\n                    })\r\n                    .log(&quot;body:${body}&quot;);\r\n\r\nand following bean:\r\n\r\n  \r\n\r\n    public static class HelloWorld {\r\n           public void execute(String str){\r\n               System.out.println(&quot;HelloWorld#execute: &quot; + str);\r\n           }\r\n            public void smth(String str){\r\n                System.out.println(&quot;HelloWorld#smth: &quot; + str);\r\n            }\r\n        }\r\n\r\n\r\nBut application doesn&#39;t start.  \r\ntrace:\r\n\r\n    org.apache.camel.RuntimeCamelException: org.apache.camel.FailedToCreateRouteException: Failed to create route route4 at: &gt;&gt;&gt; Bean[ref:helloWorld?method=smth] &lt;&lt;&lt; in route: Route(route4)[[From[seda:second]] -&gt; [Bean[ref:helloWorld?me... because of No bean could be found in the registry for: helloWorld?method=smth\r\n    \tat org.apache.camel.util.ObjectHelper.wrapRuntimeCamelException(ObjectHelper.java:1831) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:136) ~[camel-spring-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:174) ~[camel-spring-2.20.0.jar:2.20.0]\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:167) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:383) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:337) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:882) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.finishRefresh(EmbeddedWebApplicationContext.java:144) ~[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:545) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:314) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1162) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1151) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n    \tat SpringBootCamelIntegrationApplication.main(SpringBootCamelIntegrationApplication.java:9) [classes/:na]\r\n    Caused by: org.apache.camel.FailedToCreateRouteException: Failed to create route route4 at: &gt;&gt;&gt; Bean[ref:helloWorld?method=smth] &lt;&lt;&lt; in route: Route(route4)[[From[seda:second]] -&gt; [Bean[ref:helloWorld?me... because of No bean could be found in the registry for: helloWorld?method=smth\r\n    \tat org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:1298) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:204) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.impl.DefaultCamelContext.startRoute(DefaultCamelContext.java:1135) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:3714) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.impl.DefaultCamelContext.doStartCamel(DefaultCamelContext.java:3428) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.impl.DefaultCamelContext.access$000(DefaultCamelContext.java:208) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:3236) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:3232) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.impl.DefaultCamelContext.doWithDefinedClassLoader(DefaultCamelContext.java:3255) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.impl.DefaultCamelContext.doStart(DefaultCamelContext.java:3232) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:61) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:3155) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:133) ~[camel-spring-2.20.0.jar:2.20.0]\r\n    \t... 15 common frames omitted\r\n    Caused by: org.apache.camel.NoSuchBeanException: No bean could be found in the registry for: helloWorld?method=smth\r\n    \tat org.apache.camel.component.bean.RegistryBean.getBean(RegistryBean.java:94) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.component.bean.RegistryBean.createCacheHolder(RegistryBean.java:69) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.model.BeanDefinition.createProcessor(BeanDefinition.java:251) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.model.ProcessorDefinition.makeProcessorImpl(ProcessorDefinition.java:549) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.model.ProcessorDefinition.makeProcessor(ProcessorDefinition.java:510) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.model.ProcessorDefinition.addRoutes(ProcessorDefinition.java:226) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:1295) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \t... 27 common frames omitted\r\n\r\nWhat wrong with my code base ?\r\n\r\nupdate:\r\n-\r\n\r\nAccording [Romat Vottnet advice][1] I&#39;ve wrote following:\r\n\r\n    @Component\r\n    public class CamelRoutes extends RouteBuilder {\r\n        @Override\r\n        public void configure() throws Exception {\r\n            \r\n            from(&quot;seda:second&quot;)                    \r\n                    .bean(&quot;helloWorld?method=smth()&quot;);\r\n                   \r\n        }\r\n    \r\n        public static class HelloWorld {\r\n            public void execute(String str) {\r\n                System.out.println(&quot;HelloWorld#execute: &quot; + str);\r\n            }\r\n    \r\n            public void smth(String str) {\r\n                System.out.println(&quot;HelloWorld#smth: &quot; + str);\r\n            }\r\n        }\r\n    \r\n        @Bean(name = &quot;helloWorld&quot;)\r\n        public HelloWorld helloWorld() {\r\n            return new HelloWorld();\r\n        }\r\n    }\r\n\r\nBut I see:\r\n\r\n    org.apache.camel.RuntimeCamelException: org.apache.camel.FailedToCreateRouteException: Failed to create route route4 at: &gt;&gt;&gt; Bean[ref:helloWorld?method=smth()] &lt;&lt;&lt; in route: Route(route4)[[From[seda:second]] -&gt; [Bean[ref:helloWorld?me... because of No bean could be found in the registry for: helloWorld?method=smth()\r\n    \tat org.apache.camel.util.ObjectHelper.wrapRuntimeCamelException(ObjectHelper.java:1831) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:136) ~[camel-spring-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:174) ~[camel-spring-2.20.0.jar:2.20.0]\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:167) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:383) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:337) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:882) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.finishRefresh(EmbeddedWebApplicationContext.java:144) ~[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:545) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:314) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1162) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1151) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n    \tat SpringBootCamelIntegrationApplication.main(SpringBootCamelIntegrationApplication.java:9) [classes/:na]\r\n    Caused by: org.apache.camel.FailedToCreateRouteException: Failed to create route route4 at: &gt;&gt;&gt; Bean[ref:helloWorld?method=smth()] &lt;&lt;&lt; in route: Route(route4)[[From[seda:second]] -&gt; [Bean[ref:helloWorld?me... because of No bean could be found in the registry for: helloWorld?method=smth()\r\n    \tat org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:1298) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:204) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.impl.DefaultCamelContext.startRoute(DefaultCamelContext.java:1135) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:3714) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.impl.DefaultCamelContext.doStartCamel(DefaultCamelContext.java:3428) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.impl.DefaultCamelContext.access$000(DefaultCamelContext.java:208) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:3236) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:3232) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.impl.DefaultCamelContext.doWithDefinedClassLoader(DefaultCamelContext.java:3255) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.impl.DefaultCamelContext.doStart(DefaultCamelContext.java:3232) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:61) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:3155) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:133) ~[camel-spring-2.20.0.jar:2.20.0]\r\n    \t... 15 common frames omitted\r\n    Caused by: org.apache.camel.NoSuchBeanException: No bean could be found in the registry for: helloWorld?method=smth()\r\n    \tat org.apache.camel.component.bean.RegistryBean.getBean(RegistryBean.java:94) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.component.bean.RegistryBean.createCacheHolder(RegistryBean.java:69) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.model.BeanDefinition.createProcessor(BeanDefinition.java:251) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.model.ProcessorDefinition.makeProcessorImpl(ProcessorDefinition.java:549) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.model.ProcessorDefinition.makeProcessor(ProcessorDefinition.java:510) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.model.ProcessorDefinition.addRoutes(ProcessorDefinition.java:226) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \tat org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:1295) ~[camel-core-2.20.0.jar:2.20.0]\r\n    \t... 27 common frames omitted\r\n\r\n\r\nwhen application starts.\r\n\r\nI checked - method marked as `@Bean` is invoked.\r\n\r\n  [1]: https://stackoverflow.com/questions/46907227/org-apache-camel-nosuchbeanexception-no-bean-could-be-found-in-the-registry-for/46907355?noredirect=1#comment80761967_46907355\r\n","title":"org.apache.camel.NoSuchBeanException: No bean could be found in the registry for:","body":"<p>I have the following route definition:</p>\n\n<pre><code>@Component\npublic class CamelRoutes extends RouteBuilder {\n    @Override\n    public void configure() throws Exception {\n           from(\"seda:second\")                   \n                .bean(\"helloWorld?method=smth\")    \n                .process(exchange -&gt; {\n                    System.out.println(\"Message:\" + exchange.getIn().getBody());\n                })\n                .log(\"body:${body}\");\n</code></pre>\n\n<p>and following bean:</p>\n\n<pre><code>public static class HelloWorld {\n       public void execute(String str){\n           System.out.println(\"HelloWorld#execute: \" + str);\n       }\n        public void smth(String str){\n            System.out.println(\"HelloWorld#smth: \" + str);\n        }\n    }\n</code></pre>\n\n<p>But application doesn't start.<br>\ntrace:</p>\n\n<pre><code>org.apache.camel.RuntimeCamelException: org.apache.camel.FailedToCreateRouteException: Failed to create route route4 at: &gt;&gt;&gt; Bean[ref:helloWorld?method=smth] &lt;&lt;&lt; in route: Route(route4)[[From[seda:second]] -&gt; [Bean[ref:helloWorld?me... because of No bean could be found in the registry for: helloWorld?method=smth\n    at org.apache.camel.util.ObjectHelper.wrapRuntimeCamelException(ObjectHelper.java:1831) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:136) ~[camel-spring-2.20.0.jar:2.20.0]\n    at org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:174) ~[camel-spring-2.20.0.jar:2.20.0]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:167) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:383) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:337) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:882) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.finishRefresh(EmbeddedWebApplicationContext.java:144) ~[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:545) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1162) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1151) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n    at SpringBootCamelIntegrationApplication.main(SpringBootCamelIntegrationApplication.java:9) [classes/:na]\nCaused by: org.apache.camel.FailedToCreateRouteException: Failed to create route route4 at: &gt;&gt;&gt; Bean[ref:helloWorld?method=smth] &lt;&lt;&lt; in route: Route(route4)[[From[seda:second]] -&gt; [Bean[ref:helloWorld?me... because of No bean could be found in the registry for: helloWorld?method=smth\n    at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:1298) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:204) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.impl.DefaultCamelContext.startRoute(DefaultCamelContext.java:1135) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:3714) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.impl.DefaultCamelContext.doStartCamel(DefaultCamelContext.java:3428) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.impl.DefaultCamelContext.access$000(DefaultCamelContext.java:208) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:3236) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:3232) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.impl.DefaultCamelContext.doWithDefinedClassLoader(DefaultCamelContext.java:3255) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.impl.DefaultCamelContext.doStart(DefaultCamelContext.java:3232) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:61) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:3155) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:133) ~[camel-spring-2.20.0.jar:2.20.0]\n    ... 15 common frames omitted\nCaused by: org.apache.camel.NoSuchBeanException: No bean could be found in the registry for: helloWorld?method=smth\n    at org.apache.camel.component.bean.RegistryBean.getBean(RegistryBean.java:94) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.component.bean.RegistryBean.createCacheHolder(RegistryBean.java:69) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.model.BeanDefinition.createProcessor(BeanDefinition.java:251) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.model.ProcessorDefinition.makeProcessorImpl(ProcessorDefinition.java:549) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.model.ProcessorDefinition.makeProcessor(ProcessorDefinition.java:510) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.model.ProcessorDefinition.addRoutes(ProcessorDefinition.java:226) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:1295) ~[camel-core-2.20.0.jar:2.20.0]\n    ... 27 common frames omitted\n</code></pre>\n\n<p>What wrong with my code base ?</p>\n\n<h2>update:</h2>\n\n<p>According <a href=\"https://stackoverflow.com/questions/46907227/org-apache-camel-nosuchbeanexception-no-bean-could-be-found-in-the-registry-for/46907355?noredirect=1#comment80761967_46907355\">Romat Vottnet advice</a> I've wrote following:</p>\n\n<pre><code>@Component\npublic class CamelRoutes extends RouteBuilder {\n    @Override\n    public void configure() throws Exception {\n\n        from(\"seda:second\")                    \n                .bean(\"helloWorld?method=smth()\");\n\n    }\n\n    public static class HelloWorld {\n        public void execute(String str) {\n            System.out.println(\"HelloWorld#execute: \" + str);\n        }\n\n        public void smth(String str) {\n            System.out.println(\"HelloWorld#smth: \" + str);\n        }\n    }\n\n    @Bean(name = \"helloWorld\")\n    public HelloWorld helloWorld() {\n        return new HelloWorld();\n    }\n}\n</code></pre>\n\n<p>But I see:</p>\n\n<pre><code>org.apache.camel.RuntimeCamelException: org.apache.camel.FailedToCreateRouteException: Failed to create route route4 at: &gt;&gt;&gt; Bean[ref:helloWorld?method=smth()] &lt;&lt;&lt; in route: Route(route4)[[From[seda:second]] -&gt; [Bean[ref:helloWorld?me... because of No bean could be found in the registry for: helloWorld?method=smth()\n    at org.apache.camel.util.ObjectHelper.wrapRuntimeCamelException(ObjectHelper.java:1831) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:136) ~[camel-spring-2.20.0.jar:2.20.0]\n    at org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:174) ~[camel-spring-2.20.0.jar:2.20.0]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:167) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:383) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:337) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:882) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.finishRefresh(EmbeddedWebApplicationContext.java:144) ~[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:545) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1162) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1151) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n    at SpringBootCamelIntegrationApplication.main(SpringBootCamelIntegrationApplication.java:9) [classes/:na]\nCaused by: org.apache.camel.FailedToCreateRouteException: Failed to create route route4 at: &gt;&gt;&gt; Bean[ref:helloWorld?method=smth()] &lt;&lt;&lt; in route: Route(route4)[[From[seda:second]] -&gt; [Bean[ref:helloWorld?me... because of No bean could be found in the registry for: helloWorld?method=smth()\n    at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:1298) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:204) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.impl.DefaultCamelContext.startRoute(DefaultCamelContext.java:1135) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:3714) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.impl.DefaultCamelContext.doStartCamel(DefaultCamelContext.java:3428) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.impl.DefaultCamelContext.access$000(DefaultCamelContext.java:208) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:3236) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:3232) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.impl.DefaultCamelContext.doWithDefinedClassLoader(DefaultCamelContext.java:3255) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.impl.DefaultCamelContext.doStart(DefaultCamelContext.java:3232) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:61) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:3155) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:133) ~[camel-spring-2.20.0.jar:2.20.0]\n    ... 15 common frames omitted\nCaused by: org.apache.camel.NoSuchBeanException: No bean could be found in the registry for: helloWorld?method=smth()\n    at org.apache.camel.component.bean.RegistryBean.getBean(RegistryBean.java:94) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.component.bean.RegistryBean.createCacheHolder(RegistryBean.java:69) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.model.BeanDefinition.createProcessor(BeanDefinition.java:251) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.model.ProcessorDefinition.makeProcessorImpl(ProcessorDefinition.java:549) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.model.ProcessorDefinition.makeProcessor(ProcessorDefinition.java:510) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.model.ProcessorDefinition.addRoutes(ProcessorDefinition.java:226) ~[camel-core-2.20.0.jar:2.20.0]\n    at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:1295) ~[camel-core-2.20.0.jar:2.20.0]\n    ... 27 common frames omitted\n</code></pre>\n\n<p>when application starts.</p>\n\n<p>I checked - method marked as <code>@Bean</code> is invoked.</p>\n"},{"tags":["java","spring-boot","azure","azure-active-directory","active-directory"],"comments":[{"owner":{"account_id":19892464,"reputation":11446,"user_id":14574199,"display_name":"Tiny Wang"},"score":1,"creation_date":1666771256,"post_id":74200252,"comment_id":131012474,"body_markdown":"here a sample:https://github.com/Azure-Samples/ms-identity-msal-java-samples/tree/main/4.%20Spring%20Framework%20Web%20App%20Tutorial/1-Authentication/sign-in","body":"here a sample:<a href=\"https://github.com/Azure-Samples/ms-identity-msal-java-samples/tree/main/4.%20Spring%20Framework%20Web%20App%20Tutorial/1-Authentication/sign-in\" rel=\"nofollow noreferrer\">github.com/Azure-Samples/ms-identity-msal-java-sample&zwnj;&#8203;s/tree/&hellip;</a>"}],"owner":{"account_id":9590901,"reputation":151,"user_id":7121820,"display_name":"Alex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":421,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666747698,"creation_date":1666732282,"question_id":74200252,"body_markdown":"I tried to integrate Azure AD with a Spring Boot web application, I followed the example from the [Azure&#39;s documentation][1] but I encountered an error message: &quot;[invalid_request] AADSTS9000411: The request is not properly formatted. The parameter &#39;scope&#39; is duplicated...&quot;, as shown in the below screenshot.\r\n\r\nI can&#39;t find any `scope` parameter to figure out why it says is duplicated.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI have in the `application.properties` file the following setup:\r\n\r\n    spring.cloud.azure.active-directory.enabled=true\r\n    #Specifies your Active Directory ID:\r\n    spring.cloud.azure.active-directory.credential.client-id=...\r\n    spring.cloud.azure.active-directory.profile.tenant-id=...\r\n    spring.cloud.azure.active-directory.credential.client-secret=...\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/configure-spring-boot-starter-java-app-with-azure-active-directory\r\n  [2]: https://i.stack.imgur.com/Sr7Rt.jpg\r\n\r\nDoes anyone had the same issue?","title":"Azure AD configuration for Spring Boot","body":"<p>I tried to integrate Azure AD with a Spring Boot web application, I followed the example from the <a href=\"https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/configure-spring-boot-starter-java-app-with-azure-active-directory\" rel=\"nofollow noreferrer\">Azure's documentation</a> but I encountered an error message: &quot;[invalid_request] AADSTS9000411: The request is not properly formatted. The parameter 'scope' is duplicated...&quot;, as shown in the below screenshot.</p>\n<p>I can't find any <code>scope</code> parameter to figure out why it says is duplicated.</p>\n<p><a href=\"https://i.stack.imgur.com/Sr7Rt.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sr7Rt.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I have in the <code>application.properties</code> file the following setup:</p>\n<pre><code>spring.cloud.azure.active-directory.enabled=true\n#Specifies your Active Directory ID:\nspring.cloud.azure.active-directory.credential.client-id=...\nspring.cloud.azure.active-directory.profile.tenant-id=...\nspring.cloud.azure.active-directory.credential.client-secret=...\n</code></pre>\n<p>Does anyone had the same issue?</p>\n"},{"tags":["java","garbage-collection"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1663747406,"post_id":73797246,"comment_id":130309613,"body_markdown":"Some garbage collectors require more memory than others for their own bookkeeping (that is, BTW, not Java heap memory). Likely you&#39;re now using G1GC, which requires more memory than the CMS-GC you were previously using. Also, each GC has its own memory-behaviour (e.g. some are likely to only allocate memory when really needed, while others are more prone to be generous in memory consumption to reduce CPU cost of GC, etc.)","body":"Some garbage collectors require more memory than others for their own bookkeeping (that is, BTW, not Java heap memory). Likely you&#39;re now using G1GC, which requires more memory than the CMS-GC you were previously using. Also, each GC has its own memory-behaviour (e.g. some are likely to only allocate memory when really needed, while others are more prone to be generous in memory consumption to reduce CPU cost of GC, etc.)"},{"owner":{"account_id":16348542,"reputation":551,"user_id":11807683,"display_name":"czr_RR"},"score":0,"creation_date":1663749430,"post_id":73797246,"comment_id":130310254,"body_markdown":"Thanks for replying @MarkRotteveel, just did a quick test with the following command to see which GC would it choose with the pod specs `docker run --cpus=0.5 --memory=256Mi --rm -it eclipse-temurin:17-jre java -Xlog:gc\\* -version` and the output is `[0.005s][info][gc] Using Serial`","body":"Thanks for replying @MarkRotteveel, just did a quick test with the following command to see which GC would it choose with the pod specs <code>docker run --cpus=0.5 --memory=256Mi --rm -it eclipse-temurin:17-jre java -Xlog:gc\\* -version</code> and the output is <code>[0.005s][info][gc] Using Serial</code>"}],"owner":{"account_id":16348542,"reputation":551,"user_id":11807683,"display_name":"czr_RR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1400,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666747562,"creation_date":1663747172,"question_id":73797246,"body_markdown":"Recently, I upgraded a Docker image from `opendjk:11-jre` to `eclipse-temurin:17-jre`, and since the change has been performed I&#39;ve just realised that the heap memory consumption has grown significantly (60MiB to 140MiB in some cases). I was wondering, is this a memory leak or misconfiguration in the flags when launching the image?\r\n\r\nAlso, I noticed that GC takes place way less times than before.\r\n\r\nIn Java 11, I had these options enabled so that memory consumption was uniform and no restarts due to OOMs were identified: `-XX:+UseConcMarkSweepGC -XX:+CMSParallelRemarkEnabled`, but now those options are long gone and cannot be used in Java 17.\r\n\r\nIs there a clear reason for the increase in memory consumption and restarts due to OOMs? Am I missing some flags in Java 17?","title":"Increase in heap memory consumption and OOMs after upgrade to Java 17?","body":"<p>Recently, I upgraded a Docker image from <code>opendjk:11-jre</code> to <code>eclipse-temurin:17-jre</code>, and since the change has been performed I've just realised that the heap memory consumption has grown significantly (60MiB to 140MiB in some cases). I was wondering, is this a memory leak or misconfiguration in the flags when launching the image?</p>\n<p>Also, I noticed that GC takes place way less times than before.</p>\n<p>In Java 11, I had these options enabled so that memory consumption was uniform and no restarts due to OOMs were identified: <code>-XX:+UseConcMarkSweepGC -XX:+CMSParallelRemarkEnabled</code>, but now those options are long gone and cannot be used in Java 17.</p>\n<p>Is there a clear reason for the increase in memory consumption and restarts due to OOMs? Am I missing some flags in Java 17?</p>\n"},{"tags":["java","api","automation","report","karate"],"comments":[{"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"score":1,"creation_date":1666763446,"post_id":74201418,"comment_id":131010376,"body_markdown":"here&#39;s my personal opinion: go and talk to your client and get them to agree to the report that karate gives out by default. the goal of your team should be to do testing, not waste time creating pretty documents. just because someone created an excel template in the past doesn&#39;t mean that everything has to be in that template. anyway, with that rant out of the way - if you really need a custom format, you can do that with karate - but you have to be prepared to write some code, which I think is perfectly reasonable - see the linked answer.","body":"here&#39;s my personal opinion: go and talk to your client and get them to agree to the report that karate gives out by default. the goal of your team should be to do testing, not waste time creating pretty documents. just because someone created an excel template in the past doesn&#39;t mean that everything has to be in that template. anyway, with that rant out of the way - if you really need a custom format, you can do that with karate - but you have to be prepared to write some code, which I think is perfectly reasonable - see the linked answer."}],"answers":[{"tags":[],"owner":{"account_id":25207878,"reputation":119,"user_id":19045949,"display_name":"HopefullyHelpful"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666747346,"creation_date":1666747346,"answer_id":74201719,"question_id":74201418,"body_markdown":"Apologies as this isn&#39;t meant as an answer but I do not have the required reputation to simply add a comment. \r\n\r\nAs of karate 1.0 the `doc` command has been added - documentation [here][1]\r\n\r\nI believe you can find more information about it from [this][2] link which I found from the karate [site][3] (that hasn&#39;t been updated for awhile)\r\n\r\n\r\n  [1]: https://github.com/karatelabs/karate#doc\r\n  [2]: https://www.thymeleaf.org/index.html\r\n  [3]: https://software-that-matters.com/2021/01/27/7-new-features-in-karate-test-automation-version-1_0/","title":"How to create customized report using karate with all scenarios (from multiple feature files)","body":"<p>Apologies as this isn't meant as an answer but I do not have the required reputation to simply add a comment.</p>\n<p>As of karate 1.0 the <code>doc</code> command has been added - documentation <a href=\"https://github.com/karatelabs/karate#doc\" rel=\"nofollow noreferrer\">here</a></p>\n<p>I believe you can find more information about it from <a href=\"https://www.thymeleaf.org/index.html\" rel=\"nofollow noreferrer\">this</a> link which I found from the karate <a href=\"https://software-that-matters.com/2021/01/27/7-new-features-in-karate-test-automation-version-1_0/\" rel=\"nofollow noreferrer\">site</a> (that hasn't been updated for awhile)</p>\n"}],"owner":{"account_id":5324775,"reputation":11,"user_id":4247101,"display_name":"UMADEVI MANIMARAN"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":634,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1666763173,"answer_count":1,"score":1,"last_activity_date":1666747346,"creation_date":1666743352,"question_id":74201418,"body_markdown":"I want to create a status report that can be email to client on a daily basis.\r\n\r\nThere are multiple feature file and each feature file have multiple scenarios in the framework.\r\nI want to consolidate everything and generate a report and send that report through jenkins run everyday.\r\n\r\nUsing karate, I am able to generate karate-summary report and cucumber-report, But client is expecting the report with Test case name, status, Duration of testcase run, failure reasons which is something like this, Any suggestions on how to achieve this?\r\n\r\n[![enter image description here](https://i.stack.imgur.com/Ncidw.png)](https://i.stack.imgur.com/Ncidw.png)\r\n\r\n[![enter image description here](https://i.stack.imgur.com/tdY4c.png)](https://i.stack.imgur.com/tdY4c.png)\r\n","title":"How to create customized report using karate with all scenarios (from multiple feature files)","body":"<p>I want to create a status report that can be email to client on a daily basis.</p>\n<p>There are multiple feature file and each feature file have multiple scenarios in the framework.\nI want to consolidate everything and generate a report and send that report through jenkins run everyday.</p>\n<p>Using karate, I am able to generate karate-summary report and cucumber-report, But client is expecting the report with Test case name, status, Duration of testcase run, failure reasons which is something like this, Any suggestions on how to achieve this?</p>\n<p><a href=\"https://i.stack.imgur.com/Ncidw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ncidw.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/tdY4c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tdY4c.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["javascript","java","node.js","spring","express"],"comments":[{"owner":{"account_id":4600649,"reputation":209653,"user_id":3731501,"accept_rate":77,"display_name":"Estus Flask"},"score":1,"creation_date":1537622404,"post_id":52456877,"comment_id":91856322,"body_markdown":"They are totally different. Express is barebone web server framework and has no opinionated first-part counterpart to Spring Boot. The question is offtopic on SO.","body":"They are totally different. Express is barebone web server framework and has no opinionated first-part counterpart to Spring Boot. The question is offtopic on SO."},{"owner":{"account_id":18360968,"reputation":425,"user_id":13373095,"display_name":"Rituraj Shakti"},"score":0,"creation_date":1625151244,"post_id":52456877,"comment_id":120556822,"body_markdown":"Express is better because it uses node.js which can handle high traffic simultaneously. Whereas Spring uses java which is ofcourse much faster than node.js, but its not good for simultaneous larger traffic handling. So, (node.js + express) is best suited for REST API.\n\nMany companies have already switched from Java/Spring to node/express.","body":"Express is better because it uses node.js which can handle high traffic simultaneously. Whereas Spring uses java which is ofcourse much faster than node.js, but its not good for simultaneous larger traffic handling. So, (node.js + express) is best suited for REST API.  Many companies have already switched from Java/Spring to node/express."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1666744285,"post_id":52456877,"comment_id":131007447,"body_markdown":"@RiturajShakti Java/Spring can handle large traffic absolutely fine, especially using Spring Webflux. There&#39;s probably many companies switching from Java to Go or Rust as well, so it&#39;s unclear what point you&#39;re trying to make.","body":"@RiturajShakti Java/Spring can handle large traffic absolutely fine, especially using Spring Webflux. There&#39;s probably many companies switching from Java to Go or Rust as well, so it&#39;s unclear what point you&#39;re trying to make."}],"answers":[{"tags":[],"owner":{"account_id":8317671,"reputation":4009,"user_id":6250402,"display_name":"hong4rc"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1537621715,"creation_date":1537621715,"answer_id":52456957,"question_id":52456877,"body_markdown":"You can&#39;t say what is better.\r\n\r\nBut I like Express.js, it is easy to learn, setup(There are lot of choices in Spring can make you confused easily).\r\n\r\nI don&#39;t compare it, you can check\r\n\r\n - [Should I be Node.js or Java Spring developer?][1]\r\n - [What are the advantages of Spring Boot over Node.js for a RESTful web service?][2]\r\n - etc with [Express.js vs Spring][3]\r\n\r\n \r\n\r\n\r\n  [1]: https://www.quora.com/Should-I-be-Node-js-or-Java-Spring-developer\r\n  [2]: https://www.quora.com/What-are-the-advantages-of-Spring-Boot-over-Node-js-for-a-RESTful-web-service\r\n  [3]: https://www.google.com.vn/search?q=Express.js%20vs%20Spring","title":"Express.js vs Spring who&#39;s the best","body":"<p>You can't say what is better.</p>\n\n<p>But I like Express.js, it is easy to learn, setup(There are lot of choices in Spring can make you confused easily).</p>\n\n<p>I don't compare it, you can check</p>\n\n<ul>\n<li><a href=\"https://www.quora.com/Should-I-be-Node-js-or-Java-Spring-developer\" rel=\"noreferrer\">Should I be Node.js or Java Spring developer?</a></li>\n<li><a href=\"https://www.quora.com/What-are-the-advantages-of-Spring-Boot-over-Node-js-for-a-RESTful-web-service\" rel=\"noreferrer\">What are the advantages of Spring Boot over Node.js for a RESTful web service?</a></li>\n<li>etc with <a href=\"https://www.google.com.vn/search?q=Express.js%20vs%20Spring\" rel=\"noreferrer\">Express.js vs Spring</a></li>\n</ul>\n"}],"owner":{"account_id":7571501,"reputation":53,"user_id":5745235,"display_name":"powerxon"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21928,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"closed_date":1537685147,"accepted_answer_id":52456957,"answer_count":1,"score":1,"last_activity_date":1666744356,"creation_date":1537621111,"question_id":52456877,"body_markdown":"what is the best framework to start developing a strong web application?  \r\nthat in a future it is easy to maintain and that in a team it is easy to develop?  \r\nmaybe it&#39;s better something like Scala and the Play framework?\r\n\r\nwhy use one rather than another?  \r\nwho in the future will have the best from the web point of view?\r\n\r\nI&#39;m undecided about using one of these\r\n\r\n","title":"Express.js vs Spring who&#39;s the best","body":"<p>what is the best framework to start developing a strong web application?<br />\nthat in a future it is easy to maintain and that in a team it is easy to develop?<br />\nmaybe it's better something like Scala and the Play framework?</p>\n<p>why use one rather than another?<br />\nwho in the future will have the best from the web point of view?</p>\n<p>I'm undecided about using one of these</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":517968,"reputation":619,"user_id":2881548,"accept_rate":0,"display_name":"THM"},"score":0,"creation_date":1666778267,"post_id":74201395,"comment_id":131014766,"body_markdown":"instead of use static methods recommend you @UtilityClass (https://projectlombok.org/features/experimental/UtilityClass)","body":"instead of use static methods recommend you @UtilityClass (<a href=\"https://projectlombok.org/features/experimental/UtilityClass\" rel=\"nofollow noreferrer\">projectlombok.org/features/experimental/UtilityClass</a>)"}],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666744276,"creation_date":1666744276,"answer_id":74201494,"question_id":74201395,"body_markdown":"First of all, you shouldn&#39;t use a static method to get the time. You can inject a Clock implementation into spring components so that tests can substitute their own predictable clock. That way code that gets the time can assert the expected value of the time. \r\n\r\nSpring has control over how it creates component objects but it has no control over classloading, spring can&#39;t control which class loads first and make sure static fields have valid values at a given time.  It&#39;s always better not to use static methods in spring for anything but code that has no dependencies or side effects whatsoever. ","title":"Spring - Difference between using static method and @Component","body":"<p>First of all, you shouldn't use a static method to get the time. You can inject a Clock implementation into spring components so that tests can substitute their own predictable clock. That way code that gets the time can assert the expected value of the time.</p>\n<p>Spring has control over how it creates component objects but it has no control over classloading, spring can't control which class loads first and make sure static fields have valid values at a given time.  It's always better not to use static methods in spring for anything but code that has no dependencies or side effects whatsoever.</p>\n"}],"owner":{"account_id":26732850,"reputation":13,"user_id":20334895,"display_name":"Submarine"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":537,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74201494,"answer_count":1,"score":0,"last_activity_date":1666744276,"creation_date":1666743110,"question_id":74201395,"body_markdown":"I&#39;m working on Java Spring \r\n\r\nI wanna make simple Util methods like &#39;get current time as string, split string on special condition,  etc..) \r\n\r\n\r\nI think there is two ways to develop;\r\n\r\n**1. using static method**\r\n```java\r\n/* using static method */\r\npublic class TestUtil {\r\n  public static String printTest() {\r\n    System.out.println(&quot;test!&quot;);\r\n  }\r\n}\r\n\r\n// Call Method\r\npublic class Caller {\r\n  public void callTest() {\r\n    TestUtil.printTest();\r\n  }\r\n}\r\n\r\n```\r\n\r\n**2. set as component**\r\n```java\r\n/* using as @component */\r\n@Component\r\npublic class TestUtil {\r\n  public String printTest() {\r\n    System.out.println(&quot;test!&quot;);\r\n  }\r\n}\r\n\r\n\r\n// Call Method\r\npublic class Caller {\r\n\r\n  @Autowired\r\n  TestUtil testutil;\r\n\r\n  public void callTest() {\r\n    testutil.printTest();\r\n  }\r\n}\r\n```\r\n\r\nWhich of the two looks better? And What is the main difference?\r\n\r\nCan you answer, you have great mercy on this miserable junior developer.\r\nThank for your answer\r\n\r\n","title":"Spring - Difference between using static method and @Component","body":"<p>I'm working on Java Spring</p>\n<p>I wanna make simple Util methods like 'get current time as string, split string on special condition,  etc..)</p>\n<p>I think there is two ways to develop;</p>\n<p><strong>1. using static method</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>/* using static method */\npublic class TestUtil {\n  public static String printTest() {\n    System.out.println(&quot;test!&quot;);\n  }\n}\n\n// Call Method\npublic class Caller {\n  public void callTest() {\n    TestUtil.printTest();\n  }\n}\n\n</code></pre>\n<p><strong>2. set as component</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>/* using as @component */\n@Component\npublic class TestUtil {\n  public String printTest() {\n    System.out.println(&quot;test!&quot;);\n  }\n}\n\n\n// Call Method\npublic class Caller {\n\n  @Autowired\n  TestUtil testutil;\n\n  public void callTest() {\n    testutil.printTest();\n  }\n}\n</code></pre>\n<p>Which of the two looks better? And What is the main difference?</p>\n<p>Can you answer, you have great mercy on this miserable junior developer.\nThank for your answer</p>\n"},{"tags":["java","callback","function-pointers"],"comments":[{"owner":{"account_id":443137,"reputation":7845,"user_id":834176,"accept_rate":90,"display_name":"Keith Pinson"},"score":55,"creation_date":1313175240,"post_id":443708,"comment_id":8420126,"body_markdown":"It&#39;s overkill because Java is nonfunctional (that&#39;s supposed to be a pun...).","body":"It&#39;s overkill because Java is nonfunctional (that&#39;s supposed to be a pun...)."},{"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1498642389,"post_id":443708,"comment_id":76577520,"body_markdown":"Another java 8 example: https://stackoverflow.com/questions/14319787/how-to-specify-function-types-for-void-not-void-methods-in-java8","body":"Another java 8 example: <a href=\"https://stackoverflow.com/questions/14319787/how-to-specify-function-types-for-void-not-void-methods-in-java8\" title=\"how to specify function types for void not void methods in java8\">stackoverflow.com/questions/14319787/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7226,"reputation":29731,"user_id":12460,"accept_rate":95,"display_name":"Gant"},"down_vote_count":3,"up_vote_count":179,"is_accepted":true,"score":176,"last_activity_date":1387285171,"creation_date":1231951693,"answer_id":443741,"question_id":443708,"body_markdown":"If you mean somthing like .NET anonymous delegate, I think Java&#39;s anonymous class can be used as well. \r\n\r\n    public class Main {\r\n    \r\n        public interface Visitor{\r\n            int doJob(int a, int b);\r\n        }\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            Visitor adder = new Visitor(){\r\n                public int doJob(int a, int b) {\r\n                    return a + b;\r\n                }\r\n            };\r\n    \r\n            Visitor multiplier = new Visitor(){\r\n                public int doJob(int a, int b) {\r\n                    return a*b;\r\n                }\r\n            };\r\n    \r\n            System.out.println(adder.doJob(10, 20));\r\n            System.out.println(multiplier.doJob(10, 20));\r\n    \r\n        }\r\n    }","title":"Callback functions in Java","body":"<p>If you mean somthing like .NET anonymous delegate, I think Java's anonymous class can be used as well. </p>\n\n<pre><code>public class Main {\n\n    public interface Visitor{\n        int doJob(int a, int b);\n    }\n\n\n    public static void main(String[] args) {\n        Visitor adder = new Visitor(){\n            public int doJob(int a, int b) {\n                return a + b;\n            }\n        };\n\n        Visitor multiplier = new Visitor(){\n            public int doJob(int a, int b) {\n                return a*b;\n            }\n        };\n\n        System.out.println(adder.doJob(10, 20));\n        System.out.println(multiplier.doJob(10, 20));\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1231951733,"creation_date":1231951733,"answer_id":443746,"question_id":443708,"body_markdown":"A method is not (yet) a first-class object in Java; you can&#39;t pass a function pointer as a callback. Instead, create an object (which usually implements an interface) that contains the method you need and pass that.\r\n\r\nProposals for closures in Java&amp;mdash;which would provide the behavior you are looking for&amp;mdash;have been made, but none will be included in the upcoming Java 7 release.","title":"Callback functions in Java","body":"<p>A method is not (yet) a first-class object in Java; you can't pass a function pointer as a callback. Instead, create an object (which usually implements an interface) that contains the method you need and pass that.</p>\n\n<p>Proposals for closures in Java&mdash;which would provide the behavior you are looking for&mdash;have been made, but none will be included in the upcoming Java 7 release.</p>\n"},{"tags":[],"owner":{"account_id":21632,"reputation":10223,"user_id":52734,"accept_rate":100,"display_name":"MattK"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1231951849,"creation_date":1231951849,"answer_id":443759,"question_id":443708,"body_markdown":"When I need this kind of functionality in Java, I usually use the &lt;a href=&quot;http://en.wikipedia.org/wiki/Observer_pattern&quot;&gt;Observer pattern&lt;/a&gt;.  It does imply an extra object, but I think it&#39;s a clean way to go, and is a widely understood pattern, which helps with code readability.","title":"Callback functions in Java","body":"<p>When I need this kind of functionality in Java, I usually use the <a href=\"http://en.wikipedia.org/wiki/Observer_pattern\" rel=\"nofollow noreferrer\">Observer pattern</a>.  It does imply an extra object, but I think it's a clean way to go, and is a widely understood pattern, which helps with code readability.</p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1245665637,"creation_date":1245665637,"answer_id":1026410,"question_id":443708,"body_markdown":"A little nitpicking:\r\n\r\n&gt; I&#39;ve seem people suggesting creating a\r\n&gt; separate object but that seems\r\n&gt; overkill\r\n\r\nPassing a callback includes creating a separate object in pretty much any OO language, so it can hardly be considered overkill. What you probably mean is that in Java, it requires you to create a separate class, which is more verbose (and more resource-intensive) than in languages with explicit first-class functions or closures. However, anonymous classes at least reduce the verbosity and can be used inline.","title":"Callback functions in Java","body":"<p>A little nitpicking:</p>\n\n<blockquote>\n  <p>I've seem people suggesting creating a\n  separate object but that seems\n  overkill</p>\n</blockquote>\n\n<p>Passing a callback includes creating a separate object in pretty much any OO language, so it can hardly be considered overkill. What you probably mean is that in Java, it requires you to create a separate class, which is more verbose (and more resource-intensive) than in languages with explicit first-class functions or closures. However, anonymous classes at least reduce the verbosity and can be used inline.</p>\n"},{"tags":[],"owner":{"account_id":39135,"reputation":13588,"user_id":112779,"accept_rate":67,"display_name":"Mario Fusco"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1252762371,"creation_date":1252762371,"answer_id":1415126,"question_id":443708,"body_markdown":"Check the closures how they have been implemented in the lambdaj library. They actually have a behavior very similar to C# delegates:\r\n\r\nhttp://code.google.com/p/lambdaj/wiki/Closures\r\n","title":"Callback functions in Java","body":"<p>Check the closures how they have been implemented in the lambdaj library. They actually have a behavior very similar to C# delegates:</p>\n\n<p><a href=\"http://code.google.com/p/lambdaj/wiki/Closures\" rel=\"nofollow noreferrer\">http://code.google.com/p/lambdaj/wiki/Closures</a></p>\n"},{"tags":[],"owner":{"account_id":174677,"reputation":1614,"user_id":404192,"accept_rate":93,"display_name":"LiuYan "},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1361127291,"creation_date":1301028085,"answer_id":5428621,"question_id":443708,"body_markdown":"I tried using java.lang.reflect to implement &#39;callback&#39;, here&#39;s a sample:\r\n\r\n    package StackOverflowQ443708_JavaCallBackTest;\r\n\r\n    import java.lang.reflect.*;\r\n    import java.util.concurrent.*;\r\n\r\n    class MyTimer\r\n    {\r\n\t    ExecutorService EXE =\r\n\t\t    //Executors.newCachedThreadPool ();\r\n\t\t    Executors.newSingleThreadExecutor ();\r\n\r\n\t    public static void PrintLine ()\r\n\t    {\r\n\t\t    System.out.println (&quot;--------------------------------------------------------------------------------&quot;);\r\n\t    }\r\n\t\r\n\t    public void SetTimer (final int timeout, final Object obj, final String methodName, final Object... args)\r\n\t    {\r\n\t\t    SetTimer (timeout, obj, false, methodName, args);\r\n\t    }\r\n\t    public void SetTimer (final int timeout, final Object obj, final boolean isStatic, final String methodName, final Object... args)\r\n\t    {\r\n\t\t    Class&lt;?&gt;[] argTypes = null;\r\n\t\t    if (args != null)\r\n\t\t    {\r\n\t\t\t    argTypes = new Class&lt;?&gt; [args.length];\r\n\t\t\t    for (int i=0; i&lt;args.length; i++)\r\n\t\t\t    {\r\n\t\t\t\t    argTypes[i] = args[i].getClass ();\r\n\t\t\t    }\r\n\t\t    }\r\n\t\t\r\n\t\t    SetTimer (timeout, obj, isStatic, methodName, argTypes, args);\r\n\t    }\r\n\t    public void SetTimer (final int timeout, final Object obj, final String methodName, final Class&lt;?&gt;[] argTypes, final Object... args)\r\n\t    {\r\n\t\t    SetTimer (timeout, obj, false, methodName, argTypes, args);\r\n\t    }\r\n\t    public void SetTimer (final int timeout, final Object obj, final boolean isStatic, final String methodName, final Class&lt;?&gt;[] argTypes, final Object... args)\r\n\t    {\r\n\t\t    EXE.execute (\r\n\t\t\t    new Runnable()\r\n\t\t\t    {\r\n\t\t\t\t    public void run ()\r\n\t\t\t\t    {\r\n\t\t\t\t\t    Class&lt;?&gt; c;\r\n\t\t\t\t\t    Method method;\r\n\t\t\t\t\t    try\r\n\t\t\t\t\t    {\r\n\t\t\t\t\t\t    if (isStatic) c = (Class&lt;?&gt;)obj;\r\n\t\t\t\t\t\t    else c = obj.getClass ();\r\n\r\n\t\t\t\t\t\t    System.out.println (&quot;Wait for &quot; + timeout + &quot; seconds to invoke &quot; + c.getSimpleName () + &quot;::[&quot; + methodName + &quot;]&quot;);\r\n\t\t\t\t\t\t    TimeUnit.SECONDS.sleep (timeout);\r\n\t\t\t\t\t\t    System.out.println ();\r\n\t\t\t\t\t\t    System.out.println (&quot;invoking &quot; + c.getSimpleName () + &quot;::[&quot; + methodName + &quot;]...&quot;);\r\n\t\t\t\t\t\t    PrintLine ();\r\n\t\t\t\t\t\t    method = c.getDeclaredMethod (methodName, argTypes);\r\n\t\t\t\t\t\t    method.invoke (obj, args);\r\n\t\t\t\t\t    }\r\n\t\t\t\t\t    catch (Exception e)\r\n\t\t\t\t\t    {\r\n\t\t\t\t\t\t    e.printStackTrace();\r\n\t\t\t\t\t    }\r\n\t\t\t\t\t    finally\r\n\t\t\t\t\t    {\r\n\t\t\t\t\t\t    PrintLine ();\r\n\t\t\t\t\t    }\r\n\t\t\t\t    }\r\n\t\t\t    }\r\n\t\t    );\r\n\t    }\r\n\t    public void ShutdownTimer ()\r\n\t    {\r\n\t\t    EXE.shutdown ();\r\n\t    }\r\n    }\r\n\r\n    public class CallBackTest\r\n    {\r\n\t    public void onUserTimeout ()\r\n\t    {\r\n\t\t    System.out.println (&quot;onUserTimeout&quot;);\r\n\t    }\r\n\t    public void onTestEnd ()\r\n\t    {\r\n\t\t    System.out.println (&quot;onTestEnd&quot;);\r\n\t    }\r\n\t    public void NullParameterTest (String sParam, int iParam)\r\n\t    {\r\n\t\t    System.out.println (&quot;NullParameterTest: String parameter=&quot; + sParam + &quot;, int parameter=&quot; + iParam);\r\n\t    }\r\n\t    public static void main (String[] args)\r\n\t    {\r\n\t\t    CallBackTest test = new CallBackTest ();\r\n\t\t    MyTimer timer = new MyTimer ();\r\n\r\n\t\t    timer.SetTimer ((int)(Math.random ()*10), test, &quot;onUserTimeout&quot;);\r\n\t\t    timer.SetTimer ((int)(Math.random ()*10), test, &quot;onTestEnd&quot;);\r\n\t\t    timer.SetTimer ((int)(Math.random ()*10), test, &quot;A-Method-Which-Is-Not-Exists&quot;);\t// java.lang.NoSuchMethodException\r\n\r\n\t\t    timer.SetTimer ((int)(Math.random ()*10), System.out, &quot;println&quot;, &quot;this is an argument of System.out.println() which is called by timer&quot;);\r\n\t\t    timer.SetTimer ((int)(Math.random ()*10), System.class, true, &quot;currentTimeMillis&quot;);\r\n\t\t    timer.SetTimer ((int)(Math.random ()*10), System.class, true, &quot;currentTimeMillis&quot;, &quot;Should-Not-Pass-Arguments&quot;);\t// java.lang.NoSuchMethodException\r\n\r\n\t\t    timer.SetTimer ((int)(Math.random ()*10), String.class, true, &quot;format&quot;, &quot;%d %X&quot;, 100, 200);\t// java.lang.NoSuchMethodException\r\n\t\t    timer.SetTimer ((int)(Math.random ()*10), String.class, true, &quot;format&quot;, &quot;%d %X&quot;, new Object[]{100, 200});\r\n\r\n\t\t    timer.SetTimer ((int)(Math.random ()*10), test, &quot;NullParameterTest&quot;, new Class&lt;?&gt;[]{String.class, int.class}, null, 888);\r\n\r\n\t\t    timer.ShutdownTimer ();\r\n\t    }\r\n    }\r\n","title":"Callback functions in Java","body":"<p>I tried using java.lang.reflect to implement 'callback', here's a sample:</p>\n\n<pre><code>package StackOverflowQ443708_JavaCallBackTest;\n\nimport java.lang.reflect.*;\nimport java.util.concurrent.*;\n\nclass MyTimer\n{\n    ExecutorService EXE =\n        //Executors.newCachedThreadPool ();\n        Executors.newSingleThreadExecutor ();\n\n    public static void PrintLine ()\n    {\n        System.out.println (\"--------------------------------------------------------------------------------\");\n    }\n\n    public void SetTimer (final int timeout, final Object obj, final String methodName, final Object... args)\n    {\n        SetTimer (timeout, obj, false, methodName, args);\n    }\n    public void SetTimer (final int timeout, final Object obj, final boolean isStatic, final String methodName, final Object... args)\n    {\n        Class&lt;?&gt;[] argTypes = null;\n        if (args != null)\n        {\n            argTypes = new Class&lt;?&gt; [args.length];\n            for (int i=0; i&lt;args.length; i++)\n            {\n                argTypes[i] = args[i].getClass ();\n            }\n        }\n\n        SetTimer (timeout, obj, isStatic, methodName, argTypes, args);\n    }\n    public void SetTimer (final int timeout, final Object obj, final String methodName, final Class&lt;?&gt;[] argTypes, final Object... args)\n    {\n        SetTimer (timeout, obj, false, methodName, argTypes, args);\n    }\n    public void SetTimer (final int timeout, final Object obj, final boolean isStatic, final String methodName, final Class&lt;?&gt;[] argTypes, final Object... args)\n    {\n        EXE.execute (\n            new Runnable()\n            {\n                public void run ()\n                {\n                    Class&lt;?&gt; c;\n                    Method method;\n                    try\n                    {\n                        if (isStatic) c = (Class&lt;?&gt;)obj;\n                        else c = obj.getClass ();\n\n                        System.out.println (\"Wait for \" + timeout + \" seconds to invoke \" + c.getSimpleName () + \"::[\" + methodName + \"]\");\n                        TimeUnit.SECONDS.sleep (timeout);\n                        System.out.println ();\n                        System.out.println (\"invoking \" + c.getSimpleName () + \"::[\" + methodName + \"]...\");\n                        PrintLine ();\n                        method = c.getDeclaredMethod (methodName, argTypes);\n                        method.invoke (obj, args);\n                    }\n                    catch (Exception e)\n                    {\n                        e.printStackTrace();\n                    }\n                    finally\n                    {\n                        PrintLine ();\n                    }\n                }\n            }\n        );\n    }\n    public void ShutdownTimer ()\n    {\n        EXE.shutdown ();\n    }\n}\n\npublic class CallBackTest\n{\n    public void onUserTimeout ()\n    {\n        System.out.println (\"onUserTimeout\");\n    }\n    public void onTestEnd ()\n    {\n        System.out.println (\"onTestEnd\");\n    }\n    public void NullParameterTest (String sParam, int iParam)\n    {\n        System.out.println (\"NullParameterTest: String parameter=\" + sParam + \", int parameter=\" + iParam);\n    }\n    public static void main (String[] args)\n    {\n        CallBackTest test = new CallBackTest ();\n        MyTimer timer = new MyTimer ();\n\n        timer.SetTimer ((int)(Math.random ()*10), test, \"onUserTimeout\");\n        timer.SetTimer ((int)(Math.random ()*10), test, \"onTestEnd\");\n        timer.SetTimer ((int)(Math.random ()*10), test, \"A-Method-Which-Is-Not-Exists\");    // java.lang.NoSuchMethodException\n\n        timer.SetTimer ((int)(Math.random ()*10), System.out, \"println\", \"this is an argument of System.out.println() which is called by timer\");\n        timer.SetTimer ((int)(Math.random ()*10), System.class, true, \"currentTimeMillis\");\n        timer.SetTimer ((int)(Math.random ()*10), System.class, true, \"currentTimeMillis\", \"Should-Not-Pass-Arguments\");    // java.lang.NoSuchMethodException\n\n        timer.SetTimer ((int)(Math.random ()*10), String.class, true, \"format\", \"%d %X\", 100, 200); // java.lang.NoSuchMethodException\n        timer.SetTimer ((int)(Math.random ()*10), String.class, true, \"format\", \"%d %X\", new Object[]{100, 200});\n\n        timer.SetTimer ((int)(Math.random ()*10), test, \"NullParameterTest\", new Class&lt;?&gt;[]{String.class, int.class}, null, 888);\n\n        timer.ShutdownTimer ();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":177338,"reputation":7283,"user_id":408598,"accept_rate":83,"display_name":"Programming Guy"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1310703527,"creation_date":1310703527,"answer_id":6702643,"question_id":443708,"body_markdown":"I found the idea of implementing using the reflect library interesting and came up with this which I think works quite well. The only down side is losing the compile time check that you are passing valid parameters.\r\n\r\n    public class CallBack {\r\n    \tprivate String methodName;\r\n    \tprivate Object scope;\r\n    \r\n    \tpublic CallBack(Object scope, String methodName) {\r\n    \t\tthis.methodName = methodName;\r\n    \t\tthis.scope = scope;\r\n    \t}\r\n    \r\n    \tpublic Object invoke(Object... parameters) throws InvocationTargetException, IllegalAccessException, NoSuchMethodException {\r\n    \t\tMethod method = scope.getClass().getMethod(methodName, getParameterClasses(parameters));\r\n    \t\treturn method.invoke(scope, parameters);\r\n    \t}\r\n    \r\n    \tprivate Class[] getParameterClasses(Object... parameters) {\r\n    \t\tClass[] classes = new Class[parameters.length];\r\n    \t\tfor (int i=0; i &lt; classes.length; i++) {\r\n    \t\t\tclasses[i] = parameters[i].getClass();\r\n    \t\t}\r\n    \t\treturn classes;\r\n    \t}\r\n    }\r\n\r\nYou use it like this\r\n\r\n    public class CallBackTest {\r\n    \t@Test\r\n    \tpublic void testCallBack() throws NoSuchMethodException, InvocationTargetException, IllegalAccessException {\r\n    \t\tTestClass testClass = new TestClass();\r\n    \t\tCallBack callBack = new CallBack(testClass, &quot;hello&quot;);\r\n    \t\tcallBack.invoke();\r\n    \t\tcallBack.invoke(&quot;Fred&quot;);\r\n    \t}\r\n    \r\n    \tpublic class TestClass {\r\n    \t\tpublic void hello() {\r\n    \t\t\tSystem.out.println(&quot;Hello World&quot;);\r\n    \t\t}\r\n    \r\n    \t\tpublic void hello(String name) {\r\n    \t\t\tSystem.out.println(&quot;Hello &quot; + name);\r\n    \t\t}\r\n    \t}\r\n    }","title":"Callback functions in Java","body":"<p>I found the idea of implementing using the reflect library interesting and came up with this which I think works quite well. The only down side is losing the compile time check that you are passing valid parameters.</p>\n\n<pre><code>public class CallBack {\n    private String methodName;\n    private Object scope;\n\n    public CallBack(Object scope, String methodName) {\n        this.methodName = methodName;\n        this.scope = scope;\n    }\n\n    public Object invoke(Object... parameters) throws InvocationTargetException, IllegalAccessException, NoSuchMethodException {\n        Method method = scope.getClass().getMethod(methodName, getParameterClasses(parameters));\n        return method.invoke(scope, parameters);\n    }\n\n    private Class[] getParameterClasses(Object... parameters) {\n        Class[] classes = new Class[parameters.length];\n        for (int i=0; i &lt; classes.length; i++) {\n            classes[i] = parameters[i].getClass();\n        }\n        return classes;\n    }\n}\n</code></pre>\n\n<p>You use it like this</p>\n\n<pre><code>public class CallBackTest {\n    @Test\n    public void testCallBack() throws NoSuchMethodException, InvocationTargetException, IllegalAccessException {\n        TestClass testClass = new TestClass();\n        CallBack callBack = new CallBack(testClass, \"hello\");\n        callBack.invoke();\n        callBack.invoke(\"Fred\");\n    }\n\n    public class TestClass {\n        public void hello() {\n            System.out.println(\"Hello World\");\n        }\n\n        public void hello(String name) {\n            System.out.println(\"Hello \" + name);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":924603,"reputation":301,"user_id":955627,"display_name":"monnoo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1448828949,"creation_date":1316551798,"answer_id":7491588,"question_id":443708,"body_markdown":"it&#39;s a bit old, but nevertheless... I found the answer of Peter Wilkinson nice except for the fact that it does not work for primitive types like int/Integer. \r\nThe problem is the `.getClass()` for the `parameters[i]`, which returns for instance `java.lang.Integer`, which on the other hand will not be correctly interpreted by `getMethod(methodName,parameters[])` (Java&#39;s fault) ...\r\n \r\nI combined it with the suggestion of Daniel Spiewak ([in his answer to this][1]); steps to success included: catching `NoSuchMethodException` -&gt; `getMethods()` -&gt; looking for the matching one by `method.getName()` -&gt; and then explicitly looping through the list of parameters and applying Daniels solution, such identifying the type matches and the signature matches.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/180097/dynamically-find-the-class-that-represents-a-primitive-java-type","title":"Callback functions in Java","body":"<p>it's a bit old, but nevertheless... I found the answer of Peter Wilkinson nice except for the fact that it does not work for primitive types like int/Integer. \nThe problem is the <code>.getClass()</code> for the <code>parameters[i]</code>, which returns for instance <code>java.lang.Integer</code>, which on the other hand will not be correctly interpreted by <code>getMethod(methodName,parameters[])</code> (Java's fault) ...</p>\n\n<p>I combined it with the suggestion of Daniel Spiewak (<a href=\"https://stackoverflow.com/questions/180097/dynamically-find-the-class-that-represents-a-primitive-java-type\">in his answer to this</a>); steps to success included: catching <code>NoSuchMethodException</code> -> <code>getMethods()</code> -> looking for the matching one by <code>method.getName()</code> -> and then explicitly looping through the list of parameters and applying Daniels solution, such identifying the type matches and the signature matches.</p>\n"},{"tags":[],"owner":{"account_id":186063,"reputation":17556,"user_id":423171,"accept_rate":83,"display_name":"cprcrack"},"down_vote_count":1,"up_vote_count":46,"is_accepted":false,"score":45,"last_activity_date":1666742741,"creation_date":1386952860,"answer_id":20571565,"question_id":443708,"body_markdown":"For simplicity, you can use a **Runnable**:\r\n\r\n    private void runCallback(Runnable callback)\r\n    {\r\n        // Run callback\r\n        callback.run();\r\n    }\r\n\r\nUsage:\r\n\r\n    runCallback(new Runnable()\r\n    {\r\n        @Override\r\n        public void run()\r\n        {\r\n            // Running callback\r\n        }\r\n    });\r\n\r\nor with Java8 lambdas\r\n\r\n```\r\nrunCallback(() -&gt; {\r\n    // Running callback\r\n});\r\n```","title":"Callback functions in Java","body":"<p>For simplicity, you can use a <strong>Runnable</strong>:</p>\n<pre><code>private void runCallback(Runnable callback)\n{\n    // Run callback\n    callback.run();\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>runCallback(new Runnable()\n{\n    @Override\n    public void run()\n    {\n        // Running callback\n    }\n});\n</code></pre>\n<p>or with Java8 lambdas</p>\n<pre><code>runCallback(() -&gt; {\n    // Running callback\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1245419,"reputation":14808,"user_id":1206998,"accept_rate":80,"display_name":"Juh_"},"down_vote_count":0,"up_vote_count":76,"is_accepted":false,"score":76,"last_activity_date":1636364084,"creation_date":1415268149,"answer_id":26776520,"question_id":443708,"body_markdown":"Since Java 8, there are lambda and method references:\r\n\r\n - [Oracle Docs: Lambda Expressions][1]\r\n - [Oracle Docs: Method References][2]\r\n\r\nFor example, if you want a functional interface `A -&gt; B`, you can use:\r\n\r\n    import java.util.function.Function;\r\n    \r\n    public MyClass {\r\n        public static String applyFunction(String name, Function&lt;String,String&gt; function){\r\n            return function.apply(name);\r\n        }\r\n    }\r\n\r\nAnd here is how you can call it:\r\n\r\n    MyClass.applyFunction(&quot;42&quot;, str -&gt; &quot;the answer is: &quot; + str);\r\n    // returns &quot;the answer is: 42&quot;\r\n\r\nAlso you can pass class method. For example:\r\n\r\n    @Value // lombok\r\n    public class PrefixAppender {\r\n        private String prefix;\r\n\r\n        public String addPrefix(String suffix){\r\n            return prefix +&quot;:&quot;+suffix;\r\n        }\r\n    }\r\n\r\nThen you can do:\r\n\r\n    PrefixAppender prefixAppender= new PrefixAppender(&quot;prefix&quot;);\r\n    MyClass.applyFunction(&quot;some text&quot;, prefixAppender::addPrefix);\r\n    // returns &quot;prefix:some text&quot;\r\n\r\n\r\n**Note**:\r\n\r\nHere I used the functional interface `Function&lt;A,B&gt;`, but there are many others in the package `java.util.function`. Most notable ones are\r\n\r\n - `Supplier`: `void -&gt; A`\r\n - `Consumer`: `A -&gt; void`\r\n - `BiConsumer`: `(A,B) -&gt; void`\r\n - `Function`: `A -&gt; B`\r\n - `BiFunction`: `(A,B) -&gt; C`\r\n\r\nand many others that specialize on some of the input/output type. Then, if it doesn&#39;t provide the one you need, you can create your own `FunctionalInterface`:\r\n\r\n    @FunctionalInterface\r\n    interface Function3&lt;In1, In2, In3, Out&gt; { // (In1,In2,In3) -&gt; Out\r\n        public Out apply(In1 in1, In2 in2, In3 in3);\r\n    }\r\n\r\nExample of use:\r\n\r\n    String computeAnswer(Function3&lt;String, Integer, Integer, String&gt; f){\r\n        return f.apply(&quot;6x9=&quot;, 6, 9);\r\n    }\r\n\r\n    computeAnswer((question, a, b) -&gt; question + &quot;42&quot;);\r\n    // &quot;6*9=42&quot;\r\n\r\nAnd you can also do that with thrown exception:\r\n\r\n    @FunctionalInterface\r\n    interface FallibleFunction&lt;In, Out, Ex extends Exception&gt; {\r\n        Out get(In input) throws Ex;\r\n    }\r\n    public &lt;Ex extends IOException&gt; String yo(FallibleFunction&lt;Integer, String, Ex&gt; f) throws Ex {\r\n        return f.get(42);\r\n    }\r\n\r\n\r\n\r\n[1]:http://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\r\n[2]:http://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html","title":"Callback functions in Java","body":"<p>Since Java 8, there are lambda and method references:</p>\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"noreferrer\">Oracle Docs: Lambda Expressions</a></li>\n<li><a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"noreferrer\">Oracle Docs: Method References</a></li>\n</ul>\n<p>For example, if you want a functional interface <code>A -&gt; B</code>, you can use:</p>\n<pre><code>import java.util.function.Function;\n\npublic MyClass {\n    public static String applyFunction(String name, Function&lt;String,String&gt; function){\n        return function.apply(name);\n    }\n}\n</code></pre>\n<p>And here is how you can call it:</p>\n<pre><code>MyClass.applyFunction(&quot;42&quot;, str -&gt; &quot;the answer is: &quot; + str);\n// returns &quot;the answer is: 42&quot;\n</code></pre>\n<p>Also you can pass class method. For example:</p>\n<pre><code>@Value // lombok\npublic class PrefixAppender {\n    private String prefix;\n\n    public String addPrefix(String suffix){\n        return prefix +&quot;:&quot;+suffix;\n    }\n}\n</code></pre>\n<p>Then you can do:</p>\n<pre><code>PrefixAppender prefixAppender= new PrefixAppender(&quot;prefix&quot;);\nMyClass.applyFunction(&quot;some text&quot;, prefixAppender::addPrefix);\n// returns &quot;prefix:some text&quot;\n</code></pre>\n<p><strong>Note</strong>:</p>\n<p>Here I used the functional interface <code>Function&lt;A,B&gt;</code>, but there are many others in the package <code>java.util.function</code>. Most notable ones are</p>\n<ul>\n<li><code>Supplier</code>: <code>void -&gt; A</code></li>\n<li><code>Consumer</code>: <code>A -&gt; void</code></li>\n<li><code>BiConsumer</code>: <code>(A,B) -&gt; void</code></li>\n<li><code>Function</code>: <code>A -&gt; B</code></li>\n<li><code>BiFunction</code>: <code>(A,B) -&gt; C</code></li>\n</ul>\n<p>and many others that specialize on some of the input/output type. Then, if it doesn't provide the one you need, you can create your own <code>FunctionalInterface</code>:</p>\n<pre><code>@FunctionalInterface\ninterface Function3&lt;In1, In2, In3, Out&gt; { // (In1,In2,In3) -&gt; Out\n    public Out apply(In1 in1, In2 in2, In3 in3);\n}\n</code></pre>\n<p>Example of use:</p>\n<pre><code>String computeAnswer(Function3&lt;String, Integer, Integer, String&gt; f){\n    return f.apply(&quot;6x9=&quot;, 6, 9);\n}\n\ncomputeAnswer((question, a, b) -&gt; question + &quot;42&quot;);\n// &quot;6*9=42&quot;\n</code></pre>\n<p>And you can also do that with thrown exception:</p>\n<pre><code>@FunctionalInterface\ninterface FallibleFunction&lt;In, Out, Ex extends Exception&gt; {\n    Out get(In input) throws Ex;\n}\npublic &lt;Ex extends IOException&gt; String yo(FallibleFunction&lt;Integer, String, Ex&gt; f) throws Ex {\n    return f.get(42);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5288475,"reputation":1,"user_id":4221681,"display_name":"Abhishek Abhyankar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445309237,"creation_date":1430467314,"answer_id":29983500,"question_id":443708,"body_markdown":"    public class HelloWorldAnonymousClasses {\r\n    \r\n        //this is an interface with only one method\r\n        interface HelloWorld {\r\n            public void printSomething(String something);\r\n        }\r\n    \r\n        //this is a simple function called from main()\r\n        public void sayHello() {\r\n    \r\n        //this is an object with interface reference followed by the definition of the interface itself\r\n    \r\n            new HelloWorld() {\r\n                public void printSomething(String something) {\r\n                    System.out.println(&quot;Hello &quot; + something);\r\n                }\r\n            }.printSomething(&quot;Abhi&quot;);\r\n    \r\n         //imagine this as an object which is calling the function&#39;printSomething()&quot;\r\n        }\r\n    \r\n        public static void main(String... args) {\r\n            HelloWorldAnonymousClasses myApp =\r\n                    new HelloWorldAnonymousClasses();\r\n            myApp.sayHello();\r\n        }\r\n    }\r\n    //Output is &quot;Hello Abhi&quot;\r\n\r\nBasically if you want to make the object of an interface it is\r\nnot possible, because interface cannot have objects.\r\n\r\nThe option is to let some class implement the interface and then call that function using the object of that class.\r\nBut this approach is really verbose.\r\n\r\nAlternatively, write new HelloWorld() (*oberserve this is an interface not a class) and then follow it up with the defination of the interface methods itself. (*This defination is in reality the anonymous class).\r\nThen you get the object reference through which you can call the method itself.","title":"Callback functions in Java","body":"<pre><code>public class HelloWorldAnonymousClasses {\n\n    //this is an interface with only one method\n    interface HelloWorld {\n        public void printSomething(String something);\n    }\n\n    //this is a simple function called from main()\n    public void sayHello() {\n\n    //this is an object with interface reference followed by the definition of the interface itself\n\n        new HelloWorld() {\n            public void printSomething(String something) {\n                System.out.println(\"Hello \" + something);\n            }\n        }.printSomething(\"Abhi\");\n\n     //imagine this as an object which is calling the function'printSomething()\"\n    }\n\n    public static void main(String... args) {\n        HelloWorldAnonymousClasses myApp =\n                new HelloWorldAnonymousClasses();\n        myApp.sayHello();\n    }\n}\n//Output is \"Hello Abhi\"\n</code></pre>\n\n<p>Basically if you want to make the object of an interface it is\nnot possible, because interface cannot have objects.</p>\n\n<p>The option is to let some class implement the interface and then call that function using the object of that class.\nBut this approach is really verbose.</p>\n\n<p>Alternatively, write new HelloWorld() (*oberserve this is an interface not a class) and then follow it up with the defination of the interface methods itself. (*This defination is in reality the anonymous class).\nThen you get the object reference through which you can call the method itself.</p>\n"},{"tags":[],"owner":{"account_id":4304114,"reputation":4450,"user_id":3517025,"accept_rate":73,"display_name":"Joey Baruch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1444809782,"creation_date":1444809782,"answer_id":33119860,"question_id":443708,"body_markdown":"I&#39;ve recently started doing something like this:\r\n\r\n    public class Main {\r\n        @FunctionalInterface\r\n        public interface NotDotNetDelegate {\r\n            int doSomething(int a, int b);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            // in java 8 (lambdas):\r\n            System.out.println(functionThatTakesDelegate((a, b) -&gt; {return a*b;} , 10, 20));\r\n    \r\n        }\r\n    \r\n        public static int functionThatTakesDelegate(NotDotNetDelegate del, int a, int b) {\r\n            // ...\r\n            return del.doSomething(a, b);\r\n        }\r\n    }\r\n\r\n","title":"Callback functions in Java","body":"<p>I've recently started doing something like this:</p>\n\n<pre><code>public class Main {\n    @FunctionalInterface\n    public interface NotDotNetDelegate {\n        int doSomething(int a, int b);\n    }\n\n    public static void main(String[] args) {\n        // in java 8 (lambdas):\n        System.out.println(functionThatTakesDelegate((a, b) -&gt; {return a*b;} , 10, 20));\n\n    }\n\n    public static int functionThatTakesDelegate(NotDotNetDelegate del, int a, int b) {\n        // ...\n        return del.doSomething(a, b);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7136132,"reputation":893,"user_id":5455691,"display_name":"S&#233;bastien"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1467838044,"creation_date":1467829167,"answer_id":38231043,"question_id":443708,"body_markdown":"You also can do the`Callback` using the `Delegate` pattern:\r\n\r\nCallback.java\r\n\r\n    public interface Callback {\r\n        void onItemSelected(int position);\r\n    }\r\n\r\nPagerActivity.java\r\n    \r\n    public class PagerActivity implements Callback {\r\n    \r\n        CustomPagerAdapter mPagerAdapter;\r\n        \r\n        public PagerActivity() {\r\n            mPagerAdapter = new CustomPagerAdapter(this);\r\n        }\r\n            \r\n        @Override\r\n        public void onItemSelected(int position) {\r\n            // Do something\r\n            System.out.println(&quot;Item &quot; + postion + &quot; selected&quot;)\r\n        }\r\n    }\r\n\r\nCustomPagerAdapter.java\r\n\r\n    public class CustomPagerAdapter {\r\n        private static final int DEFAULT_POSITION = 1;\r\n        public CustomPagerAdapter(Callback callback) {\r\n            callback.onItemSelected(DEFAULT_POSITION);\r\n        }\r\n    }","title":"Callback functions in Java","body":"<p>You also can do the<code>Callback</code> using the <code>Delegate</code> pattern:</p>\n\n<p>Callback.java</p>\n\n<pre><code>public interface Callback {\n    void onItemSelected(int position);\n}\n</code></pre>\n\n<p>PagerActivity.java</p>\n\n<pre><code>public class PagerActivity implements Callback {\n\n    CustomPagerAdapter mPagerAdapter;\n\n    public PagerActivity() {\n        mPagerAdapter = new CustomPagerAdapter(this);\n    }\n\n    @Override\n    public void onItemSelected(int position) {\n        // Do something\n        System.out.println(\"Item \" + postion + \" selected\")\n    }\n}\n</code></pre>\n\n<p>CustomPagerAdapter.java</p>\n\n<pre><code>public class CustomPagerAdapter {\n    private static final int DEFAULT_POSITION = 1;\n    public CustomPagerAdapter(Callback callback) {\n        callback.onItemSelected(DEFAULT_POSITION);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user7810456"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1491247623,"creation_date":1491247623,"answer_id":43192755,"question_id":443708,"body_markdown":"This is very easy in Java 8 with lambdas.\r\n\r\n    public interface Callback {\r\n        void callback();\r\n    }\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            methodThatExpectsACallback(() -&gt; System.out.println(&quot;I am the callback.&quot;));\r\n        }\r\n        private static void methodThatExpectsACallback(Callback callback){\r\n            System.out.println(&quot;I am the method.&quot;);\r\n            callback.callback();\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"Callback functions in Java","body":"<p>This is very easy in Java 8 with lambdas.</p>\n\n<pre><code>public interface Callback {\n    void callback();\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        methodThatExpectsACallback(() -&gt; System.out.println(\"I am the callback.\"));\n    }\n    private static void methodThatExpectsACallback(Callback callback){\n        System.out.println(\"I am the method.\");\n        callback.callback();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6229685,"reputation":4214,"user_id":4846859,"display_name":"Biskrem Muhammad"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1535446072,"creation_date":1513637276,"answer_id":47877553,"question_id":443708,"body_markdown":"yet i see there is most preferred way which was what i was looking for.. it&#39;s basically derived from these answers but i had to manipulate it to more more redundant and efficient.. **and i think everybody looking for what i come up with**\r\n\r\n### To the point::\r\nfirst make an Interface _that simple_\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public interface myCallback {\r\n        void onSuccess();\r\n        void onError(String err);\r\n    }\r\n\r\nnow to make this callback run when ever you wish to do to handle the results - _**more likely after async call and you wanna run some stuff which depends on these reuslts**_\r\n\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    // import the Interface class here\r\n    \r\n    public class App {\r\n    \r\n        public static void main(String[] args) {\r\n            // call your method\r\n            doSomething(&quot;list your Params&quot;, new myCallback(){\r\n                @Override\r\n                public void onSuccess() {\r\n                    // no errors\r\n                    System.out.println(&quot;Done&quot;);\r\n                }\r\n    \r\n                @Override\r\n                public void onError(String err) {\r\n                    // error happen\r\n                    System.out.println(err);\r\n                }\r\n            });\r\n        }\r\n    \r\n        private void doSomething(String param, // some params..\r\n                                 myCallback callback) {\r\n            // now call onSuccess whenever you want if results are ready\r\n            if(results_success)\r\n                callback.onSuccess();\r\n            else\r\n                callback.onError(someError);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n`doSomething` is the function that takes some time you wanna add a callback to it to notify you when the results came, add the call back interface as a parameter to this method\r\n\r\n### hope my point is clear, enjoy ;)","title":"Callback functions in Java","body":"<p>yet i see there is most preferred way which was what i was looking for.. it's basically derived from these answers but i had to manipulate it to more more redundant and efficient.. <strong>and i think everybody looking for what i come up with</strong></p>\n\n<h3>To the point::</h3>\n\n<p>first make an Interface <em>that simple</em></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public interface myCallback {\n    void onSuccess();\n    void onError(String err);\n}\n</code></pre>\n\n<p>now to make this callback run when ever you wish to do to handle the results - <em><strong>more likely after async call and you wanna run some stuff which depends on these reuslts</strong></em></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// import the Interface class here\n\npublic class App {\n\n    public static void main(String[] args) {\n        // call your method\n        doSomething(\"list your Params\", new myCallback(){\n            @Override\n            public void onSuccess() {\n                // no errors\n                System.out.println(\"Done\");\n            }\n\n            @Override\n            public void onError(String err) {\n                // error happen\n                System.out.println(err);\n            }\n        });\n    }\n\n    private void doSomething(String param, // some params..\n                             myCallback callback) {\n        // now call onSuccess whenever you want if results are ready\n        if(results_success)\n            callback.onSuccess();\n        else\n            callback.onError(someError);\n    }\n\n}\n</code></pre>\n\n<p><code>doSomething</code> is the function that takes some time you wanna add a callback to it to notify you when the results came, add the call back interface as a parameter to this method</p>\n\n<h3>hope my point is clear, enjoy ;)</h3>\n"},{"tags":[],"owner":{"account_id":4709355,"reputation":603,"user_id":4491572,"accept_rate":100,"display_name":"Balu mallisetty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560183641,"creation_date":1560183252,"answer_id":56529951,"question_id":443708,"body_markdown":"Create an Interface, and Create the Same Interface Property in Callback Class.\r\n\r\n    interface dataFetchDelegate {\r\n    \tvoid didFetchdata(String data);\r\n    }\r\n    //callback class\r\n    public class BackendManager{\r\n       public dataFetchDelegate Delegate;\r\n       \r\n       public void getData() {\r\n    \t   //Do something, Http calls/ Any other work\r\n    \t   Delegate.didFetchdata(&quot;this is callbackdata&quot;);\r\n       }\r\n       \r\n    }\r\n\r\nNow in the class where you want to get called back implement the above Created Interface.\r\nand Also Pass &quot;this&quot; Object/Reference of your class to be called back.\r\n\r\n    public class Main implements dataFetchDelegate\r\n    {\t    \r\n        public static void main( String[] args )\r\n        {\r\n        \tnew Main().getDatafromBackend();\r\n        }\r\n        \r\n        public void getDatafromBackend() {\r\n        \tBackendManager inc = new BackendManager();\r\n            //Pass this object as reference.in this Scenario this is Main Object        \t\r\n            inc.Delegate = this;\r\n            //make call\r\n        \tinc.getData();\r\n        }\r\n        \r\n        //This method is called after task/Code Completion\r\n        public void didFetchdata(String callbackData) {\r\n        \t// TODO Auto-generated method stub\r\n        \tSystem.out.println(callbackData);\r\n        }\r\n    }\r\n\r\n","title":"Callback functions in Java","body":"<p>Create an Interface, and Create the Same Interface Property in Callback Class.</p>\n\n<pre><code>interface dataFetchDelegate {\n    void didFetchdata(String data);\n}\n//callback class\npublic class BackendManager{\n   public dataFetchDelegate Delegate;\n\n   public void getData() {\n       //Do something, Http calls/ Any other work\n       Delegate.didFetchdata(\"this is callbackdata\");\n   }\n\n}\n</code></pre>\n\n<p>Now in the class where you want to get called back implement the above Created Interface.\nand Also Pass \"this\" Object/Reference of your class to be called back.</p>\n\n<pre><code>public class Main implements dataFetchDelegate\n{       \n    public static void main( String[] args )\n    {\n        new Main().getDatafromBackend();\n    }\n\n    public void getDatafromBackend() {\n        BackendManager inc = new BackendManager();\n        //Pass this object as reference.in this Scenario this is Main Object            \n        inc.Delegate = this;\n        //make call\n        inc.getData();\n    }\n\n    //This method is called after task/Code Completion\n    public void didFetchdata(String callbackData) {\n        // TODO Auto-generated method stub\n        System.out.println(callbackData);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12189253,"reputation":413,"user_id":8897553,"display_name":"JayLord Abueva"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1606864391,"creation_date":1606864391,"answer_id":65099966,"question_id":443708,"body_markdown":"Simpliest and easiest way is by creating a reusable model and trigger.... https://onecompiler.com/java/3wejrcby2?fbclid=IwAR0dHbGDChRUJoCZ3CIDW-JQu7Dz3iYGNGYjxYVCPCWfEqQDogFGTwuOuO8","title":"Callback functions in Java","body":"<p>Simpliest and easiest way is by creating a reusable model and trigger.... <a href=\"https://onecompiler.com/java/3wejrcby2?fbclid=IwAR0dHbGDChRUJoCZ3CIDW-JQu7Dz3iYGNGYjxYVCPCWfEqQDogFGTwuOuO8\" rel=\"nofollow noreferrer\">https://onecompiler.com/java/3wejrcby2?fbclid=IwAR0dHbGDChRUJoCZ3CIDW-JQu7Dz3iYGNGYjxYVCPCWfEqQDogFGTwuOuO8</a></p>\n"},{"tags":[],"owner":{"account_id":10645250,"reputation":3023,"user_id":7838169,"display_name":"badger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1622661000,"creation_date":1622661000,"answer_id":67811128,"question_id":443708,"body_markdown":"with java 8 this task is kinda easy, if you want to use callback in multi-thread scenario you can do something similar like the following:\r\n\r\n    public  void methodA (int n, IntConsumer consumer) {\r\n        \r\n        // create a thread\r\n        Thread t = new Thread(() -&gt; {\r\n            // some time consuming operation\r\n            int result = IntStream.range(0, n).sum();\r\n            // after the result is ready do something with it.\r\n            consumer.accept(result);\r\n        });\r\n        t.start();\r\n    }\r\n\r\nand to use this method do:\r\n\r\n    methodA(1000000, System.out::println);","title":"Callback functions in Java","body":"<p>with java 8 this task is kinda easy, if you want to use callback in multi-thread scenario you can do something similar like the following:</p>\n<pre><code>public  void methodA (int n, IntConsumer consumer) {\n    \n    // create a thread\n    Thread t = new Thread(() -&gt; {\n        // some time consuming operation\n        int result = IntStream.range(0, n).sum();\n        // after the result is ready do something with it.\n        consumer.accept(result);\n    });\n    t.start();\n}\n</code></pre>\n<p>and to use this method do:</p>\n<pre><code>methodA(1000000, System.out::println);\n</code></pre>\n"}],"owner":{"account_id":10732,"reputation":54820,"user_id":20400,"accept_rate":72,"display_name":"Omar Kooheji"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":317947,"favorite_count":0,"down_vote_count":0,"up_vote_count":208,"accepted_answer_id":443741,"answer_count":18,"score":208,"last_activity_date":1666742741,"creation_date":1231951216,"question_id":443708,"body_markdown":"Is there a way to pass a call back function in a Java method?\r\n\r\nThe behavior I&#39;m trying to mimic is a .Net Delegate being passed to a function.\r\n\r\nI&#39;ve seen people suggesting creating a separate object but that seems overkill, however I am aware that sometimes overkill is the only way to do things.","title":"Callback functions in Java","body":"<p>Is there a way to pass a call back function in a Java method?</p>\n\n<p>The behavior I'm trying to mimic is a .Net Delegate being passed to a function.</p>\n\n<p>I've seen people suggesting creating a separate object but that seems overkill, however I am aware that sometimes overkill is the only way to do things.</p>\n"},{"tags":["java","c++","java-native-interface","kinect","com+"],"answers":[{"tags":[],"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1331274573,"creation_date":1331274573,"answer_id":9629859,"question_id":9629766,"body_markdown":"I have found some examples such as [here][1], [here][2] and [here][3] which recommend you either used a shared memory structure or else use sockets. \r\n\r\nI think that in this case, letting your programs communicate through sockets would be the best idea since your applications will not be that tightly coupled, so you just need to expose an IP, a port and a set of commands. \r\n\r\nAccording to [this][4] it seems possible to create a C++ server on the Kinect, but other than that I can&#39;t say much since I have never worked on Kinect related projects.\r\n\r\n\r\n  [1]: http://drdobbs.com/cpp/222900697\r\n  [2]: http://www.velocityreviews.com/forums/t279534-communication-between-a-c-and-java-program.html\r\n  [3]: https://stackoverflow.com/questions/1209406/interprocess-communication-between-c-app-and-java-app-in-windows-os-environmen\r\n  [4]: http://kinect.dashhacks.com/kinect-news/2011/01/14/blitz-c-socket-server-kinect-output-flash-silverlight-html-and-unity","title":"Communication between Java Application and C++ Application","body":"<p>I have found some examples such as <a href=\"http://drdobbs.com/cpp/222900697\" rel=\"nofollow noreferrer\">here</a>, <a href=\"http://www.velocityreviews.com/forums/t279534-communication-between-a-c-and-java-program.html\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://stackoverflow.com/questions/1209406/interprocess-communication-between-c-app-and-java-app-in-windows-os-environmen\">here</a> which recommend you either used a shared memory structure or else use sockets. </p>\n\n<p>I think that in this case, letting your programs communicate through sockets would be the best idea since your applications will not be that tightly coupled, so you just need to expose an IP, a port and a set of commands. </p>\n\n<p>According to <a href=\"http://kinect.dashhacks.com/kinect-news/2011/01/14/blitz-c-socket-server-kinect-output-flash-silverlight-html-and-unity\" rel=\"nofollow noreferrer\">this</a> it seems possible to create a C++ server on the Kinect, but other than that I can't say much since I have never worked on Kinect related projects.</p>\n"},{"tags":[],"owner":{"account_id":1106279,"reputation":9834,"user_id":1097600,"accept_rate":80,"display_name":"Sorter"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1354605557,"creation_date":1353476594,"answer_id":13487079,"question_id":9629766,"body_markdown":"May be you should have  a look at google&#39;s [Protocol Buffers](https://developers.google.com/protocol-buffers/docs/overview).\r\n\r\nSince you are considering [JNI](http://en.wikipedia.org/wiki/Java_Native_Interface).\r\nI&#39;d suggest you refer to this [IBM tutorial](http://www.ibm.com/developerworks/java/tutorials/j-jni/).\r\n \r\nJNI allows the java application to call c/c++ methods and vice-versa.\r\n\r\n\r\n\r\nAlso have  a look at this \r\n[question](https://stackoverflow.com/questions/992836/how-to-access-the-java-method-in-a-c-application/13486890), if you are calling java from c++.","title":"Communication between Java Application and C++ Application","body":"<p>May be you should have  a look at google's <a href=\"https://developers.google.com/protocol-buffers/docs/overview\" rel=\"nofollow noreferrer\">Protocol Buffers</a>.</p>\n\n<p>Since you are considering <a href=\"http://en.wikipedia.org/wiki/Java_Native_Interface\" rel=\"nofollow noreferrer\">JNI</a>.\nI'd suggest you refer to this <a href=\"http://www.ibm.com/developerworks/java/tutorials/j-jni/\" rel=\"nofollow noreferrer\">IBM tutorial</a>.</p>\n\n<p>JNI allows the java application to call c/c++ methods and vice-versa.</p>\n\n<p>Also have  a look at this \n<a href=\"https://stackoverflow.com/questions/992836/how-to-access-the-java-method-in-a-c-application/13486890\">question</a>, if you are calling java from c++.</p>\n"},{"tags":[],"owner":{"account_id":3723682,"reputation":657,"user_id":3098044,"display_name":"mkumar0304"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666742135,"creation_date":1526561457,"answer_id":50391934,"question_id":9629766,"body_markdown":"JNI (Java Native Interface) allows the java application to call c/c++ \r\nmethods.\r\n\r\nAll this requires that we have a means of communicating (Integrating Java \r\nwith C++) between Java and C++. This is provided by the JNI (Java Native \r\nInterface).\r\n\r\nFor a practical example of using the JNI and calling native methods from Java, see [this InfoWorld article][1].\r\n\r\n\r\n  [1]: https://www.infoworld.com/article/2077513/java-tip-17--integrating-java-with-c--.html","title":"Communication between Java Application and C++ Application","body":"<p>JNI (Java Native Interface) allows the java application to call c/c++\nmethods.</p>\n<p>All this requires that we have a means of communicating (Integrating Java\nwith C++) between Java and C++. This is provided by the JNI (Java Native\nInterface).</p>\n<p>For a practical example of using the JNI and calling native methods from Java, see <a href=\"https://www.infoworld.com/article/2077513/java-tip-17--integrating-java-with-c--.html\" rel=\"nofollow noreferrer\">this InfoWorld article</a>.</p>\n"}],"owner":{"account_id":1293012,"reputation":1282,"user_id":1244730,"accept_rate":67,"display_name":"seveves"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14725,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":9629859,"answer_count":3,"score":4,"last_activity_date":1666742135,"creation_date":1331273846,"question_id":9629766,"body_markdown":"I&#39;m trying to write a plugin for a Java Application. The plugin should be able to tell the Java Application that new events have been recognized (Observer Design Pattern, Polling ... thats not the point). The problem is that the events are tracked gestures coming from a Microsoft Kinect controller (I&#180;m using C++ and the Microsoft Kinect SDK because I have to). So that means I have to communicate between the Java Application and my Kinect Application.\r\nI thought of something like an adapter design pattern where the Java application is &quot;including&quot; the interface (c++ header file, dll etc.). First I thought of JNI but then I have to write a DLL that will be used on both application sides, right? Another thing I thought of was to provide the gesture data via a protocol like UDP (or something more lightweight?). The last thing I heard of was to write a COM+ assembly ... but to be honest my knowledge about COM+ is rather little.\r\n\r\n    JAVA APPLICATION &lt;&lt; ----- ??? ----- &gt;&gt; KINECT APPLICATION","title":"Communication between Java Application and C++ Application","body":"<p>I'm trying to write a plugin for a Java Application. The plugin should be able to tell the Java Application that new events have been recognized (Observer Design Pattern, Polling ... thats not the point). The problem is that the events are tracked gestures coming from a Microsoft Kinect controller (Im using C++ and the Microsoft Kinect SDK because I have to). So that means I have to communicate between the Java Application and my Kinect Application.\nI thought of something like an adapter design pattern where the Java application is \"including\" the interface (c++ header file, dll etc.). First I thought of JNI but then I have to write a DLL that will be used on both application sides, right? Another thing I thought of was to provide the gesture data via a protocol like UDP (or something more lightweight?). The last thing I heard of was to write a COM+ assembly ... but to be honest my knowledge about COM+ is rather little.</p>\n\n<pre><code>JAVA APPLICATION &lt;&lt; ----- ??? ----- &gt;&gt; KINECT APPLICATION\n</code></pre>\n"},{"tags":["java","spring-boot","spring-webflux","okhttp","junit5"],"comments":[{"owner":{"account_id":1799873,"reputation":3402,"user_id":1638483,"accept_rate":69,"display_name":"gudepier"},"score":0,"creation_date":1623337399,"post_id":67923626,"comment_id":120056509,"body_markdown":"FYI when I downgrade the spring-boot-dependencies to **2.3.11.RELEASE**, it&#39;s working like a charm -_-","body":"FYI when I downgrade the spring-boot-dependencies to <b>2.3.11.RELEASE</b>, it&#39;s working like a charm -_-"}],"answers":[{"tags":[],"owner":{"account_id":1799873,"reputation":3402,"user_id":1638483,"accept_rate":69,"display_name":"gudepier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623670126,"creation_date":1623398810,"answer_id":67933431,"question_id":67923626,"body_markdown":"It seems that the issue has been resolved by using the *spring-boot-dependencies* since the **2.4.5** version (i didn&#39;t tested the intermediates versions).\r\n\r\n---\r\nUPDATE:\r\n\r\nPay attention to your local hosts file...\r\n\r\nI&#39;ve updated mine by adding `.local` as suffix of `localhost` &amp; `&lt;myHostname&gt;` because the issue reappeared this morning (without any changes -_-)\r\n\r\n    127.0.0.1\tlocalhost.local,&lt;myHostname&gt;.local\r\n    255.255.255.255\tbroadcasthost\r\n    ::1             localhost.local,&lt;myHostname&gt;.local\r\n","title":"okhhtp3 mockserver: connection refused","body":"<p>It seems that the issue has been resolved by using the <em>spring-boot-dependencies</em> since the <strong>2.4.5</strong> version (i didn't tested the intermediates versions).</p>\n<hr />\n<p>UPDATE:</p>\n<p>Pay attention to your local hosts file...</p>\n<p>I've updated mine by adding <code>.local</code> as suffix of <code>localhost</code> &amp; <code>&lt;myHostname&gt;</code> because the issue reappeared this morning (without any changes -_-)</p>\n<pre><code>127.0.0.1   localhost.local,&lt;myHostname&gt;.local\n255.255.255.255 broadcasthost\n::1             localhost.local,&lt;myHostname&gt;.local\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18735289,"reputation":1,"user_id":13659776,"display_name":"MrDostoievski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666740371,"creation_date":1666740371,"answer_id":74201134,"question_id":67923626,"body_markdown":"in my case, I had commented this line in my hosts file.\r\n\r\n    127.0.0.1 localhost\r\n\r\nUncommenting this fixed my problem.","title":"okhhtp3 mockserver: connection refused","body":"<p>in my case, I had commented this line in my hosts file.</p>\n<pre><code>127.0.0.1 localhost\n</code></pre>\n<p>Uncommenting this fixed my problem.</p>\n"}],"owner":{"account_id":1799873,"reputation":3402,"user_id":1638483,"accept_rate":69,"display_name":"gudepier"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2042,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1666740371,"creation_date":1623336678,"question_id":67923626,"body_markdown":"Since I&#39;ve upgraded my ```spring-boot-dependencies``` version from 2.2.5.RELEASE to **2.4.0**, all tests where MockWebServer is used are failing with the following error:\r\n\r\n```org.springframework.web.reactive.function.client.WebClientRequestException: Connection refused: localhost/0:0:0:0:0:0:0:1:56338; nested exception is io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/0:0:0:0:0:0:0:1:56338```\r\n\r\nAny clue? Wrong depedency used / deprecated stuff?\r\n\r\n---\r\nMaven depedency\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;version&gt;5.7.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mockwebserver&lt;/artifactId&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;version&gt;3.14.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n        &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;version&gt;3.14.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nI have writen a simple test case inside of my current , but i got always the same issue... (thanks to &lt;https://stackoverflow.com/a/62528728/1638483&gt;)\r\n\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import org.springframework.web.reactive.function.client.WebClient;\r\n\r\n    public class QuoteClient {\r\n\r\n        private final WebClient webClient;\r\n\r\n        public QuoteClient(WebClient.Builder builder, String baseUrl) {\r\n            this.webClient = builder.baseUrl(baseUrl).build();\r\n        }\r\n\r\n        public JsonNode getData() {\r\n            return this.webClient\r\n                    .get()\r\n                    .retrieve()\r\n                    .bodyToMono(JsonNode.class)\r\n                    .block();\r\n        }\r\n    }\r\n\r\n\r\n\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import okhttp3.mockwebserver.MockResponse;\r\n    import okhttp3.mockwebserver.MockWebServer;\r\n    import org.junit.jupiter.api.BeforeEach;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.springframework.web.reactive.function.client.WebClient;\r\n    \r\n    import static org.junit.Assert.assertNotNull;\r\n    \r\n    public class QuotesClientTest {\r\n        private QuoteClient quotesClient;\r\n        private MockWebServer server;\r\n    \r\n        @BeforeEach\r\n        public void setup() {\r\n            this.server = new MockWebServer();\r\n            this.quotesClient = new QuoteClient(WebClient.builder(), server.url(&quot;/&quot;).toString());\r\n        }\r\n    \r\n        @Test\r\n        public void test() {\r\n            server.enqueue(new MockResponse()\r\n                    .setStatus(&quot;HTTP/1.1 200&quot;)\r\n                    .setBody(&quot;{\\&quot;bar\\&quot;:\\&quot;barbar\\&quot;,\\&quot;foo\\&quot;:\\&quot;foofoo\\&quot;}&quot;)\r\n                    .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;));\r\n    \r\n            JsonNode data = quotesClient.getData();\r\n            assertNotNull(data);\r\n    \r\n            System.out.println(data);\r\n    \r\n        }\r\n    }\r\n\r\n\r\nStackTrace\r\n\r\n    org.springframework.web.reactive.function.client.WebClientRequestException: Connection refused: localhost/0:0:0:0:0:0:0:1:56382; nested exception is io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/0:0:0:0:0:0:0:1:56382\r\n    \r\n           at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:137)\r\n           Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException:\r\n    Error has been observed at the following site(s):\r\n       |_ checkpoint  Request to GET null [DefaultWebClient]\r\n    Stack trace:\r\n           at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:137)\r\n           at reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:70)\r\n           at reactor.core.publisher.Mono.subscribe(Mono.java:3987)\r\n           at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\r\n           at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\r\n           at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\r\n           at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\r\n    //...\r\n           at reactor.netty.transport.TransportConnector$MonoChannelPromise.tryFailure(TransportConnector.java:464)\r\n           at reactor.netty.transport.TransportConnector$MonoChannelPromise$1.tryFailure(TransportConnector.java:515)\r\n           at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.fulfillConnectPromise(AbstractNioChannel.java:321)\r\n           at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:337)\r\n           at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:707)\r\n           at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\r\n           at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\r\n           at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n           at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n           at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n           at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n           at java.lang.Thread.run(Thread.java:748)\r\n       Suppressed: java.lang.Exception: #block terminated with an error\r\n           at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\r\n           at reactor.core.publisher.Mono.block(Mono.java:1679)\r\n           at QuoteClient.getData(QuoteClient.java:23)\r\n           at QuotesClientTest.test(QuotesClientTest.java:30)\r\n           at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n           at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n           at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n           at java.lang.reflect.Method.invoke(Method.java:498)\r\n           at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\r\n           at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n           at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n    //...\r\n           at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n           at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n           at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n           at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n           at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n           at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n           at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n       Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/0:0:0:0:0:0:0:1:56382\r\n       Caused by: java.net.ConnectException: Connection refused\r\n           at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\r\n           at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)\r\n           at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:330)\r\n           at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)\r\n           at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:707)\r\n           at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\r\n           at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\r\n           at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n           at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n           at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n           at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n           at java.lang.Thread.run(Thread.java:748)\r\n","title":"okhhtp3 mockserver: connection refused","body":"<p>Since I've upgraded my <code>spring-boot-dependencies</code> version from 2.2.5.RELEASE to <strong>2.4.0</strong>, all tests where MockWebServer is used are failing with the following error:</p>\n<p><code>org.springframework.web.reactive.function.client.WebClientRequestException: Connection refused: localhost/0:0:0:0:0:0:0:1:56338; nested exception is io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/0:0:0:0:0:0:0:1:56338</code></p>\n<p>Any clue? Wrong depedency used / deprecated stuff?</p>\n<hr />\n<p>Maven depedency</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;version&gt;2.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n    &lt;version&gt;2.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;version&gt;2.4.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n    &lt;version&gt;5.7.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n    &lt;artifactId&gt;mockwebserver&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n    &lt;version&gt;3.14.9&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n    &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n    &lt;version&gt;3.14.9&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I have writen a simple test case inside of my current , but i got always the same issue... (thanks to <a href=\"https://stackoverflow.com/a/62528728/1638483\">https://stackoverflow.com/a/62528728/1638483</a>)</p>\n<pre><code>import com.fasterxml.jackson.databind.JsonNode;\nimport org.springframework.web.reactive.function.client.WebClient;\n\npublic class QuoteClient {\n\n    private final WebClient webClient;\n\n    public QuoteClient(WebClient.Builder builder, String baseUrl) {\n        this.webClient = builder.baseUrl(baseUrl).build();\n    }\n\n    public JsonNode getData() {\n        return this.webClient\n                .get()\n                .retrieve()\n                .bodyToMono(JsonNode.class)\n                .block();\n    }\n}\n\n\n\nimport com.fasterxml.jackson.databind.JsonNode;\nimport okhttp3.mockwebserver.MockResponse;\nimport okhttp3.mockwebserver.MockWebServer;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.web.reactive.function.client.WebClient;\n\nimport static org.junit.Assert.assertNotNull;\n\npublic class QuotesClientTest {\n    private QuoteClient quotesClient;\n    private MockWebServer server;\n\n    @BeforeEach\n    public void setup() {\n        this.server = new MockWebServer();\n        this.quotesClient = new QuoteClient(WebClient.builder(), server.url(&quot;/&quot;).toString());\n    }\n\n    @Test\n    public void test() {\n        server.enqueue(new MockResponse()\n                .setStatus(&quot;HTTP/1.1 200&quot;)\n                .setBody(&quot;{\\&quot;bar\\&quot;:\\&quot;barbar\\&quot;,\\&quot;foo\\&quot;:\\&quot;foofoo\\&quot;}&quot;)\n                .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;));\n\n        JsonNode data = quotesClient.getData();\n        assertNotNull(data);\n\n        System.out.println(data);\n\n    }\n}\n</code></pre>\n<p>StackTrace</p>\n<pre><code>org.springframework.web.reactive.function.client.WebClientRequestException: Connection refused: localhost/0:0:0:0:0:0:0:1:56382; nested exception is io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/0:0:0:0:0:0:0:1:56382\n\n       at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:137)\n       Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException:\nError has been observed at the following site(s):\n   |_ checkpoint  Request to GET null [DefaultWebClient]\nStack trace:\n       at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:137)\n       at reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:70)\n       at reactor.core.publisher.Mono.subscribe(Mono.java:3987)\n       at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\n       at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\n       at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\n       at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\n//...\n       at reactor.netty.transport.TransportConnector$MonoChannelPromise.tryFailure(TransportConnector.java:464)\n       at reactor.netty.transport.TransportConnector$MonoChannelPromise$1.tryFailure(TransportConnector.java:515)\n       at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.fulfillConnectPromise(AbstractNioChannel.java:321)\n       at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:337)\n       at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:707)\n       at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\n       at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\n       at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n       at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n       at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n       at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n       at java.lang.Thread.run(Thread.java:748)\n   Suppressed: java.lang.Exception: #block terminated with an error\n       at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\n       at reactor.core.publisher.Mono.block(Mono.java:1679)\n       at QuoteClient.getData(QuoteClient.java:23)\n       at QuotesClientTest.test(QuotesClientTest.java:30)\n       at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n       at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n       at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n       at java.lang.reflect.Method.invoke(Method.java:498)\n       at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\n       at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n       at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n//...\n       at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n       at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n       at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n       at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n       at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n       at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n       at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\n   Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/0:0:0:0:0:0:0:1:56382\n   Caused by: java.net.ConnectException: Connection refused\n       at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\n       at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)\n       at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:330)\n       at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)\n       at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:707)\n       at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\n       at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\n       at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n       at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n       at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n       at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n       at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":2,"creation_date":1269891605,"post_id":2540725,"comment_id":2541267,"body_markdown":"Before you solve that, you need to solve the problem of how to phrase a question.","body":"Before you solve that, you need to solve the problem of how to phrase a question."},{"owner":{"account_id":55654,"reputation":90563,"user_id":166712,"accept_rate":100,"display_name":"Anthony Forloney"},"score":1,"creation_date":1269891721,"post_id":2540725,"comment_id":2541285,"body_markdown":"Arg, I tried my best to save and transform the question actually into a question.","body":"Arg, I tried my best to save and transform the question actually into a question."},{"owner":{"account_id":22951,"reputation":12505,"user_id":57120,"accept_rate":83,"display_name":"Beska"},"score":1,"creation_date":1269891797,"post_id":2540725,"comment_id":2541295,"body_markdown":"@Anthony: You were editing it as the same time as me...and we were both doing it while other people were closing the question.  :)","body":"@Anthony: You were editing it as the same time as me...and we were both doing it while other people were closing the question.  :)"},{"owner":{"account_id":55654,"reputation":90563,"user_id":166712,"accept_rate":100,"display_name":"Anthony Forloney"},"score":1,"creation_date":1269891848,"post_id":2540725,"comment_id":2541301,"body_markdown":"@Beska: We tried but epically failed. :/","body":"@Beska: We tried but epically failed. :/"},{"owner":{"account_id":7745,"reputation":189755,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":4,"creation_date":1269892452,"post_id":2540725,"comment_id":2541366,"body_markdown":"This question should be re-opened now that it has been edited into shape. (It actually should never have been closed in the first place.)","body":"This question should be re-opened now that it has been edited into shape. (It actually should never have been closed in the first place.)"}],"answers":[{"tags":[],"owner":{"account_id":41728,"reputation":37898,"user_id":121364,"accept_rate":72,"display_name":"J&#248;rn Schou-Rode"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1562634399,"creation_date":1269893220,"answer_id":2540899,"question_id":2540725,"body_markdown":"While you are pretty close to a solution, there are a few critical problems in your code:\r\n\r\n1. Your call to `substring()` fetches a string of size `2`. That string can *never* be `cat` nor `dog`. Change the second parameter in the method call to `i + 3` to get `3` characters.\r\n\r\n2. Your call to `substring()` will throw an `IndexOutOfRangeException`, as `i` approaches the end of the length of the input string. Make sure you do not ask for a substring that &quot;overflows&quot; the length of the input string. One way to fix this bug, would be to change the conditional expression in your `for` loop to `i &lt; str.length() - 2`.\r\n\r\n3. The return value of your method will always be `true`. In the case where `dogAnswer != catAnswer` you return exactly that expression - which will resolve to `true`. A possible solution: Merge the two `return` statements into `return dogAnswer == catAnswer`.  \r\n\r\nAdditionally, there are a few things you could do to make your code simpler:\r\n\r\n1. There really is no need to copy `cat_Count` into `catAnswer` and `dog_Count` into `dogAnswer`. Throw away two of the variables, and use the other pair exclusively.\r\n\r\n2. &lt;del&gt;If the input string is not allowed to contain anything else than `cat` and `dog`, your loop can be optimized to only consider every third position in the input string. Change `i++` into `i += 3`.&lt;/del&gt; &lt;ins&gt;(Update: after seeing the test data used at [CodingBat][1], I can tell that this is not the case.)&lt;/ins&gt;\r\n\r\nAfter implementing fix #1, #2 and #3 as well as suggestion #1, I have made a test run using the provided [test bench][1], and the result is quite  satisfying:\r\n\r\n# [![][3]][3]\n&lt;!-- source: http://codingbat.com/c2big.jpg --&gt; All correct\r\n\r\n[1]: https://codingbat.com/prob/p111624\r\n[2]: http://codingbat.com/c2big.jpg\n [3]: https://i.stack.imgur.com/Apntt.jpg","title":"catDog string problem at Codingbat.com","body":"<p>While you are pretty close to a solution, there are a few critical problems in your code:</p>\n\n<ol>\n<li><p>Your call to <code>substring()</code> fetches a string of size <code>2</code>. That string can <em>never</em> be <code>cat</code> nor <code>dog</code>. Change the second parameter in the method call to <code>i + 3</code> to get <code>3</code> characters.</p></li>\n<li><p>Your call to <code>substring()</code> will throw an <code>IndexOutOfRangeException</code>, as <code>i</code> approaches the end of the length of the input string. Make sure you do not ask for a substring that \"overflows\" the length of the input string. One way to fix this bug, would be to change the conditional expression in your <code>for</code> loop to <code>i &lt; str.length() - 2</code>.</p></li>\n<li><p>The return value of your method will always be <code>true</code>. In the case where <code>dogAnswer != catAnswer</code> you return exactly that expression - which will resolve to <code>true</code>. A possible solution: Merge the two <code>return</code> statements into <code>return dogAnswer == catAnswer</code>.  </p></li>\n</ol>\n\n<p>Additionally, there are a few things you could do to make your code simpler:</p>\n\n<ol>\n<li><p>There really is no need to copy <code>cat_Count</code> into <code>catAnswer</code> and <code>dog_Count</code> into <code>dogAnswer</code>. Throw away two of the variables, and use the other pair exclusively.</p></li>\n<li><p><del>If the input string is not allowed to contain anything else than <code>cat</code> and <code>dog</code>, your loop can be optimized to only consider every third position in the input string. Change <code>i++</code> into <code>i += 3</code>.</del> (Update: after seeing the test data used at <a href=\"https://codingbat.com/prob/p111624\" rel=\"nofollow noreferrer\">CodingBat</a>, I can tell that this is not the case.)</p></li>\n</ol>\n\n<p>After implementing fix #1, #2 and #3 as well as suggestion #1, I have made a test run using the provided <a href=\"https://codingbat.com/prob/p111624\" rel=\"nofollow noreferrer\">test bench</a>, and the result is quite  satisfying:</p>\n\n<h1><a href=\"https://i.stack.imgur.com/Apntt.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Apntt.jpg\" alt=\"\"></a></h1>\n\n<p> All correct</p>\n"},{"tags":[],"owner":{"account_id":116097,"reputation":1,"user_id":304581,"display_name":"stanny110"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1269896150,"creation_date":1269895512,"answer_id":2541153,"question_id":2540725,"body_markdown":"1.\r\nif i use i + 3 i get an error code Exception:java.lang.StringIndexOutOfBoundsException: String index out of range: 7 (line number:10) - hence i use i + 2 (no errors are reported with it\r\n2.changing to i &lt; str.length() - 4 gives a blanket response of true despite some of the test strings containing an unequal number of &quot;cat&quot; &amp; &quot;dog &quot; tokens\r\n\r\nThe crux of the problem is that the response is either all true or all false despite there being a variable numbers of &quot;cat&quot; &amp; &quot;dog&quot; tokens in the various  strings\r\n\r\nthe output from the code can be seen at http://codingbat.com/prob/p111624 - catDog string problem\r\n\r\nPlease try in cutting and pasting my code to see the output - this will explain more graphically than i could say  ","title":"catDog string problem at Codingbat.com","body":"<p>1.\nif i use i + 3 i get an error code Exception:java.lang.StringIndexOutOfBoundsException: String index out of range: 7 (line number:10) - hence i use i + 2 (no errors are reported with it\n2.changing to i &lt; str.length() - 4 gives a blanket response of true despite some of the test strings containing an unequal number of \"cat\" &amp; \"dog \" tokens</p>\n\n<p>The crux of the problem is that the response is either all true or all false despite there being a variable numbers of \"cat\" &amp; \"dog\" tokens in the various  strings</p>\n\n<p>the output from the code can be seen at <a href=\"http://codingbat.com/prob/p111624\" rel=\"nofollow noreferrer\">http://codingbat.com/prob/p111624</a> - catDog string problem</p>\n\n<p>Please try in cutting and pasting my code to see the output - this will explain more graphically than i could say  </p>\n"},{"tags":[],"owner":{"account_id":30171,"reputation":40012,"user_id":82118,"accept_rate":72,"display_name":"Carl Manaster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1269897305,"creation_date":1269897305,"answer_id":2541329,"question_id":2540725,"body_markdown":"A solution with less duplication would be to write a function that counts occurrences of a substring within a string, then call that function with the string and &quot;cat&quot;, and with the string and &quot;dog&quot;, and return whether the two counts agree.","title":"catDog string problem at Codingbat.com","body":"<p>A solution with less duplication would be to write a function that counts occurrences of a substring within a string, then call that function with the string and \"cat\", and with the string and \"dog\", and return whether the two counts agree.</p>\n"},{"tags":[],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1269928218,"creation_date":1269925040,"answer_id":2542946,"question_id":2540725,"body_markdown":"    int count(String needle, String haystack) {\r\n      return haystack.split(needle, -1).length - 1;\r\n    }\r\n    \r\n    public boolean catDog(String str) {\r\n      return count(&quot;dog&quot;, str) == count(&quot;cat&quot;, str);\r\n    }\r\n\r\nHere&#39;s an &quot;All Correct&quot; solution that uses `split`. The `-1` is used to preserve trailing empty strings.","title":"catDog string problem at Codingbat.com","body":"<pre><code>int count(String needle, String haystack) {\n  return haystack.split(needle, -1).length - 1;\n}\n\npublic boolean catDog(String str) {\n  return count(\"dog\", str) == count(\"cat\", str);\n}\n</code></pre>\n\n<p>Here's an \"All Correct\" solution that uses <code>split</code>. The <code>-1</code> is used to preserve trailing empty strings.</p>\n"},{"tags":[],"owner":{"account_id":3953975,"reputation":1,"user_id":3263207,"display_name":"hani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391358012,"creation_date":1391358012,"answer_id":21512907,"question_id":2540725,"body_markdown":"\tpublic boolean catDog(String str) {\r\n\t\tint cdog = 0;\r\n\t\tint ccat = 0;\r\n\r\n\t\tfor (int i = 0; i &lt; str.length()-2; i++)\r\n\t\t{\r\n\t\t\tif (str.charAt(i)== &#39;c&#39; &amp;&amp; str.charAt(i+1)== &#39;a&#39; &amp;&amp; str.charAt(i+2)== &#39;t&#39;)\r\n\t\t\t{\r\n\t\t\t\tccat++;\r\n\t\t\t}\r\n\r\n\t\t\telse if(str.charAt(i) == &#39;d&#39; &amp;&amp; str.charAt(i+1)== &#39;o&#39; &amp;&amp; str.charAt(i+2)== &#39;g&#39;)\r\n\t\t\t{\r\n\t\t\t\tcdog++;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif (cdog == ccat)\r\n\t\t\treturn true;\r\n\r\n\t\telse\r\n\t\t\treturn false;\r\n\t}","title":"catDog string problem at Codingbat.com","body":"<pre><code>public boolean catDog(String str) {\n    int cdog = 0;\n    int ccat = 0;\n\n    for (int i = 0; i &lt; str.length()-2; i++)\n    {\n        if (str.charAt(i)== 'c' &amp;&amp; str.charAt(i+1)== 'a' &amp;&amp; str.charAt(i+2)== 't')\n        {\n            ccat++;\n        }\n\n        else if(str.charAt(i) == 'd' &amp;&amp; str.charAt(i+1)== 'o' &amp;&amp; str.charAt(i+2)== 'g')\n        {\n            cdog++;\n        }\n\n    }\n\n    if (cdog == ccat)\n        return true;\n\n    else\n        return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7888738,"reputation":86,"user_id":5959740,"display_name":"Abdul Hanan Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461784231,"creation_date":1461784231,"answer_id":36898851,"question_id":2540725,"body_markdown":"\r\n    public boolean catDog(String str) {\r\n      boolean x =false;  // created a boolean variable.\r\n      int cCount=0;    // variable to count cat in string.\r\n      int dCount=0;    // variable to count dog in string.\r\n      for(int i =0;i&lt;str.length()-2;i++){\r\n        if(str.charAt(i)==&#39;c&#39;&amp;&amp;str.charAt(i+1)==&#39;a&#39;&amp;&amp;str.charAt(i+2)==&#39;t&#39;){ // checking if the string has cat if it does count how many time it has.\r\n          ++cCount;\r\n        }\r\n        if(str.charAt(i)==&#39;d&#39;&amp;&amp;str.charAt(i+1)==&#39;o&#39;&amp;&amp;str.charAt(i+2)==&#39;g&#39;){  // checking if the string has dog if it does count how many time it has.\r\n          ++dCount;\r\n        }\r\n      }\r\n      if(cCount==dCount){  // comparing cat and dog count.\r\n        return true;\r\n      }\r\n      return x;\r\n    }","title":"catDog string problem at Codingbat.com","body":"<pre><code>public boolean catDog(String str) {\n  boolean x =false;  // created a boolean variable.\n  int cCount=0;    // variable to count cat in string.\n  int dCount=0;    // variable to count dog in string.\n  for(int i =0;i&lt;str.length()-2;i++){\n    if(str.charAt(i)=='c'&amp;&amp;str.charAt(i+1)=='a'&amp;&amp;str.charAt(i+2)=='t'){ // checking if the string has cat if it does count how many time it has.\n      ++cCount;\n    }\n    if(str.charAt(i)=='d'&amp;&amp;str.charAt(i+1)=='o'&amp;&amp;str.charAt(i+2)=='g'){  // checking if the string has dog if it does count how many time it has.\n      ++dCount;\n    }\n  }\n  if(cCount==dCount){  // comparing cat and dog count.\n    return true;\n  }\n  return x;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8365660,"reputation":9,"user_id":6282455,"display_name":"M.zar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483290721,"creation_date":1483290721,"answer_id":41417312,"question_id":2540725,"body_markdown":"    public boolean catDog(String str) {\r\n      \r\n      int countcat = 0;\r\n      int countdog = 0;\r\n      \r\n      if( str.length() &gt;= 3){\r\n      for( int i = 0 ; i &lt; str.length()-2 ; i++){\r\n      if ( str.substring(i,i+3).equals(&quot;cat&quot;))\r\n      countcat = countcat + 1;\r\n      }\r\n      \r\n      \r\n      for( int j = 0 ; j &lt; str.length()-2 ; j++){\r\n      if ( str.substring(j,j+3).equals(&quot;dog&quot;))\r\n      countdog = countdog + 1;\r\n      }}\r\n      \r\n      if (countdog == countcat )\r\n      return true;\r\n    \r\n      \r\n      return false;\r\n      \r\n    }","title":"catDog string problem at Codingbat.com","body":"<pre><code>public boolean catDog(String str) {\n\n  int countcat = 0;\n  int countdog = 0;\n\n  if( str.length() &gt;= 3){\n  for( int i = 0 ; i &lt; str.length()-2 ; i++){\n  if ( str.substring(i,i+3).equals(\"cat\"))\n  countcat = countcat + 1;\n  }\n\n\n  for( int j = 0 ; j &lt; str.length()-2 ; j++){\n  if ( str.substring(j,j+3).equals(\"dog\"))\n  countdog = countdog + 1;\n  }}\n\n  if (countdog == countcat )\n  return true;\n\n\n  return false;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8640602,"reputation":410,"user_id":6469399,"accept_rate":0,"display_name":"Ravi Vyas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485641298,"creation_date":1485641298,"answer_id":41915384,"question_id":2540725,"body_markdown":"\tpublic boolean catDog(String str) {\r\n\t\tint cat, dog;\r\n\t\tcat = 0;\r\n\t\tdog = 0;\r\n\t\tfor (int i = 0; i &lt; str.length() - 1; i++) {\r\n\t\t\tif ((i + 3) &gt; str.length()) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif (str.substring(i, i + 3).equals(&quot;cat&quot;)) {\r\n\t\t\t\tcat++;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (int i = 0; i &lt; str.length() - 1; i++) {\r\n\t\t\tif ((i + 3) &gt; str.length()) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif (str.substring(i, i + 3).equals(&quot;dog&quot;)) {\r\n\t\t\t\tdog++;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (cat == dog) {\r\n\t\t\treturn true;\r\n\t\t} else\r\n\t\t\treturn false;\r\n\r\n\t}","title":"catDog string problem at Codingbat.com","body":"<pre><code>public boolean catDog(String str) {\n    int cat, dog;\n    cat = 0;\n    dog = 0;\n    for (int i = 0; i &lt; str.length() - 1; i++) {\n        if ((i + 3) &gt; str.length()) {\n            break;\n        }\n        if (str.substring(i, i + 3).equals(\"cat\")) {\n            cat++;\n        }\n    }\n    for (int i = 0; i &lt; str.length() - 1; i++) {\n        if ((i + 3) &gt; str.length()) {\n            break;\n        }\n        if (str.substring(i, i + 3).equals(\"dog\")) {\n            dog++;\n        }\n    }\n    if (cat == dog) {\n        return true;\n    } else\n        return false;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10684871,"reputation":1,"user_id":7865705,"display_name":"Hunh C&#244;ng Tin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501518105,"creation_date":1501518105,"answer_id":45420892,"question_id":2540725,"body_markdown":"Here&#39;s my answer. It works well. Hope it helps if you&#39;re stuck.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    public boolean catDog(String str) {\r\n      int cat = 0 ;\r\n      int dog = 0 ;\r\n      for(int i  = 0 ; i &lt; str.length()-2; i++){\r\n        String temp = str.substring(i,i+3);\r\n        if(temp.compareTo(&quot;cat&quot;)==0)\r\n          cat++;\r\n         if(temp.compareTo(&quot;dog&quot;)==0)\r\n          dog++;\r\n      }\r\n      return cat==dog?true:false;\r\n        \r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"catDog string problem at Codingbat.com","body":"<p>Here's my answer. It works well. Hope it helps if you're stuck.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>public boolean catDog(String str) {\r\n  int cat = 0 ;\r\n  int dog = 0 ;\r\n  for(int i  = 0 ; i &lt; str.length()-2; i++){\r\n    String temp = str.substring(i,i+3);\r\n    if(temp.compareTo(\"cat\")==0)\r\n      cat++;\r\n     if(temp.compareTo(\"dog\")==0)\r\n      dog++;\r\n  }\r\n  return cat==dog?true:false;\r\n    \r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":12287338,"reputation":1,"user_id":8966142,"display_name":"Siddharth Pathak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511242133,"creation_date":1511240617,"answer_id":47405575,"question_id":2540725,"body_markdown":"    public boolean catDog(String str) {\r\n        int count=0;\r\n        int flag=0;\r\n        for (int i=0; i&lt;str.length()-2; i++)\r\n        {\r\n            if (str.length()&gt;=3&amp;&amp;str.substring(i,i+3).equals(&quot;cat&quot;))\r\n                count++;\r\n            if (str.length()&gt;=3&amp;&amp;str.substring(i,i+3).equals(&quot;dog&quot;))\r\n                flag++;\r\n        }\r\n\r\n        if (count==flag)\r\n            return true;\r\n        else \r\n           return false;\r\n    }\r\n","title":"catDog string problem at Codingbat.com","body":"<pre><code>public boolean catDog(String str) {\n    int count=0;\n    int flag=0;\n    for (int i=0; i&lt;str.length()-2; i++)\n    {\n        if (str.length()&gt;=3&amp;&amp;str.substring(i,i+3).equals(\"cat\"))\n            count++;\n        if (str.length()&gt;=3&amp;&amp;str.substring(i,i+3).equals(\"dog\"))\n            flag++;\n    }\n\n    if (count==flag)\n        return true;\n    else \n       return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14070224,"reputation":31,"user_id":10163903,"display_name":"Morriss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533103390,"creation_date":1533102676,"answer_id":51626126,"question_id":2540725,"body_markdown":"You will want to iterate each character in your string and then check to see if the substring is equal to either cat or dog and increments the counts.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public boolean catDog(String str) {\r\n\r\n      int end = str.length();\r\n      int cDog = 0;\r\n      int cCat = 0;\r\n    \r\n      // We don&#39;t need to go to the end because cat/dog are 3 characters long each. So we can avoid extra checks.\r\n      for (int i=0; i &lt; end-2; i++) {\r\n            if(str.substring(i, i+3).equals(&quot;cat&quot;)) {\r\n              cCat++;\r\n            } else if(str.substring(i, i+3).equals(&quot;dog&quot;)) {\r\n              cDog++;\r\n            }  \r\n       }\r\n\r\n       return cCat == cDog ? true : false;\r\n    }\r\n","title":"catDog string problem at Codingbat.com","body":"<p>You will want to iterate each character in your string and then check to see if the substring is equal to either cat or dog and increments the counts.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public boolean catDog(String str) {\n\n  int end = str.length();\n  int cDog = 0;\n  int cCat = 0;\n\n  // We don't need to go to the end because cat/dog are 3 characters long each. So we can avoid extra checks.\n  for (int i=0; i &lt; end-2; i++) {\n        if(str.substring(i, i+3).equals(\"cat\")) {\n          cCat++;\n        } else if(str.substring(i, i+3).equals(\"dog\")) {\n          cDog++;\n        }  \n   }\n\n   return cCat == cDog ? true : false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user6156595"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570259091,"creation_date":1570253504,"answer_id":58245625,"question_id":2540725,"body_markdown":"```\r\npublic boolean catDog(String str) {\r\n\r\n  return str.replace(&quot;cat&quot;,&quot;@@&quot;).length()==str.replace(&quot;dog&quot;,&quot;&amp;&amp;&quot;).length();\r\n\r\n}\r\n```","title":"catDog string problem at Codingbat.com","body":"<pre><code>public boolean catDog(String str) {\n\n  return str.replace(\"cat\",\"@@\").length()==str.replace(\"dog\",\"&amp;&amp;\").length();\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19290120,"reputation":1,"user_id":14100333,"display_name":"Ben91"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597332365,"creation_date":1597332365,"answer_id":63398319,"question_id":2540725,"body_markdown":"My simple python solution:\r\n```\r\ndef cat_dog(str):\r\n  \r\n  cat_sum, dog_sum = 0, 0\r\n  for i in range(len(str)-1):\r\n    if str[i:i+3] == &#39;cat&#39;:\r\n      cat_sum += 1\r\n    elif str[i:i+3] == &#39;dog&#39;:\r\n        dog_sum += 1\r\n  if dog_sum == cat_sum:\r\n    return True\r\n  else:\r\n    return False\r\n```","title":"catDog string problem at Codingbat.com","body":"<p>My simple python solution:</p>\n<pre><code>def cat_dog(str):\n  \n  cat_sum, dog_sum = 0, 0\n  for i in range(len(str)-1):\n    if str[i:i+3] == 'cat':\n      cat_sum += 1\n    elif str[i:i+3] == 'dog':\n        dog_sum += 1\n  if dog_sum == cat_sum:\n    return True\n  else:\n    return False\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21308464,"reputation":1,"user_id":15683279,"display_name":"user15683279"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618760592,"creation_date":1618760498,"answer_id":67150398,"question_id":2540725,"body_markdown":"```java\r\n#String-2 &gt; cat_dog(pyton 3)\r\ndef cat_dog(str):\r\n    c_c=0\r\n    c_d=0\r\n    for i  in range(len(str)-2):\r\n        if str[i:i+3]==&#39;cat&#39;:\r\n            c_c+=1\r\n        if str[i:i+3]== &#39;dog&#39;:\r\n            c_d+=1\r\n    return c_c==c_d\r\n```","title":"catDog string problem at Codingbat.com","body":"<pre class=\"lang-java prettyprint-override\"><code>#String-2 &gt; cat_dog(pyton 3)\ndef cat_dog(str):\n    c_c=0\n    c_d=0\n    for i  in range(len(str)-2):\n        if str[i:i+3]=='cat':\n            c_c+=1\n        if str[i:i+3]== 'dog':\n            c_d+=1\n    return c_c==c_d\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8733553,"reputation":1,"user_id":6532851,"display_name":"Amarnadh Reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651613309,"creation_date":1651613309,"answer_id":72105648,"question_id":2540725,"body_markdown":"This helps:\r\n\r\n    def cat_dog(str):\r\n        return str.count(&#39;cat&#39;)==str.count(&#39;dog&#39;)","title":"catDog string problem at Codingbat.com","body":"<p>This helps:</p>\n<pre><code>def cat_dog(str):\n    return str.count('cat')==str.count('dog')\n</code></pre>\n"}],"owner":{"account_id":604104,"reputation":39,"user_id":304527,"display_name":"stanny110"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14901,"favorite_count":0,"down_vote_count":3,"up_vote_count":6,"answer_count":15,"score":3,"last_activity_date":1666739307,"creation_date":1269891505,"question_id":2540725,"body_markdown":"Could anyone check my solution?\r\n\r\nI want to return true if the string &quot;cat&quot; and &quot;dog&quot; appear the same number of times in the given string. There are various strings with different numbers of &quot;cat&quot; and &quot;dog&quot;.\r\n\r\n    public boolean catDog(String str) \r\n    {  \r\n      int catAnswer = 0;\r\n      int dogAnswer = 0;\r\n      int cat_Count = 0;\r\n      int dog_Count = 0;\r\n      \r\n      for (int i=0; i&lt; str.length()-1; i++) \r\n      {\r\n        String sub = str.substring(i, i+2);\r\n         \r\n         \r\n        if ((sub.equals(&quot;cat&quot;)))  cat_Count++;\r\n        if ((sub.equals(&quot;dog&quot;)))  dog_Count++;\r\n        catAnswer = cat_Count; \r\n        dogAnswer = dog_Count;\r\n    \r\n      } //end for\r\n       \r\n      if(dogAnswer == catAnswer ) {return true;}\r\n      // else\r\n      return (dogAnswer != catAnswer);\r\n    }\r\n\r\nUPDATE: \r\n\r\n 1. If i use i + 3 i get an error code\r\n    Exception:java.lang.StringIndexOutOfBoundsException:\r\n    String index out of range: 7 (line\r\n    number:10) - hence i use i + 2 (no\r\n    errors are reported with it \r\n    \r\n 2. Changing to i &lt; str.length() - 4 gives a blanket response of true\r\n    despite some of the test strings\r\n    containing an unequal number of\r\n    &quot;cat&quot; &amp; &quot;dog &quot; tokens\r\n\r\nThe crux of the problem is that the response is either all true or all false when there is variable numbers of &quot;cat&quot; &amp; &quot;dog&quot; in the various strings\r\n\r\nthe output from the code can be seen at http://codingbat.com/prob/p111624 - catDog string problem\r\n\r\nPlease try in cutting and pasting my code to see the output - this will explain more graphically than i could say\r\n","title":"catDog string problem at Codingbat.com","body":"<p>Could anyone check my solution?</p>\n\n<p>I want to return true if the string \"cat\" and \"dog\" appear the same number of times in the given string. There are various strings with different numbers of \"cat\" and \"dog\".</p>\n\n<pre><code>public boolean catDog(String str) \n{  \n  int catAnswer = 0;\n  int dogAnswer = 0;\n  int cat_Count = 0;\n  int dog_Count = 0;\n\n  for (int i=0; i&lt; str.length()-1; i++) \n  {\n    String sub = str.substring(i, i+2);\n\n\n    if ((sub.equals(\"cat\")))  cat_Count++;\n    if ((sub.equals(\"dog\")))  dog_Count++;\n    catAnswer = cat_Count; \n    dogAnswer = dog_Count;\n\n  } //end for\n\n  if(dogAnswer == catAnswer ) {return true;}\n  // else\n  return (dogAnswer != catAnswer);\n}\n</code></pre>\n\n<p>UPDATE: </p>\n\n<ol>\n<li><p>If i use i + 3 i get an error code\nException:java.lang.StringIndexOutOfBoundsException:\nString index out of range: 7 (line\nnumber:10) - hence i use i + 2 (no\nerrors are reported with it </p></li>\n<li><p>Changing to i &lt; str.length() - 4 gives a blanket response of true\ndespite some of the test strings\ncontaining an unequal number of\n\"cat\" &amp; \"dog \" tokens</p></li>\n</ol>\n\n<p>The crux of the problem is that the response is either all true or all false when there is variable numbers of \"cat\" &amp; \"dog\" in the various strings</p>\n\n<p>the output from the code can be seen at <a href=\"http://codingbat.com/prob/p111624\" rel=\"nofollow noreferrer\">http://codingbat.com/prob/p111624</a> - catDog string problem</p>\n\n<p>Please try in cutting and pasting my code to see the output - this will explain more graphically than i could say</p>\n"},{"tags":["java","singleton","powermock","suppress"],"answers":[{"tags":[],"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666738922,"creation_date":1321051786,"answer_id":8100905,"question_id":8100816,"body_markdown":"You need to annotate `TestClass` with the `@PrepareForTest` annotation so it has a chance to manipulate the bytecode of the singletons.\r\n\r\nAlso, the superclass ctor supression signature should include `somevar`&#39;s class; right now you&#39;re just suppressing the default ctor. \r\n\r\nSee the [`@PrepareForTest` API docs.][1] Here&#39;s a [blog post][2] with some more details as well.\r\n\r\nFWIW, it&#39;s working for me:\r\n\r\n```java\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest({EvilBase.class, NicerSingleton.class})\r\n    public class TestEvil {\r\n    \r\n        @Test\r\n        public void testEvil() {\r\n            suppress(constructor(EvilBase.class));\r\n            assertEquals(69, EvilBase.getInstance().theMethod());\r\n        }\r\n    \r\n        @Test \r\n        public void testNice() {\r\n            suppress(constructor(EvilBase.class));\r\n            suppress(constructor(NicerSingleton.class));\r\n            assertEquals(42, NicerSingleton.getInstance().theMethod());\r\n        }\r\n\r\n    }\r\n```\r\n\r\n\r\n\r\n  [1]: http://powermock.googlecode.com/svn/docs/powermock-1.3.7/apidocs/org/powermock/core/classloader/annotations/PrepareForTest.html\r\n  [2]: http://www.gitshah.com/2010/06/how-to-supress-methods-and-constructors.html\r\n","title":"suppress a singleton constructor in java with powermock","body":"<p>You need to annotate <code>TestClass</code> with the <code>@PrepareForTest</code> annotation so it has a chance to manipulate the bytecode of the singletons.</p>\n<p>Also, the superclass ctor supression signature should include <code>somevar</code>'s class; right now you're just suppressing the default ctor.</p>\n<p>See the <a href=\"http://powermock.googlecode.com/svn/docs/powermock-1.3.7/apidocs/org/powermock/core/classloader/annotations/PrepareForTest.html\" rel=\"nofollow noreferrer\"><code>@PrepareForTest</code> API docs.</a> Here's a <a href=\"http://www.gitshah.com/2010/06/how-to-supress-methods-and-constructors.html\" rel=\"nofollow noreferrer\">blog post</a> with some more details as well.</p>\n<p>FWIW, it's working for me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @RunWith(PowerMockRunner.class)\n    @PrepareForTest({EvilBase.class, NicerSingleton.class})\n    public class TestEvil {\n    \n        @Test\n        public void testEvil() {\n            suppress(constructor(EvilBase.class));\n            assertEquals(69, EvilBase.getInstance().theMethod());\n        }\n    \n        @Test \n        public void testNice() {\n            suppress(constructor(EvilBase.class));\n            suppress(constructor(NicerSingleton.class));\n            assertEquals(42, NicerSingleton.getInstance().theMethod());\n        }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":265406,"reputation":3155,"user_id":552347,"display_name":"Ravi Bhatt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548679827,"creation_date":1321051981,"answer_id":8100938,"question_id":8100816,"body_markdown":"I am not sure what is it that you are doing wrong. But on the design side, i can suggest you look into dependency injection i.e. DI.\r\n\r\nFor making your code testable, make use of DI. With DI you would pass the singleton class as an constructor argument to your test class. And now since you pass an argument, inside your test case you can create a custom implementation of the `AbstractSingleton` class and your test case should work fine.\r\n\r\nWith DI, your code will become more testable. ","title":"suppress a singleton constructor in java with powermock","body":"<p>I am not sure what is it that you are doing wrong. But on the design side, i can suggest you look into dependency injection i.e. DI.</p>\n\n<p>For making your code testable, make use of DI. With DI you would pass the singleton class as an constructor argument to your test class. And now since you pass an argument, inside your test case you can create a custom implementation of the <code>AbstractSingleton</code> class and your test case should work fine.</p>\n\n<p>With DI, your code will become more testable. </p>\n"},{"tags":[],"owner":{"account_id":114124,"reputation":10809,"user_id":300248,"accept_rate":74,"display_name":"simpatico"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1321563283,"creation_date":1321563283,"answer_id":8174161,"question_id":8100816,"body_markdown":"How about you set the instance field (`&#39;only&#39;` in your code) of your Singleton with an instance instantiated with the constructor you want (you can do all of this with the Reflection API or [dp4j][1]).\r\n\r\nThe motivating example of [a dp4j publication][2] discusses that.\r\n\r\n  [1]: http://dp4j.com\r\n  [2]: https://docs.google.com/viewer?a=v&amp;pid=explorer&amp;chrome=true&amp;srcid=0B7OkJm_8TIzzMGIzYzM4NDktZDhiNS00NmVlLTg1OTgtN2ZlMDdmNmYxYzY5&amp;hl=en","title":"suppress a singleton constructor in java with powermock","body":"<p>How about you set the instance field (<code>'only'</code> in your code) of your Singleton with an instance instantiated with the constructor you want (you can do all of this with the Reflection API or <a href=\"http://dp4j.com\" rel=\"nofollow\">dp4j</a>).</p>\n\n<p>The motivating example of <a href=\"https://docs.google.com/viewer?a=v&amp;pid=explorer&amp;chrome=true&amp;srcid=0B7OkJm_8TIzzMGIzYzM4NDktZDhiNS00NmVlLTg1OTgtN2ZlMDdmNmYxYzY5&amp;hl=en\" rel=\"nofollow\">a dp4j publication</a> discusses that.</p>\n"}],"owner":{"account_id":1034930,"reputation":85,"user_id":1042480,"display_name":"Chad Blomquist"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8581,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":8100905,"answer_count":3,"score":4,"last_activity_date":1666738922,"creation_date":1321050985,"question_id":8100816,"body_markdown":"I&#39;m trying to unit-test some classes that make use of a Singleton class whose constructor does some things I can&#39;t (and shouldn&#39;t) do from the unit-test environment. My ideal scenario would be to end up with the constructor completely suppressed and then stub out the other member methods that my test classes invoke. My problem is that I can&#39;t seem to get the constructor suppressed.\r\n\r\nMy understanding of a way to solve this would be something like the following:\r\n\r\n    public class MySingleton extends AbstractSingletonParent {\r\n        public final static MySingleton Only = new MySingleton();\r\n        private MySingleton(){\r\n            super(someVar); // I want the super-class constructor to not be called\r\n            //\r\n            //more code I want to avoid\r\n        }\r\n    \r\n        public Object stubbedMethod() {}\r\n    }\r\n\r\n    public class ClassToBeTested {\r\n        public void SomeMethod(){\r\n            Object o = MySingleton.Only.stubbedMethod();\r\n        }\r\n    }\r\n\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest(MySingleton.class)\r\n    public class TestClass {\r\n        @Test\r\n        public void SomeTest() {\r\n            suppress(constructor(MySingleton.class));\r\n            mockStatic(MySingleton.class);\r\n            \r\n            PowerMock.replay(MySingleton.class);\r\n            // invoke ClassToBeTested, etc\r\n            \r\n            PowerMock.verify(MySingleton.class);\r\n\r\n            //make some assertions\r\n        }\r\n    }\r\n\r\n\r\nUnfortunately during the createMock invocation, the MySingleton constructor is hit, and it still calls the super constructor.\r\n\r\nAm I doing something silly? I found an example on the web doing almost exactly this, but it was using a deprecated suppressConstructor method. Despite the deprecation I tried that, too, to no avail...\r\n\r\nIs what I&#39;m trying to do possible? If so, what am I doing wrong?\r\n\r\n\r\n\r\n*Edited version now works.\r\n","title":"suppress a singleton constructor in java with powermock","body":"<p>I'm trying to unit-test some classes that make use of a Singleton class whose constructor does some things I can't (and shouldn't) do from the unit-test environment. My ideal scenario would be to end up with the constructor completely suppressed and then stub out the other member methods that my test classes invoke. My problem is that I can't seem to get the constructor suppressed.</p>\n\n<p>My understanding of a way to solve this would be something like the following:</p>\n\n<pre><code>public class MySingleton extends AbstractSingletonParent {\n    public final static MySingleton Only = new MySingleton();\n    private MySingleton(){\n        super(someVar); // I want the super-class constructor to not be called\n        //\n        //more code I want to avoid\n    }\n\n    public Object stubbedMethod() {}\n}\n\npublic class ClassToBeTested {\n    public void SomeMethod(){\n        Object o = MySingleton.Only.stubbedMethod();\n    }\n}\n\n\n@RunWith(PowerMockRunner.class)\n@PrepareForTest(MySingleton.class)\npublic class TestClass {\n    @Test\n    public void SomeTest() {\n        suppress(constructor(MySingleton.class));\n        mockStatic(MySingleton.class);\n\n        PowerMock.replay(MySingleton.class);\n        // invoke ClassToBeTested, etc\n\n        PowerMock.verify(MySingleton.class);\n\n        //make some assertions\n    }\n}\n</code></pre>\n\n<p>Unfortunately during the createMock invocation, the MySingleton constructor is hit, and it still calls the super constructor.</p>\n\n<p>Am I doing something silly? I found an example on the web doing almost exactly this, but it was using a deprecated suppressConstructor method. Despite the deprecation I tried that, too, to no avail...</p>\n\n<p>Is what I'm trying to do possible? If so, what am I doing wrong?</p>\n\n<p>*Edited version now works.</p>\n"},{"tags":["java","sdk","sdkman"],"answers":[{"tags":[],"owner":{"account_id":4393877,"reputation":6964,"user_id":3581539,"accept_rate":48,"display_name":"Kirill"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666737556,"creation_date":1666737556,"answer_id":74200863,"question_id":73490734,"body_markdown":"Unfortunately, as for now it&#39;s not supported. There is an open feature request ([#1102](https://github.com/sdkman/sdkman-cli/issues/1102)) to support this.\r\n\r\nIt [was also suggested to respect the closest `.sdkmanrc`](https://github.com/sdkman/sdkman-cli/issues/756#issuecomment-622947190) on the initial auto-env feature implementation, but was decided to keep it simple first.","title":"Why does sdkman not update Java SDK version for project subdirectories?","body":"<p>Unfortunately, as for now it's not supported. There is an open feature request (<a href=\"https://github.com/sdkman/sdkman-cli/issues/1102\" rel=\"nofollow noreferrer\">#1102</a>) to support this.</p>\n<p>It <a href=\"https://github.com/sdkman/sdkman-cli/issues/756#issuecomment-622947190\" rel=\"nofollow noreferrer\">was also suggested to respect the closest <code>.sdkmanrc</code></a> on the initial auto-env feature implementation, but was decided to keep it simple first.</p>\n"}],"owner":{"account_id":3484828,"reputation":11,"user_id":2916035,"display_name":"Brockenbrough"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666737556,"creation_date":1661443932,"question_id":73490734,"body_markdown":"After setting the Java version for a project directory via the .sdkmanenv file, the Java versions only gets updated when navigating to the root directory.\r\n\r\nIs this just expected behavior?\r\nDoes the .sdkmanrc file need to be propagated to all sub-directories? \r\n\r\nExample:\r\n\r\n```\r\n~ % mkdir root_dir\r\n~ % cd root_dir\r\nroot_dir % mkdir sub_dir\r\nroot_dir % sdk env init\r\n  .sdkmanrc created.\r\nroot_dir % cat .sdkmanrc\r\n  # Enable auto-env through the sdkman_auto_env \r\n  config\r\n  # Add key=value pairs of SDKs to use below\r\n  java=8.0.345-tem\r\nroot_dir % sed -i&quot;&quot; -e &#39;s/8.0.345-tem/11.0.16-tem/&#39; .sdkmanrc\r\nroot_dir % cat .sdkmanrc\r\n  # Enable auto-env through the sdkman_auto_env config\r\n  # Add key=value pairs of SDKs to use below\r\n  java=11.0.16-tem\r\nroot_dir % cd ..\r\n~ % cd root_dir/sub_dir\r\nsub_dir % cd ..\r\n  Using java version 11.0.16-tem in this shell.\r\nroot_dir % cd ..\r\n  Restored java version to 8.0.345-tem (default)\r\n```\r\nFor reference, I am using the following versions of sdkman and macOS, respectively.\r\n```\r\n% sdk version\r\nSDKMAN 5.16.0\r\n\r\n#macOS version\r\n% sw_vers -productVersion\r\n12.5.1\r\n```\r\nAlso, I have &#39;sdkman_auto_env=true&#39; set via &#39;sdk config&#39;\r\n```\r\n% grep sdkman_auto_env .sdkman/etc/config\r\nsdkman_auto_env=true\r\n```","title":"Why does sdkman not update Java SDK version for project subdirectories?","body":"<p>After setting the Java version for a project directory via the .sdkmanenv file, the Java versions only gets updated when navigating to the root directory.</p>\n<p>Is this just expected behavior?\nDoes the .sdkmanrc file need to be propagated to all sub-directories?</p>\n<p>Example:</p>\n<pre><code>~ % mkdir root_dir\n~ % cd root_dir\nroot_dir % mkdir sub_dir\nroot_dir % sdk env init\n  .sdkmanrc created.\nroot_dir % cat .sdkmanrc\n  # Enable auto-env through the sdkman_auto_env \n  config\n  # Add key=value pairs of SDKs to use below\n  java=8.0.345-tem\nroot_dir % sed -i&quot;&quot; -e 's/8.0.345-tem/11.0.16-tem/' .sdkmanrc\nroot_dir % cat .sdkmanrc\n  # Enable auto-env through the sdkman_auto_env config\n  # Add key=value pairs of SDKs to use below\n  java=11.0.16-tem\nroot_dir % cd ..\n~ % cd root_dir/sub_dir\nsub_dir % cd ..\n  Using java version 11.0.16-tem in this shell.\nroot_dir % cd ..\n  Restored java version to 8.0.345-tem (default)\n</code></pre>\n<p>For reference, I am using the following versions of sdkman and macOS, respectively.</p>\n<pre><code>% sdk version\nSDKMAN 5.16.0\n\n#macOS version\n% sw_vers -productVersion\n12.5.1\n</code></pre>\n<p>Also, I have 'sdkman_auto_env=true' set via 'sdk config'</p>\n<pre><code>% grep sdkman_auto_env .sdkman/etc/config\nsdkman_auto_env=true\n</code></pre>\n"},{"tags":["java","date","datetime"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666340361,"post_id":74150169,"comment_id":130918436,"body_markdown":"What is `Holiday`, why do you need this class to begin with?","body":"What is <code>Holiday</code>, why do you need this class to begin with?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":5,"creation_date":1666340487,"post_id":74150169,"comment_id":130918476,"body_markdown":"Why are you mixing legacy `Date` API with the new Java-time API, meaning why do you need both `LocalDate` and legacy `Date`?","body":"Why are you mixing legacy <code>Date</code> API with the new Java-time API, meaning why do you need both <code>LocalDate</code> and legacy <code>Date</code>?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":2,"creation_date":1666340756,"post_id":74150169,"comment_id":130918549,"body_markdown":"`.noneMatch(app2 -&gt; Hoildays.getHoildayDate().equals(list))` - condition inside `noneMatch()` is wrong for several reasons. The most obvious: it doesn&#39;t check stream elements, which makes the stream poinless.","body":"<code>.noneMatch(app2 -&gt; Hoildays.getHoildayDate().equals(list))</code> - condition inside <code>noneMatch()</code> is wrong for several reasons. The most obvious: it doesn&#39;t check stream elements, which makes the stream poinless."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666341199,"post_id":74150169,"comment_id":130918719,"body_markdown":"Your current question is unclear. Please, improve it, use the *edit* button or this [link](https://stackoverflow.com/posts/74150169/edit).","body":"Your current question is unclear. Please, improve it, use the <i>edit</i> button or this <a href=\"https://stackoverflow.com/posts/74150169/edit\">link</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1666348214,"post_id":74150169,"comment_id":130921050,"body_markdown":"I strongly recommend you dont use `SimpleDateFormat` nor `Date` (any of the `Date` classes). They are troublesome, poorly designed and long outdated, nothing you want to struggle with. Use `LocalDate`. See also [Insert &amp; fetch java.time.LocalDate objects to/from an SQL database such as H2](https://stackoverflow.com/questions/43039614/insert-fetch-java-time-localdate-objects-to-from-an-sql-database-such-as-h2).","body":"I strongly recommend you dont use <code>SimpleDateFormat</code> nor <code>Date</code> (any of the <code>Date</code> classes). They are troublesome, poorly designed and long outdated, nothing you want to struggle with. Use <code>LocalDate</code>. See also <a href=\"https://stackoverflow.com/questions/43039614/insert-fetch-java-time-localdate-objects-to-from-an-sql-database-such-as-h2\">Insert &amp; fetch java.time.LocalDate objects to/from an SQL database such as H2</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1666348770,"post_id":74150169,"comment_id":130921219,"body_markdown":"Id probably convert the list of `Holiday` to a list of `LocalDate` using a not too complicated stream operation. And then call `removeAll()` on a copy of the list of the employees leave dates (assuming they are `LocalDate` too).","body":"Id probably convert the list of <code>Holiday</code> to a list of <code>LocalDate</code> using a not too complicated stream operation. And then call <code>removeAll()</code> on a copy of the list of the employees leave dates (assuming they are <code>LocalDate</code> too)."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666735285,"creation_date":1666734459,"answer_id":74200536,"question_id":74150169,"body_markdown":"# tl;dr\r\n\r\nAddressing a simplified version of your Question&#39;s problem, narrowing down a list of holidays to those landing on weekdays.\r\n\r\n    new TreeSet&lt; LocalDate &gt;()\r\n    \r\n    .stream()\r\n    .filter( localDate -&gt; ! Set.of( DayOfWeek.SATURDAY , DayOfWeek.SUNDAY ).contains( localDate )\r\n    .toList() \r\n\r\n\r\n# Details\r\n\r\n&gt;The class Name is Holiday, it holds only one variable named holiday date.\r\n\r\nSo drop the class. If its only feature is a member field holding a date value, just use [`java.time.LocalDate`][1].\r\n\r\nAvoid legacy date-time classes. **Use only *java.time* classes.** Never use `SimpleDateFormat` nor either of the `Date` classes. \r\n\r\nI imagine it would be helpful to use the holiday dates in their chronological order. So we use [`NavigableSet`][2] interface, with implementation [`TreeSet`][3]. A [`Set`][4] eliminates duplicates.\r\n\r\n    final NavigableSet&lt; LocalDate &gt; holidays = new TreeSet&lt;&gt;() ;\r\n    \r\n    LocalDate ld = myResultSet.getObject(  , LocalDate.class ) ;\r\n    holidays.add( ld ) ;\r\n\r\nI will drastically simplify your Question to ignore the employee aspect, and instead narrow down this set of holidays to those dates not landing on a Saturday or Sunday. You can apply the same principles in similar code to address your employee problem.\r\n\r\nUse the `java.time.DayOfWeek` enum for day of week. Use an `EnumSet` for efficiency in defining an weekend.\r\n\r\n    final Set&lt; DayOfWeek &gt; weekend = EnumSet.of( SATURDAY , SUNDAY ) ;\r\n\r\nFilter your set of holidays.\r\n\r\n    List&lt; LocalDate &gt; weekdayHolidays = \r\n        holidays\r\n        .stream()\r\n        .filter( holiday -&gt; ! weekend.contains( holiday ) )\r\n        .toList() ;\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableSet.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/TreeSet.html\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html","title":"how to sort weekends from the Date array list in java","body":"<h1>tl;dr</h1>\n<p>Addressing a simplified version of your Question's problem, narrowing down a list of holidays to those landing on weekdays.</p>\n<pre><code>new TreeSet&lt; LocalDate &gt;()\n\n.stream()\n.filter( localDate -&gt; ! Set.of( DayOfWeek.SATURDAY , DayOfWeek.SUNDAY ).contains( localDate )\n.toList() \n</code></pre>\n<h1>Details</h1>\n<blockquote>\n<p>The class Name is Holiday, it holds only one variable named holiday date.</p>\n</blockquote>\n<p>So drop the class. If its only feature is a member field holding a date value, just use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>java.time.LocalDate</code></a>.</p>\n<p>Avoid legacy date-time classes. <strong>Use only <em>java.time</em> classes.</strong> Never use <code>SimpleDateFormat</code> nor either of the <code>Date</code> classes.</p>\n<p>I imagine it would be helpful to use the holiday dates in their chronological order. So we use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableSet.html\" rel=\"nofollow noreferrer\"><code>NavigableSet</code></a> interface, with implementation <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/TreeSet.html\" rel=\"nofollow noreferrer\"><code>TreeSet</code></a>. A <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html\" rel=\"nofollow noreferrer\"><code>Set</code></a> eliminates duplicates.</p>\n<pre><code>final NavigableSet&lt; LocalDate &gt; holidays = new TreeSet&lt;&gt;() ;\n\nLocalDate ld = myResultSet.getObject(  , LocalDate.class ) ;\nholidays.add( ld ) ;\n</code></pre>\n<p>I will drastically simplify your Question to ignore the employee aspect, and instead narrow down this set of holidays to those dates not landing on a Saturday or Sunday. You can apply the same principles in similar code to address your employee problem.</p>\n<p>Use the <code>java.time.DayOfWeek</code> enum for day of week. Use an <code>EnumSet</code> for efficiency in defining an weekend.</p>\n<pre><code>final Set&lt; DayOfWeek &gt; weekend = EnumSet.of( SATURDAY , SUNDAY ) ;\n</code></pre>\n<p>Filter your set of holidays.</p>\n<pre><code>List&lt; LocalDate &gt; weekdayHolidays = \n    holidays\n    .stream()\n    .filter( holiday -&gt; ! weekend.contains( holiday ) )\n    .toList() ;\n</code></pre>\n"}],"owner":{"account_id":26621031,"reputation":19,"user_id":20239816,"display_name":"Hari Krishnan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1666735285,"creation_date":1666337488,"question_id":74150169,"body_markdown":"  I just want to (filter/sort/remove) the weekends(Saturday and Sunday) in the list and store them in a new list in java.\r\ni). The class Name is Holiday, it holds only one variable named holiday date.\r\n\r\nii). And I have a table named Holiday, in this table I have data stored (Holidays list for 2022), totally I have 17 records in a table.\r\n\r\niii). That table data record can be fetched as a list.\r\n\r\niv). Have to find, if the employee takes a leave, that comes in holiday.\r\n\r\nv). Now, compare an employee holiday with the Holidays list for 2022(17 records) \r\n\r\nvi)If employee leave is the same as the date of the holiday list means I want to remove it and filter other normal working days &amp; Store the dates in new array list.\r\n\r\nvii) I just check the what diff between the two date formats.\r\n\r\nviii) I am new to Java 8 concepts so. now only I start to learn java 8 \r\nthat&#39;s why face this problem I just copy the code from this link and alternate it stackoverflow.com/questions/58134699/\r\n\r\n    \t\r\n\t\t\r\n\t\t  String from=&quot;28/04/2022&quot;,;\r\n\t        String to=&quot;28/07/2022&quot;,;\r\n\t       \r\n\t        Date d_from = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).parse(from);\r\n\t        Date d_to = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).parse(to);\r\n\t       \r\n\t        //System.out.println(d_from.getTime());\r\n\t       \r\n\t        long t1=d_from.getTime();\r\n\t        long t2=d_to.getTime();\r\n\t       \r\n\t        SimpleDateFormat f=new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n\t        \r\n\t        List&lt;Hoilday&gt; Hoilday_list = new ArrayList&lt;&gt;();\r\n            Map&lt;String, Object&gt; paramMap = new HashMap&lt;&gt;();\r\n            \r\n            StringBuilder sb = new StringBuilder();\r\n    \t\tString sql = &quot;&quot;;\r\n    \t\tsb.append(&quot;select holidayDate as hoildayDate from hoildays &quot;);\r\n    \t\tsql = sb.toString();\r\n    \t\tHoilday_list = namedParameter.query(sql, paramMap, new BeanPropertyRowMapper&lt;&gt;(Hoilday.class));\r\n\t       \r\n\t        if(t1&lt;t2)\r\n\t        {\r\n\t            //1 = 1000\r\n\t            for(long i=t1;i&lt;=t2;i+=86400000)\r\n\t            {\r\n\t              \r\n         \r\n\t               String allDates  = f.format(i);\r\n\t             List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n\t            list.add(allDates);\r\n           \r\n\t    \t\t\r\n\t          \r\n\t    \t\tfor(Hoilday Hoildays: Hoilday_list) {\r\n\t    \t\t\t\r\n\t    \t\t\t\r\n\t    \t\t\tList&lt;Hoilday&gt; result = Hoilday_list.stream()\r\n\t    \t\t\t        .filter(app1 -&gt; list.stream()\r\n\t    \t\t\t                .noneMatch(app2 -&gt; Hoildays.getHoildayDate().equals(list)))\r\n\t    \t\t\t        .collect(Collectors.toList());\r\n\t    \t\tlog.info(result);\r\n\r\nIn Advance Thank you for solving the question.\r\n\r\n ","title":"how to sort weekends from the Date array list in java","body":"<p>I just want to (filter/sort/remove) the weekends(Saturday and Sunday) in the list and store them in a new list in java.\ni). The class Name is Holiday, it holds only one variable named holiday date.</p>\n<p>ii). And I have a table named Holiday, in this table I have data stored (Holidays list for 2022), totally I have 17 records in a table.</p>\n<p>iii). That table data record can be fetched as a list.</p>\n<p>iv). Have to find, if the employee takes a leave, that comes in holiday.</p>\n<p>v). Now, compare an employee holiday with the Holidays list for 2022(17 records)</p>\n<p>vi)If employee leave is the same as the date of the holiday list means I want to remove it and filter other normal working days &amp; Store the dates in new array list.</p>\n<p>vii) I just check the what diff between the two date formats.</p>\n<p>viii) I am new to Java 8 concepts so. now only I start to learn java 8\nthat's why face this problem I just copy the code from this link and alternate it stackoverflow.com/questions/58134699/</p>\n<pre><code>      String from=&quot;28/04/2022&quot;,;\n        String to=&quot;28/07/2022&quot;,;\n       \n        Date d_from = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).parse(from);\n        Date d_to = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).parse(to);\n       \n        //System.out.println(d_from.getTime());\n       \n        long t1=d_from.getTime();\n        long t2=d_to.getTime();\n       \n        SimpleDateFormat f=new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n        \n        List&lt;Hoilday&gt; Hoilday_list = new ArrayList&lt;&gt;();\n        Map&lt;String, Object&gt; paramMap = new HashMap&lt;&gt;();\n        \n        StringBuilder sb = new StringBuilder();\n        String sql = &quot;&quot;;\n        sb.append(&quot;select holidayDate as hoildayDate from hoildays &quot;);\n        sql = sb.toString();\n        Hoilday_list = namedParameter.query(sql, paramMap, new BeanPropertyRowMapper&lt;&gt;(Hoilday.class));\n       \n        if(t1&lt;t2)\n        {\n            //1 = 1000\n            for(long i=t1;i&lt;=t2;i+=86400000)\n            {\n              \n     \n               String allDates  = f.format(i);\n             List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n            list.add(allDates);\n       \n            \n          \n            for(Hoilday Hoildays: Hoilday_list) {\n                \n                \n                List&lt;Hoilday&gt; result = Hoilday_list.stream()\n                        .filter(app1 -&gt; list.stream()\n                                .noneMatch(app2 -&gt; Hoildays.getHoildayDate().equals(list)))\n                        .collect(Collectors.toList());\n            log.info(result);\n</code></pre>\n<p>In Advance Thank you for solving the question.</p>\n"},{"tags":["java","arrays","object"],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666734768,"creation_date":1666734768,"answer_id":74200579,"question_id":74200465,"body_markdown":"In Java, declaration and initialization of an object should be as close together as possible, and for newer Java versions you could skip the type on the declaration and replace it with the `var` keyword.\r\n\r\nMaybe this rewrite of your first example explains it better:\r\n``` lang-java\r\nvar obj1 = new SomeObject();\r\nvar obj2 = new SomeObject();\r\nvar obj3 = new SomeObject();\r\n```\r\n\r\nBut don&#39;t think it is equal to JavaScript - in Java you cannot change the type of `obj1`, `obj2` and `obj3` later (e.g. with another assignment), the compiler derives it from the initialization.\r\n\r\nIf you want to have individual names for your variables, this one-by-one is the only way you can initialize them, but don&#39;t initialize everything &quot;at the beginning&quot; but as close to the actual usage as possible. (It&#39;s called _minimize visibility_)\r\n\r\nIf you want to work with an array, as in your second example, and the objects don&#39;t need individual names, but index numbers are fine, you would do it like this:\r\n\r\n``` lang-java\r\nSomeObject[] objectArray = new SomeObject[3];\r\nfor (int i = 0; i &lt; 3; i++) {\r\n    objectArray[i] = new SomeObject(Math.random());\r\n}\r\n\r\nSystem.out.println(objectArray[2]);\r\n\r\nvar obj1 = objectArray[0];\r\nSystem.out.println(obj1);\r\n```\r\n\r\nYou always have to access the elements of the array with the index (`[0]` etc.)\r\n \r\nBut you could assign an element of your array to an individually named variable after the initialization.","title":"Java - Initialize multiple objects using loop","body":"<p>In Java, declaration and initialization of an object should be as close together as possible, and for newer Java versions you could skip the type on the declaration and replace it with the <code>var</code> keyword.</p>\n<p>Maybe this rewrite of your first example explains it better:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var obj1 = new SomeObject();\nvar obj2 = new SomeObject();\nvar obj3 = new SomeObject();\n</code></pre>\n<p>But don't think it is equal to JavaScript - in Java you cannot change the type of <code>obj1</code>, <code>obj2</code> and <code>obj3</code> later (e.g. with another assignment), the compiler derives it from the initialization.</p>\n<p>If you want to have individual names for your variables, this one-by-one is the only way you can initialize them, but don't initialize everything &quot;at the beginning&quot; but as close to the actual usage as possible. (It's called <em>minimize visibility</em>)</p>\n<p>If you want to work with an array, as in your second example, and the objects don't need individual names, but index numbers are fine, you would do it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SomeObject[] objectArray = new SomeObject[3];\nfor (int i = 0; i &lt; 3; i++) {\n    objectArray[i] = new SomeObject(Math.random());\n}\n\nSystem.out.println(objectArray[2]);\n\nvar obj1 = objectArray[0];\nSystem.out.println(obj1);\n</code></pre>\n<p>You always have to access the elements of the array with the index (<code>[0]</code> etc.)</p>\n<p>But you could assign an element of your array to an individually named variable after the initialization.</p>\n"}],"owner":{"account_id":16273341,"reputation":81,"user_id":11751265,"display_name":"blaccod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74200579,"answer_count":1,"score":0,"last_activity_date":1666734768,"creation_date":1666733872,"question_id":74200465,"body_markdown":"So I have 5 objects that I want to instantiate them using a for-loop\r\n\r\n```\r\nSomeObject obj1, obj2, obj3, obj4, obj5;\r\n\r\n//Instead of having to write this\r\nobj1 = new SomeObject();\r\nobj2 = new SomeObject();\r\nobj3 = new SomeObject();\r\n\r\n//I want to be able to do this\r\nfor (int i = 0; i &lt; 5; i++) {\r\n    //instantiate the objects with &quot;new&quot; keyword here\r\n}\r\n```\r\n\r\nI have tried using an array, but they only create instances of objects inside the array only, and the original obj1,... didn&#39;t change at all\r\n\r\nWhat I tried:\r\n\r\n```\r\nSomeObject obj1, obj2, obj3, obj4, obj5;\r\n\r\nSomeObject[] objectArray = {obj1, obj2, obj3, obj4, obj5} //IntelliJ gives warning &quot;Value obj1,... is always null&quot;\r\n\r\nfor (int i = 0; i &lt; 5; i++) {\r\n    objectArray[i] = new SomeObject(someRandomValueInsideHere);\r\n}\r\n\r\nSystem.out.println(obj1); //obj1 is still null, even though the loop instantiated the objects\r\nSystem.out.println(objectArray[0]); //this exists. The whole array is also correctly populated\r\n```\r\n\r\nI read somewhere else about java objects being &quot;passing reference by value&quot;. Can someone further explain that? Am I missing something really obvious here?","title":"Java - Initialize multiple objects using loop","body":"<p>So I have 5 objects that I want to instantiate them using a for-loop</p>\n<pre><code>SomeObject obj1, obj2, obj3, obj4, obj5;\n\n//Instead of having to write this\nobj1 = new SomeObject();\nobj2 = new SomeObject();\nobj3 = new SomeObject();\n\n//I want to be able to do this\nfor (int i = 0; i &lt; 5; i++) {\n    //instantiate the objects with &quot;new&quot; keyword here\n}\n</code></pre>\n<p>I have tried using an array, but they only create instances of objects inside the array only, and the original obj1,... didn't change at all</p>\n<p>What I tried:</p>\n<pre><code>SomeObject obj1, obj2, obj3, obj4, obj5;\n\nSomeObject[] objectArray = {obj1, obj2, obj3, obj4, obj5} //IntelliJ gives warning &quot;Value obj1,... is always null&quot;\n\nfor (int i = 0; i &lt; 5; i++) {\n    objectArray[i] = new SomeObject(someRandomValueInsideHere);\n}\n\nSystem.out.println(obj1); //obj1 is still null, even though the loop instantiated the objects\nSystem.out.println(objectArray[0]); //this exists. The whole array is also correctly populated\n</code></pre>\n<p>I read somewhere else about java objects being &quot;passing reference by value&quot;. Can someone further explain that? Am I missing something really obvious here?</p>\n"},{"tags":["java","oauth-2.0"],"comments":[{"owner":{"account_id":14583346,"reputation":863,"user_id":10533012,"display_name":"Elyorbek Ibrokhimov"},"score":0,"creation_date":1666687003,"post_id":74189958,"comment_id":130990256,"body_markdown":"There is a very good article by Tanzu. [Faking OAuth2](https://tanzu.vmware.com/content/pivotal-engineering-journal/faking-oauth2-single-sign-on-in-spring-3-ways). I personally would go with WireMock","body":"There is a very good article by Tanzu. <a href=\"https://tanzu.vmware.com/content/pivotal-engineering-journal/faking-oauth2-single-sign-on-in-spring-3-ways\" rel=\"nofollow noreferrer\">Faking OAuth2</a>. I personally would go with WireMock"}],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666734393,"creation_date":1666698541,"answer_id":74193613,"question_id":74189958,"body_markdown":"My preferred way to go for unit and integration testing of Spring resource-servers (REST APIs secured with OAuth2) is to use no authorization-server at all and mock Authentication. Have a look at unit and integration tests in this [tutorials][1] or [samples][2] for illustration. \r\n\r\nThe exact way to do it depends on quite a few factors, but most are covered in samples linked above: \r\n- are you using MockMvc or WebTestClient?\r\n- Is your secured component under test a controller, a service, a repository? \r\n- What type of Authentication have you configured? (what is the output of `SecurityContextHolder.getContext().getAuthentication().getClass()`? )\r\n\r\nNow, for working with real client (like Angular app) connected to real resource-server (Spring API), I use a real authorization-server: either one from staging environments or a Keycloak instance running on my own machine (standalone or in a docker container). \r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\r\n  [2]: https://github.com/ch4mpy/spring-addons/tree/master/samples","title":"How do I create a fake OpenID Connect Provider for testing an OAuth-2.0 (Java) server?","body":"<p>My preferred way to go for unit and integration testing of Spring resource-servers (REST APIs secured with OAuth2) is to use no authorization-server at all and mock Authentication. Have a look at unit and integration tests in this <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">tutorials</a> or <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples\" rel=\"nofollow noreferrer\">samples</a> for illustration.</p>\n<p>The exact way to do it depends on quite a few factors, but most are covered in samples linked above:</p>\n<ul>\n<li>are you using MockMvc or WebTestClient?</li>\n<li>Is your secured component under test a controller, a service, a repository?</li>\n<li>What type of Authentication have you configured? (what is the output of <code>SecurityContextHolder.getContext().getAuthentication().getClass()</code>? )</li>\n</ul>\n<p>Now, for working with real client (like Angular app) connected to real resource-server (Spring API), I use a real authorization-server: either one from staging environments or a Keycloak instance running on my own machine (standalone or in a docker container).</p>\n"}],"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":697,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666734393,"creation_date":1666679910,"question_id":74189958,"body_markdown":"I need to develop a java Spring-Boot server that uses OAuth 2.0 to handle logins. Unfortunately, the very tight security on my office network prevents me from accessing well known OAuth 2.0 OpenId Connect providers like GitHub, so I need a fake OpenID Connect server to test my code. Everywhere I go for examples, I find advice that tells me to just use GitHub or some other site that&#39;s restricted. I&#39;m not even clear on the protocol that a connection would use. How can I create a dummy OAuth 2.0 server (preferably in Java) to handle the identity layer of the protocol and feed me the necessary authorization grants?","title":"How do I create a fake OpenID Connect Provider for testing an OAuth-2.0 (Java) server?","body":"<p>I need to develop a java Spring-Boot server that uses OAuth 2.0 to handle logins. Unfortunately, the very tight security on my office network prevents me from accessing well known OAuth 2.0 OpenId Connect providers like GitHub, so I need a fake OpenID Connect server to test my code. Everywhere I go for examples, I find advice that tells me to just use GitHub or some other site that's restricted. I'm not even clear on the protocol that a connection would use. How can I create a dummy OAuth 2.0 server (preferably in Java) to handle the identity layer of the protocol and feed me the necessary authorization grants?</p>\n"},{"tags":["java","cryptography","bouncycastle"],"answers":[{"tags":[],"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666734089,"creation_date":1666734089,"answer_id":74200491,"question_id":74199386,"body_markdown":"This is a complete running example for NTRU, it is not a general encryption algorithm but a key exchange algorithm (KEM). To get this to work you need an actual Bouncy Castle lib available (I tested with BC verson 1.71 and 1.72).\r\n\r\nIt is taken from my Android app to test some Post Quantum Algorithms (PQC) with complete code here: https://github.com/MichaelsPlayground/PostQuantumCryptographyBc172\r\n\r\n    import org.bouncycastle.crypto.AsymmetricCipherKeyPair;\r\n    import org.bouncycastle.crypto.InvalidCipherTextException;\r\n    import org.bouncycastle.crypto.params.AsymmetricKeyParameter;\r\n    import org.bouncycastle.jcajce.SecretKeyWithEncapsulation;\r\n    import org.bouncycastle.jcajce.spec.KEMExtractSpec;\r\n    import org.bouncycastle.jcajce.spec.KEMGenerateSpec;\r\n    import org.bouncycastle.pqc.jcajce.provider.BouncyCastlePQCProvider;\r\n    import org.bouncycastle.pqc.legacy.crypto.ntru.NTRUEncryptionKeyGenerationParameters;\r\n    import org.bouncycastle.pqc.legacy.crypto.ntru.NTRUEncryptionKeyPairGenerator;\r\n    import org.bouncycastle.pqc.legacy.crypto.ntru.NTRUEncryptionParameters;\r\n    import org.bouncycastle.pqc.legacy.crypto.ntru.NTRUEncryptionPrivateKeyParameters;\r\n    import org.bouncycastle.pqc.legacy.crypto.ntru.NTRUEncryptionPublicKeyParameters;\r\n    import org.bouncycastle.pqc.legacy.crypto.ntru.NTRUEngine;\r\n    import org.bouncycastle.util.Arrays;\r\n    \r\n    import java.io.IOException;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.security.InvalidAlgorithmParameterException;\r\n    import java.security.KeyFactory;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.NoSuchProviderException;\r\n    import java.security.PrivateKey;\r\n    import java.security.PublicKey;\r\n    import java.security.SecureRandom;\r\n    import java.security.Security;\r\n    import java.security.spec.InvalidKeySpecException;\r\n    import java.security.spec.X509EncodedKeySpec;\r\n    \r\n    import javax.crypto.KeyGenerator;\r\n    \r\n    public class PqcNtruKem {\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            //Security.addProvider(new BouncyCastleProvider());\r\n            // we do need the regular Bouncy Castle file that includes the PQC provider\r\n            // get Bouncy Castle here: https://mvnrepository.com/artifact/org.bouncycastle/bcprov-jdk15on\r\n            // tested with BC version 1.71\r\n            if (Security.getProvider(&quot;BCPQC&quot;) == null) {\r\n                Security.addProvider(new BouncyCastlePQCProvider());\r\n            }\r\n            System.out.println(&quot;PQC NTRU kem&quot;);\r\n    \r\n            System.out.println(&quot;\\n************************************\\n&quot; +\r\n                    &quot;* # # SERIOUS SECURITY WARNING # # *\\n&quot; +\r\n                    &quot;* This program is a CONCEPT STUDY  *\\n&quot; +\r\n                    &quot;* for the algorithm                *\\n&quot; +\r\n                    &quot;* NTRU [key exchange mechanism]    *\\n&quot; +\r\n                    &quot;* The program is using an          *\\n&quot; +\r\n                    &quot;* parameter set that I cannot      *\\n&quot; +\r\n                    &quot;* check for the correctness of the *\\n&quot; +\r\n                    &quot;* output and other details         *\\n&quot; +\r\n                    &quot;*                                  *\\n&quot; +\r\n                    &quot;*    DO NOT USE THE PROGRAM IN     *\\n&quot; +\r\n                    &quot;*    ANY PRODUCTION ENVIRONMENT    *\\n&quot; +\r\n                    &quot;************************************&quot;);\r\n    \r\n            // as there are 7 parameter sets available the program runs all of them\r\n            NTRUEncryptionKeyGenerationParameters[] ntruEncryptionKeyGenerationParameterSets = {\r\n                    NTRUEncryptionKeyGenerationParameters.EES1087EP2,\r\n                    NTRUEncryptionKeyGenerationParameters.EES1171EP1,\r\n                    NTRUEncryptionKeyGenerationParameters.EES1499EP1,\r\n                    NTRUEncryptionKeyGenerationParameters.APR2011_439,\r\n                    NTRUEncryptionKeyGenerationParameters.APR2011_439_FAST,\r\n                    NTRUEncryptionKeyGenerationParameters.APR2011_743,\r\n                    NTRUEncryptionKeyGenerationParameters.APR2011_743_FAST,\r\n            };\r\n            // short name of the parameters for the summary print out\r\n            String[] ntruEncryptionKeyGenerationParameterNames = {\r\n                    &quot;EES1087EP2&quot;,\r\n                    &quot;EES1171EP1&quot;,\r\n                    &quot;EES1499EP1&quot;,\r\n                    &quot;APR2011_439&quot;,\r\n                    &quot;APR2011_439_FAST&quot;,\r\n                    &quot;APR2011_743&quot;,\r\n                    &quot;APR2011_743_FAST&quot;\r\n            };\r\n    \r\n            // statistics\r\n            int nrOfSpecs = ntruEncryptionKeyGenerationParameterSets.length;\r\n            String[] parameterSpecName = new String[nrOfSpecs];\r\n            int[] privateKeyLength = new int[nrOfSpecs];\r\n            int[] publicKeyLength = new int[nrOfSpecs];\r\n            int[] encryptedKeyLength = new int[nrOfSpecs];\r\n            boolean[] encryptionKeysEquals = new boolean[nrOfSpecs];\r\n    \r\n            // data to encrypt is usually a 32 bytes long (randomly generated) AES key\r\n            String keyToEncryptString = &quot;1234567890ABCDEF1122334455667788&quot;;\r\n            byte[] keyToEncrypt = keyToEncryptString.getBytes(StandardCharsets.UTF_8);\r\n    \r\n            for (int i = 0; i &lt; nrOfSpecs; i++) {\r\n                // generation of the NTRU key pair\r\n                NTRUEncryptionKeyGenerationParameters ntruEncryptionKeyGenerationParameters = ntruEncryptionKeyGenerationParameterSets[i];\r\n                String ntruParameterSpecName = ntruEncryptionKeyGenerationParameterNames[i];\r\n                parameterSpecName[i] = ntruParameterSpecName;\r\n                System.out.println(&quot;\\nNTRU KEM with parameterset &quot; + ntruParameterSpecName);\r\n                AsymmetricCipherKeyPair keyPair = generateNtruKeyPair(ntruEncryptionKeyGenerationParameters);\r\n    \r\n                // get private and public key\r\n                AsymmetricKeyParameter privateKey = keyPair.getPrivate();\r\n                AsymmetricKeyParameter publicKey = keyPair.getPublic();\r\n    \r\n                // storing the key as byte array\r\n                byte[] privateKeyByte = ((NTRUEncryptionPrivateKeyParameters) privateKey).getEncoded();\r\n                byte[] publicKeyByte = ((NTRUEncryptionPublicKeyParameters) publicKey).getEncoded();\r\n                System.out.println(&quot;\\ngenerated private key length: &quot; + privateKeyByte.length);\r\n                System.out.println(&quot;generated public key length:  &quot; + publicKeyByte.length);\r\n                privateKeyLength[i] = privateKeyByte.length;\r\n                publicKeyLength[i] = publicKeyByte.length;\r\n    \r\n                // generate the keys from a byte array\r\n                NTRUEncryptionPrivateKeyParameters privateKeyLoad = getNtruPrivateKeyFromEncoded(privateKeyByte, ntruEncryptionKeyGenerationParameters);\r\n                NTRUEncryptionPublicKeyParameters publicKeyLoad = getNtruPublicKeyFromEncoded(publicKeyByte, ntruEncryptionKeyGenerationParameters);\r\n    \r\n                // generate the encryption key and the encapsulated key\r\n                System.out.println(&quot;\\nEncryption side: generate the encryption key&quot;);\r\n                byte[] encryptedKey = pqcNtruEncryptKey(publicKeyLoad, keyToEncrypt);\r\n                System.out.println(&quot;encrypted key length: &quot; + encryptedKey.length\r\n                        + &quot; key: &quot; + bytesToHex(encryptedKey));\r\n                encryptedKeyLength[i] = encryptedKey.length;\r\n    \r\n                System.out.println(&quot;\\nDecryption side: receive the encrypted key and decrypt it to the decryption key&quot;);\r\n                byte[] decryptedKey = pqcNtruDecryptKey(privateKeyLoad, encryptedKey);\r\n                System.out.println(&quot;decryption key length: &quot; + decryptedKey.length + &quot; key: &quot; + bytesToHex(decryptedKey));\r\n                boolean keysAreEqual = Arrays.areEqual(keyToEncrypt, decryptedKey);\r\n                System.out.println(&quot;decrypted key is equal to keyToEncrypt: &quot; + keysAreEqual);\r\n                encryptionKeysEquals[i] = keysAreEqual;\r\n            }\r\n    \r\n            System.out.println(&quot;\\nTest results&quot;);\r\n            System.out.println(&quot;parameter spec name  priKL   pubKL encKL  keyE&quot;);\r\n            for (int i = 0; i &lt; nrOfSpecs; i++) {\r\n                 System.out.format(&quot;%-20s%6d%8d%6d%6b%n&quot;, parameterSpecName[i], privateKeyLength[i], publicKeyLength[i], encryptedKeyLength[i], encryptionKeysEquals[i]);\r\n            }\r\n            System.out.println(&quot;Legend: priKL privateKey length, pubKL publicKey length, encKL encryption key length, keyE encryption keys are equal\\n&quot;);\r\n        }\r\n    \r\n        private static AsymmetricCipherKeyPair generateNtruKeyPair(NTRUEncryptionKeyGenerationParameters ntruEncryptionKeyGenerationParameters) {\r\n            NTRUEncryptionKeyPairGenerator ntruEncryptionKeyPairGenerator = new NTRUEncryptionKeyPairGenerator();\r\n            ntruEncryptionKeyPairGenerator.init(ntruEncryptionKeyGenerationParameters);\r\n            AsymmetricCipherKeyPair kp = ntruEncryptionKeyPairGenerator.generateKeyPair();\r\n            return kp;\r\n        }\r\n    \r\n        private static byte[] pqcNtruEncryptKey(AsymmetricKeyParameter publicKey, byte[] keyToEncrypt) {\r\n            NTRUEngine ntru = new NTRUEngine();\r\n            ntru.init(true, publicKey);\r\n            try {\r\n                return ntru.processBlock(keyToEncrypt, 0, keyToEncrypt.length);\r\n            } catch (InvalidCipherTextException e) {\r\n                e.printStackTrace();\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        private static byte[] pqcNtruDecryptKey(AsymmetricKeyParameter privateKey, byte[] encryptedKeyToDecrypt) {\r\n            NTRUEngine ntru = new NTRUEngine();\r\n            ntru.init(false, privateKey);\r\n            try {\r\n                return ntru.processBlock(encryptedKeyToDecrypt, 0, encryptedKeyToDecrypt.length);\r\n            } catch (InvalidCipherTextException e) {\r\n                e.printStackTrace();\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        public static SecretKeyWithEncapsulation pqcGenerateNtruEncryptionKey(PublicKey publicKey) {\r\n            KeyGenerator keyGen = null;\r\n            try {\r\n                keyGen = KeyGenerator.getInstance(&quot;Frodo&quot;, &quot;BCPQC&quot;);\r\n                keyGen.init(new KEMGenerateSpec((PublicKey) publicKey, &quot;AES&quot;), new SecureRandom());\r\n                SecretKeyWithEncapsulation secEnc1 = (SecretKeyWithEncapsulation) keyGen.generateKey();\r\n                return secEnc1;\r\n            } catch (NoSuchAlgorithmException | NoSuchProviderException | InvalidAlgorithmParameterException e) {\r\n                e.printStackTrace();\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        public static byte[] pqcGenerateFrodoDecryptionKey(PrivateKey privateKey, byte[] encapsulatedKey) {\r\n            KeyGenerator keyGen = null;\r\n            try {\r\n                keyGen = KeyGenerator.getInstance(&quot;Frodo&quot;, &quot;BCPQC&quot;);\r\n                keyGen.init(new KEMExtractSpec((PrivateKey) privateKey, encapsulatedKey, &quot;AES&quot;), new SecureRandom());\r\n                SecretKeyWithEncapsulation secEnc2 = (SecretKeyWithEncapsulation) keyGen.generateKey();\r\n                return secEnc2.getEncoded();\r\n            } catch (NoSuchAlgorithmException | NoSuchProviderException | InvalidAlgorithmParameterException e) {\r\n                e.printStackTrace();\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        private static NTRUEncryptionPrivateKeyParameters getNtruPrivateKeyFromEncoded(byte[] encodedKey, NTRUEncryptionKeyGenerationParameters ntruEncryptionKeyGenerationParameters) {\r\n            NTRUEncryptionParameters ntruEncryptionParameters = ntruEncryptionKeyGenerationParameters.getEncryptionParameters();\r\n            try {\r\n                return new NTRUEncryptionPrivateKeyParameters(encodedKey, ntruEncryptionParameters);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        private static NTRUEncryptionPublicKeyParameters getNtruPublicKeyFromEncoded(byte[] encodedKey, NTRUEncryptionKeyGenerationParameters ntruEncryptionKeyGenerationParameters) {\r\n            NTRUEncryptionParameters ntruEncryptionParameters = ntruEncryptionKeyGenerationParameters.getEncryptionParameters();\r\n            return new NTRUEncryptionPublicKeyParameters(encodedKey, ntruEncryptionParameters);\r\n        }\r\n    \r\n        private static PublicKey getFrodoPublicKeyFromEncoded(byte[] encodedKey) {\r\n            X509EncodedKeySpec x509EncodedKeySpec = new X509EncodedKeySpec(encodedKey);\r\n            KeyFactory keyFactory = null;\r\n            try {\r\n                keyFactory = KeyFactory.getInstance(&quot;Frodo&quot;, &quot;BCPQC&quot;);\r\n                return keyFactory.generatePublic(x509EncodedKeySpec);\r\n            } catch (NoSuchAlgorithmException | NoSuchProviderException | InvalidKeySpecException e) {\r\n                e.printStackTrace();\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        private static String bytesToHex(byte[] bytes) {\r\n            StringBuffer result = new StringBuffer();\r\n            for (byte b : bytes) result.append(Integer.toString((b &amp; 0xff) + 0x100, 16).substring(1));\r\n            return result.toString();\r\n        }\r\n    }\r\n\r\n","title":"NTRU BouncyCastle","body":"<p>This is a complete running example for NTRU, it is not a general encryption algorithm but a key exchange algorithm (KEM). To get this to work you need an actual Bouncy Castle lib available (I tested with BC verson 1.71 and 1.72).</p>\n<p>It is taken from my Android app to test some Post Quantum Algorithms (PQC) with complete code here: <a href=\"https://github.com/MichaelsPlayground/PostQuantumCryptographyBc172\" rel=\"nofollow noreferrer\">https://github.com/MichaelsPlayground/PostQuantumCryptographyBc172</a></p>\n<pre><code>import org.bouncycastle.crypto.AsymmetricCipherKeyPair;\nimport org.bouncycastle.crypto.InvalidCipherTextException;\nimport org.bouncycastle.crypto.params.AsymmetricKeyParameter;\nimport org.bouncycastle.jcajce.SecretKeyWithEncapsulation;\nimport org.bouncycastle.jcajce.spec.KEMExtractSpec;\nimport org.bouncycastle.jcajce.spec.KEMGenerateSpec;\nimport org.bouncycastle.pqc.jcajce.provider.BouncyCastlePQCProvider;\nimport org.bouncycastle.pqc.legacy.crypto.ntru.NTRUEncryptionKeyGenerationParameters;\nimport org.bouncycastle.pqc.legacy.crypto.ntru.NTRUEncryptionKeyPairGenerator;\nimport org.bouncycastle.pqc.legacy.crypto.ntru.NTRUEncryptionParameters;\nimport org.bouncycastle.pqc.legacy.crypto.ntru.NTRUEncryptionPrivateKeyParameters;\nimport org.bouncycastle.pqc.legacy.crypto.ntru.NTRUEncryptionPublicKeyParameters;\nimport org.bouncycastle.pqc.legacy.crypto.ntru.NTRUEngine;\nimport org.bouncycastle.util.Arrays;\n\nimport java.io.IOException;\nimport java.nio.charset.StandardCharsets;\nimport java.security.InvalidAlgorithmParameterException;\nimport java.security.KeyFactory;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.NoSuchProviderException;\nimport java.security.PrivateKey;\nimport java.security.PublicKey;\nimport java.security.SecureRandom;\nimport java.security.Security;\nimport java.security.spec.InvalidKeySpecException;\nimport java.security.spec.X509EncodedKeySpec;\n\nimport javax.crypto.KeyGenerator;\n\npublic class PqcNtruKem {\n\n\n    public static void main(String[] args) {\n        //Security.addProvider(new BouncyCastleProvider());\n        // we do need the regular Bouncy Castle file that includes the PQC provider\n        // get Bouncy Castle here: https://mvnrepository.com/artifact/org.bouncycastle/bcprov-jdk15on\n        // tested with BC version 1.71\n        if (Security.getProvider(&quot;BCPQC&quot;) == null) {\n            Security.addProvider(new BouncyCastlePQCProvider());\n        }\n        System.out.println(&quot;PQC NTRU kem&quot;);\n\n        System.out.println(&quot;\\n************************************\\n&quot; +\n                &quot;* # # SERIOUS SECURITY WARNING # # *\\n&quot; +\n                &quot;* This program is a CONCEPT STUDY  *\\n&quot; +\n                &quot;* for the algorithm                *\\n&quot; +\n                &quot;* NTRU [key exchange mechanism]    *\\n&quot; +\n                &quot;* The program is using an          *\\n&quot; +\n                &quot;* parameter set that I cannot      *\\n&quot; +\n                &quot;* check for the correctness of the *\\n&quot; +\n                &quot;* output and other details         *\\n&quot; +\n                &quot;*                                  *\\n&quot; +\n                &quot;*    DO NOT USE THE PROGRAM IN     *\\n&quot; +\n                &quot;*    ANY PRODUCTION ENVIRONMENT    *\\n&quot; +\n                &quot;************************************&quot;);\n\n        // as there are 7 parameter sets available the program runs all of them\n        NTRUEncryptionKeyGenerationParameters[] ntruEncryptionKeyGenerationParameterSets = {\n                NTRUEncryptionKeyGenerationParameters.EES1087EP2,\n                NTRUEncryptionKeyGenerationParameters.EES1171EP1,\n                NTRUEncryptionKeyGenerationParameters.EES1499EP1,\n                NTRUEncryptionKeyGenerationParameters.APR2011_439,\n                NTRUEncryptionKeyGenerationParameters.APR2011_439_FAST,\n                NTRUEncryptionKeyGenerationParameters.APR2011_743,\n                NTRUEncryptionKeyGenerationParameters.APR2011_743_FAST,\n        };\n        // short name of the parameters for the summary print out\n        String[] ntruEncryptionKeyGenerationParameterNames = {\n                &quot;EES1087EP2&quot;,\n                &quot;EES1171EP1&quot;,\n                &quot;EES1499EP1&quot;,\n                &quot;APR2011_439&quot;,\n                &quot;APR2011_439_FAST&quot;,\n                &quot;APR2011_743&quot;,\n                &quot;APR2011_743_FAST&quot;\n        };\n\n        // statistics\n        int nrOfSpecs = ntruEncryptionKeyGenerationParameterSets.length;\n        String[] parameterSpecName = new String[nrOfSpecs];\n        int[] privateKeyLength = new int[nrOfSpecs];\n        int[] publicKeyLength = new int[nrOfSpecs];\n        int[] encryptedKeyLength = new int[nrOfSpecs];\n        boolean[] encryptionKeysEquals = new boolean[nrOfSpecs];\n\n        // data to encrypt is usually a 32 bytes long (randomly generated) AES key\n        String keyToEncryptString = &quot;1234567890ABCDEF1122334455667788&quot;;\n        byte[] keyToEncrypt = keyToEncryptString.getBytes(StandardCharsets.UTF_8);\n\n        for (int i = 0; i &lt; nrOfSpecs; i++) {\n            // generation of the NTRU key pair\n            NTRUEncryptionKeyGenerationParameters ntruEncryptionKeyGenerationParameters = ntruEncryptionKeyGenerationParameterSets[i];\n            String ntruParameterSpecName = ntruEncryptionKeyGenerationParameterNames[i];\n            parameterSpecName[i] = ntruParameterSpecName;\n            System.out.println(&quot;\\nNTRU KEM with parameterset &quot; + ntruParameterSpecName);\n            AsymmetricCipherKeyPair keyPair = generateNtruKeyPair(ntruEncryptionKeyGenerationParameters);\n\n            // get private and public key\n            AsymmetricKeyParameter privateKey = keyPair.getPrivate();\n            AsymmetricKeyParameter publicKey = keyPair.getPublic();\n\n            // storing the key as byte array\n            byte[] privateKeyByte = ((NTRUEncryptionPrivateKeyParameters) privateKey).getEncoded();\n            byte[] publicKeyByte = ((NTRUEncryptionPublicKeyParameters) publicKey).getEncoded();\n            System.out.println(&quot;\\ngenerated private key length: &quot; + privateKeyByte.length);\n            System.out.println(&quot;generated public key length:  &quot; + publicKeyByte.length);\n            privateKeyLength[i] = privateKeyByte.length;\n            publicKeyLength[i] = publicKeyByte.length;\n\n            // generate the keys from a byte array\n            NTRUEncryptionPrivateKeyParameters privateKeyLoad = getNtruPrivateKeyFromEncoded(privateKeyByte, ntruEncryptionKeyGenerationParameters);\n            NTRUEncryptionPublicKeyParameters publicKeyLoad = getNtruPublicKeyFromEncoded(publicKeyByte, ntruEncryptionKeyGenerationParameters);\n\n            // generate the encryption key and the encapsulated key\n            System.out.println(&quot;\\nEncryption side: generate the encryption key&quot;);\n            byte[] encryptedKey = pqcNtruEncryptKey(publicKeyLoad, keyToEncrypt);\n            System.out.println(&quot;encrypted key length: &quot; + encryptedKey.length\n                    + &quot; key: &quot; + bytesToHex(encryptedKey));\n            encryptedKeyLength[i] = encryptedKey.length;\n\n            System.out.println(&quot;\\nDecryption side: receive the encrypted key and decrypt it to the decryption key&quot;);\n            byte[] decryptedKey = pqcNtruDecryptKey(privateKeyLoad, encryptedKey);\n            System.out.println(&quot;decryption key length: &quot; + decryptedKey.length + &quot; key: &quot; + bytesToHex(decryptedKey));\n            boolean keysAreEqual = Arrays.areEqual(keyToEncrypt, decryptedKey);\n            System.out.println(&quot;decrypted key is equal to keyToEncrypt: &quot; + keysAreEqual);\n            encryptionKeysEquals[i] = keysAreEqual;\n        }\n\n        System.out.println(&quot;\\nTest results&quot;);\n        System.out.println(&quot;parameter spec name  priKL   pubKL encKL  keyE&quot;);\n        for (int i = 0; i &lt; nrOfSpecs; i++) {\n             System.out.format(&quot;%-20s%6d%8d%6d%6b%n&quot;, parameterSpecName[i], privateKeyLength[i], publicKeyLength[i], encryptedKeyLength[i], encryptionKeysEquals[i]);\n        }\n        System.out.println(&quot;Legend: priKL privateKey length, pubKL publicKey length, encKL encryption key length, keyE encryption keys are equal\\n&quot;);\n    }\n\n    private static AsymmetricCipherKeyPair generateNtruKeyPair(NTRUEncryptionKeyGenerationParameters ntruEncryptionKeyGenerationParameters) {\n        NTRUEncryptionKeyPairGenerator ntruEncryptionKeyPairGenerator = new NTRUEncryptionKeyPairGenerator();\n        ntruEncryptionKeyPairGenerator.init(ntruEncryptionKeyGenerationParameters);\n        AsymmetricCipherKeyPair kp = ntruEncryptionKeyPairGenerator.generateKeyPair();\n        return kp;\n    }\n\n    private static byte[] pqcNtruEncryptKey(AsymmetricKeyParameter publicKey, byte[] keyToEncrypt) {\n        NTRUEngine ntru = new NTRUEngine();\n        ntru.init(true, publicKey);\n        try {\n            return ntru.processBlock(keyToEncrypt, 0, keyToEncrypt.length);\n        } catch (InvalidCipherTextException e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n\n    private static byte[] pqcNtruDecryptKey(AsymmetricKeyParameter privateKey, byte[] encryptedKeyToDecrypt) {\n        NTRUEngine ntru = new NTRUEngine();\n        ntru.init(false, privateKey);\n        try {\n            return ntru.processBlock(encryptedKeyToDecrypt, 0, encryptedKeyToDecrypt.length);\n        } catch (InvalidCipherTextException e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n\n    public static SecretKeyWithEncapsulation pqcGenerateNtruEncryptionKey(PublicKey publicKey) {\n        KeyGenerator keyGen = null;\n        try {\n            keyGen = KeyGenerator.getInstance(&quot;Frodo&quot;, &quot;BCPQC&quot;);\n            keyGen.init(new KEMGenerateSpec((PublicKey) publicKey, &quot;AES&quot;), new SecureRandom());\n            SecretKeyWithEncapsulation secEnc1 = (SecretKeyWithEncapsulation) keyGen.generateKey();\n            return secEnc1;\n        } catch (NoSuchAlgorithmException | NoSuchProviderException | InvalidAlgorithmParameterException e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n\n    public static byte[] pqcGenerateFrodoDecryptionKey(PrivateKey privateKey, byte[] encapsulatedKey) {\n        KeyGenerator keyGen = null;\n        try {\n            keyGen = KeyGenerator.getInstance(&quot;Frodo&quot;, &quot;BCPQC&quot;);\n            keyGen.init(new KEMExtractSpec((PrivateKey) privateKey, encapsulatedKey, &quot;AES&quot;), new SecureRandom());\n            SecretKeyWithEncapsulation secEnc2 = (SecretKeyWithEncapsulation) keyGen.generateKey();\n            return secEnc2.getEncoded();\n        } catch (NoSuchAlgorithmException | NoSuchProviderException | InvalidAlgorithmParameterException e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n\n    private static NTRUEncryptionPrivateKeyParameters getNtruPrivateKeyFromEncoded(byte[] encodedKey, NTRUEncryptionKeyGenerationParameters ntruEncryptionKeyGenerationParameters) {\n        NTRUEncryptionParameters ntruEncryptionParameters = ntruEncryptionKeyGenerationParameters.getEncryptionParameters();\n        try {\n            return new NTRUEncryptionPrivateKeyParameters(encodedKey, ntruEncryptionParameters);\n        } catch (IOException e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n\n    private static NTRUEncryptionPublicKeyParameters getNtruPublicKeyFromEncoded(byte[] encodedKey, NTRUEncryptionKeyGenerationParameters ntruEncryptionKeyGenerationParameters) {\n        NTRUEncryptionParameters ntruEncryptionParameters = ntruEncryptionKeyGenerationParameters.getEncryptionParameters();\n        return new NTRUEncryptionPublicKeyParameters(encodedKey, ntruEncryptionParameters);\n    }\n\n    private static PublicKey getFrodoPublicKeyFromEncoded(byte[] encodedKey) {\n        X509EncodedKeySpec x509EncodedKeySpec = new X509EncodedKeySpec(encodedKey);\n        KeyFactory keyFactory = null;\n        try {\n            keyFactory = KeyFactory.getInstance(&quot;Frodo&quot;, &quot;BCPQC&quot;);\n            return keyFactory.generatePublic(x509EncodedKeySpec);\n        } catch (NoSuchAlgorithmException | NoSuchProviderException | InvalidKeySpecException e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n\n    private static String bytesToHex(byte[] bytes) {\n        StringBuffer result = new StringBuffer();\n        for (byte b : bytes) result.append(Integer.toString((b &amp; 0xff) + 0x100, 16).substring(1));\n        return result.toString();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26731299,"reputation":3,"user_id":20333591,"display_name":"XIO_ennu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74200491,"answer_count":1,"score":-2,"last_activity_date":1666734089,"creation_date":1666726864,"question_id":74199386,"body_markdown":"I am developing a Java application and I want to add a special encryption method - NTRU. Before that I used symmetric and asymmetric methods supplied by the bouncycastle provider however now I can&#39;t understand how works Post-Quantum algorithms in bouncycastle due to lack of any information on the network. Please help me implement NTRU text encryption code.\r\n\r\n\r\n\r\n\r\nI tried using the light-weight API but it didn&#39;t work, my code refuses to do anything\r\n\r\n","title":"NTRU BouncyCastle","body":"<p>I am developing a Java application and I want to add a special encryption method - NTRU. Before that I used symmetric and asymmetric methods supplied by the bouncycastle provider however now I can't understand how works Post-Quantum algorithms in bouncycastle due to lack of any information on the network. Please help me implement NTRU text encryption code.</p>\n<p>I tried using the light-weight API but it didn't work, my code refuses to do anything</p>\n"},{"tags":["java","dependency-injection","guice"],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666733945,"creation_date":1666733945,"answer_id":74200475,"question_id":74200008,"body_markdown":"As you configured it, Guice can only decide by the type which object to inject and you have two methods that provide `Automobile`. The methods name is irrelevant.\r\n\r\nYou will have to specify which method provides which kind of `Automobile`, you could do this by adding annotations `@Named(&quot;Car&quot;)` and `@Named(&quot;Truck&quot;)` to your methods.\r\n\r\nTo get exactly the right kind of `Automobile` injected, you have to specify that same annotation (`@Named...`) also at the place where you get it injected.\r\n\r\n\r\nYour module would then look something like this:\r\n``` lang-java\r\npublic class AutomobileModule extends AbstractModule {\r\n   @Provides\r\n   @Singleton\r\n   @Named(&quot;Car&quot;)\r\n   Automobile getCar(final AutomobileFactory automobileFactory) {\r\n      return automobileFactory.createAutomobile(&quot;Car&quot;);\r\n   }\r\n\r\n   @Provides\r\n   @Singleton\r\n   AutomobileFactory getAutomobileFactory(final AutomobileConfiguration automobileConfiguration) {\r\n      return new AutomobileFactory(automobileConfiguration);\r\n   }\r\n\r\n   @Provides\r\n   @Singleton\r\n   AutomobileConfiguration getAutomobileConfiguration() {\r\n      return new AutomobileConfiguration();\r\n   }\r\n\r\n   @Provides\r\n   @Singleton\r\n   @Named(&quot;Truck&quot;)\r\n   Automobile getTruck(final AutomobileFactory automobileFactory) {\r\n      return automobileFactory.createAutomobile(&quot;Truck&quot;);\r\n   }\r\n}\r\n```\r\n\r\nSee the [official user guide](https://github.com/google/guice/wiki/ProvidesMethods)  for more information and this accepted [SO answer](https://stackoverflow.com/a/12309758/2846138) (together with the question) for a better example than in the user guide.","title":"Guice module provides singleton with two bindings?","body":"<p>As you configured it, Guice can only decide by the type which object to inject and you have two methods that provide <code>Automobile</code>. The methods name is irrelevant.</p>\n<p>You will have to specify which method provides which kind of <code>Automobile</code>, you could do this by adding annotations <code>@Named(&quot;Car&quot;)</code> and <code>@Named(&quot;Truck&quot;)</code> to your methods.</p>\n<p>To get exactly the right kind of <code>Automobile</code> injected, you have to specify that same annotation (<code>@Named...</code>) also at the place where you get it injected.</p>\n<p>Your module would then look something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AutomobileModule extends AbstractModule {\n   @Provides\n   @Singleton\n   @Named(&quot;Car&quot;)\n   Automobile getCar(final AutomobileFactory automobileFactory) {\n      return automobileFactory.createAutomobile(&quot;Car&quot;);\n   }\n\n   @Provides\n   @Singleton\n   AutomobileFactory getAutomobileFactory(final AutomobileConfiguration automobileConfiguration) {\n      return new AutomobileFactory(automobileConfiguration);\n   }\n\n   @Provides\n   @Singleton\n   AutomobileConfiguration getAutomobileConfiguration() {\n      return new AutomobileConfiguration();\n   }\n\n   @Provides\n   @Singleton\n   @Named(&quot;Truck&quot;)\n   Automobile getTruck(final AutomobileFactory automobileFactory) {\n      return automobileFactory.createAutomobile(&quot;Truck&quot;);\n   }\n}\n</code></pre>\n<p>See the <a href=\"https://github.com/google/guice/wiki/ProvidesMethods\" rel=\"nofollow noreferrer\">official user guide</a>  for more information and this accepted <a href=\"https://stackoverflow.com/a/12309758/2846138\">SO answer</a> (together with the question) for a better example than in the user guide.</p>\n"}],"owner":{"account_id":2034566,"reputation":415,"user_id":1819924,"accept_rate":40,"display_name":"BobIsNotMyName"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74200475,"answer_count":1,"score":1,"last_activity_date":1666733945,"creation_date":1666730803,"question_id":74200008,"body_markdown":"I&#39;m very new to Guice (and I&#39;m much more proficient in languages other than Java), but essentially what I want to do is edit some code to convert something like this:\r\n\r\n```\r\npublic class AutomobileModule extends AbstractModule {\r\n   @Provides\r\n   @Singleton\r\n   Automobile getCar(final AutomobileFactory automobileFactory) {\r\n      return automobileFactory.createAutomobile(&quot;Car&quot;);\r\n   }\r\n\r\n   @Provides\r\n   @Singleton\r\n   AutomobileFactory getAutomobileFactory(final AutomobileConfiguration automobileConfiguration) {\r\n      return new AutomobileFactory(automobileConfiguration);\r\n   }\r\n\r\n   @Provides\r\n   @Singleton\r\n   AutomobileConfiguration getAutomobileConfiguration() {\r\n      return new AutomobileConfiguration();\r\n   }\r\n}\r\n```\r\nby adding\r\n```\r\npublic class AutomobileModule extends AbstractModule {\r\n   &lt;...SNIP...&gt;\r\n\r\n   @Provides\r\n   @Singleton\r\n   Automobile getTruck(final AutomobileFactory automobileFactory) {\r\n      return automobileFactory.createAutomobile(&quot;Truck&quot;);\r\n   }\r\n}\r\n```\r\n\r\nHowever, if I try this, I get &quot;A binding to... was already configured at&quot; error. So what&#39;s the correct way to share dependencies this way? Or do people usually just create multiple factories, etc, in cases like this.","title":"Guice module provides singleton with two bindings?","body":"<p>I'm very new to Guice (and I'm much more proficient in languages other than Java), but essentially what I want to do is edit some code to convert something like this:</p>\n<pre><code>public class AutomobileModule extends AbstractModule {\n   @Provides\n   @Singleton\n   Automobile getCar(final AutomobileFactory automobileFactory) {\n      return automobileFactory.createAutomobile(&quot;Car&quot;);\n   }\n\n   @Provides\n   @Singleton\n   AutomobileFactory getAutomobileFactory(final AutomobileConfiguration automobileConfiguration) {\n      return new AutomobileFactory(automobileConfiguration);\n   }\n\n   @Provides\n   @Singleton\n   AutomobileConfiguration getAutomobileConfiguration() {\n      return new AutomobileConfiguration();\n   }\n}\n</code></pre>\n<p>by adding</p>\n<pre><code>public class AutomobileModule extends AbstractModule {\n   &lt;...SNIP...&gt;\n\n   @Provides\n   @Singleton\n   Automobile getTruck(final AutomobileFactory automobileFactory) {\n      return automobileFactory.createAutomobile(&quot;Truck&quot;);\n   }\n}\n</code></pre>\n<p>However, if I try this, I get &quot;A binding to... was already configured at&quot; error. So what's the correct way to share dependencies this way? Or do people usually just create multiple factories, etc, in cases like this.</p>\n"},{"tags":["java","amazon-sqs","java-11","aws-java-sdk-2.x"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1666733868,"post_id":74173506,"comment_id":131005680,"body_markdown":"sqs does not guarantee that you receive all messages and during testing especially you can sometimes accidentially reject a message that gets returned to the queue. That would only print 1 &amp; delete 1. Have you tried to loop your code (for at least 30 seconds or whatever the visibility timeout is)?","body":"sqs does not guarantee that you receive all messages and during testing especially you can sometimes accidentially reject a message that gets returned to the queue. That would only print 1 &amp; delete 1. Have you tried to loop your code (for at least 30 seconds or whatever the visibility timeout is)?"},{"owner":{"account_id":17561687,"reputation":37,"user_id":12739579,"display_name":"Conquistador"},"score":0,"creation_date":1666777764,"post_id":74173506,"comment_id":131014605,"body_markdown":"@zapl, are you suggesting to run a loop and fetch messages every 30 seconds(assuming visibility timeout is 30 sec).","body":"@zapl, are you suggesting to run a loop and fetch messages every 30 seconds(assuming visibility timeout is 30 sec)."},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1666790694,"post_id":74173506,"comment_id":131019064,"body_markdown":"Sort of but no waiting 30 seconds. When consuming an SQS Queue you usually have a simple endless loop that constantly calls `receiveMessage` with a configured &quot;WaitTimeSeconds&quot; of 20. No additional delay. The receive request returns immediately if an empty queue suddenly has messages but it returns empty after 20 seconds if there are no messages (long polling). If you somehow received a message but didn&#39;t delete it, you won&#39;t see the message again for 30 seconds (or whatever the &quot;VisibilityTimeout&quot; of the message is). But to ensure you see all messages at some point you have to keep checking","body":"Sort of but no waiting 30 seconds. When consuming an SQS Queue you usually have a simple endless loop that constantly calls <code>receiveMessage</code> with a configured &quot;WaitTimeSeconds&quot; of 20. No additional delay. The receive request returns immediately if an empty queue suddenly has messages but it returns empty after 20 seconds if there are no messages (long polling). If you somehow received a message but didn&#39;t delete it, you won&#39;t see the message again for 30 seconds (or whatever the &quot;VisibilityTimeout&quot; of the message is). But to ensure you see all messages at some point you have to keep checking"}],"owner":{"account_id":17561687,"reputation":37,"user_id":12739579,"display_name":"Conquistador"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":505,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666733541,"creation_date":1666547914,"question_id":74173506,"body_markdown":"I am doing some operations which will publish messages to an SQS, a standard SQS, not a FIFO one. After that I am trying to receive both the messages from SQS and delete both of them. \r\nI have written the following code for receiving and deleting messages from SQS.\r\n\r\n\r\n    private ReceiveMessageRequest getReceiveMessageRequest() {\r\n            return new ReceiveMessageRequest(QUEUE_URL)\r\n                .withMaxNumberOfMessages(5);\r\n        }\r\n    \r\n    private void deleteMessagesInIntegrationQueue(List&lt;Message&gt; messages) {\r\n    \r\n            messages.forEach(\r\n                message -&gt; testSQS.deleteMessage(new DeleteMessageRequest(QUEUE_URL, message.getReceiptHandle()))\r\n            );\r\n        }\r\n    \r\n    List&lt;Message&gt; results = testSQS.receiveMessage(getReceiveMessageRequest()).getMessages();\r\n    SOPL(results);\r\n    \r\n    deleteMessagesInQueue(results);\r\n    \r\n    List&lt;Message&gt; newResults = testSQS.receiveMessage(getReceiveMessageRequest()).getMessages();\r\n            SOPL(newResults);\r\n\r\n\r\n\r\nI am having the following problems with my code.\r\n1. When I am printing results list, I am expecting 2 messages, but only one message is being printed and the list size is also printed as 1.\r\n2. After deleteMessagesInQueue function call, I expect all the messages to be deleted in the SQS and the newResults list size should be 0, but one message is being printed and queue size is printed as 1. I can do purgeQueue instead of delete, but I want to understand what I am doing wrong here?\r\n","title":"AWS SQS Receive Message and Delete message with JAVA","body":"<p>I am doing some operations which will publish messages to an SQS, a standard SQS, not a FIFO one. After that I am trying to receive both the messages from SQS and delete both of them.\nI have written the following code for receiving and deleting messages from SQS.</p>\n<pre><code>private ReceiveMessageRequest getReceiveMessageRequest() {\n        return new ReceiveMessageRequest(QUEUE_URL)\n            .withMaxNumberOfMessages(5);\n    }\n\nprivate void deleteMessagesInIntegrationQueue(List&lt;Message&gt; messages) {\n\n        messages.forEach(\n            message -&gt; testSQS.deleteMessage(new DeleteMessageRequest(QUEUE_URL, message.getReceiptHandle()))\n        );\n    }\n\nList&lt;Message&gt; results = testSQS.receiveMessage(getReceiveMessageRequest()).getMessages();\nSOPL(results);\n\ndeleteMessagesInQueue(results);\n\nList&lt;Message&gt; newResults = testSQS.receiveMessage(getReceiveMessageRequest()).getMessages();\n        SOPL(newResults);\n</code></pre>\n<p>I am having the following problems with my code.</p>\n<ol>\n<li>When I am printing results list, I am expecting 2 messages, but only one message is being printed and the list size is also printed as 1.</li>\n<li>After deleteMessagesInQueue function call, I expect all the messages to be deleted in the SQS and the newResults list size should be 0, but one message is being printed and queue size is printed as 1. I can do purgeQueue instead of delete, but I want to understand what I am doing wrong here?</li>\n</ol>\n"},{"tags":["java","datetime","sqldatetime"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1666717524,"post_id":74197747,"comment_id":131001099,"body_markdown":"Is there any date or time zone involved or implied?","body":"Is there any date or time zone involved or implied?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1666717600,"post_id":74197747,"comment_id":131001119,"body_markdown":"I changed your examples to 24 hour clock for simplicity, less distraction.","body":"I changed your examples to 24 hour clock for simplicity, less distraction."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1666717668,"post_id":74197747,"comment_id":131001137,"body_markdown":"What *exactly* is the data type of your column with the time? What database?","body":"What <i>exactly</i> is the data type of your column with the time? What database?"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1666717883,"post_id":74197747,"comment_id":131001206,"body_markdown":"And when you say &#39;I tried to group by in sql&#39; - show us the SQL, or hibernate, or whatever you do already have.","body":"And when you say &#39;I tried to group by in sql&#39; - show us the SQL, or hibernate, or whatever you do already have."},{"owner":{"account_id":16528235,"reputation":23,"user_id":11942296,"display_name":"Gnanambal Meyyappan"},"score":0,"creation_date":1666759784,"post_id":74197747,"comment_id":131009716,"body_markdown":"@rzwitserloot please find the querySELECT\n\n  max(convert(varchar,(CAST (DATEADD(SECOND,signin_timestamp/1000 ,&#39;1970/1/1&#39;) AS datetime)),8)) as session_start_date,\n\n  count(*) as number_of_sessions\n\nFROM [dbo].[user_attendance_information]\n\nWHERE (CAST (DATEADD(SECOND,signin_timestamp/1000 ,&#39;1970/1/1&#39;) AS date)) = &#39;2022-08-17&#39;\n\nGROUP by\n\n  datepart(hour, (CAST (DATEADD(SECOND,signin_timestamp/1000 ,&#39;1970/1/1&#39;) AS smalldatetime))),\n\n  datepart(minute, \n\n  (CAST (DATEADD(SECOND,signin_timestamp/1000 ,&#39;1970/1/1&#39;) AS smalldatetime)));","body":"@rzwitserloot please find the querySELECT    max(convert(varchar,(CAST (DATEADD(SECOND,signin_timestamp/1000 ,&#39;1970/1/1&#39;) AS datetime)),8)) as session_start_date,    count(*) as number_of_sessions  FROM [dbo].[user_attendance_information]  WHERE (CAST (DATEADD(SECOND,signin_timestamp/1000 ,&#39;1970/1/1&#39;) AS date)) = &#39;2022-08-17&#39;  GROUP by    datepart(hour, (CAST (DATEADD(SECOND,signin_timestamp/1000 ,&#39;1970/1/1&#39;) AS smalldatetime))),    datepart(minute,     (CAST (DATEADD(SECOND,signin_timestamp/1000 ,&#39;1970/1/1&#39;) AS smalldatetime)));"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666730340,"creation_date":1666730340,"answer_id":74199939,"question_id":74197747,"body_markdown":"Assume you have different times (whatever the datatype) and need to aggregate over 24 hours/day. It just means 24 buckets to host.\r\n\r\nInitialize an array of 24 integers to contain all zeros.\r\nThe loop over your times. For each of them just drop the minutes so you are left with the hour-of-day. Find the according int in your array and increase the value.\r\n\r\nFinally just print your array and you see how many times you had in each hour of the day.\r\n\r\nNow when you want to have 30 minute intervals, just increase the number of buckets to 48 and instead of dropping the minutes decide whether it is in the first or second half of the hour.","title":"Java / SQL -How to group time in intervals of 30 minutes or 1 hour","body":"<p>Assume you have different times (whatever the datatype) and need to aggregate over 24 hours/day. It just means 24 buckets to host.</p>\n<p>Initialize an array of 24 integers to contain all zeros.\nThe loop over your times. For each of them just drop the minutes so you are left with the hour-of-day. Find the according int in your array and increase the value.</p>\n<p>Finally just print your array and you see how many times you had in each hour of the day.</p>\n<p>Now when you want to have 30 minute intervals, just increase the number of buckets to 48 and instead of dropping the minutes decide whether it is in the first or second half of the hour.</p>\n"},{"tags":[],"owner":{"account_id":6674353,"reputation":505,"user_id":5149545,"display_name":"c3R1cGFy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666733363,"creation_date":1666732552,"answer_id":74200284,"question_id":74197747,"body_markdown":"Here are the code snippets for classic (algorithmic) approach and the second one that uses java streams api:\r\n```java\r\n// algorithmic approach\r\nLocalDateTime[] times = Array.randomLocalDateTimes(5);\r\nArray.print(times);\r\n\r\nMap&lt;Integer, Integer&gt; counts = new HashMap&lt;&gt;();\r\nfor (LocalDateTime time : times) {\r\n    int hour = time.get(ChronoField.HOUR_OF_DAY);\r\n    int count = counts.getOrDefault(hour, 0);\r\n    counts.put(hour, count+1);\r\n}\r\nSystem.out.println(counts);\r\n\r\n\r\n// java streams aproach\r\nMap&lt;Integer, Integer&gt; counts2 = Arrays.stream(times)\r\n     .collect(Collectors.toMap(time -&gt; time.get(ChronoField.HOUR_OF_DAY), hour -&gt; 1, Integer::sum));\r\nSystem.out.println(counts2);\r\n\r\n\r\n// java streams for 30 minutes\r\nMap&lt;String, Integer&gt; counts3 = Arrays.stream(times)\r\n     .collect(Collectors.toMap(time -&gt; time.get(ChronoField.HOUR_OF_DAY) + &quot;:&quot; + (time.get(ChronoField.MINUTE_OF_HOUR) &lt; 30 ? &quot;00&quot; : &quot;30&quot;),\r\n                        interval -&gt; 1,\r\n                        Integer::sum));\r\nSystem.out.println(counts3);\r\n```\r\n\r\n\r\nOutput:\r\n```bash\r\n2022-10-25T18:06:14.245215, 2022-10-25T22:15:14.246607, 2022-10-25T19:29:14.246624, 2022-10-25T18:08:14.246635, 2022-10-25T10:21:14.246645\r\n{18=2, 19=1, 22=1, 10=1}\r\n{18=2, 19=1, 22=1, 10=1}\r\n{10:00=1, 22:00=1, 19:00=1, 18:00=2}\r\n```","title":"Java / SQL -How to group time in intervals of 30 minutes or 1 hour","body":"<p>Here are the code snippets for classic (algorithmic) approach and the second one that uses java streams api:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// algorithmic approach\nLocalDateTime[] times = Array.randomLocalDateTimes(5);\nArray.print(times);\n\nMap&lt;Integer, Integer&gt; counts = new HashMap&lt;&gt;();\nfor (LocalDateTime time : times) {\n    int hour = time.get(ChronoField.HOUR_OF_DAY);\n    int count = counts.getOrDefault(hour, 0);\n    counts.put(hour, count+1);\n}\nSystem.out.println(counts);\n\n\n// java streams aproach\nMap&lt;Integer, Integer&gt; counts2 = Arrays.stream(times)\n     .collect(Collectors.toMap(time -&gt; time.get(ChronoField.HOUR_OF_DAY), hour -&gt; 1, Integer::sum));\nSystem.out.println(counts2);\n\n\n// java streams for 30 minutes\nMap&lt;String, Integer&gt; counts3 = Arrays.stream(times)\n     .collect(Collectors.toMap(time -&gt; time.get(ChronoField.HOUR_OF_DAY) + &quot;:&quot; + (time.get(ChronoField.MINUTE_OF_HOUR) &lt; 30 ? &quot;00&quot; : &quot;30&quot;),\n                        interval -&gt; 1,\n                        Integer::sum));\nSystem.out.println(counts3);\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>2022-10-25T18:06:14.245215, 2022-10-25T22:15:14.246607, 2022-10-25T19:29:14.246624, 2022-10-25T18:08:14.246635, 2022-10-25T10:21:14.246645\n{18=2, 19=1, 22=1, 10=1}\n{18=2, 19=1, 22=1, 10=1}\n{10:00=1, 22:00=1, 19:00=1, 18:00=2}\n</code></pre>\n"}],"owner":{"account_id":16528235,"reputation":23,"user_id":11942296,"display_name":"Gnanambal Meyyappan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74200284,"answer_count":2,"score":0,"last_activity_date":1666733363,"creation_date":1666717279,"question_id":74197747,"body_markdown":"I need a solution to group the times of entry and the display the respective time interval and count of users/records during that time interval\r\neg\r\n\r\nTime Interval\t   Count\r\n\r\n07:00 AM-07:30\t24\r\n\r\n12:30 PM-13:00\t26\r\n\r\nHow can we group time based on interval in Java or SQL\r\n\r\nI tried group by in sql and LocalTime grouping by using streams\r\nBut i m not able to segregate based on the time interval\r\n\r\nTime Interval\t   Count\r\n\r\n07:00:34 \t        12\r\n\r\n12:30:23 \t        14\r\n\r\n07:23:53            12\r\n\r\n12:46:21            12\r\n\r\nI m able to get data in the above format only using sql/java(tried both ways)","title":"Java / SQL -How to group time in intervals of 30 minutes or 1 hour","body":"<p>I need a solution to group the times of entry and the display the respective time interval and count of users/records during that time interval\neg</p>\n<p>Time Interval      Count</p>\n<p>07:00 AM-07:30  24</p>\n<p>12:30 PM-13:00  26</p>\n<p>How can we group time based on interval in Java or SQL</p>\n<p>I tried group by in sql and LocalTime grouping by using streams\nBut i m not able to segregate based on the time interval</p>\n<p>Time Interval      Count</p>\n<p>07:00:34            12</p>\n<p>12:30:23            14</p>\n<p>07:23:53            12</p>\n<p>12:46:21            12</p>\n<p>I m able to get data in the above format only using sql/java(tried both ways)</p>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":15786,"reputation":161764,"user_id":33732,"accept_rate":67,"display_name":"Rob Kennedy"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1226546675,"creation_date":1226546341,"answer_id":286163,"question_id":286161,"body_markdown":"There is no such thing as an &quot;empty&quot; element in a Java array. If the array&#39;s length is at least six, then element 5 exists and it has a value. If you have not assigned anything else to that location, then it will have the value zero, just like an object&#39;s uninitialized field would have.\r\n\r\nIf it is an array of `Object` descendants, then you can check whether the element is equal to `null`.","title":"How can I see if an element in an int array is empty?","body":"<p>There is no such thing as an \"empty\" element in a Java array. If the array's length is at least six, then element 5 exists and it has a value. If you have not assigned anything else to that location, then it will have the value zero, just like an object's uninitialized field would have.</p>\n\n<p>If it is an array of <code>Object</code> descendants, then you can check whether the element is equal to <code>null</code>.</p>\n"},{"tags":[],"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1343599890,"creation_date":1226546442,"answer_id":286167,"question_id":286161,"body_markdown":"Elements in primitive arrays can&#39;t be empty.  They&#39;ll always get initialized to something (usually `0` for `int` arrays, but depends on how you declare the array).\r\n\r\nIf you declare the array like so (for example):\r\n\r\n    int [] myArray ;\r\n    myArray = new int[7] ;\r\n\r\nthen all of the elements will default to `0`.\r\n\r\nAn alternative syntax for declaring arrays is\r\n\r\n    int[] myArray = { 12, 7, 32, 15, 113, 0, 7 };\r\n\r\nwhere the initial values for an array (of size seven in this case) are given in the curly braces `{}`.\r\n\r\n","title":"How can I see if an element in an int array is empty?","body":"<p>Elements in primitive arrays can't be empty.  They'll always get initialized to something (usually <code>0</code> for <code>int</code> arrays, but depends on how you declare the array).</p>\n\n<p>If you declare the array like so (for example):</p>\n\n<pre><code>int [] myArray ;\nmyArray = new int[7] ;\n</code></pre>\n\n<p>then all of the elements will default to <code>0</code>.</p>\n\n<p>An alternative syntax for declaring arrays is</p>\n\n<pre><code>int[] myArray = { 12, 7, 32, 15, 113, 0, 7 };\n</code></pre>\n\n<p>where the initial values for an array (of size seven in this case) are given in the curly braces <code>{}</code>.</p>\n"},{"tags":[],"owner":{"account_id":13598,"reputation":102599,"user_id":27439,"accept_rate":100,"display_name":"Vincent Ramdhanie"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1226546590,"creation_date":1226546590,"answer_id":286171,"question_id":286161,"body_markdown":"You have to define what you mean by empty. Depending on the datatype of the array you can decide on the semantics of empty. For example, if you have an array of ints you can decide that 0 is empty. Or if the array is of reference types then you can decide that null is empty. Then you simply check by comparing array[5] == null or array[5] == 0 etc.","title":"How can I see if an element in an int array is empty?","body":"<p>You have to define what you mean by empty. Depending on the datatype of the array you can decide on the semantics of empty. For example, if you have an array of ints you can decide that 0 is empty. Or if the array is of reference types then you can decide that null is empty. Then you simply check by comparing array[5] == null or array[5] == 0 etc.</p>\n"},{"tags":[],"owner":{"account_id":16879,"reputation":31,"user_id":37224,"display_name":"Terry Lacy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1226550279,"creation_date":1226550279,"answer_id":286252,"question_id":286161,"body_markdown":"Primitive arrays (int, float, char, etc) are never &quot;empty&quot; (by which I assume you mean &quot;null&quot;), because primitive array elements can never be null.\r\n\r\nBy default, an int array usually contains 0 when allocated.  However, I never rely on this (spent too much time writing C code, I guess).\r\n\r\nOne way is to pick a value that you want to treat as &quot;uninitialized&quot;.  It could be 0, or -1, or some other value that you&#39;re not going to use as a valid value.  Initialize your array to that value after allocating it.\r\n\r\nObject arrays (String[] and any array of objects that extend Object), *can* have null elements, so you could create an Integer[] array and initialize it to nulls. I think I like that idea better than using a magic value as described above.","title":"How can I see if an element in an int array is empty?","body":"<p>Primitive arrays (int, float, char, etc) are never \"empty\" (by which I assume you mean \"null\"), because primitive array elements can never be null.</p>\n\n<p>By default, an int array usually contains 0 when allocated.  However, I never rely on this (spent too much time writing C code, I guess).</p>\n\n<p>One way is to pick a value that you want to treat as \"uninitialized\".  It could be 0, or -1, or some other value that you're not going to use as a valid value.  Initialize your array to that value after allocating it.</p>\n\n<p>Object arrays (String[] and any array of objects that extend Object), <em>can</em> have null elements, so you could create an Integer[] array and initialize it to nulls. I think I like that idea better than using a magic value as described above.</p>\n"},{"tags":[],"owner":{"account_id":13070,"reputation":4278,"user_id":26061,"display_name":"Leigh"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1226571960,"creation_date":1226571960,"answer_id":286746,"question_id":286161,"body_markdown":"Create a constant to define the empty value, eg:\r\n\r\n    private static final int EMPTY = -1;\r\n\r\nthen create the array like this:\r\n\r\n    int[] myArray = new int[size];\r\n    Arrays.fill(myArray, EMPTY);\r\n\r\nthen to check if an element is &#39;empty&#39;, do this:\r\n\r\n    if (myArray[i] == EMPTY)\r\n    {\r\n       //element i is empty\r\n    }","title":"How can I see if an element in an int array is empty?","body":"<p>Create a constant to define the empty value, eg:</p>\n\n<pre><code>private static final int EMPTY = -1;\n</code></pre>\n\n<p>then create the array like this:</p>\n\n<pre><code>int[] myArray = new int[size];\nArrays.fill(myArray, EMPTY);\n</code></pre>\n\n<p>then to check if an element is 'empty', do this:</p>\n\n<pre><code>if (myArray[i] == EMPTY)\n{\n   //element i is empty\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666733088,"creation_date":1666731665,"answer_id":74200153,"question_id":286161,"body_markdown":"# tl;dr\r\n\r\nUse objects rather than primitives.\r\n\r\n    Integer[] myArray \r\n     Objects.isNull( myArray[ 5 ] ) \r\n     Objects.nonNull( myArray[ 5 ] ) \r\n\r\n\r\n# Use objects, not primitives  &lt;s&gt;`int[]`&lt;/s&gt; `Integer[]`\r\n\r\nThe [Answer by Bill the Lizard][1] is correct. An **array of primitive values has no empty** slots. All slots hold an element with a default value for that data type. For `int`, the default is `0`, zero.\r\n\r\nIf you want to track empty slots, or holes, in your array, define the array as **holding object references rather than primitive** values. So you would want a `Integer[]` rather than &lt;s&gt;`int[]`&lt;/s&gt;. \r\n\r\n    Integer[] integers = new Integer[ 12 ] ;\r\n    System.out.println( Arrays.toString( integers ) ) ;\r\n\r\n## `null`\r\n\r\nWhen run we see that all the elements are `null`. This means no object references has yet been placed in that slot. \r\n\r\n&gt;[null, null, null, null, null, null, null, null, null, null, null, null]\r\n\r\nLet&#39;s assign some values. Java provides [auto-boxing][2] for automatically converting `int` values into `Integer` objects. \r\n\r\n\t    \r\n\t    integers[ 2 ] = 42 ;                      // Auto-boxing.\r\n\t    integers[ 5 ] = Integer.valueOf( 99 ) ;   // Unnecessary, because of auto-boxing.\r\n\t    System.out.println( Arrays.toString( integers ) ) ;\r\n\r\nWhen run, we see two slots are used while ten remain unused (`null`). \r\n\r\n&gt;[null, null, 42, null, null, 99, null, null, null, null, null, null]\r\n\r\nSee this [code run at Ideone.com][3].\r\n\r\nYou said:\r\n\r\n&gt;I want to see if `array[5]` holds a value or is empty.\r\n\r\nTest for `null`.\r\n\r\n    boolean slotAtIndex5HoldsObjectRef = ( null != integers[ 5 ] ) ;  // Parens are not necessary, but improve readability.\r\n\r\n&gt;true\r\n\r\nMore elegant to use the [`Objects`][4] utility class.\r\n\r\n    boolean slot5Filled = Objects.nonNull( integers[ 5 ] ) ;\r\n\r\n&gt;true\r\n\r\nSpecify [a default value][5] if none assigned.\r\n\r\n\t    Integer x = Objects.requireNonNullElse( integers[ 5 ] , Integer.valueOf( 101 ) ) ;\r\n\t    Integer y = Objects.requireNonNullElse( integers[ 7 ] , Integer.valueOf( 101 ) ) ;\r\n\r\n&gt;x: 99\r\n&gt;\r\n&gt;y: 101\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/286167/642706\r\n  [2]: https://en.wikipedia.org/wiki/Boxing_(computer_science)#Autoboxing\r\n  [3]: https://ideone.com/QccXf7\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Objects.html\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Objects.html#requireNonNullElse(T,T)","title":"How can I see if an element in an int array is empty?","body":"<h1>tl;dr</h1>\n<p>Use objects rather than primitives.</p>\n<pre><code>Integer[] myArray \n Objects.isNull( myArray[ 5 ] ) \n Objects.nonNull( myArray[ 5 ] ) \n</code></pre>\n<h1>Use objects, not primitives  <s><code>int[]</code></s> <code>Integer[]</code></h1>\n<p>The <a href=\"https://stackoverflow.com/a/286167/642706\">Answer by Bill the Lizard</a> is correct. An <strong>array of primitive values has no empty</strong> slots. All slots hold an element with a default value for that data type. For <code>int</code>, the default is <code>0</code>, zero.</p>\n<p>If you want to track empty slots, or holes, in your array, define the array as <strong>holding object references rather than primitive</strong> values. So you would want a <code>Integer[]</code> rather than <s><code>int[]</code></s>.</p>\n<pre><code>Integer[] integers = new Integer[ 12 ] ;\nSystem.out.println( Arrays.toString( integers ) ) ;\n</code></pre>\n<h2><code>null</code></h2>\n<p>When run we see that all the elements are <code>null</code>. This means no object references has yet been placed in that slot.</p>\n<blockquote>\n<p>[null, null, null, null, null, null, null, null, null, null, null, null]</p>\n</blockquote>\n<p>Let's assign some values. Java provides <a href=\"https://en.wikipedia.org/wiki/Boxing_(computer_science)#Autoboxing\" rel=\"nofollow noreferrer\">auto-boxing</a> for automatically converting <code>int</code> values into <code>Integer</code> objects.</p>\n<pre><code>    integers[ 2 ] = 42 ;                      // Auto-boxing.\n    integers[ 5 ] = Integer.valueOf( 99 ) ;   // Unnecessary, because of auto-boxing.\n    System.out.println( Arrays.toString( integers ) ) ;\n</code></pre>\n<p>When run, we see two slots are used while ten remain unused (<code>null</code>).</p>\n<blockquote>\n<p>[null, null, 42, null, null, 99, null, null, null, null, null, null]</p>\n</blockquote>\n<p>See this <a href=\"https://ideone.com/QccXf7\" rel=\"nofollow noreferrer\">code run at Ideone.com</a>.</p>\n<p>You said:</p>\n<blockquote>\n<p>I want to see if <code>array[5]</code> holds a value or is empty.</p>\n</blockquote>\n<p>Test for <code>null</code>.</p>\n<pre><code>boolean slotAtIndex5HoldsObjectRef = ( null != integers[ 5 ] ) ;  // Parens are not necessary, but improve readability.\n</code></pre>\n<blockquote>\n<p>true</p>\n</blockquote>\n<p>More elegant to use the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Objects.html\" rel=\"nofollow noreferrer\"><code>Objects</code></a> utility class.</p>\n<pre><code>boolean slot5Filled = Objects.nonNull( integers[ 5 ] ) ;\n</code></pre>\n<blockquote>\n<p>true</p>\n</blockquote>\n<p>Specify <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Objects.html#requireNonNullElse(T,T)\" rel=\"nofollow noreferrer\">a default value</a> if none assigned.</p>\n<pre><code>    Integer x = Objects.requireNonNullElse( integers[ 5 ] , Integer.valueOf( 101 ) ) ;\n    Integer y = Objects.requireNonNullElse( integers[ 7 ] , Integer.valueOf( 101 ) ) ;\n</code></pre>\n<blockquote>\n<p>x: 99</p>\n<p>y: 101</p>\n</blockquote>\n"}],"owner":{"account_id":16663,"reputation":14248,"user_id":36545,"accept_rate":76,"display_name":"kylex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79038,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":286167,"answer_count":6,"score":10,"last_activity_date":1666733088,"creation_date":1226546176,"question_id":286161,"body_markdown":"example:\r\n\r\nI want to see if `array[5]` holds a value or is empty.","title":"How can I see if an element in an int array is empty?","body":"<p>example:</p>\n\n<p>I want to see if <code>array[5]</code> holds a value or is empty.</p>\n"},{"tags":["java","serialization"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1666592852,"post_id":74177255,"comment_id":130965009,"body_markdown":"I would *suspect* `javax.swing.event.EventListenerList` from the start of the exception (I am also pretty sure that most Swing classes have a warning regarding serialization (something like incompatibility with future versions)","body":"I would <i>suspect</i> <code>javax.swing.event.EventListenerList</code> from the start of the exception (I am also pretty sure that most Swing classes have a warning regarding serialization (something like incompatibility with future versions)"},{"owner":{"account_id":1246433,"reputation":93,"user_id":1207781,"display_name":"claire"},"score":0,"creation_date":1666593023,"post_id":74177255,"comment_id":130965038,"body_markdown":"@user16320675 Ah. It seems obvious now! Thanks.","body":"@user16320675 Ah. It seems obvious now! Thanks."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666593073,"creation_date":1666593073,"answer_id":74177324,"question_id":74177255,"body_markdown":"The class that is causing this is `javax.swing.event.EventListenerList`.\r\n\r\nNote that you should generally avoid serializing Swing classes.  Many Swing classes state this in their javadocs:\r\n\r\n&gt;  *&quot;Serialized objects of this class will not be compatible with future Swing releases.&quot;*\r\n\r\nSo if your use-case entails serializing with one version of Java and *potentialiiy* deserializing with another version, you are liable to run into this kind of problem.\r\n","title":"java.io.invalidClassException - which class is causing it?","body":"<p>The class that is causing this is <code>javax.swing.event.EventListenerList</code>.</p>\n<p>Note that you should generally avoid serializing Swing classes.  Many Swing classes state this in their javadocs:</p>\n<blockquote>\n<p><em>&quot;Serialized objects of this class will not be compatible with future Swing releases.&quot;</em></p>\n</blockquote>\n<p>So if your use-case entails serializing with one version of Java and <em>potentialiiy</em> deserializing with another version, you are liable to run into this kind of problem.</p>\n"}],"owner":{"account_id":1246433,"reputation":93,"user_id":1207781,"display_name":"claire"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666733087,"creation_date":1666592516,"question_id":74177255,"body_markdown":"I am getting an InvalidClassException when trying to open a serialized class. The class I am trying to open is quite complex and contains several other classes. Is there any way of telling which class is causing the exception?\r\n\r\nI have set serialVersionUID on all classes and used transient variables where necessary. Presumably I have failed do to this for all classes, but I would like to find a way of locating the error without having to read through the code for every class.\r\n\r\nHere is the stack trace I&#39;m getting:\r\n\r\n    java.io.InvalidClassException: javax.swing.event.EventListenerList; local class incompatible: stream classdesc serialVersionUID = -5677132037850737084, local class serialVersionUID = -7977902244297240866\r\n        at java.base/java.io.ObjectStreamClass.initNonProxy(ObjectStreamClass.java:728)\r\n        at java.base/java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:2086)\r\n        at java.base/java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1933)\r\n        at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2259)\r\n        at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1768)\r\n        at java.base/java.io.ObjectInputStream$FieldValues.&lt;init&gt;(ObjectInputStream.java:2641)\r\n        at java.base/java.io.ObjectInputStream.readFields(ObjectInputStream.java:725)\r\n        at java.desktop/javax.swing.tree.DefaultTreeModel.readObject(DefaultTreeModel.java:704)\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n        at java.base/java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:1231)\r\n        at java.base/java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2458)\r\n        at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2292)\r\n        at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1768)\r\n        at java.base/java.io.ObjectInputStream$FieldValues.&lt;init&gt;(ObjectInputStream.java:2641)\r\n        at java.base/java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2492)\r\n        at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2292)\r\n        at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1768)\r\n        at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:543)\r\n        at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:501)\r\n        at combined.CombinedInterface.open(CombinedInterface.java:82)\r\n        at combined.CombinedInterface.main(CombinedInterface.java:18)\r\n\r\nAlso, this problem doesn&#39;t occur when I&#39;m running the program in NetBeans, it only occurs when I&#39;m running it from a jar file outside of Netbeans.","title":"java.io.invalidClassException - which class is causing it?","body":"<p>I am getting an InvalidClassException when trying to open a serialized class. The class I am trying to open is quite complex and contains several other classes. Is there any way of telling which class is causing the exception?</p>\n<p>I have set serialVersionUID on all classes and used transient variables where necessary. Presumably I have failed do to this for all classes, but I would like to find a way of locating the error without having to read through the code for every class.</p>\n<p>Here is the stack trace I'm getting:</p>\n<pre><code>java.io.InvalidClassException: javax.swing.event.EventListenerList; local class incompatible: stream classdesc serialVersionUID = -5677132037850737084, local class serialVersionUID = -7977902244297240866\n    at java.base/java.io.ObjectStreamClass.initNonProxy(ObjectStreamClass.java:728)\n    at java.base/java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:2086)\n    at java.base/java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1933)\n    at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2259)\n    at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1768)\n    at java.base/java.io.ObjectInputStream$FieldValues.&lt;init&gt;(ObjectInputStream.java:2641)\n    at java.base/java.io.ObjectInputStream.readFields(ObjectInputStream.java:725)\n    at java.desktop/javax.swing.tree.DefaultTreeModel.readObject(DefaultTreeModel.java:704)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at java.base/java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:1231)\n    at java.base/java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2458)\n    at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2292)\n    at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1768)\n    at java.base/java.io.ObjectInputStream$FieldValues.&lt;init&gt;(ObjectInputStream.java:2641)\n    at java.base/java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2492)\n    at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2292)\n    at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1768)\n    at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:543)\n    at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:501)\n    at combined.CombinedInterface.open(CombinedInterface.java:82)\n    at combined.CombinedInterface.main(CombinedInterface.java:18)\n</code></pre>\n<p>Also, this problem doesn't occur when I'm running the program in NetBeans, it only occurs when I'm running it from a jar file outside of Netbeans.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":4361066,"reputation":2144,"user_id":3558133,"display_name":"Marcinek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1454805416,"creation_date":1454804940,"answer_id":35248300,"question_id":35248238,"body_markdown":"Every java jvm has a working path. Usually it is the same from where the jvm is started. But you always can change this.\r\n\r\nYour IDE has a default working path set. Depending on your IDE this can be changed in the starting options.\r\n\r\nTo find your current working path you can just print the absolute path to the current directory:\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(new File(&quot;.&quot;).getAbsolutePath());\r\n\t}\r\n\r\nYou should have your file in this folder if you are using relative path.\r\n\r\nHow ever using an absolute path should not throw any FNF exception.\r\n\r\n---\r\nTo use the scanner you can use this example:\r\n\r\n        try {\r\n\t\t\tScanner s = new Scanner(new FileInputStream(&quot;text.xml&quot;));\r\n\t\t\t\r\n\t\t\twhile (s.hasNextInt()){ \r\n\t\t\t // bla bla\r\n\t\t\t}\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\t// Please handle this exception ;)\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\nPlease note, that you try to invoke `hasNextInt()` on a `File` object which does not have such method. You have to invoke it on a `Scanner` object.\r\n","title":"java.io.FileNotFoundException. Trying to pass in args[0]","body":"<p>Every java jvm has a working path. Usually it is the same from where the jvm is started. But you always can change this.</p>\n\n<p>Your IDE has a default working path set. Depending on your IDE this can be changed in the starting options.</p>\n\n<p>To find your current working path you can just print the absolute path to the current directory:</p>\n\n<pre><code>public static void main(String[] args) {\n    System.out.println(new File(\".\").getAbsolutePath());\n}\n</code></pre>\n\n<p>You should have your file in this folder if you are using relative path.</p>\n\n<p>How ever using an absolute path should not throw any FNF exception.</p>\n\n<hr>\n\n<p>To use the scanner you can use this example:</p>\n\n<pre><code>    try {\n        Scanner s = new Scanner(new FileInputStream(\"text.xml\"));\n\n        while (s.hasNextInt()){ \n         // bla bla\n        }\n    } catch (FileNotFoundException e) {\n        // Please handle this exception ;)\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>Please note, that you try to invoke <code>hasNextInt()</code> on a <code>File</code> object which does not have such method. You have to invoke it on a <code>Scanner</code> object.</p>\n"},{"tags":[],"owner":{"display_name":"user5616935"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1454805010,"creation_date":1454805010,"answer_id":35248308,"question_id":35248238,"body_markdown":"simple code in files use accordingly\r\n\r\n    BufferedReader br = null;\r\n\r\n\t\ttry {\r\n\r\n\t\t\tString sCurrentLine;\r\n\r\n\t\t\tbr = new BufferedReader(new FileReader(&quot;C:\\\\testing.txt&quot;));\r\n\r\n\t\t\twhile ((sCurrentLine = br.readLine()) != null) {\r\n\t\t\t\tSystem.out.println(sCurrentLine);\r\n\t\t\t}","title":"java.io.FileNotFoundException. Trying to pass in args[0]","body":"<p>simple code in files use accordingly</p>\n\n<pre><code>BufferedReader br = null;\n\n    try {\n\n        String sCurrentLine;\n\n        br = new BufferedReader(new FileReader(\"C:\\\\testing.txt\"));\n\n        while ((sCurrentLine = br.readLine()) != null) {\n            System.out.println(sCurrentLine);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26538697,"reputation":11,"user_id":20169811,"display_name":"MaiNgo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666733060,"creation_date":1666413799,"answer_id":74161124,"question_id":35248238,"body_markdown":"Lets try this solution using `.getAbsolutePath()` or `.getCanonicalPath()` \r\n\r\n```java\r\nimport java.util.*;\r\nimport java.io.*;\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n\r\n        // write your code here\r\n\r\n\r\n        Scanner scan = new Scanner(System.in);\r\n\r\n        String input = scan.nextLine();\r\n        //FileInputStream file = new FileInputStream(input);\r\n        File file = new File(input);\r\n        //String inputF = file.getAbsolutePath().replace(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;);\r\n        String inputF = file.getCanonicalPath().replace(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;);\r\n\r\n\r\n        File n = new File(inputF);\r\n        Scanner nq = new Scanner(n);\r\n        while (nq.hasNext()) {\r\n            String data = nq.nextLine();\r\n            System.out.println(data);\r\n\r\n\r\n        }\r\n    }\r\n}\r\n```\r\nInput:\r\ntext.txt\r\n\r\n\r\nYou can visit this to understand more these methods: https://www.digitalocean.com/community/tutorials/java-file-path-absolute-canonical\r\n","title":"java.io.FileNotFoundException. Trying to pass in args[0]","body":"<p>Lets try this solution using <code>.getAbsolutePath()</code> or <code>.getCanonicalPath()</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.io.*;\npublic class Main {\n\n    public static void main(String[] args) throws IOException {\n\n        // write your code here\n\n\n        Scanner scan = new Scanner(System.in);\n\n        String input = scan.nextLine();\n        //FileInputStream file = new FileInputStream(input);\n        File file = new File(input);\n        //String inputF = file.getAbsolutePath().replace(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;);\n        String inputF = file.getCanonicalPath().replace(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;);\n\n\n        File n = new File(inputF);\n        Scanner nq = new Scanner(n);\n        while (nq.hasNext()) {\n            String data = nq.nextLine();\n            System.out.println(data);\n\n\n        }\n    }\n}\n</code></pre>\n<p>Input:\ntext.txt</p>\n<p>You can visit this to understand more these methods: <a href=\"https://www.digitalocean.com/community/tutorials/java-file-path-absolute-canonical\" rel=\"nofollow noreferrer\">https://www.digitalocean.com/community/tutorials/java-file-path-absolute-canonical</a></p>\n"}],"owner":{"account_id":2846024,"reputation":139,"user_id":2444400,"accept_rate":27,"display_name":"user2444400"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1417,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1666733060,"creation_date":1454804457,"question_id":35248238,"body_markdown":"I&#39;ve been trying to convert my C++ code into Java and I&#39;m getting stuck particularly on the file input.\r\n\r\n    String inputfilename = args[0];\r\n        Scanner infile = new Scanner (new FileInputStream(inputfilename));\r\n\r\n\r\nThis keeps giving me a java.io.FileNotFoundException error. My file that I&#39;m trying to pass in &quot;StackData.txt&quot; is put correctly into the command line arguements. I&#39;ve put it in the root directory and the project\\src\\ folder, and neither are working for me. I&#39;ve tried to name the inputfilename string and do   like -\r\n\r\n    String inputfilename = &quot;StackData.txt&quot;;\r\n    Scanner infile = new Scanner (new FileInputStream(inputfilename));\r\n\r\n\r\nand that doesn&#39;t seem to work either. Neither does trying to throw the directory path into the string name also. Am I making a really juvenile error somewhere?\r\n\r\nI&#39;ve tried using \r\n   \r\n    File infile = new File(args[0]);\r\n\r\nas well but if I try to use a method for my while loop\r\n\r\n    while (infile.hasNextInt()){ blah blah\r\n     }\r\n\r\nit says the method cannot be resolved, which I figured means to use the hasNextInt() method I have to initiate the file with FileInputStream.","title":"java.io.FileNotFoundException. Trying to pass in args[0]","body":"<p>I've been trying to convert my C++ code into Java and I'm getting stuck particularly on the file input.</p>\n\n<pre><code>String inputfilename = args[0];\n    Scanner infile = new Scanner (new FileInputStream(inputfilename));\n</code></pre>\n\n<p>This keeps giving me a java.io.FileNotFoundException error. My file that I'm trying to pass in \"StackData.txt\" is put correctly into the command line arguements. I've put it in the root directory and the project\\src\\ folder, and neither are working for me. I've tried to name the inputfilename string and do   like -</p>\n\n<pre><code>String inputfilename = \"StackData.txt\";\nScanner infile = new Scanner (new FileInputStream(inputfilename));\n</code></pre>\n\n<p>and that doesn't seem to work either. Neither does trying to throw the directory path into the string name also. Am I making a really juvenile error somewhere?</p>\n\n<p>I've tried using </p>\n\n<pre><code>File infile = new File(args[0]);\n</code></pre>\n\n<p>as well but if I try to use a method for my while loop</p>\n\n<pre><code>while (infile.hasNextInt()){ blah blah\n }\n</code></pre>\n\n<p>it says the method cannot be resolved, which I figured means to use the hasNextInt() method I have to initiate the file with FileInputStream.</p>\n"},{"tags":["java","spring-boot","groovy","spock"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666733018,"creation_date":1666714626,"answer_id":74197194,"question_id":74194362,"body_markdown":"There is no difference between Spock and JUnit when mocking spring security-context. You can provide with mocked `Authentication` for both unit (`@WebFluxTest`) and integration (`@SpringBootTest`) with either:\r\n- `org.springframework.security.test.web.reactive.server.SecurityMockServerConfigurers.mockOpaqueToken` mutator for WebTestClient\r\n- `@WithMockBearerTokenAuthentication` annotation.\r\n\r\nMocked `BearerTokenAuthentication`, Spring&#39;s auth implementation for token introspection (unless you explicitly changed it in your conf), is put in test security-context directly by annotation or mutator: authorization header is not introspected (it is completely ignored and can be omitted).\r\n\r\nSample (with JUnit, just adapt to your test framework) in [this project][1]:\r\n```java\r\n@Test\r\nvoid securedRouteWithAuthorizedPersonnelViaMutatorIsOk() throws Exception {\r\n    api\r\n        .mutateWith(mockOpaqueToken()\r\n            .attributes(attributes -&gt; attributes.put(StandardClaimNames.PREFERRED_USERNAME, &quot;Ch4mpy&quot;))\r\n            .authorities(new SimpleGrantedAuthority(&quot;ROLE_AUTHORIZED_PERSONNEL&quot;)))\r\n        .get().uri(&quot;https://localhost/secured-route&quot;)\r\n        .exchange()\r\n        .expectStatus().isOk();\r\n}\r\n\r\n@Test\r\n@WithMockBearerTokenAuthentication(\r\n    authorities = &quot;ROLE_AUTHORIZED_PERSONNEL&quot;,\r\n    attributes = @OpenIdClaims(preferredUsername = &quot;Ch4mpy&quot;))\r\nvoid securedRouteWithAuthorizedPersonnelViaAnnotationIsOk() throws Exception {\r\n    api\r\n        .get().uri(&quot;https://localhost/secured-route&quot;)\r\n        .exchange()\r\n        .expectStatus().isOk();\r\n}\r\n```\r\n\r\nWhen testing other secured `@Component` type than `@Controller` (like `@Service` or `@Repository`), only test annotation is usable as there is no HTTP request:\r\n```java\r\n@Import({ SecurityConfig.class, SecretRepo.class })\r\nclass SecretRepoTest {\r\n    // auto-wire tested component\r\n    @Autowired\r\n    SecretRepo secretRepo;\r\n\r\n    @Test\r\n    void whenNotAuthenticatedThenThrows() {\r\n        // call tested components methods directly (do not use MockMvc nor\r\n        // WebTestClient)\r\n        assertThrows(Exception.class, () -&gt; secretRepo.findSecretByUsername(&quot;ch4mpy&quot;).block());\r\n    }\r\n\r\n    @Test\r\n    @WithMockBearerTokenAuthentication(attributes = @OpenIdClaims(preferredUsername = &quot;Tonton Pirate&quot;))\r\n    void whenAuthenticatedAsSomeoneElseThenThrows() {\r\n        assertThrows(Exception.class, () -&gt; secretRepo.findSecretByUsername(&quot;ch4mpy&quot;).block());\r\n    }\r\n\r\n    @Test\r\n    @WithMockBearerTokenAuthentication(attributes = @OpenIdClaims(preferredUsername = &quot;ch4mpy&quot;))\r\n    void whenAuthenticatedWithSameUsernameThenReturns() {\r\n        assertEquals(&quot;Don&#39;t ever tell it&quot;, secretRepo.findSecretByUsername(&quot;ch4mpy&quot;).block());\r\n    }\r\n}\r\n```\r\n\r\nAnnotation is available from\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-addons-oauth2-test&lt;/artifactId&gt;\r\n\t&lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\nWhich is a transient dependency of\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-addons-webflux-introspecting-test&lt;/artifactId&gt;\r\n\t&lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\nI used the later in sample to also have `WebTestClientSupport`, but first is enough for just test annotations.  \r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons/tree/master/samples/webflux-introspecting-default","title":"How to mock OAuth2 token introspect using Spock","body":"<p>There is no difference between Spock and JUnit when mocking spring security-context. You can provide with mocked <code>Authentication</code> for both unit (<code>@WebFluxTest</code>) and integration (<code>@SpringBootTest</code>) with either:</p>\n<ul>\n<li><code>org.springframework.security.test.web.reactive.server.SecurityMockServerConfigurers.mockOpaqueToken</code> mutator for WebTestClient</li>\n<li><code>@WithMockBearerTokenAuthentication</code> annotation.</li>\n</ul>\n<p>Mocked <code>BearerTokenAuthentication</code>, Spring's auth implementation for token introspection (unless you explicitly changed it in your conf), is put in test security-context directly by annotation or mutator: authorization header is not introspected (it is completely ignored and can be omitted).</p>\n<p>Sample (with JUnit, just adapt to your test framework) in <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/webflux-introspecting-default\" rel=\"nofollow noreferrer\">this project</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid securedRouteWithAuthorizedPersonnelViaMutatorIsOk() throws Exception {\n    api\n        .mutateWith(mockOpaqueToken()\n            .attributes(attributes -&gt; attributes.put(StandardClaimNames.PREFERRED_USERNAME, &quot;Ch4mpy&quot;))\n            .authorities(new SimpleGrantedAuthority(&quot;ROLE_AUTHORIZED_PERSONNEL&quot;)))\n        .get().uri(&quot;https://localhost/secured-route&quot;)\n        .exchange()\n        .expectStatus().isOk();\n}\n\n@Test\n@WithMockBearerTokenAuthentication(\n    authorities = &quot;ROLE_AUTHORIZED_PERSONNEL&quot;,\n    attributes = @OpenIdClaims(preferredUsername = &quot;Ch4mpy&quot;))\nvoid securedRouteWithAuthorizedPersonnelViaAnnotationIsOk() throws Exception {\n    api\n        .get().uri(&quot;https://localhost/secured-route&quot;)\n        .exchange()\n        .expectStatus().isOk();\n}\n</code></pre>\n<p>When testing other secured <code>@Component</code> type than <code>@Controller</code> (like <code>@Service</code> or <code>@Repository</code>), only test annotation is usable as there is no HTTP request:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Import({ SecurityConfig.class, SecretRepo.class })\nclass SecretRepoTest {\n    // auto-wire tested component\n    @Autowired\n    SecretRepo secretRepo;\n\n    @Test\n    void whenNotAuthenticatedThenThrows() {\n        // call tested components methods directly (do not use MockMvc nor\n        // WebTestClient)\n        assertThrows(Exception.class, () -&gt; secretRepo.findSecretByUsername(&quot;ch4mpy&quot;).block());\n    }\n\n    @Test\n    @WithMockBearerTokenAuthentication(attributes = @OpenIdClaims(preferredUsername = &quot;Tonton Pirate&quot;))\n    void whenAuthenticatedAsSomeoneElseThenThrows() {\n        assertThrows(Exception.class, () -&gt; secretRepo.findSecretByUsername(&quot;ch4mpy&quot;).block());\n    }\n\n    @Test\n    @WithMockBearerTokenAuthentication(attributes = @OpenIdClaims(preferredUsername = &quot;ch4mpy&quot;))\n    void whenAuthenticatedWithSameUsernameThenReturns() {\n        assertEquals(&quot;Don't ever tell it&quot;, secretRepo.findSecretByUsername(&quot;ch4mpy&quot;).block());\n    }\n}\n</code></pre>\n<p>Annotation is available from</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-addons-oauth2-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Which is a transient dependency of</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-addons-webflux-introspecting-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I used the later in sample to also have <code>WebTestClientSupport</code>, but first is enough for just test annotations.</p>\n"},{"tags":[],"owner":{"account_id":13104635,"reputation":186,"user_id":9467865,"display_name":"Dariusz Urbanek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666724830,"creation_date":1666724024,"answer_id":74198888,"question_id":74194362,"body_markdown":"I found the solution.\r\n\r\nYou have to configure WireMockServer and then stub the response. Working solution below:\r\n\r\n``` groovy\r\n@ContextConfiguration\r\n@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\r\nclass SomeTest extends Specification {\r\n\r\n  private static final int PORT = 8089;\r\n\r\n  private WireMockServer wireMockServer;\r\n\r\n  def setup() {\r\n    wireMockServer = new WireMockServer(options().port(PORT))\r\n    wireMockServer.start()\r\n    WireMock.configureFor(&quot;localhost&quot;, wireMockServer.port())\r\n\r\n  def stubIntrospection() {\r\n    stubFor(post(&quot;/api/v1/oauth/token/introspect&quot;)\r\n        .willReturn(aResponse()\r\n            .withStatus(200)\r\n            .withHeader(&quot;Content-Type&quot;, MediaType.APPLICATION_JSON_VALUE)\r\n            .withBodyFile(&quot;path-to-my-file.json&quot;)))\r\n  }\r\n\r\n  def &quot;my test case&quot; () {\r\n\r\n    stubIntrospection()\r\n\r\n    //my test here    \r\n  }\r\n\r\n  }\r\n```\r\n","title":"How to mock OAuth2 token introspect using Spock","body":"<p>I found the solution.</p>\n<p>You have to configure WireMockServer and then stub the response. Working solution below:</p>\n<pre><code>@ContextConfiguration\n@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\nclass SomeTest extends Specification {\n\n  private static final int PORT = 8089;\n\n  private WireMockServer wireMockServer;\n\n  def setup() {\n    wireMockServer = new WireMockServer(options().port(PORT))\n    wireMockServer.start()\n    WireMock.configureFor(&quot;localhost&quot;, wireMockServer.port())\n\n  def stubIntrospection() {\n    stubFor(post(&quot;/api/v1/oauth/token/introspect&quot;)\n        .willReturn(aResponse()\n            .withStatus(200)\n            .withHeader(&quot;Content-Type&quot;, MediaType.APPLICATION_JSON_VALUE)\n            .withBodyFile(&quot;path-to-my-file.json&quot;)))\n  }\n\n  def &quot;my test case&quot; () {\n\n    stubIntrospection()\n\n    //my test here    \n  }\n\n  }\n</code></pre>\n"}],"owner":{"account_id":13104635,"reputation":186,"user_id":9467865,"display_name":"Dariusz Urbanek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":899,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666733018,"creation_date":1666702200,"question_id":74194362,"body_markdown":"I have a spring-boot Webflux application and I am writing some tests using Spock and Groovy.\r\n\r\nMy Controllers are secured with OAuth opaque token which I need to mock a response from introspection.\r\nMy test properties are:\r\n\r\n    spring.security.oauth2.resourceserver.opaquetoken.client-id=fake_client\r\n    spring.security.oauth2.resourceserver.opaquetoken.client-secret=fake_secret\r\n    spring.security.oauth2.resourceserver.opaquetoken.introspection-uri=http://localhost:8089/api/v1/oauth/token/introspect\r\n\r\nMy test uses `WebClient` as below:\r\n\r\n``` java\r\nwebClient.post()\r\n    .uri(URL.toString()))\r\n    .accept(MediaType.APPLICATION_JSON)\r\n    .headers(http -&gt; http.setBearerAuth(&quot;bearer_token&quot;))\r\n    .exchange()\r\n    .expectStatus()\r\n    .is2xxSuccessful()\r\n```\r\n\r\n","title":"How to mock OAuth2 token introspect using Spock","body":"<p>I have a spring-boot Webflux application and I am writing some tests using Spock and Groovy.</p>\n<p>My Controllers are secured with OAuth opaque token which I need to mock a response from introspection.\nMy test properties are:</p>\n<pre><code>spring.security.oauth2.resourceserver.opaquetoken.client-id=fake_client\nspring.security.oauth2.resourceserver.opaquetoken.client-secret=fake_secret\nspring.security.oauth2.resourceserver.opaquetoken.introspection-uri=http://localhost:8089/api/v1/oauth/token/introspect\n</code></pre>\n<p>My test uses <code>WebClient</code> as below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>webClient.post()\n    .uri(URL.toString()))\n    .accept(MediaType.APPLICATION_JSON)\n    .headers(http -&gt; http.setBearerAuth(&quot;bearer_token&quot;))\n    .exchange()\n    .expectStatus()\n    .is2xxSuccessful()\n</code></pre>\n"},{"tags":["java","android","layout","android-linearlayout","android-cardview"],"answers":[{"tags":[],"owner":{"account_id":14033656,"reputation":105,"user_id":13463349,"display_name":"Chris972"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666732855,"creation_date":1666732855,"answer_id":74200315,"question_id":74008984,"body_markdown":"I finaly had to add a LinearLayout, inside the cardView; which is the one I `setSelected()` and the result is what I needed.","title":"migrate LinearLayout to Cardview selectable","body":"<p>I finaly had to add a LinearLayout, inside the cardView; which is the one I <code>setSelected()</code> and the result is what I needed.</p>\n"}],"owner":{"account_id":14033656,"reputation":105,"user_id":13463349,"display_name":"Chris972"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74200315,"answer_count":1,"score":0,"last_activity_date":1666732855,"creation_date":1665356876,"question_id":74008984,"body_markdown":"My recyclerview is:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout android:layout_width=&quot;match_parent&quot;\r\n    \txmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    \txmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    \tandroid:layout_height=&quot;wrap_content&quot;\r\n    \tandroid:orientation=&quot;horizontal&quot;\r\n    \tandroid:background=&quot;@drawable/recyclerview_highlight&quot;\r\n    \tandroid:layout_margin=&quot;6dp&quot;&gt;\r\n    \r\n    \t&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    \t\tandroid:layout_width=&quot;match_parent&quot;\r\n    \t\tandroid:layout_height=&quot;wrap_content&quot;\r\n    \t\tandroid:padding=&quot;6dp&quot;&gt;\r\n    \r\n    \t\t&lt;TextView\r\n    \t\t\tandroid:id=&quot;@+id/articleCategTextView&quot;\r\n    \t\t\tandroid:layout_width=&quot;0dp&quot;\r\n    \t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n    \t\t\tandroid:ellipsize=&quot;end&quot;\r\n    \t\t\tandroid:maxLines=&quot;1&quot;\r\n    \t\t\tandroid:text=&quot;@null&quot;\r\n    \t\t\tapp:layout_constraintBottom_toTopOf=&quot;@id/articleNameTextView&quot;\r\n    \t\t\tapp:layout_constraintRight_toLeftOf=&quot;@id/articleQteTextView&quot;\r\n    \t\t\tapp:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n    \t\t\tapp:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n    \t\t&lt;TextView\r\n    \t\t\tandroid:id=&quot;@+id/articleQteTextView&quot;\r\n    \t\t\tandroid:layout_width=&quot;wrap_content&quot;\r\n    \t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n    \t\t\tapp:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n    \t\t\tapp:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n    \t\t\tapp:layout_constraintLeft_toRightOf=&quot;@id/articleCategTextView&quot;\r\n    \t\t\tapp:layout_constraintBottom_toTopOf=&quot;@id/articleNameTextView&quot;\r\n    \t\t\tandroid:text=&quot;@null&quot; /&gt;\r\n    \r\n    \t\t&lt;TextView\r\n    \t\t\tandroid:id=&quot;@+id/articleNameTextView&quot;\r\n    \t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n    \t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n    \t\t\tandroid:ellipsize=&quot;end&quot;\r\n    \t\t\tandroid:maxLines=&quot;1&quot;\r\n    \t\t\tapp:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n    \t\t\tandroid:text=&quot;@null&quot; /&gt;\r\n    \r\n    \t&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\n**@drawable/recyclerview_highlight**:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    \t&lt;item android:state_selected=&quot;true&quot; android:drawable=&quot;@color/selected_color&quot;/&gt;\r\n    &lt;/selector&gt;\r\n\r\nIn &quot;onBindViewHolder&quot;, I highlight it, when selected with:\r\n\r\n    holder.itemView.setSelected(article.isSelected());\r\n\r\nAll is ok BUT, for a little more visual elegance, I wanted to transform the LinearLayout into Cardview.\r\nAnd when I try it, setSelected has not effect anymore. I even try to &quot;setActivated&quot; with state_activated but not better.\r\n\r\nWhat should I modify to obtain the same type of operation? Is it at the level of the layout, the selector or the java code, and what to use instead of &quot;selected&quot;?","title":"migrate LinearLayout to Cardview selectable","body":"<p>My recyclerview is:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout android:layout_width=&quot;match_parent&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;horizontal&quot;\n    android:background=&quot;@drawable/recyclerview_highlight&quot;\n    android:layout_margin=&quot;6dp&quot;&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:padding=&quot;6dp&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/articleCategTextView&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:ellipsize=&quot;end&quot;\n            android:maxLines=&quot;1&quot;\n            android:text=&quot;@null&quot;\n            app:layout_constraintBottom_toTopOf=&quot;@id/articleNameTextView&quot;\n            app:layout_constraintRight_toLeftOf=&quot;@id/articleQteTextView&quot;\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/articleQteTextView&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintLeft_toRightOf=&quot;@id/articleCategTextView&quot;\n            app:layout_constraintBottom_toTopOf=&quot;@id/articleNameTextView&quot;\n            android:text=&quot;@null&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/articleNameTextView&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:ellipsize=&quot;end&quot;\n            android:maxLines=&quot;1&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            android:text=&quot;@null&quot; /&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p><strong>@drawable/recyclerview_highlight</strong>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item android:state_selected=&quot;true&quot; android:drawable=&quot;@color/selected_color&quot;/&gt;\n&lt;/selector&gt;\n</code></pre>\n<p>In &quot;onBindViewHolder&quot;, I highlight it, when selected with:</p>\n<pre><code>holder.itemView.setSelected(article.isSelected());\n</code></pre>\n<p>All is ok BUT, for a little more visual elegance, I wanted to transform the LinearLayout into Cardview.\nAnd when I try it, setSelected has not effect anymore. I even try to &quot;setActivated&quot; with state_activated but not better.</p>\n<p>What should I modify to obtain the same type of operation? Is it at the level of the layout, the selector or the java code, and what to use instead of &quot;selected&quot;?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1666642994,"post_id":74186364,"comment_id":130981697,"body_markdown":"Hi &amp; welcome! ..introduce variable (before while loop) `int count = 0;` ..change your while condition to `while(running &amp;&amp; count &lt; 3)`.. increment `count` in the according blocks (alternatively: increment it &quot;generally&quot;&amp; decrement &quot;where needed&quot;)","body":"Hi &amp; welcome! ..introduce variable (before while loop) <code>int count = 0;</code> ..change your while condition to <code>while(running &amp;&amp; count &lt; 3)</code>.. increment <code>count</code> in the according blocks (alternatively: increment it &quot;generally&quot;&amp; decrement &quot;where needed&quot;)"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1666643010,"post_id":74186364,"comment_id":130981702,"body_markdown":"Add an `int` variable, initialized to 0, and increase it for each question. Set `running` to `false` when your counter is 3.","body":"Add an <code>int</code> variable, initialized to 0, and increase it for each question. Set <code>running</code> to <code>false</code> when your counter is 3."},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1666643509,"post_id":74186364,"comment_id":130981835,"body_markdown":"Sorry Basil, but none of the dupes you linked would actually answer this question.  This one&#39;s deceptively more straightforward than just a forever-loop for a break.","body":"Sorry Basil, but none of the dupes you linked would actually answer this question.  This one&#39;s deceptively more straightforward than just a forever-loop for a break."}],"answers":[{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666643444,"creation_date":1666643444,"answer_id":74186514,"question_id":74186364,"body_markdown":"1. Change `running` from `boolean` to `int`.  Call it `runningCount`.\r\n2. Establish your `while` loop to only run while `runningCount &lt; 3`.\r\n3. In each question, *increment* `runningCount`.\r\n\r\nThe application will stop after you ask three questions as you require.","title":"How to make the program end after 3 questions in java?","body":"<ol>\n<li>Change <code>running</code> from <code>boolean</code> to <code>int</code>.  Call it <code>runningCount</code>.</li>\n<li>Establish your <code>while</code> loop to only run while <code>runningCount &lt; 3</code>.</li>\n<li>In each question, <em>increment</em> <code>runningCount</code>.</li>\n</ol>\n<p>The application will stop after you ask three questions as you require.</p>\n"}],"owner":{"account_id":26720968,"reputation":9,"user_id":20324821,"display_name":"mrspjsh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1666732682,"creation_date":1666642606,"question_id":74186364,"body_markdown":"I made a program that answers individual questions and I would like it to end after asking 3 questions in any order. I only did that when I write Bye, the program will end and I don&#39;t know how to turn it into these 3 questions. I would like the answer to this question to be related to this code, please\r\n\r\n    import java.util.Scanner;\r\n        \r\n    class Bot {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;QUESTIONS: How old are you? | What is your name? | What did you eat for breakfast?&quot;);\r\n            System.out.println(&quot;Ask a question?&quot;);\r\n        \r\n            Scanner pytania = new Scanner(System.in);\r\n            String input;\r\n            \r\n            boolean running = true;\r\n            while (running) {\r\n                System.out.println(&quot; &quot;);\r\n                input = pytania.nextLine();\r\n        \r\n                if (input.equals(&quot;How old are you?&quot;)) {\r\n                    System.out.println(&quot;I am 125 years old&quot;);\r\n                } else if (input.equals(&quot;Bye&quot;)) {\r\n                    System.out.println(&quot;Bye!&quot;);\r\n                    running = false;\r\n                } else if (input.equals(&quot;What is your name?&quot;)) {\r\n                    System.out.println(&quot;My name is Christopher&quot;);\r\n                } else if (input.equals(&quot;What did you eat for breakfast?&quot;)) {\r\n                    System.out.println(&quot;I had scrambled eggs for breakfast&quot;);\r\n                } else {\r\n                    System.out.println(&quot;Sorry, I don&#39;t understand the question!&quot;);\r\n                }\r\n            }\r\n        }\r\n    }","title":"How to make the program end after 3 questions in java?","body":"<p>I made a program that answers individual questions and I would like it to end after asking 3 questions in any order. I only did that when I write Bye, the program will end and I don't know how to turn it into these 3 questions. I would like the answer to this question to be related to this code, please</p>\n<pre><code>import java.util.Scanner;\n    \nclass Bot {\n    public static void main(String[] args) {\n        System.out.println(&quot;QUESTIONS: How old are you? | What is your name? | What did you eat for breakfast?&quot;);\n        System.out.println(&quot;Ask a question?&quot;);\n    \n        Scanner pytania = new Scanner(System.in);\n        String input;\n        \n        boolean running = true;\n        while (running) {\n            System.out.println(&quot; &quot;);\n            input = pytania.nextLine();\n    \n            if (input.equals(&quot;How old are you?&quot;)) {\n                System.out.println(&quot;I am 125 years old&quot;);\n            } else if (input.equals(&quot;Bye&quot;)) {\n                System.out.println(&quot;Bye!&quot;);\n                running = false;\n            } else if (input.equals(&quot;What is your name?&quot;)) {\n                System.out.println(&quot;My name is Christopher&quot;);\n            } else if (input.equals(&quot;What did you eat for breakfast?&quot;)) {\n                System.out.println(&quot;I had scrambled eggs for breakfast&quot;);\n            } else {\n                System.out.println(&quot;Sorry, I don't understand the question!&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","azure","azure-maps"],"answers":[{"tags":[],"owner":{"account_id":1293887,"reputation":17020,"user_id":1245450,"display_name":"rbrundritt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666630052,"creation_date":1666630052,"answer_id":74184337,"question_id":74184131,"body_markdown":"You can use the maps `setCamera` function like this:\r\n\r\n```\r\nmap.setCamera(center(Point.fromLngLat(-122.33, 47.64)), zoom(14));\r\n```","title":"How do I send my map to a specific coordinate on Azure maps for Android?","body":"<p>You can use the maps <code>setCamera</code> function like this:</p>\n<pre><code>map.setCamera(center(Point.fromLngLat(-122.33, 47.64)), zoom(14));\n</code></pre>\n"}],"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74184337,"answer_count":1,"score":1,"last_activity_date":1666732619,"creation_date":1666628891,"question_id":74184131,"body_markdown":"So, I have my map all configured, but I can&#39;t find the way to center it on a specific coordinate and zoom in. Does anyone know how to do that on Android?\r\n\r\nHere is my function where I receive an array with both coordinates.\r\n\r\n```\r\nmBtnlocation.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View view) {\r\n        double[] coor = new double[2];\r\n        coor = getLastLocation();\r\n    }\r\n}\r\n```\r\n","title":"How do I send my map to a specific coordinate on Azure maps for Android?","body":"<p>So, I have my map all configured, but I can't find the way to center it on a specific coordinate and zoom in. Does anyone know how to do that on Android?</p>\n<p>Here is my function where I receive an array with both coordinates.</p>\n<pre><code>mBtnlocation.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        double[] coor = new double[2];\n        coor = getLastLocation();\n    }\n}\n</code></pre>\n"},{"tags":["java","json","spring-boot","rest","jackson"],"answers":[{"tags":[],"owner":{"account_id":24234668,"reputation":111,"user_id":18187974,"display_name":"Lazaros Chatzimichalakis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666732479,"creation_date":1666732479,"answer_id":74200277,"question_id":74194204,"body_markdown":"Jackson provides an annotation that can be used on class level like this \r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class BenzenoidCriterions\r\n    {\r\n        ...\r\n    }\r\n\r\nThis way Jackson will ignore missing fields.","title":"SpringBoot : JSON parse error: Cannot construct instance of `com.example.new_model.BenzenoidCriterions`","body":"<p>Jackson provides an annotation that can be used on class level like this</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class BenzenoidCriterions\n{\n    ...\n}\n</code></pre>\n<p>This way Jackson will ignore missing fields.</p>\n"}],"owner":{"account_id":12202724,"reputation":415,"user_id":8906596,"accept_rate":38,"display_name":"Adrien Varet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":514,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666732479,"creation_date":1666701434,"question_id":74194204,"body_markdown":"I&#39;m using SpringBoot and I have the following controller: \r\n\r\n```\r\n@Autowired\r\nBenzenoidService service;\r\n\r\n@PostMapping(&quot;/find_benzenoid&quot;)\r\npublic List&lt;Benzenoid&gt; find(@RequestBody BenzenoidCriterions benzenoidData) {\r\n\tTriplet&lt;String[], Operator[], Object[]&gt; arrays = buildArrays(benzenoidData);\r\n\treturn service.findBenzenoids(arrays.getX(), arrays.getY(), arrays.getZ());\r\n}\r\n\r\n```\r\nAnd the following @RequestBody BenzenoidCriterions:\r\n\r\n```\r\npublic class BenzenoidCriterions {\r\n\t\r\n\tprivate String id = &quot;&quot;;\r\n\tprivate String name = &quot;&quot;;\r\n\tprivate String nbHexagons = &quot;&quot;;\r\n\tprivate String nbCarbons = &quot;&quot;;\r\n\tprivate String nbHydrogens = &quot;&quot;;\r\n\tprivate String irregularity = &quot;&quot;;\r\n\t\r\n\tpublic BenzenoidCriterions() {\r\n\t\tsuper();\r\n\t}\r\n\t\r\n\tpublic BenzenoidCriterions(String id, String name, String nbHexagons,\r\n\t\t\tString nbCarbons, String nbHydrogens, String irregularity) {\r\n\t\tthis.id = id;\r\n\t\tthis.name = name;\r\n\t\tthis.nbHexagons = nbHexagons;\r\n\t\tthis.nbCarbons = nbCarbons;\r\n\t\tthis.nbHydrogens = nbHydrogens;\r\n\t\tthis.irregularity = irregularity;\r\n\t}\r\n\r\n\t// getters\r\n}\r\n```\r\nActually, it is working when I provide a JSON input with all the fields of BenzenoidCriterions, but when I skip one or many fields in the input, I got the following error message: \r\n\r\n```\r\n2022-10-25 13:53:37.409  WARN 25509 --- [nio-8894-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct instance of `com.example.new_model.BenzenoidCriterions`, problem: `java.lang.NullPointerException`; nested exception is com.fasterxml.jackson.databind.exc.ValueInstantiationException: Cannot construct instance of `com.example.new_model.BenzenoidCriterions`, problem: `java.lang.NullPointerException`\r\n at [Source: (PushbackInputStream); line: 1, column: 91]]\r\n```\r\nThe problem seems to be related to Jackson, which is supposed to parse the JSON input and convert it into an instance of BenzenoidCriterions. \r\n\r\nDoes someone have the solution for this, please ?\r\n\r\nThank you.","title":"SpringBoot : JSON parse error: Cannot construct instance of `com.example.new_model.BenzenoidCriterions`","body":"<p>I'm using SpringBoot and I have the following controller:</p>\n<pre><code>@Autowired\nBenzenoidService service;\n\n@PostMapping(&quot;/find_benzenoid&quot;)\npublic List&lt;Benzenoid&gt; find(@RequestBody BenzenoidCriterions benzenoidData) {\n    Triplet&lt;String[], Operator[], Object[]&gt; arrays = buildArrays(benzenoidData);\n    return service.findBenzenoids(arrays.getX(), arrays.getY(), arrays.getZ());\n}\n\n</code></pre>\n<p>And the following @RequestBody BenzenoidCriterions:</p>\n<pre><code>public class BenzenoidCriterions {\n    \n    private String id = &quot;&quot;;\n    private String name = &quot;&quot;;\n    private String nbHexagons = &quot;&quot;;\n    private String nbCarbons = &quot;&quot;;\n    private String nbHydrogens = &quot;&quot;;\n    private String irregularity = &quot;&quot;;\n    \n    public BenzenoidCriterions() {\n        super();\n    }\n    \n    public BenzenoidCriterions(String id, String name, String nbHexagons,\n            String nbCarbons, String nbHydrogens, String irregularity) {\n        this.id = id;\n        this.name = name;\n        this.nbHexagons = nbHexagons;\n        this.nbCarbons = nbCarbons;\n        this.nbHydrogens = nbHydrogens;\n        this.irregularity = irregularity;\n    }\n\n    // getters\n}\n</code></pre>\n<p>Actually, it is working when I provide a JSON input with all the fields of BenzenoidCriterions, but when I skip one or many fields in the input, I got the following error message:</p>\n<pre><code>2022-10-25 13:53:37.409  WARN 25509 --- [nio-8894-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct instance of `com.example.new_model.BenzenoidCriterions`, problem: `java.lang.NullPointerException`; nested exception is com.fasterxml.jackson.databind.exc.ValueInstantiationException: Cannot construct instance of `com.example.new_model.BenzenoidCriterions`, problem: `java.lang.NullPointerException`\n at [Source: (PushbackInputStream); line: 1, column: 91]]\n</code></pre>\n<p>The problem seems to be related to Jackson, which is supposed to parse the JSON input and convert it into an instance of BenzenoidCriterions.</p>\n<p>Does someone have the solution for this, please ?</p>\n<p>Thank you.</p>\n"},{"tags":["java","amazon-web-services","amazon-ec2"],"comments":[{"owner":{"account_id":68986,"reputation":21295,"user_id":200987,"accept_rate":69,"display_name":"oligofren"},"score":0,"creation_date":1665958288,"post_id":74090784,"comment_id":130815313,"body_markdown":"would be so funny if Tinder (the app) was run like this.","body":"would be so funny if Tinder (the app) was run like this."},{"owner":{"account_id":22321312,"reputation":3,"user_id":16543910,"display_name":"big O"},"score":0,"creation_date":1665958578,"post_id":74090784,"comment_id":130815373,"body_markdown":"it`s just deployment part :)","body":"it`s just deployment part :)"}],"owner":{"account_id":22321312,"reputation":3,"user_id":16543910,"display_name":"big O"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666732469,"creation_date":1665955306,"question_id":74090784,"body_markdown":"After running `java -jar tinder-app-final.jar`:\r\n```\r\nError: Unable to initialize main class tinder.ServerApp\r\nCaused by: java.lang.NoClassDefFoundError: org/eclipse/jetty/server/Handler\r\n```\r\nI am trying to deploy a Java Servlet app to AWS (EC2). Here in putty console (Amazon Linux 2 AMI) I&#39;m getting this error:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere is my `pom.xml` file:\r\n```\r\n    &lt;dependencies&gt;        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\r\n            &lt;version&gt;9.4.49.v20220914&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jetty-servlet&lt;/artifactId&gt;\r\n            &lt;version&gt;9.4.49.v20220914&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        // Other required dependencies...\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;tinder.ServerApp&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        &lt;finalName&gt;tinder-app-final&lt;/finalName&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/7kgJf.png","title":"Error: Unable to initialize main class tinder.ServerApp Caused by: java.lang.NoClassDefFoundError: org/eclipse/jetty/server/Handler","body":"<p>After running <code>java -jar tinder-app-final.jar</code>:</p>\n<pre><code>Error: Unable to initialize main class tinder.ServerApp\nCaused by: java.lang.NoClassDefFoundError: org/eclipse/jetty/server/Handler\n</code></pre>\n<p>I am trying to deploy a Java Servlet app to AWS (EC2). Here in putty console (Amazon Linux 2 AMI) I'm getting this error:</p>\n<p><a href=\"https://i.stack.imgur.com/7kgJf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7kgJf.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is my <code>pom.xml</code> file:</p>\n<pre><code>    &lt;dependencies&gt;        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\n            &lt;version&gt;9.4.49.v20220914&lt;/version&gt;\n        &lt;/dependency&gt;\n      \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;jetty-servlet&lt;/artifactId&gt;\n            &lt;version&gt;9.4.49.v20220914&lt;/version&gt;\n        &lt;/dependency&gt;\n        // Other required dependencies...\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;tinder.ServerApp&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;finalName&gt;tinder-app-final&lt;/finalName&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":11095946,"reputation":315,"user_id":8146089,"display_name":"Dennis LLopis"},"score":0,"creation_date":1666698002,"post_id":74193284,"comment_id":130993944,"body_markdown":"Can you post the whole vehicle class as well? You might be having an issue with synchronization. Sharing resources with multiple threads can cause race-conditions like flipping a boolean value in this case.","body":"Can you post the whole vehicle class as well? You might be having an issue with synchronization. Sharing resources with multiple threads can cause race-conditions like flipping a boolean value in this case."},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1666704499,"post_id":74193284,"comment_id":130996174,"body_markdown":"unrelated question but - why not a `AtomicBoolean` instead?","body":"unrelated question but - why not a <code>AtomicBoolean</code> instead?"},{"owner":{"account_id":24658885,"reputation":3,"user_id":18556811,"display_name":"bdvazquez17"},"score":0,"creation_date":1666704916,"post_id":74193284,"comment_id":130996328,"body_markdown":"@Shark I implemented accelerationCheck like this:      private volatile boolean updateCheck = false;","body":"@Shark I implemented accelerationCheck like this:      private volatile boolean updateCheck = false;"},{"owner":{"account_id":4200525,"reputation":61370,"user_id":3440745,"display_name":"Tsyvarev"},"score":0,"creation_date":1666714378,"post_id":74193284,"comment_id":131000097,"body_markdown":"&quot;I&#180;m trying to set a volatile boolean variable, called `accelerationCheck`, in other thread and retrieve its value from a &quot;main thread&quot;.&quot; - I see setting of this variable in `Executor` part of your code, but see **no retrieving** of that variable in other parts of your code. Please, prepare [mcve] which would demonstrate your problem. Note, that size of the code for class `VehicleDataStore` is far beyond &quot;minimal&quot;.","body":"&quot;I&#180;m trying to set a volatile boolean variable, called <code>accelerationCheck</code>, in other thread and retrieve its value from a &quot;main thread&quot;.&quot; - I see setting of this variable in <code>Executor</code> part of your code, but see <b>no retrieving</b> of that variable in other parts of your code. Please, prepare <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> which would demonstrate your problem. Note, that size of the code for class <code>VehicleDataStore</code> is far beyond &quot;minimal&quot;."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1666722168,"post_id":74193284,"comment_id":131002454,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1666729700,"post_id":74193284,"comment_id":131004597,"body_markdown":"FYI: The main thread is the main thread.  If it is executing in an executor then it&#39;s another thread.","body":"FYI: The main thread is the main thread.  If it is executing in an executor then it&#39;s another thread."}],"answers":[{"tags":[],"owner":{"account_id":1697486,"reputation":36,"user_id":1558552,"display_name":"Sergio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666710378,"creation_date":1666704998,"answer_id":74194938,"question_id":74193284,"body_markdown":"Instead of doing scheduled checks from the threads a better solution would be to make a call from setVehicleAcceleration to e.g. AccelerationChecker.handleAccelerationChange(long newValue). In that class you can implement the check logic using timestamps and the boolean flag.\r\n\r\nHereby a draft implementation:\r\n\r\nwithin `VehicleDataStore`:\r\n\r\n    private VehicleDataService service;\r\n    private AccelerationChecker accelerationChecker; // field to store AccelerationChecker\r\n    \r\n    public VehicleDataStore(VehicleDataService service, AccelerationChecker accelerationChecker) {\r\n        this.service = service;\r\n        this.accelerationChecker = accelerationChecker; // inject the AccelerationChecker\r\n        registerListeners(service);\r\n        this.isRunning = true;\r\n    }\r\n...\r\n\r\n    // VehicleAcceleration\r\n    private void setVehicleAcceleration(Cell cell) {\r\n        if (cell.getCellType() == CellType.DataCell) {\r\n            DataCell dataCell = (DataCell) cell;\r\n            // Acceleration in 0.1 m/s2\r\n            long newValue = (long) (dataCell.getCellValue());\r\n            if (newValue &lt; -160 || newValue &gt; 160) {\r\n                newValue = 161;\r\n            }\r\n            if (this.vehicleAcceleration != newValue) {\r\n                this.vehicleAcceleration = newValue;\r\n                this.accelerationChecker.handleAccelerationChange(newValue); // notify AccelerationChecker about the changed value\r\n            }\r\n            Activator.println(&quot;VehicleAcc: &quot; + vehicleAcceleration);\r\n        }\r\n    }\r\n\r\n`AccelerationChecker` class:\r\n\r\n    public class AccelerationChecker {\r\n    \r\n        private final static long THRESHOLD_VALUE = -7;\r\n        private final static long VALIDATION_TIME_MS = 500;\r\n    \r\n        private long lastTimeBelowThreshold = Long.MAX_VALUE;\r\n        private long lastValue = Long.MAX_VALUE;\r\n    \r\n        public boolean isAccelerationLongBelowThreshold() {\r\n            return (lastValue &lt; THRESHOLD_VALUE &amp;&amp; System.currentTimeMillis() - lastTimeBelowThreshold &gt; VALIDATION_TIME_MS);\r\n        }\r\n    \r\n        public void handleAccelerationChange(long newValue) {\r\n            if (newValue &lt; THRESHOLD_VALUE) {\r\n                if (lastValue &gt;= THRESHOLD_VALUE) {\r\n                    lastTimeBelowThreshold = System.currentTimeMillis();\r\n                }\r\n            } else {\r\n                lastTimeBelowThreshold = Long.MAX_VALUE;\r\n            }\r\n            lastValue = newValue;\r\n        }\r\n    }\r\nJust create an instance of `AccelerationChecker` and pass it to `VehicleDataStore` constructor. Then call `accelerationChecker.isAccelerationLongBelowThreshold()` to get the result of the check.","title":"Setting a volatile variable inside a thread","body":"<p>Instead of doing scheduled checks from the threads a better solution would be to make a call from setVehicleAcceleration to e.g. AccelerationChecker.handleAccelerationChange(long newValue). In that class you can implement the check logic using timestamps and the boolean flag.</p>\n<p>Hereby a draft implementation:</p>\n<p>within <code>VehicleDataStore</code>:</p>\n<pre><code>private VehicleDataService service;\nprivate AccelerationChecker accelerationChecker; // field to store AccelerationChecker\n\npublic VehicleDataStore(VehicleDataService service, AccelerationChecker accelerationChecker) {\n    this.service = service;\n    this.accelerationChecker = accelerationChecker; // inject the AccelerationChecker\n    registerListeners(service);\n    this.isRunning = true;\n}\n</code></pre>\n<p>...</p>\n<pre><code>// VehicleAcceleration\nprivate void setVehicleAcceleration(Cell cell) {\n    if (cell.getCellType() == CellType.DataCell) {\n        DataCell dataCell = (DataCell) cell;\n        // Acceleration in 0.1 m/s2\n        long newValue = (long) (dataCell.getCellValue());\n        if (newValue &lt; -160 || newValue &gt; 160) {\n            newValue = 161;\n        }\n        if (this.vehicleAcceleration != newValue) {\n            this.vehicleAcceleration = newValue;\n            this.accelerationChecker.handleAccelerationChange(newValue); // notify AccelerationChecker about the changed value\n        }\n        Activator.println(&quot;VehicleAcc: &quot; + vehicleAcceleration);\n    }\n}\n</code></pre>\n<p><code>AccelerationChecker</code> class:</p>\n<pre><code>public class AccelerationChecker {\n\n    private final static long THRESHOLD_VALUE = -7;\n    private final static long VALIDATION_TIME_MS = 500;\n\n    private long lastTimeBelowThreshold = Long.MAX_VALUE;\n    private long lastValue = Long.MAX_VALUE;\n\n    public boolean isAccelerationLongBelowThreshold() {\n        return (lastValue &lt; THRESHOLD_VALUE &amp;&amp; System.currentTimeMillis() - lastTimeBelowThreshold &gt; VALIDATION_TIME_MS);\n    }\n\n    public void handleAccelerationChange(long newValue) {\n        if (newValue &lt; THRESHOLD_VALUE) {\n            if (lastValue &gt;= THRESHOLD_VALUE) {\n                lastTimeBelowThreshold = System.currentTimeMillis();\n            }\n        } else {\n            lastTimeBelowThreshold = Long.MAX_VALUE;\n        }\n        lastValue = newValue;\n    }\n}\n</code></pre>\n<p>Just create an instance of <code>AccelerationChecker</code> and pass it to <code>VehicleDataStore</code> constructor. Then call <code>accelerationChecker.isAccelerationLongBelowThreshold()</code> to get the result of the check.</p>\n"},{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666732253,"creation_date":1666730125,"answer_id":74199901,"question_id":74193284,"body_markdown":"&gt; The thing is I&#39;m getting sometimes true when it should be false and vice versa. Why do you think this is happening?\r\n\r\nYour code is very complex and needs to be boiled down for SO to help with this.  I would suggest that you add some `System.out.println(...)` statements to the key parts of the code which may change its behavior (because `System.out` is a synchronized class) but should show you that it is executing in a manner that you aren&#39;t expecting.\r\n\r\nI see at least one place where you are mutating a unsynchronized class in multiple threads.  The `this.accTimer` is started by the thread running in the scheduled executor as well as the caller.  This means that its method should be `synchronized` most likely.  Not sure if it is the source of your overall problem.\r\n\r\nWithout seeing a much shorter example, it is very hard to understand the thread architecture so that I can help more.\r\n\r\nOh and to be pedantic, the &quot;main thread&quot; is the thread that executes the `main()` method.  As soon as you run code in an executor it is a different thread.\r\n","title":"Setting a volatile variable inside a thread","body":"<blockquote>\n<p>The thing is I'm getting sometimes true when it should be false and vice versa. Why do you think this is happening?</p>\n</blockquote>\n<p>Your code is very complex and needs to be boiled down for SO to help with this.  I would suggest that you add some <code>System.out.println(...)</code> statements to the key parts of the code which may change its behavior (because <code>System.out</code> is a synchronized class) but should show you that it is executing in a manner that you aren't expecting.</p>\n<p>I see at least one place where you are mutating a unsynchronized class in multiple threads.  The <code>this.accTimer</code> is started by the thread running in the scheduled executor as well as the caller.  This means that its method should be <code>synchronized</code> most likely.  Not sure if it is the source of your overall problem.</p>\n<p>Without seeing a much shorter example, it is very hard to understand the thread architecture so that I can help more.</p>\n<p>Oh and to be pedantic, the &quot;main thread&quot; is the thread that executes the <code>main()</code> method.  As soon as you run code in an executor it is a different thread.</p>\n"}],"owner":{"account_id":24658885,"reputation":3,"user_id":18556811,"display_name":"bdvazquez17"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1666732253,"creation_date":1666696937,"question_id":74193284,"body_markdown":"I&#180;m trying to set a volatile boolean variable, called `accelerationCheck`, in other thread and retrieve its value from a &quot;main thread&quot;. This variable has to be true if the acceleration is below -7 during at least 500ms if not, false. The thing is I&#39;m getting sometimes true when it should be false and vice versa. Why do you think this is happening? The code below is contained in the &quot;main thread&quot;, this main thread is executed every 30ms with an `Executor`:\r\n```java\r\nif(vehicleData.getVehicleAcceleration() &lt; -7) {\r\n    if(this.accTimer == null) {\r\n        this.accTimer = new CustomTimer();\r\n    }\r\n    this.accTimer.start();\r\n    this.accelerationObserver = new Runnable() {\r\n        public void run() {\r\n            accTimer.stop();\r\n            if(accTimer.getElapsedMilliseconds() &gt;= 500) {\r\n                accelerationCheck = true;\r\n                accTimer.stop();\r\n                accTimer.start();\r\n            }\r\n        }\r\n    };\r\n    this.executor = Executors.newScheduledThreadPool(1);\r\n    executor.scheduleAtFixedRate(accelerationObserver, 0, 100, TimeUnit.MILLISECONDS);\r\n}\r\nelse {\r\n    this.accelerationObserver = null;\r\n    this.executor = null;\r\n    this.accTimer.stop();\r\n    this.accTimer = null;\r\n    this.accelerationCheck = false;\r\n}\r\n```\r\nCustomTimer class:\r\n\r\n\r\n    public class CustomTimer {\r\n        private final long nanoSecondsPerMillisecond = 1000000;\r\n    \r\n        private long stopWatchStartTime = 0;\r\n        private long stopWatchStopTime = 0;\r\n        private boolean stopWatchRunning = false;\r\n    \r\n    \r\n        public void start() {\r\n            this.stopWatchStartTime = System.nanoTime();\r\n            this.stopWatchRunning = true;\r\n        }\r\n    \r\n    \r\n        public void stop() {\r\n            this.stopWatchStopTime = System.nanoTime();\r\n            this.stopWatchRunning = false;\r\n        }\r\n        \r\n        public boolean isRunning() {\r\n          return this.stopWatchRunning;\r\n        }\r\n    \r\n    \r\n        public long getElapsedMilliseconds() {\r\n            long elapsedTime;\r\n    \r\n            if (stopWatchRunning)\r\n                elapsedTime = (System.nanoTime() - stopWatchStartTime);\r\n            else\r\n                elapsedTime = (stopWatchStopTime - stopWatchStartTime);\r\n    \r\n            return elapsedTime / nanoSecondsPerMillisecond;\r\n        }\r\n    }\r\n\r\n\r\nVariable `vehicleData` is an object of this class: \r\n\r\n    public class VehicleDataStore extends Thread implements VehicleDataValueListener{\r\n      \r\n    \r\n      private long yawRate = 32767;\r\n      private long lateralAcceleration = 161;\r\n      private long vehicleAcceleration = 161;\r\n      private long speed = 16383;\r\n      private double accelerationPedal = 0.0;\r\n      private double brakePressure = 0.0;\r\n      private int accelerationControl = 0;\r\n      private int driveDirection = 2;\r\n    \r\n      // Lights\r\n      private boolean highBeam = false;\r\n      private boolean lowBeam = false;\r\n      private boolean dayTimeRunning = false;\r\n      private boolean reverseLight = false;\r\n      private boolean fogLight = false;\r\n      private boolean parkingLights = false;\r\n    \r\n      // AcelerationControl\r\n      private boolean emergencyBrake = false;\r\n      private boolean collisionWarning = false;\r\n      private boolean speedLimiter = false;\r\n      private boolean acc = false;\r\n      private boolean cruiseControl = false;\r\n      private boolean brakeActivated = false;\r\n      private boolean gasPedalActivated = false;\r\n    \r\n      private long curvature = 1023;\r\n      private int hazardLights;\r\n      // private double vehicleSpeedKM100 = 0.0;\r\n      private boolean turnLeft = false;\r\n      private boolean turnRight = false;\r\n      private int warningLights = 0;\r\n      private int vehicleRole = Activator.vehicleRole;\r\n      private int stationType = Activator.stationType;\r\n    \r\n      private DatagramSocket socket;\r\n      InetAddress inetAddress;\r\n      private int etsiPort = 12346;\r\n      private boolean isRunning = false;\r\n      private boolean embarkationStatus = false;\r\n      private int ptActivationType = 0;\r\n      private byte[] ptActivationData = null;\r\n      private int dangerousGoods = 0;\r\n      private boolean ligthSirenLb = false;\r\n      private boolean ligthSirenS = false;\r\n      private int steeringWheel = 512;\r\n      private int brakePressure05;\r\n      private boolean emergencyServiceCan = false;\r\n      \r\n      private VehicleDataService service;\r\n      \r\n      public VehicleDataStore(VehicleDataService service) {\r\n        this.service = service;\r\n        registerListeners(service);\r\n        this.isRunning = true;\r\n      }\r\n      \r\n      \r\n    \r\n      public void onVehicleDataChange(String name, Cell cell) {\r\n        if (name.equalsIgnoreCase(&quot;AccelerationPedal&quot;)) {\r\n          setAccelerationPedal(cell);\r\n        } else if (name.equalsIgnoreCase(&quot;VehicleAcceleration&quot;)) {\r\n          setVehicleAcceleration(cell);\r\n        } else if (name.equalsIgnoreCase(&quot;VehicleSpeed&quot;)) {\r\n          setVehicleSpeed(cell);\r\n        } else if (name.equalsIgnoreCase(&quot;DriveDirection&quot;)) {\r\n          setDriveDirection(cell);\r\n          setReverseLight(cell);\r\n        } else if (name.equalsIgnoreCase(&quot;YawRate&quot;)) {\r\n          setYawRate(cell);\r\n        } else if (name.equalsIgnoreCase(&quot;LateralAcceleration&quot;)) {\r\n          setLateralAcceleration(cell);\r\n        } else if (name.equalsIgnoreCase(&quot;BrakePressure&quot;)) {\r\n          setBrakePressure(cell);\r\n        } else if (name.equalsIgnoreCase(&quot;AccelerationControl&quot;)) {\r\n          setAccelerationControl(cell);\r\n        } else if (name.equalsIgnoreCase(&quot;LowBeam&quot;)) {\r\n          setLowBeam(cell);\r\n        } else if (name.equalsIgnoreCase(&quot;HighBeam&quot;)) {\r\n          setHighBeam(cell);\r\n        } else if (name.equalsIgnoreCase(&quot;HazardLigths&quot;)) {\r\n          setHazardLigths(cell);\r\n        } else if (name.equalsIgnoreCase(&quot;TurnLeft&quot;)) {\r\n          setTurnLeft(cell);\r\n        } else if (name.equalsIgnoreCase(&quot;TurnRight&quot;)) {\r\n          setTurnRight(cell);\r\n        } else if (name.equalsIgnoreCase(&quot;WarningLights&quot;)) {\r\n          setWarningLights(cell);\r\n        } else if (name.equalsIgnoreCase(&quot;SteeringWheel&quot;)) {\r\n          setSteeringWheel(cell);\r\n        } /*else if (name.equalsIgnoreCase(&quot;EmergencyService&quot;)) {\r\n          setEmergencyService(cell);\r\n        }*/\r\n      }\r\n      \r\n      private void registerListeners(VehicleDataService vehicleDataService) {\r\n        HashMap&lt;String, VehicleData&gt; vehicleDataMap = vehicleDataService.getMapVehicleDatabyName();\r\n        if (vehicleDataMap.containsKey(&quot;AccelerationPedal&quot;)) {\r\n          VehicleData data = vehicleDataMap.get(&quot;AccelerationPedal&quot;);\r\n          data.addCellValueListener(this);\r\n          setAccelerationPedal(data.getVehicleDataCell());\r\n        }\r\n        if (vehicleDataMap.containsKey(&quot;VehicleAcceleration&quot;)) {\r\n          VehicleData data = vehicleDataMap.get(&quot;VehicleAcceleration&quot;);\r\n          data.addCellValueListener(this);\r\n          setVehicleAcceleration(data.getVehicleDataCell());\r\n        }\r\n        if (vehicleDataMap.containsKey(&quot;VehicleSpeed&quot;)) {\r\n          VehicleData data = vehicleDataMap.get(&quot;VehicleSpeed&quot;);\r\n          data.addCellValueListener(this);\r\n          setVehicleSpeed(data.getVehicleDataCell());\r\n        }\r\n        if (vehicleDataMap.containsKey(&quot;DriveDirection&quot;)) {\r\n          VehicleData data = vehicleDataMap.get(&quot;DriveDirection&quot;);\r\n          data.addCellValueListener(this);\r\n          setDriveDirection(data.getVehicleDataCell());\r\n          setReverseLight(data.getVehicleDataCell());\r\n        }\r\n        if (vehicleDataMap.containsKey(&quot;YawRate&quot;)) {\r\n          VehicleData data = vehicleDataMap.get(&quot;YawRate&quot;);\r\n          data.addCellValueListener(this);\r\n          setYawRate(data.getVehicleDataCell());\r\n        }\r\n        if (vehicleDataMap.containsKey(&quot;LateralAcceleration&quot;)) {\r\n          VehicleData data = vehicleDataMap.get(&quot;LateralAcceleration&quot;);\r\n          data.addCellValueListener(this);\r\n          setLateralAcceleration(data.getVehicleDataCell());\r\n        }\r\n        if (vehicleDataMap.containsKey(&quot;BrakePressure&quot;)) {\r\n          VehicleData data = vehicleDataMap.get(&quot;BrakePressure&quot;);\r\n          data.addCellValueListener(this);\r\n          setBrakePressure(data.getVehicleDataCell());\r\n        }\r\n        if (vehicleDataMap.containsKey(&quot;AccelerationControl&quot;)) {\r\n          VehicleData data = vehicleDataMap.get(&quot;AccelerationControl&quot;);\r\n          data.addCellValueListener(this);\r\n          setAccelerationControl(data.getVehicleDataCell());\r\n        }\r\n        if (vehicleDataMap.containsKey(&quot;LowBeam&quot;)) {\r\n          VehicleData data = vehicleDataMap.get(&quot;LowBeam&quot;);\r\n          data.addCellValueListener(this);\r\n          setLowBeam(data.getVehicleDataCell());\r\n        }\r\n        if (vehicleDataMap.containsKey(&quot;HighBeam&quot;)) {\r\n          VehicleData data = vehicleDataMap.get(&quot;HighBeam&quot;);\r\n          data.addCellValueListener(this);\r\n          setHighBeam(data.getVehicleDataCell());\r\n        }\r\n        if (vehicleDataMap.containsKey(&quot;HazardLigths&quot;)) {\r\n          VehicleData data = vehicleDataMap.get(&quot;HazardLigths&quot;);\r\n          data.addCellValueListener(this);\r\n          setHazardLigths(data.getVehicleDataCell());\r\n        }\r\n        if (vehicleDataMap.containsKey(&quot;TurnLeft&quot;)) {\r\n          VehicleData data = vehicleDataMap.get(&quot;TurnLeft&quot;);\r\n          data.addCellValueListener(this);\r\n          setTurnLeft(data.getVehicleDataCell());\r\n        }\r\n        if (vehicleDataMap.containsKey(&quot;TurnRight&quot;)) {\r\n          VehicleData data = vehicleDataMap.get(&quot;TurnRight&quot;);\r\n          data.addCellValueListener(this);\r\n          setTurnRight(data.getVehicleDataCell());\r\n        }\r\n        if (vehicleDataMap.containsKey(&quot;WarningLights&quot;)) {\r\n          VehicleData data = vehicleDataMap.get(&quot;WarningLights&quot;);\r\n          data.addCellValueListener(this);\r\n          setWarningLights(data.getVehicleDataCell());\r\n        }\r\n        if (vehicleDataMap.containsKey(&quot;SteeringWheel&quot;)) {\r\n          VehicleData data = vehicleDataMap.get(&quot;SteeringWheel&quot;);\r\n          data.addCellValueListener(this);\r\n          setSteeringWheel(data.getVehicleDataCell());\r\n        }\r\n        /*if (vehicleDataMap.containsKey(&quot;EmergencyService&quot;)) {\r\n          VehicleData data = vehicleDataMap.get(&quot;EmergencyService&quot;);\r\n          data.addCellValueListener(this);\r\n          setEmergencyService(data.getVehicleDataCell());\r\n        }*/\r\n      }\r\n      \r\n    /*\r\n      private void setEmergencyService(Cell cell) {\r\n        int emergencyServiceInt = 0;\r\n        if (cell.getCellType() == CellType.StateDataCell) {\r\n          StateDataCell dataCell = (StateDataCell) cell;\r\n          emergencyServiceInt = (int) dataCell.getCellValue();\r\n          if (emergencyServiceInt == 1) {\r\n            this.emergencyServiceCan = true;\r\n          } else {\r\n            this.emergencyServiceCan = false;\r\n          }\r\n          Activator.println(&quot;EmergencyServiceCan: &quot; + emergencyServiceCan);\r\n    \r\n          checkEmergency();\r\n        }\r\n      }\r\n    \r\n      private void checkEmergency() {\r\n        if (emergencyServiceCan) {\r\n          Activator.println(&quot;Priority Activated&quot;);\r\n          setLigthSirenLb(true);\r\n          CanWriterThread.setStatus(1);\r\n        } else {\r\n          setLigthSirenLb(false);\r\n          CanWriterThread.setStatus(2);\r\n        }\r\n      }*/\r\n    \r\n      // AccelerationPedal\r\n      private void setAccelerationPedal(Cell cell) {\r\n        if (cell.getCellType() == CellType.DataCell) {\r\n          DataCell dataCell = (DataCell) cell;\r\n          this.accelerationPedal = dataCell.getCellValue();\r\n          if (this.accelerationPedal &gt; 0.0) {\r\n            setGasPedalActivated(true);\r\n          } else {\r\n            setGasPedalActivated(false);\r\n          }\r\n          Activator.println(&quot;AccPedal: &quot; + accelerationPedal);\r\n        }\r\n      }\r\n    \r\n      // BrakePressure\r\n      private void setBrakePressure(Cell cell) {\r\n        if (cell.getCellType() == CellType.DataCell) {\r\n          DataCell dataCell = (DataCell) cell;\r\n          this.brakePressure = dataCell.getCellValue();\r\n          this.brakePressure05 = (int) (dataCell.getCellValue() / 0.5);\r\n          if (this.brakePressure &gt; 0.0) {\r\n            setBrakeActivated(true);\r\n          } else {\r\n            setBrakeActivated(false);\r\n          }\r\n          Activator.println(&quot;BrakePressure: &quot; + brakePressure);\r\n        }\r\n      }\r\n    \r\n      public int getBrakePressure() {\r\n        return this.brakePressure05;\r\n      }\r\n    \r\n      // AccelerationControl\r\n      private void setAccelerationControl(Cell cell) {\r\n        if (cell.getCellType() == CellType.StateDataCell) {\r\n          StateDataCell dataCell = (StateDataCell) cell;\r\n          this.accelerationControl = (int) dataCell.getCellValue();\r\n    \r\n          setSpeedLimiter(false);\r\n          setAcc(false);\r\n          setCruiseControl(false);\r\n    \r\n          switch (this.accelerationControl) {\r\n            case 1:\r\n              setCruiseControl(true);\r\n              break;\r\n            case 2:\r\n              setSpeedLimiter(true);\r\n              break;\r\n            case 3:\r\n              setAcc(true);\r\n              break;\r\n    \r\n            default:\r\n              break;\r\n          }\r\n    \r\n          Activator.println(&quot;AccControl: &quot; + accelerationControl);\r\n        }\r\n      }\r\n    \r\n      // VehicleSpeed\r\n      private void setVehicleSpeed(Cell cell) {\r\n        // 0.01ms\r\n        if (cell.getCellType() == CellType.DataCell) {\r\n          // Speed in Km/h\r\n          DataCell dataCell = (DataCell) cell;\r\n          // Change to 0.01 m/s\r\n          this.speed = (long) (dataCell.getCellValue() * 3.6);\r\n          // this.vehicleSpeedKM100 = dataCell.getCellValue() * 100;\r\n          if (this.speed &lt; 0 || this.speed &gt; 16382) {\r\n            this.speed = SpeedValue.unavailable;\r\n            this.curvature = CurvatureValue.unavailable;\r\n          } else {\r\n            setCurvature();\r\n          }\r\n          Activator.println(&quot;Speed: &quot; + this.speed);\r\n        }\r\n      }\r\n    \r\n      public long getVehicleSpeed() {\r\n        return this.speed;\r\n    \r\n      }\r\n    \r\n      // VehicleAcceleration\r\n      private void setVehicleAcceleration(Cell cell) {\r\n        if (cell.getCellType() == CellType.DataCell) {\r\n          DataCell dataCell = (DataCell) cell;\r\n          // Acceleration in 0.1 m/s2\r\n          this.vehicleAcceleration = (long) (dataCell.getCellValue());\r\n          if (this.vehicleAcceleration &lt; -160 || this.vehicleAcceleration &gt; 160) {\r\n            this.vehicleAcceleration = 161;\r\n          }\r\n          Activator.println(&quot;VehicleAcc: &quot; + vehicleAcceleration);\r\n        }\r\n      }\r\n    \r\n      public long getVehicleAcceleration() {\r\n        return this.vehicleAcceleration;\r\n      }\r\n    \r\n      // YawRate\r\n      private void setYawRate(Cell cell) {\r\n        if (cell.getCellType() == CellType.DataCell) {\r\n          DataCell dataCell = (DataCell) cell;\r\n          // YawRate in 0.01 &#186;/s\r\n          this.yawRate = (long) (dataCell.getCellValue());\r\n          if (this.yawRate &lt; -32766 || this.yawRate &gt; 32766) {\r\n            this.yawRate = 32767;\r\n          }\r\n          Activator.println(&quot;YawRate: &quot; + yawRate);\r\n        }\r\n      }\r\n    \r\n      public long getYawRate() {\r\n        return this.yawRate;\r\n      }\r\n    \r\n      private void setSteeringWheel(Cell cell) {\r\n        DataCell dataCell = (DataCell) cell;\r\n        this.steeringWheel = (int) (dataCell.getCellValue() / 1.5);\r\n        if (this.steeringWheel &gt;= 511) {\r\n          this.steeringWheel = 511;\r\n        }\r\n        if (this.steeringWheel &lt;= -511) {\r\n          this.steeringWheel = -511;\r\n        }\r\n    \r\n        Activator.println(&quot;SteeringWheel: &quot; + steeringWheel);\r\n      }\r\n    \r\n      public int getSteeringWheelAngle() {\r\n        return this.steeringWheel;\r\n      }\r\n    \r\n      // LateralAcceleration\r\n      private void setLateralAcceleration(Cell cell) {\r\n        if (cell.getCellType() == CellType.DataCell) {\r\n          DataCell dataCell = (DataCell) cell;\r\n          this.lateralAcceleration = (long) (dataCell.getCellValue());\r\n          if (this.lateralAcceleration &lt; -160 || this.lateralAcceleration &gt; 160) {\r\n            this.lateralAcceleration = 161;\r\n          }\r\n          Activator.println(&quot;LatAcc: &quot; + lateralAcceleration);\r\n        }\r\n      }\r\n    \r\n      public long getLateralAcceleration() {\r\n        return this.lateralAcceleration;\r\n      }\r\n    \r\n      // Curvature\r\n      public long getCurvature() {\r\n        return this.curvature;\r\n      }\r\n    \r\n      public void setCurvature() {\r\n        this.curvature = 1023;\r\n    \r\n        if (this.speed &gt; 0) {\r\n          double radius = (this.yawRate / this.speed) * (Math.PI / 180);\r\n          this.curvature = (long) (1 / radius) * 10000;\r\n        }\r\n    \r\n        if (this.curvature &lt; -1023) {\r\n          this.curvature = -1023;\r\n        }\r\n    \r\n        if (this.curvature &gt; 1022) {\r\n          this.curvature = 1022;\r\n        }\r\n      }\r\n    \r\n      public boolean isHighBeam() {\r\n        return highBeam;\r\n      }\r\n    \r\n      public void setHighBeam(boolean highBeam) {\r\n        this.highBeam = highBeam;\r\n      }\r\n    \r\n      private void setHighBeam(Cell cell) {\r\n        int highBeamInt = 0;\r\n        if (cell.getCellType() == CellType.StateDataCell) {\r\n          StateDataCell dataCell = (StateDataCell) cell;\r\n          highBeamInt = (int) dataCell.getCellValue();\r\n          if (highBeamInt == 1) {\r\n            this.highBeam = true;\r\n          } else {\r\n            this.highBeam = false;\r\n          }\r\n          Activator.println(&quot;HighBeam: &quot; + highBeam);\r\n        }\r\n      }\r\n    \r\n      // LowBeam\r\n      private void setLowBeam(Cell cell) {\r\n        int lowBeamInt = 0;\r\n        if (cell.getCellType() == CellType.StateDataCell) {\r\n          StateDataCell dataCell = (StateDataCell) cell;\r\n          lowBeamInt = (int) dataCell.getCellValue();\r\n          if (lowBeamInt == 1) {\r\n            this.lowBeam = true;\r\n          } else {\r\n            this.lowBeam = false;\r\n          }\r\n          Activator.println(&quot;LowBeam: &quot; + lowBeam);\r\n        }\r\n      }\r\n    \r\n      public boolean isLowBeam() {\r\n        return this.lowBeam;\r\n      }\r\n    \r\n      public boolean isDayTimeRunning() {\r\n        return dayTimeRunning;\r\n      }\r\n    \r\n      public void setDayTimeRunning(boolean dayTimeRunning) {\r\n        this.dayTimeRunning = dayTimeRunning;\r\n      }\r\n    \r\n      public boolean isReverseLight() {\r\n        return reverseLight;\r\n      }\r\n    \r\n      public void setReverseLight(boolean reverseLight) {\r\n        this.reverseLight = reverseLight;\r\n      }\r\n    \r\n      private void setReverseLight(Cell cell) {\r\n        int reverseLightInt = 0;\r\n        if (cell.getCellType() == CellType.StateDataCell) {\r\n          StateDataCell dataCell = (StateDataCell) cell;\r\n          reverseLightInt = (int) dataCell.getCellValue();\r\n          if (reverseLightInt == 1) {\r\n            this.reverseLight = true;\r\n          } else {\r\n            this.reverseLight = false;\r\n          }\r\n          Activator.println(&quot;ReverseLight: &quot; + reverseLight);\r\n        }\r\n      }\r\n    \r\n      public boolean isFogLight() {\r\n        return fogLight;\r\n      }\r\n    \r\n      public void setFogLight(boolean fogLight) {\r\n        this.fogLight = fogLight;\r\n      }\r\n    \r\n      public boolean isParkingLights() {\r\n        return parkingLights;\r\n      }\r\n    \r\n      public void setParkingLights(boolean parkingLights) {\r\n        this.parkingLights = parkingLights;\r\n      }\r\n    \r\n      // DriveDirection\r\n      private void setDriveDirection(Cell cell) {\r\n        if (cell.getCellType() == CellType.StateDataCell) {\r\n          StateDataCell dataCell = (StateDataCell) cell;\r\n          int canDriveDirection = (int) dataCell.getCellValue();\r\n          this.driveDirection = canDriveDirection;\r\n          // switch (canDriveDirection) {\r\n          // case 0:\r\n          // this.driveDirection = 2;\r\n          // break;\r\n          // case 1:\r\n          // this.driveDirection = 0;\r\n          // break;\r\n          // case 2:\r\n          // this.driveDirection = 1;\r\n          // break;\r\n          // case 3:\r\n          // this.driveDirection = 2;\r\n          // break;\r\n          //\r\n          // default:\r\n          // break;\r\n          // }\r\n          Activator.println(&quot;DriveDirection: &quot; + driveDirection);\r\n        }\r\n      }\r\n    \r\n      public final int getDriveDirection() {\r\n        return this.driveDirection;\r\n      }\r\n    \r\n      // SpeedLimiter\r\n      public boolean isSpeedLimiter() {\r\n        return speedLimiter;\r\n      }\r\n    \r\n      private void setSpeedLimiter(boolean speedLimiter) {\r\n        this.speedLimiter = speedLimiter;\r\n      }\r\n    \r\n      // Acc\r\n      public boolean isAcc() {\r\n        return acc;\r\n      }\r\n    \r\n      private void setAcc(boolean acc) {\r\n        this.acc = acc;\r\n      }\r\n    \r\n      // CruiseControl\r\n      public boolean isCruiseControl() {\r\n        return cruiseControl;\r\n      }\r\n    \r\n      private void setCruiseControl(boolean cruiseControl) {\r\n        this.cruiseControl = cruiseControl;\r\n      }\r\n    \r\n      // BrakeActivated\r\n      public boolean isBrakeActivated() {\r\n        return brakeActivated;\r\n      }\r\n    \r\n      private void setBrakeActivated(boolean brakeActivated) {\r\n        this.brakeActivated = brakeActivated;\r\n      }\r\n    \r\n      // GasPedalActivated\r\n      public boolean isGasPedalActivated() {\r\n        return gasPedalActivated;\r\n      }\r\n    \r\n      private void setGasPedalActivated(boolean gasPedalActivated) {\r\n        this.gasPedalActivated = gasPedalActivated;\r\n      }\r\n    \r\n      public boolean isEmergencyBrake() {\r\n        return emergencyBrake;\r\n      }\r\n    \r\n      public void setEmergencyBrake(boolean emergencyBrake) {\r\n        this.emergencyBrake = emergencyBrake;\r\n      }\r\n    \r\n      public boolean isCollisionWarning() {\r\n        return collisionWarning;\r\n      }\r\n    \r\n      public void setCollisionWarning(boolean collisionWarning) {\r\n        this.collisionWarning = collisionWarning;\r\n      }\r\n    \r\n      // HazardLights\r\n      private void setHazardLigths(Cell cell) {\r\n        StateDataCell dataCell = (StateDataCell) cell;\r\n        this.hazardLights = (int) dataCell.getCellValue();\r\n        Activator.println(&quot;HazardLights: &quot; + hazardLights);\r\n      }\r\n    \r\n      public boolean isHazardLights() {\r\n        boolean hazardLights = false;\r\n        if (this.hazardLights == 1) {\r\n          hazardLights = true;\r\n        }\r\n        return hazardLights;\r\n      }\r\n    \r\n      // TurnRight\r\n      private void setTurnRight(Cell cell) {\r\n        // TODO Auto-generated method stub\r\n        StateDataCell dataCell = (StateDataCell) cell;\r\n        if ((int) (dataCell.getCellValue()) == 0) {\r\n          this.turnRight = false;\r\n        } else {\r\n          this.turnRight = true;\r\n        }\r\n        Activator.println(&quot;TurnRight: &quot; + turnRight);\r\n      }\r\n    \r\n      public boolean isTurnRightActivated() {\r\n        return turnRight;\r\n      }\r\n    \r\n      // TurnLeft\r\n      private void setTurnLeft(Cell cell) {\r\n        // TODO Auto-generated method stub\r\n        StateDataCell dataCell = (StateDataCell) cell;\r\n        if ((int) (dataCell.getCellValue()) == 0) {\r\n          this.turnLeft = false;\r\n        } else {\r\n          this.turnLeft = true;\r\n        }\r\n        Activator.println(&quot;TurnLeft: &quot; + turnLeft);\r\n      }\r\n    \r\n      public boolean isTurnLeftActivated() {\r\n        return turnLeft;\r\n      }\r\n    \r\n      // WarningLights\r\n      private void setWarningLights(Cell cell) {\r\n        // TODO Auto-generated method stub\r\n        StateDataCell dataCell = (StateDataCell) cell;\r\n        this.warningLights = (int) dataCell.getCellValue();\r\n        Activator.println(&quot;WarningLights: &quot; + warningLights);\r\n      }\r\n    \r\n      public boolean isWarningLightsActivated() {\r\n        boolean warningLights = false;\r\n        if (this.warningLights == 1) {\r\n          warningLights = true;\r\n        }\r\n        return warningLights;\r\n      }\r\n    \r\n      public int getVehicleRole() {\r\n        return vehicleRole;\r\n      }\r\n    \r\n      public void setVehicleRole(int vehicleRole) {\r\n        this.vehicleRole = vehicleRole;\r\n      }\r\n    \r\n      public int getStationType() {\r\n        return stationType;\r\n      }\r\n    \r\n      public void setStationType(int stationType) {\r\n        this.stationType = stationType;\r\n      }\r\n    \r\n      public boolean isEmbarkationStatus() {\r\n        return embarkationStatus;\r\n      }\r\n    \r\n      public void setEmbarkationStatus(boolean embarkationStatus) {\r\n        this.embarkationStatus = embarkationStatus;\r\n      }\r\n    \r\n      public int getPtActivationType() {\r\n        return ptActivationType;\r\n      }\r\n    \r\n      public void setPtActivationType(int ptActivationType) {\r\n        this.ptActivationType = ptActivationType;\r\n      }\r\n    \r\n      public byte[] getPtActivationData() {\r\n        return ptActivationData;\r\n      }\r\n    \r\n      public void setPtActivationData(byte[] ptActivationData) {\r\n        this.ptActivationData = ptActivationData;\r\n      }\r\n    \r\n      public int getDangerousGoods() {\r\n        return dangerousGoods;\r\n      }\r\n    \r\n      public void setDangerousGoods(int dangerousGoods) {\r\n        this.dangerousGoods = dangerousGoods;\r\n      }\r\n    \r\n      public boolean isLigthSirenLb() {\r\n        return ligthSirenLb;\r\n      }\r\n    \r\n      public void setLigthSirenLb(boolean ligthSirenLb) {\r\n        this.ligthSirenLb = ligthSirenLb;\r\n      }\r\n    \r\n      public boolean isLigthSirenS() {\r\n        return ligthSirenS;\r\n      }\r\n    \r\n      public void setLigthSirenS(boolean ligthSirenS) {\r\n        this.ligthSirenS = ligthSirenS;\r\n      }\r\n\r\n  \r\n\r\n    public void stopThread() {\r\n        this.isRunning = false;\r\n    \r\n        if (this.socket != null) {\r\n          this.socket.close();\r\n        }\r\n      }\r\n    \r\n      \r\n    }\r\n\r\nAccelerationChecker class code:\r\n\r\n    public class AccelerationChecker{\r\n      \r\n      private long currentAcceleration;\r\n      \r\n      private double startTime;\r\n      \r\n      private double currentTime;\r\n      \r\n      private double elapsedTime;\r\n      \r\n      private boolean flag;\r\n      \r\n      public AccelerationChecker() {\r\n        this.currentAcceleration = 0;\r\n        this.flag = false;\r\n        this.startTime = 0;\r\n        this.currentTime = 0;\r\n      }\r\n        \r\n      public void handleAccelerationCheck(long newValue) {\r\n        if(newValue &lt; -7) {\r\n          this.startTime = System.nanoTime();\r\n          this.currentTime = System.nanoTime();\r\n          this.elapsedTime = this.currentTime - this.startTime;\r\n          if(this.elapsedTime &gt;= 500) {\r\n            this.flag = true;\r\n          }\r\n          else {\r\n            this.flag = false;\r\n          }\r\n        }\r\n      }\r\n      \r\n      public boolean getFlag() {\r\n        return flag;\r\n      }\r\n    }","title":"Setting a volatile variable inside a thread","body":"<p>Im trying to set a volatile boolean variable, called <code>accelerationCheck</code>, in other thread and retrieve its value from a &quot;main thread&quot;. This variable has to be true if the acceleration is below -7 during at least 500ms if not, false. The thing is I'm getting sometimes true when it should be false and vice versa. Why do you think this is happening? The code below is contained in the &quot;main thread&quot;, this main thread is executed every 30ms with an <code>Executor</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(vehicleData.getVehicleAcceleration() &lt; -7) {\n    if(this.accTimer == null) {\n        this.accTimer = new CustomTimer();\n    }\n    this.accTimer.start();\n    this.accelerationObserver = new Runnable() {\n        public void run() {\n            accTimer.stop();\n            if(accTimer.getElapsedMilliseconds() &gt;= 500) {\n                accelerationCheck = true;\n                accTimer.stop();\n                accTimer.start();\n            }\n        }\n    };\n    this.executor = Executors.newScheduledThreadPool(1);\n    executor.scheduleAtFixedRate(accelerationObserver, 0, 100, TimeUnit.MILLISECONDS);\n}\nelse {\n    this.accelerationObserver = null;\n    this.executor = null;\n    this.accTimer.stop();\n    this.accTimer = null;\n    this.accelerationCheck = false;\n}\n</code></pre>\n<p>CustomTimer class:</p>\n<pre><code>public class CustomTimer {\n    private final long nanoSecondsPerMillisecond = 1000000;\n\n    private long stopWatchStartTime = 0;\n    private long stopWatchStopTime = 0;\n    private boolean stopWatchRunning = false;\n\n\n    public void start() {\n        this.stopWatchStartTime = System.nanoTime();\n        this.stopWatchRunning = true;\n    }\n\n\n    public void stop() {\n        this.stopWatchStopTime = System.nanoTime();\n        this.stopWatchRunning = false;\n    }\n    \n    public boolean isRunning() {\n      return this.stopWatchRunning;\n    }\n\n\n    public long getElapsedMilliseconds() {\n        long elapsedTime;\n\n        if (stopWatchRunning)\n            elapsedTime = (System.nanoTime() - stopWatchStartTime);\n        else\n            elapsedTime = (stopWatchStopTime - stopWatchStartTime);\n\n        return elapsedTime / nanoSecondsPerMillisecond;\n    }\n}\n</code></pre>\n<p>Variable <code>vehicleData</code> is an object of this class:</p>\n<pre><code>public class VehicleDataStore extends Thread implements VehicleDataValueListener{\n  \n\n  private long yawRate = 32767;\n  private long lateralAcceleration = 161;\n  private long vehicleAcceleration = 161;\n  private long speed = 16383;\n  private double accelerationPedal = 0.0;\n  private double brakePressure = 0.0;\n  private int accelerationControl = 0;\n  private int driveDirection = 2;\n\n  // Lights\n  private boolean highBeam = false;\n  private boolean lowBeam = false;\n  private boolean dayTimeRunning = false;\n  private boolean reverseLight = false;\n  private boolean fogLight = false;\n  private boolean parkingLights = false;\n\n  // AcelerationControl\n  private boolean emergencyBrake = false;\n  private boolean collisionWarning = false;\n  private boolean speedLimiter = false;\n  private boolean acc = false;\n  private boolean cruiseControl = false;\n  private boolean brakeActivated = false;\n  private boolean gasPedalActivated = false;\n\n  private long curvature = 1023;\n  private int hazardLights;\n  // private double vehicleSpeedKM100 = 0.0;\n  private boolean turnLeft = false;\n  private boolean turnRight = false;\n  private int warningLights = 0;\n  private int vehicleRole = Activator.vehicleRole;\n  private int stationType = Activator.stationType;\n\n  private DatagramSocket socket;\n  InetAddress inetAddress;\n  private int etsiPort = 12346;\n  private boolean isRunning = false;\n  private boolean embarkationStatus = false;\n  private int ptActivationType = 0;\n  private byte[] ptActivationData = null;\n  private int dangerousGoods = 0;\n  private boolean ligthSirenLb = false;\n  private boolean ligthSirenS = false;\n  private int steeringWheel = 512;\n  private int brakePressure05;\n  private boolean emergencyServiceCan = false;\n  \n  private VehicleDataService service;\n  \n  public VehicleDataStore(VehicleDataService service) {\n    this.service = service;\n    registerListeners(service);\n    this.isRunning = true;\n  }\n  \n  \n\n  public void onVehicleDataChange(String name, Cell cell) {\n    if (name.equalsIgnoreCase(&quot;AccelerationPedal&quot;)) {\n      setAccelerationPedal(cell);\n    } else if (name.equalsIgnoreCase(&quot;VehicleAcceleration&quot;)) {\n      setVehicleAcceleration(cell);\n    } else if (name.equalsIgnoreCase(&quot;VehicleSpeed&quot;)) {\n      setVehicleSpeed(cell);\n    } else if (name.equalsIgnoreCase(&quot;DriveDirection&quot;)) {\n      setDriveDirection(cell);\n      setReverseLight(cell);\n    } else if (name.equalsIgnoreCase(&quot;YawRate&quot;)) {\n      setYawRate(cell);\n    } else if (name.equalsIgnoreCase(&quot;LateralAcceleration&quot;)) {\n      setLateralAcceleration(cell);\n    } else if (name.equalsIgnoreCase(&quot;BrakePressure&quot;)) {\n      setBrakePressure(cell);\n    } else if (name.equalsIgnoreCase(&quot;AccelerationControl&quot;)) {\n      setAccelerationControl(cell);\n    } else if (name.equalsIgnoreCase(&quot;LowBeam&quot;)) {\n      setLowBeam(cell);\n    } else if (name.equalsIgnoreCase(&quot;HighBeam&quot;)) {\n      setHighBeam(cell);\n    } else if (name.equalsIgnoreCase(&quot;HazardLigths&quot;)) {\n      setHazardLigths(cell);\n    } else if (name.equalsIgnoreCase(&quot;TurnLeft&quot;)) {\n      setTurnLeft(cell);\n    } else if (name.equalsIgnoreCase(&quot;TurnRight&quot;)) {\n      setTurnRight(cell);\n    } else if (name.equalsIgnoreCase(&quot;WarningLights&quot;)) {\n      setWarningLights(cell);\n    } else if (name.equalsIgnoreCase(&quot;SteeringWheel&quot;)) {\n      setSteeringWheel(cell);\n    } /*else if (name.equalsIgnoreCase(&quot;EmergencyService&quot;)) {\n      setEmergencyService(cell);\n    }*/\n  }\n  \n  private void registerListeners(VehicleDataService vehicleDataService) {\n    HashMap&lt;String, VehicleData&gt; vehicleDataMap = vehicleDataService.getMapVehicleDatabyName();\n    if (vehicleDataMap.containsKey(&quot;AccelerationPedal&quot;)) {\n      VehicleData data = vehicleDataMap.get(&quot;AccelerationPedal&quot;);\n      data.addCellValueListener(this);\n      setAccelerationPedal(data.getVehicleDataCell());\n    }\n    if (vehicleDataMap.containsKey(&quot;VehicleAcceleration&quot;)) {\n      VehicleData data = vehicleDataMap.get(&quot;VehicleAcceleration&quot;);\n      data.addCellValueListener(this);\n      setVehicleAcceleration(data.getVehicleDataCell());\n    }\n    if (vehicleDataMap.containsKey(&quot;VehicleSpeed&quot;)) {\n      VehicleData data = vehicleDataMap.get(&quot;VehicleSpeed&quot;);\n      data.addCellValueListener(this);\n      setVehicleSpeed(data.getVehicleDataCell());\n    }\n    if (vehicleDataMap.containsKey(&quot;DriveDirection&quot;)) {\n      VehicleData data = vehicleDataMap.get(&quot;DriveDirection&quot;);\n      data.addCellValueListener(this);\n      setDriveDirection(data.getVehicleDataCell());\n      setReverseLight(data.getVehicleDataCell());\n    }\n    if (vehicleDataMap.containsKey(&quot;YawRate&quot;)) {\n      VehicleData data = vehicleDataMap.get(&quot;YawRate&quot;);\n      data.addCellValueListener(this);\n      setYawRate(data.getVehicleDataCell());\n    }\n    if (vehicleDataMap.containsKey(&quot;LateralAcceleration&quot;)) {\n      VehicleData data = vehicleDataMap.get(&quot;LateralAcceleration&quot;);\n      data.addCellValueListener(this);\n      setLateralAcceleration(data.getVehicleDataCell());\n    }\n    if (vehicleDataMap.containsKey(&quot;BrakePressure&quot;)) {\n      VehicleData data = vehicleDataMap.get(&quot;BrakePressure&quot;);\n      data.addCellValueListener(this);\n      setBrakePressure(data.getVehicleDataCell());\n    }\n    if (vehicleDataMap.containsKey(&quot;AccelerationControl&quot;)) {\n      VehicleData data = vehicleDataMap.get(&quot;AccelerationControl&quot;);\n      data.addCellValueListener(this);\n      setAccelerationControl(data.getVehicleDataCell());\n    }\n    if (vehicleDataMap.containsKey(&quot;LowBeam&quot;)) {\n      VehicleData data = vehicleDataMap.get(&quot;LowBeam&quot;);\n      data.addCellValueListener(this);\n      setLowBeam(data.getVehicleDataCell());\n    }\n    if (vehicleDataMap.containsKey(&quot;HighBeam&quot;)) {\n      VehicleData data = vehicleDataMap.get(&quot;HighBeam&quot;);\n      data.addCellValueListener(this);\n      setHighBeam(data.getVehicleDataCell());\n    }\n    if (vehicleDataMap.containsKey(&quot;HazardLigths&quot;)) {\n      VehicleData data = vehicleDataMap.get(&quot;HazardLigths&quot;);\n      data.addCellValueListener(this);\n      setHazardLigths(data.getVehicleDataCell());\n    }\n    if (vehicleDataMap.containsKey(&quot;TurnLeft&quot;)) {\n      VehicleData data = vehicleDataMap.get(&quot;TurnLeft&quot;);\n      data.addCellValueListener(this);\n      setTurnLeft(data.getVehicleDataCell());\n    }\n    if (vehicleDataMap.containsKey(&quot;TurnRight&quot;)) {\n      VehicleData data = vehicleDataMap.get(&quot;TurnRight&quot;);\n      data.addCellValueListener(this);\n      setTurnRight(data.getVehicleDataCell());\n    }\n    if (vehicleDataMap.containsKey(&quot;WarningLights&quot;)) {\n      VehicleData data = vehicleDataMap.get(&quot;WarningLights&quot;);\n      data.addCellValueListener(this);\n      setWarningLights(data.getVehicleDataCell());\n    }\n    if (vehicleDataMap.containsKey(&quot;SteeringWheel&quot;)) {\n      VehicleData data = vehicleDataMap.get(&quot;SteeringWheel&quot;);\n      data.addCellValueListener(this);\n      setSteeringWheel(data.getVehicleDataCell());\n    }\n    /*if (vehicleDataMap.containsKey(&quot;EmergencyService&quot;)) {\n      VehicleData data = vehicleDataMap.get(&quot;EmergencyService&quot;);\n      data.addCellValueListener(this);\n      setEmergencyService(data.getVehicleDataCell());\n    }*/\n  }\n  \n/*\n  private void setEmergencyService(Cell cell) {\n    int emergencyServiceInt = 0;\n    if (cell.getCellType() == CellType.StateDataCell) {\n      StateDataCell dataCell = (StateDataCell) cell;\n      emergencyServiceInt = (int) dataCell.getCellValue();\n      if (emergencyServiceInt == 1) {\n        this.emergencyServiceCan = true;\n      } else {\n        this.emergencyServiceCan = false;\n      }\n      Activator.println(&quot;EmergencyServiceCan: &quot; + emergencyServiceCan);\n\n      checkEmergency();\n    }\n  }\n\n  private void checkEmergency() {\n    if (emergencyServiceCan) {\n      Activator.println(&quot;Priority Activated&quot;);\n      setLigthSirenLb(true);\n      CanWriterThread.setStatus(1);\n    } else {\n      setLigthSirenLb(false);\n      CanWriterThread.setStatus(2);\n    }\n  }*/\n\n  // AccelerationPedal\n  private void setAccelerationPedal(Cell cell) {\n    if (cell.getCellType() == CellType.DataCell) {\n      DataCell dataCell = (DataCell) cell;\n      this.accelerationPedal = dataCell.getCellValue();\n      if (this.accelerationPedal &gt; 0.0) {\n        setGasPedalActivated(true);\n      } else {\n        setGasPedalActivated(false);\n      }\n      Activator.println(&quot;AccPedal: &quot; + accelerationPedal);\n    }\n  }\n\n  // BrakePressure\n  private void setBrakePressure(Cell cell) {\n    if (cell.getCellType() == CellType.DataCell) {\n      DataCell dataCell = (DataCell) cell;\n      this.brakePressure = dataCell.getCellValue();\n      this.brakePressure05 = (int) (dataCell.getCellValue() / 0.5);\n      if (this.brakePressure &gt; 0.0) {\n        setBrakeActivated(true);\n      } else {\n        setBrakeActivated(false);\n      }\n      Activator.println(&quot;BrakePressure: &quot; + brakePressure);\n    }\n  }\n\n  public int getBrakePressure() {\n    return this.brakePressure05;\n  }\n\n  // AccelerationControl\n  private void setAccelerationControl(Cell cell) {\n    if (cell.getCellType() == CellType.StateDataCell) {\n      StateDataCell dataCell = (StateDataCell) cell;\n      this.accelerationControl = (int) dataCell.getCellValue();\n\n      setSpeedLimiter(false);\n      setAcc(false);\n      setCruiseControl(false);\n\n      switch (this.accelerationControl) {\n        case 1:\n          setCruiseControl(true);\n          break;\n        case 2:\n          setSpeedLimiter(true);\n          break;\n        case 3:\n          setAcc(true);\n          break;\n\n        default:\n          break;\n      }\n\n      Activator.println(&quot;AccControl: &quot; + accelerationControl);\n    }\n  }\n\n  // VehicleSpeed\n  private void setVehicleSpeed(Cell cell) {\n    // 0.01ms\n    if (cell.getCellType() == CellType.DataCell) {\n      // Speed in Km/h\n      DataCell dataCell = (DataCell) cell;\n      // Change to 0.01 m/s\n      this.speed = (long) (dataCell.getCellValue() * 3.6);\n      // this.vehicleSpeedKM100 = dataCell.getCellValue() * 100;\n      if (this.speed &lt; 0 || this.speed &gt; 16382) {\n        this.speed = SpeedValue.unavailable;\n        this.curvature = CurvatureValue.unavailable;\n      } else {\n        setCurvature();\n      }\n      Activator.println(&quot;Speed: &quot; + this.speed);\n    }\n  }\n\n  public long getVehicleSpeed() {\n    return this.speed;\n\n  }\n\n  // VehicleAcceleration\n  private void setVehicleAcceleration(Cell cell) {\n    if (cell.getCellType() == CellType.DataCell) {\n      DataCell dataCell = (DataCell) cell;\n      // Acceleration in 0.1 m/s2\n      this.vehicleAcceleration = (long) (dataCell.getCellValue());\n      if (this.vehicleAcceleration &lt; -160 || this.vehicleAcceleration &gt; 160) {\n        this.vehicleAcceleration = 161;\n      }\n      Activator.println(&quot;VehicleAcc: &quot; + vehicleAcceleration);\n    }\n  }\n\n  public long getVehicleAcceleration() {\n    return this.vehicleAcceleration;\n  }\n\n  // YawRate\n  private void setYawRate(Cell cell) {\n    if (cell.getCellType() == CellType.DataCell) {\n      DataCell dataCell = (DataCell) cell;\n      // YawRate in 0.01 /s\n      this.yawRate = (long) (dataCell.getCellValue());\n      if (this.yawRate &lt; -32766 || this.yawRate &gt; 32766) {\n        this.yawRate = 32767;\n      }\n      Activator.println(&quot;YawRate: &quot; + yawRate);\n    }\n  }\n\n  public long getYawRate() {\n    return this.yawRate;\n  }\n\n  private void setSteeringWheel(Cell cell) {\n    DataCell dataCell = (DataCell) cell;\n    this.steeringWheel = (int) (dataCell.getCellValue() / 1.5);\n    if (this.steeringWheel &gt;= 511) {\n      this.steeringWheel = 511;\n    }\n    if (this.steeringWheel &lt;= -511) {\n      this.steeringWheel = -511;\n    }\n\n    Activator.println(&quot;SteeringWheel: &quot; + steeringWheel);\n  }\n\n  public int getSteeringWheelAngle() {\n    return this.steeringWheel;\n  }\n\n  // LateralAcceleration\n  private void setLateralAcceleration(Cell cell) {\n    if (cell.getCellType() == CellType.DataCell) {\n      DataCell dataCell = (DataCell) cell;\n      this.lateralAcceleration = (long) (dataCell.getCellValue());\n      if (this.lateralAcceleration &lt; -160 || this.lateralAcceleration &gt; 160) {\n        this.lateralAcceleration = 161;\n      }\n      Activator.println(&quot;LatAcc: &quot; + lateralAcceleration);\n    }\n  }\n\n  public long getLateralAcceleration() {\n    return this.lateralAcceleration;\n  }\n\n  // Curvature\n  public long getCurvature() {\n    return this.curvature;\n  }\n\n  public void setCurvature() {\n    this.curvature = 1023;\n\n    if (this.speed &gt; 0) {\n      double radius = (this.yawRate / this.speed) * (Math.PI / 180);\n      this.curvature = (long) (1 / radius) * 10000;\n    }\n\n    if (this.curvature &lt; -1023) {\n      this.curvature = -1023;\n    }\n\n    if (this.curvature &gt; 1022) {\n      this.curvature = 1022;\n    }\n  }\n\n  public boolean isHighBeam() {\n    return highBeam;\n  }\n\n  public void setHighBeam(boolean highBeam) {\n    this.highBeam = highBeam;\n  }\n\n  private void setHighBeam(Cell cell) {\n    int highBeamInt = 0;\n    if (cell.getCellType() == CellType.StateDataCell) {\n      StateDataCell dataCell = (StateDataCell) cell;\n      highBeamInt = (int) dataCell.getCellValue();\n      if (highBeamInt == 1) {\n        this.highBeam = true;\n      } else {\n        this.highBeam = false;\n      }\n      Activator.println(&quot;HighBeam: &quot; + highBeam);\n    }\n  }\n\n  // LowBeam\n  private void setLowBeam(Cell cell) {\n    int lowBeamInt = 0;\n    if (cell.getCellType() == CellType.StateDataCell) {\n      StateDataCell dataCell = (StateDataCell) cell;\n      lowBeamInt = (int) dataCell.getCellValue();\n      if (lowBeamInt == 1) {\n        this.lowBeam = true;\n      } else {\n        this.lowBeam = false;\n      }\n      Activator.println(&quot;LowBeam: &quot; + lowBeam);\n    }\n  }\n\n  public boolean isLowBeam() {\n    return this.lowBeam;\n  }\n\n  public boolean isDayTimeRunning() {\n    return dayTimeRunning;\n  }\n\n  public void setDayTimeRunning(boolean dayTimeRunning) {\n    this.dayTimeRunning = dayTimeRunning;\n  }\n\n  public boolean isReverseLight() {\n    return reverseLight;\n  }\n\n  public void setReverseLight(boolean reverseLight) {\n    this.reverseLight = reverseLight;\n  }\n\n  private void setReverseLight(Cell cell) {\n    int reverseLightInt = 0;\n    if (cell.getCellType() == CellType.StateDataCell) {\n      StateDataCell dataCell = (StateDataCell) cell;\n      reverseLightInt = (int) dataCell.getCellValue();\n      if (reverseLightInt == 1) {\n        this.reverseLight = true;\n      } else {\n        this.reverseLight = false;\n      }\n      Activator.println(&quot;ReverseLight: &quot; + reverseLight);\n    }\n  }\n\n  public boolean isFogLight() {\n    return fogLight;\n  }\n\n  public void setFogLight(boolean fogLight) {\n    this.fogLight = fogLight;\n  }\n\n  public boolean isParkingLights() {\n    return parkingLights;\n  }\n\n  public void setParkingLights(boolean parkingLights) {\n    this.parkingLights = parkingLights;\n  }\n\n  // DriveDirection\n  private void setDriveDirection(Cell cell) {\n    if (cell.getCellType() == CellType.StateDataCell) {\n      StateDataCell dataCell = (StateDataCell) cell;\n      int canDriveDirection = (int) dataCell.getCellValue();\n      this.driveDirection = canDriveDirection;\n      // switch (canDriveDirection) {\n      // case 0:\n      // this.driveDirection = 2;\n      // break;\n      // case 1:\n      // this.driveDirection = 0;\n      // break;\n      // case 2:\n      // this.driveDirection = 1;\n      // break;\n      // case 3:\n      // this.driveDirection = 2;\n      // break;\n      //\n      // default:\n      // break;\n      // }\n      Activator.println(&quot;DriveDirection: &quot; + driveDirection);\n    }\n  }\n\n  public final int getDriveDirection() {\n    return this.driveDirection;\n  }\n\n  // SpeedLimiter\n  public boolean isSpeedLimiter() {\n    return speedLimiter;\n  }\n\n  private void setSpeedLimiter(boolean speedLimiter) {\n    this.speedLimiter = speedLimiter;\n  }\n\n  // Acc\n  public boolean isAcc() {\n    return acc;\n  }\n\n  private void setAcc(boolean acc) {\n    this.acc = acc;\n  }\n\n  // CruiseControl\n  public boolean isCruiseControl() {\n    return cruiseControl;\n  }\n\n  private void setCruiseControl(boolean cruiseControl) {\n    this.cruiseControl = cruiseControl;\n  }\n\n  // BrakeActivated\n  public boolean isBrakeActivated() {\n    return brakeActivated;\n  }\n\n  private void setBrakeActivated(boolean brakeActivated) {\n    this.brakeActivated = brakeActivated;\n  }\n\n  // GasPedalActivated\n  public boolean isGasPedalActivated() {\n    return gasPedalActivated;\n  }\n\n  private void setGasPedalActivated(boolean gasPedalActivated) {\n    this.gasPedalActivated = gasPedalActivated;\n  }\n\n  public boolean isEmergencyBrake() {\n    return emergencyBrake;\n  }\n\n  public void setEmergencyBrake(boolean emergencyBrake) {\n    this.emergencyBrake = emergencyBrake;\n  }\n\n  public boolean isCollisionWarning() {\n    return collisionWarning;\n  }\n\n  public void setCollisionWarning(boolean collisionWarning) {\n    this.collisionWarning = collisionWarning;\n  }\n\n  // HazardLights\n  private void setHazardLigths(Cell cell) {\n    StateDataCell dataCell = (StateDataCell) cell;\n    this.hazardLights = (int) dataCell.getCellValue();\n    Activator.println(&quot;HazardLights: &quot; + hazardLights);\n  }\n\n  public boolean isHazardLights() {\n    boolean hazardLights = false;\n    if (this.hazardLights == 1) {\n      hazardLights = true;\n    }\n    return hazardLights;\n  }\n\n  // TurnRight\n  private void setTurnRight(Cell cell) {\n    // TODO Auto-generated method stub\n    StateDataCell dataCell = (StateDataCell) cell;\n    if ((int) (dataCell.getCellValue()) == 0) {\n      this.turnRight = false;\n    } else {\n      this.turnRight = true;\n    }\n    Activator.println(&quot;TurnRight: &quot; + turnRight);\n  }\n\n  public boolean isTurnRightActivated() {\n    return turnRight;\n  }\n\n  // TurnLeft\n  private void setTurnLeft(Cell cell) {\n    // TODO Auto-generated method stub\n    StateDataCell dataCell = (StateDataCell) cell;\n    if ((int) (dataCell.getCellValue()) == 0) {\n      this.turnLeft = false;\n    } else {\n      this.turnLeft = true;\n    }\n    Activator.println(&quot;TurnLeft: &quot; + turnLeft);\n  }\n\n  public boolean isTurnLeftActivated() {\n    return turnLeft;\n  }\n\n  // WarningLights\n  private void setWarningLights(Cell cell) {\n    // TODO Auto-generated method stub\n    StateDataCell dataCell = (StateDataCell) cell;\n    this.warningLights = (int) dataCell.getCellValue();\n    Activator.println(&quot;WarningLights: &quot; + warningLights);\n  }\n\n  public boolean isWarningLightsActivated() {\n    boolean warningLights = false;\n    if (this.warningLights == 1) {\n      warningLights = true;\n    }\n    return warningLights;\n  }\n\n  public int getVehicleRole() {\n    return vehicleRole;\n  }\n\n  public void setVehicleRole(int vehicleRole) {\n    this.vehicleRole = vehicleRole;\n  }\n\n  public int getStationType() {\n    return stationType;\n  }\n\n  public void setStationType(int stationType) {\n    this.stationType = stationType;\n  }\n\n  public boolean isEmbarkationStatus() {\n    return embarkationStatus;\n  }\n\n  public void setEmbarkationStatus(boolean embarkationStatus) {\n    this.embarkationStatus = embarkationStatus;\n  }\n\n  public int getPtActivationType() {\n    return ptActivationType;\n  }\n\n  public void setPtActivationType(int ptActivationType) {\n    this.ptActivationType = ptActivationType;\n  }\n\n  public byte[] getPtActivationData() {\n    return ptActivationData;\n  }\n\n  public void setPtActivationData(byte[] ptActivationData) {\n    this.ptActivationData = ptActivationData;\n  }\n\n  public int getDangerousGoods() {\n    return dangerousGoods;\n  }\n\n  public void setDangerousGoods(int dangerousGoods) {\n    this.dangerousGoods = dangerousGoods;\n  }\n\n  public boolean isLigthSirenLb() {\n    return ligthSirenLb;\n  }\n\n  public void setLigthSirenLb(boolean ligthSirenLb) {\n    this.ligthSirenLb = ligthSirenLb;\n  }\n\n  public boolean isLigthSirenS() {\n    return ligthSirenS;\n  }\n\n  public void setLigthSirenS(boolean ligthSirenS) {\n    this.ligthSirenS = ligthSirenS;\n  }\n\n\n\npublic void stopThread() {\n    this.isRunning = false;\n\n    if (this.socket != null) {\n      this.socket.close();\n    }\n  }\n\n  \n}\n</code></pre>\n<p>AccelerationChecker class code:</p>\n<pre><code>public class AccelerationChecker{\n  \n  private long currentAcceleration;\n  \n  private double startTime;\n  \n  private double currentTime;\n  \n  private double elapsedTime;\n  \n  private boolean flag;\n  \n  public AccelerationChecker() {\n    this.currentAcceleration = 0;\n    this.flag = false;\n    this.startTime = 0;\n    this.currentTime = 0;\n  }\n    \n  public void handleAccelerationCheck(long newValue) {\n    if(newValue &lt; -7) {\n      this.startTime = System.nanoTime();\n      this.currentTime = System.nanoTime();\n      this.elapsedTime = this.currentTime - this.startTime;\n      if(this.elapsedTime &gt;= 500) {\n        this.flag = true;\n      }\n      else {\n        this.flag = false;\n      }\n    }\n  }\n  \n  public boolean getFlag() {\n    return flag;\n  }\n}\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":19092813,"reputation":727,"user_id":13942764,"display_name":"Deepika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666732146,"creation_date":1666732146,"question_id":74200235,"body_markdown":"I am doing my android project and I am using an external API to connect it with the database. I have done the create and view by id. But when it comes to update and deleteI am getting error as `E/Failure&#160;message: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 2 path $`. But I am getting the success message and the the error.\r\n\r\n[![Success message and error][1]][1]\r\n\r\nWhen I delete I am getting this error but when I re build the app the data is deleted. But the update is not working.\r\n\r\nThis is my external API\r\n\r\n    \r\n    //Update fuel details\r\n    @PUT(&quot;/api/fuel/{id}&quot;)\r\n    Call&lt;Fuel&gt; updateFuel(@Path(&quot;id&quot;) int id,@Body Fuel fuel);\r\n\r\n    //Delete fuel details\r\n    @DELETE(&quot;/api/fuel/{id}&quot;)\r\n    Call&lt;Fuel&gt; deleteFuel(@Path(&quot;id&quot;) int id);\r\n\r\nAnd this is my java class for the update and delete. I have tried for 2 days and still couldn&#39;t find a solution for this. Please give me some support. Thank You.\r\n\r\n    public class ShedFuelUpdateFormActivity  extends AppCompatActivity {\r\n\r\n    EditText fuelType, arrivalTime, arrivalAmount, availableAmount, finishTime;\r\n    Button deleteButton, updateButton;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_shed_fuel_update_form_screen);\r\n\r\n        fuelType = findViewById(R.id.fuelType );\r\n        arrivalTime = findViewById(R.id.arrivalTime );\r\n        arrivalAmount = findViewById(R.id.arrivalAmount );\r\n        availableAmount = findViewById(R.id.availableAmount );\r\n        finishTime = findViewById(R.id.finishTime );\r\n\r\n        deleteButton = findViewById(R.id.deleteButton );\r\n        updateButton = findViewById(R.id.updateButton );\r\n\r\n        Intent intent = getIntent();\r\n        int fuelId = Integer.parseInt(intent.getStringExtra(&quot;fuelId&quot;));\r\n\r\n        //Get fuel by id\r\n        new Handler(Looper.myLooper()).postDelayed(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                getFuel(fuelId);\r\n            }\r\n        }, 1000);\r\n\r\n        //Call delete function\r\n        deleteButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                deleteFuel(fuelId);\r\n\r\n            }\r\n        });\r\n\r\n        //Call update function\r\n        updateButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                saveFuel(fuelId, updateFuel());\r\n\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    //Get fuel by id details\r\n    public void getFuel(int id){\r\n        Call&lt;Fuel&gt; getFuelCall = ApiClient.getFuelServices().getFuelById(id);\r\n        getFuelCall.enqueue(new Callback&lt;Fuel&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;Fuel&gt; call, Response&lt;Fuel&gt; response) {\r\n                if(response.isSuccessful()){\r\n                    String fuelTypeData = response.body().getFuelType();\r\n                    String arrivalTimeData = response.body().getFuelArivalTime();\r\n                    String arrivalAmountData = String.valueOf(response.body().getArivalAmount());\r\n                    String availableAmountData = String.valueOf(response.body().getCurrentAvailableAmount());\r\n                    String finishTimeData = response.body().getFuelFinishedTime();\r\n\r\n                    fuelType.setText(fuelTypeData);\r\n                    arrivalTime.setText(arrivalTimeData);\r\n                    arrivalAmount.setText(arrivalAmountData);\r\n                    availableAmount.setText(availableAmountData);\r\n                    finishTime.setText(finishTimeData);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;Fuel&gt; call, Throwable t) {\r\n                Log.e(&quot;Failure message&quot;,t.getLocalizedMessage());\r\n            }\r\n        });\r\n    }\r\n\r\n    //Delete fuel details\r\n    public void deleteFuel(int id){\r\n        Call&lt;Fuel&gt; deleteFuelCall = ApiClient.getFuelServices().deleteFuel(id);\r\n        deleteFuelCall.enqueue(new Callback&lt;Fuel&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;Fuel&gt; call, Response&lt;Fuel&gt; response) {\r\n                if(response.isSuccessful()){\r\n                    Toast.makeText(ShedFuelUpdateFormActivity.this, &quot;Fuel deleted successfully&quot;, Toast.LENGTH_LONG).show();\r\n                    Intent intent = getIntent();\r\n                    String shedId = intent.getStringExtra(&quot;shedId&quot;);\r\n                    Intent i = new Intent(ShedFuelUpdateFormActivity.this, ShedOwnerHomeActivity.class).putExtra(&quot;shedId&quot;,shedId);;\r\n                    startActivity(i);\r\n                }\r\n                else{\r\n                    Toast.makeText(ShedFuelUpdateFormActivity.this, &quot;Failed to delete fuel&quot;, Toast.LENGTH_LONG).show();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;Fuel&gt; call, Throwable t) {\r\n                Log.e(&quot;Failure message&quot;,t.getLocalizedMessage());\r\n            }\r\n        });\r\n    }\r\n\r\n    //Update fuel\r\n    public Fuel updateFuel(){\r\n        Fuel fuel = new Fuel();\r\n        Intent intent = getIntent();\r\n        int shedId = Integer.parseInt(intent.getStringExtra(&quot;shedId&quot;));\r\n        fuel.setShedId(shedId);\r\n        fuel.setFuelType(fuelType.getText().toString());\r\n        fuel.setFuelArivalTime(arrivalTime.getText().toString());\r\n        fuel.setArivalAmount(Integer.parseInt(arrivalAmount.getText().toString()));\r\n        fuel.setCurrentAvailableAmount(Integer.parseInt(availableAmount.getText().toString()));\r\n        fuel.setFuelFinishedTime(finishTime.getText().toString());\r\n\r\n        return fuel;\r\n    }\r\n\r\n    //Save updated fuel\r\n    public void saveFuel (int id, Fuel fuel){\r\n        Call&lt;Fuel&gt; createFuelCall = ApiClient.getFuelServices().updateFuel(id, fuel);\r\n        createFuelCall.enqueue(new Callback&lt;Fuel&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;Fuel&gt; call, Response&lt;Fuel&gt; response) {\r\n                if(response.isSuccessful()){\r\n                    Toast.makeText(ShedFuelUpdateFormActivity.this, &quot;Fuel details updated successfully&quot;, Toast.LENGTH_LONG).show();\r\n                    Intent intent = getIntent();\r\n                    String shedId = intent.getStringExtra(&quot;shedId&quot;);\r\n                    Intent i = new Intent(ShedFuelUpdateFormActivity.this, ShedOwnerHomeActivity.class).putExtra(&quot;shedId&quot;,shedId);;\r\n                    startActivity(i);\r\n                }\r\n                else{\r\n                    Toast.makeText(ShedFuelUpdateFormActivity.this, &quot;Failed to update fuel&quot;, Toast.LENGTH_LONG).show();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;Fuel&gt; call, Throwable t) {\r\n                Log.e(&quot;Failure message&quot;,t.getLocalizedMessage());\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Znumu.png","title":"Java update and delete function is giving me &#39;java.lang.IllegalStateException&#39;","body":"<p>I am doing my android project and I am using an external API to connect it with the database. I have done the create and view by id. But when it comes to update and deleteI am getting error as <code>E/Failuremessage: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 2 path $</code>. But I am getting the success message and the the error.</p>\n<p><a href=\"https://i.stack.imgur.com/Znumu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Znumu.png\" alt=\"Success message and error\" /></a></p>\n<p>When I delete I am getting this error but when I re build the app the data is deleted. But the update is not working.</p>\n<p>This is my external API</p>\n<pre><code>//Update fuel details\n@PUT(&quot;/api/fuel/{id}&quot;)\nCall&lt;Fuel&gt; updateFuel(@Path(&quot;id&quot;) int id,@Body Fuel fuel);\n\n//Delete fuel details\n@DELETE(&quot;/api/fuel/{id}&quot;)\nCall&lt;Fuel&gt; deleteFuel(@Path(&quot;id&quot;) int id);\n</code></pre>\n<p>And this is my java class for the update and delete. I have tried for 2 days and still couldn't find a solution for this. Please give me some support. Thank You.</p>\n<pre><code>public class ShedFuelUpdateFormActivity  extends AppCompatActivity {\n\nEditText fuelType, arrivalTime, arrivalAmount, availableAmount, finishTime;\nButton deleteButton, updateButton;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_shed_fuel_update_form_screen);\n\n    fuelType = findViewById(R.id.fuelType );\n    arrivalTime = findViewById(R.id.arrivalTime );\n    arrivalAmount = findViewById(R.id.arrivalAmount );\n    availableAmount = findViewById(R.id.availableAmount );\n    finishTime = findViewById(R.id.finishTime );\n\n    deleteButton = findViewById(R.id.deleteButton );\n    updateButton = findViewById(R.id.updateButton );\n\n    Intent intent = getIntent();\n    int fuelId = Integer.parseInt(intent.getStringExtra(&quot;fuelId&quot;));\n\n    //Get fuel by id\n    new Handler(Looper.myLooper()).postDelayed(new Runnable() {\n        @Override\n        public void run() {\n            getFuel(fuelId);\n        }\n    }, 1000);\n\n    //Call delete function\n    deleteButton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            deleteFuel(fuelId);\n\n        }\n    });\n\n    //Call update function\n    updateButton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            saveFuel(fuelId, updateFuel());\n\n\n        }\n    });\n}\n\n//Get fuel by id details\npublic void getFuel(int id){\n    Call&lt;Fuel&gt; getFuelCall = ApiClient.getFuelServices().getFuelById(id);\n    getFuelCall.enqueue(new Callback&lt;Fuel&gt;() {\n        @Override\n        public void onResponse(Call&lt;Fuel&gt; call, Response&lt;Fuel&gt; response) {\n            if(response.isSuccessful()){\n                String fuelTypeData = response.body().getFuelType();\n                String arrivalTimeData = response.body().getFuelArivalTime();\n                String arrivalAmountData = String.valueOf(response.body().getArivalAmount());\n                String availableAmountData = String.valueOf(response.body().getCurrentAvailableAmount());\n                String finishTimeData = response.body().getFuelFinishedTime();\n\n                fuelType.setText(fuelTypeData);\n                arrivalTime.setText(arrivalTimeData);\n                arrivalAmount.setText(arrivalAmountData);\n                availableAmount.setText(availableAmountData);\n                finishTime.setText(finishTimeData);\n            }\n        }\n\n        @Override\n        public void onFailure(Call&lt;Fuel&gt; call, Throwable t) {\n            Log.e(&quot;Failure message&quot;,t.getLocalizedMessage());\n        }\n    });\n}\n\n//Delete fuel details\npublic void deleteFuel(int id){\n    Call&lt;Fuel&gt; deleteFuelCall = ApiClient.getFuelServices().deleteFuel(id);\n    deleteFuelCall.enqueue(new Callback&lt;Fuel&gt;() {\n        @Override\n        public void onResponse(Call&lt;Fuel&gt; call, Response&lt;Fuel&gt; response) {\n            if(response.isSuccessful()){\n                Toast.makeText(ShedFuelUpdateFormActivity.this, &quot;Fuel deleted successfully&quot;, Toast.LENGTH_LONG).show();\n                Intent intent = getIntent();\n                String shedId = intent.getStringExtra(&quot;shedId&quot;);\n                Intent i = new Intent(ShedFuelUpdateFormActivity.this, ShedOwnerHomeActivity.class).putExtra(&quot;shedId&quot;,shedId);;\n                startActivity(i);\n            }\n            else{\n                Toast.makeText(ShedFuelUpdateFormActivity.this, &quot;Failed to delete fuel&quot;, Toast.LENGTH_LONG).show();\n            }\n        }\n\n        @Override\n        public void onFailure(Call&lt;Fuel&gt; call, Throwable t) {\n            Log.e(&quot;Failure message&quot;,t.getLocalizedMessage());\n        }\n    });\n}\n\n//Update fuel\npublic Fuel updateFuel(){\n    Fuel fuel = new Fuel();\n    Intent intent = getIntent();\n    int shedId = Integer.parseInt(intent.getStringExtra(&quot;shedId&quot;));\n    fuel.setShedId(shedId);\n    fuel.setFuelType(fuelType.getText().toString());\n    fuel.setFuelArivalTime(arrivalTime.getText().toString());\n    fuel.setArivalAmount(Integer.parseInt(arrivalAmount.getText().toString()));\n    fuel.setCurrentAvailableAmount(Integer.parseInt(availableAmount.getText().toString()));\n    fuel.setFuelFinishedTime(finishTime.getText().toString());\n\n    return fuel;\n}\n\n//Save updated fuel\npublic void saveFuel (int id, Fuel fuel){\n    Call&lt;Fuel&gt; createFuelCall = ApiClient.getFuelServices().updateFuel(id, fuel);\n    createFuelCall.enqueue(new Callback&lt;Fuel&gt;() {\n        @Override\n        public void onResponse(Call&lt;Fuel&gt; call, Response&lt;Fuel&gt; response) {\n            if(response.isSuccessful()){\n                Toast.makeText(ShedFuelUpdateFormActivity.this, &quot;Fuel details updated successfully&quot;, Toast.LENGTH_LONG).show();\n                Intent intent = getIntent();\n                String shedId = intent.getStringExtra(&quot;shedId&quot;);\n                Intent i = new Intent(ShedFuelUpdateFormActivity.this, ShedOwnerHomeActivity.class).putExtra(&quot;shedId&quot;,shedId);;\n                startActivity(i);\n            }\n            else{\n                Toast.makeText(ShedFuelUpdateFormActivity.this, &quot;Failed to update fuel&quot;, Toast.LENGTH_LONG).show();\n            }\n        }\n\n        @Override\n        public void onFailure(Call&lt;Fuel&gt; call, Throwable t) {\n            Log.e(&quot;Failure message&quot;,t.getLocalizedMessage());\n        }\n    });\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":1,"creation_date":1666732036,"post_id":74199864,"comment_id":131005251,"body_markdown":"The type of root.getChildren() is ObservableList&lt;Node&gt;. You used ObservableList - which is called raw generic - raw means you did not specify the type of item in the list. Raw generics exist for compatibility with java 1.4, which did not have generics at all.","body":"The type of root.getChildren() is ObservableList&lt;Node&gt;. You used ObservableList - which is called raw generic - raw means you did not specify the type of item in the list. Raw generics exist for compatibility with java 1.4, which did not have generics at all."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1666731988,"creation_date":1666731988,"answer_id":74200209,"question_id":74199864,"body_markdown":"The warning is telling you that the parameter passed to `add` is unknown type (not compile time checked). This would be fixed if you use the proper return type of `root.getChildren()` which  is declared as:\r\n\r\n     ObservableList&lt;Node&gt; list = root.getChildren();\r\n\r\nAfter this change, any attempt to add something that isn&#39;t a`Node` would be spotted by the compiler.","title":"recompile with -xlint: unchecked/unsafe operations","body":"<p>The warning is telling you that the parameter passed to <code>add</code> is unknown type (not compile time checked). This would be fixed if you use the proper return type of <code>root.getChildren()</code> which  is declared as:</p>\n<pre><code> ObservableList&lt;Node&gt; list = root.getChildren();\n</code></pre>\n<p>After this change, any attempt to add something that isn't a<code>Node</code> would be spotted by the compiler.</p>\n"}],"owner":{"account_id":26731653,"reputation":3,"user_id":20333907,"display_name":"Resul Haydarmyradov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1666732166,"accepted_answer_id":74200209,"answer_count":1,"score":-1,"last_activity_date":1666731988,"creation_date":1666729914,"question_id":74199864,"body_markdown":"\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.scene.Group;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\nimport javafx.scene.text.Font;\r\nimport javafx.scene.text.Text;\r\n\r\npublic class DisplayingText extends Application {\r\n\t@Override\r\n\tpublic void start(Stage stage) {\r\n\t\tText text = new Text();\r\n\r\n\t\ttext.setFont(new Font(45));\r\n\r\n\t\ttext.setX(50);\r\n\t\ttext.setY(50);\r\n\r\n\t\ttext.setText(&quot;Welcome my friend!&quot;);\r\n\r\n\t\tGroup root = new Group();\r\n\r\n\t\tObservableList list = root.getChildren();\r\n\r\n\t\tlist.add(text);\r\n\r\n\t\tScene scene = new Scene(root, 600, 300);\r\n\r\n\t\tstage.setTitle(&quot;Sample Application&quot;);\r\n\r\n\t\tstage.setScene(scene);\r\n\r\n\t\tstage.show();\r\n\r\n\t}\r\n\tpublic static void main(String args[]) {\r\n\t\tlaunch(args);\r\n\t}\r\n}\r\n```\r\n\r\nThe compiler says I am using something not something. Here&#39;s what the compiler says: \r\n\r\n\r\n\r\n&gt;C:\\Users\\Resul\\Desktop\\Skills\\For Java&gt;javac -Xlint:unchecked DisplayingText.jav a\r\nDisplayingText.java:25: warning: [unchecked] unchecked call to add(E) as a membe r of the raw type List\r\nlist.add(text);\r\nwhere E is a type-variable:\r\nE extends Object declared in interface List 1 warning\r\nC:\\Users\\Resul\\Desktop\\Skills For Java&gt;\r\n\r\n\r\n\r\n\r\nSince I don&#39;t know English well, I translated everything the compiler said. But still, I didn&#39;t understand what exactly the compiler wants. because it&#39;s the first time I&#39;m facing this.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nf3Ql.png","title":"recompile with -xlint: unchecked/unsafe operations","body":"<pre><code>import javafx.application.Application;\nimport javafx.collections.ObservableList;\nimport javafx.scene.Group;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\nimport javafx.scene.text.Font;\nimport javafx.scene.text.Text;\n\npublic class DisplayingText extends Application {\n    @Override\n    public void start(Stage stage) {\n        Text text = new Text();\n\n        text.setFont(new Font(45));\n\n        text.setX(50);\n        text.setY(50);\n\n        text.setText(&quot;Welcome my friend!&quot;);\n\n        Group root = new Group();\n\n        ObservableList list = root.getChildren();\n\n        list.add(text);\n\n        Scene scene = new Scene(root, 600, 300);\n\n        stage.setTitle(&quot;Sample Application&quot;);\n\n        stage.setScene(scene);\n\n        stage.show();\n\n    }\n    public static void main(String args[]) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>The compiler says I am using something not something. Here's what the compiler says:</p>\n<blockquote>\n<p>C:\\Users\\Resul\\Desktop\\Skills\\For Java&gt;javac -Xlint:unchecked DisplayingText.jav a\nDisplayingText.java:25: warning: [unchecked] unchecked call to add(E) as a membe r of the raw type List\nlist.add(text);\nwhere E is a type-variable:\nE extends Object declared in interface List 1 warning\nC:\\Users\\Resul\\Desktop\\Skills For Java&gt;</p>\n</blockquote>\n<p>Since I don't know English well, I translated everything the compiler said. But still, I didn't understand what exactly the compiler wants. because it's the first time I'm facing this.</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666654488,"creation_date":1666654488,"answer_id":74187787,"question_id":74187738,"body_markdown":"&gt; Is this normal?\r\n\r\nYes. Most permissions are not set up this way, but this pair is. After all, if you can measure location within a few dozen meters (`ACCESS_FINE_LOCATION`), then by definition you can measure location within a much larger radius (`ACCESS_COARSE_LOCATION`).","title":"android.permission.ACCESS_FINE_LOCATION also gives permission to android.permission.ACCESS_COARSE_LOCATION","body":"<blockquote>\n<p>Is this normal?</p>\n</blockquote>\n<p>Yes. Most permissions are not set up this way, but this pair is. After all, if you can measure location within a few dozen meters (<code>ACCESS_FINE_LOCATION</code>), then by definition you can measure location within a much larger radius (<code>ACCESS_COARSE_LOCATION</code>).</p>\n"}],"owner":{"account_id":24134501,"reputation":35,"user_id":18101638,"display_name":"lacrimosa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":412,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74187787,"answer_count":1,"score":2,"last_activity_date":1666731862,"creation_date":1666653876,"question_id":74187738,"body_markdown":"I am testing android permissions for both camera and location. Surprisingly to me, I learned that when I give access to fine location, system also gives permission to coarse location. Is this normal? I first checked with Toasts to see the granted accesses. When I give access to coarse only, it shows that fine location permission is denied, which is normal. But when I give access to fine address, it also gives permission to coarse location. Is this normal?\r\n\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n        private lateinit var binding: ActivityMainBinding\r\n        private var cameraResultLauncher: ActivityResultLauncher&lt;String&gt; =\r\n            registerForActivityResult(\r\n            ActivityResultContracts.RequestPermission()){\r\n                isGranted -&gt;\r\n                if (isGranted){\r\n                    Toast.makeText(this, &quot;Permission granted&quot;, Toast.LENGTH_LONG).show()\r\n                }else{\r\n                    Toast.makeText(this, &quot;Permission denied&quot;, Toast.LENGTH_LONG).show()\r\n                }\r\n            }\r\n    \r\n        //This time we create the Activity result launcher of type Array&lt;String&gt;\r\n        private var cameraAndLocationResultLauncher: ActivityResultLauncher&lt;Array&lt;String&gt;&gt; =\r\n            registerForActivityResult(\r\n                ActivityResultContracts.RequestMultiplePermissions()){\r\n                permissions -&gt;\r\n                /**\r\n                Here it returns a Map of permission name as key with boolean as value\r\n                Loop through the map to get the value we need which is the boolean\r\n                value\r\n                 */\r\n                permissions.entries.forEach{\r\n                    val permissionName = it.key\r\n                    val isGranted = it.value\r\n                    println(permissionName)\r\n                    println(isGranted)\r\n                    if (isGranted){\r\n                        if (permissionName == Manifest.permission.ACCESS_FINE_LOCATION){\r\n                            Toast.makeText(this, &quot;Permission granted for fine location&quot;, Toast.LENGTH_LONG).show()\r\n    \r\n                        }else if(permissionName == Manifest.permission.ACCESS_COARSE_LOCATION){\r\n                            Toast.makeText(this, &quot;Permission granted for coarse location&quot;, Toast.LENGTH_LONG).show()\r\n    \r\n                        }else{\r\n                            Toast.makeText(this, &quot;Permission granted for Camera&quot;, Toast.LENGTH_LONG).show()\r\n                        }\r\n                    }else{\r\n                        if (permissionName == Manifest.permission.ACCESS_FINE_LOCATION){\r\n                            Toast.makeText(this, &quot;Permission denied for fine location&quot;, Toast.LENGTH_LONG).show()\r\n    \r\n                        }else if(permissionName == Manifest.permission.ACCESS_COARSE_LOCATION){\r\n                            Toast.makeText(this, &quot;Permission denied for coarse location&quot;, Toast.LENGTH_LONG).show()\r\n    \r\n                        }else{\r\n                            Toast.makeText(this, &quot;Permission denied for Camera&quot;, Toast.LENGTH_LONG).show()\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n    \r\n    \r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            binding = ActivityMainBinding.inflate(layoutInflater)\r\n            setContentView(binding.root)\r\n    \r\n            val btnCameraPermission: Button = binding.btnCameraPermission\r\n            btnCameraPermission.setOnClickListener {\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp; shouldShowRequestPermissionRationale(\r\n                        Manifest.permission.CAMERA)){\r\n                    showRationaleDialog(&quot;Permission Demo requires camera access&quot;, &quot;Camera cannot be used because Camera access is denied&quot;)\r\n                }else{\r\n                    // You can directly ask for the permission.\r\n                    // The registered ActivityResultCallback gets the result of this request.\r\n    \r\n    //                cameraResultLauncher.launch(Manifest.permission.CAMERA)  this for only camera permission\r\n                    cameraAndLocationResultLauncher.launch(arrayOf(Manifest.permission.CAMERA, Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.ACCESS_COARSE_LOCATION))\r\n                }\r\n            }\r\n        }\r\n    \r\n        private fun showRationaleDialog(\r\n            title: String,\r\n            message: String,\r\n        ){\r\n            val builder: AlertDialog.Builder = AlertDialog.Builder(this)\r\n            builder.setTitle(title)\r\n                .setMessage(message)\r\n                .setPositiveButton(&quot;Cancel&quot;){\r\n                        dialog, _-&gt; dialog.dismiss()\r\n                }\r\n            builder.create().show()\r\n        }\r\n    \r\n    }\r\n\r\n    I/System.out: android.permission.ACCESS_FINE_LOCATION\r\n    I/System.out: true\r\n    I/System.out: android.permission.ACCESS_COARSE_LOCATION\r\n    I/System.out: true\r\n","title":"android.permission.ACCESS_FINE_LOCATION also gives permission to android.permission.ACCESS_COARSE_LOCATION","body":"<p>I am testing android permissions for both camera and location. Surprisingly to me, I learned that when I give access to fine location, system also gives permission to coarse location. Is this normal? I first checked with Toasts to see the granted accesses. When I give access to coarse only, it shows that fine location permission is denied, which is normal. But when I give access to fine address, it also gives permission to coarse location. Is this normal?</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n    private lateinit var binding: ActivityMainBinding\n    private var cameraResultLauncher: ActivityResultLauncher&lt;String&gt; =\n        registerForActivityResult(\n        ActivityResultContracts.RequestPermission()){\n            isGranted -&gt;\n            if (isGranted){\n                Toast.makeText(this, &quot;Permission granted&quot;, Toast.LENGTH_LONG).show()\n            }else{\n                Toast.makeText(this, &quot;Permission denied&quot;, Toast.LENGTH_LONG).show()\n            }\n        }\n\n    //This time we create the Activity result launcher of type Array&lt;String&gt;\n    private var cameraAndLocationResultLauncher: ActivityResultLauncher&lt;Array&lt;String&gt;&gt; =\n        registerForActivityResult(\n            ActivityResultContracts.RequestMultiplePermissions()){\n            permissions -&gt;\n            /**\n            Here it returns a Map of permission name as key with boolean as value\n            Loop through the map to get the value we need which is the boolean\n            value\n             */\n            permissions.entries.forEach{\n                val permissionName = it.key\n                val isGranted = it.value\n                println(permissionName)\n                println(isGranted)\n                if (isGranted){\n                    if (permissionName == Manifest.permission.ACCESS_FINE_LOCATION){\n                        Toast.makeText(this, &quot;Permission granted for fine location&quot;, Toast.LENGTH_LONG).show()\n\n                    }else if(permissionName == Manifest.permission.ACCESS_COARSE_LOCATION){\n                        Toast.makeText(this, &quot;Permission granted for coarse location&quot;, Toast.LENGTH_LONG).show()\n\n                    }else{\n                        Toast.makeText(this, &quot;Permission granted for Camera&quot;, Toast.LENGTH_LONG).show()\n                    }\n                }else{\n                    if (permissionName == Manifest.permission.ACCESS_FINE_LOCATION){\n                        Toast.makeText(this, &quot;Permission denied for fine location&quot;, Toast.LENGTH_LONG).show()\n\n                    }else if(permissionName == Manifest.permission.ACCESS_COARSE_LOCATION){\n                        Toast.makeText(this, &quot;Permission denied for coarse location&quot;, Toast.LENGTH_LONG).show()\n\n                    }else{\n                        Toast.makeText(this, &quot;Permission denied for Camera&quot;, Toast.LENGTH_LONG).show()\n                    }\n                }\n            }\n        }\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        binding = ActivityMainBinding.inflate(layoutInflater)\n        setContentView(binding.root)\n\n        val btnCameraPermission: Button = binding.btnCameraPermission\n        btnCameraPermission.setOnClickListener {\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp; shouldShowRequestPermissionRationale(\n                    Manifest.permission.CAMERA)){\n                showRationaleDialog(&quot;Permission Demo requires camera access&quot;, &quot;Camera cannot be used because Camera access is denied&quot;)\n            }else{\n                // You can directly ask for the permission.\n                // The registered ActivityResultCallback gets the result of this request.\n\n//                cameraResultLauncher.launch(Manifest.permission.CAMERA)  this for only camera permission\n                cameraAndLocationResultLauncher.launch(arrayOf(Manifest.permission.CAMERA, Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.ACCESS_COARSE_LOCATION))\n            }\n        }\n    }\n\n    private fun showRationaleDialog(\n        title: String,\n        message: String,\n    ){\n        val builder: AlertDialog.Builder = AlertDialog.Builder(this)\n        builder.setTitle(title)\n            .setMessage(message)\n            .setPositiveButton(&quot;Cancel&quot;){\n                    dialog, _-&gt; dialog.dismiss()\n            }\n        builder.create().show()\n    }\n\n}\n\nI/System.out: android.permission.ACCESS_FINE_LOCATION\nI/System.out: true\nI/System.out: android.permission.ACCESS_COARSE_LOCATION\nI/System.out: true\n</code></pre>\n"},{"tags":["java","swing","jpanel","jbutton","jscrollpane"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1666731585,"post_id":74200019,"comment_id":131005108,"body_markdown":"Don&#39;t use setBounds(...) or setSize(...). This implies you are using a null layout which you should NOT be doing. Swing was designed to be used with layout managers. It is the job of the layout manager to set the size/location of components based on the rules of the layout manager.","body":"Don&#39;t use setBounds(...) or setSize(...). This implies you are using a null layout which you should NOT be doing. Swing was designed to be used with layout managers. It is the job of the layout manager to set the size/location of components based on the rules of the layout manager."}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666731434,"creation_date":1666731434,"answer_id":74200115,"question_id":74200019,"body_markdown":"    cMain.challengeModeScrollPane.add(cMain.challengeModePanel);\r\n\r\nDon&#39;t add components directly to the scroll pane. A scroll panel uses its own layout manager for the scrollbars and &quot;viewport&quot; etc, so the add(...) method doesn&#39;t do what you expect. \r\n\r\nThe component needs to be added to the &quot;viewport&quot; of the scroll pane. \r\n\r\nThis can be done by using:\r\n\r\n    scrollPane.setViewportView(challengeModePanel);\r\n\r\nOr easier is to just use:\r\n\r\n    JScrollPane scrollPane = new JScrollPane(challengeModePanel, ...);\r\n\r\n when you create the scroll pane.\r\n\r\nRead the section from the Swing tutorial on [How to Use Scroll Panes](https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html) for more information.","title":"Making a scrolling JPanel with JButtons and adding it to JScrollPane","body":"<pre><code>cMain.challengeModeScrollPane.add(cMain.challengeModePanel);\n</code></pre>\n<p>Don't add components directly to the scroll pane. A scroll panel uses its own layout manager for the scrollbars and &quot;viewport&quot; etc, so the add(...) method doesn't do what you expect.</p>\n<p>The component needs to be added to the &quot;viewport&quot; of the scroll pane.</p>\n<p>This can be done by using:</p>\n<pre><code>scrollPane.setViewportView(challengeModePanel);\n</code></pre>\n<p>Or easier is to just use:</p>\n<pre><code>JScrollPane scrollPane = new JScrollPane(challengeModePanel, ...);\n</code></pre>\n<p>when you create the scroll pane.</p>\n<p>Read the section from the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html\" rel=\"nofollow noreferrer\">How to Use Scroll Panes</a> for more information.</p>\n"}],"owner":{"account_id":25745781,"reputation":17,"user_id":19499021,"display_name":"TylerBalaskovitz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1666780983,"answer_count":1,"score":-1,"last_activity_date":1666731729,"creation_date":1666730858,"question_id":74200019,"body_markdown":"I&#39;m trying to make an array of buttons go inside of a JPanel. From there, I want the JPanel to be added to a JScrollPane so if there are more buttons that are needed, I will be able to scroll through all of the buttons as the app scales in size. However, after compiling, the JPanel is fine and will render all 10 buttons fine. Then the trouble begins, once I add the JPanel to the JScrollPane, the entire JScrollPane is completely blank. \r\n\r\n\r\n```\r\n\tcMain.challengeModePanel = new JPanel(new GridLayout(10,1));\r\n\tcMain.challengeModePanel.setBackground(Color.black);\r\n\tcMain.challengeModePanel.setForeground(Color.white);\r\n\tcMain.challengeModePanel.setVisible(true);\r\n\t\r\n\t\r\n\t//panelConfiguration(cMain.challengeModePanel, 175, 240, 250, 250, Color.black, 10,1, cMain.window);\r\n\t\r\n//The button generator method below was created by me to quickly add features to a button such as foreground, background, handlers and the panel it is going to be added to\r\n\r\n\tfor (int i = 0; i &lt; 10; i++) {\r\n\tcMain.challengeModeButtons[i] = new JButton();\r\n\tbuttonGenerator(cMain.challengeModeButtons[i], cMain.font3, Color.black, Color.white, false, cMain.clickerHandler, &quot;StartMenu&quot;, cMain.mouseHandler, cMain.challengeModePanel);\r\n\tcMain.challengeModeButtons[i].setSize(100, 50);\r\n\tcMain.challengeModePanel.add(cMain.challengeModeButtons[i]);\r\n\t\r\n\t}\r\n\r\n\tcMain.challengeModeScrollPane = new JScrollPane(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS, JScrollPane.HORIZONTAL_SCROLLBAR_ALWAYS);\r\n\tcMain.challengeModeScrollPane.setColumnHeaderView(new JLabel(&quot;Challenges:&quot;));\r\n\tcMain.challengeModeScrollPane.setBackground(Color.black);\r\n\tcMain.challengeModeScrollPane.setForeground(Color.white);\r\n\tcMain.challengeModeScrollPane.add(cMain.challengeModePanel);\r\n\tcMain.challengeModeScrollPane.setBounds(130, 180, 200, 300);\r\n\tcMain.challengeModeScrollPane.setVisible(true);\r\n\t\r\n\t\r\n\t\r\n\tcMain.window.add(cMain.challengeModeScrollPane);\r\n```\r\n\r\n\r\nI was expecting the program to render the buttons at the size they were set in within the code. From there, I was hoping that that JPanel would go inside of the JScrollPane and allow me to view it in a smaller area with the ability to scroll through all of the buttons akin to a JTextArea. However, as mentioned above, the JScrollPane is only rendering a blank pane with a vertical scroll and horizontal scroll bar. ","title":"Making a scrolling JPanel with JButtons and adding it to JScrollPane","body":"<p>I'm trying to make an array of buttons go inside of a JPanel. From there, I want the JPanel to be added to a JScrollPane so if there are more buttons that are needed, I will be able to scroll through all of the buttons as the app scales in size. However, after compiling, the JPanel is fine and will render all 10 buttons fine. Then the trouble begins, once I add the JPanel to the JScrollPane, the entire JScrollPane is completely blank.</p>\n<pre><code>    cMain.challengeModePanel = new JPanel(new GridLayout(10,1));\n    cMain.challengeModePanel.setBackground(Color.black);\n    cMain.challengeModePanel.setForeground(Color.white);\n    cMain.challengeModePanel.setVisible(true);\n    \n    \n    //panelConfiguration(cMain.challengeModePanel, 175, 240, 250, 250, Color.black, 10,1, cMain.window);\n    \n//The button generator method below was created by me to quickly add features to a button such as foreground, background, handlers and the panel it is going to be added to\n\n    for (int i = 0; i &lt; 10; i++) {\n    cMain.challengeModeButtons[i] = new JButton();\n    buttonGenerator(cMain.challengeModeButtons[i], cMain.font3, Color.black, Color.white, false, cMain.clickerHandler, &quot;StartMenu&quot;, cMain.mouseHandler, cMain.challengeModePanel);\n    cMain.challengeModeButtons[i].setSize(100, 50);\n    cMain.challengeModePanel.add(cMain.challengeModeButtons[i]);\n    \n    }\n\n    cMain.challengeModeScrollPane = new JScrollPane(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS, JScrollPane.HORIZONTAL_SCROLLBAR_ALWAYS);\n    cMain.challengeModeScrollPane.setColumnHeaderView(new JLabel(&quot;Challenges:&quot;));\n    cMain.challengeModeScrollPane.setBackground(Color.black);\n    cMain.challengeModeScrollPane.setForeground(Color.white);\n    cMain.challengeModeScrollPane.add(cMain.challengeModePanel);\n    cMain.challengeModeScrollPane.setBounds(130, 180, 200, 300);\n    cMain.challengeModeScrollPane.setVisible(true);\n    \n    \n    \n    cMain.window.add(cMain.challengeModeScrollPane);\n</code></pre>\n<p>I was expecting the program to render the buttons at the size they were set in within the code. From there, I was hoping that that JPanel would go inside of the JScrollPane and allow me to view it in a smaller area with the ability to scroll through all of the buttons akin to a JTextArea. However, as mentioned above, the JScrollPane is only rendering a blank pane with a vertical scroll and horizontal scroll bar.</p>\n"},{"tags":["java","filter","collections","java-stream"],"comments":[{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1627421572,"post_id":68551925,"comment_id":121151511,"body_markdown":"You&#39;re calling `findFirst()` which will remove all the elements but the first one. Is this what you intended? \nWhat&#39;s the data type for `getWidgetId()` ? How do you know the id 58 is present?","body":"You&#39;re calling <code>findFirst()</code> which will remove all the elements but the first one. Is this what you intended?  What&#39;s the data type for <code>getWidgetId()</code> ? How do you know the id 58 is present?"},{"owner":{"account_id":21208933,"reputation":922,"user_id":15597975,"display_name":"mars8"},"score":0,"creation_date":1627670320,"post_id":68551925,"comment_id":121227428,"body_markdown":"thanks, the answer that was provided by Deadpool is what i was looking for.","body":"thanks, the answer that was provided by Deadpool is what i was looking for."}],"answers":[{"tags":[],"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1627421639,"creation_date":1627421639,"answer_id":68552001,"question_id":68551925,"body_markdown":"You should `filter` the list first and the use `findFirst`\r\n\r\n    AllData allData = allDataList.stream()\r\n           .filter(e -&gt; e.getMyTicker().getWidgetId() == 58)\r\n           .findFirst().get();\r\n\r\nI would recommend to use [orElse][1] to avoid NoSuchElementException - if there is no value present in Optional\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElse-T-","title":"Return Element based on matching criteria from Stream","body":"<p>You should <code>filter</code> the list first and the use <code>findFirst</code></p>\n<pre><code>AllData allData = allDataList.stream()\n       .filter(e -&gt; e.getMyTicker().getWidgetId() == 58)\n       .findFirst().get();\n</code></pre>\n<p>I would recommend to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElse-T-\" rel=\"nofollow noreferrer\">orElse</a> to avoid NoSuchElementException - if there is no value present in Optional</p>\n"},{"tags":[],"owner":{"account_id":15771587,"reputation":22,"user_id":11380487,"display_name":"Aloha_Scope"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627430084,"creation_date":1627430084,"answer_id":68552885,"question_id":68551925,"body_markdown":"What happens if nothing is returned?  You would want a default value to fall back on and also call findFirst() after filter(). Here you go:\r\n\r\n\r\n        public static void main(String[] args) {\r\n        List&lt;MyObject&gt; list = new ArrayList&lt;&gt;();\r\n        MyObject object = list.stream().filter(e -&gt; e.getMyTicker().getWidgetId() == 58).findFirst().orElse(null);\r\n    }\r\n\r\n    public static class MyObject {\r\n        private Ticker myTicker;\r\n\r\n        public Ticker getMyTicker() {\r\n            return myTicker;\r\n        }\r\n    }\r\n\r\n    public static class Ticker {\r\n        private int widgetId;\r\n\r\n        public int getWidgetId() {\r\n            return this.widgetId;\r\n        }\r\n    }\r\n\r\n","title":"Return Element based on matching criteria from Stream","body":"<p>What happens if nothing is returned?  You would want a default value to fall back on and also call findFirst() after filter(). Here you go:</p>\n<pre><code>    public static void main(String[] args) {\n    List&lt;MyObject&gt; list = new ArrayList&lt;&gt;();\n    MyObject object = list.stream().filter(e -&gt; e.getMyTicker().getWidgetId() == 58).findFirst().orElse(null);\n}\n\npublic static class MyObject {\n    private Ticker myTicker;\n\n    public Ticker getMyTicker() {\n        return myTicker;\n    }\n}\n\npublic static class Ticker {\n    private int widgetId;\n\n    public int getWidgetId() {\n        return this.widgetId;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21208933,"reputation":922,"user_id":15597975,"display_name":"mars8"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3831,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68552001,"answer_count":2,"score":2,"last_activity_date":1666731610,"creation_date":1627420982,"question_id":68551925,"body_markdown":"I have a list of custom object AllData. I would like to return one element from this list that matches a specific criteria (widgetId = 58). How would i use stream/filter/collections to return single AllData object matching my criteria. I have tried the below, however i get *NoSuchElementException.* \r\n\r\n```\r\nAppDatabase db = AppDatabase.getDbInstance(MyContext.getContext());\r\nList&lt;AllData&gt; allDataList = db.allDataDao().getAllDataList();\r\nAllData allData = allDataList.stream().findFirst().filter(e -&gt; e.getMyTicker().getWidgetId() == 58).get();\r\n```\r\n\r\n","title":"Return Element based on matching criteria from Stream","body":"<p>I have a list of custom object AllData. I would like to return one element from this list that matches a specific criteria (widgetId = 58). How would i use stream/filter/collections to return single AllData object matching my criteria. I have tried the below, however i get <em>NoSuchElementException.</em></p>\n<pre><code>AppDatabase db = AppDatabase.getDbInstance(MyContext.getContext());\nList&lt;AllData&gt; allDataList = db.allDataDao().getAllDataList();\nAllData allData = allDataList.stream().findFirst().filter(e -&gt; e.getMyTicker().getWidgetId() == 58).get();\n</code></pre>\n"},{"tags":["java","java-native-interface"],"comments":[{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1666732879,"post_id":74200023,"comment_id":131005452,"body_markdown":"Returning a `jstring` should be fine. Could try with `-Xcheck:jni`.","body":"Returning a <code>jstring</code> should be fine. Could try with <code>-Xcheck:jni</code>."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1666733492,"post_id":74200023,"comment_id":131005601,"body_markdown":"The documentation for `sane_control_option` says &quot;It is a pointer to the memory that holds the option value. The memory area pointed to by v must be big enough to hold the entire option value (determined by member size in the corresponding option descriptor).&quot;. Does your actual code allocate memory for `value`?","body":"The documentation for <code>sane_control_option</code> says &quot;It is a pointer to the memory that holds the option value. The memory area pointed to by v must be big enough to hold the entire option value (determined by member size in the corresponding option descriptor).&quot;. Does your actual code allocate memory for <code>value</code>?"},{"owner":{"account_id":2142244,"reputation":2287,"user_id":1900620,"accept_rate":41,"display_name":"Thiago Say&#227;o"},"score":0,"creation_date":1666740874,"post_id":74200023,"comment_id":131006987,"body_markdown":"@Botje you&#39;re right, I&#39;ve missed that. Will test it, but that&#39;s probably the cause.","body":"@Botje you&#39;re right, I&#39;ve missed that. Will test it, but that&#39;s probably the cause."}],"owner":{"account_id":2142244,"reputation":2287,"user_id":1900620,"accept_rate":41,"display_name":"Thiago Say&#227;o"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666730873,"creation_date":1666730873,"question_id":74200023,"body_markdown":"\r\nI have a [SANE][1] binding with Java throught JNI and I experience crashes when touching the funcion:\r\n\r\n\r\nJava Side\r\n\r\n    native Object nativeGetCurrentValue(long hnd, int num, int type);\r\n\r\nNative Side\r\n\r\n\r\n    JNIEXPORT jobject JNICALL Java_package_Sane_nativeGetCurrentValue(JNIEnv * env, jobject o, jlong hnd, jint num, jint type) {\r\n        void *value;\r\n   \r\n   \r\n        if (sane_control_option((SANE_Handle *) hnd, num, SANE_ACTION_GET_VALUE, value, NULL) == SANE_STATUS_GOOD) {\r\n            switch (type) {\r\n                case SANE_TYPE_BOOL: {\r\n    //                fprintf(stderr, &quot;SANE_TYPE_BOOL...\\n&quot;);\r\n                    jboolean * v = (jboolean *)value;\r\n    \r\n                    jclass cls = env-&gt;FindClass(&quot;java/lang/Boolean&quot;);\r\n                    jmethodID midBool = env-&gt;GetMethodID(cls, &quot;&lt;init&gt;&quot;, &quot;(Z)V&quot;);\r\n                    return env-&gt;NewObject(cls, midBool, *v);\r\n                }\r\n                case SANE_TYPE_FIXED: {\r\n    //                fprintf(stderr, &quot;SANE_TYPE_FIXED...\\n&quot;);\r\n                    SANE_Word * v = (SANE_Word *)value;\r\n                    double d = SANE_UNFIX(*v);\r\n    \r\n                    jclass cls = env-&gt;FindClass(&quot;java/lang/Double&quot;);\r\n                    jmethodID midDoub = env-&gt;GetMethodID(cls, &quot;&lt;init&gt;&quot;, &quot;(D)V&quot;);\r\n                    return env-&gt;NewObject(cls, midDoub, (jdouble)d);\r\n                }\r\n                case SANE_TYPE_INT: {\r\n    //                fprintf(stderr, &quot;SANE_TYPE_INT...\\n&quot;);\r\n                    int * v = (int *)value;\r\n    \r\n                    jclass cls = env-&gt;FindClass(&quot;java/lang/Integer&quot;);\r\n                    jmethodID midInit = env-&gt;GetMethodID(cls, &quot;&lt;init&gt;&quot;, &quot;(I)V&quot;);\r\n                    return env-&gt;NewObject(cls, midInit, *v);\r\n                }\r\n                case SANE_TYPE_STRING:\r\n    //                fprintf(stderr, &quot;SANE_TYPE_STRING...\\n&quot;);\r\n                    jstring str = env-&gt;NewStringUTF((char *)value);\r\n                    return str;\r\n            }\r\n        }\r\n    \r\n        return NULL;\r\n    }\r\n\r\nI suspect I&#39;m doing something wrong.\r\n\r\nIs it ok to return a jstring created with `env-&gt;NewStringUTF` to java?\r\n\r\n  [1]: https://sane-project.gitlab.io/standard/api.html","title":"Java/JNI - Is it OK to return a jstring as a jobject directly to java?","body":"<p>I have a <a href=\"https://sane-project.gitlab.io/standard/api.html\" rel=\"nofollow noreferrer\">SANE</a> binding with Java throught JNI and I experience crashes when touching the funcion:</p>\n<p>Java Side</p>\n<pre><code>native Object nativeGetCurrentValue(long hnd, int num, int type);\n</code></pre>\n<p>Native Side</p>\n<pre><code>JNIEXPORT jobject JNICALL Java_package_Sane_nativeGetCurrentValue(JNIEnv * env, jobject o, jlong hnd, jint num, jint type) {\n    void *value;\n\n\n    if (sane_control_option((SANE_Handle *) hnd, num, SANE_ACTION_GET_VALUE, value, NULL) == SANE_STATUS_GOOD) {\n        switch (type) {\n            case SANE_TYPE_BOOL: {\n//                fprintf(stderr, &quot;SANE_TYPE_BOOL...\\n&quot;);\n                jboolean * v = (jboolean *)value;\n\n                jclass cls = env-&gt;FindClass(&quot;java/lang/Boolean&quot;);\n                jmethodID midBool = env-&gt;GetMethodID(cls, &quot;&lt;init&gt;&quot;, &quot;(Z)V&quot;);\n                return env-&gt;NewObject(cls, midBool, *v);\n            }\n            case SANE_TYPE_FIXED: {\n//                fprintf(stderr, &quot;SANE_TYPE_FIXED...\\n&quot;);\n                SANE_Word * v = (SANE_Word *)value;\n                double d = SANE_UNFIX(*v);\n\n                jclass cls = env-&gt;FindClass(&quot;java/lang/Double&quot;);\n                jmethodID midDoub = env-&gt;GetMethodID(cls, &quot;&lt;init&gt;&quot;, &quot;(D)V&quot;);\n                return env-&gt;NewObject(cls, midDoub, (jdouble)d);\n            }\n            case SANE_TYPE_INT: {\n//                fprintf(stderr, &quot;SANE_TYPE_INT...\\n&quot;);\n                int * v = (int *)value;\n\n                jclass cls = env-&gt;FindClass(&quot;java/lang/Integer&quot;);\n                jmethodID midInit = env-&gt;GetMethodID(cls, &quot;&lt;init&gt;&quot;, &quot;(I)V&quot;);\n                return env-&gt;NewObject(cls, midInit, *v);\n            }\n            case SANE_TYPE_STRING:\n//                fprintf(stderr, &quot;SANE_TYPE_STRING...\\n&quot;);\n                jstring str = env-&gt;NewStringUTF((char *)value);\n                return str;\n        }\n    }\n\n    return NULL;\n}\n</code></pre>\n<p>I suspect I'm doing something wrong.</p>\n<p>Is it ok to return a jstring created with <code>env-&gt;NewStringUTF</code> to java?</p>\n"},{"tags":["java","arrays","multidimensional-array","copy"],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666729944,"creation_date":1666725799,"answer_id":74199189,"question_id":74198091,"body_markdown":"You are doing several things wrong:\r\n- replacing the destination row with an empty array of source size.\r\n- using the destination length instead of the source length\r\n\r\nHere is how it should look.\r\n```\r\n static void copy(int[][] source, int[][] destination) {\r\n\r\n     for (int i = 0; i &lt; source.length; i++) {\r\n         System.arraycopy(source[i], 0, destination[i + 1], 2,\r\n                 source[i].length);\r\n     }\r\n     output(destination);\r\n }\r\n```\r\nI have included a more general solution as follows:\r\n\r\nNot all arrays will lend themselves to this kind of copy.  I return a boolean if the copy was successful or not. Here are some guidelines.\r\n- Copying to center implies the same number of unfilled rows above and below, or the same number of unfilled columns to the left or right. This can be determined by subtracting the smallest dimension from the largest and seeing if the remainder when divided by two equals zero.  If so, the copy should succeed and true is returned.   Else, an informational message is  printed and false is returned.\r\n- The starting location of each row or column is determined by subtracting the shorter dimension from the longer one and dividing by two. \r\n- The loop iterates over the source array while the `System.arraycopy` does the work of copying to the destination, incrementing the destination row index.\r\n```\r\nint[][] arr = { { 11, 12}, { 21,22}};\r\nint[][] dest = new int[4][6];\r\nif (copyToCenter(arr, dest)) {\r\n        for (int[] rows : dest) {\r\n\t        System.out.println(Arrays.toString(rows));\r\n        }\r\n}\r\n```\r\nprints\r\n```\r\n[0, 0, 0, 0, 0, 0]\r\n[0, 0, 11, 12, 0, 0]\r\n[0, 0, 21, 22, 0, 0]\r\n[0, 0, 0, 0, 0, 0]\r\n\r\n```\r\n\r\nThe copy method.\r\n```\r\nstatic boolean copyToCenter(int[][] source, int[][] destination) {\r\n     if ((destination.length - source.length) % 2 != 0\r\n             || (destination[0].length - source[0].length) % 2 != 0) {\r\n         System.out\r\n                 .println(&quot;Arrays do not lend themselves to required copy&quot;);\r\n         return false;\r\n     }\r\n     \r\n     int firstCol = (destination[0].length - source[0].length) / 2;\r\n     int destRow = (destination.length - source.length) / 2;\r\n     for (int[] sourceRow : source) {\r\n             System.arraycopy(sourceRow, 0, destination[destRow++],\r\n                     firstCol, source[0].length);\r\n     }\r\n     return true;\r\n}","title":"Copying 2x2 array contents into 4x6 array in Java","body":"<p>You are doing several things wrong:</p>\n<ul>\n<li>replacing the destination row with an empty array of source size.</li>\n<li>using the destination length instead of the source length</li>\n</ul>\n<p>Here is how it should look.</p>\n<pre><code> static void copy(int[][] source, int[][] destination) {\n\n     for (int i = 0; i &lt; source.length; i++) {\n         System.arraycopy(source[i], 0, destination[i + 1], 2,\n                 source[i].length);\n     }\n     output(destination);\n }\n</code></pre>\n<p>I have included a more general solution as follows:</p>\n<p>Not all arrays will lend themselves to this kind of copy.  I return a boolean if the copy was successful or not. Here are some guidelines.</p>\n<ul>\n<li>Copying to center implies the same number of unfilled rows above and below, or the same number of unfilled columns to the left or right. This can be determined by subtracting the smallest dimension from the largest and seeing if the remainder when divided by two equals zero.  If so, the copy should succeed and true is returned.   Else, an informational message is  printed and false is returned.</li>\n<li>The starting location of each row or column is determined by subtracting the shorter dimension from the longer one and dividing by two.</li>\n<li>The loop iterates over the source array while the <code>System.arraycopy</code> does the work of copying to the destination, incrementing the destination row index.</li>\n</ul>\n<pre><code>int[][] arr = { { 11, 12}, { 21,22}};\nint[][] dest = new int[4][6];\nif (copyToCenter(arr, dest)) {\n        for (int[] rows : dest) {\n            System.out.println(Arrays.toString(rows));\n        }\n}\n</code></pre>\n<p>prints</p>\n<pre><code>[0, 0, 0, 0, 0, 0]\n[0, 0, 11, 12, 0, 0]\n[0, 0, 21, 22, 0, 0]\n[0, 0, 0, 0, 0, 0]\n\n</code></pre>\n<p>The copy method.</p>\n<pre><code>static boolean copyToCenter(int[][] source, int[][] destination) {\n     if ((destination.length - source.length) % 2 != 0\n             || (destination[0].length - source[0].length) % 2 != 0) {\n         System.out\n                 .println(&quot;Arrays do not lend themselves to required copy&quot;);\n         return false;\n     }\n     \n     int firstCol = (destination[0].length - source[0].length) / 2;\n     int destRow = (destination.length - source.length) / 2;\n     for (int[] sourceRow : source) {\n             System.arraycopy(sourceRow, 0, destination[destRow++],\n                     firstCol, source[0].length);\n     }\n     return true;\n}\n</code></pre>\n"}],"owner":{"account_id":25263490,"reputation":3,"user_id":19094058,"display_name":"shousan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74199189,"answer_count":1,"score":0,"last_activity_date":1666729944,"creation_date":1666719396,"question_id":74198091,"body_markdown":"I&#39;m new to Java programming and my assignment was to copy the content of 2x2 two dimensional array into the middle 4x6 two-dimensional array. I did it anyway but it doesn&#39;t print out the way I wanted and I dont know why. Can someone help me identify the problem in my source program. Thanks in advance\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\npublic class Main {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t     int[][] a = {{11,12},{21,22}};\r\n\t     int[][] b = new int[4][6];\r\n\t\r\n\t     System.out.print(&quot;a[][] = \\n&quot;);\r\n\t     output(a);   \r\n\t     System.out.print(&quot;\\nb[][] = \\n&quot;);\r\n\t     copy(a,b);\r\n\r\n\r\n\t}\r\n\t\r\n\tstatic void output(int[][] x) {\r\n\t\r\n\t\tfor(int i=0; i&lt;x.length;i++) {\r\n\t\t\tfor(int j=0;j&lt;x[i].length;j++) {\r\n\t\t\t\tSystem.out.printf(&quot; %2d &quot;, x[i][j]);\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\t}\r\n\t\r\n\tstatic void  copy(int[][] source, int[][] destination) {\r\n\t\t\r\n\t\tfor(int i=0;i&lt;source.length;i++) {\r\n\t\t\tdestination[i]= new int[source.length];\r\n\t\t\tSystem.arraycopy(source[i], 0, destination[i+1], 2, destination[i].length);\r\n\r\n\t\t\t}\r\n\t\toutput(destination);\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nThe result should be\r\n\r\n```\r\na[][]\r\n 11 12\r\n 21 22\r\nb[][]\r\n  0  0  0  0  0  0\r\n  0  0 11 12  0  0\r\n  0  0 21 22  0  0\r\n  0  0  0  0  0  0\r\n```\r\n\r\nbut I got\r\n\r\n```\r\na[][] = \r\n 11  12 \r\n 21  22 \r\n\r\nb[][] = \r\n  0   0 \r\n  0   0 \r\n  0   0  21  22   0   0 \r\n  0   0   0   0   0   0 \r\n```\r\n\r\ninstead.","title":"Copying 2x2 array contents into 4x6 array in Java","body":"<p>I'm new to Java programming and my assignment was to copy the content of 2x2 two dimensional array into the middle 4x6 two-dimensional array. I did it anyway but it doesn't print out the way I wanted and I dont know why. Can someone help me identify the problem in my source program. Thanks in advance</p>\n<pre><code>public class Main {\n    \n    public static void main(String[] args) {\n        \n         int[][] a = {{11,12},{21,22}};\n         int[][] b = new int[4][6];\n    \n         System.out.print(&quot;a[][] = \\n&quot;);\n         output(a);   \n         System.out.print(&quot;\\nb[][] = \\n&quot;);\n         copy(a,b);\n\n\n    }\n    \n    static void output(int[][] x) {\n    \n        for(int i=0; i&lt;x.length;i++) {\n            for(int j=0;j&lt;x[i].length;j++) {\n                System.out.printf(&quot; %2d &quot;, x[i][j]);\n            }\n            System.out.println();\n        }\n    }\n    \n    static void  copy(int[][] source, int[][] destination) {\n        \n        for(int i=0;i&lt;source.length;i++) {\n            destination[i]= new int[source.length];\n            System.arraycopy(source[i], 0, destination[i+1], 2, destination[i].length);\n\n            }\n        output(destination);\n        \n    }\n    \n}\n</code></pre>\n<p>The result should be</p>\n<pre><code>a[][]\n 11 12\n 21 22\nb[][]\n  0  0  0  0  0  0\n  0  0 11 12  0  0\n  0  0 21 22  0  0\n  0  0  0  0  0  0\n</code></pre>\n<p>but I got</p>\n<pre><code>a[][] = \n 11  12 \n 21  22 \n\nb[][] = \n  0   0 \n  0   0 \n  0   0  21  22   0   0 \n  0   0   0   0   0   0 \n</code></pre>\n<p>instead.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1666806306,"post_id":74199563,"comment_id":131025090,"body_markdown":"[Please post text, not images.](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question/285557#285557)","body":"<a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question/285557#285557\">Please post text, not images.</a>"}],"answers":[{"tags":[],"owner":{"account_id":3671353,"reputation":313,"user_id":3058494,"display_name":"Carbon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666729602,"creation_date":1666729602,"answer_id":74199813,"question_id":74199563,"body_markdown":"Actually I just found this link and it looks very similar to the issue I&#39;m having. \r\n\r\nhttps://stackoverflow.com/questions/3775483/ssl-handshake-exception\r\n\r\nI&#39;m going to follow the advice from this fix.\r\n\r\nIf anyone has any extra info please feel free to comment.","title":"Java error when running a javaprofile script involving ping authentication","body":"<p>Actually I just found this link and it looks very similar to the issue I'm having.</p>\n<p><a href=\"https://stackoverflow.com/questions/3775483/ssl-handshake-exception\">SSL HandShake exception</a></p>\n<p>I'm going to follow the advice from this fix.</p>\n<p>If anyone has any extra info please feel free to comment.</p>\n"}],"owner":{"account_id":3671353,"reputation":313,"user_id":3058494,"display_name":"Carbon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666729602,"creation_date":1666727968,"question_id":74199563,"body_markdown":"we&#39;re getting this error when we try to invoke any java script on our Linux box.  \r\n\r\nIs anyone familiar with this error, and what can be done about it? Their saying it has to do with a patch. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LIEzI.png\r\n\r\n\r\nIf this means we have to reinstall the certificate, where can I find out how to do this?\r\n\r\nThanks!","title":"Java error when running a javaprofile script involving ping authentication","body":"<p>we're getting this error when we try to invoke any java script on our Linux box.</p>\n<p>Is anyone familiar with this error, and what can be done about it? Their saying it has to do with a patch.</p>\n<p><a href=\"https://i.stack.imgur.com/LIEzI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LIEzI.png\" alt=\"enter image description here\" /></a></p>\n<p>If this means we have to reinstall the certificate, where can I find out how to do this?</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring","spring-boot","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666729546,"creation_date":1666729546,"answer_id":74199795,"question_id":74199684,"body_markdown":"See `AbstractPollingEndpoint`:\r\n\r\n\t/**\r\n\t * Configure a cap for messages to poll from the source per scheduling cycle.\r\n\t * A negative number means retrieve unlimited messages until the {@code MessageSource} returns {@code null}.\r\n\t * Zero means do not poll for any records - it\r\n\t * can be considered as pausing if &#39;maxMessagesPerPoll&#39; is later changed to a non-zero value.\r\n\t * The polling cycle may exit earlier if the source returns null for the current receive call.\r\n\t * @param maxMessagesPerPoll the number of message to poll per schedule.\r\n\t */\r\n\t@ManagedAttribute\r\n\tpublic void setMaxMessagesPerPoll(long maxMessagesPerPoll) {\r\n\r\nIt is also explained in docs: https://docs.spring.io/spring-integration/docs/current/reference/html/core.html#conditional-pollers\r\n\r\n&gt; Starting with version 5.5, a `0` value for `max-messages-per-poll` has a special meaning - skip the `MessageSource.receive()` call altogether, which may be considered as pausing for this inbound channel adapter until the `maxMessagesPerPoll` is changed to a non-zero value at a later time, e.g. via a Control Bus.\r\n\r\nYou can also do such a control via `MessageSourceMutator` advice injected into the poller configuration. That one has this method to implement:\r\n\r\n\t/**\r\n\t * Subclasses can decide whether to proceed with this poll.\r\n\t * @param source the message source.\r\n\t * @return true to proceed (default).\r\n\t */\r\n\tdefault boolean beforeReceive(MessageSource&lt;?&gt; source) {","title":"Spring Integration - Control sftp polling using a boolean flag for sftp inbound adaptor","body":"<p>See <code>AbstractPollingEndpoint</code>:</p>\n<pre><code>/**\n * Configure a cap for messages to poll from the source per scheduling cycle.\n * A negative number means retrieve unlimited messages until the {@code MessageSource} returns {@code null}.\n * Zero means do not poll for any records - it\n * can be considered as pausing if 'maxMessagesPerPoll' is later changed to a non-zero value.\n * The polling cycle may exit earlier if the source returns null for the current receive call.\n * @param maxMessagesPerPoll the number of message to poll per schedule.\n */\n@ManagedAttribute\npublic void setMaxMessagesPerPoll(long maxMessagesPerPoll) {\n</code></pre>\n<p>It is also explained in docs: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/core.html#conditional-pollers\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/core.html#conditional-pollers</a></p>\n<blockquote>\n<p>Starting with version 5.5, a <code>0</code> value for <code>max-messages-per-poll</code> has a special meaning - skip the <code>MessageSource.receive()</code> call altogether, which may be considered as pausing for this inbound channel adapter until the <code>maxMessagesPerPoll</code> is changed to a non-zero value at a later time, e.g. via a Control Bus.</p>\n</blockquote>\n<p>You can also do such a control via <code>MessageSourceMutator</code> advice injected into the poller configuration. That one has this method to implement:</p>\n<pre><code>/**\n * Subclasses can decide whether to proceed with this poll.\n * @param source the message source.\n * @return true to proceed (default).\n */\ndefault boolean beforeReceive(MessageSource&lt;?&gt; source) {\n</code></pre>\n"}],"owner":{"account_id":26406001,"reputation":1,"user_id":20055777,"display_name":"Choff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666729546,"creation_date":1666728732,"question_id":74199684,"body_markdown":"Is there a way in spring integration sftp adaptor to control the polling based on a boolean flag?\r\nExample \r\n\r\n- boolean flag = true, then poll the directory, and get the file.\r\n- boolean flag = false, then do not poll the directory.","title":"Spring Integration - Control sftp polling using a boolean flag for sftp inbound adaptor","body":"<p>Is there a way in spring integration sftp adaptor to control the polling based on a boolean flag?\nExample</p>\n<ul>\n<li>boolean flag = true, then poll the directory, and get the file.</li>\n<li>boolean flag = false, then do not poll the directory.</li>\n</ul>\n"},{"tags":["java","netsuite","oauth-1.0a","hmacsha256"],"answers":[{"tags":[],"owner":{"account_id":4281162,"reputation":1,"user_id":3500481,"display_name":"geoduck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666729430,"creation_date":1666729430,"answer_id":74199773,"question_id":74175164,"body_markdown":"We had a similar issue last week (the system not authenticating but the postman test connection from a laptop worked) and it was traced back to the fact that the system&#39;s clock ended up being set a few minutes fast.","title":"NetSuite using signedrequest4j OAuth 1.0 Access denied 401","body":"<p>We had a similar issue last week (the system not authenticating but the postman test connection from a laptop worked) and it was traced back to the fact that the system's clock ended up being set a few minutes fast.</p>\n"}],"owner":{"account_id":8596232,"reputation":45,"user_id":10027440,"display_name":"ElyMan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666729430,"creation_date":1666563051,"question_id":74175164,"body_markdown":"I&#39;m trying to consume services from NetSuite via signedrequest4j. The only result im getting is 401 Access denied, using the same credentials with Postman it works.\r\n\r\nthis the method to get the authorisation header :\r\n\r\n    public String buildAuthorizationHeader(String myRealm, String consumerKey, String consumerSecret, String tokenId, String tockenSecret, String url){\r\n    \tOAuthConsumer consumer = new OAuthConsumer(consumerKey, consumerSecret);\r\n    \tOAuthAccessToken accessToken = new OAuthAccessToken(tokenId, tockenSecret);\r\n    \tOAuthRealm realm = new OAuthRealm(myRealm);\r\n    \tSignedRequest request = SignedRequestFactory.create(realm, consumer, accessToken);\r\n    \trequest.readQueryStringAndAddToSignatureBaseString(url);\r\n    \trequest.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n    \tString oAuthNonce = createNonce();\r\n    \tLong oAuthTimestamp = System.currentTimeMillis() / 1000L;\r\n    \tString signature = request.getSignature(url, HttpMethod.GET, oAuthNonce, oAuthTimestamp);\r\n    \tString authorizationHeader = request.getAuthorizationHeader(signature, oAuthNonce, oAuthTimestamp);\r\n    \treturn authorizationHeader;\r\n    }\r\n\r\nto create OauthNonce :\r\n\r\n    public static String createNonce() {\r\n        String nonce = &quot;&quot;;\r\n\r\n        try {\r\n            SecureRandom prng = SecureRandom.getInstance(&quot;SHA256PRNG&quot;);\r\n            String randomNum = String.valueOf(prng.nextInt());\r\n\r\n            MessageDigest sha = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n            byte[] result = sha.digest(randomNum.getBytes());\r\n            nonce = hexEncode(result);\r\n        } catch (Exception e) {\r\n        }\r\n\r\n        return nonce;\r\n    }\r\n    \r\n    public static String hexEncode(byte[] aInput) {\r\n        StringBuilder result = new StringBuilder();\r\n\r\n        char[] digits = { &#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;,\r\n                &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39; };\r\n\r\n        for (int idx = 0; idx &lt; aInput.length; ++idx) {\r\n            byte b = aInput[idx];\r\n            result.append(digits[(b &amp; 0xf0) &gt;&gt; 4]);\r\n            result.append(digits[b &amp; 0x0f]);\r\n        }\r\n\r\n        return result.toString();\r\n    }\r\n\r\nand the method to get get the response: \r\n\r\n    public Response postOAuth(String url, String token, String contentType, String content ) throws IOException, RestException {\r\n        if (url == null)\r\n            throw new IOException(&quot;No URL specified&quot;);\r\n        if (content == null)\r\n            throw new IOException(&quot;No content specified&quot;);\r\n        \r\n        try {\r\n            URL u = new URL(url);\r\n            HttpURLConnection con = (HttpURLConnection) u.openConnection();\r\n            try {\r\n                if (keepAlive != null &amp;&amp; !keepAlive.booleanValue())\r\n                    con.setRequestProperty(&quot;Connection&quot;, &quot;Close&quot;);\r\n                con.setDoOutput(true);\r\n           \r\n                \r\n                byte[] data = content.getBytes(Charset.forName(&quot;UTF8&quot;));\r\n\r\n                con.addRequestProperty(&quot;Authorization&quot;, token);\r\n                \r\n                try (OutputStream out = con.getOutputStream(); \r\n                    InputStream in = new ByteArrayInputStream(data)) {\r\n                    Utils.copy(in, out);\r\n                }\r\n                \r\n                contentType = con.getContentType();\r\n                int contentLength = con.getContentLength();\r\n                InputStream in = con.getInputStream();\r\n                return new Response(contentType, contentLength, in);\r\n            } finally {\r\n                if (con instanceof HttpURLConnection)\r\n                    ((HttpURLConnection) con).disconnect();\r\n            }\r\n        } catch (MalformedURLException e) {\r\n            throw e;\r\n        } catch (FileNotFoundException e) {\r\n        \tif (e.getMessage() != null &amp;&amp; e.getMessage().contains(url))\r\n        \t\tthrow new RestException(HttpConstants.HTTP_NOT_FOUND, &quot;Invalid URL - please check REST server: &quot; + e.getMessage(), e);\r\n            throw e;\r\n        } catch (ConnectException e) {\r\n    \t\tthrow new RestException(HttpConstants.HTTP_UNAVAILABLE, &quot;Connection refused - please check REST server: &quot; + e.getMessage(), e);\r\n        } catch (IOException e) {\r\n        \tString msg = e.getMessage().toUpperCase();\r\n        \tint http = msg.indexOf(&quot; HTTP &quot;);\r\n        \tif (http &gt; 0) {\r\n        \t\tint col = msg.indexOf(&#39;:&#39;, http);\r\n        \t\tif (col &gt; 0) {\r\n        \t\t\tmsg = msg.substring(col+1).trim();\r\n        \t\t\tint end = msg.indexOf(&#39; &#39;);\r\n        \t\t\tif (end &gt; 0 &amp;&amp; end &lt; 5) {\r\n        \t\t\t\ttry {\r\n\t        \t\t\t\tint httpError = Integer.parseInt(msg.substring(0, end));\r\n\t        \t\t\t\tswitch (httpError) {\r\n\t        \t\t\t\tcase HttpConstants.HTTP_FORBIDDEN :\r\n\t        \t\t\t\tcase HttpConstants.HTTP_UNAUTHORIZED :\r\n\t        \t\t\t\tcase HttpConstants.HTTP_PAYMENT_REQUIRED :\r\n\t\t        \t\t\t\tthrow new RestException(httpError, &quot;Access denied to &quot; + url + &quot;: &quot; + e.getMessage(), e);\r\n\t        \t\t\t\tcase HttpConstants.HTTP_BAD_REQUEST :\r\n\t        \t\t\t\tcase HttpConstants.HTTP_BAD_METHOD :\r\n\t        \t\t\t\tcase HttpConstants.HTTP_NOT_ACCEPTABLE :\r\n\t        \t\t\t\t\tthrow new RestException(httpError, &quot;REST bad request &quot; + url + &quot;: &quot; + e.getMessage(), e);\r\n\t        \t\t\t\tdefault :\r\n\t\t        \t\t\t\tthrow new RestException(httpError, &quot;REST server error for &quot; + url + &quot;: &quot; + e.getMessage(), e);\r\n\t        \t\t\t\t}\r\n        \t\t\t\t} catch (NumberFormatException ignore) {\r\n        \t\t\t\t\tthrow e;\r\n        \t\t\t\t}\r\n        \t\t\t}\r\n        \t\t}\r\n        \t}\r\n            throw e;\r\n        }\r\n    }\r\n\r\nps: signedrequest4j doesn&#39;t support SHA256, thats&#39;s why I downloaded the project and implemented a new SignedMethode for the HMAC-SHA256\r\n\r\nthe Project I&#39;m using to get the authorisation header is : \r\n[signedrequest4j][1]\r\n\r\n\r\n  [1]: https://github.com/seratch/signedrequest4j","title":"NetSuite using signedrequest4j OAuth 1.0 Access denied 401","body":"<p>I'm trying to consume services from NetSuite via signedrequest4j. The only result im getting is 401 Access denied, using the same credentials with Postman it works.</p>\n<p>this the method to get the authorisation header :</p>\n<pre><code>public String buildAuthorizationHeader(String myRealm, String consumerKey, String consumerSecret, String tokenId, String tockenSecret, String url){\n    OAuthConsumer consumer = new OAuthConsumer(consumerKey, consumerSecret);\n    OAuthAccessToken accessToken = new OAuthAccessToken(tokenId, tockenSecret);\n    OAuthRealm realm = new OAuthRealm(myRealm);\n    SignedRequest request = SignedRequestFactory.create(realm, consumer, accessToken);\n    request.readQueryStringAndAddToSignatureBaseString(url);\n    request.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\n    String oAuthNonce = createNonce();\n    Long oAuthTimestamp = System.currentTimeMillis() / 1000L;\n    String signature = request.getSignature(url, HttpMethod.GET, oAuthNonce, oAuthTimestamp);\n    String authorizationHeader = request.getAuthorizationHeader(signature, oAuthNonce, oAuthTimestamp);\n    return authorizationHeader;\n}\n</code></pre>\n<p>to create OauthNonce :</p>\n<pre><code>public static String createNonce() {\n    String nonce = &quot;&quot;;\n\n    try {\n        SecureRandom prng = SecureRandom.getInstance(&quot;SHA256PRNG&quot;);\n        String randomNum = String.valueOf(prng.nextInt());\n\n        MessageDigest sha = MessageDigest.getInstance(&quot;SHA-256&quot;);\n        byte[] result = sha.digest(randomNum.getBytes());\n        nonce = hexEncode(result);\n    } catch (Exception e) {\n    }\n\n    return nonce;\n}\n\npublic static String hexEncode(byte[] aInput) {\n    StringBuilder result = new StringBuilder();\n\n    char[] digits = { '0', '1', '2', '3', '4', '5', '6', '7', '8', '9',\n            'a', 'b', 'c', 'd', 'e', 'f' };\n\n    for (int idx = 0; idx &lt; aInput.length; ++idx) {\n        byte b = aInput[idx];\n        result.append(digits[(b &amp; 0xf0) &gt;&gt; 4]);\n        result.append(digits[b &amp; 0x0f]);\n    }\n\n    return result.toString();\n}\n</code></pre>\n<p>and the method to get get the response:</p>\n<pre><code>public Response postOAuth(String url, String token, String contentType, String content ) throws IOException, RestException {\n    if (url == null)\n        throw new IOException(&quot;No URL specified&quot;);\n    if (content == null)\n        throw new IOException(&quot;No content specified&quot;);\n    \n    try {\n        URL u = new URL(url);\n        HttpURLConnection con = (HttpURLConnection) u.openConnection();\n        try {\n            if (keepAlive != null &amp;&amp; !keepAlive.booleanValue())\n                con.setRequestProperty(&quot;Connection&quot;, &quot;Close&quot;);\n            con.setDoOutput(true);\n       \n            \n            byte[] data = content.getBytes(Charset.forName(&quot;UTF8&quot;));\n\n            con.addRequestProperty(&quot;Authorization&quot;, token);\n            \n            try (OutputStream out = con.getOutputStream(); \n                InputStream in = new ByteArrayInputStream(data)) {\n                Utils.copy(in, out);\n            }\n            \n            contentType = con.getContentType();\n            int contentLength = con.getContentLength();\n            InputStream in = con.getInputStream();\n            return new Response(contentType, contentLength, in);\n        } finally {\n            if (con instanceof HttpURLConnection)\n                ((HttpURLConnection) con).disconnect();\n        }\n    } catch (MalformedURLException e) {\n        throw e;\n    } catch (FileNotFoundException e) {\n        if (e.getMessage() != null &amp;&amp; e.getMessage().contains(url))\n            throw new RestException(HttpConstants.HTTP_NOT_FOUND, &quot;Invalid URL - please check REST server: &quot; + e.getMessage(), e);\n        throw e;\n    } catch (ConnectException e) {\n        throw new RestException(HttpConstants.HTTP_UNAVAILABLE, &quot;Connection refused - please check REST server: &quot; + e.getMessage(), e);\n    } catch (IOException e) {\n        String msg = e.getMessage().toUpperCase();\n        int http = msg.indexOf(&quot; HTTP &quot;);\n        if (http &gt; 0) {\n            int col = msg.indexOf(':', http);\n            if (col &gt; 0) {\n                msg = msg.substring(col+1).trim();\n                int end = msg.indexOf(' ');\n                if (end &gt; 0 &amp;&amp; end &lt; 5) {\n                    try {\n                        int httpError = Integer.parseInt(msg.substring(0, end));\n                        switch (httpError) {\n                        case HttpConstants.HTTP_FORBIDDEN :\n                        case HttpConstants.HTTP_UNAUTHORIZED :\n                        case HttpConstants.HTTP_PAYMENT_REQUIRED :\n                            throw new RestException(httpError, &quot;Access denied to &quot; + url + &quot;: &quot; + e.getMessage(), e);\n                        case HttpConstants.HTTP_BAD_REQUEST :\n                        case HttpConstants.HTTP_BAD_METHOD :\n                        case HttpConstants.HTTP_NOT_ACCEPTABLE :\n                            throw new RestException(httpError, &quot;REST bad request &quot; + url + &quot;: &quot; + e.getMessage(), e);\n                        default :\n                            throw new RestException(httpError, &quot;REST server error for &quot; + url + &quot;: &quot; + e.getMessage(), e);\n                        }\n                    } catch (NumberFormatException ignore) {\n                        throw e;\n                    }\n                }\n            }\n        }\n        throw e;\n    }\n}\n</code></pre>\n<p>ps: signedrequest4j doesn't support SHA256, thats's why I downloaded the project and implemented a new SignedMethode for the HMAC-SHA256</p>\n<p>the Project I'm using to get the authorisation header is :\n<a href=\"https://github.com/seratch/signedrequest4j\" rel=\"nofollow noreferrer\">signedrequest4j</a></p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1666730495,"post_id":74199756,"comment_id":131004822,"body_markdown":"First, you should take the [tour] and read [ask] to see how to participate on this site.  And please include all required classes with getters, setters, toString, equals, etc properly defined.  Your example should be a [mre] so that we can better assist you.","body":"First, you should take the <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> to see how to participate on this site.  And please include all required classes with getters, setters, toString, equals, etc properly defined.  Your example should be a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so that we can better assist you."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1666733492,"post_id":74199756,"comment_id":131005602,"body_markdown":"Your `sort()` method doesn&#39;t sort the `ArrayList` that you pass in, it creates a new, sorted `ArrayList`. Within the `sort()` method you correctly handle this (by using the returned lists `smaller` and `greater`), but in `main()` you ignore the returned (sorted) list and instead print out the unsorted list.","body":"Your <code>sort()</code> method doesn&#39;t sort the <code>ArrayList</code> that you pass in, it creates a new, sorted <code>ArrayList</code>. Within the <code>sort()</code> method you correctly handle this (by using the returned lists <code>smaller</code> and <code>greater</code>), but in <code>main()</code> you ignore the returned (sorted) list and instead print out the unsorted list."}],"owner":{"account_id":26731663,"reputation":1,"user_id":20333916,"display_name":"NewbieDev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666729314,"creation_date":1666729314,"question_id":74199756,"body_markdown":"I am new to programming and am currently working on a CompSci degree, I am trying to sort an array list of objects by a variable (Salary) but for some reason it isn&#39;t sorting. Could anyone let me know where I&#39;m going wrong?\r\n\r\nThanks\r\n\r\n\r\n```\r\n\t public static ArrayList&lt;Employee&gt; sort(ArrayList&lt;Employee&gt; a)\r\n\t {\r\n\t  if(a.size()&lt;=0)\r\n\t     return a;\r\n\t  ArrayList&lt;Employee&gt; smaller = new ArrayList&lt;Employee&gt;();\r\n\t  ArrayList&lt;Employee&gt; greater = new ArrayList&lt;Employee&gt;();\r\n\t  int pivot = a.get(0).getSalary();\r\n\t  for(int i=1; i&lt;a.size(); i++)\r\n\t     {\r\n\t      Integer n = a.get(i).getSalary();\r\n\t      if(n.compareTo(pivot)&lt;0)\r\n\t         smaller.add(a.get(i));\r\n\t      else\r\n\t         greater.add(a.get(i));\r\n\t     }\r\n\t  smaller=sort(smaller);\r\n\t  greater=sort(greater);\r\n\t  smaller.add(a.get(0));\r\n\t  smaller.addAll(greater);\r\n\t  return smaller;\r\n\t }\r\n```\r\n\r\n\r\nI was trying to sort an arraylist by a variable (Salary) but the Arraylist isn&#39;t being sorted - main code  below using to test:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n\t\tDepartment marketing = new Department (&quot;Marketing&quot;, &quot;test avenue&quot;);\r\n\t\tDepartment admin = new Department (&quot;Admin&quot;, &quot;test avenue&quot;);\r\n\t\tDepartment sales = new Department (&quot;Sales&quot;, &quot;test avenue&quot;);\r\n\t\taddEmployee(&quot;A&quot;, &quot;1&quot;, marketing, 1);\r\n\t\taddEmployee(&quot;B&quot;, &quot;2&quot;, sales, 2);\r\n\t\taddEmployee(&quot;C&quot;, &quot;3&quot;, admin, 342);\r\n\t\taddEmployee(&quot;D&quot;, &quot;4&quot;, marketing, 55555);\r\n\t\taddEmployee(&quot;J&quot;, &quot;5&quot;, sales, 7);\r\n\t\t\r\n\t\tprintEmployeeList();\r\n\t\t\r\n\t\tsort(empList);\r\n\t\t\r\n\t\tprintEmployeeList();\r\n\t\t\r\n\t\r\n\t}\r\n```\r\n\r\nresulting in:\r\nEmployee ID:\t1\r\nName:\t\tA 1\r\nDepartment:\tMarketing\r\nSalary:\t\t1\r\n\r\nEmployee ID:\t2\r\nName:\t\tB 2\r\nDepartment:\tSales\r\nSalary:\t\t2\r\n\r\nEmployee ID:\t3\r\nName:\t\tC 3\r\nDepartment:\tAdmin\r\nSalary:\t\t342\r\n\r\nEmployee ID:\t4\r\nName:\t\tD 4\r\nDepartment:\tMarketing\r\nSalary:\t\t55555\r\n\r\nEmployee ID:\t5\r\nName:\t\tJ 5\r\nDepartment:\tSales\r\nSalary:\t\t7\r\n\r\nEmployee ID:\t1\r\nName:\t\tA 1\r\nDepartment:\tMarketing\r\nSalary:\t\t1\r\n\r\nEmployee ID:\t2\r\nName:\t\tB 2\r\nDepartment:\tSales\r\nSalary:\t\t2\r\n\r\nEmployee ID:\t3\r\nName:\t\tC 3\r\nDepartment:\tAdmin\r\nSalary:\t\t342\r\n\r\nEmployee ID:\t4\r\nName:\t\tD 4\r\nDepartment:\tMarketing\r\nSalary:\t\t55555\r\n\r\nEmployee ID:\t5\r\nName:\t\tJ 5\r\nDepartment:\tSales\r\nSalary:\t\t7\r\n","title":"Sorting ArrayList using Quicksort by a Variable","body":"<p>I am new to programming and am currently working on a CompSci degree, I am trying to sort an array list of objects by a variable (Salary) but for some reason it isn't sorting. Could anyone let me know where I'm going wrong?</p>\n<p>Thanks</p>\n<pre><code>     public static ArrayList&lt;Employee&gt; sort(ArrayList&lt;Employee&gt; a)\n     {\n      if(a.size()&lt;=0)\n         return a;\n      ArrayList&lt;Employee&gt; smaller = new ArrayList&lt;Employee&gt;();\n      ArrayList&lt;Employee&gt; greater = new ArrayList&lt;Employee&gt;();\n      int pivot = a.get(0).getSalary();\n      for(int i=1; i&lt;a.size(); i++)\n         {\n          Integer n = a.get(i).getSalary();\n          if(n.compareTo(pivot)&lt;0)\n             smaller.add(a.get(i));\n          else\n             greater.add(a.get(i));\n         }\n      smaller=sort(smaller);\n      greater=sort(greater);\n      smaller.add(a.get(0));\n      smaller.addAll(greater);\n      return smaller;\n     }\n</code></pre>\n<p>I was trying to sort an arraylist by a variable (Salary) but the Arraylist isn't being sorted - main code  below using to test:</p>\n<pre><code>public static void main(String[] args) {\n        Department marketing = new Department (&quot;Marketing&quot;, &quot;test avenue&quot;);\n        Department admin = new Department (&quot;Admin&quot;, &quot;test avenue&quot;);\n        Department sales = new Department (&quot;Sales&quot;, &quot;test avenue&quot;);\n        addEmployee(&quot;A&quot;, &quot;1&quot;, marketing, 1);\n        addEmployee(&quot;B&quot;, &quot;2&quot;, sales, 2);\n        addEmployee(&quot;C&quot;, &quot;3&quot;, admin, 342);\n        addEmployee(&quot;D&quot;, &quot;4&quot;, marketing, 55555);\n        addEmployee(&quot;J&quot;, &quot;5&quot;, sales, 7);\n        \n        printEmployeeList();\n        \n        sort(empList);\n        \n        printEmployeeList();\n        \n    \n    }\n</code></pre>\n<p>resulting in:\nEmployee ID:    1\nName:       A 1\nDepartment: Marketing\nSalary:     1</p>\n<p>Employee ID:    2\nName:       B 2\nDepartment: Sales\nSalary:     2</p>\n<p>Employee ID:    3\nName:       C 3\nDepartment: Admin\nSalary:     342</p>\n<p>Employee ID:    4\nName:       D 4\nDepartment: Marketing\nSalary:     55555</p>\n<p>Employee ID:    5\nName:       J 5\nDepartment: Sales\nSalary:     7</p>\n<p>Employee ID:    1\nName:       A 1\nDepartment: Marketing\nSalary:     1</p>\n<p>Employee ID:    2\nName:       B 2\nDepartment: Sales\nSalary:     2</p>\n<p>Employee ID:    3\nName:       C 3\nDepartment: Admin\nSalary:     342</p>\n<p>Employee ID:    4\nName:       D 4\nDepartment: Marketing\nSalary:     55555</p>\n<p>Employee ID:    5\nName:       J 5\nDepartment: Sales\nSalary:     7</p>\n"},{"tags":["java","performance"],"answers":[{"tags":[],"owner":{"account_id":3054958,"reputation":14923,"user_id":2588800,"accept_rate":100,"display_name":"Svetlin Zarev"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1493878736,"creation_date":1390151062,"answer_id":21219811,"question_id":21219777,"body_markdown":"`Arrays.sort()` uses `Tim sort` - O(N log N)  for array of objects and `QuickSort` for arrays of primitives - again O(N log N).\r\n\r\nHere is an awesome comparison of sorting algorithms: http://www.sorting-algorithms.com/","title":"The Running Time For Arrays.Sort Method in Java","body":"<p><code>Arrays.sort()</code> uses <code>Tim sort</code> - O(N log N)  for array of objects and <code>QuickSort</code> for arrays of primitives - again O(N log N).</p>\n\n<p>Here is an awesome comparison of sorting algorithms: <a href=\"http://www.sorting-algorithms.com/\" rel=\"nofollow noreferrer\">http://www.sorting-algorithms.com/</a></p>\n"},{"tags":[],"owner":{"account_id":2730129,"reputation":4790,"user_id":2354099,"accept_rate":74,"display_name":"pinkpanther"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1390152382,"creation_date":1390151291,"answer_id":21219858,"question_id":21219777,"body_markdown":"From official [docs][1]  \r\n\r\nI&#39;ve observed that there are primarily two approaches. So, it depends on what you are sorting and what overloaded method from `sort` family of methods you are calling.\r\n\r\n\r\n\r\nDocs mention that **for primitive types** such as `long`, `byte` (Ex: `static void sort(long[])`):\r\n\r\n&gt; The sorting algorithm is a tuned quicksort, adapted from Jon L.\r\n&gt; Bentley and M. Douglas McIlroy&#39;s &quot;Engineering a Sort Function&quot;,\r\n&gt; Software-Practice and Experience, Vol. 23(11) P. 1249-1265 (November\r\n&gt; 1993). This algorithm offers n*log(n) performance on many data sets\r\n&gt; that cause other quicksorts to degrade to quadratic performance.\r\n\r\n**For Object types:** (Ex: `void sort(Object list[])`)\r\n\r\n**Guaranteed O(nlogn) performance**\r\n \r\n&gt; The sorting algorithm is a modified mergesort (in which the merge is\r\n&gt; omitted if the highest element in the low sublist is less than the\r\n&gt; lowest element in the high sublist). This algorithm offers guaranteed\r\n&gt; n*log(n) performance.\r\n\r\nHope that helps!\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html#sort%28byte%5B%5D%29","title":"The Running Time For Arrays.Sort Method in Java","body":"<p>From official <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html#sort%28byte%5B%5D%29\" rel=\"noreferrer\">docs</a>  </p>\n\n<p>I've observed that there are primarily two approaches. So, it depends on what you are sorting and what overloaded method from <code>sort</code> family of methods you are calling.</p>\n\n<p>Docs mention that <strong>for primitive types</strong> such as <code>long</code>, <code>byte</code> (Ex: <code>static void sort(long[])</code>):</p>\n\n<blockquote>\n  <p>The sorting algorithm is a tuned quicksort, adapted from Jon L.\n  Bentley and M. Douglas McIlroy's \"Engineering a Sort Function\",\n  Software-Practice and Experience, Vol. 23(11) P. 1249-1265 (November\n  1993). This algorithm offers n*log(n) performance on many data sets\n  that cause other quicksorts to degrade to quadratic performance.</p>\n</blockquote>\n\n<p><strong>For Object types:</strong> (Ex: <code>void sort(Object list[])</code>)</p>\n\n<p><strong>Guaranteed O(nlogn) performance</strong></p>\n\n<blockquote>\n  <p>The sorting algorithm is a modified mergesort (in which the merge is\n  omitted if the highest element in the low sublist is less than the\n  lowest element in the high sublist). This algorithm offers guaranteed\n  n*log(n) performance.</p>\n</blockquote>\n\n<p>Hope that helps!</p>\n"},{"tags":[],"owner":{"account_id":20608038,"reputation":21,"user_id":15127799,"display_name":"Tarun Kumar Gola"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623399812,"creation_date":1623399486,"answer_id":67933560,"question_id":21219777,"body_markdown":"I have tested the time complexity of Arrays.sort() in the various datasets. In the worst case, it is O(n^2) time complexity. \r\nTrying doing this question using Arrays.sort() and then using Collections.sort(). You will see the difference. [Question link][1] \r\nwhen I used Arrays.sort() it took more than 2 sec.\r\nand when I  used collections.sort() it took 0.2sec\r\nCollections.sort() uses modified mergesort and Arrays.sort() uses QuickSort(). Below code is the best way to sort in java if you are using Array. In case of list you can use Collections.sort() by default.\r\n\r\n    static void sort(long[] a) {\r\n\t\tArrayList&lt;Long&gt; l=new ArrayList&lt;&gt;();\r\n\t\tfor (long i:a) l.add(i);\r\n\t\tCollections.sort(l);\r\n\t\tfor (int i=0; i&lt;a.length; i++) a[i]=l.get(i);\r\n\t}\r\n\r\n\r\n  [1]: https://codeforces.com/contest/1538/problem/C","title":"The Running Time For Arrays.Sort Method in Java","body":"<p>I have tested the time complexity of Arrays.sort() in the various datasets. In the worst case, it is O(n^2) time complexity.\nTrying doing this question using Arrays.sort() and then using Collections.sort(). You will see the difference. <a href=\"https://codeforces.com/contest/1538/problem/C\" rel=\"nofollow noreferrer\">Question link</a>\nwhen I used Arrays.sort() it took more than 2 sec.\nand when I  used collections.sort() it took 0.2sec\nCollections.sort() uses modified mergesort and Arrays.sort() uses QuickSort(). Below code is the best way to sort in java if you are using Array. In case of list you can use Collections.sort() by default.</p>\n<pre><code>static void sort(long[] a) {\n    ArrayList&lt;Long&gt; l=new ArrayList&lt;&gt;();\n    for (long i:a) l.add(i);\n    Collections.sort(l);\n    for (int i=0; i&lt;a.length; i++) a[i]=l.get(i);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3930435,"reputation":2483,"user_id":3249257,"display_name":"Denis Stafichuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666729195,"creation_date":1666729195,"answer_id":74199742,"question_id":21219777,"body_markdown":"It depends on what you are sorting and on your Java version. Sort methods for arrays of different types have different time and space complexities. There are also improvements in the latter Java versions.\r\n\r\nArrays.sort(int[])\r\n=====\r\n\r\nAs well as Arrays.sort(long[]), Arrays.sort(float[]) and Arrays.sort(double[])\r\n\r\nTime complexity\r\n---------------\r\n\r\nTime complexity of `Arrays.sort(int[])` depends on the version of Java.\r\n\r\n**Prior to Java 14**\r\n\r\nA pretty ordinary quicksort was used with time complexity ranging from O(n) (when the array is already sorted and we are only checking that it is) to O(n&lt;sup&gt;2&lt;/sup&gt;) for certain inputs that cause extremely uneven distribution of elements into parts with an average complexity of O(n log(n)). You can find a detailed analysis [here][1].\r\n\r\n**From Java 14 to Java 19**\r\n\r\nIn Java 14 the implementation was improved to guarantee the worst-case time complexity of O(n log(n)). The function was [changed][2] to [resort to heapsort][3] if recursion becomes too deep:\r\n```java\r\nif ((bits += DELTA) &gt; MAX_RECURSION_DEPTH) {\r\n  heapSort(a, low, high);\r\n  return;\r\n}\r\n```\r\nwhich prevents the method from degrading to quadratic time complexity.\r\n\r\n**Glimpse into the future**\r\n\r\nThere is an [initiative][4] to switch to radix sort for almost random big enough arrays thus reducing the time complexity to O(n) in the worst-case.\r\n\r\nSpace complexity\r\n----------------\r\n\r\nIn all versions, the algorithm has space complexity ranging from O(1) (when the array is already sorted and we only to check that it is) to O(n) (when the array is highly structured (there is a small number of sorted subarrays inside the original array and we merge those subarrays)).\r\n\r\nHere&#39;s where allocation happens in the worst case:\r\n```java\r\n/*\r\n * Merge runs of highly structured array.\r\n */\r\nif (count &gt; 1) {\r\n  int[] b; int offset = low;\r\n\r\n  if (sorter == null || (b = (int[]) sorter.b) == null) {\r\n    b = new int[size];\r\n  } else {\r\n    offset = sorter.offset;\r\n  }\r\n  mergeRuns(a, b, offset, 1, sorter != null, run, 0, count);\r\n}\r\nreturn true;\r\n```\r\n[DualPivotQuicksort.java][5]\r\n\r\n*While the question asks specifically about Arrays.sort(int[]) method I still decided to include answers for other data types since this is the first result when you look for Arrays.sort() time and space complexity in Google and it is not easy to find correct answers to this simple question in other places.*\r\n\r\nArrays.sort(short[])\r\n=====\r\n\r\nAs well as Arrays.sort(char[]) and Arrays.sort(byte[])\r\n\r\nTime and space complexity\r\n---------------\r\nAlthough the documentation says:\r\n\r\n&gt; The sorting algorithm is a Dual-Pivot Quicksort by Vladimir Yaroslavskiy, Jon Bentley, and Joshua Bloch. This algorithm offers O(n log(n)) performance on all data sets, and is typically faster than traditional (one-pivot) Quicksort implementations.\r\n\r\nThis is not true at least starting from Java 7. Actually, an in-place [counting sort][counting-sort-wiki] used for big enough arrays, which has linear time complexity and constant space complexity:\r\n```java\r\nprivate static void countingSort(short[] a, int low, int high) {\r\n    int[] count = new int[NUM_SHORT_VALUES];\r\n\r\n    /*\r\n     * Compute a histogram with the number of each values.\r\n     */\r\n    for (int i = high; i &gt; low; ++count[a[--i] &amp; 0xFFFF]);\r\n\r\n    /*\r\n     * Place values on their final positions.\r\n     */\r\n    if (high - low &gt; NUM_SHORT_VALUES) {\r\n        for (int i = MAX_SHORT_INDEX; --i &gt; Short.MAX_VALUE; ) {\r\n            int value = i &amp; 0xFFFF;\r\n\r\n            for (low = high - count[value]; high &gt; low;\r\n                a[--high] = (short) value\r\n            );\r\n        }\r\n    } else {\r\n        for (int i = MAX_SHORT_INDEX; high &gt; low; ) {\r\n            while (count[--i &amp; 0xFFFF] == 0);\r\n\r\n            int value = i &amp; 0xFFFF;\r\n            int c = count[value];\r\n\r\n            do {\r\n                a[--high] = (short) value;\r\n            } while (--c &gt; 0);\r\n        }\r\n    }\r\n}\r\n```\r\n[Counting sort implementation][counting-sort-jdk]\r\n\r\nArrays.sort(Object[])\r\n=====================\r\n\r\nUnlike other methods, this one is well-documented and the documentation here corresponds to reality.\r\n\r\nTime complexity\r\n---------------\r\n\r\nO(n log(n))\r\n\r\n**Starting from Java 7**\r\n\r\n&gt; This implementation is a stable, adaptive, iterative mergesort that requires far fewer than n lg(n) comparisons when the input array is partially sorted, while offering the performance of a traditional mergesort when the input array is randomly ordered. If the input array is nearly sorted, the implementation requires approximately n comparisons.\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#sort(java.lang.Object[])\r\n\r\n**Before Java 7**\r\n\r\n&gt;The sorting algorithm is a modified mergesort (in which the merge is omitted if the highest element in the low sublist is less than the lowest element in the high sublist). This algorithm offers guaranteed n*log(n) performance.\r\n\r\nhttps://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html#sort(java.lang.Object[])\r\n\r\nSpace complexity\r\n---------------\r\n\r\nO(n)\r\n\r\n**Starting from Java 7**\r\n\r\n&gt;Temporary storage requirements vary from a small constant for nearly sorted input arrays to n/2 object references for randomly ordered input arrays.\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#sort(java.lang.Object[])\r\n\r\n**Before Java 7**\r\n\r\n&gt;The algorithm used by java.util.Arrays.sort and (indirectly) by java.util.Collections.sort to sort object references is a &quot;modified mergesort (in which the merge is omitted if the highest element in the low sublist is less than the lowest element in the high sublist).&quot; It is a reasonably fast stable sort that guarantees O(n log n) performance and requires O(n) extra space. \r\n\r\nhttps://bugs.openjdk.org/browse/JDK-6804124\r\n\r\n  [counting-sort-wiki]: https://en.wikipedia.org/wiki/Counting_sort\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Quicksort#Formal_analysis\r\n  [2]: https://github.com/openjdk/jdk/commit/de54eb15130848d4efc266891e41b978f444f9f3\r\n  [3]: https://github.com/openjdk/jdk/blob/jdk-14-ga/src/java.base/share/classes/java/util/DualPivotQuicksort.java#L961\r\n  [4]: https://bugs.openjdk.org/browse/JDK-8266431\r\n  [5]: https://github.com/openjdk/jdk/blob/jdk-14-ga/src/java.base/share/classes/java/util/DualPivotQuicksort.java#L726\r\n  [counting-sort-jdk]: https://github.com/openjdk/jdk/blob/jdk-14-ga/src/java.base/share/classes/java/util/DualPivotQuicksort.java#L2348","title":"The Running Time For Arrays.Sort Method in Java","body":"<p>It depends on what you are sorting and on your Java version. Sort methods for arrays of different types have different time and space complexities. There are also improvements in the latter Java versions.</p>\n<h1>Arrays.sort(int[])</h1>\n<p>As well as Arrays.sort(long[]), Arrays.sort(float[]) and Arrays.sort(double[])</p>\n<h2>Time complexity</h2>\n<p>Time complexity of <code>Arrays.sort(int[])</code> depends on the version of Java.</p>\n<p><strong>Prior to Java 14</strong></p>\n<p>A pretty ordinary quicksort was used with time complexity ranging from O(n) (when the array is already sorted and we are only checking that it is) to O(n<sup>2</sup>) for certain inputs that cause extremely uneven distribution of elements into parts with an average complexity of O(n log(n)). You can find a detailed analysis <a href=\"https://en.wikipedia.org/wiki/Quicksort#Formal_analysis\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p><strong>From Java 14 to Java 19</strong></p>\n<p>In Java 14 the implementation was improved to guarantee the worst-case time complexity of O(n log(n)). The function was <a href=\"https://github.com/openjdk/jdk/commit/de54eb15130848d4efc266891e41b978f444f9f3\" rel=\"nofollow noreferrer\">changed</a> to <a href=\"https://github.com/openjdk/jdk/blob/jdk-14-ga/src/java.base/share/classes/java/util/DualPivotQuicksort.java#L961\" rel=\"nofollow noreferrer\">resort to heapsort</a> if recursion becomes too deep:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if ((bits += DELTA) &gt; MAX_RECURSION_DEPTH) {\n  heapSort(a, low, high);\n  return;\n}\n</code></pre>\n<p>which prevents the method from degrading to quadratic time complexity.</p>\n<p><strong>Glimpse into the future</strong></p>\n<p>There is an <a href=\"https://bugs.openjdk.org/browse/JDK-8266431\" rel=\"nofollow noreferrer\">initiative</a> to switch to radix sort for almost random big enough arrays thus reducing the time complexity to O(n) in the worst-case.</p>\n<h2>Space complexity</h2>\n<p>In all versions, the algorithm has space complexity ranging from O(1) (when the array is already sorted and we only to check that it is) to O(n) (when the array is highly structured (there is a small number of sorted subarrays inside the original array and we merge those subarrays)).</p>\n<p>Here's where allocation happens in the worst case:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/*\n * Merge runs of highly structured array.\n */\nif (count &gt; 1) {\n  int[] b; int offset = low;\n\n  if (sorter == null || (b = (int[]) sorter.b) == null) {\n    b = new int[size];\n  } else {\n    offset = sorter.offset;\n  }\n  mergeRuns(a, b, offset, 1, sorter != null, run, 0, count);\n}\nreturn true;\n</code></pre>\n<p><a href=\"https://github.com/openjdk/jdk/blob/jdk-14-ga/src/java.base/share/classes/java/util/DualPivotQuicksort.java#L726\" rel=\"nofollow noreferrer\">DualPivotQuicksort.java</a></p>\n<p><em>While the question asks specifically about Arrays.sort(int[]) method I still decided to include answers for other data types since this is the first result when you look for Arrays.sort() time and space complexity in Google and it is not easy to find correct answers to this simple question in other places.</em></p>\n<h1>Arrays.sort(short[])</h1>\n<p>As well as Arrays.sort(char[]) and Arrays.sort(byte[])</p>\n<h2>Time and space complexity</h2>\n<p>Although the documentation says:</p>\n<blockquote>\n<p>The sorting algorithm is a Dual-Pivot Quicksort by Vladimir Yaroslavskiy, Jon Bentley, and Joshua Bloch. This algorithm offers O(n log(n)) performance on all data sets, and is typically faster than traditional (one-pivot) Quicksort implementations.</p>\n</blockquote>\n<p>This is not true at least starting from Java 7. Actually, an in-place <a href=\"https://en.wikipedia.org/wiki/Counting_sort\" rel=\"nofollow noreferrer\">counting sort</a> used for big enough arrays, which has linear time complexity and constant space complexity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void countingSort(short[] a, int low, int high) {\n    int[] count = new int[NUM_SHORT_VALUES];\n\n    /*\n     * Compute a histogram with the number of each values.\n     */\n    for (int i = high; i &gt; low; ++count[a[--i] &amp; 0xFFFF]);\n\n    /*\n     * Place values on their final positions.\n     */\n    if (high - low &gt; NUM_SHORT_VALUES) {\n        for (int i = MAX_SHORT_INDEX; --i &gt; Short.MAX_VALUE; ) {\n            int value = i &amp; 0xFFFF;\n\n            for (low = high - count[value]; high &gt; low;\n                a[--high] = (short) value\n            );\n        }\n    } else {\n        for (int i = MAX_SHORT_INDEX; high &gt; low; ) {\n            while (count[--i &amp; 0xFFFF] == 0);\n\n            int value = i &amp; 0xFFFF;\n            int c = count[value];\n\n            do {\n                a[--high] = (short) value;\n            } while (--c &gt; 0);\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://github.com/openjdk/jdk/blob/jdk-14-ga/src/java.base/share/classes/java/util/DualPivotQuicksort.java#L2348\" rel=\"nofollow noreferrer\">Counting sort implementation</a></p>\n<h1>Arrays.sort(Object[])</h1>\n<p>Unlike other methods, this one is well-documented and the documentation here corresponds to reality.</p>\n<h2>Time complexity</h2>\n<p>O(n log(n))</p>\n<p><strong>Starting from Java 7</strong></p>\n<blockquote>\n<p>This implementation is a stable, adaptive, iterative mergesort that requires far fewer than n lg(n) comparisons when the input array is partially sorted, while offering the performance of a traditional mergesort when the input array is randomly ordered. If the input array is nearly sorted, the implementation requires approximately n comparisons.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#sort(java.lang.Object%5B%5D)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#sort(java.lang.Object[])</a></p>\n<p><strong>Before Java 7</strong></p>\n<blockquote>\n<p>The sorting algorithm is a modified mergesort (in which the merge is omitted if the highest element in the low sublist is less than the lowest element in the high sublist). This algorithm offers guaranteed n*log(n) performance.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html#sort(java.lang.Object%5B%5D)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html#sort(java.lang.Object[])</a></p>\n<h2>Space complexity</h2>\n<p>O(n)</p>\n<p><strong>Starting from Java 7</strong></p>\n<blockquote>\n<p>Temporary storage requirements vary from a small constant for nearly sorted input arrays to n/2 object references for randomly ordered input arrays.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#sort(java.lang.Object%5B%5D)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#sort(java.lang.Object[])</a></p>\n<p><strong>Before Java 7</strong></p>\n<blockquote>\n<p>The algorithm used by java.util.Arrays.sort and (indirectly) by java.util.Collections.sort to sort object references is a &quot;modified mergesort (in which the merge is omitted if the highest element in the low sublist is less than the lowest element in the high sublist).&quot; It is a reasonably fast stable sort that guarantees O(n log n) performance and requires O(n) extra space.</p>\n</blockquote>\n<p><a href=\"https://bugs.openjdk.org/browse/JDK-6804124\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-6804124</a></p>\n"}],"owner":{"account_id":3879687,"reputation":125,"user_id":3212622,"display_name":"user3212622"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31893,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":21219858,"answer_count":4,"score":11,"last_activity_date":1666729195,"creation_date":1390150864,"question_id":21219777,"body_markdown":"Does anyone know the running time in big O notation for the arrays.sort java method? I need this for my science fair project. ","title":"The Running Time For Arrays.Sort Method in Java","body":"<p>Does anyone know the running time in big O notation for the arrays.sort java method? I need this for my science fair project. </p>\n"},{"tags":["java","jersey","jax-rs","exchangewebservices"],"answers":[{"tags":[],"owner":{"account_id":16273889,"reputation":2910,"user_id":11751648,"display_name":"areus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666718057,"creation_date":1666718057,"answer_id":74197875,"question_id":74195687,"body_markdown":"The parameter for `Client.target(String)` has to be in URI format so it should be something like\r\n```\r\n .target(&quot;https://login.microsoftonline.com&quot;)\r\n```","title":"javax.ws.rs.client hostname may not be null","body":"<p>The parameter for <code>Client.target(String)</code> has to be in URI format so it should be something like</p>\n<pre><code> .target(&quot;https://login.microsoftonline.com&quot;)\n</code></pre>\n"}],"owner":{"account_id":443973,"reputation":4509,"user_id":835523,"accept_rate":85,"display_name":"Steve"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666729022,"creation_date":1666708001,"question_id":74195687,"body_markdown":"I am trying to connect to a MS Exchange Server using jax-rs and jersey to get an authentication token\r\n\r\n\r\n        //Set up client configuration for proxy\r\n    \t\tClientConfig config = new ClientConfig();\r\n    \t\tconfig.connectorProvider(new ApacheConnectorProvider());\r\n    \t\tconfig.property(ClientProperties.PROXY_URI, ConfigurationUtil.getProxyURL());\r\n    \t\tconfig.property(ClientProperties.PROXY_USERNAME, ConfigurationUtil.getUser());\r\n    \t\tconfig.property(ClientProperties.PROXY_PASSWORD, ConfigurationUtil.getPassword());\r\n    \t\t\r\n\r\n    //Set up the form\r\n    \t\tForm form = new Form();\r\n    \t\tform.param(OAUTH_GRANT_TYPE, OAUTH_GRANT_TYPE_VALUE);\r\n    \t\tform.param(&quot;client_id&quot;, CLIENT_ID);\r\n    \t\tform.param(&quot;client_secret&quot;, CLIENT_SECRET);\r\n    \t\tform.param(&quot;scope&quot;, &quot;https://outlook.office365.com/EWS.AccessAsUser.All&quot;);\r\n\r\n    //Set the url and make the call\r\n        Response response = ClientBuilder.newClient(config)\r\n        \t\t\t\t.target(&quot;login.microsoftonline.com&quot;)\r\n        \t\t\t\t.path(TENANT_NUMBER)\r\n        \t\t\t\t.path(&quot;oauth2&quot;)\r\n        \t\t\t\t.path(&quot;v2.0&quot;)\r\n        \t\t\t\t.path(&quot;token&quot;)\r\n        \t\t\t\t.request()\r\n        \t\t\t\t.put(Entity.entity(form, MediaType.APPLICATION_FORM_URLENCODED));\r\n\r\n\r\nAnd the error I get is a suprising one, because the host name shouldn&#39;t be null.\r\n\r\n    Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n    Caused by: java.lang.IllegalArgumentException: Host name may not be null\r\n\r\nHere is the full stack trace\r\n\r\n    Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n    at com.vanguard.tip.ims.fis.service.EmailService.getInstance(EmailService.java:134)\r\n    at com.vanguard.tip.ims.fis.factories.ServiceFactory.createExchangeMailService(ServiceFactory.java:32)\r\n    at com.vanguard.tip.ims.fis.controller.SmartController.execute(SmartController.java:86)\r\n    at com.vanguard.tip.ims.fis.batchlauncher.SmartRunner.run(SmartRunner.java:55)\r\n    at com.vanguard.tip.ims.fis.batchlauncher.Launcher.main(Launcher.java:42)\r\n    Caused by: java.lang.IllegalArgumentException: Host name may not be null\r\n    at org.apache.http.util.Args.containsNoBlanks(Args.java:81)\r\n    at org.apache.http.HttpHost.&lt;init&gt;(HttpHost.java:80)\r\n    at org.glassfish.jersey.apache.connector.ApacheConnector.&lt;init&gt;(ApacheConnector.java:259)\r\n    at org.glassfish.jersey.apache.connector.ApacheConnectorProvider.getConnector(ApacheConnectorProvider.java:116)\r\n    at org.glassfish.jersey.client.ClientConfig$State.initRuntime(ClientConfig.java:425)\r\n    at org.glassfish.jersey.client.ClientConfig$State.access$000(ClientConfig.java:90)\r\n    at org.glassfish.jersey.client.ClientConfig$State$3.get(ClientConfig.java:122)\r\n    at org.glassfish.jersey.client.ClientConfig$State$3.get(ClientConfig.java:119)\r\n    at org.glassfish.jersey.internal.util.collection.Values$LazyValueImpl.get(Values.java:340)\r\n    at org.glassfish.jersey.client.ClientConfig.getRuntime(ClientConfig.java:733)\r\n    at org.glassfish.jersey.client.ClientRequest.getConfiguration(ClientRequest.java:286)\r\n    at org.glassfish.jersey.client.JerseyInvocation.validateHttpMethodAndEntity(JerseyInvocation.java:135)\r\n    at org.glassfish.jersey.client.JerseyInvocation.&lt;init&gt;(JerseyInvocation.java:105)\r\n    at org.glassfish.jersey.client.JerseyInvocation.&lt;init&gt;(JerseyInvocation.java:101)\r\n    at org.glassfish.jersey.client.JerseyInvocation.&lt;init&gt;(JerseyInvocation.java:92)\r\n    at org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:437)\r\n    at org.glassfish.jersey.client.JerseyInvocation$Builder.post(JerseyInvocation.java:343)\r\n    at com.vanguard.tip.ims.fis.service.EmailService.getOAuthToken(EmailService.java:203)\r\n    at com.vanguard.tip.ims.fis.service.EmailService.initializeService(EmailService.java:263)\r\n    at com.vanguard.tip.ims.fis.service.EmailService.&lt;init&gt;(EmailService.java:109)\r\n    at com.vanguard.tip.ims.fis.service.EmailService.&lt;init&gt;(EmailService.java:95)\r\n    at com.vanguard.tip.ims.fis.service.EmailService$SingletonHolder.init(EmailService.java:122)\r\n    at com.vanguard.tip.ims.fis.service.EmailService$SingletonHolder.&lt;clinit&gt;(EmailService.java:115)","title":"javax.ws.rs.client hostname may not be null","body":"<p>I am trying to connect to a MS Exchange Server using jax-rs and jersey to get an authentication token</p>\n<pre><code>    //Set up client configuration for proxy\n        ClientConfig config = new ClientConfig();\n        config.connectorProvider(new ApacheConnectorProvider());\n        config.property(ClientProperties.PROXY_URI, ConfigurationUtil.getProxyURL());\n        config.property(ClientProperties.PROXY_USERNAME, ConfigurationUtil.getUser());\n        config.property(ClientProperties.PROXY_PASSWORD, ConfigurationUtil.getPassword());\n        \n\n//Set up the form\n        Form form = new Form();\n        form.param(OAUTH_GRANT_TYPE, OAUTH_GRANT_TYPE_VALUE);\n        form.param(&quot;client_id&quot;, CLIENT_ID);\n        form.param(&quot;client_secret&quot;, CLIENT_SECRET);\n        form.param(&quot;scope&quot;, &quot;https://outlook.office365.com/EWS.AccessAsUser.All&quot;);\n\n//Set the url and make the call\n    Response response = ClientBuilder.newClient(config)\n                    .target(&quot;login.microsoftonline.com&quot;)\n                    .path(TENANT_NUMBER)\n                    .path(&quot;oauth2&quot;)\n                    .path(&quot;v2.0&quot;)\n                    .path(&quot;token&quot;)\n                    .request()\n                    .put(Entity.entity(form, MediaType.APPLICATION_FORM_URLENCODED));\n</code></pre>\n<p>And the error I get is a suprising one, because the host name shouldn't be null.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\nCaused by: java.lang.IllegalArgumentException: Host name may not be null\n</code></pre>\n<p>Here is the full stack trace</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\nat com.vanguard.tip.ims.fis.service.EmailService.getInstance(EmailService.java:134)\nat com.vanguard.tip.ims.fis.factories.ServiceFactory.createExchangeMailService(ServiceFactory.java:32)\nat com.vanguard.tip.ims.fis.controller.SmartController.execute(SmartController.java:86)\nat com.vanguard.tip.ims.fis.batchlauncher.SmartRunner.run(SmartRunner.java:55)\nat com.vanguard.tip.ims.fis.batchlauncher.Launcher.main(Launcher.java:42)\nCaused by: java.lang.IllegalArgumentException: Host name may not be null\nat org.apache.http.util.Args.containsNoBlanks(Args.java:81)\nat org.apache.http.HttpHost.&lt;init&gt;(HttpHost.java:80)\nat org.glassfish.jersey.apache.connector.ApacheConnector.&lt;init&gt;(ApacheConnector.java:259)\nat org.glassfish.jersey.apache.connector.ApacheConnectorProvider.getConnector(ApacheConnectorProvider.java:116)\nat org.glassfish.jersey.client.ClientConfig$State.initRuntime(ClientConfig.java:425)\nat org.glassfish.jersey.client.ClientConfig$State.access$000(ClientConfig.java:90)\nat org.glassfish.jersey.client.ClientConfig$State$3.get(ClientConfig.java:122)\nat org.glassfish.jersey.client.ClientConfig$State$3.get(ClientConfig.java:119)\nat org.glassfish.jersey.internal.util.collection.Values$LazyValueImpl.get(Values.java:340)\nat org.glassfish.jersey.client.ClientConfig.getRuntime(ClientConfig.java:733)\nat org.glassfish.jersey.client.ClientRequest.getConfiguration(ClientRequest.java:286)\nat org.glassfish.jersey.client.JerseyInvocation.validateHttpMethodAndEntity(JerseyInvocation.java:135)\nat org.glassfish.jersey.client.JerseyInvocation.&lt;init&gt;(JerseyInvocation.java:105)\nat org.glassfish.jersey.client.JerseyInvocation.&lt;init&gt;(JerseyInvocation.java:101)\nat org.glassfish.jersey.client.JerseyInvocation.&lt;init&gt;(JerseyInvocation.java:92)\nat org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:437)\nat org.glassfish.jersey.client.JerseyInvocation$Builder.post(JerseyInvocation.java:343)\nat com.vanguard.tip.ims.fis.service.EmailService.getOAuthToken(EmailService.java:203)\nat com.vanguard.tip.ims.fis.service.EmailService.initializeService(EmailService.java:263)\nat com.vanguard.tip.ims.fis.service.EmailService.&lt;init&gt;(EmailService.java:109)\nat com.vanguard.tip.ims.fis.service.EmailService.&lt;init&gt;(EmailService.java:95)\nat com.vanguard.tip.ims.fis.service.EmailService$SingletonHolder.init(EmailService.java:122)\nat com.vanguard.tip.ims.fis.service.EmailService$SingletonHolder.&lt;clinit&gt;(EmailService.java:115)\n</code></pre>\n"},{"tags":["java","android","textview","setcontentview"],"comments":[{"owner":{"account_id":2020103,"reputation":550,"user_id":1806493,"display_name":"GGK stands for Ukraine"},"score":0,"creation_date":1666729576,"post_id":74199718,"comment_id":131004561,"body_markdown":"delete `setContentView(R.layout.activity_main);` in counting method and show logcat output with information of the crash please.","body":"delete <code>setContentView(R.layout.activity_main);</code> in counting method and show logcat output with information of the crash please."},{"owner":{"account_id":24419090,"reputation":1,"user_id":20333852,"display_name":"creamsiclecat"},"score":0,"creation_date":1666730391,"post_id":74199718,"comment_id":131004792,"body_markdown":"@GGK stands for Ukraine first time using stackoverflow so sorry if this is the wrong etiquette but it says it&#39;s too long so I&#39;ve posted it on pastebin https://pastebin.com/Djutb8Lh thank you for the quick reply","body":"@GGK stands for Ukraine first time using stackoverflow so sorry if this is the wrong etiquette but it says it&#39;s too long so I&#39;ve posted it on pastebin <a href=\"https://pastebin.com/Djutb8Lh\" rel=\"nofollow noreferrer\">pastebin.com/Djutb8Lh</a> thank you for the quick reply"},{"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"score":0,"creation_date":1666751942,"post_id":74199718,"comment_id":131008640,"body_markdown":"@creamsiclecat Are you using Activity or Fragment ?","body":"@creamsiclecat Are you using Activity or Fragment ?"},{"owner":{"account_id":24419090,"reputation":1,"user_id":20333852,"display_name":"creamsiclecat"},"score":0,"creation_date":1666799178,"post_id":74199718,"comment_id":131022632,"body_markdown":"@Ticherhaz FreePalestine \nI did &#39;basic activity&#39; which I edited down because I didn&#39;t actually need all the functions, not sure if that&#39;s where my issue could be coming from. Do you have one you might recommend instead? I haven&#39;t done that much so I&#39;m 100% okay starting over","body":"@Ticherhaz FreePalestine  I did &#39;basic activity&#39; which I edited down because I didn&#39;t actually need all the functions, not sure if that&#39;s where my issue could be coming from. Do you have one you might recommend instead? I haven&#39;t done that much so I&#39;m 100% okay starting over"},{"owner":{"account_id":2020103,"reputation":550,"user_id":1806493,"display_name":"GGK stands for Ukraine"},"score":0,"creation_date":1666808874,"post_id":74199718,"comment_id":131025978,"body_markdown":"the logcat says, that textview is null","body":"the logcat says, that textview is null"}],"owner":{"account_id":24419090,"reputation":1,"user_id":20333852,"display_name":"creamsiclecat"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666728997,"creation_date":1666728997,"question_id":74199718,"body_markdown":"This is my first android app, pretty confused and not sure if I&#39;m doing it right. My app is intended to be a countdown app for a specific date\r\n\r\nHere is what my MainActivity class looks like. I replaced ... where the code I wrote relating to the actual countdown variable was - I have tested it in the console and that part of the program works fine.\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            Toolbar toolbar = findViewById(R.id.toolbar);\r\n            setSupportActionBar(toolbar);\r\n            counting();\r\n        }\r\n\r\n        public void counting() {\r\n            ...\r\n            String reading = days + &quot; days &quot; + hours + &quot; hours &quot; + minutes + &quot; minutes remaining&quot;;\r\n            setContentView(R.layout.activity_main);\r\n            TextView textView = (TextView) findViewById(R.id.textview_first);\r\n            textView.setText(reading);\r\n        }\r\n    }\r\n\r\nIt runs and shows me the &#39;hello&#39; text string specified in strings.xml\r\n\r\n     &lt;string name=&quot;hello_first_fragment&quot;&gt;hello&lt;/string&gt;\r\n\r\nas long as I get rid of both the \r\n\r\n            setContentView(R.layout.activity_main);\r\n\r\n as well as the \r\n\r\n            textView.setText(reading);\r\nlines under my counting function, but I don&#39;t want it to show that string, I would rather it display the value of the variable I want to choose. If I include either or both of them, it crashes the app. \r\n\r\n\r\n\r\n\r\nI&#39;m wondering if maybe I have the textview ID wrong - I got that from my fragment_first.xml file which has \r\n\r\n    &quot;android:id=&quot;@+id/textview_first&quot;&quot; \r\n\r\nunder TextView.\r\n\r\nAnother thing I have tested is with just making the textView.setText field have a non-variable string in it, like\r\n\r\n                textView.setText(&quot;reading&quot;);\r\n\r\nbut it does the same thing\r\n\r\nI&#39;m not sure if I might have to somehow remove the string line in strings.xml somehow or edit it, I tried just deleting it and it wouldn&#39;t compile. \r\n\r\nAnyone have any advice on what I&#39;m doing wrong? \r\n\r\n\r\n\r\n","title":"App crashes when I include setContentView and setText","body":"<p>This is my first android app, pretty confused and not sure if I'm doing it right. My app is intended to be a countdown app for a specific date</p>\n<p>Here is what my MainActivity class looks like. I replaced ... where the code I wrote relating to the actual countdown variable was - I have tested it in the console and that part of the program works fine.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        Toolbar toolbar = findViewById(R.id.toolbar);\n        setSupportActionBar(toolbar);\n        counting();\n    }\n\n    public void counting() {\n        ...\n        String reading = days + &quot; days &quot; + hours + &quot; hours &quot; + minutes + &quot; minutes remaining&quot;;\n        setContentView(R.layout.activity_main);\n        TextView textView = (TextView) findViewById(R.id.textview_first);\n        textView.setText(reading);\n    }\n}\n</code></pre>\n<p>It runs and shows me the 'hello' text string specified in strings.xml</p>\n<pre><code> &lt;string name=&quot;hello_first_fragment&quot;&gt;hello&lt;/string&gt;\n</code></pre>\n<p>as long as I get rid of both the</p>\n<pre><code>        setContentView(R.layout.activity_main);\n</code></pre>\n<p>as well as the</p>\n<pre><code>        textView.setText(reading);\n</code></pre>\n<p>lines under my counting function, but I don't want it to show that string, I would rather it display the value of the variable I want to choose. If I include either or both of them, it crashes the app.</p>\n<p>I'm wondering if maybe I have the textview ID wrong - I got that from my fragment_first.xml file which has</p>\n<pre><code>&quot;android:id=&quot;@+id/textview_first&quot;&quot; \n</code></pre>\n<p>under TextView.</p>\n<p>Another thing I have tested is with just making the textView.setText field have a non-variable string in it, like</p>\n<pre><code>            textView.setText(&quot;reading&quot;);\n</code></pre>\n<p>but it does the same thing</p>\n<p>I'm not sure if I might have to somehow remove the string line in strings.xml somehow or edit it, I tried just deleting it and it wouldn't compile.</p>\n<p>Anyone have any advice on what I'm doing wrong?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1666728655,"post_id":74199650,"comment_id":131004299,"body_markdown":"Welcome to Stack Overflow.\nPlease take the [tour] to learn how Stack Overflow works and read [ask] on how to improve the quality of your question.\nThen [edit] your question to include your source code as a working [mcve], which can be compiled and tested by others.\nPlease see: [How do I ask and answer homework questions?](https://meta.stackoverflow.com/q/334822)","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Then <a href=\"https://stackoverflow.com/posts/74199650/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others. Please see: <a href=\"https://meta.stackoverflow.com/q/334822\">How do I ask and answer homework questions?</a>"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1666728705,"post_id":74199650,"comment_id":131004313,"body_markdown":"You definitely will need to show us much more of your code before we can even try to give you a useful answer.  We&#39;ll need to see the `Object` class, the `for(xy)` details, where `variables` is defined...","body":"You definitely will need to show us much more of your code before we can even try to give you a useful answer.  We&#39;ll need to see the <code>Object</code> class, the <code>for(xy)</code> details, where <code>variables</code> is defined..."}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666728680,"creation_date":1666728680,"answer_id":74199670,"question_id":74199650,"body_markdown":"`var0` is still a pre-declared variable. `variables[0]` is **its own reference**, not the same as `var0`. \r\n\r\nIf you need &quot;numbered variables&quot;, only use a array or list, not individual objects. \r\n\r\n```\r\nObject[] variables = new Object[5];\r\nfor (int i = 0; i &lt; 2; i++) {\r\n  variables[i] = cords[i];\r\n}\r\nvariables[2] = randomFunction1();\r\n... \r\n```\r\n","title":"My Array does not use the variables specified earlier?","body":"<p><code>var0</code> is still a pre-declared variable. <code>variables[0]</code> is <strong>its own reference</strong>, not the same as <code>var0</code>.</p>\n<p>If you need &quot;numbered variables&quot;, only use a array or list, not individual objects.</p>\n<pre><code>Object[] variables = new Object[5];\nfor (int i = 0; i &lt; 2; i++) {\n  variables[i] = cords[i];\n}\nvariables[2] = randomFunction1();\n... \n</code></pre>\n"}],"owner":{"account_id":26731459,"reputation":1,"user_id":20333737,"display_name":"Ventority"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1666728990,"creation_date":1666728546,"question_id":74199650,"body_markdown":"I have two private objects with custom classes initialized without assigning values to them.\r\n\r\n```\r\nprivate Object var0, var1 var2, var3, var4;\r\n```\r\n\r\nLater, in the same class, I put all of them into an array and try to assign values to them using a for loop like this:\r\n\r\n```\r\nObject[] variables = {var0, var1, var2, var3, var4};\r\n```\r\n\r\n```\r\nfor (xy) {\r\nvariables[i] = new Object(cords[0], cords[1], randomFunc1(), randomFunc2(), ObjectVar.TYPE);\r\n}\r\n```\r\n\r\nBut the IntelliJ Debugger shows me that the actual variables created at the head of the class aren&#39;t touched and are still &quot;null&quot;. Due to that, I can&#39;t access the recently created variables anymore. \r\nWhen I manually assign values like this,\r\n\r\n```\r\nvar0 = new Object(x, y, value0, value1, value3);\r\n```\r\n\r\nthere is no problem and everything works. Unfortunately it is not as easy as it is here and each line would take way more code than my first, not working, solution.","title":"My Array does not use the variables specified earlier?","body":"<p>I have two private objects with custom classes initialized without assigning values to them.</p>\n<pre><code>private Object var0, var1 var2, var3, var4;\n</code></pre>\n<p>Later, in the same class, I put all of them into an array and try to assign values to them using a for loop like this:</p>\n<pre><code>Object[] variables = {var0, var1, var2, var3, var4};\n</code></pre>\n<pre><code>for (xy) {\nvariables[i] = new Object(cords[0], cords[1], randomFunc1(), randomFunc2(), ObjectVar.TYPE);\n}\n</code></pre>\n<p>But the IntelliJ Debugger shows me that the actual variables created at the head of the class aren't touched and are still &quot;null&quot;. Due to that, I can't access the recently created variables anymore.\nWhen I manually assign values like this,</p>\n<pre><code>var0 = new Object(x, y, value0, value1, value3);\n</code></pre>\n<p>there is no problem and everything works. Unfortunately it is not as easy as it is here and each line would take way more code than my first, not working, solution.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":217320,"reputation":42820,"user_id":473070,"accept_rate":82,"display_name":"Vladimir Ivanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1295863893,"creation_date":1295863893,"answer_id":4780793,"question_id":4780770,"body_markdown":"Seems you have static imported the constant. Please find the line which begins with `import static` and copy it to another class. More [here][1].\r\n\r\n\r\n  [1]: http://www.deitel.com/articles/java_tutorials/20060211/index.html","title":"TELEPHONY_SERVICE constant not recognised in one class, but is in another","body":"<p>Seems you have static imported the constant. Please find the line which begins with <code>import static</code> and copy it to another class. More <a href=\"http://www.deitel.com/articles/java_tutorials/20060211/index.html\" rel=\"nofollow\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":121278,"reputation":13011,"user_id":314256,"accept_rate":86,"display_name":"Gopinath"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1295863941,"creation_date":1295863941,"answer_id":4780803,"question_id":4780770,"body_markdown":"TELEPHONY_SERVICE is a member of the Context class which is the super class of the Activity class. So this constant is available only in Activity or Context sub-classes.\r\n\r\n\r\nhttp://developer.android.com/reference/android/content/Context.html#TELEPHONY_SERVICE\r\n\r\nYou can access the same as Context.TELEPHONY_SERVICE\r\n\r\n","title":"TELEPHONY_SERVICE constant not recognised in one class, but is in another","body":"<p>TELEPHONY_SERVICE is a member of the Context class which is the super class of the Activity class. So this constant is available only in Activity or Context sub-classes.</p>\n\n<p><a href=\"http://developer.android.com/reference/android/content/Context.html#TELEPHONY_SERVICE\" rel=\"noreferrer\">http://developer.android.com/reference/android/content/Context.html#TELEPHONY_SERVICE</a></p>\n\n<p>You can access the same as Context.TELEPHONY_SERVICE</p>\n"},{"tags":[],"owner":{"account_id":260766,"reputation":9609,"user_id":544537,"accept_rate":58,"display_name":"chikka.anddev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666728726,"creation_date":1295864098,"answer_id":4780827,"question_id":4780770,"body_markdown":"I am finding a little correction in your code.\r\n\r\nJust change:\r\n\r\n    TelephonyManager m_tmgr = (TelephonyManager) getSystemService(TELEPHONY_SERVICE);\r\n\r\nwith:\r\n\r\n     TelephonyManager m_tmgr = (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);","title":"TELEPHONY_SERVICE constant not recognised in one class, but is in another","body":"<p>I am finding a little correction in your code.</p>\n<p>Just change:</p>\n<pre><code>TelephonyManager m_tmgr = (TelephonyManager) getSystemService(TELEPHONY_SERVICE);\n</code></pre>\n<p>with:</p>\n<pre><code> TelephonyManager m_tmgr = (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1295864145,"creation_date":1295864145,"answer_id":4780831,"question_id":4780770,"body_markdown":"replace\r\n \r\n    import android.content.Context;\r\nby  \r\n\r\n    import static android.content.Context.*;","title":"TELEPHONY_SERVICE constant not recognised in one class, but is in another","body":"<p>replace</p>\n\n<pre><code>import android.content.Context;\n</code></pre>\n\n<p>by  </p>\n\n<pre><code>import static android.content.Context.*;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4982337,"reputation":11,"user_id":4006908,"display_name":"Deepak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1409816352,"creation_date":1409815175,"answer_id":25659477,"question_id":4780770,"body_markdown":"Use this:\r\n\r\n    TelephonyManager tManager = (TelephonyManager) \r\n        getActivity().getSystemService(Context.TELEPHONY_SERVICE);","title":"TELEPHONY_SERVICE constant not recognised in one class, but is in another","body":"<p>Use this:</p>\n\n<pre><code>TelephonyManager tManager = (TelephonyManager) \n    getActivity().getSystemService(Context.TELEPHONY_SERVICE);\n</code></pre>\n"}],"owner":{"account_id":702545,"reputation":91,"user_id":587319,"display_name":"Richard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4350,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":5,"score":3,"last_activity_date":1666728726,"creation_date":1295863762,"question_id":4780770,"body_markdown":"This feels very much like another case of not seeing the forest for the trees.\r\n\r\nI&#39;ve written a small (non-extending) class for my app that, for now, only contains the one method to scrape a supplied URL and return a string. I was hoping to include the Device ID on the end of the query string, so added the following lines:\r\n\r\n    import android.telephony.TelephonyManager;\r\n    import android.content.Context;\r\n    ...\r\n    TelephonyManager m_tmgr = (TelephonyManager) getSystemService(TELEPHONY_SERVICE);\r\n\r\nHowever, the TELEPHONY_SERVICE constant &quot;cannot be resolved to a variable&quot;, according to Eclipse. If I copy and paste these lines into another class in the package (all the other classes are activities, at the moment, which may have something to do with it?), it all works fine.\r\n\r\nWhat&#39;s the massively obvious thing that I&#39;m missing?","title":"TELEPHONY_SERVICE constant not recognised in one class, but is in another","body":"<p>This feels very much like another case of not seeing the forest for the trees.</p>\n\n<p>I've written a small (non-extending) class for my app that, for now, only contains the one method to scrape a supplied URL and return a string. I was hoping to include the Device ID on the end of the query string, so added the following lines:</p>\n\n<pre><code>import android.telephony.TelephonyManager;\nimport android.content.Context;\n...\nTelephonyManager m_tmgr = (TelephonyManager) getSystemService(TELEPHONY_SERVICE);\n</code></pre>\n\n<p>However, the TELEPHONY_SERVICE constant \"cannot be resolved to a variable\", according to Eclipse. If I copy and paste these lines into another class in the package (all the other classes are activities, at the moment, which may have something to do with it?), it all works fine.</p>\n\n<p>What's the massively obvious thing that I'm missing?</p>\n"},{"tags":["java","multithreading","user-interface","javafx-2"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1460700493,"post_id":22772379,"comment_id":60873279,"body_markdown":"Related question: [Most efficient way to log messages to JavaFX TextArea via threads](http://stackoverflow.com/questions/24116858/most-efficient-way-to-log-messages-to-javafx-textarea-via-threads-with-simple-cu)","body":"Related question: <a href=\"http://stackoverflow.com/questions/24116858/most-efficient-way-to-log-messages-to-javafx-textarea-via-threads-with-simple-cu\">Most efficient way to log messages to JavaFX TextArea via threads</a>"}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":46,"is_accepted":true,"score":46,"last_activity_date":1600075171,"creation_date":1396313851,"answer_id":22774943,"question_id":22772379,"body_markdown":"Not sure if I completely understand, but I think this may help.\r\n\r\nUsing `Platform.runLater(...)` is an appropriate approach for this.\r\n\r\nThe trick to avoiding flooding the FX Application Thread is to use an Atomic variable to store the value you&#39;re interested in. In the `Platform.runLater` method, retrieve it and set it to a sentinel value. From your background thread, update the Atomic variable, but only issue a new `Platform.runLater` if it&#39;s been set back to its sentinel value. \r\n\r\nI figured this out by looking at the [source code for `Task`][1]. Have a look at how the `updateMessage` method (line 1131 at the time of writing) is implemented. \r\n\r\nHere&#39;s an example which uses the same technique. This just has a (busy) background thread which counts as fast as it can, updating an `IntegerProperty`. An observer watches that property and updates an `AtomicInteger` with the new value. If the current value of the `AtomicInteger` is -1, it schedules a `Platform.runLater`.\r\n\r\nIn the `Platform.runLater`, I retrieve the value of the `AtomicInteger` and use it to update a `Label`, setting the value back to -1 in the process. This signals that I am ready for another UI update.\r\n\r\n    import java.text.NumberFormat;\r\n    import java.util.concurrent.atomic.AtomicInteger;\r\n    import javafx.application.Application;\r\n    import javafx.application.Platform;\r\n    import javafx.beans.property.IntegerProperty;\r\n    import javafx.beans.property.SimpleIntegerProperty;\r\n    import javafx.beans.value.ChangeListener;\r\n    import javafx.beans.value.ObservableValue;\r\n    import javafx.event.ActionEvent;\r\n    import javafx.event.EventHandler;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.layout.AnchorPane;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class ConcurrentModel extends Application {\r\n    \r\n      @Override\r\n      public void start(Stage primaryStage) {\r\n        \r\n        final AtomicInteger count = new AtomicInteger(-1);\r\n        \r\n        final AnchorPane root = new AnchorPane();\r\n        final Label label = new Label();\r\n        final Model model = new Model();\r\n        final NumberFormat formatter = NumberFormat.getIntegerInstance();\r\n        formatter.setGroupingUsed(true);\r\n        model.intProperty().addListener(new ChangeListener&lt;Number&gt;() {\r\n          @Override\r\n          public void changed(final ObservableValue&lt;? extends Number&gt; observable,\r\n              final Number oldValue, final Number newValue) {\r\n            if (count.getAndSet(newValue.intValue()) == -1) {\r\n              Platform.runLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                  long value = count.getAndSet(-1);\r\n                  label.setText(formatter.format(value));\r\n                }\r\n              });          \r\n            }\r\n    \r\n          }\r\n        });\r\n        final Button startButton = new Button(&quot;Start&quot;);\r\n        startButton.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n          @Override\r\n          public void handle(ActionEvent event) {\r\n            model.start();\r\n          }\r\n        });\r\n    \r\n        AnchorPane.setTopAnchor(label, 10.0);\r\n        AnchorPane.setLeftAnchor(label, 10.0);\r\n        AnchorPane.setBottomAnchor(startButton, 10.0);\r\n        AnchorPane.setLeftAnchor(startButton, 10.0);\r\n        root.getChildren().addAll(label, startButton);\r\n    \r\n        Scene scene = new Scene(root, 100, 100);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n      }\r\n    \r\n      public static void main(String[] args) {\r\n        launch(args);\r\n      }\r\n    \r\n      public class Model extends Thread {\r\n        private IntegerProperty intProperty;\r\n    \r\n        public Model() {\r\n          intProperty = new SimpleIntegerProperty(this, &quot;int&quot;, 0);\r\n          setDaemon(true);\r\n        }\r\n    \r\n        public int getInt() {\r\n          return intProperty.get();\r\n        }\r\n    \r\n        public IntegerProperty intProperty() {\r\n          return intProperty;\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n          while (true) {\r\n            intProperty.set(intProperty.get() + 1);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n\r\nIf you really want to &quot;drive&quot; the back end from the UI: that is throttle the speed of the backend implementation so you see all updates, consider using an `AnimationTimer`. An `AnimationTimer` has a `handle(...)` which is called once per frame render. So you could block the back-end implementation (for example by using a blocking queue) and release it once per invocation of the handle method. The `handle(...)` method is invoked on the FX Application Thread.\r\n\r\nThe `handle(...)` method takes a parameter which is a timestamp (in nanoseconds), so you can use that to slow the updates further, if once per frame is too fast.\r\n\r\nFor example:\r\n\t\r\n    import java.util.concurrent.ArrayBlockingQueue;\r\n    import java.util.concurrent.BlockingQueue;\r\n    \r\n    import javafx.animation.AnimationTimer;\r\n    import javafx.application.Application;\r\n    import javafx.beans.property.LongProperty;\r\n    import javafx.beans.property.SimpleLongProperty;\r\n    import javafx.geometry.Insets;\r\n    import javafx.geometry.Pos;\r\n    import javafx.stage.Stage;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.TextArea;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.scene.layout.HBox;\r\n    \r\n    \r\n    public class Main extends Application {\r\n    \t@Override\r\n    \tpublic void start(Stage primaryStage) {\r\n    \t\t\r\n    \t\tfinal BlockingQueue&lt;String&gt; messageQueue = new ArrayBlockingQueue&lt;&gt;(1);\r\n    \t\t\r\n    \t\tTextArea console = new TextArea();\r\n    \t\t\r\n    \t\tButton startButton = new Button(&quot;Start&quot;);\r\n    \t\tstartButton.setOnAction(event -&gt; {\r\n    \t\t\tMessageProducer producer = new MessageProducer(messageQueue);\r\n    \t\t\tThread t = new Thread(producer);\r\n    \t\t\tt.setDaemon(true);\r\n    \t\t\tt.start();\r\n    \t\t});\r\n    \t\t\r\n    \t\tfinal LongProperty lastUpdate = new SimpleLongProperty();\r\n    \t\t\r\n    \t\tfinal long minUpdateInterval = 0 ; // nanoseconds. Set to higher number to slow output.\r\n    \t\t\r\n    \t\tAnimationTimer timer = new AnimationTimer() {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void handle(long now) {\r\n    \t\t\t\tif (now - lastUpdate.get() &gt; minUpdateInterval) {\r\n    \t\t\t\t\tfinal String message = messageQueue.poll();\r\n    \t\t\t\t\tif (message != null) {\r\n    \t\t\t\t\t\tconsole.appendText(&quot;\\n&quot; + message);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tlastUpdate.set(now);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t};\r\n    \t\t\r\n    \t\ttimer.start();\r\n    \t\t\r\n    \t\tHBox controls = new HBox(5, startButton);\r\n    \t\tcontrols.setPadding(new Insets(10));\r\n    \t\tcontrols.setAlignment(Pos.CENTER);\r\n    \t\t\r\n    \t\tBorderPane root = new BorderPane(console, null, null, controls, null);\r\n    \t\tScene scene = new Scene(root,600,400);\r\n    \t\tprimaryStage.setScene(scene);\r\n    \t\tprimaryStage.show();\r\n    \t}\r\n    \t\r\n    \tprivate static class MessageProducer implements Runnable {\r\n    \t\tprivate final BlockingQueue&lt;String&gt; messageQueue ;\r\n    \t\t\r\n    \t\tpublic MessageProducer(BlockingQueue&lt;String&gt; messageQueue) {\r\n    \t\t\tthis.messageQueue = messageQueue ;\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tpublic void run() {\r\n    \t\t\tlong messageCount = 0 ;\r\n    \t\t\ttry {\r\n    \t\t\t\twhile (true) {\r\n    \t\t\t\t\tfinal String message = &quot;Message &quot; + (++messageCount);\r\n    \t\t\t\t\tmessageQueue.put(message);\r\n    \t\t\t\t}\r\n    \t\t\t} catch (InterruptedException exc) {\r\n    \t\t\t\tSystem.out.println(&quot;Message producer interrupted: exiting.&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tlaunch(args);\r\n    \t}\r\n    }\r\n\r\n  [1]: http://hg.openjdk.java.net/openjfx/8/master/rt/file/f89b7dc932af/modules/graphics/src/main/java/javafx/concurrent/Task.java\r\n\r\n","title":"Updating UI from different threads in JavaFX","body":"<p>Not sure if I completely understand, but I think this may help.</p>\n<p>Using <code>Platform.runLater(...)</code> is an appropriate approach for this.</p>\n<p>The trick to avoiding flooding the FX Application Thread is to use an Atomic variable to store the value you're interested in. In the <code>Platform.runLater</code> method, retrieve it and set it to a sentinel value. From your background thread, update the Atomic variable, but only issue a new <code>Platform.runLater</code> if it's been set back to its sentinel value.</p>\n<p>I figured this out by looking at the <a href=\"http://hg.openjdk.java.net/openjfx/8/master/rt/file/f89b7dc932af/modules/graphics/src/main/java/javafx/concurrent/Task.java\" rel=\"noreferrer\">source code for <code>Task</code></a>. Have a look at how the <code>updateMessage</code> method (line 1131 at the time of writing) is implemented.</p>\n<p>Here's an example which uses the same technique. This just has a (busy) background thread which counts as fast as it can, updating an <code>IntegerProperty</code>. An observer watches that property and updates an <code>AtomicInteger</code> with the new value. If the current value of the <code>AtomicInteger</code> is -1, it schedules a <code>Platform.runLater</code>.</p>\n<p>In the <code>Platform.runLater</code>, I retrieve the value of the <code>AtomicInteger</code> and use it to update a <code>Label</code>, setting the value back to -1 in the process. This signals that I am ready for another UI update.</p>\n<pre><code>import java.text.NumberFormat;\nimport java.util.concurrent.atomic.AtomicInteger;\nimport javafx.application.Application;\nimport javafx.application.Platform;\nimport javafx.beans.property.IntegerProperty;\nimport javafx.beans.property.SimpleIntegerProperty;\nimport javafx.beans.value.ChangeListener;\nimport javafx.beans.value.ObservableValue;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.stage.Stage;\n\npublic class ConcurrentModel extends Application {\n\n  @Override\n  public void start(Stage primaryStage) {\n    \n    final AtomicInteger count = new AtomicInteger(-1);\n    \n    final AnchorPane root = new AnchorPane();\n    final Label label = new Label();\n    final Model model = new Model();\n    final NumberFormat formatter = NumberFormat.getIntegerInstance();\n    formatter.setGroupingUsed(true);\n    model.intProperty().addListener(new ChangeListener&lt;Number&gt;() {\n      @Override\n      public void changed(final ObservableValue&lt;? extends Number&gt; observable,\n          final Number oldValue, final Number newValue) {\n        if (count.getAndSet(newValue.intValue()) == -1) {\n          Platform.runLater(new Runnable() {\n            @Override\n            public void run() {\n              long value = count.getAndSet(-1);\n              label.setText(formatter.format(value));\n            }\n          });          \n        }\n\n      }\n    });\n    final Button startButton = new Button(&quot;Start&quot;);\n    startButton.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n      @Override\n      public void handle(ActionEvent event) {\n        model.start();\n      }\n    });\n\n    AnchorPane.setTopAnchor(label, 10.0);\n    AnchorPane.setLeftAnchor(label, 10.0);\n    AnchorPane.setBottomAnchor(startButton, 10.0);\n    AnchorPane.setLeftAnchor(startButton, 10.0);\n    root.getChildren().addAll(label, startButton);\n\n    Scene scene = new Scene(root, 100, 100);\n    primaryStage.setScene(scene);\n    primaryStage.show();\n  }\n\n  public static void main(String[] args) {\n    launch(args);\n  }\n\n  public class Model extends Thread {\n    private IntegerProperty intProperty;\n\n    public Model() {\n      intProperty = new SimpleIntegerProperty(this, &quot;int&quot;, 0);\n      setDaemon(true);\n    }\n\n    public int getInt() {\n      return intProperty.get();\n    }\n\n    public IntegerProperty intProperty() {\n      return intProperty;\n    }\n\n    @Override\n    public void run() {\n      while (true) {\n        intProperty.set(intProperty.get() + 1);\n      }\n    }\n  }\n}\n</code></pre>\n<p>If you really want to &quot;drive&quot; the back end from the UI: that is throttle the speed of the backend implementation so you see all updates, consider using an <code>AnimationTimer</code>. An <code>AnimationTimer</code> has a <code>handle(...)</code> which is called once per frame render. So you could block the back-end implementation (for example by using a blocking queue) and release it once per invocation of the handle method. The <code>handle(...)</code> method is invoked on the FX Application Thread.</p>\n<p>The <code>handle(...)</code> method takes a parameter which is a timestamp (in nanoseconds), so you can use that to slow the updates further, if once per frame is too fast.</p>\n<p>For example:</p>\n<pre><code>import java.util.concurrent.ArrayBlockingQueue;\nimport java.util.concurrent.BlockingQueue;\n\nimport javafx.animation.AnimationTimer;\nimport javafx.application.Application;\nimport javafx.beans.property.LongProperty;\nimport javafx.beans.property.SimpleLongProperty;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.stage.Stage;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TextArea;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.HBox;\n\n\npublic class Main extends Application {\n    @Override\n    public void start(Stage primaryStage) {\n        \n        final BlockingQueue&lt;String&gt; messageQueue = new ArrayBlockingQueue&lt;&gt;(1);\n        \n        TextArea console = new TextArea();\n        \n        Button startButton = new Button(&quot;Start&quot;);\n        startButton.setOnAction(event -&gt; {\n            MessageProducer producer = new MessageProducer(messageQueue);\n            Thread t = new Thread(producer);\n            t.setDaemon(true);\n            t.start();\n        });\n        \n        final LongProperty lastUpdate = new SimpleLongProperty();\n        \n        final long minUpdateInterval = 0 ; // nanoseconds. Set to higher number to slow output.\n        \n        AnimationTimer timer = new AnimationTimer() {\n\n            @Override\n            public void handle(long now) {\n                if (now - lastUpdate.get() &gt; minUpdateInterval) {\n                    final String message = messageQueue.poll();\n                    if (message != null) {\n                        console.appendText(&quot;\\n&quot; + message);\n                    }\n                    lastUpdate.set(now);\n                }\n            }\n            \n        };\n        \n        timer.start();\n        \n        HBox controls = new HBox(5, startButton);\n        controls.setPadding(new Insets(10));\n        controls.setAlignment(Pos.CENTER);\n        \n        BorderPane root = new BorderPane(console, null, null, controls, null);\n        Scene scene = new Scene(root,600,400);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n    \n    private static class MessageProducer implements Runnable {\n        private final BlockingQueue&lt;String&gt; messageQueue ;\n        \n        public MessageProducer(BlockingQueue&lt;String&gt; messageQueue) {\n            this.messageQueue = messageQueue ;\n        }\n        \n        @Override\n        public void run() {\n            long messageCount = 0 ;\n            try {\n                while (true) {\n                    final String message = &quot;Message &quot; + (++messageCount);\n                    messageQueue.put(message);\n                }\n            } catch (InterruptedException exc) {\n                System.out.println(&quot;Message producer interrupted: exiting.&quot;);\n            }\n        }\n    }\n    \n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3830880,"reputation":4987,"user_id":3176433,"accept_rate":68,"display_name":"zIronManBox"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1666727933,"creation_date":1435058416,"answer_id":31001381,"question_id":22772379,"body_markdown":"The best way to performing this is by usage of `Task` in JavaFx. This is be by far the best technique I&#39;ve come across to update UI Controls in JavaFx.\r\n\r\n    Task task = new Task&lt;Void&gt;() {\r\n        @Override public Void call() {\r\n            static final int max = 1000000;\r\n            for (int i=1; i&lt;=max; i++) {\r\n                updateProgress(i, max);\r\n            }\r\n            return null;\r\n        }\r\n    };\r\n    ProgressBar bar = new ProgressBar();\r\n    bar.progressProperty().bind(task.progressProperty());\r\n    new Thread(task).start();","title":"Updating UI from different threads in JavaFX","body":"<p>The best way to performing this is by usage of <code>Task</code> in JavaFx. This is be by far the best technique I've come across to update UI Controls in JavaFx.</p>\n<pre><code>Task task = new Task&lt;Void&gt;() {\n    @Override public Void call() {\n        static final int max = 1000000;\n        for (int i=1; i&lt;=max; i++) {\n            updateProgress(i, max);\n        }\n        return null;\n    }\n};\nProgressBar bar = new ProgressBar();\nbar.progressProperty().bind(task.progressProperty());\nnew Thread(task).start();\n</code></pre>\n"}],"owner":{"account_id":4257265,"reputation":643,"user_id":3482616,"display_name":"eddy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86255,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":22774943,"answer_count":2,"score":42,"last_activity_date":1666727933,"creation_date":1396300681,"question_id":22772379,"body_markdown":"I am developing an application with several `TextField` objects that need to be updated to reflect changes in associated back-end properties. The `TextField`s are not editable, only the back-end may change their content.\r\n\r\nAs I understand, the correct way about this is to run the heavy computation on a separate thread so as not to block the UI. I did this using `javafx.concurrent.Task` and communicated a single value back to the JavaFX thread using `updateMessage()`, which worked well. However, I need more than one value to be updated as the back-end does its crunching.\r\n\r\nSince the back-end values are stored as JavaFX properties, I tried simply binding them to the `textProperty` of each GUI element and let the bindings do the work. This doesn&#39;t work, however; after running for a few moments, the `TextField`s stop updating even though the back-end task is still running. No exceptions are raised.\r\n\r\nI also tried using `Platform.runLater()` to actively update the `TextField`s rather than binding. The issue here is that the `runLater()` tasks are scheduled faster than the platform can run them, and so the GUI becomes sluggish and needs to time to &quot;catch up&quot; even after the back-end task is finished.\r\n\r\nI found a few questions on here:\r\n\r\nhttps://stackoverflow.com/questions/12339853/logger-entries-translated-to-the-ui-stops-being-updated-with-time\r\n\r\nhttps://stackoverflow.com/questions/14674274/multithreading-in-javafx-hangs-the-ui\r\n\r\nbut my issue persists.\r\n\r\nIn summary: I have a back-end making changes to properties, and I want those changes to appear on the GUI. The back-end is a genetic algorithm, so its operation is broken down into discrete generations. What I would like is for the `TextField`s to refresh at least once in between generations, even if this delays the next generation. It is more important that the GUI responds well than that the GA runs fast.\r\n\r\nI can post a few code examples if I haven&#39;t made the issue clear.\r\n\r\n**UPDATE**\r\n\r\nI managed to do it following James_D&#39;s suggestion. To solve the issue of the back-end having to wait for the console to print, I implemented a buffered console of sorts. It stores the strings to print in a `StringBuffer` and actually appends them to the `TextArea` when a `flush()` method is called. I used an AtomicBoolean to prevent the next generation from happening until the flush is complete, as it is done by a `Platform.runLater()` runnable. Also note that this solution is _incredibly_ slow.\r\n\r\n","title":"Updating UI from different threads in JavaFX","body":"<p>I am developing an application with several <code>TextField</code> objects that need to be updated to reflect changes in associated back-end properties. The <code>TextField</code>s are not editable, only the back-end may change their content.</p>\n\n<p>As I understand, the correct way about this is to run the heavy computation on a separate thread so as not to block the UI. I did this using <code>javafx.concurrent.Task</code> and communicated a single value back to the JavaFX thread using <code>updateMessage()</code>, which worked well. However, I need more than one value to be updated as the back-end does its crunching.</p>\n\n<p>Since the back-end values are stored as JavaFX properties, I tried simply binding them to the <code>textProperty</code> of each GUI element and let the bindings do the work. This doesn't work, however; after running for a few moments, the <code>TextField</code>s stop updating even though the back-end task is still running. No exceptions are raised.</p>\n\n<p>I also tried using <code>Platform.runLater()</code> to actively update the <code>TextField</code>s rather than binding. The issue here is that the <code>runLater()</code> tasks are scheduled faster than the platform can run them, and so the GUI becomes sluggish and needs to time to \"catch up\" even after the back-end task is finished.</p>\n\n<p>I found a few questions on here:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/12339853/logger-entries-translated-to-the-ui-stops-being-updated-with-time\">Logger entries translated to the UI stops being updated with time</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/14674274/multithreading-in-javafx-hangs-the-ui\">Multithreading in JavaFX hangs the UI</a></p>\n\n<p>but my issue persists.</p>\n\n<p>In summary: I have a back-end making changes to properties, and I want those changes to appear on the GUI. The back-end is a genetic algorithm, so its operation is broken down into discrete generations. What I would like is for the <code>TextField</code>s to refresh at least once in between generations, even if this delays the next generation. It is more important that the GUI responds well than that the GA runs fast.</p>\n\n<p>I can post a few code examples if I haven't made the issue clear.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I managed to do it following James_D's suggestion. To solve the issue of the back-end having to wait for the console to print, I implemented a buffered console of sorts. It stores the strings to print in a <code>StringBuffer</code> and actually appends them to the <code>TextArea</code> when a <code>flush()</code> method is called. I used an AtomicBoolean to prevent the next generation from happening until the flush is complete, as it is done by a <code>Platform.runLater()</code> runnable. Also note that this solution is <em>incredibly</em> slow.</p>\n"},{"tags":["java","multithreading","caching","synchronization","java-memory-model"],"answers":[{"tags":[],"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1343713308,"creation_date":1343712775,"answer_id":11733709,"question_id":11733632,"body_markdown":"**1.** `synchronized` keyword **on a method or on an atomic statement, will lock the access to \r\n       the resource that it can modify, by allowing only one thread to gain the lock.**\r\n\r\n**2.** Now **preventing of caching of values into the variables is done by** `volatile` keyword.\r\n       Using `volatile` keyword **will ask the JVM to make the thread that access the instance variable to reconcile its copy of the instance variable with the one saved in the memory.**\r\n\r\n**3.** Moreover in your above example, if `threadA` execute the `compute()`, then `threadB` **canNot** access the `getResult()` method **simultaneously**, as they **both are synchronized methods, and only one thread can have access to the all the synchronized methods of the object**, cause `its not the method that is locked but the Object. Its` `like this... Every object has one lock, and the thread which wants to access its synchronized block must get that lock`\r\n\r\n**4.** Even **every class has a lock**, that is used to protect the **crucial state of the static variables in the class.**\r\n","title":"Synchronized data read/write to/from main memory","body":"<p><strong>1.</strong> <code>synchronized</code> keyword <strong>on a method or on an atomic statement, will lock the access to \n       the resource that it can modify, by allowing only one thread to gain the lock.</strong></p>\n\n<p><strong>2.</strong> Now <strong>preventing of caching of values into the variables is done by</strong> <code>volatile</code> keyword.\n       Using <code>volatile</code> keyword <strong>will ask the JVM to make the thread that access the instance variable to reconcile its copy of the instance variable with the one saved in the memory.</strong></p>\n\n<p><strong>3.</strong> Moreover in your above example, if <code>threadA</code> execute the <code>compute()</code>, then <code>threadB</code> <strong>canNot</strong> access the <code>getResult()</code> method <strong>simultaneously</strong>, as they <strong>both are synchronized methods, and only one thread can have access to the all the synchronized methods of the object</strong>, cause <code>its not the method that is locked but the Object. Its</code> <code>like this... Every object has one lock, and the thread which wants to access its synchronized block must get that lock</code></p>\n\n<p><strong>4.</strong> Even <strong>every class has a lock</strong>, that is used to protect the <strong>crucial state of the static variables in the class.</strong></p>\n"},{"tags":[],"owner":{"account_id":126052,"reputation":1290,"user_id":322276,"display_name":"sgp15"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1343714186,"creation_date":1343714186,"answer_id":11734000,"question_id":11733632,"body_markdown":"I think following thread should answer your question.\r\n\r\nhttps://stackoverflow.com/questions/1850270/memory-effects-of-synchronization-in-java\r\n\r\nIn practice, the whole cache is not flushed.","title":"Synchronized data read/write to/from main memory","body":"<p>I think following thread should answer your question.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/1850270/memory-effects-of-synchronization-in-java\">Memory effects of synchronization in Java</a></p>\n\n<p>In practice, the whole cache is not flushed.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1343719002,"creation_date":1343719002,"answer_id":11735010,"question_id":11733632,"body_markdown":"`synchronized` ensures you have a consistent view of the data.  This means you will read the latest value and other caches will get the latest value.  Caches are smart enough to talk to each other via a special bus (not something required by the JLS, but allowed) This bus means that it doesn&#39;t have to touch main memory to get a consistent view.","title":"Synchronized data read/write to/from main memory","body":"<p><code>synchronized</code> ensures you have a consistent view of the data.  This means you will read the latest value and other caches will get the latest value.  Caches are smart enough to talk to each other via a special bus (not something required by the JLS, but allowed) This bus means that it doesn't have to touch main memory to get a consistent view.</p>\n"},{"tags":[],"owner":{"account_id":6073790,"reputation":3697,"user_id":4741746,"accept_rate":86,"display_name":"Sushant Gosavi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666727885,"creation_date":1666727885,"answer_id":74199553,"question_id":11733632,"body_markdown":"Before answering your question lets clear few terms related to Multi-Threaded environments to understand the basic things.\r\n\r\n 1. **Race-Condition :** When two or more thread trying to perform read or write operations on same variable on same time (here same variable = shared data between thread) eg. In your question Thraed-A \r\nexecute ` b = a + 10` which is write operation on b and  At same time Thread-B can execute `b*c` which is read operation on b. So here race condition is happening. \r\nWe can handle race condition by using two ways one is by using  `Synchronized method or block` and second by using `Volatile` Keyword.\r\n\r\n\r\n 2. **Volatile :** Volatile keyword in Java guarantees that the value of the volatile variable will always be read from the main memory and not from Threads local cache. Normal variable without Volatile keyword is temporarily stored in Local cache for quick access and easy read write operations. Volatile doesn&#39;t block your thread it just make sure the write and read operation is perform in the sync. In the context of your example we can avoid race condition by making all variable as volatile \r\n\r\n \r\n 1. **Synchronized :** Synchronization is achived by blocking of thread. It means it use lock and key mechanism in such a way that only one thread can execute this block of code at a time. So Thread-B is waiting in the doors of [syncronized block][1] until Thread-A finish completely and release key. if you use syncronized in front of static method then lock is considered on your class (.class) and if method is non static or instance method (same as your case) at that time lock is considered on instance of class or current object [read][2]\r\n\r\nNow come to the point lets modify your example with few print statements and kotlin code \r\n\r\n    class SharedData {\r\n        var a: Int\r\n        var b: Int\r\n        var c: Int\r\n        var d = 10\r\n\r\n        init {\r\n            c = d\r\n            b = c\r\n            a = b\r\n        }\r\n        @Synchronized\r\n        fun compute() : Pair&lt;Int,Int&gt;{\r\n            a = b * 20\r\n            b = a + 10\r\n           return a to b\r\n        }\r\n\r\n        @Synchronized\r\n        fun getComputationResult() : Int{\r\n           return b * c\r\n        }\r\n    }\r\n   \r\n\r\n    @Test\r\n    fun testInstanceNotShared (){\r\n        println(&quot;Instance Not Shared Example&quot;)\r\n        val threadA = Thread{\r\n            val pair = SharedData().compute()\r\n            println(&quot;Running inside  ${Thread.currentThread().name}  compute And get  A = ${pair.first}, B = ${pair.second}  &quot;)\r\n        }\r\n        threadA.name = &quot;threadA&quot;\r\n        threadA.start()\r\n\r\n        val threadB = Thread{\r\n            println(&quot;Running inside  ${Thread.currentThread().name}  getComputationResult = ${SharedData().getComputationResult()}&quot;)\r\n        }\r\n        threadB.name = &quot;threadB&quot;\r\n        threadB.start()\r\n\r\n        threadA.join()\r\n        threadB.join()\r\n\r\n    }\r\n\r\n        // Output\r\n    //Instance Not Shared Example\r\n    //Running inside  threadB  getComputationResult = 100\r\n    //Running inside  threadA  compute And get  A = 200, B = 210\r\n   \r\n\r\n    @Test\r\n    fun testInstanceShared (){\r\n        println(&quot;Instance Shared Example&quot;)\r\n        val sharedInstance = SharedData()\r\n        val threadA = Thread{\r\n            val pair = sharedInstance.compute()\r\n            println(&quot;Running inside  ${Thread.currentThread().name}  compute And get  A = ${pair.first}, B = ${pair.second}  &quot;)\r\n        }\r\n        threadA.name = &quot;threadA&quot;\r\n        threadA.start()\r\n\r\n        val threadB = Thread{\r\n            println(&quot;Running inside  ${Thread.currentThread().name}  getComputationResult = ${sharedInstance.getComputationResult()}&quot;)\r\n        }\r\n        threadB.name = &quot;threadB&quot;\r\n        threadB.start()\r\n\r\n        threadA.join()\r\n        threadB.join()\r\n    }\r\n\r\n    //Instance Shared Example\r\n    //Running inside  threadB  getComputationResult = 2100\r\n    //Running inside  threadA  compute And get  A = 200, B = 210\r\n     \r\n   From above two test case you can identify that answer to your question is actually hidden in way how you call those methods (compute, getComputationResult) in multi-threaded environment. \r\n\r\n \r\n\r\n&gt; After the execution of compute, will threadA update main memory \r\n\r\nThere is no guarantee that threadA Update the value of variable a,b,c,d on main memory but if you use Volatile keyword in front of those variable then it gives you 100% guarantee that those variable is updated with correct state immediately after modification happen \r\n\r\n&gt; before executing getResult will threadB get only the value of b and c from main memory or will it clear the cache and fetch values for all member variables a,b,c and d \r\n\r\nNo \r\n\r\nAddition to this - if you notice that in second test example even when two thread call the method same time you will get exact result. Means calling compute, getComputationResult same time still the getComputationResult method return the updated value from compute method this is because Synchronized and Volatile provide functionality called happens before which make sure that every write operations should be called before subsequent read operation.\r\n\r\n  [1]: https://medium.com/@toimrank/java-synchronized-99ee2879d131\r\n  [2]: https://tarunjain07.medium.com/notes-synchronized-927b0caf01c3","title":"Synchronized data read/write to/from main memory","body":"<p>Before answering your question lets clear few terms related to Multi-Threaded environments to understand the basic things.</p>\n<ol>\n<li><p><strong>Race-Condition :</strong> When two or more thread trying to perform read or write operations on same variable on same time (here same variable = shared data between thread) eg. In your question Thraed-A\nexecute <code> b = a + 10</code> which is write operation on b and  At same time Thread-B can execute <code>b*c</code> which is read operation on b. So here race condition is happening.\nWe can handle race condition by using two ways one is by using  <code>Synchronized method or block</code> and second by using <code>Volatile</code> Keyword.</p>\n</li>\n<li><p><strong>Volatile :</strong> Volatile keyword in Java guarantees that the value of the volatile variable will always be read from the main memory and not from Threads local cache. Normal variable without Volatile keyword is temporarily stored in Local cache for quick access and easy read write operations. Volatile doesn't block your thread it just make sure the write and read operation is perform in the sync. In the context of your example we can avoid race condition by making all variable as volatile</p>\n</li>\n<li><p><strong>Synchronized :</strong> Synchronization is achived by blocking of thread. It means it use lock and key mechanism in such a way that only one thread can execute this block of code at a time. So Thread-B is waiting in the doors of <a href=\"https://medium.com/@toimrank/java-synchronized-99ee2879d131\" rel=\"nofollow noreferrer\">syncronized block</a> until Thread-A finish completely and release key. if you use syncronized in front of static method then lock is considered on your class (.class) and if method is non static or instance method (same as your case) at that time lock is considered on instance of class or current object <a href=\"https://tarunjain07.medium.com/notes-synchronized-927b0caf01c3\" rel=\"nofollow noreferrer\">read</a></p>\n</li>\n</ol>\n<p>Now come to the point lets modify your example with few print statements and kotlin code</p>\n<pre><code>class SharedData {\n    var a: Int\n    var b: Int\n    var c: Int\n    var d = 10\n\n    init {\n        c = d\n        b = c\n        a = b\n    }\n    @Synchronized\n    fun compute() : Pair&lt;Int,Int&gt;{\n        a = b * 20\n        b = a + 10\n       return a to b\n    }\n\n    @Synchronized\n    fun getComputationResult() : Int{\n       return b * c\n    }\n}\n\n\n@Test\nfun testInstanceNotShared (){\n    println(&quot;Instance Not Shared Example&quot;)\n    val threadA = Thread{\n        val pair = SharedData().compute()\n        println(&quot;Running inside  ${Thread.currentThread().name}  compute And get  A = ${pair.first}, B = ${pair.second}  &quot;)\n    }\n    threadA.name = &quot;threadA&quot;\n    threadA.start()\n\n    val threadB = Thread{\n        println(&quot;Running inside  ${Thread.currentThread().name}  getComputationResult = ${SharedData().getComputationResult()}&quot;)\n    }\n    threadB.name = &quot;threadB&quot;\n    threadB.start()\n\n    threadA.join()\n    threadB.join()\n\n}\n\n    // Output\n//Instance Not Shared Example\n//Running inside  threadB  getComputationResult = 100\n//Running inside  threadA  compute And get  A = 200, B = 210\n\n\n@Test\nfun testInstanceShared (){\n    println(&quot;Instance Shared Example&quot;)\n    val sharedInstance = SharedData()\n    val threadA = Thread{\n        val pair = sharedInstance.compute()\n        println(&quot;Running inside  ${Thread.currentThread().name}  compute And get  A = ${pair.first}, B = ${pair.second}  &quot;)\n    }\n    threadA.name = &quot;threadA&quot;\n    threadA.start()\n\n    val threadB = Thread{\n        println(&quot;Running inside  ${Thread.currentThread().name}  getComputationResult = ${sharedInstance.getComputationResult()}&quot;)\n    }\n    threadB.name = &quot;threadB&quot;\n    threadB.start()\n\n    threadA.join()\n    threadB.join()\n}\n\n//Instance Shared Example\n//Running inside  threadB  getComputationResult = 2100\n//Running inside  threadA  compute And get  A = 200, B = 210\n \n</code></pre>\n<p>From above two test case you can identify that answer to your question is actually hidden in way how you call those methods (compute, getComputationResult) in multi-threaded environment.</p>\n<blockquote>\n<p>After the execution of compute, will threadA update main memory</p>\n</blockquote>\n<p>There is no guarantee that threadA Update the value of variable a,b,c,d on main memory but if you use Volatile keyword in front of those variable then it gives you 100% guarantee that those variable is updated with correct state immediately after modification happen</p>\n<blockquote>\n<p>before executing getResult will threadB get only the value of b and c from main memory or will it clear the cache and fetch values for all member variables a,b,c and d</p>\n</blockquote>\n<p>No</p>\n<p>Addition to this - if you notice that in second test example even when two thread call the method same time you will get exact result. Means calling compute, getComputationResult same time still the getComputationResult method return the updated value from compute method this is because Synchronized and Volatile provide functionality called happens before which make sure that every write operations should be called before subsequent read operation.</p>\n"}],"owner":{"account_id":1274415,"reputation":345,"user_id":1229949,"display_name":"Karthik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2483,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1666727885,"creation_date":1343712424,"question_id":11733632,"body_markdown":"When a synchronized method is completed, will it push only the data modified by it to main memory, or all the member variables, similarly when a synchronized method executes, will it read only the data it needs from main memory or will it clear all the member variables in the cache and read their values from main memory ? For example \r\n\r\n    public class SharedData\r\n    {\r\n    \r\n    \tint a; int b; int c; int d;\r\n    \t\r\n    \tpublic SharedData()\r\n    \t{\r\n    \t\ta = b = c = d = 10;\r\n    \t}\r\n    \t\r\n    \tpublic synchronized void compute()\r\n    \t{\r\n    \t\ta = b * 20;\r\n    \t\tb = a + 10;\r\n    \t}\r\n    \t\r\n    \tpublic synchronized int getResult()\r\n    \t{\r\n    \t\treturn b*c;\r\n    \t}\r\n    \r\n    }\r\n\r\nIn the above code assume compute is executed by threadA and getResult is executed by threadB. After the execution of compute, will threadA update main memory with a and b or will it update a,b,c and d. And before executing getResult will threadB get only the value of b and c from main memory or will it clear the cache and fetch values for all member variables a,b,c and d ?\r\n\r\n","title":"Synchronized data read/write to/from main memory","body":"<p>When a synchronized method is completed, will it push only the data modified by it to main memory, or all the member variables, similarly when a synchronized method executes, will it read only the data it needs from main memory or will it clear all the member variables in the cache and read their values from main memory ? For example </p>\n\n<pre><code>public class SharedData\n{\n\n    int a; int b; int c; int d;\n\n    public SharedData()\n    {\n        a = b = c = d = 10;\n    }\n\n    public synchronized void compute()\n    {\n        a = b * 20;\n        b = a + 10;\n    }\n\n    public synchronized int getResult()\n    {\n        return b*c;\n    }\n\n}\n</code></pre>\n\n<p>In the above code assume compute is executed by threadA and getResult is executed by threadB. After the execution of compute, will threadA update main memory with a and b or will it update a,b,c and d. And before executing getResult will threadB get only the value of b and c from main memory or will it clear the cache and fetch values for all member variables a,b,c and d ?</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":255453,"reputation":3554,"user_id":535515,"accept_rate":100,"display_name":"Gus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666726085,"creation_date":1666726085,"answer_id":74199231,"question_id":74198975,"body_markdown":"I modified your code slightly.  Your main issue is that you&#39;re re-throwing that exception when you catch it -- that will stop processing at the first exception.  Then you need some way to store the inputs that cause an error (that&#39;s what `invalidInputs` is for.  I&#39;m assuming that your next step is to actually use the results of that input to convert, otherwise you don&#39;t need to use `map()`, so my &quot;validate&quot; method also just does the conversion too.  I use a JUnit test harness for stuff like this, and I left in the `assert()`s; you should take them (and the `@Test` annotation) out for your code.\r\n\r\n    \t//throws NumberFormatException if input doesn&#39;t parse into an integer\r\n\tpublic static Integer validate(String input) throws Exception{\r\n\t\treturn Integer.parseInt(input);\r\n\t}\r\n\t\r\n\t@Test \r\n\tpublic void testStreamMap() {\r\n\t\tList&lt;String&gt; test = Arrays.asList(&quot;1&quot;, &quot;2,&quot;, &quot;3&quot;);\r\n\t\tList&lt;String&gt; invalidInputs = new ArrayList&lt;&gt;();\r\n\t\tList&lt;Integer&gt; result= test.stream().map(t -&gt; {\r\n\t\t\tInteger localResult;\r\n\t\t  try {\r\n\t\t    localResult=validate(t);\r\n\t\t  } catch (Exception e) {\r\n\t\t    invalidInputs.add(t);\r\n\t\t    localResult=null;\r\n\t\t  }\r\n\t\t  return localResult;\r\n\t\t}).collect(Collectors.toList());\r\n\t\tassertTrue(invalidInputs.contains(&quot;2,&quot;));\r\n\t\tassertFalse(result.contains(2));\r\n\t}","title":"How do I continue with next element in the Java Stream in case of exception?","body":"<p>I modified your code slightly.  Your main issue is that you're re-throwing that exception when you catch it -- that will stop processing at the first exception.  Then you need some way to store the inputs that cause an error (that's what <code>invalidInputs</code> is for.  I'm assuming that your next step is to actually use the results of that input to convert, otherwise you don't need to use <code>map()</code>, so my &quot;validate&quot; method also just does the conversion too.  I use a JUnit test harness for stuff like this, and I left in the <code>assert()</code>s; you should take them (and the <code>@Test</code> annotation) out for your code.</p>\n<pre><code>    //throws NumberFormatException if input doesn't parse into an integer\npublic static Integer validate(String input) throws Exception{\n    return Integer.parseInt(input);\n}\n\n@Test \npublic void testStreamMap() {\n    List&lt;String&gt; test = Arrays.asList(&quot;1&quot;, &quot;2,&quot;, &quot;3&quot;);\n    List&lt;String&gt; invalidInputs = new ArrayList&lt;&gt;();\n    List&lt;Integer&gt; result= test.stream().map(t -&gt; {\n        Integer localResult;\n      try {\n        localResult=validate(t);\n      } catch (Exception e) {\n        invalidInputs.add(t);\n        localResult=null;\n      }\n      return localResult;\n    }).collect(Collectors.toList());\n    assertTrue(invalidInputs.contains(&quot;2,&quot;));\n    assertFalse(result.contains(2));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666727519,"creation_date":1666726383,"answer_id":74199290,"question_id":74198975,"body_markdown":"*You can try this approach to **collect all the exceptions in a list** as follows:*\r\n\r\n*Here,*\r\n\r\nI have iterated over the list using `forEach` and in case of `catch` , added the exception `e` in the `listOfExceptions` list.\r\n\r\n - As I have entered three invalid inputs in the list , it is giving three exceptions in the list at the end corresponding to each element which is giving exception.\r\n - **For the demo purpose**, I have created one more list `listOfElementsWithoutExceptions` showing the elements which are processed without any exceptions.\r\n\r\n**Note:** *You can have your own custom exception list in place of `List&lt;Exception&gt;`.*\r\n\r\n    public class Test2 {\r\n        public static void main(String[] args) {\r\n            List&lt;String&gt; test = Arrays.asList(&quot;test1&quot;, &quot;test2&quot;, &quot;3&quot;,&quot;4&quot;,&quot;test5&quot;,&quot;6&quot;);\r\n    \r\n            List&lt;Exception&gt; listOfExceptions = new ArrayList&lt;&gt;();\r\n            List&lt;String&gt; listOfElementsWithoutExceptions = new ArrayList&lt;&gt;();\r\n            test.forEach(t -&gt; {\r\n                try {\r\n                    validate(t);\r\n                    listOfElementsWithoutExceptions.add(t);\r\n                } catch (Exception e) {\r\n                    listOfExceptions.add(e);\r\n                }\r\n            });\r\n            System.out.println(&quot;list of exceptions:: &quot; + listOfExceptions);\r\n            System.out.println(&quot;list of elements without exceptions:: &quot;+ listOfElementsWithoutExceptions);\r\n        }\r\n    \r\n        private static void validate(String t) {\r\n            Integer.parseInt(t);\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    list of exceptions::\r\n\r\n    [java.lang.NumberFormatException: For input string: &quot;test1&quot;, \r\n    java.lang.NumberFormatException: For input string: &quot;test2&quot;, \r\n    java.lang.NumberFormatException: For input string: &quot;test5&quot;]\r\n    \r\n    list of elements without exceptions:: [3, 4, 6]\r\n\r\n","title":"How do I continue with next element in the Java Stream in case of exception?","body":"<p><em>You can try this approach to <strong>collect all the exceptions in a list</strong> as follows:</em></p>\n<p><em>Here,</em></p>\n<p>I have iterated over the list using <code>forEach</code> and in case of <code>catch</code> , added the exception <code>e</code> in the <code>listOfExceptions</code> list.</p>\n<ul>\n<li>As I have entered three invalid inputs in the list , it is giving three exceptions in the list at the end corresponding to each element which is giving exception.</li>\n<li><strong>For the demo purpose</strong>, I have created one more list <code>listOfElementsWithoutExceptions</code> showing the elements which are processed without any exceptions.</li>\n</ul>\n<p><strong>Note:</strong> <em>You can have your own custom exception list in place of <code>List&lt;Exception&gt;</code>.</em></p>\n<pre><code>public class Test2 {\n    public static void main(String[] args) {\n        List&lt;String&gt; test = Arrays.asList(&quot;test1&quot;, &quot;test2&quot;, &quot;3&quot;,&quot;4&quot;,&quot;test5&quot;,&quot;6&quot;);\n\n        List&lt;Exception&gt; listOfExceptions = new ArrayList&lt;&gt;();\n        List&lt;String&gt; listOfElementsWithoutExceptions = new ArrayList&lt;&gt;();\n        test.forEach(t -&gt; {\n            try {\n                validate(t);\n                listOfElementsWithoutExceptions.add(t);\n            } catch (Exception e) {\n                listOfExceptions.add(e);\n            }\n        });\n        System.out.println(&quot;list of exceptions:: &quot; + listOfExceptions);\n        System.out.println(&quot;list of elements without exceptions:: &quot;+ listOfElementsWithoutExceptions);\n    }\n\n    private static void validate(String t) {\n        Integer.parseInt(t);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>list of exceptions::\n\n[java.lang.NumberFormatException: For input string: &quot;test1&quot;, \njava.lang.NumberFormatException: For input string: &quot;test2&quot;, \njava.lang.NumberFormatException: For input string: &quot;test5&quot;]\n\nlist of elements without exceptions:: [3, 4, 6]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1209109,"reputation":7934,"user_id":1178016,"accept_rate":73,"display_name":"xehpuk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666727345,"creation_date":1666727078,"answer_id":74199425,"question_id":74198975,"body_markdown":"Well, don&#39;t rethrow the exception:\r\n\r\n```\r\nvar exceptions = test.stream().map(t -&gt; {\r\n    try {\r\n      validate(t);\r\n    } catch (Exception e) {\r\n      return e;\r\n    }\r\n\r\n    return null;\r\n  })\r\n    .filter(Objects::nonNull) // if you don&#39;t need to preserve the index\r\n    .toList();\r\n```","title":"How do I continue with next element in the Java Stream in case of exception?","body":"<p>Well, don't rethrow the exception:</p>\n<pre><code>var exceptions = test.stream().map(t -&gt; {\n    try {\n      validate(t);\n    } catch (Exception e) {\n      return e;\n    }\n\n    return null;\n  })\n    .filter(Objects::nonNull) // if you don't need to preserve the index\n    .toList();\n</code></pre>\n"}],"owner":{"account_id":26527947,"reputation":41,"user_id":20160624,"display_name":"Lewis12"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":280,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74199425,"answer_count":3,"score":-2,"last_activity_date":1666727519,"creation_date":1666724457,"question_id":74198975,"body_markdown":"I have a stream like this,\r\n\r\n    List&lt;String&gt; test = Arrays.asList(&quot;1&quot;, &quot;2,&quot;, &quot;3&quot;);\r\n    \r\n    test.stream().map(t -&gt; {\r\n      try {\r\n        validate(t);\r\n      } catch (Exception e) {\r\n        throw new ResponseStatusException(HttpStatus.INTERNAL_SERVER_ERROR, e.getMessage(), e);\r\n      }\r\n    \r\n      return true;\r\n    })\r\n\r\nIn case of an exception, I would like to store it somewhere, process the next element and then show all exceptions at once. Is this possible?","title":"How do I continue with next element in the Java Stream in case of exception?","body":"<p>I have a stream like this,</p>\n<pre><code>List&lt;String&gt; test = Arrays.asList(&quot;1&quot;, &quot;2,&quot;, &quot;3&quot;);\n\ntest.stream().map(t -&gt; {\n  try {\n    validate(t);\n  } catch (Exception e) {\n    throw new ResponseStatusException(HttpStatus.INTERNAL_SERVER_ERROR, e.getMessage(), e);\n  }\n\n  return true;\n})\n</code></pre>\n<p>In case of an exception, I would like to store it somewhere, process the next element and then show all exceptions at once. Is this possible?</p>\n"},{"tags":["java","ignite","transient"],"answers":[{"tags":[],"owner":{"account_id":15519994,"reputation":843,"user_id":11196452,"display_name":"Igor Belyakov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666727226,"creation_date":1666727226,"answer_id":74199454,"question_id":74198960,"body_markdown":"The `TransientSerializable` annotation is still available in Ignite 2.14.0. You can check it on GitHub [here][1].\r\n\r\nActually, I should mention that it&#39;s a part of Ignite&#39;s internal API and its public usage should be avoided.\r\n\r\n  [1]: https://github.com/apache/ignite/blob/ignite-2.14/modules/core/src/main/java/org/apache/ignite/internal/util/TransientSerializable.java","title":"Ignite 2.14 and TransientSerializable Annotation","body":"<p>The <code>TransientSerializable</code> annotation is still available in Ignite 2.14.0. You can check it on GitHub <a href=\"https://github.com/apache/ignite/blob/ignite-2.14/modules/core/src/main/java/org/apache/ignite/internal/util/TransientSerializable.java\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Actually, I should mention that it's a part of Ignite's internal API and its public usage should be avoided.</p>\n"}],"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74199454,"answer_count":1,"score":0,"last_activity_date":1666727226,"creation_date":1666724400,"question_id":74198960,"body_markdown":"Has support for TransientSerializable annotation been removed from Ignite 2.14? \r\n\r\nI have used this feature in 2.11 but it seems to be missing in 2.14.\r\n\r\nIf so, what is the current replacement? ","title":"Ignite 2.14 and TransientSerializable Annotation","body":"<p>Has support for TransientSerializable annotation been removed from Ignite 2.14?</p>\n<p>I have used this feature in 2.11 but it seems to be missing in 2.14.</p>\n<p>If so, what is the current replacement?</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1666732569,"post_id":74199450,"comment_id":131005388,"body_markdown":"Why would `Ron OHenry-Smith-Barnes` not be valid?","body":"Why would <code>Ron OHenry-Smith-Barnes</code> not be valid?"},{"owner":{"account_id":26731304,"reputation":1,"user_id":20333595,"display_name":"Amelia Beard"},"score":0,"creation_date":1666743638,"post_id":74199450,"comment_id":131007348,"body_markdown":"IDK it&#39;s not my criteria, I wasn&#39;t the one who came up with the invalid names.","body":"IDK it&#39;s not my criteria, I wasn&#39;t the one who came up with the invalid names."},{"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1666905135,"post_id":74199450,"comment_id":131052129,"body_markdown":"But it is your question, there must be a rule that should make that string not a valid match. Is it like using 2 hyphens? Do you have more example strings?","body":"But it is your question, there must be a rule that should make that string not a valid match. Is it like using 2 hyphens? Do you have more example strings?"},{"owner":{"account_id":26731304,"reputation":1,"user_id":20333595,"display_name":"Amelia Beard"},"score":0,"creation_date":1667345647,"post_id":74199450,"comment_id":131144782,"body_markdown":"Oh I actually forgot I posted this haha. I figured it out, thanks for trying though.","body":"Oh I actually forgot I posted this haha. I figured it out, thanks for trying though."}],"owner":{"account_id":26731304,"reputation":1,"user_id":20333595,"display_name":"Amelia Beard"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666727198,"creation_date":1666727198,"question_id":74199450,"body_markdown":"I am writing a code that takes a person&#39;s name and sees if it fits the REGEX criteria. If it does, it follows through a loop and continues on with the code. If the name is not valid, the code will exit. So far I have made it so it can take input and check the names. It is working for all except 2 names. OMalley, John F. and John OMalley-Smith. These two names need to be acceptable but the code keeps kicking them out saying they are invalid. \r\n\r\n\r\n\r\n\r\nSo far I have attempted using  \r\n```\r\nString REGEX = (&quot;^[\\\\-\\\\.\\\\&#39;\\\\, a-zA-Z ]*$&quot;);\r\n```\r\nThis gets me a solid return on all the names except for the 2 mentioned above. I know I have to add somethings to the REGEX code, and have attempted \\b boundaries, however have had no luck getting them to work. Any help would be appreciated on what I should add to the REGEX and where to put it inside the code. Here is also the list of valid and invalid names, as well as my code.\r\n\r\nAcceptable inputs for name:  \r\nBruce Schneier \r\n     \r\nSchneier, Bruce \r\n\r\nSchneier, Bruce Wayne \r\n\r\nOMalley, John F. \r\n\r\nJohn OMalley-Smith \r\n\r\nCher\r\n\r\nUnacceptable inputs for name: \r\nRon OHenry \r\n\r\nRon OHenry-Smith-Barnes \r\n\r\nL33t Hacker \r\n\r\n//&lt;Script&gt;alert(XSS)&lt;/Script&gt;//\r\n\r\nselect * from users; \r\n\r\n\r\n(All Invalid Names Are Not Accepted At This Time) \r\n\r\n\r\n\r\n\r\n\r\n```\r\npublic class InputAsker {\r\n\tpublic static void main (String[]args) {\r\n\r\n\t\t\r\n\t\tScanner keyboard = new Scanner(System.in);\r\n\t\t\r\n\t\tSystem.out.print(&quot;Please Input Your Name: &quot;);\r\n\t\t\r\n\t\tString myName = keyboard.nextLine();\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tString REGEX = (&quot;^[\\\\-\\\\.\\\\&#39;\\\\, a-zA-Z ]*$&quot;);\r\n\t\t\r\n\r\n\t\t\r\n\t\tPattern pattern = Pattern.compile(REGEX);\r\n\t\t\r\n\t\t\r\n\t\tMatcher matcher = pattern.matcher(myName);\r\n\t\t\r\n\t\t\r\n\t\tboolean matchfound = false;\r\n        while (matcher.find()) {\r\n            System.out.println(&quot;That&#39;s A Great Name! Let&#39;s Continue&quot;);\r\n  \r\n            matchfound = true;\r\n            \r\n            //loop will continue here\r\n        }\r\n        \r\n       \r\n        \r\n        \r\n        if (!matchfound) {\r\n            System.out.println(&quot;Sorry, Not A Valid Name! Please Try Again!&quot;);\r\n            \r\n        }\r\n        \r\n        \r\n       \r\n        \r\n        \r\n        \r\n        \r\n        \r\n    }\r\n\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t}\r\n```\r\n\r\n```\r\n```\r\n\r\n","title":"Valid Name Checker REGEX","body":"<p>I am writing a code that takes a person's name and sees if it fits the REGEX criteria. If it does, it follows through a loop and continues on with the code. If the name is not valid, the code will exit. So far I have made it so it can take input and check the names. It is working for all except 2 names. OMalley, John F. and John OMalley-Smith. These two names need to be acceptable but the code keeps kicking them out saying they are invalid.</p>\n<p>So far I have attempted using</p>\n<pre><code>String REGEX = (&quot;^[\\\\-\\\\.\\\\'\\\\, a-zA-Z ]*$&quot;);\n</code></pre>\n<p>This gets me a solid return on all the names except for the 2 mentioned above. I know I have to add somethings to the REGEX code, and have attempted \\b boundaries, however have had no luck getting them to work. Any help would be appreciated on what I should add to the REGEX and where to put it inside the code. Here is also the list of valid and invalid names, as well as my code.</p>\n<p>Acceptable inputs for name:<br />\nBruce Schneier</p>\n<p>Schneier, Bruce</p>\n<p>Schneier, Bruce Wayne</p>\n<p>OMalley, John F.</p>\n<p>John OMalley-Smith</p>\n<p>Cher</p>\n<p>Unacceptable inputs for name:\nRon OHenry</p>\n<p>Ron OHenry-Smith-Barnes</p>\n<p>L33t Hacker</p>\n<p>//alert(XSS)//</p>\n<p>select * from users;</p>\n<p>(All Invalid Names Are Not Accepted At This Time)</p>\n<pre><code>public class InputAsker {\n    public static void main (String[]args) {\n\n        \n        Scanner keyboard = new Scanner(System.in);\n        \n        System.out.print(&quot;Please Input Your Name: &quot;);\n        \n        String myName = keyboard.nextLine();\n        \n        \n        \n        String REGEX = (&quot;^[\\\\-\\\\.\\\\'\\\\, a-zA-Z ]*$&quot;);\n        \n\n        \n        Pattern pattern = Pattern.compile(REGEX);\n        \n        \n        Matcher matcher = pattern.matcher(myName);\n        \n        \n        boolean matchfound = false;\n        while (matcher.find()) {\n            System.out.println(&quot;That's A Great Name! Let's Continue&quot;);\n  \n            matchfound = true;\n            \n            //loop will continue here\n        }\n        \n       \n        \n        \n        if (!matchfound) {\n            System.out.println(&quot;Sorry, Not A Valid Name! Please Try Again!&quot;);\n            \n        }\n        \n        \n       \n        \n        \n        \n        \n        \n    }\n\n        \n        \n        \n    }\n</code></pre>\n<pre><code></code></pre>\n"},{"tags":["java","cdi","quarkus"],"comments":[{"owner":{"account_id":385127,"reputation":6284,"user_id":742081,"display_name":"Ladicek"},"score":3,"creation_date":1595621029,"post_id":63080232,"comment_id":111549113,"body_markdown":"You can `@Inject Instance&lt;Handler&gt;`, where `Instance` implements `Iterable`. Note that your `Handler` implementations should have a bean defining annotation, such as `@ApplicationScoped`.","body":"You can <code>@Inject Instance&lt;Handler&gt;</code>, where <code>Instance</code> implements <code>Iterable</code>. Note that your <code>Handler</code> implementations should have a bean defining annotation, such as <code>@ApplicationScoped</code>."}],"answers":[{"tags":[],"owner":{"account_id":4233390,"reputation":2124,"user_id":3465242,"accept_rate":57,"display_name":"Ashu"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1595658484,"creation_date":1595658484,"answer_id":63085128,"question_id":63080232,"body_markdown":"All the implementation needs to be marked for @ApplicationScoped like:\r\n\r\n    @ApplicationScoped\r\n    public class PrintHandler implements Handler {\r\n        public String handle() {\r\n            return &quot;PrintHandler&quot;;\r\n        }\r\n    }\r\n\r\n\r\nIn the class where you want to inject all the implementations, use \r\n\r\n    @Inject\r\n    Instance&lt;Handler&gt; handlers;\r\n\r\n\r\nThis `Instance` is imported from `javax.enterprise.inject.Instance;`\r\n\r\nThis `handlers` variable will have all the implementations of `Handler` interface. \r\n\r\n`javax.enterprise.inject.Instance` also implements the `Iterable` so you can iterate to it and call the required methods. \r\n\r\n\r\n    @Inject\r\n    Instance&lt;Handler&gt; handlers;\r\n\r\n    @GET\r\n    @Produces(MediaType.TEXT_PLAIN)\r\n    public List&lt;String&gt; handle() {\r\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n        handlers.forEach(handler -&gt; list.add(handler.handle()));\r\n        return list;\r\n    }\r\n\r\n\r\n","title":"Inject list of beans implementing same interface","body":"<p>All the implementation needs to be marked for @ApplicationScoped like:</p>\n<pre><code>@ApplicationScoped\npublic class PrintHandler implements Handler {\n    public String handle() {\n        return &quot;PrintHandler&quot;;\n    }\n}\n</code></pre>\n<p>In the class where you want to inject all the implementations, use</p>\n<pre><code>@Inject\nInstance&lt;Handler&gt; handlers;\n</code></pre>\n<p>This <code>Instance</code> is imported from <code>javax.enterprise.inject.Instance;</code></p>\n<p>This <code>handlers</code> variable will have all the implementations of <code>Handler</code> interface.</p>\n<p><code>javax.enterprise.inject.Instance</code> also implements the <code>Iterable</code> so you can iterate to it and call the required methods.</p>\n<pre><code>@Inject\nInstance&lt;Handler&gt; handlers;\n\n@GET\n@Produces(MediaType.TEXT_PLAIN)\npublic List&lt;String&gt; handle() {\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\n    handlers.forEach(handler -&gt; list.add(handler.handle()));\n    return list;\n}\n</code></pre>\n"}],"owner":{"account_id":7648311,"reputation":163,"user_id":7196489,"display_name":"Nikita Medvedev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4556,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":63085128,"answer_count":1,"score":6,"last_activity_date":1666726931,"creation_date":1595618529,"question_id":63080232,"body_markdown":"Supposing I have following interface\r\n```java\r\npublic interface Handler {\r\n    void handle(Object o);\r\n}\r\n```\r\nand implementations\r\n```java\r\npublic class PrintHandler implements Handler {\r\n    void handle(Object o) {\r\n        System.out.println(o);\r\n    }\r\n}\r\npublic class YetAnotherHandler implements Handler {\r\n    void handle(Object o) {\r\n        // do some stuff\r\n    }\r\n}\r\n```\r\nI want to inject all `Handler` subclasses into some class\r\n```java\r\npublic class Foo {\r\n    private List&lt;Handler&gt; handlers;\r\n}\r\n```\r\nHow can I achieve this using Quarkus?\r\n","title":"Inject list of beans implementing same interface","body":"<p>Supposing I have following interface</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Handler {\n    void handle(Object o);\n}\n</code></pre>\n<p>and implementations</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PrintHandler implements Handler {\n    void handle(Object o) {\n        System.out.println(o);\n    }\n}\npublic class YetAnotherHandler implements Handler {\n    void handle(Object o) {\n        // do some stuff\n    }\n}\n</code></pre>\n<p>I want to inject all <code>Handler</code> subclasses into some class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Foo {\n    private List&lt;Handler&gt; handlers;\n}\n</code></pre>\n<p>How can I achieve this using Quarkus?</p>\n"},{"tags":["java","arrays","bukkit","spigot"],"comments":[{"owner":{"account_id":21746151,"reputation":433,"user_id":16052812,"display_name":"Lasslos05"},"score":0,"creation_date":1665260710,"post_id":73991877,"comment_id":130659983,"body_markdown":"Can you clarify what your exact question is? Is the problem that you don&#39;t know how to send the message to the player? What is your expected behaviour?","body":"Can you clarify what your exact question is? Is the problem that you don&#39;t know how to send the message to the player? What is your expected behaviour?"},{"owner":{"account_id":24063755,"reputation":1,"user_id":18040614,"display_name":"Julian"},"score":0,"creation_date":1665261799,"post_id":73991877,"comment_id":130660151,"body_markdown":"The problem is that I don&#39;t know how to output an array in the chat without the brackets and commas.","body":"The problem is that I don&#39;t know how to output an array in the chat without the brackets and commas."}],"answers":[{"tags":[],"owner":{"account_id":21746151,"reputation":433,"user_id":16052812,"display_name":"Lasslos05"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1665303955,"creation_date":1665303955,"answer_id":74003183,"question_id":73991877,"body_markdown":"First of all, the solution to your problem: The way to approach this is by declaring a `String result` and then using a for loop to build the String:\r\n```java\r\nString result = &quot;&quot;;\r\nfor (String s : newArrOfStr) {\r\n  result = result + s + &quot; &quot;;\r\n}\r\nplayer.sendMessage(result);\r\n```\r\n\r\nI don&#39;t think your Function does what you want it to do, and there is a lot of unused things or other things that are a little bit more complicated than they should be.\r\n\r\n - I don&#39;t think you need the ArrayList `newArrOfStr` at all, if all you want to do is send the message to the player. Instead of looping over the ArrayList `newArrOfStr`, you can simply just loop over your `arrOfStr`:\r\n\r\n    `for (String s : arrOfStr) {`\r\n\r\n\r\n - If for some other reason you do think you need the ArrayList, instead of adding all the elements with the for loop you have right now, change it to this:\r\n\r\n\r\n```java\r\n//Bad:\r\nfor (String a : arrOfStr)\r\n  newArrOfStr.add(a);\r\n//Good:\r\nnewArrOfStr.addAll(Arrays.asList(arrOfStr));\r\n```\r\n\r\n - Then, you have the unused variable `int i = 0`. Consider removing it.\r\n - The StringBuilder you created is also not used.\r\n\r\nI tried to write your function in a way that I think it will work:\r\n\r\n```java\r\n@EventHandler\r\npublic void onMessageSent(AsyncPlayerChatEvent event) {\r\n  event.setCancelled(true);\r\n  Player player = event.getPlayer();\r\n  String output = event.getMessage();\r\n  String[] wordsInOutput = output.split(&quot; &quot;);\r\n  String result = &quot;&quot;;\r\n  for (int i = 0; i &lt; wordsInOutput.length; i++) {\r\n    String word = wordsInOutput[i];\r\n    String newWord = word.charAt(word.length() - 1) + word.substring(0, word.length() - 1);\r\n    result = result + newWord + &quot; &quot;;\r\n  }\r\n\r\n  player.sendMessage(result);\r\n}\r\n```\r\nThis is the way everyone can understand it, but of course IntelliJ Idea has some suggestions so lets apply those:\r\n```java\r\n@EventHandler\r\npublic void onMessageSent(AsyncPlayerChatEvent event) {\r\n  event.setCancelled(true);\r\n  Player player = event.getPlayer();\r\n  String output = event.getMessage();\r\n  String[] wordsInOutput = output.split(&quot; &quot;);\r\n  StringBuilder result = new StringBuilder();\r\n  for (String word : wordsInOutput) {\r\n    String newWord = word.charAt(word.length() - 1) + word.substring(0, word.length() - 1);\r\n    result.append(newWord).append(&quot; &quot;);\r\n  }\r\n\r\n  player.sendMessage(result.toString());\r\n}\r\n```\r\nNow this is a working function. I hope this helps.","title":"String (sentence) to Array and output Array in one sentence and put the last letter of every word to the beginning of every individual word","body":"<p>First of all, the solution to your problem: The way to approach this is by declaring a <code>String result</code> and then using a for loop to build the String:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String result = &quot;&quot;;\nfor (String s : newArrOfStr) {\n  result = result + s + &quot; &quot;;\n}\nplayer.sendMessage(result);\n</code></pre>\n<p>I don't think your Function does what you want it to do, and there is a lot of unused things or other things that are a little bit more complicated than they should be.</p>\n<ul>\n<li><p>I don't think you need the ArrayList <code>newArrOfStr</code> at all, if all you want to do is send the message to the player. Instead of looping over the ArrayList <code>newArrOfStr</code>, you can simply just loop over your <code>arrOfStr</code>:</p>\n<p><code>for (String s : arrOfStr) {</code></p>\n</li>\n<li><p>If for some other reason you do think you need the ArrayList, instead of adding all the elements with the for loop you have right now, change it to this:</p>\n</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>//Bad:\nfor (String a : arrOfStr)\n  newArrOfStr.add(a);\n//Good:\nnewArrOfStr.addAll(Arrays.asList(arrOfStr));\n</code></pre>\n<ul>\n<li>Then, you have the unused variable <code>int i = 0</code>. Consider removing it.</li>\n<li>The StringBuilder you created is also not used.</li>\n</ul>\n<p>I tried to write your function in a way that I think it will work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EventHandler\npublic void onMessageSent(AsyncPlayerChatEvent event) {\n  event.setCancelled(true);\n  Player player = event.getPlayer();\n  String output = event.getMessage();\n  String[] wordsInOutput = output.split(&quot; &quot;);\n  String result = &quot;&quot;;\n  for (int i = 0; i &lt; wordsInOutput.length; i++) {\n    String word = wordsInOutput[i];\n    String newWord = word.charAt(word.length() - 1) + word.substring(0, word.length() - 1);\n    result = result + newWord + &quot; &quot;;\n  }\n\n  player.sendMessage(result);\n}\n</code></pre>\n<p>This is the way everyone can understand it, but of course IntelliJ Idea has some suggestions so lets apply those:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EventHandler\npublic void onMessageSent(AsyncPlayerChatEvent event) {\n  event.setCancelled(true);\n  Player player = event.getPlayer();\n  String output = event.getMessage();\n  String[] wordsInOutput = output.split(&quot; &quot;);\n  StringBuilder result = new StringBuilder();\n  for (String word : wordsInOutput) {\n    String newWord = word.charAt(word.length() - 1) + word.substring(0, word.length() - 1);\n    result.append(newWord).append(&quot; &quot;);\n  }\n\n  player.sendMessage(result.toString());\n}\n</code></pre>\n<p>Now this is a working function. I hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":4919614,"reputation":597,"user_id":3962524,"display_name":"Michael Ziluck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666726831,"creation_date":1666726831,"answer_id":74199382,"question_id":73991877,"body_markdown":"Don&#39;t need to make this so complicated. Regex is your friend! Here&#39;s all you need:\r\n\r\n```java\r\n@EventHandler\r\npublic void onMessageSent(AsyncPlayerChatEvent event) {\r\n    event.setMessage(event.getMessage().replaceAll(&quot;(\\w)\\B(\\w+)&quot;, &quot;$2$1&quot;));\r\n}\r\n```\r\n\r\nRegex explanation:\r\n- **Group 1** `(\\w)`: Any word character. This is the first character of each word. Surrounded by parenthesis to make it be a replacement group.\r\n- `\\B`: Any non-word boundary. Basically this means &quot;stop matching this string group when you hit a word boundary.\r\n- **Group 2**: `(\\w+)`: That `\\w` is the same as above. `+` means match one or more. Parenthesis again to group them\r\n- `$2$1` - `$2` means the second group, `$1` means the first group.","title":"String (sentence) to Array and output Array in one sentence and put the last letter of every word to the beginning of every individual word","body":"<p>Don't need to make this so complicated. Regex is your friend! Here's all you need:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EventHandler\npublic void onMessageSent(AsyncPlayerChatEvent event) {\n    event.setMessage(event.getMessage().replaceAll(&quot;(\\w)\\B(\\w+)&quot;, &quot;$2$1&quot;));\n}\n</code></pre>\n<p>Regex explanation:</p>\n<ul>\n<li><strong>Group 1</strong> <code>(\\w)</code>: Any word character. This is the first character of each word. Surrounded by parenthesis to make it be a replacement group.</li>\n<li><code>\\B</code>: Any non-word boundary. Basically this means &quot;stop matching this string group when you hit a word boundary.</li>\n<li><strong>Group 2</strong>: <code>(\\w+)</code>: That <code>\\w</code> is the same as above. <code>+</code> means match one or more. Parenthesis again to group them</li>\n<li><code>$2$1</code> - <code>$2</code> means the second group, <code>$1</code> means the first group.</li>\n</ul>\n"}],"owner":{"account_id":24063755,"reputation":1,"user_id":18040614,"display_name":"Julian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666726831,"creation_date":1665170979,"question_id":73991877,"body_markdown":"I have a question regarding \r\n\r\nI want to output following:\r\nWhen the Player types Hello, the output should be oHell.\r\nWhen the Player types Hello World, the output should be oHello dWorl.\r\n\r\n    public class ConnectionListener implements Listener {\r\n\r\n    ArrayList&lt;String&gt; newArrOfStr = new ArrayList&lt;String&gt;();\r\n    @EventHandler\r\n    public void onMessageSent(AsyncPlayerChatEvent event) {\r\n\r\n        Player player = event.getPlayer();\r\n        String output = event.getMessage();\r\n        event.setCancelled(true);\r\n        StringBuffer sb = new StringBuffer(output);\r\n        sb.deleteCharAt(sb.length()-1);\r\n        String[] arrOfStr = output.split(&quot; &quot;);\r\n\r\n\r\n        int i = 0;\r\n        for (String a : arrOfStr)\r\n            newArrOfStr.add(a);\r\n\r\n        player.sendMessage(newArrOfStr(beginning - end));\r\n\r\n        newArrOfStr.clear();\r\n\r\n```\r\nHello &gt;&gt; oHell\r\nHello World &gt;&gt; oHell dWorl\r\nA BC AAR &gt;&gt; A CB RAA\r\n```\r\nI just dont understand how to output an Array to a nondefined ending, beacause the Player could send multiple arguments and not only 1, 2 or 3. \r\n\r\n\r\nThe &quot;beginning -end&quot; is the space I mean. I have the complete Array under the tag &quot;newArrOfStr&quot; and now would like to output the single words with a Space inbetween. It is supposed to be one sentence and should **not** be output like this:\r\n\r\nA\r\nBC\r\nRAA\r\n\r\n[image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Jekyi.png","title":"String (sentence) to Array and output Array in one sentence and put the last letter of every word to the beginning of every individual word","body":"<p>I have a question regarding</p>\n<p>I want to output following:\nWhen the Player types Hello, the output should be oHell.\nWhen the Player types Hello World, the output should be oHello dWorl.</p>\n<pre><code>public class ConnectionListener implements Listener {\n\nArrayList&lt;String&gt; newArrOfStr = new ArrayList&lt;String&gt;();\n@EventHandler\npublic void onMessageSent(AsyncPlayerChatEvent event) {\n\n    Player player = event.getPlayer();\n    String output = event.getMessage();\n    event.setCancelled(true);\n    StringBuffer sb = new StringBuffer(output);\n    sb.deleteCharAt(sb.length()-1);\n    String[] arrOfStr = output.split(&quot; &quot;);\n\n\n    int i = 0;\n    for (String a : arrOfStr)\n        newArrOfStr.add(a);\n\n    player.sendMessage(newArrOfStr(beginning - end));\n\n    newArrOfStr.clear();\n</code></pre>\n<pre><code>Hello &gt;&gt; oHell\nHello World &gt;&gt; oHell dWorl\nA BC AAR &gt;&gt; A CB RAA\n</code></pre>\n<p>I just dont understand how to output an Array to a nondefined ending, beacause the Player could send multiple arguments and not only 1, 2 or 3.</p>\n<p>The &quot;beginning -end&quot; is the space I mean. I have the complete Array under the tag &quot;newArrOfStr&quot; and now would like to output the single words with a Space inbetween. It is supposed to be one sentence and should <strong>not</strong> be output like this:</p>\n<p>A\nBC\nRAA</p>\n<p><a href=\"https://i.stack.imgur.com/Jekyi.png\" rel=\"nofollow noreferrer\">image</a></p>\n"},{"tags":["java","vector","bukkit","spigot"],"comments":[{"owner":{"account_id":4919614,"reputation":597,"user_id":3962524,"display_name":"Michael Ziluck"},"score":0,"creation_date":1666790572,"post_id":74185528,"comment_id":131019027,"body_markdown":"As a side note, this is one of the most well written questions I&#39;ve seen under the Bukkit tag. I&#39;m not always super active under it but I do peruse fairly often and usually the questions are borderline incoherent. For anyone else scrolling around it, this is how you should ask questions!!","body":"As a side note, this is one of the most well written questions I&#39;ve seen under the Bukkit tag. I&#39;m not always super active under it but I do peruse fairly often and usually the questions are borderline incoherent. For anyone else scrolling around it, this is how you should ask questions!!"}],"answers":[{"tags":[],"owner":{"account_id":4919614,"reputation":597,"user_id":3962524,"display_name":"Michael Ziluck"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666725836,"creation_date":1666725836,"answer_id":74199192,"question_id":74185528,"body_markdown":"tl;dr:\r\n\r\n```java\r\nVector vector = new Vector(-1 * Math.sin(Math.toRadians(player.getLocation().getYaw())), 0, Math.cos(Math.toRadians(player.getLocation().getYaw())));\r\n```\r\n\r\n----------\r\n\r\nYou are missing a fundamental principal of creating a new `Vector` based on where a player is looking. I don&#39;t know the math of it very well, but I can mess around with the math of people who are better than I at Geometry.\r\n\r\nAs such, let&#39;s try to reduce the number of `Vector` variables you have defined. Taking a quick peek at the source for [`Location`][1], we can actually create your `Vector` directly to avoid having multiple defined.\r\n\r\n```java\r\npublic Vector getDirection() {\r\n    Vector vector = new Vector();\r\n\r\n    double rotX = this.getYaw();\r\n    double rotY = this.getPitch();\r\n\r\n    vector.setY(-Math.sin(Math.toRadians(rotY)));\r\n\r\n    double xz = Math.cos(Math.toRadians(rotY));\r\n\r\n    vector.setX(-xz * Math.sin(Math.toRadians(rotX)));\r\n    vector.setZ(xz * Math.cos(Math.toRadians(rotX)));\r\n\r\n    return vector;\r\n}\r\n```\r\n\r\nAs you can see, the pitch and yaw of a player are not a 1:1 relationship. No idea why, but let&#39;s repurpose their logic.\r\n\r\nHere&#39;s how we&#39;ll do that:\r\n\r\n```java\r\npublic Vector getVectorForAdixe(Location playerLoc) {\r\n    Vector vector = new Vector();\r\n    \r\n    double rotX = playerLoc.getYaw();\r\n    double rotY = 0; // this is the important change from above\r\n\r\n    // Original Code:\r\n    // vector.setY(-Math.sin(Math.toRadians(rotY)));\r\n    // Always resolves to 0, so just do that\r\n    vector.setY(0);\r\n\r\n    // Original Code:\r\n    // double xz = Math.cos(Math.toRadians(rotY));\r\n    // Always resolves to 1, so just do that\r\n    double xz = 1;\r\n\r\n    vector.setX(-xz * Math.sin(Math.toRadians(rotX)));\r\n    vector.setZ(xz * Math.cos(Math.toRadians(rotX)));\r\n\r\n    return vector;\r\n```\r\n\r\nNice! Now, cleaning it up a bit to remove those comments and unnecessary variables:\r\n\r\n```java\r\npublic Vector getVectorForAdixe(Location playerLoc) {\r\n    Vector vector = new Vector();\r\n    \r\n    double rotX = playerLoc.getYaw();\r\n\r\n    vector.setY(0);\r\n\r\n    vector.setX(-1 * Math.sin(Math.toRadians(rotX)));\r\n    vector.setZ(Math.cos(Math.toRadians(rotX)));\r\n\r\n    return vector;\r\n```\r\n\r\nWhy does this math work like that? No idea! But this should almost certainly work for you. Could even inline it if you really wanted to keep it how you had it originally:\r\n\r\n```java\r\nVector vector = new Vector(-1 * Math.sin(Math.toRadians(player.getLocation().getYaw())), 0, Math.cos(Math.toRadians(player.getLocation().getYaw())));\r\n```\r\n\r\nClosing note, if you want to be able to get the pitch/yaw FROM the vector, that code is here: https://hub.spigotmc.org/stash/projects/SPIGOT/repos/bukkit/browse/src/main/java/org/bukkit/Location.java#310\r\n\r\n\r\n  [1]: https://hub.spigotmc.org/stash/projects/SPIGOT/repos/bukkit/browse/src/main/java/org/bukkit/Location.java#286","title":"Java Spigot Set the direction of the vector relative to the player&#39;s position","body":"<p>tl;dr:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Vector vector = new Vector(-1 * Math.sin(Math.toRadians(player.getLocation().getYaw())), 0, Math.cos(Math.toRadians(player.getLocation().getYaw())));\n</code></pre>\n<hr />\n<p>You are missing a fundamental principal of creating a new <code>Vector</code> based on where a player is looking. I don't know the math of it very well, but I can mess around with the math of people who are better than I at Geometry.</p>\n<p>As such, let's try to reduce the number of <code>Vector</code> variables you have defined. Taking a quick peek at the source for <a href=\"https://hub.spigotmc.org/stash/projects/SPIGOT/repos/bukkit/browse/src/main/java/org/bukkit/Location.java#286\" rel=\"nofollow noreferrer\"><code>Location</code></a>, we can actually create your <code>Vector</code> directly to avoid having multiple defined.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Vector getDirection() {\n    Vector vector = new Vector();\n\n    double rotX = this.getYaw();\n    double rotY = this.getPitch();\n\n    vector.setY(-Math.sin(Math.toRadians(rotY)));\n\n    double xz = Math.cos(Math.toRadians(rotY));\n\n    vector.setX(-xz * Math.sin(Math.toRadians(rotX)));\n    vector.setZ(xz * Math.cos(Math.toRadians(rotX)));\n\n    return vector;\n}\n</code></pre>\n<p>As you can see, the pitch and yaw of a player are not a 1:1 relationship. No idea why, but let's repurpose their logic.</p>\n<p>Here's how we'll do that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Vector getVectorForAdixe(Location playerLoc) {\n    Vector vector = new Vector();\n    \n    double rotX = playerLoc.getYaw();\n    double rotY = 0; // this is the important change from above\n\n    // Original Code:\n    // vector.setY(-Math.sin(Math.toRadians(rotY)));\n    // Always resolves to 0, so just do that\n    vector.setY(0);\n\n    // Original Code:\n    // double xz = Math.cos(Math.toRadians(rotY));\n    // Always resolves to 1, so just do that\n    double xz = 1;\n\n    vector.setX(-xz * Math.sin(Math.toRadians(rotX)));\n    vector.setZ(xz * Math.cos(Math.toRadians(rotX)));\n\n    return vector;\n</code></pre>\n<p>Nice! Now, cleaning it up a bit to remove those comments and unnecessary variables:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Vector getVectorForAdixe(Location playerLoc) {\n    Vector vector = new Vector();\n    \n    double rotX = playerLoc.getYaw();\n\n    vector.setY(0);\n\n    vector.setX(-1 * Math.sin(Math.toRadians(rotX)));\n    vector.setZ(Math.cos(Math.toRadians(rotX)));\n\n    return vector;\n</code></pre>\n<p>Why does this math work like that? No idea! But this should almost certainly work for you. Could even inline it if you really wanted to keep it how you had it originally:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Vector vector = new Vector(-1 * Math.sin(Math.toRadians(player.getLocation().getYaw())), 0, Math.cos(Math.toRadians(player.getLocation().getYaw())));\n</code></pre>\n<p>Closing note, if you want to be able to get the pitch/yaw FROM the vector, that code is here: <a href=\"https://hub.spigotmc.org/stash/projects/SPIGOT/repos/bukkit/browse/src/main/java/org/bukkit/Location.java#310\" rel=\"nofollow noreferrer\">https://hub.spigotmc.org/stash/projects/SPIGOT/repos/bukkit/browse/src/main/java/org/bukkit/Location.java#310</a></p>\n"}],"owner":{"account_id":22723442,"reputation":119,"user_id":16887604,"display_name":"Adixe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":536,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74199192,"answer_count":1,"score":3,"last_activity_date":1666725836,"creation_date":1666637594,"question_id":74185528,"body_markdown":"I have a problem with the correct vector alignment. I want to get a vector pointing in the same direction as the player, but with a constant Y value of 0. The point is, whatever the player&#39;s vertical and horizontal rotation, the vector&#39;s Y value was 0. The vector is always supposed to point horizontally (value 0), but keeping the direction of the player&#39;s rotation.\r\n\r\nThis picture shows the situation from the side. The red line represents an example of the player&#39;s viewing direction (up - down), and the green one the effect I want to achieve. Regardless of the direction in which the player is looking, up or down, the green line remains unchanged:\r\n\r\n[![Side view][1]][1]\r\n\r\nHere, in turn, I have presented this situation from the top. The red line is the player&#39;s viewing direction (left - right) and the green is the effect I want to achieve. As you can see, the player&#39;s rotation on this axis sets my vector exactly the same.\r\n\r\n[![View from above][2]][2]\r\n\r\nI was able to write a piece of code, but it doesn&#39;t behave correctly: the Y axis gets higher and higher as the player turns up or down. I don&#39;t know why:\r\n\r\n    Vector playerDirection = player.getLocation().getDirection();\r\n    \r\n    Vector vector = new Vector(playerDirection.getX(), 0, playerDirection.getZ()).normalize().multiply(3);\r\n\r\nHow to do it correctly?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bYQPQ.png\r\n  [2]: https://i.stack.imgur.com/POQiP.png","title":"Java Spigot Set the direction of the vector relative to the player&#39;s position","body":"<p>I have a problem with the correct vector alignment. I want to get a vector pointing in the same direction as the player, but with a constant Y value of 0. The point is, whatever the player's vertical and horizontal rotation, the vector's Y value was 0. The vector is always supposed to point horizontally (value 0), but keeping the direction of the player's rotation.</p>\n<p>This picture shows the situation from the side. The red line represents an example of the player's viewing direction (up - down), and the green one the effect I want to achieve. Regardless of the direction in which the player is looking, up or down, the green line remains unchanged:</p>\n<p><a href=\"https://i.stack.imgur.com/bYQPQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bYQPQ.png\" alt=\"Side view\" /></a></p>\n<p>Here, in turn, I have presented this situation from the top. The red line is the player's viewing direction (left - right) and the green is the effect I want to achieve. As you can see, the player's rotation on this axis sets my vector exactly the same.</p>\n<p><a href=\"https://i.stack.imgur.com/POQiP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/POQiP.png\" alt=\"View from above\" /></a></p>\n<p>I was able to write a piece of code, but it doesn't behave correctly: the Y axis gets higher and higher as the player turns up or down. I don't know why:</p>\n<pre><code>Vector playerDirection = player.getLocation().getDirection();\n\nVector vector = new Vector(playerDirection.getX(), 0, playerDirection.getZ()).normalize().multiply(3);\n</code></pre>\n<p>How to do it correctly?</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666725723,"creation_date":1666722421,"answer_id":74198603,"question_id":74087856,"body_markdown":"When you&#39;re passing the following two arguments to the setQuery() method:\r\n\r\n    .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;RegParkingArea&quot;), RegisterParking.class)\r\n\r\nIt means that the adapter expects to render on the screen `RegisterParking` objects. If you take a closer look at your database schema, under the `RegParkingArea` node, you can find UIDs and **not** `RegisterParking` objects. The objects that you want to display in the RecycerView exist under each UID. So when reading the data from the database, the Firebase-UI library tries to map each child under the above reference into an object of type `RegisterParking`, which is actually not possible since the UIDs are strings.\r\n\r\nSo if you&#39;re allowed to change the database schema, then you should either denormalize the data, basically copying the data under another node, or change the actual data into:\r\n\r\n    db-root\r\n     |\r\n     --- RegParkingArea\r\n           |\r\n           --- $pushedId\r\n                 |\r\n                 --- uid: &quot;4u9h...XrP2&quot;\r\n                 |\r\n                 --- //other fields.\r\n\r\nWhat I have basically done, I have removed a level from the database tree. If you&#39;ll use this schema, then you can leave the code as it is and everything will work perfectly fine.\r\n\r\nOne more thing to note is that if you need to get all parking of a particular user, then you can use the following query:\r\n\r\n    DatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n    Query queryByUid = db.child(&quot;RegParkingArea&quot;).orderByChild(&quot;uid&quot;).equalTo(uid);","title":"Retrieve multiple data in recycler view using FirebaseRecyclerOptions","body":"<p>When you're passing the following two arguments to the setQuery() method:</p>\n<pre><code>.setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;RegParkingArea&quot;), RegisterParking.class)\n</code></pre>\n<p>It means that the adapter expects to render on the screen <code>RegisterParking</code> objects. If you take a closer look at your database schema, under the <code>RegParkingArea</code> node, you can find UIDs and <strong>not</strong> <code>RegisterParking</code> objects. The objects that you want to display in the RecycerView exist under each UID. So when reading the data from the database, the Firebase-UI library tries to map each child under the above reference into an object of type <code>RegisterParking</code>, which is actually not possible since the UIDs are strings.</p>\n<p>So if you're allowed to change the database schema, then you should either denormalize the data, basically copying the data under another node, or change the actual data into:</p>\n<pre><code>db-root\n |\n --- RegParkingArea\n       |\n       --- $pushedId\n             |\n             --- uid: &quot;4u9h...XrP2&quot;\n             |\n             --- //other fields.\n</code></pre>\n<p>What I have basically done, I have removed a level from the database tree. If you'll use this schema, then you can leave the code as it is and everything will work perfectly fine.</p>\n<p>One more thing to note is that if you need to get all parking of a particular user, then you can use the following query:</p>\n<pre><code>DatabaseReference db = FirebaseDatabase.getInstance().getReference();\nQuery queryByUid = db.child(&quot;RegParkingArea&quot;).orderByChild(&quot;uid&quot;).equalTo(uid);\n</code></pre>\n"}],"owner":{"account_id":26035795,"reputation":11,"user_id":19741257,"display_name":"SeniorBear"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666725723,"creation_date":1665929805,"question_id":74087856,"body_markdown":"I am using `FirebaseRecyclerOptions` in calling the database, however, I cannot get all of the data in the database. Here is the structure of the database: [database structure][1] the yellow underline is the user id (UID) and below is another node that contains the data that I want to retrieve in the RecyclerView.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hNfjc.png\r\n\r\n\r\nHere is a snippet of the code\r\n\r\n    \r\n        FirebaseRecyclerOptions&lt;RegisterParking&gt; options =\r\n                new FirebaseRecyclerOptions.Builder&lt;RegisterParking&gt;()\r\n                        .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;RegParkingArea&quot;), RegisterParking.class)\r\n                        .build();\r\n\r\n        voPListAdapter = new VoPListAdapter(options);\r\n        recyclerView.setAdapter(voPListAdapter);","title":"Retrieve multiple data in recycler view using FirebaseRecyclerOptions","body":"<p>I am using <code>FirebaseRecyclerOptions</code> in calling the database, however, I cannot get all of the data in the database. Here is the structure of the database: <a href=\"https://i.stack.imgur.com/hNfjc.png\" rel=\"nofollow noreferrer\">database structure</a> the yellow underline is the user id (UID) and below is another node that contains the data that I want to retrieve in the RecyclerView.</p>\n<p>Here is a snippet of the code</p>\n<pre><code>    FirebaseRecyclerOptions&lt;RegisterParking&gt; options =\n            new FirebaseRecyclerOptions.Builder&lt;RegisterParking&gt;()\n                    .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;RegParkingArea&quot;), RegisterParking.class)\n                    .build();\n\n    voPListAdapter = new VoPListAdapter(options);\n    recyclerView.setAdapter(voPListAdapter);\n</code></pre>\n"},{"tags":["java","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1666722843,"post_id":74198626,"comment_id":131002631,"body_markdown":"Do you want a projection for query result mapping?","body":"Do you want a projection for query result mapping?"},{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1666722979,"post_id":74198626,"comment_id":131002669,"body_markdown":"Mmm cant you make directly a query on TestObject on refId that return a List&lt;TestObject&gt;? Why do you need ParentObject?","body":"Mmm cant you make directly a query on TestObject on refId that return a List&lt;TestObject&gt;? Why do you need ParentObject?"},{"owner":{"account_id":17795556,"reputation":159,"user_id":12923478,"display_name":"luisenricke"},"score":0,"creation_date":1666723943,"post_id":74198626,"comment_id":131002958,"body_markdown":"What if you use a findByRefId and then a groupingBy with the stream collectors ?","body":"What if you use a findByRefId and then a groupingBy with the stream collectors ?"},{"owner":{"account_id":10950060,"reputation":135,"user_id":8046709,"accept_rate":56,"display_name":"retArdos"},"score":0,"creation_date":1666736111,"post_id":74198626,"comment_id":131006188,"body_markdown":"Well, let&#39;s say TestObject is the basic object that lives for sometimes. Once n TestObjects are associated with the REF_ID column, they are not really used anymore. The ParentObject becomes the one used. And ParentObject should be queryable via classic JpaRepository. In my example case, a parentRepository.findAll() should return a list of two ParentObjects.","body":"Well, let&#39;s say TestObject is the basic object that lives for sometimes. Once n TestObjects are associated with the REF_ID column, they are not really used anymore. The ParentObject becomes the one used. And ParentObject should be queryable via classic JpaRepository. In my example case, a parentRepository.findAll() should return a list of two ParentObjects."}],"owner":{"account_id":10950060,"reputation":135,"user_id":8046709,"accept_rate":56,"display_name":"retArdos"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666725679,"creation_date":1666722544,"question_id":74198626,"body_markdown":"I don&#39;t know how to make it clear, and i couldn&#39;t think of any good title for this. \r\n\r\n\r\nBasically, i have a database table which looks like this\r\n\r\n| ID       | name   | another_column| ref_id    |\r\n| -------- | -------|-------------- |-----------\r\n| 1        | name1  | asdasd       |  same_ref1|\r\n| 2        | name2  |  zzzzzz      |same_ref1   |\r\n|3|name3|aadas|same_ref2|\r\n|4|name4|ppppp|same_ref2|\r\n\r\nI have an entity which maps to this table, lets say, and i can use JpaRepository methods : \r\n\r\n```\r\npublic class TestObject {\r\n   private int id;\r\n   private String name;\r\n   private String anotherColumn;\r\n   private String refId;\r\n}\r\n```\r\n\r\nIs it possible for me to have another object, lets say ParentObject that is mapped based on ref_id column\r\n\r\n```\r\npublic class ParentObject {\r\n  private String refId;\r\n  private List&lt;TestObject&gt; child;\r\n}\r\n```\r\n\r\nThat way when I use a ```JpaRepository&lt;ParentObject&gt;``` for example \r\n```\r\nparentRepository.findById(&quot;same_ref2&quot;);\r\n```\r\nit returns a ParentObject with two children (lines 3 and 4).\r\n\r\nDon&#39;t know if I made that clear. ","title":"JPA map two entities different entities to one table","body":"<p>I don't know how to make it clear, and i couldn't think of any good title for this.</p>\n<p>Basically, i have a database table which looks like this</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>ID</th>\n<th>name</th>\n<th>another_column</th>\n<th>ref_id</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>name1</td>\n<td>asdasd</td>\n<td>same_ref1</td>\n</tr>\n<tr>\n<td>2</td>\n<td>name2</td>\n<td>zzzzzz</td>\n<td>same_ref1</td>\n</tr>\n<tr>\n<td>3</td>\n<td>name3</td>\n<td>aadas</td>\n<td>same_ref2</td>\n</tr>\n<tr>\n<td>4</td>\n<td>name4</td>\n<td>ppppp</td>\n<td>same_ref2</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I have an entity which maps to this table, lets say, and i can use JpaRepository methods :</p>\n<pre><code>public class TestObject {\n   private int id;\n   private String name;\n   private String anotherColumn;\n   private String refId;\n}\n</code></pre>\n<p>Is it possible for me to have another object, lets say ParentObject that is mapped based on ref_id column</p>\n<pre><code>public class ParentObject {\n  private String refId;\n  private List&lt;TestObject&gt; child;\n}\n</code></pre>\n<p>That way when I use a <code>JpaRepository&lt;ParentObject&gt;</code> for example</p>\n<pre><code>parentRepository.findById(&quot;same_ref2&quot;);\n</code></pre>\n<p>it returns a ParentObject with two children (lines 3 and 4).</p>\n<p>Don't know if I made that clear.</p>\n"},{"tags":["java","spring-boot","hibernate-validator","javax.validation"],"comments":[{"owner":{"account_id":9444927,"reputation":1735,"user_id":7024049,"display_name":"pcsutar"},"score":0,"creation_date":1665674198,"post_id":74057796,"comment_id":130759287,"body_markdown":"If you are getting the id through path variable then no need of accepting the same id in request body. Why did you designed your API like that?","body":"If you are getting the id through path variable then no need of accepting the same id in request body. Why did you designed your API like that?"},{"owner":{"account_id":3899033,"reputation":21460,"user_id":3227319,"accept_rate":48,"display_name":"Jordi"},"score":0,"creation_date":1665675800,"post_id":74057796,"comment_id":130759954,"body_markdown":"Why? Is that not correct? Which is the correct way?","body":"Why? Is that not correct? Which is the correct way?"},{"owner":{"account_id":9444927,"reputation":1735,"user_id":7024049,"display_name":"pcsutar"},"score":0,"creation_date":1665679547,"post_id":74057796,"comment_id":130761202,"body_markdown":"I think no need of accepting same information at two places (request body and path). If you are getting id in path variable then you should not accept the same id in request body. This will help you to avoid the problem that you are facing. You can also remove id from path variable and accept it through request body. If you still want to design your API same way then you can use AOP (Aspect oriented programming) to perform the validations.","body":"I think no need of accepting same information at two places (request body and path). If you are getting id in path variable then you should not accept the same id in request body. This will help you to avoid the problem that you are facing. You can also remove id from path variable and accept it through request body. If you still want to design your API same way then you can use AOP (Aspect oriented programming) to perform the validations."}],"answers":[{"tags":[],"owner":{"account_id":6484184,"reputation":2035,"user_id":5020294,"display_name":"Andriy Slobodyanyk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666725515,"creation_date":1665673521,"answer_id":74058031,"question_id":74057796,"body_markdown":"&gt; I need to validate that id and qdcf.id are equals.\r\n\r\nI would disagree with this statement.\r\n\r\nI would suggest to separate the concepts and have 3 different classes:\r\n- an incoming request DTO (`QdCFPresenter` in your case), it shouldn&#39;t contain `id` as it is a part neither of `POST` nor `PUT` request\r\n- a domain model (with `id` and `code`)\r\n- an outgoing response DTO (also with `id` and `code`)\r\n\r\nTwo last ones look similar but have different responsibilities. The response DTO is your contract with consumers, it could maintain its documentation and so on. The domain model is your internal thing and shouldn&#39;t be exposed to be able to evolve if required.\r\n\r\nAnd the incoming request DTO is a blueprint for the creation or modification. You shouldn&#39;t require it to have `id` at all.","title":"java and hibernate validation: validate two method parameters","body":"<blockquote>\n<p>I need to validate that id and qdcf.id are equals.</p>\n</blockquote>\n<p>I would disagree with this statement.</p>\n<p>I would suggest to separate the concepts and have 3 different classes:</p>\n<ul>\n<li>an incoming request DTO (<code>QdCFPresenter</code> in your case), it shouldn't contain <code>id</code> as it is a part neither of <code>POST</code> nor <code>PUT</code> request</li>\n<li>a domain model (with <code>id</code> and <code>code</code>)</li>\n<li>an outgoing response DTO (also with <code>id</code> and <code>code</code>)</li>\n</ul>\n<p>Two last ones look similar but have different responsibilities. The response DTO is your contract with consumers, it could maintain its documentation and so on. The domain model is your internal thing and shouldn't be exposed to be able to evolve if required.</p>\n<p>And the incoming request DTO is a blueprint for the creation or modification. You shouldn't require it to have <code>id</code> at all.</p>\n"}],"owner":{"account_id":3899033,"reputation":21460,"user_id":3227319,"accept_rate":48,"display_name":"Jordi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666725515,"creation_date":1665672548,"question_id":74057796,"body_markdown":"Here my controller:\r\n\r\n```lang-java\r\n@PutMapping(&quot;{id}&quot;)\r\npublic Mono&lt;QdCFPresenter&gt; save(\r\n    Long id,\r\n    @RequestBody @Valid @NotNull QdCFPresenter qdcf\r\n) {\r\n    return this.qdcfService.store(qdcf);\r\n}\r\n```\r\n\r\nI need to validate that `id` and `qdcf.id` are equals.\r\n\r\nThe way I need to accomplish that is using `javax.validation`.\r\n\r\nWe have all validation rules all encapsulated using `javax.validation` validations.\r\n\r\nFor example:\r\n\r\n```lang-java\r\npublic class QdCFPresenter {\r\n\r\n    private Long id;\r\n\r\n    @NotNull\r\n    private Long codi;\r\n\r\n}\r\n```\r\n\r\nSo, is there any way to get it **USING `javax.validation`** validations?","title":"java and hibernate validation: validate two method parameters","body":"<p>Here my controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PutMapping(&quot;{id}&quot;)\npublic Mono&lt;QdCFPresenter&gt; save(\n    Long id,\n    @RequestBody @Valid @NotNull QdCFPresenter qdcf\n) {\n    return this.qdcfService.store(qdcf);\n}\n</code></pre>\n<p>I need to validate that <code>id</code> and <code>qdcf.id</code> are equals.</p>\n<p>The way I need to accomplish that is using <code>javax.validation</code>.</p>\n<p>We have all validation rules all encapsulated using <code>javax.validation</code> validations.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class QdCFPresenter {\n\n    private Long id;\n\n    @NotNull\n    private Long codi;\n\n}\n</code></pre>\n<p>So, is there any way to get it <strong>USING <code>javax.validation</code></strong> validations?</p>\n"},{"tags":["java","android","kotlin","android-recyclerview","listadapter"],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666724904,"creation_date":1666720719,"answer_id":74198315,"question_id":74198038,"body_markdown":"You must not use GlobalScope for this, because it will leak your Activity and/or Fragment for the entire lifetime of your app. Every time the screen changes, it&#39;ll leak another copy of it until your app runs out of memory.\r\n\r\nDispatchers.IO is unnecessary. You are not calling any blocking functions in this coroutine.\r\n\r\nTo limit to two items, you can use `take(2)` on the list before you pass it to the adapter:\r\n\r\n```\r\nlifecycleScope.launch {\r\n    sharedViewModel.getOperationsAll(ACCOUNT.number).collect { opList -&gt;\r\n        operationAdapter.submitList(opList.sortedByDescending { it.time }.take(2))\r\n    }\r\n}\r\n```\r\nIf this is a Fragment, you should use `viewLifecycleOwner.lifecycleScope` instead.","title":"How to show only 2 items in RecyclerView?","body":"<p>You must not use GlobalScope for this, because it will leak your Activity and/or Fragment for the entire lifetime of your app. Every time the screen changes, it'll leak another copy of it until your app runs out of memory.</p>\n<p>Dispatchers.IO is unnecessary. You are not calling any blocking functions in this coroutine.</p>\n<p>To limit to two items, you can use <code>take(2)</code> on the list before you pass it to the adapter:</p>\n<pre><code>lifecycleScope.launch {\n    sharedViewModel.getOperationsAll(ACCOUNT.number).collect { opList -&gt;\n        operationAdapter.submitList(opList.sortedByDescending { it.time }.take(2))\n    }\n}\n</code></pre>\n<p>If this is a Fragment, you should use <code>viewLifecycleOwner.lifecycleScope</code> instead.</p>\n"}],"owner":{"account_id":23817167,"reputation":1,"user_id":17825267,"display_name":"Artem Barabash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666724904,"creation_date":1666719091,"question_id":74198038,"body_markdown":"There is a list of operations that I display in the recyclerview through the ListAdapter. The size of the RecyclerView is 2 elements.[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7U1Cg.png\r\n\r\nListAdapter:\r\n\r\n    class OperationAdapter(private val onItemClicked: (Operation) -&gt; Unit) :\r\n    ListAdapter&lt;Operation, OperationAdapter.OperationViewHolder&gt;(DiffCallback) {\r\n\r\n\r\n\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): OperationViewHolder {\r\n        val viewHolder = OperationViewHolder(\r\n            OperationItemBinding.inflate(\r\n                LayoutInflater.from(parent.context),\r\n                parent,\r\n                false\r\n            )\r\n        )\r\n\r\n        return viewHolder\r\n    }\r\n\r\n    @SuppressLint(&quot;ResourceAsColor&quot;, &quot;SetTextI18n&quot;)\r\n    override fun onBindViewHolder(holder: OperationViewHolder, position: Int) {\r\n\r\n        holder.bind(getItem(position))\r\n    }\r\n\r\n\r\n    class OperationViewHolder(private var binding: OperationItemBinding): RecyclerView.ViewHolder(binding.root) {\r\n        /*val imageOperation:ImageView = view.findViewById(R.id.imageViewItem)\r\n        val nameOperation:TextView = view.findViewById(R.id.name_operation)\r\n        val balanceOperation:TextView = view.findViewById(R.id.textSum)*/\r\n        fun bind(operation: Operation){\r\n            if(operation.receive == ACCOUNT.number){\r\n                binding.imageViewItem.setImageResource(R.drawable.ic_type_recieve)\r\n\r\n                binding.nameOperation.text = operation.send\r\n                binding.nameOperation.setTextColor(Color.rgb(35, 135, 0))\r\n\r\n                val sum = NumberFormat.getCurrencyInstance(Locale(&quot;en&quot;, &quot;US&quot;)).format(operation.sum)\r\n                binding.textSum.text = sum\r\n                binding.textSum.setTextColor(Color.rgb(35, 135, 0))\r\n            }else{\r\n                binding.imageViewItem.setImageResource(R.drawable.ic_type_sent)\r\n\r\n                binding.nameOperation.text = operation.receive\r\n                binding.nameOperation.setTextColor(Color.rgb(231, 223,255))\r\n\r\n                val sum = NumberFormat.getCurrencyInstance(Locale(&quot;en&quot;, &quot;US&quot;)).format(operation.sum)\r\n                binding.textSum.text = &quot;-$sum&quot;\r\n                binding.textSum.setTextColor(Color.rgb(231, 223,255))\r\n            }\r\n        }\r\n    }\r\n\r\n    companion object{\r\n        private val DiffCallback = object: DiffUtil.ItemCallback&lt;Operation&gt;(){\r\n            override fun areItemsTheSame(oldItem: Operation, newItem: Operation): Boolean {\r\n                return oldItem.id == newItem.id\r\n            }\r\n\r\n            override fun areContentsTheSame(oldItem: Operation, newItem: Operation): Boolean {\r\n                return oldItem == newItem\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n}\r\n\r\nI retrieve list from Room by courotine:\r\n\r\n      GlobalScope.launch(Dispatchers.IO){\r\n            sharedViewModel.getOperationsAll(ACCOUNT.number).collect(){ it -&gt;\r\n                operationAdapter.submitList(it.sortedByDescending { it.time })\r\n            }\r\n        }\r\n\r\n\r\nI cannot output recycler view with only two items, where user can scroll it.\r\n\r\n","title":"How to show only 2 items in RecyclerView?","body":"<p>There is a list of operations that I display in the recyclerview through the ListAdapter. The size of the RecyclerView is 2 elements.<a href=\"https://i.stack.imgur.com/7U1Cg.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>ListAdapter:</p>\n<pre><code>class OperationAdapter(private val onItemClicked: (Operation) -&gt; Unit) :\nListAdapter&lt;Operation, OperationAdapter.OperationViewHolder&gt;(DiffCallback) {\n\n\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): OperationViewHolder {\n    val viewHolder = OperationViewHolder(\n        OperationItemBinding.inflate(\n            LayoutInflater.from(parent.context),\n            parent,\n            false\n        )\n    )\n\n    return viewHolder\n}\n\n@SuppressLint(&quot;ResourceAsColor&quot;, &quot;SetTextI18n&quot;)\noverride fun onBindViewHolder(holder: OperationViewHolder, position: Int) {\n\n    holder.bind(getItem(position))\n}\n\n\nclass OperationViewHolder(private var binding: OperationItemBinding): RecyclerView.ViewHolder(binding.root) {\n    /*val imageOperation:ImageView = view.findViewById(R.id.imageViewItem)\n    val nameOperation:TextView = view.findViewById(R.id.name_operation)\n    val balanceOperation:TextView = view.findViewById(R.id.textSum)*/\n    fun bind(operation: Operation){\n        if(operation.receive == ACCOUNT.number){\n            binding.imageViewItem.setImageResource(R.drawable.ic_type_recieve)\n\n            binding.nameOperation.text = operation.send\n            binding.nameOperation.setTextColor(Color.rgb(35, 135, 0))\n\n            val sum = NumberFormat.getCurrencyInstance(Locale(&quot;en&quot;, &quot;US&quot;)).format(operation.sum)\n            binding.textSum.text = sum\n            binding.textSum.setTextColor(Color.rgb(35, 135, 0))\n        }else{\n            binding.imageViewItem.setImageResource(R.drawable.ic_type_sent)\n\n            binding.nameOperation.text = operation.receive\n            binding.nameOperation.setTextColor(Color.rgb(231, 223,255))\n\n            val sum = NumberFormat.getCurrencyInstance(Locale(&quot;en&quot;, &quot;US&quot;)).format(operation.sum)\n            binding.textSum.text = &quot;-$sum&quot;\n            binding.textSum.setTextColor(Color.rgb(231, 223,255))\n        }\n    }\n}\n\ncompanion object{\n    private val DiffCallback = object: DiffUtil.ItemCallback&lt;Operation&gt;(){\n        override fun areItemsTheSame(oldItem: Operation, newItem: Operation): Boolean {\n            return oldItem.id == newItem.id\n        }\n\n        override fun areContentsTheSame(oldItem: Operation, newItem: Operation): Boolean {\n            return oldItem == newItem\n        }\n\n    }\n}\n</code></pre>\n<p>}</p>\n<p>I retrieve list from Room by courotine:</p>\n<pre><code>  GlobalScope.launch(Dispatchers.IO){\n        sharedViewModel.getOperationsAll(ACCOUNT.number).collect(){ it -&gt;\n            operationAdapter.submitList(it.sortedByDescending { it.time })\n        }\n    }\n</code></pre>\n<p>I cannot output recycler view with only two items, where user can scroll it.</p>\n"},{"tags":["java","android","android-activity"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666724815,"creation_date":1666724815,"answer_id":74199027,"question_id":74198979,"body_markdown":"You don&#39;t.  You can&#39;t even know that the instance of the parent activity still exists-  it may not (activities are killed in the background for resources all the time, and recreated if you need them again).  There is no connection between an instance of a child activity and their parent.  \r\n\r\nIf you want to call a function on the parent because you want the child to update the parent or return a result, there&#39;s the ActivityResultLauncher functionality which can return a result to the calling activity.  Return whatever data you would have passed in the call, and let it update itself from that when the child is finished.\r\n\r\nIf you want to update some models that are shared between the two activities-  the models should have a reference in both and be shared, update it and make sure that parent activity updates itself in onResume.\r\n\r\nIf you want to do something else-  don&#39;t, for the most part.  There&#39;s better ways to do whatever you want.","title":"How can I call a function from the parent activity when Back Button pressed - Android Dev","body":"<p>You don't.  You can't even know that the instance of the parent activity still exists-  it may not (activities are killed in the background for resources all the time, and recreated if you need them again).  There is no connection between an instance of a child activity and their parent.</p>\n<p>If you want to call a function on the parent because you want the child to update the parent or return a result, there's the ActivityResultLauncher functionality which can return a result to the calling activity.  Return whatever data you would have passed in the call, and let it update itself from that when the child is finished.</p>\n<p>If you want to update some models that are shared between the two activities-  the models should have a reference in both and be shared, update it and make sure that parent activity updates itself in onResume.</p>\n<p>If you want to do something else-  don't, for the most part.  There's better ways to do whatever you want.</p>\n"}],"owner":{"account_id":25267669,"reputation":3,"user_id":19097532,"display_name":"Haitam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74199027,"answer_count":1,"score":0,"last_activity_date":1666724815,"creation_date":1666724474,"question_id":74198979,"body_markdown":"Here, I want to call a function that is in the parent activity (*Parent Activity*) of the current activity (*Child Activity*). Well, the function loads data from a .txt file and updates the components of the *Parent Activity*\\*,\\* and I want to do it when the button to go back is pressed.\r\n\r\nI actually have a solution but I hope you can provide me with a better one: After I opened the *Child Activity* with intent\\*,\\* I closed the *Parent Activity* with the function `finish();` and when the back button is pressed I change to *Parent Activity* with intent and close the *Child Activity* with intent. But I don&#39;t want to create a new instance of *Parent Activity* each time.","title":"How can I call a function from the parent activity when Back Button pressed - Android Dev","body":"<p>Here, I want to call a function that is in the parent activity (<em>Parent Activity</em>) of the current activity (<em>Child Activity</em>). Well, the function loads data from a .txt file and updates the components of the <em>Parent Activity</em>*,* and I want to do it when the button to go back is pressed.</p>\n<p>I actually have a solution but I hope you can provide me with a better one: After I opened the <em>Child Activity</em> with intent*,* I closed the <em>Parent Activity</em> with the function <code>finish();</code> and when the back button is pressed I change to <em>Parent Activity</em> with intent and close the <em>Child Activity</em> with intent. But I don't want to create a new instance of <em>Parent Activity</em> each time.</p>\n"},{"tags":["java","spring-mvc","httprequest"],"comments":[{"owner":{"account_id":69707,"reputation":41791,"user_id":202694,"accept_rate":88,"display_name":"Pace"},"score":0,"creation_date":1307889086,"post_id":6322362,"comment_id":7392156,"body_markdown":"There are a couple issues.  In a ServletRequest you can only call getReader() or getInputStream() not both.  If you call both you get an IllegalStateException.  You could try calling getInputStream but you still may get an error if you read the input stream Spring may not be able to see it. (ServletInputStream may support reset but I don&#39;t think so).\n\nYour best bet is to log the parameters either during the XML deserialization process (you should find out what class does this) or immediately after.","body":"There are a couple issues.  In a ServletRequest you can only call getReader() or getInputStream() not both.  If you call both you get an IllegalStateException.  You could try calling getInputStream but you still may get an error if you read the input stream Spring may not be able to see it. (ServletInputStream may support reset but I don&#39;t think so).  Your best bet is to log the parameters either during the XML deserialization process (you should find out what class does this) or immediately after."},{"owner":{"account_id":378949,"reputation":1413,"user_id":731998,"accept_rate":86,"display_name":"happymeal"},"score":0,"creation_date":1307889735,"post_id":6322362,"comment_id":7392210,"body_markdown":"have you considered configuring your http server to log the request headers or using servlet filters to do the logging?","body":"have you considered configuring your http server to log the request headers or using servlet filters to do the logging?"},{"owner":{"account_id":208225,"reputation":3021,"user_id":458576,"accept_rate":86,"display_name":"Noam Nevo"},"score":0,"creation_date":1307889792,"post_id":6322362,"comment_id":7392213,"body_markdown":"@happymeal I dont need only the headers i need the body as well.","body":"@happymeal I dont need only the headers i need the body as well."},{"owner":{"account_id":378949,"reputation":1413,"user_id":731998,"accept_rate":86,"display_name":"happymeal"},"score":0,"creation_date":1307890253,"post_id":6322362,"comment_id":7392277,"body_markdown":"either solution will still work. in the servlet filter approach, you just have to read from the input stream and printout everything; this will also include the request body. in the http server approach, you have to refer to your documentation as the configuration differs from vendor to vendor.","body":"either solution will still work. in the servlet filter approach, you just have to read from the input stream and printout everything; this will also include the request body. in the http server approach, you have to refer to your documentation as the configuration differs from vendor to vendor."}],"answers":[{"tags":[],"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1307891147,"creation_date":1307890123,"answer_id":6322568,"question_id":6322362,"body_markdown":"You can do this with a filter. The request parameters are easy to handle.\r\nHowever dealing with the request body will be much more difficult\r\nand will require wrapping the servlet request see: [HttpServletRequest][1].\r\n\r\nYou will need to look how big the incoming request is and decide whether you want to store the request body as a tmp file or string.\r\n\r\nYou will need to override ServetRequest.getInputStream() with your file or saved string that used for logging.\r\n\r\nIf the request body is huge I recommend putting the input stream into a buffered input stream and then reading the start of the body.\r\n\r\n    public class LogRequest extends HttpServletRequestWrapper {\r\n    \r\n    \tpublic LogRequest(HttpServletRequest request) {\r\n    \t\tsuper(request);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic ServletInputStream getInputStream() throws IOException {\r\n    \t\t//read from tmp file or string.\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic BufferedReader getReader() throws IOException {\r\n    \t\t//read from tmp file or string\r\n    \t}\r\n    \r\n    }\r\n\r\n  [1]: http://download.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequestWrapper.html","title":"Logging HttpRequest parameters and request body","body":"<p>You can do this with a filter. The request parameters are easy to handle.\nHowever dealing with the request body will be much more difficult\nand will require wrapping the servlet request see: <a href=\"http://download.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequestWrapper.html\" rel=\"noreferrer\">HttpServletRequest</a>.</p>\n\n<p>You will need to look how big the incoming request is and decide whether you want to store the request body as a tmp file or string.</p>\n\n<p>You will need to override ServetRequest.getInputStream() with your file or saved string that used for logging.</p>\n\n<p>If the request body is huge I recommend putting the input stream into a buffered input stream and then reading the start of the body.</p>\n\n<pre><code>public class LogRequest extends HttpServletRequestWrapper {\n\n    public LogRequest(HttpServletRequest request) {\n        super(request);\n    }\n\n    @Override\n    public ServletInputStream getInputStream() throws IOException {\n        //read from tmp file or string.\n    }\n\n    @Override\n    public BufferedReader getReader() throws IOException {\n        //read from tmp file or string\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":213379,"reputation":9738,"user_id":466738,"accept_rate":94,"display_name":"Adam Michalik"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1417091002,"creation_date":1417091002,"answer_id":27170744,"question_id":6322362,"body_markdown":"Spring has a ready filter to do that for you - see usage of `AbstractRequestLoggingFilter` and its subclasses described in [this answer][1].\r\n\r\nBe aware that when using this solution, the request body will be logged only after the request processing is complete and the body has been read by your application.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/25905296/how-to-log-httprequest-and-httpresponse-in-a-file/25906059#25906059","title":"Logging HttpRequest parameters and request body","body":"<p>Spring has a ready filter to do that for you - see usage of <code>AbstractRequestLoggingFilter</code> and its subclasses described in <a href=\"https://stackoverflow.com/questions/25905296/how-to-log-httprequest-and-httpresponse-in-a-file/25906059#25906059\">this answer</a>.</p>\n\n<p>Be aware that when using this solution, the request body will be logged only after the request processing is complete and the body has been read by your application.</p>\n"},{"tags":[],"owner":{"account_id":2146780,"reputation":1910,"user_id":1904239,"accept_rate":95,"display_name":"Eugene To"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1486383820,"creation_date":1486383820,"answer_id":42067728,"question_id":6322362,"body_markdown":"Simple implementation for small requests. Don&#39;t use it for multipart request.\r\n\r\n    package ru.rbs.logger.web;\r\n    \r\n    import org.apache.commons.io.IOUtils;\r\n    \r\n    import javax.servlet.ReadListener;\r\n    import javax.servlet.ServletInputStream;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletRequestWrapper;\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    \r\n    class CachedRequestWrapper extends HttpServletRequestWrapper {\r\n        private final byte[] cachedBody;\r\n        \r\n        CachedRequestWrapper(HttpServletRequest request) throws IOException {\r\n            super(request);\r\n    \r\n            ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n            IOUtils.copy(request.getInputStream(), bos);\r\n            cachedBody = bos.toByteArray();\r\n        }\r\n    \r\n        @Override\r\n        public ServletInputStream getInputStream() throws IOException {\r\n            return new CachedServletInputStream();\r\n        }\r\n    \r\n        byte[] toByteArray(){\r\n            return cachedBody;\r\n        }\r\n    \r\n        private class CachedServletInputStream extends ServletInputStream {\r\n            private InputStream baseInputStream;\r\n    \r\n            CachedServletInputStream() throws IOException {\r\n                baseInputStream = new ByteArrayInputStream(cachedBody);\r\n            }\r\n    \r\n            @Override\r\n            public boolean isFinished() {\r\n                return false;\r\n            }\r\n    \r\n            @Override\r\n            public boolean isReady() {\r\n                return false;\r\n            }\r\n    \r\n            @Override\r\n            public void setReadListener(ReadListener readListener) {\r\n    \r\n            }\r\n    \r\n            @Override\r\n            public int read() throws IOException {\r\n                return baseInputStream.read();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Logging HttpRequest parameters and request body","body":"<p>Simple implementation for small requests. Don't use it for multipart request.</p>\n\n<pre><code>package ru.rbs.logger.web;\n\nimport org.apache.commons.io.IOUtils;\n\nimport javax.servlet.ReadListener;\nimport javax.servlet.ServletInputStream;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletRequestWrapper;\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\n\nclass CachedRequestWrapper extends HttpServletRequestWrapper {\n    private final byte[] cachedBody;\n\n    CachedRequestWrapper(HttpServletRequest request) throws IOException {\n        super(request);\n\n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\n        IOUtils.copy(request.getInputStream(), bos);\n        cachedBody = bos.toByteArray();\n    }\n\n    @Override\n    public ServletInputStream getInputStream() throws IOException {\n        return new CachedServletInputStream();\n    }\n\n    byte[] toByteArray(){\n        return cachedBody;\n    }\n\n    private class CachedServletInputStream extends ServletInputStream {\n        private InputStream baseInputStream;\n\n        CachedServletInputStream() throws IOException {\n            baseInputStream = new ByteArrayInputStream(cachedBody);\n        }\n\n        @Override\n        public boolean isFinished() {\n            return false;\n        }\n\n        @Override\n        public boolean isReady() {\n            return false;\n        }\n\n        @Override\n        public void setReadListener(ReadListener readListener) {\n\n        }\n\n        @Override\n        public int read() throws IOException {\n            return baseInputStream.read();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13145036,"reputation":209,"user_id":9495331,"display_name":"Dylan Powers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666724532,"creation_date":1666724532,"answer_id":74198986,"question_id":6322362,"body_markdown":"This can be accomplished fairly easily using [`TeeInputStream`](https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/input/TeeInputStream.html). This writes to two streams at once: the source input stream, and some output stream. Simply override the `ServletInputStream` in the request wrapper, and read from the `TeeInputStream`. You can then read from the output stream after calling `chain.doFilter()`:\r\n\r\n```java\r\n@Override\r\npublic void doFilterNonOption(HttpServletRequest request, HttpServletResponse response,\r\n      FilterChain chain) throws IOException, ServletException {\r\n  ByteArrayOutputStream requestBaos = new ByteArrayOutputStream();\r\n  final PrintStream requestPrintStream = new PrintStream(requestBaos);\r\n  final TeeInputStream inputStream = new TeeInputStream(request.getInputStream(), requestPrintStream);\r\n\r\n  HttpServletRequestWrapper wrappedRequest = new HttpServletRequestWrapper(request) {\r\n    @Override\r\n    public ServletInputStream getInputStream() {\r\n      return new ServletInputStream() {\r\n        @Override\r\n        public boolean isFinished() {\r\n          return false;\r\n        }\r\n\r\n        @Override\r\n        public boolean isReady() {\r\n          return true;\r\n        }\r\n\r\n        @Override\r\n        public void setReadListener(ReadListener readListener) {\r\n          // NOOP\r\n        }\r\n\r\n        @Override\r\n        public int read() throws IOException {\r\n          return inputStream.read();\r\n        }\r\n      };\r\n    }\r\n  };\r\n\r\n  try {\r\n    chain.doFilter(wrappedRequest, response);\r\n  } finally {\r\n    System.out.println(requestBaos.toString(StandardCharsets.UTF-8));\r\n  }\r\n}\r\n```","title":"Logging HttpRequest parameters and request body","body":"<p>This can be accomplished fairly easily using <a href=\"https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/input/TeeInputStream.html\" rel=\"nofollow noreferrer\"><code>TeeInputStream</code></a>. This writes to two streams at once: the source input stream, and some output stream. Simply override the <code>ServletInputStream</code> in the request wrapper, and read from the <code>TeeInputStream</code>. You can then read from the output stream after calling <code>chain.doFilter()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void doFilterNonOption(HttpServletRequest request, HttpServletResponse response,\n      FilterChain chain) throws IOException, ServletException {\n  ByteArrayOutputStream requestBaos = new ByteArrayOutputStream();\n  final PrintStream requestPrintStream = new PrintStream(requestBaos);\n  final TeeInputStream inputStream = new TeeInputStream(request.getInputStream(), requestPrintStream);\n\n  HttpServletRequestWrapper wrappedRequest = new HttpServletRequestWrapper(request) {\n    @Override\n    public ServletInputStream getInputStream() {\n      return new ServletInputStream() {\n        @Override\n        public boolean isFinished() {\n          return false;\n        }\n\n        @Override\n        public boolean isReady() {\n          return true;\n        }\n\n        @Override\n        public void setReadListener(ReadListener readListener) {\n          // NOOP\n        }\n\n        @Override\n        public int read() throws IOException {\n          return inputStream.read();\n        }\n      };\n    }\n  };\n\n  try {\n    chain.doFilter(wrappedRequest, response);\n  } finally {\n    System.out.println(requestBaos.toString(StandardCharsets.UTF-8));\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":208225,"reputation":3021,"user_id":458576,"accept_rate":86,"display_name":"Noam Nevo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29326,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":6322568,"answer_count":4,"score":14,"last_activity_date":1666724532,"creation_date":1307887412,"question_id":6322362,"body_markdown":"I am trying to create a request log for my web app. I am using Spring 3.\r\n0.\r\n\r\n\r\nI implemented a class extending `HandlerInterceptorAdapter` and used the `preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)` to intercept the request.\r\n\r\nIn the method i want to be able to log the request body (my parameters are objects in XML that are written directly to the request body), and for that i use `request.getReader();`\r\n\r\nThe problem is - later on I will get an `IllegalStateException` when the spring controller tries to read the request.\r\n\r\nIs there a way to do what I intend?","title":"Logging HttpRequest parameters and request body","body":"<p>I am trying to create a request log for my web app. I am using Spring 3.\n0.</p>\n\n<p>I implemented a class extending <code>HandlerInterceptorAdapter</code> and used the <code>preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)</code> to intercept the request.</p>\n\n<p>In the method i want to be able to log the request body (my parameters are objects in XML that are written directly to the request body), and for that i use <code>request.getReader();</code></p>\n\n<p>The problem is - later on I will get an <code>IllegalStateException</code> when the spring controller tries to read the request.</p>\n\n<p>Is there a way to do what I intend?</p>\n"},{"tags":["java","authentication","keycloak","bcrypt"],"comments":[{"owner":{"account_id":1107109,"reputation":325,"user_id":1098309,"display_name":"Noa"},"score":0,"creation_date":1559550166,"post_id":53833200,"comment_id":99441903,"body_markdown":"I think your error is related to the algorithm name\nit is better to encrypt the password via  java library and send it as text to keycloak without using setAlgorithm","body":"I think your error is related to the algorithm name it is better to encrypt the password via  java library and send it as text to keycloak without using setAlgorithm"},{"owner":{"account_id":1163469,"reputation":79,"user_id":1142518,"display_name":"Anwar Reefat"},"score":0,"creation_date":1640161877,"post_id":53833200,"comment_id":124527465,"body_markdown":"Did you find any solution?","body":"Did you find any solution?"}],"answers":[{"tags":[],"owner":{"account_id":19435321,"reputation":71,"user_id":14214894,"display_name":"Alex P."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666723957,"creation_date":1666723957,"answer_id":74198875,"question_id":53833200,"body_markdown":"You can do that with Keycloak Admin API: \r\n\r\n 1. [Rest API][1]\r\n 2. [Java Client][2]: \r\n 3. [Nodejs Client][3]\r\n\r\nThere is a nice [tutorial][4] written by Brecht Carnewal\r\n\r\n First you have to install keycloak-bcrypt and the jbcrypt library on your keycloak instance\r\n\r\n    KEYCLOAK_HOME=~/keycloak\r\n\r\n    curl https://repo1.maven.org/maven2/org/mindrot/jbcrypt/0.4/jbcrypt-0.4.jar &gt; jbcrypt-0.4.jar\r\n    $KEYCLOAK_HOME/bin/jboss-cli.sh --command=&quot;module add --name=org.mindrot.jbcrypt --resources=jbcrypt-0.4.jar&quot;\r\n    \r\n    curl -L https://github.com/leroyguillaume/keycloak-bcrypt/releases/download/1.2.0/keycloak-bcrypt-1.2.0.jar &gt; $KEYCLOAK_HOME/standalone/deployments/keycloak-bcrypt-1.2.0.jar\r\n\r\nRestart Keycloak and then setup bcrypt hashing algorithm from the admin panel under Authentication -&gt; Password Policy.\r\n\r\nWrite and run your script\r\n\r\n    import KeycloakAdminClient from &#39;keycloak-admin&#39;;\r\n    const {\r\n      AUTH_URL = &#39;http://localhost:8080/auth&#39;,\r\n      AUTH_REALM_NAME = &#39;myRealmName&#39;,\r\n      AUTH_ADMIN_USERNAME = &#39;admin&#39;,\r\n      AUTH_ADMIN_PASSWORD = &#39;admin&#39;,\r\n      AUTH_ADMIN_CLIENT = &#39;admin-cli&#39;,\r\n      AUTH_ADMIN_SECRET = &#39;jriozejrioezjriorez&#39;,\r\n      // ^ needed if your admin-cli client is set to confidential\r\n    } = process.env;\r\n    \r\n    const authClient = new KeycloakAdminClient({\r\n      baseUrl: AUTH_URL, // http://localhost:8080/auth\r\n      realmName: AUTH_REALM_NAME,\r\n    });\r\n    \r\n    const startMigration = async ({ database }) =&gt; {\r\n      await authClient.auth({\r\n        username: AUTH_ADMIN_USERNAME,\r\n        password: AUTH_ADMIN_PASSWORD,\r\n        clientId: AUTH_ADMIN_CLIENT, // probably admin-cli\r\n        // only needed if your admin client is set to confidential\r\n        clientSecret: AUTH_ADMIN_SECRET,\r\n        grantType: &#39;password&#39;,\r\n      });\r\n    \r\n      const existingUsers = await database.users.find();\r\n    \r\n      for (let existingUser of existingUsers) {\r\n        const user = {\r\n          realm: AUTH_REALM_NAME,\r\n          credentials: [\r\n            {\r\n              algorithm: &#39;bcrypt&#39;,\r\n              hashedSaltedValue: existingUser.password, // the bcrypt-hashed password\r\n              hashIterations: 10,\r\n              type: &#39;password&#39;,\r\n            },\r\n          ],\r\n          email: existingUser.email,\r\n          username: existingUser.email,\r\n          emailVerified: true,\r\n          enabled: true,\r\n        };\r\n        await authClient.users.create(user);\r\n      }\r\n    };\r\n\r\n\r\n  [1]: https://www.keycloak.org/docs-api/18.0/rest-api/index.html\r\n  [2]: https://mvnrepository.com/artifact/org.keycloak/keycloak-admin-client/18.0.2\r\n  [3]: https://github.com/keycloak/keycloak-nodejs-admin-client\r\n  [4]: https://dev.to/carnewal/import-existing-users-with-bcrypt-hashed-passwords-in-keycloak-17oo","title":"Keycloak reset user password","body":"<p>You can do that with Keycloak Admin API:</p>\n<ol>\n<li><a href=\"https://www.keycloak.org/docs-api/18.0/rest-api/index.html\" rel=\"nofollow noreferrer\">Rest API</a></li>\n<li><a href=\"https://mvnrepository.com/artifact/org.keycloak/keycloak-admin-client/18.0.2\" rel=\"nofollow noreferrer\">Java Client</a>:</li>\n<li><a href=\"https://github.com/keycloak/keycloak-nodejs-admin-client\" rel=\"nofollow noreferrer\">Nodejs Client</a></li>\n</ol>\n<p>There is a nice <a href=\"https://dev.to/carnewal/import-existing-users-with-bcrypt-hashed-passwords-in-keycloak-17oo\" rel=\"nofollow noreferrer\">tutorial</a> written by Brecht Carnewal</p>\n<p>First you have to install keycloak-bcrypt and the jbcrypt library on your keycloak instance</p>\n<pre><code>KEYCLOAK_HOME=~/keycloak\n\ncurl https://repo1.maven.org/maven2/org/mindrot/jbcrypt/0.4/jbcrypt-0.4.jar &gt; jbcrypt-0.4.jar\n$KEYCLOAK_HOME/bin/jboss-cli.sh --command=&quot;module add --name=org.mindrot.jbcrypt --resources=jbcrypt-0.4.jar&quot;\n\ncurl -L https://github.com/leroyguillaume/keycloak-bcrypt/releases/download/1.2.0/keycloak-bcrypt-1.2.0.jar &gt; $KEYCLOAK_HOME/standalone/deployments/keycloak-bcrypt-1.2.0.jar\n</code></pre>\n<p>Restart Keycloak and then setup bcrypt hashing algorithm from the admin panel under Authentication -&gt; Password Policy.</p>\n<p>Write and run your script</p>\n<pre><code>import KeycloakAdminClient from 'keycloak-admin';\nconst {\n  AUTH_URL = 'http://localhost:8080/auth',\n  AUTH_REALM_NAME = 'myRealmName',\n  AUTH_ADMIN_USERNAME = 'admin',\n  AUTH_ADMIN_PASSWORD = 'admin',\n  AUTH_ADMIN_CLIENT = 'admin-cli',\n  AUTH_ADMIN_SECRET = 'jriozejrioezjriorez',\n  // ^ needed if your admin-cli client is set to confidential\n} = process.env;\n\nconst authClient = new KeycloakAdminClient({\n  baseUrl: AUTH_URL, // http://localhost:8080/auth\n  realmName: AUTH_REALM_NAME,\n});\n\nconst startMigration = async ({ database }) =&gt; {\n  await authClient.auth({\n    username: AUTH_ADMIN_USERNAME,\n    password: AUTH_ADMIN_PASSWORD,\n    clientId: AUTH_ADMIN_CLIENT, // probably admin-cli\n    // only needed if your admin client is set to confidential\n    clientSecret: AUTH_ADMIN_SECRET,\n    grantType: 'password',\n  });\n\n  const existingUsers = await database.users.find();\n\n  for (let existingUser of existingUsers) {\n    const user = {\n      realm: AUTH_REALM_NAME,\n      credentials: [\n        {\n          algorithm: 'bcrypt',\n          hashedSaltedValue: existingUser.password, // the bcrypt-hashed password\n          hashIterations: 10,\n          type: 'password',\n        },\n      ],\n      email: existingUser.email,\n      username: existingUser.email,\n      emailVerified: true,\n      enabled: true,\n    };\n    await authClient.users.create(user);\n  }\n};\n</code></pre>\n"}],"owner":{"account_id":5909904,"reputation":2554,"user_id":4650497,"accept_rate":88,"display_name":"Krzysztof Majewski"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3165,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666723957,"creation_date":1545136709,"question_id":53833200,"body_markdown":"I have a user in keycloak and I want to reset his password.\r\n\r\nThe password already exists in DB and is created via Spring&#39;s `BCryptPasswordEncoder`.\r\n\r\nThis is my new password: `$2a$10$.Y5G9KV1JCToOifuzvbZf.guYplSLnpqmNkPdD2k2IZc3wNAMpyjC`\r\n\r\nAnd this is how i try to reset existing one:\r\n\r\n    CredentialRepresentation newCreds = new CredentialRepresentation();\r\n    newCreds.setType(CredentialRepresentation.PASSWORD);\r\n    newCreds.setHashedSaltedValue(newPassword);\r\n    newCreds.setAlgorithm(&quot;bcrypt&quot;);\r\n    newCreds.setTemporary(false);\r\n\r\n    getKeycloakClient().realm(&quot;master&quot;).users().get(userId).resetPassword(newCreds);\r\n\r\nIt doesn&#39;t work. I get error: `javax.ws.rs.BadRequestException: HTTP 400 Bad Request`\r\n\r\nBut when I change it to:\r\n\r\n    CredentialRepresentation newCreds = new CredentialRepresentation();\r\n    newCreds.setType(CredentialRepresentation.PASSWORD);\r\n    newCreds.setValue(&quot;testPassword&quot;);\r\n    newCreds.setTemporary(false);\r\n\r\n    getKeycloakClient().realm(&quot;master&quot;).users().get(userId).resetPassword(newCreds);\r\n\r\nIt works fine.\r\n\r\nHow can I reset password in keycloak by using already existed password encrypted with BCrypt?\r\n\r\n\r\n**EDIT:**\r\n\r\nNow I know I have to send also salt for my password by setting `newCreds.setSalt(salt)` but there still is one problem. Keycloak accepts Base64 for this and Spring&#39;s BCryptPasswordEncoder generates values with `.` character which is not accepted in BAse64","title":"Keycloak reset user password","body":"<p>I have a user in keycloak and I want to reset his password.</p>\n\n<p>The password already exists in DB and is created via Spring's <code>BCryptPasswordEncoder</code>.</p>\n\n<p>This is my new password: <code>$2a$10$.Y5G9KV1JCToOifuzvbZf.guYplSLnpqmNkPdD2k2IZc3wNAMpyjC</code></p>\n\n<p>And this is how i try to reset existing one:</p>\n\n<pre><code>CredentialRepresentation newCreds = new CredentialRepresentation();\nnewCreds.setType(CredentialRepresentation.PASSWORD);\nnewCreds.setHashedSaltedValue(newPassword);\nnewCreds.setAlgorithm(\"bcrypt\");\nnewCreds.setTemporary(false);\n\ngetKeycloakClient().realm(\"master\").users().get(userId).resetPassword(newCreds);\n</code></pre>\n\n<p>It doesn't work. I get error: <code>javax.ws.rs.BadRequestException: HTTP 400 Bad Request</code></p>\n\n<p>But when I change it to:</p>\n\n<pre><code>CredentialRepresentation newCreds = new CredentialRepresentation();\nnewCreds.setType(CredentialRepresentation.PASSWORD);\nnewCreds.setValue(\"testPassword\");\nnewCreds.setTemporary(false);\n\ngetKeycloakClient().realm(\"master\").users().get(userId).resetPassword(newCreds);\n</code></pre>\n\n<p>It works fine.</p>\n\n<p>How can I reset password in keycloak by using already existed password encrypted with BCrypt?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Now I know I have to send also salt for my password by setting <code>newCreds.setSalt(salt)</code> but there still is one problem. Keycloak accepts Base64 for this and Spring's BCryptPasswordEncoder generates values with <code>.</code> character which is not accepted in BAse64</p>\n"},{"tags":["java","indexing","lucene","porter-stemmer"],"answers":[{"tags":[],"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666721508,"creation_date":1666721508,"answer_id":74198464,"question_id":74198065,"body_markdown":"An alternative approach is to use a custom analyzer, and then use the [`SnowballPorterFilterFactory`](https://lucene.apache.org/core/9_4_0/analysis/common/org/apache/lucene/analysis/snowball/SnowballPorterFilterFactory.html) for both index creation and for queries (and for highlighting).\r\n\r\nSo, for example, as a re-usable class, using Lucene 9.4.0:\r\n\r\n```java\r\nimport java.io.IOException;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport org.apache.lucene.analysis.Analyzer;\r\nimport org.apache.lucene.analysis.miscellaneous.ASCIIFoldingFilterFactory;\r\nimport org.apache.lucene.analysis.core.LowerCaseFilterFactory;\r\nimport org.apache.lucene.analysis.custom.CustomAnalyzer;\r\nimport org.apache.lucene.analysis.en.EnglishPossessiveFilterFactory;\r\nimport org.apache.lucene.analysis.core.StopFilterFactory;\r\nimport org.apache.lucene.analysis.snowball.SnowballPorterFilterFactory;\r\nimport org.apache.lucene.analysis.miscellaneous.KeywordRepeatFilterFactory;\r\nimport org.apache.lucene.analysis.miscellaneous.RemoveDuplicatesTokenFilterFactory;\r\nimport org.apache.lucene.analysis.standard.StandardTokenizerFactory;\r\n\r\nclass MyAnalyzer {\r\n\r\n    public Analyzer get() throws IOException {\r\n\r\n        Map&lt;String, String&gt; snowballParams = new HashMap&lt;&gt;();\r\n        snowballParams.put(&quot;language&quot;, &quot;English&quot;);\r\n\r\n        Map&lt;String, String&gt; stopMap = new HashMap&lt;&gt;();\r\n        stopMap.put(&quot;words&quot;, &quot;stopwords.txt&quot;);\r\n        stopMap.put(&quot;format&quot;, &quot;wordset&quot;);\r\n\r\n        return CustomAnalyzer.builder()\r\n                .withTokenizer(StandardTokenizerFactory.NAME)\r\n                .addTokenFilter(LowerCaseFilterFactory.NAME)\r\n                .addTokenFilter(StopFilterFactory.NAME, stopMap)\r\n                .addTokenFilter(ASCIIFoldingFilterFactory.NAME)\r\n                .addTokenFilter(EnglishPossessiveFilterFactory.NAME)\r\n                .addTokenFilter(KeywordRepeatFilterFactory.NAME)\r\n\r\n                // here is the Porter stemmer step:\r\n                .addTokenFilter(SnowballPorterFilterFactory.NAME, snowballParams)\r\n\r\n                .addTokenFilter(RemoveDuplicatesTokenFilterFactory.NAME)\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\nAt query time (and when highlighting), use the same custom analyzer.\r\n\r\nYou can obviously change which of the other filters you add/remove in the analyzer, to meet your specific needs. You do not necessarily need to use all the ones I have included in the above example.\r\n\r\n---\r\n\r\nFor highlighting, I use a custom highlighter based on [Lucene&#39;s `Highlighter`](https://lucene.apache.org/core/9_4_0/highlighter/org/apache/lucene/search/highlight/Highlighter.html), into which I also pass my custom analyzer.\r\n\r\nThis highlights the matched content of the original text - and not just the stem.\r\n","title":"In Lucene, how can I build index for stemmed text properly?","body":"<p>An alternative approach is to use a custom analyzer, and then use the <a href=\"https://lucene.apache.org/core/9_4_0/analysis/common/org/apache/lucene/analysis/snowball/SnowballPorterFilterFactory.html\" rel=\"nofollow noreferrer\"><code>SnowballPorterFilterFactory</code></a> for both index creation and for queries (and for highlighting).</p>\n<p>So, for example, as a re-usable class, using Lucene 9.4.0:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.util.HashMap;\nimport java.util.Map;\nimport org.apache.lucene.analysis.Analyzer;\nimport org.apache.lucene.analysis.miscellaneous.ASCIIFoldingFilterFactory;\nimport org.apache.lucene.analysis.core.LowerCaseFilterFactory;\nimport org.apache.lucene.analysis.custom.CustomAnalyzer;\nimport org.apache.lucene.analysis.en.EnglishPossessiveFilterFactory;\nimport org.apache.lucene.analysis.core.StopFilterFactory;\nimport org.apache.lucene.analysis.snowball.SnowballPorterFilterFactory;\nimport org.apache.lucene.analysis.miscellaneous.KeywordRepeatFilterFactory;\nimport org.apache.lucene.analysis.miscellaneous.RemoveDuplicatesTokenFilterFactory;\nimport org.apache.lucene.analysis.standard.StandardTokenizerFactory;\n\nclass MyAnalyzer {\n\n    public Analyzer get() throws IOException {\n\n        Map&lt;String, String&gt; snowballParams = new HashMap&lt;&gt;();\n        snowballParams.put(&quot;language&quot;, &quot;English&quot;);\n\n        Map&lt;String, String&gt; stopMap = new HashMap&lt;&gt;();\n        stopMap.put(&quot;words&quot;, &quot;stopwords.txt&quot;);\n        stopMap.put(&quot;format&quot;, &quot;wordset&quot;);\n\n        return CustomAnalyzer.builder()\n                .withTokenizer(StandardTokenizerFactory.NAME)\n                .addTokenFilter(LowerCaseFilterFactory.NAME)\n                .addTokenFilter(StopFilterFactory.NAME, stopMap)\n                .addTokenFilter(ASCIIFoldingFilterFactory.NAME)\n                .addTokenFilter(EnglishPossessiveFilterFactory.NAME)\n                .addTokenFilter(KeywordRepeatFilterFactory.NAME)\n\n                // here is the Porter stemmer step:\n                .addTokenFilter(SnowballPorterFilterFactory.NAME, snowballParams)\n\n                .addTokenFilter(RemoveDuplicatesTokenFilterFactory.NAME)\n                .build();\n    }\n}\n</code></pre>\n<p>At query time (and when highlighting), use the same custom analyzer.</p>\n<p>You can obviously change which of the other filters you add/remove in the analyzer, to meet your specific needs. You do not necessarily need to use all the ones I have included in the above example.</p>\n<hr />\n<p>For highlighting, I use a custom highlighter based on <a href=\"https://lucene.apache.org/core/9_4_0/highlighter/org/apache/lucene/search/highlight/Highlighter.html\" rel=\"nofollow noreferrer\">Lucene's <code>Highlighter</code></a>, into which I also pass my custom analyzer.</p>\n<p>This highlights the matched content of the original text - and not just the stem.</p>\n"}],"owner":{"account_id":26729789,"reputation":73,"user_id":20332351,"display_name":"Xuan Chen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74198464,"answer_count":1,"score":1,"last_activity_date":1666723947,"creation_date":1666719254,"question_id":74198065,"body_markdown":"I am building an index for about 1000 text files (containing titles, abstracts, paragraphs, etc) using Apache Lucene. I&#39;ve already succeeded in building indexes and querying for words that match the text files. However, when I query for the word &quot;forest&quot; for instance, it doesn&#39;t return any results containing &quot;forests&quot;.\r\n\r\nThus, I use Porter Stemming to get stemmed text and build the index for the derived text (not the original one). Also, I stem the words in the query using Porter. Here comes the problem. If I use the Highlighter in Lucene, the highlighted words that will be presented to users are the stemmed ones like &quot;abund&quot; which is expected to be the original word &quot;abundant&quot;.\r\n\r\n```java\r\n// FIXME: using Porter, however the text has already changed when building index\r\ntry {\r\n    String abstractString = TermPreprocessing.getStemmedTerms(xPath.evaluate(ABSTRACT_XPATH, XMLDocument).trim());\r\n    // Here, I use [org.tartarus.snowball.ext.PorterStemmer] to get stemmed the text\r\n    //     the [TextField] is not the original text\r\n    System.out.println(abstractString);\r\n    Field abstractField = new TextField(&quot;abstract&quot;, abstractString, Field.Store.YES);\r\n    luceneDocument.add(abstractField);\r\n} catch (Exception exception) {\r\n    exception.printStackTrace();\r\n}\r\n    // I build the index for original text, too\r\n```\r\n\r\nI build an index for both the original and the stemmed text, which, of course, nearly double the size of the index files. Still, I fail to highlight the correct words, since I query for the stemmed text, but I would like to highlight the original one. \r\n\r\n\r\n```java\r\n// This is the way I query, stemming the words first\r\npublic static void main(String[] args) throws IOException, ParseException {\r\n    // ... obtaining the directory\r\n    IndexReader indexReader = DirectoryReader.open(fsDirectory);\r\n    IndexSearcher indexSearcher = new IndexSearcher(indexReader);\r\n    StandardAnalyzer standardAnalyzer = new StandardAnalyzer();\r\n    MultiFieldQueryParser multiFieldQueryParser = new MultiFieldQueryParser(MULTI_FIELDS, standardAnalyzer);\r\n    Query query = multiFieldQueryParser.parse(getStemmedTerms(EXPRESSION)); // Here, I process the query string\r\n    TopDocs topDocs = indexSearcher.search(query, 20);\r\n\r\n    for (ScoreDoc scoreDoc : topDocs.scoreDocs) { ... }\r\n```\r\n\r\n\r\nI&#39;ve gone through some solutions on Google, however, due to Lucene version issues, they might not work. How to build index correctly if I use Porter Stemmer? Thank you very much.\r\n\r\n[![The environment and the description of the problem](https://i.stack.imgur.com/lYFdK.png)](https://i.stack.imgur.com/lYFdK.png)","title":"In Lucene, how can I build index for stemmed text properly?","body":"<p>I am building an index for about 1000 text files (containing titles, abstracts, paragraphs, etc) using Apache Lucene. I've already succeeded in building indexes and querying for words that match the text files. However, when I query for the word &quot;forest&quot; for instance, it doesn't return any results containing &quot;forests&quot;.</p>\n<p>Thus, I use Porter Stemming to get stemmed text and build the index for the derived text (not the original one). Also, I stem the words in the query using Porter. Here comes the problem. If I use the Highlighter in Lucene, the highlighted words that will be presented to users are the stemmed ones like &quot;abund&quot; which is expected to be the original word &quot;abundant&quot;.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// FIXME: using Porter, however the text has already changed when building index\ntry {\n    String abstractString = TermPreprocessing.getStemmedTerms(xPath.evaluate(ABSTRACT_XPATH, XMLDocument).trim());\n    // Here, I use [org.tartarus.snowball.ext.PorterStemmer] to get stemmed the text\n    //     the [TextField] is not the original text\n    System.out.println(abstractString);\n    Field abstractField = new TextField(&quot;abstract&quot;, abstractString, Field.Store.YES);\n    luceneDocument.add(abstractField);\n} catch (Exception exception) {\n    exception.printStackTrace();\n}\n    // I build the index for original text, too\n</code></pre>\n<p>I build an index for both the original and the stemmed text, which, of course, nearly double the size of the index files. Still, I fail to highlight the correct words, since I query for the stemmed text, but I would like to highlight the original one.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// This is the way I query, stemming the words first\npublic static void main(String[] args) throws IOException, ParseException {\n    // ... obtaining the directory\n    IndexReader indexReader = DirectoryReader.open(fsDirectory);\n    IndexSearcher indexSearcher = new IndexSearcher(indexReader);\n    StandardAnalyzer standardAnalyzer = new StandardAnalyzer();\n    MultiFieldQueryParser multiFieldQueryParser = new MultiFieldQueryParser(MULTI_FIELDS, standardAnalyzer);\n    Query query = multiFieldQueryParser.parse(getStemmedTerms(EXPRESSION)); // Here, I process the query string\n    TopDocs topDocs = indexSearcher.search(query, 20);\n\n    for (ScoreDoc scoreDoc : topDocs.scoreDocs) { ... }\n</code></pre>\n<p>I've gone through some solutions on Google, however, due to Lucene version issues, they might not work. How to build index correctly if I use Porter Stemmer? Thank you very much.</p>\n<p><a href=\"https://i.stack.imgur.com/lYFdK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lYFdK.png\" alt=\"The environment and the description of the problem\" /></a></p>\n"},{"tags":["java","google-play","android-auto"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1666387248,"post_id":74159149,"comment_id":130933492,"body_markdown":"Sounds like a good question to ask on the [official github repository of android auto](https://github.com/google/android-auto-companion-android).","body":"Sounds like a good question to ask on the <a href=\"https://github.com/google/android-auto-companion-android\" rel=\"nofollow noreferrer\">official github repository of android auto</a>."},{"owner":{"account_id":17571005,"reputation":160,"user_id":12746725,"display_name":"Alejandro Gomez"},"score":0,"creation_date":1666723759,"post_id":74159149,"comment_id":131002903,"body_markdown":"recommended site is for Android Automotive OS, not for Android Auto for cars","body":"recommended site is for Android Automotive OS, not for Android Auto for cars"}],"owner":{"account_id":17571005,"reputation":160,"user_id":12746725,"display_name":"Alejandro Gomez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666723805,"creation_date":1666386389,"question_id":74159149,"body_markdown":"I&#39;m working on `android auto` (**not for** Android Automotive OS). The app runs on `DHU` but publishing in Google Play was rejected:\r\n\r\nReason: application asks for an update which prevents testing of functionality in the Android Auto environment.\r\n\r\nDon&#39;t know what that means.\r\nDoes anyone know what&#39;s to do?\r\n\r\nThanks,\r\nAlejandro","title":"Android Auto: What means - application asks for an update which prevents testing of functionality in the Android Auto environment","body":"<p>I'm working on <code>android auto</code> (<strong>not for</strong> Android Automotive OS). The app runs on <code>DHU</code> but publishing in Google Play was rejected:</p>\n<p>Reason: application asks for an update which prevents testing of functionality in the Android Auto environment.</p>\n<p>Don't know what that means.\nDoes anyone know what's to do?</p>\n<p>Thanks,\nAlejandro</p>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":15027027,"reputation":711,"user_id":10846501,"display_name":"Maleehak"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1610199610,"creation_date":1610199610,"answer_id":65643318,"question_id":65643300,"body_markdown":"***Click File -&gt; Synchronize***, and IntelliJ should see that everything is okay again.\r\n\r\nIf that doesn&#39;t work, IntelliJ&#39;s caches might be corrupt.\r\n\r\n***Clicking File -&gt; Invalidate Caches*** and restarting the IDE\r\n[Src](https://stackoverflow.com/questions/11632120/why-so-red-intellij-seems-to-think-every-declaration-method-cannot-be-found-res)\r\n","title":"Why are my classes marked in red in IntelliJ IDEA","body":"<p><em><strong>Click File -&gt; Synchronize</strong></em>, and IntelliJ should see that everything is okay again.</p>\n<p>If that doesn't work, IntelliJ's caches might be corrupt.</p>\n<p><em><strong>Clicking File -&gt; Invalidate Caches</strong></em> and restarting the IDE\n<a href=\"https://stackoverflow.com/questions/11632120/why-so-red-intellij-seems-to-think-every-declaration-method-cannot-be-found-res\">Src</a></p>\n"},{"tags":[],"owner":{"account_id":6482269,"reputation":13098,"user_id":5024726,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1610200586,"creation_date":1610200188,"answer_id":65643404,"question_id":65643300,"body_markdown":"It means that the files exist locally, but are not in the repository, and are not scheduled for addition. With other words, **the files are not under version control**. There is not really a problem since the files can just be added to the VCS if desired. This can be done using **Add to VCS** from the context menu or the shortcut &lt;kbd&gt;A&lt;/kbd&gt; (Mac) or &lt;kbd&gt;Ctrl+Alt+A&lt;/kbd&gt; (Windows).\r\n\r\nSee [File Status Highlights][2] in the official documentation of IntelliJ IDEA for other colours and their respective meaning. See [Manage files under version control][1] for how to put the files under version control. \r\n\r\n  [1]: https://www.jetbrains.com/help/idea/adding-files-to-version-control.html\r\n  [2]: https://www.jetbrains.com/help/idea/file-status-highlights.html","title":"Why are my classes marked in red in IntelliJ IDEA","body":"<p>It means that the files exist locally, but are not in the repository, and are not scheduled for addition. With other words, <strong>the files are not under version control</strong>. There is not really a problem since the files can just be added to the VCS if desired. This can be done using <strong>Add to VCS</strong> from the context menu or the shortcut <kbd>A</kbd> (Mac) or <kbd>Ctrl+Alt+A</kbd> (Windows).</p>\n<p>See <a href=\"https://www.jetbrains.com/help/idea/file-status-highlights.html\" rel=\"noreferrer\">File Status Highlights</a> in the official documentation of IntelliJ IDEA for other colours and their respective meaning. See <a href=\"https://www.jetbrains.com/help/idea/adding-files-to-version-control.html\" rel=\"noreferrer\">Manage files under version control</a> for how to put the files under version control.</p>\n"},{"tags":[],"owner":{"account_id":348818,"reputation":12356,"user_id":683735,"accept_rate":100,"display_name":"Konstantin Pribluda"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1610200411,"creation_date":1610200411,"answer_id":65643439,"question_id":65643300,"body_markdown":"They are not added to version control repository.    Select them,  and then CTRL-ALT-A   ( or menu via right click )  will add them.  Green means there are changes needed to commit\r\n","title":"Why are my classes marked in red in IntelliJ IDEA","body":"<p>They are not added to version control repository.    Select them,  and then CTRL-ALT-A   ( or menu via right click )  will add them.  Green means there are changes needed to commit</p>\n"},{"tags":[],"owner":{"account_id":428306,"reputation":1151,"user_id":810546,"accept_rate":0,"display_name":"WebComer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666723484,"creation_date":1666662351,"answer_id":74188359,"question_id":65643300,"body_markdown":"Sometimes files are being marked as red because of **inconsistence in project settings and build files**. \r\nRecently I&#39;ve checked out some project. The project look well and compile well, but all class names in the code were red.\r\nThe IDE felt well all the modules paths and even hinted class names, which on been agreed turn red immediately.\r\n\r\nWhen inspected, the ant build model was set to the 1.8 language level, while the default **ide module setting** was 14.\r\nWhen I set module language setting level to 8, all the red highlight disappeared.\r\nSo I believe ***language level to be checked to match everywhere in your project***.","title":"Why are my classes marked in red in IntelliJ IDEA","body":"<p>Sometimes files are being marked as red because of <strong>inconsistence in project settings and build files</strong>.\nRecently I've checked out some project. The project look well and compile well, but all class names in the code were red.\nThe IDE felt well all the modules paths and even hinted class names, which on been agreed turn red immediately.</p>\n<p>When inspected, the ant build model was set to the 1.8 language level, while the default <strong>ide module setting</strong> was 14.\nWhen I set module language setting level to 8, all the red highlight disappeared.\nSo I believe <em><strong>language level to be checked to match everywhere in your project</strong></em>.</p>\n"}],"owner":{"account_id":20042089,"reputation":211,"user_id":14692626,"display_name":"nabayram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37888,"favorite_count":0,"down_vote_count":2,"up_vote_count":18,"accepted_answer_id":65643404,"answer_count":4,"score":16,"last_activity_date":1666723484,"creation_date":1610199407,"question_id":65643300,"body_markdown":"I have some Java classes which are marked in red in project view, but IntelliJ IDEA shows no errors and it can run properly. What can be the problem?\r\n\r\n[![screenshot][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/D9ryX.png","title":"Why are my classes marked in red in IntelliJ IDEA","body":"<p>I have some Java classes which are marked in red in project view, but IntelliJ IDEA shows no errors and it can run properly. What can be the problem?</p>\n<p><a href=\"https://i.stack.imgur.com/D9ryX.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/D9ryX.png\" alt=\"screenshot\" /></a></p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":2,"creation_date":1666723096,"post_id":74198682,"comment_id":131002704,"body_markdown":"`Maven home: /opt/maven` vs. `Maven home: /usr/share/maven`!? (&gt;privilged user&#39;s $path is different;)","body":"<code>Maven home: &#47;opt&#47;maven</code> vs. <code>Maven home: &#47;usr&#47;share&#47;maven</code>!? (&gt;privilged user&#39;s $path is different;)"},{"owner":{"account_id":18932969,"reputation":131,"user_id":13814708,"display_name":"Rohail Iqbal"},"score":0,"creation_date":1666723343,"post_id":74198682,"comment_id":131002782,"body_markdown":"/opt/maven is where i the downloaded maven manually","body":"/opt/maven is where i the downloaded maven manually"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1666723391,"post_id":74198682,"comment_id":131002795,"body_markdown":"[How to keep environment variables when using sudo](https://stackoverflow.com/q/8633461/592355)","body":"<a href=\"https://stackoverflow.com/q/8633461/592355\">How to keep environment variables when using sudo</a>"},{"owner":{"account_id":18932969,"reputation":131,"user_id":13814708,"display_name":"Rohail Iqbal"},"score":0,"creation_date":1666723640,"post_id":74198682,"comment_id":131002864,"body_markdown":"sudo ln -s /opt/apache-maven-3.8.4 /opt/maven","body":"sudo ln -s /opt/apache-maven-3.8.4 /opt/maven"},{"owner":{"account_id":18932969,"reputation":131,"user_id":13814708,"display_name":"Rohail Iqbal"},"score":0,"creation_date":1666723655,"post_id":74198682,"comment_id":131002871,"body_markdown":"sudo nano /etc/profile.d/maven.sh","body":"sudo nano /etc/profile.d/maven.sh"},{"owner":{"account_id":18932969,"reputation":131,"user_id":13814708,"display_name":"Rohail Iqbal"},"score":0,"creation_date":1666723705,"post_id":74198682,"comment_id":131002884,"body_markdown":"after this i added the following in maven,sh\n\nexport JAVA_HOME=/usr/lib/jvm/default-java\nexport M2_HOME=/opt/maven\nexport MAVEN_HOME=/opt/maven\nexport PATH=${M2_HOME}/bin:${PATH}","body":"after this i added the following in maven,sh  export JAVA_HOME=/usr/lib/jvm/default-java export M2_HOME=/opt/maven export MAVEN_HOME=/opt/maven export PATH=${M2_HOME}/bin:${PATH}"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666775217,"post_id":74198682,"comment_id":131013783,"body_markdown":"`[sudo?] visudo` ... ?","body":"<code>[sudo?] visudo</code> ... ?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666775233,"post_id":74198682,"comment_id":131013790,"body_markdown":"Does this answer your question? [How to keep environment variables when using sudo](https://stackoverflow.com/questions/8633461/how-to-keep-environment-variables-when-using-sudo)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/8633461/how-to-keep-environment-variables-when-using-sudo\">How to keep environment variables when using sudo</a>"}],"owner":{"account_id":18932969,"reputation":131,"user_id":13814708,"display_name":"Rohail Iqbal"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666723253,"creation_date":1666722862,"question_id":74198682,"body_markdown":"When i did mvn --version it shows me version is 3.8.6\r\n```\r\nrohail@rohail-machine:/media/rohail/hard hdd1/http-request-plugin-master$ mvn --version\r\nApache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\r\nMaven home: /opt/maven\r\nJava version: 11.0.16, vendor: Ubuntu, runtime: /usr/lib/jvm/java-11-openjdk-amd64\r\nDefault locale: en_US, platform encoding: UTF-8\r\nOS name: &quot;linux&quot;, version: &quot;5.15.0-48-generic&quot;, arch: &quot;amd64&quot;, family: &quot;UNIX&quot;\r\n```\r\n\r\nWhen I did sudo mvn --version it shows me version is 3.6.3\r\n```\r\n\r\nrohail@rohail-machine:/media/rohail/hard hdd1/http-request-plugin-master$ sudo mvn --version\r\n[sudo] password for rohail: \r\nApache Maven 3.6.3\r\nMaven home: /usr/share/maven\r\nJava version: 11.0.16, vendor: Ubuntu, runtime: /usr/lib/jvm/java-11-openjdk-amd64\r\nDefault locale: en_US, platform encoding: UTF-8\r\nOS name: &quot;linux&quot;, version: &quot;5.15.0-48-generic&quot;, arch: &quot;amd64&quot;, family: &quot;UNIX&quot;\r\n```\r\nI want the latest version of maven to be installed, I tried to remove the older one but failed to do so.\r\n\r\n[![This is the terminal image][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IcUcn.png","title":"sudo mvn --version and mvn --version shows different versions","body":"<p>When i did mvn --version it shows me version is 3.8.6</p>\n<pre><code>rohail@rohail-machine:/media/rohail/hard hdd1/http-request-plugin-master$ mvn --version\nApache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\nMaven home: /opt/maven\nJava version: 11.0.16, vendor: Ubuntu, runtime: /usr/lib/jvm/java-11-openjdk-amd64\nDefault locale: en_US, platform encoding: UTF-8\nOS name: &quot;linux&quot;, version: &quot;5.15.0-48-generic&quot;, arch: &quot;amd64&quot;, family: &quot;UNIX&quot;\n</code></pre>\n<p>When I did sudo mvn --version it shows me version is 3.6.3</p>\n<pre><code>\nrohail@rohail-machine:/media/rohail/hard hdd1/http-request-plugin-master$ sudo mvn --version\n[sudo] password for rohail: \nApache Maven 3.6.3\nMaven home: /usr/share/maven\nJava version: 11.0.16, vendor: Ubuntu, runtime: /usr/lib/jvm/java-11-openjdk-amd64\nDefault locale: en_US, platform encoding: UTF-8\nOS name: &quot;linux&quot;, version: &quot;5.15.0-48-generic&quot;, arch: &quot;amd64&quot;, family: &quot;UNIX&quot;\n</code></pre>\n<p>I want the latest version of maven to be installed, I tried to remove the older one but failed to do so.</p>\n<p><a href=\"https://i.stack.imgur.com/IcUcn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IcUcn.png\" alt=\"This is the terminal image\" /></a></p>\n"},{"tags":["java","replit"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1666722885,"post_id":74198664,"comment_id":131002644,"body_markdown":"Did you forget to post the error message?","body":"Did you forget to post the error message?"},{"owner":{"account_id":26294350,"reputation":1,"user_id":19960860,"display_name":"Tatiana L-H"},"score":0,"creation_date":1666722966,"post_id":74198664,"comment_id":131002663,"body_markdown":"No? It&#39;s this : java -classpath .:target/dependency/* Main\nHello world!","body":"No? It&#39;s this : java -classpath .:target/dependency/* Main Hello world!"},{"owner":{"account_id":3760875,"reputation":1756,"user_id":3125916,"accept_rate":69,"display_name":"rodit"},"score":0,"creation_date":1666723021,"post_id":74198664,"comment_id":131002687,"body_markdown":"Replit requires your class to be called Main not Somme.","body":"Replit requires your class to be called Main not Somme."},{"owner":{"account_id":26294350,"reputation":1,"user_id":19960860,"display_name":"Tatiana L-H"},"score":0,"creation_date":1666723086,"post_id":74198664,"comment_id":131002701,"body_markdown":"Omg! It work! Thank you! I will know now for the future.","body":"Omg! It work! Thank you! I will know now for the future."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1666723112,"post_id":74198664,"comment_id":131002708,"body_markdown":"That&#39;s not an error message. That just looks like Repl.it running another class, `Main` (not `Somme`), and producing the output `Hello world!`.","body":"That&#39;s not an error message. That just looks like Repl.it running another class, <code>Main</code> (not <code>Somme</code>), and producing the output <code>Hello world!</code>."},{"owner":{"account_id":26294350,"reputation":1,"user_id":19960860,"display_name":"Tatiana L-H"},"score":0,"creation_date":1666723324,"post_id":74198664,"comment_id":131002776,"body_markdown":"Now that I work, I see that it was there anyway, I thought it was the error. Thank you for your time!","body":"Now that I work, I see that it was there anyway, I thought it was the error. Thank you for your time!"}],"owner":{"account_id":26294350,"reputation":1,"user_id":19960860,"display_name":"Tatiana L-H"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666722784,"creation_date":1666722784,"question_id":74198664,"body_markdown":"So while searching the error message I had when running my code, it talked about target class reference, here is the error message: (I use replit and am writing in java)\r\n\r\n```\r\n java -classpath .:target/dependency/* Main\r\nHello world!\r\n```\r\n\r\nHere is the code:\r\n\r\n```\r\nclass Somme { \r\n  public static void main(String[] args) {\r\n    long somme = 0;\r\nfor(long i = 0; i &lt;= 10000; i++) {\r\n  if ((i/100)%10 != 3 &amp;&amp; (i/100)%10 != 2 &amp;&amp; i%3 != 0); { \r\n    somme = somme + i ;\r\n}\r\n}\r\nSystem.out.println (somme);\r\n  }\r\n}\r\n```\r\n\r\nI don&#39;t reference anything but the variable &#39;somme&#39; and &#39;i&#39;, so I don&#39;t understand how I can have a reference error message. This is a standalone code and in my research, the error message seemed to talk about when you have more than one files for a project. Am I wrong? Any push in the right direction is appreciated. I am clearly confuse, but don&#39;t know what I am confused about.\r\n\r\nI saw [this](https://stackoverflow.com/questions/12048675/deploy-java-on-heroku-cannot-find-main-class-in-target-dependency) user that had the same error message as me. However their problem seemed to be because of multiple files. I did not saw other explanation that seemed to fit with my code.","title":"How can there be a target class problem, when there is no class reference?","body":"<p>So while searching the error message I had when running my code, it talked about target class reference, here is the error message: (I use replit and am writing in java)</p>\n<pre><code> java -classpath .:target/dependency/* Main\nHello world!\n</code></pre>\n<p>Here is the code:</p>\n<pre><code>class Somme { \n  public static void main(String[] args) {\n    long somme = 0;\nfor(long i = 0; i &lt;= 10000; i++) {\n  if ((i/100)%10 != 3 &amp;&amp; (i/100)%10 != 2 &amp;&amp; i%3 != 0); { \n    somme = somme + i ;\n}\n}\nSystem.out.println (somme);\n  }\n}\n</code></pre>\n<p>I don't reference anything but the variable 'somme' and 'i', so I don't understand how I can have a reference error message. This is a standalone code and in my research, the error message seemed to talk about when you have more than one files for a project. Am I wrong? Any push in the right direction is appreciated. I am clearly confuse, but don't know what I am confused about.</p>\n<p>I saw <a href=\"https://stackoverflow.com/questions/12048675/deploy-java-on-heroku-cannot-find-main-class-in-target-dependency\">this</a> user that had the same error message as me. However their problem seemed to be because of multiple files. I did not saw other explanation that seemed to fit with my code.</p>\n"},{"tags":["java","spring","caching","redis","ttl"],"owner":{"account_id":17113942,"reputation":623,"user_id":12383992,"display_name":"dbrewster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1666722644,"creation_date":1666721764,"question_id":74198513,"body_markdown":"I am working on a bug for a Spring service that uses Redis to cache the results of a query for 30 minutes. *The TTL should **only** be set when it is first saved in the cache and the time should NOT be renewed by subsequent queries.* This is the default behavior for Redis.\r\n\r\nAnd yet I have found that the source of the bug is that every call to the cache renews the TTL. It is particularly puzzling that the default behavior is not being implemented because there is remarkably little Redis configuration in the project. \r\n\r\nThe only Redis configuration is in the Pojo being cached which is annotated with - \r\n\r\n```@RedisHash(value = &quot;POJO_NAME&quot;, timeToLive = 1800)```\r\n\r\nThe only other Redis config are some values set in the application.yml\r\n```\r\nredis:\r\n    service:\r\n      name: project-cache\r\n    host: localhost\r\n    port: 6379\r\n    jedis:\r\n      pool:\r\n        max-total: 16\r\n        max-idle: 8\r\n        min-idle: 4\r\n    timeout: 250\r\n```\r\n\r\nHere is the pom.xml\r\n\r\n```\r\n &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;it.ozimov&lt;/groupId&gt;\r\n      &lt;artifactId&gt;embedded-redis&lt;/artifactId&gt;\r\n      &lt;version&gt;0.7.2&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n          &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n","title":"How to prevent Redis TTL from renewing?","body":"<p>I am working on a bug for a Spring service that uses Redis to cache the results of a query for 30 minutes. <em>The TTL should <strong>only</strong> be set when it is first saved in the cache and the time should NOT be renewed by subsequent queries.</em> This is the default behavior for Redis.</p>\n<p>And yet I have found that the source of the bug is that every call to the cache renews the TTL. It is particularly puzzling that the default behavior is not being implemented because there is remarkably little Redis configuration in the project.</p>\n<p>The only Redis configuration is in the Pojo being cached which is annotated with -</p>\n<p><code>@RedisHash(value = &quot;POJO_NAME&quot;, timeToLive = 1800)</code></p>\n<p>The only other Redis config are some values set in the application.yml</p>\n<pre><code>redis:\n    service:\n      name: project-cache\n    host: localhost\n    port: 6379\n    jedis:\n      pool:\n        max-total: 16\n        max-idle: 8\n        min-idle: 4\n    timeout: 250\n</code></pre>\n<p>Here is the pom.xml</p>\n<pre><code> &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n      &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;it.ozimov&lt;/groupId&gt;\n      &lt;artifactId&gt;embedded-redis&lt;/artifactId&gt;\n      &lt;version&gt;0.7.2&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n          &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n          &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":16673497,"reputation":2011,"user_id":12050506,"display_name":"possum"},"score":0,"creation_date":1666690898,"post_id":74191403,"comment_id":130991562,"body_markdown":"This question currently includes multiple questions in one. It should focus on one problem only.","body":"This question currently includes multiple questions in one. It should focus on one problem only."},{"owner":{"account_id":2634374,"reputation":2142,"user_id":2279490,"accept_rate":78,"display_name":"obecker"},"score":0,"creation_date":1666708368,"post_id":74191403,"comment_id":130997748,"body_markdown":"Maybe I wasn&#39;t clear. I have rephrased the main question. And what&#39;s the problem with having an additional question on the same topic?","body":"Maybe I wasn&#39;t clear. I have rephrased the main question. And what&#39;s the problem with having an additional question on the same topic?"},{"owner":{"account_id":16673497,"reputation":2011,"user_id":12050506,"display_name":"possum"},"score":0,"creation_date":1666717571,"post_id":74191403,"comment_id":131001115,"body_markdown":"There should be *one* question.  No one can definitively answer this until that change is made.","body":"There should be <i>one</i> question.  No one can definitively answer this until that change is made."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1666722320,"post_id":74191403,"comment_id":131002497,"body_markdown":"@possum Each of the questions are related to one another. And they can be answered together.","body":"@possum Each of the questions are related to one another. And they can be answered together."}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666722415,"creation_date":1666712246,"answer_id":74196675,"question_id":74191403,"body_markdown":"It refers to the fact that you&#39;d first poll up to `max.poll.records` (default 500), and then be in the middle of processing those, and regardless of committing, you will modify where the next poll will happen. Meaning, you could skip records, i.e. lose records (seek forward), or eventually cause duplicate processing (seek backward). \r\n\r\nIdeally, you&#39;d break any loop over the consumed records, `commitSync()` with what you have processed (or not if seeking backwards), call `consumer.pause()`, and **then** `seek`. Or yes, seek (and commit the seeked offsets) before you poll. \r\n\r\nIf you do not pause/stop the consumer, then it&#39;s possible the consumer will rebalance while seeking since `max.poll.interval.ms` could be exceeded. ","title":"Understanding KafkaConsumer seek","body":"<p>It refers to the fact that you'd first poll up to <code>max.poll.records</code> (default 500), and then be in the middle of processing those, and regardless of committing, you will modify where the next poll will happen. Meaning, you could skip records, i.e. lose records (seek forward), or eventually cause duplicate processing (seek backward).</p>\n<p>Ideally, you'd break any loop over the consumed records, <code>commitSync()</code> with what you have processed (or not if seeking backwards), call <code>consumer.pause()</code>, and <strong>then</strong> <code>seek</code>. Or yes, seek (and commit the seeked offsets) before you poll.</p>\n<p>If you do not pause/stop the consumer, then it's possible the consumer will rebalance while seeking since <code>max.poll.interval.ms</code> could be exceeded.</p>\n"}],"owner":{"account_id":2634374,"reputation":2142,"user_id":2279490,"accept_rate":78,"display_name":"obecker"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":399,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74196675,"answer_count":1,"score":0,"last_activity_date":1666722415,"creation_date":1666687693,"question_id":74191403,"body_markdown":"The method [seek()][1] in the KafkaConsumer class has this javadoc comment:\r\n\r\n&gt; Overrides the fetch offsets that the consumer will use on the next poll(timeout). If this API is invoked for the same partition more than once, the latest offset will be used on the next poll(). **Note that you may lose data if this API is arbitrarily used in the middle of consumption**, to reset the fetch offsets\r\n\r\nI wonder what is meant by &quot;in the middle of consumption&quot;? Does it mean I can&#39;t safely call seek in a poll loop and should I do it only *before* the first poll? Moreover, what happens when invoking seek followed by a commitAsync() or commitSync()? Will the seek position be committed?\r\n\r\nThanks for clarification!\r\n\r\n  [1]: https://kafka.apache.org/33/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html#seek-org.apache.kafka.common.TopicPartition-long-","title":"Understanding KafkaConsumer seek","body":"<p>The method <a href=\"https://kafka.apache.org/33/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html#seek-org.apache.kafka.common.TopicPartition-long-\" rel=\"nofollow noreferrer\">seek()</a> in the KafkaConsumer class has this javadoc comment:</p>\n<blockquote>\n<p>Overrides the fetch offsets that the consumer will use on the next poll(timeout). If this API is invoked for the same partition more than once, the latest offset will be used on the next poll(). <strong>Note that you may lose data if this API is arbitrarily used in the middle of consumption</strong>, to reset the fetch offsets</p>\n</blockquote>\n<p>I wonder what is meant by &quot;in the middle of consumption&quot;? Does it mean I can't safely call seek in a poll loop and should I do it only <em>before</em> the first poll? Moreover, what happens when invoking seek followed by a commitAsync() or commitSync()? Will the seek position be committed?</p>\n<p>Thanks for clarification!</p>\n"},{"tags":["java","android","android-webview","darkmode"],"owner":{"account_id":8364667,"reputation":122,"user_id":6281778,"accept_rate":80,"display_name":"Rafail Antoniadis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":796,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666722373,"creation_date":1666706714,"question_id":74195371,"body_markdown":"I made a webview app and disable Dark Mode with the following:\r\n\r\n     WebSettingsCompat.setForceDark(settings, WebSettingsCompat.FORCE_DARK_OFF);\r\n\r\nThe problem starts when I changed to targetSdk 33. This method is deprecated and I tried the following:\r\n\r\n    if (SDK_INT &gt;= 33) {\r\n            if (WebViewFeature.isFeatureSupported(WebViewFeature.ALGORITHMIC_DARKENING)) {\r\n                WebSettingsCompat.setAlgorithmicDarkeningAllowed(settings, false);\r\n            }\r\n        }else{\r\n            if (WebViewFeature.isFeatureSupported(WebViewFeature.FORCE_DARK)) {\r\n                WebSettingsCompat.setForceDark(settings, WebSettingsCompat.FORCE_DARK_OFF);\r\n            }\r\n        }\r\nAfter this I installed the app in my phone (Xiaomi Redmi 8T) and dark mode destroyed my app. \r\n\r\nAfter that I tried a lot of things that I found here but nothing worked. \r\n\r\n- I tried to copy themes.xml to dark/themes.xml\r\n\r\n- I tried to add this to onCreate:\r\n\r\n`AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);`\r\n- I tried to add this on themes.xml\r\n\r\n    `&lt;item name=&quot;android:forceDarkAllowed&quot; tools:targetApi=&quot;q&quot;&gt;false&lt;/item&gt;`\r\n\r\n- I tried to change \r\nTheme.MaterialComponents.DayNight.DarkActionBar to Theme.MaterialComponents.Light.DarkActionBar\r\n\r\n- I tried all of them together\r\n\r\nBut nothing worked... \r\nWhy is so difficult to add just a simple choice for disabling Dark Mode.\r\n\r\n\r\n\r\n**UPDATE**\r\n\r\nI have problem with dark mode on my phone but the app worked perfect on android studio emulator. \r\n\r\nAfter that I realized that there is a problem on MIUI (Xiaomi) and found a solution here:\r\nSo I tried to find a solution and finally I found one here:\r\nhttps://stackoverflow.com/a/66640823/6281778","title":"How to disable dark mode on Android Api 33","body":"<p>I made a webview app and disable Dark Mode with the following:</p>\n<pre><code> WebSettingsCompat.setForceDark(settings, WebSettingsCompat.FORCE_DARK_OFF);\n</code></pre>\n<p>The problem starts when I changed to targetSdk 33. This method is deprecated and I tried the following:</p>\n<pre><code>if (SDK_INT &gt;= 33) {\n        if (WebViewFeature.isFeatureSupported(WebViewFeature.ALGORITHMIC_DARKENING)) {\n            WebSettingsCompat.setAlgorithmicDarkeningAllowed(settings, false);\n        }\n    }else{\n        if (WebViewFeature.isFeatureSupported(WebViewFeature.FORCE_DARK)) {\n            WebSettingsCompat.setForceDark(settings, WebSettingsCompat.FORCE_DARK_OFF);\n        }\n    }\n</code></pre>\n<p>After this I installed the app in my phone (Xiaomi Redmi 8T) and dark mode destroyed my app.</p>\n<p>After that I tried a lot of things that I found here but nothing worked.</p>\n<ul>\n<li><p>I tried to copy themes.xml to dark/themes.xml</p>\n</li>\n<li><p>I tried to add this to onCreate:</p>\n</li>\n</ul>\n<p><code>AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);</code></p>\n<ul>\n<li><p>I tried to add this on themes.xml</p>\n<p><code>&lt;item name=&quot;android:forceDarkAllowed&quot; tools:targetApi=&quot;q&quot;&gt;false&lt;/item&gt;</code></p>\n</li>\n<li><p>I tried to change\nTheme.MaterialComponents.DayNight.DarkActionBar to Theme.MaterialComponents.Light.DarkActionBar</p>\n</li>\n<li><p>I tried all of them together</p>\n</li>\n</ul>\n<p>But nothing worked...\nWhy is so difficult to add just a simple choice for disabling Dark Mode.</p>\n<p><strong>UPDATE</strong></p>\n<p>I have problem with dark mode on my phone but the app worked perfect on android studio emulator.</p>\n<p>After that I realized that there is a problem on MIUI (Xiaomi) and found a solution here:\nSo I tried to find a solution and finally I found one here:\n<a href=\"https://stackoverflow.com/a/66640823/6281778\">https://stackoverflow.com/a/66640823/6281778</a></p>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":1,"creation_date":1666721538,"post_id":74198420,"comment_id":131002265,"body_markdown":"You can pass a String to makeStairs initially equals to , and in each recursive call add a space, then you have to print first this string and then |_. And you have to first print and then make the recursive call","body":"You can pass a String to makeStairs initially equals to , and in each recursive call add a space, then you have to print first this string and then |_. And you have to first print and then make the recursive call"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1666721807,"post_id":74198420,"comment_id":131002335,"body_markdown":"Your `int steps` parameter is being used only to limit the depth of the recursion. In addition to that, use it to determine how far to indent.","body":"Your <code>int steps</code> parameter is being used only to limit the depth of the recursion. In addition to that, use it to determine how far to indent."}],"answers":[{"tags":[],"owner":{"account_id":1912109,"reputation":757,"user_id":1725647,"accept_rate":73,"display_name":"Sameer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666721731,"creation_date":1666721731,"answer_id":74198508,"question_id":74198420,"body_markdown":"You are just trying to call make steps recursively, but within each recursion, you need to print whitespace, and since you are printing while you are exiting the recursion, you may want to do some math to determine the number of blanks to print.\r\nLooks like a homework problem so wont give the full solution here.","title":"How to make increasing indentations in each line before some text using recursion in java?","body":"<p>You are just trying to call make steps recursively, but within each recursion, you need to print whitespace, and since you are printing while you are exiting the recursion, you may want to do some math to determine the number of blanks to print.\nLooks like a homework problem so wont give the full solution here.</p>\n"},{"tags":[],"owner":{"account_id":26493810,"reputation":323,"user_id":20131874,"display_name":"mmartinez04"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666722343,"creation_date":1666722343,"answer_id":74198589,"question_id":74198420,"body_markdown":"You can solve this easily by printing some blank spaces `  ` immediately before printing the step itself `|_`\r\n\r\nThe number of spaces `  ` will be equal to the value `steps`\r\n\r\n*Keep in mind that each space is actually 2 spaces*\r\n\r\nSo, you can use a for loop as follows\r\n\r\n    for (int i = 1; i &lt; steps; i++){\r\n        System.out.print(&quot;  &quot;);\r\n    }\r\n\r\nPlace this between `makeStairs(steps - 1);` and your `printf` statement\r\n\r\n**Output**\r\n\r\n    |_\r\n      |_\r\n        |_\r\n          |_","title":"How to make increasing indentations in each line before some text using recursion in java?","body":"<p>You can solve this easily by printing some blank spaces <code>  </code> immediately before printing the step itself <code>|_</code></p>\n<p>The number of spaces <code>  </code> will be equal to the value <code>steps</code></p>\n<p><em>Keep in mind that each space is actually 2 spaces</em></p>\n<p>So, you can use a for loop as follows</p>\n<pre><code>for (int i = 1; i &lt; steps; i++){\n    System.out.print(&quot;  &quot;);\n}\n</code></pre>\n<p>Place this between <code>makeStairs(steps - 1);</code> and your <code>printf</code> statement</p>\n<p><strong>Output</strong></p>\n<pre><code>|_\n  |_\n    |_\n      |_\n</code></pre>\n"}],"owner":{"account_id":26576062,"reputation":1,"user_id":20201440,"display_name":"yaboyHA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1666722343,"creation_date":1666721271,"question_id":74198420,"body_markdown":"I&#39;m new to recursive methods. I am trying to create a simple JAVA program that creates a number of steps using this symbol |\\_ depending on the input. each recursion is supposed to print |\\_ then proceed to the next line and print |\\_ slightly further than the previous one creating a stair-like structure.\r\n\r\n```\r\n public static void main(String[] args) {\r\n\r\n        makeStairs(4); // invoking the method\r\n\r\n    }\r\n\r\n    private static void makeStairs(int steps) {\r\n\r\n        int numstp = 0;\r\n        if (steps &gt; 0) {\r\n\r\n            if (numstp != steps) {\r\n                makeStairs(steps - 1);\r\n                System.out.printf(&quot;|_\\n&quot;);\r\n\r\n            }\r\n        }\r\n\r\n    }\r\n```\r\n\r\nthe output that I&#39;m looking for:\r\n\r\n```\r\n|_\r\n  |_\r\n    |_\r\n      |_\r\n```\r\n\r\nthe output I have:\r\n\r\n```\r\n|_\r\n|_   \r\n|_\r\n|_\r\n```\r\n\r\nHelp would be highly appreciated.","title":"How to make increasing indentations in each line before some text using recursion in java?","body":"<p>I'm new to recursive methods. I am trying to create a simple JAVA program that creates a number of steps using this symbol |_ depending on the input. each recursion is supposed to print |_ then proceed to the next line and print |_ slightly further than the previous one creating a stair-like structure.</p>\n<pre><code> public static void main(String[] args) {\n\n        makeStairs(4); // invoking the method\n\n    }\n\n    private static void makeStairs(int steps) {\n\n        int numstp = 0;\n        if (steps &gt; 0) {\n\n            if (numstp != steps) {\n                makeStairs(steps - 1);\n                System.out.printf(&quot;|_\\n&quot;);\n\n            }\n        }\n\n    }\n</code></pre>\n<p>the output that I'm looking for:</p>\n<pre><code>|_\n  |_\n    |_\n      |_\n</code></pre>\n<p>the output I have:</p>\n<pre><code>|_\n|_   \n|_\n|_\n</code></pre>\n<p>Help would be highly appreciated.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664444431,"creation_date":1664444431,"answer_id":73893392,"question_id":73884931,"body_markdown":"If you want to read the value of `messageID` field, then you should create a reference that points to the `cG6v...PXi1` node and use the following lines of code:\r\n\r\n\tDatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n\tDatabaseReference messagesRef = db.child(&quot;Messages&quot;);\r\n    DatabaseReference messageReceiverIdRef = messagesRef.child(messageSenderID).child(messageReceiverID);\r\n    messageReceiverIdRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n\t\t@Override\r\n\t\tpublic void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n\t\t\tif (task.isSuccessful()) {\r\n\t\t\t\tfor (DataSnapshot ds : task.getResult().getChildren()) {\r\n\t\t\t\t\tString messageId = ds.child(&quot;messageID&quot;).getValue(String.class);\r\n\t\t\t\t\tLog.d(&quot;TAG&quot;, messageId);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tLog.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\nThe result in the logcat will be:\r\n\r\n    -ND-fz....l2krv\r\n    ...","title":"How to get automatically generated Firebase push ID from Firebase Realtime Database?","body":"<p>If you want to read the value of <code>messageID</code> field, then you should create a reference that points to the <code>cG6v...PXi1</code> node and use the following lines of code:</p>\n<pre><code>DatabaseReference db = FirebaseDatabase.getInstance().getReference();\nDatabaseReference messagesRef = db.child(&quot;Messages&quot;);\nDatabaseReference messageReceiverIdRef = messagesRef.child(messageSenderID).child(messageReceiverID);\nmessageReceiverIdRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            for (DataSnapshot ds : task.getResult().getChildren()) {\n                String messageId = ds.child(&quot;messageID&quot;).getValue(String.class);\n                Log.d(&quot;TAG&quot;, messageId);\n            }\n        } else {\n            Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\n        }\n    }\n});\n</code></pre>\n<p>The result in the logcat will be:</p>\n<pre><code>-ND-fz....l2krv\n...\n</code></pre>\n"}],"owner":{"account_id":26472396,"reputation":63,"user_id":20112807,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73893392,"answer_count":1,"score":1,"last_activity_date":1666721701,"creation_date":1664382685,"question_id":73884931,"body_markdown":"My app sends every message with a unique id (using push() method) so how can I get this id?\r\n\r\nmy code to send message : \r\n\r\n    String messageSenderRef = &quot;Messages/&quot; + messageSenderID + &quot;/&quot; + messageReceiverID;\r\n            String messageReceiverRef = &quot;Messages/&quot; + messageReceiverID + &quot;/&quot; + messageSenderID;\r\n\r\n            DatabaseReference userMessagesKeyRef = reference.child(&quot;Messages&quot;)\r\n                    .child(messageSenderID).child(messageReceiverID).push();\r\n\r\n            String messagePushID = userMessagesKeyRef.getKey();\r\n\r\n            Map messageTextBody = new HashMap();\r\n            messageTextBody.put(&quot;message&quot;,messageText);\r\n            messageTextBody.put(&quot;type&quot;,&quot;text&quot;);\r\n            messageTextBody.put(&quot;to&quot;,messageReceiverID);\r\n            messageTextBody.put(&quot;from&quot;,messageSenderID);\r\n            messageTextBody.put(&quot;time&quot;,time);\r\n            messageTextBody.put(&quot;date&quot;,date);\r\n            messageTextBody.put(&quot;isSeen&quot;,false);\r\n            messageTextBody.put(&quot;messageID&quot;,messagePushID);\r\n\r\n\r\n            Map messageBodyDetails = new HashMap();\r\n            messageBodyDetails.put(messageSenderRef + &quot;/&quot; + messagePushID,messageTextBody);\r\n            messageBodyDetails.put(messageReceiverRef + &quot;/&quot; + messagePushID,messageTextBody);\r\n\r\nMy Firebase database node:\r\n\r\nFirebase Node:\r\n\r\n![firebase node][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/weZyV.png","title":"How to get automatically generated Firebase push ID from Firebase Realtime Database?","body":"<p>My app sends every message with a unique id (using push() method) so how can I get this id?</p>\n<p>my code to send message :</p>\n<pre><code>String messageSenderRef = &quot;Messages/&quot; + messageSenderID + &quot;/&quot; + messageReceiverID;\n        String messageReceiverRef = &quot;Messages/&quot; + messageReceiverID + &quot;/&quot; + messageSenderID;\n\n        DatabaseReference userMessagesKeyRef = reference.child(&quot;Messages&quot;)\n                .child(messageSenderID).child(messageReceiverID).push();\n\n        String messagePushID = userMessagesKeyRef.getKey();\n\n        Map messageTextBody = new HashMap();\n        messageTextBody.put(&quot;message&quot;,messageText);\n        messageTextBody.put(&quot;type&quot;,&quot;text&quot;);\n        messageTextBody.put(&quot;to&quot;,messageReceiverID);\n        messageTextBody.put(&quot;from&quot;,messageSenderID);\n        messageTextBody.put(&quot;time&quot;,time);\n        messageTextBody.put(&quot;date&quot;,date);\n        messageTextBody.put(&quot;isSeen&quot;,false);\n        messageTextBody.put(&quot;messageID&quot;,messagePushID);\n\n\n        Map messageBodyDetails = new HashMap();\n        messageBodyDetails.put(messageSenderRef + &quot;/&quot; + messagePushID,messageTextBody);\n        messageBodyDetails.put(messageReceiverRef + &quot;/&quot; + messagePushID,messageTextBody);\n</code></pre>\n<p>My Firebase database node:</p>\n<p>Firebase Node:</p>\n<p><img src=\"https://i.stack.imgur.com/weZyV.png\" alt=\"firebase node\" /></p>\n"},{"tags":["java","git-annex"],"answers":[{"tags":[],"owner":{"account_id":3703341,"reputation":3062,"user_id":3082472,"accept_rate":92,"display_name":"akraf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666721187,"creation_date":1666721187,"answer_id":74198406,"question_id":74198405,"body_markdown":"Turns out that the java binary tries to find its own path, as can be seen by calling `strace java -version`:\r\n\r\n```\r\n&lt; ... lots of strace output... &gt;\r\nreadlink(&quot;/proc/self/exe&quot;, &quot;/proj/.git/annex/objects/X5/f3/M&quot;..., 4096) = 120\r\n&lt; ... more strace output ...&gt;\r\n```\r\n\r\nThe `readlink` syscall leads into the `.git/annex/objects` directory where git-annex saves big files. Thus, `java` gets the wrong answer what is its installation directory and thus fails.\r\n\r\nThe solution is to `git annex unlock $JAVA_HOME/bin/java` (where `$JAVA_HOME` is the folder you extracted java to). The same must be done with `$JAVA_HOME/lib/amd64/server/libjvm.so` which tries the same manoever.\r\n\r\nFinally, the files must be committed in unlocked state. In effect, the files\r\nmust not be symlinks into the git-annex object storage but regular files.","title":"Cannot run java in my git-annex&#39;ed project","body":"<p>Turns out that the java binary tries to find its own path, as can be seen by calling <code>strace java -version</code>:</p>\n<pre><code>&lt; ... lots of strace output... &gt;\nreadlink(&quot;/proc/self/exe&quot;, &quot;/proj/.git/annex/objects/X5/f3/M&quot;..., 4096) = 120\n&lt; ... more strace output ...&gt;\n</code></pre>\n<p>The <code>readlink</code> syscall leads into the <code>.git/annex/objects</code> directory where git-annex saves big files. Thus, <code>java</code> gets the wrong answer what is its installation directory and thus fails.</p>\n<p>The solution is to <code>git annex unlock $JAVA_HOME/bin/java</code> (where <code>$JAVA_HOME</code> is the folder you extracted java to). The same must be done with <code>$JAVA_HOME/lib/amd64/server/libjvm.so</code> which tries the same manoever.</p>\n<p>Finally, the files must be committed in unlocked state. In effect, the files\nmust not be symlinks into the git-annex object storage but regular files.</p>\n"}],"owner":{"account_id":3703341,"reputation":3062,"user_id":3082472,"accept_rate":92,"display_name":"akraf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666721187,"creation_date":1666721187,"question_id":74198405,"body_markdown":"I have code of a research project managed by [datalad](https://datalad.org) (which is a frontend for git and git-annex). It contains my code together with a Singularity container for reproducibility. \r\n\r\nI installed java manually into this directory. I could run `java -version` initially but once I have committed my changes using `git annex add &lt;java_dir&gt;`, `git add .` and `git commit`, I cannot start java anymore. I get the following error message:\r\n\r\n```\r\nError: could not find libjava.so\r\nError: Could not find Java SE Runtime Environment.\r\n```\r\n\r\nHow can I avoid this incompatibility between java and git-annex?\r\n\r\n## (Annex: how I installed java)\r\n\r\n```\r\nmkdir lib\r\ncd lib\r\nwget https://javadl.oracle.com/webapps/download/AutoDL?BundleId=246799_424b9da4b48848379167015dcc250d8d -O jre_8_341.tgz\r\ntar -xf ./jre_8_341.tgz # creates jre1.8.0_341/\r\nrm jre_8_341.tgz\r\ncd jre1.8.0_341/bin\r\n```","title":"Cannot run java in my git-annex&#39;ed project","body":"<p>I have code of a research project managed by <a href=\"https://datalad.org\" rel=\"nofollow noreferrer\">datalad</a> (which is a frontend for git and git-annex). It contains my code together with a Singularity container for reproducibility.</p>\n<p>I installed java manually into this directory. I could run <code>java -version</code> initially but once I have committed my changes using <code>git annex add &lt;java_dir&gt;</code>, <code>git add .</code> and <code>git commit</code>, I cannot start java anymore. I get the following error message:</p>\n<pre><code>Error: could not find libjava.so\nError: Could not find Java SE Runtime Environment.\n</code></pre>\n<p>How can I avoid this incompatibility between java and git-annex?</p>\n<h2>(Annex: how I installed java)</h2>\n<pre><code>mkdir lib\ncd lib\nwget https://javadl.oracle.com/webapps/download/AutoDL?BundleId=246799_424b9da4b48848379167015dcc250d8d -O jre_8_341.tgz\ntar -xf ./jre_8_341.tgz # creates jre1.8.0_341/\nrm jre_8_341.tgz\ncd jre1.8.0_341/bin\n</code></pre>\n"},{"tags":["java","generics","search"],"owner":{"account_id":26730506,"reputation":11,"user_id":20332939,"display_name":"java_coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666720943,"creation_date":1666720852,"question_id":74198336,"body_markdown":"I have a file system FileSystem that contains files in the form of the matrix. Each of these files have the following 4 attributes:\r\n\r\n- size;\r\n- name;\r\n- timeCreated;\r\n- permission;\r\n\r\nI need to implement search  based on any combination of attributes.\r\n\r\nInstead of defining separate search method for each combination of criteria, I thought that there has to be a way to implement generic search function.\r\n\r\n\r\n     @Data\r\n     @AllArgsConstructor\r\n     public class File {\r\n       private long size;\r\n       private String name;\r\n       private LocalDateTime timeCreated;\r\n       private Permissions permission;\r\n     }\r\n\r\n\r\n\r\n\r\n    public static void searchFilesStream() {\r\n    \r\n        System.out.println(&quot;Search files using stream: &quot;);\r\n        Arrays.stream(FileSystem.files)\r\n                .flatMap(Arrays::stream)\r\n                .filter(file -&gt; Permissions.W.equals(file.getPermission())\r\n                        &amp;&amp; LocalDate.of(2022, 10, 25).isBefore(ChronoLocalDate.from(file.getTimeCreated()))\r\n                ).map(File::getName)\r\n                .filter(f-&gt; f.equals(&quot;file40&quot;))\r\n                .collect(Collectors.toList())\r\n                .forEach(System.out::println)\r\n        ;\r\n\r\n    }\r\n\r\n","title":"Search based on any combination of attributes","body":"<p>I have a file system FileSystem that contains files in the form of the matrix. Each of these files have the following 4 attributes:</p>\n<ul>\n<li>size;</li>\n<li>name;</li>\n<li>timeCreated;</li>\n<li>permission;</li>\n</ul>\n<p>I need to implement search  based on any combination of attributes.</p>\n<p>Instead of defining separate search method for each combination of criteria, I thought that there has to be a way to implement generic search function.</p>\n<pre><code> @Data\n @AllArgsConstructor\n public class File {\n   private long size;\n   private String name;\n   private LocalDateTime timeCreated;\n   private Permissions permission;\n }\n\n\n\n\npublic static void searchFilesStream() {\n\n    System.out.println(&quot;Search files using stream: &quot;);\n    Arrays.stream(FileSystem.files)\n            .flatMap(Arrays::stream)\n            .filter(file -&gt; Permissions.W.equals(file.getPermission())\n                    &amp;&amp; LocalDate.of(2022, 10, 25).isBefore(ChronoLocalDate.from(file.getTimeCreated()))\n            ).map(File::getName)\n            .filter(f-&gt; f.equals(&quot;file40&quot;))\n            .collect(Collectors.toList())\n            .forEach(System.out::println)\n    ;\n\n}\n</code></pre>\n"},{"tags":["java","sqrt"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1466832867,"post_id":38025181,"comment_id":63491385,"body_markdown":"Ummm.... `int` vs `long`?","body":"Ummm.... <code>int</code> vs <code>long</code>?"},{"owner":{"account_id":3533020,"reputation":3091,"user_id":2952011,"accept_rate":80,"display_name":"Mukit09"},"score":0,"creation_date":1466832946,"post_id":38025181,"comment_id":63491399,"body_markdown":"convert i and x to long","body":"convert i and x to long"}],"answers":[{"tags":[],"owner":{"account_id":7222810,"reputation":3315,"user_id":5512611,"display_name":"Huy"},"down_vote_count":2,"up_vote_count":4,"is_accepted":true,"score":2,"last_activity_date":1466832678,"creation_date":1466832678,"answer_id":38025327,"question_id":38025181,"body_markdown":"You can try my code:\r\n\r\n    public int mySqrt(int x) {\r\n            long i = 0;\r\n            long j = x;\r\n            int mid = 0;\r\n            if (x == 0) {\r\n                return 0;\r\n            }\r\n            if (x == 1) {\r\n                return 1;\r\n            }\r\n            while (i &lt;= j) {\r\n                mid = (int)(i + j)/2;\r\n                if (x/mid == mid) {\r\n                    return (int)mid;\r\n                } else if (x/mid &gt; mid) {\r\n                    i = mid + 1;\r\n                } else if (x/mid &lt; mid) {\r\n                    j = mid - 1;\r\n                }\r\n            }\r\n            return (int)j;\r\n            }","title":"What is wrong of my solution for the Leetcode puzzle Sqrt(x)?","body":"<p>You can try my code:</p>\n\n<pre><code>public int mySqrt(int x) {\n        long i = 0;\n        long j = x;\n        int mid = 0;\n        if (x == 0) {\n            return 0;\n        }\n        if (x == 1) {\n            return 1;\n        }\n        while (i &lt;= j) {\n            mid = (int)(i + j)/2;\n            if (x/mid == mid) {\n                return (int)mid;\n            } else if (x/mid &gt; mid) {\n                i = mid + 1;\n            } else if (x/mid &lt; mid) {\n                j = mid - 1;\n            }\n        }\n        return (int)j;\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8704734,"reputation":77,"user_id":6513230,"display_name":"Brandon Chen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1468384061,"creation_date":1468384061,"answer_id":38342680,"question_id":38025181,"body_markdown":"Instead of int, use long. This is because int only goes up to 2147395600, while long goes much higher than that. However, the expense is that you would have to convert to long, then back to int. ","title":"What is wrong of my solution for the Leetcode puzzle Sqrt(x)?","body":"<p>Instead of int, use long. This is because int only goes up to 2147395600, while long goes much higher than that. However, the expense is that you would have to convert to long, then back to int. </p>\n"},{"tags":[],"owner":{"account_id":25232344,"reputation":1,"user_id":19067346,"display_name":"Rajdeep Ghosh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652002589,"creation_date":1652002589,"answer_id":72159732,"question_id":38025181,"body_markdown":"I had the same problem but simply by add a typecast (long) in front of the i*i expression, I solved it. The problem lay with the fact that i*i was exceeding the limit of the value that can be held by int and hence a garbage value was being returned. \r\n\r\nPS: This solution is super slow so do consider other solutions like Binary Search provided above.\r\n","title":"What is wrong of my solution for the Leetcode puzzle Sqrt(x)?","body":"<p>I had the same problem but simply by add a typecast (long) in front of the i<em>i expression, I solved it. The problem lay with the fact that i</em>i was exceeding the limit of the value that can be held by int and hence a garbage value was being returned.</p>\n<p>PS: This solution is super slow so do consider other solutions like Binary Search provided above.</p>\n"},{"tags":[],"owner":{"account_id":11331526,"reputation":1,"user_id":8308923,"display_name":"Rayed Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666720404,"creation_date":1666720367,"answer_id":74198245,"question_id":38025181,"body_markdown":"You have declared i as an int and trying to do sqaure of i, which will throw error as int cannot hold such large values, use long to declare i or caste it i to long. But why do this when you can do it in O(log n) using Binary Search.","title":"What is wrong of my solution for the Leetcode puzzle Sqrt(x)?","body":"<p>You have declared i as an int and trying to do sqaure of i, which will throw error as int cannot hold such large values, use long to declare i or caste it i to long. But why do this when you can do it in O(log n) using Binary Search.</p>\n"}],"owner":{"account_id":8686067,"reputation":23,"user_id":6500460,"display_name":"Steve Zhang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1358,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":38025327,"answer_count":4,"score":0,"last_activity_date":1666720404,"creation_date":1466831311,"question_id":38025181,"body_markdown":"I am working on the LeetCode question No.69 named sqrt(x)(https://leetcode.com/problems/sqrtx/). It asked me to return the square root of the integer also in another integer. Below is my solution.\r\n       \r\n    public class Solution {\r\n        public int mySqrt(int x) {\r\n        int i = 0;\r\n        if(x==0)\r\n        {\r\n            return 0;\r\n        }\r\n        for(i = 1;i&lt;x/2;i++)\r\n        {\r\n            if(((i*i)&lt;=x)&amp;&amp;((i+1)*(i+1)&gt;x))\r\n            {\r\n                break;\r\n            }\r\n        }\r\n        \r\n        return i;\r\n       }\r\n    }\r\n\r\nAfter I submit the code, all the test cases where x &gt;= 2147395600 are all failed. When x = 2147395600, it is returning a 289398 instead of  46340, which is the right answer. What is the problem with my code? ","title":"What is wrong of my solution for the Leetcode puzzle Sqrt(x)?","body":"<p>I am working on the LeetCode question No.69 named sqrt(x)(<a href=\"https://leetcode.com/problems/sqrtx/\" rel=\"nofollow\">https://leetcode.com/problems/sqrtx/</a>). It asked me to return the square root of the integer also in another integer. Below is my solution.</p>\n\n<pre><code>public class Solution {\n    public int mySqrt(int x) {\n    int i = 0;\n    if(x==0)\n    {\n        return 0;\n    }\n    for(i = 1;i&lt;x/2;i++)\n    {\n        if(((i*i)&lt;=x)&amp;&amp;((i+1)*(i+1)&gt;x))\n        {\n            break;\n        }\n    }\n\n    return i;\n   }\n}\n</code></pre>\n\n<p>After I submit the code, all the test cases where x >= 2147395600 are all failed. When x = 2147395600, it is returning a 289398 instead of  46340, which is the right answer. What is the problem with my code? </p>\n"},{"tags":["java","android","google-signin","google-play-games"],"comments":[{"owner":{"account_id":8652881,"reputation":587,"user_id":6477998,"display_name":"Mathan Chinna"},"score":0,"creation_date":1527246246,"post_id":50527420,"comment_id":88066910,"body_markdown":"anyone please give me a solution","body":"anyone please give me a solution"},{"owner":{"account_id":8652881,"reputation":587,"user_id":6477998,"display_name":"Mathan Chinna"},"score":0,"creation_date":1528026005,"post_id":50527420,"comment_id":88341854,"body_markdown":"error will be solved","body":"error will be solved"},{"owner":{"account_id":1410231,"reputation":1707,"user_id":1336989,"accept_rate":61,"display_name":"phcaze"},"score":0,"creation_date":1528173854,"post_id":50527420,"comment_id":88393862,"body_markdown":"Same problem here, it seems that Firebase is not saving the SHA-1 key","body":"Same problem here, it seems that Firebase is not saving the SHA-1 key"}],"answers":[{"tags":[],"owner":{"account_id":8652881,"reputation":587,"user_id":6477998,"display_name":"Mathan Chinna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1528026169,"creation_date":1528026169,"answer_id":50666009,"question_id":50527420,"body_markdown":"error will be solved...\r\n\r\nAnyone having this type of problem please check first your SHA 1 key from your Firebase project settings.\r\n\r\nMy SHA 1 key is mismatched from Firebase project settings. \r\n\r\nNow am change that and work perfectly..\r\n\r\nThank you..","title":"Google play service game Silent Login error &#39;com.google.android.gms.common.api.ApiException: 4: &#39;","body":"<p>error will be solved...</p>\n\n<p>Anyone having this type of problem please check first your SHA 1 key from your Firebase project settings.</p>\n\n<p>My SHA 1 key is mismatched from Firebase project settings. </p>\n\n<p>Now am change that and work perfectly..</p>\n\n<p>Thank you..</p>\n"},{"tags":[],"owner":{"account_id":1155287,"reputation":1046,"user_id":1136074,"accept_rate":60,"display_name":"gor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574235883,"creation_date":1574235883,"answer_id":58949130,"question_id":50527420,"body_markdown":"it turns out whenver you add/edit your **Firebase** app settings (SHA certificate fingerprints) it generate the correlate credentials in your application **Google Api** console. Although the fingerprint was the same it didnt work until i deleted the cradential from Google Api and let Firebase generate it for me - i guess its ID related.   ","title":"Google play service game Silent Login error &#39;com.google.android.gms.common.api.ApiException: 4: &#39;","body":"<p>it turns out whenver you add/edit your <strong>Firebase</strong> app settings (SHA certificate fingerprints) it generate the correlate credentials in your application <strong>Google Api</strong> console. Although the fingerprint was the same it didnt work until i deleted the cradential from Google Api and let Firebase generate it for me - i guess its ID related.   </p>\n"},{"tags":[],"owner":{"account_id":10549169,"reputation":134,"user_id":7772358,"display_name":"nandur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595412787,"creation_date":1595390372,"answer_id":63026633,"question_id":50527420,"body_markdown":"&gt; **Follow this steps until you get the SHA-1 in Android Studio**\r\n&gt; \r\n&gt; [https://stackoverflow.com/a/33479550/7772358][1]\r\n\r\n&gt; **Then go to this link**\r\n&gt; \r\n&gt; [https://console.firebase.google.com/][2]\r\n\r\n \r\n\r\n1. Click setting gear Icon near the Project Overview under Firebase\r\n    Logo on the left top\r\n 2. Click on the Project setting and make sure you choose the right\r\n    Project in the dropdown list In the General tab.\r\n 3. Scroll down and find the SHA certificate fingerprints\r\n 4. Click Add Fingerprint Copy and paste the SHA-1 from the Android\r\n    studio console to the Certificate fingerprint column then click Save\r\n 5. Restart the App that require firebase and google login.\r\n\r\nViola.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/33479550/7772358\r\n  [2]: https://console.firebase.google.com/","title":"Google play service game Silent Login error &#39;com.google.android.gms.common.api.ApiException: 4: &#39;","body":"<blockquote>\n<p><strong>Follow this steps until you get the SHA-1 in Android Studio</strong></p>\n<p><a href=\"https://stackoverflow.com/a/33479550/7772358\">https://stackoverflow.com/a/33479550/7772358</a></p>\n</blockquote>\n<blockquote>\n<p><strong>Then go to this link</strong></p>\n<p><a href=\"https://console.firebase.google.com/\" rel=\"nofollow noreferrer\">https://console.firebase.google.com/</a></p>\n</blockquote>\n<ol>\n<li>Click setting gear Icon near the Project Overview under Firebase\nLogo on the left top</li>\n<li>Click on the Project setting and make sure you choose the right\nProject in the dropdown list In the General tab.</li>\n<li>Scroll down and find the SHA certificate fingerprints</li>\n<li>Click Add Fingerprint Copy and paste the SHA-1 from the Android\nstudio console to the Certificate fingerprint column then click Save</li>\n<li>Restart the App that require firebase and google login.</li>\n</ol>\n<p>Viola.</p>\n"},{"tags":[],"owner":{"account_id":26032731,"reputation":1,"user_id":19738681,"display_name":"Fabi Ramos Sandoval"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666720106,"creation_date":1666720106,"answer_id":74198210,"question_id":50527420,"body_markdown":"My solution was to synchronize my project so that it takes the updated SHA&#39;s.\r\n\r\n- Download updated google-services.json\r\n- Place it in your andorid studio project, in the app folder.\r\n- In the top bar of the IDE Andorid Studio-&gt; File-&gt; Sync Project with Gradel Files.\r\n\r\nSolution.","title":"Google play service game Silent Login error &#39;com.google.android.gms.common.api.ApiException: 4: &#39;","body":"<p>My solution was to synchronize my project so that it takes the updated SHA's.</p>\n<ul>\n<li>Download updated google-services.json</li>\n<li>Place it in your andorid studio project, in the app folder.</li>\n<li>In the top bar of the IDE Andorid Studio-&gt; File-&gt; Sync Project with Gradel Files.</li>\n</ul>\n<p>Solution.</p>\n"}],"owner":{"account_id":8652881,"reputation":587,"user_id":6477998,"display_name":"Mathan Chinna"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5450,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":50666009,"answer_count":4,"score":5,"last_activity_date":1666720106,"creation_date":1527245129,"question_id":50527420,"body_markdown":"am using google play services silent login, but it always CompleteListener show com.google.android.gms.common.api.ApiException: 4: &#39;SIGN_IN_REQUIRED&#39; but am a test user in my application. My code is below,\r\n\r\n     @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            mGoogleSignInClient = GoogleSignIn.getClient(this, new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_GAMES_SIGN_IN).build());\r\n    }\r\n\r\n    @Override\r\n       protected void onResume() {\r\n           super.onResume();\r\n           signInSilently();\r\n    }\r\n\r\n    private void signInSilently() {\r\n\r\n        mGoogleSignInClient.silentSignIn().addOnCompleteListener(this, new OnCompleteListener&lt;GoogleSignInAccount&gt;() {\r\n        @Override\r\n           public void onComplete(@NonNull Task&lt;GoogleSignInAccount&gt; task) {\r\n               if (task.isSuccessful()) {\r\n                  try {\r\n                       GoogleSignInAccount signInAccount = task.getResult(ApiException.class);\r\n                  } catch (ApiException apiException) {\r\n                       System.out.println(&quot;CATE_RESULT_CODE &quot; + apiException.getLocalizedMessage()+&quot; &quot; +apiException.getStatusMessage()+ &quot; &quot; +apiException.getMessage()+ &quot; &quot;+apiException.getCause() );\r\n                  }\r\n               } else {\r\n                    try {\r\n                        GoogleSignInAccount signInAccount = task.getResult(ApiException.class);\r\n                    } catch (ApiException apiException) {\r\n                          System.out.println(&quot;CATE_RESULT_CODE &quot; + apiException.getLocalizedMessage()+&quot; &quot; +apiException.getStatusMessage()+ &quot; &quot; +apiException.getMessage()+ &quot; &quot;+apiException.getCause() );\r\n                    }\r\n               }\r\n            }\r\n         });\r\n      }\r\n\r\nMy gradle file dependencies :\r\n\r\n    dependencies {\r\n     ext {\r\n        support_library_version = &#39;27.0.2&#39;\r\n        google_play_services_version = &#39;15.0.2&#39;\r\n      }\r\n        implementation &quot;com.android.support:appcompat-v7:${support_library_version}&quot;\r\n        implementation &quot;com.android.support:design:${support_library_version}&quot;\r\n         implementation &quot;com.android.support:recyclerview-v7:${support_library_version}&quot;\r\n         implementation &quot;com.android.support:cardview-v7:${support_library_version}&quot;\r\n         implementation &#39;com.google.android.gms:play-services-auth:15.0.1&#39;\r\n         implementation &#39;com.google.android.gms:play-services-games:15.0.1&#39;\r\n     }\r\n\r\n     erorr :\r\n      com.google.android.gms.common.api.ApiException: 4: \r\n        at com.google.android.gms.common.internal.ApiExceptionUtil.fromStatus(Unknown Source)\r\n        at com.google.android.gms.common.internal.zzk.convert(Unknown Source)\r\n        at com.google.android.gms.common.internal.zzl.onComplete(Unknown Source)\r\n        at com.google.android.gms.common.api.internal.BasePendingResult.zza(Unknown Source)\r\n        at com.google.android.gms.common.api.internal.BasePendingResult.setResult(Unknown Source)\r\n        at com.google.android.gms.auth.api.signin.internal.zzk.zzd(Unknown Source)\r\n        at com.google.android.gms.auth.api.signin.internal.zzu.dispatchTransaction(Unknown Source)\r\n        at com.google.android.gms.internal.auth.zze.onTransact(Unknown Source)\r\n        at android.os.Binder.execTransact(Binder.java:404)\r\n        at dalvik.system.NativeStart.run(Native Method)\r\n\r\nalso adding app id in Manifest file.\r\n\r\nPlease give me a solution for this problem. Advance thanks","title":"Google play service game Silent Login error &#39;com.google.android.gms.common.api.ApiException: 4: &#39;","body":"<p>am using google play services silent login, but it always CompleteListener show com.google.android.gms.common.api.ApiException: 4: 'SIGN_IN_REQUIRED' but am a test user in my application. My code is below,</p>\n\n<pre><code> @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        mGoogleSignInClient = GoogleSignIn.getClient(this, new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_GAMES_SIGN_IN).build());\n}\n\n@Override\n   protected void onResume() {\n       super.onResume();\n       signInSilently();\n}\n\nprivate void signInSilently() {\n\n    mGoogleSignInClient.silentSignIn().addOnCompleteListener(this, new OnCompleteListener&lt;GoogleSignInAccount&gt;() {\n    @Override\n       public void onComplete(@NonNull Task&lt;GoogleSignInAccount&gt; task) {\n           if (task.isSuccessful()) {\n              try {\n                   GoogleSignInAccount signInAccount = task.getResult(ApiException.class);\n              } catch (ApiException apiException) {\n                   System.out.println(\"CATE_RESULT_CODE \" + apiException.getLocalizedMessage()+\" \" +apiException.getStatusMessage()+ \" \" +apiException.getMessage()+ \" \"+apiException.getCause() );\n              }\n           } else {\n                try {\n                    GoogleSignInAccount signInAccount = task.getResult(ApiException.class);\n                } catch (ApiException apiException) {\n                      System.out.println(\"CATE_RESULT_CODE \" + apiException.getLocalizedMessage()+\" \" +apiException.getStatusMessage()+ \" \" +apiException.getMessage()+ \" \"+apiException.getCause() );\n                }\n           }\n        }\n     });\n  }\n</code></pre>\n\n<p>My gradle file dependencies :</p>\n\n<pre><code>dependencies {\n ext {\n    support_library_version = '27.0.2'\n    google_play_services_version = '15.0.2'\n  }\n    implementation \"com.android.support:appcompat-v7:${support_library_version}\"\n    implementation \"com.android.support:design:${support_library_version}\"\n     implementation \"com.android.support:recyclerview-v7:${support_library_version}\"\n     implementation \"com.android.support:cardview-v7:${support_library_version}\"\n     implementation 'com.google.android.gms:play-services-auth:15.0.1'\n     implementation 'com.google.android.gms:play-services-games:15.0.1'\n }\n\n erorr :\n  com.google.android.gms.common.api.ApiException: 4: \n    at com.google.android.gms.common.internal.ApiExceptionUtil.fromStatus(Unknown Source)\n    at com.google.android.gms.common.internal.zzk.convert(Unknown Source)\n    at com.google.android.gms.common.internal.zzl.onComplete(Unknown Source)\n    at com.google.android.gms.common.api.internal.BasePendingResult.zza(Unknown Source)\n    at com.google.android.gms.common.api.internal.BasePendingResult.setResult(Unknown Source)\n    at com.google.android.gms.auth.api.signin.internal.zzk.zzd(Unknown Source)\n    at com.google.android.gms.auth.api.signin.internal.zzu.dispatchTransaction(Unknown Source)\n    at com.google.android.gms.internal.auth.zze.onTransact(Unknown Source)\n    at android.os.Binder.execTransact(Binder.java:404)\n    at dalvik.system.NativeStart.run(Native Method)\n</code></pre>\n\n<p>also adding app id in Manifest file.</p>\n\n<p>Please give me a solution for this problem. Advance thanks</p>\n"},{"tags":["java","selenium","maven","testng","selenium-extent-report"],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666719326,"creation_date":1666719326,"answer_id":74198077,"question_id":74192635,"body_markdown":"Your problem has nothing to to with caches and its validity. You&#39;re just breaking Java syntax.\r\n\r\nYou&#39;re trying to call method of a field inside enclosing class body. You need to have some method in your `FrameworkReporter` and move your calls there, so that you would have something like this:\r\n\r\n```java\r\npublic class FrameworkReporter{\r\n\r\n  ExtentReports extent = new ExtentReports();\r\n  WebDriver driver = new ChromeDriver();\r\n\r\n  public void someMethod(){\r\n    extent.attachReporter();\r\n    driver.get(&quot;&quot;);\r\n  }\r\n\r\n}\r\n```","title":"Intellij not recognizing the refrence variable and also not showing the methods list of a object reference","body":"<p>Your problem has nothing to to with caches and its validity. You're just breaking Java syntax.</p>\n<p>You're trying to call method of a field inside enclosing class body. You need to have some method in your <code>FrameworkReporter</code> and move your calls there, so that you would have something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FrameworkReporter{\n\n  ExtentReports extent = new ExtentReports();\n  WebDriver driver = new ChromeDriver();\n\n  public void someMethod(){\n    extent.attachReporter();\n    driver.get(&quot;&quot;);\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":3216779,"reputation":69,"user_id":5450448,"accept_rate":25,"display_name":"user8971"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74198077,"answer_count":1,"score":0,"last_activity_date":1666719326,"creation_date":1666693750,"question_id":74192635,"body_markdown":"I am working on Intellij IDE and trying to create extent report and whenever I create a reference of ExtentReports class, it doesn&#39;t recognize that variable i.e. whenever I use that variable to access the methods of that class it doesn&#39;t show the methods present in that class. Same thing is happening for WebDriver reference. It doesn&#39;t recognize the variable and also not showing the methods that are available in these classes or interfaces. I have already tried to do File-&gt;Invalidate cache and restart but it didn&#39;t resolve the issue. I have checked the dependency list and these Maven dependencies are present in the local repo. Please assist me in resolving this issue. I have added a pic of the code and IDE that I have worked. Kindly provide some help. [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4o5Lf.png","title":"Intellij not recognizing the refrence variable and also not showing the methods list of a object reference","body":"<p>I am working on Intellij IDE and trying to create extent report and whenever I create a reference of ExtentReports class, it doesn't recognize that variable i.e. whenever I use that variable to access the methods of that class it doesn't show the methods present in that class. Same thing is happening for WebDriver reference. It doesn't recognize the variable and also not showing the methods that are available in these classes or interfaces. I have already tried to do File-&gt;Invalidate cache and restart but it didn't resolve the issue. I have checked the dependency list and these Maven dependencies are present in the local repo. Please assist me in resolving this issue. I have added a pic of the code and IDE that I have worked. Kindly provide some help. <a href=\"https://i.stack.imgur.com/4o5Lf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4o5Lf.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","windows"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1666714986,"post_id":74196963,"comment_id":131000288,"body_markdown":"Surely not everything within an action listener. This, however doesnt imply that you need more classes. Just calling a method of the surrounding class would be enough. For example, create a method `showSettingsDialog` in the surrounding class and use a delegating listener like `settingsB.addActionListener(new ActionListener() { @Override public void actionPerformed(ActionEvent e) { showSettingsDialog(); } });` or even simpler `settingsB.addActionListener(e -&gt; showSettingsDialog());`","body":"Surely not everything within an action listener. This, however doesnt imply that you need more classes. Just calling a method of the surrounding class would be enough. For example, create a method <code>showSettingsDialog</code> in the surrounding class and use a delegating listener like <code>settingsB.addActionListener(new ActionListener() { @Override public void actionPerformed(ActionEvent e) { showSettingsDialog(); } });</code> or even simpler <code>settingsB.addActionListener(e -&gt; showSettingsDialog());</code>"},{"owner":{"account_id":22798124,"reputation":1,"user_id":16951356,"display_name":"Jens Meier"},"score":0,"creation_date":1666717939,"post_id":74196963,"comment_id":131001224,"body_markdown":"Thank you for your answer. I got it to work that with a click on settings button a jframe opens and a boolean &quot;isSettingsOpen&quot; makes sure that only one setting menu can be opened at a time. But how do I check for the window to be closde again?","body":"Thank you for your answer. I got it to work that with a click on settings button a jframe opens and a boolean &quot;isSettingsOpen&quot; makes sure that only one setting menu can be opened at a time. But how do I check for the window to be closde again?"},{"owner":{"account_id":22798124,"reputation":1,"user_id":16951356,"display_name":"Jens Meier"},"score":0,"creation_date":1666718777,"post_id":74196963,"comment_id":131001455,"body_markdown":"My current solution is like this:","body":"My current solution is like this:"},{"owner":{"account_id":22798124,"reputation":1,"user_id":16951356,"display_name":"Jens Meier"},"score":0,"creation_date":1666718918,"post_id":74196963,"comment_id":131001503,"body_markdown":"private void showSettingsDialogue() {\n\t\tif(settingsOpen) {\n\t\t\treturn;\n\t\t}\n\t\telse {\n\t\t\tsettingsOpen = true;\n\t\t\tsettingWindow = new SettingsWindow();\n\t\t\tsettingWindow.addWindowListener(new WindowListener() {\n\t\t\t\t\n\t\t\t@Override\n\t\t\t\tpublic void windowClosed(WindowEvent e) {\n\t\t\t\t\tsettingsOpen = false;\n\t\t\t\t\t\n\t\t\t\t} I have to implement all the other methods too. Is there a more  efficient way?","body":"private void showSettingsDialogue() { \t\tif(settingsOpen) { \t\t\treturn; \t\t} \t\telse { \t\t\tsettingsOpen = true; \t\t\tsettingWindow = new SettingsWindow(); \t\t\tsettingWindow.addWindowListener(new WindowListener() { \t\t\t\t \t\t\t@Override \t\t\t\tpublic void windowClosed(WindowEvent e) { \t\t\t\t\tsettingsOpen = false; \t\t\t\t\t \t\t\t\t} I have to implement all the other methods too. Is there a more  efficient way?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1666719415,"post_id":74196963,"comment_id":131001644,"body_markdown":"You can extend [`WindowAdapter`](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/event/WindowAdapter.html) instead of implementing `WindowListener`. `settingWindow.addWindowListener(new WindowAdapter() { @Override public void windowClosed(WindowEvent e) { settingsOpen = false; } });`","body":"You can extend <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/event/WindowAdapter.html\" rel=\"nofollow noreferrer\"><code>WindowAdapter</code></a> instead of implementing <code>WindowListener</code>. <code>settingWindow.addWindowListener(new WindowAdapter() { @Override public void windowClosed(WindowEvent e) { settingsOpen = false; } });</code>"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1666734130,"post_id":74196963,"comment_id":131005741,"body_markdown":"You probably should use a `JDialog` for the settings.","body":"You probably should use a <code>JDialog</code> for the settings."},{"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"score":0,"creation_date":1666736344,"post_id":74196963,"comment_id":131006231,"body_markdown":"Don&#39;t use extra booleans to track state.  Just disable the button when the dialog opens and re-enable when it closes.","body":"Don&#39;t use extra booleans to track state.  Just disable the button when the dialog opens and re-enable when it closes."}],"owner":{"account_id":22798124,"reputation":1,"user_id":16951356,"display_name":"Jens Meier"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666719224,"creation_date":1666713553,"question_id":74196963,"body_markdown":"I am curently working on a GUI and when clicking a certain button:\r\n\r\n\r\n    settingsB.addActionListener(new ActionListener() {\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\tSystem.out.println(&quot;Settings&quot;);\r\n    \t\t\t\r\n    \t\t}\r\n    \t});\r\n\r\nInstead of just printing it there should a new window open where you can adjust settings with sliders textboxes, ... How would you approach that? With new classes or all inside the action listener?\r\n\r\n\r\nEdit:\r\nMy &quot;current solution&quot; is based on the great suggestion from user Holger to call a method showSettingsDialogue():\r\n\r\n    private void showSettingsDialogue() {\r\n    \t\tif(settingsOpen) {\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tsettingsOpen = true;\r\n    \t\t\tsettingWindow = new SettingsWindow();\r\n    \t\t\tsettingWindow.addWindowListener(new WindowListener() {\r\n    \t\t\t\t\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void windowOpened(WindowEvent e) {\r\n    \t\t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void windowIconified(WindowEvent e) {\r\n    \t\t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void windowDeiconified(WindowEvent e) {\r\n    \t\t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void windowDeactivated(WindowEvent e) {\r\n    \t\t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void windowClosing(WindowEvent e) {\r\n    \t\t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void windowClosed(WindowEvent e) {\r\n    \t\t\t\t\tsettingsOpen = false;\r\n    \t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void windowActivated(WindowEvent e) {\r\n    \t\t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t}\r\n\r\nUnfortunally with this way I have to write down even unimplemented methods. Any bether solution then this?\r\n","title":"Java Settings Menu","body":"<p>I am curently working on a GUI and when clicking a certain button:</p>\n<pre><code>settingsB.addActionListener(new ActionListener() {\n        \n        @Override\n        public void actionPerformed(ActionEvent e) {\n            System.out.println(&quot;Settings&quot;);\n            \n        }\n    });\n</code></pre>\n<p>Instead of just printing it there should a new window open where you can adjust settings with sliders textboxes, ... How would you approach that? With new classes or all inside the action listener?</p>\n<p>Edit:\nMy &quot;current solution&quot; is based on the great suggestion from user Holger to call a method showSettingsDialogue():</p>\n<pre><code>private void showSettingsDialogue() {\n        if(settingsOpen) {\n            return;\n        }\n        else {\n            settingsOpen = true;\n            settingWindow = new SettingsWindow();\n            settingWindow.addWindowListener(new WindowListener() {\n                \n                @Override\n                public void windowOpened(WindowEvent e) {\n                    // TODO Auto-generated method stub\n                    \n                }\n                \n                @Override\n                public void windowIconified(WindowEvent e) {\n                    // TODO Auto-generated method stub\n                    \n                }\n                \n                @Override\n                public void windowDeiconified(WindowEvent e) {\n                    // TODO Auto-generated method stub\n                    \n                }\n                \n                @Override\n                public void windowDeactivated(WindowEvent e) {\n                    // TODO Auto-generated method stub\n                    \n                }\n                \n                @Override\n                public void windowClosing(WindowEvent e) {\n                    // TODO Auto-generated method stub\n                    \n                }\n                \n                @Override\n                public void windowClosed(WindowEvent e) {\n                    settingsOpen = false;\n                    \n                }\n                \n                @Override\n                public void windowActivated(WindowEvent e) {\n                    // TODO Auto-generated method stub\n                    \n                }\n            });\n        }\n</code></pre>\n<p>Unfortunally with this way I have to write down even unimplemented methods. Any bether solution then this?</p>\n"},{"tags":["java","spring","proxy","feign"],"owner":{"account_id":4116414,"reputation":165,"user_id":3377848,"display_name":"marting"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1387,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1666718611,"creation_date":1624499243,"question_id":68108713,"body_markdown":"I have the following in my feign configuration class:\r\n\r\n```\r\n    @Bean\r\n    public Client feignClient() {\r\n        return new Client.Proxied(null, null,\r\n                new Proxy(Proxy.Type.HTTP,\r\n                        new InetSocketAddress(proxyHost, Integer.parseInt(proxyPort))),\r\n                        proxyUsername, proxyPassword);\r\n    }\r\n```\r\n\r\nBut it doesn&#39;t authenticate. It does work with OkHttpClient though, so I believe the username and password are ok. Can you say what is missing?","title":"Spring Boot Feign client proxy authentication","body":"<p>I have the following in my feign configuration class:</p>\n<pre><code>    @Bean\n    public Client feignClient() {\n        return new Client.Proxied(null, null,\n                new Proxy(Proxy.Type.HTTP,\n                        new InetSocketAddress(proxyHost, Integer.parseInt(proxyPort))),\n                        proxyUsername, proxyPassword);\n    }\n</code></pre>\n<p>But it doesn't authenticate. It does work with OkHttpClient though, so I believe the username and password are ok. Can you say what is missing?</p>\n"},{"tags":["java","functional-programming","java-stream","method-reference","functional-interface"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1666372676,"post_id":74157023,"comment_id":130929654,"body_markdown":"You cannot specify generic parameters for a variable or field declaration. However, you can make the entire field/lambda into a _method_ `&lt;T,R&gt; Stream&lt;R&gt; mapAndFlatten(Stream&lt;T&gt; inStream, Function&lt;T, List&lt;R&gt;&gt; lstGetter) { ... }`, but you would need to pass the Stream itself. Keep in mind, the lambdas within your stream operations operate on _single elements_, not the stream overall. Also, functional interfaces are isomorphic to (the &quot;same&quot; as) method signatures, and in fact are specified by method signatures.","body":"You cannot specify generic parameters for a variable or field declaration. However, you can make the entire field/lambda into a <i>method</i> <code>&lt;T,R&gt; Stream&lt;R&gt; mapAndFlatten(Stream&lt;T&gt; inStream, Function&lt;T, List&lt;R&gt;&gt; lstGetter) { ... }</code>, but you would need to pass the Stream itself. Keep in mind, the lambdas within your stream operations operate on <i>single elements</i>, not the stream overall. Also, functional interfaces are isomorphic to (the &quot;same&quot; as) method signatures, and in fact are specified by method signatures."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666718252,"creation_date":1666373382,"answer_id":74157258,"question_id":74157023,"body_markdown":"&gt; it obvious that I cant use generics with a BiFunction?\r\n\r\nYou can use generics with functions. But you can&#39;t provide a function which consumes a stream as an argument of the `map()` operation, which expects an argument of type `Function&lt;? super T,? extends R&gt;`. I.e. consumes a *stream element*, **not** a *stream*. And not that expected type is `Function`, not `BiFunction`.\r\n\r\nAnd since you&#39;re flattening the data, it would not work with `map` because `map` is meant to perform *one-to-one* transformations (meanwhile you have *one-to-many* transformation).\r\n\r\nAs the hosting operation for `mapAndFlatten` you need either `flatMap()` or `mapMulti()`.\r\n\r\n# flatMap()\r\n\r\n[`flatMap()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#flatMap(java.util.function.Function)) expects a function consuming stream element and producing a stream of the resulting type `Function&lt;T, Stream&lt;R&gt;&gt;`.\r\n\r\nThat&#39;s how you can generate such function (Credits to *@Holger* for this concise implementation):\r\n\r\n    private static &lt;T, R&gt; Function&lt;T, Stream&lt;R&gt;&gt; mapAndFlatten(Function&lt;T, List&lt;R&gt;&gt; mapper) {\r\n        \r\n        return t -&gt; Stream.ofNullable(mapper.apply(t))\r\n            .flatMap(Collection::stream);\r\n    }\r\n\r\nAnd the stream would look like this:\r\n```java\r\nStream.of(t1, t2, t3)\r\n    .flatMap(mapAndFlatten(Method_Ref_1))\r\n    .flatMap(mapAndFlatten(Method_Ref_2))\r\n    .forEach(Perform_Some_Operations);\r\n```\r\n\r\n*Dummy Example:* [*a link to Online Demo*](https://www.jdoodle.com/ia/xME)\r\n\r\n# mapMulty()\r\n\r\nAnother option would be to make use of Java 16 [`mapMulti()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)). This operation expects an argument of type `BiConsumer`, which in turn consumes an element of the initial type and consumer of the resulting type. Every element fed to the consumer of the resulting type becomes a replacement of the initial element.\r\n\r\n    public static &lt;T, R&gt; BiConsumer&lt;T, Consumer&lt;R&gt;&gt; mapAndFlatten(Function&lt;T, List&lt;R&gt;&gt; mapper) {\r\n        \r\n        return (t, consumer) -&gt; {\r\n            List&lt;R&gt; list = mapper.apply(t);\r\n            if (list != null) list.forEach(consumer);\r\n        };\r\n    }\r\n\r\nAnd the stream might look as follows:\r\n\r\n```\r\nStream.of(t1, t2, t3)\r\n    .&lt;R1&gt;mapMulti(mapAndFlatten(Method_Ref_1)) // with mapMulti() type inference mechanism would potentially require a hand in the form of type-witness &lt;R&gt;\r\n    .&lt;R2&gt;mapMulti(mapAndFlatten(Method_Ref_2))\r\n    .forEach(Perform_Some_Operations);\r\n```\r\n\r\n*Dummy Example:* [*a link to Online Demo*](https://www.jdoodle.com/ia/xMD)\r\n\r\n**Note**\r\n\r\n* When you need to return a Collection, it&#39;s always a good idea to return an *empty Collection* instead of `null`. You might find this suggestion in many authoritative sources, such as &quot;Effective Java&quot; by Joshua Bloch. It makes interaction with the resulting value way simpler.","title":"Abstracting repeated Intermediate Stream-operations into a single Function","body":"<blockquote>\n<p>it obvious that I cant use generics with a BiFunction?</p>\n</blockquote>\n<p>You can use generics with functions. But you can't provide a function which consumes a stream as an argument of the <code>map()</code> operation, which expects an argument of type <code>Function&lt;? super T,? extends R&gt;</code>. I.e. consumes a <em>stream element</em>, <strong>not</strong> a <em>stream</em>. And not that expected type is <code>Function</code>, not <code>BiFunction</code>.</p>\n<p>And since you're flattening the data, it would not work with <code>map</code> because <code>map</code> is meant to perform <em>one-to-one</em> transformations (meanwhile you have <em>one-to-many</em> transformation).</p>\n<p>As the hosting operation for <code>mapAndFlatten</code> you need either <code>flatMap()</code> or <code>mapMulti()</code>.</p>\n<h1>flatMap()</h1>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#flatMap(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>flatMap()</code></a> expects a function consuming stream element and producing a stream of the resulting type <code>Function&lt;T, Stream&lt;R&gt;&gt;</code>.</p>\n<p>That's how you can generate such function (Credits to <em>@Holger</em> for this concise implementation):</p>\n<pre><code>private static &lt;T, R&gt; Function&lt;T, Stream&lt;R&gt;&gt; mapAndFlatten(Function&lt;T, List&lt;R&gt;&gt; mapper) {\n    \n    return t -&gt; Stream.ofNullable(mapper.apply(t))\n        .flatMap(Collection::stream);\n}\n</code></pre>\n<p>And the stream would look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Stream.of(t1, t2, t3)\n    .flatMap(mapAndFlatten(Method_Ref_1))\n    .flatMap(mapAndFlatten(Method_Ref_2))\n    .forEach(Perform_Some_Operations);\n</code></pre>\n<p><em>Dummy Example:</em> <a href=\"https://www.jdoodle.com/ia/xME\" rel=\"nofollow noreferrer\"><em>a link to Online Demo</em></a></p>\n<h1>mapMulty()</h1>\n<p>Another option would be to make use of Java 16 <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\"><code>mapMulti()</code></a>. This operation expects an argument of type <code>BiConsumer</code>, which in turn consumes an element of the initial type and consumer of the resulting type. Every element fed to the consumer of the resulting type becomes a replacement of the initial element.</p>\n<pre><code>public static &lt;T, R&gt; BiConsumer&lt;T, Consumer&lt;R&gt;&gt; mapAndFlatten(Function&lt;T, List&lt;R&gt;&gt; mapper) {\n    \n    return (t, consumer) -&gt; {\n        List&lt;R&gt; list = mapper.apply(t);\n        if (list != null) list.forEach(consumer);\n    };\n}\n</code></pre>\n<p>And the stream might look as follows:</p>\n<pre><code>Stream.of(t1, t2, t3)\n    .&lt;R1&gt;mapMulti(mapAndFlatten(Method_Ref_1)) // with mapMulti() type inference mechanism would potentially require a hand in the form of type-witness &lt;R&gt;\n    .&lt;R2&gt;mapMulti(mapAndFlatten(Method_Ref_2))\n    .forEach(Perform_Some_Operations);\n</code></pre>\n<p><em>Dummy Example:</em> <a href=\"https://www.jdoodle.com/ia/xMD\" rel=\"nofollow noreferrer\"><em>a link to Online Demo</em></a></p>\n<p><strong>Note</strong></p>\n<ul>\n<li>When you need to return a Collection, it's always a good idea to return an <em>empty Collection</em> instead of <code>null</code>. You might find this suggestion in many authoritative sources, such as &quot;Effective Java&quot; by Joshua Bloch. It makes interaction with the resulting value way simpler.</li>\n</ul>\n"}],"owner":{"account_id":14245681,"reputation":33,"user_id":12453572,"display_name":"Dan Birmingham"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74157258,"answer_count":1,"score":1,"last_activity_date":1666718252,"creation_date":1666372057,"question_id":74157023,"body_markdown":"I am working with a large data structure where I want to perform a series of stream operations of the pattern:\r\n\r\n``` java\r\n&lt;some stream&gt;\r\n    .map(&lt;method reference getter that returns List&gt;).filter(Objects::nonNull).flatMap(Collections::stream)\r\n    .map(&lt;method reference getter that returns another sub-List&gt;).filter(Objects::nonNull).flatMap(Collections::stream)\r\n    .forEach(&lt;perform some operations&gt;)\r\n```\r\n\r\nI would like to compose a definition that abstracts the `map`, `filter`, and `flatMap` operations into a single function that I can apply to the stream with a `map` or pass the stream to; in my head it looks something like this:\r\n\r\n``` java\r\nprivate static final &lt;T,R&gt; BiFunction&lt;Stream&lt;T&gt;, Function&lt;T,List&lt;R&gt;&gt;, Stream&lt;R&gt;&gt; mapAndFlatten =\r\n    (inStream, lstGetter) -&gt; {\r\n        return inStream.map(lstGetter)\r\n            .filter(Objects::nonNull)\r\n            .flatmap(Collections::stream);\r\n}\r\n```\r\n\r\nHowever, I&#39;m not conceptualizing some things correctly. For one, the above syntax isn&#39;t right; is it obvious that I can&#39;t use generics with a `BiFunction`? Is there an existing framework/pattern to accomplish what I&#39;m trying to do? Composing functions that make up subsequent `map` operations seems straight forward enough, so what about the addition of `filter` and `flatMap` is making it so hard for me to develop a solution? I&#39;m struggling to find helpful information/examples. Am I conflating OO and functional concepts in a way that doesn&#39;t make sense?\r\n\r\nMaybe I&#39;m working too hard for a solution that doesn&#39;t need to exist; its not all that difficult to write `.filter(Objects::nonNull).flatmap(Collections::stream)`, but it feels verbose.","title":"Abstracting repeated Intermediate Stream-operations into a single Function","body":"<p>I am working with a large data structure where I want to perform a series of stream operations of the pattern:</p>\n<pre class=\"lang-java prettyprint-override\"><code>&lt;some stream&gt;\n    .map(&lt;method reference getter that returns List&gt;).filter(Objects::nonNull).flatMap(Collections::stream)\n    .map(&lt;method reference getter that returns another sub-List&gt;).filter(Objects::nonNull).flatMap(Collections::stream)\n    .forEach(&lt;perform some operations&gt;)\n</code></pre>\n<p>I would like to compose a definition that abstracts the <code>map</code>, <code>filter</code>, and <code>flatMap</code> operations into a single function that I can apply to the stream with a <code>map</code> or pass the stream to; in my head it looks something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final &lt;T,R&gt; BiFunction&lt;Stream&lt;T&gt;, Function&lt;T,List&lt;R&gt;&gt;, Stream&lt;R&gt;&gt; mapAndFlatten =\n    (inStream, lstGetter) -&gt; {\n        return inStream.map(lstGetter)\n            .filter(Objects::nonNull)\n            .flatmap(Collections::stream);\n}\n</code></pre>\n<p>However, I'm not conceptualizing some things correctly. For one, the above syntax isn't right; is it obvious that I can't use generics with a <code>BiFunction</code>? Is there an existing framework/pattern to accomplish what I'm trying to do? Composing functions that make up subsequent <code>map</code> operations seems straight forward enough, so what about the addition of <code>filter</code> and <code>flatMap</code> is making it so hard for me to develop a solution? I'm struggling to find helpful information/examples. Am I conflating OO and functional concepts in a way that doesn't make sense?</p>\n<p>Maybe I'm working too hard for a solution that doesn't need to exist; its not all that difficult to write <code>.filter(Objects::nonNull).flatmap(Collections::stream)</code>, but it feels verbose.</p>\n"},{"tags":["java","spring","spring-boot","rest"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":2,"creation_date":1666711506,"post_id":74196467,"comment_id":130999011,"body_markdown":"Because a `List&lt;Values&gt;` is not an `AmountDetail`. If you&#39;re looking to push this out through a REST query, you likely either need a way to convert both values into a string form, or you need to return a common superclass (which in this case, might only be `Object`).","body":"Because a <code>List&lt;Values&gt;</code> is not an <code>AmountDetail</code>. If you&#39;re looking to push this out through a REST query, you likely either need a way to convert both values into a string form, or you need to return a common superclass (which in this case, might only be <code>Object</code>)."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1666711530,"post_id":74196467,"comment_id":130999015,"body_markdown":"Please provide a [mcve]. You haven&#39;t shown the class declaration for `AmountDetail`, or the implementation of `ser.getDetails()`.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. You haven&#39;t shown the class declaration for <code>AmountDetail</code>, or the implementation of <code>ser.getDetails()</code>."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1666711560,"post_id":74196467,"comment_id":130999020,"body_markdown":"@Rogue: My guess is that `AmountDetail` *might* actually derive from `List&lt;Value&gt;`, but it&#39;s very hard to tell due to the incomplete pseudo-code instead of a [mcve]...","body":"@Rogue: My guess is that <code>AmountDetail</code> <i>might</i> actually derive from <code>List&lt;Value&gt;</code>, but it&#39;s very hard to tell due to the incomplete pseudo-code instead of a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>..."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1666712099,"post_id":74196467,"comment_id":130999240,"body_markdown":"@JonSkeet I feel like we wouldn&#39;t see a CCE in that case, unless perhaps we&#39;re seeing a subtype/supertype of `Values` if `AmountDetail extends List&lt;&quot;Values&quot;&gt;`","body":"@JonSkeet I feel like we wouldn&#39;t see a CCE in that case, unless perhaps we&#39;re seeing a subtype/supertype of <code>Values</code> if <code>AmountDetail extends List&lt;&quot;Values&quot;&gt;</code>"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1666712369,"post_id":74196467,"comment_id":130999337,"body_markdown":"Again, we can&#39;t really tell without more information. I don&#39;t think it&#39;s worth speculating further. Let&#39;s just see if the OP decides to provide the info...","body":"Again, we can&#39;t really tell without more information. I don&#39;t think it&#39;s worth speculating further. Let&#39;s just see if the OP decides to provide the info..."},{"owner":{"account_id":26668769,"reputation":1,"user_id":20280477,"display_name":"Daboo"},"score":0,"creation_date":1666852052,"post_id":74196467,"comment_id":131034228,"body_markdown":"No AmountDetail does not extend List&lt;Values&gt;. Declaration of all the classes are given","body":"No AmountDetail does not extend List&lt;Values&gt;. Declaration of all the classes are given"}],"answers":[{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666718004,"creation_date":1666718004,"answer_id":74197868,"question_id":74196467,"body_markdown":"&gt;      // here I am getting error while hitting the API\r\n&gt;       return (AmountDetail) getSoDetails(accId);\r\n\r\nFor this line to compile, `getSoDetails(...)` needs to return something that can be cast into `AmountDetail`.\r\n\r\n&gt;     public List&lt;Values&gt; getSoDetails(String accId) {\r\n\r\nBut `getSoDetails(...)` returns a `List&lt;Values&gt;` which cannot be cast into an `AmountDetail`.  You should probably do something like:\r\n\r\n    List&lt;Values&gt; values = getSoDetails(accId);\r\n    return new AccountDetail(accId, values);\r\n\r\nYou make the call to the `getSoDetails(...)` and then call the `AccountDetail` constructor to return the correct object.  I&#39;m not sure if `accId` is an appropriate value for `AccountDetail` field `fieId` but you get the idea.\r\n","title":"How to solve classcastexception while using List","body":"<blockquote>\n<pre><code> // here I am getting error while hitting the API\n  return (AmountDetail) getSoDetails(accId);\n</code></pre>\n</blockquote>\n<p>For this line to compile, <code>getSoDetails(...)</code> needs to return something that can be cast into <code>AmountDetail</code>.</p>\n<blockquote>\n<pre><code>public List&lt;Values&gt; getSoDetails(String accId) {\n</code></pre>\n</blockquote>\n<p>But <code>getSoDetails(...)</code> returns a <code>List&lt;Values&gt;</code> which cannot be cast into an <code>AmountDetail</code>.  You should probably do something like:</p>\n<pre><code>List&lt;Values&gt; values = getSoDetails(accId);\nreturn new AccountDetail(accId, values);\n</code></pre>\n<p>You make the call to the <code>getSoDetails(...)</code> and then call the <code>AccountDetail</code> constructor to return the correct object.  I'm not sure if <code>accId</code> is an appropriate value for <code>AccountDetail</code> field <code>fieId</code> but you get the idea.</p>\n"}],"owner":{"account_id":26668769,"reputation":1,"user_id":20280477,"display_name":"Daboo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666718004,"creation_date":1666711384,"question_id":74196467,"body_markdown":"    public AmountDetail getAmount(String accId) {\r\n        Optional&lt;Acc&gt; acc = accRepository.findById(accId);\r\n        if (acc.isPresent())\r\n          // this is fine and it&#39;s response type is -&gt; AmountDetail\r\n          return fetchDetails(accId);\r\n        else if (!acc.isPresent())\r\n          // here I am getting error while hitting the API\r\n          return (AmountDetail) getSoDetails(accId);\r\n    }\r\n\r\n    public List&lt;Values&gt; getSoDetails(String accId) {\r\n        List&lt;Values&gt; val = ser.getDetails(accId)\r\n    }\r\n    \r\nValues.java\r\n\r\n    {\r\n        private String acc;\r\n        private String email;\r\n    }\r\n\r\n    \r\nAmountDetail.java \r\n\r\n    {\r\n        private String fieId;\r\n        private List&lt;DetailsConsumer&gt; cons;\r\n    }\r\n\r\nWhen I am hitting the API in postman if clause is working fine but if I want to check for else it is giving error. I feel casting is the issue here but I am not sure how can I return the values of else block.\r\n\r\n\r\n\r\n\r\n","title":"How to solve classcastexception while using List","body":"<pre><code>public AmountDetail getAmount(String accId) {\n    Optional&lt;Acc&gt; acc = accRepository.findById(accId);\n    if (acc.isPresent())\n      // this is fine and it's response type is -&gt; AmountDetail\n      return fetchDetails(accId);\n    else if (!acc.isPresent())\n      // here I am getting error while hitting the API\n      return (AmountDetail) getSoDetails(accId);\n}\n\npublic List&lt;Values&gt; getSoDetails(String accId) {\n    List&lt;Values&gt; val = ser.getDetails(accId)\n}\n</code></pre>\n<p>Values.java</p>\n<pre><code>{\n    private String acc;\n    private String email;\n}\n</code></pre>\n<p>AmountDetail.java</p>\n<pre><code>{\n    private String fieId;\n    private List&lt;DetailsConsumer&gt; cons;\n}\n</code></pre>\n<p>When I am hitting the API in postman if clause is working fine but if I want to check for else it is giving error. I feel casting is the issue here but I am not sure how can I return the values of else block.</p>\n"},{"tags":["java","android-volley"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1666711665,"post_id":74195843,"comment_id":130999054,"body_markdown":"It looks to me like you want to throw exceptions from methods of an anonymous inner class. If that&#39;s correct, you might want to edit the title of your question. Maybe &quot;Throwing exceptions from methods of an anonymous inner class?&quot;","body":"It looks to me like you want to throw exceptions from methods of an anonymous inner class. If that&#39;s correct, you might want to edit the title of your question. Maybe &quot;Throwing exceptions from methods of an anonymous inner class?&quot;"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1666711866,"post_id":74195843,"comment_id":130999129,"body_markdown":"It also looks like you&#39;re trying initialize the JsonArrayRequest by typing all of the arguments directly into the parameter list, even when the parameters are quite complicated and involve code.  This is poor style imo.  Declare some private methods that return the proper values and put the code in those methods.  It&#39;ll be much cleaner to read.  I don&#39;t know if what you have now is considered good style in JavaScript, but I definitely wouldn&#39;t use it with Java.","body":"It also looks like you&#39;re trying initialize the JsonArrayRequest by typing all of the arguments directly into the parameter list, even when the parameters are quite complicated and involve code.  This is poor style imo.  Declare some private methods that return the proper values and put the code in those methods.  It&#39;ll be much cleaner to read.  I don&#39;t know if what you have now is considered good style in JavaScript, but I definitely wouldn&#39;t use it with Java."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1666712001,"post_id":74195843,"comment_id":130999196,"body_markdown":"Also I don&#39;t understand this: `catch (JSONException error) { throw new JSONException(error);` why are you catching an exception only to throw the exact same exception?  This makes no sense.  I think you need to explain in more detail what you are asking help with.  We can&#39;t help you if we don&#39;t understand the issue.","body":"Also I don&#39;t understand this: <code>catch (JSONException error) { throw new JSONException(error);</code> why are you catching an exception only to throw the exact same exception?  This makes no sense.  I think you need to explain in more detail what you are asking help with.  We can&#39;t help you if we don&#39;t understand the issue."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1666712837,"post_id":74195843,"comment_id":130999512,"body_markdown":"There appear to be some examples of catching errors with Volley/Gson on the Volley web page.  These examples are much clearer imo that what you are showing or trying to do.  Please take a look: https://google.github.io/volley/request-custom.html","body":"There appear to be some examples of catching errors with Volley/Gson on the Volley web page.  These examples are much clearer imo that what you are showing or trying to do.  Please take a look: <a href=\"https://google.github.io/volley/request-custom.html\" rel=\"nofollow noreferrer\">google.github.io/volley/request-custom.html</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1666750284,"post_id":74195843,"comment_id":131008382,"body_markdown":"Have you tried creating complete code that attempts this?  How did the compiler respond?","body":"Have you tried creating complete code that attempts this?  How did the compiler respond?"}],"owner":{"account_id":19080080,"reputation":67,"user_id":13932483,"display_name":"Isaac Qadri"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666717786,"creation_date":1666708688,"question_id":74195843,"body_markdown":"I want to catch Volley Errors That occur in onResponse and onErrorResponse to throw them inside fetchAdmins Method.\r\n\r\n```\r\npublic void fetchAdmins () throws JSONException, VolleyError {\r\n    JsonArrayRequest jsonArrayRequest = new JsonArrayRequest(\r\n            ...\r\n                @Override\r\n                public void onResponse(JSONArray response) {\r\n                    try {\r\n                        ...\r\n                        }\r\n\r\n                    } catch (JSONException error) {\r\n// i want to throw this error in fetchAdmins.\r\n                        throw new JSONException(error);\r\n                    }\r\n                }\r\n            }, new Response.ErrorListener() {\r\n        @Override\r\n        public void onErrorResponse(VolleyError error) {\r\n// + i want to throw this error in fetchAdmins.\r\n            throw new VolleyError(error);\r\n        }\r\n    });\r\n}\r\n```\r\n\r\nPlease suggest me a way for achieving this in java if that&#39;s possible.\r\n","title":"Java - Throwing exceptions from methods of an anonymous inner class that&#39;s declared inside a method","body":"<p>I want to catch Volley Errors That occur in onResponse and onErrorResponse to throw them inside fetchAdmins Method.</p>\n<pre><code>public void fetchAdmins () throws JSONException, VolleyError {\n    JsonArrayRequest jsonArrayRequest = new JsonArrayRequest(\n            ...\n                @Override\n                public void onResponse(JSONArray response) {\n                    try {\n                        ...\n                        }\n\n                    } catch (JSONException error) {\n// i want to throw this error in fetchAdmins.\n                        throw new JSONException(error);\n                    }\n                }\n            }, new Response.ErrorListener() {\n        @Override\n        public void onErrorResponse(VolleyError error) {\n// + i want to throw this error in fetchAdmins.\n            throw new VolleyError(error);\n        }\n    });\n}\n</code></pre>\n<p>Please suggest me a way for achieving this in java if that's possible.</p>\n"},{"tags":["java","xpath","xpath-2.0"],"answers":[{"tags":[],"owner":{"account_id":259521,"reputation":4921,"user_id":542461,"display_name":"Joseph Ottinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1303901901,"creation_date":1303901901,"answer_id":5802937,"question_id":5802895,"body_markdown":"I don&#39;t know if Java 6 does, but I&#39;m pretty sure Saxon (http://saxon.sourceforge.net/) does.","title":"does JDK 6 support all features of XPath 2.0?","body":"<p>I don't know if Java 6 does, but I'm pretty sure Saxon (http://saxon.sourceforge.net/) does.</p>\n"},{"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1666717573,"creation_date":1303902313,"answer_id":5803028,"question_id":5802895,"body_markdown":"According to [the javadoc][1], Java 6 supports [XML Path Language (XPath) Version 1.0][2]\r\n\r\nThis is still [true as of Java 17][3].\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/javax/xml/xpath/package-summary.html\r\n  [2]: http://www.w3.org/TR/xpath\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.xml/javax/xml/xpath/XPath.html","title":"does JDK 6 support all features of XPath 2.0?","body":"<p>According to <a href=\"http://download.oracle.com/javase/6/docs/api/javax/xml/xpath/package-summary.html\" rel=\"nofollow noreferrer\">the javadoc</a>, Java 6 supports <a href=\"http://www.w3.org/TR/xpath\" rel=\"nofollow noreferrer\">XML Path Language (XPath) Version 1.0</a></p>\n<p>This is still <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.xml/javax/xml/xpath/XPath.html\" rel=\"nofollow noreferrer\">true as of Java 17</a>.</p>\n"},{"tags":[],"owner":{"account_id":16586,"reputation":241511,"user_id":36305,"accept_rate":100,"display_name":"Dimitre Novatchev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1304344106,"creation_date":1304342968,"answer_id":5857753,"question_id":5802895,"body_markdown":"Java is a programming language and it doesn&#39;t have direct language constructs, especially designed for evaluating XPath expressions.\r\n\r\nIt is totally different that some classes can come bundled with the Java distribution, that implement an XPath engine.\r\n\r\nAFAIK, these XPath-engine implementing classes at present only implement XPath 1.0.\r\n\r\nOf course, there are a number of 3rd party Java-based products, such as Saxon, which I am using every day in my free time. Another one I have seen mentioned is PsychoPath.\r\n\r\n","title":"does JDK 6 support all features of XPath 2.0?","body":"<p>Java is a programming language and it doesn't have direct language constructs, especially designed for evaluating XPath expressions.</p>\n\n<p>It is totally different that some classes can come bundled with the Java distribution, that implement an XPath engine.</p>\n\n<p>AFAIK, these XPath-engine implementing classes at present only implement XPath 1.0.</p>\n\n<p>Of course, there are a number of 3rd party Java-based products, such as Saxon, which I am using every day in my free time. Another one I have seen mentioned is PsychoPath.</p>\n"}],"owner":{"account_id":75292,"reputation":60810,"user_id":216021,"accept_rate":82,"display_name":"kostja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1978,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":5803028,"answer_count":3,"score":6,"last_activity_date":1666717573,"creation_date":1303901636,"question_id":5802895,"body_markdown":"like `for`, `sum`, `if`, `intersect`...and if not, or not entirely, where can I find the details? And if it does, where can I find an official confirmation?","title":"does JDK 6 support all features of XPath 2.0?","body":"<p>like <code>for</code>, <code>sum</code>, <code>if</code>, <code>intersect</code>...and if not, or not entirely, where can I find the details? And if it does, where can I find an official confirmation?</p>\n"},{"tags":["java","algorithm","recursion","permutation"],"comments":[{"owner":{"account_id":1707439,"reputation":236096,"user_id":1566221,"accept_rate":86,"display_name":"rici"},"score":0,"creation_date":1666728842,"post_id":74197773,"comment_id":131004355,"body_markdown":"Generating *all* possibilities in order to return a small sample is a really bad idea. Even with small values of the parameters, the full list of possibilities can be enormous. For example, if you want strings of length 6 from the alphabet consisting of upper and lower case letters and digits, you will produce 56,800,235,584 strings. If all you needed was eight of them, you will have unnecessarily produced 56,800,235,576 strings, which is going to take a noticeable amount of time (and quite possibly blow up your memory while it tries to store them).","body":"Generating <i>all</i> possibilities in order to return a small sample is a really bad idea. Even with small values of the parameters, the full list of possibilities can be enormous. For example, if you want strings of length 6 from the alphabet consisting of upper and lower case letters and digits, you will produce 56,800,235,584 strings. If all you needed was eight of them, you will have unnecessarily produced 56,800,235,576 strings, which is going to take a noticeable amount of time (and quite possibly blow up your memory while it tries to store them)."},{"owner":{"account_id":26338497,"reputation":15,"user_id":19997982,"display_name":"Fellou98"},"score":0,"creation_date":1666729850,"post_id":74197773,"comment_id":131004631,"body_markdown":"Actually i dont want to make all possible strings from alphabet, im passing String and later converting it to char array and I&#39;m creating permutations of string from given chars so in example i passed &quot;abcd&quot;","body":"Actually i dont want to make all possible strings from alphabet, im passing String and later converting it to char array and I&#39;m creating permutations of string from given chars so in example i passed &quot;abcd&quot;"}],"owner":{"account_id":26338497,"reputation":15,"user_id":19997982,"display_name":"Fellou98"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666717405,"creation_date":1666717405,"question_id":74197773,"body_markdown":"i know there was some questions similar to this one but i couldn&#39;t find answer exactly on this problem or come up with solution so here i am.\r\n\r\nI have a task that says: \r\n\r\n&gt; Users should be able to define how long the string will be (min and max length), specify possible chars of string (from what characters string should be made) and how much strings he wants.\r\n\r\nSo i almost finished it but there is one main problem with Min and Max length of String. From what i understand when user put for example `minLength = 2, maxLength = 5` it should print all combination with 2 characters, 3, 4 and 5. \r\n\r\nI would like to know what statement should i put in my code to work as it should. For now my code looks like this \r\n```\r\n  private void iterate(char[] chars, int maxLength, int minLength, int howMany, char[] build, int pos) {\r\n        while (check &lt; howMany) {\r\n\r\n            if (pos == maxLength || ????) { // what to do here\r\n                Word word = new Word(null, new String(build));\r\n                SetOfWords.add(word);\r\n                save(word);\r\n                check++;\r\n                return;\r\n            }\r\n\r\n            for (int i = 0; i &lt; chars.length; i++) {\r\n                build[pos] = chars[i];\r\n                iterate(chars, maxLength, minLength, howMany, build, pos + 1);\r\n            }\r\n        }\r\n    }\r\n```\r\nAnd when i pass let&#39;s say 4 as a maxLength it generates all combination but with only 4 characters like this.\r\n```\r\n {\r\n        &quot;id&quot;: 1,\r\n        &quot;word&quot;: &quot;aaaa&quot;\r\n    },\r\n    {\r\n        &quot;id&quot;: 4,\r\n        &quot;word&quot;: &quot;aaad&quot;\r\n    },\r\n    {\r\n        &quot;id&quot;: 2,\r\n        &quot;word&quot;: &quot;aaab&quot;\r\n    },\r\n    {\r\n        &quot;id&quot;: 3,\r\n        &quot;word&quot;: &quot;aaac&quot;\r\n    },\r\n    {\r\n        &quot;id&quot;: 5,\r\n        &quot;word&quot;: &quot;aaba&quot;\r\n    }\r\n]\r\n```\r\n I want it to generate all possibilities from 1 character to 5 and then eventually set lower limit.","title":"Every combination from given characters from given minimum length to maximum","body":"<p>i know there was some questions similar to this one but i couldn't find answer exactly on this problem or come up with solution so here i am.</p>\n<p>I have a task that says:</p>\n<blockquote>\n<p>Users should be able to define how long the string will be (min and max length), specify possible chars of string (from what characters string should be made) and how much strings he wants.</p>\n</blockquote>\n<p>So i almost finished it but there is one main problem with Min and Max length of String. From what i understand when user put for example <code>minLength = 2, maxLength = 5</code> it should print all combination with 2 characters, 3, 4 and 5.</p>\n<p>I would like to know what statement should i put in my code to work as it should. For now my code looks like this</p>\n<pre><code>  private void iterate(char[] chars, int maxLength, int minLength, int howMany, char[] build, int pos) {\n        while (check &lt; howMany) {\n\n            if (pos == maxLength || ????) { // what to do here\n                Word word = new Word(null, new String(build));\n                SetOfWords.add(word);\n                save(word);\n                check++;\n                return;\n            }\n\n            for (int i = 0; i &lt; chars.length; i++) {\n                build[pos] = chars[i];\n                iterate(chars, maxLength, minLength, howMany, build, pos + 1);\n            }\n        }\n    }\n</code></pre>\n<p>And when i pass let's say 4 as a maxLength it generates all combination but with only 4 characters like this.</p>\n<pre><code> {\n        &quot;id&quot;: 1,\n        &quot;word&quot;: &quot;aaaa&quot;\n    },\n    {\n        &quot;id&quot;: 4,\n        &quot;word&quot;: &quot;aaad&quot;\n    },\n    {\n        &quot;id&quot;: 2,\n        &quot;word&quot;: &quot;aaab&quot;\n    },\n    {\n        &quot;id&quot;: 3,\n        &quot;word&quot;: &quot;aaac&quot;\n    },\n    {\n        &quot;id&quot;: 5,\n        &quot;word&quot;: &quot;aaba&quot;\n    }\n]\n</code></pre>\n<p>I want it to generate all possibilities from 1 character to 5 and then eventually set lower limit.</p>\n"},{"tags":["java","spring","spring-boot","java-stream","lightweight-stream-api"],"answers":[{"tags":[],"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666701879,"creation_date":1666701879,"answer_id":74194312,"question_id":74194148,"body_markdown":"The solution would be:\r\n```java\r\nbookingList.stream().collect(Collectors.groupingBy(Booking::getOfficeType, Collectors.counting()));\r\n```\r\nFor reference: [Collectors.counting()][1]\r\n\r\n\r\n  [1]: https://stackabuse.com/guide-to-java-8-collectors-counting/","title":"How to groupBy and its count list of items into Map object in Java?","body":"<p>The solution would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>bookingList.stream().collect(Collectors.groupingBy(Booking::getOfficeType, Collectors.counting()));\n</code></pre>\n<p>For reference: <a href=\"https://stackabuse.com/guide-to-java-8-collectors-counting/\" rel=\"nofollow noreferrer\">Collectors.counting()</a></p>\n"},{"tags":[],"owner":{"account_id":24350641,"reputation":125,"user_id":18286518,"display_name":"Find Bugs"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666702129,"creation_date":1666701986,"answer_id":74194326,"question_id":74194148,"body_markdown":"Use lambda expression like below:\r\n\r\n```\r\nList&lt;Booking&gt; bookingList = bookingRepository.findByStatus(Status.APPROVED);\r\nMap&lt;OfficeType, Integer&gt; officeTypeMap = bookingList.stream().collect(Collectors.groupingBy(Booking::getOfficeType,Collectors.counting()));\r\n```","title":"How to groupBy and its count list of items into Map object in Java?","body":"<p>Use lambda expression like below:</p>\n<pre><code>List&lt;Booking&gt; bookingList = bookingRepository.findByStatus(Status.APPROVED);\nMap&lt;OfficeType, Integer&gt; officeTypeMap = bookingList.stream().collect(Collectors.groupingBy(Booking::getOfficeType,Collectors.counting()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666716998,"creation_date":1666702604,"answer_id":74194460,"question_id":74194148,"body_markdown":"To generate a `Map` of type `Map&lt;OfficeType,Integer&gt;` you can either use *three-args* version of Collector `toMap()`, or a combination of Collectors `collectiongAndThen()` and `groupingBy()` + collector `counting()` as a downstream of grouping.\r\n\r\n# toMap()\r\n\r\nIf you&#39;re not expecting a large amount of elements having the same `id`, you can use the following single-collector solution based on *three-args* [`toMap()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator)):\r\n\r\n```\r\nList&lt;Booking&gt; bookingList = bookingRepository.findByStatus(Status.APPROVED);\r\n        \r\nMap&lt;OfficeType, Integer&gt; officeTypeMap = bookingList.stream()\r\n    .collect(Collectors.toMap(\r\n        OfficeType::getId,\r\n        i -&gt; 1,\r\n        Integer::sum\r\n    ));\r\n```\r\n\r\n**Note regarding performance:**\r\n\r\nThere can be a small overhead caused generating new instances of `Integer` (because code above operates with wrapper type and primitive `int`). But all instances of `Integer` having a value of less than `128` are cached by the JVM (i.e. they would be created only once, and then the same reference would be used). So if there&#39;s roughly a hundred of elements having identical `id` there would be **no** tangible difference between this single collector-solution and the one listed below.\r\n\r\n# collectiongAndThen() &amp; groupingBy()\r\n\r\nThis approach [`groupingBy()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#partitioningBy(java.util.function.Predicate,java.util.stream.Collector)) in conjunction with [`counting()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#counting()) as a downstream might be more performant when number if the data is massive. In this case, accumulation through collector `counting()`, which calculates resulting value using primitive `long`, can more advantages.\r\n\r\nTo transform the `Long` into `Integer` we can wrap `groupingBy()` with [`collectingAndThen()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#collectingAndThen(java.util.stream.Collector,java.util.function.Function)).\r\n\r\n```\r\nList&lt;Booking&gt; bookingList = bookingRepository.findByStatus(Status.APPROVED);\r\n        \r\nMap&lt;OfficeType, Integer&gt; officeTypeMap = bookingList.stream()\r\n    .collect(Collectors.collectingAndThen(\r\n        Collectors.groupingBy(OfficeType::getId, Collectors.counting()),\r\n        Long::intValue)\r\n    ));\r\n```","title":"How to groupBy and its count list of items into Map object in Java?","body":"<p>To generate a <code>Map</code> of type <code>Map&lt;OfficeType,Integer&gt;</code> you can either use <em>three-args</em> version of Collector <code>toMap()</code>, or a combination of Collectors <code>collectiongAndThen()</code> and <code>groupingBy()</code> + collector <code>counting()</code> as a downstream of grouping.</p>\n<h1>toMap()</h1>\n<p>If you're not expecting a large amount of elements having the same <code>id</code>, you can use the following single-collector solution based on <em>three-args</em> <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator)\" rel=\"nofollow noreferrer\"><code>toMap()</code></a>:</p>\n<pre><code>List&lt;Booking&gt; bookingList = bookingRepository.findByStatus(Status.APPROVED);\n        \nMap&lt;OfficeType, Integer&gt; officeTypeMap = bookingList.stream()\n    .collect(Collectors.toMap(\n        OfficeType::getId,\n        i -&gt; 1,\n        Integer::sum\n    ));\n</code></pre>\n<p><strong>Note regarding performance:</strong></p>\n<p>There can be a small overhead caused generating new instances of <code>Integer</code> (because code above operates with wrapper type and primitive <code>int</code>). But all instances of <code>Integer</code> having a value of less than <code>128</code> are cached by the JVM (i.e. they would be created only once, and then the same reference would be used). So if there's roughly a hundred of elements having identical <code>id</code> there would be <strong>no</strong> tangible difference between this single collector-solution and the one listed below.</p>\n<h1>collectiongAndThen() &amp; groupingBy()</h1>\n<p>This approach <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#partitioningBy(java.util.function.Predicate,java.util.stream.Collector)\" rel=\"nofollow noreferrer\"><code>groupingBy()</code></a> in conjunction with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#counting()\" rel=\"nofollow noreferrer\"><code>counting()</code></a> as a downstream might be more performant when number if the data is massive. In this case, accumulation through collector <code>counting()</code>, which calculates resulting value using primitive <code>long</code>, can more advantages.</p>\n<p>To transform the <code>Long</code> into <code>Integer</code> we can wrap <code>groupingBy()</code> with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#collectingAndThen(java.util.stream.Collector,java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>collectingAndThen()</code></a>.</p>\n<pre><code>List&lt;Booking&gt; bookingList = bookingRepository.findByStatus(Status.APPROVED);\n        \nMap&lt;OfficeType, Integer&gt; officeTypeMap = bookingList.stream()\n    .collect(Collectors.collectingAndThen(\n        Collectors.groupingBy(OfficeType::getId, Collectors.counting()),\n        Long::intValue)\n    ));\n</code></pre>\n"}],"owner":{"account_id":1314578,"reputation":1907,"user_id":1261764,"accept_rate":94,"display_name":"abidinberkay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":619,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74194326,"answer_count":3,"score":0,"last_activity_date":1666716998,"creation_date":1666701207,"question_id":74194148,"body_markdown":"I have a list of Booking and this Booking has field OfficeType as enum as follow\r\n\r\n    @Data\r\n    @Entity\r\n    @TypeDef(name = &quot;json&quot;, typeClass = JsonStringType.class)\r\n    public class Booking {\r\n    @Id\r\n        @GeneratedValue(generator = &quot;uuid2&quot;)\r\n        @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot;)\r\n        @Column(name = &quot;id&quot;, nullable = false, columnDefinition = &quot;VARCHAR(36)&quot;)\r\n        private String id;\r\n    \r\n       \r\n    \r\n        @Column(name = &quot;office_type&quot;)\r\n        private OfficeType officeType;\r\n\r\nI get the list of Booking from db, and I need to return to client that list and grouped by *Office type* and *count* as:\r\n\r\n    List&lt;Booking&gt; bookingList = bookingRepository.findByStatus(Status.APPROVED);\r\n            Map&lt;OfficeType, Integer&gt; officeTypeMap = new HashMap&lt;&gt;();\r\n\r\nHow can I stream that list into that map grouping by OfficeType and counts ?","title":"How to groupBy and its count list of items into Map object in Java?","body":"<p>I have a list of Booking and this Booking has field OfficeType as enum as follow</p>\n<pre><code>@Data\n@Entity\n@TypeDef(name = &quot;json&quot;, typeClass = JsonStringType.class)\npublic class Booking {\n@Id\n    @GeneratedValue(generator = &quot;uuid2&quot;)\n    @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot;)\n    @Column(name = &quot;id&quot;, nullable = false, columnDefinition = &quot;VARCHAR(36)&quot;)\n    private String id;\n\n   \n\n    @Column(name = &quot;office_type&quot;)\n    private OfficeType officeType;\n</code></pre>\n<p>I get the list of Booking from db, and I need to return to client that list and grouped by <em>Office type</em> and <em>count</em> as:</p>\n<pre><code>List&lt;Booking&gt; bookingList = bookingRepository.findByStatus(Status.APPROVED);\n        Map&lt;OfficeType, Integer&gt; officeTypeMap = new HashMap&lt;&gt;();\n</code></pre>\n<p>How can I stream that list into that map grouping by OfficeType and counts ?</p>\n"},{"tags":["java","spring","spring-boot","oauth-2.0"],"comments":[{"owner":{"account_id":11177216,"reputation":1733,"user_id":8202380,"display_name":"Edwin Diaz"},"score":0,"creation_date":1543784844,"post_id":53583955,"comment_id":94032706,"body_markdown":"Looks like it might be a bug and a workaround might be to add a meaningless `userInfoUri` to your .yml file. https://github.com/spring-projects/spring-boot/issues/8565","body":"Looks like it might be a bug and a workaround might be to add a meaningless <code>userInfoUri</code> to your .yml file. <a href=\"https://github.com/spring-projects/spring-boot/issues/8565\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/8565</a>"},{"owner":{"account_id":3074802,"reputation":1031,"user_id":2604472,"accept_rate":42,"display_name":"lebowski"},"score":0,"creation_date":1543789564,"post_id":53583955,"comment_id":94033871,"body_markdown":"@EdwinDiaz-Mendez Thanks, I tried that too, didn&#39;t work.","body":"@EdwinDiaz-Mendez Thanks, I tried that too, didn&#39;t work."},{"owner":{"account_id":11177216,"reputation":1733,"user_id":8202380,"display_name":"Edwin Diaz"},"score":0,"creation_date":1543789876,"post_id":53583955,"comment_id":94033956,"body_markdown":"Okay. Question to you would be how come you are using a . properties file to configure a .yml file? Is it to avoid source control? Also are you sure there are no conflicts there?","body":"Okay. Question to you would be how come you are using a . properties file to configure a .yml file? Is it to avoid source control? Also are you sure there are no conflicts there?"},{"owner":{"account_id":11177216,"reputation":1733,"user_id":8202380,"display_name":"Edwin Diaz"},"score":0,"creation_date":1543790218,"post_id":53583955,"comment_id":94034035,"body_markdown":"Also please change `keyUri` to `key-uri` and let me know if it helps.","body":"Also please change <code>keyUri</code> to <code>key-uri</code> and let me know if it helps."},{"owner":{"account_id":3074802,"reputation":1031,"user_id":2604472,"accept_rate":42,"display_name":"lebowski"},"score":0,"creation_date":1543853630,"post_id":53583955,"comment_id":94057804,"body_markdown":"@EdwinDiaz-Mendez thanks, I already tried that too, didn&#39;t work. I think the `key-uri` format is to be followed only if you have a .properties file. I am using a .yml file instead, which needs a `keyUri` format.","body":"@EdwinDiaz-Mendez thanks, I already tried that too, didn&#39;t work. I think the <code>key-uri</code> format is to be followed only if you have a .properties file. I am using a .yml file instead, which needs a <code>keyUri</code> format."}],"answers":[{"tags":[],"owner":{"account_id":2770655,"reputation":419,"user_id":2385319,"accept_rate":0,"display_name":"IndikaM"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1556496763,"creation_date":1556496763,"answer_id":55895638,"question_id":53583955,"body_markdown":"    security:\r\n      oauth2:\r\n        client:\r\n          clientId: xxxx\r\n          clientSecret: xxxx\r\n          accessTokenUri: https://www/yyy.com/.well-known/oauth-authorization-server\r\n          userAuthorizationUri: https://www/yyy.com/.well-known/oauth-authorization-server\r\n          scope: openid profile email\r\n        resource:\r\n          userInfoUri: https://www/yyy.com/.well-known/oauth-authorization-server\r\n        sso:\r\n          loginpath: /authorization-code/callback\r\n\r\nin an application.yaml file did the trick for me.","title":"Spring Security oAuth complains about missing JWT verifier key even though it&#39;s defined","body":"<pre><code>security:\n  oauth2:\n    client:\n      clientId: xxxx\n      clientSecret: xxxx\n      accessTokenUri: https://www/yyy.com/.well-known/oauth-authorization-server\n      userAuthorizationUri: https://www/yyy.com/.well-known/oauth-authorization-server\n      scope: openid profile email\n    resource:\n      userInfoUri: https://www/yyy.com/.well-known/oauth-authorization-server\n    sso:\n      loginpath: /authorization-code/callback\n</code></pre>\n\n<p>in an application.yaml file did the trick for me.</p>\n"},{"tags":[],"owner":{"account_id":7355217,"reputation":512,"user_id":5600195,"display_name":"Utkarsh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581748058,"creation_date":1581508944,"answer_id":60187899,"question_id":53583955,"body_markdown":"    spring:\r\n      security:\r\n        oauth2:\r\n          client:\r\n            clientId: xxxxxxxxxxxxxxxxxxxx\r\n            clientSecret: xxxxxxxxxxxxxxxxxxxxxxxx\r\n            accessTokenUri: https:graph.facebook.com/oauth/access_token\r\n            userAuthorizationUri: https://www.facebook.com/dialog/oauth\r\n            tokenName:  oauth_token\r\n            authenticationScheme: query\r\n            clientAuthenticationScheme: form\r\n            scope: profile email\r\n          resource:\r\n            userInfoUri: https://graph.facebook.com/me\r\n\r\nI used this in my application.yml and it finally works. You just need to sublevel it with **spring:** (this worked for me).\r\n\r\nMoreover, I think you should use spring-boot-starter-oauth2-client instead.","title":"Spring Security oAuth complains about missing JWT verifier key even though it&#39;s defined","body":"<pre><code>spring:\n  security:\n    oauth2:\n      client:\n        clientId: xxxxxxxxxxxxxxxxxxxx\n        clientSecret: xxxxxxxxxxxxxxxxxxxxxxxx\n        accessTokenUri: https:graph.facebook.com/oauth/access_token\n        userAuthorizationUri: https://www.facebook.com/dialog/oauth\n        tokenName:  oauth_token\n        authenticationScheme: query\n        clientAuthenticationScheme: form\n        scope: profile email\n      resource:\n        userInfoUri: https://graph.facebook.com/me\n</code></pre>\n\n<p>I used this in my application.yml and it finally works. You just need to sublevel it with <strong>spring:</strong> (this worked for me).</p>\n\n<p>Moreover, I think you should use spring-boot-starter-oauth2-client instead.</p>\n"}],"owner":{"account_id":3074802,"reputation":1031,"user_id":2604472,"accept_rate":42,"display_name":"lebowski"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5932,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1666716653,"creation_date":1543779931,"question_id":53583955,"body_markdown":"I am migrating an application from Spring Boot 1.5 to Spring Boot 2. This entails updating the oAuth2 library that the project uses, since as of Spring Boot 2, the `spring-security-oauth2` library has been replaced with `spring-security-oauth2-autoconfigure` (as per my understanding).\r\n\r\nEither ways, during startup my project complains about the JWT verifier key (required by oAuth2) as missing, even though I clearly have the URI to the key defined in my `application.yml` file, along with other oAuth2 config, as follows:\r\n\r\n    security:\r\n      oauth2:\r\n        client:\r\n          userAuthorizationUri: ${uaa.url}/oauth/authorize\r\n          accessTokenUri: ${uaa.url}/oauth/token\r\n          clientId: ${security.oauth2.client.client-id}\r\n          clientSecret: ${security.oauth2.client.client-secret}\r\n        resource:\r\n          jwt:\r\n            keyUri: ${uaa.url}/oauth/token_key\r\n\r\nThe error that I get during startup is:\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Binding to target org.springframework.boot.autoconfigure.security.oauth2.resource.ResourceServerProperties@468bb799 failed:\r\n    \r\n        Property: resourceServerProperties.tokenInfoUri\r\n        Value: null\r\n        Reason: Missing tokenInfoUri and userInfoUri and there is no JWT verifier key\r\n\r\nThis configuration worked perfectly until I was using Spring Boot 1.5.x, but after upgrading to Spring Boot 2 (and moving to the `spring-security-oauth2-autoconfigure` library), I have started getting this problem.\r\n\r\nI can access the key in my browser by visiting the URL defined as `keyUri: ${uaa.url}/oauth/token_key` in the config above, so it&#39;s clearly a valid URL. What could be the problem here?\r\n\r\nEdit: One of the solutions I found online at several places was adding a dummy userInfoUri value, like this:\r\n\r\n    security:\r\n      oauth2:\r\n        resource:\r\n          userInfoUri: BUGFIX\r\n\r\nI tried this, still getting the same error.","title":"Spring Security oAuth complains about missing JWT verifier key even though it&#39;s defined","body":"<p>I am migrating an application from Spring Boot 1.5 to Spring Boot 2. This entails updating the oAuth2 library that the project uses, since as of Spring Boot 2, the <code>spring-security-oauth2</code> library has been replaced with <code>spring-security-oauth2-autoconfigure</code> (as per my understanding).</p>\n\n<p>Either ways, during startup my project complains about the JWT verifier key (required by oAuth2) as missing, even though I clearly have the URI to the key defined in my <code>application.yml</code> file, along with other oAuth2 config, as follows:</p>\n\n<pre><code>security:\n  oauth2:\n    client:\n      userAuthorizationUri: ${uaa.url}/oauth/authorize\n      accessTokenUri: ${uaa.url}/oauth/token\n      clientId: ${security.oauth2.client.client-id}\n      clientSecret: ${security.oauth2.client.client-secret}\n    resource:\n      jwt:\n        keyUri: ${uaa.url}/oauth/token_key\n</code></pre>\n\n<p>The error that I get during startup is:</p>\n\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nBinding to target org.springframework.boot.autoconfigure.security.oauth2.resource.ResourceServerProperties@468bb799 failed:\n\n    Property: resourceServerProperties.tokenInfoUri\n    Value: null\n    Reason: Missing tokenInfoUri and userInfoUri and there is no JWT verifier key\n</code></pre>\n\n<p>This configuration worked perfectly until I was using Spring Boot 1.5.x, but after upgrading to Spring Boot 2 (and moving to the <code>spring-security-oauth2-autoconfigure</code> library), I have started getting this problem.</p>\n\n<p>I can access the key in my browser by visiting the URL defined as <code>keyUri: ${uaa.url}/oauth/token_key</code> in the config above, so it's clearly a valid URL. What could be the problem here?</p>\n\n<p>Edit: One of the solutions I found online at several places was adding a dummy userInfoUri value, like this:</p>\n\n<pre><code>security:\n  oauth2:\n    resource:\n      userInfoUri: BUGFIX\n</code></pre>\n\n<p>I tried this, still getting the same error.</p>\n"},{"tags":["java","itext"],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666715894,"creation_date":1666715894,"answer_id":74197475,"question_id":74196026,"body_markdown":"The units are the PDF default user space units which default to &lt;sup&gt;1&lt;/sup&gt;/&lt;sub&gt;72&lt;/sub&gt; inch.\r\n\r\nOn a per-page basis this unit can be changed by setting the **UserUnit** page property:\r\n\r\n|Key|Type|Value|\r\n|-|-|-|\r\n|**UserUnit**|number|(*Optional; PDF 1.6*) A positive number that shall give the size of default user space units, in multiples of 1  72 inch. The range of supported values shall be implementation-dependent.&lt;br/&gt;Default value: _1.0_ (user space unit is 1  72 inch).|\r\n\r\n*(ISO 32000-2, Table 31  Entries in a page object)*\r\n\r\nBeware and take _The range of supported values shall be implementation-dependent_ seriously - some viewers only support positive integer values, some only values &gt;=1, some ignore it altogether.","title":"What units does itext use for page size and margin?","body":"<p>The units are the PDF default user space units which default to <sup>1</sup>/<sub>72</sub> inch.</p>\n<p>On a per-page basis this unit can be changed by setting the <strong>UserUnit</strong> page property:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Key</th>\n<th>Type</th>\n<th>Value</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>UserUnit</strong></td>\n<td>number</td>\n<td>(<em>Optional; PDF 1.6</em>) A positive number that shall give the size of default user space units, in multiples of 1  72 inch. The range of supported values shall be implementation-dependent.<br/>Default value: <em>1.0</em> (user space unit is 1  72 inch).</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><em>(ISO 32000-2, Table 31  Entries in a page object)</em></p>\n<p>Beware and take <em>The range of supported values shall be implementation-dependent</em> seriously - some viewers only support positive integer values, some only values &gt;=1, some ignore it altogether.</p>\n"}],"owner":{"account_id":21074091,"reputation":45,"user_id":15489717,"display_name":"mfullstackdev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666715894,"creation_date":1666709551,"question_id":74196026,"body_markdown":"What units does itext use for page size and margin? What is llx, lly, urx, ury?  \r\n    Document document = new Document(\r\n                new RectangleReadOnly(dimension.getRectangle()),\r\n                marginLeft, 0, marginTop, 0\r\n        );\r\n\r\n    public RectangleReadOnly(Rectangle rect) {\r\n        super(rect.llx, rect.lly, rect.urx, rect.ury);\r\n        super.cloneNonPositionParameters(rect);\r\n    }\r\n\r\n    public Document(Rectangle pageSize, float marginLeft, float marginRight, float marginTop, float marginBottom) {\r\n","title":"What units does itext use for page size and margin?","body":"<p>What units does itext use for page size and margin? What is llx, lly, urx, ury?<br />\nDocument document = new Document(\nnew RectangleReadOnly(dimension.getRectangle()),\nmarginLeft, 0, marginTop, 0\n);</p>\n<pre><code>public RectangleReadOnly(Rectangle rect) {\n    super(rect.llx, rect.lly, rect.urx, rect.ury);\n    super.cloneNonPositionParameters(rect);\n}\n\npublic Document(Rectangle pageSize, float marginLeft, float marginRight, float marginTop, float marginBottom) {\n</code></pre>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"answers":[{"tags":[],"owner":{"account_id":78975,"reputation":13896,"user_id":224334,"accept_rate":89,"display_name":"RyanWilcox"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1510515582,"creation_date":1510515582,"answer_id":47253118,"question_id":47250781,"body_markdown":"I see what you want to do, and I&#39;m not sure that&#39;s the best idea (I&#39;m also not sure it&#39;s _not_).\r\n\r\nThe `poll` / `commit` model of Kafka allows simple backpressure and retention of the last item processed if you crashed. By returning to your poll loop &quot;immediately&quot; you are telling Kafka &quot;I am ready for more&quot;, and committing the offset (manually or automatically) tells Kafka that you have successfully read up to that point.\r\n\r\nWhat you seem to want to do is read off Kafka as fast as possible, committing offsets, then putting the Kafka records into an executor queue then you balance your requests per second etc from that.\r\n\r\nI&#39;m not 100% sure that&#39;s a good idea: what happens if your app crashes? You may have committed some Kafka messages that actually didn&#39;t make it upstream. If you do really want to do this, I would suggest manually committing the offset (via `commitSync`) upon completion of the `Runnable`, instead of letting the high level consumer do it for you.\r\n\r\nWhy might you want to use a thread executor: I think these can be accomplished with Kafka too.\r\n\r\nYou may want to post multiple messages to the web server at the same time. A well paritioned Kafka topic will let multiple consumers / consumer groups consumer multiple partitions, thus - assuming a perfectly scaling HTTP server - would let you parallelize the posting of messages to your server. Yay for process based concurrency!\r\n\r\nMaybe the web server is not perfectly scalable, or slow for this request (say each request takes 1 second): you need to limit the number of requests per second the web server takes, if you have a queue you might have a couple threads posting while not backing up Kafka.\r\n\r\nIn this case you can set [max.poll.records][1] to a scalable value that your web server requires. There&#39;s probably a better way to do this too, although it&#39;s escaping me at the moment.\r\n\r\nIf your web server takes a long time to respond you may get errors related to failing heartbeats. In that case I direct you to [this SO answer on the timeout / heartbeat topic][2].\r\n\r\nInstead of using a thread executioner, thus making synchronous HTTP requests appear to be async, I would use an evented HTTP client like [Netty][3], thus achieving parallelism without thread based concurrency.\r\n\r\n\r\n  [1]: https://cwiki.apache.org/confluence/display/KAFKA/KIP-41%3A+KafkaConsumer+Max+Records\r\n  [2]: https://stackoverflow.com/a/43992308/224334\r\n  [3]: https://netty.io/","title":"parallel stream with kafka consumer records","body":"<p>I see what you want to do, and I'm not sure that's the best idea (I'm also not sure it's <em>not</em>).</p>\n\n<p>The <code>poll</code> / <code>commit</code> model of Kafka allows simple backpressure and retention of the last item processed if you crashed. By returning to your poll loop \"immediately\" you are telling Kafka \"I am ready for more\", and committing the offset (manually or automatically) tells Kafka that you have successfully read up to that point.</p>\n\n<p>What you seem to want to do is read off Kafka as fast as possible, committing offsets, then putting the Kafka records into an executor queue then you balance your requests per second etc from that.</p>\n\n<p>I'm not 100% sure that's a good idea: what happens if your app crashes? You may have committed some Kafka messages that actually didn't make it upstream. If you do really want to do this, I would suggest manually committing the offset (via <code>commitSync</code>) upon completion of the <code>Runnable</code>, instead of letting the high level consumer do it for you.</p>\n\n<p>Why might you want to use a thread executor: I think these can be accomplished with Kafka too.</p>\n\n<p>You may want to post multiple messages to the web server at the same time. A well paritioned Kafka topic will let multiple consumers / consumer groups consumer multiple partitions, thus - assuming a perfectly scaling HTTP server - would let you parallelize the posting of messages to your server. Yay for process based concurrency!</p>\n\n<p>Maybe the web server is not perfectly scalable, or slow for this request (say each request takes 1 second): you need to limit the number of requests per second the web server takes, if you have a queue you might have a couple threads posting while not backing up Kafka.</p>\n\n<p>In this case you can set <a href=\"https://cwiki.apache.org/confluence/display/KAFKA/KIP-41%3A+KafkaConsumer+Max+Records\" rel=\"nofollow noreferrer\">max.poll.records</a> to a scalable value that your web server requires. There's probably a better way to do this too, although it's escaping me at the moment.</p>\n\n<p>If your web server takes a long time to respond you may get errors related to failing heartbeats. In that case I direct you to <a href=\"https://stackoverflow.com/a/43992308/224334\">this SO answer on the timeout / heartbeat topic</a>.</p>\n\n<p>Instead of using a thread executioner, thus making synchronous HTTP requests appear to be async, I would use an evented HTTP client like <a href=\"https://netty.io/\" rel=\"nofollow noreferrer\">Netty</a>, thus achieving parallelism without thread based concurrency.</p>\n"},{"tags":[],"owner":{"account_id":37018,"reputation":13267,"user_id":105741,"display_name":"Antony Stubbs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666715212,"creation_date":1666715212,"answer_id":74197320,"question_id":47250781,"body_markdown":"For solving a &quot;slow consumer&quot; use case where you&#39;re doing I/O processing, you should use something like [Parallel Consumer][1] (PC) to avoid the &quot;[head of line blocking][2]&quot; problem you&#39;re describing.\r\n\r\nBy using PC, you can processing all your keys in parallel, regardless of how long it takes to do your I/O.\r\n\r\nIt also comes with a non blocking Vert.x module which more efficiently uses the CPU.\r\n\r\nPC directly solves for this, by sub partitioning the input partitions by key and processing each key in parallel.\r\nIt also tracks per record acknowledgement. Check out [Parallel Consumer on GitHub][1] (it&#39;s open source BTW, and I&#39;m the author).\r\n\r\n\r\n  [1]: https://github.com/confluentinc/parallel-consumer\r\n  [2]: https://en.wikipedia.org/wiki/Head-of-line_blocking","title":"parallel stream with kafka consumer records","body":"<p>For solving a &quot;slow consumer&quot; use case where you're doing I/O processing, you should use something like <a href=\"https://github.com/confluentinc/parallel-consumer\" rel=\"nofollow noreferrer\">Parallel Consumer</a> (PC) to avoid the &quot;<a href=\"https://en.wikipedia.org/wiki/Head-of-line_blocking\" rel=\"nofollow noreferrer\">head of line blocking</a>&quot; problem you're describing.</p>\n<p>By using PC, you can processing all your keys in parallel, regardless of how long it takes to do your I/O.</p>\n<p>It also comes with a non blocking Vert.x module which more efficiently uses the CPU.</p>\n<p>PC directly solves for this, by sub partitioning the input partitions by key and processing each key in parallel.\nIt also tracks per record acknowledgement. Check out <a href=\"https://github.com/confluentinc/parallel-consumer\" rel=\"nofollow noreferrer\">Parallel Consumer on GitHub</a> (it's open source BTW, and I'm the author).</p>\n"}],"owner":{"account_id":9132976,"reputation":69,"user_id":6793827,"display_name":"P K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2384,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":47253118,"answer_count":2,"score":1,"last_activity_date":1666715212,"creation_date":1510502013,"question_id":47250781,"body_markdown":"I have kafka records:\r\n\r\n    ConsumerRecords&lt;String, Events&gt; records = kafkaConsumer.poll(POLL_TIMEOUT);\r\n\r\nI want to run the below code using parallel streams, not multithreading.\r\n\r\n                    records.forEach((record) -&gt; {\r\n                    Event event = record.value();\r\n                    \r\n                           HTTPSend.send(event);\r\n  \r\n                });\r\n\r\nI tried with mlutithreading but I want to try parallelstream:\r\n\r\n    for (ConsumerRecord&lt;String, Event&gt; record : records) {\r\n                            executor.execute(new Runnable() {\r\n                                @Override\r\n                                public void run() {\r\n    \r\n                                            HTTPSend.send(Event);\r\n                              \r\n                                }\r\n                            });\r\n    \r\n                        }\r\n\r\nActually I&#39;m facing issue with HTTP.send with multithreading (even with a thread pool of 1 thread). I&#39;m getting\r\n \r\n`&quot;Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target&quot;`. \r\nThis is a request over https. This error comes only for the first time the request is made. Afterwards, the exception vanishes. poof! \r\n\r\nFor multithreading i&#39;m using:\r\n\r\n    int threadCOunt=1;\r\n                    BlockingQueue&lt;Runnable&gt; queue = new ArrayBlockingQueue&lt;Runnable&gt;(threadCOunt, true);\r\n                    RejectedExecutionHandler handler = new ThreadPoolExecutor.CallerRunsPolicy();\r\n                    ExecutorService executor = new ThreadPoolExecutor(threadCOunt, threadCOunt, 0L, TimeUnit.MILLISECONDS, queue, handler);\r\n\r\nHTTPSend.send() is:\r\n\r\n    long sizeSend = 0;\r\n        SSLContext sc = null;\r\n\r\n        try {\r\n            sc = SSLContext.getInstance(&quot;TLS&quot;);\r\n            sc.init(null, TRUST_ALL_CERTS, new SecureRandom());\r\n        } catch (NoSuchAlgorithmException | KeyManagementException e) {\r\n            LOGGER.error(&quot;Failed to create SSL context&quot;, e);\r\n        }\r\n\r\n        // Ignore differences between given hostname and certificate hostname\r\n        HostnameVerifier hv = (hostname, session) -&gt; true;\r\n\r\n        // Create the REST client and configure it to connect meta\r\n        Client client = ClientBuilder.newBuilder()\r\n                .hostnameVerifier(hv)\r\n                .sslContext(sc).build();\r\n\r\n        WebTarget baseTarget = client.target(getURL()).path(HTTP_PATH);\r\n        Response jsonResponse = null;\r\n\r\n        try {\r\n            StringBuilder eventsBatchString = new StringBuilder();\r\n            eventsBatchString.append(this.getEvent(event));\r\n            Entity&lt;String&gt; entity = Entity.entity(eventsBatchString.toString(), MediaType.APPLICATION_JSON_TYPE);\r\n            builder = baseTarget.request();\r\n            LOGGER.debug(&quot;about to send the event {} and URL {}&quot;, entity, getURL());\r\n            jsonResponse = builder.header(HTTP_ACK_CHANNEL, guid.toString())\r\n                    .header(&quot;Content-type&quot;, MediaType.APPLICATION_JSON)\r\n                    .header(&quot;Authorization&quot;, String.format(&quot;Meta %s&quot;, eventsModuleConfig.getSecretKey()))\r\n                    .post(entity);","title":"parallel stream with kafka consumer records","body":"<p>I have kafka records:</p>\n\n<pre><code>ConsumerRecords&lt;String, Events&gt; records = kafkaConsumer.poll(POLL_TIMEOUT);\n</code></pre>\n\n<p>I want to run the below code using parallel streams, not multithreading.</p>\n\n<pre><code>                records.forEach((record) -&gt; {\n                Event event = record.value();\n\n                       HTTPSend.send(event);\n\n            });\n</code></pre>\n\n<p>I tried with mlutithreading but I want to try parallelstream:</p>\n\n<pre><code>for (ConsumerRecord&lt;String, Event&gt; record : records) {\n                        executor.execute(new Runnable() {\n                            @Override\n                            public void run() {\n\n                                        HTTPSend.send(Event);\n\n                            }\n                        });\n\n                    }\n</code></pre>\n\n<p>Actually I'm facing issue with HTTP.send with multithreading (even with a thread pool of 1 thread). I'm getting</p>\n\n<p><code>\"Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\"</code>. \nThis is a request over https. This error comes only for the first time the request is made. Afterwards, the exception vanishes. poof! </p>\n\n<p>For multithreading i'm using:</p>\n\n<pre><code>int threadCOunt=1;\n                BlockingQueue&lt;Runnable&gt; queue = new ArrayBlockingQueue&lt;Runnable&gt;(threadCOunt, true);\n                RejectedExecutionHandler handler = new ThreadPoolExecutor.CallerRunsPolicy();\n                ExecutorService executor = new ThreadPoolExecutor(threadCOunt, threadCOunt, 0L, TimeUnit.MILLISECONDS, queue, handler);\n</code></pre>\n\n<p>HTTPSend.send() is:</p>\n\n<pre><code>long sizeSend = 0;\n    SSLContext sc = null;\n\n    try {\n        sc = SSLContext.getInstance(\"TLS\");\n        sc.init(null, TRUST_ALL_CERTS, new SecureRandom());\n    } catch (NoSuchAlgorithmException | KeyManagementException e) {\n        LOGGER.error(\"Failed to create SSL context\", e);\n    }\n\n    // Ignore differences between given hostname and certificate hostname\n    HostnameVerifier hv = (hostname, session) -&gt; true;\n\n    // Create the REST client and configure it to connect meta\n    Client client = ClientBuilder.newBuilder()\n            .hostnameVerifier(hv)\n            .sslContext(sc).build();\n\n    WebTarget baseTarget = client.target(getURL()).path(HTTP_PATH);\n    Response jsonResponse = null;\n\n    try {\n        StringBuilder eventsBatchString = new StringBuilder();\n        eventsBatchString.append(this.getEvent(event));\n        Entity&lt;String&gt; entity = Entity.entity(eventsBatchString.toString(), MediaType.APPLICATION_JSON_TYPE);\n        builder = baseTarget.request();\n        LOGGER.debug(\"about to send the event {} and URL {}\", entity, getURL());\n        jsonResponse = builder.header(HTTP_ACK_CHANNEL, guid.toString())\n                .header(\"Content-type\", MediaType.APPLICATION_JSON)\n                .header(\"Authorization\", String.format(\"Meta %s\", eventsModuleConfig.getSecretKey()))\n                .post(entity);\n</code></pre>\n"},{"tags":["java","spring-boot","auth0"],"answers":[{"tags":[],"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666401251,"creation_date":1666400800,"answer_id":74160433,"question_id":74159954,"body_markdown":"Spring Security comes with with mostly preconfigured Auth0 module. Unless you&#39;re doing something specific, there&#39;s no need to construct URL yourself.  \r\nHave you done Spring configuration as said in the link you&#39;ve posted: https://auth0.com/docs/quickstart/webapp/java-spring-boot/01-login#configure-spring-security ?\r\n\r\n```\r\n# src/main/resources/application.yml\r\nspring:\r\n  security:\r\n    oauth2:\r\n      client:\r\n        registration:\r\n          auth0:\r\n            ...\r\n```","title":"Spring Boot/Auth0 - How do I specify the connection?","body":"<p>Spring Security comes with with mostly preconfigured Auth0 module. Unless you're doing something specific, there's no need to construct URL yourself.<br />\nHave you done Spring configuration as said in the link you've posted: <a href=\"https://auth0.com/docs/quickstart/webapp/java-spring-boot/01-login#configure-spring-security\" rel=\"nofollow noreferrer\">https://auth0.com/docs/quickstart/webapp/java-spring-boot/01-login#configure-spring-security</a> ?</p>\n<pre><code># src/main/resources/application.yml\nspring:\n  security:\n    oauth2:\n      client:\n        registration:\n          auth0:\n            ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":180181,"reputation":76380,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666647606,"creation_date":1666630151,"answer_id":74184348,"question_id":74159954,"body_markdown":"You are looking for a way to add an additional parameter to the authorization URI. It&#39;s isn&#39;t as straightforward as one would like but doable.\r\n\r\nFortunately, it&#39;s described in [Customizing Authorization and Token Requests with Spring Security 5.1 Client](https://www.baeldung.com/spring-security-custom-oauth-requests).\r\n\r\nYou probably want to implement the steps 2 and 4:\r\n\r\n- Add your own implementation of `OAuth2AuthorizationRequestResolver`, override both `resolve()` methods to call `customizeAuthorizationRequest()`\r\n- Implement `customizeAuthorizationRequest()` to add the additional `connection` parameter (`OAuth2AuthorizationRequest` already support additional parameters)\r\n- Implement a security configuration class to register `CustomAuthorizationRequestResolver` as the authorization request resolver\r\n\r\nSeveral issues on [GitHub](https://github.com/spring-projects/spring-security) ask for a simpler way. But the issues are still open (or closed as duplicates).\r\n\r\n**Update**\r\n\r\nInstead of `clientRegistrationRepository()` (at the end of step 2), you could declare `clientRegistrationRepository` as an injected dependency and the use it without parentheses:\r\n\r\n```\r\n@Autowired\r\nprivate ClientRegistrationRepository clientRegistrationRepository;\r\n```","title":"Spring Boot/Auth0 - How do I specify the connection?","body":"<p>You are looking for a way to add an additional parameter to the authorization URI. It's isn't as straightforward as one would like but doable.</p>\n<p>Fortunately, it's described in <a href=\"https://www.baeldung.com/spring-security-custom-oauth-requests\" rel=\"nofollow noreferrer\">Customizing Authorization and Token Requests with Spring Security 5.1 Client</a>.</p>\n<p>You probably want to implement the steps 2 and 4:</p>\n<ul>\n<li>Add your own implementation of <code>OAuth2AuthorizationRequestResolver</code>, override both <code>resolve()</code> methods to call <code>customizeAuthorizationRequest()</code></li>\n<li>Implement <code>customizeAuthorizationRequest()</code> to add the additional <code>connection</code> parameter (<code>OAuth2AuthorizationRequest</code> already support additional parameters)</li>\n<li>Implement a security configuration class to register <code>CustomAuthorizationRequestResolver</code> as the authorization request resolver</li>\n</ul>\n<p>Several issues on <a href=\"https://github.com/spring-projects/spring-security\" rel=\"nofollow noreferrer\">GitHub</a> ask for a simpler way. But the issues are still open (or closed as duplicates).</p>\n<p><strong>Update</strong></p>\n<p>Instead of <code>clientRegistrationRepository()</code> (at the end of step 2), you could declare <code>clientRegistrationRepository</code> as an injected dependency and the use it without parentheses:</p>\n<pre><code>@Autowired\nprivate ClientRegistrationRepository clientRegistrationRepository;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":180181,"reputation":76380,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666649114,"creation_date":1666649114,"answer_id":74187284,"question_id":74159954,"body_markdown":"Here&#39;s another option (untested):\r\n\r\nIn `application.properties`, specify all URLs separately. So instead of:\r\n\r\n```ini\r\nspring.security.oauth2.client.provider.auth0.issuer-uri=xyz.us.auth0.com\r\n```\r\n\r\nSpecify:\r\n\r\n```ini\r\nspring.security.oauth2.client.provider.auth0.authorization-uri=https://xyz.us.auth0.com/authorize?connection=azuread\r\nspring.security.oauth2.client.provider.auth0.token-uri=https://xyz.us.auth0.com/oauth/token\r\nspring.security.oauth2.client.provider.auth0.jwk-set-uri=https://xyz.us.auth0.com/=.well-known/jwks.json\r\nspring.security.oauth2.client.provider.auth0.user-info-uri=https://xyz.us.auth0.com/userinfo\r\n```\r\n\r\nNote that the authorization URI already includes the *connection* parameters. All the other parameters should then be appended.\r\n\r\nYou can get all the URIs at https://xyz.us.auth0.com/.well-known/openid-configuration (just replace &quot;xyz&quot; and put the URL in your browser).","title":"Spring Boot/Auth0 - How do I specify the connection?","body":"<p>Here's another option (untested):</p>\n<p>In <code>application.properties</code>, specify all URLs separately. So instead of:</p>\n<pre class=\"lang-ini prettyprint-override\"><code>spring.security.oauth2.client.provider.auth0.issuer-uri=xyz.us.auth0.com\n</code></pre>\n<p>Specify:</p>\n<pre class=\"lang-ini prettyprint-override\"><code>spring.security.oauth2.client.provider.auth0.authorization-uri=https://xyz.us.auth0.com/authorize?connection=azuread\nspring.security.oauth2.client.provider.auth0.token-uri=https://xyz.us.auth0.com/oauth/token\nspring.security.oauth2.client.provider.auth0.jwk-set-uri=https://xyz.us.auth0.com/=.well-known/jwks.json\nspring.security.oauth2.client.provider.auth0.user-info-uri=https://xyz.us.auth0.com/userinfo\n</code></pre>\n<p>Note that the authorization URI already includes the <em>connection</em> parameters. All the other parameters should then be appended.</p>\n<p>You can get all the URIs at <a href=\"https://xyz.us.auth0.com/.well-known/openid-configuration\" rel=\"nofollow noreferrer\">https://xyz.us.auth0.com/.well-known/openid-configuration</a> (just replace &quot;xyz&quot; and put the URL in your browser).</p>\n"}],"owner":{"account_id":1386148,"reputation":1691,"user_id":1318162,"accept_rate":64,"display_name":"rphello101"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74184348,"answer_count":3,"score":0,"last_activity_date":1666715067,"creation_date":1666393879,"question_id":74159954,"body_markdown":"I am working on setting up an application using Spring Boot and Auth0. We are refactoring from a legacy codebase to use Spring Boot. In the legacy code, the Auth0 URL is created manually by appending the URL parameters: \r\n\r\n    https://[removed].auth0.com/authorize?\r\n    \tresponse_type=code\r\n    \t&amp;client_id=[removed]\r\n    \t&amp;scope=openid email profile\r\n    \t&amp;connection=[removed]\r\n    \t&amp;state=[removed]\r\n    \t&amp;redirect_uri=http://localhost:8081/login/oauth2/code/auth0\r\n\r\nWith the Spring Boot configuration (guide here: https://auth0.com/docs/quickstart/webapp/java-spring-boot/01-login), this is the URL that generates: \r\n\r\n    https://[removed].auth0.com/authorize?\r\n    \tresponse_type=code\r\n    \t&amp;client_id=[removed]\r\n    \t&amp;scope=openid email profile\r\n    \t&amp;state=[removed]\r\n    \t&amp;redirect_uri=http://localhost:8081/login/oauth2/code/auth0\r\n\r\nThe Spring Boot URL is giving me an error &quot;[invalid_request] no connections enabled for the client&quot;. \r\n\r\nI am missing the &quot;connection&quot; parameter with the Spring Boot setup. I have tested by manually copying the URL and adding the &quot;connection&quot; parameter and I get the login page. Without it, I get the error. \r\n\r\nOn Spring&#39;s configuration page (https://docs.spring.io/spring-security/reference/servlet/oauth2/login/core.html#oauth2login-boot-property-mappings), I don&#39;t see an option for Connection. I didn&#39;t see anything on the SecurityFilterChain that would allow me to change this either. \r\n\r\nI see that Auth0.js has a function that allows a &quot;connection&quot; parameter (https://auth0.com/docs/libraries/auth0js). How do I add this using Spring Boot/Java? \r\n\r\n**EDIT**\r\n\r\napplication.properties:\r\n\r\n    spring.security.oauth2.client.registration.auth0.client-id=[removed]\r\n    spring.security.oauth2.client.registration.auth0.client-secret=[removed]\r\n    spring.security.oauth2.client.registration.auth0.scope[0]=openid\r\n    spring.security.oauth2.client.registration.auth0.scope[1]=email\r\n    spring.security.oauth2.client.registration.auth0.scope[2]=profile\r\n    spring.security.oauth2.client.provider.auth0.issuer-uri=[removed]\r\n\r\n**EDIT 2**\r\n\r\nWe were working in conjunction with Auth0 Support - they provided us the following information: \r\n\r\n&gt; In case an Enterprise connection is the only enabled connection for an\r\n&gt; application and the &quot;connection&quot; parameter is not specified on the\r\n&gt; /authorize request, you need to enable the &quot;show as a button&quot; setting\r\n&gt; on that enterprise connection, otherwise you will get &quot;no connections\r\n&gt; enabled for the client&quot; error.\r\n&gt; \r\n&gt; The &quot;Display connection as a button&quot; checkbox is on the &quot;Login\r\n&gt; Experience&quot; tab of the connection setting page.\r\n\r\nWeird configuration requirement - you can&#39;t go directly to the login page. You have to have a button to take you there. This did resolve the original issue; however, I marked @Codo answer below as accepted, as it did answer this question and appears it would work from initial testing. ","title":"Spring Boot/Auth0 - How do I specify the connection?","body":"<p>I am working on setting up an application using Spring Boot and Auth0. We are refactoring from a legacy codebase to use Spring Boot. In the legacy code, the Auth0 URL is created manually by appending the URL parameters:</p>\n<pre><code>https://[removed].auth0.com/authorize?\n    response_type=code\n    &amp;client_id=[removed]\n    &amp;scope=openid email profile\n    &amp;connection=[removed]\n    &amp;state=[removed]\n    &amp;redirect_uri=http://localhost:8081/login/oauth2/code/auth0\n</code></pre>\n<p>With the Spring Boot configuration (guide here: <a href=\"https://auth0.com/docs/quickstart/webapp/java-spring-boot/01-login\" rel=\"nofollow noreferrer\">https://auth0.com/docs/quickstart/webapp/java-spring-boot/01-login</a>), this is the URL that generates:</p>\n<pre><code>https://[removed].auth0.com/authorize?\n    response_type=code\n    &amp;client_id=[removed]\n    &amp;scope=openid email profile\n    &amp;state=[removed]\n    &amp;redirect_uri=http://localhost:8081/login/oauth2/code/auth0\n</code></pre>\n<p>The Spring Boot URL is giving me an error &quot;[invalid_request] no connections enabled for the client&quot;.</p>\n<p>I am missing the &quot;connection&quot; parameter with the Spring Boot setup. I have tested by manually copying the URL and adding the &quot;connection&quot; parameter and I get the login page. Without it, I get the error.</p>\n<p>On Spring's configuration page (<a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/login/core.html#oauth2login-boot-property-mappings\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/oauth2/login/core.html#oauth2login-boot-property-mappings</a>), I don't see an option for Connection. I didn't see anything on the SecurityFilterChain that would allow me to change this either.</p>\n<p>I see that Auth0.js has a function that allows a &quot;connection&quot; parameter (<a href=\"https://auth0.com/docs/libraries/auth0js\" rel=\"nofollow noreferrer\">https://auth0.com/docs/libraries/auth0js</a>). How do I add this using Spring Boot/Java?</p>\n<p><strong>EDIT</strong></p>\n<p>application.properties:</p>\n<pre><code>spring.security.oauth2.client.registration.auth0.client-id=[removed]\nspring.security.oauth2.client.registration.auth0.client-secret=[removed]\nspring.security.oauth2.client.registration.auth0.scope[0]=openid\nspring.security.oauth2.client.registration.auth0.scope[1]=email\nspring.security.oauth2.client.registration.auth0.scope[2]=profile\nspring.security.oauth2.client.provider.auth0.issuer-uri=[removed]\n</code></pre>\n<p><strong>EDIT 2</strong></p>\n<p>We were working in conjunction with Auth0 Support - they provided us the following information:</p>\n<blockquote>\n<p>In case an Enterprise connection is the only enabled connection for an\napplication and the &quot;connection&quot; parameter is not specified on the\n/authorize request, you need to enable the &quot;show as a button&quot; setting\non that enterprise connection, otherwise you will get &quot;no connections\nenabled for the client&quot; error.</p>\n<p>The &quot;Display connection as a button&quot; checkbox is on the &quot;Login\nExperience&quot; tab of the connection setting page.</p>\n</blockquote>\n<p>Weird configuration requirement - you can't go directly to the login page. You have to have a button to take you there. This did resolve the original issue; however, I marked @Codo answer below as accepted, as it did answer this question and appears it would work from initial testing.</p>\n"},{"tags":["java","list","loops","hashmap"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666696248,"creation_date":1666695787,"answer_id":74193070,"question_id":74192643,"body_markdown":"You were thinking in the right direction. Generating a `Map` which associates `companyId` of each customer with a `companyName` would be a more performant approach than using a nested `for`-loop.\r\n\r\nWhen we have a `Map`, the only thing left is iterate through the list of `Employee` and if its `companyId` exists in the Map replace the `companyName` with the one that is stored in the Map.\r\n\r\n    public static void setCompanyNames(List&lt;Customer&gt; customerList,\r\n                                       List&lt;Employee&gt; employeeList) {\r\n        \r\n        Map&lt;Long, String&gt; companyNameByCustomerId = customerList.stream()\r\n            .collect(Collectors.toMap(\r\n                Customer::getCompanyId,   // generating Keys\r\n                Customer::getCompanyName, // generating Values\r\n                (left, right) -&gt; left     // resolving duplicates (this argument is need if there could be several customers with the same companyId)\r\n            )); \r\n        \r\n        for (Employee employee: employeeList) {\r\n            Long id = employee.getCompanyId();\r\n            if (companyNameByCustomerId.containsKey(id)) {\r\n                employee.setCompanyName(companyNameByCustomerId.get(id));\r\n            }\r\n        }\r\n    }","title":"How to check two lists with different Types but having a Common property","body":"<p>You were thinking in the right direction. Generating a <code>Map</code> which associates <code>companyId</code> of each customer with a <code>companyName</code> would be a more performant approach than using a nested <code>for</code>-loop.</p>\n<p>When we have a <code>Map</code>, the only thing left is iterate through the list of <code>Employee</code> and if its <code>companyId</code> exists in the Map replace the <code>companyName</code> with the one that is stored in the Map.</p>\n<pre><code>public static void setCompanyNames(List&lt;Customer&gt; customerList,\n                                   List&lt;Employee&gt; employeeList) {\n    \n    Map&lt;Long, String&gt; companyNameByCustomerId = customerList.stream()\n        .collect(Collectors.toMap(\n            Customer::getCompanyId,   // generating Keys\n            Customer::getCompanyName, // generating Values\n            (left, right) -&gt; left     // resolving duplicates (this argument is need if there could be several customers with the same companyId)\n        )); \n    \n    for (Employee employee: employeeList) {\n        Long id = employee.getCompanyId();\n        if (companyNameByCustomerId.containsKey(id)) {\n            employee.setCompanyName(companyNameByCustomerId.get(id));\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16860055,"reputation":864,"user_id":12191075,"display_name":"Haidepzai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74193070,"answer_count":1,"score":0,"last_activity_date":1666714797,"creation_date":1666693782,"question_id":74192643,"body_markdown":"Assume I have two lists with different domain objects of different types: `Customer` and `Employee`.\r\n\r\nAnd these objects have the common `companyId` property.\r\n\r\n`Customer` class:\r\n\r\n    public static class Customer {\r\n        private Long companyId;\r\n        private String companyName;\r\n    }\r\n\r\n`Employee` class:\r\n\r\n    public static class Employee {\r\n        private Long companyId;\r\n        private String companyName;\r\n    }\r\n\r\n`Employee` has this property in common `companyId` assigned, but the `companyName` is missing.\r\n\r\nI have two lists:\r\n\r\n``` \r\nList&lt;Customer&gt; customerList;\r\nList&lt;Employee&gt; employeeList;\r\n``` \r\n\r\nWhat I want to do is to set the `companyName` for each `Employee` where the `companyId` from `Employee` == `companyId` of `Customer`\r\n\r\nFirst I tried with two nested `for`-loops, but I think it is not very performance-vice, if I have over 1000 elements.\r\n\r\nWhat is the best way with respect to performance to achieve this?\r\n\r\nMaybe store the data from `customerList` as a `HashMap` and then for each `Employee` do `get(companyId)` or so?","title":"How to check two lists with different Types but having a Common property","body":"<p>Assume I have two lists with different domain objects of different types: <code>Customer</code> and <code>Employee</code>.</p>\n<p>And these objects have the common <code>companyId</code> property.</p>\n<p><code>Customer</code> class:</p>\n<pre><code>public static class Customer {\n    private Long companyId;\n    private String companyName;\n}\n</code></pre>\n<p><code>Employee</code> class:</p>\n<pre><code>public static class Employee {\n    private Long companyId;\n    private String companyName;\n}\n</code></pre>\n<p><code>Employee</code> has this property in common <code>companyId</code> assigned, but the <code>companyName</code> is missing.</p>\n<p>I have two lists:</p>\n<pre><code>List&lt;Customer&gt; customerList;\nList&lt;Employee&gt; employeeList;\n</code></pre>\n<p>What I want to do is to set the <code>companyName</code> for each <code>Employee</code> where the <code>companyId</code> from <code>Employee</code> == <code>companyId</code> of <code>Customer</code></p>\n<p>First I tried with two nested <code>for</code>-loops, but I think it is not very performance-vice, if I have over 1000 elements.</p>\n<p>What is the best way with respect to performance to achieve this?</p>\n<p>Maybe store the data from <code>customerList</code> as a <code>HashMap</code> and then for each <code>Employee</code> do <code>get(companyId)</code> or so?</p>\n"},{"tags":["java","selenium","maven","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":1,"creation_date":1666713756,"post_id":74196916,"comment_id":130999858,"body_markdown":"In order to help you we need to see all your Selenium code including the link to the page you are working on","body":"In order to help you we need to see all your Selenium code including the link to the page you are working on"},{"owner":{"account_id":26729392,"reputation":1,"user_id":20332019,"display_name":"Pardeep Punian"},"score":0,"creation_date":1666714069,"post_id":74196916,"comment_id":130999970,"body_markdown":"my HTML code is:         &lt;body class=&quot;main-template&quot; style=&quot;&quot;&gt;\n        &lt;div class=&quot;wrapper&quot;&gt;\n            &lt;header&gt;\n                &lt;div class=&quot;container&quot;&gt;\n                    &lt;ul class=&quot;control-bar&quot;&gt;\n                        &lt;li&gt;&lt;a href=&quot;/login&quot; class=&quot;btn border&quot;&gt;&lt;span class=&quot;help&quot;&gt;LOG in&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;","body":"my HTML code is:         &lt;body class=&quot;main-template&quot; style=&quot;&quot;&gt;         &lt;div class=&quot;wrapper&quot;&gt;             &lt;header&gt;                 &lt;div class=&quot;container&quot;&gt;                     &lt;ul class=&quot;control-bar&quot;&gt;                         &lt;li&gt;&lt;a href=&quot;/login&quot; class=&quot;btn border&quot;&gt;&lt;span class=&quot;help&quot;&gt;LOG in&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;"},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":2,"creation_date":1666714417,"post_id":74196916,"comment_id":131000109,"body_markdown":"This is absolutely not enough","body":"This is absolutely not enough"},{"owner":{"account_id":25717722,"reputation":10119,"user_id":19475185,"display_name":"Barry the Platipus"},"score":2,"creation_date":1666715525,"post_id":74196916,"comment_id":131000454,"body_markdown":"Please post a minimal reproducible example, see https://stackoverflow.com/help/minimal-reproducible-example","body":"Please post a minimal reproducible example, see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"},{"owner":{"account_id":18857259,"reputation":99,"user_id":13754928,"display_name":"Potato"},"score":0,"creation_date":1666742563,"post_id":74196916,"comment_id":131007212,"body_markdown":"You have to add a bit more detail, this is very vague and one can&#39;t tell what&#39;s really going on. But to be sure you&#39;re using the right XPATH variable, you can inspect the button on the webpage, right click and copy XPath","body":"You have to add a bit more detail, this is very vague and one can&#39;t tell what&#39;s really going on. But to be sure you&#39;re using the right XPATH variable, you can inspect the button on the webpage, right click and copy XPath"}],"owner":{"account_id":26729392,"reputation":1,"user_id":20332019,"display_name":"Pardeep Punian"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666713578,"creation_date":1666713355,"question_id":74196916,"body_markdown":"I am trying to click on Span element link which is exiting inside &lt;a href&gt; tag. I tried it by copied Path but its didn&#39;t go through. Can you please help me to solve it\r\n\r\nI tried it by using following code:\r\n1.\r\n```java\r\ndriver.findElement(By.xpath(&quot;/html/body/div[@class=&#39;wrapper&#39;]/header[@class=&#39;header-fixed&#39;]/div[@class=&#39;container&#39;]/ul[@class=&#39;control-bar&#39;]/li[1]/a[@href=&#39;/login&#39;]/span[text()=&#39;LOG in&#39;]&quot;)).click();\r\n```\r\n\r\n2.\r\n```java\r\ndriver.findElement(By.xpath(&quot;//span[contains(@class, &#39;help&#39;) and text()=&#39;LOG in&#39;]&quot;)).click();\r\n```","title":"Clicking on Span element in selenium which is inside &lt;a href&gt; tag","body":"<p>I am trying to click on Span element link which is exiting inside  tag. I tried it by copied Path but its didn't go through. Can you please help me to solve it</p>\n<p>I tried it by using following code:\n1.</p>\n<pre class=\"lang-java prettyprint-override\"><code>driver.findElement(By.xpath(&quot;/html/body/div[@class='wrapper']/header[@class='header-fixed']/div[@class='container']/ul[@class='control-bar']/li[1]/a[@href='/login']/span[text()='LOG in']&quot;)).click();\n</code></pre>\n<ol start=\"2\">\n<li></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>driver.findElement(By.xpath(&quot;//span[contains(@class, 'help') and text()='LOG in']&quot;)).click();\n</code></pre>\n"},{"tags":["java","testing","quarkus","junit5","rest-assured"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1666904684,"post_id":74196965,"comment_id":131052012,"body_markdown":"localhost does not have subdomains, you can define subdomains like https://stackoverflow.com/a/19016600/175554 and after that you can write a server to listen to **sub.localhost** domain which does not feel very useful. if you want to separate rest endpoints you can use context path **localhost/context1** and **localhost/context2** or api/v1 api/v2 etc..","body":"localhost does not have subdomains, you can define subdomains like <a href=\"https://stackoverflow.com/a/19016600/175554\">stackoverflow.com/a/19016600/175554</a> and after that you can write a server to listen to <b>sub.localhost</b> domain which does not feel very useful. if you want to separate rest endpoints you can use context path <b>localhost/context1</b> and <b>localhost/context2</b> or api/v1 api/v2 etc.."}],"owner":{"account_id":8161782,"reputation":103,"user_id":6148340,"display_name":"Bentz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666713562,"creation_date":1666713562,"question_id":74196965,"body_markdown":"I&#39;m creating a test that is trying to invoke an endpoint in my system.  \r\n\r\n---\r\n\r\nthe flow is like that  \r\nwhen i run the test i see that Quarkus test web server is listening on localhost  \r\n`INFO: Quarkus 2.4.1.Final on JVM started in 25.464s. Listening on: http://localhost:8081`\r\n\r\nIm addressing (with rest assured) the subdomain `subdomain.localhost`  \r\n\r\n\r\n```\r\n@QuarkusTest\r\nclass TestClass {\r\n\r\n    @Test\r\n    public void someTest() {\r\n\r\n       RestAssured.given().log().all()\r\n             .baseUri(&quot;http://subdomain.localhost:8081&quot;) &lt;--\r\n             .basePath(&quot;/api&quot;)\r\n             .contentType(ContentType.JSON)\r\n             .accept(ContentType.JSON)\r\n             .get(&quot;/endpoint&quot;)\r\n             .then()\r\n             .statusCode(200);\r\n    }\r\n}\r\n```\r\n\r\nand getting exception:  \r\n```\r\njava.net.UnknownHostException: subdomain.localhost: nodename nor servname provided, or not known\r\n```\r\n\r\n----\r\ni found that if adding the subdomain to the `hosts` file (on mac `\\etc\\hosts`)  \r\n`127.0.0.1    subdomain.localhost`  \r\nit works but I&#39;m looking for a different solution  \r\n\r\n---\r\n\r\nis there any way to make Quarkus test web server listen to subdomain as well?\r\n\r\n","title":"Access subdomain in Quarkus test mode","body":"<p>I'm creating a test that is trying to invoke an endpoint in my system.</p>\n<hr />\n<p>the flow is like that<br />\nwhen i run the test i see that Quarkus test web server is listening on localhost<br />\n<code>INFO: Quarkus 2.4.1.Final on JVM started in 25.464s. Listening on: http://localhost:8081</code></p>\n<p>Im addressing (with rest assured) the subdomain <code>subdomain.localhost</code></p>\n<pre><code>@QuarkusTest\nclass TestClass {\n\n    @Test\n    public void someTest() {\n\n       RestAssured.given().log().all()\n             .baseUri(&quot;http://subdomain.localhost:8081&quot;) &lt;--\n             .basePath(&quot;/api&quot;)\n             .contentType(ContentType.JSON)\n             .accept(ContentType.JSON)\n             .get(&quot;/endpoint&quot;)\n             .then()\n             .statusCode(200);\n    }\n}\n</code></pre>\n<p>and getting exception:</p>\n<pre><code>java.net.UnknownHostException: subdomain.localhost: nodename nor servname provided, or not known\n</code></pre>\n<hr />\n<p>i found that if adding the subdomain to the <code>hosts</code> file (on mac <code>\\etc\\hosts</code>)<br />\n<code>127.0.0.1    subdomain.localhost</code><br />\nit works but I'm looking for a different solution</p>\n<hr />\n<p>is there any way to make Quarkus test web server listen to subdomain as well?</p>\n"},{"tags":["java","eclipse","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1666701688,"post_id":74193874,"comment_id":130995246,"body_markdown":"no screenshots of plain text please (c&amp;p the error message)","body":"no screenshots of plain text please (c&amp;p the error message)"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1666724411,"post_id":74193874,"comment_id":131003092,"body_markdown":"This simply is not going to work at all.  `ant-javafx.jar` and `jfxrt.jar` are obsolete and don&#39;t exist in modern JavaFX versions.  `javafx.graphics.jar`, etc. are not names of JavaFX jars. Instead, follow the instructions at https://openjfx.io/openjfx-docs/.  Use a modern build tool (I suggest Maven).","body":"This simply is not going to work at all.  <code>ant-javafx.jar</code> and <code>jfxrt.jar</code> are obsolete and don&#39;t exist in modern JavaFX versions.  <code>javafx.graphics.jar</code>, etc. are not names of JavaFX jars. Instead, follow the instructions at <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx.io/openjfx-docs</a>.  Use a modern build tool (I suggest Maven)."}],"owner":{"account_id":10833389,"reputation":1,"user_id":7967011,"display_name":"user7967011"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666713383,"creation_date":1666699886,"question_id":74193874,"body_markdown":"I am struggling with the error on the 3rd day.\r\nMy jdk version is 18 and My javafx version is javafx-sdk-19\r\ni&#39;m trying build but it is error\r\n\r\nWhen I run the javafx project in Eclipse, it works normally, but when I build through build.xml, the following error occurs.\r\n\r\n\r\n[src path info][1]\r\n\r\n[build path info][2]\r\n\r\n        \r\n\r\n    module javafx_test1 {\r\n    \trequires javafx.controls;\r\n    \trequires javafx.fxml;\r\n    \t\r\n    \topens application to javafx.graphics, javafx.fxml;\r\n    }\r\n\r\nabove code is module-info.java\r\n\r\n   \r\n\r\n     do-compile:\r\n       [delete] Deleting directory D:\\workspace\\javafx_test1\\build\\build\r\n        [mkdir] Created dir: D:\\workspace\\javafx_test1\\build\\build\\src\r\n        [mkdir] Created dir: D:\\workspace\\javafx_test1\\build\\build\\libs\r\n        [mkdir] Created dir: D:\\workspace\\javafx_test1\\build\\build\\classes\r\n         [copy] Copying 8 files to D:\\workspace\\javafx_test1\\build\\build\\libs\r\n         [copy] Copying 5 files to D:\\workspace\\javafx_test1\\build\\build\\src\r\n        [javac] Compiling 3 source files to D:\\workspace\\javafx_test1\\build\\build\\classes\r\n        [javac] D:\\workspace\\javafx_test1\\build\\build\\src\\module-info.java:2: error: module not found: javafx.controls\r\n        [javac] \trequires javafx.controls;\r\n        [javac] \t               ^\r\n        [javac] D:\\workspace\\javafx_test1\\build\\build\\src\\module-info.java:3: error: module not found: javafx.fxml\r\n        [javac] \trequires javafx.fxml;\r\n        [javac] \t               ^\r\n        [javac] 2 errors\r\n    \r\n    BUILD FAILED\r\n    D:\\workspace\\javafx_test1\\build\\build.xml:101: Compile failed; see the compiler error output for details.\r\n\r\n\r\nabove code is error\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;project name=&quot;javafx_test1&quot; default=&quot;do-deploy&quot; basedir=&quot;.&quot;  xmlns:fx=&quot;javafx:com.sun.javafx.tools.ant&quot;&gt;\r\n\t&lt;target name=&quot;init-fx-tasks&quot;&gt;\r\n\t\t&lt;path id=&quot;fxant&quot;&gt;\r\n\t\t\t&lt;filelist&gt;\r\n\t\t\t\t&lt;file name=&quot;${java.home}\\..\\lib\\ant-javafx.jar&quot;/&gt;\r\n\t\t\t\t&lt;file name=&quot;${java.home}\\lib\\jfxrt.jar&quot;/&gt;\r\n\t\t\t&lt;/filelist&gt;\r\n\t\t&lt;/path&gt;\r\n\t\r\n\t\t&lt;taskdef resource=&quot;com/sun/javafx/tools/ant/antlib.xml&quot;\r\n\t\t\turi=&quot;javafx:com.sun.javafx.tools.ant&quot;\r\n\t\t\tclasspathref=&quot;fxant&quot;/&gt;\r\n\t&lt;/target&gt;\r\n\t&lt;target name=&quot;setup-staging-area&quot;&gt;\r\n\t\t&lt;delete dir=&quot;externalLibs&quot; /&gt;\r\n\t\t&lt;delete dir=&quot;project&quot; /&gt;\r\n\t\t&lt;delete dir=&quot;projectRefs&quot; /&gt;\r\n\t\r\n\t\t&lt;mkdir dir=&quot;externalLibs&quot; /&gt;\r\n\t\r\n\t\t&lt;copy todir=&quot;externalLibs&quot;&gt;\r\n\t\t\t&lt;fileset dir=&quot;C:\\test\\javafx-sdk-19\\lib&quot;&gt;\r\n\t\t\t\t&lt;filename name=&quot;javafx.controls.jar&quot;/&gt;\r\n\t\t\t&lt;/fileset&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\t&lt;copy todir=&quot;externalLibs&quot;&gt;\r\n\t\t\t&lt;fileset dir=&quot;C:\\test\\javafx-sdk-19\\lib&quot;&gt;\r\n\t\t\t\t&lt;filename name=&quot;javafx.swing.jar&quot;/&gt;\r\n\t\t\t&lt;/fileset&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\t&lt;copy todir=&quot;externalLibs&quot;&gt;\r\n\t\t\t&lt;fileset dir=&quot;C:\\test\\javafx-sdk-19\\lib&quot;&gt;\r\n\t\t\t\t&lt;filename name=&quot;javafx.base.jar&quot;/&gt;\r\n\t\t\t&lt;/fileset&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\t&lt;copy todir=&quot;externalLibs&quot;&gt;\r\n\t\t\t&lt;fileset dir=&quot;C:\\test\\javafx-sdk-19\\lib&quot;&gt;\r\n\t\t\t\t&lt;filename name=&quot;javafx-swt.jar&quot;/&gt;\r\n\t\t\t&lt;/fileset&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\t&lt;copy todir=&quot;externalLibs&quot;&gt;\r\n\t\t\t&lt;fileset dir=&quot;C:\\test\\javafx-sdk-19\\lib&quot;&gt;\r\n\t\t\t\t&lt;filename name=&quot;javafx.graphics.jar&quot;/&gt;\r\n\t\t\t&lt;/fileset&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\t&lt;copy todir=&quot;externalLibs&quot;&gt;\r\n\t\t\t&lt;fileset dir=&quot;C:\\test\\javafx-sdk-19\\lib&quot;&gt;\r\n\t\t\t\t&lt;filename name=&quot;javafx.media.jar&quot;/&gt;\r\n\t\t\t&lt;/fileset&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\t&lt;copy todir=&quot;externalLibs&quot;&gt;\r\n\t\t\t&lt;fileset dir=&quot;C:\\test\\javafx-sdk-19\\lib&quot;&gt;\r\n\t\t\t\t&lt;filename name=&quot;javafx.web.jar&quot;/&gt;\r\n\t\t\t&lt;/fileset&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\t&lt;copy todir=&quot;externalLibs&quot;&gt;\r\n\t\t\t&lt;fileset dir=&quot;C:\\test\\javafx-sdk-19\\lib&quot;&gt;\r\n\t\t\t\t&lt;filename name=&quot;javafx.fxml.jar&quot;/&gt;\r\n\t\t\t&lt;/fileset&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\r\n\t\t&lt;mkdir dir=&quot;project&quot; /&gt;\r\n\t\t&lt;copy todir=&quot;project&quot;&gt;\r\n\t\t\t&lt;fileset dir=&quot;D:\\workspace\\javafx_test1&quot;&gt;\r\n\t\t\t\t&lt;include name=&quot;src/**&quot; /&gt;\r\n\t\t\t&lt;/fileset&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\r\n\t\t&lt;mkdir dir=&quot;projectRefs&quot; /&gt;\r\n\t&lt;/target&gt;\r\n\t&lt;target name=&#39;do-compile&#39;&gt;\r\n\t\t&lt;delete dir=&quot;build&quot; /&gt;\r\n\t\t&lt;mkdir dir=&quot;build/src&quot; /&gt;\r\n\t\t&lt;mkdir dir=&quot;build/libs&quot; /&gt;\r\n\t\t&lt;mkdir dir=&quot;build/classes&quot; /&gt;\r\n\t\r\n\t\t&lt;!-- Copy project-libs references --&gt;\r\n\t\t&lt;copy todir=&quot;build/libs&quot;&gt;\r\n\t\t\t&lt;fileset dir=&quot;externalLibs&quot;&gt;\r\n\t\t\t\t&lt;include name=&quot;javafx-swt.jar&quot;/&gt;\r\n\t\t\t\t&lt;include name=&quot;javafx.fxml.jar&quot;/&gt;\r\n\t\t\t\t&lt;include name=&quot;javafx.swing.jar&quot;/&gt;\r\n\t\t\t\t&lt;include name=&quot;javafx.graphics.jar&quot;/&gt;\r\n\t\t\t\t&lt;include name=&quot;javafx.base.jar&quot;/&gt;\r\n\t\t\t\t&lt;include name=&quot;javafx.web.jar&quot;/&gt;\r\n\t\t\t\t&lt;include name=&quot;javafx.controls.jar&quot;/&gt;\r\n\t\t\t\t&lt;include name=&quot;javafx.media.jar&quot;/&gt;\r\n\t\t\t&lt;/fileset&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\r\n\t\t&lt;!-- Copy project references --&gt;\r\n\t\r\n\t\t&lt;!-- Copy project sources itself --&gt;\r\n\t\t&lt;copy todir=&quot;build/src&quot;&gt;\r\n\t\t\t&lt;fileset dir=&quot;project/src&quot;&gt;\r\n\t\t\t\t&lt;include name=&quot;**/*&quot;/&gt;\r\n\t\t\t&lt;/fileset&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\r\n\t\t&lt;javac includeantruntime=&quot;false&quot; source=&quot;18&quot; target=&quot;18&quot; srcdir=&quot;build/src&quot; destdir=&quot;build/classes&quot; encoding=&quot;UTF-8&quot;&gt;\r\n\t\t\t&lt;classpath&gt;\r\n\t\t\t\t&lt;fileset dir=&quot;build/libs&quot;&gt;\r\n\t\t\t\t\t&lt;include name=&quot;javafx-swt.jar&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;include name=&quot;javafx.fxml.jar&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;include name=&quot;javafx.swing.jar&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;include name=&quot;javafx.graphics.jar&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;include name=&quot;javafx.base.jar&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;include name=&quot;javafx.web.jar&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;include name=&quot;javafx.controls.jar&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;include name=&quot;javafx.media.jar&quot;/&gt;\r\n\t\t\t\t&lt;/fileset&gt;\r\n\t\t\t\t&lt;filelist&gt;\r\n\t\t\t\t\t&lt;file name=&quot;C:\\test\\jdk-18.0.2.1\\lib\\jfxrt.jar&quot;/&gt;\r\n\t\t\t\t&lt;/filelist&gt;\r\n\t\t\t&lt;/classpath&gt;\r\n\t\t\r\n\t\t&lt;/javac&gt;\r\n\t\r\n\t\t&lt;!-- Copy over none Java-Files --&gt;\r\n\t\t&lt;copy todir=&quot;build/classes&quot;&gt;\r\n\t\t&lt;fileset dir=&quot;project/src&quot;&gt;\r\n\t\t\t&lt;exclude name=&quot;**/*.java&quot;/&gt;\r\n\t\t&lt;/fileset&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\r\n\t\r\n\t&lt;/target&gt;\r\n\t&lt;target name=&quot;do-deploy&quot; depends=&quot;setup-staging-area, do-compile, init-fx-tasks&quot;&gt;\r\n\t\t&lt;delete file=&quot;dist&quot;/&gt;\r\n\t\t&lt;delete file=&quot;deploy&quot; /&gt;\r\n\t\r\n\t\t&lt;mkdir dir=&quot;dist&quot; /&gt;\r\n\t\t&lt;mkdir dir=&quot;dist/libs&quot; /&gt;\r\n\t\r\n\t\t&lt;copy todir=&quot;dist/libs&quot;&gt;\r\n\t\t\t&lt;fileset dir=&quot;externalLibs&quot;&gt;\r\n\t\t\t\t&lt;include name=&quot;*&quot; /&gt;\r\n\t\t\t&lt;/fileset&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\r\n\t\r\n\t\t&lt;fx:resources id=&quot;appRes&quot;&gt;\r\n\t\t\t&lt;fx:fileset dir=&quot;dist&quot; includes=&quot;javafx_test1.jar&quot;/&gt;\r\n\t\t\t&lt;fx:fileset dir=&quot;dist&quot; includes=&quot;libs/*&quot;/&gt;\r\n\t\t&lt;/fx:resources&gt;\r\n\t\r\n\t\t&lt;fx:application id=&quot;fxApplication&quot;\r\n\t\t\tname=&quot;test34345&quot;\r\n\t\t\tmainClass=&quot;application.Main&quot;\r\n\t\t/&gt;\r\n\t\r\n\t\t&lt;mkdir dir=&quot;build/classes/META-INF&quot; /&gt;\r\n\t\r\n\t\r\n\t\r\n\t\t&lt;fx:jar destfile=&quot;dist/javafx_test1.jar&quot;&gt;\r\n\t\t\t&lt;fx:application refid=&quot;fxApplication&quot;/&gt;\r\n\t\t\t&lt;fileset dir=&quot;build/classes&quot;&gt;\r\n\t\t\t&lt;/fileset&gt;\r\n\t\t\t&lt;fx:resources refid=&quot;appRes&quot;/&gt;\r\n\t\r\n\t\t\t&lt;manifest&gt;\r\n\t\t\t\t&lt;attribute name=&quot;Implementation-Vendor&quot; value=&quot;makery.ch&quot;/&gt;\r\n\t\t\t\t&lt;attribute name=&quot;Implementation-Title&quot; value=&quot;test34345&quot;/&gt;\r\n\t\t\t\t&lt;attribute name=&quot;Implementation-Version&quot; value=&quot;1.0&quot;/&gt;\r\n\t\t\t\t&lt;attribute name=&quot;JavaFX-Feature-Proxy&quot; value=&quot;None&quot;/&gt;\r\n\t\t\t&lt;/manifest&gt;\r\n\t\t&lt;/fx:jar&gt;\r\n\t\r\n\t\r\n\t\t&lt;mkdir dir=&quot;deploy&quot; /&gt;\r\n\t\t&lt;!-- Need to use ${basedir} because somehow the ant task is calculating the directory differently --&gt;\r\n\t\t&lt;fx:deploy\r\n\t\t\tembedJNLP=&quot;false&quot;\r\n\t\t\textension=&quot;false&quot;\r\n\t\t\tincludeDT=&quot;false&quot;\r\n\t\t\tofflineAllowed=&quot;true&quot;\r\n\t\t\toutdir=&quot;${basedir}/deploy&quot;\r\n\t\t\toutfile=&quot;javafx_test1&quot; nativeBundles=&quot;exe&quot;\r\n\t\t\tupdatemode=&quot;background&quot; &gt;\r\n\t\r\n\t\t\t&lt;fx:platform basedir=&quot;${java.home}&quot;/&gt;\r\n\t\t\t&lt;fx:info title=&quot;javafx_test1&quot; vendor=&quot;makery.ch&quot;/&gt;\r\n\t\r\n\t\t\t&lt;fx:application refId=&quot;fxApplication&quot;/&gt;\r\n\t\t\t&lt;fx:resources refid=&quot;appRes&quot;/&gt;\r\n\t\t&lt;/fx:deploy&gt;\r\n\t\r\n\t\r\n\t&lt;/target&gt;\r\n&lt;/project&gt;\r\n\r\nabove code is build.xml\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/phsAU.jpg\r\n  [2]: https://i.stack.imgur.com/26T2k.jpg\r\n  [3]: https://i.stack.imgur.com/513t3.jpg\r\n","title":"I have built javafx through &quot;ant build&quot; in eclipse, but I get an error","body":"<p>I am struggling with the error on the 3rd day.\nMy jdk version is 18 and My javafx version is javafx-sdk-19\ni'm trying build but it is error</p>\n<p>When I run the javafx project in Eclipse, it works normally, but when I build through build.xml, the following error occurs.</p>\n<p><a href=\"https://i.stack.imgur.com/phsAU.jpg\" rel=\"nofollow noreferrer\">src path info</a></p>\n<p><a href=\"https://i.stack.imgur.com/26T2k.jpg\" rel=\"nofollow noreferrer\">build path info</a></p>\n<pre><code>module javafx_test1 {\n    requires javafx.controls;\n    requires javafx.fxml;\n    \n    opens application to javafx.graphics, javafx.fxml;\n}\n</code></pre>\n<p>above code is module-info.java</p>\n<pre><code> do-compile:\n   [delete] Deleting directory D:\\workspace\\javafx_test1\\build\\build\n    [mkdir] Created dir: D:\\workspace\\javafx_test1\\build\\build\\src\n    [mkdir] Created dir: D:\\workspace\\javafx_test1\\build\\build\\libs\n    [mkdir] Created dir: D:\\workspace\\javafx_test1\\build\\build\\classes\n     [copy] Copying 8 files to D:\\workspace\\javafx_test1\\build\\build\\libs\n     [copy] Copying 5 files to D:\\workspace\\javafx_test1\\build\\build\\src\n    [javac] Compiling 3 source files to D:\\workspace\\javafx_test1\\build\\build\\classes\n    [javac] D:\\workspace\\javafx_test1\\build\\build\\src\\module-info.java:2: error: module not found: javafx.controls\n    [javac]     requires javafx.controls;\n    [javac]                    ^\n    [javac] D:\\workspace\\javafx_test1\\build\\build\\src\\module-info.java:3: error: module not found: javafx.fxml\n    [javac]     requires javafx.fxml;\n    [javac]                    ^\n    [javac] 2 errors\n\nBUILD FAILED\nD:\\workspace\\javafx_test1\\build\\build.xml:101: Compile failed; see the compiler error output for details.\n</code></pre>\n<p>above code is error</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project name=&quot;javafx_test1&quot; default=&quot;do-deploy&quot; basedir=&quot;.&quot;  xmlns:fx=&quot;javafx:com.sun.javafx.tools.ant&quot;&gt;\n&lt;target name=&quot;init-fx-tasks&quot;&gt;\n    &lt;path id=&quot;fxant&quot;&gt;\n        &lt;filelist&gt;\n            &lt;file name=&quot;${java.home}\\..\\lib\\ant-javafx.jar&quot;/&gt;\n            &lt;file name=&quot;${java.home}\\lib\\jfxrt.jar&quot;/&gt;\n        &lt;/filelist&gt;\n    &lt;/path&gt;\n\n    &lt;taskdef resource=&quot;com/sun/javafx/tools/ant/antlib.xml&quot;\n        uri=&quot;javafx:com.sun.javafx.tools.ant&quot;\n        classpathref=&quot;fxant&quot;/&gt;\n&lt;/target&gt;\n&lt;target name=&quot;setup-staging-area&quot;&gt;\n    &lt;delete dir=&quot;externalLibs&quot; /&gt;\n    &lt;delete dir=&quot;project&quot; /&gt;\n    &lt;delete dir=&quot;projectRefs&quot; /&gt;\n\n    &lt;mkdir dir=&quot;externalLibs&quot; /&gt;\n\n    &lt;copy todir=&quot;externalLibs&quot;&gt;\n        &lt;fileset dir=&quot;C:\\test\\javafx-sdk-19\\lib&quot;&gt;\n            &lt;filename name=&quot;javafx.controls.jar&quot;/&gt;\n        &lt;/fileset&gt;\n    &lt;/copy&gt;\n    &lt;copy todir=&quot;externalLibs&quot;&gt;\n        &lt;fileset dir=&quot;C:\\test\\javafx-sdk-19\\lib&quot;&gt;\n            &lt;filename name=&quot;javafx.swing.jar&quot;/&gt;\n        &lt;/fileset&gt;\n    &lt;/copy&gt;\n    &lt;copy todir=&quot;externalLibs&quot;&gt;\n        &lt;fileset dir=&quot;C:\\test\\javafx-sdk-19\\lib&quot;&gt;\n            &lt;filename name=&quot;javafx.base.jar&quot;/&gt;\n        &lt;/fileset&gt;\n    &lt;/copy&gt;\n    &lt;copy todir=&quot;externalLibs&quot;&gt;\n        &lt;fileset dir=&quot;C:\\test\\javafx-sdk-19\\lib&quot;&gt;\n            &lt;filename name=&quot;javafx-swt.jar&quot;/&gt;\n        &lt;/fileset&gt;\n    &lt;/copy&gt;\n    &lt;copy todir=&quot;externalLibs&quot;&gt;\n        &lt;fileset dir=&quot;C:\\test\\javafx-sdk-19\\lib&quot;&gt;\n            &lt;filename name=&quot;javafx.graphics.jar&quot;/&gt;\n        &lt;/fileset&gt;\n    &lt;/copy&gt;\n    &lt;copy todir=&quot;externalLibs&quot;&gt;\n        &lt;fileset dir=&quot;C:\\test\\javafx-sdk-19\\lib&quot;&gt;\n            &lt;filename name=&quot;javafx.media.jar&quot;/&gt;\n        &lt;/fileset&gt;\n    &lt;/copy&gt;\n    &lt;copy todir=&quot;externalLibs&quot;&gt;\n        &lt;fileset dir=&quot;C:\\test\\javafx-sdk-19\\lib&quot;&gt;\n            &lt;filename name=&quot;javafx.web.jar&quot;/&gt;\n        &lt;/fileset&gt;\n    &lt;/copy&gt;\n    &lt;copy todir=&quot;externalLibs&quot;&gt;\n        &lt;fileset dir=&quot;C:\\test\\javafx-sdk-19\\lib&quot;&gt;\n            &lt;filename name=&quot;javafx.fxml.jar&quot;/&gt;\n        &lt;/fileset&gt;\n    &lt;/copy&gt;\n\n    &lt;mkdir dir=&quot;project&quot; /&gt;\n    &lt;copy todir=&quot;project&quot;&gt;\n        &lt;fileset dir=&quot;D:\\workspace\\javafx_test1&quot;&gt;\n            &lt;include name=&quot;src/**&quot; /&gt;\n        &lt;/fileset&gt;\n    &lt;/copy&gt;\n\n    &lt;mkdir dir=&quot;projectRefs&quot; /&gt;\n&lt;/target&gt;\n&lt;target name='do-compile'&gt;\n    &lt;delete dir=&quot;build&quot; /&gt;\n    &lt;mkdir dir=&quot;build/src&quot; /&gt;\n    &lt;mkdir dir=&quot;build/libs&quot; /&gt;\n    &lt;mkdir dir=&quot;build/classes&quot; /&gt;\n\n    &lt;!-- Copy project-libs references --&gt;\n    &lt;copy todir=&quot;build/libs&quot;&gt;\n        &lt;fileset dir=&quot;externalLibs&quot;&gt;\n            &lt;include name=&quot;javafx-swt.jar&quot;/&gt;\n            &lt;include name=&quot;javafx.fxml.jar&quot;/&gt;\n            &lt;include name=&quot;javafx.swing.jar&quot;/&gt;\n            &lt;include name=&quot;javafx.graphics.jar&quot;/&gt;\n            &lt;include name=&quot;javafx.base.jar&quot;/&gt;\n            &lt;include name=&quot;javafx.web.jar&quot;/&gt;\n            &lt;include name=&quot;javafx.controls.jar&quot;/&gt;\n            &lt;include name=&quot;javafx.media.jar&quot;/&gt;\n        &lt;/fileset&gt;\n    &lt;/copy&gt;\n\n    &lt;!-- Copy project references --&gt;\n\n    &lt;!-- Copy project sources itself --&gt;\n    &lt;copy todir=&quot;build/src&quot;&gt;\n        &lt;fileset dir=&quot;project/src&quot;&gt;\n            &lt;include name=&quot;**/*&quot;/&gt;\n        &lt;/fileset&gt;\n    &lt;/copy&gt;\n\n    &lt;javac includeantruntime=&quot;false&quot; source=&quot;18&quot; target=&quot;18&quot; srcdir=&quot;build/src&quot; destdir=&quot;build/classes&quot; encoding=&quot;UTF-8&quot;&gt;\n        &lt;classpath&gt;\n            &lt;fileset dir=&quot;build/libs&quot;&gt;\n                &lt;include name=&quot;javafx-swt.jar&quot;/&gt;\n                                &lt;include name=&quot;javafx.fxml.jar&quot;/&gt;\n                                &lt;include name=&quot;javafx.swing.jar&quot;/&gt;\n                                &lt;include name=&quot;javafx.graphics.jar&quot;/&gt;\n                                &lt;include name=&quot;javafx.base.jar&quot;/&gt;\n                                &lt;include name=&quot;javafx.web.jar&quot;/&gt;\n                                &lt;include name=&quot;javafx.controls.jar&quot;/&gt;\n                                &lt;include name=&quot;javafx.media.jar&quot;/&gt;\n            &lt;/fileset&gt;\n            &lt;filelist&gt;\n                &lt;file name=&quot;C:\\test\\jdk-18.0.2.1\\lib\\jfxrt.jar&quot;/&gt;\n            &lt;/filelist&gt;\n        &lt;/classpath&gt;\n    \n    &lt;/javac&gt;\n\n    &lt;!-- Copy over none Java-Files --&gt;\n    &lt;copy todir=&quot;build/classes&quot;&gt;\n    &lt;fileset dir=&quot;project/src&quot;&gt;\n        &lt;exclude name=&quot;**/*.java&quot;/&gt;\n    &lt;/fileset&gt;\n    &lt;/copy&gt;\n\n\n&lt;/target&gt;\n&lt;target name=&quot;do-deploy&quot; depends=&quot;setup-staging-area, do-compile, init-fx-tasks&quot;&gt;\n    &lt;delete file=&quot;dist&quot;/&gt;\n    &lt;delete file=&quot;deploy&quot; /&gt;\n\n    &lt;mkdir dir=&quot;dist&quot; /&gt;\n    &lt;mkdir dir=&quot;dist/libs&quot; /&gt;\n\n    &lt;copy todir=&quot;dist/libs&quot;&gt;\n        &lt;fileset dir=&quot;externalLibs&quot;&gt;\n            &lt;include name=&quot;*&quot; /&gt;\n        &lt;/fileset&gt;\n    &lt;/copy&gt;\n\n\n    &lt;fx:resources id=&quot;appRes&quot;&gt;\n        &lt;fx:fileset dir=&quot;dist&quot; includes=&quot;javafx_test1.jar&quot;/&gt;\n        &lt;fx:fileset dir=&quot;dist&quot; includes=&quot;libs/*&quot;/&gt;\n    &lt;/fx:resources&gt;\n\n    &lt;fx:application id=&quot;fxApplication&quot;\n        name=&quot;test34345&quot;\n        mainClass=&quot;application.Main&quot;\n    /&gt;\n\n    &lt;mkdir dir=&quot;build/classes/META-INF&quot; /&gt;\n\n\n\n    &lt;fx:jar destfile=&quot;dist/javafx_test1.jar&quot;&gt;\n        &lt;fx:application refid=&quot;fxApplication&quot;/&gt;\n        &lt;fileset dir=&quot;build/classes&quot;&gt;\n        &lt;/fileset&gt;\n        &lt;fx:resources refid=&quot;appRes&quot;/&gt;\n\n        &lt;manifest&gt;\n            &lt;attribute name=&quot;Implementation-Vendor&quot; value=&quot;makery.ch&quot;/&gt;\n            &lt;attribute name=&quot;Implementation-Title&quot; value=&quot;test34345&quot;/&gt;\n            &lt;attribute name=&quot;Implementation-Version&quot; value=&quot;1.0&quot;/&gt;\n            &lt;attribute name=&quot;JavaFX-Feature-Proxy&quot; value=&quot;None&quot;/&gt;\n        &lt;/manifest&gt;\n    &lt;/fx:jar&gt;\n\n\n    &lt;mkdir dir=&quot;deploy&quot; /&gt;\n    &lt;!-- Need to use ${basedir} because somehow the ant task is calculating the directory differently --&gt;\n    &lt;fx:deploy\n        embedJNLP=&quot;false&quot;\n        extension=&quot;false&quot;\n        includeDT=&quot;false&quot;\n        offlineAllowed=&quot;true&quot;\n        outdir=&quot;${basedir}/deploy&quot;\n        outfile=&quot;javafx_test1&quot; nativeBundles=&quot;exe&quot;\n        updatemode=&quot;background&quot; &gt;\n\n        &lt;fx:platform basedir=&quot;${java.home}&quot;/&gt;\n        &lt;fx:info title=&quot;javafx_test1&quot; vendor=&quot;makery.ch&quot;/&gt;\n\n        &lt;fx:application refId=&quot;fxApplication&quot;/&gt;\n        &lt;fx:resources refid=&quot;appRes&quot;/&gt;\n    &lt;/fx:deploy&gt;\n\n\n&lt;/target&gt;\n</code></pre>\n\n<p>above code is build.xml</p>\n"},{"tags":["java","xml","jackson"],"answers":[{"tags":[],"owner":{"account_id":1165262,"reputation":29315,"user_id":1143825,"accept_rate":94,"display_name":"Ilya"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1368022461,"creation_date":1368021997,"answer_id":16442839,"question_id":16442805,"body_markdown":"`JacksonXmlProperty` annotation has property `namespace`. Use it for defining `namespace`  \r\n\r\n    public class Bar {\r\n        @JacksonXmlProperty(namespace = &quot;name&quot;,localName=&quot;x&quot;)\r\n        public String x = &quot;x&quot;;\r\n        @JacksonXmlProperty(namespace = &quot;name&quot;,localName=&quot;y&quot;)\r\n        public String y = &quot;y&quot;;\r\n    } \r\n\r\n    @JacksonXmlRootElement(namespace = &quot;name&quot;, localName = &quot;Foo&quot;)\r\n    public class Foo {\r\n       private Bar bar;\r\n    \r\n       @JacksonXmlProperty(namespace = &quot;name&quot;, localName = &quot;Bar&quot;)\r\n       public Bar getBar() {\r\n          return bar;\r\n       }\r\n    \r\n       public void setBar(Bar bar) {\r\n          this.bar = bar;\r\n       }\r\n    }\r\n\r\n  ","title":"Jackson XML - deserializing XML with namespace prefixes","body":"<p><code>JacksonXmlProperty</code> annotation has property <code>namespace</code>. Use it for defining <code>namespace</code>  </p>\n\n<pre><code>public class Bar {\n    @JacksonXmlProperty(namespace = \"name\",localName=\"x\")\n    public String x = \"x\";\n    @JacksonXmlProperty(namespace = \"name\",localName=\"y\")\n    public String y = \"y\";\n} \n\n@JacksonXmlRootElement(namespace = \"name\", localName = \"Foo\")\npublic class Foo {\n   private Bar bar;\n\n   @JacksonXmlProperty(namespace = \"name\", localName = \"Bar\")\n   public Bar getBar() {\n      return bar;\n   }\n\n   public void setBar(Bar bar) {\n      this.bar = bar;\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1029091,"reputation":307,"user_id":1037770,"display_name":"Omeri"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1617196382,"creation_date":1617196382,"answer_id":66888609,"question_id":16442805,"body_markdown":"Though this is an old post, I just ran into this issue and the only solution to match the XML required for my service calls was something like this, where the namespace declaration also uses the prefix.\r\n\r\n\r\n    @JacksonXmlRootElement(localName = &quot;entry&quot;)\r\n    abstract class BaseEntry implements Serializable { \r\n    \tprivate static final long serialVersionUID = 6835429382441010779L;\r\n        private final String xmlns = &quot;com.foo.bar&quot;; \r\n    \tprivate String type;\r\n    \t\r\n    \tprotected BaseEntry(String type) {\r\n    \t\tthis.type = type;\r\n    \t}\r\n    \r\n    \t@JacksonXmlProperty(isAttribute = true)\r\n    \tpublic String getType() {\r\n    \t\treturn type;\r\n    \t}\r\n    \t\r\n    \t@JacksonXmlProperty(localName = &quot;xmlns:ns2&quot;, isAttribute = true)\r\n    \tpublic String getXmlns() {\r\n    \t\treturn xmlns;\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\nThis produces something like:\r\n\r\n    &lt;entry type=&quot;com.foo.bar&quot; xmlns:ns2=&quot;com.foo.bar&quot;&gt;\r\n    ...\r\n    &lt;/entry&gt;\r\n","title":"Jackson XML - deserializing XML with namespace prefixes","body":"<p>Though this is an old post, I just ran into this issue and the only solution to match the XML required for my service calls was something like this, where the namespace declaration also uses the prefix.</p>\n<pre><code>@JacksonXmlRootElement(localName = &quot;entry&quot;)\nabstract class BaseEntry implements Serializable { \n    private static final long serialVersionUID = 6835429382441010779L;\n    private final String xmlns = &quot;com.foo.bar&quot;; \n    private String type;\n    \n    protected BaseEntry(String type) {\n        this.type = type;\n    }\n\n    @JacksonXmlProperty(isAttribute = true)\n    public String getType() {\n        return type;\n    }\n    \n    @JacksonXmlProperty(localName = &quot;xmlns:ns2&quot;, isAttribute = true)\n    public String getXmlns() {\n        return xmlns;\n    }\n}\n</code></pre>\n<p>This produces something like:</p>\n<pre><code>&lt;entry type=&quot;com.foo.bar&quot; xmlns:ns2=&quot;com.foo.bar&quot;&gt;\n...\n&lt;/entry&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8660948,"reputation":1200,"user_id":6483409,"display_name":"robothy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666713325,"creation_date":1666713325,"answer_id":74196908,"question_id":16442805,"body_markdown":"Configuring the `xmlMapper` to ignore the namespace could avoid this exception.\r\n```java\r\nXMLInputFactory input = new WstxInputFactory();\r\ninput.setProperty(XMLInputFactory.IS_NAMESPACE_AWARE, Boolean.FALSE);\r\nXmlMapper xmlMapper = new XmlMapper(new XmlFactory(input, new WstxOutputFactory()));\r\n```\r\nComes from [this answer](https://stackoverflow.com/a/39343366/6483409).","title":"Jackson XML - deserializing XML with namespace prefixes","body":"<p>Configuring the <code>xmlMapper</code> to ignore the namespace could avoid this exception.</p>\n<pre class=\"lang-java prettyprint-override\"><code>XMLInputFactory input = new WstxInputFactory();\ninput.setProperty(XMLInputFactory.IS_NAMESPACE_AWARE, Boolean.FALSE);\nXmlMapper xmlMapper = new XmlMapper(new XmlFactory(input, new WstxOutputFactory()));\n</code></pre>\n<p>Comes from <a href=\"https://stackoverflow.com/a/39343366/6483409\">this answer</a>.</p>\n"}],"owner":{"account_id":1025102,"reputation":1075,"user_id":1034586,"accept_rate":93,"display_name":"jtyler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22503,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":16442839,"answer_count":3,"score":11,"last_activity_date":1666713325,"creation_date":1368021882,"question_id":16442805,"body_markdown":"I&#39;m working with the Jackson XML plugin (https://github.com/FasterXML/jackson-dataformat-xml), and I&#39;m not sure if it&#39;s supported, but I&#39;m wondering if it&#39;s possible to both serialize and deserialize XML with namespace prefixes, like so:\r\n\r\n    &lt;name:Foo&gt;\r\n      &lt;name:Bar&gt;\r\n        &lt;name:x&gt;x&lt;/name:x&gt;\r\n        &lt;name:y&gt;y&lt;/name:y&gt;\r\n      &lt;/name:Bar&gt;\r\n    &lt;/name:Foo&gt;\r\n\r\nI can generate this type of XML using Jackson&#39;s plugin like so:\r\n\r\n    @JacksonXmlProperty(localName=&quot;name:Bar&quot;)\r\n    public Bar getBar() {\r\n        return bar;\r\n    }\r\n\r\nHowever, I can&#39;t find a way to configure my POJOs to deserialize from the XML generated. Please see the following example code:\r\n\r\n    public class Bar{\r\n        @JacksonXmlProperty(localName=&quot;name:x&quot;)\r\n        public String x = &quot;x&quot;;\r\n        @JacksonXmlProperty(localName=&quot;name:y&quot;)\r\n        public String y = &quot;y&quot;;\r\n    }\r\n\r\n----\r\n\r\n    @JacksonXmlRootElement(localName=&quot;name:Foo&quot;)\r\n        public class Foo{\r\n            private Bar bar;\r\n\r\n            @JacksonXmlProperty(localName=&quot;name:Bar&quot;)\r\n            public Bar getBar() {\r\n\t           return bar;\r\n            }\r\n\r\n            public void setBar(Bar bar) {\r\n                this.bar = bar;\r\n            }\t\r\n    }\r\n\r\n----\r\n\r\n    public class TestDeserialization {\r\n\r\n        public static void main(String[] args) throws Exception {\r\n            Foo foo = new Foo();\r\n            foo.setBar(new Bar());\r\n\r\n            XmlMapper xmlMapper = new XmlMapper();\r\n            String xml = xmlMapper.writerWithDefaultPrettyPrinter().writeValueAsString(foo);\r\n            System.out.println(xml);\r\n            System.out.println(&quot;XML Desearialzing....&quot;);\r\n            Foo foo2= xmlMapper.readValue(xml, Foo.class);\r\n            System.out.println(xmlMapper.writeValueAsString(foo2));\r\n         }\r\n    }\r\n\r\nTrying to run this test gives me an exception: \r\n\r\n    Exception in thread &quot;main&quot; java.io.IOException: com.ctc.wstx.exc.WstxParsingException: Undeclared namespace prefix &quot;name&quot;\r\n\r\nwhich is understandable, but I was wondering if there&#39;s a way to get this to work with Jackson XML?","title":"Jackson XML - deserializing XML with namespace prefixes","body":"<p>I'm working with the Jackson XML plugin (<a href=\"https://github.com/FasterXML/jackson-dataformat-xml\" rel=\"noreferrer\">https://github.com/FasterXML/jackson-dataformat-xml</a>), and I'm not sure if it's supported, but I'm wondering if it's possible to both serialize and deserialize XML with namespace prefixes, like so:</p>\n\n<pre><code>&lt;name:Foo&gt;\n  &lt;name:Bar&gt;\n    &lt;name:x&gt;x&lt;/name:x&gt;\n    &lt;name:y&gt;y&lt;/name:y&gt;\n  &lt;/name:Bar&gt;\n&lt;/name:Foo&gt;\n</code></pre>\n\n<p>I can generate this type of XML using Jackson's plugin like so:</p>\n\n<pre><code>@JacksonXmlProperty(localName=\"name:Bar\")\npublic Bar getBar() {\n    return bar;\n}\n</code></pre>\n\n<p>However, I can't find a way to configure my POJOs to deserialize from the XML generated. Please see the following example code:</p>\n\n<pre><code>public class Bar{\n    @JacksonXmlProperty(localName=\"name:x\")\n    public String x = \"x\";\n    @JacksonXmlProperty(localName=\"name:y\")\n    public String y = \"y\";\n}\n</code></pre>\n\n<hr>\n\n<pre><code>@JacksonXmlRootElement(localName=\"name:Foo\")\n    public class Foo{\n        private Bar bar;\n\n        @JacksonXmlProperty(localName=\"name:Bar\")\n        public Bar getBar() {\n           return bar;\n        }\n\n        public void setBar(Bar bar) {\n            this.bar = bar;\n        }   \n}\n</code></pre>\n\n<hr>\n\n<pre><code>public class TestDeserialization {\n\n    public static void main(String[] args) throws Exception {\n        Foo foo = new Foo();\n        foo.setBar(new Bar());\n\n        XmlMapper xmlMapper = new XmlMapper();\n        String xml = xmlMapper.writerWithDefaultPrettyPrinter().writeValueAsString(foo);\n        System.out.println(xml);\n        System.out.println(\"XML Desearialzing....\");\n        Foo foo2= xmlMapper.readValue(xml, Foo.class);\n        System.out.println(xmlMapper.writeValueAsString(foo2));\n     }\n}\n</code></pre>\n\n<p>Trying to run this test gives me an exception: </p>\n\n<pre><code>Exception in thread \"main\" java.io.IOException: com.ctc.wstx.exc.WstxParsingException: Undeclared namespace prefix \"name\"\n</code></pre>\n\n<p>which is understandable, but I was wondering if there's a way to get this to work with Jackson XML?</p>\n"},{"tags":["java","process","clearcase"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1489013347,"post_id":42683393,"comment_id":72490917,"body_markdown":"`destroyForcibly()`?","body":"<code>destroyForcibly()</code>?"},{"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1489013525,"post_id":42683393,"comment_id":72490996,"body_markdown":"Are you using a dynamic view and cleartool setview?","body":"Are you using a dynamic view and cleartool setview?"},{"owner":{"account_id":1742600,"reputation":151,"user_id":1593577,"accept_rate":0,"display_name":"RockManX77777"},"score":0,"creation_date":1489066178,"post_id":42683393,"comment_id":72515147,"body_markdown":"I tried `destroyForcibly()` at first but no change. I&#39;m using a snapshot view just having the process run in the `view` dir.","body":"I tried <code>destroyForcibly()</code> at first but no change. I&#39;m using a snapshot view just having the process run in the <code>view</code> dir."}],"answers":[{"tags":[],"owner":{"account_id":7032371,"reputation":3061,"user_id":5387592,"accept_rate":29,"display_name":"guillaume girod-vitouchkina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489013401,"creation_date":1489013401,"answer_id":42683444,"question_id":42683393,"body_markdown":"see:\r\nhttps://stackoverflow.com/questions/6356340/killing-a-process-using-java\r\n\r\nBut be aware that if the process that you invoke creates new sub-processes, those may not be terminated (see https://bugs.java.com/bugdatabase/view_bug?bug_id=4770092).\r\n","title":"Killing a java.lang.Process not killing subprocess()","body":"<p>see:\n<a href=\"https://stackoverflow.com/questions/6356340/killing-a-process-using-java\">Killing a process using Java</a></p>\n<p>But be aware that if the process that you invoke creates new sub-processes, those may not be terminated (see <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4770092\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug?bug_id=4770092</a>).</p>\n"},{"tags":[],"owner":{"account_id":2043778,"reputation":17800,"user_id":1824361,"accept_rate":80,"display_name":"Ahmed Nabil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666712977,"creation_date":1666712977,"answer_id":74196832,"question_id":42683393,"body_markdown":"With `Java 9`, you can kill the subprocess of the main process reference.\r\n\r\n\r\n\r\n    LOGGER.info(&quot;Going to stop the process descendants (subprocesses) {}&quot;, this.process.descendants().collect(Collectors.toList()));\r\n    process.descendants().forEach((ProcessHandle d) -&gt; {\r\n        d.destroy();\r\n    });\r\n    \r\n    LOGGER.info(&quot;Going to stop the process {}&quot;, this.process);\r\n    process.destroy();\r\n\r\n\r\n\r\n","title":"Killing a java.lang.Process not killing subprocess()","body":"<p>With <code>Java 9</code>, you can kill the subprocess of the main process reference.</p>\n<pre><code>LOGGER.info(&quot;Going to stop the process descendants (subprocesses) {}&quot;, this.process.descendants().collect(Collectors.toList()));\nprocess.descendants().forEach((ProcessHandle d) -&gt; {\n    d.destroy();\n});\n\nLOGGER.info(&quot;Going to stop the process {}&quot;, this.process);\nprocess.destroy();\n</code></pre>\n"}],"owner":{"account_id":1742600,"reputation":151,"user_id":1593577,"accept_rate":0,"display_name":"RockManX77777"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2929,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1666712977,"creation_date":1489013172,"question_id":42683393,"body_markdown":"I have a GUI that has many buttons. Each button creates a `Process` (`ProcessBuilder.start()`) that send of a predetermined ClearCase command with pre-set arguments.\r\n\r\nAfter calling `ProcessBuilder.start()`, I add the process to a list. When the program shuts down, I iterate through this list and call `destroy()` on each process. I&#39;m using `Runtime.getRuntime().addShutdownHook()` to try to iterate through my list.\r\n\r\nHowever, when I look in Windows Task Manager, I see that some `conhost.exe` and `cleartool.exe` processes are still alive. I suspect `Process.destroy()` is either not working or not propagating. Is there a way to completely clean up the program and kill all subprocesses when the user clicks X?","title":"Killing a java.lang.Process not killing subprocess()","body":"<p>I have a GUI that has many buttons. Each button creates a <code>Process</code> (<code>ProcessBuilder.start()</code>) that send of a predetermined ClearCase command with pre-set arguments.</p>\n\n<p>After calling <code>ProcessBuilder.start()</code>, I add the process to a list. When the program shuts down, I iterate through this list and call <code>destroy()</code> on each process. I'm using <code>Runtime.getRuntime().addShutdownHook()</code> to try to iterate through my list.</p>\n\n<p>However, when I look in Windows Task Manager, I see that some <code>conhost.exe</code> and <code>cleartool.exe</code> processes are still alive. I suspect <code>Process.destroy()</code> is either not working or not propagating. Is there a way to completely clean up the program and kill all subprocesses when the user clicks X?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9059,"page":933,"page_size":100}
