{"items":[{"tags":["java","android","primitive-types"],"comments":[{"owner":{"account_id":2742869,"reputation":8394,"user_id":2363967,"accept_rate":97,"display_name":"Andrew Williamson"},"score":3,"creation_date":1461636064,"post_id":36854054,"comment_id":61276807,"body_markdown":"No difference - int members are initialized to zero by default.","body":"No difference - int members are initialized to zero by default."},{"owner":{"account_id":6781150,"reputation":2228,"user_id":5221346,"accept_rate":60,"display_name":"RaminS"},"score":2,"creation_date":1461636295,"post_id":36854054,"comment_id":61276851,"body_markdown":"I would still initialize to `0` if I wanted them to be 0, though. And since I do it, you should too!","body":"I would still initialize to <code>0</code> if I wanted them to be 0, though. And since I do it, you should too!"},{"owner":{"account_id":211877,"reputation":5563,"user_id":464313,"accept_rate":12,"display_name":"Adam Mendoza"},"score":0,"creation_date":1542871850,"post_id":36854054,"comment_id":93725842,"body_markdown":"fwiw: Using Java in Visual Studio Code for some algorithm practice throws this error if an int is not initialized \n`&quot;Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \n\tThe local variable myVar1 may not have been initialized&quot;`","body":"fwiw: Using Java in Visual Studio Code for some algorithm practice throws this error if an int is not initialized  <code>&quot;Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem:  \tThe local variable myVar1 may not have been initialized&quot;</code>"}],"answers":[{"tags":[],"owner":{"account_id":5252019,"reputation":4149,"user_id":4195981,"display_name":"F.Igor"},"down_vote_count":1,"up_vote_count":36,"is_accepted":true,"score":35,"last_activity_date":1692775440,"creation_date":1461636433,"answer_id":36854146,"question_id":36854054,"body_markdown":"According to [Java primitive data types tutorial][1]: When **fields** are declared without initialization, the compiler will assign a sensible default value. Typically, this default would be zero or null, based on the data type. \r\n\r\n    byte    0\r\n    short   0\r\n    int\t    0\r\n    long    0L\r\n    float   0.0f\r\n    double  0.0d\r\n    char    &#39;\\u0000&#39;\r\n    String (or any object)  \tnull\r\n    boolean\tfalse\r\n\r\nA good practice: initialize values before using them to prevent unexpected behavior.\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html","title":"Initialize int to 0 or not?","body":"<p>According to <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">Java primitive data types tutorial</a>: When <strong>fields</strong> are declared without initialization, the compiler will assign a sensible default value. Typically, this default would be zero or null, based on the data type.</p>\n<pre><code>byte    0\nshort   0\nint     0\nlong    0L\nfloat   0.0f\ndouble  0.0d\nchar    '\\u0000'\nString (or any object)      null\nboolean false\n</code></pre>\n<p>A good practice: initialize values before using them to prevent unexpected behavior.</p>\n"},{"tags":[],"owner":{"account_id":3421530,"reputation":3695,"user_id":2868955,"accept_rate":85,"display_name":"Evdzhan Mustafa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1461636538,"creation_date":1461636538,"answer_id":36854154,"question_id":36854054,"body_markdown":"As noted in the comments, *no there is no difference*. They&#39;ll be initalized with 0 implicitly. However if you use good IDE or have other tools, it would be really easy for you to search and replace `= 0;` with `= SomeOtherValueHere;`. \r\n\r\nAlso I think it is a good practice to always initialzie your variables before you access them.\r\n","title":"Initialize int to 0 or not?","body":"<p>As noted in the comments, <em>no there is no difference</em>. They'll be initalized with 0 implicitly. However if you use good IDE or have other tools, it would be really easy for you to search and replace <code>= 0;</code> with <code>= SomeOtherValueHere;</code>. </p>\n\n<p>Also I think it is a good practice to always initialzie your variables before you access them.</p>\n"},{"tags":[],"owner":{"account_id":1592127,"reputation":18171,"user_id":1475228,"accept_rate":84,"display_name":"Pritam Banerjee"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1461637584,"creation_date":1461636947,"answer_id":36854205,"question_id":36854054,"body_markdown":"It is a good coding practice to initialize variables.\r\n\r\nFrom Oracle Docs:\r\n\r\n&gt; It&#39;s not always necessary to assign a value when a field is declared.\r\n&gt; Fields that are declared but not initialized will be set to a\r\n&gt; reasonable default by the compiler. Generally speaking, this default\r\n&gt; will be zero or null, depending on the data type. Relying on such\r\n&gt; default values, however, is generally considered bad programming\r\n&gt; style.\r\n\r\nThe benefits of **initializing the variables** are as following:\r\n\r\n 1. Makes it easier to follow your code\r\n 2. Makes life easier for static analysis tools.\r\n 3. Most of the prevalent design patterns asks you to initialize variable to a default value, so that the programmer knows exactly to which value the variable is initialized.\r\n 4. It is always good practice to initialize variables to prevent undefined behavior later in the program. \r\n 5. Debugging becomes easier if you initialize the variables.\r\n\r\n\r\n","title":"Initialize int to 0 or not?","body":"<p>It is a good coding practice to initialize variables.</p>\n\n<p>From Oracle Docs:</p>\n\n<blockquote>\n  <p>It's not always necessary to assign a value when a field is declared.\n  Fields that are declared but not initialized will be set to a\n  reasonable default by the compiler. Generally speaking, this default\n  will be zero or null, depending on the data type. Relying on such\n  default values, however, is generally considered bad programming\n  style.</p>\n</blockquote>\n\n<p>The benefits of <strong>initializing the variables</strong> are as following:</p>\n\n<ol>\n<li>Makes it easier to follow your code</li>\n<li>Makes life easier for static analysis tools.</li>\n<li>Most of the prevalent design patterns asks you to initialize variable to a default value, so that the programmer knows exactly to which value the variable is initialized.</li>\n<li>It is always good practice to initialize variables to prevent undefined behavior later in the program. </li>\n<li>Debugging becomes easier if you initialize the variables.</li>\n</ol>\n"},{"tags":[],"owner":{"display_name":"user1531971"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461637806,"creation_date":1461637318,"answer_id":36854243,"question_id":36854054,"body_markdown":"Others have pointed out that class properties are initialized to default values for you.\r\n\r\nSo, semantically, there is no difference if you set them explicitly to 0 (or, for object properties, set those to null.)\r\n\r\nHowever, there may in fact be a difference at the bytecode level. There is no guarantee that code that differs only in class properties that are implicitly vs. explicitly set to default values will have exactly the same bytecode.\r\n\r\nOlder versions of the JDK used to generate larger and longer code for explicit initialization, which was easy to check with `javap`. (This fact was occasionally used as the basis for interview questions.) I haven&#39;t checked recent versions of the JDK to see if this is still the case.","title":"Initialize int to 0 or not?","body":"<p>Others have pointed out that class properties are initialized to default values for you.</p>\n\n<p>So, semantically, there is no difference if you set them explicitly to 0 (or, for object properties, set those to null.)</p>\n\n<p>However, there may in fact be a difference at the bytecode level. There is no guarantee that code that differs only in class properties that are implicitly vs. explicitly set to default values will have exactly the same bytecode.</p>\n\n<p>Older versions of the JDK used to generate larger and longer code for explicit initialization, which was easy to check with <code>javap</code>. (This fact was occasionally used as the basis for interview questions.) I haven't checked recent versions of the JDK to see if this is still the case.</p>\n"},{"tags":[],"owner":{"account_id":19041817,"reputation":41,"user_id":14183644,"display_name":"Alexander"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1598637735,"creation_date":1598637735,"answer_id":63638845,"question_id":36854054,"body_markdown":"Local variables must be initialized before use. \r\n```\r\nclass Main {\r\n  public static void main(String[] args) {\r\n    int x;\r\n    System.out.println(x);\r\n  }\r\n}\r\n```\r\nThis code does not compile. However instance variables (or class in case they are ```static```) have default values.","title":"Initialize int to 0 or not?","body":"<p>Local variables must be initialized before use.</p>\n<pre><code>class Main {\n  public static void main(String[] args) {\n    int x;\n    System.out.println(x);\n  }\n}\n</code></pre>\n<p>This code does not compile. However instance variables (or class in case they are <code>static</code>) have default values.</p>\n"}],"owner":{"account_id":7416105,"reputation":6302,"user_id":5641865,"accept_rate":36,"display_name":"Nouvel Travay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57026,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":36854146,"answer_count":5,"score":24,"last_activity_date":1692775440,"creation_date":1461635844,"question_id":36854054,"body_markdown":"In the android source code I see they define four variables as\r\n\r\n    protected int mPaddingRight = 0;\r\n    protected int mPaddingLeft = 0;\r\n    protected int mPaddingTop;\r\n    protected int mPaddingBottom;\r\n\r\nIn Java, what is the difference in initializing a variable to 0 or not? I don’t understand that in some compilers I cannot do a comparison unless I initialize the field. But that is not the case here. Does this have to do with optimization? Or is this just inconsistent/bad coding practice?\r\n","title":"Initialize int to 0 or not?","body":"<p>In the android source code I see they define four variables as</p>\n\n<pre><code>protected int mPaddingRight = 0;\nprotected int mPaddingLeft = 0;\nprotected int mPaddingTop;\nprotected int mPaddingBottom;\n</code></pre>\n\n<p>In Java, what is the difference in initializing a variable to 0 or not? I don’t understand that in some compilers I cannot do a comparison unless I initialize the field. But that is not the case here. Does this have to do with optimization? Or is this just inconsistent/bad coding practice?</p>\n"},{"tags":["java","gradle","osgi","bnd","bndtools"],"owner":{"account_id":32864,"reputation":9277,"user_id":91497,"accept_rate":67,"display_name":"Jmini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692775401,"creation_date":1692775401,"question_id":76959160,"body_markdown":"_I am running tests using [`bnd`][1] (from the Bndtools project) with gradle_\r\n\r\n\r\nI am writing a bundle that should have a runtime dependency when running on macOS to the bundle `org.eclipse.jdt.launching.macosx` available here:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.eclipse.jdt&lt;/groupId&gt;\r\n    &lt;artifactId&gt;org.eclipse.jdt.launching.macosx&lt;/artifactId&gt;\r\n    &lt;version&gt;3.6.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThe problem is that if I add the line to my `test.bndrun` like this:\r\n```\r\n-runrequires: \r\n\tbnd.identity;id=&#39;org.eclipse.jdt.launching.macosx&#39;\r\n\r\n```\r\n\r\nIt works fine on macOS but is failing under linux with:\r\n\r\n```\r\n! org.osgi.framework.FrameworkEvent[source=org.eclipse.jdt.launching.macosx_3.4.400.v20190925-0944 [74]]\r\n! could not resolve the bundles: [org.eclipse.jdt.launching.macosx-3.4.400.v20190925-0944 org.osgi.framework.BundleException: Could not resolve module: org.eclipse.jdt.launching.macosx [74]\r\n  Unresolved requirement: Require-Capability: eclipse.platform; filter:=&quot;(osgi.os=macosx)&quot;\r\n​\r\n]\r\n! Failed to start bundle org.eclipse.jdt.launching.macosx-3.4.400.v20190925-0944, exception Could not resolve module: org.eclipse.jdt.launching.macosx [74]\r\n  Unresolved requirement: Require-Capability: eclipse.platform; filter:=&quot;(osgi.os=macosx)&quot;\r\n​\r\norg.osgi.framework.BundleException: Could not resolve module: org.eclipse.jdt.launching.macosx [74]\r\n  Unresolved requirement: Require-Capability: eclipse.platform; filter:=&quot;(osgi.os=macosx)&quot;\r\n​\r\n        at org.eclipse.osgi.container.Module.start(Module.java:463)\r\n        at org.eclipse.osgi.internal.framework.EquinoxBundle.start(EquinoxBundle.java:445)\r\n        at aQute.launcher.Launcher.start(Launcher.java:686)\r\n        at aQute.launcher.Launcher.startBundles(Launcher.java:666)\r\n        at aQute.launcher.Launcher.activate(Launcher.java:572)\r\n        at aQute.launcher.Launcher.launch(Launcher.java:402)\r\n        at aQute.launcher.Launcher.run(Launcher.java:184)\r\n        at aQute.launcher.Launcher.main(Launcher.java:160)\r\n        at aQute.launcher.pre.EmbeddedLauncher.executeWithRunPath(EmbeddedLauncher.java:170)\r\n        at aQute.launcher.pre.EmbeddedLauncher.findAndExecute(EmbeddedLauncher.java:135)\r\n        at aQute.launcher.pre.EmbeddedLauncher.main(EmbeddedLauncher.java:52)\r\nTEST [74] org.eclipse.jdt.launching.macosx;3.4.400.v20190925-0944 &lt;&lt;&lt; ERROR: Could not resolve module: org.eclipse.jdt.launching.macosx [74]\r\n  Unresolved requirement: Require-Capability: eclipse.platform; filter:=&quot;(osgi.os=macosx)&quot;\r\n​\r\norg.osgi.framework.BundleException: Could not resolve module: org.eclipse.jdt.launching.macosx [74]\r\n  Unresolved requirement: Require-Capability: eclipse.platform; filter:=&quot;(osgi.os=macosx)&quot;\r\n​\r\n        at org.eclipse.osgi.container.Module.start(Module.java:463)\r\n        at org.eclipse.osgi.internal.framework.EquinoxBundle.start(EquinoxBundle.java:445)\r\n        at aQute.tester.bundle.engine.discovery.BundleSelectorResolver.lambda$resolve$14(BundleSelectorResolver.java:234)\r\n        at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n        at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\r\n        at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\r\n        at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\r\n        at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)\r\n        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n        at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n        at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n        at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n        at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\r\n        at aQute.tester.bundle.engine.discovery.BundleSelectorResolver.resolve(BundleSelectorResolver.java:228)\r\n        at aQute.tester.bundle.engine.discovery.BundleSelectorResolver.resolve(BundleSelectorResolver.java:103)\r\n        at aQute.tester.bundle.engine.BundleEngine.discover(BundleEngine.java:63)\r\n        at org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discoverEngineRoot(EngineDiscoveryOrchestrator.java:103)\r\n        at org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discover(EngineDiscoveryOrchestrator.java:85)\r\n        at org.junit.platform.launcher.core.DefaultLauncher.discover(DefaultLauncher.java:92)\r\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n        at aQute.tester.junit.platform.Activator.test(Activator.java:439)\r\n        at aQute.tester.junit.platform.Activator.automatic(Activator.java:344)\r\n        at aQute.tester.junit.platform.Activator.run(Activator.java:216)\r\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n        at aQute.launcher.Launcher.launch(Launcher.java:450)\r\n        at aQute.launcher.Launcher.run(Launcher.java:184)\r\n        at aQute.launcher.Launcher.main(Launcher.java:160)\r\n        at aQute.launcher.pre.EmbeddedLauncher.executeWithRunPath(EmbeddedLauncher.java:170)\r\n        at aQute.launcher.pre.EmbeddedLauncher.findAndExecute(EmbeddedLauncher.java:135)\r\n        at aQute.launcher.pre.EmbeddedLauncher.main(EmbeddedLauncher.java:52)\r\n```\r\n\r\nSo how should I express the fact that a dependency is depending on the OS?\r\n\r\n  [1]: https://bnd.bndtools.org/","title":"Multi platform &quot;test.bndrun&quot; file: define a required bundle (`-runrequires`) specifically for macOS","body":"<p><em>I am running tests using <a href=\"https://bnd.bndtools.org/\" rel=\"nofollow noreferrer\"><code>bnd</code></a> (from the Bndtools project) with gradle</em></p>\n<p>I am writing a bundle that should have a runtime dependency when running on macOS to the bundle <code>org.eclipse.jdt.launching.macosx</code> available here:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.eclipse.jdt&lt;/groupId&gt;\n    &lt;artifactId&gt;org.eclipse.jdt.launching.macosx&lt;/artifactId&gt;\n    &lt;version&gt;3.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The problem is that if I add the line to my <code>test.bndrun</code> like this:</p>\n<pre><code>-runrequires: \n    bnd.identity;id='org.eclipse.jdt.launching.macosx'\n\n</code></pre>\n<p>It works fine on macOS but is failing under linux with:</p>\n<pre><code>! org.osgi.framework.FrameworkEvent[source=org.eclipse.jdt.launching.macosx_3.4.400.v20190925-0944 [74]]\n! could not resolve the bundles: [org.eclipse.jdt.launching.macosx-3.4.400.v20190925-0944 org.osgi.framework.BundleException: Could not resolve module: org.eclipse.jdt.launching.macosx [74]\n  Unresolved requirement: Require-Capability: eclipse.platform; filter:=&quot;(osgi.os=macosx)&quot;\n​\n]\n! Failed to start bundle org.eclipse.jdt.launching.macosx-3.4.400.v20190925-0944, exception Could not resolve module: org.eclipse.jdt.launching.macosx [74]\n  Unresolved requirement: Require-Capability: eclipse.platform; filter:=&quot;(osgi.os=macosx)&quot;\n​\norg.osgi.framework.BundleException: Could not resolve module: org.eclipse.jdt.launching.macosx [74]\n  Unresolved requirement: Require-Capability: eclipse.platform; filter:=&quot;(osgi.os=macosx)&quot;\n​\n        at org.eclipse.osgi.container.Module.start(Module.java:463)\n        at org.eclipse.osgi.internal.framework.EquinoxBundle.start(EquinoxBundle.java:445)\n        at aQute.launcher.Launcher.start(Launcher.java:686)\n        at aQute.launcher.Launcher.startBundles(Launcher.java:666)\n        at aQute.launcher.Launcher.activate(Launcher.java:572)\n        at aQute.launcher.Launcher.launch(Launcher.java:402)\n        at aQute.launcher.Launcher.run(Launcher.java:184)\n        at aQute.launcher.Launcher.main(Launcher.java:160)\n        at aQute.launcher.pre.EmbeddedLauncher.executeWithRunPath(EmbeddedLauncher.java:170)\n        at aQute.launcher.pre.EmbeddedLauncher.findAndExecute(EmbeddedLauncher.java:135)\n        at aQute.launcher.pre.EmbeddedLauncher.main(EmbeddedLauncher.java:52)\nTEST [74] org.eclipse.jdt.launching.macosx;3.4.400.v20190925-0944 &lt;&lt;&lt; ERROR: Could not resolve module: org.eclipse.jdt.launching.macosx [74]\n  Unresolved requirement: Require-Capability: eclipse.platform; filter:=&quot;(osgi.os=macosx)&quot;\n​\norg.osgi.framework.BundleException: Could not resolve module: org.eclipse.jdt.launching.macosx [74]\n  Unresolved requirement: Require-Capability: eclipse.platform; filter:=&quot;(osgi.os=macosx)&quot;\n​\n        at org.eclipse.osgi.container.Module.start(Module.java:463)\n        at org.eclipse.osgi.internal.framework.EquinoxBundle.start(EquinoxBundle.java:445)\n        at aQute.tester.bundle.engine.discovery.BundleSelectorResolver.lambda$resolve$14(BundleSelectorResolver.java:234)\n        at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\n        at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\n        at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\n        at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\n        at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)\n        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n        at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n        at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\n        at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n        at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\n        at aQute.tester.bundle.engine.discovery.BundleSelectorResolver.resolve(BundleSelectorResolver.java:228)\n        at aQute.tester.bundle.engine.discovery.BundleSelectorResolver.resolve(BundleSelectorResolver.java:103)\n        at aQute.tester.bundle.engine.BundleEngine.discover(BundleEngine.java:63)\n        at org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discoverEngineRoot(EngineDiscoveryOrchestrator.java:103)\n        at org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discover(EngineDiscoveryOrchestrator.java:85)\n        at org.junit.platform.launcher.core.DefaultLauncher.discover(DefaultLauncher.java:92)\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\n        at aQute.tester.junit.platform.Activator.test(Activator.java:439)\n        at aQute.tester.junit.platform.Activator.automatic(Activator.java:344)\n        at aQute.tester.junit.platform.Activator.run(Activator.java:216)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n        at aQute.launcher.Launcher.launch(Launcher.java:450)\n        at aQute.launcher.Launcher.run(Launcher.java:184)\n        at aQute.launcher.Launcher.main(Launcher.java:160)\n        at aQute.launcher.pre.EmbeddedLauncher.executeWithRunPath(EmbeddedLauncher.java:170)\n        at aQute.launcher.pre.EmbeddedLauncher.findAndExecute(EmbeddedLauncher.java:135)\n        at aQute.launcher.pre.EmbeddedLauncher.main(EmbeddedLauncher.java:52)\n</code></pre>\n<p>So how should I express the fact that a dependency is depending on the OS?</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":1,"creation_date":1547364731,"post_id":54166864,"comment_id":95163253,"body_markdown":"You need to show us the relevant code which generated this error.  Just posting a stacktrace is usually not enough information.","body":"You need to show us the relevant code which generated this error.  Just posting a stacktrace is usually not enough information."},{"owner":{"account_id":1849834,"reputation":1,"user_id":1713568,"display_name":"J1743"},"score":0,"creation_date":1547366789,"post_id":54166864,"comment_id":95163539,"body_markdown":"Hi Tim please see relevant code","body":"Hi Tim please see relevant code"},{"owner":{"account_id":4246842,"reputation":1327,"user_id":3475249,"display_name":"drkunibar"},"score":0,"creation_date":1547374181,"post_id":54166864,"comment_id":95164830,"body_markdown":"The Exception occurs in the MySQL Driver. Try to change the driver (update?) and disable the connection pool to isolate the source of the exception","body":"The Exception occurs in the MySQL Driver. Try to change the driver (update?) and disable the connection pool to isolate the source of the exception"},{"owner":{"account_id":1849834,"reputation":1,"user_id":1713568,"display_name":"J1743"},"score":0,"creation_date":1547385407,"post_id":54166864,"comment_id":95167290,"body_markdown":"Hi drkunibar i already using the latest my sql connecter, after removing the pooling connection i encounter the same thing","body":"Hi drkunibar i already using the latest my sql connecter, after removing the pooling connection i encounter the same thing"},{"owner":{"account_id":1849834,"reputation":1,"user_id":1713568,"display_name":"J1743"},"score":0,"creation_date":1547978165,"post_id":54166864,"comment_id":95372721,"body_markdown":"Hi Thank you for all your help. This issue is resolve now, its my wrong doing i forgot to remove this line -Djavax.net.debug=all in production server.  :)","body":"Hi Thank you for all your help. This issue is resolve now, its my wrong doing i forgot to remove this line -Djavax.net.debug=all in production server.  :)"}],"answers":[{"tags":[],"owner":{"account_id":10755509,"reputation":362,"user_id":7913588,"display_name":"Chameera W. Ashan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559501065,"creation_date":1559501065,"answer_id":56417933,"question_id":54166864,"body_markdown":"I have got the same error with java.sql.SQLException: Too many tables; MySQL can only use 61 tables in a join\r\n\r\nThis occurs because of relating too many tables\r\nIf you are not use fetch type It may occur because of relations\r\n\r\neg- In my case I have over 150 tables \r\nBook_Selling, Refund and etc.\r\nI create one table to connect all table regarding payment in that case If I get data from payment table it connect all other tables and as well as their related table so the count of this all tables exceeded 61 tables.\r\nIn mysql default you can create only join query using 61 tables at a time\r\n\r\nUse fetch type as lazy then it will solve your problem.\r\n","title":"org.hibernate.exception.GenericJDBCException: could not extract ResultSet","body":"<p>I have got the same error with java.sql.SQLException: Too many tables; MySQL can only use 61 tables in a join</p>\n\n<p>This occurs because of relating too many tables\nIf you are not use fetch type It may occur because of relations</p>\n\n<p>eg- In my case I have over 150 tables \nBook_Selling, Refund and etc.\nI create one table to connect all table regarding payment in that case If I get data from payment table it connect all other tables and as well as their related table so the count of this all tables exceeded 61 tables.\nIn mysql default you can create only join query using 61 tables at a time</p>\n\n<p>Use fetch type as lazy then it will solve your problem.</p>\n"},{"tags":[],"owner":{"account_id":24224809,"reputation":363,"user_id":18179479,"display_name":"Mircea Sirghi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692775256,"creation_date":1692771602,"answer_id":76958766,"question_id":54166864,"body_markdown":"The connection seems to be interrupting from DB server. Do you have a timeout setting on connections in your DB ?\r\n\r\nCheck the following values on your server: \r\n```\r\nSHOW VARIABLES LIKE &#39;wait_timeout&#39;;\r\nSHOW VARIABLES LIKE &#39;interactive_timeout&#39;;\r\n```\r\nThen compare them with the time of your transaction. Change accordingly.\r\n","title":"org.hibernate.exception.GenericJDBCException: could not extract ResultSet","body":"<p>The connection seems to be interrupting from DB server. Do you have a timeout setting on connections in your DB ?</p>\n<p>Check the following values on your server:</p>\n<pre><code>SHOW VARIABLES LIKE 'wait_timeout';\nSHOW VARIABLES LIKE 'interactive_timeout';\n</code></pre>\n<p>Then compare them with the time of your transaction. Change accordingly.</p>\n"}],"owner":{"account_id":1849834,"reputation":1,"user_id":1713568,"display_name":"J1743"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692775256,"creation_date":1547364030,"question_id":54166864,"body_markdown":"Hi Can you help me what&#39;s going on with this issue. I have this application connected in MySQL DB, every time am running this job to fetch data from the DB i always get this exception see full stack trace added java class, DAO and method and apache DBCP2 config.\r\n\r\n    POJO class\r\n    \r\n    @Entity\r\n    public class ILCShiftEntries implements Serializable {\r\n        \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private int id;\r\n        \r\n        @Column\r\n        private int month;\r\n        \r\n        @Column\r\n        private int year;\r\n        \r\n        @Column\r\n        private int date;\r\n        \r\n        @Column\r\n        private String groupId;\r\n        \r\n        @Column\r\n        private String countryCode;\r\n        \r\n        \r\n        @Column\r\n        private String employeeSerialNumber;\r\n        \r\n        @Column\r\n        private String employeeLastName;\r\n        \r\n        @Column\r\n        private String employeeDeptNumber;\r\n        \r\n        @Column\r\n        private String accountId;\r\n        \r\n        @Column\r\n        private String workItemId;\r\n        \r\n        @Column\r\n        private String workItemDesc;\r\n        \r\n        @Column\r\n        private String activityCode;\r\n        \r\n        @Column\r\n        private String activityDesc;\r\n        \r\n        @Column \r\n        private String billingCode;\r\n        \r\n        @Column\r\n        private String weekEndingDate;\r\n        \r\n        @Column\r\n        private String overtimeInd;\r\n        \r\n        @Column\r\n        private String satHoursExpended;\r\n        \r\n        @Column\r\n        private String sunHoursExpended;\r\n        \r\n        @Column\r\n        private String monHoursExpended;\r\n        \r\n        @Column\r\n        private String tuesdayHoursExpended;\r\n        \r\n        @Column\r\n        private String wedHoursExpended;\r\n        \r\n        @Column\r\n        private String thuHoursExpended;\r\n        \r\n        @Column\r\n        private String friHoursExpended;\r\n        \r\n        \r\n        @Column\r\n        private String totalHoursExpended;\r\n        \r\n        @Column\r\n        private String createdTimeStamp;\r\n        \r\n        @Column\r\n        private String sumiterSerialNumber;\r\n        \r\n        @Column\r\n        private String lbrRptInd;\r\n        \r\n        @Column\r\n        private String employeeEffectiveDate;\r\n        \r\n        @Column\r\n        private String labStatus;\r\n        \r\n        @Transient\r\n        private String serialNumber;\r\n        \r\n        @Transient\r\n        private String workDayManager;\r\n        \r\n        @Transient\r\n        private String workDayManagerSerialNumber;\r\n        \r\n        @Column\r\n        private String sourceApplicationId;\r\n        \r\n        @Column\r\n        private String siteLocation;\r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public int getMonth() {\r\n            return month;\r\n        }\r\n    \r\n        public void setMonth(int month) {\r\n            this.month = month;\r\n        }\r\n    \r\n        public int getYear() {\r\n            return year;\r\n        }\r\n    \r\n        public void setYear(int year) {\r\n            this.year = year;\r\n        }\r\n    \r\n        public int getDate() {\r\n            return date;\r\n        }\r\n    \r\n        public void setDate(int date) {\r\n            this.date = date;\r\n        }\r\n    \r\n        public String getGroupId() {\r\n            return groupId;\r\n        }\r\n    \r\n        public void setGroupId(String groupId) {\r\n            this.groupId = groupId;\r\n        }\r\n    \r\n        public String getCountryCode() {\r\n            return countryCode;\r\n        }\r\n    \r\n        public void setCountryCode(String countryCode) {\r\n            this.countryCode = countryCode;\r\n        }\r\n    \r\n        public String getEmployeeSerialNumber() {\r\n            return employeeSerialNumber;\r\n        }\r\n    \r\n        public void setEmployeeSerialNumber(String employeeSerialNumber) {\r\n            this.employeeSerialNumber = employeeSerialNumber;\r\n        }\r\n    \r\n        public String getEmployeeLastName() {\r\n            return employeeLastName;\r\n        }\r\n    \r\n        public void setEmployeeLastName(String employeeLastName) {\r\n            this.employeeLastName = employeeLastName;\r\n        }\r\n    \r\n        public String getEmployeeDeptNumber() {\r\n            return employeeDeptNumber;\r\n        }\r\n    \r\n        public void setEmployeeDeptNumber(String employeeDeptNumber) {\r\n            this.employeeDeptNumber = employeeDeptNumber;\r\n        }\r\n    \r\n        public String getAccountId() {\r\n            return accountId;\r\n        }\r\n    \r\n        public void setAccountId(String accountId) {\r\n            this.accountId = accountId;\r\n        }\r\n    \r\n        public String getWorkItemId() {\r\n            return workItemId;\r\n        }\r\n    \r\n        public void setWorkItemId(String workItemId) {\r\n            this.workItemId = workItemId;\r\n        }\r\n    \r\n        public String getWorkItemDesc() {\r\n            return workItemDesc;\r\n        }\r\n    \r\n        public void setWorkItemDesc(String workItemDesc) {\r\n            this.workItemDesc = workItemDesc;\r\n        }\r\n    \r\n        public String getActivityCode() {\r\n            return activityCode;\r\n        }\r\n    \r\n        public void setActivityCode(String activityCode) {\r\n            this.activityCode = activityCode;\r\n        }\r\n    \r\n        public String getActivityDesc() {\r\n            return activityDesc;\r\n        }\r\n    \r\n        public void setActivityDesc(String activityDesc) {\r\n            this.activityDesc = activityDesc;\r\n        }\r\n    \r\n        public String getBillingCode() {\r\n            return billingCode;\r\n        }\r\n    \r\n        public void setBillingCode(String billingCode) {\r\n            this.billingCode = billingCode;\r\n        }\r\n    \r\n        public String getWeekEndingDate() {\r\n            return weekEndingDate;\r\n        }\r\n    \r\n        public void setWeekEndingDate(String weekEndingDate) {\r\n            this.weekEndingDate = weekEndingDate;\r\n        }\r\n    \r\n        public String getOvertimeInd() {\r\n            return overtimeInd;\r\n        }\r\n    \r\n        public void setOvertimeInd(String overtimeInd) {\r\n            this.overtimeInd = overtimeInd;\r\n        }\r\n    \r\n        public String getSatHoursExpended() {\r\n            if( NumberUtil.toDouble( satHoursExpended ) &gt; 0 ){\r\n                return satHoursExpended;\r\n            }\r\n            return &quot;0&quot;;\r\n        }\r\n    \r\n        public void setSatHoursExpended(String satHoursExpended) {\r\n            this.satHoursExpended = satHoursExpended;\r\n        }\r\n    \r\n        public String getSunHoursExpended() {\r\n            if( NumberUtil.toDouble( sunHoursExpended ) &gt; 0 ){\r\n                return sunHoursExpended;\r\n            }\r\n            return &quot;0&quot;;\r\n        }\r\n    \r\n        public void setSunHoursExpended(String sunHoursExpended) {\r\n            this.sunHoursExpended = sunHoursExpended;\r\n        }\r\n    \r\n        public String getMonHoursExpended() {\r\n            if( NumberUtil.toDouble( monHoursExpended ) &gt; 0 ){\r\n                return monHoursExpended;\r\n            }\r\n            return &quot;0&quot;;\r\n        }\r\n    \r\n        public void setMonHoursExpended(String monHoursExpended) {\r\n            this.monHoursExpended = monHoursExpended;\r\n        }\r\n    \r\n        public String getTuesdayHoursExpended() {\r\n            if( NumberUtil.toDouble( tuesdayHoursExpended ) &gt; 0 ){\r\n                return tuesdayHoursExpended;\r\n            }\r\n            return &quot;0&quot;;\r\n        }\r\n    \r\n        public void setTuesdayHoursExpended(String tuesdayHoursExpended) {\r\n            this.tuesdayHoursExpended = tuesdayHoursExpended;\r\n        }\r\n    \r\n        public String getWedHoursExpended() {\r\n            if( NumberUtil.toDouble( wedHoursExpended ) &gt; 0 ){\r\n                return wedHoursExpended;\r\n            }\r\n            return &quot;0&quot;;\r\n        }\r\n    \r\n        public void setWedHoursExpended(String wedHoursExpended) {\r\n            this.wedHoursExpended = wedHoursExpended;\r\n        }\r\n    \r\n        public String getThuHoursExpended() {\r\n            if( NumberUtil.toDouble( thuHoursExpended ) &gt; 0 ){\r\n                return thuHoursExpended;\r\n            }\r\n            return &quot;0&quot;;\r\n        }\r\n    \r\n        public void setThuHoursExpended(String thuHoursExpended) {\r\n            this.thuHoursExpended = thuHoursExpended;\r\n        }\r\n    \r\n        public String getFriHoursExpended() {\r\n            if( NumberUtil.toDouble( friHoursExpended ) &gt; 0 ){\r\n                return friHoursExpended;\r\n            }\r\n            return &quot;0&quot;;\r\n        }\r\n    \r\n        public void setFriHoursExpended(String friHoursExpended) {\r\n            this.friHoursExpended = friHoursExpended;\r\n        }\r\n    \r\n        public String getTotalHoursExpended() {\r\n            return totalHoursExpended;\r\n        }\r\n    \r\n        public void setTotalHoursExpended(String totalHoursExpended) {\r\n            this.totalHoursExpended = totalHoursExpended;\r\n        }\r\n    \r\n        public String getCreatedTimeStamp() {\r\n            return createdTimeStamp;\r\n        }\r\n    \r\n        public void setCreatedTimeStamp(String createdTimeStamp) {\r\n            this.createdTimeStamp = createdTimeStamp;\r\n        }\r\n    \r\n        public String getSumiterSerialNumber() {\r\n            return sumiterSerialNumber;\r\n        }\r\n    \r\n        public void setSumiterSerialNumber(String sumiterSerialNumber) {\r\n            this.sumiterSerialNumber = sumiterSerialNumber;\r\n        }\r\n    \r\n        public String getLbrRptInd() {\r\n            return lbrRptInd;\r\n        }\r\n    \r\n        public void setLbrRptInd(String lbrRptInd) {\r\n            this.lbrRptInd = lbrRptInd;\r\n        }\r\n    \r\n        public String getEmployeeEffectiveDate() {\r\n            return employeeEffectiveDate;\r\n        }\r\n    \r\n        public void setEmployeeEffectiveDate(String employeeEffectiveDate) {\r\n            this.employeeEffectiveDate = employeeEffectiveDate;\r\n        }\r\n    \r\n        public String getLabStatus() {\r\n            return labStatus;\r\n        }\r\n    \r\n        public void setLabStatus(String labStatus) {\r\n            this.labStatus = labStatus;\r\n        }\r\n    \r\n        public String getSerialNumber() {\r\n            return serialNumber;\r\n        }\r\n    \r\n        public void setSerialNumber(String serialNumber) {\r\n            this.serialNumber = serialNumber;\r\n        }\r\n    \r\n        public String getWorkDayManager() {\r\n            return workDayManager;\r\n        }\r\n    \r\n        public void setWorkDayManager(String workDayManager) {\r\n            this.workDayManager = workDayManager;\r\n        }\r\n    \r\n        public String getWorkDayManagerSerialNumber() {\r\n            return workDayManagerSerialNumber;\r\n        }\r\n    \r\n        public void setWorkDayManagerSerialNumber(String workDayManagerSerialNumber) {\r\n            this.workDayManagerSerialNumber = workDayManagerSerialNumber;\r\n        }\r\n    \r\n        public String getSourceApplicationId() {\r\n            return sourceApplicationId;\r\n        }\r\n    \r\n        public void setSourceApplicationId(String sourceApplicationId) {\r\n            this.sourceApplicationId = sourceApplicationId;\r\n        }\r\n    \r\n        public String getSiteLocation() {\r\n            return siteLocation;\r\n        }\r\n    \r\n        public void setSiteLocation(String siteLocation) {\r\n            this.siteLocation = siteLocation;\r\n        }\r\n    }\r\n    \r\n    \r\n    Dao Class\r\n    \r\n    \r\n    public class ILCShiftEntriesDaoImpl implements ILCShiftEntriesDao{\r\n    \r\n       \r\n    \r\n        @Override\r\n        public List&lt; ILCShiftEntries &gt; getListOfILCShiftEntriesWithLimitAndOffSet( StatelessSession statelessSession, int limitNumber, int offsetNumber ) {\r\n            List&lt;ILCShiftEntries &gt; listOfILCShiftEntries = null;\r\n            Query query = statelessSession.createQuery(&quot;from ILCShiftEntries order by id desc&quot;);\r\n            query.setFirstResult( offsetNumber );\r\n            query.setMaxResults( limitNumber );\r\n            List list = query.getResultList();\r\n            if( Utilities.isListNotEmpty( list ) ){\r\n                 listOfILCShiftEntries = ( List&lt;ILCShiftEntries &gt; )list;\r\n            }\r\n            return listOfILCShiftEntries;\r\n        }\r\n        \r\n    }\r\n    \r\n    apache DBCP2 config\r\n    \r\n    \r\n        database.dbcp.maxTotal=-1\r\n        database.dbcp.maxIdle=8\r\n        database.dbcp.minIdle=0\r\n        database.dbcp.initialSize=20\r\n        database.dbcp.maxWaitMillis=23904\r\n        database.dbcp.testWhileIdle=true\r\n        database.dbcp.maxOpenPreparedStatements=-1\r\n        database.dbcp.validationQuery=SELECT 1\r\n        database.dbcp.softMinEvictableIdleTimeMillis=300000\r\n        database.dbcp.timeBetweenEvictionRunsMillis=300000\r\n\r\n23:35:46.799 [DefaultQuartzScheduler_Worker-1] ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper - Can not read response from server. Expected to read 183 bytes, read 75 bytes before connection was unexpectedly lost.\r\njavax.persistence.PersistenceException: org.hibernate.exception.GenericJDBCException: could not extract ResultSet\r\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:149)\r\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:157)\r\n        at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1423)\r\n        at org.hibernate.query.Query.getResultList(Query.java:146)\r\n        at daos.ILCShiftEntriesDaoImpl.getListOfILCShiftEntriesWithLimitAndOffSet(ILCShiftEntriesDaoImpl.java:275)\r\n        at jobs.VarianceReportJobs.doILCWorkdayDBSync(VarianceReportJobs.java:400)\r\n        at jobs.VarianceReportJobs.execute(VarianceReportJobs.java:205)\r\n        at org.quartz.core.JobRunShell.run(JobRunShell.java:202)\r\n        at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:573)\r\nCaused by: org.hibernate.exception.GenericJDBCException: could not extract ResultSet\r\n        at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:47)\r\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111)\r\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97)\r\n        at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:69)\r\n        at org.hibernate.loader.Loader.getResultSet(Loader.java:2168)\r\n        at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1931)\r\n        at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1893)\r\n        at org.hibernate.loader.Loader.doQuery(Loader.java:938)\r\n        at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:341)\r\n        at org.hibernate.loader.Loader.doList(Loader.java:2692)\r\n        at org.hibernate.loader.Loader.doList(Loader.java:2675)\r\n        at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2507)\r\n        at org.hibernate.loader.Loader.list(Loader.java:2502)\r\n        at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:502)\r\n        at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:392)\r\n        at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:216)\r\n        at org.hibernate.internal.StatelessSessionImpl.list(StatelessSessionImpl.java:464)\r\n        at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1445)\r\n        at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1414)\r\n        ... 6 more\r\nCaused by: java.sql.SQLException: Can not read response from server. Expected to read 183 bytes, read 75 bytes before connection was unexpectedly lost.\r\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)\r\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)\r\n        at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:974)\r\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:1024)\r\n        at org.apache.commons.dbcp2.DelegatingPreparedStatement.executeQuery(DelegatingPreparedStatement.java:122)\r\n        at org.apache.commons.dbcp2.DelegatingPreparedStatement.executeQuery(DelegatingPreparedStatement.java:122)\r\n        at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:60)\r\n        ... 21 more\r\njavax.persistence.PersistenceException: org.hibernate.exception.GenericJDBCException: could not extract ResultSet\r\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:149)\r\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:157)\r\n        at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1423)\r\n        at org.hibernate.query.Query.getResultList(Query.java:146)\r\n        at daos.ILCShiftEntriesDaoImpl.getListOfILCShiftEntriesWithLimitAndOffSet(ILCShiftEntriesDaoImpl.java:275)\r\n        at jobs.VarianceReportJobs.doILCWorkdayDBSync(VarianceReportJobs.java:400)\r\n        at jobs.VarianceReportJobs.execute(VarianceReportJobs.java:205)\r\n        at org.quartz.core.JobRunShell.run(JobRunShell.java:202)\r\n        at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:573)\r\nCaused by: org.hibernate.exception.GenericJDBCException: could not extract ResultSet\r\n        at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:47)\r\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111)\r\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97)\r\n        at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:69)\r\n        at org.hibernate.loader.Loader.getResultSet(Loader.java:2168)\r\n        at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1931)\r\n        at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1893)\r\n        at org.hibernate.loader.Loader.doQuery(Loader.java:938)\r\n        at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:341)\r\n        at org.hibernate.loader.Loader.doList(Loader.java:2692)\r\n        at org.hibernate.loader.Loader.doList(Loader.java:2675)\r\n        at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2507)\r\n        at org.hibernate.loader.Loader.list(Loader.java:2502)\r\n        at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:502)\r\n        at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:392)\r\n        at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:216)\r\n        at org.hibernate.internal.StatelessSessionImpl.list(StatelessSessionImpl.java:464)\r\n        at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1445)\r\n        at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1414)\r\n        ... 6 more\r\nCaused by: java.sql.SQLException: Can not read response from server. Expected to read 183 bytes, read 75 bytes before connection was unexpectedly lost.\r\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)\r\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)\r\n        at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:974)\r\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:1024)\r\n        at org.apache.commons.dbcp2.DelegatingPreparedStatement.executeQuery(DelegatingPreparedStatement.java:122)\r\n        at org.apache.commons.dbcp2.DelegatingPreparedStatement.executeQuery(DelegatingPreparedStatement.java:122)\r\n        at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:60)\r\n        ... 21 more\r\n","title":"org.hibernate.exception.GenericJDBCException: could not extract ResultSet","body":"<p>Hi Can you help me what's going on with this issue. I have this application connected in MySQL DB, every time am running this job to fetch data from the DB i always get this exception see full stack trace added java class, DAO and method and apache DBCP2 config.</p>\n\n<pre><code>POJO class\n\n@Entity\npublic class ILCShiftEntries implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int id;\n\n    @Column\n    private int month;\n\n    @Column\n    private int year;\n\n    @Column\n    private int date;\n\n    @Column\n    private String groupId;\n\n    @Column\n    private String countryCode;\n\n\n    @Column\n    private String employeeSerialNumber;\n\n    @Column\n    private String employeeLastName;\n\n    @Column\n    private String employeeDeptNumber;\n\n    @Column\n    private String accountId;\n\n    @Column\n    private String workItemId;\n\n    @Column\n    private String workItemDesc;\n\n    @Column\n    private String activityCode;\n\n    @Column\n    private String activityDesc;\n\n    @Column \n    private String billingCode;\n\n    @Column\n    private String weekEndingDate;\n\n    @Column\n    private String overtimeInd;\n\n    @Column\n    private String satHoursExpended;\n\n    @Column\n    private String sunHoursExpended;\n\n    @Column\n    private String monHoursExpended;\n\n    @Column\n    private String tuesdayHoursExpended;\n\n    @Column\n    private String wedHoursExpended;\n\n    @Column\n    private String thuHoursExpended;\n\n    @Column\n    private String friHoursExpended;\n\n\n    @Column\n    private String totalHoursExpended;\n\n    @Column\n    private String createdTimeStamp;\n\n    @Column\n    private String sumiterSerialNumber;\n\n    @Column\n    private String lbrRptInd;\n\n    @Column\n    private String employeeEffectiveDate;\n\n    @Column\n    private String labStatus;\n\n    @Transient\n    private String serialNumber;\n\n    @Transient\n    private String workDayManager;\n\n    @Transient\n    private String workDayManagerSerialNumber;\n\n    @Column\n    private String sourceApplicationId;\n\n    @Column\n    private String siteLocation;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public int getMonth() {\n        return month;\n    }\n\n    public void setMonth(int month) {\n        this.month = month;\n    }\n\n    public int getYear() {\n        return year;\n    }\n\n    public void setYear(int year) {\n        this.year = year;\n    }\n\n    public int getDate() {\n        return date;\n    }\n\n    public void setDate(int date) {\n        this.date = date;\n    }\n\n    public String getGroupId() {\n        return groupId;\n    }\n\n    public void setGroupId(String groupId) {\n        this.groupId = groupId;\n    }\n\n    public String getCountryCode() {\n        return countryCode;\n    }\n\n    public void setCountryCode(String countryCode) {\n        this.countryCode = countryCode;\n    }\n\n    public String getEmployeeSerialNumber() {\n        return employeeSerialNumber;\n    }\n\n    public void setEmployeeSerialNumber(String employeeSerialNumber) {\n        this.employeeSerialNumber = employeeSerialNumber;\n    }\n\n    public String getEmployeeLastName() {\n        return employeeLastName;\n    }\n\n    public void setEmployeeLastName(String employeeLastName) {\n        this.employeeLastName = employeeLastName;\n    }\n\n    public String getEmployeeDeptNumber() {\n        return employeeDeptNumber;\n    }\n\n    public void setEmployeeDeptNumber(String employeeDeptNumber) {\n        this.employeeDeptNumber = employeeDeptNumber;\n    }\n\n    public String getAccountId() {\n        return accountId;\n    }\n\n    public void setAccountId(String accountId) {\n        this.accountId = accountId;\n    }\n\n    public String getWorkItemId() {\n        return workItemId;\n    }\n\n    public void setWorkItemId(String workItemId) {\n        this.workItemId = workItemId;\n    }\n\n    public String getWorkItemDesc() {\n        return workItemDesc;\n    }\n\n    public void setWorkItemDesc(String workItemDesc) {\n        this.workItemDesc = workItemDesc;\n    }\n\n    public String getActivityCode() {\n        return activityCode;\n    }\n\n    public void setActivityCode(String activityCode) {\n        this.activityCode = activityCode;\n    }\n\n    public String getActivityDesc() {\n        return activityDesc;\n    }\n\n    public void setActivityDesc(String activityDesc) {\n        this.activityDesc = activityDesc;\n    }\n\n    public String getBillingCode() {\n        return billingCode;\n    }\n\n    public void setBillingCode(String billingCode) {\n        this.billingCode = billingCode;\n    }\n\n    public String getWeekEndingDate() {\n        return weekEndingDate;\n    }\n\n    public void setWeekEndingDate(String weekEndingDate) {\n        this.weekEndingDate = weekEndingDate;\n    }\n\n    public String getOvertimeInd() {\n        return overtimeInd;\n    }\n\n    public void setOvertimeInd(String overtimeInd) {\n        this.overtimeInd = overtimeInd;\n    }\n\n    public String getSatHoursExpended() {\n        if( NumberUtil.toDouble( satHoursExpended ) &gt; 0 ){\n            return satHoursExpended;\n        }\n        return \"0\";\n    }\n\n    public void setSatHoursExpended(String satHoursExpended) {\n        this.satHoursExpended = satHoursExpended;\n    }\n\n    public String getSunHoursExpended() {\n        if( NumberUtil.toDouble( sunHoursExpended ) &gt; 0 ){\n            return sunHoursExpended;\n        }\n        return \"0\";\n    }\n\n    public void setSunHoursExpended(String sunHoursExpended) {\n        this.sunHoursExpended = sunHoursExpended;\n    }\n\n    public String getMonHoursExpended() {\n        if( NumberUtil.toDouble( monHoursExpended ) &gt; 0 ){\n            return monHoursExpended;\n        }\n        return \"0\";\n    }\n\n    public void setMonHoursExpended(String monHoursExpended) {\n        this.monHoursExpended = monHoursExpended;\n    }\n\n    public String getTuesdayHoursExpended() {\n        if( NumberUtil.toDouble( tuesdayHoursExpended ) &gt; 0 ){\n            return tuesdayHoursExpended;\n        }\n        return \"0\";\n    }\n\n    public void setTuesdayHoursExpended(String tuesdayHoursExpended) {\n        this.tuesdayHoursExpended = tuesdayHoursExpended;\n    }\n\n    public String getWedHoursExpended() {\n        if( NumberUtil.toDouble( wedHoursExpended ) &gt; 0 ){\n            return wedHoursExpended;\n        }\n        return \"0\";\n    }\n\n    public void setWedHoursExpended(String wedHoursExpended) {\n        this.wedHoursExpended = wedHoursExpended;\n    }\n\n    public String getThuHoursExpended() {\n        if( NumberUtil.toDouble( thuHoursExpended ) &gt; 0 ){\n            return thuHoursExpended;\n        }\n        return \"0\";\n    }\n\n    public void setThuHoursExpended(String thuHoursExpended) {\n        this.thuHoursExpended = thuHoursExpended;\n    }\n\n    public String getFriHoursExpended() {\n        if( NumberUtil.toDouble( friHoursExpended ) &gt; 0 ){\n            return friHoursExpended;\n        }\n        return \"0\";\n    }\n\n    public void setFriHoursExpended(String friHoursExpended) {\n        this.friHoursExpended = friHoursExpended;\n    }\n\n    public String getTotalHoursExpended() {\n        return totalHoursExpended;\n    }\n\n    public void setTotalHoursExpended(String totalHoursExpended) {\n        this.totalHoursExpended = totalHoursExpended;\n    }\n\n    public String getCreatedTimeStamp() {\n        return createdTimeStamp;\n    }\n\n    public void setCreatedTimeStamp(String createdTimeStamp) {\n        this.createdTimeStamp = createdTimeStamp;\n    }\n\n    public String getSumiterSerialNumber() {\n        return sumiterSerialNumber;\n    }\n\n    public void setSumiterSerialNumber(String sumiterSerialNumber) {\n        this.sumiterSerialNumber = sumiterSerialNumber;\n    }\n\n    public String getLbrRptInd() {\n        return lbrRptInd;\n    }\n\n    public void setLbrRptInd(String lbrRptInd) {\n        this.lbrRptInd = lbrRptInd;\n    }\n\n    public String getEmployeeEffectiveDate() {\n        return employeeEffectiveDate;\n    }\n\n    public void setEmployeeEffectiveDate(String employeeEffectiveDate) {\n        this.employeeEffectiveDate = employeeEffectiveDate;\n    }\n\n    public String getLabStatus() {\n        return labStatus;\n    }\n\n    public void setLabStatus(String labStatus) {\n        this.labStatus = labStatus;\n    }\n\n    public String getSerialNumber() {\n        return serialNumber;\n    }\n\n    public void setSerialNumber(String serialNumber) {\n        this.serialNumber = serialNumber;\n    }\n\n    public String getWorkDayManager() {\n        return workDayManager;\n    }\n\n    public void setWorkDayManager(String workDayManager) {\n        this.workDayManager = workDayManager;\n    }\n\n    public String getWorkDayManagerSerialNumber() {\n        return workDayManagerSerialNumber;\n    }\n\n    public void setWorkDayManagerSerialNumber(String workDayManagerSerialNumber) {\n        this.workDayManagerSerialNumber = workDayManagerSerialNumber;\n    }\n\n    public String getSourceApplicationId() {\n        return sourceApplicationId;\n    }\n\n    public void setSourceApplicationId(String sourceApplicationId) {\n        this.sourceApplicationId = sourceApplicationId;\n    }\n\n    public String getSiteLocation() {\n        return siteLocation;\n    }\n\n    public void setSiteLocation(String siteLocation) {\n        this.siteLocation = siteLocation;\n    }\n}\n\n\nDao Class\n\n\npublic class ILCShiftEntriesDaoImpl implements ILCShiftEntriesDao{\n\n\n\n    @Override\n    public List&lt; ILCShiftEntries &gt; getListOfILCShiftEntriesWithLimitAndOffSet( StatelessSession statelessSession, int limitNumber, int offsetNumber ) {\n        List&lt;ILCShiftEntries &gt; listOfILCShiftEntries = null;\n        Query query = statelessSession.createQuery(\"from ILCShiftEntries order by id desc\");\n        query.setFirstResult( offsetNumber );\n        query.setMaxResults( limitNumber );\n        List list = query.getResultList();\n        if( Utilities.isListNotEmpty( list ) ){\n             listOfILCShiftEntries = ( List&lt;ILCShiftEntries &gt; )list;\n        }\n        return listOfILCShiftEntries;\n    }\n\n}\n\napache DBCP2 config\n\n\n    database.dbcp.maxTotal=-1\n    database.dbcp.maxIdle=8\n    database.dbcp.minIdle=0\n    database.dbcp.initialSize=20\n    database.dbcp.maxWaitMillis=23904\n    database.dbcp.testWhileIdle=true\n    database.dbcp.maxOpenPreparedStatements=-1\n    database.dbcp.validationQuery=SELECT 1\n    database.dbcp.softMinEvictableIdleTimeMillis=300000\n    database.dbcp.timeBetweenEvictionRunsMillis=300000\n</code></pre>\n\n<p>23:35:46.799 [DefaultQuartzScheduler_Worker-1] ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper - Can not read response from server. Expected to read 183 bytes, read 75 bytes before connection was unexpectedly lost.\njavax.persistence.PersistenceException: org.hibernate.exception.GenericJDBCException: could not extract ResultSet\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:149)\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:157)\n        at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1423)\n        at org.hibernate.query.Query.getResultList(Query.java:146)\n        at daos.ILCShiftEntriesDaoImpl.getListOfILCShiftEntriesWithLimitAndOffSet(ILCShiftEntriesDaoImpl.java:275)\n        at jobs.VarianceReportJobs.doILCWorkdayDBSync(VarianceReportJobs.java:400)\n        at jobs.VarianceReportJobs.execute(VarianceReportJobs.java:205)\n        at org.quartz.core.JobRunShell.run(JobRunShell.java:202)\n        at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:573)\nCaused by: org.hibernate.exception.GenericJDBCException: could not extract ResultSet\n        at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:47)\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111)\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97)\n        at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:69)\n        at org.hibernate.loader.Loader.getResultSet(Loader.java:2168)\n        at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1931)\n        at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1893)\n        at org.hibernate.loader.Loader.doQuery(Loader.java:938)\n        at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:341)\n        at org.hibernate.loader.Loader.doList(Loader.java:2692)\n        at org.hibernate.loader.Loader.doList(Loader.java:2675)\n        at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2507)\n        at org.hibernate.loader.Loader.list(Loader.java:2502)\n        at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:502)\n        at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:392)\n        at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:216)\n        at org.hibernate.internal.StatelessSessionImpl.list(StatelessSessionImpl.java:464)\n        at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1445)\n        at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1414)\n        ... 6 more\nCaused by: java.sql.SQLException: Can not read response from server. Expected to read 183 bytes, read 75 bytes before connection was unexpectedly lost.\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)\n        at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:974)\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:1024)\n        at org.apache.commons.dbcp2.DelegatingPreparedStatement.executeQuery(DelegatingPreparedStatement.java:122)\n        at org.apache.commons.dbcp2.DelegatingPreparedStatement.executeQuery(DelegatingPreparedStatement.java:122)\n        at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:60)\n        ... 21 more\njavax.persistence.PersistenceException: org.hibernate.exception.GenericJDBCException: could not extract ResultSet\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:149)\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:157)\n        at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1423)\n        at org.hibernate.query.Query.getResultList(Query.java:146)\n        at daos.ILCShiftEntriesDaoImpl.getListOfILCShiftEntriesWithLimitAndOffSet(ILCShiftEntriesDaoImpl.java:275)\n        at jobs.VarianceReportJobs.doILCWorkdayDBSync(VarianceReportJobs.java:400)\n        at jobs.VarianceReportJobs.execute(VarianceReportJobs.java:205)\n        at org.quartz.core.JobRunShell.run(JobRunShell.java:202)\n        at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:573)\nCaused by: org.hibernate.exception.GenericJDBCException: could not extract ResultSet\n        at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:47)\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111)\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97)\n        at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:69)\n        at org.hibernate.loader.Loader.getResultSet(Loader.java:2168)\n        at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1931)\n        at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1893)\n        at org.hibernate.loader.Loader.doQuery(Loader.java:938)\n        at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:341)\n        at org.hibernate.loader.Loader.doList(Loader.java:2692)\n        at org.hibernate.loader.Loader.doList(Loader.java:2675)\n        at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2507)\n        at org.hibernate.loader.Loader.list(Loader.java:2502)\n        at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:502)\n        at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:392)\n        at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:216)\n        at org.hibernate.internal.StatelessSessionImpl.list(StatelessSessionImpl.java:464)\n        at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1445)\n        at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1414)\n        ... 6 more\nCaused by: java.sql.SQLException: Can not read response from server. Expected to read 183 bytes, read 75 bytes before connection was unexpectedly lost.\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)\n        at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:974)\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:1024)\n        at org.apache.commons.dbcp2.DelegatingPreparedStatement.executeQuery(DelegatingPreparedStatement.java:122)\n        at org.apache.commons.dbcp2.DelegatingPreparedStatement.executeQuery(DelegatingPreparedStatement.java:122)\n        at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:60)\n        ... 21 more</p>\n"},{"tags":["java","spring","dependency-injection"],"comments":[{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":0,"creation_date":1318968602,"post_id":7812745,"comment_id":9520973,"body_markdown":"what would be the point of doing this in a properties file and with `@Qualifier` when you could just choose how to wire the bean up in the XML instead?","body":"what would be the point of doing this in a properties file and with <code>@Qualifier</code> when you could just choose how to wire the bean up in the XML instead?"},{"owner":{"account_id":297024,"reputation":25001,"user_id":602323,"accept_rate":80,"display_name":"Kevin"},"score":0,"creation_date":1318968786,"post_id":7812745,"comment_id":9521036,"body_markdown":"Have you looked at spring-3 profile beans? It seems like that might be what you&#39;re looking for. It does seem like you should be able to do what you&#39;re asking, since spring-3 has @Value annotations that support resolving properties. But I just don&#39;t know for sure.","body":"Have you looked at spring-3 profile beans? It seems like that might be what you&#39;re looking for. It does seem like you should be able to do what you&#39;re asking, since spring-3 has @Value annotations that support resolving properties. But I just don&#39;t know for sure."},{"owner":{"account_id":52469,"reputation":3189,"user_id":156796,"accept_rate":67,"display_name":"Langali"},"score":0,"creation_date":1318969368,"post_id":7812745,"comment_id":9521243,"body_markdown":"@matt Just Wanted to minimize the use of XML. And property file because different deployments will use different implementations.","body":"@matt Just Wanted to minimize the use of XML. And property file because different deployments will use different implementations."}],"answers":[{"tags":[],"owner":{"account_id":297024,"reputation":25001,"user_id":602323,"accept_rate":80,"display_name":"Kevin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1358471642,"creation_date":1318969422,"answer_id":7813228,"question_id":7812745,"body_markdown":"I would venture to guess the answer is no, just based on the write ups in a few javadoc pages. For example, see the docs for `@Value`:\r\n\r\nhttp://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/beans/factory/annotation/Value.html\r\n\r\nNotice they make special mention of using expressions in the annotation. For comparison, the docs for `@Qualifier`:\r\n\r\nhttp://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/beans/factory/annotation/Qualifier.html\r\n\r\nWhich make no mention of expressions. Obviously not a definitive answer (but spring is generally very good on documentation). Also, if expressions were supported in the `@Qualifier` annotation I would expect they work the same way as the `@Value` annotation (just based on spring being a very consistent framework).\r\n\r\nSpring 3.1 has the new profile bean feature, which seems like it can accomplish something like what you&#39;re trying to do. Here&#39;s a write up for that: \r\n\r\nhttp://blog.springsource.com/2011/02/14/spring-3-1-m1-introducing-profile/\r\n","title":"Spring Qualifier and property placeholder","body":"<p>I would venture to guess the answer is no, just based on the write ups in a few javadoc pages. For example, see the docs for <code>@Value</code>:</p>\n\n<p><a href=\"http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/beans/factory/annotation/Value.html\" rel=\"nofollow\">http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/beans/factory/annotation/Value.html</a></p>\n\n<p>Notice they make special mention of using expressions in the annotation. For comparison, the docs for <code>@Qualifier</code>:</p>\n\n<p><a href=\"http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/beans/factory/annotation/Qualifier.html\" rel=\"nofollow\">http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/beans/factory/annotation/Qualifier.html</a></p>\n\n<p>Which make no mention of expressions. Obviously not a definitive answer (but spring is generally very good on documentation). Also, if expressions were supported in the <code>@Qualifier</code> annotation I would expect they work the same way as the <code>@Value</code> annotation (just based on spring being a very consistent framework).</p>\n\n<p>Spring 3.1 has the new profile bean feature, which seems like it can accomplish something like what you're trying to do. Here's a write up for that: </p>\n\n<p><a href=\"http://blog.springsource.com/2011/02/14/spring-3-1-m1-introducing-profile/\" rel=\"nofollow\">http://blog.springsource.com/2011/02/14/spring-3-1-m1-introducing-profile/</a></p>\n"},{"tags":[],"owner":{"account_id":268547,"reputation":9159,"user_id":557363,"display_name":"atrain"},"down_vote_count":7,"up_vote_count":2,"is_accepted":false,"score":-5,"last_activity_date":1318971083,"creation_date":1318971083,"answer_id":7813552,"question_id":7812745,"body_markdown":"Maybe give this a whirl:\r\n\r\n    @Controller\r\n    public class MyController {\r\n     \r\n       private String serviceId;\r\n     \r\n       @Value(&quot;${serviceId}&quot;)\r\n       public void setServiceId(String serviceId) {\r\n          this.serviceId = serviceId;\r\n       }\r\n     \r\n       @Autowired\r\n       @Qualifier(serviceId)\r\n       Service service;\r\n    }","title":"Spring Qualifier and property placeholder","body":"<p>Maybe give this a whirl:</p>\n\n<pre><code>@Controller\npublic class MyController {\n\n   private String serviceId;\n\n   @Value(\"${serviceId}\")\n   public void setServiceId(String serviceId) {\n      this.serviceId = serviceId;\n   }\n\n   @Autowired\n   @Qualifier(serviceId)\n   Service service;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1902709,"reputation":411,"user_id":1718225,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1349293715,"creation_date":1349293715,"answer_id":12715752,"question_id":7812745,"body_markdown":"This works.  You can leave off the service names if you just use the default spring bean name.  serviceA vs ServiceA, etc.\r\n\r\n    @Controller\r\n    class MyController {\r\n    @Autowired(required=false)\r\n    @Qualifier(&quot;Service&quot;)\r\n    Service service;\r\n\r\n    public static void main(String[] args) {\r\n\t   ApplicationContext context = new ClassPathXmlApplicationContext(&quot;app-ctx.xml&quot;, MyController.class);\r\n\t   for(String s:context.getBeanDefinitionNames()){\r\n\t\t   System.out.println(s);\r\n\t\t   for(String t:context.getAliases(s)){\r\n\t\t\t   System.out.println(&quot;\\t&quot; + t);\r\n\t\t   }\r\n\t   }\r\n\t   context.getBean(MyController.class).service.print();\r\n      }\r\n    }\r\n\r\n    public interface Service {\r\n        void print();\r\n    }\r\n\r\n    @Service(value=&quot;ServiceA&quot;)\r\n    public class ServiceA implements example.Service {\r\n        public void print() {\r\n            System.out.println(&quot;printing ServiceA.print()&quot;);\r\n        } \r\n    }\r\n\r\n    @Service(value=&quot;ServiceB&quot;)\r\n    public class ServiceB implements example.Service {\r\n        public void print() {\r\n            System.out.println(&quot;printing ServiceB.print()&quot;);\r\n        } \r\n    }\r\n\r\nXML: \r\n\r\n    &lt;beans&gt;\r\n        &lt;alias name=&quot;${service.class}&quot; alias=&quot;Service&quot;/&gt;\r\n        &lt;context:property-placeholder location=&quot;example/app.properties&quot;/&gt;\r\n        &lt;context:component-scan base-package=&quot;example&quot;/&gt;\r\n    &lt;beans&gt;\r\n\r\nProps:\r\n\r\n    service.class=ServiceB\r\n","title":"Spring Qualifier and property placeholder","body":"<p>This works.  You can leave off the service names if you just use the default spring bean name.  serviceA vs ServiceA, etc.</p>\n\n<pre><code>@Controller\nclass MyController {\n@Autowired(required=false)\n@Qualifier(\"Service\")\nService service;\n\npublic static void main(String[] args) {\n   ApplicationContext context = new ClassPathXmlApplicationContext(\"app-ctx.xml\", MyController.class);\n   for(String s:context.getBeanDefinitionNames()){\n       System.out.println(s);\n       for(String t:context.getAliases(s)){\n           System.out.println(\"\\t\" + t);\n       }\n   }\n   context.getBean(MyController.class).service.print();\n  }\n}\n\npublic interface Service {\n    void print();\n}\n\n@Service(value=\"ServiceA\")\npublic class ServiceA implements example.Service {\n    public void print() {\n        System.out.println(\"printing ServiceA.print()\");\n    } \n}\n\n@Service(value=\"ServiceB\")\npublic class ServiceB implements example.Service {\n    public void print() {\n        System.out.println(\"printing ServiceB.print()\");\n    } \n}\n</code></pre>\n\n<p>XML: </p>\n\n<pre><code>&lt;beans&gt;\n    &lt;alias name=\"${service.class}\" alias=\"Service\"/&gt;\n    &lt;context:property-placeholder location=\"example/app.properties\"/&gt;\n    &lt;context:component-scan base-package=\"example\"/&gt;\n&lt;beans&gt;\n</code></pre>\n\n<p>Props:</p>\n\n<pre><code>service.class=ServiceB\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2842936,"reputation":2530,"user_id":2442133,"accept_rate":57,"display_name":"mkczyk"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1509695423,"creation_date":1509621783,"answer_id":47074088,"question_id":7812745,"body_markdown":"This solution works without XML and with properties file.\r\n\r\nYours classes improved:\r\n\r\n`MyController.java`:\r\n\r\n    @Controller\r\n    public class MyController {\r\n        @Autowired\r\n        public MyController(@Qualifier(&quot;MyServiceAlias&quot;) MyService myService) {\r\n            myService.print();\r\n        }\r\n    }\r\n\r\n`ServiceA.java`:\r\n\r\n    @Service(&quot;serviceA&quot;)\r\n    public class ServiceA implements MyService {\r\n        @Override\r\n        public void print() {\r\n            System.out.println(&quot;printing ServiceA.print()&quot;);\r\n        }\r\n    }\r\n\r\n`ServiceB.java`:\r\n\r\n    @Service(&quot;serviceB&quot;)\r\n    public class ServiceB implements MyService {\r\n        @Override\r\n        public void print() {\r\n            System.out.println(&quot;printing ServiceB.print()&quot;);\r\n        }\r\n    }\r\n\r\n`application.properties` (here you can change which class will be loaded):\r\n\r\n    service.class=serviceA\r\n\r\nAnd important configuration file `AppConfig.java`:\r\n\r\n    @Configuration\r\n    public class AppConfig {\r\n    \r\n        @Autowired\r\n        private ApplicationContext context;\r\n    \r\n        @Bean\r\n        public MyService MyServiceAlias(@Value(&quot;${service.class}&quot;) String qualifier) {\r\n            return (MyService) context.getBean(qualifier);\r\n        }\r\n    }\r\n\r\n---\r\n\r\nAdditional explanations:\r\n\r\n* Use `@Qualifier` only for field which will be autowired. For services, to specify bean name, use `@Service`.\r\n* If you want standard bean name you don&#39;t need to use `@Service` with specyify name. For example, standard bean name for ServiceA is `serviceA` (not `ServiceA` - see big first letter), so `@Service(&quot;serviceA&quot;)` redundant (`@Service` is enough).\r\n* I based `AppConfig` on this answer: https://stackoverflow.com/questions/27107133/spring-bean-alias-in-javaconfig/28988342#28988342.\r\n* This solution is better than this https://stackoverflow.com/questions/7812745/spring-qualifier-and-property-placeholder/12715752#12715752, because you don&#39;t need XML. \r\n* Tested on Spring Boot 1.5.7.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Spring Qualifier and property placeholder","body":"<p>This solution works without XML and with properties file.</p>\n\n<p>Yours classes improved:</p>\n\n<p><code>MyController.java</code>:</p>\n\n<pre><code>@Controller\npublic class MyController {\n    @Autowired\n    public MyController(@Qualifier(\"MyServiceAlias\") MyService myService) {\n        myService.print();\n    }\n}\n</code></pre>\n\n<p><code>ServiceA.java</code>:</p>\n\n<pre><code>@Service(\"serviceA\")\npublic class ServiceA implements MyService {\n    @Override\n    public void print() {\n        System.out.println(\"printing ServiceA.print()\");\n    }\n}\n</code></pre>\n\n<p><code>ServiceB.java</code>:</p>\n\n<pre><code>@Service(\"serviceB\")\npublic class ServiceB implements MyService {\n    @Override\n    public void print() {\n        System.out.println(\"printing ServiceB.print()\");\n    }\n}\n</code></pre>\n\n<p><code>application.properties</code> (here you can change which class will be loaded):</p>\n\n<pre><code>service.class=serviceA\n</code></pre>\n\n<p>And important configuration file <code>AppConfig.java</code>:</p>\n\n<pre><code>@Configuration\npublic class AppConfig {\n\n    @Autowired\n    private ApplicationContext context;\n\n    @Bean\n    public MyService MyServiceAlias(@Value(\"${service.class}\") String qualifier) {\n        return (MyService) context.getBean(qualifier);\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>Additional explanations:</p>\n\n<ul>\n<li>Use <code>@Qualifier</code> only for field which will be autowired. For services, to specify bean name, use <code>@Service</code>.</li>\n<li>If you want standard bean name you don't need to use <code>@Service</code> with specyify name. For example, standard bean name for ServiceA is <code>serviceA</code> (not <code>ServiceA</code> - see big first letter), so <code>@Service(\"serviceA\")</code> redundant (<code>@Service</code> is enough).</li>\n<li>I based <code>AppConfig</code> on this answer: <a href=\"https://stackoverflow.com/questions/27107133/spring-bean-alias-in-javaconfig/28988342#28988342\">Spring Bean Alias in JavaConfig</a>.</li>\n<li>This solution is better than this <a href=\"https://stackoverflow.com/questions/7812745/spring-qualifier-and-property-placeholder/12715752#12715752\">Spring Qualifier and property placeholder</a>, because you don't need XML. </li>\n<li>Tested on Spring Boot 1.5.7.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":14054612,"reputation":949,"user_id":10152355,"display_name":"Faouzi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1584987397,"creation_date":1584987397,"answer_id":60819385,"question_id":7812745,"body_markdown":"As a workarround, you can set the desired Spring service implementation based on its name in your config.properties.\r\n\r\n    @Controller\r\n    public class MyController {\r\n      //add a String which will hold the name of the service to implement\r\n      @Value(&quot;${service.class}&quot;)\r\n\t  private String serviceToImplement;\r\n      \r\n      Service service;\r\n\r\n      // now autowire spring service bean based on int name using setter\r\n      @Autowired\r\n      public void setService(ApplicationContext context) {\r\n\t\tservice = (Service) context.getBean(serviceToImplement);\r\n\t   }\r\n    }\r\n\r\n    @Service\r\n     @Qualifier(&quot;ServiceA&quot;)\r\n     ServiceA implements Service {\r\n      public void print() {\r\n       System.out.println(&quot;printing ServiceA.print()&quot;);\r\n      } \r\n    }\r\n\r\n     @Service\r\n     @Qualifier(&quot;ServiceB&quot;)\r\n     ServiceB implements Service {\r\n       public void print() {\r\n        System.out.println(&quot;printing ServiceB.print()&quot;);\r\n       } \r\n    }\r\n\r\nconfig.properties\r\n\r\n    service.class=serviceB\r\n","title":"Spring Qualifier and property placeholder","body":"<p>As a workarround, you can set the desired Spring service implementation based on its name in your config.properties.</p>\n\n<pre><code>@Controller\npublic class MyController {\n  //add a String which will hold the name of the service to implement\n  @Value(\"${service.class}\")\n  private String serviceToImplement;\n\n  Service service;\n\n  // now autowire spring service bean based on int name using setter\n  @Autowired\n  public void setService(ApplicationContext context) {\n    service = (Service) context.getBean(serviceToImplement);\n   }\n}\n\n@Service\n @Qualifier(\"ServiceA\")\n ServiceA implements Service {\n  public void print() {\n   System.out.println(\"printing ServiceA.print()\");\n  } \n}\n\n @Service\n @Qualifier(\"ServiceB\")\n ServiceB implements Service {\n   public void print() {\n    System.out.println(\"printing ServiceB.print()\");\n   } \n}\n</code></pre>\n\n<p>config.properties</p>\n\n<pre><code>service.class=serviceB\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6957216,"reputation":66,"user_id":5337898,"display_name":"Victor Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692775158,"creation_date":1692775158,"answer_id":76959128,"question_id":7812745,"body_markdown":"Just use **@ConditionalOnProperty**.\r\nIf you don&#39;t need to use both of those services in one context, then your code could be something like:\r\n\r\n\r\n    @Service\r\n    @ConditionalOnProperty(value=&quot;storage.type&quot;, havingValue = &quot;serviceA&quot;)\r\n    ServiceA implements Service {\r\n       public void print() {\r\n           System.out.println(&quot;printing ServiceA.print()&quot;);\r\n       } \r\n    }\r\n    \r\n    @Service\r\n    @ConditionalOnProperty(value=&quot;service.class&quot;, havingValue = &quot;serviceB&quot;)\r\n    ServiceB implements Service {\r\n       public void print() {\r\n          System.out.println(&quot;printing ServiceB.print()&quot;);\r\n       } \r\n    }\r\n\r\n    @Controller\r\n    public class MyController {\r\n       @Autowired\r\n       Service service;\r\n    }","title":"Spring Qualifier and property placeholder","body":"<p>Just use <strong>@ConditionalOnProperty</strong>.\nIf you don't need to use both of those services in one context, then your code could be something like:</p>\n<pre><code>@Service\n@ConditionalOnProperty(value=&quot;storage.type&quot;, havingValue = &quot;serviceA&quot;)\nServiceA implements Service {\n   public void print() {\n       System.out.println(&quot;printing ServiceA.print()&quot;);\n   } \n}\n\n@Service\n@ConditionalOnProperty(value=&quot;service.class&quot;, havingValue = &quot;serviceB&quot;)\nServiceB implements Service {\n   public void print() {\n      System.out.println(&quot;printing ServiceB.print()&quot;);\n   } \n}\n\n@Controller\npublic class MyController {\n   @Autowired\n   Service service;\n}\n</code></pre>\n"}],"owner":{"account_id":52469,"reputation":3189,"user_id":156796,"accept_rate":67,"display_name":"Langali"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37976,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"answer_count":6,"score":28,"last_activity_date":1692775158,"creation_date":1318967131,"question_id":7812745,"body_markdown":"Does anyone know if I should be able to use property placeholder as an expression in a Qualifier? I can&#39;t seem to get this working.\r\n\r\nI am using spring 3.0.4.\r\n\r\n    @Controller\r\n    public class MyController {\r\n       @Autowired\r\n       @Qualifier(&quot;${service.class}&quot;)\r\n       Service service;\r\n    }\r\n    \r\n    @Service\r\n    @Qualifier(&quot;ServiceA&quot;)\r\n    ServiceA implements Service {\r\n       public void print() {\r\n           System.out.println(&quot;printing ServiceA.print()&quot;);\r\n       } \r\n    }\r\n    \r\n    @Service\r\n    @Qualifier(&quot;ServiceB&quot;)\r\n    ServiceB implements Service {\r\n       public void print() {\r\n          System.out.println(&quot;printing ServiceB.print()&quot;);\r\n       } \r\n    }\r\n\r\nXML:\r\n    \r\n    &lt;bean id=&quot;propertyConfigurer&quot; class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;\r\n            &lt;property name=&quot;location&quot; value=&quot;file:/etc/config.properties&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\nconfig.properties:\r\n\r\n    config.properties\r\n    service.class=serviceB","title":"Spring Qualifier and property placeholder","body":"<p>Does anyone know if I should be able to use property placeholder as an expression in a Qualifier? I can't seem to get this working.</p>\n\n<p>I am using spring 3.0.4.</p>\n\n<pre><code>@Controller\npublic class MyController {\n   @Autowired\n   @Qualifier(\"${service.class}\")\n   Service service;\n}\n\n@Service\n@Qualifier(\"ServiceA\")\nServiceA implements Service {\n   public void print() {\n       System.out.println(\"printing ServiceA.print()\");\n   } \n}\n\n@Service\n@Qualifier(\"ServiceB\")\nServiceB implements Service {\n   public void print() {\n      System.out.println(\"printing ServiceB.print()\");\n   } \n}\n</code></pre>\n\n<p>XML:</p>\n\n<pre><code>&lt;bean id=\"propertyConfigurer\" class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"&gt;\n        &lt;property name=\"location\" value=\"file:/etc/config.properties\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>config.properties:</p>\n\n<pre><code>config.properties\nservice.class=serviceB\n</code></pre>\n"},{"tags":["java","android","layout","textview","constraints"],"owner":{"account_id":4393415,"reputation":1,"user_id":3581189,"display_name":"user3581189"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692775058,"creation_date":1692775058,"question_id":76959114,"body_markdown":"I want to create a chat bubbles like whatsapp. The problem is that constraints not working stable on code side. I have used onGlobalLayoutListener but in recyclerview view is changing when user scrolls. I&#39;ve tried to show the situation as a pictures below there. If the text is short linearlayout will constraint end of textview. If it is long linearlayout will be move down. And if the second line of text is short linearlayout will constraints right of the textview.\r\n\r\n[Short Text](https://i.stack.imgur.com/yW6H4.png) [Long Text](https://i.stack.imgur.com/xCBcn.png)\r\n\r\nI want to make the layout as seen these ugly masterpieces. Thanks for attentions and helps.\r\n\r\nI&#39;ve tried onGlobalLayoutListener as on code-side but it doesnt work stable. In xml side i couldnt solve my problem.","title":"View will automatically move down while textview overlapping on a view","body":"<p>I want to create a chat bubbles like whatsapp. The problem is that constraints not working stable on code side. I have used onGlobalLayoutListener but in recyclerview view is changing when user scrolls. I've tried to show the situation as a pictures below there. If the text is short linearlayout will constraint end of textview. If it is long linearlayout will be move down. And if the second line of text is short linearlayout will constraints right of the textview.</p>\n<p><a href=\"https://i.stack.imgur.com/yW6H4.png\" rel=\"nofollow noreferrer\">Short Text</a> <a href=\"https://i.stack.imgur.com/xCBcn.png\" rel=\"nofollow noreferrer\">Long Text</a></p>\n<p>I want to make the layout as seen these ugly masterpieces. Thanks for attentions and helps.</p>\n<p>I've tried onGlobalLayoutListener as on code-side but it doesnt work stable. In xml side i couldnt solve my problem.</p>\n"},{"tags":["java","karate","java-17"],"comments":[{"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1690223781,"post_id":76757185,"comment_id":135320540,"body_markdown":"as far as I know karate does not use any of the javax apis. you are welcome to raise an issue with details, better still a PR would be great","body":"as far as I know karate does not use any of the javax apis. you are welcome to raise an issue with details, better still a PR would be great"}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692775033,"creation_date":1692775033,"answer_id":76959109,"question_id":76757185,"body_markdown":"**No (as of 08/2023)**\r\n\r\nAs far as I browse the [Karate GitHub][1] repository, there is nothing related to planning a migration to Jakarta EE:\r\n\r\n- Issues: https://github.com/karatelabs/karate/issues?q=jakarta\r\n- Pull requests: https://github.com/karatelabs/karate/pulls?q=jakarta\r\n\r\nPerhaps, it&#39;s time now to create an issue.\r\n\r\n\r\n  [1]: https://github.com/karatelabs/karate","title":"Karate Jakarta EE upgrade","body":"<p><strong>No (as of 08/2023)</strong></p>\n<p>As far as I browse the <a href=\"https://github.com/karatelabs/karate\" rel=\"nofollow noreferrer\">Karate GitHub</a> repository, there is nothing related to planning a migration to Jakarta EE:</p>\n<ul>\n<li>Issues: <a href=\"https://github.com/karatelabs/karate/issues?q=jakarta\" rel=\"nofollow noreferrer\">https://github.com/karatelabs/karate/issues?q=jakarta</a></li>\n<li>Pull requests: <a href=\"https://github.com/karatelabs/karate/pulls?q=jakarta\" rel=\"nofollow noreferrer\">https://github.com/karatelabs/karate/pulls?q=jakarta</a></li>\n</ul>\n<p>Perhaps, it's time now to create an issue.</p>\n"}],"owner":{"account_id":16388622,"reputation":49,"user_id":13173387,"display_name":"DungenessCrab"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1692775033,"creation_date":1690223667,"question_id":76757185,"body_markdown":"I am curious if there is a timeline on upgrading the use of Javax to Jakarta throughout the karate framework\r\n\r\nUpgraded the karate framework on a fork and everything seems to be good.\r\n\r\nIt is my understanding that Javax is being moved from on most other projects in favor of Jakarta","title":"Karate Jakarta EE upgrade","body":"<p>I am curious if there is a timeline on upgrading the use of Javax to Jakarta throughout the karate framework</p>\n<p>Upgraded the karate framework on a fork and everything seems to be good.</p>\n<p>It is my understanding that Javax is being moved from on most other projects in favor of Jakarta</p>\n"},{"tags":["java","multithreading","nashorn","jsr223"],"answers":[{"tags":[],"owner":{"account_id":44768,"reputation":4435,"user_id":131552,"display_name":"Attila Szegedi"},"down_vote_count":2,"up_vote_count":63,"is_accepted":true,"score":61,"last_activity_date":1516103559,"creation_date":1431316484,"answer_id":30159424,"question_id":30140103,"body_markdown":"You can share a `ScriptEngine` and `CompiledScript` objects across threads. They are threadsafe. Actually, you should share them, as a single engine instance is a holder for a class cache and for JavaScript objects&#39; hidden classes, so by having only one you cut down on repeated compilation.\r\n\r\nWhat you can&#39;t share is `Bindings` objects. The bindings object basically corresponds to the JavaScript runtime environment&#39;s `Global` object. The engine starts with a default bindings instance, but if you use it in multithreaded environment, you need to use `engine.createBindings()` to obtain a separate Bindings object for every thread -- its own global, and evaluate the compiled scripts into it. That way you&#39;ll set up isolated global scopes with the same code. (Of course, you can also pool them, or synchronize on &#39;em, just make sure there&#39;s never more than one thread working in one bindings instance). Once you evaluated the script into the bindings, you can subsequently efficiently invoke functions it defined with `((JSObject)bindings.get(fnName).call(this, args...)`\r\n\r\nIf you must share state across threads, then at least try to make it not mutable. If your objects are immutable, you might as well evaluate the script into single `Bindings` instance and then just use that across threads (invoking hopefully side-effect free functions). If it is mutable, you&#39;ll have to synchronize; either the whole bindings, or you can also use the `var syncFn = Java.synchronized(fn, lockObj)` Nashorn-specific JS API to obtain versions of JS functions that synchronize on a specific object.\r\n\r\nThis presupposes that you share single bindings across threads. If you want to have multiple bindings share a subset of objects (e.g. by putting the same object into multiple bindings), again, you&#39;ll have to somehow deal with ensuring that access to shared objects is thread safe yourself.\r\n\r\nAs for [`THREADING` parameter returning null][1]: yeah, initially we planned on not making the engine threadsafe (saying that the language itself isn&#39;t threadsafe) so we chose the null value. We might need to re-evaluate that now, as in the meantime we did make it so that engine instances are threadsafe, just the global scope (bindings) isn&#39;t (and never will be, because of JavaScript language semantics.)\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/javax/script/ScriptEngineFactory.html#getParameter-java.lang.String-","title":"Should I use a separate ScriptEngine and CompiledScript instances per each thread?","body":"<p>You can share a <code>ScriptEngine</code> and <code>CompiledScript</code> objects across threads. They are threadsafe. Actually, you should share them, as a single engine instance is a holder for a class cache and for JavaScript objects' hidden classes, so by having only one you cut down on repeated compilation.</p>\n\n<p>What you can't share is <code>Bindings</code> objects. The bindings object basically corresponds to the JavaScript runtime environment's <code>Global</code> object. The engine starts with a default bindings instance, but if you use it in multithreaded environment, you need to use <code>engine.createBindings()</code> to obtain a separate Bindings object for every thread -- its own global, and evaluate the compiled scripts into it. That way you'll set up isolated global scopes with the same code. (Of course, you can also pool them, or synchronize on 'em, just make sure there's never more than one thread working in one bindings instance). Once you evaluated the script into the bindings, you can subsequently efficiently invoke functions it defined with <code>((JSObject)bindings.get(fnName).call(this, args...)</code></p>\n\n<p>If you must share state across threads, then at least try to make it not mutable. If your objects are immutable, you might as well evaluate the script into single <code>Bindings</code> instance and then just use that across threads (invoking hopefully side-effect free functions). If it is mutable, you'll have to synchronize; either the whole bindings, or you can also use the <code>var syncFn = Java.synchronized(fn, lockObj)</code> Nashorn-specific JS API to obtain versions of JS functions that synchronize on a specific object.</p>\n\n<p>This presupposes that you share single bindings across threads. If you want to have multiple bindings share a subset of objects (e.g. by putting the same object into multiple bindings), again, you'll have to somehow deal with ensuring that access to shared objects is thread safe yourself.</p>\n\n<p>As for <a href=\"http://docs.oracle.com/javase/8/docs/api/javax/script/ScriptEngineFactory.html#getParameter-java.lang.String-\" rel=\"noreferrer\"><code>THREADING</code> parameter returning null</a>: yeah, initially we planned on not making the engine threadsafe (saying that the language itself isn't threadsafe) so we chose the null value. We might need to re-evaluate that now, as in the meantime we did make it so that engine instances are threadsafe, just the global scope (bindings) isn't (and never will be, because of JavaScript language semantics.)</p>\n"},{"tags":[],"owner":{"account_id":2040350,"reputation":398,"user_id":1821717,"display_name":"Thim Anneessens"},"down_vote_count":7,"up_vote_count":11,"is_accepted":false,"score":4,"last_activity_date":1537776604,"creation_date":1435426717,"answer_id":31091590,"question_id":30140103,"body_markdown":"`ScriptEngine` for Nashorn is not thread-safe. This can be verified by calling the `ScriptEngineFactory.getParameter(&quot;THREADING&quot;)` of the `ScriptEngineFactory` for Nashorn. \r\n\r\nThe value returned is null which according to [java doc][1] means not thread safe.\r\n\r\nNote: This part of the answer was first given [here][2]. But I rechecked the results and doc myself.\r\n\r\nThis gives us the answer for `CompiledScript` as well. According to [java doc][3] a `CompiledScript` is associated to one `ScriptEngine`. \r\n\r\nSo in Nashorn **`ScriptEngine` and `CompiledScript` should not be used by two threads at the same time**.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/javax/script/ScriptEngineFactory.html#getParameter-java.lang.String-\r\n  [2]: https://stackoverflow.com/questions/27710407/reuse-nashorn-scriptengine-in-servlet\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/javax/script/CompiledScript.html","title":"Should I use a separate ScriptEngine and CompiledScript instances per each thread?","body":"<p><code>ScriptEngine</code> for Nashorn is not thread-safe. This can be verified by calling the <code>ScriptEngineFactory.getParameter(\"THREADING\")</code> of the <code>ScriptEngineFactory</code> for Nashorn. </p>\n\n<p>The value returned is null which according to <a href=\"http://docs.oracle.com/javase/8/docs/api/javax/script/ScriptEngineFactory.html#getParameter-java.lang.String-\" rel=\"nofollow noreferrer\">java doc</a> means not thread safe.</p>\n\n<p>Note: This part of the answer was first given <a href=\"https://stackoverflow.com/questions/27710407/reuse-nashorn-scriptengine-in-servlet\">here</a>. But I rechecked the results and doc myself.</p>\n\n<p>This gives us the answer for <code>CompiledScript</code> as well. According to <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/script/CompiledScript.html\" rel=\"nofollow noreferrer\">java doc</a> a <code>CompiledScript</code> is associated to one <code>ScriptEngine</code>. </p>\n\n<p>So in Nashorn <strong><code>ScriptEngine</code> and <code>CompiledScript</code> should not be used by two threads at the same time</strong>.</p>\n"},{"tags":[],"owner":{"account_id":1079497,"reputation":1042,"user_id":1076887,"display_name":"mtuulu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498765569,"creation_date":1498765569,"answer_id":44833747,"question_id":30140103,"body_markdown":"Code sample for @attilla&#39;s response\r\n \r\n\r\n 1. my js code is something like this:\r\n\r\n    &lt;pre&gt;&lt;code&gt;\r\n    var renderServer = function renderServer(server_data) {\r\n       //your js logic...\r\n       return html_string.\r\n    }\r\n    &lt;/code&gt;&lt;/pre&gt;\r\n\r\n\r\n 2. java code:\r\n\r\n    &lt;pre&gt;&lt;code&gt;\r\n    public static void main(String[] args) {\r\n            String jsFilePath = jsFilePath();\r\n            String jsonData = jsonData();\r\n\r\n            try (InputStreamReader isr = new InputStreamReader(new URL(jsFilePath).openStream())) {\r\n\r\n                NashornScriptEngine engine = (NashornScriptEngine) new ScriptEngineManager().getEngineByName(&quot;nashorn&quot;);\r\n                CompiledScript compiledScript = engine.compile(isr);\r\n                Bindings bindings = engine.createBindings();\r\n        \r\n                compiledScript.eval(bindings);\r\n        \r\n                ScriptObjectMirror renderServer = (ScriptObjectMirror) bindings.get(&quot;renderServer&quot;);\r\n                String html = (String) renderServer.call(null, jsonData);\r\n                System.out.println(html);\r\n        \r\n           } catch (Exception e) {\r\n               e.printStackTrace();\r\n           }\r\n        }\r\n    &lt;/code&gt;&lt;/pre&gt;\r\n\r\nbe careful when using `renderServer` method in multi-threaded environment, since bindings are not thread safe. One solution is to use multiple instances of `renderServer` with re-usable object pools. I am using `org.apache.commons.pool2.impl.SoftReferenceObjectPool`, which seems to be performing well for my use case.","title":"Should I use a separate ScriptEngine and CompiledScript instances per each thread?","body":"<p>Code sample for @attilla's response</p>\n\n<ol>\n<li><p>my js code is something like this:</p>\n\n<pre><code>\nvar renderServer = function renderServer(server_data) {\n   //your js logic...\n   return html_string.\n}\n</code></pre></li>\n<li><p>java code:</p>\n\n<pre><code>\npublic static void main(String[] args) {\n        String jsFilePath = jsFilePath();\n        String jsonData = jsonData();\n\n<pre><code>    try (InputStreamReader isr = new InputStreamReader(new URL(jsFilePath).openStream())) {\n\n        NashornScriptEngine engine = (NashornScriptEngine) new ScriptEngineManager().getEngineByName(\"nashorn\");\n        CompiledScript compiledScript = engine.compile(isr);\n        Bindings bindings = engine.createBindings();\n\n        compiledScript.eval(bindings);\n\n        ScriptObjectMirror renderServer = (ScriptObjectMirror) bindings.get(\"renderServer\");\n        String html = (String) renderServer.call(null, jsonData);\n        System.out.println(html);\n\n   } catch (Exception e) {\n       e.printStackTrace();\n   }\n}\n</code></pre>\n\n</code></pre></li>\n</ol>\n\n<p>be careful when using <code>renderServer</code> method in multi-threaded environment, since bindings are not thread safe. One solution is to use multiple instances of <code>renderServer</code> with re-usable object pools. I am using <code>org.apache.commons.pool2.impl.SoftReferenceObjectPool</code>, which seems to be performing well for my use case.</p>\n"},{"tags":[],"owner":{"account_id":349015,"reputation":4335,"user_id":4754037,"display_name":"shawn"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1503762974,"creation_date":1503395607,"answer_id":45814410,"question_id":30140103,"body_markdown":"The accepted answer will mislead many people.\r\n\r\nIn short:\r\n\r\n - `NashornScriptEngine` is **NOT** thread-safe\r\n - If you do **NOT** use global bindings, the state-less part **can be** thread-safe\r\n","title":"Should I use a separate ScriptEngine and CompiledScript instances per each thread?","body":"<p>The accepted answer will mislead many people.</p>\n\n<p>In short:</p>\n\n<ul>\n<li><code>NashornScriptEngine</code> is <strong>NOT</strong> thread-safe</li>\n<li>If you do <strong>NOT</strong> use global bindings, the state-less part <strong>can be</strong> thread-safe</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":22518605,"reputation":1,"user_id":16712519,"display_name":"permanentby"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692774808,"creation_date":1692774808,"answer_id":76959076,"question_id":30140103,"body_markdown":"The result of my attempt is that executing the same String script, ScriptEngine is thread-safe, and thread safety issues arise when the script is different.","title":"Should I use a separate ScriptEngine and CompiledScript instances per each thread?","body":"<p>The result of my attempt is that executing the same String script, ScriptEngine is thread-safe, and thread safety issues arise when the script is different.</p>\n"}],"owner":{"account_id":2200176,"reputation":1550,"user_id":1944747,"accept_rate":100,"display_name":"And390"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20762,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":30159424,"answer_count":5,"score":55,"last_activity_date":1692774808,"creation_date":1431175626,"question_id":30140103,"body_markdown":"My program uses Java Scripting API and can eval some scripts concurrently. They don&#39;t use shared script objects, Bindings or Context, but can use same `ScriptEngine` and `CompiledScript` objects. I see that Oracle Nashorn implementation in Java 8 is not multithreaded, `ScriptEngineFactory.getParameter(&#39;THREADING&#39;)` returns `null` about which the documentation says:\r\n&gt; The engine implementation is not thread safe, and cannot be used to\r\n&gt; execute scripts concurrently on multiple threads.\r\n\r\nDoes it mean that I should create a separate instance of `ScriptEngine` for each thread?\r\nBesides, documentation says nothing about `CompiledScript` concurrent usage but:\r\n&gt; Each CompiledScript is associated with a ScriptEngine\r\n\r\nIt can be assumed that `CompiledScript` thread-safety depends on related `ScriptEngine`, i.e. I should use separate `CompiledScript` instance for each thread with Nashorn.\r\n\r\nIf I should, what is the appropriate solution for this (I think very common) case, using `ThreadLocal`, a pool or something else?\r\n\r\n    final String script = &quot;...&quot;;\r\n    final CompiledScript compiled = ((Compilable)scriptEngine).compile(script);\r\n    for (int i=0; i&lt;50; i++) {\r\n        Thread thread = new Thread () {\r\n            public void run() {\r\n                try {\r\n                    scriptEngine.eval(script, new SimpleBindings ());  //is this code thread-safe?\r\n                    compiled.eval(new SimpleBindings ());  //and this?\r\n                }\r\n                catch (Exception e)  {  throw new RuntimeException (e);  }\r\n            }\r\n        };\r\n        threads.start();\r\n    }","title":"Should I use a separate ScriptEngine and CompiledScript instances per each thread?","body":"<p>My program uses Java Scripting API and can eval some scripts concurrently. They don't use shared script objects, Bindings or Context, but can use same <code>ScriptEngine</code> and <code>CompiledScript</code> objects. I see that Oracle Nashorn implementation in Java 8 is not multithreaded, <code>ScriptEngineFactory.getParameter('THREADING')</code> returns <code>null</code> about which the documentation says:</p>\n\n<blockquote>\n  <p>The engine implementation is not thread safe, and cannot be used to\n  execute scripts concurrently on multiple threads.</p>\n</blockquote>\n\n<p>Does it mean that I should create a separate instance of <code>ScriptEngine</code> for each thread?\nBesides, documentation says nothing about <code>CompiledScript</code> concurrent usage but:</p>\n\n<blockquote>\n  <p>Each CompiledScript is associated with a ScriptEngine</p>\n</blockquote>\n\n<p>It can be assumed that <code>CompiledScript</code> thread-safety depends on related <code>ScriptEngine</code>, i.e. I should use separate <code>CompiledScript</code> instance for each thread with Nashorn.</p>\n\n<p>If I should, what is the appropriate solution for this (I think very common) case, using <code>ThreadLocal</code>, a pool or something else?</p>\n\n<pre><code>final String script = \"...\";\nfinal CompiledScript compiled = ((Compilable)scriptEngine).compile(script);\nfor (int i=0; i&lt;50; i++) {\n    Thread thread = new Thread () {\n        public void run() {\n            try {\n                scriptEngine.eval(script, new SimpleBindings ());  //is this code thread-safe?\n                compiled.eval(new SimpleBindings ());  //and this?\n            }\n            catch (Exception e)  {  throw new RuntimeException (e);  }\n        }\n    };\n    threads.start();\n}\n</code></pre>\n"},{"tags":["java","groovy","pdfbox","pdf-form"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1692781294,"post_id":76958883,"comment_id":135669774,"body_markdown":"This is a duplicate of your other question and it has even less info. Here are some examples related to acroform fields https://svn.apache.org/viewvc/pdfbox/branches/2.0/examples/src/main/java/org/apache/pdfbox/examples/interactive/form/","body":"This is a duplicate of your other question and it has even less info. Here are some examples related to acroform fields <a href=\"https://svn.apache.org/viewvc/pdfbox/branches/2.0/examples/src/main/java/org/apache/pdfbox/examples/interactive/form/\" rel=\"nofollow noreferrer\">svn.apache.org/viewvc/pdfbox/branches/2.0/examples/src/main/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1692806984,"post_id":76958883,"comment_id":135675349,"body_markdown":"You just added an annotation. What we really need is the non-flattened form.","body":"You just added an annotation. What we really need is the non-flattened form."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1692807433,"post_id":76958883,"comment_id":135675447,"body_markdown":"If you can&#39;t get the non flattened doc, then read this: https://stackoverflow.com/questions/36449776/pdfbox-2-0-0-write-text-at-given-postion-in-a-page","body":"If you can&#39;t get the non flattened doc, then read this: <a href=\"https://stackoverflow.com/questions/36449776/pdfbox-2-0-0-write-text-at-given-postion-in-a-page\" title=\"pdfbox 2 0 0 write text at given postion in a page\">stackoverflow.com/questions/36449776/&hellip;</a>"},{"owner":{"account_id":14001871,"reputation":87,"user_id":10113226,"display_name":"Kraken"},"score":0,"creation_date":1692841795,"post_id":76958883,"comment_id":135680066,"body_markdown":"how do i can convert from flattened form to non-flattened form? @TilmanHausherr","body":"how do i can convert from flattened form to non-flattened form? @TilmanHausherr"}],"owner":{"account_id":14001871,"reputation":87,"user_id":10113226,"display_name":"Kraken"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1692813442,"answer_count":0,"score":0,"last_activity_date":1692774147,"creation_date":1692772966,"question_id":76958883,"body_markdown":"Content stream through I wants to show &quot;X&quot; text in the rectangle (the rectangle is from form pdf as default), but the rectangle cover the &quot;X&quot; like this\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/p20Pa.png\r\n\r\n\r\nI try to get the text &quot;X&quot; in a rectangle in using this code but the rectangle covers the text.\r\n\r\n \r\n\r\n     contentStream.setNonStrokingColor(0)\r\n     contentStream.beginText()\r\n     contentStream.newLineAtOffset(104, 390)\r\n     contentStream.setNonStrokingColor(0, 0, 0)\r\n     contentStream.showText(&quot;X&quot;)\r\n     contentStream.endText()","title":"How to put text in rectangle using pdfbox and java/groovy","body":"<p>Content stream through I wants to show &quot;X&quot; text in the rectangle (the rectangle is from form pdf as default), but the rectangle cover the &quot;X&quot; like this</p>\n<p><a href=\"https://i.stack.imgur.com/p20Pa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p20Pa.png\" alt=\"enter image description here\" /></a></p>\n<p>I try to get the text &quot;X&quot; in a rectangle in using this code but the rectangle covers the text.</p>\n<pre><code> contentStream.setNonStrokingColor(0)\n contentStream.beginText()\n contentStream.newLineAtOffset(104, 390)\n contentStream.setNonStrokingColor(0, 0, 0)\n contentStream.showText(&quot;X&quot;)\n contentStream.endText()\n</code></pre>\n"},{"tags":["java","project-reactor"],"comments":[{"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"score":0,"creation_date":1692718643,"post_id":76947498,"comment_id":135661238,"body_markdown":"would you please add an example , so we could have an idea of what you expect to see and what not?","body":"would you please add an example , so we could have an idea of what you expect to see and what not?"}],"answers":[{"tags":[],"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692648904,"creation_date":1692648904,"answer_id":76948472,"question_id":76947498,"body_markdown":"Based on your explanation it should be just:\r\n\r\n    return myService.getAllDogs()\r\n        .flatMap(dogReactRepo::findByName, 1)\r\n        .next()\r\n\r\nBecause `flatMap` makes multiple subscriptions in parallels it&#39;s better to limit it by setting `1` for concurrency, because you always know you don&#39;t need more that one. Otherwise you can skip it, though it may cause unnecessary queries.","title":"reactor iterate flux until not empty","body":"<p>Based on your explanation it should be just:</p>\n<pre><code>return myService.getAllDogs()\n    .flatMap(dogReactRepo::findByName, 1)\n    .next()\n</code></pre>\n<p>Because <code>flatMap</code> makes multiple subscriptions in parallels it's better to limit it by setting <code>1</code> for concurrency, because you always know you don't need more that one. Otherwise you can skip it, though it may cause unnecessary queries.</p>\n"}],"owner":{"account_id":28314740,"reputation":11,"user_id":21651480,"display_name":"testtt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692774118,"creation_date":1692638746,"question_id":76947498,"body_markdown":"I&#39;ve reactor flux with string values, I iterate by each value and check if given value exists in database.\r\nI&#39;d like to iterate over each value until I find the one in database.\r\nIf not found (after all iterations) I&#39;d like to return Mono empty.\r\nRight now I&#39;m getting Mono empty after one iteration even if my alldogs flux contains 3 values.\r\n\r\nInfo: I put dog name inside reactor context, because it&#39;s used by repository.\r\n\r\nHere is the code block of my function:\r\n\r\n```\r\n        return myService.getAllDogs()\r\n                .flatMap(dogName -&gt; Mono.deferContextual(Mono::just)\r\n                        .contextWrite(ctx -&gt; ctx.put(DOG_KEY, dogName))\r\n                )\r\n                .then(dogReactRepo.findByName(name))\r\n              \r\n      \r\n```\r\n","title":"reactor iterate flux until not empty","body":"<p>I've reactor flux with string values, I iterate by each value and check if given value exists in database.\nI'd like to iterate over each value until I find the one in database.\nIf not found (after all iterations) I'd like to return Mono empty.\nRight now I'm getting Mono empty after one iteration even if my alldogs flux contains 3 values.</p>\n<p>Info: I put dog name inside reactor context, because it's used by repository.</p>\n<p>Here is the code block of my function:</p>\n<pre><code>        return myService.getAllDogs()\n                .flatMap(dogName -&gt; Mono.deferContextual(Mono::just)\n                        .contextWrite(ctx -&gt; ctx.put(DOG_KEY, dogName))\n                )\n                .then(dogReactRepo.findByName(name))\n              \n      \n</code></pre>\n"},{"tags":["java","android","android-studio","buildconfig"],"answers":[{"tags":[],"owner":{"account_id":19170335,"reputation":1683,"user_id":14004200,"display_name":"Sadegh J"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595963493,"creation_date":1595961340,"answer_id":63140697,"question_id":63140412,"body_markdown":"use : Build -&gt; Clean Project and then File -&gt; Invalidate Caches / Restart. and then build your App on smartphone or emulator. \r\n\r\nEDIT : \r\nif it does&#39;t work, create a new project and copy your classes and codes in that!\r\n\r\n","title":"I am not getting FLAVOR string in BuildConfig , it is Missing in BuildConfig in Android Studio","body":"<p>use : Build -&gt; Clean Project and then File -&gt; Invalidate Caches / Restart. and then build your App on smartphone or emulator.</p>\n<p>EDIT :\nif it does't work, create a new project and copy your classes and codes in that!</p>\n"},{"tags":[],"owner":{"account_id":5346073,"reputation":1082,"user_id":4261600,"accept_rate":100,"display_name":"6rchid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692773749,"creation_date":1692773749,"answer_id":76958973,"question_id":63140412,"body_markdown":"Include this in the build.gradle of the module you want to show the FLAVOR string:\r\n\r\n```\r\nandroid {\r\n\tproductFlavors {\r\n\t\tflavorDimensions &quot;name&quot;\r\n\t\tmyFlavorName {\r\n\t\t    dimension &quot;name&quot;\r\n\t\t    buildConfigField &#39;boolean&#39;, &#39;flavorVariable1&#39;, &#39;false&#39;\r\n\t\t    buildConfigField &#39;String&#39;, &#39;flavorVariable2&#39;, &#39;&quot;hello world&quot;&#39;\r\n\t\t    buildConfigField &#39;String&#39;, &#39;flavorVariable3&#39;, &#39;&quot;foo&quot;&#39;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n","title":"I am not getting FLAVOR string in BuildConfig , it is Missing in BuildConfig in Android Studio","body":"<p>Include this in the build.gradle of the module you want to show the FLAVOR string:</p>\n<pre><code>android {\n    productFlavors {\n        flavorDimensions &quot;name&quot;\n        myFlavorName {\n            dimension &quot;name&quot;\n            buildConfigField 'boolean', 'flavorVariable1', 'false'\n            buildConfigField 'String', 'flavorVariable2', '&quot;hello world&quot;'\n            buildConfigField 'String', 'flavorVariable3', '&quot;foo&quot;'\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4997517,"reputation":592,"user_id":4964308,"accept_rate":33,"display_name":"anwar alam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1702,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1692773749,"creation_date":1595960205,"question_id":63140412,"body_markdown":"     How to generate the missing one ? public static final String FLAVOR = &quot;&quot;;`\r\n  Missing FLAVOR  in BuildConfig in Android Studio.It should be like this \r\n\r\n    public final class BuildConfig {\r\n      public static final boolean DEBUG = Boolean.parseBoolean(&quot;true&quot;);\r\n      public static final String APPLICATION_ID = &quot;com.arkam.konk.look&quot;;\r\n      public static final String BUILD_TYPE = &quot;debug&quot;;\r\n      public static final String FLAVOR = &quot;&quot;;\r\n      public static final int VERSION_CODE = 1;\r\n      public static final String VERSION_NAME = &quot;1.0.0&quot;;\r\n    }\r\n\r\nBut in my case getting like without this one `   public static final String FLAVOR = &quot;&quot;;`\r\n\r\n    public final class BuildConfig {\r\n      public static final boolean DEBUG = Boolean.parseBoolean(&quot;true&quot;);\r\n      public static final String APPLICATION_ID = &quot;com.arkam.konk.look&quot;;\r\n      public static final String BUILD_TYPE = &quot;debug&quot;;\r\n      public static final int VERSION_CODE = 1;\r\n      public static final String VERSION_NAME = &quot;1.0.0&quot;;}\r\n\r\nHow to generate the missing one ???\r\n","title":"I am not getting FLAVOR string in BuildConfig , it is Missing in BuildConfig in Android Studio","body":"<pre><code> How to generate the missing one ? public static final String FLAVOR = &quot;&quot;;`\n</code></pre>\n<p>Missing FLAVOR  in BuildConfig in Android Studio.It should be like this</p>\n<pre><code>public final class BuildConfig {\n  public static final boolean DEBUG = Boolean.parseBoolean(&quot;true&quot;);\n  public static final String APPLICATION_ID = &quot;com.arkam.konk.look&quot;;\n  public static final String BUILD_TYPE = &quot;debug&quot;;\n  public static final String FLAVOR = &quot;&quot;;\n  public static final int VERSION_CODE = 1;\n  public static final String VERSION_NAME = &quot;1.0.0&quot;;\n}\n</code></pre>\n<p>But in my case getting like without this one <code>   public static final String FLAVOR = &quot;&quot;;</code></p>\n<pre><code>public final class BuildConfig {\n  public static final boolean DEBUG = Boolean.parseBoolean(&quot;true&quot;);\n  public static final String APPLICATION_ID = &quot;com.arkam.konk.look&quot;;\n  public static final String BUILD_TYPE = &quot;debug&quot;;\n  public static final int VERSION_CODE = 1;\n  public static final String VERSION_NAME = &quot;1.0.0&quot;;}\n</code></pre>\n<p>How to generate the missing one ???</p>\n"},{"tags":["java","arraylist","shuffle"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":2,"creation_date":1692562535,"post_id":76941140,"comment_id":135636893,"body_markdown":"Try it and see for yourself, esp.since the answer may depend on the details of your particular heavy object.","body":"Try it and see for yourself, esp.since the answer may depend on the details of your particular heavy object."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1692563410,"post_id":76941140,"comment_id":135636981,"body_markdown":"Is it OK if the random list has duplicates?","body":"Is it OK if the random list has duplicates?"},{"owner":{"account_id":4833528,"reputation":1195,"user_id":3901029,"accept_rate":88,"display_name":"F.S."},"score":0,"creation_date":1692564348,"post_id":76941140,"comment_id":135637063,"body_markdown":"@Bohemian I&#39;m curious about shuffling behavior in general. For my particular use case, I don&#39;t want duplicates in random selection","body":"@Bohemian I&#39;m curious about shuffling behavior in general. For my particular use case, I don&#39;t want duplicates in random selection"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1692570894,"post_id":76941140,"comment_id":135637685,"body_markdown":"If duplicates are not allowed, then shuffle + subList is the simplest and in the general case most efficient. If the number of elements is small compared to the original list, direct random selection with retry on duplicate will be probabilistically faster.","body":"If duplicates are not allowed, then shuffle + subList is the simplest and in the general case most efficient. If the number of elements is small compared to the original list, direct random selection with retry on duplicate will be probabilistically faster."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1692624166,"post_id":76941140,"comment_id":135644839,"body_markdown":"@F.S there is no need to shuffle the entire list.  Regarding duplicates, what if there are duplicates in the source list?  Note that the time involved should be dependent only on the number items removed, not the size of the source list.  For details see my answer below.  If I misunderstood your requirement, please let me know.","body":"@F.S there is no need to shuffle the entire list.  Regarding duplicates, what if there are duplicates in the source list?  Note that the time involved should be dependent only on the number items removed, not the size of the source list.  For details see my answer below.  If I misunderstood your requirement, please let me know."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1692566108,"creation_date":1692562969,"answer_id":76941190,"question_id":76941140,"body_markdown":"# Type of object irrelevant to shuffling\r\n\r\nNo difference. \r\n\r\nA `List` is a collection of [*references*][1] ([pointers][2], essentially), not objects. Each element of the list is a reference, think of it as an address in memory where the object lives. That reference implicitly takes you to the object&#39;s contents. So we conveniently think of the list as containing objects despite that not quite being accurate.\r\n\r\nSo shuffling a `List&lt;MyObject&gt;` and shuffling a `List&lt;Integer&gt;` do the very same kind of work. Both shuffle a collection of object references, not objects. The objects never moved, they live at the same memory address they always did. References to `MyObject` objects, and references to `Integer` objects, are the same, both references. \r\n\r\nA reference to a `MyObject` object is exactly the same kind and size as a reference to `Integer` object. Their exact nature is an implementation detail of your particular [JVM][3], but you can think of the references as both being a long integer containing the memory address where the object lives. \r\n\r\n&gt; shuffling a list of heavy vs light weight objects \r\n\r\nThe size and complexity of the `MyObject` class and `Integer` class are irrelevant to shuffling a `List`. \r\n\r\nHere is a diagram depicting a list of object references, before and after shuffling. The size/complexity of the objects on the right, the 3-dimensional boxes, is irrelevant to the moving of the references contained in the list on the left.\r\n\r\n[![diagram of list of references before and after shuffle][4]][4]\r\n\r\n# Producing a new list\r\n\r\nYou said:\r\n\r\n&gt; I need to return the random selection in a new list while also removing them from the original list.\r\n\r\nFirst, producing a new shuffled list. \r\n\r\n```java\r\nList &lt; String &gt; names = new ArrayList &lt;&gt; ( List.of ( &quot;Alice&quot; , &quot;Bob&quot; , &quot;Carol&quot; , &quot;Davis&quot; , &quot;Edith&quot; , &quot;Frank&quot; , &quot;Georgette&quot; ) );\r\nCollections.shuffle ( names );\r\n\r\nList &lt; String &gt; fewNames = List.copyOf ( names.subList ( 0 , 3 ) );\r\n```\r\n\r\n&gt;names = [Bob, Edith, Georgette, Davis, Carol, Alice, Frank]\r\n&gt;\r\n&gt;fewNames = [Bob, Edith, Georgette]\r\n\r\nSecondly, effectively remove the excluded names in the original list by merely replacing the reference.\r\n\r\n    names = fewNames ;  // Effectively removes the excluded elements.\r\n\r\nIf the first, longer list is not held by any other references, that list object becomes a candidate for garbage collection, and eventually will be removed from memory.\r\n\r\nIf you *really* want to eliminate elements from the first longer list itself, [retain][5] the subset of elements.\r\n\r\n    boolean listChanged = names.retainAll( fewNames ) ;\r\n\r\nSee also the [many existing Questions and Answers][6].\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Reference_(computer_science)\r\n  [2]: https://en.wikipedia.org/wiki/Pointer_(computer_programming)\r\n  [3]: https://en.wikipedia.org/wiki/Java_virtual_machine\r\n  [4]: https://i.stack.imgur.com/HGuPT.png\r\n  [5]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#retainAll(java.util.Collection)\r\n  [6]: https://www.ecosia.org/search?tts=st_asaf_macos&amp;q=java%20remove%20elements%20from%20list%20based%20on%20another%20list%20site%3Astackoverflow.com","title":"Random pick elements from ArrayList","body":"<h1>Type of object irrelevant to shuffling</h1>\n<p>No difference.</p>\n<p>A <code>List</code> is a collection of <a href=\"https://en.wikipedia.org/wiki/Reference_(computer_science)\" rel=\"noreferrer\"><em>references</em></a> (<a href=\"https://en.wikipedia.org/wiki/Pointer_(computer_programming)\" rel=\"noreferrer\">pointers</a>, essentially), not objects. Each element of the list is a reference, think of it as an address in memory where the object lives. That reference implicitly takes you to the object's contents. So we conveniently think of the list as containing objects despite that not quite being accurate.</p>\n<p>So shuffling a <code>List&lt;MyObject&gt;</code> and shuffling a <code>List&lt;Integer&gt;</code> do the very same kind of work. Both shuffle a collection of object references, not objects. The objects never moved, they live at the same memory address they always did. References to <code>MyObject</code> objects, and references to <code>Integer</code> objects, are the same, both references.</p>\n<p>A reference to a <code>MyObject</code> object is exactly the same kind and size as a reference to <code>Integer</code> object. Their exact nature is an implementation detail of your particular <a href=\"https://en.wikipedia.org/wiki/Java_virtual_machine\" rel=\"noreferrer\">JVM</a>, but you can think of the references as both being a long integer containing the memory address where the object lives.</p>\n<blockquote>\n<p>shuffling a list of heavy vs light weight objects</p>\n</blockquote>\n<p>The size and complexity of the <code>MyObject</code> class and <code>Integer</code> class are irrelevant to shuffling a <code>List</code>.</p>\n<p>Here is a diagram depicting a list of object references, before and after shuffling. The size/complexity of the objects on the right, the 3-dimensional boxes, is irrelevant to the moving of the references contained in the list on the left.</p>\n<p><a href=\"https://i.stack.imgur.com/HGuPT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/HGuPT.png\" alt=\"diagram of list of references before and after shuffle\" /></a></p>\n<h1>Producing a new list</h1>\n<p>You said:</p>\n<blockquote>\n<p>I need to return the random selection in a new list while also removing them from the original list.</p>\n</blockquote>\n<p>First, producing a new shuffled list.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; String &gt; names = new ArrayList &lt;&gt; ( List.of ( &quot;Alice&quot; , &quot;Bob&quot; , &quot;Carol&quot; , &quot;Davis&quot; , &quot;Edith&quot; , &quot;Frank&quot; , &quot;Georgette&quot; ) );\nCollections.shuffle ( names );\n\nList &lt; String &gt; fewNames = List.copyOf ( names.subList ( 0 , 3 ) );\n</code></pre>\n<blockquote>\n<p>names = [Bob, Edith, Georgette, Davis, Carol, Alice, Frank]</p>\n<p>fewNames = [Bob, Edith, Georgette]</p>\n</blockquote>\n<p>Secondly, effectively remove the excluded names in the original list by merely replacing the reference.</p>\n<pre><code>names = fewNames ;  // Effectively removes the excluded elements.\n</code></pre>\n<p>If the first, longer list is not held by any other references, that list object becomes a candidate for garbage collection, and eventually will be removed from memory.</p>\n<p>If you <em>really</em> want to eliminate elements from the first longer list itself, <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#retainAll(java.util.Collection)\" rel=\"noreferrer\">retain</a> the subset of elements.</p>\n<pre><code>boolean listChanged = names.retainAll( fewNames ) ;\n</code></pre>\n<p>See also the <a href=\"https://www.ecosia.org/search?tts=st_asaf_macos&amp;q=java%20remove%20elements%20from%20list%20based%20on%20another%20list%20site%3Astackoverflow.com\" rel=\"noreferrer\">many existing Questions and Answers</a>.</p>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1692566697,"creation_date":1692566697,"answer_id":76941396,"question_id":76941140,"body_markdown":"Assuming N is very small compared to the size of the list, but at most the same size, you can combine the generation of random indexes to remove and the removal of objects from the original list in one step without creating an additional intermediate list. \r\n\r\nI think this is better than shuffling the original list especially if it has a lot of entries and in comparison N is significantly smaller. Example using Strings:\r\n\r\n    int N = 3;\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;(List.of(&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;, &quot;doo&quot;, &quot;xyz&quot;));\r\n\r\n    System.out.println(&quot;original list:\\n&quot; + list);\r\n\r\n    Random random = new Random();\r\n    List&lt;String&gt; removed = random.ints(0, list.size())\r\n                                 .distinct()\r\n                                 .limit(N)\r\n                                 .boxed()\r\n                                 .sorted(Comparator.reverseOrder())\r\n                                 .mapToInt(Integer::intValue)\r\n                                 .mapToObj(list::remove)\r\n                                 .toList();\r\n\r\n    System.out.println(&quot;removed list:\\n&quot; + removed);\r\n    System.out.println(&quot;list after removing N random elements:\\n&quot; + list);","title":"Random pick elements from ArrayList","body":"<p>Assuming N is very small compared to the size of the list, but at most the same size, you can combine the generation of random indexes to remove and the removal of objects from the original list in one step without creating an additional intermediate list.</p>\n<p>I think this is better than shuffling the original list especially if it has a lot of entries and in comparison N is significantly smaller. Example using Strings:</p>\n<pre><code>int N = 3;\nList&lt;String&gt; list = new ArrayList&lt;&gt;(List.of(&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;, &quot;doo&quot;, &quot;xyz&quot;));\n\nSystem.out.println(&quot;original list:\\n&quot; + list);\n\nRandom random = new Random();\nList&lt;String&gt; removed = random.ints(0, list.size())\n                             .distinct()\n                             .limit(N)\n                             .boxed()\n                             .sorted(Comparator.reverseOrder())\n                             .mapToInt(Integer::intValue)\n                             .mapToObj(list::remove)\n                             .toList();\n\nSystem.out.println(&quot;removed list:\\n&quot; + removed);\nSystem.out.println(&quot;list after removing N random elements:\\n&quot; + list);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692625936,"creation_date":1692576591,"answer_id":76941775,"question_id":76941140,"body_markdown":"First, as so eloquently answered by [Basil Bourque](https://stackoverflow.com/posts/76941190/timeline), shuffling doesn&#39;t depend on the complexity of an object or even a primitive.  Objects are stored as references which are in fact ints which &quot;point&quot; or &quot;refer&quot; to their location in memory.  Since shuffling is simply moving objects around, you are simply moving their references.\r\n \r\nBut here is a relatively efficient way to do what you want.\r\n\r\nThis works equally well for all list sizes and types, is very efficient, and requires no shuffling of the entire list. The overall efficiency is based on the number of items to be removed. Duplicates will never appear unless there are duplicates in the source list.\r\n\r\nIt has the advantages of using what I refer to as a &quot;`partial shuffle`&quot; to reposition the last element to the index of the one just selected and then removes the last element (per your stated requirement).\r\n\r\n**Generate the source list**\r\n```\r\nList&lt;Integer&gt; listInts = new ArrayList&lt;&gt;(IntStream\r\n                .rangeClosed(1, 30).boxed().toList());\r\n```\r\n**Now the algorithm**\r\n- iterate thru the removal count\r\n- generate a random number within the list&#39;s range.\r\n- add the `selected` item to the `removed` list\r\n- copy the last item in the `list` to the selected item&#39;s spot.\r\n- then remove the last item (this is very fast since no internal repositioning of the list is required).\r\n```\r\npublic static &lt;T&gt;  List&lt;T&gt; getRandomSelections(List&lt;T&gt; sourceList, int sizeOfSublist) {\r\n    List&lt;T&gt; removed = new ArrayList&lt;&gt;();\r\n    Random r = new Random();\r\n    int size = sourceList.size();\r\n    for (int i = 0; i &lt; sizeOfSublist; i++) {\r\n        int selection = r.nextInt(0, size);\r\n        removed.add(sourceList.get(selection));\r\n        sourceList.set(selection, sourceList.get(--size));\r\n        sourceList.remove(size);\r\n    }\r\n    return removed;\r\n}\r\n```\r\n**Demo**\r\n```\r\nList&lt;Integer&gt; removedInts = getRandomSelections(listInts, 10);\r\nSystem.out.println(&quot;removedInts:   &quot; + removed);\r\nSystem.out.println(&quot;remainingInts: &quot;+ list);\r\n```\r\nNow the `removed` list contains the desired items and the original `list` contains the `remaining` items.\r\n\r\nHere is one using words.\r\n```\r\nList&lt;String&gt; listWords = new ArrayList&lt;&gt;(List.of(&quot;to&quot;, &quot;be&quot;, &quot;or&quot;, &quot;not&quot;,\r\n        &quot;to&quot;, &quot;be&quot;, &quot;that&quot;, &quot;is&quot;, &quot;the&quot;, &quot;question&quot;));\r\nList&lt;String&gt; removedWords = getRandomSelections(listWords, 5);\r\n\r\nSystem.out.println(&quot;removedWords:   &quot; +removedWords);\r\nSystem.out.println(&quot;remainingWords: &quot; + listWords);\r\n\r\n```\r\nprints something like\r\n```\r\nremovedInts:   [19, 16, 26, 1, 12, 15, 5, 13, 21, 9]\r\nremainingInts: [27, 2, 3, 4, 24, 6, 7, 8, 22, 10, 11, 28, 23, 14, 25, 29, 17, 18, 30, 20]\r\nremovedWords:   [question, or, is, to, to]\r\nremainingWords: [that, be, the, not, be]\r\n\r\n```\r\n","title":"Random pick elements from ArrayList","body":"<p>First, as so eloquently answered by <a href=\"https://stackoverflow.com/posts/76941190/timeline\">Basil Bourque</a>, shuffling doesn't depend on the complexity of an object or even a primitive.  Objects are stored as references which are in fact ints which &quot;point&quot; or &quot;refer&quot; to their location in memory.  Since shuffling is simply moving objects around, you are simply moving their references.</p>\n<p>But here is a relatively efficient way to do what you want.</p>\n<p>This works equally well for all list sizes and types, is very efficient, and requires no shuffling of the entire list. The overall efficiency is based on the number of items to be removed. Duplicates will never appear unless there are duplicates in the source list.</p>\n<p>It has the advantages of using what I refer to as a &quot;<code>partial shuffle</code>&quot; to reposition the last element to the index of the one just selected and then removes the last element (per your stated requirement).</p>\n<p><strong>Generate the source list</strong></p>\n<pre><code>List&lt;Integer&gt; listInts = new ArrayList&lt;&gt;(IntStream\n                .rangeClosed(1, 30).boxed().toList());\n</code></pre>\n<p><strong>Now the algorithm</strong></p>\n<ul>\n<li>iterate thru the removal count</li>\n<li>generate a random number within the list's range.</li>\n<li>add the <code>selected</code> item to the <code>removed</code> list</li>\n<li>copy the last item in the <code>list</code> to the selected item's spot.</li>\n<li>then remove the last item (this is very fast since no internal repositioning of the list is required).</li>\n</ul>\n<pre><code>public static &lt;T&gt;  List&lt;T&gt; getRandomSelections(List&lt;T&gt; sourceList, int sizeOfSublist) {\n    List&lt;T&gt; removed = new ArrayList&lt;&gt;();\n    Random r = new Random();\n    int size = sourceList.size();\n    for (int i = 0; i &lt; sizeOfSublist; i++) {\n        int selection = r.nextInt(0, size);\n        removed.add(sourceList.get(selection));\n        sourceList.set(selection, sourceList.get(--size));\n        sourceList.remove(size);\n    }\n    return removed;\n}\n</code></pre>\n<p><strong>Demo</strong></p>\n<pre><code>List&lt;Integer&gt; removedInts = getRandomSelections(listInts, 10);\nSystem.out.println(&quot;removedInts:   &quot; + removed);\nSystem.out.println(&quot;remainingInts: &quot;+ list);\n</code></pre>\n<p>Now the <code>removed</code> list contains the desired items and the original <code>list</code> contains the <code>remaining</code> items.</p>\n<p>Here is one using words.</p>\n<pre><code>List&lt;String&gt; listWords = new ArrayList&lt;&gt;(List.of(&quot;to&quot;, &quot;be&quot;, &quot;or&quot;, &quot;not&quot;,\n        &quot;to&quot;, &quot;be&quot;, &quot;that&quot;, &quot;is&quot;, &quot;the&quot;, &quot;question&quot;));\nList&lt;String&gt; removedWords = getRandomSelections(listWords, 5);\n\nSystem.out.println(&quot;removedWords:   &quot; +removedWords);\nSystem.out.println(&quot;remainingWords: &quot; + listWords);\n\n</code></pre>\n<p>prints something like</p>\n<pre><code>removedInts:   [19, 16, 26, 1, 12, 15, 5, 13, 21, 9]\nremainingInts: [27, 2, 3, 4, 24, 6, 7, 8, 22, 10, 11, 28, 23, 14, 25, 29, 17, 18, 30, 20]\nremovedWords:   [question, or, is, to, to]\nremainingWords: [that, be, the, not, be]\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692773673,"creation_date":1692654730,"answer_id":76948908,"question_id":76941140,"body_markdown":"Generating a list of indices will be much faster than first loading a list of objects.\r\n\r\nWhen you are creating the list of objects, you can skip over the indices that weren&#39;t randomly selected.\r\n\r\nHere is an example with 10 values, from a size of 100.  \r\nThe _while_ loop is used to generate non-duplicate values.\r\n\r\n```java\r\nRandom random = new Random();\r\nList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\nfor (int count = 0, value; count &lt; 10; count++) {\r\n    while (list.contains(value = random.nextInt(100)));\r\n    list.add(value);\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n[26, 22, 46, 51, 64, 78, 8, 83, 24, 23]\r\n```\r\n\r\n&gt; _&quot;... is there meaningful performance difference in shuffling a list of heavy vs light weight objects in Java? ...&quot;_\r\n\r\nFor shuffling, it just changes the indices of the objects, so that wouldn&#39;t impact the performance.  \r\nHere is the _OpenJDK_ source for _[Collections#swap](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Collections.java#L520)_, which is used by _[Collections#shuffle](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Collections.java#L482)_.\r\n\r\n```java\r\npublic static void swap(List&lt;?&gt; list, int i, int j) {\r\n    // instead of using a raw type here, it&#39;s possible to capture\r\n    // the wildcard but it will require a call to a supplementary\r\n    // private method\r\n    final List l = list;\r\n    l.set(i, l.set(j, l.get(i)));\r\n}\r\n```","title":"Random pick elements from ArrayList","body":"<p>Generating a list of indices will be much faster than first loading a list of objects.</p>\n<p>When you are creating the list of objects, you can skip over the indices that weren't randomly selected.</p>\n<p>Here is an example with 10 values, from a size of 100.<br />\nThe <em>while</em> loop is used to generate non-duplicate values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Random random = new Random();\nList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\nfor (int count = 0, value; count &lt; 10; count++) {\n    while (list.contains(value = random.nextInt(100)));\n    list.add(value);\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[26, 22, 46, 51, 64, 78, 8, 83, 24, 23]\n</code></pre>\n<blockquote>\n<p><em>&quot;... is there meaningful performance difference in shuffling a list of heavy vs light weight objects in Java? ...&quot;</em></p>\n</blockquote>\n<p>For shuffling, it just changes the indices of the objects, so that wouldn't impact the performance.<br />\nHere is the <em>OpenJDK</em> source for <em><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Collections.java#L520\" rel=\"nofollow noreferrer\">Collections#swap</a></em>, which is used by <em><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Collections.java#L482\" rel=\"nofollow noreferrer\">Collections#shuffle</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void swap(List&lt;?&gt; list, int i, int j) {\n    // instead of using a raw type here, it's possible to capture\n    // the wildcard but it will require a call to a supplementary\n    // private method\n    final List l = list;\n    l.set(i, l.set(j, l.get(i)));\n}\n</code></pre>\n"}],"owner":{"account_id":4833528,"reputation":1195,"user_id":3901029,"accept_rate":88,"display_name":"F.S."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76941190,"answer_count":4,"score":0,"last_activity_date":1692773673,"creation_date":1692562037,"question_id":76941140,"body_markdown":"I need to pick N random elements from an `List&lt;MyObject&gt; objects`. `MyObject` is a complex class object. I could easily `Collections.shuffle(objects)`, and get a sublist of size N. \r\n\r\nBut then a thought came to me. Will it improve performance if I create a `List&lt;Integer&gt; indexes` = [0, N-1], shuffle this index array instead, get a sublist, and use it to get elements from the original list?\r\n\r\nMy question boils down to: is there meaningful performance difference in shuffling a list of heavy vs light weight objects in Java?\r\n\r\n---\r\nps: If it matters, I need to return the random selection in a new list while also removing them from the original list.\r\n\r\n ","title":"Random pick elements from ArrayList","body":"<p>I need to pick N random elements from an <code>List&lt;MyObject&gt; objects</code>. <code>MyObject</code> is a complex class object. I could easily <code>Collections.shuffle(objects)</code>, and get a sublist of size N.</p>\n<p>But then a thought came to me. Will it improve performance if I create a <code>List&lt;Integer&gt; indexes</code> = [0, N-1], shuffle this index array instead, get a sublist, and use it to get elements from the original list?</p>\n<p>My question boils down to: is there meaningful performance difference in shuffling a list of heavy vs light weight objects in Java?</p>\n<hr />\n<p>ps: If it matters, I need to return the random selection in a new list while also removing them from the original list.</p>\n"},{"tags":["python","java","raspberry-pi","jvm","jaydebeapi"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1692792383,"post_id":76958940,"comment_id":135671938,"body_markdown":"Does this answer your question? [Raspberry pi No module named &#39;cx\\_Oracle&#39;](https://stackoverflow.com/questions/54824962/raspberry-pi-no-module-named-cx-oracle). It doesn&#39;t seem Java should be needed for accessing Oracle DB with Python from a Raspberry Pi.","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/54824962/raspberry-pi-no-module-named-cx-oracle\">Raspberry pi No module named &#39;cx_Oracle&#39;</a>. It doesn&#39;t seem Java should be needed for accessing Oracle DB with Python from a Raspberry Pi."},{"owner":{"account_id":29150328,"reputation":1,"user_id":22331322,"display_name":"BiBi"},"score":0,"creation_date":1692846660,"post_id":76958940,"comment_id":135680411,"body_markdown":"@aled I have to use ARM32 but oracle has no module for arm32. so I can use only jaydebeapi.","body":"@aled I have to use ARM32 but oracle has no module for arm32. so I can use only jaydebeapi."}],"owner":{"account_id":29150328,"reputation":1,"user_id":22331322,"display_name":"BiBi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692773419,"creation_date":1692773419,"question_id":76958940,"body_markdown":"I&#39;m using Python on Raspberry Pi. And I&#39;m using JDBC to connect to the Oracle database. The problem is that sometimes the thread shuts down while I&#39;m connecting to JDBC. \r\n\r\n\r\n```\r\n    conn = jaydebeapi.connect(&quot;oracle.jdbc.driver.OracleDriver&quot;, dsn, [user, password], jdbc_path)\r\n    period = (time.time() - start_time)\r\n    self.logger.debug(&quot;conn_period: &quot; + str(period))\r\n    print(&quot;conn_period: &quot; + str(period))\r\n\r\n```\r\nAfter jaydebeapi.connect, I can&#39;t get debug log &quot;conn_period&quot; sometimes.\r\n\r\n\r\n\r\nI think in jadebeapi it&#39;s stuck in an infinite loop. Because I didn&#39;t get any errors in the try exception syntax.\r\nThere is no other way than jaydebeapi so I want to know how to solve this problem.\r\nIs there a case where jaydebeapi has this similar problem?","title":"Python thread was stop after jaydebeapi.connect","body":"<p>I'm using Python on Raspberry Pi. And I'm using JDBC to connect to the Oracle database. The problem is that sometimes the thread shuts down while I'm connecting to JDBC.</p>\n<pre><code>    conn = jaydebeapi.connect(&quot;oracle.jdbc.driver.OracleDriver&quot;, dsn, [user, password], jdbc_path)\n    period = (time.time() - start_time)\n    self.logger.debug(&quot;conn_period: &quot; + str(period))\n    print(&quot;conn_period: &quot; + str(period))\n\n</code></pre>\n<p>After jaydebeapi.connect, I can't get debug log &quot;conn_period&quot; sometimes.</p>\n<p>I think in jadebeapi it's stuck in an infinite loop. Because I didn't get any errors in the try exception syntax.\nThere is no other way than jaydebeapi so I want to know how to solve this problem.\nIs there a case where jaydebeapi has this similar problem?</p>\n"},{"tags":["java","windows","intune","scep"],"owner":{"account_id":5310766,"reputation":11,"user_id":4237192,"display_name":"Thomas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692772981,"creation_date":1692772981,"question_id":76958887,"body_markdown":"I&#39;m using Intune on Windows. Among others there needs to be generated a certificate via the SCEP protocol. Therefore we implemented a SCEP-CA-adapter that implements the SCEP-Server protocol. On syncing Windows, the SCEP process gets triggered.\r\n\r\nThe adapter receives GetCACaps and GetCACert and afterward starts a PKCS_REQ request. So the certification request (containing a valid CSR) starts. But as a result, the adapter first answers using PENDING signaling that the certificate is in the creation process.\r\n\r\nBut the DeviceManagement on Windows instantly stops the process. On analysing the event logs there could only be found the following line:\r\n\r\n```\r\nscep certificate enroll failed. result (the requested property value is empty.)\r\n\r\n```\r\nI don&#39;t know what property the error is referring to.\r\n\r\nWhat&#39;s going wrong, or where I can further find information on the issue? We are kind of stuck.\r\n\r\nThe adapter works fine on apple and android.\r\n\r\nI tried to fill the PENDING reply with SignedData, tried to go through the Windows event logs.\r\n\r\nThanks in advance","title":"Intune problems on Windows","body":"<p>I'm using Intune on Windows. Among others there needs to be generated a certificate via the SCEP protocol. Therefore we implemented a SCEP-CA-adapter that implements the SCEP-Server protocol. On syncing Windows, the SCEP process gets triggered.</p>\n<p>The adapter receives GetCACaps and GetCACert and afterward starts a PKCS_REQ request. So the certification request (containing a valid CSR) starts. But as a result, the adapter first answers using PENDING signaling that the certificate is in the creation process.</p>\n<p>But the DeviceManagement on Windows instantly stops the process. On analysing the event logs there could only be found the following line:</p>\n<pre><code>scep certificate enroll failed. result (the requested property value is empty.)\n\n</code></pre>\n<p>I don't know what property the error is referring to.</p>\n<p>What's going wrong, or where I can further find information on the issue? We are kind of stuck.</p>\n<p>The adapter works fine on apple and android.</p>\n<p>I tried to fill the PENDING reply with SignedData, tried to go through the Windows event logs.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","gradle","bndtools"],"answers":[{"tags":[],"owner":{"account_id":32864,"reputation":9277,"user_id":91497,"accept_rate":67,"display_name":"Jmini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692772375,"creation_date":1692772375,"answer_id":76958827,"question_id":76913886,"body_markdown":"I found a solution to this:\r\n\r\nIn the `test.bndrun` I have:\r\n\r\n```\r\n-runproperties: \\\r\n    osgi.instance.area=area_${randomTimestamp}\r\n```\r\n\r\nAnd in the Gradle Task, I prepare the value `randomTimestamp`:\r\n\r\n```\r\ndef testOSGi = tasks.register(&#39;testOSGi&#39;, aQute.bnd.gradle.TestOSGi) {\r\n    dependsOn resolve\r\n    bundles = files(sourceSets.osgiTest.runtimeClasspath, configurations.archives.artifacts.files)\r\n    bndrun = file(&#39;test.bndrun&#39;)\r\n    properties = [&#39;randomTimestamp&#39;: System.currentTimeMillis()]\r\n}\r\n```","title":"Add a random value for a key in &quot;-runproperties&quot; in a &quot;*.bndrun&quot; file","body":"<p>I found a solution to this:</p>\n<p>In the <code>test.bndrun</code> I have:</p>\n<pre><code>-runproperties: \\\n    osgi.instance.area=area_${randomTimestamp}\n</code></pre>\n<p>And in the Gradle Task, I prepare the value <code>randomTimestamp</code>:</p>\n<pre><code>def testOSGi = tasks.register('testOSGi', aQute.bnd.gradle.TestOSGi) {\n    dependsOn resolve\n    bundles = files(sourceSets.osgiTest.runtimeClasspath, configurations.archives.artifacts.files)\n    bndrun = file('test.bndrun')\n    properties = ['randomTimestamp': System.currentTimeMillis()]\n}\n</code></pre>\n"}],"owner":{"account_id":32864,"reputation":9277,"user_id":91497,"accept_rate":67,"display_name":"Jmini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692772375,"creation_date":1692191290,"question_id":76913886,"body_markdown":"When I am running tests using [`bnd`][1] (from the Bndtools project) through gradle, I would like to set a random value in `test.bndrun`:\r\n\r\n```\r\n-runproperties: \\\r\n    osgi.instance.area=random_value\r\n```\r\n\r\nWhere `random_value` would be something random (like `&quot;area_&quot; + &lt;currentTimeMillis&gt;`).\r\n\r\nIs there a possibility to express that without having a script or a gradle task to modify the `test.bndrun` file?\r\n\r\n\r\n  [1]: https://bnd.bndtools.org/","title":"Add a random value for a key in &quot;-runproperties&quot; in a &quot;*.bndrun&quot; file","body":"<p>When I am running tests using <a href=\"https://bnd.bndtools.org/\" rel=\"nofollow noreferrer\"><code>bnd</code></a> (from the Bndtools project) through gradle, I would like to set a random value in <code>test.bndrun</code>:</p>\n<pre><code>-runproperties: \\\n    osgi.instance.area=random_value\n</code></pre>\n<p>Where <code>random_value</code> would be something random (like <code>&quot;area_&quot; + &lt;currentTimeMillis&gt;</code>).</p>\n<p>Is there a possibility to express that without having a script or a gradle task to modify the <code>test.bndrun</code> file?</p>\n"},{"tags":["java","prometheus","quarkus","metrics","reactive"],"comments":[{"owner":{"account_id":3568344,"reputation":645,"user_id":2979325,"display_name":"Serkan"},"score":1,"creation_date":1692707473,"post_id":76953265,"comment_id":135658285,"body_markdown":"I don&#39;t think you should use Reactive routes anymore, because it lacks features and compatibility with other extensions. Switch to reasteasy reactive instead.","body":"I don&#39;t think you should use Reactive routes anymore, because it lacks features and compatibility with other extensions. Switch to reasteasy reactive instead."}],"answers":[{"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692772313,"creation_date":1692711339,"answer_id":76953863,"question_id":76953265,"body_markdown":"There is currently no integrated metrics support for Reactive Routes. \r\nRESTEasy Reactive on the other hand does provide such an integration (as we as others like tracing) and should be used in almost all cases instead of Reactive Routes.\r\n\r\nI should also add that RESTEasy Reactive is the stack we are focusing on going forward.","title":"How to collect metrics (prometheus ) from Reactive Routes in Quarcus","body":"<p>There is currently no integrated metrics support for Reactive Routes.\nRESTEasy Reactive on the other hand does provide such an integration (as we as others like tracing) and should be used in almost all cases instead of Reactive Routes.</p>\n<p>I should also add that RESTEasy Reactive is the stack we are focusing on going forward.</p>\n"}],"owner":{"account_id":13938264,"reputation":45,"user_id":10064799,"display_name":"Денис Анд"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692772313,"creation_date":1692706851,"question_id":76953265,"body_markdown":"Quarkus version 3.2.3.Final\r\n\r\nI am using reactive routes in quarkus &#39;io.quarkus:quarkus-reactive-routes&#39;\r\n\r\nI am also using promoetheus metrics io.quarkus:quarkus-micrometer-registry-prometheus. \r\n\r\nThe problem is that I do not see my endpoints that are annotated with @Route annotation in my metrics.\r\n\r\nFor example endpoint below:\r\n\r\n    @Route(path = &quot;something&quot;, methods = Route.HttpMethod.GET)\r\n    public void get(RoutingContext routingContext, @Param(LOGIN_CHALLENGE) @NotBlank(message = LOGIN_CHALLENGE + PARAMETER_SHOULD_BE_SET) String challenge) {\r\n        loginService.get(routingContext, challenge);\r\n    }","title":"How to collect metrics (prometheus ) from Reactive Routes in Quarcus","body":"<p>Quarkus version 3.2.3.Final</p>\n<p>I am using reactive routes in quarkus 'io.quarkus:quarkus-reactive-routes'</p>\n<p>I am also using promoetheus metrics io.quarkus:quarkus-micrometer-registry-prometheus.</p>\n<p>The problem is that I do not see my endpoints that are annotated with @Route annotation in my metrics.</p>\n<p>For example endpoint below:</p>\n<pre><code>@Route(path = &quot;something&quot;, methods = Route.HttpMethod.GET)\npublic void get(RoutingContext routingContext, @Param(LOGIN_CHALLENGE) @NotBlank(message = LOGIN_CHALLENGE + PARAMETER_SHOULD_BE_SET) String challenge) {\n    loginService.get(routingContext, challenge);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa","scheduled-tasks"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1692722547,"post_id":76955289,"comment_id":135662057,"body_markdown":"Update question to add payload you send, the error basically says that what you send is incorrect.","body":"Update question to add payload you send, the error basically says that what you send is incorrect."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1692724579,"post_id":76955289,"comment_id":135662497,"body_markdown":"You can&#39;t have just a double as Request Body. Define a class with a double field `bidAmount` and getter/setter pair. So called POJO.","body":"You can&#39;t have just a double as Request Body. Define a class with a double field <code>bidAmount</code> and getter/setter pair. So called POJO."},{"owner":{"account_id":8512226,"reputation":97,"user_id":6387070,"accept_rate":80,"display_name":"Deepak Negi"},"score":0,"creation_date":1692724584,"post_id":76955289,"comment_id":135662499,"body_markdown":"Put the Bid Amount inside class, e.g public class bidRequest. And then add that class as payload in controller","body":"Put the Bid Amount inside class, e.g public class bidRequest. And then add that class as payload in controller"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1692772494,"post_id":76955289,"comment_id":135668156,"body_markdown":"@Mar-Z That&#39;s wrong, payload like this - `&quot;33&quot;` will be successfully deserialized directly into any numeric type, `BigDecimal`, `double`, `int`, their wrapper classes, etc.","body":"@Mar-Z That&#39;s wrong, payload like this - <code>&quot;33&quot;</code> will be successfully deserialized directly into any numeric type, <code>BigDecimal</code>, <code>double</code>, <code>int</code>, their wrapper classes, etc."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1692773240,"post_id":76955289,"comment_id":135668286,"body_markdown":"@Chaosfire Cool. I have learned something new.","body":"@Chaosfire Cool. I have learned something new."}],"answers":[{"tags":[],"owner":{"account_id":7291906,"reputation":503,"user_id":7789681,"display_name":"Alexey Bril"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692733213,"creation_date":1692733213,"answer_id":76956419,"question_id":76955289,"body_markdown":"This error: \r\n```Cannot deserialize value of type `double` from Object value (token `JsonToken.START_OBJECT`)``` \r\n\r\ntells you that you cannot deserialize the Object `{&quot;bidAmount&quot;: 500.26}` into a double primitive `bidAmount`\r\n\r\nIn this case, I can suggest that you create a separate class for mapping @RequestBody to an object:\r\n\r\n```java\r\n// Getter, setter and etc. if you need\r\npublic class YourNameModel {\r\n    private double bidAmount;\r\n}\r\n```\r\nor accept bidAmount as a request parameter @RequestParam: [Spring @RequestParam][1]\r\n\r\nI also want to draw your attention to the danger of using float/double in cases where precision is required. For example with money: \r\n```java\r\ndouble total = 0;\r\ntotal += 5.6;\r\ntotal += 5.8;\r\n// 11.399999999999\r\n```\r\n[retain precision with double in java][2]\r\n\r\nOne way to solve this problem is to use [BigDecimal][3]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-controller/ann-methods/requestparam.html\r\n  [2]: https://stackoverflow.com/questions/322749/retain-precision-with-double-in-java\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html","title":"how to implement auction logic in spring boot","body":"<p>This error:\n<code>Cannot deserialize value of type `double` from Object value (token `JsonToken.START_OBJECT`)</code></p>\n<p>tells you that you cannot deserialize the Object <code>{&quot;bidAmount&quot;: 500.26}</code> into a double primitive <code>bidAmount</code></p>\n<p>In this case, I can suggest that you create a separate class for mapping @RequestBody to an object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Getter, setter and etc. if you need\npublic class YourNameModel {\n    private double bidAmount;\n}\n</code></pre>\n<p>or accept bidAmount as a request parameter @RequestParam: <a href=\"https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-controller/ann-methods/requestparam.html\" rel=\"nofollow noreferrer\">Spring @RequestParam</a></p>\n<p>I also want to draw your attention to the danger of using float/double in cases where precision is required. For example with money:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double total = 0;\ntotal += 5.6;\ntotal += 5.8;\n// 11.399999999999\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/322749/retain-precision-with-double-in-java\">retain precision with double in java</a></p>\n<p>One way to solve this problem is to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">BigDecimal</a></p>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692772177,"creation_date":1692772177,"answer_id":76958810,"question_id":76955289,"body_markdown":"The error is caused by mismatch between request payload and the object you deserialize into. To match data and class you need to either:\r\n\r\n 1. Change the deserialization class to match payload. This is already covered in [other answer][1], so i won&#39;t go into details.\r\n 2. Change payload to match double - for example `&quot;123.43&quot;`, `&quot;11&quot;`, is correct body to deserialize into `double`, `float`, `BigDecimal`.\r\n\r\nAdditionally, since you are working with money, consider using [BigDecimal][2], instead of `double`. Floating point types are not precise enough for financial operations - [Why not use Double or Float to represent currency?][3]\r\n\r\n  [1]: https://stackoverflow.com/a/76956419/17795888\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html\r\n  [3]: https://stackoverflow.com/questions/3730019/why-not-use-double-or-float-to-represent-currency","title":"how to implement auction logic in spring boot","body":"<p>The error is caused by mismatch between request payload and the object you deserialize into. To match data and class you need to either:</p>\n<ol>\n<li>Change the deserialization class to match payload. This is already covered in <a href=\"https://stackoverflow.com/a/76956419/17795888\">other answer</a>, so i won't go into details.</li>\n<li>Change payload to match double - for example <code>&quot;123.43&quot;</code>, <code>&quot;11&quot;</code>, is correct body to deserialize into <code>double</code>, <code>float</code>, <code>BigDecimal</code>.</li>\n</ol>\n<p>Additionally, since you are working with money, consider using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">BigDecimal</a>, instead of <code>double</code>. Floating point types are not precise enough for financial operations - <a href=\"https://stackoverflow.com/questions/3730019/why-not-use-double-or-float-to-represent-currency\">Why not use Double or Float to represent currency?</a></p>\n"}],"owner":{"account_id":16743459,"reputation":3,"user_id":12893190,"display_name":"Destello"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76956419,"answer_count":2,"score":-1,"last_activity_date":1692772177,"creation_date":1692722321,"question_id":76955289,"body_markdown":"```\r\npackage com.project.customer.entity;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonFormat;\r\nimport com.project.customer.baseEntity.BaseEntity;\r\nimport lombok.Data;\r\nimport lombok.EqualsAndHashCode;\r\nimport org.springframework.format.annotation.DateTimeFormat;\r\n\r\nimport java.math.BigDecimal;\r\nimport java.time.LocalDate;\r\nimport java.time.LocalDateTime;\r\nimport java.time.format.DateTimeFormatter;\r\n\r\nimport javax.persistence.*;\r\n\r\n@EqualsAndHashCode(callSuper = true)\r\n@Entity\r\n@Data\r\npublic class Product  extends BaseEntity {\r\n\r\n\r\n    private String name;\r\n    private double price;\r\n    private double highestBid;\r\n    @Column(name = &quot;EndDate&quot;)\r\n    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\r\n    private LocalDateTime bidEndTime;\r\n\r\n    private LocalDate addedDate;\r\n    boolean status;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;customer_id&quot;)\r\n    private Customer highestBidder;\r\n\r\n}\r\n```\r\n\r\nProduct.java : this is my Product Entity\r\n\r\n```\r\npackage com.project.customer.controllers;\r\n\r\nimport com.project.customer.entity.Product;\r\nimport com.project.customer.repositories.ProductRepository;\r\nimport com.project.customer.service.AuctionService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.time.LocalDateTime;\r\nimport java.util.Optional;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/products&quot;)\r\npublic class AuctionController {\r\n\r\n    @Autowired\r\n    private AuctionService auctionService;\r\n\r\n    @Autowired\r\n    private ProductRepository productRepository;\r\n\r\n    @PostMapping(&quot;/{productId}/bid&quot;)\r\n    public ResponseEntity&lt;String&gt; placeBid(@PathVariable Integer productId, @RequestBody double bidAmount) {\r\n        Optional&lt;Product&gt; optionalProduct = productRepository.findById(productId);\r\n        if (optionalProduct.isPresent()) {\r\n            Product product = optionalProduct.get();\r\n            if (product.isStatus() &amp;&amp; product.getBidEndTime().isAfter(LocalDateTime.now())) {\r\n                if (product.getHighestBid() == 0 || bidAmount &gt; product.getHighestBid()) {\r\n                    product.setHighestBid(bidAmount);\r\n                    product.setHighestBidder(product.getHighestBidder()); // Set the highest bidder\r\n                    // Reset the bid end time to give another 10 seconds\r\n                    product.setBidEndTime(LocalDateTime.now().plusSeconds(10));\r\n                    productRepository.save(product);\r\n                    return ResponseEntity.ok(&quot;Bid placed successfully.&quot;);\r\n                }\r\n                return ResponseEntity.badRequest().body(&quot;Bid amount should be higher than the current highest bid.&quot;);\r\n            }\r\n        }\r\n        return ResponseEntity.notFound().build();\r\n    }\r\n\r\n}\r\n```\r\n\r\nAuctionController.java : i am getting bid amount from Request Body\r\n\r\n```\r\npackage com.project.customer;\r\n\r\nimport com.project.customer.config.AppConstants;\r\nimport com.project.customer.entity.Roles;\r\nimport com.project.customer.repositories.RoleRepository;\r\nimport com.project.customer.service.AuctionService;\r\nimport org.modelmapper.ModelMapper;\r\nimport org.modelmapper.convention.MatchingStrategies;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.scheduling.annotation.Scheduled;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\n\r\nimport java.util.List;\r\n//import org.springframework.security.crypto.password.PasswordEncoder;\r\n\r\n\r\n@SpringBootApplication\r\npublic class CustomerApplication implements CommandLineRunner {\r\n\r\n\t@Autowired\r\n\tprivate PasswordEncoder passwordEncoder;\r\n\r\n\t@Autowired\r\n\tprivate AuctionService auctionService;\r\n\r\n\t@Autowired\r\n\tprivate RoleRepository roleRepository;\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(CustomerApplication.class, args);\r\n\t}\r\n\t@Bean\r\n\tpublic ModelMapper mapper(){\r\n\t\tModelMapper mapper = new ModelMapper();\r\n\t\tmapper.getConfiguration().setMatchingStrategy(MatchingStrategies.STRICT);\r\n\t\treturn  mapper;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run(String... args){\r\n\t\tSystem.out.println(this.passwordEncoder.encode(&quot;bjp&quot;));\r\n\t\ttry\r\n\t\t{\r\n\t\t\tRoles admin = new Roles();\r\n\t\t\tadmin.setId(AppConstants.ROLE_ADMIN);\r\n\t\t\tadmin.setName(&quot;ROLE_ADMIN&quot;);\r\n\r\n\t\t\tRoles normal_user = new Roles();\r\n\t\t\tnormal_user.setId(AppConstants.NORMAL_USER);\r\n\t\t\tnormal_user.setName(&quot;ROLE_NORMAL&quot;);\r\n\r\n\t\t\tList&lt;Roles&gt; roleList = List.of(admin, normal_user);\r\n\t\t\tList&lt;Roles&gt; result = this.roleRepository.saveAll(roleList);\r\n\t\t\tresult.forEach(r-&gt; System.out.println(r.getName()));\r\n\t\t}catch (Exception e){\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\t@Scheduled(cron = &quot;${auction.schedule}&quot;)\r\n\tpublic void executeAuction() {\r\n\t\tauctionService.startAuction();\r\n\t}\r\n\r\n}\r\n```\r\n\r\nMain Method: i have also implemented JWT auth working.\r\n\r\nWhile testing API in postman i am getting 400 Bad Request\r\n\r\n```\r\n&quot;status&quot;: 400,\r\n    &quot;error&quot;: &quot;Bad Request&quot;,\r\n    &quot;trace&quot;: &quot;org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `double` from Object value (token `JsonToken.START_OBJECT`); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `double` from Object value (token `JsonToken.START_OBJECT`)\\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 1]\\r\\n\\tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:391)\\r\\n\\tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:343)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:185\r\n```\r\n\r\n[Postman request](https://i.stack.imgur.com/nbSMA.png)\r\n\r\nI want to implement an auction web service where multiple customer bid on single product and after bid start there is 10 sec countdowns, if any new bid come within that timeframe 10 sec timer get restart, otherwise highest bidder assigned that product.","title":"how to implement auction logic in spring boot","body":"<pre><code>package com.project.customer.entity;\n\nimport com.fasterxml.jackson.annotation.JsonFormat;\nimport com.project.customer.baseEntity.BaseEntity;\nimport lombok.Data;\nimport lombok.EqualsAndHashCode;\nimport org.springframework.format.annotation.DateTimeFormat;\n\nimport java.math.BigDecimal;\nimport java.time.LocalDate;\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\n\nimport javax.persistence.*;\n\n@EqualsAndHashCode(callSuper = true)\n@Entity\n@Data\npublic class Product  extends BaseEntity {\n\n\n    private String name;\n    private double price;\n    private double highestBid;\n    @Column(name = &quot;EndDate&quot;)\n    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\n    private LocalDateTime bidEndTime;\n\n    private LocalDate addedDate;\n    boolean status;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;customer_id&quot;)\n    private Customer highestBidder;\n\n}\n</code></pre>\n<p>Product.java : this is my Product Entity</p>\n<pre><code>package com.project.customer.controllers;\n\nimport com.project.customer.entity.Product;\nimport com.project.customer.repositories.ProductRepository;\nimport com.project.customer.service.AuctionService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.time.LocalDateTime;\nimport java.util.Optional;\n\n@RestController\n@RequestMapping(&quot;/products&quot;)\npublic class AuctionController {\n\n    @Autowired\n    private AuctionService auctionService;\n\n    @Autowired\n    private ProductRepository productRepository;\n\n    @PostMapping(&quot;/{productId}/bid&quot;)\n    public ResponseEntity&lt;String&gt; placeBid(@PathVariable Integer productId, @RequestBody double bidAmount) {\n        Optional&lt;Product&gt; optionalProduct = productRepository.findById(productId);\n        if (optionalProduct.isPresent()) {\n            Product product = optionalProduct.get();\n            if (product.isStatus() &amp;&amp; product.getBidEndTime().isAfter(LocalDateTime.now())) {\n                if (product.getHighestBid() == 0 || bidAmount &gt; product.getHighestBid()) {\n                    product.setHighestBid(bidAmount);\n                    product.setHighestBidder(product.getHighestBidder()); // Set the highest bidder\n                    // Reset the bid end time to give another 10 seconds\n                    product.setBidEndTime(LocalDateTime.now().plusSeconds(10));\n                    productRepository.save(product);\n                    return ResponseEntity.ok(&quot;Bid placed successfully.&quot;);\n                }\n                return ResponseEntity.badRequest().body(&quot;Bid amount should be higher than the current highest bid.&quot;);\n            }\n        }\n        return ResponseEntity.notFound().build();\n    }\n\n}\n</code></pre>\n<p>AuctionController.java : i am getting bid amount from Request Body</p>\n<pre><code>package com.project.customer;\n\nimport com.project.customer.config.AppConstants;\nimport com.project.customer.entity.Roles;\nimport com.project.customer.repositories.RoleRepository;\nimport com.project.customer.service.AuctionService;\nimport org.modelmapper.ModelMapper;\nimport org.modelmapper.convention.MatchingStrategies;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.scheduling.annotation.Scheduled;\nimport org.springframework.security.crypto.password.PasswordEncoder;\n\nimport java.util.List;\n//import org.springframework.security.crypto.password.PasswordEncoder;\n\n\n@SpringBootApplication\npublic class CustomerApplication implements CommandLineRunner {\n\n    @Autowired\n    private PasswordEncoder passwordEncoder;\n\n    @Autowired\n    private AuctionService auctionService;\n\n    @Autowired\n    private RoleRepository roleRepository;\n    public static void main(String[] args) {\n        SpringApplication.run(CustomerApplication.class, args);\n    }\n    @Bean\n    public ModelMapper mapper(){\n        ModelMapper mapper = new ModelMapper();\n        mapper.getConfiguration().setMatchingStrategy(MatchingStrategies.STRICT);\n        return  mapper;\n    }\n\n    @Override\n    public void run(String... args){\n        System.out.println(this.passwordEncoder.encode(&quot;bjp&quot;));\n        try\n        {\n            Roles admin = new Roles();\n            admin.setId(AppConstants.ROLE_ADMIN);\n            admin.setName(&quot;ROLE_ADMIN&quot;);\n\n            Roles normal_user = new Roles();\n            normal_user.setId(AppConstants.NORMAL_USER);\n            normal_user.setName(&quot;ROLE_NORMAL&quot;);\n\n            List&lt;Roles&gt; roleList = List.of(admin, normal_user);\n            List&lt;Roles&gt; result = this.roleRepository.saveAll(roleList);\n            result.forEach(r-&gt; System.out.println(r.getName()));\n        }catch (Exception e){\n            e.printStackTrace();\n        }\n    }\n\n    @Scheduled(cron = &quot;${auction.schedule}&quot;)\n    public void executeAuction() {\n        auctionService.startAuction();\n    }\n\n}\n</code></pre>\n<p>Main Method: i have also implemented JWT auth working.</p>\n<p>While testing API in postman i am getting 400 Bad Request</p>\n<pre><code>&quot;status&quot;: 400,\n    &quot;error&quot;: &quot;Bad Request&quot;,\n    &quot;trace&quot;: &quot;org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `double` from Object value (token `JsonToken.START_OBJECT`); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `double` from Object value (token `JsonToken.START_OBJECT`)\\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 1]\\r\\n\\tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:391)\\r\\n\\tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:343)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:185\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/nbSMA.png\" rel=\"nofollow noreferrer\">Postman request</a></p>\n<p>I want to implement an auction web service where multiple customer bid on single product and after bid start there is 10 sec countdowns, if any new bid come within that timeframe 10 sec timer get restart, otherwise highest bidder assigned that product.</p>\n"},{"tags":["java","datetime","time","timestamp"],"comments":[{"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1692704161,"post_id":76952841,"comment_id":135657490,"body_markdown":"I *suspect* the problem is that the (deprecated) Timestamp constructor you&#39;re using actually assumes a local time rather than UTC. The documentation provides no information on this, but it seems to be consistent with both what you&#39;re seeing and what I&#39;ve seen in testing. Try using the non-deprecated constructor passing in a milliseconds-since-unix-epoch value instead...","body":"I <i>suspect</i> the problem is that the (deprecated) Timestamp constructor you&#39;re using actually assumes a local time rather than UTC. The documentation provides no information on this, but it seems to be consistent with both what you&#39;re seeing and what I&#39;ve seen in testing. Try using the non-deprecated constructor passing in a milliseconds-since-unix-epoch value instead..."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1692704525,"post_id":76952841,"comment_id":135657567,"body_markdown":"@JonSkeet You are probably right. The constructor in question calls the super (also deprecated) Date constructor, which assumes the local time zone. [Docs for constructor](https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#Date-int-int-int-int-int-int-).","body":"@JonSkeet You are probably right. The constructor in question calls the super (also deprecated) Date constructor, which assumes the local time zone. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#Date-int-int-int-int-int-int-\" rel=\"nofollow noreferrer\">Docs for constructor</a>."},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":3,"creation_date":1692709899,"post_id":76952841,"comment_id":135658955,"body_markdown":"Why do you want to use error-prone and outdated legacy date-time API when you have modern `java.time` API? You can check [this answer](https://stackoverflow.com/a/67752047/10819573) and [this answer](https://stackoverflow.com/a/67505173/10819573) to learn how to use `java.time` API with JDBC.","body":"Why do you want to use error-prone and outdated legacy date-time API when you have modern <code>java.time</code> API? You can check <a href=\"https://stackoverflow.com/a/67752047/10819573\">this answer</a> and <a href=\"https://stackoverflow.com/a/67505173/10819573\">this answer</a> to learn how to use <code>java.time</code> API with JDBC."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1692732577,"post_id":76952841,"comment_id":135664118,"body_markdown":"You re contradicting yourself when you say *... `Timestamp` (and `Date`) do not know any time zones. I have a Timestamp representing an UTC time. ...* And this is wrong: `//this represents 2023-08-01 10:00:00 (UTC)`. No, it represents 10:00 in your default time zone. So your conversion to `Instant` is correct.","body":"You re contradicting yourself when you say <i>... <code>Timestamp</code> (and <code>Date</code>) do not know any time zones. I have a Timestamp representing an UTC time. ...</i> And this is wrong: <code>&#47;&#47;this represents 2023-08-01 10:00:00 (UTC)</code>. No, it represents 10:00 in your default time zone. So your conversion to <code>Instant</code> is correct."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1692733068,"post_id":76952841,"comment_id":135664212,"body_markdown":"Where were you getting a `Timestamp` object from? I hope you’re not really using that 7-arg `Timestamp` constructor. It’s been deprecated for more than 25 years exactly because it works unreliably across time zones. Can you avoid getting a `Timestamp` object in the first place? If retrieving from a database, retrieve a modern `LocalDateTime` or `OffsetDateTime`instead.","body":"Where were you getting a <code>Timestamp</code> object from? I hope you’re not really using that 7-arg <code>Timestamp</code> constructor. It’s been deprecated for more than 25 years exactly because it works unreliably across time zones. Can you avoid getting a <code>Timestamp</code> object in the first place? If retrieving from a database, retrieve a modern <code>LocalDateTime</code> or <code>OffsetDateTime</code>instead."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1692769010,"post_id":76952841,"comment_id":135667638,"body_markdown":"Did you by any chance try `new Timestamp(123, 2, 26, 2, 30, 0, 0)`? That time did not exist in German time zone because of *spring forward*, transition to summer time. So you get 3:30 instead of 2:30. Your constructor call cannot be made to work.","body":"Did you by any chance try <code>new Timestamp(123, 2, 26, 2, 30, 0, 0)</code>? That time did not exist in German time zone because of <i>spring forward</i>, transition to summer time. So you get 3:30 instead of 2:30. Your constructor call cannot be made to work."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1692709027,"creation_date":1692709027,"answer_id":76953561,"question_id":76952841,"body_markdown":"## Context\r\n\r\n`java.sql.Timestamp` extends `java.util.Date`. The latter __is a lie__ - it does not represent dates at all. It represents time since the epoch without a timezone, and in that sense, the direct equivalent in the `java.time` package is in fact `java.time.Instant`, and it&#39;s best to think of them that way.\r\n\r\nGiven that the `java.util` time types (and therefore, all the `java.sql` time types too, given that they all extend `j.u.Date`!) are essentially broken due to being confused about their nature (such as `Date` being named, well, `Date`), you shouldn&#39;t use these types. Anywhere. Ever.\r\n\r\n## Do it right\r\n\r\nFortunately, you don&#39;t have to use the broken types. There is no need to mess with `java.sql.Timestamp`. __Ever__. The JDBC5 spec __requires__ that JDBC drivers support the `LocalDate`, `LocalTime`, `LocalDateTime`, and `OffsetDateTime` modern `java.time` types for, respectively, SQL types `DATE`, `TIME WITHOUT TIMEZONE`, `TIMESTAMP WITHOUT TIMEZONE` and `TIMESTAMP WITH TIMEZONE`. Thus, let&#39;s say you have a table named `person` with a column named `birthdate` of type `DATE`, you might currently have this kind of code:\r\n\r\n```java\r\ntry (\r\n  var preparedStatement = con.prepareStatement(&quot;SELECT birthdate FROM person&quot;;\r\n  var query = preparedStatement.executeQuery()) {\r\n\r\n  while (query.next()) {\r\n    java.sql.Date d = query.getDate(1);  \r\n    doStuffWith(d);\r\n  }\r\n}\r\n```\r\n\r\nThat code is obsolete and dangerous. Instead, replace the offending line (that calls `.getDate`) with:\r\n\r\n```\r\njava.time.LocalDate d = query.getObject(1, LocalDate.class):\r\n```\r\n\r\nThe javadoc of `getObject` states that whether the type you pass &#39;works&#39; depends on the JDBC driver, but as mentioned, a JDBC5 compatible driver is __required__ to support it.\r\n\r\nYou can use `.setObject()` (when filling values for PreparedStatements, or INSERTing data) too, passing a `LocalDate` instance.\r\n\r\nThis avoids all issues.\r\n\r\n## A direct answer to your question\r\n\r\nYou really should skip this section and just do it right. Find all calls to `getTimestamp`, `getDate`, `setTimestamp`, `setDate`, etc - and fix them properly.\r\n\r\nBecause the __correct__ answer to your question is: Nevermind, you need to go one level deeper and stop using this stuff.\r\n\r\nHowever, in the interests of satisfying curiosity:\r\n\r\n&gt; ```java\r\n&gt; Timestamp stamp = new Timestamp(123, 7, 1, 10, 0, 0, 0); //this &gt; represents 2023-08-01 10:00:00 (UTC)\r\n&gt;stamp.toInstant() //returns 2023-08-01 08:00:00\r\n&gt; ```\r\n\r\nNo, this is all very incorrect. Your understanding of dates and times is wrong.\r\n\r\nA Timestamp  __cannot__ represent human-reckoning (which is years, months, days, and so on). It represents millis-since-epoch and the notion of referring to some millis-since-epoch values in terms of days, hours, minutes (and a UTC timezone) is a human invention that is subtly incorrect. That&#39;s not how it works under the hood. And when you lose sight of that, you get confused.\r\n\r\nInstant is the same thing: It represents millis-since-epoch __and not days, months, hours, etc__. Hence, _any interaction with these types in terms of human reckoning, be it that constructor you are invoking where you pass human-reckoning, or that `toString()` output of `Instant`, is merely for human convenience, is likely to confuse, and is the result of an internal conversion at point of contact - internally nothing is stored as human reckoning with these types!_\r\n\r\nKnowing that we can figure out why you are getting &#39;weird&#39; results: The human reckoning constructor of `java.sql.Timestamp` &#39;helpfully&#39; assumes you are writing your human reckoning in the platform default timezone (which, evidently, for your system, currently has +02:00 offset relative to UTC, i.e. most of mainland europe in summer for example).\r\n\r\nHence, it dutifully converts your human reckoning to that millis-since-epoch value that represents that exact moment in time when asking someone in Brussels &#39;hey, can you give me the date and time?&#39; would result in the answer: &quot;Sure mate! It&#39;s 2023, august 1st, and it&#39;s 10:00 in the morning exactly!&quot; and stores that. It doesn&#39;t store timezones, and it doesn&#39;t store the notion of &#39;10 o clock&#39;. It just stores that big number: Your object has one field with value `1690876800000` _and that is all it has_ (oversimplifying a bit, there are more fields, but they don&#39;t meaningfully affect this conclusion). It doesn&#39;t store the timezone and it doesn&#39;t store the human reckoning version (2023/08/01/10/00/00).\r\n\r\nYou then ask it to print itself, which causes it to convert 1690876800000 right back to human reckoning form. As you didn&#39;t provide a timezone when asking it to print itself, and it doesn&#39;t store one, the behaviour depends on what you&#39;re doing:\r\n\r\n```\r\ntheInstanceOfJavaSqlTimestamp.toString()\r\n```\r\n\r\nproduces the string value &quot;2023-08-01 10:00:00.0&quot;, and it does this because its toString _also_ &#39;helpfully&#39; uses your platform default timezone which is still `Europe/Amsterdam`. This might make you think it dutifully stored &#39;10 o clock&#39; - it didn&#39;t.\r\n\r\nInstead, Instant is &#39;better&#39; in that it tries to avoid the confusion and avoids creating the impression it is storing timestamp info:\r\n\r\n```\r\ntheInstanceOfJavaSqlTimestamp.toInstant().toString()\r\n```\r\n\r\nThe `toInstant()` call just gives you an instant whose one field with epoch-millis still has the same 1690876800000 value stored inside. However, _its_ `toString()` impl chooses to render this value to your eyeballs by converting it on-the-fly to human reckoning just like `java.sql.Timestamp`&#39;s toString(), but it uses UTC instead of &#39;platform local timezone&#39;.\r\n\r\n__That doesn&#39;t change this simple fact: These 2 objects represent the exact same instant in time__. It&#39;s just different takes on &#39;how should the `toString()` method show useful information to a human debugger&#39;.\r\n\r\n&gt; What I want is: 2023-08-01 12:00:00 I was able to get the result with:\r\n\r\n__This is fundamentally wrong__ - Instant and Timestamp simply do not work that way. This question is non-sensical. Your Timestamp represents 1690876800000. That&#39;s all it represents. Given that we&#39;re talking epoch millis, the only way it is sensible to say: I want it to represent [human reckoning values here], is if you include a full timezone (`Europe/Amsterdam` style, not `CEST` style, which aren&#39;t sufficient to uniquely determine times and dates).\r\n\r\nIf you don&#39;t have a timezone or that isn&#39;t what you&#39;re trying to represent, then `Timestamp` simply cannot be used AT ALL, and instead you need to use `LocalDateTime`, which is the only type that can properly represent human reckoning without a timezone!\r\n\r\nIf you want a nice programmatic interface to construction `java.sql.Timestamp` instances that represent what you want, use `java.time` and convert to the broken (`java.sql.Timestamp`, `java.util.Date`, etc) types _as late in the process as possible_:\r\n\r\n&gt; ```\r\n&gt; Instant nowUtc = Instant.now();\r\n&gt; ZoneId europeZone = ZoneId.of(&quot;Europe/Berlin&quot;);\r\n&gt; ZonedDateTime berlinTime = ZonedDateTime.ofInstant(nowUtc, europeZone);\r\n&gt; ```\r\n\r\nThis code can be written a lot more simply:\r\n\r\n```\r\nZoneId europeZone = ZoneId.of(&quot;Europe/Berlin&quot;);\r\nZonedDateTime berlinTime = ZonedDateTime.now(europeZone);\r\n```\r\n\r\nConverting this to a `Timestamp` __does not make sense__ because j.s.Timestamp doesn&#39;t contain timezone info. If your database column __does__, then the only proper way to do it is to use `.setObject(colIdxOrName, instanceOfOffsetDateTime)`. Having to use OffsetDateTime is painful, but it&#39;s a consequence of SQL also being confused and broken in regards to timezones (it thinks offsets are timezones. They aren&#39;t, and calling them timezones is very confusing, but, here we are). You can try calling `.setObject()` with an instance of ZDT, but if that doesn&#39;t work, you&#39;d have to call:\r\n\r\n```\r\nZoneId europeZone = ZoneId.of(&quot;Europe/Berlin&quot;);\r\nZonedDateTime berlinTime = ZonedDateTime.now(europeZone);\r\npreparedStatement.setObject(berlinTime.toOffsetDateTime());\r\n```\r\n\r\nIf you must have it in Timestamp form, note that timezones are right out and this code __will__ subtly break on you later. Closest you can get:\r\n\r\n```\r\nInstant now = Instant.now();\r\n// FORCIBLY SET YOUR SYSTEM TO BERLIN TIME!\r\n// STUFF WILL BREAK IF SYSTEM TZ IS EVER CHANGED!\r\njava.sql.Timestamp ts = java.sql.Timestamp.from(now);\r\n```\r\n\r\nj.s.Timestamp applies the platform local timezone whether you want it to or not.\r\n","title":"Timestamp#toInstant TimeZone behaviour","body":"<h2>Context</h2>\n<p><code>java.sql.Timestamp</code> extends <code>java.util.Date</code>. The latter <strong>is a lie</strong> - it does not represent dates at all. It represents time since the epoch without a timezone, and in that sense, the direct equivalent in the <code>java.time</code> package is in fact <code>java.time.Instant</code>, and it's best to think of them that way.</p>\n<p>Given that the <code>java.util</code> time types (and therefore, all the <code>java.sql</code> time types too, given that they all extend <code>j.u.Date</code>!) are essentially broken due to being confused about their nature (such as <code>Date</code> being named, well, <code>Date</code>), you shouldn't use these types. Anywhere. Ever.</p>\n<h2>Do it right</h2>\n<p>Fortunately, you don't have to use the broken types. There is no need to mess with <code>java.sql.Timestamp</code>. <strong>Ever</strong>. The JDBC5 spec <strong>requires</strong> that JDBC drivers support the <code>LocalDate</code>, <code>LocalTime</code>, <code>LocalDateTime</code>, and <code>OffsetDateTime</code> modern <code>java.time</code> types for, respectively, SQL types <code>DATE</code>, <code>TIME WITHOUT TIMEZONE</code>, <code>TIMESTAMP WITHOUT TIMEZONE</code> and <code>TIMESTAMP WITH TIMEZONE</code>. Thus, let's say you have a table named <code>person</code> with a column named <code>birthdate</code> of type <code>DATE</code>, you might currently have this kind of code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (\n  var preparedStatement = con.prepareStatement(&quot;SELECT birthdate FROM person&quot;;\n  var query = preparedStatement.executeQuery()) {\n\n  while (query.next()) {\n    java.sql.Date d = query.getDate(1);  \n    doStuffWith(d);\n  }\n}\n</code></pre>\n<p>That code is obsolete and dangerous. Instead, replace the offending line (that calls <code>.getDate</code>) with:</p>\n<pre><code>java.time.LocalDate d = query.getObject(1, LocalDate.class):\n</code></pre>\n<p>The javadoc of <code>getObject</code> states that whether the type you pass 'works' depends on the JDBC driver, but as mentioned, a JDBC5 compatible driver is <strong>required</strong> to support it.</p>\n<p>You can use <code>.setObject()</code> (when filling values for PreparedStatements, or INSERTing data) too, passing a <code>LocalDate</code> instance.</p>\n<p>This avoids all issues.</p>\n<h2>A direct answer to your question</h2>\n<p>You really should skip this section and just do it right. Find all calls to <code>getTimestamp</code>, <code>getDate</code>, <code>setTimestamp</code>, <code>setDate</code>, etc - and fix them properly.</p>\n<p>Because the <strong>correct</strong> answer to your question is: Nevermind, you need to go one level deeper and stop using this stuff.</p>\n<p>However, in the interests of satisfying curiosity:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>Timestamp stamp = new Timestamp(123, 7, 1, 10, 0, 0, 0); //this &gt; represents 2023-08-01 10:00:00 (UTC)\nstamp.toInstant() //returns 2023-08-01 08:00:00\n</code></pre>\n</blockquote>\n<p>No, this is all very incorrect. Your understanding of dates and times is wrong.</p>\n<p>A Timestamp  <strong>cannot</strong> represent human-reckoning (which is years, months, days, and so on). It represents millis-since-epoch and the notion of referring to some millis-since-epoch values in terms of days, hours, minutes (and a UTC timezone) is a human invention that is subtly incorrect. That's not how it works under the hood. And when you lose sight of that, you get confused.</p>\n<p>Instant is the same thing: It represents millis-since-epoch <strong>and not days, months, hours, etc</strong>. Hence, <em>any interaction with these types in terms of human reckoning, be it that constructor you are invoking where you pass human-reckoning, or that <code>toString()</code> output of <code>Instant</code>, is merely for human convenience, is likely to confuse, and is the result of an internal conversion at point of contact - internally nothing is stored as human reckoning with these types!</em></p>\n<p>Knowing that we can figure out why you are getting 'weird' results: The human reckoning constructor of <code>java.sql.Timestamp</code> 'helpfully' assumes you are writing your human reckoning in the platform default timezone (which, evidently, for your system, currently has +02:00 offset relative to UTC, i.e. most of mainland europe in summer for example).</p>\n<p>Hence, it dutifully converts your human reckoning to that millis-since-epoch value that represents that exact moment in time when asking someone in Brussels 'hey, can you give me the date and time?' would result in the answer: &quot;Sure mate! It's 2023, august 1st, and it's 10:00 in the morning exactly!&quot; and stores that. It doesn't store timezones, and it doesn't store the notion of '10 o clock'. It just stores that big number: Your object has one field with value <code>1690876800000</code> <em>and that is all it has</em> (oversimplifying a bit, there are more fields, but they don't meaningfully affect this conclusion). It doesn't store the timezone and it doesn't store the human reckoning version (2023/08/01/10/00/00).</p>\n<p>You then ask it to print itself, which causes it to convert 1690876800000 right back to human reckoning form. As you didn't provide a timezone when asking it to print itself, and it doesn't store one, the behaviour depends on what you're doing:</p>\n<pre><code>theInstanceOfJavaSqlTimestamp.toString()\n</code></pre>\n<p>produces the string value &quot;2023-08-01 10:00:00.0&quot;, and it does this because its toString <em>also</em> 'helpfully' uses your platform default timezone which is still <code>Europe/Amsterdam</code>. This might make you think it dutifully stored '10 o clock' - it didn't.</p>\n<p>Instead, Instant is 'better' in that it tries to avoid the confusion and avoids creating the impression it is storing timestamp info:</p>\n<pre><code>theInstanceOfJavaSqlTimestamp.toInstant().toString()\n</code></pre>\n<p>The <code>toInstant()</code> call just gives you an instant whose one field with epoch-millis still has the same 1690876800000 value stored inside. However, <em>its</em> <code>toString()</code> impl chooses to render this value to your eyeballs by converting it on-the-fly to human reckoning just like <code>java.sql.Timestamp</code>'s toString(), but it uses UTC instead of 'platform local timezone'.</p>\n<p><strong>That doesn't change this simple fact: These 2 objects represent the exact same instant in time</strong>. It's just different takes on 'how should the <code>toString()</code> method show useful information to a human debugger'.</p>\n<blockquote>\n<p>What I want is: 2023-08-01 12:00:00 I was able to get the result with:</p>\n</blockquote>\n<p><strong>This is fundamentally wrong</strong> - Instant and Timestamp simply do not work that way. This question is non-sensical. Your Timestamp represents 1690876800000. That's all it represents. Given that we're talking epoch millis, the only way it is sensible to say: I want it to represent [human reckoning values here], is if you include a full timezone (<code>Europe/Amsterdam</code> style, not <code>CEST</code> style, which aren't sufficient to uniquely determine times and dates).</p>\n<p>If you don't have a timezone or that isn't what you're trying to represent, then <code>Timestamp</code> simply cannot be used AT ALL, and instead you need to use <code>LocalDateTime</code>, which is the only type that can properly represent human reckoning without a timezone!</p>\n<p>If you want a nice programmatic interface to construction <code>java.sql.Timestamp</code> instances that represent what you want, use <code>java.time</code> and convert to the broken (<code>java.sql.Timestamp</code>, <code>java.util.Date</code>, etc) types <em>as late in the process as possible</em>:</p>\n<blockquote>\n<pre><code>Instant nowUtc = Instant.now();\nZoneId europeZone = ZoneId.of(&quot;Europe/Berlin&quot;);\nZonedDateTime berlinTime = ZonedDateTime.ofInstant(nowUtc, europeZone);\n</code></pre>\n</blockquote>\n<p>This code can be written a lot more simply:</p>\n<pre><code>ZoneId europeZone = ZoneId.of(&quot;Europe/Berlin&quot;);\nZonedDateTime berlinTime = ZonedDateTime.now(europeZone);\n</code></pre>\n<p>Converting this to a <code>Timestamp</code> <strong>does not make sense</strong> because j.s.Timestamp doesn't contain timezone info. If your database column <strong>does</strong>, then the only proper way to do it is to use <code>.setObject(colIdxOrName, instanceOfOffsetDateTime)</code>. Having to use OffsetDateTime is painful, but it's a consequence of SQL also being confused and broken in regards to timezones (it thinks offsets are timezones. They aren't, and calling them timezones is very confusing, but, here we are). You can try calling <code>.setObject()</code> with an instance of ZDT, but if that doesn't work, you'd have to call:</p>\n<pre><code>ZoneId europeZone = ZoneId.of(&quot;Europe/Berlin&quot;);\nZonedDateTime berlinTime = ZonedDateTime.now(europeZone);\npreparedStatement.setObject(berlinTime.toOffsetDateTime());\n</code></pre>\n<p>If you must have it in Timestamp form, note that timezones are right out and this code <strong>will</strong> subtly break on you later. Closest you can get:</p>\n<pre><code>Instant now = Instant.now();\n// FORCIBLY SET YOUR SYSTEM TO BERLIN TIME!\n// STUFF WILL BREAK IF SYSTEM TZ IS EVER CHANGED!\njava.sql.Timestamp ts = java.sql.Timestamp.from(now);\n</code></pre>\n<p>j.s.Timestamp applies the platform local timezone whether you want it to or not.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692738913,"creation_date":1692716921,"answer_id":76954669,"question_id":76952841,"body_markdown":"# Forget about `java.sql.TIMESTAMP`\r\n\r\nThe [Answer by rzwitserloot][1] is entirely correct. But let me put it more simply: \r\n\r\n&#128073;&#127997; **Stop using `Timestamp`.**\r\n\r\n\r\nJava has two frameworks for date-time handling: (a) a terribly flawed set of classes added to the early versions of Java, and (b) the *java.time* classes added to Java 8. The first **is now legacy**, entirely supplanted by the second. \r\n\r\nThose legacy classes include `java.sql.Timestamp`. So, **stop using that class `Timestamp`**. \r\n\r\n# UTC value\r\n\r\nYou said you want a value of 2023-08-01 12:00:00 (UTC). \r\n\r\nPass the various parts. \r\n\r\n    LocalDateTime ldt = LocalDateTime.of( 2023 , 8 , 1 , 12 , 0 , 0 ) ;\r\n    OffsetDateTime odt = ldt.atOffset( ZoneOffset.UTC ) ;\r\n    \r\n\r\nOr, parse a string where `Z` on the end indicates an offset from UTC of zero hours-minutes-days. \r\n\r\n    Instant instant = Instant.parse ( &quot;2023-08-01T12:00:00Z&quot; ) ;\r\n\r\n# Database\r\n\r\nFor database work in JDBC 4.2+, use:\r\n\r\n - The `OffsetDateTime` class for columns of SQL standard type `TIMESTAMP WITH TIME ZONE`. \r\n - The `LocalDateTime` class For columns of SQL standard type `TIMESTAMP WITHOUT TIME ZONE`. \r\n\r\n\r\nIf handed a `Timestamp` object by code not yet updated to *java.time*, immediately convert to `java.time.Instant`. \r\n\r\n    Instant instant = myJavaSqlTimestamp.toInstant() ;\r\n\r\nTo send that value to a database column of SQL standard type `TIMESTAMP WITH TIME ZONE`:\r\n\r\n    OffsetDateTime odt = instant.atOffset( ZoneOffset.UTC ) ;\r\n    myPreparedStatement.setObject( … , odt ) ;\r\n\r\nRetrieval:\r\n\r\n    OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\r\n\r\nFor presentation to a user, apply a time zone (`ZoneId`) to get a `ZonedDateTime`. From there, generate text by using a `DateTimeFormatter` such as that produced by `DateTimeFormatter.ofLocalizedDateTime`. \r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/76953561/642706","title":"Timestamp#toInstant TimeZone behaviour","body":"<h1>Forget about <code>java.sql.TIMESTAMP</code></h1>\n<p>The <a href=\"https://stackoverflow.com/a/76953561/642706\">Answer by rzwitserloot</a> is entirely correct. But let me put it more simply:</p>\n<p>👉🏽 <strong>Stop using <code>Timestamp</code>.</strong></p>\n<p>Java has two frameworks for date-time handling: (a) a terribly flawed set of classes added to the early versions of Java, and (b) the <em>java.time</em> classes added to Java 8. The first <strong>is now legacy</strong>, entirely supplanted by the second.</p>\n<p>Those legacy classes include <code>java.sql.Timestamp</code>. So, <strong>stop using that class <code>Timestamp</code></strong>.</p>\n<h1>UTC value</h1>\n<p>You said you want a value of 2023-08-01 12:00:00 (UTC).</p>\n<p>Pass the various parts.</p>\n<pre><code>LocalDateTime ldt = LocalDateTime.of( 2023 , 8 , 1 , 12 , 0 , 0 ) ;\nOffsetDateTime odt = ldt.atOffset( ZoneOffset.UTC ) ;\n</code></pre>\n<p>Or, parse a string where <code>Z</code> on the end indicates an offset from UTC of zero hours-minutes-days.</p>\n<pre><code>Instant instant = Instant.parse ( &quot;2023-08-01T12:00:00Z&quot; ) ;\n</code></pre>\n<h1>Database</h1>\n<p>For database work in JDBC 4.2+, use:</p>\n<ul>\n<li>The <code>OffsetDateTime</code> class for columns of SQL standard type <code>TIMESTAMP WITH TIME ZONE</code>.</li>\n<li>The <code>LocalDateTime</code> class For columns of SQL standard type <code>TIMESTAMP WITHOUT TIME ZONE</code>.</li>\n</ul>\n<p>If handed a <code>Timestamp</code> object by code not yet updated to <em>java.time</em>, immediately convert to <code>java.time.Instant</code>.</p>\n<pre><code>Instant instant = myJavaSqlTimestamp.toInstant() ;\n</code></pre>\n<p>To send that value to a database column of SQL standard type <code>TIMESTAMP WITH TIME ZONE</code>:</p>\n<pre><code>OffsetDateTime odt = instant.atOffset( ZoneOffset.UTC ) ;\nmyPreparedStatement.setObject( … , odt ) ;\n</code></pre>\n<p>Retrieval:</p>\n<pre><code>OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\n</code></pre>\n<p>For presentation to a user, apply a time zone (<code>ZoneId</code>) to get a <code>ZonedDateTime</code>. From there, generate text by using a <code>DateTimeFormatter</code> such as that produced by <code>DateTimeFormatter.ofLocalizedDateTime</code>.</p>\n"}],"owner":{"account_id":2966210,"reputation":3832,"user_id":2519307,"accept_rate":44,"display_name":"MKorsch"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1692772113,"creation_date":1692703780,"question_id":76952841,"body_markdown":"I&#39;m currently having difficulties to convert a `java.sql.Timestamp` to a `LocalDateTime`. I understand that `Timestamp` (and `Date`) do not know any time zones. I have a Timestamp representing an UTC time. I want to convert this Timestamp to my local time zone (GMT+2). As soon as I call `#toInstant()` on the `Timestamp` I&#39;m getting a datetime with 2 hours less. I think this is because Instant represents a point in time on UTC time scale. Apparently java thinks that my Timestamp is in my default time zone (= GMT+2), this is why `toInstant()` substracts two hours from the original timestamp. But this `Timestamp` already represents UTC time so substracting two hours from it is false.\r\n\r\nI tried the following:\r\n```java\r\nTimestamp stamp = new Timestamp(123, 7, 1, 10, 0, 0, 0); //this represents 2023-08-01 10:00:00 (UTC)\r\nstamp.toInstant() //returns 2023-08-01 08:00:00\r\n```\r\n\r\nWhat I want is: 2023-08-01 12:00:00\r\nI was able to get the result with:\r\n```java\r\nInstant nowUtc = Instant.now();\r\nZoneId europeZone = ZoneId.of(&quot;Europe/Berlin&quot;);\r\nZonedDateTime berlinTime = ZonedDateTime.ofInstant(nowUtc, europeZone);\r\n```\r\n\r\nBut in this working solution there is no timestamp involved.\r\n\r\n\r\n**Edit after first two answers:**\r\n1. In the production code where I&#39;m facing the problem the Timestamp is not constructed via the deprecated constructor `new Timestamp(123, 7, 1, 10, 0, 0, 0)` but it is retrieved from database via a spring data CrudRepository in conjunction with a jakarta.persitence @Entity. This is why I&#39;m not quite sure how the Timestamp was constructed in the end, but it is also a question I don&#39;t want to ask myself.\r\n2. As described in the previous sentence I&#39;m working with an existing code base where a refactoring of the persistence layer currently is not a feasible solution. That&#39;s why I have to stick with `Timestamp` even if I know and understand that avoiding the old date API and instead use the new java.time API is the preferred solution.\r\n3. My colleague finally figured out a solution for my specific problem:\r\n\r\n```java\r\n@Test\r\n    fun `convert LocalDateTime to Timestamp and back`() {\r\n        val timestamp = Timestamp.valueOf(LocalDateTime.now(ZoneOffset.UTC))\r\n        println(&quot;BEFORE $timestamp&quot;)\r\n        val localDateTime = ZonedDateTime.of(timestamp.toLocalDateTime(), ZoneOffset.UTC)\r\n            .withZoneSameInstant(ZoneId.of(&quot;Europe/Berlin&quot;)).toLocalDateTime()\r\n        println(&quot;AFTER $localDateTime&quot;)\r\n    }\r\n```\r\n\r\nThis prints (depending on time of execution):\r\nBEFORE 2023-08-22 14:53:34.085801\r\nAFTER 2023-08-22T16:53:34.085801\r\n\r\n","title":"Timestamp#toInstant TimeZone behaviour","body":"<p>I'm currently having difficulties to convert a <code>java.sql.Timestamp</code> to a <code>LocalDateTime</code>. I understand that <code>Timestamp</code> (and <code>Date</code>) do not know any time zones. I have a Timestamp representing an UTC time. I want to convert this Timestamp to my local time zone (GMT+2). As soon as I call <code>#toInstant()</code> on the <code>Timestamp</code> I'm getting a datetime with 2 hours less. I think this is because Instant represents a point in time on UTC time scale. Apparently java thinks that my Timestamp is in my default time zone (= GMT+2), this is why <code>toInstant()</code> substracts two hours from the original timestamp. But this <code>Timestamp</code> already represents UTC time so substracting two hours from it is false.</p>\n<p>I tried the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Timestamp stamp = new Timestamp(123, 7, 1, 10, 0, 0, 0); //this represents 2023-08-01 10:00:00 (UTC)\nstamp.toInstant() //returns 2023-08-01 08:00:00\n</code></pre>\n<p>What I want is: 2023-08-01 12:00:00\nI was able to get the result with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Instant nowUtc = Instant.now();\nZoneId europeZone = ZoneId.of(&quot;Europe/Berlin&quot;);\nZonedDateTime berlinTime = ZonedDateTime.ofInstant(nowUtc, europeZone);\n</code></pre>\n<p>But in this working solution there is no timestamp involved.</p>\n<p><strong>Edit after first two answers:</strong></p>\n<ol>\n<li>In the production code where I'm facing the problem the Timestamp is not constructed via the deprecated constructor <code>new Timestamp(123, 7, 1, 10, 0, 0, 0)</code> but it is retrieved from database via a spring data CrudRepository in conjunction with a jakarta.persitence @Entity. This is why I'm not quite sure how the Timestamp was constructed in the end, but it is also a question I don't want to ask myself.</li>\n<li>As described in the previous sentence I'm working with an existing code base where a refactoring of the persistence layer currently is not a feasible solution. That's why I have to stick with <code>Timestamp</code> even if I know and understand that avoiding the old date API and instead use the new java.time API is the preferred solution.</li>\n<li>My colleague finally figured out a solution for my specific problem:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\n    fun `convert LocalDateTime to Timestamp and back`() {\n        val timestamp = Timestamp.valueOf(LocalDateTime.now(ZoneOffset.UTC))\n        println(&quot;BEFORE $timestamp&quot;)\n        val localDateTime = ZonedDateTime.of(timestamp.toLocalDateTime(), ZoneOffset.UTC)\n            .withZoneSameInstant(ZoneId.of(&quot;Europe/Berlin&quot;)).toLocalDateTime()\n        println(&quot;AFTER $localDateTime&quot;)\n    }\n</code></pre>\n<p>This prints (depending on time of execution):\nBEFORE 2023-08-22 14:53:34.085801\nAFTER 2023-08-22T16:53:34.085801</p>\n"},{"tags":["java","android","memory-management","android-activity"],"comments":[{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":1,"creation_date":1392643308,"post_id":21826670,"comment_id":33040183,"body_markdown":"Are you using any native libraries in your application?","body":"Are you using any native libraries in your application?"},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":1,"creation_date":1392643356,"post_id":21826670,"comment_id":33040219,"body_markdown":"The `DeadObjectException` is a symptom of another problem, not a problem itself.","body":"The <code>DeadObjectException</code> is a symptom of another problem, not a problem itself."},{"owner":{"account_id":537367,"reputation":2836,"user_id":905906,"accept_rate":63,"display_name":"Kayhan Asghari"},"score":0,"creation_date":1392683543,"post_id":21826670,"comment_id":33061819,"body_markdown":"@DavidWasser: nope, I don&#39;t use any native libraries. It&#39;s just pure android.","body":"@DavidWasser: nope, I don&#39;t use any native libraries. It&#39;s just pure android."},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1392717377,"post_id":21826670,"comment_id":33075002,"body_markdown":"Then I don&#39;t really understand. Normally your Dalvik VM should not crash and usually it isn&#39;t possible for you to write code that will crash the VM. Do you see anything else in the logcat? Please check if there is anything else there that could be useful.","body":"Then I don&#39;t really understand. Normally your Dalvik VM should not crash and usually it isn&#39;t possible for you to write code that will crash the VM. Do you see anything else in the logcat? Please check if there is anything else there that could be useful."},{"owner":{"account_id":537367,"reputation":2836,"user_id":905906,"accept_rate":63,"display_name":"Kayhan Asghari"},"score":0,"creation_date":1392720738,"post_id":21826670,"comment_id":33077467,"body_markdown":"I checked, it seems that the only part of logcat which is related to this issue is what I&#39;ve posted.","body":"I checked, it seems that the only part of logcat which is related to this issue is what I&#39;ve posted."},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1392722645,"post_id":21826670,"comment_id":33078845,"body_markdown":"Well, you should see if you can narrow down roughly where it is crashing (add logging to narrow this down) and then post the code where you think it is crashing. It looks like it may be memory allocation related.","body":"Well, you should see if you can narrow down roughly where it is crashing (add logging to narrow this down) and then post the code where you think it is crashing. It looks like it may be memory allocation related."},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1392722698,"post_id":21826670,"comment_id":33078894,"body_markdown":"Do you get these errors on a specific device? multiple devices?","body":"Do you get these errors on a specific device? multiple devices?"},{"owner":{"account_id":537367,"reputation":2836,"user_id":905906,"accept_rate":63,"display_name":"Kayhan Asghari"},"score":0,"creation_date":1392810913,"post_id":21826670,"comment_id":33128310,"body_markdown":"I usually get them on my Nexus 4, with both custom (CM11) and stock roms. Also on Galaxy Nexus.","body":"I usually get them on my Nexus 4, with both custom (CM11) and stock roms. Also on Galaxy Nexus."},{"owner":{"account_id":537367,"reputation":2836,"user_id":905906,"accept_rate":63,"display_name":"Kayhan Asghari"},"score":0,"creation_date":1392823565,"post_id":21826670,"comment_id":33137695,"body_markdown":"@DavidWasser: Sir, I added some details.","body":"@DavidWasser: Sir, I added some details."},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1392828630,"post_id":21826670,"comment_id":33141663,"body_markdown":"Thanks for the extra info. Unfortunately it isn&#39;t much help because these are just after-effects of the crash. We need to find out what is causing the crash and the logs don&#39;t show that.","body":"Thanks for the extra info. Unfortunately it isn&#39;t much help because these are just after-effects of the crash. We need to find out what is causing the crash and the logs don&#39;t show that."},{"owner":{"account_id":965983,"reputation":300,"user_id":989396,"accept_rate":53,"display_name":"arul"},"score":0,"creation_date":1393423686,"post_id":21826670,"comment_id":33421319,"body_markdown":"Are you programatically killing your application anywhere in the code ?","body":"Are you programatically killing your application anywhere in the code ?"},{"owner":{"account_id":1280781,"reputation":16068,"user_id":1234913,"accept_rate":56,"display_name":"Nicks"},"score":0,"creation_date":1439624759,"post_id":21826670,"comment_id":51947133,"body_markdown":"@KeyhanAsghari Were you able to solve this? I am getting similar exception.","body":"@KeyhanAsghari Were you able to solve this? I am getting similar exception."}],"answers":[{"tags":[],"owner":{"account_id":3419370,"reputation":1773,"user_id":2867447,"accept_rate":50,"display_name":"i.n.e.f"},"down_vote_count":4,"up_vote_count":9,"is_accepted":false,"score":5,"last_activity_date":1392635967,"creation_date":1392633622,"answer_id":21826802,"question_id":21826670,"body_markdown":"**DeadObjectException** extends RemoteException\r\n\r\nThis Exception means , The object you are calling has died, because its hosting process no longer exists. And check [this][1] link for your reference based on DeadObjectException.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7037093/android-dead-object-exception","title":"DeadObjectException on android app","body":"<p><strong>DeadObjectException</strong> extends RemoteException</p>\n\n<p>This Exception means , The object you are calling has died, because its hosting process no longer exists. And check <a href=\"https://stackoverflow.com/questions/7037093/android-dead-object-exception\">this</a> link for your reference based on DeadObjectException.</p>\n"},{"tags":[],"owner":{"account_id":1702904,"reputation":16002,"user_id":1562548,"accept_rate":58,"display_name":"Chintan Khetiya"},"down_vote_count":4,"up_vote_count":45,"is_accepted":false,"score":41,"last_activity_date":1598544586,"creation_date":1392976075,"answer_id":21930743,"question_id":21826670,"body_markdown":"[DeadObjectException][1] - The object you are calling has died because its hosting process no longer exists.\r\n\r\n[From here][2]:\r\n\r\n&gt; Does this problem happen every time you debug your project?\r\n&gt; \r\n&gt; Override your service&#39;s `onDestroy()` method and watch what event flow\r\n&gt; leads to it. If you catch `DeadObjectException` without going through\r\n&gt; this method, your service should have been killed by the OS.\r\n\r\n\r\nAs you are using web API in your fragment so sometimes that will send multiple requests on the server and in terms of response, you are getting `@null`.\r\n\r\n    W/Binder  (  899): Caught a RuntimeException from the binder stub implementation.\r\n    W/Binder  (  899): java.lang.NullPointerException\r\n\r\n\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/os/DeadObjectException.html#DeadObjectException%28%29\r\n  [2]: https://stackoverflow.com/questions/1573557/how-to-fix-android-os-deadobjectexception-android-x","title":"DeadObjectException on android app","body":"<p><a href=\"http://developer.android.com/reference/android/os/DeadObjectException.html#DeadObjectException%28%29\" rel=\"noreferrer\">DeadObjectException</a> - The object you are calling has died because its hosting process no longer exists.</p>\n<p><a href=\"https://stackoverflow.com/questions/1573557/how-to-fix-android-os-deadobjectexception-android-x\">From here</a>:</p>\n<blockquote>\n<p>Does this problem happen every time you debug your project?</p>\n<p>Override your service's <code>onDestroy()</code> method and watch what event flow\nleads to it. If you catch <code>DeadObjectException</code> without going through\nthis method, your service should have been killed by the OS.</p>\n</blockquote>\n<p>As you are using web API in your fragment so sometimes that will send multiple requests on the server and in terms of response, you are getting <code>@null</code>.</p>\n<pre><code>W/Binder  (  899): Caught a RuntimeException from the binder stub implementation.\nW/Binder  (  899): java.lang.NullPointerException\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3267280,"reputation":3165,"user_id":2751529,"display_name":"Sainath Patwary karnate"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1399460509,"creation_date":1399460509,"answer_id":23516013,"question_id":21826670,"body_markdown":"In my app i found this bug , but the great thing about this exception is which doesn&#39;t occurs in all the devices\r\n\r\nafter doing lot of R&amp;D i resolved it by removing Typeface , this might be because of ttf which i was using from assets folder \r\nPlease try comment the typeface and test it hope it will work for sure \r\n\r\nWhen i Got this DeadObjectException my component code looks like this \r\n\r\n    public class TextViewCust extends TextView {\r\n   \r\n\tprivate Context context;\r\n\tprivate AttributeSet attrs;\r\n\tprivate int defStyle;\r\n\t\r\n\tpublic TextViewCust (Context context) {\r\n\t\tsuper(context);\r\n\t\tthis.context=context;\r\n\t\tinit();\r\n\t} \r\n\t \r\n\t public TextViewCust (Context context, AttributeSet attrs) {\r\n\t\t  super(context, attrs);\r\n\t\t  this.context=context;\r\n\t\t  this.attrs=attrs;\r\n\t\t  init();\r\n\t }\r\n\r\n    public TextViewCust (Context context, AttributeSet attrs, int defStyle) {\r\n\t\t  super(context, attrs, defStyle);\r\n\t\t  this.context=context;\r\n\t\t  this.attrs=attrs;\r\n\t\t  this.defStyle=defStyle;\r\n\t\t  init();\r\n     }\r\n    \r\n    private void init() {\r\n                //This is the line where i got dead Object Exception \r\n\t        Typeface font=Typeface.createFromAsset(getContext().getAssets(), &quot;telugu.ttf&quot;);\r\n\t        this.setTypeface(font);\r\n      }\r\n\r\n**Note:** When i commented the code in init method i never got that exception even a single time \r\n","title":"DeadObjectException on android app","body":"<p>In my app i found this bug , but the great thing about this exception is which doesn't occurs in all the devices</p>\n\n<p>after doing lot of R&amp;D i resolved it by removing Typeface , this might be because of ttf which i was using from assets folder \nPlease try comment the typeface and test it hope it will work for sure </p>\n\n<p>When i Got this DeadObjectException my component code looks like this </p>\n\n<pre><code>public class TextViewCust extends TextView {\n\nprivate Context context;\nprivate AttributeSet attrs;\nprivate int defStyle;\n\npublic TextViewCust (Context context) {\n    super(context);\n    this.context=context;\n    init();\n} \n\n public TextViewCust (Context context, AttributeSet attrs) {\n      super(context, attrs);\n      this.context=context;\n      this.attrs=attrs;\n      init();\n }\n\npublic TextViewCust (Context context, AttributeSet attrs, int defStyle) {\n      super(context, attrs, defStyle);\n      this.context=context;\n      this.attrs=attrs;\n      this.defStyle=defStyle;\n      init();\n }\n\nprivate void init() {\n            //This is the line where i got dead Object Exception \n        Typeface font=Typeface.createFromAsset(getContext().getAssets(), \"telugu.ttf\");\n        this.setTypeface(font);\n  }\n</code></pre>\n\n<p><strong>Note:</strong> When i commented the code in init method i never got that exception even a single time </p>\n"},{"tags":[],"owner":{"account_id":210642,"reputation":8430,"user_id":1347816,"accept_rate":78,"display_name":"LEMUEL  ADANE"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1414804182,"creation_date":1414798016,"answer_id":26684826,"question_id":21826670,"body_markdown":"I solved this when I did not called my own method in the onCreate method of the Activity like the init() method in  sample code in the answer below. So I have to put all my code inside the onCreate. From there you will see what is the culprit like a NullPointerException for example but your code will run smoothly already.","title":"DeadObjectException on android app","body":"<p>I solved this when I did not called my own method in the onCreate method of the Activity like the init() method in  sample code in the answer below. So I have to put all my code inside the onCreate. From there you will see what is the culprit like a NullPointerException for example but your code will run smoothly already.</p>\n"},{"tags":[],"owner":{"account_id":11565,"reputation":2569,"user_id":22365,"accept_rate":57,"display_name":"Justin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1502209315,"creation_date":1502209315,"answer_id":45573427,"question_id":21826670,"body_markdown":"I ran into this exception while running the emulator for a Pixel. However when I ran the same code on a live Samsung 6 with Android 7, the issue was never repeated.  After rebooting my macbook the issue was resolved - I suspect that it often occurs with emulators that have been running for a while on a machine that has been running a while.\r\n\r\nTLDR; Reboot your machine.","title":"DeadObjectException on android app","body":"<p>I ran into this exception while running the emulator for a Pixel. However when I ran the same code on a live Samsung 6 with Android 7, the issue was never repeated.  After rebooting my macbook the issue was resolved - I suspect that it often occurs with emulators that have been running for a while on a machine that has been running a while.</p>\n\n<p>TLDR; Reboot your machine.</p>\n"},{"tags":[],"owner":{"account_id":3769009,"reputation":1689,"user_id":3131706,"display_name":"shubhamgarg1"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616563459,"creation_date":1615391493,"answer_id":66568264,"question_id":21826670,"body_markdown":"I started getting this error after using Database Inspector that has been introduced with Android Studio.\r\nRestarting Android Studio and not running Database Inspector fixed the issue for me. \r\n\r\nAlso try removing the code_cache folder using the Device File Explorer.","title":"DeadObjectException on android app","body":"<p>I started getting this error after using Database Inspector that has been introduced with Android Studio.\nRestarting Android Studio and not running Database Inspector fixed the issue for me.</p>\n<p>Also try removing the code_cache folder using the Device File Explorer.</p>\n"},{"tags":[],"owner":{"account_id":21057556,"reputation":21,"user_id":15476560,"display_name":"Bach Do"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1616662309,"creation_date":1616662309,"answer_id":66795982,"question_id":21826670,"body_markdown":"Getting this issue after using Database Inspector too. Restart Android Studio worked.","title":"DeadObjectException on android app","body":"<p>Getting this issue after using Database Inspector too. Restart Android Studio worked.</p>\n"},{"tags":[],"owner":{"account_id":2637231,"reputation":1412,"user_id":2281606,"accept_rate":62,"display_name":"A.D."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623397607,"creation_date":1623397607,"answer_id":67933148,"question_id":21826670,"body_markdown":"I observed the same problem several times. I saw this log entry shortly before the crash:\r\n\r\n    ActivityManager: stop com.google.android.webview\r\n\r\n\r\nMy best guess: if your app uses a WebView somewhere and the WebView (Android System WebView) gets a update by Google Play Store (or crashed) while your app is running, this crash can happen.","title":"DeadObjectException on android app","body":"<p>I observed the same problem several times. I saw this log entry shortly before the crash:</p>\n<pre><code>ActivityManager: stop com.google.android.webview\n</code></pre>\n<p>My best guess: if your app uses a WebView somewhere and the WebView (Android System WebView) gets a update by Google Play Store (or crashed) while your app is running, this crash can happen.</p>\n"},{"tags":[],"owner":{"account_id":7874576,"reputation":114,"user_id":5950768,"display_name":"Michi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683813025,"creation_date":1683813025,"answer_id":76228376,"question_id":21826670,"body_markdown":"In my case wrong java_home was the reason.\r\nI tried with:\r\n- react-native v0.70.9\r\n- Android Gradle Plugin 7.4.2\r\n- Java 17\r\n=&gt; correct Java Version for this case is Java 11\r\n\r\nMay it help some others!","title":"DeadObjectException on android app","body":"<p>In my case wrong java_home was the reason.\nI tried with:</p>\n<ul>\n<li>react-native v0.70.9</li>\n<li>Android Gradle Plugin 7.4.2</li>\n<li>Java 17\n=&gt; correct Java Version for this case is Java 11</li>\n</ul>\n<p>May it help some others!</p>\n"},{"tags":[],"owner":{"account_id":19484880,"reputation":62,"user_id":14254453,"display_name":"KUMARASWAMY B.G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685193609,"creation_date":1685193609,"answer_id":76347135,"question_id":21826670,"body_markdown":"DeadObjectException in my case was lack of memory.\r\n\r\nApparently there was a endless &quot;recursion&quot; in the app on the other thread which drained all the memory.","title":"DeadObjectException on android app","body":"<p>DeadObjectException in my case was lack of memory.</p>\n<p>Apparently there was a endless &quot;recursion&quot; in the app on the other thread which drained all the memory.</p>\n"},{"tags":[],"owner":{"account_id":16572489,"reputation":85,"user_id":11975204,"display_name":"Rahul Sharma"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1692771052,"creation_date":1692771052,"answer_id":76958703,"question_id":21826670,"body_markdown":"Check if you had added the internet permission in manifest.\r\n\r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n","title":"DeadObjectException on android app","body":"<p>Check if you had added the internet permission in manifest.</p>\n<pre><code>    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":537367,"reputation":2836,"user_id":905906,"accept_rate":63,"display_name":"Kayhan Asghari"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105076,"favorite_count":0,"down_vote_count":0,"up_vote_count":58,"answer_count":11,"score":58,"last_activity_date":1692771052,"creation_date":1392633313,"question_id":21826670,"body_markdown":"Sometimes I start an `Activity` of my app, or switch fast between `Fragment`s of a `ViewPager` which is in that specific `Activity`, I got `DeadObjectException` like this:\r\n\r\n    W/ActivityManager(  669): android.os.DeadObjectException\r\n    W/ActivityManager(  669): \tat android.os.BinderProxy.transact(Native Method)\r\n    W/ActivityManager(  669): \tat android.app.ApplicationThreadProxy.schedulePauseActivity(ApplicationThreadNative.java:660)\r\n    W/ActivityManager(  669): \tat com.android.server.am.ActivityStack.startPausingLocked(ActivityStack.java:776)\r\n    W/ActivityManager(  669): \tat com.android.server.am.ActivityStack.finishActivityLocked(ActivityStack.java:2501)\r\n    W/ActivityManager(  669): \tat com.android.server.am.ActivityStack.finishTopRunningActivityLocked(ActivityStack.java:2375)\r\n    W/ActivityManager(  669): \tat com.android.server.am.ActivityStackSupervisor.finishTopRunningActivityLocked(ActivityStackSupervisor.java:2040)\r\n    W/ActivityManager(  669): \tat com.android.server.am.ActivityManagerService.handleAppCrashLocked(ActivityManagerService.java:9667)\r\n    W/ActivityManager(  669): \tat com.android.server.am.ActivityManagerService.makeAppCrashingLocked(ActivityManagerService.java:9560)\r\n    W/ActivityManager(  669): \tat com.android.server.am.ActivityManagerService.crashApplication(ActivityManagerService.java:10205)\r\n    W/ActivityManager(  669): \tat com.android.server.am.ActivityManagerService.handleApplicationCrashInner(ActivityManagerService.java:9756)\r\n    W/ActivityManager(  669): \tat com.android.server.am.NativeCrashListener$NativeCrashReporter.run(NativeCrashListener.java:86\r\n\r\nand app crashes. I also got some unusual logs like this:\r\n\r\n    F/libc    (24088): Fatal signal 11 (SIGSEGV) at 0x00000020 (code=1), thread 24115 (Thread-1047)\r\n    I/DEBUG   (23974): *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***\r\n    I/DEBUG   (23974): Build fingerprint: &#39;google/occam/mako:4.4.2/KOT49H/937116:user/release-keys&#39;\r\n    I/DEBUG   (23974): Revision: &#39;11&#39;\r\n    I/DEBUG   (23974): pid: 24088, tid: 24115, name: Thread-1047  &gt;&gt;&gt; com.somthing.blah &lt;&lt;&lt;\r\n    I/DEBUG   (23974): signal 11 (SIGSEGV), code 1 (SEGV_MAPERR), fault addr 00000020\r\n    I/DEBUG   (23974):     r0 77205ca0  r1 00000020  r2 77205ca0  r3 00000000\r\n    I/DEBUG   (23974):     r4 77205ca0  r5 756f7f40  r6 00000000  r7 75711d4c\r\n    I/DEBUG   (23974):     r8 75e5db10  r9 75711d44  sl 756f7f50  fp 75e5db24\r\n    I/DEBUG   (23974):     ip 733efb10  sp 75e5db00  lr 40a4fc3f  pc 00000020  cpsr 400b0010\r\n    I/DEBUG   (23974):     d0  0000000000000000  d1  0000000000000000\r\n    I/DEBUG   (23974):     d2  0000000000000000  d3  0000000000000000\r\n    I/DEBUG   (23974):     d4  0f0000000f000000  d5  050000000f000000\r\n    I/DEBUG   (23974):     d6  0500000005000000  d7  0500000005000000\r\n    I/DEBUG   (23974):     d8  0000000000000000  d9  0000000000000000\r\n    I/DEBUG   (23974):     d10 0000000000000000  d11 0000000000000000\r\n    I/DEBUG   (23974):     d12 0000000000000000  d13 0000000000000000\r\n    I/DEBUG   (23974):     d14 0000000000000000  d15 0000000000000000\r\n    I/DEBUG   (23974):     d16 3ea086314bf691da  d17 eddf2c9e110286d5\r\n    I/DEBUG   (23974):     d18 006500670022005b  d19 0074006100430074\r\n    I/DEBUG   (23974):     d20 0067006f006c0061  d21 002c002200650075\r\n    I/DEBUG   (23974):     d22 0022002c00220022  d23 002c002200610066\r\n    I/DEBUG   (23974):     d24 4000000000000000  d25 547d42aea2879f2e\r\n    I/DEBUG   (23974):     d26 40f86a0000000000  d27 3ff0000000000000\r\n    I/DEBUG   (23974):     d28 40f86a0000000000  d29 0000000000000001\r\n    I/DEBUG   (23974):     d30 4024000000000000  d31 4000000000000000\r\n    I/DEBUG   (23974):     scr 60000010\r\n    I/DEBUG   (23974): \r\n    I/DEBUG   (23974): backtrace:\r\n    I/DEBUG   (23974):     #00  pc 00000020  &lt;unknown&gt;\r\n    I/DEBUG   (23974):     #01  pc 00079c3d  /system/lib/libcrypto.so (EVP_MD_CTX_cleanup+28)\r\n    I/DEBUG   (23974):     #02  pc 00079e15  /system/lib/libcrypto.so (EVP_MD_CTX_destroy+4)\r\n    I/DEBUG   (23974):     #03  pc 0001ea50  /system/lib/libdvm.so (dvmPlatformInvoke+116)\r\n    I/DEBUG   (23974):     #04  pc 0004f65f  /system/lib/libdvm.so (dvmCallJNIMethod(unsigned int const*, JValue*, Method const*, Thread*)+398)\r\n    I/DEBUG   (23974):     #05  pc 00027ee0  /system/lib/libdvm.so\r\n    I/DEBUG   (23974):     #06  pc 0002f3d8  /system/lib/libdvm.so (dvmMterpStd(Thread*)+76)\r\n    I/DEBUG   (23974):     #07  pc 0002ca7c  /system/lib/libdvm.so (dvmInterpret(Thread*, Method const*, JValue*)+184)\r\n    I/DEBUG   (23974):     #08  pc 00061adb  /system/lib/libdvm.so (dvmCallMethodV(Thread*, Method const*, Object*, bool, JValue*, std::__va_list)+338)\r\n    I/DEBUG   (23974):     #09  pc 00061aff  /system/lib/libdvm.so (dvmCallMethod(Thread*, Method const*, Object*, JValue*, ...)+20)\r\n    I/DEBUG   (23974):     #10  pc 000567eb  /system/lib/libdvm.so\r\n    I/DEBUG   (23974):     #11  pc 0000d190  /system/lib/libc.so (__thread_entry+72)\r\n    I/DEBUG   (23974):     #12  pc 0000d328  /system/lib/libc.so (pthread_create+240)\r\n    I/DEBUG   (23974): \r\n    I/DEBUG   (23974): stack:\r\n    I/DEBUG   (23974):          75e5dac0  1e800005  \r\n    I/DEBUG   (23974):          75e5dac4  41586719  /system/lib/libdvm.so\r\n    I/DEBUG   (23974):          75e5dac8  759674f0  [anon:libc_malloc]\r\n    I/DEBUG   (23974):          75e5dacc  756f7f40  [anon:libc_malloc]\r\n    I/DEBUG   (23974):          75e5dad0  415866f5  /system/lib/libdvm.so\r\n    I/DEBUG   (23974):          75e5dad4  733e41db  /system/lib/libjavacrypto.so\r\n    I/DEBUG   (23974):          75e5dad8  75e5daec  [stack:24115]\r\n    I/DEBUG   (23974):          75e5dadc  733e5e09  /system/lib/libjavacrypto.so\r\n    I/DEBUG   (23974):          75e5dae0  00000014  \r\n    I/DEBUG   (23974):          75e5dae4  733e601d  /system/lib/libjavacrypto.so\r\n    I/DEBUG   (23974):          75e5dae8  00000014  \r\n    I/DEBUG   (23974):          75e5daec  759674f0  [anon:libc_malloc]\r\n    I/DEBUG   (23974):          75e5daf0  1e800005  \r\n    I/DEBUG   (23974):          75e5daf4  41e25968  /dev/ashmem/dalvik-heap (deleted)\r\n    I/DEBUG   (23974):          75e5daf8  417a2298  /dev/ashmem/dalvik-zygote (deleted)\r\n    I/DEBUG   (23974):          75e5dafc  756f7f40  [anon:libc_malloc]\r\n    I/DEBUG   (23974):     #00  75e5db00  77205ca0  [anon:libc_malloc]\r\n    I/DEBUG   (23974):          ........  ........\r\n    I/DEBUG   (23974):     #01  75e5db00  77205ca0  [anon:libc_malloc]\r\n    I/DEBUG   (23974):          75e5db04  40a4fe19  /system/lib/libcrypto.so (EVP_MD_CTX_destroy+8)\r\n    I/DEBUG   (23974):     #02  75e5db08  6d7897b0  /dev/ashmem/dalvik-LinearAlloc (deleted)\r\n    I/DEBUG   (23974):          75e5db0c  41558a54  /system/lib/libdvm.so (dvmPlatformInvoke+120)\r\n    I/DEBUG   (23974): \r\n    I/DEBUG   (23974): memory near r0:\r\n    I/DEBUG   (23974):     77205c80 77199488 771a3118 771a31f0 771a31f0  \r\n    I/DEBUG   (23974):     77205c90 0000001b 3f800000 00000000 00000023  \r\n    I/DEBUG   (23974):     77205ca0 775a1110 00000020 00000020 00000000  \r\n    I/DEBUG   (23974):     77205cb0 00000001 00000000 00000020 00000023  \r\n    I/DEBUG   (23974):     77205cc0 730dbd0c 72fa1cee 000003d4 72a82591  \r\n    I/DEBUG   (23974):     77205cd0 75752d68 00000001 00000000 0000001b  \r\n    I/DEBUG   (23974):     77205ce0 732d5098 75718fa0 77176e18 75735358  \r\n    I/DEBUG   (23974):     77205cf0 00000000 0000001b 73268c08 00000001  \r\n    I/DEBUG   (23974):     77205d00 729967b9 73340f20 00000018 00000023  \r\n    I/DEBUG   (23974):     77205d10 730db385 72f9b871 00000047 72a2cdbb  \r\n    I/DEBUG   (23974):     77205d20 75752d68 00000002 746e6f63 00000013  \r\n    I/DEBUG   (23974):     77205d30 732675e0 00000002 721fc331 0000004b  \r\n    I/DEBUG   (23974):     77205d40 73268780 732687d4 00000002 77205d88  \r\n    I/DEBUG   (23974):     77205d50 77176e18 77205d30 721fc0a5 00000000  \r\n    I/DEBUG   (23974):     77205d60 00000000 00000000 00000000 00000000  \r\n    I/DEBUG   (23974):     77205d70 00000000 77205d98 77205d40 771f2ad8  \r\n    I/DEBUG   (23974): \r\n    I/DEBUG   (23974): memory near r2:\r\n    I/DEBUG   (23974):     77205c80 77199488 771a3118 771a31f0 771a31f0  \r\n    I/DEBUG   (23974):     77205c90 0000001b 3f800000 00000000 00000023  \r\n    I/DEBUG   (23974):     77205ca0 775a1110 00000020 00000020 00000000  \r\n    I/DEBUG   (23974):     77205cb0 00000001 00000000 00000020 00000023  \r\n    I/DEBUG   (23974):     77205cc0 730dbd0c 72fa1cee 000003d4 72a82591  \r\n    I/DEBUG   (23974):     77205cd0 75752d68 00000001 00000000 0000001b  \r\n    I/DEBUG   (23974):     77205ce0 732d5098 75718fa0 77176e18 75735358  \r\n    I/DEBUG   (23974):     77205cf0 00000000 0000001b 73268c08 00000001  \r\n    I/DEBUG   (23974):     77205d00 729967b9 73340f20 00000018 00000023  \r\n    I/DEBUG   (23974):     77205d10 730db385 72f9b871 00000047 72a2cdbb  \r\n    I/DEBUG   (23974):     77205d20 75752d68 00000002 746e6f63 00000013  \r\n    I/DEBUG   (23974):     77205d30 732675e0 00000002 721fc331 0000004b  \r\n    I/DEBUG   (23974):     77205d40 73268780 732687d4 00000002 77205d88  \r\n    I/DEBUG   (23974):     77205d50 77176e18 77205d30 721fc0a5 00000000  \r\n    I/DEBUG   (23974):     77205d60 00000000 00000000 00000000 00000000  \r\n    I/DEBUG   (23974):     77205d70 00000000 77205d98 77205d40 771f2ad8  \r\n    I/DEBUG   (23974): \r\n    I/DEBUG   (23974): memory near r4:\r\n    I/DEBUG   (23974):     77205c80 77199488 771a3118 771a31f0 771a31f0  \r\n    I/DEBUG   (23974):     77205c90 0000001b 3f800000 00000000 00000023  \r\n    I/DEBUG   (23974):     77205ca0 775a1110 00000020 00000020 00000000  \r\n    I/DEBUG   (23974):     77205cb0 00000001 00000000 00000020 00000023  \r\n    I/DEBUG   (23974):     77205cc0 730dbd0c 72fa1cee 000003d4 72a82591  \r\n    I/DEBUG   (23974):     77205cd0 75752d68 00000001 00000000 0000001b  \r\n    I/DEBUG   (23974):     77205ce0 732d5098 75718fa0 77176e18 75735358  \r\n    I/DEBUG   (23974):     77205cf0 00000000 0000001b 73268c08 00000001  \r\n    I/DEBUG   (23974):     77205d00 729967b9 73340f20 00000018 00000023  \r\n    I/DEBUG   (23974):     77205d10 730db385 72f9b871 00000047 72a2cdbb  \r\n    I/DEBUG   (23974):     77205d20 75752d68 00000002 746e6f63 00000013  \r\n    I/DEBUG   (23974):     77205d30 732675e0 00000002 721fc331 0000004b  \r\n    I/DEBUG   (23974):     77205d40 73268780 732687d4 00000002 77205d88  \r\n    I/DEBUG   (23974):     77205d50 77176e18 77205d30 721fc0a5 00000000  \r\n    I/DEBUG   (23974):     77205d60 00000000 00000000 00000000 00000000  \r\n    I/DEBUG   (23974):     77205d70 00000000 77205d98 77205d40 771f2ad8  \r\n    I/DEBUG   (23974): \r\n    I/DEBUG   (23974): memory near r5:\r\n    I/DEBUG   (23974):     756f7f20 d1d1d1d1 d1d1d1d1 d1d1d1d1 d1d1d1d1  \r\n    I/DEBUG   (23974):     756f7f30 d1d1d1d1 d1d1d1d1 00000008 0000045b  \r\n    I/DEBUG   (23974):     756f7f40 6e9093d8 75711d44 6d78c6a8 6e9cf000  \r\n    I/DEBUG   (23974):     756f7f50 00000014 00000007 75e5dc40 00000000  \r\n    I/DEBUG   (23974):     756f7f60 75e5dc94 00000013 00000000 41558bc0  \r\n    I/DEBUG   (23974):     756f7f70 00000000 00000000 6c870270 7570e300  \r\n    I/DEBUG   (23974):     756f7f80 00000000 00000000 00000001 00004000  \r\n    I/DEBUG   (23974):     756f7f90 00000000 756f8398 41558bc0 4155db00  \r\n    I/DEBUG   (23974):     756f7fa0 00000000 41561bfc 41561c70 41561b20  \r\n    I/DEBUG   (23974):     756f7fb0 41561b40 41561b9c 00000000 00000000  \r\n    I/DEBUG   (23974):     756f7fc0 7716efc0 00000028 00000000 00000000  \r\n    I/DEBUG   (23974):     756f7fd0 00000000 00000006 00002000 415ec9fc  \r\n    I/DEBUG   (23974):     756f7fe0 00000000 00000000 00000001 75712008  \r\n    I/DEBUG   (23974):     756f7ff0 00000001 00000040 00000200 00000000  \r\n    I/DEBUG   (23974):     756f8000 00000003 6e5c7fe8 6e5c7fe8 00000006  \r\n    I/DEBUG   (23974):     756f8010 6e5c8002 6d7bdb10 4506b31a 95582e61  \r\n    I/DEBUG   (23974): \r\n    I/DEBUG   (23974): memory near r7:\r\n    I/DEBUG   (23974):     75711d2c 00000000 75711d60 6e909384 6d7897b0  \r\n    I/DEBUG   (23974):     75711d3c 00000000 00000000 77205ca0 00000000  \r\n    I/DEBUG   (23974):     75711d4c 75711d88 6e909484 6d78c6a8 6e909384  \r\n    I/DEBUG   (23974):     75711d5c 00000000 77205ca0 00000000 00000000  \r\n    I/DEBUG   (23974):     75711d6c 00000000 4193b628 75711da0 6e90ac6a  \r\n    I/DEBUG   (23974):     75711d7c 6d78c838 6e909484 00000000 4193b628  \r\n    I/DEBUG   (23974):     75711d8c 75711de8 6e90af7e 6d8119b0 6e90ac6a  \r\n    I/DEBUG   (23974):     75711d9c 00000000 41db28e0 00000000 41db28b8  \r\n    I/DEBUG   (23974):     75711dac 41db2890 4193b628 6d4b7c58 00000000  \r\n    I/DEBUG   (23974):     75711dbc 00000000 4193b740 41cbcf10 00000014  \r\n    I/DEBUG   (23974):     75711dcc 0000006b 00000014 75711e2c 6e90b0a8  \r\n    I/DEBUG   (23974):     75711ddc 6d811a28 6e90af7e 00000000 41cbcf10  \r\n    I/DEBUG   (23974):     75711dec 0000007f 41ebe038 41e4a630 00000014  \r\n    I/DEBUG   (23974):     75711dfc 0000006b 00000014 00000000 4193b740  \r\n    I/DEBUG   (23974):     75711e0c 4188c5d0 00000000 00000010 75711e54  \r\n    I/DEBUG   (23974):     75711e1c 6e9276f8 6d811b40 6e90b0a8 00000000  \r\n    I/DEBUG   (23974): \r\n    I/DEBUG   (23974): memory near r8:\r\n    I/DEBUG   (23974):     75e5daf0 1e800005 41e25968 417a2298 756f7f40  \r\n    I/DEBUG   (23974):     75e5db00 77205ca0 40a4fe19 6d7897b0 41558a54  \r\n    I/DEBUG   (23974):     75e5db10 75711d44 00000001 00000008 417a2298  \r\n    I/DEBUG   (23974):     75e5db20 0000006b 41589663 75711d44 6e84fe63  \r\n    I/DEBUG   (23974):     75e5db30 733e3f5f 756f7f50 415ec2c8 00000000  \r\n    I/DEBUG   (23974):     75e5db40 1f400001 00000000 003b4c00 4012c384  \r\n    I/DEBUG   (23974):     75e5db50 41539328 415ae7d9 00000000 415e7c6c  \r\n    I/DEBUG   (23974):     75e5db60 4012c384 00000014 415ec2c8 4012c384  \r\n    I/DEBUG   (23974):     75e5db70 00000014 415650f4 00000001 00000001  \r\n    I/DEBUG   (23974):     75e5db80 6d4aa940 6e842b54 00000001 6e967224  \r\n    I/DEBUG   (23974):     75e5db90 00000001 417a2298 0000003c 00000001  \r\n    I/DEBUG   (23974):     75e5dba0 6d7897b0 6e965758 75e5dbf4 00000038  \r\n    I/DEBUG   (23974):     75e5dbb0 00000001 415a7433 6e965758 6e8da484  \r\n    I/DEBUG   (23974):     75e5dbc0 417a2298 6e965758 6e9cf000 000014b9  \r\n    I/DEBUG   (23974):     75e5dbd0 00000002 4012c384 6d4aad10 415a789b  \r\n    I/DEBUG   (23974):     75e5dbe0 75e5dbf4 6e965758 75e5dbf4 415a7e91  \r\n    I/DEBUG   (23974): \r\n    I/DEBUG   (23974): memory near r9:\r\n    I/DEBUG   (23974):     75711d24 6e909484 6d78c6a8 00000000 75711d60  \r\n    I/DEBUG   (23974):     75711d34 6e909384 6d7897b0 00000000 00000000  \r\n    I/DEBUG   (23974):     75711d44 77205ca0 00000000 75711d88 6e909484  \r\n    I/DEBUG   (23974):     75711d54 6d78c6a8 6e909384 00000000 77205ca0  \r\n    I/DEBUG   (23974):     75711d64 00000000 00000000 00000000 4193b628  \r\n    I/DEBUG   (23974):     75711d74 75711da0 6e90ac6a 6d78c838 6e909484  \r\n    I/DEBUG   (23974):     75711d84 00000000 4193b628 75711de8 6e90af7e  \r\n    I/DEBUG   (23974):     75711d94 6d8119b0 6e90ac6a 00000000 41db28e0  \r\n    I/DEBUG   (23974):     75711da4 00000000 41db28b8 41db2890 4193b628  \r\n    I/DEBUG   (23974):     75711db4 6d4b7c58 00000000 00000000 4193b740  \r\n    I/DEBUG   (23974):     75711dc4 41cbcf10 00000014 0000006b 00000014  \r\n    I/DEBUG   (23974):     75711dd4 75711e2c 6e90b0a8 6d811a28 6e90af7e  \r\n    I/DEBUG   (23974):     75711de4 00000000 41cbcf10 0000007f 41ebe038  \r\n    I/DEBUG   (23974):     75711df4 41e4a630 00000014 0000006b 00000014  \r\n    I/DEBUG   (23974):     75711e04 00000000 4193b740 4188c5d0 00000000  \r\n    I/DEBUG   (23974):     75711e14 00000010 75711e54 6e9276f8 6d811b40  \r\n    I/DEBUG   (23974): \r\n    I/DEBUG   (23974): memory near sl:\r\n    I/DEBUG   (23974):     756f7f30 d1d1d1d1 d1d1d1d1 00000008 0000045b  \r\n    I/DEBUG   (23974):     756f7f40 6e9093d8 75711d44 6d78c6a8 6e9cf000  \r\n    I/DEBUG   (23974):     756f7f50 00000014 00000007 75e5dc40 00000000  \r\n    I/DEBUG   (23974):     756f7f60 75e5dc94 00000013 00000000 41558bc0  \r\n    I/DEBUG   (23974):     756f7f70 00000000 00000000 6c870270 7570e300  \r\n    I/DEBUG   (23974):     756f7f80 00000000 00000000 00000001 00004000  \r\n    I/DEBUG   (23974):     756f7f90 00000000 756f8398 41558bc0 4155db00  \r\n    I/DEBUG   (23974):     756f7fa0 00000000 41561bfc 41561c70 41561b20  \r\n    I/DEBUG   (23974):     756f7fb0 41561b40 41561b9c 00000000 00000000  \r\n    I/DEBUG   (23974):     756f7fc0 7716efc0 00000028 00000000 00000000  \r\n    I/DEBUG   (23974):     756f7fd0 00000000 00000006 00002000 415ec9fc  \r\n    I/DEBUG   (23974):     756f7fe0 00000000 00000000 00000001 75712008  \r\n    I/DEBUG   (23974):     756f7ff0 00000001 00000040 00000200 00000000  \r\n    I/DEBUG   (23974):     756f8000 00000003 6e5c7fe8 6e5c7fe8 00000006  \r\n    I/DEBUG   (23974):     756f8010 6e5c8002 6d7bdb10 4506b31a 95582e61  \r\n    I/DEBUG   (23974):     756f8020 f7d042ed f7d041e7 4506b31e 88a0767c  \r\n    I/DEBUG   (23974): \r\n    I/DEBUG   (23974): memory near fp:\r\n    I/DEBUG   (23974):     75e5db04 40a4fe19 6d7897b0 41558a54 75711d44  \r\n    I/DEBUG   (23974):     75e5db14 00000001 00000008 417a2298 0000006b  \r\n    I/DEBUG   (23974):     75e5db24 41589663 75711d44 6e84fe63 733e3f5f  \r\n    I/DEBUG   (23974):     75e5db34 756f7f50 415ec2c8 00000000 1f400001  \r\n    I/DEBUG   (23974):     75e5db44 00000000 003b4c00 4012c384 41539328  \r\n    I/DEBUG   (23974):     75e5db54 415ae7d9 00000000 415e7c6c 4012c384  \r\n    I/DEBUG   (23974):     75e5db64 00000014 415ec2c8 4012c384 00000014  \r\n    I/DEBUG   (23974):     75e5db74 415650f4 00000001 00000001 6d4aa940  \r\n    I/DEBUG   (23974):     75e5db84 6e842b54 00000001 6e967224 00000001  \r\n    I/DEBUG   (23974):     75e5db94 417a2298 0000003c 00000001 6d7897b0  \r\n    I/DEBUG   (23974):     75e5dba4 6e965758 75e5dbf4 00000038 00000001  \r\n    I/DEBUG   (23974):     75e5dbb4 415a7433 6e965758 6e8da484 417a2298  \r\n    I/DEBUG   (23974):     75e5dbc4 6e965758 6e9cf000 000014b9 00000002  \r\n    I/DEBUG   (23974):     75e5dbd4 4012c384 6d4aad10 415a789b 75e5dbf4  \r\n    I/DEBUG   (23974):     75e5dbe4 6e965758 75e5dbf4 415a7e91 00000014  \r\n    I/DEBUG   (23974):     75e5dbf4 6d4aad10 000002d8 415a4663 00000000  \r\n    I/DEBUG   (23974): \r\n    I/DEBUG   (23974): memory near ip:\r\n    I/DEBUG   (23974):     733efaf0 40109e65 400f23ed 400fe298 40a33ab5  \r\n    I/DEBUG   (23974):     733efb00 40109919 40a0f431 40a84dc5 40a54e75  \r\n    I/DEBUG   (23974):     733efb10 40a4fe11 40a4f9e5 40a13a8d 40a4612d  \r\n    I/DEBUG   (23974):     733efb20 40a45dd1 40a46b25 40a3ee65 40a4a10d  \r\n    I/DEBUG   (23974):     733efb30 400f0fd5 40ae8e7d 400ec7d8 400ec8d0  \r\n    I/DEBUG   (23974):     733efb40 40a5d3d5 40ae86fd 40139927 400da559  \r\n    I/DEBUG   (23974):     733efb50 402ca5b5 40a52491 40a4aded 40a4ac61  \r\n    I/DEBUG   (23974):     733efb60 40a4ac01 40a4b169 40a4d1f9 401034a5  \r\n    I/DEBUG   (23974):     733efb70 40a4d1d9 40a4d2bd 400ebc19 400f13ad  \r\n    I/DEBUG   (23974):     733efb80 400efecd 402ca6f5 40ae8ef9 40aebdb1  \r\n    I/DEBUG   (23974):     733efb90 40a84cd5 40a1d4b9 40a1d5a1 40a84d1d  \r\n    I/DEBUG   (23974):     733efba0 40a2071d 40a16991 40a191a1 40a84475  \r\n    I/DEBUG   (23974):     733efbb0 40a78135 40a1f189 40a229b1 40a52dc1  \r\n    I/DEBUG   (23974):     733efbc0 40a22a55 40a128b5 40a53405 40a43345  \r\n    I/DEBUG   (23974):     733efbd0 40a43695 40a42ec5 40a430c9 40a434e1  \r\n    I/DEBUG   (23974):     733efbe0 40a42e4d 40a432dd 40a5d279 40a432e9  \r\n    I/DEBUG   (23974): \r\n    I/DEBUG   (23974): memory near sp:\r\n    I/DEBUG   (23974):     75e5dae0 00000014 733e601d 00000014 759674f0  \r\n    I/DEBUG   (23974):     75e5daf0 1e800005 41e25968 417a2298 756f7f40  \r\n    I/DEBUG   (23974):     75e5db00 77205ca0 40a4fe19 6d7897b0 41558a54  \r\n    I/DEBUG   (23974):     75e5db10 75711d44 00000001 00000008 417a2298  \r\n    I/DEBUG   (23974):     75e5db20 0000006b 41589663 75711d44 6e84fe63  \r\n    I/DEBUG   (23974):     75e5db30 733e3f5f 756f7f50 415ec2c8 00000000  \r\n    I/DEBUG   (23974):     75e5db40 1f400001 00000000 003b4c00 4012c384  \r\n    I/DEBUG   (23974):     75e5db50 41539328 415ae7d9 00000000 415e7c6c  \r\n    I/DEBUG   (23974):     75e5db60 4012c384 00000014 415ec2c8 4012c384  \r\n    I/DEBUG   (23974):     75e5db70 00000014 415650f4 00000001 00000001  \r\n    I/DEBUG   (23974):     75e5db80 6d4aa940 6e842b54 00000001 6e967224  \r\n    I/DEBUG   (23974):     75e5db90 00000001 417a2298 0000003c 00000001  \r\n    I/DEBUG   (23974):     75e5dba0 6d7897b0 6e965758 75e5dbf4 00000038  \r\n    I/DEBUG   (23974):     75e5dbb0 00000001 415a7433 6e965758 6e8da484  \r\n    I/DEBUG   (23974):     75e5dbc0 417a2298 6e965758 6e9cf000 000014b9  \r\n    I/DEBUG   (23974):     75e5dbd0 00000002 4012c384 6d4aad10 415a789b  \r\n    I/DEBUG   (23974): \r\n    I/DEBUG   (23974): code around pc:\r\n    I/DEBUG   (23974):     00000000 ffffffff ffffffff ffffffff ffffffff  \r\n    I/DEBUG   (23974):     00000010 ffffffff ffffffff ffffffff ffffffff  \r\n    I/DEBUG   (23974):     00000020 ffffffff ffffffff ffffffff ffffffff  \r\n    I/DEBUG   (23974):     00000030 ffffffff ffffffff ffffffff ffffffff  \r\n    I/DEBUG   (23974):     00000040 ffffffff ffffffff ffffffff ffffffff  \r\n    I/DEBUG   (23974):     00000050 ffffffff ffffffff ffffffff ffffffff  \r\n    I/DEBUG   (23974):     00000060 ffffffff ffffffff ffffffff ffffffff  \r\n    I/DEBUG   (23974):     00000070 ffffffff ffffffff ffffffff ffffffff  \r\n    I/DEBUG   (23974):     00000080 ffffffff ffffffff ffffffff ffffffff  \r\n    I/DEBUG   (23974):     00000090 ffffffff ffffffff ffffffff ffffffff  \r\n    I/DEBUG   (23974):     000000a0 ffffffff ffffffff ffffffff ffffffff  \r\n    I/DEBUG   (23974):     000000b0 ffffffff ffffffff ffffffff ffffffff  \r\n    I/DEBUG   (23974):     000000c0 ffffffff ffffffff ffffffff ffffffff  \r\n    I/DEBUG   (23974):     000000d0 ffffffff ffffffff ffffffff ffffffff  \r\n    I/DEBUG   (23974):     000000e0 ffffffff ffffffff ffffffff ffffffff  \r\n    I/DEBUG   (23974):     000000f0 ffffffff ffffffff ffffffff ffffffff  \r\n    I/DEBUG   (23974): \r\n    I/DEBUG   (23974): code around lr:\r\n    I/DEBUG   (23974):     40a4fc1c 0006a292 4604b510 b1e86820 b1406a00  \r\n    I/DEBUG   (23974):     40a4fc2c 21024620 fc14f003 6820b918 46206a01  \r\n    I/DEBUG   (23974):     40a4fc3c 68204788 6c40b180 68e0b170 4620b160  \r\n    I/DEBUG   (23974):     40a4fc4c f0032104 b938fc05 68e06821 f00a6c49  \r\n    I/DEBUG   (23974):     40a4fc5c 68e0f81b ffc2f009 b1086920 fac0f006  \r\n    I/DEBUG   (23974):     40a4fc6c b1086860 fff6f7fa 46212000 0f10f841  \r\n    I/DEBUG   (23974):     40a4fc7c 0050efc0 20016048 0a8ff944 bf00bd10  \r\n    I/DEBUG   (23974):     40a4fc8c 4800e92d 0050efc0 46032200 2f10f843  \r\n    I/DEBUG   (23974):     40a4fc9c f940605a f0000a8f e8bdf803 bf008800  \r\n    I/DEBUG   (23974):     40a4fcac 48f0e92d 460db082 b3254604 29006829  \r\n    I/DEBUG   (23974):     40a4fcbc 6868d021 f7fab118 b360ff9d 68206829  \r\n    I/DEBUG   (23974):     40a4fccc 42882600 4620d104 68e62104 fbb6f003  \r\n    I/DEBUG   (23974):     40a4fcdc f7ff4620 edd5ff9f f9650b04 edc42a8f  \r\n    I/DEBUG   (23974):     40a4fcec f9440b04 68e82a8f 6821b388 b3706c48  \r\n    I/DEBUG   (23974):     40a4fcfc 60e6b1e6 f44fe026 48257194 226f9100  \r\n    I/DEBUG   (23974):     40a4fd0c 44794927 20061843 f7fd216e 2000f8b7  \r\n\r\nMost of the time I also got these errors afterwards:\r\n\r\n    W/Binder  (  899): Caught a RuntimeException from the binder stub implementation.\r\n    W/Binder  (  899): java.lang.NullPointerException\r\n    W/Binder  (  899): \tat android.inputmethodservice.IInputMethodWrapper.setSessionEnabled(IInputMethodWrapper.java:280)\r\n    W/Binder  (  899): \tat com.android.internal.view.IInputMethod$Stub.onTransact(IInputMethod.java:129)\r\n    W/Binder  (  899): \tat android.os.Binder.execTransact(Binder.java:404)\r\n    W/Binder  (  899): \tat dalvik.system.NativeStart.run(Native Method)\r\n    W/InputMethodManagerService(  652): Got RemoteException sending setActive(false) notification to pid 14221 uid 10105\r\n\r\nEach `Fragment` of the aforementioned `ViewPager` loads data from net, and shows them. I&#39;m using Volley as request manager. One more detail, I&#39;m using `FragmentStatePagerAdapter` in that `ViewPager`.  \r\n \r\nWhat does it mean? What did I do wrong?\r\n","title":"DeadObjectException on android app","body":"<p>Sometimes I start an <code>Activity</code> of my app, or switch fast between <code>Fragment</code>s of a <code>ViewPager</code> which is in that specific <code>Activity</code>, I got <code>DeadObjectException</code> like this:</p>\n\n<pre><code>W/ActivityManager(  669): android.os.DeadObjectException\nW/ActivityManager(  669):   at android.os.BinderProxy.transact(Native Method)\nW/ActivityManager(  669):   at android.app.ApplicationThreadProxy.schedulePauseActivity(ApplicationThreadNative.java:660)\nW/ActivityManager(  669):   at com.android.server.am.ActivityStack.startPausingLocked(ActivityStack.java:776)\nW/ActivityManager(  669):   at com.android.server.am.ActivityStack.finishActivityLocked(ActivityStack.java:2501)\nW/ActivityManager(  669):   at com.android.server.am.ActivityStack.finishTopRunningActivityLocked(ActivityStack.java:2375)\nW/ActivityManager(  669):   at com.android.server.am.ActivityStackSupervisor.finishTopRunningActivityLocked(ActivityStackSupervisor.java:2040)\nW/ActivityManager(  669):   at com.android.server.am.ActivityManagerService.handleAppCrashLocked(ActivityManagerService.java:9667)\nW/ActivityManager(  669):   at com.android.server.am.ActivityManagerService.makeAppCrashingLocked(ActivityManagerService.java:9560)\nW/ActivityManager(  669):   at com.android.server.am.ActivityManagerService.crashApplication(ActivityManagerService.java:10205)\nW/ActivityManager(  669):   at com.android.server.am.ActivityManagerService.handleApplicationCrashInner(ActivityManagerService.java:9756)\nW/ActivityManager(  669):   at com.android.server.am.NativeCrashListener$NativeCrashReporter.run(NativeCrashListener.java:86\n</code></pre>\n\n<p>and app crashes. I also got some unusual logs like this:</p>\n\n<pre><code>F/libc    (24088): Fatal signal 11 (SIGSEGV) at 0x00000020 (code=1), thread 24115 (Thread-1047)\nI/DEBUG   (23974): *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***\nI/DEBUG   (23974): Build fingerprint: 'google/occam/mako:4.4.2/KOT49H/937116:user/release-keys'\nI/DEBUG   (23974): Revision: '11'\nI/DEBUG   (23974): pid: 24088, tid: 24115, name: Thread-1047  &gt;&gt;&gt; com.somthing.blah &lt;&lt;&lt;\nI/DEBUG   (23974): signal 11 (SIGSEGV), code 1 (SEGV_MAPERR), fault addr 00000020\nI/DEBUG   (23974):     r0 77205ca0  r1 00000020  r2 77205ca0  r3 00000000\nI/DEBUG   (23974):     r4 77205ca0  r5 756f7f40  r6 00000000  r7 75711d4c\nI/DEBUG   (23974):     r8 75e5db10  r9 75711d44  sl 756f7f50  fp 75e5db24\nI/DEBUG   (23974):     ip 733efb10  sp 75e5db00  lr 40a4fc3f  pc 00000020  cpsr 400b0010\nI/DEBUG   (23974):     d0  0000000000000000  d1  0000000000000000\nI/DEBUG   (23974):     d2  0000000000000000  d3  0000000000000000\nI/DEBUG   (23974):     d4  0f0000000f000000  d5  050000000f000000\nI/DEBUG   (23974):     d6  0500000005000000  d7  0500000005000000\nI/DEBUG   (23974):     d8  0000000000000000  d9  0000000000000000\nI/DEBUG   (23974):     d10 0000000000000000  d11 0000000000000000\nI/DEBUG   (23974):     d12 0000000000000000  d13 0000000000000000\nI/DEBUG   (23974):     d14 0000000000000000  d15 0000000000000000\nI/DEBUG   (23974):     d16 3ea086314bf691da  d17 eddf2c9e110286d5\nI/DEBUG   (23974):     d18 006500670022005b  d19 0074006100430074\nI/DEBUG   (23974):     d20 0067006f006c0061  d21 002c002200650075\nI/DEBUG   (23974):     d22 0022002c00220022  d23 002c002200610066\nI/DEBUG   (23974):     d24 4000000000000000  d25 547d42aea2879f2e\nI/DEBUG   (23974):     d26 40f86a0000000000  d27 3ff0000000000000\nI/DEBUG   (23974):     d28 40f86a0000000000  d29 0000000000000001\nI/DEBUG   (23974):     d30 4024000000000000  d31 4000000000000000\nI/DEBUG   (23974):     scr 60000010\nI/DEBUG   (23974): \nI/DEBUG   (23974): backtrace:\nI/DEBUG   (23974):     #00  pc 00000020  &lt;unknown&gt;\nI/DEBUG   (23974):     #01  pc 00079c3d  /system/lib/libcrypto.so (EVP_MD_CTX_cleanup+28)\nI/DEBUG   (23974):     #02  pc 00079e15  /system/lib/libcrypto.so (EVP_MD_CTX_destroy+4)\nI/DEBUG   (23974):     #03  pc 0001ea50  /system/lib/libdvm.so (dvmPlatformInvoke+116)\nI/DEBUG   (23974):     #04  pc 0004f65f  /system/lib/libdvm.so (dvmCallJNIMethod(unsigned int const*, JValue*, Method const*, Thread*)+398)\nI/DEBUG   (23974):     #05  pc 00027ee0  /system/lib/libdvm.so\nI/DEBUG   (23974):     #06  pc 0002f3d8  /system/lib/libdvm.so (dvmMterpStd(Thread*)+76)\nI/DEBUG   (23974):     #07  pc 0002ca7c  /system/lib/libdvm.so (dvmInterpret(Thread*, Method const*, JValue*)+184)\nI/DEBUG   (23974):     #08  pc 00061adb  /system/lib/libdvm.so (dvmCallMethodV(Thread*, Method const*, Object*, bool, JValue*, std::__va_list)+338)\nI/DEBUG   (23974):     #09  pc 00061aff  /system/lib/libdvm.so (dvmCallMethod(Thread*, Method const*, Object*, JValue*, ...)+20)\nI/DEBUG   (23974):     #10  pc 000567eb  /system/lib/libdvm.so\nI/DEBUG   (23974):     #11  pc 0000d190  /system/lib/libc.so (__thread_entry+72)\nI/DEBUG   (23974):     #12  pc 0000d328  /system/lib/libc.so (pthread_create+240)\nI/DEBUG   (23974): \nI/DEBUG   (23974): stack:\nI/DEBUG   (23974):          75e5dac0  1e800005  \nI/DEBUG   (23974):          75e5dac4  41586719  /system/lib/libdvm.so\nI/DEBUG   (23974):          75e5dac8  759674f0  [anon:libc_malloc]\nI/DEBUG   (23974):          75e5dacc  756f7f40  [anon:libc_malloc]\nI/DEBUG   (23974):          75e5dad0  415866f5  /system/lib/libdvm.so\nI/DEBUG   (23974):          75e5dad4  733e41db  /system/lib/libjavacrypto.so\nI/DEBUG   (23974):          75e5dad8  75e5daec  [stack:24115]\nI/DEBUG   (23974):          75e5dadc  733e5e09  /system/lib/libjavacrypto.so\nI/DEBUG   (23974):          75e5dae0  00000014  \nI/DEBUG   (23974):          75e5dae4  733e601d  /system/lib/libjavacrypto.so\nI/DEBUG   (23974):          75e5dae8  00000014  \nI/DEBUG   (23974):          75e5daec  759674f0  [anon:libc_malloc]\nI/DEBUG   (23974):          75e5daf0  1e800005  \nI/DEBUG   (23974):          75e5daf4  41e25968  /dev/ashmem/dalvik-heap (deleted)\nI/DEBUG   (23974):          75e5daf8  417a2298  /dev/ashmem/dalvik-zygote (deleted)\nI/DEBUG   (23974):          75e5dafc  756f7f40  [anon:libc_malloc]\nI/DEBUG   (23974):     #00  75e5db00  77205ca0  [anon:libc_malloc]\nI/DEBUG   (23974):          ........  ........\nI/DEBUG   (23974):     #01  75e5db00  77205ca0  [anon:libc_malloc]\nI/DEBUG   (23974):          75e5db04  40a4fe19  /system/lib/libcrypto.so (EVP_MD_CTX_destroy+8)\nI/DEBUG   (23974):     #02  75e5db08  6d7897b0  /dev/ashmem/dalvik-LinearAlloc (deleted)\nI/DEBUG   (23974):          75e5db0c  41558a54  /system/lib/libdvm.so (dvmPlatformInvoke+120)\nI/DEBUG   (23974): \nI/DEBUG   (23974): memory near r0:\nI/DEBUG   (23974):     77205c80 77199488 771a3118 771a31f0 771a31f0  \nI/DEBUG   (23974):     77205c90 0000001b 3f800000 00000000 00000023  \nI/DEBUG   (23974):     77205ca0 775a1110 00000020 00000020 00000000  \nI/DEBUG   (23974):     77205cb0 00000001 00000000 00000020 00000023  \nI/DEBUG   (23974):     77205cc0 730dbd0c 72fa1cee 000003d4 72a82591  \nI/DEBUG   (23974):     77205cd0 75752d68 00000001 00000000 0000001b  \nI/DEBUG   (23974):     77205ce0 732d5098 75718fa0 77176e18 75735358  \nI/DEBUG   (23974):     77205cf0 00000000 0000001b 73268c08 00000001  \nI/DEBUG   (23974):     77205d00 729967b9 73340f20 00000018 00000023  \nI/DEBUG   (23974):     77205d10 730db385 72f9b871 00000047 72a2cdbb  \nI/DEBUG   (23974):     77205d20 75752d68 00000002 746e6f63 00000013  \nI/DEBUG   (23974):     77205d30 732675e0 00000002 721fc331 0000004b  \nI/DEBUG   (23974):     77205d40 73268780 732687d4 00000002 77205d88  \nI/DEBUG   (23974):     77205d50 77176e18 77205d30 721fc0a5 00000000  \nI/DEBUG   (23974):     77205d60 00000000 00000000 00000000 00000000  \nI/DEBUG   (23974):     77205d70 00000000 77205d98 77205d40 771f2ad8  \nI/DEBUG   (23974): \nI/DEBUG   (23974): memory near r2:\nI/DEBUG   (23974):     77205c80 77199488 771a3118 771a31f0 771a31f0  \nI/DEBUG   (23974):     77205c90 0000001b 3f800000 00000000 00000023  \nI/DEBUG   (23974):     77205ca0 775a1110 00000020 00000020 00000000  \nI/DEBUG   (23974):     77205cb0 00000001 00000000 00000020 00000023  \nI/DEBUG   (23974):     77205cc0 730dbd0c 72fa1cee 000003d4 72a82591  \nI/DEBUG   (23974):     77205cd0 75752d68 00000001 00000000 0000001b  \nI/DEBUG   (23974):     77205ce0 732d5098 75718fa0 77176e18 75735358  \nI/DEBUG   (23974):     77205cf0 00000000 0000001b 73268c08 00000001  \nI/DEBUG   (23974):     77205d00 729967b9 73340f20 00000018 00000023  \nI/DEBUG   (23974):     77205d10 730db385 72f9b871 00000047 72a2cdbb  \nI/DEBUG   (23974):     77205d20 75752d68 00000002 746e6f63 00000013  \nI/DEBUG   (23974):     77205d30 732675e0 00000002 721fc331 0000004b  \nI/DEBUG   (23974):     77205d40 73268780 732687d4 00000002 77205d88  \nI/DEBUG   (23974):     77205d50 77176e18 77205d30 721fc0a5 00000000  \nI/DEBUG   (23974):     77205d60 00000000 00000000 00000000 00000000  \nI/DEBUG   (23974):     77205d70 00000000 77205d98 77205d40 771f2ad8  \nI/DEBUG   (23974): \nI/DEBUG   (23974): memory near r4:\nI/DEBUG   (23974):     77205c80 77199488 771a3118 771a31f0 771a31f0  \nI/DEBUG   (23974):     77205c90 0000001b 3f800000 00000000 00000023  \nI/DEBUG   (23974):     77205ca0 775a1110 00000020 00000020 00000000  \nI/DEBUG   (23974):     77205cb0 00000001 00000000 00000020 00000023  \nI/DEBUG   (23974):     77205cc0 730dbd0c 72fa1cee 000003d4 72a82591  \nI/DEBUG   (23974):     77205cd0 75752d68 00000001 00000000 0000001b  \nI/DEBUG   (23974):     77205ce0 732d5098 75718fa0 77176e18 75735358  \nI/DEBUG   (23974):     77205cf0 00000000 0000001b 73268c08 00000001  \nI/DEBUG   (23974):     77205d00 729967b9 73340f20 00000018 00000023  \nI/DEBUG   (23974):     77205d10 730db385 72f9b871 00000047 72a2cdbb  \nI/DEBUG   (23974):     77205d20 75752d68 00000002 746e6f63 00000013  \nI/DEBUG   (23974):     77205d30 732675e0 00000002 721fc331 0000004b  \nI/DEBUG   (23974):     77205d40 73268780 732687d4 00000002 77205d88  \nI/DEBUG   (23974):     77205d50 77176e18 77205d30 721fc0a5 00000000  \nI/DEBUG   (23974):     77205d60 00000000 00000000 00000000 00000000  \nI/DEBUG   (23974):     77205d70 00000000 77205d98 77205d40 771f2ad8  \nI/DEBUG   (23974): \nI/DEBUG   (23974): memory near r5:\nI/DEBUG   (23974):     756f7f20 d1d1d1d1 d1d1d1d1 d1d1d1d1 d1d1d1d1  \nI/DEBUG   (23974):     756f7f30 d1d1d1d1 d1d1d1d1 00000008 0000045b  \nI/DEBUG   (23974):     756f7f40 6e9093d8 75711d44 6d78c6a8 6e9cf000  \nI/DEBUG   (23974):     756f7f50 00000014 00000007 75e5dc40 00000000  \nI/DEBUG   (23974):     756f7f60 75e5dc94 00000013 00000000 41558bc0  \nI/DEBUG   (23974):     756f7f70 00000000 00000000 6c870270 7570e300  \nI/DEBUG   (23974):     756f7f80 00000000 00000000 00000001 00004000  \nI/DEBUG   (23974):     756f7f90 00000000 756f8398 41558bc0 4155db00  \nI/DEBUG   (23974):     756f7fa0 00000000 41561bfc 41561c70 41561b20  \nI/DEBUG   (23974):     756f7fb0 41561b40 41561b9c 00000000 00000000  \nI/DEBUG   (23974):     756f7fc0 7716efc0 00000028 00000000 00000000  \nI/DEBUG   (23974):     756f7fd0 00000000 00000006 00002000 415ec9fc  \nI/DEBUG   (23974):     756f7fe0 00000000 00000000 00000001 75712008  \nI/DEBUG   (23974):     756f7ff0 00000001 00000040 00000200 00000000  \nI/DEBUG   (23974):     756f8000 00000003 6e5c7fe8 6e5c7fe8 00000006  \nI/DEBUG   (23974):     756f8010 6e5c8002 6d7bdb10 4506b31a 95582e61  \nI/DEBUG   (23974): \nI/DEBUG   (23974): memory near r7:\nI/DEBUG   (23974):     75711d2c 00000000 75711d60 6e909384 6d7897b0  \nI/DEBUG   (23974):     75711d3c 00000000 00000000 77205ca0 00000000  \nI/DEBUG   (23974):     75711d4c 75711d88 6e909484 6d78c6a8 6e909384  \nI/DEBUG   (23974):     75711d5c 00000000 77205ca0 00000000 00000000  \nI/DEBUG   (23974):     75711d6c 00000000 4193b628 75711da0 6e90ac6a  \nI/DEBUG   (23974):     75711d7c 6d78c838 6e909484 00000000 4193b628  \nI/DEBUG   (23974):     75711d8c 75711de8 6e90af7e 6d8119b0 6e90ac6a  \nI/DEBUG   (23974):     75711d9c 00000000 41db28e0 00000000 41db28b8  \nI/DEBUG   (23974):     75711dac 41db2890 4193b628 6d4b7c58 00000000  \nI/DEBUG   (23974):     75711dbc 00000000 4193b740 41cbcf10 00000014  \nI/DEBUG   (23974):     75711dcc 0000006b 00000014 75711e2c 6e90b0a8  \nI/DEBUG   (23974):     75711ddc 6d811a28 6e90af7e 00000000 41cbcf10  \nI/DEBUG   (23974):     75711dec 0000007f 41ebe038 41e4a630 00000014  \nI/DEBUG   (23974):     75711dfc 0000006b 00000014 00000000 4193b740  \nI/DEBUG   (23974):     75711e0c 4188c5d0 00000000 00000010 75711e54  \nI/DEBUG   (23974):     75711e1c 6e9276f8 6d811b40 6e90b0a8 00000000  \nI/DEBUG   (23974): \nI/DEBUG   (23974): memory near r8:\nI/DEBUG   (23974):     75e5daf0 1e800005 41e25968 417a2298 756f7f40  \nI/DEBUG   (23974):     75e5db00 77205ca0 40a4fe19 6d7897b0 41558a54  \nI/DEBUG   (23974):     75e5db10 75711d44 00000001 00000008 417a2298  \nI/DEBUG   (23974):     75e5db20 0000006b 41589663 75711d44 6e84fe63  \nI/DEBUG   (23974):     75e5db30 733e3f5f 756f7f50 415ec2c8 00000000  \nI/DEBUG   (23974):     75e5db40 1f400001 00000000 003b4c00 4012c384  \nI/DEBUG   (23974):     75e5db50 41539328 415ae7d9 00000000 415e7c6c  \nI/DEBUG   (23974):     75e5db60 4012c384 00000014 415ec2c8 4012c384  \nI/DEBUG   (23974):     75e5db70 00000014 415650f4 00000001 00000001  \nI/DEBUG   (23974):     75e5db80 6d4aa940 6e842b54 00000001 6e967224  \nI/DEBUG   (23974):     75e5db90 00000001 417a2298 0000003c 00000001  \nI/DEBUG   (23974):     75e5dba0 6d7897b0 6e965758 75e5dbf4 00000038  \nI/DEBUG   (23974):     75e5dbb0 00000001 415a7433 6e965758 6e8da484  \nI/DEBUG   (23974):     75e5dbc0 417a2298 6e965758 6e9cf000 000014b9  \nI/DEBUG   (23974):     75e5dbd0 00000002 4012c384 6d4aad10 415a789b  \nI/DEBUG   (23974):     75e5dbe0 75e5dbf4 6e965758 75e5dbf4 415a7e91  \nI/DEBUG   (23974): \nI/DEBUG   (23974): memory near r9:\nI/DEBUG   (23974):     75711d24 6e909484 6d78c6a8 00000000 75711d60  \nI/DEBUG   (23974):     75711d34 6e909384 6d7897b0 00000000 00000000  \nI/DEBUG   (23974):     75711d44 77205ca0 00000000 75711d88 6e909484  \nI/DEBUG   (23974):     75711d54 6d78c6a8 6e909384 00000000 77205ca0  \nI/DEBUG   (23974):     75711d64 00000000 00000000 00000000 4193b628  \nI/DEBUG   (23974):     75711d74 75711da0 6e90ac6a 6d78c838 6e909484  \nI/DEBUG   (23974):     75711d84 00000000 4193b628 75711de8 6e90af7e  \nI/DEBUG   (23974):     75711d94 6d8119b0 6e90ac6a 00000000 41db28e0  \nI/DEBUG   (23974):     75711da4 00000000 41db28b8 41db2890 4193b628  \nI/DEBUG   (23974):     75711db4 6d4b7c58 00000000 00000000 4193b740  \nI/DEBUG   (23974):     75711dc4 41cbcf10 00000014 0000006b 00000014  \nI/DEBUG   (23974):     75711dd4 75711e2c 6e90b0a8 6d811a28 6e90af7e  \nI/DEBUG   (23974):     75711de4 00000000 41cbcf10 0000007f 41ebe038  \nI/DEBUG   (23974):     75711df4 41e4a630 00000014 0000006b 00000014  \nI/DEBUG   (23974):     75711e04 00000000 4193b740 4188c5d0 00000000  \nI/DEBUG   (23974):     75711e14 00000010 75711e54 6e9276f8 6d811b40  \nI/DEBUG   (23974): \nI/DEBUG   (23974): memory near sl:\nI/DEBUG   (23974):     756f7f30 d1d1d1d1 d1d1d1d1 00000008 0000045b  \nI/DEBUG   (23974):     756f7f40 6e9093d8 75711d44 6d78c6a8 6e9cf000  \nI/DEBUG   (23974):     756f7f50 00000014 00000007 75e5dc40 00000000  \nI/DEBUG   (23974):     756f7f60 75e5dc94 00000013 00000000 41558bc0  \nI/DEBUG   (23974):     756f7f70 00000000 00000000 6c870270 7570e300  \nI/DEBUG   (23974):     756f7f80 00000000 00000000 00000001 00004000  \nI/DEBUG   (23974):     756f7f90 00000000 756f8398 41558bc0 4155db00  \nI/DEBUG   (23974):     756f7fa0 00000000 41561bfc 41561c70 41561b20  \nI/DEBUG   (23974):     756f7fb0 41561b40 41561b9c 00000000 00000000  \nI/DEBUG   (23974):     756f7fc0 7716efc0 00000028 00000000 00000000  \nI/DEBUG   (23974):     756f7fd0 00000000 00000006 00002000 415ec9fc  \nI/DEBUG   (23974):     756f7fe0 00000000 00000000 00000001 75712008  \nI/DEBUG   (23974):     756f7ff0 00000001 00000040 00000200 00000000  \nI/DEBUG   (23974):     756f8000 00000003 6e5c7fe8 6e5c7fe8 00000006  \nI/DEBUG   (23974):     756f8010 6e5c8002 6d7bdb10 4506b31a 95582e61  \nI/DEBUG   (23974):     756f8020 f7d042ed f7d041e7 4506b31e 88a0767c  \nI/DEBUG   (23974): \nI/DEBUG   (23974): memory near fp:\nI/DEBUG   (23974):     75e5db04 40a4fe19 6d7897b0 41558a54 75711d44  \nI/DEBUG   (23974):     75e5db14 00000001 00000008 417a2298 0000006b  \nI/DEBUG   (23974):     75e5db24 41589663 75711d44 6e84fe63 733e3f5f  \nI/DEBUG   (23974):     75e5db34 756f7f50 415ec2c8 00000000 1f400001  \nI/DEBUG   (23974):     75e5db44 00000000 003b4c00 4012c384 41539328  \nI/DEBUG   (23974):     75e5db54 415ae7d9 00000000 415e7c6c 4012c384  \nI/DEBUG   (23974):     75e5db64 00000014 415ec2c8 4012c384 00000014  \nI/DEBUG   (23974):     75e5db74 415650f4 00000001 00000001 6d4aa940  \nI/DEBUG   (23974):     75e5db84 6e842b54 00000001 6e967224 00000001  \nI/DEBUG   (23974):     75e5db94 417a2298 0000003c 00000001 6d7897b0  \nI/DEBUG   (23974):     75e5dba4 6e965758 75e5dbf4 00000038 00000001  \nI/DEBUG   (23974):     75e5dbb4 415a7433 6e965758 6e8da484 417a2298  \nI/DEBUG   (23974):     75e5dbc4 6e965758 6e9cf000 000014b9 00000002  \nI/DEBUG   (23974):     75e5dbd4 4012c384 6d4aad10 415a789b 75e5dbf4  \nI/DEBUG   (23974):     75e5dbe4 6e965758 75e5dbf4 415a7e91 00000014  \nI/DEBUG   (23974):     75e5dbf4 6d4aad10 000002d8 415a4663 00000000  \nI/DEBUG   (23974): \nI/DEBUG   (23974): memory near ip:\nI/DEBUG   (23974):     733efaf0 40109e65 400f23ed 400fe298 40a33ab5  \nI/DEBUG   (23974):     733efb00 40109919 40a0f431 40a84dc5 40a54e75  \nI/DEBUG   (23974):     733efb10 40a4fe11 40a4f9e5 40a13a8d 40a4612d  \nI/DEBUG   (23974):     733efb20 40a45dd1 40a46b25 40a3ee65 40a4a10d  \nI/DEBUG   (23974):     733efb30 400f0fd5 40ae8e7d 400ec7d8 400ec8d0  \nI/DEBUG   (23974):     733efb40 40a5d3d5 40ae86fd 40139927 400da559  \nI/DEBUG   (23974):     733efb50 402ca5b5 40a52491 40a4aded 40a4ac61  \nI/DEBUG   (23974):     733efb60 40a4ac01 40a4b169 40a4d1f9 401034a5  \nI/DEBUG   (23974):     733efb70 40a4d1d9 40a4d2bd 400ebc19 400f13ad  \nI/DEBUG   (23974):     733efb80 400efecd 402ca6f5 40ae8ef9 40aebdb1  \nI/DEBUG   (23974):     733efb90 40a84cd5 40a1d4b9 40a1d5a1 40a84d1d  \nI/DEBUG   (23974):     733efba0 40a2071d 40a16991 40a191a1 40a84475  \nI/DEBUG   (23974):     733efbb0 40a78135 40a1f189 40a229b1 40a52dc1  \nI/DEBUG   (23974):     733efbc0 40a22a55 40a128b5 40a53405 40a43345  \nI/DEBUG   (23974):     733efbd0 40a43695 40a42ec5 40a430c9 40a434e1  \nI/DEBUG   (23974):     733efbe0 40a42e4d 40a432dd 40a5d279 40a432e9  \nI/DEBUG   (23974): \nI/DEBUG   (23974): memory near sp:\nI/DEBUG   (23974):     75e5dae0 00000014 733e601d 00000014 759674f0  \nI/DEBUG   (23974):     75e5daf0 1e800005 41e25968 417a2298 756f7f40  \nI/DEBUG   (23974):     75e5db00 77205ca0 40a4fe19 6d7897b0 41558a54  \nI/DEBUG   (23974):     75e5db10 75711d44 00000001 00000008 417a2298  \nI/DEBUG   (23974):     75e5db20 0000006b 41589663 75711d44 6e84fe63  \nI/DEBUG   (23974):     75e5db30 733e3f5f 756f7f50 415ec2c8 00000000  \nI/DEBUG   (23974):     75e5db40 1f400001 00000000 003b4c00 4012c384  \nI/DEBUG   (23974):     75e5db50 41539328 415ae7d9 00000000 415e7c6c  \nI/DEBUG   (23974):     75e5db60 4012c384 00000014 415ec2c8 4012c384  \nI/DEBUG   (23974):     75e5db70 00000014 415650f4 00000001 00000001  \nI/DEBUG   (23974):     75e5db80 6d4aa940 6e842b54 00000001 6e967224  \nI/DEBUG   (23974):     75e5db90 00000001 417a2298 0000003c 00000001  \nI/DEBUG   (23974):     75e5dba0 6d7897b0 6e965758 75e5dbf4 00000038  \nI/DEBUG   (23974):     75e5dbb0 00000001 415a7433 6e965758 6e8da484  \nI/DEBUG   (23974):     75e5dbc0 417a2298 6e965758 6e9cf000 000014b9  \nI/DEBUG   (23974):     75e5dbd0 00000002 4012c384 6d4aad10 415a789b  \nI/DEBUG   (23974): \nI/DEBUG   (23974): code around pc:\nI/DEBUG   (23974):     00000000 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (23974):     00000010 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (23974):     00000020 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (23974):     00000030 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (23974):     00000040 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (23974):     00000050 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (23974):     00000060 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (23974):     00000070 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (23974):     00000080 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (23974):     00000090 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (23974):     000000a0 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (23974):     000000b0 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (23974):     000000c0 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (23974):     000000d0 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (23974):     000000e0 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (23974):     000000f0 ffffffff ffffffff ffffffff ffffffff  \nI/DEBUG   (23974): \nI/DEBUG   (23974): code around lr:\nI/DEBUG   (23974):     40a4fc1c 0006a292 4604b510 b1e86820 b1406a00  \nI/DEBUG   (23974):     40a4fc2c 21024620 fc14f003 6820b918 46206a01  \nI/DEBUG   (23974):     40a4fc3c 68204788 6c40b180 68e0b170 4620b160  \nI/DEBUG   (23974):     40a4fc4c f0032104 b938fc05 68e06821 f00a6c49  \nI/DEBUG   (23974):     40a4fc5c 68e0f81b ffc2f009 b1086920 fac0f006  \nI/DEBUG   (23974):     40a4fc6c b1086860 fff6f7fa 46212000 0f10f841  \nI/DEBUG   (23974):     40a4fc7c 0050efc0 20016048 0a8ff944 bf00bd10  \nI/DEBUG   (23974):     40a4fc8c 4800e92d 0050efc0 46032200 2f10f843  \nI/DEBUG   (23974):     40a4fc9c f940605a f0000a8f e8bdf803 bf008800  \nI/DEBUG   (23974):     40a4fcac 48f0e92d 460db082 b3254604 29006829  \nI/DEBUG   (23974):     40a4fcbc 6868d021 f7fab118 b360ff9d 68206829  \nI/DEBUG   (23974):     40a4fccc 42882600 4620d104 68e62104 fbb6f003  \nI/DEBUG   (23974):     40a4fcdc f7ff4620 edd5ff9f f9650b04 edc42a8f  \nI/DEBUG   (23974):     40a4fcec f9440b04 68e82a8f 6821b388 b3706c48  \nI/DEBUG   (23974):     40a4fcfc 60e6b1e6 f44fe026 48257194 226f9100  \nI/DEBUG   (23974):     40a4fd0c 44794927 20061843 f7fd216e 2000f8b7  \n</code></pre>\n\n<p>Most of the time I also got these errors afterwards:</p>\n\n<pre><code>W/Binder  (  899): Caught a RuntimeException from the binder stub implementation.\nW/Binder  (  899): java.lang.NullPointerException\nW/Binder  (  899):  at android.inputmethodservice.IInputMethodWrapper.setSessionEnabled(IInputMethodWrapper.java:280)\nW/Binder  (  899):  at com.android.internal.view.IInputMethod$Stub.onTransact(IInputMethod.java:129)\nW/Binder  (  899):  at android.os.Binder.execTransact(Binder.java:404)\nW/Binder  (  899):  at dalvik.system.NativeStart.run(Native Method)\nW/InputMethodManagerService(  652): Got RemoteException sending setActive(false) notification to pid 14221 uid 10105\n</code></pre>\n\n<p>Each <code>Fragment</code> of the aforementioned <code>ViewPager</code> loads data from net, and shows them. I'm using Volley as request manager. One more detail, I'm using <code>FragmentStatePagerAdapter</code> in that <code>ViewPager</code>.  </p>\n\n<p>What does it mean? What did I do wrong?</p>\n"},{"tags":["java","string","multiline"],"comments":[{"owner":{"account_id":32681,"reputation":138933,"user_id":90848,"accept_rate":90,"display_name":"Laurence Gonsalves"},"score":13,"creation_date":1242667084,"post_id":878573,"comment_id":685958,"body_markdown":"StringBuilder.append() is preferable to plus when repeatedly adding to a string because every time you do `string1 + string2` you&#39;re allocating a new string object and copying the characters from both of the input strings. If you&#39;re adding n Strings together you&#39;d be doing n-1 allocations and approximately (n^2)/2 character copies. StringBuilder, on the other hand, copies and reallocates less frequently (though it still does both when you exceed the size of its internal buffer). Theoretically, there are cases where the compiler could convert + to use StringBuilder but in practice who knows.","body":"StringBuilder.append() is preferable to plus when repeatedly adding to a string because every time you do <code>string1 + string2</code> you&#39;re allocating a new string object and copying the characters from both of the input strings. If you&#39;re adding n Strings together you&#39;d be doing n-1 allocations and approximately (n^2)/2 character copies. StringBuilder, on the other hand, copies and reallocates less frequently (though it still does both when you exceed the size of its internal buffer). Theoretically, there are cases where the compiler could convert + to use StringBuilder but in practice who knows."},{"owner":{"account_id":32681,"reputation":138933,"user_id":90848,"accept_rate":90,"display_name":"Laurence Gonsalves"},"score":1,"creation_date":1242667583,"post_id":878573,"comment_id":685983,"body_markdown":"Oops. That part abut the character copies was a bit confused/unclear. Each character gets copied once for every string that comes after it in the concatenation. If all of your strings are one character you get roughly (n^2)/2 character copies. It&#39;s really sort of (n^2)/2 string copies, except the later times a string is copied it&#39;s copied along with the stuff it&#39;s been joined to (but the cost is proprotional to the number of characters, so counting string copies is a bit misleading). Long story short: the cost is roughly quadratic, while StringBuilder tries to make the amortized cost linear.","body":"Oops. That part abut the character copies was a bit confused/unclear. Each character gets copied once for every string that comes after it in the concatenation. If all of your strings are one character you get roughly (n^2)/2 character copies. It&#39;s really sort of (n^2)/2 string copies, except the later times a string is copied it&#39;s copied along with the stuff it&#39;s been joined to (but the cost is proprotional to the number of characters, so counting string copies is a bit misleading). Long story short: the cost is roughly quadratic, while StringBuilder tries to make the amortized cost linear."},{"owner":{"account_id":27671,"reputation":15568,"user_id":73274,"accept_rate":100,"display_name":"Paul Morie"},"score":0,"creation_date":1242667994,"post_id":878573,"comment_id":686007,"body_markdown":"There&#39;s an article on this topic -- I&#39;ve added a link below, but here it is again: http://java.sun.com/developer/JDCTechTips/2002/tt0305.html","body":"There&#39;s an article on this topic -- I&#39;ve added a link below, but here it is again: <a href=\"http://java.sun.com/developer/JDCTechTips/2002/tt0305.html\" rel=\"nofollow noreferrer\">java.sun.com/developer/JDCTechTips/2002/tt0305.html</a>"},{"owner":{"account_id":9733,"reputation":98806,"user_id":18103,"accept_rate":68,"display_name":"skiphoppy"},"score":6,"creation_date":1242668053,"post_id":878573,"comment_id":686012,"body_markdown":"Every time I jump into the debugger, + is converted to a StringBuilder.append() call, on Java 1.5.  I&#39;ve had colleagues confusedly tell me StringBuilder has a bug since they debug into code that does not appear to call it and wind up there.","body":"Every time I jump into the debugger, + is converted to a StringBuilder.append() call, on Java 1.5.  I&#39;ve had colleagues confusedly tell me StringBuilder has a bug since they debug into code that does not appear to call it and wind up there."},{"owner":{"account_id":7745,"reputation":189755,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":4,"creation_date":1242669305,"post_id":878573,"comment_id":686113,"body_markdown":"See also: http://stackoverflow.com/questions/782810/working-with-large-text-snippets-in-java-source","body":"See also: <a href=\"http://stackoverflow.com/questions/782810/working-with-large-text-snippets-in-java-source\" title=\"working with large text snippets in java source\">stackoverflow.com/questions/782810/&hellip;</a>"},{"owner":{"account_id":31084,"reputation":128374,"user_id":85134,"display_name":"araqnid"},"score":68,"creation_date":1242669611,"post_id":878573,"comment_id":686132,"body_markdown":"Note that a string literal made up of &quot;abc\\n&quot; + &quot;def\\n&quot; etc. does not use StringBuilder: the compiler glues them together and puts them into the .class file as a single literal, same as with other types of constant folding.","body":"Note that a string literal made up of &quot;abc\\n&quot; + &quot;def\\n&quot; etc. does not use StringBuilder: the compiler glues them together and puts them into the .class file as a single literal, same as with other types of constant folding."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":7,"creation_date":1287922792,"post_id":878573,"comment_id":4294801,"body_markdown":"Most IDEs support entering multi-line strings. ie. you just type or paste what you want into a &quot;&quot; string and it will add the \\n and &quot; + &quot; as required.  e.g. I can paste a 40 lines of text into a String and teh IDE sorts it out for you.","body":"Most IDEs support entering multi-line strings. ie. you just type or paste what you want into a &quot;&quot; string and it will add the \\n and &quot; + &quot; as required.  e.g. I can paste a 40 lines of text into a String and teh IDE sorts it out for you."},{"owner":{"account_id":31293,"reputation":43494,"user_id":85821,"accept_rate":73,"display_name":"Bart van Heukelom"},"score":0,"creation_date":1292328218,"post_id":878573,"comment_id":4846261,"body_markdown":"@Laurence Gonsalves: That&#39;s what I learned in school, but recently I checked the bytecode that was compiled from my concatenating multiple strings, and it used `StringBuilder`. This was with the Eclipse compiler, I don&#39;t know about `javac`.","body":"@Laurence Gonsalves: That&#39;s what I learned in school, but recently I checked the bytecode that was compiled from my concatenating multiple strings, and it used <code>StringBuilder</code>. This was with the Eclipse compiler, I don&#39;t know about <code>javac</code>."},{"owner":{"account_id":32681,"reputation":138933,"user_id":90848,"accept_rate":90,"display_name":"Laurence Gonsalves"},"score":0,"creation_date":1292346950,"post_id":878573,"comment_id":4849899,"body_markdown":"@Bart van Heukelom: that&#39;s why I said &quot;but in practice who knows&quot;. Never Java compiler (including recent versions if `javac`, I believe) do attempt some optimization here and will use `StringBuilder` in the implementation of `+` in certain cases. Last time I checked those cases were pretty simple, however, so it&#39;s pretty easy to have code that uses `+` and is compiling to something efficient that suddenly becomes quadratic because of a seemingly minor change to the source. Unless all of your `+`&#39;s are in a single expression, I&#39;d use `StringBuilder` instead.","body":"@Bart van Heukelom: that&#39;s why I said &quot;but in practice who knows&quot;. Never Java compiler (including recent versions if <code>javac</code>, I believe) do attempt some optimization here and will use <code>StringBuilder</code> in the implementation of <code>+</code> in certain cases. Last time I checked those cases were pretty simple, however, so it&#39;s pretty easy to have code that uses <code>+</code> and is compiling to something efficient that suddenly becomes quadratic because of a seemingly minor change to the source. Unless all of your <code>+</code>&#39;s are in a single expression, I&#39;d use <code>StringBuilder</code> instead."},{"owner":{"account_id":144408,"reputation":2117,"user_id":353434,"display_name":"johncip"},"score":2,"creation_date":1304926715,"post_id":878573,"comment_id":6837348,"body_markdown":"To repeat araqnid, who seems to have gotten buried, given how many replies recommend StringBuilder: adjacent literals are concatenated by the compiler. Note that that&#39;s only if you use +. For +=, you get a StringBuilder. I&#39;d even say that using StringBuilder outside of a loop is a little OCD.","body":"To repeat araqnid, who seems to have gotten buried, given how many replies recommend StringBuilder: adjacent literals are concatenated by the compiler. Note that that&#39;s only if you use +. For +=, you get a StringBuilder. I&#39;d even say that using StringBuilder outside of a loop is a little OCD."},{"owner":{"account_id":174227,"reputation":27776,"user_id":403455,"accept_rate":83,"display_name":"Jeff Axelrod"},"score":0,"creation_date":1331318510,"post_id":878573,"comment_id":12236650,"body_markdown":"[This answer](http://stackoverflow.com/a/121513/403455) shows how to paste multi-line escaped strings in Eclispe.","body":"<a href=\"http://stackoverflow.com/a/121513/403455\">This answer</a> shows how to paste multi-line escaped strings in Eclispe."},{"owner":{"account_id":169237,"reputation":39170,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"score":1,"creation_date":1342778912,"post_id":878573,"comment_id":15316962,"body_markdown":"I believe what @Laurence said is wrong: even don&#39;t consider compiler joining literal become one, &quot;a&quot; + &quot;b&quot; + &quot;c&quot; + &quot;d&quot; does NOT generate 3 extra string.  It is a defined behavior that the above code is generated to `new StringBuilder().append(&quot;a&quot;).append(&quot;b&quot;).append(&quot;c&quot;).append(&quot;d&quot;).toString()` (or StringBuffer with JDK &lt; 1.5). Therefore, in such case, never use StringBuffer/StringBuilder as it is not helping anything","body":"I believe what @Laurence said is wrong: even don&#39;t consider compiler joining literal become one, &quot;a&quot; + &quot;b&quot; + &quot;c&quot; + &quot;d&quot; does NOT generate 3 extra string.  It is a defined behavior that the above code is generated to <code>new StringBuilder().append(&quot;a&quot;).append(&quot;b&quot;).append(&quot;c&quot;).append(&quot;&zwnj;&#8203;d&quot;).toString()</code> (or StringBuffer with JDK &lt; 1.5). Therefore, in such case, never use StringBuffer/StringBuilder as it is not helping anything"},{"owner":{"account_id":32681,"reputation":138933,"user_id":90848,"accept_rate":90,"display_name":"Laurence Gonsalves"},"score":1,"creation_date":1342826979,"post_id":878573,"comment_id":15334872,"body_markdown":"@AdrianShum can you point to the spec that defines the behavior you describe? Also note that I said &quot;Unless all of your `+`&#39;s are in a single expression...&quot;, and in your example all of them are in a single expression.","body":"@AdrianShum can you point to the spec that defines the behavior you describe? Also note that I said &quot;Unless all of your <code>+</code>&#39;s are in a single expression...&quot;, and in your example all of them are in a single expression."},{"owner":{"account_id":169237,"reputation":39170,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"score":0,"creation_date":1343007869,"post_id":878573,"comment_id":15363558,"body_markdown":"@LaurenceGonsalves After a brief search I found JLS seems didn&#39;t put what I said as the spec, but the behavior is what JDK implemented (I doubt if any other JDK is having big difference on that).  I also noted your &quot;..in a single expression&quot; line but your first few comment did give an impression that same holds to an expression with multiple concat and your &quot;..in a single expression&quot; statement didn&#39;t clarify yet, that&#39;s why I state the behavior just to avoid confusion or misunderstanding on JDK&#39;s behavior.","body":"@LaurenceGonsalves After a brief search I found JLS seems didn&#39;t put what I said as the spec, but the behavior is what JDK implemented (I doubt if any other JDK is having big difference on that).  I also noted your &quot;..in a single expression&quot; line but your first few comment did give an impression that same holds to an expression with multiple concat and your &quot;..in a single expression&quot; statement didn&#39;t clarify yet, that&#39;s why I state the behavior just to avoid confusion or misunderstanding on JDK&#39;s behavior."},{"owner":{"account_id":47518,"reputation":21228,"user_id":140803,"accept_rate":78,"display_name":"Blessed Geek"},"score":1,"creation_date":1348764859,"post_id":878573,"comment_id":17024846,"body_markdown":"I have decided to use http://stackoverflow.com/questions/12115115/java-annotation-utility-for-multiline-text. Superb and elegant.","body":"I have decided to use <a href=\"http://stackoverflow.com/questions/12115115/java-annotation-utility-for-multiline-text\" title=\"java annotation utility for multiline text\">stackoverflow.com/questions/12115115/&hellip;</a>. Superb and elegant."},{"owner":{"account_id":6292,"reputation":5329,"user_id":10523,"accept_rate":100,"display_name":"Tomasz"},"score":0,"creation_date":1396380828,"post_id":878573,"comment_id":34758889,"body_markdown":"possible duplicate of [Paste a multi-line Java String in Eclipse](http://stackoverflow.com/questions/2159678/paste-a-multi-line-java-string-in-eclipse)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2159678/paste-a-multi-line-java-string-in-eclipse\">Paste a multi-line Java String in Eclipse</a>"},{"owner":{"account_id":2148452,"reputation":578,"user_id":1905511,"accept_rate":100,"display_name":"Herbert Yu"},"score":3,"creation_date":1431032977,"post_id":878573,"comment_id":48334267,"body_markdown":"This is bad part of Java/Oracle, comparing to C#/MS, perl etc....","body":"This is bad part of Java/Oracle, comparing to C#/MS, perl etc...."},{"owner":{"account_id":231117,"reputation":8541,"user_id":495157,"accept_rate":40,"display_name":"JGFMK"},"score":0,"creation_date":1573044274,"post_id":878573,"comment_id":103751460,"body_markdown":"It finally makes it into Java 12. &quot;Raw String Literals&quot;. There&#39;s decent blog post here: https://www.vojtechruzicka.com/raw-strings/","body":"It finally makes it into Java 12. &quot;Raw String Literals&quot;. There&#39;s decent blog post here: <a href=\"https://www.vojtechruzicka.com/raw-strings/\" rel=\"nofollow noreferrer\">vojtechruzicka.com/raw-strings</a>"},{"owner":{"account_id":1053202,"reputation":59956,"user_id":1056563,"accept_rate":90,"display_name":"WestCoastProjects"},"score":0,"creation_date":1578273745,"post_id":878573,"comment_id":105375347,"body_markdown":"This issue with java is the one that finally compelled me to get a jvm language.  Incredibly frustrating to build a test program or a configuration routine without this feature.  Fortunately `scala` had just come of age at that time (2013).   Now i&#39;m forced to use java again and so the desperation returns (can&#39;t depend on having recent versions of java available)","body":"This issue with java is the one that finally compelled me to get a jvm language.  Incredibly frustrating to build a test program or a configuration routine without this feature.  Fortunately <code>scala</code> had just come of age at that time (2013).   Now i&#39;m forced to use java again and so the desperation returns (can&#39;t depend on having recent versions of java available)"},{"owner":{"account_id":1053202,"reputation":59956,"user_id":1056563,"accept_rate":90,"display_name":"WestCoastProjects"},"score":0,"creation_date":1578273811,"post_id":878573,"comment_id":105375360,"body_markdown":"Oh and `raw string literals` STILL do not exist even in Java13. Instead they&#39;re `text blocks` that are *not* the same . They do not allow pure raw unfiltered strings and also do not support interpolation.","body":"Oh and <code>raw string literals</code> STILL do not exist even in Java13. Instead they&#39;re <code>text blocks</code> that are <i>not</i> the same . They do not allow pure raw unfiltered strings and also do not support interpolation."}],"answers":[{"tags":[],"owner":{"account_id":35042,"reputation":10221,"user_id":99135,"accept_rate":99,"display_name":"Josh Curren"},"down_vote_count":4,"up_vote_count":4,"is_accepted":false,"score":0,"last_activity_date":1242664364,"creation_date":1242664364,"answer_id":878584,"question_id":878573,"body_markdown":"The only way I know of is to concatenate multiple lines with plus signs","title":"Does Java have support for multiline strings?","body":"<p>The only way I know of is to concatenate multiple lines with plus signs</p>\n"},{"tags":[],"owner":{"account_id":24810,"reputation":44144,"user_id":63309,"accept_rate":70,"display_name":"Tom"},"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1324566483,"creation_date":1242664474,"answer_id":878592,"question_id":878573,"body_markdown":"    String newline = System.getProperty (&quot;line.separator&quot;);\r\n    string1 + newline + string2 + newline + string3\r\n\r\n\r\n\r\n\r\nBut, the best alternative is to use [String.format][2]\r\n\r\n    String multilineString = String.format(&quot;%s\\n%s\\n%s\\n&quot;,line1,line2,line3);\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/StringBuilder.html\r\n  [2]: http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html#format(java.lang.String,%20java.lang.Object...)","title":"Does Java have support for multiline strings?","body":"<pre><code>String newline = System.getProperty (\"line.separator\");\nstring1 + newline + string2 + newline + string3\n</code></pre>\n\n<p>But, the best alternative is to use <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html#format(java.lang.String,%20java.lang.Object...)\" rel=\"noreferrer\">String.format</a></p>\n\n<pre><code>String multilineString = String.format(\"%s\\n%s\\n%s\\n\",line1,line2,line3);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":35042,"reputation":10221,"user_id":99135,"accept_rate":99,"display_name":"Josh Curren"},"down_vote_count":6,"up_vote_count":72,"is_accepted":false,"score":66,"last_activity_date":1242664709,"creation_date":1242664709,"answer_id":878603,"question_id":878573,"body_markdown":"Another option may be to store long strings in an external file and read the file into a string.","title":"Does Java have support for multiline strings?","body":"<p>Another option may be to store long strings in an external file and read the file into a string.</p>\n"},{"tags":[],"owner":{"account_id":22216,"reputation":4618,"user_id":54579,"display_name":"user54579"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1549916273,"creation_date":1242664853,"answer_id":878617,"question_id":878573,"body_markdown":"You can concatenate your appends in a separate method like:\r\n\r\n    public static String multilineString(String... lines){\r\n       StringBuilder sb = new StringBuilder();\r\n       for(String s : lines){\r\n         sb.append(s);\r\n         sb.append (&#39;\\n&#39;);\r\n       }\r\n       return sb.toString();\r\n    }\r\n\r\nEither way, prefer `StringBuilder` to the plus notation.","title":"Does Java have support for multiline strings?","body":"<p>You can concatenate your appends in a separate method like:</p>\n\n<pre><code>public static String multilineString(String... lines){\n   StringBuilder sb = new StringBuilder();\n   for(String s : lines){\n     sb.append(s);\n     sb.append ('\\n');\n   }\n   return sb.toString();\n}\n</code></pre>\n\n<p>Either way, prefer <code>StringBuilder</code> to the plus notation.</p>\n"},{"tags":[],"owner":{"account_id":9921,"reputation":107684,"user_id":18511,"accept_rate":92,"display_name":"Kip"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1242665000,"creation_date":1242665000,"answer_id":878622,"question_id":878573,"body_markdown":"&gt; Define my string in a properties file?\r\n\r\nMultiline strings aren&#39;t allowed in properties files.  You can use \\n in properties files, but I don&#39;t think that is much of a solution in your case.","title":"Does Java have support for multiline strings?","body":"<blockquote>\n  <p>Define my string in a properties file?</p>\n</blockquote>\n\n<p>Multiline strings aren't allowed in properties files.  You can use \\n in properties files, but I don't think that is much of a solution in your case.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1242665263,"creation_date":1242665263,"answer_id":878648,"question_id":878573,"body_markdown":"If you define your strings in a properties file it&#39;ll look much worse. IIRC, it&#39;ll look like:\r\n\r\n    string:text\\u000atext\\u000atext\\u000a\r\n\r\nGenerally it&#39;s a reasonable idea to not embed large strings in to source. You might want to load them as resources, perhaps in XML or a readable text format. The text files can be either read at runtime or compiled into Java source. If you end up placing them in the source, I suggest putting the `+` at the front and omitting unnecessary new lines:\r\n\r\n    final String text = &quot;&quot;\r\n        +&quot;text &quot;\r\n        +&quot;text &quot;\r\n        +&quot;text&quot;\r\n    ;\r\n\r\nIf you do have new lines, you might want some of join or formatting method:\r\n\r\n    final String text = join(&quot;\\r\\n&quot;\r\n        ,&quot;text&quot;\r\n        ,&quot;text&quot;\r\n        ,&quot;text&quot;\r\n    );\r\n\r\n","title":"Does Java have support for multiline strings?","body":"<p>If you define your strings in a properties file it'll look much worse. IIRC, it'll look like:</p>\n\n<pre><code>string:text\\u000atext\\u000atext\\u000a\n</code></pre>\n\n<p>Generally it's a reasonable idea to not embed large strings in to source. You might want to load them as resources, perhaps in XML or a readable text format. The text files can be either read at runtime or compiled into Java source. If you end up placing them in the source, I suggest putting the <code>+</code> at the front and omitting unnecessary new lines:</p>\n\n<pre><code>final String text = \"\"\n    +\"text \"\n    +\"text \"\n    +\"text\"\n;\n</code></pre>\n\n<p>If you do have new lines, you might want some of join or formatting method:</p>\n\n<pre><code>final String text = join(\"\\r\\n\"\n    ,\"text\"\n    ,\"text\"\n    ,\"text\"\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1401042374,"creation_date":1242665277,"answer_id":878653,"question_id":878573,"body_markdown":"A quite efficient and platform independent solution would be using the system property for line separators and the StringBuilder class to build strings:\r\n\r\n    String separator = System.getProperty(&quot;line.separator&quot;);\r\n    String[] lines = {&quot;Line 1&quot;, &quot;Line 2&quot; /*, ... */};\r\n    \r\n    StringBuilder builder = new StringBuilder(lines[0]);\r\n    for (int i = 1; i &lt; lines.length(); i++) {\r\n        builder.append(separator).append(lines[i]);\r\n    }\r\n    String multiLine = builder.toString();\r\n    ","title":"Does Java have support for multiline strings?","body":"<p>A quite efficient and platform independent solution would be using the system property for line separators and the StringBuilder class to build strings:</p>\n\n<pre><code>String separator = System.getProperty(\"line.separator\");\nString[] lines = {\"Line 1\", \"Line 2\" /*, ... */};\n\nStringBuilder builder = new StringBuilder(lines[0]);\nfor (int i = 1; i &lt; lines.length(); i++) {\n    builder.append(separator).append(lines[i]);\n}\nString multiLine = builder.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9921,"reputation":107684,"user_id":18511,"accept_rate":92,"display_name":"Kip"},"down_vote_count":6,"up_vote_count":573,"is_accepted":false,"score":567,"last_activity_date":1640181379,"creation_date":1242665824,"answer_id":878704,"question_id":878573,"body_markdown":"---\r\n**NOTE**: This answer applies to Java 14 and older.\r\n\r\nText blocks (multiline literals) were introduced in Java 15. See [this answer][1] for details.\r\n\r\n---\r\n\r\nIt sounds like you want to do a multiline literal, which does not exist in Java.\r\n\r\nYour best alternative is going to be strings that are just `+`&#39;d together. Some other options people have mentioned (StringBuilder, String.format, String.join) would only be preferable if you started with an array of strings.\r\n\r\nConsider this:\r\n\r\n    String s = &quot;It was the best of times, it was the worst of times,\\n&quot;\r\n             + &quot;it was the age of wisdom, it was the age of foolishness,\\n&quot;\r\n             + &quot;it was the epoch of belief, it was the epoch of incredulity,\\n&quot;\r\n             + &quot;it was the season of Light, it was the season of Darkness,\\n&quot;\r\n             + &quot;it was the spring of hope, it was the winter of despair,\\n&quot;\r\n             + &quot;we had everything before us, we had nothing before us&quot;;\r\n\r\nVersus `StringBuilder`:\r\n\r\n    String s = new StringBuilder()\r\n               .append(&quot;It was the best of times, it was the worst of times,\\n&quot;)\r\n               .append(&quot;it was the age of wisdom, it was the age of foolishness,\\n&quot;)\r\n               .append(&quot;it was the epoch of belief, it was the epoch of incredulity,\\n&quot;)\r\n               .append(&quot;it was the season of Light, it was the season of Darkness,\\n&quot;)\r\n               .append(&quot;it was the spring of hope, it was the winter of despair,\\n&quot;)\r\n               .append(&quot;we had everything before us, we had nothing before us&quot;)\r\n               .toString();\r\n    \r\nVersus `String.format()`:\r\n\r\n    String s = String.format(&quot;%s\\n%s\\n%s\\n%s\\n%s\\n%s&quot;\r\n             , &quot;It was the best of times, it was the worst of times,&quot;\r\n             , &quot;it was the age of wisdom, it was the age of foolishness,&quot;\r\n             , &quot;it was the epoch of belief, it was the epoch of incredulity,&quot;\r\n             , &quot;it was the season of Light, it was the season of Darkness,&quot;\r\n             , &quot;it was the spring of hope, it was the winter of despair,&quot;\r\n             , &quot;we had everything before us, we had nothing before us&quot;\r\n    );\r\n\r\nVersus Java8 [`String.join()`][2]:\r\n\r\n    String s = String.join(&quot;\\n&quot;\r\n             , &quot;It was the best of times, it was the worst of times,&quot;\r\n             , &quot;it was the age of wisdom, it was the age of foolishness,&quot;\r\n             , &quot;it was the epoch of belief, it was the epoch of incredulity,&quot;\r\n             , &quot;it was the season of Light, it was the season of Darkness,&quot;\r\n             , &quot;it was the spring of hope, it was the winter of despair,&quot;\r\n             , &quot;we had everything before us, we had nothing before us&quot;\r\n    );\r\n\r\nIf you want the newline for your particular system, you either need to use `System.lineSeparator()`, or you can use `%n` in `String.format`.\r\n\r\nAnother option is to put the resource in a text file, and just read the contents of that file. This would be preferable for very large strings to avoid unnecessarily bloating your class files.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/50155171/466862\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.CharSequence...-","title":"Does Java have support for multiline strings?","body":"<hr />\n<p><strong>NOTE</strong>: This answer applies to Java 14 and older.</p>\n<p>Text blocks (multiline literals) were introduced in Java 15. See <a href=\"https://stackoverflow.com/a/50155171/466862\">this answer</a> for details.</p>\n<hr />\n<p>It sounds like you want to do a multiline literal, which does not exist in Java.</p>\n<p>Your best alternative is going to be strings that are just <code>+</code>'d together. Some other options people have mentioned (StringBuilder, String.format, String.join) would only be preferable if you started with an array of strings.</p>\n<p>Consider this:</p>\n<pre><code>String s = &quot;It was the best of times, it was the worst of times,\\n&quot;\n         + &quot;it was the age of wisdom, it was the age of foolishness,\\n&quot;\n         + &quot;it was the epoch of belief, it was the epoch of incredulity,\\n&quot;\n         + &quot;it was the season of Light, it was the season of Darkness,\\n&quot;\n         + &quot;it was the spring of hope, it was the winter of despair,\\n&quot;\n         + &quot;we had everything before us, we had nothing before us&quot;;\n</code></pre>\n<p>Versus <code>StringBuilder</code>:</p>\n<pre><code>String s = new StringBuilder()\n           .append(&quot;It was the best of times, it was the worst of times,\\n&quot;)\n           .append(&quot;it was the age of wisdom, it was the age of foolishness,\\n&quot;)\n           .append(&quot;it was the epoch of belief, it was the epoch of incredulity,\\n&quot;)\n           .append(&quot;it was the season of Light, it was the season of Darkness,\\n&quot;)\n           .append(&quot;it was the spring of hope, it was the winter of despair,\\n&quot;)\n           .append(&quot;we had everything before us, we had nothing before us&quot;)\n           .toString();\n</code></pre>\n<p>Versus <code>String.format()</code>:</p>\n<pre><code>String s = String.format(&quot;%s\\n%s\\n%s\\n%s\\n%s\\n%s&quot;\n         , &quot;It was the best of times, it was the worst of times,&quot;\n         , &quot;it was the age of wisdom, it was the age of foolishness,&quot;\n         , &quot;it was the epoch of belief, it was the epoch of incredulity,&quot;\n         , &quot;it was the season of Light, it was the season of Darkness,&quot;\n         , &quot;it was the spring of hope, it was the winter of despair,&quot;\n         , &quot;we had everything before us, we had nothing before us&quot;\n);\n</code></pre>\n<p>Versus Java8 <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.CharSequence...-\" rel=\"noreferrer\"><code>String.join()</code></a>:</p>\n<pre><code>String s = String.join(&quot;\\n&quot;\n         , &quot;It was the best of times, it was the worst of times,&quot;\n         , &quot;it was the age of wisdom, it was the age of foolishness,&quot;\n         , &quot;it was the epoch of belief, it was the epoch of incredulity,&quot;\n         , &quot;it was the season of Light, it was the season of Darkness,&quot;\n         , &quot;it was the spring of hope, it was the winter of despair,&quot;\n         , &quot;we had everything before us, we had nothing before us&quot;\n);\n</code></pre>\n<p>If you want the newline for your particular system, you either need to use <code>System.lineSeparator()</code>, or you can use <code>%n</code> in <code>String.format</code>.</p>\n<p>Another option is to put the resource in a text file, and just read the contents of that file. This would be preferable for very large strings to avoid unnecessarily bloating your class files.</p>\n"},{"tags":[],"owner":{"account_id":32681,"reputation":138933,"user_id":90848,"accept_rate":90,"display_name":"Laurence Gonsalves"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1242687230,"creation_date":1242666610,"answer_id":878776,"question_id":878573,"body_markdown":"Sadly, Java does not have multi-line string literals. You either have to concatenate string literals (using + or StringBuilder being the two most common approaches to this) or read the string in from a separate file.\r\n\r\nFor large multi-line string literals I&#39;d be inclined to use a separate file and read it in using `getResourceAsStream()` (a method of the `Class` class). This makes it easy to find the file as you don&#39;t have to worry about the current directory versus where your code was installed. It also makes packaging easier, because you can actually store the file in your jar file.\r\n\r\nSuppose you&#39;re in a class called Foo. Just do something like this:\r\n\r\n    Reader r = new InputStreamReader(Foo.class.getResourceAsStream(&quot;filename&quot;), &quot;UTF-8&quot;);\r\n    String s = Utils.readAll(r);\r\n\r\nThe one other annoyance is that Java doesn&#39;t have a standard &quot;read all of the text from this Reader into a String&quot; method. It&#39;s pretty easy to write though:\r\n\r\n    public static String readAll(Reader input) {\r\n        StringBuilder sb = new StringBuilder();\r\n        char[] buffer = new char[4096];\r\n        int charsRead;\r\n        while ((charsRead = input.read(buffer)) &gt;= 0) {\r\n            sb.append(buffer, 0, charsRead);\r\n        }\r\n        input.close();\r\n        return sb.toString();\r\n    }","title":"Does Java have support for multiline strings?","body":"<p>Sadly, Java does not have multi-line string literals. You either have to concatenate string literals (using + or StringBuilder being the two most common approaches to this) or read the string in from a separate file.</p>\n\n<p>For large multi-line string literals I'd be inclined to use a separate file and read it in using <code>getResourceAsStream()</code> (a method of the <code>Class</code> class). This makes it easy to find the file as you don't have to worry about the current directory versus where your code was installed. It also makes packaging easier, because you can actually store the file in your jar file.</p>\n\n<p>Suppose you're in a class called Foo. Just do something like this:</p>\n\n<pre><code>Reader r = new InputStreamReader(Foo.class.getResourceAsStream(\"filename\"), \"UTF-8\");\nString s = Utils.readAll(r);\n</code></pre>\n\n<p>The one other annoyance is that Java doesn't have a standard \"read all of the text from this Reader into a String\" method. It's pretty easy to write though:</p>\n\n<pre><code>public static String readAll(Reader input) {\n    StringBuilder sb = new StringBuilder();\n    char[] buffer = new char[4096];\n    int charsRead;\n    while ((charsRead = input.read(buffer)) &gt;= 0) {\n        sb.append(buffer, 0, charsRead);\n    }\n    input.close();\n    return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":36232,"reputation":26946,"user_id":103206,"accept_rate":67,"display_name":"Jay"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1242693441,"creation_date":1242693441,"answer_id":880465,"question_id":878573,"body_markdown":"Pluses are converted to StringBuilder.append, except when both strings are constants so the compiler can combine them at compile time. At least, that&#39;s how it is in Sun&#39;s compiler, and I would suspect most if not all other compilers would do the same.\r\n\r\nSo:\r\n\r\n    String a=&quot;Hello&quot;;\r\n    String b=&quot;Goodbye&quot;;\r\n    String c=a+b;\r\n\r\nnormally generates exactly the same code as:\r\n\r\n    String a=&quot;Hello&quot;;\r\n    String b=&quot;Goodbye&quot;:\r\n    StringBuilder temp=new StringBuilder();\r\n    temp.append(a).append(b);\r\n    String c=temp.toString();\r\n\r\nOn the other hand:\r\n\r\n    String c=&quot;Hello&quot;+&quot;Goodbye&quot;;\r\n\r\nis the same as:\r\n\r\n    String c=&quot;HelloGoodbye&quot;;\r\n\r\nThat is, there&#39;s no penalty in breaking your string literals across multiple lines with plus signs for readability.\r\n\r\n\r\n\r\n","title":"Does Java have support for multiline strings?","body":"<p>Pluses are converted to StringBuilder.append, except when both strings are constants so the compiler can combine them at compile time. At least, that's how it is in Sun's compiler, and I would suspect most if not all other compilers would do the same.</p>\n\n<p>So:</p>\n\n<pre><code>String a=\"Hello\";\nString b=\"Goodbye\";\nString c=a+b;\n</code></pre>\n\n<p>normally generates exactly the same code as:</p>\n\n<pre><code>String a=\"Hello\";\nString b=\"Goodbye\":\nStringBuilder temp=new StringBuilder();\ntemp.append(a).append(b);\nString c=temp.toString();\n</code></pre>\n\n<p>On the other hand:</p>\n\n<pre><code>String c=\"Hello\"+\"Goodbye\";\n</code></pre>\n\n<p>is the same as:</p>\n\n<pre><code>String c=\"HelloGoodbye\";\n</code></pre>\n\n<p>That is, there's no penalty in breaking your string literals across multiple lines with plus signs for readability.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1242761941,"creation_date":1242760071,"answer_id":884495,"question_id":878573,"body_markdown":"When a long series of + are used, only one StringBuilder is created, unless the String is determined at compile time in which case no StringBuilder is used!\r\n\r\nThe only time StringBuilder is more efficient is when multiple statements are used to construct the String.\r\n\r\n    String a = &quot;a\\n&quot;;\r\n    String b = &quot;b\\n&quot;;\r\n    String c = &quot;c\\n&quot;;\r\n    String d = &quot;d\\n&quot;;\r\n    \r\n    String abcd = a + b + c + d;\r\n    System.out.println(abcd);\r\n    \r\n    String abcd2 = &quot;a\\n&quot; +\r\n            &quot;b\\n&quot; +\r\n            &quot;c\\n&quot; +\r\n            &quot;d\\n&quot;;\r\n    System.out.println(abcd2);\r\n\r\nNote: Only one StringBuilder is created.\r\n\r\n      Code:\r\n       0:   ldc     #2; //String a\\n\r\n       2:   astore_1\r\n       3:   ldc     #3; //String b\\n\r\n       5:   astore_2\r\n       6:   ldc     #4; //String c\\n\r\n       8:   astore_3\r\n       9:   ldc     #5; //String d\\n\r\n       11:  astore  4\r\n       13:  new     #6; //class java/lang/StringBuilder\r\n       16:  dup\r\n       17:  invokespecial   #7; //Method java/lang/StringBuilder.&quot;&lt;init&gt;&quot;:()V\r\n       20:  aload_1\r\n       21:  invokevirtual   #8; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n       24:  aload_2\r\n       25:  invokevirtual   #8; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n       28:  aload_3\r\n       29:  invokevirtual   #8; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n       32:  aload   4\r\n       34:  invokevirtual   #8; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n       37:  invokevirtual   #9; //Method java/lang/StringBuilder.toString:()Ljava/lang/String;\r\n       40:  astore  5\r\n       42:  getstatic       #10; //Field java/lang/System.out:Ljava/io/PrintStream;\r\n       45:  aload   5\r\n       47:  invokevirtual   #11; //Method java/io/PrintStream.println:(Ljava/lang/String;)V\r\n       50:  ldc     #12; //String a\\nb\\nc\\nd\\n\r\n       52:  astore  6\r\n       54:  getstatic       #10; //Field java/lang/System.out:Ljava/io/PrintStream;\r\n       57:  aload   6\r\n       59:  invokevirtual   #11; //Method java/io/PrintStream.println:(Ljava/lang/String;)V\r\n       62:  return\r\n\r\n&gt; To clarify my question further, I&#39;m not concerned about performance at all. I&#39;m concerned about maintainability and design issues.\r\n\r\nMake it as clear and simple as you can.\r\n","title":"Does Java have support for multiline strings?","body":"<p>When a long series of + are used, only one StringBuilder is created, unless the String is determined at compile time in which case no StringBuilder is used!</p>\n\n<p>The only time StringBuilder is more efficient is when multiple statements are used to construct the String.</p>\n\n<pre><code>String a = \"a\\n\";\nString b = \"b\\n\";\nString c = \"c\\n\";\nString d = \"d\\n\";\n\nString abcd = a + b + c + d;\nSystem.out.println(abcd);\n\nString abcd2 = \"a\\n\" +\n        \"b\\n\" +\n        \"c\\n\" +\n        \"d\\n\";\nSystem.out.println(abcd2);\n</code></pre>\n\n<p>Note: Only one StringBuilder is created.</p>\n\n<pre><code>  Code:\n   0:   ldc     #2; //String a\\n\n   2:   astore_1\n   3:   ldc     #3; //String b\\n\n   5:   astore_2\n   6:   ldc     #4; //String c\\n\n   8:   astore_3\n   9:   ldc     #5; //String d\\n\n   11:  astore  4\n   13:  new     #6; //class java/lang/StringBuilder\n   16:  dup\n   17:  invokespecial   #7; //Method java/lang/StringBuilder.\"&lt;init&gt;\":()V\n   20:  aload_1\n   21:  invokevirtual   #8; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n   24:  aload_2\n   25:  invokevirtual   #8; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n   28:  aload_3\n   29:  invokevirtual   #8; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n   32:  aload   4\n   34:  invokevirtual   #8; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n   37:  invokevirtual   #9; //Method java/lang/StringBuilder.toString:()Ljava/lang/String;\n   40:  astore  5\n   42:  getstatic       #10; //Field java/lang/System.out:Ljava/io/PrintStream;\n   45:  aload   5\n   47:  invokevirtual   #11; //Method java/io/PrintStream.println:(Ljava/lang/String;)V\n   50:  ldc     #12; //String a\\nb\\nc\\nd\\n\n   52:  astore  6\n   54:  getstatic       #10; //Field java/lang/System.out:Ljava/io/PrintStream;\n   57:  aload   6\n   59:  invokevirtual   #11; //Method java/io/PrintStream.println:(Ljava/lang/String;)V\n   62:  return\n</code></pre>\n\n<blockquote>\n  <p>To clarify my question further, I'm not concerned about performance at all. I'm concerned about maintainability and design issues.</p>\n</blockquote>\n\n<p>Make it as clear and simple as you can.</p>\n"},{"tags":[],"owner":{"display_name":"Panu Viljamaa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1251318803,"creation_date":1251318803,"answer_id":1337309,"question_id":878573,"body_markdown":"A simple option is to edit your java-code with an editor like SciTE (http://www.scintilla.org/SciTEDownload.html), which allows you to WRAP the text so that long strings are easily viewed and edited. If you need escape characters you just put them in. By flipping the wrap-option off you can check that your string indeed is still just a long single-line string.  But of course, the compiler will tell you too if it isn&#39;t.\r\n\r\nWhether Eclipse or NetBeans support text-wrapping in an editor I don&#39;t know, because they have so many options. But if not, that would be a good thing to add. \r\n","title":"Does Java have support for multiline strings?","body":"<p>A simple option is to edit your java-code with an editor like SciTE (<a href=\"http://www.scintilla.org/SciTEDownload.html\" rel=\"nofollow noreferrer\">http://www.scintilla.org/SciTEDownload.html</a>), which allows you to WRAP the text so that long strings are easily viewed and edited. If you need escape characters you just put them in. By flipping the wrap-option off you can check that your string indeed is still just a long single-line string.  But of course, the compiler will tell you too if it isn't.</p>\n\n<p>Whether Eclipse or NetBeans support text-wrapping in an editor I don't know, because they have so many options. But if not, that would be a good thing to add. </p>\n"},{"tags":[],"owner":{"account_id":8368,"reputation":2252,"user_id":15050,"accept_rate":80,"display_name":"Bob Albright"},"down_vote_count":2,"up_vote_count":63,"is_accepted":false,"score":61,"last_activity_date":1257263730,"creation_date":1257263730,"answer_id":1668225,"question_id":878573,"body_markdown":"This is something that you should *never* use without thinking about what it&#39;s doing.  But for one-off scripts I&#39;ve used this with great success:\r\n\r\nExample:\r\n\r\n        System.out.println(S(/*\r\n    This is a CRAZY &quot; &#39; &#39; &quot; multiline string with all sorts of strange \r\n       characters!\r\n    */));\r\n\r\nCode:\r\n\r\n    // From: http://blog.efftinge.de/2008/10/multi-line-string-literals-in-java.html\r\n\t// Takes a comment (/**/) and turns everything inside the comment to a string that is returned from S()\r\n\tpublic static String S() {\r\n\t\tStackTraceElement element = new RuntimeException().getStackTrace()[1];\r\n\t\tString name = element.getClassName().replace(&#39;.&#39;, &#39;/&#39;) + &quot;.java&quot;;\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tString line = null;\r\n\t\tInputStream in = classLoader.getResourceAsStream(name);\r\n\t\tString s = convertStreamToString(in, element.getLineNumber());\r\n\t\treturn s.substring(s.indexOf(&quot;/*&quot;)+2, s.indexOf(&quot;*/&quot;));\r\n\t}\r\n\r\n\t// From http://www.kodejava.org/examples/266.html\r\n    private static String convertStreamToString(InputStream is, int lineNum) {\r\n        /*\r\n         * To convert the InputStream to String we use the BufferedReader.readLine()\r\n         * method. We iterate until the BufferedReader return null which means\r\n         * there&#39;s no more data to read. Each line will appended to a StringBuilder\r\n         * and returned as String.\r\n         */\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(is));\r\n        StringBuilder sb = new StringBuilder();\r\n\r\n        String line = null; int i = 1;\r\n        try {\r\n            while ((line = reader.readLine()) != null) {\r\n                if (i++ &gt;= lineNum) {\r\n            \t    sb.append(line + &quot;\\n&quot;);\r\n\t\t\t\t}\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            try {\r\n                is.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        return sb.toString();\r\n    }","title":"Does Java have support for multiline strings?","body":"<p>This is something that you should <em>never</em> use without thinking about what it's doing.  But for one-off scripts I've used this with great success:</p>\n\n<p>Example:</p>\n\n<pre><code>    System.out.println(S(/*\nThis is a CRAZY \" ' ' \" multiline string with all sorts of strange \n   characters!\n*/));\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>// From: http://blog.efftinge.de/2008/10/multi-line-string-literals-in-java.html\n// Takes a comment (/**/) and turns everything inside the comment to a string that is returned from S()\npublic static String S() {\n    StackTraceElement element = new RuntimeException().getStackTrace()[1];\n    String name = element.getClassName().replace('.', '/') + \".java\";\n    StringBuilder sb = new StringBuilder();\n    String line = null;\n    InputStream in = classLoader.getResourceAsStream(name);\n    String s = convertStreamToString(in, element.getLineNumber());\n    return s.substring(s.indexOf(\"/*\")+2, s.indexOf(\"*/\"));\n}\n\n// From http://www.kodejava.org/examples/266.html\nprivate static String convertStreamToString(InputStream is, int lineNum) {\n    /*\n     * To convert the InputStream to String we use the BufferedReader.readLine()\n     * method. We iterate until the BufferedReader return null which means\n     * there's no more data to read. Each line will appended to a StringBuilder\n     * and returned as String.\n     */\n    BufferedReader reader = new BufferedReader(new InputStreamReader(is));\n    StringBuilder sb = new StringBuilder();\n\n    String line = null; int i = 1;\n    try {\n        while ((line = reader.readLine()) != null) {\n            if (i++ &gt;= lineNum) {\n                sb.append(line + \"\\n\");\n            }\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    } finally {\n        try {\n            is.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1257264384,"creation_date":1257264384,"answer_id":1668296,"question_id":878573,"body_markdown":"An alternative I haven&#39;t seen as answer yet is the [`java.io.PrintWriter`][1].\r\n\r\n    StringWriter stringWriter = new StringWriter();\r\n    PrintWriter writer = new PrintWriter(stringWriter);\r\n    writer.println(&quot;It was the best of times, it was the worst of times&quot;);\r\n    writer.println(&quot;it was the age of wisdom, it was the age of foolishness,&quot;);\r\n    writer.println(&quot;it was the epoch of belief, it was the epoch of incredulity,&quot;);\r\n    writer.println(&quot;it was the season of Light, it was the season of Darkness,&quot;);\r\n    writer.println(&quot;it was the spring of hope, it was the winter of despair,&quot;);\r\n    writer.println(&quot;we had everything before us, we had nothing before us&quot;);\r\n    String string = stringWriter.toString();\r\n\r\nAlso the fact that [`java.io.BufferedWriter`][2] has a `newLine()` method is unmentioned.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/io/PrintWriter.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/io/BufferedWriter.html","title":"Does Java have support for multiline strings?","body":"<p>An alternative I haven't seen as answer yet is the <a href=\"http://java.sun.com/javase/6/docs/api/java/io/PrintWriter.html\" rel=\"noreferrer\"><code>java.io.PrintWriter</code></a>.</p>\n\n<pre><code>StringWriter stringWriter = new StringWriter();\nPrintWriter writer = new PrintWriter(stringWriter);\nwriter.println(\"It was the best of times, it was the worst of times\");\nwriter.println(\"it was the age of wisdom, it was the age of foolishness,\");\nwriter.println(\"it was the epoch of belief, it was the epoch of incredulity,\");\nwriter.println(\"it was the season of Light, it was the season of Darkness,\");\nwriter.println(\"it was the spring of hope, it was the winter of despair,\");\nwriter.println(\"we had everything before us, we had nothing before us\");\nString string = stringWriter.toString();\n</code></pre>\n\n<p>Also the fact that <a href=\"http://java.sun.com/javase/6/docs/api/java/io/BufferedWriter.html\" rel=\"noreferrer\"><code>java.io.BufferedWriter</code></a> has a <code>newLine()</code> method is unmentioned.</p>\n"},{"tags":[],"owner":{"account_id":587794,"reputation":1,"user_id":260368,"display_name":"ThomasP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1264619055,"creation_date":1264619055,"answer_id":2149584,"question_id":878573,"body_markdown":"I got a bit annoyed with reading that multiline syntax is indeed been planned for jdk7 (after about how many decades of java existence?). Funnily, there is not even yet a readAll() function for reading the complete contents of a file (from jdk7 only, huhh), so the code below reads single lines. \r\n\r\n&lt;pre&gt;\r\n/*\r\n  MakeMultiline v1.0 (2010) - Free to use and copy.\r\n\r\n  Small gadget to turn text blobs into one java string literal\r\n  (doing the split in lines, adding \\n at each end and enclosing\r\n  in double quotes). Does escape quotes encountered in the text blob.\r\n\r\n  Useful for working around missing multiline string syntax in java\r\n  prior jdk7. Use with:\r\n\r\n     java MakeMultiline &quot;    &quot;\r\n  or\r\n     java MakeMultiline &quot;    &quot; mytextfile.txt\r\n*/\r\n\r\nimport java.io.*;\r\n\r\nclass MakeMultiline {\r\n  public static void main(String[] args) {\r\n    try {\r\n      // args[0]: indent\r\n      // args[1]: filename to read (optional; stdin if not given)\r\n      // Beware the nmb of newlines at the end when using stdin!\r\n\r\n      String indent = (args.length &gt; 0 ? args[0] : &quot;&quot;);\r\n      FileReader fr = null; BufferedReader br;\r\n      if (args.length &gt; 1)\r\n        { fr =  new FileReader(args[1]); br = new BufferedReader(fr); }\r\n      else\r\n        { br = new BufferedReader(new InputStreamReader(System.in)); }\r\n      String s; String res = &quot;&quot;;\r\n      while((s = br.readLine()) != null) {\r\n        if (res.length() &gt; 0) res += &quot; +\\n&quot;;\r\n        res += indent + &quot;\\&quot;&quot; + s.replace(&quot;\\&quot;&quot;, &quot;\\\\\\&quot;&quot;) + &quot;\\\\n\\&quot;&quot;;\r\n      }\r\n      br.close(); if (fr != null) fr.close();\r\n      System.out.println(res + &quot;;&quot;);\r\n    }\r\n    catch(Exception e) {\r\n      System.out.println(&quot;Exception: &quot; + e);\r\n    }\r\n  }\r\n}\r\n&lt;/pre&gt;\r\n\r\nThis was the quickest solution for me. (2010-01-27)\r\n","title":"Does Java have support for multiline strings?","body":"<p>I got a bit annoyed with reading that multiline syntax is indeed been planned for jdk7 (after about how many decades of java existence?). Funnily, there is not even yet a readAll() function for reading the complete contents of a file (from jdk7 only, huhh), so the code below reads single lines. </p>\n\n<pre>\n/*\n  MakeMultiline v1.0 (2010) - Free to use and copy.\n\n  Small gadget to turn text blobs into one java string literal\n  (doing the split in lines, adding \\n at each end and enclosing\n  in double quotes). Does escape quotes encountered in the text blob.\n\n  Useful for working around missing multiline string syntax in java\n  prior jdk7. Use with:\n\n     java MakeMultiline \"    \"\n  or\n     java MakeMultiline \"    \" mytextfile.txt\n*/\n\nimport java.io.*;\n\nclass MakeMultiline {\n  public static void main(String[] args) {\n    try {\n      // args[0]: indent\n      // args[1]: filename to read (optional; stdin if not given)\n      // Beware the nmb of newlines at the end when using stdin!\n\n      String indent = (args.length > 0 ? args[0] : \"\");\n      FileReader fr = null; BufferedReader br;\n      if (args.length > 1)\n        { fr =  new FileReader(args[1]); br = new BufferedReader(fr); }\n      else\n        { br = new BufferedReader(new InputStreamReader(System.in)); }\n      String s; String res = \"\";\n      while((s = br.readLine()) != null) {\n        if (res.length() > 0) res += \" +\\n\";\n        res += indent + \"\\\"\" + s.replace(\"\\\"\", \"\\\\\\\"\") + \"\\\\n\\\"\";\n      }\n      br.close(); if (fr != null) fr.close();\n      System.out.println(res + \";\");\n    }\n    catch(Exception e) {\n      System.out.println(\"Exception: \" + e);\n    }\n  }\n}\n</pre>\n\n<p>This was the quickest solution for me. (2010-01-27)</p>\n"},{"tags":[],"owner":{"account_id":2093,"reputation":1263,"user_id":2887,"accept_rate":86,"display_name":"horace"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1532696579,"creation_date":1274108278,"answer_id":2850099,"question_id":878573,"body_markdown":"I suggest using a utility as suggested by ThomasP, and then link that into your build process.  An external file is still present to contain the text, but the file is not read at runtime.\r\nThe workflow is then:\r\n\r\n 1. Build a &#39;textfile to java code&#39; utility &amp; check into version control\r\n 2. On each build, run the utility against the resource file to create a revised java source\r\n 3. The Java source contains a header like\r\n`class TextBlock {...` followed by a static string which is auto-generated from the resource file\r\n 4. Build the generated java file with the rest of your code\r\n","title":"Does Java have support for multiline strings?","body":"<p>I suggest using a utility as suggested by ThomasP, and then link that into your build process.  An external file is still present to contain the text, but the file is not read at runtime.\nThe workflow is then:</p>\n\n<ol>\n<li>Build a 'textfile to java code' utility &amp; check into version control</li>\n<li>On each build, run the utility against the resource file to create a revised java source</li>\n<li>The Java source contains a header like\n<code>class TextBlock {...</code> followed by a static string which is auto-generated from the resource file</li>\n<li>Build the generated java file with the rest of your code</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":120028,"reputation":35734,"user_id":312172,"accept_rate":86,"display_name":"user unknown"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1497976105,"creation_date":1274160428,"answer_id":2854728,"question_id":878573,"body_markdown":"You may use scala-code, which is compatible to java, and allows multiline-Strings enclosed with &quot;&quot;&quot;:\r\n\r\n&lt;!-- language: scala --&gt;\r\n\r\n    package foobar\r\n    object SWrap {\r\n      def bar = &quot;&quot;&quot;John said: &quot;This is\r\n      a test\r\n      a bloody test,\r\n      my dear.&quot; and closed the door.&quot;&quot;&quot; \r\n    }\r\n\r\n(note the quotes inside the string) and from java:\r\n\r\n    String s2 = foobar.SWrap.bar ();\r\n\r\nWhether this is more comfortable ...? \r\n\r\nAnother approach, if you often handle long text, which should be placed in your sourcecode, might be a script, which takes the text from an external file, and wrappes it as a multiline-java-String like this: \r\n\r\n    sed &#39;1s/^/String s = \\&quot;/;2,$s/^/\\t+ &quot;/;2,$s/$/&quot;/&#39; file &gt; file.java\r\n\r\nso that you may cut-and-paste it easily into your source.","title":"Does Java have support for multiline strings?","body":"<p>You may use scala-code, which is compatible to java, and allows multiline-Strings enclosed with \"\"\":</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>package foobar\nobject SWrap {\n  def bar = \"\"\"John said: \"This is\n  a test\n  a bloody test,\n  my dear.\" and closed the door.\"\"\" \n}\n</code></pre>\n\n<p>(note the quotes inside the string) and from java:</p>\n\n<pre><code>String s2 = foobar.SWrap.bar ();\n</code></pre>\n\n<p>Whether this is more comfortable ...? </p>\n\n<p>Another approach, if you often handle long text, which should be placed in your sourcecode, might be a script, which takes the text from an external file, and wrappes it as a multiline-java-String like this: </p>\n\n<pre><code>sed '1s/^/String s = \\\"/;2,$s/^/\\t+ \"/;2,$s/$/\"/' file &gt; file.java\n</code></pre>\n\n<p>so that you may cut-and-paste it easily into your source.</p>\n"},{"tags":[],"owner":{"account_id":665674,"reputation":9,"user_id":485552,"display_name":"Deltaplan"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1692771038,"creation_date":1287919632,"answer_id":4008005,"question_id":878573,"body_markdown":"I see at least one case where it should be avoided to use external files for long strings: if these long string are expected values in a unit-test file, because I think the tests should always be written in a way that they don&#39;t rely on any external resource.","title":"Does Java have support for multiline strings?","body":"<p>I see at least one case where it should be avoided to use external files for long strings: if these long string are expected values in a unit-test file, because I think the tests should always be written in a way that they don't rely on any external resource.</p>\n"},{"tags":[],"owner":{"account_id":683558,"reputation":46,"user_id":539757,"display_name":"Hector Caicedo"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1292179184,"creation_date":1292179184,"answer_id":4423295,"question_id":878573,"body_markdown":"One small trick. Using this I inject javascritp in a dynamically created HTML page \r\n\r\n\r\n    StringBuilder builder = new StringBuilder();\r\n\r\n    public String getString()\r\n    {\r\n        return builder.toString();\r\n    }\r\n    private DropdownContent _(String a)\r\n    {\r\n        builder.append(a);\r\n        return this;\r\n    }\r\n\r\n    public String funct_showhide()\r\n    {\r\n       return\r\n        _(&quot;function slidedown_showHide(boxId)&quot;).\r\n        _(&quot;{&quot;).\r\n        _(&quot;if(!slidedown_direction[boxId])slidedown_direction[boxId] = 1;&quot;).\r\n        _(&quot;if(!slideDownInitHeight[boxId])slideDownInitHeight[boxId] = 0;&quot;).\r\n        _(&quot;if(slideDownInitHeight[boxId]==0)slidedown_direction[boxId]=slidedownSpeed; &quot;).\r\n        _(&quot;else slidedown_direction[boxId] = slidedownSpeed*-1;&quot;).\r\n        _(&quot;slidedownContentBox = document.getElementById(boxId);&quot;).\r\n        _(&quot;var subDivs = slidedownContentBox.getElementsByTagName(&#39;DIV&#39;);&quot;).\r\n        _(&quot;for(var no=0;no&lt;subDivs.length;no++){&quot;).\r\n        _(&quot; if(subDivs[no].className==&#39;dhtmlgoodies_content&#39;)slidedownContent = subDivs[no];&quot;).\r\n        _(&quot;}&quot;).\r\n        _(&quot;contentHeight = slidedownContent.offsetHeight;&quot;).\r\n        _(&quot;slidedownContentBox.style.visibility=&#39;visible&#39;;&quot;).\r\n        _(&quot;slidedownActive = true;&quot;).\r\n        _(&quot;slidedown_showHide_start(slidedownContentBox,slidedownContent);&quot;).\r\n        _(&quot;}&quot;).getString();\r\n        \r\n    }\r\n\r\n\r\n","title":"Does Java have support for multiline strings?","body":"<p>One small trick. Using this I inject javascritp in a dynamically created HTML page </p>\n\n<pre><code>StringBuilder builder = new StringBuilder();\n\npublic String getString()\n{\n    return builder.toString();\n}\nprivate DropdownContent _(String a)\n{\n    builder.append(a);\n    return this;\n}\n\npublic String funct_showhide()\n{\n   return\n    _(\"function slidedown_showHide(boxId)\").\n    _(\"{\").\n    _(\"if(!slidedown_direction[boxId])slidedown_direction[boxId] = 1;\").\n    _(\"if(!slideDownInitHeight[boxId])slideDownInitHeight[boxId] = 0;\").\n    _(\"if(slideDownInitHeight[boxId]==0)slidedown_direction[boxId]=slidedownSpeed; \").\n    _(\"else slidedown_direction[boxId] = slidedownSpeed*-1;\").\n    _(\"slidedownContentBox = document.getElementById(boxId);\").\n    _(\"var subDivs = slidedownContentBox.getElementsByTagName('DIV');\").\n    _(\"for(var no=0;no&lt;subDivs.length;no++){\").\n    _(\" if(subDivs[no].className=='dhtmlgoodies_content')slidedownContent = subDivs[no];\").\n    _(\"}\").\n    _(\"contentHeight = slidedownContent.offsetHeight;\").\n    _(\"slidedownContentBox.style.visibility='visible';\").\n    _(\"slidedownActive = true;\").\n    _(\"slidedown_showHide_start(slidedownContentBox,slidedownContent);\").\n    _(\"}\").getString();\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":271547,"reputation":5692,"user_id":562139,"accept_rate":75,"display_name":"scorpiodawg"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1298312532,"creation_date":1298312532,"answer_id":5069681,"question_id":878573,"body_markdown":"Since Java does not (yet) native support multi-line strings, the only way for now is to hack around it using one of the aforementioned techniques. I built the following Python script using some of the tricks mentioned above:\r\n\r\n    import sys\r\n    import string\r\n    import os\r\n    \r\n    print &#39;new String(&#39;\r\n    for line in sys.stdin:\r\n        one = string.replace(line, &#39;&quot;&#39;, &#39;\\\\&quot;&#39;).rstrip(os.linesep)\r\n        print &#39;  + &quot;&#39; + one + &#39; &quot;&#39;\r\n    print &#39;)&#39;\r\n\r\nPut that in a file named javastringify.py and your string in a file mystring.txt and run it as follows:\r\n\r\n    cat mystring.txt | python javastringify.py\r\n\r\nYou can then copy the output and paste it into your editor. \r\n\r\nModify this as needed to handle any special cases but this works for my needs. Hope this helps!","title":"Does Java have support for multiline strings?","body":"<p>Since Java does not (yet) native support multi-line strings, the only way for now is to hack around it using one of the aforementioned techniques. I built the following Python script using some of the tricks mentioned above:</p>\n\n<pre><code>import sys\nimport string\nimport os\n\nprint 'new String('\nfor line in sys.stdin:\n    one = string.replace(line, '\"', '\\\\\"').rstrip(os.linesep)\n    print '  + \"' + one + ' \"'\nprint ')'\n</code></pre>\n\n<p>Put that in a file named javastringify.py and your string in a file mystring.txt and run it as follows:</p>\n\n<pre><code>cat mystring.txt | python javastringify.py\n</code></pre>\n\n<p>You can then copy the output and paste it into your editor. </p>\n\n<p>Modify this as needed to handle any special cases but this works for my needs. Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":238558,"reputation":840,"user_id":507528,"accept_rate":71,"display_name":"Monir"},"down_vote_count":2,"up_vote_count":196,"is_accepted":false,"score":194,"last_activity_date":1324567746,"creation_date":1318266422,"answer_id":7716231,"question_id":878573,"body_markdown":"In Eclipse if you turn on the option &quot;Escape text when pasting into a string literal&quot; (in Preferences &gt; Java &gt; Editor &gt; Typing) and paste a multi-lined string whithin quotes, it will automatically add `&quot;` and `\\n&quot; +` for all your lines.\r\n\r\n    String str = &quot;paste your text here&quot;;\r\n\r\n","title":"Does Java have support for multiline strings?","body":"<p>In Eclipse if you turn on the option \"Escape text when pasting into a string literal\" (in Preferences > Java > Editor > Typing) and paste a multi-lined string whithin quotes, it will automatically add <code>\"</code> and <code>\\n\" +</code> for all your lines.</p>\n\n<pre><code>String str = \"paste your text here\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1034505,"reputation":1110,"user_id":1042153,"display_name":"Leo"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1500984486,"creation_date":1326491521,"answer_id":8857710,"question_id":878573,"body_markdown":"See [Java Stringfier][1]. Turns your text into a StringBuilder java block escaping if needed.\r\n\r\n\r\n  [1]: http://stringfier.amterano.net","title":"Does Java have support for multiline strings?","body":"<p>See <a href=\"http://stringfier.amterano.net\" rel=\"nofollow noreferrer\">Java Stringfier</a>. Turns your text into a StringBuilder java block escaping if needed.</p>\n"},{"tags":[],"owner":{"account_id":253331,"reputation":22640,"user_id":531954,"accept_rate":69,"display_name":"Danubian Sailor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1532696531,"creation_date":1326526808,"answer_id":8860859,"question_id":878573,"body_markdown":"It may seem a little crazy, but since heredocs are syntactic sugar over one-line declarations with linebreaks escaped, one could write pre-processor for Java files that would change heredocs into single-liners during preprocessing. \r\n\r\nIt would require writing proper plugins for preprocessing files before compilation phase (for ant/maven build) and a plugin to IDE. \r\n\r\nFrom an ideological point of view, it differs nothing from f.g. &quot;generics&quot;, that is also a kind of pre-processed syntactic sugar over casting.\r\n\r\nIt&#39;s, however, a lot of work, so I would at your place just use .properties files.","title":"Does Java have support for multiline strings?","body":"<p>It may seem a little crazy, but since heredocs are syntactic sugar over one-line declarations with linebreaks escaped, one could write pre-processor for Java files that would change heredocs into single-liners during preprocessing. </p>\n\n<p>It would require writing proper plugins for preprocessing files before compilation phase (for ant/maven build) and a plugin to IDE. </p>\n\n<p>From an ideological point of view, it differs nothing from f.g. \"generics\", that is also a kind of pre-processed syntactic sugar over casting.</p>\n\n<p>It's, however, a lot of work, so I would at your place just use .properties files.</p>\n"},{"tags":[],"owner":{"account_id":1643534,"reputation":31,"user_id":1515536,"display_name":"Dan Lo Bianco"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1341940107,"creation_date":1341940107,"answer_id":11418371,"question_id":878573,"body_markdown":"If you like google&#39;s guava as much as I do, it can give a fairly clean representation and a nice, easy way to not hardcode your newline characters too:\r\n\r\n    String out = Joiner.on(newline).join(ImmutableList.of(\r\n        &quot;line1&quot;,\r\n        &quot;line2&quot;,\r\n        &quot;line3&quot;));","title":"Does Java have support for multiline strings?","body":"<p>If you like google's guava as much as I do, it can give a fairly clean representation and a nice, easy way to not hardcode your newline characters too:</p>\n\n<pre><code>String out = Joiner.on(newline).join(ImmutableList.of(\n    \"line1\",\n    \"line2\",\n    \"line3\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":66663,"reputation":1579,"user_id":195463,"display_name":"SRG"},"down_vote_count":2,"up_vote_count":104,"is_accepted":false,"score":102,"last_activity_date":1551229921,"creation_date":1343807194,"answer_id":11754758,"question_id":878573,"body_markdown":"This is an old thread, but a new quite elegant solution (with only 4 maybe 3 little drawbacks) is to use a custom annotation.\r\n\r\nCheck : http://www.adrianwalker.org/2011/12/java-multiline-string.html\r\n\r\nA project inspired from that work is hosted on GitHub: \r\n\r\nhttps://github.com/benelog/multiline \r\n\r\nExample of Java code:\r\n\r\n    import org.adrianwalker.multilinestring.Multiline;\r\n    ...\r\n    public final class MultilineStringUsage {\r\n     \r\n      /**\r\n      &lt;html&gt;\r\n        &lt;head/&gt;\r\n        &lt;body&gt;\r\n          &lt;p&gt;\r\n            Hello&lt;br/&gt;\r\n            Multiline&lt;br/&gt;\r\n            World&lt;br/&gt;\r\n          &lt;/p&gt;\r\n        &lt;/body&gt;\r\n      &lt;/html&gt;\r\n      */\r\n      @Multiline\r\n      private static String html;\r\n        \r\n      public static void main(final String[] args) {\r\n        System.out.println(html);\r\n      }\r\n    }\r\n\r\nThe drawbacks are \r\n\r\n 1. that you have to activate the corresponding (provided) annotation\r\n    processor. \r\n 2. that String variable can not be defined as local variable Check [Raw String Literals project](https://github.com/mageddo/mageddo-projects/tree/master/raw-string-literals) where you can define variables as local variables  \r\n 3. that String cannot contains other variables as in Visual Basic .Net\r\n    with XML literal (`&lt;%= variable %&gt;`) :-)\r\n 4. that String literal is delimited by JavaDoc comment (/**)\r\n\r\nAnd you probably have to configure Eclipse/Intellij-Idea to not reformat automatically your Javadoc comments.\r\n\r\nOne may find this weird (Javadoc comments are not designed to embed anything other than comments), but as this lack of multiline string in Java is really annoying in the end, I find this to be the least worst solution.\r\n\r\n\r\n","title":"Does Java have support for multiline strings?","body":"<p>This is an old thread, but a new quite elegant solution (with only 4 maybe 3 little drawbacks) is to use a custom annotation.</p>\n\n<p>Check : <a href=\"http://www.adrianwalker.org/2011/12/java-multiline-string.html\" rel=\"noreferrer\">http://www.adrianwalker.org/2011/12/java-multiline-string.html</a></p>\n\n<p>A project inspired from that work is hosted on GitHub: </p>\n\n<p><a href=\"https://github.com/benelog/multiline\" rel=\"noreferrer\">https://github.com/benelog/multiline</a> </p>\n\n<p>Example of Java code:</p>\n\n<pre><code>import org.adrianwalker.multilinestring.Multiline;\n...\npublic final class MultilineStringUsage {\n\n  /**\n  &lt;html&gt;\n    &lt;head/&gt;\n    &lt;body&gt;\n      &lt;p&gt;\n        Hello&lt;br/&gt;\n        Multiline&lt;br/&gt;\n        World&lt;br/&gt;\n      &lt;/p&gt;\n    &lt;/body&gt;\n  &lt;/html&gt;\n  */\n  @Multiline\n  private static String html;\n\n  public static void main(final String[] args) {\n    System.out.println(html);\n  }\n}\n</code></pre>\n\n<p>The drawbacks are </p>\n\n<ol>\n<li>that you have to activate the corresponding (provided) annotation\nprocessor. </li>\n<li>that String variable can not be defined as local variable Check <a href=\"https://github.com/mageddo/mageddo-projects/tree/master/raw-string-literals\" rel=\"noreferrer\">Raw String Literals project</a> where you can define variables as local variables  </li>\n<li>that String cannot contains other variables as in Visual Basic .Net\nwith XML literal (<code>&lt;%= variable %&gt;</code>) :-)</li>\n<li>that String literal is delimited by JavaDoc comment (/**)</li>\n</ol>\n\n<p>And you probably have to configure Eclipse/Intellij-Idea to not reformat automatically your Javadoc comments.</p>\n\n<p>One may find this weird (Javadoc comments are not designed to embed anything other than comments), but as this lack of multiline string in Java is really annoying in the end, I find this to be the least worst solution.</p>\n"},{"tags":[],"owner":{"account_id":2575201,"reputation":7,"user_id":2233052,"display_name":"David Pickett"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1364838023,"creation_date":1364838023,"answer_id":15748444,"question_id":878573,"body_markdown":"Late model JAVA has optimizations for + with constant strings, employs a StringBuffer behind the scenes, so you do not want to clutter your code with it.\r\n\r\nIt points to a JAVA oversight, that it does not resemble ANSI C in the automatic concatenation of double quoted strings with only white space between them, e.g.:\r\n\r\n    const char usage = &quot;\\n&quot;\r\n    &quot;Usage: xxxx &lt;options&gt;\\n&quot;\r\n    &quot;\\n&quot;\r\n    &quot;Removes your options as designated by the required parameter &lt;options&gt;,\\n&quot;\r\n    &quot;which must be one of the following strings:\\n&quot;\r\n    &quot;  love\\n&quot;\r\n    &quot;  sex\\n&quot;\r\n    &quot;  drugs\\n&quot;\r\n    &quot;  rockandroll\\n&quot;\r\n    &quot;\\n&quot; ;\r\n\r\nI would love to have a multi-line character array constant where embedded linefeeds are honored, so I can present the block without any clutter, e.g.:\r\n\r\n    String Query = &quot;\r\n    SELECT\r\n        some_column,\r\n        another column\r\n      FROM\r\n          one_table a\r\n        JOIN\r\n          another_table b\r\n        ON    a.id = b.id\r\n          AND a.role_code = b.role_code\r\n      WHERE a.dept = &#39;sales&#39;\r\n        AND b.sales_quote &gt; 1000\r\n      Order BY 1, 2\r\n    &quot; ;\r\n\r\nTo get this, one needs to beat on the JAVA gods.\r\n\r\n\r\n\r\n","title":"Does Java have support for multiline strings?","body":"<p>Late model JAVA has optimizations for + with constant strings, employs a StringBuffer behind the scenes, so you do not want to clutter your code with it.</p>\n\n<p>It points to a JAVA oversight, that it does not resemble ANSI C in the automatic concatenation of double quoted strings with only white space between them, e.g.:</p>\n\n<pre><code>const char usage = \"\\n\"\n\"Usage: xxxx &lt;options&gt;\\n\"\n\"\\n\"\n\"Removes your options as designated by the required parameter &lt;options&gt;,\\n\"\n\"which must be one of the following strings:\\n\"\n\"  love\\n\"\n\"  sex\\n\"\n\"  drugs\\n\"\n\"  rockandroll\\n\"\n\"\\n\" ;\n</code></pre>\n\n<p>I would love to have a multi-line character array constant where embedded linefeeds are honored, so I can present the block without any clutter, e.g.:</p>\n\n<pre><code>String Query = \"\nSELECT\n    some_column,\n    another column\n  FROM\n      one_table a\n    JOIN\n      another_table b\n    ON    a.id = b.id\n      AND a.role_code = b.role_code\n  WHERE a.dept = 'sales'\n    AND b.sales_quote &gt; 1000\n  Order BY 1, 2\n\" ;\n</code></pre>\n\n<p>To get this, one needs to beat on the JAVA gods.</p>\n"},{"tags":[],"owner":{"account_id":1515338,"reputation":1268,"user_id":1416458,"display_name":"jpfreire"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1519674199,"creation_date":1392494029,"answer_id":21802804,"question_id":878573,"body_markdown":"Use `Properties.loadFromXML(InputStream)`. There&#39;s no need for external libs.\r\n\r\nBetter than a messy code (since maintainability and design are your concern), it is preferable not to use long strings.\r\n&lt;br/&gt;&lt;br/&gt;\r\nStart by reading xml properties:\r\n\r\n     InputStream fileIS = YourClass.class.getResourceAsStream(&quot;MultiLine.xml&quot;);\r\n     Properties prop = new Properies();\r\n     prop.loadFromXML(fileIS);\r\n&lt;br/&gt;\r\nthen you can use your multiline string in a **more maintainable** way...\r\n\r\n    static final String UNIQUE_MEANINGFUL_KEY = &quot;Super Duper UNIQUE Key&quot;;\r\n    prop.getProperty(UNIQUE_MEANINGFUL_KEY) // &quot;\\n    MEGA\\n   LONG\\n...&quot;\r\n&lt;br/&gt;\r\nMultiLine.xml` gets located in the same folder YourClass:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE properties SYSTEM &quot;http://java.sun.com/dtd/properties.dtd&quot;&gt;\r\n    \r\n    &lt;properties&gt;\r\n        &lt;entry key=&quot;Super Duper UNIQUE Key&quot;&gt;\r\n           MEGA\r\n           LONG\r\n           MULTILINE\r\n        &lt;/entry&gt;\r\n    &lt;/properties&gt;\r\n\r\nPS.: You can use `&lt;![CDATA[&quot;` ... `&quot;]]&gt;` for xml-like string.","title":"Does Java have support for multiline strings?","body":"<p>Use <code>Properties.loadFromXML(InputStream)</code>. There's no need for external libs.</p>\n\n<p>Better than a messy code (since maintainability and design are your concern), it is preferable not to use long strings.\n<br/><br/>\nStart by reading xml properties:</p>\n\n<pre><code> InputStream fileIS = YourClass.class.getResourceAsStream(\"MultiLine.xml\");\n Properties prop = new Properies();\n prop.loadFromXML(fileIS);\n</code></pre>\n\n<p><br/>\nthen you can use your multiline string in a <strong>more maintainable</strong> way...</p>\n\n<pre><code>static final String UNIQUE_MEANINGFUL_KEY = \"Super Duper UNIQUE Key\";\nprop.getProperty(UNIQUE_MEANINGFUL_KEY) // \"\\n    MEGA\\n   LONG\\n...\"\n</code></pre>\n\n<p><br/>\nMultiLine.xml` gets located in the same folder YourClass:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE properties SYSTEM \"http://java.sun.com/dtd/properties.dtd\"&gt;\n\n&lt;properties&gt;\n    &lt;entry key=\"Super Duper UNIQUE Key\"&gt;\n       MEGA\n       LONG\n       MULTILINE\n    &lt;/entry&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>PS.: You can use <code>&lt;![CDATA[\"</code> ... <code>\"]]&gt;</code> for xml-like string.</p>\n"},{"tags":[],"owner":{"account_id":2774050,"reputation":995,"user_id":2388005,"accept_rate":18,"display_name":"Fakeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1395639885,"creation_date":1395034670,"answer_id":22447633,"question_id":878573,"body_markdown":"I sometimes use a parallel groovy class just to act as a bag of strings\r\n\r\nThe java class here\r\n\r\n    public class Test {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(TestStrings.json1);\r\n    \t\t// consume .. parse json\r\n    \t}\r\n    }\r\n\r\nAnd the coveted multiline strings here in TestStrings.groovy\r\n\r\n    class TestStrings {\r\n    \tpublic static String json1 = &quot;&quot;&quot;\r\n    \t{\r\n    \t\t&quot;name&quot;: &quot;Fakeer&#39;s Json&quot;,\r\n    \t\t&quot;age&quot;:100,\r\n    \t\t&quot;messages&quot;:[&quot;msg 1&quot;,&quot;msg 2&quot;,&quot;msg 3&quot;]\r\n    \t}&quot;&quot;&quot;;\r\n    }\r\n\r\nOf course this is for static strings only. If I have to insert variables in the text I will just change the entire file to groovy. Just maintain strong-typing practices and it can be pulled off.\r\n","title":"Does Java have support for multiline strings?","body":"<p>I sometimes use a parallel groovy class just to act as a bag of strings</p>\n\n<p>The java class here</p>\n\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        System.out.println(TestStrings.json1);\n        // consume .. parse json\n    }\n}\n</code></pre>\n\n<p>And the coveted multiline strings here in TestStrings.groovy</p>\n\n<pre><code>class TestStrings {\n    public static String json1 = \"\"\"\n    {\n        \"name\": \"Fakeer's Json\",\n        \"age\":100,\n        \"messages\":[\"msg 1\",\"msg 2\",\"msg 3\"]\n    }\"\"\";\n}\n</code></pre>\n\n<p>Of course this is for static strings only. If I have to insert variables in the text I will just change the entire file to groovy. Just maintain strong-typing practices and it can be pulled off.</p>\n"},{"tags":[],"owner":{"account_id":201558,"reputation":20189,"user_id":448078,"accept_rate":61,"display_name":"Mike"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1564439557,"creation_date":1401779836,"answer_id":24009188,"question_id":878573,"body_markdown":"        import org.apache.commons.lang3.StringUtils;\r\n\r\n        String multiline = StringUtils.join(new String[] {\r\n            &quot;It was the best of times, it was the worst of times &quot;, \r\n            &quot;it was the age of wisdom, it was the age of foolishness&quot;,\r\n            &quot;it was the epoch of belief, it was the epoch of incredulity&quot;,\r\n            &quot;it was the season of Light, it was the season of Darkness&quot;,\r\n            &quot;it was the spring of hope, it was the winter of despair&quot;,\r\n            &quot;we had everything before us, we had nothing before us&quot;,\r\n            }, &quot;\\n&quot;);\r\n","title":"Does Java have support for multiline strings?","body":"<pre><code>    import org.apache.commons.lang3.StringUtils;\n\n    String multiline = StringUtils.join(new String[] {\n        \"It was the best of times, it was the worst of times \", \n        \"it was the age of wisdom, it was the age of foolishness\",\n        \"it was the epoch of belief, it was the epoch of incredulity\",\n        \"it was the season of Light, it was the season of Darkness\",\n        \"it was the spring of hope, it was the winter of despair\",\n        \"we had everything before us, we had nothing before us\",\n        }, \"\\n\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1735668,"reputation":1932,"user_id":1588303,"display_name":"Rodney P. Barbati"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1405301564,"creation_date":1405301564,"answer_id":24728491,"question_id":878573,"body_markdown":"Actually, the following is the cleanest implementation I have seen so far.  It uses an annotation to convert a comment into a string variable...\r\n\r\n    /**\r\n      &lt;html&gt;\r\n        &lt;head/&gt;\r\n        &lt;body&gt;\r\n          &lt;p&gt;\r\n            Hello&lt;br/&gt;\r\n            Multiline&lt;br/&gt;\r\n            World&lt;br/&gt;\r\n          &lt;/p&gt;\r\n        &lt;/body&gt;\r\n      &lt;/html&gt;\r\n      */\r\n      @Multiline\r\n      private static String html;\r\n\r\n\r\nSo, the end result is that the variable html contains the multiline string.  No quotes, no pluses, no commas, just pure string.\r\n\r\nThis solution is available at the following URL...\r\nhttp://www.adrianwalker.org/2011/12/java-multiline-string.html\r\n\r\nHope that helps!","title":"Does Java have support for multiline strings?","body":"<p>Actually, the following is the cleanest implementation I have seen so far.  It uses an annotation to convert a comment into a string variable...</p>\n\n<pre><code>/**\n  &lt;html&gt;\n    &lt;head/&gt;\n    &lt;body&gt;\n      &lt;p&gt;\n        Hello&lt;br/&gt;\n        Multiline&lt;br/&gt;\n        World&lt;br/&gt;\n      &lt;/p&gt;\n    &lt;/body&gt;\n  &lt;/html&gt;\n  */\n  @Multiline\n  private static String html;\n</code></pre>\n\n<p>So, the end result is that the variable html contains the multiline string.  No quotes, no pluses, no commas, just pure string.</p>\n\n<p>This solution is available at the following URL...\n<a href=\"http://www.adrianwalker.org/2011/12/java-multiline-string.html\" rel=\"noreferrer\">http://www.adrianwalker.org/2011/12/java-multiline-string.html</a></p>\n\n<p>Hope that helps!</p>\n"},{"tags":[],"owner":{"account_id":1886487,"reputation":396547,"user_id":1705598,"accept_rate":92,"display_name":"icza"},"down_vote_count":1,"up_vote_count":62,"is_accepted":false,"score":61,"last_activity_date":1500765076,"creation_date":1405599122,"answer_id":24803228,"question_id":878573,"body_markdown":"# `String.join`\r\n\r\nJava 8 added a new static method to `java.lang.String` which offers a slightly better alternative:\r\n\r\n[`String.join(\r\n    CharSequence delimiter , \r\n    CharSequence... elements\r\n)`](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.CharSequence...-)\r\n\r\nUsing it:\r\n\r\n    String s = String.join(\r\n        System.getProperty(&quot;line.separator&quot;),\r\n        &quot;First line.&quot;,\r\n        &quot;Second line.&quot;,\r\n        &quot;The rest.&quot;,\r\n        &quot;And the last!&quot;\r\n    );","title":"Does Java have support for multiline strings?","body":"<h1><code>String.join</code></h1>\n\n<p>Java 8 added a new static method to <code>java.lang.String</code> which offers a slightly better alternative:</p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.CharSequence...-\" rel=\"noreferrer\"><code>String.join(\n    CharSequence delimiter , \n    CharSequence... elements\n)</code></a></p>\n\n<p>Using it:</p>\n\n<pre><code>String s = String.join(\n    System.getProperty(\"line.separator\"),\n    \"First line.\",\n    \"Second line.\",\n    \"The rest.\",\n    \"And the last!\"\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":990483,"reputation":957,"user_id":1007955,"display_name":"Ruslan Ulanov"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1417818500,"creation_date":1417818500,"answer_id":27325708,"question_id":878573,"body_markdown":"It&#39;s not entirely clear from the question if author is interested in working with some sort of formatted large strings that need to have some dynamic values, but if that&#39;s the case a templating engine like StringTemplate (http://www.stringtemplate.org/) might be very useful.\r\n\r\nA simple sample of the code that uses StringTemplate is below. The actual template (&quot;Hello, &lt; name &gt;&quot;) could be loaded from an external plain text file. All indentation in the template will be preserved, and no escaping is necessary.\r\n\r\n    import org.stringtemplate.v4.*;\r\n    &#160;\r\n    public class Hello {\r\n    &#160;&#160;&#160;&#160;public static void main(String[] args) {\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ST hello = new ST(&quot;Hello, &lt;name&gt;&quot;);\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;hello.add(&quot;name&quot;, &quot;World&quot;);\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(hello.render());\r\n    &#160;&#160;&#160;&#160;}\r\n    }\r\n\r\nP.S. It&#39;s always a good idea to remove large chunks of text from source code for readability and localization purposes.","title":"Does Java have support for multiline strings?","body":"<p>It's not entirely clear from the question if author is interested in working with some sort of formatted large strings that need to have some dynamic values, but if that's the case a templating engine like StringTemplate (<a href=\"http://www.stringtemplate.org/\" rel=\"nofollow\">http://www.stringtemplate.org/</a>) might be very useful.</p>\n\n<p>A simple sample of the code that uses StringTemplate is below. The actual template (\"Hello, &lt; name >\") could be loaded from an external plain text file. All indentation in the template will be preserved, and no escaping is necessary.</p>\n\n<pre><code>import org.stringtemplate.v4.*;\n \npublic class Hello {\n    public static void main(String[] args) {\n        ST hello = new ST(\"Hello, &lt;name&gt;\");\n        hello.add(\"name\", \"World\");\n        System.out.println(hello.render());\n    }\n}\n</code></pre>\n\n<p>P.S. It's always a good idea to remove large chunks of text from source code for readability and localization purposes.</p>\n"},{"tags":[],"owner":{"account_id":2797936,"reputation":1877,"user_id":2406796,"accept_rate":14,"display_name":"Bruno Lee"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1463539095,"creation_date":1463539095,"answer_id":37289317,"question_id":878573,"body_markdown":"One good option.\r\n    \r\n    import static some.Util.*;\r\n        \r\n        public class Java {\r\n        \t\r\n        \tpublic static void main(String[] args) {\r\n        \t\t\r\n        \t\tString sql = $(\r\n        \t\t  &quot;Select * from java&quot;,\r\n        \t\t  &quot;join some on &quot;,\r\n        \t\t  &quot;group by&quot;\t\t\r\n        \t\t);\r\n        \t\t\r\n        \t    System.out.println(sql);\r\n        \t}\r\n        \t\t\r\n        }\r\n        \r\n     \r\n        public class Util {\r\n        \t\r\n        \tpublic static String $(String ...sql){\r\n        \t\treturn String.join(System.getProperty(&quot;line.separator&quot;),sql);\r\n        \t}\r\n        \t \r\n        }\r\n\r\n","title":"Does Java have support for multiline strings?","body":"<p>One good option.</p>\n\n<pre><code>import static some.Util.*;\n\n    public class Java {\n\n        public static void main(String[] args) {\n\n            String sql = $(\n              \"Select * from java\",\n              \"join some on \",\n              \"group by\"        \n            );\n\n            System.out.println(sql);\n        }\n\n    }\n\n\n    public class Util {\n\n        public static String $(String ...sql){\n            return String.join(System.getProperty(\"line.separator\"),sql);\n        }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":80571,"reputation":11247,"user_id":227755,"accept_rate":90,"display_name":"nurettin"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1475944093,"creation_date":1475944093,"answer_id":39934694,"question_id":878573,"body_markdown":"In the IntelliJ IDE you just need to type:\r\n    \r\n    &quot;&quot;\r\n\r\nThen position your cursor inside the quotation marks and paste your string. The IDE will expand it into multiple concatenated lines.","title":"Does Java have support for multiline strings?","body":"<p>In the IntelliJ IDE you just need to type:</p>\n\n<pre><code>\"\"\n</code></pre>\n\n<p>Then position your cursor inside the quotation marks and paste your string. The IDE will expand it into multiple concatenated lines.</p>\n"},{"tags":[],"owner":{"account_id":55976,"reputation":780,"user_id":2834815,"accept_rate":100,"display_name":"alostale"},"down_vote_count":1,"up_vote_count":128,"is_accepted":false,"score":127,"last_activity_date":1613117462,"creation_date":1525350696,"answer_id":50155171,"question_id":878573,"body_markdown":"[JEP 378: Text Blocks][4] covers this functionality and is included in JDK 15. It first appeared as [JEP 355: Text Blocks (Preview)][2] in JDK 13 and [JEP 368: Text Blocks (Second Preview)][3] in JDK 14 and can be enabled in these versions with the `––enable–preview` javac option.\r\n\r\nThe syntax allows to write something like:\r\n\r\n```lang-java\r\nString s = &quot;&quot;&quot;\r\n           text\r\n           text\r\n           text\r\n           &quot;&quot;&quot;;\r\n```\r\n\r\nPrevious to this JEP, in JDK 12, [JEP 326: Raw String Literals][1] aimed to implement a similar feature, but it was eventually withdrawn:\r\n\r\n&gt; *Please note: This was intended to be a [preview language feature](http://openjdk.java.net/jeps/12) in JDK 12, but it was withdrawn and did not appear in JDK 12. It was superseded by Text Blocks ([JEP 355](https://openjdk.java.net/jeps/355)) in JDK 13.*\r\n\r\n\r\n  [1]: http://openjdk.java.net/jeps/326\r\n  [2]: https://openjdk.java.net/jeps/355\r\n  [3]: https://openjdk.java.net/jeps/368\r\n  [4]: https://openjdk.java.net/jeps/378\r\n","title":"Does Java have support for multiline strings?","body":"<p><a href=\"https://openjdk.java.net/jeps/378\" rel=\"noreferrer\">JEP 378: Text Blocks</a> covers this functionality and is included in JDK 15. It first appeared as <a href=\"https://openjdk.java.net/jeps/355\" rel=\"noreferrer\">JEP 355: Text Blocks (Preview)</a> in JDK 13 and <a href=\"https://openjdk.java.net/jeps/368\" rel=\"noreferrer\">JEP 368: Text Blocks (Second Preview)</a> in JDK 14 and can be enabled in these versions with the <code>––enable–preview</code> javac option.</p>\n<p>The syntax allows to write something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;&quot;&quot;\n           text\n           text\n           text\n           &quot;&quot;&quot;;\n</code></pre>\n<p>Previous to this JEP, in JDK 12, <a href=\"http://openjdk.java.net/jeps/326\" rel=\"noreferrer\">JEP 326: Raw String Literals</a> aimed to implement a similar feature, but it was eventually withdrawn:</p>\n<blockquote>\n<p><em>Please note: This was intended to be a <a href=\"http://openjdk.java.net/jeps/12\" rel=\"noreferrer\">preview language feature</a> in JDK 12, but it was withdrawn and did not appear in JDK 12. It was superseded by Text Blocks (<a href=\"https://openjdk.java.net/jeps/355\" rel=\"noreferrer\">JEP 355</a>) in JDK 13.</em></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1523181,"reputation":2433,"user_id":1422297,"accept_rate":100,"display_name":"Morteza Adi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1531001730,"creation_date":1531001730,"answer_id":51227316,"question_id":878573,"body_markdown":"I know this is an old question, however for intersted developers Multi line literals gonna be in #Java12\r\n \r\nhttp://mail.openjdk.java.net/pipermail/amber-dev/2018-July/003254.html\r\n","title":"Does Java have support for multiline strings?","body":"<p>I know this is an old question, however for intersted developers Multi line literals gonna be in #Java12</p>\n\n<p><a href=\"http://mail.openjdk.java.net/pipermail/amber-dev/2018-July/003254.html\" rel=\"nofollow noreferrer\">http://mail.openjdk.java.net/pipermail/amber-dev/2018-July/003254.html</a></p>\n"},{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1578368189,"creation_date":1537523046,"answer_id":52440925,"question_id":878573,"body_markdown":"With [JDK/12 early access build # 12](http://jdk.java.net/12/), one can now use multiline strings in Java as follows :\r\n\r\n    String multiLine = `First line\r\n        Second line with indentation\r\n    Third line\r\n    and so on...`; // the formatting as desired\r\n    System.out.println(multiLine);\r\n\r\nand this results in the following output:\r\n\r\n&gt;     First line\r\n&gt;         Second line with indentation\r\n&gt;     Third line\r\n&gt;     and so on...\r\n\r\nEdit:\r\nPostponed to java 13","title":"Does Java have support for multiline strings?","body":"<p>With <a href=\"http://jdk.java.net/12/\" rel=\"nofollow noreferrer\">JDK/12 early access build # 12</a>, one can now use multiline strings in Java as follows :</p>\n\n<pre><code>String multiLine = `First line\n    Second line with indentation\nThird line\nand so on...`; // the formatting as desired\nSystem.out.println(multiLine);\n</code></pre>\n\n<p>and this results in the following output:</p>\n\n<blockquote>\n<pre><code>First line\n    Second line with indentation\nThird line\nand so on...\n</code></pre>\n</blockquote>\n\n<p>Edit:\nPostponed to java 13</p>\n"},{"tags":[],"owner":{"account_id":52723,"reputation":7596,"user_id":157591,"accept_rate":62,"display_name":"Peter Szanto"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1543923829,"creation_date":1543923829,"answer_id":53612221,"question_id":878573,"body_markdown":"Using this library\r\n\r\nhttps://github.com/alessio-santacroce/multiline-string-literals\r\n\r\nit is possible to write things like this\r\n\r\n    System.out.println(newString(/*\r\n          Wow, we finally have\r\n          multiline strings in\r\n          Java! HOOO!\r\n    */));\r\n\r\nVery nice and easy, but works only for unit tests","title":"Does Java have support for multiline strings?","body":"<p>Using this library</p>\n\n<p><a href=\"https://github.com/alessio-santacroce/multiline-string-literals\" rel=\"nofollow noreferrer\">https://github.com/alessio-santacroce/multiline-string-literals</a></p>\n\n<p>it is possible to write things like this</p>\n\n<pre><code>System.out.println(newString(/*\n      Wow, we finally have\n      multiline strings in\n      Java! HOOO!\n*/));\n</code></pre>\n\n<p>Very nice and easy, but works only for unit tests</p>\n"},{"tags":[],"owner":{"account_id":6559132,"reputation":166042,"user_id":5070879,"accept_rate":72,"display_name":"Lukasz Szozda"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1572300297,"creation_date":1572299298,"answer_id":58598832,"question_id":878573,"body_markdown":"Java 13 preview:\r\n\r\n&gt; *[Text Blocks Come to Java. \r\nJava 13 delivers long-awaited multiline string by Mala Gupta ](https://blogs.oracle.com/javamagazine/text-blocks-come-to-java)*\r\n\r\n&gt; With text blocks, Java 13 is making it easier for you to work with multiline string literals. You no longer need to escape the special characters in string literals or use concatenation operators for values that span multiple lines.\r\n\r\n&gt;  Text block is defined using three double quotes (&quot;&quot;&quot;) as the opening and closing delimiters. The opening delimiter can be followed by zero or more white spaces and a line terminator.\r\n\r\nExample:\r\n\r\n     String s1 = &quot;&quot;&quot;\r\n     text\r\n     text\r\n     text\r\n     &quot;&quot;&quot;;","title":"Does Java have support for multiline strings?","body":"<p>Java 13 preview:</p>\n\n<blockquote>\n  <p><em><a href=\"https://blogs.oracle.com/javamagazine/text-blocks-come-to-java\" rel=\"noreferrer\">Text Blocks Come to Java. \n  Java 13 delivers long-awaited multiline string by Mala Gupta </a></em></p>\n  \n  <p>With text blocks, Java 13 is making it easier for you to work with multiline string literals. You no longer need to escape the special characters in string literals or use concatenation operators for values that span multiple lines.</p>\n  \n  <p>Text block is defined using three double quotes (\"\"\") as the opening and closing delimiters. The opening delimiter can be followed by zero or more white spaces and a line terminator.</p>\n</blockquote>\n\n<p>Example:</p>\n\n<pre><code> String s1 = \"\"\"\n text\n text\n text\n \"\"\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17647520,"reputation":374,"user_id":12808640,"display_name":"Chris T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581917935,"creation_date":1581917935,"answer_id":60256473,"question_id":878573,"body_markdown":"Two answers to this question:\r\n\r\n 1. In you want to stick to pure Java, with Java 14 being released in March 2020, you can leverage the [JEP 368][1] - Text Blocks, in Second Preview mode. Actually the feature is in preview mode in other releases (at least 13 has it). I created and example set [here][2].\r\n 2. While this feature is useful, it can be *easily abused*. Remember that Java requires compilation - having large character arrays in your code can be an easy way to shoot yourself in the leg (if you want a quick change, you will need recompilation - that toolset might not be available to the guy operating your application).\r\n\r\nIn my experience, it is advisable to keep large strings (and generally strings that could/should be altered at runtime by app operators) in configuration files.\r\n\r\nSummary: use text blocks responsibly :).\r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/368\r\n  [2]: https://github.com/knowledge-base-and-tutorials/java14-features/blob/master/src/main/java/com/github/kbnt/java14/tb/TextBlocks.java","title":"Does Java have support for multiline strings?","body":"<p>Two answers to this question:</p>\n\n<ol>\n<li>In you want to stick to pure Java, with Java 14 being released in March 2020, you can leverage the <a href=\"https://openjdk.java.net/jeps/368\" rel=\"nofollow noreferrer\">JEP 368</a> - Text Blocks, in Second Preview mode. Actually the feature is in preview mode in other releases (at least 13 has it). I created and example set <a href=\"https://github.com/knowledge-base-and-tutorials/java14-features/blob/master/src/main/java/com/github/kbnt/java14/tb/TextBlocks.java\" rel=\"nofollow noreferrer\">here</a>.</li>\n<li>While this feature is useful, it can be <em>easily abused</em>. Remember that Java requires compilation - having large character arrays in your code can be an easy way to shoot yourself in the leg (if you want a quick change, you will need recompilation - that toolset might not be available to the guy operating your application).</li>\n</ol>\n\n<p>In my experience, it is advisable to keep large strings (and generally strings that could/should be altered at runtime by app operators) in configuration files.</p>\n\n<p>Summary: use text blocks responsibly :).</p>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1623148512,"creation_date":1583485156,"answer_id":60560576,"question_id":878573,"body_markdown":"\r\nJava 13 and beyond\r\n------------------\r\n\r\nMultiline Strings are now supported in Java via [Text Blocks][1]. In Java 13 and 14, this feature requires you to set the `––enable–preview` option when building and running your project. In Java 15 and later, this option is no longer required as Text Blocks have become a standard feature. Check out the official [Programmer&#39;s Guide to Text Blocks](https://docs.oracle.com/en/java/javase/15/text-blocks/index.html) for more details.\r\n\r\nNow, prior to Java 13, this is how you&#39;d write a query:\r\n\r\n    List&lt;Tuple&gt; posts = entityManager\r\n    .createNativeQuery(\r\n        &quot;SELECT *\\n&quot; +\r\n        &quot;FROM (\\n&quot; +\r\n        &quot;    SELECT *,\\n&quot; +\r\n        &quot;           dense_rank() OVER (\\n&quot; +\r\n        &quot;               ORDER BY \\&quot;p.created_on\\&quot;, \\&quot;p.id\\&quot;\\n&quot; +\r\n        &quot;           ) rank\\n&quot; +\r\n        &quot;    FROM (\\n&quot; +\r\n        &quot;        SELECT p.id AS \\&quot;p.id\\&quot;,\\n&quot; +\r\n        &quot;               p.created_on AS \\&quot;p.created_on\\&quot;,\\n&quot; +\r\n        &quot;               p.title AS \\&quot;p.title\\&quot;,\\n&quot; +\r\n        &quot;               pc.id as \\&quot;pc.id\\&quot;,\\n&quot; +\r\n        &quot;               pc.created_on AS \\&quot;pc.created_on\\&quot;,\\n&quot; +\r\n        &quot;               pc.review AS \\&quot;pc.review\\&quot;,\\n&quot; +\r\n        &quot;               pc.post_id AS \\&quot;pc.post_id\\&quot;\\n&quot; +\r\n        &quot;        FROM post p\\n&quot; +\r\n        &quot;        LEFT JOIN post_comment pc ON p.id = pc.post_id\\n&quot; +\r\n        &quot;        WHERE p.title LIKE :titlePattern\\n&quot; +\r\n        &quot;        ORDER BY p.created_on\\n&quot; +\r\n        &quot;    ) p_pc\\n&quot; +\r\n        &quot;) p_pc_r\\n&quot; +\r\n        &quot;WHERE p_pc_r.rank &lt;= :rank\\n&quot;,\r\n        Tuple.class)\r\n    .setParameter(&quot;titlePattern&quot;, &quot;High-Performance Java Persistence %&quot;)\r\n    .setParameter(&quot;rank&quot;, 5)\r\n    .getResultList();\r\n\r\nThanks to Java 13 Text Blocks, you can rewrite this query as follows:\r\n\r\n    List&lt;Tuple&gt; posts = entityManager\r\n    .createNativeQuery(&quot;&quot;&quot;\r\n        SELECT *\r\n        FROM (\r\n            SELECT *,\r\n                   dense_rank() OVER (\r\n                       ORDER BY &quot;p.created_on&quot;, &quot;p.id&quot;\r\n                   ) rank\r\n            FROM (\r\n                SELECT p.id AS &quot;p.id&quot;,\r\n                       p.created_on AS &quot;p.created_on&quot;,\r\n                       p.title AS &quot;p.title&quot;,\r\n                       pc.id as &quot;pc.id&quot;,\r\n                       pc.created_on AS &quot;pc.created_on&quot;,\r\n                       pc.review AS &quot;pc.review&quot;,\r\n                       pc.post_id AS &quot;pc.post_id&quot;\r\n                FROM post p\r\n                LEFT JOIN post_comment pc ON p.id = pc.post_id\r\n                WHERE p.title LIKE :titlePattern\r\n                ORDER BY p.created_on\r\n            ) p_pc\r\n        ) p_pc_r\r\n        WHERE p_pc_r.rank &lt;= :rank\r\n        &quot;&quot;&quot;,\r\n        Tuple.class)\r\n    .setParameter(&quot;titlePattern&quot;, &quot;High-Performance Java Persistence %&quot;)\r\n    .setParameter(&quot;rank&quot;, 5)\r\n    .getResultList();\r\n\r\nMuch more readable, right?\r\n\r\nIDE support\r\n-----------\r\n\r\nIntelliJ IDEA provides support for transforming legacy `String` concatenation blocks to the new multiline `String` format:\r\n\r\n[![IntelliJ IDEA Text Blocks support][2]](https://vladmihalcea.com/multiline-string-java-text-blocks/)\r\n\r\nJSON, HTML, XML\r\n---------------\r\n\r\nThe multiline `String` is especially useful when writing JSON, HTML, or XML.\r\n\r\nConsider this example using `String` concatenation to build a JSON string literal:\r\n\r\n    entityManager.persist(\r\n        new Book()\r\n        .setId(1L)\r\n        .setIsbn(&quot;978-9730228236&quot;)\r\n        .setProperties(\r\n            &quot;{&quot; +\r\n            &quot;   \\&quot;title\\&quot;: \\&quot;High-Performance Java Persistence\\&quot;,&quot; +\r\n            &quot;   \\&quot;author\\&quot;: \\&quot;Vlad Mihalcea\\&quot;,&quot; +\r\n            &quot;   \\&quot;publisher\\&quot;: \\&quot;Amazon\\&quot;,&quot; +\r\n            &quot;   \\&quot;price\\&quot;: 44.99,&quot; +\r\n            &quot;   \\&quot;reviews\\&quot;: [&quot; +\r\n            &quot;       {&quot; +\r\n            &quot;           \\&quot;reviewer\\&quot;: \\&quot;Cristiano\\&quot;, &quot; +\r\n            &quot;           \\&quot;review\\&quot;: \\&quot;Excellent book to understand Java Persistence\\&quot;, &quot; +\r\n            &quot;           \\&quot;date\\&quot;: \\&quot;2017-11-14\\&quot;, &quot; +\r\n            &quot;           \\&quot;rating\\&quot;: 5&quot; +\r\n            &quot;       },&quot; +\r\n            &quot;       {&quot; +\r\n            &quot;           \\&quot;reviewer\\&quot;: \\&quot;T.W\\&quot;, &quot; +\r\n            &quot;           \\&quot;review\\&quot;: \\&quot;The best JPA ORM book out there\\&quot;, &quot; +\r\n            &quot;           \\&quot;date\\&quot;: \\&quot;2019-01-27\\&quot;, &quot; +\r\n            &quot;           \\&quot;rating\\&quot;: 5&quot; +\r\n            &quot;       },&quot; +\r\n            &quot;       {&quot; +\r\n            &quot;           \\&quot;reviewer\\&quot;: \\&quot;Shaikh\\&quot;, &quot; +\r\n            &quot;           \\&quot;review\\&quot;: \\&quot;The most informative book\\&quot;, &quot; +\r\n            &quot;           \\&quot;date\\&quot;: \\&quot;2016-12-24\\&quot;, &quot; +\r\n            &quot;           \\&quot;rating\\&quot;: 4&quot; +\r\n            &quot;       }&quot; +\r\n            &quot;   ]&quot; +\r\n            &quot;}&quot;\r\n        )\r\n    );\r\n\r\nYou can barely read the JSON due to the escaping characters and the abundance of double quotes and plus signs.\r\n\r\nWith Java Text Blocks, the JSON object can be written like this:\r\n\r\n    entityManager.persist(\r\n        new Book()\r\n        .setId(1L)\r\n        .setIsbn(&quot;978-9730228236&quot;)\r\n        .setProperties(&quot;&quot;&quot;\r\n            {\r\n               &quot;title&quot;: &quot;High-Performance Java Persistence&quot;,\r\n               &quot;author&quot;: &quot;Vlad Mihalcea&quot;,\r\n               &quot;publisher&quot;: &quot;Amazon&quot;,\r\n               &quot;price&quot;: 44.99,\r\n               &quot;reviews&quot;: [\r\n                   {\r\n                       &quot;reviewer&quot;: &quot;Cristiano&quot;,\r\n                       &quot;review&quot;: &quot;Excellent book to understand Java Persistence&quot;,\r\n                       &quot;date&quot;: &quot;2017-11-14&quot;,\r\n                       &quot;rating&quot;: 5\r\n                   },\r\n                   {\r\n                       &quot;reviewer&quot;: &quot;T.W&quot;,\r\n                       &quot;review&quot;: &quot;The best JPA ORM book out there&quot;,\r\n                       &quot;date&quot;: &quot;2019-01-27&quot;,\r\n                       &quot;rating&quot;: 5\r\n                   },\r\n                   {\r\n                       &quot;reviewer&quot;: &quot;Shaikh&quot;,\r\n                       &quot;review&quot;: &quot;The most informative book&quot;,\r\n                       &quot;date&quot;: &quot;2016-12-24&quot;,\r\n                       &quot;rating&quot;: 4\r\n                   }\r\n               ]\r\n            }\r\n            &quot;&quot;&quot;\r\n        )\r\n    );\r\n\r\nEver since I used C# in 2004, I&#39;ve been wanting to have this feature in Java, and now we finally have it.\r\n\r\n  [1]: https://openjdk.java.net/jeps/355\r\n  [2]: https://i.stack.imgur.com/IoIRN.png","title":"Does Java have support for multiline strings?","body":"<h2>Java 13 and beyond</h2>\n<p>Multiline Strings are now supported in Java via <a href=\"https://openjdk.java.net/jeps/355\" rel=\"noreferrer\">Text Blocks</a>. In Java 13 and 14, this feature requires you to set the <code>––enable–preview</code> option when building and running your project. In Java 15 and later, this option is no longer required as Text Blocks have become a standard feature. Check out the official <a href=\"https://docs.oracle.com/en/java/javase/15/text-blocks/index.html\" rel=\"noreferrer\">Programmer's Guide to Text Blocks</a> for more details.</p>\n<p>Now, prior to Java 13, this is how you'd write a query:</p>\n<pre><code>List&lt;Tuple&gt; posts = entityManager\n.createNativeQuery(\n    &quot;SELECT *\\n&quot; +\n    &quot;FROM (\\n&quot; +\n    &quot;    SELECT *,\\n&quot; +\n    &quot;           dense_rank() OVER (\\n&quot; +\n    &quot;               ORDER BY \\&quot;p.created_on\\&quot;, \\&quot;p.id\\&quot;\\n&quot; +\n    &quot;           ) rank\\n&quot; +\n    &quot;    FROM (\\n&quot; +\n    &quot;        SELECT p.id AS \\&quot;p.id\\&quot;,\\n&quot; +\n    &quot;               p.created_on AS \\&quot;p.created_on\\&quot;,\\n&quot; +\n    &quot;               p.title AS \\&quot;p.title\\&quot;,\\n&quot; +\n    &quot;               pc.id as \\&quot;pc.id\\&quot;,\\n&quot; +\n    &quot;               pc.created_on AS \\&quot;pc.created_on\\&quot;,\\n&quot; +\n    &quot;               pc.review AS \\&quot;pc.review\\&quot;,\\n&quot; +\n    &quot;               pc.post_id AS \\&quot;pc.post_id\\&quot;\\n&quot; +\n    &quot;        FROM post p\\n&quot; +\n    &quot;        LEFT JOIN post_comment pc ON p.id = pc.post_id\\n&quot; +\n    &quot;        WHERE p.title LIKE :titlePattern\\n&quot; +\n    &quot;        ORDER BY p.created_on\\n&quot; +\n    &quot;    ) p_pc\\n&quot; +\n    &quot;) p_pc_r\\n&quot; +\n    &quot;WHERE p_pc_r.rank &lt;= :rank\\n&quot;,\n    Tuple.class)\n.setParameter(&quot;titlePattern&quot;, &quot;High-Performance Java Persistence %&quot;)\n.setParameter(&quot;rank&quot;, 5)\n.getResultList();\n</code></pre>\n<p>Thanks to Java 13 Text Blocks, you can rewrite this query as follows:</p>\n<pre><code>List&lt;Tuple&gt; posts = entityManager\n.createNativeQuery(&quot;&quot;&quot;\n    SELECT *\n    FROM (\n        SELECT *,\n               dense_rank() OVER (\n                   ORDER BY &quot;p.created_on&quot;, &quot;p.id&quot;\n               ) rank\n        FROM (\n            SELECT p.id AS &quot;p.id&quot;,\n                   p.created_on AS &quot;p.created_on&quot;,\n                   p.title AS &quot;p.title&quot;,\n                   pc.id as &quot;pc.id&quot;,\n                   pc.created_on AS &quot;pc.created_on&quot;,\n                   pc.review AS &quot;pc.review&quot;,\n                   pc.post_id AS &quot;pc.post_id&quot;\n            FROM post p\n            LEFT JOIN post_comment pc ON p.id = pc.post_id\n            WHERE p.title LIKE :titlePattern\n            ORDER BY p.created_on\n        ) p_pc\n    ) p_pc_r\n    WHERE p_pc_r.rank &lt;= :rank\n    &quot;&quot;&quot;,\n    Tuple.class)\n.setParameter(&quot;titlePattern&quot;, &quot;High-Performance Java Persistence %&quot;)\n.setParameter(&quot;rank&quot;, 5)\n.getResultList();\n</code></pre>\n<p>Much more readable, right?</p>\n<h2>IDE support</h2>\n<p>IntelliJ IDEA provides support for transforming legacy <code>String</code> concatenation blocks to the new multiline <code>String</code> format:</p>\n<p><a href=\"https://vladmihalcea.com/multiline-string-java-text-blocks/\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/IoIRN.png\" alt=\"IntelliJ IDEA Text Blocks support\" /></a></p>\n<h2>JSON, HTML, XML</h2>\n<p>The multiline <code>String</code> is especially useful when writing JSON, HTML, or XML.</p>\n<p>Consider this example using <code>String</code> concatenation to build a JSON string literal:</p>\n<pre><code>entityManager.persist(\n    new Book()\n    .setId(1L)\n    .setIsbn(&quot;978-9730228236&quot;)\n    .setProperties(\n        &quot;{&quot; +\n        &quot;   \\&quot;title\\&quot;: \\&quot;High-Performance Java Persistence\\&quot;,&quot; +\n        &quot;   \\&quot;author\\&quot;: \\&quot;Vlad Mihalcea\\&quot;,&quot; +\n        &quot;   \\&quot;publisher\\&quot;: \\&quot;Amazon\\&quot;,&quot; +\n        &quot;   \\&quot;price\\&quot;: 44.99,&quot; +\n        &quot;   \\&quot;reviews\\&quot;: [&quot; +\n        &quot;       {&quot; +\n        &quot;           \\&quot;reviewer\\&quot;: \\&quot;Cristiano\\&quot;, &quot; +\n        &quot;           \\&quot;review\\&quot;: \\&quot;Excellent book to understand Java Persistence\\&quot;, &quot; +\n        &quot;           \\&quot;date\\&quot;: \\&quot;2017-11-14\\&quot;, &quot; +\n        &quot;           \\&quot;rating\\&quot;: 5&quot; +\n        &quot;       },&quot; +\n        &quot;       {&quot; +\n        &quot;           \\&quot;reviewer\\&quot;: \\&quot;T.W\\&quot;, &quot; +\n        &quot;           \\&quot;review\\&quot;: \\&quot;The best JPA ORM book out there\\&quot;, &quot; +\n        &quot;           \\&quot;date\\&quot;: \\&quot;2019-01-27\\&quot;, &quot; +\n        &quot;           \\&quot;rating\\&quot;: 5&quot; +\n        &quot;       },&quot; +\n        &quot;       {&quot; +\n        &quot;           \\&quot;reviewer\\&quot;: \\&quot;Shaikh\\&quot;, &quot; +\n        &quot;           \\&quot;review\\&quot;: \\&quot;The most informative book\\&quot;, &quot; +\n        &quot;           \\&quot;date\\&quot;: \\&quot;2016-12-24\\&quot;, &quot; +\n        &quot;           \\&quot;rating\\&quot;: 4&quot; +\n        &quot;       }&quot; +\n        &quot;   ]&quot; +\n        &quot;}&quot;\n    )\n);\n</code></pre>\n<p>You can barely read the JSON due to the escaping characters and the abundance of double quotes and plus signs.</p>\n<p>With Java Text Blocks, the JSON object can be written like this:</p>\n<pre><code>entityManager.persist(\n    new Book()\n    .setId(1L)\n    .setIsbn(&quot;978-9730228236&quot;)\n    .setProperties(&quot;&quot;&quot;\n        {\n           &quot;title&quot;: &quot;High-Performance Java Persistence&quot;,\n           &quot;author&quot;: &quot;Vlad Mihalcea&quot;,\n           &quot;publisher&quot;: &quot;Amazon&quot;,\n           &quot;price&quot;: 44.99,\n           &quot;reviews&quot;: [\n               {\n                   &quot;reviewer&quot;: &quot;Cristiano&quot;,\n                   &quot;review&quot;: &quot;Excellent book to understand Java Persistence&quot;,\n                   &quot;date&quot;: &quot;2017-11-14&quot;,\n                   &quot;rating&quot;: 5\n               },\n               {\n                   &quot;reviewer&quot;: &quot;T.W&quot;,\n                   &quot;review&quot;: &quot;The best JPA ORM book out there&quot;,\n                   &quot;date&quot;: &quot;2019-01-27&quot;,\n                   &quot;rating&quot;: 5\n               },\n               {\n                   &quot;reviewer&quot;: &quot;Shaikh&quot;,\n                   &quot;review&quot;: &quot;The most informative book&quot;,\n                   &quot;date&quot;: &quot;2016-12-24&quot;,\n                   &quot;rating&quot;: 4\n               }\n           ]\n        }\n        &quot;&quot;&quot;\n    )\n);\n</code></pre>\n<p>Ever since I used C# in 2004, I've been wanting to have this feature in Java, and now we finally have it.</p>\n"},{"tags":[],"owner":{"account_id":213792,"reputation":4694,"user_id":467379,"accept_rate":75,"display_name":"ncmathsadist"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1605058890,"creation_date":1605058890,"answer_id":64779286,"question_id":878573,"body_markdown":"Java15 now supports triple-quoted strings a la Python.","title":"Does Java have support for multiline strings?","body":"<p>Java15 now supports triple-quoted strings a la Python.</p>\n"},{"tags":[],"owner":{"account_id":25962043,"reputation":68,"user_id":19678500,"display_name":"Yellow"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1663189583,"creation_date":1663189583,"answer_id":73723161,"question_id":878573,"body_markdown":"Saw all the answers and I think no one referred than in newer version of java you can do this:\r\n\r\n```java\r\nString s = &quot;&quot;&quot;\r\n    This\r\n    is \r\n    a\r\n    multiline\r\n    string\r\n    &quot;&quot;&quot;;\r\nSystem.out.println(s);\r\n```\r\n\r\nThis is what it prints:\r\n\r\n```\r\nThis\r\nis\r\na\r\nmultiline\r\nstring\r\n```","title":"Does Java have support for multiline strings?","body":"<p>Saw all the answers and I think no one referred than in newer version of java you can do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;&quot;&quot;\n    This\n    is \n    a\n    multiline\n    string\n    &quot;&quot;&quot;;\nSystem.out.println(s);\n</code></pre>\n<p>This is what it prints:</p>\n<pre><code>This\nis\na\nmultiline\nstring\n</code></pre>\n"}],"owner":{"account_id":9733,"reputation":98806,"user_id":18103,"accept_rate":68,"display_name":"skiphoppy"},"comment_count":20,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":748201,"favorite_count":0,"down_vote_count":3,"up_vote_count":626,"answer_count":43,"score":623,"last_activity_date":1692771038,"creation_date":1242664127,"question_id":878573,"body_markdown":"Coming from Perl, I sure am missing the &quot;here-document&quot; means of creating a multi-line string in source code:\r\n\r\n    $string = &lt;&lt;&quot;EOF&quot;  # create a three-line string\r\n    text\r\n    text\r\n    text\r\n    EOF\r\n\r\nIn Java, I have to have cumbersome quotes and plus signs on every line as I concatenate my multiline string from scratch.\r\n\r\nWhat are some better alternatives?  Define my string in a properties file?\r\n\r\n**Edit**: Two answers say StringBuilder.append() is preferable to the plus notation.  Could anyone elaborate as to why they think so?  It doesn&#39;t look more preferable to me at all.  I&#39;m looking for a way around the fact that multiline strings are not a first-class language construct, which means I definitely don&#39;t want to replace a first-class language construct (string concatenation with plus) with method calls.\r\n\r\n**Edit**: To clarify my question further, I&#39;m not concerned about performance at all.  I&#39;m concerned about maintainability and design issues.","title":"Does Java have support for multiline strings?","body":"<p>Coming from Perl, I sure am missing the \"here-document\" means of creating a multi-line string in source code:</p>\n\n<pre><code>$string = &lt;&lt;\"EOF\"  # create a three-line string\ntext\ntext\ntext\nEOF\n</code></pre>\n\n<p>In Java, I have to have cumbersome quotes and plus signs on every line as I concatenate my multiline string from scratch.</p>\n\n<p>What are some better alternatives?  Define my string in a properties file?</p>\n\n<p><strong>Edit</strong>: Two answers say StringBuilder.append() is preferable to the plus notation.  Could anyone elaborate as to why they think so?  It doesn't look more preferable to me at all.  I'm looking for a way around the fact that multiline strings are not a first-class language construct, which means I definitely don't want to replace a first-class language construct (string concatenation with plus) with method calls.</p>\n\n<p><strong>Edit</strong>: To clarify my question further, I'm not concerned about performance at all.  I'm concerned about maintainability and design issues.</p>\n"},{"tags":["java","spring","javabeans","autowired","circular-dependency"],"comments":[{"owner":{"account_id":16129101,"reputation":189,"user_id":11643193,"display_name":"Jesus Hernandez Barrios"},"score":0,"creation_date":1627693816,"post_id":49148529,"comment_id":121232175,"body_markdown":"Create the test3 Bean in a different class, something like a Configuration class with all the beans you need","body":"Create the test3 Bean in a different class, something like a Configuration class with all the beans you need"}],"answers":[{"tags":[],"owner":{"account_id":1908489,"reputation":9264,"user_id":1722882,"accept_rate":100,"display_name":"Plog"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520416989,"creation_date":1520416989,"answer_id":49149061,"question_id":49148529,"body_markdown":"You don&#39;t need to autowire a bean defined in the same class since you can just reference that bean directly by calling the initialising method test3().\r\n\r\n    @Configuration\r\n    public class Test2{\r\n    \r\n        @Bean(name = &quot;test3 &quot;)\r\n        Test3 test3 () {\r\n            return new Test3(); \r\n        }\r\n\r\n        public void exampleOfUsingTest3Bean() {\r\n            System.out.println(&quot;My test3 bean is&quot; + test3().toString());\r\n        }\r\n    }\r\n\r\nAnd, indeed, you should not do what you were trying to do since @Autowired fields are injected into a class on construction of the class and at this point no bean called Test3 exists because it is defined by a method of the class being constructed. Theoretically you could define this @Bean method to be static and it should be available to autowire but you shouldn&#39;t do this.\r\n\r\n    @Bean(name = &quot;test3 &quot;)\r\n    public static Test3 test3 () {\r\n        return new Test3(); \r\n    }","title":"BeanCurrentlyInCreationException when @Autowired and @Bean are present in same class","body":"<p>You don't need to autowire a bean defined in the same class since you can just reference that bean directly by calling the initialising method test3().</p>\n\n<pre><code>@Configuration\npublic class Test2{\n\n    @Bean(name = \"test3 \")\n    Test3 test3 () {\n        return new Test3(); \n    }\n\n    public void exampleOfUsingTest3Bean() {\n        System.out.println(\"My test3 bean is\" + test3().toString());\n    }\n}\n</code></pre>\n\n<p>And, indeed, you should not do what you were trying to do since @Autowired fields are injected into a class on construction of the class and at this point no bean called Test3 exists because it is defined by a method of the class being constructed. Theoretically you could define this @Bean method to be static and it should be available to autowire but you shouldn't do this.</p>\n\n<pre><code>@Bean(name = \"test3 \")\npublic static Test3 test3 () {\n    return new Test3(); \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638081005,"creation_date":1638081005,"answer_id":70141176,"question_id":49148529,"body_markdown":"I&#39;m not sure what is the use case for such a configuration. I usually do not use autowiring in the java configuration classes. \r\n\r\n`@Configuration` annotated classes are beans by themselves so spring creates a bean that represents &#39;Test1&#39;... \r\n\r\nSo, following your example:\r\n~~~\r\n@Configuration\r\npublic class Test1 {\r\n\r\n    @Autowired\r\n    private Test3 test3;\r\n\r\n}\r\n\r\n@Configuration\r\npublic class Test2 {\r\n\r\n    @Autowired\r\n    private Test3 test3;\r\n\r\n    @Bean(name = &quot;test3 &quot;)\r\n    Test3 test3 () {\r\n        return new Test3(); \r\n    }\r\n}\r\n~~~\r\n\r\nI&#39;ll start with `Test2` bean. So you create a bean for `Test3`, fine, but then why do you autowire it as a data field on class `Test2`? I see only one possible reason for it: you have other beans that want to use this `Test3` bean. In this case you can do the following:\r\n\r\n**Option 1**\r\n~~~\r\n@Configuration\r\npublic class Test2 {\r\n\r\n  \r\n    @Bean(name = &quot;test3 &quot;)\r\n    Test3 test3 () {\r\n        return new Test3(); \r\n    }\r\n\r\n    @Bean\r\n    public SomeOtherBean someOtherBean() {\r\n       return new SomeOtherBean(test3()); \r\n    }\r\n\r\n    @Bean\r\n    public YetAnotherBean yetAnotherBean() {\r\n       return new YetAnotherBean(test3()); \r\n    }\r\n}\r\n~~~\r\nNote that `test3()` is called twice here, yet the same instance of `Test3` will be returned (because `Test3` is a singleton). This is one of those &#39;magical&#39; places in spring (technically it wraps the `@Configuration` annotated classes into smart proxies, but its beyond the scope of the question).\r\n\r\n**Option 2**\r\n~~~\r\n@Configuration\r\npublic class Test2 {\r\n\r\n  \r\n    @Bean(name = &quot;test3 &quot;)\r\n    Test3 test3 () {\r\n        return new Test3(); \r\n    }\r\n\r\n    @Bean\r\n    public SomeOtherBean someOtherBean(Test3 test3) {\r\n       return new SomeOtherBean(test3); \r\n    }\r\n\r\n    @Bean\r\n    public YetAnotherBean yetAnotherBean(Test3 test3) {\r\n       return new YetAnotherBean(test3); \r\n    }\r\n}\r\n~~~\r\nHere, note the dependency on these beans.\r\n\r\nNow, to continue with `Test1`: if you have another configuration file (`Test`) - again I assume you would like to inject this `Test3` bean somewhere into the beans defined in this `Test1` configuration class. Obviously the first aforementioned option is not available to you because it just won&#39;t compile, however you can easily use the second option. \r\n\r\nSo bottom line, in my personal opinion, you should not consider classes annotated with `@Configuration` as real classes, but rather a very restricted DSL (that happened to obey java syntax) that will allow bean definitions. So currently in my projects when I work with `@Configuration` classes I use @Autowired probably only in Tests. \r\n\r\n","title":"BeanCurrentlyInCreationException when @Autowired and @Bean are present in same class","body":"<p>I'm not sure what is the use case for such a configuration. I usually do not use autowiring in the java configuration classes.</p>\n<p><code>@Configuration</code> annotated classes are beans by themselves so spring creates a bean that represents 'Test1'...</p>\n<p>So, following your example:</p>\n<pre><code>@Configuration\npublic class Test1 {\n\n    @Autowired\n    private Test3 test3;\n\n}\n\n@Configuration\npublic class Test2 {\n\n    @Autowired\n    private Test3 test3;\n\n    @Bean(name = &quot;test3 &quot;)\n    Test3 test3 () {\n        return new Test3(); \n    }\n}\n</code></pre>\n<p>I'll start with <code>Test2</code> bean. So you create a bean for <code>Test3</code>, fine, but then why do you autowire it as a data field on class <code>Test2</code>? I see only one possible reason for it: you have other beans that want to use this <code>Test3</code> bean. In this case you can do the following:</p>\n<p><strong>Option 1</strong></p>\n<pre><code>@Configuration\npublic class Test2 {\n\n  \n    @Bean(name = &quot;test3 &quot;)\n    Test3 test3 () {\n        return new Test3(); \n    }\n\n    @Bean\n    public SomeOtherBean someOtherBean() {\n       return new SomeOtherBean(test3()); \n    }\n\n    @Bean\n    public YetAnotherBean yetAnotherBean() {\n       return new YetAnotherBean(test3()); \n    }\n}\n</code></pre>\n<p>Note that <code>test3()</code> is called twice here, yet the same instance of <code>Test3</code> will be returned (because <code>Test3</code> is a singleton). This is one of those 'magical' places in spring (technically it wraps the <code>@Configuration</code> annotated classes into smart proxies, but its beyond the scope of the question).</p>\n<p><strong>Option 2</strong></p>\n<pre><code>@Configuration\npublic class Test2 {\n\n  \n    @Bean(name = &quot;test3 &quot;)\n    Test3 test3 () {\n        return new Test3(); \n    }\n\n    @Bean\n    public SomeOtherBean someOtherBean(Test3 test3) {\n       return new SomeOtherBean(test3); \n    }\n\n    @Bean\n    public YetAnotherBean yetAnotherBean(Test3 test3) {\n       return new YetAnotherBean(test3); \n    }\n}\n</code></pre>\n<p>Here, note the dependency on these beans.</p>\n<p>Now, to continue with <code>Test1</code>: if you have another configuration file (<code>Test</code>) - again I assume you would like to inject this <code>Test3</code> bean somewhere into the beans defined in this <code>Test1</code> configuration class. Obviously the first aforementioned option is not available to you because it just won't compile, however you can easily use the second option.</p>\n<p>So bottom line, in my personal opinion, you should not consider classes annotated with <code>@Configuration</code> as real classes, but rather a very restricted DSL (that happened to obey java syntax) that will allow bean definitions. So currently in my projects when I work with <code>@Configuration</code> classes I use @Autowired probably only in Tests.</p>\n"}],"owner":{"account_id":5795564,"reputation":698,"user_id":4571486,"accept_rate":31,"display_name":"chepaiytrath"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13179,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":2,"score":6,"last_activity_date":1692770675,"creation_date":1520415423,"question_id":49148529,"body_markdown":"    @Configuration\r\n    public class Test1 {\r\n    \r\n    \t@Autowired\r\n    \tprivate Test3 test3;\r\n    \r\n    }\r\n    \r\n    @Configuration\r\n    public class Test2 {\r\n    \r\n    \t@Autowired\r\n    \tprivate Test3 test3;\r\n    \r\n    \t@Bean(name = &quot;test3 &quot;)\r\n    \tTest3 test3 () {\r\n    \t\treturn new Test3();\t\r\n        }\r\n    }\r\n\r\n\r\nThe above code gives the following error.\r\n\r\n&gt;Caused by: \r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;test1&#39;: Injection of autowired dependencies failed; \r\nnested exception is \r\norg.springframework.beans.factory.BeanCreationException: Could not autowire field: private Test3 com.package.name.Test1.test3;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\r\n&gt;nested exception is \r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;test2&#39;: Injection of autowired dependencies failed; \r\nnested exception is \r\norg.springframework.beans.factory.BeanCreationException: Could not autowire field: private Test3 com.package.name.Test2.test3;\r\n\r\n&gt;nested exception is org.springframework.beans.factory.**BeanCurrentlyInCreationException**: Error creating bean with name &#39;test3&#39;: Requested bean is currently in creation: Is there an unresolvable circular reference?\r\n\r\n\r\nHow is this an example of circular dependency? If it is, any ideas on resolving this.","title":"BeanCurrentlyInCreationException when @Autowired and @Bean are present in same class","body":"<pre><code>@Configuration\npublic class Test1 {\n\n    @Autowired\n    private Test3 test3;\n\n}\n\n@Configuration\npublic class Test2 {\n\n    @Autowired\n    private Test3 test3;\n\n    @Bean(name = \"test3 \")\n    Test3 test3 () {\n        return new Test3(); \n    }\n}\n</code></pre>\n\n<p>The above code gives the following error.</p>\n\n<blockquote>\n  <p>Caused by: \n  org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'test1': Injection of autowired dependencies failed; \n  nested exception is \n  org.springframework.beans.factory.BeanCreationException: Could not autowire field: private Test3 com.package.name.Test1.test3;</p>\n  \n  <p>nested exception is \n  org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'test2': Injection of autowired dependencies failed; \n  nested exception is \n  org.springframework.beans.factory.BeanCreationException: Could not autowire field: private Test3 com.package.name.Test2.test3;</p>\n  \n  <p>nested exception is org.springframework.beans.factory.<strong>BeanCurrentlyInCreationException</strong>: Error creating bean with name 'test3': Requested bean is currently in creation: Is there an unresolvable circular reference?</p>\n</blockquote>\n\n<p>How is this an example of circular dependency? If it is, any ideas on resolving this.</p>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":1695504,"reputation":23,"user_id":1556953,"display_name":"user1556953"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519130306,"creation_date":1406647314,"answer_id":25019006,"question_id":25018893,"body_markdown":"Remove\r\n \r\n    @Id\r\n    @Column(name = &quot;[Arg.CH.F.Key]&quot;, nullable = false)\r\n    private int argCHFKey;\r\n\r\nAs you can get the key from your msv object.","title":"DuplicateMappingException represented by different logical column names","body":"<p>Remove</p>\n\n<pre><code>@Id\n@Column(name = \"[Arg.CH.F.Key]\", nullable = false)\nprivate int argCHFKey;\n</code></pre>\n\n<p>As you can get the key from your msv object.</p>\n"}],"owner":{"account_id":4816061,"reputation":41,"user_id":3888125,"display_name":"user3888125"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10501,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1692770675,"creation_date":1406646955,"question_id":25018893,"body_markdown":"I&#39;m using OneToMany mapping for two classes MasavNew and MasavRow  :\r\n\r\n    \r\n\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;ArgoCHFileHdr&quot;)\r\n    public class MasavNew  {\r\n\t\r\n\t\r\n\t@OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;msv&quot;,cascade = CascadeType.ALL)\r\n\t@ElementCollection(targetClass=MasavRow.class)\r\n\tprivate List&lt;MasavRow&gt; rows;\r\n    \r\n\t@Id\r\n\t@Column(name = &quot;[Arg.CH.F.Key]&quot;, nullable = false)\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\tprotected Integer argCHFKey;\r\n\r\n    }\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;ArgoCHFileRow&quot;)\r\n    @DynamicUpdate\r\n    public class MasavRow extends IModel {\r\n\r\n\r\n\t@ManyToOne(fetch = FetchType.LAZY,optional=true)\r\n\t@JoinColumn(name=&quot;[Arg.CH.F.Key]&quot;)\r\n\tprivate MasavNew msv;\r\n\r\n\r\n\t@Id\r\n\t@Column(name = &quot;[Arg.CH.F.Key]&quot;, nullable = false)\r\n\tprivate int argCHFKey;\r\n\r\n\r\n\t@Id\r\n\t@Column(name = &quot;[Arg.CH.L.MNB]&quot;, nullable = false)\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\tprivate Integer argCHLMNB;\r\n\r\n\t\r\n\t@Column(name = &quot;[Erp.Clnt]&quot;, nullable = true)\r\n\tprivate String erpClnt;\r\n\r\n\r\n    }\r\n\r\n    \r\n\r\nand then in running I receive next Exception:\r\n\r\n    \r\n    Caused by: org.hibernate.DuplicateMappingException:  Table [ArgoCHFileRow] contains physical column name [`Arg.CH.F.Key`] represented by different logical column names: [`Arg.CH.F.Key`], [Arg.CH.F.Key]\r\n    \tat org.hibernate.cfg.Configuration$MappingsImpl$TableColumnNameBinding.bindPhysicalToLogical(Configuration.java:3185)\r\n    \tat org.hibernate.cfg.Configuration$MappingsImpl$TableColumnNameBinding.addBinding(Configuration.java:3158)\r\n    \tat org.hibernate.cfg.Configuration$MappingsImpl.addColumnBinding(Configuration.java:3202)\r\n    \tat org.hibernate.cfg.Ejb3JoinColumn.addColumnBinding(Ejb3JoinColumn.java:532)\r\n    \tat org.hibernate.cfg.Ejb3Column.linkWithValue(Ejb3Column.java:364)\r\n    \tat org.hibernate.cfg.annotations.TableBinder.linkJoinColumnWithValueOverridingNameIfImplicit(TableBinder.java:523)\r\n    \tat org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:457)\r\n    \tat org.hibernate.cfg.ToOneFkSecondPass.doSecondPass(ToOneFkSecondPass.java:117)\r\n    \tat org.hibernate.cfg.Configuration.processEndOfQueue(Configuration.java:1596)\r\n    \tat org.hibernate.cfg.Configuration.processFkSecondPassInOrder(Configuration.java:1519)\r\n    \tat org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1420)\r\n    \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1844)\r\n    \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1928)\r\n    \tat org.springframework.orm.hibernate4.LocalSessionFactoryBuilder.buildSessionFactory(LocalSessionFactoryBuilder.java:343)\r\n    \tat org.springframework.orm.hibernate4.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:431)\r\n    \tat org.springframework.orm.hibernate4.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:416)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1612)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1549)\r\n\r\n\r\nHow could I solve the problem ?","title":"DuplicateMappingException represented by different logical column names","body":"<p>I'm using OneToMany mapping for two classes MasavNew and MasavRow  :</p>\n\n<pre><code>@Entity\n@Table(name = \"ArgoCHFileHdr\")\npublic class MasavNew  {\n\n\n@OneToMany(fetch = FetchType.LAZY, mappedBy = \"msv\",cascade = CascadeType.ALL)\n@ElementCollection(targetClass=MasavRow.class)\nprivate List&lt;MasavRow&gt; rows;\n\n@Id\n@Column(name = \"[Arg.CH.F.Key]\", nullable = false)\n@GeneratedValue(strategy=GenerationType.IDENTITY)\nprotected Integer argCHFKey;\n\n}\n\n\n@Entity\n@Table(name = \"ArgoCHFileRow\")\n@DynamicUpdate\npublic class MasavRow extends IModel {\n\n\n@ManyToOne(fetch = FetchType.LAZY,optional=true)\n@JoinColumn(name=\"[Arg.CH.F.Key]\")\nprivate MasavNew msv;\n\n\n@Id\n@Column(name = \"[Arg.CH.F.Key]\", nullable = false)\nprivate int argCHFKey;\n\n\n@Id\n@Column(name = \"[Arg.CH.L.MNB]\", nullable = false)\n@GeneratedValue(strategy=GenerationType.IDENTITY)\nprivate Integer argCHLMNB;\n\n\n@Column(name = \"[Erp.Clnt]\", nullable = true)\nprivate String erpClnt;\n\n\n}\n</code></pre>\n\n<p>and then in running I receive next Exception:</p>\n\n<pre><code>Caused by: org.hibernate.DuplicateMappingException:  Table [ArgoCHFileRow] contains physical column name [`Arg.CH.F.Key`] represented by different logical column names: [`Arg.CH.F.Key`], [Arg.CH.F.Key]\n    at org.hibernate.cfg.Configuration$MappingsImpl$TableColumnNameBinding.bindPhysicalToLogical(Configuration.java:3185)\n    at org.hibernate.cfg.Configuration$MappingsImpl$TableColumnNameBinding.addBinding(Configuration.java:3158)\n    at org.hibernate.cfg.Configuration$MappingsImpl.addColumnBinding(Configuration.java:3202)\n    at org.hibernate.cfg.Ejb3JoinColumn.addColumnBinding(Ejb3JoinColumn.java:532)\n    at org.hibernate.cfg.Ejb3Column.linkWithValue(Ejb3Column.java:364)\n    at org.hibernate.cfg.annotations.TableBinder.linkJoinColumnWithValueOverridingNameIfImplicit(TableBinder.java:523)\n    at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:457)\n    at org.hibernate.cfg.ToOneFkSecondPass.doSecondPass(ToOneFkSecondPass.java:117)\n    at org.hibernate.cfg.Configuration.processEndOfQueue(Configuration.java:1596)\n    at org.hibernate.cfg.Configuration.processFkSecondPassInOrder(Configuration.java:1519)\n    at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1420)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1844)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1928)\n    at org.springframework.orm.hibernate4.LocalSessionFactoryBuilder.buildSessionFactory(LocalSessionFactoryBuilder.java:343)\n    at org.springframework.orm.hibernate4.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:431)\n    at org.springframework.orm.hibernate4.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:416)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1612)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1549)\n</code></pre>\n\n<p>How could I solve the problem ?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3878647,"reputation":1476,"user_id":3211872,"display_name":"earandap"},"score":1,"creation_date":1692668542,"post_id":76949030,"comment_id":135652099,"body_markdown":"Based on your description, it seems there&#39;s an issue with the MusicianRepository class. Could you share that class? I&#39;d also suggest ruling out IntelliJ Idea to ensure it&#39;s not a compilation problem on their end. Are you using Maven or Gradle?","body":"Based on your description, it seems there&#39;s an issue with the MusicianRepository class. Could you share that class? I&#39;d also suggest ruling out IntelliJ Idea to ensure it&#39;s not a compilation problem on their end. Are you using Maven or Gradle?"}],"owner":{"account_id":25505810,"reputation":29,"user_id":20370750,"display_name":"dddryinside"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692770394,"creation_date":1692656350,"question_id":76949030,"body_markdown":"I get the error:\r\n``` \r\nError creating bean with name &#39;addArticleController&#39; defined in file [C:\\Users\\...\\controllers\\AddArticleController.class]: Failed to instantiate [com.MusicJournal.MusicJournal.controllers.AddArticleController]: Constructor threw exception \r\n``` \r\nThis is my AddArticleConrtoller:\r\n``` \r\npackage com.MusicJournal.MusicJournal.controllers;\r\n\r\nimport com.MusicJournal.MusicJournal.models.*;\r\nimport com.MusicJournal.MusicJournal.repo.*;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\n\r\nimport java.util.List;\r\n\r\n@Controller\r\npublic class AddArticleController {\r\n\r\n    @Autowired\r\n    ArticleCategoryRepository articleCategoryRepository;\r\n    @Autowired\r\n    MusicianRepository musicianRepository;\r\n    @Autowired\r\n    AlbumRepository albumRepository;\r\n    @Autowired\r\n    GenreRepository genreRepository;\r\n    @Autowired\r\n    CountryRepository countryRepository;\r\n\r\n    @GetMapping(&quot;add_article&quot;)\r\n    public String AddArticle(Model model) {\r\n        List&lt;ArticlesCategories&gt; categories = articleCategoryRepository.findAll();\r\n        List&lt;Musicians&gt; musicians = musicianRepository.findAll();\r\n        List&lt;Albums&gt; albums = albumRepository.findAll();\r\n        List&lt;Genres&gt; genres = genreRepository.findAll();\r\n        List&lt;Countries&gt; countries = countryRepository.findAll();\r\n\r\n        model.addAttribute(&quot;categories&quot;, categories);\r\n        model.addAttribute(&quot;musicians&quot;, musicians);\r\n        model.addAttribute(&quot;albums&quot;, albums);\r\n        model.addAttribute(&quot;genres&quot;, genres);\r\n        model.addAttribute(&quot;countries&quot;, countries);\r\n        return &quot;add_article&quot;;\r\n    }\r\n}\r\n``` \r\nThis is my full loggin out:\r\n``` \r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-08-22T01:08:53.550+03:00 ERROR 8624 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;addArticleController&#39; defined in file [C:\\Users\\dddry\\OneDrive\\Рабочий стол\\MusicJournal\\MusicJournal\\target\\classes\\com\\MusicJournal\\MusicJournal\\controllers\\AddArticleController.class]: Failed to instantiate [com.MusicJournal.MusicJournal.controllers.AddArticleController]: Constructor threw exception\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1314) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1199) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:942) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat com.MusicJournal.MusicJournal.MusicJournalApplication.main(MusicJournalApplication.java:10) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.1.2.jar:3.1.2]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.MusicJournal.MusicJournal.controllers.AddArticleController]: Constructor threw exception\r\n\tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1308) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\t... 22 common frames omitted\r\nCaused by: java.lang.Error: Unresolved compilation problems: \r\n\tMusicianRepository cannot be resolved to a type\r\n\tMusicianRepository cannot be resolved to a type\r\n\r\n\tat com.MusicJournal.MusicJournal.controllers.AddArticleController.&lt;init&gt;(AddArticleController.java:18) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\r\n\tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:198) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\t... 24 common frames omitted\r\n\r\n\r\nProcess finished with exit code 0\r\n``` \r\nI&#39;ve checked all I can and can&#39;t find a reason why this could be happening. I use such a development environment as Intellij IDEA and it does not give any errors at the stage of writing the code. And so, what could be the matter?","title":"Error creating bean with name - Spring Error","body":"<p>I get the error:</p>\n<pre><code>Error creating bean with name 'addArticleController' defined in file [C:\\Users\\...\\controllers\\AddArticleController.class]: Failed to instantiate [com.MusicJournal.MusicJournal.controllers.AddArticleController]: Constructor threw exception \n</code></pre>\n<p>This is my AddArticleConrtoller:</p>\n<pre><code>package com.MusicJournal.MusicJournal.controllers;\n\nimport com.MusicJournal.MusicJournal.models.*;\nimport com.MusicJournal.MusicJournal.repo.*;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\n\nimport java.util.List;\n\n@Controller\npublic class AddArticleController {\n\n    @Autowired\n    ArticleCategoryRepository articleCategoryRepository;\n    @Autowired\n    MusicianRepository musicianRepository;\n    @Autowired\n    AlbumRepository albumRepository;\n    @Autowired\n    GenreRepository genreRepository;\n    @Autowired\n    CountryRepository countryRepository;\n\n    @GetMapping(&quot;add_article&quot;)\n    public String AddArticle(Model model) {\n        List&lt;ArticlesCategories&gt; categories = articleCategoryRepository.findAll();\n        List&lt;Musicians&gt; musicians = musicianRepository.findAll();\n        List&lt;Albums&gt; albums = albumRepository.findAll();\n        List&lt;Genres&gt; genres = genreRepository.findAll();\n        List&lt;Countries&gt; countries = countryRepository.findAll();\n\n        model.addAttribute(&quot;categories&quot;, categories);\n        model.addAttribute(&quot;musicians&quot;, musicians);\n        model.addAttribute(&quot;albums&quot;, albums);\n        model.addAttribute(&quot;genres&quot;, genres);\n        model.addAttribute(&quot;countries&quot;, countries);\n        return &quot;add_article&quot;;\n    }\n}\n</code></pre>\n<p>This is my full loggin out:</p>\n<pre><code>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-08-22T01:08:53.550+03:00 ERROR 8624 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'addArticleController' defined in file [C:\\Users\\dddry\\OneDrive\\Рабочий стол\\MusicJournal\\MusicJournal\\target\\classes\\com\\MusicJournal\\MusicJournal\\controllers\\AddArticleController.class]: Failed to instantiate [com.MusicJournal.MusicJournal.controllers.AddArticleController]: Constructor threw exception\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1314) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1199) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:942) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]\n    at com.MusicJournal.MusicJournal.MusicJournalApplication.main(MusicJournalApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.1.2.jar:3.1.2]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.MusicJournal.MusicJournal.controllers.AddArticleController]: Constructor threw exception\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1308) ~[spring-beans-6.0.11.jar:6.0.11]\n    ... 22 common frames omitted\nCaused by: java.lang.Error: Unresolved compilation problems: \n    MusicianRepository cannot be resolved to a type\n    MusicianRepository cannot be resolved to a type\n\n    at com.MusicJournal.MusicJournal.controllers.AddArticleController.&lt;init&gt;(AddArticleController.java:18) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:198) ~[spring-beans-6.0.11.jar:6.0.11]\n    ... 24 common frames omitted\n\n\nProcess finished with exit code 0\n</code></pre>\n<p>I've checked all I can and can't find a reason why this could be happening. I use such a development environment as Intellij IDEA and it does not give any errors at the stage of writing the code. And so, what could be the matter?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1692722717,"post_id":76955160,"comment_id":135662100,"body_markdown":"The STATELESS will ensure no session is created by Spring security, however that does not mean that your application will not create any session. This policy only applies to Spring security context. You might still see JSESIONID in your application, so don&#39;t think that spring security configurations are not working.","body":"The STATELESS will ensure no session is created by Spring security, however that does not mean that your application will not create any session. This policy only applies to Spring security context. You might still see JSESIONID in your application, so don&#39;t think that spring security configurations are not working."},{"owner":{"account_id":29276816,"reputation":1,"user_id":22430427,"display_name":"fujisan"},"score":0,"creation_date":1692723266,"post_id":76955160,"comment_id":135662225,"body_markdown":"The log shows &#39;Stored SecurityContextImpl...&#39; and it looks like the session was created by Spring Security, is that wrong?","body":"The log shows &#39;Stored SecurityContextImpl...&#39; and it looks like the session was created by Spring Security, is that wrong?"},{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":1,"creation_date":1692724517,"post_id":76955160,"comment_id":135662486,"body_markdown":"Just read all the logs and you will see `org.apache.catalina.session.StandardSessionFacade@1dd1a1cc` it is from web, controller layer, it is from tomcat that implements `HttpSession`","body":"Just read all the logs and you will see <code>org.apache.catalina.session.StandardSessionFacade@1dd1a1cc</code> it is from web, controller layer, it is from tomcat that implements <code>HttpSession</code>"},{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1692725231,"post_id":76955160,"comment_id":135662623,"body_markdown":"update: StandardSessionFacade is an tomcat class that implements HttpSession","body":"update: StandardSessionFacade is an tomcat class that implements HttpSession"}],"answers":[{"tags":[],"owner":{"account_id":29276816,"reputation":1,"user_id":22430427,"display_name":"fujisan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692769877,"creation_date":1692769877,"answer_id":76958597,"question_id":76955160,"body_markdown":"This is caused by implementing a filter that extends `AbstractPreAuthenticatedProcessingFilter`.  \r\nBy default, this implementation uses `HttpSessionSecurityContextRepository`, so an HttpSession is created.  \r\nThe solution is to set `NullSecurityContextRepository` or `RequestAttributeSecurityContextRepository` to `SecurityContextRepository`.\r\n\r\n```java\r\npublic class AuthenticationFilter extends AbstractPreAuthenticatedProcessingFilter {\r\n\r\n  public AuthenticationFilter(AuthenticationManager authenticationManager) {\r\n    setAuthenticationManager(authenticationManager);\r\n    // HttpSession will not be created if either \r\n    // of the following SecurityContextRepository is set.\r\n    setSecurityContextRepository(new RequestAttributeSecurityContextRepository());\r\n    // or\r\n    setSecurityContextRepository(new NullSecurityContextRepository());\r\n  }\r\n\r\n...\r\n}\r\n```","title":"Session is created even if &quot;SessionCreationPolicy.STATELESS&quot; is set","body":"<p>This is caused by implementing a filter that extends <code>AbstractPreAuthenticatedProcessingFilter</code>.<br />\nBy default, this implementation uses <code>HttpSessionSecurityContextRepository</code>, so an HttpSession is created.<br />\nThe solution is to set <code>NullSecurityContextRepository</code> or <code>RequestAttributeSecurityContextRepository</code> to <code>SecurityContextRepository</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AuthenticationFilter extends AbstractPreAuthenticatedProcessingFilter {\n\n  public AuthenticationFilter(AuthenticationManager authenticationManager) {\n    setAuthenticationManager(authenticationManager);\n    // HttpSession will not be created if either \n    // of the following SecurityContextRepository is set.\n    setSecurityContextRepository(new RequestAttributeSecurityContextRepository());\n    // or\n    setSecurityContextRepository(new NullSecurityContextRepository());\n  }\n\n...\n}\n</code></pre>\n"}],"owner":{"account_id":29276816,"reputation":1,"user_id":22430427,"display_name":"fujisan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76958597,"answer_count":1,"score":0,"last_activity_date":1692769877,"creation_date":1692720937,"question_id":76955160,"body_markdown":"HttpSession is created despite &quot;SessionCreationPolicy.STATELESS&quot;.  \r\nDetailed Implementation:https://github.com/r-fujiyama/spring-app/blob/master/src/main/java/app/config/WebSecurityConfig.java\r\n\r\n```java\r\n@AllArgsConstructor\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n\r\n  private final ErrorAuthenticationEntryPoint errorAuthenticationEntryPoint;\r\n\r\n  @Bean\r\n  public SecurityFilterChain v2APISsecurityFilterChain(HttpSecurity http,\r\n      APIKeyAuthenticationProvider apiKeyAuthenticationProvider) throws Exception {\r\n    http.securityMatcher(&quot;/v2/**&quot;)\r\n        .authorizeHttpRequests(authorize -&gt; authorize\r\n            .requestMatchers(HttpMethod.GET, &quot;/v2/user/**&quot;).permitAll()\r\n            .anyRequest().authenticated()\r\n        )\r\n        .cors().and()\r\n        .csrf().disable()\r\n        .sessionManagement((session) -&gt; session\r\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n        )\r\n        .apply(new APIKeyAuthenticationFilterConfig()).and()\r\n        .authenticationProvider(apiKeyAuthenticationProvider)\r\n        .exceptionHandling()\r\n        .authenticationEntryPoint(errorAuthenticationEntryPoint);\r\n    return http.build();\r\n  }\r\n\r\n}\r\n```\r\n\r\n```log\r\n2023-08-23T01:06:09.169+09:00 INFO  14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] app.filter.LoggingFilter                 : START, GET /api/v2/user/1?userType=Private&amp;firstName=taro&amp;lastName=nihon&amp;age=20, client=0:0:0:0:0:0:0:1, headers=[host:&quot;localhost:8080&quot;, connection:&quot;keep-alive&quot;, ___internal-request-id:&quot;993d73e7-8f3d-404b-aec2-02d674a31145&quot;, sec-ch-ua:&quot;&quot;Chromium&quot;;v=&quot;116&quot;, &quot;Not)A;Brand&quot;;v=&quot;24&quot;, &quot;Google Chrome&quot;;v=&quot;116&quot;&quot;, api-key:&quot;*****&quot;, sec-ch-ua-mobile:&quot;?0&quot;, user-agent:&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/116.0.0.0 Safari/537.36&quot;, sec-ch-ua-platform:&quot;&quot;Windows&quot;&quot;, accept:&quot;*/*&quot;, sec-fetch-site:&quot;none&quot;, sec-fetch-mode:&quot;cors&quot;, sec-fetch-dest:&quot;empty&quot;, accept-encoding:&quot;gzip, deflate, br&quot;, accept-language:&quot;ja,en-US;q=0.9,en;q=0.8&quot;], body=\r\n2023-08-23T01:06:09.169+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Or [Mvc [pattern=&#39;/v1/**&#39;]], Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@321ca237, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4c5a2baf, org.springframework.security.web.context.SecurityContextHolderFilter@45900b64, org.springframework.security.web.header.HeaderWriterFilter@58a2d9f9, org.springframework.web.filter.CorsFilter@1ec22831, org.springframework.security.web.authentication.logout.LogoutFilter@580fd26b, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4087c7fc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@79f90a3a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@91f565d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@63f855b, org.springframework.security.web.session.SessionManagementFilter@22ad1bae, org.springframework.security.web.access.ExceptionTranslationFilter@32456db0, org.springframework.security.web.access.intercept.AuthorizationFilter@c689973]] (1/2)\r\n2023-08-23T01:06:09.170+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Or [Mvc [pattern=&#39;/v2/**&#39;]], Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1e84f3c8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5f59ea8c, org.springframework.security.web.context.SecurityContextHolderFilter@57a6a933, org.springframework.security.web.header.HeaderWriterFilter@6f3f0ae, org.springframework.web.filter.CorsFilter@7b2ccba5, org.springframework.security.web.authentication.logout.LogoutFilter@69aa7d76, app.security.APIKeyAuthenticationFilter@64f9f455, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5b5b59, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1934ad7c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d5a51b1, org.springframework.security.web.session.SessionManagementFilter@6baf25d7, org.springframework.security.web.access.ExceptionTranslationFilter@363c32cc, org.springframework.security.web.access.intercept.AuthorizationFilter@f1266c6]] (2/2)\r\n2023-08-23T01:06:09.170+09:00 DEBUG 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /v2/user/1?userType=Private&amp;firstName=taro&amp;lastName=nihon&amp;age=20\r\n2023-08-23T01:06:09.170+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)\r\n2023-08-23T01:06:09.170+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)\r\n2023-08-23T01:06:09.170+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)\r\n2023-08-23T01:06:09.171+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)\r\n2023-08-23T01:06:09.171+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)\r\n2023-08-23T01:06:09.171+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)\r\n2023-08-23T01:06:09.171+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern=&#39;/logout&#39;, GET], Ant [pattern=&#39;/logout&#39;, POST], Ant [pattern=&#39;/logout&#39;, PUT], Ant [pattern=&#39;/logout&#39;, DELETE]]\r\n2023-08-23T01:06:09.171+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking APIKeyAuthenticationFilter (7/13)\r\n2023-08-23T01:06:09.171+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]\r\n2023-08-23T01:06:09.171+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with APIKeyAuthenticationProvider (1/2)\r\n2023-08-23T01:06:09.171+09:00 DEBUG 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default\r\n2023-08-23T01:06:09.171+09:00 DEBUG 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=PreAuthenticatedAuthenticationToken [Principal=, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@1dd1a1cc]\r\n2023-08-23T01:06:09.172+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)\r\n2023-08-23T01:06:09.172+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)\r\n2023-08-23T01:06:09.172+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)\r\n2023-08-23T01:06:09.172+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)\r\n2023-08-23T01:06:09.172+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated PreAuthenticatedAuthenticationToken [Principal=, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]\r\n2023-08-23T01:06:09.172+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)\r\n2023-08-23T01:06:09.172+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)\r\n2023-08-23T01:06:09.172+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)\r\n2023-08-23T01:06:09.172+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@9d2e8c]\r\n2023-08-23T01:06:09.173+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@9d2e8c] using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$742/0x0000000801049308@751529a\r\n2023-08-23T01:06:09.173+09:00 DEBUG 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /v2/user/1?userType=Private&amp;firstName=taro&amp;lastName=nihon&amp;age=20\r\n2023-08-23T01:06:09.185+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]\r\n2023-08-23T01:06:09.185+09:00 INFO  14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] app.filter.LoggingFilter                 : END, headers=[Vary:Origin, Vary:Origin, Vary:Origin, Set-Cookie:JSESSIONID=D4588822282DB3BE32328A76869F809D; Path=/api; HttpOnly, X-Content-Type-Options:nosniff, X-XSS-Protection:0, Cache-Control:no-cache, no-store, max-age=0, must-revalidate, Pragma:no-cache, Expires:0, X-Frame-Options:DENY], body={&quot;user&quot;:{&quot;id&quot;:1,&quot;type&quot;:&quot;Private&quot;,&quot;status&quot;:&quot;Registered&quot;,&quot;firstName&quot;:&quot;taro&quot;,&quot;lastName&quot;:&quot;nihon&quot;,&quot;age&quot;:20},&quot;status&quot;:&quot;Success&quot;,&quot;errors&quot;:[]}\r\n```\r\n\r\nI would like to know the configuration or implementation to prevent HttpSession from being generated.","title":"Session is created even if &quot;SessionCreationPolicy.STATELESS&quot; is set","body":"<p>HttpSession is created despite &quot;SessionCreationPolicy.STATELESS&quot;.<br />\nDetailed Implementation:<a href=\"https://github.com/r-fujiyama/spring-app/blob/master/src/main/java/app/config/WebSecurityConfig.java\" rel=\"nofollow noreferrer\">https://github.com/r-fujiyama/spring-app/blob/master/src/main/java/app/config/WebSecurityConfig.java</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor\n@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n  private final ErrorAuthenticationEntryPoint errorAuthenticationEntryPoint;\n\n  @Bean\n  public SecurityFilterChain v2APISsecurityFilterChain(HttpSecurity http,\n      APIKeyAuthenticationProvider apiKeyAuthenticationProvider) throws Exception {\n    http.securityMatcher(&quot;/v2/**&quot;)\n        .authorizeHttpRequests(authorize -&gt; authorize\n            .requestMatchers(HttpMethod.GET, &quot;/v2/user/**&quot;).permitAll()\n            .anyRequest().authenticated()\n        )\n        .cors().and()\n        .csrf().disable()\n        .sessionManagement((session) -&gt; session\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        )\n        .apply(new APIKeyAuthenticationFilterConfig()).and()\n        .authenticationProvider(apiKeyAuthenticationProvider)\n        .exceptionHandling()\n        .authenticationEntryPoint(errorAuthenticationEntryPoint);\n    return http.build();\n  }\n\n}\n</code></pre>\n<pre><code>2023-08-23T01:06:09.169+09:00 INFO  14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] app.filter.LoggingFilter                 : START, GET /api/v2/user/1?userType=Private&amp;firstName=taro&amp;lastName=nihon&amp;age=20, client=0:0:0:0:0:0:0:1, headers=[host:&quot;localhost:8080&quot;, connection:&quot;keep-alive&quot;, ___internal-request-id:&quot;993d73e7-8f3d-404b-aec2-02d674a31145&quot;, sec-ch-ua:&quot;&quot;Chromium&quot;;v=&quot;116&quot;, &quot;Not)A;Brand&quot;;v=&quot;24&quot;, &quot;Google Chrome&quot;;v=&quot;116&quot;&quot;, api-key:&quot;*****&quot;, sec-ch-ua-mobile:&quot;?0&quot;, user-agent:&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/116.0.0.0 Safari/537.36&quot;, sec-ch-ua-platform:&quot;&quot;Windows&quot;&quot;, accept:&quot;*/*&quot;, sec-fetch-site:&quot;none&quot;, sec-fetch-mode:&quot;cors&quot;, sec-fetch-dest:&quot;empty&quot;, accept-encoding:&quot;gzip, deflate, br&quot;, accept-language:&quot;ja,en-US;q=0.9,en;q=0.8&quot;], body=\n2023-08-23T01:06:09.169+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Or [Mvc [pattern='/v1/**']], Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@321ca237, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4c5a2baf, org.springframework.security.web.context.SecurityContextHolderFilter@45900b64, org.springframework.security.web.header.HeaderWriterFilter@58a2d9f9, org.springframework.web.filter.CorsFilter@1ec22831, org.springframework.security.web.authentication.logout.LogoutFilter@580fd26b, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4087c7fc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@79f90a3a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@91f565d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@63f855b, org.springframework.security.web.session.SessionManagementFilter@22ad1bae, org.springframework.security.web.access.ExceptionTranslationFilter@32456db0, org.springframework.security.web.access.intercept.AuthorizationFilter@c689973]] (1/2)\n2023-08-23T01:06:09.170+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Or [Mvc [pattern='/v2/**']], Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1e84f3c8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5f59ea8c, org.springframework.security.web.context.SecurityContextHolderFilter@57a6a933, org.springframework.security.web.header.HeaderWriterFilter@6f3f0ae, org.springframework.web.filter.CorsFilter@7b2ccba5, org.springframework.security.web.authentication.logout.LogoutFilter@69aa7d76, app.security.APIKeyAuthenticationFilter@64f9f455, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5b5b59, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1934ad7c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d5a51b1, org.springframework.security.web.session.SessionManagementFilter@6baf25d7, org.springframework.security.web.access.ExceptionTranslationFilter@363c32cc, org.springframework.security.web.access.intercept.AuthorizationFilter@f1266c6]] (2/2)\n2023-08-23T01:06:09.170+09:00 DEBUG 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /v2/user/1?userType=Private&amp;firstName=taro&amp;lastName=nihon&amp;age=20\n2023-08-23T01:06:09.170+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)\n2023-08-23T01:06:09.170+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)\n2023-08-23T01:06:09.170+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)\n2023-08-23T01:06:09.171+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)\n2023-08-23T01:06:09.171+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)\n2023-08-23T01:06:09.171+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)\n2023-08-23T01:06:09.171+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]\n2023-08-23T01:06:09.171+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking APIKeyAuthenticationFilter (7/13)\n2023-08-23T01:06:09.171+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]\n2023-08-23T01:06:09.171+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with APIKeyAuthenticationProvider (1/2)\n2023-08-23T01:06:09.171+09:00 DEBUG 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default\n2023-08-23T01:06:09.171+09:00 DEBUG 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=PreAuthenticatedAuthenticationToken [Principal=, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@1dd1a1cc]\n2023-08-23T01:06:09.172+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)\n2023-08-23T01:06:09.172+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)\n2023-08-23T01:06:09.172+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)\n2023-08-23T01:06:09.172+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)\n2023-08-23T01:06:09.172+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated PreAuthenticatedAuthenticationToken [Principal=, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]\n2023-08-23T01:06:09.172+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)\n2023-08-23T01:06:09.172+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)\n2023-08-23T01:06:09.172+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)\n2023-08-23T01:06:09.172+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@9d2e8c]\n2023-08-23T01:06:09.173+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@9d2e8c] using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$742/0x0000000801049308@751529a\n2023-08-23T01:06:09.173+09:00 DEBUG 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /v2/user/1?userType=Private&amp;firstName=taro&amp;lastName=nihon&amp;age=20\n2023-08-23T01:06:09.185+09:00 TRACE 14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]\n2023-08-23T01:06:09.185+09:00 INFO  14632 [Trace-ID:1a177cbc-ca12-49f3-9085-1c018c6596e5] [http-nio-8080-exec-1] app.filter.LoggingFilter                 : END, headers=[Vary:Origin, Vary:Origin, Vary:Origin, Set-Cookie:JSESSIONID=D4588822282DB3BE32328A76869F809D; Path=/api; HttpOnly, X-Content-Type-Options:nosniff, X-XSS-Protection:0, Cache-Control:no-cache, no-store, max-age=0, must-revalidate, Pragma:no-cache, Expires:0, X-Frame-Options:DENY], body={&quot;user&quot;:{&quot;id&quot;:1,&quot;type&quot;:&quot;Private&quot;,&quot;status&quot;:&quot;Registered&quot;,&quot;firstName&quot;:&quot;taro&quot;,&quot;lastName&quot;:&quot;nihon&quot;,&quot;age&quot;:20},&quot;status&quot;:&quot;Success&quot;,&quot;errors&quot;:[]}\n</code></pre>\n<p>I would like to know the configuration or implementation to prevent HttpSession from being generated.</p>\n"},{"tags":["java","selenium-webdriver","salesforce-lightning"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1692769414,"post_id":76958540,"comment_id":135667687,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29266825,"reputation":1,"user_id":22422494,"display_name":"Ajay Michael"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692769239,"creation_date":1692769239,"question_id":76958540,"body_markdown":"I didn&#39;t encounter any issues, but I do require information about it.\r\nWhile executing multiple test cases, it asks for an OTP. However, if I use a single session ID, it doesn&#39;t prompt for an OTP.Despite my lack of encountered issues, I find myself in need of further information on the subject. When engaged in the execution of multiple test cases, a notable phenomenon emerges: the system consistently prompts for the input of a One-Time Password (OTP), adding an additional layer of security to the process. However, intriguingly, a deviation from this pattern becomes apparent when a solitary session ID is employed. In such instances, the customary OTP prompt remarkably disappears, indicating a potential distinction in the security protocols governing these contrasting scenarios.\r\n\r\nThis disparity in OTP requirement might stem from the underlying security architecture of the system. The introduction of an OTP during multi-test case execution could be attributed to a precautionary measure, ensuring that each discrete test action is authorized and verified independently. On the contrary, the absence of OTP prompts when utilizing a single session ID could imply an established trust level associated with this specific identification method. This trust could be underpinned by prior authentication steps or the nature of the tasks executed using the session ID.\r\n\r\nTo ascertain the exact rationale behind this observed behavior and the intricacies of the security mechanisms involved, a comprehensive exploration of the system&#39;s documentation, security protocols, and session management procedures is imperative. In doing so, a holistic understanding of the interplay between OTP prompts, session IDs, and security provisions can be attained, thus facilitating informed decision-making and optimizing the testing process.\r\n","title":"What are the disadvantages of running multiple test scripts with the same session ID?","body":"<p>I didn't encounter any issues, but I do require information about it.\nWhile executing multiple test cases, it asks for an OTP. However, if I use a single session ID, it doesn't prompt for an OTP.Despite my lack of encountered issues, I find myself in need of further information on the subject. When engaged in the execution of multiple test cases, a notable phenomenon emerges: the system consistently prompts for the input of a One-Time Password (OTP), adding an additional layer of security to the process. However, intriguingly, a deviation from this pattern becomes apparent when a solitary session ID is employed. In such instances, the customary OTP prompt remarkably disappears, indicating a potential distinction in the security protocols governing these contrasting scenarios.</p>\n<p>This disparity in OTP requirement might stem from the underlying security architecture of the system. The introduction of an OTP during multi-test case execution could be attributed to a precautionary measure, ensuring that each discrete test action is authorized and verified independently. On the contrary, the absence of OTP prompts when utilizing a single session ID could imply an established trust level associated with this specific identification method. This trust could be underpinned by prior authentication steps or the nature of the tasks executed using the session ID.</p>\n<p>To ascertain the exact rationale behind this observed behavior and the intricacies of the security mechanisms involved, a comprehensive exploration of the system's documentation, security protocols, and session management procedures is imperative. In doing so, a holistic understanding of the interplay between OTP prompts, session IDs, and security provisions can be attained, thus facilitating informed decision-making and optimizing the testing process.</p>\n"},{"tags":["java","spring","spring-boot","jar"],"comments":[{"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1692342833,"post_id":76926693,"comment_id":135612600,"body_markdown":"Are **all** the dependencies from Maven central **only**? Or do you have some &quot;local&quot; libraries, which can be differently cached in your local/company Nexus repositories?","body":"Are <b>all</b> the dependencies from Maven central <b>only</b>? Or do you have some &quot;local&quot; libraries, which can be differently cached in your local/company Nexus repositories?"},{"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1692343012,"post_id":76926693,"comment_id":135612629,"body_markdown":"Also place here the exact error message - does it say more than just &quot;cyclic dependency&quot;?","body":"Also place here the exact error message - does it say more than just &quot;cyclic dependency&quot;?"},{"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1692343217,"post_id":76926693,"comment_id":135612654,"body_markdown":"Are the Maven configurations `settings.xml` the same in both the places? Especially (but not only) the settings of `&lt;servers&gt;` and `&lt;repositories&gt;` might be interesting. You will find the config on your *local computer* in `&lt;home&gt;/.m2/settings.xml`.","body":"Are the Maven configurations <code>settings.xml</code> the same in both the places? Especially (but not only) the settings of <code>&lt;servers&gt;</code> and <code>&lt;repositories&gt;</code> might be interesting. You will find the config on your <i>local computer</i> in <code>&lt;home&gt;&#47;.m2&#47;settings.xml</code>."},{"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1692343403,"post_id":76926693,"comment_id":135612689,"body_markdown":"And last but not least: I suppose you are building with `mvn clean install` and not just with `mvn install`, right?","body":"And last but not least: I suppose you are building with <code>mvn clean install</code> and not just with <code>mvn install</code>, right?"},{"owner":{"account_id":18669874,"reputation":17,"user_id":13608960,"display_name":"duckydude20"},"score":0,"creation_date":1692347974,"post_id":76926693,"comment_id":135613457,"body_markdown":"@HonzaZidek i have updated the post with additional info. also, as i said, all the dependencies are exactly matching, all dependency jars are binary matching both in intellij as well as win-merge. so, i am not thinking it&#39;s dependency corruption issue.","body":"@HonzaZidek i have updated the post with additional info. also, as i said, all the dependencies are exactly matching, all dependency jars are binary matching both in intellij as well as win-merge. so, i am not thinking it&#39;s dependency corruption issue."},{"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1692349501,"post_id":76926693,"comment_id":135613779,"body_markdown":"What does the code of `RepeaterAutoConfigHandler` look like? And how is this bean itself created? Any `@Conditional` annotations?","body":"What does the code of <code>RepeaterAutoConfigHandler</code> look like? And how is this bean itself created? Any <code>@Conditional</code> annotations?"},{"owner":{"account_id":18669874,"reputation":17,"user_id":13608960,"display_name":"duckydude20"},"score":0,"creation_date":1692356155,"post_id":76926693,"comment_id":135615053,"body_markdown":"no, no conditionals. also this code was not even touched in the problematic commit. the code is exactly the same as it was before. and it makes sense as on comparison it says .class binary files are identical.","body":"no, no conditionals. also this code was not even touched in the problematic commit. the code is exactly the same as it was before. and it makes sense as on comparison it says .class binary files are identical."}],"owner":{"account_id":18669874,"reputation":17,"user_id":13608960,"display_name":"duckydude20"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692768787,"creation_date":1692337114,"question_id":76926693,"body_markdown":"i have two jars, created from the same commit on two different systems. one is working perfectly fine, another is saying cyclic dependency error.\r\n\r\ni tried comparing them,\r\n\r\n* intellij -&gt; identical\r\n* winmerge; folder comparison\r\n  * auto extraction of .jar\r\n    * full comparison -&gt; identical\r\n    * binary -&gt; identical\r\n  * jar xf -&gt; identical\r\n  * 7zip -&gt; identical\r\n\r\n* sha256sum -&gt; different\r\n* winmerge jar as binary -&gt; different\r\n\r\ni am expecting at least some difference between the two jars. some .class changes or dependency corruption or something.\r\none thing is for sure. that jar with error is somehow corrupted. but what is corrupted, that i cannot figure out. \r\nthe other jar, working one, i created multiple times with clean build. and it&#39;s working everytime. \r\n\r\ncould it be some java issue?\r\n\r\nmine is,\r\n```\r\nopenjdk version &quot;17.0.5&quot; 2022-10-18\r\nOpenJDK Runtime Environment Temurin-17.0.5+8 (build 17.0.5+8)\r\nOpenJDK 64-Bit Server VM Temurin-17.0.5+8 (build 17.0.5+8, mixed mode, sharing)\r\n```\r\n\r\nwhile the java version used to build problematic was,\r\n```\r\nDistribution: temurin\r\nVersion: 17.0.8+7\r\n```\r\nalso, just to save from these kind of autowiring issues, i have one basic spring health check in pipeline. and that test passed.\r\nthats why my whole focus is the jar creation somehow got messed up.\r\n\r\n\r\nadditional-info based on comments\r\n\r\nits gradle based project and build pipeline always pulls dependencies from maven central. there&#39;s no caching.\r\nnew working jar is created with gradlew clean and gradlew bootJar\r\n\r\nalso, in application.properties, \r\n`spring.main.allow-circular-references=true`\r\nand @Lazy is being used in multiple classes when `@Autowired`.\r\n\r\n\r\nerror when running problematic jar.\r\n```\r\nDEBUG 2023-08-18 13:44:23,198 : Application failed to start due to an exception\r\norg.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name &#39;repeaterAutoConfigHandler&#39;: Requested bean is currently in creation: Is there an unresolvable circular reference?\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.beforeSingletonCreation(DefaultSingletonBeanRegistry.java:355) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:227) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.5.jar!/:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.5.jar!/:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.5.jar!/:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.5.jar!/:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.5.jar!/:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.5.jar!/:2.7.5]\r\n\tat com.retracted.name.BackendApplicationKt.main(BackendApplication.kt:13) ~[classes!/:?]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\r\n\tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n\tat java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\r\n\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[v2023-08-17_07-20.jar:?]\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[v2023-08-17_07-20.jar:?]\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[v2023-08-17_07-20.jar:?]\r\n\tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[v2023-08-17_07-20.jar:?]\r\nERROR 2023-08-18 13:44:23,198 : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nThe dependencies of some of the beans in the application context form a cycle:\r\n\r\n   hubMetaProcessor (field com.retracted.name.config.repeaters.RepeaterAutoConfigHandler com.retracted.name.udp.HubMetaProcessor.repeaterAutoConfigHandler)\r\n???????\r\n|  repeaterAutoConfigHandler defined in URL [jar:file:/D:/backend-new/build/libs/v2023-08-17_07-20.jar!/BOOT-INF/classes!/com/retracted/name/config/repeaters/RepeaterAutoConfigHandler.class]\r\n?     ?\r\n|  connectionInfoCache (field public com.retracted.name.udp.HubProcessor com.retracted.name.connection_info.ConnectionInfoCache.hubProcessor)\r\n?     ?\r\n|  hubProcessor (field public com.retracted.name.config.repeaters.RepeaterAutoConfigHandler com.retracted.name.udp.HubProcessor.repeaterAutoConfigHandler)\r\n???????\r\n\r\n\r\nAction:\r\n\r\nDespite circular references being allowed, the dependency cycle between beans could not be broken. Update your application to remove the dependency cycle.\r\n\r\nDEBUG 2023-08-18 13:44:23,214 : WorkerThread is shut down.\r\nDEBUG 2023-08-18 13:44:23,214 : WorkerThread is shut down.\r\n```\r\nnote: question marks are just arrows. idk why they are not being rendered on my system. on server they are being though.\r\n\r\n#### Update:\r\ni was able to kinda reproduce it. i made pipeline use gradle cache. and what i found is jar with issues was created, even with same java version, 17.0.5. what was common between the workflows was proto generated files were used from cache.\r\n\r\nprotoc was another thing that differs b/w my machine and runner. i am on windows, while runner is ubuntu. \r\n\r\none more thing worth mentioning is some of the generated files from proto were not inside any package. \r\n\r\non doing multiple binary diffs of problematic jars and working jars, what i found is definitely those files are causing some issues with jar creation on linux. which is to say it&#39;s somehow changing the order of files inside jar which is causing issues during spring loading.\r\n\r\nfor now i fixed whatever the issued jar was saying, cyclic dependency. and made proto generate files under a package.","title":"two jars from same commit behaving differently. one is working fine, another saying error cyclic dependency while autowiring","body":"<p>i have two jars, created from the same commit on two different systems. one is working perfectly fine, another is saying cyclic dependency error.</p>\n<p>i tried comparing them,</p>\n<ul>\n<li><p>intellij -&gt; identical</p>\n</li>\n<li><p>winmerge; folder comparison</p>\n<ul>\n<li>auto extraction of .jar\n<ul>\n<li>full comparison -&gt; identical</li>\n<li>binary -&gt; identical</li>\n</ul>\n</li>\n<li>jar xf -&gt; identical</li>\n<li>7zip -&gt; identical</li>\n</ul>\n</li>\n<li><p>sha256sum -&gt; different</p>\n</li>\n<li><p>winmerge jar as binary -&gt; different</p>\n</li>\n</ul>\n<p>i am expecting at least some difference between the two jars. some .class changes or dependency corruption or something.\none thing is for sure. that jar with error is somehow corrupted. but what is corrupted, that i cannot figure out.\nthe other jar, working one, i created multiple times with clean build. and it's working everytime.</p>\n<p>could it be some java issue?</p>\n<p>mine is,</p>\n<pre><code>openjdk version &quot;17.0.5&quot; 2022-10-18\nOpenJDK Runtime Environment Temurin-17.0.5+8 (build 17.0.5+8)\nOpenJDK 64-Bit Server VM Temurin-17.0.5+8 (build 17.0.5+8, mixed mode, sharing)\n</code></pre>\n<p>while the java version used to build problematic was,</p>\n<pre><code>Distribution: temurin\nVersion: 17.0.8+7\n</code></pre>\n<p>also, just to save from these kind of autowiring issues, i have one basic spring health check in pipeline. and that test passed.\nthats why my whole focus is the jar creation somehow got messed up.</p>\n<p>additional-info based on comments</p>\n<p>its gradle based project and build pipeline always pulls dependencies from maven central. there's no caching.\nnew working jar is created with gradlew clean and gradlew bootJar</p>\n<p>also, in application.properties,\n<code>spring.main.allow-circular-references=true</code>\nand @Lazy is being used in multiple classes when <code>@Autowired</code>.</p>\n<p>error when running problematic jar.</p>\n<pre><code>DEBUG 2023-08-18 13:44:23,198 : Application failed to start due to an exception\norg.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'repeaterAutoConfigHandler': Requested bean is currently in creation: Is there an unresolvable circular reference?\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.beforeSingletonCreation(DefaultSingletonBeanRegistry.java:355) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:227) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.23.jar!/:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.23.jar!/:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar!/:5.3.23]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.5.jar!/:2.7.5]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.5.jar!/:2.7.5]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.5.jar!/:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.5.jar!/:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.5.jar!/:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.5.jar!/:2.7.5]\n    at com.retracted.name.BackendApplicationKt.main(BackendApplication.kt:13) ~[classes!/:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[v2023-08-17_07-20.jar:?]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[v2023-08-17_07-20.jar:?]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[v2023-08-17_07-20.jar:?]\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[v2023-08-17_07-20.jar:?]\nERROR 2023-08-18 13:44:23,198 : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nThe dependencies of some of the beans in the application context form a cycle:\n\n   hubMetaProcessor (field com.retracted.name.config.repeaters.RepeaterAutoConfigHandler com.retracted.name.udp.HubMetaProcessor.repeaterAutoConfigHandler)\n???????\n|  repeaterAutoConfigHandler defined in URL [jar:file:/D:/backend-new/build/libs/v2023-08-17_07-20.jar!/BOOT-INF/classes!/com/retracted/name/config/repeaters/RepeaterAutoConfigHandler.class]\n?     ?\n|  connectionInfoCache (field public com.retracted.name.udp.HubProcessor com.retracted.name.connection_info.ConnectionInfoCache.hubProcessor)\n?     ?\n|  hubProcessor (field public com.retracted.name.config.repeaters.RepeaterAutoConfigHandler com.retracted.name.udp.HubProcessor.repeaterAutoConfigHandler)\n???????\n\n\nAction:\n\nDespite circular references being allowed, the dependency cycle between beans could not be broken. Update your application to remove the dependency cycle.\n\nDEBUG 2023-08-18 13:44:23,214 : WorkerThread is shut down.\nDEBUG 2023-08-18 13:44:23,214 : WorkerThread is shut down.\n</code></pre>\n<p>note: question marks are just arrows. idk why they are not being rendered on my system. on server they are being though.</p>\n<h4>Update:</h4>\n<p>i was able to kinda reproduce it. i made pipeline use gradle cache. and what i found is jar with issues was created, even with same java version, 17.0.5. what was common between the workflows was proto generated files were used from cache.</p>\n<p>protoc was another thing that differs b/w my machine and runner. i am on windows, while runner is ubuntu.</p>\n<p>one more thing worth mentioning is some of the generated files from proto were not inside any package.</p>\n<p>on doing multiple binary diffs of problematic jars and working jars, what i found is definitely those files are causing some issues with jar creation on linux. which is to say it's somehow changing the order of files inside jar which is causing issues during spring loading.</p>\n<p>for now i fixed whatever the issued jar was saying, cyclic dependency. and made proto generate files under a package.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1692742987,"post_id":76957139,"comment_id":135665533,"body_markdown":"`i` is the outer loop counter, `j` is in the inner loop counter. It&#39;s testing if `i + j` is equal to the size of the grid. Why? Because that&#39;s when it&#39;s on a diagonal. The other arm of the diagonal.","body":"<code>i</code> is the outer loop counter, <code>j</code> is in the inner loop counter. It&#39;s testing if <code>i + j</code> is equal to the size of the grid. Why? Because that&#39;s when it&#39;s on a diagonal. The other arm of the diagonal."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":3,"creation_date":1692744948,"post_id":76957139,"comment_id":135665704,"body_markdown":"draw a 5 by 5 grid. Write the coordinates of the diagonal from the upper right to the lower left.  Do you notice a pattern?","body":"draw a 5 by 5 grid. Write the coordinates of the diagonal from the upper right to the lower left.  Do you notice a pattern?"}],"answers":[{"tags":[],"owner":{"account_id":29271617,"reputation":62,"user_id":22426243,"display_name":"NsoundarMCA"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1692767687,"creation_date":1692767687,"answer_id":76958434,"question_id":76957139,"body_markdown":"I hope this helps you to understand,\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/L8Fj9.png","title":"Calculate sum of diagonals in a two-dimensional array","body":"<p>I hope this helps you to understand,</p>\n<p><a href=\"https://i.stack.imgur.com/L8Fj9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L8Fj9.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":29278597,"reputation":1,"user_id":22431759,"display_name":"ss21"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1692767687,"creation_date":1692742523,"question_id":76957139,"body_markdown":"I&#39;m studying/practicing and I found this code that prints a 3x3 grid 1-9. It adds up the 2 diagonals. I understand the first equation `if (i == j) {d1 += grid[i][j]; // math for d1}` but I don&#39;t understand the second one `if ((i + j) == (grid_size - 1)) {d2 += grid[i][j]; // math for d2}`. \r\n\r\nWhat is the `i + j` do in the second equation? I know the `grid_size - 1` starts from the end and works in, but confused on the `i + j`. Unlike the first equation `i == j`, what is `i + j` checking in the second one?\r\n`\r\n\r\n\r\n\r\n    public static void getGrid() {\r\n        System.out.println(&quot;Below we will see a 3x3 grid with the numbers 1-9:&quot;);\r\n        System.out.println(); // space for eye candy\r\n\r\n        int grid[][] = { { 1, 2, 3 }, { 4, 5, 6 }, { 7, 8, 9 } };\r\n\r\n        // display matrix using for loops\r\n        // outer loop for row\r\n        for (int i = 0; i &lt; grid.length; i++) {\r\n            // inner loop for column\r\n            for (int j = 0; j &lt; grid[0].length; j++) {\r\n                System.out.print(grid[i][j] + &quot; &quot;);\r\n\r\n            }\r\n            System.out.println(); \r\n        }\r\n\r\n        // diagonal work\r\n        int grid_size = 3;\r\n        int d1 = 0; // setting diagonal\r\n        int d2 = 0; // setting diagnoal\r\n\r\n        for (int i = 0; i &lt; grid_size; i++) {\r\n            for (int j = 0; j &lt; grid_size; j++) {\r\n\r\n                if (i == j) {\r\n                    d1 += grid[i][j]; // math for d1\r\n                }\r\n\r\n                if ((i + j) == (grid_size - 1)) {\r\n                    d2 += grid[i][j]; // math for d2\r\n                }\r\n\r\n            }\r\n        }\r\n\r\nI searched online but I couldn&#39;t find the code again.\r\nI&#39;m expecting the answer to what does `i + j` check for in the second equation.","title":"Calculate sum of diagonals in a two-dimensional array","body":"<p>I'm studying/practicing and I found this code that prints a 3x3 grid 1-9. It adds up the 2 diagonals. I understand the first equation <code>if (i == j) {d1 += grid[i][j]; // math for d1}</code> but I don't understand the second one <code>if ((i + j) == (grid_size - 1)) {d2 += grid[i][j]; // math for d2}</code>.</p>\n<p>What is the <code>i + j</code> do in the second equation? I know the <code>grid_size - 1</code> starts from the end and works in, but confused on the <code>i + j</code>. Unlike the first equation <code>i == j</code>, what is <code>i + j</code> checking in the second one?\n`</p>\n<pre><code>public static void getGrid() {\n    System.out.println(&quot;Below we will see a 3x3 grid with the numbers 1-9:&quot;);\n    System.out.println(); // space for eye candy\n\n    int grid[][] = { { 1, 2, 3 }, { 4, 5, 6 }, { 7, 8, 9 } };\n\n    // display matrix using for loops\n    // outer loop for row\n    for (int i = 0; i &lt; grid.length; i++) {\n        // inner loop for column\n        for (int j = 0; j &lt; grid[0].length; j++) {\n            System.out.print(grid[i][j] + &quot; &quot;);\n\n        }\n        System.out.println(); \n    }\n\n    // diagonal work\n    int grid_size = 3;\n    int d1 = 0; // setting diagonal\n    int d2 = 0; // setting diagnoal\n\n    for (int i = 0; i &lt; grid_size; i++) {\n        for (int j = 0; j &lt; grid_size; j++) {\n\n            if (i == j) {\n                d1 += grid[i][j]; // math for d1\n            }\n\n            if ((i + j) == (grid_size - 1)) {\n                d2 += grid[i][j]; // math for d2\n            }\n\n        }\n    }\n</code></pre>\n<p>I searched online but I couldn't find the code again.\nI'm expecting the answer to what does <code>i + j</code> check for in the second equation.</p>\n"},{"tags":["java","validation","mapping","bean-validation"],"comments":[{"owner":{"account_id":1528364,"reputation":125594,"user_id":1426227,"accept_rate":79,"display_name":"cassiomolin"},"score":0,"creation_date":1503570207,"post_id":41717866,"comment_id":78675875,"body_markdown":"This [answer](https://stackoverflow.com/a/44281799/1426227) may give you some insights on how to parse a constraint violation and then use Jackson to find the actual JSON property name.","body":"This <a href=\"https://stackoverflow.com/a/44281799/1426227\">answer</a> may give you some insights on how to parse a constraint violation and then use Jackson to find the actual JSON property name."}],"answers":[{"tags":[],"owner":{"account_id":404979,"reputation":18340,"user_id":773616,"accept_rate":83,"display_name":"Gunnar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1485435099,"creation_date":1485435099,"answer_id":41873867,"question_id":41717866,"body_markdown":"There is no way to achieve this currently. We have an issue for this in the reference implementation: [HV-823](https://hibernate.atlassian.net/browse/HV-823).\r\n\r\nThis would address the issue on the side of Hibernate Validator (i.e. return the name you expect from `Path.Node#getName()`), it&#39;d require some more checking whether Spring actually picks up the name from there.\r\n\r\nMaybe you&#39;d be interested in helping out with implemeting this one?","title":"JSR-303 validation in Spring controller and getting @JsonProperty name","body":"<p>There is no way to achieve this currently. We have an issue for this in the reference implementation: <a href=\"https://hibernate.atlassian.net/browse/HV-823\" rel=\"nofollow noreferrer\">HV-823</a>.</p>\n\n<p>This would address the issue on the side of Hibernate Validator (i.e. return the name you expect from <code>Path.Node#getName()</code>), it'd require some more checking whether Spring actually picks up the name from there.</p>\n\n<p>Maybe you'd be interested in helping out with implemeting this one?</p>\n"},{"tags":[],"owner":{"account_id":7277423,"reputation":268,"user_id":5548389,"display_name":"Damir Alibegovic"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1577556679,"creation_date":1577556679,"answer_id":59513594,"question_id":41717866,"body_markdown":"This can now be done by using [PropertyNodeNameProvider][1].\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#section-property-node-name-provider","title":"JSR-303 validation in Spring controller and getting @JsonProperty name","body":"<p>This can now be done by using <a href=\"https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#section-property-node-name-provider\" rel=\"noreferrer\">PropertyNodeNameProvider</a>.</p>\n"},{"tags":[],"owner":{"account_id":1109895,"reputation":1004,"user_id":1100559,"accept_rate":78,"display_name":"Hollerweger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654174519,"creation_date":1654161334,"answer_id":72473715,"question_id":41717866,"body_markdown":"For `MethodArgumentNotValidException` and `BindException` I have written a method that tries to access the private `ConstraintViolation` from Spring `ViolationFieldError` via reflection.\r\n\r\n      /**\r\n       * Try to get the @JsonProperty annotation value from the field. If not present then the\r\n       * fieldError.getField() is returned.\r\n       * @param fieldError {@link FieldError}\r\n       * @return fieldName\r\n       */\r\n      private String getJsonFieldName(final FieldError fieldError) {\r\n        try {\r\n          final Field violation = fieldError.getClass().getDeclaredField(&quot;violation&quot;);\r\n          violation.setAccessible(true);\r\n          var constraintViolation = (ConstraintViolation) violation.get(fieldError);\r\n          final Field declaredField = constraintViolation.getRootBeanClass()\r\n              .getDeclaredField(fieldError.getField());\r\n          final JsonProperty annotation = declaredField.getAnnotation(JsonProperty.class);\r\n          //Check if JsonProperty annotation is present and if value is set\r\n          if (annotation != null &amp;&amp; annotation.value() != null &amp;&amp; !annotation.value().isEmpty()) {\r\n            return annotation.value();\r\n          } else {\r\n            return fieldError.getField();\r\n          }\r\n        } catch (Exception e) {\r\n          return fieldError.getField();\r\n        }\r\n      }\r\n\r\nThis code can be used in methods handling BindExceptions `@ExceptionHandler(BindException.class)` within a Class with `@ControllerAdvice`:\r\n\r\n    @ControllerAdvice\r\n    public class ControllerExceptionHandler {\r\n    \r\n      @ExceptionHandler(BindException.class)\r\n      public ResponseEntity&lt;YourErrorResultModel&gt; handleBindException(final BindException exception) {\r\n        for (FieldError fieldError : exception.getBindingResult().getFieldErrors()) {\r\n          final String fieldName = getJsonFieldName(fieldError);\r\n       ...\r\n    }","title":"JSR-303 validation in Spring controller and getting @JsonProperty name","body":"<p>For <code>MethodArgumentNotValidException</code> and <code>BindException</code> I have written a method that tries to access the private <code>ConstraintViolation</code> from Spring <code>ViolationFieldError</code> via reflection.</p>\n<pre><code>  /**\n   * Try to get the @JsonProperty annotation value from the field. If not present then the\n   * fieldError.getField() is returned.\n   * @param fieldError {@link FieldError}\n   * @return fieldName\n   */\n  private String getJsonFieldName(final FieldError fieldError) {\n    try {\n      final Field violation = fieldError.getClass().getDeclaredField(&quot;violation&quot;);\n      violation.setAccessible(true);\n      var constraintViolation = (ConstraintViolation) violation.get(fieldError);\n      final Field declaredField = constraintViolation.getRootBeanClass()\n          .getDeclaredField(fieldError.getField());\n      final JsonProperty annotation = declaredField.getAnnotation(JsonProperty.class);\n      //Check if JsonProperty annotation is present and if value is set\n      if (annotation != null &amp;&amp; annotation.value() != null &amp;&amp; !annotation.value().isEmpty()) {\n        return annotation.value();\n      } else {\n        return fieldError.getField();\n      }\n    } catch (Exception e) {\n      return fieldError.getField();\n    }\n  }\n</code></pre>\n<p>This code can be used in methods handling BindExceptions <code>@ExceptionHandler(BindException.class)</code> within a Class with <code>@ControllerAdvice</code>:</p>\n<pre><code>@ControllerAdvice\npublic class ControllerExceptionHandler {\n\n  @ExceptionHandler(BindException.class)\n  public ResponseEntity&lt;YourErrorResultModel&gt; handleBindException(final BindException exception) {\n    for (FieldError fieldError : exception.getBindingResult().getFieldErrors()) {\n      final String fieldName = getJsonFieldName(fieldError);\n   ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10148917,"reputation":2458,"user_id":7496198,"display_name":"Chhaileng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692767650,"creation_date":1692767650,"answer_id":76958430,"question_id":41717866,"body_markdown":"Here is the function that gets value from `@JsonProperty` annotation.\r\n\r\n    private String getJsonPropertyValue(final FieldError error) {\r\n        try {\r\n            if (error.contains(ConstraintViolation.class)) {\r\n                final ConstraintViolation&lt;?&gt; violation = error.unwrap(ConstraintViolation.class);\r\n                final Field declaredField = violation.getRootBeanClass().getDeclaredField(error.getField());\r\n                final JsonProperty annotation = declaredField.getAnnotation(JsonProperty.class);\r\n\r\n                if (annotation != null &amp;&amp; annotation.value() != null &amp;&amp; !annotation.value().isEmpty()) {\r\n                    return annotation.value();\r\n                }\r\n            }\r\n        } catch (Exception ignored) {\r\n        }\r\n\r\n        return error.getField();\r\n    }\r\n\r\nThen in your exception handler\r\n\r\n    @ExceptionHandler(MethodArgumentNotValidException.class)\r\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n    public ResponseEntity&lt;?&gt; validationExceptionHandler(MethodArgumentNotValidException e) {\r\n        final Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\r\n        e.getBindingResult().getAllErrors().forEach((error) -&gt; {\r\n            String fieldName = getJsonPropertyValue((FieldError) error);\r\n            String errorMessage = error.getDefaultMessage();\r\n            errors.put(fieldName, errorMessage);\r\n        });\r\n        System.out.println(errors); // put this in your response\r\n        return ResponseEntity.badRequest().build();\r\n    }","title":"JSR-303 validation in Spring controller and getting @JsonProperty name","body":"<p>Here is the function that gets value from <code>@JsonProperty</code> annotation.</p>\n<pre><code>private String getJsonPropertyValue(final FieldError error) {\n    try {\n        if (error.contains(ConstraintViolation.class)) {\n            final ConstraintViolation&lt;?&gt; violation = error.unwrap(ConstraintViolation.class);\n            final Field declaredField = violation.getRootBeanClass().getDeclaredField(error.getField());\n            final JsonProperty annotation = declaredField.getAnnotation(JsonProperty.class);\n\n            if (annotation != null &amp;&amp; annotation.value() != null &amp;&amp; !annotation.value().isEmpty()) {\n                return annotation.value();\n            }\n        }\n    } catch (Exception ignored) {\n    }\n\n    return error.getField();\n}\n</code></pre>\n<p>Then in your exception handler</p>\n<pre><code>@ExceptionHandler(MethodArgumentNotValidException.class)\n@ResponseStatus(HttpStatus.BAD_REQUEST)\npublic ResponseEntity&lt;?&gt; validationExceptionHandler(MethodArgumentNotValidException e) {\n    final Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\n    e.getBindingResult().getAllErrors().forEach((error) -&gt; {\n        String fieldName = getJsonPropertyValue((FieldError) error);\n        String errorMessage = error.getDefaultMessage();\n        errors.put(fieldName, errorMessage);\n    });\n    System.out.println(errors); // put this in your response\n    return ResponseEntity.badRequest().build();\n}\n</code></pre>\n"}],"owner":{"account_id":1382680,"reputation":3298,"user_id":1315357,"accept_rate":46,"display_name":"jnemecz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3508,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":4,"score":9,"last_activity_date":1692767650,"creation_date":1484737802,"question_id":41717866,"body_markdown":"I do validation with `JSR-303` in my Spring app, it works as needed.\r\n\r\nThis is an example:\r\n\r\n    @Column(nullable = false, name = &quot;name&quot;)\r\n        @JsonProperty(&quot;customer_name&quot;)\r\n        @NotEmpty\r\n        @Size(min = 3, max = 32)\r\n        private String name;\r\n\r\nAnd REST API clients use `customer_name` as name of input field that send to API bud validation field error `org.springframework.validation.FieldError` returns `name` as name of the field.\r\n\r\nIs there some way hot to get `JSON-ish` name that is specified in `@JsonProperty`? Or do I have to implement own mapper to map class fields name into its JSON alternative?\r\n\r\nEdit1: Renaming class fields into names that correspond to JSON names is not alternative (for many reasons).","title":"JSR-303 validation in Spring controller and getting @JsonProperty name","body":"<p>I do validation with <code>JSR-303</code> in my Spring app, it works as needed.</p>\n\n<p>This is an example:</p>\n\n<pre><code>@Column(nullable = false, name = \"name\")\n    @JsonProperty(\"customer_name\")\n    @NotEmpty\n    @Size(min = 3, max = 32)\n    private String name;\n</code></pre>\n\n<p>And REST API clients use <code>customer_name</code> as name of input field that send to API bud validation field error <code>org.springframework.validation.FieldError</code> returns <code>name</code> as name of the field.</p>\n\n<p>Is there some way hot to get <code>JSON-ish</code> name that is specified in <code>@JsonProperty</code>? Or do I have to implement own mapper to map class fields name into its JSON alternative?</p>\n\n<p>Edit1: Renaming class fields into names that correspond to JSON names is not alternative (for many reasons).</p>\n"},{"tags":["java","installation"],"answers":[{"tags":[],"owner":{"account_id":5346850,"reputation":686,"user_id":7357186,"display_name":"Ray"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1485295487,"creation_date":1485295487,"answer_id":41839804,"question_id":41839743,"body_markdown":"check if there is a JAVA_HOME variable set. That might point to the Java7 installation and put the eclipse installer on the wrong track","title":"Incompatible JVM when trying to install Eclipse on Windows 10 PC","body":"<p>check if there is a JAVA_HOME variable set. That might point to the Java7 installation and put the eclipse installer on the wrong track</p>\n"},{"tags":[],"owner":{"account_id":13404064,"reputation":1,"user_id":9672615,"display_name":"Carlos Saez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524190121,"creation_date":1524190121,"answer_id":49932840,"question_id":41839743,"body_markdown":"You can also set the JAVA_HOME in the same cmd that you run the executable Eclipse installation File. Example:\r\n\r\n&gt; set JAVA_HOME=&quot;C:\\Program Files\\Java\\jdk1.8.0_171&quot; &lt;br&gt;\r\n&gt; &quot;C:\\Users\\XX\\Downloads\\eclipse-inst-win64.exe&quot;","title":"Incompatible JVM when trying to install Eclipse on Windows 10 PC","body":"<p>You can also set the JAVA_HOME in the same cmd that you run the executable Eclipse installation File. Example:</p>\n\n<blockquote>\n  <p>set JAVA_HOME=\"C:\\Program Files\\Java\\jdk1.8.0_171\" <br>\n  \"C:\\Users\\XX\\Downloads\\eclipse-inst-win64.exe\"</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":19541655,"reputation":131,"user_id":14299290,"display_name":"CSR"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1600702337,"creation_date":1600417708,"answer_id":63952036,"question_id":41839743,"body_markdown":"I had the problem with STS 4 on Windows 10 that needed JVM V11.\r\n\r\nAfter JDK installation, you must add the bin path of the JDK in your `PATH` environment variable, in the first position, to ensure the system will use the right version.\r\n\r\nScreenshot:\r\n\r\n![screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zpNdu.png","title":"Incompatible JVM when trying to install Eclipse on Windows 10 PC","body":"<p>I had the problem with STS 4 on Windows 10 that needed JVM V11.</p>\n<p>After JDK installation, you must add the bin path of the JDK in your <code>PATH</code> environment variable, in the first position, to ensure the system will use the right version.</p>\n<p>Screenshot:</p>\n<p><img src=\"https://i.stack.imgur.com/zpNdu.png\" alt=\"screenshot\" /></p>\n"},{"tags":[],"owner":{"account_id":8317819,"reputation":13,"user_id":6250505,"display_name":"Manikanta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611417716,"creation_date":1611417716,"answer_id":65861321,"question_id":41839743,"body_markdown":"recently I got the same issue with STS. i have issued below command in cmd with admin rights:\r\nC:\\WINDOWS\\system32&gt;set JAVA_HOME=&quot;C:\\Program Files\\Java\\jdk-15.0.2\\bin&quot;\r\n\r\nits resolved my problem. hope it will work for you.\r\n\r\n","title":"Incompatible JVM when trying to install Eclipse on Windows 10 PC","body":"<p>recently I got the same issue with STS. i have issued below command in cmd with admin rights:\nC:\\WINDOWS\\system32&gt;set JAVA_HOME=&quot;C:\\Program Files\\Java\\jdk-15.0.2\\bin&quot;</p>\n<p>its resolved my problem. hope it will work for you.</p>\n"},{"tags":[],"owner":{"account_id":3502195,"reputation":3,"user_id":4799977,"display_name":"Florian Schweitzer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617715695,"creation_date":1617715695,"answer_id":66969610,"question_id":41839743,"body_markdown":"Just as an FYI:\r\nInstalling multiple JDKs/JREs led to Eclipse detecting the wrong one (jdk 8 instead of the required 11).\r\nAside from setting JAVA_HOME I had to reorder the PATH variable, to have the 11 before the 8.\r\n","title":"Incompatible JVM when trying to install Eclipse on Windows 10 PC","body":"<p>Just as an FYI:\nInstalling multiple JDKs/JREs led to Eclipse detecting the wrong one (jdk 8 instead of the required 11).\nAside from setting JAVA_HOME I had to reorder the PATH variable, to have the 11 before the 8.</p>\n"},{"tags":[],"owner":{"account_id":15205850,"reputation":581,"user_id":10972326,"display_name":"manish kumar sah"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1692767353,"creation_date":1617872164,"answer_id":67000565,"question_id":41839743,"body_markdown":"follow this steps\r\n\r\nstep1 : just go and find the **location of eclipse** in your system\r\n\r\nstep2 : open the &quot;**eclipse configuration file**&quot; and search &quot;**-vmargs**&quot; in \r\n        this file\r\n        just **go one line above of** &quot;-vmargs&quot; and hit enter for blank space\r\n        now type here &quot;**-vm**&quot; and hit enter\r\n\r\nstep3 : go and **copy the bin folder of jdk11**\r\n        and paste it below the &quot;-vm&quot;\r\n        then append this &quot;**\\javaw.exe**&quot;, see the demo below\r\n        then save it and now run the eclipse ide\r\n\r\n\r\nexample in my case\r\n\r\n**-vm**\r\n\r\n**C:\\Program Files\\Java\\jdk-11.0.9\\bin\\javaw.exe**\r\n\r\n**-vmargs**\r\n\r\n\r\n\r\n ","title":"Incompatible JVM when trying to install Eclipse on Windows 10 PC","body":"<p>follow this steps</p>\n<p>step1 : just go and find the <strong>location of eclipse</strong> in your system</p>\n<p>step2 : open the &quot;<strong>eclipse configuration file</strong>&quot; and search &quot;<strong>-vmargs</strong>&quot; in\nthis file\njust <strong>go one line above of</strong> &quot;-vmargs&quot; and hit enter for blank space\nnow type here &quot;<strong>-vm</strong>&quot; and hit enter</p>\n<p>step3 : go and <strong>copy the bin folder of jdk11</strong>\nand paste it below the &quot;-vm&quot;\nthen append this &quot;<strong>\\javaw.exe</strong>&quot;, see the demo below\nthen save it and now run the eclipse ide</p>\n<p>example in my case</p>\n<p><strong>-vm</strong></p>\n<p><strong>C:\\Program Files\\Java\\jdk-11.0.9\\bin\\javaw.exe</strong></p>\n<p><strong>-vmargs</strong></p>\n"},{"tags":[],"owner":{"account_id":22689122,"reputation":31,"user_id":16858299,"display_name":"Faizan Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632684409,"creation_date":1632684409,"answer_id":69338264,"question_id":41839743,"body_markdown":"One solution if none of the others work: You have two types of system variables, user and the system. You need to remove all the paths (relative and absolute) that point to any version of java from the system variable part. Worked for me!","title":"Incompatible JVM when trying to install Eclipse on Windows 10 PC","body":"<p>One solution if none of the others work: You have two types of system variables, user and the system. You need to remove all the paths (relative and absolute) that point to any version of java from the system variable part. Worked for me!</p>\n"},{"tags":[],"owner":{"account_id":25796208,"reputation":1,"user_id":19539339,"display_name":"Satyam A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657779783,"creation_date":1657691292,"answer_id":72961478,"question_id":41839743,"body_markdown":"I was facing similar issue, with using java 17.\r\n\r\nI changed the environment variable path to \r\n\r\n&gt; jdk17\\bin\\javaw.exe\r\n\r\neg:\r\n\r\n&gt;  C:\\Program Files\\Java\\jdk-17.0.3.1\\bin\\javaw.exe\r\n\r\nafter this it worked fine for me","title":"Incompatible JVM when trying to install Eclipse on Windows 10 PC","body":"<p>I was facing similar issue, with using java 17.</p>\n<p>I changed the environment variable path to</p>\n<blockquote>\n<p>jdk17\\bin\\javaw.exe</p>\n</blockquote>\n<p>eg:</p>\n<blockquote>\n<p>C:\\Program Files\\Java\\jdk-17.0.3.1\\bin\\javaw.exe</p>\n</blockquote>\n<p>after this it worked fine for me</p>\n"}],"owner":{"account_id":10102481,"reputation":133,"user_id":7466150,"display_name":"MDHackbert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82522,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":41839804,"answer_count":8,"score":13,"last_activity_date":1692767353,"creation_date":1485295251,"question_id":41839743,"body_markdown":"I am trying to run the installer for Eclipse 64-bit and I get an error message:\r\n\r\n    Version 1.7.0_10 of the JVM is not suitable for this product. Version: 1.8 or greater is required.\r\n\r\nWhen i run `java -version` on the command line, I get:\r\n\r\n    java version &quot;1.8.0_121&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_121-b13)\r\n    Java HotSpot(TM) Client VM (build 25.121-b13, mixed mode, sharing)\r\n\r\nPlease help, i just want to get up and running with Eclipse.\r\nThanks!","title":"Incompatible JVM when trying to install Eclipse on Windows 10 PC","body":"<p>I am trying to run the installer for Eclipse 64-bit and I get an error message:</p>\n\n<pre><code>Version 1.7.0_10 of the JVM is not suitable for this product. Version: 1.8 or greater is required.\n</code></pre>\n\n<p>When i run <code>java -version</code> on the command line, I get:</p>\n\n<pre><code>java version \"1.8.0_121\"\nJava(TM) SE Runtime Environment (build 1.8.0_121-b13)\nJava HotSpot(TM) Client VM (build 25.121-b13, mixed mode, sharing)\n</code></pre>\n\n<p>Please help, i just want to get up and running with Eclipse.\nThanks!</p>\n"},{"tags":["java","android","flutter","dart","drop-down-menu"],"owner":{"account_id":29256504,"reputation":1,"user_id":22414578,"display_name":"Aniket Saste"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692766518,"creation_date":1692766518,"question_id":76958365,"body_markdown":"I have working on one ecommerce application. in that application I want when my dropdown value change also my price will change. I am fresher so I don&#39;t know how to do this. below is my code. I am combine the pack size and uom two variable in one string  and i also want when my selected dropdown values change  only uom can be store in variable because i want uom to send data to database through api. \r\n \r\n1.dropdown code.\r\n\r\n```\r\n  List&lt;String&gt; combinedStrings =ProductDetailsUtils.generateCombinedStrings(productDetailsList).where((value) =&gt; value.isNotEmpty).toList();\r\n             String  _selectedOption =combinedStrings.isNotEmpty? combinedStrings.first:&#39;&#39;;\r\n\r\n DropdownButton&lt;String&gt;(\r\n                                                hint: const Text(&#39;__Pack Size__&#39;),\r\n                                                value: _selectedOption,\r\n                                                style: const TextStyle(color: Colors.deepPurple),\r\n                                                underline: Container(\r\n                                                  height: 2,\r\n                                                  color: Colors.deepPurpleAccent,\r\n                                                ),\r\n                                                items:combinedStrings.map((String value) {\r\n                                                       return DropdownMenuItem&lt;String&gt;(\r\n                                                    value: value,\r\n                                                    child: Text(value),\r\n                                                     );\r\n                                                 }).toList(),\r\n                                                onChanged: (value) {\r\n                                                  setState(() {\r\n                                                    _selectedOption = value!;\r\n                                                  });\r\n                                                },\r\n                                              ),\r\n\r\n```\r\n2.productutils\r\n\r\n\r\n```\r\nclass ProductDetailsUtils {\r\n  String? id;\r\n  String? img;\r\n  String? item;\r\n  String? category;\r\n  String? type;\r\n  String? description;\r\n  String? price;\r\n  String? uom;\r\n  String? psize;\r\n  String? price2;\r\n  String? uom2;\r\n  String? psize2;\r\n  String? price3;\r\n  String? uom3;\r\n  String? psize3;\r\n  String? vusername;\r\n  String? displayname;\r\n  String? instock;\r\n  ProductDetailsUtils(\r\n      {this.id,\r\n        this.img,\r\n        this.item,\r\n        this.category,\r\n        this.type,\r\n        this.description,\r\n        this.price,\r\n        this.uom,\r\n        this.psize,\r\n        this.price2,\r\n        this.uom2,\r\n        this.psize2,\r\n        this.price3,\r\n        this.uom3,\r\n        this.psize3,\r\n        this.vusername,\r\n        this.displayname,\r\n        this.instock});\r\n\r\n  ProductDetailsUtils.fromJson(Map&lt;String, dynamic&gt; json) {\r\n    id = json[&#39;id&#39;];\r\n    img = json[&#39;img&#39;];\r\n    item = json[&#39;item&#39;];\r\n    category = json[&#39;category&#39;];\r\n    type = json[&#39;type&#39;];\r\n    description = json[&#39;description&#39;];\r\n    price = json[&#39;price&#39;];\r\n    uom = json[&#39;uom&#39;];\r\n    psize = json[&#39;psize&#39;];\r\n    price2 = json[&#39;price2&#39;];\r\n    uom2 = json[&#39;uom2&#39;];\r\n    psize2 = json[&#39;psize2&#39;];\r\n    price3 = json[&#39;price3&#39;];\r\n    uom3 = json[&#39;uom3&#39;];\r\n    psize3 = json[&#39;psize3&#39;];\r\n    vusername = json[&#39;vusername&#39;];\r\n    displayname = json[&#39;displayname&#39;];\r\n    instock = json[&#39;instock&#39;];\r\n  }\r\n\r\n  Map&lt;String, dynamic&gt; toJson() {\r\n    final Map&lt;String, dynamic&gt; data = new Map&lt;String, dynamic&gt;();\r\n    data[&#39;id&#39;] = this.id;\r\n    data[&#39;img&#39;] = this.img;\r\n    data[&#39;item&#39;] = this.item;\r\n    data[&#39;category&#39;] = this.category;\r\n    data[&#39;type&#39;] = this.type;\r\n    data[&#39;description&#39;] = this.description;\r\n    data[&#39;price&#39;] = this.price;\r\n    data[&#39;uom&#39;] = this.uom;\r\n    data[&#39;psize&#39;] = this.psize;\r\n    data[&#39;price2&#39;] = this.price2;\r\n    data[&#39;uom2&#39;] = this.uom2;\r\n    data[&#39;psize2&#39;] = this.psize2;\r\n    data[&#39;price3&#39;] = this.price3;\r\n    data[&#39;uom3&#39;] = this.uom3;\r\n    data[&#39;psize3&#39;] = this.psize3;\r\n    data[&#39;vusername&#39;] = this.vusername;\r\n    data[&#39;displayname&#39;] = this.displayname;\r\n    data[&#39;instock&#39;] = this.instock;\r\n    return data;\r\n  }\r\n static List&lt;String&gt; generateCombinedStrings(List&lt;ProductDetailsUtils&gt; data) {\r\n    List&lt;String&gt; combinedList = [];\r\n    for (var item in data) {\r\n      String group1 = &quot;${item.psize}  ${item.uom}&quot;;\r\n      String group2 = &quot;${item.psize2}  ${item.uom2}&quot;;\r\n      String group3 = &quot;${item.psize3}  ${item.uom3}&quot;;\r\n      combinedList.add(group1);\r\n      combinedList.add(group2);\r\n      combinedList.add(group3);\r\n    }\r\n    return combinedList;\r\n  }\r\n}\r\n```\r\n3.api data fetching code\r\n\r\n```\r\n Future&lt;List&lt;ProductDetailsUtils&gt;&gt; getAllProduct ( String pid)\r\n  async {\r\n    final url=Uri.parse(&#39;https://wiz-mart.com/api/prodetails.php&#39;);\r\n    SharedPreferences prefs = await SharedPreferences.getInstance();\r\n    String? username=prefs.getString(&quot;username&quot;);\r\n    final queryParams = {\r\n      &#39;username&#39;: username,\r\n      &#39;pid&#39;: pid,\r\n    };\r\n    final newUrl = url.replace(queryParameters: queryParams);\r\n    try{\r\n      final response = await http.get(newUrl);\r\n      if(response.statusCode==200)\r\n      {\r\n        final body= json.decode(response.body) as List;\r\n        return body.map((e) {\r\n          final map =e as Map&lt;String ,dynamic&gt;;\r\n          return ProductDetailsUtils(\r\n            id: map[&#39;id&#39;],\r\n            img: map[&#39;img&#39;],\r\n            item: map[&#39;item&#39;],\r\n            category: map[&#39;category&#39;],\r\n            type: map[&#39;type&#39;],\r\n            description: map[&#39;description&#39;] ,\r\n            price: map[&#39;price&#39;] ,\r\n            uom: map[&#39;uom&#39;] ,\r\n            psize: map[&#39;psize&#39;] ,\r\n            price2: map[&#39;price2&#39;],\r\n            uom2: map[&#39;uom2&#39;] ,\r\n            psize2: map[&#39;psize2&#39;] ,\r\n            price3: map[&#39;price3&#39;] ,\r\n            uom3: map[&#39;uom3&#39;],\r\n            psize3: map[&#39;psize3&#39;] ,\r\n            vusername:map[&#39;vusername&#39;] ,\r\n            displayname: map[&#39;displayname&#39;] ,\r\n            instock: map[&#39;instock&#39;] ,\r\n\r\n          );\r\n        }).toList();\r\n      }\r\n      print(&#39;Login successful!&#39;);\r\n      print(response.body);\r\n    }catch (error) {\r\n      print(&#39;Error occurred: $error&#39;);\r\n\r\n    }\r\n    throw Exception(&#39;Data Not Found&#39;);\r\n  }\r\n\r\n\r\n```\r\n this is my code snapshot. ","title":"When dropdown value change price will change","body":"<p>I have working on one ecommerce application. in that application I want when my dropdown value change also my price will change. I am fresher so I don't know how to do this. below is my code. I am combine the pack size and uom two variable in one string  and i also want when my selected dropdown values change  only uom can be store in variable because i want uom to send data to database through api.</p>\n<p>1.dropdown code.</p>\n<pre><code>  List&lt;String&gt; combinedStrings =ProductDetailsUtils.generateCombinedStrings(productDetailsList).where((value) =&gt; value.isNotEmpty).toList();\n             String  _selectedOption =combinedStrings.isNotEmpty? combinedStrings.first:'';\n\n DropdownButton&lt;String&gt;(\n                                                hint: const Text('__Pack Size__'),\n                                                value: _selectedOption,\n                                                style: const TextStyle(color: Colors.deepPurple),\n                                                underline: Container(\n                                                  height: 2,\n                                                  color: Colors.deepPurpleAccent,\n                                                ),\n                                                items:combinedStrings.map((String value) {\n                                                       return DropdownMenuItem&lt;String&gt;(\n                                                    value: value,\n                                                    child: Text(value),\n                                                     );\n                                                 }).toList(),\n                                                onChanged: (value) {\n                                                  setState(() {\n                                                    _selectedOption = value!;\n                                                  });\n                                                },\n                                              ),\n\n</code></pre>\n<p>2.productutils</p>\n<pre><code>class ProductDetailsUtils {\n  String? id;\n  String? img;\n  String? item;\n  String? category;\n  String? type;\n  String? description;\n  String? price;\n  String? uom;\n  String? psize;\n  String? price2;\n  String? uom2;\n  String? psize2;\n  String? price3;\n  String? uom3;\n  String? psize3;\n  String? vusername;\n  String? displayname;\n  String? instock;\n  ProductDetailsUtils(\n      {this.id,\n        this.img,\n        this.item,\n        this.category,\n        this.type,\n        this.description,\n        this.price,\n        this.uom,\n        this.psize,\n        this.price2,\n        this.uom2,\n        this.psize2,\n        this.price3,\n        this.uom3,\n        this.psize3,\n        this.vusername,\n        this.displayname,\n        this.instock});\n\n  ProductDetailsUtils.fromJson(Map&lt;String, dynamic&gt; json) {\n    id = json['id'];\n    img = json['img'];\n    item = json['item'];\n    category = json['category'];\n    type = json['type'];\n    description = json['description'];\n    price = json['price'];\n    uom = json['uom'];\n    psize = json['psize'];\n    price2 = json['price2'];\n    uom2 = json['uom2'];\n    psize2 = json['psize2'];\n    price3 = json['price3'];\n    uom3 = json['uom3'];\n    psize3 = json['psize3'];\n    vusername = json['vusername'];\n    displayname = json['displayname'];\n    instock = json['instock'];\n  }\n\n  Map&lt;String, dynamic&gt; toJson() {\n    final Map&lt;String, dynamic&gt; data = new Map&lt;String, dynamic&gt;();\n    data['id'] = this.id;\n    data['img'] = this.img;\n    data['item'] = this.item;\n    data['category'] = this.category;\n    data['type'] = this.type;\n    data['description'] = this.description;\n    data['price'] = this.price;\n    data['uom'] = this.uom;\n    data['psize'] = this.psize;\n    data['price2'] = this.price2;\n    data['uom2'] = this.uom2;\n    data['psize2'] = this.psize2;\n    data['price3'] = this.price3;\n    data['uom3'] = this.uom3;\n    data['psize3'] = this.psize3;\n    data['vusername'] = this.vusername;\n    data['displayname'] = this.displayname;\n    data['instock'] = this.instock;\n    return data;\n  }\n static List&lt;String&gt; generateCombinedStrings(List&lt;ProductDetailsUtils&gt; data) {\n    List&lt;String&gt; combinedList = [];\n    for (var item in data) {\n      String group1 = &quot;${item.psize}  ${item.uom}&quot;;\n      String group2 = &quot;${item.psize2}  ${item.uom2}&quot;;\n      String group3 = &quot;${item.psize3}  ${item.uom3}&quot;;\n      combinedList.add(group1);\n      combinedList.add(group2);\n      combinedList.add(group3);\n    }\n    return combinedList;\n  }\n}\n</code></pre>\n<p>3.api data fetching code</p>\n<pre><code> Future&lt;List&lt;ProductDetailsUtils&gt;&gt; getAllProduct ( String pid)\n  async {\n    final url=Uri.parse('https://wiz-mart.com/api/prodetails.php');\n    SharedPreferences prefs = await SharedPreferences.getInstance();\n    String? username=prefs.getString(&quot;username&quot;);\n    final queryParams = {\n      'username': username,\n      'pid': pid,\n    };\n    final newUrl = url.replace(queryParameters: queryParams);\n    try{\n      final response = await http.get(newUrl);\n      if(response.statusCode==200)\n      {\n        final body= json.decode(response.body) as List;\n        return body.map((e) {\n          final map =e as Map&lt;String ,dynamic&gt;;\n          return ProductDetailsUtils(\n            id: map['id'],\n            img: map['img'],\n            item: map['item'],\n            category: map['category'],\n            type: map['type'],\n            description: map['description'] ,\n            price: map['price'] ,\n            uom: map['uom'] ,\n            psize: map['psize'] ,\n            price2: map['price2'],\n            uom2: map['uom2'] ,\n            psize2: map['psize2'] ,\n            price3: map['price3'] ,\n            uom3: map['uom3'],\n            psize3: map['psize3'] ,\n            vusername:map['vusername'] ,\n            displayname: map['displayname'] ,\n            instock: map['instock'] ,\n\n          );\n        }).toList();\n      }\n      print('Login successful!');\n      print(response.body);\n    }catch (error) {\n      print('Error occurred: $error');\n\n    }\n    throw Exception('Data Not Found');\n  }\n\n\n</code></pre>\n<p>this is my code snapshot.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":1,"creation_date":1692766547,"post_id":76958359,"comment_id":135667399,"body_markdown":"Strings are immutable, so there is no pass by reference.","body":"Strings are immutable, so there is no pass by reference."},{"owner":{"account_id":95417,"reputation":4933,"user_id":259889,"accept_rate":76,"display_name":"Sid"},"score":1,"creation_date":1692766592,"post_id":76958359,"comment_id":135667403,"body_markdown":"You are right.  It&#39;s a copy of the reference, except for Strings.  Hence it behaves differently for primitive and Object types.  Object references still point to the same object on Heap.  If you reassign the non-final reference in the invoked method, the original object&#39;s reference is lost.","body":"You are right.  It&#39;s a copy of the reference, except for Strings.  Hence it behaves differently for primitive and Object types.  Object references still point to the same object on Heap.  If you reassign the non-final reference in the invoked method, the original object&#39;s reference is lost."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":4,"creation_date":1692767756,"post_id":76958359,"comment_id":135667521,"body_markdown":"@Sid &quot;_except for Strings_&quot; – `String` is a reference type, and thus the reference to the object is copied (i.e., the reference is the _value_ being passed).","body":"@Sid &quot;<i>except for Strings</i>&quot; – <code>String</code> is a reference type, and thus the reference to the object is copied (i.e., the reference is the <i>value</i> being passed)."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1692767879,"post_id":76958359,"comment_id":135667532,"body_markdown":"@Slevin Mutability of the object is orthogonal to _pass-by-value_ vs _pass-by-reference_ semantics.","body":"@Slevin Mutability of the object is orthogonal to <i>pass-by-value</i> vs <i>pass-by-reference</i> semantics."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":6,"creation_date":1692768022,"post_id":76958359,"comment_id":135667550,"body_markdown":"@Jan To summarize the duplicate: Java is **always** _pass-by-value_. This is straightforward for primitive types; their values are just copied. But for reference types, the value being passed is the _reference_ itself. So yes, when you pass an object to a method, the reference to that object is copied, so that you now have two references to the same object in memory. _Reassigning_ one of the references will not reassign the other. However, so long as both reference the same object, modifications made to that object can be seen via both the references.","body":"@Jan To summarize the duplicate: Java is <b>always</b> <i>pass-by-value</i>. This is straightforward for primitive types; their values are just copied. But for reference types, the value being passed is the <i>reference</i> itself. So yes, when you pass an object to a method, the reference to that object is copied, so that you now have two references to the same object in memory. <i>Reassigning</i> one of the references will not reassign the other. However, so long as both reference the same object, modifications made to that object can be seen via both the references."},{"owner":{"account_id":19431837,"reputation":47,"user_id":14212075,"display_name":"Jan"},"score":0,"creation_date":1692770745,"post_id":76958359,"comment_id":135667859,"body_markdown":"@Slaw Thanks for your answer. I think I do understand it now. May I ask you, how you know about things like that? I often have questions about such details and why things are done the way they are done. Sometimes it&#39;s hard to finde answers to these questions. Is there any source that you could suggest? Maybe the language specification?","body":"@Slaw Thanks for your answer. I think I do understand it now. May I ask you, how you know about things like that? I often have questions about such details and why things are done the way they are done. Sometimes it&#39;s hard to finde answers to these questions. Is there any source that you could suggest? Maybe the language specification?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1692771642,"post_id":76958359,"comment_id":135667991,"body_markdown":"In code like `String b = &quot;String b&quot;`, think conceptually of the reference variable `b` as *not* holding a `String` object, but as holding a memory address, like an integer number, where the `String` object lives. Then saying &quot;a reference is passed by value&quot; might make more sense. After the line `someString = b` executes, both `someString` and `b` now hold the very same memory address, the same integer number, and both vars can be used to access the same single object living at that address. The catch is that in Java, unlike in C, we programmers never see that memory address directly.","body":"In code like <code>String b = &quot;String b&quot;</code>, think conceptually of the reference variable <code>b</code> as <i>not</i> holding a <code>String</code> object, but as holding a memory address, like an integer number, where the <code>String</code> object lives. Then saying &quot;a reference is passed by value&quot; might make more sense. After the line <code>someString = b</code> executes, both <code>someString</code> and <code>b</code> now hold the very same memory address, the same integer number, and both vars can be used to access the same single object living at that address. The catch is that in Java, unlike in C, we programmers never see that memory address directly."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1692844846,"post_id":76958359,"comment_id":135680283,"body_markdown":"This specific information, I learned mostly from the linked duplicate. Though I will say it took me a while to truly understand what was being said, as I was a beginner at the time. What helped with understanding was mostly experience. Reading books/articles. Understanding, at least at a basic level, how computers work (e.g., how objects are stored in memory, how addresses work, how stacks work, etc.). Recognizing that a lot of these concepts are, well... _conceptual_ (i.e., not language specific). University helped a lot, as courses will teach you things you didn&#39;t know you needed to know.","body":"This specific information, I learned mostly from the linked duplicate. Though I will say it took me a while to truly understand what was being said, as I was a beginner at the time. What helped with understanding was mostly experience. Reading books/articles. Understanding, at least at a basic level, how computers work (e.g., how objects are stored in memory, how addresses work, how stacks work, etc.). Recognizing that a lot of these concepts are, well... <i>conceptual</i> (i.e., not language specific). University helped a lot, as courses will teach you things you didn&#39;t know you needed to know."}],"owner":{"account_id":19431837,"reputation":47,"user_id":14212075,"display_name":"Jan"},"comment_count":8,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1692767831,"answer_count":0,"score":1,"last_activity_date":1692766412,"creation_date":1692766412,"question_id":76958359,"body_markdown":"I am trying to understand how exactly method parameters are passed in Java.\r\n\r\nI was able to figure out that java only uses pass by value. I understand how this works for primitive types (like int) but I am a little confused about reference types.\r\n\r\nI think that in Java we don&#39;t pass objects but object references. But in this case I don&#39;t really understand what&#39;s going on in this code example:\r\n\r\n```\r\npublic class test {\r\n\r\n\tstatic String a = &quot;String a&quot;;\r\n\tstatic String b = &quot;String b&quot;;\r\n\t\r\n\tpublic static void main(String[] args) {\r\n        \tSystem.out.println(a);     //expected String a\r\n\t\tdoSomething(a);\r\n\t\tSystem.out.println(a);     //expected String b\r\n\t}\r\n\t\r\n\tstatic void doSomething(String someString) {\r\n\t\tsomeString = b;\r\n\t}\r\n}\r\n```\r\n\r\nI know that this is anything but good practice but I am only using this example to understand what&#39;s going on.\r\n\r\nSo, basically be calling the method doSomething, I am passing a reference to a String object (the reference is stored in the variable called a). But then I try to change this reference inside the method to reference another String object. However, this does not work.\r\n\r\nI somehow just assumed that parameters in Java work the same way as io-parameters in pascal procedures (there are no return types, instead you just reassign a pass by reference parameter).  That doesn&#39;t seem to be right.\r\n\r\nThe only way I can explain this to myself is, that **when calling a method, java does not pass the actual object reference but instead passes a &#39;copy&#39; of the reference wich points to the same object** (same object but different pointers). Can anybody confirm if am right with this or tell please me, what actually happens here?\r\n\r\nI would really appreciate your help.","title":"How are object references passed to methods in Java","body":"<p>I am trying to understand how exactly method parameters are passed in Java.</p>\n<p>I was able to figure out that java only uses pass by value. I understand how this works for primitive types (like int) but I am a little confused about reference types.</p>\n<p>I think that in Java we don't pass objects but object references. But in this case I don't really understand what's going on in this code example:</p>\n<pre><code>public class test {\n\n    static String a = &quot;String a&quot;;\n    static String b = &quot;String b&quot;;\n    \n    public static void main(String[] args) {\n            System.out.println(a);     //expected String a\n        doSomething(a);\n        System.out.println(a);     //expected String b\n    }\n    \n    static void doSomething(String someString) {\n        someString = b;\n    }\n}\n</code></pre>\n<p>I know that this is anything but good practice but I am only using this example to understand what's going on.</p>\n<p>So, basically be calling the method doSomething, I am passing a reference to a String object (the reference is stored in the variable called a). But then I try to change this reference inside the method to reference another String object. However, this does not work.</p>\n<p>I somehow just assumed that parameters in Java work the same way as io-parameters in pascal procedures (there are no return types, instead you just reassign a pass by reference parameter).  That doesn't seem to be right.</p>\n<p>The only way I can explain this to myself is, that <strong>when calling a method, java does not pass the actual object reference but instead passes a 'copy' of the reference wich points to the same object</strong> (same object but different pointers). Can anybody confirm if am right with this or tell please me, what actually happens here?</p>\n<p>I would really appreciate your help.</p>\n"},{"tags":["java","insertion-sort"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1641115173,"post_id":70554832,"comment_id":124721351,"body_markdown":"you search from `i-1` to `0`, so in decrease way, j should go down so","body":"you search from <code>i-1</code> to <code>0</code>, so in decrease way, j should go down so"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1641115421,"post_id":70554832,"comment_id":124721382,"body_markdown":"As opposed to what? If you didn&#39;t decrease `j` it would be an endless loop.","body":"As opposed to what? If you didn&#39;t decrease <code>j</code> it would be an endless loop."}],"answers":[{"tags":[],"owner":{"account_id":29235433,"reputation":1,"user_id":22398163,"display_name":"MANEESH BHASKAR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692765872,"creation_date":1692531292,"answer_id":76939192,"question_id":70554832,"body_markdown":"Let&#39;s consider an array of 12,45,51,23,19,8.\r\nNote that the sub-array 12,45,51 is already sorted. \r\n23 should be placed next to 12.\r\nTo place 23 next to 12 we need to move the positions of 45 and 51\r\n\r\n    // In Case of i=3 \r\n    key=23\r\n    j=2\r\n\r\nGoes to inside `while` loop fist time at the end the\r\n\r\n    array=12,45,51,51,19,8\r\n    key=23\r\n    j=1\r\n\r\nSecond time goes in inside the `while` loop at the end \r\n\r\n    array=12,45,45,51,19,8\r\n    key=23\r\n    j=0\r\n\r\nand ends the `while` loop.\r\n\r\n    arr[j + 1] = key; //this statement gets executed\r\n\r\nAfter that the array =12,23,45,51,19,8.\r\nHence `j--` statement helps in changing the position of elements in the array.\r\n","title":"Insertion sort: Why we decrease j by one?","body":"<p>Let's consider an array of 12,45,51,23,19,8.\nNote that the sub-array 12,45,51 is already sorted.\n23 should be placed next to 12.\nTo place 23 next to 12 we need to move the positions of 45 and 51</p>\n<pre><code>// In Case of i=3 \nkey=23\nj=2\n</code></pre>\n<p>Goes to inside <code>while</code> loop fist time at the end the</p>\n<pre><code>array=12,45,51,51,19,8\nkey=23\nj=1\n</code></pre>\n<p>Second time goes in inside the <code>while</code> loop at the end</p>\n<pre><code>array=12,45,45,51,19,8\nkey=23\nj=0\n</code></pre>\n<p>and ends the <code>while</code> loop.</p>\n<pre><code>arr[j + 1] = key; //this statement gets executed\n</code></pre>\n<p>After that the array =12,23,45,51,19,8.\nHence <code>j--</code> statement helps in changing the position of elements in the array.</p>\n"}],"owner":{"account_id":23804426,"reputation":11,"user_id":17814157,"display_name":"Ali Ozan Başoğul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692765872,"creation_date":1641114986,"question_id":70554832,"body_markdown":"Why we decrease j by one (j--)? What does it do actually?\r\n\r\n    void sort(int arr[])\r\n    {\r\n        int n = arr.length;\r\n        for (int i = 1; i &lt; n; ++i) {\r\n            int key = arr[i];\r\n            int j = i - 1;\r\n\r\n            while (j &gt;= 0 &amp;&amp; arr[j] &gt; key) {\r\n                arr[j + 1] = arr[j];\r\n                j--;\r\n            }\r\n            arr[j + 1] = key;\r\n        }\r\n    }","title":"Insertion sort: Why we decrease j by one?","body":"<p>Why we decrease j by one (j--)? What does it do actually?</p>\n<pre><code>void sort(int arr[])\n{\n    int n = arr.length;\n    for (int i = 1; i &lt; n; ++i) {\n        int key = arr[i];\n        int j = i - 1;\n\n        while (j &gt;= 0 &amp;&amp; arr[j] &gt; key) {\n            arr[j + 1] = arr[j];\n            j--;\n        }\n        arr[j + 1] = key;\n    }\n}\n</code></pre>\n"},{"tags":["java","json","spring-boot","jackson"],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692763309,"creation_date":1692763309,"answer_id":76958187,"question_id":76958050,"body_markdown":"```java\r\n@Getter\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\n@RequiredArgsConstructor(access = AccessLevel.PRIVATE)\r\npublic final class StudentId {\r\n\r\n    private final long value;\r\n\r\n    @JsonCreator\r\n    public static StudentId from(@JsonProperty(&quot;studentId&quot;) long value) {\r\n        return new StudentId(value);\r\n    }\r\n\r\n    @JsonCreator\r\n    public static StudentId from(@JsonProperty(&quot;studentId&quot;) String value) {\r\n        return from(Long.parseLong(value));\r\n    }\r\n\r\n    @JsonCreator\r\n    public static StudentId from(@JsonProperty(&quot;studentId&quot;) BigDecimal value) {\r\n        return from(value.longValue());\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis class successfully parse following json:\r\n```json\r\n{\r\n   &quot;type&quot;: &quot;undergrad&quot;,\r\n   &quot;studentId&quot;: 501043\r\n}\r\n```","title":"Cannot convert value of type &#39;java.lang.String&#39; to required type - java.lang.IllegalStateException:","body":"<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@JsonIgnoreProperties(ignoreUnknown = true)\n@RequiredArgsConstructor(access = AccessLevel.PRIVATE)\npublic final class StudentId {\n\n    private final long value;\n\n    @JsonCreator\n    public static StudentId from(@JsonProperty(&quot;studentId&quot;) long value) {\n        return new StudentId(value);\n    }\n\n    @JsonCreator\n    public static StudentId from(@JsonProperty(&quot;studentId&quot;) String value) {\n        return from(Long.parseLong(value));\n    }\n\n    @JsonCreator\n    public static StudentId from(@JsonProperty(&quot;studentId&quot;) BigDecimal value) {\n        return from(value.longValue());\n    }\n\n}\n</code></pre>\n<p>This class successfully parse following json:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;type&quot;: &quot;undergrad&quot;,\n   &quot;studentId&quot;: 501043\n}\n</code></pre>\n"}],"owner":{"account_id":27022227,"reputation":9,"user_id":20580038,"display_name":"Kalhara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76958187,"answer_count":1,"score":0,"last_activity_date":1692763309,"creation_date":1692760958,"question_id":76958050,"body_markdown":"I am working on a spring boot application and trying to deserialize a json using jackson.\r\n\r\nI get the below error when I try to do it.\r\n\r\n    Caused by: org.springframework.beans.ConversionNotSupportedException: Failed to convert property value of type &#39;java.lang.String&#39; to required type &#39;student.StudentId&#39; for property &#39;student.ref.null&#39;; Cannot convert value of type &#39;java.lang.String&#39; to required type &#39;student.StudentId&#39;: no matching editors or conversion strategy found\r\n\tat org.springframework.beans.AbstractNestablePropertyAccessor.convertIfNecessary(AbstractNestablePropertyAccessor.java:594)\r\n\tat org.springframework.beans.AbstractNestablePropertyAccessor.getPropertyValue(AbstractNestablePropertyAccessor.java:682)\r\n\t... 104 common frames omitted\r\n    Caused by: java.lang.IllegalStateException: Cannot convert value of type &#39;java.lang.String&#39; to required type &#39;student.StudentId&#39;: no matching editors or conversion strategy found\r\n    \tat org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:262)\r\n    \tat org.springframework.beans.AbstractNestablePropertyAccessor.convertIfNecessary(AbstractNestablePropertyAccessor.java:589)\r\n    \t... 105 common frames omitted\r\n\r\n I do not understand why this happens since the StudentId class has a method to convert String to a StudentId.\r\n\r\n    @Data\r\n    @Getter(onMethod_ = {@JsonValue})\r\n    @RequiredArgsConstructor(access = AccessLevel.PRIVATE)\r\n\r\n    public class StudentId {\r\n        private final long value;\r\n        @JsonCreator\r\n        public static StudentId from(long value) {\r\n            return new StudentId(value);\r\n        }\r\n    \r\n        @JsonCreator\r\n        public static StudentId from(String value) {\r\n            long longValue = Long.parseLong(value);\r\n            return StudentId.from(longValue);\r\n        }\r\n    \r\n        @JsonCreator\r\n        public static StudentId from(BigDecimal value) {\r\n            long longValue = value.longValue();\r\n            return StudentId.from(longValue);\r\n        }\r\n    \r\n        public String stringValue() {\r\n            return String.valueOf(value);\r\n        }\r\n    }\r\n\r\nBelow is the related part of the json, which I am trying to convert. To begin with,the StudentId here is a long value, which should have been handled by the method which handles the long value. So I am not sure where this goes wrong.\r\n\r\n    &quot;data&quot;:{\r\n         &quot;Student1&quot;:{\r\n            &quot;type&quot;:&quot;undergrad&quot;,\r\n            &quot;studentId&quot;:501043\r\n          }\r\n    }\r\n\r\nCould anyone please point out what I am doing wrong or how to fix this ?\r\n\r\nThanks in advance.","title":"Cannot convert value of type &#39;java.lang.String&#39; to required type - java.lang.IllegalStateException:","body":"<p>I am working on a spring boot application and trying to deserialize a json using jackson.</p>\n<p>I get the below error when I try to do it.</p>\n<pre><code>Caused by: org.springframework.beans.ConversionNotSupportedException: Failed to convert property value of type 'java.lang.String' to required type 'student.StudentId' for property 'student.ref.null'; Cannot convert value of type 'java.lang.String' to required type 'student.StudentId': no matching editors or conversion strategy found\nat org.springframework.beans.AbstractNestablePropertyAccessor.convertIfNecessary(AbstractNestablePropertyAccessor.java:594)\nat org.springframework.beans.AbstractNestablePropertyAccessor.getPropertyValue(AbstractNestablePropertyAccessor.java:682)\n... 104 common frames omitted\nCaused by: java.lang.IllegalStateException: Cannot convert value of type 'java.lang.String' to required type 'student.StudentId': no matching editors or conversion strategy found\n    at org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:262)\n    at org.springframework.beans.AbstractNestablePropertyAccessor.convertIfNecessary(AbstractNestablePropertyAccessor.java:589)\n    ... 105 common frames omitted\n</code></pre>\n<p>I do not understand why this happens since the StudentId class has a method to convert String to a StudentId.</p>\n<pre><code>@Data\n@Getter(onMethod_ = {@JsonValue})\n@RequiredArgsConstructor(access = AccessLevel.PRIVATE)\n\npublic class StudentId {\n    private final long value;\n    @JsonCreator\n    public static StudentId from(long value) {\n        return new StudentId(value);\n    }\n\n    @JsonCreator\n    public static StudentId from(String value) {\n        long longValue = Long.parseLong(value);\n        return StudentId.from(longValue);\n    }\n\n    @JsonCreator\n    public static StudentId from(BigDecimal value) {\n        long longValue = value.longValue();\n        return StudentId.from(longValue);\n    }\n\n    public String stringValue() {\n        return String.valueOf(value);\n    }\n}\n</code></pre>\n<p>Below is the related part of the json, which I am trying to convert. To begin with,the StudentId here is a long value, which should have been handled by the method which handles the long value. So I am not sure where this goes wrong.</p>\n<pre><code>&quot;data&quot;:{\n     &quot;Student1&quot;:{\n        &quot;type&quot;:&quot;undergrad&quot;,\n        &quot;studentId&quot;:501043\n      }\n}\n</code></pre>\n<p>Could anyone please point out what I am doing wrong or how to fix this ?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":14902543,"reputation":367,"user_id":10760963,"display_name":"sam3131"},"score":0,"creation_date":1577626528,"post_id":59519739,"comment_id":105210657,"body_markdown":"for your bean Container you can use the Order annotation with the value Ordered.LOWEST_PRECEDENCE","body":"for your bean Container you can use the Order annotation with the value Ordered.LOWEST_PRECEDENCE"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1577627088,"post_id":59519739,"comment_id":105210816,"body_markdown":"Don&#39;t inject the ApplicationContext in the container. Inject a List&lt;InterfaceA&gt; directly.","body":"Don&#39;t inject the ApplicationContext in the container. Inject a List&lt;InterfaceA&gt; directly."},{"owner":{"account_id":6350494,"reputation":127,"user_id":4929714,"display_name":"Naomi"},"score":0,"creation_date":1577627647,"post_id":59519739,"comment_id":105210977,"body_markdown":"How am I supposed to Inject a List&lt;InterfaceA&gt; directly?@JB Nizet","body":"How am I supposed to Inject a List&lt;InterfaceA&gt; directly?@JB Nizet"},{"owner":{"account_id":11928123,"reputation":657,"user_id":8728821,"display_name":"Sagar Ahuja"},"score":0,"creation_date":1577628741,"post_id":59519739,"comment_id":105211284,"body_markdown":"You can use `@DependsOn(value = {&quot;beanA&quot;, &quot;beanB&quot;})` on you `Container` class.","body":"You can use <code>@DependsOn(value = {&quot;beanA&quot;, &quot;beanB&quot;})</code> on you <code>Container</code> class."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1577630995,"post_id":59519739,"comment_id":105211838,"body_markdown":"The same way you inject anything else: @Autowired List&lt;InterfaceA&gt; interfaceAs; (or preferrably, using constructor injection, the same way as you would inject anything else)","body":"The same way you inject anything else: @Autowired List&lt;InterfaceA&gt; interfaceAs; (or preferrably, using constructor injection, the same way as you would inject anything else)"},{"owner":{"account_id":6350494,"reputation":127,"user_id":4929714,"display_name":"Naomi"},"score":0,"creation_date":1577631781,"post_id":59519739,"comment_id":105212049,"body_markdown":"@Autowired List&lt;InterfaceA&gt; interfaceAs; can get all beans of interfaceA without writing other code? It sounds crazy.","body":"@Autowired List&lt;InterfaceA&gt; interfaceAs; can get all beans of interfaceA without writing other code? It sounds crazy."},{"owner":{"account_id":6350494,"reputation":127,"user_id":4929714,"display_name":"Naomi"},"score":0,"creation_date":1577632272,"post_id":59519739,"comment_id":105212186,"body_markdown":"Spring is indeed amzaing! I believe what you said now.@JB Nizet","body":"Spring is indeed amzaing! I believe what you said now.@JB Nizet"}],"answers":[{"tags":[],"owner":{"account_id":11928123,"reputation":657,"user_id":8728821,"display_name":"Sagar Ahuja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577629239,"creation_date":1577629239,"answer_id":59520197,"question_id":59519739,"body_markdown":"  \r\n 1. You can use `@DependsOn(value = {&quot;beanA&quot;, &quot;beanB&quot;})` on you `Container` class.\r\n \r\n 2. And Make your `Container` class implement `InitializingBean` interface and override the `afterPropertiesSet()` method.\r\n\r\n 3. And then move the logic that you&#39;ve written in `init` method to `afterPropertiesSet()` method.","title":"How to ensure a set of Spring boot beans implementing an interface being first initalized before their container being initalized?","body":"<ol>\n<li><p>You can use <code>@DependsOn(value = {\"beanA\", \"beanB\"})</code> on you <code>Container</code> class.</p></li>\n<li><p>And Make your <code>Container</code> class implement <code>InitializingBean</code> interface and override the <code>afterPropertiesSet()</code> method.</p></li>\n<li><p>And then move the logic that you've written in <code>init</code> method to <code>afterPropertiesSet()</code> method.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12488260,"reputation":9978,"user_id":9090751,"display_name":"Mafor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1577632943,"creation_date":1577631854,"answer_id":59520556,"question_id":59519739,"body_markdown":"You can inject a list with all the components implementing `interfaceA`:\r\n\r\n```\r\n@Componet\r\nclass Container{\r\n\r\n    @Autowired\r\n    List&lt;interfaceA&gt; container;\r\n\r\n    @PostConstruct\r\n    public void init()\r\n    {\r\n        for(obj : container){\r\n            obj.process();\r\n        }\r\n    }\r\n}\r\n```\r\nIn such a case you don&#39;t need to worry about components creation order, Spring is smart enough to make it right.\r\n\r\nComponents scanning/initialization is a two-step process. First, Spring collects all beans definitions and builds a dependency graph (without creating any beans). After that, it knows in what order the beans should be initialized. When you inject `interfaceA` beans as a list, Spring knows, that the `Container` instance depends on them and will initialize them first. It wouldn&#39;t be the case if you obtained the components manually from the `ApplicationContext` (the dependency would be hidden) and you would need @DependsOn annotations on the `interfaceA` components. ","title":"How to ensure a set of Spring boot beans implementing an interface being first initalized before their container being initalized?","body":"<p>You can inject a list with all the components implementing <code>interfaceA</code>:</p>\n\n<pre><code>@Componet\nclass Container{\n\n    @Autowired\n    List&lt;interfaceA&gt; container;\n\n    @PostConstruct\n    public void init()\n    {\n        for(obj : container){\n            obj.process();\n        }\n    }\n}\n</code></pre>\n\n<p>In such a case you don't need to worry about components creation order, Spring is smart enough to make it right.</p>\n\n<p>Components scanning/initialization is a two-step process. First, Spring collects all beans definitions and builds a dependency graph (without creating any beans). After that, it knows in what order the beans should be initialized. When you inject <code>interfaceA</code> beans as a list, Spring knows, that the <code>Container</code> instance depends on them and will initialize them first. It wouldn't be the case if you obtained the components manually from the <code>ApplicationContext</code> (the dependency would be hidden) and you would need @DependsOn annotations on the <code>interfaceA</code> components. </p>\n"},{"tags":[],"owner":{"account_id":15022068,"reputation":49,"user_id":10843233,"display_name":"Reza Gholamzad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692763228,"creation_date":1692537089,"answer_id":76939541,"question_id":59519739,"body_markdown":"In addition to the mentioned points, you can use `SpringApplicationRunListener` interface for config `ConfigurableBootstrapContext` and `ConfigurableApplicationContext` in different application life cycles.","title":"How to ensure a set of Spring boot beans implementing an interface being first initalized before their container being initalized?","body":"<p>In addition to the mentioned points, you can use <code>SpringApplicationRunListener</code> interface for config <code>ConfigurableBootstrapContext</code> and <code>ConfigurableApplicationContext</code> in different application life cycles.</p>\n"}],"owner":{"account_id":6350494,"reputation":127,"user_id":4929714,"display_name":"Naomi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":955,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59520556,"answer_count":3,"score":1,"last_activity_date":1692763228,"creation_date":1577625197,"question_id":59519739,"body_markdown":"I have a set of beans both implementing an interface\r\n\r\n    @Componet\r\n    class BeanA implements interfaceA{\r\n       public void process(){\r\n       }\r\n    }\r\n\r\n    @Componet\r\n    class BeanB implements interfaceA{\r\n       public void process(){\r\n       }\r\n    }\r\nI want to get all beans of interfaceA and apply their process methods sequentially, so I have a container to collect these beans.\r\n\r\n    @Componet\r\n    class Container{\r\n    \r\n    List&lt;interfaceA&gt; container;\r\n    \r\n    @Autowired\r\n    private ApplicationContext applicationContext;    \r\n\r\n\t@PostConstruct\r\n\tpublic void init()\r\n\t{\r\n\t\tcontainer=applicationCOntext.getBeansOfType(interfaceA.class).values().stream().collect(Collections.list());\r\n\t\tfor(obj:container){\r\n\t\t\tobj.process();\r\n\t\t}\r\n\t}\r\n\r\nSo how can I ensure Container be initialized after all beans of interfaceA, so I can get all beans of interfaceA in init() method of Container? \r\n\r\nOr put it another way, can applicationContext.getBeansOfType always get all beans of interfaceA? what if Container get initialzed first？\r\n\r\nBy the way, Container does not have to be a componet.\r\n\r\n","title":"How to ensure a set of Spring boot beans implementing an interface being first initalized before their container being initalized?","body":"<p>I have a set of beans both implementing an interface</p>\n\n<pre><code>@Componet\nclass BeanA implements interfaceA{\n   public void process(){\n   }\n}\n\n@Componet\nclass BeanB implements interfaceA{\n   public void process(){\n   }\n}\n</code></pre>\n\n<p>I want to get all beans of interfaceA and apply their process methods sequentially, so I have a container to collect these beans.</p>\n\n<pre><code>@Componet\nclass Container{\n\nList&lt;interfaceA&gt; container;\n\n@Autowired\nprivate ApplicationContext applicationContext;    \n\n@PostConstruct\npublic void init()\n{\n    container=applicationCOntext.getBeansOfType(interfaceA.class).values().stream().collect(Collections.list());\n    for(obj:container){\n        obj.process();\n    }\n}\n</code></pre>\n\n<p>So how can I ensure Container be initialized after all beans of interfaceA, so I can get all beans of interfaceA in init() method of Container? </p>\n\n<p>Or put it another way, can applicationContext.getBeansOfType always get all beans of interfaceA? what if Container get initialzed first？</p>\n\n<p>By the way, Container does not have to be a componet.</p>\n"},{"tags":["java","mysql","select","dynamic","tablename"],"comments":[{"owner":{"account_id":40721,"reputation":357278,"user_id":118068,"display_name":"Marc B"},"score":0,"creation_date":1391979432,"post_id":21664925,"comment_id":32747105,"body_markdown":"mysql placeholders can only replace VALUES. you cannot use placeholders for table/field names, or other sql &quot;meta&quot; directives. e.g. `sql = &#39;? ? ? ?&#39; -&gt; &#39;select&#39;, &#39;*&#39;, &#39;from&#39;, &#39;mytable&#39;` is outright illegal. none of those four things are placeholding a VALUE","body":"mysql placeholders can only replace VALUES. you cannot use placeholders for table/field names, or other sql &quot;meta&quot; directives. e.g. <code>sql = &#39;? ? ? ?&#39; -&gt; &#39;select&#39;, &#39;*&#39;, &#39;from&#39;, &#39;mytable&#39;</code> is outright illegal. none of those four things are placeholding a VALUE"},{"owner":{"account_id":3859648,"reputation":413,"user_id":3197695,"accept_rate":60,"display_name":"Nawaz"},"score":0,"creation_date":1391979659,"post_id":21664925,"comment_id":32747186,"body_markdown":"Then what would be a way out @Marc-B. Thanks for prompt reply","body":"Then what would be a way out @Marc-B. Thanks for prompt reply"}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299828,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1641027973,"creation_date":1391979671,"answer_id":21664992,"question_id":21664925,"body_markdown":"When you prepare a statement, the database constructs an execution plan, which it cannot do if the table is not there. In other words, placehodlers can only be used for **values**, not for object names or reserved words. You&#39;d have to rely on Java to construct your string in such a case:\r\n\r\n    String sql = &quot;SELECT * FROM `&quot; + tblName + &quot;` WHERE Patient_ID = ?&quot;;\r\n    \r\n    pst = conn.prepareStatement(sql);\r\n    pst.setLong(1, key);\r\n    ResultSet rs = pst.executeQuery();","title":"How to use dynamic table name in SELECT query using JDBC","body":"<p>When you prepare a statement, the database constructs an execution plan, which it cannot do if the table is not there. In other words, placehodlers can only be used for <strong>values</strong>, not for object names or reserved words. You'd have to rely on Java to construct your string in such a case:</p>\n<pre><code>String sql = &quot;SELECT * FROM `&quot; + tblName + &quot;` WHERE Patient_ID = ?&quot;;\n\npst = conn.prepareStatement(sql);\npst.setLong(1, key);\nResultSet rs = pst.executeQuery();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18239208,"reputation":149,"user_id":13276541,"display_name":"Ahmed Mera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640985144,"creation_date":1596462549,"answer_id":63230697,"question_id":21664925,"body_markdown":"    String sqlStatment = &quot;SELECT * FROM &quot; + tableName + &quot; WHERE Patient_ID = ?&quot;;\r\n    \r\n    PreparedStatement preparedStatement = conn.prepareStatement(sqlStatment);\r\n    preparedStatement.setint(1, patientId);\r\n    ResultSet resultSet = preparedStatement.executeQuery();","title":"How to use dynamic table name in SELECT query using JDBC","body":"<pre><code>String sqlStatment = &quot;SELECT * FROM &quot; + tableName + &quot; WHERE Patient_ID = ?&quot;;\n\nPreparedStatement preparedStatement = conn.prepareStatement(sqlStatment);\npreparedStatement.setint(1, patientId);\nResultSet resultSet = preparedStatement.executeQuery();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23451853,"reputation":1,"user_id":17507910,"display_name":"subani"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1692763177,"creation_date":1637844999,"answer_id":70111521,"question_id":21664925,"body_markdown":"```java\r\npublic void getByIdEmployer() throws SQLException {\r\n    Connection con = null;\r\n\ttry {\r\n\t\tcon = jdbcUtil.connectionDtls();\r\n\t\tPreparedStatement ptst = con.prepareStatement(getById);\r\n\t\tptst.setInt(1, 4);\r\n\t\tResultSet res = ptst.executeQuery();\r\n\t\twhile (res.next()) {\r\n\t\t\tint empid = res.getInt(1);\r\n\t\t\tSystem.out.println(empid);\r\n\t\t\tString name = res.getString(2);\r\n\t\t\tSystem.out.println(name);\r\n\t\t\tint salary = res.getInt(3);\r\n\t\t\tSystem.out.println(salary);\r\n\t\t\tString location = res.getString(4);\r\n\t\t\tSystem.out.println(location);\r\n\t\t}\r\n\t} catch (SQLException e) {\r\n\t\te.printStackTrace();\r\n\t} finally {\r\n\t\tcon.close();\r\n\t}\r\n}\r\n```\r\n","title":"How to use dynamic table name in SELECT query using JDBC","body":"<pre class=\"lang-java prettyprint-override\"><code>public void getByIdEmployer() throws SQLException {\n    Connection con = null;\n    try {\n        con = jdbcUtil.connectionDtls();\n        PreparedStatement ptst = con.prepareStatement(getById);\n        ptst.setInt(1, 4);\n        ResultSet res = ptst.executeQuery();\n        while (res.next()) {\n            int empid = res.getInt(1);\n            System.out.println(empid);\n            String name = res.getString(2);\n            System.out.println(name);\n            int salary = res.getInt(3);\n            System.out.println(salary);\n            String location = res.getString(4);\n            System.out.println(location);\n        }\n    } catch (SQLException e) {\n        e.printStackTrace();\n    } finally {\n        con.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3859648,"reputation":413,"user_id":3197695,"accept_rate":60,"display_name":"Nawaz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15223,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":21664992,"answer_count":3,"score":3,"last_activity_date":1692763177,"creation_date":1391979345,"question_id":21664925,"body_markdown":"I have 5 or table table to query from \\\r\n\r\nmy syntax i like this\r\n\r\n    String sql2 = &quot;SELECT * FROM ? WHERE Patient_ID = ?&quot;;\r\n    \r\n    pst = conn.prepareStatement(sql2);\r\n            \r\n            System.out.println(&quot;SQL before values are set &quot;+sql2);\r\n            System.out.println(&quot;The values of table/test name recieved in TestPrint stage 1 &quot;+tblName);\r\n            System.out.println(&quot;The values of test name recieved in TestPrint stage 1 &quot;+key);\r\n            // values are outputted correctly but are not getting set in the query\r\n            \r\n            pst.setString(1, tblName);\r\n            pst.setLong(2, key);\r\n    ResultSet rs2 = pst.executeQuery(sql2);\r\n            \r\n            while(rs2.next()){\r\n                \r\n                String ID = rs2.getString(&quot;ID&quot;);\r\n                \r\n                jLabel35.setText(ID);\r\n                jLabel37.setText(ID);\r\n                jLabel38.setText(ID);\r\n           // them print command is initiated to print the panel\r\n    }\r\n\r\nThe problem is when i run this i get an error saying &quot;.....you have and error in SQL syntax near ? WHERE Patient_ID = ?&quot;\r\n\r\nWhen i output the sql using system.out.println(sql2);\r\n\r\nvalues are not set in sql2 \r\n","title":"How to use dynamic table name in SELECT query using JDBC","body":"<p>I have 5 or table table to query from \\</p>\n\n<p>my syntax i like this</p>\n\n<pre><code>String sql2 = \"SELECT * FROM ? WHERE Patient_ID = ?\";\n\npst = conn.prepareStatement(sql2);\n\n        System.out.println(\"SQL before values are set \"+sql2);\n        System.out.println(\"The values of table/test name recieved in TestPrint stage 1 \"+tblName);\n        System.out.println(\"The values of test name recieved in TestPrint stage 1 \"+key);\n        // values are outputted correctly but are not getting set in the query\n\n        pst.setString(1, tblName);\n        pst.setLong(2, key);\nResultSet rs2 = pst.executeQuery(sql2);\n\n        while(rs2.next()){\n\n            String ID = rs2.getString(\"ID\");\n\n            jLabel35.setText(ID);\n            jLabel37.setText(ID);\n            jLabel38.setText(ID);\n       // them print command is initiated to print the panel\n}\n</code></pre>\n\n<p>The problem is when i run this i get an error saying \".....you have and error in SQL syntax near ? WHERE Patient_ID = ?\"</p>\n\n<p>When i output the sql using system.out.println(sql2);</p>\n\n<p>values are not set in sql2 </p>\n"},{"tags":["java","linux","jna"],"comments":[{"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1692768981,"post_id":76958165,"comment_id":135667632,"body_markdown":"Is it .so or .csv? Your question is confusing. Is this a JNA problem or a Java classpath problem? Your question is confusing.  Some code showing specifically what you&#39;re trying to do would be helpful.","body":"Is it .so or .csv? Your question is confusing. Is this a JNA problem or a Java classpath problem? Your question is confusing.  Some code showing specifically what you&#39;re trying to do would be helpful."},{"owner":{"account_id":16910467,"reputation":1,"user_id":12229632,"display_name":"Oo GOle"},"score":0,"creation_date":1692771302,"post_id":76958165,"comment_id":135667939,"body_markdown":"You can click on the image link above to view the specific code. I need to call the &quot;.so&quot; file, which in turn requires accessing a &quot;.csv&quot; file. Both of these files are located in the &quot;resources&quot; directory. I&#39;m unsure about the exact location where I might have made a mistake in specifying the paths, leading to the &quot;Error: failed to open file&quot; message.","body":"You can click on the image link above to view the specific code. I need to call the &quot;.so&quot; file, which in turn requires accessing a &quot;.csv&quot; file. Both of these files are located in the &quot;resources&quot; directory. I&#39;m unsure about the exact location where I might have made a mistake in specifying the paths, leading to the &quot;Error: failed to open file&quot; message."},{"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1692808994,"post_id":76958165,"comment_id":135675754,"body_markdown":"Please don&#39;t post code as images.  From a quick glance it looks like your path begins with a slash which means file system absolute; when extracting from a jar if you want it found on class path you should not have that leading slash.","body":"Please don&#39;t post code as images.  From a quick glance it looks like your path begins with a slash which means file system absolute; when extracting from a jar if you want it found on class path you should not have that leading slash."},{"owner":{"account_id":6814076,"reputation":12697,"user_id":5295429,"display_name":"Oo.oO"},"score":0,"creation_date":1692904538,"post_id":76958165,"comment_id":135691469,"body_markdown":"Take a look at this workaround in case you want to put stuff inside `JAR` file and then access it from the native code: https://github.com/mkowsiak/jnicookbook/tree/master/recipes/recipeNo035","body":"Take a look at this workaround in case you want to put stuff inside <code>JAR</code> file and then access it from the native code: <a href=\"https://github.com/mkowsiak/jnicookbook/tree/master/recipes/recipeNo035\" rel=\"nofollow noreferrer\">github.com/mkowsiak/jnicookbook/tree/master/recipes/recipeNo&zwnj;&#8203;035</a>"}],"owner":{"account_id":16910467,"reputation":1,"user_id":12229632,"display_name":"Oo GOle"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692762874,"creation_date":1692762874,"question_id":76958165,"body_markdown":"I will be using JNA to load multiple &quot;.so&quot; files in a Spring Boot project. These &quot;.so&quot; files also need to access &quot;.csv&quot; files in the same directory. I&#39;ve placed them in a folder under the &quot;resources&quot; directory. However, when I package the project into a JAR file, I receive an error message saying &quot;Error: failed to open file.&quot; I&#39;d like to inquire whether the &quot;.so&quot; and &quot;.csv&quot; files can only be placed outside the JAR package. If they are inside the JAR package, how should I go about accessing them?\r\n[enter image description here](https://i.stack.imgur.com/de1Yf.jpg)\r\n\r\nI&#39;m not sure if it&#39;s due to my technical limitations or if &quot;.so&quot; files are generally meant to be loaded externally.","title":"jna calls the so file in the jar package","body":"<p>I will be using JNA to load multiple &quot;.so&quot; files in a Spring Boot project. These &quot;.so&quot; files also need to access &quot;.csv&quot; files in the same directory. I've placed them in a folder under the &quot;resources&quot; directory. However, when I package the project into a JAR file, I receive an error message saying &quot;Error: failed to open file.&quot; I'd like to inquire whether the &quot;.so&quot; and &quot;.csv&quot; files can only be placed outside the JAR package. If they are inside the JAR package, how should I go about accessing them?\n<a href=\"https://i.stack.imgur.com/de1Yf.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I'm not sure if it's due to my technical limitations or if &quot;.so&quot; files are generally meant to be loaded externally.</p>\n"},{"tags":["java","httpclient"],"comments":[{"owner":{"account_id":28041624,"reputation":106,"user_id":21419095,"display_name":"Petra Minaler"},"score":0,"creation_date":1692772048,"post_id":76958158,"comment_id":135668071,"body_markdown":"Which library in which version do you use?","body":"Which library in which version do you use?"},{"owner":{"account_id":29279722,"reputation":1,"user_id":22432604,"display_name":"Klay"},"score":1,"creation_date":1692779555,"post_id":76958158,"comment_id":135669435,"body_markdown":"OMG! I add ver.5.1.2. I changed version.(maybe 4.1.2?) \nNow it works well!","body":"OMG! I add ver.5.1.2. I changed version.(maybe 4.1.2?)  Now it works well!"}],"owner":{"account_id":29279722,"reputation":1,"user_id":22432604,"display_name":"Klay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692762814,"creation_date":1692762814,"question_id":76958158,"body_markdown":"Now I&#39;m using HttpClient library and I wanna download a image.jpg with http connection.\r\nThere is a problem.\r\n\r\nI can run this code,, but\r\n```\r\npublic void run() {\r\n        try {\r\n            HttpGet httpGet = new HttpGet(imageUrl);\r\n            ClassicHttpResponse response = (ClassicHttpResponse)httpClient.execute(httpGet);\r\n            HttpEntity entity = response.getEntity();\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n\r\n        }\r\n    }\r\n```\r\nI can&#39;t run this code because I can&#39;t get &quot;getEntity()&#39; method.\r\n```\r\npublic void run() {\r\n        try {\r\n            HttpGet httpGet = new HttpGet(imageUrl);\r\n            HttpResponse response = httpClient.execute(httpGet);\r\n            HttpEntity entity = response.getEntity(); // this part.\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n\r\n        }\r\n    }\r\n```\r\n\r\nI wanna get &#39;getEntity()&#39; method with HttpResponse","title":"Is there any different HttpResponse with ClassicHttpResponse?","body":"<p>Now I'm using HttpClient library and I wanna download a image.jpg with http connection.\nThere is a problem.</p>\n<p>I can run this code,, but</p>\n<pre><code>public void run() {\n        try {\n            HttpGet httpGet = new HttpGet(imageUrl);\n            ClassicHttpResponse response = (ClassicHttpResponse)httpClient.execute(httpGet);\n            HttpEntity entity = response.getEntity();\n\n        } catch (Exception e) {\n            e.printStackTrace();\n\n        }\n    }\n</code></pre>\n<p>I can't run this code because I can't get &quot;getEntity()' method.</p>\n<pre><code>public void run() {\n        try {\n            HttpGet httpGet = new HttpGet(imageUrl);\n            HttpResponse response = httpClient.execute(httpGet);\n            HttpEntity entity = response.getEntity(); // this part.\n\n        } catch (Exception e) {\n            e.printStackTrace();\n\n        }\n    }\n</code></pre>\n<p>I wanna get 'getEntity()' method with HttpResponse</p>\n"},{"tags":["java","android","flutter","gradle"],"owner":{"account_id":2197588,"reputation":11547,"user_id":1942868,"accept_rate":80,"display_name":"whitebear"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692762452,"creation_date":1692762452,"question_id":76958137,"body_markdown":"I have this error\r\n\r\n     Duplicate class com.google.ar.sceneform.lullmodel.TextureWrap found in modules jetified-core-1.21.0-runtime (com.gorisse.thomas.sceneform:core:1.21.0) and jetified-sceneform-base-1.15.0-runtime (com.google.ar.sceneform:sceneform-base:1.15.0)\r\n     Duplicate class com.google.ar.sceneform.lullmodel.VariantArrayDef found in modules jetified-core-1.21.0-runtime (com.gorisse.thomas.sceneform:core:1.21.0) and jetified-sceneform-base-1.15.0-runtime (com.google.ar.sceneform:sceneform-base:1.15.0)\r\n    .  \r\n    .\r\n    .\r\n\r\nMaybe `com.gorisse.thomas.sceneform:core:1.21.0` and `com.google.ar.sceneform:sceneform-base:1.15.0` has the same classname.\r\n\r\n\r\n\r\nI googled around and found the solution [here][1]\r\n\r\nIt suggests to use shadow plugin like this below.\r\n\r\n\r\n\r\n    plugins {\r\n       id &quot;com.github.johnrengelman.shadow&quot; version &quot;5.2.0&quot;\r\n    }\r\n    configurations {\r\n       shadowMe { transitive = false } \r\n    } \r\n    dependencies {\r\n       shadowMe &#39;foo:jar-to-shadow:1.0&#39;\r\n       compile files({tasks.shadowJar})\r\n    }\r\n    task shadowJar(type: com.github.jengelman.gradle.plugins.shadow.tasks.ShadowJar) {\r\n       archiveBaseName = &#39;shadowed-foo&#39; \r\n       relocate &#39;a.a.a.a.a&#39;, &#39;shadow.a.a.a.a&#39;\r\n       from zipTree(configurations.shadowMe.singleFile)\r\n    }\r\n\r\nHowever where should I put this in flutter project?\r\n\r\n`android/build.gradle` ,`android/app/build.gradle`, or any other place?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/59991168/duplicate-class-names-in-two-external-third-party-obfuscated-libraries\r\n\r\n\r\n\r\nmy `android/app/build.gradle` is here below\r\n\r\n    def localProperties = new Properties()\r\n    def localPropertiesFile = rootProject.file(&#39;local.properties&#39;)\r\n    if (localPropertiesFile.exists()) {\r\n        localPropertiesFile.withReader(&#39;UTF-8&#39;) { reader -&gt;\r\n            localProperties.load(reader)\r\n        }\r\n    }\r\n    \r\n    def flutterRoot = localProperties.getProperty(&#39;flutter.sdk&#39;)\r\n    if (flutterRoot == null) {\r\n        throw new GradleException(&quot;Flutter SDK not found. Define location with flutter.sdk in the local.properties file.&quot;)\r\n    }\r\n    \r\n    def flutterVersionCode = localProperties.getProperty(&#39;flutter.versionCode&#39;)\r\n    if (flutterVersionCode == null) {\r\n        flutterVersionCode = &#39;1&#39;\r\n    }\r\n    \r\n    def flutterVersionName = localProperties.getProperty(&#39;flutter.versionName&#39;)\r\n    if (flutterVersionName == null) {\r\n        flutterVersionName = &#39;1.0&#39;\r\n    }\r\n    \r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;kotlin-android&#39;\r\n    apply from: &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;\r\n    \r\n    android {\r\n        compileSdkVersion 32\r\n        ndkVersion flutter.ndkVersion\r\n    \r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n         \r\n        }\r\n    \r\n        kotlinOptions {\r\n            jvmTarget = &#39;1.8&#39;\r\n        }\r\n    \r\n        sourceSets {\r\n            main.java.srcDirs += &#39;src/main/kotlin&#39;\r\n        }\r\n    \r\n        defaultConfig {\r\n            // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\r\n            applicationId &quot;com.example.arcore_test&quot;\r\n            // You can update the following values to match your application needs.\r\n            // For more information, see: https://docs.flutter.dev/deployment/android#reviewing-the-build-configuration.\r\n            minSdkVersion 24\r\n            targetSdkVersion flutter.targetSdkVersion\r\n            versionCode flutterVersionCode.toInteger()\r\n            versionName flutterVersionName\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                // TODO: Add your own signing config for the release build.\r\n                // Signing with the debug keys for now, so `flutter run --release` works.\r\n                signingConfig signingConfigs.debug\r\n            }\r\n        }\r\n    }\r\n    \r\n    flutter {\r\n        source &#39;../..&#39;\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\r\n        implementation &#39;com.google.ar:core:1.37.0&#39;\r\n        implementation &#39;com.google.ar.sceneform.ux:sceneform-ux:1.15.0&#39;\r\n        implementation &#39;com.google.ar.sceneform:core:1.15.0&#39;\r\n    \r\n    }\r\n\r\n\r\nmy `android/build.gradle` is here below\r\n\r\n    buildscript {\r\n        ext.kotlin_version = &#39;1.6.10&#39;\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n        }\r\n    \r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:7.1.2&#39;\r\n            classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n            \r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n        }\r\n    }\r\n    \r\n    rootProject.buildDir = &#39;../build&#39;\r\n    subprojects {\r\n        project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\r\n    }\r\n    subprojects {\r\n        project.evaluationDependsOn(&#39;:app&#39;)\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\n","title":"Set shadow plugin for solving Duplicate class com.google.ar.XXX.XXX","body":"<p>I have this error</p>\n<pre><code> Duplicate class com.google.ar.sceneform.lullmodel.TextureWrap found in modules jetified-core-1.21.0-runtime (com.gorisse.thomas.sceneform:core:1.21.0) and jetified-sceneform-base-1.15.0-runtime (com.google.ar.sceneform:sceneform-base:1.15.0)\n Duplicate class com.google.ar.sceneform.lullmodel.VariantArrayDef found in modules jetified-core-1.21.0-runtime (com.gorisse.thomas.sceneform:core:1.21.0) and jetified-sceneform-base-1.15.0-runtime (com.google.ar.sceneform:sceneform-base:1.15.0)\n.  \n.\n.\n</code></pre>\n<p>Maybe <code>com.gorisse.thomas.sceneform:core:1.21.0</code> and <code>com.google.ar.sceneform:sceneform-base:1.15.0</code> has the same classname.</p>\n<p>I googled around and found the solution <a href=\"https://stackoverflow.com/questions/59991168/duplicate-class-names-in-two-external-third-party-obfuscated-libraries\">here</a></p>\n<p>It suggests to use shadow plugin like this below.</p>\n<pre><code>plugins {\n   id &quot;com.github.johnrengelman.shadow&quot; version &quot;5.2.0&quot;\n}\nconfigurations {\n   shadowMe { transitive = false } \n} \ndependencies {\n   shadowMe 'foo:jar-to-shadow:1.0'\n   compile files({tasks.shadowJar})\n}\ntask shadowJar(type: com.github.jengelman.gradle.plugins.shadow.tasks.ShadowJar) {\n   archiveBaseName = 'shadowed-foo' \n   relocate 'a.a.a.a.a', 'shadow.a.a.a.a'\n   from zipTree(configurations.shadowMe.singleFile)\n}\n</code></pre>\n<p>However where should I put this in flutter project?</p>\n<p><code>android/build.gradle</code> ,<code>android/app/build.gradle</code>, or any other place?</p>\n<p>my <code>android/app/build.gradle</code> is here below</p>\n<pre><code>def localProperties = new Properties()\ndef localPropertiesFile = rootProject.file('local.properties')\nif (localPropertiesFile.exists()) {\n    localPropertiesFile.withReader('UTF-8') { reader -&gt;\n        localProperties.load(reader)\n    }\n}\n\ndef flutterRoot = localProperties.getProperty('flutter.sdk')\nif (flutterRoot == null) {\n    throw new GradleException(&quot;Flutter SDK not found. Define location with flutter.sdk in the local.properties file.&quot;)\n}\n\ndef flutterVersionCode = localProperties.getProperty('flutter.versionCode')\nif (flutterVersionCode == null) {\n    flutterVersionCode = '1'\n}\n\ndef flutterVersionName = localProperties.getProperty('flutter.versionName')\nif (flutterVersionName == null) {\n    flutterVersionName = '1.0'\n}\n\napply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply from: &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;\n\nandroid {\n    compileSdkVersion 32\n    ndkVersion flutter.ndkVersion\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n     \n    }\n\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n\n    defaultConfig {\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\n        applicationId &quot;com.example.arcore_test&quot;\n        // You can update the following values to match your application needs.\n        // For more information, see: https://docs.flutter.dev/deployment/android#reviewing-the-build-configuration.\n        minSdkVersion 24\n        targetSdkVersion flutter.targetSdkVersion\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n    }\n\n    buildTypes {\n        release {\n            // TODO: Add your own signing config for the release build.\n            // Signing with the debug keys for now, so `flutter run --release` works.\n            signingConfig signingConfigs.debug\n        }\n    }\n}\n\nflutter {\n    source '../..'\n}\n\ndependencies {\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\n    implementation 'com.google.ar:core:1.37.0'\n    implementation 'com.google.ar.sceneform.ux:sceneform-ux:1.15.0'\n    implementation 'com.google.ar.sceneform:core:1.15.0'\n\n}\n</code></pre>\n<p>my <code>android/build.gradle</code> is here below</p>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.6.10'\n    repositories {\n        google()\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.1.2'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n        \n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\nrootProject.buildDir = '../build'\nsubprojects {\n    project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\n}\nsubprojects {\n    project.evaluationDependsOn(':app')\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n"},{"tags":["java","oop","inheritance","polymorphism"],"comments":[{"owner":{"account_id":11653484,"reputation":12724,"user_id":8534008,"display_name":"GBlodgett"},"score":1,"creation_date":1553990534,"post_id":55436718,"comment_id":97590804,"body_markdown":"What would it do if instead you had `int x = 0; int y = 1; x = y;`?","body":"What would it do if instead you had <code>int x = 0; int y = 1; x = y;</code>?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1553999310,"post_id":55436718,"comment_id":97591913,"body_markdown":"Objects are not assigned. References are assigned.","body":"Objects are not assigned. References are assigned."}],"answers":[{"tags":[],"owner":{"display_name":"user10762593"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553996766,"creation_date":1553996766,"answer_id":55437186,"question_id":55436718,"body_markdown":"Nothing &#39;happens&#39;. The object referred to by variable &#39;b&#39; is a single object. It is at the same time an instance of a B and an instance of an A.\r\n\r\nWhen you execute the assignment ```a = b```, the object previously referred to by variable &#39;a&#39; becomes inaccessible.  Considerations of that old object do not enter into this discussion.\r\n\r\nAfter the assignment, &#39;a&#39; and &#39;b&#39; refe to the same object. The object is unchanged. It is still an instance of a B and an instance of an A.\r\n\r\nPerhaps the block in your understanding is the distinction between objects and the variables that refer to those objects?\r\n","title":"What happens when a subclass object is assigned as a superclass object","body":"<p>Nothing 'happens'. The object referred to by variable 'b' is a single object. It is at the same time an instance of a B and an instance of an A.</p>\n\n<p>When you execute the assignment <code>a = b</code>, the object previously referred to by variable 'a' becomes inaccessible.  Considerations of that old object do not enter into this discussion.</p>\n\n<p>After the assignment, 'a' and 'b' refe to the same object. The object is unchanged. It is still an instance of a B and an instance of an A.</p>\n\n<p>Perhaps the block in your understanding is the distinction between objects and the variables that refer to those objects?</p>\n"},{"tags":[],"owner":{"account_id":236561,"reputation":5234,"user_id":504133,"accept_rate":76,"display_name":"nits.kk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1554228092,"creation_date":1553997905,"answer_id":55437269,"question_id":55436718,"body_markdown":"It&#39;s simple assignment. `=` is an assignment operator. \r\n\r\nLets be clear of below points.\r\n\r\n1. In Java when an Object is created and it is accessible via. reference. A reference refer to an Object. \r\n2. At a time one reference can refer to only one object\r\n3. A reference of type X can refer to an object of type X or any sub types (extending in case X is a class or implementing if X is an interface).\r\n\r\n\r\nNow Suppose there are two classes `Super` and `Sub` such that `Sub extends Super`. \r\n\r\n     SuperClass reference = new SubClass();  \r\n\r\nThis is allowed as SubClass inherits from SuperClass. \r\nAbove we have an object of type SubClass created in the heap and it is accessible via. reference named `reference`\r\n\r\nNote that a reference of type `SubClass` can not refer to object of `SuperClass`. Lets see in brief why so ?. If the reference of type `SubClass` was allowed to refer an Object of type `SuperClass` then it would have been allowed to invoke additional methods (functions) defined by `SubClass` (`SubClass` would have inherited all methods of `SuperClass` and would also have defined few additional methods). Now this would have made the application to crash as the Object of `SuperClass` only has methods defined in `SuperClass` but does not have any additional methods defined by `SubClass`. Hence compiler prevents it during compile time. Its a compile time error to have a reference of type `SubClass` referring to an object of type `SuperClass`\r\n\r\n Now lets look at the code as mentioned in the question\r\n\r\n     SuperClass a = new SuperClass();\r\n     SubClass b = new SubClass();\r\n     a = b; \r\n\r\nLine 1 : We have an object of SuperClass being referred by a variable of type SuperClass named `a`\r\n\r\nLine 2 : We have an object of SubClass being referred by a variable of type SubClass named `b`\r\n\r\nLine 3 : We have an assignment where `a` is assigned to refer the same object as referred by `b`. So now we have both references referring to the object of type `SubClass` created at line 2. Object of typer `SuperClass` created at line 1 (with the current available code mentioned in the question) is not having any references so it is eligible for garbage collection.\r\n","title":"What happens when a subclass object is assigned as a superclass object","body":"<p>It's simple assignment. <code>=</code> is an assignment operator. </p>\n\n<p>Lets be clear of below points.</p>\n\n<ol>\n<li>In Java when an Object is created and it is accessible via. reference. A reference refer to an Object. </li>\n<li>At a time one reference can refer to only one object</li>\n<li>A reference of type X can refer to an object of type X or any sub types (extending in case X is a class or implementing if X is an interface).</li>\n</ol>\n\n<p>Now Suppose there are two classes <code>Super</code> and <code>Sub</code> such that <code>Sub extends Super</code>. </p>\n\n<pre><code> SuperClass reference = new SubClass();  \n</code></pre>\n\n<p>This is allowed as SubClass inherits from SuperClass. \nAbove we have an object of type SubClass created in the heap and it is accessible via. reference named <code>reference</code></p>\n\n<p>Note that a reference of type <code>SubClass</code> can not refer to object of <code>SuperClass</code>. Lets see in brief why so ?. If the reference of type <code>SubClass</code> was allowed to refer an Object of type <code>SuperClass</code> then it would have been allowed to invoke additional methods (functions) defined by <code>SubClass</code> (<code>SubClass</code> would have inherited all methods of <code>SuperClass</code> and would also have defined few additional methods). Now this would have made the application to crash as the Object of <code>SuperClass</code> only has methods defined in <code>SuperClass</code> but does not have any additional methods defined by <code>SubClass</code>. Hence compiler prevents it during compile time. Its a compile time error to have a reference of type <code>SubClass</code> referring to an object of type <code>SuperClass</code></p>\n\n<p>Now lets look at the code as mentioned in the question</p>\n\n<pre><code> SuperClass a = new SuperClass();\n SubClass b = new SubClass();\n a = b; \n</code></pre>\n\n<p>Line 1 : We have an object of SuperClass being referred by a variable of type SuperClass named <code>a</code></p>\n\n<p>Line 2 : We have an object of SubClass being referred by a variable of type SubClass named <code>b</code></p>\n\n<p>Line 3 : We have an assignment where <code>a</code> is assigned to refer the same object as referred by <code>b</code>. So now we have both references referring to the object of type <code>SubClass</code> created at line 2. Object of typer <code>SuperClass</code> created at line 1 (with the current available code mentioned in the question) is not having any references so it is eligible for garbage collection.</p>\n"},{"tags":[],"owner":{"account_id":20697151,"reputation":99,"user_id":15197127,"display_name":"Manav Sarkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692762029,"creation_date":1692762029,"answer_id":76958106,"question_id":55436718,"body_markdown":"Lets play with inheritance, we have a class A and a class B. \r\n    \r\n    class A{\r\n        private int a;\r\n        A(int a){\r\n            this.a = a;\r\n        }\r\n        public int valA(){\r\n            return this.a;\r\n        }\r\n    }\r\n    \r\n    class B extends A{\r\n        B(int b) {\r\n            super(b);\r\n        }\r\n        public void printA(){\r\n            System.out.println(&quot;The Val of A: &quot;+valA());\r\n        }\r\n        public int valA(){return super.valA()*5;}\r\n    }\r\n\r\n\r\nWhat&#39;s special here that we have a method in B that is not defined in class A. Nevertheless, when we create an object of class B and assign it to A, we don&#39;t get any error.\r\n\r\nNow we create two objects, of A and B respectively and then assign the object of B to that of A.\r\n\r\n        A a = new A(5);\r\n        B b = new B(4);\r\n        a=b;\r\n        System.out.println(a.valA());\r\n\r\n\r\nWhen we execute, we get the value as 20. The answer you know is because of Runtime polymorphism that we have overrides valA(). But when we want to execute printA() from a\r\n\r\n        a.printA();\r\n\r\nThe error is a compile time. The reason is simple, the compiler cannot find printA(). And the reason is it was never declared here. But you may ask we defined in B and assigned to A.\r\n\r\nThe simple answer is compiler ignores it and overrides only the methods and parameters that are declared in B and A.\r\n\r\n&gt; **Can we do the opposite?**\r\n\r\nLets try it.\r\n\r\n    b = a;\r\n\r\nAnd simply we get the compile time error.\r\n\r\n    java: incompatible types: oops.inheritance.A cannot be converted to oops.inheritance.B\r\n\r\nAnd yes the answer is very intuitive because the methods in B have not been A and the compiler knows that this may be a possible case and straight away throws an error that you are doing wrong.\r\n\r\n## Now the answer you want.\r\nIt is possible to assign an object of subclass to reference of superclass but don&#39;t expect the properties and functions declared in B to be transferred because they are simply dumped.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"What happens when a subclass object is assigned as a superclass object","body":"<p>Lets play with inheritance, we have a class A and a class B.</p>\n<pre><code>class A{\n    private int a;\n    A(int a){\n        this.a = a;\n    }\n    public int valA(){\n        return this.a;\n    }\n}\n\nclass B extends A{\n    B(int b) {\n        super(b);\n    }\n    public void printA(){\n        System.out.println(&quot;The Val of A: &quot;+valA());\n    }\n    public int valA(){return super.valA()*5;}\n}\n</code></pre>\n<p>What's special here that we have a method in B that is not defined in class A. Nevertheless, when we create an object of class B and assign it to A, we don't get any error.</p>\n<p>Now we create two objects, of A and B respectively and then assign the object of B to that of A.</p>\n<pre><code>    A a = new A(5);\n    B b = new B(4);\n    a=b;\n    System.out.println(a.valA());\n</code></pre>\n<p>When we execute, we get the value as 20. The answer you know is because of Runtime polymorphism that we have overrides valA(). But when we want to execute printA() from a</p>\n<pre><code>    a.printA();\n</code></pre>\n<p>The error is a compile time. The reason is simple, the compiler cannot find printA(). And the reason is it was never declared here. But you may ask we defined in B and assigned to A.</p>\n<p>The simple answer is compiler ignores it and overrides only the methods and parameters that are declared in B and A.</p>\n<blockquote>\n<p><strong>Can we do the opposite?</strong></p>\n</blockquote>\n<p>Lets try it.</p>\n<pre><code>b = a;\n</code></pre>\n<p>And simply we get the compile time error.</p>\n<pre><code>java: incompatible types: oops.inheritance.A cannot be converted to oops.inheritance.B\n</code></pre>\n<p>And yes the answer is very intuitive because the methods in B have not been A and the compiler knows that this may be a possible case and straight away throws an error that you are doing wrong.</p>\n<h2>Now the answer you want.</h2>\n<p>It is possible to assign an object of subclass to reference of superclass but don't expect the properties and functions declared in B to be transferred because they are simply dumped.</p>\n"}],"owner":{"account_id":15637389,"reputation":31,"user_id":11281864,"display_name":"din abarbanel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1817,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":55437269,"answer_count":3,"score":1,"last_activity_date":1692762029,"creation_date":1553990482,"question_id":55436718,"body_markdown":"So I have a question about a superclass A and subclass B, where A has 2 public variables and B has 1 more.\r\n\r\nI saw this snippet of code:\r\n\r\n    A a = new A();\r\n    B b = new B();\r\n    a = b; \r\n\r\nWhat does that last line do? I don&#39;t really understand what actually happens when you use &quot;=&quot; between 2 classes in an inheritance relationship.","title":"What happens when a subclass object is assigned as a superclass object","body":"<p>So I have a question about a superclass A and subclass B, where A has 2 public variables and B has 1 more.</p>\n\n<p>I saw this snippet of code:</p>\n\n<pre><code>A a = new A();\nB b = new B();\na = b; \n</code></pre>\n\n<p>What does that last line do? I don't really understand what actually happens when you use \"=\" between 2 classes in an inheritance relationship.</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1692719310,"post_id":76954930,"comment_id":135661390,"body_markdown":"i suggest you read up what `httpBasic` actually is as it has nothing to do with token authentication. And what do you think `anyRequest().authenticated()` means?","body":"i suggest you read up what <code>httpBasic</code> actually is as it has nothing to do with token authentication. And what do you think <code>anyRequest().authenticated()</code> means?"},{"owner":{"account_id":1326208,"reputation":2583,"user_id":1270958,"accept_rate":31,"display_name":"abc cba"},"score":0,"creation_date":1692720031,"post_id":76954930,"comment_id":135661545,"body_markdown":"hi @Toerktumlare token is being pass within header so it shall not be block , it seems like something is missing and causes all request not able to authenticate , that why all request return 401","body":"hi @Toerktumlare token is being pass within header so it shall not be block , it seems like something is missing and causes all request not able to authenticate , that why all request return 401"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1692732738,"post_id":76954930,"comment_id":135664150,"body_markdown":"I think that what he&#39;s trying to say is that you have obviously no idea of what you are doing and should get some education about OAuth2 and Spring Security before attempting to write security configuration. You may start with the link in my answer and continue with the [official documentation](https://docs.spring.io/spring-security/reference/servlet/oauth2/index.html).","body":"I think that what he&#39;s trying to say is that you have obviously no idea of what you are doing and should get some education about OAuth2 and Spring Security before attempting to write security configuration. You may start with the link in my answer and continue with the <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/index.html\" rel=\"nofollow noreferrer\">official documentation</a>."},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1692742056,"post_id":76954930,"comment_id":135665422,"body_markdown":"follow the guidance in @ch4mp&#39;s answer, you need to add considerably more configuration to use OAuth2.","body":"follow the guidance in @ch4mp&#39;s answer, you need to add considerably more configuration to use OAuth2."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1692744018,"post_id":76954930,"comment_id":135665632,"body_markdown":"Actually, OAuth2 resource servers and clients can be configured with [0 Java conf](https://github.com/ch4mpy/spring-addons/tree/master#oidc-starter) (which is less). Properties can be enough in most cases, including in multi-tenant scenarios with CORS configuration and authorities (roles) mapping. Only choosing and configuring an authorization server with identity federation takes more than 5 minutes (learning OAuth2 does take more than 5 minutes too...)","body":"Actually, OAuth2 resource servers and clients can be configured with <a href=\"https://github.com/ch4mpy/spring-addons/tree/master#oidc-starter\" rel=\"nofollow noreferrer\">0 Java conf</a> (which is less). Properties can be enough in most cases, including in multi-tenant scenarios with CORS configuration and authorities (roles) mapping. Only choosing and configuring an authorization server with identity federation takes more than 5 minutes (learning OAuth2 does take more than 5 minutes too...)"}],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1692760744,"creation_date":1692724891,"answer_id":76955576,"question_id":76954930,"body_markdown":"With `http.httpBasic(withDefaults())`, you require requests to be authorized with a `Basic` authorization header. It is perfectly expected that requests with a `Bearer` authorization header are unauthorized (and I believe you configured Postman to send requests with a `Bearer` authorization containing an access token from Google).\r\n\r\nIn OAuth2 requests authorization is made from either\r\n- a `Bearer` authorization header (OAuth2 resource servers, with configuration eased by `spring-boot-starter-oauth2-resource-server`)\r\n- session (OAuth2 client with `oauth2Login`, with configuration eased by `spring-boot-starter-oauth2-client`)\r\n\r\nA REST API is usually configured as a resource server (requests authorized with an access token, like you are probably trying to do), not as a client (requests authorized with sessions, not access tokens).\r\n\r\nThe bad news is that Google authorization server is designed to be used with Google resource servers (Google APIs), not yours. You can hack around that (use `userinfo` endpoint as an introspection endpoint), but at the price of very bad performance.\r\n\r\nIf you want to make things properly, you should setup an authorization server of your own which would federate Google identities. There are plenty of options on the market with this kind of &quot;login with Google&quot; feature, either &quot;on premise&quot; (Keycloak is a famous sample) or in the cloud (Auth0, Okta, Amazon Cognito, etc.). You could also build your own with `spring-authorization-server` but this is much more work (and requires quite some knowledge about web security in general and OAuth2 &amp; OIDC in particular).\r\n\r\nFor more OAuth2 background and Spring Security configuration for  OAuth2, refer to [my tutorials][1] and [official documentation][2].\r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials#oauth_essentials\r\n  [2]: https://docs.spring.io/spring-security/reference/servlet/oauth2/index.html","title":"how to authenticate Java Springboot Restful API","body":"<p>With <code>http.httpBasic(withDefaults())</code>, you require requests to be authorized with a <code>Basic</code> authorization header. It is perfectly expected that requests with a <code>Bearer</code> authorization header are unauthorized (and I believe you configured Postman to send requests with a <code>Bearer</code> authorization containing an access token from Google).</p>\n<p>In OAuth2 requests authorization is made from either</p>\n<ul>\n<li>a <code>Bearer</code> authorization header (OAuth2 resource servers, with configuration eased by <code>spring-boot-starter-oauth2-resource-server</code>)</li>\n<li>session (OAuth2 client with <code>oauth2Login</code>, with configuration eased by <code>spring-boot-starter-oauth2-client</code>)</li>\n</ul>\n<p>A REST API is usually configured as a resource server (requests authorized with an access token, like you are probably trying to do), not as a client (requests authorized with sessions, not access tokens).</p>\n<p>The bad news is that Google authorization server is designed to be used with Google resource servers (Google APIs), not yours. You can hack around that (use <code>userinfo</code> endpoint as an introspection endpoint), but at the price of very bad performance.</p>\n<p>If you want to make things properly, you should setup an authorization server of your own which would federate Google identities. There are plenty of options on the market with this kind of &quot;login with Google&quot; feature, either &quot;on premise&quot; (Keycloak is a famous sample) or in the cloud (Auth0, Okta, Amazon Cognito, etc.). You could also build your own with <code>spring-authorization-server</code> but this is much more work (and requires quite some knowledge about web security in general and OAuth2 &amp; OIDC in particular).</p>\n<p>For more OAuth2 background and Spring Security configuration for  OAuth2, refer to <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials#oauth_essentials\" rel=\"nofollow noreferrer\">my tutorials</a> and <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/index.html\" rel=\"nofollow noreferrer\">official documentation</a>.</p>\n"}],"owner":{"account_id":1326208,"reputation":2583,"user_id":1270958,"accept_rate":31,"display_name":"abc cba"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76955576,"answer_count":1,"score":0,"last_activity_date":1692760744,"creation_date":1692718957,"question_id":76954930,"body_markdown":"I am trying to get google OAuth2.0 work with the java spring boot WebAPI , I am currently reference it from spring-security documentation\r\n\r\nAfter adding the dependency to pom.xml , every request seems get protected\r\n\r\n    &lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand the configuration.java as below\r\n\r\n    @EnableWebSecurity\r\n    @Configuration\r\n    @EnableMethodSecurity\r\n    public class SecurityConfiguration{\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n            .authorizeHttpRequests((authz) -&gt; authz\r\n            .anyRequest().authenticated()        \r\n        )\r\n        .httpBasic(withDefaults());\r\n        return http.build();            \r\n        }\r\n    }\r\n\r\nAfter adding all this part , all my API request still not accessible even with the correct bearer token I got from google OAuth pass during request as header for authentication, it always return 401 Unauthorized from the postman , would like to know what am I missing and cause the program denied all request ?\r\n\r\nAPI Code as follow\r\n\r\n    @RequestMapping(value = &quot;testauth&quot;, method = RequestMethod.GET)\r\n    public ResponseEntity&lt;Object&gt; createTask() {\r\n      \r\n        String result = &quot;Hellow World&quot;; \r\n        return new ResponseEntity&lt;&gt;(result, HttpStatus.OK);\r\n    }\r\n\r\n","title":"how to authenticate Java Springboot Restful API","body":"<p>I am trying to get google OAuth2.0 work with the java spring boot WebAPI , I am currently reference it from spring-security documentation</p>\n<p>After adding the dependency to pom.xml , every request seems get protected</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and the configuration.java as below</p>\n<pre><code>@EnableWebSecurity\n@Configuration\n@EnableMethodSecurity\npublic class SecurityConfiguration{\n\n@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http\n        .authorizeHttpRequests((authz) -&gt; authz\n        .anyRequest().authenticated()        \n    )\n    .httpBasic(withDefaults());\n    return http.build();            \n    }\n}\n</code></pre>\n<p>After adding all this part , all my API request still not accessible even with the correct bearer token I got from google OAuth pass during request as header for authentication, it always return 401 Unauthorized from the postman , would like to know what am I missing and cause the program denied all request ?</p>\n<p>API Code as follow</p>\n<pre><code>@RequestMapping(value = &quot;testauth&quot;, method = RequestMethod.GET)\npublic ResponseEntity&lt;Object&gt; createTask() {\n  \n    String result = &quot;Hellow World&quot;; \n    return new ResponseEntity&lt;&gt;(result, HttpStatus.OK);\n}\n</code></pre>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1692695029,"post_id":76950985,"comment_id":135655565,"body_markdown":"Hi there, provide more details about your question, and also include some codes to reproduce","body":"Hi there, provide more details about your question, and also include some codes to reproduce"},{"owner":{"account_id":29272983,"reputation":1,"user_id":22427346,"display_name":"CongCuong"},"score":0,"creation_date":1693275517,"post_id":76950985,"comment_id":135736006,"body_markdown":"My codoe :             mCameraSource.takePicture(null, new CameraSource.PictureCallback() {\n                @Override\n                public void onPictureTaken(byte[] bytes) {\n                    Bitmap bitmap = BitmapFactory.decodeByteArray(bytes, 0, bytes.length);\n                    mImgPreview.setImageBitmap(bitmap);\n                }\n            });","body":"My codoe :             mCameraSource.takePicture(null, new CameraSource.PictureCallback() {                 @Override                 public void onPictureTaken(byte[] bytes) {                     Bitmap bitmap = BitmapFactory.decodeByteArray(bytes, 0, bytes.length);                     mImgPreview.setImageBitmap(bitmap);                 }             });"}],"owner":{"account_id":29272983,"reputation":1,"user_id":22427346,"display_name":"CongCuong"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692760714,"creation_date":1692689137,"question_id":76950985,"body_markdown":"When I take a photo, the image returned to me is black, it only appears on Redmi Note 12\r\n\r\nHow can when I use this library will return me the desired image\r\n\r\nAs seen below is my picture after taking\r\n[enter image description here](https://i.stack.imgur.com/dT1oQ.jpg)","title":"Use CameraSource on com.google.android.gms.vision","body":"<p>When I take a photo, the image returned to me is black, it only appears on Redmi Note 12</p>\n<p>How can when I use this library will return me the desired image</p>\n<p>As seen below is my picture after taking\n<a href=\"https://i.stack.imgur.com/dT1oQ.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","spring","spring-boot","spring-security","environment-variables"],"comments":[{"owner":{"account_id":6790343,"reputation":1483,"user_id":5227721,"display_name":"Berk Kurkcuoglu"},"score":0,"creation_date":1692746786,"post_id":76957376,"comment_id":135665873,"body_markdown":"I don&#39;t see what&#39;s holding you back from autowiring the config in your security handler. Please provide the relevant code.","body":"I don&#39;t see what&#39;s holding you back from autowiring the config in your security handler. Please provide the relevant code."},{"owner":{"account_id":5859890,"reputation":155,"user_id":4615978,"display_name":"Vilican"},"score":0,"creation_date":1692747392,"post_id":76957376,"comment_id":135665921,"body_markdown":"@BerkKurkcuoglu - I have already tried autowiring it in the `SecurityExpressionRoot`, but I am getting error &quot;Autowired members must be defined in valid Spring bean&quot;","body":"@BerkKurkcuoglu - I have already tried autowiring it in the <code>SecurityExpressionRoot</code>, but I am getting error &quot;Autowired members must be defined in valid Spring bean&quot;"}],"answers":[{"tags":[],"owner":{"account_id":5774888,"reputation":14,"user_id":4557258,"display_name":"dalcyonir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692748888,"creation_date":1692748888,"answer_id":76957491,"question_id":76957376,"body_markdown":"You can define an &quot;initializer&quot; class that will hold the configuration needed to initialize your custom class as defined in the 3) here: https://www.baeldung.com/inject-properties-value-non-spring-class.2) would work too, but I find the initializer solution more elegant than using class loader.","title":"Using Spring application properties in non-managed class","body":"<p>You can define an &quot;initializer&quot; class that will hold the configuration needed to initialize your custom class as defined in the 3) here: <a href=\"https://www.baeldung.com/inject-properties-value-non-spring-class.2\" rel=\"nofollow noreferrer\">https://www.baeldung.com/inject-properties-value-non-spring-class.2</a>) would work too, but I find the initializer solution more elegant than using class loader.</p>\n"},{"tags":[],"owner":{"account_id":16376998,"reputation":148,"user_id":11828868,"display_name":"melody zhou"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692760299,"creation_date":1692760299,"answer_id":76958017,"question_id":76957376,"body_markdown":"You can statically obtain the property value by inheriting Spring Class `ApplicationContextAware` or `BeanFactoryPostProcessor`:\r\n```\r\n@Component\r\npublic class SpringUtil implements  BeanFactoryPostProcessor,ApplicationContextAware {\t\r\n    /**\r\n\t * Spring beanFactory\r\n\t */\r\n    private static ConfigurableListableBeanFactory beanFactory;\r\n\t/**\r\n\t * Spring context\r\n\t */\r\n\tprivate static ApplicationContext applicationContext;\r\n\r\n\t@SuppressWarnings(&quot;NullableProblems&quot;)\r\n\t@Override\r\n\tpublic void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\r\n\t\tSpringUtil.beanFactory = beanFactory;\r\n\t}\r\n\r\n\t@SuppressWarnings(&quot;NullableProblems&quot;)\r\n\t@Override\r\n\tpublic void setApplicationContext(ApplicationContext applicationContext) {\r\n\t\tSpringUtil.applicationContext = applicationContext;\r\n\t}\r\n\r\n\t/**\r\n\t * get {@link ApplicationContext}\r\n\t *\r\n\t * @return {@link ApplicationContext}\r\n\t */\r\n\tpublic static ApplicationContext getApplicationContext() {\r\n\t\treturn applicationContext;\r\n\t}\r\n   /**\r\n\t * get {@link ListableBeanFactory}，is {@link ConfigurableListableBeanFactory} or {@link ApplicationContextAware}\r\n\t *\r\n\t * @return {@link ListableBeanFactory}\r\n\t * @since 5.7.0\r\n\t */\r\n\tpublic static ListableBeanFactory getBeanFactory() {\r\n\t\treturn null == beanFactory ? applicationContext : beanFactory;\r\n\t}\r\n\t/**\r\n\t * by class get bean\r\n\t *\r\n\t * @param &lt;T&gt;   Bean type\r\n\t * @param clazz Bean class\r\n\t * @return Bean\r\n\t */\r\n\tpublic static &lt;T&gt; T getBean(Class&lt;T&gt; clazz) {\r\n\t\treturn getBeanFactory().getBean(clazz);\r\n\t}\r\n\t/**\r\n\t *  get property value\r\n\t *\r\n\t * @param  property key\r\n\t * @return property value\r\n\t */\r\n\tpublic static String getProperty(String key) {\r\n\t\tif (null == applicationContext) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn applicationContext.getEnvironment().getProperty(key);\r\n\t}\r\n}\r\n```\r\nObtain the property:\r\n`String value=SpringUtil.getProperty(&quot;myapp.home-org&quot;);`\r\nor\r\n`UUID value=SpringUtil.getBean(EnvironmentConfig.class).getHomeOrg();`\r\n\r\n","title":"Using Spring application properties in non-managed class","body":"<p>You can statically obtain the property value by inheriting Spring Class <code>ApplicationContextAware</code> or <code>BeanFactoryPostProcessor</code>:</p>\n<pre><code>@Component\npublic class SpringUtil implements  BeanFactoryPostProcessor,ApplicationContextAware {  \n    /**\n     * Spring beanFactory\n     */\n    private static ConfigurableListableBeanFactory beanFactory;\n    /**\n     * Spring context\n     */\n    private static ApplicationContext applicationContext;\n\n    @SuppressWarnings(&quot;NullableProblems&quot;)\n    @Override\n    public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\n        SpringUtil.beanFactory = beanFactory;\n    }\n\n    @SuppressWarnings(&quot;NullableProblems&quot;)\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) {\n        SpringUtil.applicationContext = applicationContext;\n    }\n\n    /**\n     * get {@link ApplicationContext}\n     *\n     * @return {@link ApplicationContext}\n     */\n    public static ApplicationContext getApplicationContext() {\n        return applicationContext;\n    }\n   /**\n     * get {@link ListableBeanFactory}，is {@link ConfigurableListableBeanFactory} or {@link ApplicationContextAware}\n     *\n     * @return {@link ListableBeanFactory}\n     * @since 5.7.0\n     */\n    public static ListableBeanFactory getBeanFactory() {\n        return null == beanFactory ? applicationContext : beanFactory;\n    }\n    /**\n     * by class get bean\n     *\n     * @param &lt;T&gt;   Bean type\n     * @param clazz Bean class\n     * @return Bean\n     */\n    public static &lt;T&gt; T getBean(Class&lt;T&gt; clazz) {\n        return getBeanFactory().getBean(clazz);\n    }\n    /**\n     *  get property value\n     *\n     * @param  property key\n     * @return property value\n     */\n    public static String getProperty(String key) {\n        if (null == applicationContext) {\n            return null;\n        }\n        return applicationContext.getEnvironment().getProperty(key);\n    }\n}\n</code></pre>\n<p>Obtain the property:\n<code>String value=SpringUtil.getProperty(&quot;myapp.home-org&quot;);</code>\nor\n<code>UUID value=SpringUtil.getBean(EnvironmentConfig.class).getHomeOrg();</code></p>\n"}],"owner":{"account_id":5859890,"reputation":155,"user_id":4615978,"display_name":"Vilican"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76958017,"answer_count":2,"score":0,"last_activity_date":1692760299,"creation_date":1692746508,"question_id":76957376,"body_markdown":"I am using Spring Boot 3.1.2 and I have defined a custom `SecurityExpressionRoot` that handles authorization procedures.\r\n\r\nHowever, I have a few values stored as environment variables, that are referenced via `application.properties`:\r\n\r\n    myapp.home-org=${HOME_ORG_ID}\r\n\r\nThey are normally used in the app by autowiring the configuration class where they are defined:\r\n\r\n    @Getter\r\n    @Setter\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;myapp&quot;)\r\n    public class EnvironmentConfig {\r\n    \r\n        /**\r\n         * UUID of the organization users are originating from.\r\n         */\r\n        private UUID homeOrg;\r\n    \r\n    }\r\n\r\nI am looking for a way to use that variable in `SecurityExpressionRoot` as a basis for authorization decisions.\r\n\r\nWhat is the best way to do that?","title":"Using Spring application properties in non-managed class","body":"<p>I am using Spring Boot 3.1.2 and I have defined a custom <code>SecurityExpressionRoot</code> that handles authorization procedures.</p>\n<p>However, I have a few values stored as environment variables, that are referenced via <code>application.properties</code>:</p>\n<pre><code>myapp.home-org=${HOME_ORG_ID}\n</code></pre>\n<p>They are normally used in the app by autowiring the configuration class where they are defined:</p>\n<pre><code>@Getter\n@Setter\n@Configuration\n@ConfigurationProperties(prefix = &quot;myapp&quot;)\npublic class EnvironmentConfig {\n\n    /**\n     * UUID of the organization users are originating from.\n     */\n    private UUID homeOrg;\n\n}\n</code></pre>\n<p>I am looking for a way to use that variable in <code>SecurityExpressionRoot</code> as a basis for authorization decisions.</p>\n<p>What is the best way to do that?</p>\n"},{"tags":["java","maven","wildfly"],"comments":[{"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"score":0,"creation_date":1440879530,"post_id":32290070,"comment_id":52458137,"body_markdown":"check the server log for error messages and the binding message for the listener port and address. Maybe it binds to ::1 instead or similar.","body":"check the server log for error messages and the binding message for the listener port and address. Maybe it binds to ::1 instead or similar."},{"owner":{"account_id":4314417,"reputation":103,"user_id":3524706,"display_name":"broot02"},"score":0,"creation_date":1440880067,"post_id":32290070,"comment_id":52458310,"body_markdown":"The exact error message form the server.log is the following..2015-08-29 14:50:20,914 ERROR [org.jboss.remoting.remote.connection] (default I/O-1) JBREM000200: Remote connection failed: java.io.IOException: An existing connection was forcibly closed by the remote host","body":"The exact error message form the server.log is the following..2015-08-29 14:50:20,914 ERROR [org.jboss.remoting.remote.connection] (default I/O-1) JBREM000200: Remote connection failed: java.io.IOException: An existing connection was forcibly closed by the remote host"},{"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"score":0,"creation_date":1440880169,"post_id":32290070,"comment_id":52458336,"body_markdown":"And the client side?","body":"And the client side?"},{"owner":{"account_id":4314417,"reputation":103,"user_id":3524706,"display_name":"broot02"},"score":0,"creation_date":1440880191,"post_id":32290070,"comment_id":52458343,"body_markdown":"As far as the listener port/address, this what I found. 2015-08-29 12:36:08,305 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:9990/management","body":"As far as the listener port/address, this what I found. 2015-08-29 12:36:08,305 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on <a href=\"http://127.0.0.1:9990/management\" rel=\"nofollow noreferrer\">127.0.0.1:9990/management</a>"},{"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"score":0,"creation_date":1440880249,"post_id":32290070,"comment_id":52458351,"body_markdown":"I think jboss remoting is not using the http-interface but the native one on 9999 (at least for some older versions, not sure when the protcol upgrade was introduced).","body":"I think jboss remoting is not using the http-interface but the native one on 9999 (at least for some older versions, not sure when the protcol upgrade was introduced)."},{"owner":{"account_id":4314417,"reputation":103,"user_id":3524706,"display_name":"broot02"},"score":0,"creation_date":1440881100,"post_id":32290070,"comment_id":52458558,"body_markdown":"I&#39;ve added the stacktrace.","body":"I&#39;ve added the stacktrace."},{"owner":{"account_id":4314417,"reputation":103,"user_id":3524706,"display_name":"broot02"},"score":0,"creation_date":1440881620,"post_id":32290070,"comment_id":52458686,"body_markdown":"I wouldn&#39;t think it would matter if I was running it in standalone mode, rather than domain mode. Correct?","body":"I wouldn&#39;t think it would matter if I was running it in standalone mode, rather than domain mode. Correct?"},{"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"score":0,"creation_date":1440884499,"post_id":32290070,"comment_id":52459405,"body_markdown":"Not sure what &quot;must be enabled&quot; (_The native API endpoint is co-located with either the a host controller or a standalone server. To use the CLI it must be enabled. By default, it runs on port 9999_) in https://docs.jboss.org/author/display/WFLY8/Admin+Guide#AdminGuide-HTTPManagementEndpoint means. Try telnet to 9999 and using jboss-cli.","body":"Not sure what &quot;must be enabled&quot; (<i>The native API endpoint is co-located with either the a host controller or a standalone server. To use the CLI it must be enabled. By default, it runs on port 9999</i>) in <a href=\"https://docs.jboss.org/author/display/WFLY8/Admin+Guide#AdminGuide-HTTPManagementEndpoint\" rel=\"nofollow noreferrer\">docs.jboss.org/author/display/WFLY8/&hellip;</a> means. Try telnet to 9999 and using jboss-cli."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1441140080,"post_id":32290070,"comment_id":52555604,"body_markdown":"It doesn&#39;t look like that&#39;s a WildFly 9 server. Make sure you have WildFly up and running before you attempt a deploy.","body":"It doesn&#39;t look like that&#39;s a WildFly 9 server. Make sure you have WildFly up and running before you attempt a deploy."}],"answers":[{"tags":[],"owner":{"account_id":4314417,"reputation":103,"user_id":3524706,"display_name":"broot02"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441152910,"creation_date":1441152910,"answer_id":32342793,"question_id":32290070,"body_markdown":"I am not 100% sure as to why, it had to be done this way, but after I started to run in domain mode rather than standalone it started working.\r\n\r\nAlso what eckes stated was true as well, &quot;Not sure what &quot;must be enabled&quot; (The native API endpoint is co-located with either the a host controller or a standalone server. To use the CLI it must be enabled. By default, it runs on port 9999) in docs.jboss.org/author/display/WFLY8/… means. Try telnet to 9999 and using jboss-cli.&quot;\r\n\r\nMore so than that I had to connect via the CLI to the localhost:9999. This seemingly made it so I could remotely deploy using the maven-wildfly plugin.\r\n\r\nThere still seems to be some connectivity issues, as it seems to always fail the initial deploy during the install phase, and building the War. So I acknowledge this isn&#39;t the best solution at all.\r\n\r\nI haven&#39;t scourged the standalone.xml vs. the domain.xml to see if certain things are disabled by default in Wildfly 9 Standalone mode, as compared to Domain mode.","title":"Could not connect to http-remoting - Maven-Wildfly plugin","body":"<p>I am not 100% sure as to why, it had to be done this way, but after I started to run in domain mode rather than standalone it started working.</p>\n\n<p>Also what eckes stated was true as well, \"Not sure what \"must be enabled\" (The native API endpoint is co-located with either the a host controller or a standalone server. To use the CLI it must be enabled. By default, it runs on port 9999) in docs.jboss.org/author/display/WFLY8/… means. Try telnet to 9999 and using jboss-cli.\"</p>\n\n<p>More so than that I had to connect via the CLI to the localhost:9999. This seemingly made it so I could remotely deploy using the maven-wildfly plugin.</p>\n\n<p>There still seems to be some connectivity issues, as it seems to always fail the initial deploy during the install phase, and building the War. So I acknowledge this isn't the best solution at all.</p>\n\n<p>I haven't scourged the standalone.xml vs. the domain.xml to see if certain things are disabled by default in Wildfly 9 Standalone mode, as compared to Domain mode.</p>\n"},{"tags":[],"owner":{"account_id":5149259,"reputation":317,"user_id":4124295,"accept_rate":80,"display_name":"Keshaw Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474105144,"creation_date":1474105144,"answer_id":39545259,"question_id":32290070,"body_markdown":"The reason of the problem could be one of the following:\r\n\r\n - The deployment of any archive (jar, war, ear) through wildfly-maven-plugin plugin will happen only if the WildFly is listening at its management port which is 9990 by default. So make sure that WildFly is listening at its management port.\r\n - If WildFly is listening at its management port then check if your host file located at ***%SYSTEM_ROOT%\\System32\\drivers\\etc*** for windows machine is configured correctly. i.e. your local host is mapped correctly for both IPv4 and IPv6.\r\n\r\n127.0.0.1 localhost\r\n\r\n::1 localhost","title":"Could not connect to http-remoting - Maven-Wildfly plugin","body":"<p>The reason of the problem could be one of the following:</p>\n\n<ul>\n<li>The deployment of any archive (jar, war, ear) through wildfly-maven-plugin plugin will happen only if the WildFly is listening at its management port which is 9990 by default. So make sure that WildFly is listening at its management port.</li>\n<li>If WildFly is listening at its management port then check if your host file located at <strong><em>%SYSTEM_ROOT%\\System32\\drivers\\etc</em></strong> for windows machine is configured correctly. i.e. your local host is mapped correctly for both IPv4 and IPv6.</li>\n</ul>\n\n<p>127.0.0.1 localhost</p>\n\n<p>::1 localhost</p>\n"}],"owner":{"account_id":4314417,"reputation":103,"user_id":3524706,"display_name":"broot02"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19711,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1692759955,"creation_date":1440877618,"question_id":32290070,"body_markdown":"I am attempting to employ the functionality of Deploying to Wildfly 9 in my build process with the Wildfly-Maven plugin. I am unable to deploy the application, due to the following error.\r\n\r\n    2015-08-29 15:24:55,720 ERROR [org.jboss.remoting.remote.connection] (XNIO-1 I/O-1) JBREM000200: Remote connection failed: java.io.IOException: An existing connection was forcibly closed by the remote host\r\n\r\n\r\nPlease see the attached portion of my pom.xml.\r\n \r\n\r\n    &lt;plugin&gt;\r\n                &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.2.Final&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;username&gt;admin&lt;/username&gt;\r\n                    &lt;password&gt;password&lt;/password&gt;\r\n                    &lt;hostname&gt;127.0.0.1&lt;/hostname&gt;\r\n                    &lt;name&gt; InspiralWeb-1.0-SNAPSHOT.war&lt;/name&gt;\r\n                    &lt;jbossHome&gt;C:\\Wildfly\\wildfly-9.0.1.Final&lt;/jbossHome&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;install&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;deploy&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n\r\nThere is no offset for the port in the standalone.xml, so I am sure the port that the management socket binding is on 9990, which is what is expected. It isn&#39;t clear if this is an issue with my setup or some network issue, I am running this locally also(as you can probably tell by the hostname). \r\n\r\nThoughts anyone?\r\n\r\nPlease see the attached Stacktrace\r\n\r\n        \r\n    Caused by: java.io.IOException: java.net.ConnectException: JBAS012174: Could not connect to remote://127.0.0.1:9990. The connection failed\r\n    \tat org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeForResult(AbstractModelControllerClient.java:129)\r\n    \tat org.jboss.as.controller.client.impl.AbstractModelControllerClient.execute(AbstractModelControllerClient.java:71)\r\n    \tat org.wildfly.plugin.common.AbstractServerConnection.isDomainServer(AbstractServerConnection.java:245)\r\n    \t... 27 more\r\n    Caused by: java.net.ConnectException: JBAS012174: Could not connect to remote://127.0.0.1:9990. The connection failed\r\n    \tat org.jboss.as.protocol.ProtocolConnectionUtils.connectSync(ProtocolConnectionUtils.java:117)\r\n    \tat org.jboss.as.protocol.ProtocolConnectionManager$EstablishingConnection.connect(ProtocolConnectionManager.java:256)\r\n    \tat org.jboss.as.protocol.ProtocolConnectionManager.connect(ProtocolConnectionManager.java:70)\r\n    \tat org.jboss.as.protocol.mgmt.FutureManagementChannel$Establishing.getChannel(FutureManagementChannel.java:204)\r\n    \tat org.jboss.as.controller.client.impl.RemotingModelControllerClient.getOrCreateChannel(RemotingModelControllerClient.java:148)\r\n    \tat org.jboss.as.controller.client.impl.RemotingModelControllerClient$1.getChannel(RemotingModelControllerClient.java:67)\r\n    \tat org.jboss.as.protocol.mgmt.ManagementChannelHandler.executeRequest(ManagementChannelHandler.java:117)\r\n    \tat org.jboss.as.protocol.mgmt.ManagementChannelHandler.executeRequest(ManagementChannelHandler.java:92)\r\n    \tat org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeRequest(AbstractModelControllerClient.java:236)\r\n    \tat org.jboss.as.controller.client.impl.AbstractModelControllerClient.execute(AbstractModelControllerClient.java:141)\r\n    \tat org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeForResult(AbstractModelControllerClient.java:127)\r\n    \t... 29 more\r\n    Caused by: java.net.ConnectException: Connection refused: no further information\r\n    \tat sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\r\n    \tat sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:708)\r\n    \tat org.xnio.nio.WorkerThread$ConnectHandle.handleReady(WorkerThread.java:319)\r\n    \tat org.xnio.nio.WorkerThread.run(WorkerThread.java:539)\r\n    \tat ...asynchronous invocation...(Unknown Source)\r\n    \tat org.jboss.remoting3.EndpointImpl.doConnect(EndpointImpl.java:272)\r\n    \tat org.jboss.remoting3.EndpointImpl.doConnect(EndpointImpl.java:253)\r\n    \tat org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:351)\r\n    \tat org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:339)\r\n    \tat org.jboss.as.protocol.ProtocolConnectionUtils.connect(ProtocolConnectionUtils.java:78)\r\n    \tat org.jboss.as.protocol.ProtocolConnectionUtils.connectSync(ProtocolConnectionUtils.java:109)\r\n    \t... 39 more\r\n\r\n","title":"Could not connect to http-remoting - Maven-Wildfly plugin","body":"<p>I am attempting to employ the functionality of Deploying to Wildfly 9 in my build process with the Wildfly-Maven plugin. I am unable to deploy the application, due to the following error.</p>\n\n<pre><code>2015-08-29 15:24:55,720 ERROR [org.jboss.remoting.remote.connection] (XNIO-1 I/O-1) JBREM000200: Remote connection failed: java.io.IOException: An existing connection was forcibly closed by the remote host\n</code></pre>\n\n<p>Please see the attached portion of my pom.xml.</p>\n\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.0.2.Final&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;username&gt;admin&lt;/username&gt;\n                &lt;password&gt;password&lt;/password&gt;\n                &lt;hostname&gt;127.0.0.1&lt;/hostname&gt;\n                &lt;name&gt; InspiralWeb-1.0-SNAPSHOT.war&lt;/name&gt;\n                &lt;jbossHome&gt;C:\\Wildfly\\wildfly-9.0.1.Final&lt;/jbossHome&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;install&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;deploy&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>There is no offset for the port in the standalone.xml, so I am sure the port that the management socket binding is on 9990, which is what is expected. It isn't clear if this is an issue with my setup or some network issue, I am running this locally also(as you can probably tell by the hostname). </p>\n\n<p>Thoughts anyone?</p>\n\n<p>Please see the attached Stacktrace</p>\n\n<pre><code>Caused by: java.io.IOException: java.net.ConnectException: JBAS012174: Could not connect to remote://127.0.0.1:9990. The connection failed\n    at org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeForResult(AbstractModelControllerClient.java:129)\n    at org.jboss.as.controller.client.impl.AbstractModelControllerClient.execute(AbstractModelControllerClient.java:71)\n    at org.wildfly.plugin.common.AbstractServerConnection.isDomainServer(AbstractServerConnection.java:245)\n    ... 27 more\nCaused by: java.net.ConnectException: JBAS012174: Could not connect to remote://127.0.0.1:9990. The connection failed\n    at org.jboss.as.protocol.ProtocolConnectionUtils.connectSync(ProtocolConnectionUtils.java:117)\n    at org.jboss.as.protocol.ProtocolConnectionManager$EstablishingConnection.connect(ProtocolConnectionManager.java:256)\n    at org.jboss.as.protocol.ProtocolConnectionManager.connect(ProtocolConnectionManager.java:70)\n    at org.jboss.as.protocol.mgmt.FutureManagementChannel$Establishing.getChannel(FutureManagementChannel.java:204)\n    at org.jboss.as.controller.client.impl.RemotingModelControllerClient.getOrCreateChannel(RemotingModelControllerClient.java:148)\n    at org.jboss.as.controller.client.impl.RemotingModelControllerClient$1.getChannel(RemotingModelControllerClient.java:67)\n    at org.jboss.as.protocol.mgmt.ManagementChannelHandler.executeRequest(ManagementChannelHandler.java:117)\n    at org.jboss.as.protocol.mgmt.ManagementChannelHandler.executeRequest(ManagementChannelHandler.java:92)\n    at org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeRequest(AbstractModelControllerClient.java:236)\n    at org.jboss.as.controller.client.impl.AbstractModelControllerClient.execute(AbstractModelControllerClient.java:141)\n    at org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeForResult(AbstractModelControllerClient.java:127)\n    ... 29 more\nCaused by: java.net.ConnectException: Connection refused: no further information\n    at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\n    at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:708)\n    at org.xnio.nio.WorkerThread$ConnectHandle.handleReady(WorkerThread.java:319)\n    at org.xnio.nio.WorkerThread.run(WorkerThread.java:539)\n    at ...asynchronous invocation...(Unknown Source)\n    at org.jboss.remoting3.EndpointImpl.doConnect(EndpointImpl.java:272)\n    at org.jboss.remoting3.EndpointImpl.doConnect(EndpointImpl.java:253)\n    at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:351)\n    at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:339)\n    at org.jboss.as.protocol.ProtocolConnectionUtils.connect(ProtocolConnectionUtils.java:78)\n    at org.jboss.as.protocol.ProtocolConnectionUtils.connectSync(ProtocolConnectionUtils.java:109)\n    ... 39 more\n</code></pre>\n"},{"tags":["javascript","java","angular","typescript","spring"],"owner":{"account_id":13664734,"reputation":1,"user_id":9858917,"display_name":"sara_suzi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692759897,"creation_date":1692759897,"question_id":76958002,"body_markdown":"In my use case, I have multiple document types and have to generate formControls for each document type dynamically. Similarly, for each document type there will be an inputFile component. To send file content to the backend using `FormData`, how do I access the file content from Polymorpheus content `TuiFileLike`.\r\n[Taiga Documentation for InputFiles](https://taiga-ui.dev/components/input-files)\r\n\r\n```\r\nmakeRequest(file: TuiFileLike): Observable&lt;TuiFileLike | null&gt; {\r\n    this.loadingFiles$.next(file);\r\n \r\n    const formData: FormData = new FormData();\r\n    formData.append(&#39;file&#39;, file, file.name);\r\n    //something like this\r\n}\r\n```\r\n\r\n\r\n\r\nthe file here is of type TuiFileLike hence I cannot access the file content.","title":"Hi, I am using Taiga ui inputFiles component for the first time, how to I get the file content and set it to FormData API?(I am a newbie)","body":"<p>In my use case, I have multiple document types and have to generate formControls for each document type dynamically. Similarly, for each document type there will be an inputFile component. To send file content to the backend using <code>FormData</code>, how do I access the file content from Polymorpheus content <code>TuiFileLike</code>.\n<a href=\"https://taiga-ui.dev/components/input-files\" rel=\"nofollow noreferrer\">Taiga Documentation for InputFiles</a></p>\n<pre><code>makeRequest(file: TuiFileLike): Observable&lt;TuiFileLike | null&gt; {\n    this.loadingFiles$.next(file);\n \n    const formData: FormData = new FormData();\n    formData.append('file', file, file.name);\n    //something like this\n}\n</code></pre>\n<p>the file here is of type TuiFileLike hence I cannot access the file content.</p>\n"},{"tags":["java","abstract","abstract-methods"],"comments":[{"owner":{"account_id":2197352,"reputation":443,"user_id":1942675,"display_name":"ignasi"},"score":3,"creation_date":1375874553,"post_id":18102060,"comment_id":26498936,"body_markdown":"Most possibly an inherited class will implements it. You can find more information [here](http://docs.oracle.com/javase/tutorial/java/IandI/abstract.html)","body":"Most possibly an inherited class will implements it. You can find more information <a href=\"http://docs.oracle.com/javase/tutorial/java/IandI/abstract.html\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":4,"creation_date":1375874581,"post_id":18102060,"comment_id":26498950,"body_markdown":"It&#39;s like asking - I know &quot;cat is an animal&quot;, but how &quot;cat is an animal&quot;?","body":"It&#39;s like asking - I know &quot;cat is an animal&quot;, but how &quot;cat is an animal&quot;?"},{"owner":{"account_id":324610,"reputation":18889,"user_id":645270,"accept_rate":100,"display_name":"keyser"},"score":3,"creation_date":1375874650,"post_id":18102060,"comment_id":26499003,"body_markdown":"You seem to be missing the point of abstract methods","body":"You seem to be missing the point of abstract methods"},{"owner":{"account_id":1075496,"reputation":22388,"user_id":1073758,"accept_rate":75,"display_name":"moonwave99"},"score":1,"creation_date":1375874791,"post_id":18102060,"comment_id":26499105,"body_markdown":"You should not [just] read books, you should get your hands dirty with code ; ))","body":"You should not [just] read books, you should get your hands dirty with code ; ))"}],"answers":[{"tags":[],"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1692759770,"creation_date":1375874647,"answer_id":18102121,"question_id":18102060,"body_markdown":"[Also read docs][1]\r\n\r\n\r\n&gt; When an abstract class is subclassed, the subclass usually provides implementations for all of the abstract methods in its parent class. However, if it does not, then the subclass must also be declared `abstract`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/IandI/abstract.html","title":"Abstract Methods don&#39;t have body?","body":"<p><a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/abstract.html\" rel=\"nofollow noreferrer\">Also read docs</a></p>\n<blockquote>\n<p>When an abstract class is subclassed, the subclass usually provides implementations for all of the abstract methods in its parent class. However, if it does not, then the subclass must also be declared <code>abstract</code>.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2560357,"reputation":1425,"user_id":2221461,"accept_rate":84,"display_name":"RaptorDotCpp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1375874729,"creation_date":1375874729,"answer_id":18102149,"question_id":18102060,"body_markdown":"You can see abstract classes and abstract methods as a sort of contract. If you have an abstract class (any class with an abstract method becomes an abstract class), you can not create an object of that class.\r\n\r\nYou might wonder what the use is of abstract classes in such a case. That&#39;s where the contract comes in to play. Let&#39;s say you have a class Vehicle, with a method drive. You want all vehicles to be able to drive, but you don&#39;t know how yet (a car drives in a different way than a bycicle).\r\n\r\nThat&#39;s why you create the method\r\n\r\n    public abstract void drive();\r\n\r\nand implement it in your subclasses Car and Bycicle.","title":"Abstract Methods don&#39;t have body?","body":"<p>You can see abstract classes and abstract methods as a sort of contract. If you have an abstract class (any class with an abstract method becomes an abstract class), you can not create an object of that class.</p>\n\n<p>You might wonder what the use is of abstract classes in such a case. That's where the contract comes in to play. Let's say you have a class Vehicle, with a method drive. You want all vehicles to be able to drive, but you don't know how yet (a car drives in a different way than a bycicle).</p>\n\n<p>That's why you create the method</p>\n\n<pre><code>public abstract void drive();\n</code></pre>\n\n<p>and implement it in your subclasses Car and Bycicle.</p>\n"},{"tags":[],"owner":{"account_id":3146020,"reputation":623,"user_id":2660489,"accept_rate":40,"display_name":"Mukesh Kumar Singh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1531899605,"creation_date":1375874903,"answer_id":18102207,"question_id":18102060,"body_markdown":"There are two things you need to know\r\n\r\n-declaration : The prototype or structure of the method. e.g:\r\n\r\n        public int add(int a, int b);\r\n\r\n-definition : The implementation of the method\r\n\r\n        public int add(int a, int b) {\r\n            this.a = a;\r\n            this.b = b;\r\n            return a + b;\r\n        }\r\nNow an abstract method can have a declaration i.e a structure or prototype. But it cannot have a definition. The definition should be done in the class which extends the class containing the abstract method:\r\n\r\n        class A {\r\n            public abstract int add(int a,int b); //just declaration- no body\r\n        }\r\n        class B extends A {\r\n            /*must override add() method because it is abstract in class A i.e class B must have a body or definition of add()*/ \r\n            int a, b;\r\n            public int add(int a,int b) {\r\n                this.a = a;\r\n                this.b = b;\r\n                return a + b;\r\n            }\r\n        }\r\n","title":"Abstract Methods don&#39;t have body?","body":"<p>There are two things you need to know</p>\n\n<p>-declaration : The prototype or structure of the method. e.g:</p>\n\n<pre><code>    public int add(int a, int b);\n</code></pre>\n\n<p>-definition : The implementation of the method</p>\n\n<pre><code>    public int add(int a, int b) {\n        this.a = a;\n        this.b = b;\n        return a + b;\n    }\n</code></pre>\n\n<p>Now an abstract method can have a declaration i.e a structure or prototype. But it cannot have a definition. The definition should be done in the class which extends the class containing the abstract method:</p>\n\n<pre><code>    class A {\n        public abstract int add(int a,int b); //just declaration- no body\n    }\n    class B extends A {\n        /*must override add() method because it is abstract in class A i.e class B must have a body or definition of add()*/ \n        int a, b;\n        public int add(int a,int b) {\n            this.a = a;\n            this.b = b;\n            return a + b;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1129088,"reputation":10395,"user_id":1115584,"accept_rate":71,"display_name":"AmitG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375874938,"creation_date":1375874938,"answer_id":18102216,"question_id":18102060,"body_markdown":"following \r\n\r\n    public abstract void fillRect (int x, int y, with, height);\r\n\r\ndoesn&#39;t work with abstract class alone only. It will work with subclass.\r\n\r\nMake a subclass of abstract class and then override it with implementation.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Abstract Methods don&#39;t have body?","body":"<p>following </p>\n\n<pre><code>public abstract void fillRect (int x, int y, with, height);\n</code></pre>\n\n<p>doesn't work with abstract class alone only. It will work with subclass.</p>\n\n<p>Make a subclass of abstract class and then override it with implementation.</p>\n"},{"tags":[],"owner":{"account_id":1075496,"reputation":22388,"user_id":1073758,"accept_rate":75,"display_name":"moonwave99"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1375875048,"creation_date":1375875048,"answer_id":18102265,"question_id":18102060,"body_markdown":"Granted that all animals have from 0 to n legs:\r\n\r\n    abstract Class Animal{\r\n    \r\n        public abstract int legCount();\r\n    \r\n    }\r\n    \r\n    Class Dolphin extends Animal{\r\n    \r\n        public int legCount(){ return 0; } \r\n    \r\n    }\r\n    \r\n    Class Cat extends Animal{\r\n    \r\n        public int legCount(){ return 4; } \r\n    \r\n    }\r\n    \r\n    Class Man extends Animal{\r\n    \r\n        public int legCount(){ return 2; } \r\n    \r\n    }\r\n\r\nEvery specie will have its different way to count legs/paws - you just can&#39;t do for an **abstract** animal, because there is no abstract animal at all, just **concrete** specie individuals.","title":"Abstract Methods don&#39;t have body?","body":"<p>Granted that all animals have from 0 to n legs:</p>\n\n<pre><code>abstract Class Animal{\n\n    public abstract int legCount();\n\n}\n\nClass Dolphin extends Animal{\n\n    public int legCount(){ return 0; } \n\n}\n\nClass Cat extends Animal{\n\n    public int legCount(){ return 4; } \n\n}\n\nClass Man extends Animal{\n\n    public int legCount(){ return 2; } \n\n}\n</code></pre>\n\n<p>Every specie will have its different way to count legs/paws - you just can't do for an <strong>abstract</strong> animal, because there is no abstract animal at all, just <strong>concrete</strong> specie individuals.</p>\n"},{"tags":[],"owner":{"account_id":3067497,"reputation":494,"user_id":2598882,"display_name":"Mohsin Shaikh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1375875064,"creation_date":1375875064,"answer_id":18102272,"question_id":18102060,"body_markdown":"Abstract methods used when one method can implement in more than one sub class with different implementation.\r\n      \r\n  ***sub-class is responsible to provide different implementation of the abstract methods.***\r\n\r\nNote:= One abstract class extends another abstract class.\r\n\r\nnote:= We cannot create a abstract class objcet.","title":"Abstract Methods don&#39;t have body?","body":"<p>Abstract methods used when one method can implement in more than one sub class with different implementation.</p>\n\n<p><strong><em>sub-class is responsible to provide different implementation of the abstract methods.</em></strong></p>\n\n<p>Note:= One abstract class extends another abstract class.</p>\n\n<p>note:= We cannot create a abstract class objcet.</p>\n"},{"tags":[],"owner":{"account_id":82244,"reputation":16374,"user_id":231397,"accept_rate":24,"display_name":"Christian Fries"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1375875511,"creation_date":1375875065,"answer_id":18102274,"question_id":18102060,"body_markdown":"If a class has an abstract method, you cannot instanciate an object from it. You can instanciate an object from a derived class implementing the abstact methods.\r\n\r\nHowever, you can specify that an argument of some other method/function is of an &quot;abstract class&quot;, e.g.,\r\n\r\n&lt;code&gt;\r\ndoSomethingWithIt(MyAbstractClass argument);\r\n&lt;/code&gt;\r\n\r\nand the method &lt;code&gt;doSomethingWithIt&lt;/code&gt; only relies on the fact that the &lt;i&gt;object&lt;/i&gt; passed to it provides an implementation of the abstract methods in &lt;code&gt;MyAbstractClass&lt;/i&gt;, but it does not rely on &lt;i&gt;which derived class&lt;/i&gt; is providing that implementation.\r\n\r\nHence, abstract methods are useful, e.g., if you like to use different implementations for the same method.\r\n\r\nThis is a core technique of OO and I assume all books are covering it.","title":"Abstract Methods don&#39;t have body?","body":"<p>If a class has an abstract method, you cannot instanciate an object from it. You can instanciate an object from a derived class implementing the abstact methods.</p>\n\n<p>However, you can specify that an argument of some other method/function is of an \"abstract class\", e.g.,</p>\n\n<p><code>\ndoSomethingWithIt(MyAbstractClass argument);\n</code></p>\n\n<p>and the method <code>doSomethingWithIt</code> only relies on the fact that the <i>object</i> passed to it provides an implementation of the abstract methods in MyAbstractClass, but it does not rely on <i>which derived class</i> is providing that implementation.</p>\n\n<p>Hence, abstract methods are useful, e.g., if you like to use different implementations for the same method.</p>\n\n<p>This is a core technique of OO and I assume all books are covering it.</p>\n"}],"owner":{"account_id":3144873,"reputation":135,"user_id":2659525,"accept_rate":60,"display_name":"Max_S"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14888,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":18102207,"answer_count":7,"score":5,"last_activity_date":1692759770,"creation_date":1375874477,"question_id":18102060,"body_markdown":"I am new to Java (reading books for 4 months now). So probably my question can appear too simple. My understanding is that abstract methods don&#39;t have a body and can&#39;t provide implementation\r\n\r\nSo how does this works?\r\n\r\n    public abstract void fillRect (int x, int y, with, height);\r\n\r\n\r\nI did&#39;t point the question clearly. We&#39;ve got abstract method. Why does it draw a rectangle if I doesn&#39;t provide a body, just parameters.\r\n\r\nFor example \r\n\r\n    public void paint (Graphics g) {\r\n    \r\n    g.fillRect (5, 5, 30, 30);\r\n    \r\n    }","title":"Abstract Methods don&#39;t have body?","body":"<p>I am new to Java (reading books for 4 months now). So probably my question can appear too simple. My understanding is that abstract methods don't have a body and can't provide implementation</p>\n\n<p>So how does this works?</p>\n\n<pre><code>public abstract void fillRect (int x, int y, with, height);\n</code></pre>\n\n<p>I did't point the question clearly. We've got abstract method. Why does it draw a rectangle if I doesn't provide a body, just parameters.</p>\n\n<p>For example </p>\n\n<pre><code>public void paint (Graphics g) {\n\ng.fillRect (5, 5, 30, 30);\n\n}\n</code></pre>\n"},{"tags":["java","class","private","inner-classes","private-members"],"comments":[{"owner":{"account_id":1678690,"reputation":780,"user_id":1543528,"accept_rate":100,"display_name":"Wang Sheng"},"score":0,"creation_date":1436264526,"post_id":1801718,"comment_id":50526576,"body_markdown":"This question confused me for quite a while until I see the comment...that explains why I cannot access xx.x on my machine..","body":"This question confused me for quite a while until I see the comment...that explains why I cannot access xx.x on my machine.."},{"owner":{"account_id":1292331,"reputation":1012,"user_id":1244177,"display_name":"leon"},"score":4,"creation_date":1456511922,"post_id":1801718,"comment_id":58998805,"body_markdown":"The comments confused me, I run the above code in Java 8, it does compile and run. xx.x can be accessed.","body":"The comments confused me, I run the above code in Java 8, it does compile and run. xx.x can be accessed."},{"owner":{"account_id":1018047,"reputation":36292,"user_id":1029146,"accept_rate":90,"display_name":"temporary_user_name"},"score":1,"creation_date":1575398628,"post_id":1801718,"comment_id":104551038,"body_markdown":"Harish, can you please un-accept the accepted answer (which does not answer the question you asked) and instead accept Martin Andersson&#39;s answer down below, which very thoroughly answers it?","body":"Harish, can you please un-accept the accepted answer (which does not answer the question you asked) and instead accept Martin Andersson&#39;s answer down below, which very thoroughly answers it?"},{"owner":{"account_id":156734,"reputation":26697,"user_id":374198,"accept_rate":62,"display_name":"Josh M."},"score":1,"creation_date":1583180557,"post_id":1801718,"comment_id":107022157,"body_markdown":"FWIW this syntax is absolutely horrendous: `new ABC().new XYZ()`","body":"FWIW this syntax is absolutely horrendous: <code>new ABC().new XYZ()</code>"},{"owner":{"account_id":12038914,"reputation":466,"user_id":11520306,"display_name":"Moritz Wolff"},"score":0,"creation_date":1615678892,"post_id":1801718,"comment_id":117766758,"body_markdown":"Please change the accepted answer - it doesn&#39;t give an answer to the question being asked here.","body":"Please change the accepted answer - it doesn&#39;t give an answer to the question being asked here."}],"answers":[{"tags":[],"owner":{"account_id":42594,"reputation":12865,"user_id":124111,"accept_rate":98,"display_name":"aberrant80"},"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1259214566,"creation_date":1259214566,"answer_id":1801757,"question_id":1801718,"body_markdown":"Because your `main()` method is in the `ABC` class, which *can* access its own inner class.","title":"Why can outer Java classes access inner class private members?","body":"<p>Because your <code>main()</code> method is in the <code>ABC</code> class, which <em>can</em> access its own inner class.</p>\n"},{"tags":[],"owner":{"account_id":59951,"reputation":51423,"user_id":179233,"accept_rate":100,"display_name":"Kaleb Brasee"},"down_vote_count":44,"up_vote_count":127,"is_accepted":true,"score":83,"last_activity_date":1259214733,"creation_date":1259214733,"answer_id":1801768,"question_id":1801718,"body_markdown":"The inner class is just a way to cleanly separate some functionality that really belongs to the original outer class.  They are intended to be used when you have 2 requirements:\r\n\r\n1. Some piece of functionality in your outer class would be most clear if it was implemented in a separate class.\r\n2. Even though it&#39;s in a separate class, the functionality is very closely tied to way that the outer class works.\r\n\r\nGiven these requirements, inner classes have full access to their outer class.  Since they&#39;re basically a member of the outer class, it makes sense that they have access to methods and attributes of the outer class -- including privates.","title":"Why can outer Java classes access inner class private members?","body":"<p>The inner class is just a way to cleanly separate some functionality that really belongs to the original outer class.  They are intended to be used when you have 2 requirements:</p>\n\n<ol>\n<li>Some piece of functionality in your outer class would be most clear if it was implemented in a separate class.</li>\n<li>Even though it's in a separate class, the functionality is very closely tied to way that the outer class works.</li>\n</ol>\n\n<p>Given these requirements, inner classes have full access to their outer class.  Since they're basically a member of the outer class, it makes sense that they have access to methods and attributes of the outer class -- including privates.</p>\n"},{"tags":[],"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"down_vote_count":0,"up_vote_count":62,"is_accepted":false,"score":62,"last_activity_date":1259215278,"creation_date":1259215278,"answer_id":1801801,"question_id":1801718,"body_markdown":"The inner class is (for purposes of access control) considered to be part of the containing class. This means full access to all privates.\r\n\r\nThe way this is implemented is using synthetic package-protected methods: The inner class will be compiled to a separate class in the same package (ABC$XYZ). The JVM does not support this level of isolation directly, so that at the bytecode-level ABC$XYZ will have package-protected methods that the outer class uses to get to the private methods/fields.","title":"Why can outer Java classes access inner class private members?","body":"<p>The inner class is (for purposes of access control) considered to be part of the containing class. This means full access to all privates.</p>\n\n<p>The way this is implemented is using synthetic package-protected methods: The inner class will be compiled to a separate class in the same package (ABC$XYZ). The JVM does not support this level of isolation directly, so that at the bytecode-level ABC$XYZ will have package-protected methods that the outer class uses to get to the private methods/fields.</p>\n"},{"tags":[],"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1692759445,"creation_date":1259216859,"answer_id":1801876,"question_id":1801718,"body_markdown":"Access restrictions are done on a per class basis.  There is no way for a method declared in a class to not be able to access all of the instance/class members.  It stands to reason that inner classes also have unfettered access to the members of the outer class, and the outer class has unfettered access to the members of the inner class.\r\n\r\nBy putting a class inside another class, you are making it tightly tied to the implementation, and anything that is part of the implementation should have access to the other parts.","title":"Why can outer Java classes access inner class private members?","body":"<p>Access restrictions are done on a per class basis.  There is no way for a method declared in a class to not be able to access all of the instance/class members.  It stands to reason that inner classes also have unfettered access to the members of the outer class, and the outer class has unfettered access to the members of the inner class.</p>\n<p>By putting a class inside another class, you are making it tightly tied to the implementation, and anything that is part of the implementation should have access to the other parts.</p>\n"},{"tags":[],"owner":{"account_id":446,"reputation":70492,"user_id":573,"accept_rate":65,"display_name":"abyx"},"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1259217738,"creation_date":1259217738,"answer_id":1801925,"question_id":1801718,"body_markdown":"The logic behind inner classes is that if you create an inner class in an outer class, that&#39;s because they will need to share a few things, and thus it makes sense for them to be able to have more flexibility than &quot;regular&quot; classes have.\r\n\r\nIf, in your case, it makes no sense for the classes to be able to see each other&#39;s inner workings - which basically means that the inner class could simply have been made a regular class, you can declare the inner class as `static class XYZ`. Using `static` will mean they will not share state (and, for example `new ABC().new XYZ()` won&#39;t work, and you will need to use `new ABC.XYZ()`.  \r\nBut, if that&#39;s the case, you should think about whether `XYZ` should really be an inner class and that maybe it deserves its own file. Sometimes it makes sense to create a static inner class (for example, if you need a small class that implements an interface your outer class is using, and that won&#39;t be helpful anywhere else). But at about half of the time it should have been made an outer class.","title":"Why can outer Java classes access inner class private members?","body":"<p>The logic behind inner classes is that if you create an inner class in an outer class, that's because they will need to share a few things, and thus it makes sense for them to be able to have more flexibility than \"regular\" classes have.</p>\n\n<p>If, in your case, it makes no sense for the classes to be able to see each other's inner workings - which basically means that the inner class could simply have been made a regular class, you can declare the inner class as <code>static class XYZ</code>. Using <code>static</code> will mean they will not share state (and, for example <code>new ABC().new XYZ()</code> won't work, and you will need to use <code>new ABC.XYZ()</code>.<br>\nBut, if that's the case, you should think about whether <code>XYZ</code> should really be an inner class and that maybe it deserves its own file. Sometimes it makes sense to create a static inner class (for example, if you need a small class that implements an interface your outer class is using, and that won't be helpful anywhere else). But at about half of the time it should have been made an outer class.</p>\n"},{"tags":[],"owner":{"account_id":1027697,"reputation":51,"user_id":1036642,"display_name":"thomasfr"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1320794314,"creation_date":1320794314,"answer_id":8058408,"question_id":1801718,"body_markdown":"An IMHO important use case for inner classes is the factory pattern.\r\nThe enclosing class may prepare an instance of the inner class w/o access restrictions and pass the instance to the outside world, where private access will be honored.\r\n\r\nIn contradiction to [abyx][1] declaring the class static doesn&#39;t change access restrictions to the enclosing class, as shown below. Also the access restrictions between static classes in the same enclosing class are working. I was surprised ...\r\n\r\n    class MyPrivates {\r\n        static class Inner1 { private int test1 = 2; }\r\n        static class Inner2 { private int test2 = new Inner1().test1; }\r\n        \t\r\n        public static void main(String[] args) {\r\n        \tSystem.out.println(&quot;Inner : &quot;+new Inner2().test2);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1801718/outer-java-class-is-able-to-access-inner-class-private-members/1801925#1801925 &quot;abyx&quot;","title":"Why can outer Java classes access inner class private members?","body":"<p>An IMHO important use case for inner classes is the factory pattern.\nThe enclosing class may prepare an instance of the inner class w/o access restrictions and pass the instance to the outside world, where private access will be honored.</p>\n\n<p>In contradiction to <a href=\"https://stackoverflow.com/questions/1801718/outer-java-class-is-able-to-access-inner-class-private-members/1801925#1801925\" title=\"abyx\">abyx</a> declaring the class static doesn't change access restrictions to the enclosing class, as shown below. Also the access restrictions between static classes in the same enclosing class are working. I was surprised ...</p>\n\n<pre><code>class MyPrivates {\n    static class Inner1 { private int test1 = 2; }\n    static class Inner2 { private int test2 = new Inner1().test1; }\n\n    public static void main(String[] args) {\n        System.out.println(\"Inner : \"+new Inner2().test2);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1284007,"reputation":689,"user_id":1237458,"display_name":"Ich"},"down_vote_count":1,"up_vote_count":69,"is_accepted":false,"score":68,"last_activity_date":1534972198,"creation_date":1330419279,"answer_id":9478918,"question_id":1801718,"body_markdown":"If you like to hide the private members of your inner class, you may define an Interface with the public members and create an anonymous inner class that implements this interface. Example bellow:\r\n\r\n    class ABC{\r\n        private interface MyInterface{\r\n             void printInt();\r\n        }\r\n\r\n        private static MyInterface mMember = new MyInterface(){\r\n            private int x=10;\r\n\r\n            public void printInt(){\r\n                System.out.println(String.valueOf(x));\r\n            }\r\n        };\r\n\r\n        public static void main(String... args){\r\n            System.out.println(&quot;Hello :: &quot;+mMember.x); ///not allowed\r\n            mMember.printInt(); // allowed\r\n        }\r\n    }\r\n","title":"Why can outer Java classes access inner class private members?","body":"<p>If you like to hide the private members of your inner class, you may define an Interface with the public members and create an anonymous inner class that implements this interface. Example bellow:</p>\n\n<pre><code>class ABC{\n    private interface MyInterface{\n         void printInt();\n    }\n\n    private static MyInterface mMember = new MyInterface(){\n        private int x=10;\n\n        public void printInt(){\n            System.out.println(String.valueOf(x));\n        }\n    };\n\n    public static void main(String... args){\n        System.out.println(\"Hello :: \"+mMember.x); ///not allowed\n        mMember.printInt(); // allowed\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":229573,"reputation":4623,"user_id":492611,"display_name":"Colin Su"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1395975962,"creation_date":1395975962,"answer_id":22703425,"question_id":1801718,"body_markdown":"There&#39;s a correct answer appearing on another question similar to this:\r\nhttps://stackoverflow.com/questions/19747812/why-can-the-privite-member-of-an-inner-static-class-be-accessed-by-the-methods-o?lq=1\r\n\r\nIt says there&#39;s a definition of private scoping on [JLS - Determining Accessibility](http://docs.oracle.com/javase/specs/jls/se7/html/jls-6.html#jls-6.6.1):\r\n\r\n&gt;Otherwise, if the member or constructor is declared private, **then access is permitted if and only if it occurs within the body of the top level class (&#167;7.6) that encloses the declaration of the member or constructor.**","title":"Why can outer Java classes access inner class private members?","body":"<p>There's a correct answer appearing on another question similar to this:\n<a href=\"https://stackoverflow.com/questions/19747812/why-can-the-privite-member-of-an-inner-static-class-be-accessed-by-the-methods-o?lq=1\">Why can the private member of an nested class be accessed by the methods of the enclosing class?</a></p>\n\n<p>It says there's a definition of private scoping on <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-6.html#jls-6.6.1\" rel=\"noreferrer\">JLS - Determining Accessibility</a>:</p>\n\n<blockquote>\n  <p>Otherwise, if the member or constructor is declared private, <strong>then access is permitted if and only if it occurs within the body of the top level class (§7.6) that encloses the declaration of the member or constructor.</strong></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1322512,"reputation":18457,"user_id":1268003,"accept_rate":82,"display_name":"Martin Andersson"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1686576190,"creation_date":1407497406,"answer_id":25202506,"question_id":1801718,"body_markdown":"Thilo added a good [answer](https://stackoverflow.com/a/1801801/1268003) for your first question &quot;How is this possible?&quot;. I wish to elaborate a bit on the second asked question: Why is this behavior allowed?\r\n\r\nFor starters, let&#39;s be clear that this behavior is not limited to inner classes, which by definition are non-static nested types. This behavior is allowed for _all_ nested types, including nested enums and interfaces which must be static and cannot have an enclosing instance. In other words: nested code have full access to enclosing code - and vice versa.\r\n\r\nSo, why then? I think an example illustrate the point better.\r\n\r\nThink of your body and your brain. If you inject heroin into your arm, your brain gets high. If the amygdala region of your brain see what he believe is a threat to your personally safety, say a wasp for example, he&#39;ll make your body turn the other way around and run for the hills without You &quot;thinking&quot; twice about it.\r\n\r\nSo, the brain is an intrinsic part of the body - and strangely enough, the other way around too. Using access control between such closely related entities forfeit their claim of relationship. If you do need access control, then you need to separate the classes more into truly distinct units. Until then, they are the same unit. A driving example for further studies would be to look at how a Java [`Iterator`](http://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html) usually is implemented.\r\n\r\nUnlimited access from enclosing code to nested code makes it rather useless to add access modifiers to fields and methods of a nested private type. Doing so is adding clutter and might provide a false sense of safety for new comers of the Java programming language.","title":"Why can outer Java classes access inner class private members?","body":"<p>Thilo added a good <a href=\"https://stackoverflow.com/a/1801801/1268003\">answer</a> for your first question &quot;How is this possible?&quot;. I wish to elaborate a bit on the second asked question: Why is this behavior allowed?</p>\n<p>For starters, let's be clear that this behavior is not limited to inner classes, which by definition are non-static nested types. This behavior is allowed for <em>all</em> nested types, including nested enums and interfaces which must be static and cannot have an enclosing instance. In other words: nested code have full access to enclosing code - and vice versa.</p>\n<p>So, why then? I think an example illustrate the point better.</p>\n<p>Think of your body and your brain. If you inject heroin into your arm, your brain gets high. If the amygdala region of your brain see what he believe is a threat to your personally safety, say a wasp for example, he'll make your body turn the other way around and run for the hills without You &quot;thinking&quot; twice about it.</p>\n<p>So, the brain is an intrinsic part of the body - and strangely enough, the other way around too. Using access control between such closely related entities forfeit their claim of relationship. If you do need access control, then you need to separate the classes more into truly distinct units. Until then, they are the same unit. A driving example for further studies would be to look at how a Java <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html\" rel=\"nofollow noreferrer\"><code>Iterator</code></a> usually is implemented.</p>\n<p>Unlimited access from enclosing code to nested code makes it rather useless to add access modifiers to fields and methods of a nested private type. Doing so is adding clutter and might provide a false sense of safety for new comers of the Java programming language.</p>\n"},{"tags":[],"owner":{"account_id":13436322,"reputation":1,"user_id":9694654,"display_name":"MonMoonkey"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1524625993,"creation_date":1524625993,"answer_id":50013513,"question_id":1801718,"body_markdown":"Inner class is regarded as an attribute of the Outer class. Therefore, no matter the Inner class instance variable is private or not, Outer class can access without any problem just like accessing its other private attributes(variables).\r\n\r\n    class Outer{\r\n\r\n    private int a;\r\n\r\n    class Inner{\r\n    private int b=0;\r\n    }\r\n\r\n    void outMethod(){\r\n    a = new Inner().b;\r\n    }\r\n    }","title":"Why can outer Java classes access inner class private members?","body":"<p>Inner class is regarded as an attribute of the Outer class. Therefore, no matter the Inner class instance variable is private or not, Outer class can access without any problem just like accessing its other private attributes(variables).</p>\n\n<pre><code>class Outer{\n\nprivate int a;\n\nclass Inner{\nprivate int b=0;\n}\n\nvoid outMethod(){\na = new Inner().b;\n}\n}\n</code></pre>\n"}],"owner":{"account_id":73480,"reputation":7699,"user_id":211599,"accept_rate":60,"display_name":"Harish"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108898,"favorite_count":0,"down_vote_count":2,"up_vote_count":205,"accepted_answer_id":1801768,"answer_count":10,"score":203,"last_activity_date":1692759445,"creation_date":1259213644,"question_id":1801718,"body_markdown":"I observed that Outer classes can access inner classes private instance variables. How is this possible? Here is a sample code demonstrating the same:\r\n\r\n\r\n    class ABC{\r\n        class XYZ{\r\n            private int x=10;\r\n        }\r\n        \r\n        public static void main(String... args){\r\n            ABC.XYZ xx = new ABC().new XYZ();\r\n            System.out.println(&quot;Hello :: &quot;+xx.x); ///Why is this allowed??\r\n        }\r\n    }\r\n\r\nWhy is this behavior allowed?\r\n","title":"Why can outer Java classes access inner class private members?","body":"<p>I observed that Outer classes can access inner classes private instance variables. How is this possible? Here is a sample code demonstrating the same:</p>\n\n<pre><code>class ABC{\n    class XYZ{\n        private int x=10;\n    }\n\n    public static void main(String... args){\n        ABC.XYZ xx = new ABC().new XYZ();\n        System.out.println(\"Hello :: \"+xx.x); ///Why is this allowed??\n    }\n}\n</code></pre>\n\n<p>Why is this behavior allowed?</p>\n"},{"tags":["java","ide","hover","javadoc"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1692877725,"post_id":76957941,"comment_id":135685212,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":26984569,"reputation":1,"user_id":20548417,"display_name":"jaimal singh"},"score":0,"creation_date":1692970993,"post_id":76957941,"comment_id":135701512,"body_markdown":"I am using vs-code. I have a java gradle project with dependencies. The depepenacy .jars having source-code, we can see javadocs in hover suggestions  when we are refering any class from those dependencies. When we don&#39;t have source-code but we have javdocs (html format) packed with the jar we see hover suggestion but not java-docs documentaion. \nIs it even possible to show hover javadoc when java source-code is not there but javdocs are packed inside the .jar? For any IDE intelliJ, eclipse? \n\nFor vs-code I am using extension Language Support for Java(TM) by Red Hat.","body":"I am using vs-code. I have a java gradle project with dependencies. The depepenacy .jars having source-code, we can see javadocs in hover suggestions  when we are refering any class from those dependencies. When we don&#39;t have source-code but we have javdocs (html format) packed with the jar we see hover suggestion but not java-docs documentaion.  Is it even possible to show hover javadoc when java source-code is not there but javdocs are packed inside the .jar? For any IDE intelliJ, eclipse?   For vs-code I am using extension Language Support for Java(TM) by Red Hat."}],"owner":{"account_id":26984569,"reputation":1,"user_id":20548417,"display_name":"jaimal singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692758721,"creation_date":1692758721,"question_id":76957941,"body_markdown":"Will hover suggestions for java (any IDE) work if source code is not there but JavaDocs are shipped with the JAR?\r\n\r\nI tried few things on VsCode:\r\n\r\n1. Code refering to class from JAR with &quot;source code&quot; was showing hover suggestions.\r\n2. Code refering to class from JAR with &quot;no source&quot; code but &quot;attached Javadocs&quot; was not showing hover suggestions.","title":"Will hover suggestions for java (any IDE) work if source code is not there but JavaDocs are shipped with the JAR?","body":"<p>Will hover suggestions for java (any IDE) work if source code is not there but JavaDocs are shipped with the JAR?</p>\n<p>I tried few things on VsCode:</p>\n<ol>\n<li>Code refering to class from JAR with &quot;source code&quot; was showing hover suggestions.</li>\n<li>Code refering to class from JAR with &quot;no source&quot; code but &quot;attached Javadocs&quot; was not showing hover suggestions.</li>\n</ol>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1490241952,"post_id":42966889,"comment_id":73027709,"body_markdown":"*A* specific  java project or any project that you try?","body":"<i>A</i> specific  java project or any project that you try?"},{"owner":{"account_id":10508927,"reputation":1279,"user_id":7745251,"display_name":"ieatczp"},"score":0,"creation_date":1490243816,"post_id":42966889,"comment_id":73028194,"body_markdown":"Not really, It&#39;s a common project.","body":"Not really, It&#39;s a common project."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":2,"creation_date":1490243876,"post_id":42966889,"comment_id":73028209,"body_markdown":"Then try to provide a [mcve]. Not sure if we can help otherwise. Or write a bug report to JetBrains.","body":"Then try to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Not sure if we can help otherwise. Or write a bug report to JetBrains."},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1490250801,"post_id":42966889,"comment_id":73030650,"body_markdown":"Switch to javac instead of Eclipse compiler.","body":"Switch to javac instead of Eclipse compiler."},{"owner":{"account_id":10508927,"reputation":1279,"user_id":7745251,"display_name":"ieatczp"},"score":0,"creation_date":1490251226,"post_id":42966889,"comment_id":73030833,"body_markdown":"In fact, my javaWeb project has some faults in other places. Maybe in other words, it&#39;s not a complete javaWeb project, so I have to use eclipse compiler instead of javac to ignore some errors.","body":"In fact, my javaWeb project has some faults in other places. Maybe in other words, it&#39;s not a complete javaWeb project, so I have to use eclipse compiler instead of javac to ignore some errors."}],"answers":[{"tags":[],"owner":{"account_id":2050865,"reputation":904,"user_id":1829921,"display_name":"omerhakanbilici"},"down_vote_count":1,"up_vote_count":53,"is_accepted":false,"score":52,"last_activity_date":1500882067,"creation_date":1500882067,"answer_id":45274786,"question_id":42966889,"body_markdown":"I changed my compiler to Eclipse and run my project. Afterwards changed back to Javac and problem solved. I don&#39;t know exact problem but it can help who is looking for solution. \r\n\r\n[![intellij java compiler][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CAXA0.png","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>I changed my compiler to Eclipse and run my project. Afterwards changed back to Javac and problem solved. I don't know exact problem but it can help who is looking for solution. </p>\n\n<p><a href=\"https://i.stack.imgur.com/CAXA0.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/CAXA0.png\" alt=\"intellij java compiler\"></a></p>\n"},{"tags":[],"owner":{"account_id":1326105,"reputation":1156,"user_id":1270870,"display_name":"sezerug"},"down_vote_count":0,"up_vote_count":88,"is_accepted":false,"score":88,"last_activity_date":1517584667,"creation_date":1517584667,"answer_id":48585693,"question_id":42966889,"body_markdown":"I solved this issue by increasing the default value(700) of *Build process heap size* on IntelliJ&#39;s compiler settings.\r\n\r\n\r\n[![enter image description here][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/atUL1.png","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>I solved this issue by increasing the default value(700) of <em>Build process heap size</em> on IntelliJ's compiler settings.</p>\n\n<p><a href=\"https://i.stack.imgur.com/atUL1.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/atUL1.png\" alt=\"enter image description here\"></a> </p>\n"},{"tags":[],"owner":{"account_id":2685454,"reputation":1060,"user_id":2319952,"display_name":"Chris K."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1532677974,"creation_date":1532677974,"answer_id":51553312,"question_id":42966889,"body_markdown":"Changing the Language Level in the Project Settings (Ctrl + Alt + Shift + S) to Java 8 solved the problem for me","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>Changing the Language Level in the Project Settings (Ctrl + Alt + Shift + S) to Java 8 solved the problem for me</p>\n"},{"tags":[],"owner":{"account_id":14657201,"reputation":1791,"user_id":10585453,"display_name":"Musab Bozkurt"},"down_vote_count":0,"up_vote_count":169,"is_accepted":false,"score":169,"last_activity_date":1540983515,"creation_date":1540983515,"answer_id":53081770,"question_id":42966889,"body_markdown":"1. On **Intellij IDEA Ctrl + Alt + S** to open settings.\r\n2. **Build, Execution, Deployment** -&gt; **Compiler** -&gt; **Java Compiler** \r\n3. choose your java version from **Project bytecode version** \r\n4. Uncheck **Use compiler from module target JDK when possible** \r\n5. click **apply** and **ok**.","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<ol>\n<li>On <strong>Intellij IDEA Ctrl + Alt + S</strong> to open settings.</li>\n<li><strong>Build, Execution, Deployment</strong> -> <strong>Compiler</strong> -> <strong>Java Compiler</strong> </li>\n<li>choose your java version from <strong>Project bytecode version</strong> </li>\n<li>Uncheck <strong>Use compiler from module target JDK when possible</strong> </li>\n<li>click <strong>apply</strong> and <strong>ok</strong>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8466639,"reputation":71,"user_id":6350617,"display_name":"Duc Hiep Hoang"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1555511983,"creation_date":1555509855,"answer_id":55729418,"question_id":42966889,"body_markdown":"You have to disabled the Javac Options: Use compiler from module target JDK when possible.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/orEea.png","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>You have to disabled the Javac Options: Use compiler from module target JDK when possible.\n<a href=\"https://i.stack.imgur.com/orEea.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/orEea.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":29583,"reputation":7140,"user_id":80075,"accept_rate":100,"display_name":"Tony BenBrahim"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1564125384,"creation_date":1564125384,"answer_id":57214947,"question_id":42966889,"body_markdown":"In my case, using Java 11, I had:\r\n```\r\n public List&lt;String&gt; foo() {\r\n   ...\r\n   return response.readEntity(new GenericType&lt;List&lt;String&gt;&gt;() {});\r\n```\r\nand Intellij suggested I should use `&lt;&gt;` instead of `GenericType&lt;List&lt;String&gt;&gt;`, as such:\r\n```\r\n public List&lt;String&gt; foo() {\r\n   ...\r\n   return response.readEntity(new GenericType&lt;&gt;() {});\r\n```\r\nI did that in four functions and the project stopped compiling with an internal compiler error, reverted and it compiled again. Looks like a bug with type inference.\r\n","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>In my case, using Java 11, I had:</p>\n\n<pre><code> public List&lt;String&gt; foo() {\n   ...\n   return response.readEntity(new GenericType&lt;List&lt;String&gt;&gt;() {});\n</code></pre>\n\n<p>and Intellij suggested I should use <code>&lt;&gt;</code> instead of <code>GenericType&lt;List&lt;String&gt;&gt;</code>, as such:</p>\n\n<pre><code> public List&lt;String&gt; foo() {\n   ...\n   return response.readEntity(new GenericType&lt;&gt;() {});\n</code></pre>\n\n<p>I did that in four functions and the project stopped compiling with an internal compiler error, reverted and it compiled again. Looks like a bug with type inference.</p>\n"},{"tags":[],"owner":{"account_id":425500,"reputation":793,"user_id":5822240,"display_name":"Filomat"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1568629635,"creation_date":1568629635,"answer_id":57954919,"question_id":42966889,"body_markdown":"In my case it was because of `lombok` library with intellij 2019.2 &amp; java11.\r\n\r\nAccording to [this IDEA bug][1] after workaround idea works again:\r\n\r\n`Disable all building from intelliJ and dedicate the build to Maven.`\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/IDEA-220430\r\n  [2]: https://i.stack.imgur.com/MjiO8.png","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>In my case it was because of <code>lombok</code> library with intellij 2019.2 &amp; java11.</p>\n\n<p>According to <a href=\"https://youtrack.jetbrains.com/issue/IDEA-220430\" rel=\"noreferrer\">this IDEA bug</a> after workaround idea works again:</p>\n\n<p><code>Disable all building from intelliJ and dedicate the build to Maven.</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/MjiO8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/MjiO8.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":1661378,"reputation":1660,"user_id":1529616,"accept_rate":46,"display_name":"velocity"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1587120039,"creation_date":1587120039,"answer_id":61269630,"question_id":42966889,"body_markdown":"For me the module&#39;s target bytecode version was set to 5. I changed it to 8 and the error is gone:    \r\n\r\n[![module&#39;s bytecode version setting][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7Uxve.png","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>For me the module's target bytecode version was set to 5. I changed it to 8 and the error is gone:    </p>\n\n<p><a href=\"https://i.stack.imgur.com/7Uxve.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/7Uxve.png\" alt=\"module&#39;s bytecode version setting\"></a></p>\n"},{"tags":[],"owner":{"account_id":4051599,"reputation":2484,"user_id":3330947,"accept_rate":75,"display_name":"dev_in_progress"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1589881107,"creation_date":1589881107,"answer_id":61887851,"question_id":42966889,"body_markdown":"In my case, it was response type in `restTemplate`:\r\n[![enter image description here][1]][1]\r\n\r\n\tResponseEntity&lt;Map&lt;String, Integer&gt;&gt; response = restTemplate.exchange(\r\n\t\t\teurl,\r\n\t\t\tHttpMethod.POST,\r\n\t\t\trequestEntity,\r\n\t\t\tnew ParameterizedTypeReference&lt;&gt;() { &lt;---- this causes error\r\n\t\t\t}\r\n\t);\r\n\r\nShould be like this:\r\n\r\n    ParameterizedTypeReference&lt;Map&lt;String, Integer&gt;&gt; responseType = new ParameterizedTypeReference&lt;&gt;() {};\r\n    \r\n    ResponseEntity&lt;Map&lt;String, Integer&gt;&gt; response = restTemplate.exchange(\r\n    \t\turl,\r\n    \t\tHttpMethod.POST,\r\n    \t\trequestEntity,\r\n    \t\tresponseType\r\n    );\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8PNAj.png","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>In my case, it was response type in <code>restTemplate</code>:\n<a href=\"https://i.stack.imgur.com/8PNAj.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/8PNAj.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>ResponseEntity&lt;Map&lt;String, Integer&gt;&gt; response = restTemplate.exchange(\n        eurl,\n        HttpMethod.POST,\n        requestEntity,\n        new ParameterizedTypeReference&lt;&gt;() { &lt;---- this causes error\n        }\n);\n</code></pre>\n\n<p>Should be like this:</p>\n\n<pre><code>ParameterizedTypeReference&lt;Map&lt;String, Integer&gt;&gt; responseType = new ParameterizedTypeReference&lt;&gt;() {};\n\nResponseEntity&lt;Map&lt;String, Integer&gt;&gt; response = restTemplate.exchange(\n        url,\n        HttpMethod.POST,\n        requestEntity,\n        responseType\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6158931,"reputation":357,"user_id":4801130,"display_name":"Thiago de Melo Fontana"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592256634,"creation_date":1592256634,"answer_id":62397363,"question_id":42966889,"body_markdown":"I had the same problem. I fixed changing my settings. Target bytecode version for equals Project bytecode version.\r\n \r\n[![enter image description here][1]][1]\r\n\r\n\r\n[1]: https://i.stack.imgur.com/4foRH.png","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>I had the same problem. I fixed changing my settings. Target bytecode version for equals Project bytecode version.</p>\n\n<p><a href=\"https://i.stack.imgur.com/4foRH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4foRH.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":11245876,"reputation":11,"user_id":8248652,"display_name":"NobuhleM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592393160,"creation_date":1592393160,"answer_id":62427868,"question_id":42966889,"body_markdown":"What worked for me is to update the Open JDK version","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>What worked for me is to update the Open JDK version</p>\n"},{"tags":[],"owner":{"account_id":2971110,"reputation":14744,"user_id":2523147,"accept_rate":38,"display_name":"prime"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1596855860,"creation_date":1596855860,"answer_id":63311419,"question_id":42966889,"body_markdown":"In **JIdea 2020.1.2 and above**,\r\n\r\nThis is may be the language-level set in Project Structure is not compatible with the target byte-code version.\r\n\r\nYou have to change the target bytecode version .\r\n\r\n 1. Go to **Settings** [ Ctrl+Alt+S ]\r\n 2. Select **Java Compiler**\r\n 3. Select module in the table\r\n 4. Change the byte-code version to map what you selected in the previous step for language-level\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**NOTE :**\r\nHow to check the language-level\r\n\r\n 1. Go to **Project Structure** [ &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;S&lt;/kbd&gt;\r\n]\r\n 2. Select **Modules** sub section\r\n 3. **Select** each **module**\r\n 4. Under sources-section, **check Language Level**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8b5j3.jpg\r\n  [2]: https://i.stack.imgur.com/hh9cr.jpg","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>In <strong>JIdea 2020.1.2 and above</strong>,</p>\n<p>This is may be the language-level set in Project Structure is not compatible with the target byte-code version.</p>\n<p>You have to change the target bytecode version .</p>\n<ol>\n<li>Go to <strong>Settings</strong> [ Ctrl+Alt+S ]</li>\n<li>Select <strong>Java Compiler</strong></li>\n<li>Select module in the table</li>\n<li>Change the byte-code version to map what you selected in the previous step for language-level</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/8b5j3.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/8b5j3.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>NOTE :</strong>\nHow to check the language-level</p>\n<ol>\n<li>Go to <strong>Project Structure</strong> [ <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>Shift</kbd>+<kbd>S</kbd>\n]</li>\n<li>Select <strong>Modules</strong> sub section</li>\n<li><strong>Select</strong> each <strong>module</strong></li>\n<li>Under sources-section, <strong>check Language Level</strong></li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/hh9cr.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/hh9cr.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":16291288,"reputation":81,"user_id":14230184,"display_name":"kl w"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1618853931,"creation_date":1610185779,"answer_id":65641256,"question_id":42966889,"body_markdown":"[![Per-module bytecode version settings][1]][1]\r\n\r\nI met the same problem\r\n\r\nI solved it by changing the Target bytecode error from 1.5 to 8 \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/k7mTZ.png","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p><a href=\"https://i.stack.imgur.com/k7mTZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k7mTZ.png\" alt=\"Per-module bytecode version settings\" /></a></p>\n<p>I met the same problem</p>\n<p>I solved it by changing the Target bytecode error from 1.5 to 8</p>\n"},{"tags":[],"owner":{"account_id":19242836,"reputation":11,"user_id":14062471,"display_name":"Pradyumna Revur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617491863,"creation_date":1617491863,"answer_id":66936700,"question_id":42966889,"body_markdown":"I got the same error with Community edition 2020.3 on Windows 10 with an older version of the JDK (openjdk version &quot;11&quot; 2018-09-25).  \r\n\r\n**Updating the JDK to javac 11.0.10 fixed the issue.**\r\n\r\nHere&#39;s the stack trace that showed up with the error when using openjdk version &quot;11&quot; 2018-09-25:\r\n\r\n    java: compiler message file broken: key=compiler.misc.msg.bug arguments=11, {1}, {2}, {3}, {4}, {5}, {6}, {7}\r\n    java: java.lang.AssertionError\r\n    java: \tat jdk.compiler/com.sun.tools.javac.util.Assert.error(Assert.java:155)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.util.Assert.check(Assert.java:46)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.DeferredAttr$2$1.setOverloadKind(DeferredAttr.java:172)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.ArgumentAttr.visitReference(ArgumentAttr.java:283)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCMemberReference.accept(JCTree.java:2190)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.ArgumentAttr.attribArg(ArgumentAttr.java:197)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribTree(Attr.java:653)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribArgs(Attr.java:751)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.visitApply(Attr.java:1997)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCMethodInvocation.accept(JCTree.java:1634)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribTree(Attr.java:655)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.visitSelect(Attr.java:3573)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCFieldAccess.accept(JCTree.java:2110)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.visitApply(Attr.java:2006)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.visitReturn(Attr.java:1866)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCReturn.accept(JCTree.java:1546)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribStat(Attr.java:724)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribStats(Attr.java:743)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.visitBlock(Attr.java:1294)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCBlock.accept(JCTree.java:1020)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.DeferredAttr.attribSpeculative(DeferredAttr.java:498)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.DeferredAttr.attribSpeculative(DeferredAttr.java:481)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.DeferredAttr.attribSpeculativeLambda(DeferredAttr.java:456)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.DeferredAttr$DeferredAttrNode$StructuralStuckChecker.canLambdaBodyCompleteNormally(DeferredAttr.java:900)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.DeferredAttr$DeferredAttrNode$StructuralStuckChecker.visitLambda(DeferredAttr.java:878)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCLambda.accept(JCTree.java:1807)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.DeferredAttr$DeferredAttrNode$StructuralStuckChecker.complete(DeferredAttr.java:832)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.DeferredAttr$DeferredType.check(DeferredAttr.java:335)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.DeferredAttr$DeferredAttrNode.process(DeferredAttr.java:779)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.DeferredAttr$DeferredAttrContext.complete(DeferredAttr.java:626)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Infer.instantiateMethod(Infer.java:214)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Resolve.rawInstantiate(Resolve.java:605)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Resolve.selectBest(Resolve.java:1563)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Resolve.findMethodInScope(Resolve.java:1733)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Resolve.findMethod(Resolve.java:1802)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Resolve.findMethod(Resolve.java:1776)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Resolve$10.doLookup(Resolve.java:2654)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Resolve$BasicLookupHelper.lookup(Resolve.java:3293)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Resolve.lookupMethod(Resolve.java:3543)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Resolve.resolveQualifiedMethod(Resolve.java:2651)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Resolve.resolveQualifiedMethod(Resolve.java:2645)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.selectSym(Attr.java:3721)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.visitSelect(Attr.java:3601)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.visitLambda(Attr.java:2598)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.DeferredAttr$4.complete(DeferredAttr.java:374)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.DeferredAttr$DeferredType.check(DeferredAttr.java:321)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Resolve$MethodResultInfo.check(Resolve.java:1060)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Resolve$4.checkArg(Resolve.java:887)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Resolve$AbstractMethodCheck.argumentsAcceptable(Resolve.java:775)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Resolve$4.argumentsAcceptable(Resolve.java:896)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Infer.instantiateMethod(Infer.java:181)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Resolve.checkMethod(Resolve.java:644)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.checkMethod(Attr.java:4120)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.checkIdInternal(Attr.java:3913)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.checkMethodIdInternal(Attr.java:3814)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.checkId(Attr.java:3803)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.visitSelect(Attr.java:3696)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.visitLambda(Attr.java:2595)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.DeferredAttr$DeferredAttrNode.process(DeferredAttr.java:811)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.visitIdent(Attr.java:3553)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCIdent.accept(JCTree.java:2243)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribExpr(Attr.java:702)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.visitExec(Attr.java:1773)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCExpressionStatement.accept(JCTree.java:1452)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.visitMethodDef(Attr.java:1098)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCMethodDecl.accept(JCTree.java:866)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribClassBody(Attr.java:4683)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribClass(Attr.java:4574)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribClass(Attr.java:4523)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribClass(Attr.java:4503)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.comp.Attr.attrib(Attr.java:4448)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.main.JavaCompiler.attribute(JavaCompiler.java:1341)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:973)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.lambda$doCall$0(JavacTaskImpl.java:104)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.handleExceptions(JavacTaskImpl.java:147)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.doCall(JavacTaskImpl.java:100)\r\n    java: \tat jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.call(JavacTaskImpl.java:94)\r\n    java: \tat org.jetbrains.jps.javac.JavacMain.compile(JavacMain.java:231)\r\n    java: \tat org.jetbrains.jps.incremental.java.JavaBuilder.compileJava(JavaBuilder.java:501)\r\n    java: \tat org.jetbrains.jps.incremental.java.JavaBuilder.compile(JavaBuilder.java:353)\r\n    java: \tat org.jetbrains.jps.incremental.java.JavaBuilder.doBuild(JavaBuilder.java:277)\r\n    java: \tat org.jetbrains.jps.incremental.java.JavaBuilder.build(JavaBuilder.java:231)\r\n    java: \tat org.jetbrains.jps.incremental.IncProjectBuilder.runModuleLevelBuilders(IncProjectBuilder.java:1441)\r\n    java: \tat org.jetbrains.jps.incremental.IncProjectBuilder.runBuildersForChunk(IncProjectBuilder.java:1100)\r\n    java: \tat org.jetbrains.jps.incremental.IncProjectBuilder.buildTargetsChunk(IncProjectBuilder.java:1224)\r\n    java: \tat org.jetbrains.jps.incremental.IncProjectBuilder.buildChunkIfAffected(IncProjectBuilder.java:1066)\r\n    java: \tat org.jetbrains.jps.incremental.IncProjectBuilder.buildChunks(IncProjectBuilder.java:832)\r\n    java: \tat org.jetbrains.jps.incremental.IncProjectBuilder.runBuild(IncProjectBuilder.java:419)\r\n    java: \tat org.jetbrains.jps.incremental.IncProjectBuilder.build(IncProjectBuilder.java:183)\r\n    java: \tat org.jetbrains.jps.cmdline.BuildRunner.runBuild(BuildRunner.java:132)\r\n    java: \tat org.jetbrains.jps.cmdline.BuildSession.runBuild(BuildSession.java:302)\r\n    java: \tat org.jetbrains.jps.cmdline.BuildSession.run(BuildSession.java:132)\r\n    java: \tat org.jetbrains.jps.cmdline.BuildMain$MyMessageHandler.lambda$channelRead0$0(BuildMain.java:219)\r\n    java: \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    java: \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    java: \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n    java: Compilation failed: internal java compiler error\r\n    java: Errors occurred while compiling module &#39;project&#39;\r\n    javac 11 was used to compile java sources\r\n    Finished, saving caches...\r\n    Compilation failed: errors: 1; warnings: 100","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>I got the same error with Community edition 2020.3 on Windows 10 with an older version of the JDK (openjdk version &quot;11&quot; 2018-09-25).</p>\n<p><strong>Updating the JDK to javac 11.0.10 fixed the issue.</strong></p>\n<p>Here's the stack trace that showed up with the error when using openjdk version &quot;11&quot; 2018-09-25:</p>\n<pre><code>java: compiler message file broken: key=compiler.misc.msg.bug arguments=11, {1}, {2}, {3}, {4}, {5}, {6}, {7}\njava: java.lang.AssertionError\njava:   at jdk.compiler/com.sun.tools.javac.util.Assert.error(Assert.java:155)\njava:   at jdk.compiler/com.sun.tools.javac.util.Assert.check(Assert.java:46)\njava:   at jdk.compiler/com.sun.tools.javac.comp.DeferredAttr$2$1.setOverloadKind(DeferredAttr.java:172)\njava:   at jdk.compiler/com.sun.tools.javac.comp.ArgumentAttr.visitReference(ArgumentAttr.java:283)\njava:   at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCMemberReference.accept(JCTree.java:2190)\njava:   at jdk.compiler/com.sun.tools.javac.comp.ArgumentAttr.attribArg(ArgumentAttr.java:197)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.attribTree(Attr.java:653)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.attribArgs(Attr.java:751)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.visitApply(Attr.java:1997)\njava:   at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCMethodInvocation.accept(JCTree.java:1634)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.attribTree(Attr.java:655)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.visitSelect(Attr.java:3573)\njava:   at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCFieldAccess.accept(JCTree.java:2110)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.visitApply(Attr.java:2006)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.visitReturn(Attr.java:1866)\njava:   at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCReturn.accept(JCTree.java:1546)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.attribStat(Attr.java:724)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.attribStats(Attr.java:743)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.visitBlock(Attr.java:1294)\njava:   at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCBlock.accept(JCTree.java:1020)\njava:   at jdk.compiler/com.sun.tools.javac.comp.DeferredAttr.attribSpeculative(DeferredAttr.java:498)\njava:   at jdk.compiler/com.sun.tools.javac.comp.DeferredAttr.attribSpeculative(DeferredAttr.java:481)\njava:   at jdk.compiler/com.sun.tools.javac.comp.DeferredAttr.attribSpeculativeLambda(DeferredAttr.java:456)\njava:   at jdk.compiler/com.sun.tools.javac.comp.DeferredAttr$DeferredAttrNode$StructuralStuckChecker.canLambdaBodyCompleteNormally(DeferredAttr.java:900)\njava:   at jdk.compiler/com.sun.tools.javac.comp.DeferredAttr$DeferredAttrNode$StructuralStuckChecker.visitLambda(DeferredAttr.java:878)\njava:   at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCLambda.accept(JCTree.java:1807)\njava:   at jdk.compiler/com.sun.tools.javac.comp.DeferredAttr$DeferredAttrNode$StructuralStuckChecker.complete(DeferredAttr.java:832)\njava:   at jdk.compiler/com.sun.tools.javac.comp.DeferredAttr$DeferredType.check(DeferredAttr.java:335)\njava:   at jdk.compiler/com.sun.tools.javac.comp.DeferredAttr$DeferredAttrNode.process(DeferredAttr.java:779)\njava:   at jdk.compiler/com.sun.tools.javac.comp.DeferredAttr$DeferredAttrContext.complete(DeferredAttr.java:626)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Infer.instantiateMethod(Infer.java:214)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Resolve.rawInstantiate(Resolve.java:605)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Resolve.selectBest(Resolve.java:1563)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Resolve.findMethodInScope(Resolve.java:1733)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Resolve.findMethod(Resolve.java:1802)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Resolve.findMethod(Resolve.java:1776)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Resolve$10.doLookup(Resolve.java:2654)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Resolve$BasicLookupHelper.lookup(Resolve.java:3293)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Resolve.lookupMethod(Resolve.java:3543)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Resolve.resolveQualifiedMethod(Resolve.java:2651)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Resolve.resolveQualifiedMethod(Resolve.java:2645)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.selectSym(Attr.java:3721)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.visitSelect(Attr.java:3601)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.visitLambda(Attr.java:2598)\njava:   at jdk.compiler/com.sun.tools.javac.comp.DeferredAttr$4.complete(DeferredAttr.java:374)\njava:   at jdk.compiler/com.sun.tools.javac.comp.DeferredAttr$DeferredType.check(DeferredAttr.java:321)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Resolve$MethodResultInfo.check(Resolve.java:1060)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Resolve$4.checkArg(Resolve.java:887)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Resolve$AbstractMethodCheck.argumentsAcceptable(Resolve.java:775)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Resolve$4.argumentsAcceptable(Resolve.java:896)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Infer.instantiateMethod(Infer.java:181)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Resolve.checkMethod(Resolve.java:644)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.checkMethod(Attr.java:4120)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.checkIdInternal(Attr.java:3913)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.checkMethodIdInternal(Attr.java:3814)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.checkId(Attr.java:3803)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.visitSelect(Attr.java:3696)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.visitLambda(Attr.java:2595)\njava:   at jdk.compiler/com.sun.tools.javac.comp.DeferredAttr$DeferredAttrNode.process(DeferredAttr.java:811)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.visitIdent(Attr.java:3553)\njava:   at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCIdent.accept(JCTree.java:2243)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.attribExpr(Attr.java:702)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.visitExec(Attr.java:1773)\njava:   at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCExpressionStatement.accept(JCTree.java:1452)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.visitMethodDef(Attr.java:1098)\njava:   at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCMethodDecl.accept(JCTree.java:866)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.attribClassBody(Attr.java:4683)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.attribClass(Attr.java:4574)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.attribClass(Attr.java:4523)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.attribClass(Attr.java:4503)\njava:   at jdk.compiler/com.sun.tools.javac.comp.Attr.attrib(Attr.java:4448)\njava:   at jdk.compiler/com.sun.tools.javac.main.JavaCompiler.attribute(JavaCompiler.java:1341)\njava:   at jdk.compiler/com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:973)\njava:   at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.lambda$doCall$0(JavacTaskImpl.java:104)\njava:   at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.handleExceptions(JavacTaskImpl.java:147)\njava:   at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.doCall(JavacTaskImpl.java:100)\njava:   at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.call(JavacTaskImpl.java:94)\njava:   at org.jetbrains.jps.javac.JavacMain.compile(JavacMain.java:231)\njava:   at org.jetbrains.jps.incremental.java.JavaBuilder.compileJava(JavaBuilder.java:501)\njava:   at org.jetbrains.jps.incremental.java.JavaBuilder.compile(JavaBuilder.java:353)\njava:   at org.jetbrains.jps.incremental.java.JavaBuilder.doBuild(JavaBuilder.java:277)\njava:   at org.jetbrains.jps.incremental.java.JavaBuilder.build(JavaBuilder.java:231)\njava:   at org.jetbrains.jps.incremental.IncProjectBuilder.runModuleLevelBuilders(IncProjectBuilder.java:1441)\njava:   at org.jetbrains.jps.incremental.IncProjectBuilder.runBuildersForChunk(IncProjectBuilder.java:1100)\njava:   at org.jetbrains.jps.incremental.IncProjectBuilder.buildTargetsChunk(IncProjectBuilder.java:1224)\njava:   at org.jetbrains.jps.incremental.IncProjectBuilder.buildChunkIfAffected(IncProjectBuilder.java:1066)\njava:   at org.jetbrains.jps.incremental.IncProjectBuilder.buildChunks(IncProjectBuilder.java:832)\njava:   at org.jetbrains.jps.incremental.IncProjectBuilder.runBuild(IncProjectBuilder.java:419)\njava:   at org.jetbrains.jps.incremental.IncProjectBuilder.build(IncProjectBuilder.java:183)\njava:   at org.jetbrains.jps.cmdline.BuildRunner.runBuild(BuildRunner.java:132)\njava:   at org.jetbrains.jps.cmdline.BuildSession.runBuild(BuildSession.java:302)\njava:   at org.jetbrains.jps.cmdline.BuildSession.run(BuildSession.java:132)\njava:   at org.jetbrains.jps.cmdline.BuildMain$MyMessageHandler.lambda$channelRead0$0(BuildMain.java:219)\njava:   at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\njava:   at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\njava:   at java.base/java.lang.Thread.run(Thread.java:834)\njava: Compilation failed: internal java compiler error\njava: Errors occurred while compiling module 'project'\njavac 11 was used to compile java sources\nFinished, saving caches...\nCompilation failed: errors: 1; warnings: 100\n</code></pre>\n"},{"tags":[],"owner":{"account_id":215504,"reputation":52462,"user_id":470184,"accept_rate":91,"display_name":"blue-sky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620296735,"creation_date":1620296735,"answer_id":67416262,"question_id":42966889,"body_markdown":"Updated Java compiler to correct &quot;Target bytecode version&quot; which in my case is 8 : \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/U9hix.png","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>Updated Java compiler to correct &quot;Target bytecode version&quot; which in my case is 8 :</p>\n<p><a href=\"https://i.stack.imgur.com/U9hix.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U9hix.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":17814511,"reputation":87,"user_id":12938381,"display_name":"rosa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625550848,"creation_date":1625550848,"answer_id":68265220,"question_id":42966889,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VbEM4.png\r\n\r\nSetting -&gt; Build -&gt; Compiler -&gt; Java Compiler\r\nThe Target bytecode version of the module is wrong. I set it to 1.8, then it worked.","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p><a href=\"https://i.stack.imgur.com/VbEM4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VbEM4.png\" alt=\"enter image description here\" /></a></p>\n<p>Setting -&gt; Build -&gt; Compiler -&gt; Java Compiler\nThe Target bytecode version of the module is wrong. I set it to 1.8, then it worked.</p>\n"},{"tags":[],"owner":{"account_id":18199163,"reputation":1,"user_id":13243683,"display_name":"user13243683"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626406882,"creation_date":1626406882,"answer_id":68403144,"question_id":42966889,"body_markdown":"one reason may be jdk version donot macth minimal version of your project.","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>one reason may be jdk version donot macth minimal version of your project.</p>\n"},{"tags":[],"owner":{"account_id":1227737,"reputation":853,"user_id":1192987,"display_name":"Nikita Bosik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628599974,"creation_date":1628599974,"answer_id":68727196,"question_id":42966889,"body_markdown":"Be aware of [JDK-8177068][1] issue, which leads to internal error like\r\n\r\n    java.lang.NullPointerException\r\n            at jdk.compiler/com.sun.tools.javac.comp.Flow$FlowAnalyzer.visitApply(Flow.java:1233)\r\n            at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCMethodInvocation.accept(JCTree.java:1628)\r\n            at jdk.compiler/com.sun.tools.javac.tree.TreeScanner.scan(TreeScanner.java:49)\r\n            at jdk.compiler/com.sun.tools.javac.comp.Flow$BaseAnalyzer.scan(Flow.java:393)\r\n            at jdk.compiler/com.sun.tools.javac.tree.TreeScanner.visitExec(TreeScanner.java:213)\r\n            ...\r\n\r\nIt was fixed in **JDK 11.0.12** and **JDK 14 b14**, so upgrade helped.\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8177068","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>Be aware of <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8177068\" rel=\"nofollow noreferrer\">JDK-8177068</a> issue, which leads to internal error like</p>\n<pre><code>java.lang.NullPointerException\n        at jdk.compiler/com.sun.tools.javac.comp.Flow$FlowAnalyzer.visitApply(Flow.java:1233)\n        at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCMethodInvocation.accept(JCTree.java:1628)\n        at jdk.compiler/com.sun.tools.javac.tree.TreeScanner.scan(TreeScanner.java:49)\n        at jdk.compiler/com.sun.tools.javac.comp.Flow$BaseAnalyzer.scan(Flow.java:393)\n        at jdk.compiler/com.sun.tools.javac.tree.TreeScanner.visitExec(TreeScanner.java:213)\n        ...\n</code></pre>\n<p>It was fixed in <strong>JDK 11.0.12</strong> and <strong>JDK 14 b14</strong>, so upgrade helped.</p>\n"},{"tags":[],"owner":{"account_id":2357057,"reputation":428,"user_id":2064634,"accept_rate":33,"display_name":"Sureshkumar Natarajan"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1629875995,"creation_date":1629875995,"answer_id":68918482,"question_id":42966889,"body_markdown":"In my case `Information:java: java.lang.OutOfMemoryError: GC overhead limit exceeded intellij`.\r\n\r\nincreased **compiler -&gt; build process heap size**.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nRef: https://intellij-support.jetbrains.com/hc/en-us/community/posts/360003315120-GC-overhead-limit-exceeded\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/z5T5W.png","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>In my case <code>Information:java: java.lang.OutOfMemoryError: GC overhead limit exceeded intellij</code>.</p>\n<p>increased <strong>compiler -&gt; build process heap size</strong>.</p>\n<p><a href=\"https://i.stack.imgur.com/z5T5W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z5T5W.png\" alt=\"enter image description here\" /></a></p>\n<p>Ref: <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/360003315120-GC-overhead-limit-exceeded\" rel=\"nofollow noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/community/posts/360003315120-GC-overhead-limit-exceeded</a></p>\n"},{"tags":[],"owner":{"account_id":10942905,"reputation":713,"user_id":8042089,"display_name":"Gridcell Coder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638041257,"creation_date":1638041257,"answer_id":70138031,"question_id":42966889,"body_markdown":"In my case I had to go to `help &gt; show logs in files` which opens up the `idea.log` and `build-log` folders something like \r\n\r\n`/home/user/.cache/JetBrains/IntelliJIdea2021.2/log/build-log/` where I set the log level to DEBUG in the `log4j.rootLogger=debug, file` in `build-log.properties`\r\n\r\nI then ran build again and saw \r\n\r\n```\r\n2021-11-27 19:59:39,808 [ 133595]  DEBUG - s.incremental.java.JavaBuilder - Compiling chunk [module] with options: &quot;-g -deprecation -encoding UTF-8 -source 11 -target 11 -s /home/user/project/target/generated-test-sources/test-annotations&quot;, mode=in-process\r\n2021-11-27 19:59:41,082 [ 134869]  DEBUG - s.incremental.java.JavaBuilder - java:ERROR:Compilation failed: internal java compiler error\r\n```\r\n\r\nwhich lead me to see that this might me related to junit test compilation failing. It turns out I had an older/mismatching of the vintage engine and the jupiter engine which are likely to have different java versions relating in the error above. Changing them to be the same `${version.junit}` removed the error.\r\n```\r\n  &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-platform-commons&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${version.junit}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${version.junit}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nIn short some of your dependency jars may have mismatching java versions.","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>In my case I had to go to <code>help &gt; show logs in files</code> which opens up the <code>idea.log</code> and <code>build-log</code> folders something like</p>\n<p><code>/home/user/.cache/JetBrains/IntelliJIdea2021.2/log/build-log/</code> where I set the log level to DEBUG in the <code>log4j.rootLogger=debug, file</code> in <code>build-log.properties</code></p>\n<p>I then ran build again and saw</p>\n<pre><code>2021-11-27 19:59:39,808 [ 133595]  DEBUG - s.incremental.java.JavaBuilder - Compiling chunk [module] with options: &quot;-g -deprecation -encoding UTF-8 -source 11 -target 11 -s /home/user/project/target/generated-test-sources/test-annotations&quot;, mode=in-process\n2021-11-27 19:59:41,082 [ 134869]  DEBUG - s.incremental.java.JavaBuilder - java:ERROR:Compilation failed: internal java compiler error\n</code></pre>\n<p>which lead me to see that this might me related to junit test compilation failing. It turns out I had an older/mismatching of the vintage engine and the jupiter engine which are likely to have different java versions relating in the error above. Changing them to be the same <code>${version.junit}</code> removed the error.</p>\n<pre><code>  &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\n            &lt;version&gt;1.6.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-platform-commons&lt;/artifactId&gt;\n            &lt;version&gt;1.7.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${version.junit}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;version&gt;${version.junit}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>In short some of your dependency jars may have mismatching java versions.</p>\n"},{"tags":[],"owner":{"account_id":1812830,"reputation":1461,"user_id":1648546,"display_name":"Jay Ehsaniara"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1651600809,"creation_date":1651600809,"answer_id":72103583,"question_id":42966889,"body_markdown":"It May is not be relevant to this case, but: \r\n\r\nI got this error when I change the Explicit type argument List of:\r\n\r\n    new ParameterizedTypeReference&lt;List&lt;SomeDtoObject&gt;&gt;()\r\n\r\nto `&lt;&gt;` :\r\n\r\n    new ParameterizedTypeReference&lt;&gt;()\r\n\r\nin `restTemplate` call after Intellij gave the warning to use `&lt;&gt;` instead.\r\n\r\nIt got fixed when I undo my changes back into the Explicit type argument.","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>It May is not be relevant to this case, but:</p>\n<p>I got this error when I change the Explicit type argument List of:</p>\n<pre><code>new ParameterizedTypeReference&lt;List&lt;SomeDtoObject&gt;&gt;()\n</code></pre>\n<p>to <code>&lt;&gt;</code> :</p>\n<pre><code>new ParameterizedTypeReference&lt;&gt;()\n</code></pre>\n<p>in <code>restTemplate</code> call after Intellij gave the warning to use <code>&lt;&gt;</code> instead.</p>\n<p>It got fixed when I undo my changes back into the Explicit type argument.</p>\n"},{"tags":[],"owner":{"account_id":9975775,"reputation":137,"user_id":9528003,"display_name":"Harshvardhan Chittora"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660152913,"creation_date":1660152913,"answer_id":73310525,"question_id":42966889,"body_markdown":"Was facing the same issue with Java 11. Solved by changing language level\r\n\r\n**File** -&gt; **Project Structure** -&gt; **Project** \r\n\r\nChange *&quot;Language Level&quot;* to ***SDK Default***\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NtTna.png","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>Was facing the same issue with Java 11. Solved by changing language level</p>\n<p><strong>File</strong> -&gt; <strong>Project Structure</strong> -&gt; <strong>Project</strong></p>\n<p>Change <em>&quot;Language Level&quot;</em> to <em><strong>SDK Default</strong></em></p>\n<p><a href=\"https://i.stack.imgur.com/NtTna.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NtTna.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":399610,"reputation":6990,"user_id":765076,"accept_rate":59,"display_name":"Shane Gannon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661165863,"creation_date":1661165863,"answer_id":73443998,"question_id":42966889,"body_markdown":"I switched across to the cmd line `mvn compile` build and it showed a more meaningful error.\r\n\r\n&gt; Fatal error compiling: error: invalid target release: 17 -&gt; [Help 1]\r\n\r\nChecking my `JAVA_HOME` it was set to 11. Once I adjust my project to use 11 as well I got past this and onto another error (which was solved separately).","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>I switched across to the cmd line <code>mvn compile</code> build and it showed a more meaningful error.</p>\n<blockquote>\n<p>Fatal error compiling: error: invalid target release: 17 -&gt; [Help 1]</p>\n</blockquote>\n<p>Checking my <code>JAVA_HOME</code> it was set to 11. Once I adjust my project to use 11 as well I got past this and onto another error (which was solved separately).</p>\n"},{"tags":[],"owner":{"account_id":11931146,"reputation":1,"user_id":8730988,"display_name":"Ali Can"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665261540,"creation_date":1665261540,"answer_id":74000384,"question_id":42966889,"body_markdown":"Otherwise you can remove **.m2** folder. Try to reload project.","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>Otherwise you can remove <strong>.m2</strong> folder. Try to reload project.</p>\n"},{"tags":[],"owner":{"account_id":27236210,"reputation":1,"user_id":20763082,"display_name":"Jarvan Lee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670911714,"creation_date":1670911714,"answer_id":74780617,"question_id":42966889,"body_markdown":"In my case, I was using Spring Framework 6.0.0 and JDK 11 as the same time. This is not supported according to [spring framework wiki][1]. After I degraded the spring framework version to 5.3.24, it solved.\r\n\r\nYou can check your spring framework version in this way.\r\n[spring framework version][2]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/wiki/Spring-Framework-Versions#jdk-version-range\r\n  [2]: https://i.stack.imgur.com/BCudJ.jpg","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>In my case, I was using Spring Framework 6.0.0 and JDK 11 as the same time. This is not supported according to <a href=\"https://github.com/spring-projects/spring-framework/wiki/Spring-Framework-Versions#jdk-version-range\" rel=\"nofollow noreferrer\">spring framework wiki</a>. After I degraded the spring framework version to 5.3.24, it solved.</p>\n<p>You can check your spring framework version in this way.\n<a href=\"https://i.stack.imgur.com/BCudJ.jpg\" rel=\"nofollow noreferrer\">spring framework version</a></p>\n"},{"tags":[],"owner":{"account_id":14444449,"reputation":41,"user_id":10434052,"display_name":"Andrei Morosan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689243384,"creation_date":1689243384,"answer_id":76678273,"question_id":42966889,"body_markdown":"In my case, a mvn clean install recreated the generated-sources in target, it seems that this caused the issue. ","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>In my case, a mvn clean install recreated the generated-sources in target, it seems that this caused the issue.</p>\n"},{"tags":[],"owner":{"account_id":4809798,"reputation":372,"user_id":3883598,"accept_rate":56,"display_name":"paul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692758314,"creation_date":1692758314,"answer_id":76957913,"question_id":42966889,"body_markdown":"In my case, deleting the `.idea` folder and then reimporting the project again solves this problem. This problem happens to me when I run a unit test. ","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>In my case, deleting the <code>.idea</code> folder and then reimporting the project again solves this problem. This problem happens to me when I run a unit test.</p>\n"}],"owner":{"account_id":10508927,"reputation":1279,"user_id":7745251,"display_name":"ieatczp"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153754,"favorite_count":0,"down_vote_count":3,"up_vote_count":128,"answer_count":27,"score":125,"last_activity_date":1692758314,"creation_date":1490240788,"question_id":42966889,"body_markdown":"When I compile a Java project using IntelliJ IDEA, it gives me the following output (and error):\r\n\r\n    Information:Eclipse compiler 4.6.2 was used to compile java sources\r\n    Information:Module &quot;sinoWeb&quot; was fully rebuilt due to project configuration/dependencies changes\r\n    Information:2017/3/23 11:44 - Compilation completed with 1 error and 0 warnings in 5m 32s 949ms\r\n    Error:java: Compilation failed: internal java compiler error\r\n\r\nI&#39;m quite confused confused by this! Below are my settings:\r\n\r\n![enter image description][1]\r\n\r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cgNCg.png\r\n  [2]: https://i.stack.imgur.com/Hbsi6.png","title":"IntelliJ IDEA tells me &quot;Error:java: Compilation failed: internal java compiler error idea&quot;","body":"<p>When I compile a Java project using IntelliJ IDEA, it gives me the following output (and error):</p>\n\n<pre><code>Information:Eclipse compiler 4.6.2 was used to compile java sources\nInformation:Module \"sinoWeb\" was fully rebuilt due to project configuration/dependencies changes\nInformation:2017/3/23 11:44 - Compilation completed with 1 error and 0 warnings in 5m 32s 949ms\nError:java: Compilation failed: internal java compiler error\n</code></pre>\n\n<p>I'm quite confused confused by this! Below are my settings:</p>\n\n<p><img src=\"https://i.stack.imgur.com/cgNCg.png\" alt=\"enter image description\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/Hbsi6.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","go","jvm","jmx","mbeans"],"comments":[{"owner":{"account_id":4881185,"reputation":791,"user_id":3956589,"display_name":"whitespace"},"score":0,"creation_date":1692760922,"post_id":76957903,"comment_id":135666907,"body_markdown":"have you tried `https://pkg.go.dev/github.com/newrelic/infra-integrations-sdk/jmx`","body":"have you tried <code>https:&#47;&#47;pkg.go.dev&#47;github.com&#47;newrelic&#47;infra-integrations-sd&zwnj;&#8203;k&#47;jmx</code>"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1692762256,"post_id":76957903,"comment_id":135667024,"body_markdown":"Recomendations are off topic is Stackoverlow. If you want to rewrite the service in Go, why do you want to connect to JMX which only is used for Java applications?","body":"Recomendations are off topic is Stackoverlow. If you want to rewrite the service in Go, why do you want to connect to JMX which only is used for Java applications?"},{"owner":{"account_id":15613908,"reputation":1001,"user_id":11264544,"display_name":"moluzhui"},"score":0,"creation_date":1692879462,"post_id":76957903,"comment_id":135685613,"body_markdown":"@whitespace Thank you, I checked it out, and it relies on a [third-party executable file](https://github.com/newrelic/infra-integrations-sdk#jmx-support), which is not simply written in go language. This could be a fallback to reduce resource usage","body":"@whitespace Thank you, I checked it out, and it relies on a <a href=\"https://github.com/newrelic/infra-integrations-sdk#jmx-support\" rel=\"nofollow noreferrer\">third-party executable file</a>, which is not simply written in go language. This could be a fallback to reduce resource usage"},{"owner":{"account_id":15613908,"reputation":1001,"user_id":11264544,"display_name":"moluzhui"},"score":0,"creation_date":1692879608,"post_id":76957903,"comment_id":135685658,"body_markdown":"@aled Maybe I didn&#39;t express clearly, a general component implemented by go language, to connect to the JVM of the business, obtain the required MBean data and process it. This general-purpose component consumes more resources in Java, and Go has less loss","body":"@aled Maybe I didn&#39;t express clearly, a general component implemented by go language, to connect to the JVM of the business, obtain the required MBean data and process it. This general-purpose component consumes more resources in Java, and Go has less loss"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1692880527,"post_id":76957903,"comment_id":135685877,"body_markdown":"I suspect that your are out of luck because JMX seems to rely on RMI and Java object serialization. I don&#39;t think it is easy to replicate it outside Java. You would have to review JMX specifications to be sure. And as I mentioned, your question is asking for 3rd party libraries which is explicitly off-topic here.","body":"I suspect that your are out of luck because JMX seems to rely on RMI and Java object serialization. I don&#39;t think it is easy to replicate it outside Java. You would have to review JMX specifications to be sure. And as I mentioned, your question is asking for 3rd party libraries which is explicitly off-topic here."}],"owner":{"account_id":15613908,"reputation":1001,"user_id":11264544,"display_name":"moluzhui"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692758053,"creation_date":1692758053,"question_id":76957903,"body_markdown":"The project needs to obtain *jvm indicators* and *Dubbo indicators* from the jmx of the service. The service implemented through java consumes more resources. It is hoped that the memory consumption can be reduced by rewriting in golang\r\n\r\nBut I don&#39;t know how to connect jmx `-Dcom.sun.management.jmxremote.port` through golang and get it from **MBean**.\r\n\r\nI didn&#39;t find a suitable 3rd party library. Is there such a three-party library or other ways to achieve it?\r\n\r\nLooking forward to your reply.","title":"How to use golang to connect to jmx of java service and retrieve exposed MBeans","body":"<p>The project needs to obtain <em>jvm indicators</em> and <em>Dubbo indicators</em> from the jmx of the service. The service implemented through java consumes more resources. It is hoped that the memory consumption can be reduced by rewriting in golang</p>\n<p>But I don't know how to connect jmx <code>-Dcom.sun.management.jmxremote.port</code> through golang and get it from <strong>MBean</strong>.</p>\n<p>I didn't find a suitable 3rd party library. Is there such a three-party library or other ways to achieve it?</p>\n<p>Looking forward to your reply.</p>\n"},{"tags":["java","multithreading","x86","locking","atomic"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1692724983,"post_id":76955280,"comment_id":135662579,"body_markdown":"These read like two different questions, and the second half reads like an essay, not a question.","body":"These read like two different questions, and the second half reads like an essay, not a question."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1692727745,"post_id":76955280,"comment_id":135663144,"body_markdown":"I think you&#39;re mis-using &quot;not sequentially consistent&quot;.  No other work (or memory operations at least) from this thread can start until after this retry loop finishes, assuming `compareAndSet` has Java&#39;s usual seq_cst ordering.  So the total order across all threads will still be some interleaving of program-order of each thread, assuming the program didn&#39;t have data races on non-`volatile` variables.  (Java gives you SC-DRF; non-`volatile` variables might or might not be visible across threads at all, depending on how it compiles, but if they are they&#39;re like C++ `memory_order_relaxed`)","body":"I think you&#39;re mis-using &quot;not sequentially consistent&quot;.  No other work (or memory operations at least) from this thread can start until after this retry loop finishes, assuming <code>compareAndSet</code> has Java&#39;s usual seq_cst ordering.  So the total order across all threads will still be some interleaving of program-order of each thread, assuming the program didn&#39;t have data races on non-<code>volatile</code> variables.  (Java gives you SC-DRF; non-<code>volatile</code> variables might or might not be visible across threads at all, depending on how it compiles, but if they are they&#39;re like C++ <code>memory_order_relaxed</code>)"},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1692727905,"post_id":76955280,"comment_id":135663178,"body_markdown":"Hopefully that pure-Java code is just a placeholder and JVMs will use `xchg`.  It would be really inefficient to use a CAS retry loop to implement exchange on any hardware, especially ones like x86 that have a single-instruction atomic swap.  But I don&#39;t see any correctness problem.  The key time is when an operation completes, not when it starts trying.  In the retry-loop case, some of the time waiting is software retries instead of just hardware waiting for a turn to own the cache line, but same difference in terms of memory ordering.","body":"Hopefully that pure-Java code is just a placeholder and JVMs will use <code>xchg</code>.  It would be really inefficient to use a CAS retry loop to implement exchange on any hardware, especially ones like x86 that have a single-instruction atomic swap.  But I don&#39;t see any correctness problem.  The key time is when an operation completes, not when it starts trying.  In the retry-loop case, some of the time waiting is software retries instead of just hardware waiting for a turn to own the cache line, but same difference in terms of memory ordering."},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":0,"creation_date":1692729453,"post_id":76955280,"comment_id":135663518,"body_markdown":"Thanks @PeterCordes for your time.\n\nDoes this ```seq_cst``` ordering maintains sequential order even after the &quot;jump&quot; the while loop applies on the thread? So, order consistency is maintained EVEN in the face of undetermined behavior like: failing the CAS and **retrying**... like... the entire loop is &quot;fenced&quot; from reordering??","body":"Thanks @PeterCordes for your time.  Does this <code>seq_cst</code> ordering maintains sequential order even after the &quot;jump&quot; the while loop applies on the thread? So, order consistency is maintained EVEN in the face of undetermined behavior like: failing the CAS and <b>retrying</b>... like... the entire loop is &quot;fenced&quot; from reordering??"},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1692729937,"post_id":76955280,"comment_id":135663609,"body_markdown":"Each CAS attempt is an SC operation. (Well, I&#39;m assuming that, but if so...).  They can&#39;t reorder with each other, and a whole sequence of them in one thread is not different from one.  The failed CAS attempts have no visibility for other threads, and the successful CAS that leads to exiting the loop is exactly like a seq_cst `exchange` would have been.  The loop branch is internal to this thread, part of its program order, so IDK what misconception you have about memory ordering that makes you think it might be relevant.","body":"Each CAS attempt is an SC operation. (Well, I&#39;m assuming that, but if so...).  They can&#39;t reorder with each other, and a whole sequence of them in one thread is not different from one.  The failed CAS attempts have no visibility for other threads, and the successful CAS that leads to exiting the loop is exactly like a seq_cst <code>exchange</code> would have been.  The loop branch is internal to this thread, part of its program order, so IDK what misconception you have about memory ordering that makes you think it might be relevant."},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":0,"creation_date":1692731400,"post_id":76955280,"comment_id":135663883,"body_markdown":"I was talking about the order of the threads, not the memory consistency across the threads, and I thought that xchg&#39;s implicit lock (which according to [this](https://stackoverflow.com/questions/40409297/does-lock-xchg-have-the-same-behavior-as-mfence?rq=2) has a weaker ordering enforcing strategy than mfence),... would handle backpressure with an orderly queue.\nI am talking from the perspective of the memory, not the thread.","body":"I was talking about the order of the threads, not the memory consistency across the threads, and I thought that xchg&#39;s implicit lock (which according to <a href=\"https://stackoverflow.com/questions/40409297/does-lock-xchg-have-the-same-behavior-as-mfence?rq=2\">this</a> has a weaker ordering enforcing strategy than mfence),... would handle backpressure with an orderly queue. I am talking from the perspective of the memory, not the thread."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":2,"creation_date":1693927444,"post_id":76955280,"comment_id":135822597,"body_markdown":"@PeterCordes you are right that the JIT will replace the loop by a xchg. Here is a listing of the hotspot intrensics: https://chriswhocodes.com/hotspot_intrinsics_openjdk11.html","body":"@PeterCordes you are right that the JIT will replace the loop by a xchg. Here is a listing of the hotspot intrensics: <a href=\"https://chriswhocodes.com/hotspot_intrinsics_openjdk11.html\" rel=\"nofollow noreferrer\">chriswhocodes.com/hotspot_intrinsics_openjdk11.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":22931464,"reputation":449,"user_id":17065671,"display_name":"Qu&#226;n Anh Mai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692757985,"creation_date":1692757634,"answer_id":76957884,"question_id":76955280,"body_markdown":"There is no behavioural difference between a thread failing the CAS and retrying vs a thread being preempted just before the exchange and getting scheduled later, so this code is equivalent in correctness with an exchange operation.\r\n\r\nSequential consistency is a total order over all the operations involved, no more and no less. There is no guarantee that thread A arriving at operation `n` before thread B arriving at operation `m`, will execute its operation `n + 1` before the B executes its `m + 1`, the only implication is that thread A will perform operation `n` before thread B executes operation `m + 1`. (And a program that just refuses to do any action is a conformant program, albeit a useless one)\r\n\r\nThe reason for this implementation is the ease of maintenance, there is no need to have the maximum performance in C1 and interpreter code, and converging all operations to compare and exchange reduces the amount of JNI code involves. And when the code gets into C2, `getAndSet` is an intrinsics that will be translated into a single `xchg` instruction.","title":"Does VarHandle &#39;getAndSet&#39; uses &#39;xchg&#39; instruction, and how does x86 &#39;lock&#39; prefix handle backpressure?","body":"<p>There is no behavioural difference between a thread failing the CAS and retrying vs a thread being preempted just before the exchange and getting scheduled later, so this code is equivalent in correctness with an exchange operation.</p>\n<p>Sequential consistency is a total order over all the operations involved, no more and no less. There is no guarantee that thread A arriving at operation <code>n</code> before thread B arriving at operation <code>m</code>, will execute its operation <code>n + 1</code> before the B executes its <code>m + 1</code>, the only implication is that thread A will perform operation <code>n</code> before thread B executes operation <code>m + 1</code>. (And a program that just refuses to do any action is a conformant program, albeit a useless one)</p>\n<p>The reason for this implementation is the ease of maintenance, there is no need to have the maximum performance in C1 and interpreter code, and converging all operations to compare and exchange reduces the amount of JNI code involves. And when the code gets into C2, <code>getAndSet</code> is an intrinsics that will be translated into a single <code>xchg</code> instruction.</p>\n"}],"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76957884,"answer_count":1,"score":0,"last_activity_date":1692757985,"creation_date":1692722228,"question_id":76955280,"body_markdown":"While trying to understand how Java&#39;s VarHandle &quot;getAndSet&quot; worked as opposed to it&#39;s JDK7 version:\r\n\r\n    public final V getAndSet(V newValue) {\r\n        while (true) {\r\n            V x = get();\r\n            if (compareAndSet(x, newValue))\r\n                return x;\r\n        }\r\n    }\r\n\r\nI noticed something...\r\n\r\nThe form of backpressure handling done by JDK7 is not sequentially consistent, if a thread fails the ```compareAndSet```, and retries, it may lose it&#39;s position to some thread that came later.\r\n\r\nEven if this operation is deemed &quot;atomic&quot; an implicit queueing buffer is built on it&#39;s spin... and this buffer is not sequentially consistent, even if the atomicity is performed by the ```comapreAndSet``` action.\r\n\r\nI am not entirely sure why JDK7 implements the test &quot;compare&quot;(in the comapreAndSet) to perform a unique **swapping** action... since when a person performs the physical action of swapping something, that person is not interested in comparing anything...\r\n\r\nthe ```compareAndSet``` employs the [cmpxchg][1] instruction, so... my immediate question was... why not use just the [xchg][2] instruction for the ```getAndSet```?... by eliminating the test failure, a single buffering queue will now build up... held by the native ```LOCK```.\r\n\r\nAnd so, while I am not sure if VarHandle DOES in fact use the ```xchg``` alone (**DOES IT?**), it still remains the question whether the machine is handling the backpressure build-up in a sequentially consistent manner... \r\n\r\n*(Here comes the essay... sorry.)*\r\n\r\n**(edit: \r\nAt first I thought that with ```mfence``` [link][3] one could achieve this FIFO queue... but in reality there is no way for the processor to enforce any type of policy that defines such a FIFO queueing of &quot;assigned scheduled instructions&quot;, instead the processor&#39;s scheduler: &quot;may use different algorithms and policies to determine the order and priority of the threads, such as round-robin, shortest job first, priority-based, etc. Some of these algorithms may approximate a FIFO order, but they are not strictly enforced by the processor&quot;)**\r\n\r\nAnd there is no evidence that the [lock][4] prefix is doing so.\r\n\r\nIn fact the architecture may...:\r\n\r\n&gt; The queuing mechanism used by memory controllers is typically managed\r\n&gt; at the hardware level and is influenced by the overall design of the\r\n&gt; memory subsystem, including cache hierarchies, memory interconnects,\r\n&gt; and bus arbitration protocols.\r\n&gt; \r\n&gt; Instructions in modern processors are designed to perform specific\r\n&gt; computations and memory operations, rather than directly control\r\n&gt; low-level hardware details like queuing mechanisms in memory\r\n&gt; controllers. Processor instructions are more concerned with specifying\r\n&gt; the operations to be performed on data, such as arithmetic operations,\r\n&gt; memory loads and stores, control flow instructions, etc.\r\n\r\n*Please don&#39;t ask me who I&#39;m quoting... I think you know &quot;what&quot; said this...*\r\n\r\n**... On reactive systems... Or...[ Why NO native FIFO instruction queue? ]**\r\n\r\nIt seems reasonable that the greater concern for the processor would be for &quot;specifying the operations to be performed on data&quot;(... what one would call &quot;updates&quot;), instead of defining queueing strategies.\r\n\r\nThe thing about updates is that an update will always _relay_ the previous state, and so... the **VERSION** is implicit by the &quot;form&quot; of the current data... so if... let&#39;s say the operand says that the update is a `i -&gt; i++;` we can surely assume that the previous version was `current - 1;`, this may imply that defining a queueing strategy is redundant since the end result will still apply all changes performed, and a version can be implied by each change simply by checking its current state.\r\n\r\nBut this is not how Version Based systems work (Publisher architectures aka: &quot;Displays&quot;)...\r\nIn Version based systems historical sequential consistency is the most important factor, especially since changes may completely disregard/override previous states leaving no way to figure out previous states... **The output does NOT HAVE MEMORY**\r\n\r\nAnd such is the case of displaying events, where previous states are completely disregarded.\r\n\r\nThis is why I believe most reactive systems are **doing too much** when used in such menial tasks like web applications or mobile applications displays.\r\n\r\nTheir buffering management is seldom used, only in such specific cases like video streaming is it really needed, but if we get pedantic about meaning... even video streaming is somewhat limited by the speed our eyes process information, so there is a limit to the number of processes that need buffering (assuming good connection which I know is the main/real reason for this buffer).\r\n\r\nDefining a queuing mechanism on the lock prefix would be a difference similar to the dynamic between &quot;volatile&quot; and &quot;syncrhonized&quot; keywords.\r\n\r\nWhere non-FIFO locks would be used in update actions where memory management would prioritize performance with reordering, thread priority, etc.. used on databases and streaming operations... where no calls are left behind.\r\n\r\nWhile strict FIFO locks would just queue in order of arrival, used in publishing operations like displays, where dropping instructions is always an alternative to relieve backpressure.\r\n\r\nSo, one pipeline for writing/input (Stateful) and the other for reading/output (Stateless).\r\n\r\n\r\n  [1]: https://www.felixcloutier.com/x86/cmpxchg\r\n  [2]: https://www.felixcloutier.com/x86/xchg\r\n  [3]: https://stackoverflow.com/questions/40409297/does-lock-xchg-have-the-same-behavior-as-mfence?rq=2\r\n  [4]: https://www.felixcloutier.com/x86/lock","title":"Does VarHandle &#39;getAndSet&#39; uses &#39;xchg&#39; instruction, and how does x86 &#39;lock&#39; prefix handle backpressure?","body":"<p>While trying to understand how Java's VarHandle &quot;getAndSet&quot; worked as opposed to it's JDK7 version:</p>\n<pre><code>public final V getAndSet(V newValue) {\n    while (true) {\n        V x = get();\n        if (compareAndSet(x, newValue))\n            return x;\n    }\n}\n</code></pre>\n<p>I noticed something...</p>\n<p>The form of backpressure handling done by JDK7 is not sequentially consistent, if a thread fails the <code>compareAndSet</code>, and retries, it may lose it's position to some thread that came later.</p>\n<p>Even if this operation is deemed &quot;atomic&quot; an implicit queueing buffer is built on it's spin... and this buffer is not sequentially consistent, even if the atomicity is performed by the <code>comapreAndSet</code> action.</p>\n<p>I am not entirely sure why JDK7 implements the test &quot;compare&quot;(in the comapreAndSet) to perform a unique <strong>swapping</strong> action... since when a person performs the physical action of swapping something, that person is not interested in comparing anything...</p>\n<p>the <code>compareAndSet</code> employs the <a href=\"https://www.felixcloutier.com/x86/cmpxchg\" rel=\"nofollow noreferrer\">cmpxchg</a> instruction, so... my immediate question was... why not use just the <a href=\"https://www.felixcloutier.com/x86/xchg\" rel=\"nofollow noreferrer\">xchg</a> instruction for the <code>getAndSet</code>?... by eliminating the test failure, a single buffering queue will now build up... held by the native <code>LOCK</code>.</p>\n<p>And so, while I am not sure if VarHandle DOES in fact use the <code>xchg</code> alone (<strong>DOES IT?</strong>), it still remains the question whether the machine is handling the backpressure build-up in a sequentially consistent manner...</p>\n<p><em>(Here comes the essay... sorry.)</em></p>\n<p><strong>(edit:\nAt first I thought that with <code>mfence</code> <a href=\"https://stackoverflow.com/questions/40409297/does-lock-xchg-have-the-same-behavior-as-mfence?rq=2\">link</a> one could achieve this FIFO queue... but in reality there is no way for the processor to enforce any type of policy that defines such a FIFO queueing of &quot;assigned scheduled instructions&quot;, instead the processor's scheduler: &quot;may use different algorithms and policies to determine the order and priority of the threads, such as round-robin, shortest job first, priority-based, etc. Some of these algorithms may approximate a FIFO order, but they are not strictly enforced by the processor&quot;)</strong></p>\n<p>And there is no evidence that the <a href=\"https://www.felixcloutier.com/x86/lock\" rel=\"nofollow noreferrer\">lock</a> prefix is doing so.</p>\n<p>In fact the architecture may...:</p>\n<blockquote>\n<p>The queuing mechanism used by memory controllers is typically managed\nat the hardware level and is influenced by the overall design of the\nmemory subsystem, including cache hierarchies, memory interconnects,\nand bus arbitration protocols.</p>\n<p>Instructions in modern processors are designed to perform specific\ncomputations and memory operations, rather than directly control\nlow-level hardware details like queuing mechanisms in memory\ncontrollers. Processor instructions are more concerned with specifying\nthe operations to be performed on data, such as arithmetic operations,\nmemory loads and stores, control flow instructions, etc.</p>\n</blockquote>\n<p><em>Please don't ask me who I'm quoting... I think you know &quot;what&quot; said this...</em></p>\n<p><strong>... On reactive systems... Or...[ Why NO native FIFO instruction queue? ]</strong></p>\n<p>It seems reasonable that the greater concern for the processor would be for &quot;specifying the operations to be performed on data&quot;(... what one would call &quot;updates&quot;), instead of defining queueing strategies.</p>\n<p>The thing about updates is that an update will always <em>relay</em> the previous state, and so... the <strong>VERSION</strong> is implicit by the &quot;form&quot; of the current data... so if... let's say the operand says that the update is a <code>i -&gt; i++;</code> we can surely assume that the previous version was <code>current - 1;</code>, this may imply that defining a queueing strategy is redundant since the end result will still apply all changes performed, and a version can be implied by each change simply by checking its current state.</p>\n<p>But this is not how Version Based systems work (Publisher architectures aka: &quot;Displays&quot;)...\nIn Version based systems historical sequential consistency is the most important factor, especially since changes may completely disregard/override previous states leaving no way to figure out previous states... <strong>The output does NOT HAVE MEMORY</strong></p>\n<p>And such is the case of displaying events, where previous states are completely disregarded.</p>\n<p>This is why I believe most reactive systems are <strong>doing too much</strong> when used in such menial tasks like web applications or mobile applications displays.</p>\n<p>Their buffering management is seldom used, only in such specific cases like video streaming is it really needed, but if we get pedantic about meaning... even video streaming is somewhat limited by the speed our eyes process information, so there is a limit to the number of processes that need buffering (assuming good connection which I know is the main/real reason for this buffer).</p>\n<p>Defining a queuing mechanism on the lock prefix would be a difference similar to the dynamic between &quot;volatile&quot; and &quot;syncrhonized&quot; keywords.</p>\n<p>Where non-FIFO locks would be used in update actions where memory management would prioritize performance with reordering, thread priority, etc.. used on databases and streaming operations... where no calls are left behind.</p>\n<p>While strict FIFO locks would just queue in order of arrival, used in publishing operations like displays, where dropping instructions is always an alternative to relieve backpressure.</p>\n<p>So, one pipeline for writing/input (Stateful) and the other for reading/output (Stateless).</p>\n"},{"tags":["java","junit5"],"answers":[{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692610389,"creation_date":1692609991,"answer_id":76943998,"question_id":76943538,"body_markdown":"Can you just do\r\n\r\n```java\r\n\r\n@Test\r\nvoid testScenario1() {\r\n   assertCalculation(\r\n      &quot;input1.json&quot;,\r\n      List.of(&quot;purchaseConfig1.json&quot;, &quot;purchaseConfig2.json&quot;),\r\n      List.of(&quot;salesConfig1.json&quot;, &quot;salesConfig2.json&quot;),\r\n      &quot;expected1.json&quot;\r\n   );\r\n}\r\n\r\n@Test\r\nvoid testScenario2() {\r\n   assertCalculation(\r\n      &quot;input2.json&quot;,\r\n      List.of(&quot;purchaseConfig3.json&quot;, &quot;purchaseConfig4.json&quot;),\r\n      List.of(&quot;salesConfig3.json&quot;, &quot;salesConfig4.json&quot;),\r\n      &quot;expected2.json&quot;\r\n   );\r\n}\r\n\r\nprivate void assertCalculation(\r\n   String inputPath, \r\n   List&lt;String&gt; purchaseConfigPaths, \r\n   List&lt;String&gt; salesConfigPaths, \r\n   String expectedPath\r\n) {\r\n   Input input = readValue(inputPath, Input.class);\r\n   List&lt;PurchaseConfig&gt; purchaseConfigs = purchaseConfigPaths.stream()\r\n      .map(pc -&gt; readObject(pc, PurchaseConfig.class)\r\n      .collect(toList());\r\n   List&lt;SalesConfig&gt; salesConfigs.stream()\r\n      .map(sc -&gt; readObject(sc, SalesConfig.class)\r\n      .collect(toList();\r\n   Result result = someService.calculate(purchaseConfigs, salesConfigs, input);\r\n   String resultJson = objectMapper.writeValueToString(result);\r\n   assertThat(resultJson).isEqualTo(readString(expectedPath));\r\n}\r\n\r\nprivate &lt;T&gt; T readObject(String path, Class&lt;T&gt; type) { ... }\r\n\r\nprivate String readString(String path) { ... }\r\n\r\n\r\n```","title":"Junit5 multidimensional file source","body":"<p>Can you just do</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Test\nvoid testScenario1() {\n   assertCalculation(\n      &quot;input1.json&quot;,\n      List.of(&quot;purchaseConfig1.json&quot;, &quot;purchaseConfig2.json&quot;),\n      List.of(&quot;salesConfig1.json&quot;, &quot;salesConfig2.json&quot;),\n      &quot;expected1.json&quot;\n   );\n}\n\n@Test\nvoid testScenario2() {\n   assertCalculation(\n      &quot;input2.json&quot;,\n      List.of(&quot;purchaseConfig3.json&quot;, &quot;purchaseConfig4.json&quot;),\n      List.of(&quot;salesConfig3.json&quot;, &quot;salesConfig4.json&quot;),\n      &quot;expected2.json&quot;\n   );\n}\n\nprivate void assertCalculation(\n   String inputPath, \n   List&lt;String&gt; purchaseConfigPaths, \n   List&lt;String&gt; salesConfigPaths, \n   String expectedPath\n) {\n   Input input = readValue(inputPath, Input.class);\n   List&lt;PurchaseConfig&gt; purchaseConfigs = purchaseConfigPaths.stream()\n      .map(pc -&gt; readObject(pc, PurchaseConfig.class)\n      .collect(toList());\n   List&lt;SalesConfig&gt; salesConfigs.stream()\n      .map(sc -&gt; readObject(sc, SalesConfig.class)\n      .collect(toList();\n   Result result = someService.calculate(purchaseConfigs, salesConfigs, input);\n   String resultJson = objectMapper.writeValueToString(result);\n   assertThat(resultJson).isEqualTo(readString(expectedPath));\n}\n\nprivate &lt;T&gt; T readObject(String path, Class&lt;T&gt; type) { ... }\n\nprivate String readString(String path) { ... }\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692757474,"creation_date":1692611483,"answer_id":76944182,"question_id":76943538,"body_markdown":"&lt;h3&gt;@MethodSource&lt;/h3&gt;\r\n\r\nUse `@ParameterizedTest` with a method source that provides arguments via `@MethodSource` and a name of such the method. Here you go and feel free to edit the object types to match your expectations:\r\n\r\n```java\r\n@ParameterizedTest\r\n@MethodSource(&quot;arguments&quot;)\r\npublic void test_calculate(List&lt;String&gt; pc, List&lt;String&gt; sc, String input_value, String expected_value) {\r\n\tpurchase_configs.addAll(pc); // assuming it&#39;s a List\r\n\tsales_configs.addAll(sc); // assuming it&#39;s a List\r\n\r\n\tresult = calculate(purchase_configs, sales_configs, input_value);\r\n\r\n\tassertEquals(expected_value, result);\r\n}\r\n\r\nprivate static Stream&lt;Arguments&gt; arguments() {\r\n\treturn Stream.of(\r\n\t\t\tArguments.of(\r\n\t\t\t\t\tList.of(&quot;pc1&quot;, &quot;pc2&quot;, &quot;pc3&quot;),\r\n\t\t\t\t\tList.of(&quot;sc1&quot;, &quot;sc2&quot;, &quot;sc3&quot;),\r\n\t\t\t\t\t&quot;input1&quot;,\r\n\t\t\t\t\t&quot;outpu1&quot;),\r\n\t\t\tArguments.of(\r\n\t\t\t\t\tList.of(), // sometimes none\r\n\t\t\t\t\tList.of(&quot;sc1&quot;, &quot;sc2&quot;, &quot;sc3&quot;),\r\n\t\t\t\t\t&quot;input2&quot;,\r\n\t\t\t\t\t&quot;outpu2&quot;),\r\n\t\t\tArguments.of(\r\n\t\t\t\t\tList.of(&quot;pc1&quot;, &quot;pc2&quot;, &quot;pc3&quot;),\r\n\t\t\t\t\tList.of(), // sometimes none\r\n\t\t\t\t\t&quot;input3&quot;,\r\n\t\t\t\t\t&quot;outpu3&quot;)\r\n\t);\r\n}\r\n```\r\n\r\n___\r\n\r\n&lt;h3&gt;@CsfFileSouce&lt;/h3&gt;\r\n\r\nIn case you have inputs in a file, you can use `@CsfFileSouce` loading a CSV file ([source](https://reflectoring.io/tutorial-junit5-parameterized-tests)):\r\n\r\n```java\r\n@CsvFileSource(\r\n    files = &quot;src/test/resources/test_calculate.csv&quot;, \r\n    numLinesToSkip = 1)\r\n```\r\n\r\nYou might want to use `ArgumentsAggregator` and `ArgumentsAccessor` if you want to map the file content into objects.\r\n\r\n___\r\n\r\n&lt;h3&gt;Custom ParameterResolver&lt;/h3&gt;\r\n\r\nIn case you want to define an own argument source, for example from a non-CSV file, you have to implement own `ParameterResolver` and instroduce a custom annotation:\r\n\r\n```java\r\n@Target(ElementType.FIELD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Documented\r\n@ExtendWith(FileResourceParameterResolver.class)\r\n@interface FileResource {\r\n\r\n\tString value();\r\n}\r\n```\r\n```java\r\npublic class FileResourceParameterResolver implements ParameterResolver {\r\n\r\n\t@Override\r\n\tpublic boolean supportsParameter(ParameterContext parameterContext, ExtensionContext extensionContext) throws ParameterResolutionException {\r\n\t\treturn parameterContext.isAnnotated(FileResource.class) &amp;&amp; parameterContext.getParameter().getType().equals(String.class)\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object resolveParameter(ParameterContext parameterContext, ExtensionContext extensionContext) throws ParameterResolutionException {\r\n\t\tvar location = parameterContext\r\n\t\t\t\t.findAnnotation(FileResource.class)\r\n\t\t\t\t.map(FileResource::value)\r\n\t\t\t\t.orElseThrow();\r\n\t\ttry (var stream = FileResourceParameterResolver.class.getClassLoader().getResourceAsStream(location)) {\r\n\t\t\tif (stream != null) {\r\n\t\t\t\treturn new String(stream.readAllBytes(), UTF_8);\r\n\t\t\t} else {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nUsage is simple, just navigate to the resource in the `resources` location in the classpath:\r\n\r\n```\r\n@Test\r\npublic void foo(@StringResource(&quot;folder/bla.json&quot;) String json) {) {\r\n    // deserialize JSON string into object and do some testing...\r\n}","title":"Junit5 multidimensional file source","body":"<h3>@MethodSource</h3>\n<p>Use <code>@ParameterizedTest</code> with a method source that provides arguments via <code>@MethodSource</code> and a name of such the method. Here you go and feel free to edit the object types to match your expectations:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ParameterizedTest\n@MethodSource(&quot;arguments&quot;)\npublic void test_calculate(List&lt;String&gt; pc, List&lt;String&gt; sc, String input_value, String expected_value) {\n    purchase_configs.addAll(pc); // assuming it's a List\n    sales_configs.addAll(sc); // assuming it's a List\n\n    result = calculate(purchase_configs, sales_configs, input_value);\n\n    assertEquals(expected_value, result);\n}\n\nprivate static Stream&lt;Arguments&gt; arguments() {\n    return Stream.of(\n            Arguments.of(\n                    List.of(&quot;pc1&quot;, &quot;pc2&quot;, &quot;pc3&quot;),\n                    List.of(&quot;sc1&quot;, &quot;sc2&quot;, &quot;sc3&quot;),\n                    &quot;input1&quot;,\n                    &quot;outpu1&quot;),\n            Arguments.of(\n                    List.of(), // sometimes none\n                    List.of(&quot;sc1&quot;, &quot;sc2&quot;, &quot;sc3&quot;),\n                    &quot;input2&quot;,\n                    &quot;outpu2&quot;),\n            Arguments.of(\n                    List.of(&quot;pc1&quot;, &quot;pc2&quot;, &quot;pc3&quot;),\n                    List.of(), // sometimes none\n                    &quot;input3&quot;,\n                    &quot;outpu3&quot;)\n    );\n}\n</code></pre>\n<hr />\n<h3>@CsfFileSouce</h3>\n<p>In case you have inputs in a file, you can use <code>@CsfFileSouce</code> loading a CSV file (<a href=\"https://reflectoring.io/tutorial-junit5-parameterized-tests\" rel=\"nofollow noreferrer\">source</a>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@CsvFileSource(\n    files = &quot;src/test/resources/test_calculate.csv&quot;, \n    numLinesToSkip = 1)\n</code></pre>\n<p>You might want to use <code>ArgumentsAggregator</code> and <code>ArgumentsAccessor</code> if you want to map the file content into objects.</p>\n<hr />\n<h3>Custom ParameterResolver</h3>\n<p>In case you want to define an own argument source, for example from a non-CSV file, you have to implement own <code>ParameterResolver</code> and instroduce a custom annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target(ElementType.FIELD)\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@ExtendWith(FileResourceParameterResolver.class)\n@interface FileResource {\n\n    String value();\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class FileResourceParameterResolver implements ParameterResolver {\n\n    @Override\n    public boolean supportsParameter(ParameterContext parameterContext, ExtensionContext extensionContext) throws ParameterResolutionException {\n        return parameterContext.isAnnotated(FileResource.class) &amp;&amp; parameterContext.getParameter().getType().equals(String.class)\n    }\n\n    @Override\n    public Object resolveParameter(ParameterContext parameterContext, ExtensionContext extensionContext) throws ParameterResolutionException {\n        var location = parameterContext\n                .findAnnotation(FileResource.class)\n                .map(FileResource::value)\n                .orElseThrow();\n        try (var stream = FileResourceParameterResolver.class.getClassLoader().getResourceAsStream(location)) {\n            if (stream != null) {\n                return new String(stream.readAllBytes(), UTF_8);\n            } else {\n                return null;\n            }\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>Usage is simple, just navigate to the resource in the <code>resources</code> location in the classpath:</p>\n<pre><code>@Test\npublic void foo(@StringResource(&quot;folder/bla.json&quot;) String json) {) {\n    // deserialize JSON string into object and do some testing...\n}\n</code></pre>\n"}],"owner":{"account_id":7484981,"reputation":166,"user_id":5688552,"display_name":"Loginus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1692757474,"creation_date":1692606150,"question_id":76943538,"body_markdown":"I need to write a test that requires setup and actual test data.\r\nSimplified code will be like:\r\n```\r\n//given config\r\npurchase_configs.add(pc1);\r\npurchase_configs.add(pc2);\r\n\r\nsales_configs.add(sc1);\r\nsales_configs.add(sc2);\r\n\r\n// given data\r\ninput_value = ....\r\n//given expected output\r\nexpected_value = ....\r\n\r\n//when\r\nresult = calculate(purchase_configs, sales_configs, input_value)\r\n\r\n//then\r\nassertEquals(expected_value, result)\r\n```\r\nIn fact configs and input values are quite complex, so I want to externalise them to file/files e.g. using ```@CSVFileValue```\r\nApart of the params the test logic is the same.\r\n\r\nThe issue is that number of purchase and sales configs may vary. Sometimes it&#39;s pc1, pc2, sometimes only pc1, sometimes, none, sometimes more. Same for sales.\r\n\r\n\r\n\r\nI know, that I can write multiple test - one per number of configs, but seems to be ugly.\r\nI know, that I can use ```@MethodSource``` and generate variable list of params, but then I need to write all the code for parsing CSV/JSON or whatever file or have a lot of Java code to create objects manually, also, if possible I&#39;d like to externalize only important/meaningful params, all the rest can use some default/calculated not to decrease the readability.\r\n\r\nIs there any clever way to use junit ```@ParametrizedTest``` to achieve the goal which is have one test method with params and, if possible do not need to create readers and parsers of files on myown?\r\n","title":"Junit5 multidimensional file source","body":"<p>I need to write a test that requires setup and actual test data.\nSimplified code will be like:</p>\n<pre><code>//given config\npurchase_configs.add(pc1);\npurchase_configs.add(pc2);\n\nsales_configs.add(sc1);\nsales_configs.add(sc2);\n\n// given data\ninput_value = ....\n//given expected output\nexpected_value = ....\n\n//when\nresult = calculate(purchase_configs, sales_configs, input_value)\n\n//then\nassertEquals(expected_value, result)\n</code></pre>\n<p>In fact configs and input values are quite complex, so I want to externalise them to file/files e.g. using <code>@CSVFileValue</code>\nApart of the params the test logic is the same.</p>\n<p>The issue is that number of purchase and sales configs may vary. Sometimes it's pc1, pc2, sometimes only pc1, sometimes, none, sometimes more. Same for sales.</p>\n<p>I know, that I can write multiple test - one per number of configs, but seems to be ugly.\nI know, that I can use <code>@MethodSource</code> and generate variable list of params, but then I need to write all the code for parsing CSV/JSON or whatever file or have a lot of Java code to create objects manually, also, if possible I'd like to externalize only important/meaningful params, all the rest can use some default/calculated not to decrease the readability.</p>\n<p>Is there any clever way to use junit <code>@ParametrizedTest</code> to achieve the goal which is have one test method with params and, if possible do not need to create readers and parsers of files on myown?</p>\n"},{"tags":["java","exception"],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":6,"up_vote_count":5,"is_accepted":false,"score":-1,"last_activity_date":1692757128,"creation_date":1339279212,"answer_id":10964895,"question_id":10964882,"body_markdown":"Any order the compiler will accept is correct.\r\n\r\nThe compiler will tell you which exceptions are being caught out of order.","title":"Order of catching exceptions in Java","body":"<p>Any order the compiler will accept is correct.</p>\n<p>The compiler will tell you which exceptions are being caught out of order.</p>\n"},{"tags":[],"owner":{"account_id":111110,"reputation":40021,"user_id":293686,"accept_rate":89,"display_name":"Maur&#237;cio Linhares"},"down_vote_count":1,"up_vote_count":82,"is_accepted":true,"score":81,"last_activity_date":1442877535,"creation_date":1339279241,"answer_id":10964899,"question_id":10964882,"body_markdown":"The order is **whatever matches first, gets executed** ([as the JLS clearly explains](http://docs.oracle.com/javase/specs/jls/se7/html/jls-11.html#jls-11.3)).\r\n\r\nIf the first catch matches the exception, it executes, if it doesn&#39;t, the next one is tried and on and on until one is matched or none are.\r\n\r\nSo, when catching exceptions you want to always catch the **most specific** first and then the most generic (as RuntimeException or Exception). For instance, imagine you would like to catch the **[StringIndexOutOfBoundsException][1]** thrown by the [String.charAt(index)][2] method but your code could also throw a [NullPointerException][3], here&#39;s how you could go to catch the exceptions:\r\n\r\n    String s = null;\r\n    try {\r\n      s.charAt(10);\r\n    } catch ( NullPointerExeption e ) {\r\n      System.out.println(&quot;null&quot;);\r\n      e.printStackTrace();\r\n    } catch ( StringIndexOutOfBoundsException e ) {\r\n      System.out.println(&quot;String index error!&quot;);\r\n      e.printStackTrace();\r\n    } catch ( RuntimeException e ) {\r\n      System.out.println(&quot;runtime exception!&quot;);\r\n      e.printStackTrace();\r\n    }\r\n\r\nSo, with this order, I am making sure the exceptions are caught correctly and they are not tripping over one another, if it&#39;s a **NullPointerException** it enters the first catch, if a **StringIndexOutOfBoundsException** it enters the second and finally if it is something else that is a RuntimeException (or inherits from it, like a **IllegalArgumentException**) it enters the third catch.\r\n\r\nYour case is correct as IOException inherits from Exception and RuntimeException also inherits from Exception, so they will not trip over one another.\r\n\r\nIt&#39;s also a compilation error to catch a generic exception first and then one of it&#39;s descendants later, as in:\r\n\r\n    try {\r\n      // some code here\r\n    } catch ( Exception e) {\r\n      e.printStackTrace();\r\n    } catch ( RuntimeException e ) { // this line will cause a compilation error because it would never be executed since the first catch would pick the exception\r\n      e.printStackTrace();\r\n    }\r\n\r\nSo, you should have the children first and then the parent exceptions.\r\n\r\n  [1]: http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/StringIndexOutOfBoundsException.html\r\n  [2]: http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#charAt%28int%29\r\n  [3]: http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/NullPointerException.html","title":"Order of catching exceptions in Java","body":"<p>The order is <strong>whatever matches first, gets executed</strong> (<a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-11.html#jls-11.3\" rel=\"noreferrer\">as the JLS clearly explains</a>).</p>\n\n<p>If the first catch matches the exception, it executes, if it doesn't, the next one is tried and on and on until one is matched or none are.</p>\n\n<p>So, when catching exceptions you want to always catch the <strong>most specific</strong> first and then the most generic (as RuntimeException or Exception). For instance, imagine you would like to catch the <strong><a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/StringIndexOutOfBoundsException.html\" rel=\"noreferrer\">StringIndexOutOfBoundsException</a></strong> thrown by the <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#charAt%28int%29\" rel=\"noreferrer\">String.charAt(index)</a> method but your code could also throw a <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/NullPointerException.html\" rel=\"noreferrer\">NullPointerException</a>, here's how you could go to catch the exceptions:</p>\n\n<pre><code>String s = null;\ntry {\n  s.charAt(10);\n} catch ( NullPointerExeption e ) {\n  System.out.println(\"null\");\n  e.printStackTrace();\n} catch ( StringIndexOutOfBoundsException e ) {\n  System.out.println(\"String index error!\");\n  e.printStackTrace();\n} catch ( RuntimeException e ) {\n  System.out.println(\"runtime exception!\");\n  e.printStackTrace();\n}\n</code></pre>\n\n<p>So, with this order, I am making sure the exceptions are caught correctly and they are not tripping over one another, if it's a <strong>NullPointerException</strong> it enters the first catch, if a <strong>StringIndexOutOfBoundsException</strong> it enters the second and finally if it is something else that is a RuntimeException (or inherits from it, like a <strong>IllegalArgumentException</strong>) it enters the third catch.</p>\n\n<p>Your case is correct as IOException inherits from Exception and RuntimeException also inherits from Exception, so they will not trip over one another.</p>\n\n<p>It's also a compilation error to catch a generic exception first and then one of it's descendants later, as in:</p>\n\n<pre><code>try {\n  // some code here\n} catch ( Exception e) {\n  e.printStackTrace();\n} catch ( RuntimeException e ) { // this line will cause a compilation error because it would never be executed since the first catch would pick the exception\n  e.printStackTrace();\n}\n</code></pre>\n\n<p>So, you should have the children first and then the parent exceptions.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1692710817,"creation_date":1339297854,"answer_id":10966118,"question_id":10964882,"body_markdown":"&gt; Is this order a correct one? Or is it correct but a bad option?\r\n\r\nNeither.  As other answers have said, the compiler should tell you if you put simple catches in an order where one masks another.\r\n\r\nBut there is another potential issue in your code: should you actually be catching `RuntimeException` at all?  The issue is that there are many potential sources / causes of unchecked exceptions, and many of those sources / causes would actually be bugs in your application.  \r\n\r\nUsing the `catch` to log a diagnostic as part of an emergency shutdown is fine, but if you catch *and attempt to recover from* a `RuntimeException`, you need to be careful that you are not sweeping a serious problem under the carpet:\r\n\r\n  - Make sure that you log the exception and its stacktrace, no matter what.\r\n\r\n  - Consider whether is is *wise* to attempt to recover.  If you&#39;ve got an unknown bug, it could have done damage (e.g. to important data structures) before triggering the exception.  In general, you have no way of knowing whether the application can recover, or whether attempting to recover can do worse damage.\r\n\r\nThe same advice applies to catching `Exception` and `Throwable` / `Error`.  And it is more critical with `Throwable` / `Error` because of the nature of the damage that could well have already occurred.","title":"Order of catching exceptions in Java","body":"<blockquote>\n<p>Is this order a correct one? Or is it correct but a bad option?</p>\n</blockquote>\n<p>Neither.  As other answers have said, the compiler should tell you if you put simple catches in an order where one masks another.</p>\n<p>But there is another potential issue in your code: should you actually be catching <code>RuntimeException</code> at all?  The issue is that there are many potential sources / causes of unchecked exceptions, and many of those sources / causes would actually be bugs in your application.</p>\n<p>Using the <code>catch</code> to log a diagnostic as part of an emergency shutdown is fine, but if you catch <em>and attempt to recover from</em> a <code>RuntimeException</code>, you need to be careful that you are not sweeping a serious problem under the carpet:</p>\n<ul>\n<li><p>Make sure that you log the exception and its stacktrace, no matter what.</p>\n</li>\n<li><p>Consider whether is is <em>wise</em> to attempt to recover.  If you've got an unknown bug, it could have done damage (e.g. to important data structures) before triggering the exception.  In general, you have no way of knowing whether the application can recover, or whether attempting to recover can do worse damage.</p>\n</li>\n</ul>\n<p>The same advice applies to catching <code>Exception</code> and <code>Throwable</code> / <code>Error</code>.  And it is more critical with <code>Throwable</code> / <code>Error</code> because of the nature of the damage that could well have already occurred.</p>\n"}],"owner":{"account_id":1288319,"reputation":9494,"user_id":1240930,"accept_rate":92,"display_name":"John Doe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55136,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"accepted_answer_id":10964899,"answer_count":3,"score":44,"last_activity_date":1692757128,"creation_date":1339279067,"question_id":10964882,"body_markdown":"If I&#39;m not mistaken, subclasses of Exceptions should be caught first. But having to catch any RuntimeException and a concrete checked Exception, which should be caught at first?\r\n\r\n    try {\r\n        ...\r\n    } catch(RuntimeException e) {\r\n    \t...\r\n    } catch(IOException e) {\r\n    \t...\r\n    }\r\n\r\nIs this order a correct one? Or is it correct but a bad option?","title":"Order of catching exceptions in Java","body":"<p>If I'm not mistaken, subclasses of Exceptions should be caught first. But having to catch any RuntimeException and a concrete checked Exception, which should be caught at first?</p>\n\n<pre><code>try {\n    ...\n} catch(RuntimeException e) {\n    ...\n} catch(IOException e) {\n    ...\n}\n</code></pre>\n\n<p>Is this order a correct one? Or is it correct but a bad option?</p>\n"},{"tags":["java","inner-classes","mixins","spongeapi"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1689878376,"post_id":76732768,"comment_id":135279416,"body_markdown":"Does this work for normal, non-inner classes? Does this @Mixin already exist, or is it something you&#39;d like to exist?","body":"Does this work for normal, non-inner classes? Does this @Mixin already exist, or is it something you&#39;d like to exist?"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1689878704,"post_id":76732768,"comment_id":135279481,"body_markdown":"Are you talking about [SpongePowered Mixin](https://github.com/SpongePowered/Mixin)s? If yes, please edit that into the question.","body":"Are you talking about <a href=\"https://github.com/SpongePowered/Mixin\" rel=\"nofollow noreferrer\">SpongePowered Mixin</a>s? If yes, please edit that into the question."},{"owner":{"account_id":10751001,"reputation":736,"user_id":7916348,"display_name":"The Zach Man"},"score":0,"creation_date":1689879984,"post_id":76732768,"comment_id":135279733,"body_markdown":"Yes, I am, edited.  I couldn&#39;t find a tag for SpongePowered specifically, let me know if I missed one.","body":"Yes, I am, edited.  I couldn&#39;t find a tag for SpongePowered specifically, let me know if I missed one."}],"answers":[{"tags":[],"owner":{"account_id":10751001,"reputation":736,"user_id":7916348,"display_name":"The Zach Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692756472,"creation_date":1692756472,"answer_id":76957829,"question_id":76732768,"body_markdown":"The inner class has a synthetic (final) field, often but not always called `this$0`, which contains the instance of the outer class.  This field can be obtained by reflection as in [this][1] answer, or with a mixin it can be shadowed:\r\n\r\n    @Mixin(targets = &quot;whatever.Outer$Inner&quot;)\r\n    class InnerMixin {\r\n        @Shadow @Final Outer this$0;\r\n\r\n        @Overwrite\r\n        public void foo() {\r\n            System.out.println(this$0.x);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/15265900","title":"Access instance of outer class from mixin to inner class","body":"<p>The inner class has a synthetic (final) field, often but not always called <code>this$0</code>, which contains the instance of the outer class.  This field can be obtained by reflection as in <a href=\"https://stackoverflow.com/a/15265900\">this</a> answer, or with a mixin it can be shadowed:</p>\n<pre><code>@Mixin(targets = &quot;whatever.Outer$Inner&quot;)\nclass InnerMixin {\n    @Shadow @Final Outer this$0;\n\n    @Overwrite\n    public void foo() {\n        System.out.println(this$0.x);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10751001,"reputation":736,"user_id":7916348,"display_name":"The Zach Man"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692756472,"creation_date":1689877644,"question_id":76732768,"body_markdown":"I&#39;m targeting a non-static nested class, e.g.\r\n\r\n    package whatever;\r\n    class Outer {\r\n        public int x;\r\n        class Inner {\r\n            public void foo();\r\n        }\r\n    }\r\nAnd I would like to write a SpongePowered Mixin for the inner class that refers to a field of the outer class, e.g.\r\n\r\n    @Mixin(targets = &quot;whatever.Outer$Inner&quot;)\r\n    class InnerMixin {\r\n        @Overwrite\r\n        public void foo() {\r\n            System.out.println(Outer.this.x); //This doesn&#39;t work\r\n        }\r\n    }\r\n\r\nHow can I do this?    ","title":"Access instance of outer class from mixin to inner class","body":"<p>I'm targeting a non-static nested class, e.g.</p>\n<pre><code>package whatever;\nclass Outer {\n    public int x;\n    class Inner {\n        public void foo();\n    }\n}\n</code></pre>\n<p>And I would like to write a SpongePowered Mixin for the inner class that refers to a field of the outer class, e.g.</p>\n<pre><code>@Mixin(targets = &quot;whatever.Outer$Inner&quot;)\nclass InnerMixin {\n    @Overwrite\n    public void foo() {\n        System.out.println(Outer.this.x); //This doesn't work\n    }\n}\n</code></pre>\n<p>How can I do this?</p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver","java-12"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1567662571,"post_id":57799059,"comment_id":102030733,"body_markdown":"How do you manage the project dependencies? How are you running the code shared in the question (as modular or non-modular jar)?","body":"How do you manage the project dependencies? How are you running the code shared in the question (as modular or non-modular jar)?"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567677905,"creation_date":1567668938,"answer_id":57800548,"question_id":57799059,"body_markdown":"These error messages...\r\n\r\n\tThe type org.openqa.selenium.chrome.ChromeDriver is not accessible\r\n\t\r\nand\r\n\r\n\tChromeDriver cannot be resolved to a type\r\n\r\n...implies that ChromeDriver wasn&#39;t resolved at compiletime.\r\n\r\n\r\n----------\r\n\r\n\r\nA bit more details about the binaries and your _test framework_ i.e. _Selenium jars_ or _maven_ would have helped us to analyze the issue in a better way. Presumably you have **resolved** the _WebDriver_ and _ChromeDriver_ from one JAR source (i.e. either _selenium-server-standalone-3.141.59_ or _selenium-java-3.141.59_ JARs) but **compiletime** the Classes are trying to get resolved from the other JAR. Hence you see the error.\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\n - Either keep only  **selenium-server-standalone-3.141.59.jar** as an external JAR.\r\n - Or keep only  **selenium-java-3.141.59** JARs as an external JARs.\r\n - Remove all the other _Selenium Java Client JARs_.\r\n - _Clean_ your _Project Workspace_ through your _IDE_ and _Rebuild_ your project with required dependencies only.\r\n - Take a _System Reboot_.\r\n - Execute your `@Test`.\r\n\r\nAdditionally, you need to provide the _absolute_ path of the _chromedriver.exe_ as follows:\r\n\r\n\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\full_path\\\\Driver\\\\chromedriver.exe&quot;);\r\n\r\n\r\n----------\r\n\r\n\r\nReferences\r\n----------\t\r\nYou can find a couple of relevant discussions in:\r\n\r\n- [chrome Webdriver can&#39;t be resolved to a type error eclipse and java](https://stackoverflow.com/questions/48897286/chrome-webdriver-cant-be-resolved-to-a-type-error-eclipse-and-java/48898627#48898627)\r\n- [java.lang.Error: Unresolved compilation problems : WebDriver/ChromeDriver cannot be resolved to a type error while executing selenium tests](https://stackoverflow.com/questions/50111517/java-lang-error-unresolved-compilation-problems-webdriver-chromedriver-cannot/50114884#50114884)","title":"The type org.openqa.selenium.chrome.ChromeDriver is not accessible with Java 12","body":"<p>These error messages...</p>\n\n<pre><code>The type org.openqa.selenium.chrome.ChromeDriver is not accessible\n</code></pre>\n\n<p>and</p>\n\n<pre><code>ChromeDriver cannot be resolved to a type\n</code></pre>\n\n<p>...implies that ChromeDriver wasn't resolved at compiletime.</p>\n\n<hr>\n\n<p>A bit more details about the binaries and your <em>test framework</em> i.e. <em>Selenium jars</em> or <em>maven</em> would have helped us to analyze the issue in a better way. Presumably you have <strong>resolved</strong> the <em>WebDriver</em> and <em>ChromeDriver</em> from one JAR source (i.e. either <em>selenium-server-standalone-3.141.59</em> or <em>selenium-java-3.141.59</em> JARs) but <strong>compiletime</strong> the Classes are trying to get resolved from the other JAR. Hence you see the error.</p>\n\n<hr>\n\n<h2>Solution</h2>\n\n<ul>\n<li>Either keep only  <strong>selenium-server-standalone-3.141.59.jar</strong> as an external JAR.</li>\n<li>Or keep only  <strong>selenium-java-3.141.59</strong> JARs as an external JARs.</li>\n<li>Remove all the other <em>Selenium Java Client JARs</em>.</li>\n<li><em>Clean</em> your <em>Project Workspace</em> through your <em>IDE</em> and <em>Rebuild</em> your project with required dependencies only.</li>\n<li>Take a <em>System Reboot</em>.</li>\n<li>Execute your <code>@Test</code>.</li>\n</ul>\n\n<p>Additionally, you need to provide the <em>absolute</em> path of the <em>chromedriver.exe</em> as follows:</p>\n\n<pre><code>System.setProperty(\"webdriver.chrome.driver\",\"C:\\\\full_path\\\\Driver\\\\chromedriver.exe\");\n</code></pre>\n\n<hr>\n\n<h2>References</h2>\n\n<p>You can find a couple of relevant discussions in:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/48897286/chrome-webdriver-cant-be-resolved-to-a-type-error-eclipse-and-java/48898627#48898627\">chrome Webdriver can't be resolved to a type error eclipse and java</a></li>\n<li><a href=\"https://stackoverflow.com/questions/50111517/java-lang-error-unresolved-compilation-problems-webdriver-chromedriver-cannot/50114884#50114884\">java.lang.Error: Unresolved compilation problems : WebDriver/ChromeDriver cannot be resolved to a type error while executing selenium tests</a></li>\n</ul>\n"}],"owner":{"account_id":14888736,"reputation":13,"user_id":10751136,"display_name":"Dave Faundo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11384,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692756355,"creation_date":1567662177,"question_id":57799059,"body_markdown":"I am new to Selenium for the purpose of familiarizing for an internship. Currently, I am having a problem with importing chromedriver jar. I am currently using Java 12. It is weird because the error seems to go away when I switch the compiler to Java 1.8. Can anyone help me with this problem?\r\n\r\n```\r\npackage co.edureka.selenium.webdriver.sj;\r\n\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\n\r\npublic class launchbrowser {\r\n\t\r\n\tpublic static WebDriver driver = null;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;.\\\\Driver\\\\chromedriver.exe&quot;);\r\n\t\t\r\n\t\tdriver = new ChromeDriver();\r\n\t\tdriver.navigate().to(&quot;https://amazon.com&quot;);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n&quot;import org.openqa.selenium.chrome.ChromeDriver&quot; displays this error\r\n&gt;&quot;The type org.openqa.selenium.chrome.ChromeDriver is not accessible&quot;;\r\n\r\n&quot;ChromeDriver()&quot; displays this error \r\n&gt;&quot;ChromeDriver cannot be resolved to a type&quot;\r\n","title":"The type org.openqa.selenium.chrome.ChromeDriver is not accessible with Java 12","body":"<p>I am new to Selenium for the purpose of familiarizing for an internship. Currently, I am having a problem with importing chromedriver jar. I am currently using Java 12. It is weird because the error seems to go away when I switch the compiler to Java 1.8. Can anyone help me with this problem?</p>\n\n<pre><code>package co.edureka.selenium.webdriver.sj;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class launchbrowser {\n\n    public static WebDriver driver = null;\n\n    public static void main(String[] args) {\n\n        System.setProperty(\"webdriver.chrome.driver\",\".\\\\Driver\\\\chromedriver.exe\");\n\n        driver = new ChromeDriver();\n        driver.navigate().to(\"https://amazon.com\");\n    }\n\n}\n</code></pre>\n\n<p>\"import org.openqa.selenium.chrome.ChromeDriver\" displays this error</p>\n\n<blockquote>\n  <p>\"The type org.openqa.selenium.chrome.ChromeDriver is not accessible\";</p>\n</blockquote>\n\n<p>\"ChromeDriver()\" displays this error </p>\n\n<blockquote>\n  <p>\"ChromeDriver cannot be resolved to a type\"</p>\n</blockquote>\n"},{"tags":["java","generics","static-methods"],"answers":[{"tags":[],"owner":{"account_id":19061,"reputation":185736,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"down_vote_count":3,"up_vote_count":161,"is_accepted":false,"score":158,"last_activity_date":1473677203,"creation_date":1243885278,"answer_id":936402,"question_id":936377,"body_markdown":"Java doesn&#39;t know what `T` is until you instantiate a type.\r\n\r\nMaybe you can execute static methods by calling `Clazz&lt;T&gt;.doit(something)` but it sounds like you can&#39;t.\r\n\r\nThe other way to handle things is to put the type parameter in the method itself:\r\n\r\n    static &lt;U&gt; void doIt(U object)\r\n\r\nwhich doesn&#39;t get you the right restriction on U, but it&#39;s better than nothing....","title":"Static method in a generic class?","body":"<p>Java doesn't know what <code>T</code> is until you instantiate a type.</p>\n\n<p>Maybe you can execute static methods by calling <code>Clazz&lt;T&gt;.doit(something)</code> but it sounds like you can't.</p>\n\n<p>The other way to handle things is to put the type parameter in the method itself:</p>\n\n<pre><code>static &lt;U&gt; void doIt(U object)\n</code></pre>\n\n<p>which doesn't get you the right restriction on U, but it's better than nothing....</p>\n"},{"tags":[],"owner":{"account_id":37600,"reputation":2100,"user_id":107530,"accept_rate":69,"display_name":"Marcin Cylke"},"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1243885403,"creation_date":1243885403,"answer_id":936411,"question_id":936377,"body_markdown":"When you specify a generic type for your class, JVM know about it only having an instance of your class, not definition. Each definition has only parametrized type.\r\n\r\nGenerics work like templates in C++, so you should first instantiate your class, then use the function with the type being specified.","title":"Static method in a generic class?","body":"<p>When you specify a generic type for your class, JVM know about it only having an instance of your class, not definition. Each definition has only parametrized type.</p>\n\n<p>Generics work like templates in C++, so you should first instantiate your class, then use the function with the type being specified.</p>\n"},{"tags":[],"owner":{"account_id":31622,"reputation":120341,"user_id":86989,"display_name":"newacct"},"down_vote_count":1,"up_vote_count":313,"is_accepted":true,"score":312,"last_activity_date":1243892617,"creation_date":1243892617,"answer_id":936951,"question_id":936377,"body_markdown":"You can&#39;t use a class&#39;s generic type parameters in static methods or static fields. The class&#39;s type parameters are only in scope for instance methods and instance fields. For static fields and static methods, they are shared among all instances of the class, even instances of different type parameters, so obviously they cannot depend on a particular type parameter.\r\n\r\nIt doesn&#39;t seem like your problem should require using the class&#39;s type parameter. If you describe what you are trying to do in more detail, maybe we can help you find a better way to do it.","title":"Static method in a generic class?","body":"<p>You can't use a class's generic type parameters in static methods or static fields. The class's type parameters are only in scope for instance methods and instance fields. For static fields and static methods, they are shared among all instances of the class, even instances of different type parameters, so obviously they cannot depend on a particular type parameter.</p>\n\n<p>It doesn't seem like your problem should require using the class's type parameter. If you describe what you are trying to do in more detail, maybe we can help you find a better way to do it.</p>\n"},{"tags":[],"owner":{"account_id":997173,"reputation":551,"user_id":1012834,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1530754512,"creation_date":1319550600,"answer_id":7890292,"question_id":936377,"body_markdown":"I ran into this same problem.  I found my answer by downloading the source code for `Collections.sort` in the java framework.  The answer I used was to put the `&lt;T&gt;` generic in the method, not in the class definition.\r\n\r\nSo this worked:\r\n\r\n    public class QuickSortArray  {\r\n    \tpublic static &lt;T extends Comparable&gt; void quickSort(T[] array, int bottom, int top){\r\n    //do it\r\n    }\r\n    \r\n    }\r\n\r\nOf course, after reading the answers above I realized that this would be an acceptable alternative without using a generic class:\r\n\r\n    public static void quickSort(Comparable[] array, int bottom, int top){\r\n    //do it\r\n    }\r\n\r\n","title":"Static method in a generic class?","body":"<p>I ran into this same problem.  I found my answer by downloading the source code for <code>Collections.sort</code> in the java framework.  The answer I used was to put the <code>&lt;T&gt;</code> generic in the method, not in the class definition.</p>\n\n<p>So this worked:</p>\n\n<pre><code>public class QuickSortArray  {\n    public static &lt;T extends Comparable&gt; void quickSort(T[] array, int bottom, int top){\n//do it\n}\n\n}\n</code></pre>\n\n<p>Of course, after reading the answers above I realized that this would be an acceptable alternative without using a generic class:</p>\n\n<pre><code>public static void quickSort(Comparable[] array, int bottom, int top){\n//do it\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":396682,"reputation":1082,"user_id":760373,"accept_rate":83,"display_name":"ekj"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1339149282,"creation_date":1336634467,"answer_id":10529198,"question_id":936377,"body_markdown":"Something like the following would get you closer\r\n\r\n    class Clazz\r\n    {\r\n       public static &lt;U extends Clazz&gt; void doIt(U thing)\r\n       {\r\n       }\r\n    }\r\n\r\nEDIT: Updated example with more detail\r\n\r\n\r\n\r\n    public abstract class Thingo \r\n    {\r\n    \t\r\n    \tpublic static &lt;U extends Thingo&gt; void doIt(U p_thingo)\r\n    \t{\r\n    \t\tp_thingo.thing();\r\n    \t}\r\n    \t\r\n    \tprotected abstract void thing();\r\n    \r\n    }\r\n    \r\n    class SubThingoOne extends Thingo\r\n    {\r\n    \t@Override\r\n    \tprotected void thing() \r\n    \t{\r\n    \t\tSystem.out.println(&quot;SubThingoOne&quot;);\r\n    \t}\r\n    }\r\n    \r\n    class SubThingoTwo extends Thingo\r\n    {\r\n    \r\n    \t@Override\r\n    \tprotected void thing() \r\n    \t{\r\n    \t\tSystem.out.println(&quot;SuThingoTwo&quot;);\r\n    \t}\r\n    \t\r\n    }\r\n    \r\n    public class ThingoTest \r\n    {\r\n    \r\n    \t@Test\r\n    \tpublic void test() \r\n    \t{\r\n    \t\tThingo t1 = new SubThingoOne();\r\n    \t\tThingo t2 = new SubThingoTwo();\r\n    \t\t\r\n    \t\tThingo.doIt(t1);\r\n    \t\tThingo.doIt(t2);\r\n    \t\t\r\n    \t\t// compile error --&gt;  Thingo.doIt(new Object());\r\n    \t}\r\n    }","title":"Static method in a generic class?","body":"<p>Something like the following would get you closer</p>\n\n<pre><code>class Clazz\n{\n   public static &lt;U extends Clazz&gt; void doIt(U thing)\n   {\n   }\n}\n</code></pre>\n\n<p>EDIT: Updated example with more detail</p>\n\n<pre><code>public abstract class Thingo \n{\n\n    public static &lt;U extends Thingo&gt; void doIt(U p_thingo)\n    {\n        p_thingo.thing();\n    }\n\n    protected abstract void thing();\n\n}\n\nclass SubThingoOne extends Thingo\n{\n    @Override\n    protected void thing() \n    {\n        System.out.println(\"SubThingoOne\");\n    }\n}\n\nclass SubThingoTwo extends Thingo\n{\n\n    @Override\n    protected void thing() \n    {\n        System.out.println(\"SuThingoTwo\");\n    }\n\n}\n\npublic class ThingoTest \n{\n\n    @Test\n    public void test() \n    {\n        Thingo t1 = new SubThingoOne();\n        Thingo t2 = new SubThingoTwo();\n\n        Thingo.doIt(t1);\n        Thingo.doIt(t2);\n\n        // compile error --&gt;  Thingo.doIt(new Object());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":77347,"reputation":12545,"user_id":220826,"accept_rate":65,"display_name":"BD at Rivenhill"},"down_vote_count":4,"up_vote_count":20,"is_accepted":false,"score":16,"last_activity_date":1363723142,"creation_date":1336901144,"answer_id":10570667,"question_id":936377,"body_markdown":"It is possible to do what you want by using the syntax for generic methods when declaring your `doIt()` method (notice the addition of `&lt;T&gt;` between `static` and `void` in the method signature of `doIt()`):\r\n\r\n    class Clazz&lt;T&gt; {\r\n      static &lt;T&gt; void doIt(T object) {\r\n        // shake that booty\r\n      }\r\n    }\r\nI got Eclipse editor to accept the above code without the `Cannot make a static reference to the non-static type T` error and then expanded it to the following working program (complete with somewhat age-appropriate cultural reference):\r\n\r\n    public class Clazz&lt;T&gt; {\r\n      static &lt;T&gt; void doIt(T object) {\r\n        System.out.println(&quot;shake that booty &#39;&quot; + object.getClass().toString()\r\n                           + &quot;&#39; !!!&quot;);\r\n      }\r\n\r\n      private static class KC {\r\n      }\r\n\r\n      private static class SunshineBand {\r\n      }\r\n\r\n      public static void main(String args[]) {\r\n        KC kc = new KC();\r\n        SunshineBand sunshineBand = new SunshineBand();\r\n        Clazz.doIt(kc);\r\n        Clazz.doIt(sunshineBand);\r\n      }\r\n    }\r\nWhich prints these lines to the console when I run it:\r\n\r\n&gt; shake that booty &#39;class com.eclipseoptions.datamanager.Clazz$KC&#39; !!!&lt;br&gt;\r\n&gt; shake that booty &#39;class com.eclipseoptions.datamanager.Clazz$SunshineBand&#39; !!!\r\n\r\n","title":"Static method in a generic class?","body":"<p>It is possible to do what you want by using the syntax for generic methods when declaring your <code>doIt()</code> method (notice the addition of <code>&lt;T&gt;</code> between <code>static</code> and <code>void</code> in the method signature of <code>doIt()</code>):</p>\n\n<pre><code>class Clazz&lt;T&gt; {\n  static &lt;T&gt; void doIt(T object) {\n    // shake that booty\n  }\n}\n</code></pre>\n\n<p>I got Eclipse editor to accept the above code without the <code>Cannot make a static reference to the non-static type T</code> error and then expanded it to the following working program (complete with somewhat age-appropriate cultural reference):</p>\n\n<pre><code>public class Clazz&lt;T&gt; {\n  static &lt;T&gt; void doIt(T object) {\n    System.out.println(\"shake that booty '\" + object.getClass().toString()\n                       + \"' !!!\");\n  }\n\n  private static class KC {\n  }\n\n  private static class SunshineBand {\n  }\n\n  public static void main(String args[]) {\n    KC kc = new KC();\n    SunshineBand sunshineBand = new SunshineBand();\n    Clazz.doIt(kc);\n    Clazz.doIt(sunshineBand);\n  }\n}\n</code></pre>\n\n<p>Which prints these lines to the console when I run it:</p>\n\n<blockquote>\n  <p>shake that booty 'class com.eclipseoptions.datamanager.Clazz$KC' !!!<br>\n  shake that booty 'class com.eclipseoptions.datamanager.Clazz$SunshineBand' !!!</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1445595191,"creation_date":1445595191,"answer_id":33299907,"question_id":936377,"body_markdown":"It is correctly mentioned in the error: you cannot make a static reference to non-static type T. The reason is the type parameter `T` can be replaced by any of the type argument e.g. `Clazz&lt;String&gt;` or `Clazz&lt;integer&gt;` etc. But static fields/methods are shared by all non-static objects of the class. \r\n\r\nThe following excerpt is taken from the [doc][1]:\r\n \r\n\r\n&gt;    A class&#39;s static field is a class-level variable shared by all\r\n&gt; non-static objects of the class. Hence, static fields of type\r\n&gt; parameters are not allowed. Consider the following class:\r\n&gt;     \r\n&gt;     public class MobileDevice&lt;T&gt; {\r\n&gt;         private static T os;\r\n&gt;     \r\n&gt;         // ...\r\n&gt;     }\r\n&gt;    \r\nIf static fields of type parameters were allowed, then the following code would be confused:\r\n&gt;     \r\n&gt;     MobileDevice&lt;Smartphone&gt; phone = new MobileDevice&lt;&gt;();\r\n&gt;     MobileDevice&lt;Pager&gt; pager = new MobileDevice&lt;&gt;();\r\n&gt;     MobileDevice&lt;TabletPC&gt; pc = new MobileDevice&lt;&gt;();\r\n&gt;     \r\nBecause the static field os is shared by phone, pager, and pc, what is the actual type of os? It cannot be Smartphone, Pager, and\r\n&gt; TabletPC at the same time. You cannot, therefore, create static fields\r\n&gt; of type parameters.\r\n\r\nAs rightly pointed out by chris in his [answer][2] you need to use type parameter with the method and not with the class in this case. You can write it like:\r\n\r\n    static &lt;E&gt; void doIt(E object) \r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/generics/restrictions.html\r\n  [2]: https://stackoverflow.com/a/7890292","title":"Static method in a generic class?","body":"<p>It is correctly mentioned in the error: you cannot make a static reference to non-static type T. The reason is the type parameter <code>T</code> can be replaced by any of the type argument e.g. <code>Clazz&lt;String&gt;</code> or <code>Clazz&lt;integer&gt;</code> etc. But static fields/methods are shared by all non-static objects of the class. </p>\n\n<p>The following excerpt is taken from the <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/restrictions.html\" rel=\"noreferrer\">doc</a>:</p>\n\n<blockquote>\n  <p>A class's static field is a class-level variable shared by all\n  non-static objects of the class. Hence, static fields of type\n  parameters are not allowed. Consider the following class:</p>\n\n<pre><code>public class MobileDevice&lt;T&gt; {\n    private static T os;\n\n    // ...\n}\n</code></pre>\n  \n  <p>If static fields of type parameters were allowed, then the following code would be confused:</p>\n\n<pre><code>MobileDevice&lt;Smartphone&gt; phone = new MobileDevice&lt;&gt;();\nMobileDevice&lt;Pager&gt; pager = new MobileDevice&lt;&gt;();\nMobileDevice&lt;TabletPC&gt; pc = new MobileDevice&lt;&gt;();\n</code></pre>\n  \n  <p>Because the static field os is shared by phone, pager, and pc, what is the actual type of os? It cannot be Smartphone, Pager, and\n  TabletPC at the same time. You cannot, therefore, create static fields\n  of type parameters.</p>\n</blockquote>\n\n<p>As rightly pointed out by chris in his <a href=\"https://stackoverflow.com/a/7890292\">answer</a> you need to use type parameter with the method and not with the class in this case. You can write it like:</p>\n\n<pre><code>static &lt;E&gt; void doIt(E object) \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6365827,"reputation":3652,"user_id":4939853,"accept_rate":69,"display_name":"Oreste Viron"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1692754774,"creation_date":1461330331,"answer_id":36794695,"question_id":936377,"body_markdown":"I think this syntax has not been mentioned yet (in case you want a method without arguments):\r\n\r\n    class Clazz {\r\n      static &lt;T&gt; T doIt() {\r\n        // shake that booty\r\n      }\r\n    }\r\n\r\nAnd the call:\r\n\r\n    String str = Clazz.&lt;String&gt;doIt();\r\n","title":"Static method in a generic class?","body":"<p>I think this syntax has not been mentioned yet (in case you want a method without arguments):</p>\n<pre><code>class Clazz {\n  static &lt;T&gt; T doIt() {\n    // shake that booty\n  }\n}\n</code></pre>\n<p>And the call:</p>\n<pre><code>String str = Clazz.&lt;String&gt;doIt();\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user6288471"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1462327241,"creation_date":1462327241,"answer_id":37017195,"question_id":936377,"body_markdown":"Also to put it in simple terms, it happens because of the &quot;Erasure&quot; property of the generics.Which means that although we define `ArrayList&lt;Integer&gt;` and `ArrayList&lt;String&gt;` , at the compile time it stays as two different concrete types but at the runtime the JVM erases generic types and creates only one ArrayList class instead of two classes. So when we define a static type method or anything for a generic, it is shared by all instances of that generic, in my example it is shared by both `ArrayList&lt;Integer&gt;` and `ArrayList&lt;String&gt;` .That&#39;s why you get the error.A Generic Type Parameter of a Class Is Not Allowed in a Static Context! ","title":"Static method in a generic class?","body":"<p>Also to put it in simple terms, it happens because of the \"Erasure\" property of the generics.Which means that although we define <code>ArrayList&lt;Integer&gt;</code> and <code>ArrayList&lt;String&gt;</code> , at the compile time it stays as two different concrete types but at the runtime the JVM erases generic types and creates only one ArrayList class instead of two classes. So when we define a static type method or anything for a generic, it is shared by all instances of that generic, in my example it is shared by both <code>ArrayList&lt;Integer&gt;</code> and <code>ArrayList&lt;String&gt;</code> .That's why you get the error.A Generic Type Parameter of a Class Is Not Allowed in a Static Context! </p>\n"},{"tags":[],"owner":{"account_id":11893412,"reputation":46,"user_id":8703562,"display_name":"Hubert Kauker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1507824397,"creation_date":1507824397,"answer_id":46714215,"question_id":936377,"body_markdown":"@BD at Rivenhill: Since this old question has gotten renewed attention last year, let us go on a bit, just for the sake of discussion.\r\nThe body of your &lt;code&gt;doIt&lt;/code&gt; method does not do anything &lt;code&gt;T&lt;/code&gt;-specific at all. Here it is:\r\n\r\n    public class Clazz&lt;T&gt; {\r\n      static &lt;T&gt; void doIt(T object) {\r\n        System.out.println(&quot;shake that booty &#39;&quot; + object.getClass().toString()\r\n                           + &quot;&#39; !!!&quot;);\r\n      }\r\n    // ...\r\n    }\r\n\r\nSo you can entirely drop all type variables and just code\r\n\r\n    public class Clazz {\r\n      static void doIt(Object object) {\r\n        System.out.println(&quot;shake that booty &#39;&quot; + object.getClass().toString()\r\n                           + &quot;&#39; !!!&quot;);\r\n      }\r\n    // ...\r\n    }\r\n\r\nOk. But let&#39;s get back closer to the original problem. The first type variable on the class declaration is redundant. Only the second one on the method is needed. Here we go again, but it is not the final answer, yet:                                                      \r\n\r\n    public class Clazz  {\r\n      static &lt;T extends Saying&gt; void doIt(T object) {\r\n        System.out.println(&quot;shake that booty &quot;+ object.say());\r\n      }\r\n    \r\n      public static void main(String args[]) {\r\n        Clazz.doIt(new KC());\r\n        Clazz.doIt(new SunshineBand());\r\n      }\r\n    }\r\n    // Output:\r\n    // KC\r\n    // Sunshine\r\n    \r\n    interface Saying {\r\n    \t  public String say();\r\n    }\r\n    \r\n    class KC implements Saying {\r\n    \t  public String say() {\r\n    \t\t  return &quot;KC&quot;;\r\n    \t  }\r\n    }\r\n    \r\n    class SunshineBand implements Saying {\r\n    \t  public String say() {\r\n    \t\t  return &quot;Sunshine&quot;;\r\n    \t  }\r\n    }\r\n\r\nHowever, it&#39;s all too much fuss about nothing, since the following version works just the same way. All it needs is the interface type on the method parameter. No type variables in sight anywhere. Was that really the original problem?\r\n\r\n    public class Clazz  {\r\n      static void doIt(Saying object) {\r\n        System.out.println(&quot;shake that booty &quot;+ object.say());\r\n      }\r\n    \r\n      public static void main(String args[]) {\r\n        Clazz.doIt(new KC());\r\n        Clazz.doIt(new SunshineBand());\r\n      }\r\n    }\r\n    \r\n    interface Saying {\r\n    \t  public String say();\r\n    }\r\n    \r\n    class KC implements Saying {\r\n    \t  public String say() {\r\n    \t\t  return &quot;KC&quot;;\r\n    \t  }\r\n    }\r\n    \r\n    class SunshineBand implements Saying {\r\n    \t  public String say() {\r\n    \t\t  return &quot;Sunshine&quot;;\r\n    \t  }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"Static method in a generic class?","body":"<p>@BD at Rivenhill: Since this old question has gotten renewed attention last year, let us go on a bit, just for the sake of discussion.\nThe body of your <code>doIt</code> method does not do anything <code>T</code>-specific at all. Here it is:</p>\n\n<pre><code>public class Clazz&lt;T&gt; {\n  static &lt;T&gt; void doIt(T object) {\n    System.out.println(\"shake that booty '\" + object.getClass().toString()\n                       + \"' !!!\");\n  }\n// ...\n}\n</code></pre>\n\n<p>So you can entirely drop all type variables and just code</p>\n\n<pre><code>public class Clazz {\n  static void doIt(Object object) {\n    System.out.println(\"shake that booty '\" + object.getClass().toString()\n                       + \"' !!!\");\n  }\n// ...\n}\n</code></pre>\n\n<p>Ok. But let's get back closer to the original problem. The first type variable on the class declaration is redundant. Only the second one on the method is needed. Here we go again, but it is not the final answer, yet:                                                      </p>\n\n<pre><code>public class Clazz  {\n  static &lt;T extends Saying&gt; void doIt(T object) {\n    System.out.println(\"shake that booty \"+ object.say());\n  }\n\n  public static void main(String args[]) {\n    Clazz.doIt(new KC());\n    Clazz.doIt(new SunshineBand());\n  }\n}\n// Output:\n// KC\n// Sunshine\n\ninterface Saying {\n      public String say();\n}\n\nclass KC implements Saying {\n      public String say() {\n          return \"KC\";\n      }\n}\n\nclass SunshineBand implements Saying {\n      public String say() {\n          return \"Sunshine\";\n      }\n}\n</code></pre>\n\n<p>However, it's all too much fuss about nothing, since the following version works just the same way. All it needs is the interface type on the method parameter. No type variables in sight anywhere. Was that really the original problem?</p>\n\n<pre><code>public class Clazz  {\n  static void doIt(Saying object) {\n    System.out.println(\"shake that booty \"+ object.say());\n  }\n\n  public static void main(String args[]) {\n    Clazz.doIt(new KC());\n    Clazz.doIt(new SunshineBand());\n  }\n}\n\ninterface Saying {\n      public String say();\n}\n\nclass KC implements Saying {\n      public String say() {\n          return \"KC\";\n      }\n}\n\nclass SunshineBand implements Saying {\n      public String say() {\n          return \"Sunshine\";\n      }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1675364,"reputation":383,"user_id":1541051,"accept_rate":80,"display_name":"Bharat"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1531735155,"creation_date":1531735155,"answer_id":51359178,"question_id":936377,"body_markdown":"Since static variables are shared by all instances of the class. For example if you are having following code\r\n\r\n    class Class&lt;T&gt; {\r\n      static void doIt(T object) {\r\n        // using T here \r\n      }\r\n    }\r\n\r\nT is available only after an instance is created. But static methods can be used even before instances are available. So, Generic type parameters cannot be referenced inside static methods and variables","title":"Static method in a generic class?","body":"<p>Since static variables are shared by all instances of the class. For example if you are having following code</p>\n\n<pre><code>class Class&lt;T&gt; {\n  static void doIt(T object) {\n    // using T here \n  }\n}\n</code></pre>\n\n<p>T is available only after an instance is created. But static methods can be used even before instances are available. So, Generic type parameters cannot be referenced inside static methods and variables</p>\n"},{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639696536,"creation_date":1639696536,"answer_id":70386690,"question_id":936377,"body_markdown":"T is not in the scope of the static methods and so you can&#39;t use T in the static method.  You would need to define a different type parameter for the static method.  I would write it like this:\r\n```\r\nclass Clazz&lt;T&gt; {\r\n\r\n  static &lt;U&gt; void doIt(U object) {\r\n    // ...\r\n  }\r\n\r\n}\r\n```\r\n\r\nFor example:\r\n\r\n```\r\npublic class Tuple&lt;T&gt; {\r\n\r\n    private T[] elements;\r\n\r\n    public static &lt;E&gt; Tuple&lt;E&gt; of(E ...args){\r\n        if (args.length == 0) \r\n             return new Tuple&lt;E&gt;();\r\n        return new Tuple&lt;E&gt;(args);\r\n    }\r\n\r\n    //other methods\r\n}\r\n","title":"Static method in a generic class?","body":"<p>T is not in the scope of the static methods and so you can't use T in the static method.  You would need to define a different type parameter for the static method.  I would write it like this:</p>\n<pre><code>class Clazz&lt;T&gt; {\n\n  static &lt;U&gt; void doIt(U object) {\n    // ...\n  }\n\n}\n</code></pre>\n<p>For example:</p>\n<pre><code>public class Tuple&lt;T&gt; {\n\n    private T[] elements;\n\n    public static &lt;E&gt; Tuple&lt;E&gt; of(E ...args){\n        if (args.length == 0) \n             return new Tuple&lt;E&gt;();\n        return new Tuple&lt;E&gt;(args);\n    }\n\n    //other methods\n}\n</code></pre>\n"}],"owner":{"account_id":3365,"reputation":13816,"user_id":4850,"accept_rate":80,"display_name":"Andr&#233; Chalella"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207894,"favorite_count":0,"down_vote_count":1,"up_vote_count":220,"accepted_answer_id":936951,"answer_count":12,"score":219,"last_activity_date":1692754774,"creation_date":1243884934,"question_id":936377,"body_markdown":"In Java, I&#39;d like to have something as:\r\n\r\n    class Clazz&lt;T&gt; {\r\n      static void doIt(T object) {\r\n        // ...\r\n      }\r\n    }\r\n\r\nBut I get\r\n\r\n&lt;pre&gt;Cannot make a static reference to the non-static type T&lt;/pre&gt;\r\n\r\nI don&#39;t understand generics beyond the basic uses and thus can&#39;t make much sense of that. It doesn&#39;t help that I wasn&#39;t able to find much info on the internet about the subject.\r\n\r\nCould someone clarify if such use is possible, by a similar manner? Also, why was my original attempt unsuccessful?","title":"Static method in a generic class?","body":"<p>In Java, I'd like to have something as:</p>\n\n<pre><code>class Clazz&lt;T&gt; {\n  static void doIt(T object) {\n    // ...\n  }\n}\n</code></pre>\n\n<p>But I get</p>\n\n<pre>Cannot make a static reference to the non-static type T</pre>\n\n<p>I don't understand generics beyond the basic uses and thus can't make much sense of that. It doesn't help that I wasn't able to find much info on the internet about the subject.</p>\n\n<p>Could someone clarify if such use is possible, by a similar manner? Also, why was my original attempt unsuccessful?</p>\n"},{"tags":["java","code-organization"],"comments":[{"owner":{"display_name":"anon"},"score":9,"creation_date":1251038112,"post_id":1318712,"comment_id":1151734,"body_markdown":"IMHO, probably the worst design decision in the history of computing was for Java to force the file to class mapping.","body":"IMHO, probably the worst design decision in the history of computing was for Java to force the file to class mapping."},{"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"score":10,"creation_date":1251038467,"post_id":1318712,"comment_id":1151746,"body_markdown":"@Neil - That&#39;s a bit harsh. Have you used Lotus Notes?","body":"@Neil - That&#39;s a bit harsh. Have you used Lotus Notes?"},{"owner":{"account_id":50129,"reputation":3525,"user_id":149406,"accept_rate":79,"display_name":"Andr&#233; Hoffmann"},"score":1,"creation_date":1251038846,"post_id":1318712,"comment_id":1151756,"body_markdown":"@oxbow_lakes: You made me curious..What has this to do with Lotus Notes?","body":"@oxbow_lakes: You made me curious..What has this to do with Lotus Notes?"},{"owner":{"account_id":26897,"reputation":340690,"user_id":70393,"accept_rate":86,"display_name":"karim79"},"score":0,"creation_date":1251038853,"post_id":1318712,"comment_id":1151757,"body_markdown":"Dupe: http://stackoverflow.com/questions/968347/can-a-java-file-have-more-than-one-class","body":"Dupe: <a href=\"http://stackoverflow.com/questions/968347/can-a-java-file-have-more-than-one-class\" title=\"can a java file have more than one class\">stackoverflow.com/questions/968347/&hellip;</a>"},{"owner":{"display_name":"anon"},"score":0,"creation_date":1251038862,"post_id":1318712,"comment_id":1151758,"body_markdown":"@oxbow As it happens, yes. I&#39;ve also programmed it and ccMail, and while neither would ever be my favourite tools, I found them to have a suprisingly well designed API, if iI remember correctly (it was a while back)","body":"@oxbow As it happens, yes. I&#39;ve also programmed it and ccMail, and while neither would ever be my favourite tools, I found them to have a suprisingly well designed API, if iI remember correctly (it was a while back)"},{"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"score":5,"creation_date":1251039425,"post_id":1318712,"comment_id":1151788,"body_markdown":"@Andre - well, when I hear the phrase *&quot;Worst design decision in the history of computing&quot;*, Lotus Notes just springs to mind.","body":"@Andre - well, when I hear the phrase <i>&quot;Worst design decision in the history of computing&quot;</i>, Lotus Notes just springs to mind."},{"owner":{"display_name":"anon"},"score":0,"creation_date":1251039468,"post_id":1318712,"comment_id":1151792,"body_markdown":"@sandbox I agree this is not a dupe, and I think this is an interesting question, though one that can&#39;t really be answered except by Mr Gosling. It should probably therefore be CW.","body":"@sandbox I agree this is not a dupe, and I think this is an interesting question, though one that can&#39;t really be answered except by Mr Gosling. It should probably therefore be CW."},{"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":8,"creation_date":1251039911,"post_id":1318712,"comment_id":1151818,"body_markdown":"Even in C# it&#39;s usually considered a bad idea to have more than one top-level type in a file, unless they&#39;re delegates.","body":"Even in C# it&#39;s usually considered a bad idea to have more than one top-level type in a file, unless they&#39;re delegates."},{"owner":{"account_id":52521,"reputation":7976,"user_id":156982,"accept_rate":58,"display_name":"Sandbox"},"score":0,"creation_date":1251040074,"post_id":1318712,"comment_id":1151827,"body_markdown":"@jon how about classes derived from EventArgs? If only one particular class is using it to send as args then why not have it in same file?","body":"@jon how about classes derived from EventArgs? If only one particular class is using it to send as args then why not have it in same file?"},{"owner":{"display_name":"anon"},"score":5,"creation_date":1251040328,"post_id":1318712,"comment_id":1151843,"body_markdown":"@Jon Skeet I can&#39;t speak for C#, but in C++ there is no such opinion. Multiple related classes in the same file make a lot of sense.","body":"@Jon Skeet I can&#39;t speak for C#, but in C++ there is no such opinion. Multiple related classes in the same file make a lot of sense."},{"owner":{"account_id":46788,"reputation":98219,"user_id":138304,"accept_rate":65,"display_name":"Sam Harwell"},"score":0,"creation_date":1251043908,"post_id":1318712,"comment_id":1151983,"body_markdown":"@Neil: I couldn&#39;t disagree more, and my view is the reason my C++ code builds faster than others. Not. Even. Close.","body":"@Neil: I couldn&#39;t disagree more, and my view is the reason my C++ code builds faster than others. Not. Even. Close."},{"owner":{"display_name":"anon"},"score":0,"creation_date":1251044979,"post_id":1318712,"comment_id":1152035,"body_markdown":"@280Z28 So #including more files speeds up your build process? Interesting.","body":"@280Z28 So #including more files speeds up your build process? Interesting."},{"owner":{"account_id":46788,"reputation":98219,"user_id":138304,"accept_rate":65,"display_name":"Sam Harwell"},"score":1,"creation_date":1251046055,"post_id":1318712,"comment_id":1152089,"body_markdown":"@Neil: No, including fewer files speeds up the build process. The idea is never introduce a semantic dependency chain that is unnecessary for compiling code element *X*. I found this can be accomplished with maximum impact at a per-class granularity. It also allows you to keep the GCC PCH size under 70mb on large projects, as you go past that you take a rather remarkable performance hit compared to its &quot;sweet spot&quot; (though this is far from the only place it impacts).","body":"@Neil: No, including fewer files speeds up the build process. The idea is never introduce a semantic dependency chain that is unnecessary for compiling code element <i>X</i>. I found this can be accomplished with maximum impact at a per-class granularity. It also allows you to keep the GCC PCH size under 70mb on large projects, as you go past that you take a rather remarkable performance hit compared to its &quot;sweet spot&quot; (though this is far from the only place it impacts)."},{"owner":{"display_name":"anon"},"score":0,"creation_date":1251046353,"post_id":1318712,"comment_id":1152102,"body_markdown":"@280Z28 I don&#39;t see how your second comment backs up the first. But SO comments are not the ideal form for discussions like these - perhaps you could expand your ideas in a community wiki question?","body":"@280Z28 I don&#39;t see how your second comment backs up the first. But SO comments are not the ideal form for discussions like these - perhaps you could expand your ideas in a community wiki question?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":3,"creation_date":1256106125,"post_id":1318712,"comment_id":1463850,"body_markdown":"@Neil, ibitially I found this annoying, but after using Java a_lot_ I found that this convention helps a lot when working with other People&#39;s code!  You have a lot less of Gjessing to d&#243; which is really Nice!","body":"@Neil, ibitially I found this annoying, but after using Java a_lot_ I found that this convention helps a lot when working with other People&#39;s code!  You have a lot less of Gjessing to d&#243; which is really Nice!"}],"answers":[{"tags":[],"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1251038107,"creation_date":1251038107,"answer_id":1318717,"question_id":1318712,"body_markdown":"It&#39;s just to **avoid confusion** in the sense that Java was created with simplicity in mind from the perspective of the developer. Your &quot;primary&quot; classes are your public classes and they are easy to find (by a human) if they are in a file with the same name and in a directory specified by the class&#39;s package.\r\n\r\nYou must recall that the Java language was developed in the mid-90s, *in the days before IDEs made code navigation and searching a breeze*. ","title":"Why is each public class in a separate file?","body":"<p>It's just to <strong>avoid confusion</strong> in the sense that Java was created with simplicity in mind from the perspective of the developer. Your \"primary\" classes are your public classes and they are easy to find (by a human) if they are in a file with the same name and in a directory specified by the class's package.</p>\n\n<p>You must recall that the Java language was developed in the mid-90s, <em>in the days before IDEs made code navigation and searching a breeze</em>. </p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1628063437,"creation_date":1251038508,"answer_id":1318727,"question_id":1318712,"body_markdown":"It is technically legal to have multiple Java top level classes in one file.  However this is considered to be bad practice (in most cases), and some Java tools may not work if you do this.  \r\n\r\nThe JLS says this:\r\n\r\n&gt; When packages are stored in a file\r\n&gt; system (&#167;7.2.1), **the host system may\r\n&gt; choose to enforce the restriction** that\r\n&gt; it is a compile-time error if a type\r\n&gt; is not found in a file under a name\r\n&gt; composed of the type name plus an\r\n&gt; extension (such as .java or .jav) if\r\n&gt; either of the following is true:\r\n&gt; \r\n&gt;  - The type is referred to by code in    other compilation units of the package in which the type is declared.\r\n&gt;  - The type is declared public (and    therefore is potentially accessible from code in other packages).\r\n\r\nNote the use of **may** in the JLS text.  This says that a compiler may reject this as invalid, or it may not.  That is not a good situation if you are trying to build your Java code to be portable *at the source code level*.  Thus, even if multiple classes in one source file works on your development platform, it is bad practice to do this.\r\n\r\nMy understanding is that this &quot;permission to reject&quot; is a design decision that is intended *in part* to make it easier to implement Java on a wider range of platforms.  If (conversely) the JLS required all compilers to support source files containing multiple classes, there would be conceptual issues implementing Java on a platform which wasn&#39;t file-system based. \r\n\r\nIn practice, seasoned Java developers don&#39;t miss being able to do this at all.  Modularization and information hiding are better done using an appropriate combination of packages, class access modifiers and inner or nested classes.","title":"Why is each public class in a separate file?","body":"<p>It is technically legal to have multiple Java top level classes in one file.  However this is considered to be bad practice (in most cases), and some Java tools may not work if you do this.</p>\n<p>The JLS says this:</p>\n<blockquote>\n<p>When packages are stored in a file\nsystem (§7.2.1), <strong>the host system may\nchoose to enforce the restriction</strong> that\nit is a compile-time error if a type\nis not found in a file under a name\ncomposed of the type name plus an\nextension (such as .java or .jav) if\neither of the following is true:</p>\n<ul>\n<li>The type is referred to by code in    other compilation units of the package in which the type is declared.</li>\n<li>The type is declared public (and    therefore is potentially accessible from code in other packages).</li>\n</ul>\n</blockquote>\n<p>Note the use of <strong>may</strong> in the JLS text.  This says that a compiler may reject this as invalid, or it may not.  That is not a good situation if you are trying to build your Java code to be portable <em>at the source code level</em>.  Thus, even if multiple classes in one source file works on your development platform, it is bad practice to do this.</p>\n<p>My understanding is that this &quot;permission to reject&quot; is a design decision that is intended <em>in part</em> to make it easier to implement Java on a wider range of platforms.  If (conversely) the JLS required all compilers to support source files containing multiple classes, there would be conceptual issues implementing Java on a platform which wasn't file-system based.</p>\n<p>In practice, seasoned Java developers don't miss being able to do this at all.  Modularization and information hiding are better done using an appropriate combination of packages, class access modifiers and inner or nested classes.</p>\n"},{"tags":[],"owner":{"account_id":43171,"reputation":251718,"user_id":126042,"accept_rate":68,"display_name":"Mark Rushakoff"},"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1251039115,"creation_date":1251039115,"answer_id":1318752,"question_id":1318712,"body_markdown":"According to the [Java Language Specification, Third Edition][1]:\r\n\r\n&gt; This restriction implies that there must be at most one such type per compilation unit. **This restriction makes it easy for a compiler for the Java programming language or an implementation of the Java virtual machine to find a named class within a package**; for example, the source code for a public type wet.sprocket.Toad would be found in a file Toad.java in the directory wet/sprocket, and the corresponding object code would be found in the file Toad.class in the same directory.\r\n\r\nEmphasis is mine.\r\n\r\nIt seems like basically they wanted to translate the OS&#39;s directory separator into dots for namespaces, and vice versa.\r\n\r\nSo yes, it was a design consideration of some sort.\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/jls/third_edition/html/packages.html#26783","title":"Why is each public class in a separate file?","body":"<p>According to the <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/packages.html#26783\" rel=\"noreferrer\">Java Language Specification, Third Edition</a>:</p>\n\n<blockquote>\n  <p>This restriction implies that there must be at most one such type per compilation unit. <strong>This restriction makes it easy for a compiler for the Java programming language or an implementation of the Java virtual machine to find a named class within a package</strong>; for example, the source code for a public type wet.sprocket.Toad would be found in a file Toad.java in the directory wet/sprocket, and the corresponding object code would be found in the file Toad.class in the same directory.</p>\n</blockquote>\n\n<p>Emphasis is mine.</p>\n\n<p>It seems like basically they wanted to translate the OS's directory separator into dots for namespaces, and vice versa.</p>\n\n<p>So yes, it was a design consideration of some sort.</p>\n"},{"tags":[],"owner":{"account_id":48455,"reputation":57218,"user_id":143972,"accept_rate":100,"display_name":"Zed"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1251039240,"creation_date":1251039240,"answer_id":1318759,"question_id":1318712,"body_markdown":"If a class is only used by one other class, make it a private inner class. This way you have your multiple classes in a file.\r\n\r\nIf a class is used by multiple other classes, which of these classes would you put into the same file? All three? You would end up having all your classes in a single file...","title":"Why is each public class in a separate file?","body":"<p>If a class is only used by one other class, make it a private inner class. This way you have your multiple classes in a file.</p>\n\n<p>If a class is used by multiple other classes, which of these classes would you put into the same file? All three? You would end up having all your classes in a single file...</p>\n"},{"tags":[],"owner":{"account_id":3246,"reputation":190447,"user_id":4653,"accept_rate":97,"display_name":"leora"},"down_vote_count":0,"up_vote_count":61,"is_accepted":false,"score":61,"last_activity_date":1692754496,"creation_date":1251041705,"answer_id":1318821,"question_id":1318712,"body_markdown":"I have just taken a C# solution and did just this (remove any file that had multiple public classes in them) and broke them out to individual files and this has made life much easier. \r\n\r\nIf you have multiple public classes in a file, you have a few issues:\r\n\r\n1. What do you name the file? One of the public classes?  Another name? People have enough issues around poor solution code organization and file naming conventions to have one extra issue.\r\n\r\n2.  Also, when you are browsing the file / project explorer, it&#39;s good that things aren&#39;t hidden.  For example, you see one file and drill down and there are 200 classes all mushed together.  If you have one file per class, you can organize your tests better and get a feel for the structure and complexity of a solution.\r\n\r\nI think Java got this right.","title":"Why is each public class in a separate file?","body":"<p>I have just taken a C# solution and did just this (remove any file that had multiple public classes in them) and broke them out to individual files and this has made life much easier.</p>\n<p>If you have multiple public classes in a file, you have a few issues:</p>\n<ol>\n<li><p>What do you name the file? One of the public classes?  Another name? People have enough issues around poor solution code organization and file naming conventions to have one extra issue.</p>\n</li>\n<li><p>Also, when you are browsing the file / project explorer, it's good that things aren't hidden.  For example, you see one file and drill down and there are 200 classes all mushed together.  If you have one file per class, you can organize your tests better and get a feel for the structure and complexity of a solution.</p>\n</li>\n</ol>\n<p>I think Java got this right.</p>\n"},{"tags":[],"owner":{"account_id":32399,"reputation":49187,"user_id":89904,"accept_rate":65,"display_name":"Hamza Yerlikaya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1251042927,"creation_date":1251042927,"answer_id":1318867,"question_id":1318712,"body_markdown":"&gt; Why is java not removing this restriction now in the age of IDEs? This will not break any existing code (or will it?).\r\n\r\nNow all code is uniform. When you see a source file you know what to expect. it is same for every project.  If java were to remove this convention you have to relearn code structure for every project you work on, where as now you learn it once and apply it everywhere. We should not be trusting IDE&#39;s for everything.","title":"Why is each public class in a separate file?","body":"<blockquote>\n  <p>Why is java not removing this restriction now in the age of IDEs? This will not break any existing code (or will it?).</p>\n</blockquote>\n\n<p>Now all code is uniform. When you see a source file you know what to expect. it is same for every project.  If java were to remove this convention you have to relearn code structure for every project you work on, where as now you learn it once and apply it everywhere. We should not be trusting IDE's for everything.</p>\n"},{"tags":[],"owner":{"display_name":"anon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1251047159,"creation_date":1251047159,"answer_id":1319021,"question_id":1318712,"body_markdown":"Not really an answer to the question but a data point none the less. \r\n\r\nI grepped the headers of my personal C++ utilty library (you can get it yourself from [here][1]) and almost all of the header files that actually do declare classes (some just declare free functions) declare more than one class. I like to think of myself as a pretty good C++ designer  (though the library is a bit of a bodge in places - I&#39;m its only user), so I suggest that for C++ at least, multiple classes in the same file are normal and even good practice.\r\n\r\n\r\n  [1]: http://code.google.com/p/csvfix/","title":"Why is each public class in a separate file?","body":"<p>Not really an answer to the question but a data point none the less. </p>\n\n<p>I grepped the headers of my personal C++ utilty library (you can get it yourself from <a href=\"http://code.google.com/p/csvfix/\" rel=\"nofollow noreferrer\">here</a>) and almost all of the header files that actually do declare classes (some just declare free functions) declare more than one class. I like to think of myself as a pretty good C++ designer  (though the library is a bit of a bodge in places - I'm its only user), so I suggest that for C++ at least, multiple classes in the same file are normal and even good practice.</p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1251111591,"creation_date":1251111591,"answer_id":1321715,"question_id":1318712,"body_markdown":"It allows for simpler heuristics for going from Foobar.class to Foobar.java.  \r\n\r\nIf Foobar could be in any Java file you have a mapping problem, which may eventually mean you have to do a full scan of all java files to locate the definition of the class.\r\n\r\nPersonally I have found this to be one of the strange rules that combined result in that Java applications can grow very large and still be sturdy.","title":"Why is each public class in a separate file?","body":"<p>It allows for simpler heuristics for going from Foobar.class to Foobar.java.  </p>\n\n<p>If Foobar could be in any Java file you have a mapping problem, which may eventually mean you have to do a full scan of all java files to locate the definition of the class.</p>\n\n<p>Personally I have found this to be one of the strange rules that combined result in that Java applications can grow very large and still be sturdy.</p>\n"},{"tags":[],"owner":{"account_id":23836,"reputation":86762,"user_id":60096,"accept_rate":89,"display_name":"Andy White"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1251179185,"creation_date":1251179185,"answer_id":1326279,"question_id":1318712,"body_markdown":"That&#39;s just how the language designers decided to do it.  I think the main reason was to optimize the compiler pass-throughs - the compiler does not have to guess or parse through files to locate the public classes.  I think it&#39;s actually a good thing, it makes the code files much easier to find, and forces you to stay away from putting too much into one file.  I also like how Java forces you to put your code files in the same directory structure as the package - that makes it easy to locate any code file.","title":"Why is each public class in a separate file?","body":"<p>That's just how the language designers decided to do it.  I think the main reason was to optimize the compiler pass-throughs - the compiler does not have to guess or parse through files to locate the public classes.  I think it's actually a good thing, it makes the code files much easier to find, and forces you to stay away from putting too much into one file.  I also like how Java forces you to put your code files in the same directory structure as the package - that makes it easy to locate any code file.</p>\n"},{"tags":[],"owner":{"account_id":4243,"reputation":1301824,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1251183127,"creation_date":1251179191,"answer_id":1326280,"question_id":1318712,"body_markdown":"From [Thinking in Java][1]\r\n\r\n:\r\n\r\n&gt; There can be only one public class per compilation unit (file).   \r\nThe idea is that **each compilation unit has a single public interface represented by that public class**. It can have as many supporting “friendly” classes as you want. If you have more than one public class inside a compilation unit, the compiler will give you an error message.\r\n\r\n----\r\n\r\nFrom the [specification (7.2.6)][2]\r\n\r\n&gt; **When packages are stored in a file system (?7.2.1), the host system *may choose* to enforce the restriction that it is a compile-time error if a type is not found in a file under a name composed of the type name plus an extension (such as .java or .jav) if either of the following is true**:\r\n\r\n&gt;- The type is referred to by code in other compilation units of the package in which the type is declared.\r\n- The type is declared public (and therefore is potentially accessible from code in other packages).\r\n- This restriction implies that there must be at most one such type per compilation unit. \r\n- This **restriction makes it easy for a compiler for the Java programming language or an implementation of the Java virtual machine to find a named class within a package**; for example, the source code for a public type wet.sprocket.Toad would be found in a file Toad.java in the directory wet/sprocket, and the corresponding object code would be found in the file Toad.class in the same directory.\r\n\r\nIn short: it may be about finding classes without having to load everything on your classpath.\r\n\r\nEdit: &quot;may choose&quot; seems like it leaves the possibility to *not* follow that restriction, and the meaning of &quot;may&quot; is probable the one described in [RFC 2119][3] (i.e. &quot;optional&quot;)  \r\nIn practice though, this is enforced in so many platform and relied upon by so many tools and IDE that I do not see any &quot;host system&quot; choosing to *not* enforce that restriction.\r\n\r\n----\r\n\r\n\r\nFrom &quot;[Once upon an Oak ...][4]&quot;\r\n\r\n&gt; It&#39;s pretty obvious - like most things are once you know the design reasons - **the compiler would have to make an additional pass through all the compilation units (.java files) to figure out what classes were where, and that would make the compilation even slower.**\r\n\r\n(Note:\r\n\r\n&gt; the [Oak Language Specification for Oak version 0.2][5] (postcript document): **Oak** was the original name of what is now commonly known as Java, and this manual is the oldest manual available for Oak (i.e. Java).  \r\nFor more history on the origins of Java, please have a look at [the Green Project][6] and [Java(TM) Technology: An Early History][7]  \r\n)\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/jls/second_edition/html/packages.doc.html#37546\r\n  [2]: http://java.sun.com/docs/books/jls/second_edition/html/packages.doc.html#37546\r\n  [3]: http://www.ietf.org/rfc/rfc2119.txt\r\n  [4]: http://www.javaspecialists.co.za/archive/Issue055.html\r\n  [5]: http://www.javaspecialists.co.za/archive/files/OakSpec0.2.ps\r\n  [6]: https://duke.dev.java.net/green/\r\n  [7]: http://java.sun.com/features/1998/05/birthday.html","title":"Why is each public class in a separate file?","body":"<p>From <a href=\"http://java.sun.com/docs/books/jls/second_edition/html/packages.doc.html#37546\" rel=\"noreferrer\">Thinking in Java</a></p>\n\n<p>:</p>\n\n<blockquote>\n  <p>There can be only one public class per compilation unit (file).<br>\n  The idea is that <strong>each compilation unit has a single public interface represented by that public class</strong>. It can have as many supporting “friendly” classes as you want. If you have more than one public class inside a compilation unit, the compiler will give you an error message.</p>\n</blockquote>\n\n<hr>\n\n<p>From the <a href=\"http://java.sun.com/docs/books/jls/second_edition/html/packages.doc.html#37546\" rel=\"noreferrer\">specification (7.2.6)</a></p>\n\n<blockquote>\n  <p><strong>When packages are stored in a file system (?7.2.1), the host system <em>may choose</em> to enforce the restriction that it is a compile-time error if a type is not found in a file under a name composed of the type name plus an extension (such as .java or .jav) if either of the following is true</strong>:</p>\n  \n  <ul>\n  <li>The type is referred to by code in other compilation units of the package in which the type is declared.</li>\n  <li>The type is declared public (and therefore is potentially accessible from code in other packages).</li>\n  <li>This restriction implies that there must be at most one such type per compilation unit. </li>\n  <li>This <strong>restriction makes it easy for a compiler for the Java programming language or an implementation of the Java virtual machine to find a named class within a package</strong>; for example, the source code for a public type wet.sprocket.Toad would be found in a file Toad.java in the directory wet/sprocket, and the corresponding object code would be found in the file Toad.class in the same directory.</li>\n  </ul>\n</blockquote>\n\n<p>In short: it may be about finding classes without having to load everything on your classpath.</p>\n\n<p>Edit: \"may choose\" seems like it leaves the possibility to <em>not</em> follow that restriction, and the meaning of \"may\" is probable the one described in <a href=\"http://www.ietf.org/rfc/rfc2119.txt\" rel=\"noreferrer\">RFC 2119</a> (i.e. \"optional\")<br>\nIn practice though, this is enforced in so many platform and relied upon by so many tools and IDE that I do not see any \"host system\" choosing to <em>not</em> enforce that restriction.</p>\n\n<hr>\n\n<p>From \"<a href=\"http://www.javaspecialists.co.za/archive/Issue055.html\" rel=\"noreferrer\">Once upon an Oak ...</a>\"</p>\n\n<blockquote>\n  <p>It's pretty obvious - like most things are once you know the design reasons - <strong>the compiler would have to make an additional pass through all the compilation units (.java files) to figure out what classes were where, and that would make the compilation even slower.</strong></p>\n</blockquote>\n\n<p>(Note:</p>\n\n<blockquote>\n  <p>the <a href=\"http://www.javaspecialists.co.za/archive/files/OakSpec0.2.ps\" rel=\"noreferrer\">Oak Language Specification for Oak version 0.2</a> (postcript document): <strong>Oak</strong> was the original name of what is now commonly known as Java, and this manual is the oldest manual available for Oak (i.e. Java).<br>\n  For more history on the origins of Java, please have a look at <a href=\"https://duke.dev.java.net/green/\" rel=\"noreferrer\">the Green Project</a> and <a href=\"http://java.sun.com/features/1998/05/birthday.html\" rel=\"noreferrer\">Java(TM) Technology: An Early History</a><br>\n  )</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2374287,"reputation":4246,"user_id":2078093,"accept_rate":62,"display_name":"Naresh Joshi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547565850,"creation_date":1512363690,"answer_id":47626775,"question_id":1318712,"body_markdown":"Well, actually it is an optional restriction according to Java Language Specification (Section 7.6, Page No. 209) but followed by Oracle Java compiler as a mandatory restriction. According to Java Language Specification,\r\n\r\n&gt; When packages are stored in a file system (&#167;7.2.1), the host system\r\n&gt; may choose to enforce the restriction that it is a compile-time error\r\n&gt; if a type is not found in a file under a name composed of the type\r\n&gt; name plus an extension (such as .java or .jav) if either of the\r\n&gt; following is true:\r\n&gt; \r\n&gt;  - The type is referred to by code in other compilation units of the package in which the type is declared.\r\n&gt;  - The type is declared public (and therefore is potentially accessible from code in other packages).\r\n&gt; \r\n&gt; This restriction implies that there must be at most one such type per\r\n&gt; compilation unit.  This restriction makes it easy for a Java compiler\r\n&gt; to find a named class within a package.\r\n&gt; \r\n&gt; In practice, many programmers choose to put each class or interface\r\n&gt; type in its own compilation unit, whether or not it is public or is\r\n&gt; referred to by code in other compilation units. \r\n&gt; \r\n&gt; For example, the source code for a public type wet.sprocket.Toad would\r\n&gt; be found in a file Toad.java in the directory wet/sprocket , and the\r\n&gt; corresponding object code would be found in the file Toad.class in the\r\n&gt; same directory.\r\n\r\n\r\nTo get more clear picture let&#39;s imagine there are two public classes public class A and public class B in a same source file and A class have reference to the not yet compiled class B. And we are compiling (compiling-linking-loading) class A now while linking to class B compiler will be forced to examine each *.java files within the current package because class B don’t have it’s specific B.java file. So In above case, it is a little bit time consuming for the compiler to find which class lies under which source file and in which class the main method lies. \r\nSo the reason behind keeping one public class per source file is to actually make compilation process faster because it enables a more efficient lookup of the source and compiled files during linking (import statements). The idea is if you know the name of a class, you know where it should be found for each classpath entry and no indexing will be required. \r\n\r\nAnd also as soon as we execute our application JVM by default looks for the public class (since no restrictions and can be accessible from anywhere) and also looks for `public static void main(String args[])` in that public class. Public class acts as the initial class from where the JVM instance for the Java application (program) is begun. So when we provide more than one public class in a program the compiler itself stops you by throwing an error. This is because later we can’t confuse the JVM as to which class to be its initial class because only one public class with the `public static void main(String args[])` is the initial class for JVM.\r\n\r\nYou can read more on [Why Single Java Source File Can Not Have More Than One public class][1]\r\n\r\n\r\n  [1]: https://programmingmitra.com/2016/05/Why-Single-Java-Source-File-Can-Not-Have-More-Than-One-public-class.html","title":"Why is each public class in a separate file?","body":"<p>Well, actually it is an optional restriction according to Java Language Specification (Section 7.6, Page No. 209) but followed by Oracle Java compiler as a mandatory restriction. According to Java Language Specification,</p>\n\n<blockquote>\n  <p>When packages are stored in a file system (§7.2.1), the host system\n  may choose to enforce the restriction that it is a compile-time error\n  if a type is not found in a file under a name composed of the type\n  name plus an extension (such as .java or .jav) if either of the\n  following is true:</p>\n  \n  <ul>\n  <li>The type is referred to by code in other compilation units of the package in which the type is declared.</li>\n  <li>The type is declared public (and therefore is potentially accessible from code in other packages).</li>\n  </ul>\n  \n  <p>This restriction implies that there must be at most one such type per\n  compilation unit.  This restriction makes it easy for a Java compiler\n  to find a named class within a package.</p>\n  \n  <p>In practice, many programmers choose to put each class or interface\n  type in its own compilation unit, whether or not it is public or is\n  referred to by code in other compilation units. </p>\n  \n  <p>For example, the source code for a public type wet.sprocket.Toad would\n  be found in a file Toad.java in the directory wet/sprocket , and the\n  corresponding object code would be found in the file Toad.class in the\n  same directory.</p>\n</blockquote>\n\n<p>To get more clear picture let's imagine there are two public classes public class A and public class B in a same source file and A class have reference to the not yet compiled class B. And we are compiling (compiling-linking-loading) class A now while linking to class B compiler will be forced to examine each *.java files within the current package because class B don’t have it’s specific B.java file. So In above case, it is a little bit time consuming for the compiler to find which class lies under which source file and in which class the main method lies. \nSo the reason behind keeping one public class per source file is to actually make compilation process faster because it enables a more efficient lookup of the source and compiled files during linking (import statements). The idea is if you know the name of a class, you know where it should be found for each classpath entry and no indexing will be required. </p>\n\n<p>And also as soon as we execute our application JVM by default looks for the public class (since no restrictions and can be accessible from anywhere) and also looks for <code>public static void main(String args[])</code> in that public class. Public class acts as the initial class from where the JVM instance for the Java application (program) is begun. So when we provide more than one public class in a program the compiler itself stops you by throwing an error. This is because later we can’t confuse the JVM as to which class to be its initial class because only one public class with the <code>public static void main(String args[])</code> is the initial class for JVM.</p>\n\n<p>You can read more on <a href=\"https://programmingmitra.com/2016/05/Why-Single-Java-Source-File-Can-Not-Have-More-Than-One-public-class.html\" rel=\"nofollow noreferrer\">Why Single Java Source File Can Not Have More Than One public class</a></p>\n"}],"owner":{"account_id":52521,"reputation":7976,"user_id":156982,"accept_rate":58,"display_name":"Sandbox"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23365,"favorite_count":0,"down_vote_count":2,"up_vote_count":50,"accepted_answer_id":1318752,"answer_count":11,"score":48,"last_activity_date":1692754496,"creation_date":1251037994,"question_id":1318712,"body_markdown":"I recently started learning Java and found it very strange that every Java public class must be declared in a separate file. I am a C# programmer and C# doesn&#39;t enforce any such restriction. \r\n\r\nWhy does Java do this? Were there any design considerations?\r\n\r\n**Edit (based on a few answers):**\r\n\r\nWhy is Java not removing this restriction now in the age of IDEs? This will not break any existing code (or will it?).\r\n","title":"Why is each public class in a separate file?","body":"<p>I recently started learning Java and found it very strange that every Java public class must be declared in a separate file. I am a C# programmer and C# doesn't enforce any such restriction.</p>\n<p>Why does Java do this? Were there any design considerations?</p>\n<p><strong>Edit (based on a few answers):</strong></p>\n<p>Why is Java not removing this restriction now in the age of IDEs? This will not break any existing code (or will it?).</p>\n"},{"tags":["java","cgroups"],"owner":{"account_id":3150912,"reputation":175,"user_id":2664389,"accept_rate":40,"display_name":"Shagufta Oliveyu Methwani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692754129,"creation_date":1692754129,"question_id":76957729,"body_markdown":"I have a service which runs a Java process. I am assigning cgroup to the service via a slice being added in the systemd unit file. Every command that is run in the run.sh including cat commands come under the cgroup, however the main command to run the java process which has sudo su - op -c Java jar &lt;Xyz&gt; is still coming up under the default user slice cgroup. What is happening there? Why is cgroup not being reassigned ","title":"Java process with sudo not coming under created cgroup","body":"<p>I have a service which runs a Java process. I am assigning cgroup to the service via a slice being added in the systemd unit file. Every command that is run in the run.sh including cat commands come under the cgroup, however the main command to run the java process which has sudo su - op -c Java jar  is still coming up under the default user slice cgroup. What is happening there? Why is cgroup not being reassigned</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"down_vote_count":0,"up_vote_count":51,"is_accepted":true,"score":51,"last_activity_date":1484729208,"creation_date":1484728584,"answer_id":41714658,"question_id":41714579,"body_markdown":"It&#39;s simply any class that&#39;s not a nested class. If your file is Foo.java, and your class is Foo, then it&#39;s a top level class.\r\n\r\n    // in Foo.java:\r\n\r\n    public class Foo { // top level class\r\n\r\n        public static class NestedBar { // nested class\r\n        }\r\n\r\n    }\r\n\r\nI had always thought this was an informal term, but it turns out it&#39;s actually [defined in the JLS](http://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html):\r\n\r\n&gt; A top level class is a class that is not a nested class.\r\n&gt;\r\n&gt; A nested class is any class whose declaration occurs within the body of another class or interface.","title":"What is a top level class in Java?","body":"<p>It's simply any class that's not a nested class. If your file is Foo.java, and your class is Foo, then it's a top level class.</p>\n\n<pre><code>// in Foo.java:\n\npublic class Foo { // top level class\n\n    public static class NestedBar { // nested class\n    }\n\n}\n</code></pre>\n\n<p>I had always thought this was an informal term, but it turns out it's actually <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html\" rel=\"noreferrer\">defined in the JLS</a>:</p>\n\n<blockquote>\n  <p>A top level class is a class that is not a nested class.</p>\n  \n  <p>A nested class is any class whose declaration occurs within the body of another class or interface.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":10356418,"reputation":1149,"user_id":7638227,"display_name":"Erivan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1490575832,"creation_date":1490537243,"answer_id":43029755,"question_id":41714579,"body_markdown":"The definition posted is correct, maybe another definition could be: a top-level class is the defined class with the same name of the file &#39;.java&#39; where it&#39;s in. however, just as an observation, for the case showed, a nested (not a top-level) &#39;static&#39; class has the same behavior of a top-level class, in terms of the interaction with the instance members of the class where it has been nested.","title":"What is a top level class in Java?","body":"<p>The definition posted is correct, maybe another definition could be: a top-level class is the defined class with the same name of the file '.java' where it's in. however, just as an observation, for the case showed, a nested (not a top-level) 'static' class has the same behavior of a top-level class, in terms of the interaction with the instance members of the class where it has been nested.</p>\n"},{"tags":[],"owner":{"account_id":6440480,"reputation":19239,"user_id":4990642,"accept_rate":53,"display_name":"Soner from The Ottoman Empire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650408428,"creation_date":1650408428,"answer_id":71932143,"question_id":41714579,"body_markdown":"A `.java` file can contain more than one class. At most, one of them can have a `public` access modifier, and the others must be `default` access modifier. They can be also `final` or `abstract` but not both at once. So, each non-nested independent class defined in a `.java` file is *a top-level class*.\r\n\r\nFor example, each class is a top-level class in following example.\r\n\r\n    public class Animal {  \r\n        private String name; \r\n    } \r\n    class Animal2 {}","title":"What is a top level class in Java?","body":"<p>A <code>.java</code> file can contain more than one class. At most, one of them can have a <code>public</code> access modifier, and the others must be <code>default</code> access modifier. They can be also <code>final</code> or <code>abstract</code> but not both at once. So, each non-nested independent class defined in a <code>.java</code> file is <em>a top-level class</em>.</p>\n<p>For example, each class is a top-level class in following example.</p>\n<pre><code>public class Animal {  \n    private String name; \n} \nclass Animal2 {}\n</code></pre>\n"}],"owner":{"account_id":2512916,"reputation":2168,"user_id":2184946,"accept_rate":59,"display_name":"Harsha Jayamanna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31091,"favorite_count":0,"down_vote_count":2,"up_vote_count":42,"accepted_answer_id":41714658,"answer_count":3,"score":40,"last_activity_date":1692753268,"creation_date":1484728344,"question_id":41714579,"body_markdown":" - What is a top level class in Java?\r\n - What is the definition of a top level class in Java? \r\n\r\n\r\nI know that this is a basic question, but I could not find a clear and simple answer for this question.","title":"What is a top level class in Java?","body":"<ul>\n<li>What is a top level class in Java?</li>\n<li>What is the definition of a top level class in Java?</li>\n</ul>\n<p>I know that this is a basic question, but I could not find a clear and simple answer for this question.</p>\n"},{"tags":["java","string","replace","indexof"],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1346828410,"creation_date":1346828410,"answer_id":12276092,"question_id":12276057,"body_markdown":"The cost of the check is built into the cost of the replace, so just use the replace directly with checking first.\r\n\r\nAlso, it is an optimization, so you shouldn&#39;t be even thinking of coding like that unless you can *prove* there&#39;s a significant performance problem at that line of code. The compiler, JDK and JVM are pretty smart - smart enough for you not to have to worry about this kind of thing.","title":"Java String IndexOf before Replace?","body":"<p>The cost of the check is built into the cost of the replace, so just use the replace directly with checking first.</p>\n\n<p>Also, it is an optimization, so you shouldn't be even thinking of coding like that unless you can <em>prove</em> there's a significant performance problem at that line of code. The compiler, JDK and JVM are pretty smart - smart enough for you not to have to worry about this kind of thing.</p>\n"},{"tags":[],"owner":{"account_id":29241034,"reputation":3,"user_id":22402556,"display_name":"Eric Fu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692752498,"creation_date":1692752498,"answer_id":76957657,"question_id":12276057,"body_markdown":"i&#39;ve done the same, but not out of curiosity but necessity unfortunately,\r\nindexof before replace is faster, if the code will be executed a lot of time,\r\ni have made an function run 12% faster using indexof then replace!","title":"Java String IndexOf before Replace?","body":"<p>i've done the same, but not out of curiosity but necessity unfortunately,\nindexof before replace is faster, if the code will be executed a lot of time,\ni have made an function run 12% faster using indexof then replace!</p>\n"}],"owner":{"account_id":288843,"reputation":3953,"user_id":589490,"accept_rate":43,"display_name":"vaibhav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1204,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":12276092,"answer_count":2,"score":2,"last_activity_date":1692752498,"creation_date":1346828273,"question_id":12276057,"body_markdown":"Just curious to know that in terms of performance if we want to replace some characters in out string which may or may not be present in the input string should we check for the existence of the char sequence in the String using index of&gt;0 or we can directly call the String replace function.\r\n\r\nThanks,\r\nVaibhav\r\n\r\n","title":"Java String IndexOf before Replace?","body":"<p>Just curious to know that in terms of performance if we want to replace some characters in out string which may or may not be present in the input string should we check for the existence of the char sequence in the String using index of>0 or we can directly call the String replace function.</p>\n\n<p>Thanks,\nVaibhav</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"score":1,"creation_date":1692745905,"post_id":76957321,"comment_id":135665788,"body_markdown":"Does this work outside your IDE? And are you using pure Java? (no Kotlin, Groovy, etc)","body":"Does this work outside your IDE? And are you using pure Java? (no Kotlin, Groovy, etc)"},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":1,"creation_date":1692746300,"post_id":76957321,"comment_id":135665831,"body_markdown":"what does `javac --version` shows?","body":"what does <code>javac --version</code> shows?"},{"owner":{"account_id":17886615,"reputation":1,"user_id":22431848,"display_name":"AlexKBG"},"score":0,"creation_date":1692746808,"post_id":76957321,"comment_id":135665879,"body_markdown":"This works on a build in jenkens. The problem is local.\njavac --version\njavac 20.0.2","body":"This works on a build in jenkens. The problem is local. javac --version javac 20.0.2"},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1692770901,"post_id":76957321,"comment_id":135667877,"body_markdown":"Try to delete added JDKs from `File | Project Structure | SDKs` save settings, and re-add JDK from scratch as per https://www.jetbrains.com/help/idea/sdk.html#jdk","body":"Try to delete added JDKs from <code>File | Project Structure | SDKs</code> save settings, and re-add JDK from scratch as per <a href=\"https://www.jetbrains.com/help/idea/sdk.html#jdk\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/sdk.html#jdk</a>"}],"answers":[{"tags":[],"owner":{"account_id":27243397,"reputation":1316,"user_id":20769158,"display_name":"scrhartley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692752489,"creation_date":1692752489,"answer_id":76957656,"question_id":76957321,"body_markdown":"When I had this it was because I had updated IntelliJ IDEA. It didn&#39;t seem to like SDKs/JDKs I&#39;d imported using the old version, so I needed to remove them and then add them again using the new version.","title":"After installing a new jdk (in IntelliJ IDEA), I get an error that class java.lang.Object.class was not found","body":"<p>When I had this it was because I had updated IntelliJ IDEA. It didn't seem to like SDKs/JDKs I'd imported using the old version, so I needed to remove them and then add them again using the new version.</p>\n"}],"owner":{"account_id":17886615,"reputation":1,"user_id":22431848,"display_name":"AlexKBG"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1692752489,"creation_date":1692745655,"question_id":76957321,"body_markdown":"After installing the new jdk (openjdk-20.0.2) in my Idea. I try to run the test and get the error.\r\n\r\n`java.lang.ClassNotFoundException: Exception while looking for class java.lang.Object: java.io.IOException: Couldn&#39;t find: java.lang.Object.class`\r\n\r\n\r\n[Screenshot of the error](https://i.stack.imgur.com/fgeXF.png)\r\n[Messages as expected](https://i.stack.imgur.com/TDAUK.png)\r\n\r\nInfo about IDE:\r\n\r\n&gt;! IntelliJ IDEA 2023.2 (Community Edition)\r\n\r\nWhat can I do to fix the error in the console?     \r\n\r\nIt didn&#39;t help:\r\n- Check Project Structure (&lt;kbd&gt;Ctrl+Alt+Shift+s&lt;/kbd&gt;)\r\n- Reset invalidate caches\r\n- mvn clean test\r\n- Restart PC\r\n- Google","title":"After installing a new jdk (in IntelliJ IDEA), I get an error that class java.lang.Object.class was not found","body":"<p>After installing the new jdk (openjdk-20.0.2) in my Idea. I try to run the test and get the error.</p>\n<p><code>java.lang.ClassNotFoundException: Exception while looking for class java.lang.Object: java.io.IOException: Couldn't find: java.lang.Object.class</code></p>\n<p><a href=\"https://i.stack.imgur.com/fgeXF.png\" rel=\"nofollow noreferrer\">Screenshot of the error</a>\n<a href=\"https://i.stack.imgur.com/TDAUK.png\" rel=\"nofollow noreferrer\">Messages as expected</a></p>\n<p>Info about IDE:</p>\n<blockquote class=\"spoiler\">\n<p> IntelliJ IDEA 2023.2 (Community Edition)</p>\n</blockquote>\n<p>What can I do to fix the error in the console?</p>\n<p>It didn't help:</p>\n<ul>\n<li>Check Project Structure (<kbd>Ctrl+Alt+Shift+s</kbd>)</li>\n<li>Reset invalidate caches</li>\n<li>mvn clean test</li>\n<li>Restart PC</li>\n<li>Google</li>\n</ul>\n"},{"tags":["java","android","webview"],"answers":[{"tags":[],"owner":{"account_id":13264371,"reputation":1,"user_id":9577766,"display_name":"aldi wahyu saragih"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608705855,"creation_date":1608705855,"answer_id":65420063,"question_id":48661081,"body_markdown":"```\r\n    private boolean isLocationPermissionGrandted() {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n            return ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED\r\n                    || ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_GRANTED\r\n                    || ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_BACKGROUND_LOCATION) == PackageManager.PERMISSION_GRANTED;\r\n        } else if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            return ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED\r\n                    || ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_GRANTED;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n\r\n    private void getLocationPermission() {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n            ActivityCompat.requestPermissions(this, new String[] {Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_BACKGROUND_LOCATION}, PERMISSION_LOCATTION_CODE);\r\n        } else {\r\n            ActivityCompat.requestPermissions(this, new String[] {Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.ACCESS_COARSE_LOCATION}, PERMISSION_LOCATTION_CODE);\r\n        }\r\n    }\r\n```\r\n\r\n```\r\nif (isLocationPermissionGrandted())\r\n     initializeWebView();\r\nelse\r\n     getLocationPermission();\r\n```","title":"Enable GeoLocation On Webview","body":"<pre><code>    private boolean isLocationPermissionGrandted() {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n            return ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED\n                    || ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_GRANTED\n                    || ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_BACKGROUND_LOCATION) == PackageManager.PERMISSION_GRANTED;\n        } else if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            return ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED\n                    || ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_GRANTED;\n        } else {\n            return true;\n        }\n    }\n\n\n    private void getLocationPermission() {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n            ActivityCompat.requestPermissions(this, new String[] {Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_BACKGROUND_LOCATION}, PERMISSION_LOCATTION_CODE);\n        } else {\n            ActivityCompat.requestPermissions(this, new String[] {Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.ACCESS_COARSE_LOCATION}, PERMISSION_LOCATTION_CODE);\n        }\n    }\n</code></pre>\n<pre><code>if (isLocationPermissionGrandted())\n     initializeWebView();\nelse\n     getLocationPermission();\n</code></pre>\n"}],"owner":{"account_id":12158103,"reputation":85,"user_id":8876484,"display_name":"Christian Slate"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8147,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1692749281,"creation_date":1517998310,"question_id":48661081,"body_markdown":"Good Evening. I&#39;m on making Tracking Application on Android using Webview. i got problem because the system all works well beside the location.\r\n\r\nin manifest i got this permission settings already\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;&gt;&lt;/uses-permission&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;&gt;&lt;/uses-permission&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;&gt;&lt;/uses-permission&gt;\r\n\r\nand in mainactivity.java i got this\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    public WebView webView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        webView = (WebView)findViewById(R.id.webView);\r\n        WebSettings webSettings = webView.getSettings();\r\n        webSettings.setJavaScriptEnabled(true);\r\n        webView.loadUrl(&quot;https://www.primaniagatracking.com/slogin.php&quot;);\r\n        webView.setWebViewClient(new WebViewClient());\r\n    }}\r\n\r\ni don&#39;t know what missing to make it works may be by always appearing ask permission or something. need big help. thanks. i&#39;ve searched some template regarding the enable permission but got to much error. \r\n","title":"Enable GeoLocation On Webview","body":"<p>Good Evening. I'm on making Tracking Application on Android using Webview. i got problem because the system all works well beside the location.</p>\n\n<p>in manifest i got this permission settings already</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\"&gt;&lt;/uses-permission&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\"&gt;&lt;/uses-permission&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\"&gt;&lt;/uses-permission&gt;\n</code></pre>\n\n<p>and in mainactivity.java i got this</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\npublic WebView webView;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    requestWindowFeature(Window.FEATURE_NO_TITLE);\n    setContentView(R.layout.activity_main);\n\n    webView = (WebView)findViewById(R.id.webView);\n    WebSettings webSettings = webView.getSettings();\n    webSettings.setJavaScriptEnabled(true);\n    webView.loadUrl(\"https://www.primaniagatracking.com/slogin.php\");\n    webView.setWebViewClient(new WebViewClient());\n}}\n</code></pre>\n\n<p>i don't know what missing to make it works may be by always appearing ask permission or something. need big help. thanks. i've searched some template regarding the enable permission but got to much error. </p>\n"},{"tags":["java","math"],"answers":[{"tags":[],"owner":{"account_id":32032,"reputation":11479,"user_id":88383,"accept_rate":61,"display_name":"AlbertoPL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1246262834,"creation_date":1246262530,"answer_id":1057091,"question_id":1057072,"body_markdown":"I would take the input in as a String instead. This way, you can simply loop through the String and use Integer.parseInt() to grab each number and add them. You can convert that number again to a String and loop through the code to obtain your digital root.\r\n\r\n    public void run()\r\n    {\r\n        println(&quot;This program calculates the digital root of an interger.&quot;);\r\n\r\n        String num = readLine(&quot;Enter the number: &quot;);\r\n        int sum = 10;\r\n        while (num &gt; 9) {\r\n          for (int x = 0; x &lt; num.length(); x++) {\r\n             sum = Integer.parseInt(num.charAt(x));\r\n          }\r\n          num = Integer.toString(sum);\r\n       }\r\n       println(&quot;Digital Root is: &quot; + sum);\r\n    }\r\n","title":"Calculating Digital Root, is there a better way?","body":"<p>I would take the input in as a String instead. This way, you can simply loop through the String and use Integer.parseInt() to grab each number and add them. You can convert that number again to a String and loop through the code to obtain your digital root.</p>\n\n<pre><code>public void run()\n{\n    println(\"This program calculates the digital root of an interger.\");\n\n    String num = readLine(\"Enter the number: \");\n    int sum = 10;\n    while (num &gt; 9) {\n      for (int x = 0; x &lt; num.length(); x++) {\n         sum = Integer.parseInt(num.charAt(x));\n      }\n      num = Integer.toString(sum);\n   }\n   println(\"Digital Root is: \" + sum);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1246262911,"creation_date":1246262911,"answer_id":1057117,"question_id":1057072,"body_markdown":"Personally, I do not like your loop, which is essentially two loops (first going over the original digits, then going over the digits of sum) mashed into one. How about a sprinkling of recursion:\r\n\r\n    private int sumDigits(int in){\r\n       if (i&gt;10)\r\n          return in%10 + sumDigits(in/10);\r\n        return in;\r\n    }\r\n\r\n    private int digitalRoot(int in){\r\n        assert (in &gt; 0) ;\r\n        while (in &gt; 9)  in=sumDigits(in);\r\n        return in;\r\n    }","title":"Calculating Digital Root, is there a better way?","body":"<p>Personally, I do not like your loop, which is essentially two loops (first going over the original digits, then going over the digits of sum) mashed into one. How about a sprinkling of recursion:</p>\n\n<pre><code>private int sumDigits(int in){\n   if (i&gt;10)\n      return in%10 + sumDigits(in/10);\n    return in;\n}\n\nprivate int digitalRoot(int in){\n    assert (in &gt; 0) ;\n    while (in &gt; 9)  in=sumDigits(in);\n    return in;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23411,"reputation":4679,"user_id":58657,"accept_rate":92,"display_name":"Tyler"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1246265956,"creation_date":1246262987,"answer_id":1057122,"question_id":1057072,"body_markdown":"    #include &lt;stdio.h&gt;\r\n    \r\n    int main(void)\r\n    {\r\n       int number;\r\n       scanf(&quot;%d&quot;, &amp;number);\r\n    \r\n       printf(&quot;The digital root of %d is %d.&quot;, number, (1 + (number - 1) % 9));\r\n    }\r\n\r\nHad I not been able to find Ramans&#39; formula this is how I would write this program...:\r\n\r\n    #include &lt;stdio.h&gt;\r\n    #include &lt;ctype.h&gt;\r\n    \r\n    int main(void)\r\n    {\r\n    \tint c;\r\n    \tint number = 0;\r\n    \twhile ((c = getchar()) != EOF)\r\n    \t{\r\n    \t\tif (isdigit(c))\r\n    \t\t\tnumber += (c - &#39;0&#39;);\r\n    \t}\r\n    \tif (number &lt;= 9)\r\n    \t{\r\n    \t\tprintf(&quot;The digital root is %d\\n&quot;, number);\r\n    \t}\r\n    \telse\r\n    \t{\r\n    \t\tprintf(&quot;%d&quot;, number);\r\n    \t}\r\n    \t\r\n    }\r\n\r\nAfter compiling, to run this, basically you just chain these together. I believe four is the most you could possibly need for an integer.\r\n\r\n    $ echo 829382938 | ./digitalroot | ./digitalroot | ./digitalroot | ./digitalroot","title":"Calculating Digital Root, is there a better way?","body":"<pre><code>#include &lt;stdio.h&gt;\n\nint main(void)\n{\n   int number;\n   scanf(\"%d\", &amp;number);\n\n   printf(\"The digital root of %d is %d.\", number, (1 + (number - 1) % 9));\n}\n</code></pre>\n\n<p>Had I not been able to find Ramans' formula this is how I would write this program...:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;ctype.h&gt;\n\nint main(void)\n{\n    int c;\n    int number = 0;\n    while ((c = getchar()) != EOF)\n    {\n        if (isdigit(c))\n            number += (c - '0');\n    }\n    if (number &lt;= 9)\n    {\n        printf(\"The digital root is %d\\n\", number);\n    }\n    else\n    {\n        printf(\"%d\", number);\n    }\n\n}\n</code></pre>\n\n<p>After compiling, to run this, basically you just chain these together. I believe four is the most you could possibly need for an integer.</p>\n\n<pre><code>$ echo 829382938 | ./digitalroot | ./digitalroot | ./digitalroot | ./digitalroot\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1565332,"reputation":11,"user_id":1454270,"display_name":"JPC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1339606187,"creation_date":1339606187,"answer_id":11019593,"question_id":1057072,"body_markdown":"I think I am at the same point in the class, no recursion or any moderately advanced ideas (I&#39;m a super beginner).  I used\r\n\r\n\tpublic void run() {\r\n\t\tprintln(&quot;This program finds the digital root of an integer.&quot;);\r\n\t\tint n = readInt(&quot;Enter a positive integer: &quot;);\r\n\t\tint dsum = 0;\r\n\t\t\twhile (n&gt;0) {\r\n\t\t\t\tdsum += n % 10;\r\n\t\t\t\tn /= 10;\r\n\t\t\t\tif ((n==0) &amp;&amp; (dsum&gt;9)) {\r\n\t\t\t\t\tn = dsum;\r\n\t\t\t\t\tdsum = 0;\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\tprintln(&quot;The digital root of the integer is &quot; + dsum);\r\n\t}","title":"Calculating Digital Root, is there a better way?","body":"<p>I think I am at the same point in the class, no recursion or any moderately advanced ideas (I'm a super beginner).  I used</p>\n\n<pre><code>public void run() {\n    println(\"This program finds the digital root of an integer.\");\n    int n = readInt(\"Enter a positive integer: \");\n    int dsum = 0;\n        while (n&gt;0) {\n            dsum += n % 10;\n            n /= 10;\n            if ((n==0) &amp;&amp; (dsum&gt;9)) {\n                n = dsum;\n                dsum = 0;\n            }   \n        }\n    println(\"The digital root of the integer is \" + dsum);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8863504,"reputation":1,"user_id":6619265,"display_name":"shephali jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469098942,"creation_date":1469098942,"answer_id":38502506,"question_id":1057072,"body_markdown":" \r\n\r\n    public static void main(String[] args)\r\n\r\n\r\n    {\r\n    int n;\r\n    Scanner scan=new Scanner(System.in);\r\n    System.out.println(&quot;Enter the no. of which you want to find the digital root&quot;);\r\n    n=scan.nextInt();\r\n    System.out.println(n%9);\r\n    }\r\n","title":"Calculating Digital Root, is there a better way?","body":"<pre><code>public static void main(String[] args)\n\n\n{\nint n;\nScanner scan=new Scanner(System.in);\nSystem.out.println(\"Enter the no. of which you want to find the digital root\");\nn=scan.nextInt();\nSystem.out.println(n%9);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3338041,"reputation":43,"user_id":2805001,"accept_rate":50,"display_name":"Shray"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504464230,"creation_date":1504464230,"answer_id":46026745,"question_id":1057072,"body_markdown":"Wolfram Alpha is amazing. It pretty much spoon fed me the follow solution:\r\n\r\n    int getDigitalRoot(int n, int base){\r\n          return (1+(n-1)%base); }\r\n\r\n    int getDigitalRoot(int n){\r\n          return (1+(n-1)%9); }\r\n\r\nThis is a O(1) solution, no loops, or recursion necessary.","title":"Calculating Digital Root, is there a better way?","body":"<p>Wolfram Alpha is amazing. It pretty much spoon fed me the follow solution:</p>\n\n<pre><code>int getDigitalRoot(int n, int base){\n      return (1+(n-1)%base); }\n\nint getDigitalRoot(int n){\n      return (1+(n-1)%9); }\n</code></pre>\n\n<p>This is a O(1) solution, no loops, or recursion necessary.</p>\n"},{"tags":[],"owner":{"account_id":11942825,"reputation":1,"user_id":8739036,"display_name":"Shane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507422353,"creation_date":1507421386,"answer_id":46626307,"question_id":1057072,"body_markdown":"Here is the shortest solution I have found that works for all use cases. \r\n\r\n\tpublic int digRoot(int num) {\r\n\t\t\tnum = 1015; {\r\n\t\t\treturn (1+(num-1)%9);\r\n\t\t\t}\r\n\t}\r\nref: https://dgeekspot.wordpress.com/2015/11/17/digital-root-algorithm/","title":"Calculating Digital Root, is there a better way?","body":"<p>Here is the shortest solution I have found that works for all use cases. </p>\n\n<pre><code>public int digRoot(int num) {\n        num = 1015; {\n        return (1+(num-1)%9);\n        }\n}\n</code></pre>\n\n<p>ref: <a href=\"https://dgeekspot.wordpress.com/2015/11/17/digital-root-algorithm/\" rel=\"nofollow noreferrer\">https://dgeekspot.wordpress.com/2015/11/17/digital-root-algorithm/</a></p>\n"},{"tags":[],"owner":{"account_id":27082569,"reputation":1,"user_id":20631542,"display_name":"Alonell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677226798,"creation_date":1676902063,"answer_id":75510279,"question_id":1057072,"body_markdown":"My solution is in C# and there is kinda stuff that is useless but I hope that will help you.\r\n\r\n    using System.Linq;\r\n    using System;\r\n    \r\n      public static int DigitalRoot(long n)\r\n    {\r\n        long sum = 0;\r\n        if (n &lt;= 10) return n == 10 ? 1 : Convert.ToInt32(n);\r\n        while (n != 0)\r\n        {\r\n            sum += (n % 10);\r\n            n /= 10;\r\n        }\r\n        return sum &gt; 9 ? DigitalRoot(sum) : Convert.ToInt32(sum);\r\n\r\n    }","title":"Calculating Digital Root, is there a better way?","body":"<p>My solution is in C# and there is kinda stuff that is useless but I hope that will help you.</p>\n<pre><code>using System.Linq;\nusing System;\n\n  public static int DigitalRoot(long n)\n{\n    long sum = 0;\n    if (n &lt;= 10) return n == 10 ? 1 : Convert.ToInt32(n);\n    while (n != 0)\n    {\n        sum += (n % 10);\n        n /= 10;\n    }\n    return sum &gt; 9 ? DigitalRoot(sum) : Convert.ToInt32(sum);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29278910,"reputation":1,"user_id":22431988,"display_name":"Mehmet Ak&#231;ay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692748512,"creation_date":1692748512,"answer_id":76957469,"question_id":1057072,"body_markdown":"try this \r\nhttps://csgsd.com/mathematics/digital-root-calculator\r\nDigital Root Calculator\r\n\r\n   \r\n\r\n     &lt;div class=&quot;bloks&quot;&gt;\r\n        &lt;div class=&quot;mb-3&quot;&gt;\r\n            &lt;label for=&quot;number&quot; class=&quot;form-label&quot;&gt;Enter a number&lt;/label&gt;\r\n            &lt;input type=&quot;number&quot; class=&quot;form-control&quot; id=&quot;number&quot; required&gt;\r\n            &lt;div id=&quot;numberHelp&quot; class=&quot;form-text&quot;&gt;Please enter a positive integer.&lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;button onclick=&quot;calculateDigitalRoot()&quot; class=&quot;axil-button button-rounded btn-primary&quot; style=&quot;margin-top:40px;&quot;&gt;Calculate Digital Root&lt;/button&gt;\r\n        &lt;div id=&quot;result&quot; class=&quot;mt-3&quot; style=&quot;display: none;&quot;&gt;&lt;/div&gt;\r\n    &lt;/div&gt;\r\n    \r\n    &lt;script&gt;\r\n        function calculateDigitalRoot() {\r\n            var num = parseInt(document.getElementById(&#39;number&#39;).value);\r\n            if (isNaN(num) || num &lt;= 0) {\r\n                document.getElementById(&#39;result&#39;).style.display = &#39;block&#39;;\r\n                document.getElementById(&#39;result&#39;).innerHTML = &#39;&lt;div class=&quot;alert alert-danger&quot; role=&quot;alert&quot;&gt;Please enter a valid positive integer.&lt;/div&gt;&#39;;\r\n                return;\r\n            }\r\n            \r\n            var sum = num;\r\n            var steps = [];\r\n            while (sum &gt; 9) {\r\n                var digits = sum.toString().split(&#39;&#39;);\r\n                var stepExplanation = digits.join(&#39; + &#39;) + &#39; = &#39; + digits.reduce((acc, curr) =&gt; acc + parseInt(curr), 0);\r\n                steps.push(stepExplanation);\r\n                sum = digits.reduce((acc, curr) =&gt; acc + parseInt(curr), 0);\r\n            }\r\n            \r\n            var resultMessage = &#39;&lt;div class=&quot;alert alert-success&quot; role=&quot;alert&quot;&gt;&#39;;\r\n            resultMessage += &#39;Digital Root of &#39; + num + &#39; is: &#39; + sum + &#39;.&lt;br&gt;&#39;;\r\n            if (steps.length &gt; 0) {\r\n                resultMessage += &#39;Steps:&lt;br&gt;&#39; + steps.join(&#39;&lt;br&gt;&#39;) + &#39;.&#39;;\r\n            }\r\n            resultMessage += &#39;&lt;/div&gt;&#39;;\r\n            \r\n            document.getElementById(&#39;result&#39;).style.display = &#39;block&#39;;\r\n            document.getElementById(&#39;result&#39;).innerHTML = resultMessage;\r\n        }\r\n    &lt;/script&gt;\r\n\r\n","title":"Calculating Digital Root, is there a better way?","body":"<p>try this\n<a href=\"https://csgsd.com/mathematics/digital-root-calculator\" rel=\"nofollow noreferrer\">https://csgsd.com/mathematics/digital-root-calculator</a>\nDigital Root Calculator</p>\n<pre><code> &lt;div class=&quot;bloks&quot;&gt;\n    &lt;div class=&quot;mb-3&quot;&gt;\n        &lt;label for=&quot;number&quot; class=&quot;form-label&quot;&gt;Enter a number&lt;/label&gt;\n        &lt;input type=&quot;number&quot; class=&quot;form-control&quot; id=&quot;number&quot; required&gt;\n        &lt;div id=&quot;numberHelp&quot; class=&quot;form-text&quot;&gt;Please enter a positive integer.&lt;/div&gt;\n    &lt;/div&gt;\n    &lt;button onclick=&quot;calculateDigitalRoot()&quot; class=&quot;axil-button button-rounded btn-primary&quot; style=&quot;margin-top:40px;&quot;&gt;Calculate Digital Root&lt;/button&gt;\n    &lt;div id=&quot;result&quot; class=&quot;mt-3&quot; style=&quot;display: none;&quot;&gt;&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;script&gt;\n    function calculateDigitalRoot() {\n        var num = parseInt(document.getElementById('number').value);\n        if (isNaN(num) || num &lt;= 0) {\n            document.getElementById('result').style.display = 'block';\n            document.getElementById('result').innerHTML = '&lt;div class=&quot;alert alert-danger&quot; role=&quot;alert&quot;&gt;Please enter a valid positive integer.&lt;/div&gt;';\n            return;\n        }\n        \n        var sum = num;\n        var steps = [];\n        while (sum &gt; 9) {\n            var digits = sum.toString().split('');\n            var stepExplanation = digits.join(' + ') + ' = ' + digits.reduce((acc, curr) =&gt; acc + parseInt(curr), 0);\n            steps.push(stepExplanation);\n            sum = digits.reduce((acc, curr) =&gt; acc + parseInt(curr), 0);\n        }\n        \n        var resultMessage = '&lt;div class=&quot;alert alert-success&quot; role=&quot;alert&quot;&gt;';\n        resultMessage += 'Digital Root of ' + num + ' is: ' + sum + '.&lt;br&gt;';\n        if (steps.length &gt; 0) {\n            resultMessage += 'Steps:&lt;br&gt;' + steps.join('&lt;br&gt;') + '.';\n        }\n        resultMessage += '&lt;/div&gt;';\n        \n        document.getElementById('result').style.display = 'block';\n        document.getElementById('result').innerHTML = resultMessage;\n    }\n&lt;/script&gt;\n</code></pre>\n"}],"owner":{"account_id":36198,"reputation":3201,"user_id":103132,"accept_rate":100,"display_name":"Ibn Saeed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12068,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":1057122,"answer_count":9,"score":2,"last_activity_date":1692748512,"creation_date":1246262185,"question_id":1057072,"body_markdown":"This is how i calculated the digital root of an integer. \r\n\r\n\r\n----------\r\n\r\n\r\n    import acm.program.*;\r\n\r\n    public class Problem7 extends ConsoleProgram\r\n    {\r\n        public void run()\r\n        {\r\n            println(&quot;This program calculates the digital root of an interger.&quot;);\r\n\r\n            int num = readInt(&quot;Enter the number: &quot;);\r\n            int sum = 0;\r\n            while (true)\r\n            {\r\n                if (num &gt; 0)\r\n                {\r\n                    int dsum = num % 10;\r\n                    num /= 10;\r\n                    sum += dsum;\r\n                }\r\n                else if (sum &gt; 9)\r\n                {\r\n                    int dsum = sum % 10;\r\n                    sum /= 10;\r\n                    sum += dsum;\r\n\r\n                } else if (sum &lt;= 9 ) break;\r\n            }\r\n            println(&quot;Digital Root is: &quot; + sum);\r\n        }\r\n\r\n\r\n----------\r\nThe program works fine.\r\n\r\nIs there a better/shorter way of calculating the digital root of a number. ?\r\n\r\n\r\n----------\r\n\r\n\r\n\r\n\r\nEDIT/ADDED : Here is the implementation of the above problem by using [Tyler][1]&#39;s answer, it works as well:\r\n\r\n----------\r\n\r\n\r\n    import acm.program.*;\r\n\r\n    public class Problem7 extends ConsoleProgram\r\n    {\r\n        public void run()\r\n        {\r\n            println(&quot;This program calculates the digital root of an interger.&quot;);\r\n\r\n            int num = readInt(&quot;Enter the number: &quot;);\r\n            println(&quot;Digital Root of &quot; + num + &quot; is: &quot; + (1 + (num - 1) % 9));\r\n        }\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/58657/tyler","title":"Calculating Digital Root, is there a better way?","body":"<p>This is how i calculated the digital root of an integer. </p>\n\n<hr>\n\n<pre><code>import acm.program.*;\n\npublic class Problem7 extends ConsoleProgram\n{\n    public void run()\n    {\n        println(\"This program calculates the digital root of an interger.\");\n\n        int num = readInt(\"Enter the number: \");\n        int sum = 0;\n        while (true)\n        {\n            if (num &gt; 0)\n            {\n                int dsum = num % 10;\n                num /= 10;\n                sum += dsum;\n            }\n            else if (sum &gt; 9)\n            {\n                int dsum = sum % 10;\n                sum /= 10;\n                sum += dsum;\n\n            } else if (sum &lt;= 9 ) break;\n        }\n        println(\"Digital Root is: \" + sum);\n    }\n</code></pre>\n\n<hr>\n\n<p>The program works fine.</p>\n\n<p>Is there a better/shorter way of calculating the digital root of a number. ?</p>\n\n<hr>\n\n<p>EDIT/ADDED : Here is the implementation of the above problem by using <a href=\"https://stackoverflow.com/users/58657/tyler\">Tyler</a>'s answer, it works as well:</p>\n\n<hr>\n\n<pre><code>import acm.program.*;\n\npublic class Problem7 extends ConsoleProgram\n{\n    public void run()\n    {\n        println(\"This program calculates the digital root of an interger.\");\n\n        int num = readInt(\"Enter the number: \");\n        println(\"Digital Root of \" + num + \" is: \" + (1 + (num - 1) % 9));\n    }\n}\n</code></pre>\n\n<hr>\n"},{"tags":["java","docker","docker-java"],"comments":[{"owner":{"account_id":2848514,"reputation":10932,"user_id":2446208,"accept_rate":69,"display_name":"blacktide"},"score":1,"creation_date":1692712015,"post_id":76953830,"comment_id":135659549,"body_markdown":"Can you try adding the [`docker-java-api` dependency](https://mvnrepository.com/artifact/com.github.docker-java/docker-java-api/3.3.3) to your `pom.xml` as well and see if that resolves the issue? Just from a quick glance it seems that the `docker-java` dependency doesn&#39;t transitively include the api dependency. You may also want to comment on [this GitHub issue](https://github.com/docker-java/docker-java/issues/2022) which seems to be the same problem you&#39;re having here.","body":"Can you try adding the <a href=\"https://mvnrepository.com/artifact/com.github.docker-java/docker-java-api/3.3.3\" rel=\"nofollow noreferrer\"><code>docker-java-api</code> dependency</a> to your <code>pom.xml</code> as well and see if that resolves the issue? Just from a quick glance it seems that the <code>docker-java</code> dependency doesn&#39;t transitively include the api dependency. You may also want to comment on <a href=\"https://github.com/docker-java/docker-java/issues/2022\" rel=\"nofollow noreferrer\">this GitHub issue</a> which seems to be the same problem you&#39;re having here."},{"owner":{"account_id":10977947,"reputation":23,"user_id":8066070,"display_name":"Anzu67"},"score":0,"creation_date":1692726352,"post_id":76953830,"comment_id":135662829,"body_markdown":"thanks for pointing out that the docker-java-api was not included with the docker-java. adding this to the pom.xml solved the problem","body":"thanks for pointing out that the docker-java-api was not included with the docker-java. adding this to the pom.xml solved the problem"},{"owner":{"account_id":10977947,"reputation":23,"user_id":8066070,"display_name":"Anzu67"},"score":0,"creation_date":1692726357,"post_id":76953830,"comment_id":135662831,"body_markdown":"&lt;dependency&gt;\n            &lt;groupId&gt;com.github.docker-java&lt;/groupId&gt;\n            &lt;artifactId&gt;docker-java-api&lt;/artifactId&gt;\n            &lt;version&gt;3.3.3&lt;/version&gt;\n        &lt;/dependency&gt;","body":"&lt;dependency&gt;             &lt;groupId&gt;com.github.docker-java&lt;/groupId&gt;             &lt;artifactId&gt;docker-java-api&lt;/artifactId&gt;             &lt;version&gt;3.3.3&lt;/version&gt;         &lt;/dependency&gt;"},{"owner":{"account_id":2848514,"reputation":10932,"user_id":2446208,"accept_rate":69,"display_name":"blacktide"},"score":0,"creation_date":1692748482,"post_id":76953830,"comment_id":135666010,"body_markdown":"glad it solved the problem. I added the solution as an answer.","body":"glad it solved the problem. I added the solution as an answer."}],"answers":[{"tags":[],"owner":{"account_id":2848514,"reputation":10932,"user_id":2446208,"accept_rate":69,"display_name":"blacktide"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692748434,"creation_date":1692748434,"answer_id":76957466,"question_id":76953830,"body_markdown":"It seems that the [`docker-java-api` dependency](https://mvnrepository.com/artifact/com.github.docker-java/docker-java-api/3.3.3) is not included with the `docker-java` dependency.\r\n\r\nIf you add this dependency to your `pom.xml` it should resolve the issue:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.github.docker-java&lt;/groupId&gt;\r\n    &lt;artifactId&gt;docker-java-api&lt;/artifactId&gt;\r\n    &lt;version&gt;3.3.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"java.lang.NoClassDefFoundError: com/github/dockerjava/api/command/LoadImageAsyncCmd","body":"<p>It seems that the <a href=\"https://mvnrepository.com/artifact/com.github.docker-java/docker-java-api/3.3.3\" rel=\"nofollow noreferrer\"><code>docker-java-api</code> dependency</a> is not included with the <code>docker-java</code> dependency.</p>\n<p>If you add this dependency to your <code>pom.xml</code> it should resolve the issue:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.docker-java&lt;/groupId&gt;\n    &lt;artifactId&gt;docker-java-api&lt;/artifactId&gt;\n    &lt;version&gt;3.3.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":10977947,"reputation":23,"user_id":8066070,"display_name":"Anzu67"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76957466,"answer_count":1,"score":0,"last_activity_date":1692748434,"creation_date":1692711134,"question_id":76953830,"body_markdown":"I am trying to create a Docker client with the Docker Java API, but I get a ClassNotFoundException when running my code. I am following [this Baeldung guide](https://www.baeldung.com/docker-java-api),\r\nbut I am using the latest version of `docker-java-api` (version 3.3.3).\r\n\r\nMaven import:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.github.docker-java&lt;/groupId&gt;\r\n    &lt;artifactId&gt;docker-java&lt;/artifactId&gt;\r\n    &lt;version&gt;3.3.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nCode:\r\n\r\n    import com.github.dockerjava.api.DockerClient;\r\n    import com.github.dockerjava.core.DockerClientBuilder;\r\n\r\n    public class Main\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            DockerClient dockerClient = DockerClientBuilder.getInstance().build();    \r\n        }\r\n    }\r\n\r\n Full Error:\r\n\r\n    Connected to the target VM, address: &#39;127.0.0.1:59830&#39;, transport: &#39;socket&#39;\r\n    SLF4J: No SLF4J providers were found.\r\n    SLF4J: Defaulting to no-operation (NOP) logger implementation\r\n    SLF4J: See http://www.slf4j.org/codes.html#noProviders for further details.\r\n    SLF4J: Class path contains SLF4J bindings targeting slf4j-api versions prior to 1.8.\r\n    SLF4J: Ignoring binding found at [jar:file:/Users/idelmas/.m2/repository/org/slf4j/slf4j-jdk14/1.7.36/slf4j-jdk14-1.7.36.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\n    SLF4J: See http://www.slf4j.org/codes.html#ignoredBindings for an explanation.\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/github/dockerjava/api/command/LoadImageAsyncCmd\r\n    \tat com.github.dockerjava.core.DockerClientBuilder.build(DockerClientBuilder.java:101)\r\n    \tat com.proofpoint.Main.main(Main.java:14)\r\n    Caused by: java.lang.ClassNotFoundException: com.github.dockerjava.api.command.LoadImageAsyncCmd\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n    \t... 2 more\r\n    Disconnected from the target VM, address: &#39;127.0.0.1:59830&#39;, transport: &#39;socket&#39;\r\n    \r\n    Process finished with exit code 1","title":"java.lang.NoClassDefFoundError: com/github/dockerjava/api/command/LoadImageAsyncCmd","body":"<p>I am trying to create a Docker client with the Docker Java API, but I get a ClassNotFoundException when running my code. I am following <a href=\"https://www.baeldung.com/docker-java-api\" rel=\"nofollow noreferrer\">this Baeldung guide</a>,\nbut I am using the latest version of <code>docker-java-api</code> (version 3.3.3).</p>\n<p>Maven import:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.docker-java&lt;/groupId&gt;\n    &lt;artifactId&gt;docker-java&lt;/artifactId&gt;\n    &lt;version&gt;3.3.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Code:</p>\n<pre><code>import com.github.dockerjava.api.DockerClient;\nimport com.github.dockerjava.core.DockerClientBuilder;\n\npublic class Main\n{\n    public static void main(String[] args)\n    {\n        DockerClient dockerClient = DockerClientBuilder.getInstance().build();    \n    }\n}\n</code></pre>\n<p>Full Error:</p>\n<pre><code>Connected to the target VM, address: '127.0.0.1:59830', transport: 'socket'\nSLF4J: No SLF4J providers were found.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#noProviders for further details.\nSLF4J: Class path contains SLF4J bindings targeting slf4j-api versions prior to 1.8.\nSLF4J: Ignoring binding found at [jar:file:/Users/idelmas/.m2/repository/org/slf4j/slf4j-jdk14/1.7.36/slf4j-jdk14-1.7.36.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#ignoredBindings for an explanation.\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/github/dockerjava/api/command/LoadImageAsyncCmd\n    at com.github.dockerjava.core.DockerClientBuilder.build(DockerClientBuilder.java:101)\n    at com.proofpoint.Main.main(Main.java:14)\nCaused by: java.lang.ClassNotFoundException: com.github.dockerjava.api.command.LoadImageAsyncCmd\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 2 more\nDisconnected from the target VM, address: '127.0.0.1:59830', transport: 'socket'\n\nProcess finished with exit code 1\n</code></pre>\n"},{"tags":["c#","java","c++","language-agnostic"],"answers":[{"tags":[],"owner":{"account_id":3591,"reputation":332917,"user_id":5190,"accept_rate":76,"display_name":"Vinko Vrsalovic"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1280305256,"creation_date":1280305256,"answer_id":3351058,"question_id":3351018,"body_markdown":"One possible use case is when the composed objects can be derived from state information that is present in the shallow copy and you want, for instance, to serialize your object. \r\n\r\nYou can store the shallow copy and then rebuild the complete object from the state upon deserialization.","title":"When is a shallow copy desirable (instead of a deep copy)?","body":"<p>One possible use case is when the composed objects can be derived from state information that is present in the shallow copy and you want, for instance, to serialize your object. </p>\n\n<p>You can store the shallow copy and then rebuild the complete object from the state upon deserialization.</p>\n"},{"tags":[],"owner":{"display_name":"anon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1280305291,"creation_date":1280305291,"answer_id":3351066,"question_id":3351018,"body_markdown":"As I pointed out in my answer to your related question, many languages don&#39;t really have the concept of shallow and deep copy. However, this class in C++, which prevents you from using a NULL pointer may be an example where a &quot;shallow&quot; copy is needed:\r\n\r\n    template &lt;typename T&gt;\r\n    struct NotNull {\r\n    \r\n       T * p;\r\n    \r\n       NotNull( T * t ) : p( t ) {}\r\n    \r\n       T &amp; operator *() { \r\n           if ( ! p ) {\r\n              throw &quot;null!&quot;;\r\n           }\r\n           return * p;\r\n       }\r\n    };\r\n\r\n  \r\nThe class does not own the thing pointed to, so no copy should be made.\r\n\r\n","title":"When is a shallow copy desirable (instead of a deep copy)?","body":"<p>As I pointed out in my answer to your related question, many languages don't really have the concept of shallow and deep copy. However, this class in C++, which prevents you from using a NULL pointer may be an example where a \"shallow\" copy is needed:</p>\n\n<pre><code>template &lt;typename T&gt;\nstruct NotNull {\n\n   T * p;\n\n   NotNull( T * t ) : p( t ) {}\n\n   T &amp; operator *() { \n       if ( ! p ) {\n          throw \"null!\";\n       }\n       return * p;\n   }\n};\n</code></pre>\n\n<p>The class does not own the thing pointed to, so no copy should be made.</p>\n"},{"tags":[],"owner":{"account_id":75893,"reputation":3190,"user_id":217571,"accept_rate":64,"display_name":"YeenFei"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1280305427,"creation_date":1280305427,"answer_id":3351077,"question_id":3351018,"body_markdown":"Coming from C++ POV, there would be one scenario that i will use shallow copy : when implementing copy-on-write mechanism.","title":"When is a shallow copy desirable (instead of a deep copy)?","body":"<p>Coming from C++ POV, there would be one scenario that i will use shallow copy : when implementing copy-on-write mechanism.</p>\n"},{"tags":[],"owner":{"account_id":131820,"reputation":31794,"user_id":332100,"accept_rate":100,"display_name":"Niels van der Rest"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1280308125,"creation_date":1280308125,"answer_id":3351399,"question_id":3351018,"body_markdown":"When the owned variables are immutable types, a shallow copy is sufficient. A deep copy is possible, but would only result in additional memory use.","title":"When is a shallow copy desirable (instead of a deep copy)?","body":"<p>When the owned variables are immutable types, a shallow copy is sufficient. A deep copy is possible, but would only result in additional memory use.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1280309908,"creation_date":1280309908,"answer_id":3351595,"question_id":3351018,"body_markdown":"My take on this is that the situations where you would use deep copy are different for C++ versus Java.\r\n\r\n  - In C++, you might use deep copying to avoid difficult memory management issues, or to make it easier to implement a multi-threaded application.\r\n\r\n  - In Java, deep copying is not necessary for those reasons.  Since the languages are both garbage collected, it is not necessary to go through hoops to free data structures.  So a deep copy is not necessary to simplify the problem.  Similarly Java has built-in support for synchronizing access by multiple threads to shared data structures.\r\n\r\nIn most cases, deep copying is unnecessary in Java assuming that your application&#39;s data structures are well designed.","title":"When is a shallow copy desirable (instead of a deep copy)?","body":"<p>My take on this is that the situations where you would use deep copy are different for C++ versus Java.</p>\n\n<ul>\n<li><p>In C++, you might use deep copying to avoid difficult memory management issues, or to make it easier to implement a multi-threaded application.</p></li>\n<li><p>In Java, deep copying is not necessary for those reasons.  Since the languages are both garbage collected, it is not necessary to go through hoops to free data structures.  So a deep copy is not necessary to simplify the problem.  Similarly Java has built-in support for synchronizing access by multiple threads to shared data structures.</p></li>\n</ul>\n\n<p>In most cases, deep copying is unnecessary in Java assuming that your application's data structures are well designed.</p>\n"},{"tags":[],"owner":{"account_id":39415,"reputation":12303,"user_id":113662,"accept_rate":93,"display_name":"Tadeusz Kopec for Ukraine"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1280310219,"creation_date":1280310219,"answer_id":3351632,"question_id":3351018,"body_markdown":"    class Element{\r\n    }\r\n    \r\n    class Example {\r\n        private List&lt;Element&gt; elementList = new ArrayList&lt;Element();\r\n    \r\n        public List&lt;Element&gt; getElementList() {\r\n            return new ArrayList&lt;Element&gt;(this.elementList);\r\n        }\r\n    \r\n        public void addElement(Element e) {\r\n            elementList.add(e);\r\n        }\r\n    \r\n        public void removeElement(Element e) {\r\n            elementList.remove(e);\r\n        }\r\n    }\r\n\r\nYou want all modifications of `Example.elementList` to be done by object methods, but you want to expose elements stored in list. So you create getter which returns a shallow copy. Copy, because you don&#39;t want caller to modify object&#39;s list and shallow because you want to expose objects from list, not their copies.","title":"When is a shallow copy desirable (instead of a deep copy)?","body":"<pre><code>class Element{\n}\n\nclass Example {\n    private List&lt;Element&gt; elementList = new ArrayList&lt;Element();\n\n    public List&lt;Element&gt; getElementList() {\n        return new ArrayList&lt;Element&gt;(this.elementList);\n    }\n\n    public void addElement(Element e) {\n        elementList.add(e);\n    }\n\n    public void removeElement(Element e) {\n        elementList.remove(e);\n    }\n}\n</code></pre>\n\n<p>You want all modifications of <code>Example.elementList</code> to be done by object methods, but you want to expose elements stored in list. So you create getter which returns a shallow copy. Copy, because you don't want caller to modify object's list and shallow because you want to expose objects from list, not their copies.</p>\n"},{"tags":[],"owner":{"account_id":11822,"reputation":18132,"user_id":22992,"accept_rate":76,"display_name":"Miguel Ping"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1280311167,"creation_date":1280311167,"answer_id":3351752,"question_id":3351018,"body_markdown":"If you look at the Gang of Four design patterns, there&#39;s a pattern called [FlyWeight][1]. Here&#39;s a quote from wikipedia:\r\n\r\n&gt;  A flyweight is an object that\r\n&gt; minimizes memory use by sharing as\r\n&gt; much data as possible with other\r\n&gt; similar objects; it is a way to use\r\n&gt; objects in large numbers when a simple\r\n&gt; repeated representation would use an\r\n&gt; unacceptable amount of memory.\r\n\r\nThis would be an acceptable use of a shallow copy.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Flyweight_pattern","title":"When is a shallow copy desirable (instead of a deep copy)?","body":"<p>If you look at the Gang of Four design patterns, there's a pattern called <a href=\"http://en.wikipedia.org/wiki/Flyweight_pattern\" rel=\"nofollow noreferrer\">FlyWeight</a>. Here's a quote from wikipedia:</p>\n\n<blockquote>\n  <p>A flyweight is an object that\n  minimizes memory use by sharing as\n  much data as possible with other\n  similar objects; it is a way to use\n  objects in large numbers when a simple\n  repeated representation would use an\n  unacceptable amount of memory.</p>\n</blockquote>\n\n<p>This would be an acceptable use of a shallow copy.</p>\n"},{"tags":[],"owner":{"account_id":14153,"reputation":18311,"user_id":28875,"accept_rate":74,"display_name":"Kylotan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1280311461,"creation_date":1280311461,"answer_id":3351787,"question_id":3351018,"body_markdown":"Shallow copies are quicker to make, which is often desirable for obvious reasons. The ultimate in shallow copying is obviously just a copy of a reference to the original object. If you&#39;re not mutating an object and can guarantee it won&#39;t get changed in other ways while you work with it then the more shallow the copy is, the better.","title":"When is a shallow copy desirable (instead of a deep copy)?","body":"<p>Shallow copies are quicker to make, which is often desirable for obvious reasons. The ultimate in shallow copying is obviously just a copy of a reference to the original object. If you're not mutating an object and can guarantee it won't get changed in other ways while you work with it then the more shallow the copy is, the better.</p>\n"},{"tags":[],"owner":{"account_id":15628,"reputation":244151,"user_id":33213,"accept_rate":76,"display_name":"jalf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1280322081,"creation_date":1280322081,"answer_id":3353058,"question_id":3351018,"body_markdown":"&gt; Remark: I don&#39;t care in which language the examples are given. I&#39;m asking this question from a C++/Java/C# point of view, although I think copying is a language agnostic concept.\r\n\r\nI think it depends quite a bit on the language.\r\n\r\nIn C++, copying plays a very different role than it does in Java/C#. In C++, I can&#39;t think of many cases where shallow copying makes sense. You&#39;d usually just create references or pointers to an object instead. Copy constructors usually implement deep copies because in C++, an object takes ownership of its members, and is responsible for managing their lifetime. Because there&#39;s no GC, these ownership semantics become important, and you can&#39;t just have two objects pointing to a third without special care (do they use reference counting to keep the third alive? If not, which of the two objects *owns* it?)\r\n\r\nI&#39;d even say that the distinction between &quot;deep&quot; and &quot;shallow&quot; copies doesn&#39;t really make sense in C++. A copy creates all that is necessary for the newly created object to work. Sometimes, it shares *a bit* of data (typically data which isn&#39;t owned by either object), so it might not be a &quot;true&quot; deep copy&quot;, but it&#39;s not shallow either, because the bulk of the class typically *is* copied.\r\n","title":"When is a shallow copy desirable (instead of a deep copy)?","body":"<blockquote>\n  <p>Remark: I don't care in which language the examples are given. I'm asking this question from a C++/Java/C# point of view, although I think copying is a language agnostic concept.</p>\n</blockquote>\n\n<p>I think it depends quite a bit on the language.</p>\n\n<p>In C++, copying plays a very different role than it does in Java/C#. In C++, I can't think of many cases where shallow copying makes sense. You'd usually just create references or pointers to an object instead. Copy constructors usually implement deep copies because in C++, an object takes ownership of its members, and is responsible for managing their lifetime. Because there's no GC, these ownership semantics become important, and you can't just have two objects pointing to a third without special care (do they use reference counting to keep the third alive? If not, which of the two objects <em>owns</em> it?)</p>\n\n<p>I'd even say that the distinction between \"deep\" and \"shallow\" copies doesn't really make sense in C++. A copy creates all that is necessary for the newly created object to work. Sometimes, it shares <em>a bit</em> of data (typically data which isn't owned by either object), so it might not be a \"true\" deep copy\", but it's not shallow either, because the bulk of the class typically <em>is</em> copied.</p>\n"}],"owner":{"account_id":28072,"reputation":22000,"user_id":74612,"accept_rate":53,"display_name":"Dimitri C."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4638,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":9,"score":10,"last_activity_date":1692748130,"creation_date":1280304817,"question_id":3351018,"body_markdown":"\r\nCan someone give an example of a situation where a shallow copy is needed?\r\n\r\nNote that in some situations, shallow copy and deep copy are the same. This can happen when the object has no ownership over any of its subvariables; that is, all subvariables are [aggregated](http://en.wikipedia.org/wiki/Object_composition#Aggregation). I&#39;d like to see examples where the an object is [composed](http://en.wikipedia.org/wiki/Object_composition) from variables which it owns, and it still is desirable to copy them shallowly.\r\n\r\n&lt;b&gt;Remark&lt;/b&gt;: I don&#39;t care in which language the examples are given. I&#39;m asking this question from a C++/Java/C# point of view, although I think copying is a language agnostic concept.","title":"When is a shallow copy desirable (instead of a deep copy)?","body":"<p>Can someone give an example of a situation where a shallow copy is needed?</p>\n\n<p>Note that in some situations, shallow copy and deep copy are the same. This can happen when the object has no ownership over any of its subvariables; that is, all subvariables are <a href=\"http://en.wikipedia.org/wiki/Object_composition#Aggregation\" rel=\"noreferrer\">aggregated</a>. I'd like to see examples where the an object is <a href=\"http://en.wikipedia.org/wiki/Object_composition\" rel=\"noreferrer\">composed</a> from variables which it owns, and it still is desirable to copy them shallowly.</p>\n\n<p><b>Remark</b>: I don't care in which language the examples are given. I'm asking this question from a C++/Java/C# point of view, although I think copying is a language agnostic concept.</p>\n"},{"tags":["java","angular","sockets","websocket","socket.io"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1667994742,"post_id":74374381,"comment_id":131299272,"body_markdown":"You are trying to connect a WebSocket (from Angular) to a Java socket, which they don&#39;t use the same protocol. [This](https://stackoverflow.com/questions/4973622/difference-between-socket-and-websocket) can give you a start point","body":"You are trying to connect a WebSocket (from Angular) to a Java socket, which they don&#39;t use the same protocol. <a href=\"https://stackoverflow.com/questions/4973622/difference-between-socket-and-websocket\">This</a> can give you a start point"},{"owner":{"account_id":23203964,"reputation":3257,"user_id":17298437,"display_name":"Fabian Strathaus"},"score":0,"creation_date":1667997060,"post_id":74374381,"comment_id":131300082,"body_markdown":"What you say is not correct. The programming language does not matter, since Client and Server are trying to connect through websocket protocol","body":"What you say is not correct. The programming language does not matter, since Client and Server are trying to connect through websocket protocol"},{"owner":{"account_id":14707994,"reputation":162,"user_id":10622099,"display_name":"DaniyalVaghar"},"score":0,"creation_date":1667997477,"post_id":74374381,"comment_id":131300240,"body_markdown":"@LeonardoEmmanueldeAzevedo i read that question and answer,the point is that i am using same library in both client and server(socket io) and in netty-socketio github repo shown an example made of java and java script and it is working perfectly,problem is when i use angular it is not working","body":"@LeonardoEmmanueldeAzevedo i read that question and answer,the point is that i am using same library in both client and server(socket io) and in netty-socketio github repo shown an example made of java and java script and it is working perfectly,problem is when i use angular it is not working"}],"owner":{"account_id":14707994,"reputation":162,"user_id":10622099,"display_name":"DaniyalVaghar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692747626,"creation_date":1667994414,"question_id":74374381,"body_markdown":"i want to send event to socket io server that ran on java spring boot application,\r\nthe weird point is that my angular app can connect to server perfectly and i can get connect and disconnect events in java.but when it comes to emit an event to server or get any event from server it is not working\r\n\r\nJava Class:\r\n```\r\npublic class SocketIOServerImpl {\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        Configuration config = new Configuration();\r\n        config.setHostname(&quot;localhost&quot;);\r\n        config.setPort(8090);\r\nwebsocket\r\n        final SocketIOServer server = new SocketIOServer(config);\r\n\r\n        server.addConnectListener(socketIOClient -&gt; {\r\n            System.out.println(&quot;User Connected&quot;);\r\n            server.getBroadcastOperations().sendEvent(&quot;daniyal&quot;, &quot;You Connected to Server Successfully&quot;);\r\n        });\r\n\r\n        server.addDisconnectListener(client -&gt; {\r\n            server.getBroadcastOperations().sendEvent(&quot;daniyal&quot;, &quot;You Connected to Server Successfully&quot;);\r\n        });\r\n\r\n        server.addEventListener(&quot;daniyal&quot;, String.class, new DataListener&lt;String&gt;() {\r\n\r\n            @Override\r\n            public void onData(SocketIOClient socketIOClient, String s, AckRequest ackRequest) throws Exception {\r\n                System.out.println(&quot;User Connected&quot;);\r\n                server.getBroadcastOperations().sendEvent(&quot;daniyal&quot;, &quot;You Emited STH to Server Successfully&quot;);\r\n            }\r\n        });\r\n\r\n        server.start();\r\n        Thread.sleep(Integer.MAX_VALUE);\r\n\r\n        server.stop();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nangular servise.ts:\r\n\r\n\r\n```\r\n@Injectable({\r\n  providedIn: &#39;root&#39;\r\n})\r\nexport class SocketServiceService {\r\n\r\n  readonly uri: string = &#39;ws://localhost:8090&#39;;\r\n  socket: any;\r\n\r\n  constructor() {\r\n    this.socket = io.connect(this.uri,{ transports: [ &#39;websocket&#39; ] });\r\n  }\r\n\r\n\r\n  listen(eventName: string) {\r\n    return new Observable((subscriber) =&gt; {\r\n      this.socket.on(eventName, (data: any) =&gt; {\r\n        subscriber.next(data);\r\n      });\r\n    });\r\n  }\r\n\r\n  emit(eventName: string, data: any) {\r\n    this.socket.emit(eventName, data);\r\n  }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\napp.component.ts:\r\n\r\n\r\n```\r\n@Component({\r\n  selector: &#39;app-root&#39;,\r\n  templateUrl: &#39;./app.component.html&#39;,\r\n  styleUrls: [&#39;./app.component.css&#39;]\r\n})\r\nexport class AppComponent implements OnInit {\r\n\r\n  constructor(private socketService: SocketServiceService) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.socketService.listen(&#39;daniyal&#39;).subscribe(\r\n      (res) =&gt; {\r\n        console.log(&#39;Server Response: &#39;,res);\r\n      });\r\n  }\r\n\r\n  emit(){\r\n    this.socketService.emit(&#39;daniyal&#39;,&#39;HI SERVER&#39;);\r\n  }\r\n}\r\n```\r\n\r\n\r\ni use angular version 14 and java 11\r\n\r\n\r\ni expected server can get the event and when send event to client,client get that too","title":"send event to java Socket IO from angular application","body":"<p>i want to send event to socket io server that ran on java spring boot application,\nthe weird point is that my angular app can connect to server perfectly and i can get connect and disconnect events in java.but when it comes to emit an event to server or get any event from server it is not working</p>\n<p>Java Class:</p>\n<pre><code>public class SocketIOServerImpl {\n\n    public static void main(String[] args) throws InterruptedException {\n        Configuration config = new Configuration();\n        config.setHostname(&quot;localhost&quot;);\n        config.setPort(8090);\nwebsocket\n        final SocketIOServer server = new SocketIOServer(config);\n\n        server.addConnectListener(socketIOClient -&gt; {\n            System.out.println(&quot;User Connected&quot;);\n            server.getBroadcastOperations().sendEvent(&quot;daniyal&quot;, &quot;You Connected to Server Successfully&quot;);\n        });\n\n        server.addDisconnectListener(client -&gt; {\n            server.getBroadcastOperations().sendEvent(&quot;daniyal&quot;, &quot;You Connected to Server Successfully&quot;);\n        });\n\n        server.addEventListener(&quot;daniyal&quot;, String.class, new DataListener&lt;String&gt;() {\n\n            @Override\n            public void onData(SocketIOClient socketIOClient, String s, AckRequest ackRequest) throws Exception {\n                System.out.println(&quot;User Connected&quot;);\n                server.getBroadcastOperations().sendEvent(&quot;daniyal&quot;, &quot;You Emited STH to Server Successfully&quot;);\n            }\n        });\n\n        server.start();\n        Thread.sleep(Integer.MAX_VALUE);\n\n        server.stop();\n    }\n}\n\n</code></pre>\n<p>angular servise.ts:</p>\n<pre><code>@Injectable({\n  providedIn: 'root'\n})\nexport class SocketServiceService {\n\n  readonly uri: string = 'ws://localhost:8090';\n  socket: any;\n\n  constructor() {\n    this.socket = io.connect(this.uri,{ transports: [ 'websocket' ] });\n  }\n\n\n  listen(eventName: string) {\n    return new Observable((subscriber) =&gt; {\n      this.socket.on(eventName, (data: any) =&gt; {\n        subscriber.next(data);\n      });\n    });\n  }\n\n  emit(eventName: string, data: any) {\n    this.socket.emit(eventName, data);\n  }\n\n\n}\n\n</code></pre>\n<p>app.component.ts:</p>\n<pre><code>@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n\n  constructor(private socketService: SocketServiceService) {\n  }\n\n  ngOnInit() {\n    this.socketService.listen('daniyal').subscribe(\n      (res) =&gt; {\n        console.log('Server Response: ',res);\n      });\n  }\n\n  emit(){\n    this.socketService.emit('daniyal','HI SERVER');\n  }\n}\n</code></pre>\n<p>i use angular version 14 and java 11</p>\n<p>i expected server can get the event and when send event to client,client get that too</p>\n"},{"tags":["java","sql"],"comments":[{"owner":{"account_id":4359423,"reputation":1860,"user_id":3557027,"display_name":"Rabbit Guy"},"score":0,"creation_date":1468520826,"post_id":38381349,"comment_id":64172985,"body_markdown":"Look at tablemodels. You&#39;ll just copy the tablemodel itself which contains all that information. The jTable then reads the tablemodel.","body":"Look at tablemodels. You&#39;ll just copy the tablemodel itself which contains all that information. The jTable then reads the tablemodel."},{"owner":{"account_id":145851,"reputation":20697,"user_id":355931,"accept_rate":88,"display_name":"Barranka"},"score":0,"creation_date":1468521639,"post_id":38381349,"comment_id":64173479,"body_markdown":"1. I am assuming you&#39;re using a DBMS and your Java application is connected to it. Which DBMS are you using (MySQL, SQL-Server, PostgreSQL, ...)? 2. Do you know the right data types for the new tables? Or do you need to infer them based on the table contents?","body":"1. I am assuming you&#39;re using a DBMS and your Java application is connected to it. Which DBMS are you using (MySQL, SQL-Server, PostgreSQL, ...)? 2. Do you know the right data types for the new tables? Or do you need to infer them based on the table contents?"},{"owner":{"account_id":8072192,"reputation":49,"user_id":6084584,"accept_rate":36,"display_name":"Will"},"score":0,"creation_date":1468521844,"post_id":38381349,"comment_id":64173599,"body_markdown":"I am using MYSQL. I don&#39;t know the new data types. I have to infer them based on the table contents.","body":"I am using MYSQL. I don&#39;t know the new data types. I have to infer them based on the table contents."}],"answers":[{"tags":[],"owner":{"account_id":5120569,"reputation":1168,"user_id":4602283,"accept_rate":75,"display_name":"Jeutnarg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1468522612,"creation_date":1468522612,"answer_id":38382163,"question_id":38381349,"body_markdown":"As I see it, your problem has a few parts:\r\n\r\n1. EASY - Getting the existing table information. You&#39;ll have to get the DatabaseMetaData from your jdbc connection. Documentation on that class is [here][2], and Google is your friend as to how to get that Object in the first place. (Hint: [this question][1] should get you most of the way )\r\n\r\n2. MEDIUM - Figuring out what data type your data really is. If you try to narrow it down to just a few simple types like Integer, String, and dates, this might not actually be that hard. You&#39;ll just need to select a few rows for each column (where that column isn&#39;t null), and then try and parse it into different types. If it succeeds, it probably is that type. If it throws an Exception, then it&#39;s not. Integer.parseInt(), LocalDateTimeFormatter, etc. are the things you&#39;ll be using.\r\n\r\nIf you want to get table meta data, then just do a &quot;SELECT * FROM &lt; TABLE &gt;&quot; and the ResultSetMetaData will have all the information you&#39;ll need to keep going.\r\n\r\n3. VERY HARD - Creating tables using the new, appropriate data types. This is hard not because of the stuff that&#39;s been mentioned so far, but because we haven&#39;t yet talked about foreign keys, indexes, and all that other good stuff. Mapping all those things programmatically will be a very hard problem. Therefore, I recommend *NOT* trying to program this part. Instead, have your script output the mapping of old datatypes to new datatypes for each table. Then you can go into your SQL mananger and get the SQL script to generate that table. Almost every SQL database management tool can generate the creation script for a table. Edit that script with your new datatypes, give it a new name, and run it.\r\n\r\n  [1]: https://stackoverflow.com/questions/2780284/how-to-get-all-table-names-from-a-database\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/sql/DatabaseMetaData.html","title":"Java Copying tables to another schema","body":"<p>As I see it, your problem has a few parts:</p>\n\n<ol>\n<li><p>EASY - Getting the existing table information. You'll have to get the DatabaseMetaData from your jdbc connection. Documentation on that class is <a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/DatabaseMetaData.html\" rel=\"nofollow noreferrer\">here</a>, and Google is your friend as to how to get that Object in the first place. (Hint: <a href=\"https://stackoverflow.com/questions/2780284/how-to-get-all-table-names-from-a-database\">this question</a> should get you most of the way )</p></li>\n<li><p>MEDIUM - Figuring out what data type your data really is. If you try to narrow it down to just a few simple types like Integer, String, and dates, this might not actually be that hard. You'll just need to select a few rows for each column (where that column isn't null), and then try and parse it into different types. If it succeeds, it probably is that type. If it throws an Exception, then it's not. Integer.parseInt(), LocalDateTimeFormatter, etc. are the things you'll be using.</p></li>\n</ol>\n\n<p>If you want to get table meta data, then just do a \"SELECT * FROM &lt; TABLE >\" and the ResultSetMetaData will have all the information you'll need to keep going.</p>\n\n<ol start=\"3\">\n<li>VERY HARD - Creating tables using the new, appropriate data types. This is hard not because of the stuff that's been mentioned so far, but because we haven't yet talked about foreign keys, indexes, and all that other good stuff. Mapping all those things programmatically will be a very hard problem. Therefore, I recommend <em>NOT</em> trying to program this part. Instead, have your script output the mapping of old datatypes to new datatypes for each table. Then you can go into your SQL mananger and get the SQL script to generate that table. Almost every SQL database management tool can generate the creation script for a table. Edit that script with your new datatypes, give it a new name, and run it.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":29278851,"reputation":1,"user_id":22431941,"display_name":"Richard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692747295,"creation_date":1692747295,"answer_id":76957407,"question_id":38381349,"body_markdown":"Here&#39;s what worked for me in the end - simple routine to copy multiple table from the T0 schema to the T1, T2 and T3 schemas\r\n\r\n\r\npublic class CopyFromT0toT123 {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        CopyFromT0toT123 copy = new CopyFromT0toT123();\r\n        copy.copyTable(&quot;table name 1&quot;, Schema.XXXX_T0, Schema.XXXX_T1, Schema.XXXX_T2, Schema.XXXX_T3);\r\n        copy.copyTable(&quot;table name 2&quot;, Schema.XXXX_T0, Schema.XXXX_T1, Schema.XXXX_T2, Schema.XXXX_T3);\r\n        copy.copyTable(&quot;table name 3&quot;, Schema.XXXX_T0, Schema.XXXX_T1, Schema.XXXX_T2, Schema.XXXX_T3);\r\n    }\r\n\r\n    private void copyTable(String tableName, Schema schemaSource, Schema... schemaDestinations) throws Exception {\r\n        // Clear out table\r\n        clearOutDestinationTable(tableName, schemaDestinations);\r\n\r\n        // Start copying\r\n        String sqlSelect = &quot;SELECT * FROM &quot; + tableName;\r\n        Schema schema = Schema.XXXX_T0;\r\n        Connection conn = DriverManager.getConnection(schema.getConnectionString(), schema.getUserId(), schema.getPassword());\r\n        PreparedStatement prepStmnt = conn.prepareStatement(sqlSelect);\r\n        ResultSet resSet = prepStmnt.executeQuery();\r\n\r\n        copyToDestinationTable(tableName, resSet, schemaSource, schemaDestinations);\r\n\r\n        resSet.close();\r\n        prepStmnt.close();\r\n        conn.close();\r\n    }\r\n\r\n    private void copyToDestinationTable(String tableName, ResultSet resSet, Schema schemaSource, Schema... schemaDestinations) throws Exception {\r\n        for (Schema schemaDestination : schemaDestinations) {\r\n            System.out.println(&quot;Copying &quot; + tableName + &quot; to &quot; + schemaDestination.toString());\r\n            String sqlInsert = buildInsert(tableName);\r\n            Connection connDestination = DriverManager.getConnection(schemaDestination.getConnectionString(), schemaDestination.getUserId(), schemaDestination.getPassword());\r\n            PreparedStatement prepStmntDestination = connDestination.prepareStatement(sqlInsert);\r\n\r\n            while (resSet.next()) {\r\n                for (int i = 0; i &lt; resSet.getMetaData().getColumnCount(); i++) {\r\n                    prepStmntDestination.setObject(i + 1, resSet.getObject(i + 1));\r\n                }\r\n                prepStmntDestination.executeUpdate();\r\n            }\r\n\r\n            prepStmntDestination.close();\r\n            connDestination.close();\r\n        }\r\n    }\r\n\r\n    private void clearOutDestinationTable(String tableName, Schema... schemaDestinations) throws SQLException {\r\n        for (Schema schemaDestination : schemaDestinations) {\r\n            String sqlDelete = &quot;DELETE FROM &quot; + tableName;\r\n            Connection connDestination = DriverManager.getConnection(schemaDestination.getConnectionString(), schemaDestination.getUserId(), schemaDestination.getPassword());\r\n            PreparedStatement prepStmntDestination = connDestination.prepareStatement(sqlDelete);\r\n            prepStmntDestination.executeUpdate();\r\n            prepStmntDestination.close();\r\n            connDestination.close();\r\n        }\r\n    }\r\n\r\n    private String buildInsert(String tableName) throws SQLException {\r\n        String sqlSelect = &quot;SELECT * FROM &quot; + tableName;\r\n        String result = &quot;&quot;;\r\n        Schema schema = Schema.XXXX_T0;\r\n        Connection conn = DriverManager.getConnection(schema.getConnectionString(), schema.getUserId(), schema.getPassword());\r\n        PreparedStatement prepStmnt = conn.prepareStatement(sqlSelect);\r\n        ResultSet resSet = prepStmnt.executeQuery();\r\n        ResultSetMetaData metaData = resSet.getMetaData();\r\n        String[] columnNames = new String[metaData.getColumnCount()];\r\n        result = &quot;INSERT INTO &quot; + tableName + &quot;(&quot;;\r\n        for (int i = 0; i &lt; columnNames.length; i++) {\r\n            result = result + metaData.getColumnName(i + 1) + &quot;,&quot;;\r\n        }\r\n        result = result.substring(0, result.length() - 1) + &quot;) VALUES ( &quot;;\r\n        for (int i = 0; i &lt; columnNames.length - 1; i++) {\r\n            result = result + &quot; ? ,&quot;;\r\n        }\r\n        result = result + &quot; ? )&quot;;\r\n        resSet.close();\r\n        prepStmnt.close();\r\n        conn.close();\r\n\r\n        return result;\r\n    }\r\n\r\n}\r\n\r\n\r\npublic enum Schema {\r\n\r\n    XXXX_T0(&quot;XXXX_T0&quot;, &quot;password here&quot;, &quot;T0&quot;, &quot;20&quot;, true,\r\n            &quot;jdbc:oracle:thin:@(DESCRIPTION...&quot;),\r\n\r\n    XXXX_T1(&quot;XXXX_T1&quot;, &quot;password here&quot;, &quot;T1&quot;, &quot;30&quot;, true,\r\n            &quot;jdbc:oracle:thin:@(DESCRIPTION.....&quot;),\r\n\r\n    XXXX_T2(&quot;XXXX_T2&quot;, &quot;password here&quot;, &quot;T2&quot;, &quot;40&quot;, true,\r\n            &quot;jdbc:oracle:thin:@(DESCRIPTION.....&quot;),\r\n\r\n    XXXX_T3(&quot;XXXX_T3&quot;, &quot;password here&quot;, &quot;T2&quot;, &quot;50&quot;, true,\r\n            &quot;jdbc:oracle:thin:@(DESCRIPTION.....&quot;),\r\n\r\n\r\n    private final String connectionString;\r\n    private final String userId;\r\n    private final String password;\r\n    private final String displayId;\r\n    private final String order;\r\n    private final boolean interAct;\r\n\r\n    private Schema(String userId, String password, String databaseId, String order, boolean interAct, String connectionString) {\r\n        this.connectionString = connectionString;\r\n        this.userId = userId;\r\n        this.password = password;\r\n        this.displayId = databaseId;\r\n        this.order = order;\r\n        this.interAct = interAct;\r\n    }\r\n\r\n\r\n    /**\r\n     * Return a specific Schema for a give Schema database id\r\n     */\r\n    public static final Schema getSchema(String displayId) {\r\n        for (Schema schema : values()) {\r\n            if (displayId.equals(schema.displayId)) {\r\n                return schema;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public String getConnectionString() {\r\n        return connectionString;\r\n    }\r\n\r\n    public String getUserId() {\r\n        return userId;\r\n    }\r\n\r\n}\r\n","title":"Java Copying tables to another schema","body":"<p>Here's what worked for me in the end - simple routine to copy multiple table from the T0 schema to the T1, T2 and T3 schemas</p>\n<p>public class CopyFromT0toT123 {</p>\n<pre><code>public static void main(String[] args) throws Exception {\n    CopyFromT0toT123 copy = new CopyFromT0toT123();\n    copy.copyTable(&quot;table name 1&quot;, Schema.XXXX_T0, Schema.XXXX_T1, Schema.XXXX_T2, Schema.XXXX_T3);\n    copy.copyTable(&quot;table name 2&quot;, Schema.XXXX_T0, Schema.XXXX_T1, Schema.XXXX_T2, Schema.XXXX_T3);\n    copy.copyTable(&quot;table name 3&quot;, Schema.XXXX_T0, Schema.XXXX_T1, Schema.XXXX_T2, Schema.XXXX_T3);\n}\n\nprivate void copyTable(String tableName, Schema schemaSource, Schema... schemaDestinations) throws Exception {\n    // Clear out table\n    clearOutDestinationTable(tableName, schemaDestinations);\n\n    // Start copying\n    String sqlSelect = &quot;SELECT * FROM &quot; + tableName;\n    Schema schema = Schema.XXXX_T0;\n    Connection conn = DriverManager.getConnection(schema.getConnectionString(), schema.getUserId(), schema.getPassword());\n    PreparedStatement prepStmnt = conn.prepareStatement(sqlSelect);\n    ResultSet resSet = prepStmnt.executeQuery();\n\n    copyToDestinationTable(tableName, resSet, schemaSource, schemaDestinations);\n\n    resSet.close();\n    prepStmnt.close();\n    conn.close();\n}\n\nprivate void copyToDestinationTable(String tableName, ResultSet resSet, Schema schemaSource, Schema... schemaDestinations) throws Exception {\n    for (Schema schemaDestination : schemaDestinations) {\n        System.out.println(&quot;Copying &quot; + tableName + &quot; to &quot; + schemaDestination.toString());\n        String sqlInsert = buildInsert(tableName);\n        Connection connDestination = DriverManager.getConnection(schemaDestination.getConnectionString(), schemaDestination.getUserId(), schemaDestination.getPassword());\n        PreparedStatement prepStmntDestination = connDestination.prepareStatement(sqlInsert);\n\n        while (resSet.next()) {\n            for (int i = 0; i &lt; resSet.getMetaData().getColumnCount(); i++) {\n                prepStmntDestination.setObject(i + 1, resSet.getObject(i + 1));\n            }\n            prepStmntDestination.executeUpdate();\n        }\n\n        prepStmntDestination.close();\n        connDestination.close();\n    }\n}\n\nprivate void clearOutDestinationTable(String tableName, Schema... schemaDestinations) throws SQLException {\n    for (Schema schemaDestination : schemaDestinations) {\n        String sqlDelete = &quot;DELETE FROM &quot; + tableName;\n        Connection connDestination = DriverManager.getConnection(schemaDestination.getConnectionString(), schemaDestination.getUserId(), schemaDestination.getPassword());\n        PreparedStatement prepStmntDestination = connDestination.prepareStatement(sqlDelete);\n        prepStmntDestination.executeUpdate();\n        prepStmntDestination.close();\n        connDestination.close();\n    }\n}\n\nprivate String buildInsert(String tableName) throws SQLException {\n    String sqlSelect = &quot;SELECT * FROM &quot; + tableName;\n    String result = &quot;&quot;;\n    Schema schema = Schema.XXXX_T0;\n    Connection conn = DriverManager.getConnection(schema.getConnectionString(), schema.getUserId(), schema.getPassword());\n    PreparedStatement prepStmnt = conn.prepareStatement(sqlSelect);\n    ResultSet resSet = prepStmnt.executeQuery();\n    ResultSetMetaData metaData = resSet.getMetaData();\n    String[] columnNames = new String[metaData.getColumnCount()];\n    result = &quot;INSERT INTO &quot; + tableName + &quot;(&quot;;\n    for (int i = 0; i &lt; columnNames.length; i++) {\n        result = result + metaData.getColumnName(i + 1) + &quot;,&quot;;\n    }\n    result = result.substring(0, result.length() - 1) + &quot;) VALUES ( &quot;;\n    for (int i = 0; i &lt; columnNames.length - 1; i++) {\n        result = result + &quot; ? ,&quot;;\n    }\n    result = result + &quot; ? )&quot;;\n    resSet.close();\n    prepStmnt.close();\n    conn.close();\n\n    return result;\n}\n</code></pre>\n<p>}</p>\n<p>public enum Schema {</p>\n<pre><code>XXXX_T0(&quot;XXXX_T0&quot;, &quot;password here&quot;, &quot;T0&quot;, &quot;20&quot;, true,\n        &quot;jdbc:oracle:thin:@(DESCRIPTION...&quot;),\n\nXXXX_T1(&quot;XXXX_T1&quot;, &quot;password here&quot;, &quot;T1&quot;, &quot;30&quot;, true,\n        &quot;jdbc:oracle:thin:@(DESCRIPTION.....&quot;),\n\nXXXX_T2(&quot;XXXX_T2&quot;, &quot;password here&quot;, &quot;T2&quot;, &quot;40&quot;, true,\n        &quot;jdbc:oracle:thin:@(DESCRIPTION.....&quot;),\n\nXXXX_T3(&quot;XXXX_T3&quot;, &quot;password here&quot;, &quot;T2&quot;, &quot;50&quot;, true,\n        &quot;jdbc:oracle:thin:@(DESCRIPTION.....&quot;),\n\n\nprivate final String connectionString;\nprivate final String userId;\nprivate final String password;\nprivate final String displayId;\nprivate final String order;\nprivate final boolean interAct;\n\nprivate Schema(String userId, String password, String databaseId, String order, boolean interAct, String connectionString) {\n    this.connectionString = connectionString;\n    this.userId = userId;\n    this.password = password;\n    this.displayId = databaseId;\n    this.order = order;\n    this.interAct = interAct;\n}\n\n\n/**\n * Return a specific Schema for a give Schema database id\n */\npublic static final Schema getSchema(String displayId) {\n    for (Schema schema : values()) {\n        if (displayId.equals(schema.displayId)) {\n            return schema;\n        }\n    }\n    return null;\n}\n\npublic String getConnectionString() {\n    return connectionString;\n}\n\npublic String getUserId() {\n    return userId;\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":8072192,"reputation":49,"user_id":6084584,"accept_rate":36,"display_name":"Will"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":788,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":38382163,"answer_count":2,"score":0,"last_activity_date":1692747295,"creation_date":1468520001,"question_id":38381349,"body_markdown":"I have a place where I store tables. \r\nIn this place I have a table. Lets&#39; name it Table A. All columns in table  A columns are varchars. \r\nI want to create a process that will go through every table and create a new table in a different place in the database. \r\nHowever this table has to have the right datatypes instead of varchars.\r\nSo if my column in table A is a column with the values 1234, I want to create a field that will be an INT an not a varchar.\r\n\r\nI don&#39;t have any idea how to do it in java. Could somebody point me in the right direction on what things I would have to learn and if it is too difficult\r\n\r\nThanks","title":"Java Copying tables to another schema","body":"<p>I have a place where I store tables. \nIn this place I have a table. Lets' name it Table A. All columns in table  A columns are varchars. \nI want to create a process that will go through every table and create a new table in a different place in the database. \nHowever this table has to have the right datatypes instead of varchars.\nSo if my column in table A is a column with the values 1234, I want to create a field that will be an INT an not a varchar.</p>\n\n<p>I don't have any idea how to do it in java. Could somebody point me in the right direction on what things I would have to learn and if it is too difficult</p>\n\n<p>Thanks</p>\n"},{"tags":["java","dictionary","collections","initialization"],"comments":[{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":1,"creation_date":1311447305,"post_id":6802483,"comment_id":8076307,"body_markdown":"relatd: http://stackoverflow.com/questions/2041778/initialize-java-hashset-values-by-construction/2041789#2041789","body":"relatd: <a href=\"http://stackoverflow.com/questions/2041778/initialize-java-hashset-values-by-construction/2041789#2041789\" title=\"initialize java hashset values by construction\">stackoverflow.com/questions/2041778/&hellip;</a>"},{"owner":{"account_id":22705,"reputation":80387,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":0,"creation_date":1374146850,"post_id":6802483,"comment_id":25830951,"body_markdown":"Closely related: http://stackoverflow.com/questions/507602/how-to-initialise-a-static-map-in-java (Both questions are about initialising a constant map with static, final values.)","body":"Closely related: <a href=\"http://stackoverflow.com/questions/507602/how-to-initialise-a-static-map-in-java\" title=\"how to initialise a static map in java\">stackoverflow.com/questions/507602/&hellip;</a> (Both questions are about initialising a constant map with static, final values.)"},{"owner":{"account_id":2340029,"reputation":154,"user_id":2051532,"display_name":"Ramkumar Pillai"},"score":0,"creation_date":1461997324,"post_id":6802483,"comment_id":61461233,"body_markdown":"http://stackoverflow.com/questions/36951414/initialize-a-map-hashmap-in-java/36951468#36951468","body":"<a href=\"http://stackoverflow.com/questions/36951414/initialize-a-map-hashmap-in-java/36951468#36951468\" title=\"initialize a map hashmap in java\">stackoverflow.com/questions/36951414/&hellip;</a>"},{"owner":{"account_id":7417054,"reputation":140,"user_id":5642475,"display_name":"Kamil Tomasz Jarmusik"},"score":0,"creation_date":1517758340,"post_id":6802483,"comment_id":84215884,"body_markdown":"In Java 9: http://www.techiedelight.com/initialize-map-java9/","body":"In Java 9: <a href=\"http://www.techiedelight.com/initialize-map-java9/\" rel=\"nofollow noreferrer\">techiedelight.com/initialize-map-java9</a>"},{"owner":{"account_id":26485,"reputation":58926,"user_id":68939,"display_name":"ax."},"score":0,"creation_date":1521654925,"post_id":6802483,"comment_id":85828546,"body_markdown":"If you use apache.commons.collections, you can use https://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/MapUtils.html#putAll(java.util.Map,%20java.lang.Object[])","body":"If you use apache.commons.collections, you can use <a href=\"https://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/MapUtils.html#putAll(java.util.Map,%20java.lang.Object[])\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-collections/javadocs/&hellip;</a>"},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1536626650,"post_id":6802483,"comment_id":91482207,"body_markdown":"Since no answer is allowed here any more, see https://stackoverflow.com/questions/507602/how-can-i-initialise-a-static-map/52266947#52266947","body":"Since no answer is allowed here any more, see <a href=\"https://stackoverflow.com/questions/507602/how-can-i-initialise-a-static-map/52266947#52266947\" title=\"how can i initialise a static map\">stackoverflow.com/questions/507602/&hellip;</a>"},{"owner":{"account_id":368939,"reputation":22613,"user_id":716027,"accept_rate":56,"display_name":"fedor.belov"},"score":0,"creation_date":1566075027,"post_id":6802483,"comment_id":101543825,"body_markdown":"Check [soyuz-to](https://github.com/thedocs-io/soyuz-to) - `to.map(&quot;myKey&quot;, &quot;myValue&quot;)`. It very simple and has a lot of other useful features","body":"Check <a href=\"https://github.com/thedocs-io/soyuz-to\" rel=\"nofollow noreferrer\">soyuz-to</a> - <code>to.map(&quot;myKey&quot;, &quot;myValue&quot;)</code>. It very simple and has a lot of other useful features"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":4,"creation_date":1576548820,"post_id":6802483,"comment_id":104927138,"body_markdown":"**Not** a duplicate of [the linked Question](https://stackoverflow.com/q/507602/642706). That Question is about `static` while this Question is asking about instantiating by literal syntax. **Voting to re-open.** Perhaps this Question is a duplicate of some other Question; if so, re-open and close again by linking to a Question that is truly an original of this.","body":"<b>Not</b> a duplicate of <a href=\"https://stackoverflow.com/q/507602/642706\">the linked Question</a>. That Question is about <code>static</code> while this Question is asking about instantiating by literal syntax. <b>Voting to re-open.</b> Perhaps this Question is a duplicate of some other Question; if so, re-open and close again by linking to a Question that is truly an original of this."}],"answers":[{"tags":[],"owner":{"account_id":129028,"reputation":39302,"user_id":327301,"accept_rate":66,"display_name":"yankee"},"down_vote_count":9,"up_vote_count":2113,"is_accepted":true,"score":2104,"last_activity_date":1675591403,"creation_date":1311446655,"answer_id":6802502,"question_id":6802483,"body_markdown":"# All Versions\r\n\r\nIn case you happen to need just a single entry: There is `Collections.singletonMap(&quot;key&quot;, &quot;value&quot;)`.\r\n\r\n# For Java Version 9 or higher:\r\n\r\nYes, this is possible now. In Java 9 a couple of factory methods have been added that simplify the creation of maps :\r\n\r\n    // this works for up to 10 elements:\r\n    Map&lt;String, String&gt; test1 = Map.of(\r\n        &quot;a&quot;, &quot;b&quot;,\r\n        &quot;c&quot;, &quot;d&quot;\r\n    );\r\n\r\n    // this works for any number of elements:\r\n    import static java.util.Map.entry;    \r\n    Map&lt;String, String&gt; test2 = Map.ofEntries(\r\n        entry(&quot;a&quot;, &quot;b&quot;),\r\n        entry(&quot;c&quot;, &quot;d&quot;)\r\n    );\r\n\r\nIn the example above both `test` and `test2` will be the same, just with different ways of expressing the Map. The `Map.of` method is defined for up to ten elements in the map, while the `Map.ofEntries` method will have no such limit.\r\n\r\nNote that in this case the resulting map will be an immutable map. If you want the map to be mutable, you could copy it again, e.g. using `mutableMap = new HashMap&lt;&gt;(Map.of(&quot;a&quot;, &quot;b&quot;));`. Also note that in this case keys and values must not be `null`.\r\n\r\n(See also [JEP 269](http://openjdk.java.net/jeps/269) and the [Javadoc](https://docs.oracle.com/javase/9/docs/api/java/util/Map.html))\r\n\r\n# For up to Java Version 8:\r\n\r\nNo, you will have to add all the elements manually. You can use an initializer in an anonymous subclass to make the syntax a little bit shorter:\r\n\r\n    Map&lt;String, String&gt; myMap = new HashMap&lt;String, String&gt;() {{\r\n    \tput(&quot;a&quot;, &quot;b&quot;);\r\n   \t    put(&quot;c&quot;, &quot;d&quot;);\r\n    }};\r\n\r\nHowever, the anonymous subclass might introduce unwanted behavior in some cases. This includes for example:\r\n\r\n- It generates an additional class which increases memory consumption, disk space consumption and startup-time\r\n- In case of a non-static method: It holds a reference to the object the creating method was called upon. That means the object of the outer class cannot be garbage collected while the created map object is still referenced, thus blocking additional memory\r\n\r\nUsing a function for initialization will also enable you to generate a map in an initializer, but avoids nasty side-effects:\r\n\r\n\r\n    Map&lt;String, String&gt; myMap = createMap();\r\n\r\n  \tprivate static Map&lt;String, String&gt; createMap() {\r\n    \tMap&lt;String,String&gt; myMap = new HashMap&lt;String,String&gt;();\r\n    \tmyMap.put(&quot;a&quot;, &quot;b&quot;);\r\n    \tmyMap.put(&quot;c&quot;, &quot;d&quot;);\r\n        return myMap;\r\n    }\r\n\r\n","title":"How to directly initialize a HashMap (in a literal way)?","body":"<h1>All Versions</h1>\n<p>In case you happen to need just a single entry: There is <code>Collections.singletonMap(&quot;key&quot;, &quot;value&quot;)</code>.</p>\n<h1>For Java Version 9 or higher:</h1>\n<p>Yes, this is possible now. In Java 9 a couple of factory methods have been added that simplify the creation of maps :</p>\n<pre><code>// this works for up to 10 elements:\nMap&lt;String, String&gt; test1 = Map.of(\n    &quot;a&quot;, &quot;b&quot;,\n    &quot;c&quot;, &quot;d&quot;\n);\n\n// this works for any number of elements:\nimport static java.util.Map.entry;    \nMap&lt;String, String&gt; test2 = Map.ofEntries(\n    entry(&quot;a&quot;, &quot;b&quot;),\n    entry(&quot;c&quot;, &quot;d&quot;)\n);\n</code></pre>\n<p>In the example above both <code>test</code> and <code>test2</code> will be the same, just with different ways of expressing the Map. The <code>Map.of</code> method is defined for up to ten elements in the map, while the <code>Map.ofEntries</code> method will have no such limit.</p>\n<p>Note that in this case the resulting map will be an immutable map. If you want the map to be mutable, you could copy it again, e.g. using <code>mutableMap = new HashMap&lt;&gt;(Map.of(&quot;a&quot;, &quot;b&quot;));</code>. Also note that in this case keys and values must not be <code>null</code>.</p>\n<p>(See also <a href=\"http://openjdk.java.net/jeps/269\" rel=\"noreferrer\">JEP 269</a> and the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Map.html\" rel=\"noreferrer\">Javadoc</a>)</p>\n<h1>For up to Java Version 8:</h1>\n<p>No, you will have to add all the elements manually. You can use an initializer in an anonymous subclass to make the syntax a little bit shorter:</p>\n<pre><code>Map&lt;String, String&gt; myMap = new HashMap&lt;String, String&gt;() {{\n    put(&quot;a&quot;, &quot;b&quot;);\n    put(&quot;c&quot;, &quot;d&quot;);\n}};\n</code></pre>\n<p>However, the anonymous subclass might introduce unwanted behavior in some cases. This includes for example:</p>\n<ul>\n<li>It generates an additional class which increases memory consumption, disk space consumption and startup-time</li>\n<li>In case of a non-static method: It holds a reference to the object the creating method was called upon. That means the object of the outer class cannot be garbage collected while the created map object is still referenced, thus blocking additional memory</li>\n</ul>\n<p>Using a function for initialization will also enable you to generate a map in an initializer, but avoids nasty side-effects:</p>\n<pre><code>Map&lt;String, String&gt; myMap = createMap();\n\nprivate static Map&lt;String, String&gt; createMap() {\n    Map&lt;String,String&gt; myMap = new HashMap&lt;String,String&gt;();\n    myMap.put(&quot;a&quot;, &quot;b&quot;);\n    myMap.put(&quot;c&quot;, &quot;d&quot;);\n    return myMap;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":378189,"reputation":14916,"user_id":730759,"accept_rate":86,"display_name":"gregory561"},"down_vote_count":15,"up_vote_count":1174,"is_accepted":false,"score":1159,"last_activity_date":1604437071,"creation_date":1311446732,"answer_id":6802512,"question_id":6802483,"body_markdown":"This is one way.\r\n      \r\n    Map&lt;String, String&gt; h = new HashMap&lt;String, String&gt;() {{\r\n        put(&quot;a&quot;,&quot;b&quot;);\r\n    }};\r\n\r\nHowever, you should be careful and make sure that you understand the above code (it creates a new class that inherits from HashMap). Therefore, you should read more here:\r\nhttp://www.c2.com/cgi/wiki?DoubleBraceInitialization\r\n, or simply use Guava:\r\n\r\n    Map&lt;String, Integer&gt; left = ImmutableMap.of(&quot;a&quot;, 1, &quot;b&quot;, 2, &quot;c&quot;, 3);\r\n\r\n`ImmutableMap.of` works for up to 5 entries. Otherwise, use the builder: &lt;a href=&quot;https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/ImmutableMap.java&quot;&gt;source&lt;/a&gt;.\r\n","title":"How to directly initialize a HashMap (in a literal way)?","body":"<p>This is one way.</p>\n<pre><code>Map&lt;String, String&gt; h = new HashMap&lt;String, String&gt;() {{\n    put(&quot;a&quot;,&quot;b&quot;);\n}};\n</code></pre>\n<p>However, you should be careful and make sure that you understand the above code (it creates a new class that inherits from HashMap). Therefore, you should read more here:\n<a href=\"http://www.c2.com/cgi/wiki?DoubleBraceInitialization\" rel=\"noreferrer\">http://www.c2.com/cgi/wiki?DoubleBraceInitialization</a>\n, or simply use Guava:</p>\n<pre><code>Map&lt;String, Integer&gt; left = ImmutableMap.of(&quot;a&quot;, 1, &quot;b&quot;, 2, &quot;c&quot;, 3);\n</code></pre>\n<p><code>ImmutableMap.of</code> works for up to 5 entries. Otherwise, use the builder: <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/ImmutableMap.java\" rel=\"noreferrer\">source</a>.</p>\n"},{"tags":[],"owner":{"account_id":53892,"reputation":27585,"user_id":161161,"accept_rate":61,"display_name":"Shaggy Frog"},"down_vote_count":6,"up_vote_count":71,"is_accepted":false,"score":65,"last_activity_date":1311446826,"creation_date":1311446826,"answer_id":6802520,"question_id":6802483,"body_markdown":"    Map&lt;String,String&gt; test = new HashMap&lt;String, String&gt;()\r\n    {\r\n        {\r\n            put(key1, value1);\r\n            put(key2, value2);\r\n        }\r\n    };\r\n","title":"How to directly initialize a HashMap (in a literal way)?","body":"<pre><code>Map&lt;String,String&gt; test = new HashMap&lt;String, String&gt;()\n{\n    {\n        put(key1, value1);\n        put(key2, value2);\n    }\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"down_vote_count":1,"up_vote_count":122,"is_accepted":false,"score":121,"last_activity_date":1658790219,"creation_date":1311446885,"answer_id":6802523,"question_id":6802483,"body_markdown":"There is no direct way to do this - As of 2021, Java has no Map literals (yet - I think they were proposed for Java 8, but didn&#39;t make it).\r\n\r\nSome people like this:\r\n\r\n\r\n    Map&lt;String,String&gt; test = new HashMap&lt;String, String&gt;(){{\r\n           put(&quot;test&quot;,&quot;test&quot;); put(&quot;test&quot;,&quot;test&quot;);}};\r\n\r\nThis creates an anonymous subclass of HashMap, whose instance initializer puts these values. (By the way, a map can&#39;t contain twice the same value, your second put will overwrite the first one. I&#39;ll use different values for the next examples.)\r\n\r\nThe normal way would be this (for a local variable):\r\n\r\n    Map&lt;String,String&gt; test = new HashMap&lt;String, String&gt;();\r\n    test.put(&quot;test&quot;,&quot;test&quot;);\r\n    test.put(&quot;test1&quot;,&quot;test2&quot;);\r\n\r\nIf your `test` map is an instance variable, put the initialization in a constructor or instance initializer:\r\n\r\n    Map&lt;String,String&gt; test = new HashMap&lt;String, String&gt;();\r\n    {\r\n        test.put(&quot;test&quot;,&quot;test&quot;);\r\n        test.put(&quot;test1&quot;,&quot;test2&quot;);\r\n    }\r\n\r\nIf your `test` map is a class variable, put the initialization in a static initializer:\r\n\r\n    static Map&lt;String,String&gt; test = new HashMap&lt;String, String&gt;();\r\n    static {\r\n        test.put(&quot;test&quot;,&quot;test&quot;);\r\n        test.put(&quot;test1&quot;,&quot;test2&quot;);\r\n    }\r\n\r\n\r\nIf you want your map to never change, you should after the initialization wrap your map by `Collections.unmodifiableMap(...)`. You can do this in a static initializer too:\r\n\r\n    static Map&lt;String,String&gt; test;\r\n    {\r\n        Map&lt;String,String&gt; temp = new HashMap&lt;String, String&gt;();\r\n        temp.put(&quot;test&quot;,&quot;test&quot;);\r\n        temp.put(&quot;test1&quot;,&quot;test2&quot;);\r\n        test = Collections.unmodifiableMap(temp);\r\n    }\r\n\r\n(I&#39;m not sure if you can now make `test` final ... try it out and report here.)\r\n\r\nSince Java 9, you also have the Map.of(...) and Map.ofEntries() syntax, as explained in [the answer from yankee](https://stackoverflow.com/a/6802502/600500).","title":"How to directly initialize a HashMap (in a literal way)?","body":"<p>There is no direct way to do this - As of 2021, Java has no Map literals (yet - I think they were proposed for Java 8, but didn't make it).</p>\n<p>Some people like this:</p>\n<pre><code>Map&lt;String,String&gt; test = new HashMap&lt;String, String&gt;(){{\n       put(&quot;test&quot;,&quot;test&quot;); put(&quot;test&quot;,&quot;test&quot;);}};\n</code></pre>\n<p>This creates an anonymous subclass of HashMap, whose instance initializer puts these values. (By the way, a map can't contain twice the same value, your second put will overwrite the first one. I'll use different values for the next examples.)</p>\n<p>The normal way would be this (for a local variable):</p>\n<pre><code>Map&lt;String,String&gt; test = new HashMap&lt;String, String&gt;();\ntest.put(&quot;test&quot;,&quot;test&quot;);\ntest.put(&quot;test1&quot;,&quot;test2&quot;);\n</code></pre>\n<p>If your <code>test</code> map is an instance variable, put the initialization in a constructor or instance initializer:</p>\n<pre><code>Map&lt;String,String&gt; test = new HashMap&lt;String, String&gt;();\n{\n    test.put(&quot;test&quot;,&quot;test&quot;);\n    test.put(&quot;test1&quot;,&quot;test2&quot;);\n}\n</code></pre>\n<p>If your <code>test</code> map is a class variable, put the initialization in a static initializer:</p>\n<pre><code>static Map&lt;String,String&gt; test = new HashMap&lt;String, String&gt;();\nstatic {\n    test.put(&quot;test&quot;,&quot;test&quot;);\n    test.put(&quot;test1&quot;,&quot;test2&quot;);\n}\n</code></pre>\n<p>If you want your map to never change, you should after the initialization wrap your map by <code>Collections.unmodifiableMap(...)</code>. You can do this in a static initializer too:</p>\n<pre><code>static Map&lt;String,String&gt; test;\n{\n    Map&lt;String,String&gt; temp = new HashMap&lt;String, String&gt;();\n    temp.put(&quot;test&quot;,&quot;test&quot;);\n    temp.put(&quot;test1&quot;,&quot;test2&quot;);\n    test = Collections.unmodifiableMap(temp);\n}\n</code></pre>\n<p>(I'm not sure if you can now make <code>test</code> final ... try it out and report here.)</p>\n<p>Since Java 9, you also have the Map.of(...) and Map.ofEntries() syntax, as explained in <a href=\"https://stackoverflow.com/a/6802502/600500\">the answer from yankee</a>.</p>\n"},{"tags":[],"owner":{"account_id":169897,"reputation":6729,"user_id":396255,"display_name":"Jens Hoffmann"},"down_vote_count":2,"up_vote_count":372,"is_accepted":false,"score":370,"last_activity_date":1549437784,"creation_date":1372456990,"answer_id":17374339,"question_id":6802483,"body_markdown":"If you allow 3rd party libs, you can use [Guava][1]&#39;s [ImmutableMap][2] to achieve literal-like brevity:\r\n\r\n    Map&lt;String, String&gt; test = ImmutableMap.of(&quot;k1&quot;, &quot;v1&quot;, &quot;k2&quot;, &quot;v2&quot;);\r\n\r\nThis works for up to [5 key/value pairs][3], otherwise you can use its [builder][4]:\r\n\r\n    Map&lt;String, String&gt; test = ImmutableMap.&lt;String, String&gt;builder()\r\n        .put(&quot;k1&quot;, &quot;v1&quot;)\r\n        .put(&quot;k2&quot;, &quot;v2&quot;)\r\n        ...\r\n        .build();\r\n&lt;br/&gt;\r\n\r\n - note that Guava&#39;s [ImmutableMap][2] implementation differs from Java&#39;s [HashMap][5] implementation (most notably it is immutable and does not permit null keys/values)\r\n - for more info, see Guava&#39;s user guide article on its [immutable collection types][6]\r\n\r\n  [1]: https://code.google.com/p/guava-libraries/\r\n  [2]: https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/ImmutableMap.html\r\n  [3]: https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/ImmutableMap.html#of-K-V-K-V-K-V-K-V-K-V-\r\n  [4]: https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/ImmutableMap.html#builder--\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html\r\n  [6]: https://github.com/google/guava/wiki/ImmutableCollectionsExplained","title":"How to directly initialize a HashMap (in a literal way)?","body":"<p>If you allow 3rd party libs, you can use <a href=\"https://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">Guava</a>'s <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/ImmutableMap.html\" rel=\"noreferrer\">ImmutableMap</a> to achieve literal-like brevity:</p>\n\n<pre><code>Map&lt;String, String&gt; test = ImmutableMap.of(\"k1\", \"v1\", \"k2\", \"v2\");\n</code></pre>\n\n<p>This works for up to <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/ImmutableMap.html#of-K-V-K-V-K-V-K-V-K-V-\" rel=\"noreferrer\">5 key/value pairs</a>, otherwise you can use its <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/ImmutableMap.html#builder--\" rel=\"noreferrer\">builder</a>:</p>\n\n<pre><code>Map&lt;String, String&gt; test = ImmutableMap.&lt;String, String&gt;builder()\n    .put(\"k1\", \"v1\")\n    .put(\"k2\", \"v2\")\n    ...\n    .build();\n</code></pre>\n\n<p><br/></p>\n\n<ul>\n<li>note that Guava's <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/ImmutableMap.html\" rel=\"noreferrer\">ImmutableMap</a> implementation differs from Java's <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html\" rel=\"noreferrer\">HashMap</a> implementation (most notably it is immutable and does not permit null keys/values)</li>\n<li>for more info, see Guava's user guide article on its <a href=\"https://github.com/google/guava/wiki/ImmutableCollectionsExplained\" rel=\"noreferrer\">immutable collection types</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":335566,"reputation":659,"user_id":662728,"display_name":"Aerthel"},"down_vote_count":1,"up_vote_count":47,"is_accepted":false,"score":46,"last_activity_date":1372954223,"creation_date":1372954223,"answer_id":17474581,"question_id":6802483,"body_markdown":"An alternative, using plain Java 7 classes and varargs: create a class `HashMapBuilder` with this method:\r\n    &lt;!-- language-all: java--&gt;\r\n\r\n    public static HashMap&lt;String, String&gt; build(String... data){\r\n\t\tHashMap&lt;String, String&gt; result = new HashMap&lt;String, String&gt;();\r\n\t\t\r\n\t\tif(data.length % 2 != 0) \r\n\t\t\tthrow new IllegalArgumentException(&quot;Odd number of arguments&quot;);\t\t\r\n\t\t\r\n\t\tString key = null;\r\n\t\tInteger step = -1;\r\n\t\t\r\n\t\tfor(String value : data){\r\n\t\t\tstep++;\r\n\t\t\tswitch(step % 2){\r\n\t\t\tcase 0:\t\r\n\t\t\t\tif(value == null)\r\n\t\t\t\t\tthrow new IllegalArgumentException(&quot;Null key value&quot;); \r\n\t\t\t\tkey = value;\r\n\t\t\t\tcontinue;\r\n\t\t\tcase 1:\t\t\t\t\r\n\t\t\t\tresult.put(key, value);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn result;\r\n\t}\r\n\r\nUse the method like this:\r\n\r\n    HashMap&lt;String,String&gt; data = HashMapBuilder.build(&quot;key1&quot;,&quot;value1&quot;,&quot;key2&quot;,&quot;value2&quot;);","title":"How to directly initialize a HashMap (in a literal way)?","body":"<p>An alternative, using plain Java 7 classes and varargs: create a class <code>HashMapBuilder</code> with this method:\n    </p>\n\n<pre><code>public static HashMap&lt;String, String&gt; build(String... data){\n    HashMap&lt;String, String&gt; result = new HashMap&lt;String, String&gt;();\n\n    if(data.length % 2 != 0) \n        throw new IllegalArgumentException(\"Odd number of arguments\");      \n\n    String key = null;\n    Integer step = -1;\n\n    for(String value : data){\n        step++;\n        switch(step % 2){\n        case 0: \n            if(value == null)\n                throw new IllegalArgumentException(\"Null key value\"); \n            key = value;\n            continue;\n        case 1:             \n            result.put(key, value);\n            break;\n        }\n    }\n\n    return result;\n}\n</code></pre>\n\n<p>Use the method like this:</p>\n\n<pre><code>HashMap&lt;String,String&gt; data = HashMapBuilder.build(\"key1\",\"value1\",\"key2\",\"value2\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1692747211,"creation_date":1576549148,"answer_id":59366753,"question_id":6802483,"body_markdown":"# tl;dr\r\n\r\nUse `Map.of…` methods in Java 9 and later.\r\n\r\n    Map&lt; String , String &gt; animalSounds =\r\n        Map.of(\r\n            &quot;dog&quot;  , &quot;bark&quot; ,   // key , value\r\n            &quot;cat&quot;  , &quot;meow&quot; ,   // key , value\r\n            &quot;bird&quot; , &quot;chirp&quot;    // key , value\r\n        )\r\n    ;\r\n\r\n\r\n# `Map.of` \r\n\r\nJava 9 added a series of [`Map.of`][1] static methods to do just what you want: **Instantiate an immutable `Map` using literal syntax**.\r\n\r\nThe map (a collection of entries) is immutable, so you cannot add or remove entries after instantiating. Also, the key and the value of each entry is immutable, cannot be changed. [See the Javadoc][2] for other rules, such as no NULLs allowed, no duplicate keys allowed, and the iteration order of mappings is arbitrary.\r\n\r\nLet&#39;s look at these methods, using some sample data for a map of day-of-week to a person who we expect will work on that day.\r\n\r\n    Person alice = new Person( &quot;Alice&quot; );\r\n    Person bob = new Person( &quot;Bob&quot; );\r\n    Person carol = new Person( &quot;Carol&quot; );\r\n\r\n## `Map.of()`\r\n\r\n[`Map.of`][1] creates an empty `Map`. Unmodifiable, so you cannot add entries. Here is an example of such a map, empty with no entries.\r\n\r\n    Map &lt; DayOfWeek, Person &gt; dailyWorkerEmpty = Map.of();\r\n\r\n&gt;dailyWorkerEmpty.toString(): {}\r\n\r\n## `Map.of( … )`\r\n\r\n`Map.of( k , v , k , v , …)` are several methods that take 1 to 10 key-value pairs. Here is an example of two entries.\r\n\r\n    Map &lt; DayOfWeek, Person &gt; weekendWorker = \r\n            Map.of( \r\n                DayOfWeek.SATURDAY , alice ,     // key , value\r\n                DayOfWeek.SUNDAY , bob           // key , value\r\n            )\r\n    ;\r\n\r\n&gt;weekendWorker.toString(): {SUNDAY=Person{ name=&#39;Bob&#39; }, SATURDAY=Person{ name=&#39;Alice&#39; }}\r\n\r\n## `Map.ofEntries( … )`\r\n\r\n[`Map.ofEntries( Map.Entry , … )`][3] takes any number of objects implementing the [`Map.Entry`][4] interface. Java bundles two classes implementing that interface, one mutable, the other immutable:     [`AbstractMap.SimpleEntry`][5], [`AbstractMap.SimpleImmutableEntry`][6]. But we need not specify a concrete class. We merely need to call [`Map.entry( k , v )`][7] method, pass our key and our value, and we get back an object of a some class implementing [`Map.Entry`][4] interface.\r\n\r\n    Map &lt; DayOfWeek, Person &gt; weekdayWorker = Map.ofEntries(\r\n            Map.entry( DayOfWeek.MONDAY , alice ) ,            // Call to `Map.entry` method returns an object implementing `Map.Entry`. \r\n            Map.entry( DayOfWeek.TUESDAY , bob ) ,\r\n            Map.entry( DayOfWeek.WEDNESDAY , bob ) ,\r\n            Map.entry( DayOfWeek.THURSDAY , carol ) ,\r\n            Map.entry( DayOfWeek.FRIDAY , carol )\r\n    );\r\n\r\n&gt;weekdayWorker.toString(): {WEDNESDAY=Person{ name=&#39;Bob&#39; }, TUESDAY=Person{ name=&#39;Bob&#39; }, THURSDAY=Person{ name=&#39;Carol&#39; }, FRIDAY=Person{ name=&#39;Carol&#39; }, MONDAY=Person{ name=&#39;Alice&#39; }}\r\n\r\n## `Map.copyOf`\r\n\r\n\r\nJava 10 added the method [`Map.copyOf`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html#copyOf(java.util.Map)). Pass an existing map, get back an immutable copy of that map.  \r\n\r\nFor efficiency, if the passed map is already truly immutable, the `copyOf` method returns a reference to the original without manufacturing a new map.\r\n\r\n## About `Collections.unmodifiableMap`\r\n\r\nTip: Prefer `Map.copyOf` over [`Collections.unmodifiableMap`][8] if you need/expect a truly immutable map. \r\n\r\nThe `Collections` method produces a *view* onto the original map, a mere wrapper, not a true copy. The upside: Being a mere view has the benefit of conserving memory. The downside: Modifications to the original show through.\r\n\r\nIf the original map gets modified (`put`, `remove`, etc.), the supposedly-unmodifiable will actually show the modification. In contrast, the `Map.copyOf` does indeed produce a true copy of the passed map if not already truly immutable.\r\n\r\n```java\r\nrecord Person( String name ) { }\r\nPerson alice = new Person ( &quot;Alice&quot; );\r\nPerson bob = new Person ( &quot;Bob&quot; );\r\nMap &lt; DayOfWeek, Person &gt; weekendWorkerMutable = HashMap.newHashMap ( 2 );\r\nweekendWorkerMutable.put ( DayOfWeek.SATURDAY , bob );\r\nweekendWorkerMutable.put ( DayOfWeek.SUNDAY , bob );\r\nSystem.out.println ( &quot;weekendWorkerMutable = &quot; + weekendWorkerMutable );\r\n\r\nMap &lt; DayOfWeek, Person &gt; weekendWorkerSupposedlyUnmodifiable = Collections.unmodifiableMap ( weekendWorkerMutable );\r\nSystem.out.println ( &quot;weekendWorkerSupposedlyUnmodifiable = &quot; + weekendWorkerSupposedlyUnmodifiable );\r\nMap &lt; DayOfWeek, Person &gt; trueCopy = Map.copyOf ( weekendWorkerSupposedlyUnmodifiable );\r\nSystem.out.println ( &quot;trueCopy = &quot; + trueCopy );\r\n\r\nweekendWorkerMutable.put ( DayOfWeek.SATURDAY , alice );  // &lt;--- Modify the original.\r\n\r\nSystem.out.println ( &quot; ----- After mutating the original mutable map  ----- &quot; );\r\nSystem.out.println ( &quot;weekendWorkerSupposedlyUnmodifiable = &quot; + weekendWorkerSupposedlyUnmodifiable );\r\nSystem.out.println ( &quot;trueCopy = &quot; + trueCopy );\r\n```\r\n\r\nWhen run:\r\n\r\n - We see that the supposedly unmodifiable is indeed modifiable *indirectly*, by modifying the original map on which the unmodifiable map is a view. \r\n - In contrast, the `copyOf` method produces a true copy, showing Bob as working the entire weekend even after assigning Alice.\r\n\r\n```none\r\nweekendWorkerMutable = {SATURDAY=Person[name=Bob], SUNDAY=Person[name=Bob]}\r\nweekendWorkerSupposedlyUnmodifiable = {SATURDAY=Person[name=Bob], SUNDAY=Person[name=Bob]}\r\ntrueCopy = {SUNDAY=Person[name=Bob], SATURDAY=Person[name=Bob]}\r\n ----- After mutating the original mutable map  ----- \r\nweekendWorkerSupposedlyUnmodifiable = {SATURDAY=Person[name=Alice], SUNDAY=Person[name=Bob]}\r\ntrueCopy = {SUNDAY=Person[name=Bob], SATURDAY=Person[name=Bob]}\r\n```\r\n\r\n## Notes\r\n\r\nNotice that the iterator order of maps produced via `Map.of` are *not* guaranteed. The entries have an arbitrary order. Do not write code based on the order seen, as the documentation warns the order is subject to change.\r\n\r\nNote that all of these `Map.of…` methods return a [`Map`][9] of **an unspecified class**. The underlying concrete class may even vary from one version of Java to another. This anonymity enables Java to choose from various implementations, whatever optimally fits your particular data. For example, if your keys come from an [enum][10], Java might use an [`EnumMap`][11] under the covers.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#of--\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#immutable\r\n  [3]: https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#ofEntries-java.util.Map.Entry...-\r\n  [4]: https://docs.oracle.com/javase/9/docs/api/java/util/Map.Entry.html\r\n  [5]: https://docs.oracle.com/javase/9/docs/api/java/util/AbstractMap.SimpleEntry.html\r\n  [6]: https://docs.oracle.com/javase/9/docs/api/java/util/AbstractMap.SimpleImmutableEntry.html\r\n  [7]: https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#entry-K-V-\r\n  [8]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#unmodifiableMap(java.util.Map)\r\n  [9]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html\r\n  [10]: https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\r\n  [11]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/EnumMap.html","title":"How to directly initialize a HashMap (in a literal way)?","body":"<h1>tl;dr</h1>\n<p>Use <code>Map.of…</code> methods in Java 9 and later.</p>\n<pre><code>Map&lt; String , String &gt; animalSounds =\n    Map.of(\n        &quot;dog&quot;  , &quot;bark&quot; ,   // key , value\n        &quot;cat&quot;  , &quot;meow&quot; ,   // key , value\n        &quot;bird&quot; , &quot;chirp&quot;    // key , value\n    )\n;\n</code></pre>\n<h1><code>Map.of</code></h1>\n<p>Java 9 added a series of <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#of--\" rel=\"noreferrer\"><code>Map.of</code></a> static methods to do just what you want: <strong>Instantiate an immutable <code>Map</code> using literal syntax</strong>.</p>\n<p>The map (a collection of entries) is immutable, so you cannot add or remove entries after instantiating. Also, the key and the value of each entry is immutable, cannot be changed. <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#immutable\" rel=\"noreferrer\">See the Javadoc</a> for other rules, such as no NULLs allowed, no duplicate keys allowed, and the iteration order of mappings is arbitrary.</p>\n<p>Let's look at these methods, using some sample data for a map of day-of-week to a person who we expect will work on that day.</p>\n<pre><code>Person alice = new Person( &quot;Alice&quot; );\nPerson bob = new Person( &quot;Bob&quot; );\nPerson carol = new Person( &quot;Carol&quot; );\n</code></pre>\n<h2><code>Map.of()</code></h2>\n<p><a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#of--\" rel=\"noreferrer\"><code>Map.of</code></a> creates an empty <code>Map</code>. Unmodifiable, so you cannot add entries. Here is an example of such a map, empty with no entries.</p>\n<pre><code>Map &lt; DayOfWeek, Person &gt; dailyWorkerEmpty = Map.of();\n</code></pre>\n<blockquote>\n<p>dailyWorkerEmpty.toString(): {}</p>\n</blockquote>\n<h2><code>Map.of( … )</code></h2>\n<p><code>Map.of( k , v , k , v , …)</code> are several methods that take 1 to 10 key-value pairs. Here is an example of two entries.</p>\n<pre><code>Map &lt; DayOfWeek, Person &gt; weekendWorker = \n        Map.of( \n            DayOfWeek.SATURDAY , alice ,     // key , value\n            DayOfWeek.SUNDAY , bob           // key , value\n        )\n;\n</code></pre>\n<blockquote>\n<p>weekendWorker.toString(): {SUNDAY=Person{ name='Bob' }, SATURDAY=Person{ name='Alice' }}</p>\n</blockquote>\n<h2><code>Map.ofEntries( … )</code></h2>\n<p><a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#ofEntries-java.util.Map.Entry...-\" rel=\"noreferrer\"><code>Map.ofEntries( Map.Entry , … )</code></a> takes any number of objects implementing the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Map.Entry.html\" rel=\"noreferrer\"><code>Map.Entry</code></a> interface. Java bundles two classes implementing that interface, one mutable, the other immutable:     <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/AbstractMap.SimpleEntry.html\" rel=\"noreferrer\"><code>AbstractMap.SimpleEntry</code></a>, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/AbstractMap.SimpleImmutableEntry.html\" rel=\"noreferrer\"><code>AbstractMap.SimpleImmutableEntry</code></a>. But we need not specify a concrete class. We merely need to call <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#entry-K-V-\" rel=\"noreferrer\"><code>Map.entry( k , v )</code></a> method, pass our key and our value, and we get back an object of a some class implementing <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Map.Entry.html\" rel=\"noreferrer\"><code>Map.Entry</code></a> interface.</p>\n<pre><code>Map &lt; DayOfWeek, Person &gt; weekdayWorker = Map.ofEntries(\n        Map.entry( DayOfWeek.MONDAY , alice ) ,            // Call to `Map.entry` method returns an object implementing `Map.Entry`. \n        Map.entry( DayOfWeek.TUESDAY , bob ) ,\n        Map.entry( DayOfWeek.WEDNESDAY , bob ) ,\n        Map.entry( DayOfWeek.THURSDAY , carol ) ,\n        Map.entry( DayOfWeek.FRIDAY , carol )\n);\n</code></pre>\n<blockquote>\n<p>weekdayWorker.toString(): {WEDNESDAY=Person{ name='Bob' }, TUESDAY=Person{ name='Bob' }, THURSDAY=Person{ name='Carol' }, FRIDAY=Person{ name='Carol' }, MONDAY=Person{ name='Alice' }}</p>\n</blockquote>\n<h2><code>Map.copyOf</code></h2>\n<p>Java 10 added the method <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html#copyOf(java.util.Map)\" rel=\"noreferrer\"><code>Map.copyOf</code></a>. Pass an existing map, get back an immutable copy of that map.</p>\n<p>For efficiency, if the passed map is already truly immutable, the <code>copyOf</code> method returns a reference to the original without manufacturing a new map.</p>\n<h2>About <code>Collections.unmodifiableMap</code></h2>\n<p>Tip: Prefer <code>Map.copyOf</code> over <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#unmodifiableMap(java.util.Map)\" rel=\"noreferrer\"><code>Collections.unmodifiableMap</code></a> if you need/expect a truly immutable map.</p>\n<p>The <code>Collections</code> method produces a <em>view</em> onto the original map, a mere wrapper, not a true copy. The upside: Being a mere view has the benefit of conserving memory. The downside: Modifications to the original show through.</p>\n<p>If the original map gets modified (<code>put</code>, <code>remove</code>, etc.), the supposedly-unmodifiable will actually show the modification. In contrast, the <code>Map.copyOf</code> does indeed produce a true copy of the passed map if not already truly immutable.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Person( String name ) { }\nPerson alice = new Person ( &quot;Alice&quot; );\nPerson bob = new Person ( &quot;Bob&quot; );\nMap &lt; DayOfWeek, Person &gt; weekendWorkerMutable = HashMap.newHashMap ( 2 );\nweekendWorkerMutable.put ( DayOfWeek.SATURDAY , bob );\nweekendWorkerMutable.put ( DayOfWeek.SUNDAY , bob );\nSystem.out.println ( &quot;weekendWorkerMutable = &quot; + weekendWorkerMutable );\n\nMap &lt; DayOfWeek, Person &gt; weekendWorkerSupposedlyUnmodifiable = Collections.unmodifiableMap ( weekendWorkerMutable );\nSystem.out.println ( &quot;weekendWorkerSupposedlyUnmodifiable = &quot; + weekendWorkerSupposedlyUnmodifiable );\nMap &lt; DayOfWeek, Person &gt; trueCopy = Map.copyOf ( weekendWorkerSupposedlyUnmodifiable );\nSystem.out.println ( &quot;trueCopy = &quot; + trueCopy );\n\nweekendWorkerMutable.put ( DayOfWeek.SATURDAY , alice );  // &lt;--- Modify the original.\n\nSystem.out.println ( &quot; ----- After mutating the original mutable map  ----- &quot; );\nSystem.out.println ( &quot;weekendWorkerSupposedlyUnmodifiable = &quot; + weekendWorkerSupposedlyUnmodifiable );\nSystem.out.println ( &quot;trueCopy = &quot; + trueCopy );\n</code></pre>\n<p>When run:</p>\n<ul>\n<li>We see that the supposedly unmodifiable is indeed modifiable <em>indirectly</em>, by modifying the original map on which the unmodifiable map is a view.</li>\n<li>In contrast, the <code>copyOf</code> method produces a true copy, showing Bob as working the entire weekend even after assigning Alice.</li>\n</ul>\n<pre class=\"lang-none prettyprint-override\"><code>weekendWorkerMutable = {SATURDAY=Person[name=Bob], SUNDAY=Person[name=Bob]}\nweekendWorkerSupposedlyUnmodifiable = {SATURDAY=Person[name=Bob], SUNDAY=Person[name=Bob]}\ntrueCopy = {SUNDAY=Person[name=Bob], SATURDAY=Person[name=Bob]}\n ----- After mutating the original mutable map  ----- \nweekendWorkerSupposedlyUnmodifiable = {SATURDAY=Person[name=Alice], SUNDAY=Person[name=Bob]}\ntrueCopy = {SUNDAY=Person[name=Bob], SATURDAY=Person[name=Bob]}\n</code></pre>\n<h2>Notes</h2>\n<p>Notice that the iterator order of maps produced via <code>Map.of</code> are <em>not</em> guaranteed. The entries have an arbitrary order. Do not write code based on the order seen, as the documentation warns the order is subject to change.</p>\n<p>Note that all of these <code>Map.of…</code> methods return a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html\" rel=\"noreferrer\"><code>Map</code></a> of <strong>an unspecified class</strong>. The underlying concrete class may even vary from one version of Java to another. This anonymity enables Java to choose from various implementations, whatever optimally fits your particular data. For example, if your keys come from an <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"noreferrer\">enum</a>, Java might use an <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/EnumMap.html\" rel=\"noreferrer\"><code>EnumMap</code></a> under the covers.</p>\n"},{"tags":[],"owner":{"account_id":17533267,"reputation":11,"user_id":12716906,"display_name":"NotNV6"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579780849,"creation_date":1579085830,"answer_id":59749962,"question_id":6802483,"body_markdown":"You could possibly make your own ``Map.of`` (which is only available in Java 9 and higher) method easily in 2 easy ways\r\n\r\n# Make it with a set amount of parameters\r\n\r\nExample\r\n```java\r\npublic &lt;K,V&gt; Map&lt;K,V&gt; mapOf(K k1, V v1, K k2, V v2 /* perhaps more parameters */) {\r\n    return new HashMap&lt;K, V&gt;() {{\r\n      put(k1, v1);\r\n      put(k2,  v2);\r\n      // etc...\r\n    }};\r\n}\r\n```\r\n\r\n# Make it using a List\r\nYou can also make this using a list, instead of making a lot of methods for a certain set of parameters.\r\n\r\nExample\r\n```java\r\npublic &lt;K, V&gt; Map&lt;K, V&gt; mapOf(List&lt;K&gt; keys, List&lt;V&gt; values) {\r\n   if(keys.size() != values.size()) {\r\n        throw new IndexOutOfBoundsException(&quot;amount of keys and values is not equal&quot;);\r\n    }\r\n\r\n    return new HashMap&lt;K, V&gt;() {{\r\n        IntStream.range(0, keys.size()).forEach(index -&gt; put(keys.get(index), values.get(index)));\r\n    }};\r\n}\r\n````\r\n\r\n**Note**\r\nIt is not recommended to use this for everything as this makes an anonymous class every time you use this.","title":"How to directly initialize a HashMap (in a literal way)?","body":"<p>You could possibly make your own <code>Map.of</code> (which is only available in Java 9 and higher) method easily in 2 easy ways</p>\n\n<h1>Make it with a set amount of parameters</h1>\n\n<p>Example</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;K,V&gt; Map&lt;K,V&gt; mapOf(K k1, V v1, K k2, V v2 /* perhaps more parameters */) {\n    return new HashMap&lt;K, V&gt;() {{\n      put(k1, v1);\n      put(k2,  v2);\n      // etc...\n    }};\n}\n</code></pre>\n\n<h1>Make it using a List</h1>\n\n<p>You can also make this using a list, instead of making a lot of methods for a certain set of parameters.</p>\n\n<p>Example</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;K, V&gt; Map&lt;K, V&gt; mapOf(List&lt;K&gt; keys, List&lt;V&gt; values) {\n   if(keys.size() != values.size()) {\n        throw new IndexOutOfBoundsException(\"amount of keys and values is not equal\");\n    }\n\n    return new HashMap&lt;K, V&gt;() {{\n        IntStream.range(0, keys.size()).forEach(index -&gt; put(keys.get(index), values.get(index)));\n    }};\n}\n</code></pre>\n\n<p><strong>Note</strong>\nIt is not recommended to use this for everything as this makes an anonymous class every time you use this.</p>\n"},{"tags":[],"owner":{"account_id":1269357,"reputation":8769,"user_id":1226020,"accept_rate":41,"display_name":"JHH"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581933204,"creation_date":1581932756,"answer_id":60259680,"question_id":6802483,"body_markdown":"Unfortunately, using varargs if the type of the keys and values are not the same is not very reasonable as you&#39;d have to use `Object...` and lose type safety completely. If you always want to create e.g. a `Map&lt;String, String&gt;`, of course a `toMap(String... args)` would be possible though, but not very pretty as it would be easy to mix up keys and values, and an odd number of arguments would be invalid.\r\n\r\nYou could create a sub-class of HashMap that has a chainable method like\r\n\r\n    public class ChainableMap&lt;K, V&gt; extends HashMap&lt;K, V&gt; {\r\n      public ChainableMap&lt;K, V&gt; set(K k, V v) {\r\n        put(k, v);\r\n        return this;\r\n      }\r\n    }\r\n\r\nand use it like `new ChainableMap&lt;String, Object&gt;().set(&quot;a&quot;, 1).set(&quot;b&quot;, &quot;foo&quot;)`\r\n\r\nAnother approach is to use the common builder pattern:\r\n\r\n```\r\npublic class MapBuilder&lt;K, V&gt; {\r\n  private Map&lt;K, V&gt; mMap = new HashMap&lt;&gt;();\r\n\r\n  public MapBuilder&lt;K, V&gt; put(K k, V v) {\r\n    mMap.put(k, v);\r\n    return this;\r\n  }\r\n\r\n  public Map&lt;K, V&gt; build() {\r\n    return mMap;\r\n  }\r\n}\r\n```\r\n\r\nand use it like `new MapBuilder&lt;String, Object&gt;().put(&quot;a&quot;, 1).put(&quot;b&quot;, &quot;foo&quot;).build();`\r\n\r\nHowever, the solution I&#39;ve used now and then utilizes varargs and the `Pair` class:\r\n\r\n```\r\npublic class Maps {\r\n  public static &lt;K, V&gt; Map&lt;K, V&gt; of(Pair&lt;K, V&gt;... pairs) {\r\n    Map&lt;K, V&gt; = new HashMap&lt;&gt;();\r\n\r\n    for (Pair&lt;K, V&gt; pair : pairs) {\r\n      map.put(pair.first, pair.second);\r\n    }\r\n\r\n    return map;\r\n  }\r\n}\r\n```    \r\n\r\n`Map&lt;String, Object&gt; map = Maps.of(Pair.create(&quot;a&quot;, 1), Pair.create(&quot;b&quot;, &quot;foo&quot;);`\r\n\r\nThe verbosity of `Pair.create()` bothers me a bit, but this works quite fine. If you don&#39;t mind static imports you could of course create a helper:\r\n\r\n```\r\npublic &lt;K, V&gt; Pair&lt;K, V&gt; p(K k, V v) {\r\n  return Pair.create(k, v);\r\n}\r\n```\r\n\r\n`Map&lt;String, Object&gt; map = Maps.of(p(&quot;a&quot;, 1), p(&quot;b&quot;, &quot;foo&quot;);`\r\n\r\n(Instead of `Pair` one could imagine using `Map.Entry`, but since it&#39;s an interface it requires an implementing class and/or a helper factory method. It&#39;s also not immutable, and contains other logic not useful for this task.)","title":"How to directly initialize a HashMap (in a literal way)?","body":"<p>Unfortunately, using varargs if the type of the keys and values are not the same is not very reasonable as you'd have to use <code>Object...</code> and lose type safety completely. If you always want to create e.g. a <code>Map&lt;String, String&gt;</code>, of course a <code>toMap(String... args)</code> would be possible though, but not very pretty as it would be easy to mix up keys and values, and an odd number of arguments would be invalid.</p>\n\n<p>You could create a sub-class of HashMap that has a chainable method like</p>\n\n<pre><code>public class ChainableMap&lt;K, V&gt; extends HashMap&lt;K, V&gt; {\n  public ChainableMap&lt;K, V&gt; set(K k, V v) {\n    put(k, v);\n    return this;\n  }\n}\n</code></pre>\n\n<p>and use it like <code>new ChainableMap&lt;String, Object&gt;().set(\"a\", 1).set(\"b\", \"foo\")</code></p>\n\n<p>Another approach is to use the common builder pattern:</p>\n\n<pre><code>public class MapBuilder&lt;K, V&gt; {\n  private Map&lt;K, V&gt; mMap = new HashMap&lt;&gt;();\n\n  public MapBuilder&lt;K, V&gt; put(K k, V v) {\n    mMap.put(k, v);\n    return this;\n  }\n\n  public Map&lt;K, V&gt; build() {\n    return mMap;\n  }\n}\n</code></pre>\n\n<p>and use it like <code>new MapBuilder&lt;String, Object&gt;().put(\"a\", 1).put(\"b\", \"foo\").build();</code></p>\n\n<p>However, the solution I've used now and then utilizes varargs and the <code>Pair</code> class:</p>\n\n<pre><code>public class Maps {\n  public static &lt;K, V&gt; Map&lt;K, V&gt; of(Pair&lt;K, V&gt;... pairs) {\n    Map&lt;K, V&gt; = new HashMap&lt;&gt;();\n\n    for (Pair&lt;K, V&gt; pair : pairs) {\n      map.put(pair.first, pair.second);\n    }\n\n    return map;\n  }\n}\n</code></pre>\n\n<p><code>Map&lt;String, Object&gt; map = Maps.of(Pair.create(\"a\", 1), Pair.create(\"b\", \"foo\");</code></p>\n\n<p>The verbosity of <code>Pair.create()</code> bothers me a bit, but this works quite fine. If you don't mind static imports you could of course create a helper:</p>\n\n<pre><code>public &lt;K, V&gt; Pair&lt;K, V&gt; p(K k, V v) {\n  return Pair.create(k, v);\n}\n</code></pre>\n\n<p><code>Map&lt;String, Object&gt; map = Maps.of(p(\"a\", 1), p(\"b\", \"foo\");</code></p>\n\n<p>(Instead of <code>Pair</code> one could imagine using <code>Map.Entry</code>, but since it's an interface it requires an implementing class and/or a helper factory method. It's also not immutable, and contains other logic not useful for this task.)</p>\n"},{"tags":[],"owner":{"account_id":60136,"reputation":6403,"user_id":179744,"accept_rate":88,"display_name":"Robocide"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583253612,"creation_date":1583253612,"answer_id":60511811,"question_id":6802483,"body_markdown":"You can use Streams In Java 8 (this is exmaple of Set):\r\n\r\n    @Test\r\n    public void whenInitializeUnmodifiableSetWithDoubleBrace_containsElements() {\r\n        Set&lt;String&gt; countries = Stream.of(&quot;India&quot;, &quot;USSR&quot;, &quot;USA&quot;)\r\n          .collect(collectingAndThen(toSet(), Collections::unmodifiableSet));\r\n      \r\n        assertTrue(countries.contains(&quot;India&quot;));\r\n    }\r\n\r\nRef: https://www.baeldung.com/java-double-brace-initialization\r\n","title":"How to directly initialize a HashMap (in a literal way)?","body":"<p>You can use Streams In Java 8 (this is exmaple of Set):</p>\n\n<pre><code>@Test\npublic void whenInitializeUnmodifiableSetWithDoubleBrace_containsElements() {\n    Set&lt;String&gt; countries = Stream.of(\"India\", \"USSR\", \"USA\")\n      .collect(collectingAndThen(toSet(), Collections::unmodifiableSet));\n\n    assertTrue(countries.contains(\"India\"));\n}\n</code></pre>\n\n<p>Ref: <a href=\"https://www.baeldung.com/java-double-brace-initialization\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-double-brace-initialization</a></p>\n"},{"tags":[],"owner":{"account_id":4316093,"reputation":3757,"user_id":3525886,"accept_rate":75,"display_name":"Johnny Willer"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1585601652,"creation_date":1585578371,"answer_id":60932713,"question_id":6802483,"body_markdown":"**JAVA 8**\n\nIn plain java 8 you also have the possibility of using `Streams/Collectors` to do the job.\r\n\r\n    Map&lt;String, String&gt; myMap = Stream.of(\r\n             new SimpleEntry&lt;&gt;(&quot;key1&quot;, &quot;value1&quot;),\r\n             new SimpleEntry&lt;&gt;(&quot;key2&quot;, &quot;value2&quot;),\r\n             new SimpleEntry&lt;&gt;(&quot;key3&quot;, &quot;value3&quot;))\r\n            .collect(toMap(SimpleEntry::getKey, SimpleEntry::getValue));\r\n\r\nThis has the advantage of not creating an Anonymous class.\r\n\r\nNote that the imports are:\r\n \r\n    import static java.util.stream.Collectors.toMap;\r\n    import java.util.AbstractMap.SimpleEntry;\r\n\r\nOf course, as noted in other answers, in java 9 onwards you have simpler ways of doing the same.","title":"How to directly initialize a HashMap (in a literal way)?","body":"<p><strong>JAVA 8</strong></p>\n\n<p>In plain java 8 you also have the possibility of using <code>Streams/Collectors</code> to do the job.</p>\n\n<pre><code>Map&lt;String, String&gt; myMap = Stream.of(\n         new SimpleEntry&lt;&gt;(\"key1\", \"value1\"),\n         new SimpleEntry&lt;&gt;(\"key2\", \"value2\"),\n         new SimpleEntry&lt;&gt;(\"key3\", \"value3\"))\n        .collect(toMap(SimpleEntry::getKey, SimpleEntry::getValue));\n</code></pre>\n\n<p>This has the advantage of not creating an Anonymous class.</p>\n\n<p>Note that the imports are:</p>\n\n<pre><code>import static java.util.stream.Collectors.toMap;\nimport java.util.AbstractMap.SimpleEntry;\n</code></pre>\n\n<p>Of course, as noted in other answers, in java 9 onwards you have simpler ways of doing the same.</p>\n"},{"tags":[],"owner":{"account_id":16428252,"reputation":11,"user_id":11867715,"display_name":"Balakrishna Kudikala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589049998,"creation_date":1589049998,"answer_id":61702012,"question_id":6802483,"body_markdown":"If you need to place only one key-value pair, you can use Collections.singletonMap(key, value);","title":"How to directly initialize a HashMap (in a literal way)?","body":"<p>If you need to place only one key-value pair, you can use Collections.singletonMap(key, value);</p>\n"},{"tags":[],"owner":{"account_id":16880224,"reputation":11,"user_id":12206542,"display_name":"Vishal Saraf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592720196,"creation_date":1592709942,"answer_id":62494078,"question_id":6802483,"body_markdown":"**With Java 8 or less**\r\n\r\nYou can use static block to initialize a map with some values. Example :\r\n\r\n```java    \r\npublic static Map&lt;String,String&gt; test = new HashMap&lt;String, String&gt;\r\n\r\nstatic {\r\n    test.put(&quot;test&quot;,&quot;test&quot;);\r\n    test.put(&quot;test1&quot;,&quot;test&quot;);\r\n}\r\n```\r\n\r\n**With Java 9 or more**\r\n\r\nYou can use Map.of() method to initialize a map with some values while declaring. Example :\r\n\r\n```java\r\npublic static Map&lt;String,String&gt; test = Map.of(&quot;test&quot;,&quot;test&quot;,&quot;test1&quot;,&quot;test&quot;);\r\n```\r\n\r\n","title":"How to directly initialize a HashMap (in a literal way)?","body":"<p><strong>With Java 8 or less</strong></p>\n<p>You can use static block to initialize a map with some values. Example :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Map&lt;String,String&gt; test = new HashMap&lt;String, String&gt;\n\nstatic {\n    test.put(&quot;test&quot;,&quot;test&quot;);\n    test.put(&quot;test1&quot;,&quot;test&quot;);\n}\n</code></pre>\n<p><strong>With Java 9 or more</strong></p>\n<p>You can use Map.of() method to initialize a map with some values while declaring. Example :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Map&lt;String,String&gt; test = Map.of(&quot;test&quot;,&quot;test&quot;,&quot;test1&quot;,&quot;test&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17113429,"reputation":99,"user_id":12383616,"display_name":"Alan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597652620,"creation_date":1592710481,"answer_id":62494120,"question_id":6802483,"body_markdown":"You can create a method to initialize the map like in this example below:\r\n\r\n    Map&lt;String, Integer&gt; initializeMap()\r\n    {\r\n      Map&lt;String, Integer&gt; ret = new HashMap&lt;&gt;();\r\n  \r\n      //populate ret\r\n      ...\r\n  \r\n      return ret;\r\n    }\r\n\r\n    //call\r\n    Map&lt;String, Integer&gt; map = initializeMap();\r\n\r\n","title":"How to directly initialize a HashMap (in a literal way)?","body":"<p>You can create a method to initialize the map like in this example below:</p>\n<pre><code>Map&lt;String, Integer&gt; initializeMap()\n{\n  Map&lt;String, Integer&gt; ret = new HashMap&lt;&gt;();\n\n  //populate ret\n  ...\n\n  return ret;\n}\n\n//call\nMap&lt;String, Integer&gt; map = initializeMap();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20474879,"reputation":21,"user_id":15024439,"display_name":"Sakshi Aggarwal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1610907198,"creation_date":1610905899,"answer_id":65764031,"question_id":6802483,"body_markdown":"We can use AbstractMap Class having SimpleEntry which allows the creation of immutable map\r\n    \r\n    Map&lt;String, String&gt; map5 = Stream.of(\r\n        new AbstractMap.SimpleEntry&lt;&gt;(&quot;Sakshi&quot;,&quot;java&quot;),\r\n        new AbstractMap.SimpleEntry&lt;&gt;(&quot;fine&quot;,&quot;python&quot;)\r\n        ).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\r\n        \r\n        System.out.println(map5.get(&quot;Sakshi&quot;));\r\n        map5.put(&quot;Shiva&quot;, &quot;Javascript&quot;);\r\n        System.out.println(map5.get(&quot;Shiva&quot;));// here we can add multiple entries.","title":"How to directly initialize a HashMap (in a literal way)?","body":"<p>We can use AbstractMap Class having SimpleEntry which allows the creation of immutable map</p>\n<pre><code>Map&lt;String, String&gt; map5 = Stream.of(\n    new AbstractMap.SimpleEntry&lt;&gt;(&quot;Sakshi&quot;,&quot;java&quot;),\n    new AbstractMap.SimpleEntry&lt;&gt;(&quot;fine&quot;,&quot;python&quot;)\n    ).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\n    \n    System.out.println(map5.get(&quot;Sakshi&quot;));\n    map5.put(&quot;Shiva&quot;, &quot;Javascript&quot;);\n    System.out.println(map5.get(&quot;Shiva&quot;));// here we can add multiple entries.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15662438,"reputation":958,"user_id":11301085,"display_name":"BeardOverflow"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1645079328,"creation_date":1613547728,"answer_id":66237608,"question_id":6802483,"body_markdown":"I would like to give a brief warning to Johnny Willer&#39;s answer.\r\n\r\n`Collectors.toMap` relies on `Map.merge` and **does not expect null values**, so it will throw a `NullPointerException` as it was described in this bug report: https://bugs.openjdk.java.net/browse/JDK-8148463\r\n\r\nAlso, if a key appears several times, the default `Collectors.toMap` will throw an `IllegalStateException`.\r\n\r\nAn alternative way to get a map with null values using a builder syntax on Java 8 is writing a custom collector **backed by a HashMap** (because it does allow null values):\r\n```\r\nMap&lt;String, String&gt; myMap = Stream.of(\r\n         new SimpleEntry&lt;&gt;(&quot;key1&quot;, &quot;value1&quot;),\r\n         new SimpleEntry&lt;&gt;(&quot;key2&quot;, (String) null),\r\n         new SimpleEntry&lt;&gt;(&quot;key3&quot;, &quot;value3&quot;),\r\n         new SimpleEntry&lt;&gt;(&quot;key1&quot;, &quot;value1updated&quot;))\r\n        .collect(HashMap::new,\r\n                (map, entry) -&gt; map.put(entry.getKey(),\r\n                                        entry.getValue()),\r\n                HashMap::putAll);\r\n```","title":"How to directly initialize a HashMap (in a literal way)?","body":"<p>I would like to give a brief warning to Johnny Willer's answer.</p>\n<p><code>Collectors.toMap</code> relies on <code>Map.merge</code> and <strong>does not expect null values</strong>, so it will throw a <code>NullPointerException</code> as it was described in this bug report: <a href=\"https://bugs.openjdk.java.net/browse/JDK-8148463\" rel=\"noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8148463</a></p>\n<p>Also, if a key appears several times, the default <code>Collectors.toMap</code> will throw an <code>IllegalStateException</code>.</p>\n<p>An alternative way to get a map with null values using a builder syntax on Java 8 is writing a custom collector <strong>backed by a HashMap</strong> (because it does allow null values):</p>\n<pre><code>Map&lt;String, String&gt; myMap = Stream.of(\n         new SimpleEntry&lt;&gt;(&quot;key1&quot;, &quot;value1&quot;),\n         new SimpleEntry&lt;&gt;(&quot;key2&quot;, (String) null),\n         new SimpleEntry&lt;&gt;(&quot;key3&quot;, &quot;value3&quot;),\n         new SimpleEntry&lt;&gt;(&quot;key1&quot;, &quot;value1updated&quot;))\n        .collect(HashMap::new,\n                (map, entry) -&gt; map.put(entry.getKey(),\n                                        entry.getValue()),\n                HashMap::putAll);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5843610,"reputation":325,"user_id":4604360,"display_name":"nurb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615528703,"creation_date":1615436606,"answer_id":66576454,"question_id":6802483,"body_markdown":"Following code can do the trick in Java 8:\r\n\r\n    Map&lt;String, Integer&gt; map = Stream.of(new Object[][] { \r\n         { &quot;data1&quot;, 1 }, \r\n         { &quot;data2&quot;, 2 }, \r\n     }).collect(Collectors.toMap(data -&gt; (String) data[0], data -&gt; (Integer) data[1]));\r\n\r\n[credits][1]: \r\n\r\n\r\n  [1]: https://www.baeldung.com/java-initialize-hashmap","title":"How to directly initialize a HashMap (in a literal way)?","body":"<p>Following code can do the trick in Java 8:</p>\n<pre><code>Map&lt;String, Integer&gt; map = Stream.of(new Object[][] { \n     { &quot;data1&quot;, 1 }, \n     { &quot;data2&quot;, 2 }, \n }).collect(Collectors.toMap(data -&gt; (String) data[0], data -&gt; (Integer) data[1]));\n</code></pre>\n<p><a href=\"https://www.baeldung.com/java-initialize-hashmap\" rel=\"nofollow noreferrer\">credits</a>:</p>\n"},{"tags":[],"owner":{"account_id":11366664,"reputation":386,"user_id":8333400,"display_name":"Milton Bertachini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619391523,"creation_date":1619391523,"answer_id":67259000,"question_id":6802483,"body_markdown":"    \r\nSimple way to do this:\r\n\r\n\r\n\r\n    public static Map&lt;String, String&gt; mapWithValues(String...values) {\r\n\t\tMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n\t\t\r\n\t\tfor (int x = 0; x &lt; values.length; x = x+2) {\r\n\t\t\tmap.put(values[x], values[x+1]);\r\n\t\t}\r\n\t\t\r\n\t\treturn map;\r\n\t}","title":"How to directly initialize a HashMap (in a literal way)?","body":"<p>Simple way to do this:</p>\n<pre><code>public static Map&lt;String, String&gt; mapWithValues(String...values) {\n    Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n    \n    for (int x = 0; x &lt; values.length; x = x+2) {\n        map.put(values[x], values[x+1]);\n    }\n    \n    return map;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":981769,"reputation":282,"user_id":1001314,"display_name":"esotericpig"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620837613,"creation_date":1620817436,"answer_id":67502386,"question_id":6802483,"body_markdown":"If it&#39;s an instance variable, then an instance initialization block is definitely the way to go, especially if you can&#39;t use `Map.of()` because you need a different type of map.\r\n\r\nBut if you&#39;re feeling frisky, you could use a Java 8 `Supplier` (not recommended).\r\n\r\n```java\r\nprivate final Map&lt;String,Runnable&gt; games = ((Supplier&lt;Map&lt;String,Runnable&gt;&gt;)() -&gt; {\r\n  Map&lt;String,Runnable&gt; map = new LinkedHashMap&lt;&gt;();\r\n\r\n  map.put(&quot;solarus&quot;,this::playSolarus);\r\n  map.put(&quot;lichess&quot;,this::playLichess);\r\n\r\n  return map;\r\n}).get();\r\n```\r\n\r\nOr make your own functional interface (looks fine to me):\r\n\r\n```java\r\n@FunctionalInterface\r\npublic interface MapMaker&lt;M&gt; {\r\n  static &lt;M extends Map&lt;K,V&gt;,K,V&gt; M make(M map,MapMaker&lt;M&gt; maker) {\r\n    maker.build(map);\r\n    return map;\r\n  }\r\n\r\n  void build(M map);\r\n}\r\n\r\n// Can use LinkedHashMap!\r\nprivate final Map&lt;String,Runnable&gt; games = MapMaker.make(\r\n    new LinkedHashMap&lt;&gt;(),(map) -&gt; {\r\n      map.put(&quot;solarus&quot;,this::playSolarus);\r\n      map.put(&quot;lichess&quot;,this::playLichess);\r\n    });\r\n```","title":"How to directly initialize a HashMap (in a literal way)?","body":"<p>If it's an instance variable, then an instance initialization block is definitely the way to go, especially if you can't use <code>Map.of()</code> because you need a different type of map.</p>\n<p>But if you're feeling frisky, you could use a Java 8 <code>Supplier</code> (not recommended).</p>\n<pre class=\"lang-java prettyprint-override\"><code>private final Map&lt;String,Runnable&gt; games = ((Supplier&lt;Map&lt;String,Runnable&gt;&gt;)() -&gt; {\n  Map&lt;String,Runnable&gt; map = new LinkedHashMap&lt;&gt;();\n\n  map.put(&quot;solarus&quot;,this::playSolarus);\n  map.put(&quot;lichess&quot;,this::playLichess);\n\n  return map;\n}).get();\n</code></pre>\n<p>Or make your own functional interface (looks fine to me):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FunctionalInterface\npublic interface MapMaker&lt;M&gt; {\n  static &lt;M extends Map&lt;K,V&gt;,K,V&gt; M make(M map,MapMaker&lt;M&gt; maker) {\n    maker.build(map);\n    return map;\n  }\n\n  void build(M map);\n}\n\n// Can use LinkedHashMap!\nprivate final Map&lt;String,Runnable&gt; games = MapMaker.make(\n    new LinkedHashMap&lt;&gt;(),(map) -&gt; {\n      map.put(&quot;solarus&quot;,this::playSolarus);\n      map.put(&quot;lichess&quot;,this::playLichess);\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22325547,"reputation":199,"user_id":16547619,"display_name":"user16547619"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629963494,"creation_date":1629959649,"answer_id":68933592,"question_id":6802483,"body_markdown":"```Map.of()``` seems most universal and least limited. Here, it takes care of non object input values automaticaly :\r\n\r\n```\r\nList&lt;Map&lt;String, Object&gt; certs = new ArrayList&lt;&gt;(){{ add( Map.of(\r\n\t&quot;TAG&quot;, \t\t\tObj1 // Object\r\n\t&quot;TAGGED_ID&quot;,\t1L //Long\r\n\t&quot;DEGREE&quot;,\t\t&quot;PARENT&quot; // String\r\n    &quot;DATE&quot;,         LocalDate.now() // LocalDate\r\n));}};\r\n```\r\n\r\nNote that maps created by static ```Map.of(..)``` constuctor don&#39;t allow neither keys nor values to be ```null ```.","title":"How to directly initialize a HashMap (in a literal way)?","body":"<p><code>Map.of()</code> seems most universal and least limited. Here, it takes care of non object input values automaticaly :</p>\n<pre><code>List&lt;Map&lt;String, Object&gt; certs = new ArrayList&lt;&gt;(){{ add( Map.of(\n    &quot;TAG&quot;,          Obj1 // Object\n    &quot;TAGGED_ID&quot;,    1L //Long\n    &quot;DEGREE&quot;,       &quot;PARENT&quot; // String\n    &quot;DATE&quot;,         LocalDate.now() // LocalDate\n));}};\n</code></pre>\n<p>Note that maps created by static <code>Map.of(..)</code> constuctor don't allow neither keys nor values to be <code>null </code>.</p>\n"},{"tags":[],"owner":{"account_id":23180671,"reputation":31,"user_id":17278537,"display_name":"Gerrit Schulz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635502600,"creation_date":1635499139,"answer_id":69766425,"question_id":6802483,"body_markdown":"We use a simple utility class to initialize Maps in a fluent way:\r\n\r\n    Map&lt;String, String&gt; map = MapInit\r\n\t\t.init(&quot;key1&quot;, &quot;value1&quot;)\r\n\t\t.put(&quot;key2&quot;, &quot;value2&quot;)\r\n\t\t.put(&quot;key3&quot;, &quot;value3&quot;)\r\n\t\t.getMap();\r\n\r\nThe utility class isn&#39;t limited neither regarding the type of keys and values nor regarding the amount of entries nor regarding the type of the resulting Map.\r\n\r\nThe utility class looks like the following:\r\n\r\n    public class MapInit&lt;K, V, T extends Map&lt;K, V&gt;&gt; {\r\n\t\tprivate final T map;\r\n\t\r\n\t\r\n\t\tprivate MapInit(final T map) {\r\n\t\t\tthis.map = map;\r\n\t\t}\r\n\t\r\n\t\tpublic T getMap() {\r\n\t\t\treturn this.map;\r\n\t\t}\r\n\t\r\n\t\tpublic static &lt;K, V&gt; MapInit&lt;K, V, HashMap&lt;K, V&gt;&gt; init(final K key, final V value) {\r\n\t\t\treturn init(HashMap::new, key, value);\r\n\t\t}\r\n\t\r\n\t\tpublic static &lt;K, V, T extends Map&lt;K, V&gt;&gt; MapInit&lt;K, V, T&gt; init(final Supplier&lt;T&gt; mapSupplier, final K key, final V value) {\r\n\t\t\treturn new MapInit&lt;&gt;(mapSupplier.get()) //\r\n\t\t\t\t\t.put(key, value);\r\n\t\t}\r\n\t\r\n\t\tpublic MapInit&lt;K, V, T&gt; put(final K key, final V value) {\r\n\t\t\tthis.map.put(key, value);\r\n\t\t\treturn this;\r\n\t\t}\r\n\t}\r\n\r\n","title":"How to directly initialize a HashMap (in a literal way)?","body":"<p>We use a simple utility class to initialize Maps in a fluent way:</p>\n<pre><code>Map&lt;String, String&gt; map = MapInit\n    .init(&quot;key1&quot;, &quot;value1&quot;)\n    .put(&quot;key2&quot;, &quot;value2&quot;)\n    .put(&quot;key3&quot;, &quot;value3&quot;)\n    .getMap();\n</code></pre>\n<p>The utility class isn't limited neither regarding the type of keys and values nor regarding the amount of entries nor regarding the type of the resulting Map.</p>\n<p>The utility class looks like the following:</p>\n<pre><code>public class MapInit&lt;K, V, T extends Map&lt;K, V&gt;&gt; {\n    private final T map;\n\n\n    private MapInit(final T map) {\n        this.map = map;\n    }\n\n    public T getMap() {\n        return this.map;\n    }\n\n    public static &lt;K, V&gt; MapInit&lt;K, V, HashMap&lt;K, V&gt;&gt; init(final K key, final V value) {\n        return init(HashMap::new, key, value);\n    }\n\n    public static &lt;K, V, T extends Map&lt;K, V&gt;&gt; MapInit&lt;K, V, T&gt; init(final Supplier&lt;T&gt; mapSupplier, final K key, final V value) {\n        return new MapInit&lt;&gt;(mapSupplier.get()) //\n                .put(key, value);\n    }\n\n    public MapInit&lt;K, V, T&gt; put(final K key, final V value) {\n        this.map.put(key, value);\n        return this;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6983262,"reputation":2982,"user_id":5355272,"accept_rate":25,"display_name":"avp"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1643745836,"creation_date":1643745323,"answer_id":70946743,"question_id":6802483,"body_markdown":"I found [a great article by baeldung][1] that lists several ways to do this in different Java versions.\r\n\r\nA couple of interesting ways that can be handy are\r\n\r\n**For any Java version**\r\n\r\n```\r\npublic static Map&lt;String, String&gt; articleMapOne;\r\nstatic {\r\n    articleMapOne = new HashMap&lt;&gt;();\r\n    articleMapOne.put(&quot;ar01&quot;, &quot;Intro to Map&quot;);\r\n    articleMapOne.put(&quot;ar02&quot;, &quot;Some article&quot;);\r\n}\r\n```\r\n \r\n**For Java 8 using streams**\r\n```\r\nMap&lt;String, String&gt; map = Stream.of(new String[][] {\r\n  { &quot;Hello&quot;, &quot;World&quot; }, \r\n  { &quot;John&quot;, &quot;Doe&quot; }, \r\n}).collect(Collectors.toMap(data -&gt; data[0], data -&gt; data[1]));\r\n```\r\n\r\n [1]: https://www.baeldung.com/java-initialize-hashmap","title":"How to directly initialize a HashMap (in a literal way)?","body":"<p>I found <a href=\"https://www.baeldung.com/java-initialize-hashmap\" rel=\"nofollow noreferrer\">a great article by baeldung</a> that lists several ways to do this in different Java versions.</p>\n<p>A couple of interesting ways that can be handy are</p>\n<p><strong>For any Java version</strong></p>\n<pre><code>public static Map&lt;String, String&gt; articleMapOne;\nstatic {\n    articleMapOne = new HashMap&lt;&gt;();\n    articleMapOne.put(&quot;ar01&quot;, &quot;Intro to Map&quot;);\n    articleMapOne.put(&quot;ar02&quot;, &quot;Some article&quot;);\n}\n</code></pre>\n<p><strong>For Java 8 using streams</strong></p>\n<pre><code>Map&lt;String, String&gt; map = Stream.of(new String[][] {\n  { &quot;Hello&quot;, &quot;World&quot; }, \n  { &quot;John&quot;, &quot;Doe&quot; }, \n}).collect(Collectors.toMap(data -&gt; data[0], data -&gt; data[1]));\n</code></pre>\n"}],"owner":{"account_id":317806,"reputation":16745,"user_id":634682,"accept_rate":85,"display_name":"jens"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1885206,"favorite_count":0,"down_vote_count":5,"up_vote_count":1607,"accepted_answer_id":6802502,"answer_count":22,"score":1602,"last_activity_date":1692747211,"creation_date":1311446433,"question_id":6802483,"body_markdown":"Is there some way of initializing a Java HashMap like this?:\r\n\r\n    Map&lt;String,String&gt; test = \r\n        new HashMap&lt;String, String&gt;{&quot;test&quot;:&quot;test&quot;,&quot;test&quot;:&quot;test&quot;};\r\n\r\nWhat would be the correct syntax? I have not found anything regarding this. Is this possible? I am looking for the shortest/fastest way to put some &quot;final/static&quot; values in a map that never change and are known in advance when creating the Map.","title":"How to directly initialize a HashMap (in a literal way)?","body":"<p>Is there some way of initializing a Java HashMap like this?:</p>\n\n<pre><code>Map&lt;String,String&gt; test = \n    new HashMap&lt;String, String&gt;{\"test\":\"test\",\"test\":\"test\"};\n</code></pre>\n\n<p>What would be the correct syntax? I have not found anything regarding this. Is this possible? I am looking for the shortest/fastest way to put some \"final/static\" values in a map that never change and are known in advance when creating the Map.</p>\n"},{"tags":["java","memory","jvm","garbage-collection","micronaut"],"owner":{"account_id":8707851,"reputation":717,"user_id":6515166,"accept_rate":85,"display_name":"Mssm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692745380,"creation_date":1692745380,"question_id":76957307,"body_markdown":"I have a simple Micronaut microservice which support POST/GET/PUT and DELETE for a simple Contact entity. It operates with\r\n\r\n - MongoDB (Atlas)\r\n - Redis (Aiven)\r\n - ElasticSearch (https://www.elastic.co/)\r\n\r\nI&#39;ve created a Docker image of the microservice using this base image:\r\n\r\n    FROM alpine:latest\r\n    FROM openjdk:17-alpine\r\n    RUN apk --no-cache add curl\r\n    RUN apk --no-cache add bash\r\n\r\nAnd using the jib-maven-plugin:\r\n\r\n    &lt;plugin&gt;\r\n         &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n         &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\r\n         &lt;configuration&gt;\r\n              &lt;from&gt;\r\n                   &lt;image&gt;base-image-from-docker-hub&lt;/image&gt;\r\n              &lt;/from&gt;\r\n         &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nThe microservice is deployed and exposed successfully using an Ingress and K8S Nginx Ingress-Controller and the API is successfully functioning. \r\n\r\nHowever, there&#39;s a significant latency change, the first call takes 2.8s in average and the subsequent calls take less than half a second.\r\n\r\nI tried to run the microservice locally and analyzed the JVM Process using a Profiler and I noticed that the process starts with a Non-Heap memory of 68mb and when calling the POST endpoint for the first time, it increases to 120mb. I concluded that there are some classes loaded upon receiving the first request.\r\n\r\nIs there a way to instruct Micronaut to have a ready-to-operate service right after the startup (loading all necessary resources) ? \r\nI don&#39;t mind waiting a couple of seconds before the service is ready to process requests with the lowest possible latency even when receiving the very first request.\r\n\r\nI&#39;ve thought about a Fake API Call On-Statup which warmups the service, but can I ensure that the JVM won&#39;t GC the resources and bringing the service back to same point it was in the beginning if it doesn&#39;t receive any request for a certain period ?","title":"Load and keep Micronaut required resources on startup","body":"<p>I have a simple Micronaut microservice which support POST/GET/PUT and DELETE for a simple Contact entity. It operates with</p>\n<ul>\n<li>MongoDB (Atlas)</li>\n<li>Redis (Aiven)</li>\n<li>ElasticSearch (<a href=\"https://www.elastic.co/\" rel=\"nofollow noreferrer\">https://www.elastic.co/</a>)</li>\n</ul>\n<p>I've created a Docker image of the microservice using this base image:</p>\n<pre><code>FROM alpine:latest\nFROM openjdk:17-alpine\nRUN apk --no-cache add curl\nRUN apk --no-cache add bash\n</code></pre>\n<p>And using the jib-maven-plugin:</p>\n<pre><code>&lt;plugin&gt;\n     &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n     &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\n     &lt;configuration&gt;\n          &lt;from&gt;\n               &lt;image&gt;base-image-from-docker-hub&lt;/image&gt;\n          &lt;/from&gt;\n     &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>The microservice is deployed and exposed successfully using an Ingress and K8S Nginx Ingress-Controller and the API is successfully functioning.</p>\n<p>However, there's a significant latency change, the first call takes 2.8s in average and the subsequent calls take less than half a second.</p>\n<p>I tried to run the microservice locally and analyzed the JVM Process using a Profiler and I noticed that the process starts with a Non-Heap memory of 68mb and when calling the POST endpoint for the first time, it increases to 120mb. I concluded that there are some classes loaded upon receiving the first request.</p>\n<p>Is there a way to instruct Micronaut to have a ready-to-operate service right after the startup (loading all necessary resources) ?\nI don't mind waiting a couple of seconds before the service is ready to process requests with the lowest possible latency even when receiving the very first request.</p>\n<p>I've thought about a Fake API Call On-Statup which warmups the service, but can I ensure that the JVM won't GC the resources and bringing the service back to same point it was in the beginning if it doesn't receive any request for a certain period ?</p>\n"},{"tags":["java","hibernate","orm","low-latency"],"answers":[{"tags":[],"owner":{"account_id":4979623,"reputation":3944,"user_id":4005008,"display_name":"przemek hertel"},"down_vote_count":0,"up_vote_count":55,"is_accepted":true,"score":55,"last_activity_date":1687490265,"creation_date":1420299628,"answer_id":27756507,"question_id":27755461,"body_markdown":"Generally, setting `batch size` to reasonable size and `order_insert`, `order_updates` to `true` can significantly improve performance.\r\n\r\nIn all my projects, I use this configuration as basis:\r\n\r\n    hibernate.jdbc.batch_size = 100\r\n    hibernate.order_inserts   = true \r\n    hibernate.order_updates   = true\r\n    hibernate.jdbc.fetch_size = 400\r\n\r\nBut, **yes** - there can be **memory impact** when using batching. But this depends on jdbc driver.\r\n\r\nFor example, Oracle JDBC driver creates internal buffers for each `PreparedStatement` and reuses these buffers. If you call simple update statement you set some parameters with `ps.setInt(1, ...)`, `ps.setString(2, ...)` etc, and Oracle converts this values to some byte representation and stores in buffer associated with this `PreparedStatement` and connection.\r\n\r\nHowever, when your `PreparedStatement` uses batch of size 100, this buffer will be 100 times larger. And if you have some connection pool with for exapmle 50 connections there can be 50 such big buffers. And if you have 100 different statements using batching all such buffers can have significant memory impact. When you enable batch size, it becomes global setting - Hibernate will use it for all insert/updates.\r\n\r\nHowever, I found that in all my projects performance gain was more important that this memory impact and that is why I use `batchsize=100` as my default.\r\n\r\nWith `order_inserts`, `order_updates`, I think that these are disabled by default, because these settings make sense only when batching is on. With batching set off, these ordering is simply overhead.\r\n\r\nYou can find more info in Oracle&#39;s white paper:\r\n\r\nhttp://www.oracle.com/technetwork/topics/memory.pdf\r\n\r\nin section *&quot;Statement Batching and Memory Use&quot;*.\r\n\r\n==== EDIT 2016.05.31 ====\r\n\r\nA word about `order_inserts` and `order_udpates` property.\r\nLet&#39;s say we have entities `A`, `B` and persist 6 objects this way:\r\n\r\n    session.save(A1);  // added to action queue\r\n    session.save(B1);  // added to action queue\r\n    session.save(A2);  // ...\r\n    session.save(B2);  // ...\r\n    session.save(A3);  // ...\r\n    session.save(B3);  // ...\r\n\r\nafter above execution:\r\n\r\n - these 6 objects has identifiers generated \r\n - these 6 objects are connected to session (StatefulPersistenceContext: entitiesByKey, entityEntries, etc. /Hib.v3/) \r\n - these 6 objects are added to ActionQueue in the same order: [A1, B1, A2, B2, A3, B3]\r\n\r\n\r\nNow, consider 2 cases:\r\n\r\n**case 1:** `order_inserts = false`\r\n\r\nduring flush phase, hibernate performs **6 insert** statements:\r\n\r\n    ActionQueue = [A1, B1, A2, B2, A3, B3]\r\n    insert into A - (A1)\r\n    insert into B - (B1)\r\n    insert into A - (A2)\r\n    insert into B - (B2)\r\n    insert into A - (A3)\r\n    insert into B - (B3)\r\n\r\n**case 2:** `order_inserts = true`, batching allowed\r\n\r\nnow, during flush phase, hibernate performs **2 batch insert** statements:\r\n\r\n    ActionQueue = [A1, A2, A3, B1, B2, B3]\r\n    insert into A -  (A1, A2, A3)\r\n    insert into B -  (B1, B2, B3)\r\n\r\n\r\nI investigated this for Hibernate v3, I think Hibernate v4 uses ActionQueue in the same way.\r\n","title":"Why is hibernate batching / order_inserts / order_updates disabled by default?","body":"<p>Generally, setting <code>batch size</code> to reasonable size and <code>order_insert</code>, <code>order_updates</code> to <code>true</code> can significantly improve performance.</p>\n<p>In all my projects, I use this configuration as basis:</p>\n<pre><code>hibernate.jdbc.batch_size = 100\nhibernate.order_inserts   = true \nhibernate.order_updates   = true\nhibernate.jdbc.fetch_size = 400\n</code></pre>\n<p>But, <strong>yes</strong> - there can be <strong>memory impact</strong> when using batching. But this depends on jdbc driver.</p>\n<p>For example, Oracle JDBC driver creates internal buffers for each <code>PreparedStatement</code> and reuses these buffers. If you call simple update statement you set some parameters with <code>ps.setInt(1, ...)</code>, <code>ps.setString(2, ...)</code> etc, and Oracle converts this values to some byte representation and stores in buffer associated with this <code>PreparedStatement</code> and connection.</p>\n<p>However, when your <code>PreparedStatement</code> uses batch of size 100, this buffer will be 100 times larger. And if you have some connection pool with for exapmle 50 connections there can be 50 such big buffers. And if you have 100 different statements using batching all such buffers can have significant memory impact. When you enable batch size, it becomes global setting - Hibernate will use it for all insert/updates.</p>\n<p>However, I found that in all my projects performance gain was more important that this memory impact and that is why I use <code>batchsize=100</code> as my default.</p>\n<p>With <code>order_inserts</code>, <code>order_updates</code>, I think that these are disabled by default, because these settings make sense only when batching is on. With batching set off, these ordering is simply overhead.</p>\n<p>You can find more info in Oracle's white paper:</p>\n<p><a href=\"http://www.oracle.com/technetwork/topics/memory.pdf\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/topics/memory.pdf</a></p>\n<p>in section <em>&quot;Statement Batching and Memory Use&quot;</em>.</p>\n<p>==== EDIT 2016.05.31 ====</p>\n<p>A word about <code>order_inserts</code> and <code>order_udpates</code> property.\nLet's say we have entities <code>A</code>, <code>B</code> and persist 6 objects this way:</p>\n<pre><code>session.save(A1);  // added to action queue\nsession.save(B1);  // added to action queue\nsession.save(A2);  // ...\nsession.save(B2);  // ...\nsession.save(A3);  // ...\nsession.save(B3);  // ...\n</code></pre>\n<p>after above execution:</p>\n<ul>\n<li>these 6 objects has identifiers generated</li>\n<li>these 6 objects are connected to session (StatefulPersistenceContext: entitiesByKey, entityEntries, etc. /Hib.v3/)</li>\n<li>these 6 objects are added to ActionQueue in the same order: [A1, B1, A2, B2, A3, B3]</li>\n</ul>\n<p>Now, consider 2 cases:</p>\n<p><strong>case 1:</strong> <code>order_inserts = false</code></p>\n<p>during flush phase, hibernate performs <strong>6 insert</strong> statements:</p>\n<pre><code>ActionQueue = [A1, B1, A2, B2, A3, B3]\ninsert into A - (A1)\ninsert into B - (B1)\ninsert into A - (A2)\ninsert into B - (B2)\ninsert into A - (A3)\ninsert into B - (B3)\n</code></pre>\n<p><strong>case 2:</strong> <code>order_inserts = true</code>, batching allowed</p>\n<p>now, during flush phase, hibernate performs <strong>2 batch insert</strong> statements:</p>\n<pre><code>ActionQueue = [A1, A2, A3, B1, B2, B3]\ninsert into A -  (A1, A2, A3)\ninsert into B -  (B1, B2, B3)\n</code></pre>\n<p>I investigated this for Hibernate v3, I think Hibernate v4 uses ActionQueue in the same way.</p>\n"},{"tags":[],"owner":{"account_id":465553,"reputation":4562,"user_id":869702,"accept_rate":40,"display_name":"Jason White"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1692744474,"creation_date":1478116868,"answer_id":40388745,"question_id":27755461,"body_markdown":"The documentation here: https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#batch\r\n\r\nsays there may be a performance penalty for using these properties.  I would assume this is the reason they are not set by default.","title":"Why is hibernate batching / order_inserts / order_updates disabled by default?","body":"<p>The documentation here: <a href=\"https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#batch\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#batch</a></p>\n<p>says there may be a performance penalty for using these properties.  I would assume this is the reason they are not set by default.</p>\n"}],"owner":{"account_id":5568846,"reputation":323,"user_id":4415010,"display_name":"fbe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24780,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":27756507,"answer_count":2,"score":32,"last_activity_date":1692744474,"creation_date":1420292296,"question_id":27755461,"body_markdown":"Are there any reasons why hibernate batching / hibernate.order_updates / hibernate.order_inserts are disabled by default? Is there any disadvantage when you enable a batch size of 50? Same for the order_updates / order_inserts parameters. Is there a use case where you shouldn&#39;t enable these features? Are there any performance impacts when using these features?\r\n\r\nI can only see that these settings help a lot when I need to reduce my query count which is necessary especially in a cloud environment with high latencies between my application and database server.","title":"Why is hibernate batching / order_inserts / order_updates disabled by default?","body":"<p>Are there any reasons why hibernate batching / hibernate.order_updates / hibernate.order_inserts are disabled by default? Is there any disadvantage when you enable a batch size of 50? Same for the order_updates / order_inserts parameters. Is there a use case where you shouldn't enable these features? Are there any performance impacts when using these features?</p>\n<p>I can only see that these settings help a lot when I need to reduce my query count which is necessary especially in a cloud environment with high latencies between my application and database server.</p>\n"},{"tags":["java","cassandra","driver"],"answers":[{"tags":[],"owner":{"account_id":467882,"reputation":8742,"user_id":873530,"display_name":"doanduyhai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1453331721,"creation_date":1453331721,"answer_id":34912483,"question_id":34912159,"body_markdown":"&gt; It looks they put enum, codecs and DAO model in the same file\r\n\r\n It&#39;s just a code example. In a real project those 3 code blocs are put it different files\r\n\r\n When you create the `Cluster` object, you can register a codec registry (create one with `new CodecRegistry`). This codec registry will be in charge of converting **non-native** types (like Java enums) into supported CQL Java types. \r\n\r\n By registering `new EnumOrdinalCodec&lt;Foo&gt;(Foo.class)` for example, you can use the enum `Foo` in any Java bean (even inside collections like list&amp;lt;Foo&amp;gt;) and the object mapper will autodetect that there is a codec to convert the enum `Foo` into a CQL integer","title":"Cassandra Java driver 3 EnumNameCodec","body":"<blockquote>\n  <p>It looks they put enum, codecs and DAO model in the same file</p>\n</blockquote>\n\n<p>It's just a code example. In a real project those 3 code blocs are put it different files</p>\n\n<p>When you create the <code>Cluster</code> object, you can register a codec registry (create one with <code>new CodecRegistry</code>). This codec registry will be in charge of converting <strong>non-native</strong> types (like Java enums) into supported CQL Java types. </p>\n\n<p>By registering <code>new EnumOrdinalCodec&lt;Foo&gt;(Foo.class)</code> for example, you can use the enum <code>Foo</code> in any Java bean (even inside collections like list&lt;Foo&gt;) and the object mapper will autodetect that there is a codec to convert the enum <code>Foo</code> into a CQL integer</p>\n"},{"tags":[],"owner":{"account_id":467882,"reputation":8742,"user_id":873530,"display_name":"doanduyhai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453367885,"creation_date":1453367885,"answer_id":34919575,"question_id":34912159,"body_markdown":"Example of code to register a custom codec (taken from the driver doc):\r\n\r\n\r\n    Cluster cluster = Cluster.builder()..... ;  //Create the cluster singleton somewhere\r\n    \r\n    // Create the enum codec\r\n    EnumOrdinalCodec&lt;Foo&gt; myEnumCodec = new EnumOrdinalCodec&lt;Foo&gt;(Foo.class)\r\n    \r\n    // Retrieve the codec registry from the cluster configuration\r\n    // IF you didn&#39;t configure any codec registry, a default empty codec registry\r\n    // will be returned\r\n    CodecRegistry myCodecRegistry = cluster.getConfiguration().getCodecRegistry();\r\n    \r\n    // Register your codec here\r\n    myCodecRegistry.register(myEnumCodec);","title":"Cassandra Java driver 3 EnumNameCodec","body":"<p>Example of code to register a custom codec (taken from the driver doc):</p>\n\n<pre><code>Cluster cluster = Cluster.builder()..... ;  //Create the cluster singleton somewhere\n\n// Create the enum codec\nEnumOrdinalCodec&lt;Foo&gt; myEnumCodec = new EnumOrdinalCodec&lt;Foo&gt;(Foo.class)\n\n// Retrieve the codec registry from the cluster configuration\n// IF you didn't configure any codec registry, a default empty codec registry\n// will be returned\nCodecRegistry myCodecRegistry = cluster.getConfiguration().getCodecRegistry();\n\n// Register your codec here\nmyCodecRegistry.register(myEnumCodec);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8277050,"reputation":1350,"user_id":6222876,"display_name":"Sergey Okatov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554365054,"creation_date":1554365054,"answer_id":55510807,"question_id":34912159,"body_markdown":"In order to avoid registration of all your codecs in cluster object and localize their usage only in DAO models I would propose the following way (kotlin):\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    class MyEnumCodec: EnumNameCodec&lt;MyEnum&gt;(MyEnum::class.java)\r\n\r\n    data class MyData(\r\n\r\n        @ClusteringColumn(0)\r\n        var id: String,\r\n\r\n        @Column(name = &quot;my_enum&quot;, codec = MyEnumCodec::class)\r\n        var myEnum: MyEnum? = null\r\n    )","title":"Cassandra Java driver 3 EnumNameCodec","body":"<p>In order to avoid registration of all your codecs in cluster object and localize their usage only in DAO models I would propose the following way (kotlin):</p>\n\n<pre><code>class MyEnumCodec: EnumNameCodec&lt;MyEnum&gt;(MyEnum::class.java)\n\ndata class MyData(\n\n    @ClusteringColumn(0)\n    var id: String,\n\n    @Column(name = \"my_enum\", codec = MyEnumCodec::class)\n    var myEnum: MyEnum? = null\n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4357910,"reputation":1,"user_id":3555939,"display_name":"pashnyov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692744359,"creation_date":1692454215,"answer_id":76935518,"question_id":34912159,"body_markdown":"I&#39;ve registered type codec for enum `EnumNameCodec` like this in quarkus app:\r\n\r\n```\r\n@ApplicationScoped\r\npublic class AppLifecycleBeanCodecRegistration {\r\n\r\n  @Inject\r\n  CqlSession session;\r\n\r\n  // to check db before start (CassandraClientStarter) - quarkus.cassandra.init.eager-init=true\r\n  void onStart(@Observes @Priority(Priorities.AUTHORIZATION - 10) StartupEvent ev) {\r\n    TypeCodec&lt;User.Role&gt; myEnumCodec = new EnumNameCodec&lt;&gt;(User.Role.class);\r\n\r\n    MutableCodecRegistry registry = (MutableCodecRegistry) session.getContext().getCodecRegistry();\r\n    registry.register(myEnumCodec);\r\n  }\r\n}\r\n```","title":"Cassandra Java driver 3 EnumNameCodec","body":"<p>I've registered type codec for enum <code>EnumNameCodec</code> like this in quarkus app:</p>\n<pre><code>@ApplicationScoped\npublic class AppLifecycleBeanCodecRegistration {\n\n  @Inject\n  CqlSession session;\n\n  // to check db before start (CassandraClientStarter) - quarkus.cassandra.init.eager-init=true\n  void onStart(@Observes @Priority(Priorities.AUTHORIZATION - 10) StartupEvent ev) {\n    TypeCodec&lt;User.Role&gt; myEnumCodec = new EnumNameCodec&lt;&gt;(User.Role.class);\n\n    MutableCodecRegistry registry = (MutableCodecRegistry) session.getContext().getCodecRegistry();\n    registry.register(myEnumCodec);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":5266311,"reputation":49,"user_id":4206152,"display_name":"Gwenael Cholet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1754,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1692744359,"creation_date":1453330170,"question_id":34912159,"body_markdown":"I am migrating from Cassandra 2.1 to v3 and so using new Java Driver v3.\r\nA change has been made about @Enumerated(EnumType.STRING) or ORDINAL which has been swapped by driver-extras module EnumOrdinalCodec and EnumNameCodec.\r\n\r\nIn my project I have it:\r\n\r\n    @Column(name = &quot;myColumn&quot;)\r\n        @Enumerated(EnumType.STRING)\r\n        private myEnum         currentMyEnum         ;\r\n\r\nI look up for some example about how to use them but did not really understand how they work.\r\nThe main info I found was that example:\r\n\r\n    enum Foo {...}\r\n    enum Bar {...}\r\n\r\n    // register the appropriate codecs\r\n    CodecRegistry.DEFAULT_INSTANCE\r\n        .register(new EnumOrdinalCodec&lt;Foo&gt;(Foo.class))\r\n        .register(new EnumNameCodec&lt;Bar&gt;(Bar.class))\r\n\r\n    // the following mappings are handled out-of-the-box\r\n    @Table\r\n    public class MyPojo {\r\n        private Foo foo;\r\n        private List&lt;Bar&gt; bars;\r\n        ...\r\n    }\r\n\r\nWhich is not clear to me. It looks they put enum, codecs and DAO model in the same file. Within my project the enum and DAO model are in file different and when I try to put the &quot;CodecRegistry.DEFAULT_INSTANCE.register(new EnumOrdinalCodec&lt;myEnum&gt;(myEnum.class))&quot; in etheir the enum or DAO file I get error from IDE Eclipse.\r\n\r\nIf some one could help me about how to chnage @Enumerated(EnumType.STRING) to use EnumNameCodec thanks in advance.","title":"Cassandra Java driver 3 EnumNameCodec","body":"<p>I am migrating from Cassandra 2.1 to v3 and so using new Java Driver v3.\nA change has been made about @Enumerated(EnumType.STRING) or ORDINAL which has been swapped by driver-extras module EnumOrdinalCodec and EnumNameCodec.</p>\n\n<p>In my project I have it:</p>\n\n<pre><code>@Column(name = \"myColumn\")\n    @Enumerated(EnumType.STRING)\n    private myEnum         currentMyEnum         ;\n</code></pre>\n\n<p>I look up for some example about how to use them but did not really understand how they work.\nThe main info I found was that example:</p>\n\n<pre><code>enum Foo {...}\nenum Bar {...}\n\n// register the appropriate codecs\nCodecRegistry.DEFAULT_INSTANCE\n    .register(new EnumOrdinalCodec&lt;Foo&gt;(Foo.class))\n    .register(new EnumNameCodec&lt;Bar&gt;(Bar.class))\n\n// the following mappings are handled out-of-the-box\n@Table\npublic class MyPojo {\n    private Foo foo;\n    private List&lt;Bar&gt; bars;\n    ...\n}\n</code></pre>\n\n<p>Which is not clear to me. It looks they put enum, codecs and DAO model in the same file. Within my project the enum and DAO model are in file different and when I try to put the \"CodecRegistry.DEFAULT_INSTANCE.register(new EnumOrdinalCodec(myEnum.class))\" in etheir the enum or DAO file I get error from IDE Eclipse.</p>\n\n<p>If some one could help me about how to chnage @Enumerated(EnumType.STRING) to use EnumNameCodec thanks in advance.</p>\n"},{"tags":["java","angular","spring-boot","jwt","cors"],"comments":[{"owner":{"account_id":2654026,"reputation":4819,"user_id":2295103,"display_name":"MikeOne"},"score":0,"creation_date":1692716716,"post_id":76954507,"comment_id":135660757,"body_markdown":"The preflight IS probably your issue - or at least part of it. Can your server handle an OPTIONS request and does it reply with a non-error response? Also, do you need credentials? If not, disable that cors rule as it will make stuff a lot stricter.","body":"The preflight IS probably your issue - or at least part of it. Can your server handle an OPTIONS request and does it reply with a non-error response? Also, do you need credentials? If not, disable that cors rule as it will make stuff a lot stricter."},{"owner":{"account_id":17186111,"reputation":359,"user_id":12440701,"display_name":"Doncarlito87"},"score":0,"creation_date":1692717217,"post_id":76954507,"comment_id":135660887,"body_markdown":"Also when I started Local my app then I don&#39;t have this problem. Since it had with Attempt 1 Works. If I use setAllowedMethods(Arrays.asList(&quot;*&quot;)); then options should work too. Or not?","body":"Also when I started Local my app then I don&#39;t have this problem. Since it had with Attempt 1 Works. If I use setAllowedMethods(Arrays.asList(&quot;*&quot;)); then options should work too. Or not?"},{"owner":{"account_id":2258060,"reputation":3689,"user_id":1988798,"accept_rate":83,"display_name":"Gaurav"},"score":0,"creation_date":1692725555,"post_id":76954507,"comment_id":135662667,"body_markdown":"What is your deployment architecture ? And why your front end and back end are being served on two different domains ?","body":"What is your deployment architecture ? And why your front end and back end are being served on two different domains ?"},{"owner":{"account_id":17186111,"reputation":359,"user_id":12440701,"display_name":"Doncarlito87"},"score":0,"creation_date":1692728906,"post_id":76954507,"comment_id":135663407,"body_markdown":"So I put my apps in Docker containers and deployed them in Azure Kubernetes. I currently have 2 domains because my frontend couldn&#39;t communicate with the backend at all in the beginning. Only after the change did it work.","body":"So I put my apps in Docker containers and deployed them in Azure Kubernetes. I currently have 2 domains because my frontend couldn&#39;t communicate with the backend at all in the beginning. Only after the change did it work."},{"owner":{"account_id":2021661,"reputation":61998,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":0,"creation_date":1692732279,"post_id":76954507,"comment_id":135664061,"body_markdown":"No! Never ever reflect arbitrary origins while also allowing credentialed access. This is wildly insecure!","body":"No! Never ever reflect arbitrary origins while also allowing credentialed access. This is wildly insecure!"}],"answers":[{"tags":[],"owner":{"account_id":4954355,"reputation":276,"user_id":3987412,"display_name":"Abhinav Ganguly"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1692724967,"creation_date":1692724264,"answer_id":76955504,"question_id":76954507,"body_markdown":"So the solution to your problem lies sorting out your code from &#39;**Attempt 4**&#39; i.e. your CORS filter.\r\n Looking from that piece of code, you are using `doFilterInternal` method, which is from **Class [OncePerRequestFilter][1]**. \r\n\r\nWhile this method is identical to `doFilter`, it has one big difference, it has same contract as for `doFilter`, but **guaranteed to be just invoked once per request within a single request thread**.\r\n\r\nAnd this is where the problem resides, you just need to use `doFilter` from `javax.servlet.Filter` class.\r\n\r\n\r\nSo the final look of your CORS filter class shall be something like below:\r\n\r\n```\r\npackage your.own.project.package.filter;\r\n\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport javax.servlet.*;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport java.io.IOException;\r\n\r\n\r\n@Component\r\n@Slf4j\r\npublic class CORSFilter implements Filter {\r\n\r\n\r\n\r\n    public CORSFilter() {\r\n        log.info(&quot;*************Initialising a CORS FILTER*************&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {\r\n\r\n        HttpServletRequest request = (HttpServletRequest) req;\r\n        HttpServletResponse response = (HttpServletResponse) res;\r\n\r\n        String headerOrigin = request.getHeader(&quot;Origin&quot;);\r\n        if (headerOrigin != null) {\r\n            response.setHeader(&quot;Access-Control-Allow-Origin&quot;, headerOrigin);\r\n        }\r\n\r\n        response.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n        response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, PUT, GET, OPTIONS, DELETE&quot;);\r\n        response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\r\n        //Note the `Authorization` header in this list below, \r\n        // this is important to allow JWT &#39;Autorization Bearer` token headers \r\n        response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Content-Type, Accept, X-Requested-With, remember-me, Authorization&quot;);\r\n        \r\n        //Then the rest of your your Auth stuff as ususal\r\n        final String authHeader = request.getHeader(&quot;Authorization&quot;);\r\n        final String jwt;\r\n        final String userEmail;\r\n        \r\n        if(authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)) {\r\n            chain.doFilter(request, response);\r\n            return;\r\n        }\r\n        jwt = authHeader.substring(7);\r\n        userEmail = jwtService.extractUsername(jwt);\r\n\r\n        if(userEmail !=null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\r\n            UserDetails userDetails = this.userDetailsService.loadUserByUsername(userEmail);\r\n            var isTokenValid = tokenRepository.findByToken(jwt)\r\n                                                .map(t -&gt; !t.isExpired() &amp;&amp; !t.isRevoked())\r\n                                                .orElse(false);\r\n            if(jwtService.isTokenValid(jwt, userDetails) &amp;&amp; isTokenValid) {\r\n                UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\r\n                authToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n                SecurityContextHolder.getContext().setAuthentication(authToken);\r\n            }\r\n        }\r\n        chain.doFilter(request, response);\r\n    }\r\n\r\n    @Override\r\n    public void init(FilterConfig filterConfig) {\r\n    }\r\n\r\n    @Override\r\n    public void destroy() {\r\n    }\r\n}\r\n```\r\n\r\n\r\nAlso, please note, in the list of headers in `Access-Control-Allow-Headers` i&#39;ve added `Authorization` header. If you don&#39;t have this, you&#39;ll get HTTP 400 Request, for as the `Authorization` header is not allowed by server.\r\n\r\nAlso, as better technical practice, i&#39;ll advice you to keep the CORS filter clean of Authentication processing.\r\n\r\nIdeally, you should create your own dedicated custom Auth security filter class extending [AbstractAuthenticationProcessingFilter][2] class, and doing the stuffs you are doing above in overridden [attemptAuthentication][3] and\r\n[successfulAuthentication][4] method respectively.\r\n\r\nI hope this sorts out your issue.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/filter/OncePerRequestFilter.html\r\n  [2]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/web/authentication/AbstractAuthenticationProcessingFilter.html\r\n  [3]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/web/authentication/AbstractAuthenticationProcessingFilter.html#attemptAuthentication(jakarta.servlet.http.HttpServletRequest,jakarta.servlet.http.HttpServletResponse)\r\n  [4]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/web/authentication/AbstractAuthenticationProcessingFilter.html#successfulAuthentication(jakarta.servlet.http.HttpServletRequest,jakarta.servlet.http.HttpServletResponse,jakarta.servlet.FilterChain,org.springframework.security.core.Authentication)","title":"How do I bypass the Cors policy in my Spring Boot app after deployment?","body":"<p>So the solution to your problem lies sorting out your code from '<strong>Attempt 4</strong>' i.e. your CORS filter.\nLooking from that piece of code, you are using <code>doFilterInternal</code> method, which is from <strong>Class <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/filter/OncePerRequestFilter.html\" rel=\"nofollow noreferrer\">OncePerRequestFilter</a></strong>.</p>\n<p>While this method is identical to <code>doFilter</code>, it has one big difference, it has same contract as for <code>doFilter</code>, but <strong>guaranteed to be just invoked once per request within a single request thread</strong>.</p>\n<p>And this is where the problem resides, you just need to use <code>doFilter</code> from <code>javax.servlet.Filter</code> class.</p>\n<p>So the final look of your CORS filter class shall be something like below:</p>\n<pre><code>package your.own.project.package.filter;\n\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.stereotype.Component;\n\nimport javax.servlet.*;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\n\n\n@Component\n@Slf4j\npublic class CORSFilter implements Filter {\n\n\n\n    public CORSFilter() {\n        log.info(&quot;*************Initialising a CORS FILTER*************&quot;);\n    }\n\n    @Override\n    public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {\n\n        HttpServletRequest request = (HttpServletRequest) req;\n        HttpServletResponse response = (HttpServletResponse) res;\n\n        String headerOrigin = request.getHeader(&quot;Origin&quot;);\n        if (headerOrigin != null) {\n            response.setHeader(&quot;Access-Control-Allow-Origin&quot;, headerOrigin);\n        }\n\n        response.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\n        response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, PUT, GET, OPTIONS, DELETE&quot;);\n        response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\n        //Note the `Authorization` header in this list below, \n        // this is important to allow JWT 'Autorization Bearer` token headers \n        response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Content-Type, Accept, X-Requested-With, remember-me, Authorization&quot;);\n        \n        //Then the rest of your your Auth stuff as ususal\n        final String authHeader = request.getHeader(&quot;Authorization&quot;);\n        final String jwt;\n        final String userEmail;\n        \n        if(authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)) {\n            chain.doFilter(request, response);\n            return;\n        }\n        jwt = authHeader.substring(7);\n        userEmail = jwtService.extractUsername(jwt);\n\n        if(userEmail !=null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\n            UserDetails userDetails = this.userDetailsService.loadUserByUsername(userEmail);\n            var isTokenValid = tokenRepository.findByToken(jwt)\n                                                .map(t -&gt; !t.isExpired() &amp;&amp; !t.isRevoked())\n                                                .orElse(false);\n            if(jwtService.isTokenValid(jwt, userDetails) &amp;&amp; isTokenValid) {\n                UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\n                authToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n                SecurityContextHolder.getContext().setAuthentication(authToken);\n            }\n        }\n        chain.doFilter(request, response);\n    }\n\n    @Override\n    public void init(FilterConfig filterConfig) {\n    }\n\n    @Override\n    public void destroy() {\n    }\n}\n</code></pre>\n<p>Also, please note, in the list of headers in <code>Access-Control-Allow-Headers</code> i've added <code>Authorization</code> header. If you don't have this, you'll get HTTP 400 Request, for as the <code>Authorization</code> header is not allowed by server.</p>\n<p>Also, as better technical practice, i'll advice you to keep the CORS filter clean of Authentication processing.</p>\n<p>Ideally, you should create your own dedicated custom Auth security filter class extending <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/web/authentication/AbstractAuthenticationProcessingFilter.html\" rel=\"nofollow noreferrer\">AbstractAuthenticationProcessingFilter</a> class, and doing the stuffs you are doing above in overridden <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/web/authentication/AbstractAuthenticationProcessingFilter.html#attemptAuthentication(jakarta.servlet.http.HttpServletRequest,jakarta.servlet.http.HttpServletResponse)\" rel=\"nofollow noreferrer\">attemptAuthentication</a> and\n<a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/web/authentication/AbstractAuthenticationProcessingFilter.html#successfulAuthentication(jakarta.servlet.http.HttpServletRequest,jakarta.servlet.http.HttpServletResponse,jakarta.servlet.FilterChain,org.springframework.security.core.Authentication)\" rel=\"nofollow noreferrer\">successfulAuthentication</a> method respectively.</p>\n<p>I hope this sorts out your issue.</p>\n"}],"owner":{"account_id":17186111,"reputation":359,"user_id":12440701,"display_name":"Doncarlito87"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1692743448,"creation_date":1692715888,"question_id":76954507,"body_markdown":"I have created a small website that I would like to provide. I use Spring Boot 3 as backend and Angular 15 as frontend. Now I have like many the problem that my frontend can&#39;t communicate with my backend because of Cors. I have looked at many sites on the internet and tried to solve the problem myself but unfortunately without success (https://rajendraprasadpadma.medium.com/what-the-cors-ft-spring-boot-spring-security-562f24d705c9 , https://stackoverflow.com/questions/51719889/spring-boot-cors-issue).\r\n\r\nHere you can see my attempts: \r\n\r\nAttempt 1: Adding a Bean in my Security Config\r\n```\r\n\t   @Bean\r\n\t    CorsConfigurationSource corsConfigurationSource() {\r\n\t        CorsConfiguration configuration = new CorsConfiguration();\r\n\t        configuration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\r\n\t        configuration.setAllowedMethods(Arrays.asList(&quot;*&quot;));\r\n\t        configuration.setAllowedHeaders(List.of(&quot;*&quot;));\r\n\t        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n\t        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n\t        return source;\r\n\t    }\r\n```\r\nAttempt 2: Adding another bean in my Security Config\r\n```\r\n \t@Bean\r\n    CorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\r\n        configuration.setAllowedMethods(Arrays.asList(&quot;*&quot;));\r\n        configuration.setAllowCredentials(true);\r\n        //the below three lines will add the relevant CORS response headers\r\n        configuration.addAllowedOrigin(&quot;*&quot;);\r\n        configuration.addAllowedHeader(&quot;*&quot;);\r\n        configuration.addAllowedMethod(&quot;*&quot;);\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n        return source;\r\n    }\r\n```\r\n\r\nAttempt 3: Adding @CrossOrigin to each of my controller class\r\n```\r\nimport org.springframework.web.bind.annotation.CrossOrigin;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/v1/productcategory&quot;)\r\n@CrossOrigin\r\npublic class ProductCategoryController {\r\n\r\n\t@Autowired\r\n\tProductCategoryService productCategoryService;\r\n\t\r\n\t@GetMapping\r\n\tpublic ResponseEntity&lt;List&lt;ProductCategory&gt;&gt; get(){\r\n\t\treturn ResponseEntity.ok(productCategoryService.getAll());\r\n\t}\r\n\t@PostMapping\r\n\tpublic ResponseEntity&lt;String&gt; post(){\r\n\t\treturn ResponseEntity.ok(&quot;POST: Hello Management&quot;);\r\n\t}\r\n\t@PutMapping\r\n\tpublic ResponseEntity&lt;String&gt; put(){\r\n\t\treturn ResponseEntity.ok(&quot;PUT: Hello Management&quot;);\r\n\t}\r\n\t@DeleteMapping\r\n\tpublic ResponseEntity&lt;String&gt; delete(){\r\n\t\treturn ResponseEntity.ok(&quot;DELETE: Hello Management&quot;);\r\n\t}\r\n\r\n```\r\nAttempt 4: Adding the Cors property to my FilterChain\r\n```\r\n\t@Override\r\n\tprotected void doFilterInternal(@NonNull HttpServletRequest request, \r\n\t\t\t\t\t\t\t\t\t@NonNull HttpServletResponse response, \r\n\t\t\t\t\t\t\t\t\t@NonNull FilterChain filterChain) throws ServletException, IOException {\r\n\t\t\r\n\t\tresponse.setHeader(&quot;Access-Control-Allow-Origin&quot;, request.getHeader(&quot;Origin&quot;));\r\n\t    response.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n\t    response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, OPTIONS, DELETE&quot;);\r\n\t    response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\r\n\t    response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Content-Type, Accept, X-Requested-With, remember-me&quot;);\r\n\t\t\r\n\t\tfinal String authHeader = request.getHeader(&quot;Authorization&quot;);\r\n\t\tfinal String jwt;\r\n\t\tfinal String userEmail;\r\n\t\t\r\n\t\tif(authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)) {\r\n\t\t\tfilterChain.doFilter(request, response);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tjwt = authHeader.substring(7);\r\n\t\tuserEmail = jwtService.extractUsername(jwt);\r\n\r\n\t\tif(userEmail !=null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\r\n\t\t\tUserDetails userDetails = this.userDetailsService.loadUserByUsername(userEmail);\r\n\t\t\tvar isTokenValid = tokenRepository.findByToken(jwt)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.map(t -&gt; !t.isExpired() &amp;&amp; !t.isRevoked())\r\n\t\t\t\t\t\t\t\t\t\t\t\t.orElse(false);\r\n\t\t\tif(jwtService.isTokenValid(jwt, userDetails) &amp;&amp; isTokenValid) {\r\n\t\t\t\tUsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\r\n\t\t\t\tauthToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n\t\t\t\tSecurityContextHolder.getContext().setAuthentication(authToken);\r\n\t\t\t}\r\n\t\t}\r\n\t\tfilterChain.doFilter(request, response);\r\n\t}\r\n```\r\nTo this is to say what I use as authentication and authorization a JWT token.\r\n\r\nIn my Angular app, I have an HttpIntercept:\r\n```\r\nimport { Injectable } from &#39;@angular/core&#39;;\r\nimport {\r\n  HttpRequest,\r\n  HttpHandler,\r\n  HttpEvent,\r\n  HttpInterceptor,\r\n  HttpResponse,\r\n  HttpErrorResponse\r\n} from &#39;@angular/common/http&#39;;\r\nimport { Observable, throwError } from &#39;rxjs&#39;;\r\nimport { catchError } from &#39;rxjs/operators&#39;;\r\n\r\n@Injectable()\r\nexport class RequestInterceptorInterceptor implements HttpInterceptor {\r\n\r\n  constructor() {}\r\n\r\n  intercept(request: HttpRequest&lt;unknown&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;unknown&gt;&gt; {\r\n    if (request.method !== &#39;OPTIONS&#39;) {\r\n      const jwtString = localStorage.getItem(&#39;jwt&#39;);\r\n      const jwtToken = jwtString ? JSON.parse(jwtString)?.jwt as string : &#39;&#39;;\r\n      const authorizationHeader = `Bearer ${jwtToken}`;\r\n      request = request.clone({ headers: request.headers.set(&#39;Authorization&#39;, authorizationHeader)});\r\n    }\r\n\r\n    return next.handle(request).pipe(\r\n      catchError((error: HttpErrorResponse) =&gt; {\r\n        // Hier kannst du den Fehler abfangen und entsprechende Aktionen ausf&#252;hren\r\n        if (error.status === 0 &amp;&amp; error.statusText === &#39;Unknown Error&#39;) {\r\n          console.log(&#39;Es ist ein CORS-Fehler aufgetreten&#39;);\r\n          // Weitere Aktionen ausf&#252;hren ...\r\n        }\r\n\r\n        // Wirf den Fehler weiter, um ihn an den Aufrufer weiterzugeben\r\n        return throwError(error);\r\n      })\r\n    );\r\n  }\r\n}\r\n```\r\nHere are my error logs:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eoggz.png\r\n\r\nWhat amazes me is that I can&#39;t even get through the preflight with my attempts.\r\n\r\nDoes anyone have any idea what I&#39;m doing wrong or what I can still try. So that back- and frontend communicate with each other?\r\n\r\nThanks in advance","title":"How do I bypass the Cors policy in my Spring Boot app after deployment?","body":"<p>I have created a small website that I would like to provide. I use Spring Boot 3 as backend and Angular 15 as frontend. Now I have like many the problem that my frontend can't communicate with my backend because of Cors. I have looked at many sites on the internet and tried to solve the problem myself but unfortunately without success (<a href=\"https://rajendraprasadpadma.medium.com/what-the-cors-ft-spring-boot-spring-security-562f24d705c9\" rel=\"nofollow noreferrer\">https://rajendraprasadpadma.medium.com/what-the-cors-ft-spring-boot-spring-security-562f24d705c9</a> , <a href=\"https://stackoverflow.com/questions/51719889/spring-boot-cors-issue\">Spring Boot : CORS Issue</a>).</p>\n<p>Here you can see my attempts:</p>\n<p>Attempt 1: Adding a Bean in my Security Config</p>\n<pre><code>       @Bean\n        CorsConfigurationSource corsConfigurationSource() {\n            CorsConfiguration configuration = new CorsConfiguration();\n            configuration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\n            configuration.setAllowedMethods(Arrays.asList(&quot;*&quot;));\n            configuration.setAllowedHeaders(List.of(&quot;*&quot;));\n            UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n            source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n            return source;\n        }\n</code></pre>\n<p>Attempt 2: Adding another bean in my Security Config</p>\n<pre><code>    @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\n        configuration.setAllowedMethods(Arrays.asList(&quot;*&quot;));\n        configuration.setAllowCredentials(true);\n        //the below three lines will add the relevant CORS response headers\n        configuration.addAllowedOrigin(&quot;*&quot;);\n        configuration.addAllowedHeader(&quot;*&quot;);\n        configuration.addAllowedMethod(&quot;*&quot;);\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n    }\n</code></pre>\n<p>Attempt 3: Adding @CrossOrigin to each of my controller class</p>\n<pre><code>import org.springframework.web.bind.annotation.CrossOrigin;\n\n@RestController\n@RequestMapping(&quot;/api/v1/productcategory&quot;)\n@CrossOrigin\npublic class ProductCategoryController {\n\n    @Autowired\n    ProductCategoryService productCategoryService;\n    \n    @GetMapping\n    public ResponseEntity&lt;List&lt;ProductCategory&gt;&gt; get(){\n        return ResponseEntity.ok(productCategoryService.getAll());\n    }\n    @PostMapping\n    public ResponseEntity&lt;String&gt; post(){\n        return ResponseEntity.ok(&quot;POST: Hello Management&quot;);\n    }\n    @PutMapping\n    public ResponseEntity&lt;String&gt; put(){\n        return ResponseEntity.ok(&quot;PUT: Hello Management&quot;);\n    }\n    @DeleteMapping\n    public ResponseEntity&lt;String&gt; delete(){\n        return ResponseEntity.ok(&quot;DELETE: Hello Management&quot;);\n    }\n\n</code></pre>\n<p>Attempt 4: Adding the Cors property to my FilterChain</p>\n<pre><code>    @Override\n    protected void doFilterInternal(@NonNull HttpServletRequest request, \n                                    @NonNull HttpServletResponse response, \n                                    @NonNull FilterChain filterChain) throws ServletException, IOException {\n        \n        response.setHeader(&quot;Access-Control-Allow-Origin&quot;, request.getHeader(&quot;Origin&quot;));\n        response.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\n        response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, OPTIONS, DELETE&quot;);\n        response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\n        response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Content-Type, Accept, X-Requested-With, remember-me&quot;);\n        \n        final String authHeader = request.getHeader(&quot;Authorization&quot;);\n        final String jwt;\n        final String userEmail;\n        \n        if(authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)) {\n            filterChain.doFilter(request, response);\n            return;\n        }\n        jwt = authHeader.substring(7);\n        userEmail = jwtService.extractUsername(jwt);\n\n        if(userEmail !=null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\n            UserDetails userDetails = this.userDetailsService.loadUserByUsername(userEmail);\n            var isTokenValid = tokenRepository.findByToken(jwt)\n                                                .map(t -&gt; !t.isExpired() &amp;&amp; !t.isRevoked())\n                                                .orElse(false);\n            if(jwtService.isTokenValid(jwt, userDetails) &amp;&amp; isTokenValid) {\n                UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\n                authToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n                SecurityContextHolder.getContext().setAuthentication(authToken);\n            }\n        }\n        filterChain.doFilter(request, response);\n    }\n</code></pre>\n<p>To this is to say what I use as authentication and authorization a JWT token.</p>\n<p>In my Angular app, I have an HttpIntercept:</p>\n<pre><code>import { Injectable } from '@angular/core';\nimport {\n  HttpRequest,\n  HttpHandler,\n  HttpEvent,\n  HttpInterceptor,\n  HttpResponse,\n  HttpErrorResponse\n} from '@angular/common/http';\nimport { Observable, throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\n\n@Injectable()\nexport class RequestInterceptorInterceptor implements HttpInterceptor {\n\n  constructor() {}\n\n  intercept(request: HttpRequest&lt;unknown&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;unknown&gt;&gt; {\n    if (request.method !== 'OPTIONS') {\n      const jwtString = localStorage.getItem('jwt');\n      const jwtToken = jwtString ? JSON.parse(jwtString)?.jwt as string : '';\n      const authorizationHeader = `Bearer ${jwtToken}`;\n      request = request.clone({ headers: request.headers.set('Authorization', authorizationHeader)});\n    }\n\n    return next.handle(request).pipe(\n      catchError((error: HttpErrorResponse) =&gt; {\n        // Hier kannst du den Fehler abfangen und entsprechende Aktionen ausführen\n        if (error.status === 0 &amp;&amp; error.statusText === 'Unknown Error') {\n          console.log('Es ist ein CORS-Fehler aufgetreten');\n          // Weitere Aktionen ausführen ...\n        }\n\n        // Wirf den Fehler weiter, um ihn an den Aufrufer weiterzugeben\n        return throwError(error);\n      })\n    );\n  }\n}\n</code></pre>\n<p>Here are my error logs:</p>\n<p><a href=\"https://i.stack.imgur.com/eoggz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eoggz.png\" alt=\"enter image description here\" /></a></p>\n<p>What amazes me is that I can't even get through the preflight with my attempts.</p>\n<p>Does anyone have any idea what I'm doing wrong or what I can still try. So that back- and frontend communicate with each other?</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","multipart","vert.x"],"answers":[{"tags":[],"owner":{"account_id":21271,"reputation":5855,"user_id":51560,"accept_rate":57,"display_name":"Paulo Lopes"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1472540796,"creation_date":1472540796,"answer_id":39220926,"question_id":39216822,"body_markdown":"Here is the same but in vert.x:\r\n\r\n    Router router = Router.router(vertx);\r\n\r\n    // Enable multipart form data parsing\r\n    router.post(&quot;/upload&quot;).handler(BodyHandler.create()\r\n      .setUploadsDirectory(FILE_LOCATION));\r\n\r\n    // handle the form\r\n    router.post(&quot;/upload&quot;).handler(ctx -&gt; {\r\n      // in your example you only handle 1 file upload, here you can handle\r\n      // any number of uploads\r\n      for (FileUpload f : ctx.fileUploads()) {\r\n        // do whatever you need to do with the file (it is already saved\r\n        // on the directory you wanted...\r\n        System.out.println(&quot;Filename: &quot; + f.fileName());\r\n        System.out.println(&quot;Size: &quot; + f.size());\r\n      }\r\n\r\n      ctx.response().end();\r\n    });\r\n\r\nFor more examples you can always see the [vertx-examples][1] repo.\r\n\r\n\r\n  [1]: https://github.com/vert-x3/vertx-examples","title":"Writing a post API for Multi Part File Upload using Vertx.io framework","body":"<p>Here is the same but in vert.x:</p>\n\n<pre><code>Router router = Router.router(vertx);\n\n// Enable multipart form data parsing\nrouter.post(\"/upload\").handler(BodyHandler.create()\n  .setUploadsDirectory(FILE_LOCATION));\n\n// handle the form\nrouter.post(\"/upload\").handler(ctx -&gt; {\n  // in your example you only handle 1 file upload, here you can handle\n  // any number of uploads\n  for (FileUpload f : ctx.fileUploads()) {\n    // do whatever you need to do with the file (it is already saved\n    // on the directory you wanted...\n    System.out.println(\"Filename: \" + f.fileName());\n    System.out.println(\"Size: \" + f.size());\n  }\n\n  ctx.response().end();\n});\n</code></pre>\n\n<p>For more examples you can always see the <a href=\"https://github.com/vert-x3/vertx-examples\" rel=\"noreferrer\">vertx-examples</a> repo.</p>\n"},{"tags":[],"owner":{"account_id":21889,"reputation":30982,"user_id":53538,"accept_rate":88,"display_name":"Guss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692743374,"creation_date":1692743374,"answer_id":76957191,"question_id":39216822,"body_markdown":"For 99.9% of use cases, Paulo Lopes&#39; answer is the absolutely correct one.\r\n\r\nThe main gotcha for it, is that the uploaded file is stored in temporary space on the file system - you have to make sure there&#39;s enough space available for all the files users will upload; you have to make sure you put a proper limit on the max upload size so attackers can&#39;t DoS you; you have to handle the file and delete it when its done.\r\n\r\nIf all of this worries you and you are willing to put in the extra work, here&#39;s how to get a Vert.x `ReadStream` of an upload - which you can then read from and push the data somewhere that makes sense, without incurring the storage and IO associated with using `RoutingContext.fileUploads()`:\r\n\r\n#### Important Note First\r\n\r\nIf you don&#39;t want `BodyHandler` to consume the uploads and save them to local files - do not let it handle the uploads. There are three main ways to do it:\r\n1. Don&#39;t set a body handler on the routes you want to handle uploads on (or any parent route).\r\n2. Create your body handler with no file upload support, using `BodyHandler.create(false)`.\r\n3. Set up the body handler in a route ordered after the route where you are going to handle the uploads. This is the most problematic as the body handler will break the request processing if it is called after the request has already ended streaming, and there isn&#39;t even an error (as of Vert.x 4.4.4 - the next version [has this fixed, and will issue an error](https://github.com/vert-x3/vertx-web/pull/2439)). To use this method you have to wrangle the request by pausing the request reading, and then either you handle the upload and resume request reading yourself - or you need to let the body handler resume the request automatically as needed.\r\n\r\nHere I will demonstrate option 3.\r\n\r\n```java\r\nRouter router = Router.router(vertx);\r\n\r\n// Pause the request reading so we can register for handling the body later\r\nrouter.route(&quot;/*&quot;).handler(ctx -&gt; { ctx.request().pause(); ctx.next(); });\r\n\r\n// handle the upload\r\nrouter.post(&quot;/upload&quot;).handler(ctx -&gt; {\r\n  ctx.request().setExpectMultipart(true) // this sets up the upload handlers\r\n    .uploadHandler(upload -&gt; { // register our upload handler\r\n      // this handler will be called once for each file found in the request\r\n      var filename = upload.filename();\r\n      var contentType = upload.contentType();\r\n      consumeUpload(upload.pipe()); // upload is a ReadStream, so read it\r\n    })\r\n    .endHandler(__ -&gt; {\r\n      // somehow verify that all uploads were consumed successfully\r\n      // (or figure out the correct error response)\r\n      ctx.response().end(); // do something more meaningful here\r\n    })\r\n    .resume(); // after we have setup our handlers, resume the request\r\n});\r\n\r\n// have a body handler to handle all the other routes\r\n// it will resume the request automatically so the body will be available\r\n// for outher routes\r\nrouter.route(&quot;/*&quot;).handler(BodyHandler.create());\r\n\r\n// ... what ever else routes you have\r\n```\r\n","title":"Writing a post API for Multi Part File Upload using Vertx.io framework","body":"<p>For 99.9% of use cases, Paulo Lopes' answer is the absolutely correct one.</p>\n<p>The main gotcha for it, is that the uploaded file is stored in temporary space on the file system - you have to make sure there's enough space available for all the files users will upload; you have to make sure you put a proper limit on the max upload size so attackers can't DoS you; you have to handle the file and delete it when its done.</p>\n<p>If all of this worries you and you are willing to put in the extra work, here's how to get a Vert.x <code>ReadStream</code> of an upload - which you can then read from and push the data somewhere that makes sense, without incurring the storage and IO associated with using <code>RoutingContext.fileUploads()</code>:</p>\n<h4>Important Note First</h4>\n<p>If you don't want <code>BodyHandler</code> to consume the uploads and save them to local files - do not let it handle the uploads. There are three main ways to do it:</p>\n<ol>\n<li>Don't set a body handler on the routes you want to handle uploads on (or any parent route).</li>\n<li>Create your body handler with no file upload support, using <code>BodyHandler.create(false)</code>.</li>\n<li>Set up the body handler in a route ordered after the route where you are going to handle the uploads. This is the most problematic as the body handler will break the request processing if it is called after the request has already ended streaming, and there isn't even an error (as of Vert.x 4.4.4 - the next version <a href=\"https://github.com/vert-x3/vertx-web/pull/2439\" rel=\"nofollow noreferrer\">has this fixed, and will issue an error</a>). To use this method you have to wrangle the request by pausing the request reading, and then either you handle the upload and resume request reading yourself - or you need to let the body handler resume the request automatically as needed.</li>\n</ol>\n<p>Here I will demonstrate option 3.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Router router = Router.router(vertx);\n\n// Pause the request reading so we can register for handling the body later\nrouter.route(&quot;/*&quot;).handler(ctx -&gt; { ctx.request().pause(); ctx.next(); });\n\n// handle the upload\nrouter.post(&quot;/upload&quot;).handler(ctx -&gt; {\n  ctx.request().setExpectMultipart(true) // this sets up the upload handlers\n    .uploadHandler(upload -&gt; { // register our upload handler\n      // this handler will be called once for each file found in the request\n      var filename = upload.filename();\n      var contentType = upload.contentType();\n      consumeUpload(upload.pipe()); // upload is a ReadStream, so read it\n    })\n    .endHandler(__ -&gt; {\n      // somehow verify that all uploads were consumed successfully\n      // (or figure out the correct error response)\n      ctx.response().end(); // do something more meaningful here\n    })\n    .resume(); // after we have setup our handlers, resume the request\n});\n\n// have a body handler to handle all the other routes\n// it will resume the request automatically so the body will be available\n// for outher routes\nrouter.route(&quot;/*&quot;).handler(BodyHandler.create());\n\n// ... what ever else routes you have\n</code></pre>\n"}],"owner":{"account_id":4082464,"reputation":119,"user_id":3352615,"accept_rate":23,"display_name":"user3352615"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10401,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1692743374,"creation_date":1472514379,"question_id":39216822,"body_markdown":"I am writing the code for multipart file upload using the vertx.io .\r\n\r\nIn Spring boot my code is as follows. I want to write similar in vertex.io \r\n\r\n    @RequestMapping(value = &quot;/upload&quot;, headers=(&quot;content-type=multipart/*&quot;) ,method = RequestMethod.POST)\r\n\tpublic ImportExportResponse upload(@RequestParam(&quot;file&quot;) MultipartFile inputFile){\r\n\t\tlog.info(&quot; upload service method starts  &quot;);\r\n\t\tImportExportResponse response = new ImportExportResponse();\r\n\t\tFileOutputStream fileOutputStream=null;\r\n\t\ttry{\r\n\t\t\tFile outputFile = new File(FILE_LOCATION+inputFile.getOriginalFilename());\r\n\t\t\tfileOutputStream = new FileOutputStream(outputFile);\r\n\t\t\tfileOutputStream.write(inputFile.getBytes());\t\r\n\t\t\tfileOutputStream.close();\r\n\t\t\t\r\n\t\t\tresponse.setStatus(ImportExportConstants.ResponseStatus.SUCCESS.name());\r\n\t\t\tresponse.setErrorMessage(EMPTY);\r\n\t\t\t\r\n\t\t}catch (Exception e) {\r\n\t\t\tlog.error(&quot;Exception while upload the file . &quot;+e.getMessage());\r\n\t\t\tresponse.setStatus(ImportExportConstants.ResponseStatus.ERROR.name());\r\n\t\t\tresponse.setErrorMessage(errorMap.get(SYSTEM_ERROR_CODE));\t\t\t\r\n\t\t}\r\n\t\tlog.info(&quot; upload service method ends. file is copied to a temp folder &quot;);\r\n\t\treturn response;\r\n\t}\r\n\t","title":"Writing a post API for Multi Part File Upload using Vertx.io framework","body":"<p>I am writing the code for multipart file upload using the vertx.io .</p>\n\n<p>In Spring boot my code is as follows. I want to write similar in vertex.io </p>\n\n<pre><code>@RequestMapping(value = \"/upload\", headers=(\"content-type=multipart/*\") ,method = RequestMethod.POST)\npublic ImportExportResponse upload(@RequestParam(\"file\") MultipartFile inputFile){\n    log.info(\" upload service method starts  \");\n    ImportExportResponse response = new ImportExportResponse();\n    FileOutputStream fileOutputStream=null;\n    try{\n        File outputFile = new File(FILE_LOCATION+inputFile.getOriginalFilename());\n        fileOutputStream = new FileOutputStream(outputFile);\n        fileOutputStream.write(inputFile.getBytes());   \n        fileOutputStream.close();\n\n        response.setStatus(ImportExportConstants.ResponseStatus.SUCCESS.name());\n        response.setErrorMessage(EMPTY);\n\n    }catch (Exception e) {\n        log.error(\"Exception while upload the file . \"+e.getMessage());\n        response.setStatus(ImportExportConstants.ResponseStatus.ERROR.name());\n        response.setErrorMessage(errorMap.get(SYSTEM_ERROR_CODE));          \n    }\n    log.info(\" upload service method ends. file is copied to a temp folder \");\n    return response;\n}\n</code></pre>\n"},{"tags":["java","data-structures","collections"],"comments":[{"owner":{"account_id":24810,"reputation":44144,"user_id":63309,"accept_rate":70,"display_name":"Tom"},"score":0,"creation_date":1246291559,"post_id":1059114,"comment_id":870882,"body_markdown":"&quot;Counting the list items&quot; seems misleading","body":"&quot;Counting the list items&quot; seems misleading"}],"answers":[{"tags":[],"owner":{"account_id":31797,"reputation":6335,"user_id":87627,"accept_rate":65,"display_name":"Jim Evans"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1246291660,"creation_date":1246291660,"answer_id":1059130,"question_id":1059114,"body_markdown":"Where is the data comming from? If a db - you can do this very easily in the query on the backend with group by.","title":"Counting the number of occurrences of each item in a list","body":"<p>Where is the data comming from? If a db - you can do this very easily in the query on the backend with group by.</p>\n"},{"tags":[],"owner":{"account_id":7745,"reputation":189755,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1246292620,"creation_date":1246291668,"answer_id":1059131,"question_id":1059114,"body_markdown":"Yes, I would use a `Map&lt;String, Integer&gt;`. I would wrap the `add` in something like this:\r\n\r\n    private static void incrementValue(Map&lt;String, Integer&gt; counters, String toAdd) {\r\n        Integer currValue = counters.get(toAdd);\r\n        if (currValue == null)\r\n            counters.put(toAdd, 1);\r\n        else\r\n            counters.put(toAdd, currValue+1);\r\n    }\r\n\r\nOr without generics:\r\n\r\n    private static void incrementValue(Map counters, String toAdd) {\r\n        Integer currValue = (Integer) counters.get(toAdd);\r\n        if (currValue == null)\r\n            counters.put(toAdd, 1);\r\n        else\r\n            counters.put(toAdd, currValue+1);\r\n    }","title":"Counting the number of occurrences of each item in a list","body":"<p>Yes, I would use a <code>Map&lt;String, Integer&gt;</code>. I would wrap the <code>add</code> in something like this:</p>\n\n<pre><code>private static void incrementValue(Map&lt;String, Integer&gt; counters, String toAdd) {\n    Integer currValue = counters.get(toAdd);\n    if (currValue == null)\n        counters.put(toAdd, 1);\n    else\n        counters.put(toAdd, currValue+1);\n}\n</code></pre>\n\n<p>Or without generics:</p>\n\n<pre><code>private static void incrementValue(Map counters, String toAdd) {\n    Integer currValue = (Integer) counters.get(toAdd);\n    if (currValue == null)\n        counters.put(toAdd, 1);\n    else\n        counters.put(toAdd, currValue+1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24810,"reputation":44144,"user_id":63309,"accept_rate":70,"display_name":"Tom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1246291686,"creation_date":1246291686,"answer_id":1059133,"question_id":1059114,"body_markdown":"A map seems the way to go. Direct access :)\r\n\r\nKey: Element\r\nvalue: number of ocurrences, or a list with indexes of the element in the list.","title":"Counting the number of occurrences of each item in a list","body":"<p>A map seems the way to go. Direct access :)</p>\n\n<p>Key: Element\nvalue: number of ocurrences, or a list with indexes of the element in the list.</p>\n"},{"tags":[],"owner":{"account_id":19463,"reputation":41164,"user_id":45668,"accept_rate":88,"display_name":"Malcolm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1246291766,"creation_date":1246291766,"answer_id":1059138,"question_id":1059114,"body_markdown":"Besides the solutions that have been posted the first thing that comes to my mind is to make a table &quot;code - value&quot; and encode the list using codes. It would be very space efficient.","title":"Counting the number of occurrences of each item in a list","body":"<p>Besides the solutions that have been posted the first thing that comes to my mind is to make a table \"code - value\" and encode the list using codes. It would be very space efficient.</p>\n"},{"tags":[],"owner":{"account_id":26360,"reputation":17149,"user_id":68524,"accept_rate":71,"display_name":"pjp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1246291998,"creation_date":1246291998,"answer_id":1059159,"question_id":1059114,"body_markdown":"The most natural structure for this is a Bag aka a Multiset.\r\n\r\nA bag is essentially a function from Object to Count.\r\n\r\nGoogle collections has a Multiset however you could easily build your own using a HashMap.\r\n\r\nhttp://google-collections.googlecode.com/svn/trunk/javadoc/index.html?com/google/common/collect/Multiset.html","title":"Counting the number of occurrences of each item in a list","body":"<p>The most natural structure for this is a Bag aka a Multiset.</p>\n\n<p>A bag is essentially a function from Object to Count.</p>\n\n<p>Google collections has a Multiset however you could easily build your own using a HashMap.</p>\n\n<p><a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/index.html?com/google/common/collect/Multiset.html\" rel=\"nofollow noreferrer\">http://google-collections.googlecode.com/svn/trunk/javadoc/index.html?com/google/common/collect/Multiset.html</a></p>\n"},{"tags":[],"owner":{"account_id":9320,"reputation":159784,"user_id":17172,"display_name":"coobird"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1379939270,"creation_date":1246293459,"answer_id":1059262,"question_id":1059114,"body_markdown":"Since it was mentioned by the questioner that generics could not be used, as the target platform was Java 1.4, one could use the [Apache Commons Collections][1] which doesn&#39;t use generics.\r\n\r\nThe [answer by pjp][2] mentions that a Bag can be used.\r\n\r\nIt turns out, the Apache Commons Collections has a [`Bag`][3] which has a [`getCount`][4] method which will return the count of a certain object that was added to the `Bag`.\r\n\r\nThe following is an example that [`add`][5]s some `Integer` objects to a [`HashBag`][6], and counts how many of each `Integer` object that the `Bag` contains:\r\n\r\n    Bag b = new HashBag();\r\n    \r\n    b.add(Integer.valueOf(1));\r\n    b.add(Integer.valueOf(2));\r\n    b.add(Integer.valueOf(2));\r\n    b.add(Integer.valueOf(3));\r\n    \t\t\r\n    System.out.println(&quot;Count for 1: &quot; + b.getCount(Integer.valueOf(1)));\r\n    System.out.println(&quot;Count for 2: &quot; + b.getCount(Integer.valueOf(2)));\r\n    System.out.println(&quot;Count for 3: &quot; + b.getCount(Integer.valueOf(3)));\r\n\r\nThe results were:\r\n\r\n&lt;pre&gt;\r\nCount for 1: 1\r\nCount for 2: 2\r\nCount for 3: 1\r\n&lt;/pre&gt;\r\n\r\n(I should add a disclaimer that this code was actually compiled and run on Java 6, but I believe I&#39;ve only used features which were present from the pre-Java 5 days.)\r\n\r\n\r\n  [1]: http://commons.apache.org/collections/\r\n  [2]: https://stackoverflow.com/questions/1059114/counting-the-list-items/1059159#1059159\r\n  [3]: http://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/Bag.html\r\n  [4]: http://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/Bag.html#getCount(java.lang.Object)\r\n  [5]: http://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/Bag.html#add(java.lang.Object)\r\n  [6]: http://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/bag/HashBag.html","title":"Counting the number of occurrences of each item in a list","body":"<p>Since it was mentioned by the questioner that generics could not be used, as the target platform was Java 1.4, one could use the <a href=\"http://commons.apache.org/collections/\" rel=\"nofollow noreferrer\">Apache Commons Collections</a> which doesn't use generics.</p>\n\n<p>The <a href=\"https://stackoverflow.com/questions/1059114/counting-the-list-items/1059159#1059159\">answer by pjp</a> mentions that a Bag can be used.</p>\n\n<p>It turns out, the Apache Commons Collections has a <a href=\"http://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/Bag.html\" rel=\"nofollow noreferrer\"><code>Bag</code></a> which has a <a href=\"http://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/Bag.html#getCount(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>getCount</code></a> method which will return the count of a certain object that was added to the <code>Bag</code>.</p>\n\n<p>The following is an example that <a href=\"http://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/Bag.html#add(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>add</code></a>s some <code>Integer</code> objects to a <a href=\"http://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/bag/HashBag.html\" rel=\"nofollow noreferrer\"><code>HashBag</code></a>, and counts how many of each <code>Integer</code> object that the <code>Bag</code> contains:</p>\n\n<pre><code>Bag b = new HashBag();\n\nb.add(Integer.valueOf(1));\nb.add(Integer.valueOf(2));\nb.add(Integer.valueOf(2));\nb.add(Integer.valueOf(3));\n\nSystem.out.println(\"Count for 1: \" + b.getCount(Integer.valueOf(1)));\nSystem.out.println(\"Count for 2: \" + b.getCount(Integer.valueOf(2)));\nSystem.out.println(\"Count for 3: \" + b.getCount(Integer.valueOf(3)));\n</code></pre>\n\n<p>The results were:</p>\n\n<pre>\nCount for 1: 1\nCount for 2: 2\nCount for 3: 1\n</pre>\n\n<p>(I should add a disclaimer that this code was actually compiled and run on Java 6, but I believe I've only used features which were present from the pre-Java 5 days.)</p>\n"},{"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692742455,"creation_date":1692742070,"answer_id":76957114,"question_id":1059114,"body_markdown":"You may use [`Map.getOrDefault`][1] for that, which is available since Java 8. As simple as that:\r\n```\r\nMap&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\n\r\nfor (String s : List.of(&quot;Apple&quot;, &quot;Samsung&quot;, &quot;Apple&quot;, &quot;...&quot;)) {\r\n  map.put(s, map.getOrDefault(s, 0) + 1);\r\n}\r\n```\r\n- The `getOrDefault` method returns the value to which the specified key `s` is mapped, or `0` if this map contains no mapping for the key `s`.\r\n- The returned value is then incremented by `1`.\r\n- The key-value pair is added to the map.\r\n\r\nOr, using Java 8 streams - a combination of [`groupingBy`][2] and [`counting`][3] collectors:\r\n```\r\nMap&lt;String, Long&gt; map =\r\n    List.of(&quot;Apple&quot;, &quot;Samsung&quot;, &quot;Apple&quot;, &quot;...&quot;).stream()\r\n        .collect(Collectors.groupingBy(s -&gt; s, Collectors.counting()));\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#getOrDefault-java.lang.Object-V-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#groupingBy-java.util.function.Function-java.util.stream.Collector-\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#counting--","title":"Counting the number of occurrences of each item in a list","body":"<p>You may use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#getOrDefault-java.lang.Object-V-\" rel=\"nofollow noreferrer\"><code>Map.getOrDefault</code></a> for that, which is available since Java 8. As simple as that:</p>\n<pre><code>Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\n\nfor (String s : List.of(&quot;Apple&quot;, &quot;Samsung&quot;, &quot;Apple&quot;, &quot;...&quot;)) {\n  map.put(s, map.getOrDefault(s, 0) + 1);\n}\n</code></pre>\n<ul>\n<li>The <code>getOrDefault</code> method returns the value to which the specified key <code>s</code> is mapped, or <code>0</code> if this map contains no mapping for the key <code>s</code>.</li>\n<li>The returned value is then incremented by <code>1</code>.</li>\n<li>The key-value pair is added to the map.</li>\n</ul>\n<p>Or, using Java 8 streams - a combination of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#groupingBy-java.util.function.Function-java.util.stream.Collector-\" rel=\"nofollow noreferrer\"><code>groupingBy</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#counting--\" rel=\"nofollow noreferrer\"><code>counting</code></a> collectors:</p>\n<pre><code>Map&lt;String, Long&gt; map =\n    List.of(&quot;Apple&quot;, &quot;Samsung&quot;, &quot;Apple&quot;, &quot;...&quot;).stream()\n        .collect(Collectors.groupingBy(s -&gt; s, Collectors.counting()));\n</code></pre>\n"}],"owner":{"account_id":44455,"reputation":3383,"user_id":130529,"accept_rate":99,"display_name":"Harish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4729,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":1059131,"answer_count":7,"score":6,"last_activity_date":1692742455,"creation_date":1246291437,"question_id":1059114,"body_markdown":" I have a streaming input which has repeated values. I can use any data structure but I have to count the number of occurence of each element. Suppose I have a list of mobile phone suppliers like the following:\r\n&lt;pre&gt;\r\nApple\r\nNokia\r\nSamsung\r\nApple\r\nLG\r\nNokia\r\nHTC\r\nAndroid\r\nApple\r\nNokia\r\nNokia\r\nApple\r\nSamsung\r\n&lt;/pre&gt;\r\nI have to build any data structure preferably a map with details like\r\n&lt;pre&gt;\r\nApple,4\r\nNokia,4\r\nSamsung,2\r\nLG,1\r\nAndroid,1\r\n&lt;/pre&gt;\r\nI am not sure whether this is optimal. Is there a better solution than this?  \r\nIn fact I have yet to write the above as a code. So better code will also help.\r\n","title":"Counting the number of occurrences of each item in a list","body":"<p>I have a streaming input which has repeated values. I can use any data structure but I have to count the number of occurence of each element. Suppose I have a list of mobile phone suppliers like the following:</p>\n\n<pre>\nApple\nNokia\nSamsung\nApple\nLG\nNokia\nHTC\nAndroid\nApple\nNokia\nNokia\nApple\nSamsung\n</pre>\n\n<p>I have to build any data structure preferably a map with details like</p>\n\n<pre>\nApple,4\nNokia,4\nSamsung,2\nLG,1\nAndroid,1\n</pre>\n\n<p>I am not sure whether this is optimal. Is there a better solution than this?<br>\nIn fact I have yet to write the above as a code. So better code will also help.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":3,"creation_date":1692688260,"post_id":76950815,"comment_id":135654173,"body_markdown":"You don&#39;t need to use streams for that.","body":"You don&#39;t need to use streams for that."},{"owner":{"account_id":23936770,"reputation":128,"user_id":17930413,"display_name":"Rahul Rokade"},"score":0,"creation_date":1692688458,"post_id":76950815,"comment_id":135654207,"body_markdown":"boolean evenNumber = y.stream().allMatch(n -&gt; n % 2 == 0); getting all even number.","body":"boolean evenNumber = y.stream().allMatch(n -&gt; n % 2 == 0); getting all even number."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":8,"creation_date":1692688501,"post_id":76950815,"comment_id":135654219,"body_markdown":"@RahulRokade that&#39;s completely irrelevant to this question.","body":"@RahulRokade that&#39;s completely irrelevant to this question."}],"answers":[{"tags":[],"owner":{"account_id":28578269,"reputation":142,"user_id":21879587,"display_name":"tamtejszystan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692689552,"creation_date":1692688632,"answer_id":76950916,"question_id":76950815,"body_markdown":"You can go with something like this:\r\n```java\r\npublic static boolean hasConsecutiveDays(List&lt;Integer&gt; hoursList, int consecutiveDays) {\r\n        return IntStream.range(0, hoursList.size() - consecutiveDays + 1)\r\n                .anyMatch(startIndex -&gt; hoursList.subList(startIndex, startIndex + consecutiveDays)\r\n                        .stream()\r\n                        .allMatch(hours -&gt; hours &gt; 0));\r\n```\r\nbut it will not be efficient due to creating additional sublists, so If you don’t have to, I would stick to using for loop instead","title":"How to check if a condition is present consecutively with Java 8 Streams?","body":"<p>You can go with something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean hasConsecutiveDays(List&lt;Integer&gt; hoursList, int consecutiveDays) {\n        return IntStream.range(0, hoursList.size() - consecutiveDays + 1)\n                .anyMatch(startIndex -&gt; hoursList.subList(startIndex, startIndex + consecutiveDays)\n                        .stream()\n                        .allMatch(hours -&gt; hours &gt; 0));\n</code></pre>\n<p>but it will not be efficient due to creating additional sublists, so If you don’t have to, I would stick to using for loop instead</p>\n"},{"tags":[],"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1692688996,"creation_date":1692688996,"answer_id":76950963,"question_id":76950815,"body_markdown":"Something like this should resolve it\r\n\r\n    public static boolean checkConsecutiveDays(int[] row, int cons) {\r\n      int counter = 0;\r\n      for ( int day : row ) {\r\n        if ( day == 0 ) counter = 0; // invalid day? reset\r\n        else counter += 1;\r\n        if ( counter == cons ) return true; // if counter equal to cons -&gt; return true\r\n       }\r\n       return false; // the cons value was never reached\r\n    }","title":"How to check if a condition is present consecutively with Java 8 Streams?","body":"<p>Something like this should resolve it</p>\n<pre><code>public static boolean checkConsecutiveDays(int[] row, int cons) {\n  int counter = 0;\n  for ( int day : row ) {\n    if ( day == 0 ) counter = 0; // invalid day? reset\n    else counter += 1;\n    if ( counter == cons ) return true; // if counter equal to cons -&gt; return true\n   }\n   return false; // the cons value was never reached\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1692691467,"creation_date":1692689245,"answer_id":76950994,"question_id":76950815,"body_markdown":"A version using `reduce` might look like\r\n\r\n    Arrays.asList(0,3,...,1,0).stream().reduce(0, \r\n        (count, number) -&gt; count &gt;= 6 ? count : (number &gt; 0 ? count + 1 : 0)\r\n    ) &gt;= 6\r\n\r\nWe iterate through the numbers and start with a `count` of 0 - we increment the `count` if the current `number` is larger than 0, otherwise we reset the `count` to 0. If the `count` is already larger than 6 then we do not care anymore about further checking against 0 or incrementing the `count`, this is where a more performant solution should return early. ","title":"How to check if a condition is present consecutively with Java 8 Streams?","body":"<p>A version using <code>reduce</code> might look like</p>\n<pre><code>Arrays.asList(0,3,...,1,0).stream().reduce(0, \n    (count, number) -&gt; count &gt;= 6 ? count : (number &gt; 0 ? count + 1 : 0)\n) &gt;= 6\n</code></pre>\n<p>We iterate through the numbers and start with a <code>count</code> of 0 - we increment the <code>count</code> if the current <code>number</code> is larger than 0, otherwise we reset the <code>count</code> to 0. If the <code>count</code> is already larger than 6 then we do not care anymore about further checking against 0 or incrementing the <code>count</code>, this is where a more performant solution should return early.</p>\n"},{"tags":[],"owner":{"account_id":329814,"reputation":11000,"user_id":653539,"accept_rate":50,"display_name":"Tom&#225;š Z&#225;lusk&#253;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692689912,"creation_date":1692689912,"answer_id":76951054,"question_id":76950815,"body_markdown":"You can also precompute indices of zeros and check if exists distance greater than 6, assuming sentinel zeros at the beginning and at the end.\r\n\r\n```java\r\n\tpublic static void main(String[] args) {\r\n\t\tList&lt;Integer&gt; y = Arrays.asList(0,0,4,7,8,0,9,1,5,7,8,6,4,7); //true\r\n\t\t//List&lt;Integer&gt; y = Arrays.asList(0,0,0,6,0,7,9,0,0,8,9,0,1,0); //false\r\n\t\tList&lt;Integer&gt; z = new ArrayList&lt;&gt;(); // indices of zeros and sentinels\r\n\t\tz.add(-1);\r\n\t\tIntStream.range(0, y.size()).filter(i -&gt; y.get(i) == 0).forEach(z::add);\r\n\t\tz.add(y.size());\r\n\t\tSystem.out.println(z);\r\n\t\tboolean result = IntStream.range(0, z.size() - 1).anyMatch(i -&gt; z.get(i + 1) - z.get(i) &gt; 6);\r\n\t\tSystem.out.println(result);\r\n\t}\r\n```\r\n","title":"How to check if a condition is present consecutively with Java 8 Streams?","body":"<p>You can also precompute indices of zeros and check if exists distance greater than 6, assuming sentinel zeros at the beginning and at the end.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) {\n        List&lt;Integer&gt; y = Arrays.asList(0,0,4,7,8,0,9,1,5,7,8,6,4,7); //true\n        //List&lt;Integer&gt; y = Arrays.asList(0,0,0,6,0,7,9,0,0,8,9,0,1,0); //false\n        List&lt;Integer&gt; z = new ArrayList&lt;&gt;(); // indices of zeros and sentinels\n        z.add(-1);\n        IntStream.range(0, y.size()).filter(i -&gt; y.get(i) == 0).forEach(z::add);\n        z.add(y.size());\n        System.out.println(z);\n        boolean result = IntStream.range(0, z.size() - 1).anyMatch(i -&gt; z.get(i + 1) - z.get(i) &gt; 6);\n        System.out.println(result);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692691541,"creation_date":1692691541,"answer_id":76951268,"question_id":76950815,"body_markdown":"So there is a way to do this using the Stream API.\r\n\r\n    BinaryOperator&lt;Integer&gt; accumulator = (counter, item) -&gt; {\r\n        if (item &gt; 0) {\r\n            // if the item is greater than 0, the counter is incremented\r\n            return counter + 1;\r\n        } else if (counter &gt;= 6) {\r\n            // since it is not possible to abort the reduce function\r\n            // after six consecutive elements greater than 0 have been found,\r\n            // this extra check is required to store the counter\r\n            return counter;\r\n        } else {\r\n            // otherwise the counter is discarded\r\n            return 0;\r\n        }\r\n    };\r\n    \r\n    List&lt;Integer&gt; x = Arrays.asList(0, 0, 0, 6, 0, 7, 9, 0, 0, 8, 9, 0, 1, 0);\r\n    List&lt;Integer&gt; y = Arrays.asList(0, 0, 4, 7, 8, 0, 9, 1, 5, 7, 8, 6, 4, 7);\r\n    \r\n    int xr = x.stream().reduce(0, accumulator); // 0\r\n    int yr = y.stream().reduce(0, accumulator); // 8\r\n\r\n    print(xr &gt;= 6); // false\r\n    print(yr &gt;= 6); // true","title":"How to check if a condition is present consecutively with Java 8 Streams?","body":"<p>So there is a way to do this using the Stream API.</p>\n<pre><code>BinaryOperator&lt;Integer&gt; accumulator = (counter, item) -&gt; {\n    if (item &gt; 0) {\n        // if the item is greater than 0, the counter is incremented\n        return counter + 1;\n    } else if (counter &gt;= 6) {\n        // since it is not possible to abort the reduce function\n        // after six consecutive elements greater than 0 have been found,\n        // this extra check is required to store the counter\n        return counter;\n    } else {\n        // otherwise the counter is discarded\n        return 0;\n    }\n};\n\nList&lt;Integer&gt; x = Arrays.asList(0, 0, 0, 6, 0, 7, 9, 0, 0, 8, 9, 0, 1, 0);\nList&lt;Integer&gt; y = Arrays.asList(0, 0, 4, 7, 8, 0, 9, 1, 5, 7, 8, 6, 4, 7);\n\nint xr = x.stream().reduce(0, accumulator); // 0\nint yr = y.stream().reduce(0, accumulator); // 8\n\nprint(xr &gt;= 6); // false\nprint(yr &gt;= 6); // true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17869276,"reputation":11,"user_id":12980938,"display_name":"Santhosh Kumar Sreeramoju"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692692481,"creation_date":1692691781,"answer_id":76951296,"question_id":76950815,"body_markdown":"\r\n\r\n    List&lt;Integer&gt; y = Arrays.asList(0, 0, 4, 7, 8, 0, 9, 1, 5, 7, 8, 6, 4, 7);\r\n    AtomicInteger k = new AtomicInteger();\r\n    boolean res = y.stream().anyMatch(g -&gt; {\r\n            if(k.get() == 6){\r\n                return true;\r\n            }\r\n            k.set(g &gt; 0 ? k.get() + 1 : 0);\r\n            return false;\r\n        });\r\n    System.out.println(res);","title":"How to check if a condition is present consecutively with Java 8 Streams?","body":"<pre><code>List&lt;Integer&gt; y = Arrays.asList(0, 0, 4, 7, 8, 0, 9, 1, 5, 7, 8, 6, 4, 7);\nAtomicInteger k = new AtomicInteger();\nboolean res = y.stream().anyMatch(g -&gt; {\n        if(k.get() == 6){\n            return true;\n        }\n        k.set(g &gt; 0 ? k.get() + 1 : 0);\n        return false;\n    });\nSystem.out.println(res);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29114412,"reputation":19,"user_id":22303452,"display_name":"Aisu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692742436,"creation_date":1692742387,"answer_id":76957130,"question_id":76950815,"body_markdown":"Try this out, the code below has a simple, from scratch logic, but it should solve the problem:\r\n\r\n    ```\r\n        public static boolean notZero_n_times (List&lt;Integer&gt; l) {\r\n\r\n        int count = 0;\r\n\r\n        for (int i = 0; i &lt; l.size(); i++) {\r\n\r\n            if (l.get(i) == 0) {\r\n                count = 0;\r\n            } else {\r\n                count ++;\r\n            }\r\n\r\n            if (count == 6) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n    ```","title":"How to check if a condition is present consecutively with Java 8 Streams?","body":"<p>Try this out, the code below has a simple, from scratch logic, but it should solve the problem:</p>\n<pre><code>```\n    public static boolean notZero_n_times (List&lt;Integer&gt; l) {\n\n    int count = 0;\n\n    for (int i = 0; i &lt; l.size(); i++) {\n\n        if (l.get(i) == 0) {\n            count = 0;\n        } else {\n            count ++;\n        }\n\n        if (count == 6) {\n            return true;\n        }\n    }\n\n    return false;\n}\n```\n</code></pre>\n"}],"owner":{"account_id":15965463,"reputation":81,"user_id":11521276,"display_name":"thottivelli"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":7,"score":1,"last_activity_date":1692742436,"creation_date":1692687760,"question_id":76950815,"body_markdown":"Say I want to return true if given a list of integers (will say employee hours for the day) is greater than 0 6 times in a row. This would mean that the employee has worked at least 6 days in a row. How would I go about implementing this with Java code? I have tried something using the allMatch() stream function but my logic is failing. Any help would be appreciated.  \r\n\r\n    List&lt;Integer&gt; x = Arrays.asList(0,0,0,6,0,7,9,0,0,8,9,0,1,0) -&gt; false because there is not a number greater than 0 six times in a row\r\n    \r\n    List&lt;Integer&gt; y = Arrays.asList(0,0,4,7,8,0,9,1,5,7,8,6,4,7) -&gt; true because there is a number greater than 0 six times in a row\r\n\r\nI have tried something like this but I get confused when capturing the other numbers in the list for comparision.\r\n\r\n    boolean z = y.stream().allMatch(num -&gt; num &gt; 0);\r\n\r\n\r\n","title":"How to check if a condition is present consecutively with Java 8 Streams?","body":"<p>Say I want to return true if given a list of integers (will say employee hours for the day) is greater than 0 6 times in a row. This would mean that the employee has worked at least 6 days in a row. How would I go about implementing this with Java code? I have tried something using the allMatch() stream function but my logic is failing. Any help would be appreciated.</p>\n<pre><code>List&lt;Integer&gt; x = Arrays.asList(0,0,0,6,0,7,9,0,0,8,9,0,1,0) -&gt; false because there is not a number greater than 0 six times in a row\n\nList&lt;Integer&gt; y = Arrays.asList(0,0,4,7,8,0,9,1,5,7,8,6,4,7) -&gt; true because there is a number greater than 0 six times in a row\n</code></pre>\n<p>I have tried something like this but I get confused when capturing the other numbers in the list for comparision.</p>\n<pre><code>boolean z = y.stream().allMatch(num -&gt; num &gt; 0);\n</code></pre>\n"},{"tags":["java","eclipse","maven","svn","tortoisesvn"],"answers":[{"tags":[],"owner":{"account_id":910975,"reputation":14592,"user_id":944849,"accept_rate":87,"display_name":"user944849"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1410817148,"creation_date":1410817148,"answer_id":25857326,"question_id":25856735,"body_markdown":"The only place I&#39;ve seen this documented is in the [Maven release plugin FAQ]().  You may add a `server` entry to your POM, then configure the project to use it.  \r\n\r\n    &lt;!-- Project POM, or a corporate parent --&gt;\r\n    &lt;properties&gt;\r\n      &lt;project.scm.id&gt;my-scm-server&lt;project.scm.id&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;!-- User&#39;s settings.xml file --&gt;\r\n    &lt;server&gt;\r\n        &lt;id&gt;my-scm-server&lt;/id&gt;\r\n        &lt;username&gt;username&lt;/username&gt;\r\n        &lt;password&gt;password&lt;/password&gt;  &lt;!-- encrypted I hope! --&gt;\r\n    &lt;/server&gt;\r\n\r\nI can&#39;t find the reference for this (maybe I looked at the source code), but once upon a time I discovered that if you set the ID to the Subversion host, then the server info will be located by many plugins, including release and scm.  It would look like this:\r\n\r\n    &lt;!-- Project POM, or a corporate parent --&gt;\r\n    &lt;properties&gt;\r\n      &lt;project.scm.id&gt;your.subversion.host&lt;project.scm.id&gt;  &lt;!-- note, no scm:svn part --&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;!-- User&#39;s settings.xml file --&gt;\r\n    &lt;server&gt;\r\n        &lt;id&gt;your.subversion.host&lt;/id&gt;\r\n        &lt;username&gt;username&lt;/username&gt;\r\n        &lt;password&gt;password&lt;/password&gt;  &lt;!-- encrypted I hope! --&gt;\r\n    &lt;/server&gt;\r\n","title":"Maven svn: E215004: Authentication failed and interactive prompting is disabled; see the --force-interactive option","body":"<p>The only place I've seen this documented is in the Maven release plugin FAQ.  You may add a <code>server</code> entry to your POM, then configure the project to use it.  </p>\n\n<pre><code>&lt;!-- Project POM, or a corporate parent --&gt;\n&lt;properties&gt;\n  &lt;project.scm.id&gt;my-scm-server&lt;project.scm.id&gt;\n&lt;/properties&gt;\n\n&lt;!-- User's settings.xml file --&gt;\n&lt;server&gt;\n    &lt;id&gt;my-scm-server&lt;/id&gt;\n    &lt;username&gt;username&lt;/username&gt;\n    &lt;password&gt;password&lt;/password&gt;  &lt;!-- encrypted I hope! --&gt;\n&lt;/server&gt;\n</code></pre>\n\n<p>I can't find the reference for this (maybe I looked at the source code), but once upon a time I discovered that if you set the ID to the Subversion host, then the server info will be located by many plugins, including release and scm.  It would look like this:</p>\n\n<pre><code>&lt;!-- Project POM, or a corporate parent --&gt;\n&lt;properties&gt;\n  &lt;project.scm.id&gt;your.subversion.host&lt;project.scm.id&gt;  &lt;!-- note, no scm:svn part --&gt;\n&lt;/properties&gt;\n\n&lt;!-- User's settings.xml file --&gt;\n&lt;server&gt;\n    &lt;id&gt;your.subversion.host&lt;/id&gt;\n    &lt;username&gt;username&lt;/username&gt;\n    &lt;password&gt;password&lt;/password&gt;  &lt;!-- encrypted I hope! --&gt;\n&lt;/server&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4910819,"reputation":395,"user_id":3956172,"display_name":"Sebastian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427372065,"creation_date":1427372065,"answer_id":29278183,"question_id":25856735,"body_markdown":"Subversion really changes from 1.6.x to 1.8.x. This problem may be due to that (especially using Windows + Active Directory).\r\n\r\nIf invoking maven from eclipse it then tries to access the SVN not using Subclipse. Assume that you even use an external Maven installation. This external installation does not know your Eclipse / Subclipse and thus calls SVN available on your platform (depending on Windows path variable). This SVN for does not know of your Eclipse and hence has to get the credentials from somewhere else (for example %USER%\\AppData\\Roaming\\Subversion\\auth). Unfortunately at this point something seems to have been broken with the maven-release-plugin since SVN protocol version 1.6.\r\n\r\nCurrently no best solution is known and it is unclear what exactly causes the maven-release-plugin to fail. The best work around maybe to provide the credentials in the Eclipse Run configuration (JRE tab, then argument Dusername=... -Dpassword=...).\r\n\r\nI would recommend not to store the credentials somewhere where they might be accidentally exploited to others.","title":"Maven svn: E215004: Authentication failed and interactive prompting is disabled; see the --force-interactive option","body":"<p>Subversion really changes from 1.6.x to 1.8.x. This problem may be due to that (especially using Windows + Active Directory).</p>\n\n<p>If invoking maven from eclipse it then tries to access the SVN not using Subclipse. Assume that you even use an external Maven installation. This external installation does not know your Eclipse / Subclipse and thus calls SVN available on your platform (depending on Windows path variable). This SVN for does not know of your Eclipse and hence has to get the credentials from somewhere else (for example %USER%\\AppData\\Roaming\\Subversion\\auth). Unfortunately at this point something seems to have been broken with the maven-release-plugin since SVN protocol version 1.6.</p>\n\n<p>Currently no best solution is known and it is unclear what exactly causes the maven-release-plugin to fail. The best work around maybe to provide the credentials in the Eclipse Run configuration (JRE tab, then argument Dusername=... -Dpassword=...).</p>\n\n<p>I would recommend not to store the credentials somewhere where they might be accidentally exploited to others.</p>\n"}],"owner":{"account_id":1780819,"reputation":117,"user_id":1623627,"accept_rate":60,"display_name":"user1623627"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14452,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1692741790,"creation_date":1410814462,"question_id":25856735,"body_markdown":"When I try to do a `mvn release: perform`, I get this error \r\n\r\n    [ERROR] Provider message:\r\n    [ERROR] The svn command failed.\r\n    [ERROR] Command output:\r\n    [ERROR] svn: E215004: Authentication failed and interactive prompting is disabled; see the --force-interactive option\r\n    svn: E215004: Commit failed (details follow):\r\n    svn: E215004: No more credentials or we tried too many times.\r\n    Authentication failed\r\n    svn: E215004: Additional errors:\r\n    svn: E215004: No more credentials or we tried too many times.\r\n    Authentication failed\r\n\r\n\r\nSo I thought something maybe wrong with my pom. So I tried doing \r\n\r\n    mvn scm:checkin -Dmessage=&quot;relase&quot; -Dusername=&lt;username&gt; -Dpassword=&lt;password&gt;.\r\n\r\nI have the scm related section in pom in this manner:\r\n\r\n    &lt;scm&gt;\r\n      &lt;url&gt;url&lt;/url&gt; \r\n      &lt;connection&gt;scm:svn:url&lt;/connection&gt; \r\n      &lt;developerConnection&gt;scm:svn:url&lt;/developerConnection&gt;\r\n     \r\n      &lt;/scm&gt;\r\n\r\nBut I still get the same error. \r\n\r\nI have subclipse installed in eclipse. I have collabnet and tortoise SVN installed on my machine. All are 1.8.1 version. When I try to checkin directly from eclipse using Team--&gt; Commit, I am able to commit using the same credentials. Also I am able to commit using the same credentials from TortoiseSVN. But using the same credentials I am not able to release perform or scm checkin from maven. I saw some links which talk about ${user.home}\\.scm\\svn-settings.xml where we can configure interactive svn. But I do not see it on my machine. I do not see the .scm folder itself. Am I doing anything wrong here?\r\n\r\nThese are software that I installed in eclipse\r\n\r\nCollabnet merge client -4.0.2\r\nSubclipse- 1.10.4\r\nSubclipse client adapter -1.10.1\r\nSubversion JavaHL native library adapter- 1.8.8.1\r\n","title":"Maven svn: E215004: Authentication failed and interactive prompting is disabled; see the --force-interactive option","body":"<p>When I try to do a <code>mvn release: perform</code>, I get this error </p>\n\n<pre><code>[ERROR] Provider message:\n[ERROR] The svn command failed.\n[ERROR] Command output:\n[ERROR] svn: E215004: Authentication failed and interactive prompting is disabled; see the --force-interactive option\nsvn: E215004: Commit failed (details follow):\nsvn: E215004: No more credentials or we tried too many times.\nAuthentication failed\nsvn: E215004: Additional errors:\nsvn: E215004: No more credentials or we tried too many times.\nAuthentication failed\n</code></pre>\n\n<p>So I thought something maybe wrong with my pom. So I tried doing </p>\n\n<pre><code>mvn scm:checkin -Dmessage=\"relase\" -Dusername=&lt;username&gt; -Dpassword=&lt;password&gt;.\n</code></pre>\n\n<p>I have the scm related section in pom in this manner:</p>\n\n<pre><code>&lt;scm&gt;\n  &lt;url&gt;url&lt;/url&gt; \n  &lt;connection&gt;scm:svn:url&lt;/connection&gt; \n  &lt;developerConnection&gt;scm:svn:url&lt;/developerConnection&gt;\n\n  &lt;/scm&gt;\n</code></pre>\n\n<p>But I still get the same error. </p>\n\n<p>I have subclipse installed in eclipse. I have collabnet and tortoise SVN installed on my machine. All are 1.8.1 version. When I try to checkin directly from eclipse using Team--> Commit, I am able to commit using the same credentials. Also I am able to commit using the same credentials from TortoiseSVN. But using the same credentials I am not able to release perform or scm checkin from maven. I saw some links which talk about ${user.home}.scm\\svn-settings.xml where we can configure interactive svn. But I do not see it on my machine. I do not see the .scm folder itself. Am I doing anything wrong here?</p>\n\n<p>These are software that I installed in eclipse</p>\n\n<p>Collabnet merge client -4.0.2\nSubclipse- 1.10.4\nSubclipse client adapter -1.10.1\nSubversion JavaHL native library adapter- 1.8.8.1</p>\n"},{"tags":["java","oracle"],"comments":[{"owner":{"account_id":208332,"reputation":51988,"user_id":458741,"accept_rate":67,"display_name":"Ben"},"score":0,"creation_date":1386163905,"post_id":20375222,"comment_id":30422391,"body_markdown":"Do you have permissions to access the file?","body":"Do you have permissions to access the file?"},{"owner":{"account_id":3680737,"reputation":475,"user_id":3065757,"accept_rate":0,"display_name":"user3065757"},"score":0,"creation_date":1386164698,"post_id":20375222,"comment_id":30422853,"body_markdown":"Yes I have, but how can i Check that ?","body":"Yes I have, but how can i Check that ?"},{"owner":{"account_id":208332,"reputation":51988,"user_id":458741,"accept_rate":67,"display_name":"Ben"},"score":0,"creation_date":1386164992,"post_id":20375222,"comment_id":30423030,"body_markdown":"If you&#39;re on windows right-click on the file then click properties.","body":"If you&#39;re on windows right-click on the file then click properties."},{"owner":{"account_id":3680737,"reputation":475,"user_id":3065757,"accept_rate":0,"display_name":"user3065757"},"score":0,"creation_date":1386165171,"post_id":20375222,"comment_id":30423118,"body_markdown":"I have all the permission, I verified...","body":"I have all the permission, I verified..."}],"answers":[{"tags":[],"owner":{"account_id":98359,"reputation":184987,"user_id":266304,"display_name":"Alex Poole"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386166575,"creation_date":1386166031,"answer_id":20377517,"question_id":20375222,"body_markdown":"The first script is being created and executed in the current working directory, so it will always exist (assuming you have permission to create there). The second is expected to be in the current working directory as well. The question is, then, what is the current working directory?\r\n\r\nIt looks like you&#39;re expecting it to be `C:/Users/sony/Documents/NetBeansProjects/CodeReview/src/codereview/`, and if you run the `.bat` manually there it works OK (from what you&#39;ve said); so when you call it from Java it must be somewhere else. That will either be whatever the working directory was when your JVM launched, or your home directory, I think - not quite sure.\r\n\r\nYou need to specify the correct directory, either hard-coded into the script, or passed as another parameter. You may then want to `cd` to that in your script so the `DIR_REPORT.sql` is created in the same, known, place; otherwise you can use it create the full path to `PACKAGE_SCRIPTv2.sql`.","title":"SP2-0310: unable to open file .sql","body":"<p>The first script is being created and executed in the current working directory, so it will always exist (assuming you have permission to create there). The second is expected to be in the current working directory as well. The question is, then, what is the current working directory?</p>\n\n<p>It looks like you're expecting it to be <code>C:/Users/sony/Documents/NetBeansProjects/CodeReview/src/codereview/</code>, and if you run the <code>.bat</code> manually there it works OK (from what you've said); so when you call it from Java it must be somewhere else. That will either be whatever the working directory was when your JVM launched, or your home directory, I think - not quite sure.</p>\n\n<p>You need to specify the correct directory, either hard-coded into the script, or passed as another parameter. You may then want to <code>cd</code> to that in your script so the <code>DIR_REPORT.sql</code> is created in the same, known, place; otherwise you can use it create the full path to <code>PACKAGE_SCRIPTv2.sql</code>.</p>\n"},{"tags":[],"owner":{"account_id":3680737,"reputation":475,"user_id":3065757,"accept_rate":0,"display_name":"user3065757"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386244738,"creation_date":1386244738,"answer_id":20399425,"question_id":20375222,"body_markdown":"yeah the problem is path defined in statement contains all the files but while execution the script is going only till :\r\n\r\n&quot;C:/Users/sony/Documents/NetBeansProjects/CodeReview&quot;\r\n\r\nThis is what was displayed in cmd, so I have placed the file into this directory and it started working...don&#39;t know the reason.\r\n\r\nTIP: when you find such kind of issue please look at the error message properly as it will tell you where the script is looking when it got failed, so just place the file at that location and will work...\r\n\r\nEnjoy \\m/","title":"SP2-0310: unable to open file .sql","body":"<p>yeah the problem is path defined in statement contains all the files but while execution the script is going only till :</p>\n\n<p>\"C:/Users/sony/Documents/NetBeansProjects/CodeReview\"</p>\n\n<p>This is what was displayed in cmd, so I have placed the file into this directory and it started working...don't know the reason.</p>\n\n<p>TIP: when you find such kind of issue please look at the error message properly as it will tell you where the script is looking when it got failed, so just place the file at that location and will work...</p>\n\n<p>Enjoy \\m/</p>\n"}],"owner":{"account_id":3680737,"reputation":475,"user_id":3065757,"accept_rate":0,"display_name":"user3065757"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692741790,"creation_date":1386159619,"question_id":20375222,"body_markdown":"I am calling batch file from my java program which in result execute some .sql files.\r\nthe batch script is below:\r\n\r\n    set part1= CREATE OR REPLACE DIRECTORY REPORT AS &#39;\r\n    set total=%part1%%4&#39;;\r\n    echo %total% &gt; DIR_REPORT.sql\r\n    echo exit; &gt;&gt;DIR_REPORT.sql\r\n    sqlplus %1/%2@%3 @./DIR_REPORT.sql\r\n    sqlplus %1/%2@%3 @./PACKAGE_SCRIPTv2.sql\r\n\r\nand my java code is :\r\n\r\n    Runtime run = Runtime.getRuntime();\r\n    System.out.println(&quot;Start Running the batch file&quot;);\r\n    Process p = run.exec(new String[]{&quot;cmd.exe&quot;,&quot;/c&quot;, &quot;start&quot;, &quot;C:/Users/sony/Documents/NetBeansProjects/CodeReview/src/codereview/install.bat&quot;,i,j,m,l});\r\n    System.out.println(&quot;Completed&quot;);\r\n\r\nit is giving error:\r\n\r\n    SP2-0310: unable to open file\r\n\r\nThe first file generated using the batch (DIR_REPORT) is being executed but my PACKAGE_SCRIPTv2.sql is not being executed but raises error, please help me what to do.\r\n\r\nalthough when a run batch file mannualy from cmd everything works fine...","title":"SP2-0310: unable to open file .sql","body":"<p>I am calling batch file from my java program which in result execute some .sql files.\nthe batch script is below:</p>\n\n<pre><code>set part1= CREATE OR REPLACE DIRECTORY REPORT AS '\nset total=%part1%%4';\necho %total% &gt; DIR_REPORT.sql\necho exit; &gt;&gt;DIR_REPORT.sql\nsqlplus %1/%2@%3 @./DIR_REPORT.sql\nsqlplus %1/%2@%3 @./PACKAGE_SCRIPTv2.sql\n</code></pre>\n\n<p>and my java code is :</p>\n\n<pre><code>Runtime run = Runtime.getRuntime();\nSystem.out.println(\"Start Running the batch file\");\nProcess p = run.exec(new String[]{\"cmd.exe\",\"/c\", \"start\", \"C:/Users/sony/Documents/NetBeansProjects/CodeReview/src/codereview/install.bat\",i,j,m,l});\nSystem.out.println(\"Completed\");\n</code></pre>\n\n<p>it is giving error:</p>\n\n<pre><code>SP2-0310: unable to open file\n</code></pre>\n\n<p>The first file generated using the batch (DIR_REPORT) is being executed but my PACKAGE_SCRIPTv2.sql is not being executed but raises error, please help me what to do.</p>\n\n<p>although when a run batch file mannualy from cmd everything works fine...</p>\n"},{"tags":["java","intellij-idea","jepp"],"comments":[{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1624025461,"post_id":68034602,"comment_id":120252513,"body_markdown":"How do you run the app in IDE? Please add this information. In Run/Debug Configuration there are **VM Options** field where you need to add the `-Djava.library.path` option. You do not need to add it in the IDE .vmoptions file.","body":"How do you run the app in IDE? Please add this information. In Run/Debug Configuration there are <b>VM Options</b> field where you need to add the <code>-Djava.library.path</code> option. You do not need to add it in the IDE .vmoptions file."},{"owner":{"account_id":1638376,"reputation":1661,"user_id":1511294,"accept_rate":52,"display_name":"Ayan Biswas"},"score":0,"creation_date":1624027159,"post_id":68034602,"comment_id":120253267,"body_markdown":"Thanks for pointing out the issue with VM options , but even after specifying it I am getting an error","body":"Thanks for pointing out the issue with VM options , but even after specifying it I am getting an error"},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1624533792,"post_id":68034602,"comment_id":120388060,"body_markdown":"For the 1st error: `Library not loaded: @rpath/libpython3.8.dylib` try to specify the `LD_LIBRARY_PATH` into **Environment variables** box in IDE run configuration and make sure the path you set - contains needed library. See also https://github.com/ninia/jep/wiki/FAQ#how-do-i-fix-unsatisfied-link-error-no-jep-in-javalibrarypath","body":"For the 1st error: <code>Library not loaded: @rpath&#47;libpython3.8.dylib</code> try to specify the <code>LD_LIBRARY_PATH</code> into <b>Environment variables</b> box in IDE run configuration and make sure the path you set - contains needed library. See also <a href=\"https://github.com/ninia/jep/wiki/FAQ#how-do-i-fix-unsatisfied-link-error-no-jep-in-javalibrarypath\" rel=\"nofollow noreferrer\">github.com/ninia/jep/wiki/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":29278566,"reputation":1,"user_id":22431739,"display_name":"Jeanette Clark"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692741749,"creation_date":1692741749,"answer_id":76957094,"question_id":68034602,"body_markdown":"If it helps the original poster, or anyone else who comes across this post:\r\n\r\nIf you have followed all of the advice [here](https://github.com/ninia/jep/wiki/FAQ#how-do-i-fix-unsatisfied-link-error-no-jep-in-javalibrarypath) and still get the `UnsatisfiedLinkError`, make sure your python `jep` install is the same version as the version listed in your pom.xml","title":"UnsatisfiedLinkError ,while using JEP","body":"<p>If it helps the original poster, or anyone else who comes across this post:</p>\n<p>If you have followed all of the advice <a href=\"https://github.com/ninia/jep/wiki/FAQ#how-do-i-fix-unsatisfied-link-error-no-jep-in-javalibrarypath\" rel=\"nofollow noreferrer\">here</a> and still get the <code>UnsatisfiedLinkError</code>, make sure your python <code>jep</code> install is the same version as the version listed in your pom.xml</p>\n"}],"owner":{"account_id":1638376,"reputation":1661,"user_id":1511294,"accept_rate":52,"display_name":"Ayan Biswas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":812,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692741749,"creation_date":1624016791,"question_id":68034602,"body_markdown":"I am trying to use JEP to communicate with a python module from Java.\r\nI am using intellij on MacOS catalina\r\nI have done the following\r\n1. Used pip to install JEP, installation directory is `/Applications/anaconda3/lib/python3.8/site-packages/jep/`\r\n2. Add the path as an environment variable in .zshrc file\r\n\r\n    export LD_LIBRARY_PATH=&#39;/Applications/anaconda3/lib/python3.8/site-packages/jep/&#39;\r\n3. Added the path in jvm params like this\r\n[![enter image description here][1]][1]\r\n\r\n4. I am getting the error(from intellij) in this line\r\n`Jep jep = new Jep();`\r\n\r\n\r\n   **The error that I am getting is this** \r\n \r\n\r\n    `Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: /Applications/anaconda3/lib/python3.8/site-packages/jep/libjep.jnilib:dlopen(/Applications/anaconda3/lib/python3.8/site-packages/jep/libjep.jnilib, \r\n1): Library not loaded: @rpath/libpython3.8.dylib`\r\n\r\n   \r\n\r\n 5. If I package the code in jar ,and run it as java -jar somejar.jar\r\nIt gives an error \r\n\r\n    `Error: Unable to initialize main class Application\r\n    Caused by: java.lang.NoClassDefFoundError: jep/JepException`\r\n \r\n 6.My build.gradle file looks like this \r\n\r\n    dependencies {\r\n        // https://mvnrepository.com/artifact/black.ninia/jep\r\n        implementation group: &#39;black.ninia&#39;, name: &#39;jep&#39;, version: &#39;3.8.2&#39;\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.7.0&#39;\r\n        testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.7.0&#39;\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VOWEr.png","title":"UnsatisfiedLinkError ,while using JEP","body":"<p>I am trying to use JEP to communicate with a python module from Java.\nI am using intellij on MacOS catalina\nI have done the following</p>\n<ol>\n<li><p>Used pip to install JEP, installation directory is <code>/Applications/anaconda3/lib/python3.8/site-packages/jep/</code></p>\n</li>\n<li><p>Add the path as an environment variable in .zshrc file</p>\n<p>export LD_LIBRARY_PATH='/Applications/anaconda3/lib/python3.8/site-packages/jep/'</p>\n</li>\n<li><p>Added the path in jvm params like this\n<a href=\"https://i.stack.imgur.com/VOWEr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VOWEr.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>I am getting the error(from intellij) in this line\n<code>Jep jep = new Jep();</code></p>\n<p><strong>The error that I am getting is this</strong></p>\n<p><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: /Applications/anaconda3/lib/python3.8/site-packages/jep/libjep.jnilib:dlopen(/Applications/anaconda3/lib/python3.8/site-packages/jep/libjep.jnilib,  1): Library not loaded: @rpath/libpython3.8.dylib</code></p>\n</li>\n<li><p>If I package the code in jar ,and run it as java -jar somejar.jar\nIt gives an error</p>\n<p><code>Error: Unable to initialize main class Application Caused by: java.lang.NoClassDefFoundError: jep/JepException</code></p>\n</li>\n</ol>\n<p>6.My build.gradle file looks like this</p>\n<pre><code>dependencies {\n    // https://mvnrepository.com/artifact/black.ninia/jep\n    implementation group: 'black.ninia', name: 'jep', version: '3.8.2'\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.7.0'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.7.0'\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":7947498,"reputation":106,"user_id":5999496,"display_name":"Flavio Ferreira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692740538,"creation_date":1692740538,"answer_id":76957002,"question_id":76626097,"body_markdown":"I had the same problem and fixed it changing the folders name to eliminate the space on it. As in your case: &quot;D:\\androd test&quot; to &quot;D:\\androd_test&quot;\r\n","title":"How to fix CXX1429] error when building with ndkBuild","body":"<p>I had the same problem and fixed it changing the folders name to eliminate the space on it. As in your case: &quot;D:\\androd test&quot; to &quot;D:\\androd_test&quot;</p>\n"}],"owner":{"account_id":28960332,"reputation":3,"user_id":22182943,"display_name":"NHUT BUI DUY"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":469,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76957002,"answer_count":1,"score":0,"last_activity_date":1692740538,"creation_date":1688625363,"question_id":76626097,"body_markdown":"How to fix [CXX1429] error when building with ndkBuild using D:\\androd test\\Android-Mod-Menu-3.2\\app\\src\\main\\jni\\Android.mk: Android NDK: Your APP_BUILD_SCRIPT points to an unknown file: D:\\androd test\\Android-Mod-Menu-3.2\\app\\src\\main\\jni\\Android.mk    \r\n...\r\nD:/sdk/ndk/25.1.8937393/build/../build/core/add-application.mk:88: *** Android NDK: Aborting...    .  Stop.\r\n\r\n\r\nsource : https://github.com/LGLTeam/Android-Mod-Menu/releases/tag/3.2\r\n[Imahes error](https://i.stack.imgur.com/hgYT4.png)","title":"How to fix CXX1429] error when building with ndkBuild","body":"<p>How to fix [CXX1429] error when building with ndkBuild using D:\\androd test\\Android-Mod-Menu-3.2\\app\\src\\main\\jni\\Android.mk: Android NDK: Your APP_BUILD_SCRIPT points to an unknown file: D:\\androd test\\Android-Mod-Menu-3.2\\app\\src\\main\\jni\\Android.mk<br />\n...\nD:/sdk/ndk/25.1.8937393/build/../build/core/add-application.mk:88: *** Android NDK: Aborting...    .  Stop.</p>\n<p>source : <a href=\"https://github.com/LGLTeam/Android-Mod-Menu/releases/tag/3.2\" rel=\"nofollow noreferrer\">https://github.com/LGLTeam/Android-Mod-Menu/releases/tag/3.2</a>\n<a href=\"https://i.stack.imgur.com/hgYT4.png\" rel=\"nofollow noreferrer\">Imahes error</a></p>\n"},{"tags":["java","x86","volatile","jvm-hotspot","memory-barriers"],"answers":[{"tags":[],"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1692739582,"creation_date":1578726218,"answer_id":59692369,"question_id":59692233,"body_markdown":"**It&#39;s not the runtime effect of the fence that matters, it&#39;s the compile-time effect of forcing the compiler to reload stuff.**\r\n\r\n**Your `t1` loop contains no `volatile` reads or anything else that could synchronize-with another thread, so there&#39;s no guarantee it will *ever* notice any changes to any variables.**  i.e. when JITing into asm, the compiler can make a loop that loads the value into a register once, instead of reloading it from memory every time.  This is the kind of optimization you always want the compiler to be able to do for non-shared data, which is why the language has rules that let it do this when there&#39;s no possible synchronization.\r\n\r\n\r\nAnd then of course the condition can get hoisted out of the loop.  So with no barriers or anything, **your reader loop can JIT into asm that implements this logic**:\r\n\r\n\r\n```\r\nif(t.flag) {\r\n   for(;;){}  // infinite loop\r\n}\r\n```\r\n\r\nBesides ordering, the other part of Java `volatile` is the assumption that other threads may change it asynchronously, so multiple reads can&#39;t be assumed to give the same value.\r\n\r\n\r\nBut `unsafe.loadFence();` makes the JVM reload `t.flag` from (cache-coherent) memory every iteration.  I don&#39;t know if this is required by the Java spec or merely an implementation detail that makes it happen to work.\r\n\r\nIf this was C++ with a non-`atomic` variable (which would be undefined behaviour in C++), you&#39;d see exactly the same effect in a compiler like GCC. `_mm_lfence` would also be a compile-time full-barrier as well as emitting a useless `lfence` instruction, effectively telling the compiler that all memory might have changed and thus needs to be reloaded.  So it can&#39;t reorder loads across it, or hoist them out of loops.\r\n\r\nBTW, I wouldn&#39;t be so sure that `unsafe.loadFence()` even JITs to an `lfence` instruction on x86.  It *is* useless for memory ordering (except for very obscure stuff like fencing NT loads from WC memory, e.g. copying from video RAM, which the JVM can assume isn&#39;t happening), so a JVM JITing for x86 could just treat it as a compile-time barrier.  Just like what C++ compilers do for `std::atomic_thread_fence(std::memory_order_acquire);` - block compile time reordering of loads across the barrier, but emit no asm instructions because the asm memory of the host running the JVM is already strong enough.\r\n\r\n----\r\n\r\n**In thread 2, `unsafe.fullFence();` is I think useless**.  It just makes *that* thread wait until earlier stores become globally visible, before any later loads/stores can happen.  `t.flag = false;` is a visible side effect that can&#39;t be optimized away so it definitely happens in the JITed asm whether there&#39;s a barrier following it or not, even though it&#39;s not `volatile`.  And it can&#39;t be delayed or merged with something else because there&#39;s nothing else in the same thread.\r\n\r\nAsm stores always become visible to other threads, the only question is whether the current thread waits for its store buffer to drain or not before doing more stuff (especially loads) in this thread.  i.e. prevent all reordering, including StoreLoad.  Java `volatile` does that, like C++ `memory_order_seq_cst` (by using a full barrier after every store), but without a barrier it&#39;s still a store like C++ `memory_order_relaxed`.  (Or when JITing x86 asm, loads/stores are actually as strong as acquire/release.)\r\n\r\nCaches are coherent, and the store buffer always drains itself (committing to L1d cache) as fast as it can to make room for more stores to execute.\r\n\r\n----\r\n\r\nCaveat: I don&#39;t know a lot of Java, and I don&#39;t know exactly how unsafe / undefined it is to assign a non-`volatile` in one thread and read it in another with no synchronization.  Based on the behaviour you&#39;re seeing, it sounds exactly like what you&#39;d see in C++ for the same thing with non-`atomic` variables (with optimization enabled, like HotSpot always does)\r\n\r\n(Based on @Margaret&#39;s comment, I updated with some guesswork about how I assume Java synchronization works.  If I mis-stated anything, please edit or comment.)\r\n\r\nIn C++ data races on non-`atomic` vars are always Undefined Behaviour, but of course when compiling for real ISAs (which don&#39;t do hardware race-prevention) the results are sometimes what people wanted.\r\n\r\n---\r\n\r\nPS: **just using barriers to force a compiler to re-read a value isn&#39;t safe in general**: it could choose to re-read the value multiple times even if the source copies it to a local variable.  So  the same tmp var might seem to be both true and false in one execution.  At least that&#39;s true in C and C++ because data races are undefined behaviour in those languages; see  [Who&#39;s afraid of a big bad optimizing compiler?][1] on LWN about this and other problems you&#39;d run into if you just use barriers and plain (non-`volatile`) variables.  Again, I don&#39;t know if that&#39;s a possible problem in Java or if the language spec would forbid a JVM from inventing loads after `int tmp = shared_plain_int;` if `tmp` is used multiple times across function calls.\r\n\r\n\r\n  [1]: https://lwn.net/Articles/793253/","title":"Why does Unsafe.fullFence() not ensuring visibility in my example?","body":"<p><strong>It's not the runtime effect of the fence that matters, it's the compile-time effect of forcing the compiler to reload stuff.</strong></p>\n<p><strong>Your <code>t1</code> loop contains no <code>volatile</code> reads or anything else that could synchronize-with another thread, so there's no guarantee it will <em>ever</em> notice any changes to any variables.</strong>  i.e. when JITing into asm, the compiler can make a loop that loads the value into a register once, instead of reloading it from memory every time.  This is the kind of optimization you always want the compiler to be able to do for non-shared data, which is why the language has rules that let it do this when there's no possible synchronization.</p>\n<p>And then of course the condition can get hoisted out of the loop.  So with no barriers or anything, <strong>your reader loop can JIT into asm that implements this logic</strong>:</p>\n<pre><code>if(t.flag) {\n   for(;;){}  // infinite loop\n}\n</code></pre>\n<p>Besides ordering, the other part of Java <code>volatile</code> is the assumption that other threads may change it asynchronously, so multiple reads can't be assumed to give the same value.</p>\n<p>But <code>unsafe.loadFence();</code> makes the JVM reload <code>t.flag</code> from (cache-coherent) memory every iteration.  I don't know if this is required by the Java spec or merely an implementation detail that makes it happen to work.</p>\n<p>If this was C++ with a non-<code>atomic</code> variable (which would be undefined behaviour in C++), you'd see exactly the same effect in a compiler like GCC. <code>_mm_lfence</code> would also be a compile-time full-barrier as well as emitting a useless <code>lfence</code> instruction, effectively telling the compiler that all memory might have changed and thus needs to be reloaded.  So it can't reorder loads across it, or hoist them out of loops.</p>\n<p>BTW, I wouldn't be so sure that <code>unsafe.loadFence()</code> even JITs to an <code>lfence</code> instruction on x86.  It <em>is</em> useless for memory ordering (except for very obscure stuff like fencing NT loads from WC memory, e.g. copying from video RAM, which the JVM can assume isn't happening), so a JVM JITing for x86 could just treat it as a compile-time barrier.  Just like what C++ compilers do for <code>std::atomic_thread_fence(std::memory_order_acquire);</code> - block compile time reordering of loads across the barrier, but emit no asm instructions because the asm memory of the host running the JVM is already strong enough.</p>\n<hr />\n<p><strong>In thread 2, <code>unsafe.fullFence();</code> is I think useless</strong>.  It just makes <em>that</em> thread wait until earlier stores become globally visible, before any later loads/stores can happen.  <code>t.flag = false;</code> is a visible side effect that can't be optimized away so it definitely happens in the JITed asm whether there's a barrier following it or not, even though it's not <code>volatile</code>.  And it can't be delayed or merged with something else because there's nothing else in the same thread.</p>\n<p>Asm stores always become visible to other threads, the only question is whether the current thread waits for its store buffer to drain or not before doing more stuff (especially loads) in this thread.  i.e. prevent all reordering, including StoreLoad.  Java <code>volatile</code> does that, like C++ <code>memory_order_seq_cst</code> (by using a full barrier after every store), but without a barrier it's still a store like C++ <code>memory_order_relaxed</code>.  (Or when JITing x86 asm, loads/stores are actually as strong as acquire/release.)</p>\n<p>Caches are coherent, and the store buffer always drains itself (committing to L1d cache) as fast as it can to make room for more stores to execute.</p>\n<hr />\n<p>Caveat: I don't know a lot of Java, and I don't know exactly how unsafe / undefined it is to assign a non-<code>volatile</code> in one thread and read it in another with no synchronization.  Based on the behaviour you're seeing, it sounds exactly like what you'd see in C++ for the same thing with non-<code>atomic</code> variables (with optimization enabled, like HotSpot always does)</p>\n<p>(Based on @Margaret's comment, I updated with some guesswork about how I assume Java synchronization works.  If I mis-stated anything, please edit or comment.)</p>\n<p>In C++ data races on non-<code>atomic</code> vars are always Undefined Behaviour, but of course when compiling for real ISAs (which don't do hardware race-prevention) the results are sometimes what people wanted.</p>\n<hr />\n<p>PS: <strong>just using barriers to force a compiler to re-read a value isn't safe in general</strong>: it could choose to re-read the value multiple times even if the source copies it to a local variable.  So  the same tmp var might seem to be both true and false in one execution.  At least that's true in C and C++ because data races are undefined behaviour in those languages; see  <a href=\"https://lwn.net/Articles/793253/\" rel=\"nofollow noreferrer\">Who's afraid of a big bad optimizing compiler?</a> on LWN about this and other problems you'd run into if you just use barriers and plain (non-<code>volatile</code>) variables.  Again, I don't know if that's a possible problem in Java or if the language spec would forbid a JVM from inventing loads after <code>int tmp = shared_plain_int;</code> if <code>tmp</code> is used multiple times across function calls.</p>\n"},{"tags":[],"owner":{"account_id":2745991,"reputation":1440,"user_id":2366397,"display_name":"igor.zh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692737639,"creation_date":1692737639,"answer_id":76956812,"question_id":59692233,"body_markdown":"Not attempting to dispute in-depth, low-level, ASM- and JIT-geared accepted answer, given by @Peter Cordes, I&#39;d like to come with Java-only explanations of the behavior the OP described. \r\nIf the OP wants to emulate `volatile` features for his `private boolean flag` field, then according to Alexey Shipilev&#39;s blog [On The Fence With Dependencies][1], the code is missing `LoadLoad` and `LoadStore` on loading the volatile-hopeful field `flag`:\r\n\r\n&gt; The second part of that is the volatile load:\r\n&gt; \r\n\r\n    int t = x; // volatile load \r\n    [LoadLoad] \r\n    [LoadStore] \r\n    &lt;other ops&gt;\r\n\r\n(`x` variable in the blog plays a role of `flag` field in the question&#39;s code). \r\n\r\nSo, according to the blog, there is no wonder that `flag` field in the question&#39;s code does not render the `volatile` behavior.\r\n\r\nThen the blog goes on, explaining the implementation of the barrier instructions on  various hardware, but, I think, @Peter Cordes discussed this side of the story in great details.\r\n\r\nObviously, this answer is slightly &quot;formal&quot; against the spirit of the question, answer, and comments, but hopefully it can shed some light on the issue.  \r\n\r\n  [1]: https://shipilev.net/blog/2014/on-the-fence-with-dependencies/","title":"Why does Unsafe.fullFence() not ensuring visibility in my example?","body":"<p>Not attempting to dispute in-depth, low-level, ASM- and JIT-geared accepted answer, given by @Peter Cordes, I'd like to come with Java-only explanations of the behavior the OP described.\nIf the OP wants to emulate <code>volatile</code> features for his <code>private boolean flag</code> field, then according to Alexey Shipilev's blog <a href=\"https://shipilev.net/blog/2014/on-the-fence-with-dependencies/\" rel=\"nofollow noreferrer\">On The Fence With Dependencies</a>, the code is missing <code>LoadLoad</code> and <code>LoadStore</code> on loading the volatile-hopeful field <code>flag</code>:</p>\n<blockquote>\n<p>The second part of that is the volatile load:</p>\n</blockquote>\n<pre><code>int t = x; // volatile load \n[LoadLoad] \n[LoadStore] \n&lt;other ops&gt;\n</code></pre>\n<p>(<code>x</code> variable in the blog plays a role of <code>flag</code> field in the question's code).</p>\n<p>So, according to the blog, there is no wonder that <code>flag</code> field in the question's code does not render the <code>volatile</code> behavior.</p>\n<p>Then the blog goes on, explaining the implementation of the barrier instructions on  various hardware, but, I think, @Peter Cordes discussed this side of the story in great details.</p>\n<p>Obviously, this answer is slightly &quot;formal&quot; against the spirit of the question, answer, and comments, but hopefully it can shed some light on the issue.</p>\n"}],"owner":{"account_id":16253110,"reputation":45,"user_id":11736484,"display_name":"DavisZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":437,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":59692369,"answer_count":2,"score":2,"last_activity_date":1692739582,"creation_date":1578724434,"question_id":59692233,"body_markdown":"I am trying to dive deep into `volatile` keyword in Java and setup 2 testing environments. I believe both of them are with x86_64 and use hotspot.\r\n\r\n```\r\nJava version: 1.8.0_232\r\nCPU: AMD Ryzen 7 8Core\r\n\r\nJava version: 1.8.0_231\r\nCPU: Intel I7\r\n```\r\n\r\nCode is here:\r\n\r\n```\r\nimport java.lang.reflect.Field;\r\nimport sun.misc.Unsafe;\r\n\r\npublic class Test {\r\n\r\n  private boolean flag = true; //left non-volatile intentionally\r\n  private volatile int dummyVolatile = 1;\r\n\r\n  public static void main(String[] args) throws Exception {\r\n    Test t = new Test();\r\n    Field f = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\r\n    f.setAccessible(true);\r\n    Unsafe unsafe = (Unsafe) f.get(null);\r\n\r\n    Thread t1 = new Thread(() -&gt; {\r\n        while (t.flag) {\r\n          //int b = t.someValue;\r\n          //unsafe.loadFence();\r\n          //unsafe.storeFence();\r\n          //unsafe.fullFence();\r\n        }\r\n        System.out.println(&quot;Finished!&quot;);\r\n      });\r\n\r\n    Thread t2 = new Thread(() -&gt; {\r\n        t.flag = false;\r\n        unsafe.fullFence();\r\n      });\r\n\r\n    t1.start();\r\n    Thread.sleep(1000);\r\n    t2.start();\r\n    t1.join();\r\n  }\r\n}\r\n```\r\n\r\n&quot;Finished!&quot; is never printed which does not make sense to me. I am expecting the `fullFence` in thread 2 makes the `flag = false` globally visible. \r\n&lt;p&gt;\r\nFrom my research, Hotspot uses `lock/mfence` to implement `fullFence` on x86. And according to [Intel&#39;s instruction-set reference manual entry for mfence][1]\r\n\r\n&gt; This serializing operation guarantees that every load and store instruction that precedes the MFENCE instruction in program order becomes globally visible before any load or store instruction that follows the MFENCE instruction.\r\n\r\n&lt;p&gt;\r\nEven &quot;worse&quot;, if I comment out `fullFence` in thread 2 and un-comment any one of the `xxxFence` in thread 1, the code prints out &quot;Finished!&quot; This makes even less sense, because at least [`lfence` is &quot;useless&quot;/no-op in x86][2].\r\n&lt;p&gt;\r\nMaybe my source of information contains inaccuracy or i am misunderstanding something. Please help, thanks!\r\n\r\n  [1]: https://www.felixcloutier.com/x86/mfence\r\n  [2]: https://stackoverflow.com/questions/20316124/does-it-make-any-sense-to-use-the-lfence-instruction-on-x86-x86-64-processors","title":"Why does Unsafe.fullFence() not ensuring visibility in my example?","body":"<p>I am trying to dive deep into <code>volatile</code> keyword in Java and setup 2 testing environments. I believe both of them are with x86_64 and use hotspot.</p>\n\n<pre><code>Java version: 1.8.0_232\nCPU: AMD Ryzen 7 8Core\n\nJava version: 1.8.0_231\nCPU: Intel I7\n</code></pre>\n\n<p>Code is here:</p>\n\n<pre><code>import java.lang.reflect.Field;\nimport sun.misc.Unsafe;\n\npublic class Test {\n\n  private boolean flag = true; //left non-volatile intentionally\n  private volatile int dummyVolatile = 1;\n\n  public static void main(String[] args) throws Exception {\n    Test t = new Test();\n    Field f = Unsafe.class.getDeclaredField(\"theUnsafe\");\n    f.setAccessible(true);\n    Unsafe unsafe = (Unsafe) f.get(null);\n\n    Thread t1 = new Thread(() -&gt; {\n        while (t.flag) {\n          //int b = t.someValue;\n          //unsafe.loadFence();\n          //unsafe.storeFence();\n          //unsafe.fullFence();\n        }\n        System.out.println(\"Finished!\");\n      });\n\n    Thread t2 = new Thread(() -&gt; {\n        t.flag = false;\n        unsafe.fullFence();\n      });\n\n    t1.start();\n    Thread.sleep(1000);\n    t2.start();\n    t1.join();\n  }\n}\n</code></pre>\n\n<p>\"Finished!\" is never printed which does not make sense to me. I am expecting the <code>fullFence</code> in thread 2 makes the <code>flag = false</code> globally visible. \n<p>\nFrom my research, Hotspot uses <code>lock/mfence</code> to implement <code>fullFence</code> on x86. And according to <a href=\"https://www.felixcloutier.com/x86/mfence\" rel=\"nofollow noreferrer\">Intel's instruction-set reference manual entry for mfence</a></p>\n\n<blockquote>\n  <p>This serializing operation guarantees that every load and store instruction that precedes the MFENCE instruction in program order becomes globally visible before any load or store instruction that follows the MFENCE instruction.</p>\n</blockquote>\n\n<p><p>\nEven \"worse\", if I comment out <code>fullFence</code> in thread 2 and un-comment any one of the <code>xxxFence</code> in thread 1, the code prints out \"Finished!\" This makes even less sense, because at least <a href=\"https://stackoverflow.com/questions/20316124/does-it-make-any-sense-to-use-the-lfence-instruction-on-x86-x86-64-processors\"><code>lfence</code> is \"useless\"/no-op in x86</a>.\n<p>\nMaybe my source of information contains inaccuracy or i am misunderstanding something. Please help, thanks!</p>\n"},{"tags":["java","jakarta-ee","glassfish","payara"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1692748967,"post_id":76956931,"comment_id":135666050,"body_markdown":"I would start by fixing the problem identified in your first line, the warning: *“might see unexpected results or exceptions”*","body":"I would start by fixing the problem identified in your first line, the warning: <i>“might see unexpected results or exceptions”</i>"},{"owner":{"account_id":411863,"reputation":7400,"user_id":784594,"display_name":"OndroMih"},"score":0,"creation_date":1694295920,"post_id":76956931,"comment_id":135873351,"body_markdown":"On which Java version you run Payara? How did you configure it? Did you upgrade your Payara domain configuration from an older version?","body":"On which Java version you run Payara? How did you configure it? Did you upgrade your Payara domain configuration from an older version?"}],"owner":{"account_id":4157818,"reputation":1427,"user_id":4233030,"accept_rate":62,"display_name":"Python_user"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692739308,"creation_date":1692739308,"question_id":76956931,"body_markdown":"I am getting following exception while deploying my JakartaEE app to Payara-6 Community server:\r\n\r\n    [2023-08-23T02:44:31.487+0530] [] [WARNING] [] [jakarta.enterprise.launcher] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1692738871487] [levelValue: 900] You are running the product on an unsupported JDK version and might see unexpected results or exceptions.\r\n    \r\n    [2023-08-23T02:45:01.199+0530] [Payara 6.2023.8] [WARNING] [] [com.hazelcast.instance.AddressPicker] [tid: _ThreadID=28 _ThreadName=RunLevelControllerThread-1692738898792] [timeMillis: 1692738901199] [levelValue: 900] [[\r\n    [2023-08-23T02:45:01.200+0530] [Payara 6.2023.8] [WARNING] [] [com.hazelcast.instance.AddressPicker] [tid: _ThreadID=28 _ThreadName=RunLevelControllerThread-1692738898792] [timeMillis: 1692738901200] [levelValue: 900] [[\r\n    [2023-08-23T02:45:01.200+0530] [Payara 6.2023.8] [WARNING] [] [com.hazelcast.instance.AddressPicker] [tid: _ThreadID=28 _ThreadName=RunLevelControllerThread-1692738898792] [timeMillis: 1692738901200] [levelValue: 900] [[\r\n    [2023-08-23T02:45:22.521+0530] [Payara 6.2023.8] [WARNING] [] [javax.enterprise.resource.resourceadapter.org.glassfish.jdbc.deployer] [tid: _ThreadID=89 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1692738922521] [levelValue: 900] [[\r\n      Value of maxPoolSize Given, -1, was outside the bounds, default value of 32 will be used - PLEASE UPDATE YOUR VALUE]]\r\n    \r\n    [2023-08-23T02:45:22.522+0530] [Payara 6.2023.8] [WARNING] [] [javax.enterprise.resource.resourceadapter.org.glassfish.jdbc.deployer] [tid: _ThreadID=89 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1692738922522] [levelValue: 900] [[\r\n      Value of steadyPoolSize Given, -1, was outside the bounds, default value of 8 will be used - PLEASE UPDATE YOUR VALUE]]\r\n    \r\n    java.lang.ExceptionInInitializerError\r\n    \tat org.glassfish.pfl.dynamic.codegen.spi.Wrapper$PackageContext.&lt;init&gt;(Wrapper.java:477)\r\n    \tat org.glassfish.pfl.dynamic.codegen.spi.Wrapper$Environment._clear(Wrapper.java:693)\r\n    \tat org.glassfish.pfl.dynamic.codegen.spi.Wrapper$Environment.&lt;init&gt;(Wrapper.java:688)\r\n    \tat java.base/java.lang.ThreadLocal$SuppliedThreadLocal.initialValue(ThreadLocal.java:305)\r\n    \tat java.base/java.lang.ThreadLocal.setInitialValue(ThreadLocal.java:195)\r\n    \tat java.base/java.lang.ThreadLocal.get(ThreadLocal.java:172)\r\n    \tat org.glassfish.pfl.dynamic.codegen.spi.Wrapper.env(Wrapper.java:886)\r\n    \tat org.glassfish.pfl.dynamic.codegen.spi.Wrapper._clear(Wrapper.java:1142)\r\n    \tat org.glassfish.ejb.startup.EjbApplication.loadContainers(EjbApplication.java:242)\r\n    \tat org.glassfish.ejb.startup.EjbDeployer.load(EjbDeployer.java:286)\r\n    \tat org.glassfish.ejb.startup.EjbDeployer.load(EjbDeployer.java:104)\r\n\r\nThat&#39;s it. No other info! I am unable to make head or tail out of this. Please help in debugging the cause.","title":"JakartaEE: Exception while trying to deploy application to Payara-6","body":"<p>I am getting following exception while deploying my JakartaEE app to Payara-6 Community server:</p>\n<pre><code>[2023-08-23T02:44:31.487+0530] [] [WARNING] [] [jakarta.enterprise.launcher] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1692738871487] [levelValue: 900] You are running the product on an unsupported JDK version and might see unexpected results or exceptions.\n\n[2023-08-23T02:45:01.199+0530] [Payara 6.2023.8] [WARNING] [] [com.hazelcast.instance.AddressPicker] [tid: _ThreadID=28 _ThreadName=RunLevelControllerThread-1692738898792] [timeMillis: 1692738901199] [levelValue: 900] [[\n[2023-08-23T02:45:01.200+0530] [Payara 6.2023.8] [WARNING] [] [com.hazelcast.instance.AddressPicker] [tid: _ThreadID=28 _ThreadName=RunLevelControllerThread-1692738898792] [timeMillis: 1692738901200] [levelValue: 900] [[\n[2023-08-23T02:45:01.200+0530] [Payara 6.2023.8] [WARNING] [] [com.hazelcast.instance.AddressPicker] [tid: _ThreadID=28 _ThreadName=RunLevelControllerThread-1692738898792] [timeMillis: 1692738901200] [levelValue: 900] [[\n[2023-08-23T02:45:22.521+0530] [Payara 6.2023.8] [WARNING] [] [javax.enterprise.resource.resourceadapter.org.glassfish.jdbc.deployer] [tid: _ThreadID=89 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1692738922521] [levelValue: 900] [[\n  Value of maxPoolSize Given, -1, was outside the bounds, default value of 32 will be used - PLEASE UPDATE YOUR VALUE]]\n\n[2023-08-23T02:45:22.522+0530] [Payara 6.2023.8] [WARNING] [] [javax.enterprise.resource.resourceadapter.org.glassfish.jdbc.deployer] [tid: _ThreadID=89 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1692738922522] [levelValue: 900] [[\n  Value of steadyPoolSize Given, -1, was outside the bounds, default value of 8 will be used - PLEASE UPDATE YOUR VALUE]]\n\njava.lang.ExceptionInInitializerError\n    at org.glassfish.pfl.dynamic.codegen.spi.Wrapper$PackageContext.&lt;init&gt;(Wrapper.java:477)\n    at org.glassfish.pfl.dynamic.codegen.spi.Wrapper$Environment._clear(Wrapper.java:693)\n    at org.glassfish.pfl.dynamic.codegen.spi.Wrapper$Environment.&lt;init&gt;(Wrapper.java:688)\n    at java.base/java.lang.ThreadLocal$SuppliedThreadLocal.initialValue(ThreadLocal.java:305)\n    at java.base/java.lang.ThreadLocal.setInitialValue(ThreadLocal.java:195)\n    at java.base/java.lang.ThreadLocal.get(ThreadLocal.java:172)\n    at org.glassfish.pfl.dynamic.codegen.spi.Wrapper.env(Wrapper.java:886)\n    at org.glassfish.pfl.dynamic.codegen.spi.Wrapper._clear(Wrapper.java:1142)\n    at org.glassfish.ejb.startup.EjbApplication.loadContainers(EjbApplication.java:242)\n    at org.glassfish.ejb.startup.EjbDeployer.load(EjbDeployer.java:286)\n    at org.glassfish.ejb.startup.EjbDeployer.load(EjbDeployer.java:104)\n</code></pre>\n<p>That's it. No other info! I am unable to make head or tail out of this. Please help in debugging the cause.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":5919747,"reputation":3519,"user_id":4657385,"accept_rate":12,"display_name":"Sabyasachi"},"score":1,"creation_date":1561451998,"post_id":56748402,"comment_id":100057869,"body_markdown":"Check this link..https://stackoverflow.com/a/38858040/4657385","body":"Check this link..<a href=\"https://stackoverflow.com/a/38858040/4657385\">stackoverflow.com/a/38858040/4657385</a>"},{"owner":{"account_id":11671167,"reputation":5710,"user_id":8546205,"display_name":"Rahul Kushwaha"},"score":0,"creation_date":1608981596,"post_id":56748402,"comment_id":115722745,"body_markdown":"Use File provider to open the files..","body":"Use File provider to open the files.."}],"answers":[{"tags":[],"owner":{"account_id":11013382,"reputation":112,"user_id":8089931,"display_name":"Vishal Bhut"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561446674,"creation_date":1561446674,"answer_id":56748620,"question_id":56748402,"body_markdown":"\r\n\r\n    StrictMode.VmPolicy.Builder builder = new StrictMode.VmPolicy.Builder(); \r\n    \r\n    StrictMode.setVmPolicy(builder.build());","title":"How to fix android.os.FileUriExposedException: file:///storage/emulated/0/Documents/SM.pdf exposed beyond app through Intent.getData()","body":"<pre><code>StrictMode.VmPolicy.Builder builder = new StrictMode.VmPolicy.Builder(); \n\nStrictMode.setVmPolicy(builder.build());\n</code></pre>\n"}],"owner":{"account_id":15781380,"reputation":11,"user_id":11387654,"display_name":"Ahmed Alnubani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3238,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692739078,"creation_date":1561445823,"question_id":56748402,"body_markdown":"This is my code:\r\n\r\n    private void createPdf() {\r\n\r\n        File docsFolder = new File(Environment.getExternalStorageDirectory() + &quot;/Documents&quot;);\r\n        File pdfFile = new File(docsFolder.getAbsolutePath(), &quot;SM.pdf&quot;);\r\n        try {\r\n            OutputStream output = new FileOutputStream(pdfFile);\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n        try {\r\n            document.writeTo(new FileOutputStream(pdfFile));enter code here\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        // close the document\r\n        document.close();\r\n        Toast.makeText(this, &quot;PDF is created!!!&quot;, Toast.LENGTH_SHORT).show()\r\n       // openGeneratedPDF();\r\n    }\r\n\r\nlogout:\r\n&gt;android.os.FileUriExposedException: file:///storage/emulated/0/Documents/SM.pdf exposed beyond app through `Intent.getData()`","title":"How to fix android.os.FileUriExposedException: file:///storage/emulated/0/Documents/SM.pdf exposed beyond app through Intent.getData()","body":"<p>This is my code:</p>\n\n<pre><code>private void createPdf() {\n\n    File docsFolder = new File(Environment.getExternalStorageDirectory() + \"/Documents\");\n    File pdfFile = new File(docsFolder.getAbsolutePath(), \"SM.pdf\");\n    try {\n        OutputStream output = new FileOutputStream(pdfFile);\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    }\n    try {\n        document.writeTo(new FileOutputStream(pdfFile));enter code here\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    // close the document\n    document.close();\n    Toast.makeText(this, \"PDF is created!!!\", Toast.LENGTH_SHORT).show()\n   // openGeneratedPDF();\n}\n</code></pre>\n\n<p>logout:</p>\n\n<blockquote>\n  <p>android.os.FileUriExposedException: file:///storage/emulated/0/Documents/SM.pdf exposed beyond app through <code>Intent.getData()</code></p>\n</blockquote>\n"},{"tags":["java","spring-boot","tomcat"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692739502,"post_id":76956907,"comment_id":135665149,"body_markdown":"Quite confusing. Firstly, you do know that javaw.exe is nothing to do with webapps *per se* but just for executing java apps? Nothing is *installed* when you double click a jar. It will simply be run (usually) by javaw.exe. Now, that app *might* create a web server that you can access via your browser. Now your app *might* also be able to be packaged, if a webapp, as a war file. Two different things","body":"Quite confusing. Firstly, you do know that javaw.exe is nothing to do with webapps <i>per se</i> but just for executing java apps? Nothing is <i>installed</i> when you double click a jar. It will simply be run (usually) by javaw.exe. Now, that app <i>might</i> create a web server that you can access via your browser. Now your app <i>might</i> also be able to be packaged, if a webapp, as a war file. Two different things"},{"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"score":0,"creation_date":1692739839,"post_id":76956907,"comment_id":135665191,"body_markdown":"@g00se Sorry if confusing. Feel free to ask anything needed to clarify. It is a REST API. When deploying it generating a jar it works. When double clicking the jar it starts javaw.exe process. But instead of jar I need to deploy it using war (for other reasons). But that is not working. When I upload it using Tomcat manager and try to open the same link in the browser I get a 404 error. The only difference I noticed is that in this case javaw.exe is not started. So was wondering if it should.","body":"@g00se Sorry if confusing. Feel free to ask anything needed to clarify. It is a REST API. When deploying it generating a jar it works. When double clicking the jar it starts javaw.exe process. But instead of jar I need to deploy it using war (for other reasons). But that is not working. When I upload it using Tomcat manager and try to open the same link in the browser I get a 404 error. The only difference I noticed is that in this case javaw.exe is not started. So was wondering if it should."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692740091,"post_id":76956907,"comment_id":135665214,"body_markdown":"A war is an entirely different beast. How are you building your war?","body":"A war is an entirely different beast. How are you building your war?"},{"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"score":0,"creation_date":1692740254,"post_id":76956907,"comment_id":135665232,"body_markdown":"Both the war and jar I&#39;m building in Spring Tool Suite. In STS &gt; right click projet name &gt; Run As &gt; Maven Build… &gt; In “Goals” type: clean package -DskipTests &gt; Run.  The only difference is that change pom.xml to either one in &lt;packaging&gt;war&lt;/packaging&gt;","body":"Both the war and jar I&#39;m building in Spring Tool Suite. In STS &gt; right click projet name &gt; Run As &gt; Maven Build… &gt; In “Goals” type: clean package -DskipTests &gt; Run.  The only difference is that change pom.xml to either one in &lt;packaging&gt;war&lt;/packaging&gt;"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692740664,"post_id":76956907,"comment_id":135665267,"body_markdown":"There could be many reasons for the 404. What does the Tomcat log say *when you deploy*? *The only difference I noticed is that in this case javaw.exe is not started. So was wondering if it should.* Again, javaw has nothing to do with webapps (normally)","body":"There could be many reasons for the 404. What does the Tomcat log say <i>when you deploy</i>? <i>The only difference I noticed is that in this case javaw.exe is not started. So was wondering if it should.</i> Again, javaw has nothing to do with webapps (normally)"},{"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"score":0,"creation_date":1692740922,"post_id":76956907,"comment_id":135665294,"body_markdown":"There are no error in the catalina logs. ```org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [C:\\Program Files\\Apache Software Foundation\\Tomcat 10.1\\webapps\\myapp.war] has finished in [7,724] ms```","body":"There are no error in the catalina logs. <code>org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [C:\\Program Files\\Apache Software Foundation\\Tomcat 10.1\\webapps\\myapp.war] has finished in [7,724] ms</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692741013,"post_id":76956907,"comment_id":135665305,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/255006/discussion-between-g00se-and-jkfe).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/255006/discussion-between-g00se-and-jkfe\">continue this discussion in chat</a>."},{"owner":{"account_id":4703670,"reputation":141,"user_id":3806532,"display_name":"Tavo Sanchez"},"score":0,"creation_date":1692741853,"post_id":76956907,"comment_id":135665398,"body_markdown":"In your main class with the `@SpringBootApplication` annotation, did you extend from `SpringBootServletInitializer` ? If not that might be your problem. Packaging in a Jar file will create and initialize beans automatically and if you want to use a war file you need to tell to bind the beans from the application context to the tomcat.","body":"In your main class with the <code>@SpringBootApplication</code> annotation, did you extend from <code>SpringBootServletInitializer</code> ? If not that might be your problem. Packaging in a Jar file will create and initialize beans automatically and if you want to use a war file you need to tell to bind the beans from the application context to the tomcat."},{"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"score":0,"creation_date":1692744620,"post_id":76956907,"comment_id":135665669,"body_markdown":"@Tavo Sanchez Just need to add ```extends SpringBootServletInitializer``` to ```public class MyApp extends SpringBootServletInitializer``` or need anything else like overriding a method? I tried just adding the ```extends``` and had no effect.","body":"@Tavo Sanchez Just need to add <code>extends SpringBootServletInitializer</code> to <code>public class MyApp extends SpringBootServletInitializer</code> or need anything else like overriding a method? I tried just adding the <code>extends</code> and had no effect."},{"owner":{"account_id":4703670,"reputation":141,"user_id":3806532,"display_name":"Tavo Sanchez"},"score":0,"creation_date":1692807460,"post_id":76956907,"comment_id":135675453,"body_markdown":"You need to override the configure method. Here is the spring [documentation](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto.traditional-deployment.war) for reference","body":"You need to override the configure method. Here is the spring <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto.traditional-deployment.war\" rel=\"nofollow noreferrer\">documentation</a> for reference"},{"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"score":0,"creation_date":1692811055,"post_id":76956907,"comment_id":135676122,"body_markdown":"@Tavo Sanchez I did as informed in the documentation you shared. Still not working.","body":"@Tavo Sanchez I did as informed in the documentation you shared. Still not working."},{"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"score":0,"creation_date":1692813925,"post_id":76956907,"comment_id":135676619,"body_markdown":"I tested on Tomcat to version 9.0.76 and it worked. For some reason it does not work on v 10.1.12.","body":"I tested on Tomcat to version 9.0.76 and it worked. For some reason it does not work on v 10.1.12."},{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1692871111,"post_id":76956907,"comment_id":135683916,"body_markdown":"Might be a path issue. Did you set a context path in your application.properties (or yaml)? If not, I guess the `/myapp` part of the URL comes from a Controller/RestController. In that case, on Tomcat, the URL should be `http://localhost:8080/myapp/myapp`","body":"Might be a path issue. Did you set a context path in your application.properties (or yaml)? If not, I guess the <code>&#47;myapp</code> part of the URL comes from a Controller/RestController. In that case, on Tomcat, the URL should be <code>http:&#47;&#47;localhost:8080&#47;myapp&#47;myapp</code>"},{"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"score":0,"creation_date":1692881406,"post_id":76956907,"comment_id":135686084,"body_markdown":"@grekier Yes, I did. Also had already tried to access the path you suggested.","body":"@grekier Yes, I did. Also had already tried to access the path you suggested."}],"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692739017,"creation_date":1692739017,"question_id":76956907,"body_markdown":"I&#39;m getting a 404 error when trying to access application deployed with Tomcat Manager.\r\n\r\nIt&#39;s a Spring Boot Java app.\r\n\r\nThis is how I&#39;m doing:\r\n1. Open http://localhost:8080/manager/html\r\n2. Select myfile.war in &quot;war file to deploy&quot; and click &quot;deploy&quot;\r\n3. The application successfully deploys. It becomes listed in the list of applications. I can click to Stop and Start it just fine.\r\n4. Then I click the application link in the list to open it in the browser\r\nIt goes to \r\nhttp://localhost:8080/myapp\r\nBut it gives a 404 error\r\n\r\nNo error in the Catalina logs. \r\n\r\nThe interesting part is:\r\n- If instead of creating a .war I create a .jar, stop tomcat and double click the jar, it installs it and the application executes correctly when going to the same link: http://localhost:8080/myapp.\r\n- When I double-click the jar it creates a javaw.exe process in Windows Task Manager. But when I stop that, start Tomcat and deploy the application using Tomcat manager, this javaw.exe process never starts. So I&#39;m thinking that could be the reason. \r\n\r\nIn both cases using the same file name. Just changing the extension:\r\n\r\nmyapp.jar and myapp.war\r\n\r\nEnvironment Variables:\r\n\r\nJAVA_HOME: C:\\Program Files\\RedHat\\java-11-openjdk-11.0.19-1\r\n\r\nPath: %JAVA_HOME%\\bin\r\n\r\nTomcat version is 10.1.12\r\n\r\nSpring boot 2.7.13\r\n","title":"Getting a 404 error deploying war. No error deploying jar","body":"<p>I'm getting a 404 error when trying to access application deployed with Tomcat Manager.</p>\n<p>It's a Spring Boot Java app.</p>\n<p>This is how I'm doing:</p>\n<ol>\n<li>Open http://localhost:8080/manager/html</li>\n<li>Select myfile.war in &quot;war file to deploy&quot; and click &quot;deploy&quot;</li>\n<li>The application successfully deploys. It becomes listed in the list of applications. I can click to Stop and Start it just fine.</li>\n<li>Then I click the application link in the list to open it in the browser\nIt goes to\nhttp://localhost:8080/myapp\nBut it gives a 404 error</li>\n</ol>\n<p>No error in the Catalina logs.</p>\n<p>The interesting part is:</p>\n<ul>\n<li>If instead of creating a .war I create a .jar, stop tomcat and double click the jar, it installs it and the application executes correctly when going to the same link: http://localhost:8080/myapp.</li>\n<li>When I double-click the jar it creates a javaw.exe process in Windows Task Manager. But when I stop that, start Tomcat and deploy the application using Tomcat manager, this javaw.exe process never starts. So I'm thinking that could be the reason.</li>\n</ul>\n<p>In both cases using the same file name. Just changing the extension:</p>\n<p>myapp.jar and myapp.war</p>\n<p>Environment Variables:</p>\n<p>JAVA_HOME: C:\\Program Files\\RedHat\\java-11-openjdk-11.0.19-1</p>\n<p>Path: %JAVA_HOME%\\bin</p>\n<p>Tomcat version is 10.1.12</p>\n<p>Spring boot 2.7.13</p>\n"},{"tags":["java","spring-mvc","openapi","springdoc-openapi-ui"],"comments":[{"owner":{"account_id":24576308,"reputation":63,"user_id":18482083,"display_name":"karthi_chellaiah"},"score":0,"creation_date":1648542343,"post_id":63627462,"comment_id":126643989,"body_markdown":"Please can someone help me with a solution for this issue.\nhttps://stackoverflow.com/questions/71658452/migrating-springfox-to-springdoc-openapi-ui-issue-with-annotations","body":"Please can someone help me with a solution for this issue. <a href=\"https://stackoverflow.com/questions/71658452/migrating-springfox-to-springdoc-openapi-ui-issue-with-annotations\" title=\"migrating springfox to springdoc openapi ui issue with annotations\">stackoverflow.com/questions/71658452/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1151396,"reputation":4281,"user_id":1133021,"accept_rate":70,"display_name":"brianbro"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1662466294,"creation_date":1598867173,"answer_id":63668460,"question_id":63627462,"body_markdown":"Your question has been also answered here:\r\n- https://github.com/springdoc/springdoc-openapi/issues/841\r\n\r\nAs mentioned, you just had to put your Beans definition inside a dedicated configuration class, and add it to the springdoc-openapi Beans imports, so that the same mechanism loads the Beans.\r\n\r\nThis is the correct beans configuration:\r\n\r\n\t@Configuration\r\n\tpublic class GroupsConfiguration {\r\n\r\n\t\t@Bean\r\n\t\tpublic GroupedOpenApi publicApi() {\r\n\t\t\treturn GroupedOpenApi.builder().group(&quot;user&quot;).pathsToExclude(&quot;/api/v2/**&quot;).pathsToMatch(&quot;/api/v1/**&quot;).build();\r\n\t\t}\r\n\r\n\t\t@Bean\r\n\t\tpublic GroupedOpenApi adminApi() {\r\n\t\t\treturn GroupedOpenApi.builder().group(&quot;admin&quot;).pathsToExclude(&quot;/api/v1/**&quot;).pathsToMatch(&quot;/api/v2/**&quot;).build();\r\n\t\t}\r\n\r\n\t\t@Bean\r\n\t\tpublic OpenAPI customOpenAPI() {\r\n\t\t\treturn new OpenAPI().components(new Components()).info(new Info().title(&quot;Spring MVC REST API&quot;)\r\n\t\t\t\t\t.contact(new Contact().name(&quot;Rasika Kaluwalgoda&quot;)).version(&quot;1.0.0&quot;));\r\n\t\t}\r\n\r\n\t}\r\n\r\nAnd the springdoc-openapi imports **together** with the GroupsConfiguration :\r\n\r\n\t@Configuration\r\n\t@Import({ org.springdoc.core.SpringDocConfigProperties.class,\r\n\t\t\torg.springdoc.webmvc.core.MultipleOpenApiSupportConfiguration.class,\r\n\t\t\torg.springdoc.core.SpringDocConfiguration.class, org.springdoc.webmvc.core.SpringDocWebMvcConfiguration.class,\r\n\t\t\tSwaggerUiConfigParameters.class, SwaggerUiOAuthProperties.class,\r\n\t\t\torg.springdoc.core.SwaggerUiConfigProperties.class, org.springdoc.core.SwaggerUiOAuthProperties.class,\r\n\t\t\torg.springdoc.webmvc.ui.SwaggerConfig.class, GroupsConfiguration.class,\r\n\t\t\torg.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration.class })\r\n\tpublic class SwaggerConfig {\r\n\r\n\t}\r\n","title":"Swagger OpenAPI 3.0 - Springdoc - GroupedOpenApi not working in Spring MVC","body":"<p>Your question has been also answered here:</p>\n<ul>\n<li><a href=\"https://github.com/springdoc/springdoc-openapi/issues/841\" rel=\"nofollow noreferrer\">https://github.com/springdoc/springdoc-openapi/issues/841</a></li>\n</ul>\n<p>As mentioned, you just had to put your Beans definition inside a dedicated configuration class, and add it to the springdoc-openapi Beans imports, so that the same mechanism loads the Beans.</p>\n<p>This is the correct beans configuration:</p>\n<pre><code>@Configuration\npublic class GroupsConfiguration {\n\n    @Bean\n    public GroupedOpenApi publicApi() {\n        return GroupedOpenApi.builder().group(&quot;user&quot;).pathsToExclude(&quot;/api/v2/**&quot;).pathsToMatch(&quot;/api/v1/**&quot;).build();\n    }\n\n    @Bean\n    public GroupedOpenApi adminApi() {\n        return GroupedOpenApi.builder().group(&quot;admin&quot;).pathsToExclude(&quot;/api/v1/**&quot;).pathsToMatch(&quot;/api/v2/**&quot;).build();\n    }\n\n    @Bean\n    public OpenAPI customOpenAPI() {\n        return new OpenAPI().components(new Components()).info(new Info().title(&quot;Spring MVC REST API&quot;)\n                .contact(new Contact().name(&quot;Rasika Kaluwalgoda&quot;)).version(&quot;1.0.0&quot;));\n    }\n\n}\n</code></pre>\n<p>And the springdoc-openapi imports <strong>together</strong> with the GroupsConfiguration :</p>\n<pre><code>@Configuration\n@Import({ org.springdoc.core.SpringDocConfigProperties.class,\n        org.springdoc.webmvc.core.MultipleOpenApiSupportConfiguration.class,\n        org.springdoc.core.SpringDocConfiguration.class, org.springdoc.webmvc.core.SpringDocWebMvcConfiguration.class,\n        SwaggerUiConfigParameters.class, SwaggerUiOAuthProperties.class,\n        org.springdoc.core.SwaggerUiConfigProperties.class, org.springdoc.core.SwaggerUiOAuthProperties.class,\n        org.springdoc.webmvc.ui.SwaggerConfig.class, GroupsConfiguration.class,\n        org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration.class })\npublic class SwaggerConfig {\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6600231,"reputation":672,"user_id":5098772,"display_name":"Victor1125"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692738907,"creation_date":1692738907,"answer_id":76956897,"question_id":63627462,"body_markdown":"I configured some similar one time ago. In my case each api version was in separate package, so I define also `packageToScan` like below:\r\n\r\n    @Bean\r\n    public GroupedOpenApi publicApi1() {\r\n        return GroupedOpenApi.builder()\r\n                .group(&quot;user&quot;)\r\n                .pathsToExclude(&quot;/api/v2/**&quot;)\r\n                .pathsToMatch(&quot;/api/v1/**&quot;)\r\n                .packagesToScan(&quot;com.my.app.v1&quot;)\r\n                .build();\r\n    }\r\n\r\nMoreover I needed to create bean of `WebMvcConfigurer` (I just extended configuration class) and configure `PathMatchConfigurer`:\r\n\r\n        public void configurePathMatch(PathMatchConfigurer configurer) {\r\n        configurer\r\n                .addPathPrefix(&quot;api/v1&quot;, HandlerTypePredicate.forAnnotation(RestController.class)\r\n                .and(HandlerTypePredicate.forBasePackage(&quot;com.my.app.v1&quot;)))\r\n                .addPathPrefix(&quot;api/v2&quot;, HandlerTypePredicate.forAnnotation(RestController.class)\r\n                .and(HandlerTypePredicate.forBasePackage(&quot;com.my.app.v2&quot;)));\r\n    }\r\n\r\n","title":"Swagger OpenAPI 3.0 - Springdoc - GroupedOpenApi not working in Spring MVC","body":"<p>I configured some similar one time ago. In my case each api version was in separate package, so I define also <code>packageToScan</code> like below:</p>\n<pre><code>@Bean\npublic GroupedOpenApi publicApi1() {\n    return GroupedOpenApi.builder()\n            .group(&quot;user&quot;)\n            .pathsToExclude(&quot;/api/v2/**&quot;)\n            .pathsToMatch(&quot;/api/v1/**&quot;)\n            .packagesToScan(&quot;com.my.app.v1&quot;)\n            .build();\n}\n</code></pre>\n<p>Moreover I needed to create bean of <code>WebMvcConfigurer</code> (I just extended configuration class) and configure <code>PathMatchConfigurer</code>:</p>\n<pre><code>    public void configurePathMatch(PathMatchConfigurer configurer) {\n    configurer\n            .addPathPrefix(&quot;api/v1&quot;, HandlerTypePredicate.forAnnotation(RestController.class)\n            .and(HandlerTypePredicate.forBasePackage(&quot;com.my.app.v1&quot;)))\n            .addPathPrefix(&quot;api/v2&quot;, HandlerTypePredicate.forAnnotation(RestController.class)\n            .and(HandlerTypePredicate.forBasePackage(&quot;com.my.app.v2&quot;)));\n}\n</code></pre>\n"}],"owner":{"account_id":981035,"reputation":260,"user_id":1000749,"display_name":"onlykalu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20935,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":63668460,"answer_count":2,"score":8,"last_activity_date":1692738907,"creation_date":1598588828,"question_id":63627462,"body_markdown":"My Application is Sping MVC not boot.\r\n\r\nI&#39;m using springdoc-openapi-ui 1.4.4\r\n\r\nalso, I added the following imports to one of my @configuration class;\r\n\r\n```@Import({ \r\n\torg.springdoc.core.SpringDocConfigProperties.class, org.springdoc.core.SpringDocConfiguration.class, \r\n\torg.springdoc.webmvc.core.SpringDocWebMvcConfiguration.class,\r\n\torg.springdoc.webmvc.core.MultipleOpenApiSupportConfiguration.class,\r\n\torg.springdoc.core.SwaggerUiConfigProperties.class, org.springdoc.core.SwaggerUiOAuthProperties.class,\r\n\torg.springdoc.webmvc.ui.SwaggerConfig.class, org.springdoc.core.CacheOrGroupedOpenApiCondition.class,\r\n\torg.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration.class })\r\n```\r\nand implement the beans as below\r\n\r\n```\r\n@Bean\r\npublic GroupedOpenApi publicApi() {\r\n    return GroupedOpenApi.builder()\r\n            .group(&quot;user&quot;)\r\n            .pathsToExclude(&quot;/api/v2/**&quot;, &quot;/v2/**&quot;)\r\n            .pathsToMatch(&quot;/api/v1/**&quot;, &quot;/v1/**&quot;)\r\n            .build();\r\n}\r\n@Bean\r\npublic GroupedOpenApi adminApi() {\r\n    return GroupedOpenApi.builder()\r\n            .group(&quot;admin&quot;)\r\n            .pathsToExclude(&quot;/api/v1/**&quot;, &quot;/v1/**&quot;)\r\n            .pathsToMatch(&quot;/api/v2/**&quot;, &quot;/v2/**&quot;)\r\n            .build();\r\n}\r\n\r\n@Bean\r\npublic OpenAPI customOpenAPI() {\r\n    return new OpenAPI()\r\n        .components(new Components())\r\n        .info(new Info()\r\n        \t.title(&quot;titleI&quot;)\r\n        \t.version(&quot;1.0.0&quot;));\r\n}\r\n\r\n```\r\nBut when I try `http://localhost:8080/MyApp/v3/api-docs/user`\r\n\r\ngives me 404.\r\n\r\nbut I get all the APIs listed in `http://localhost:8080/MyApp/v3/api-docs`\r\n\r\nAlso it comes in `http://www.onlykalu.com:81/MyApp/swagger-ui/index.html?configUrl=/MyApp/v3/api-docs/swagger-config`\r\n\r\nalso without definition drop down.\r\n\r\nif I add\r\n```\r\nspringdoc.group-configs[0].group=user\r\nspringdoc.group-configs[1].group=admin\r\n```\r\n\r\nto application.properties then I get\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5SbZV.png\r\n\r\nWhat I&#39;m doing wrong?\r\n\r\nDo I need to import any other class to get group functionality work?\r\n\r\nThanks","title":"Swagger OpenAPI 3.0 - Springdoc - GroupedOpenApi not working in Spring MVC","body":"<p>My Application is Sping MVC not boot.</p>\n<p>I'm using springdoc-openapi-ui 1.4.4</p>\n<p>also, I added the following imports to one of my @configuration class;</p>\n<pre><code>    org.springdoc.core.SpringDocConfigProperties.class, org.springdoc.core.SpringDocConfiguration.class, \n    org.springdoc.webmvc.core.SpringDocWebMvcConfiguration.class,\n    org.springdoc.webmvc.core.MultipleOpenApiSupportConfiguration.class,\n    org.springdoc.core.SwaggerUiConfigProperties.class, org.springdoc.core.SwaggerUiOAuthProperties.class,\n    org.springdoc.webmvc.ui.SwaggerConfig.class, org.springdoc.core.CacheOrGroupedOpenApiCondition.class,\n    org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration.class })\n</code></pre>\n<p>and implement the beans as below</p>\n<pre><code>@Bean\npublic GroupedOpenApi publicApi() {\n    return GroupedOpenApi.builder()\n            .group(&quot;user&quot;)\n            .pathsToExclude(&quot;/api/v2/**&quot;, &quot;/v2/**&quot;)\n            .pathsToMatch(&quot;/api/v1/**&quot;, &quot;/v1/**&quot;)\n            .build();\n}\n@Bean\npublic GroupedOpenApi adminApi() {\n    return GroupedOpenApi.builder()\n            .group(&quot;admin&quot;)\n            .pathsToExclude(&quot;/api/v1/**&quot;, &quot;/v1/**&quot;)\n            .pathsToMatch(&quot;/api/v2/**&quot;, &quot;/v2/**&quot;)\n            .build();\n}\n\n@Bean\npublic OpenAPI customOpenAPI() {\n    return new OpenAPI()\n        .components(new Components())\n        .info(new Info()\n            .title(&quot;titleI&quot;)\n            .version(&quot;1.0.0&quot;));\n}\n\n</code></pre>\n<p>But when I try <code>http://localhost:8080/MyApp/v3/api-docs/user</code></p>\n<p>gives me 404.</p>\n<p>but I get all the APIs listed in <code>http://localhost:8080/MyApp/v3/api-docs</code></p>\n<p>Also it comes in <code>http://www.onlykalu.com:81/MyApp/swagger-ui/index.html?configUrl=/MyApp/v3/api-docs/swagger-config</code></p>\n<p>also without definition drop down.</p>\n<p>if I add</p>\n<pre><code>springdoc.group-configs[0].group=user\nspringdoc.group-configs[1].group=admin\n</code></pre>\n<p>to application.properties then I get</p>\n<p><a href=\"https://i.stack.imgur.com/5SbZV.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5SbZV.png\" alt=\"enter image description here\" /></a></p>\n<p>What I'm doing wrong?</p>\n<p>Do I need to import any other class to get group functionality work?</p>\n<p>Thanks</p>\n"},{"tags":["java","autocloseable"],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1692738718,"creation_date":1692735391,"answer_id":76956620,"question_id":76956580,"body_markdown":"An object _must_ be a [`java.lang.AutoCloseable`][1] in order to use it as a resource in a _try-with-resources_ statement. But you can remove the `throws` clause from your implementation if it doesn&#39;t throw a checked exception.\r\n\r\nFor instance, if you have:\r\n\r\n```java\r\npublic class MyResource implements AutoCloseable {\r\n\r\n    @Override\r\n    public void close() {\r\n        // perform cleanup\r\n    }\r\n}\r\n```\r\n\r\nThen the following will compile:\r\n\r\n```java\r\npublic void foo() {\r\n    try (MyResource res = new MyResource()) {\r\n        // use &#39;res&#39;\r\n    }\r\n}\r\n```\r\n\r\nWithout needing a `catch` block.\r\n\r\nIf you want, you can abstract this out into an [interface][2].\r\n\r\n```java\r\npublic interface MyCloseable extends AutoCloseable {\r\n\r\n    @Override\r\n    void close();\r\n}\r\n```\r\n\r\nNote you can instead make the exception more specific if needed. The [`java.io.Closeable`][3] interface inherits from `AutoCloseable` but changes the exception type to [`IOException`][4].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/AutoCloseable.html\r\n  [2]: https://en.wikipedia.org/wiki/Interface_(Java)\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/Closeable.html\r\n  [4]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/IOException.html","title":"Is there AutoCloseable like class that doesn&#39;t throw Exception","body":"<p>An object <em>must</em> be a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/AutoCloseable.html\" rel=\"noreferrer\"><code>java.lang.AutoCloseable</code></a> in order to use it as a resource in a <em>try-with-resources</em> statement. But you can remove the <code>throws</code> clause from your implementation if it doesn't throw a checked exception.</p>\n<p>For instance, if you have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyResource implements AutoCloseable {\n\n    @Override\n    public void close() {\n        // perform cleanup\n    }\n}\n</code></pre>\n<p>Then the following will compile:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void foo() {\n    try (MyResource res = new MyResource()) {\n        // use 'res'\n    }\n}\n</code></pre>\n<p>Without needing a <code>catch</code> block.</p>\n<p>If you want, you can abstract this out into an <a href=\"https://en.wikipedia.org/wiki/Interface_(Java)\" rel=\"noreferrer\">interface</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface MyCloseable extends AutoCloseable {\n\n    @Override\n    void close();\n}\n</code></pre>\n<p>Note you can instead make the exception more specific if needed. The <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/Closeable.html\" rel=\"noreferrer\"><code>java.io.Closeable</code></a> interface inherits from <code>AutoCloseable</code> but changes the exception type to <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/IOException.html\" rel=\"noreferrer\"><code>IOException</code></a>.</p>\n"}],"owner":{"account_id":3892977,"reputation":995,"user_id":3222702,"accept_rate":5,"display_name":"Hanna Khalil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1692800416,"answer_count":1,"score":0,"last_activity_date":1692738718,"creation_date":1692734975,"question_id":76956580,"body_markdown":"Does any major Java library offer a `AutoCloseable` like interface for which close method doesn&#39;t throw exception?\r\nMy close implementation is very simple and I&#39;d like to avoid the boilerplate of catching the exception","title":"Is there AutoCloseable like class that doesn&#39;t throw Exception","body":"<p>Does any major Java library offer a <code>AutoCloseable</code> like interface for which close method doesn't throw exception?\nMy close implementation is very simple and I'd like to avoid the boilerplate of catching the exception</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1692738414,"creation_date":1692724384,"answer_id":76955519,"question_id":76955457,"body_markdown":"[Program to an interface, not an implementation.](https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface)\r\n\r\nIn other words, change the type of the field in your entity (and also in your DTO) to the [interface][1] [`Set&lt;Booking&gt;`][2] instead of the specific implementation type [`HashSet&lt;Booking&gt;`][3]:\r\n\r\n    @OneToMany\r\n    private Set&lt;Booking&gt; bookings = new HashSet&lt;&gt;();\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Interface_(Java)\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/HashSet.html","title":"Can not set java.util.HashSet field to org.hibernate.collection.spi.PersistentSet","body":"<p><a href=\"https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface\">Program to an interface, not an implementation.</a></p>\n<p>In other words, change the type of the field in your entity (and also in your DTO) to the <a href=\"https://en.wikipedia.org/wiki/Interface_(Java)\" rel=\"nofollow noreferrer\">interface</a> <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html\" rel=\"nofollow noreferrer\"><code>Set&lt;Booking&gt;</code></a> instead of the specific implementation type <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/HashSet.html\" rel=\"nofollow noreferrer\"><code>HashSet&lt;Booking&gt;</code></a>:</p>\n<pre><code>@OneToMany\nprivate Set&lt;Booking&gt; bookings = new HashSet&lt;&gt;();\n</code></pre>\n"}],"owner":{"account_id":24636095,"reputation":23,"user_id":20575574,"display_name":"FelipeGodoy96"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76955519,"answer_count":1,"score":0,"last_activity_date":1692738414,"creation_date":1692723837,"question_id":76955457,"body_markdown":"I am having an issue with my API that I am not finding the solution. \r\n\r\nMy entities\r\nHousing\r\n```\r\n// imports...\r\n\r\n@Entity\r\npublic class Housing implements Serializable {\r\n\r\n    private static final Long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String name;\r\n    private String title;\r\n    @Column(columnDefinition = &quot;TEXT&quot;)\r\n    private String description;\r\n    private Double rating;\r\n\r\n    private Double dailyCost;\r\n\r\n    private String address;\r\n\r\n    private int capacity;\r\n\r\n    @OneToMany\r\n//    @JoinColumn(name = &quot;booking_id&quot;)\r\n    private HashSet&lt;Booking&gt; bookings = new HashSet&lt;&gt;();\r\n\r\n    @ManyToOne\r\n    private Category category;\r\n\r\n    // to implement &quot;facilities&quot;\r\n    //@OneToMany\r\n    //private Facility facilities = new HashSet&lt;&gt;();\r\n\r\n    public Housing() {\r\n    }\r\n\r\n\r\n    public Housing(Long id, String name, String title, String description, Double rating, Double dailyCost, String address, int capacity, HashSet&lt;Booking&gt; bookings, Category category) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.title = title;\r\n        this.description = description;\r\n        this.rating = rating;\r\n        this.dailyCost = dailyCost;\r\n        this.address = address;\r\n        this.capacity = capacity;\r\n        this.bookings = bookings;\r\n        this.category = category;\r\n    }\r\n\r\n //autogenerated getters and setters...\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        Housing housing = (Housing) o;\r\n        return Objects.equals(id, housing.id);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(id);\r\n    }\r\n}\r\n\r\n```\r\n\r\nBooking\r\n```\r\n// imports...\r\n\r\n@Entity\r\npublic class Booking implements Serializable {\r\n\r\n    private final static Long serialVersionUID = 1L;\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String status;\r\n\r\n    @OneToOne\r\n//    @JoinColumn(name = &quot;housing_id&quot;)\r\n    private Housing housing;\r\n\r\n    private LocalDate checkIn;\r\n\r\n    private LocalDate checkOut;\r\n\r\n    private int numberOfGuests;\r\n\r\n    @ManyToOne\r\n//    @JoinColumn(name = &quot;client_id&quot;)\r\n    private Client client;\r\n\r\n     //autogenerated getters and setters...\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        Booking booking = (Booking) o;\r\n        return Objects.equals(id, booking.id);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(id);\r\n    }\r\n}\r\n\r\n```\r\n\r\nI also have a DTO layer, so...\r\n\r\nHousingDTO\r\n\r\n```\r\n// imports...\r\n\r\npublic class HousingDTO implements Serializable {\r\n\r\n    private static final Long serialVersionUID = 1L;\r\n\r\n    private Long id;\r\n\r\n    //Name of the Hotel, Apartment, etc.\r\n    private String name;\r\n\r\n    // Title of the housing, example: King Room, Double Suite, Door 245, etc.\r\n    private String title;\r\n    private String description;\r\n    private Double rating;\r\n\r\n    private Double dailyCost;\r\n\r\n    private String address;\r\n\r\n    private int capacity;\r\n\r\n    private HashSet&lt;BookingDTO&gt; bookings = new HashSet&lt;&gt;();\r\n\r\n\r\n    public HousingDTO() {\r\n    }\r\n\r\n\r\n    public HousingDTO(Long id, String name, String title, String description, Double rating, Double dailyCost, String address, int capacity, HashSet&lt;BookingDTO&gt; bookings) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.title = title;\r\n        this.description = description;\r\n        this.rating = rating;\r\n        this.dailyCost = dailyCost;\r\n        this.address = address;\r\n        this.capacity = capacity;\r\n        this.bookings = bookings;\r\n    }\r\n\r\n    public HousingDTO(Housing housing) {\r\n        id = housing.getId();\r\n        name = housing.getName();\r\n        title = housing.getTitle();\r\n        description = housing.getDescription();\r\n        rating = housing.getRating();\r\n        dailyCost = housing.getDailyCost();\r\n        address = housing.getAddress();\r\n        capacity = housing.getCapacity();\r\n        housing.getBookings().forEach(booking -&gt; this.bookings.add(new BookingDTO (booking)));\r\n    }\r\n\r\n     //autogenerated getters and setters...\r\n}\r\n\r\n```\r\n\r\nBookingDTO \r\n\r\n\r\n```\r\n// imports...\r\n\r\npublic class BookingDTO implements Serializable {\r\n\r\n    private static final Long serialVersionUID = 1L;\r\n\r\n    private Long id;\r\n\r\n    private String status;\r\n\r\n    private Housing housing;\r\n\r\n    private LocalDate checkIn;\r\n\r\n    private LocalDate checkOut;\r\n\r\n    private int numberOfGuests;\r\n\r\n    private Client client;\r\n\r\n    //autogenerated getters and setters...\r\n\r\n    public BookingDTO() {\r\n    }\r\n\r\n    public BookingDTO(Long id, String status, Housing housing, LocalDate checkIn, LocalDate checkOut, int numberOfGuests, Client client) {\r\n        this.id = id;\r\n        this.status = status;\r\n        this.housing = housing;\r\n        this.checkIn = checkIn;\r\n        this.checkOut = checkOut;\r\n        this.numberOfGuests = numberOfGuests;\r\n        this.client = client;\r\n    }\r\n\r\n    public BookingDTO(Booking booking) {\r\n        id = booking.getId();\r\n        status = booking.getStatus();\r\n        housing = booking.getHousing();\r\n        checkIn = booking.getCheckIn();\r\n        checkOut = booking.getCheckOut();\r\n        numberOfGuests = booking.getNumberOfGuests();\r\n        client = booking.getClient();\r\n    }\r\n}\r\n\r\n```\r\n\r\nServices\r\n\r\nHousingService\r\n\r\n```\r\n// imports...\r\n@Service\r\npublic class HousingService {\r\n\r\n    @Autowired\r\n    private HousingRepository repository;\r\n\r\n    @Autowired\r\n    private BookingRepository bookingRepository;\r\n\r\n\r\n    @Transactional(readOnly = true)\r\n    public List&lt;HousingDTO&gt; findAllHousings() {\r\n        List&lt;Housing&gt; list = repository.findAll();\r\n        return list.stream().map(housing -&gt; new ModelMapper().map(housing,HousingDTO.class)).collect(Collectors.toList());\r\n    }\r\n\r\n\r\n    @Transactional(readOnly = true)\r\n    public Optional&lt;HousingDTO&gt; findHousingById(Long id) {\r\n        // Obtaining Housing Optional by its ID.\r\n        Optional&lt;Housing&gt; housing = repository.findById(id);\r\n        // If it couldn&#39;t find, throw an Exception\r\n        if (housing.isEmpty()) {\r\n            throw new ResourceNotFoundException(&quot;Housing ID &quot; + id + &quot; could not be found.&quot;);\r\n        }\r\n        // Convert the found Optional into a DTO.\r\n        HousingDTO dto = new ModelMapper().map(housing.get(), HousingDTO.class);\r\n        // Creating and returning an Optional of DTO.\r\n        return Optional.of(dto);\r\n    }\r\n\r\n\r\n\r\n    public HousingDTO addHousing (HousingDTO housingDto) {\r\n        Housing housing = new ModelMapper().map(housingDto, Housing.class);\r\n        repository.save(housing);\r\n        return new HousingDTO(housing);\r\n    }\r\n\r\n    public void removeHousing (Long id) {\r\n        if (findHousingById(id).isEmpty()) {\r\n            throw new ResourceNotFoundException(&quot;Housing ID &quot; + id + &quot; not found&quot;);\r\n        }\r\n        repository.deleteById(id);\r\n    }\r\n\r\n\r\n    public HousingDTO updateHousing (Long id, HousingDTO housingDto) {\r\n        if (findHousingById(id).isEmpty()) {\r\n            throw new ResourceNotFoundException(&quot;Housing ID &quot; + id + &quot; not found&quot;);\r\n        }\r\n\r\n        housingDto.setId(id);\r\n        Housing housing = new ModelMapper().map(housingDto, Housing.class);\r\n        housing = repository.save(housing);\r\n        return new HousingDTO(housing);\r\n    }\r\n}\r\n\r\n\r\n\r\n```\r\n\r\nBookingService\r\n\r\n```\r\n// imports...\r\n@Service\r\npublic class BookingService {\r\n\r\n    @Autowired\r\n    private BookingRepository repository;\r\n\r\n    @Transactional(readOnly = true)\r\n    public List&lt;BookingDTO&gt; findAllBookings() {\r\n        List&lt;Booking&gt; list = repository.findAll();\r\n        return list.stream().map(booking -&gt; new ModelMapper().map(booking,BookingDTO.class)).collect(Collectors.toList());\r\n    }\r\n\r\n\r\n    @Transactional(readOnly = true)\r\n    public Optional&lt;BookingDTO&gt; findBookingById(Long id) {\r\n        // Obtaining Booking Optional by its ID.\r\n        Optional&lt;Booking&gt; booking = repository.findById(id);\r\n        // If it couldn&#39;t find, throw an Exception\r\n        if (booking.isEmpty()) {\r\n            throw new ResourceNotFoundException(&quot;Booking ID &quot; + id + &quot; could not be found.&quot;);\r\n        }\r\n        // Convert the found Optional into a DTO.\r\n        BookingDTO dto = new ModelMapper().map(booking.get(), BookingDTO.class);\r\n        // Creating and returning an Optional of DTO.\r\n        return Optional.of(dto);\r\n    }\r\n\r\n\r\n\r\n    public BookingDTO addBooking (BookingDTO bookingDto) {\r\n        Booking booking = new ModelMapper().map(bookingDto, Booking.class);\r\n        repository.save(booking);\r\n        return new BookingDTO(booking);\r\n    }\r\n\r\n\r\n    public void removeBooking (Long id) {\r\n        if (findBookingById(id).isEmpty()) {\r\n            throw new ResourceNotFoundException(&quot;Booking ID &quot; + id + &quot; not found&quot;);\r\n        }\r\n        repository.deleteById(id);\r\n    }\r\n\r\n\r\n    public BookingDTO updateBooking (Long id, BookingDTO bookingDto) {\r\n        if (findBookingById(id).isEmpty()) {\r\n            throw new ResourceNotFoundException(&quot;Booking ID &quot; + id + &quot; not found&quot;);\r\n        }\r\n\r\n        bookingDto.setId(id);\r\n        Booking booking = new ModelMapper().map(bookingDto, Booking.class);\r\n        booking = repository.save(booking);\r\n        return new BookingDTO(booking);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nAnd controllers\r\n\r\nBookingController\r\n\r\n```\r\n// imports...\r\n@RestController\r\n@CrossOrigin(origins = &quot;http://localhost:5173&quot;)\r\n@RequestMapping(&quot;/bookings&quot;)\r\npublic class BookingController {\r\n\r\n    @Autowired\r\n    private BookingService service;\r\n\r\n    @GetMapping\r\n    public ResponseEntity&lt;List&lt;BookingDTO&gt;&gt; getAllBookings() {\r\n        List&lt;BookingDTO&gt; bookings = service.findAllBookings();\r\n        return new ResponseEntity&lt;&gt;(bookings, HttpStatus.OK);\r\n    }\r\n\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;Optional&lt;BookingDTO&gt;&gt; getBookingById (Long id) {\r\n        Optional&lt;BookingDTO&gt; bookingDto = service.findBookingById(id);\r\n        return new ResponseEntity&lt;&gt;(bookingDto, HttpStatus.OK);\r\n    }\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;BookingDTO&gt; createBooking (@RequestBody BookingDTO bookingDto) {\r\n        bookingDto = service.addBooking(bookingDto);\r\n        return new ResponseEntity&lt;&gt;(bookingDto, HttpStatus.CREATED);\r\n    }\r\n\r\n    @DeleteMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;?&gt; destroyBooking (@PathVariable Long id) {\r\n        service.removeBooking(id);\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\r\n    }\r\n\r\n    @PutMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;BookingDTO&gt; refreshBooking (@PathVariable Long id, @RequestBody BookingDTO bookingDto) {\r\n        bookingDto = service.updateBooking(id, bookingDto);\r\n        return new ResponseEntity&lt;&gt;(bookingDto, HttpStatus.OK);\r\n    }\r\n}\r\n\r\n```\r\n\r\nHousingController\r\n\r\n```\r\n// imports...\r\n@RestController\r\n@CrossOrigin(origins = &quot;http://localhost:5173&quot;)\r\n@RequestMapping(&quot;/housing&quot;)\r\npublic class HousingController {\r\n\r\n    @Autowired\r\n    private HousingService service;\r\n\r\n    @GetMapping\r\n    public ResponseEntity&lt;List&lt;HousingDTO&gt;&gt; getAllHousings() {\r\n        List&lt;HousingDTO&gt; housings = service.findAllHousings();\r\n        return new ResponseEntity&lt;&gt;(housings, HttpStatus.OK);\r\n    }\r\n\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;Optional&lt;HousingDTO&gt;&gt; getHousingById (Long id) {\r\n        Optional&lt;HousingDTO&gt; housingDto = service.findHousingById(id);\r\n        return new ResponseEntity&lt;&gt;(housingDto, HttpStatus.OK);\r\n    }\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;HousingDTO&gt; createHousing (@RequestBody HousingDTO housingDto) {\r\n        housingDto = service.addHousing(housingDto);\r\n        return new ResponseEntity&lt;&gt;(housingDto, HttpStatus.CREATED);\r\n    }\r\n\r\n    @DeleteMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;?&gt; destroyHousing (@PathVariable Long id) {\r\n        service.removeHousing(id);\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\r\n    }\r\n\r\n    @PutMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;HousingDTO&gt; refreshHousing (@PathVariable Long id, @RequestBody HousingDTO housingDto) {\r\n        housingDto = service.updateHousing(id, housingDto);\r\n        return new ResponseEntity&lt;&gt;(housingDto, HttpStatus.OK);\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nThe error I am getting occurs when trying to fetch all housings with Postman\r\n\r\n```\r\nHibernate: select h1_0.id,h1_0.address,h1_0.capacity,h1_0.category_id,h1_0.daily_cost,h1_0.description,h1_0.name,h1_0.rating,h1_0.title from housing h1_0\r\nHibernate: select c1_0.id,c1_0.name from category c1_0 where c1_0.id=?\r\n2023-08-22T17:46:00.165+01:00 ERROR 19948 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.orm.jpa.JpaSystemException: Could not set value of type [org.hibernate.collection.spi.PersistentSet] : `br.com.bookinghubgodoynetworks.api.model.Housing.bookings` (setter)] with root cause\r\n\r\njava.lang.IllegalArgumentException: Can not set java.util.HashSet field br.com.bookinghubgodoynetworks.api.model.Housing.bookings to org.hibernate.collection.spi.PersistentSet\r\n\tat java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:167) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:171) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.UnsafeObjectFieldAccessorImpl.set(UnsafeObjectFieldAccessorImpl.java:81) ~[na:na]\r\n\tat java.base/java.lang.reflect.Field.set(Field.java:799) ~[na:na]\r\n\tat org.hibernate.property.access.spi.SetterFieldImpl.set(SetterFieldImpl.java:55) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.setPropertyValues(AbstractEntityPersister.java:4187) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntityInstance(AbstractEntityInitializer.java:844) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntity(AbstractEntityInitializer.java:804) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeInstance(AbstractEntityInitializer.java:790) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:111) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:87) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:199) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:110) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:303) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.query.Query.getResultList(Query.java:119) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:382) ~[spring-data-jpa-3.1.1.jar:3.1.1]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:95) ~[spring-data-jpa-3.1.1.jar:3.1.1]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.1.1.jar:3.1.1]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.1.1.jar:3.1.1]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.1.1.jar:3.1.1]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.1.1.jar:3.1.1]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.1.1.jar:3.1.1]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.1.1.jar:3.1.1]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.1.1.jar:3.1.1]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.1.1.jar:3.1.1]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72) ~[spring-data-commons-3.1.1.jar:3.1.1]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.10.jar:6.0.10]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.10.jar:6.0.10]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.10.jar:6.0.10]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.10.jar:6.0.10]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:164) ~[spring-data-jpa-3.1.1.jar:3.1.1]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat jdk.proxy4/jdk.proxy4.$Proxy122.findAll(Unknown Source) ~[na:na]\r\n\tat br.com.bookinghubgodoynetworks.api.service.HousingService.findAllHousings(HousingService.java:28) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.10.jar:6.0.10]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.10.jar:6.0.10]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.10.jar:6.0.10]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-6.0.10.jar:6.0.10]\r\n\tat br.com.bookinghubgodoynetworks.api.service.HousingService$$SpringCGLIB$$0.findAllHousings(&lt;generated&gt;) ~[classes/:na]\r\n\tat br.com.bookinghubgodoynetworks.api.controller.HousingController.getAllHousings(HousingController.java:24) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.10.jar:6.0.10]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.10.jar:6.0.10]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.10.jar:6.0.10]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.10.jar:6.0.10]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.10.jar:6.0.10]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.10.jar:6.0.10]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.10.jar:6.0.10]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.10.jar:6.0.10]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.10.jar:6.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.10.jar:6.0.10]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.10.jar:6.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-\r\n...........\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI don&#39;t know what to do, I am guessing that it might be due to the modelmapper(?)","title":"Can not set java.util.HashSet field to org.hibernate.collection.spi.PersistentSet","body":"<p>I am having an issue with my API that I am not finding the solution.</p>\n<p>My entities\nHousing</p>\n<pre><code>// imports...\n\n@Entity\npublic class Housing implements Serializable {\n\n    private static final Long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    private String title;\n    @Column(columnDefinition = &quot;TEXT&quot;)\n    private String description;\n    private Double rating;\n\n    private Double dailyCost;\n\n    private String address;\n\n    private int capacity;\n\n    @OneToMany\n//    @JoinColumn(name = &quot;booking_id&quot;)\n    private HashSet&lt;Booking&gt; bookings = new HashSet&lt;&gt;();\n\n    @ManyToOne\n    private Category category;\n\n    // to implement &quot;facilities&quot;\n    //@OneToMany\n    //private Facility facilities = new HashSet&lt;&gt;();\n\n    public Housing() {\n    }\n\n\n    public Housing(Long id, String name, String title, String description, Double rating, Double dailyCost, String address, int capacity, HashSet&lt;Booking&gt; bookings, Category category) {\n        this.id = id;\n        this.name = name;\n        this.title = title;\n        this.description = description;\n        this.rating = rating;\n        this.dailyCost = dailyCost;\n        this.address = address;\n        this.capacity = capacity;\n        this.bookings = bookings;\n        this.category = category;\n    }\n\n //autogenerated getters and setters...\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Housing housing = (Housing) o;\n        return Objects.equals(id, housing.id);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(id);\n    }\n}\n\n</code></pre>\n<p>Booking</p>\n<pre><code>// imports...\n\n@Entity\npublic class Booking implements Serializable {\n\n    private final static Long serialVersionUID = 1L;\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String status;\n\n    @OneToOne\n//    @JoinColumn(name = &quot;housing_id&quot;)\n    private Housing housing;\n\n    private LocalDate checkIn;\n\n    private LocalDate checkOut;\n\n    private int numberOfGuests;\n\n    @ManyToOne\n//    @JoinColumn(name = &quot;client_id&quot;)\n    private Client client;\n\n     //autogenerated getters and setters...\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Booking booking = (Booking) o;\n        return Objects.equals(id, booking.id);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(id);\n    }\n}\n\n</code></pre>\n<p>I also have a DTO layer, so...</p>\n<p>HousingDTO</p>\n<pre><code>// imports...\n\npublic class HousingDTO implements Serializable {\n\n    private static final Long serialVersionUID = 1L;\n\n    private Long id;\n\n    //Name of the Hotel, Apartment, etc.\n    private String name;\n\n    // Title of the housing, example: King Room, Double Suite, Door 245, etc.\n    private String title;\n    private String description;\n    private Double rating;\n\n    private Double dailyCost;\n\n    private String address;\n\n    private int capacity;\n\n    private HashSet&lt;BookingDTO&gt; bookings = new HashSet&lt;&gt;();\n\n\n    public HousingDTO() {\n    }\n\n\n    public HousingDTO(Long id, String name, String title, String description, Double rating, Double dailyCost, String address, int capacity, HashSet&lt;BookingDTO&gt; bookings) {\n        this.id = id;\n        this.name = name;\n        this.title = title;\n        this.description = description;\n        this.rating = rating;\n        this.dailyCost = dailyCost;\n        this.address = address;\n        this.capacity = capacity;\n        this.bookings = bookings;\n    }\n\n    public HousingDTO(Housing housing) {\n        id = housing.getId();\n        name = housing.getName();\n        title = housing.getTitle();\n        description = housing.getDescription();\n        rating = housing.getRating();\n        dailyCost = housing.getDailyCost();\n        address = housing.getAddress();\n        capacity = housing.getCapacity();\n        housing.getBookings().forEach(booking -&gt; this.bookings.add(new BookingDTO (booking)));\n    }\n\n     //autogenerated getters and setters...\n}\n\n</code></pre>\n<p>BookingDTO</p>\n<pre><code>// imports...\n\npublic class BookingDTO implements Serializable {\n\n    private static final Long serialVersionUID = 1L;\n\n    private Long id;\n\n    private String status;\n\n    private Housing housing;\n\n    private LocalDate checkIn;\n\n    private LocalDate checkOut;\n\n    private int numberOfGuests;\n\n    private Client client;\n\n    //autogenerated getters and setters...\n\n    public BookingDTO() {\n    }\n\n    public BookingDTO(Long id, String status, Housing housing, LocalDate checkIn, LocalDate checkOut, int numberOfGuests, Client client) {\n        this.id = id;\n        this.status = status;\n        this.housing = housing;\n        this.checkIn = checkIn;\n        this.checkOut = checkOut;\n        this.numberOfGuests = numberOfGuests;\n        this.client = client;\n    }\n\n    public BookingDTO(Booking booking) {\n        id = booking.getId();\n        status = booking.getStatus();\n        housing = booking.getHousing();\n        checkIn = booking.getCheckIn();\n        checkOut = booking.getCheckOut();\n        numberOfGuests = booking.getNumberOfGuests();\n        client = booking.getClient();\n    }\n}\n\n</code></pre>\n<p>Services</p>\n<p>HousingService</p>\n<pre><code>// imports...\n@Service\npublic class HousingService {\n\n    @Autowired\n    private HousingRepository repository;\n\n    @Autowired\n    private BookingRepository bookingRepository;\n\n\n    @Transactional(readOnly = true)\n    public List&lt;HousingDTO&gt; findAllHousings() {\n        List&lt;Housing&gt; list = repository.findAll();\n        return list.stream().map(housing -&gt; new ModelMapper().map(housing,HousingDTO.class)).collect(Collectors.toList());\n    }\n\n\n    @Transactional(readOnly = true)\n    public Optional&lt;HousingDTO&gt; findHousingById(Long id) {\n        // Obtaining Housing Optional by its ID.\n        Optional&lt;Housing&gt; housing = repository.findById(id);\n        // If it couldn't find, throw an Exception\n        if (housing.isEmpty()) {\n            throw new ResourceNotFoundException(&quot;Housing ID &quot; + id + &quot; could not be found.&quot;);\n        }\n        // Convert the found Optional into a DTO.\n        HousingDTO dto = new ModelMapper().map(housing.get(), HousingDTO.class);\n        // Creating and returning an Optional of DTO.\n        return Optional.of(dto);\n    }\n\n\n\n    public HousingDTO addHousing (HousingDTO housingDto) {\n        Housing housing = new ModelMapper().map(housingDto, Housing.class);\n        repository.save(housing);\n        return new HousingDTO(housing);\n    }\n\n    public void removeHousing (Long id) {\n        if (findHousingById(id).isEmpty()) {\n            throw new ResourceNotFoundException(&quot;Housing ID &quot; + id + &quot; not found&quot;);\n        }\n        repository.deleteById(id);\n    }\n\n\n    public HousingDTO updateHousing (Long id, HousingDTO housingDto) {\n        if (findHousingById(id).isEmpty()) {\n            throw new ResourceNotFoundException(&quot;Housing ID &quot; + id + &quot; not found&quot;);\n        }\n\n        housingDto.setId(id);\n        Housing housing = new ModelMapper().map(housingDto, Housing.class);\n        housing = repository.save(housing);\n        return new HousingDTO(housing);\n    }\n}\n\n\n\n</code></pre>\n<p>BookingService</p>\n<pre><code>// imports...\n@Service\npublic class BookingService {\n\n    @Autowired\n    private BookingRepository repository;\n\n    @Transactional(readOnly = true)\n    public List&lt;BookingDTO&gt; findAllBookings() {\n        List&lt;Booking&gt; list = repository.findAll();\n        return list.stream().map(booking -&gt; new ModelMapper().map(booking,BookingDTO.class)).collect(Collectors.toList());\n    }\n\n\n    @Transactional(readOnly = true)\n    public Optional&lt;BookingDTO&gt; findBookingById(Long id) {\n        // Obtaining Booking Optional by its ID.\n        Optional&lt;Booking&gt; booking = repository.findById(id);\n        // If it couldn't find, throw an Exception\n        if (booking.isEmpty()) {\n            throw new ResourceNotFoundException(&quot;Booking ID &quot; + id + &quot; could not be found.&quot;);\n        }\n        // Convert the found Optional into a DTO.\n        BookingDTO dto = new ModelMapper().map(booking.get(), BookingDTO.class);\n        // Creating and returning an Optional of DTO.\n        return Optional.of(dto);\n    }\n\n\n\n    public BookingDTO addBooking (BookingDTO bookingDto) {\n        Booking booking = new ModelMapper().map(bookingDto, Booking.class);\n        repository.save(booking);\n        return new BookingDTO(booking);\n    }\n\n\n    public void removeBooking (Long id) {\n        if (findBookingById(id).isEmpty()) {\n            throw new ResourceNotFoundException(&quot;Booking ID &quot; + id + &quot; not found&quot;);\n        }\n        repository.deleteById(id);\n    }\n\n\n    public BookingDTO updateBooking (Long id, BookingDTO bookingDto) {\n        if (findBookingById(id).isEmpty()) {\n            throw new ResourceNotFoundException(&quot;Booking ID &quot; + id + &quot; not found&quot;);\n        }\n\n        bookingDto.setId(id);\n        Booking booking = new ModelMapper().map(bookingDto, Booking.class);\n        booking = repository.save(booking);\n        return new BookingDTO(booking);\n    }\n}\n\n</code></pre>\n<p>And controllers</p>\n<p>BookingController</p>\n<pre><code>// imports...\n@RestController\n@CrossOrigin(origins = &quot;http://localhost:5173&quot;)\n@RequestMapping(&quot;/bookings&quot;)\npublic class BookingController {\n\n    @Autowired\n    private BookingService service;\n\n    @GetMapping\n    public ResponseEntity&lt;List&lt;BookingDTO&gt;&gt; getAllBookings() {\n        List&lt;BookingDTO&gt; bookings = service.findAllBookings();\n        return new ResponseEntity&lt;&gt;(bookings, HttpStatus.OK);\n    }\n\n    @GetMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;Optional&lt;BookingDTO&gt;&gt; getBookingById (Long id) {\n        Optional&lt;BookingDTO&gt; bookingDto = service.findBookingById(id);\n        return new ResponseEntity&lt;&gt;(bookingDto, HttpStatus.OK);\n    }\n\n    @PostMapping\n    public ResponseEntity&lt;BookingDTO&gt; createBooking (@RequestBody BookingDTO bookingDto) {\n        bookingDto = service.addBooking(bookingDto);\n        return new ResponseEntity&lt;&gt;(bookingDto, HttpStatus.CREATED);\n    }\n\n    @DeleteMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;?&gt; destroyBooking (@PathVariable Long id) {\n        service.removeBooking(id);\n        return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\n    }\n\n    @PutMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;BookingDTO&gt; refreshBooking (@PathVariable Long id, @RequestBody BookingDTO bookingDto) {\n        bookingDto = service.updateBooking(id, bookingDto);\n        return new ResponseEntity&lt;&gt;(bookingDto, HttpStatus.OK);\n    }\n}\n\n</code></pre>\n<p>HousingController</p>\n<pre><code>// imports...\n@RestController\n@CrossOrigin(origins = &quot;http://localhost:5173&quot;)\n@RequestMapping(&quot;/housing&quot;)\npublic class HousingController {\n\n    @Autowired\n    private HousingService service;\n\n    @GetMapping\n    public ResponseEntity&lt;List&lt;HousingDTO&gt;&gt; getAllHousings() {\n        List&lt;HousingDTO&gt; housings = service.findAllHousings();\n        return new ResponseEntity&lt;&gt;(housings, HttpStatus.OK);\n    }\n\n    @GetMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;Optional&lt;HousingDTO&gt;&gt; getHousingById (Long id) {\n        Optional&lt;HousingDTO&gt; housingDto = service.findHousingById(id);\n        return new ResponseEntity&lt;&gt;(housingDto, HttpStatus.OK);\n    }\n\n    @PostMapping\n    public ResponseEntity&lt;HousingDTO&gt; createHousing (@RequestBody HousingDTO housingDto) {\n        housingDto = service.addHousing(housingDto);\n        return new ResponseEntity&lt;&gt;(housingDto, HttpStatus.CREATED);\n    }\n\n    @DeleteMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;?&gt; destroyHousing (@PathVariable Long id) {\n        service.removeHousing(id);\n        return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\n    }\n\n    @PutMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;HousingDTO&gt; refreshHousing (@PathVariable Long id, @RequestBody HousingDTO housingDto) {\n        housingDto = service.updateHousing(id, housingDto);\n        return new ResponseEntity&lt;&gt;(housingDto, HttpStatus.OK);\n    }\n\n\n}\n\n</code></pre>\n<p>The error I am getting occurs when trying to fetch all housings with Postman</p>\n<pre><code>Hibernate: select h1_0.id,h1_0.address,h1_0.capacity,h1_0.category_id,h1_0.daily_cost,h1_0.description,h1_0.name,h1_0.rating,h1_0.title from housing h1_0\nHibernate: select c1_0.id,c1_0.name from category c1_0 where c1_0.id=?\n2023-08-22T17:46:00.165+01:00 ERROR 19948 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.orm.jpa.JpaSystemException: Could not set value of type [org.hibernate.collection.spi.PersistentSet] : `br.com.bookinghubgodoynetworks.api.model.Housing.bookings` (setter)] with root cause\n\njava.lang.IllegalArgumentException: Can not set java.util.HashSet field br.com.bookinghubgodoynetworks.api.model.Housing.bookings to org.hibernate.collection.spi.PersistentSet\n    at java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:167) ~[na:na]\n    at java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:171) ~[na:na]\n    at java.base/jdk.internal.reflect.UnsafeObjectFieldAccessorImpl.set(UnsafeObjectFieldAccessorImpl.java:81) ~[na:na]\n    at java.base/java.lang.reflect.Field.set(Field.java:799) ~[na:na]\n    at org.hibernate.property.access.spi.SetterFieldImpl.set(SetterFieldImpl.java:55) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.setPropertyValues(AbstractEntityPersister.java:4187) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntityInstance(AbstractEntityInitializer.java:844) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntity(AbstractEntityInitializer.java:804) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeInstance(AbstractEntityInitializer.java:790) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:111) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:87) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:199) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:110) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:303) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.query.Query.getResultList(Query.java:119) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:382) ~[spring-data-jpa-3.1.1.jar:3.1.1]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:95) ~[spring-data-jpa-3.1.1.jar:3.1.1]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.1.1.jar:3.1.1]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.1.1.jar:3.1.1]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.1.1.jar:3.1.1]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.1.1.jar:3.1.1]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.1.1.jar:3.1.1]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.1.1.jar:3.1.1]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.1.1.jar:3.1.1]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.1.1.jar:3.1.1]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72) ~[spring-data-commons-3.1.1.jar:3.1.1]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.10.jar:6.0.10]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.10.jar:6.0.10]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.10.jar:6.0.10]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.10.jar:6.0.10]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:164) ~[spring-data-jpa-3.1.1.jar:3.1.1]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244) ~[spring-aop-6.0.10.jar:6.0.10]\n    at jdk.proxy4/jdk.proxy4.$Proxy122.findAll(Unknown Source) ~[na:na]\n    at br.com.bookinghubgodoynetworks.api.service.HousingService.findAllHousings(HousingService.java:28) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.10.jar:6.0.10]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.10.jar:6.0.10]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.10.jar:6.0.10]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756) ~[spring-aop-6.0.10.jar:6.0.10]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-6.0.10.jar:6.0.10]\n    at br.com.bookinghubgodoynetworks.api.service.HousingService$$SpringCGLIB$$0.findAllHousings(&lt;generated&gt;) ~[classes/:na]\n    at br.com.bookinghubgodoynetworks.api.controller.HousingController.getAllHousings(HousingController.java:24) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.10.jar:6.0.10]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.10.jar:6.0.10]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.10.jar:6.0.10]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.10.jar:6.0.10]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.10.jar:6.0.10]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.10.jar:6.0.10]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.10.jar:6.0.10]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.10.jar:6.0.10]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.10.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.10.jar:6.0.10]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.10.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-\n...........\n\n</code></pre>\n<p>I don't know what to do, I am guessing that it might be due to the modelmapper(?)</p>\n"},{"tags":["java","arrays","vector"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1403771657,"post_id":24425293,"comment_id":37790341,"body_markdown":"Vector is obsolete - you should use ArrayList instead.","body":"Vector is obsolete - you should use ArrayList instead."}],"answers":[{"tags":[],"owner":{"account_id":1206050,"reputation":113,"user_id":1175689,"accept_rate":25,"display_name":"jmac"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403769935,"creation_date":1403769935,"answer_id":24425408,"question_id":24425293,"body_markdown":"If you just need to know the longest word, why not store the longest word so far from the user input in a variable? You do not need a vector.","title":"How to use Java SE vector arrays to determine the longest word in a series of words?","body":"<p>If you just need to know the longest word, why not store the longest word so far from the user input in a variable? You do not need a vector.</p>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1403769967,"creation_date":1403769967,"answer_id":24425417,"question_id":24425293,"body_markdown":"Your question is confusing, but I think this\r\n\r\n    while (userInput.hasNext())\r\n    {\r\n      v.add(userInput.next());\r\n      System.out.println(userInput.next());\r\n      System.out.println(v.get(0));\r\n    }\r\n\r\nIs intended to be more like,\r\n\r\n    while (userInput.hasNext())\r\n    {\r\n      String line = userInput.next();\r\n      line = (line != null) ? line.trim() : &quot;&quot;;\r\n      v.add(line);\r\n      // System.out.println(userInput.next());\r\n      // System.out.println(v.get(0));\r\n      System.out.printf(&quot;&#39;%s&#39; is %d letters long%n&quot;, line, line.length());\r\n    }\r\n\r\nAnd based on your question, that should be enough to get you started.","title":"How to use Java SE vector arrays to determine the longest word in a series of words?","body":"<p>Your question is confusing, but I think this</p>\n\n<pre><code>while (userInput.hasNext())\n{\n  v.add(userInput.next());\n  System.out.println(userInput.next());\n  System.out.println(v.get(0));\n}\n</code></pre>\n\n<p>Is intended to be more like,</p>\n\n<pre><code>while (userInput.hasNext())\n{\n  String line = userInput.next();\n  line = (line != null) ? line.trim() : \"\";\n  v.add(line);\n  // System.out.println(userInput.next());\n  // System.out.println(v.get(0));\n  System.out.printf(\"'%s' is %d letters long%n\", line, line.length());\n}\n</code></pre>\n\n<p>And based on your question, that should be enough to get you started.</p>\n"},{"tags":[],"owner":{"account_id":4607503,"reputation":4309,"user_id":3736555,"display_name":"4aRk Kn1gh7"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1403776006,"creation_date":1403770507,"answer_id":24425565,"question_id":24425293,"body_markdown":"Here is the simplest way of doing this. No need to store the words in a vector.   \r\n\r\n     import java.util.*;\r\n        \r\n    class LongestWord2 {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner userInput = new Scanner(System.in);\r\n    \r\n    \t\tString longestWord = &quot;&quot;;\r\n    \t\tString temp = &quot;&quot;;\r\n    \t\tint longestWordLength = 0;\r\n    \t\tint numOfWords = 10; // num of words to ask from user\r\n                System.out.println(&quot;Please enter &quot; + numOfWords + &quot; words&quot;);\r\n    \t\tfor (int i = 0; i&lt;numOfWords ; i++) { // loop for taking words as input\r\n    \t\t\ttemp = userInput.next();\r\n    \t\t\tif(temp.length() &gt; longestWordLength){\r\n    \t\t\t\tlongestWordLength = temp.length();\r\n    \t\t\t\tlongestWord = temp;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;Longest Word = &quot; + longestWord);\r\n    \t\tSystem.out.println(&quot;Longest Word Length = &quot; + longestWordLength);\r\n    \t\tuserInput.close();\r\n    \t}\r\n    }\r\n\r\nSample Output:\r\n\r\n    Please enter 10 words\r\n    a\r\n    ab\r\n    abc\r\n    abcd\r\n    abcde\r\n    abcdef\r\n    abcdefg\r\n    abcdefgh\r\n    abcdefghi\r\n    abcdefghij\r\n    Longest Word = abcdefghij\r\n    Longest Word Length = 10","title":"How to use Java SE vector arrays to determine the longest word in a series of words?","body":"<p>Here is the simplest way of doing this. No need to store the words in a vector.   </p>\n\n<pre><code> import java.util.*;\n\nclass LongestWord2 {\n    public static void main(String[] args) {\n        Scanner userInput = new Scanner(System.in);\n\n        String longestWord = \"\";\n        String temp = \"\";\n        int longestWordLength = 0;\n        int numOfWords = 10; // num of words to ask from user\n            System.out.println(\"Please enter \" + numOfWords + \" words\");\n        for (int i = 0; i&lt;numOfWords ; i++) { // loop for taking words as input\n            temp = userInput.next();\n            if(temp.length() &gt; longestWordLength){\n                longestWordLength = temp.length();\n                longestWord = temp;\n            }\n        }\n        System.out.println(\"Longest Word = \" + longestWord);\n        System.out.println(\"Longest Word Length = \" + longestWordLength);\n        userInput.close();\n    }\n}\n</code></pre>\n\n<p>Sample Output:</p>\n\n<pre><code>Please enter 10 words\na\nab\nabc\nabcd\nabcde\nabcdef\nabcdefg\nabcdefgh\nabcdefghi\nabcdefghij\nLongest Word = abcdefghij\nLongest Word Length = 10\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4205859,"reputation":26124,"user_id":3444777,"accept_rate":38,"display_name":"Rod_Algonquin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1403771134,"creation_date":1403770682,"answer_id":24425617,"question_id":24425293,"body_markdown":"If you want to continue getting response from your scanner and keep checking for longest name then you can use the one that I implement in your last question with some changes.\r\n\r\n**sample:**\r\n\r\n    System.out.println(&quot;Please enter your words&quot;);\r\n\t\tScanner userInput = new Scanner(System.in);\r\n\r\n\t\tVector&lt;String&gt; v = new Vector&lt;String&gt;();\r\n        String longest = &quot;&quot;;\r\n\t\tlongest = userInput.nextLine(); //get the first array of words for checking\r\n\t\tv.add(longest);\r\n\r\n\t\twhile (true) {\r\n\t\t\t\r\n\t\t    for(String s : v) //iterate to all the array of words\r\n\t\t    {\r\n\t\t        if(longest.length() &lt; s.length()) //check if the last longest word is greater than the current workd\r\n\t\t            longest = s; //if the current word is longer then make it the longest word\r\n\t\t    }\r\n\t\t    System.out.println(&quot;Longest Word: &quot; + longest + &quot; lenght: &quot; + longest.length());\r\n\r\n\t\t\tv.add(userInput.nextLine());\r\n\t\t}","title":"How to use Java SE vector arrays to determine the longest word in a series of words?","body":"<p>If you want to continue getting response from your scanner and keep checking for longest name then you can use the one that I implement in your last question with some changes.</p>\n\n<p><strong>sample:</strong></p>\n\n<pre><code>System.out.println(\"Please enter your words\");\n    Scanner userInput = new Scanner(System.in);\n\n    Vector&lt;String&gt; v = new Vector&lt;String&gt;();\n    String longest = \"\";\n    longest = userInput.nextLine(); //get the first array of words for checking\n    v.add(longest);\n\n    while (true) {\n\n        for(String s : v) //iterate to all the array of words\n        {\n            if(longest.length() &lt; s.length()) //check if the last longest word is greater than the current workd\n                longest = s; //if the current word is longer then make it the longest word\n        }\n        System.out.println(\"Longest Word: \" + longest + \" lenght: \" + longest.length());\n\n        v.add(userInput.nextLine());\n    }\n</code></pre>\n"}],"owner":{"account_id":1474853,"reputation":71,"user_id":1385520,"accept_rate":50,"display_name":"alan_ogz83"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1403791276,"accepted_answer_id":24425617,"answer_count":4,"score":-1,"last_activity_date":1692736624,"creation_date":1403769559,"question_id":24425293,"body_markdown":"I am doing some programming for my Java school work. Yesterday I posted [a question which is quite similar to this one](https://stackoverflow.com/questions/24401478/java-se-array-help-needed-please) regarding arrays and I managed to get it solved.\r\n\r\nThis time round, I am required to prompt the user to enter a series of words regarding of the number and from there the application will determine the longest word of all and print to console stating the longest word as well as the length of it.\r\n\r\nAlthough, we weren&#39;t given any hint on how to go about it but I thought that by using vector could be the only solution. As for now, I only manage to print to console no matter how many words the user input but I have no idea how to be able to add each individual to the vector and compare them regarding their length.\r\n\r\nI am a total beginner in programming.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import java.util.*;\r\n    \r\n    class LongestWord2 {\r\n        public static void main(String [] args) {\t\t\t\t\r\n            System.out.println(&quot;Please enter your words&quot;);\r\n            Scanner userInput = new Scanner(System.in);\r\n           \r\n            Vector &lt;String&gt; v = new Vector &lt;String&gt;();\r\n\t    \r\n            while (userInput.hasNext()) {\r\n                v.add(userInput.next());\r\n                System.out.println(userInput.next());\r\n                System.out.println(v.get(0));\r\n            }   \r\n        }\r\n    }","title":"How to use Java SE vector arrays to determine the longest word in a series of words?","body":"<p>I am doing some programming for my Java school work. Yesterday I posted <a href=\"https://stackoverflow.com/questions/24401478/java-se-array-help-needed-please\">a question which is quite similar to this one</a> regarding arrays and I managed to get it solved.</p>\n<p>This time round, I am required to prompt the user to enter a series of words regarding of the number and from there the application will determine the longest word of all and print to console stating the longest word as well as the length of it.</p>\n<p>Although, we weren't given any hint on how to go about it but I thought that by using vector could be the only solution. As for now, I only manage to print to console no matter how many words the user input but I have no idea how to be able to add each individual to the vector and compare them regarding their length.</p>\n<p>I am a total beginner in programming.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\nclass LongestWord2 {\n    public static void main(String [] args) {               \n        System.out.println(&quot;Please enter your words&quot;);\n        Scanner userInput = new Scanner(System.in);\n       \n        Vector &lt;String&gt; v = new Vector &lt;String&gt;();\n    \n        while (userInput.hasNext()) {\n            v.add(userInput.next());\n            System.out.println(userInput.next());\n            System.out.println(v.get(0));\n        }   \n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":1,"creation_date":1403677332,"post_id":24401478,"comment_id":37745315,"body_markdown":"You don&#39;t need to sort just to find the longest word nor do you need to store all words in memory. Read them one by one and only store the up to now longest word.","body":"You don&#39;t need to sort just to find the longest word nor do you need to store all words in memory. Read them one by one and only store the up to now longest word."},{"owner":{"account_id":1175311,"reputation":15568,"user_id":1151456,"accept_rate":83,"display_name":"Abubakkar"},"score":1,"creation_date":1403677347,"post_id":24401478,"comment_id":37745320,"body_markdown":"You are doing good, just think a little more and you should be able to code it yourself !","body":"You are doing good, just think a little more and you should be able to code it yourself !"}],"answers":[{"tags":[],"owner":{"account_id":4205859,"reputation":26124,"user_id":3444777,"accept_rate":38,"display_name":"Rod_Algonquin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1403678971,"creation_date":1403677325,"answer_id":24401572,"question_id":24401478,"body_markdown":"You need to add all the string to array and iterate all of them.\r\n\r\n\r\n**sample:**\r\n\r\n        String [] wordCount = new String[5];\r\n\r\n        wordCount[0] = fWord;\r\n        wordCount[1] = sWord;\r\n        wordCount[2] = tWord;\r\n        wordCount[3] = fhWord;\r\n        wordCount[4] = ffWord;\r\n\r\n    \tString longest = &quot;&quot;;\r\n\r\n        longest = wordCount[0]; //get the first array of words for checking\r\n\r\n    \tfor(String s : wordCount) //iterate to all the array of words\r\n    \t{\r\n    \t\tif(longest.length() &lt; s.length()) //check if the last longest word is greater than the current workd\r\n    \t\t\tlongest = s; //if the current word is longer then make it the longest word\r\n    \t}\r\n        \r\n    \tSystem.out.println(&quot;Longest Word: &quot; + longest + &quot; lenght: &quot; + longest.length());\r\n\r\n**result:**\r\n\r\n    Please enter your five words\r\n    12345\r\n    1234\r\n    123\r\n    12\r\n    1\r\n    123451234123121\r\n    Longest Word: 12345 lenght: 5","title":"How to determine the longest word in a Java SE array?","body":"<p>You need to add all the string to array and iterate all of them.</p>\n\n<p><strong>sample:</strong></p>\n\n<pre><code>    String [] wordCount = new String[5];\n\n    wordCount[0] = fWord;\n    wordCount[1] = sWord;\n    wordCount[2] = tWord;\n    wordCount[3] = fhWord;\n    wordCount[4] = ffWord;\n\n    String longest = \"\";\n\n    longest = wordCount[0]; //get the first array of words for checking\n\n    for(String s : wordCount) //iterate to all the array of words\n    {\n        if(longest.length() &lt; s.length()) //check if the last longest word is greater than the current workd\n            longest = s; //if the current word is longer then make it the longest word\n    }\n\n    System.out.println(\"Longest Word: \" + longest + \" lenght: \" + longest.length());\n</code></pre>\n\n<p><strong>result:</strong></p>\n\n<pre><code>Please enter your five words\n12345\n1234\n123\n12\n1\n123451234123121\nLongest Word: 12345 lenght: 5\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1319573,"reputation":21851,"user_id":1265660,"accept_rate":75,"display_name":"Masudul"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1403677999,"creation_date":1403677367,"answer_id":24401581,"question_id":24401478,"body_markdown":"You need to store all words into array and get the maximum value after sort according to its length.\r\n\r\n     String[] words = ....//Store all words into this array.\r\n      \r\n     Arrays.sort(words, new Comparator&lt;String&gt;() {\r\n\r\n             @Override\r\n             public int compare(String o1, String o2) {\r\n                 return o2.length() - o1.length();\r\n             }\r\n         });\r\n\r\n     System.out.println(words[0]);\r\n\r\nor, if you use java-8 than you will get the result more easily,\r\n\r\n    String longWord=\r\n           Arrays.stream(words).max((o1, o2)-&gt;o1.length()-o2.length()).get();\r\n\r\n     ","title":"How to determine the longest word in a Java SE array?","body":"<p>You need to store all words into array and get the maximum value after sort according to its length.</p>\n\n<pre><code> String[] words = ....//Store all words into this array.\n\n Arrays.sort(words, new Comparator&lt;String&gt;() {\n\n         @Override\n         public int compare(String o1, String o2) {\n             return o2.length() - o1.length();\n         }\n     });\n\n System.out.println(words[0]);\n</code></pre>\n\n<p>or, if you use java-8 than you will get the result more easily,</p>\n\n<pre><code>String longWord=\n       Arrays.stream(words).max((o1, o2)-&gt;o1.length()-o2.length()).get();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3963224,"reputation":9906,"user_id":3269852,"display_name":"Sanjeev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403677411,"creation_date":1403677411,"answer_id":24401595,"question_id":24401478,"body_markdown":"Instead of putting lengths into an array, you should put all the words in an array and then loop them using for/while and check length of each string comparing with the previous one to record the max length string. \r\n\r\nOr another way may be to read strings using loop and you can perform same logic of comparing lengths without using additional array.","title":"How to determine the longest word in a Java SE array?","body":"<p>Instead of putting lengths into an array, you should put all the words in an array and then loop them using for/while and check length of each string comparing with the previous one to record the max length string. </p>\n\n<p>Or another way may be to read strings using loop and you can perform same logic of comparing lengths without using additional array.</p>\n"}],"owner":{"account_id":1474853,"reputation":71,"user_id":1385520,"accept_rate":50,"display_name":"alan_ogz83"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":24401572,"answer_count":3,"score":0,"last_activity_date":1692736418,"creation_date":1403676963,"question_id":24401478,"body_markdown":"I need some help here with my Java school work. We were told to prompt the user for five words and from there determine the longest word of them and print to console the longest word as well as the number of characters in it.\r\n\r\nRight now, I only manage to sort them out using the arrays by displaying the longest number of characters but I&#39;m not sure how to display the word itself. I&#39;m a total beginner in programming and my progress is still just in the basics. What can I try next?\r\n\r\n\r\n        import java.util.Scanner;\r\n        import java.util.Arrays;\r\n\r\n        class LongestWord\r\n        {\r\n\tpublic static void main(String [] args)\r\n\t{\t\t\r\n\t\tScanner theInput = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Please enter your five words&quot;);\r\n\t\t\r\n\t\tString fWord = theInput.next();\r\n\t\tString sWord = theInput.next();\r\n\t\tString tWord = theInput.next();\r\n\t\tString fhWord = theInput.next();\r\n\t\tString ffWord = theInput.next();\r\n\t\t\r\n\t\tSystem.out.println(fWord + sWord + tWord + fhWord + ffWord);\r\n\t\t\r\n\t\tint [] wordCount = new int[5];\r\n\t\t\r\n\t\twordCount[0] = fWord.length();\r\n\t\twordCount[1] = sWord.length();\r\n\t\twordCount[2] = tWord.length();\r\n\t\twordCount[3] = fhWord.length();\r\n\t\twordCount[4] = ffWord.length();\r\n\t\t\r\n\t\tArrays.sort(wordCount);\r\n\t\t\r\n\t\tSystem.out.println(wordCount[4]);\r\n\t\t\r\n\r\n\t}\r\n        }","title":"How to determine the longest word in a Java SE array?","body":"<p>I need some help here with my Java school work. We were told to prompt the user for five words and from there determine the longest word of them and print to console the longest word as well as the number of characters in it.</p>\n<p>Right now, I only manage to sort them out using the arrays by displaying the longest number of characters but I'm not sure how to display the word itself. I'm a total beginner in programming and my progress is still just in the basics. What can I try next?</p>\n<pre><code>    import java.util.Scanner;\n    import java.util.Arrays;\n\n    class LongestWord\n    {\npublic static void main(String [] args)\n{       \n    Scanner theInput = new Scanner(System.in);\n    System.out.println(&quot;Please enter your five words&quot;);\n    \n    String fWord = theInput.next();\n    String sWord = theInput.next();\n    String tWord = theInput.next();\n    String fhWord = theInput.next();\n    String ffWord = theInput.next();\n    \n    System.out.println(fWord + sWord + tWord + fhWord + ffWord);\n    \n    int [] wordCount = new int[5];\n    \n    wordCount[0] = fWord.length();\n    wordCount[1] = sWord.length();\n    wordCount[2] = tWord.length();\n    wordCount[3] = fhWord.length();\n    wordCount[4] = ffWord.length();\n    \n    Arrays.sort(wordCount);\n    \n    System.out.println(wordCount[4]);\n    \n\n}\n    }\n</code></pre>\n"},{"tags":["java","c++","java-native-interface","project-panama"],"answers":[{"tags":[],"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692736047,"creation_date":1692736047,"answer_id":76956672,"question_id":76956397,"body_markdown":"The backing store for a `Raster` object is a `DataBuffer`, which is an interface you can implement yourself. If you use a `DirectByteBuffer` you can effectively share a memory region between Java and the native world.","title":"Is there an efficent way to share java Image/Raster pixel memory between Java and native code using Panama or JNI or (?)","body":"<p>The backing store for a <code>Raster</code> object is a <code>DataBuffer</code>, which is an interface you can implement yourself. If you use a <code>DirectByteBuffer</code> you can effectively share a memory region between Java and the native world.</p>\n"}],"owner":{"account_id":280629,"reputation":5238,"user_id":576448,"accept_rate":40,"display_name":"peterk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":3,"up_vote_count":4,"answer_count":1,"score":1,"last_activity_date":1692736047,"creation_date":1692732993,"question_id":76956397,"body_markdown":"I have a C++ library that does image processing on rectangular arrays of pixels.\r\nI want to pass the output C++ pixels to java so they can most effciently be &quot;drawn&quot; into a java.awt.Graphics2 instance for a canvas as an Image/Raster/(?) object( yeah not the best way but it is a legacy app ) \r\n\r\nI am looking for the best way to do this for performance, as the image can be &quot;animated&quot; and updates need to be reasonable. \r\n\r\n\r\n\r\n ","title":"Is there an efficent way to share java Image/Raster pixel memory between Java and native code using Panama or JNI or (?)","body":"<p>I have a C++ library that does image processing on rectangular arrays of pixels.\nI want to pass the output C++ pixels to java so they can most effciently be &quot;drawn&quot; into a java.awt.Graphics2 instance for a canvas as an Image/Raster/(?) object( yeah not the best way but it is a legacy app )</p>\n<p>I am looking for the best way to do this for performance, as the image can be &quot;animated&quot; and updates need to be reasonable.</p>\n"},{"tags":["java","logging","log4j","log4j2","apache-storm"],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692735962,"creation_date":1692735962,"answer_id":76956667,"question_id":76937088,"body_markdown":"Log4j Core can mask your messages only if a library actually uses it as logging backend.\r\n\r\nJersey uses `java.util.logging` as logging API (cf. [source code](https://github.com/kleben/jersey/blob/master/core-common/src/main/java/org/glassfish/jersey/filter/LoggingFilter.java)), which is the most difficult to redirect to a non standard logging backend.\r\n\r\nIn order to do so, you need to set the `java.util.logging.manager` Java system property to a different [`LogManager`](https://docs.oracle.com/en/java/javase/17/docs/api/java.logging/java/util/logging/LogManager.html), before any logging starts, which usually means on the command line.\r\n\r\nIn order to do it in an Apache Storm distribution you need to:\r\n * add [`log4j-jul`](https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-jul) to the application classpath (`lib` subfolder of the distribution),\r\n * add a `storm-env.sh` file in the `conf` directory of the distribution with content:\r\n   ```lang-sh\r\n   export JAR_JVM_OPTS=&quot;-Djava.util.logging.manager=org.apache.logging.log4j.jul.LogManager&quot;\r\n   ```","title":"Control the logging done by a dependency in Java","body":"<p>Log4j Core can mask your messages only if a library actually uses it as logging backend.</p>\n<p>Jersey uses <code>java.util.logging</code> as logging API (cf. <a href=\"https://github.com/kleben/jersey/blob/master/core-common/src/main/java/org/glassfish/jersey/filter/LoggingFilter.java\" rel=\"nofollow noreferrer\">source code</a>), which is the most difficult to redirect to a non standard logging backend.</p>\n<p>In order to do so, you need to set the <code>java.util.logging.manager</code> Java system property to a different <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.logging/java/util/logging/LogManager.html\" rel=\"nofollow noreferrer\"><code>LogManager</code></a>, before any logging starts, which usually means on the command line.</p>\n<p>In order to do it in an Apache Storm distribution you need to:</p>\n<ul>\n<li>add <a href=\"https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-jul\" rel=\"nofollow noreferrer\"><code>log4j-jul</code></a> to the application classpath (<code>lib</code> subfolder of the distribution),</li>\n<li>add a <code>storm-env.sh</code> file in the <code>conf</code> directory of the distribution with content:\n<pre class=\"lang-sh prettyprint-override\"><code>export JAR_JVM_OPTS=&quot;-Djava.util.logging.manager=org.apache.logging.log4j.jul.LogManager&quot;\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":17307521,"reputation":29,"user_id":12535921,"display_name":"rohit sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692735962,"creation_date":1692480280,"question_id":76937088,"body_markdown":"I have an application based on Apache Storm 2.3. The application also have jersey dependencies such as \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-common&lt;/artifactId&gt;\r\n            &lt;version&gt;2.29&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nThere is also 1 library dependency(let&#39;s call it A) which also inherently calls the jersey client.\r\n\r\nProblem Statement:\r\nI am able to control the logging done by my application, such as masking the sensitive token. However, the masking settings done in log4j2.xml are not getting applied to the calls made by A and the sensitive info is getting printed in logs.\r\n\r\nOn debugging, it was getting printed by LoggingFeature class in jersey-common-2.29.jar. Something like:\r\n\r\n\r\n* org.glassfish.jersey.logging.LoggingInterceptor log\r\nINFO: 1 * Sending client request on thread ...*\r\n\r\n\r\nHow can I mask the token printed by the calls made by this library.\r\n\r\nThe complete flow is:\r\n\r\nI call utility function of library A(pass the token and other info as parameter) -&gt; Library A makes the http call -&gt; token gets printed. \r\n\r\nI tried multiple masking techniques such as described here:\r\nhttps://alesaudate.medium.com/masking-sensitive-data-in-log4j-2-the-simplest-way-possible-2c2e74c17f2d or https://facingissuesonit.com/log4j2-how-to-mask-logs-personal-confidential-spi-information/.\r\n\r\nP.S -&gt; I can&#39;t change the logging library, as it might affect the current logging.","title":"Control the logging done by a dependency in Java","body":"<p>I have an application based on Apache Storm 2.3. The application also have jersey dependencies such as</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-common&lt;/artifactId&gt;\n        &lt;version&gt;2.29&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>There is also 1 library dependency(let's call it A) which also inherently calls the jersey client.</p>\n<p>Problem Statement:\nI am able to control the logging done by my application, such as masking the sensitive token. However, the masking settings done in log4j2.xml are not getting applied to the calls made by A and the sensitive info is getting printed in logs.</p>\n<p>On debugging, it was getting printed by LoggingFeature class in jersey-common-2.29.jar. Something like:</p>\n<ul>\n<li>org.glassfish.jersey.logging.LoggingInterceptor log\nINFO: 1 * Sending client request on thread ...*</li>\n</ul>\n<p>How can I mask the token printed by the calls made by this library.</p>\n<p>The complete flow is:</p>\n<p>I call utility function of library A(pass the token and other info as parameter) -&gt; Library A makes the http call -&gt; token gets printed.</p>\n<p>I tried multiple masking techniques such as described here:\n<a href=\"https://alesaudate.medium.com/masking-sensitive-data-in-log4j-2-the-simplest-way-possible-2c2e74c17f2d\" rel=\"nofollow noreferrer\">https://alesaudate.medium.com/masking-sensitive-data-in-log4j-2-the-simplest-way-possible-2c2e74c17f2d</a> or <a href=\"https://facingissuesonit.com/log4j2-how-to-mask-logs-personal-confidential-spi-information/\" rel=\"nofollow noreferrer\">https://facingissuesonit.com/log4j2-how-to-mask-logs-personal-confidential-spi-information/</a>.</p>\n<p>P.S -&gt; I can't change the logging library, as it might affect the current logging.</p>\n"},{"tags":["java","twitter","twitter-api-v2"],"answers":[{"tags":[],"owner":{"account_id":1700242,"reputation":656,"user_id":1560534,"accept_rate":82,"display_name":"broadbear"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692735303,"creation_date":1692735303,"answer_id":76956613,"question_id":76955477,"body_markdown":"I found the answer by posting in a Twitter Developer support forum. The API only supports 280 max characters per tweet.","title":"Twitter (X) API returns &quot;Your Tweet text is too long&quot; for Blue Account","body":"<p>I found the answer by posting in a Twitter Developer support forum. The API only supports 280 max characters per tweet.</p>\n"}],"owner":{"account_id":1700242,"reputation":656,"user_id":1560534,"accept_rate":82,"display_name":"broadbear"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1692735303,"creation_date":1692724010,"question_id":76955477,"body_markdown":"I am using twitter api java client lib to post a tweet larger than 250 chars (only 2600 or so), to a Twitter (X) blue account. I get a 400 error with message &#39;Your Tweet text is too long&#39;. I am able to post the same long tweet through the web interface. Are there different limits between the api and web interface? ","title":"Twitter (X) API returns &quot;Your Tweet text is too long&quot; for Blue Account","body":"<p>I am using twitter api java client lib to post a tweet larger than 250 chars (only 2600 or so), to a Twitter (X) blue account. I get a 400 error with message 'Your Tweet text is too long'. I am able to post the same long tweet through the web interface. Are there different limits between the api and web interface?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1692722405,"post_id":76955277,"comment_id":135662028,"body_markdown":"[Please never post images of text](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557). They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly.","body":"<a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">Please never post images of text</a>. They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1692722996,"post_id":76955277,"comment_id":135662158,"body_markdown":"And please take the [tour] and read [ask].","body":"And please take the <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1692724461,"post_id":76955277,"comment_id":135662469,"body_markdown":"*How* did you get to this state? You haven&#39;t included steps to reproduce and answer where you went wrong.","body":"<i>How</i> did you get to this state? You haven&#39;t included steps to reproduce and answer where you went wrong."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1692727674,"post_id":76955277,"comment_id":135663128,"body_markdown":"I must be blind (or drunk): both images seems to be the same code; and both are neither `main.java` nor `second.java` - and the class named `scnd` is declared to be in `package scnd` but is not in the correct location, that is, not in folder named `scnd` (same name as the `package`) - it is actually listed (on left lower pane) as being in the `(deault package)`, aka no `package`","body":"I must be blind (or drunk): both images seems to be the same code; and both are neither <code>main.java</code> nor <code>second.java</code> - and the class named <code>scnd</code> is declared to be in <code>package scnd</code> but is not in the correct location, that is, not in folder named <code>scnd</code> (same name as the <code>package</code>) - it is actually listed (on left lower pane) as being in the <code>(deault package)</code>, aka no <code>package</code>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1692728103,"post_id":76955277,"comment_id":135663216,"body_markdown":"BTW be warned that Eclipse often has problems finding the `main` method in a non-public class, as in posted image (:-/), if such is really needed, that is, the class not being declared `public`, you must create the Run Configuration by *hand* (or mouse: menu Run -&gt; Run Configurations...)","body":"BTW be warned that Eclipse often has problems finding the <code>main</code> method in a non-public class, as in posted image (:-/), if such is really needed, that is, the class not being declared <code>public</code>, you must create the Run Configuration by <i>hand</i> (or mouse: menu Run -&gt; Run Configurations...)"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1692735560,"post_id":76955277,"comment_id":135664596,"body_markdown":"@user16320675, I believe _maina_ is _&quot;main&quot;_, and _scnd_ is _&quot;second&quot;_.","body":"@user16320675, I believe <i>maina</i> is <i>&quot;main&quot;</i>, and <i>scnd</i> is <i>&quot;second&quot;</i>."},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1692785164,"post_id":76955277,"comment_id":135670544,"body_markdown":"@user16320675 you are not drunk it is the same file!","body":"@user16320675 you are not drunk it is the same file!"}],"answers":[{"tags":[],"owner":{"account_id":29277281,"reputation":1,"user_id":22430760,"display_name":"justsomeone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692724455,"creation_date":1692724455,"answer_id":76955532,"question_id":76955277,"body_markdown":"your scnd.java file are under the default package not under the scnd package so move it to the scnd package next to the maina.java file \r\n\r\nor \r\n\r\nremove the package scnd; statement from the scnd.java file\r\n\r\n\r\nnotice\r\n\r\nthe convention rule that you use camel case for your class which you did not \r\n\r\n","title":"trying to create main.java and second.java , not able to create","body":"<p>your scnd.java file are under the default package not under the scnd package so move it to the scnd package next to the maina.java file</p>\n<p>or</p>\n<p>remove the package scnd; statement from the scnd.java file</p>\n<p>notice</p>\n<p>the convention rule that you use camel case for your class which you did not</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692735293,"creation_date":1692735293,"answer_id":76956610,"question_id":76955277,"body_markdown":"&gt; _&quot;... i created a two files in same pakage ...&quot;_\r\n\r\nYou&#39;re misunderstanding the _package_.&amp;nbsp; There is only 1 file in the _scnd_ package.\r\n\r\nHere is the _Java_ tutorial on _packages_.  \r\n_[Creating and Using Packages (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Packages)](https://docs.oracle.com/javase/tutorial/java/package/packages.html)_.\r\n\r\nTo clarify, you have a project named _scnd_, a package named _scnd_, and also a file named _scnd.java_.\r\n\r\nSo, the file _scnd.java_, is within the _scnd_ project, and not the _scnd_ package.  \r\nAs you can see in your screenshot, it says _&quot;(default package)&quot;_ above _scnd.java_.\r\n\r\nYour other file, _maina.java_, is correctly within the _scnd_ package.\r\n\r\nMy suggestion would be to move the _scnd.java_ file to the _scnd_ package.  \r\nOr, you could try removing the _package scnd_ declaration from the _scnd.java_ file.","title":"trying to create main.java and second.java , not able to create","body":"<blockquote>\n<p><em>&quot;... i created a two files in same pakage ...&quot;</em></p>\n</blockquote>\n<p>You're misunderstanding the <em>package</em>.  There is only 1 file in the <em>scnd</em> package.</p>\n<p>Here is the <em>Java</em> tutorial on <em>packages</em>.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/java/package/packages.html\" rel=\"nofollow noreferrer\">Creating and Using Packages (The Java™ Tutorials &gt; Learning the Java Language &gt; Packages)</a></em>.</p>\n<p>To clarify, you have a project named <em>scnd</em>, a package named <em>scnd</em>, and also a file named <em>scnd.java</em>.</p>\n<p>So, the file <em>scnd.java</em>, is within the <em>scnd</em> project, and not the <em>scnd</em> package.<br />\nAs you can see in your screenshot, it says <em>&quot;(default package)&quot;</em> above <em>scnd.java</em>.</p>\n<p>Your other file, <em>maina.java</em>, is correctly within the <em>scnd</em> package.</p>\n<p>My suggestion would be to move the <em>scnd.java</em> file to the <em>scnd</em> package.<br />\nOr, you could try removing the <em>package scnd</em> declaration from the <em>scnd.java</em> file.</p>\n"}],"owner":{"account_id":29276988,"reputation":9,"user_id":22430531,"display_name":"rajeev shankar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1692735293,"creation_date":1692722214,"question_id":76955277,"body_markdown":"[enter image description here](https://i.stack.imgur.com/diSoc.png)\r\nmain java file is created and not able to compile them will add scond.java in other page\r\n\r\n[enter image description here](https://i.stack.imgur.com/NQQUP.png)\r\nsecond.java i tried to create , please help, please post screen shots if possible, \r\ni created a two files in same pakage , one is main.java where the variable is present and one more is second.java where the method is pulling varible to the secon file , but as shown in image no able to compile the code , please let me know where am i doing wrong.","title":"trying to create main.java and second.java , not able to create","body":"<p><a href=\"https://i.stack.imgur.com/diSoc.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nmain java file is created and not able to compile them will add scond.java in other page</p>\n<p><a href=\"https://i.stack.imgur.com/NQQUP.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nsecond.java i tried to create , please help, please post screen shots if possible,\ni created a two files in same pakage , one is main.java where the variable is present and one more is second.java where the method is pulling varible to the secon file , but as shown in image no able to compile the code , please let me know where am i doing wrong.</p>\n"},{"tags":["java","derby"],"comments":[{"owner":{"account_id":4511992,"reputation":1527,"user_id":3667825,"accept_rate":70,"display_name":"Manas Pratim Chamuah"},"score":0,"creation_date":1430312593,"post_id":21186997,"comment_id":48009888,"body_markdown":"Did you resolved it?i m facing the same problem,please give some insight","body":"Did you resolved it?i m facing the same problem,please give some insight"},{"owner":{"account_id":1581224,"reputation":1369,"user_id":1466580,"accept_rate":89,"display_name":"pshemek"},"score":0,"creation_date":1430388538,"post_id":21186997,"comment_id":48049673,"body_markdown":"adding a library should resolve it. Check Meziane answer below.","body":"adding a library should resolve it. Check Meziane answer below."}],"answers":[{"tags":[],"owner":{"account_id":2305556,"reputation":1376,"user_id":2024913,"accept_rate":63,"display_name":"petur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1389965017,"creation_date":1389965017,"answer_id":21187150,"question_id":21186997,"body_markdown":"Says the JDBC driver is not found. Have you included it in your library?","title":"java - Class [org.apache.derby.jdbc.ClientDriver] not found","body":"<p>Says the JDBC driver is not found. Have you included it in your library?</p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1692734234,"creation_date":1389965081,"answer_id":21187179,"question_id":21186997,"body_markdown":"You need a derby driver installer in the application server for this to work.  It is not enough to include it in your application itself.\r\n\r\nThe simplest way to do so for the Java distributions at the time the question was asked, as I believe Derby is included in the JDK, is to tell JBoss to use the JDK instead of the default JRE. ","title":"java - Class [org.apache.derby.jdbc.ClientDriver] not found","body":"<p>You need a derby driver installer in the application server for this to work.  It is not enough to include it in your application itself.</p>\n<p>The simplest way to do so for the Java distributions at the time the question was asked, as I believe Derby is included in the JDK, is to tell JBoss to use the JDK instead of the default JRE.</p>\n"},{"tags":[],"owner":{"account_id":1913049,"reputation":4957,"user_id":1726308,"accept_rate":80,"display_name":"Mario Kutlev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390054983,"creation_date":1390054983,"answer_id":21205353,"question_id":21186997,"body_markdown":"You must copy derbyclient.jar in your Tomcat server&#39;s lib folder.\r\n\r\nSee [this](https://stackoverflow.com/a/8263229/1726308) answer.","title":"java - Class [org.apache.derby.jdbc.ClientDriver] not found","body":"<p>You must copy derbyclient.jar in your Tomcat server's lib folder.</p>\n\n<p>See <a href=\"https://stackoverflow.com/a/8263229/1726308\">this</a> answer.</p>\n"},{"tags":[],"owner":{"account_id":4758278,"reputation":56,"user_id":3846425,"display_name":"Meziane"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1405538418,"creation_date":1405537974,"answer_id":24788813,"question_id":21186997,"body_markdown":"You need just to use derbyclient instead of derby as artifactId:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\r\n        &lt;artifactId&gt;derbyclient&lt;/artifactId&gt;\r\n        &lt;version&gt;10.10.1.1&lt;/version&gt;\r\n        &lt;type&gt;jar&lt;/type&gt; \r\n    &lt;/dependency&gt;\r\n\r\n......","title":"java - Class [org.apache.derby.jdbc.ClientDriver] not found","body":"<p>You need just to use derbyclient instead of derby as artifactId:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\n    &lt;artifactId&gt;derbyclient&lt;/artifactId&gt;\n    &lt;version&gt;10.10.1.1&lt;/version&gt;\n    &lt;type&gt;jar&lt;/type&gt; \n&lt;/dependency&gt;\n</code></pre>\n\n<p>......</p>\n"}],"owner":{"account_id":1581224,"reputation":1369,"user_id":1466580,"accept_rate":89,"display_name":"pshemek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4608,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":24788813,"answer_count":4,"score":1,"last_activity_date":1692734234,"creation_date":1389964574,"question_id":21186997,"body_markdown":"Trying to connect to derby data base, and I get a below mentioned error:\r\n\r\n\r\n\tJan 17, 2014 2:05:36 PM org.hibernate.validator.internal.util.Version &lt;clinit&gt;\r\n\tINFO: HV000001: Hibernate Validator 5.0.0.Final\r\n\t[EL Info]: 2014-01-17 14:05:36.35--ServerSession(989603483)--EclipseLink, version: Eclipse Persistence Services - 2.5.1.v20130918-f2b9fc5\r\n\t[EL Severe]: ejb: 2014-01-17 14:05:36.36--ServerSession(989603483)--Exception [EclipseLink-4003] (Eclipse Persistence Services - 2.5.1.v20130918-f2b9fc5): org.eclipse.persistence.exceptions.DatabaseException\r\n\tException Description: Configuration error.  Class [org.apache.derby.jdbc.ClientDriver] not found.\r\n\tException in thread &quot;main&quot; javax.persistence.PersistenceException: Exception [EclipseLink-4003] (Eclipse Persistence Services - 2.5.1.v20130918-f2b9fc5): org.eclipse.persistence.exceptions.DatabaseException\r\n\tException Description: Configuration error.  Class [org.apache.derby.jdbc.ClientDriver] not found.\r\n\t\tat org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.deploy(EntityManagerSetupImpl.java:766)\r\n\t\tat org.eclipse.persistence.internal.jpa.EntityManagerFactoryDelegate.getAbstractSession(EntityManagerFactoryDelegate.java:204)\r\n\t\tat org.eclipse.persistence.internal.jpa.EntityManagerFactoryDelegate.getDatabaseSession(EntityManagerFactoryDelegate.java:182)\r\n\t\tat org.eclipse.persistence.internal.jpa.EntityManagerFactoryImpl.getDatabaseSession(EntityManagerFactoryImpl.java:527)\r\n\t\tat org.eclipse.persistence.jpa.PersistenceProvider.createEntityManagerFactoryImpl(PersistenceProvider.java:140)\r\n\t\tat org.eclipse.persistence.jpa.PersistenceProvider.createEntityManagerFactory(PersistenceProvider.java:177)\r\n\t\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:55)\r\n\t\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:39)\r\n\t\tat com.mycompany.managingpersistanceobjects.App.main(App.java:20)\r\n\tCaused by: Exception [EclipseLink-4003] (Eclipse Persistence Services - 2.5.1.v20130918-f2b9fc5): org.eclipse.persistence.exceptions.DatabaseException\r\n\tException Description: Configuration error.  Class [org.apache.derby.jdbc.ClientDriver] not found.\r\n\t\tat org.eclipse.persistence.exceptions.DatabaseException.configurationErrorClassNotFound(DatabaseException.java:89)\r\n\t\tat org.eclipse.persistence.sessions.DefaultConnector.loadDriverClass(DefaultConnector.java:267)\r\n\t\tat org.eclipse.persistence.sessions.DefaultConnector.connect(DefaultConnector.java:85)\r\n\t\tat org.eclipse.persistence.sessions.DatasourceLogin.connectToDatasource(DatasourceLogin.java:162)\r\n\t\tat org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.setOrDetectDatasource(DatabaseSessionImpl.java:204)\r\n\t\tat org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.loginAndDetectDatasource(DatabaseSessionImpl.java:741)\r\n\t\tat org.eclipse.persistence.internal.jpa.EntityManagerFactoryProvider.login(EntityManagerFactoryProvider.java:239)\r\n\t\tat org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.deploy(EntityManagerSetupImpl.java:685)\r\n\t\t... 8 more\r\n\t------------------------------------------------------------------------\r\n\tBUILD FAILURE\r\n\t------------------------------------------------------------------------\r\n\tTotal time: 1.590s\r\n\tFinished at: Fri Jan 17 14:05:36 CET 2014\r\n\tFinal Memory: 5M/121M\r\n\t------------------------------------------------------------------------\r\n\tFailed to execute goal org.codehaus.mojo:exec-maven-plugin:1.2.1:exec (default-cli) on project ManagingPersistanceObjects: Command execution failed. Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]\r\n\r\n\tTo see the full stack trace of the errors, re-run Maven with the -e switch.\r\n\tRe-run Maven using the -X switch to enable full debug logging.\r\n\r\n\tFor more information about the errors and possible solutions, please read the following articles:\r\n\t[Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\nHere is a main class:\r\n\r\n    public class App {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tCustomer customer = new Customer(&quot;Anthony&quot;, &quot;Balla&quot;, &quot;tballa@mail.com&quot;);\r\n\t\t\tAddress address = new Address(&quot;Rirherdon RD&quot;, &quot;London&quot;, &quot;8QE&quot;, &quot;UK&quot;);\r\n\t\t\tcustomer.setAddress(address);\r\n\r\n\t\t\tEntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;chapter06PU&quot;);\r\n\t\t\tEntityManager em = emf.createEntityManager();\r\n\t\t\tEntityTransaction et = em.getTransaction();\r\n\r\n\t\t\tet.begin();\r\n\t\t\tem.persist(customer);\r\n\t\t\tet.commit();\r\n\t\t\tem.close();\r\n\t\t\temf.close();\r\n\r\n\t\t}\r\n\t}\r\n\r\nHere is Persistence Unit:\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\r\n\t  &lt;persistence-unit name=&quot;chapter06PU&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n\t\t&lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\r\n\t\t&lt;properties&gt;\r\n\t\t  &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:derby://localhost:1527/chapter06PU;create=true&quot;/&gt;\r\n\t\t  &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;app&quot;/&gt;\r\n\t\t  &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.apache.derby.jdbc.ClientDriver&quot;/&gt;\r\n\t\t  &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;app&quot;/&gt;\r\n\t\t  &lt;property name=&quot;javax.persistence.schema-generation.database.action&quot; value=&quot;drop-and-create&quot;/&gt;\r\n\t\t&lt;/properties&gt;\r\n\t  &lt;/persistence-unit&gt;\r\n\t&lt;/persistence&gt;\r\n\r\nThe data base running:\r\n\r\n\tFri Jan 17 10:37:31 CET 2014 : Security manager installed using the Basic server\r\n\t security policy.\r\n\tFri Jan 17 10:37:31 CET 2014 : Apache Derby Network Server - 10.10.1.1 - (145826\r\n\t8) started and ready to accept connections on port 1527\r\n\r\nand I believe I have the dependency to the client in POM:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;derby&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;10.10.1.1&lt;/version&gt;\r\n\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nCan you advice?\r\n\r\n\r\n","title":"java - Class [org.apache.derby.jdbc.ClientDriver] not found","body":"<p>Trying to connect to derby data base, and I get a below mentioned error:</p>\n\n<pre><code>Jan 17, 2014 2:05:36 PM org.hibernate.validator.internal.util.Version &lt;clinit&gt;\nINFO: HV000001: Hibernate Validator 5.0.0.Final\n[EL Info]: 2014-01-17 14:05:36.35--ServerSession(989603483)--EclipseLink, version: Eclipse Persistence Services - 2.5.1.v20130918-f2b9fc5\n[EL Severe]: ejb: 2014-01-17 14:05:36.36--ServerSession(989603483)--Exception [EclipseLink-4003] (Eclipse Persistence Services - 2.5.1.v20130918-f2b9fc5): org.eclipse.persistence.exceptions.DatabaseException\nException Description: Configuration error.  Class [org.apache.derby.jdbc.ClientDriver] not found.\nException in thread \"main\" javax.persistence.PersistenceException: Exception [EclipseLink-4003] (Eclipse Persistence Services - 2.5.1.v20130918-f2b9fc5): org.eclipse.persistence.exceptions.DatabaseException\nException Description: Configuration error.  Class [org.apache.derby.jdbc.ClientDriver] not found.\n    at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.deploy(EntityManagerSetupImpl.java:766)\n    at org.eclipse.persistence.internal.jpa.EntityManagerFactoryDelegate.getAbstractSession(EntityManagerFactoryDelegate.java:204)\n    at org.eclipse.persistence.internal.jpa.EntityManagerFactoryDelegate.getDatabaseSession(EntityManagerFactoryDelegate.java:182)\n    at org.eclipse.persistence.internal.jpa.EntityManagerFactoryImpl.getDatabaseSession(EntityManagerFactoryImpl.java:527)\n    at org.eclipse.persistence.jpa.PersistenceProvider.createEntityManagerFactoryImpl(PersistenceProvider.java:140)\n    at org.eclipse.persistence.jpa.PersistenceProvider.createEntityManagerFactory(PersistenceProvider.java:177)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:55)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:39)\n    at com.mycompany.managingpersistanceobjects.App.main(App.java:20)\nCaused by: Exception [EclipseLink-4003] (Eclipse Persistence Services - 2.5.1.v20130918-f2b9fc5): org.eclipse.persistence.exceptions.DatabaseException\nException Description: Configuration error.  Class [org.apache.derby.jdbc.ClientDriver] not found.\n    at org.eclipse.persistence.exceptions.DatabaseException.configurationErrorClassNotFound(DatabaseException.java:89)\n    at org.eclipse.persistence.sessions.DefaultConnector.loadDriverClass(DefaultConnector.java:267)\n    at org.eclipse.persistence.sessions.DefaultConnector.connect(DefaultConnector.java:85)\n    at org.eclipse.persistence.sessions.DatasourceLogin.connectToDatasource(DatasourceLogin.java:162)\n    at org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.setOrDetectDatasource(DatabaseSessionImpl.java:204)\n    at org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.loginAndDetectDatasource(DatabaseSessionImpl.java:741)\n    at org.eclipse.persistence.internal.jpa.EntityManagerFactoryProvider.login(EntityManagerFactoryProvider.java:239)\n    at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.deploy(EntityManagerSetupImpl.java:685)\n    ... 8 more\n------------------------------------------------------------------------\nBUILD FAILURE\n------------------------------------------------------------------------\nTotal time: 1.590s\nFinished at: Fri Jan 17 14:05:36 CET 2014\nFinal Memory: 5M/121M\n------------------------------------------------------------------------\nFailed to execute goal org.codehaus.mojo:exec-maven-plugin:1.2.1:exec (default-cli) on project ManagingPersistanceObjects: Command execution failed. Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]\n\nTo see the full stack trace of the errors, re-run Maven with the -e switch.\nRe-run Maven using the -X switch to enable full debug logging.\n\nFor more information about the errors and possible solutions, please read the following articles:\n[Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n\n<p>Here is a main class:</p>\n\n<pre><code>public class App {\n\n    public static void main(String[] args) {\n        Customer customer = new Customer(\"Anthony\", \"Balla\", \"tballa@mail.com\");\n        Address address = new Address(\"Rirherdon RD\", \"London\", \"8QE\", \"UK\");\n        customer.setAddress(address);\n\n        EntityManagerFactory emf = Persistence.createEntityManagerFactory(\"chapter06PU\");\n        EntityManager em = emf.createEntityManager();\n        EntityTransaction et = em.getTransaction();\n\n        et.begin();\n        em.persist(customer);\n        et.commit();\n        em.close();\n        emf.close();\n\n    }\n}\n</code></pre>\n\n<p>Here is Persistence Unit:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;persistence version=\"2.1\" xmlns=\"http://xmlns.jcp.org/xml/ns/persistence\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd\"&gt;\n  &lt;persistence-unit name=\"chapter06PU\" transaction-type=\"RESOURCE_LOCAL\"&gt;\n    &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\n    &lt;properties&gt;\n      &lt;property name=\"javax.persistence.jdbc.url\" value=\"jdbc:derby://localhost:1527/chapter06PU;create=true\"/&gt;\n      &lt;property name=\"javax.persistence.jdbc.password\" value=\"app\"/&gt;\n      &lt;property name=\"javax.persistence.jdbc.driver\" value=\"org.apache.derby.jdbc.ClientDriver\"/&gt;\n      &lt;property name=\"javax.persistence.jdbc.user\" value=\"app\"/&gt;\n      &lt;property name=\"javax.persistence.schema-generation.database.action\" value=\"drop-and-create\"/&gt;\n    &lt;/properties&gt;\n  &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n\n<p>The data base running:</p>\n\n<pre><code>Fri Jan 17 10:37:31 CET 2014 : Security manager installed using the Basic server\n security policy.\nFri Jan 17 10:37:31 CET 2014 : Apache Derby Network Server - 10.10.1.1 - (145826\n8) started and ready to accept connections on port 1527\n</code></pre>\n\n<p>and I believe I have the dependency to the client in POM:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\n    &lt;artifactId&gt;derby&lt;/artifactId&gt;\n    &lt;version&gt;10.10.1.1&lt;/version&gt;\n    &lt;type&gt;jar&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Can you advice?</p>\n"},{"tags":["java","log4j","apache-flink","log4j2"],"comments":[{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1692741245,"post_id":76956510,"comment_id":135665335,"body_markdown":"The most likely cause is that when running on Flink, a different version of Log4J is being used (at runtime) than what you have compiled it with. You are using version 2.20.0 when compiling but for some reason when you&#39;re running it, a different version is used.","body":"The most likely cause is that when running on Flink, a different version of Log4J is being used (at runtime) than what you have compiled it with. You are using version 2.20.0 when compiling but for some reason when you&#39;re running it, a different version is used."}],"owner":{"account_id":1259633,"reputation":1751,"user_id":1218317,"accept_rate":87,"display_name":"ritratt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692734098,"creation_date":1692734098,"question_id":76956510,"body_markdown":"When I submit my jar to Flink for execution, I get the following error:\r\n```\r\nCaused by: java.lang.NoSuchMethodError: &#39;void org.apache.logging.log4j.util.PropertiesUtil.addPropertySource(org.apache.logging.log4j.util.PropertySource)&#39;\r\n```\r\n\r\nI checked other answers and I&#39;m using the same version of Log4j according to my `mvn dependency:tree`:\r\n```\r\n$ mvn dependency:tree | grep log4j                                                                                                                                                 \r\n[INFO] |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.20.0:compile\r\n[INFO] |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.20.0:compile\r\n```\r\n\r\nWhat could be the cause of this error and how do I fix it?\r\n\r\nPS: The code works fine when running locally. It only produces the error when submitting to Flink","title":"Java error NoSuchMethodError: PropertiesUtil.addPropertySource","body":"<p>When I submit my jar to Flink for execution, I get the following error:</p>\n<pre><code>Caused by: java.lang.NoSuchMethodError: 'void org.apache.logging.log4j.util.PropertiesUtil.addPropertySource(org.apache.logging.log4j.util.PropertySource)'\n</code></pre>\n<p>I checked other answers and I'm using the same version of Log4j according to my <code>mvn dependency:tree</code>:</p>\n<pre><code>$ mvn dependency:tree | grep log4j                                                                                                                                                 \n[INFO] |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.20.0:compile\n[INFO] |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.20.0:compile\n</code></pre>\n<p>What could be the cause of this error and how do I fix it?</p>\n<p>PS: The code works fine when running locally. It only produces the error when submitting to Flink</p>\n"},{"tags":["java","spring","maven","dependencies","classnotfoundexception"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692736260,"post_id":76956489,"comment_id":135664704,"body_markdown":"How are you running it?","body":"How are you running it?"},{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1692741462,"post_id":76956489,"comment_id":135665353,"body_markdown":"Why are you setting the scope to `system` and specifying a `systemPath` value? The standard way is to install the jars in your local Maven repo by compiling with `mvn clean install`, and then you don&#39;t need to use `system` scope when depending on them. It probably fails because the jar files cannot be found in the right place at runtime. See [Maven Dependency Scopes](https://www.baeldung.com/maven-dependency-scopes).","body":"Why are you setting the scope to <code>system</code> and specifying a <code>systemPath</code> value? The standard way is to install the jars in your local Maven repo by compiling with <code>mvn clean install</code>, and then you don&#39;t need to use <code>system</code> scope when depending on them. It probably fails because the jar files cannot be found in the right place at runtime. See <a href=\"https://www.baeldung.com/maven-dependency-scopes\" rel=\"nofollow noreferrer\">Maven Dependency Scopes</a>."},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1692741610,"post_id":76956489,"comment_id":135665368,"body_markdown":"I believe @g00se is eluding to the issue.  When you use systemPath, those jars are not packaged with your application jar.  Show us the command line that you&#39;re using to start it, you probably just need to ensure that those jars are added to the classpath.","body":"I believe @g00se is eluding to the issue.  When you use systemPath, those jars are not packaged with your application jar.  Show us the command line that you&#39;re using to start it, you probably just need to ensure that those jars are added to the classpath."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1692776352,"post_id":76956489,"comment_id":135668882,"body_markdown":"Spring Boot (or rather maven) doesn&#39;t include the system scoped dependencies into your jar. This is by design as they are to be added as external dependencies (that is the point of system scoped dependencies). To include add `includeSystemScope` as property to your `spring-boot-maven-plugin` and set it to `true`. See https://stackoverflow.com/a/43822161/2696260 and https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#goals-build-image-no-fork-parameters-details-includeSystemScope","body":"Spring Boot (or rather maven) doesn&#39;t include the system scoped dependencies into your jar. This is by design as they are to be added as external dependencies (that is the point of system scoped dependencies). To include add <code>includeSystemScope</code> as property to your <code>spring-boot-maven-plugin</code> and set it to <code>true</code>. See <a href=\"https://stackoverflow.com/a/43822161/2696260\">stackoverflow.com/a/43822161/2696260</a> and <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#goals-build-image-no-fork-parameters-details-includeSystemScope\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/maven-plugin/referen&zwnj;&#8203;ce/&hellip;</a>"}],"owner":{"account_id":7732618,"reputation":336,"user_id":5859299,"display_name":"Austin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1692776495,"answer_count":0,"score":0,"last_activity_date":1692734030,"creation_date":1692733867,"question_id":76956489,"body_markdown":"I have a SpringBoot project being build with maven. I have 2 local libraries I am using but only 1 works and I can&#39;t figure out why the other doesn&#39;t work. I have both jars included as dependencies in my pom.xml file and have verified that the jars are indeed where I expect them to be:\r\n```\r\n&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.runner&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;librunnermax&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;system&lt;/scope&gt;\r\n\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t\t&lt;systemPath&gt;${project.basedir}/../librunnermax/build/lib/librunnermax.jar&lt;/systemPath&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.runner&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;librunnermin&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;system&lt;/scope&gt;\r\n\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n            &lt;systemPath&gt;${project.basedir}/../librunnermin/build/lib/librunnermin.jar&lt;/systemPath&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n```\r\n\r\nThe relevant code in these libraries is:\r\n\r\nLibrunnermax.Max\r\n```\r\npackage com.runner.max;\r\n\r\npublic class Max {\r\n  public static final int MAX = 4;\r\n}\r\n```\r\n\r\nLibrunnermin.Min\r\n```\r\npackage com.runner.min;\r\n\r\npublic class Min {\r\n  public static final int MIN = 0;\r\n}\r\n```\r\n\r\nThe spring controller I am using is this:\r\n```\r\npackage com.runner.limits_api;\r\n\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport com.runner.min.Min;\r\nimport com.runner.max.Max;\r\n\r\n@RestController\r\npublic class LimitController\r\n{\r\n\t@GetMapping(&quot;/library&quot;)\r\n\tpublic int library()\r\n\t{\r\n\t\treturn Max.MAX;\r\n\t}\r\n\r\n\t@GetMapping(&quot;/library2&quot;)\r\n\tpublic int library2()\r\n\t{\r\n\t\treturn Min.MIN;\r\n\t}\r\n}\r\n```\r\n\r\nThis all builds sucessfully. I get a limits_api.jar file (which does not list the min/max dependencies in the text of the jar). limits_api.jar is copied to my exec/ dir and the dependencies are copied to my lib/ dir.\r\n```\r\nproject/\r\n    src/\r\n        limits_api/\r\n        librunnermax/\r\n        librunnermin/\r\n    lib/\r\n    exec/\r\n```\r\n\r\nWhen I run it, I can hit the /library endpoint and get the max value. When I hit the /library2 endpoint I get the ClassNotFoundException because Min class cannot be found. No error is thrown when I run the import statements. Why can Max be found but Min cant?","title":"Java import works, but ClassNotFoundException when calling class","body":"<p>I have a SpringBoot project being build with maven. I have 2 local libraries I am using but only 1 works and I can't figure out why the other doesn't work. I have both jars included as dependencies in my pom.xml file and have verified that the jars are indeed where I expect them to be:</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.runner&lt;/groupId&gt;\n            &lt;artifactId&gt;librunnermax&lt;/artifactId&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n            &lt;systemPath&gt;${project.basedir}/../librunnermax/build/lib/librunnermax.jar&lt;/systemPath&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.runner&lt;/groupId&gt;\n            &lt;artifactId&gt;librunnermin&lt;/artifactId&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n            &lt;systemPath&gt;${project.basedir}/../librunnermin/build/lib/librunnermin.jar&lt;/systemPath&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n</code></pre>\n<p>The relevant code in these libraries is:</p>\n<p>Librunnermax.Max</p>\n<pre><code>package com.runner.max;\n\npublic class Max {\n  public static final int MAX = 4;\n}\n</code></pre>\n<p>Librunnermin.Min</p>\n<pre><code>package com.runner.min;\n\npublic class Min {\n  public static final int MIN = 0;\n}\n</code></pre>\n<p>The spring controller I am using is this:</p>\n<pre><code>package com.runner.limits_api;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport com.runner.min.Min;\nimport com.runner.max.Max;\n\n@RestController\npublic class LimitController\n{\n    @GetMapping(&quot;/library&quot;)\n    public int library()\n    {\n        return Max.MAX;\n    }\n\n    @GetMapping(&quot;/library2&quot;)\n    public int library2()\n    {\n        return Min.MIN;\n    }\n}\n</code></pre>\n<p>This all builds sucessfully. I get a limits_api.jar file (which does not list the min/max dependencies in the text of the jar). limits_api.jar is copied to my exec/ dir and the dependencies are copied to my lib/ dir.</p>\n<pre><code>project/\n    src/\n        limits_api/\n        librunnermax/\n        librunnermin/\n    lib/\n    exec/\n</code></pre>\n<p>When I run it, I can hit the /library endpoint and get the max value. When I hit the /library2 endpoint I get the ClassNotFoundException because Min class cannot be found. No error is thrown when I run the import statements. Why can Max be found but Min cant?</p>\n"},{"tags":["java","eclipse","plugins","pde"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1647934047,"post_id":71567908,"comment_id":126489366,"body_markdown":"Does the customized Eclipse (an RCP) actually use the org.eclipse.ui.xxxx plugins, or is it just an &quot;e4&quot; RCP using just the core e4 APIs? For an e4 RCP you can&#39;t use any org.eclipse.ui.xxx extension points or APIs.","body":"Does the customized Eclipse (an RCP) actually use the org.eclipse.ui.xxxx plugins, or is it just an &quot;e4&quot; RCP using just the core e4 APIs? For an e4 RCP you can&#39;t use any org.eclipse.ui.xxx extension points or APIs."},{"owner":{"account_id":23631461,"reputation":21,"user_id":17663122,"display_name":"Bj&#246;rn Beuck"},"score":0,"creation_date":1647942161,"post_id":71567908,"comment_id":126492079,"body_markdown":"Hi greg-449,\n\nI can see in the RCP target plugins like org.eclipse.ui.(workbench, views, navigator, ide, forms, editors, console) in the loaded plugins. I am confused about the different behaviors between debugging (witch is working (eclipse shows some errors while starting, if I run it as target)\n\nAfter your question, I have created a simple OSGI plugin and set a breakpoint in the start(BundleContext) method. It will not hit. After that I thing it is an Eclipse plugin","body":"Hi greg-449,  I can see in the RCP target plugins like org.eclipse.ui.(workbench, views, navigator, ide, forms, editors, console) in the loaded plugins. I am confused about the different behaviors between debugging (witch is working (eclipse shows some errors while starting, if I run it as target)  After your question, I have created a simple OSGI plugin and set a breakpoint in the start(BundleContext) method. It will not hit. After that I thing it is an Eclipse plugin"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1647943731,"post_id":71567908,"comment_id":126492668,"body_markdown":"Plugins are not started until they are needed so the `start` method will not be called unless Eclipse has some reason to start the plugin. That is part of the reason the earlyStartup exists. Diagnosing problems like this is very hard in a Stack Overflow question as it needs lots of information about the setup.","body":"Plugins are not started until they are needed so the <code>start</code> method will not be called unless Eclipse has some reason to start the plugin. That is part of the reason the earlyStartup exists. Diagnosing problems like this is very hard in a Stack Overflow question as it needs lots of information about the setup."},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1648285954,"post_id":71567908,"comment_id":126589613,"body_markdown":"Consider moving your solution section to a self-answer below. You can tick/check it too if you wish.","body":"Consider moving your solution section to a self-answer below. You can tick/check it too if you wish."}],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301824,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692733482,"creation_date":1692733482,"answer_id":76956449,"question_id":71567908,"body_markdown":"&gt; I have now the Plugin as project. Beside I have created a Feature Project, with the plugin inside. From the Feature project, in the overview tab, point publishing, I create a &quot;Update site Project&quot;.\r\n\r\nCheck if Eclipse 4.29 (Q3 2023) could help:\r\n\r\n&gt; ## [Support for mixed Products](https://eclipse.dev/eclipse/news/4.29/pde.php#mixed-products)\r\n&gt;\r\n&gt; The PDE Product Editor now supports mixed products, which consist of both Plug-ins and Feature.\r\n&gt;\r\n&gt;  On the `Overview` page of the Product, just select\r\n&gt;  `The product configuration is based on: plug-ins and feature`\r\n&gt;  and you can add Plug-ins and Features to the Product in the `Contents` page of the editor.\r\n&gt; \r\n&gt;  You can launch mixed products as usual from the IDE via shortcuts in the `Overview` page.\r\n&gt;  Tycho supports building mixed products since version 3.0.0.\r\n&gt;\r\n&gt; [![https://eclipse.dev/eclipse/news/4.29/images/mixed-products.png][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3FfbY.png","title":"Eclipse PDE plugin is not load in target Platform, debugging works","body":"<blockquote>\n<p>I have now the Plugin as project. Beside I have created a Feature Project, with the plugin inside. From the Feature project, in the overview tab, point publishing, I create a &quot;Update site Project&quot;.</p>\n</blockquote>\n<p>Check if Eclipse 4.29 (Q3 2023) could help:</p>\n<blockquote>\n<h2><a href=\"https://eclipse.dev/eclipse/news/4.29/pde.php#mixed-products\" rel=\"nofollow noreferrer\">Support for mixed Products</a></h2>\n<p>The PDE Product Editor now supports mixed products, which consist of both Plug-ins and Feature.</p>\n<p>On the <code>Overview</code> page of the Product, just select\n<code>The product configuration is based on: plug-ins and feature</code>\nand you can add Plug-ins and Features to the Product in the <code>Contents</code> page of the editor.</p>\n<p>You can launch mixed products as usual from the IDE via shortcuts in the <code>Overview</code> page.\nTycho supports building mixed products since version 3.0.0.</p>\n<p><a href=\"https://i.stack.imgur.com/3FfbY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3FfbY.png\" alt=\"https://eclipse.dev/eclipse/news/4.29/images/mixed-products.png\" /></a></p>\n</blockquote>\n"}],"owner":{"account_id":23631461,"reputation":21,"user_id":17663122,"display_name":"Bj&#246;rn Beuck"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692733482,"creation_date":1647931688,"question_id":71567908,"body_markdown":"I try to make my first plugin for Eclipse. To do it, I have defined a Target Platform and has created a small hello world Plugin. It has the Extension Point org.eclipse.ui.startup. When I run the Plugin in debug mode, the target will load and prints a message to the console. All ok.\r\n\r\nIf I export the same plugin as a &quot;Deployable plug-ins and fragments&quot; directly to the plugin directory of the target and start the target standalone, the plugin will not load. Also check in the Help menu / About / installation Details do not show the plugin.\r\n\r\nI make a retry with a standard Eclipse version, it will load the plugin. It is listed in the installation details.\r\n\r\nI don&#39;t have any idea, why it will not load in the target. \r\nThe target eclipse is customized eclipse. It works only as framework for the application. I don&#39;t know the exact wording for it. It has his own Menu items and views. The starter exe is not named eclipse.exe. It is renamed to &lt;aplication&gt;.exe also the corresponding config ini.\r\n\r\nThe ini content is:\r\n```\r\n-startup\r\nplugins/org.eclipse.equinox.launcher_1.5.700.v20200207-2156.jar\r\n--launcher.library\r\nplugins/org.eclipse.equinox.launcher.win32.win32.x86_64_1.1.1100.v20190907-0426\r\n-data\r\n@noDefault\r\n-vmargs\r\n-Xms40m\r\n-Xmx1024m\r\n-Declipse.p2.unsignedPolicy=allow\r\n```\r\nI started the target also with the -clean option, to reload the plugin cache. No change.\r\n\r\nThe code is:\r\n\r\nplugin.xml\r\n``` \r\n&lt;plugin&gt;\r\n   &lt;extension\r\n         point=&quot;org.eclipse.ui.startup&quot;&gt;\r\n         &lt;startup class=&quot;com.ing.logging.plugin.startup&quot;/&gt;\r\n   &lt;/extension&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nstartup.java\r\n```\r\npackage com.ing.logging.plugin;\r\n\r\nimport org.eclipse.ui.IStartup;\r\n\r\npublic class startup implements IStartup {\r\n\r\n\t@Override\r\n\tpublic void earlyStartup() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tSystem.out.println(&quot;EsoRemote ESR Labs 2022&quot;);\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\nThe Activator class is completely generated by eclipse.\r\n\r\nHow I can make work the plugin in the target?\r\n\r\nFinal solution\r\n---\r\n\r\nAfter many tries, I found a way. I have now the Plugin as project. Beside I have created a Feature Project, with the plugin inside. From the Feature project, in the overview tab, point publishing, I create a &quot;Update site Project&quot;.\r\n\r\nIn the Export wizard on &quot;Install into host. Repository&quot; the local path to the created rep. \r\n\r\nThis repository can added in the RCP application under Help / &quot;Install new software&quot;. Now the plugin can installed to the target. That its on the end.\r\n","title":"Eclipse PDE plugin is not load in target Platform, debugging works","body":"<p>I try to make my first plugin for Eclipse. To do it, I have defined a Target Platform and has created a small hello world Plugin. It has the Extension Point org.eclipse.ui.startup. When I run the Plugin in debug mode, the target will load and prints a message to the console. All ok.</p>\n<p>If I export the same plugin as a &quot;Deployable plug-ins and fragments&quot; directly to the plugin directory of the target and start the target standalone, the plugin will not load. Also check in the Help menu / About / installation Details do not show the plugin.</p>\n<p>I make a retry with a standard Eclipse version, it will load the plugin. It is listed in the installation details.</p>\n<p>I don't have any idea, why it will not load in the target.\nThe target eclipse is customized eclipse. It works only as framework for the application. I don't know the exact wording for it. It has his own Menu items and views. The starter exe is not named eclipse.exe. It is renamed to .exe also the corresponding config ini.</p>\n<p>The ini content is:</p>\n<pre><code>-startup\nplugins/org.eclipse.equinox.launcher_1.5.700.v20200207-2156.jar\n--launcher.library\nplugins/org.eclipse.equinox.launcher.win32.win32.x86_64_1.1.1100.v20190907-0426\n-data\n@noDefault\n-vmargs\n-Xms40m\n-Xmx1024m\n-Declipse.p2.unsignedPolicy=allow\n</code></pre>\n<p>I started the target also with the -clean option, to reload the plugin cache. No change.</p>\n<p>The code is:</p>\n<p>plugin.xml</p>\n<pre><code>&lt;plugin&gt;\n   &lt;extension\n         point=&quot;org.eclipse.ui.startup&quot;&gt;\n         &lt;startup class=&quot;com.ing.logging.plugin.startup&quot;/&gt;\n   &lt;/extension&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>startup.java</p>\n<pre><code>package com.ing.logging.plugin;\n\nimport org.eclipse.ui.IStartup;\n\npublic class startup implements IStartup {\n\n    @Override\n    public void earlyStartup() {\n        // TODO Auto-generated method stub\n        System.out.println(&quot;EsoRemote ESR Labs 2022&quot;);\n        \n    }\n}\n</code></pre>\n<p>The Activator class is completely generated by eclipse.</p>\n<p>How I can make work the plugin in the target?</p>\n<h2>Final solution</h2>\n<p>After many tries, I found a way. I have now the Plugin as project. Beside I have created a Feature Project, with the plugin inside. From the Feature project, in the overview tab, point publishing, I create a &quot;Update site Project&quot;.</p>\n<p>In the Export wizard on &quot;Install into host. Repository&quot; the local path to the created rep.</p>\n<p>This repository can added in the RCP application under Help / &quot;Install new software&quot;. Now the plugin can installed to the target. That its on the end.</p>\n"},{"tags":["java","javafx","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":19442007,"reputation":36,"user_id":14220227,"display_name":"Tejumola Mann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692733466,"creation_date":1692733466,"answer_id":76956447,"question_id":64229857,"body_markdown":"I hope my answer helps after it&#39;s been a long time since you asked this question but it can help someone out there.\r\nIt would have helped if you shared the output from your tests, error or not, but I was in your shoes a while ago. First, you need to understand how the platforms JavaFX, Mockito, and JUnit work. They are frameworks and unique in how they execute within the Java virtual machine. Any artifact that belongs to the domain of JavaFX will require JavaFX&#39;s runtime before they work the way you intend them to. This is why the main class (the class where the main method is contained) must subclass JavaFX&#39;s Application class and override its &quot;start&quot; method. When your application runs java knows to look for this method and your application runs within the domain of JavaFX, allowing all JavaFX&#39;s artifacts to execute as implemented in your code. In other words, a thread specific to JavaFX will be started and this is where your application will be executed, away from the main thread.\r\nSecond, when you run your tests with Junit you are not required to create a main class and its main method. Junit&#39;s framework does this for you behind the scenes and executes your tests. Junit is not aware of JavaFX so your tests should fail, and throw IllegalStateException because the JavaFX thread hasn&#39;t been started. Junit does not do that automatically. JavaFX&#39;s main thread needs to be started and all JavaFX code needs to run on that thread.\r\nIn my situation, I needed to test some business logic in my JavaFX application and these are the parts of the application that don&#39;t require JavaFX artifacts.  I had one of them like so\r\n\r\n    @Override\r\n        public void onVendRequest(VendRequestVendronEvent event) {\r\n            // The paying amount entered by the customer on Vendron&#39;s sale UI is passed over to the application&#39;s GUI\r\n            CardPaymentController.setPayingAmount(event.getRequiredPrice());\r\n    \r\n            // Show the GUI (there&#39;s a lag of about two to three seconds)\r\n            Platform.runLater(() -&gt; super.stage.show());\r\n            this.socketPayLogger.info(&quot;Showing GUI&quot;);\r\n    \r\n            // More code below\r\n        }\r\nWell, you see the part that calls the GUI to be displayed, that&#39;s JavaFX code. This method runs on a separate thread because I employed concurrency in my application, and when I needed to call JavaFX code (like updating GUI components) from a thread that is not the main JavaFX thread I had to wrap my statements in a Runnable, hand it over to the &quot;runLater&quot; method and it safely executes them on the JavaFX&#39;s thread. Read about it [here][1]. Testing this method as said earlier will throw an IllegalStateException when JavaFx&#39;s thread is not running. So to bring JavaFX framework into my test I had to add the line below in my tests.\r\n\r\n    Platform.startup(runnable);\r\n\r\nYou just have to simply place your tests in the runnable object and call that line in your test method. This brings over the JavaFX framework into your tests and its artifacts are executed as they should all the while Junit is not compromised in any way. You can read up about the class in the JavaFX 17 docs [here][2].\r\nHere&#39;s the test that worked for me\r\n\r\n    @Test\r\n    void testOnVendRequest(){\r\n        Runnable runnable = () -&gt; {\r\n            try {\r\n                n6DeviceConnection.createSerialConnection();\r\n                assertTrue(n6DeviceConnection.isConnected());\r\n                 Optional&lt;VendronSocketMessage&gt; optional = controller.create(&quot;External PC Plugin;Vend Request;add_on_variable=&amp;required_price=200#&quot;);\r\n    \r\n                if (optional.isPresent()){\r\n                    VendronEvent vendronEvent = vendronEventFactory.createVendronEvent(optional.get(), new Object());\r\n                    posPay.onVendRequest((VendRequestVendronEvent) vendronEvent);\r\n                }\r\n            } catch (SerialPortException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        };\r\n    \r\n        Platform.startup(runnable);\r\n        while (true){\r\n            if (posPay.isPaymentTransactionComplete()){\r\n                String string = posPay.getFinishedTransactionReport();\r\n                assertInstanceOf(String.class, string);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\nJUnit will call the JavaFX framework allowing smooth execution of your tests. So, always remember that all JavaFx artifacts should be executed or called on the JavaFX&#39;s thread and not any other thread. Calling `Platform.startup(runnable);` will ensure JavaFX&#39;s main thread is started or make your main class the subclass of [Application][3] and if you must execute any JavaFX from a thread that&#39;s not the JavaFX thread use `Platform.runLater​(Runnable runnable)`\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Platform.html#runLater(java.lang.Runnable)\r\n  [2]: https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Platform.html#startup(java.lang.Runnable)\r\n  [3]: https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Application.html","title":"How to mock JavaFX controls with mockito?","body":"<p>I hope my answer helps after it's been a long time since you asked this question but it can help someone out there.\nIt would have helped if you shared the output from your tests, error or not, but I was in your shoes a while ago. First, you need to understand how the platforms JavaFX, Mockito, and JUnit work. They are frameworks and unique in how they execute within the Java virtual machine. Any artifact that belongs to the domain of JavaFX will require JavaFX's runtime before they work the way you intend them to. This is why the main class (the class where the main method is contained) must subclass JavaFX's Application class and override its &quot;start&quot; method. When your application runs java knows to look for this method and your application runs within the domain of JavaFX, allowing all JavaFX's artifacts to execute as implemented in your code. In other words, a thread specific to JavaFX will be started and this is where your application will be executed, away from the main thread.\nSecond, when you run your tests with Junit you are not required to create a main class and its main method. Junit's framework does this for you behind the scenes and executes your tests. Junit is not aware of JavaFX so your tests should fail, and throw IllegalStateException because the JavaFX thread hasn't been started. Junit does not do that automatically. JavaFX's main thread needs to be started and all JavaFX code needs to run on that thread.\nIn my situation, I needed to test some business logic in my JavaFX application and these are the parts of the application that don't require JavaFX artifacts.  I had one of them like so</p>\n<pre><code>@Override\n    public void onVendRequest(VendRequestVendronEvent event) {\n        // The paying amount entered by the customer on Vendron's sale UI is passed over to the application's GUI\n        CardPaymentController.setPayingAmount(event.getRequiredPrice());\n\n        // Show the GUI (there's a lag of about two to three seconds)\n        Platform.runLater(() -&gt; super.stage.show());\n        this.socketPayLogger.info(&quot;Showing GUI&quot;);\n\n        // More code below\n    }\n</code></pre>\n<p>Well, you see the part that calls the GUI to be displayed, that's JavaFX code. This method runs on a separate thread because I employed concurrency in my application, and when I needed to call JavaFX code (like updating GUI components) from a thread that is not the main JavaFX thread I had to wrap my statements in a Runnable, hand it over to the &quot;runLater&quot; method and it safely executes them on the JavaFX's thread. Read about it <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Platform.html#runLater(java.lang.Runnable)\" rel=\"nofollow noreferrer\">here</a>. Testing this method as said earlier will throw an IllegalStateException when JavaFx's thread is not running. So to bring JavaFX framework into my test I had to add the line below in my tests.</p>\n<pre><code>Platform.startup(runnable);\n</code></pre>\n<p>You just have to simply place your tests in the runnable object and call that line in your test method. This brings over the JavaFX framework into your tests and its artifacts are executed as they should all the while Junit is not compromised in any way. You can read up about the class in the JavaFX 17 docs <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Platform.html#startup(java.lang.Runnable)\" rel=\"nofollow noreferrer\">here</a>.\nHere's the test that worked for me</p>\n<pre><code>@Test\nvoid testOnVendRequest(){\n    Runnable runnable = () -&gt; {\n        try {\n            n6DeviceConnection.createSerialConnection();\n            assertTrue(n6DeviceConnection.isConnected());\n             Optional&lt;VendronSocketMessage&gt; optional = controller.create(&quot;External PC Plugin;Vend Request;add_on_variable=&amp;required_price=200#&quot;);\n\n            if (optional.isPresent()){\n                VendronEvent vendronEvent = vendronEventFactory.createVendronEvent(optional.get(), new Object());\n                posPay.onVendRequest((VendRequestVendronEvent) vendronEvent);\n            }\n        } catch (SerialPortException e) {\n            throw new RuntimeException(e);\n        }\n    };\n\n    Platform.startup(runnable);\n    while (true){\n        if (posPay.isPaymentTransactionComplete()){\n            String string = posPay.getFinishedTransactionReport();\n            assertInstanceOf(String.class, string);\n            break;\n        }\n    }\n}\n</code></pre>\n<p>JUnit will call the JavaFX framework allowing smooth execution of your tests. So, always remember that all JavaFx artifacts should be executed or called on the JavaFX's thread and not any other thread. Calling <code>Platform.startup(runnable);</code> will ensure JavaFX's main thread is started or make your main class the subclass of <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Application.html\" rel=\"nofollow noreferrer\">Application</a> and if you must execute any JavaFX from a thread that's not the JavaFX thread use <code>Platform.runLater​(Runnable runnable)</code></p>\n"}],"owner":{"account_id":7952120,"reputation":31,"user_id":6002671,"display_name":"Fossa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1020,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692733466,"creation_date":1602001080,"question_id":64229857,"body_markdown":"I am currently working on a simple JavaFX MVC/MVP to test if I could get any unit tests for JavaFX working. My goal is to test a JavaFX dialog or control in a unit test. To make my unit tests as independent as possible from any JavaFX calls I want to try to mock any JavaFX calls. But unfortunately I am struggling to get it working properly. I also don&#39;t want to work with TestFX because of the lack of proper documentation.\r\n\r\nUntil now I am still a bit new to unit testing in Java, but I do have experience in writing unit tests in c++ (google test/mock)\r\n\r\nSpecs:\r\n- JDK 8\r\n- Mockito 3.5.13\r\n- JUnit 4.12\r\n- Hamcrest 1.3\r\n\r\nWhat do I have until now?\r\n\r\nI have created a View class which is responsible for updating the dialog, for registering the actions for a button and for showing the dialog.\r\n```\r\npublic class View {\r\n    \r\n    private Stage stage;\r\n    private Label label;\r\n    private Button button;\r\n\r\n    public View(Stage stage, Label label, Button button) {\r\n        this.stage = stage;\r\n        this.label = label;\r\n        this.button = button;\r\n    }\r\n\r\n    public void updateLabel(int count) {\r\n        label.setText(&quot;Countdown: &quot; + count);\r\n    }\r\n\r\n    public void ShowStage() {\r\n        //button.setText(&quot;Count&quot;);\r\n        //stage.setScene(new Scene(new VBox(label, button)));\r\n        stage.show();\r\n    }\r\n\r\n    public void RegisterButtonAction(EventHandler&lt;ActionEvent&gt; value) {\r\n        button.setOnAction(value);\r\n    }\r\n    \r\n}\r\n```\r\n\r\nAdditionally I also have a Unit test for the view, in which I have three tests: \r\n- for the constructor\r\n- for updating a label\r\n- for showing the dialog\r\nFor this unit test I already have a JavaFX threading rule (see https://stackoverflow.com/questions/28245555/how-do-you-mock-a-javafx-toolkit-initialization), which is responsible for starting a JavaFX thread. For the button, the label and the stage I created mocks with mockito, they are injected via the constructor (fast hack for testing).\r\nAs I created mocks, I expected that the calls to JavaFX are mocked, but it seems that there is still something missing.\r\n```\r\npublic class ViewTest {\r\n    \r\n    @org.junit.Rule\r\n    public JavaFXThreadingRule rule = new JavaFXThreadingRule();\r\n    \r\n    private Stage m_stageMock;\r\n    private Label m_labelMock;\r\n    private Button m_buttonMock;\r\n    \r\n    private View m_testee;\r\n    \r\n    @Before\r\n    public void SetUp() throws InterruptedException {\r\n        m_stageMock = mock(Stage.class);\r\n        m_labelMock = mock(Label.class);\r\n        m_buttonMock = mock(Button.class);\r\n        m_testee = new View(m_stageMock, m_labelMock, m_buttonMock);\r\n    }\r\n    \r\n    @After\r\n    public void TearDown(){\r\n        m_testee = null;\r\n        m_stageMock = null;\r\n        m_labelMock = null;\r\n        m_buttonMock = null;\r\n    }\r\n    \r\n    @Test\r\n    public void Constructor_HappyPath_NoCrash() {\r\n        \r\n    }\r\n    \r\n    @Test\r\n    public void UpdateLabel_IntegerGiven_PrintNumber() {\r\n        int count = 8;\r\n        doNothing().when(m_labelMock).setText(&quot;Countdown: &quot; + count);\r\n        m_testee.updateLabel(count);\r\n    }\r\n    \r\n    @Test\r\n    public void ShowStage_HappyPath_ShowsWindowWithButtonAndLabel() {\r\n        VBox vbox = new VBox();\r\n        Scene scene = new Scene(vbox);\r\n        //doNothing().when(m_buttonMock).setText(&quot;Count&quot;);\r\n        //doNothing().when(m_stageMock).setScene(any(Scene.class));\r\n        doNothing().when(m_stageMock).show();\r\n        m_testee.ShowStage();\r\n    }\r\n    \r\n}\r\n\r\n```\r\n\r\nWhat additional things have I tried so far?\r\n- I tried to set mockito in such a way that it is capable to mock final function/classes.\r\n- I tried to implement a custom mock maker based on https://stackoverflow.com/questions/28245555/how-do-you-mock-a-javafx-toolkit-initialization.\r\n\r\nMaybe someone has a solution or an example for me, or I am just missing something small.\r\nI would be very grateful if I could get any help.\r\n\r\nAll the best\r\n\r\nFossa","title":"How to mock JavaFX controls with mockito?","body":"<p>I am currently working on a simple JavaFX MVC/MVP to test if I could get any unit tests for JavaFX working. My goal is to test a JavaFX dialog or control in a unit test. To make my unit tests as independent as possible from any JavaFX calls I want to try to mock any JavaFX calls. But unfortunately I am struggling to get it working properly. I also don't want to work with TestFX because of the lack of proper documentation.</p>\n<p>Until now I am still a bit new to unit testing in Java, but I do have experience in writing unit tests in c++ (google test/mock)</p>\n<p>Specs:</p>\n<ul>\n<li>JDK 8</li>\n<li>Mockito 3.5.13</li>\n<li>JUnit 4.12</li>\n<li>Hamcrest 1.3</li>\n</ul>\n<p>What do I have until now?</p>\n<p>I have created a View class which is responsible for updating the dialog, for registering the actions for a button and for showing the dialog.</p>\n<pre><code>public class View {\n    \n    private Stage stage;\n    private Label label;\n    private Button button;\n\n    public View(Stage stage, Label label, Button button) {\n        this.stage = stage;\n        this.label = label;\n        this.button = button;\n    }\n\n    public void updateLabel(int count) {\n        label.setText(&quot;Countdown: &quot; + count);\n    }\n\n    public void ShowStage() {\n        //button.setText(&quot;Count&quot;);\n        //stage.setScene(new Scene(new VBox(label, button)));\n        stage.show();\n    }\n\n    public void RegisterButtonAction(EventHandler&lt;ActionEvent&gt; value) {\n        button.setOnAction(value);\n    }\n    \n}\n</code></pre>\n<p>Additionally I also have a Unit test for the view, in which I have three tests:</p>\n<ul>\n<li>for the constructor</li>\n<li>for updating a label</li>\n<li>for showing the dialog\nFor this unit test I already have a JavaFX threading rule (see <a href=\"https://stackoverflow.com/questions/28245555/how-do-you-mock-a-javafx-toolkit-initialization\">How do you mock a JavaFX toolkit initialization?</a>), which is responsible for starting a JavaFX thread. For the button, the label and the stage I created mocks with mockito, they are injected via the constructor (fast hack for testing).\nAs I created mocks, I expected that the calls to JavaFX are mocked, but it seems that there is still something missing.</li>\n</ul>\n<pre><code>public class ViewTest {\n    \n    @org.junit.Rule\n    public JavaFXThreadingRule rule = new JavaFXThreadingRule();\n    \n    private Stage m_stageMock;\n    private Label m_labelMock;\n    private Button m_buttonMock;\n    \n    private View m_testee;\n    \n    @Before\n    public void SetUp() throws InterruptedException {\n        m_stageMock = mock(Stage.class);\n        m_labelMock = mock(Label.class);\n        m_buttonMock = mock(Button.class);\n        m_testee = new View(m_stageMock, m_labelMock, m_buttonMock);\n    }\n    \n    @After\n    public void TearDown(){\n        m_testee = null;\n        m_stageMock = null;\n        m_labelMock = null;\n        m_buttonMock = null;\n    }\n    \n    @Test\n    public void Constructor_HappyPath_NoCrash() {\n        \n    }\n    \n    @Test\n    public void UpdateLabel_IntegerGiven_PrintNumber() {\n        int count = 8;\n        doNothing().when(m_labelMock).setText(&quot;Countdown: &quot; + count);\n        m_testee.updateLabel(count);\n    }\n    \n    @Test\n    public void ShowStage_HappyPath_ShowsWindowWithButtonAndLabel() {\n        VBox vbox = new VBox();\n        Scene scene = new Scene(vbox);\n        //doNothing().when(m_buttonMock).setText(&quot;Count&quot;);\n        //doNothing().when(m_stageMock).setScene(any(Scene.class));\n        doNothing().when(m_stageMock).show();\n        m_testee.ShowStage();\n    }\n    \n}\n\n</code></pre>\n<p>What additional things have I tried so far?</p>\n<ul>\n<li>I tried to set mockito in such a way that it is capable to mock final function/classes.</li>\n<li>I tried to implement a custom mock maker based on <a href=\"https://stackoverflow.com/questions/28245555/how-do-you-mock-a-javafx-toolkit-initialization\">How do you mock a JavaFX toolkit initialization?</a>.</li>\n</ul>\n<p>Maybe someone has a solution or an example for me, or I am just missing something small.\nI would be very grateful if I could get any help.</p>\n<p>All the best</p>\n<p>Fossa</p>\n"},{"tags":["java","eclipse","jface"],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301824,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1692733309,"creation_date":1244532622,"answer_id":968656,"question_id":968534,"body_markdown":"This [thread][1] suggests:\r\n\r\n&gt; In your wizard page, use the inherited `setVisible()` method that is called automatically before your page is shown :\r\n\r\n\r\n    public void setVisible(boolean visible) {\r\n       super.setVisible(visible);\r\n       // Set the initial field focus\r\n       if (visible) {\r\n          field.postSetFocusOnDialogField(getShell().getDisplay());\r\n       }\r\n    }\r\n\r\nThe postSetFocusOnDialogField method contains :\r\n\r\n\t/**\r\n\t * Posts &lt;code&gt;setFocus&lt;/code&gt; to the display event queue.\r\n\t */\r\n\tpublic void postSetFocusOnDialogField(Display display) {\r\n\t\tif (display != null) {\r\n\t\t\tdisplay.asyncExec(\r\n\t\t\t\tnew Runnable() {\r\n\t\t\t\t\tpublic void run() {\r\n\t\t\t\t\t\tsetFocus();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\r\n----\r\n\r\nNote that with [Eclipse 4.29 (Q3 2023)](https://eclipse.dev/eclipse/news/4.29/platform_isv.php#setfocus-no-longer-activates-shell)\r\n\r\n&gt; ## Control.setFocus() no longer activates its Shell\r\n&gt; \r\n&gt; Previously calling Control.setFocus() also activated its\r\n&gt;  Shell. This behavior was never documented and was never\r\n&gt;  explained why it existed. But it caused problems: setting focus\r\n&gt;  to a control in a background Shell caused the Shell to jump on user.\r\n&gt; \r\n&gt;  Now setting focus just sets focus, even if the Shell is in the background.\r\n&gt;  To also bring Shell to front, explicitly call `Shell.setActive()`.\r\n&gt; \r\n&gt;  This change can be disabled using a Java property.  \r\n&gt;  For Example, add this VM argument in `eclipse.ini` or on\r\n&gt;  the command line after `-vmargs:`\r\n&gt;\r\n&gt;       -Dorg.eclipse.swt.internal.activateShellOnForceFocus=true\r\n&gt;\r\n&gt;  Note: this property is only added temporarily and will be removed later.\r\n&gt; \r\n&gt;  See [SWT Issue 450](https://github.com/eclipse-platform/eclipse.platform.swt/issues/450)\r\n\r\n\r\n  [1]: http://dev.eclipse.org/newslists/news.eclipse.platform.rcp/msg14855.html","title":"Eclipse JFace&#39;s Wizards (Again ...)","body":"<p>This <a href=\"http://dev.eclipse.org/newslists/news.eclipse.platform.rcp/msg14855.html\" rel=\"nofollow noreferrer\">thread</a> suggests:</p>\n<blockquote>\n<p>In your wizard page, use the inherited <code>setVisible()</code> method that is called automatically before your page is shown :</p>\n</blockquote>\n<pre><code>public void setVisible(boolean visible) {\n   super.setVisible(visible);\n   // Set the initial field focus\n   if (visible) {\n      field.postSetFocusOnDialogField(getShell().getDisplay());\n   }\n}\n</code></pre>\n<p>The postSetFocusOnDialogField method contains :</p>\n<pre><code>/**\n * Posts &lt;code&gt;setFocus&lt;/code&gt; to the display event queue.\n */\npublic void postSetFocusOnDialogField(Display display) {\n    if (display != null) {\n        display.asyncExec(\n            new Runnable() {\n                public void run() {\n                    setFocus();\n                }\n            }\n        );\n    }\n}\n</code></pre>\n<hr />\n<p>Note that with <a href=\"https://eclipse.dev/eclipse/news/4.29/platform_isv.php#setfocus-no-longer-activates-shell\" rel=\"nofollow noreferrer\">Eclipse 4.29 (Q3 2023)</a></p>\n<blockquote>\n<h2>Control.setFocus() no longer activates its Shell</h2>\n<p>Previously calling Control.setFocus() also activated its\nShell. This behavior was never documented and was never\nexplained why it existed. But it caused problems: setting focus\nto a control in a background Shell caused the Shell to jump on user.</p>\n<p>Now setting focus just sets focus, even if the Shell is in the background.\nTo also bring Shell to front, explicitly call <code>Shell.setActive()</code>.</p>\n<p>This change can be disabled using a Java property.<br />\nFor Example, add this VM argument in <code>eclipse.ini</code> or on\nthe command line after <code>-vmargs:</code></p>\n<pre><code>  -Dorg.eclipse.swt.internal.activateShellOnForceFocus=true\n</code></pre>\n<p>Note: this property is only added temporarily and will be removed later.</p>\n<p>See <a href=\"https://github.com/eclipse-platform/eclipse.platform.swt/issues/450\" rel=\"nofollow noreferrer\">SWT Issue 450</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":110658,"reputation":9404,"user_id":292728,"accept_rate":87,"display_name":"Kevin K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1299170182,"creation_date":1299170182,"answer_id":5183637,"question_id":968534,"body_markdown":"VonC&#39;s answer works great, I personally found it to be a little easier to work with like this though:\r\n\r\n\t@Override\r\n\tpublic void setVisible(boolean visible) {\r\n\t\tsuper.setVisible(visible);\r\n\t\tif (visible) {\r\n\t\t\tControl control = getControl();\r\n\t\t\tif (!control.setFocus()) {\r\n\t\t\t\tpostSetFocus(control);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate void postSetFocus(final Control control) {\r\n\t\tDisplay display = control.getDisplay();\r\n\t\tif (display != null) {\r\n\t\t\tdisplay.asyncExec(new Runnable() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\tcontrol.setFocus();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}","title":"Eclipse JFace&#39;s Wizards (Again ...)","body":"<p>VonC's answer works great, I personally found it to be a little easier to work with like this though:</p>\n\n<pre><code>@Override\npublic void setVisible(boolean visible) {\n    super.setVisible(visible);\n    if (visible) {\n        Control control = getControl();\n        if (!control.setFocus()) {\n            postSetFocus(control);\n        }\n    }\n}\n\nprivate void postSetFocus(final Control control) {\n    Display display = control.getDisplay();\n    if (display != null) {\n        display.asyncExec(new Runnable() {\n            @Override\n            public void run() {\n                control.setFocus();\n            }\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":40190,"reputation":18652,"user_id":116388,"accept_rate":96,"display_name":"Manuel Selva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1703,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":968656,"answer_count":2,"score":4,"last_activity_date":1692733309,"creation_date":1244530292,"question_id":968534,"body_markdown":"Now that I [am able to set the content of my second wizard&#39;s page depending][1] on the first page selection, I am looking for a way to give the focus to my 2nd page&#39;s content when the user clicks the next button on the first page.\r\n\r\nBy default, when the user click the next button, the focus is given to the button composite (next, back or finish button depending on the wizard configuration)\r\n\r\nThe only way I found to give focus to my page&#39;s content is the following one:\r\n\r\n    public class FilterWizardDialog extends WizardDialog {\r\n    \r\n        public FilterWizardDialog(Shell parentShell, IWizard newWizard) {\r\n            super(parentShell, newWizard);\r\n        }\r\n    \r\n        @Override\r\n        protected void nextPressed() {\r\n            super.nextPressed();\r\n            getContents().setFocus();\r\n        }\r\n    }\r\n\r\nTo me it&#39;s a little bit &quot;boring and heavy&quot; to have to override the WizardDialog class in order to implement this behavior. More over, the WizardDialog javadoc says: \r\n\r\n&gt; Clients may subclass &lt;code&gt;WizardDialog&lt;/code&gt;, although this is rarely required.\r\n\r\n\r\nWhat do you think about this solution ? Is there any easier and cleaner solution to do that job ?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/954443/eclipse-jfaces-wizards","title":"Eclipse JFace&#39;s Wizards (Again ...)","body":"<p>Now that I <a href=\"https://stackoverflow.com/questions/954443/eclipse-jfaces-wizards\">am able to set the content of my second wizard's page depending</a> on the first page selection, I am looking for a way to give the focus to my 2nd page's content when the user clicks the next button on the first page.</p>\n\n<p>By default, when the user click the next button, the focus is given to the button composite (next, back or finish button depending on the wizard configuration)</p>\n\n<p>The only way I found to give focus to my page's content is the following one:</p>\n\n<pre><code>public class FilterWizardDialog extends WizardDialog {\n\n    public FilterWizardDialog(Shell parentShell, IWizard newWizard) {\n        super(parentShell, newWizard);\n    }\n\n    @Override\n    protected void nextPressed() {\n        super.nextPressed();\n        getContents().setFocus();\n    }\n}\n</code></pre>\n\n<p>To me it's a little bit \"boring and heavy\" to have to override the WizardDialog class in order to implement this behavior. More over, the WizardDialog javadoc says: </p>\n\n<blockquote>\n  <p>Clients may subclass <code>WizardDialog</code>, although this is rarely required.</p>\n</blockquote>\n\n<p>What do you think about this solution ? Is there any easier and cleaner solution to do that job ?</p>\n"},{"tags":["java","java-native-interface","cocos2d-x"],"answers":[{"tags":[],"owner":{"account_id":292893,"reputation":441,"user_id":595926,"accept_rate":100,"display_name":"sfridman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1403485775,"creation_date":1403485775,"answer_id":24357248,"question_id":24352392,"body_markdown":"The line:\r\n\r\n    jobject object = env-&gt;NewObject(mClass, constructor);\r\n\r\nattempts to instantiate an Activity. In general, you aren&#39;t supposed to instantiate Activities by hand, but are meant to create them using designated Android APIs, e.g. `Context.startActivity`.\r\n\r\nBy circumventing the API, you&#39;ve gotten yourself in a situation where you create an Activity in a thread which does not support the creation of an Activity.\r\n\r\nThat&#39;s the cause of the error. But also: you probably want to rethink the code as a whole. Not sure what you&#39;re trying to do, but it doesn&#39;t seem like the pattern you&#39;re using is the right one.","title":"java.lang.RuntimeException: Can&#39;t create handler inside thread that has not called Looper.prepare()","body":"<p>The line:</p>\n\n<pre><code>jobject object = env-&gt;NewObject(mClass, constructor);\n</code></pre>\n\n<p>attempts to instantiate an Activity. In general, you aren't supposed to instantiate Activities by hand, but are meant to create them using designated Android APIs, e.g. <code>Context.startActivity</code>.</p>\n\n<p>By circumventing the API, you've gotten yourself in a situation where you create an Activity in a thread which does not support the creation of an Activity.</p>\n\n<p>That's the cause of the error. But also: you probably want to rethink the code as a whole. Not sure what you're trying to do, but it doesn't seem like the pattern you're using is the right one.</p>\n"},{"tags":[],"owner":{"account_id":27805916,"reputation":1,"user_id":21229330,"display_name":"KsaNL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692732665,"creation_date":1692732665,"answer_id":76956361,"question_id":24352392,"body_markdown":"I&#39;m coding native project and found this as well, I think it&#39;s interface missing","title":"java.lang.RuntimeException: Can&#39;t create handler inside thread that has not called Looper.prepare()","body":"<p>I'm coding native project and found this as well, I think it's interface missing</p>\n"}],"owner":{"account_id":1313553,"reputation":61,"user_id":1261010,"accept_rate":20,"display_name":"Himansh Kathuria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1351,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":24357248,"answer_count":2,"score":0,"last_activity_date":1692732665,"creation_date":1403448507,"question_id":24352392,"body_markdown":"I am getting an exception when I am trying to call a non-static method in a java class from JNI.The exception I am getting is:\r\n\r\nCan&#39;t create handler inside thread that has not called Looper.prepare()\r\n\r\nHere is my JNI calling code:\r\n    \r\n    jclass mClass = env-&gt;FindClass(&quot;com/secrethq/match3/Match3Activity&quot;);\r\n\r\n    jmethodID constructor = env-&gt;GetMethodID( mClass, &quot;&lt;init&gt;&quot;, &quot;()V&quot;);\r\n\tCCLog(&quot;jClass Located?&quot;);\r\n\r\n    jobject object = env-&gt;NewObject(mClass, constructor);\r\n    mid = env-&gt;GetMethodID(mClass, &quot;onClickPostStatusUpdate&quot;, &quot;(I)V&quot;);\r\n\r\n    \r\n\tCCLog(&quot;mID: %d&quot;, mid);\r\n\r\n\tif (mid!=0)\r\n    env-&gt;CallVoidMethod(mClass, mid, object, score);\r\n\t\t\t//-----------------------------------------------------------\r\n\tCCLog(&quot;Finish&quot;);\r\n\tif(isAttached)\r\n\t\tjvm-&gt;DetachCurrentThread();\r\n\r\n\r\nand this is my method in java class:\r\n    \r\n    private void onClickPostStatusUpdate(int score) {\r\n    \tSystem.out.println(&quot;Match3Activity.onClickPostStatusUpdate()&quot;);\r\n        performPublish(PendingAction.POST_STATUS_UPDATE, canPresentShareDialog);\r\n    }\r\n\r\n\r\n\r\nHere is the Logcat output:\r\n\r\n    06-22 20:20:39.342: E/AndroidRuntime(14899): java.lang.RuntimeException: Can&#39;t create handler inside thread that has not called Looper.prepare()\r\n    06-22 20:20:39.342: E/AndroidRuntime(14899): \tat android.os.Handler.&lt;init&gt;(Handler.java:121)\r\n    06-22 20:20:39.342: E/AndroidRuntime(14899): \tat android.app.Activity.&lt;init&gt;(Activity.java:772)\r\n    06-22 20:20:39.342: E/AndroidRuntime(14899): \tat org.cocos2dx.lib.Cocos2dxActivity.&lt;init&gt;(Cocos2dxActivity.java:37)\r\n    06-22 20:20:39.342: E/AndroidRuntime(14899): \tat com.secrethq.match3.Match3Activity.&lt;init&gt;(Match3Activity.java:45)\r\n    06-22 20:20:39.342: E/AndroidRuntime(14899): \tat org.cocos2dx.lib.Cocos2dxRenderer.nativeTouchesEnd(Native Method)\r\n    06-22 20:20:39.342: E/AndroidRuntime(14899): \tat    org.cocos2dx.lib.Cocos2dxRenderer.handleActionUp(Cocos2dxRenderer.java:129)\r\n    06-22 20:20:39.342: E/AndroidRuntime(14899): \tat     org.cocos2dx.lib.Cocos2dxGLSurfaceView$9.run(Cocos2dxGLSurfaceView.java:258)\r\n    06-22 20:20:39.342: E/AndroidRuntime(14899): \tat android.opengl.GLSurfaceView$GLThread.guardedRun(GLSurfaceView.java:1462) \r\n    06-22 20:20:39.342: E/AndroidRuntime(14899): \tat android.opengl.GLSurfaceView$GLThread.run(GLSurfaceView.java:1240)\r\n","title":"java.lang.RuntimeException: Can&#39;t create handler inside thread that has not called Looper.prepare()","body":"<p>I am getting an exception when I am trying to call a non-static method in a java class from JNI.The exception I am getting is:</p>\n\n<p>Can't create handler inside thread that has not called Looper.prepare()</p>\n\n<p>Here is my JNI calling code:</p>\n\n<pre><code>jclass mClass = env-&gt;FindClass(\"com/secrethq/match3/Match3Activity\");\n\njmethodID constructor = env-&gt;GetMethodID( mClass, \"&lt;init&gt;\", \"()V\");\nCCLog(\"jClass Located?\");\n\njobject object = env-&gt;NewObject(mClass, constructor);\nmid = env-&gt;GetMethodID(mClass, \"onClickPostStatusUpdate\", \"(I)V\");\n\n\nCCLog(\"mID: %d\", mid);\n\nif (mid!=0)\nenv-&gt;CallVoidMethod(mClass, mid, object, score);\n        //-----------------------------------------------------------\nCCLog(\"Finish\");\nif(isAttached)\n    jvm-&gt;DetachCurrentThread();\n</code></pre>\n\n<p>and this is my method in java class:</p>\n\n<pre><code>private void onClickPostStatusUpdate(int score) {\n    System.out.println(\"Match3Activity.onClickPostStatusUpdate()\");\n    performPublish(PendingAction.POST_STATUS_UPDATE, canPresentShareDialog);\n}\n</code></pre>\n\n<p>Here is the Logcat output:</p>\n\n<pre><code>06-22 20:20:39.342: E/AndroidRuntime(14899): java.lang.RuntimeException: Can't create handler inside thread that has not called Looper.prepare()\n06-22 20:20:39.342: E/AndroidRuntime(14899):    at android.os.Handler.&lt;init&gt;(Handler.java:121)\n06-22 20:20:39.342: E/AndroidRuntime(14899):    at android.app.Activity.&lt;init&gt;(Activity.java:772)\n06-22 20:20:39.342: E/AndroidRuntime(14899):    at org.cocos2dx.lib.Cocos2dxActivity.&lt;init&gt;(Cocos2dxActivity.java:37)\n06-22 20:20:39.342: E/AndroidRuntime(14899):    at com.secrethq.match3.Match3Activity.&lt;init&gt;(Match3Activity.java:45)\n06-22 20:20:39.342: E/AndroidRuntime(14899):    at org.cocos2dx.lib.Cocos2dxRenderer.nativeTouchesEnd(Native Method)\n06-22 20:20:39.342: E/AndroidRuntime(14899):    at    org.cocos2dx.lib.Cocos2dxRenderer.handleActionUp(Cocos2dxRenderer.java:129)\n06-22 20:20:39.342: E/AndroidRuntime(14899):    at     org.cocos2dx.lib.Cocos2dxGLSurfaceView$9.run(Cocos2dxGLSurfaceView.java:258)\n06-22 20:20:39.342: E/AndroidRuntime(14899):    at android.opengl.GLSurfaceView$GLThread.guardedRun(GLSurfaceView.java:1462) \n06-22 20:20:39.342: E/AndroidRuntime(14899):    at android.opengl.GLSurfaceView$GLThread.run(GLSurfaceView.java:1240)\n</code></pre>\n"},{"tags":["java","css","javafx","hover","fxml"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1692722025,"post_id":76954424,"comment_id":135661942,"body_markdown":"Your logic for changing a scene does not change a scene, it just creates a new scene and does not set it on a stage.  If you want debugging help, you should provide a [mcve].","body":"Your logic for changing a scene does not change a scene, it just creates a new scene and does not set it on a stage.  If you want debugging help, you should provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1692729601,"post_id":76954424,"comment_id":135663545,"body_markdown":"FontAwesome hasn&#39;t been updated in five years.  You are probably better off using a maintained modern alternative such as Ikonli.","body":"FontAwesome hasn&#39;t been updated in five years.  You are probably better off using a maintained modern alternative such as Ikonli."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692732525,"creation_date":1692732525,"answer_id":76956348,"question_id":76954424,"body_markdown":"I can&#39;t reproduce this (JavaFX 20.0.2).\r\n\r\n`fx-fill` is not an inherited style.  You can&#39;t set it on a parent and expect it to apply to the descendants of the parent. (This statement is just a FYI, you aren&#39;t doing that in your question).\r\n\r\nLooking at the font awesome code (because I don&#39;t know where the documentation for it is), the `FontAwesomeIconView` is a child of `Text`, so `-fx-fill` can apply to it.  The font awesome code also sets a style class on the icons of `glyph-icon`.  Also, `:hover` is a generic psuedoclass that can apply to any node.\r\n\r\nIf you want to set the color on hover of all of the font awesome icons in a container you can use this:\r\n\r\n    .container .glyph-icon:hover {\r\n        -fx-fill: red;\r\n    }\r\n\r\nTo have different hover colors for individual glyphs, then you can instead set it on the individual glyphs, using `!important` to override previous fill styling if necessary.\r\n\r\n    .gear-icon:hover {\r\n        -fx-fill: green !important;\r\n    }\r\n\r\n\r\nExample output on hovering over some icons using a [modified version of the code from this answer][1].\r\n\r\n[![hover][2]][2] [![gear][3]][3]\r\n\r\n*fonts.css*\r\n\r\n    .container .glyph-icon:hover {\r\n        -fx-fill: red;\r\n    }\r\n    \r\n    .gear-icon:hover {\r\n        -fx-fill: green !important;\r\n    }\r\n\r\n*fonts.fxml*\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import de.jensd.fx.glyphs.fontawesome.FontAwesomeIconView?&gt;\r\n    &lt;?import javafx.geometry.Insets?&gt;\r\n    &lt;?import javafx.scene.layout.HBox?&gt;\r\n    \r\n    &lt;HBox styleClass=&quot;container&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; spacing=&quot;10.0&quot; xmlns=&quot;http://javafx.com/javafx/17&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n        &lt;children&gt;\r\n            &lt;FontAwesomeIconView glyphName=&quot;MUSIC&quot; size=&quot;1.5em&quot; /&gt;\r\n            &lt;FontAwesomeIconView glyphName=&quot;GEAR&quot; size=&quot;1.5em&quot; styleClass=&quot;gear-icon&quot; /&gt;\r\n            &lt;FontAwesomeIconView glyphName=&quot;FILE&quot; size=&quot;1.5em&quot; /&gt;\r\n            &lt;FontAwesomeIconView glyphName=&quot;DASHBOARD&quot; size=&quot;1.5em&quot; /&gt;\r\n            &lt;FontAwesomeIconView glyphName=&quot;HEART&quot; size=&quot;1.5em&quot; /&gt;\r\n        &lt;/children&gt;\r\n        &lt;padding&gt;\r\n            &lt;Insets bottom=&quot;10.0&quot; left=&quot;10.0&quot; right=&quot;10.0&quot; top=&quot;10.0&quot; /&gt;\r\n        &lt;/padding&gt;\r\n    &lt;/HBox&gt;\r\n\r\n*FontApplication.java*\r\n\r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.Objects;\r\n    \r\n    public class FontApplication extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            FXMLLoader fxmlLoader = new FXMLLoader(FontApplication.class.getResource(&quot;fonts.fxml&quot;));\r\n            Scene scene = new Scene(fxmlLoader.load());\r\n            scene.getStylesheets().add(Objects.requireNonNull(FontApplication.class.getResource(&quot;fonts.css&quot;)).toExternalForm());\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/71322228/javafx-project-error-caused-by-com-sun-javafx-fxml-propertynotfoundexception/71328527#71328527\r\n  [2]: https://i.stack.imgur.com/FZrOb.png\r\n  [3]: https://i.stack.imgur.com/xPpok.png","title":":hover not working JavaFX CSS for FontAwesomeIconView","body":"<p>I can't reproduce this (JavaFX 20.0.2).</p>\n<p><code>fx-fill</code> is not an inherited style.  You can't set it on a parent and expect it to apply to the descendants of the parent. (This statement is just a FYI, you aren't doing that in your question).</p>\n<p>Looking at the font awesome code (because I don't know where the documentation for it is), the <code>FontAwesomeIconView</code> is a child of <code>Text</code>, so <code>-fx-fill</code> can apply to it.  The font awesome code also sets a style class on the icons of <code>glyph-icon</code>.  Also, <code>:hover</code> is a generic psuedoclass that can apply to any node.</p>\n<p>If you want to set the color on hover of all of the font awesome icons in a container you can use this:</p>\n<pre><code>.container .glyph-icon:hover {\n    -fx-fill: red;\n}\n</code></pre>\n<p>To have different hover colors for individual glyphs, then you can instead set it on the individual glyphs, using <code>!important</code> to override previous fill styling if necessary.</p>\n<pre><code>.gear-icon:hover {\n    -fx-fill: green !important;\n}\n</code></pre>\n<p>Example output on hovering over some icons using a <a href=\"https://stackoverflow.com/questions/71322228/javafx-project-error-caused-by-com-sun-javafx-fxml-propertynotfoundexception/71328527#71328527\">modified version of the code from this answer</a>.</p>\n<p><a href=\"https://i.stack.imgur.com/FZrOb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FZrOb.png\" alt=\"hover\" /></a> <a href=\"https://i.stack.imgur.com/xPpok.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xPpok.png\" alt=\"gear\" /></a></p>\n<p><em>fonts.css</em></p>\n<pre><code>.container .glyph-icon:hover {\n    -fx-fill: red;\n}\n\n.gear-icon:hover {\n    -fx-fill: green !important;\n}\n</code></pre>\n<p><em>fonts.fxml</em></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import de.jensd.fx.glyphs.fontawesome.FontAwesomeIconView?&gt;\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.layout.HBox?&gt;\n\n&lt;HBox styleClass=&quot;container&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; spacing=&quot;10.0&quot; xmlns=&quot;http://javafx.com/javafx/17&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\n    &lt;children&gt;\n        &lt;FontAwesomeIconView glyphName=&quot;MUSIC&quot; size=&quot;1.5em&quot; /&gt;\n        &lt;FontAwesomeIconView glyphName=&quot;GEAR&quot; size=&quot;1.5em&quot; styleClass=&quot;gear-icon&quot; /&gt;\n        &lt;FontAwesomeIconView glyphName=&quot;FILE&quot; size=&quot;1.5em&quot; /&gt;\n        &lt;FontAwesomeIconView glyphName=&quot;DASHBOARD&quot; size=&quot;1.5em&quot; /&gt;\n        &lt;FontAwesomeIconView glyphName=&quot;HEART&quot; size=&quot;1.5em&quot; /&gt;\n    &lt;/children&gt;\n    &lt;padding&gt;\n        &lt;Insets bottom=&quot;10.0&quot; left=&quot;10.0&quot; right=&quot;10.0&quot; top=&quot;10.0&quot; /&gt;\n    &lt;/padding&gt;\n&lt;/HBox&gt;\n</code></pre>\n<p><em>FontApplication.java</em></p>\n<pre><code>import javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\nimport java.util.Objects;\n\npublic class FontApplication extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(FontApplication.class.getResource(&quot;fonts.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load());\n        scene.getStylesheets().add(Objects.requireNonNull(FontApplication.class.getResource(&quot;fonts.css&quot;)).toExternalForm());\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18684477,"reputation":93,"user_id":13620315,"display_name":"Tymo Tymo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1692732525,"creation_date":1692715350,"question_id":76954424,"body_markdown":"I&#39;ve got a problem where the :hover CSS option is not working properly.\r\nThis is the CSS:\r\n```\r\n.body:hover {\r\n    -fx-background-color: #b8fffd;\r\n}\r\n\r\n.exitIcon:hover {\r\n    -fx-fill: gray;\r\n}\r\n```\r\nThe body hover works fine but .exitIcon does not.\r\nIn case I misspelled the className I also tried to use the FontAwesomeIconView selector but it still didn&#39;t work. \r\n\r\nHere is the FXML code:\r\n```\r\n&lt;AnchorPane prefHeight=&quot;800.0&quot; prefWidth=&quot;1000.0&quot; styleClass=&quot;body&quot; stylesheets=&quot;@styles/lightSignalsStyles.css&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.main.captainscompass.controllers.LightSignalsController&quot;&gt;\r\n   &lt;HBox alignment=&quot;CENTER_LEFT&quot; prefHeight=&quot;200.0&quot; stylesheets=&quot;@styles/lightSignalsStyles.css&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\r\n      &lt;FontAwesomeIconView glyphName=&quot;ARROW_LEFT&quot; size=&quot;50&quot; styleClass=&quot;exitIcon&quot;&gt;\r\n         &lt;cursor&gt;\r\n            &lt;Cursor fx:constant=&quot;HAND&quot; /&gt;\r\n         &lt;/cursor&gt;\r\n      &lt;/FontAwesomeIconView&gt;\r\n   &lt;/HBox&gt;\r\n   &lt;HBox alignment=&quot;CENTER&quot; prefHeight=&quot;200.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\r\n      &lt;Label text=&quot;Light Signals Quiz&quot; textAlignment=&quot;CENTER&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;30.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Label&gt;\r\n   &lt;/HBox&gt;\r\n   &lt;HBox alig`nment=&quot;CENTER_RIGHT&quot; layoutX=&quot;10.0&quot; layoutY=&quot;10.0&quot; prefHeight=&quot;200.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\r\n      &lt;ImageView fitHeight=&quot;150.0&quot; fitWidth=&quot;200.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\r\n         &lt;Image url=&quot;@assets/sailboaticon.png&quot; /&gt;\r\n      &lt;/ImageView&gt;\r\n   &lt;/HBox&gt;\r\n&lt;/AnchorPane&gt;\r\n```\r\n\r\n\r\nSo I definitely didn&#39;t misspell the class name nor the file name since .body is actually working.\r\nAnd if I remove &quot;:hover&quot; the style is applied as expected.\r\nI really don&#39;t have a clue what&#39;s going on here as for every single other usage of :hover it works.\r\n\r\nNOTE: This is not my main scene. I changed it using this logic: \r\n\r\n    FXMLLoader loader = new FXMLLoader(App.class.getResource(LIGHT_SIGNALS_FXML));\r\n            stage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n            Scene scene = new Scene(loader.load(), 1000, 800);\r\n\r\nAnd in this scene NO events work not even something like onKeyPressed. But I still don&#39;t know what caused it.","title":":hover not working JavaFX CSS for FontAwesomeIconView","body":"<p>I've got a problem where the :hover CSS option is not working properly.\nThis is the CSS:</p>\n<pre><code>.body:hover {\n    -fx-background-color: #b8fffd;\n}\n\n.exitIcon:hover {\n    -fx-fill: gray;\n}\n</code></pre>\n<p>The body hover works fine but .exitIcon does not.\nIn case I misspelled the className I also tried to use the FontAwesomeIconView selector but it still didn't work.</p>\n<p>Here is the FXML code:</p>\n<pre><code>&lt;AnchorPane prefHeight=&quot;800.0&quot; prefWidth=&quot;1000.0&quot; styleClass=&quot;body&quot; stylesheets=&quot;@styles/lightSignalsStyles.css&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.main.captainscompass.controllers.LightSignalsController&quot;&gt;\n   &lt;HBox alignment=&quot;CENTER_LEFT&quot; prefHeight=&quot;200.0&quot; stylesheets=&quot;@styles/lightSignalsStyles.css&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\n      &lt;FontAwesomeIconView glyphName=&quot;ARROW_LEFT&quot; size=&quot;50&quot; styleClass=&quot;exitIcon&quot;&gt;\n         &lt;cursor&gt;\n            &lt;Cursor fx:constant=&quot;HAND&quot; /&gt;\n         &lt;/cursor&gt;\n      &lt;/FontAwesomeIconView&gt;\n   &lt;/HBox&gt;\n   &lt;HBox alignment=&quot;CENTER&quot; prefHeight=&quot;200.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\n      &lt;Label text=&quot;Light Signals Quiz&quot; textAlignment=&quot;CENTER&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;30.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n   &lt;/HBox&gt;\n   &lt;HBox alig`nment=&quot;CENTER_RIGHT&quot; layoutX=&quot;10.0&quot; layoutY=&quot;10.0&quot; prefHeight=&quot;200.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\n      &lt;ImageView fitHeight=&quot;150.0&quot; fitWidth=&quot;200.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\n         &lt;Image url=&quot;@assets/sailboaticon.png&quot; /&gt;\n      &lt;/ImageView&gt;\n   &lt;/HBox&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>So I definitely didn't misspell the class name nor the file name since .body is actually working.\nAnd if I remove &quot;:hover&quot; the style is applied as expected.\nI really don't have a clue what's going on here as for every single other usage of :hover it works.</p>\n<p>NOTE: This is not my main scene. I changed it using this logic:</p>\n<pre><code>FXMLLoader loader = new FXMLLoader(App.class.getResource(LIGHT_SIGNALS_FXML));\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\n        Scene scene = new Scene(loader.load(), 1000, 800);\n</code></pre>\n<p>And in this scene NO events work not even something like onKeyPressed. But I still don't know what caused it.</p>\n"},{"tags":["java","azure","azure-cosmosdb","gremlin","azure-cosmosdb-gremlinapi"],"comments":[{"owner":{"account_id":101080,"reputation":69711,"user_id":272109,"display_name":"David Makogon"},"score":0,"creation_date":1684347867,"post_id":76275061,"comment_id":134506748,"body_markdown":"It&#39;s not really clear what you&#39;re asking, but Cosmos DB&#39;s Gremlin API is accessed in the same manner as any other gremlin-based graph database (e.g. same SDKs). Also, you linked a few different help articles, but nobody should need to visit/read those to understand your question. What&#39;s your specific issue? Please edit to clarify.","body":"It&#39;s not really clear what you&#39;re asking, but Cosmos DB&#39;s Gremlin API is accessed in the same manner as any other gremlin-based graph database (e.g. same SDKs). Also, you linked a few different help articles, but nobody should need to visit/read those to understand your question. What&#39;s your specific issue? Please edit to clarify."},{"owner":{"account_id":10461273,"reputation":23,"user_id":13906900,"display_name":"omarghoche"},"score":0,"creation_date":1684416306,"post_id":76275061,"comment_id":134516544,"body_markdown":"sorry @DavidMakogon if I wasn&#39;t clear ... Stephen answered down there ... which seems to be: no solution! :-(","body":"sorry @DavidMakogon if I wasn&#39;t clear ... Stephen answered down there ... which seems to be: no solution! :-("}],"answers":[{"tags":[],"owner":{"account_id":2053237,"reputation":45626,"user_id":1831717,"display_name":"stephen mallette"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684353051,"creation_date":1684353051,"answer_id":76275727,"question_id":76275061,"body_markdown":"I believe you are asking how to send Gremlin bytecode queries to CosmosDB, but are finding that you can only send strings-based queries. If that is correct, note that CosmosDB does not currently support bytecode based requests, so you are in fact limited to strings. CosmosDB has a long open issue about this [here](https://github.com/Azure/azure-cosmos-dotnet-v2/issues/439).","title":"How to connect to Azure Cosmos DB Gremlin API via embedded code","body":"<p>I believe you are asking how to send Gremlin bytecode queries to CosmosDB, but are finding that you can only send strings-based queries. If that is correct, note that CosmosDB does not currently support bytecode based requests, so you are in fact limited to strings. CosmosDB has a long open issue about this <a href=\"https://github.com/Azure/azure-cosmos-dotnet-v2/issues/439\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":10461273,"reputation":23,"user_id":13906900,"display_name":"omarghoche"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76275727,"answer_count":1,"score":-1,"last_activity_date":1692731998,"creation_date":1684347090,"question_id":76275061,"body_markdown":"For now we are using the very simplified and not near reality approach that Azure officially lets one play: https://learn.microsoft.com/en-us/azure/cosmos-db/gremlin/quickstart-java.\r\n\r\nBut we need to use gremlin in a scriptive manner ... like this:\r\n\r\n`g.V().has()...`\r\n\r\n... not as a string script query that is then submited:\r\n\r\n```java\r\nstatic final String gremlinQueries[] = new String[] {\r\n            &quot;g.addV(&#39;person&#39;).property(&#39;id&#39;, &#39;thomas&#39;).as(&#39;tom&#39;),\r\n            &quot;g.addV(&#39;person&#39;).property(&#39;id&#39;, &#39;mary&#39;).as(&#39;may&#39;),\r\n            &quot;g.addE(&#39;friends&#39;).from(&#39;tom&#39;).to(&#39;may&#39;)&quot; };\r\n\r\n(...)\r\n\r\nfor (String query : gremlinQueries) {\r\n\r\n   ResultSet results = client.submit(query);\r\n}\r\n\r\nfor (Result result : resultList) {\r\n   result.toString()\r\n}\r\n```\r\n\r\nI already tried to use Tinkerpop Documentation guides:\r\n\r\nhttps://tinkerpop.apache.org/docs/current/reference/#gremlin-java\r\nhttps://tinkerpop.apache.org/docs/current/reference/#connecting-gremlin\r\n","title":"How to connect to Azure Cosmos DB Gremlin API via embedded code","body":"<p>For now we are using the very simplified and not near reality approach that Azure officially lets one play: <a href=\"https://learn.microsoft.com/en-us/azure/cosmos-db/gremlin/quickstart-java\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/cosmos-db/gremlin/quickstart-java</a>.</p>\n<p>But we need to use gremlin in a scriptive manner ... like this:</p>\n<p><code>g.V().has()...</code></p>\n<p>... not as a string script query that is then submited:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static final String gremlinQueries[] = new String[] {\n            &quot;g.addV('person').property('id', 'thomas').as('tom'),\n            &quot;g.addV('person').property('id', 'mary').as('may'),\n            &quot;g.addE('friends').from('tom').to('may')&quot; };\n\n(...)\n\nfor (String query : gremlinQueries) {\n\n   ResultSet results = client.submit(query);\n}\n\nfor (Result result : resultList) {\n   result.toString()\n}\n</code></pre>\n<p>I already tried to use Tinkerpop Documentation guides:</p>\n<p><a href=\"https://tinkerpop.apache.org/docs/current/reference/#gremlin-java\" rel=\"nofollow noreferrer\">https://tinkerpop.apache.org/docs/current/reference/#gremlin-java</a>\n<a href=\"https://tinkerpop.apache.org/docs/current/reference/#connecting-gremlin\" rel=\"nofollow noreferrer\">https://tinkerpop.apache.org/docs/current/reference/#connecting-gremlin</a></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1692732676,"post_id":76956184,"comment_id":135664138,"body_markdown":"If code looks like that it can&#39;t be non-blocking because it needs to return a result once the method call finishes or the code could not continue. The code can&#39;t jump away to anything else in the meantime while in that line. You&#39;ll need to supply a disconnected piece of code to a callback that runs once the task is done. For AsyncTask that would be done by overriding the post execute method `protected void onPostExecute(String s) { .. }`. Or you overhaul that code, use a nice http library and kotlin coroutines, AsyncTask is deprecated and I wouldn&#39;t use HttpURLConnection unless forced to","body":"If code looks like that it can&#39;t be non-blocking because it needs to return a result once the method call finishes or the code could not continue. The code can&#39;t jump away to anything else in the meantime while in that line. You&#39;ll need to supply a disconnected piece of code to a callback that runs once the task is done. For AsyncTask that would be done by overriding the post execute method <code>protected void onPostExecute(String s) { .. }</code>. Or you overhaul that code, use a nice http library and kotlin coroutines, AsyncTask is deprecated and I wouldn&#39;t use HttpURLConnection unless forced to"}],"answers":[{"tags":[],"owner":{"account_id":11503634,"reputation":3724,"user_id":8430649,"display_name":"S-Sh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692731708,"creation_date":1692731708,"answer_id":76956282,"question_id":76956184,"body_markdown":"The `AsyncTask` has method  [`onPostExecute`][1]. It&#39;s exactly what you wants as it runs on the UI thread after the main logic of the AsyncTask completed:\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/os/AsyncTask#onPostExecute(Result)","title":"Waiting for a background network task to finish and return the response to mainActivity without blocking the UI","body":"<p>The <code>AsyncTask</code> has method  <a href=\"https://developer.android.com/reference/android/os/AsyncTask#onPostExecute(Result)\" rel=\"nofollow noreferrer\"><code>onPostExecute</code></a>. It's exactly what you wants as it runs on the UI thread after the main logic of the AsyncTask completed:</p>\n"}],"owner":{"account_id":4186277,"reputation":3,"user_id":3429974,"display_name":"user3429974"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692731708,"creation_date":1692730740,"question_id":76956184,"body_markdown":"Currently I have an async task that contacts a REST api endpoint and gets the result from it.\r\nThe issue is that by using get() the UI thread is blocked, I would like to avoid this, how do I achieve it.\r\n\r\nHere&#39;s the code I&#39;m using\r\n\r\n```\r\n    public static class checkStatus extends AsyncTask&lt;String, Void, String&gt; {\r\n        @Override\r\n        public String doInBackground(String... strings) {\r\n            String response = null;\r\n            String token = strings[0];\r\n            String id = strings[1];\r\n            String pass = strings[2];\r\n            String guid = strings[3];\r\n\r\n            try {\r\n                String url = &quot;http://teststatus.com/checkStatus&quot;;\r\n                URL apiUrl = new URL(url);\r\n                HttpURLConnection connection = (HttpURLConnection) apiUrl.openConnection();\r\n                connection.setRequestMethod(&quot;POST&quot;);\r\n                connection.setDoOutput(true);\r\n                connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n                connection.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\r\n                connection.setRequestProperty(&quot;id&quot;, id);\r\n\r\n                JSONObject object = new JSONObject();\r\n                object.put(&quot;id&quot;, id);\r\n                object.put(&quot;pass&quot;, pass);\r\n                object.put(&quot;guid&quot;, guid);\r\n\r\n\r\n                byte[] out = String.valueOf(object).getBytes(StandardCharsets.UTF_8);\r\n                OutputStream stream = connection.getOutputStream();\r\n                stream.write(out);\r\n\r\n                int status = connection.getResponseCode();\r\n                if (status == 200 || status == 202) {\r\n                    InputStream inputStream = new BufferedInputStream(connection.getInputStream());\r\n                    BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\r\n                    StringBuilder stringBuilder = new StringBuilder();\r\n                    String line;\r\n                    while ((line = bufferedReader.readLine()) != null) {\r\n                        stringBuilder.append(line).append(&quot;\\n&quot;);\r\n                    }\r\n                    response = stringBuilder.toString();\r\n\r\n                }\r\n                if (status != 200) {\r\n                    response = connection.getResponseMessage();\r\n                }\r\n\r\n            } catch (IOException | JSONException e) {\r\n                return null;\r\n            }\r\n\r\n            return response;\r\n        }\r\n    }\r\n```\r\n\r\nand I call it in another activity like this\r\n\r\n```\r\nstatuses.checkStatus checkStatus = new statuses.checkStatus();\r\nString result = checkStatus.execute(token, id, pass, guid).get();\r\n```\r\n\r\nHow would I best achieve it ? I need the in checkStatus to finish before the application continues to the next part of the code, but I don&#39;t want it to block the UI. How do I write some kind of a loop to check whether the checkStatus has returned a result without it blocking the UI thread ? It doesn&#39;t have to be an async task, tried making an executor, still have to use get in order to get the result.","title":"Waiting for a background network task to finish and return the response to mainActivity without blocking the UI","body":"<p>Currently I have an async task that contacts a REST api endpoint and gets the result from it.\nThe issue is that by using get() the UI thread is blocked, I would like to avoid this, how do I achieve it.</p>\n<p>Here's the code I'm using</p>\n<pre><code>    public static class checkStatus extends AsyncTask&lt;String, Void, String&gt; {\n        @Override\n        public String doInBackground(String... strings) {\n            String response = null;\n            String token = strings[0];\n            String id = strings[1];\n            String pass = strings[2];\n            String guid = strings[3];\n\n            try {\n                String url = &quot;http://teststatus.com/checkStatus&quot;;\n                URL apiUrl = new URL(url);\n                HttpURLConnection connection = (HttpURLConnection) apiUrl.openConnection();\n                connection.setRequestMethod(&quot;POST&quot;);\n                connection.setDoOutput(true);\n                connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n                connection.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\n                connection.setRequestProperty(&quot;id&quot;, id);\n\n                JSONObject object = new JSONObject();\n                object.put(&quot;id&quot;, id);\n                object.put(&quot;pass&quot;, pass);\n                object.put(&quot;guid&quot;, guid);\n\n\n                byte[] out = String.valueOf(object).getBytes(StandardCharsets.UTF_8);\n                OutputStream stream = connection.getOutputStream();\n                stream.write(out);\n\n                int status = connection.getResponseCode();\n                if (status == 200 || status == 202) {\n                    InputStream inputStream = new BufferedInputStream(connection.getInputStream());\n                    BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\n                    StringBuilder stringBuilder = new StringBuilder();\n                    String line;\n                    while ((line = bufferedReader.readLine()) != null) {\n                        stringBuilder.append(line).append(&quot;\\n&quot;);\n                    }\n                    response = stringBuilder.toString();\n\n                }\n                if (status != 200) {\n                    response = connection.getResponseMessage();\n                }\n\n            } catch (IOException | JSONException e) {\n                return null;\n            }\n\n            return response;\n        }\n    }\n</code></pre>\n<p>and I call it in another activity like this</p>\n<pre><code>statuses.checkStatus checkStatus = new statuses.checkStatus();\nString result = checkStatus.execute(token, id, pass, guid).get();\n</code></pre>\n<p>How would I best achieve it ? I need the in checkStatus to finish before the application continues to the next part of the code, but I don't want it to block the UI. How do I write some kind of a loop to check whether the checkStatus has returned a result without it blocking the UI thread ? It doesn't have to be an async task, tried making an executor, still have to use get in order to get the result.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9761,"page":231,"page_size":100}
