{"items":[{"tags":["java","encryption","cryptography","bouncycastle","encryption-symmetric"],"answers":[{"tags":[],"owner":{"account_id":4665915,"reputation":1291,"user_id":3778976,"display_name":"Brad Schoening"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638476617,"creation_date":1632978134,"answer_id":69386404,"question_id":69226233,"body_markdown":"BouncyCastle may not support the original FF3, but NIST has published examples with an 8 byte tweak using radix 10, and 256 bit key:\r\n\r\n*Sample #11&lt;br&gt; from \r\n[FF3samples.pdf][1]&lt;br&gt;\r\n&lt;br&gt;\r\nFF3-AES256&lt;br&gt;\r\nKey is EF 43 59 D8 D5 80 AA 4F 7F 03 6D 6F 04 FC 6A 94 2B 7E 15 16 28&lt;br&gt;\r\nAE D2 A6 AB F7 15 88 09 CF 4F 3C&lt;br&gt;\r\nRadix = 10&lt;br&gt;\r\nTweak is D8 E7 92 0A FA 33 0A 73&lt;br&gt;\r\nPlain Text is 890121234567890000&lt;br&gt;\r\nCipher Text is 922011205562777495&lt;br&gt;*\r\n\r\nFF3-1 is still a draft and there are no published test [examples][2]. \r\n\r\nThe test class [SP80038GTest.java][3] seems unfinished for FF3-1. They have all nine NIST test cases for FF1 in *ff1Samples[]*, but only 1 for FF3-1 with a 256 bit key in *ff3_1Samples[]*. You may consider switching to BouncyCastles&#39;s FF1 to have proper test coverage or using my [Mysto FF3 &amp; FF3-1][4] implementation.\r\n\r\nHere is the one test example in BouncyCastle FF3-1 with radix 10, 7-byte and a 256 bit key:\r\n\r\n    private FFSample(int radix, byte[] key, byte[] plaintext, byte[] ciphertext, byte[] tweak)\r\n        {\r\n            ...\r\n        } \r\n    \r\n    FFSample.from(10, &quot;1A58964B681384806A5A7639915ED0BE837C9C50C150AFD8F73445C0438CACF3&quot;, &quot;4752683571&quot;, &quot;2234571788&quot;, &quot;CE3EBD69454984&quot;)\r\n\r\n\r\n  [1]: https://csrc.nist.gov/CSRC/media/Projects/Cryptographic-Standards-and-Guidelines/documents/examples/FF3samples.pdf\r\n  [2]: https://csrc.nist.gov/projects/cryptographic-standards-and-guidelines/example-values\r\n  [3]: https://github.com/bcgit/bc-java/blob/master/prov/src/test/java/org/bouncycastle/jcajce/provider/test/SP80038GTest.java\r\n  [4]: https://github.com/mysto/java-fpe","title":"Format Preserving Encryption (FPE) in Java with Bouncycastle","body":"<p>BouncyCastle may not support the original FF3, but NIST has published examples with an 8 byte tweak using radix 10, and 256 bit key:</p>\n<p><em>Sample #11<br> from\n<a href=\"https://csrc.nist.gov/CSRC/media/Projects/Cryptographic-Standards-and-Guidelines/documents/examples/FF3samples.pdf\" rel=\"nofollow noreferrer\">FF3samples.pdf</a><br>\n<br>\nFF3-AES256<br>\nKey is EF 43 59 D8 D5 80 AA 4F 7F 03 6D 6F 04 FC 6A 94 2B 7E 15 16 28<br>\nAE D2 A6 AB F7 15 88 09 CF 4F 3C<br>\nRadix = 10<br>\nTweak is D8 E7 92 0A FA 33 0A 73<br>\nPlain Text is 890121234567890000<br>\nCipher Text is 922011205562777495<br></em></p>\n<p>FF3-1 is still a draft and there are no published test <a href=\"https://csrc.nist.gov/projects/cryptographic-standards-and-guidelines/example-values\" rel=\"nofollow noreferrer\">examples</a>.</p>\n<p>The test class <a href=\"https://github.com/bcgit/bc-java/blob/master/prov/src/test/java/org/bouncycastle/jcajce/provider/test/SP80038GTest.java\" rel=\"nofollow noreferrer\">SP80038GTest.java</a> seems unfinished for FF3-1. They have all nine NIST test cases for FF1 in <em>ff1Samples[]</em>, but only 1 for FF3-1 with a 256 bit key in <em>ff3_1Samples[]</em>. You may consider switching to BouncyCastles's FF1 to have proper test coverage or using my <a href=\"https://github.com/mysto/java-fpe\" rel=\"nofollow noreferrer\">Mysto FF3 &amp; FF3-1</a> implementation.</p>\n<p>Here is the one test example in BouncyCastle FF3-1 with radix 10, 7-byte and a 256 bit key:</p>\n<pre><code>private FFSample(int radix, byte[] key, byte[] plaintext, byte[] ciphertext, byte[] tweak)\n    {\n        ...\n    } \n\nFFSample.from(10, &quot;1A58964B681384806A5A7639915ED0BE837C9C50C150AFD8F73445C0438CACF3&quot;, &quot;4752683571&quot;, &quot;2234571788&quot;, &quot;CE3EBD69454984&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21121712,"reputation":1,"user_id":15527606,"display_name":"eagle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659064794,"creation_date":1659064752,"answer_id":73161265,"question_id":69226233,"body_markdown":"you can try my code .\r\nI can run this test case successful\r\n\r\n    @Test\r\n    public void testAesFpe() throws Exception {\r\n        SecretKey key = generateKey();\r\n        byte[] tweak = getTweak();\r\n        AlphabetMapper alphabetMapper = new BasicAlphabetMapper(&quot;0123456789&quot;);\r\n        int radix = alphabetMapper.getRadix();\r\n        char[] plaintext = &quot;510123456&quot;.toCharArray();\r\n\r\n        byte[] plain_bytes = alphabetMapper.convertToIndexes(plaintext);\r\n\r\n        Cipher cipher = Cipher.getInstance(&quot;AES/FF1/NoPadding&quot;, new BouncyCastleProvider());\r\n        byte[] cipher_bytes = encrypt(cipher, key, tweak, radix, plain_bytes);\r\n\r\n        byte[] decrypted = decrypt(cipher, key, tweak, radix, cipher_bytes);\r\n        char[] cipher_chars = alphabetMapper.convertToChars(cipher_bytes);\r\n        System.out.println(new String(cipher_chars));\r\n\r\n        char[] plain_chars = alphabetMapper.convertToChars(decrypted);\r\n        System.out.println(new String(plain_chars));\r\n    }","title":"Format Preserving Encryption (FPE) in Java with Bouncycastle","body":"<p>you can try my code .\nI can run this test case successful</p>\n<pre><code>@Test\npublic void testAesFpe() throws Exception {\n    SecretKey key = generateKey();\n    byte[] tweak = getTweak();\n    AlphabetMapper alphabetMapper = new BasicAlphabetMapper(&quot;0123456789&quot;);\n    int radix = alphabetMapper.getRadix();\n    char[] plaintext = &quot;510123456&quot;.toCharArray();\n\n    byte[] plain_bytes = alphabetMapper.convertToIndexes(plaintext);\n\n    Cipher cipher = Cipher.getInstance(&quot;AES/FF1/NoPadding&quot;, new BouncyCastleProvider());\n    byte[] cipher_bytes = encrypt(cipher, key, tweak, radix, plain_bytes);\n\n    byte[] decrypted = decrypt(cipher, key, tweak, radix, cipher_bytes);\n    char[] cipher_chars = alphabetMapper.convertToChars(cipher_bytes);\n    System.out.println(new String(cipher_chars));\n\n    char[] plain_chars = alphabetMapper.convertToChars(decrypted);\n    System.out.println(new String(plain_chars));\n}\n</code></pre>\n"}],"owner":{"account_id":6344365,"reputation":2506,"user_id":4925383,"accept_rate":35,"display_name":"automatictester"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1726,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1659064794,"creation_date":1631893706,"question_id":69226233,"body_markdown":"[Release notes](https://www.bouncycastle.org/releasenotes.html) for Bouncycastle release: 1.69 (7 June 2021) state:\r\n&gt; An implementation of the two FPE algorithms, FF1 and FF3-1 in SP 800-38G has been added to the lightweight API and the JCE provider.\r\n\r\nThese can be found in `bcprov-jdk15on` JAR. \r\n\r\nHere is the code that tries to use it:\r\n\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.bouncycastle.crypto.AlphabetMapper;\r\n    import org.bouncycastle.crypto.util.BasicAlphabetMapper;\r\n    import org.bouncycastle.jcajce.spec.FPEParameterSpec;\r\n    import org.bouncycastle.jce.provider.BouncyCastleProvider;\r\n    import org.testng.annotations.Test;\r\n    \r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.KeyGenerator;\r\n    import javax.crypto.SecretKey;\r\n    import java.nio.charset.Charset;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.SecureRandom;\r\n    import java.security.spec.AlgorithmParameterSpec;\r\n    \r\n    import static org.hamcrest.CoreMatchers.equalTo;\r\n    import static org.hamcrest.MatcherAssert.assertThat;\r\n    \r\n    @Slf4j\r\n    public class AesFpe {\r\n    \r\n        @Test\r\n        public void testAesFpe() throws Exception {\r\n            SecretKey key = generateKey();\r\n            byte[] tweak = getTweak();\r\n            int radix = getRadix(&quot;0123456789&quot;);\r\n            Charset encoding = StandardCharsets.UTF_8;\r\n            byte[] plaintext = &quot;510123456&quot;.getBytes(encoding);\r\n            Cipher cipher = Cipher.getInstance(&quot;AES/FF3-1/NoPadding&quot;, new BouncyCastleProvider());\r\n            byte[] ciphertext = encrypt(cipher, key, tweak, radix, plaintext);\r\n            log.info(&quot;Ciphertext: {}&quot;, new String(ciphertext));\r\n            byte[] decrypted = decrypt(cipher, key, tweak, radix, ciphertext);\r\n            assertThat(decrypted, equalTo(plaintext));\r\n        }\r\n    \r\n        public byte[] encrypt(Cipher cipher, SecretKey key, byte[] tweak, int radix, byte[] plaintext) throws Exception {\r\n            AlgorithmParameterSpec fpeParameterSpec = new FPEParameterSpec(radix, tweak);\r\n            cipher.init(Cipher.ENCRYPT_MODE, key, fpeParameterSpec);\r\n            return cipher.doFinal(plaintext);\r\n        }\r\n    \r\n        public byte[] decrypt(Cipher cipher, SecretKey key, byte[] tweak, int radix, byte[] ciphertext) throws Exception {\r\n            AlgorithmParameterSpec fpeParameterSpec = new FPEParameterSpec(radix, tweak);\r\n            cipher.init(Cipher.DECRYPT_MODE, key, fpeParameterSpec);\r\n            return cipher.doFinal(ciphertext);\r\n        }\r\n    \r\n        private SecretKey generateKey() throws NoSuchAlgorithmException {\r\n            KeyGenerator keyGenerator = KeyGenerator.getInstance(&quot;AES&quot;);\r\n            int keyLength = 256;\r\n            keyGenerator.init(keyLength);\r\n            return keyGenerator.generateKey();\r\n        }\r\n    \r\n        private byte[] getTweak() {\r\n            int tweakLength = 7;\r\n            byte[] tweak = new byte[tweakLength];\r\n            new SecureRandom().nextBytes(tweak);\r\n            return tweak;\r\n        }\r\n    \r\n        private int getRadix(String alphabet) {\r\n            AlphabetMapper alphabetMapper = new BasicAlphabetMapper(alphabet);\r\n            int radix = alphabetMapper.getRadix();\r\n            log.info(&quot;Radix: {}&quot;, radix);\r\n            return radix;\r\n        }\r\n    }\r\n\r\nI haven&#39;t come across an example how to use it correctly. The problem seems to be with radix. Execution of the above results with the following stack trace:\r\n\r\n    java.lang.IllegalArgumentException: input data outside of radix\r\n        at org.bouncycastle.crypto.fpe.SP80038G.checkData(Unknown Source)\r\n        at org.bouncycastle.crypto.fpe.SP80038G.checkArgs(Unknown Source)\r\n        at org.bouncycastle.crypto.fpe.SP80038G.encryptFF3_1(Unknown Source)\r\n        at org.bouncycastle.crypto.fpe.FPEFF3_1Engine.encryptBlock(Unknown Source)\r\n        at org.bouncycastle.crypto.fpe.FPEEngine.processBlock(Unknown Source)\r\n        at org.bouncycastle.jcajce.provider.symmetric.util.BaseBlockCipher$BufferedFPEBlockCipher.doFinal(Unknown Source)\r\n        at org.bouncycastle.jcajce.provider.symmetric.util.BaseBlockCipher.engineDoFinal(Unknown Source)\r\n        at javax.crypto.Cipher.doFinal(Cipher.java:2164)\r\n\r\nWith radix set to e.g. 64 or higher this code works, but this is no longer a FPE - ciphertext contains characters outside of [0-9] scope. How to fix that?","title":"Format Preserving Encryption (FPE) in Java with Bouncycastle","body":"<p><a href=\"https://www.bouncycastle.org/releasenotes.html\" rel=\"nofollow noreferrer\">Release notes</a> for Bouncycastle release: 1.69 (7 June 2021) state:</p>\n<blockquote>\n<p>An implementation of the two FPE algorithms, FF1 and FF3-1 in SP 800-38G has been added to the lightweight API and the JCE provider.</p>\n</blockquote>\n<p>These can be found in <code>bcprov-jdk15on</code> JAR.</p>\n<p>Here is the code that tries to use it:</p>\n<pre><code>import lombok.extern.slf4j.Slf4j;\nimport org.bouncycastle.crypto.AlphabetMapper;\nimport org.bouncycastle.crypto.util.BasicAlphabetMapper;\nimport org.bouncycastle.jcajce.spec.FPEParameterSpec;\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\nimport org.testng.annotations.Test;\n\nimport javax.crypto.Cipher;\nimport javax.crypto.KeyGenerator;\nimport javax.crypto.SecretKey;\nimport java.nio.charset.Charset;\nimport java.nio.charset.StandardCharsets;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.SecureRandom;\nimport java.security.spec.AlgorithmParameterSpec;\n\nimport static org.hamcrest.CoreMatchers.equalTo;\nimport static org.hamcrest.MatcherAssert.assertThat;\n\n@Slf4j\npublic class AesFpe {\n\n    @Test\n    public void testAesFpe() throws Exception {\n        SecretKey key = generateKey();\n        byte[] tweak = getTweak();\n        int radix = getRadix(&quot;0123456789&quot;);\n        Charset encoding = StandardCharsets.UTF_8;\n        byte[] plaintext = &quot;510123456&quot;.getBytes(encoding);\n        Cipher cipher = Cipher.getInstance(&quot;AES/FF3-1/NoPadding&quot;, new BouncyCastleProvider());\n        byte[] ciphertext = encrypt(cipher, key, tweak, radix, plaintext);\n        log.info(&quot;Ciphertext: {}&quot;, new String(ciphertext));\n        byte[] decrypted = decrypt(cipher, key, tweak, radix, ciphertext);\n        assertThat(decrypted, equalTo(plaintext));\n    }\n\n    public byte[] encrypt(Cipher cipher, SecretKey key, byte[] tweak, int radix, byte[] plaintext) throws Exception {\n        AlgorithmParameterSpec fpeParameterSpec = new FPEParameterSpec(radix, tweak);\n        cipher.init(Cipher.ENCRYPT_MODE, key, fpeParameterSpec);\n        return cipher.doFinal(plaintext);\n    }\n\n    public byte[] decrypt(Cipher cipher, SecretKey key, byte[] tweak, int radix, byte[] ciphertext) throws Exception {\n        AlgorithmParameterSpec fpeParameterSpec = new FPEParameterSpec(radix, tweak);\n        cipher.init(Cipher.DECRYPT_MODE, key, fpeParameterSpec);\n        return cipher.doFinal(ciphertext);\n    }\n\n    private SecretKey generateKey() throws NoSuchAlgorithmException {\n        KeyGenerator keyGenerator = KeyGenerator.getInstance(&quot;AES&quot;);\n        int keyLength = 256;\n        keyGenerator.init(keyLength);\n        return keyGenerator.generateKey();\n    }\n\n    private byte[] getTweak() {\n        int tweakLength = 7;\n        byte[] tweak = new byte[tweakLength];\n        new SecureRandom().nextBytes(tweak);\n        return tweak;\n    }\n\n    private int getRadix(String alphabet) {\n        AlphabetMapper alphabetMapper = new BasicAlphabetMapper(alphabet);\n        int radix = alphabetMapper.getRadix();\n        log.info(&quot;Radix: {}&quot;, radix);\n        return radix;\n    }\n}\n</code></pre>\n<p>I haven't come across an example how to use it correctly. The problem seems to be with radix. Execution of the above results with the following stack trace:</p>\n<pre><code>java.lang.IllegalArgumentException: input data outside of radix\n    at org.bouncycastle.crypto.fpe.SP80038G.checkData(Unknown Source)\n    at org.bouncycastle.crypto.fpe.SP80038G.checkArgs(Unknown Source)\n    at org.bouncycastle.crypto.fpe.SP80038G.encryptFF3_1(Unknown Source)\n    at org.bouncycastle.crypto.fpe.FPEFF3_1Engine.encryptBlock(Unknown Source)\n    at org.bouncycastle.crypto.fpe.FPEEngine.processBlock(Unknown Source)\n    at org.bouncycastle.jcajce.provider.symmetric.util.BaseBlockCipher$BufferedFPEBlockCipher.doFinal(Unknown Source)\n    at org.bouncycastle.jcajce.provider.symmetric.util.BaseBlockCipher.engineDoFinal(Unknown Source)\n    at javax.crypto.Cipher.doFinal(Cipher.java:2164)\n</code></pre>\n<p>With radix set to e.g. 64 or higher this code works, but this is no longer a FPE - ciphertext contains characters outside of [0-9] scope. How to fix that?</p>\n"},{"tags":["java","android","sorting"],"answers":[{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1659063854,"creation_date":1659063854,"answer_id":73161206,"question_id":73161075,"body_markdown":"Instead of calling `Collections.sort(list)`, you need to provide a comparator that defines how the values should be compared. _Without_ providing a comparator, sort() will use the natural ordering for the objects, which is java.lang.String.\r\n\r\nHere&#39;s a starting point to create a list and add three values (picked from your original post):\r\n```\r\nList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\nlist.add(&quot;com.replaysport.pickempartyapp.5&quot;);\r\nlist.add(&quot;com.replaysport.pickempartyapp.100&quot;);\r\nlist.add(&quot;com.replaysport.pickempartyapp.50&quot;);\r\n```\r\nHere&#39;s an example showing how `sort(list)` doesn&#39;t produce results you want - first is 100, then 5, then 50:\r\n\r\n```\r\nCollections.sort(list);\r\nSystem.out.println(list);\r\n\r\n[com.replaysport.pickempartyapp.100, com.replaysport.pickempartyapp.5, com.replaysport.pickempartyapp.50]\r\n```\r\n\r\nHere&#39;s an example showing how you could create a comparator that does what you want â€“ look for the last occurrence of &quot;.&quot;, get a substring from that point on, treat those things as Integers, then use the default comparison for Integer. In the output below, you can see that the ordering is now 5, 50, and 100.\r\n```\r\nlist.sort((o1, o2) -&gt; {\r\n    Integer number1 = Integer.parseInt(o1.substring(o1.lastIndexOf(&#39;.&#39;) + 1));\r\n    Integer number2 = Integer.parseInt(o2.substring(o2.lastIndexOf(&#39;.&#39;) + 1));\r\n    return number1.compareTo(number2);\r\n});\r\nSystem.out.println(list);\r\n\r\n[com.replaysport.pickempartyapp.5, com.replaysport.pickempartyapp.50, com.replaysport.pickempartyapp.100]\r\n```\r\n\r\nNote that this is meant to be a functioning example for you. You&#39;ll need to look more closely at the right comparator implementation for you, and include any guards or checks if the data does not conform the way you expect (handle edge cases).\r\n\r\nAlso, it might be possible to expolore whether it&#39;s necessary for each list item to start with &quot;com.replaysport.pickempartyapp.&quot; â€“ if they&#39;re all the same, perhaps you could chop that part off at the start, and change the list type from `List&lt;String&gt;` to `List&lt;Integer&gt;`. If you could do that, you could go back to `list.sort()` and skip the custom comparator.\r\n","title":"Sorting a List where the list entries is a string but need the substring to trigger on","body":"<p>Instead of calling <code>Collections.sort(list)</code>, you need to provide a comparator that defines how the values should be compared. <em>Without</em> providing a comparator, sort() will use the natural ordering for the objects, which is java.lang.String.</p>\n<p>Here's a starting point to create a list and add three values (picked from your original post):</p>\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;&gt;();\nlist.add(&quot;com.replaysport.pickempartyapp.5&quot;);\nlist.add(&quot;com.replaysport.pickempartyapp.100&quot;);\nlist.add(&quot;com.replaysport.pickempartyapp.50&quot;);\n</code></pre>\n<p>Here's an example showing how <code>sort(list)</code> doesn't produce results you want - first is 100, then 5, then 50:</p>\n<pre><code>Collections.sort(list);\nSystem.out.println(list);\n\n[com.replaysport.pickempartyapp.100, com.replaysport.pickempartyapp.5, com.replaysport.pickempartyapp.50]\n</code></pre>\n<p>Here's an example showing how you could create a comparator that does what you want â€“ look for the last occurrence of &quot;.&quot;, get a substring from that point on, treat those things as Integers, then use the default comparison for Integer. In the output below, you can see that the ordering is now 5, 50, and 100.</p>\n<pre><code>list.sort((o1, o2) -&gt; {\n    Integer number1 = Integer.parseInt(o1.substring(o1.lastIndexOf('.') + 1));\n    Integer number2 = Integer.parseInt(o2.substring(o2.lastIndexOf('.') + 1));\n    return number1.compareTo(number2);\n});\nSystem.out.println(list);\n\n[com.replaysport.pickempartyapp.5, com.replaysport.pickempartyapp.50, com.replaysport.pickempartyapp.100]\n</code></pre>\n<p>Note that this is meant to be a functioning example for you. You'll need to look more closely at the right comparator implementation for you, and include any guards or checks if the data does not conform the way you expect (handle edge cases).</p>\n<p>Also, it might be possible to expolore whether it's necessary for each list item to start with &quot;com.replaysport.pickempartyapp.&quot; â€“ if they're all the same, perhaps you could chop that part off at the start, and change the list type from <code>List&lt;String&gt;</code> to <code>List&lt;Integer&gt;</code>. If you could do that, you could go back to <code>list.sort()</code> and skip the custom comparator.</p>\n"},{"tags":[],"owner":{"account_id":9927857,"reputation":1692,"user_id":7348815,"accept_rate":73,"display_name":"Aliaksei Stadnik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659063901,"creation_date":1659063901,"answer_id":73161213,"question_id":73161075,"body_markdown":"This should work\r\n\r\n```java\r\nskuList.sort((s1, s2) -&gt; {\r\n   final String s1Postfix = s1.substring(s1.lastIndexOf(&#39;.&#39;) + 1);\r\n   final String s2Postfix = s2.substring(s2.lastIndexOf(&#39;.&#39;) + 1);\r\n   return Integer.valueOf(s1Postfix).compareTo(Integer.valueOf(s2Postfix));\r\n});\r\n```","title":"Sorting a List where the list entries is a string but need the substring to trigger on","body":"<p>This should work</p>\n<pre class=\"lang-java prettyprint-override\"><code>skuList.sort((s1, s2) -&gt; {\n   final String s1Postfix = s1.substring(s1.lastIndexOf('.') + 1);\n   final String s2Postfix = s2.substring(s2.lastIndexOf('.') + 1);\n   return Integer.valueOf(s1Postfix).compareTo(Integer.valueOf(s2Postfix));\n});\n</code></pre>\n"}],"owner":{"account_id":9984377,"reputation":2086,"user_id":7386152,"accept_rate":52,"display_name":"Learn2Code"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73161206,"answer_count":2,"score":-2,"last_activity_date":1659063901,"creation_date":1659062277,"question_id":73161075,"body_markdown":"\r\nI have a `List&lt;String&gt; skuList = new ArrayList&lt;&gt;();` which gets loaded from Firebase Realtime DB.\r\n\r\nThe following is what gets loaded:\r\n\r\n    com.replaysport.pickempartyapp.20\r\n    com.replaysport.pickempartyapp.12\r\n    com.replaysport.pickempartyapp.75\r\n    com.replaysport.pickempartyapp.30\r\n    com.replaysport.pickempartyapp.5\r\n    com.replaysport.pickempartyapp.100\r\n    com.replaysport.pickempartyapp.50\r\n    \r\n\r\nI would like it to get sorted by the integer value after the last &#39;.&#39; but i am just not able to figure it out!?\r\n\r\nI have tried the Collections.sort(skuList) which sorts it by the String value and puts the 100 at the beginning and 5 and 50 at the end, where 5 should be first and 100 should be last in the order i am looking for.\r\n\r\n","title":"Sorting a List where the list entries is a string but need the substring to trigger on","body":"<p>I have a <code>List&lt;String&gt; skuList = new ArrayList&lt;&gt;();</code> which gets loaded from Firebase Realtime DB.</p>\n<p>The following is what gets loaded:</p>\n<pre><code>com.replaysport.pickempartyapp.20\ncom.replaysport.pickempartyapp.12\ncom.replaysport.pickempartyapp.75\ncom.replaysport.pickempartyapp.30\ncom.replaysport.pickempartyapp.5\ncom.replaysport.pickempartyapp.100\ncom.replaysport.pickempartyapp.50\n</code></pre>\n<p>I would like it to get sorted by the integer value after the last '.' but i am just not able to figure it out!?</p>\n<p>I have tried the Collections.sort(skuList) which sorts it by the String value and puts the 100 at the beginning and 5 and 50 at the end, where 5 should be first and 100 should be last in the order i am looking for.</p>\n"},{"tags":["java","cassandra","cassandra-3.0"],"comments":[{"owner":{"account_id":1645018,"reputation":2124,"user_id":1516699,"accept_rate":100,"display_name":"Simon Fontana Oscarsson"},"score":1,"creation_date":1509633464,"post_id":47069563,"comment_id":81104368,"body_markdown":"Could you please check the Cassandra log to see if it has any errors. For example if it has something like this: https://groups.google.com/a/lists.datastax.com/d/msg/spark-connector-user/ZKyACqzoBw4/32UIoxyVFgAJ","body":"Could you please check the Cassandra log to see if it has any errors. For example if it has something like this: <a href=\"https://groups.google.com/a/lists.datastax.com/d/msg/spark-connector-user/ZKyACqzoBw4/32UIoxyVFgAJ\" rel=\"nofollow noreferrer\">groups.google.com/a/lists.datastax.com/d/msg/&hellip;</a>"},{"owner":{"account_id":7421961,"reputation":111,"user_id":5645928,"display_name":"Prasanna Wani"},"score":1,"creation_date":1509691571,"post_id":47069563,"comment_id":81129044,"body_markdown":"i checked cassandra logs it is showing Scanned over 100001 tombstones during query &#39;SELECT * FROM alrashed.tbl_alerts_details WHERE alert_state = ACKNOWLEDGE AND date_part &gt;= 2017-08-01 AND  LIMIT 5000&#39; (last scanned row partion key was (185587)); query aborted","body":"i checked cassandra logs it is showing Scanned over 100001 tombstones during query &#39;SELECT * FROM alrashed.tbl_alerts_details WHERE alert_state = ACKNOWLEDGE AND date_part &gt;= 2017-08-01 AND  LIMIT 5000&#39; (last scanned row partion key was (185587)); query aborted"},{"owner":{"account_id":1645018,"reputation":2124,"user_id":1516699,"accept_rate":100,"display_name":"Simon Fontana Oscarsson"},"score":1,"creation_date":1509712025,"post_id":47069563,"comment_id":81140837,"body_markdown":"That&#39;s a lot of tombstones. You should probably rethink your data model. If it suits your use case it would be possible to lower the gc_grace_seconds on your table (but you have to understand what this means otherwise it could be really bad for you and data could reappear after deletion). \nIf you&#39;re new to Cassandra I could point you to some great learning resources.","body":"That&#39;s a lot of tombstones. You should probably rethink your data model. If it suits your use case it would be possible to lower the gc_grace_seconds on your table (but you have to understand what this means otherwise it could be really bad for you and data could reappear after deletion).  If you&#39;re new to Cassandra I could point you to some great learning resources."}],"answers":[{"tags":[],"owner":{"account_id":5097680,"reputation":678,"user_id":4088428,"accept_rate":29,"display_name":"James Marino"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1523929193,"creation_date":1523929193,"answer_id":49868569,"question_id":47069563,"body_markdown":"This error had made us realise a space issue for us, storing images in Base64 in every row had quickly made the `Tombstone` problem arise.\r\n\r\nAs per this [post][1],\r\n\r\n&gt; Cassandra doesn&#39;t just scan through the rows, but also has to\r\n&gt; accumulate them in memory while it prepares the response. This can\r\n&gt; cause an out-of-memory error on the node if things go too far out, and\r\n&gt; if multiple nodes are servicing the request, it may even cause a\r\n&gt; multiple failure bringing down the whole cluster. To prevent this from\r\n&gt; happening, the service aborts the query if it detects a dangerous\r\n&gt; number of tombstones.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/21772581/4088428","title":"Cassandra failure during read query at consistency LOCAL_ONE (1 responses were required but only 0 replica responded, 1 failed)","body":"<p>This error had made us realise a space issue for us, storing images in Base64 in every row had quickly made the <code>Tombstone</code> problem arise.</p>\n\n<p>As per this <a href=\"https://stackoverflow.com/a/21772581/4088428\">post</a>,</p>\n\n<blockquote>\n  <p>Cassandra doesn't just scan through the rows, but also has to\n  accumulate them in memory while it prepares the response. This can\n  cause an out-of-memory error on the node if things go too far out, and\n  if multiple nodes are servicing the request, it may even cause a\n  multiple failure bringing down the whole cluster. To prevent this from\n  happening, the service aborts the query if it detects a dangerous\n  number of tombstones.</p>\n</blockquote>\n"}],"owner":{"account_id":7421961,"reputation":111,"user_id":5645928,"display_name":"Prasanna Wani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22992,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":1,"score":9,"last_activity_date":1659062097,"creation_date":1509606769,"question_id":47069563,"body_markdown":"Below is my script\r\n\r\n    CREATE TABLE alrashed.tbl_alerts_details (\r\n        alert_id int,\r\n        action_required int,\r\n        alert_agent_id int,\r\n        alert_agent_type_id int,\r\n        alert_agent_type_name text,\r\n        alert_definer_desc text,\r\n        alert_definer_name text,\r\n        alert_source text,\r\n        alert_state text,\r\n        col_1 text,\r\n        col_2 text,\r\n        col_3 text,\r\n        col_4 text,\r\n        col_5 text,\r\n        current_escalation_level text,\r\n        date_part date,\r\n        device_id text,\r\n        driver map&lt;text, text&gt;,\r\n        is_processed int,\r\n        is_real_time int,\r\n        location map&lt;text, text&gt;,\r\n        seq_no int,\r\n        severity text,\r\n        time_stamp timestamp,\r\n        transporter map&lt;text, text&gt;,\r\n        transporter_name text,\r\n        trip_id int,\r\n        updated_on timestamp,\r\n        vehicle map&lt;text, text&gt;,\r\n        vehicle_type_name text,\r\n        PRIMARY KEY (alert_id)\r\n        ) WITH read_repair_chance = 0.0\r\n        AND dclocal_read_repair_chance = 0.1\r\n        AND gc_grace_seconds = 864000\r\n        AND bloom_filter_fp_chance = 0.01\r\n        AND caching = { &#39;keys&#39; : &#39;ALL&#39;, &#39;rows_per_partition&#39; : &#39;NONE&#39; }\r\n        AND comment = &#39;&#39;\r\n        AND compaction = { &#39;class&#39; : &#39;org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy&#39;, &#39;max_threshold&#39; : 32, &#39;min_threshold&#39; : 4 }\r\n        AND compression = { &#39;chunk_length_in_kb&#39; : 64, &#39;class&#39; : &#39;org.apache.cassandra.io.compress.LZ4Compressor&#39; }\r\n        AND default_time_to_live = 0\r\n        AND speculative_retry = &#39;99PERCENTILE&#39;\r\n        AND min_index_interval = 128\r\n        AND max_index_interval = 2048\r\n        AND crc_check_chance = 1.0;  \r\n    \r\nwhen I&#39;m running this query I&#39;m getting \r\n&gt;Cassandra failure during read query at consistency LOCAL_ONE (1 responses were required but only 0 replica responded, 1 failed) error\r\n\r\nHere is my cassandra query in Java:\r\n\r\n    select\r\n      count( * )\r\n    from\r\n      tbl_alerts_details\r\n    where\r\n      alert_state = &#39;ACKNOWLEDGE&#39;\r\n      and date_part &gt;= &#39;2017-10-01&#39;\r\n      and date_part &lt;= &#39;2017-10-31&#39;\r\n      and is_real_time = 1\r\n      and alert_agent_type_name = &#39;VEHICLE&#39; ALLOW FILTERING","title":"Cassandra failure during read query at consistency LOCAL_ONE (1 responses were required but only 0 replica responded, 1 failed)","body":"<p>Below is my script</p>\n\n<pre><code>CREATE TABLE alrashed.tbl_alerts_details (\n    alert_id int,\n    action_required int,\n    alert_agent_id int,\n    alert_agent_type_id int,\n    alert_agent_type_name text,\n    alert_definer_desc text,\n    alert_definer_name text,\n    alert_source text,\n    alert_state text,\n    col_1 text,\n    col_2 text,\n    col_3 text,\n    col_4 text,\n    col_5 text,\n    current_escalation_level text,\n    date_part date,\n    device_id text,\n    driver map&lt;text, text&gt;,\n    is_processed int,\n    is_real_time int,\n    location map&lt;text, text&gt;,\n    seq_no int,\n    severity text,\n    time_stamp timestamp,\n    transporter map&lt;text, text&gt;,\n    transporter_name text,\n    trip_id int,\n    updated_on timestamp,\n    vehicle map&lt;text, text&gt;,\n    vehicle_type_name text,\n    PRIMARY KEY (alert_id)\n    ) WITH read_repair_chance = 0.0\n    AND dclocal_read_repair_chance = 0.1\n    AND gc_grace_seconds = 864000\n    AND bloom_filter_fp_chance = 0.01\n    AND caching = { 'keys' : 'ALL', 'rows_per_partition' : 'NONE' }\n    AND comment = ''\n    AND compaction = { 'class' : 'org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy', 'max_threshold' : 32, 'min_threshold' : 4 }\n    AND compression = { 'chunk_length_in_kb' : 64, 'class' : 'org.apache.cassandra.io.compress.LZ4Compressor' }\n    AND default_time_to_live = 0\n    AND speculative_retry = '99PERCENTILE'\n    AND min_index_interval = 128\n    AND max_index_interval = 2048\n    AND crc_check_chance = 1.0;  \n</code></pre>\n\n<p>when I'm running this query I'm getting </p>\n\n<blockquote>\n  <p>Cassandra failure during read query at consistency LOCAL_ONE (1 responses were required but only 0 replica responded, 1 failed) error</p>\n</blockquote>\n\n<p>Here is my cassandra query in Java:</p>\n\n<pre><code>select\n  count( * )\nfrom\n  tbl_alerts_details\nwhere\n  alert_state = 'ACKNOWLEDGE'\n  and date_part &gt;= '2017-10-01'\n  and date_part &lt;= '2017-10-31'\n  and is_real_time = 1\n  and alert_agent_type_name = 'VEHICLE' ALLOW FILTERING\n</code></pre>\n"},{"tags":["java","cassandra","nosql","cql","cassandra-3.0"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1509438483,"post_id":47030798,"comment_id":81008147,"body_markdown":"do you mean `Scanner scan = new Scanner(System.in); String name1 = scan.nextLine(); String name2 = scan.nextLine();`?","body":"do you mean <code>Scanner scan = new Scanner(System.in); String name1 = scan.nextLine(); String name2 = scan.nextLine();</code>?"},{"owner":{"account_id":2685682,"reputation":12530,"user_id":2320144,"display_name":"Ashraful Islam"},"score":0,"creation_date":1509446415,"post_id":47030798,"comment_id":81012987,"body_markdown":"What do you mean by `result1.all() == result2.all()` ?","body":"What do you mean by <code>result1.all() == result2.all()</code> ?"},{"owner":{"account_id":2685682,"reputation":12530,"user_id":2320144,"display_name":"Ashraful Islam"},"score":0,"creation_date":1509446446,"post_id":47030798,"comment_id":81013009,"body_markdown":"https://stackoverflow.com/questions/7520432/what-is-the-difference-between-vs-equals-in-java","body":"<a href=\"https://stackoverflow.com/questions/7520432/what-is-the-difference-between-vs-equals-in-java\" title=\"what is the difference between vs equals in java\">stackoverflow.com/questions/7520432/&hellip;</a>"},{"owner":{"account_id":11451303,"reputation":93,"user_id":8393618,"accept_rate":33,"display_name":"s.s"},"score":0,"creation_date":1509446882,"post_id":47030798,"comment_id":81013281,"body_markdown":"@Ashraful Islam  thankyou    if(result1.equals(result2));\n          {    \n          System.out.println(&quot;100% sentiment &quot;);          \n          }                 is this ok ?","body":"@Ashraful Islam  thankyou    if(result1.equals(result2));           {               System.out.println(&quot;100% sentiment &quot;);                     }                 is this ok ?"},{"owner":{"account_id":2685682,"reputation":12530,"user_id":2320144,"display_name":"Ashraful Islam"},"score":0,"creation_date":1509448013,"post_id":47030798,"comment_id":81013926,"body_markdown":"@s.s What do you want to match by equals ?","body":"@s.s What do you want to match by equals ?"},{"owner":{"account_id":11451303,"reputation":93,"user_id":8393618,"accept_rate":33,"display_name":"s.s"},"score":0,"creation_date":1509448065,"post_id":47030798,"comment_id":81013952,"body_markdown":"@Ashraful Islam please check i have done changes  inif(result1.equals(result2));  and select query  now on any matching its giving no sentiments","body":"@Ashraful Islam please check i have done changes  inif(result1.equals(result2));  and select query  now on any matching its giving no sentiments"},{"owner":{"account_id":11451303,"reputation":93,"user_id":8393618,"accept_rate":33,"display_name":"s.s"},"score":0,"creation_date":1509448225,"post_id":47030798,"comment_id":81014045,"body_markdown":"i want to match article read   [ELEMENTS X] &lt;&gt; [ELEMENTS Y] for two persons if they are same return 100%","body":"i want to match article read   [ELEMENTS X] &lt;&gt; [ELEMENTS Y] for two persons if they are same return 100%"},{"owner":{"account_id":2685682,"reputation":12530,"user_id":2320144,"display_name":"Ashraful Islam"},"score":0,"creation_date":1509448455,"post_id":47030798,"comment_id":81014180,"body_markdown":"@s.s Updated answer","body":"@s.s Updated answer"},{"owner":{"account_id":11451303,"reputation":93,"user_id":8393618,"accept_rate":33,"display_name":"s.s"},"score":0,"creation_date":1509451370,"post_id":47030798,"comment_id":81015999,"body_markdown":"thankyou so much @Ashraful Islam your code works exactly as i want :) if you dont mind can you explain if i have to match elements like if 2 elements of out of 4 between 2 names match ..it will give 50% ..how to do this?","body":"thankyou so much @Ashraful Islam your code works exactly as i want :) if you dont mind can you explain if i have to match elements like if 2 elements of out of 4 between 2 names match ..it will give 50% ..how to do this?"}],"answers":[{"tags":[],"owner":{"account_id":2685682,"reputation":12530,"user_id":2320144,"display_name":"Ashraful Islam"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1509448366,"creation_date":1509438969,"answer_id":47030987,"question_id":47030798,"body_markdown":"**Use [PreparedStatement][1]**\r\n\r\nFirst prepared the query only once like below :\r\n    \r\n    //Prepared only once. \r\n    PreparedStatement queryStmt = session.prepare(&quot;select * from bat where name = ?&quot;);\r\n\r\nThen you can use it any number of time like below : \r\n\r\n    ResultSet result1 = session.execute(queryStmt.bind(&quot;shashank&quot;));\r\n    ResultSet result2 = session.execute(queryStmt.bind(&quot;aman&quot;));\r\n\r\n\r\n----------------\r\n## Edited\r\n\r\n    try (Cluster cluster = Cluster.builder().addContactPoint(&quot;127.0.0.1&quot;).build(); Session session = cluster.connect(&quot;test&quot;)) {\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(&quot;enter name1 &quot;);\r\n        String name1 = sc.nextLine();\r\n        System.out.println(&quot;enter name2&quot;);\r\n        String name2 = sc.nextLine();\r\n\r\n        PreparedStatement queryStmt = session.prepare(&quot;select article_read from bat where name = ?&quot;);\r\n        ResultSet result1 = session.execute(queryStmt.bind(name1));\r\n        ResultSet result2 = session.execute(queryStmt.bind(name2));\r\n\r\n\r\n        if (result1.one().getList(&quot;article_read&quot;, Integer.class).equals(result2.one().getList(&quot;article_read&quot;, Integer.class))) {\r\n            System.out.println(&quot;100% sentiment &quot;);\r\n        } else {\r\n            System.out.println(&quot;no sentiment &quot;);\r\n        }\r\n    }\r\n\r\n  [1]: https://docs.datastax.com/en/developer/java-driver/3.1/manual/statements/prepared/","title":"read data from cassandra using java","body":"<p><strong>Use <a href=\"https://docs.datastax.com/en/developer/java-driver/3.1/manual/statements/prepared/\" rel=\"nofollow noreferrer\">PreparedStatement</a></strong></p>\n\n<p>First prepared the query only once like below :</p>\n\n<pre><code>//Prepared only once. \nPreparedStatement queryStmt = session.prepare(\"select * from bat where name = ?\");\n</code></pre>\n\n<p>Then you can use it any number of time like below : </p>\n\n<pre><code>ResultSet result1 = session.execute(queryStmt.bind(\"shashank\"));\nResultSet result2 = session.execute(queryStmt.bind(\"aman\"));\n</code></pre>\n\n<hr>\n\n<h2>Edited</h2>\n\n<pre><code>try (Cluster cluster = Cluster.builder().addContactPoint(\"127.0.0.1\").build(); Session session = cluster.connect(\"test\")) {\n    Scanner sc = new Scanner(System.in);\n    System.out.println(\"enter name1 \");\n    String name1 = sc.nextLine();\n    System.out.println(\"enter name2\");\n    String name2 = sc.nextLine();\n\n    PreparedStatement queryStmt = session.prepare(\"select article_read from bat where name = ?\");\n    ResultSet result1 = session.execute(queryStmt.bind(name1));\n    ResultSet result2 = session.execute(queryStmt.bind(name2));\n\n\n    if (result1.one().getList(\"article_read\", Integer.class).equals(result2.one().getList(\"article_read\", Integer.class))) {\n        System.out.println(\"100% sentiment \");\n    } else {\n        System.out.println(\"no sentiment \");\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11451303,"reputation":93,"user_id":8393618,"accept_rate":33,"display_name":"s.s"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2610,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":47030987,"answer_count":1,"score":2,"last_activity_date":1659061947,"creation_date":1509438169,"question_id":47030798,"body_markdown":"     My sample  cassandra table looks like        \r\n     \r\n    id | article_read | last_hours | name\r\n    ----+-----------------------------------\r\n    5  |    [4, 5, 6]  |          5  | shashank\r\n    10 | [12, 88, 32]  |          1  |      sam\r\n    8  |    [4, 5, 6]  |          8  |     aman\r\n    7  |       [5, 6]  |          7  |    ashif\r\n    6  |    [4, 5, 6]  |          6  |     amit\r\n    9  |    [4, 5, 6]  |          9  |  shekhar\r\n\r\n\r\nMy java code to read data from Cassandra table using cql queries,\r\n \r\n         Scanner sc = new Scanner(System.in);\r\n\t\t System.out.println(&quot;enter name1 &quot;);\r\n\t\t String name1 = sc.nextLine();\t\t\r\n\t\t System.out.println(&quot;enter name2&quot;);\r\n\t\t String name2 = sc.nextLine();\r\n\t\t\r\n\t\t Cluster cluster =    Cluster.builder().addContactPoint(&quot;127.0.0.1&quot;).build();\t\t \r\n\t\t Session session = cluster.connect(&quot;tp&quot;);\r\n\t\t\r\n\t\t PreparedStatement queryStmt = session.prepare(&quot;select article_read  from bat where name = ?&quot;);        \r\n\t\t ResultSet result1 = session.execute(queryStmt.bind(name1));\r\n\t\t\r\n\t\t ResultSet result2 = session.execute(queryStmt.bind(name2));\r\n\t\t  System.out.println(result1.all());\r\n\t      System.out.println(result2.all());\r\n\t\t\r\n\t       if(result1.equals(result2))\r\n          {    \r\n          System.out.println(&quot;100% sentiment &quot;);          \r\n          }                \r\n          else\r\n          {\r\n           System.out.println(&quot;no sentiment &quot;);\r\n        }    \r\n    }\r\n\r\nlook at my code ,its running but when  i am putting name1,name2  shashank and aman its giving 100 % but when giving shashank and ashif result is again 100% match..  ","title":"read data from cassandra using java","body":"<pre><code> My sample  cassandra table looks like        \n\nid | article_read | last_hours | name\n----+-----------------------------------\n5  |    [4, 5, 6]  |          5  | shashank\n10 | [12, 88, 32]  |          1  |      sam\n8  |    [4, 5, 6]  |          8  |     aman\n7  |       [5, 6]  |          7  |    ashif\n6  |    [4, 5, 6]  |          6  |     amit\n9  |    [4, 5, 6]  |          9  |  shekhar\n</code></pre>\n\n<p>My java code to read data from Cassandra table using cql queries,</p>\n\n<pre><code>     Scanner sc = new Scanner(System.in);\n     System.out.println(\"enter name1 \");\n     String name1 = sc.nextLine();      \n     System.out.println(\"enter name2\");\n     String name2 = sc.nextLine();\n\n     Cluster cluster =    Cluster.builder().addContactPoint(\"127.0.0.1\").build();        \n     Session session = cluster.connect(\"tp\");\n\n     PreparedStatement queryStmt = session.prepare(\"select article_read  from bat where name = ?\");        \n     ResultSet result1 = session.execute(queryStmt.bind(name1));\n\n     ResultSet result2 = session.execute(queryStmt.bind(name2));\n      System.out.println(result1.all());\n      System.out.println(result2.all());\n\n       if(result1.equals(result2))\n      {    \n      System.out.println(\"100% sentiment \");          \n      }                \n      else\n      {\n       System.out.println(\"no sentiment \");\n    }    \n}\n</code></pre>\n\n<p>look at my code ,its running but when  i am putting name1,name2  shashank and aman its giving 100 % but when giving shashank and ashif result is again 100% match..  </p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1659001504,"post_id":73150396,"comment_id":129193805,"body_markdown":"&quot;In my application, it isn&#39;t localhost:9092&quot; ... Well, is it an **array**? Because the error says it needs to be a string.","body":"&quot;In my application, it isn&#39;t localhost:9092&quot; ... Well, is it an <b>array</b>? Because the error says it needs to be a string."},{"owner":{"account_id":25853458,"reputation":47,"user_id":19587121,"display_name":"Danny.an"},"score":0,"creation_date":1659022119,"post_id":73150396,"comment_id":129201642,"body_markdown":"umm... not array. it is just a String like `spring.kafka.streams.bootstrap-servers=localhost:9092`. But as I know, in application.properties, using like `spring.kafka.streams.bootstrap-servers=localhost:9092,localhost:9093,localhost:9094` when value is array. I think that it is not cause... I tried not only using application.properties but also using application.yaml like `spring:kafka:streams:bootstrap-servers: [&quot;localhost:9092&quot;]`.","body":"umm... not array. it is just a String like <code>spring.kafka.streams.bootstrap-servers=localhost:9092</code>. But as I know, in application.properties, using like <code>spring.kafka.streams.bootstrap-servers=localhost:9092,localh&zwnj;&#8203;ost:9093,localhost:9&zwnj;&#8203;094</code> when value is array. I think that it is not cause... I tried not only using application.properties but also using application.yaml like <code>spring:kafka:streams:bootstrap-servers: [&quot;localhost:9092&quot;]</code>."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1659022261,"post_id":73150396,"comment_id":129201689,"body_markdown":"`localhost:9092,localhost:9093,localhost:9094` is a string. `spring:kafka:streams:bootstrap-servers` is not a valid `.properties` entry, but `[&quot;localhost:9092&quot;]` is a list. And when `props.put(BOOTSTRAP_SERVERS_CONFIG, value);` gets auto-configured by Spring Boot, it wants a String, not a list. My question was more related to what are you actually using rather than `localhost:9092`?","body":"<code>localhost:9092,localhost:9093,localhost:9094</code> is a string. <code>spring:kafka:streams:bootstrap-servers</code> is not a valid <code>.properties</code> entry, but <code>[&quot;localhost:9092&quot;]</code> is a list. And when <code>props.put(BOOTSTRAP_SERVERS_CONFIG, value);</code> gets auto-configured by Spring Boot, it wants a String, not a list. My question was more related to what are you actually using rather than <code>localhost:9092</code>?"},{"owner":{"account_id":25853458,"reputation":47,"user_id":19587121,"display_name":"Danny.an"},"score":0,"creation_date":1659022486,"post_id":73150396,"comment_id":129201770,"body_markdown":"I used `spring:kafka:streams:bootstrap-servers` in application.yaml. Now, I&#39;m using only one bootstrap-servers like `spring.kafka.streams.bootstrap-servers=localhost:9092`.","body":"I used <code>spring:kafka:streams:bootstrap-servers</code> in application.yaml. Now, I&#39;m using only one bootstrap-servers like <code>spring.kafka.streams.bootstrap-servers=localhost:9092</code>."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1659022628,"post_id":73150396,"comment_id":129201832,"body_markdown":"Bootstrap servers aren&#39;t just a Streams property. [You should just set `spring.kafka.bootstrap-servers`, or in yaml/json, the object format would be `{spring: {kafka: {bootstrap-servers: localhost:9092}}`](https://docs.spring.io/spring-boot/docs/current/reference/html/messaging.html#messaging.kafka). Then this gets used over all clients.","body":"Bootstrap servers aren&#39;t just a Streams property. <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/messaging.html#messaging.kafka\" rel=\"nofollow noreferrer\">You should just set <code>spring.kafka.bootstrap-servers</code>, or in yaml/json, the object format would be <code>{spring: {kafka: {bootstrap-servers: localhost:9092}}</code></a>. Then this gets used over all clients."},{"owner":{"account_id":25853458,"reputation":47,"user_id":19587121,"display_name":"Danny.an"},"score":0,"creation_date":1659022872,"post_id":73150396,"comment_id":129201917,"body_markdown":"Oh &#128512;, I will try it tomorrow and comment result. thank you.","body":"Oh ðŸ˜€, I will try it tomorrow and comment result. thank you."},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1659024774,"post_id":73150396,"comment_id":129202671,"body_markdown":"Did you try comma-separated list for YAML config as well? Kinda: `spring:kafka:streams:bootstrap-servers: localhost:9092,localhost:9093,localhost:9094`. Or `-` list item: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.external-config.yaml.mapping-to-properties","body":"Did you try comma-separated list for YAML config as well? Kinda: <code>spring:kafka:streams:bootstrap-servers: localhost:9092,localhost:9093,localhost:9094</code>. Or <code>-</code> list item: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.external-config.yaml.mapping-to-properties\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/htmlsingle&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":25853458,"reputation":47,"user_id":19587121,"display_name":"Danny.an"},"score":0,"creation_date":1659026358,"post_id":73150396,"comment_id":129203256,"body_markdown":"No. I tried comma-separated list on properties file. and I&#39;m using just one host.","body":"No. I tried comma-separated list on properties file. and I&#39;m using just one host."},{"owner":{"account_id":25853458,"reputation":47,"user_id":19587121,"display_name":"Danny.an"},"score":0,"creation_date":1659058811,"post_id":73150396,"comment_id":129210807,"body_markdown":"it doesn&#39;t works.. Still throw exception..","body":"it doesn&#39;t works.. Still throw exception.."}],"answers":[{"tags":[],"owner":{"account_id":25853458,"reputation":47,"user_id":19587121,"display_name":"Danny.an"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659061725,"creation_date":1659061725,"answer_id":73161039,"question_id":73150396,"body_markdown":"Finally, I decided to ignore this Exception. \r\n\r\nBecause, When the exception thrown, application does not shut down or it works well.\r\n\r\nFurthermore, In local environment, exception does not be thrown.\r\n\r\nI think there&#39;s some problem in my k8s.\r\n\r\nThanks for all comments.","title":"Spring Boot with Kafka Streams throws ClassCastException only when set configuration in application.properties","body":"<p>Finally, I decided to ignore this Exception.</p>\n<p>Because, When the exception thrown, application does not shut down or it works well.</p>\n<p>Furthermore, In local environment, exception does not be thrown.</p>\n<p>I think there's some problem in my k8s.</p>\n<p>Thanks for all comments.</p>\n"}],"owner":{"account_id":25853458,"reputation":47,"user_id":19587121,"display_name":"Danny.an"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":409,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73161039,"answer_count":1,"score":0,"last_activity_date":1659061725,"creation_date":1659000343,"question_id":73150396,"body_markdown":"I have a problem with Spring boot with Kafka Streams.\r\n\r\nThere are two ways to set configuration Kafka Streams.\r\n\r\nFirst way is set configuration with @Bean like this.\r\n\r\n    @Bean(name = KafkaStreamsDefaultConfiguration.DEFAULT_STREAMS_CONFIG_BEAN_NAME)\r\n    KafkaStreamsConfiguration kStreamsConfig() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(APPLICATION_ID_CONFIG, &quot;kafka-streams&quot;);\r\n        props.put(BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\r\n\r\n        return new KafkaStreamsConfiguration(props);\r\n    }\r\n\r\nWhen I using this way and deploy application on k8s, it works well and doesn&#39;t throw any Exception.\r\n\r\nBut, In second way using application.properties like this\r\n\r\n    // application.properties\r\n\r\n    spring.kafka.streams.bootstrap-servers=localhost:9092\r\n    spring.kafka.streams.application-id=kafka-streams\r\n\r\nWhen I deploy application with this way on k8s, the application works well too but throw ClassCastException!!\r\n\r\n    20220728 18:08:17 [XTRA-KAFKA-PRPDUCER11 main] class java.util.ArrayList cannot be cast to class java.lang.String (java.util.ArrayList and java.lang.String are in module java.base of loader &#39;bootstrap&#39;) java.lang.ClassCastException: class java.util.ArrayList cannot be cast to class java.lang.String (java.util.ArrayList and java.lang.String are in module java.base of loader &#39;bootstrap&#39;)\r\n    java.lang.ClassCastException\r\n    \torg.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:666)\r\n    \torg.apache.kafka.streams.processor.internals.DefaultKafkaClientSupplier.getRestoreConsumer(DefaultKafkaClientSupplier.java:49)\r\n    \torg.apache.kafka.streams.processor.internals.StreamThread.create(StreamThread.java:343)\r\n    \torg.apache.kafka.streams.KafkaStreams.createAndAddStreamThread(KafkaStreams.java:956)\r\n    \torg.apache.kafka.streams.KafkaStreams.&lt;init&gt;(KafkaStreams.java:948)\r\n    \torg.apache.kafka.streams.KafkaStreams.&lt;init&gt;(KafkaStreams.java:845)\r\n    \torg.apache.kafka.streams.KafkaStreams.&lt;init&gt;(KafkaStreams.java:751)\r\n    \torg.springframework.kafka.config.StreamsBuilderFactoryBean.start(StreamsBuilderFactoryBean.java:349)\r\n    \torg.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178)\r\n    \torg.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54)\r\n    \torg.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356)\r\n    \tjava.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n    \torg.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155)\r\n    \torg.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123)\r\n    \torg.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935)\r\n    \torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)\r\n    \torg.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\r\n    \torg.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n    \torg.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n    \torg.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n    \torg.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n    \torg.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n    \tcom.example.springkafka.SpringKafkaApplication.main(SpringKafkaApplication.java:10)\r\n    \tjava.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \tjava.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n    \torg.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n    \torg.springframework.boot.loader.Launcher.launch(Launcher.java:108)\r\n    \torg.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n    \torg.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\r\n\r\n(That bootstrap-servers is an example. In my application, it isn&#39;t localhost:9092) \r\n\r\nAdditionally, In local environment using IntelliJ, there&#39;s no Exception in both ways.\r\n\r\nI wonder why this problem is caused. and how to solve this problem..","title":"Spring Boot with Kafka Streams throws ClassCastException only when set configuration in application.properties","body":"<p>I have a problem with Spring boot with Kafka Streams.</p>\n<p>There are two ways to set configuration Kafka Streams.</p>\n<p>First way is set configuration with @Bean like this.</p>\n<pre><code>@Bean(name = KafkaStreamsDefaultConfiguration.DEFAULT_STREAMS_CONFIG_BEAN_NAME)\nKafkaStreamsConfiguration kStreamsConfig() {\n    Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n    props.put(APPLICATION_ID_CONFIG, &quot;kafka-streams&quot;);\n    props.put(BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\n\n    return new KafkaStreamsConfiguration(props);\n}\n</code></pre>\n<p>When I using this way and deploy application on k8s, it works well and doesn't throw any Exception.</p>\n<p>But, In second way using application.properties like this</p>\n<pre><code>// application.properties\n\nspring.kafka.streams.bootstrap-servers=localhost:9092\nspring.kafka.streams.application-id=kafka-streams\n</code></pre>\n<p>When I deploy application with this way on k8s, the application works well too but throw ClassCastException!!</p>\n<pre><code>20220728 18:08:17 [XTRA-KAFKA-PRPDUCER11 main] class java.util.ArrayList cannot be cast to class java.lang.String (java.util.ArrayList and java.lang.String are in module java.base of loader 'bootstrap') java.lang.ClassCastException: class java.util.ArrayList cannot be cast to class java.lang.String (java.util.ArrayList and java.lang.String are in module java.base of loader 'bootstrap')\njava.lang.ClassCastException\n    org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:666)\n    org.apache.kafka.streams.processor.internals.DefaultKafkaClientSupplier.getRestoreConsumer(DefaultKafkaClientSupplier.java:49)\n    org.apache.kafka.streams.processor.internals.StreamThread.create(StreamThread.java:343)\n    org.apache.kafka.streams.KafkaStreams.createAndAddStreamThread(KafkaStreams.java:956)\n    org.apache.kafka.streams.KafkaStreams.&lt;init&gt;(KafkaStreams.java:948)\n    org.apache.kafka.streams.KafkaStreams.&lt;init&gt;(KafkaStreams.java:845)\n    org.apache.kafka.streams.KafkaStreams.&lt;init&gt;(KafkaStreams.java:751)\n    org.springframework.kafka.config.StreamsBuilderFactoryBean.start(StreamsBuilderFactoryBean.java:349)\n    org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178)\n    org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54)\n    org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356)\n    java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155)\n    org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123)\n    org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935)\n    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)\n    org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\n    org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\n    org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n    org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n    org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n    com.example.springkafka.SpringKafkaApplication.main(SpringKafkaApplication.java:10)\n    java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n    org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\n    org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n    org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\n</code></pre>\n<p>(That bootstrap-servers is an example. In my application, it isn't localhost:9092)</p>\n<p>Additionally, In local environment using IntelliJ, there's no Exception in both ways.</p>\n<p>I wonder why this problem is caused. and how to solve this problem..</p>\n"},{"tags":["java","scala","hashmap","tuples","treemap"],"comments":[{"owner":{"account_id":2538731,"reputation":2578,"user_id":2205089,"display_name":"Alin Gabriel Arhip"},"score":0,"creation_date":1659059163,"post_id":73160567,"comment_id":129210863,"body_markdown":"You should not use Maps as keys. This makes your code hard to follow and prone to errors for no benefit. Using `.get(Map(...))` should work, because as long as the `Map` has the same contents, it will generate the same hashcode. If you get `None` then that means your Map key differs from yours. It can generate a totally different hashcode for as much as an uppercase letter, space, or any whitespace in fact, especially if you made a typo somewhere in those strings.","body":"You should not use Maps as keys. This makes your code hard to follow and prone to errors for no benefit. Using <code>.get(Map(...))</code> should work, because as long as the <code>Map</code> has the same contents, it will generate the same hashcode. If you get <code>None</code> then that means your Map key differs from yours. It can generate a totally different hashcode for as much as an uppercase letter, space, or any whitespace in fact, especially if you made a typo somewhere in those strings."},{"owner":{"account_id":2538731,"reputation":2578,"user_id":2205089,"display_name":"Alin Gabriel Arhip"},"score":0,"creation_date":1659059608,"post_id":73160567,"comment_id":129210928,"body_markdown":"Have you tried an immutable `TreeMap` ?","body":"Have you tried an immutable <code>TreeMap</code> ?"},{"owner":{"account_id":1000676,"reputation":15221,"user_id":1015595,"accept_rate":84,"display_name":"Big McLargeHuge"},"score":0,"creation_date":1659059748,"post_id":73160567,"comment_id":129210944,"body_markdown":"@AlinGabrielArhip thanks for the advice, but this is inherited code. I did try immutable `TreeMap`. I just realized that TreeMap is a java.util.TreeMap, which is probably the issue.","body":"@AlinGabrielArhip thanks for the advice, but this is inherited code. I did try immutable <code>TreeMap</code>. I just realized that TreeMap is a java.util.TreeMap, which is probably the issue."},{"owner":{"account_id":2538731,"reputation":2578,"user_id":2205089,"display_name":"Alin Gabriel Arhip"},"score":0,"creation_date":1659060369,"post_id":73160567,"comment_id":129211031,"body_markdown":"You should have received a type mismatch. That definitely is the issue then. Scala TreeMap and Java util.TreeMap are 2 different collections.","body":"You should have received a type mismatch. That definitely is the issue then. Scala TreeMap and Java util.TreeMap are 2 different collections."},{"owner":{"account_id":5994994,"reputation":19189,"user_id":5641244,"display_name":"Levi Ramsey"},"score":1,"creation_date":1659118516,"post_id":73160567,"comment_id":129225298,"body_markdown":"@AlinGabrielArhip who knows what implicits are in scope...","body":"@AlinGabrielArhip who knows what implicits are in scope..."}],"answers":[{"tags":[],"owner":{"account_id":1000676,"reputation":15221,"user_id":1015595,"accept_rate":84,"display_name":"Big McLargeHuge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659061594,"creation_date":1659060587,"answer_id":73160956,"question_id":73160567,"body_markdown":"The issue was the TreeMap was an instance of `java.util.TreeMap`. The solution was to use `.asJava`:\r\n\r\n```\r\nresult.accountDetail.outs.get(&quot;Total_Before_Tax&quot;).get.get(Map(\r\n  &quot;bill_category&quot; -&gt; &quot;Total_Before_Tax&quot;,\r\n  &quot;bill_presentation_category&quot; -&gt; &quot;audit&quot;,\r\n  &quot;bill_super_category&quot; -&gt; &quot;audit_charge&quot;\r\n).asJava)\r\n```","title":"How do I access this item in a Scala HashMap?","body":"<p>The issue was the TreeMap was an instance of <code>java.util.TreeMap</code>. The solution was to use <code>.asJava</code>:</p>\n<pre><code>result.accountDetail.outs.get(&quot;Total_Before_Tax&quot;).get.get(Map(\n  &quot;bill_category&quot; -&gt; &quot;Total_Before_Tax&quot;,\n  &quot;bill_presentation_category&quot; -&gt; &quot;audit&quot;,\n  &quot;bill_super_category&quot; -&gt; &quot;audit_charge&quot;\n).asJava)\n</code></pre>\n"}],"owner":{"account_id":1000676,"reputation":15221,"user_id":1015595,"accept_rate":84,"display_name":"Big McLargeHuge"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73160956,"answer_count":1,"score":0,"last_activity_date":1659061594,"creation_date":1659055821,"question_id":73160567,"body_markdown":"I&#39;m new to Scala and confused by this data:\r\n\r\n    result.accountDetail.outs.get(&quot;Total_Before_Tax&quot;).get\r\n\r\n`result.accountDetail.outs` is a HashMap. `result.accountDetail.outs.get(&quot;Total_Before_Tax&quot;)` is an Option. `result.accountDetail.outs.get(&quot;Total_Before_Tax&quot;).get\r\n` is another HashMap which, according to the IDE, has a single item:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHow do I get a hold of this item? This returns `None`:\r\n\r\n```\r\nresult.accountDetail.outs.get(&quot;Total_Before_Tax&quot;).get.get(Map(\r\n  &quot;bill_category&quot; -&gt; &quot;Total_Before_Tax&quot;,\r\n  &quot;bill_presentation_category&quot; -&gt; &quot;audit&quot;,\r\n  &quot;bill_super_category&quot; -&gt; &quot;audit_charge&quot;\r\n))\r\n```\r\n\r\nI also tried using a `mutable.HashMap` and a `mutable.TreeMap` as the key but it had the same result.\r\n\r\nI also tried using `.find` and `.equals` like so:\r\n\r\n```\r\nresult.accountDetail.outs.get(&quot;Total_Before_Tax&quot;).get.find(_._1.equals(mutable.TreeMap(\r\n  &quot;bill_category&quot; -&gt; &quot;Total_Before_Tax&quot;,\r\n  &quot;bill_presentation_category&quot; -&gt; &quot;audit&quot;,\r\n  &quot;bill_super_category&quot; -&gt; &quot;audit_charge&quot;\r\n)))\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/ZMul9.png","title":"How do I access this item in a Scala HashMap?","body":"<p>I'm new to Scala and confused by this data:</p>\n<pre><code>result.accountDetail.outs.get(&quot;Total_Before_Tax&quot;).get\n</code></pre>\n<p><code>result.accountDetail.outs</code> is a HashMap. <code>result.accountDetail.outs.get(&quot;Total_Before_Tax&quot;)</code> is an Option. <code>result.accountDetail.outs.get(&quot;Total_Before_Tax&quot;).get </code> is another HashMap which, according to the IDE, has a single item:</p>\n<p><a href=\"https://i.stack.imgur.com/ZMul9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZMul9.png\" alt=\"enter image description here\" /></a></p>\n<p>How do I get a hold of this item? This returns <code>None</code>:</p>\n<pre><code>result.accountDetail.outs.get(&quot;Total_Before_Tax&quot;).get.get(Map(\n  &quot;bill_category&quot; -&gt; &quot;Total_Before_Tax&quot;,\n  &quot;bill_presentation_category&quot; -&gt; &quot;audit&quot;,\n  &quot;bill_super_category&quot; -&gt; &quot;audit_charge&quot;\n))\n</code></pre>\n<p>I also tried using a <code>mutable.HashMap</code> and a <code>mutable.TreeMap</code> as the key but it had the same result.</p>\n<p>I also tried using <code>.find</code> and <code>.equals</code> like so:</p>\n<pre><code>result.accountDetail.outs.get(&quot;Total_Before_Tax&quot;).get.find(_._1.equals(mutable.TreeMap(\n  &quot;bill_category&quot; -&gt; &quot;Total_Before_Tax&quot;,\n  &quot;bill_presentation_category&quot; -&gt; &quot;audit&quot;,\n  &quot;bill_super_category&quot; -&gt; &quot;audit_charge&quot;\n)))\n</code></pre>\n"},{"tags":["java","oop","jtable","jcombobox"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1659061793,"post_id":73161018,"comment_id":129211219,"body_markdown":"You are asking two questions here, please only focus on one at a time, and show your relevant code. Hint: 1) Add an action listener to the JCombo box to do something when a selection is made (refer to one of the many tutorials on the web, or similar question on this site). 2) Get the selected item name and use that to edit the JTable TableModel as normal (refer to one of the many tutorials on the web, or similar question on this site)","body":"You are asking two questions here, please only focus on one at a time, and show your relevant code. Hint: 1) Add an action listener to the JCombo box to do something when a selection is made (refer to one of the many tutorials on the web, or similar question on this site). 2) Get the selected item name and use that to edit the JTable TableModel as normal (refer to one of the many tutorials on the web, or similar question on this site)"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1659062517,"post_id":73161018,"comment_id":129211302,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1659104796,"post_id":73161018,"comment_id":129222548,"body_markdown":"Controlling which columns get displayed is the job of a [TableColumnModel](https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/javax/swing/JTable.html#getColumnModel()).  Note that if you are only displaying one column, you shouldnâ€™t be using a JTable at all;  you should be using a JList.","body":"Controlling which columns get displayed is the job of a <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/javax/swing/JTable.html#getColumnModel()\" rel=\"nofollow noreferrer\">TableColumnModel</a>.  Note that if you are only displaying one column, you shouldnâ€™t be using a JTable at all;  you should be using a JList."}],"owner":{"account_id":25903537,"reputation":1,"user_id":19628984,"display_name":"alli"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659061386,"creation_date":1659061372,"question_id":73161018,"body_markdown":"How can I hide columns using the jComboBox. What I want to do is that when I select an item in the jComboBox, it will display the specific column I have selected in the jTable","title":"Hide columns using JComboBox","body":"<p>How can I hide columns using the jComboBox. What I want to do is that when I select an item in the jComboBox, it will display the specific column I have selected in the jTable</p>\n"},{"tags":["java","performance","kotlin"],"comments":[{"owner":{"account_id":6897165,"reputation":7367,"user_id":5298696,"display_name":"CollinD"},"score":2,"creation_date":1659061434,"post_id":73161015,"comment_id":129211177,"body_markdown":"Have you considered just adding this code, and profiling?","body":"Have you considered just adding this code, and profiling?"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1659065468,"post_id":73161015,"comment_id":129211706,"body_markdown":"You should mostly not be logging in production code except for errors, so generally the performance impact shouldn&#39;t be a concern.","body":"You should mostly not be logging in production code except for errors, so generally the performance impact shouldn&#39;t be a concern."},{"owner":{"account_id":13722742,"reputation":16978,"user_id":10134209,"display_name":"gidds"},"score":0,"creation_date":1659346626,"post_id":73161015,"comment_id":129264866,"body_markdown":"@Tenfour04 That&#39;s not my experience at allâ€¦â€‚Of course, things should be logged at an appropriate level, so you can control how much you see from any subsystem.â€‚And it&#39;s not useful to flood the logs with too much info.â€‚But occasional info messages can help to see exactly how a system is configured, when it runs background tasks, and when important events occur.â€‚And it can be _really_ helpful to log more detailed info at debug/fine levels, so you can enable that as needed to track down tricky issues.â€‚(Frameworks like Spring Boot Actuator let you update log levels while running.)","body":"@Tenfour04 That&#39;s not my experience at allâ€¦â€‚Of course, things should be logged at an appropriate level, so you can control how much you see from any subsystem.â€‚And it&#39;s not useful to flood the logs with too much info.â€‚But occasional info messages can help to see exactly how a system is configured, when it runs background tasks, and when important events occur.â€‚And it can be <i>really</i> helpful to log more detailed info at debug/fine levels, so you can enable that as needed to track down tricky issues.â€‚(Frameworks like Spring Boot Actuator let you update log levels while running.)"},{"owner":{"account_id":13722742,"reputation":16978,"user_id":10134209,"display_name":"gidds"},"score":0,"creation_date":1659346739,"post_id":73161015,"comment_id":129264906,"body_markdown":"Logging frameworks I&#39;ve used already know the name of the method (and hence class) from which the log is made, so you should be able to display that without any extra coding.","body":"Logging frameworks I&#39;ve used already know the name of the method (and hence class) from which the log is made, so you should be able to display that without any extra coding."}],"owner":{"account_id":23724669,"reputation":301,"user_id":17744712,"display_name":"sonrohancue"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659061344,"creation_date":1659061344,"question_id":73161015,"body_markdown":"The code is\r\n\r\n```\r\n private fun inferTag(): String =\r\n        Throwable().stackTrace\r\n            .getOrElse(CALL_STACK_INDEX) {\r\n                throw IllegalStateException(&quot;Synthetic stacktrace didn&#39;t have enough elements&quot;)\r\n            }\r\n            .let {\r\n                val className =\r\n                    ANONYMOUS_CLASS_PATTERN.matcher(it.className)\r\n                        .takeIf(Matcher::find)\r\n                        ?.replaceAll(&quot;&quot;)\r\n                        ?: it.className\r\n\r\n                &quot;[${Thread.currentThread().name}] &quot; +\r\n                    &quot;${className.substringAfterLast(&quot;.&quot;)}#${it.methodName}:${it.lineNumber}&quot;\r\n            }\r\n```\r\n\r\nThe idea is that it gets the origin of the caller with every log, so that we do not need to tag our logs with the calling class. Wondering how expensive this would be if you had say 1000 logs","title":"How expensive would this function be to call with every log message in a Java/Kotlin application?","body":"<p>The code is</p>\n<pre><code> private fun inferTag(): String =\n        Throwable().stackTrace\n            .getOrElse(CALL_STACK_INDEX) {\n                throw IllegalStateException(&quot;Synthetic stacktrace didn't have enough elements&quot;)\n            }\n            .let {\n                val className =\n                    ANONYMOUS_CLASS_PATTERN.matcher(it.className)\n                        .takeIf(Matcher::find)\n                        ?.replaceAll(&quot;&quot;)\n                        ?: it.className\n\n                &quot;[${Thread.currentThread().name}] &quot; +\n                    &quot;${className.substringAfterLast(&quot;.&quot;)}#${it.methodName}:${it.lineNumber}&quot;\n            }\n</code></pre>\n<p>The idea is that it gets the origin of the caller with every log, so that we do not need to tag our logs with the calling class. Wondering how expensive this would be if you had say 1000 logs</p>\n"},{"tags":["java","gson"],"answers":[{"tags":[],"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1516986911,"creation_date":1516985743,"answer_id":48465954,"question_id":48465488,"body_markdown":"# Analysis\r\n\r\nIt seems, this is a known issue:\r\n\r\n* [Integrate with java.sql.ResultSet &#183; Issue #464 &#183; google/gson &#183; GitHub](https://github.com/google/gson/issues/464).\r\n* [error happend when converting object to json &#183; Issue #399 &#183; google/gson &#183; GitHub](https://github.com/google/gson/issues/399).\r\n\r\n# Some alternative solutions\r\n\r\n## Solution #1: Use type adapter\r\n\r\nThe recommended solution there (see the &#171;Analysis&#187; links), the workaround, is to introduce an appropriate type adapter.\r\n\r\n## Solution #2: Exclude static fields from serialization\r\n\r\nWhy not exclude the serialization of the static fields at all?\r\n\r\n    new GsonBuilder()\r\n        // ...\r\n        .excludeFieldsWithModifiers(Modifier.TRANSIENT, Modifier.STATIC)\r\n        // ...\r\n\r\n## Solution #3: Serialize `@Exposed` fields only\r\n\r\nIt is possible to explicitly expose serializable fields by using the `@Exposed` annotation and configure the `GsonBuilder` appropriately:\r\n\r\n    new GsonBuilder()\r\n        // ...\r\n        .excludeFieldsWithoutExposeAnnotation()\r\n        // ...","title":"Gson ignores serialization exclusion strategy","body":"<h1>Analysis</h1>\n\n<p>It seems, this is a known issue:</p>\n\n<ul>\n<li><a href=\"https://github.com/google/gson/issues/464\" rel=\"nofollow noreferrer\">Integrate with java.sql.ResultSet Â· Issue #464 Â· google/gson Â· GitHub</a>.</li>\n<li><a href=\"https://github.com/google/gson/issues/399\" rel=\"nofollow noreferrer\">error happend when converting object to json Â· Issue #399 Â· google/gson Â· GitHub</a>.</li>\n</ul>\n\n<h1>Some alternative solutions</h1>\n\n<h2>Solution #1: Use type adapter</h2>\n\n<p>The recommended solution there (see the Â«AnalysisÂ» links), the workaround, is to introduce an appropriate type adapter.</p>\n\n<h2>Solution #2: Exclude static fields from serialization</h2>\n\n<p>Why not exclude the serialization of the static fields at all?</p>\n\n<pre><code>new GsonBuilder()\n    // ...\n    .excludeFieldsWithModifiers(Modifier.TRANSIENT, Modifier.STATIC)\n    // ...\n</code></pre>\n\n<h2>Solution #3: Serialize <code>@Exposed</code> fields only</h2>\n\n<p>It is possible to explicitly expose serializable fields by using the <code>@Exposed</code> annotation and configure the <code>GsonBuilder</code> appropriately:</p>\n\n<pre><code>new GsonBuilder()\n    // ...\n    .excludeFieldsWithoutExposeAnnotation()\n    // ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659058956,"creation_date":1659058956,"answer_id":73160791,"question_id":48465488,"body_markdown":"The problem is that you are only calling `addSerializationExclusionStrategy`, but when Gson builds the internal reflection-based adapter it considers serialization _and deserialization_. Therefore you must also use [`GsonBuilder.addDeserializationExclusionStrategy`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/GsonBuilder.html#addDeserializationExclusionStrategy(com.google.gson.ExclusionStrategy)) to register the same exclusion strategy for deserialization.","title":"Gson ignores serialization exclusion strategy","body":"<p>The problem is that you are only calling <code>addSerializationExclusionStrategy</code>, but when Gson builds the internal reflection-based adapter it considers serialization <em>and deserialization</em>. Therefore you must also use <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/GsonBuilder.html#addDeserializationExclusionStrategy(com.google.gson.ExclusionStrategy)\" rel=\"nofollow noreferrer\"><code>GsonBuilder.addDeserializationExclusionStrategy</code></a> to register the same exclusion strategy for deserialization.</p>\n"}],"owner":{"account_id":2007569,"reputation":8114,"user_id":1797006,"accept_rate":63,"display_name":"Kalle Richter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":969,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":48465954,"answer_count":2,"score":2,"last_activity_date":1659058956,"creation_date":1516984092,"question_id":48465488,"body_markdown":"Serializing\r\n\r\n    public class Subclass extends Superclass {\r\n        private static final long serialVersionUID = 1L;\r\n        private int someProperty;\r\n\r\n        public Subclass() {\r\n        }\r\n\r\n        public Subclass(int someProperty, String myProperty) {\r\n            super(myProperty);\r\n            this.someProperty = someProperty;\r\n        }\r\n\r\n        public int getSomeProperty() {\r\n            return someProperty;\r\n        }\r\n\r\n        public void setSomeProperty(int someProperty) {\r\n            this.someProperty = someProperty;\r\n        }\r\n    }\r\n\r\nwith\r\n\r\n    public class Superclass implements Serializable {\r\n        private static final long serialVersionUID = 1L;\r\n        private String myProperty;\r\n\r\n        public Superclass() {\r\n        }\r\n\r\n        public Superclass(String myProperty) {\r\n            this.myProperty = myProperty;\r\n        }\r\n\r\n        public String getMyProperty() {\r\n            return myProperty;\r\n        }\r\n\r\n        public void setMyProperty(String myProperty) {\r\n            this.myProperty = myProperty;\r\n        }\r\n    }\r\n\r\nshouldn&#39;t fail because of\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: class richtercloud.gson.exclusion.strategy.Subclass declares multiple JSON fields named serialVersionUID\r\n\t    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:170)\r\n\t    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:100)\r\n\t    at com.google.gson.Gson.getAdapter(Gson.java:423)\r\n\t    at com.google.gson.Gson.toJson(Gson.java:661)\r\n\t    at com.google.gson.Gson.toJson(Gson.java:648)\r\n\t    at com.google.gson.Gson.toJson(Gson.java:603)\r\n\t    at com.google.gson.Gson.toJson(Gson.java:583)\r\n\t    at richtercloud.gson.exclusion.strategy.Main.main(Main.java:41)\r\n\r\nif a serialization exclusion strategy is used as follows:\r\n\r\n    Gson gson = new GsonBuilder()\r\n            .excludeFieldsWithModifiers(Modifier.TRANSIENT)\r\n            .addSerializationExclusionStrategy(new ExclusionStrategy() {\r\n                @Override\r\n                public boolean shouldSkipField(FieldAttributes f) {\r\n                    boolean retValue = f.getName().equals(&quot;serialVersionUID&quot;);\r\n                    return retValue;\r\n                }\r\n\r\n                @Override\r\n                public boolean shouldSkipClass(Class&lt;?&gt; clazz) {\r\n                    return false;\r\n                }\r\n            })\r\n            .create();\r\n    Subclass a = new Subclass();\r\n    String response = gson.toJson(a);\r\n    System.out.println(response);\r\n\r\nI&#39;m using Gson 2.8.2.","title":"Gson ignores serialization exclusion strategy","body":"<p>Serializing</p>\n\n<pre><code>public class Subclass extends Superclass {\n    private static final long serialVersionUID = 1L;\n    private int someProperty;\n\n    public Subclass() {\n    }\n\n    public Subclass(int someProperty, String myProperty) {\n        super(myProperty);\n        this.someProperty = someProperty;\n    }\n\n    public int getSomeProperty() {\n        return someProperty;\n    }\n\n    public void setSomeProperty(int someProperty) {\n        this.someProperty = someProperty;\n    }\n}\n</code></pre>\n\n<p>with</p>\n\n<pre><code>public class Superclass implements Serializable {\n    private static final long serialVersionUID = 1L;\n    private String myProperty;\n\n    public Superclass() {\n    }\n\n    public Superclass(String myProperty) {\n        this.myProperty = myProperty;\n    }\n\n    public String getMyProperty() {\n        return myProperty;\n    }\n\n    public void setMyProperty(String myProperty) {\n        this.myProperty = myProperty;\n    }\n}\n</code></pre>\n\n<p>shouldn't fail because of</p>\n\n<pre><code>Exception in thread \"main\" java.lang.IllegalArgumentException: class richtercloud.gson.exclusion.strategy.Subclass declares multiple JSON fields named serialVersionUID\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:170)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:100)\n    at com.google.gson.Gson.getAdapter(Gson.java:423)\n    at com.google.gson.Gson.toJson(Gson.java:661)\n    at com.google.gson.Gson.toJson(Gson.java:648)\n    at com.google.gson.Gson.toJson(Gson.java:603)\n    at com.google.gson.Gson.toJson(Gson.java:583)\n    at richtercloud.gson.exclusion.strategy.Main.main(Main.java:41)\n</code></pre>\n\n<p>if a serialization exclusion strategy is used as follows:</p>\n\n<pre><code>Gson gson = new GsonBuilder()\n        .excludeFieldsWithModifiers(Modifier.TRANSIENT)\n        .addSerializationExclusionStrategy(new ExclusionStrategy() {\n            @Override\n            public boolean shouldSkipField(FieldAttributes f) {\n                boolean retValue = f.getName().equals(\"serialVersionUID\");\n                return retValue;\n            }\n\n            @Override\n            public boolean shouldSkipClass(Class&lt;?&gt; clazz) {\n                return false;\n            }\n        })\n        .create();\nSubclass a = new Subclass();\nString response = gson.toJson(a);\nSystem.out.println(response);\n</code></pre>\n\n<p>I'm using Gson 2.8.2.</p>\n"},{"tags":["java","spring","cassandra"],"answers":[{"tags":[],"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659057721,"creation_date":1659057721,"answer_id":73160697,"question_id":73155897,"body_markdown":"Assuming that you have more than one replica configured on your keyspace, the most likely issue is that your replicas are out-of-sync. If your app is reading with a consistency level of `ONE` or `LOCAL_ONE`, it could be hitting a replica which doesn&#39;t have the data.\r\n\r\nFor replicas to be missing data, the nodes must get overloaded at times and drop mutations. You need to repair the nodes with a rolling `nodetool repair -pr`, one node at a time so as not to overload your cluster even more.\r\n\r\nAdditionally, we recommend that use a strong consistency of `LOCAL_QUORUM` for reads and writes. You can configure the default consistency on the Java driver with:\r\n\r\n```\r\ndatastax-java-driver {\r\n  basic.request {\r\n    consistency = LOCAL_QUORUM\r\n  }\r\n}\r\n```\r\n\r\nJust add this to your `application.conf` or `application.properties`.\r\n\r\nIf your cluster is repeatedly getting overloaded, you should consider increasing the capacity by adding more nodes. Cheers!","title":"Why does a Cassandra query sometimes return one row and sometimes null?","body":"<p>Assuming that you have more than one replica configured on your keyspace, the most likely issue is that your replicas are out-of-sync. If your app is reading with a consistency level of <code>ONE</code> or <code>LOCAL_ONE</code>, it could be hitting a replica which doesn't have the data.</p>\n<p>For replicas to be missing data, the nodes must get overloaded at times and drop mutations. You need to repair the nodes with a rolling <code>nodetool repair -pr</code>, one node at a time so as not to overload your cluster even more.</p>\n<p>Additionally, we recommend that use a strong consistency of <code>LOCAL_QUORUM</code> for reads and writes. You can configure the default consistency on the Java driver with:</p>\n<pre><code>datastax-java-driver {\n  basic.request {\n    consistency = LOCAL_QUORUM\n  }\n}\n</code></pre>\n<p>Just add this to your <code>application.conf</code> or <code>application.properties</code>.</p>\n<p>If your cluster is repeatedly getting overloaded, you should consider increasing the capacity by adding more nodes. Cheers!</p>\n"}],"owner":{"account_id":3835019,"reputation":957,"user_id":5605546,"accept_rate":83,"display_name":"Adrian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":441,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73160697,"answer_count":1,"score":0,"last_activity_date":1659057721,"creation_date":1659024384,"question_id":73155897,"body_markdown":"So I am new to Cassandra but I am experimenting some strange issues:\r\n\r\nI run this simple query from a cassandra client:\r\n\r\n```select * from emps where causality =&#39;bb4148ef-e9ff-4794-9ab2-d0e55a005d59&#39;```\r\n\r\nAnd I get one record.\r\nNow I have a java repository implementation that is running the same query without any exception or errors and I am getting &quot;null&quot; back, even if I can see that the generate query is correct\r\n\r\n```2022-07-28T18:55:19.122+0300 DEBUG Executing CQL Statement [select * from emps where causality = ?]```\r\n\r\nEven more if I remove the where statement everything is working:\r\n```select * from empswhere limit 1```\r\n\r\nHere is my repository\r\n\r\n```\r\n@Repository\r\npublic interface CassandraUserSpinRepository extends CassandraRepository&lt;Emps, String&gt; {\r\n    // works correctly \r\n    //@Query(&quot;select * from emps limit 1&quot;)\r\n    // \r\n    // returning null even if a record exist in db\r\n    // i check and causality parameter is sended correctly\r\n    @Query(&quot;select * from emps where causality = :causality&quot;)\r\n    SpinResult findByCausality(@Param(&quot;causality&quot;) String causality);\r\n}\r\n```\r\n\r\nHas anyone some idea what could be wrong here?","title":"Why does a Cassandra query sometimes return one row and sometimes null?","body":"<p>So I am new to Cassandra but I am experimenting some strange issues:</p>\n<p>I run this simple query from a cassandra client:</p>\n<p><code>select * from emps where causality ='bb4148ef-e9ff-4794-9ab2-d0e55a005d59'</code></p>\n<p>And I get one record.\nNow I have a java repository implementation that is running the same query without any exception or errors and I am getting &quot;null&quot; back, even if I can see that the generate query is correct</p>\n<p><code>2022-07-28T18:55:19.122+0300 DEBUG Executing CQL Statement [select * from emps where causality = ?]</code></p>\n<p>Even more if I remove the where statement everything is working:\n<code>select * from empswhere limit 1</code></p>\n<p>Here is my repository</p>\n<pre><code>@Repository\npublic interface CassandraUserSpinRepository extends CassandraRepository&lt;Emps, String&gt; {\n    // works correctly \n    //@Query(&quot;select * from emps limit 1&quot;)\n    // \n    // returning null even if a record exist in db\n    // i check and causality parameter is sended correctly\n    @Query(&quot;select * from emps where causality = :causality&quot;)\n    SpinResult findByCausality(@Param(&quot;causality&quot;) String causality);\n}\n</code></pre>\n<p>Has anyone some idea what could be wrong here?</p>\n"},{"tags":["java","log4j","log4j2"],"comments":[{"owner":{"account_id":1511115,"reputation":2926,"user_id":1413222,"display_name":"devwebcl"},"score":1,"creation_date":1659055638,"post_id":73160478,"comment_id":129210415,"body_markdown":"It looks log4j2 config is loaded before your class. Did you try if that property is set as a parameter when executing JRE? Also you may try using a static block {} with System.setProperty()","body":"It looks log4j2 config is loaded before your class. Did you try if that property is set as a parameter when executing JRE? Also you may try using a static block {} with System.setProperty()"},{"owner":{"account_id":1588748,"reputation":299,"user_id":1472551,"display_name":"Abhi"},"score":0,"creation_date":1659056121,"post_id":73160478,"comment_id":129210466,"body_markdown":"I tried RollingFile name=&quot;RollingFile&quot; fileName=&quot;${main:-logfilename}.log&quot; filePattern=&quot;${main:-logfilename}.log&quot;&gt; in this case log file is getting generated with name logfilename.log . Its not substituting the value set up in main method.","body":"I tried RollingFile name=&quot;RollingFile&quot; fileName=&quot;${main:-logfilename}.log&quot; filePattern=&quot;${main:-logfilename}.log&quot;&gt; in this case log file is getting generated with name logfilename.log . Its not substituting the value set up in main method."}],"owner":{"account_id":1588748,"reputation":299,"user_id":1472551,"display_name":"Abhi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659056747,"creation_date":1659054683,"question_id":73160478,"body_markdown":"My log4j2.xml looks like - \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration status=&quot;WARN&quot;&gt;\r\n        &lt;Appenders&gt;\r\n    \r\n            &lt;Console name=&quot;LogToConsole&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n                &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\r\n            &lt;/Console&gt;\r\n            &lt;RollingFile name=&quot;RollingFile&quot; fileName=&quot;logs/${sys:logfilename}.log&quot; filePattern=&quot;logs/${sys:logfilename}.log&quot;&gt;\r\n                &lt;Policies&gt;\r\n                    &lt;OnStartupTriggeringPolicy/&gt;\r\n                &lt;/Policies&gt;\r\n                &lt;DefaultRolloverStrategy fileIndex=&quot;max&quot; max=&quot;10&quot;/&gt;\r\n                &lt;PatternLayout pattern=&quot;[%d{dd/MMM/yyyy HH:mm:ss.SSS}]&gt; %-5p - %m%n&quot;/&gt;\r\n            &lt;/RollingFile&gt;\r\n    \r\n            &lt;Async name=&quot;ASYNC&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;RollingFile&quot;/&gt;\r\n            &lt;/Async&gt;\r\n    \r\n        &lt;/Appenders&gt;\r\n        &lt;Loggers&gt;\r\n    \r\n            &lt;root level=&quot;debug&quot;&gt;\r\n                &lt;appender-ref ref=&quot;LogToConsole&quot; level=&quot;info&quot;/&gt;\r\n                &lt;appender-ref ref=&quot;RollingFile&quot; level=&quot;debug&quot;/&gt;\r\n            &lt;/root&gt;\r\n        &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\nI am setting system.properties variable like - \r\n\r\n    public static void main(String[] args) throws IOException {\r\n    ---some code\r\n    System.setProperty(&quot;logfilename&quot;, &quot;a_cool_logname&quot;);\r\n    ---somecode\r\n    }\r\n\r\nBut when i run with this set up I get error like - \r\n\r\nERROR Unable to create file logs/${sys:logfilename}.log java.io.IOException: The filename, directory name, or volume label syntax is incorrect\r\n\r\nI also tried RollingFile name=&quot;RollingFile&quot; fileName=&quot;${main:-logfilename}.log&quot; filePattern=&quot;${main:-logfilename}.log&quot;&gt; in this case log file is getting generated with name logfilename.log . Its not substituting the value set up in main method.\r\n\r\nAny idea, where am I making a mistake?\r\n\r\nKind Regards,\r\n\r\nAbhi","title":"Error while reading system.properties variable in log4j2.xml","body":"<p>My log4j2.xml looks like -</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;WARN&quot;&gt;\n    &lt;Appenders&gt;\n\n        &lt;Console name=&quot;LogToConsole&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\n        &lt;/Console&gt;\n        &lt;RollingFile name=&quot;RollingFile&quot; fileName=&quot;logs/${sys:logfilename}.log&quot; filePattern=&quot;logs/${sys:logfilename}.log&quot;&gt;\n            &lt;Policies&gt;\n                &lt;OnStartupTriggeringPolicy/&gt;\n            &lt;/Policies&gt;\n            &lt;DefaultRolloverStrategy fileIndex=&quot;max&quot; max=&quot;10&quot;/&gt;\n            &lt;PatternLayout pattern=&quot;[%d{dd/MMM/yyyy HH:mm:ss.SSS}]&gt; %-5p - %m%n&quot;/&gt;\n        &lt;/RollingFile&gt;\n\n        &lt;Async name=&quot;ASYNC&quot;&gt;\n            &lt;AppenderRef ref=&quot;RollingFile&quot;/&gt;\n        &lt;/Async&gt;\n\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n\n        &lt;root level=&quot;debug&quot;&gt;\n            &lt;appender-ref ref=&quot;LogToConsole&quot; level=&quot;info&quot;/&gt;\n            &lt;appender-ref ref=&quot;RollingFile&quot; level=&quot;debug&quot;/&gt;\n        &lt;/root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>I am setting system.properties variable like -</p>\n<pre><code>public static void main(String[] args) throws IOException {\n---some code\nSystem.setProperty(&quot;logfilename&quot;, &quot;a_cool_logname&quot;);\n---somecode\n}\n</code></pre>\n<p>But when i run with this set up I get error like -</p>\n<p>ERROR Unable to create file logs/${sys:logfilename}.log java.io.IOException: The filename, directory name, or volume label syntax is incorrect</p>\n<p>I also tried RollingFile name=&quot;RollingFile&quot; fileName=&quot;${main:-logfilename}.log&quot; filePattern=&quot;${main:-logfilename}.log&quot;&gt; in this case log file is getting generated with name logfilename.log . Its not substituting the value set up in main method.</p>\n<p>Any idea, where am I making a mistake?</p>\n<p>Kind Regards,</p>\n<p>Abhi</p>\n"},{"tags":["java","android-studio","google-mlkit","pose-detection"],"comments":[{"owner":{"account_id":18396529,"reputation":321,"user_id":13400836,"display_name":"Steven"},"score":0,"creation_date":1660334839,"post_id":73160624,"comment_id":129517093,"body_markdown":"Could you also add the onComplete listener to see if it can be triggered? https://developers.google.com/android/reference/com/google/android/gms/tasks/Task#addOnCompleteListener(com.google.android.gms.tasks.OnCompleteListener%3CTResult%3E)","body":"Could you also add the onComplete listener to see if it can be triggered? <a href=\"https://developers.google.com/android/reference/com/google/android/gms/tasks/Task#addOnCompleteListener(com.google.android.gms.tasks.OnCompleteListener%3CTResult%3E)\" rel=\"nofollow noreferrer\">developers.google.com/android/reference/com/google/android/g&zwnj;&#8203;ms/&hellip;</a>"},{"owner":{"account_id":18396529,"reputation":321,"user_id":13400836,"display_name":"Steven"},"score":0,"creation_date":1660334894,"post_id":73160624,"comment_id":129517110,"body_markdown":"Also, could you make sure &quot;poseDetector.process(inputImg)&quot; is executed, e.g. adding a log right before that line to see if that part of code is reached.","body":"Also, could you make sure &quot;poseDetector.process(inputImg)&quot; is executed, e.g. adding a log right before that line to see if that part of code is reached."},{"owner":{"account_id":18396529,"reputation":321,"user_id":13400836,"display_name":"Steven"},"score":0,"creation_date":1660334911,"post_id":73160624,"comment_id":129517113,"body_markdown":"Another thing I can think about is to check logcat to see if there is any info helpful.","body":"Another thing I can think about is to check logcat to see if there is any info helpful."}],"owner":{"account_id":25448116,"reputation":1,"user_id":19250007,"display_name":"stackoverflowta8"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659056689,"creation_date":1659056689,"question_id":73160624,"body_markdown":"I am using MediaMetadataRetriever as well as MLkit to do pose detection on a saved video file. I have attached some of my code here:\r\n\r\n\r\n```\r\npublic ArrayList&lt;ArrayList&lt;Float&gt;&gt; extractPoses() throws FileNotFoundException {\r\n    //public Bitmap extractPoses() throws FileNotFoundException {\r\n\r\n        Log.e(&quot;DATA SOURCE: &quot;, videoUri.getPath());\r\n\r\n        URIPathHelper uph = new URIPathHelper();\r\n        String videoInputPath = uph.getPath(applicationContext, videoUri).toString();\r\n        File vidInputFile = new File(videoInputPath);\r\n\r\n        File inputFile = new File(vidInputFile.getAbsolutePath());\r\n        if (!inputFile.canRead()) {\r\n            throw new FileNotFoundException(&quot;Unable to read $inputFile&quot;);\r\n        }\r\n\r\n        mdr.setDataSource(inputFile.getAbsolutePath());\r\n\r\n        ArrayList&lt;ArrayList&lt;Float&gt;&gt; totalVideoPose = new ArrayList&lt;&gt;();\r\n\r\n\r\n        int count = 0;\r\n        while (true) {\r\n            try {\r\n                Bitmap bmp = mdr.getFrameAtIndex(count);\r\n\r\n                InputImage inputImg = InputImage.fromBitmap(bmp, 0);\r\n                \r\n                poseDetector.process(inputImg)\r\n                        .addOnSuccessListener(new OnSuccessListener&lt;Pose&gt;() {\r\n                            @Override\r\n                            public void onSuccess(Pose pose) {\r\n                                Log.e(&quot;POSE DETECT: &quot;, &quot;success&quot;);\r\n                                if(!(pose.getAllPoseLandmarks().isEmpty())) {\r\n                                    ArrayList&lt;Float&gt; framePoseMarks = new ArrayList&lt;Float&gt;();\r\n                                    PoseLandmark left_shoulder = pose.getPoseLandmark(PoseLandmark.LEFT_SHOULDER);\r\n\r\n                                    framePoseMarks.add(left_shoulder.getPosition().x);\r\n                                    framePoseMarks.add(left_shoulder.getPosition().y);\r\n\r\n\r\n\r\n                                    totalVideoPose.add(framePoseMarks);\r\n                                }\r\n\r\n                            }\r\n                        })\r\n                        .addOnFailureListener(new OnFailureListener() {\r\n                            @Override\r\n                            public void onFailure(@NonNull Exception e) {\r\n                                Log.e(&quot;POSE DETECT: &quot;, &quot;pose detect on failure listener&quot;);\r\n                            }\r\n                        });\r\n\r\n                Log.e(&quot;Pose processing: &quot;, &quot;incrementing count&quot;);\r\n                count++;\r\n\r\n\r\n\r\n            } catch (IllegalArgumentException e) {\r\n\r\n                Log.e(&quot;POSE DETEC:&quot;, &quot;Pose detec ended&quot;);\r\n                Log.e(&quot;POSE DETEC length: &quot;, String.valueOf(totalVideoPose.size()));\r\n\r\n                for (ArrayList&lt;Float&gt; frame: totalVideoPose) {\r\n                    Log.e(&quot;POSE DETEC SUBS: &quot;, String.valueOf(frame.size()));\r\n                }\r\n                break;\r\n\r\n\r\n            }\r\n\r\n\r\n        }\r\n        return totalVideoPose;\r\n        //return null;\r\n    }\r\n```\r\n\r\nI know the bitmaps I am using are correct, as I have displayed them in an ImageView to verify. I am not sure why neither is executing - I dont see the output for `Log.e(&quot;POSE DETECT: &quot;, &quot;success&quot;);` or for ` Log.e(&quot;POSE DETECT: &quot;, &quot;pose detect on failure listener&quot;);`. I appreciate any help and I am happy to answer any follow up questions!","title":"Google MLKit pose detection not executing onSuccessListener or onFailureListener","body":"<p>I am using MediaMetadataRetriever as well as MLkit to do pose detection on a saved video file. I have attached some of my code here:</p>\n<pre><code>public ArrayList&lt;ArrayList&lt;Float&gt;&gt; extractPoses() throws FileNotFoundException {\n    //public Bitmap extractPoses() throws FileNotFoundException {\n\n        Log.e(&quot;DATA SOURCE: &quot;, videoUri.getPath());\n\n        URIPathHelper uph = new URIPathHelper();\n        String videoInputPath = uph.getPath(applicationContext, videoUri).toString();\n        File vidInputFile = new File(videoInputPath);\n\n        File inputFile = new File(vidInputFile.getAbsolutePath());\n        if (!inputFile.canRead()) {\n            throw new FileNotFoundException(&quot;Unable to read $inputFile&quot;);\n        }\n\n        mdr.setDataSource(inputFile.getAbsolutePath());\n\n        ArrayList&lt;ArrayList&lt;Float&gt;&gt; totalVideoPose = new ArrayList&lt;&gt;();\n\n\n        int count = 0;\n        while (true) {\n            try {\n                Bitmap bmp = mdr.getFrameAtIndex(count);\n\n                InputImage inputImg = InputImage.fromBitmap(bmp, 0);\n                \n                poseDetector.process(inputImg)\n                        .addOnSuccessListener(new OnSuccessListener&lt;Pose&gt;() {\n                            @Override\n                            public void onSuccess(Pose pose) {\n                                Log.e(&quot;POSE DETECT: &quot;, &quot;success&quot;);\n                                if(!(pose.getAllPoseLandmarks().isEmpty())) {\n                                    ArrayList&lt;Float&gt; framePoseMarks = new ArrayList&lt;Float&gt;();\n                                    PoseLandmark left_shoulder = pose.getPoseLandmark(PoseLandmark.LEFT_SHOULDER);\n\n                                    framePoseMarks.add(left_shoulder.getPosition().x);\n                                    framePoseMarks.add(left_shoulder.getPosition().y);\n\n\n\n                                    totalVideoPose.add(framePoseMarks);\n                                }\n\n                            }\n                        })\n                        .addOnFailureListener(new OnFailureListener() {\n                            @Override\n                            public void onFailure(@NonNull Exception e) {\n                                Log.e(&quot;POSE DETECT: &quot;, &quot;pose detect on failure listener&quot;);\n                            }\n                        });\n\n                Log.e(&quot;Pose processing: &quot;, &quot;incrementing count&quot;);\n                count++;\n\n\n\n            } catch (IllegalArgumentException e) {\n\n                Log.e(&quot;POSE DETEC:&quot;, &quot;Pose detec ended&quot;);\n                Log.e(&quot;POSE DETEC length: &quot;, String.valueOf(totalVideoPose.size()));\n\n                for (ArrayList&lt;Float&gt; frame: totalVideoPose) {\n                    Log.e(&quot;POSE DETEC SUBS: &quot;, String.valueOf(frame.size()));\n                }\n                break;\n\n\n            }\n\n\n        }\n        return totalVideoPose;\n        //return null;\n    }\n</code></pre>\n<p>I know the bitmaps I am using are correct, as I have displayed them in an ImageView to verify. I am not sure why neither is executing - I dont see the output for <code>Log.e(&quot;POSE DETECT: &quot;, &quot;success&quot;);</code> or for <code> Log.e(&quot;POSE DETECT: &quot;, &quot;pose detect on failure listener&quot;);</code>. I appreciate any help and I am happy to answer any follow up questions!</p>\n"},{"tags":["java","hibernate","foreign-keys","one-to-many","hibernate-onetomany"],"comments":[{"owner":{"account_id":15416144,"reputation":534,"user_id":11121568,"display_name":"Soroush Shemshadi"},"score":0,"creation_date":1659030254,"post_id":73156573,"comment_id":129204606,"body_markdown":"Please try `@JoinColumn(name = &quot;client_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false)` on `private ClientEntity client;`","body":"Please try <code>@JoinColumn(name = &quot;client_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false)</code> on <code>private ClientEntity client;</code>"},{"owner":{"account_id":17730619,"reputation":167,"user_id":12873323,"display_name":"Ayshan Rzayeva"},"score":0,"creation_date":1659032042,"post_id":73156573,"comment_id":129205107,"body_markdown":"problem not solved","body":"problem not solved"}],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659054383,"creation_date":1659054383,"answer_id":73160453,"question_id":73156573,"body_markdown":"In the case of a bidirectional relationship Hibernate (or JPA implementations) cares only about the owning side of the association. The owning side is the side that doesn&#39;t have the `mappedBy` attribute.\r\n&lt;br&gt;So if we only call `clientEntity.addParcel(parcelEntity)`, the foreign key will NOT be linked to the new `ParcelEntity`, because this is not the owning /tracked side of the relation.\r\n\r\nYou need to explicitly call `parcelEntity.setClient(clientEntity)`, because that is the owning side of the relation.\r\n\r\nWhen using `mappedBy`, it is the responsibility of the developer to know what is the owning side, and update the correct side of the relation in order to trigger the persistence of the new relation in the database.\r\n\r\nSee [documentation][1] and also [JPA Specification &quot;2.9 Entity Relationships&quot;][2]\r\n\r\n&gt; If the relationship is bidirectional, the mappedBy element must be\r\n&gt; used to specify the relationship field or property of the entity that\r\n&gt; is the owner of the relationship.\r\n\r\nCorrect implementation will be:\r\n```java\r\n    @Override\r\n    public void createOrder(Long clientId, CreateParcelReq createParcelReq) {\r\n        clientRepo.findById(clientId).ifPresentOrElse(client-&gt; {\r\n            ParcelEntity parcelEntity = parcelMapper.dtoToEntity(createParcelReq);\r\n            parcelEntity.setClient(client);\r\n            client.addParcel(parcelEntity);\r\n            clientRepo.save(client);\r\n        }, ()-&gt;{throw new RuntimeException();});\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/jpa/2.1/api/javax/persistence/OneToMany.html\r\n  [2]: https://download.oracle.com/otn-pub/jcp/persistence-2.0-fr-eval-oth-JSpec/persistence-2_0-final-spec.pdf?AuthParam=1659054079_e3512db8082bfac3a2aa523ca4fdbc1c","title":"OneToMany foreign key is null","body":"<p>In the case of a bidirectional relationship Hibernate (or JPA implementations) cares only about the owning side of the association. The owning side is the side that doesn't have the <code>mappedBy</code> attribute.\n<br>So if we only call <code>clientEntity.addParcel(parcelEntity)</code>, the foreign key will NOT be linked to the new <code>ParcelEntity</code>, because this is not the owning /tracked side of the relation.</p>\n<p>You need to explicitly call <code>parcelEntity.setClient(clientEntity)</code>, because that is the owning side of the relation.</p>\n<p>When using <code>mappedBy</code>, it is the responsibility of the developer to know what is the owning side, and update the correct side of the relation in order to trigger the persistence of the new relation in the database.</p>\n<p>See <a href=\"https://docs.jboss.org/hibernate/jpa/2.1/api/javax/persistence/OneToMany.html\" rel=\"nofollow noreferrer\">documentation</a> and also <a href=\"https://download.oracle.com/otn-pub/jcp/persistence-2.0-fr-eval-oth-JSpec/persistence-2_0-final-spec.pdf?AuthParam=1659054079_e3512db8082bfac3a2aa523ca4fdbc1c\" rel=\"nofollow noreferrer\">JPA Specification &quot;2.9 Entity Relationships&quot;</a></p>\n<blockquote>\n<p>If the relationship is bidirectional, the mappedBy element must be\nused to specify the relationship field or property of the entity that\nis the owner of the relationship.</p>\n</blockquote>\n<p>Correct implementation will be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public void createOrder(Long clientId, CreateParcelReq createParcelReq) {\n        clientRepo.findById(clientId).ifPresentOrElse(client-&gt; {\n            ParcelEntity parcelEntity = parcelMapper.dtoToEntity(createParcelReq);\n            parcelEntity.setClient(client);\n            client.addParcel(parcelEntity);\n            clientRepo.save(client);\n        }, ()-&gt;{throw new RuntimeException();});\n    }\n</code></pre>\n"}],"owner":{"account_id":17730619,"reputation":167,"user_id":12873323,"display_name":"Ayshan Rzayeva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1287,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73160453,"answer_count":1,"score":2,"last_activity_date":1659054383,"creation_date":1659027493,"question_id":73156573,"body_markdown":"    public class ClientEntity {\r\n    \r\n        @Id\r\n        @Column(name=&quot;id&quot;, nullable = false, unique = true)\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sqs_clients&quot;)\r\n        @SequenceGenerator(name = &quot;sqs_clients&quot;, sequenceName = &quot;sqs_clients&quot;, allocationSize = 1)\r\n        private Long id;\r\n    \r\n        @OneToMany(mappedBy = &quot;client&quot;, cascade = CascadeType.ALL)\r\n        Set&lt;ParcelEntity&gt; parcels;\r\n    \r\n        public void addParcel(ParcelEntity parcel) {\r\n            if (parcel != null){\r\n                if (parcels == null) {\r\n                    parcels = new HashSet&lt;&gt;();\r\n                }\r\n                parcels.add(parcel);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    public class ParcelEntity {\r\n        @Id\r\n        @Column(name=&quot;id&quot;, nullable = false, unique = true)\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sqs_parcels&quot;)\r\n        @SequenceGenerator(name = &quot;sqs_parcels&quot;, sequenceName = &quot;sqs_parcels&quot;, allocationSize = 1)\r\n        private Long id;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;client_id&quot;, nullable = false)\r\n        private ClientEntity client;\r\n    \r\n    }\r\n\r\n\r\n    @Override\r\n    public void createOrder(Long clientId, CreateParcelReq createParcelReq) {\r\n        clientRepo.findById(clientId).ifPresentOrElse(client-&gt; {\r\n            client.addParcel(parcelMapper.dtoToEntity(createParcelReq));\r\n            clientRepo.save(client);\r\n        }, ()-&gt;{throw new RuntimeException();});\r\n    }\r\n\r\n\r\nI have created manyToOne relationship between parcel and client tables. Parcel entity is saved, but foreign key (clientId) is set to null in table. How can I fix it?","title":"OneToMany foreign key is null","body":"<pre><code>public class ClientEntity {\n\n    @Id\n    @Column(name=&quot;id&quot;, nullable = false, unique = true)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sqs_clients&quot;)\n    @SequenceGenerator(name = &quot;sqs_clients&quot;, sequenceName = &quot;sqs_clients&quot;, allocationSize = 1)\n    private Long id;\n\n    @OneToMany(mappedBy = &quot;client&quot;, cascade = CascadeType.ALL)\n    Set&lt;ParcelEntity&gt; parcels;\n\n    public void addParcel(ParcelEntity parcel) {\n        if (parcel != null){\n            if (parcels == null) {\n                parcels = new HashSet&lt;&gt;();\n            }\n            parcels.add(parcel);\n        }\n    }\n}\n\n\npublic class ParcelEntity {\n    @Id\n    @Column(name=&quot;id&quot;, nullable = false, unique = true)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sqs_parcels&quot;)\n    @SequenceGenerator(name = &quot;sqs_parcels&quot;, sequenceName = &quot;sqs_parcels&quot;, allocationSize = 1)\n    private Long id;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;client_id&quot;, nullable = false)\n    private ClientEntity client;\n\n}\n\n\n@Override\npublic void createOrder(Long clientId, CreateParcelReq createParcelReq) {\n    clientRepo.findById(clientId).ifPresentOrElse(client-&gt; {\n        client.addParcel(parcelMapper.dtoToEntity(createParcelReq));\n        clientRepo.save(client);\n    }, ()-&gt;{throw new RuntimeException();});\n}\n</code></pre>\n<p>I have created manyToOne relationship between parcel and client tables. Parcel entity is saved, but foreign key (clientId) is set to null in table. How can I fix it?</p>\n"},{"tags":["java","intellij-idea","wildfly","jboss7.x"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1659133967,"post_id":73160417,"comment_id":129229139,"body_markdown":"What version of WildFly or JBoss EAP are you using?","body":"What version of WildFly or JBoss EAP are you using?"},{"owner":{"account_id":22851545,"reputation":7,"user_id":16997079,"display_name":"HIZAM"},"score":0,"creation_date":1659135552,"post_id":73160417,"comment_id":129229407,"body_markdown":"EAP-7.3.0 @JamesR.Perkins","body":"EAP-7.3.0 @JamesR.Perkins"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1659137331,"post_id":73160417,"comment_id":129229680,"body_markdown":"Does `org.example.entity.MessageMapping` implement cloneable?","body":"Does <code>org.example.entity.MessageMapping</code> implement cloneable?"},{"owner":{"account_id":22851545,"reputation":7,"user_id":16997079,"display_name":"HIZAM"},"score":0,"creation_date":1659223941,"post_id":73160417,"comment_id":129243933,"body_markdown":"@JamesR.Perkins i used java 18 and actually am required to use java 9(Currently using ).Now the error am getting &quot;javax.xml.bind.JAXBException&quot; which obviously means javax is missing. I added this dependency it didn&#39;t fix the error. Ill share my POM.xml  in my next post.","body":"@JamesR.Perkins i used java 18 and actually am required to use java 9(Currently using ).Now the error am getting &quot;javax.xml.bind.JAXBException&quot; which obviously means javax is missing. I added this dependency it didn&#39;t fix the error. Ill share my POM.xml  in my next post."},{"owner":{"account_id":22851545,"reputation":7,"user_id":16997079,"display_name":"HIZAM"},"score":0,"creation_date":1659226365,"post_id":73160417,"comment_id":129244201,"body_markdown":"https://stackoverflow.com/questions/73179824/why-maven-wont-deploy-my-project-and-how-can-i-fix-this-issue","body":"<a href=\"https://stackoverflow.com/questions/73179824/why-maven-wont-deploy-my-project-and-how-can-i-fix-this-issue\" title=\"why maven wont deploy my project and how can i fix this issue\">stackoverflow.com/questions/73179824/&hellip;</a>"}],"owner":{"account_id":22851545,"reputation":7,"user_id":16997079,"display_name":"HIZAM"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659053935,"creation_date":1659053935,"question_id":73160417,"body_markdown":"  \r\n *I&#39;m trying to deploy my project but i get this error. I assumed my dependencies are incompatible with my project so i upgraded them and yet it didn&#39;t work. Another attempt i checked the class itself and it shows no error.   \r\n\r\n     Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYEE0024: Could not configure component MessageMappingRegistrator\r\n            Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected native java.lang.Object java.lang.Object.clone() throws java.lang.CloneNotSupportedException accessible: module java.base does not \\&quot;opens java.lang\\&quot; to unnamed module @44c8f505&quot;},&quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.deployment.unit.\\&quot;message_rest_servicesss-1.0-SNAPSHOT.war\\&quot;.WeldStartService&quot;,&quot;jboss.deployment.unit.\\&quot;message_rest_servicesss-1.0-SNAPSHOT.war\\&quot;.beanmanager&quot;],&quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [&quot;jboss.deployment.unit.\\&quot;message_rest_servicesss-1.0-SNAPSHOT.war\\&quot;.batch.artifact.factory is missing [jboss.deployment.unit.\\&quot;message_rest_servicesss-1.0-SNAPSHOT.war\\&quot;.beanmanager]&quot;,&quot;jboss.deployment.unit.\\&quot;message_rest_servicesss-1.0-SNAPSHOT.war\\&quot;.weld.weldClassIntrospector is missing [jboss.deployment.unit.\\&quot;message_rest_servicesss-1.0-SNAPSHOT.war\\&quot;.beanmanager, jboss.deployment.unit.\\&quot;message_rest_servicesss-1.0-SNAPSHOT.war\\&quot;.WeldStartService]&quot;]}\r\nHere is my class MessageMappingRegistrator\r\n\r\n    package org.example.entity.registrator;\r\n    \r\n    \r\n    import org.example.entity.MessageMapping;\r\n    \r\n    import javax.ejb.Stateless;\r\n    import javax.inject.Inject;\r\n    import javax.persistence.EntityManager;\r\n    import java.util.logging.Logger;\r\n    \r\n    @Stateless\r\n    public class MessageMappingRegistrator {\r\n    \r\n        @Inject\r\n        private Logger logger;\r\n    \r\n        @Inject\r\n        private EntityManager entityManager;\r\n    \r\n        public void create(MessageMapping item) {\r\n            logger.info( &quot;Created message mapping: &quot; + item);\r\n            entityManager.merge(item);\r\n        }\r\n    \r\n    \r\n            public void update(MessageMapping item){\r\n                logger.info(&quot;Updated message mapping: &quot; + item);\r\n                entityManager.merge(item);\r\n            }\r\n    \r\n    \r\n        public void delete (MessageMapping item){\r\n            logger.info(&quot;Deleted message mapping: &quot; + item);\r\n            entityManager.remove(item);\r\n            }\r\n    }\r\n*Any idea!!! thanks in advance*","title":"Why my project won&#39;t get deployed to wildfly?","body":"<p>*I'm trying to deploy my project but i get this error. I assumed my dependencies are incompatible with my project so i upgraded them and yet it didn't work. Another attempt i checked the class itself and it shows no error.</p>\n<pre><code> Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYEE0024: Could not configure component MessageMappingRegistrator\n        Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected native java.lang.Object java.lang.Object.clone() throws java.lang.CloneNotSupportedException accessible: module java.base does not \\&quot;opens java.lang\\&quot; to unnamed module @44c8f505&quot;},&quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.deployment.unit.\\&quot;message_rest_servicesss-1.0-SNAPSHOT.war\\&quot;.WeldStartService&quot;,&quot;jboss.deployment.unit.\\&quot;message_rest_servicesss-1.0-SNAPSHOT.war\\&quot;.beanmanager&quot;],&quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [&quot;jboss.deployment.unit.\\&quot;message_rest_servicesss-1.0-SNAPSHOT.war\\&quot;.batch.artifact.factory is missing [jboss.deployment.unit.\\&quot;message_rest_servicesss-1.0-SNAPSHOT.war\\&quot;.beanmanager]&quot;,&quot;jboss.deployment.unit.\\&quot;message_rest_servicesss-1.0-SNAPSHOT.war\\&quot;.weld.weldClassIntrospector is missing [jboss.deployment.unit.\\&quot;message_rest_servicesss-1.0-SNAPSHOT.war\\&quot;.beanmanager, jboss.deployment.unit.\\&quot;message_rest_servicesss-1.0-SNAPSHOT.war\\&quot;.WeldStartService]&quot;]}\n</code></pre>\n<p>Here is my class MessageMappingRegistrator</p>\n<pre><code>package org.example.entity.registrator;\n\n\nimport org.example.entity.MessageMapping;\n\nimport javax.ejb.Stateless;\nimport javax.inject.Inject;\nimport javax.persistence.EntityManager;\nimport java.util.logging.Logger;\n\n@Stateless\npublic class MessageMappingRegistrator {\n\n    @Inject\n    private Logger logger;\n\n    @Inject\n    private EntityManager entityManager;\n\n    public void create(MessageMapping item) {\n        logger.info( &quot;Created message mapping: &quot; + item);\n        entityManager.merge(item);\n    }\n\n\n        public void update(MessageMapping item){\n            logger.info(&quot;Updated message mapping: &quot; + item);\n            entityManager.merge(item);\n        }\n\n\n    public void delete (MessageMapping item){\n        logger.info(&quot;Deleted message mapping: &quot; + item);\n        entityManager.remove(item);\n        }\n}\n</code></pre>\n<p><em>Any idea!!! thanks in advance</em></p>\n"},{"tags":["java","apache-camel","jetty"],"answers":[{"tags":[],"owner":{"account_id":1832,"reputation":11572,"user_id":2517,"accept_rate":82,"display_name":"Jeremy Ross"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659053495,"creation_date":1659053495,"answer_id":73160381,"question_id":73115400,"body_markdown":"According to the documentation, camel-jetty only supports consumer endpoints, so I&#39;m not sure how you&#39;re sending a request, unless you&#39;re still on Camel 2.x. \r\n\r\nIn any case, there is a [requestHeaderSize](https://camel.apache.org/components/3.18.x/jetty-component.html#_component_option_requestHeaderSize) option which may help.","title":"apache-camel | camel-jetty | How to extend request header size","body":"<p>According to the documentation, camel-jetty only supports consumer endpoints, so I'm not sure how you're sending a request, unless you're still on Camel 2.x.</p>\n<p>In any case, there is a <a href=\"https://camel.apache.org/components/3.18.x/jetty-component.html#_component_option_requestHeaderSize\" rel=\"nofollow noreferrer\">requestHeaderSize</a> option which may help.</p>\n"}],"owner":{"account_id":3141186,"reputation":93,"user_id":2656622,"display_name":"Rainer Bonn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":409,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659053495,"creation_date":1658783506,"question_id":73115400,"body_markdown":"I want to send a http-get-request with camel-jetty.\r\nThere are two mandatory headers, which contain Bearer-tokens.\r\nWhen the request is sent an error happens on jetty-client-side:\r\n\r\n    org.apache.camel.CamelExchangeException: JettyClient failed cause by: 500: Request header too large. Exchange[ID-BE1HL631-1658772224692-0-1]. Caused by: [org.eclipse.jetty.http.BadMessageException - 500: Request header too large]\r\n        at org.apache.camel.component.jetty9.JettyContentExchange9.doTaskCompleted(JettyContentExchange9.java:162) ~[camel-jetty9-2.22.2.jar:2.22.2]\r\n        at org.apache.camel.component.jetty9.JettyContentExchange9.onConnectionFailed(JettyContentExchange9.java:128) ~[camel-jetty9-2.22.2.jar:2.22.2]\r\n        at org.apache.camel.component.jetty9.JettyContentExchange9$1.onFailure(JettyContentExchange9.java:223) ~[camel-jetty9-2.22.2.jar:2.22.2]\r\n        at org.eclipse.jetty.client.RequestNotifier.notifyFailure(RequestNotifier.java:253) ~[jetty-client-9.4.44.v20210927.jar:9.4.44.v20210927]\r\n        at org.eclipse.jetty.client.RequestNotifier.notifyFailure(RequestNotifier.java:239) ~[jetty-client-9.4.44.v20210927.jar:9.4.44.v20210927]\r\n        at org.eclipse.jetty.client.HttpSender.abort(HttpSender.java:567) ~[jetty-client-9.4.44.v20210927.jar:9.4.44.v20210927]\r\n        at org.eclipse.jetty.client.HttpSender.lambda$executeAbort$0(HttpSender.java:361) ~[jetty-client-9.4.44.v20210927.jar:9.4.44.v20210927]\r\n        at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883) ~[jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927]\r\n        at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034) ~[jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927]\r\n        at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\r\n    Caused by: org.eclipse.jetty.http.BadMessageException: 500: Request header too large\r\n            at org.eclipse.jetty.client.http.HttpSenderOverHTTP$HeadersCallback.process(HttpSenderOverHTTP.java:235) ~[jetty-client-9.4.44.v20210927.jar:9.4.44.v20210927]\r\n            at org.eclipse.jetty.util.IteratingCallback.processing(IteratingCallback.java:241) ~[jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927]\r\n            at org.eclipse.jetty.util.IteratingCallback.iterate(IteratingCallback.java:223) ~[jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927]\r\n            at org.eclipse.jetty.client.http.HttpSenderOverHTTP.sendHeaders(HttpSenderOverHTTP.java:65) ~[jetty-client-9.4.44.v20210927.jar:9.4.44.v20210927]\r\n            at org.eclipse.jetty.client.HttpSender.send(HttpSender.java:212) ~[jetty-client-9.4.44.v20210927.jar:9.4.44.v20210927]\r\n            at org.eclipse.jetty.client.http.HttpChannelOverHTTP.send(HttpChannelOverHTTP.java:84) ~[jetty-client-9.4.44.v20210927.jar:9.4.44.v20210927]\r\n            at org.eclipse.jetty.client.HttpChannel.send(HttpChannel.java:125) ~[jetty-client-9.4.44.v20210927.jar:9.4.44.v20210927]\r\n            at org.eclipse.jetty.client.HttpConnection.send(HttpConnection.java:241) ~[jetty-client-9.4.44.v20210927.jar:9.4.44.v20210927]\r\n            at org.eclipse.jetty.client.http.HttpConnectionOverHTTP$Delegate.send(HttpConnectionOverHTTP.java:269) ~[jetty-client-9.4.44.v20210927.jar:9.4.44.v20210927]\r\n            at org.eclipse.jetty.client.http.HttpConnectionOverHTTP.send(HttpConnectionOverHTTP.java:125) ~[jetty-client-9.4.44.v20210927.jar:9.4.44.v20210927]\r\n            at org.eclipse.jetty.client.http.HttpDestinationOverHTTP.send(HttpDestinationOverHTTP.java:38) ~[jetty-client-9.4.44.v20210927.jar:9.4.44.v20210927]\r\n            at org.eclipse.jetty.client.HttpDestination.process(HttpDestination.java:377) ~[jetty-client-9.4.44.v20210927.jar:9.4.44.v20210927]\r\n            at org.eclipse.jetty.client.HttpDestination.process(HttpDestination.java:332) ~[jetty-client-9.4.44.v20210927.jar:9.4.44.v20210927]\r\n            at org.eclipse.jetty.client.HttpDestination.send(HttpDestination.java:311) ~[jetty-client-9.4.44.v20210927.jar:9.4.44.v20210927]\r\n            at org.eclipse.jetty.client.HttpDestination.succeeded(HttpDestination.java:246) ~[jetty-client-9.4.44.v20210927.jar:9.4.44.v20210927]\r\n            at org.eclipse.jetty.client.AbstractConnectionPool.proceed(AbstractConnectionPool.java:319) ~[jetty-client-9.4.44.v20210927.jar:9.4.44.v20210927]\r\n            at org.eclipse.jetty.client.AbstractConnectionPool$FutureConnection.succeeded(AbstractConnectionPool.java:539) ~[jetty-client-9.4.44.v20210927.jar:9.4.44.v20210927]\r\n            at org.eclipse.jetty.client.AbstractConnectionPool$FutureConnection.succeeded(AbstractConnectionPool.java:517) ~[jetty-client-9.4.44.v20210927.jar:9.4.44.v20210927]\r\n            at org.eclipse.jetty.util.Promise$Wrapper.succeeded(Promise.java:130) ~[jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927]\r\n            at org.eclipse.jetty.client.http.HttpConnectionOverHTTP.onOpen(HttpConnectionOverHTTP.java:133) ~[jetty-client-9.4.44.v20210927.jar:9.4.44.v20210927]\r\n            at org.eclipse.jetty.io.SelectorManager.connectionOpened(SelectorManager.java:324) ~[jetty-io-9.4.44.v20210927.jar:9.4.44.v20210927]\r\n            at org.eclipse.jetty.io.ManagedSelector.createEndPoint(ManagedSelector.java:402) ~[jetty-io-9.4.44.v20210927.jar:9.4.44.v20210927]\r\n            at org.eclipse.jetty.io.ManagedSelector.access$2100(ManagedSelector.java:65) ~[jetty-io-9.4.44.v20210927.jar:9.4.44.v20210927]\r\n            at org.eclipse.jetty.io.ManagedSelector$CreateEndPoint.run(ManagedSelector.java:1069) ~[jetty-io-9.4.44.v20210927.jar:9.4.44.v20210927]\r\n            ... 3 common frames omitted\r\n\r\nIf I just send one of the headers (doesn&#39;t matter which one), it works properly.\r\nI already tried to create a separate JettyHttpComponent9 and set RequestHeaderSize and RequestBufferSize, but obviously it doesn&#39;t work.\r\n\r\nWorkaround is to use camel-http4.","title":"apache-camel | camel-jetty | How to extend request header size","body":"<p>I want to send a http-get-request with camel-jetty.\nThere are two mandatory headers, which contain Bearer-tokens.\nWhen the request is sent an error happens on jetty-client-side:</p>\n<pre><code>org.apache.camel.CamelExchangeException: JettyClient failed cause by: 500: Request header too large. Exchange[ID-BE1HL631-1658772224692-0-1]. Caused by: [org.eclipse.jetty.http.BadMessageException - 500: Request header too large]\n    at org.apache.camel.component.jetty9.JettyContentExchange9.doTaskCompleted(JettyContentExchange9.java:162) ~[camel-jetty9-2.22.2.jar:2.22.2]\n    at org.apache.camel.component.jetty9.JettyContentExchange9.onConnectionFailed(JettyContentExchange9.java:128) ~[camel-jetty9-2.22.2.jar:2.22.2]\n    at org.apache.camel.component.jetty9.JettyContentExchange9$1.onFailure(JettyContentExchange9.java:223) ~[camel-jetty9-2.22.2.jar:2.22.2]\n    at org.eclipse.jetty.client.RequestNotifier.notifyFailure(RequestNotifier.java:253) ~[jetty-client-9.4.44.v20210927.jar:9.4.44.v20210927]\n    at org.eclipse.jetty.client.RequestNotifier.notifyFailure(RequestNotifier.java:239) ~[jetty-client-9.4.44.v20210927.jar:9.4.44.v20210927]\n    at org.eclipse.jetty.client.HttpSender.abort(HttpSender.java:567) ~[jetty-client-9.4.44.v20210927.jar:9.4.44.v20210927]\n    at org.eclipse.jetty.client.HttpSender.lambda$executeAbort$0(HttpSender.java:361) ~[jetty-client-9.4.44.v20210927.jar:9.4.44.v20210927]\n    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883) ~[jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927]\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034) ~[jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927]\n    at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\nCaused by: org.eclipse.jetty.http.BadMessageException: 500: Request header too large\n        at org.eclipse.jetty.client.http.HttpSenderOverHTTP$HeadersCallback.process(HttpSenderOverHTTP.java:235) ~[jetty-client-9.4.44.v20210927.jar:9.4.44.v20210927]\n        at org.eclipse.jetty.util.IteratingCallback.processing(IteratingCallback.java:241) ~[jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927]\n        at org.eclipse.jetty.util.IteratingCallback.iterate(IteratingCallback.java:223) ~[jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927]\n        at org.eclipse.jetty.client.http.HttpSenderOverHTTP.sendHeaders(HttpSenderOverHTTP.java:65) ~[jetty-client-9.4.44.v20210927.jar:9.4.44.v20210927]\n        at org.eclipse.jetty.client.HttpSender.send(HttpSender.java:212) ~[jetty-client-9.4.44.v20210927.jar:9.4.44.v20210927]\n        at org.eclipse.jetty.client.http.HttpChannelOverHTTP.send(HttpChannelOverHTTP.java:84) ~[jetty-client-9.4.44.v20210927.jar:9.4.44.v20210927]\n        at org.eclipse.jetty.client.HttpChannel.send(HttpChannel.java:125) ~[jetty-client-9.4.44.v20210927.jar:9.4.44.v20210927]\n        at org.eclipse.jetty.client.HttpConnection.send(HttpConnection.java:241) ~[jetty-client-9.4.44.v20210927.jar:9.4.44.v20210927]\n        at org.eclipse.jetty.client.http.HttpConnectionOverHTTP$Delegate.send(HttpConnectionOverHTTP.java:269) ~[jetty-client-9.4.44.v20210927.jar:9.4.44.v20210927]\n        at org.eclipse.jetty.client.http.HttpConnectionOverHTTP.send(HttpConnectionOverHTTP.java:125) ~[jetty-client-9.4.44.v20210927.jar:9.4.44.v20210927]\n        at org.eclipse.jetty.client.http.HttpDestinationOverHTTP.send(HttpDestinationOverHTTP.java:38) ~[jetty-client-9.4.44.v20210927.jar:9.4.44.v20210927]\n        at org.eclipse.jetty.client.HttpDestination.process(HttpDestination.java:377) ~[jetty-client-9.4.44.v20210927.jar:9.4.44.v20210927]\n        at org.eclipse.jetty.client.HttpDestination.process(HttpDestination.java:332) ~[jetty-client-9.4.44.v20210927.jar:9.4.44.v20210927]\n        at org.eclipse.jetty.client.HttpDestination.send(HttpDestination.java:311) ~[jetty-client-9.4.44.v20210927.jar:9.4.44.v20210927]\n        at org.eclipse.jetty.client.HttpDestination.succeeded(HttpDestination.java:246) ~[jetty-client-9.4.44.v20210927.jar:9.4.44.v20210927]\n        at org.eclipse.jetty.client.AbstractConnectionPool.proceed(AbstractConnectionPool.java:319) ~[jetty-client-9.4.44.v20210927.jar:9.4.44.v20210927]\n        at org.eclipse.jetty.client.AbstractConnectionPool$FutureConnection.succeeded(AbstractConnectionPool.java:539) ~[jetty-client-9.4.44.v20210927.jar:9.4.44.v20210927]\n        at org.eclipse.jetty.client.AbstractConnectionPool$FutureConnection.succeeded(AbstractConnectionPool.java:517) ~[jetty-client-9.4.44.v20210927.jar:9.4.44.v20210927]\n        at org.eclipse.jetty.util.Promise$Wrapper.succeeded(Promise.java:130) ~[jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927]\n        at org.eclipse.jetty.client.http.HttpConnectionOverHTTP.onOpen(HttpConnectionOverHTTP.java:133) ~[jetty-client-9.4.44.v20210927.jar:9.4.44.v20210927]\n        at org.eclipse.jetty.io.SelectorManager.connectionOpened(SelectorManager.java:324) ~[jetty-io-9.4.44.v20210927.jar:9.4.44.v20210927]\n        at org.eclipse.jetty.io.ManagedSelector.createEndPoint(ManagedSelector.java:402) ~[jetty-io-9.4.44.v20210927.jar:9.4.44.v20210927]\n        at org.eclipse.jetty.io.ManagedSelector.access$2100(ManagedSelector.java:65) ~[jetty-io-9.4.44.v20210927.jar:9.4.44.v20210927]\n        at org.eclipse.jetty.io.ManagedSelector$CreateEndPoint.run(ManagedSelector.java:1069) ~[jetty-io-9.4.44.v20210927.jar:9.4.44.v20210927]\n        ... 3 common frames omitted\n</code></pre>\n<p>If I just send one of the headers (doesn't matter which one), it works properly.\nI already tried to create a separate JettyHttpComponent9 and set RequestHeaderSize and RequestBufferSize, but obviously it doesn't work.</p>\n<p>Workaround is to use camel-http4.</p>\n"},{"tags":["java","encode"],"comments":[{"owner":{"account_id":252590,"reputation":6115,"user_id":530734,"display_name":"Peter Svensson"},"score":1,"creation_date":1329247937,"post_id":9282990,"comment_id":11704632,"body_markdown":"Did you try to search for it? Duplicate? http://stackoverflow.com/questions/361975/setting-the-default-java-character-encoding","body":"Did you try to search for it? Duplicate? <a href=\"http://stackoverflow.com/questions/361975/setting-the-default-java-character-encoding\" title=\"setting the default java character encoding\">stackoverflow.com/questions/361975/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":123958,"reputation":109285,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1329257920,"creation_date":1329252188,"answer_id":9283901,"question_id":9282990,"body_markdown":"No, there is no practical way to change it. In OpenJDK for instance the default charset is read from the `file.encoding` system property pretty much when the virtual machine starts and it gets stored in a private static field in the `Charset` class. If you need to use a different encoding you should use the classes that allow specifying the encodings.\r\n\r\nYou may be able to hack your way in by changing private fields through reflection. This is something you may try if you really, **really**, have no other option. You are targeting your code to specific versions of specific JVMs, and it&#39;ll likely not work on others. This is how you would change the default charset in current versions of OpenJDK:\r\n\r\n    import java.nio.charset.Charset;\r\n    import java.lang.reflect.*;\r\n\r\n    public class test {\r\n        public static void main(String[] args) throws Exception {\r\n            System.out.println(Charset.defaultCharset());\r\n            magic(&quot;latin2&quot;);\r\n            System.out.println(Charset.defaultCharset());\r\n        }\r\n\r\n        private static void magic(String s) throws Exception {\r\n            Class&lt;Charset&gt; c = Charset.class;\r\n            Field defaultCharsetField = c.getDeclaredField(&quot;defaultCharset&quot;);\r\n            defaultCharsetField.setAccessible(true);\r\n            defaultCharsetField.set(null, Charset.forName(s));\r\n            // now open System.out and System.err with the new charset, if needed\r\n        }\r\n    }\r\n","title":"Update default charset encoding during runtime in java?","body":"<p>No, there is no practical way to change it. In OpenJDK for instance the default charset is read from the <code>file.encoding</code> system property pretty much when the virtual machine starts and it gets stored in a private static field in the <code>Charset</code> class. If you need to use a different encoding you should use the classes that allow specifying the encodings.</p>\n\n<p>You may be able to hack your way in by changing private fields through reflection. This is something you may try if you really, <strong>really</strong>, have no other option. You are targeting your code to specific versions of specific JVMs, and it'll likely not work on others. This is how you would change the default charset in current versions of OpenJDK:</p>\n\n<pre><code>import java.nio.charset.Charset;\nimport java.lang.reflect.*;\n\npublic class test {\n    public static void main(String[] args) throws Exception {\n        System.out.println(Charset.defaultCharset());\n        magic(\"latin2\");\n        System.out.println(Charset.defaultCharset());\n    }\n\n    private static void magic(String s) throws Exception {\n        Class&lt;Charset&gt; c = Charset.class;\n        Field defaultCharsetField = c.getDeclaredField(\"defaultCharset\");\n        defaultCharsetField.setAccessible(true);\n        defaultCharsetField.set(null, Charset.forName(s));\n        // now open System.out and System.err with the new charset, if needed\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9027978,"reputation":47,"user_id":8485802,"display_name":"Heverton Silva Cruz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659053458,"creation_date":1659053458,"answer_id":73160373,"question_id":9282990,"body_markdown":"Solved, relacionations: Today Every time I try to run and build I get the following error message... To Solve accessible: module java.base does not â€œopens java.ioâ€ to unnamed module Error Just downgrade JDK 16 to JDK 15 ...\r\n\r\nhttps://exerror.com/accessible-module-java-base-does-not-opens-java-io-to-unnamed-module/","title":"Update default charset encoding during runtime in java?","body":"<p>Solved, relacionations: Today Every time I try to run and build I get the following error message... To Solve accessible: module java.base does not â€œopens java.ioâ€ to unnamed module Error Just downgrade JDK 16 to JDK 15 ...</p>\n<p><a href=\"https://exerror.com/accessible-module-java-base-does-not-opens-java-io-to-unnamed-module/\" rel=\"nofollow noreferrer\">https://exerror.com/accessible-module-java-base-does-not-opens-java-io-to-unnamed-module/</a></p>\n"}],"owner":{"account_id":428765,"reputation":11,"user_id":811300,"display_name":"John Kramer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3325,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659053458,"creation_date":1329247724,"question_id":9282990,"body_markdown":"Is there anyway to update the default charset encoding during runtime in java? thanks,","title":"Update default charset encoding during runtime in java?","body":"<p>Is there anyway to update the default charset encoding during runtime in java? thanks,</p>\n"},{"tags":["java","checksum"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1659045177,"post_id":73159452,"comment_id":129208752,"body_markdown":"Did you investigate the final &quot;caused by...&quot; in your stack trace? `Caused by: java.io.FileNotFoundException: C:\\Users\\marce\\Downloads\\CS 305 Module Five Checksum Verification Assignment Code\\module5_skel_student\\keystore.p12 (The system cannot find the file specified)`","body":"Did you investigate the final &quot;caused by...&quot; in your stack trace? <code>Caused by: java.io.FileNotFoundException: C:\\Users\\marce\\Downloads\\CS 305 Module Five Checksum Verification Assignment Code\\module5_skel_student\\keystore.p12 (The system cannot find the file specified)</code>"}],"answers":[{"tags":[],"owner":{"account_id":14374372,"reputation":758,"user_id":10388146,"display_name":"kamyar haqqani"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1659045726,"creation_date":1659045726,"answer_id":73159660,"question_id":73159452,"body_markdown":"your server is failing to init the ssl layer because its lacking &quot;keystore.p12&quot; file. generate/obtain this file and put it in the relevant location (which is probably C:\\Users\\marce\\Downloads\\CS 305 Module Five Checksum Verification Assignment Code\\module5_skel_student\\ ) then proceed again. you can also disable SSL altogether.","title":"Unable to run CheckSum Verification","body":"<p>your server is failing to init the ssl layer because its lacking &quot;keystore.p12&quot; file. generate/obtain this file and put it in the relevant location (which is probably C:\\Users\\marce\\Downloads\\CS 305 Module Five Checksum Verification Assignment Code\\module5_skel_student\\ ) then proceed again. you can also disable SSL altogether.</p>\n"}],"owner":{"account_id":25399218,"reputation":59,"user_id":19209006,"display_name":"MachoMan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1060,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":73159660,"answer_count":1,"score":1,"last_activity_date":1659053185,"creation_date":1659044250,"question_id":73159452,"body_markdown":"I am trying to generate a checksum, but whenever I try running the Java code, it prints some errors before terminating. Here is my code:\r\n\r\nServerApplication.java\r\n\r\n    package com.snhu.sslserver;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import java.security.MessageDigest;\r\n    import java.security.NoSuchAlgorithmException;\r\n\r\n\r\n    @SpringBootApplication\r\n    public class ServerApplication {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t    SpringApplication.run(ServerApplication.class, args);\r\n\t    }\r\n    }\r\n\r\n    @RestController\r\n    class ServerController {\r\n\t\r\n    //FIXME:  Add hash function to return the checksum value for the data string that should \r\n    contain your name.    \r\n    @RequestMapping(&quot;/hash&quot;)\r\n    public String myHash() {\r\n    \tMessageDigest messageDigest = null; // Create an object of MessageDigest class\r\n    \tString data = &quot;Vincent Garza&quot;;\r\n    \tString checkSum = null;\r\n    \ttry {\r\n    \t\t// Initialize MessageDigest object with SHA-256 \r\n    \t\tmessageDigest = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n    \t} catch (NoSuchAlgorithmException e) {\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    \t// Use the digest() method of the class to generate a hash value of byte type from the unique data string\r\n    \tmessageDigest.update(data.getBytes()); // pass data to messageDigest\r\n    \tbyte[] digest = messageDigest.digest(); // compute messageDigest\r\n    \tcheckSum = this.bytesToHex(digest); // create hash value\r\n       \r\n    \t// return formatted string\r\n        return &quot;&lt;p&gt;data:&quot;+data+&quot;&lt;br&gt;name of the algorithm cipher used: SHA-256&quot; + &quot; &lt;br&gt;Checksum hash value: &quot;+checkSum+ &quot;&lt;/p&gt;&quot;;\r\n        }\r\n\r\n        // Converts a byte array to a hexadecimal string\r\n        public String bytesToHex(byte[] bytes) {\r\n           StringBuilder springBuilder = new StringBuilder();\r\n           // loop through byte array\r\n           for (byte hashByte : bytes) {\r\n               int intVal = 0xff &amp; hashByte;\r\n               if (intVal &lt; 0x10) {\r\n         \t       springBuilder.append(&#39;0&#39;);\t// append elements\r\n               }\r\n               springBuilder.append(Integer.toHexString(intVal));\r\n            }\r\n            return springBuilder.toString();\t\t// return hexadecimal string\r\n        }\r\n    }\r\n\r\npom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n    https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.snhu&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;ssl-server&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;ssl-server&lt;/name&gt;\r\n\t&lt;description&gt;ssl-server skeleton for CS-305&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n    &lt;/project&gt;\r\n\r\nErrors in Console\r\n\r\n              .   ____          _            __ _ _\r\n         /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n        ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n         \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n          &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n         =========|_|==============|___/=/_/_/_/\r\n         :: Spring Boot ::        (v2.2.4.RELEASE)\r\n    \r\n        2022-07-28 15:54:22.783  INFO 24856 --- [           main] \r\n        com.snhu.sslserver.ServerApplication     : Starting ServerApplication on MSI with PID \r\n        24856 (started by marce in C:\\Users\\marce\\Downloads\\CS 305 Module Five Checksum \r\n        Verification Assignment Code\\module5_skel_student)\r\n    2022-07-28 15:54:22.786  INFO 24856 --- [           main] com.snhu.sslserver.ServerApplication     : No active profile set, falling back to default profiles: default\r\n    2022-07-28 15:54:23.884  INFO 24856 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https)\r\n    2022-07-28 15:54:23.892  INFO 24856 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2022-07-28 15:54:23.892  INFO 24856 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.30]\r\n    2022-07-28 15:54:23.985  INFO 24856 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2022-07-28 15:54:23.985  INFO 24856 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1160 ms\r\n    2022-07-28 15:54:24.502  INFO 24856 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService &#39;applicationTaskExecutor&#39;\r\n    2022-07-28 15:54:24.905  INFO 24856 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    2022-07-28 15:54:24.911  INFO 24856 --- [           main] ConditionEvaluationReportLoggingListener : \r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2022-07-28 15:54:24.914 ERROR 24856 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:215) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.startWebServer(ServletWebServerApplicationContext.java:297) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.finishRefresh(ServletWebServerApplicationContext.java:163) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:553) ~[spring-context-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n    \tat com.snhu.sslserver.ServerApplication.main(ServerApplication.java:15) ~[classes/:na]\r\n    Caused by: java.lang.IllegalArgumentException: standardService.connector.startFailed\r\n    \tat org.apache.catalina.core.StandardService.addConnector(StandardService.java:231) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:278) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:197) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n    \t... 10 common frames omitted\r\n    Caused by: org.apache.catalina.LifecycleException: Protocol handler start failed\r\n    \tat org.apache.catalina.connector.Connector.startInternal(Connector.java:1008) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \tat org.apache.catalina.core.StandardService.addConnector(StandardService.java:227) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \t... 12 common frames omitted\r\n    Caused by: java.lang.IllegalArgumentException: C:\\Users\\marce\\Downloads\\CS 305 Module Five Checksum Verification Assignment Code\\module5_skel_student\\keystore.p12 (The system cannot find the file specified)\r\n    \tat org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:99) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \tat org.apache.tomcat.util.net.AbstractJsseEndpoint.initialiseSsl(AbstractJsseEndpoint.java:71) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:217) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \tat org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1141) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \tat org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1227) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \tat org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:586) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \tat org.apache.catalina.connector.Connector.startInternal(Connector.java:1005) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \t... 14 common frames omitted\r\n    Caused by: java.io.FileNotFoundException: C:\\Users\\marce\\Downloads\\CS 305 Module Five Checksum Verification Assignment Code\\module5_skel_student\\keystore.p12 (The system cannot find the file specified)\r\n    \tat java.base/java.io.FileInputStream.open0(Native Method) ~[na:na]\r\n    \tat java.base/java.io.FileInputStream.open(FileInputStream.java:211) ~[na:na]\r\n    \tat java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:153) ~[na:na]\r\n    \tat java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:108) ~[na:na]\r\n    \tat java.base/sun.net.www.protocol.file.FileURLConnection.connect(FileURLConnection.java:86) ~[na:na]\r\n    \tat java.base/sun.net.www.protocol.file.FileURLConnection.getInputStream(FileURLConnection.java:189) ~[na:na]\r\n    \tat org.apache.catalina.startup.CatalinaBaseConfigurationSource.getResource(CatalinaBaseConfigurationSource.java:116) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \tat org.apache.tomcat.util.net.SSLUtilBase.getStore(SSLUtilBase.java:198) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \tat org.apache.tomcat.util.net.SSLHostConfigCertificate.getCertificateKeystore(SSLHostConfigCertificate.java:206) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \tat org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:283) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \tat org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:247) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \tat org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:97) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \t... 20 common frames omitted\r\n    \r\n    2022-07-28 15:54:24.917  INFO 24856 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService &#39;applicationTaskExecutor&#39;\r\n\r\n\r\n\r\n\r\n\r\nCan someone help me with this? I have tried fixing the problem involving TomCat but the solutions I get are to replace the port number with something else. But I don&#39;t see a port number in my code.\r\n\r\n","title":"Unable to run CheckSum Verification","body":"<p>I am trying to generate a checksum, but whenever I try running the Java code, it prints some errors before terminating. Here is my code:</p>\n<p>ServerApplication.java</p>\n<pre><code>package com.snhu.sslserver;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport java.security.MessageDigest;\nimport java.security.NoSuchAlgorithmException;\n\n\n@SpringBootApplication\npublic class ServerApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ServerApplication.class, args);\n    }\n}\n\n@RestController\nclass ServerController {\n\n//FIXME:  Add hash function to return the checksum value for the data string that should \ncontain your name.    \n@RequestMapping(&quot;/hash&quot;)\npublic String myHash() {\n    MessageDigest messageDigest = null; // Create an object of MessageDigest class\n    String data = &quot;Vincent Garza&quot;;\n    String checkSum = null;\n    try {\n        // Initialize MessageDigest object with SHA-256 \n        messageDigest = MessageDigest.getInstance(&quot;SHA-256&quot;);\n    } catch (NoSuchAlgorithmException e) {\n        e.printStackTrace();\n    }\n    // Use the digest() method of the class to generate a hash value of byte type from the unique data string\n    messageDigest.update(data.getBytes()); // pass data to messageDigest\n    byte[] digest = messageDigest.digest(); // compute messageDigest\n    checkSum = this.bytesToHex(digest); // create hash value\n   \n    // return formatted string\n    return &quot;&lt;p&gt;data:&quot;+data+&quot;&lt;br&gt;name of the algorithm cipher used: SHA-256&quot; + &quot; &lt;br&gt;Checksum hash value: &quot;+checkSum+ &quot;&lt;/p&gt;&quot;;\n    }\n\n    // Converts a byte array to a hexadecimal string\n    public String bytesToHex(byte[] bytes) {\n       StringBuilder springBuilder = new StringBuilder();\n       // loop through byte array\n       for (byte hashByte : bytes) {\n           int intVal = 0xff &amp; hashByte;\n           if (intVal &lt; 0x10) {\n               springBuilder.append('0');   // append elements\n           }\n           springBuilder.append(Integer.toHexString(intVal));\n        }\n        return springBuilder.toString();        // return hexadecimal string\n    }\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \nhttps://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.snhu&lt;/groupId&gt;\n&lt;artifactId&gt;ssl-server&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;ssl-server&lt;/name&gt;\n&lt;description&gt;ssl-server skeleton for CS-305&lt;/description&gt;\n\n&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Errors in Console</p>\n<pre><code>          .   ____          _            __ _ _\n     /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n    ( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n      '  |____| .__|_| |_|_| |_\\__, | / / / /\n     =========|_|==============|___/=/_/_/_/\n     :: Spring Boot ::        (v2.2.4.RELEASE)\n\n    2022-07-28 15:54:22.783  INFO 24856 --- [           main] \n    com.snhu.sslserver.ServerApplication     : Starting ServerApplication on MSI with PID \n    24856 (started by marce in C:\\Users\\marce\\Downloads\\CS 305 Module Five Checksum \n    Verification Assignment Code\\module5_skel_student)\n2022-07-28 15:54:22.786  INFO 24856 --- [           main] com.snhu.sslserver.ServerApplication     : No active profile set, falling back to default profiles: default\n2022-07-28 15:54:23.884  INFO 24856 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https)\n2022-07-28 15:54:23.892  INFO 24856 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-07-28 15:54:23.892  INFO 24856 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.30]\n2022-07-28 15:54:23.985  INFO 24856 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-07-28 15:54:23.985  INFO 24856 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1160 ms\n2022-07-28 15:54:24.502  INFO 24856 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'\n2022-07-28 15:54:24.905  INFO 24856 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2022-07-28 15:54:24.911  INFO 24856 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-07-28 15:54:24.914 ERROR 24856 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:215) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.startWebServer(ServletWebServerApplicationContext.java:297) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.finishRefresh(ServletWebServerApplicationContext.java:163) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:553) ~[spring-context-5.2.3.RELEASE.jar:5.2.3.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at com.snhu.sslserver.ServerApplication.main(ServerApplication.java:15) ~[classes/:na]\nCaused by: java.lang.IllegalArgumentException: standardService.connector.startFailed\n    at org.apache.catalina.core.StandardService.addConnector(StandardService.java:231) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:278) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:197) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    ... 10 common frames omitted\nCaused by: org.apache.catalina.LifecycleException: Protocol handler start failed\n    at org.apache.catalina.connector.Connector.startInternal(Connector.java:1008) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.catalina.core.StandardService.addConnector(StandardService.java:227) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    ... 12 common frames omitted\nCaused by: java.lang.IllegalArgumentException: C:\\Users\\marce\\Downloads\\CS 305 Module Five Checksum Verification Assignment Code\\module5_skel_student\\keystore.p12 (The system cannot find the file specified)\n    at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:99) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.tomcat.util.net.AbstractJsseEndpoint.initialiseSsl(AbstractJsseEndpoint.java:71) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:217) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1141) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1227) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:586) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.catalina.connector.Connector.startInternal(Connector.java:1005) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    ... 14 common frames omitted\nCaused by: java.io.FileNotFoundException: C:\\Users\\marce\\Downloads\\CS 305 Module Five Checksum Verification Assignment Code\\module5_skel_student\\keystore.p12 (The system cannot find the file specified)\n    at java.base/java.io.FileInputStream.open0(Native Method) ~[na:na]\n    at java.base/java.io.FileInputStream.open(FileInputStream.java:211) ~[na:na]\n    at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:153) ~[na:na]\n    at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:108) ~[na:na]\n    at java.base/sun.net.www.protocol.file.FileURLConnection.connect(FileURLConnection.java:86) ~[na:na]\n    at java.base/sun.net.www.protocol.file.FileURLConnection.getInputStream(FileURLConnection.java:189) ~[na:na]\n    at org.apache.catalina.startup.CatalinaBaseConfigurationSource.getResource(CatalinaBaseConfigurationSource.java:116) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.tomcat.util.net.SSLUtilBase.getStore(SSLUtilBase.java:198) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.tomcat.util.net.SSLHostConfigCertificate.getCertificateKeystore(SSLHostConfigCertificate.java:206) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:283) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:247) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:97) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    ... 20 common frames omitted\n\n2022-07-28 15:54:24.917  INFO 24856 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'\n</code></pre>\n<p>Can someone help me with this? I have tried fixing the problem involving TomCat but the solutions I get are to replace the port number with something else. But I don't see a port number in my code.</p>\n"},{"tags":["java","postgresql","gradle"],"comments":[{"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"score":0,"creation_date":1659055595,"post_id":73160351,"comment_id":129210405,"body_markdown":"is there any error message output? @JGSILVA","body":"is there any error message output? @JGSILVA"},{"owner":{"account_id":3539764,"reputation":1,"user_id":2957197,"display_name":"JGSILVA"},"score":0,"creation_date":1659056846,"post_id":73160351,"comment_id":129210562,"body_markdown":"yes... \n\n`Caused by: java.lang.ClassNotFoundException: org.postgresql.Driver\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n\tat java.base/java.lang.Class.forName0(Native Method)\n\tat java.base/java.lang.Class.forName(Class.java:375)\n\tat util.ConnectionFactory.getConnection(ConnectionFactory.java:18)`","body":"yes...   <code>Caused by: java.lang.ClassNotFoundException: org.postgresql.Driver \tat java.base&#47;jdk.internal.loader.BuiltinClassLoader.loadClass(B&zwnj;&#8203;uiltinClassLoader.ja&zwnj;&#8203;va:641) \tat java.base&#47;jdk.internal.loader.ClassLoaders$AppClassLoader.lo&zwnj;&#8203;adClass(ClassLoaders&zwnj;&#8203;.java:188) \tat java.base&#47;java.lang.ClassLoader.loadClass(ClassLoader.java:5&zwnj;&#8203;20) \tat java.base&#47;java.lang.Class.forName0(Native Method) \tat java.base&#47;java.lang.Class.forName(Class.java:375) \tat util.ConnectionFactory.getConnection(ConnectionFactory.java:&zwnj;&#8203;18)</code>"},{"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"score":0,"creation_date":1659057296,"post_id":73160351,"comment_id":129210628,"body_markdown":"Try to change your `implemention` to `api` keywords, the implemention just works for current module. @JGSILVA or try to open your local grade cache folder to find out whether the gradle download the dependencies jar file.   For example: `api &quot;org.postgresql:postgresql:42.2.23&quot;`, my file store here: `/Users/xiaoqiangjiang/.gradle/caches/modules-2/files-2.1/org.postgresql/postgresql`","body":"Try to change your <code>implemention</code> to <code>api</code> keywords, the implemention just works for current module. @JGSILVA or try to open your local grade cache folder to find out whether the gradle download the dependencies jar file.   For example: <code>api &quot;org.postgresql:postgresql:42.2.23&quot;</code>, my file store here: <code>&#47;Users&#47;xiaoqiangjiang&#47;.gradle&#47;caches&#47;modules-2&#47;files-2.1&#47;org&zwnj;&#8203;.postgresql&#47;postgres&zwnj;&#8203;ql</code>"},{"owner":{"account_id":3539764,"reputation":1,"user_id":2957197,"display_name":"JGSILVA"},"score":0,"creation_date":1659061804,"post_id":73160351,"comment_id":129211220,"body_markdown":"`&gt; Task :wrapper\n\n&gt; Task :init\nGet more help with your project: https://docs.gradle.org/7.4.2/sample/sample_building_java_libraries.html\n\nBUILD SUCCESSFUL in 14s\n2 actionable tasks: 2 executed\n\nCONFIGURE SUCCESSUL in 421ms\n&gt; Task :nothing UP-TO-DATE\n\nBUILD SUCCESSUL in 6s`\n\nGradle downloaded the dependency but the error persist. Shows this message quickly and back to the first error message posted above","body":"<code>&gt; Task :wrapper  &gt; Task :init Get more help with your project: https:&#47;&#47;docs.gradle.org&#47;7.4.2&#47;sample&#47;sample_building_java_li&zwnj;&#8203;braries.html  BUILD SUCCESSFUL in 14s 2 actionable tasks: 2 executed  CONFIGURE SUCCESSUL in 421ms &gt; Task :nothing UP-TO-DATE  BUILD SUCCESSUL in 6s</code>  Gradle downloaded the dependency but the error persist. Shows this message quickly and back to the first error message posted above"},{"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"score":0,"creation_date":1659062034,"post_id":73160351,"comment_id":129211245,"body_markdown":"does the postgresql jar downloaded? did you fixed this problem? @JGSILVA","body":"does the postgresql jar downloaded? did you fixed this problem? @JGSILVA"},{"owner":{"account_id":3539764,"reputation":1,"user_id":2957197,"display_name":"JGSILVA"},"score":0,"creation_date":1659062408,"post_id":73160351,"comment_id":129211289,"body_markdown":"yes it downloaded, but the error persists and the JDBC drive does not appear in eclipse, but it is in the Gradle directory `C:\\Users\\Developer\\.gradle\\caches\\modules-2\\files-2.1\\org.postgresql\\postgresql`","body":"yes it downloaded, but the error persists and the JDBC drive does not appear in eclipse, but it is in the Gradle directory <code>C:\\Users\\Developer\\.gradle\\caches\\modules-2\\files-2.1\\org.po&zwnj;&#8203;stgresql\\postgresql</code>"},{"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"score":0,"creation_date":1659063304,"post_id":73160351,"comment_id":129211419,"body_markdown":"maybe you can try it with the Intellij Idea. @JGSILVA","body":"maybe you can try it with the Intellij Idea. @JGSILVA"}],"owner":{"account_id":3539764,"reputation":1,"user_id":2957197,"display_name":"JGSILVA"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659053144,"creation_date":1659053144,"question_id":73160351,"body_markdown":"I am using Eclipse + Gradle and Postgresql to develop an example project, I added the dependency JDBC driver on files build.gradle but Gradle doesn&#39;t download JDBC driver, what would can it be?\r\n\r\nThat is my code \r\n\r\n```\r\n\r\nplugins {\r\n\r\n    id &#39;java-library&#39;\r\n}\r\n\r\nrepositories {\r\n\r\n    mavenCentral()\r\n    \r\n}\r\n\r\ndependencies {\r\n\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter:5.8.1&#39;\r\n\r\n    api &#39;org.apache.commons:commons-math3:3.6.1&#39;\r\n\r\n    implementation &#39;com.google.guava:guava:30.1.1-jre&#39;\r\n    \r\n    // dependency JDBC drive Postgresql\r\n    implementation group: &#39;org.postgresql&#39;, name: &#39;postgresql&#39;, version: &#39;42.4.0&#39;    \r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\r\n    useJUnitPlatform()\r\n}\r\n\r\n```","title":"Gradle doesn&#39;t download JDBC drive Postgresql","body":"<p>I am using Eclipse + Gradle and Postgresql to develop an example project, I added the dependency JDBC driver on files build.gradle but Gradle doesn't download JDBC driver, what would can it be?</p>\n<p>That is my code</p>\n<pre><code>\nplugins {\n\n    id 'java-library'\n}\n\nrepositories {\n\n    mavenCentral()\n    \n}\n\ndependencies {\n\n    testImplementation 'org.junit.jupiter:junit-jupiter:5.8.1'\n\n    api 'org.apache.commons:commons-math3:3.6.1'\n\n    implementation 'com.google.guava:guava:30.1.1-jre'\n    \n    // dependency JDBC drive Postgresql\n    implementation group: 'org.postgresql', name: 'postgresql', version: '42.4.0'    \n}\n\ntasks.named('test') {\n\n    useJUnitPlatform()\n}\n\n</code></pre>\n"},{"tags":["java","arrays","multidimensional-array"],"answers":[{"tags":[],"owner":{"account_id":22755735,"reputation":555,"user_id":16915219,"display_name":"JumperBot_"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659053069,"creation_date":1659053069,"answer_id":73160349,"question_id":73160250,"body_markdown":"What you are asking of us is &quot;quite&quot; a long block of code.\r\n\r\nInstead I&#39;ll walk you down the isle for the basics of converting a stringified arr into an int array.\r\n\r\n```java\r\nString input=&quot;[1, 2, 3]&quot;;\r\ninput=input.substring(1, input.length()-1); //Remove brackets...\r\nfinal String[] strArr=input.split(&quot;, &quot;); //Make a String array...\r\nfinal int[] output=new int[strArr.length]; //Make a placeholder...\r\nfor(int i=0;i&lt;strArr.length;i++){\r\n  output[i]=Integer.parseInt(strArr[i]);\r\n}\r\nSystem.out.println(Arrays.toString(output)); //BOOM! Stringified arr to int arr.\r\n```\r\n\r\nNow, all you have to do is to expand it into whatever array dimension you would ever like in your lifetime.","title":"Convert stringified array to array object in Java","body":"<p>What you are asking of us is &quot;quite&quot; a long block of code.</p>\n<p>Instead I'll walk you down the isle for the basics of converting a stringified arr into an int array.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input=&quot;[1, 2, 3]&quot;;\ninput=input.substring(1, input.length()-1); //Remove brackets...\nfinal String[] strArr=input.split(&quot;, &quot;); //Make a String array...\nfinal int[] output=new int[strArr.length]; //Make a placeholder...\nfor(int i=0;i&lt;strArr.length;i++){\n  output[i]=Integer.parseInt(strArr[i]);\n}\nSystem.out.println(Arrays.toString(output)); //BOOM! Stringified arr to int arr.\n</code></pre>\n<p>Now, all you have to do is to expand it into whatever array dimension you would ever like in your lifetime.</p>\n"}],"owner":{"account_id":21615947,"reputation":32,"user_id":15941753,"display_name":"Dusty Berkley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":317,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1659166271,"accepted_answer_id":73160349,"answer_count":1,"score":-2,"last_activity_date":1659053069,"creation_date":1659051863,"question_id":73160250,"body_markdown":"I am storing multi-dimensional arrays in text files. Using java how can I turn this stringified version of an array into an actual integer array object? I am looking for something similar to javascript&#39;s JSON.parse().\r\n\r\nExample:\r\n\r\n&quot;[ [ [1,2,3], [4,5,6] ], [ [7,8,9], [10,11,12] ] ]&quot; =&gt; 3 dimentional integer array","title":"Convert stringified array to array object in Java","body":"<p>I am storing multi-dimensional arrays in text files. Using java how can I turn this stringified version of an array into an actual integer array object? I am looking for something similar to javascript's JSON.parse().</p>\n<p>Example:</p>\n<p>&quot;[ [ [1,2,3], [4,5,6] ], [ [7,8,9], [10,11,12] ] ]&quot; =&gt; 3 dimentional integer array</p>\n"},{"tags":["java","set"],"comments":[{"owner":{"account_id":3049880,"reputation":3589,"user_id":2584700,"accept_rate":100,"display_name":"Sachin Thapa"},"score":1,"creation_date":1378410169,"post_id":18644579,"comment_id":27452242,"body_markdown":"Possible duplicate of http://stackoverflow.com/questions/8064570/what-is-the-best-way-get-the-symmetric-difference-between-two-sets-in-java","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/8064570/what-is-the-best-way-get-the-symmetric-difference-between-two-sets-in-java\" title=\"what is the best way get the symmetric difference between two sets in java\">stackoverflow.com/questions/8064570/&hellip;</a>"},{"owner":{"account_id":3284,"reputation":42459,"user_id":4728,"accept_rate":86,"display_name":"Simon Nickerson"},"score":18,"creation_date":1378410206,"post_id":18644579,"comment_id":27452256,"body_markdown":"This isn&#39;t an exact duplicate: symmetric difference and difference are not the same.","body":"This isn&#39;t an exact duplicate: symmetric difference and difference are not the same."},{"owner":{"account_id":1324014,"reputation":5651,"user_id":1311351,"display_name":"Colin D"},"score":0,"creation_date":1378410405,"post_id":18644579,"comment_id":27452357,"body_markdown":"If `test1` contained `6`, would the answer be 4,5,6? ie do you want  the symmetric difference http://en.wikipedia.org/wiki/Symmetric_difference","body":"If <code>test1</code> contained <code>6</code>, would the answer be 4,5,6? ie do you want  the symmetric difference <a href=\"http://en.wikipedia.org/wiki/Symmetric_difference\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Symmetric_difference</a>"},{"owner":{"account_id":1654267,"reputation":7322,"user_id":1524210,"accept_rate":88,"display_name":"David Tunnell"},"score":1,"creation_date":1378410688,"post_id":18644579,"comment_id":27452488,"body_markdown":"if test1 contained 6, I would want the answer to still be 4, 5.","body":"if test1 contained 6, I would want the answer to still be 4, 5."},{"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"score":0,"creation_date":1538976077,"post_id":18644579,"comment_id":92317956,"body_markdown":"Java 8 : https://stackoverflow.com/a/52268884/1216775","body":"Java 8 : <a href=\"https://stackoverflow.com/a/52268884/1216775\">stackoverflow.com/a/52268884/1216775</a>"}],"answers":[{"tags":[],"owner":{"account_id":1435980,"reputation":127999,"user_id":1357341,"accept_rate":100,"display_name":"arshajii"},"down_vote_count":2,"up_vote_count":23,"is_accepted":false,"score":21,"last_activity_date":1378410156,"creation_date":1378410156,"answer_id":18644608,"question_id":18644579,"body_markdown":"Yes:\r\n\r\n    test2.removeAll(test1)\r\n\r\nAlthough this will mutate `test2`, so create a copy if you need to preserve it.\r\n\r\nAlso, you probably meant `&lt;Integer&gt;` instead of `&lt;int&gt;`.","title":"Getting the difference between two sets","body":"<p>Yes:</p>\n\n<pre><code>test2.removeAll(test1)\n</code></pre>\n\n<p>Although this will mutate <code>test2</code>, so create a copy if you need to preserve it.</p>\n\n<p>Also, you probably meant <code>&lt;Integer&gt;</code> instead of <code>&lt;int&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":2519746,"reputation":8347,"user_id":2190336,"display_name":"Prabhaker A"},"down_vote_count":6,"up_vote_count":292,"is_accepted":true,"score":286,"last_activity_date":1378410162,"creation_date":1378410162,"answer_id":18644612,"question_id":18644579,"body_markdown":"Try this  \r\n\r\n    test2.removeAll(test1);\r\n[Set#removeAll](http://docs.oracle.com/javase/7/docs/api/java/util/Set.html#removeAll)\r\n&gt;Removes from this set all of its elements that are contained in the specified collection (optional operation). If the specified collection is also a set, this operation effectively modifies this set so that its value is the asymmetric set difference of the two sets.","title":"Getting the difference between two sets","body":"<p>Try this  </p>\n\n<pre><code>test2.removeAll(test1);\n</code></pre>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Set.html#removeAll\">Set#removeAll</a></p>\n\n<blockquote>\n  <p>Removes from this set all of its elements that are contained in the specified collection (optional operation). If the specified collection is also a set, this operation effectively modifies this set so that its value is the asymmetric set difference of the two sets.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1306954,"reputation":11661,"user_id":1255746,"accept_rate":78,"display_name":"Josh M"},"down_vote_count":20,"up_vote_count":21,"is_accepted":false,"score":1,"last_activity_date":1378410237,"creation_date":1378410237,"answer_id":18644629,"question_id":18644579,"body_markdown":"If you are using Java 8, you could try something like this:\r\n\r\n    public Set&lt;Number&gt; difference(final Set&lt;Number&gt; set1, final Set&lt;Number&gt; set2){\r\n        final Set&lt;Number&gt; larger = set1.size() &gt; set2.size() ? set1 : set2;\r\n        final Set&lt;Number&gt; smaller = larger.equals(set1) ? set2 : set1;\r\n        return larger.stream().filter(n -&gt; !smaller.contains(n)).collect(Collectors.toSet());\r\n    }","title":"Getting the difference between two sets","body":"<p>If you are using Java 8, you could try something like this:</p>\n\n<pre><code>public Set&lt;Number&gt; difference(final Set&lt;Number&gt; set1, final Set&lt;Number&gt; set2){\n    final Set&lt;Number&gt; larger = set1.size() &gt; set2.size() ? set1 : set2;\n    final Set&lt;Number&gt; smaller = larger.equals(set1) ? set2 : set1;\n    return larger.stream().filter(n -&gt; !smaller.contains(n)).collect(Collectors.toSet());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2564170,"reputation":6335,"user_id":2224687,"accept_rate":71,"display_name":"Mikhail Golubtsov"},"down_vote_count":1,"up_vote_count":154,"is_accepted":false,"score":153,"last_activity_date":1429088470,"creation_date":1429085382,"answer_id":29644902,"question_id":18644579,"body_markdown":"If you use Guava (former Google Collections) library there is a solution:\r\n\r\n    SetView&lt;Number&gt; difference = com.google.common.collect.Sets.difference(test2, test1);\r\n\r\nThe returned `SetView` is a `Set`, it is a live representation you can either make immutable or copy to another set. `test1` and `test2` are left intact.","title":"Getting the difference between two sets","body":"<p>If you use Guava (former Google Collections) library there is a solution:</p>\n\n<pre><code>SetView&lt;Number&gt; difference = com.google.common.collect.Sets.difference(test2, test1);\n</code></pre>\n\n<p>The returned <code>SetView</code> is a <code>Set</code>, it is a live representation you can either make immutable or copy to another set. <code>test1</code> and <code>test2</code> are left intact.</p>\n"},{"tags":[],"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1536641659,"creation_date":1536641659,"answer_id":52268884,"question_id":18644579,"body_markdown":"Java 8\r\n------\r\n\r\nWe can make use of [removeIf][1] which takes a predicate to write a utility method as:\r\n\r\n    // computes the difference without modifying the sets\r\n    public static &lt;T&gt; Set&lt;T&gt; differenceJava8(final Set&lt;T&gt; setOne, final Set&lt;T&gt; setTwo) {\r\n         Set&lt;T&gt; result = new HashSet&lt;T&gt;(setOne);\r\n         result.removeIf(setTwo::contains);\r\n         return result;\r\n    }\r\n\r\nAnd in case we are still at some prior version then we can use removeAll as:\r\n\r\n    public static &lt;T&gt; Set&lt;T&gt; difference(final Set&lt;T&gt; setOne, final Set&lt;T&gt; setTwo) {\r\n         Set&lt;T&gt; result = new HashSet&lt;T&gt;(setOne);\r\n         result.removeAll(setTwo);\r\n         return result;\r\n    }\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeIf-java.util.function.Predicate-","title":"Getting the difference between two sets","body":"<h2>Java 8</h2>\n\n<p>We can make use of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeIf-java.util.function.Predicate-\" rel=\"noreferrer\">removeIf</a> which takes a predicate to write a utility method as:</p>\n\n<pre><code>// computes the difference without modifying the sets\npublic static &lt;T&gt; Set&lt;T&gt; differenceJava8(final Set&lt;T&gt; setOne, final Set&lt;T&gt; setTwo) {\n     Set&lt;T&gt; result = new HashSet&lt;T&gt;(setOne);\n     result.removeIf(setTwo::contains);\n     return result;\n}\n</code></pre>\n\n<p>And in case we are still at some prior version then we can use removeAll as:</p>\n\n<pre><code>public static &lt;T&gt; Set&lt;T&gt; difference(final Set&lt;T&gt; setOne, final Set&lt;T&gt; setTwo) {\n     Set&lt;T&gt; result = new HashSet&lt;T&gt;(setOne);\n     result.removeAll(setTwo);\n     return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6185837,"reputation":473,"user_id":4819978,"display_name":"pwipo"},"down_vote_count":5,"up_vote_count":30,"is_accepted":false,"score":25,"last_activity_date":1626086784,"creation_date":1536917069,"answer_id":52328883,"question_id":18644579,"body_markdown":"You can use Apache Commons `CollectionUtils.disjunction` to get all differences, or `CollectionUtils.subtract` to get the difference in the first collection.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n    &lt;version&gt;4.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nHere is an example of how to do that:\r\n```java\r\nimport org.apache.commons.collections4.CollectionUtils;\r\nimport java.util.List;\r\n\r\nvar collection1 = List.of(-1, 0, 1, 2, 3, 4, 5);\r\nvar collection2 = List.of(       1, 2, 3, 4, 5, 6, 7, 8, 9);\r\n\r\n// [-1, 0, 1, 2, 3, 4, 5]\r\nSystem.out.println(collection1);\r\n// [1, 2, 3, 4, 5, 6, 7, 8, 9]\r\nSystem.out.println(collection2);\r\n\r\n// [-1, 0]\r\nSystem.out.println(CollectionUtils.subtract(collection1, collection2));\r\n// [6, 7, 8, 9]\r\nSystem.out.println(CollectionUtils.subtract(collection2, collection1));\r\n\r\n// [1, 2, 3, 4, 5]\r\nSystem.out.println(CollectionUtils.retainAll(collection1, collection2));\r\n// [1, 2, 3, 4, 5]\r\nSystem.out.println(CollectionUtils.retainAll(collection2, collection1));\r\n\r\n// [-1, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 7, 8, 9]\r\nSystem.out.println(CollectionUtils.collate(collection1, collection2));\r\n// [-1, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 7, 8, 9]\r\nSystem.out.println(CollectionUtils.collate(collection2, collection1));\r\n\r\n// [-1, 0, 6, 7, 8, 9]\r\nSystem.out.println(CollectionUtils.disjunction(collection1, collection2));\r\n// [-1, 0, 6, 7, 8, 9]\r\nSystem.out.println(CollectionUtils.disjunction(collection2, collection1));\r\n\r\n// [1, 2, 3, 4, 5]\r\nSystem.out.println(CollectionUtils.intersection(collection1, collection2));\r\n// [1, 2, 3, 4, 5]\r\nSystem.out.println(CollectionUtils.intersection(collection2, collection1));\r\n\r\n// [-1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\r\nSystem.out.println(CollectionUtils.union(collection1, collection2));\r\n// [-1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\r\nSystem.out.println(CollectionUtils.union(collection2, collection1));\r\n```","title":"Getting the difference between two sets","body":"<p>You can use Apache Commons <code>CollectionUtils.disjunction</code> to get all differences, or <code>CollectionUtils.subtract</code> to get the difference in the first collection.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n    &lt;version&gt;4.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Here is an example of how to do that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.commons.collections4.CollectionUtils;\nimport java.util.List;\n\nvar collection1 = List.of(-1, 0, 1, 2, 3, 4, 5);\nvar collection2 = List.of(       1, 2, 3, 4, 5, 6, 7, 8, 9);\n\n// [-1, 0, 1, 2, 3, 4, 5]\nSystem.out.println(collection1);\n// [1, 2, 3, 4, 5, 6, 7, 8, 9]\nSystem.out.println(collection2);\n\n// [-1, 0]\nSystem.out.println(CollectionUtils.subtract(collection1, collection2));\n// [6, 7, 8, 9]\nSystem.out.println(CollectionUtils.subtract(collection2, collection1));\n\n// [1, 2, 3, 4, 5]\nSystem.out.println(CollectionUtils.retainAll(collection1, collection2));\n// [1, 2, 3, 4, 5]\nSystem.out.println(CollectionUtils.retainAll(collection2, collection1));\n\n// [-1, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 7, 8, 9]\nSystem.out.println(CollectionUtils.collate(collection1, collection2));\n// [-1, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 7, 8, 9]\nSystem.out.println(CollectionUtils.collate(collection2, collection1));\n\n// [-1, 0, 6, 7, 8, 9]\nSystem.out.println(CollectionUtils.disjunction(collection1, collection2));\n// [-1, 0, 6, 7, 8, 9]\nSystem.out.println(CollectionUtils.disjunction(collection2, collection1));\n\n// [1, 2, 3, 4, 5]\nSystem.out.println(CollectionUtils.intersection(collection1, collection2));\n// [1, 2, 3, 4, 5]\nSystem.out.println(CollectionUtils.intersection(collection2, collection1));\n\n// [-1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\nSystem.out.println(CollectionUtils.union(collection1, collection2));\n// [-1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\nSystem.out.println(CollectionUtils.union(collection2, collection1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3303925,"reputation":2096,"user_id":2779330,"accept_rate":60,"display_name":"Bojan Vukasovic"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1573206946,"creation_date":1573206946,"answer_id":58764223,"question_id":18644579,"body_markdown":"Just to put one example here (system is in `existingState`, and we want to find elements to remove (elements that are not in `newState` but are present in `existingState`) and elements to add (elements that are in `newState` but are not present in `existingState`) :\r\n\r\n    public class AddAndRemove {\r\n    \r\n      static Set&lt;Integer&gt; existingState = Set.of(1,2,3,4,5);\r\n      static Set&lt;Integer&gt; newState = Set.of(0,5,2,11,3,99);\r\n    \r\n      public static void main(String[] args) {\r\n    \r\n        Set&lt;Integer&gt; add = new HashSet&lt;&gt;(newState);\r\n        add.removeAll(existingState);\r\n    \r\n        System.out.println(&quot;Elements to add : &quot; + add);\r\n    \r\n        Set&lt;Integer&gt; remove = new HashSet&lt;&gt;(existingState);\r\n        remove.removeAll(newState);\r\n    \r\n        System.out.println(&quot;Elements to remove : &quot; + remove);\r\n    \r\n      }\r\n    }\r\n\r\nwould output this as a result:\r\n\r\n    Elements to add : [0, 99, 11]\r\n    Elements to remove : [1, 4]","title":"Getting the difference between two sets","body":"<p>Just to put one example here (system is in <code>existingState</code>, and we want to find elements to remove (elements that are not in <code>newState</code> but are present in <code>existingState</code>) and elements to add (elements that are in <code>newState</code> but are not present in <code>existingState</code>) :</p>\n\n<pre><code>public class AddAndRemove {\n\n  static Set&lt;Integer&gt; existingState = Set.of(1,2,3,4,5);\n  static Set&lt;Integer&gt; newState = Set.of(0,5,2,11,3,99);\n\n  public static void main(String[] args) {\n\n    Set&lt;Integer&gt; add = new HashSet&lt;&gt;(newState);\n    add.removeAll(existingState);\n\n    System.out.println(\"Elements to add : \" + add);\n\n    Set&lt;Integer&gt; remove = new HashSet&lt;&gt;(existingState);\n    remove.removeAll(newState);\n\n    System.out.println(\"Elements to remove : \" + remove);\n\n  }\n}\n</code></pre>\n\n<p>would output this as a result:</p>\n\n<pre><code>Elements to add : [0, 99, 11]\nElements to remove : [1, 4]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20194751,"reputation":11,"user_id":14811990,"display_name":"user14811990"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607789656,"creation_date":1607757706,"answer_id":65262525,"question_id":18644579,"body_markdown":"You can make a union using .addAll(), and an intersection using .retainAll(), of the two sets and use .removeIf(), to remove the intersection (or the duplicated element) from the union.\r\n```\r\nHashSet union = new HashSet(group1);\r\nunion.addAll(group2);\r\n    \t\r\nSystem.out.println(&quot;Union: &quot; + union);\r\n    \t\r\nHashSet intersection = new HashSet(group1);\r\nintersection.retainAll(group2);\r\n    \t\r\nSystem.out.println(&quot;Intersection: &quot; + intersection);\r\n    \t\r\nHashSet difference = new HashSet(union);\r\ndifference.removeIf(n -&gt; (difference.contains(intersection)));\r\n    \t\r\nSystem.out.println(&quot;Difference: &quot; + difference);\r\n```","title":"Getting the difference between two sets","body":"<p>You can make a union using .addAll(), and an intersection using .retainAll(), of the two sets and use .removeIf(), to remove the intersection (or the duplicated element) from the union.</p>\n<pre><code>HashSet union = new HashSet(group1);\nunion.addAll(group2);\n        \nSystem.out.println(&quot;Union: &quot; + union);\n        \nHashSet intersection = new HashSet(group1);\nintersection.retainAll(group2);\n        \nSystem.out.println(&quot;Intersection: &quot; + intersection);\n        \nHashSet difference = new HashSet(union);\ndifference.removeIf(n -&gt; (difference.contains(intersection)));\n        \nSystem.out.println(&quot;Difference: &quot; + difference);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1701350,"reputation":5125,"user_id":2089340,"accept_rate":67,"display_name":"Matt  Watson"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1609955215,"creation_date":1609955215,"answer_id":65600799,"question_id":18644579,"body_markdown":"Adding a solution which I&#39;ve recently used myself and haven&#39;t seen mentioned here. If you have Apache Commons Collections available then you can use the `SetUtils#difference` method:\r\n\r\n    // Returns all the elements of test2 which are not in test1\r\n    SetUtils.difference(test2, test1) \r\n\r\nNote that according to the documentation the returned set is an unmodifiable view:\r\n\r\n&gt; Returns a unmodifiable view containing the difference of the given Sets, denoted by a \\ b (or a - b).\r\nThe returned view contains all elements of a that are not a member of b.\r\n\r\nFull documentation: https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/SetUtils.html#difference-java.util.Set-java.util.Set-","title":"Getting the difference between two sets","body":"<p>Adding a solution which I've recently used myself and haven't seen mentioned here. If you have Apache Commons Collections available then you can use the <code>SetUtils#difference</code> method:</p>\n<pre><code>// Returns all the elements of test2 which are not in test1\nSetUtils.difference(test2, test1) \n</code></pre>\n<p>Note that according to the documentation the returned set is an unmodifiable view:</p>\n<blockquote>\n<p>Returns a unmodifiable view containing the difference of the given Sets, denoted by a \\ b (or a - b).\nThe returned view contains all elements of a that are not a member of b.</p>\n</blockquote>\n<p>Full documentation: <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/SetUtils.html#difference-java.util.Set-java.util.Set-\" rel=\"noreferrer\">https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/SetUtils.html#difference-java.util.Set-java.util.Set-</a></p>\n"},{"tags":[],"owner":{"account_id":2820056,"reputation":31,"user_id":2424007,"display_name":"HseJaR"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647895475,"creation_date":1647895475,"answer_id":71563890,"question_id":18644579,"body_markdown":"The order is important, since you need 4 and 5 which is int (not Integer),\r\nUse `test2.removeAll(test1)`.\r\n","title":"Getting the difference between two sets","body":"<p>The order is important, since you need 4 and 5 which is int (not Integer),\nUse <code>test2.removeAll(test1)</code>.</p>\n"},{"tags":[],"owner":{"account_id":12328133,"reputation":4037,"user_id":8994998,"display_name":"Brett Sutton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659051771,"creation_date":1659050075,"answer_id":73160096,"question_id":18644579,"body_markdown":"Leaning on the answer by Bojan Vukasovic here is a more complete answer. \r\n\r\nIt actually returns a delta providing the list of elements added and remove.\r\n\r\nThe order you pass the sets to the delta method is important.\r\n\r\nTo obtain a delta:\r\n```java\r\nSet&lt;Integer&gt; test1 = new HashSet&lt;Integer&gt;();\r\ntest1.add(1);\r\ntest1.add(2);\r\ntest1.add(3);\r\ntest1.add(9);\r\n\r\nSet&lt;Integer&gt; test2 = new HashSet&lt;Integer&gt;();\r\ntest2.add(1);\r\ntest2.add(2);\r\ntest2.add(3);\r\ntest2.add(4);\r\ntest2.add(5);\r\n\r\nvar delta = Sets.delta(test1, test2);\r\n\r\ndelta.additions.equals(Set.of(4,5));\r\ndelta.subtractions.equals(Set.of(9));\r\n```\r\n\r\n```java\r\npackage dev.onepub.util;\r\n\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\npublic class Sets\r\n{\r\n\t/**\r\n\t * Calculates the delta of the two sets.\r\n\t * \r\n\t * The method assumes that you have an existing set\r\n\t * that has been revised.\r\n\t * \r\n\t * The delta is expressed as:\r\n\t *  additions - the list of items FOUND in the revised set, that are not in the existing set.\r\n\t *  subtractions - the list of items NOT in the revised set, that are in the existing set.\r\n\t *  \r\n\t * The existing and revised sets are left unchanged.\r\n\t * \r\n\t * @param &lt;T&gt;\r\n\t * @param existing - the original set used as the baseline \r\n\t * @param revised - the revised set which will be compared against the existing set.\r\n\t * @return a SetDelta that describes the set of changes.\r\n\t */\r\n\tstatic public &lt;T&gt; SetDelta&lt;T&gt; delta(Set&lt;T&gt; existing, Set&lt;T&gt; revised)\r\n\t{\r\n\t\tvar additions = new HashSet&lt;&gt;(revised);\r\n\t\tadditions.removeAll(existing);\r\n\r\n\t\tvar subtractions = new HashSet&lt;&gt;(existing);\r\n\t\tsubtractions.removeAll(revised);\r\n\r\n\t\treturn new SetDelta&lt;T&gt;(additions, subtractions);\r\n\t}\r\n\t\r\n\t/**\r\n\t * Describes the changes between two sets. \r\n\t * @author bsutton\r\n\t *\r\n\t * @param &lt;T&gt; the type of entity held by the set.\r\n\t */\r\n\tstatic public class SetDelta&lt;T&gt;\r\n\t{\r\n\t\tpublic SetDelta(HashSet&lt;T&gt; additions, HashSet&lt;T&gt; subtractions)\r\n\t\t{\r\n\t\t\tthis.additions = additions;\r\n\t\t\tthis.subtractions = subtractions;\r\n\t\t}\r\n\r\n\t\t// The set of additional items\r\n\t\tfinal public Set&lt;T&gt; additions;\r\n\t\t\r\n\t\t// The set of removed items.\r\n\t\tfinal public Set&lt;T&gt; subtractions;\r\n\r\n\t}\r\n}\r\n\r\n\r\n```\r\n\r\nAnd the unit tests\r\n```java\r\npackage dev.onepub.util;\r\n\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n\r\nimport java.util.Set;\r\n\r\nimport org.junit.jupiter.api.Test;\r\n\r\nclass SetsTest\r\n{\r\n\r\n\t@Test\r\n\tvoid test()\r\n\t{\r\n\t\tSet&lt;Integer&gt; existingState = Set.of(1, 2, 3, 4, 5);\r\n\t\tSet&lt;Integer&gt; newState = Set.of(0, 5, 2, 11, 3, 99);\r\n\r\n\t\tvar delta = Sets.delta(existingState, newState);\r\n\r\n\t\tassertEquals(delta.additions, Set.of(0, 99, 11));\r\n\t\tassertEquals(delta.subtractions, Set.of(1, 4));\r\n\t}\r\n\r\n\t\r\n\t@Test\r\n\tvoid testSame()\r\n\t{\r\n\t\tSet&lt;Integer&gt; existingState = Set.of(1,2);\r\n\t\tSet&lt;Integer&gt; newState = Set.of(1,2);\r\n\r\n\t\tvar delta = Sets.delta(existingState, newState);\r\n\r\n\t\tassertEquals(delta.additions, Set.of());\r\n\t\tassertEquals(delta.subtractions, Set.of());\r\n\t}\r\n\t\r\n\t@Test\r\n\tvoid testBothEmpty()\r\n\t{\r\n\t\tSet&lt;Integer&gt; existingState = Set.of();\r\n\t\tSet&lt;Integer&gt; newState = Set.of();\r\n\r\n\t\tvar delta = Sets.delta(existingState, newState);\r\n\r\n\t\tassertEquals(delta.additions, Set.of());\r\n\t\tassertEquals(delta.subtractions, Set.of());\r\n\t}\r\n\t\r\n\t@Test\r\n\tvoid testAddOne()\r\n\t{\r\n\t\tSet&lt;Integer&gt; existingState = Set.of();\r\n\t\tSet&lt;Integer&gt; newState = Set.of(1);\r\n\r\n\t\tvar delta = Sets.delta(existingState, newState);\r\n\r\n\t\tassertEquals(delta.additions, Set.of(1));\r\n\t\tassertEquals(delta.subtractions, Set.of());\r\n\t}\r\n\t\r\n\t@Test\r\n\tvoid testRemoveOne()\r\n\t{\r\n\t\tSet&lt;Integer&gt; existingState = Set.of(1);\r\n\t\tSet&lt;Integer&gt; newState = Set.of();\r\n\r\n\t\tvar delta = Sets.delta(existingState, newState);\r\n\r\n\t\tassertEquals(delta.additions, Set.of());\r\n\t\tassertEquals(delta.subtractions, Set.of(1));\r\n\t}\r\n\t\r\n\t@Test\r\n\tvoid testAddOneRemoveOne()\r\n\t{\r\n\t\tSet&lt;Integer&gt; existingState = Set.of(1);\r\n\t\tSet&lt;Integer&gt; newState = Set.of(0);\r\n\r\n\t\tvar delta = Sets.delta(existingState, newState);\r\n\r\n\t\tassertEquals(delta.additions, Set.of(0));\r\n\t\tassertEquals(delta.subtractions, Set.of(1));\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n","title":"Getting the difference between two sets","body":"<p>Leaning on the answer by Bojan Vukasovic here is a more complete answer.</p>\n<p>It actually returns a delta providing the list of elements added and remove.</p>\n<p>The order you pass the sets to the delta method is important.</p>\n<p>To obtain a delta:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;Integer&gt; test1 = new HashSet&lt;Integer&gt;();\ntest1.add(1);\ntest1.add(2);\ntest1.add(3);\ntest1.add(9);\n\nSet&lt;Integer&gt; test2 = new HashSet&lt;Integer&gt;();\ntest2.add(1);\ntest2.add(2);\ntest2.add(3);\ntest2.add(4);\ntest2.add(5);\n\nvar delta = Sets.delta(test1, test2);\n\ndelta.additions.equals(Set.of(4,5));\ndelta.subtractions.equals(Set.of(9));\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package dev.onepub.util;\n\nimport java.util.HashSet;\nimport java.util.Set;\n\npublic class Sets\n{\n    /**\n     * Calculates the delta of the two sets.\n     * \n     * The method assumes that you have an existing set\n     * that has been revised.\n     * \n     * The delta is expressed as:\n     *  additions - the list of items FOUND in the revised set, that are not in the existing set.\n     *  subtractions - the list of items NOT in the revised set, that are in the existing set.\n     *  \n     * The existing and revised sets are left unchanged.\n     * \n     * @param &lt;T&gt;\n     * @param existing - the original set used as the baseline \n     * @param revised - the revised set which will be compared against the existing set.\n     * @return a SetDelta that describes the set of changes.\n     */\n    static public &lt;T&gt; SetDelta&lt;T&gt; delta(Set&lt;T&gt; existing, Set&lt;T&gt; revised)\n    {\n        var additions = new HashSet&lt;&gt;(revised);\n        additions.removeAll(existing);\n\n        var subtractions = new HashSet&lt;&gt;(existing);\n        subtractions.removeAll(revised);\n\n        return new SetDelta&lt;T&gt;(additions, subtractions);\n    }\n    \n    /**\n     * Describes the changes between two sets. \n     * @author bsutton\n     *\n     * @param &lt;T&gt; the type of entity held by the set.\n     */\n    static public class SetDelta&lt;T&gt;\n    {\n        public SetDelta(HashSet&lt;T&gt; additions, HashSet&lt;T&gt; subtractions)\n        {\n            this.additions = additions;\n            this.subtractions = subtractions;\n        }\n\n        // The set of additional items\n        final public Set&lt;T&gt; additions;\n        \n        // The set of removed items.\n        final public Set&lt;T&gt; subtractions;\n\n    }\n}\n\n\n</code></pre>\n<p>And the unit tests</p>\n<pre class=\"lang-java prettyprint-override\"><code>package dev.onepub.util;\n\nimport static org.junit.jupiter.api.Assertions.*;\n\nimport java.util.Set;\n\nimport org.junit.jupiter.api.Test;\n\nclass SetsTest\n{\n\n    @Test\n    void test()\n    {\n        Set&lt;Integer&gt; existingState = Set.of(1, 2, 3, 4, 5);\n        Set&lt;Integer&gt; newState = Set.of(0, 5, 2, 11, 3, 99);\n\n        var delta = Sets.delta(existingState, newState);\n\n        assertEquals(delta.additions, Set.of(0, 99, 11));\n        assertEquals(delta.subtractions, Set.of(1, 4));\n    }\n\n    \n    @Test\n    void testSame()\n    {\n        Set&lt;Integer&gt; existingState = Set.of(1,2);\n        Set&lt;Integer&gt; newState = Set.of(1,2);\n\n        var delta = Sets.delta(existingState, newState);\n\n        assertEquals(delta.additions, Set.of());\n        assertEquals(delta.subtractions, Set.of());\n    }\n    \n    @Test\n    void testBothEmpty()\n    {\n        Set&lt;Integer&gt; existingState = Set.of();\n        Set&lt;Integer&gt; newState = Set.of();\n\n        var delta = Sets.delta(existingState, newState);\n\n        assertEquals(delta.additions, Set.of());\n        assertEquals(delta.subtractions, Set.of());\n    }\n    \n    @Test\n    void testAddOne()\n    {\n        Set&lt;Integer&gt; existingState = Set.of();\n        Set&lt;Integer&gt; newState = Set.of(1);\n\n        var delta = Sets.delta(existingState, newState);\n\n        assertEquals(delta.additions, Set.of(1));\n        assertEquals(delta.subtractions, Set.of());\n    }\n    \n    @Test\n    void testRemoveOne()\n    {\n        Set&lt;Integer&gt; existingState = Set.of(1);\n        Set&lt;Integer&gt; newState = Set.of();\n\n        var delta = Sets.delta(existingState, newState);\n\n        assertEquals(delta.additions, Set.of());\n        assertEquals(delta.subtractions, Set.of(1));\n    }\n    \n    @Test\n    void testAddOneRemoveOne()\n    {\n        Set&lt;Integer&gt; existingState = Set.of(1);\n        Set&lt;Integer&gt; newState = Set.of(0);\n\n        var delta = Sets.delta(existingState, newState);\n\n        assertEquals(delta.additions, Set.of(0));\n        assertEquals(delta.subtractions, Set.of(1));\n    }\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":1654267,"reputation":7322,"user_id":1524210,"accept_rate":88,"display_name":"David Tunnell"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276101,"favorite_count":0,"down_vote_count":1,"up_vote_count":250,"accepted_answer_id":18644612,"answer_count":11,"score":249,"last_activity_date":1659051771,"creation_date":1378410010,"question_id":18644579,"body_markdown":"So if I have two sets:\r\n\r\n    Set&lt;Integer&gt; test1 = new HashSet&lt;Integer&gt;();\r\n    test1.add(1);\r\n    test1.add(2);\r\n    test1.add(3);\r\n    \r\n    Set&lt;Integer&gt; test2 = new HashSet&lt;Integer&gt;();\r\n    test2.add(1);\r\n    test2.add(2);\r\n    test2.add(3);\r\n    test2.add(4);\r\n    test2.add(5);\r\n\r\nIs there a way to compare them and only have a set of 4 and 5 returned?","title":"Getting the difference between two sets","body":"<p>So if I have two sets:</p>\n\n<pre><code>Set&lt;Integer&gt; test1 = new HashSet&lt;Integer&gt;();\ntest1.add(1);\ntest1.add(2);\ntest1.add(3);\n\nSet&lt;Integer&gt; test2 = new HashSet&lt;Integer&gt;();\ntest2.add(1);\ntest2.add(2);\ntest2.add(3);\ntest2.add(4);\ntest2.add(5);\n</code></pre>\n\n<p>Is there a way to compare them and only have a set of 4 and 5 returned?</p>\n"},{"tags":["java","spring-boot","graphql"],"comments":[{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":1,"creation_date":1548448163,"post_id":54372077,"comment_id":95559080,"body_markdown":"Depends on how do you expose GraphQL over HTTP . Do you expose it using   servlet , spring mvc or other libraries ?","body":"Depends on how do you expose GraphQL over HTTP . Do you expose it using   servlet , spring mvc or other libraries ?"},{"owner":{"account_id":14603964,"reputation":202,"user_id":10547451,"display_name":"Juan Jose Villalobos"},"score":0,"creation_date":1548448399,"post_id":54372077,"comment_id":95559180,"body_markdown":"i&#39;m using the spring boot graphql starter and graphql-java-tools maven dependency, I just had to implement the GraphQLMutationResolver class","body":"i&#39;m using the spring boot graphql starter and graphql-java-tools maven dependency, I just had to implement the GraphQLMutationResolver class"}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1568345514,"creation_date":1548449812,"answer_id":54372651,"question_id":54372077,"body_markdown":"GraphQL itself does not define any things related to how to expose it over the network , so it does not define any things related to get HTTP header.It is up to developers to use their ways.So, it depends on the underlaying technologies you use to serve GraphQL over HTTP.\r\n\r\nConsider you use [graphql-spring-boot][1] and `graphql-java-tools` , and assuming that you does not customize `GraphQLContext` ,  you can try to add `DataFetchingEnvironment` argument to your resolver function and then get the `GraphQLContext` from it. You can then get `HttpServletRequest` from the context and access the headers :\r\n\r\n```lang-java\r\n    public Foo resolveFoo(Map&lt;String,String&gt; input , DataFetchingEnvironment env){\r\n    \r\n        GraphQLContext context =  env.getContext();\r\n        HttpServletRequest request = context.getHttpServletRequest().get();\r\n        request.getHeader(&quot;content-type&quot;);\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/graphql-java-kickstart/graphql-spring-boot","title":"How to read request headers from incoming message in a graphQL endpoint in spring boot application","body":"<p>GraphQL itself does not define any things related to how to expose it over the network , so it does not define any things related to get HTTP header.It is up to developers to use their ways.So, it depends on the underlaying technologies you use to serve GraphQL over HTTP.</p>\n\n<p>Consider you use <a href=\"https://github.com/graphql-java-kickstart/graphql-spring-boot\" rel=\"noreferrer\">graphql-spring-boot</a> and <code>graphql-java-tools</code> , and assuming that you does not customize <code>GraphQLContext</code> ,  you can try to add <code>DataFetchingEnvironment</code> argument to your resolver function and then get the <code>GraphQLContext</code> from it. You can then get <code>HttpServletRequest</code> from the context and access the headers :</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    public Foo resolveFoo(Map&lt;String,String&gt; input , DataFetchingEnvironment env){\n\n        GraphQLContext context =  env.getContext();\n        HttpServletRequest request = context.getHttpServletRequest().get();\n        request.getHeader(\"content-type\");\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11419649,"reputation":380,"user_id":8371531,"display_name":"Mat G"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1604423648,"creation_date":1604423283,"answer_id":64667364,"question_id":54372077,"body_markdown":"The solution by @Ken Chan was not working for me. `GraphQLContext` had no method named `getHttpServletRequest`. &lt;br&gt;\r\nSolved it by using `GraphQLServletContext` instead. You can change the code to:\r\n\r\n    public Foo resolveFoo(Map&lt;String,String&gt; input , DataFetchingEnvironment env){\r\n\r\n        GraphQLServletContext context =  env.getContext();\r\n        String header = context.getHttpServletRequest().getHeader(&quot;content-type&quot;);\r\n    }","title":"How to read request headers from incoming message in a graphQL endpoint in spring boot application","body":"<p>The solution by @Ken Chan was not working for me. <code>GraphQLContext</code> had no method named <code>getHttpServletRequest</code>. <br>\nSolved it by using <code>GraphQLServletContext</code> instead. You can change the code to:</p>\n<pre><code>public Foo resolveFoo(Map&lt;String,String&gt; input , DataFetchingEnvironment env){\n\n    GraphQLServletContext context =  env.getContext();\n    String header = context.getHttpServletRequest().getHeader(&quot;content-type&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":116795,"reputation":1378,"user_id":306143,"display_name":"Cristian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610811171,"creation_date":1610811171,"answer_id":65751337,"question_id":54372077,"body_markdown":"Apparently the type of the context is not standardized. I use SPQR, and in my case I discovered (via debug):\r\n\r\n```java\r\n\t\tDefaultGlobalContext&lt;ServletWebRequest&gt; context = handlerParameters.getDataFetchingEnvironment().getContext();\r\n\t\tcontext.getNativeRequest().getHeader(&quot;something&quot;);\r\n```","title":"How to read request headers from incoming message in a graphQL endpoint in spring boot application","body":"<p>Apparently the type of the context is not standardized. I use SPQR, and in my case I discovered (via debug):</p>\n<pre class=\"lang-java prettyprint-override\"><code>        DefaultGlobalContext&lt;ServletWebRequest&gt; context = handlerParameters.getDataFetchingEnvironment().getContext();\n        context.getNativeRequest().getHeader(&quot;something&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":406375,"reputation":5054,"user_id":775849,"display_name":"Jasonw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620116691,"creation_date":1620116691,"answer_id":67381199,"question_id":54372077,"body_markdown":"Google brought me this answer and unfortunately it was for Spring framework. Many use Spring framework but if you use Apache Tomcat with GraphQL integration like I do, you can do use this.\r\n\r\n            graphql.kickstart.servlet.context.DefaultGraphQLServletContext.DefaultGraphQLServletContext context =  dataFetchingEnvironment.getContext();\r\n            jakarta.servlet.http.HttpServletRequest request = context.getHttpServletRequest();\r\n            String tokenBearer = request.getHeader(&quot;Authorization&quot;);\r\n\r\nhth","title":"How to read request headers from incoming message in a graphQL endpoint in spring boot application","body":"<p>Google brought me this answer and unfortunately it was for Spring framework. Many use Spring framework but if you use Apache Tomcat with GraphQL integration like I do, you can do use this.</p>\n<pre><code>        graphql.kickstart.servlet.context.DefaultGraphQLServletContext.DefaultGraphQLServletContext context =  dataFetchingEnvironment.getContext();\n        jakarta.servlet.http.HttpServletRequest request = context.getHttpServletRequest();\n        String tokenBearer = request.getHeader(&quot;Authorization&quot;);\n</code></pre>\n<p>hth</p>\n"},{"tags":[],"owner":{"account_id":2985148,"reputation":385,"user_id":2534177,"accept_rate":67,"display_name":"Soumav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626717548,"creation_date":1626717548,"answer_id":68445044,"question_id":54372077,"body_markdown":"Not a direct answer to your problem statement, but one can use a Filter to handle it before the request hits the resolver endpoints (if that&#39;s a requirement):\r\n\r\n    public class HeaderFilter implements Filter {\r\n\r\n\t@Override\r\n\tpublic void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) {\r\n\t\tfinal HttpServletRequest httpServletRequest = (HttpServletRequest) servletRequest;\r\n\t\t\r\n\t\tString headerVal= httpServletRequest.getHeader(&quot;&lt;header string&gt;&quot;);\r\n\t\t\r\n\t\ttry {\r\n\t\t\tfilterChain.doFilter(httpServletRequest, servletResponse);\r\n\t\t} catch (IOException | ServletException e) {\r\n\t\t\t//handle as you wish\r\n\t\t}\r\n\t}","title":"How to read request headers from incoming message in a graphQL endpoint in spring boot application","body":"<p>Not a direct answer to your problem statement, but one can use a Filter to handle it before the request hits the resolver endpoints (if that's a requirement):</p>\n<pre><code>public class HeaderFilter implements Filter {\n\n@Override\npublic void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) {\n    final HttpServletRequest httpServletRequest = (HttpServletRequest) servletRequest;\n    \n    String headerVal= httpServletRequest.getHeader(&quot;&lt;header string&gt;&quot;);\n    \n    try {\n        filterChain.doFilter(httpServletRequest, servletResponse);\n    } catch (IOException | ServletException e) {\n        //handle as you wish\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2589411,"reputation":435,"user_id":2244431,"display_name":"phray2002"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659051706,"creation_date":1659008015,"answer_id":73152196,"question_id":54372077,"body_markdown":"These answers are too old, for latest versions. There are two ways (1) you can try to *autowire* one HttpServletRequest in your *controller*, such as \r\n\r\n```\r\n@Slf4j\r\n@Controller\r\npublic class YourQueryController {\r\n@Autowired\r\nprivate HttpServletRequest request;\r\n....\r\n```\r\n\r\nThen implement following logic to get header:\r\n```\r\nrequest.getHeader(&quot;Authorization&quot;)\r\n```\r\n\r\n(2) To make use of out-of-box support of `RequestContextHolder` over HTTP requests\r\n\r\n```\r\nServletRequestAttributes attributes = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();\r\n\r\nval authorization = attributes.getRequest().getHeader(&quot;Authorization&quot;);\r\n```","title":"How to read request headers from incoming message in a graphQL endpoint in spring boot application","body":"<p>These answers are too old, for latest versions. There are two ways (1) you can try to <em>autowire</em> one HttpServletRequest in your <em>controller</em>, such as</p>\n<pre><code>@Slf4j\n@Controller\npublic class YourQueryController {\n@Autowired\nprivate HttpServletRequest request;\n....\n</code></pre>\n<p>Then implement following logic to get header:</p>\n<pre><code>request.getHeader(&quot;Authorization&quot;)\n</code></pre>\n<p>(2) To make use of out-of-box support of <code>RequestContextHolder</code> over HTTP requests</p>\n<pre><code>ServletRequestAttributes attributes = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();\n\nval authorization = attributes.getRequest().getHeader(&quot;Authorization&quot;);\n</code></pre>\n"}],"owner":{"account_id":14603964,"reputation":202,"user_id":10547451,"display_name":"Juan Jose Villalobos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11784,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":54372651,"answer_count":6,"score":9,"last_activity_date":1659051706,"creation_date":1548446674,"question_id":54372077,"body_markdown":"I have a spring boot application running with a graphql endpoint that validates and executes queries and mutations, however, I need to read one header in the incoming message in order to pass its value to another endpoint. Is there a way in graphql to read these values? some sort of getHeaders or something like that?\r\n\r\n","title":"How to read request headers from incoming message in a graphQL endpoint in spring boot application","body":"<p>I have a spring boot application running with a graphql endpoint that validates and executes queries and mutations, however, I need to read one header in the incoming message in order to pass its value to another endpoint. Is there a way in graphql to read these values? some sort of getHeaders or something like that?</p>\n"},{"tags":["java","ssl"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1659051526,"post_id":73159822,"comment_id":129209958,"body_markdown":"Yes, assuming that CA has been imported into your trusted authorities you will not have to do anything special.  The major CAs are included with java in its cacerts file; if you are unsure if you have the CA for whichever client you&#39;re calling, get a hold of the certificate and verify the CA exists in `jre/lib/security/cacerts`.  If you&#39;re on a mac, I believe this is maintained in the OS&#39; keychain","body":"Yes, assuming that CA has been imported into your trusted authorities you will not have to do anything special.  The major CAs are included with java in its cacerts file; if you are unsure if you have the CA for whichever client you&#39;re calling, get a hold of the certificate and verify the CA exists in <code>jre&#47;lib&#47;security&#47;cacerts</code>.  If you&#39;re on a mac, I believe this is maintained in the OS&#39; keychain"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1659058166,"post_id":73159822,"comment_id":129210729,"body_markdown":"Or rather verify that the CA *or one of its signers* exists in the truststore. @lane.maxwell The easiest way to do that is just to try the SSL connection and observe success or failure.","body":"Or rather verify that the CA <i>or one of its signers</i> exists in the truststore. @lane.maxwell The easiest way to do that is just to try the SSL connection and observe success or failure."}],"owner":{"account_id":6805088,"reputation":11,"user_id":9285744,"display_name":"DJava"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659051042,"creation_date":1659047141,"question_id":73159822,"body_markdown":"I have been practicing creating self-signed certificates and making a request to an api over https.\r\n\r\nI used webclient and netty ssl context, I imported the certificate into cacerts and a keystore in resources, and it worked.\r\n\r\nBut if a third party app uses a certificate signed by a CA, do I need to do this? Can I simply use webclient.baseUrl(https://....), and then make requests? Will the OS and Java handle the rest?","title":"Do I need to import a certificate signed by a trusted certificate authority into a keystore?","body":"<p>I have been practicing creating self-signed certificates and making a request to an api over https.</p>\n<p>I used webclient and netty ssl context, I imported the certificate into cacerts and a keystore in resources, and it worked.</p>\n<p>But if a third party app uses a certificate signed by a CA, do I need to do this? Can I simply use webclient.baseUrl(https://....), and then make requests? Will the OS and Java handle the rest?</p>\n"},{"tags":["java","git","github","intellij-idea","intellij-14"],"comments":[{"owner":{"account_id":16891416,"reputation":1933,"user_id":12215054,"display_name":"Pawara Siriwardhane"},"score":0,"creation_date":1615467738,"post_id":66583035,"comment_id":117702859,"body_markdown":"Did you separately download and install Git on your device?","body":"Did you separately download and install Git on your device?"},{"owner":{"account_id":5240687,"reputation":1727,"user_id":4187837,"accept_rate":86,"display_name":"Gavin"},"score":1,"creation_date":1615467908,"post_id":66583035,"comment_id":117702935,"body_markdown":"When you set git up did you hit the test button?  \nI get this issue intermittently, I go IntelliJ&#39;s properties and test that git is installed, and then restart IntelliJ using the &#39;invalidate caches and restart&#39; option and usually once IntelliJ restarts git is detected correctly and I can continue to work.  I am on MacOS.  It is one of an increasing number of issues/concerns I have about IntelliJ.","body":"When you set git up did you hit the test button?   I get this issue intermittently, I go IntelliJ&#39;s properties and test that git is installed, and then restart IntelliJ using the &#39;invalidate caches and restart&#39; option and usually once IntelliJ restarts git is detected correctly and I can continue to work.  I am on MacOS.  It is one of an increasing number of issues/concerns I have about IntelliJ."},{"owner":{"account_id":11395218,"reputation":377,"user_id":8353871,"display_name":"yt."},"score":0,"creation_date":1615467921,"post_id":66583035,"comment_id":117702941,"body_markdown":"Yeah i just downloaded a Git-2.30.2-64-bit and also a GitHubDesktopSetpup on my laptop, not really sure what they do though","body":"Yeah i just downloaded a Git-2.30.2-64-bit and also a GitHubDesktopSetpup on my laptop, not really sure what they do though"}],"answers":[{"tags":[],"owner":{"account_id":14368299,"reputation":11,"user_id":10378678,"display_name":"Splint"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615467883,"creation_date":1615467883,"answer_id":66583147,"question_id":66583035,"body_markdown":"I believe you should have a dedicated Git client installed. The official client can be found at: https://git-scm.com/","title":"&#39;Git is not installed&#39; on intellij","body":"<p>I believe you should have a dedicated Git client installed. The official client can be found at: <a href=\"https://git-scm.com/\" rel=\"nofollow noreferrer\">https://git-scm.com/</a></p>\n"},{"tags":[],"owner":{"account_id":12492658,"reputation":61,"user_id":9093709,"display_name":"xc0n42"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1631877911,"creation_date":1631877911,"answer_id":69222643,"question_id":66583035,"body_markdown":"Preferences -&gt; Plugins \r\nDeactivate the bundled Git plugin, restart PhpStorm and activate it again\r\n\r\nThis solved the issue on my Mac.","title":"&#39;Git is not installed&#39; on intellij","body":"<p>Preferences -&gt; Plugins\nDeactivate the bundled Git plugin, restart PhpStorm and activate it again</p>\n<p>This solved the issue on my Mac.</p>\n"},{"tags":[],"owner":{"account_id":23488839,"reputation":406,"user_id":17540090,"display_name":"ahmetcgl"},"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1640032831,"creation_date":1640023415,"answer_id":70426155,"question_id":66583035,"body_markdown":"I noticed that I had the same problem after installing Github Desktop for a few days. I uninstalled it because I was just testing it anyway and found my git in my system by the following code: \r\n```\r\nwhich git\r\n```\r\n\r\nThat command showed me the following output: \r\n```\r\n/usr/bin/git\r\n```\r\n\r\n\r\nSo I entered this into &#39;Path to Git executable&#39; in the Preferences &gt; Version Control &gt; Git. And restarted the IDE. Everything works now...","title":"&#39;Git is not installed&#39; on intellij","body":"<p>I noticed that I had the same problem after installing Github Desktop for a few days. I uninstalled it because I was just testing it anyway and found my git in my system by the following code:</p>\n<pre><code>which git\n</code></pre>\n<p>That command showed me the following output:</p>\n<pre><code>/usr/bin/git\n</code></pre>\n<p>So I entered this into 'Path to Git executable' in the Preferences &gt; Version Control &gt; Git. And restarted the IDE. Everything works now...</p>\n"},{"tags":[],"owner":{"account_id":25575533,"reputation":1,"user_id":19355080,"display_name":"Nikhil Tank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655415803,"creation_date":1655415803,"answer_id":72652195,"question_id":66583035,"body_markdown":"Manually updating the path for `git` in Intellij worked for me.","title":"&#39;Git is not installed&#39; on intellij","body":"<p>Manually updating the path for <code>git</code> in Intellij worked for me.</p>\n"},{"tags":[],"owner":{"account_id":6598561,"reputation":4268,"user_id":5097539,"accept_rate":17,"display_name":"Francis Bacon"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1659051029,"creation_date":1659051029,"answer_id":73160188,"question_id":66583035,"body_markdown":"For me, I can see the git is installed on me, but somehow Android Studio could not find it.\r\n\r\nin Android Studio, `File` -&gt; `Invalidate Cache` -&gt; `Invalidate and Restart`\r\n\r\nWill fix the issue for me.","title":"&#39;Git is not installed&#39; on intellij","body":"<p>For me, I can see the git is installed on me, but somehow Android Studio could not find it.</p>\n<p>in Android Studio, <code>File</code> -&gt; <code>Invalidate Cache</code> -&gt; <code>Invalidate and Restart</code></p>\n<p>Will fix the issue for me.</p>\n"}],"owner":{"account_id":11395218,"reputation":377,"user_id":8353871,"display_name":"yt."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26226,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":70426155,"answer_count":5,"score":21,"last_activity_date":1659051029,"creation_date":1615467458,"question_id":66583035,"body_markdown":"Hi i am trying to link up my a java group project from github to intellij. However i keep getting this issue with Git, i download it but then i try again and it asks me to download it again?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI&#39;ve looked up the &#39;Paths to Git executable&#39; and this is what it shows\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nBut i really don&#39;t understand why this is not working. I am new to github and would really appreciate some help on this!\r\n\r\n  [1]: https://i.stack.imgur.com/a0VQ2.png\r\n  [2]: https://i.stack.imgur.com/qlUvW.png","title":"&#39;Git is not installed&#39; on intellij","body":"<p>Hi i am trying to link up my a java group project from github to intellij. However i keep getting this issue with Git, i download it but then i try again and it asks me to download it again?</p>\n<p><a href=\"https://i.stack.imgur.com/a0VQ2.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/a0VQ2.png\" alt=\"enter image description here\" /></a></p>\n<p>I've looked up the 'Paths to Git executable' and this is what it shows</p>\n<p><a href=\"https://i.stack.imgur.com/qlUvW.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qlUvW.png\" alt=\"enter image description here\" /></a></p>\n<p>But i really don't understand why this is not working. I am new to github and would really appreciate some help on this!</p>\n"},{"tags":["java","excel","jsp","tomcat","export"],"comments":[{"owner":{"account_id":11819624,"reputation":39,"user_id":8649053,"display_name":"bellpatricia"},"score":0,"creation_date":1574068879,"post_id":477886,"comment_id":104084686,"body_markdown":"BalusC shed some light to my problem, saving HTML into a file with &quot;.xls&quot; extension can work in some Excel versions, but in others it&#39;ll prompt a warning. That&#39;s why I moved to some 3rd party library ([GemBox.Spreadsheet for Java](https://www.gemboxsoftware.com/spreadsheet-java)) and I&#39;m generating a real Excel file ([as shown here](https://www.gemboxsoftware.com/spreadsheet-java/examples/create-write-excel-file-in-java/402)).","body":"BalusC shed some light to my problem, saving HTML into a file with &quot;.xls&quot; extension can work in some Excel versions, but in others it&#39;ll prompt a warning. That&#39;s why I moved to some 3rd party library (<a href=\"https://www.gemboxsoftware.com/spreadsheet-java\" rel=\"nofollow noreferrer\">GemBox.Spreadsheet for Java</a>) and I&#39;m generating a real Excel file (<a href=\"https://www.gemboxsoftware.com/spreadsheet-java/examples/create-write-excel-file-in-java/402\" rel=\"nofollow noreferrer\">as shown here</a>)."}],"answers":[{"tags":[],"owner":{"account_id":9867,"reputation":618181,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1232901192,"creation_date":1232901192,"answer_id":477898,"question_id":477886,"body_markdown":"You will probably need a library to manipulate Excel files, like [JExcelAPI][1] (&quot;jxl&quot;) or [POI][2].  I&#39;m more familiar with jxl and it can certainly write files.  You can generate them and store them by serving a URL to them but I wouldn&#39;t.  Generated files are a pain.  They add complication in the form on concurrency, clean-up processes, etc.\r\n\r\nIf you can generate the file on the fly and stream it to the client through the standard servlet mechanisms.\r\n\r\nIf it&#39;s generated many, may times or the generation is expensive then you can cache the result somehow but I&#39;d be more inclined to keep it in memory than as a file.  I&#39;d certainly avoid, if you can, linking directly to the generated file by URL.  If you go via a servlet it&#39;ll allow you to change your impleemntation later.  It&#39;s the same encapsualtion concept as in OO dsign.\r\n\r\n\r\n  [1]: http://jexcelapi.sourceforge.net/\r\n  [2]: http://poi.apache.org/","title":"JSP generating Excel spreadsheet (XLS) to download","body":"<p>You will probably need a library to manipulate Excel files, like <a href=\"http://jexcelapi.sourceforge.net/\" rel=\"nofollow noreferrer\">JExcelAPI</a> (\"jxl\") or <a href=\"http://poi.apache.org/\" rel=\"nofollow noreferrer\">POI</a>.  I'm more familiar with jxl and it can certainly write files.  You can generate them and store them by serving a URL to them but I wouldn't.  Generated files are a pain.  They add complication in the form on concurrency, clean-up processes, etc.</p>\n\n<p>If you can generate the file on the fly and stream it to the client through the standard servlet mechanisms.</p>\n\n<p>If it's generated many, may times or the generation is expensive then you can cache the result somehow but I'd be more inclined to keep it in memory than as a file.  I'd certainly avoid, if you can, linking directly to the generated file by URL.  If you go via a servlet it'll allow you to change your impleemntation later.  It's the same encapsualtion concept as in OO dsign.</p>\n"},{"tags":[],"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris PavloviÄ‡"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1232901789,"creation_date":1232901789,"answer_id":477912,"question_id":477886,"body_markdown":"maybe you should consider using some reporting tool with an option of exporting files into XLS format. my suggestion is JasperReports","title":"JSP generating Excel spreadsheet (XLS) to download","body":"<p>maybe you should consider using some reporting tool with an option of exporting files into XLS format. my suggestion is JasperReports</p>\n"},{"tags":[],"owner":{"account_id":13299,"reputation":30181,"user_id":26620,"accept_rate":83,"display_name":"Kevin"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1232904412,"creation_date":1232904412,"answer_id":477951,"question_id":477886,"body_markdown":"While you can use a full fledged library like [JExcelAPI][1], Excel will also read CSV and plain HTML tables provided you set the response MIME Type to something like &quot;application/vnd.ms-excel&quot;.\r\n\r\nDepending on how complex the spreadsheet needs to be, CSV or HTML can do the job for you without a 3rd party library.\r\n\r\n  [1]: http://jexcelapi.sourceforge.net/","title":"JSP generating Excel spreadsheet (XLS) to download","body":"<p>While you can use a full fledged library like <a href=\"http://jexcelapi.sourceforge.net/\" rel=\"noreferrer\">JExcelAPI</a>, Excel will also read CSV and plain HTML tables provided you set the response MIME Type to something like \"application/vnd.ms-excel\".</p>\n\n<p>Depending on how complex the spreadsheet needs to be, CSV or HTML can do the job for you without a 3rd party library.</p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1336150382,"creation_date":1264679587,"answer_id":2154226,"question_id":477886,"body_markdown":"Don&#39;t use plain HTML tables with an `application/vnd.ms-excel` content type. You&#39;re then basically fooling Excel with a wrong content type which would cause failure and/or warnings in the latest Excel versions. It will also messup the original HTML source when you edit and save it in Excel. Just don&#39;t do that.\r\n\r\nCSV in turn is a standard format which enjoys default support from Excel without any problems and is in fact easy and memory-efficient to generate. Although there are libraries out, you can in fact also easily write one in less than 20 lines (funny for ones who can&#39;t resist). You just have to adhere the [RFC 4180][1] spec which basically contains only 3 rules:\r\n\r\n1. Fields are separated by a comma.\r\n2. If a comma occurs within a field, then the field has to be surrounded by double quotes.\r\n3. If a double quote occurs within a field, then the field has to be surrounded by double quotes and the double quote within the field has to be escaped by another double quote.\r\n\r\nHere&#39;s a kickoff example:\r\n\r\n    public static &lt;T&gt; void writeCsv (List&lt;List&lt;T&gt;&gt; csv, char separator, OutputStream output) throws IOException {\r\n        BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(output, &quot;UTF-8&quot;));\r\n        for (List&lt;T&gt; row : csv) {\r\n            for (Iterator&lt;T&gt; iter = row.iterator(); iter.hasNext();) {\r\n                String field = String.valueOf(iter.next()).replace(&quot;\\&quot;&quot;, &quot;\\&quot;\\&quot;&quot;);\r\n                if (field.indexOf(separator) &gt; -1 || field.indexOf(&#39;&quot;&#39;) &gt; -1) {\r\n                    field = &#39;&quot;&#39; + field + &#39;&quot;&#39;;\r\n                }\r\n                writer.append(field);\r\n                if (iter.hasNext()) {\r\n                    writer.append(separator);\r\n                }\r\n            }\r\n            writer.newLine();\r\n        }\r\n        writer.flush();\r\n    }\r\n\r\nHere&#39;s an example how you could use it:\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        List&lt;List&lt;String&gt;&gt; csv = new ArrayList&lt;List&lt;String&gt;&gt;();\r\n        csv.add(Arrays.asList(&quot;field1&quot;, &quot;field2&quot;, &quot;field3&quot;));\r\n        csv.add(Arrays.asList(&quot;field1,&quot;, &quot;field2&quot;, &quot;fie\\&quot;ld3&quot;));\r\n        csv.add(Arrays.asList(&quot;\\&quot;field1\\&quot;&quot;, &quot;,field2,&quot;, &quot;,\\&quot;,\\&quot;,\\&quot;&quot;));\r\n        writeCsv(csv, &#39;,&#39;, System.out);\r\n    }\r\n\r\nAnd inside a Servlet (yes, Servlet, don&#39;t use JSP for this!) you can basically do:\r\n\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        String filename = request.getPathInfo().substring(1);\r\n        List&lt;List&lt;Object&gt;&gt; csv = someDAO().findCsvContentFor(filename);\r\n        response.setHeader(&quot;content-type&quot;, &quot;text/csv&quot;);\r\n        response.setHeader(&quot;content-disposition&quot;, &quot;attachment;filename=\\&quot;&quot; + filename + &quot;\\&quot;&quot;);\r\n        writeCsv(csv, &#39;;&#39;, response.getOutputStream());\r\n    }\r\n\r\nMap this servlet on something like `/csv/*` and invoke it as something like `http://example.com/context/csv/filename.csv`. That&#39;s all.\r\n\r\nNote that I added the possiblity to specify the separator character separately, because it may depend on the locale used whether Excel would accept a comma `,` or semicolon `;` as CSV field separator. Note that I also added the filename to the URL pathinfo, because a certain webbrowser developed by a team in Redmond otherwise wouldn&#39;t save the download with the proper filename.\r\n\r\n  [1]: http://www.rfc-editor.org/rfc/rfc4180.txt\r\n\r\n\r\n\r\n\r\n","title":"JSP generating Excel spreadsheet (XLS) to download","body":"<p>Don't use plain HTML tables with an <code>application/vnd.ms-excel</code> content type. You're then basically fooling Excel with a wrong content type which would cause failure and/or warnings in the latest Excel versions. It will also messup the original HTML source when you edit and save it in Excel. Just don't do that.</p>\n\n<p>CSV in turn is a standard format which enjoys default support from Excel without any problems and is in fact easy and memory-efficient to generate. Although there are libraries out, you can in fact also easily write one in less than 20 lines (funny for ones who can't resist). You just have to adhere the <a href=\"http://www.rfc-editor.org/rfc/rfc4180.txt\" rel=\"nofollow noreferrer\">RFC 4180</a> spec which basically contains only 3 rules:</p>\n\n<ol>\n<li>Fields are separated by a comma.</li>\n<li>If a comma occurs within a field, then the field has to be surrounded by double quotes.</li>\n<li>If a double quote occurs within a field, then the field has to be surrounded by double quotes and the double quote within the field has to be escaped by another double quote.</li>\n</ol>\n\n<p>Here's a kickoff example:</p>\n\n<pre><code>public static &lt;T&gt; void writeCsv (List&lt;List&lt;T&gt;&gt; csv, char separator, OutputStream output) throws IOException {\n    BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(output, \"UTF-8\"));\n    for (List&lt;T&gt; row : csv) {\n        for (Iterator&lt;T&gt; iter = row.iterator(); iter.hasNext();) {\n            String field = String.valueOf(iter.next()).replace(\"\\\"\", \"\\\"\\\"\");\n            if (field.indexOf(separator) &gt; -1 || field.indexOf('\"') &gt; -1) {\n                field = '\"' + field + '\"';\n            }\n            writer.append(field);\n            if (iter.hasNext()) {\n                writer.append(separator);\n            }\n        }\n        writer.newLine();\n    }\n    writer.flush();\n}\n</code></pre>\n\n<p>Here's an example how you could use it:</p>\n\n<pre><code>public static void main(String[] args) throws IOException {\n    List&lt;List&lt;String&gt;&gt; csv = new ArrayList&lt;List&lt;String&gt;&gt;();\n    csv.add(Arrays.asList(\"field1\", \"field2\", \"field3\"));\n    csv.add(Arrays.asList(\"field1,\", \"field2\", \"fie\\\"ld3\"));\n    csv.add(Arrays.asList(\"\\\"field1\\\"\", \",field2,\", \",\\\",\\\",\\\"\"));\n    writeCsv(csv, ',', System.out);\n}\n</code></pre>\n\n<p>And inside a Servlet (yes, Servlet, don't use JSP for this!) you can basically do:</p>\n\n<pre><code>protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    String filename = request.getPathInfo().substring(1);\n    List&lt;List&lt;Object&gt;&gt; csv = someDAO().findCsvContentFor(filename);\n    response.setHeader(\"content-type\", \"text/csv\");\n    response.setHeader(\"content-disposition\", \"attachment;filename=\\\"\" + filename + \"\\\"\");\n    writeCsv(csv, ';', response.getOutputStream());\n}\n</code></pre>\n\n<p>Map this servlet on something like <code>/csv/*</code> and invoke it as something like <code>http://example.com/context/csv/filename.csv</code>. That's all.</p>\n\n<p>Note that I added the possiblity to specify the separator character separately, because it may depend on the locale used whether Excel would accept a comma <code>,</code> or semicolon <code>;</code> as CSV field separator. Note that I also added the filename to the URL pathinfo, because a certain webbrowser developed by a team in Redmond otherwise wouldn't save the download with the proper filename.</p>\n"},{"tags":[],"owner":{"account_id":1206351,"reputation":1489,"user_id":1175892,"accept_rate":74,"display_name":"lv10"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337388556,"creation_date":1337355242,"answer_id":10655576,"question_id":477886,"body_markdown":"POI or JExcel are good APIs. I personally like better POI, plus POI is constantly updated.  Furthermore, there are more resources online about POI than JExcel in case you have any questions. However, either of the two does a great job.\r\n","title":"JSP generating Excel spreadsheet (XLS) to download","body":"<p>POI or JExcel are good APIs. I personally like better POI, plus POI is constantly updated.  Furthermore, there are more resources online about POI than JExcel in case you have any questions. However, either of the two does a great job.</p>\n"},{"tags":[],"owner":{"account_id":100506,"reputation":2104,"user_id":270899,"accept_rate":0,"display_name":"Dilip Godhani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1436278524,"creation_date":1436278524,"answer_id":31271103,"question_id":477886,"body_markdown":"      try {\r\n    \t\t\tString absoluteDiskPath =  test.xls&quot;;\r\n    \t\t\tFile f = new File(absoluteDiskPath);\r\n      \t\t\tresponse.setContentType(&quot;application/xlsx&quot;);\r\n    \t\t    response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + absoluteDiskPath);\r\n    \t\t    String name = f.getName().substring(f.getName().lastIndexOf(&quot;/&quot;) + 1, f.getName().length());\r\n    \t\t    InputStream in = new FileInputStream(f);\r\n    \t\t    out.clear(); //clear outputStream prevent illegalStateException write binary data to outputStream\r\n    \t\t    ServletOutputStream outs = response.getOutputStream();\r\n    \t\t    int bit = 256;\r\n    \t\t    int i = 0;\r\n    \t\t    try {\r\n    \t\t\t\twhile ((bit) &gt;= 0) {\r\n    \t\t\t\t    bit = in.read();\r\n    \t\t\t\t    outs.write(bit);\r\n    \t\t\t\t}\r\n    \t\t\t\touts.flush();\r\n    \t\t\t\touts.close();\r\n    \t\t\t\tin.close();\r\n    \t\t    } catch (IOException ioe) {\r\n    \t\t\t\tioe.printStackTrace();\r\n    \t\t    } finally {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t    if(outs != null)\r\n    \t\t\t\t\t\touts.close(); \r\n    \t\t\t\t    if(in != null)\r\n    \t\t\t\t\t\tin.close(); \r\n    \t\t\t\t}catch (Exception ioe2) {\r\n    \t\t\t\t    ioe2.printStackTrace(); \r\n    \t\t\t\t}\r\n    \t\t    }\r\n        } catch (Exception ex) {\r\n    \t\tex.printStackTrace();\r\n    \t\r\n        }","title":"JSP generating Excel spreadsheet (XLS) to download","body":"<pre><code>  try {\n            String absoluteDiskPath =  test.xls\";\n            File f = new File(absoluteDiskPath);\n            response.setContentType(\"application/xlsx\");\n            response.setHeader(\"Content-Disposition\", \"attachment; filename=\" + absoluteDiskPath);\n            String name = f.getName().substring(f.getName().lastIndexOf(\"/\") + 1, f.getName().length());\n            InputStream in = new FileInputStream(f);\n            out.clear(); //clear outputStream prevent illegalStateException write binary data to outputStream\n            ServletOutputStream outs = response.getOutputStream();\n            int bit = 256;\n            int i = 0;\n            try {\n                while ((bit) &gt;= 0) {\n                    bit = in.read();\n                    outs.write(bit);\n                }\n                outs.flush();\n                outs.close();\n                in.close();\n            } catch (IOException ioe) {\n                ioe.printStackTrace();\n            } finally {\n                try {\n                    if(outs != null)\n                        outs.close(); \n                    if(in != null)\n                        in.close(); \n                }catch (Exception ioe2) {\n                    ioe2.printStackTrace(); \n                }\n            }\n    } catch (Exception ex) {\n        ex.printStackTrace();\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25734021,"reputation":1,"user_id":19489109,"display_name":"Siva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659050818,"creation_date":1659050818,"answer_id":73160167,"question_id":477886,"body_markdown":"I tried like as below in JSP, it is working fine.\r\n\r\n       &lt;% String filename = &quot;xyz.xls&quot;; \r\n  \r\n       response.setContentType(&quot;application/octet-stream&quot;);\r\n\r\n       response.setHeader(&quot;Content-Disposition&quot;,&quot;attachment; filename=\\&quot;&quot; + filename + &quot;\\&quot;&quot;);   \r\n  \r\n       java.io.File excelFile=new java.io.File(&quot;C:\\\\Users\\\\hello\\\\Desktop\\\\xyz.xls&quot;);\r\n\r\n       java.io.FileInputStream fileInputStream=new java.io.FileInputStream(excelFile);\r\n\r\n       byte[] bytes = new byte[(int) excelFile.length()];\r\n  \r\n       int offset = 0;\r\n  \r\n       while (offset &lt; bytes.length)\r\n\r\n       {\r\n  \t\r\n      int result = fileInputStream.read(bytes, offset, bytes.length - offset);\r\n      if (result == -1) {\r\n          break;\r\n      }\r\n      \r\n      offset += result;\r\n     \r\n      }\r\n  \r\n  \r\n      javax.servlet.ServletOutputStream outs = response.getOutputStream();\r\n      outs.write(bytes);\r\n      outs.flush();\r\n      outs.close();\r\n      fileInputStream.close();   \r\n      %&gt;","title":"JSP generating Excel spreadsheet (XLS) to download","body":"<p>I tried like as below in JSP, it is working fine.</p>\n<pre><code>   &lt;% String filename = &quot;xyz.xls&quot;; \n\n   response.setContentType(&quot;application/octet-stream&quot;);\n\n   response.setHeader(&quot;Content-Disposition&quot;,&quot;attachment; filename=\\&quot;&quot; + filename + &quot;\\&quot;&quot;);   \n\n   java.io.File excelFile=new java.io.File(&quot;C:\\\\Users\\\\hello\\\\Desktop\\\\xyz.xls&quot;);\n\n   java.io.FileInputStream fileInputStream=new java.io.FileInputStream(excelFile);\n\n   byte[] bytes = new byte[(int) excelFile.length()];\n\n   int offset = 0;\n\n   while (offset &lt; bytes.length)\n\n   {\n\n  int result = fileInputStream.read(bytes, offset, bytes.length - offset);\n  if (result == -1) {\n      break;\n  }\n  \n  offset += result;\n \n  }\n\n\n  javax.servlet.ServletOutputStream outs = response.getOutputStream();\n  outs.write(bytes);\n  outs.flush();\n  outs.close();\n  fileInputStream.close();   \n  %&gt;\n</code></pre>\n"}],"owner":{"account_id":13052,"reputation":36521,"user_id":26004,"accept_rate":92,"display_name":"fmsf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31128,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":477951,"answer_count":7,"score":5,"last_activity_date":1659050818,"creation_date":1232900563,"question_id":477886,"body_markdown":"I have this application I&#39;m developing in JSP and I wish to export some data from the database in XLS (MS Excel format).\r\n\r\nIs it possible under tomcat to just write a file as if it was a normal Java application, and then generate a link to this file? Or do I need to use a specific API for it? \r\n\r\nWill I have permission problems when doing this?","title":"JSP generating Excel spreadsheet (XLS) to download","body":"<p>I have this application I'm developing in JSP and I wish to export some data from the database in XLS (MS Excel format).</p>\n\n<p>Is it possible under tomcat to just write a file as if it was a normal Java application, and then generate a link to this file? Or do I need to use a specific API for it? </p>\n\n<p>Will I have permission problems when doing this?</p>\n"},{"tags":["java","kotlin","reflection"],"comments":[{"owner":{"account_id":13722742,"reputation":16978,"user_id":10134209,"display_name":"gidds"},"score":0,"creation_date":1659345402,"post_id":73160091,"comment_id":129264431,"body_markdown":"What are you trying to achieve with this?â€‚Mixing up object properties and map entries is a common pattern in some loosely-typed, dynamic languages â€” but in Kotlin there are usually better approaches.â€‚Reflection is powerful but slow, ugly, fragile, insecure, hard to read, and turns compile-time errors into run-time ones; it&#39;s needed for frameworks, libraries, plug-ins, and compile-time tools, but for general application programming there&#39;s usually a better way.","body":"What are you trying to achieve with this?â€‚Mixing up object properties and map entries is a common pattern in some loosely-typed, dynamic languages â€” but in Kotlin there are usually better approaches.â€‚Reflection is powerful but slow, ugly, fragile, insecure, hard to read, and turns compile-time errors into run-time ones; it&#39;s needed for frameworks, libraries, plug-ins, and compile-time tools, but for general application programming there&#39;s usually a better way."},{"owner":{"account_id":7900713,"reputation":7937,"user_id":5967828,"accept_rate":65,"display_name":"xetra11"},"score":0,"creation_date":1659377392,"post_id":73160091,"comment_id":129275508,"body_markdown":"I am writing a script language. When transpiling to Kotlin logic I have very large if-clauses that I&#39;d like to shrink using this method by accessing fields by string. This might impact performance which is ok in my use-case","body":"I am writing a script language. When transpiling to Kotlin logic I have very large if-clauses that I&#39;d like to shrink using this method by accessing fields by string. This might impact performance which is ok in my use-case"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1659050405,"creation_date":1659050405,"answer_id":73160127,"question_id":73160091,"body_markdown":"Sure.  `declaredMemberProperties` gives you a collection of `KProperty1`, which has a [`get`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-property1/get.html) method.\r\n\r\nJust write something like\r\n\r\n    House::class.declaredMemberProperties.find { it.name == &quot;street&quot; }!!.get(house)","title":"Access Kotlin Interface/Class property by string key?","body":"<p>Sure.  <code>declaredMemberProperties</code> gives you a collection of <code>KProperty1</code>, which has a <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-property1/get.html\" rel=\"nofollow noreferrer\"><code>get</code></a> method.</p>\n<p>Just write something like</p>\n<pre><code>House::class.declaredMemberProperties.find { it.name == &quot;street&quot; }!!.get(house)\n</code></pre>\n"}],"owner":{"account_id":7900713,"reputation":7937,"user_id":5967828,"accept_rate":65,"display_name":"xetra11"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":670,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73160127,"answer_count":1,"score":1,"last_activity_date":1659050405,"creation_date":1659050036,"question_id":73160091,"body_markdown":"I need to access a class instance property similar to accessing a map in Kotlin.\r\n\r\nFor a map it goes like this\r\n\r\n```kt\r\nval myMap: Map&lt;String, String&gt; = mapOf(&quot;foo&quot; to &quot;bar&quot;)\r\nassertThat(myMap[&quot;foo&quot;]).isEqualTo(&quot;bar&quot;\r\n```\r\nNow I want something similar to a class\r\n```kt\r\ndata class House(\r\n  val street: String\r\n)\r\n\r\n// pseudo code wish\r\nfun foo() {\r\n  val valueOfFoo: String = House::class.members[&quot;foo&quot;].callGet()\r\n}\r\n```\r\n\r\nI read into reflection but can&#39;t find a way to call it. I know the problem somewhat is that there is no class instance passed or specified. However I wonder if there is such thing?\r\n\r\n```kt\r\nval house = House(&quot;Baker Street 5&quot;)\r\nval valueOfFoo: String = House::class.members[&quot;foo&quot;].callGetWithInstance(house)\r\n   \r\nassertThat(valueOfFoo).isEqualTo(&quot;Baker Street 5&quot;)\r\n```\r\n\r\n","title":"Access Kotlin Interface/Class property by string key?","body":"<p>I need to access a class instance property similar to accessing a map in Kotlin.</p>\n<p>For a map it goes like this</p>\n<pre><code>val myMap: Map&lt;String, String&gt; = mapOf(&quot;foo&quot; to &quot;bar&quot;)\nassertThat(myMap[&quot;foo&quot;]).isEqualTo(&quot;bar&quot;\n</code></pre>\n<p>Now I want something similar to a class</p>\n<pre><code>data class House(\n  val street: String\n)\n\n// pseudo code wish\nfun foo() {\n  val valueOfFoo: String = House::class.members[&quot;foo&quot;].callGet()\n}\n</code></pre>\n<p>I read into reflection but can't find a way to call it. I know the problem somewhat is that there is no class instance passed or specified. However I wonder if there is such thing?</p>\n<pre><code>val house = House(&quot;Baker Street 5&quot;)\nval valueOfFoo: String = House::class.members[&quot;foo&quot;].callGetWithInstance(house)\n   \nassertThat(valueOfFoo).isEqualTo(&quot;Baker Street 5&quot;)\n</code></pre>\n"},{"tags":["java","casting","polymorphism"],"comments":[{"owner":{"account_id":236189,"reputation":2903,"user_id":503510,"accept_rate":81,"display_name":"Tintin"},"score":1,"creation_date":1659047289,"post_id":73159783,"comment_id":129209212,"body_markdown":"The way question is posted right now, it might receive downvotes and eventually close.  To prevent that, please post a minimal compilable and reproducible code here. Better format your question and ask &quot;exactly&quot; whats not working for you.","body":"The way question is posted right now, it might receive downvotes and eventually close.  To prevent that, please post a minimal compilable and reproducible code here. Better format your question and ask &quot;exactly&quot; whats not working for you."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1659050038,"post_id":73159783,"comment_id":129209720,"body_markdown":"It sounds like you&#39;re looking for the visitor pattern.","body":"It sounds like you&#39;re looking for the visitor pattern."}],"answers":[{"tags":[],"owner":{"account_id":18416338,"reputation":1505,"user_id":13415116,"display_name":"phonaputer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659050379,"creation_date":1659048444,"answer_id":73159944,"question_id":73159783,"body_markdown":"As Tintin mentioned, without more example code &amp; detail it is difficult to give a really good answer. \r\n\r\nBut you have one specific question which can be answered: **&quot;Is there a way to cast the &#39;feature&#39; variable so that it is casted as the subtype that it is actually referencing, so that the correct method is used?&quot;**\r\n\r\nIf you want to cast `Feature` to a subtype, you&#39;ll need to first identify which subtype you want to cast to. If there are many possible subtypes, you would need to check which one it is using `instanceof`. But you mentioned you don&#39;t want to do this.\r\n\r\nSo in order to avoid the `instanceof` checking, one option is to work with `Feature` instead of the subclasses. This will work because converting from subclass (`NPC` or `Settlement`) to superclass (`Feature`) does not require you to write any explicit checking code.\r\n\r\nOne possible option here is to simply update the `Feature` interface so it can be used for what you want to do. You can add a function to `Feature` called `matchesPredicate` and implement it differently for `NPC` and `Settlement`. Then `filterPredicates` can change to something like this:\r\n\r\n```\r\n// matchesPredicate in the Feature interface: &quot;boolean matchesPredicate(Predicate p);&quot;\r\n\r\nprivate ArrayList&lt;Predicate&gt; filterPredicates(Feature feature, ArrayList&lt;Predicate&gt; predicates) {\r\n   ArrayList&lt;Predicate&gt; result = new ArrayList();\r\n\r\n   for (Predicate p : predicates) {\r\n       if (feature.matchesPredicate(p)) {\r\n           result.add(p);\r\n       }\r\n   }\r\n\r\n   return result;\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n(Note: At the time of this answer you didn&#39;t write what the `filterPredicates` function body does so I am guessing a bit here with that code.)\r\n","title":"Passing a superclass object as a parameter to a method with a subclass parameter","body":"<p>As Tintin mentioned, without more example code &amp; detail it is difficult to give a really good answer.</p>\n<p>But you have one specific question which can be answered: <strong>&quot;Is there a way to cast the 'feature' variable so that it is casted as the subtype that it is actually referencing, so that the correct method is used?&quot;</strong></p>\n<p>If you want to cast <code>Feature</code> to a subtype, you'll need to first identify which subtype you want to cast to. If there are many possible subtypes, you would need to check which one it is using <code>instanceof</code>. But you mentioned you don't want to do this.</p>\n<p>So in order to avoid the <code>instanceof</code> checking, one option is to work with <code>Feature</code> instead of the subclasses. This will work because converting from subclass (<code>NPC</code> or <code>Settlement</code>) to superclass (<code>Feature</code>) does not require you to write any explicit checking code.</p>\n<p>One possible option here is to simply update the <code>Feature</code> interface so it can be used for what you want to do. You can add a function to <code>Feature</code> called <code>matchesPredicate</code> and implement it differently for <code>NPC</code> and <code>Settlement</code>. Then <code>filterPredicates</code> can change to something like this:</p>\n<pre><code>// matchesPredicate in the Feature interface: &quot;boolean matchesPredicate(Predicate p);&quot;\n\nprivate ArrayList&lt;Predicate&gt; filterPredicates(Feature feature, ArrayList&lt;Predicate&gt; predicates) {\n   ArrayList&lt;Predicate&gt; result = new ArrayList();\n\n   for (Predicate p : predicates) {\n       if (feature.matchesPredicate(p)) {\n           result.add(p);\n       }\n   }\n\n   return result;\n}\n</code></pre>\n<p>(Note: At the time of this answer you didn't write what the <code>filterPredicates</code> function body does so I am guessing a bit here with that code.)</p>\n"}],"owner":{"account_id":24686273,"reputation":49,"user_id":18579425,"display_name":"Luke Burston"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":323,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1659113852,"accepted_answer_id":73159944,"answer_count":1,"score":-4,"last_activity_date":1659050379,"creation_date":1659046814,"question_id":73159783,"body_markdown":"In the below code &#39;NPC&#39; and &#39;Settlement&#39; are both subclasses of the superclass &#39;Feature&#39; (I have removed irrelevant parts of the generateNewRelationships() method)\r\n\r\n    public ArrayList&lt;Relationship&gt; generateNewRelationships(ArrayList&lt;Feature&gt; features) {\r\n        for(Feature feature: features) {\r\n            ArrayList&lt;Predicate&gt; possiblePredicates = filterPredicates(feature, subjectPredicates);\r\n        }\r\n    }\r\n    \r\n    private ArrayList&lt;Predicate&gt; filterPredicates(NPC npc, ArrayList&lt;Predicate&gt; npcPredicates) {\r\n        // Does NPC filter\r\n    }\r\n    \r\n    private ArrayList&lt;Predicate&gt; filterPredicates(Settlement settlement, ArrayList&lt;Predicate&gt; settlementPredicates) {\r\n        // Does Settlement filter\r\n    }\r\n\r\nNow the call of the filterPredicates method doesn&#39;t work as there is no method that takes &#39;Feature&#39; as a parameter type. Is there a way to cast the &#39;feature&#39; variable so that it is casted as the subtype that it is actually referencing, so that the correct method is used?\r\n\r\nI want to avoid manually writing out a if/else or switch statement, as in future there will be more subclasses of Feature.\r\n\r\nThere will never be an instance of a &#39;Feature&#39;, only instances of its subclasses, so the ArrayList features will only ever contain NPCs or Settlements.\r\n\r\n(This is a repost of my question as it was closed saying PECS (Producer Extends Consumer Super) was the solution, but that is about passing collections as parameters. My question is asking about how to write the call to &#39;filterPredicates(feature, subjectPredicates)&#39; where an individual object &#39;feature&#39; will alternate between Feature subtypes &#39;NPC&#39; and &#39;Settlement&#39; within the for loop, so that &#39;feature&#39; is cast as an NPC or a Settlement, depending on what subtype &#39;feature&#39; actually holds at that time.)","title":"Passing a superclass object as a parameter to a method with a subclass parameter","body":"<p>In the below code 'NPC' and 'Settlement' are both subclasses of the superclass 'Feature' (I have removed irrelevant parts of the generateNewRelationships() method)</p>\n<pre><code>public ArrayList&lt;Relationship&gt; generateNewRelationships(ArrayList&lt;Feature&gt; features) {\n    for(Feature feature: features) {\n        ArrayList&lt;Predicate&gt; possiblePredicates = filterPredicates(feature, subjectPredicates);\n    }\n}\n\nprivate ArrayList&lt;Predicate&gt; filterPredicates(NPC npc, ArrayList&lt;Predicate&gt; npcPredicates) {\n    // Does NPC filter\n}\n\nprivate ArrayList&lt;Predicate&gt; filterPredicates(Settlement settlement, ArrayList&lt;Predicate&gt; settlementPredicates) {\n    // Does Settlement filter\n}\n</code></pre>\n<p>Now the call of the filterPredicates method doesn't work as there is no method that takes 'Feature' as a parameter type. Is there a way to cast the 'feature' variable so that it is casted as the subtype that it is actually referencing, so that the correct method is used?</p>\n<p>I want to avoid manually writing out a if/else or switch statement, as in future there will be more subclasses of Feature.</p>\n<p>There will never be an instance of a 'Feature', only instances of its subclasses, so the ArrayList features will only ever contain NPCs or Settlements.</p>\n<p>(This is a repost of my question as it was closed saying PECS (Producer Extends Consumer Super) was the solution, but that is about passing collections as parameters. My question is asking about how to write the call to 'filterPredicates(feature, subjectPredicates)' where an individual object 'feature' will alternate between Feature subtypes 'NPC' and 'Settlement' within the for loop, so that 'feature' is cast as an NPC or a Settlement, depending on what subtype 'feature' actually holds at that time.)</p>\n"},{"tags":["java","mysql","spring-boot","yaml","gitlab-ci"],"comments":[{"owner":{"account_id":12445679,"reputation":401,"user_id":9061942,"display_name":"DalusC"},"score":0,"creation_date":1606219349,"post_id":64658981,"comment_id":114891060,"body_markdown":"Finally I got the answer, I&#39;ll update it here soon.....!","body":"Finally I got the answer, I&#39;ll update it here soon.....!"}],"owner":{"account_id":12445679,"reputation":401,"user_id":9061942,"display_name":"DalusC"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1393,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659050057,"creation_date":1604391100,"question_id":64658981,"body_markdown":"**Applying CI/CD With Spring Boot MySQL Gitlab**  \r\n    \r\n\r\nI&#39;m created very basic Spring boot crud application with MySQL, What I need to implement is Gitlab CI pipeline to automate my build and execute unit test cases for each and every commit into my gilab repository. What I did so far included in following. Build and db connection successfully executed but junit test cases fail with following error codes,\r\n\r\n   \r\n\r\n&gt; [Full Error code][1]\r\n\r\n    java.sql.SQLSyntaxErrorException: Unknown database &#39;demodb&#39;\r\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120) ~[mysql-connector-java-8.0.22.jar:8.0.22]\r\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.22.jar:8.0.22]\r\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.22.jar:8.0.22]\r\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:836) ~[mysql-connector-java-8.0.22.jar:8.0.22]\r\n    at com.mysql.cj.jdbc.ConnectionImpl.(ConnectionImpl.java:456) ~[mysql-connector-java-8.0.22.jar:8.0.22]\r\n    at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246) ~[mysql-connector-java-8.0.22.jar:8.0.22]\r\n    at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-java-8.0.22.jar:8.0.22]\r\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-3.4.5.jar:na]\r\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358) ~[HikariCP-3.4.5.jar:na]\r\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-3.4.5.jar:na]\r\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477) ~[HikariCP-3.4.5.jar:na]\r\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560) ~[HikariCP-3.4.5.jar:na]\r\n    at com.zaxxer.hikari.pool.HikariPool.(HikariPool.java:115) ~[HikariCP-3.4.5.jar:na]\r\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-3.4.5.jar:na]\r\n    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-\r\n        \r\n **Please collaborate to following issue**   \r\n    \r\n \r\n\r\nhttps://gitlab.com/letsknow101/springboot-demo-maven/-/issues/1\r\n\r\n \r\n\r\napplication.properties \r\n\r\n    # DATASOURCE (DataSourceAutoConfiguration &amp; DataSourceProperties)\r\n    spring.datasource.url=jdbc:mysql://mysql:3306/demodb?useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=JST&amp;useLegacyDatetimeCode=false\r\n    spring.datasource.username=root\r\n    spring.datasource.password=hbstudent\r\n    \r\n    # Hibernate\r\n    \r\n    # The SQL dialect makes Hibernate generate better SQL for the chosen database\r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL8Dialect\r\n    \r\n    # Hibernate ddl auto (create, create-drop, validate, update)\r\n    spring.jpa.hibernate.ddl-auto = update\r\n    \r\n\r\n\r\n    \r\n    # Logged in command line to see sql error and jdbc exception\r\n    logging.level.org.hibernate.SQL= DEBUG\r\n    logging.level.org.hibernate.type=TRACE\r\n\r\n\r\n**.gtlab-cl.yml**\r\n\r\n    after_script:\r\n     - echo &quot;Clean up activity can be done here !.&quot;\r\n    \r\n    services:\r\n     - mysql\r\n    \r\n    stages:\r\n     - build\r\n     - connect\r\n     - test\r\n    \r\n    variables:\r\n     MAVEN_CLI_OPTS: &quot;--batch-mode&quot;\r\n     MAVEN_OPTS: &quot;-Dmaven.repo.local=.m2/repository&quot;\r\n     MYSQL_DATABASE_NAME: demodb\r\n     MYSQL_DATABASE_SCHEMA: &quot;$CI_PROJECT_DIR/src/main/resources/static/sql/demodb.sql&quot; \r\n     MYSQL_ROOT_PASSWORD: hbstudent\r\n    \r\n    cache:\r\n     paths:\r\n      - .m2/repository/\r\n      - target/\r\n    \r\n    build:\r\n     stage: build\r\n     image: maven:latest\r\n     script:\r\n      - mvn $MAVEN_CLI_OPTS clean compile\r\n    \r\n    connect:\r\n     stage: connect\r\n     image: mysql\r\n     before_script:\r\n      - mysql --version\r\n      - apt-get update -q &amp;&amp; apt-get install -qqy --no-install-recommends mysql-client\r\n     script:\r\n      - echo &quot;create database $MYSQL_DATABASE_NAME;&quot; | mysql --user=root --password=&quot;$MYSQL_ROOT_PASSWORD&quot; --host=mysql\r\n      - mysql --user=root --password=&quot;$MYSQL_ROOT_PASSWORD&quot; --host=mysql $MYSQL_DATABASE_NAME &lt; $MYSQL_DATABASE_SCHEMA\r\n      - mysql --user=root --password=&quot;$MYSQL_ROOT_PASSWORD&quot; --host=mysql -e &quot;show databases; use $MYSQL_DATABASE_NAME; show tables;&quot;\r\n    \r\n    test:\r\n     stage: test\r\n     image: maven:latest\r\n     script:\r\n      - mvn $MAVEN_CLI_OPTS test\r\n\r\n[![required database &quot;demodb&quot; exist][2]][2]**strong text**\r\n\r\n\r\n[![Build and connection successful ][3]][3]\r\n\r\n[![Test fail with :  Unknown database &#39;demodb&#39; error][4]][4]\r\n\r\n\r\n  [1]: https://storage.googleapis.com/gitlab-gprd-artifacts/47/27/472783ef6c7433b81a3ecc0c7d0e390854dfee1e6db92e7e81b0c33a30c16dec/2020_11_03/826540722/908038071/job.log?response-content-type=text%2Fplain%3B%20charset%3Dutf-8&amp;response-content-disposition=inline&amp;GoogleAccessId=gitlab-object-storage-prd@gitlab-production.iam.gserviceaccount.com&amp;Signature=WkncXw1mbLAfh12VrJwZmDYU13asEv8nVuftDz6%2FVaKX40O2ErneWAIsWsAV%0AorzsKxEZHF1whoj0Y3kmxn2EvqsjRI1D%2BtUibcTXRK5EoDxsCLFu1GtQ2V6D%0Ajb0sOuds0w02nS1DeObmiYtxF4VhuTUi1fuWqR%2FRHGiUOKagVm4L59Q01a5d%0AId3LPd0xTrdEyr7gzNB6pC%2B9D7zebsz89xEjWciuHUYgo%2FoZyGv4d%2FFrBL6A%0A3G7WawiBp8bLxcgPSdNiYGb%2B%2BFl40DnHFfDpjrMUl1qREmVnpioRSamZFGpT%0ALxI1IX0XW0lyJzEGXJ7EdvUO49KjUCvaTq0Tz141Bg%3D%3D&amp;Expires=1604389893\r\n  [2]: https://i.stack.imgur.com/EGykb.png\r\n  [3]: https://i.stack.imgur.com/XcsJ8.png\r\n  [4]: https://i.stack.imgur.com/FNKlV.png","title":"Gitlab CI/CD Spring boot Mysql sample Build and db connection successful but Junit test failing with Unknown database issue..! (DB exist)","body":"<p><strong>Applying CI/CD With Spring Boot MySQL Gitlab</strong></p>\n<p>I'm created very basic Spring boot crud application with MySQL, What I need to implement is Gitlab CI pipeline to automate my build and execute unit test cases for each and every commit into my gilab repository. What I did so far included in following. Build and db connection successfully executed but junit test cases fail with following error codes,</p>\n<blockquote>\n<p><a href=\"https://storage.googleapis.com/gitlab-gprd-artifacts/47/27/472783ef6c7433b81a3ecc0c7d0e390854dfee1e6db92e7e81b0c33a30c16dec/2020_11_03/826540722/908038071/job.log?response-content-type=text%2Fplain%3B%20charset%3Dutf-8&amp;response-content-disposition=inline&amp;GoogleAccessId=gitlab-object-storage-prd@gitlab-production.iam.gserviceaccount.com&amp;Signature=WkncXw1mbLAfh12VrJwZmDYU13asEv8nVuftDz6%2FVaKX40O2ErneWAIsWsAV%0AorzsKxEZHF1whoj0Y3kmxn2EvqsjRI1D%2BtUibcTXRK5EoDxsCLFu1GtQ2V6D%0Ajb0sOuds0w02nS1DeObmiYtxF4VhuTUi1fuWqR%2FRHGiUOKagVm4L59Q01a5d%0AId3LPd0xTrdEyr7gzNB6pC%2B9D7zebsz89xEjWciuHUYgo%2FoZyGv4d%2FFrBL6A%0A3G7WawiBp8bLxcgPSdNiYGb%2B%2BFl40DnHFfDpjrMUl1qREmVnpioRSamZFGpT%0ALxI1IX0XW0lyJzEGXJ7EdvUO49KjUCvaTq0Tz141Bg%3D%3D&amp;Expires=1604389893\" rel=\"nofollow noreferrer\">Full Error code</a></p>\n</blockquote>\n<pre><code>java.sql.SQLSyntaxErrorException: Unknown database 'demodb'\nat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120) ~[mysql-connector-java-8.0.22.jar:8.0.22]\nat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.22.jar:8.0.22]\nat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.22.jar:8.0.22]\nat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:836) ~[mysql-connector-java-8.0.22.jar:8.0.22]\nat com.mysql.cj.jdbc.ConnectionImpl.(ConnectionImpl.java:456) ~[mysql-connector-java-8.0.22.jar:8.0.22]\nat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246) ~[mysql-connector-java-8.0.22.jar:8.0.22]\nat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-java-8.0.22.jar:8.0.22]\nat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-3.4.5.jar:na]\nat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358) ~[HikariCP-3.4.5.jar:na]\nat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-3.4.5.jar:na]\nat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477) ~[HikariCP-3.4.5.jar:na]\nat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560) ~[HikariCP-3.4.5.jar:na]\nat com.zaxxer.hikari.pool.HikariPool.(HikariPool.java:115) ~[HikariCP-3.4.5.jar:na]\nat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-3.4.5.jar:na]\nat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-\n    \n</code></pre>\n<p><strong>Please collaborate to following issue</strong></p>\n<p><a href=\"https://gitlab.com/letsknow101/springboot-demo-maven/-/issues/1\" rel=\"nofollow noreferrer\">https://gitlab.com/letsknow101/springboot-demo-maven/-/issues/1</a></p>\n<p>application.properties</p>\n<pre><code># DATASOURCE (DataSourceAutoConfiguration &amp; DataSourceProperties)\nspring.datasource.url=jdbc:mysql://mysql:3306/demodb?useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=JST&amp;useLegacyDatetimeCode=false\nspring.datasource.username=root\nspring.datasource.password=hbstudent\n\n# Hibernate\n\n# The SQL dialect makes Hibernate generate better SQL for the chosen database\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL8Dialect\n\n# Hibernate ddl auto (create, create-drop, validate, update)\nspring.jpa.hibernate.ddl-auto = update\n\n\n\n\n# Logged in command line to see sql error and jdbc exception\nlogging.level.org.hibernate.SQL= DEBUG\nlogging.level.org.hibernate.type=TRACE\n</code></pre>\n<p><strong>.gtlab-cl.yml</strong></p>\n<pre><code>after_script:\n - echo &quot;Clean up activity can be done here !.&quot;\n\nservices:\n - mysql\n\nstages:\n - build\n - connect\n - test\n\nvariables:\n MAVEN_CLI_OPTS: &quot;--batch-mode&quot;\n MAVEN_OPTS: &quot;-Dmaven.repo.local=.m2/repository&quot;\n MYSQL_DATABASE_NAME: demodb\n MYSQL_DATABASE_SCHEMA: &quot;$CI_PROJECT_DIR/src/main/resources/static/sql/demodb.sql&quot; \n MYSQL_ROOT_PASSWORD: hbstudent\n\ncache:\n paths:\n  - .m2/repository/\n  - target/\n\nbuild:\n stage: build\n image: maven:latest\n script:\n  - mvn $MAVEN_CLI_OPTS clean compile\n\nconnect:\n stage: connect\n image: mysql\n before_script:\n  - mysql --version\n  - apt-get update -q &amp;&amp; apt-get install -qqy --no-install-recommends mysql-client\n script:\n  - echo &quot;create database $MYSQL_DATABASE_NAME;&quot; | mysql --user=root --password=&quot;$MYSQL_ROOT_PASSWORD&quot; --host=mysql\n  - mysql --user=root --password=&quot;$MYSQL_ROOT_PASSWORD&quot; --host=mysql $MYSQL_DATABASE_NAME &lt; $MYSQL_DATABASE_SCHEMA\n  - mysql --user=root --password=&quot;$MYSQL_ROOT_PASSWORD&quot; --host=mysql -e &quot;show databases; use $MYSQL_DATABASE_NAME; show tables;&quot;\n\ntest:\n stage: test\n image: maven:latest\n script:\n  - mvn $MAVEN_CLI_OPTS test\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/EGykb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EGykb.png\" alt=\"required database &quot;demodb&quot; exist\" /></a><strong>strong text</strong></p>\n<p><a href=\"https://i.stack.imgur.com/XcsJ8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XcsJ8.png\" alt=\"Build and connection successful \" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/FNKlV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FNKlV.png\" alt=\"Test fail with :  Unknown database 'demodb' error\" /></a></p>\n"},{"tags":["java","swing","jtable"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1659048566,"post_id":73156917,"comment_id":129209495,"body_markdown":"[mcve] please..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please.."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1659071989,"post_id":73156917,"comment_id":129212595,"body_markdown":"java doc setHeaderRenderer: _It is the header renderers responsibility to render the sorting indicator. If you are using sorting and specify a renderer your renderer must render the sorting indication._","body":"java doc setHeaderRenderer: <i>It is the header renderers responsibility to render the sorting indicator. If you are using sorting and specify a renderer your renderer must render the sorting indication.</i>"}],"answers":[{"tags":[],"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659049914,"creation_date":1659049914,"answer_id":73160076,"question_id":73156917,"body_markdown":"This can be done by implementing a custom `TableCellRenderer`. In particular it would be useful to reuse the default header renderer (because of the sort icons, colors and label) by wrapping it in the custom `TableCellRenderer` and just modifying it with the desired foreground color when sorting on that column is detected:\r\n\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Component;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\nimport javax.swing.DefaultRowSorter;\r\nimport javax.swing.JComponent;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JTable;\r\nimport javax.swing.RowSorter;\r\nimport javax.swing.RowSorter.SortKey;\r\nimport javax.swing.SortOrder;\r\nimport javax.swing.SwingUtilities;\r\nimport javax.swing.table.TableCellRenderer;\r\nimport javax.swing.table.TableColumn;\r\n\r\npublic class SortedRowHeaderRendererDemo {\r\n    \r\n    private static class SortedRowHeaderRenderer implements TableCellRenderer {\r\n        \r\n        private final TableCellRenderer originalRenderer;\r\n        private Color originalForeground;\r\n        \r\n        public SortedRowHeaderRenderer(final TableCellRenderer originalRenderer) {\r\n            this.originalRenderer = Objects.requireNonNull(originalRenderer);\r\n            originalForeground = null;\r\n        }\r\n\r\n        @Override\r\n        public Component getTableCellRendererComponent(final JTable table,\r\n                                                       final Object value,\r\n                                                       final boolean isSelected,\r\n                                                       final boolean hasFocus,\r\n                                                       final int row,\r\n                                                       final int column) {\r\n            final Component original = originalRenderer.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column);\r\n            \r\n            if (row &lt; 0 &amp;&amp; original instanceof JComponent) {\r\n                final JComponent originalJComponent = (JComponent) original;\r\n                if (originalForeground == null)\r\n                    originalForeground = originalJComponent.getForeground();\r\n                Color fg = originalForeground;\r\n                final RowSorter&lt;?&gt; sorter = table.getRowSorter();\r\n                if (sorter instanceof DefaultRowSorter) {\r\n                    final List&lt;? extends SortKey&gt; keys = sorter.getSortKeys();\r\n                    if (!keys.isEmpty()) {\r\n                        final SortKey k = keys.get(0); /*The first key is the most\r\n                        significant one for sorting, ie the last selected sorting column.*/\r\n                        if (k.getColumn() == table.convertColumnIndexToModel(column)) {\r\n                            final SortOrder order = k.getSortOrder();\r\n                            if (SortOrder.ASCENDING.equals(order))\r\n                                fg = Color.RED;\r\n                            else if (SortOrder.DESCENDING.equals(order))\r\n                                fg = Color.GREEN;\r\n                            //Don&#39;t forget here that there are also &#39;SortOrder.UNSORTED&#39; and &#39;null&#39; values for &#39;order&#39;!\r\n                        }\r\n                    }\r\n                }\r\n                originalJComponent.setForeground(fg);\r\n            }\r\n            \r\n            return original;\r\n        }\r\n    }\r\n    \r\n    private static void createAndShowGUI() {\r\n        \r\n        final String addedOnColumn = &quot;Added on&quot;;\r\n        \r\n        final JTable table = new JTable(new Object[][] {\r\n            new Object[]{&quot;Data001&quot;, &quot;Data002&quot;, &quot;Data003&quot;},\r\n            new Object[]{&quot;Data011&quot;, &quot;Data012&quot;, &quot;Data013&quot;},\r\n            new Object[]{&quot;Data021&quot;, &quot;Data022&quot;, &quot;Data023&quot;},\r\n            new Object[]{&quot;Data031&quot;, &quot;Data032&quot;, &quot;Data033&quot;},\r\n            new Object[]{&quot;Data041&quot;, &quot;Data042&quot;, &quot;Data043&quot;}\r\n        }, new Object[] {&quot;Column1&quot;, &quot;Column2&quot;, addedOnColumn});\r\n        \r\n        table.setAutoCreateRowSorter(true);\r\n\r\n        final TableColumn col = table.getColumn(addedOnColumn);\r\n        col.setHeaderRenderer(new SortedRowHeaderRenderer(table.getTableHeader().getDefaultRenderer()));\r\n        \r\n        final JFrame frame = new JFrame(&quot;Table renderer demo&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.getContentPane().add(new JScrollPane(table));\r\n        frame.pack();\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n    }\r\n    \r\n    public static void main(final String[] args) {\r\n        SwingUtilities.invokeLater(SortedRowHeaderRendererDemo::createAndShowGUI);\r\n    }\r\n}\r\n```\r\n\r\n### Features:\r\n\r\nA feature (or bug fix rather) is that the code works for tables with column reordering enabled too.\r\n\r\n### Limitations:\r\n\r\n1. The wrapped `TableCellRenderer` must return a `JComponent` in order to set its foreground property, which should be the color of the text. For example `TableCellRenderer`s which return `JLabel`s are supported (such as `DefaultTableCellRenderer`s). This seems to be the case though, if pre-installed or default renderers are used.\r\n2. The `RowSorter` of the table must be of type `DefaultRowSorter` (such as a `TableRowSorter`) in order to determine if the column is sorted and what is its sort order. That&#39;s because the `RowSorter` class does not make any guarantees as far as I checked for the order of `SortKey`s returned by its `getSortKeys` method. On the other hand `DefaultRowSorter` guarantees that &quot;*Sorting is done based on the current SortKeys, **in order***&quot; (I am assuming the order in which the `SortKey`s are returned by the method `getSortKeys` is implied here). By default the `JTable` though seems to create a `DefaultRowSorter` already.\r\n","title":"Hide sort arrow after change header label","body":"<p>This can be done by implementing a custom <code>TableCellRenderer</code>. In particular it would be useful to reuse the default header renderer (because of the sort icons, colors and label) by wrapping it in the custom <code>TableCellRenderer</code> and just modifying it with the desired foreground color when sorting on that column is detected:</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Component;\nimport java.util.List;\nimport java.util.Objects;\nimport javax.swing.DefaultRowSorter;\nimport javax.swing.JComponent;\nimport javax.swing.JFrame;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.RowSorter;\nimport javax.swing.RowSorter.SortKey;\nimport javax.swing.SortOrder;\nimport javax.swing.SwingUtilities;\nimport javax.swing.table.TableCellRenderer;\nimport javax.swing.table.TableColumn;\n\npublic class SortedRowHeaderRendererDemo {\n    \n    private static class SortedRowHeaderRenderer implements TableCellRenderer {\n        \n        private final TableCellRenderer originalRenderer;\n        private Color originalForeground;\n        \n        public SortedRowHeaderRenderer(final TableCellRenderer originalRenderer) {\n            this.originalRenderer = Objects.requireNonNull(originalRenderer);\n            originalForeground = null;\n        }\n\n        @Override\n        public Component getTableCellRendererComponent(final JTable table,\n                                                       final Object value,\n                                                       final boolean isSelected,\n                                                       final boolean hasFocus,\n                                                       final int row,\n                                                       final int column) {\n            final Component original = originalRenderer.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column);\n            \n            if (row &lt; 0 &amp;&amp; original instanceof JComponent) {\n                final JComponent originalJComponent = (JComponent) original;\n                if (originalForeground == null)\n                    originalForeground = originalJComponent.getForeground();\n                Color fg = originalForeground;\n                final RowSorter&lt;?&gt; sorter = table.getRowSorter();\n                if (sorter instanceof DefaultRowSorter) {\n                    final List&lt;? extends SortKey&gt; keys = sorter.getSortKeys();\n                    if (!keys.isEmpty()) {\n                        final SortKey k = keys.get(0); /*The first key is the most\n                        significant one for sorting, ie the last selected sorting column.*/\n                        if (k.getColumn() == table.convertColumnIndexToModel(column)) {\n                            final SortOrder order = k.getSortOrder();\n                            if (SortOrder.ASCENDING.equals(order))\n                                fg = Color.RED;\n                            else if (SortOrder.DESCENDING.equals(order))\n                                fg = Color.GREEN;\n                            //Don't forget here that there are also 'SortOrder.UNSORTED' and 'null' values for 'order'!\n                        }\n                    }\n                }\n                originalJComponent.setForeground(fg);\n            }\n            \n            return original;\n        }\n    }\n    \n    private static void createAndShowGUI() {\n        \n        final String addedOnColumn = &quot;Added on&quot;;\n        \n        final JTable table = new JTable(new Object[][] {\n            new Object[]{&quot;Data001&quot;, &quot;Data002&quot;, &quot;Data003&quot;},\n            new Object[]{&quot;Data011&quot;, &quot;Data012&quot;, &quot;Data013&quot;},\n            new Object[]{&quot;Data021&quot;, &quot;Data022&quot;, &quot;Data023&quot;},\n            new Object[]{&quot;Data031&quot;, &quot;Data032&quot;, &quot;Data033&quot;},\n            new Object[]{&quot;Data041&quot;, &quot;Data042&quot;, &quot;Data043&quot;}\n        }, new Object[] {&quot;Column1&quot;, &quot;Column2&quot;, addedOnColumn});\n        \n        table.setAutoCreateRowSorter(true);\n\n        final TableColumn col = table.getColumn(addedOnColumn);\n        col.setHeaderRenderer(new SortedRowHeaderRenderer(table.getTableHeader().getDefaultRenderer()));\n        \n        final JFrame frame = new JFrame(&quot;Table renderer demo&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.getContentPane().add(new JScrollPane(table));\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n    \n    public static void main(final String[] args) {\n        SwingUtilities.invokeLater(SortedRowHeaderRendererDemo::createAndShowGUI);\n    }\n}\n</code></pre>\n<h3>Features:</h3>\n<p>A feature (or bug fix rather) is that the code works for tables with column reordering enabled too.</p>\n<h3>Limitations:</h3>\n<ol>\n<li>The wrapped <code>TableCellRenderer</code> must return a <code>JComponent</code> in order to set its foreground property, which should be the color of the text. For example <code>TableCellRenderer</code>s which return <code>JLabel</code>s are supported (such as <code>DefaultTableCellRenderer</code>s). This seems to be the case though, if pre-installed or default renderers are used.</li>\n<li>The <code>RowSorter</code> of the table must be of type <code>DefaultRowSorter</code> (such as a <code>TableRowSorter</code>) in order to determine if the column is sorted and what is its sort order. That's because the <code>RowSorter</code> class does not make any guarantees as far as I checked for the order of <code>SortKey</code>s returned by its <code>getSortKeys</code> method. On the other hand <code>DefaultRowSorter</code> guarantees that &quot;<em>Sorting is done based on the current SortKeys, <strong>in order</strong></em>&quot; (I am assuming the order in which the <code>SortKey</code>s are returned by the method <code>getSortKeys</code> is implied here). By default the <code>JTable</code> though seems to create a <code>DefaultRowSorter</code> already.</li>\n</ol>\n"}],"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1659086231,"answer_count":1,"score":0,"last_activity_date":1659049914,"creation_date":1659029114,"question_id":73156917,"body_markdown":"I use JTable, and here how it&#39;s like when I use \r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs you can see it&#39;s show sort arrow. Nice. Now I want to change color of header when filter by this column. I use this code:\r\n\r\n    private void refreshColumnHeader() {\r\n            // model column &quot;Added on&quot; index always = 2\r\n            JLabel blueLabel = new JLabel(m2DocumentsTableModel.getColumnName(modelColumnIndex), JLabel.CENTER);\r\n            blueLabel.setFont(new Font(&quot;SansSerif&quot;, Font.PLAIN, 12));\r\n            blueLabel.setBorder(headerBorder);\r\n            TableCellRenderer tableCellRenderer = new JComponentTableCellRenderer();\r\n            TableColumnModel columnModel = m2DocumentsTableView.getColumnModel();\r\n            TableColumn columnAddedOn = columnModel.getColumn(vColIndex);\r\n            if (modelColumnIndex == 1) { // column &quot;Added On&quot;\r\n                if (!dateTimeFilter.hasFilter()) {\r\n                    blueLabel.setForeground(foregroundTableHeaderNotFilter);\r\n                } else {\r\n                    blueLabel.setForeground(foregroundTableHeaderFilter);\r\n                }\r\n            }\r\n            columnAddedOn.setHeaderRenderer(tableCellRenderer);\r\n            columnAddedOn.setHeaderValue(blueLabel);\r\n        }\r\n\r\nBut now the arrow is hide.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mjQCk.png\r\n  [2]: https://i.stack.imgur.com/9VmO8.png","title":"Hide sort arrow after change header label","body":"<p>I use JTable, and here how it's like when I use</p>\n<p><a href=\"https://i.stack.imgur.com/mjQCk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mjQCk.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see it's show sort arrow. Nice. Now I want to change color of header when filter by this column. I use this code:</p>\n<pre><code>private void refreshColumnHeader() {\n        // model column &quot;Added on&quot; index always = 2\n        JLabel blueLabel = new JLabel(m2DocumentsTableModel.getColumnName(modelColumnIndex), JLabel.CENTER);\n        blueLabel.setFont(new Font(&quot;SansSerif&quot;, Font.PLAIN, 12));\n        blueLabel.setBorder(headerBorder);\n        TableCellRenderer tableCellRenderer = new JComponentTableCellRenderer();\n        TableColumnModel columnModel = m2DocumentsTableView.getColumnModel();\n        TableColumn columnAddedOn = columnModel.getColumn(vColIndex);\n        if (modelColumnIndex == 1) { // column &quot;Added On&quot;\n            if (!dateTimeFilter.hasFilter()) {\n                blueLabel.setForeground(foregroundTableHeaderNotFilter);\n            } else {\n                blueLabel.setForeground(foregroundTableHeaderFilter);\n            }\n        }\n        columnAddedOn.setHeaderRenderer(tableCellRenderer);\n        columnAddedOn.setHeaderValue(blueLabel);\n    }\n</code></pre>\n<p>But now the arrow is hide.</p>\n<p><a href=\"https://i.stack.imgur.com/9VmO8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9VmO8.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659048769,"creation_date":1659044495,"answer_id":73159484,"question_id":73159164,"body_markdown":"Your solution is based on assumption that your array **must contain**\r\n\r\n- *all* numbers from `0` till &quot;*some*&quot; `N`, like `0, 1, 2, 3, .. , N` (in any order)\r\n- *one* extra number `X` (*can* be duplicate of other numbers, but *doesn&#39;t need to* be) \r\n\r\nHow many numbers are there in array? \r\n\r\n- `0 ... N` gives us `N+1` numbers\r\n- `X` is `1` number.\r\n\r\nSo we have `N+1` + `1` which is `N+2` numbers.\r\n\r\nIn other words array has `N+2` numbers, which means `N+2 = array.length`.\r\n\r\n### **And that means `N = array.length - 2`**  \r\n(we will need that later).\r\n\r\n---\r\n\r\nNow sum of all numbers stored in array is `0 + 1 + 2 + ... + N` + `X` (their order doesn&#39;t matter).\r\n\r\nWe can get rid of `0` since it doesn&#39;t affect our sum, which gives us\r\n\r\n    SUM = 1 + 2 + ... + N + X\r\n\r\nWe can also replace `1 + 2 + ... + N` part with `N*(N+1)/2` based on formula on sum of [arithmetic series][1].\r\n\r\nThis leaves us with\r\n\r\n    SUM = N*(N+1)/2 + X\r\n\r\nBased on above the duplicate element `X` is `X = SUM - N*(N+1)/2` where `N = array.length-2`.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Arithmetic_progression","title":"Does array length plays any role while finding a duplicate element in array of numbers?","body":"<p>Your solution is based on assumption that your array <strong>must contain</strong></p>\n<ul>\n<li><em>all</em> numbers from <code>0</code> till &quot;<em>some</em>&quot; <code>N</code>, like <code>0, 1, 2, 3, .. , N</code> (in any order)</li>\n<li><em>one</em> extra number <code>X</code> (<em>can</em> be duplicate of other numbers, but <em>doesn't need to</em> be)</li>\n</ul>\n<p>How many numbers are there in array?</p>\n<ul>\n<li><code>0 ... N</code> gives us <code>N+1</code> numbers</li>\n<li><code>X</code> is <code>1</code> number.</li>\n</ul>\n<p>So we have <code>N+1</code> + <code>1</code> which is <code>N+2</code> numbers.</p>\n<p>In other words array has <code>N+2</code> numbers, which means <code>N+2 = array.length</code>.</p>\n<h3><strong>And that means <code>N = array.length - 2</code></strong></h3>\n<p>(we will need that later).</p>\n<hr />\n<p>Now sum of all numbers stored in array is <code>0 + 1 + 2 + ... + N</code> + <code>X</code> (their order doesn't matter).</p>\n<p>We can get rid of <code>0</code> since it doesn't affect our sum, which gives us</p>\n<pre><code>SUM = 1 + 2 + ... + N + X\n</code></pre>\n<p>We can also replace <code>1 + 2 + ... + N</code> part with <code>N*(N+1)/2</code> based on formula on sum of <a href=\"https://en.wikipedia.org/wiki/Arithmetic_progression\" rel=\"nofollow noreferrer\">arithmetic series</a>.</p>\n<p>This leaves us with</p>\n<pre><code>SUM = N*(N+1)/2 + X\n</code></pre>\n<p>Based on above the duplicate element <code>X</code> is <code>X = SUM - N*(N+1)/2</code> where <code>N = array.length-2</code>.</p>\n"}],"owner":{"account_id":19197346,"reputation":3,"user_id":19643605,"display_name":"Zeeshan Ahmad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":73159484,"answer_count":1,"score":-3,"last_activity_date":1659048769,"creation_date":1659042344,"question_id":73159164,"body_markdown":"    public static int findDuplicate(int[] arr) {\r\n\t\t\r\n        int n = arr.length-2;\r\n        int sum = 0;\r\n        for(int i : arr){\r\n            sum+=i;\r\n        }\r\n        \r\n        return (sum - ((n*(n+1))/2));\r\n\t}\r\n\r\nHere is the code. This code must return any duplicate element present in the array. Say, if array is { 1, 2, 3, 4, 1 } then it must return 1. It works fine for the test cases but I just want to understand the role of `arr.length-2` used here.\r\n\r\n\r\n\r\nSample input \r\n5 size  \r\n1 2 3 4 1  \r\nSample output :  \r\n1","title":"Does array length plays any role while finding a duplicate element in array of numbers?","body":"<pre><code>public static int findDuplicate(int[] arr) {\n    \n    int n = arr.length-2;\n    int sum = 0;\n    for(int i : arr){\n        sum+=i;\n    }\n    \n    return (sum - ((n*(n+1))/2));\n}\n</code></pre>\n<p>Here is the code. This code must return any duplicate element present in the array. Say, if array is { 1, 2, 3, 4, 1 } then it must return 1. It works fine for the test cases but I just want to understand the role of <code>arr.length-2</code> used here.</p>\n<p>Sample input\n5 size<br />\n1 2 3 4 1<br />\nSample output :<br />\n1</p>\n"},{"tags":["java","macos","javafx","sigbus"],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1645844788,"creation_date":1639717426,"answer_id":70388635,"question_id":70388342,"body_markdown":"Update your JavaFX version to the most recent available.\r\n\r\nJavaFX bug reports mentioning:\r\n\r\n    stubroutines::SafeFetchN\r\n\r\nare closed as duplicates of [JDK-8275723](https://bugs.openjdk.java.net/browse/JDK-8275723), even though the crash error message there is slightly different. \r\n\r\nBug reports related to this are logged when trying to run early versions (less than 17.0.2) of JavaFX 17 on some M1 macs using the Monterey OS.\r\n\r\nThe linked case report *recommends using JavaFX version  `17.0.2` when it is released and notes a fix is also in the most recent JavaFX 18* early access releases, which are available for download.\r\n\r\nAsker notes in comments:\r\n\r\n&gt; I updated the JavaFx to 18 and it&#39;s all good \r\n\r\nAnother asker noted in comments on a [duplicate][1]:\r\n\r\n&gt; I just tried to run the project with a JDK version 17.0.2 and it seems to work perfectly fine\r\n&gt;\r\n&gt; I have a 17.0.2 one (newest version from Bellsoft Liberica).\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/70935463/a-fatal-error-has-been-detected-by-the-java-runtime-environment-in-safefetchn-wi","title":"Why do I keep getting this SIGBUS error code on my MacOS when trying to run a JavaFx Project on Netbeans?","body":"<p>Update your JavaFX version to the most recent available.</p>\n<p>JavaFX bug reports mentioning:</p>\n<pre><code>stubroutines::SafeFetchN\n</code></pre>\n<p>are closed as duplicates of <a href=\"https://bugs.openjdk.java.net/browse/JDK-8275723\" rel=\"nofollow noreferrer\">JDK-8275723</a>, even though the crash error message there is slightly different.</p>\n<p>Bug reports related to this are logged when trying to run early versions (less than 17.0.2) of JavaFX 17 on some M1 macs using the Monterey OS.</p>\n<p>The linked case report <em>recommends using JavaFX version  <code>17.0.2</code> when it is released and notes a fix is also in the most recent JavaFX 18</em> early access releases, which are available for download.</p>\n<p>Asker notes in comments:</p>\n<blockquote>\n<p>I updated the JavaFx to 18 and it's all good</p>\n</blockquote>\n<p>Another asker noted in comments on a <a href=\"https://stackoverflow.com/questions/70935463/a-fatal-error-has-been-detected-by-the-java-runtime-environment-in-safefetchn-wi\">duplicate</a>:</p>\n<blockquote>\n<p>I just tried to run the project with a JDK version 17.0.2 and it seems to work perfectly fine</p>\n<p>I have a 17.0.2 one (newest version from Bellsoft Liberica).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":22762136,"reputation":1,"user_id":16920778,"display_name":"Mantra Gor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654243419,"creation_date":1654243348,"answer_id":72486492,"question_id":70388342,"body_markdown":"Yes the issue is with JDK 17 Oracle. I have tried Azul Zulu JDK 17.34.19 and its working great! I am linking it below \r\n\r\n[Azul Zulu JDK 17 Download Page][1]\r\n\r\n\r\n  [1]: https://www.azul.com/downloads/?version=java-17-lts&amp;os=macos&amp;architecture=arm-64-bit&amp;package=jdk-fx#download-openjdk","title":"Why do I keep getting this SIGBUS error code on my MacOS when trying to run a JavaFx Project on Netbeans?","body":"<p>Yes the issue is with JDK 17 Oracle. I have tried Azul Zulu JDK 17.34.19 and its working great! I am linking it below</p>\n<p><a href=\"https://www.azul.com/downloads/?version=java-17-lts&amp;os=macos&amp;architecture=arm-64-bit&amp;package=jdk-fx#download-openjdk\" rel=\"nofollow noreferrer\">Azul Zulu JDK 17 Download Page</a></p>\n"}],"owner":{"account_id":23507084,"reputation":123,"user_id":17698173,"display_name":"Reqedd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1534,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"accepted_answer_id":70388635,"answer_count":2,"score":10,"last_activity_date":1659048479,"creation_date":1639714297,"question_id":70388342,"body_markdown":"Whenever I try to run my JavaFX problem I encounter a MacOS error, My code runs fine on other devices so I am not sure what is wrong.\r\n\r\nIm using an M1 mac, with Java 17 and JavaFX up to the latest version. When running the JavaFX App, it opens up the gui for either 1 second or 30 seconds before crashing and spitting out the error provided. Any help would be greatly appreciated, and if you have other questions or need more info lmk.\r\n\r\nI believe it&#39;s a problem with a /private/TMP folder or something with what I&#39;ve seen online, but I can be completely wrong since that folder is basically empty right now so I don&#39;t see it being full or whatever.\r\n\r\nIf anyone can help or has any idea, I would really appreciate some feedback.\r\n```\r\nA fatal error has been detected by the Java Runtime Environment:\r\nSIGBUS (0xa) at pc=0x000000010c0314f0, pid=1056, tid=28943\r\n\r\nJRE version: Java(TM) SE Runtime Environment (17.0.1+12) (build 17.0.1+12-LTS-39)\r\nJava VM: Java HotSpot(TM) 64-Bit Server VM (17.0.1+12-LTS-39, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, bsd-aarch64)\r\nProblematic frame:\r\nv  ~StubRoutines::SafeFetchN\r\n\r\nNo core dump will be written. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\r\n\r\nAn error report file with more information is saved as:\r\n/Users/peter/Desktop/BookStore/hs_err_pid1056.log\r\n\r\nIf you would like to submit a bug report, please visit:\r\nhttps://bugreport.java.com/bugreport/crash.jsp\r\nThe crash happened outside the Java Virtual Machine in native code.\r\nSee problematic frame for where to report the bug\r\n```","title":"Why do I keep getting this SIGBUS error code on my MacOS when trying to run a JavaFx Project on Netbeans?","body":"<p>Whenever I try to run my JavaFX problem I encounter a MacOS error, My code runs fine on other devices so I am not sure what is wrong.</p>\n<p>Im using an M1 mac, with Java 17 and JavaFX up to the latest version. When running the JavaFX App, it opens up the gui for either 1 second or 30 seconds before crashing and spitting out the error provided. Any help would be greatly appreciated, and if you have other questions or need more info lmk.</p>\n<p>I believe it's a problem with a /private/TMP folder or something with what I've seen online, but I can be completely wrong since that folder is basically empty right now so I don't see it being full or whatever.</p>\n<p>If anyone can help or has any idea, I would really appreciate some feedback.</p>\n<pre><code>A fatal error has been detected by the Java Runtime Environment:\nSIGBUS (0xa) at pc=0x000000010c0314f0, pid=1056, tid=28943\n\nJRE version: Java(TM) SE Runtime Environment (17.0.1+12) (build 17.0.1+12-LTS-39)\nJava VM: Java HotSpot(TM) 64-Bit Server VM (17.0.1+12-LTS-39, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, bsd-aarch64)\nProblematic frame:\nv  ~StubRoutines::SafeFetchN\n\nNo core dump will be written. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\n\nAn error report file with more information is saved as:\n/Users/peter/Desktop/BookStore/hs_err_pid1056.log\n\nIf you would like to submit a bug report, please visit:\nhttps://bugreport.java.com/bugreport/crash.jsp\nThe crash happened outside the Java Virtual Machine in native code.\nSee problematic frame for where to report the bug\n</code></pre>\n"},{"tags":["java","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":1832,"reputation":11572,"user_id":2517,"accept_rate":82,"display_name":"Jeremy Ross"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659048378,"creation_date":1659048378,"answer_id":73159938,"question_id":73154799,"body_markdown":"I&#39;m not sure this is possible. Aggregator output is completely separated from the route that invokes it. It also operates in its own thread, unless you supply it a `SynchronousExecutorService` instance.  \r\n\r\nYou might try the `SynchronousExecutorService` option:\r\n```lang-java\r\n.aggregate(constant(1), new YourAggregator())\r\n    .executorService(new SynchronousExecutorService())\r\n```\r\n\r\nBefore your split, set a `Map` instance in the header with a key called `exception`, value null initially. Then in the aggregator output, if an exception occurs, update that Map key with the exception. Then in your split, you can check the Map key for an Exception instance, and do whatever you want, e.g., splitter&#39;s `stopOnException` option.\r\n","title":"Camel split then aggregate exception propagation","body":"<p>I'm not sure this is possible. Aggregator output is completely separated from the route that invokes it. It also operates in its own thread, unless you supply it a <code>SynchronousExecutorService</code> instance.</p>\n<p>You might try the <code>SynchronousExecutorService</code> option:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.aggregate(constant(1), new YourAggregator())\n    .executorService(new SynchronousExecutorService())\n</code></pre>\n<p>Before your split, set a <code>Map</code> instance in the header with a key called <code>exception</code>, value null initially. Then in the aggregator output, if an exception occurs, update that Map key with the exception. Then in your split, you can check the Map key for an Exception instance, and do whatever you want, e.g., splitter's <code>stopOnException</code> option.</p>\n"}],"owner":{"account_id":14164770,"reputation":103,"user_id":10233010,"display_name":"Jey350"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73159938,"answer_count":1,"score":1,"last_activity_date":1659048378,"creation_date":1659019676,"question_id":73154799,"body_markdown":"My project need a split then aggregate operation rather than the integrated split+aggregate but I don&#39;t have any clue about how propagate an exception to stop further processing.\r\n\r\nIn the example below I&#39;ll need to be able to not make the last log if an exception was thrown in post aggregation.\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    public class AggregationExceptionTest extends CamelTestSupport {\r\n    private final Logger LOGGER = LoggerFactory.getLogger(AggregationExceptionTest.class);\r\n    \r\n        @Override\r\n        protected RouteBuilder createRouteBuilder() throws Exception {\r\n            return new RouteBuilder() {\r\n                @Override\r\n                public void configure() throws Exception {\r\n                    from(&quot;direct:start&quot;)    \r\n                        .split(body()).streaming().stopOnException().parallelProcessing()\r\n                            .aggregate(new AggregationStrategy() {\r\n                                @Override\r\n                                public Exchange aggregate(Exchange oldExchange, Exchange newExchange) {\r\n                                    if (newExchange.getException() != null) {\r\n                                        LOGGER.info(&quot;exception propagated&quot;);\r\n                                    }\r\n                                   return oldExchange==null?newExchange:oldExchange;\r\n                                }\r\n                            }).constant(true)\r\n                            .completionSize(1).completionTimeout(500)\r\n                                .log(LoggingLevel.INFO, LOGGER, &quot;Aggreg ${body}&quot;)\r\n                                .throwException(Exception.class, &quot;propagate plz&quot;)\r\n                            .end()\r\n                        .end()\r\n                        .process(e -&gt; {\r\n                            LOGGER.info(&quot;I don&#39;t want to be seen, because of {}&quot;, e.getException());\r\n                        });\r\n                }\r\n            };\r\n        }\r\n        \r\n        @Test\r\n        public void test1() throws InterruptedException {\r\n            template.sendBody(&quot;direct:start&quot;, Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;));\r\n            \r\n            Thread.sleep(5000);\r\n        }\r\n    }\r\n\r\nThe exception thrown is never visible in the *aggregate* method.","title":"Camel split then aggregate exception propagation","body":"<p>My project need a split then aggregate operation rather than the integrated split+aggregate but I don't have any clue about how propagate an exception to stop further processing.</p>\n<p>In the example below I'll need to be able to not make the last log if an exception was thrown in post aggregation.</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\npublic class AggregationExceptionTest extends CamelTestSupport {\nprivate final Logger LOGGER = LoggerFactory.getLogger(AggregationExceptionTest.class);\n\n    @Override\n    protected RouteBuilder createRouteBuilder() throws Exception {\n        return new RouteBuilder() {\n            @Override\n            public void configure() throws Exception {\n                from(&quot;direct:start&quot;)    \n                    .split(body()).streaming().stopOnException().parallelProcessing()\n                        .aggregate(new AggregationStrategy() {\n                            @Override\n                            public Exchange aggregate(Exchange oldExchange, Exchange newExchange) {\n                                if (newExchange.getException() != null) {\n                                    LOGGER.info(&quot;exception propagated&quot;);\n                                }\n                               return oldExchange==null?newExchange:oldExchange;\n                            }\n                        }).constant(true)\n                        .completionSize(1).completionTimeout(500)\n                            .log(LoggingLevel.INFO, LOGGER, &quot;Aggreg ${body}&quot;)\n                            .throwException(Exception.class, &quot;propagate plz&quot;)\n                        .end()\n                    .end()\n                    .process(e -&gt; {\n                        LOGGER.info(&quot;I don't want to be seen, because of {}&quot;, e.getException());\n                    });\n            }\n        };\n    }\n    \n    @Test\n    public void test1() throws InterruptedException {\n        template.sendBody(&quot;direct:start&quot;, Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;));\n        \n        Thread.sleep(5000);\n    }\n}\n</code></pre>\n<p>The exception thrown is never visible in the <em>aggregate</em> method.</p>\n"},{"tags":["java","intellij-idea","grails"],"comments":[{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1659101752,"post_id":73158292,"comment_id":129222227,"body_markdown":"Which JDK are you using?","body":"Which JDK are you using?"},{"owner":{"account_id":985464,"reputation":158,"user_id":1402066,"accept_rate":83,"display_name":"Jim Gough"},"score":0,"creation_date":1659117147,"post_id":73158292,"comment_id":129224936,"body_markdown":"I&#39;m using 1.8 build 291.\n\nI managed to get it running on command line with a fresh repo clone.  The key was not trying to open it with IntelliJ Idea.  So it seems the process of creating a project from existing code is injecting something into the project that screws it up.","body":"I&#39;m using 1.8 build 291.  I managed to get it running on command line with a fresh repo clone.  The key was not trying to open it with IntelliJ Idea.  So it seems the process of creating a project from existing code is injecting something into the project that screws it up."}],"owner":{"account_id":985464,"reputation":158,"user_id":1402066,"accept_rate":83,"display_name":"Jim Gough"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659047618,"creation_date":1659036776,"question_id":73158292,"body_markdown":"When I try to run a legacy Grails 2.5.0 app that runs just fine on a colleague&#39;s machine, I get the following error:\r\n\r\n```Fatal error during compilation org.apache.tools.ant.BuildException: java.lang.LinkageError: loader constraint violation: when resolving method &quot;org.springsource.loaded.TypeRegistry.getReloadableType(II)Lorg/springsource/loaded/ReloadableType;&quot; the class loader (instance of groovy/lang/GroovyClassLoader) of the current class, grails/plugin/cache/compiler/CacheTransformation, and the class loader (instance of sun/misc/Launcher$AppClassLoader) for the method&#39;s defining class, org/springsource/loaded/TypeRegistry, have different Class objects for the type org/springsource/loaded/ReloadableType used in the signature```\r\n\r\n\r\n\r\nI understand it has to do with 2 different loaders trying to load the ReloadableType class from the springloaded library.  When I run n the commandline I get this error instead:\r\n\r\n```Error Error loading plugin manager: null (NOTE: Stack trace has been filtered. Use --verbose to see entire trace.)\r\njava.lang.NullPointerException\r\n\tat _PluginDependencies$_run_closure2.doCall(_PluginDependencies.groovy:48)\r\n\tat org.codehaus.gant.GantMetaClass.invokeMethod(GantMetaClass.java:133)\r\n\tat org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_closure16_closure18.doCall(GantBinding.groovy:185)\r\n\tat org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_closure16_closure18.doCall(GantBinding.groovy)\r\n\tat org.codehaus.gant.GantBinding.withTargetEvent(GantBinding.groovy:90)\r\n\tat org.codehaus.gant.GantBinding.this$4$withTargetEvent(GantBinding.groovy)\r\n\tat org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_closure16.doCall(GantBinding.groovy:185)\r\n\tat org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_closure16.doCall(GantBinding.groovy)\r\n\tat org.codehaus.gant.GantMetaClass.invokeMethod(GantMetaClass.java:133)\r\n\tat _GrailsPackage$_run_closure2.doCall(_GrailsPackage.groovy:57)\r\n\tat org.codehaus.gant.GantMetaClass.invokeMethod(GantMetaClass.java:133)\r\n\tat org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_closure16_closure18.doCall(GantBinding.groovy:185)\r\n\tat org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_closure16_closure18.doCall(GantBinding.groovy)\r\n\tat org.codehaus.gant.GantBinding.withTargetEvent(GantBinding.groovy:90)\r\n\tat org.codehaus.gant.GantBinding.this$4$withTargetEvent(GantBinding.groovy)\r\n\tat org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_closure16.doCall(GantBinding.groovy:185)\r\n\tat org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_closure16.doCall(GantBinding.groovy)\r\n\tat org.codehaus.gant.GantMetaClass.processClosure(GantMetaClass.java:81)\r\n\tat org.codehaus.gant.GantMetaClass.processArgument(GantMetaClass.java:95)\r\n\tat org.codehaus.gant.GantMetaClass.invokeMethod(GantMetaClass.java:128)\r\n\tat RunApp$_run_closure1.doCall(RunApp.groovy:28)\r\n\tat org.codehaus.gant.GantMetaClass.invokeMethod(GantMetaClass.java:133)\r\n\tat org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_closure16_closure18.doCall(GantBinding.groovy:185)\r\n\tat org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_closure16_closure18.doCall(GantBinding.groovy)\r\n\tat org.codehaus.gant.GantBinding.withTargetEvent(GantBinding.groovy:90)\r\n\tat org.codehaus.gant.GantBinding.this$4$withTargetEvent(GantBinding.groovy)\r\n\tat org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_closure16.doCall(GantBinding.groovy:185)\r\n\tat org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_closure16.doCall(GantBinding.groovy)\r\n\tat gant.Gant$_dispatch_closure5.doCall(Gant.groovy:381)\r\n\tat gant.Gant$_dispatch_closure7.doCall(Gant.groovy:415)\r\n\tat gant.Gant$_dispatch_closure7.doCall(Gant.groovy)\r\n\tat gant.Gant.withBuildListeners(Gant.groovy:427)\r\n\tat gant.Gant.this$2$withBuildListeners(Gant.groovy)\r\n\tat gant.Gant.dispatch(Gant.groovy:415)\r\n\tat gant.Gant.this$2$dispatch(Gant.groovy)\r\n\tat gant.Gant.invokeMethod(Gant.groovy)\r\n\tat gant.Gant.executeTargets(Gant.groovy:591)\r\n\tat gant.Gant.executeTargets(Gant.groovy:590)\r\n| Error Error loading plugin manager: null\r\n```\r\n\r\n\r\nAny thoughts?  I did a dependency report trying to resolve the first error, but I don&#39;t see anything that stands out to me.","title":"Trying to run Grails app in IntelliJ Idea fails with loader constraint violation","body":"<p>When I try to run a legacy Grails 2.5.0 app that runs just fine on a colleague's machine, I get the following error:</p>\n<p><code>Fatal error during compilation org.apache.tools.ant.BuildException: java.lang.LinkageError: loader constraint violation: when resolving method &quot;org.springsource.loaded.TypeRegistry.getReloadableType(II)Lorg/springsource/loaded/ReloadableType;&quot; the class loader (instance of groovy/lang/GroovyClassLoader) of the current class, grails/plugin/cache/compiler/CacheTransformation, and the class loader (instance of sun/misc/Launcher$AppClassLoader) for the method's defining class, org/springsource/loaded/TypeRegistry, have different Class objects for the type org/springsource/loaded/ReloadableType used in the signature</code></p>\n<p>I understand it has to do with 2 different loaders trying to load the ReloadableType class from the springloaded library.  When I run n the commandline I get this error instead:</p>\n<pre><code>java.lang.NullPointerException\n    at _PluginDependencies$_run_closure2.doCall(_PluginDependencies.groovy:48)\n    at org.codehaus.gant.GantMetaClass.invokeMethod(GantMetaClass.java:133)\n    at org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_closure16_closure18.doCall(GantBinding.groovy:185)\n    at org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_closure16_closure18.doCall(GantBinding.groovy)\n    at org.codehaus.gant.GantBinding.withTargetEvent(GantBinding.groovy:90)\n    at org.codehaus.gant.GantBinding.this$4$withTargetEvent(GantBinding.groovy)\n    at org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_closure16.doCall(GantBinding.groovy:185)\n    at org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_closure16.doCall(GantBinding.groovy)\n    at org.codehaus.gant.GantMetaClass.invokeMethod(GantMetaClass.java:133)\n    at _GrailsPackage$_run_closure2.doCall(_GrailsPackage.groovy:57)\n    at org.codehaus.gant.GantMetaClass.invokeMethod(GantMetaClass.java:133)\n    at org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_closure16_closure18.doCall(GantBinding.groovy:185)\n    at org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_closure16_closure18.doCall(GantBinding.groovy)\n    at org.codehaus.gant.GantBinding.withTargetEvent(GantBinding.groovy:90)\n    at org.codehaus.gant.GantBinding.this$4$withTargetEvent(GantBinding.groovy)\n    at org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_closure16.doCall(GantBinding.groovy:185)\n    at org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_closure16.doCall(GantBinding.groovy)\n    at org.codehaus.gant.GantMetaClass.processClosure(GantMetaClass.java:81)\n    at org.codehaus.gant.GantMetaClass.processArgument(GantMetaClass.java:95)\n    at org.codehaus.gant.GantMetaClass.invokeMethod(GantMetaClass.java:128)\n    at RunApp$_run_closure1.doCall(RunApp.groovy:28)\n    at org.codehaus.gant.GantMetaClass.invokeMethod(GantMetaClass.java:133)\n    at org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_closure16_closure18.doCall(GantBinding.groovy:185)\n    at org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_closure16_closure18.doCall(GantBinding.groovy)\n    at org.codehaus.gant.GantBinding.withTargetEvent(GantBinding.groovy:90)\n    at org.codehaus.gant.GantBinding.this$4$withTargetEvent(GantBinding.groovy)\n    at org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_closure16.doCall(GantBinding.groovy:185)\n    at org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_closure16.doCall(GantBinding.groovy)\n    at gant.Gant$_dispatch_closure5.doCall(Gant.groovy:381)\n    at gant.Gant$_dispatch_closure7.doCall(Gant.groovy:415)\n    at gant.Gant$_dispatch_closure7.doCall(Gant.groovy)\n    at gant.Gant.withBuildListeners(Gant.groovy:427)\n    at gant.Gant.this$2$withBuildListeners(Gant.groovy)\n    at gant.Gant.dispatch(Gant.groovy:415)\n    at gant.Gant.this$2$dispatch(Gant.groovy)\n    at gant.Gant.invokeMethod(Gant.groovy)\n    at gant.Gant.executeTargets(Gant.groovy:591)\n    at gant.Gant.executeTargets(Gant.groovy:590)\n| Error Error loading plugin manager: null\n</code></pre>\n<p>Any thoughts?  I did a dependency report trying to resolve the first error, but I don't see anything that stands out to me.</p>\n"},{"tags":["java","swing","jbutton","transparency"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1561581340,"post_id":56776678,"comment_id":100116033,"body_markdown":"From the code you posted: `setContentPane(panelPrin = new JLabel());` You shouldn&#39;t use a `JLabel` as the content pane. You should use `JPanel`. To get a background image on a `JPanel` you need to override its `paintComponent()` method. You will find lots of online examples showing how to achieve this. You should also not add a `JButton` to a `JLabel`. Again, instead of the `JLabel` us a `JPanel` with a background image and add the `JButton` to the `JPanel`. Remember to set the appropriate layout manager for the `JPanel` as well.","body":"From the code you posted: <code>setContentPane(panelPrin = new JLabel());</code> You shouldn&#39;t use a <code>JLabel</code> as the content pane. You should use <code>JPanel</code>. To get a background image on a <code>JPanel</code> you need to override its <code>paintComponent()</code> method. You will find lots of online examples showing how to achieve this. You should also not add a <code>JButton</code> to a <code>JLabel</code>. Again, instead of the <code>JLabel</code> us a <code>JPanel</code> with a background image and add the <code>JButton</code> to the <code>JPanel</code>. Remember to set the appropriate layout manager for the <code>JPanel</code> as well."},{"owner":{"account_id":15967242,"reputation":33,"user_id":11522463,"display_name":"Wil Fonseca"},"score":0,"creation_date":1561586425,"post_id":56776678,"comment_id":100117784,"body_markdown":"Thanks for the suggestion! In the moment I started the GUI, I got confused in how to add an image to a JPanel so I ended up using JLabel. Now I exchanged all the JLabel that were supposed to be JPanel to JPanel and it looks the same as when I used the JLabel. Sadly, even when using JPanel, the bug keeps persisting. Any other idea in how to fix it? I&#39;ll update the code.","body":"Thanks for the suggestion! In the moment I started the GUI, I got confused in how to add an image to a JPanel so I ended up using JLabel. Now I exchanged all the JLabel that were supposed to be JPanel to JPanel and it looks the same as when I used the JLabel. Sadly, even when using JPanel, the bug keeps persisting. Any other idea in how to fix it? I&#39;ll update the code."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1561612795,"post_id":56776678,"comment_id":100122893,"body_markdown":"If you are not required to use _Swing_ then I suggest you consider _JavaFX_ which Oracle touts as the new, improved _Swing_.","body":"If you are not required to use <i>Swing</i> then I suggest you consider <i>JavaFX</i> which Oracle touts as the new, improved <i>Swing</i>."}],"answers":[{"tags":[],"owner":{"account_id":540765,"reputation":10083,"user_id":909085,"accept_rate":60,"display_name":"Mikle Garin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1561703318,"creation_date":1561645174,"answer_id":56793107,"question_id":56776678,"body_markdown":"Any issues like the one you are seeing in the example app you have posted in 99% of cases happen due to incorrect mixing of opaque and/or non-opaque components. \r\n\r\nAs I can see from the code - you are using `setOpaque(...)` to change opacity of various components, but it&#39;s quite chaotic. Shortly what `opaque` property does - it affects the way Swing repaints the specific UI element (panel/label/button/etc) whenever a visual update for that element is required. \r\n\r\nFor example when you hover a button with the mouse - it might need to repaint if it has a different hover state, whether it&#39;s just an icon or a slightly/completely different style. This is where opacity comes into play - `opaque=true` components will never pass repaint calls &quot;under&quot; themselves (in other/proper terms - to their parent components). That means that if you have an opaque button on a panel and it have to be repainted when it changes to &quot;hover&quot; state - that button will be the only component to get repainted as there is no reason to repaint anything below it because it is opaque, you literally should not be able to see through it, so the graphics are expected to fill all pixels within bounds of that button with opaque colors. \r\n\r\nTheoretically. On practice if you set a button to an opaque state, but keep it&#39;s graphics content transparent or semi-transparent (which is obviously a mistake, but Swing will never tell you about it) - you will end up seeing various visual artifacts like the ones you see in your application. That happens due to `Graphics2D` implementation often performing different paint operations at (0,0) coordinate to optimize their speed - this is not really important to know, but that is partially why you might see other component &quot;parts&quot; mixed in your component bounds when it is transparent. It&#39;s a bit more complicated than that, but it shouldn&#39;t ever really matter as it is simply an internal Swing optimization.\r\n\r\nSimilar visual problems might also be caused by mixing `opaque=true` and `opaque=false` components on the same layout. Most probably that is the case for your issue as well. I did quickly try to set everything in your demo to `opaque=false` and it did fix the issue, but it&#39;s not really the correct way to fix it, especially if you want to keep some components opaque. That just means the problem lies somewhere in the way of mixing components with different opacity types on top of each other within a single container.\r\n\r\nMy personal recommendation - never mix opaque and non-opaque components in one layout if there is even a slight chance they will overlap (meaning their bounds will intersect within the layout). Or even better - never overlap components on top of each other within a single container. Use multiple nested containers with appropriate non-null layouts, this will also help you a lot in the future to easily modify your UI.\r\n\r\nI can give you a simple example that can demonstrate why it is bad:\r\n\r\n```java\r\n/**\r\n * @author Mikle Garin\r\n */\r\npublic class OpacityGlitch\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        SwingUtilities.invokeLater ( () -&gt; {\r\n            final JFrame frame = new JFrame ( &quot;Opacity glitch sample&quot; );\r\n\r\n            // Opaque by default\r\n            final JPanel panel = new JPanel ( null );\r\n\r\n            // Opaque by default, but might vary with L&amp;F\r\n            final JButton button1 = new JButton ( &quot;1111111&quot; );\r\n            panel.add ( button1 );\r\n\r\n            // Non-opaque to demonstrate the problem\r\n            final JButton button2 = new JButton ( &quot;2222222&quot; );\r\n            panel.add ( button2 );\r\n\r\n            // Intersecting buttons\r\n            button1.setBounds ( 100, 100, 150, 30 );\r\n            button2.setBounds ( 130, 115, 150, 30 );\r\n\r\n            frame.getContentPane ().add ( panel );\r\n\r\n            frame.setDefaultCloseOperation ( JFrame.EXIT_ON_CLOSE );\r\n            frame.setSize ( 500, 500 );\r\n            frame.setLocationRelativeTo ( null );\r\n            frame.setVisible ( true );\r\n        } );\r\n    }\r\n}\r\n```\r\n\r\nTheoretically what you should get is `button1` always being on top (due to it being added earlier and being painted last on the container), but on practice - which button is fully visible and on top of the other one will change if you try hovering either of the buttons. This happens due to both buttons being opaque and repaint calls not going past the button components to their container and whatever intersects with them further on. To fix this particular case it is enough to make `button2` non-opaque because it should always stay below the `button1` and if it is non-opaque it will safely pass the repaint calls at least to it&#39;s container:\r\n\r\n```\r\nbutton2.setOpaque ( false );\r\n```\r\n\r\nAlthough I personally would recommend making all involved components opaque in such cases to avoid other possible issues if component order may be changed in the future or due to any user interactions - for instance the scroll bar in your application is the prime example. Container does not have to be non-opaque though as it will correctly pass repaint calls between components placed in it and will correctly repaint itself as well.\r\n\r\nOnce you change buttons from my example above to non-opaque the issue will disappear due to repaint being correctly handled for them.\r\n\r\nThis might be a complicated topic for a beginner in Swing, but I highly recommend to fully understand why and how things like that happen, otherwise it will become a huge problem for you in the future, once your application grows bigger.","title":"Why is a transparent JButton showing images of the frame when transparency is added?","body":"<p>Any issues like the one you are seeing in the example app you have posted in 99% of cases happen due to incorrect mixing of opaque and/or non-opaque components. </p>\n\n<p>As I can see from the code - you are using <code>setOpaque(...)</code> to change opacity of various components, but it's quite chaotic. Shortly what <code>opaque</code> property does - it affects the way Swing repaints the specific UI element (panel/label/button/etc) whenever a visual update for that element is required. </p>\n\n<p>For example when you hover a button with the mouse - it might need to repaint if it has a different hover state, whether it's just an icon or a slightly/completely different style. This is where opacity comes into play - <code>opaque=true</code> components will never pass repaint calls \"under\" themselves (in other/proper terms - to their parent components). That means that if you have an opaque button on a panel and it have to be repainted when it changes to \"hover\" state - that button will be the only component to get repainted as there is no reason to repaint anything below it because it is opaque, you literally should not be able to see through it, so the graphics are expected to fill all pixels within bounds of that button with opaque colors. </p>\n\n<p>Theoretically. On practice if you set a button to an opaque state, but keep it's graphics content transparent or semi-transparent (which is obviously a mistake, but Swing will never tell you about it) - you will end up seeing various visual artifacts like the ones you see in your application. That happens due to <code>Graphics2D</code> implementation often performing different paint operations at (0,0) coordinate to optimize their speed - this is not really important to know, but that is partially why you might see other component \"parts\" mixed in your component bounds when it is transparent. It's a bit more complicated than that, but it shouldn't ever really matter as it is simply an internal Swing optimization.</p>\n\n<p>Similar visual problems might also be caused by mixing <code>opaque=true</code> and <code>opaque=false</code> components on the same layout. Most probably that is the case for your issue as well. I did quickly try to set everything in your demo to <code>opaque=false</code> and it did fix the issue, but it's not really the correct way to fix it, especially if you want to keep some components opaque. That just means the problem lies somewhere in the way of mixing components with different opacity types on top of each other within a single container.</p>\n\n<p>My personal recommendation - never mix opaque and non-opaque components in one layout if there is even a slight chance they will overlap (meaning their bounds will intersect within the layout). Or even better - never overlap components on top of each other within a single container. Use multiple nested containers with appropriate non-null layouts, this will also help you a lot in the future to easily modify your UI.</p>\n\n<p>I can give you a simple example that can demonstrate why it is bad:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * @author Mikle Garin\n */\npublic class OpacityGlitch\n{\n    public static void main ( String[] args )\n    {\n        SwingUtilities.invokeLater ( () -&gt; {\n            final JFrame frame = new JFrame ( \"Opacity glitch sample\" );\n\n            // Opaque by default\n            final JPanel panel = new JPanel ( null );\n\n            // Opaque by default, but might vary with L&amp;F\n            final JButton button1 = new JButton ( \"1111111\" );\n            panel.add ( button1 );\n\n            // Non-opaque to demonstrate the problem\n            final JButton button2 = new JButton ( \"2222222\" );\n            panel.add ( button2 );\n\n            // Intersecting buttons\n            button1.setBounds ( 100, 100, 150, 30 );\n            button2.setBounds ( 130, 115, 150, 30 );\n\n            frame.getContentPane ().add ( panel );\n\n            frame.setDefaultCloseOperation ( JFrame.EXIT_ON_CLOSE );\n            frame.setSize ( 500, 500 );\n            frame.setLocationRelativeTo ( null );\n            frame.setVisible ( true );\n        } );\n    }\n}\n</code></pre>\n\n<p>Theoretically what you should get is <code>button1</code> always being on top (due to it being added earlier and being painted last on the container), but on practice - which button is fully visible and on top of the other one will change if you try hovering either of the buttons. This happens due to both buttons being opaque and repaint calls not going past the button components to their container and whatever intersects with them further on. To fix this particular case it is enough to make <code>button2</code> non-opaque because it should always stay below the <code>button1</code> and if it is non-opaque it will safely pass the repaint calls at least to it's container:</p>\n\n<pre><code>button2.setOpaque ( false );\n</code></pre>\n\n<p>Although I personally would recommend making all involved components opaque in such cases to avoid other possible issues if component order may be changed in the future or due to any user interactions - for instance the scroll bar in your application is the prime example. Container does not have to be non-opaque though as it will correctly pass repaint calls between components placed in it and will correctly repaint itself as well.</p>\n\n<p>Once you change buttons from my example above to non-opaque the issue will disappear due to repaint being correctly handled for them.</p>\n\n<p>This might be a complicated topic for a beginner in Swing, but I highly recommend to fully understand why and how things like that happen, otherwise it will become a huge problem for you in the future, once your application grows bigger.</p>\n"}],"owner":{"account_id":15967242,"reputation":33,"user_id":11522463,"display_name":"Wil Fonseca"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":673,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56793107,"answer_count":1,"score":1,"last_activity_date":1659047105,"creation_date":1561564071,"question_id":56776678,"body_markdown":"I&#39;m developing a GUI for a Java application and I want to have a background image. The problem is that I have a type of &quot;drawer&quot; filled with buttons, that has buttons highlighted in red when are selected.\r\n\r\nIm using the method buttonName.setBackground(new Color(255, 102, 102, 200)); to set the highlited button and the transparency at the same time. The problem is that despite that the method works and transparents the button, the transparency shows random parts of the frame behind the button, beign these the header, another button, the scrollbar of the JScrollPane where the buttons are located, etc. The text of the button still shows up, and the button works, but the background shows the text from other buttons or parts of the frame.\r\n\r\nBesides, I realized that if I click a button and pass the mouse over the selected button multiple times, the transparency starts to accumulate to the point that it gets to a solid color.\r\n\r\n```\r\npackage buttonsbug;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Image;\r\nimport java.awt.Toolkit;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.BorderFactory;\r\nimport javax.swing.ImageIcon;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JOptionPane;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JScrollPane;\r\n\r\n/**\r\n *\r\n * @author F&amp;H\r\n */\r\npublic class ButtonsBug extends JFrame implements ActionListener {\r\n\r\n    private ArrayList&lt;JButton&gt; botones;\r\n    private JLabel panelPrin, panelNav, panelUser, panelImgUser, nombre, puesto;\r\n    private JButton logout, planDis, consuEmpleados, funConsultarPiezas, btnCalidad, compraMat, soySuper, histProy, crearProyecto, clientes, adminConsProye;\r\n    private JPanel buttonScroll;\r\n    private JScrollPane navScroll;\r\n    private BufferedImage img;\r\n    private Dimension screenSize;\r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String[] args) {\r\n        java.awt.EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                try {\r\n                    new ButtonsBug().setVisible(true);\r\n                } catch (Exception e) {\r\n                    System.out.println(e.getMessage());\r\n                    System.exit(0);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    public ButtonsBug() {\r\n        botones = new ArrayList&lt;&gt;();\r\n\r\n        screenSize = Toolkit.getDefaultToolkit().getScreenSize();\r\n        this.setDefaultCloseOperation(DISPOSE_ON_CLOSE);\r\n        setSize(ajustarDimensiones(1400), ajustarDimensiones(800));\r\n\r\n        setContentPane(panelPrin = new JLabel());\r\n        panelPrin.setSize(ajustarDimensiones(1400), ajustarDimensiones(800));\r\n        try {\r\n            img = ImageIO.read(new File(&quot;src/tw3.png&quot;));\r\n            Image dimg1 = img.getScaledInstance(panelPrin.getWidth(), panelPrin.getHeight(), Image.SCALE_SMOOTH);\r\n            ImageIcon imageIcon = new ImageIcon(dimg1);\r\n            panelPrin.setIcon(imageIcon);\r\n        } catch (IOException z) {\r\n            System.out.println(z.getMessage());\r\n            JOptionPane.showMessageDialog(this, &quot;&#161;Error en la lectura de imagen!&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n        }\r\n\r\n        panelPrin.setBackground(java.awt.Color.white);\r\n        panelPrin.add(panelNav = new JLabel());\r\n//        panelPrin.setOpaque(true);\r\n\r\n//        panelNav.setOpaque(true);\r\n        panelNav.setBorder(BorderFactory.createLineBorder(Color.BLACK, 1));\r\n//        panelNav.setBackground(new Color(0, 0, 0, 150));\r\n        panelNav.setBounds(0, 0, ajustarDimensiones(305), ajustarDimensiones(771));\r\n        panelNav.add(panelUser = new JLabel());\r\n        panelNav.add(logout = new JButton());\r\n        logout.setContentAreaFilled(false);\r\n//        logout.setOpaque(true);\r\n\r\n//        panelUser.setOpaque(true);\r\n        panelUser.setBounds(ajustarDimensiones(1), ajustarDimensiones(1), ajustarDimensiones(303), ajustarDimensiones(88));\r\n        panelUser.add(panelImgUser = new JLabel());\r\n        panelUser.add(nombre = new JLabel());\r\n        panelUser.add(puesto = new JLabel());\r\n        nombre.setText(&quot;Wil Fonseca&quot;);\r\n        puesto.setText(&quot;Production manager&quot;);\r\n\r\n        nombre.setBounds(ajustarDimensiones(55), ajustarDimensiones(25), ajustarDimensiones(245), ajustarDimensiones(20));\r\n        puesto.setBounds(ajustarDimensiones(55), ajustarDimensiones(45), ajustarDimensiones(245), ajustarDimensiones(20));\r\n        nombre.setFont(new java.awt.Font(&quot;Arial&quot;, 1, ajustarDimensiones(14)));\r\n        puesto.setFont(new java.awt.Font(&quot;Arial&quot;, 1, ajustarDimensiones(12)));\r\n        nombre.setForeground(Color.white);\r\n        puesto.setForeground(Color.white);\r\n\r\n        logout.setText(&quot;Logout&quot;);\r\n        logout.setFont(new java.awt.Font(&quot;Arial&quot;, 1, ajustarDimensiones(34)));\r\n        logout.setBounds(ajustarDimensiones(1), ajustarDimensiones(691), ajustarDimensiones(303), ajustarDimensiones(88));\r\n        logout.setBackground(Color.white);\r\n        logout.setForeground(Color.red);\r\n        logout.addActionListener(this);\r\n        logout.setBorder(null);\r\n        logout.setBorderPainted(false);\r\n        logout.setFocusPainted(false);\r\n\r\n        panelImgUser.setBounds(ajustarDimensiones(3), ajustarDimensiones(24), ajustarDimensiones(40), ajustarDimensiones(40));\r\n        \r\n        try {\r\n            img = ImageIO.read(new File(&quot;src/Usuario.png&quot;));\r\n            Image dimg1 = img.getScaledInstance(panelImgUser.getWidth(), panelImgUser.getHeight(), Image.SCALE_SMOOTH);\r\n            ImageIcon imageIcon = new ImageIcon(dimg1);\r\n            panelImgUser.setIcon(imageIcon);\r\n        } catch (IOException z) {\r\n            System.out.println(z.getMessage());\r\n        }\r\n\r\n        setTitle(&quot;ButtonsBug&quot;);\r\n        setLocationRelativeTo(null);\r\n        setResizable(false);\r\n        setVisible(true);\r\n\r\n        buttonGenerator();\r\n\r\n    }\r\n\r\n    public int ajustarDimensiones(int coo) {\r\n        int newC = 0;\r\n        double res = (screenSize.getHeight());\r\n        float newRes;\r\n        if (res &lt; 1080) {\r\n            if (coo == 1400) {\r\n                return 1208;\r\n            } else if (coo == 800) {\r\n                return 680;\r\n            }\r\n        }\r\n        if (coo == 0) {\r\n            return newC;\r\n        } else {\r\n            if (res &lt; 1080) {\r\n                newRes = (918f / 1080f);\r\n                if (coo == 305) {\r\n                    newC = (int) (newRes * coo) - 1;\r\n                } else if (coo == 90) {\r\n                    newC = (int) (newRes * coo) - 1;\r\n                } else if (coo == 224) {\r\n                    newC = (int) (newRes * coo) - 1;\r\n                } else if (coo == 601) {\r\n                    newC = (int) (newRes * coo) + 3;\r\n                } else if (coo == 1066) {\r\n                    newC = (int) (newRes * coo) - 1;\r\n                } else if (coo == 1474 || coo == 1576) {\r\n                    newC = (int) (newRes * coo) + 1;\r\n                } else if (coo == 1059) {\r\n                    newC = (int) (newRes * coo) - 10;\r\n                } else if (coo == 1095) {\r\n                    newC = (int) (newRes * coo) + 14;\r\n                } else {\r\n                    newC = (int) (newRes * coo);\r\n                }\r\n            } else {\r\n                newRes = (float) (res / 1080f);\r\n                newC = (int) (newRes * coo);\r\n            }\r\n            if (newC &lt; 0) {\r\n                newC = 1;\r\n            }\r\n\r\n        }\r\n\r\n        return newC;\r\n    }\r\n\r\n    public void buttonGenerator() {\r\n\r\n        int y = 0;\r\n        panelNav.add(navScroll = new JScrollPane(buttonScroll = new JPanel(), JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED, JScrollPane.HORIZONTAL_SCROLLBAR_NEVER));\r\n        navScroll.setBorder(BorderFactory.createEmptyBorder());\r\n        navScroll.setBounds(ajustarDimensiones(1), ajustarDimensiones(90), ajustarDimensiones(303), ajustarDimensiones(600));\r\n//        navScroll.setBackground(Color.white);\r\n        navScroll.setOpaque(false);\r\n\r\n        navScroll.getVerticalScrollBar().setUnitIncrement(30);\r\n        navScroll.setPreferredSize(new Dimension(ajustarDimensiones(305), ajustarDimensiones(601)));\r\n//        buttonScroll.setBackground(Color.white);\r\n        buttonScroll.setPreferredSize(new Dimension(ajustarDimensiones(305), ajustarDimensiones(601)));\r\n        buttonScroll.setLayout(null);\r\n        navScroll.setViewportView(buttonScroll);\r\n        buttonScroll.setOpaque(false);\r\n        navScroll.getViewport().setOpaque(false);\r\n\r\n        buttonScroll.add(funConsultarPiezas = new JButton());\r\n        funConsultarPiezas.setContentAreaFilled(false);\r\n        //           funConsultarPiezas.setOpaque(true);\r\n        funConsultarPiezas.setText(&quot;Consultar pieza&quot;);\r\n        funConsultarPiezas.setFont(new java.awt.Font(&quot;Arial&quot;, 1, ajustarDimensiones(30)));\r\n        funConsultarPiezas.setBounds(ajustarDimensiones(1), ajustarDimensiones(0), ajustarDimensiones(301), ajustarDimensiones(80));\r\n        //        funConsultarPiezas.setBackground(java.awt.Color.white);\r\n        funConsultarPiezas.setForeground(Color.white);\r\n        funConsultarPiezas.addActionListener(this);\r\n        funConsultarPiezas.setBorder(null);\r\n        funConsultarPiezas.setBorderPainted(false);\r\n        funConsultarPiezas.setFocusPainted(false);\r\n        botones.add(funConsultarPiezas);\r\n\r\n        y += 81;\r\n\r\n        buttonScroll.add(btnCalidad = new JButton());\r\n        btnCalidad.setContentAreaFilled(false);\r\n        //     btnCalidad.setOpaque(true);\r\n        btnCalidad.setText(&quot;Quality Check&quot;);\r\n        btnCalidad.setBounds(ajustarDimensiones(1), ajustarDimensiones(y), ajustarDimensiones(301), ajustarDimensiones(80));\r\n        btnCalidad.setFont(new java.awt.Font(&quot;Arial&quot;, 1, ajustarDimensiones(30)));\r\n        //        btnCalidad.setBackground(Color.white);\r\n        btnCalidad.setForeground(Color.white);\r\n        btnCalidad.addActionListener(this);\r\n        btnCalidad.setBorder(null);\r\n        btnCalidad.setBorderPainted(false);\r\n        btnCalidad.setFocusPainted(false);\r\n        botones.add(btnCalidad);\r\n\r\n        y += 81;\r\n        buttonScroll.add(planDis = new JButton());\r\n        planDis.setContentAreaFilled(false);\r\n        //       planDis.setOpaque(true);\r\n        planDis.setText(&quot;Dise&#241;o y planear&quot;);\r\n        planDis.setBounds(ajustarDimensiones(1), ajustarDimensiones(y), ajustarDimensiones(301), ajustarDimensiones(80));\r\n        planDis.setFont(new java.awt.Font(&quot;Arial&quot;, 1, ajustarDimensiones(30)));\r\n        //         planDis.setBackground(Color.white);\r\n        planDis.setForeground(Color.white);\r\n        planDis.addActionListener(this);\r\n        planDis.setBorder(null);\r\n        planDis.setBorderPainted(false);\r\n        planDis.setFocusPainted(false);\r\n        botones.add(planDis);\r\n\r\n        y += 81;\r\n\r\n        buttonScroll.add(compraMat = new JButton());\r\n        compraMat.setContentAreaFilled(false);\r\n//            compraMat.setOpaque(true);\r\n        compraMat.setText(&quot;Compra Material&quot;);\r\n        compraMat.setBounds(ajustarDimensiones(1), ajustarDimensiones(y), ajustarDimensiones(301), ajustarDimensiones(80));\r\n        compraMat.setFont(new java.awt.Font(&quot;Arial&quot;, 1, ajustarDimensiones(30)));\r\n        //compraMat.setBackground(Color.white);\r\n        compraMat.setForeground(Color.white);\r\n        compraMat.addActionListener(this);\r\n        compraMat.setBorder(null);\r\n        compraMat.setBorderPainted(false);\r\n        compraMat.setFocusPainted(false);\r\n        botones.add(compraMat);\r\n\r\n        y += 81;\r\n\r\n        buttonScroll.add(soySuper = new JButton());\r\n        soySuper.setContentAreaFilled(false);\r\n//            soySuper.setOpaque(true);\r\n        soySuper.setText(&quot;Liberar piezas&quot;);\r\n        soySuper.setBounds(ajustarDimensiones(1), ajustarDimensiones(y), ajustarDimensiones(301), ajustarDimensiones(80));\r\n        soySuper.setFont(new java.awt.Font(&quot;Arial&quot;, 1, ajustarDimensiones(30)));\r\n        //soySuper.setBackground(Color.white);\r\n        soySuper.setForeground(Color.white);\r\n        soySuper.addActionListener(this);\r\n        soySuper.setBorder(null);\r\n        soySuper.setBorderPainted(false);\r\n        soySuper.setFocusPainted(false);\r\n        botones.add(soySuper);\r\n\r\n        y += 81;\r\n\r\n        buttonScroll.add(crearProyecto = new JButton());\r\n        crearProyecto.setContentAreaFilled(false);\r\n//            crearProyecto.setOpaque(true);\r\n        crearProyecto.setText(&quot;Crear proyecto&quot;);\r\n        crearProyecto.setBounds(ajustarDimensiones(1), ajustarDimensiones(y), ajustarDimensiones(301), ajustarDimensiones(80));\r\n        crearProyecto.setFont(new java.awt.Font(&quot;Arial&quot;, 1, ajustarDimensiones(30)));\r\n        //crearProyecto.setBackground(Color.white);\r\n        crearProyecto.setForeground(Color.white);\r\n        crearProyecto.addActionListener(this);\r\n        crearProyecto.setBorder(null);\r\n        crearProyecto.setBorderPainted(false);\r\n        crearProyecto.setFocusPainted(false);\r\n        botones.add(crearProyecto);\r\n\r\n        y += 81;\r\n\r\n        buttonScroll.add(clientes = new JButton());\r\n        clientes.setContentAreaFilled(false);\r\n//            clientes.setOpaque(true);\r\n        clientes.setText(&quot;Clientes&quot;);\r\n        clientes.setBounds(ajustarDimensiones(1), ajustarDimensiones(y), ajustarDimensiones(301), ajustarDimensiones(80));\r\n        clientes.setFont(new java.awt.Font(&quot;Arial&quot;, 1, ajustarDimensiones(30)));\r\n        //clientes.setBackground(Color.white);\r\n        clientes.setForeground(Color.white);\r\n        clientes.addActionListener(this);\r\n        clientes.setBorder(null);\r\n        clientes.setBorderPainted(false);\r\n        clientes.setFocusPainted(false);\r\n        botones.add(clientes);\r\n\r\n        y += 81;\r\n\r\n        buttonScroll.add(adminConsProye = new JButton());\r\n        adminConsProye.setContentAreaFilled(false);\r\n//            adminConsProye.setOpaque(true);\r\n        adminConsProye.setText(&quot;Consultar proyectos&quot;);\r\n        adminConsProye.setBounds(ajustarDimensiones(1), ajustarDimensiones(y), ajustarDimensiones(301), ajustarDimensiones(80));\r\n        adminConsProye.setFont(new java.awt.Font(&quot;Arial&quot;, 1, ajustarDimensiones(26)));\r\n        //adminConsProye.setBackground(Color.white);\r\n        adminConsProye.setForeground(Color.white);\r\n        adminConsProye.addActionListener(this);\r\n        adminConsProye.setBorder(null);\r\n        adminConsProye.setBorderPainted(false);\r\n        adminConsProye.setFocusPainted(false);\r\n        botones.add(adminConsProye);\r\n\r\n        y += 81;\r\n\r\n        buttonScroll.add(histProy = new JButton());\r\n        histProy.setText(&quot;Historial&quot;);\r\n        histProy.setContentAreaFilled(false);\r\n//            histProy.setOpaque(true);\r\n        histProy.setBounds(ajustarDimensiones(1), ajustarDimensiones(y), ajustarDimensiones(301), ajustarDimensiones(80));\r\n        histProy.setFont(new java.awt.Font(&quot;Arial&quot;, 1, ajustarDimensiones(30)));\r\n        //histProy.setBackground(Color.white);\r\n        histProy.setForeground(Color.white);\r\n        histProy.addActionListener(this);\r\n        histProy.setBorder(null);\r\n        histProy.setBorderPainted(false);\r\n        histProy.setFocusPainted(false);\r\n        botones.add(histProy);\r\n\r\n        y += 81;\r\n\r\n        buttonScroll.add(consuEmpleados = new JButton());\r\n        consuEmpleados.setText(&quot;Trabajadores&quot;);\r\n        consuEmpleados.setContentAreaFilled(false);\r\n//            consuEmpleados.setOpaque(true);\r\n        consuEmpleados.setBounds(ajustarDimensiones(1), ajustarDimensiones(y), ajustarDimensiones(301), ajustarDimensiones(80));\r\n        consuEmpleados.setFont(new java.awt.Font(&quot;Arial&quot;, 1, ajustarDimensiones(30)));\r\n        //consuEmpleados.setBackground(Color.white);\r\n        consuEmpleados.setForeground(Color.white);\r\n        consuEmpleados.addActionListener(this);\r\n        consuEmpleados.setBorder(null);\r\n        consuEmpleados.setBorderPainted(false);\r\n        consuEmpleados.setFocusPainted(false);\r\n        botones.add(consuEmpleados);\r\n\r\n        y += 81;\r\n\r\n        buttonScroll.setPreferredSize(new Dimension(ajustarDimensiones(305), ajustarDimensiones(y)));\r\n    }\r\n\r\n    public void botonSeleccionado(JButton but) {\r\n        for (JButton b : botones) {\r\n            if (b.getText().equalsIgnoreCase(but.getText())) {\r\n                b.setOpaque(true);\r\n                b.setBackground(new Color(255, 102, 102, 200));\r\n                b.setForeground(Color.white);\r\n            } else {\r\n                b.setOpaque(false);\r\n                //b.setBackground(Color.white);\r\n                b.setForeground(Color.white);\r\n            }\r\n            b.revalidate();\r\n            b.repaint();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent ae) {\r\n        JButton obj = (JButton) ae.getSource();\r\n        if (obj != logout) {\r\n            botonSeleccionado(obj);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nIf someone knows how to make a clean transparent button, I would really appreciate the help.\r\n\r\nI leave here the source code with the test images that I&#39;m using.\r\nhttps://drive.google.com/file/d/1l8R52WTDyP93L0UhTNd3oorD7Qhv-TcP/view?usp=sharing\r\n\r\nIn this [image][2], you can see the 3 kind of bugs that I have, in the first one you can see how there&#39;s another button in the background and the scroll bar is shown in the left of the button. In the second one, it&#39;s the header of the navigation panel. In the third one, I passed the mouse multiple times over the selected button and it turned into a solid color instead of a transparent one.\r\n\r\nEDIT:\r\n\r\nI decided to check if the bug persisted if I applied it to the navigation panel, because it will have to be transparent as well when the application is finished. So I added the following lines of code in the lines 82 and 83 of the code above:\r\n```\r\n        panelNav.setBackground(new Color(0, 0, 0, 200));\r\n        panelNav.setOpaque(true);\r\n```\r\n\r\nIn this other [image][1] I applied the transparency to the whole navigation panel, which is a JLabel. In the first image is shown what appears when the frame is displayed, there&#39;s even parts of the frame that are displayed beneath the navigation panel. In the second one is shown what happens when I use the scroll bar once.\r\n\r\nEDIT 2:\r\nI replaced all the JLabel that were used as JPanel for actual JPanel. Sadly, the bug persisted. I add an extra button in the main JPanel, I did this because I thought the bug origin from adding buttons to a JScrollPane. But it seems that the problem is directly in how I implement the method buttonName.setBackground().\r\n\r\nHere&#39;s the new version of the code:\r\nhttps://drive.google.com/file/d/1PuHMkEYNbBoafqs5XiyUaeCkIyXfnHFJ/view?usp=sharing\r\n\r\n  [1]: https://i.stack.imgur.com/pmcww.png\r\n  [2]: https://i.stack.imgur.com/rV8Bm.png","title":"Why is a transparent JButton showing images of the frame when transparency is added?","body":"<p>I'm developing a GUI for a Java application and I want to have a background image. The problem is that I have a type of &quot;drawer&quot; filled with buttons, that has buttons highlighted in red when are selected.</p>\n<p>Im using the method buttonName.setBackground(new Color(255, 102, 102, 200)); to set the highlited button and the transparency at the same time. The problem is that despite that the method works and transparents the button, the transparency shows random parts of the frame behind the button, beign these the header, another button, the scrollbar of the JScrollPane where the buttons are located, etc. The text of the button still shows up, and the button works, but the background shows the text from other buttons or parts of the frame.</p>\n<p>Besides, I realized that if I click a button and pass the mouse over the selected button multiple times, the transparency starts to accumulate to the point that it gets to a solid color.</p>\n<pre><code>package buttonsbug;\n\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Image;\nimport java.awt.Toolkit;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport javax.imageio.ImageIO;\nimport javax.swing.BorderFactory;\nimport javax.swing.ImageIcon;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\n\n/**\n *\n * @author F&amp;H\n */\npublic class ButtonsBug extends JFrame implements ActionListener {\n\n    private ArrayList&lt;JButton&gt; botones;\n    private JLabel panelPrin, panelNav, panelUser, panelImgUser, nombre, puesto;\n    private JButton logout, planDis, consuEmpleados, funConsultarPiezas, btnCalidad, compraMat, soySuper, histProy, crearProyecto, clientes, adminConsProye;\n    private JPanel buttonScroll;\n    private JScrollPane navScroll;\n    private BufferedImage img;\n    private Dimension screenSize;\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    new ButtonsBug().setVisible(true);\n                } catch (Exception e) {\n                    System.out.println(e.getMessage());\n                    System.exit(0);\n                }\n            }\n        });\n    }\n\n    public ButtonsBug() {\n        botones = new ArrayList&lt;&gt;();\n\n        screenSize = Toolkit.getDefaultToolkit().getScreenSize();\n        this.setDefaultCloseOperation(DISPOSE_ON_CLOSE);\n        setSize(ajustarDimensiones(1400), ajustarDimensiones(800));\n\n        setContentPane(panelPrin = new JLabel());\n        panelPrin.setSize(ajustarDimensiones(1400), ajustarDimensiones(800));\n        try {\n            img = ImageIO.read(new File(&quot;src/tw3.png&quot;));\n            Image dimg1 = img.getScaledInstance(panelPrin.getWidth(), panelPrin.getHeight(), Image.SCALE_SMOOTH);\n            ImageIcon imageIcon = new ImageIcon(dimg1);\n            panelPrin.setIcon(imageIcon);\n        } catch (IOException z) {\n            System.out.println(z.getMessage());\n            JOptionPane.showMessageDialog(this, &quot;Â¡Error en la lectura de imagen!&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n        }\n\n        panelPrin.setBackground(java.awt.Color.white);\n        panelPrin.add(panelNav = new JLabel());\n//        panelPrin.setOpaque(true);\n\n//        panelNav.setOpaque(true);\n        panelNav.setBorder(BorderFactory.createLineBorder(Color.BLACK, 1));\n//        panelNav.setBackground(new Color(0, 0, 0, 150));\n        panelNav.setBounds(0, 0, ajustarDimensiones(305), ajustarDimensiones(771));\n        panelNav.add(panelUser = new JLabel());\n        panelNav.add(logout = new JButton());\n        logout.setContentAreaFilled(false);\n//        logout.setOpaque(true);\n\n//        panelUser.setOpaque(true);\n        panelUser.setBounds(ajustarDimensiones(1), ajustarDimensiones(1), ajustarDimensiones(303), ajustarDimensiones(88));\n        panelUser.add(panelImgUser = new JLabel());\n        panelUser.add(nombre = new JLabel());\n        panelUser.add(puesto = new JLabel());\n        nombre.setText(&quot;Wil Fonseca&quot;);\n        puesto.setText(&quot;Production manager&quot;);\n\n        nombre.setBounds(ajustarDimensiones(55), ajustarDimensiones(25), ajustarDimensiones(245), ajustarDimensiones(20));\n        puesto.setBounds(ajustarDimensiones(55), ajustarDimensiones(45), ajustarDimensiones(245), ajustarDimensiones(20));\n        nombre.setFont(new java.awt.Font(&quot;Arial&quot;, 1, ajustarDimensiones(14)));\n        puesto.setFont(new java.awt.Font(&quot;Arial&quot;, 1, ajustarDimensiones(12)));\n        nombre.setForeground(Color.white);\n        puesto.setForeground(Color.white);\n\n        logout.setText(&quot;Logout&quot;);\n        logout.setFont(new java.awt.Font(&quot;Arial&quot;, 1, ajustarDimensiones(34)));\n        logout.setBounds(ajustarDimensiones(1), ajustarDimensiones(691), ajustarDimensiones(303), ajustarDimensiones(88));\n        logout.setBackground(Color.white);\n        logout.setForeground(Color.red);\n        logout.addActionListener(this);\n        logout.setBorder(null);\n        logout.setBorderPainted(false);\n        logout.setFocusPainted(false);\n\n        panelImgUser.setBounds(ajustarDimensiones(3), ajustarDimensiones(24), ajustarDimensiones(40), ajustarDimensiones(40));\n        \n        try {\n            img = ImageIO.read(new File(&quot;src/Usuario.png&quot;));\n            Image dimg1 = img.getScaledInstance(panelImgUser.getWidth(), panelImgUser.getHeight(), Image.SCALE_SMOOTH);\n            ImageIcon imageIcon = new ImageIcon(dimg1);\n            panelImgUser.setIcon(imageIcon);\n        } catch (IOException z) {\n            System.out.println(z.getMessage());\n        }\n\n        setTitle(&quot;ButtonsBug&quot;);\n        setLocationRelativeTo(null);\n        setResizable(false);\n        setVisible(true);\n\n        buttonGenerator();\n\n    }\n\n    public int ajustarDimensiones(int coo) {\n        int newC = 0;\n        double res = (screenSize.getHeight());\n        float newRes;\n        if (res &lt; 1080) {\n            if (coo == 1400) {\n                return 1208;\n            } else if (coo == 800) {\n                return 680;\n            }\n        }\n        if (coo == 0) {\n            return newC;\n        } else {\n            if (res &lt; 1080) {\n                newRes = (918f / 1080f);\n                if (coo == 305) {\n                    newC = (int) (newRes * coo) - 1;\n                } else if (coo == 90) {\n                    newC = (int) (newRes * coo) - 1;\n                } else if (coo == 224) {\n                    newC = (int) (newRes * coo) - 1;\n                } else if (coo == 601) {\n                    newC = (int) (newRes * coo) + 3;\n                } else if (coo == 1066) {\n                    newC = (int) (newRes * coo) - 1;\n                } else if (coo == 1474 || coo == 1576) {\n                    newC = (int) (newRes * coo) + 1;\n                } else if (coo == 1059) {\n                    newC = (int) (newRes * coo) - 10;\n                } else if (coo == 1095) {\n                    newC = (int) (newRes * coo) + 14;\n                } else {\n                    newC = (int) (newRes * coo);\n                }\n            } else {\n                newRes = (float) (res / 1080f);\n                newC = (int) (newRes * coo);\n            }\n            if (newC &lt; 0) {\n                newC = 1;\n            }\n\n        }\n\n        return newC;\n    }\n\n    public void buttonGenerator() {\n\n        int y = 0;\n        panelNav.add(navScroll = new JScrollPane(buttonScroll = new JPanel(), JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED, JScrollPane.HORIZONTAL_SCROLLBAR_NEVER));\n        navScroll.setBorder(BorderFactory.createEmptyBorder());\n        navScroll.setBounds(ajustarDimensiones(1), ajustarDimensiones(90), ajustarDimensiones(303), ajustarDimensiones(600));\n//        navScroll.setBackground(Color.white);\n        navScroll.setOpaque(false);\n\n        navScroll.getVerticalScrollBar().setUnitIncrement(30);\n        navScroll.setPreferredSize(new Dimension(ajustarDimensiones(305), ajustarDimensiones(601)));\n//        buttonScroll.setBackground(Color.white);\n        buttonScroll.setPreferredSize(new Dimension(ajustarDimensiones(305), ajustarDimensiones(601)));\n        buttonScroll.setLayout(null);\n        navScroll.setViewportView(buttonScroll);\n        buttonScroll.setOpaque(false);\n        navScroll.getViewport().setOpaque(false);\n\n        buttonScroll.add(funConsultarPiezas = new JButton());\n        funConsultarPiezas.setContentAreaFilled(false);\n        //           funConsultarPiezas.setOpaque(true);\n        funConsultarPiezas.setText(&quot;Consultar pieza&quot;);\n        funConsultarPiezas.setFont(new java.awt.Font(&quot;Arial&quot;, 1, ajustarDimensiones(30)));\n        funConsultarPiezas.setBounds(ajustarDimensiones(1), ajustarDimensiones(0), ajustarDimensiones(301), ajustarDimensiones(80));\n        //        funConsultarPiezas.setBackground(java.awt.Color.white);\n        funConsultarPiezas.setForeground(Color.white);\n        funConsultarPiezas.addActionListener(this);\n        funConsultarPiezas.setBorder(null);\n        funConsultarPiezas.setBorderPainted(false);\n        funConsultarPiezas.setFocusPainted(false);\n        botones.add(funConsultarPiezas);\n\n        y += 81;\n\n        buttonScroll.add(btnCalidad = new JButton());\n        btnCalidad.setContentAreaFilled(false);\n        //     btnCalidad.setOpaque(true);\n        btnCalidad.setText(&quot;Quality Check&quot;);\n        btnCalidad.setBounds(ajustarDimensiones(1), ajustarDimensiones(y), ajustarDimensiones(301), ajustarDimensiones(80));\n        btnCalidad.setFont(new java.awt.Font(&quot;Arial&quot;, 1, ajustarDimensiones(30)));\n        //        btnCalidad.setBackground(Color.white);\n        btnCalidad.setForeground(Color.white);\n        btnCalidad.addActionListener(this);\n        btnCalidad.setBorder(null);\n        btnCalidad.setBorderPainted(false);\n        btnCalidad.setFocusPainted(false);\n        botones.add(btnCalidad);\n\n        y += 81;\n        buttonScroll.add(planDis = new JButton());\n        planDis.setContentAreaFilled(false);\n        //       planDis.setOpaque(true);\n        planDis.setText(&quot;DiseÃ±o y planear&quot;);\n        planDis.setBounds(ajustarDimensiones(1), ajustarDimensiones(y), ajustarDimensiones(301), ajustarDimensiones(80));\n        planDis.setFont(new java.awt.Font(&quot;Arial&quot;, 1, ajustarDimensiones(30)));\n        //         planDis.setBackground(Color.white);\n        planDis.setForeground(Color.white);\n        planDis.addActionListener(this);\n        planDis.setBorder(null);\n        planDis.setBorderPainted(false);\n        planDis.setFocusPainted(false);\n        botones.add(planDis);\n\n        y += 81;\n\n        buttonScroll.add(compraMat = new JButton());\n        compraMat.setContentAreaFilled(false);\n//            compraMat.setOpaque(true);\n        compraMat.setText(&quot;Compra Material&quot;);\n        compraMat.setBounds(ajustarDimensiones(1), ajustarDimensiones(y), ajustarDimensiones(301), ajustarDimensiones(80));\n        compraMat.setFont(new java.awt.Font(&quot;Arial&quot;, 1, ajustarDimensiones(30)));\n        //compraMat.setBackground(Color.white);\n        compraMat.setForeground(Color.white);\n        compraMat.addActionListener(this);\n        compraMat.setBorder(null);\n        compraMat.setBorderPainted(false);\n        compraMat.setFocusPainted(false);\n        botones.add(compraMat);\n\n        y += 81;\n\n        buttonScroll.add(soySuper = new JButton());\n        soySuper.setContentAreaFilled(false);\n//            soySuper.setOpaque(true);\n        soySuper.setText(&quot;Liberar piezas&quot;);\n        soySuper.setBounds(ajustarDimensiones(1), ajustarDimensiones(y), ajustarDimensiones(301), ajustarDimensiones(80));\n        soySuper.setFont(new java.awt.Font(&quot;Arial&quot;, 1, ajustarDimensiones(30)));\n        //soySuper.setBackground(Color.white);\n        soySuper.setForeground(Color.white);\n        soySuper.addActionListener(this);\n        soySuper.setBorder(null);\n        soySuper.setBorderPainted(false);\n        soySuper.setFocusPainted(false);\n        botones.add(soySuper);\n\n        y += 81;\n\n        buttonScroll.add(crearProyecto = new JButton());\n        crearProyecto.setContentAreaFilled(false);\n//            crearProyecto.setOpaque(true);\n        crearProyecto.setText(&quot;Crear proyecto&quot;);\n        crearProyecto.setBounds(ajustarDimensiones(1), ajustarDimensiones(y), ajustarDimensiones(301), ajustarDimensiones(80));\n        crearProyecto.setFont(new java.awt.Font(&quot;Arial&quot;, 1, ajustarDimensiones(30)));\n        //crearProyecto.setBackground(Color.white);\n        crearProyecto.setForeground(Color.white);\n        crearProyecto.addActionListener(this);\n        crearProyecto.setBorder(null);\n        crearProyecto.setBorderPainted(false);\n        crearProyecto.setFocusPainted(false);\n        botones.add(crearProyecto);\n\n        y += 81;\n\n        buttonScroll.add(clientes = new JButton());\n        clientes.setContentAreaFilled(false);\n//            clientes.setOpaque(true);\n        clientes.setText(&quot;Clientes&quot;);\n        clientes.setBounds(ajustarDimensiones(1), ajustarDimensiones(y), ajustarDimensiones(301), ajustarDimensiones(80));\n        clientes.setFont(new java.awt.Font(&quot;Arial&quot;, 1, ajustarDimensiones(30)));\n        //clientes.setBackground(Color.white);\n        clientes.setForeground(Color.white);\n        clientes.addActionListener(this);\n        clientes.setBorder(null);\n        clientes.setBorderPainted(false);\n        clientes.setFocusPainted(false);\n        botones.add(clientes);\n\n        y += 81;\n\n        buttonScroll.add(adminConsProye = new JButton());\n        adminConsProye.setContentAreaFilled(false);\n//            adminConsProye.setOpaque(true);\n        adminConsProye.setText(&quot;Consultar proyectos&quot;);\n        adminConsProye.setBounds(ajustarDimensiones(1), ajustarDimensiones(y), ajustarDimensiones(301), ajustarDimensiones(80));\n        adminConsProye.setFont(new java.awt.Font(&quot;Arial&quot;, 1, ajustarDimensiones(26)));\n        //adminConsProye.setBackground(Color.white);\n        adminConsProye.setForeground(Color.white);\n        adminConsProye.addActionListener(this);\n        adminConsProye.setBorder(null);\n        adminConsProye.setBorderPainted(false);\n        adminConsProye.setFocusPainted(false);\n        botones.add(adminConsProye);\n\n        y += 81;\n\n        buttonScroll.add(histProy = new JButton());\n        histProy.setText(&quot;Historial&quot;);\n        histProy.setContentAreaFilled(false);\n//            histProy.setOpaque(true);\n        histProy.setBounds(ajustarDimensiones(1), ajustarDimensiones(y), ajustarDimensiones(301), ajustarDimensiones(80));\n        histProy.setFont(new java.awt.Font(&quot;Arial&quot;, 1, ajustarDimensiones(30)));\n        //histProy.setBackground(Color.white);\n        histProy.setForeground(Color.white);\n        histProy.addActionListener(this);\n        histProy.setBorder(null);\n        histProy.setBorderPainted(false);\n        histProy.setFocusPainted(false);\n        botones.add(histProy);\n\n        y += 81;\n\n        buttonScroll.add(consuEmpleados = new JButton());\n        consuEmpleados.setText(&quot;Trabajadores&quot;);\n        consuEmpleados.setContentAreaFilled(false);\n//            consuEmpleados.setOpaque(true);\n        consuEmpleados.setBounds(ajustarDimensiones(1), ajustarDimensiones(y), ajustarDimensiones(301), ajustarDimensiones(80));\n        consuEmpleados.setFont(new java.awt.Font(&quot;Arial&quot;, 1, ajustarDimensiones(30)));\n        //consuEmpleados.setBackground(Color.white);\n        consuEmpleados.setForeground(Color.white);\n        consuEmpleados.addActionListener(this);\n        consuEmpleados.setBorder(null);\n        consuEmpleados.setBorderPainted(false);\n        consuEmpleados.setFocusPainted(false);\n        botones.add(consuEmpleados);\n\n        y += 81;\n\n        buttonScroll.setPreferredSize(new Dimension(ajustarDimensiones(305), ajustarDimensiones(y)));\n    }\n\n    public void botonSeleccionado(JButton but) {\n        for (JButton b : botones) {\n            if (b.getText().equalsIgnoreCase(but.getText())) {\n                b.setOpaque(true);\n                b.setBackground(new Color(255, 102, 102, 200));\n                b.setForeground(Color.white);\n            } else {\n                b.setOpaque(false);\n                //b.setBackground(Color.white);\n                b.setForeground(Color.white);\n            }\n            b.revalidate();\n            b.repaint();\n        }\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent ae) {\n        JButton obj = (JButton) ae.getSource();\n        if (obj != logout) {\n            botonSeleccionado(obj);\n        }\n    }\n\n}\n\n</code></pre>\n<p>If someone knows how to make a clean transparent button, I would really appreciate the help.</p>\n<p>I leave here the source code with the test images that I'm using.\n<a href=\"https://drive.google.com/file/d/1l8R52WTDyP93L0UhTNd3oorD7Qhv-TcP/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1l8R52WTDyP93L0UhTNd3oorD7Qhv-TcP/view?usp=sharing</a></p>\n<p>In this <a href=\"https://i.stack.imgur.com/rV8Bm.png\" rel=\"nofollow noreferrer\">image</a>, you can see the 3 kind of bugs that I have, in the first one you can see how there's another button in the background and the scroll bar is shown in the left of the button. In the second one, it's the header of the navigation panel. In the third one, I passed the mouse multiple times over the selected button and it turned into a solid color instead of a transparent one.</p>\n<p>EDIT:</p>\n<p>I decided to check if the bug persisted if I applied it to the navigation panel, because it will have to be transparent as well when the application is finished. So I added the following lines of code in the lines 82 and 83 of the code above:</p>\n<pre><code>        panelNav.setBackground(new Color(0, 0, 0, 200));\n        panelNav.setOpaque(true);\n</code></pre>\n<p>In this other <a href=\"https://i.stack.imgur.com/pmcww.png\" rel=\"nofollow noreferrer\">image</a> I applied the transparency to the whole navigation panel, which is a JLabel. In the first image is shown what appears when the frame is displayed, there's even parts of the frame that are displayed beneath the navigation panel. In the second one is shown what happens when I use the scroll bar once.</p>\n<p>EDIT 2:\nI replaced all the JLabel that were used as JPanel for actual JPanel. Sadly, the bug persisted. I add an extra button in the main JPanel, I did this because I thought the bug origin from adding buttons to a JScrollPane. But it seems that the problem is directly in how I implement the method buttonName.setBackground().</p>\n<p>Here's the new version of the code:\n<a href=\"https://drive.google.com/file/d/1PuHMkEYNbBoafqs5XiyUaeCkIyXfnHFJ/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1PuHMkEYNbBoafqs5XiyUaeCkIyXfnHFJ/view?usp=sharing</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1658984069,"post_id":73146539,"comment_id":129188649,"body_markdown":"The simplest solution is not to call the `createConnectionBuilderâ€‹()` method at all.  If you must have the method, write the method using Java 1.8 compilable code.","body":"The simplest solution is not to call the <code>createConnectionBuilderâ€‹()</code> method at all.  If you must have the method, write the method using Java 1.8 compilable code."},{"owner":{"account_id":131217,"reputation":4366,"user_id":331059,"accept_rate":65,"display_name":"Bwmat"},"score":0,"creation_date":1658986050,"post_id":73146539,"comment_id":129188977,"body_markdown":"But can that be done if the return type of the method only exists in Java 1.9+?","body":"But can that be done if the return type of the method only exists in Java 1.9+?"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1658996977,"post_id":73146539,"comment_id":129192111,"body_markdown":"Create the return type too.","body":"Create the return type too."}],"owner":{"account_id":131217,"reputation":4366,"user_id":331059,"accept_rate":65,"display_name":"Bwmat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1659046933,"creation_date":1658974941,"question_id":73146539,"body_markdown":"I&#39;m looking to write an abstract class which extends `javax.sql.DataSource` and may be used from either a Java 1.8 JVM (i.e. JDBC 4.2), or a Java 1.9+ JVM (i.e. JDBC 4.3)\r\n\r\nJDBC 4.3 introduced the `createConnectionBuilderâ€‹()` method, which returns an instance of `java.sql.ConnectionBuilder` (which is also new for Java 1.9).\r\n\r\nI know (correct me if I&#39;m wrong) that I could simply opt to not override this method, and since it has a default implementation, if it&#39;s called in a Java 1.9+ JVM that default implementation would get used rather than causing any error.\r\n\r\nBut if I wish to override it in case it does get called, how could I do that? The dilemma seems to be that if I want it to be useable in a Java 1.8 JVM, I should build it with a Java 1.8 JDK, but in that case it would fail to resolve the new type (not to mention complain about any `@Override` I added [I think I can simply omit that, but annoying]). A possible option might be to give the compiler a definition of the JDBC 4.3 version of the interfaces in question during compilation (I&#39;m not exactly sure how to do that, but I think we&#39;ve done that before in my company for a similar issue), but the concern that comes to mind is, is the class guaranteed to load if one of its methods returns a type that can&#39;t be resolved? (In that case it&#39;ll never get called, I&#39;m just worried that the JVM might try to resolve the return type and fail to load it)\r\n\r\nedit: I&#39;ll try to clarify what I&#39;m trying to accomplish.\r\n\r\nThis class is meant to be a shim which, at runtime, depending on the Java version supported by the JVM, forwards methods called on it to either a JDBC 4.2, or 4.3 implementation of `DataSource` (former being built using `-release 8` &amp; latter with `-release 9` [&amp; might override `createConnectionBuilderâ€‹()`]. Since we need this class to load in either JVM, it needs to be built with `-release 8` (or `-target 1.8`, but this can be problematic, see [JEP 247][1]). I don&#39;t think building it using `-release 8` is possible, since `java.sql.ConnectionBuilder` isn&#39;t part of Java 8.\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/247","title":"Best way to write a java class to &#39;optionally&#39; override a method which may not exist in the associated interface at runtime","body":"<p>I'm looking to write an abstract class which extends <code>javax.sql.DataSource</code> and may be used from either a Java 1.8 JVM (i.e. JDBC 4.2), or a Java 1.9+ JVM (i.e. JDBC 4.3)</p>\n<p>JDBC 4.3 introduced the <code>createConnectionBuilderâ€‹()</code> method, which returns an instance of <code>java.sql.ConnectionBuilder</code> (which is also new for Java 1.9).</p>\n<p>I know (correct me if I'm wrong) that I could simply opt to not override this method, and since it has a default implementation, if it's called in a Java 1.9+ JVM that default implementation would get used rather than causing any error.</p>\n<p>But if I wish to override it in case it does get called, how could I do that? The dilemma seems to be that if I want it to be useable in a Java 1.8 JVM, I should build it with a Java 1.8 JDK, but in that case it would fail to resolve the new type (not to mention complain about any <code>@Override</code> I added [I think I can simply omit that, but annoying]). A possible option might be to give the compiler a definition of the JDBC 4.3 version of the interfaces in question during compilation (I'm not exactly sure how to do that, but I think we've done that before in my company for a similar issue), but the concern that comes to mind is, is the class guaranteed to load if one of its methods returns a type that can't be resolved? (In that case it'll never get called, I'm just worried that the JVM might try to resolve the return type and fail to load it)</p>\n<p>edit: I'll try to clarify what I'm trying to accomplish.</p>\n<p>This class is meant to be a shim which, at runtime, depending on the Java version supported by the JVM, forwards methods called on it to either a JDBC 4.2, or 4.3 implementation of <code>DataSource</code> (former being built using <code>-release 8</code> &amp; latter with <code>-release 9</code> [&amp; might override <code>createConnectionBuilderâ€‹()</code>]. Since we need this class to load in either JVM, it needs to be built with <code>-release 8</code> (or <code>-target 1.8</code>, but this can be problematic, see <a href=\"https://openjdk.org/jeps/247\" rel=\"nofollow noreferrer\">JEP 247</a>). I don't think building it using <code>-release 8</code> is possible, since <code>java.sql.ConnectionBuilder</code> isn't part of Java 8.</p>\n"},{"tags":["java","spring","mockito","integration-testing","junit5"],"comments":[{"owner":{"account_id":9773964,"reputation":1324,"user_id":7244716,"accept_rate":88,"display_name":"valijon"},"score":0,"creation_date":1541834014,"post_id":53236807,"comment_id":93359831,"body_markdown":"For information: all no database nested tests work well","body":"For information: all no database nested tests work well"},{"owner":{"account_id":165479,"reputation":30116,"user_id":388980,"display_name":"Sam Brannen"},"score":1,"creation_date":1541859476,"post_id":53236807,"comment_id":93365482,"body_markdown":"What happens if you copy your `@SpringBootTest`, `@AutoConfigureMockMvc`, and `@ActiveProfiles` declarations verbatim to your `InnerTest` class?","body":"What happens if you copy your <code>@SpringBootTest</code>, <code>@AutoConfigureMockMvc</code>, and <code>@ActiveProfiles</code> declarations verbatim to your <code>InnerTest</code> class?"},{"owner":{"account_id":165479,"reputation":30116,"user_id":388980,"display_name":"Sam Brannen"},"score":0,"creation_date":1541861355,"post_id":53236807,"comment_id":93366024,"body_markdown":"FWIW, this sort of construct seems to work against Spring Framework 5.1+, as can be seen here: https://github.com/spring-projects/spring-framework/commit/865f1f692a8bbac4f6ea3d1600ca1924c08c654a","body":"FWIW, this sort of construct seems to work against Spring Framework 5.1+, as can be seen here: <a href=\"https://github.com/spring-projects/spring-framework/commit/865f1f692a8bbac4f6ea3d1600ca1924c08c654a\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/commit/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":165479,"reputation":30116,"user_id":388980,"display_name":"Sam Brannen"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1541866586,"creation_date":1541866586,"answer_id":53240875,"question_id":53236807,"body_markdown":"The failure message in the stack trace mentions:\r\n\r\n&gt; Failed to execute SQL scripts for test context ...: supply at least a DataSource or PlatformTransactionManager.\r\n\r\nThat last part lets me know that your `ApplicationContext` was not properly loaded for your `@Nested` test class.\r\n\r\nThus, the solution is to copy the annotations from the enclosing test class to the nested test class as follows.\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @SpringBootTest(classes = SecurityTestConfig.class)\r\n    @AutoConfigureMockMvc\r\n    @ActiveProfiles({&quot;test&quot;, &quot;test-security-profile&quot;})\r\n    @TestInstance(Lifecycle.PER_CLASS)\r\n    @Nested\r\n    @DisplayName(&quot;Inner test&quot;)\r\n    class InnerTest {\r\n       @Test\r\n       @Sql(&quot;/permission.sql&quot;)\r\n       void temp() {//here @Sql throws exception}\r\n    \r\n    }\r\n\r\nThe reason you have to duplicate the configuration is that annotations in Spring are not _inherited_ from enclosing classes.\r\n\r\nThis is a known limitation of the _Spring TestContext Framework_ that may potentially be addressed in conjunction with [SPR-15366][1].\r\n\r\n\r\n  [1]: https://jira.spring.io/browse/SPR-15366","title":"Spring boot testing: run script in a nested test (@Sql(&quot;/script.sql&quot;))","body":"<p>The failure message in the stack trace mentions:</p>\n\n<blockquote>\n  <p>Failed to execute SQL scripts for test context ...: supply at least a DataSource or PlatformTransactionManager.</p>\n</blockquote>\n\n<p>That last part lets me know that your <code>ApplicationContext</code> was not properly loaded for your <code>@Nested</code> test class.</p>\n\n<p>Thus, the solution is to copy the annotations from the enclosing test class to the nested test class as follows.</p>\n\n<pre><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest(classes = SecurityTestConfig.class)\n@AutoConfigureMockMvc\n@ActiveProfiles({\"test\", \"test-security-profile\"})\n@TestInstance(Lifecycle.PER_CLASS)\n@Nested\n@DisplayName(\"Inner test\")\nclass InnerTest {\n   @Test\n   @Sql(\"/permission.sql\")\n   void temp() {//here @Sql throws exception}\n\n}\n</code></pre>\n\n<p>The reason you have to duplicate the configuration is that annotations in Spring are not <em>inherited</em> from enclosing classes.</p>\n\n<p>This is a known limitation of the <em>Spring TestContext Framework</em> that may potentially be addressed in conjunction with <a href=\"https://jira.spring.io/browse/SPR-15366\" rel=\"noreferrer\">SPR-15366</a>.</p>\n"},{"tags":[],"owner":{"account_id":392882,"reputation":2045,"user_id":754426,"accept_rate":92,"display_name":"Aliti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659045262,"creation_date":1659045262,"answer_id":73159595,"question_id":53236807,"body_markdown":"I have tried another solution at it worked for me;\r\nI have added some configurations on application.properties as follows:\r\n\r\n    spring.datasource.initialization-mode=always\r\n    spring.jpa.hibernate.ddl-auto=none\r\n    spring.datasource.schema=classpath:schema.sql\r\n    spring.datasource.data=classpath:test-data.sql\r\n\r\nBTW, the solution provided by @SamBrannen worked for me.","title":"Spring boot testing: run script in a nested test (@Sql(&quot;/script.sql&quot;))","body":"<p>I have tried another solution at it worked for me;\nI have added some configurations on application.properties as follows:</p>\n<pre><code>spring.datasource.initialization-mode=always\nspring.jpa.hibernate.ddl-auto=none\nspring.datasource.schema=classpath:schema.sql\nspring.datasource.data=classpath:test-data.sql\n</code></pre>\n<p>BTW, the solution provided by @SamBrannen worked for me.</p>\n"}],"owner":{"account_id":9773964,"reputation":1324,"user_id":7244716,"accept_rate":88,"display_name":"valijon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7115,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":53240875,"answer_count":2,"score":5,"last_activity_date":1659045262,"creation_date":1541833923,"question_id":53236807,"body_markdown":"In my Spring boot project&#39;s test I cannot execute SQL script inside a nested class.\r\n\r\n**Code**\r\n    \r\n    @ExtendWith(SpringExtension.class)\r\n    @SpringBootTest(classes = SecurityTestConfig.class)\r\n    @AutoConfigureMockMvc\r\n    @ActiveProfiles({&quot;test&quot;, &quot;test-security-profile&quot;})\r\n    @TestInstance(Lifecycle.PER_CLASS)\r\n    class MyTest{\r\n        //...\r\n        @Test\r\n        @Sql(&quot;/permission.sql&quot;)\r\n        void temp() {//here script is executed well}\r\n\r\n        @Nested\r\n        @DisplayName(&quot;Inner test&quot;)\r\n        class InnerTest {\r\n           @Test\r\n           @Sql(&quot;/permission.sql&quot;)\r\n           void temp() {//here @Sql throws exception}\r\n        \r\n        }\r\n    \r\n    }\r\n\r\n**Exception** (throws when I run the test)\r\n\r\n    java.lang.IllegalStateException: Failed to execute SQL scripts for test context [DefaultTestContext@406ad6d5 testClass = MyTest.InnerTest, testInstance = uz.oltinolma.producer.security.mvc.permission.MyTest$InnerTest@2a7bc16b, testMethod = temp@MyTest.InnerTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@1186374c testClass = MyTest.InnerTest, locations = &#39;{}&#39;, classes = &#39;{}&#39;, contextInitializerClasses = &#39;[]&#39;, activeProfiles = &#39;{}&#39;, propertySourceLocations = &#39;{}&#39;, propertySourceProperties = &#39;{}&#39;, contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f8e8a9d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3cce5371, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4f0f2942], contextLoader = &#39;org.springframework.test.context.support.DelegatingSmartContextLoader&#39;, parent = [null]], attributes = map[[empty]]]: supply at least a DataSource or PlatformTransactionManager.\r\n    \tat org.springframework.util.Assert.state(Assert.java:94) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:203) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:112) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:291) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:107) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$0(TestMethodTestDescriptor.java:129) ~[junit-jupiter-engine-5.1.0.jar:5.1.0]\r\n    \tat org.junit.jupiter.engine.execution.ThrowableCollector.execute(ThrowableCollector.java:40) ~[junit-jupiter-engine-5.1.0.jar:5.1.0]\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:155) ~[junit-jupiter-engine-5.1.0.jar:5.1.0]\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:128) ~[junit-jupiter-engine-5.1.0.jar:5.1.0]\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:107) ~[junit-jupiter-engine-5.1.0.jar:5.1.0]\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:58) ~[junit-jupiter-engine-5.1.0.jar:5.1.0]\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.lambda$executeRecursively$3(HierarchicalTestExecutor.java:112) ~[junit-platform-engine-1.1.1.jar:1.1.1]\r\n    \tat org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66) ~[junit-platform-engine-1.1.1.jar:1.1.1]\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.executeRecursively(HierarchicalTestExecutor.java:108) ~[junit-platform-engine-1.1.1.jar:1.1.1]\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.execute(HierarchicalTestExecutor.java:79) ~[junit-platform-engine-1.1.1.jar:1.1.1]\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.lambda$executeRecursively$2(HierarchicalTestExecutor.java:120) ~[junit-platform-engine-1.1.1.jar:1.1.1]\r\n    \tat java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[?:1.8.0_131]\r\n    \tat java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[?:1.8.0_131]\r\n    \tat java.util.Iterator.forEachRemaining(Iterator.java:116) ~[?:1.8.0_131]\r\n    \tat java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801) ~[?:1.8.0_131]\r\n    \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[?:1.8.0_131]\r\n    \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[?:1.8.0_131]\r\n    \tat java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[?:1.8.0_131]\r\n    \tat java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[?:1.8.0_131]\r\n    \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:1.8.0_131]\r\n    \tat java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418) ~[?:1.8.0_131]\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.lambda$executeRecursively$3(HierarchicalTestExecutor.java:120) ~[junit-platform-engine-1.1.1.jar:1.1.1]\r\n    \tat org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66) ~[junit-platform-engine-1.1.1.jar:1.1.1]\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.executeRecursively(HierarchicalTestExecutor.java:108) ~[junit-platform-engine-1.1.1.jar:1.1.1]\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.execute(HierarchicalTestExecutor.java:79) ~[junit-platform-engine-1.1.1.jar:1.1.1]\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.lambda$executeRecursively$2(HierarchicalTestExecutor.java:120) ~[junit-platform-engine-1.1.1.jar:1.1.1]\r\n    \tat java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[?:1.8.0_131]\r\n    \tat java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[?:1.8.0_131]\r\n    \tat java.util.Iterator.forEachRemaining(Iterator.java:116) ~[?:1.8.0_131]\r\n    \tat java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801) ~[?:1.8.0_131]\r\n    \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[?:1.8.0_131]\r\n    \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[?:1.8.0_131]\r\n    \tat java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[?:1.8.0_131]\r\n    \tat java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[?:1.8.0_131]\r\n    \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:1.8.0_131]\r\n    \tat java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418) ~[?:1.8.0_131]\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.lambda$executeRecursively$3(HierarchicalTestExecutor.java:120) ~[junit-platform-engine-1.1.1.jar:1.1.1]\r\n    \tat org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66) ~[junit-platform-engine-1.1.1.jar:1.1.1]\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.executeRecursively(HierarchicalTestExecutor.java:108) ~[junit-platform-engine-1.1.1.jar:1.1.1]\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.execute(HierarchicalTestExecutor.java:79) ~[junit-platform-engine-1.1.1.jar:1.1.1]\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.lambda$executeRecursively$2(HierarchicalTestExecutor.java:120) ~[junit-platform-engine-1.1.1.jar:1.1.1]\r\n    \tat java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[?:1.8.0_131]\r\n    \tat java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[?:1.8.0_131]\r\n    \tat java.util.Iterator.forEachRemaining(Iterator.java:116) ~[?:1.8.0_131]\r\n    \tat java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801) ~[?:1.8.0_131]\r\n    \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[?:1.8.0_131]\r\n    \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[?:1.8.0_131]\r\n    \tat java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[?:1.8.0_131]\r\n    \tat java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[?:1.8.0_131]\r\n    \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:1.8.0_131]\r\n    \tat java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418) ~[?:1.8.0_131]\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.lambda$executeRecursively$3(HierarchicalTestExecutor.java:120) ~[junit-platform-engine-1.1.1.jar:1.1.1]\r\n    \tat org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66) ~[junit-platform-engine-1.1.1.jar:1.1.1]\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.executeRecursively(HierarchicalTestExecutor.java:108) ~[junit-platform-engine-1.1.1.jar:1.1.1]\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.execute(HierarchicalTestExecutor.java:79) ~[junit-platform-engine-1.1.1.jar:1.1.1]\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.lambda$executeRecursively$2(HierarchicalTestExecutor.java:120) ~[junit-platform-engine-1.1.1.jar:1.1.1]\r\n    \tat java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[?:1.8.0_131]\r\n    \tat java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[?:1.8.0_131]\r\n    \tat java.util.Iterator.forEachRemaining(Iterator.java:116) ~[?:1.8.0_131]\r\n    \tat java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801) ~[?:1.8.0_131]\r\n    \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[?:1.8.0_131]\r\n    \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[?:1.8.0_131]\r\n    \tat java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[?:1.8.0_131]\r\n    \tat java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[?:1.8.0_131]\r\n    \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:1.8.0_131]\r\n    \tat java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418) ~[?:1.8.0_131]\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.lambda$executeRecursively$3(HierarchicalTestExecutor.java:120) ~[junit-platform-engine-1.1.1.jar:1.1.1]\r\n    \tat org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66) ~[junit-platform-engine-1.1.1.jar:1.1.1]\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.executeRecursively(HierarchicalTestExecutor.java:108) ~[junit-platform-engine-1.1.1.jar:1.1.1]\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.execute(HierarchicalTestExecutor.java:79) ~[junit-platform-engine-1.1.1.jar:1.1.1]\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:55) ~[junit-platform-engine-1.1.1.jar:1.1.1]\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:43) ~[junit-platform-engine-1.1.1.jar:1.1.1]\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) [junit-platform-launcher-1.3.1.jar:1.3.1]\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) [junit-platform-launcher-1.3.1.jar:1.3.1]\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) [junit-platform-launcher-1.3.1.jar:1.3.1]\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:65) [junit5-rt.jar:?]\r\n    \tat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:?]\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:?]\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:?]\r\n\r\nBelow I giving application.yml file:\r\n\r\n    spring:\r\n      datasource.dbcp2:\r\n        driver-class-name: org.h2.Driver\r\n        username: tester\r\n        password: tester\r\n        url: jdbc:h2:mem:test_pg\r\n        initial-size: 0\r\n        max-total: 12\r\n        max-idle: 12\r\n      h2:\r\n        datasource:\r\n          url: jdbc:h2:mem:test_h2\r\n          username: tester\r\n          password: tester\r\n          driver-class-name: org.h2.Driver\r\n          init-sql: h2.sql\r\n\r\n**Datasource**\r\n\r\n        @Primary\r\n        @Bean(name = &quot;datasource&quot;)\r\n        public BasicDataSource dataSource() {\r\n            BasicDataSource dataSource = new BasicDataSource();\r\n            dataSource.setDriverClassName(env.getProperty(&quot;spring.datasource.dbcp2.driver-class-name&quot;));\r\n            dataSource.setUrl(env.getProperty(&quot;spring.datasource.dbcp2.url&quot;));\r\n            dataSource.setUsername(env.getProperty(&quot;spring.datasource.dbcp2.username&quot;));\r\n            dataSource.setPassword(env.getProperty(&quot;spring.datasource.dbcp2.password&quot;));\r\n            dataSource.setMaxActive(Integer.valueOf(env.getProperty(&quot;spring.datasource.dbcp2.max-total&quot;)));\r\n            dataSource.setMaxIdle(Integer.valueOf(env.getProperty(&quot;spring.datasource.dbcp2.max-idle&quot;)));\r\n            dataSource.setInitialSize(Integer.valueOf(env.getProperty(&quot;spring.datasource.dbcp2.initial-size&quot;)));\r\n            return dataSource;\r\n        }\r\n    \r\n        @Bean(name = &quot;h2Datasource&quot;)\r\n        public BasicDataSource h2DataSource() {\r\n            BasicDataSource dataSource = new BasicDataSource();\r\n            dataSource.setDriverClassName(env.getProperty(&quot;spring.h2.datasource.driver-class-name&quot;));\r\n            dataSource.setUrl(env.getProperty(&quot;spring.h2.datasource.url&quot;));\r\n            dataSource.setUsername(env.getProperty(&quot;spring.h2.datasource.username&quot;));\r\n            dataSource.setPassword(env.getProperty(&quot;spring.h2.datasource.password&quot;));\r\n    \r\n            Resource initData = new ClassPathResource(&quot;scripts/h2.sql&quot;);\r\n            DatabasePopulator databasePopulator = new ResourceDatabasePopulator(initData);\r\n            DatabasePopulatorUtils.execute(databasePopulator, dataSource);\r\n    \r\n            return dataSource;\r\n        }\r\n    \r\n        @Primary\r\n        @Bean\r\n        public DataSourceTransactionManager tx(@Qualifier(&quot;datasource&quot;)BasicDataSource dataSource) {\r\n            return new DataSourceTransactionManager(dataSource);\r\n        }\r\n    \r\n        @Bean\r\n        public DataSourceTransactionManager h2tx(@Qualifier(&quot;h2Datasource&quot;) BasicDataSource h2Datasource) {\r\n            return new DataSourceTransactionManager(h2Datasource);\r\n        }\r\n\r\nCan someone explain why script execution fails when I try to run it inside a nested test class? I could think that I am missing some configuration files. However, @Sql scripts works well if I put test method directly in MyTest class. ","title":"Spring boot testing: run script in a nested test (@Sql(&quot;/script.sql&quot;))","body":"<p>In my Spring boot project's test I cannot execute SQL script inside a nested class.</p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest(classes = SecurityTestConfig.class)\n@AutoConfigureMockMvc\n@ActiveProfiles({\"test\", \"test-security-profile\"})\n@TestInstance(Lifecycle.PER_CLASS)\nclass MyTest{\n    //...\n    @Test\n    @Sql(\"/permission.sql\")\n    void temp() {//here script is executed well}\n\n    @Nested\n    @DisplayName(\"Inner test\")\n    class InnerTest {\n       @Test\n       @Sql(\"/permission.sql\")\n       void temp() {//here @Sql throws exception}\n\n    }\n\n}\n</code></pre>\n\n<p><strong>Exception</strong> (throws when I run the test)</p>\n\n<pre><code>java.lang.IllegalStateException: Failed to execute SQL scripts for test context [DefaultTestContext@406ad6d5 testClass = MyTest.InnerTest, testInstance = uz.oltinolma.producer.security.mvc.permission.MyTest$InnerTest@2a7bc16b, testMethod = temp@MyTest.InnerTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@1186374c testClass = MyTest.InnerTest, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5f8e8a9d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3cce5371, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4f0f2942], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]: supply at least a DataSource or PlatformTransactionManager.\n    at org.springframework.util.Assert.state(Assert.java:94) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:203) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:142) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:112) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:291) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:107) ~[spring-test-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$0(TestMethodTestDescriptor.java:129) ~[junit-jupiter-engine-5.1.0.jar:5.1.0]\n    at org.junit.jupiter.engine.execution.ThrowableCollector.execute(ThrowableCollector.java:40) ~[junit-jupiter-engine-5.1.0.jar:5.1.0]\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:155) ~[junit-jupiter-engine-5.1.0.jar:5.1.0]\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:128) ~[junit-jupiter-engine-5.1.0.jar:5.1.0]\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:107) ~[junit-jupiter-engine-5.1.0.jar:5.1.0]\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:58) ~[junit-jupiter-engine-5.1.0.jar:5.1.0]\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.lambda$executeRecursively$3(HierarchicalTestExecutor.java:112) ~[junit-platform-engine-1.1.1.jar:1.1.1]\n    at org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66) ~[junit-platform-engine-1.1.1.jar:1.1.1]\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.executeRecursively(HierarchicalTestExecutor.java:108) ~[junit-platform-engine-1.1.1.jar:1.1.1]\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.execute(HierarchicalTestExecutor.java:79) ~[junit-platform-engine-1.1.1.jar:1.1.1]\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.lambda$executeRecursively$2(HierarchicalTestExecutor.java:120) ~[junit-platform-engine-1.1.1.jar:1.1.1]\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[?:1.8.0_131]\n    at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[?:1.8.0_131]\n    at java.util.Iterator.forEachRemaining(Iterator.java:116) ~[?:1.8.0_131]\n    at java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801) ~[?:1.8.0_131]\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[?:1.8.0_131]\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[?:1.8.0_131]\n    at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[?:1.8.0_131]\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[?:1.8.0_131]\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:1.8.0_131]\n    at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418) ~[?:1.8.0_131]\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.lambda$executeRecursively$3(HierarchicalTestExecutor.java:120) ~[junit-platform-engine-1.1.1.jar:1.1.1]\n    at org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66) ~[junit-platform-engine-1.1.1.jar:1.1.1]\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.executeRecursively(HierarchicalTestExecutor.java:108) ~[junit-platform-engine-1.1.1.jar:1.1.1]\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.execute(HierarchicalTestExecutor.java:79) ~[junit-platform-engine-1.1.1.jar:1.1.1]\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.lambda$executeRecursively$2(HierarchicalTestExecutor.java:120) ~[junit-platform-engine-1.1.1.jar:1.1.1]\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[?:1.8.0_131]\n    at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[?:1.8.0_131]\n    at java.util.Iterator.forEachRemaining(Iterator.java:116) ~[?:1.8.0_131]\n    at java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801) ~[?:1.8.0_131]\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[?:1.8.0_131]\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[?:1.8.0_131]\n    at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[?:1.8.0_131]\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[?:1.8.0_131]\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:1.8.0_131]\n    at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418) ~[?:1.8.0_131]\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.lambda$executeRecursively$3(HierarchicalTestExecutor.java:120) ~[junit-platform-engine-1.1.1.jar:1.1.1]\n    at org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66) ~[junit-platform-engine-1.1.1.jar:1.1.1]\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.executeRecursively(HierarchicalTestExecutor.java:108) ~[junit-platform-engine-1.1.1.jar:1.1.1]\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.execute(HierarchicalTestExecutor.java:79) ~[junit-platform-engine-1.1.1.jar:1.1.1]\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.lambda$executeRecursively$2(HierarchicalTestExecutor.java:120) ~[junit-platform-engine-1.1.1.jar:1.1.1]\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[?:1.8.0_131]\n    at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[?:1.8.0_131]\n    at java.util.Iterator.forEachRemaining(Iterator.java:116) ~[?:1.8.0_131]\n    at java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801) ~[?:1.8.0_131]\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[?:1.8.0_131]\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[?:1.8.0_131]\n    at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[?:1.8.0_131]\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[?:1.8.0_131]\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:1.8.0_131]\n    at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418) ~[?:1.8.0_131]\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.lambda$executeRecursively$3(HierarchicalTestExecutor.java:120) ~[junit-platform-engine-1.1.1.jar:1.1.1]\n    at org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66) ~[junit-platform-engine-1.1.1.jar:1.1.1]\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.executeRecursively(HierarchicalTestExecutor.java:108) ~[junit-platform-engine-1.1.1.jar:1.1.1]\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.execute(HierarchicalTestExecutor.java:79) ~[junit-platform-engine-1.1.1.jar:1.1.1]\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.lambda$executeRecursively$2(HierarchicalTestExecutor.java:120) ~[junit-platform-engine-1.1.1.jar:1.1.1]\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[?:1.8.0_131]\n    at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[?:1.8.0_131]\n    at java.util.Iterator.forEachRemaining(Iterator.java:116) ~[?:1.8.0_131]\n    at java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801) ~[?:1.8.0_131]\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[?:1.8.0_131]\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[?:1.8.0_131]\n    at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[?:1.8.0_131]\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[?:1.8.0_131]\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:1.8.0_131]\n    at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418) ~[?:1.8.0_131]\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.lambda$executeRecursively$3(HierarchicalTestExecutor.java:120) ~[junit-platform-engine-1.1.1.jar:1.1.1]\n    at org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66) ~[junit-platform-engine-1.1.1.jar:1.1.1]\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.executeRecursively(HierarchicalTestExecutor.java:108) ~[junit-platform-engine-1.1.1.jar:1.1.1]\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.execute(HierarchicalTestExecutor.java:79) ~[junit-platform-engine-1.1.1.jar:1.1.1]\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:55) ~[junit-platform-engine-1.1.1.jar:1.1.1]\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:43) ~[junit-platform-engine-1.1.1.jar:1.1.1]\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\n    at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\n    at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) [junit-platform-launcher-1.3.1.jar:1.3.1]\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) [junit-platform-launcher-1.3.1.jar:1.3.1]\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) [junit-platform-launcher-1.3.1.jar:1.3.1]\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:65) [junit5-rt.jar:?]\n    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:?]\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:?]\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:?]\n</code></pre>\n\n<p>Below I giving application.yml file:</p>\n\n<pre><code>spring:\n  datasource.dbcp2:\n    driver-class-name: org.h2.Driver\n    username: tester\n    password: tester\n    url: jdbc:h2:mem:test_pg\n    initial-size: 0\n    max-total: 12\n    max-idle: 12\n  h2:\n    datasource:\n      url: jdbc:h2:mem:test_h2\n      username: tester\n      password: tester\n      driver-class-name: org.h2.Driver\n      init-sql: h2.sql\n</code></pre>\n\n<p><strong>Datasource</strong></p>\n\n<pre><code>    @Primary\n    @Bean(name = \"datasource\")\n    public BasicDataSource dataSource() {\n        BasicDataSource dataSource = new BasicDataSource();\n        dataSource.setDriverClassName(env.getProperty(\"spring.datasource.dbcp2.driver-class-name\"));\n        dataSource.setUrl(env.getProperty(\"spring.datasource.dbcp2.url\"));\n        dataSource.setUsername(env.getProperty(\"spring.datasource.dbcp2.username\"));\n        dataSource.setPassword(env.getProperty(\"spring.datasource.dbcp2.password\"));\n        dataSource.setMaxActive(Integer.valueOf(env.getProperty(\"spring.datasource.dbcp2.max-total\")));\n        dataSource.setMaxIdle(Integer.valueOf(env.getProperty(\"spring.datasource.dbcp2.max-idle\")));\n        dataSource.setInitialSize(Integer.valueOf(env.getProperty(\"spring.datasource.dbcp2.initial-size\")));\n        return dataSource;\n    }\n\n    @Bean(name = \"h2Datasource\")\n    public BasicDataSource h2DataSource() {\n        BasicDataSource dataSource = new BasicDataSource();\n        dataSource.setDriverClassName(env.getProperty(\"spring.h2.datasource.driver-class-name\"));\n        dataSource.setUrl(env.getProperty(\"spring.h2.datasource.url\"));\n        dataSource.setUsername(env.getProperty(\"spring.h2.datasource.username\"));\n        dataSource.setPassword(env.getProperty(\"spring.h2.datasource.password\"));\n\n        Resource initData = new ClassPathResource(\"scripts/h2.sql\");\n        DatabasePopulator databasePopulator = new ResourceDatabasePopulator(initData);\n        DatabasePopulatorUtils.execute(databasePopulator, dataSource);\n\n        return dataSource;\n    }\n\n    @Primary\n    @Bean\n    public DataSourceTransactionManager tx(@Qualifier(\"datasource\")BasicDataSource dataSource) {\n        return new DataSourceTransactionManager(dataSource);\n    }\n\n    @Bean\n    public DataSourceTransactionManager h2tx(@Qualifier(\"h2Datasource\") BasicDataSource h2Datasource) {\n        return new DataSourceTransactionManager(h2Datasource);\n    }\n</code></pre>\n\n<p>Can someone explain why script execution fails when I try to run it inside a nested test class? I could think that I am missing some configuration files. However, @Sql scripts works well if I put test method directly in MyTest class. </p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1424663526,"post_id":28666648,"comment_id":45627956,"body_markdown":"1- Use the key bindings API over `KeyListener`; 2- `revalidate` the view (`log`) before trying to move to end of the scroll pane","body":"1- Use the key bindings API over <code>KeyListener</code>; 2- <code>revalidate</code> the view (<code>log</code>) before trying to move to end of the scroll pane"},{"owner":{"account_id":1322374,"reputation":107,"user_id":1267909,"display_name":"Jeff Trimmer"},"score":0,"creation_date":1424664571,"post_id":28666648,"comment_id":45628195,"body_markdown":"I must use keyListener as it is part of the school assignments objectives.","body":"I must use keyListener as it is part of the school assignments objectives."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1424664684,"post_id":28666648,"comment_id":45628225,"body_markdown":"Then your school is WAY behind the times...","body":"Then your school is WAY behind the times..."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1659044975,"creation_date":1424667086,"answer_id":28667100,"question_id":28666648,"body_markdown":"Basically, you may be trying to update the viewport before the component hierarchy has had time to update.  Sometimes, you just have to wait.\r\n\r\nThis example basically uses `SwingUtilities.invokeLater` to put a request onto the Event Queue that some body of work should be performed &quot;at some time in the near future&quot;.  This allows the current pending updates time to be processed...\r\n\r\n\tif (e.getKeyCode() == KeyEvent.VK_ENTER) {\r\n\r\n\t\tlog.add(new ServerBubble(input.getText()));\r\n\t\tlog.add(Box.createRigidArea(new Dimension(0, 10)));\r\n\t\tinput.setText(null);\r\n\t\tlog.revalidate();\r\n\r\n\t\tSwingUtilities.invokeLater(new Runnable() {\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\tDimension vpSize = scrollPane.getViewport().getExtentSize();\r\n\t\t\t\tDimension logSize = log.getSize();\r\n\r\n\t\t\t\tint height = logSize.height - vpSize.height;\r\n\t\t\t\tscrollPane.getViewport().setViewPosition(new Point(0, height));\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\nAt which time, I grab the current size of the view and compare it to the current size of the log panel, I then use the different to calculate the y-offset from the bottom of the panel which would allow the last element to be visible...","title":"Java JScrollPane scrolls to bottom... almost","body":"<p>Basically, you may be trying to update the viewport before the component hierarchy has had time to update.  Sometimes, you just have to wait.</p>\n<p>This example basically uses <code>SwingUtilities.invokeLater</code> to put a request onto the Event Queue that some body of work should be performed &quot;at some time in the near future&quot;.  This allows the current pending updates time to be processed...</p>\n<pre><code>if (e.getKeyCode() == KeyEvent.VK_ENTER) {\n\n    log.add(new ServerBubble(input.getText()));\n    log.add(Box.createRigidArea(new Dimension(0, 10)));\n    input.setText(null);\n    log.revalidate();\n\n    SwingUtilities.invokeLater(new Runnable() {\n        @Override\n        public void run() {\n            Dimension vpSize = scrollPane.getViewport().getExtentSize();\n            Dimension logSize = log.getSize();\n\n            int height = logSize.height - vpSize.height;\n            scrollPane.getViewport().setViewPosition(new Point(0, height));\n        }\n    });\n}\n</code></pre>\n<p>At which time, I grab the current size of the view and compare it to the current size of the log panel, I then use the different to calculate the y-offset from the bottom of the panel which would allow the last element to be visible...</p>\n"}],"owner":{"account_id":1322374,"reputation":107,"user_id":1267909,"display_name":"Jeff Trimmer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1024,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":28667100,"answer_count":1,"score":0,"last_activity_date":1659044975,"creation_date":1424663404,"question_id":28666648,"body_markdown":"I have a ScrollPane with a JPanel in my Java program that gets alot of text appended. I need the ScrollPane to scroll to the very bottom after every addition. My problem with the following code is that it scrolls &quot;almost&quot; to the bottom but not all the way. Any ideas as to what I am doing wrong?\r\n\r\n    import javax.swing.*;\r\n    import javax.swing.border.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    \r\n    public class Sample extends JFrame{\r\n        JTextField input = new JTextField();\r\n        JPanel log = new JPanel();\r\n        JScrollPane scrollPane = new JScrollPane(log);\r\n        JScrollBar scrollBar = scrollPane.getVerticalScrollBar();\r\n    \r\n        public Sample(){\r\n    \r\n            input.setBorder(new TitledBorder(&quot;Message&quot;));\r\n            input.setToolTipText(&quot;Type a message here.&quot;);\r\n    \r\n            log.setBorder(new TitledBorder(&quot;Log&quot;));\r\n            log.setLayout(new BoxLayout(log, BoxLayout.Y_AXIS));\r\n            log.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));\r\n    \r\n            // Add the panels to the frame\r\n            setLayout(new BorderLayout(10, 10));\r\n            add(input, BorderLayout.NORTH);\r\n            add(scrollPane, BorderLayout.CENTER);\r\n    \r\n            setTitle(&quot;Chat Window&quot;);\r\n            setSize(400, 300);\r\n            setLocationRelativeTo(null);\r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            setVisible(true);\r\n    \r\n            // Register Key listener\r\n            input.addKeyListener(new KeyAdapter() {\r\n                @Override\r\n                public void keyReleased(KeyEvent e) {\r\n                    if (e.getKeyCode() == KeyEvent.VK_ENTER) {\r\n                        log.add(new ServerBubble(input.getText()));\r\n                        log.add(Box.createRigidArea(new Dimension(0, 10)));\r\n                        input.setText(null);\r\n                        scrollPane.revalidate();\r\n                        scrollBar.setValue(scrollBar.getMaximum());\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            JFrame frame = new Exercise33_9Server();\r\n    \r\n        }\r\n    \r\n        private class ServerBubble extends JLabel{\r\n    \r\n            private final Color LIGHT_GREEN = new Color(204, 255, 229);\r\n            private final Color DARK_GREEN = new Color(0, 102, 51);\r\n            String message;\r\n    \r\n            public ServerBubble(String label){\r\n                message = processText(label);\r\n                setOpaque(true);\r\n                setForeground(DARK_GREEN);\r\n                setBackground(LIGHT_GREEN);\r\n                setHorizontalAlignment(LEFT);\r\n                setBorder(new LineBorder(DARK_GREEN, 3, true));\r\n                setText(label);\r\n                setBorder(BorderFactory.createCompoundBorder(getBorder(), BorderFactory.createEmptyBorder(5, 5, 5, 5)));\r\n            }\r\n    \r\n            private String processText(String message){\r\n                message = &quot;&lt;HTML&gt;&quot; + message;\r\n                return message;\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Java JScrollPane scrolls to bottom... almost","body":"<p>I have a ScrollPane with a JPanel in my Java program that gets alot of text appended. I need the ScrollPane to scroll to the very bottom after every addition. My problem with the following code is that it scrolls \"almost\" to the bottom but not all the way. Any ideas as to what I am doing wrong?</p>\n\n<pre><code>import javax.swing.*;\nimport javax.swing.border.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\npublic class Sample extends JFrame{\n    JTextField input = new JTextField();\n    JPanel log = new JPanel();\n    JScrollPane scrollPane = new JScrollPane(log);\n    JScrollBar scrollBar = scrollPane.getVerticalScrollBar();\n\n    public Sample(){\n\n        input.setBorder(new TitledBorder(\"Message\"));\n        input.setToolTipText(\"Type a message here.\");\n\n        log.setBorder(new TitledBorder(\"Log\"));\n        log.setLayout(new BoxLayout(log, BoxLayout.Y_AXIS));\n        log.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));\n\n        // Add the panels to the frame\n        setLayout(new BorderLayout(10, 10));\n        add(input, BorderLayout.NORTH);\n        add(scrollPane, BorderLayout.CENTER);\n\n        setTitle(\"Chat Window\");\n        setSize(400, 300);\n        setLocationRelativeTo(null);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setVisible(true);\n\n        // Register Key listener\n        input.addKeyListener(new KeyAdapter() {\n            @Override\n            public void keyReleased(KeyEvent e) {\n                if (e.getKeyCode() == KeyEvent.VK_ENTER) {\n                    log.add(new ServerBubble(input.getText()));\n                    log.add(Box.createRigidArea(new Dimension(0, 10)));\n                    input.setText(null);\n                    scrollPane.revalidate();\n                    scrollBar.setValue(scrollBar.getMaximum());\n                }\n            }\n        });\n    }\n\n    public static void main(String[] args) {\n        JFrame frame = new Exercise33_9Server();\n\n    }\n\n    private class ServerBubble extends JLabel{\n\n        private final Color LIGHT_GREEN = new Color(204, 255, 229);\n        private final Color DARK_GREEN = new Color(0, 102, 51);\n        String message;\n\n        public ServerBubble(String label){\n            message = processText(label);\n            setOpaque(true);\n            setForeground(DARK_GREEN);\n            setBackground(LIGHT_GREEN);\n            setHorizontalAlignment(LEFT);\n            setBorder(new LineBorder(DARK_GREEN, 3, true));\n            setText(label);\n            setBorder(BorderFactory.createCompoundBorder(getBorder(), BorderFactory.createEmptyBorder(5, 5, 5, 5)));\n        }\n\n        private String processText(String message){\n            message = \"&lt;HTML&gt;\" + message;\n            return message;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium","chromium","rhel","rhel7"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659044950,"creation_date":1659044950,"answer_id":73159558,"question_id":73152367,"body_markdown":"Seems to be a classical case of mismatch between _chromedriver_ and the _chromebrowser_ version.\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nEnsure that:\r\n\r\n- _Selenium_ is upgraded to  current released [_**Version 4.3.0**_](https://www.selenium.dev/downloads/).\r\n- _ChromeDriver_ is updated to  current [ChromeDriver v103.0](https://chromedriver.storage.googleapis.com/index.html?path=103.0.5060.53/) level.\r\n- _Chrome Browser_ is updated to  current _chrome=103.0_ (as per [chromedriver=103.0.5060.53 release notes](https://chromedriver.storage.googleapis.com/103.0.5060.53/notes.txt)).","title":"Chromiumn : Selenium : Check failed: InitDefaultFont(). Could not find the default font","body":"<p>Seems to be a classical case of mismatch between <em>chromedriver</em> and the <em>chromebrowser</em> version.</p>\n<hr />\n<h2>Solution</h2>\n<p>Ensure that:</p>\n<ul>\n<li><em>Selenium</em> is upgraded to  current released <a href=\"https://www.selenium.dev/downloads/\" rel=\"nofollow noreferrer\"><em><strong>Version 4.3.0</strong></em></a>.</li>\n<li><em>ChromeDriver</em> is updated to  current <a href=\"https://chromedriver.storage.googleapis.com/index.html?path=103.0.5060.53/\" rel=\"nofollow noreferrer\">ChromeDriver v103.0</a> level.</li>\n<li><em>Chrome Browser</em> is updated to  current <em>chrome=103.0</em> (as per <a href=\"https://chromedriver.storage.googleapis.com/103.0.5060.53/notes.txt\" rel=\"nofollow noreferrer\">chromedriver=103.0.5060.53 release notes</a>).</li>\n</ul>\n"}],"owner":{"account_id":4354622,"reputation":1,"user_id":3553701,"display_name":"Kamlesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":514,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659044950,"creation_date":1659008774,"question_id":73152367,"body_markdown":"Getting following error while creating Chromedriver in selenium using java. It is not working for one specific user, if same program is executed with other user then it works. Both the user have similar permissions and environment variable\r\n\r\nOS: RHEL 7.9\r\n\r\n\r\n``` [1658829780.419][WARNING]: This version of ChromeDriver has not been tested with Chrome version 89.\r\n[1658829780.419][DEBUG]: DevTools HTTP Request: http://localhost:7742/json/list\r\n[0726/100300.421991:FATAL:platform_font_skia.cc(98)] Check failed: InitDefaultFont(). Could not find the default font\r\n#0 0x55c23a026c99 \r\n#28 0x7f11d4ded119 g_main_context_dispatch\r\n#29 0x7f11d4ded478 (/usr/lib64/libglib-2.0.so.0.5600.1+0x4c477)\r\n#30 0x7f11d4ded52c g_main_context_iteration\r\n#31 0x55c239faed42 \r\n#43 0x55c237480f05 ChromeMain\r\n#44 0x7f11cfb7e555 __libc_start_main\r\n#45 0x55c237480d2a _start\r\nTask trace:\r\n#0 0x55c239f8ce64 \r\n#3 0x7f11d551f630 (/usr/lib64/libpthread-2.17.so+0xf62f)\r\n#4 0x7f11cfb92387 __GI_raise\r\n#5 0x7f11cfb93a78 __GI_abort\r\n#6 0x55c23a025815 \r\n#33 0x7f11d4ded119 g_main_context_dispatch\r\n#34 0x7f11d4ded478 (/usr/lib64/libglib-2.0.so.0.5600.1+0x4c477)\r\n#35 0x7f11d4ded52c g_main_context_iteration\r\n#36 0x55c239faed42 \r\n#48 0x55c237480f05 ChromeMain\r\n#49 0x7f11cfb7e555 __libc_start_main\r\n#50 0x55c237480d2a _start\r\n  r8: 0000000000000000  r9: 0000000000000000 r10: 0000000000000008 r11: 0000000000000202\r\n r12: 00002625bce2e298 r13: 00002625bce2e290 r14: 00002625bce2e280 r15: 00007fffd6b4c700\r\n  di: 000000000000beea  si: 000000000000beea  bp: 00007fffd6b4be80  bx: 00007fffd6b4c6e0\r\n  dx: 0000000000000006  ax: 0000000000000000  cx: ffffffffffffffff  sp: 00007fffd6b4bd48\r\n  ip: 00007f11cfb92387 efl: 0000000000000202 cgf: 0000000000000033 erf: 0000000000000007\r\n trp: 000000000000000e msk: 0000000000000000 cr2: 00007ffb58b86700\r\n[end of stack trace]\r\nCalling _exit(1). Core file will not be generated.\r\n[1658829780.445][SEVERE]: CreatePlatformSocket() failed: Address family not supported by protocol (97)\r\n[1658829780.445][DEBUG]: DevTools HTTP Request failed\r\n[1658829780.447][INFO]: [ee5fe644206b3d46f737dc17ed442b7e] RESPONSE InitSession ERROR unknown error: Chrome failed to start: exited abnormally.\r\n  (chrome not reachable)\r\n  (The process started from chrome location /Driver/linux/assertion_web_driver/assertion_web_driver is no longer running, so ChromeDriver is assuming that Chrome has crashed.)\r\n[1658829780.447][DEBUG]: Log type &#39;driver&#39; lost 1 entries on destruction\r\n[1658829780.447][DEBUG]: Log type &#39;browser&#39; lost 0 entries on destruction\r\n[0100/000000.431497:INFO:child_thread_impl.cc(838)] ChildThreadImpl::EnsureConnected()\r\n[0726/100315.456870:INFO:child_thread_impl.cc(838)] ChildThreadImpl::EnsureConnected()\r\n0100/000000.504161:INFO:child_thread_impl.cc(838)] ChildThreadImpl::EnsureConnected()\r\n[0726/100308.528783:INFO:child_thread_impl.cc(838)] ChildThreadImpl::EnsureConnected()\r\n```\r\n\r\n\r\nChromium version : 88.0.4324.27\r\n","title":"Chromiumn : Selenium : Check failed: InitDefaultFont(). Could not find the default font","body":"<p>Getting following error while creating Chromedriver in selenium using java. It is not working for one specific user, if same program is executed with other user then it works. Both the user have similar permissions and environment variable</p>\n<p>OS: RHEL 7.9</p>\n<pre><code>[1658829780.419][DEBUG]: DevTools HTTP Request: http://localhost:7742/json/list\n[0726/100300.421991:FATAL:platform_font_skia.cc(98)] Check failed: InitDefaultFont(). Could not find the default font\n#0 0x55c23a026c99 \n#28 0x7f11d4ded119 g_main_context_dispatch\n#29 0x7f11d4ded478 (/usr/lib64/libglib-2.0.so.0.5600.1+0x4c477)\n#30 0x7f11d4ded52c g_main_context_iteration\n#31 0x55c239faed42 \n#43 0x55c237480f05 ChromeMain\n#44 0x7f11cfb7e555 __libc_start_main\n#45 0x55c237480d2a _start\nTask trace:\n#0 0x55c239f8ce64 \n#3 0x7f11d551f630 (/usr/lib64/libpthread-2.17.so+0xf62f)\n#4 0x7f11cfb92387 __GI_raise\n#5 0x7f11cfb93a78 __GI_abort\n#6 0x55c23a025815 \n#33 0x7f11d4ded119 g_main_context_dispatch\n#34 0x7f11d4ded478 (/usr/lib64/libglib-2.0.so.0.5600.1+0x4c477)\n#35 0x7f11d4ded52c g_main_context_iteration\n#36 0x55c239faed42 \n#48 0x55c237480f05 ChromeMain\n#49 0x7f11cfb7e555 __libc_start_main\n#50 0x55c237480d2a _start\n  r8: 0000000000000000  r9: 0000000000000000 r10: 0000000000000008 r11: 0000000000000202\n r12: 00002625bce2e298 r13: 00002625bce2e290 r14: 00002625bce2e280 r15: 00007fffd6b4c700\n  di: 000000000000beea  si: 000000000000beea  bp: 00007fffd6b4be80  bx: 00007fffd6b4c6e0\n  dx: 0000000000000006  ax: 0000000000000000  cx: ffffffffffffffff  sp: 00007fffd6b4bd48\n  ip: 00007f11cfb92387 efl: 0000000000000202 cgf: 0000000000000033 erf: 0000000000000007\n trp: 000000000000000e msk: 0000000000000000 cr2: 00007ffb58b86700\n[end of stack trace]\nCalling _exit(1). Core file will not be generated.\n[1658829780.445][SEVERE]: CreatePlatformSocket() failed: Address family not supported by protocol (97)\n[1658829780.445][DEBUG]: DevTools HTTP Request failed\n[1658829780.447][INFO]: [ee5fe644206b3d46f737dc17ed442b7e] RESPONSE InitSession ERROR unknown error: Chrome failed to start: exited abnormally.\n  (chrome not reachable)\n  (The process started from chrome location /Driver/linux/assertion_web_driver/assertion_web_driver is no longer running, so ChromeDriver is assuming that Chrome has crashed.)\n[1658829780.447][DEBUG]: Log type 'driver' lost 1 entries on destruction\n[1658829780.447][DEBUG]: Log type 'browser' lost 0 entries on destruction\n[0100/000000.431497:INFO:child_thread_impl.cc(838)] ChildThreadImpl::EnsureConnected()\n[0726/100315.456870:INFO:child_thread_impl.cc(838)] ChildThreadImpl::EnsureConnected()\n0100/000000.504161:INFO:child_thread_impl.cc(838)] ChildThreadImpl::EnsureConnected()\n[0726/100308.528783:INFO:child_thread_impl.cc(838)] ChildThreadImpl::EnsureConnected()\n</code></pre>\n<p>Chromium version : 88.0.4324.27</p>\n"},{"tags":["java","regex","string","matching"],"comments":[{"owner":{"account_id":24131527,"reputation":1071,"user_id":18099076,"display_name":"aca"},"score":1,"creation_date":1659005672,"post_id":73151632,"comment_id":129195248,"body_markdown":"So you have limited number of words that are correct?","body":"So you have limited number of words that are correct?"},{"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"score":0,"creation_date":1659005733,"post_id":73151632,"comment_id":129195272,"body_markdown":"exactly and they could be passed together or separated - and it should be correct","body":"exactly and they could be passed together or separated - and it should be correct"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1659006241,"post_id":73151632,"comment_id":129195494,"body_markdown":"Is `pdf/pdf` correct, or do we assume that it will never appear?","body":"Is <code>pdf&#47;pdf</code> correct, or do we assume that it will never appear?"},{"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"score":0,"creation_date":1659006589,"post_id":73151632,"comment_id":129195622,"body_markdown":"`csv/pdf` should be fine as well. `pdf/pdf` should be treated correct as well","body":"<code>csv&#47;pdf</code> should be fine as well. <code>pdf&#47;pdf</code> should be treated correct as well"},{"owner":{"account_id":262968,"reputation":767120,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1659006818,"post_id":73151632,"comment_id":129195697,"body_markdown":"Try: `^(?:pdf|csv|xlsx)(?:/(?:pdf|csv|xlsx))?$`","body":"Try: <code>^(?:pdf|csv|xlsx)(?:&#47;(?:pdf|csv|xlsx))?$</code>"}],"answers":[{"tags":[],"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659006578,"creation_date":1659006578,"answer_id":73151882,"question_id":73151632,"body_markdown":"How about this?\r\n\r\n    ^(pdf|csv|xlsx)(\\/(pdf|csv|xlsx))*$","title":"Regex match any of the words separated by slashes","body":"<p>How about this?</p>\n<pre><code>^(pdf|csv|xlsx)(\\/(pdf|csv|xlsx))*$\n</code></pre>\n"},{"tags":[],"owner":{"account_id":262968,"reputation":767120,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659007642,"creation_date":1659006898,"answer_id":73151958,"question_id":73151632,"body_markdown":"You may use this regex:\r\n\r\n```sh\r\n^(?:pdf|csv|xlsx?)(?:/(?:pdf|csv|xlsx?))*$\r\n```\r\n\r\n[RegEx Demo][1]\r\n\r\n\r\n  [1]: https://regex101.com/r/XvBijy/1","title":"Regex match any of the words separated by slashes","body":"<p>You may use this regex:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>^(?:pdf|csv|xlsx?)(?:/(?:pdf|csv|xlsx?))*$\n</code></pre>\n<p><a href=\"https://regex101.com/r/XvBijy/1\" rel=\"nofollow noreferrer\">RegEx Demo</a></p>\n"},{"tags":[],"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659016955,"creation_date":1659016955,"answer_id":73154175,"question_id":73151632,"body_markdown":"This idea makes the pattern a bit shorter:\r\n\r\n    ^(?:(?:pdf|csv|xlsx?)/?\\b)+$\r\n\r\n[Here is a demo at regex101][1]\r\n\r\nThe slash is set to [optional][2] here and the [word boundary `\\b`][3] requires it between words on the one hand and disallows it at the end on the other. It might be a tiny bit less efficient, but looks cool.\r\n\r\n\r\n  [1]: https://regex101.com/r/GaX66Z/1\r\n  [2]: https://www.regular-expressions.info/optional.html\r\n  [3]: https://www.regular-expressions.info/wordboundaries.html","title":"Regex match any of the words separated by slashes","body":"<p>This idea makes the pattern a bit shorter:</p>\n<pre><code>^(?:(?:pdf|csv|xlsx?)/?\\b)+$\n</code></pre>\n<p><a href=\"https://regex101.com/r/GaX66Z/1\" rel=\"nofollow noreferrer\">Here is a demo at regex101</a></p>\n<p>The slash is set to <a href=\"https://www.regular-expressions.info/optional.html\" rel=\"nofollow noreferrer\">optional</a> here and the <a href=\"https://www.regular-expressions.info/wordboundaries.html\" rel=\"nofollow noreferrer\">word boundary <code>\\b</code></a> requires it between words on the one hand and disallows it at the end on the other. It might be a tiny bit less efficient, but looks cool.</p>\n"}],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73151958,"answer_count":3,"score":3,"last_activity_date":1659044474,"creation_date":1659005586,"question_id":73151632,"body_markdown":"I need to develop a validation pattern for catching any kind from:\r\n\r\n&gt;pdf/csv/xlsx\r\n\r\nselect any separate word is simple:\r\n\r\n&gt;(pdf|csv|xlsx).\r\n\r\nHowever, I need to check that any combination with them separated by slash is fine as well. \r\n\r\nFor example, **correct flow**:\r\n\r\n```\r\npdf/csv/xlsx\r\npdf\r\npdf/csv\r\ncsv/xlsx\r\nxlsx\r\npdf/xlsx\r\n```\r\n\r\n**Incorrect**:\r\n\r\n```\r\ntest\r\nincorrect\r\ndoc\r\n```","title":"Regex match any of the words separated by slashes","body":"<p>I need to develop a validation pattern for catching any kind from:</p>\n<blockquote>\n<p>pdf/csv/xlsx</p>\n</blockquote>\n<p>select any separate word is simple:</p>\n<blockquote>\n<p>(pdf|csv|xlsx).</p>\n</blockquote>\n<p>However, I need to check that any combination with them separated by slash is fine as well.</p>\n<p>For example, <strong>correct flow</strong>:</p>\n<pre><code>pdf/csv/xlsx\npdf\npdf/csv\ncsv/xlsx\nxlsx\npdf/xlsx\n</code></pre>\n<p><strong>Incorrect</strong>:</p>\n<pre><code>test\nincorrect\ndoc\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":3,"creation_date":1658963027,"post_id":73145314,"comment_id":129185419,"body_markdown":"Adding dependencies to the pom donâ€™t mean you donâ€™t have to import them, it makes the libraries available.","body":"Adding dependencies to the pom donâ€™t mean you donâ€™t have to import them, it makes the libraries available."},{"owner":{"account_id":312412,"reputation":1786,"user_id":626467,"accept_rate":94,"display_name":"Peter"},"score":0,"creation_date":1659017000,"post_id":73145314,"comment_id":129199547,"body_markdown":"I mixed up the two concepts, thank you","body":"I mixed up the two concepts, thank you"}],"answers":[{"tags":[],"owner":{"account_id":5577000,"reputation":1315,"user_id":4420124,"accept_rate":100,"display_name":"Laszlowaty"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658963223,"creation_date":1658962901,"answer_id":73145474,"question_id":73145314,"body_markdown":"There is something called `java standard library` - this means that a lot of things are automatically avaibable to you and you don&#39;t have to add anything to `pom` file. \r\n\r\nMaven is used for adding `external libraries` that are not included and shipped with your java.\r\n\r\nEasiest way to find out if you need to add anything to `pom` file is to use good `IDE` (for example `Intellij`) that provides support for maven. It should mark any libraries that are missing - then add those to your `pom` file.\r\n\r\nAnd you still need import everything you need to use for each *.java file.","title":"Maven: how to find dependencies","body":"<p>There is something called <code>java standard library</code> - this means that a lot of things are automatically avaibable to you and you don't have to add anything to <code>pom</code> file.</p>\n<p>Maven is used for adding <code>external libraries</code> that are not included and shipped with your java.</p>\n<p>Easiest way to find out if you need to add anything to <code>pom</code> file is to use good <code>IDE</code> (for example <code>Intellij</code>) that provides support for maven. It should mark any libraries that are missing - then add those to your <code>pom</code> file.</p>\n<p>And you still need import everything you need to use for each *.java file.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1659044332,"creation_date":1658982382,"answer_id":73147270,"question_id":73145314,"body_markdown":"&gt;Now instead of importing these at the top of the code, I would just go into the POM file of my Maven project and add the dependencies. \r\n\r\nNo. You are conflating two different things:\r\n\r\n - **Managing dependencies** (downloading and placing libraries within your project)\r\n - **Using dependencies** (calling the libraryâ€™s classes and methods from within your code)\r\n\r\n# Managing dependencies\r\n\r\nTo use a library, you need to obtain a physical copy, a file, usually a `.jar` file. You can manually download a copy. Or you can use [Maven][2] or [Gradle][1] to download a copy on your behalf. The Maven or Gradle approach is generally recommended over the manual approach.\r\n\r\nOnce downloaded, you need to place the file where it can be found within your project. Again, you can do this manually, or you can use Maven or Gradle to make the file available to your project. Again, the Maven or Gradle approach is generally recommended over the manual approach.\r\n\r\n# Using dependencies\r\n\r\nAfter having obtained and placed a copy of the library, you are ready to access its classes and methods. \r\n\r\n&#128073; The catch is that the **authors of that library may have named some of their classes and methods coincidentally with the same name** as found in another library. \r\n\r\nImagine you want to use a class named `Source`, but two of your libraries have such a class:\r\n\r\n - `javax.xml.transform.Source`\r\n - `com.example.awesome.Source`\r\n\r\nIf you write in your code:\r\n\r\n    Source s = new Source() ;\r\n\r\nâ€¦ how does the compiler know which of the two classes you meant? &#128072;\r\n\r\nTo resolve the mystery, you either:\r\n\r\n - Write a [fully-qualified][3] class name.&lt;br /&gt;`javax.xml.transform.Source s = new javax.xml.transform.Source() ;`\r\n - Write an `import` statement.&lt;br /&gt;`import javax.xml.transform.Source ;`\r\n\r\nThe second approach, writing an `import` statement, usually makes for less typing and easier reading than the first approach of using fully-qualified names.\r\n\r\nThe word `import` is a bit of a misnomer, and was used for legacy historical reasons. Its use here does *not* involve any moving of anything anywhere. A better name would have been [*namespace*][4], as in, specifying a defined domain of known names.\r\n\r\nWhen reading this:\r\n\r\n    import javax.xml.transform.Source ;\r\n\r\nâ€¦ think this:\r\n\r\n```java\r\nnamespace javax.xml.transform.Source ;\r\n```\r\n\r\nâ€¦ meaning: â€œAny use below of the word â€œSourceâ€ can be assumed to mean the `Source` class from the library whose package is `javax.xml.transform`â€\r\n\r\nIn its effort to find the class of that package you named, the [Java Virtual Machine][5] at runtime automatically looks through all the libraries you obtained and placed.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Gradle\r\n  [2]: https://en.wikipedia.org/wiki/Apache_Maven\r\n  [3]: https://en.wikipedia.org/wiki/Fully_qualified_name\r\n  [4]: https://en.wikipedia.org/wiki/Namespace\r\n  [5]: https://en.wikipedia.org/wiki/Java_virtual_machine","title":"Maven: how to find dependencies","body":"<blockquote>\n<p>Now instead of importing these at the top of the code, I would just go into the POM file of my Maven project and add the dependencies.</p>\n</blockquote>\n<p>No. You are conflating two different things:</p>\n<ul>\n<li><strong>Managing dependencies</strong> (downloading and placing libraries within your project)</li>\n<li><strong>Using dependencies</strong> (calling the libraryâ€™s classes and methods from within your code)</li>\n</ul>\n<h1>Managing dependencies</h1>\n<p>To use a library, you need to obtain a physical copy, a file, usually a <code>.jar</code> file. You can manually download a copy. Or you can use <a href=\"https://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Maven</a> or <a href=\"https://en.wikipedia.org/wiki/Gradle\" rel=\"nofollow noreferrer\">Gradle</a> to download a copy on your behalf. The Maven or Gradle approach is generally recommended over the manual approach.</p>\n<p>Once downloaded, you need to place the file where it can be found within your project. Again, you can do this manually, or you can use Maven or Gradle to make the file available to your project. Again, the Maven or Gradle approach is generally recommended over the manual approach.</p>\n<h1>Using dependencies</h1>\n<p>After having obtained and placed a copy of the library, you are ready to access its classes and methods.</p>\n<p>ðŸ‘‰ The catch is that the <strong>authors of that library may have named some of their classes and methods coincidentally with the same name</strong> as found in another library.</p>\n<p>Imagine you want to use a class named <code>Source</code>, but two of your libraries have such a class:</p>\n<ul>\n<li><code>javax.xml.transform.Source</code></li>\n<li><code>com.example.awesome.Source</code></li>\n</ul>\n<p>If you write in your code:</p>\n<pre><code>Source s = new Source() ;\n</code></pre>\n<p>â€¦ how does the compiler know which of the two classes you meant? ðŸ‘ˆ</p>\n<p>To resolve the mystery, you either:</p>\n<ul>\n<li>Write a <a href=\"https://en.wikipedia.org/wiki/Fully_qualified_name\" rel=\"nofollow noreferrer\">fully-qualified</a> class name.<br /><code>javax.xml.transform.Source s = new javax.xml.transform.Source() ;</code></li>\n<li>Write an <code>import</code> statement.<br /><code>import javax.xml.transform.Source ;</code></li>\n</ul>\n<p>The second approach, writing an <code>import</code> statement, usually makes for less typing and easier reading than the first approach of using fully-qualified names.</p>\n<p>The word <code>import</code> is a bit of a misnomer, and was used for legacy historical reasons. Its use here does <em>not</em> involve any moving of anything anywhere. A better name would have been <a href=\"https://en.wikipedia.org/wiki/Namespace\" rel=\"nofollow noreferrer\"><em>namespace</em></a>, as in, specifying a defined domain of known names.</p>\n<p>When reading this:</p>\n<pre><code>import javax.xml.transform.Source ;\n</code></pre>\n<p>â€¦ think this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>namespace javax.xml.transform.Source ;\n</code></pre>\n<p>â€¦ meaning: â€œAny use below of the word â€œSourceâ€ can be assumed to mean the <code>Source</code> class from the library whose package is <code>javax.xml.transform</code>â€</p>\n<p>In its effort to find the class of that package you named, the <a href=\"https://en.wikipedia.org/wiki/Java_virtual_machine\" rel=\"nofollow noreferrer\">Java Virtual Machine</a> at runtime automatically looks through all the libraries you obtained and placed.</p>\n"},{"tags":[],"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658984899,"creation_date":1658984899,"answer_id":73147536,"question_id":73145314,"body_markdown":"You can also search Maven library by full class name by `fc` operator at [search.maven.org][1]\r\n\r\neg.\r\n\r\n```\r\nfc:javax.xml.transform.stream.StreamResult\r\n```\r\n\r\nhttps://search.maven.org/search?q=fc:javax.xml.transform.stream.StreamResult\r\n\r\n\r\nOf course one class can be found in many library...\r\n\r\n  [1]: https://search.maven.org/","title":"Maven: how to find dependencies","body":"<p>You can also search Maven library by full class name by <code>fc</code> operator at <a href=\"https://search.maven.org/\" rel=\"nofollow noreferrer\">search.maven.org</a></p>\n<p>eg.</p>\n<pre><code>fc:javax.xml.transform.stream.StreamResult\n</code></pre>\n<p><a href=\"https://search.maven.org/search?q=fc:javax.xml.transform.stream.StreamResult\" rel=\"nofollow noreferrer\">https://search.maven.org/search?q=fc:javax.xml.transform.stream.StreamResult</a></p>\n<p>Of course one class can be found in many library...</p>\n"}],"owner":{"account_id":312412,"reputation":1786,"user_id":626467,"accept_rate":94,"display_name":"Peter"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73147270,"answer_count":3,"score":2,"last_activity_date":1659044332,"creation_date":1658961508,"question_id":73145314,"body_markdown":"Maybe I am misunderstanding Maven&#39;s dependency principles but this is my question:\r\n\r\nI have a little Java program that requires these imports\r\n```import javax.xml.XMLConstants;\r\nimport javax.xml.transform.OutputKeys;\r\nimport javax.xml.transform.Source;\r\nimport javax.xml.transform.Transformer;\r\nimport javax.xml.transform.TransformerFactory;\r\nimport javax.xml.transform.stream.StreamResult;\r\nimport javax.xml.transform.stream.StreamSource;\r\nimport java.io.StringReader;\r\nimport java.io.StringWriter;\r\n```\r\n\r\n\r\nNow instead of importing these at the top of the code, I would just go\r\ninto the POM file of my Maven project and add the dependencies.\r\nBut on https://mvnrepository.com/ how do I find the correct imports?\r\nIs there another way besides looking on that site?\r\n\r\nThank you.\r\n\r\n","title":"Maven: how to find dependencies","body":"<p>Maybe I am misunderstanding Maven's dependency principles but this is my question:</p>\n<p>I have a little Java program that requires these imports</p>\n<pre><code>import javax.xml.transform.OutputKeys;\nimport javax.xml.transform.Source;\nimport javax.xml.transform.Transformer;\nimport javax.xml.transform.TransformerFactory;\nimport javax.xml.transform.stream.StreamResult;\nimport javax.xml.transform.stream.StreamSource;\nimport java.io.StringReader;\nimport java.io.StringWriter;\n</code></pre>\n<p>Now instead of importing these at the top of the code, I would just go\ninto the POM file of my Maven project and add the dependencies.\nBut on <a href=\"https://mvnrepository.com/\" rel=\"nofollow noreferrer\">https://mvnrepository.com/</a> how do I find the correct imports?\nIs there another way besides looking on that site?</p>\n<p>Thank you.</p>\n"},{"tags":["java","eclipse","file-io"],"comments":[{"owner":{"account_id":4306289,"reputation":493,"user_id":3518575,"accept_rate":100,"display_name":"XOR-Manik"},"score":0,"creation_date":1442424157,"post_id":32614758,"comment_id":53080606,"body_markdown":"Are you feeding the path for the ABC.txt in the input stream? I can not see it.","body":"Are you feeding the path for the ABC.txt in the input stream? I can not see it."},{"owner":{"account_id":6533561,"reputation":137,"user_id":5053949,"display_name":"tilak"},"score":0,"creation_date":1442424364,"post_id":32614758,"comment_id":53080705,"body_markdown":"It will take the default path of the folder in which IDE will place the source code..","body":"It will take the default path of the folder in which IDE will place the source code.."},{"owner":{"account_id":4306289,"reputation":493,"user_id":3518575,"accept_rate":100,"display_name":"XOR-Manik"},"score":0,"creation_date":1442424447,"post_id":32614758,"comment_id":53080748,"body_markdown":"So is your ABC.txt in that folder?","body":"So is your ABC.txt in that folder?"},{"owner":{"account_id":6533561,"reputation":137,"user_id":5053949,"display_name":"tilak"},"score":0,"creation_date":1442424557,"post_id":32614758,"comment_id":53080801,"body_markdown":"yes it is visible in my workspace folder ..But can not be opened . it shows not responding ....","body":"yes it is visible in my workspace folder ..But can not be opened . it shows not responding ...."}],"answers":[{"tags":[],"owner":{"account_id":6565203,"reputation":147,"user_id":5075061,"accept_rate":100,"display_name":"Krishna Chalise"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442425477,"creation_date":1442425477,"answer_id":32615302,"question_id":32614758,"body_markdown":"I got it!!!\r\nRemove the class scope as public and mention as:\r\n\r\n    class UserFILE_IO{}\r\n\r\n\r\nAll you need to do is change the code as:\r\n\r\n\r\n    try{\r\n        fout = new FileOutputStream(&quot;ABC.txt&quot;);\r\n        fin = new FileInputStream(&quot;ABC.txt&quot;);\r\n    }  \r\n\r\nand finally change the loop as:\r\n\r\n    try {\r\n        char c;\r\n        while ((c = (char) fin.read()) == 1) {\r\n            fout1.write(c);\r\n            System.out.print(c);\r\n        }\r\n\r\nthen you will get everything right.","title":"Several Errors being Logged for File I/O code","body":"<p>I got it!!!\nRemove the class scope as public and mention as:</p>\n\n<pre><code>class UserFILE_IO{}\n</code></pre>\n\n<p>All you need to do is change the code as:</p>\n\n<pre><code>try{\n    fout = new FileOutputStream(\"ABC.txt\");\n    fin = new FileInputStream(\"ABC.txt\");\n}  \n</code></pre>\n\n<p>and finally change the loop as:</p>\n\n<pre><code>try {\n    char c;\n    while ((c = (char) fin.read()) == 1) {\n        fout1.write(c);\n        System.out.print(c);\n    }\n</code></pre>\n\n<p>then you will get everything right.</p>\n"},{"tags":[],"owner":{"account_id":6977258,"reputation":59,"user_id":5351590,"display_name":"max payne "},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1442599465,"creation_date":1442599465,"answer_id":32658381,"question_id":32614758,"body_markdown":"You can also find it in the folder consisting the source code of your program inside that package.\r\nHere as you have not mentioned the correct path to the file that where it is going to be stored then it must be the case of the default location . \r\nTry to write the path more precise.\r\n\r\nHere the case may be like , abc.txt same file can also be overridden with contents of the file ABC.txt so , if there exist any file named abc.txt then ypu should also look into it.\r\n","title":"Several Errors being Logged for File I/O code","body":"<p>You can also find it in the folder consisting the source code of your program inside that package.\nHere as you have not mentioned the correct path to the file that where it is going to be stored then it must be the case of the default location . \nTry to write the path more precise.</p>\n\n<p>Here the case may be like , abc.txt same file can also be overridden with contents of the file ABC.txt so , if there exist any file named abc.txt then ypu should also look into it.</p>\n"}],"owner":{"account_id":6533561,"reputation":137,"user_id":5053949,"display_name":"tilak"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":32658381,"answer_count":2,"score":1,"last_activity_date":1659044193,"creation_date":1442423559,"question_id":32614758,"body_markdown":"Here is my code from learning the File i/o...\r\n\r\n    import java.io.*;\r\n\timport java.util.Scanner;\r\n\t\r\n\tpublic class UserFILE_IO {\r\n\t\tstatic FileInputStream fin;\r\n\t\tstatic FileOutputStream fout, fout1;\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\r\n\t\t\ttry {\r\n\t\t\t\tfin = new FileInputStream(&quot;ABC.txt&quot;);\r\n\t\t\t\tfout = new FileOutputStream(&quot;ABC.txt&quot;);\r\n\t\t\t} catch (FileNotFoundException e) {\r\n\t\t\t\tSystem.out.println(&quot;FILE NOT FOUND!!!&quot;);\r\n\t\t\t}\r\n\t\r\n\t\t\tString s;\r\n\t\r\n\t\t\tScanner sc = new Scanner(System.in);\r\n\t\t\ts = sc.nextLine();\r\n\t\r\n\t\t\ttry {\r\n\t\t\t\tfout.write(s.getBytes());\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\r\n\t\t\t\tfout.close();\r\n\t\t\t} catch (IOException e2) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te2.printStackTrace();\r\n\t\t\t}\r\n\t\t\tsc.close();\r\n\t\t\ttry {\r\n\t\t\t\tfout1 = new FileOutputStream(&quot;ABC1.txt&quot;);\r\n\t\r\n\t\t\t} catch (FileNotFoundException e1) {\r\n\t\t\t\te1.printStackTrace();\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tchar c;\r\n\t\t\t\twhile ((c = (char) fin.read()) != -1) {\r\n\t\t\t\t\tfout1.write(c);\r\n\t\t\t\t\tSystem.out.print(c);\r\n\t\r\n\t\t\t\t}\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tfin.close();\r\n\t\t\t\tfout1.close();\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nWhenever I try to open the `ABC1.txt` file from the workspace folder (In C:), it shows the size of 12.00 MB and whenever I refresh  the folder the size also gets increased each time . And another thing I want to mention is, I m not able to see the File `ABC.txt` in the IDE (Eclipse) which I m using.\r\n \r\n1. Why that file ABC1.txt is that larger of size 12.00 MB+\r\n\r\n2. And why I m not able to get the ABC.txt file in my IDE? \r\n","title":"Several Errors being Logged for File I/O code","body":"<p>Here is my code from learning the File i/o...</p>\n<pre><code>import java.io.*;\nimport java.util.Scanner;\n\npublic class UserFILE_IO {\n    static FileInputStream fin;\n    static FileOutputStream fout, fout1;\n\n    public static void main(String[] args) {\n\n        try {\n            fin = new FileInputStream(&quot;ABC.txt&quot;);\n            fout = new FileOutputStream(&quot;ABC.txt&quot;);\n        } catch (FileNotFoundException e) {\n            System.out.println(&quot;FILE NOT FOUND!!!&quot;);\n        }\n\n        String s;\n\n        Scanner sc = new Scanner(System.in);\n        s = sc.nextLine();\n\n        try {\n            fout.write(s.getBytes());\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        try {\n\n            fout.close();\n        } catch (IOException e2) {\n            // TODO Auto-generated catch block\n            e2.printStackTrace();\n        }\n        sc.close();\n        try {\n            fout1 = new FileOutputStream(&quot;ABC1.txt&quot;);\n\n        } catch (FileNotFoundException e1) {\n            e1.printStackTrace();\n        }\n        try {\n            char c;\n            while ((c = (char) fin.read()) != -1) {\n                fout1.write(c);\n                System.out.print(c);\n\n            }\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        try {\n            fin.close();\n            fout1.close();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Whenever I try to open the <code>ABC1.txt</code> file from the workspace folder (In C:), it shows the size of 12.00 MB and whenever I refresh  the folder the size also gets increased each time . And another thing I want to mention is, I m not able to see the File <code>ABC.txt</code> in the IDE (Eclipse) which I m using.</p>\n<ol>\n<li><p>Why that file ABC1.txt is that larger of size 12.00 MB+</p>\n</li>\n<li><p>And why I m not able to get the ABC.txt file in my IDE?</p>\n</li>\n</ol>\n"},{"tags":["java","android","firebase-admin","firebase-app-check","safetynet"],"comments":[{"owner":{"account_id":23710860,"reputation":89,"user_id":17732756,"display_name":"MehdiS"},"score":1,"creation_date":1658917541,"post_id":73105469,"comment_id":129169258,"body_markdown":"@FrankvanPuffelen sir I have added the code and App Check screenshot. the problem is technical, because app check use SHA-256 to verify queries","body":"@FrankvanPuffelen sir I have added the code and App Check screenshot. the problem is technical, because app check use SHA-256 to verify queries"}],"answers":[{"tags":[],"owner":{"account_id":1656903,"reputation":196,"user_id":1526201,"display_name":"Lahiru Maramba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659043722,"creation_date":1659043722,"answer_id":73159366,"question_id":73105469,"body_markdown":"*Firebaser here*\r\n\r\nApologies for the inconvenience and thank you for reporting this issue -- this is similar to a [previously reported issue we&#39;ve seen on Admin Node.js SDK](https://stackoverflow.com/questions/72770679/how-to-access-firebase-database-from-nodejs-admin-sdk-after-enforcing-firebase-a), and we are working on releasing the fix. Please follow the [GitHub thread][1] for updates.\r\n\r\n\r\n  [1]: https://github.com/firebase/firebase-android-sdk/issues/3952","title":"Firebase Admins SDK and App check SafetyNet","body":"<p><em>Firebaser here</em></p>\n<p>Apologies for the inconvenience and thank you for reporting this issue -- this is similar to a <a href=\"https://stackoverflow.com/questions/72770679/how-to-access-firebase-database-from-nodejs-admin-sdk-after-enforcing-firebase-a\">previously reported issue we've seen on Admin Node.js SDK</a>, and we are working on releasing the fix. Please follow the <a href=\"https://github.com/firebase/firebase-android-sdk/issues/3952\" rel=\"nofollow noreferrer\">GitHub thread</a> for updates.</p>\n"}],"owner":{"account_id":23710860,"reputation":89,"user_id":17732756,"display_name":"MehdiS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659043722,"creation_date":1658734335,"question_id":73105469,"body_markdown":"I have firebase project connected to android app, and I am using App check (SafetyNet), and it work 100% well.\r\n\r\nAlso I am using admins SDK (java) to connect and do action in the project. before using the App check every thing was working 100% well, but after enabling app check I can&#39;t access and all action fail.\r\n\r\nso how to deal with admin SDK and app check ?\r\n\r\n       FirebaseOptions options = new FirebaseOptions.Builder().setCredentials(GoogleCredentials.fromStream(\r\n                new ClassPathResource(&quot;/myproject-firebase-adminsdk.json&quot;).getInputStream()))\r\n                .setDatabaseUrl(&quot;https://myproject-default-rtdb.firebaseio.com&quot;).build();\r\n\r\n        if (FirebaseApp.getApps().isEmpty()) {\r\n            FirebaseApp.initializeApp(options);\r\n        }\r\n\r\n    DatabaseReference ref2 = FirebaseDatabase.getInstance().getReference(&quot;/users&quot;);\r\n         ref2.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n              public void onDataChange(DataSnapshot dataSnapshot) {\r\n                Object document = dataSnapshot.getValue();\r\n                System.out.println(document);\r\n        }\r\n\r\n        @Override\r\n        public void onCancelled(DatabaseError error) {\r\n            System.out.println(error);\r\n\r\n        }\r\n    });\r\n\r\n[![App check][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/P6ch5.png","title":"Firebase Admins SDK and App check SafetyNet","body":"<p>I have firebase project connected to android app, and I am using App check (SafetyNet), and it work 100% well.</p>\n<p>Also I am using admins SDK (java) to connect and do action in the project. before using the App check every thing was working 100% well, but after enabling app check I can't access and all action fail.</p>\n<p>so how to deal with admin SDK and app check ?</p>\n<pre><code>   FirebaseOptions options = new FirebaseOptions.Builder().setCredentials(GoogleCredentials.fromStream(\n            new ClassPathResource(&quot;/myproject-firebase-adminsdk.json&quot;).getInputStream()))\n            .setDatabaseUrl(&quot;https://myproject-default-rtdb.firebaseio.com&quot;).build();\n\n    if (FirebaseApp.getApps().isEmpty()) {\n        FirebaseApp.initializeApp(options);\n    }\n\nDatabaseReference ref2 = FirebaseDatabase.getInstance().getReference(&quot;/users&quot;);\n     ref2.addListenerForSingleValueEvent(new ValueEventListener() {\n        @Override\n          public void onDataChange(DataSnapshot dataSnapshot) {\n            Object document = dataSnapshot.getValue();\n            System.out.println(document);\n    }\n\n    @Override\n    public void onCancelled(DatabaseError error) {\n        System.out.println(error);\n\n    }\n});\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/P6ch5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P6ch5.png\" alt=\"App check\" /></a></p>\n"},{"tags":["java","jmx","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":85487,"reputation":20822,"user_id":238303,"accept_rate":79,"display_name":"Ben ODay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1335459474,"creation_date":1335457921,"answer_id":10337574,"question_id":10332342,"body_markdown":"make sure you are checking for the correct attribute value, your errors says &quot;FirstExchangeCompletionTime\r\n&quot;, but the attribute is called &quot;FirstExchangeCompletedTimestamp&quot;\r\n\r\nsee this unit test for more info: \r\n\r\nhttps://svn.apache.org/repos/asf/camel/trunk/camel-core/src/test/java/org/apache/camel/management/JmxInstrumentationUsingDefaultsTest.java","title":"javax.management.AttributeNotFoundException","body":"<p>make sure you are checking for the correct attribute value, your errors says \"FirstExchangeCompletionTime\n\", but the attribute is called \"FirstExchangeCompletedTimestamp\"</p>\n\n<p>see this unit test for more info: </p>\n\n<p><a href=\"https://svn.apache.org/repos/asf/camel/trunk/camel-core/src/test/java/org/apache/camel/management/JmxInstrumentationUsingDefaultsTest.java\" rel=\"nofollow\">https://svn.apache.org/repos/asf/camel/trunk/camel-core/src/test/java/org/apache/camel/management/JmxInstrumentationUsingDefaultsTest.java</a></p>\n"},{"tags":[],"owner":{"account_id":3801446,"reputation":1793,"user_id":3154987,"display_name":"BrianC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659042701,"creation_date":1659042701,"answer_id":73159213,"question_id":10332342,"body_markdown":"\r\n\r\nI ran into this when the version of nodetool on my workstation was different that the version of Cassandra I was connecting to.    Make sure you are using the same versions.","title":"javax.management.AttributeNotFoundException","body":"<p>I ran into this when the version of nodetool on my workstation was different that the version of Cassandra I was connecting to.    Make sure you are using the same versions.</p>\n"}],"owner":{"account_id":438088,"reputation":421,"user_id":826143,"accept_rate":83,"display_name":"Zeena"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7719,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":10337574,"answer_count":2,"score":0,"last_activity_date":1659042701,"creation_date":1335439147,"question_id":10332342,"body_markdown":"I am at Camel 2.9.0. I am able to view the MBean data(routes, processors, etc) for running processes in JConsole.\r\n\r\nI need to display the same in our user interface. While I try to fetch the attribute values, I get the following error.\r\n\r\n&gt; Note - Attribute &quot;EndpointUri&quot; is fetching the right value.\r\n\r\nProblem is with &quot;FirstExchangeCompletionTime&quot;. So I am concluding that there might not be any possible problem revolving the server connection. When we were at Camel.1.6.4, the same line of code for the attribute &quot;FirstExchangeCompletedTimestamp&quot; used to work fine. Had there been any change in JMX set up after Camel 1.6.4?\r\n\r\nWe are using the following properties for our JMX setup:\r\n\r\n    -Dorg.apache.camel.jmx.disabled=false\r\n    -Dorg.apache.camel.jmx.rmiConnector.registryPort=2001\r\n\r\nError:\r\n\r\n    javax.management.AttributeNotFoundException: getAttribute failed: ModelMBeanAttributeInfo not found for FirstExchangeCompletionTime\r\n    &gt;        at javax.management.modelmbean.RequiredModelMBean.getAttribute(RequiredModelMBean.java:1326)\r\n    &gt;        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.getAttribute(DefaultMBeanServerInterceptor.java:666)\r\n    &gt;        at com.sun.jmx.mbeanserver.JmxMBeanServer.getAttribute(JmxMBeanServer.java:638)\r\n    &gt;        at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1404)\r\n    &gt;        at javax.management.remote.rmi.RMIConnectionImpl.access$200(RMIConnectionImpl.java:72)\r\n    &gt;        at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1265)\r\n    &gt;        at java.security.AccessController.doPrivileged(Native Method)\r\n    &gt;        at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1367)\r\n    &gt;        at javax.management.remote.rmi.RMIConnectionImpl.getAttribute(RMIConnectionImpl.java:600)\r\n    &gt;        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    &gt;        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n    &gt;        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n    &gt;        at java.lang.reflect.Method.invoke(Method.java:597)\r\n    &gt;        at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:305)\r\n    &gt;        at sun.rmi.transport.Transport$1.run(Transport.java:159)\r\n    &gt;        at java.security.AccessController.doPrivileged(Native Method)\r\n    &gt;        at sun.rmi.transport.Transport.serviceCall(Transport.java:155)\r\n    &gt;        at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:535)\r\n    &gt;        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:790)\r\n    &gt;        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:649)\r\n    &gt;        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n    &gt;        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n    &gt;        at java.lang.Thread.run(Thread.java:662)\r\n    &gt;        at sun.rmi.transport.StreamRemoteCall.exceptionReceivedFromServer(StreamRemoteCall.java:255)\r\n    &gt;        at sun.rmi.transport.StreamRemoteCall.executeCall(StreamRemoteCall.java:233)\r\n    &gt;        at sun.rmi.server.UnicastRef.invoke(UnicastRef.java:142)\r\n    &gt;        at com.sun.jmx.remote.internal.PRef.invoke(Unknown Source)\r\n    &gt;        at javax.management.remote.rmi.RMIConnectionImpl_Stub.getAttribute(Unknown Source)\r\n    &gt;        at javax.management.remote.rmi.RMIConnector$RemoteMBeanServerConnection.getAttribute(RMIConnector.java:878)\r\n\r\nWe are fetching the values through `MBeanServerConnection::getAttribute(&quot;X&quot;)` method. I went through the Camel source code where these attributes are obtained through  `org.apache.camel.management.mbean.Statistic`.\r\n\r\nI tried (non-static way) -\r\n\r\n    MBeanServerConnection::getAttribute(qName, &quot;org.apache.camel.firstExchangeCompletedTimestamp&quot;)\r\n    MBeanServerConnection::getAttribute(qName, &quot;firstExchangeCompletedTimestamp&quot;)\r\n\r\nBut none seems to be working. Please help.","title":"javax.management.AttributeNotFoundException","body":"<p>I am at Camel 2.9.0. I am able to view the MBean data(routes, processors, etc) for running processes in JConsole.</p>\n\n<p>I need to display the same in our user interface. While I try to fetch the attribute values, I get the following error.</p>\n\n<blockquote>\n  <p>Note - Attribute \"EndpointUri\" is fetching the right value.</p>\n</blockquote>\n\n<p>Problem is with \"FirstExchangeCompletionTime\". So I am concluding that there might not be any possible problem revolving the server connection. When we were at Camel.1.6.4, the same line of code for the attribute \"FirstExchangeCompletedTimestamp\" used to work fine. Had there been any change in JMX set up after Camel 1.6.4?</p>\n\n<p>We are using the following properties for our JMX setup:</p>\n\n<pre><code>-Dorg.apache.camel.jmx.disabled=false\n-Dorg.apache.camel.jmx.rmiConnector.registryPort=2001\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>javax.management.AttributeNotFoundException: getAttribute failed: ModelMBeanAttributeInfo not found for FirstExchangeCompletionTime\n&gt;        at javax.management.modelmbean.RequiredModelMBean.getAttribute(RequiredModelMBean.java:1326)\n&gt;        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.getAttribute(DefaultMBeanServerInterceptor.java:666)\n&gt;        at com.sun.jmx.mbeanserver.JmxMBeanServer.getAttribute(JmxMBeanServer.java:638)\n&gt;        at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1404)\n&gt;        at javax.management.remote.rmi.RMIConnectionImpl.access$200(RMIConnectionImpl.java:72)\n&gt;        at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1265)\n&gt;        at java.security.AccessController.doPrivileged(Native Method)\n&gt;        at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1367)\n&gt;        at javax.management.remote.rmi.RMIConnectionImpl.getAttribute(RMIConnectionImpl.java:600)\n&gt;        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n&gt;        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n&gt;        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n&gt;        at java.lang.reflect.Method.invoke(Method.java:597)\n&gt;        at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:305)\n&gt;        at sun.rmi.transport.Transport$1.run(Transport.java:159)\n&gt;        at java.security.AccessController.doPrivileged(Native Method)\n&gt;        at sun.rmi.transport.Transport.serviceCall(Transport.java:155)\n&gt;        at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:535)\n&gt;        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:790)\n&gt;        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:649)\n&gt;        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n&gt;        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n&gt;        at java.lang.Thread.run(Thread.java:662)\n&gt;        at sun.rmi.transport.StreamRemoteCall.exceptionReceivedFromServer(StreamRemoteCall.java:255)\n&gt;        at sun.rmi.transport.StreamRemoteCall.executeCall(StreamRemoteCall.java:233)\n&gt;        at sun.rmi.server.UnicastRef.invoke(UnicastRef.java:142)\n&gt;        at com.sun.jmx.remote.internal.PRef.invoke(Unknown Source)\n&gt;        at javax.management.remote.rmi.RMIConnectionImpl_Stub.getAttribute(Unknown Source)\n&gt;        at javax.management.remote.rmi.RMIConnector$RemoteMBeanServerConnection.getAttribute(RMIConnector.java:878)\n</code></pre>\n\n<p>We are fetching the values through <code>MBeanServerConnection::getAttribute(\"X\")</code> method. I went through the Camel source code where these attributes are obtained through  <code>org.apache.camel.management.mbean.Statistic</code>.</p>\n\n<p>I tried (non-static way) -</p>\n\n<pre><code>MBeanServerConnection::getAttribute(qName, \"org.apache.camel.firstExchangeCompletedTimestamp\")\nMBeanServerConnection::getAttribute(qName, \"firstExchangeCompletedTimestamp\")\n</code></pre>\n\n<p>But none seems to be working. Please help.</p>\n"},{"tags":["java","php","android","android-volley"],"answers":[{"tags":[],"owner":{"account_id":5222764,"reputation":49,"user_id":4175703,"display_name":"Jeremy Vidaurri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659042343,"creation_date":1659042343,"answer_id":73159163,"question_id":73158336,"body_markdown":"Fixed it by switching my array into a string and then using a `StringRequest` to send the data.\r\n\r\nUpdated function:\r\n```java\r\npublic void sendData(JSONArray data) {\r\n        RequestQueue queue = Volley.newRequestQueue(this);\r\n        String url = &quot;http://10.123.20.180:8080/insertmatrix.php&quot;;\r\n\r\n        String json = data.toString();\r\n\r\n        StringRequest dataReq = new StringRequest(Request.Method.POST,url,response -&gt; Toast.makeText(MainActivity.this, &quot;Success&quot;, Toast.LENGTH_LONG).show(),\r\n                error -&gt; Toast.makeText(MainActivity.this, &quot;Error&quot;, Toast.LENGTH_LONG).show()){\r\n            @Override\r\n            protected Map&lt;String,String&gt; getParams(){\r\n                Map&lt;String,String&gt; params = new HashMap&lt;String,String&gt;();\r\n                params.put(&quot;data&quot;,json);\r\n\r\n                return params;\r\n            }\r\n\r\n        };\r\n\r\n        queue.add(dataReq);\r\n\r\n\r\n    }\r\n```","title":"How to send JSONArray to PHP server using Volley?","body":"<p>Fixed it by switching my array into a string and then using a <code>StringRequest</code> to send the data.</p>\n<p>Updated function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void sendData(JSONArray data) {\n        RequestQueue queue = Volley.newRequestQueue(this);\n        String url = &quot;http://10.123.20.180:8080/insertmatrix.php&quot;;\n\n        String json = data.toString();\n\n        StringRequest dataReq = new StringRequest(Request.Method.POST,url,response -&gt; Toast.makeText(MainActivity.this, &quot;Success&quot;, Toast.LENGTH_LONG).show(),\n                error -&gt; Toast.makeText(MainActivity.this, &quot;Error&quot;, Toast.LENGTH_LONG).show()){\n            @Override\n            protected Map&lt;String,String&gt; getParams(){\n                Map&lt;String,String&gt; params = new HashMap&lt;String,String&gt;();\n                params.put(&quot;data&quot;,json);\n\n                return params;\n            }\n\n        };\n\n        queue.add(dataReq);\n\n\n    }\n</code></pre>\n"}],"owner":{"account_id":5222764,"reputation":49,"user_id":4175703,"display_name":"Jeremy Vidaurri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73159163,"answer_count":1,"score":0,"last_activity_date":1659042343,"creation_date":1659037101,"question_id":73158336,"body_markdown":"I&#39;m fairly inexperienced with Android programming and am having issues sending a JSONArray to my PHP server. I am using the following code to generate the JSONArray from my cursor:\r\n```java\r\npublic JSONArray matrixJSON(){\r\n        Cursor cursor = db.rawQuery(&quot;SELECT columnID,rowID,value FROM Matrix WHERE PolicyID=&quot; + curPolicy,null);\r\n\r\n        JSONArray resultSet = new JSONArray();\r\n        cursor.moveToFirst();\r\n        while (!cursor.isAfterLast()) {\r\n            int totalColumn = cursor.getColumnCount();\r\n            JSONObject rowObject = new JSONObject();\r\n            for (int i = 0; i &lt; totalColumn; i++) {\r\n                if (cursor.getColumnName(i) != null) {\r\n                    try {\r\n                        rowObject.put(cursor.getColumnName(i),\r\n                                cursor.getString(i));\r\n                    } catch (Exception e) {\r\n                        Log.d(TAG, e.getMessage());\r\n                    }\r\n                }\r\n            }\r\n            resultSet.put(rowObject);\r\n            cursor.moveToNext();\r\n        }\r\n\r\n        cursor.close();\r\n        return resultSet;\r\n\r\n    }\r\n```\r\n\r\nI believe I am misunderstanding how to properly send data via JsonARrayRequest. Here is the following code that I am using to send the data.\r\n\r\n```java\r\npublic void sendData(JSONArray data) {\r\n        RequestQueue queue = Volley.newRequestQueue(this);\r\n        String url = &quot;http://10.123.20.180:8080/insertmatrix.php&quot;;\r\n        JsonArrayRequest dataReq = new JsonArrayRequest(Request.Method.POST, url, data,\r\n                response -&gt; Toast.makeText(MainActivity.this, &quot;Success&quot;, Toast.LENGTH_LONG).show(),\r\n                error -&gt; Toast.makeText(MainActivity.this, &quot;Error&quot;, Toast.LENGTH_LONG).show()){\r\n            @Override\r\n            protected Response&lt;JSONArray&gt; parseNetworkResponse(NetworkResponse response) {\r\n\r\n                if (response.data == null || response.data.length == 0) {\r\n                    return Response.success(null, HttpHeaderParser.parseCacheHeaders(response));\r\n                } else {\r\n                    return super.parseNetworkResponse(response);\r\n                }\r\n            }\r\n        };\r\n        queue.add(dataReq);\r\n\r\n\r\n    }\r\n```\r\n\r\nInstead of sending the data, I am left with a blank array. The cursor to JSONarray function is working properly as I can see in debug, but the php server is receiving a blank array. I assume there is some essential functions I am missing. ","title":"How to send JSONArray to PHP server using Volley?","body":"<p>I'm fairly inexperienced with Android programming and am having issues sending a JSONArray to my PHP server. I am using the following code to generate the JSONArray from my cursor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public JSONArray matrixJSON(){\n        Cursor cursor = db.rawQuery(&quot;SELECT columnID,rowID,value FROM Matrix WHERE PolicyID=&quot; + curPolicy,null);\n\n        JSONArray resultSet = new JSONArray();\n        cursor.moveToFirst();\n        while (!cursor.isAfterLast()) {\n            int totalColumn = cursor.getColumnCount();\n            JSONObject rowObject = new JSONObject();\n            for (int i = 0; i &lt; totalColumn; i++) {\n                if (cursor.getColumnName(i) != null) {\n                    try {\n                        rowObject.put(cursor.getColumnName(i),\n                                cursor.getString(i));\n                    } catch (Exception e) {\n                        Log.d(TAG, e.getMessage());\n                    }\n                }\n            }\n            resultSet.put(rowObject);\n            cursor.moveToNext();\n        }\n\n        cursor.close();\n        return resultSet;\n\n    }\n</code></pre>\n<p>I believe I am misunderstanding how to properly send data via JsonARrayRequest. Here is the following code that I am using to send the data.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void sendData(JSONArray data) {\n        RequestQueue queue = Volley.newRequestQueue(this);\n        String url = &quot;http://10.123.20.180:8080/insertmatrix.php&quot;;\n        JsonArrayRequest dataReq = new JsonArrayRequest(Request.Method.POST, url, data,\n                response -&gt; Toast.makeText(MainActivity.this, &quot;Success&quot;, Toast.LENGTH_LONG).show(),\n                error -&gt; Toast.makeText(MainActivity.this, &quot;Error&quot;, Toast.LENGTH_LONG).show()){\n            @Override\n            protected Response&lt;JSONArray&gt; parseNetworkResponse(NetworkResponse response) {\n\n                if (response.data == null || response.data.length == 0) {\n                    return Response.success(null, HttpHeaderParser.parseCacheHeaders(response));\n                } else {\n                    return super.parseNetworkResponse(response);\n                }\n            }\n        };\n        queue.add(dataReq);\n\n\n    }\n</code></pre>\n<p>Instead of sending the data, I am left with a blank array. The cursor to JSONarray function is working properly as I can see in debug, but the php server is receiving a blank array. I assume there is some essential functions I am missing.</p>\n"},{"tags":["java","log4j","rename","fileappender"],"answers":[{"tags":[],"owner":{"account_id":1978019,"reputation":698,"user_id":1775344,"accept_rate":33,"display_name":"Mateusz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659042109,"creation_date":1659042109,"answer_id":73159125,"question_id":73154102,"body_markdown":"According to official log4j docs\r\n```properties\r\nlog4j.appender.FILE.DatePattern=&#39;.&#39;yyyy-MM-dd\r\n```\r\n\r\nmeans\r\n\r\n&gt; Rollover at midnight each day. At midnight, on March 8th, 2002, /foo/bar.log will be copied to /foo/bar.log.2002-03-08. Logging for the 9th day of March will be output to /foo/bar.log until it is rolled over the next day. \r\n\r\n\r\nSo first step is accomplished.\r\n\r\nThe \r\n```\r\nlog4j.appender.MaxBackupIndex=10\r\n```\r\n\r\nmenas\r\n\r\n&gt; Maximum number of backup files to keep.\r\n\r\nYou want 7, but configured 10\r\n\r\n\r\nNext\r\n\r\n```\r\nlog4j.appender.FILE.MaxFileSize=5MB\r\n\r\n```\r\n\r\n&gt; Maximum allowed file size (in bytes) before rolling over\r\n\r\nSo each file can be max 5MB, if you will produce 7mb of logs in one day then two different files will be created.\r\n\r\nHave you tested that config? Does it work? What works as expected and what doesn&#39;t? Have you read any documentation or tutrial?","title":"log4j .properties Rename and delete old logs","body":"<p>According to official log4j docs</p>\n<pre><code>log4j.appender.FILE.DatePattern='.'yyyy-MM-dd\n</code></pre>\n<p>means</p>\n<blockquote>\n<p>Rollover at midnight each day. At midnight, on March 8th, 2002, /foo/bar.log will be copied to /foo/bar.log.2002-03-08. Logging for the 9th day of March will be output to /foo/bar.log until it is rolled over the next day.</p>\n</blockquote>\n<p>So first step is accomplished.</p>\n<p>The</p>\n<pre><code>log4j.appender.MaxBackupIndex=10\n</code></pre>\n<p>menas</p>\n<blockquote>\n<p>Maximum number of backup files to keep.</p>\n</blockquote>\n<p>You want 7, but configured 10</p>\n<p>Next</p>\n<pre><code>log4j.appender.FILE.MaxFileSize=5MB\n\n</code></pre>\n<blockquote>\n<p>Maximum allowed file size (in bytes) before rolling over</p>\n</blockquote>\n<p>So each file can be max 5MB, if you will produce 7mb of logs in one day then two different files will be created.</p>\n<p>Have you tested that config? Does it work? What works as expected and what doesn't? Have you read any documentation or tutrial?</p>\n"}],"owner":{"account_id":24601897,"reputation":1,"user_id":18504667,"display_name":"Nikita Shamrai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659042109,"creation_date":1659016619,"question_id":73154102,"body_markdown":"I need to create a new log file everyday, an old file has to be renamed with pattern: &quot;test.yyy-MM-dd.log&quot;. And files older than 7 days have to be removed. \r\nBelow is my .properties file. \r\nCan someone explain what I have to add/change pls?\r\n\r\n        log4j.rootLogger=DEBUG, FILE\r\n        # Define the file appender\r\n        log4j.appender.FILE=org.apache.log4j.RollingFileAppender\r\n\r\n        # Set the name of the file\r\n        log4j.appender.FILE.File=logs/test.log\r\n        log4j.appender.FILE.DatePattern=&#39;.&#39;yyyy-MM-dd\r\n        log4j.appender.FILE.Append=true\r\n        log4j.appender.FILE.MaxFileSize=5MB\r\n        log4j.appender.MaxBackupIndex=10\r\n\r\n        # Define the layout for file appender\r\n        log4j.appender.FILE.layout=org.apache.log4j.PatternLayout\r\n        log4j.appender.FILE.layout.conversionPattern=%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p [%C]: %m%n","title":"log4j .properties Rename and delete old logs","body":"<p>I need to create a new log file everyday, an old file has to be renamed with pattern: &quot;test.yyy-MM-dd.log&quot;. And files older than 7 days have to be removed.\nBelow is my .properties file.\nCan someone explain what I have to add/change pls?</p>\n<pre><code>    log4j.rootLogger=DEBUG, FILE\n    # Define the file appender\n    log4j.appender.FILE=org.apache.log4j.RollingFileAppender\n\n    # Set the name of the file\n    log4j.appender.FILE.File=logs/test.log\n    log4j.appender.FILE.DatePattern='.'yyyy-MM-dd\n    log4j.appender.FILE.Append=true\n    log4j.appender.FILE.MaxFileSize=5MB\n    log4j.appender.MaxBackupIndex=10\n\n    # Define the layout for file appender\n    log4j.appender.FILE.layout=org.apache.log4j.PatternLayout\n    log4j.appender.FILE.layout.conversionPattern=%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p [%C]: %m%n\n</code></pre>\n"},{"tags":["java","operating-system"],"comments":[{"owner":{"account_id":262258,"reputation":64223,"user_id":546999,"accept_rate":97,"display_name":"Nanne"},"score":0,"creation_date":1333532226,"post_id":10008527,"comment_id":12795019,"body_markdown":"you meant this one? http://stackoverflow.com/questions/1293533/name-of-the-operating-system-in-java-not-os-name","body":"you meant this one? <a href=\"http://stackoverflow.com/questions/1293533/name-of-the-operating-system-in-java-not-os-name\" title=\"name of the operating system in java not os name\">stackoverflow.com/questions/1293533/&hellip;</a>"},{"owner":{"account_id":456728,"reputation":14328,"user_id":855636,"accept_rate":94,"display_name":"Pavel Janicek"},"score":0,"creation_date":1333532437,"post_id":10008527,"comment_id":12795103,"body_markdown":"YES! I am blind, I am blind, I am blind... :)","body":"YES! I am blind, I am blind, I am blind... :)"}],"answers":[{"tags":[],"owner":{"account_id":168882,"reputation":984,"user_id":394611,"accept_rate":50,"display_name":"Henrique Miranda"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1333532277,"creation_date":1333532277,"answer_id":10008565,"question_id":10008527,"body_markdown":"    System.getProperty(&quot;os.name&quot;);\r\n    System.getProperty(&quot;os.version&quot;);\r\n    System.getProperty(&quot;os.arch&quot;);","title":"How to get operating system in Java","body":"<pre><code>System.getProperty(\"os.name\");\nSystem.getProperty(\"os.version\");\nSystem.getProperty(\"os.arch\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1377979,"reputation":101,"user_id":1311576,"display_name":"Aurelien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402351122,"creation_date":1402351122,"answer_id":24129758,"question_id":10008527,"body_markdown":"You can use the utility class I wrote, you just need to copy the following class in your project&lt;br/&gt;\r\n&lt;br/&gt;\r\nhttps://github.com/aurbroszniowski/os-platform-finder/blob/master/src/main/java/org/jsoftbiz/utils/OS.java&lt;br/&gt;\r\n&lt;br/&gt;\r\nThen do:\r\n&lt;pre&gt;\r\nimport org.jsoftbiz.utils.OS;\r\n\r\n    OS myOS = OS.getOs();\r\n\r\n    myOS.getPlatformName()\r\n\r\n    myOS.getName()\r\n    myOS.getVersion()\r\n    myOS.getArch()\r\n&lt;/pre&gt;\r\n","title":"How to get operating system in Java","body":"<p>You can use the utility class I wrote, you just need to copy the following class in your project<br/>\n<br/>\n<a href=\"https://github.com/aurbroszniowski/os-platform-finder/blob/master/src/main/java/org/jsoftbiz/utils/OS.java\" rel=\"nofollow\">https://github.com/aurbroszniowski/os-platform-finder/blob/master/src/main/java/org/jsoftbiz/utils/OS.java</a><br/>\n<br/>\nThen do:</p>\n\n<pre>\nimport org.jsoftbiz.utils.OS;\n\n    OS myOS = OS.getOs();\n\n    myOS.getPlatformName()\n\n    myOS.getName()\n    myOS.getVersion()\n    myOS.getArch()\n</pre>\n"},{"tags":[],"owner":{"account_id":18195974,"reputation":1,"user_id":13241029,"display_name":"Fiereu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659041462,"creation_date":1659041462,"answer_id":73159022,"question_id":10008527,"body_markdown":"[oslib][1] is a library that provides information about the current OS. You won&#39;t need to parse the info you get from `System.getProperty(&quot;os.name&quot;);`.\r\n\r\n**Note:** Most operating systems are tested and supported but some are not yet implemented. For a complete list check out their Github.\r\n\r\nCode for your specific problem:\r\n-----------------\r\n\r\n    AbstractOperatingSystem os = OperatingSystem.getOperatingSystem();\r\n\r\n    if (os.getType == OperatingSystem.WINDOWS){\r\n        System.setProperty(ChromeDriverService.CHROME_DRIVER_EXE_PROPERTY, &quot;chromedriver.exe&quot;);\r\n    } else if(os.getType == OperatingSystem.LINUX) {\r\n        System.setProperty(ChromeDriverService.CHROME_DRIVER_EXE_PROPERTY, &quot;chromedriver&quot;);\r\n    } else {\r\n        throw new Exception(&quot;Unsupported OS.&quot;);\r\n    }\r\n\r\n\r\n  [1]: https://github.com/wille/oslib","title":"How to get operating system in Java","body":"<p><a href=\"https://github.com/wille/oslib\" rel=\"nofollow noreferrer\">oslib</a> is a library that provides information about the current OS. You won't need to parse the info you get from <code>System.getProperty(&quot;os.name&quot;);</code>.</p>\n<p><strong>Note:</strong> Most operating systems are tested and supported but some are not yet implemented. For a complete list check out their Github.</p>\n<h2>Code for your specific problem:</h2>\n<pre><code>AbstractOperatingSystem os = OperatingSystem.getOperatingSystem();\n\nif (os.getType == OperatingSystem.WINDOWS){\n    System.setProperty(ChromeDriverService.CHROME_DRIVER_EXE_PROPERTY, &quot;chromedriver.exe&quot;);\n} else if(os.getType == OperatingSystem.LINUX) {\n    System.setProperty(ChromeDriverService.CHROME_DRIVER_EXE_PROPERTY, &quot;chromedriver&quot;);\n} else {\n    throw new Exception(&quot;Unsupported OS.&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":456728,"reputation":14328,"user_id":855636,"accept_rate":94,"display_name":"Pavel Janicek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6954,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":10008565,"answer_count":3,"score":5,"last_activity_date":1659041462,"creation_date":1333532110,"question_id":10008527,"body_markdown":"I know there is such a question on SO, but I could not find it. So asking again...\r\n\r\nI need to set up properties to my program, but I need to make it OS indipendent - running both on Windows XP and Linux (unknown distro, unknown version)\r\n\r\nMore specifically - I need to set up to the system where to find the `chromedriver` binary. I need something like this pseudocode:\r\n\r\n     if (getOs() == Windows){\r\n        System.setProperty(ChromeDriverService.CHROME_DRIVER_EXE_PROPERTY, &quot;chromedriver.exe&quot;);\r\n       } else{\r\n         System.setProperty(ChromeDriverService.CHROME_DRIVER_EXE_PROPERTY, &quot;chromedriver&quot;);\r\n       }\r\n\r\nNow I need the part for getting the OS. Thanks for help.","title":"How to get operating system in Java","body":"<p>I know there is such a question on SO, but I could not find it. So asking again...</p>\n\n<p>I need to set up properties to my program, but I need to make it OS indipendent - running both on Windows XP and Linux (unknown distro, unknown version)</p>\n\n<p>More specifically - I need to set up to the system where to find the <code>chromedriver</code> binary. I need something like this pseudocode:</p>\n\n<pre><code> if (getOs() == Windows){\n    System.setProperty(ChromeDriverService.CHROME_DRIVER_EXE_PROPERTY, \"chromedriver.exe\");\n   } else{\n     System.setProperty(ChromeDriverService.CHROME_DRIVER_EXE_PROPERTY, \"chromedriver\");\n   }\n</code></pre>\n\n<p>Now I need the part for getting the OS. Thanks for help.</p>\n"},{"tags":["java","android","canvas"],"answers":[{"tags":[],"owner":{"account_id":2755641,"reputation":8688,"user_id":2373819,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659040898,"creation_date":1659040898,"answer_id":73158935,"question_id":73158364,"body_markdown":"You seem to have a lot of hard coded positions for the centre of the rotations and other items that might not be a suitable value for your actual size of bitmap backed canvas.\r\n\r\nProbably best for the centre of rotation to be the centre of the bitmap i.e `bitmap.getHeight()/2f` and `bitmap.getWidth()/2f` and make everything relate to the size of the bitmap. \r\n\r\ne.g.\r\n\r\n`cs.rotate(90,bitmap.getWidth()/2f ,bitmap.getHeight()/2f);`\r\n\r\nYou also seem to do a rotation around a value that will change a lot depending on how you are holding the phone and what fluctuations there are in the magnetic field. The magnetic sensors reading are not that accurate and again the centre of this `azimuth` rotation is a weird hardcoded location (Same goes for the scale by 0.25f)","title":"Is Canvas.rotate and Canvas.drawBitmap broken or is there something wrong with my code?","body":"<p>You seem to have a lot of hard coded positions for the centre of the rotations and other items that might not be a suitable value for your actual size of bitmap backed canvas.</p>\n<p>Probably best for the centre of rotation to be the centre of the bitmap i.e <code>bitmap.getHeight()/2f</code> and <code>bitmap.getWidth()/2f</code> and make everything relate to the size of the bitmap.</p>\n<p>e.g.</p>\n<p><code>cs.rotate(90,bitmap.getWidth()/2f ,bitmap.getHeight()/2f);</code></p>\n<p>You also seem to do a rotation around a value that will change a lot depending on how you are holding the phone and what fluctuations there are in the magnetic field. The magnetic sensors reading are not that accurate and again the centre of this <code>azimuth</code> rotation is a weird hardcoded location (Same goes for the scale by 0.25f)</p>\n"}],"owner":{"account_id":25692231,"reputation":3,"user_id":19453499,"display_name":"Phantom37"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1659040898,"creation_date":1659037258,"question_id":73158364,"body_markdown":"I&#39;m trying to draw an image using Canvas.rotate and/or Canvas.drawBimtap, although everytime I use it, the image appears in random locations, no matter the X and Y coordinates I set it to. Here is my code, let me know if this is an issue I should report or if there is just an error in my code:\r\n```java\r\n\r\nimport android.Manifest;\r\nimport android.content.Context;\r\nimport android.content.pm.PackageManager;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.BitmapFactory;\r\nimport android.graphics.Canvas;\r\nimport android.graphics.Color;\r\nimport android.graphics.ImageFormat;\r\nimport android.graphics.Paint;\r\nimport android.graphics.SurfaceTexture;\r\nimport android.graphics.drawable.BitmapDrawable;\r\nimport android.graphics.drawable.Drawable;\r\nimport android.hardware.Sensor;\r\nimport android.hardware.SensorEvent;\r\nimport android.hardware.SensorEventListener;\r\nimport android.hardware.SensorManager;\r\nimport android.hardware.camera2.CameraAccessException;\r\nimport android.hardware.camera2.CameraCaptureSession;\r\nimport android.hardware.camera2.CameraCharacteristics;\r\nimport android.hardware.camera2.CameraDevice;\r\nimport android.hardware.camera2.CameraManager;\r\nimport android.hardware.camera2.CameraMetadata;\r\nimport android.hardware.camera2.CaptureRequest;\r\nimport android.hardware.camera2.TotalCaptureResult;\r\nimport android.hardware.camera2.params.StreamConfigurationMap;\r\nimport android.location.Address;\r\nimport android.location.Geocoder;\r\nimport android.location.Location;\r\nimport android.location.LocationListener;\r\nimport android.location.LocationManager;\r\nimport android.media.Image;\r\nimport android.media.ImageReader;\r\nimport android.os.Bundle;\r\nimport android.os.Environment;\r\nimport android.os.Handler;\r\nimport android.os.HandlerThread;\r\nimport android.util.Log;\r\nimport android.util.Size;\r\nimport android.util.SparseIntArray;\r\nimport android.view.Surface;\r\nimport android.view.TextureView;\r\nimport android.view.View;\r\nimport android.view.animation.Animation;\r\nimport android.view.animation.RotateAnimation;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.OutputStream;\r\nimport java.nio.ByteBuffer;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.Calendar;\r\nimport java.util.Date;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\nimport java.util.UUID;\r\n\r\n\r\npublic class Photo_Page extends AppCompatActivity implements SensorEventListener {\r\n    @Override\r\n    protected void onStart()\r\n    {\r\n        super.onStart();\r\n        GlobalClass application=(GlobalClass) getApplication();\r\n        TextView projectnameheader = (TextView) findViewById(R.id.projectnameheader2);\r\n        projectnameheader.setText(application.projectnameheader);\r\n        TextView projectnameoverlay = (TextView) findViewById(R.id.projectnameoverlay);\r\n        projectnameoverlay.setText(application.projectnameheader);\r\n        String currentDateTimeString = java.text.DateFormat.getDateTimeInstance().format(new Date());\r\n        Button addcodeandnote = (Button) findViewById(R.id.addcodebutton);\r\n        EditText entercode2 = (EditText) findViewById(R.id.entercode);\r\n        EditText enternote2 = (EditText) findViewById(R.id.enternote);\r\n        TextView codedisplay = (TextView) findViewById(R.id.code);\r\n        TextView notedisplay = (TextView) findViewById(R.id.note);\r\n        Button savecodebutton = (Button) findViewById(R.id.codesavebutton);\r\n        TextView dateandtime = (TextView) findViewById(R.id.dateandtime);\r\n        dateandtime.setText(currentDateTimeString);\r\n        addcodeandnote.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v)\r\n            {\r\n                if (addcodebuttonpressedtimes&gt;=1) {\r\n                    addcodebuttonpressedtimes=0;\r\n                    entercode2.setVisibility(View.INVISIBLE);\r\n                    enternote2.setVisibility(View.INVISIBLE);\r\n                    savecodebutton.setVisibility(View.INVISIBLE);\r\n                }\r\n                else{\r\n                    addcodebuttonpressedtimes +=1;\r\n                    entercode2.setVisibility(View.VISIBLE);\r\n                    enternote2.setVisibility(View.VISIBLE);\r\n                    savecodebutton.setVisibility(View.VISIBLE);\r\n                    savecodebutton.setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View v) {\r\n                            code=entercode2.getText().toString();\r\n                            note=enternote2.getText().toString();\r\n                            codedisplay.setText(code);\r\n                            notedisplay.setText(note);\r\n                            Toast.makeText(Photo_Page.this, &quot;Code and Note were saved successfully!&quot;, Toast.LENGTH_LONG).show();\r\n                            entercode2.setVisibility(View.INVISIBLE);\r\n                            enternote2.setVisibility(View.INVISIBLE);\r\n                            savecodebutton.setVisibility(View.INVISIBLE);\r\n                            addcodebuttonpressedtimes=0;\r\n                            if (code==null) {\r\n                                codedisplay.setVisibility(View.INVISIBLE);\r\n                            }\r\n                            else{\r\n                                codedisplay.setVisibility(View.VISIBLE);\r\n                            }\r\n                            if (note==null) {\r\n                                notedisplay.setVisibility(View.INVISIBLE);\r\n                            }\r\n                            else{\r\n                                notedisplay.setVisibility(View.VISIBLE);\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n    String m_path = Environment.getExternalStoragePublicDirectory(\r\n            Environment.DIRECTORY_DCIM).getAbsolutePath();\r\n    public String directionNESW;\r\n    public List gpslist = new ArrayList();\r\n    private final static String TAG = MainActivity.class.getSimpleName();\r\n    public Calendar c = Calendar.getInstance();\r\n    public SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyyMMdd&quot;);\r\n    public SimpleDateFormat sdftime = new SimpleDateFormat(&quot;HHmmss&quot;);\r\n    public String time;\r\n    public String date;\r\n    boolean laton = false;\r\n    boolean longon = false;\r\n    boolean alton = false;\r\n    public String names = &quot;Address (GPS signal not found)&quot;;\r\n    public double latitude;\r\n    public double longitude;\r\n    public double altitude;\r\n    public boolean photowithcode = false;\r\n    private Button btnCapture;\r\n    private TextureView textureView2;\r\n    public String addcodebuttonpressed = &quot;false&quot;;\r\n    public int addcodebuttonpressedtimes = 0;\r\n    public String code = &quot;Code (Empty)&quot;;\r\n    public String note = &quot;Note (Empty)&quot;;\r\n    public TextView degrees;\r\n    public TextView direction;\r\n    public ImageView compass;\r\n    public SensorManager sensorManager;\r\n    public Sensor accelerometerSensor, magnetometerSensor;\r\n    public float[] lastAccelerometer = new float[3];\r\n    public float[] lastMagnetometer = new float[3];\r\n    public float[] rotationMatrix = new float[9];\r\n    public float[] orientation = new float[3];\r\n    boolean isLastAccelerometerArrayCopied = false;\r\n    boolean isLastMagnetometerArrayCopied = false;\r\n    long lastUpdatedTime = 0;\r\n    float currentDegrees = 0f;\r\n    private ImageView compass2;\r\n    private float[] mGravity = new float[3];\r\n    private float[] mGeomagnetic = new float[3];\r\n    private float azimuth = 0f;\r\n    private float currectAzimuth = 0f;\r\n    private SensorManager mSensorManager;\r\n\r\n    //Check state orientation of output image\r\n    private static final SparseIntArray ORIENTATIONS = new SparseIntArray();\r\n    static{\r\n        ORIENTATIONS.append(Surface.ROTATION_0,90);\r\n        ORIENTATIONS.append(Surface.ROTATION_90,0);\r\n        ORIENTATIONS.append(Surface.ROTATION_180,270);\r\n        ORIENTATIONS.append(Surface.ROTATION_270,180);\r\n    }\r\n\r\n    private String cameraId;\r\n    private CameraDevice cameraDevice;\r\n    private CameraCaptureSession cameraCaptureSessions;\r\n    private CaptureRequest.Builder captureRequestBuilder;\r\n    private Size imageDimension;\r\n    private ImageReader imageReader;\r\n\r\n    //Save to FILE\r\n    private File file;\r\n    private static final int REQUEST_CAMERA_PERMISSION = 200;\r\n    private boolean mFlashSupported;\r\n    private Handler mBackgroundHandler;\r\n    private HandlerThread mBackgroundThread;\r\n\r\n    CameraDevice.StateCallback stateCallback = new CameraDevice.StateCallback() {\r\n        @Override\r\n        public void onOpened(@NonNull CameraDevice camera) {\r\n            cameraDevice = camera;\r\n            createCameraPreview();\r\n        }\r\n\r\n        @Override\r\n        public void onDisconnected(@NonNull CameraDevice cameraDevice) {\r\n            cameraDevice.close();\r\n        }\r\n\r\n        @Override\r\n        public void onError(@NonNull CameraDevice cameraDevice, int i) {\r\n            cameraDevice.close();\r\n            cameraDevice=null;\r\n        }\r\n    };\r\n\r\n    private TextView gpsdisplay;\r\n    public TextView altitudetext;\r\n    private LocationManager locationManager;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_photo_page);\r\n\r\n        compass2 = (ImageView)findViewById(R.id.compass);\r\n        degrees = (TextView)findViewById(R.id.degree);\r\n        direction = (TextView)findViewById(R.id.direction);\r\n        mSensorManager = (SensorManager)getSystemService(SENSOR_SERVICE);\r\n        sensorManager = (SensorManager) getSystemService(SENSOR_SERVICE);\r\n        accelerometerSensor = sensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER);\r\n        magnetometerSensor = sensorManager.getDefaultSensor(Sensor.TYPE_MAGNETIC_FIELD);\r\n        TextView address = (TextView) findViewById(R.id.address);\r\n        gpsdisplay = findViewById(R.id.gpscoords);\r\n        altitudetext = findViewById(R.id.altitude);\r\n        locationManager = (LocationManager) getSystemService(LOCATION_SERVICE);\r\n\r\n        if(ContextCompat.checkSelfPermission(Photo_Page.this, Manifest.permission.ACCESS_COARSE_LOCATION)!= PackageManager.PERMISSION_GRANTED &amp;&amp;\r\n                ContextCompat.checkSelfPermission(Photo_Page.this,Manifest.permission.ACCESS_FINE_LOCATION)!=PackageManager.PERMISSION_GRANTED);\r\n        {\r\n            ActivityCompat.requestPermissions(Photo_Page.this,new String[]{Manifest.permission.ACCESS_COARSE_LOCATION,Manifest.permission.ACCESS_FINE_LOCATION},69);\r\n        }\r\n\r\n        locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 10, 1, new LocationListener() {\r\n\r\n            @Override\r\n            public void onLocationChanged(Location location) {\r\n                latitude = location.getLatitude();\r\n                longitude = location.getLongitude();\r\n                altitude = location.getAltitude();\r\n                if ((alton &amp;&amp; laton &amp;&amp; longon) == false) {\r\n                    gpsdisplay.setText(String.format(&quot;%.5f&quot;, latitude) + &quot;, &quot; + String.format(&quot;%.5f&quot;, longitude));\r\n                    laton = true;\r\n                    longon = true;\r\n                    altitudetext.setText(String.format(&quot;%.2f&quot;, altitude) + &quot; Meters&quot;);\r\n                    alton = true;\r\n                }\r\n                Geocoder geocoder = new Geocoder(Photo_Page.this, Locale.getDefault());\r\n                try {\r\n                    List&lt;Address&gt; addresses = geocoder.getFromLocation(latitude, longitude, 1);\r\n                    setUpdata(addresses);\r\n\r\n\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n\r\n            private void setUpdata(List&lt;Address&gt; addresses) {\r\n                String add = addresses.get(0).getAddressLine(0);\r\n                String city = addresses.get(0).getLocality();\r\n                String state = addresses.get(0).getAdminArea();\r\n                String zip = addresses.get(0).getPostalCode();\r\n                names = add;\r\n                address.setText(names);\r\n\r\n            }\r\n        });\r\n\r\n        textureView2 = (TextureView)findViewById(R.id.textureView);\r\n        //From Java 1.4 , you can use keyword &#39;assert&#39; to check expression true or false\r\n        assert textureView2 != null;\r\n        textureView2.setSurfaceTextureListener(textureListener);\r\n        btnCapture = (Button)findViewById(R.id.btnCapture);\r\n        Button btnCapturewithcode = (Button)findViewById(R.id.btnCapturewithcode);\r\n        btnCapture.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                takePicture();\r\n            }\r\n        });\r\n        btnCapturewithcode.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                photowithcode = true;\r\n                Toast.makeText(Photo_Page.this, time, Toast.LENGTH_SHORT).show();\r\n                takePicture();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void takePicture() {\r\n        c = Calendar.getInstance();\r\n        time = sdftime.format(c.getTime());\r\n        date = sdf.format(c.getTime());\r\n        GlobalClass application = (GlobalClass) getApplication();\r\n        final File projectfile = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DCIM), application.projectnameheader);\r\n        if (!projectfile.exists()) {\r\n            Log.d(TAG, &quot;Folder doesn&#39;t exist, creating it...&quot;);\r\n            boolean rv = projectfile.mkdir();\r\n        }\r\n        String currentDateTimeString = java.text.DateFormat.getDateTimeInstance().format(new Date());\r\n        TextView dateandtime = (TextView) findViewById(R.id.dateandtime);\r\n        dateandtime.setText(currentDateTimeString);\r\n        gpsdisplay.setText(String.format(&quot;%.5f&quot;, latitude) + &quot;, &quot; + String.format(&quot;%.5f&quot;, longitude));\r\n        altitudetext.setText(String.format(&quot;%.2f&quot;, altitude) + &quot; Meters&quot;);\r\n        if(cameraDevice == null)\r\n            return;\r\n        CameraManager manager = (CameraManager)getSystemService(Context.CAMERA_SERVICE);\r\n        try{\r\n            CameraCharacteristics characteristics = manager.getCameraCharacteristics(cameraDevice.getId());\r\n            Size[] jpegSizes = null;\r\n            if(characteristics != null)\r\n                jpegSizes = characteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP)\r\n                        .getOutputSizes(ImageFormat.JPEG);\r\n\r\n            //Capture image with custom size\r\n            int width = 480;\r\n            int height = 640;\r\n            if(jpegSizes != null &amp;&amp; jpegSizes.length &gt; 0)\r\n            {\r\n                width = jpegSizes[0].getWidth();\r\n                height = jpegSizes[0].getHeight();\r\n            }\r\n            final ImageReader reader = ImageReader.newInstance(width,height,ImageFormat.JPEG,2);\r\n            List&lt;Surface&gt; outputSurface = new ArrayList&lt;&gt;(2);\r\n            outputSurface.add(reader.getSurface());\r\n            outputSurface.add(new Surface(textureView2.getSurfaceTexture()));\r\n\r\n            final CaptureRequest.Builder captureBuilder = cameraDevice.createCaptureRequest(CameraDevice.TEMPLATE_STILL_CAPTURE);\r\n            captureBuilder.addTarget(reader.getSurface());\r\n            captureBuilder.set(CaptureRequest.CONTROL_MODE, CameraMetadata.CONTROL_MODE_AUTO);\r\n\r\n            //Check orientation base on device\r\n            time = sdftime.format(c.getTime());\r\n            date = sdf.format(c.getTime());\r\n            int rotation = getWindowManager().getDefaultDisplay().getRotation();\r\n            captureBuilder.set(CaptureRequest.JPEG_ORIENTATION,ORIENTATIONS.get(rotation));\r\n                file = new File(projectfile+&quot;/&quot;+(application.projectnameheader+&quot;_&quot;+date+&quot;_&quot;+time)+&quot;.jpg&quot;);\r\n            ImageReader.OnImageAvailableListener readerListener = new ImageReader.OnImageAvailableListener() {\r\n                @Override\r\n                public void onImageAvailable(ImageReader imageReader) {\r\n                    Image image = null;\r\n                    try{\r\n                        image = reader.acquireLatestImage();\r\n                        ByteBuffer buffer = image.getPlanes()[0].getBuffer();\r\n                        byte[] bytes = new byte[buffer.capacity()];\r\n                        buffer.get(bytes);\r\n                        save(bytes);\r\n\r\n                    }\r\n                    catch (FileNotFoundException e)\r\n                    {\r\n                        e.printStackTrace();\r\n                    }\r\n                    catch (IOException e)\r\n                    {\r\n                        e.printStackTrace();\r\n                    }\r\n                    finally {\r\n                        {\r\n                            if(image != null)\r\n                                image.close();\r\n                        }\r\n                    }\r\n                }\r\n                private void save(byte[] bytes) throws IOException {\r\n                    OutputStream outputStream = null;\r\n                    try{\r\n                        outputStream = new FileOutputStream(file);\r\n                        outputStream.write(bytes);\r\n                    }finally {\r\n                        if(outputStream != null)\r\n                            outputStream.close();\r\n                    }\r\n                }\r\n            };\r\n\r\n            reader.setOnImageAvailableListener(readerListener,mBackgroundHandler);\r\n            final CameraCaptureSession.CaptureCallback captureListener = new CameraCaptureSession.CaptureCallback() {\r\n                @Override\r\n                public void onCaptureCompleted(@NonNull CameraCaptureSession session, @NonNull CaptureRequest request, @NonNull TotalCaptureResult result) {\r\n                    super.onCaptureCompleted(session, request, result);\r\n                        GlobalClass application = (GlobalClass) getApplication();\r\n                        BitmapFactory.Options options = new BitmapFactory.Options();\r\n                        options.inPreferredConfig = Bitmap.Config.ARGB_8888;\r\n                        Bitmap bitmap = BitmapFactory.decodeFile(file.getAbsolutePath());\r\n                        Bitmap dest = Bitmap.createBitmap(bitmap.getHeight(), bitmap.getWidth(), Bitmap.Config.ARGB_8888);\r\n                        Canvas cs = new Canvas(dest);\r\n                        cs.rotate(90,720 ,720);\r\n                        Paint tPaint = new Paint();\r\n                        tPaint.setTextSize(bitmap.getHeight()/25);\r\n                        tPaint.setColor(Color.WHITE);\r\n                        tPaint.setStyle(Paint.Style.FILL);\r\n                        cs.drawBitmap(bitmap, 0f, 0f, null);\r\n                        float height = tPaint.measureText(&quot;yY&quot;);\r\n                        cs.rotate(270,720 ,720);\r\n                        cs.drawText(application.projectnameheader, 25, bitmap.getHeight()+545+bitmap.getHeight()/25, tPaint);\r\n                        cs.drawText(currentDateTimeString, 25, bitmap.getHeight()+615+bitmap.getHeight()/25, tPaint);\r\n                        cs.drawText(String.format(&quot;%.0f&quot;,currectAzimuth) + &quot;&#176;&quot;, 1225, bitmap.getHeight()+690+bitmap.getHeight()/25, tPaint);\r\n                        cs.drawText(directionNESW, 1235, bitmap.getHeight()+615+bitmap.getHeight()/25, tPaint);\r\n                        cs.drawText(String.format(&quot;%.5f&quot;, latitude) + &quot;, &quot; + String.format(&quot;%.5f&quot;, longitude), 25, bitmap.getHeight()+690+bitmap.getHeight()/25, tPaint);\r\n                        cs.drawText(String.format(&quot;%.2f&quot;, altitude) + &quot; Meters&quot;, 25, bitmap.getHeight()+755+bitmap.getHeight()/25, tPaint);\r\n                        cs.drawText(names, 25,bitmap.getHeight()+825+bitmap.getHeight()/25, tPaint);\r\n                        Bitmap compassbitmap = BitmapFactory.decodeResource(getResources(), R.drawable.compass2);\r\n                        cs.rotate(azimuth*-1,-190,2500);\r\n                        cs.scale(0.25f,0.25f,-190,2500);\r\n                        cs.drawBitmap(compassbitmap, 0, 0, null);\r\n                        if (photowithcode==true) {\r\n                            cs.drawText(code, 25, bitmap.getHeight()+895+bitmap.getHeight()/25, tPaint);\r\n                            cs.drawText(note, 25, bitmap.getHeight()+970+bitmap.getHeight()/25, tPaint);\r\n                            photowithcode=false;\r\n                        }\r\n                        try {\r\n                            dest.compress(Bitmap.CompressFormat.JPEG, 100, new FileOutputStream(new File(projectfile+&quot;/&quot;+(application.projectnameheader+&quot;_&quot;+date+&quot;_&quot;+time)+&quot;___WITHTEXT.jpg&quot;)));\r\n                        } catch (FileNotFoundException e) {\r\n                            // TODO Auto-generated catch block\r\n                            e.printStackTrace();\r\n                        }\r\n                        gpslist.add(latitude + longitude);\r\n                    Toast.makeText(Photo_Page.this, &quot;Saved &quot;+file, Toast.LENGTH_SHORT).show();\r\n                    createCameraPreview();\r\n                }\r\n            };\r\n\r\n            cameraDevice.createCaptureSession(outputSurface, new CameraCaptureSession.StateCallback() {\r\n                @Override\r\n                public void onConfigured(@NonNull CameraCaptureSession cameraCaptureSession) {\r\n                    try{\r\n                        cameraCaptureSession.capture(captureBuilder.build(),captureListener,mBackgroundHandler);\r\n                    } catch (CameraAccessException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onConfigureFailed(@NonNull CameraCaptureSession cameraCaptureSession) {\r\n\r\n                }\r\n            },mBackgroundHandler);\r\n\r\n\r\n        } catch (CameraAccessException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void createCameraPreview() {\r\n        try{\r\n            SurfaceTexture texture = textureView2.getSurfaceTexture();\r\n            assert  texture != null;\r\n            texture.setDefaultBufferSize(imageDimension.getWidth(),imageDimension.getHeight());\r\n            Surface surface = new Surface(texture);\r\n            captureRequestBuilder = cameraDevice.createCaptureRequest(CameraDevice.TEMPLATE_PREVIEW);\r\n            captureRequestBuilder.addTarget(surface);\r\n            cameraDevice.createCaptureSession(Arrays.asList(surface), new CameraCaptureSession.StateCallback() {\r\n                @Override\r\n                public void onConfigured(@NonNull CameraCaptureSession cameraCaptureSession) {\r\n                    if(cameraDevice == null)\r\n                        return;\r\n                    cameraCaptureSessions = cameraCaptureSession;\r\n                    updatePreview();\r\n                }\r\n\r\n                @Override\r\n                public void onConfigureFailed(@NonNull CameraCaptureSession cameraCaptureSession) {\r\n                    Toast.makeText(Photo_Page.this, &quot;Changed&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            },null);\r\n        } catch (CameraAccessException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void updatePreview() {\r\n        if(cameraDevice == null)\r\n            Toast.makeText(this, &quot;Error&quot;, Toast.LENGTH_SHORT).show();\r\n        captureRequestBuilder.set(CaptureRequest.CONTROL_MODE,CaptureRequest.CONTROL_MODE_AUTO);\r\n        try{\r\n            cameraCaptureSessions.setRepeatingRequest(captureRequestBuilder.build(),null,mBackgroundHandler);\r\n        } catch (CameraAccessException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\n    private void openCamera() {\r\n        CameraManager manager = (CameraManager)getSystemService(Context.CAMERA_SERVICE);\r\n        try{\r\n            cameraId = manager.getCameraIdList()[0];\r\n            CameraCharacteristics characteristics = manager.getCameraCharacteristics(cameraId);\r\n            StreamConfigurationMap map = characteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP);\r\n            assert map != null;\r\n            imageDimension = map.getOutputSizes(SurfaceTexture.class)[0];\r\n            //Check realtime permission if run higher API 23\r\n            if(ActivityCompat.checkSelfPermission(this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED)\r\n            {\r\n                ActivityCompat.requestPermissions(this,new String[]{\r\n                        Manifest.permission.CAMERA,\r\n                        Manifest.permission.WRITE_EXTERNAL_STORAGE\r\n                },REQUEST_CAMERA_PERMISSION);\r\n                return;\r\n            }\r\n            manager.openCamera(cameraId,stateCallback,null);\r\n\r\n        } catch (CameraAccessException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    TextureView.SurfaceTextureListener textureListener = new TextureView.SurfaceTextureListener() {\r\n        @Override\r\n        public void onSurfaceTextureAvailable(SurfaceTexture surfaceTexture, int i, int i1) {\r\n            openCamera();\r\n        }\r\n\r\n        @Override\r\n        public void onSurfaceTextureSizeChanged(SurfaceTexture surfaceTexture, int i, int i1) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public boolean onSurfaceTextureDestroyed(SurfaceTexture surfaceTexture) {\r\n            return false;\r\n        }\r\n\r\n        @Override\r\n        public void onSurfaceTextureUpdated(SurfaceTexture surfaceTexture) {\r\n\r\n        }\r\n    };\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == REQUEST_CAMERA_PERMISSION) {\r\n            if (grantResults[0] != PackageManager.PERMISSION_GRANTED) {\r\n                Toast.makeText(this, &quot;You can&#39;t use camera without permission&quot;, Toast.LENGTH_SHORT).show();\r\n                finish();\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        mSensorManager.registerListener(this,mSensorManager.getDefaultSensor(Sensor.TYPE_MAGNETIC_FIELD),\r\n                SensorManager.SENSOR_DELAY_GAME);\r\n        mSensorManager.registerListener(this,mSensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER),\r\n                SensorManager.SENSOR_DELAY_GAME);\r\n        startBackgroundThread();\r\n        if(textureView2.isAvailable())\r\n            openCamera();\r\n        else\r\n            textureView2.setSurfaceTextureListener(textureListener);\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        stopBackgroundThread();\r\n        super.onPause();\r\n        mSensorManager.unregisterListener(this);\r\n\r\n    }\r\n    @Override\r\n    public void onSensorChanged(SensorEvent sensorEvent) {\r\n        final float alpha= 0.97f;\r\n        synchronized (this) {\r\n            if(sensorEvent.sensor.getType() == Sensor.TYPE_ACCELEROMETER) {\r\n                mGravity[0] = alpha*mGravity[0]+(1-alpha)*sensorEvent.values[0];\r\n                mGravity[1] = alpha*mGravity[1]+(1-alpha)*sensorEvent.values[1];\r\n                mGravity[2] = alpha*mGravity[2]+(1-alpha)*sensorEvent.values[2];\r\n            }\r\n            if(sensorEvent.sensor.getType() == Sensor.TYPE_MAGNETIC_FIELD) {\r\n                mGeomagnetic[0] = alpha*mGeomagnetic[0]+(1-alpha)*sensorEvent.values[0];\r\n                mGeomagnetic[1] = alpha*mGeomagnetic[1]+(1-alpha)*sensorEvent.values[1];\r\n                mGeomagnetic[2] = alpha*mGeomagnetic[2]+(1-alpha)*sensorEvent.values[2];\r\n            }\r\n            float R[] = new float[9];\r\n            float I[] = new float[9];\r\n            boolean success = SensorManager.getRotationMatrix(R,I,mGravity,mGeomagnetic);\r\n            if (success){\r\n                float orientation[] = new float[3];\r\n                SensorManager.getOrientation(R,orientation);\r\n                azimuth = (float)Math.toDegrees(orientation[0]);\r\n                azimuth = (azimuth+360)%360;\r\n\r\n                //\r\n                Animation anim = new RotateAnimation(-currectAzimuth,-azimuth, Animation.RELATIVE_TO_SELF,0.5f,Animation.RELATIVE_TO_SELF,0.5f);\r\n                currectAzimuth = azimuth;\r\n                degrees.setText(String.format(&quot;%.0f&quot;,currectAzimuth) + &quot;&#176;&quot;);\r\n                anim.setDuration(500);\r\n                anim.setRepeatCount(0);\r\n                anim.setFillAfter(true);\r\n                compass2.startAnimation(anim);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onAccuracyChanged(Sensor sensor, int accuracy) {\r\n\r\n    }\r\n\r\n    private void stopBackgroundThread() {\r\n        mBackgroundThread.quitSafely();\r\n        try{\r\n            mBackgroundThread.join();\r\n            mBackgroundThread= null;\r\n            mBackgroundHandler = null;\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void startBackgroundThread() {\r\n        mBackgroundThread = new HandlerThread(&quot;Camera Background&quot;);\r\n        mBackgroundThread.start();\r\n        mBackgroundHandler = new Handler(mBackgroundThread.getLooper());\r\n    }\r\n\r\n}\r\n\r\n```\r\nMy goal with this code is to draw the image of a compass on a picture that is being saved to a special file on a device. I tested this by taking a picture but I noticed that, even when I changed nothing in my code, the compass would move to a random location, sometimes not even appearing.","title":"Is Canvas.rotate and Canvas.drawBitmap broken or is there something wrong with my code?","body":"<p>I'm trying to draw an image using Canvas.rotate and/or Canvas.drawBimtap, although everytime I use it, the image appears in random locations, no matter the X and Y coordinates I set it to. Here is my code, let me know if this is an issue I should report or if there is just an error in my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport android.Manifest;\nimport android.content.Context;\nimport android.content.pm.PackageManager;\nimport android.graphics.Bitmap;\nimport android.graphics.BitmapFactory;\nimport android.graphics.Canvas;\nimport android.graphics.Color;\nimport android.graphics.ImageFormat;\nimport android.graphics.Paint;\nimport android.graphics.SurfaceTexture;\nimport android.graphics.drawable.BitmapDrawable;\nimport android.graphics.drawable.Drawable;\nimport android.hardware.Sensor;\nimport android.hardware.SensorEvent;\nimport android.hardware.SensorEventListener;\nimport android.hardware.SensorManager;\nimport android.hardware.camera2.CameraAccessException;\nimport android.hardware.camera2.CameraCaptureSession;\nimport android.hardware.camera2.CameraCharacteristics;\nimport android.hardware.camera2.CameraDevice;\nimport android.hardware.camera2.CameraManager;\nimport android.hardware.camera2.CameraMetadata;\nimport android.hardware.camera2.CaptureRequest;\nimport android.hardware.camera2.TotalCaptureResult;\nimport android.hardware.camera2.params.StreamConfigurationMap;\nimport android.location.Address;\nimport android.location.Geocoder;\nimport android.location.Location;\nimport android.location.LocationListener;\nimport android.location.LocationManager;\nimport android.media.Image;\nimport android.media.ImageReader;\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.os.Handler;\nimport android.os.HandlerThread;\nimport android.util.Log;\nimport android.util.Size;\nimport android.util.SparseIntArray;\nimport android.view.Surface;\nimport android.view.TextureView;\nimport android.view.View;\nimport android.view.animation.Animation;\nimport android.view.animation.RotateAnimation;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ImageView;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.OutputStream;\nimport java.nio.ByteBuffer;\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Calendar;\nimport java.util.Date;\nimport java.util.List;\nimport java.util.Locale;\nimport java.util.UUID;\n\n\npublic class Photo_Page extends AppCompatActivity implements SensorEventListener {\n    @Override\n    protected void onStart()\n    {\n        super.onStart();\n        GlobalClass application=(GlobalClass) getApplication();\n        TextView projectnameheader = (TextView) findViewById(R.id.projectnameheader2);\n        projectnameheader.setText(application.projectnameheader);\n        TextView projectnameoverlay = (TextView) findViewById(R.id.projectnameoverlay);\n        projectnameoverlay.setText(application.projectnameheader);\n        String currentDateTimeString = java.text.DateFormat.getDateTimeInstance().format(new Date());\n        Button addcodeandnote = (Button) findViewById(R.id.addcodebutton);\n        EditText entercode2 = (EditText) findViewById(R.id.entercode);\n        EditText enternote2 = (EditText) findViewById(R.id.enternote);\n        TextView codedisplay = (TextView) findViewById(R.id.code);\n        TextView notedisplay = (TextView) findViewById(R.id.note);\n        Button savecodebutton = (Button) findViewById(R.id.codesavebutton);\n        TextView dateandtime = (TextView) findViewById(R.id.dateandtime);\n        dateandtime.setText(currentDateTimeString);\n        addcodeandnote.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v)\n            {\n                if (addcodebuttonpressedtimes&gt;=1) {\n                    addcodebuttonpressedtimes=0;\n                    entercode2.setVisibility(View.INVISIBLE);\n                    enternote2.setVisibility(View.INVISIBLE);\n                    savecodebutton.setVisibility(View.INVISIBLE);\n                }\n                else{\n                    addcodebuttonpressedtimes +=1;\n                    entercode2.setVisibility(View.VISIBLE);\n                    enternote2.setVisibility(View.VISIBLE);\n                    savecodebutton.setVisibility(View.VISIBLE);\n                    savecodebutton.setOnClickListener(new View.OnClickListener() {\n                        @Override\n                        public void onClick(View v) {\n                            code=entercode2.getText().toString();\n                            note=enternote2.getText().toString();\n                            codedisplay.setText(code);\n                            notedisplay.setText(note);\n                            Toast.makeText(Photo_Page.this, &quot;Code and Note were saved successfully!&quot;, Toast.LENGTH_LONG).show();\n                            entercode2.setVisibility(View.INVISIBLE);\n                            enternote2.setVisibility(View.INVISIBLE);\n                            savecodebutton.setVisibility(View.INVISIBLE);\n                            addcodebuttonpressedtimes=0;\n                            if (code==null) {\n                                codedisplay.setVisibility(View.INVISIBLE);\n                            }\n                            else{\n                                codedisplay.setVisibility(View.VISIBLE);\n                            }\n                            if (note==null) {\n                                notedisplay.setVisibility(View.INVISIBLE);\n                            }\n                            else{\n                                notedisplay.setVisibility(View.VISIBLE);\n                            }\n                        }\n                    });\n                }\n\n            }\n        });\n\n    }\n    String m_path = Environment.getExternalStoragePublicDirectory(\n            Environment.DIRECTORY_DCIM).getAbsolutePath();\n    public String directionNESW;\n    public List gpslist = new ArrayList();\n    private final static String TAG = MainActivity.class.getSimpleName();\n    public Calendar c = Calendar.getInstance();\n    public SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyyMMdd&quot;);\n    public SimpleDateFormat sdftime = new SimpleDateFormat(&quot;HHmmss&quot;);\n    public String time;\n    public String date;\n    boolean laton = false;\n    boolean longon = false;\n    boolean alton = false;\n    public String names = &quot;Address (GPS signal not found)&quot;;\n    public double latitude;\n    public double longitude;\n    public double altitude;\n    public boolean photowithcode = false;\n    private Button btnCapture;\n    private TextureView textureView2;\n    public String addcodebuttonpressed = &quot;false&quot;;\n    public int addcodebuttonpressedtimes = 0;\n    public String code = &quot;Code (Empty)&quot;;\n    public String note = &quot;Note (Empty)&quot;;\n    public TextView degrees;\n    public TextView direction;\n    public ImageView compass;\n    public SensorManager sensorManager;\n    public Sensor accelerometerSensor, magnetometerSensor;\n    public float[] lastAccelerometer = new float[3];\n    public float[] lastMagnetometer = new float[3];\n    public float[] rotationMatrix = new float[9];\n    public float[] orientation = new float[3];\n    boolean isLastAccelerometerArrayCopied = false;\n    boolean isLastMagnetometerArrayCopied = false;\n    long lastUpdatedTime = 0;\n    float currentDegrees = 0f;\n    private ImageView compass2;\n    private float[] mGravity = new float[3];\n    private float[] mGeomagnetic = new float[3];\n    private float azimuth = 0f;\n    private float currectAzimuth = 0f;\n    private SensorManager mSensorManager;\n\n    //Check state orientation of output image\n    private static final SparseIntArray ORIENTATIONS = new SparseIntArray();\n    static{\n        ORIENTATIONS.append(Surface.ROTATION_0,90);\n        ORIENTATIONS.append(Surface.ROTATION_90,0);\n        ORIENTATIONS.append(Surface.ROTATION_180,270);\n        ORIENTATIONS.append(Surface.ROTATION_270,180);\n    }\n\n    private String cameraId;\n    private CameraDevice cameraDevice;\n    private CameraCaptureSession cameraCaptureSessions;\n    private CaptureRequest.Builder captureRequestBuilder;\n    private Size imageDimension;\n    private ImageReader imageReader;\n\n    //Save to FILE\n    private File file;\n    private static final int REQUEST_CAMERA_PERMISSION = 200;\n    private boolean mFlashSupported;\n    private Handler mBackgroundHandler;\n    private HandlerThread mBackgroundThread;\n\n    CameraDevice.StateCallback stateCallback = new CameraDevice.StateCallback() {\n        @Override\n        public void onOpened(@NonNull CameraDevice camera) {\n            cameraDevice = camera;\n            createCameraPreview();\n        }\n\n        @Override\n        public void onDisconnected(@NonNull CameraDevice cameraDevice) {\n            cameraDevice.close();\n        }\n\n        @Override\n        public void onError(@NonNull CameraDevice cameraDevice, int i) {\n            cameraDevice.close();\n            cameraDevice=null;\n        }\n    };\n\n    private TextView gpsdisplay;\n    public TextView altitudetext;\n    private LocationManager locationManager;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_photo_page);\n\n        compass2 = (ImageView)findViewById(R.id.compass);\n        degrees = (TextView)findViewById(R.id.degree);\n        direction = (TextView)findViewById(R.id.direction);\n        mSensorManager = (SensorManager)getSystemService(SENSOR_SERVICE);\n        sensorManager = (SensorManager) getSystemService(SENSOR_SERVICE);\n        accelerometerSensor = sensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER);\n        magnetometerSensor = sensorManager.getDefaultSensor(Sensor.TYPE_MAGNETIC_FIELD);\n        TextView address = (TextView) findViewById(R.id.address);\n        gpsdisplay = findViewById(R.id.gpscoords);\n        altitudetext = findViewById(R.id.altitude);\n        locationManager = (LocationManager) getSystemService(LOCATION_SERVICE);\n\n        if(ContextCompat.checkSelfPermission(Photo_Page.this, Manifest.permission.ACCESS_COARSE_LOCATION)!= PackageManager.PERMISSION_GRANTED &amp;&amp;\n                ContextCompat.checkSelfPermission(Photo_Page.this,Manifest.permission.ACCESS_FINE_LOCATION)!=PackageManager.PERMISSION_GRANTED);\n        {\n            ActivityCompat.requestPermissions(Photo_Page.this,new String[]{Manifest.permission.ACCESS_COARSE_LOCATION,Manifest.permission.ACCESS_FINE_LOCATION},69);\n        }\n\n        locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 10, 1, new LocationListener() {\n\n            @Override\n            public void onLocationChanged(Location location) {\n                latitude = location.getLatitude();\n                longitude = location.getLongitude();\n                altitude = location.getAltitude();\n                if ((alton &amp;&amp; laton &amp;&amp; longon) == false) {\n                    gpsdisplay.setText(String.format(&quot;%.5f&quot;, latitude) + &quot;, &quot; + String.format(&quot;%.5f&quot;, longitude));\n                    laton = true;\n                    longon = true;\n                    altitudetext.setText(String.format(&quot;%.2f&quot;, altitude) + &quot; Meters&quot;);\n                    alton = true;\n                }\n                Geocoder geocoder = new Geocoder(Photo_Page.this, Locale.getDefault());\n                try {\n                    List&lt;Address&gt; addresses = geocoder.getFromLocation(latitude, longitude, 1);\n                    setUpdata(addresses);\n\n\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n\n            private void setUpdata(List&lt;Address&gt; addresses) {\n                String add = addresses.get(0).getAddressLine(0);\n                String city = addresses.get(0).getLocality();\n                String state = addresses.get(0).getAdminArea();\n                String zip = addresses.get(0).getPostalCode();\n                names = add;\n                address.setText(names);\n\n            }\n        });\n\n        textureView2 = (TextureView)findViewById(R.id.textureView);\n        //From Java 1.4 , you can use keyword 'assert' to check expression true or false\n        assert textureView2 != null;\n        textureView2.setSurfaceTextureListener(textureListener);\n        btnCapture = (Button)findViewById(R.id.btnCapture);\n        Button btnCapturewithcode = (Button)findViewById(R.id.btnCapturewithcode);\n        btnCapture.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                takePicture();\n            }\n        });\n        btnCapturewithcode.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                photowithcode = true;\n                Toast.makeText(Photo_Page.this, time, Toast.LENGTH_SHORT).show();\n                takePicture();\n            }\n        });\n    }\n\n    private void takePicture() {\n        c = Calendar.getInstance();\n        time = sdftime.format(c.getTime());\n        date = sdf.format(c.getTime());\n        GlobalClass application = (GlobalClass) getApplication();\n        final File projectfile = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DCIM), application.projectnameheader);\n        if (!projectfile.exists()) {\n            Log.d(TAG, &quot;Folder doesn't exist, creating it...&quot;);\n            boolean rv = projectfile.mkdir();\n        }\n        String currentDateTimeString = java.text.DateFormat.getDateTimeInstance().format(new Date());\n        TextView dateandtime = (TextView) findViewById(R.id.dateandtime);\n        dateandtime.setText(currentDateTimeString);\n        gpsdisplay.setText(String.format(&quot;%.5f&quot;, latitude) + &quot;, &quot; + String.format(&quot;%.5f&quot;, longitude));\n        altitudetext.setText(String.format(&quot;%.2f&quot;, altitude) + &quot; Meters&quot;);\n        if(cameraDevice == null)\n            return;\n        CameraManager manager = (CameraManager)getSystemService(Context.CAMERA_SERVICE);\n        try{\n            CameraCharacteristics characteristics = manager.getCameraCharacteristics(cameraDevice.getId());\n            Size[] jpegSizes = null;\n            if(characteristics != null)\n                jpegSizes = characteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP)\n                        .getOutputSizes(ImageFormat.JPEG);\n\n            //Capture image with custom size\n            int width = 480;\n            int height = 640;\n            if(jpegSizes != null &amp;&amp; jpegSizes.length &gt; 0)\n            {\n                width = jpegSizes[0].getWidth();\n                height = jpegSizes[0].getHeight();\n            }\n            final ImageReader reader = ImageReader.newInstance(width,height,ImageFormat.JPEG,2);\n            List&lt;Surface&gt; outputSurface = new ArrayList&lt;&gt;(2);\n            outputSurface.add(reader.getSurface());\n            outputSurface.add(new Surface(textureView2.getSurfaceTexture()));\n\n            final CaptureRequest.Builder captureBuilder = cameraDevice.createCaptureRequest(CameraDevice.TEMPLATE_STILL_CAPTURE);\n            captureBuilder.addTarget(reader.getSurface());\n            captureBuilder.set(CaptureRequest.CONTROL_MODE, CameraMetadata.CONTROL_MODE_AUTO);\n\n            //Check orientation base on device\n            time = sdftime.format(c.getTime());\n            date = sdf.format(c.getTime());\n            int rotation = getWindowManager().getDefaultDisplay().getRotation();\n            captureBuilder.set(CaptureRequest.JPEG_ORIENTATION,ORIENTATIONS.get(rotation));\n                file = new File(projectfile+&quot;/&quot;+(application.projectnameheader+&quot;_&quot;+date+&quot;_&quot;+time)+&quot;.jpg&quot;);\n            ImageReader.OnImageAvailableListener readerListener = new ImageReader.OnImageAvailableListener() {\n                @Override\n                public void onImageAvailable(ImageReader imageReader) {\n                    Image image = null;\n                    try{\n                        image = reader.acquireLatestImage();\n                        ByteBuffer buffer = image.getPlanes()[0].getBuffer();\n                        byte[] bytes = new byte[buffer.capacity()];\n                        buffer.get(bytes);\n                        save(bytes);\n\n                    }\n                    catch (FileNotFoundException e)\n                    {\n                        e.printStackTrace();\n                    }\n                    catch (IOException e)\n                    {\n                        e.printStackTrace();\n                    }\n                    finally {\n                        {\n                            if(image != null)\n                                image.close();\n                        }\n                    }\n                }\n                private void save(byte[] bytes) throws IOException {\n                    OutputStream outputStream = null;\n                    try{\n                        outputStream = new FileOutputStream(file);\n                        outputStream.write(bytes);\n                    }finally {\n                        if(outputStream != null)\n                            outputStream.close();\n                    }\n                }\n            };\n\n            reader.setOnImageAvailableListener(readerListener,mBackgroundHandler);\n            final CameraCaptureSession.CaptureCallback captureListener = new CameraCaptureSession.CaptureCallback() {\n                @Override\n                public void onCaptureCompleted(@NonNull CameraCaptureSession session, @NonNull CaptureRequest request, @NonNull TotalCaptureResult result) {\n                    super.onCaptureCompleted(session, request, result);\n                        GlobalClass application = (GlobalClass) getApplication();\n                        BitmapFactory.Options options = new BitmapFactory.Options();\n                        options.inPreferredConfig = Bitmap.Config.ARGB_8888;\n                        Bitmap bitmap = BitmapFactory.decodeFile(file.getAbsolutePath());\n                        Bitmap dest = Bitmap.createBitmap(bitmap.getHeight(), bitmap.getWidth(), Bitmap.Config.ARGB_8888);\n                        Canvas cs = new Canvas(dest);\n                        cs.rotate(90,720 ,720);\n                        Paint tPaint = new Paint();\n                        tPaint.setTextSize(bitmap.getHeight()/25);\n                        tPaint.setColor(Color.WHITE);\n                        tPaint.setStyle(Paint.Style.FILL);\n                        cs.drawBitmap(bitmap, 0f, 0f, null);\n                        float height = tPaint.measureText(&quot;yY&quot;);\n                        cs.rotate(270,720 ,720);\n                        cs.drawText(application.projectnameheader, 25, bitmap.getHeight()+545+bitmap.getHeight()/25, tPaint);\n                        cs.drawText(currentDateTimeString, 25, bitmap.getHeight()+615+bitmap.getHeight()/25, tPaint);\n                        cs.drawText(String.format(&quot;%.0f&quot;,currectAzimuth) + &quot;Â°&quot;, 1225, bitmap.getHeight()+690+bitmap.getHeight()/25, tPaint);\n                        cs.drawText(directionNESW, 1235, bitmap.getHeight()+615+bitmap.getHeight()/25, tPaint);\n                        cs.drawText(String.format(&quot;%.5f&quot;, latitude) + &quot;, &quot; + String.format(&quot;%.5f&quot;, longitude), 25, bitmap.getHeight()+690+bitmap.getHeight()/25, tPaint);\n                        cs.drawText(String.format(&quot;%.2f&quot;, altitude) + &quot; Meters&quot;, 25, bitmap.getHeight()+755+bitmap.getHeight()/25, tPaint);\n                        cs.drawText(names, 25,bitmap.getHeight()+825+bitmap.getHeight()/25, tPaint);\n                        Bitmap compassbitmap = BitmapFactory.decodeResource(getResources(), R.drawable.compass2);\n                        cs.rotate(azimuth*-1,-190,2500);\n                        cs.scale(0.25f,0.25f,-190,2500);\n                        cs.drawBitmap(compassbitmap, 0, 0, null);\n                        if (photowithcode==true) {\n                            cs.drawText(code, 25, bitmap.getHeight()+895+bitmap.getHeight()/25, tPaint);\n                            cs.drawText(note, 25, bitmap.getHeight()+970+bitmap.getHeight()/25, tPaint);\n                            photowithcode=false;\n                        }\n                        try {\n                            dest.compress(Bitmap.CompressFormat.JPEG, 100, new FileOutputStream(new File(projectfile+&quot;/&quot;+(application.projectnameheader+&quot;_&quot;+date+&quot;_&quot;+time)+&quot;___WITHTEXT.jpg&quot;)));\n                        } catch (FileNotFoundException e) {\n                            // TODO Auto-generated catch block\n                            e.printStackTrace();\n                        }\n                        gpslist.add(latitude + longitude);\n                    Toast.makeText(Photo_Page.this, &quot;Saved &quot;+file, Toast.LENGTH_SHORT).show();\n                    createCameraPreview();\n                }\n            };\n\n            cameraDevice.createCaptureSession(outputSurface, new CameraCaptureSession.StateCallback() {\n                @Override\n                public void onConfigured(@NonNull CameraCaptureSession cameraCaptureSession) {\n                    try{\n                        cameraCaptureSession.capture(captureBuilder.build(),captureListener,mBackgroundHandler);\n                    } catch (CameraAccessException e) {\n                        e.printStackTrace();\n                    }\n                }\n\n                @Override\n                public void onConfigureFailed(@NonNull CameraCaptureSession cameraCaptureSession) {\n\n                }\n            },mBackgroundHandler);\n\n\n        } catch (CameraAccessException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private void createCameraPreview() {\n        try{\n            SurfaceTexture texture = textureView2.getSurfaceTexture();\n            assert  texture != null;\n            texture.setDefaultBufferSize(imageDimension.getWidth(),imageDimension.getHeight());\n            Surface surface = new Surface(texture);\n            captureRequestBuilder = cameraDevice.createCaptureRequest(CameraDevice.TEMPLATE_PREVIEW);\n            captureRequestBuilder.addTarget(surface);\n            cameraDevice.createCaptureSession(Arrays.asList(surface), new CameraCaptureSession.StateCallback() {\n                @Override\n                public void onConfigured(@NonNull CameraCaptureSession cameraCaptureSession) {\n                    if(cameraDevice == null)\n                        return;\n                    cameraCaptureSessions = cameraCaptureSession;\n                    updatePreview();\n                }\n\n                @Override\n                public void onConfigureFailed(@NonNull CameraCaptureSession cameraCaptureSession) {\n                    Toast.makeText(Photo_Page.this, &quot;Changed&quot;, Toast.LENGTH_SHORT).show();\n                }\n            },null);\n        } catch (CameraAccessException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private void updatePreview() {\n        if(cameraDevice == null)\n            Toast.makeText(this, &quot;Error&quot;, Toast.LENGTH_SHORT).show();\n        captureRequestBuilder.set(CaptureRequest.CONTROL_MODE,CaptureRequest.CONTROL_MODE_AUTO);\n        try{\n            cameraCaptureSessions.setRepeatingRequest(captureRequestBuilder.build(),null,mBackgroundHandler);\n        } catch (CameraAccessException e) {\n            e.printStackTrace();\n        }\n    }\n\n\n    private void openCamera() {\n        CameraManager manager = (CameraManager)getSystemService(Context.CAMERA_SERVICE);\n        try{\n            cameraId = manager.getCameraIdList()[0];\n            CameraCharacteristics characteristics = manager.getCameraCharacteristics(cameraId);\n            StreamConfigurationMap map = characteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP);\n            assert map != null;\n            imageDimension = map.getOutputSizes(SurfaceTexture.class)[0];\n            //Check realtime permission if run higher API 23\n            if(ActivityCompat.checkSelfPermission(this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED)\n            {\n                ActivityCompat.requestPermissions(this,new String[]{\n                        Manifest.permission.CAMERA,\n                        Manifest.permission.WRITE_EXTERNAL_STORAGE\n                },REQUEST_CAMERA_PERMISSION);\n                return;\n            }\n            manager.openCamera(cameraId,stateCallback,null);\n\n        } catch (CameraAccessException e) {\n            e.printStackTrace();\n        }\n    }\n\n    TextureView.SurfaceTextureListener textureListener = new TextureView.SurfaceTextureListener() {\n        @Override\n        public void onSurfaceTextureAvailable(SurfaceTexture surfaceTexture, int i, int i1) {\n            openCamera();\n        }\n\n        @Override\n        public void onSurfaceTextureSizeChanged(SurfaceTexture surfaceTexture, int i, int i1) {\n\n        }\n\n        @Override\n        public boolean onSurfaceTextureDestroyed(SurfaceTexture surfaceTexture) {\n            return false;\n        }\n\n        @Override\n        public void onSurfaceTextureUpdated(SurfaceTexture surfaceTexture) {\n\n        }\n    };\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (requestCode == REQUEST_CAMERA_PERMISSION) {\n            if (grantResults[0] != PackageManager.PERMISSION_GRANTED) {\n                Toast.makeText(this, &quot;You can't use camera without permission&quot;, Toast.LENGTH_SHORT).show();\n                finish();\n            }\n        }\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        mSensorManager.registerListener(this,mSensorManager.getDefaultSensor(Sensor.TYPE_MAGNETIC_FIELD),\n                SensorManager.SENSOR_DELAY_GAME);\n        mSensorManager.registerListener(this,mSensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER),\n                SensorManager.SENSOR_DELAY_GAME);\n        startBackgroundThread();\n        if(textureView2.isAvailable())\n            openCamera();\n        else\n            textureView2.setSurfaceTextureListener(textureListener);\n    }\n\n    @Override\n    protected void onPause() {\n        stopBackgroundThread();\n        super.onPause();\n        mSensorManager.unregisterListener(this);\n\n    }\n    @Override\n    public void onSensorChanged(SensorEvent sensorEvent) {\n        final float alpha= 0.97f;\n        synchronized (this) {\n            if(sensorEvent.sensor.getType() == Sensor.TYPE_ACCELEROMETER) {\n                mGravity[0] = alpha*mGravity[0]+(1-alpha)*sensorEvent.values[0];\n                mGravity[1] = alpha*mGravity[1]+(1-alpha)*sensorEvent.values[1];\n                mGravity[2] = alpha*mGravity[2]+(1-alpha)*sensorEvent.values[2];\n            }\n            if(sensorEvent.sensor.getType() == Sensor.TYPE_MAGNETIC_FIELD) {\n                mGeomagnetic[0] = alpha*mGeomagnetic[0]+(1-alpha)*sensorEvent.values[0];\n                mGeomagnetic[1] = alpha*mGeomagnetic[1]+(1-alpha)*sensorEvent.values[1];\n                mGeomagnetic[2] = alpha*mGeomagnetic[2]+(1-alpha)*sensorEvent.values[2];\n            }\n            float R[] = new float[9];\n            float I[] = new float[9];\n            boolean success = SensorManager.getRotationMatrix(R,I,mGravity,mGeomagnetic);\n            if (success){\n                float orientation[] = new float[3];\n                SensorManager.getOrientation(R,orientation);\n                azimuth = (float)Math.toDegrees(orientation[0]);\n                azimuth = (azimuth+360)%360;\n\n                //\n                Animation anim = new RotateAnimation(-currectAzimuth,-azimuth, Animation.RELATIVE_TO_SELF,0.5f,Animation.RELATIVE_TO_SELF,0.5f);\n                currectAzimuth = azimuth;\n                degrees.setText(String.format(&quot;%.0f&quot;,currectAzimuth) + &quot;Â°&quot;);\n                anim.setDuration(500);\n                anim.setRepeatCount(0);\n                anim.setFillAfter(true);\n                compass2.startAnimation(anim);\n            }\n        }\n\n    }\n\n    @Override\n    public void onAccuracyChanged(Sensor sensor, int accuracy) {\n\n    }\n\n    private void stopBackgroundThread() {\n        mBackgroundThread.quitSafely();\n        try{\n            mBackgroundThread.join();\n            mBackgroundThread= null;\n            mBackgroundHandler = null;\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private void startBackgroundThread() {\n        mBackgroundThread = new HandlerThread(&quot;Camera Background&quot;);\n        mBackgroundThread.start();\n        mBackgroundHandler = new Handler(mBackgroundThread.getLooper());\n    }\n\n}\n\n</code></pre>\n<p>My goal with this code is to draw the image of a compass on a picture that is being saved to a special file on a device. I tested this by taking a picture but I noticed that, even when I changed nothing in my code, the compass would move to a random location, sometimes not even appearing.</p>\n"},{"tags":["java","get","request","quarkus"],"answers":[{"tags":[],"owner":{"account_id":15400934,"reputation":1598,"user_id":11110455,"display_name":"Felipe Windmoller"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659040075,"creation_date":1659040075,"answer_id":73158820,"question_id":73151212,"body_markdown":"@Abdullah Chaudhry although is possible to send a body (your DTO) in a GET request, I believe it&#39;s not recommended. [This post - HTTP GET with request body - talks about this](https://stackoverflow.com/a/983458/11110455). But if you want to do this anyway, the ideia is exacly the same as the POST example you gave. You only need to change from `POST` to `GET`.\r\n\r\nBut, if you&#39;re talking about returning a DTO on the body of a GET response, I guess is OK.\r\n\r\nBelow I put one example using the Quarkus `2.11.1.Final` version.\r\n\r\nThis example shows how to send a GET with a body and how to answer a GET with another body.\r\n\r\nYou can find help on these Quarkus guides:\r\n- https://quarkus.io/guides/rest-client\r\n- https://quarkus.io/guides/resteasy-reactive\r\n\r\n# DTO \r\n\r\nThese classes will exist on the Server and Client sides, they will be your DTOs in this example:\r\n\r\n```java\r\npublic class Account {\r\n    public double balance;\r\n}\r\n```\r\n\r\n```java\r\npublic class BankClient {\r\n    public int age;\r\n    public String name;\r\n}\r\n```\r\n\r\n# Server side\r\n\r\n### pom.xml\r\n```xml\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-resteasy-reactive-jackson&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-resteasy-reactive&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\n### resource\r\n\r\n```java\r\n@Path(&quot;/client&quot;)\r\npublic class ClientResource {\r\n    @Path(&quot;/account&quot;)\r\n    @GET\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public Response getAccount(BankClient bankClient) {\r\n        var account = new Account();\r\n        account.balance = 123.45;\r\n        return Response.status(200).entity(account).build();\r\n    }\r\n}\r\n```\r\n\r\n# Client side\r\n\r\n### pom.xml\r\n```xml\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-resteasy-reactive-jackson&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-resteasy-reactive&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-rest-client-reactive&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\n### application.properties\r\n```properties\r\nquarkus.rest-client.client-api.url=http://localhost:8080\r\nquarkus.rest-client.client-api.scope=javax.inject.Singleton\r\n```\r\n\r\n### Rest client service\r\n```java\r\npackage org.acme;\r\n\r\nimport javax.ws.rs.Consumes;\r\nimport javax.ws.rs.GET;\r\nimport javax.ws.rs.Path;\r\nimport javax.ws.rs.Produces;\r\nimport javax.ws.rs.core.MediaType;\r\n\r\nimport org.eclipse.microprofile.rest.client.inject.RegisterRestClient;\r\n\r\n@Path(&quot;/client&quot;)\r\n@RegisterRestClient(configKey=&quot;client-api&quot;)\r\npublic interface ClientService {\r\n\r\n    @Path(&quot;/account&quot;)\r\n    @GET\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    Account getByBankClient(BankClient bankClient);\r\n\r\n}\r\n```\r\n\r\n### Tester\r\n\r\n```java\r\nimport javax.inject.Inject;\r\nimport javax.ws.rs.GET;\r\nimport javax.ws.rs.Path;\r\nimport javax.ws.rs.Produces;\r\nimport javax.ws.rs.core.MediaType;\r\nimport javax.ws.rs.core.Response;\r\n\r\nimport org.eclipse.microprofile.rest.client.inject.RestClient;\r\n@Path(&quot;/test&quot;)\r\npublic class ClientResource {\r\n\r\n    @Inject\r\n    @RestClient\r\n    ClientService clientService;\r\n\r\n    @GET\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public Response consumeAccount() {\r\n\r\n        var bankClient = new BankClient();\r\n        bankClient.age = 30;\r\n        bankClient.name = &quot;John&quot;;\r\n\r\n        var account = clientService.getByBankClient(bankClient);\r\n\r\n        return Response.status(200).entity(account).build();\r\n    }\r\n}\r\n```\r\n\r\n## Executing the test\r\n\r\n1. Start the Server side application\r\n\r\n2. Start the Client side application\r\n\r\n3. Execute the `/test` of the Client side, for example with:\r\n```bash\r\n$ curl --verbose http://localhost:8090/test\r\n```\r\n\r\nThe response should be: \r\n```\r\n*   Trying 127.0.0.1:8090...\r\n* TCP_NODELAY set\r\n* Connected to localhost (127.0.0.1) port 8090 (#0)\r\n&gt; GET /test HTTP/1.1\r\n&gt; Host: localhost:8090\r\n&gt; User-Agent: curl/7.68.0\r\n&gt; Accept: */*\r\n&gt; \r\n* Mark bundle as not supporting multiuse\r\n&lt; HTTP/1.1 200 OK\r\n&lt; Content-Type: application/json;charset=UTF-8\r\n&lt; content-length: 18\r\n&lt; \r\n* Connection #0 to host localhost left intact\r\n{&quot;balance&quot;:123.45}\r\n```","title":"Send a simple GET request from Quarkus/Java","body":"<p>@Abdullah Chaudhry although is possible to send a body (your DTO) in a GET request, I believe it's not recommended. <a href=\"https://stackoverflow.com/a/983458/11110455\">This post - HTTP GET with request body - talks about this</a>. But if you want to do this anyway, the ideia is exacly the same as the POST example you gave. You only need to change from <code>POST</code> to <code>GET</code>.</p>\n<p>But, if you're talking about returning a DTO on the body of a GET response, I guess is OK.</p>\n<p>Below I put one example using the Quarkus <code>2.11.1.Final</code> version.</p>\n<p>This example shows how to send a GET with a body and how to answer a GET with another body.</p>\n<p>You can find help on these Quarkus guides:</p>\n<ul>\n<li><a href=\"https://quarkus.io/guides/rest-client\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/rest-client</a></li>\n<li><a href=\"https://quarkus.io/guides/resteasy-reactive\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/resteasy-reactive</a></li>\n</ul>\n<h1>DTO</h1>\n<p>These classes will exist on the Server and Client sides, they will be your DTOs in this example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Account {\n    public double balance;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class BankClient {\n    public int age;\n    public String name;\n}\n</code></pre>\n<h1>Server side</h1>\n<h3>pom.xml</h3>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-resteasy-reactive-jackson&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-resteasy-reactive&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<h3>resource</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Path(&quot;/client&quot;)\npublic class ClientResource {\n    @Path(&quot;/account&quot;)\n    @GET\n    @Produces(MediaType.APPLICATION_JSON)\n    public Response getAccount(BankClient bankClient) {\n        var account = new Account();\n        account.balance = 123.45;\n        return Response.status(200).entity(account).build();\n    }\n}\n</code></pre>\n<h1>Client side</h1>\n<h3>pom.xml</h3>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-resteasy-reactive-jackson&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-resteasy-reactive&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-rest-client-reactive&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<h3>application.properties</h3>\n<pre><code>quarkus.rest-client.client-api.url=http://localhost:8080\nquarkus.rest-client.client-api.scope=javax.inject.Singleton\n</code></pre>\n<h3>Rest client service</h3>\n<pre class=\"lang-java prettyprint-override\"><code>package org.acme;\n\nimport javax.ws.rs.Consumes;\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.MediaType;\n\nimport org.eclipse.microprofile.rest.client.inject.RegisterRestClient;\n\n@Path(&quot;/client&quot;)\n@RegisterRestClient(configKey=&quot;client-api&quot;)\npublic interface ClientService {\n\n    @Path(&quot;/account&quot;)\n    @GET\n    @Consumes(MediaType.APPLICATION_JSON)\n    @Produces(MediaType.APPLICATION_JSON)\n    Account getByBankClient(BankClient bankClient);\n\n}\n</code></pre>\n<h3>Tester</h3>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.inject.Inject;\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.MediaType;\nimport javax.ws.rs.core.Response;\n\nimport org.eclipse.microprofile.rest.client.inject.RestClient;\n@Path(&quot;/test&quot;)\npublic class ClientResource {\n\n    @Inject\n    @RestClient\n    ClientService clientService;\n\n    @GET\n    @Produces(MediaType.APPLICATION_JSON)\n    public Response consumeAccount() {\n\n        var bankClient = new BankClient();\n        bankClient.age = 30;\n        bankClient.name = &quot;John&quot;;\n\n        var account = clientService.getByBankClient(bankClient);\n\n        return Response.status(200).entity(account).build();\n    }\n}\n</code></pre>\n<h2>Executing the test</h2>\n<ol>\n<li><p>Start the Server side application</p>\n</li>\n<li><p>Start the Client side application</p>\n</li>\n<li><p>Execute the <code>/test</code> of the Client side, for example with:</p>\n</li>\n</ol>\n<pre class=\"lang-bash prettyprint-override\"><code>$ curl --verbose http://localhost:8090/test\n</code></pre>\n<p>The response should be:</p>\n<pre><code>*   Trying 127.0.0.1:8090...\n* TCP_NODELAY set\n* Connected to localhost (127.0.0.1) port 8090 (#0)\n&gt; GET /test HTTP/1.1\n&gt; Host: localhost:8090\n&gt; User-Agent: curl/7.68.0\n&gt; Accept: */*\n&gt; \n* Mark bundle as not supporting multiuse\n&lt; HTTP/1.1 200 OK\n&lt; Content-Type: application/json;charset=UTF-8\n&lt; content-length: 18\n&lt; \n* Connection #0 to host localhost left intact\n{&quot;balance&quot;:123.45}\n</code></pre>\n"}],"owner":{"account_id":23057074,"reputation":25,"user_id":17172960,"display_name":"Abdullah Chaudhry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2034,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73158820,"answer_count":1,"score":1,"last_activity_date":1659040075,"creation_date":1659003720,"question_id":73151212,"body_markdown":"I want to send a DTO from one quarkus application to another. I am using quarkus as framework.\r\nI am looking for something similar to this \r\nhttps://stackoverflow.com/questions/66347707/send-a-simple-post-request-from-quarkus-java\r\n&lt;br&gt; \r\nThis is for POST how do I implement what JCompetence is doing in the above post&#39;s answer using GET.\r\n\r\nI am very new to quarkus and REST. \r\nWhat will be my files in both the projects? \r\n&lt;br&gt; What is the flow of your code when using REST. \r\n\r\nA very simple implementation/demonstration of how to send a DTO from one application will be very helpful. \r\nThank you in advance. It will help me a lot. ","title":"Send a simple GET request from Quarkus/Java","body":"<p>I want to send a DTO from one quarkus application to another. I am using quarkus as framework.\nI am looking for something similar to this\n<a href=\"https://stackoverflow.com/questions/66347707/send-a-simple-post-request-from-quarkus-java\">Send a simple POST request from Quarkus/Java</a>\n<br>\nThis is for POST how do I implement what JCompetence is doing in the above post's answer using GET.</p>\n<p>I am very new to quarkus and REST.\nWhat will be my files in both the projects?\n<br> What is the flow of your code when using REST.</p>\n<p>A very simple implementation/demonstration of how to send a DTO from one application will be very helpful.\nThank you in advance. It will help me a lot.</p>\n"},{"tags":["java","jar","properties","property-files"],"comments":[{"owner":{"account_id":11014411,"reputation":3,"user_id":8090689,"display_name":"Azmi Ara"},"score":0,"creation_date":1499413143,"post_id":44965092,"comment_id":76905130,"body_markdown":"please help me with this","body":"please help me with this"},{"owner":{"account_id":17798,"reputation":13,"user_id":40228,"display_name":"MikhAn"},"score":0,"creation_date":1499418679,"post_id":44965092,"comment_id":76908697,"body_markdown":"Azmi, read this question and answers https://stackoverflow.com/questions/2815404/load-properties-file-in-jar","body":"Azmi, read this question and answers <a href=\"https://stackoverflow.com/questions/2815404/load-properties-file-in-jar\" title=\"load properties file in jar\">stackoverflow.com/questions/2815404/load-properties-file-in-&zwnj;&#8203;jar</a>"}],"answers":[{"tags":[],"owner":{"account_id":7334154,"reputation":873,"user_id":5586115,"display_name":"Frank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1499414193,"creation_date":1499414193,"answer_id":44965501,"question_id":44965092,"body_markdown":"You need to pass the path to your file properties into a jvm using **-D** \r\n\r\n    -Dname=$pathto yourjar anyargs..\r\n\r\n you can get it in your application likethis :\r\n\r\n \r\n\r\n    String location = System.getProperty(name);","title":"How to generate a jar file for the java program which has property file","body":"<p>You need to pass the path to your file properties into a jvm using <strong>-D</strong> </p>\n\n<pre><code>-Dname=$pathto yourjar anyargs..\n</code></pre>\n\n<p>you can get it in your application likethis :</p>\n\n<pre><code>String location = System.getProperty(name);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11250584,"reputation":1,"user_id":8251797,"display_name":"Cadii"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499416988,"creation_date":1499416988,"answer_id":44966367,"question_id":44965092,"body_markdown":"You should be able to do it just like any other. See this on how to generate a jar file: https://stackoverflow.com/questions/4597866/java-creating-jar-file ","title":"How to generate a jar file for the java program which has property file","body":"<p>You should be able to do it just like any other. See this on how to generate a jar file: <a href=\"https://stackoverflow.com/questions/4597866/java-creating-jar-file\">Java creating .jar file</a> </p>\n"}],"owner":{"account_id":11014411,"reputation":3,"user_id":8090689,"display_name":"Azmi Ara"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":44965501,"answer_count":2,"score":0,"last_activity_date":1659040050,"creation_date":1499412877,"question_id":44965092,"body_markdown":"How to generate a jar file for the java program which has property file \r\n\r\n\r\n    public class Download_logfiles {\r\n\t/**\r\n\t * Download_logfiles class has to be public because another class uses the\r\n\t * Download_logfiles class\r\n\t */ \r\n\r\n\tprivate static URL URLObj;\r\n\t/**\r\n\t * variable set for the server links from which the log files to be\r\n\t * downloaded\r\n\t */\r\n\tprivate static URLConnection connect;\r\n\t/** Variable for URL connection */\r\n\tstatic String filename = &quot;&quot;;\r\n\t/** Variable used for extracting the servers */\r\n\tstatic String user = &quot;&quot;;\r\n\t/** Variable used for user id */\r\n\tstatic String pass = &quot;&quot;;\r\n\t/** Variable used for password */\r\n\r\n\tstatic String download = &quot;&quot;;\r\n\tstatic Set&lt;String&gt; urls = new HashSet&lt;String&gt;();\r\n\tstatic Set&lt;String&gt; comp = new HashSet&lt;String&gt;();\r\n\tstatic Set&lt;String&gt; envir = new HashSet&lt;String&gt;();\r\n\tstatic Properties prop = new Properties();\r\n\r\n\tpublic static void main(String[] args)\r\n\t\t\tthrows IOException { /** program entry point */\r\n\r\n\t\tSystem.out.println(&quot;argument count:&quot; + args.length + &quot; content:&quot; + args);\r\n\r\n\t\tif(args.length==0)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Please enter the property file via arguments!!!&quot;);   /**Go to run configuration and under arguments enter the path **/\r\n\t\t\tSystem.exit(0);\r\n\t\t}\r\n\t\t\r\n\t\treadConfigProperties(args[0]);\r\n\t\tconfigUIParameter();\r\n\t\tHashtable&lt;String, String&gt; loginfo = Validation();\r\n\t\tString componentavx = loginfo\r\n\t\t\t\t.get(&quot;component&quot;); /** extract component information */\r\n\t\tString environmentProd = loginfo\r\n\t\t\t\t.get(&quot;environment&quot;); /** extract environment information */\r\n\t\tconfig(componentavx, environmentProd);\r\n\t\tuser = loginfo.get(\r\n\t\t\t\t&quot;user&quot;); /** extract login information from the property file */\r\n\t\tpass = loginfo.get(&quot;pass&quot;);\r\n\r\n\t\ttry { /** Usage of Try catch handlers */\r\n\t\t\tString currentURL;\r\n\t\t\tIterator&lt;String&gt; iter = urls.iterator();\r\n\t\t\tSystem.out.println(iter);\r\n\r\n\t\t\twhile (iter.hasNext()) { /** Start iterating over URLs */\r\n\r\n\t\t\t\tcurrentURL = iter.next();\r\n\t\t\t\tStringTokenizer st = new StringTokenizer(currentURL,\r\n\t\t\t\t\t\t&quot;/.&quot;); /**\r\n\t\t\t\t\t\t\t\t * The string tokenizer class allows an\r\n\t\t\t\t\t\t\t\t * application to break a string into tokens\r\n\t\t\t\t\t\t\t\t */\r\n\t\t\t\tst.nextToken();\r\n\t\t\t\tString filePrefix = st.nextToken();\r\n\t\t\t\tSystem.out.println(&quot;Url: &quot; + currentURL);\r\n\r\n\t\t\t\tboolean moreFilesAvailable = true; /**\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t * check condition for all\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t * log files available in\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t * the server\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t */\r\n\r\n\t\t\t\tfor (int i = 0; moreFilesAvailable; i++) {\r\n\r\n\t\t\t\t\tFile file = null;\r\n\r\n\t\t\t\t\tif (i != 0) { /** Handle the condition */\r\n\t\t\t\t\t\tURLObj = new URL(currentURL + filename + &quot;.&quot; + i);\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tURLObj = new URL(currentURL + filename);\r\n\r\n\t\t\t\t\t}\r\n","title":"How to generate a jar file for the java program which has property file","body":"<p>How to generate a jar file for the java program which has property file</p>\n<pre><code>public class Download_logfiles {\n/**\n * Download_logfiles class has to be public because another class uses the\n * Download_logfiles class\n */ \n\nprivate static URL URLObj;\n/**\n * variable set for the server links from which the log files to be\n * downloaded\n */\nprivate static URLConnection connect;\n/** Variable for URL connection */\nstatic String filename = &quot;&quot;;\n/** Variable used for extracting the servers */\nstatic String user = &quot;&quot;;\n/** Variable used for user id */\nstatic String pass = &quot;&quot;;\n/** Variable used for password */\n\nstatic String download = &quot;&quot;;\nstatic Set&lt;String&gt; urls = new HashSet&lt;String&gt;();\nstatic Set&lt;String&gt; comp = new HashSet&lt;String&gt;();\nstatic Set&lt;String&gt; envir = new HashSet&lt;String&gt;();\nstatic Properties prop = new Properties();\n\npublic static void main(String[] args)\n        throws IOException { /** program entry point */\n\n    System.out.println(&quot;argument count:&quot; + args.length + &quot; content:&quot; + args);\n\n    if(args.length==0)\n    {\n        System.out.println(&quot;Please enter the property file via arguments!!!&quot;);   /**Go to run configuration and under arguments enter the path **/\n        System.exit(0);\n    }\n    \n    readConfigProperties(args[0]);\n    configUIParameter();\n    Hashtable&lt;String, String&gt; loginfo = Validation();\n    String componentavx = loginfo\n            .get(&quot;component&quot;); /** extract component information */\n    String environmentProd = loginfo\n            .get(&quot;environment&quot;); /** extract environment information */\n    config(componentavx, environmentProd);\n    user = loginfo.get(\n            &quot;user&quot;); /** extract login information from the property file */\n    pass = loginfo.get(&quot;pass&quot;);\n\n    try { /** Usage of Try catch handlers */\n        String currentURL;\n        Iterator&lt;String&gt; iter = urls.iterator();\n        System.out.println(iter);\n\n        while (iter.hasNext()) { /** Start iterating over URLs */\n\n            currentURL = iter.next();\n            StringTokenizer st = new StringTokenizer(currentURL,\n                    &quot;/.&quot;); /**\n                             * The string tokenizer class allows an\n                             * application to break a string into tokens\n                             */\n            st.nextToken();\n            String filePrefix = st.nextToken();\n            System.out.println(&quot;Url: &quot; + currentURL);\n\n            boolean moreFilesAvailable = true; /**\n                                                 * check condition for all\n                                                 * log files available in\n                                                 * the server\n                                                 */\n\n            for (int i = 0; moreFilesAvailable; i++) {\n\n                File file = null;\n\n                if (i != 0) { /** Handle the condition */\n                    URLObj = new URL(currentURL + filename + &quot;.&quot; + i);\n\n                } else {\n                    URLObj = new URL(currentURL + filename);\n\n                }\n</code></pre>\n"},{"tags":["java","mockito","junit4","powermock"],"answers":[{"tags":[],"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659040026,"creation_date":1659040026,"answer_id":73158812,"question_id":73158378,"body_markdown":"You need to prepare class to mock\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest(fullyQualifiedNames = &quot;com.my.ClassToMock&quot;)\r\n\r\nOn test class level.","title":"Mocking class with static members","body":"<p>You need to prepare class to mock</p>\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest(fullyQualifiedNames = &quot;com.my.ClassToMock&quot;)\n</code></pre>\n<p>On test class level.</p>\n"}],"owner":{"account_id":4861893,"reputation":11,"user_id":3921272,"display_name":"Satyam Poddar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659040026,"creation_date":1659037330,"question_id":73158378,"body_markdown":"I need to write a junit4 test where I need to mock a class with a static member which produces `java.lang.ExceptionInInitializerError` if not mocked.\r\n\r\n    ClassToMock classToMock = mock(ClassToMock.class);\r\n    PowerMockito.whenNew(ClassToMock.class).withArguments(any()).thenReturn(classToMock);\r\n    StaticMember staticMember = mock(StaticMember.class);\r\n    PowerMockito.whenNew(StaticMember.class).withArguments(any()).thenReturn(staticMember);\r\n\r\n\r\nAnd this is what my class looks like:\r\n\r\n    public class ClassToMock {\r\n        public static final StaticMember staticMember_ = new StaticMemberDeserializer().deserialize(&quot;some argument&quot;);\r\n    }\r\n\r\nHere `StaticMemberDeserializer` is a deserializer that uses some argument to create StaticMember.\r\n\r\nIs there a way to directly mock the class `ClassToMock`? If no, what can I do to avoid this error?","title":"Mocking class with static members","body":"<p>I need to write a junit4 test where I need to mock a class with a static member which produces <code>java.lang.ExceptionInInitializerError</code> if not mocked.</p>\n<pre><code>ClassToMock classToMock = mock(ClassToMock.class);\nPowerMockito.whenNew(ClassToMock.class).withArguments(any()).thenReturn(classToMock);\nStaticMember staticMember = mock(StaticMember.class);\nPowerMockito.whenNew(StaticMember.class).withArguments(any()).thenReturn(staticMember);\n</code></pre>\n<p>And this is what my class looks like:</p>\n<pre><code>public class ClassToMock {\n    public static final StaticMember staticMember_ = new StaticMemberDeserializer().deserialize(&quot;some argument&quot;);\n}\n</code></pre>\n<p>Here <code>StaticMemberDeserializer</code> is a deserializer that uses some argument to create StaticMember.</p>\n<p>Is there a way to directly mock the class <code>ClassToMock</code>? If no, what can I do to avoid this error?</p>\n"},{"tags":["java","maven","jetty","war","maven-jetty-plugin"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1659254654,"post_id":73158811,"comment_id":129247132,"body_markdown":"Would unpacking a jetty distribution, copying in the war to the right place, and then run jetty be an option?","body":"Would unpacking a jetty distribution, copying in the war to the right place, and then run jetty be an option?"}],"owner":{"account_id":19793585,"reputation":57,"user_id":14496048,"display_name":"codeing_monkey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659040020,"creation_date":1659040020,"question_id":73158811,"body_markdown":"I am trying to replicate the behavior of `mvn jetty:run` without actually having to use the maven-jetty-plugin. The plugin packages up all the dependencies nicely into a `{project}.war` file, but obviously this does not include a manifest so I cannot run it directly. \r\n\r\nDoes anyone know how I can virtually replicate the functionality of the jetty:run feature? That is, start the Jetty webapp instance directly from the command line on a machine where Maven is not installed. If this is impossible (and thus a very incompetent question), please let me know that as well.","title":"How to start a Jetty server without mvn jetty:run (directly from command line)?","body":"<p>I am trying to replicate the behavior of <code>mvn jetty:run</code> without actually having to use the maven-jetty-plugin. The plugin packages up all the dependencies nicely into a <code>{project}.war</code> file, but obviously this does not include a manifest so I cannot run it directly.</p>\n<p>Does anyone know how I can virtually replicate the functionality of the jetty:run feature? That is, start the Jetty webapp instance directly from the command line on a machine where Maven is not installed. If this is impossible (and thus a very incompetent question), please let me know that as well.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1659045110,"post_id":73158356,"comment_id":129208734,"body_markdown":"The `StartButtonHandler` code does not run until the `Button` is pressed. Yet, the `VBox` needs the `ImageView`. Go ahead and declare and assign the `ImageView`. Then in the handler use `viewCoin.setImage(...);`","body":"The <code>StartButtonHandler</code> code does not run until the <code>Button</code> is pressed. Yet, the <code>VBox</code> needs the <code>ImageView</code>. Go ahead and declare and assign the <code>ImageView</code>. Then in the handler use <code>viewCoin.setImage(...);</code>"}],"answers":[{"tags":[],"owner":{"account_id":16876231,"reputation":617,"user_id":12203568,"display_name":"SephB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659038906,"creation_date":1659037627,"answer_id":73158424,"question_id":73158356,"body_markdown":"`resultCoin` has not been initialized when you add them to the VBox.","title":"Exception in Application start method java.lang.reflect.InvocationTargetException without using FXMLLoader","body":"<p><code>resultCoin</code> has not been initialized when you add them to the VBox.</p>\n"}],"owner":{"account_id":25920383,"reputation":1,"user_id":19643128,"display_name":"Vinni_K"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1659039928,"answer_count":1,"score":0,"last_activity_date":1659038906,"creation_date":1659037193,"question_id":73158356,"body_markdown":"I&#39;ve recently started out with JavaFX and I am trying to make a Coin Toss application that shows a picture of the coin respective to what was rolled. I&#39;ve already done a dice roll simulator with similar code to this but for some reason, I am receiving an error that I didn&#39;t for that.\r\n\r\nCoinToss class\r\n```\r\npackage application;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.stage.Stage;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.scene.image.Image;\r\nimport javafx.scene.image.ImageView;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.EventHandler;\r\nimport javafx.geometry.Pos;\r\nimport javafx.geometry.Insets;\r\n\r\npublic class CoinToss extends Application {\r\n\tImage heads = new Image(&quot;D:\\\\Downloads - DATA\\\\heads1.png&quot;);\r\n\tImage tails = new Image(&quot;D:\\\\Downloads - DATA\\\\tails1.png&quot;);\r\n\tImageView viewCoin;\r\n    Label resultCoin;\r\n\tpublic static void main(String[] args) {\r\n\t\tlaunch(args);\r\n\t}\r\n\tpublic void start(Stage primaryStage) {\r\n\t\tLabel label1 = new Label(&quot;Welcome to the Coin Flipper!&quot;);\r\n\t\tLabel label2 = new Label(&quot;Please hit start to flip the coin!&quot;);\r\n\t\t\r\n\t\tresultCoin = new Label();\r\n\t\tButton startButton = new Button(&quot;Start!&quot;);\r\n\t\t\r\n\t\tstartButton.setOnAction(new StartButtonHandler());\r\n\t\t\r\n        \r\n        VBox vbox = new VBox(10, label1,label2, startButton, viewCoin, resultCoin);\r\n        vbox.setPadding(new Insets(12));\r\n        vbox.setAlignment(Pos.TOP_CENTER);\r\n        \r\n        Scene simulatorScene = new Scene(vbox,400,400);\r\n        primaryStage.setScene(simulatorScene);\r\n        primaryStage.show();\r\n\t}\r\n\t\r\n\tclass StartButtonHandler implements EventHandler&lt;ActionEvent&gt;{\r\n\t\tpublic void handle(ActionEvent event) {\r\n\t\t\tint num = 0;\r\n\t\t\tString word = &quot;&quot;;\r\n\t\t\tCoinValue value = new CoinValue();\r\n\t\t\tvalue.roll1();\r\n\t\t\tnum = value.getRoll1();\r\n\t\t\tif(num == 0) {\r\n\t\t\t\tviewCoin = new ImageView(heads);\r\n\t\t\t\tword = &quot;heads&quot;;\r\n\t\t\t} else {\r\n\t\t\t\tviewCoin = new ImageView(tails);\r\n\t\t\t\tword = &quot;tails&quot;;\r\n\t\t\t}\r\n\t\t\tresultCoin.setText(&quot;You rolled a &quot; + word);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nCoinValue class\r\n```\r\npackage application;\r\n\r\nimport java.util.Random;\r\n\r\npublic class CoinValue {\r\n\tint rollnum;\r\n\tpublic void roll1()\r\n    {\r\n        Random rand = new Random();\r\n        rollnum = rand.nextInt(1) + 1;\r\n    }\r\n\tpublic int getRoll1()\r\n    {\r\n        return rollnum;\r\n    }\r\n}\r\n```\r\nI have tried to find an answer from StackOverflow many times but I can&#39;t seem to find one that fits my issue since I am not using FXMLLoader.\r\n\r\nError Message\r\n```\r\nException in Application start method\r\njava.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\tat javafx.graphics@18.0.2/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\r\n\tat javafx.graphics@18.0.2/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\r\nCaused by: java.lang.RuntimeException: Exception in Application start method\r\n\tat javafx.graphics@18.0.2/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\r\n\tat javafx.graphics@18.0.2/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.NullPointerException: Children: child node is null: parent = VBox@4ac2de6c\r\n\tat javafx.graphics@18.0.2/javafx.scene.Parent$3.onProposedChange(Parent.java:542)\r\n\tat javafx.base@18.0.2/com.sun.javafx.collections.VetoableListDecorator.addAll(VetoableListDecorator.java:233)\r\n\tat javafx.base@18.0.2/com.sun.javafx.collections.VetoableListDecorator.addAll(VetoableListDecorator.java:103)\r\n\tat javafx.graphics@18.0.2/javafx.scene.layout.VBox.&lt;init&gt;(VBox.java:252)\r\n\tat HelloFX/application.CoinToss.start(CoinToss.java:34)\r\n\tat javafx.graphics@18.0.2/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\r\n\tat javafx.graphics@18.0.2/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\r\n\tat javafx.graphics@18.0.2/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics@18.0.2/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n\tat javafx.graphics@18.0.2/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics@18.0.2/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics@18.0.2/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\t... 1 more\r\nException running application application.CoinToss\r\n```","title":"Exception in Application start method java.lang.reflect.InvocationTargetException without using FXMLLoader","body":"<p>I've recently started out with JavaFX and I am trying to make a Coin Toss application that shows a picture of the coin respective to what was rolled. I've already done a dice roll simulator with similar code to this but for some reason, I am receiving an error that I didn't for that.</p>\n<p>CoinToss class</p>\n<pre><code>package application;\n\nimport javafx.application.Application;\nimport javafx.stage.Stage;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.geometry.Pos;\nimport javafx.geometry.Insets;\n\npublic class CoinToss extends Application {\n    Image heads = new Image(&quot;D:\\\\Downloads - DATA\\\\heads1.png&quot;);\n    Image tails = new Image(&quot;D:\\\\Downloads - DATA\\\\tails1.png&quot;);\n    ImageView viewCoin;\n    Label resultCoin;\n    public static void main(String[] args) {\n        launch(args);\n    }\n    public void start(Stage primaryStage) {\n        Label label1 = new Label(&quot;Welcome to the Coin Flipper!&quot;);\n        Label label2 = new Label(&quot;Please hit start to flip the coin!&quot;);\n        \n        resultCoin = new Label();\n        Button startButton = new Button(&quot;Start!&quot;);\n        \n        startButton.setOnAction(new StartButtonHandler());\n        \n        \n        VBox vbox = new VBox(10, label1,label2, startButton, viewCoin, resultCoin);\n        vbox.setPadding(new Insets(12));\n        vbox.setAlignment(Pos.TOP_CENTER);\n        \n        Scene simulatorScene = new Scene(vbox,400,400);\n        primaryStage.setScene(simulatorScene);\n        primaryStage.show();\n    }\n    \n    class StartButtonHandler implements EventHandler&lt;ActionEvent&gt;{\n        public void handle(ActionEvent event) {\n            int num = 0;\n            String word = &quot;&quot;;\n            CoinValue value = new CoinValue();\n            value.roll1();\n            num = value.getRoll1();\n            if(num == 0) {\n                viewCoin = new ImageView(heads);\n                word = &quot;heads&quot;;\n            } else {\n                viewCoin = new ImageView(tails);\n                word = &quot;tails&quot;;\n            }\n            resultCoin.setText(&quot;You rolled a &quot; + word);\n        }\n    }\n}\n</code></pre>\n<p>CoinValue class</p>\n<pre><code>package application;\n\nimport java.util.Random;\n\npublic class CoinValue {\n    int rollnum;\n    public void roll1()\n    {\n        Random rand = new Random();\n        rollnum = rand.nextInt(1) + 1;\n    }\n    public int getRoll1()\n    {\n        return rollnum;\n    }\n}\n</code></pre>\n<p>I have tried to find an answer from StackOverflow many times but I can't seem to find one that fits my issue since I am not using FXMLLoader.</p>\n<p>Error Message</p>\n<pre><code>Exception in Application start method\njava.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at javafx.graphics@18.0.2/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\n    at javafx.graphics@18.0.2/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at javafx.graphics@18.0.2/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\n    at javafx.graphics@18.0.2/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.NullPointerException: Children: child node is null: parent = VBox@4ac2de6c\n    at javafx.graphics@18.0.2/javafx.scene.Parent$3.onProposedChange(Parent.java:542)\n    at javafx.base@18.0.2/com.sun.javafx.collections.VetoableListDecorator.addAll(VetoableListDecorator.java:233)\n    at javafx.base@18.0.2/com.sun.javafx.collections.VetoableListDecorator.addAll(VetoableListDecorator.java:103)\n    at javafx.graphics@18.0.2/javafx.scene.layout.VBox.&lt;init&gt;(VBox.java:252)\n    at HelloFX/application.CoinToss.start(CoinToss.java:34)\n    at javafx.graphics@18.0.2/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\n    at javafx.graphics@18.0.2/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\n    at javafx.graphics@18.0.2/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@18.0.2/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\n    at javafx.graphics@18.0.2/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics@18.0.2/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@18.0.2/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    ... 1 more\nException running application application.CoinToss\n</code></pre>\n"},{"tags":["java","android","xml","android-fragments","android-bottomnavigationview"],"comments":[{"owner":{"account_id":17523909,"reputation":407,"user_id":12709358,"display_name":"Elango"},"score":0,"creation_date":1658854209,"post_id":73127000,"comment_id":129153584,"body_markdown":"can you add image description  ?","body":"can you add image description  ?"}],"answers":[{"tags":[],"owner":{"account_id":18207542,"reputation":661,"user_id":13250694,"display_name":"Hamed Goharshad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659038753,"creation_date":1658860813,"answer_id":73128288,"question_id":73127000,"body_markdown":"You should add a bottom padding to your fragment, but you&#39;d better use listView or recycler view to show this much items ","title":"Bottom Navigation Bar and NestedScroll View hide my fragment activity","body":"<p>You should add a bottom padding to your fragment, but you'd better use listView or recycler view to show this much items</p>\n"},{"tags":[],"owner":{"account_id":7068029,"reputation":127,"user_id":5410702,"display_name":"Mich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658872317,"creation_date":1658872317,"answer_id":73130133,"question_id":73127000,"body_markdown":"did you try android:isScrollContainer=&quot;false&quot;","title":"Bottom Navigation Bar and NestedScroll View hide my fragment activity","body":"<p>did you try android:isScrollContainer=&quot;false&quot;</p>\n"}],"owner":{"account_id":21813770,"reputation":5,"user_id":16110865,"display_name":"Alexis Vilchis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73128288,"answer_count":2,"score":0,"last_activity_date":1659038753,"creation_date":1658853629,"question_id":73127000,"body_markdown":"I have an activity with a bottom navigation bar and fragments to show trough the items of this activity, in the first item i have a fragment layout with a nedted scroll view menu with 14 options, but when im scrolling in this fragment dont show completely all the option of my menu.\r\n\r\nHere my &quot;activity_inicio&quot; with it bottom navigation bar\r\n``` xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/inicio_frame&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@color/white&quot;\r\n    tools:context=&quot;.Inicio&quot;&gt;\r\n\r\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n        android:id=&quot;@+id/bottom_navigation&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_alignParentLeft=&quot;true&quot;\r\n        android:layout_alignParentEnd=&quot;true&quot;\r\n        android:layout_alignParentRight=&quot;true&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:elevation=&quot;20dp&quot;\r\n        app:itemIconTint=&quot;@drawable/navigation&quot;\r\n        app:itemTextColor=&quot;@drawable/navigation&quot;\r\n        app:labelVisibilityMode=&quot;selected&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:menu=&quot;@menu/bottom_navigation_menu&quot;&gt;&lt;/com.google.android.material.bottomnavigation.BottomNavigationView&gt;\r\n&lt;/RelativeLayout&gt;\r\n```\r\nAnd Here my fragment layout ```fragment_tae``` with it nested scroll view\r\n``` xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.TaeFragment&quot;&gt;\r\n    &lt;!-- TODO: Update blank fragment layout --&gt;\r\n    &lt;androidx.core.widget.NestedScrollView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:padding=&quot;15dp&quot;&gt;\r\n        &lt;RelativeLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n            &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                android:id=&quot;@+id/header&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                android:padding=&quot;10dp&quot;&gt;\r\n                &lt;TextView\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;5dp&quot;\r\n                    android:gravity=&quot;center&quot;\r\n                    android:text=&quot;@string/tae_pantalla&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;30sp&quot;\r\n                    android:textStyle=&quot;bold&quot; /&gt;\r\n            &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n            &lt;!--Menu Opciones--&gt;\r\n            &lt;!--Opciones 1 y 2--&gt;\r\n            &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                android:id=&quot;@+id/row_1&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_below=&quot;@id/header&quot;\r\n                android:layout_marginTop=&quot;20dp&quot;\r\n                android:orientation=&quot;horizontal&quot;\r\n                android:weightSum=&quot;2&quot;&gt;\r\n                &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:orientation=&quot;vertical&quot;&gt;\r\n                    &lt;androidx.appcompat.widget.AppCompatImageButton\r\n                        android:layout_width=&quot;120dp&quot;\r\n                        android:layout_height=&quot;120dp&quot;\r\n                        android:layout_gravity=&quot;center&quot;\r\n                        android:scaleType=&quot;fitCenter&quot;\r\n                        app:srcCompat=&quot;@drawable/telcel&quot; /&gt;\r\n                &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n                &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:orientation=&quot;vertical&quot;&gt;\r\n                    &lt;androidx.appcompat.widget.AppCompatImageButton\r\n                        android:layout_width=&quot;120dp&quot;\r\n                        android:layout_height=&quot;120dp&quot;\r\n                        android:layout_gravity=&quot;center&quot;\r\n                        android:layout_marginStart=&quot;5dp&quot;\r\n                        android:scaleType=&quot;fitCenter&quot;\r\n                        app:srcCompat=&quot;@drawable/movistar&quot; /&gt;\r\n                &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n            &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n            &lt;!--Opciones 3y 4--&gt;\r\n            &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                android:id=&quot;@+id/row_2&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_below=&quot;@id/row_1&quot;\r\n                android:layout_marginTop=&quot;40dp&quot;\r\n                android:orientation=&quot;horizontal&quot;\r\n                android:weightSum=&quot;2&quot;&gt;\r\n\r\n                &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                    &lt;androidx.appcompat.widget.AppCompatImageButton\r\n                        android:layout_width=&quot;120dp&quot;\r\n                        android:layout_height=&quot;120dp&quot;\r\n                        android:layout_gravity=&quot;center&quot;\r\n                        android:scaleType=&quot;fitCenter&quot;\r\n                        app:srcCompat=&quot;@drawable/att&quot; /&gt;\r\n                &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n\r\n                &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                    &lt;androidx.appcompat.widget.AppCompatImageButton\r\n                        android:layout_width=&quot;120dp&quot;\r\n                        android:layout_height=&quot;120dp&quot;\r\n                        android:layout_gravity=&quot;center&quot;\r\n                        android:layout_marginStart=&quot;5dp&quot;\r\n                        android:scaleType=&quot;fitCenter&quot;\r\n                        app:srcCompat=&quot;@drawable/att&quot; /&gt;\r\n                &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n            &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n            &lt;!--Opciones 5 y 6--&gt;\r\n            &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                android:id=&quot;@+id/row_3&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_below=&quot;@id/row_2&quot;\r\n                android:layout_marginTop=&quot;40dp&quot;\r\n                android:orientation=&quot;horizontal&quot;\r\n                android:weightSum=&quot;2&quot;&gt;\r\n\r\n                &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                    &lt;androidx.appcompat.widget.AppCompatImageButton\r\n                        android:layout_width=&quot;120dp&quot;\r\n                        android:layout_height=&quot;120dp&quot;\r\n                        android:layout_gravity=&quot;center&quot;\r\n                        android:scaleType=&quot;fitCenter&quot;\r\n                        app:srcCompat=&quot;@drawable/att&quot; /&gt;\r\n                &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n\r\n                &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                    &lt;androidx.appcompat.widget.AppCompatImageButton\r\n                        android:layout_width=&quot;120dp&quot;\r\n                        android:layout_height=&quot;120dp&quot;\r\n                        android:layout_gravity=&quot;center&quot;\r\n                        android:layout_marginStart=&quot;5dp&quot;\r\n                        android:scaleType=&quot;fitCenter&quot;\r\n                        app:srcCompat=&quot;@drawable/att&quot; /&gt;\r\n                &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n            &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n            &lt;!--Opciones 7 y 8--&gt;\r\n            &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                android:id=&quot;@+id/row_4&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_below=&quot;@id/row_3&quot;\r\n                android:layout_marginTop=&quot;40dp&quot;\r\n                android:orientation=&quot;horizontal&quot;\r\n                android:weightSum=&quot;2&quot;&gt;\r\n\r\n                &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                    &lt;androidx.appcompat.widget.AppCompatImageButton\r\n                        android:layout_width=&quot;120dp&quot;\r\n                        android:layout_height=&quot;120dp&quot;\r\n                        android:layout_gravity=&quot;center&quot;\r\n                        android:scaleType=&quot;fitCenter&quot;\r\n                        app:srcCompat=&quot;@drawable/att&quot; /&gt;\r\n                &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n\r\n                &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                    &lt;androidx.appcompat.widget.AppCompatImageButton\r\n                        android:layout_width=&quot;120dp&quot;\r\n                        android:layout_height=&quot;120dp&quot;\r\n                        android:layout_gravity=&quot;center&quot;\r\n                        android:layout_marginStart=&quot;5dp&quot;\r\n                        android:scaleType=&quot;fitCenter&quot;\r\n                        app:srcCompat=&quot;@drawable/att&quot; /&gt;\r\n                &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n            &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n            &lt;!--Opci&#243;n 9 y 10--&gt;\r\n            &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                android:id=&quot;@+id/row_5&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_below=&quot;@id/row_4&quot;\r\n                android:layout_marginTop=&quot;40dp&quot;\r\n                android:orientation=&quot;horizontal&quot;\r\n                android:weightSum=&quot;2&quot;&gt;\r\n\r\n                &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                    &lt;androidx.appcompat.widget.AppCompatImageButton\r\n                        android:layout_width=&quot;120dp&quot;\r\n                        android:layout_height=&quot;120dp&quot;\r\n                        android:layout_gravity=&quot;center&quot;\r\n                        android:scaleType=&quot;fitCenter&quot;\r\n                        app:srcCompat=&quot;@drawable/att&quot; /&gt;\r\n                &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n\r\n                &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                    &lt;androidx.appcompat.widget.AppCompatImageButton\r\n                        android:layout_width=&quot;120dp&quot;\r\n                        android:layout_height=&quot;120dp&quot;\r\n                        android:layout_gravity=&quot;center&quot;\r\n                        android:layout_marginStart=&quot;5dp&quot;\r\n                        android:scaleType=&quot;fitCenter&quot;\r\n                        app:srcCompat=&quot;@drawable/att&quot; /&gt;\r\n                &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n            &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n            &lt;!--Opci&#243;n 11 &amp; 12--&gt;\r\n            &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                android:id=&quot;@+id/row_6&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_below=&quot;@id/row_5&quot;\r\n                android:layout_marginTop=&quot;40dp&quot;\r\n                android:orientation=&quot;horizontal&quot;\r\n                android:weightSum=&quot;2&quot;&gt;\r\n\r\n                &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                    &lt;androidx.appcompat.widget.AppCompatImageButton\r\n                        android:layout_width=&quot;120dp&quot;\r\n                        android:layout_height=&quot;120dp&quot;\r\n                        android:layout_gravity=&quot;center&quot;\r\n                        android:scaleType=&quot;fitCenter&quot;\r\n                        app:srcCompat=&quot;@drawable/att&quot; /&gt;\r\n                &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n\r\n                &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                    &lt;androidx.appcompat.widget.AppCompatImageButton\r\n                        android:layout_width=&quot;120dp&quot;\r\n                        android:layout_height=&quot;120dp&quot;\r\n                        android:layout_gravity=&quot;center&quot;\r\n                        android:layout_marginStart=&quot;5dp&quot;\r\n                        android:scaleType=&quot;fitCenter&quot;\r\n                        app:srcCompat=&quot;@drawable/att&quot; /&gt;\r\n                &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n            &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n            &lt;!--Opciones 13 &amp; 14--&gt;\r\n            &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                android:id=&quot;@+id/row_7&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_below=&quot;@id/row_6&quot;\r\n                android:layout_marginTop=&quot;40dp&quot;\r\n                android:orientation=&quot;horizontal&quot;\r\n                android:weightSum=&quot;2&quot;&gt;\r\n\r\n                &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                    &lt;androidx.appcompat.widget.AppCompatImageButton\r\n                        android:layout_width=&quot;120dp&quot;\r\n                        android:layout_height=&quot;120dp&quot;\r\n                        android:layout_gravity=&quot;center&quot;\r\n                        android:scaleType=&quot;fitCenter&quot;\r\n                        app:srcCompat=&quot;@drawable/att&quot; /&gt;\r\n                &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n\r\n                &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                    &lt;androidx.appcompat.widget.AppCompatImageButton\r\n                        android:layout_width=&quot;120dp&quot;\r\n                        android:layout_height=&quot;120dp&quot;\r\n                        android:layout_gravity=&quot;center&quot;\r\n                        android:layout_marginStart=&quot;5dp&quot;\r\n                        android:scaleType=&quot;fitCenter&quot;\r\n                        app:srcCompat=&quot;@drawable/att&quot; /&gt;\r\n                &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n            &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n        &lt;/RelativeLayout&gt;\r\n    &lt;/androidx.core.widget.NestedScrollView&gt;\r\n&lt;/FrameLayout&gt;\r\n\r\n```\r\n\r\n[The bottom bar is always front the fragment view scroll][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jr5kK.png","title":"Bottom Navigation Bar and NestedScroll View hide my fragment activity","body":"<p>I have an activity with a bottom navigation bar and fragments to show trough the items of this activity, in the first item i have a fragment layout with a nedted scroll view menu with 14 options, but when im scrolling in this fragment dont show completely all the option of my menu.</p>\n<p>Here my &quot;activity_inicio&quot; with it bottom navigation bar</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/inicio_frame&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@color/white&quot;\n    tools:context=&quot;.Inicio&quot;&gt;\n\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n        android:id=&quot;@+id/bottom_navigation&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentLeft=&quot;true&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_alignParentRight=&quot;true&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:elevation=&quot;20dp&quot;\n        app:itemIconTint=&quot;@drawable/navigation&quot;\n        app:itemTextColor=&quot;@drawable/navigation&quot;\n        app:labelVisibilityMode=&quot;selected&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:menu=&quot;@menu/bottom_navigation_menu&quot;&gt;&lt;/com.google.android.material.bottomnavigation.BottomNavigationView&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>And Here my fragment layout <code>fragment_tae</code> with it nested scroll view</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.TaeFragment&quot;&gt;\n    &lt;!-- TODO: Update blank fragment layout --&gt;\n    &lt;androidx.core.widget.NestedScrollView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:padding=&quot;15dp&quot;&gt;\n        &lt;RelativeLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;&gt;\n            &lt;androidx.appcompat.widget.LinearLayoutCompat\n                android:id=&quot;@+id/header&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;vertical&quot;\n                android:padding=&quot;10dp&quot;&gt;\n                &lt;TextView\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginTop=&quot;5dp&quot;\n                    android:gravity=&quot;center&quot;\n                    android:text=&quot;@string/tae_pantalla&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;30sp&quot;\n                    android:textStyle=&quot;bold&quot; /&gt;\n            &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n            &lt;!--Menu Opciones--&gt;\n            &lt;!--Opciones 1 y 2--&gt;\n            &lt;androidx.appcompat.widget.LinearLayoutCompat\n                android:id=&quot;@+id/row_1&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_below=&quot;@id/header&quot;\n                android:layout_marginTop=&quot;20dp&quot;\n                android:orientation=&quot;horizontal&quot;\n                android:weightSum=&quot;2&quot;&gt;\n                &lt;androidx.appcompat.widget.LinearLayoutCompat\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:orientation=&quot;vertical&quot;&gt;\n                    &lt;androidx.appcompat.widget.AppCompatImageButton\n                        android:layout_width=&quot;120dp&quot;\n                        android:layout_height=&quot;120dp&quot;\n                        android:layout_gravity=&quot;center&quot;\n                        android:scaleType=&quot;fitCenter&quot;\n                        app:srcCompat=&quot;@drawable/telcel&quot; /&gt;\n                &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n                &lt;androidx.appcompat.widget.LinearLayoutCompat\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:orientation=&quot;vertical&quot;&gt;\n                    &lt;androidx.appcompat.widget.AppCompatImageButton\n                        android:layout_width=&quot;120dp&quot;\n                        android:layout_height=&quot;120dp&quot;\n                        android:layout_gravity=&quot;center&quot;\n                        android:layout_marginStart=&quot;5dp&quot;\n                        android:scaleType=&quot;fitCenter&quot;\n                        app:srcCompat=&quot;@drawable/movistar&quot; /&gt;\n                &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n            &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n            &lt;!--Opciones 3y 4--&gt;\n            &lt;androidx.appcompat.widget.LinearLayoutCompat\n                android:id=&quot;@+id/row_2&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_below=&quot;@id/row_1&quot;\n                android:layout_marginTop=&quot;40dp&quot;\n                android:orientation=&quot;horizontal&quot;\n                android:weightSum=&quot;2&quot;&gt;\n\n                &lt;androidx.appcompat.widget.LinearLayoutCompat\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:orientation=&quot;vertical&quot;&gt;\n\n                    &lt;androidx.appcompat.widget.AppCompatImageButton\n                        android:layout_width=&quot;120dp&quot;\n                        android:layout_height=&quot;120dp&quot;\n                        android:layout_gravity=&quot;center&quot;\n                        android:scaleType=&quot;fitCenter&quot;\n                        app:srcCompat=&quot;@drawable/att&quot; /&gt;\n                &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n\n                &lt;androidx.appcompat.widget.LinearLayoutCompat\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:orientation=&quot;vertical&quot;&gt;\n\n                    &lt;androidx.appcompat.widget.AppCompatImageButton\n                        android:layout_width=&quot;120dp&quot;\n                        android:layout_height=&quot;120dp&quot;\n                        android:layout_gravity=&quot;center&quot;\n                        android:layout_marginStart=&quot;5dp&quot;\n                        android:scaleType=&quot;fitCenter&quot;\n                        app:srcCompat=&quot;@drawable/att&quot; /&gt;\n                &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n            &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n            &lt;!--Opciones 5 y 6--&gt;\n            &lt;androidx.appcompat.widget.LinearLayoutCompat\n                android:id=&quot;@+id/row_3&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_below=&quot;@id/row_2&quot;\n                android:layout_marginTop=&quot;40dp&quot;\n                android:orientation=&quot;horizontal&quot;\n                android:weightSum=&quot;2&quot;&gt;\n\n                &lt;androidx.appcompat.widget.LinearLayoutCompat\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:orientation=&quot;vertical&quot;&gt;\n\n                    &lt;androidx.appcompat.widget.AppCompatImageButton\n                        android:layout_width=&quot;120dp&quot;\n                        android:layout_height=&quot;120dp&quot;\n                        android:layout_gravity=&quot;center&quot;\n                        android:scaleType=&quot;fitCenter&quot;\n                        app:srcCompat=&quot;@drawable/att&quot; /&gt;\n                &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n\n                &lt;androidx.appcompat.widget.LinearLayoutCompat\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:orientation=&quot;vertical&quot;&gt;\n\n                    &lt;androidx.appcompat.widget.AppCompatImageButton\n                        android:layout_width=&quot;120dp&quot;\n                        android:layout_height=&quot;120dp&quot;\n                        android:layout_gravity=&quot;center&quot;\n                        android:layout_marginStart=&quot;5dp&quot;\n                        android:scaleType=&quot;fitCenter&quot;\n                        app:srcCompat=&quot;@drawable/att&quot; /&gt;\n                &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n            &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n            &lt;!--Opciones 7 y 8--&gt;\n            &lt;androidx.appcompat.widget.LinearLayoutCompat\n                android:id=&quot;@+id/row_4&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_below=&quot;@id/row_3&quot;\n                android:layout_marginTop=&quot;40dp&quot;\n                android:orientation=&quot;horizontal&quot;\n                android:weightSum=&quot;2&quot;&gt;\n\n                &lt;androidx.appcompat.widget.LinearLayoutCompat\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:orientation=&quot;vertical&quot;&gt;\n\n                    &lt;androidx.appcompat.widget.AppCompatImageButton\n                        android:layout_width=&quot;120dp&quot;\n                        android:layout_height=&quot;120dp&quot;\n                        android:layout_gravity=&quot;center&quot;\n                        android:scaleType=&quot;fitCenter&quot;\n                        app:srcCompat=&quot;@drawable/att&quot; /&gt;\n                &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n\n                &lt;androidx.appcompat.widget.LinearLayoutCompat\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:orientation=&quot;vertical&quot;&gt;\n\n                    &lt;androidx.appcompat.widget.AppCompatImageButton\n                        android:layout_width=&quot;120dp&quot;\n                        android:layout_height=&quot;120dp&quot;\n                        android:layout_gravity=&quot;center&quot;\n                        android:layout_marginStart=&quot;5dp&quot;\n                        android:scaleType=&quot;fitCenter&quot;\n                        app:srcCompat=&quot;@drawable/att&quot; /&gt;\n                &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n            &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n            &lt;!--OpciÃ³n 9 y 10--&gt;\n            &lt;androidx.appcompat.widget.LinearLayoutCompat\n                android:id=&quot;@+id/row_5&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_below=&quot;@id/row_4&quot;\n                android:layout_marginTop=&quot;40dp&quot;\n                android:orientation=&quot;horizontal&quot;\n                android:weightSum=&quot;2&quot;&gt;\n\n                &lt;androidx.appcompat.widget.LinearLayoutCompat\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:orientation=&quot;vertical&quot;&gt;\n\n                    &lt;androidx.appcompat.widget.AppCompatImageButton\n                        android:layout_width=&quot;120dp&quot;\n                        android:layout_height=&quot;120dp&quot;\n                        android:layout_gravity=&quot;center&quot;\n                        android:scaleType=&quot;fitCenter&quot;\n                        app:srcCompat=&quot;@drawable/att&quot; /&gt;\n                &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n\n                &lt;androidx.appcompat.widget.LinearLayoutCompat\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:orientation=&quot;vertical&quot;&gt;\n\n                    &lt;androidx.appcompat.widget.AppCompatImageButton\n                        android:layout_width=&quot;120dp&quot;\n                        android:layout_height=&quot;120dp&quot;\n                        android:layout_gravity=&quot;center&quot;\n                        android:layout_marginStart=&quot;5dp&quot;\n                        android:scaleType=&quot;fitCenter&quot;\n                        app:srcCompat=&quot;@drawable/att&quot; /&gt;\n                &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n            &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n            &lt;!--OpciÃ³n 11 &amp; 12--&gt;\n            &lt;androidx.appcompat.widget.LinearLayoutCompat\n                android:id=&quot;@+id/row_6&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_below=&quot;@id/row_5&quot;\n                android:layout_marginTop=&quot;40dp&quot;\n                android:orientation=&quot;horizontal&quot;\n                android:weightSum=&quot;2&quot;&gt;\n\n                &lt;androidx.appcompat.widget.LinearLayoutCompat\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:orientation=&quot;vertical&quot;&gt;\n\n                    &lt;androidx.appcompat.widget.AppCompatImageButton\n                        android:layout_width=&quot;120dp&quot;\n                        android:layout_height=&quot;120dp&quot;\n                        android:layout_gravity=&quot;center&quot;\n                        android:scaleType=&quot;fitCenter&quot;\n                        app:srcCompat=&quot;@drawable/att&quot; /&gt;\n                &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n\n                &lt;androidx.appcompat.widget.LinearLayoutCompat\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:orientation=&quot;vertical&quot;&gt;\n\n                    &lt;androidx.appcompat.widget.AppCompatImageButton\n                        android:layout_width=&quot;120dp&quot;\n                        android:layout_height=&quot;120dp&quot;\n                        android:layout_gravity=&quot;center&quot;\n                        android:layout_marginStart=&quot;5dp&quot;\n                        android:scaleType=&quot;fitCenter&quot;\n                        app:srcCompat=&quot;@drawable/att&quot; /&gt;\n                &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n            &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n            &lt;!--Opciones 13 &amp; 14--&gt;\n            &lt;androidx.appcompat.widget.LinearLayoutCompat\n                android:id=&quot;@+id/row_7&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_below=&quot;@id/row_6&quot;\n                android:layout_marginTop=&quot;40dp&quot;\n                android:orientation=&quot;horizontal&quot;\n                android:weightSum=&quot;2&quot;&gt;\n\n                &lt;androidx.appcompat.widget.LinearLayoutCompat\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:orientation=&quot;vertical&quot;&gt;\n\n                    &lt;androidx.appcompat.widget.AppCompatImageButton\n                        android:layout_width=&quot;120dp&quot;\n                        android:layout_height=&quot;120dp&quot;\n                        android:layout_gravity=&quot;center&quot;\n                        android:scaleType=&quot;fitCenter&quot;\n                        app:srcCompat=&quot;@drawable/att&quot; /&gt;\n                &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n\n                &lt;androidx.appcompat.widget.LinearLayoutCompat\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:orientation=&quot;vertical&quot;&gt;\n\n                    &lt;androidx.appcompat.widget.AppCompatImageButton\n                        android:layout_width=&quot;120dp&quot;\n                        android:layout_height=&quot;120dp&quot;\n                        android:layout_gravity=&quot;center&quot;\n                        android:layout_marginStart=&quot;5dp&quot;\n                        android:scaleType=&quot;fitCenter&quot;\n                        app:srcCompat=&quot;@drawable/att&quot; /&gt;\n                &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n            &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n        &lt;/RelativeLayout&gt;\n    &lt;/androidx.core.widget.NestedScrollView&gt;\n&lt;/FrameLayout&gt;\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/jr5kK.png\" rel=\"nofollow noreferrer\">The bottom bar is always front the fragment view scroll</a></p>\n"},{"tags":["java","android","android-studio","aar"],"owner":{"account_id":10207145,"reputation":149,"user_id":7535525,"display_name":"Santiago Vasquez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659038074,"creation_date":1659036646,"question_id":73158277,"body_markdown":"Good morning friends, I need help.\r\n\r\nThis project needs to use these two libraries. And when compiling they are having a conflict because there are certain classes.\r\n\r\nIn fact, I already separated them as &quot;independent&quot; modules and I keep getting the error.\r\n\r\nI call the two libraries in the `build.gradle (:app)` like this:\r\n\r\n        implementation project(path: &#39;:smartill&#39;)\r\n        implementation project(path: &#39;:smartill-mini-plus&#39;)\r\n\r\nalso, add in `gradle.properties`\r\n\r\n    android.useAndroidX=true\r\n    android.enableJetifier=true\r\n\r\nAny ideas to separate them?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\nError text:\r\n\r\n    Execution failed for task &#39;:app:checkPaStagingDuplicateClasses&#39;.\r\n    &gt; 1 exception was raised by workers:\r\n    java.lang.RuntimeException: Duplicate class com.dm.commonlib.ThreadPoolManager found in \r\n    modules jetified-smart_minilib_v1.0.9-runtime.jar \r\n    (smart_minilib_v1.0.9.aar) and jetified-tilllib-runtime.jar (tilllib.aar)\r\n    Duplicate class com.dm.commonlib.Utils found in modules jetified-smart_minilib_v1.0.9- \r\n    runtime.jar (smart_minilib_v1.0.9.aar) and jetified-tilllib-runtime.jar (tilllib.aar)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/M2gRs.png\r\n  [2]: https://i.stack.imgur.com/ZCmqQ.png","title":"Android: Duplicate class XX found in modules","body":"<p>Good morning friends, I need help.</p>\n<p>This project needs to use these two libraries. And when compiling they are having a conflict because there are certain classes.</p>\n<p>In fact, I already separated them as &quot;independent&quot; modules and I keep getting the error.</p>\n<p>I call the two libraries in the <code>build.gradle (:app)</code> like this:</p>\n<pre><code>    implementation project(path: ':smartill')\n    implementation project(path: ':smartill-mini-plus')\n</code></pre>\n<p>also, add in <code>gradle.properties</code></p>\n<pre><code>android.useAndroidX=true\nandroid.enableJetifier=true\n</code></pre>\n<p>Any ideas to separate them?</p>\n<p><a href=\"https://i.stack.imgur.com/M2gRs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M2gRs.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ZCmqQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZCmqQ.png\" alt=\"enter image description here\" /></a></p>\n<p>Error text:</p>\n<pre><code>Execution failed for task ':app:checkPaStagingDuplicateClasses'.\n&gt; 1 exception was raised by workers:\njava.lang.RuntimeException: Duplicate class com.dm.commonlib.ThreadPoolManager found in \nmodules jetified-smart_minilib_v1.0.9-runtime.jar \n(smart_minilib_v1.0.9.aar) and jetified-tilllib-runtime.jar (tilllib.aar)\nDuplicate class com.dm.commonlib.Utils found in modules jetified-smart_minilib_v1.0.9- \nruntime.jar (smart_minilib_v1.0.9.aar) and jetified-tilllib-runtime.jar (tilllib.aar)\n</code></pre>\n"},{"tags":["java","swt","listener"],"answers":[{"tags":[],"owner":{"account_id":1380003,"reputation":108,"user_id":1313229,"display_name":"Dmitry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659037412,"creation_date":1659027324,"answer_id":73156538,"question_id":65306147,"body_markdown":"Although this question is much old, I&#39;ll try to suggest what may have gone wrong.\r\n\r\nI don&#39;t have enough code in the question to determine the reason exactly, but common case is that children elements of Composite have focus, not the parent one. That&#39;s why this outer Composite may not generate focus events - it doesn&#39;t operate in the events cycle at all. So, I can suggest use focus loosing checkings on the internal elements, like this for example:\r\n\r\n    entireElement.addListener(SWT.FocusOut, event -&gt; {\r\n        // put element validation mechanics here\r\n    });","title":"SWT FocusListener focusLost() is never called","body":"<p>Although this question is much old, I'll try to suggest what may have gone wrong.</p>\n<p>I don't have enough code in the question to determine the reason exactly, but common case is that children elements of Composite have focus, not the parent one. That's why this outer Composite may not generate focus events - it doesn't operate in the events cycle at all. So, I can suggest use focus loosing checkings on the internal elements, like this for example:</p>\n<pre><code>entireElement.addListener(SWT.FocusOut, event -&gt; {\n    // put element validation mechanics here\n});\n</code></pre>\n"}],"owner":{"account_id":17931899,"reputation":95,"user_id":13029127,"display_name":"RekaK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659037412,"creation_date":1608036485,"question_id":65306147,"body_markdown":"I have a Composite that contains a table with columns. The columns have certain validation, and if the field values don&#39;t pass the validation, they are coloured red and set an error message.\r\nI want to have a Listener that checks if there is any error message set by the columns. I added a listener to the composite but it is never called.\r\nI thought that the focusLost() method should be called whenever I click away from the composite into other composites or elsewhere within the shell. But it is never called.\r\n\r\n\t\r\n\r\n    myComposite = new MyComposite(myGroup, myEditor, getModel(), SWT.NONE,\r\n                calculator, this, application, modelService, partService, progressService, shell);\r\n    \tmyComposite.setLayout(new GridLayout(2, false));\r\n        GridDataFactory.swtDefaults().span(21, 1).grab(true, true).align(SWT.FILL, SWT.TOP).applyTo(myComposite);\r\n        \r\n        FocusListener focusListener = new FocusListener() {\r\n            @Override\r\n            public void focusLost(FocusEvent e)\r\n            {\r\n            \tif (myComposite.getErrorMessage() != null) {\r\n            \tgetValidator().getDecorator().setError(myComposite, myComposite.getErrorMessage());\r\n            \t}\r\n            }\r\n\r\n            @Override\r\n            public void focusGained(FocusEvent e) { /** nothing */  }\r\n        };\r\n\t\t\r\n    myComposite.addFocusListener(focusListener);\r\n\r\n\t\t\r\n","title":"SWT FocusListener focusLost() is never called","body":"<p>I have a Composite that contains a table with columns. The columns have certain validation, and if the field values don't pass the validation, they are coloured red and set an error message.\nI want to have a Listener that checks if there is any error message set by the columns. I added a listener to the composite but it is never called.\nI thought that the focusLost() method should be called whenever I click away from the composite into other composites or elsewhere within the shell. But it is never called.</p>\n<pre><code>myComposite = new MyComposite(myGroup, myEditor, getModel(), SWT.NONE,\n            calculator, this, application, modelService, partService, progressService, shell);\n    myComposite.setLayout(new GridLayout(2, false));\n    GridDataFactory.swtDefaults().span(21, 1).grab(true, true).align(SWT.FILL, SWT.TOP).applyTo(myComposite);\n    \n    FocusListener focusListener = new FocusListener() {\n        @Override\n        public void focusLost(FocusEvent e)\n        {\n            if (myComposite.getErrorMessage() != null) {\n            getValidator().getDecorator().setError(myComposite, myComposite.getErrorMessage());\n            }\n        }\n\n        @Override\n        public void focusGained(FocusEvent e) { /** nothing */  }\n    };\n    \nmyComposite.addFocusListener(focusListener);\n\n    \n</code></pre>\n"},{"tags":["java","java-native-interface","rust"],"comments":[{"owner":{"account_id":18471,"reputation":56071,"user_id":42353,"display_name":"DK."},"score":1,"creation_date":1431689819,"post_id":30258427,"comment_id":48616523,"body_markdown":"I can&#39;t give a full answer, but you appear to be assuming that `*const Any` is a regular pointer: **it is not**.  It is a pointer to a trait object, which means it is *twice the size of a regular pointer*.  You *should not* use `*const Any` to represent an &quot;arbitrary pointer&quot;; for that, you should either use `*const ()` or `*const c_void` (from the `libc` package).  As an aside: you can use `::std::mem::size_of&lt;T&gt;()` to get the size of a given type.","body":"I can&#39;t give a full answer, but you appear to be assuming that <code>*const Any</code> is a regular pointer: <b>it is not</b>.  It is a pointer to a trait object, which means it is <i>twice the size of a regular pointer</i>.  You <i>should not</i> use <code>*const Any</code> to represent an &quot;arbitrary pointer&quot;; for that, you should either use <code>*const ()</code> or <code>*const c_void</code> (from the <code>libc</code> package).  As an aside: you can use <code>::std::mem::size_of&lt;T&gt;()</code> to get the size of a given type."},{"owner":{"account_id":414154,"reputation":122051,"user_id":788207,"accept_rate":84,"display_name":"Vladimir Matveev"},"score":1,"creation_date":1431689849,"post_id":30258427,"comment_id":48616539,"body_markdown":"Please note that `Any` is a trait, and any pointer to a bare trait is a trait object, that is, it is in fact a &quot;fat&quot; pointer. For example, [this](http://is.gd/tjze8D) program prints 16 instead of 8. Hence it is unsuitable for usage as a `void*`-like pointer. You need e.g. `*mut ()` for it.","body":"Please note that <code>Any</code> is a trait, and any pointer to a bare trait is a trait object, that is, it is in fact a &quot;fat&quot; pointer. For example, <a href=\"http://is.gd/tjze8D\" rel=\"nofollow noreferrer\">this</a> program prints 16 instead of 8. Hence it is unsuitable for usage as a <code>void*</code>-like pointer. You need e.g. <code>*mut ()</code> for it."}],"answers":[{"tags":[],"owner":{"account_id":414154,"reputation":122051,"user_id":788207,"accept_rate":84,"display_name":"Vladimir Matveev"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1431692044,"creation_date":1431691733,"answer_id":30259186,"question_id":30258427,"body_markdown":"Apart from the problem that `*mut Any`/`*const Any` are fat pointers, there is also a fact that native JNI functions use *double indirection* when accessing `JNINativeInterface` structure:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    struct JNINativeInterface_;\r\n    typedef const struct JNINativeInterface_ *JNIEnv;\r\n    jint (JNICALL *GetVersion)(JNIEnv *env);\r\n\r\nHere, you can see that `JNIEnv` is a pointer to `JNINativeInterface_` structure which actually contains the fields you presented, and `GetVersion` accepts a pointer to `JNIEnv` - that is, it requires a pointer to a pointer to `JNINativeInterface_`. This Rust program works on my machine (Rust nightly is used but the same code would work in beta with an external libc crate):\r\n\r\n&lt;!-- language: lang-rust --&gt;\r\n\r\n    #![crate_type=&quot;dylib&quot;]\r\n    #![feature(libc)]\r\n    extern crate libc;\r\n    \r\n    use libc::c_void;\r\n    \r\n    #[repr(C)]\r\n    pub struct JNINativeInterface {\r\n        reserved0: *mut c_void,\r\n        reserved1: *mut c_void,\r\n        reserved2: *mut c_void,\r\n        reserved3: *mut c_void,\r\n    \r\n        GetVersion: extern fn(env: *mut JNIEnv) -&gt; i32,\r\n    \r\n        _opaque_data: [u8; 1824]\r\n    }\r\n    \r\n    pub type JNIEnv = *const JNINativeInterface;\r\n    \r\n    #[no_mangle]\r\n    pub extern fn Java_tests_Test_helloJre(jre: *mut JNIEnv, class: *const c_void) {\r\n        println!(&quot;Invoked native method, jre: {:p}, class: {:p}&quot;, jre, class);\r\n        unsafe {\r\n            let v = ((**jre).GetVersion)(jre);\r\n            println!(&quot;version: {:?}&quot;, v);\r\n        }\r\n    }\r\n\r\nJava counterpart:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    package tests;\r\n    \r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    \r\n    public class Test {\r\n        public static native void helloJre();\r\n    \r\n        public static void main(String[] args) {\r\n            Path p = Paths.get(&quot;libtest.dylib&quot;);\r\n            System.load(p.toAbsolutePath().toString());\r\n            Test.helloJre();\r\n        }\r\n    }\r\n\r\nInvocation:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    % javac tests/Test.java\r\n    % java tests.Test\r\n    Invoked native method, jre: 0x7f81240011e0, class: 0x10d9808d8\r\n    version: 65544\r\n\r\n65544 is 0x10008, and indeed, I&#39;m running this under Oracle JVM 1.8.\r\n\r\nI guess you can omit `_opaque_data` field as `JNINativeInterface` structure is always passed by pointer, so if you only need several *first* fields from the structure, you can declare only them and ignore the rest.","title":"Calling Rust from Java","body":"<p>Apart from the problem that <code>*mut Any</code>/<code>*const Any</code> are fat pointers, there is also a fact that native JNI functions use <em>double indirection</em> when accessing <code>JNINativeInterface</code> structure:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>struct JNINativeInterface_;\ntypedef const struct JNINativeInterface_ *JNIEnv;\njint (JNICALL *GetVersion)(JNIEnv *env);\n</code></pre>\n\n<p>Here, you can see that <code>JNIEnv</code> is a pointer to <code>JNINativeInterface_</code> structure which actually contains the fields you presented, and <code>GetVersion</code> accepts a pointer to <code>JNIEnv</code> - that is, it requires a pointer to a pointer to <code>JNINativeInterface_</code>. This Rust program works on my machine (Rust nightly is used but the same code would work in beta with an external libc crate):</p>\n\n<pre class=\"lang-rust prettyprint-override\"><code>#![crate_type=\"dylib\"]\n#![feature(libc)]\nextern crate libc;\n\nuse libc::c_void;\n\n#[repr(C)]\npub struct JNINativeInterface {\n    reserved0: *mut c_void,\n    reserved1: *mut c_void,\n    reserved2: *mut c_void,\n    reserved3: *mut c_void,\n\n    GetVersion: extern fn(env: *mut JNIEnv) -&gt; i32,\n\n    _opaque_data: [u8; 1824]\n}\n\npub type JNIEnv = *const JNINativeInterface;\n\n#[no_mangle]\npub extern fn Java_tests_Test_helloJre(jre: *mut JNIEnv, class: *const c_void) {\n    println!(\"Invoked native method, jre: {:p}, class: {:p}\", jre, class);\n    unsafe {\n        let v = ((**jre).GetVersion)(jre);\n        println!(\"version: {:?}\", v);\n    }\n}\n</code></pre>\n\n<p>Java counterpart:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package tests;\n\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\n\npublic class Test {\n    public static native void helloJre();\n\n    public static void main(String[] args) {\n        Path p = Paths.get(\"libtest.dylib\");\n        System.load(p.toAbsolutePath().toString());\n        Test.helloJre();\n    }\n}\n</code></pre>\n\n<p>Invocation:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>% javac tests/Test.java\n% java tests.Test\nInvoked native method, jre: 0x7f81240011e0, class: 0x10d9808d8\nversion: 65544\n</code></pre>\n\n<p>65544 is 0x10008, and indeed, I'm running this under Oracle JVM 1.8.</p>\n\n<p>I guess you can omit <code>_opaque_data</code> field as <code>JNINativeInterface</code> structure is always passed by pointer, so if you only need several <em>first</em> fields from the structure, you can declare only them and ignore the rest.</p>\n"},{"tags":[],"owner":{"account_id":182285,"reputation":1925,"user_id":416868,"accept_rate":0,"display_name":"Suresh"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1455943745,"creation_date":1455943542,"answer_id":35519222,"question_id":30258427,"body_markdown":"A simpler approach would be to use [JnrFFI][1]. The JRuby project heavily uses JnrFFI and it is likely to form the basis for the new Java [FFI JEP][2]. This basically eliminates writing all the JNI nonsense. Here is [sample code][3] that uses JnrFFI to call a Rust function from Java:\r\n\r\n**Java Code**\r\n\r\n      public static interface RustLib {\r\n            int double_input(int i);\r\n        }\r\n        public static String getLibraryPath(String dylib) {\r\n            File f = new File(JavaRustFFI.class.getClassLoader().getResource(mapLibraryName(dylib)).getFile());\r\n            return f.getParent();\r\n        }\r\n        public static void main(String[] args) {\r\n            String dylib = &quot;double_input&quot;;\r\n            System.setProperty(&quot;jnr.ffi.library.path&quot;, getLibraryPath(dylib));\r\n            RustLib rlib = LibraryLoader.create(RustLib.class).load(dylib);\r\n            int r = rlib.double_input(20);\r\n            System.out.println(&quot;Result from rust double_input:  &quot; + r);\r\n        }\r\n\r\n**Rust Code**\r\n\r\n    #[no_mangle]\r\n    pub extern fn double_input(input: i32) -&gt; i32 {\r\n        input * 2\r\n    }\r\n\r\nHere is the [full code][3]\r\n\r\n\r\n  [1]: https://github.com/jnr/jnr-ffi\r\n  [2]: http://openjdk.java.net/jeps/191\r\n  [3]: https://github.com/sureshg/java-rust-ffi","title":"Calling Rust from Java","body":"<p>A simpler approach would be to use <a href=\"https://github.com/jnr/jnr-ffi\" rel=\"noreferrer\">JnrFFI</a>. The JRuby project heavily uses JnrFFI and it is likely to form the basis for the new Java <a href=\"http://openjdk.java.net/jeps/191\" rel=\"noreferrer\">FFI JEP</a>. This basically eliminates writing all the JNI nonsense. Here is <a href=\"https://github.com/sureshg/java-rust-ffi\" rel=\"noreferrer\">sample code</a> that uses JnrFFI to call a Rust function from Java:</p>\n\n<p><strong>Java Code</strong></p>\n\n<pre><code>  public static interface RustLib {\n        int double_input(int i);\n    }\n    public static String getLibraryPath(String dylib) {\n        File f = new File(JavaRustFFI.class.getClassLoader().getResource(mapLibraryName(dylib)).getFile());\n        return f.getParent();\n    }\n    public static void main(String[] args) {\n        String dylib = \"double_input\";\n        System.setProperty(\"jnr.ffi.library.path\", getLibraryPath(dylib));\n        RustLib rlib = LibraryLoader.create(RustLib.class).load(dylib);\n        int r = rlib.double_input(20);\n        System.out.println(\"Result from rust double_input:  \" + r);\n    }\n</code></pre>\n\n<p><strong>Rust Code</strong></p>\n\n<pre><code>#[no_mangle]\npub extern fn double_input(input: i32) -&gt; i32 {\n    input * 2\n}\n</code></pre>\n\n<p>Here is the <a href=\"https://github.com/sureshg/java-rust-ffi\" rel=\"noreferrer\">full code</a></p>\n"},{"tags":[],"owner":{"account_id":3813919,"reputation":2989,"user_id":3163824,"accept_rate":62,"display_name":"Panagiotis Drakatos"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1659037094,"creation_date":1659032844,"answer_id":73157572,"question_id":30258427,"body_markdown":"An alternative way and the most optimal way to call rust code from java is to use GraalVM. In my opinion, it&#39;s the best option if performance is the primary key thing in your case.\r\n\r\nGraalVM is a high-performance runtime that provides significant improvements in application performance and efficiency which is ideal for microservices. It is intended for applications created in dynamic languages java and Javascript as well as LLVM-based languages like C C++ and Rust. It breaks down the walls between programming languages and makes shared runtime interoperability possible. It can function independently or in conjunction with OpenJDK, Node.js, or Oracle Database.\r\n\r\nGraalVM can be used with OpenJDK to accelerate the performance of Java programs using a new just-in-time compilation technology. Java&#39;s bytecode is converted to machine code by GraalVM. This arrangement can be advantageous, especially for other JVM-based languages like Scala, as demonstrated by Twitter running GraalVM in production.\r\n\r\nThe GraalVM compiler offers performance benefits for highly abstracted applications because it can frequently do away with expensive object allocations. Details can be found in this [study article][1].\r\n\r\n***Lets code:***\r\nAssuming we have an example that we want to call a function from java to rust with one/two arguments and get the result back to java, the code will look like this.\r\n\r\n&lt;h3&gt;1) Approach--&gt;GraalVM&lt;/h3&gt;\r\ni want first to warn you that GraalVm it&#39;s a bit tricky to handle and in order to become familiar with it needs time thus if you want simplicity go to the second choice.\r\n\r\nAssuming you have everything set up correctly in your machine we can move on the llvm installation (you can follow this guide [here][2]). \r\n\r\nThe LLVM toolchain can be added to GraalVM on demand with the GraalVM Updater tool\r\n\r\n    $GRAALVM_HOME/bin/gu install llvm-toolchain\r\n\r\nThe above command will install the LLVM toolchain from the GitHub catalog for GraalVM Community users.\r\n\r\n    export LLVM_TOOLCHAIN=$($JAVA_HOME/bin/lli --print-toolchain-path)\r\n\r\n\r\n**Rust**\r\n\r\nLetâ€™s look at `rustpart.rs`, it is a standard Rust function that takes a number finds its cube root and returns it. But we do have to specify #[no_mangle] annotation and we cannot use any crates as well apparently. Simples functions with primitive args/output seem to work but more complex functions do not work when embedded:\r\n```rust\r\n    #[no_mangle]\r\n    fn cube_root(arg: f64) -&gt; f64 {\r\n        arg.cbrt()\r\n    }\r\n    \r\n    fn main(){}\r\n```\r\nWe compile the Rust source to binary code using rustc compiler with the `--emit=llvm-bc` flag:\r\n```bash\r\n    rustc --emit=llvm-bc rustpart.rs\r\n```\r\nit&#39;s important to notice that we will use the .bc generated file from java and not the .rs file\r\n\r\n**Java**\r\n\r\nNow let&#39;s move to the Java code simply add this dependency in your pom.xml\r\n\r\n     &lt;dependency&gt;\r\n                &lt;groupId&gt;org.graalvm.sdk&lt;/groupId&gt;\r\n                &lt;artifactId&gt;graal-sdk&lt;/artifactId&gt;\r\n                &lt;version&gt;22.2.0&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\nAnd the java code will look like this:\r\n```java\r\npackage io.example;\r\n\r\nimport org.graalvm.polyglot.Context;\r\nimport org.graalvm.polyglot.Source;\r\nimport org.graalvm.polyglot.Value;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\npublic class App3 {\r\n    public static void main(String[] args) throws IOException {\r\n        File file=new File(&quot;generated.bc&quot;);\r\n        Context context = Context.newBuilder().allowAllAccess(true).build();\r\n        Source source = Source.newBuilder(&quot;llvm&quot;, file).build();\r\n        context.eval(source);\r\n        Value ruspart= context.getBindings(&quot;llvm&quot;).getMember(&quot;cube_root&quot;);\r\n        Double cubeRoot = ruspart.execute(10).asDouble();\r\n        System.out.println(cubeRoot);\r\n    }\r\n}\r\n```\r\n\r\nEt Voila!!!! \r\n\r\n&lt;h3&gt;2) Approach--&gt;j4rs&lt;/h3&gt;\r\nFrom another point of view if simplicity and flexibility is the primary case you can use as alternative `j4rs`. I will dive into deep details.\r\n\r\n\r\n\r\n**Rust**\r\n\r\nThe rust lib.rs:\r\n\r\n```rust\r\nuse std::convert::TryFrom;\r\nuse std::result::Result;\r\n\r\nuse j4rs::InvocationArg;\r\nuse j4rs::prelude::*;\r\nuse j4rs_derive::*;\r\nuse serde::Deserialize;\r\n\r\n\r\n#[call_from_java(&quot;io.example.RustFunctionCalls.addintegers&quot;)]\r\npub extern fn add_integers(integer_instance1: Instance, integer_instance2: Instance) -&gt; Result&lt;Instance, String&gt; {\r\n    let jvm: Jvm = Jvm::attach_thread().unwrap();\r\n    let i1: i32 = jvm.to_rust(integer_instance1).unwrap();\r\n    let i2: i32 = jvm.to_rust(integer_instance2).unwrap();\r\n    let sum = i1 + i2;\r\n    let ia = InvocationArg::try_from(sum).map_err(|error| format!(&quot;{}&quot;, error)).unwrap();\r\n    Instance::try_from(ia).map_err(|error| format!(&quot;{}&quot;, error))\r\n}\r\n```\r\nThe cargo file:\r\n\r\n    [package]\r\n    name = &quot;rustlib&quot;\r\n    version = &quot;0.1.0&quot;\r\n    edition = &quot;2018&quot;\r\n    \r\n    \r\n    [[bin]]\r\n    name = &quot;lib&quot;\r\n    path = &quot;src/main.rs&quot;\r\n    \r\n    [build]\r\n    rustflags = [&quot;-C&quot;, &quot;target-cpu=native&quot;]\r\n    \r\n    [lib]\r\n    name = &quot;rustlib&quot;\r\n    path = &quot;src/lib.rs&quot;\r\n    crate-type = [&quot;cdylib&quot;]\r\n    \r\n    [dependencies]\r\n    j4rs = &quot;0.12&quot;\r\n    j4rs_derive = &quot;0.1&quot;\r\n    serde = { version = &quot;1.0&quot;, features = [&quot;derive&quot;] }\r\n\r\nWe execute the following command to produce the.dll library if we are on a windows  system:\r\n\r\n \r\n\r\n    cargo build --lib\r\n\r\nAfter that, we can observe the .dll file created under `target/debug` path\r\n\r\n**Java**\r\n\r\nWe include the following dependency in the pom.xml\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.github.astonbitecode&lt;/groupId&gt;\r\n        &lt;artifactId&gt;j4rs&lt;/artifactId&gt;\r\n        &lt;version&gt;0.12.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThe java code will look like this here are the RustFunctionCalls\r\n\r\n```java\r\npackage io.example;\r\n\r\nimport org.astonbitecode.j4rs.api.Instance;\r\nimport org.astonbitecode.j4rs.api.java2rust.Java2RustUtils;\r\n\r\n\r\npublic class RustFunctionCalls {\r\n\r\n    private static native Instance addintegers(Instance&lt;Integer&gt; i1, Instance&lt;Integer&gt; i2);\r\n\r\n\r\n    public Integer addInRust(Integer i1, Integer i2) {\r\n        Instance instance = addintegers(\r\n                Java2RustUtils.createInstance(i1),\r\n                Java2RustUtils.createInstance(i2));\r\n        return Java2RustUtils.getObjectCasted(instance);\r\n    }\r\n}\r\n```\r\nAnd here is the main that we call:\r\n```java\r\npackage io.example;\r\n\r\nimport java.io.File;\r\n\r\npublic class App3 {\r\n    public static void main(String[] args) {\r\n        File f = new File(App3.class.getResource(&quot;/rustlib.dll&quot;).getFile());\r\n        System.load(f.getAbsolutePath());\r\n        RustFunctionCalls rustFnCalls = new RustFunctionCalls();\r\n        Integer result=rustFnCalls.addInRust(1,2);\r\n        System.out.println(result);\r\n    }\r\n}\r\n```\r\nWith this simple example, you can make calls from java to rust\r\n\r\n\r\n  [1]: https://chrisseaton.com/rubytruffle/pldi17-truffle/pldi17-truffle.pdf\r\n  [2]: https://dev.to/fahadisrar/guide-to-install-graalvm-community-edition-on-ubuntu-38h8","title":"Calling Rust from Java","body":"<p>An alternative way and the most optimal way to call rust code from java is to use GraalVM. In my opinion, it's the best option if performance is the primary key thing in your case.</p>\n<p>GraalVM is a high-performance runtime that provides significant improvements in application performance and efficiency which is ideal for microservices. It is intended for applications created in dynamic languages java and Javascript as well as LLVM-based languages like C C++ and Rust. It breaks down the walls between programming languages and makes shared runtime interoperability possible. It can function independently or in conjunction with OpenJDK, Node.js, or Oracle Database.</p>\n<p>GraalVM can be used with OpenJDK to accelerate the performance of Java programs using a new just-in-time compilation technology. Java's bytecode is converted to machine code by GraalVM. This arrangement can be advantageous, especially for other JVM-based languages like Scala, as demonstrated by Twitter running GraalVM in production.</p>\n<p>The GraalVM compiler offers performance benefits for highly abstracted applications because it can frequently do away with expensive object allocations. Details can be found in this <a href=\"https://chrisseaton.com/rubytruffle/pldi17-truffle/pldi17-truffle.pdf\" rel=\"noreferrer\">study article</a>.</p>\n<p><em><strong>Lets code:</strong></em>\nAssuming we have an example that we want to call a function from java to rust with one/two arguments and get the result back to java, the code will look like this.</p>\n<h3>1) Approach-->GraalVM</h3>\ni want first to warn you that GraalVm it's a bit tricky to handle and in order to become familiar with it needs time thus if you want simplicity go to the second choice.\n<p>Assuming you have everything set up correctly in your machine we can move on the llvm installation (you can follow this guide <a href=\"https://dev.to/fahadisrar/guide-to-install-graalvm-community-edition-on-ubuntu-38h8\" rel=\"noreferrer\">here</a>).</p>\n<p>The LLVM toolchain can be added to GraalVM on demand with the GraalVM Updater tool</p>\n<pre><code>$GRAALVM_HOME/bin/gu install llvm-toolchain\n</code></pre>\n<p>The above command will install the LLVM toolchain from the GitHub catalog for GraalVM Community users.</p>\n<pre><code>export LLVM_TOOLCHAIN=$($JAVA_HOME/bin/lli --print-toolchain-path)\n</code></pre>\n<p><strong>Rust</strong></p>\n<p>Letâ€™s look at <code>rustpart.rs</code>, it is a standard Rust function that takes a number finds its cube root and returns it. But we do have to specify #[no_mangle] annotation and we cannot use any crates as well apparently. Simples functions with primitive args/output seem to work but more complex functions do not work when embedded:</p>\n<pre class=\"lang-rust prettyprint-override\"><code>    #[no_mangle]\n    fn cube_root(arg: f64) -&gt; f64 {\n        arg.cbrt()\n    }\n    \n    fn main(){}\n</code></pre>\n<p>We compile the Rust source to binary code using rustc compiler with the <code>--emit=llvm-bc</code> flag:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>    rustc --emit=llvm-bc rustpart.rs\n</code></pre>\n<p>it's important to notice that we will use the .bc generated file from java and not the .rs file</p>\n<p><strong>Java</strong></p>\n<p>Now let's move to the Java code simply add this dependency in your pom.xml</p>\n<pre><code> &lt;dependency&gt;\n            &lt;groupId&gt;org.graalvm.sdk&lt;/groupId&gt;\n            &lt;artifactId&gt;graal-sdk&lt;/artifactId&gt;\n            &lt;version&gt;22.2.0&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n<p>And the java code will look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package io.example;\n\nimport org.graalvm.polyglot.Context;\nimport org.graalvm.polyglot.Source;\nimport org.graalvm.polyglot.Value;\n\nimport java.io.File;\nimport java.io.IOException;\n\npublic class App3 {\n    public static void main(String[] args) throws IOException {\n        File file=new File(&quot;generated.bc&quot;);\n        Context context = Context.newBuilder().allowAllAccess(true).build();\n        Source source = Source.newBuilder(&quot;llvm&quot;, file).build();\n        context.eval(source);\n        Value ruspart= context.getBindings(&quot;llvm&quot;).getMember(&quot;cube_root&quot;);\n        Double cubeRoot = ruspart.execute(10).asDouble();\n        System.out.println(cubeRoot);\n    }\n}\n</code></pre>\n<p>Et Voila!!!!</p>\n<h3>2) Approach-->j4rs</h3>\nFrom another point of view if simplicity and flexibility is the primary case you can use as alternative `j4rs`. I will dive into deep details.\n<p><strong>Rust</strong></p>\n<p>The rust lib.rs:</p>\n<pre class=\"lang-rust prettyprint-override\"><code>use std::convert::TryFrom;\nuse std::result::Result;\n\nuse j4rs::InvocationArg;\nuse j4rs::prelude::*;\nuse j4rs_derive::*;\nuse serde::Deserialize;\n\n\n#[call_from_java(&quot;io.example.RustFunctionCalls.addintegers&quot;)]\npub extern fn add_integers(integer_instance1: Instance, integer_instance2: Instance) -&gt; Result&lt;Instance, String&gt; {\n    let jvm: Jvm = Jvm::attach_thread().unwrap();\n    let i1: i32 = jvm.to_rust(integer_instance1).unwrap();\n    let i2: i32 = jvm.to_rust(integer_instance2).unwrap();\n    let sum = i1 + i2;\n    let ia = InvocationArg::try_from(sum).map_err(|error| format!(&quot;{}&quot;, error)).unwrap();\n    Instance::try_from(ia).map_err(|error| format!(&quot;{}&quot;, error))\n}\n</code></pre>\n<p>The cargo file:</p>\n<pre><code>[package]\nname = &quot;rustlib&quot;\nversion = &quot;0.1.0&quot;\nedition = &quot;2018&quot;\n\n\n[[bin]]\nname = &quot;lib&quot;\npath = &quot;src/main.rs&quot;\n\n[build]\nrustflags = [&quot;-C&quot;, &quot;target-cpu=native&quot;]\n\n[lib]\nname = &quot;rustlib&quot;\npath = &quot;src/lib.rs&quot;\ncrate-type = [&quot;cdylib&quot;]\n\n[dependencies]\nj4rs = &quot;0.12&quot;\nj4rs_derive = &quot;0.1&quot;\nserde = { version = &quot;1.0&quot;, features = [&quot;derive&quot;] }\n</code></pre>\n<p>We execute the following command to produce the.dll library if we are on a windows  system:</p>\n<pre><code>cargo build --lib\n</code></pre>\n<p>After that, we can observe the .dll file created under <code>target/debug</code> path</p>\n<p><strong>Java</strong></p>\n<p>We include the following dependency in the pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.github.astonbitecode&lt;/groupId&gt;\n    &lt;artifactId&gt;j4rs&lt;/artifactId&gt;\n    &lt;version&gt;0.12.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The java code will look like this here are the RustFunctionCalls</p>\n<pre class=\"lang-java prettyprint-override\"><code>package io.example;\n\nimport org.astonbitecode.j4rs.api.Instance;\nimport org.astonbitecode.j4rs.api.java2rust.Java2RustUtils;\n\n\npublic class RustFunctionCalls {\n\n    private static native Instance addintegers(Instance&lt;Integer&gt; i1, Instance&lt;Integer&gt; i2);\n\n\n    public Integer addInRust(Integer i1, Integer i2) {\n        Instance instance = addintegers(\n                Java2RustUtils.createInstance(i1),\n                Java2RustUtils.createInstance(i2));\n        return Java2RustUtils.getObjectCasted(instance);\n    }\n}\n</code></pre>\n<p>And here is the main that we call:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package io.example;\n\nimport java.io.File;\n\npublic class App3 {\n    public static void main(String[] args) {\n        File f = new File(App3.class.getResource(&quot;/rustlib.dll&quot;).getFile());\n        System.load(f.getAbsolutePath());\n        RustFunctionCalls rustFnCalls = new RustFunctionCalls();\n        Integer result=rustFnCalls.addInRust(1,2);\n        System.out.println(result);\n    }\n}\n</code></pre>\n<p>With this simple example, you can make calls from java to rust</p>\n"}],"owner":{"account_id":295261,"reputation":4842,"user_id":599575,"accept_rate":97,"display_name":"Michael"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18992,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"accepted_answer_id":30259186,"answer_count":3,"score":49,"last_activity_date":1659037094,"creation_date":1431689467,"question_id":30258427,"body_markdown":"I am using Rust 1.0 beta and was able to create a small example for calling functions written in Rust from Java. I simply compiled the following Rust code in mylib.rs using rustc which produces a mylib.dll on Windows:\r\n\r\n    #![crate_type = &quot;dylib&quot;]\r\n    use std::any::Any;\r\n\r\n    #[no_mangle]\r\n    pub extern fn Java_tests_Test_hello(env: *const Any, jclass: *const Any) {\r\n        println!(&quot;hello from rust&quot;);\r\n    }\r\n\r\n    #[no_mangle]\r\n    pub extern fn Java_tests_Test_sum(env: *const Any, jclass: *const Any, a: i32, b: i32) -&gt; i32 {\r\n        return a + b;\r\n    }\r\n\r\nThen I can call these functions from a Java class tests.Test:\r\n\r\n    package tests;\r\n\r\n    import java.io.File;\r\n\r\n    public class Test {\r\n\r\n\t    public static native void hello();\r\n\r\n\t    public static native int sum(int a, int b);\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t    File f = new File(&quot;mylib.dll&quot;);\r\n\t\t    System.load(f.getAbsolutePath());\r\n\t\t    Test.hello();\r\n\t\t    System.out.println(Test.sum(20, 22));\r\n\t    }\r\n    }\r\nRunning the Java main prints the expected result:\r\n\r\n    hello from rust\r\n    42\r\n\r\nIn the Rust methods I declared `env` as a pointer to the `Any` type but in reality it is a C struct with pointers to functions as described in the [documentation (Code example 4-1)](http://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/functions.html) which are required to exchange data with the Java runtime. \r\n\r\nFrom this [answer](https://stackoverflow.com/a/26118378/599575) I understood that such structs with function pointers should have a counterpart in the Rust code to call these functions. So I tried to implement such a struct setting all field values to `*mut Any` except for the `GetVersion` field: \r\n\r\n    #[repr(C)]\r\n    pub struct JavaEnv {\r\n\r\n        reserved0: *mut Any,\r\n        reserved1: *mut Any,\r\n        reserved2: *mut Any,\r\n        reserved3: *mut Any,\r\n        GetVersion: extern &quot;C&quot; fn(env: *mut JavaEnv) -&gt; i32,\r\n\r\n        DefineClass: *mut Any,\r\n        FindClass: *mut Any,  \r\n        â€¦\r\n\r\nWhen I call the following function from Java which should call the GetVersion function, the JVM crashes:\r\n\r\n    #[no_mangle]\r\n    pub extern fn Java_tests_Test_helloJre(jre: *mut JavaEnv, class: *const Any) {\r\n        unsafe {\r\n            let v = ((*jre).GetVersion)(jre);\r\n            println!(&quot;version: {:?}&quot;, v);\r\n        }\r\n    }\r\n\r\nHow should I call the GetVersion function correctly? Note that I am really new to this kind of stuff so please feel free to edit this question if required.\r\n","title":"Calling Rust from Java","body":"<p>I am using Rust 1.0 beta and was able to create a small example for calling functions written in Rust from Java. I simply compiled the following Rust code in mylib.rs using rustc which produces a mylib.dll on Windows:</p>\n\n<pre><code>#![crate_type = \"dylib\"]\nuse std::any::Any;\n\n#[no_mangle]\npub extern fn Java_tests_Test_hello(env: *const Any, jclass: *const Any) {\n    println!(\"hello from rust\");\n}\n\n#[no_mangle]\npub extern fn Java_tests_Test_sum(env: *const Any, jclass: *const Any, a: i32, b: i32) -&gt; i32 {\n    return a + b;\n}\n</code></pre>\n\n<p>Then I can call these functions from a Java class tests.Test:</p>\n\n<pre><code>package tests;\n\nimport java.io.File;\n\npublic class Test {\n\n    public static native void hello();\n\n    public static native int sum(int a, int b);\n\n    public static void main(String[] args) {\n        File f = new File(\"mylib.dll\");\n        System.load(f.getAbsolutePath());\n        Test.hello();\n        System.out.println(Test.sum(20, 22));\n    }\n}\n</code></pre>\n\n<p>Running the Java main prints the expected result:</p>\n\n<pre><code>hello from rust\n42\n</code></pre>\n\n<p>In the Rust methods I declared <code>env</code> as a pointer to the <code>Any</code> type but in reality it is a C struct with pointers to functions as described in the <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/functions.html\" rel=\"noreferrer\">documentation (Code example 4-1)</a> which are required to exchange data with the Java runtime. </p>\n\n<p>From this <a href=\"https://stackoverflow.com/a/26118378/599575\">answer</a> I understood that such structs with function pointers should have a counterpart in the Rust code to call these functions. So I tried to implement such a struct setting all field values to <code>*mut Any</code> except for the <code>GetVersion</code> field: </p>\n\n<pre><code>#[repr(C)]\npub struct JavaEnv {\n\n    reserved0: *mut Any,\n    reserved1: *mut Any,\n    reserved2: *mut Any,\n    reserved3: *mut Any,\n    GetVersion: extern \"C\" fn(env: *mut JavaEnv) -&gt; i32,\n\n    DefineClass: *mut Any,\n    FindClass: *mut Any,  \n    â€¦\n</code></pre>\n\n<p>When I call the following function from Java which should call the GetVersion function, the JVM crashes:</p>\n\n<pre><code>#[no_mangle]\npub extern fn Java_tests_Test_helloJre(jre: *mut JavaEnv, class: *const Any) {\n    unsafe {\n        let v = ((*jre).GetVersion)(jre);\n        println!(\"version: {:?}\", v);\n    }\n}\n</code></pre>\n\n<p>How should I call the GetVersion function correctly? Note that I am really new to this kind of stuff so please feel free to edit this question if required.</p>\n"},{"tags":["java","android","firebase","android-layout","android-recyclerview"],"comments":[{"owner":{"account_id":2643177,"reputation":995,"user_id":2286422,"display_name":"Myroslav"},"score":0,"creation_date":1659037809,"post_id":73158331,"comment_id":129206708,"body_markdown":"I think the problem is that you create instance of CardAdapteur in asynchronous call, so it&#39;s created after you set adapter in RecyclerView. This means that RecyclerView is initialized with adapter, which has null value.","body":"I think the problem is that you create instance of CardAdapteur in asynchronous call, so it&#39;s created after you set adapter in RecyclerView. This means that RecyclerView is initialized with adapter, which has null value."},{"owner":{"account_id":25920425,"reputation":1,"user_id":19643159,"display_name":"Anonyme"},"score":0,"creation_date":1659049400,"post_id":73158331,"comment_id":129209624,"body_markdown":"@Myroslav Thank you for your answer I also think that the LayoutManager should be placed before the creation of the adapter. So I put just after the onCreate but that does not change the error :(.   ```@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_create_card);\n\n        recyclerView = findViewById(R.id.recyclerViewModelCard);\n        mImageView = findViewById(R.id.imageCard);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));```","body":"@Myroslav Thank you for your answer I also think that the LayoutManager should be placed before the creation of the adapter. So I put just after the onCreate but that does not change the error :(.   <code>@Override     protected void onCreate(Bundle savedInstanceState) {         super.onCreate(savedInstanceState);         setContentView(R.layout.activity_create_card);          recyclerView = findViewById(R.id.recyclerViewModelCard);         mImageView = findViewById(R.id.imageCard);         recyclerView.setLayoutManager(new LinearLayoutManager(this));</code>"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1659092663,"post_id":73158331,"comment_id":129218919,"body_markdown":"So have you solved the problem? Please respond using @AlexMamo","body":"So have you solved the problem? Please respond using @AlexMamo"},{"owner":{"account_id":2643177,"reputation":995,"user_id":2286422,"display_name":"Myroslav"},"score":0,"creation_date":1659164531,"post_id":73158331,"comment_id":129232388,"body_markdown":"Ok, below may be not the best solution, but it should help. Please put those 3 lines `layoutManager = new LinearLayoutManager(this);\n        recyclerView.setLayoutManager(layoutManager);\n        recyclerView.setAdapter(cardAdapteur);` after `cardAdapteur = new CardAdapteur(CreateCard.this,cardModelArrayList );`","body":"Ok, below may be not the best solution, but it should help. Please put those 3 lines <code>layoutManager = new LinearLayoutManager(this);         recyclerView.setLayoutManager(layoutManager);         recyclerView.setAdapter(cardAdapteur);</code> after <code>cardAdapteur = new CardAdapteur(CreateCard.this,cardModelArrayList );</code>"},{"owner":{"account_id":25920425,"reputation":1,"user_id":19643159,"display_name":"Anonyme"},"score":0,"creation_date":1659182639,"post_id":73158331,"comment_id":129235694,"body_markdown":"@AlexMamo Hi, yes I just solved the problem is that I was missing a Layout for it to work. I was looking to put my imageView and my recyclerView on the same Layout so it couldn&#39;t exist to fit it. Thanks for your help ;)","body":"@AlexMamo Hi, yes I just solved the problem is that I was missing a Layout for it to work. I was looking to put my imageView and my recyclerView on the same Layout so it couldn&#39;t exist to fit it. Thanks for your help ;)"},{"owner":{"account_id":25920425,"reputation":1,"user_id":19643159,"display_name":"Anonyme"},"score":0,"creation_date":1659182667,"post_id":73158331,"comment_id":129235698,"body_markdown":"@Myroslav Hi, yes I just solved the problem is that I was missing a Layout for it to work. I was looking to put my imageView and my recyclerView on the same Layout so it couldn&#39;t exist to fit it. Thanks for your help ;)","body":"@Myroslav Hi, yes I just solved the problem is that I was missing a Layout for it to work. I was looking to put my imageView and my recyclerView on the same Layout so it couldn&#39;t exist to fit it. Thanks for your help ;)"}],"owner":{"account_id":25920425,"reputation":1,"user_id":19643159,"display_name":"Anonyme"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659037051,"creation_date":1659037051,"question_id":73158331,"body_markdown":"I have a problem if u want see and help me ;)\r\nI&#39;m a student and I don&#39;t understand why my recyclerView has a null result.\r\nIf you have a solution it will be appreciated.\r\n\r\nThe Glide annotation in the adapter is an idea because the goal I am looking to do is to retrieve inforamations (url) from Firebase cloud then to store this url in a list then use Glide in order to retrieve the imae instead of url. If you think there is better to do then I am here to learn :)\r\n\r\n\r\nThanks\r\n\r\nmy Holder :\r\n\r\n```package fr.jaroddeveloppement.vistacard.model.recyclerview;\r\n\r\nimport android.view.View;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport fr.jaroddeveloppement.vistacard.R;\r\n\r\npublic class HolderCard extends RecyclerView.ViewHolder {\r\n\r\n    public TextView mImageView;\r\n\r\n\r\n\r\n    public HolderCard(@NonNull View itemView) {\r\n        super(itemView);\r\n        mImageView = itemView.findViewById(R.id.imageCard);\r\n    }\r\n}\r\n```\r\n\r\nmy Adapter : \r\n\r\n```package fr.jaroddeveloppement.vistacard.model.adapter;\r\n\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.ArrayList;\r\n\r\nimport fr.jaroddeveloppement.vistacard.R;\r\nimport fr.jaroddeveloppement.vistacard.activity.CreateCard;\r\nimport fr.jaroddeveloppement.vistacard.model.CardModel;\r\nimport fr.jaroddeveloppement.vistacard.model.recyclerview.HolderCard;\r\n\r\npublic class CardAdapteur extends RecyclerView.Adapter&lt;HolderCard&gt; {\r\n\r\n\r\n    CreateCard createCard;\r\n    ArrayList&lt;CardModel&gt; mCardModelArrayList;\r\n    private static final String Tag =&quot;RecyclerView&quot;;\r\n\r\n    String url;\r\n\r\n    /** constructor\r\n     * @param pCreateCard\r\n     * @param pCardModelArrayList\r\n     */\r\n    public CardAdapteur(CreateCard pCreateCard, ArrayList&lt;CardModel&gt; pCardModelArrayList) {\r\n        createCard = pCreateCard;\r\n        mCardModelArrayList = pCardModelArrayList;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public HolderCard onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n\r\n        View lvView = LayoutInflater.from(parent.getContext()).inflate(R.layout.activity_create_card, parent, false);\r\n        return new HolderCard(lvView);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull HolderCard holder, int position) {\r\n\r\n        CardModel cardModel = mCardModelArrayList.get(position);\r\n\r\n        holder.mImageView.setText(cardModel.getUrl());\r\n        //Glide.with(mContext).load(mCardModelArrayList.get(position).getQuery()).into(holder.mImageView);\r\n    }\r\n\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return mCardModelArrayList.size();\r\n    }\r\n}\r\n```\r\n\r\nMy Activity :\r\n```/*\r\n * Copyright (c) 2022.\r\n */\r\n\r\npackage fr.jaroddeveloppement.vistacard.activity;\r\n\r\n\r\n\r\nimport static android.app.PendingIntent.getActivity;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\n\r\nimport android.os.Bundle;\r\n\r\n;\r\n\r\nimport android.view.View;\r\nimport android.widget.TextView;\r\n\r\n\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.QuerySnapshot;\r\n\r\n\r\nimport java.util.ArrayList;\r\n\r\nimport fr.jaroddeveloppement.vistacard.R;\r\nimport fr.jaroddeveloppement.vistacard.model.CardModel;\r\nimport fr.jaroddeveloppement.vistacard.model.adapter.CardAdapteur;\r\n\r\n\r\n\r\npublic class CreateCard extends AppCompatActivity  {\r\n\r\n\r\n    TextView mImageView;\r\n    RecyclerView recyclerView;\r\n    FirebaseFirestore mFirebaseFirestore;\r\n    CardAdapteur cardAdapteur;\r\n    ArrayList&lt;CardModel&gt; cardModelArrayList = new ArrayList&lt;&gt;();\r\n    private RecyclerView.LayoutManager layoutManager;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_create_card);\r\n\r\n        mImageView = findViewById(R.id.imageCard);\r\n\r\n\r\n        mFirebaseFirestore = FirebaseFirestore.getInstance();\r\n\r\n        recyclerView = (RecyclerView) findViewById(R.id.recyclerViewModelCard);\r\n\r\n\r\n        //setUpRecyclerView();\r\n\r\n        GetDataFromFirebase();\r\n        layoutManager = new LinearLayoutManager(this);\r\n        recyclerView.setLayoutManager(layoutManager);\r\n        recyclerView.setAdapter(cardAdapteur);\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    public void setUpRecyclerView(){\r\n\r\n        recyclerView.setHasFixedSize(true);\r\n\r\n\r\n    }\r\n    public void GetDataFromFirebase() {\r\n\r\n     mFirebaseFirestore.collection(&quot;ModelCard&quot;).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n         @Override\r\n         public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n             for (DocumentSnapshot doc :task.getResult()){\r\n                 CardModel cardModel = new CardModel(doc.getString(&quot;url&quot;));\r\n                 cardModel.getUrl();\r\n\r\n\r\n                 cardModelArrayList.add(cardModel);\r\n             }\r\n\r\n             cardAdapteur = new CardAdapteur(CreateCard.this,cardModelArrayList );\r\n\r\n         }\r\n     });\r\n\r\n    }\r\n}\r\n```\r\nand my xml :\r\n\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n\r\nandroid:layout_width=&quot;match_parent&quot;\r\nandroid:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n&lt;LinearLayout\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:gravity=&quot;center&quot;&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/recyclerViewModelCard&quot;/&gt;\r\n&lt;/LinearLayout&gt;\r\n\r\n\r\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;```\r\n","title":"Attempt to invoke virtual method void androidx.recyclerview.widget.RecyclerView.setLayoutManager","body":"<p>I have a problem if u want see and help me ;)\nI'm a student and I don't understand why my recyclerView has a null result.\nIf you have a solution it will be appreciated.</p>\n<p>The Glide annotation in the adapter is an idea because the goal I am looking to do is to retrieve inforamations (url) from Firebase cloud then to store this url in a list then use Glide in order to retrieve the imae instead of url. If you think there is better to do then I am here to learn :)</p>\n<p>Thanks</p>\n<p>my Holder :</p>\n<pre><code>\nimport android.view.View;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport fr.jaroddeveloppement.vistacard.R;\n\npublic class HolderCard extends RecyclerView.ViewHolder {\n\n    public TextView mImageView;\n\n\n\n    public HolderCard(@NonNull View itemView) {\n        super(itemView);\n        mImageView = itemView.findViewById(R.id.imageCard);\n    }\n}\n</code></pre>\n<p>my Adapter :</p>\n<pre><code>\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\n\nimport fr.jaroddeveloppement.vistacard.R;\nimport fr.jaroddeveloppement.vistacard.activity.CreateCard;\nimport fr.jaroddeveloppement.vistacard.model.CardModel;\nimport fr.jaroddeveloppement.vistacard.model.recyclerview.HolderCard;\n\npublic class CardAdapteur extends RecyclerView.Adapter&lt;HolderCard&gt; {\n\n\n    CreateCard createCard;\n    ArrayList&lt;CardModel&gt; mCardModelArrayList;\n    private static final String Tag =&quot;RecyclerView&quot;;\n\n    String url;\n\n    /** constructor\n     * @param pCreateCard\n     * @param pCardModelArrayList\n     */\n    public CardAdapteur(CreateCard pCreateCard, ArrayList&lt;CardModel&gt; pCardModelArrayList) {\n        createCard = pCreateCard;\n        mCardModelArrayList = pCardModelArrayList;\n    }\n\n\n\n\n\n    @NonNull\n    @Override\n    public HolderCard onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n        View lvView = LayoutInflater.from(parent.getContext()).inflate(R.layout.activity_create_card, parent, false);\n        return new HolderCard(lvView);\n    }\n\n\n    @Override\n    public void onBindViewHolder(@NonNull HolderCard holder, int position) {\n\n        CardModel cardModel = mCardModelArrayList.get(position);\n\n        holder.mImageView.setText(cardModel.getUrl());\n        //Glide.with(mContext).load(mCardModelArrayList.get(position).getQuery()).into(holder.mImageView);\n    }\n\n\n    @Override\n    public int getItemCount() {\n        return mCardModelArrayList.size();\n    }\n}\n</code></pre>\n<p>My Activity :</p>\n<pre><code> * Copyright (c) 2022.\n */\n\npackage fr.jaroddeveloppement.vistacard.activity;\n\n\n\nimport static android.app.PendingIntent.getActivity;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\n\nimport android.os.Bundle;\n\n;\n\nimport android.view.View;\nimport android.widget.TextView;\n\n\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.firestore.DocumentSnapshot;\nimport com.google.firebase.firestore.FirebaseFirestore;\nimport com.google.firebase.firestore.QuerySnapshot;\n\n\nimport java.util.ArrayList;\n\nimport fr.jaroddeveloppement.vistacard.R;\nimport fr.jaroddeveloppement.vistacard.model.CardModel;\nimport fr.jaroddeveloppement.vistacard.model.adapter.CardAdapteur;\n\n\n\npublic class CreateCard extends AppCompatActivity  {\n\n\n    TextView mImageView;\n    RecyclerView recyclerView;\n    FirebaseFirestore mFirebaseFirestore;\n    CardAdapteur cardAdapteur;\n    ArrayList&lt;CardModel&gt; cardModelArrayList = new ArrayList&lt;&gt;();\n    private RecyclerView.LayoutManager layoutManager;\n\n\n\n\n\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_create_card);\n\n        mImageView = findViewById(R.id.imageCard);\n\n\n        mFirebaseFirestore = FirebaseFirestore.getInstance();\n\n        recyclerView = (RecyclerView) findViewById(R.id.recyclerViewModelCard);\n\n\n        //setUpRecyclerView();\n\n        GetDataFromFirebase();\n        layoutManager = new LinearLayoutManager(this);\n        recyclerView.setLayoutManager(layoutManager);\n        recyclerView.setAdapter(cardAdapteur);\n\n\n\n\n\n    }\n\n    public void setUpRecyclerView(){\n\n        recyclerView.setHasFixedSize(true);\n\n\n    }\n    public void GetDataFromFirebase() {\n\n     mFirebaseFirestore.collection(&quot;ModelCard&quot;).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n         @Override\n         public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n             for (DocumentSnapshot doc :task.getResult()){\n                 CardModel cardModel = new CardModel(doc.getString(&quot;url&quot;));\n                 cardModel.getUrl();\n\n\n                 cardModelArrayList.add(cardModel);\n             }\n\n             cardAdapteur = new CardAdapteur(CreateCard.this,cardModelArrayList );\n\n         }\n     });\n\n    }\n}\n</code></pre>\n<p>and my xml :</p>\n<pre><code>&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;&gt;\n\n&lt;LinearLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;vertical&quot;\n    android:gravity=&quot;center&quot;&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/recyclerViewModelCard&quot;/&gt;\n&lt;/LinearLayout&gt;\n\n\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;```\n</code></pre>\n"},{"tags":["java","ftp","apache-commons","ftp-client","ftplib"],"comments":[{"owner":{"account_id":73100,"reputation":3555,"user_id":210713,"accept_rate":78,"display_name":"TedTrippin"},"score":0,"creation_date":1377623031,"post_id":15790074,"comment_id":27149388,"body_markdown":"Eich&#39;s answer worked for me. And I deeply suspect you are doing something wrong Raja as you stated 1.4.1 was the current version but that version was released in 2005, 3.2 was the current version the day of your comment.","body":"Eich&#39;s answer worked for me. And I deeply suspect you are doing something wrong Raja as you stated 1.4.1 was the current version but that version was released in 2005, 3.2 was the current version the day of your comment."}],"answers":[{"tags":[],"owner":{"account_id":1530673,"reputation":3748,"user_id":1427942,"display_name":"Eich"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1482926290,"creation_date":1365000999,"answer_id":15790839,"question_id":15790074,"body_markdown":"Try to use [`passive mode`](http://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#enterLocalPassiveMode%28%29). I assume that you are using the newest [commons net](http://commons.apache.org/proper/commons-net/) library (you didn&#39;t write which lib you are using).\r\n\r\n-------------\r\nNext approach, try to change the file list layout. The commons lib uses auto-detection but in some cases this doesn&#39;t work. You can change (and test) another file list layout as followed:\r\n\r\n    FTPClientConfig configuration = new FTPClientConfig(FTPClientConfig.TEST_YOURSELF);\r\n\r\n    FTPClient yourClient = FTPClient(...);\r\n    client.configure(conf);","title":"FTPClient.listFiles not working","body":"<p>Try to use <a href=\"http://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#enterLocalPassiveMode%28%29\" rel=\"noreferrer\"><code>passive mode</code></a>. I assume that you are using the newest <a href=\"http://commons.apache.org/proper/commons-net/\" rel=\"noreferrer\">commons net</a> library (you didn't write which lib you are using).</p>\n\n<hr>\n\n<p>Next approach, try to change the file list layout. The commons lib uses auto-detection but in some cases this doesn't work. You can change (and test) another file list layout as followed:</p>\n\n<pre><code>FTPClientConfig configuration = new FTPClientConfig(FTPClientConfig.TEST_YOURSELF);\n\nFTPClient yourClient = FTPClient(...);\nclient.configure(conf);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16567032,"reputation":785,"user_id":11971304,"display_name":"mahee96"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1589327814,"creation_date":1589327814,"answer_id":61764034,"question_id":15790074,"body_markdown":"To add to above answers the enterLocalPassiveMode() method should be called after connect() and before login(). Any other way I couldn&#39;t get mine to work. This testing was based on another answer as specified here: https://stackoverflow.com/a/5183296/11971304\r\n\r\n\r\n```\r\n            client.connect(host, port);\r\n            client.enterLocalPassiveMode();\r\n            if (!client.login(username, password)) {\r\n                throw new LoginException(&quot;wrong credentials&quot;);\r\n            }\r\n","title":"FTPClient.listFiles not working","body":"<p>To add to above answers the enterLocalPassiveMode() method should be called after connect() and before login(). Any other way I couldn't get mine to work. This testing was based on another answer as specified here: <a href=\"https://stackoverflow.com/a/5183296/11971304\">https://stackoverflow.com/a/5183296/11971304</a></p>\n\n<pre><code>            client.connect(host, port);\n            client.enterLocalPassiveMode();\n            if (!client.login(username, password)) {\n                throw new LoginException(\"wrong credentials\");\n            }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2293620,"reputation":67,"user_id":2015688,"display_name":"Tinh Cao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659036849,"creation_date":1659036849,"answer_id":73158299,"question_id":15790074,"body_markdown":"I have same issue, with same source code, it&#39;s running fine when I run it via IDE (IntelliJ), but when run in server, it always return no file while trying to call `ftpClient.listFiles()`\r\n\r\nMy fix is active `Local Passive Mode` after connect to FTP server.\r\n\r\n    ftpClient.connect(&quot;FTP_server_address&quot;);\r\n    ftpClient.enterLocalPassiveMode();","title":"FTPClient.listFiles not working","body":"<p>I have same issue, with same source code, it's running fine when I run it via IDE (IntelliJ), but when run in server, it always return no file while trying to call <code>ftpClient.listFiles()</code></p>\n<p>My fix is active <code>Local Passive Mode</code> after connect to FTP server.</p>\n<pre><code>ftpClient.connect(&quot;FTP_server_address&quot;);\nftpClient.enterLocalPassiveMode();\n</code></pre>\n"}],"owner":{"account_id":2055885,"reputation":315,"user_id":1833666,"accept_rate":6,"display_name":"Raja"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13649,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":3,"score":8,"last_activity_date":1659036849,"creation_date":1364999075,"question_id":15790074,"body_markdown":"I am trying to list all the files under a specific directory in a ftp server.\r\n\r\n   \r\n\r\n    FTPFile[] subFiles = ftpClient.listFiles(&quot;directory&quot;);\r\n\r\n\r\nAlthough the directory is a valid one , but the code gets stuck while calling listFiles , what may be the reason. ? Further i would like to mention that a seperate netbeans project accessing the same FTP server is working fine with the same code , but a maven project is having the problem.\r\nplease help.","title":"FTPClient.listFiles not working","body":"<p>I am trying to list all the files under a specific directory in a ftp server.</p>\n\n<pre><code>FTPFile[] subFiles = ftpClient.listFiles(\"directory\");\n</code></pre>\n\n<p>Although the directory is a valid one , but the code gets stuck while calling listFiles , what may be the reason. ? Further i would like to mention that a seperate netbeans project accessing the same FTP server is working fine with the same code , but a maven project is having the problem.\nplease help.</p>\n"},{"tags":["java","spring","selenium","cucumber","testng"],"answers":[{"tags":[],"owner":{"account_id":6936317,"reputation":4279,"user_id":5324105,"display_name":"Rahul L"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1604914055,"creation_date":1604909278,"answer_id":64747835,"question_id":64743525,"body_markdown":"Change the PageObject annotation and add @Scope(&quot;prototype&quot;) [Refer][1]\r\n\r\n    @Retention(RUNTIME)\r\n    @Target({ElementType.FIELD, ElementType.TYPE})\r\n    @PageFactoryFinder(FindBy.FindByBuilder.class)\r\n    @Lazy\r\n    @Component\r\n    @Scope(&quot;prototype&quot;)\r\n    public @interface PageObject {\r\n    }\r\n\r\nNow for each scenario you should get the new instance of page object .\r\n\r\nAlso I may prefer to have some changes in DriverManager e.g.\r\n\r\n    driverThreadLocal.set(new FirefoxDriver(firefoxOptions));\r\n    driverWaitThreadLocal.set(new WebDriverWait(driverThreadLocal.get(), 10, 500));\r\n\r\n\r\nYou can remove this logic of cleaning the drivers \r\n\r\n  try {\r\n        Runtime.getRuntime().addShutdownHook(CLOSE_THREAD);\r\n    }catch(Exception ex){\r\n        System.out.println(&quot;ex.getMessage() = &quot; + ex.getMessage());\r\n    }\r\n\r\nMove Driver.Quit to Hooks.java https://github.com/cmccarthyIrl/spring-cucumber-test-harness/blob/testng/wikipedia/src/test/java/com/cmccarthy/step/Hooks.java\r\n\r\n\r\n      @After\r\n        public void afterScenario(Scenario scenario) {\r\n            hookUtil.endOfTest(StringUtils.capitalize(scenario.getStatus().toString()));\r\n            driverManager.getDriver().quit();\r\n        }\r\n\r\n \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch04s04.html?","title":"Cant run Cucumber tests in parallel using TestNG and SpringBootTest","body":"<p>Change the PageObject annotation and add @Scope(&quot;prototype&quot;) <a href=\"https://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch04s04.html?\" rel=\"nofollow noreferrer\">Refer</a></p>\n<pre><code>@Retention(RUNTIME)\n@Target({ElementType.FIELD, ElementType.TYPE})\n@PageFactoryFinder(FindBy.FindByBuilder.class)\n@Lazy\n@Component\n@Scope(&quot;prototype&quot;)\npublic @interface PageObject {\n}\n</code></pre>\n<p>Now for each scenario you should get the new instance of page object .</p>\n<p>Also I may prefer to have some changes in DriverManager e.g.</p>\n<pre><code>driverThreadLocal.set(new FirefoxDriver(firefoxOptions));\ndriverWaitThreadLocal.set(new WebDriverWait(driverThreadLocal.get(), 10, 500));\n</code></pre>\n<p>You can remove this logic of cleaning the drivers</p>\n<p>try {\nRuntime.getRuntime().addShutdownHook(CLOSE_THREAD);\n}catch(Exception ex){\nSystem.out.println(&quot;ex.getMessage() = &quot; + ex.getMessage());\n}</p>\n<p>Move Driver.Quit to Hooks.java <a href=\"https://github.com/cmccarthyIrl/spring-cucumber-test-harness/blob/testng/wikipedia/src/test/java/com/cmccarthy/step/Hooks.java\" rel=\"nofollow noreferrer\">https://github.com/cmccarthyIrl/spring-cucumber-test-harness/blob/testng/wikipedia/src/test/java/com/cmccarthy/step/Hooks.java</a></p>\n<pre><code>  @After\n    public void afterScenario(Scenario scenario) {\n        hookUtil.endOfTest(StringUtils.capitalize(scenario.getStatus().toString()));\n        driverManager.getDriver().quit();\n    }\n</code></pre>\n"}],"owner":{"account_id":14361301,"reputation":89,"user_id":13689608,"display_name":"KahunaDub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64747835,"answer_count":1,"score":0,"last_activity_date":1659036580,"creation_date":1604873259,"question_id":64743525,"body_markdown":"I&#39;m trying to run 2 Cucumber tests in parallel using TestNG and SpringBootTest but when my tests execute the following happens\r\n\r\n - 2 browsers open and both navigate to the Wikipedia homepage. \r\n - 1 browser continues the test, the other stays on the homepage\r\n - 1 test passes and the other fails\r\n\r\nI&#39;m not sure why one test stops executing, any help would be welcome. \r\n\r\nRepo : https://github.com/cmccarthyIrl/spring-cucumber-testng-parallel-test-harness\r\n\r\nTest Runner\r\n\r\n    @CucumberOptions(\r\n    \t\tfeatures = {\r\n    \t\t\t\t&quot;src/test/resources/feature/&quot;\r\n    \t\t},\r\n    \t\tplugin = {\r\n    \t\t\t\t&quot;pretty&quot;,\r\n    \t\t\t\t&quot;html:target/cucumber/report-html&quot;,\r\n    \t\t\t\t&quot;json:target/cucumber/report.json&quot;,\r\n    \t\t\t\t&quot;junit:target/cucumber/junit_report.xml&quot;,\r\n    \t\t\t\t&quot;timeline:target/cucumber/timeline&quot;\r\n    \t\t})\r\n    public class ParallelRunner extends AbstractTestNGCucumberTests {\r\n    \r\n    \t@Override\r\n    \t@DataProvider(parallel = true)\r\n    \tpublic Object[][] scenarios() {\r\n    \t\treturn super.scenarios();\r\n    \t}\r\n    \r\n    }\r\n\r\nDriverManager Class\r\n\r\n    @Component\r\n    public class DriverManager {\r\n    \r\n        private WebDriver webDriver;\r\n        private Wait&lt;WebDriver&gt; webDriverWait;\r\n        private static ThreadLocal&lt;WebDriver&gt; driverThreadLocal = new ThreadLocal&lt;&gt;();\r\n        private static ThreadLocal&lt;Wait&lt;WebDriver&gt;&gt; driverWaitThreadLocal = new ThreadLocal&lt;&gt;();\r\n    \r\n        @Autowired\r\n        private ApplicationProperties applicationProperties;\r\n    \r\n        public void driverManager() {\r\n            if (getDriver() == null) {\r\n                setLocalWebDriver();\r\n            }\r\n        }\r\n    \r\n        public void setLocalWebDriver() {\r\n            switch (applicationProperties.getBrowser()) {\r\n    ...\r\n                case (&quot;firefox&quot;):\r\n                    System.setProperty(&quot;webdriver.gecko.driver&quot;, System.getProperty(&quot;user.dir&quot;) + &quot;/src/test/resources/geckodriver&quot;);\r\n                    FirefoxOptions firefoxOptions = new FirefoxOptions();\r\n    //                firefoxOptions.setHeadless(true);\r\n                    firefoxOptions.setCapability(&quot;marionette&quot;, true);\r\n    \r\n                    webDriver = new FirefoxDriver(firefoxOptions);\r\n                    break;\r\n           ...\r\n                default:\r\n                    throw new NoSuchElementException(&quot;Failed to create an instance of WebDriver for: &quot; + applicationProperties.getBrowser());\r\n            }\r\n            driverThreadLocal.set(webDriver);\r\n            webDriverWait = new WebDriverWait(webDriver, 10, 500);\r\n            driverWaitThreadLocal.set(webDriverWait);\r\n            try {\r\n                Runtime.getRuntime().addShutdownHook(CLOSE_THREAD);\r\n            }catch(Exception ex){\r\n                System.out.println(&quot;ex.getMessage() = &quot; + ex.getMessage());\r\n            }\r\n        }\r\n    \r\n        ...","title":"Cant run Cucumber tests in parallel using TestNG and SpringBootTest","body":"<p>I'm trying to run 2 Cucumber tests in parallel using TestNG and SpringBootTest but when my tests execute the following happens</p>\n<ul>\n<li>2 browsers open and both navigate to the Wikipedia homepage.</li>\n<li>1 browser continues the test, the other stays on the homepage</li>\n<li>1 test passes and the other fails</li>\n</ul>\n<p>I'm not sure why one test stops executing, any help would be welcome.</p>\n<p>Repo : <a href=\"https://github.com/cmccarthyIrl/spring-cucumber-testng-parallel-test-harness\" rel=\"nofollow noreferrer\">https://github.com/cmccarthyIrl/spring-cucumber-testng-parallel-test-harness</a></p>\n<p>Test Runner</p>\n<pre><code>@CucumberOptions(\n        features = {\n                &quot;src/test/resources/feature/&quot;\n        },\n        plugin = {\n                &quot;pretty&quot;,\n                &quot;html:target/cucumber/report-html&quot;,\n                &quot;json:target/cucumber/report.json&quot;,\n                &quot;junit:target/cucumber/junit_report.xml&quot;,\n                &quot;timeline:target/cucumber/timeline&quot;\n        })\npublic class ParallelRunner extends AbstractTestNGCucumberTests {\n\n    @Override\n    @DataProvider(parallel = true)\n    public Object[][] scenarios() {\n        return super.scenarios();\n    }\n\n}\n</code></pre>\n<p>DriverManager Class</p>\n<pre><code>@Component\npublic class DriverManager {\n\n    private WebDriver webDriver;\n    private Wait&lt;WebDriver&gt; webDriverWait;\n    private static ThreadLocal&lt;WebDriver&gt; driverThreadLocal = new ThreadLocal&lt;&gt;();\n    private static ThreadLocal&lt;Wait&lt;WebDriver&gt;&gt; driverWaitThreadLocal = new ThreadLocal&lt;&gt;();\n\n    @Autowired\n    private ApplicationProperties applicationProperties;\n\n    public void driverManager() {\n        if (getDriver() == null) {\n            setLocalWebDriver();\n        }\n    }\n\n    public void setLocalWebDriver() {\n        switch (applicationProperties.getBrowser()) {\n...\n            case (&quot;firefox&quot;):\n                System.setProperty(&quot;webdriver.gecko.driver&quot;, System.getProperty(&quot;user.dir&quot;) + &quot;/src/test/resources/geckodriver&quot;);\n                FirefoxOptions firefoxOptions = new FirefoxOptions();\n//                firefoxOptions.setHeadless(true);\n                firefoxOptions.setCapability(&quot;marionette&quot;, true);\n\n                webDriver = new FirefoxDriver(firefoxOptions);\n                break;\n       ...\n            default:\n                throw new NoSuchElementException(&quot;Failed to create an instance of WebDriver for: &quot; + applicationProperties.getBrowser());\n        }\n        driverThreadLocal.set(webDriver);\n        webDriverWait = new WebDriverWait(webDriver, 10, 500);\n        driverWaitThreadLocal.set(webDriverWait);\n        try {\n            Runtime.getRuntime().addShutdownHook(CLOSE_THREAD);\n        }catch(Exception ex){\n            System.out.println(&quot;ex.getMessage() = &quot; + ex.getMessage());\n        }\n    }\n\n    ...\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb"],"comments":[{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1658947598,"post_id":73142620,"comment_id":129181485,"body_markdown":"Can you successfully make *any* DynamoDB API calls e.g. to list tables or describe a given table (some action/resource for which you have permission)? Was this code working prior to the schema change and your updated query code?","body":"Can you successfully make <i>any</i> DynamoDB API calls e.g. to list tables or describe a given table (some action/resource for which you have permission)? Was this code working prior to the schema change and your updated query code?"},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1658948032,"post_id":73142620,"comment_id":129181621,"body_markdown":"Move to V2 if possible. V1 not Amazon recommended anymore","body":"Move to V2 if possible. V1 not Amazon recommended anymore"},{"owner":{"account_id":25910501,"reputation":3,"user_id":19634845,"display_name":"DA_C5_012"},"score":0,"creation_date":1658948154,"post_id":73142620,"comment_id":129181668,"body_markdown":"Jarmod, Thanks for the response. I just tried this with listing tables, and it threw the same error.","body":"Jarmod, Thanks for the response. I just tried this with listing tables, and it threw the same error."},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1658948666,"post_id":73142620,"comment_id":129181822,"body_markdown":"This means you depedencies are messed up. How are you adding them to your project?","body":"This means you depedencies are messed up. How are you adding them to your project?"},{"owner":{"account_id":25910501,"reputation":3,"user_id":19634845,"display_name":"DA_C5_012"},"score":0,"creation_date":1658948794,"post_id":73142620,"comment_id":129181871,"body_markdown":"@smac2020 I&#39;ll be honest, this project was set up by someone else. I only just got to it in its current state, except for the controller I mentioned above which I added. I will look into this and update here","body":"@smac2020 I&#39;ll be honest, this project was set up by someone else. I only just got to it in its current state, except for the controller I mentioned above which I added. I will look into this and update here"},{"owner":{"account_id":25910501,"reputation":3,"user_id":19634845,"display_name":"DA_C5_012"},"score":0,"creation_date":1658949042,"post_id":73142620,"comment_id":129181951,"body_markdown":"You can now see the project&#39;s dependencies in the main post. It&#39;s also worth noting I am using Maven","body":"You can now see the project&#39;s dependencies in the main post. It&#39;s also worth noting I am using Maven"},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1658949127,"post_id":73142620,"comment_id":129181987,"body_markdown":"I normally do not run V1 - I will look at this to see If i can spot an issue","body":"I normally do not run V1 - I will look at this to see If i can spot an issue"},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1658949646,"post_id":73142620,"comment_id":129182162,"body_markdown":"See update in my answer - I updated the V1 dep in my POM and a V1 call worked","body":"See update in my answer - I updated the V1 dep in my POM and a V1 call worked"},{"owner":{"account_id":25910501,"reputation":3,"user_id":19634845,"display_name":"DA_C5_012"},"score":0,"creation_date":1658951155,"post_id":73142620,"comment_id":129182597,"body_markdown":"Thank you. I tried this, and it now changed from an InvalidSignatureException to a ValidationException. I&#39;m going to try some changes to my model class and update","body":"Thank you. I tried this, and it now changed from an InvalidSignatureException to a ValidationException. I&#39;m going to try some changes to my model class and update"}],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658949574,"creation_date":1658947208,"answer_id":73143097,"question_id":73142620,"body_markdown":"You are using the very old AWS SDK for Java V1, which is not best practice when using Java to query data from an Amazon DynamoDB table. (**AmazonDynamoDBv2** is still part of V1)\r\n\r\nThe recommended way to query data is to use the **AWS SDK for Java v2**. \r\n\r\nYou can read about this SDK in the **AWS Java V2 Developer Guide** here:\r\n\r\n[Working with DynamoDB][1]\r\n\r\nIf you do not know how to use this SDK, read the [Quick start][2] section that talks about tasks that you need to do such as setting up your creds, etc. \r\n\r\nYou can query data using these methods. \r\n\r\n1. Using the DynamoDbClient\r\n2. Using the Enhanced Client\r\n3. Using PartiQL - uses a SQL type syntax. \r\n\r\nAll of the below Java examples are part of **AWS SDK for Java v2**. You can find these code examples and many other Amazon DynamoDB code examples in the official AWS Github repo:\r\n\r\nhttps://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/dynamodb\r\n\r\n**Using the DynamoDbClient to Query data**\r\n\r\n    package com.example.dynamodb;\r\n    \r\n    // snippet-start:[dynamodb.java2.query.import]\r\n    import software.amazon.awssdk.auth.credentials.ProfileCredentialsProvider;\r\n    import software.amazon.awssdk.regions.Region;\r\n    import software.amazon.awssdk.services.dynamodb.DynamoDbClient;\r\n    import software.amazon.awssdk.services.dynamodb.model.AttributeValue;\r\n    import software.amazon.awssdk.services.dynamodb.model.DynamoDbException;\r\n    import software.amazon.awssdk.services.dynamodb.model.QueryRequest;\r\n    import software.amazon.awssdk.services.dynamodb.model.QueryResponse;\r\n    import java.util.HashMap;\r\n    // snippet-end:[dynamodb.java2.query.import]\r\n    \r\n    /**\r\n     * Before running this Java V2 code example, set up your development environment, including your credentials.\r\n     *\r\n     * For more information, see the following documentation topic:\r\n     *\r\n     * https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\r\n     *\r\n     *  To query items from an Amazon DynamoDB table using the AWS SDK for Java V2,\r\n     *  its better practice to use the\r\n     *  Enhanced Client. See the EnhancedQueryRecords example.\r\n     */\r\n    public class Query {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            final String usage = &quot;\\n&quot; +\r\n                &quot;Usage:\\n&quot; +\r\n                &quot;    &lt;tableName&gt; &lt;partitionKeyName&gt; &lt;partitionKeyVal&gt;\\n\\n&quot; +\r\n                &quot;Where:\\n&quot; +\r\n                &quot;    tableName - The Amazon DynamoDB table to put the item in (for example, Music3).\\n&quot; +\r\n                &quot;    partitionKeyName - The partition key name of the Amazon DynamoDB table (for example, Artist).\\n&quot; +\r\n                &quot;    partitionKeyVal - The value of the partition key that should match (for example, Famous Band).\\n\\n&quot; ;\r\n    \r\n           if (args.length != 3) {\r\n               System.out.println(usage);\r\n               System.exit(1);\r\n           }\r\n    \r\n           String tableName = args[0];\r\n           String partitionKeyName = args[1];\r\n           String partitionKeyVal = args[2];\r\n    \r\n           // For more information about an alias, see:\r\n           // https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Expressions.ExpressionAttributeNames.html\r\n           String partitionAlias = &quot;#a&quot;;\r\n    \r\n           System.out.format(&quot;Querying %s&quot;, tableName);\r\n           System.out.println(&quot;&quot;);\r\n    \r\n           ProfileCredentialsProvider credentialsProvider = ProfileCredentialsProvider.create();\r\n           Region region = Region.US_EAST_1;\r\n           DynamoDbClient ddb = DynamoDbClient.builder()\r\n               .credentialsProvider(credentialsProvider)\r\n               .region(region)\r\n               .build();\r\n    \r\n           int count = queryTable(ddb, tableName, partitionKeyName, partitionKeyVal,partitionAlias ) ;\r\n           System.out.println(&quot;There were &quot;+count + &quot;  record(s) returned&quot;);\r\n           ddb.close();\r\n        }\r\n    \r\n        // snippet-start:[dynamodb.java2.query.main]\r\n        public static int queryTable(DynamoDbClient ddb, String tableName, String partitionKeyName, String partitionKeyVal, String partitionAlias) {\r\n    \r\n            // Set up an alias for the partition key name in case it&#39;s a reserved word.\r\n            HashMap&lt;String,String&gt; attrNameAlias = new HashMap&lt;String,String&gt;();\r\n            attrNameAlias.put(partitionAlias, partitionKeyName);\r\n    \r\n            // Set up mapping of the partition name with the value.\r\n            HashMap&lt;String, AttributeValue&gt; attrValues = new HashMap&lt;&gt;();\r\n    \r\n            attrValues.put(&quot;:&quot;+partitionKeyName, AttributeValue.builder()\r\n                .s(partitionKeyVal)\r\n                .build());\r\n    \r\n            QueryRequest queryReq = QueryRequest.builder()\r\n                .tableName(tableName)\r\n                .keyConditionExpression(partitionAlias + &quot; = :&quot; + partitionKeyName)\r\n                .expressionAttributeNames(attrNameAlias)\r\n                .expressionAttributeValues(attrValues)\r\n                .build();\r\n    \r\n            try {\r\n                QueryResponse response = ddb.query(queryReq);\r\n                return response.count();\r\n    \r\n            } catch (DynamoDbException e) {\r\n                System.err.println(e.getMessage());\r\n                System.exit(1);\r\n            }\r\n            return -1;\r\n        }\r\n        // snippet-end:[dynamodb.java2.query.main]\r\n    }\r\n\r\n**Using the Enhanced Client to Query data**\r\n\r\n    package com.example.dynamodb;\r\n    \r\n    // snippet-start:[dynamodb.java2.mapping.query.import]\r\n    \r\n    import software.amazon.awssdk.auth.credentials.ProfileCredentialsProvider;\r\n    import software.amazon.awssdk.enhanced.dynamodb.DynamoDbEnhancedClient;\r\n    import software.amazon.awssdk.enhanced.dynamodb.DynamoDbTable;\r\n    import software.amazon.awssdk.enhanced.dynamodb.Key;\r\n    import software.amazon.awssdk.enhanced.dynamodb.TableSchema;\r\n    import software.amazon.awssdk.enhanced.dynamodb.model.QueryConditional;\r\n    import software.amazon.awssdk.regions.Region;\r\n    import software.amazon.awssdk.services.dynamodb.DynamoDbClient;\r\n    import software.amazon.awssdk.services.dynamodb.model.DynamoDbException;\r\n    import java.util.Iterator;\r\n    // snippet-end:[dynamodb.java2.mapping.query.import]\r\n    \r\n    /*\r\n     * Before running this code example, create an Amazon DynamoDB table named Customer with these columns:\r\n     *   - id - the id of the record that is the key\r\n     *   - custName - the customer name\r\n     *   - email - the email value\r\n     *   - registrationDate - an instant value when the item was added to the table\r\n     *\r\n     * Also, ensure that you have set up your development environment, including your credentials.\r\n     *\r\n     * For information, see this documentation topic:\r\n     *\r\n     * https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\r\n     */\r\n    \r\n    public class EnhancedQueryRecords {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            ProfileCredentialsProvider credentialsProvider = ProfileCredentialsProvider.create();\r\n            Region region = Region.US_EAST_1;\r\n            DynamoDbClient ddb = DynamoDbClient.builder()\r\n                .region(region)\r\n                .credentialsProvider(credentialsProvider)\r\n                .build();\r\n    \r\n            DynamoDbEnhancedClient enhancedClient = DynamoDbEnhancedClient.builder()\r\n                .dynamoDbClient(ddb)\r\n                .build();\r\n    \r\n            String result = queryTable(enhancedClient);\r\n            System.out.println(result);\r\n            ddb.close();\r\n        }\r\n    \r\n        // snippet-start:[dynamodb.java2.mapping.query.main]\r\n        public static String queryTable(DynamoDbEnhancedClient enhancedClient) {\r\n    \r\n            try{\r\n                DynamoDbTable&lt;Customer&gt; mappedTable = enhancedClient.table(&quot;Customer&quot;, TableSchema.fromBean(Customer.class));\r\n                QueryConditional queryConditional = QueryConditional.keyEqualTo(Key.builder()\r\n                    .partitionValue(&quot;id101&quot;)\r\n                    .build());\r\n    \r\n                // Get items in the table and write out the ID value.\r\n                Iterator&lt;Customer&gt; results = mappedTable.query(queryConditional).items().iterator();\r\n                String result=&quot;&quot;;\r\n    \r\n                while (results.hasNext()) {\r\n                    Customer rec = results.next();\r\n                    result = rec.getId();\r\n                    System.out.println(&quot;The record id is &quot;+result);\r\n                }\r\n                return result;\r\n    \r\n            } catch (DynamoDbException e) {\r\n                System.err.println(e.getMessage());\r\n                System.exit(1);\r\n            }\r\n            return &quot;&quot;;\r\n        }\r\n        // snippet-end:[dynamodb.java2.mapping.query.main]\r\n     }\r\n\r\n**Using the PartiQL to Query data**\r\n\r\n    package com.example.dynamodb;\r\n    \r\n    // snippet-start:[dynamodb.java2.partiql.import]\r\n    import software.amazon.awssdk.auth.credentials.ProfileCredentialsProvider;\r\n    import software.amazon.awssdk.regions.Region;\r\n    import software.amazon.awssdk.services.dynamodb.DynamoDbClient;\r\n    import software.amazon.awssdk.services.dynamodb.model.AttributeValue;\r\n    import software.amazon.awssdk.services.dynamodb.model.ExecuteStatementRequest;\r\n    import software.amazon.awssdk.services.dynamodb.model.ExecuteStatementResponse;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    // snippet-end:[dynamodb.java2.partiql.import]\r\n    \r\n    /*\r\n     * Prior to running this code example, create an Amazon DynamoDB table named Music as discussed in this topic:\r\n     *\r\n     * https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/ql-gettingstarted.html\r\n     *\r\n     * You must also have set up your development environment, including your credentials.\r\n     *\r\n     * For more information, see this documentation topic:\r\n     *\r\n     * https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\r\n     */\r\n    \r\n    // snippet-start:[dynamodb.java2.partiql.main]\r\n    public class DynamoDBPartiQ {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            ProfileCredentialsProvider credentialsProvider = ProfileCredentialsProvider.create();\r\n            Region region = Region.US_EAST_1;\r\n            DynamoDbClient ddb = DynamoDbClient.builder()\r\n                .credentialsProvider(credentialsProvider)\r\n                .region(region)\r\n                .build();\r\n    \r\n            AttributeValue att1 = AttributeValue.builder()\r\n                .s(&quot;Acme Band&quot;)\r\n                .build();\r\n    \r\n            AttributeValue att2 = AttributeValue.builder()\r\n                .s(&quot;PartiQL Rocks&quot;)\r\n                .build();\r\n    \r\n            List&lt;AttributeValue&gt; parameters = new ArrayList&lt;&gt;();\r\n            parameters.add(att1);\r\n            parameters.add(att2);\r\n            queryTable(ddb, parameters);\r\n        }\r\n    \r\n        public static void queryTable(DynamoDbClient ddb, List&lt;AttributeValue&gt; parameters ) {\r\n    \r\n            // Retrieve an item from the Music table using the SELECT PartiQL statement.\r\n            ExecuteStatementResponse response = executeStatementRequest(ddb, &quot;SELECT COUNT(SongTitle) FROM Music&quot;, parameters);\r\n            processResults(response);\r\n    \r\n            //Update an item in the Music table using the UPDATE PartiQL statement.\r\n            processResults(executeStatementRequest(ddb, &quot;UPDATE Music SET AwardsWon=1 SET AwardDetail={&#39;Grammys&#39;:[2020, 2018]}  where Artist=? and SongTitle=?&quot;, parameters));\r\n    \r\n            //Add a list value for an item in the Music table.\r\n            ExecuteStatementResponse resp2 = executeStatementRequest(ddb, &quot;UPDATE Music SET AwardDetail.Grammys =LIST_APPEND(AwardDetail.Grammys,[2016])  where Artist=? and SongTitle=?&quot;, parameters);\r\n            processResults(resp2);\r\n    \r\n            // Add a new string set attribute for an item in the Music table.\r\n            processResults(executeStatementRequest(ddb, &quot;UPDATE Music SET BandMembers =&lt;&lt;&#39;member1&#39;, &#39;member2&#39;&gt;&gt; where Artist=? and SongTitle=?&quot;, parameters));\r\n    \r\n            // Add a list value for an item in the Music table.\r\n            processResults(executeStatementRequest(ddb, &quot;UPDATE Music SET AwardDetail.Grammys =list_append(AwardDetail.Grammys,[2016])  where Artist=? and SongTitle=?&quot;, parameters));\r\n    \r\n            // Remove a list value for an item in the Music table.\r\n            processResults(executeStatementRequest(ddb, &quot;UPDATE Music REMOVE AwardDetail.Grammys[2]   where Artist=? and SongTitle=?&quot;, parameters));\r\n    \r\n            // Add a new map member for an item in the Music table.\r\n            processResults(executeStatementRequest(ddb, &quot;UPDATE Music set AwardDetail.BillBoard=[2020] where Artist=? and SongTitle=?&quot;, parameters));\r\n    \r\n            // Add a new string set attribute for an item in the Music table.\r\n            processResults(executeStatementRequest(ddb, &quot;UPDATE Music SET BandMembers =&lt;&lt;&#39;member1&#39;, &#39;member2&#39;&gt;&gt; where Artist=? and SongTitle=?&quot;, parameters));\r\n    \r\n            // Update a string set attribute for an item in the Music table.\r\n            processResults(executeStatementRequest(ddb, &quot;UPDATE Music SET BandMembers =set_add(BandMembers, &lt;&lt;&#39;newmember&#39;&gt;&gt;) where Artist=? and SongTitle=?&quot;, parameters));\r\n            System.out.println(&quot;This code example has completed&quot;);\r\n        }\r\n    \r\n        private static ExecuteStatementResponse executeStatementRequest(DynamoDbClient ddb, String statement, List&lt;AttributeValue&gt; parameters ) {\r\n            ExecuteStatementRequest request = ExecuteStatementRequest.builder()\r\n                .statement(statement)\r\n                .parameters(parameters)\r\n                .build();\r\n    \r\n            return ddb.executeStatement(request);\r\n        }\r\n    \r\n        private static void processResults(ExecuteStatementResponse executeStatementResult) {\r\n            System.out.println(&quot;ExecuteStatement successful: &quot;+ executeStatementResult.toString());\r\n        }\r\n    }\r\n\r\n// snippet-end:[dynamodb.java2.partiql.main]\r\n\r\n**UPDATE**\r\n\r\nI updated my V1 POM to use this: \r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aws-java-sdk-dynamodb&lt;/artifactId&gt;\r\n                &lt;version&gt;1.12.239&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n\r\nTHIS V1 Code worked: \r\n\r\n    import com.amazonaws.AmazonServiceException;\r\n    import com.amazonaws.ResponseMetadata;\r\n    import com.amazonaws.regions.Regions;\r\n    import com.amazonaws.services.dynamodbv2.AmazonDynamoDB;\r\n    import com.amazonaws.services.dynamodbv2.AmazonDynamoDBClientBuilder;\r\n    import com.amazonaws.services.dynamodbv2.model.AttributeValue;\r\n    import com.amazonaws.services.dynamodbv2.model.GetItemRequest;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    \r\n    /**\r\n     * Get an item from a DynamoDB table.\r\n     *\r\n     * Takes the name of the table and the name of the item to retrieve from it.\r\n     *\r\n     * The primary key searched is &quot;DATABASE_NAME&quot;, and the value contained by the field\r\n     * &quot;Greeting&quot; will be returned.\r\n     *\r\n     * This code expects that you have AWS credentials set up per:\r\n     * http://docs.aws.amazon.com/java-sdk/latest/developer-guide/setup-credentials.html\r\n     */\r\n    public class GetItem\r\n    {\r\n            public static void main(String[] args)\r\n            {\r\n                    String table_name = &quot;Customer&quot;; //args[0];\r\n                    String name = &quot;id101&quot; ; //args[1];\r\n                    String projection_expression = null;\r\n    \r\n                    // if a projection expression was included, set it.\r\n                    if (args.length == 3) {\r\n                            projection_expression = args[2];\r\n                    }\r\n    \r\n                    AmazonDynamoDB ddb =  AmazonDynamoDBClientBuilder.standard().withRegion(Regions.US_EAST_1).build();\r\n    \r\n    \r\n                    System.out.format(&quot;Retrieving item \\&quot;%s\\&quot; from \\&quot;%s\\&quot;\\n&quot;,\r\n                            name, table_name);\r\n    \r\n                    HashMap&lt;String,AttributeValue&gt; key_to_get =\r\n                            new HashMap&lt;String,AttributeValue&gt;();\r\n    \r\n                    key_to_get.put(&quot;id&quot;, new AttributeValue(name));\r\n    \r\n                    GetItemRequest request = null;\r\n                    if (projection_expression != null) {\r\n                            request = new GetItemRequest()\r\n                                    .withKey(key_to_get)\r\n                                    .withTableName(table_name)\r\n                                    .withProjectionExpression(projection_expression);\r\n                    } else {\r\n                            request = new GetItemRequest()\r\n                                    .withKey(key_to_get)\r\n                                    .withTableName(table_name);\r\n                    }\r\n    \r\n                     try {\r\n                            Map&lt;String,AttributeValue&gt; returned_item = ddb.getItem(request).getItem();\r\n                             ResponseMetadata metadata = ddb.getCachedResponseMetadata(request);\r\n                             System.out.println(&quot;The request ID is &quot;+metadata.getRequestId());\r\n    \r\n    \r\n                            if (returned_item != null) {\r\n                                    Set&lt;String&gt; keys = returned_item.keySet();\r\n                                    for (String key : keys) {\r\n                                            System.out.format(&quot;%s: %s\\n&quot;,\r\n                                                    key, returned_item.get(key).toString());\r\n                                    }\r\n                            } else {\r\n                                    System.out.format(&quot;No item found with the key %s!\\n&quot;, name);\r\n                            }\r\n                    } catch (AmazonServiceException e) {\r\n                            System.err.println(e.getErrorMessage());\r\n                            System.exit(1);\r\n                    }\r\n            }\r\n    }\r\n\r\nOutput\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-dynamodb.html\r\n  [2]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\r\n  [3]: https://i.stack.imgur.com/xqrd2.png","title":"Java DynamoDB Back-end gives an InvalidSignatureException","body":"<p>You are using the very old AWS SDK for Java V1, which is not best practice when using Java to query data from an Amazon DynamoDB table. (<strong>AmazonDynamoDBv2</strong> is still part of V1)</p>\n<p>The recommended way to query data is to use the <strong>AWS SDK for Java v2</strong>.</p>\n<p>You can read about this SDK in the <strong>AWS Java V2 Developer Guide</strong> here:</p>\n<p><a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-dynamodb.html\" rel=\"nofollow noreferrer\">Working with DynamoDB</a></p>\n<p>If you do not know how to use this SDK, read the <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\" rel=\"nofollow noreferrer\">Quick start</a> section that talks about tasks that you need to do such as setting up your creds, etc.</p>\n<p>You can query data using these methods.</p>\n<ol>\n<li>Using the DynamoDbClient</li>\n<li>Using the Enhanced Client</li>\n<li>Using PartiQL - uses a SQL type syntax.</li>\n</ol>\n<p>All of the below Java examples are part of <strong>AWS SDK for Java v2</strong>. You can find these code examples and many other Amazon DynamoDB code examples in the official AWS Github repo:</p>\n<p><a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/dynamodb\" rel=\"nofollow noreferrer\">https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/dynamodb</a></p>\n<p><strong>Using the DynamoDbClient to Query data</strong></p>\n<pre><code>package com.example.dynamodb;\n\n// snippet-start:[dynamodb.java2.query.import]\nimport software.amazon.awssdk.auth.credentials.ProfileCredentialsProvider;\nimport software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.dynamodb.DynamoDbClient;\nimport software.amazon.awssdk.services.dynamodb.model.AttributeValue;\nimport software.amazon.awssdk.services.dynamodb.model.DynamoDbException;\nimport software.amazon.awssdk.services.dynamodb.model.QueryRequest;\nimport software.amazon.awssdk.services.dynamodb.model.QueryResponse;\nimport java.util.HashMap;\n// snippet-end:[dynamodb.java2.query.import]\n\n/**\n * Before running this Java V2 code example, set up your development environment, including your credentials.\n *\n * For more information, see the following documentation topic:\n *\n * https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\n *\n *  To query items from an Amazon DynamoDB table using the AWS SDK for Java V2,\n *  its better practice to use the\n *  Enhanced Client. See the EnhancedQueryRecords example.\n */\npublic class Query {\n\n    public static void main(String[] args) {\n\n        final String usage = &quot;\\n&quot; +\n            &quot;Usage:\\n&quot; +\n            &quot;    &lt;tableName&gt; &lt;partitionKeyName&gt; &lt;partitionKeyVal&gt;\\n\\n&quot; +\n            &quot;Where:\\n&quot; +\n            &quot;    tableName - The Amazon DynamoDB table to put the item in (for example, Music3).\\n&quot; +\n            &quot;    partitionKeyName - The partition key name of the Amazon DynamoDB table (for example, Artist).\\n&quot; +\n            &quot;    partitionKeyVal - The value of the partition key that should match (for example, Famous Band).\\n\\n&quot; ;\n\n       if (args.length != 3) {\n           System.out.println(usage);\n           System.exit(1);\n       }\n\n       String tableName = args[0];\n       String partitionKeyName = args[1];\n       String partitionKeyVal = args[2];\n\n       // For more information about an alias, see:\n       // https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Expressions.ExpressionAttributeNames.html\n       String partitionAlias = &quot;#a&quot;;\n\n       System.out.format(&quot;Querying %s&quot;, tableName);\n       System.out.println(&quot;&quot;);\n\n       ProfileCredentialsProvider credentialsProvider = ProfileCredentialsProvider.create();\n       Region region = Region.US_EAST_1;\n       DynamoDbClient ddb = DynamoDbClient.builder()\n           .credentialsProvider(credentialsProvider)\n           .region(region)\n           .build();\n\n       int count = queryTable(ddb, tableName, partitionKeyName, partitionKeyVal,partitionAlias ) ;\n       System.out.println(&quot;There were &quot;+count + &quot;  record(s) returned&quot;);\n       ddb.close();\n    }\n\n    // snippet-start:[dynamodb.java2.query.main]\n    public static int queryTable(DynamoDbClient ddb, String tableName, String partitionKeyName, String partitionKeyVal, String partitionAlias) {\n\n        // Set up an alias for the partition key name in case it's a reserved word.\n        HashMap&lt;String,String&gt; attrNameAlias = new HashMap&lt;String,String&gt;();\n        attrNameAlias.put(partitionAlias, partitionKeyName);\n\n        // Set up mapping of the partition name with the value.\n        HashMap&lt;String, AttributeValue&gt; attrValues = new HashMap&lt;&gt;();\n\n        attrValues.put(&quot;:&quot;+partitionKeyName, AttributeValue.builder()\n            .s(partitionKeyVal)\n            .build());\n\n        QueryRequest queryReq = QueryRequest.builder()\n            .tableName(tableName)\n            .keyConditionExpression(partitionAlias + &quot; = :&quot; + partitionKeyName)\n            .expressionAttributeNames(attrNameAlias)\n            .expressionAttributeValues(attrValues)\n            .build();\n\n        try {\n            QueryResponse response = ddb.query(queryReq);\n            return response.count();\n\n        } catch (DynamoDbException e) {\n            System.err.println(e.getMessage());\n            System.exit(1);\n        }\n        return -1;\n    }\n    // snippet-end:[dynamodb.java2.query.main]\n}\n</code></pre>\n<p><strong>Using the Enhanced Client to Query data</strong></p>\n<pre><code>package com.example.dynamodb;\n\n// snippet-start:[dynamodb.java2.mapping.query.import]\n\nimport software.amazon.awssdk.auth.credentials.ProfileCredentialsProvider;\nimport software.amazon.awssdk.enhanced.dynamodb.DynamoDbEnhancedClient;\nimport software.amazon.awssdk.enhanced.dynamodb.DynamoDbTable;\nimport software.amazon.awssdk.enhanced.dynamodb.Key;\nimport software.amazon.awssdk.enhanced.dynamodb.TableSchema;\nimport software.amazon.awssdk.enhanced.dynamodb.model.QueryConditional;\nimport software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.dynamodb.DynamoDbClient;\nimport software.amazon.awssdk.services.dynamodb.model.DynamoDbException;\nimport java.util.Iterator;\n// snippet-end:[dynamodb.java2.mapping.query.import]\n\n/*\n * Before running this code example, create an Amazon DynamoDB table named Customer with these columns:\n *   - id - the id of the record that is the key\n *   - custName - the customer name\n *   - email - the email value\n *   - registrationDate - an instant value when the item was added to the table\n *\n * Also, ensure that you have set up your development environment, including your credentials.\n *\n * For information, see this documentation topic:\n *\n * https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\n */\n\npublic class EnhancedQueryRecords {\n\n    public static void main(String[] args) {\n\n        ProfileCredentialsProvider credentialsProvider = ProfileCredentialsProvider.create();\n        Region region = Region.US_EAST_1;\n        DynamoDbClient ddb = DynamoDbClient.builder()\n            .region(region)\n            .credentialsProvider(credentialsProvider)\n            .build();\n\n        DynamoDbEnhancedClient enhancedClient = DynamoDbEnhancedClient.builder()\n            .dynamoDbClient(ddb)\n            .build();\n\n        String result = queryTable(enhancedClient);\n        System.out.println(result);\n        ddb.close();\n    }\n\n    // snippet-start:[dynamodb.java2.mapping.query.main]\n    public static String queryTable(DynamoDbEnhancedClient enhancedClient) {\n\n        try{\n            DynamoDbTable&lt;Customer&gt; mappedTable = enhancedClient.table(&quot;Customer&quot;, TableSchema.fromBean(Customer.class));\n            QueryConditional queryConditional = QueryConditional.keyEqualTo(Key.builder()\n                .partitionValue(&quot;id101&quot;)\n                .build());\n\n            // Get items in the table and write out the ID value.\n            Iterator&lt;Customer&gt; results = mappedTable.query(queryConditional).items().iterator();\n            String result=&quot;&quot;;\n\n            while (results.hasNext()) {\n                Customer rec = results.next();\n                result = rec.getId();\n                System.out.println(&quot;The record id is &quot;+result);\n            }\n            return result;\n\n        } catch (DynamoDbException e) {\n            System.err.println(e.getMessage());\n            System.exit(1);\n        }\n        return &quot;&quot;;\n    }\n    // snippet-end:[dynamodb.java2.mapping.query.main]\n }\n</code></pre>\n<p><strong>Using the PartiQL to Query data</strong></p>\n<pre><code>package com.example.dynamodb;\n\n// snippet-start:[dynamodb.java2.partiql.import]\nimport software.amazon.awssdk.auth.credentials.ProfileCredentialsProvider;\nimport software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.dynamodb.DynamoDbClient;\nimport software.amazon.awssdk.services.dynamodb.model.AttributeValue;\nimport software.amazon.awssdk.services.dynamodb.model.ExecuteStatementRequest;\nimport software.amazon.awssdk.services.dynamodb.model.ExecuteStatementResponse;\nimport java.util.ArrayList;\nimport java.util.List;\n// snippet-end:[dynamodb.java2.partiql.import]\n\n/*\n * Prior to running this code example, create an Amazon DynamoDB table named Music as discussed in this topic:\n *\n * https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/ql-gettingstarted.html\n *\n * You must also have set up your development environment, including your credentials.\n *\n * For more information, see this documentation topic:\n *\n * https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\n */\n\n// snippet-start:[dynamodb.java2.partiql.main]\npublic class DynamoDBPartiQ {\n\n    public static void main(String[] args) {\n\n        ProfileCredentialsProvider credentialsProvider = ProfileCredentialsProvider.create();\n        Region region = Region.US_EAST_1;\n        DynamoDbClient ddb = DynamoDbClient.builder()\n            .credentialsProvider(credentialsProvider)\n            .region(region)\n            .build();\n\n        AttributeValue att1 = AttributeValue.builder()\n            .s(&quot;Acme Band&quot;)\n            .build();\n\n        AttributeValue att2 = AttributeValue.builder()\n            .s(&quot;PartiQL Rocks&quot;)\n            .build();\n\n        List&lt;AttributeValue&gt; parameters = new ArrayList&lt;&gt;();\n        parameters.add(att1);\n        parameters.add(att2);\n        queryTable(ddb, parameters);\n    }\n\n    public static void queryTable(DynamoDbClient ddb, List&lt;AttributeValue&gt; parameters ) {\n\n        // Retrieve an item from the Music table using the SELECT PartiQL statement.\n        ExecuteStatementResponse response = executeStatementRequest(ddb, &quot;SELECT COUNT(SongTitle) FROM Music&quot;, parameters);\n        processResults(response);\n\n        //Update an item in the Music table using the UPDATE PartiQL statement.\n        processResults(executeStatementRequest(ddb, &quot;UPDATE Music SET AwardsWon=1 SET AwardDetail={'Grammys':[2020, 2018]}  where Artist=? and SongTitle=?&quot;, parameters));\n\n        //Add a list value for an item in the Music table.\n        ExecuteStatementResponse resp2 = executeStatementRequest(ddb, &quot;UPDATE Music SET AwardDetail.Grammys =LIST_APPEND(AwardDetail.Grammys,[2016])  where Artist=? and SongTitle=?&quot;, parameters);\n        processResults(resp2);\n\n        // Add a new string set attribute for an item in the Music table.\n        processResults(executeStatementRequest(ddb, &quot;UPDATE Music SET BandMembers =&lt;&lt;'member1', 'member2'&gt;&gt; where Artist=? and SongTitle=?&quot;, parameters));\n\n        // Add a list value for an item in the Music table.\n        processResults(executeStatementRequest(ddb, &quot;UPDATE Music SET AwardDetail.Grammys =list_append(AwardDetail.Grammys,[2016])  where Artist=? and SongTitle=?&quot;, parameters));\n\n        // Remove a list value for an item in the Music table.\n        processResults(executeStatementRequest(ddb, &quot;UPDATE Music REMOVE AwardDetail.Grammys[2]   where Artist=? and SongTitle=?&quot;, parameters));\n\n        // Add a new map member for an item in the Music table.\n        processResults(executeStatementRequest(ddb, &quot;UPDATE Music set AwardDetail.BillBoard=[2020] where Artist=? and SongTitle=?&quot;, parameters));\n\n        // Add a new string set attribute for an item in the Music table.\n        processResults(executeStatementRequest(ddb, &quot;UPDATE Music SET BandMembers =&lt;&lt;'member1', 'member2'&gt;&gt; where Artist=? and SongTitle=?&quot;, parameters));\n\n        // Update a string set attribute for an item in the Music table.\n        processResults(executeStatementRequest(ddb, &quot;UPDATE Music SET BandMembers =set_add(BandMembers, &lt;&lt;'newmember'&gt;&gt;) where Artist=? and SongTitle=?&quot;, parameters));\n        System.out.println(&quot;This code example has completed&quot;);\n    }\n\n    private static ExecuteStatementResponse executeStatementRequest(DynamoDbClient ddb, String statement, List&lt;AttributeValue&gt; parameters ) {\n        ExecuteStatementRequest request = ExecuteStatementRequest.builder()\n            .statement(statement)\n            .parameters(parameters)\n            .build();\n\n        return ddb.executeStatement(request);\n    }\n\n    private static void processResults(ExecuteStatementResponse executeStatementResult) {\n        System.out.println(&quot;ExecuteStatement successful: &quot;+ executeStatementResult.toString());\n    }\n}\n</code></pre>\n<p>// snippet-end:[dynamodb.java2.partiql.main]</p>\n<p><strong>UPDATE</strong></p>\n<p>I updated my V1 POM to use this:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk-dynamodb&lt;/artifactId&gt;\n            &lt;version&gt;1.12.239&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>THIS V1 Code worked:</p>\n<pre><code>import com.amazonaws.AmazonServiceException;\nimport com.amazonaws.ResponseMetadata;\nimport com.amazonaws.regions.Regions;\nimport com.amazonaws.services.dynamodbv2.AmazonDynamoDB;\nimport com.amazonaws.services.dynamodbv2.AmazonDynamoDBClientBuilder;\nimport com.amazonaws.services.dynamodbv2.model.AttributeValue;\nimport com.amazonaws.services.dynamodbv2.model.GetItemRequest;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.Set;\n\n/**\n * Get an item from a DynamoDB table.\n *\n * Takes the name of the table and the name of the item to retrieve from it.\n *\n * The primary key searched is &quot;DATABASE_NAME&quot;, and the value contained by the field\n * &quot;Greeting&quot; will be returned.\n *\n * This code expects that you have AWS credentials set up per:\n * http://docs.aws.amazon.com/java-sdk/latest/developer-guide/setup-credentials.html\n */\npublic class GetItem\n{\n        public static void main(String[] args)\n        {\n                String table_name = &quot;Customer&quot;; //args[0];\n                String name = &quot;id101&quot; ; //args[1];\n                String projection_expression = null;\n\n                // if a projection expression was included, set it.\n                if (args.length == 3) {\n                        projection_expression = args[2];\n                }\n\n                AmazonDynamoDB ddb =  AmazonDynamoDBClientBuilder.standard().withRegion(Regions.US_EAST_1).build();\n\n\n                System.out.format(&quot;Retrieving item \\&quot;%s\\&quot; from \\&quot;%s\\&quot;\\n&quot;,\n                        name, table_name);\n\n                HashMap&lt;String,AttributeValue&gt; key_to_get =\n                        new HashMap&lt;String,AttributeValue&gt;();\n\n                key_to_get.put(&quot;id&quot;, new AttributeValue(name));\n\n                GetItemRequest request = null;\n                if (projection_expression != null) {\n                        request = new GetItemRequest()\n                                .withKey(key_to_get)\n                                .withTableName(table_name)\n                                .withProjectionExpression(projection_expression);\n                } else {\n                        request = new GetItemRequest()\n                                .withKey(key_to_get)\n                                .withTableName(table_name);\n                }\n\n                 try {\n                        Map&lt;String,AttributeValue&gt; returned_item = ddb.getItem(request).getItem();\n                         ResponseMetadata metadata = ddb.getCachedResponseMetadata(request);\n                         System.out.println(&quot;The request ID is &quot;+metadata.getRequestId());\n\n\n                        if (returned_item != null) {\n                                Set&lt;String&gt; keys = returned_item.keySet();\n                                for (String key : keys) {\n                                        System.out.format(&quot;%s: %s\\n&quot;,\n                                                key, returned_item.get(key).toString());\n                                }\n                        } else {\n                                System.out.format(&quot;No item found with the key %s!\\n&quot;, name);\n                        }\n                } catch (AmazonServiceException e) {\n                        System.err.println(e.getErrorMessage());\n                        System.exit(1);\n                }\n        }\n}\n</code></pre>\n<p>Output</p>\n<p><a href=\"https://i.stack.imgur.com/xqrd2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xqrd2.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":25910501,"reputation":3,"user_id":19634845,"display_name":"DA_C5_012"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":601,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73143097,"answer_count":1,"score":0,"last_activity_date":1659036284,"creation_date":1658944738,"question_id":73142620,"body_markdown":"I am a software intern, and I&#39;m working on Java back-end to query a dynamoDB table. We are currently in the process of changing to a new table format. The new table has a business key and a sort key, unlike previous which only used a business key. The following is the method to query the table: \r\n\r\n``` \r\npublic String getCommuterOptions(String crewID) throws JsonProcessingException {\r\n           String hashKey = crewID;\r\n           String rangeKey = &quot;E&quot;;\r\n           CommuterOptionsRequest response = dynamoDBMapper.load(CommuterOptionsRequest.class, hashKey, rangeKey, \r\nDynamoDBMapperConfig.TableNameOverride.withTableNameReplacement(applicationProperties.getProfileTableNm()).config());\r\n           return ServiceUtil.convertErrorObjectToJson(response, &quot;Success&quot;);\r\n}\r\n```\r\n\r\nNote, the range key for this query needs to be &quot;E&quot;.\r\n\r\nWhen I run the application, the following error results: \r\n\r\n        &quot;Unable to unmarshall exception response with the unmarshallers provided (Service: \r\n    AmazonDynamoDBv2; Status Code: 400; Error Code: InvalidSignatureException; Request ID:\r\n    6LVEKJAFGBBPM3NB7U4LE60P13VV4KQNSO5AEMVJF66Q9ASUAAJG; Proxy: null)&quot;\r\n\r\nHas anyone seen this before? I have tried an alternative way of querying the table using .query() and get the same error. I have double checked things such as system time, and secret key and access key with no success. The old controller is very similarly designed, except for this method, and works perfectly. Any help would be much appreciated.\r\n\r\n**UPDATE:** Dependencies:\r\n\r\n    &lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- marked the embedded servlet container as provided --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.1.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;aws-java-sdk-dynamodb&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.11.330&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.json/json --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;20180130&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!--&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-text&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t  &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;joda-time&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;joda-time&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.10&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;--&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n**UPDATE 2:**\r\nI updated the dependencies, and also got new access and secret keys. This along with a slight change to the DTO&#39;s annotations for hash and range key fixed the issues. Thank you all for the help.","title":"Java DynamoDB Back-end gives an InvalidSignatureException","body":"<p>I am a software intern, and I'm working on Java back-end to query a dynamoDB table. We are currently in the process of changing to a new table format. The new table has a business key and a sort key, unlike previous which only used a business key. The following is the method to query the table:</p>\n<pre><code>public String getCommuterOptions(String crewID) throws JsonProcessingException {\n           String hashKey = crewID;\n           String rangeKey = &quot;E&quot;;\n           CommuterOptionsRequest response = dynamoDBMapper.load(CommuterOptionsRequest.class, hashKey, rangeKey, \nDynamoDBMapperConfig.TableNameOverride.withTableNameReplacement(applicationProperties.getProfileTableNm()).config());\n           return ServiceUtil.convertErrorObjectToJson(response, &quot;Success&quot;);\n}\n</code></pre>\n<p>Note, the range key for this query needs to be &quot;E&quot;.</p>\n<p>When I run the application, the following error results:</p>\n<pre><code>    &quot;Unable to unmarshall exception response with the unmarshallers provided (Service: \nAmazonDynamoDBv2; Status Code: 400; Error Code: InvalidSignatureException; Request ID:\n6LVEKJAFGBBPM3NB7U4LE60P13VV4KQNSO5AEMVJF66Q9ASUAAJG; Proxy: null)&quot;\n</code></pre>\n<p>Has anyone seen this before? I have tried an alternative way of querying the table using .query() and get the same error. I have double checked things such as system time, and secret key and access key with no success. The old controller is very similarly designed, except for this method, and works perfectly. Any help would be much appreciated.</p>\n<p><strong>UPDATE:</strong> Dependencies:</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;!-- marked the embedded servlet container as provided --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n         &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk-dynamodb&lt;/artifactId&gt;\n            &lt;version&gt;1.11.330&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.json/json --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20180130&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--&lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\n            &lt;version&gt;1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;joda-time&lt;/groupId&gt;\n            &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\n            &lt;version&gt;2.10&lt;/version&gt;\n        &lt;/dependency&gt;--&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p><strong>UPDATE 2:</strong>\nI updated the dependencies, and also got new access and secret keys. This along with a slight change to the DTO's annotations for hash and range key fixed the issues. Thank you all for the help.</p>\n"},{"tags":["java","spring","spring-boot","jpql"],"comments":[{"owner":{"account_id":6921189,"reputation":1490,"user_id":5313817,"display_name":"Rishal"},"score":0,"creation_date":1659028153,"post_id":73156577,"comment_id":129203892,"body_markdown":"Please share your MyObjs class structure ?","body":"Please share your MyObjs class structure ?"}],"answers":[{"tags":[],"owner":{"account_id":6921189,"reputation":1490,"user_id":5313817,"display_name":"Rishal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659036139,"creation_date":1659036139,"answer_id":73158197,"question_id":73156577,"body_markdown":"Sort uses column which is present in the table. Here you are calculating it.\r\nI would suggest you to explore and use `@Formula` annotation to perform the same action.\r\n\r\n    @Formula(&quot;COUNT(CASE open WHEN 1 THEN 1 ELSE null END)&quot;)\r\n    private Integer open;\r\n\r\n    @Formula(&quot;COUNT(CASE closed WHEN 1 THEN 1 ELSE null END)&quot;)\r\n    private Integer closed;\r\n\r\nand use this attributes to apply the sorting.","title":"Spring Boot custom query order by aliased aggregate column","body":"<p>Sort uses column which is present in the table. Here you are calculating it.\nI would suggest you to explore and use <code>@Formula</code> annotation to perform the same action.</p>\n<pre><code>@Formula(&quot;COUNT(CASE open WHEN 1 THEN 1 ELSE null END)&quot;)\nprivate Integer open;\n\n@Formula(&quot;COUNT(CASE closed WHEN 1 THEN 1 ELSE null END)&quot;)\nprivate Integer closed;\n</code></pre>\n<p>and use this attributes to apply the sorting.</p>\n"}],"owner":{"account_id":7591197,"reputation":3,"user_id":10530349,"display_name":"Briana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73158197,"answer_count":1,"score":0,"last_activity_date":1659036139,"creation_date":1659027505,"question_id":73156577,"body_markdown":"I have a table like this called `my_objects`:\r\n\r\n```\r\n| code | description | open | closed |\r\n+ ---- + ----------- + ---- + ------ +\r\n| 1    | first       | 0    | 1      |\r\n| 1    | first       | 1    | 0      |\r\n| 2    | second      | 1    | 0      |\r\n| 2    | second      | 1    | 0      |\r\n```\r\n\r\nI&#39;m returning a JSON object like this:\r\n\r\n```\r\n{\r\n    &quot;totalItems&quot;: 2\r\n    &quot;myObjs&quot;: [\r\n        {\r\n            &quot;code&quot;: 1,\r\n            &quot;description&quot;: &quot;first&quot;,\r\n            &quot;openCount&quot;: 1,\r\n            &quot;closedCount&quot;: 1\r\n        },\r\n        {\r\n            &quot;code&quot;: 2,\r\n            &quot;description&quot;: &quot;second&quot;,\r\n            &quot;openCount&quot;: 2,\r\n            &quot;closedCount&quot;: 0\r\n        }\r\n    ],\r\n    &quot;totalPages&quot;: 1,\r\n    &quot;curentPage&quot;: 0\r\n}\r\n```\r\n\r\nMy query in my repository (`MyObjsRepository.java`) looks like this:\r\n\r\n```\r\n@Query(\r\n    value = &quot;SELECT new myObjs(code, description, &quot;\r\n    + &quot;COUNT(CASE open WHEN 1 THEN 1 ELSE null END) as openCount &quot;\r\n    + &quot;COUNT(CASE closed WHEN 1 THEN 1 ELSE null END) as closedCount) &quot;\r\n    + &quot;FROM MyObjs &quot;\r\n    + &quot;GROUP BY (code, description)&quot;\r\n)\r\nPage&lt;MyObjs&gt; findMyObjs(Pageable pageable);\r\n```\r\n\r\nThis works, but I run into an issue when trying to sort by my aggregated columns. When I try to sort by `openCount`, the `Pageable` object will contain a `org.springframework.data.domain.Sort` with an Order with the property `openCount`. The log for my application shows what&#39;s going wrong (formatted for readability):\r\n\r\n```\r\nselect \r\n    myObjs0_.code as col_0_0_, \r\n    myObjs0_.description as col_1_0_, \r\n    count(case myObjs0_.open when 1 then 1 else null end) as col_2_0_,\r\n    count(case myObjs0_.closed when 1 then 1 else null end) as col_3_0_\r\nfrom my_objects myObjs0_\r\ngroup by (myObjs0_.code, myObjs0_.description)\r\norder by myObjs0_.openCount asc limit ?\r\n```\r\n\r\nThe aliases aren&#39;t preserved, so I get the following error:\r\n\r\n```\r\nCaused by: org.postgresql.util.PSQLException: ERROR: column myObjs0_.openCount does not exist\r\n```\r\n\r\nI&#39;ve tried renaming the sorting parameters, adding columns with the aliased names to my entity, and adding open and closed to the group by clause. I think I may be able to solve this with a native query, but I&#39;d really rather not do that. Is there a way to resolve this issue without a native query?\r\n\r\nEdit:\r\n\r\nThe `MyObjs` entity looks like this:\r\n\r\n```\r\n@Entity\r\n@Table(schema = &quot;my_schmea&quot;, name = &quot;my_objects&quot;)\r\npublic class MyObjs {\r\n    @Column(name = &quot;code&quot;)\r\n    private Integer code;\r\n\r\n    @Column(name = &quot;description&quot;)\r\n    private String description;\r\n\r\n    @Column(name = &quot;open&quot;)\r\n    private Integer open;\r\n\r\n    @Column(name = &quot;closed&quot;)\r\n    private Integer closed;\r\n\r\n    /* getters, setters, and constructor */\r\n}\r\n```\r\n\r\nThe `MyObjsDto` looks like this:\r\n\r\n```\r\n@JsonAutoDetect(getterVisibility = JsonAutoDetect.Visibility.PUBLIC_ONLY)\r\npublic class MyObjsDto {\r\n    @JsonProperty(value = &quot;code&quot;)\r\n    private String code;\r\n\r\n    @JsonProperty(value = &quot;description&quot;)\r\n    private String description;\r\n\r\n    @JsonProperty(value = &quot;openCount&quot;)\r\n    private String open;\r\n\r\n    @JsonProperty(value = &quot;closedCount&quot;)\r\n    private String closed;\r\n\r\n    /* getters, setters, and constructor */\r\n}\r\n```","title":"Spring Boot custom query order by aliased aggregate column","body":"<p>I have a table like this called <code>my_objects</code>:</p>\n<pre><code>| code | description | open | closed |\n+ ---- + ----------- + ---- + ------ +\n| 1    | first       | 0    | 1      |\n| 1    | first       | 1    | 0      |\n| 2    | second      | 1    | 0      |\n| 2    | second      | 1    | 0      |\n</code></pre>\n<p>I'm returning a JSON object like this:</p>\n<pre><code>{\n    &quot;totalItems&quot;: 2\n    &quot;myObjs&quot;: [\n        {\n            &quot;code&quot;: 1,\n            &quot;description&quot;: &quot;first&quot;,\n            &quot;openCount&quot;: 1,\n            &quot;closedCount&quot;: 1\n        },\n        {\n            &quot;code&quot;: 2,\n            &quot;description&quot;: &quot;second&quot;,\n            &quot;openCount&quot;: 2,\n            &quot;closedCount&quot;: 0\n        }\n    ],\n    &quot;totalPages&quot;: 1,\n    &quot;curentPage&quot;: 0\n}\n</code></pre>\n<p>My query in my repository (<code>MyObjsRepository.java</code>) looks like this:</p>\n<pre><code>@Query(\n    value = &quot;SELECT new myObjs(code, description, &quot;\n    + &quot;COUNT(CASE open WHEN 1 THEN 1 ELSE null END) as openCount &quot;\n    + &quot;COUNT(CASE closed WHEN 1 THEN 1 ELSE null END) as closedCount) &quot;\n    + &quot;FROM MyObjs &quot;\n    + &quot;GROUP BY (code, description)&quot;\n)\nPage&lt;MyObjs&gt; findMyObjs(Pageable pageable);\n</code></pre>\n<p>This works, but I run into an issue when trying to sort by my aggregated columns. When I try to sort by <code>openCount</code>, the <code>Pageable</code> object will contain a <code>org.springframework.data.domain.Sort</code> with an Order with the property <code>openCount</code>. The log for my application shows what's going wrong (formatted for readability):</p>\n<pre><code>select \n    myObjs0_.code as col_0_0_, \n    myObjs0_.description as col_1_0_, \n    count(case myObjs0_.open when 1 then 1 else null end) as col_2_0_,\n    count(case myObjs0_.closed when 1 then 1 else null end) as col_3_0_\nfrom my_objects myObjs0_\ngroup by (myObjs0_.code, myObjs0_.description)\norder by myObjs0_.openCount asc limit ?\n</code></pre>\n<p>The aliases aren't preserved, so I get the following error:</p>\n<pre><code>Caused by: org.postgresql.util.PSQLException: ERROR: column myObjs0_.openCount does not exist\n</code></pre>\n<p>I've tried renaming the sorting parameters, adding columns with the aliased names to my entity, and adding open and closed to the group by clause. I think I may be able to solve this with a native query, but I'd really rather not do that. Is there a way to resolve this issue without a native query?</p>\n<p>Edit:</p>\n<p>The <code>MyObjs</code> entity looks like this:</p>\n<pre><code>@Entity\n@Table(schema = &quot;my_schmea&quot;, name = &quot;my_objects&quot;)\npublic class MyObjs {\n    @Column(name = &quot;code&quot;)\n    private Integer code;\n\n    @Column(name = &quot;description&quot;)\n    private String description;\n\n    @Column(name = &quot;open&quot;)\n    private Integer open;\n\n    @Column(name = &quot;closed&quot;)\n    private Integer closed;\n\n    /* getters, setters, and constructor */\n}\n</code></pre>\n<p>The <code>MyObjsDto</code> looks like this:</p>\n<pre><code>@JsonAutoDetect(getterVisibility = JsonAutoDetect.Visibility.PUBLIC_ONLY)\npublic class MyObjsDto {\n    @JsonProperty(value = &quot;code&quot;)\n    private String code;\n\n    @JsonProperty(value = &quot;description&quot;)\n    private String description;\n\n    @JsonProperty(value = &quot;openCount&quot;)\n    private String open;\n\n    @JsonProperty(value = &quot;closedCount&quot;)\n    private String closed;\n\n    /* getters, setters, and constructor */\n}\n</code></pre>\n"},{"tags":["java","algorithm","linked-list"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1643454419,"post_id":70720860,"comment_id":125346849,"body_markdown":"What *exactly* &quot;does not work&quot;?","body":"What <i>exactly</i> &quot;does not work&quot;?"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1643454527,"post_id":70720860,"comment_id":125346877,"body_markdown":"btw, if you just coded a [doubly linked list](https://en.wikipedia.org/wiki/Doubly_linked_list), both your life and code would be simpler.","body":"btw, if you just coded a <a href=\"https://en.wikipedia.org/wiki/Doubly_linked_list\" rel=\"nofollow noreferrer\">doubly linked list</a>, both your life and code would be simpler."},{"owner":{"account_id":19060196,"reputation":13,"user_id":13916470,"display_name":"TE A 24"},"score":0,"creation_date":1643603393,"post_id":70720860,"comment_id":125375521,"body_markdown":"Hey guys, the above code is not compatible with 2 elements. Just I want to know where I did a mistake?","body":"Hey guys, the above code is not compatible with 2 elements. Just I want to know where I did a mistake?"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1643609685,"post_id":70720860,"comment_id":125376516,"body_markdown":"Try debugging your code with the debugger in your IDE.","body":"Try debugging your code with the debugger in your IDE."}],"owner":{"account_id":19060196,"reputation":13,"user_id":13916470,"display_name":"TE A 24"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659035705,"creation_date":1642244948,"question_id":70720860,"body_markdown":"But it does not work for 2 elements. Can someone check it out? \r\n\r\nI created methods \r\n        \r\nreverseList for reversing elements\r\n\r\nmiddleElement for finding mid of that linked list.\r\n        \r\n```java\r\n            package com.Company;\r\n            import java.math.BigInteger;\r\n            import java.util.Objects;\r\n            // This gfg21 class \r\n            class gfg21{\r\n                private int size;\r\n                gfg21(){\r\n                    this.size = 0;\r\n                }\r\n            \r\n                public class Node{\r\n                    int data;\r\n                    Node next;\r\n            \r\n                    Node(int data){\r\n                        this.data = data;\r\n                        this.next = null;\r\n                        size++;\r\n                    }\r\n                }\r\n                Node head;\r\n    // addFirst for adding elements\r\n                public Node addFirst(int data){\r\n                    Node newNode = new Node(data);\r\n                    if (head == null){\r\n                        head = newNode;\r\n                        return head;\r\n                    }\r\n                    newNode.next = head;\r\n                    head = newNode;\r\n                    return head;\r\n                }\r\n                public Node reverseList(Node head){\r\n                    Node currentNode = head;\r\n                    Node prevNode = null;\r\n                    while (currentNode != null){\r\n                        Node temp = currentNode.next;\r\n                        currentNode.next = prevNode;\r\n                        prevNode = currentNode;\r\n                         currentNode = temp;\r\n                    }\r\n                    return prevNode;\r\n                  \r\n                }\r\n            \r\n                public Node middleElement(Node head){\r\n                    if (head == null){\r\n                        return null;\r\n                    }\r\n                    Node slowPtr = head;\r\n                    Node fastPtr = head;\r\n                    while (fastPtr != null &amp;&amp; fastPtr.next != null){\r\n                        slowPtr = slowPtr.next;\r\n                        fastPtr = fastPtr.next.next;\r\n                    }\r\n                    return slowPtr;\r\n                }\r\n            \r\n                public boolean palindromeList(Node head){\r\n                    if (head == null){\r\n                        return true;\r\n                    }\r\n                    Node mid = middleElement(head);\r\n                    Node last = reverseList(mid.next);\r\n                    Node currentNode = head;\r\n                    while (last != null){\r\n                        if (last.data != currentNode.data){\r\n                            return false;\r\n                        }\r\n                        last = last.next;\r\n                        currentNode = currentNode.next;\r\n                    }\r\n                    return true;\r\n                }\r\n                public void printList(){\r\n                    if (head == null){\r\n                        System.out.println(&quot;List is empty&quot;);\r\n                        return;\r\n                    }\r\n                    Node currentNode = head;\r\n                    while (currentNode != null){\r\n                        System.out.print(currentNode.data + &quot; -&gt; &quot;);\r\n                        currentNode = currentNode.next;\r\n            \r\n                    }\r\n                    System.out.println(&quot;Null&quot;);\r\n                }\r\n            }\r\n            public class gfg2 {\r\n                public static void main(String[] args) {\r\n                    \r\n                    gfg21 palindrome = new gfg21();\r\n                    palindrome.addFirst(2);\r\n                    palindrome.addFirst(1);\r\n                    palindrome.printList();\r\n            \r\n                    palindrome.palindromeList(palindrome.head);\r\n                    if (palindrome.palindromeList(palindrome.head)){\r\n                        System.out.println(&quot;Palindrome list&quot;);\r\n                    }\r\n                    else {\r\n                        System.out.println(&quot;Not Palindrome list&quot;);\r\n                    }\r\n            \r\n                }\r\n            }\r\n```\r\n","title":"I wrote the code for -&gt; check list is palindrome or not in Java?","body":"<p>But it does not work for 2 elements. Can someone check it out?</p>\n<p>I created methods</p>\n<p>reverseList for reversing elements</p>\n<p>middleElement for finding mid of that linked list.</p>\n<pre class=\"lang-java prettyprint-override\"><code>            package com.Company;\n            import java.math.BigInteger;\n            import java.util.Objects;\n            // This gfg21 class \n            class gfg21{\n                private int size;\n                gfg21(){\n                    this.size = 0;\n                }\n            \n                public class Node{\n                    int data;\n                    Node next;\n            \n                    Node(int data){\n                        this.data = data;\n                        this.next = null;\n                        size++;\n                    }\n                }\n                Node head;\n    // addFirst for adding elements\n                public Node addFirst(int data){\n                    Node newNode = new Node(data);\n                    if (head == null){\n                        head = newNode;\n                        return head;\n                    }\n                    newNode.next = head;\n                    head = newNode;\n                    return head;\n                }\n                public Node reverseList(Node head){\n                    Node currentNode = head;\n                    Node prevNode = null;\n                    while (currentNode != null){\n                        Node temp = currentNode.next;\n                        currentNode.next = prevNode;\n                        prevNode = currentNode;\n                         currentNode = temp;\n                    }\n                    return prevNode;\n                  \n                }\n            \n                public Node middleElement(Node head){\n                    if (head == null){\n                        return null;\n                    }\n                    Node slowPtr = head;\n                    Node fastPtr = head;\n                    while (fastPtr != null &amp;&amp; fastPtr.next != null){\n                        slowPtr = slowPtr.next;\n                        fastPtr = fastPtr.next.next;\n                    }\n                    return slowPtr;\n                }\n            \n                public boolean palindromeList(Node head){\n                    if (head == null){\n                        return true;\n                    }\n                    Node mid = middleElement(head);\n                    Node last = reverseList(mid.next);\n                    Node currentNode = head;\n                    while (last != null){\n                        if (last.data != currentNode.data){\n                            return false;\n                        }\n                        last = last.next;\n                        currentNode = currentNode.next;\n                    }\n                    return true;\n                }\n                public void printList(){\n                    if (head == null){\n                        System.out.println(&quot;List is empty&quot;);\n                        return;\n                    }\n                    Node currentNode = head;\n                    while (currentNode != null){\n                        System.out.print(currentNode.data + &quot; -&gt; &quot;);\n                        currentNode = currentNode.next;\n            \n                    }\n                    System.out.println(&quot;Null&quot;);\n                }\n            }\n            public class gfg2 {\n                public static void main(String[] args) {\n                    \n                    gfg21 palindrome = new gfg21();\n                    palindrome.addFirst(2);\n                    palindrome.addFirst(1);\n                    palindrome.printList();\n            \n                    palindrome.palindromeList(palindrome.head);\n                    if (palindrome.palindromeList(palindrome.head)){\n                        System.out.println(&quot;Palindrome list&quot;);\n                    }\n                    else {\n                        System.out.println(&quot;Not Palindrome list&quot;);\n                    }\n            \n                }\n            }\n</code></pre>\n"},{"tags":["java","data-structures","linked-list","singly-linked-list"],"answers":[{"tags":[],"owner":{"account_id":18921751,"reputation":11,"user_id":13805675,"display_name":"niklbird"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645105238,"creation_date":1645105238,"answer_id":71159227,"question_id":71159102,"body_markdown":"If I understand your question correct, you can delete the last node by setting the .next attribute of the previous node to null.\r\nIf your nodes contain the attribute .previous, you can use that.\r\nSo \r\n````\r\nif(node.next==null) {\r\n        node.previous.next = null;\r\n        return true;\r\n}\r\n`````\r\nIf you don&#39;t have a previous attribute, you need to check for each node if the next node will be the end node. So\r\n````\r\nif(node.next != null &amp;&amp; node.next.next == null){\r\n       node.next = null;\r\n       return true;\r\n}\r\n````\r\nI hope that answers your question.\r\n","title":"Delete Last node of Linked List in Java when the head is not given","body":"<p>If I understand your question correct, you can delete the last node by setting the .next attribute of the previous node to null.\nIf your nodes contain the attribute .previous, you can use that.\nSo</p>\n<pre><code>if(node.next==null) {\n        node.previous.next = null;\n        return true;\n}\n</code></pre>\n<p>If you don't have a previous attribute, you need to check for each node if the next node will be the end node. So</p>\n<pre><code>if(node.next != null &amp;&amp; node.next.next == null){\n       node.next = null;\n       return true;\n}\n</code></pre>\n<p>I hope that answers your question.</p>\n"},{"tags":[],"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645947798,"creation_date":1645176315,"answer_id":71171084,"question_id":71159102,"body_markdown":"No, this is not possible. You really need a reference to the preceding node so you can update its `next` reference. A doubly linked list provides such a back reference, but when you are speaking of a singly linked list, the function must get a reference to the preceding node in some other way.\r\n\r\n&gt; I know we can do this in c/c++ by manually freeing the space allocated\r\n\r\nThat would not be enough. In C/C++ you also need to set the previous node&#39;s `next` pointer to `NULL`/`nullptr`, or else you&#39;ll get undefined behaviour. The only thing you can do more in C++ is to pass the previous node&#39;s `next` pointer **by reference**. \r\n\r\nBut no matter how you do it, the function must be able to access the `next` pointer/reference of the preceding node, or it will not be possible.","title":"Delete Last node of Linked List in Java when the head is not given","body":"<p>No, this is not possible. You really need a reference to the preceding node so you can update its <code>next</code> reference. A doubly linked list provides such a back reference, but when you are speaking of a singly linked list, the function must get a reference to the preceding node in some other way.</p>\n<blockquote>\n<p>I know we can do this in c/c++ by manually freeing the space allocated</p>\n</blockquote>\n<p>That would not be enough. In C/C++ you also need to set the previous node's <code>next</code> pointer to <code>NULL</code>/<code>nullptr</code>, or else you'll get undefined behaviour. The only thing you can do more in C++ is to pass the previous node's <code>next</code> pointer <strong>by reference</strong>.</p>\n<p>But no matter how you do it, the function must be able to access the <code>next</code> pointer/reference of the preceding node, or it will not be possible.</p>\n"}],"owner":{"account_id":12655515,"reputation":37,"user_id":9198175,"display_name":"Chaithra Rai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71171084,"answer_count":2,"score":1,"last_activity_date":1659035688,"creation_date":1645104730,"question_id":71159102,"body_markdown":"I was solving the problem to delete the middle node of a LinkedList. Say given a linked list a-&gt;b-&gt;c-&gt;d-&gt;e you would want to delete b/c/d and the head of the LinkedList is not given.\r\n```\r\n\tpublic boolean deletemiddle(LinkedListNode node) {\r\n\t\tif(node==null)\r\n\t\t\treturn false;\r\n\t\tLinkedListNode n=node;\r\n\t\tnode.data=n.next.data;\r\n\t\tnode.next=n.next.next;\r\n\t\treturn true;\r\n\t}\r\n```\r\nThis works. But what if I want to delete the last node e? I know we can do this in c/c++ by manually freeing the space allocated but is it possible to do it in Java? \r\nI did try allocating a null to the value but that does not seem to work\r\n```\r\nif(node.next==null) {\r\n\t\tLinkedListNode dummynode=null;\r\n\t\tnode=dummynode;\r\n\t\treturn true;\r\n\t}\r\n```","title":"Delete Last node of Linked List in Java when the head is not given","body":"<p>I was solving the problem to delete the middle node of a LinkedList. Say given a linked list a-&gt;b-&gt;c-&gt;d-&gt;e you would want to delete b/c/d and the head of the LinkedList is not given.</p>\n<pre><code>    public boolean deletemiddle(LinkedListNode node) {\n        if(node==null)\n            return false;\n        LinkedListNode n=node;\n        node.data=n.next.data;\n        node.next=n.next.next;\n        return true;\n    }\n</code></pre>\n<p>This works. But what if I want to delete the last node e? I know we can do this in c/c++ by manually freeing the space allocated but is it possible to do it in Java?\nI did try allocating a null to the value but that does not seem to work</p>\n<pre><code>if(node.next==null) {\n        LinkedListNode dummynode=null;\n        node=dummynode;\n        return true;\n    }\n</code></pre>\n"},{"tags":["java","arrays","algorithm"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1646550889,"post_id":71368321,"comment_id":126148202,"body_markdown":"You know that `int[x]` will be filled with `x` zeros. Right? That means `arx` will have zeros after the last non-zero entered by the user... and `ary` will have `x` zeros.","body":"You know that <code>int[x]</code> will be filled with <code>x</code> zeros. Right? That means <code>arx</code> will have zeros after the last non-zero entered by the user... and <code>ary</code> will have <code>x</code> zeros."}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646551286,"creation_date":1646550978,"answer_id":71368370,"question_id":71368321,"body_markdown":"You should maintain separate index counters for the two arrays:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    int x = sc.nextInt();\r\n    int ix = 0;\r\n    int iy = 0;\r\n\r\n    int[] arx;\r\n    arx = new int[x];\r\n\r\n    int[] ary;\r\n    ary = new int[x];\r\n\r\n    for (int i=0; i &lt; x; i++) {\r\n        int q = sc.nextInt();\r\n        if (q != 0) {\r\n            arx[ix++] = q;           \r\n        }\r\n        else if (q == 0) {\r\n            ary[iy++] = q;\r\n        }\r\n    }\r\n\r\n    for (int i=0; i &lt; ix; i++) {\r\n        System.out.print(arx[i] + &quot; &quot;);\r\n    }\r\n\r\n    for (int i=0; i &lt; iy; i++) {\r\n        System.out.print(ary[i] + &quot; &quot;);\r\n    }\r\n\r\nFor your inputs the above generated the following output:\r\n\r\n    1 3 12 0 0","title":"Separating the 0s and Positive Numbers in two different arrays","body":"<p>You should maintain separate index counters for the two arrays:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int x = sc.nextInt();\nint ix = 0;\nint iy = 0;\n\nint[] arx;\narx = new int[x];\n\nint[] ary;\nary = new int[x];\n\nfor (int i=0; i &lt; x; i++) {\n    int q = sc.nextInt();\n    if (q != 0) {\n        arx[ix++] = q;           \n    }\n    else if (q == 0) {\n        ary[iy++] = q;\n    }\n}\n\nfor (int i=0; i &lt; ix; i++) {\n    System.out.print(arx[i] + &quot; &quot;);\n}\n\nfor (int i=0; i &lt; iy; i++) {\n    System.out.print(ary[i] + &quot; &quot;);\n}\n</code></pre>\n<p>For your inputs the above generated the following output:</p>\n<pre><code>1 3 12 0 0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14476595,"reputation":489,"user_id":10457088,"display_name":"Tom&#225;Å¡ Å turm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646551351,"creation_date":1646551351,"answer_id":71368407,"question_id":71368321,"body_markdown":"Since array with arx is filled with zeroes , you can only use one array to add non zero values.\r\n\r\n```\r\n {\r\n    Scanner sc = new Scanner (System.in);\r\n\r\n    int x = sc.nextInt ();\r\n\r\n    int[] arx;\r\n      arx = new int[x];\r\n\r\n    int ind = 0;\r\n    for (int i = 0; i &lt; x; i++) {\r\n\t    int q = sc.nextInt ();\r\n    \tif (q != 0){\r\n    \t    arx[ind++] = q;\r\n    \t  }\r\n      }\r\n    for (int j = 0; j &lt; arx.length; j++){\r\n\t    System.out.print (arx[j] + &quot; &quot;);\r\n      }\r\n  }\r\n```","title":"Separating the 0s and Positive Numbers in two different arrays","body":"<p>Since array with arx is filled with zeroes , you can only use one array to add non zero values.</p>\n<pre><code> {\n    Scanner sc = new Scanner (System.in);\n\n    int x = sc.nextInt ();\n\n    int[] arx;\n      arx = new int[x];\n\n    int ind = 0;\n    for (int i = 0; i &lt; x; i++) {\n        int q = sc.nextInt ();\n        if (q != 0){\n            arx[ind++] = q;\n          }\n      }\n    for (int j = 0; j &lt; arx.length; j++){\n        System.out.print (arx[j] + &quot; &quot;);\n      }\n  }\n</code></pre>\n"}],"owner":{"account_id":24153753,"reputation":19,"user_id":18118242,"display_name":"Tuhin Chakrabarty"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1659035661,"creation_date":1646550377,"question_id":71368321,"body_markdown":"  This is the code I have written, My objective is to segregate the 0s and non 0s without changing the order of the non 0s\r\n\r\n\tclass Main {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tScanner sc = new Scanner(System.in);\r\n\t\r\n\t\t\tint x = sc.nextInt();\r\n\t\r\n\t\t\tint[] arx;\r\n\t\t\tarx = new int[x];\r\n\t\r\n\t\t\tint[] ary;\r\n\t\t\tary = new int[x];\r\n\t\r\n\t\t\tfor (int i = 0; i &lt; x; i++) {\r\n\t\t\t\tint q = sc.nextInt();\r\n\t\t\t\tif (q != 0) {\r\n\t\t\t\t\tarx[i] = q;\r\n\t\t\t\t} else if (q == 0) {\r\n\t\t\t\t\tary[i] = q;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor (int j = 0; j &lt; arx.length; j++) {\r\n\t\t\t\tSystem.out.print(arx[j] + &quot; &quot;);\r\n\t\t\t}\r\n\t\r\n\t\t\tfor (int j = 0; j &lt; ary.length; j++) {\r\n\t\t\t\tSystem.out.print(ary[j] + &quot; &quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t}\r\n\r\nSample i/p:\r\n\r\n    5\r\n    0 1 0 3 12\r\n\r\nSample o/p:\r\n\r\n    1 3 12 0 0\r\n\r\nWhat I am getting:\r\no/p:\r\n\r\n    0 1 0 3 12 0 0 0 0 0 ","title":"Separating the 0s and Positive Numbers in two different arrays","body":"<p>This is the code I have written, My objective is to segregate the 0s and non 0s without changing the order of the non 0s</p>\n<pre><code>class Main {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n\n        int x = sc.nextInt();\n\n        int[] arx;\n        arx = new int[x];\n\n        int[] ary;\n        ary = new int[x];\n\n        for (int i = 0; i &lt; x; i++) {\n            int q = sc.nextInt();\n            if (q != 0) {\n                arx[i] = q;\n            } else if (q == 0) {\n                ary[i] = q;\n            }\n        }\n        for (int j = 0; j &lt; arx.length; j++) {\n            System.out.print(arx[j] + &quot; &quot;);\n        }\n\n        for (int j = 0; j &lt; ary.length; j++) {\n            System.out.print(ary[j] + &quot; &quot;);\n        }\n    }\n\n}\n</code></pre>\n<p>Sample i/p:</p>\n<pre><code>5\n0 1 0 3 12\n</code></pre>\n<p>Sample o/p:</p>\n<pre><code>1 3 12 0 0\n</code></pre>\n<p>What I am getting:\no/p:</p>\n<pre><code>0 1 0 3 12 0 0 0 0 0 \n</code></pre>\n"},{"tags":["java","linked-list","singly-linked-list","circular-list"],"comments":[{"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1647871189,"post_id":71557691,"comment_id":126473120,"body_markdown":"Is there some part of this code that you were obliged to use? Like boilerplate/template code?","body":"Is there some part of this code that you were obliged to use? Like boilerplate/template code?"},{"owner":{"account_id":22335299,"reputation":19,"user_id":16555991,"display_name":"alpha-"},"score":0,"creation_date":1647882268,"post_id":71557691,"comment_id":126477872,"body_markdown":"@trincot no. I wasn&#39;t obliged.","body":"@trincot no. I wasn&#39;t obliged."}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647874847,"creation_date":1647874847,"answer_id":71559694,"question_id":71557691,"body_markdown":"Some issues:\r\n\r\n* Your code is trying to fit two different concepts into one class: a node of a list, and the list itself. It is weird that a first instance of the `CircularLinkedList` class serves as the container for `head`, while other instances (which also have a `head` reference which remains useless) serve as the actual data-nodes of the list. You should dedicate a separate class for each.\r\n\r\n* The code creates a node before it has a value to store in that node. This means your list will always have a node that is unused for data. So when all input has been stored in nodes, there is one more node that was created, which has no data (`ptr.v` remains uninitialised).\r\n\r\n* In `printcre`, when the `head` node is visited, the loop exits, and so that node&#39;s value is never printed.\r\n\r\n* It is not good practice to perform I/O in methods of such a class. Keep I/O in your main code, and provided methods that do the pure list stuff, or maybe produce a string representation of the list. But don&#39;t do I/O in these methods. Mixing concerns like that is not a good habit.\r\n\r\n* For a circular list it is actually more interesting to keep a reference to the tail than to the head, because the head can be easily be found from the tail (it is its successor), while getting the tail from the head requires to traverse all nodes.\r\n\r\nHere is code I would suggest:\r\n\r\n## ListNode class\r\n\r\n```\r\npublic class ListNode {\r\n    int val;\r\n    ListNode next;\r\n\r\n    ListNode(int val) {\r\n        this.val = val;\r\n        this.next = this; // Make circular by default\r\n    }\r\n    \r\n    ListNode(int val, ListNode next) {\r\n        this.val = val;\r\n        this.next = next;\r\n    }\r\n}\r\n```\r\n\r\n## CircularLinkedList class\r\n\r\n```\r\npublic class CircularLinkedList {\r\n    ListNode tail = null;\r\n\r\n    public void append(int data) {\r\n        if (tail == null) {\r\n            tail = new ListNode(data);\r\n        } else {\r\n            tail = tail.next = new ListNode(data, tail.next);\r\n        }\r\n    }\r\n\r\n    public String toString() {\r\n        if (tail == null) return &quot;&quot;;\r\n        String s = &quot;&quot;;\r\n        ListNode node = tail.next.next;\r\n        while (node != tail.next) {\r\n            s += node.val + &quot; &quot;;\r\n            node = node.next;\r\n        }\r\n        return s + node.val; // Also include the head&#39;s value in the string\r\n    } \r\n}\r\n```\r\n\r\n## Driver code\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        \r\n        System.out.println(&quot;Enter number of elements to be present in the list&quot;);\r\n        int n = sc.nextInt();\r\n        \r\n        CircularLinkedList list = new CircularLinkedList();\r\n        \r\n        System.out.println(&quot;Enter elements of list&quot;);\r\n        for (int i = 0; i &lt; n; i++) {\r\n            list.append(sc.nextInt());\r\n        }\r\n        sc.close();\r\n\r\n        System.out.println(list.toString());\r\n    }\r\n```\r\n","title":"Printing a circular singly linked List","body":"<p>Some issues:</p>\n<ul>\n<li><p>Your code is trying to fit two different concepts into one class: a node of a list, and the list itself. It is weird that a first instance of the <code>CircularLinkedList</code> class serves as the container for <code>head</code>, while other instances (which also have a <code>head</code> reference which remains useless) serve as the actual data-nodes of the list. You should dedicate a separate class for each.</p>\n</li>\n<li><p>The code creates a node before it has a value to store in that node. This means your list will always have a node that is unused for data. So when all input has been stored in nodes, there is one more node that was created, which has no data (<code>ptr.v</code> remains uninitialised).</p>\n</li>\n<li><p>In <code>printcre</code>, when the <code>head</code> node is visited, the loop exits, and so that node's value is never printed.</p>\n</li>\n<li><p>It is not good practice to perform I/O in methods of such a class. Keep I/O in your main code, and provided methods that do the pure list stuff, or maybe produce a string representation of the list. But don't do I/O in these methods. Mixing concerns like that is not a good habit.</p>\n</li>\n<li><p>For a circular list it is actually more interesting to keep a reference to the tail than to the head, because the head can be easily be found from the tail (it is its successor), while getting the tail from the head requires to traverse all nodes.</p>\n</li>\n</ul>\n<p>Here is code I would suggest:</p>\n<h2>ListNode class</h2>\n<pre><code>public class ListNode {\n    int val;\n    ListNode next;\n\n    ListNode(int val) {\n        this.val = val;\n        this.next = this; // Make circular by default\n    }\n    \n    ListNode(int val, ListNode next) {\n        this.val = val;\n        this.next = next;\n    }\n}\n</code></pre>\n<h2>CircularLinkedList class</h2>\n<pre><code>public class CircularLinkedList {\n    ListNode tail = null;\n\n    public void append(int data) {\n        if (tail == null) {\n            tail = new ListNode(data);\n        } else {\n            tail = tail.next = new ListNode(data, tail.next);\n        }\n    }\n\n    public String toString() {\n        if (tail == null) return &quot;&quot;;\n        String s = &quot;&quot;;\n        ListNode node = tail.next.next;\n        while (node != tail.next) {\n            s += node.val + &quot; &quot;;\n            node = node.next;\n        }\n        return s + node.val; // Also include the head's value in the string\n    } \n}\n</code></pre>\n<h2>Driver code</h2>\n<pre><code>    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        \n        System.out.println(&quot;Enter number of elements to be present in the list&quot;);\n        int n = sc.nextInt();\n        \n        CircularLinkedList list = new CircularLinkedList();\n        \n        System.out.println(&quot;Enter elements of list&quot;);\n        for (int i = 0; i &lt; n; i++) {\n            list.append(sc.nextInt());\n        }\n        sc.close();\n\n        System.out.println(list.toString());\n    }\n</code></pre>\n"}],"owner":{"account_id":22335299,"reputation":19,"user_id":16555991,"display_name":"alpha-"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659035617,"creation_date":1647865930,"question_id":71557691,"body_markdown":"Below is my code to print a circular singly linked list from the SECOND NODE(i.e. the node next to my starting node from where I have inserted my values). But it seems that my code is unable to link the last node to my starting node. As a result of which I am not able to print my Circular linked list.\r\n\r\nCan somebody correct my mistake?\r\n\r\n*INPUT*: 1 2 3 4\r\n\r\n*EXPECTED O/P*: 2 3 4 1\r\n\r\n*O/P GETTING:* 2 3 4\r\n\r\n    import java.util.Scanner;\r\n    public class CircularLinkedList {\r\n        CircularLinkedList ptr,head,next;\r\n        int v;\r\n        void headcre()\r\n        {\r\n           head=new CircularLinkedList();\r\n           ptr=head;\r\n        }\r\n        void linkcre(int n)\r\n        {\r\n            Scanner sc=new Scanner(System.in);\r\n            ptr=head;\r\n            System.out.println(&quot;Enter elements of list&quot;);\r\n            for(int i=0;i&lt;n;i++)\r\n            {\r\n                ptr.v=sc.nextInt();\r\n                ptr.next=new CircularLinkedList();\r\n                ptr=ptr.next;\r\n            }\r\n            ptr.next=head; //TO LINK LAST NODE TO STARTING NODE\r\n        }\r\n        void printcre()\r\n        {\r\n            ptr=head;\r\n            ptr=ptr.next; //printing the list from the second node\r\n            while(ptr.next!=head)\r\n            {\r\n                System.out.print(ptr.v+&quot; &quot;);\r\n                ptr=ptr.next;\r\n            }\r\n        }\r\n        public static void main(String[] args) {\r\n            CircularLinkedList obj=new CircularLinkedList();\r\n            System.out.println(&quot;Enter number of elements to be present in the list&quot;);\r\n            Scanner sc=new Scanner(System.in);\r\n            int n=sc.nextInt();\r\n            obj.headcre(); //To create starting node\r\n            obj.linkcre(n); //To enter elements\r\n            obj.printcre(); //To print the list\r\n        }\r\n    }\r\n\r\n","title":"Printing a circular singly linked List","body":"<p>Below is my code to print a circular singly linked list from the SECOND NODE(i.e. the node next to my starting node from where I have inserted my values). But it seems that my code is unable to link the last node to my starting node. As a result of which I am not able to print my Circular linked list.</p>\n<p>Can somebody correct my mistake?</p>\n<p><em>INPUT</em>: 1 2 3 4</p>\n<p><em>EXPECTED O/P</em>: 2 3 4 1</p>\n<p><em>O/P GETTING:</em> 2 3 4</p>\n<pre><code>import java.util.Scanner;\npublic class CircularLinkedList {\n    CircularLinkedList ptr,head,next;\n    int v;\n    void headcre()\n    {\n       head=new CircularLinkedList();\n       ptr=head;\n    }\n    void linkcre(int n)\n    {\n        Scanner sc=new Scanner(System.in);\n        ptr=head;\n        System.out.println(&quot;Enter elements of list&quot;);\n        for(int i=0;i&lt;n;i++)\n        {\n            ptr.v=sc.nextInt();\n            ptr.next=new CircularLinkedList();\n            ptr=ptr.next;\n        }\n        ptr.next=head; //TO LINK LAST NODE TO STARTING NODE\n    }\n    void printcre()\n    {\n        ptr=head;\n        ptr=ptr.next; //printing the list from the second node\n        while(ptr.next!=head)\n        {\n            System.out.print(ptr.v+&quot; &quot;);\n            ptr=ptr.next;\n        }\n    }\n    public static void main(String[] args) {\n        CircularLinkedList obj=new CircularLinkedList();\n        System.out.println(&quot;Enter number of elements to be present in the list&quot;);\n        Scanner sc=new Scanner(System.in);\n        int n=sc.nextInt();\n        obj.headcre(); //To create starting node\n        obj.linkcre(n); //To enter elements\n        obj.printcre(); //To print the list\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","algorithm"],"comments":[{"owner":{"account_id":17470371,"reputation":310,"user_id":12666301,"display_name":"karim farhouti"},"score":0,"creation_date":1651251878,"post_id":72061330,"comment_id":127328002,"body_markdown":"Reversing an array doesn&#39;t take O(n)","body":"Reversing an array doesn&#39;t take O(n)"},{"owner":{"account_id":4345455,"reputation":2298,"user_id":3547515,"accept_rate":75,"display_name":"Cayce K"},"score":0,"creation_date":1651251942,"post_id":72061330,"comment_id":127328028,"body_markdown":"@karimfarhouti, it does take an O(n) time complexity just usually not space since you need a second container array to flip it.","body":"@karimfarhouti, it does take an O(n) time complexity just usually not space since you need a second container array to flip it."},{"owner":{"account_id":17470371,"reputation":310,"user_id":12666301,"display_name":"karim farhouti"},"score":0,"creation_date":1651252103,"post_id":72061330,"comment_id":127328089,"body_markdown":"@CayceK you only iterate through half the array and swap array[i] with array[n-i-1] ,and that makes it O(n/2)","body":"@CayceK you only iterate through half the array and swap array[i] with array[n-i-1] ,and that makes it O(n/2)"},{"owner":{"account_id":4345455,"reputation":2298,"user_id":3547515,"accept_rate":75,"display_name":"Cayce K"},"score":0,"creation_date":1651252261,"post_id":72061330,"comment_id":127328137,"body_markdown":"@karimfarhouti unless I&#39;m completely wrong you drop the `/2` because it is a constant and it is still considered O(n).","body":"@karimfarhouti unless I&#39;m completely wrong you drop the <code>&#47;2</code> because it is a constant and it is still considered O(n)."},{"owner":{"account_id":17470371,"reputation":310,"user_id":12666301,"display_name":"karim farhouti"},"score":1,"creation_date":1651253271,"post_id":72061330,"comment_id":127328471,"body_markdown":"@CayceK if your&#39;re talking in general terms ,yes you&#39;re right it&#39;s the same linear complexity growth ,but since you mentionned competitive programming ,my mind shifted to the speed ,so my bad","body":"@CayceK if your&#39;re talking in general terms ,yes you&#39;re right it&#39;s the same linear complexity growth ,but since you mentionned competitive programming ,my mind shifted to the speed ,so my bad"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1651256493,"post_id":72061330,"comment_id":127329490,"body_markdown":"Iâ€™m voting to close this question because it probably belongs on [Computer Science](https://cs.stackexchange.com).","body":"Iâ€™m voting to close this question because it probably belongs on <a href=\"https://cs.stackexchange.com\">Computer Science</a>."}],"answers":[{"tags":[],"owner":{"account_id":4345455,"reputation":2298,"user_id":3547515,"accept_rate":75,"display_name":"Cayce K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651252182,"creation_date":1651252182,"answer_id":72061474,"question_id":72061330,"body_markdown":"Unless I&#39;m mistaken reversal is just a form of block swapping. You could build your own reversal algorithm I guess, but that would likely be an insufficient use of time. In java there is the `Collections.reverse(class_obj)`. This is sufficient to use in an interview.\r\n\r\nIf you&#39;re tasked with doing another block swapping task then reverse is not what you&#39;re going to be using. You will have to likely come up with an iterative approach to successfully swap the array. Because of the nature of arrays in java you&#39;ll usually need an additional array to accomplish your task.","title":"Does the Block swap algorithm has any advantage over array reversal method, given that both have the same time complexity?","body":"<p>Unless I'm mistaken reversal is just a form of block swapping. You could build your own reversal algorithm I guess, but that would likely be an insufficient use of time. In java there is the <code>Collections.reverse(class_obj)</code>. This is sufficient to use in an interview.</p>\n<p>If you're tasked with doing another block swapping task then reverse is not what you're going to be using. You will have to likely come up with an iterative approach to successfully swap the array. Because of the nature of arrays in java you'll usually need an additional array to accomplish your task.</p>\n"}],"owner":{"account_id":25145936,"reputation":11,"user_id":18991702,"display_name":"Sangam Mishra"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1659035568,"creation_date":1651251477,"question_id":72061330,"body_markdown":"Both these algorithm has a time complexity O(n) and space complexity is constant, the block swap seems more difficult. Is there any disadvantage of using it in CP or inteviews?","title":"Does the Block swap algorithm has any advantage over array reversal method, given that both have the same time complexity?","body":"<p>Both these algorithm has a time complexity O(n) and space complexity is constant, the block swap seems more difficult. Is there any disadvantage of using it in CP or inteviews?</p>\n"},{"tags":["java","arrays","algorithm","testcase"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":1,"creation_date":1655633212,"post_id":72675932,"comment_id":128373829,"body_markdown":"Why do you sort `nums`? It will change indices on values.","body":"Why do you sort <code>nums</code>? It will change indices on values."},{"owner":{"account_id":22594720,"reputation":5,"user_id":16777220,"display_name":"kartik04"},"score":0,"creation_date":1655633357,"post_id":72675932,"comment_id":128373854,"body_markdown":"hi david i also tried without sorting the array but it&#39;s failing on 2nd test case only","body":"hi david i also tried without sorting the array but it&#39;s failing on 2nd test case only"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":1,"creation_date":1655633893,"post_id":72675932,"comment_id":128373958,"body_markdown":"You assume the sum indicates you need to take one step left or right. If the nums are not in order, that doesn&#39;t work. If you sort nums, you lose their original index. Why not use two nested loops and try the various combinations?","body":"You assume the sum indicates you need to take one step left or right. If the nums are not in order, that doesn&#39;t work. If you sort nums, you lose their original index. Why not use two nested loops and try the various combinations?"},{"owner":{"account_id":19679090,"reputation":686,"user_id":14406682,"display_name":"Maurycyt"},"score":0,"creation_date":1655636988,"post_id":72675932,"comment_id":128374502,"body_markdown":"LeetCode includes hints and solutions to problems, including the TwoSum problem. You can read about it there, it is solved most efficiently with a hashmap.","body":"LeetCode includes hints and solutions to problems, including the TwoSum problem. You can read about it there, it is solved most efficiently with a hashmap."},{"owner":{"account_id":22594720,"reputation":5,"user_id":16777220,"display_name":"kartik04"},"score":0,"creation_date":1655638813,"post_id":72675932,"comment_id":128374926,"body_markdown":"thanks @akarnokd i did tried nested loops and it worked.","body":"thanks @akarnokd i did tried nested loops and it worked."},{"owner":{"account_id":22594720,"reputation":5,"user_id":16777220,"display_name":"kartik04"},"score":0,"creation_date":1655638980,"post_id":72675932,"comment_id":128374959,"body_markdown":"@Maurycyt thanks for the help I don&#39;t know the concept hashmap that&#39;s why i&#39;m using it but thanks for mentioning it.","body":"@Maurycyt thanks for the help I don&#39;t know the concept hashmap that&#39;s why i&#39;m using it but thanks for mentioning it."}],"answers":[{"tags":[],"owner":{"account_id":15416144,"reputation":534,"user_id":11121568,"display_name":"Soroush Shemshadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655635783,"creation_date":1655635783,"answer_id":72676206,"question_id":72675932,"body_markdown":"I think you can solve it in a better way.\r\n\r\nMy solution states that first pick the 0th element of the list; Then in a nested loop check it with the 1st, 2nd, ..., nth element of the list to see if their sum is equal to the target. If it is then return the result if not repeat the loop.\r\n\r\nFor example in `[3,2,4] 6` test case:\r\n1. Pick 3 and go to nested loop.\r\n2. Pick 2, is 3 + 2 equal to 6? No, then continue.\r\n3. Pick 4, is 3 + 4 equal to 6? No, then exit from nested loop.\r\n4. Now pick 2 and go to nested loop.\r\n5. Pick 4, is 2 + 4 equal to 6? Yes, You find the answer:)\r\n\r\n```java\r\npublic class Solution {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tint[] nums = {3, 2, 4};\r\n\t\tint target = 6;\r\n\t\tint[] result = twoSum(nums, target);\r\n\t\tSystem.out.println(result[0] + &quot;, &quot; + result[1]);\r\n\t}\r\n\t\r\n\tpublic static int[] twoSum(int[] nums, int target) {\r\n\t\tfor(int i = 0; i &lt; nums.length; i++) {\r\n\t\t\tfor(int j = i + 1; j &lt; nums.length; j++) {\r\n\t\t\t\tif(nums[i] + nums[j] == target)\r\n\t\t\t\t\treturn new int[]{i, j};\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn new int[]{-1, -1};\r\n\t}\r\n\r\n}\r\n```","title":"Given an array of integers nums and an integer target, return indices of the two numbers such that they add up to target","body":"<p>I think you can solve it in a better way.</p>\n<p>My solution states that first pick the 0th element of the list; Then in a nested loop check it with the 1st, 2nd, ..., nth element of the list to see if their sum is equal to the target. If it is then return the result if not repeat the loop.</p>\n<p>For example in <code>[3,2,4] 6</code> test case:</p>\n<ol>\n<li>Pick 3 and go to nested loop.</li>\n<li>Pick 2, is 3 + 2 equal to 6? No, then continue.</li>\n<li>Pick 4, is 3 + 4 equal to 6? No, then exit from nested loop.</li>\n<li>Now pick 2 and go to nested loop.</li>\n<li>Pick 4, is 2 + 4 equal to 6? Yes, You find the answer:)</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class Solution {\n    \n    public static void main(String[] args) {\n        int[] nums = {3, 2, 4};\n        int target = 6;\n        int[] result = twoSum(nums, target);\n        System.out.println(result[0] + &quot;, &quot; + result[1]);\n    }\n    \n    public static int[] twoSum(int[] nums, int target) {\n        for(int i = 0; i &lt; nums.length; i++) {\n            for(int j = i + 1; j &lt; nums.length; j++) {\n                if(nums[i] + nums[j] == target)\n                    return new int[]{i, j};\n            }\n        }\n        return new int[]{-1, -1};\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":22594720,"reputation":5,"user_id":16777220,"display_name":"kartik04"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1655639847,"accepted_answer_id":72676206,"answer_count":1,"score":0,"last_activity_date":1659035378,"creation_date":1655633083,"question_id":72675932,"body_markdown":"I was working on TwoSum problem of LeetCode\r\nGiven an array of integers nums and an integer target, return indices of the two numbers such that they add up to target.\r\n\r\nTest Case:\r\n\r\n[2,7,11,15]\r\n9  \r\n\r\n[3,2,4]\r\n6   \r\n\r\n[3,3]\r\n6\r\n\r\nMY Code: \r\n\r\n    import java.util.Arrays;\r\n    class Solution {\r\n        public int[] twoSum(int[] nums, int target) {\r\n           Arrays.sort(nums);\r\n            int left = 0;\r\n            int right = nums.length-1;\r\n            for(int i : nums){\r\n                int sum = nums[left]+nums[right];\r\n                if(sum == target)\r\n                    return new int[]{left+1,right};\r\n                else if(sum &gt; target)\r\n                    right--;\r\n                else\r\n                    left++;\r\n            }\r\n            return new int[]{0,0};\r\n        }\r\n    }\r\n\r\nthis code is passing for all the test cases except 2nd test case [2,3,4] 6 and no matter what i done it is not resolving so please someone help me with this.","title":"Given an array of integers nums and an integer target, return indices of the two numbers such that they add up to target","body":"<p>I was working on TwoSum problem of LeetCode\nGiven an array of integers nums and an integer target, return indices of the two numbers such that they add up to target.</p>\n<p>Test Case:</p>\n<p>[2,7,11,15]\n9</p>\n<p>[3,2,4]\n6</p>\n<p>[3,3]\n6</p>\n<p>MY Code:</p>\n<pre><code>import java.util.Arrays;\nclass Solution {\n    public int[] twoSum(int[] nums, int target) {\n       Arrays.sort(nums);\n        int left = 0;\n        int right = nums.length-1;\n        for(int i : nums){\n            int sum = nums[left]+nums[right];\n            if(sum == target)\n                return new int[]{left+1,right};\n            else if(sum &gt; target)\n                right--;\n            else\n                left++;\n        }\n        return new int[]{0,0};\n    }\n}\n</code></pre>\n<p>this code is passing for all the test cases except 2nd test case [2,3,4] 6 and no matter what i done it is not resolving so please someone help me with this.</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1657460446,"post_id":72885013,"comment_id":128810543,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":25741536,"reputation":69,"user_id":19495441,"display_name":"henry Chan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657120604,"creation_date":1657120442,"answer_id":72886016,"question_id":72885013,"body_markdown":"Just change the commands to:\r\n\r\n`javac -classpath &quot;.;(path to algs4)\\algs4.jar&quot; Yourprogram.java`\r\n\r\nand\r\n\r\n`java -classpath &quot;.;(path to algs4)\\algs4.jar&quot; Yourprogram.java`\r\n\r\nThen the problem will be solved.","title":"Stuck in import algs4 with vscode","body":"<p>Just change the commands to:</p>\n<p><code>javac -classpath &quot;.;(path to algs4)\\algs4.jar&quot; Yourprogram.java</code></p>\n<p>and</p>\n<p><code>java -classpath &quot;.;(path to algs4)\\algs4.jar&quot; Yourprogram.java</code></p>\n<p>Then the problem will be solved.</p>\n"}],"owner":{"account_id":25741536,"reputation":69,"user_id":19495441,"display_name":"henry Chan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":741,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72886016,"answer_count":1,"score":1,"last_activity_date":1659035210,"creation_date":1657116466,"question_id":72885013,"body_markdown":"I added algs4 into the referenced libraries in java project, but when I compile the following project, vscode keeps showing &quot;RandomWord.java:1: error: package edu.princeton.cs.algs4 does not exist&quot;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SqmqP.jpg\r\n  [2]: https://i.stack.imgur.com/PMwzz.jpg","title":"Stuck in import algs4 with vscode","body":"<p>I added algs4 into the referenced libraries in java project, but when I compile the following project, vscode keeps showing &quot;RandomWord.java:1: error: package edu.princeton.cs.algs4 does not exist&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/SqmqP.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SqmqP.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/PMwzz.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PMwzz.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":13043446,"reputation":282,"user_id":9426046,"display_name":"danial iranpour"},"score":0,"creation_date":1623569722,"post_id":67955780,"comment_id":120112213,"body_markdown":"Hi, You are calling the `post_RV_ids()` method before `setContentView()`, I think that is the problem. And why you are calling `setContentView()` twice?","body":"Hi, You are calling the <code>post_RV_ids()</code> method before <code>setContentView()</code>, I think that is the problem. And why you are calling <code>setContentView()</code> twice?"},{"owner":{"account_id":11118604,"reputation":328,"user_id":8162191,"display_name":"A.Shenoy"},"score":0,"creation_date":1623569973,"post_id":67955780,"comment_id":120112270,"body_markdown":"Try .inflate(R.layout.posts_rv, false); in onCreateViewHolder() also make sure your layout looks like this\n&lt;android.support.v7.widget.RecyclerView\n    android:id=&quot;@+id/RecyclerView&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    /&gt;","body":"Try .inflate(R.layout.posts_rv, false); in onCreateViewHolder() also make sure your layout looks like this &lt;android.support.v7.widget.RecyclerView     android:id=&quot;@+id/RecyclerView&quot;     android:layout_width=&quot;match_parent&quot;     android:layout_height=&quot;match_parent&quot;     /&gt;"}],"answers":[{"tags":[],"owner":{"account_id":11118604,"reputation":328,"user_id":8162191,"display_name":"A.Shenoy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623570012,"creation_date":1623570012,"answer_id":67955936,"question_id":67955780,"body_markdown":"Try `.inflate(R.layout.posts_rv, false);` in onCreateViewHolder() also make sure your layout looks like this \r\n\r\n    &lt;android.support.v7.widget.RecyclerView android:id=&quot;@+id/RecyclerView&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot; /&gt;","title":"Recycler View not Showing in Android Studio","body":"<p>Try <code>.inflate(R.layout.posts_rv, false);</code> in onCreateViewHolder() also make sure your layout looks like this</p>\n<pre><code>&lt;android.support.v7.widget.RecyclerView android:id=&quot;@+id/RecyclerView&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11340562,"reputation":365,"user_id":12830957,"display_name":"Flying Dutchman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623570744,"creation_date":1623570744,"answer_id":67956023,"question_id":67955780,"body_markdown":"declare the the `post_RV_ids();` on top of `post_RV_data();` and call the adapter notify in `post_RV_data();` method\r\n  \r\n        public class MainActivity extends AppCompatActivity {\r\n            RecyclerView recyclerView;\r\n            ReadableBottomBar readableBottomBar;\r\n            LinearLayoutManager linearLayoutManager;\r\n            List&lt;PostsModel&gt;postsList;\r\n            PostAdapter post_adapter;\r\n        \r\n            @Override\r\n            protected void onCreate(Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n                setContentView(R.layout.activity_main);\r\n                getSupportActionBar().hide();\r\n                post_RV_ids(); // swapped to top\r\n                post_RV_data();\r\n        \r\n        \r\n                // remove this line. you have already declared it.... \r\n                setContentView(R.layout.activity_main);\r\n               \r\n            }\r\n        \r\n            private void post_RV_data() {\r\n                postsList = new ArrayList&lt;&gt;();\r\n                postsList.add(new PostsModel(R.drawable.story1,&quot;Angle&quot;,R.drawable.ic_baseline_more_vert_24  ,R.drawable.story1,\r\n                        R.drawable.ic_baseline_favorite_border_24, &quot;5.9K&quot;, R.drawable.ic_baseline_chat_bubble_24, &quot;941&quot;,\r\n                        R.drawable.ic_baseline_send_24,&quot;312&quot;, R.drawable.ic_baseline_bookmark_border_24));\r\n                postsList.add(new PostsModel(R.drawable.story1,&quot;Angle&quot;,R.drawable.ic_baseline_more_vert_24  ,R.drawable.story1,\r\n                        R.drawable.ic_baseline_favorite_border_24, &quot;5.9K&quot;, R.drawable.ic_baseline_chat_bubble_24, &quot;941&quot;,\r\n                        R.drawable.ic_baseline_send_24,&quot;312&quot;, R.drawable.ic_baseline_bookmark_border_24));\r\n                postsList.add(new PostsModel(R.drawable.story1,&quot;Angle&quot;,R.drawable.ic_baseline_more_vert_24  ,R.drawable.story1,\r\n                        R.drawable.ic_baseline_favorite_border_24, &quot;5.9K&quot;, R.drawable.ic_baseline_chat_bubble_24, &quot;941&quot;,\r\n                        R.drawable.ic_baseline_send_24,&quot;312&quot;, R.drawable.ic_baseline_bookmark_border_24));\r\n\r\n              // add notify here\r\n              post_adapter.notifyDataSetChanged();\r\n            }\r\n        \r\n            private void post_RV_ids() {\r\n                recyclerView = findViewById(R.id.recyclerView);\r\n                linearLayoutManager = new LinearLayoutManager(this);\r\n                linearLayoutManager.setOrientation(RecyclerView.VERTICAL);\r\n                recyclerView.setLayoutManager(linearLayoutManager);\r\n                post_adapter = new PostAdapter(postsList);\r\n                recyclerView.setAdapter(post_adapter);\r\n                // removed notify from here\r\n            }\r\n        }","title":"Recycler View not Showing in Android Studio","body":"<p>declare the the <code>post_RV_ids();</code> on top of <code>post_RV_data();</code> and call the adapter notify in <code>post_RV_data();</code> method</p>\n<pre><code>    public class MainActivity extends AppCompatActivity {\n        RecyclerView recyclerView;\n        ReadableBottomBar readableBottomBar;\n        LinearLayoutManager linearLayoutManager;\n        List&lt;PostsModel&gt;postsList;\n        PostAdapter post_adapter;\n    \n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_main);\n            getSupportActionBar().hide();\n            post_RV_ids(); // swapped to top\n            post_RV_data();\n    \n    \n            // remove this line. you have already declared it.... \n            setContentView(R.layout.activity_main);\n           \n        }\n    \n        private void post_RV_data() {\n            postsList = new ArrayList&lt;&gt;();\n            postsList.add(new PostsModel(R.drawable.story1,&quot;Angle&quot;,R.drawable.ic_baseline_more_vert_24  ,R.drawable.story1,\n                    R.drawable.ic_baseline_favorite_border_24, &quot;5.9K&quot;, R.drawable.ic_baseline_chat_bubble_24, &quot;941&quot;,\n                    R.drawable.ic_baseline_send_24,&quot;312&quot;, R.drawable.ic_baseline_bookmark_border_24));\n            postsList.add(new PostsModel(R.drawable.story1,&quot;Angle&quot;,R.drawable.ic_baseline_more_vert_24  ,R.drawable.story1,\n                    R.drawable.ic_baseline_favorite_border_24, &quot;5.9K&quot;, R.drawable.ic_baseline_chat_bubble_24, &quot;941&quot;,\n                    R.drawable.ic_baseline_send_24,&quot;312&quot;, R.drawable.ic_baseline_bookmark_border_24));\n            postsList.add(new PostsModel(R.drawable.story1,&quot;Angle&quot;,R.drawable.ic_baseline_more_vert_24  ,R.drawable.story1,\n                    R.drawable.ic_baseline_favorite_border_24, &quot;5.9K&quot;, R.drawable.ic_baseline_chat_bubble_24, &quot;941&quot;,\n                    R.drawable.ic_baseline_send_24,&quot;312&quot;, R.drawable.ic_baseline_bookmark_border_24));\n\n          // add notify here\n          post_adapter.notifyDataSetChanged();\n        }\n    \n        private void post_RV_ids() {\n            recyclerView = findViewById(R.id.recyclerView);\n            linearLayoutManager = new LinearLayoutManager(this);\n            linearLayoutManager.setOrientation(RecyclerView.VERTICAL);\n            recyclerView.setLayoutManager(linearLayoutManager);\n            post_adapter = new PostAdapter(postsList);\n            recyclerView.setAdapter(post_adapter);\n            // removed notify from here\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24900135,"reputation":33,"user_id":18770915,"display_name":"Anas khalil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659035067,"creation_date":1659032229,"answer_id":73157461,"question_id":67955780,"body_markdown":"**There are two points to Solving the problem:**\r\n\r\n**First :**\r\nYou have written :\r\n\r\n    setContentView(R.layout.activity_main); \r\n\r\nTwice.\r\n\r\nYou have to delete the second of them..\r\n\r\n**Second:** \r\n\r\n    notifyDataSetChanged()\r\n\r\nmust be removed, \r\nbecause you don&#39;t need this function in such a case.\r\n\r\n\r\nI hope this can help you.","title":"Recycler View not Showing in Android Studio","body":"<p><strong>There are two points to Solving the problem:</strong></p>\n<p><strong>First :</strong>\nYou have written :</p>\n<pre><code>setContentView(R.layout.activity_main); \n</code></pre>\n<p>Twice.</p>\n<p>You have to delete the second of them..</p>\n<p><strong>Second:</strong></p>\n<pre><code>notifyDataSetChanged()\n</code></pre>\n<p>must be removed,\nbecause you don't need this function in such a case.</p>\n<p>I hope this can help you.</p>\n"}],"owner":{"display_name":"user15052429"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":849,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1659035067,"creation_date":1623568427,"question_id":67955780,"body_markdown":"I am making an app with recycler view in it. But I am not able to see the recycler view in my app.\r\nWhen I check the Logcat, it says &#39;E/RecyclerView: No adapter attached; skipping layout&#39;.\r\nWhy is this happening and how can I fix this?\r\n\r\nMy Main Activity Code:\r\n```package com.smart.instagram;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.os.Bundle;\r\nimport android.widget.Adapter;\r\nimport android.widget.Toast;\r\n\r\nimport com.iammert.library.readablebottombar.ReadableBottomBar;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport Adapters.PostAdapter;\r\nimport Models.PostsModel;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    RecyclerView recyclerView;\r\n    ReadableBottomBar readableBottomBar;\r\n    LinearLayoutManager linearLayoutManager;\r\n    List&lt;PostsModel&gt;postsList;\r\n    PostAdapter post_adapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        getSupportActionBar().hide();\r\n        post_RV_data();\r\n        post_RV_ids();\r\n\r\n\r\n\r\n        setContentView(R.layout.activity_main);\r\n        readableBottomBar = findViewById(R.id.readableBottomBar);\r\n        readableBottomBar.setOnItemSelectListener(new ReadableBottomBar.ItemSelectListener() {\r\n            @Override\r\n            public void onItemSelected(int i) {\r\n                switch (i){\r\n                    case 0:\r\n//                        Toast.makeText(MainActivity.this, &quot;Home&quot;, Toast.LENGTH_SHORT).show();\r\n                        break;\r\n                    case 1:\r\n//                        Toast.makeText(MainActivity.this, &quot;Search&quot;, Toast.LENGTH_SHORT).show();\r\n                        break;\r\n                    case 2:\r\n//                        Toast.makeText(MainActivity.this, &quot;Video&quot;, Toast.LENGTH_SHORT).show();\r\n                        break;\r\n                    case 3:\r\n//                        Toast.makeText(MainActivity.this, &quot;Favourite&quot;, Toast.LENGTH_SHORT).show();\r\n                        break;\r\n                    case 4:\r\n//                        Toast.makeText(MainActivity.this, &quot;Profile&quot;, Toast.LENGTH_SHORT).show();\r\n                        break;\r\n\r\n\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n\r\n    }\r\n\r\n    private void post_RV_data() {\r\n        postsList = new ArrayList&lt;&gt;();\r\n        postsList.add(new PostsModel(R.drawable.story1,&quot;Angle&quot;,R.drawable.ic_baseline_more_vert_24  ,R.drawable.story1,\r\n                R.drawable.ic_baseline_favorite_border_24, &quot;5.9K&quot;, R.drawable.ic_baseline_chat_bubble_24, &quot;941&quot;,\r\n                R.drawable.ic_baseline_send_24,&quot;312&quot;, R.drawable.ic_baseline_bookmark_border_24));\r\n        postsList.add(new PostsModel(R.drawable.story1,&quot;Angle&quot;,R.drawable.ic_baseline_more_vert_24  ,R.drawable.story1,\r\n                R.drawable.ic_baseline_favorite_border_24, &quot;5.9K&quot;, R.drawable.ic_baseline_chat_bubble_24, &quot;941&quot;,\r\n                R.drawable.ic_baseline_send_24,&quot;312&quot;, R.drawable.ic_baseline_bookmark_border_24));\r\n        postsList.add(new PostsModel(R.drawable.story1,&quot;Angle&quot;,R.drawable.ic_baseline_more_vert_24  ,R.drawable.story1,\r\n                R.drawable.ic_baseline_favorite_border_24, &quot;5.9K&quot;, R.drawable.ic_baseline_chat_bubble_24, &quot;941&quot;,\r\n                R.drawable.ic_baseline_send_24,&quot;312&quot;, R.drawable.ic_baseline_bookmark_border_24));\r\n\r\n    }\r\n\r\n    private void post_RV_ids() {\r\n        recyclerView = findViewById(R.id.recyclerView);\r\n        linearLayoutManager = new LinearLayoutManager(this);\r\n        linearLayoutManager.setOrientation(RecyclerView.VERTICAL);\r\n        recyclerView.setLayoutManager(linearLayoutManager);\r\n        post_adapter = new PostAdapter(postsList);\r\n        recyclerView.setAdapter(post_adapter);\r\n        post_adapter.notifyDataSetChanged();\r\n    }\r\n}\r\n```\r\nMy Model Class(PostsModel.java) Code:\r\n```\r\n//This class is the data source\r\n//This class acts as a structure for holding information of every item in the recycler view\r\npackage Models;\r\n\r\npublic class PostsModel {\r\n    private int profile_pic;\r\n    private String user_name;\r\n    private int more;\r\n    private int post_image;\r\n    private int like;\r\n    private String like_no;\r\n    private int comment;\r\n    private String comment_no;\r\n    private int share;\r\n    private String share_no;\r\n    private int bookmark;\r\n\r\n    public PostsModel(int profile_pic, String user_name, int more, int post_image, int like,\r\n                      String like_no, int comment, String comment_no, int share, String share_no, int bookmark){\r\n        this.profile_pic = profile_pic;\r\n        this.user_name = user_name;\r\n        this.more = more;\r\n        this.post_image = post_image;\r\n        this.like = like;\r\n        this.like_no = like_no;\r\n        this.share = share;\r\n        this.share_no = share_no;\r\n        this.comment = comment;\r\n        this.comment_no = comment_no;\r\n        this.bookmark = bookmark;\r\n    }\r\n    //Getters\r\n\r\n    //Alt+Insert\r\n    public int getProfile_pic() {\r\n        return profile_pic;\r\n    }\r\n\r\n    public int getPost_image() {\r\n        return post_image;\r\n    }\r\n\r\n    public int getMore() {\r\n        return more;\r\n    }\r\n\r\n    public int getLike() {\r\n        return like;\r\n    }\r\n\r\n    public int getComment() {\r\n        return comment;\r\n    }\r\n\r\n    public int getShare() {\r\n        return share;\r\n    }\r\n\r\n    public int getBookmark() {\r\n        return bookmark;\r\n    }\r\n\r\n    public String getUser_name() {\r\n        return user_name;\r\n    }\r\n\r\n    public String getLike_no() {\r\n        return like_no;\r\n    }\r\n\r\n    public String getComment_no() {\r\n        return comment_no;\r\n    }\r\n\r\n    public String getShare_no() {\r\n        return share_no;\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nMy Adapter(PostAdapter.java) Class code:\r\n```\r\n//Adapter binds the data from datasource(PostModel) to recyclerview\r\npackage Adapters;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.smart.instagram.R;\r\n\r\nimport java.util.List;\r\n\r\nimport Models.PostsModel;\r\n\r\npublic class PostAdapter extends RecyclerView.Adapter&lt;PostAdapter.ViewHolder&gt; {\r\n\r\n    private List&lt;PostsModel&gt; postList;\r\n\r\n    public PostAdapter(List&lt;PostsModel&gt;postList){\r\n        this.postList = postList;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    //Implements design of our layout resource file\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.posts_rv, parent, false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        int profile_pic = postList.get(position).getProfile_pic();\r\n        int more = postList.get(position).getMore();\r\n        int post_image = postList.get(position).getPost_image();\r\n        int like = postList.get(position).getLike();\r\n        int share = postList.get(position).getShare();\r\n        int comment = postList.get(position).getComment();\r\n        int bookmark = postList.get(position).getBookmark();\r\n        String user_name = postList.get(position).getUser_name();\r\n        String like_no = postList.get(position).getLike_no();\r\n        String share_no = postList.get(position).getShare_no();\r\n        String comment_no = postList.get(position).getComment_no();\r\n\r\n        holder.setData(profile_pic, more, post_image, like, share, comment, bookmark,\r\n                user_name, like_no, comment_no, share_no);\r\n\r\n    }\r\n\r\n    //Helps to bind data from MainActivity to post_rv\r\n\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return postList.size();\r\n    }\r\n\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder{\r\n        private ImageView profile_img, post_img, more_img, like_img, comment_img, share_img, bookmark_img;\r\n        private TextView name, like_nos, comment_nos, share_nos;\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            profile_img = itemView.findViewById(R.id.profile_pic);\r\n            name = itemView.findViewById(R.id.user_name);\r\n            more_img = itemView.findViewById(R.id.more);\r\n            post_img = itemView.findViewById(R.id.post_image);\r\n            like_img = itemView.findViewById(R.id.like);\r\n            like_nos = itemView.findViewById(R.id.like_no);\r\n            share_img = itemView.findViewById(R.id.share);\r\n            share_nos = itemView.findViewById(R.id.share_no);\r\n            comment_img = itemView.findViewById(R.id.comment);\r\n            comment_nos = itemView.findViewById(R.id.comment_no);\r\n            bookmark_img = itemView.findViewById(R.id.bookmark);\r\n\r\n        }\r\n\r\n        public void setData(int profile_pic, int more, int post_image, int like, int share, int comment, int bookmark,\r\n                            String user_name, String like_no, String comment_no, String share_no) {\r\n            profile_img.setImageResource(profile_pic);\r\n            more_img.setImageResource(more);\r\n            post_img.setImageResource(post_image);\r\n            like_img.setImageResource(like);\r\n            share_img.setImageResource(share);\r\n            comment_img.setImageResource(comment);\r\n            bookmark_img.setImageResource(bookmark);\r\n            name.setText(user_name);\r\n            like_nos.setText(like_no);\r\n            comment_nos.setText(comment_no);\r\n            share_nos.setText(share_no);\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n","title":"Recycler View not Showing in Android Studio","body":"<p>I am making an app with recycler view in it. But I am not able to see the recycler view in my app.\nWhen I check the Logcat, it says 'E/RecyclerView: No adapter attached; skipping layout'.\nWhy is this happening and how can I fix this?</p>\n<p>My Main Activity Code:</p>\n<pre><code>\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.os.Bundle;\nimport android.widget.Adapter;\nimport android.widget.Toast;\n\nimport com.iammert.library.readablebottombar.ReadableBottomBar;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport Adapters.PostAdapter;\nimport Models.PostsModel;\n\npublic class MainActivity extends AppCompatActivity {\n    RecyclerView recyclerView;\n    ReadableBottomBar readableBottomBar;\n    LinearLayoutManager linearLayoutManager;\n    List&lt;PostsModel&gt;postsList;\n    PostAdapter post_adapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        getSupportActionBar().hide();\n        post_RV_data();\n        post_RV_ids();\n\n\n\n        setContentView(R.layout.activity_main);\n        readableBottomBar = findViewById(R.id.readableBottomBar);\n        readableBottomBar.setOnItemSelectListener(new ReadableBottomBar.ItemSelectListener() {\n            @Override\n            public void onItemSelected(int i) {\n                switch (i){\n                    case 0:\n//                        Toast.makeText(MainActivity.this, &quot;Home&quot;, Toast.LENGTH_SHORT).show();\n                        break;\n                    case 1:\n//                        Toast.makeText(MainActivity.this, &quot;Search&quot;, Toast.LENGTH_SHORT).show();\n                        break;\n                    case 2:\n//                        Toast.makeText(MainActivity.this, &quot;Video&quot;, Toast.LENGTH_SHORT).show();\n                        break;\n                    case 3:\n//                        Toast.makeText(MainActivity.this, &quot;Favourite&quot;, Toast.LENGTH_SHORT).show();\n                        break;\n                    case 4:\n//                        Toast.makeText(MainActivity.this, &quot;Profile&quot;, Toast.LENGTH_SHORT).show();\n                        break;\n\n\n                }\n            }\n        });\n\n\n\n    }\n\n    private void post_RV_data() {\n        postsList = new ArrayList&lt;&gt;();\n        postsList.add(new PostsModel(R.drawable.story1,&quot;Angle&quot;,R.drawable.ic_baseline_more_vert_24  ,R.drawable.story1,\n                R.drawable.ic_baseline_favorite_border_24, &quot;5.9K&quot;, R.drawable.ic_baseline_chat_bubble_24, &quot;941&quot;,\n                R.drawable.ic_baseline_send_24,&quot;312&quot;, R.drawable.ic_baseline_bookmark_border_24));\n        postsList.add(new PostsModel(R.drawable.story1,&quot;Angle&quot;,R.drawable.ic_baseline_more_vert_24  ,R.drawable.story1,\n                R.drawable.ic_baseline_favorite_border_24, &quot;5.9K&quot;, R.drawable.ic_baseline_chat_bubble_24, &quot;941&quot;,\n                R.drawable.ic_baseline_send_24,&quot;312&quot;, R.drawable.ic_baseline_bookmark_border_24));\n        postsList.add(new PostsModel(R.drawable.story1,&quot;Angle&quot;,R.drawable.ic_baseline_more_vert_24  ,R.drawable.story1,\n                R.drawable.ic_baseline_favorite_border_24, &quot;5.9K&quot;, R.drawable.ic_baseline_chat_bubble_24, &quot;941&quot;,\n                R.drawable.ic_baseline_send_24,&quot;312&quot;, R.drawable.ic_baseline_bookmark_border_24));\n\n    }\n\n    private void post_RV_ids() {\n        recyclerView = findViewById(R.id.recyclerView);\n        linearLayoutManager = new LinearLayoutManager(this);\n        linearLayoutManager.setOrientation(RecyclerView.VERTICAL);\n        recyclerView.setLayoutManager(linearLayoutManager);\n        post_adapter = new PostAdapter(postsList);\n        recyclerView.setAdapter(post_adapter);\n        post_adapter.notifyDataSetChanged();\n    }\n}\n</code></pre>\n<p>My Model Class(PostsModel.java) Code:</p>\n<pre><code>//This class is the data source\n//This class acts as a structure for holding information of every item in the recycler view\npackage Models;\n\npublic class PostsModel {\n    private int profile_pic;\n    private String user_name;\n    private int more;\n    private int post_image;\n    private int like;\n    private String like_no;\n    private int comment;\n    private String comment_no;\n    private int share;\n    private String share_no;\n    private int bookmark;\n\n    public PostsModel(int profile_pic, String user_name, int more, int post_image, int like,\n                      String like_no, int comment, String comment_no, int share, String share_no, int bookmark){\n        this.profile_pic = profile_pic;\n        this.user_name = user_name;\n        this.more = more;\n        this.post_image = post_image;\n        this.like = like;\n        this.like_no = like_no;\n        this.share = share;\n        this.share_no = share_no;\n        this.comment = comment;\n        this.comment_no = comment_no;\n        this.bookmark = bookmark;\n    }\n    //Getters\n\n    //Alt+Insert\n    public int getProfile_pic() {\n        return profile_pic;\n    }\n\n    public int getPost_image() {\n        return post_image;\n    }\n\n    public int getMore() {\n        return more;\n    }\n\n    public int getLike() {\n        return like;\n    }\n\n    public int getComment() {\n        return comment;\n    }\n\n    public int getShare() {\n        return share;\n    }\n\n    public int getBookmark() {\n        return bookmark;\n    }\n\n    public String getUser_name() {\n        return user_name;\n    }\n\n    public String getLike_no() {\n        return like_no;\n    }\n\n    public String getComment_no() {\n        return comment_no;\n    }\n\n    public String getShare_no() {\n        return share_no;\n    }\n\n\n}\n\n</code></pre>\n<p>My Adapter(PostAdapter.java) Class code:</p>\n<pre><code>//Adapter binds the data from datasource(PostModel) to recyclerview\npackage Adapters;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.smart.instagram.R;\n\nimport java.util.List;\n\nimport Models.PostsModel;\n\npublic class PostAdapter extends RecyclerView.Adapter&lt;PostAdapter.ViewHolder&gt; {\n\n    private List&lt;PostsModel&gt; postList;\n\n    public PostAdapter(List&lt;PostsModel&gt;postList){\n        this.postList = postList;\n    }\n\n    @NonNull\n    @Override\n    //Implements design of our layout resource file\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.posts_rv, parent, false);\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n        int profile_pic = postList.get(position).getProfile_pic();\n        int more = postList.get(position).getMore();\n        int post_image = postList.get(position).getPost_image();\n        int like = postList.get(position).getLike();\n        int share = postList.get(position).getShare();\n        int comment = postList.get(position).getComment();\n        int bookmark = postList.get(position).getBookmark();\n        String user_name = postList.get(position).getUser_name();\n        String like_no = postList.get(position).getLike_no();\n        String share_no = postList.get(position).getShare_no();\n        String comment_no = postList.get(position).getComment_no();\n\n        holder.setData(profile_pic, more, post_image, like, share, comment, bookmark,\n                user_name, like_no, comment_no, share_no);\n\n    }\n\n    //Helps to bind data from MainActivity to post_rv\n\n\n    @Override\n    public int getItemCount() {\n        return postList.size();\n    }\n\n\n    public class ViewHolder extends RecyclerView.ViewHolder{\n        private ImageView profile_img, post_img, more_img, like_img, comment_img, share_img, bookmark_img;\n        private TextView name, like_nos, comment_nos, share_nos;\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n            profile_img = itemView.findViewById(R.id.profile_pic);\n            name = itemView.findViewById(R.id.user_name);\n            more_img = itemView.findViewById(R.id.more);\n            post_img = itemView.findViewById(R.id.post_image);\n            like_img = itemView.findViewById(R.id.like);\n            like_nos = itemView.findViewById(R.id.like_no);\n            share_img = itemView.findViewById(R.id.share);\n            share_nos = itemView.findViewById(R.id.share_no);\n            comment_img = itemView.findViewById(R.id.comment);\n            comment_nos = itemView.findViewById(R.id.comment_no);\n            bookmark_img = itemView.findViewById(R.id.bookmark);\n\n        }\n\n        public void setData(int profile_pic, int more, int post_image, int like, int share, int comment, int bookmark,\n                            String user_name, String like_no, String comment_no, String share_no) {\n            profile_img.setImageResource(profile_pic);\n            more_img.setImageResource(more);\n            post_img.setImageResource(post_image);\n            like_img.setImageResource(like);\n            share_img.setImageResource(share);\n            comment_img.setImageResource(comment);\n            bookmark_img.setImageResource(bookmark);\n            name.setText(user_name);\n            like_nos.setText(like_no);\n            comment_nos.setText(comment_no);\n            share_nos.setText(share_no);\n        }\n    }\n\n\n}\n\n</code></pre>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":22506547,"reputation":965,"user_id":16702058,"display_name":"Hi computer"},"score":0,"creation_date":1657945203,"post_id":73001472,"comment_id":128935662,"body_markdown":"can you show your code","body":"can you show your code"},{"owner":{"account_id":19204466,"reputation":33,"user_id":14031667,"display_name":"Dibendu Ghosh"},"score":0,"creation_date":1657945240,"post_id":73001472,"comment_id":128935669,"body_markdown":"i&#39;m not able to solve it","body":"i&#39;m not able to solve it"},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":1,"creation_date":1657950279,"post_id":73001472,"comment_id":128936171,"body_markdown":"How might you solve it with pencil+paper? Think through how you could approach it by hand, without computers. Once you have a solution idea that works (this will be your algorithm), you can get a computer involved.","body":"How might you solve it with pencil+paper? Think through how you could approach it by hand, without computers. Once you have a solution idea that works (this will be your algorithm), you can get a computer involved."},{"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"score":0,"creation_date":1657951808,"post_id":73001472,"comment_id":128936338,"body_markdown":"@DibenduGhosh Start learning loop basics.","body":"@DibenduGhosh Start learning loop basics."}],"answers":[{"tags":[],"owner":{"account_id":25222066,"reputation":17,"user_id":19058383,"display_name":"Bryan Blaze"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657947255,"creation_date":1657947255,"answer_id":73001622,"question_id":73001472,"body_markdown":"From the looks of this problem, you will be replacing each index location of the input number in a loop and a max variable that tests the new number each time a number is taken away. There will be 4 iterations and everything can be solved within the loop.\r\n\r\nSince this looks like a school assignment why don&#39;t we start with pseudocode..\r\n```\r\n&#39;\r\n- Declare max as 0, and newNumber\r\n- Declare and ask for inputValue to initialize\r\n- Start a loop for input values length\r\n- Initialize newNumber without the index of inputValue using the loop iteration value\r\n- Initialize max with newNumber if newNumber is greater\r\n- (loop repeats)\r\n- Print out max\r\n&#39;\r\n```\r\n\r\nIf you simply your steps, it may make it easier to solve. I am a student as well, and this assignment looks fun. Good Luck!\r\n\r\n-Blaze","title":"Maximum Numbers in java","body":"<p>From the looks of this problem, you will be replacing each index location of the input number in a loop and a max variable that tests the new number each time a number is taken away. There will be 4 iterations and everything can be solved within the loop.</p>\n<p>Since this looks like a school assignment why don't we start with pseudocode..</p>\n<pre><code>'\n- Declare max as 0, and newNumber\n- Declare and ask for inputValue to initialize\n- Start a loop for input values length\n- Initialize newNumber without the index of inputValue using the loop iteration value\n- Initialize max with newNumber if newNumber is greater\n- (loop repeats)\n- Print out max\n'\n</code></pre>\n<p>If you simply your steps, it may make it easier to solve. I am a student as well, and this assignment looks fun. Good Luck!</p>\n<p>-Blaze</p>\n"},{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657954999,"creation_date":1657953228,"answer_id":73002042,"question_id":73001472,"body_markdown":"The question is whether we need to find the most optimal algorithm or brute force is enough.\r\n\r\n1. in case of brute force removing digit from `k` position (from the right) actually means performing following transformation with `num`: `num % (10^k) + num / (10^(k+1)) * (10^k)`, examples for 5438:\r\n- `k = 0`: `5438 % 1 + 5438 / 10 * 1 = 0 + 543 = 543`\r\n- `k = 1`: `5438 % 10 + 5438 / 100 * 10 = 8 + 540 = 548`\r\n- `k = 2`: `5438 % 100 + 5438 / 1000 * 100 = 38 + 500 = 538`\r\n- `k = 3`: `5438 % 1000 + 5438 / 10000 * 1000 = 438 + 0 = 438` \r\n\r\nand the corresponding code is:\r\n\r\n```java\r\n    public static int maxNum(int num) {\r\n        int max = 0;\r\n        for (int i = 1; i &lt; num; i *= 10) {\r\n            max = Math.max(max, num % i + num / (i * 10) * i);\r\n        }\r\n        return max;\r\n    }\r\n```\r\n\r\n2. can we find the digit to remove using &quot;more intellectual&quot; way? Let our number is A&lt;sub&gt;n&lt;/sub&gt;A&lt;sub&gt;1&lt;/sub&gt;...A&lt;sub&gt;k+1&lt;/sub&gt;A&lt;sub&gt;k&lt;/sub&gt;A&lt;sub&gt;k-1&lt;/sub&gt;...A&lt;sub&gt;0&lt;/sub&gt; and `F(k): N -&gt; M` is &quot;remove k&lt;sup&gt;th&lt;/sup&gt; digit operation&quot; operation, then `F(k+1) - F(k)` = A&lt;sub&gt;k&lt;/sub&gt;A&lt;sub&gt;k-1&lt;/sub&gt;...A&lt;sub&gt;0&lt;/sub&gt; - A&lt;sub&gt;k+1&lt;/sub&gt;A&lt;sub&gt;k-1&lt;/sub&gt;...A&lt;sub&gt;0&lt;/sub&gt; = 10&lt;sup&gt;k-1&lt;/sup&gt;(A&lt;sub&gt;k&lt;/sub&gt; - A&lt;sub&gt;k+1&lt;/sub&gt;), so, we prefer to remove A&lt;sub&gt;k+1&lt;/sub&gt; if A&lt;sub&gt;k+1&lt;/sub&gt; &lt; A&lt;sub&gt;k&lt;/sub&gt;, i.e. it is the last digit in the first monotonic non-increasing sequence, and the code is:\r\n\r\n```java\r\n    public static int maxNum(int num) {\r\n        int maxPow = 1;\r\n        while (maxPow &lt; num) {\r\n            maxPow *= 10;\r\n        }\r\n        for (int i = maxPow / 10; i &gt;= 10; i /= 10) {\r\n            int digit = num / i % 10;\r\n            int right = num / (i / 10) % 10;\r\n            if (digit &lt; right) {\r\n                return num % i + num / (i * 10) * i;\r\n            }\r\n        }\r\n        return num / 10;\r\n    }\r\n```","title":"Maximum Numbers in java","body":"<p>The question is whether we need to find the most optimal algorithm or brute force is enough.</p>\n<ol>\n<li>in case of brute force removing digit from <code>k</code> position (from the right) actually means performing following transformation with <code>num</code>: <code>num % (10^k) + num / (10^(k+1)) * (10^k)</code>, examples for 5438:</li>\n</ol>\n<ul>\n<li><code>k = 0</code>: <code>5438 % 1 + 5438 / 10 * 1 = 0 + 543 = 543</code></li>\n<li><code>k = 1</code>: <code>5438 % 10 + 5438 / 100 * 10 = 8 + 540 = 548</code></li>\n<li><code>k = 2</code>: <code>5438 % 100 + 5438 / 1000 * 100 = 38 + 500 = 538</code></li>\n<li><code>k = 3</code>: <code>5438 % 1000 + 5438 / 10000 * 1000 = 438 + 0 = 438</code></li>\n</ul>\n<p>and the corresponding code is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static int maxNum(int num) {\n        int max = 0;\n        for (int i = 1; i &lt; num; i *= 10) {\n            max = Math.max(max, num % i + num / (i * 10) * i);\n        }\n        return max;\n    }\n</code></pre>\n<ol start=\"2\">\n<li>can we find the digit to remove using &quot;more intellectual&quot; way? Let our number is A<sub>n</sub>A<sub>1</sub>...A<sub>k+1</sub>A<sub>k</sub>A<sub>k-1</sub>...A<sub>0</sub> and <code>F(k): N -&gt; M</code> is &quot;remove k<sup>th</sup> digit operation&quot; operation, then <code>F(k+1) - F(k)</code> = A<sub>k</sub>A<sub>k-1</sub>...A<sub>0</sub> - A<sub>k+1</sub>A<sub>k-1</sub>...A<sub>0</sub> = 10<sup>k-1</sup>(A<sub>k</sub> - A<sub>k+1</sub>), so, we prefer to remove A<sub>k+1</sub> if A<sub>k+1</sub> &lt; A<sub>k</sub>, i.e. it is the last digit in the first monotonic non-increasing sequence, and the code is:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>    public static int maxNum(int num) {\n        int maxPow = 1;\n        while (maxPow &lt; num) {\n            maxPow *= 10;\n        }\n        for (int i = maxPow / 10; i &gt;= 10; i /= 10) {\n            int digit = num / i % 10;\n            int right = num / (i / 10) % 10;\n            if (digit &lt; right) {\n                return num % i + num / (i * 10) * i;\n            }\n        }\n        return num / 10;\n    }\n</code></pre>\n"}],"owner":{"account_id":19204466,"reputation":33,"user_id":14031667,"display_name":"Dibendu Ghosh"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4328,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"closed_date":1657955951,"answer_count":2,"score":-4,"last_activity_date":1659035050,"creation_date":1657944944,"question_id":73001472,"body_markdown":"Maximum number\r\n\r\nWe are given a 4 digit number using digits 1 to 9. What is the maximum 3 digit number that we can make by removing one digit from the given integer.\r\nInput Format :\r\nA 4 digit number\r\nOutput Format :\r\nA 3 digit number\r\nSample Input :\r\n5438\r\nSample Output :\r\n548\r\nExplanation :\r\n1. If we remove 5, the new number is 438.\r\n2. If we remove 4, the new number is 538.\r\n3. If we remove 3, the new number is 548.\r\n4. If we remove 8, the new number is 543.\r\nOut of the 4 cases removing 3 gives us the maximum 3 digit number i.e 548","title":"Maximum Numbers in java","body":"<p>Maximum number</p>\n<p>We are given a 4 digit number using digits 1 to 9. What is the maximum 3 digit number that we can make by removing one digit from the given integer.\nInput Format :\nA 4 digit number\nOutput Format :\nA 3 digit number\nSample Input :\n5438\nSample Output :\n548\nExplanation :</p>\n<ol>\n<li>If we remove 5, the new number is 438.</li>\n<li>If we remove 4, the new number is 538.</li>\n<li>If we remove 3, the new number is 548.</li>\n<li>If we remove 8, the new number is 543.\nOut of the 4 cases removing 3 gives us the maximum 3 digit number i.e 548</li>\n</ol>\n"},{"tags":["java","binary-tree"],"answers":[{"tags":[],"owner":{"account_id":3280644,"reputation":4811,"user_id":3582831,"display_name":"0xh3xa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658511380,"creation_date":1658511380,"answer_id":73084102,"question_id":73084046,"body_markdown":"Compare the value of the root to go to left or right then add, I assume you have in the `BinaryTreeNode` class the following:\r\n\r\n```\r\nclass BinaryTreeNode {\r\n    int data;\r\n    BinaryTreeNode left, right;\r\n}\r\n```\r\n\r\n```\r\npublic BinaryTreeNode addNode(BinaryTreeNode root, BinaryTreeNode newNode) {\r\n        if (root == null || newNode == null) {\r\n            return null;\r\n        }\r\n        \r\n        if (root == null) {\r\n            root = newNode;\r\n            return root;\r\n        }\r\n\r\n        if (root.data &lt; newNode.data) {\r\n            root.right = addNode(root.right, newNode);\r\n        } else if (root.data &gt; newNode.data) {\r\n            root.left = addStrings(root.left, newNode);\r\n        }\r\n        return root;\r\n    }\r\n```","title":"What is wrong with my Binary Tree Insertion Code?","body":"<p>Compare the value of the root to go to left or right then add, I assume you have in the <code>BinaryTreeNode</code> class the following:</p>\n<pre><code>class BinaryTreeNode {\n    int data;\n    BinaryTreeNode left, right;\n}\n</code></pre>\n<pre><code>public BinaryTreeNode addNode(BinaryTreeNode root, BinaryTreeNode newNode) {\n        if (root == null || newNode == null) {\n            return null;\n        }\n        \n        if (root == null) {\n            root = newNode;\n            return root;\n        }\n\n        if (root.data &lt; newNode.data) {\n            root.right = addNode(root.right, newNode);\n        } else if (root.data &gt; newNode.data) {\n            root.left = addStrings(root.left, newNode);\n        }\n        return root;\n    }\n</code></pre>\n"}],"owner":{"account_id":24922373,"reputation":7,"user_id":18790502,"display_name":"Sage Kase"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1659034963,"creation_date":1658511007,"question_id":73084046,"body_markdown":"could someone please take a look at this portion of my insert function of my &quot;BinaryTreeNode&quot;, I am using a JetBrains IDE (I am a learner) and it keeps telling me that &quot;root = newNode&quot; can never be reached?\r\n\r\n```\r\n     public void addNode(BinaryTreeNode root, BinaryTreeNode newNode) {\r\n        if (root == null &amp;&amp; newNode == null)\r\n            return;\r\n        else if (newNode == null)\r\n            return;\r\n\r\n        if (root == null) {\r\n            root = newNode;\r\n        }\r\n    }\r\n```","title":"What is wrong with my Binary Tree Insertion Code?","body":"<p>could someone please take a look at this portion of my insert function of my &quot;BinaryTreeNode&quot;, I am using a JetBrains IDE (I am a learner) and it keeps telling me that &quot;root = newNode&quot; can never be reached?</p>\n<pre><code>     public void addNode(BinaryTreeNode root, BinaryTreeNode newNode) {\n        if (root == null &amp;&amp; newNode == null)\n            return;\n        else if (newNode == null)\n            return;\n\n        if (root == null) {\n            root = newNode;\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","ssl","angular-cli"],"comments":[{"owner":{"account_id":21787453,"reputation":177,"user_id":16088224,"display_name":"MuaazH"},"score":1,"creation_date":1658942054,"post_id":73142063,"comment_id":129179609,"body_markdown":"Angular has nothing to do with it, it&#39;s 100% a browser/server problem. The client cert should be in the browser only. When you run ng serve, you should give it the server certificate. ng serve = run a server","body":"Angular has nothing to do with it, it&#39;s 100% a browser/server problem. The client cert should be in the browser only. When you run ng serve, you should give it the server certificate. ng serve = run a server"}],"owner":{"account_id":25910057,"reputation":1,"user_id":19634479,"display_name":"ditzu_00"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1029,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659034786,"creation_date":1658941898,"question_id":73142063,"body_markdown":"I am trying to make an application that can be made through mTLS. Self-signed certificates are valid and recognized by the browser.\r\n\r\nThis is the configuration from Spring Boot:\r\n```\r\nserver.port=8443\r\nserver.ssl.enabled=true\r\nserver.ssl.key-store=classpath:keystore.jks\r\nserver.ssl.key-store-password=password\r\nserver.ssl.key-store-type=JKS\r\nserver.ssl.key-alias=localhost\r\nserver.ssl.key-password=password\r\nserver.ssl.client-auth=need\r\nserver.ssl.trust-store=classpath:truststore.jks\r\nserver.ssl.trust-store-password=password\r\nserver.ssl.trust-store-type=JKS\r\n```\r\nAnd that&#39;s how I start the Angular application:\r\n```\r\nng serve --open --ssl true --ssl-cert &lt;cert-path&gt;client.crt --ssl-key &lt;key-path&gt;client.key\r\n```\r\nIf I make a request from Postman, the client&#39;s certificates are recognized and the request is made successfully, but when I make a request from Angular, I get the error ```ERR_BAD_SSL_CLIENT_AUTH_CERT```\r\n\r\n**Problem solved**\r\n\r\nThe problem was due to the certificate used by ng serve. The certificate had to be signed with my CA and had to contain Subject Alternative Name: DNS Name=localhost.\r\nI followed this tutorial https://www.baeldung.com/x-509-authentication-in-spring-security, but for the client certificates I used:\r\n1. openssl req -new -newkey rsa:4096 -nodes -keyout client.key -out client.csr -config certificate.cnf\r\n2. openssl x509 -req -CA rootCA.crt -CAkey rootCA.key -in client.csr -out client.crt -days 365 -CAcreateserial -extfile localhost.ext\r\n\r\nlocalhost.ext - from the tutorial\r\n\r\ncertificate.cnf:\r\n```\r\n[req]\r\ndefault_bits = 2048\r\nprompt = no\r\ndefault_md = sha256\r\nx509_extensions = v3_req\r\ndistinguished_name = dn\r\n\r\n[dn]\r\nC = UK\r\nST = Hertfordshire\r\nL = Watford\r\nO = App\r\nOU = App Unit\r\nemailAddress = admin@gmail.com\r\nCN = localhost\r\n\r\n[v3_req]\r\nsubjectAltName = @alt_names\r\n\r\n[alt_names]\r\nDNS.1 = localhost\r\n```","title":"Two-way TLS Angular + Spring Boot","body":"<p>I am trying to make an application that can be made through mTLS. Self-signed certificates are valid and recognized by the browser.</p>\n<p>This is the configuration from Spring Boot:</p>\n<pre><code>server.port=8443\nserver.ssl.enabled=true\nserver.ssl.key-store=classpath:keystore.jks\nserver.ssl.key-store-password=password\nserver.ssl.key-store-type=JKS\nserver.ssl.key-alias=localhost\nserver.ssl.key-password=password\nserver.ssl.client-auth=need\nserver.ssl.trust-store=classpath:truststore.jks\nserver.ssl.trust-store-password=password\nserver.ssl.trust-store-type=JKS\n</code></pre>\n<p>And that's how I start the Angular application:</p>\n<pre><code>ng serve --open --ssl true --ssl-cert &lt;cert-path&gt;client.crt --ssl-key &lt;key-path&gt;client.key\n</code></pre>\n<p>If I make a request from Postman, the client's certificates are recognized and the request is made successfully, but when I make a request from Angular, I get the error <code>ERR_BAD_SSL_CLIENT_AUTH_CERT</code></p>\n<p><strong>Problem solved</strong></p>\n<p>The problem was due to the certificate used by ng serve. The certificate had to be signed with my CA and had to contain Subject Alternative Name: DNS Name=localhost.\nI followed this tutorial <a href=\"https://www.baeldung.com/x-509-authentication-in-spring-security\" rel=\"nofollow noreferrer\">https://www.baeldung.com/x-509-authentication-in-spring-security</a>, but for the client certificates I used:</p>\n<ol>\n<li>openssl req -new -newkey rsa:4096 -nodes -keyout client.key -out client.csr -config certificate.cnf</li>\n<li>openssl x509 -req -CA rootCA.crt -CAkey rootCA.key -in client.csr -out client.crt -days 365 -CAcreateserial -extfile localhost.ext</li>\n</ol>\n<p>localhost.ext - from the tutorial</p>\n<p>certificate.cnf:</p>\n<pre><code>[req]\ndefault_bits = 2048\nprompt = no\ndefault_md = sha256\nx509_extensions = v3_req\ndistinguished_name = dn\n\n[dn]\nC = UK\nST = Hertfordshire\nL = Watford\nO = App\nOU = App Unit\nemailAddress = admin@gmail.com\nCN = localhost\n\n[v3_req]\nsubjectAltName = @alt_names\n\n[alt_names]\nDNS.1 = localhost\n</code></pre>\n"},{"tags":["java","set","mockito","matcher"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":3,"creation_date":1435646803,"post_id":31130547,"comment_id":50273952,"body_markdown":"That&#39;s incorrect. If the method returns true and not false, it just means that the actual set is not equal (as defined by Set.equals()) to `Sets.newHashSet(&quot;valid&quot;)`. It has more or fewer or different elements inside. So you don&#39;t need any matcher. No matcher, or the eq() matcher would do fine if the set actually was equal to `Sets.newHashSet(&quot;valid&quot;)`.","body":"That&#39;s incorrect. If the method returns true and not false, it just means that the actual set is not equal (as defined by Set.equals()) to <code>Sets.newHashSet(&quot;valid&quot;)</code>. It has more or fewer or different elements inside. So you don&#39;t need any matcher. No matcher, or the eq() matcher would do fine if the set actually was equal to <code>Sets.newHashSet(&quot;valid&quot;)</code>."}],"answers":[{"tags":[],"owner":{"account_id":5577550,"reputation":4169,"user_id":4420532,"accept_rate":90,"display_name":"Felix"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1435828674,"creation_date":1435828674,"answer_id":31180484,"question_id":31130547,"body_markdown":"Apparently JB Nizet is right. There is no need for a specific matcher.\r\n\r\nI have tried to use my own matcher and then after removal it worked also:\r\n\r\n    public static class SetItemMatcher extends ArgumentMatcher&lt;Set&lt;String&gt;&gt; {\r\n        public static Set&lt;String&gt; setOf(Set&lt;String&gt; items) {\r\n            return argThat(new SetItemMatcher(items));\r\n        }\r\n\r\n        private final Set&lt;String&gt; expected;\r\n\r\n        public SetItemMatcher(Set&lt;String&gt; expected) {\r\n            this.expected = expected;\r\n        }\r\n\r\n        @Override\r\n        public boolean matches(Object argument) {\r\n            Set&lt;?&gt; actual = (Set&lt;?&gt;) argument;\r\n            return actual.size() == expected.size()  &amp;&amp; containsAllItems(actual);\r\n        }\r\n\r\n        private boolean containsAllItems(Set&lt;?&gt; actual) {\r\n            for (Object o : actual) {\r\n                if (!expected.contains(o)) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n","title":"Mockito matcher that compares items in Set, not the Set reference itself","body":"<p>Apparently JB Nizet is right. There is no need for a specific matcher.</p>\n\n<p>I have tried to use my own matcher and then after removal it worked also:</p>\n\n<pre><code>public static class SetItemMatcher extends ArgumentMatcher&lt;Set&lt;String&gt;&gt; {\n    public static Set&lt;String&gt; setOf(Set&lt;String&gt; items) {\n        return argThat(new SetItemMatcher(items));\n    }\n\n    private final Set&lt;String&gt; expected;\n\n    public SetItemMatcher(Set&lt;String&gt; expected) {\n        this.expected = expected;\n    }\n\n    @Override\n    public boolean matches(Object argument) {\n        Set&lt;?&gt; actual = (Set&lt;?&gt;) argument;\n        return actual.size() == expected.size()  &amp;&amp; containsAllItems(actual);\n    }\n\n    private boolean containsAllItems(Set&lt;?&gt; actual) {\n        for (Object o : actual) {\n            if (!expected.contains(o)) {\n                return false;\n            }\n        }\n        return true;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":171807,"reputation":3228,"user_id":399471,"accept_rate":91,"display_name":"Abbas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659034418,"creation_date":1600115307,"answer_id":63891426,"question_id":31130547,"body_markdown":"While [Felix](https://stackoverflow.com/users/4420532/felix)&#39;s answer is absolutely correct, I slightly modified it to cover more use-cases (i.e. covering any `Collection` with builder methods for `Set` and `List`):\r\n\r\n 1. Work with any collection, not just sets. \r\n 2. Added utility methods to create a list or set based on either just one item or another list/set\r\n\r\n```\r\npublic class CollectionItemMatcher&lt;T extends Collection&gt; implements ArgumentMatcher&lt;T&gt; {\r\n    public static Set setOf(Object oneItem) {\r\n        return setOf(Sets.newHashSet(oneItem));\r\n    }\r\n\r\n    public static Set setOf(Collection items) {\r\n        return ArgumentMatchers.argThat(new CollectionItemMatcher&lt;Set&gt;(Sets.newHashSet(items)));\r\n    }\r\n\r\n    public static Set emptySet() {\r\n        return setOf(Sets.newHashSet());\r\n    }\r\n\r\n    public static List listOf(Object oneItem) {\r\n        return listOf(Lists.newArrayList(oneItem));\r\n    }\r\n\r\n    public static List listOf(Collection items) {\r\n        return ArgumentMatchers.argThat(new CollectionItemMatcher&lt;List&gt;(Lists.newArrayList(items)));\r\n    }\r\n\r\n    public static List emptyList() {\r\n        return listOf(Lists.newArrayList());\r\n    }\r\n\r\n    private final T expected;\r\n\r\n    public CollectionItemMatcher(T expected) {\r\n        this.expected = expected;\r\n    }\r\n\r\n    @Override\r\n    public boolean matches(T actual) {\r\n        return actual.size() == expected.size() &amp;&amp; containsAllItems(actual);\r\n    }\r\n\r\n    private boolean containsAllItems(T actual) {\r\n        for (Object o : actual) {\r\n            if (!expected.contains(o)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\n\r\n```\r\n\r\nThen you can do something like this:\r\n```\r\nverify(validator, times(1)).isValid(CollectionItemMatcher.setOf(&quot;valid&quot;));\r\n```","title":"Mockito matcher that compares items in Set, not the Set reference itself","body":"<p>While <a href=\"https://stackoverflow.com/users/4420532/felix\">Felix</a>'s answer is absolutely correct, I slightly modified it to cover more use-cases (i.e. covering any <code>Collection</code> with builder methods for <code>Set</code> and <code>List</code>):</p>\n<ol>\n<li>Work with any collection, not just sets.</li>\n<li>Added utility methods to create a list or set based on either just one item or another list/set</li>\n</ol>\n<pre><code>public class CollectionItemMatcher&lt;T extends Collection&gt; implements ArgumentMatcher&lt;T&gt; {\n    public static Set setOf(Object oneItem) {\n        return setOf(Sets.newHashSet(oneItem));\n    }\n\n    public static Set setOf(Collection items) {\n        return ArgumentMatchers.argThat(new CollectionItemMatcher&lt;Set&gt;(Sets.newHashSet(items)));\n    }\n\n    public static Set emptySet() {\n        return setOf(Sets.newHashSet());\n    }\n\n    public static List listOf(Object oneItem) {\n        return listOf(Lists.newArrayList(oneItem));\n    }\n\n    public static List listOf(Collection items) {\n        return ArgumentMatchers.argThat(new CollectionItemMatcher&lt;List&gt;(Lists.newArrayList(items)));\n    }\n\n    public static List emptyList() {\n        return listOf(Lists.newArrayList());\n    }\n\n    private final T expected;\n\n    public CollectionItemMatcher(T expected) {\n        this.expected = expected;\n    }\n\n    @Override\n    public boolean matches(T actual) {\n        return actual.size() == expected.size() &amp;&amp; containsAllItems(actual);\n    }\n\n    private boolean containsAllItems(T actual) {\n        for (Object o : actual) {\n            if (!expected.contains(o)) {\n                return false;\n            }\n        }\n        return true;\n    }\n}\n\n</code></pre>\n<p>Then you can do something like this:</p>\n<pre><code>verify(validator, times(1)).isValid(CollectionItemMatcher.setOf(&quot;valid&quot;));\n</code></pre>\n"}],"owner":{"account_id":5577550,"reputation":4169,"user_id":4420532,"accept_rate":90,"display_name":"Felix"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5917,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":31180484,"answer_count":2,"score":6,"last_activity_date":1659034418,"creation_date":1435643509,"question_id":31130547,"body_markdown":"    when(validator.isValid(Sets.newHashSet(&quot;valid&quot;))).thenReturn(true);\r\n\r\n\r\nWhen `validator.isValid(set)` is invoked it returns **false**. It is because the validator implementation creates **a new set** that is different that the passed one (reference is different) - the items in both sets are same.\r\n\r\nI need to return **true** if sets contains same items regardless of sets instances.\r\n\r\nSomething similar to `org.mockito.Matchers`:\r\n\r\n    public static &lt;T&gt; Set&lt;T&gt; anySetOf(Class&lt;T&gt; clazz) {\r\n            return (Set) reportMatcher(Any.ANY).returnSet();\r\n    }\r\n\r\nexcept that I would pass instances not `Class&lt;T&gt;.class`.\r\n\r\nAnd same for `verify`:\r\n\r\n    verify(validator, times(1)).isValid(Sets.newHashSet(&quot;valid&quot;));\r\n\r\nIs there such a matcher?","title":"Mockito matcher that compares items in Set, not the Set reference itself","body":"<pre><code>when(validator.isValid(Sets.newHashSet(\"valid\"))).thenReturn(true);\n</code></pre>\n\n<p>When <code>validator.isValid(set)</code> is invoked it returns <strong>false</strong>. It is because the validator implementation creates <strong>a new set</strong> that is different that the passed one (reference is different) - the items in both sets are same.</p>\n\n<p>I need to return <strong>true</strong> if sets contains same items regardless of sets instances.</p>\n\n<p>Something similar to <code>org.mockito.Matchers</code>:</p>\n\n<pre><code>public static &lt;T&gt; Set&lt;T&gt; anySetOf(Class&lt;T&gt; clazz) {\n        return (Set) reportMatcher(Any.ANY).returnSet();\n}\n</code></pre>\n\n<p>except that I would pass instances not <code>Class&lt;T&gt;.class</code>.</p>\n\n<p>And same for <code>verify</code>:</p>\n\n<pre><code>verify(validator, times(1)).isValid(Sets.newHashSet(\"valid\"));\n</code></pre>\n\n<p>Is there such a matcher?</p>\n"},{"tags":["java","android","android-studio","hotspot"],"owner":{"account_id":20352507,"reputation":11,"user_id":14928845,"display_name":"felipe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659033877,"creation_date":1659033877,"question_id":73157772,"body_markdown":"I want to create a mobile hotspot in an android device, I already implemented the hotspot  code and is working now, but..  I cannot configure the name and the password of that hotspot using java.\r\n\r\nWhat I am doing wrong? \r\n\r\n\r\nhere is my code.\r\n\r\n\r\n    private WifiManager wifiManager;\r\n    private WifiManager.LocalOnlyHotspotReservation mReservation;\r\n\r\n\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.O)\r\n    private void turnOnHotspot() {\r\n        WifiManager manager = (WifiManager) getApplicationContext().getSystemService(Context.WIFI_SERVICE);\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            // TODO: Consider calling\r\n            //    ActivityCompat#requestPermissions\r\n            // here to request the missing permissions, and then overriding\r\n            //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n            //                                          int[] grantResults)\r\n            // to handle the case where the user grants the permission. See the documentation\r\n            // for ActivityCompat#requestPermissions for more details.\r\n            return;\r\n        }\r\n\r\n        manager.startLocalOnlyHotspot(new WifiManager.LocalOnlyHotspotCallback() {\r\n\r\n            @Override\r\n            public void onStarted(WifiManager.LocalOnlyHotspotReservation reservation) {\r\n                reservation.getWifiConfiguration().SSID = &quot;android&quot;; //this doesn&#39;t do anything\r\n                reservation.getWifiConfiguration().preSharedKey = &quot;12345678&quot;; //this doesn&#39;t do anything\r\n\r\n                super.onStarted(reservation);\r\n                Log.d(TAG, &quot;Wifi Hotspot is on now&quot;);\r\n                mReservation = reservation;\r\n            }\r\n\r\n            @Override\r\n            public void onStopped() {\r\n                super.onStopped();\r\n                Log.d(TAG, &quot;onStopped: &quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onFailed(int reason) {\r\n                super.onFailed(reason);\r\n                Log.d(TAG, &quot;onFailed: &quot;);\r\n            }\r\n        }, new Handler());\r\n    }\r\n\r\n\r\n\r\n\r\n    private void turnOffHotspot() {\r\n        if (mReservation != null) {\r\n            mReservation.close();\r\n            Log.d(TAG, &quot;Wifi Hotspot is off now&quot;);\r\n        }\r\n    }\r\n\r\n\r\n","title":"How can I configure the SSID and password of a hotspot in android studio?","body":"<p>I want to create a mobile hotspot in an android device, I already implemented the hotspot  code and is working now, but..  I cannot configure the name and the password of that hotspot using java.</p>\n<p>What I am doing wrong?</p>\n<p>here is my code.</p>\n<pre><code>private WifiManager wifiManager;\nprivate WifiManager.LocalOnlyHotspotReservation mReservation;\n\n\n\n@RequiresApi(api = Build.VERSION_CODES.O)\nprivate void turnOnHotspot() {\n    WifiManager manager = (WifiManager) getApplicationContext().getSystemService(Context.WIFI_SERVICE);\n    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n        // TODO: Consider calling\n        //    ActivityCompat#requestPermissions\n        // here to request the missing permissions, and then overriding\n        //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n        //                                          int[] grantResults)\n        // to handle the case where the user grants the permission. See the documentation\n        // for ActivityCompat#requestPermissions for more details.\n        return;\n    }\n\n    manager.startLocalOnlyHotspot(new WifiManager.LocalOnlyHotspotCallback() {\n\n        @Override\n        public void onStarted(WifiManager.LocalOnlyHotspotReservation reservation) {\n            reservation.getWifiConfiguration().SSID = &quot;android&quot;; //this doesn't do anything\n            reservation.getWifiConfiguration().preSharedKey = &quot;12345678&quot;; //this doesn't do anything\n\n            super.onStarted(reservation);\n            Log.d(TAG, &quot;Wifi Hotspot is on now&quot;);\n            mReservation = reservation;\n        }\n\n        @Override\n        public void onStopped() {\n            super.onStopped();\n            Log.d(TAG, &quot;onStopped: &quot;);\n        }\n\n        @Override\n        public void onFailed(int reason) {\n            super.onFailed(reason);\n            Log.d(TAG, &quot;onFailed: &quot;);\n        }\n    }, new Handler());\n}\n\n\n\n\nprivate void turnOffHotspot() {\n    if (mReservation != null) {\n        mReservation.close();\n        Log.d(TAG, &quot;Wifi Hotspot is off now&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","hashmap","priority-queue"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611103619,"creation_date":1611103619,"answer_id":65801627,"question_id":65801575,"body_markdown":"The order is correct.  `PriorityQueue` doesn&#39;t guarantee how ties are broken, and 1 and 2 are tied:\r\n\r\n&gt; If multiple elements are tied for least value, the head is one of those elements -- ties are broken arbitrarily.\r\n\r\nIf you want to pick an order for ties, then your comparator should do that.  The easiest way is to write `Comparators.comparingInt(i -&gt; map.get(i)).thenComparingInt(i -&gt; i)` to break ties in ascending order.","title":"java priority queue doesn&#39;t get correct order based on the frequency of hashmap","body":"<p>The order is correct.  <code>PriorityQueue</code> doesn't guarantee how ties are broken, and 1 and 2 are tied:</p>\n<blockquote>\n<p>If multiple elements are tied for least value, the head is one of those elements -- ties are broken arbitrarily.</p>\n</blockquote>\n<p>If you want to pick an order for ties, then your comparator should do that.  The easiest way is to write <code>Comparators.comparingInt(i -&gt; map.get(i)).thenComparingInt(i -&gt; i)</code> to break ties in ascending order.</p>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611103808,"creation_date":1611103808,"answer_id":65801645,"question_id":65801575,"body_markdown":"Both `1` and `2` appear twice in the array, so as far as the priority queue is concerned, they are &quot;equal&quot;, as you are just telling the priority queue to compare their frequency _only_. Since they are equal, they can appear in any order.\r\n\r\nSo to fix this, you need to tell the priority queue what to do when the elements are equal. Although you could try to add this logic to your lambda, this can be more easily done with a `comparing` and `thenComparing` call:\r\n\r\n    PriorityQueue&lt;Integer&gt; pq = new PriorityQueue&lt;&gt;(\r\n        Comparator.&lt;Integer, Integer&gt;comparing(map::get)\r\n            .thenComparing(Function.identity())\r\n    );\r\n\r\nThis means &quot;compare the value you get from the map, _then compare_ the number itself&quot;. This means that it will order 1 before 2, even if both 1 and 2 occurred twice.\r\n\r\n","title":"java priority queue doesn&#39;t get correct order based on the frequency of hashmap","body":"<p>Both <code>1</code> and <code>2</code> appear twice in the array, so as far as the priority queue is concerned, they are &quot;equal&quot;, as you are just telling the priority queue to compare their frequency <em>only</em>. Since they are equal, they can appear in any order.</p>\n<p>So to fix this, you need to tell the priority queue what to do when the elements are equal. Although you could try to add this logic to your lambda, this can be more easily done with a <code>comparing</code> and <code>thenComparing</code> call:</p>\n<pre><code>PriorityQueue&lt;Integer&gt; pq = new PriorityQueue&lt;&gt;(\n    Comparator.&lt;Integer, Integer&gt;comparing(map::get)\n        .thenComparing(Function.identity())\n);\n</code></pre>\n<p>This means &quot;compare the value you get from the map, <em>then compare</em> the number itself&quot;. This means that it will order 1 before 2, even if both 1 and 2 occurred twice.</p>\n"},{"tags":[],"owner":{"account_id":9019607,"reputation":1,"user_id":19551814,"display_name":"Aman Prakash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658054069,"creation_date":1658054069,"answer_id":73011044,"question_id":65801575,"body_markdown":"Simpler way to achieve the same-\r\n\r\n`PriorityQueue&lt;Map.Entry&lt;Integer,Integer&gt;&gt; pq=new PriorityQueue&lt;&gt;(a,b) -&gt; map.get(a)==map.get(b) ? b-a: map.get(b)-map.get(a));`\r\n\r\nHere you first check if the map value for the respective key are same or not if same then sort on the basis of the key \r\n\r\nif not same then simply sort on the basis of frequency","title":"java priority queue doesn&#39;t get correct order based on the frequency of hashmap","body":"<p>Simpler way to achieve the same-</p>\n<p><code>PriorityQueue&lt;Map.Entry&lt;Integer,Integer&gt;&gt; pq=new PriorityQueue&lt;&gt;(a,b) -&gt; map.get(a)==map.get(b) ? b-a: map.get(b)-map.get(a));</code></p>\n<p>Here you first check if the map value for the respective key are same or not if same then sort on the basis of the key</p>\n<p>if not same then simply sort on the basis of frequency</p>\n"}],"owner":{"account_id":14059002,"reputation":21,"user_id":10155556,"display_name":"DoggyDoggy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1659032982,"creation_date":1611103127,"question_id":65801575,"body_markdown":"```\r\n       Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\r\n        \r\n        for (int n : arr) map.put(n, map.getOrDefault(n, 0) + 1);\r\n\r\n        PriorityQueue&lt;Integer&gt; pq = new PriorityQueue&lt;&gt;((a, b) -&gt; map.get(a) - map.get(b));\r\n        for (int n : arr) pq.add(n);\r\n        \r\n        while (!pq.isEmpty()) {\r\n            System.out.print(pq.poll() + &quot; &quot;);\r\n        }\r\n```\r\nAssume the input arr is [4,3,1,1,3,3,2,2]\r\nand after we put them all inside the pq and poll them one by one.\r\nthe correct order should be 4 1 1 2 2 3 3 3 in the order of frequency.\r\n\r\nBut the output order is 4 1 2 2 1 3 3 3  which didn&#39;t output the correct order.\r\n","title":"java priority queue doesn&#39;t get correct order based on the frequency of hashmap","body":"<pre><code>       Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\n        \n        for (int n : arr) map.put(n, map.getOrDefault(n, 0) + 1);\n\n        PriorityQueue&lt;Integer&gt; pq = new PriorityQueue&lt;&gt;((a, b) -&gt; map.get(a) - map.get(b));\n        for (int n : arr) pq.add(n);\n        \n        while (!pq.isEmpty()) {\n            System.out.print(pq.poll() + &quot; &quot;);\n        }\n</code></pre>\n<p>Assume the input arr is [4,3,1,1,3,3,2,2]\nand after we put them all inside the pq and poll them one by one.\nthe correct order should be 4 1 1 2 2 3 3 3 in the order of frequency.</p>\n<p>But the output order is 4 1 2 2 1 3 3 3  which didn't output the correct order.</p>\n"},{"tags":["java","sha256","cryptojs","hmac"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1659028099,"post_id":73156642,"comment_id":129203871,"body_markdown":"What&#39;s the problem with Java&#39;s `Base64` class? What are your actual and expected outputs? For what inputs? Any errors? See [ask].","body":"What&#39;s the problem with Java&#39;s <code>Base64</code> class? What are your actual and expected outputs? For what inputs? Any errors? See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":22774060,"reputation":11,"user_id":16931033,"display_name":"Rohit"},"score":0,"creation_date":1659028154,"post_id":73156642,"comment_id":129203894,"body_markdown":"My Java code uses Base64.getEncoder().encode to convert to Base64.\nMy JavaScript code uses CryptoJS.enc.Base64.parse to convert from Base64.\nI need to make those match.\nWhat is Java equivalent of CryptoJS.enc.Base64.parse","body":"My Java code uses Base64.getEncoder().encode to convert to Base64. My JavaScript code uses CryptoJS.enc.Base64.parse to convert from Base64. I need to make those match. What is Java equivalent of CryptoJS.enc.Base64.parse"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1659032516,"post_id":73156642,"comment_id":129205226,"body_markdown":"`CryptoJS.enc.Base64.parse(APIKey)` is the closest equivalent to Base64 **de**coding (more precisely the conversion of a Base64 encoded value into a `WordArray`, the data type used internally by CryptoJS), i.e. the Java counterpart would be `Base64.getDecoder().decode()`. However, `APIKey` is expected to have a Base64 encoded value and `secret` is not a valid Base64 expression. But most likey this is just a placeholder for a valid Base64 expression.","body":"<code>CryptoJS.enc.Base64.parse(APIKey)</code> is the closest equivalent to Base64 <b>de</b>coding (more precisely the conversion of a Base64 encoded value into a <code>WordArray</code>, the data type used internally by CryptoJS), i.e. the Java counterpart would be <code>Base64.getDecoder().decode()</code>. However, <code>APIKey</code> is expected to have a Base64 encoded value and <code>secret</code> is not a valid Base64 expression. But most likey this is just a placeholder for a valid Base64 expression."}],"owner":{"account_id":22774060,"reputation":11,"user_id":16931033,"display_name":"Rohit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1399,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659032612,"creation_date":1659027794,"question_id":73156642,"body_markdown":"&#39;ve been trying to port some NodeJS code to Java in order to make HMAC signed requests to an API. I&#39;ve been able to simplify the code to a point were encoding is clearly affecting the output.\r\n\r\nHere&#39;s my code in JavaScript:\r\n\r\n    var APIKey = &quot;secret&quot;;\r\n    var secretByteArray = CryptoJS.enc.Base64.parse(APIKey);\r\n    var hash = CryptoJS.HmacSHA256(&quot;Message&quot;, secretByteArray);\r\n    var hashInBase64 = CryptoJS.enc.Base64.stringify(hash);\r\n    //alert(hashInBase64);\r\n    document.write(hashInBase64);\r\n\r\nHere&#39;s the Java Code:\r\n\r\n    try {\r\n            String secret = &quot;secret&quot;;\r\n            String message = &quot;Message&quot;;\r\n    \r\n            byte[] secretByteArray = Base64.getEncoder().encode(secret.getBytes());\r\n    \r\n            //byte[] secretByteArray = Base64.encodeBase64(secret.getBytes(&quot;utf-8&quot;), true);\r\n    \r\n            Mac sha256_HMAC = Mac.getInstance(&quot;HmacSHA256&quot;);\r\n            SecretKeySpec secret_key = new SecretKeySpec(secretByteArray, &quot;HmacSHA256&quot;);\r\n            sha256_HMAC.init(secret_key);\r\n    \r\n            String hash = Base64.getEncoder().encodeToString(sha256_HMAC.doFinal(message.getBytes()));\r\n            System.out.println(hash);\r\n        }\r\n        catch (Exception e){\r\n            System.out.println(&quot;Error&quot;);\r\n        }\r\n\r\n\r\n**What to use instead of Base64.getEncoder().encode? **","title":"Java equivalent of CryptoJS.enc.Base64 for encryption","body":"<p>'ve been trying to port some NodeJS code to Java in order to make HMAC signed requests to an API. I've been able to simplify the code to a point were encoding is clearly affecting the output.</p>\n<p>Here's my code in JavaScript:</p>\n<pre><code>var APIKey = &quot;secret&quot;;\nvar secretByteArray = CryptoJS.enc.Base64.parse(APIKey);\nvar hash = CryptoJS.HmacSHA256(&quot;Message&quot;, secretByteArray);\nvar hashInBase64 = CryptoJS.enc.Base64.stringify(hash);\n//alert(hashInBase64);\ndocument.write(hashInBase64);\n</code></pre>\n<p>Here's the Java Code:</p>\n<pre><code>try {\n        String secret = &quot;secret&quot;;\n        String message = &quot;Message&quot;;\n\n        byte[] secretByteArray = Base64.getEncoder().encode(secret.getBytes());\n\n        //byte[] secretByteArray = Base64.encodeBase64(secret.getBytes(&quot;utf-8&quot;), true);\n\n        Mac sha256_HMAC = Mac.getInstance(&quot;HmacSHA256&quot;);\n        SecretKeySpec secret_key = new SecretKeySpec(secretByteArray, &quot;HmacSHA256&quot;);\n        sha256_HMAC.init(secret_key);\n\n        String hash = Base64.getEncoder().encodeToString(sha256_HMAC.doFinal(message.getBytes()));\n        System.out.println(hash);\n    }\n    catch (Exception e){\n        System.out.println(&quot;Error&quot;);\n    }\n</code></pre>\n<p>**What to use instead of Base64.getEncoder().encode? **</p>\n"},{"tags":["java","sql","arrays","string","object"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1659028943,"post_id":73156765,"comment_id":129204155,"body_markdown":"Hi there, a few things, this `if (value instanceof String) {` will cause your code to only add to your list whatever is already a string, if that is what you want, ok. Since you already have a List, you don&#39;t need to convert to an array and then print the array, just change the last 2 lines of your code to `list.forEach(System.out::println)` Java is natively using the `toString` method of the array object to print it, thats why you are seeing the weird code (object plus hash)","body":"Hi there, a few things, this <code>if (value instanceof String) {</code> will cause your code to only add to your list whatever is already a string, if that is what you want, ok. Since you already have a List, you don&#39;t need to convert to an array and then print the array, just change the last 2 lines of your code to <code>list.forEach(System.out::println)</code> Java is natively using the <code>toString</code> method of the array object to print it, thats why you are seeing the weird code (object plus hash)"}],"answers":[{"tags":[],"owner":{"account_id":8523194,"reputation":1574,"user_id":6389337,"display_name":"sapan prajapati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659031964,"creation_date":1659031662,"answer_id":73157366,"question_id":73156765,"body_markdown":"Since SQL query is giving list of array of objects, so you need one nested for-each loop as well. It should look something like below.\r\n\r\n    Query q = entityManager.createNativeQuery(env.getProperty(&quot;buyback-feedback-update&quot;));  \r\n    \r\n    \r\n            List&lt;Object[]&gt; d = q.getResultList();\r\n            List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n            for (Object[] value : d) {\r\n               if (value instanceof String[]) {\r\n                  String[] strings = (String[]) value;\r\n                  for(String str: strings) {\r\n                     list.addAll(Arrays.asList(str.split(&quot;,&quot;)));\r\n                  }\r\n               }\r\n            }\r\n\r\n            list.forEach(System.out::println);","title":"How to take results from a sql query in Java, convert it to a list of strings, then print the result?","body":"<p>Since SQL query is giving list of array of objects, so you need one nested for-each loop as well. It should look something like below.</p>\n<pre><code>Query q = entityManager.createNativeQuery(env.getProperty(&quot;buyback-feedback-update&quot;));  \n\n\n        List&lt;Object[]&gt; d = q.getResultList();\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\n        for (Object[] value : d) {\n           if (value instanceof String[]) {\n              String[] strings = (String[]) value;\n              for(String str: strings) {\n                 list.addAll(Arrays.asList(str.split(&quot;,&quot;)));\n              }\n           }\n        }\n\n        list.forEach(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":25408582,"reputation":1,"user_id":19216846,"display_name":"Johny Leo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":880,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1659031964,"creation_date":1659028392,"question_id":73156765,"body_markdown":"I&#39;m currently trying to get a list of objects I obtain from a sql query (that gets results from a one row of a db), convert it to a list of strings, then print the result (or print the first item in the array, second, etc)\r\n\r\nMy code is as follows: \r\n\r\n```\r\nQuery q = entityManager.createNativeQuery(env.getProperty(&quot;buyback-feedback-update&quot;));  \r\n\r\n\r\n\t\tList&lt;Object[]&gt; d = q.getResultList();\r\n\t\tList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n\t\tfor (Object value : d) {\r\n\t\t\tif (value instanceof String) {\r\n\t\t\t\tString str = (String) value;\r\n\t\t\t\tlist.addAll(Arrays.asList(str.split(&quot;,&quot;)));\r\n\t\t\t}\r\n\t\t}\r\n\t\tString[] array = list.toArray(new String[list.size()]);\r\n\t\tSystem.out.println(array);\r\n```\r\nWhen I run this code, the terminal log displays as so:\r\n\r\n```\r\nHibernate: select ARBTRT_STATUS_FLAG,ARBTRT_CLOSED_BY_ID,ARBTRT_CLOSING_DT,MODIFY_BY_ID,MODIFY_TIMSTM from arbitration_request ORDER BY MODIFY_TIMSTM DESC FETCH FIRST 1 ROWS ONLY\r\n\r\n[Ljava.lang.String;@c94526\r\n\r\n```\r\nWhen I run the same query but merely code it so it reads and outputs from list of objects rather then convert to strings, the terminal does print the results from the sql query properly so I know the query works and is getting results just fine. Converting objects to strings is the problem. How can I correct my code to convert objects to strings and print the results as strings?","title":"How to take results from a sql query in Java, convert it to a list of strings, then print the result?","body":"<p>I'm currently trying to get a list of objects I obtain from a sql query (that gets results from a one row of a db), convert it to a list of strings, then print the result (or print the first item in the array, second, etc)</p>\n<p>My code is as follows:</p>\n<pre><code>Query q = entityManager.createNativeQuery(env.getProperty(&quot;buyback-feedback-update&quot;));  \n\n\n        List&lt;Object[]&gt; d = q.getResultList();\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\n        for (Object value : d) {\n            if (value instanceof String) {\n                String str = (String) value;\n                list.addAll(Arrays.asList(str.split(&quot;,&quot;)));\n            }\n        }\n        String[] array = list.toArray(new String[list.size()]);\n        System.out.println(array);\n</code></pre>\n<p>When I run this code, the terminal log displays as so:</p>\n<pre><code>Hibernate: select ARBTRT_STATUS_FLAG,ARBTRT_CLOSED_BY_ID,ARBTRT_CLOSING_DT,MODIFY_BY_ID,MODIFY_TIMSTM from arbitration_request ORDER BY MODIFY_TIMSTM DESC FETCH FIRST 1 ROWS ONLY\n\n[Ljava.lang.String;@c94526\n\n</code></pre>\n<p>When I run the same query but merely code it so it reads and outputs from list of objects rather then convert to strings, the terminal does print the results from the sql query properly so I know the query works and is getting results just fine. Converting objects to strings is the problem. How can I correct my code to convert objects to strings and print the results as strings?</p>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":25639654,"reputation":11,"user_id":19408767,"display_name":"ponderingLlama"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659031145,"creation_date":1659030824,"answer_id":73157248,"question_id":73156920,"body_markdown":"The code you provided will give an ArrayOutofBounds error as you mentioned because c[10] does not exist. (In the second for loop when i = 9, you will be trying to set c[10] which does not exist).\r\n\r\nFrom what I understand, you want array c to contain the following elements:\r\n\r\nc = { a[0], b[0], a[1], b[1], a[2], b[2], a[3], b[3], a[4], b[4] }\r\n\r\nWhat I did was to create two separate indices that will help navigate through array a and array b and set c[i] according to whether i was even or odd and then incrementing the respective aIndex or bIndex. I wrote this code below that works the way I described\r\n\r\n        System.out.println(&quot;\\f&quot;);\r\n        Scanner sc = new Scanner(System.in);\r\n        int a[] = new int[5];\r\n        int b[] = new int[10];\r\n        int c[] = new int[10];\r\n        System.out.println(&quot;Enter an integer into each array simultaneously&quot;);\r\n        for (int i = 0; i &lt; 5; i++)\r\n        {\r\n            a[i] = sc.nextInt();\r\n            b[i] = sc.nextInt();\r\n        }\r\n        \r\n        // Fixed code snipped\r\n        int aIndex = 0;\r\n        int bIndex = 0;\r\n        for (int i = 0; i &lt; 10; i++)\r\n        {\r\n            // even index\r\n            if(i%2 == 0){\r\n                c[i] = a[aIndex];\r\n                aIndex++;\r\n            }\r\n            else\r\n            {\r\n                c[i] = b[bIndex];\r\n                bIndex++;\r\n            }\r\n        }\r\n        ////\r\n        \r\n        System.out.println(&quot;Array contents are&quot;);\r\n        for (int i = 0; i &lt; 10; i++)\r\n        {\r\n            System.out.println(c[i]+&quot;\\t&quot;);\r\n        }\r\n\r\nLet me know if you need further clarification on how this works so I can edit in a more in-depth explanation.","title":"How to accept integers into 2 different int arrays simultaneously and form a new array in java in the same order?","body":"<p>The code you provided will give an ArrayOutofBounds error as you mentioned because c[10] does not exist. (In the second for loop when i = 9, you will be trying to set c[10] which does not exist).</p>\n<p>From what I understand, you want array c to contain the following elements:</p>\n<p>c = { a[0], b[0], a[1], b[1], a[2], b[2], a[3], b[3], a[4], b[4] }</p>\n<p>What I did was to create two separate indices that will help navigate through array a and array b and set c[i] according to whether i was even or odd and then incrementing the respective aIndex or bIndex. I wrote this code below that works the way I described</p>\n<pre><code>    System.out.println(&quot;\\f&quot;);\n    Scanner sc = new Scanner(System.in);\n    int a[] = new int[5];\n    int b[] = new int[10];\n    int c[] = new int[10];\n    System.out.println(&quot;Enter an integer into each array simultaneously&quot;);\n    for (int i = 0; i &lt; 5; i++)\n    {\n        a[i] = sc.nextInt();\n        b[i] = sc.nextInt();\n    }\n    \n    // Fixed code snipped\n    int aIndex = 0;\n    int bIndex = 0;\n    for (int i = 0; i &lt; 10; i++)\n    {\n        // even index\n        if(i%2 == 0){\n            c[i] = a[aIndex];\n            aIndex++;\n        }\n        else\n        {\n            c[i] = b[bIndex];\n            bIndex++;\n        }\n    }\n    ////\n    \n    System.out.println(&quot;Array contents are&quot;);\n    for (int i = 0; i &lt; 10; i++)\n    {\n        System.out.println(c[i]+&quot;\\t&quot;);\n    }\n</code></pre>\n<p>Let me know if you need further clarification on how this works so I can edit in a more in-depth explanation.</p>\n"},{"tags":[],"owner":{"account_id":11469,"reputation":526,"user_id":22116,"display_name":"schonarth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659031911,"creation_date":1659031911,"answer_id":73157410,"question_id":73156920,"body_markdown":"The idea of separating the inputs is interesting, but it seems to be giving you more problems than solutions when trying to join them together later.\r\n\r\nWhy not just accept everything into a single array, and when reading it, you test its index to see where it should go? If you have two possible uses for your numbers, odd and even positions will get you there; if three, multiples of 3 plus or minus one, and so on.\r\n\r\nThis seems to be a simpler solution, and both the input and data storage are as straightforward as can be.","title":"How to accept integers into 2 different int arrays simultaneously and form a new array in java in the same order?","body":"<p>The idea of separating the inputs is interesting, but it seems to be giving you more problems than solutions when trying to join them together later.</p>\n<p>Why not just accept everything into a single array, and when reading it, you test its index to see where it should go? If you have two possible uses for your numbers, odd and even positions will get you there; if three, multiples of 3 plus or minus one, and so on.</p>\n<p>This seems to be a simpler solution, and both the input and data storage are as straightforward as can be.</p>\n"}],"owner":{"account_id":23718922,"reputation":3,"user_id":17739724,"display_name":"Mr Gubbo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1659031911,"creation_date":1659029172,"question_id":73156920,"body_markdown":"If you are accepting integers simultaneously one after another for a different array each time an int is accepted, then how do you form a third array with the digits of the 2 other arrays in the order in which they are accepted?\r\n\r\n    import java.util.Scanner;\r\n    class Integer_Acceptor\r\n    {\r\n        public static void main()\r\n        {\r\n            System.out.println(&quot;\\f&quot;);\r\n            Scanner sc = new Scanner(System.in);\r\n            int a[] = new int[5];\r\n            int b[] = new int[10];\r\n            int c[] = new int[10];\r\n            System.out.println(&quot;Enter an integer into each array simultaneously&quot;);\r\n            for (int i = 0; i &lt; 5; i++)\r\n            {\r\n                a[i] = sc.nextInt();\r\n                b[i] = sc.nextInt();\r\n            }\r\n            for (int i = 0; i &lt; 10; i++)\r\n            {\r\n                if (i%2 != 0)\r\n                {\r\n                    c[i] = a[i];\r\n                    c[i+1] = b[i];\r\n                }\r\n            }\r\n            System.out.println(&quot;Array contents are&quot;);\r\n            for (int i = 0; i &lt; 10; i++)\r\n            {\r\n                System.out.println(c[i]+&quot;\\t&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nThis is the program I made but obviously it doesn&#39;t work (ArrayOutofBounds) as the integer in array increases by 2 every time. How do I make this program give the combined integers of both arrays in the order in which they are accepted?","title":"How to accept integers into 2 different int arrays simultaneously and form a new array in java in the same order?","body":"<p>If you are accepting integers simultaneously one after another for a different array each time an int is accepted, then how do you form a third array with the digits of the 2 other arrays in the order in which they are accepted?</p>\n<pre><code>import java.util.Scanner;\nclass Integer_Acceptor\n{\n    public static void main()\n    {\n        System.out.println(&quot;\\f&quot;);\n        Scanner sc = new Scanner(System.in);\n        int a[] = new int[5];\n        int b[] = new int[10];\n        int c[] = new int[10];\n        System.out.println(&quot;Enter an integer into each array simultaneously&quot;);\n        for (int i = 0; i &lt; 5; i++)\n        {\n            a[i] = sc.nextInt();\n            b[i] = sc.nextInt();\n        }\n        for (int i = 0; i &lt; 10; i++)\n        {\n            if (i%2 != 0)\n            {\n                c[i] = a[i];\n                c[i+1] = b[i];\n            }\n        }\n        System.out.println(&quot;Array contents are&quot;);\n        for (int i = 0; i &lt; 10; i++)\n        {\n            System.out.println(c[i]+&quot;\\t&quot;);\n        }\n    }\n}\n</code></pre>\n<p>This is the program I made but obviously it doesn't work (ArrayOutofBounds) as the integer in array increases by 2 every time. How do I make this program give the combined integers of both arrays in the order in which they are accepted?</p>\n"},{"tags":["java","jpql","criteria-api"],"comments":[{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1659032694,"post_id":73157353,"comment_id":129205284,"body_markdown":"check [here](https://stackoverflow.com/questions/8135612/jpa-criteria-for-many-to-many-relationship)","body":"check <a href=\"https://stackoverflow.com/questions/8135612/jpa-criteria-for-many-to-many-relationship\">here</a>"},{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1659095380,"post_id":73157353,"comment_id":129219831,"body_markdown":"Does this answer your question? [jpa criteria for many to many relationship](https://stackoverflow.com/questions/8135612/jpa-criteria-for-many-to-many-relationship)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/8135612/jpa-criteria-for-many-to-many-relationship\">jpa criteria for many to many relationship</a>"},{"owner":{"account_id":25155263,"reputation":11,"user_id":19000167,"display_name":"cognosce"},"score":0,"creation_date":1659099819,"post_id":73157353,"comment_id":129221490,"body_markdown":"@Pp88 partly. There is the solution how to get the List&lt;&gt; with Join, meanwhile I was wondering about root.fetch possibilities to do that","body":"@Pp88 partly. There is the solution how to get the List&lt;&gt; with Join, meanwhile I was wondering about root.fetch possibilities to do that"}],"owner":{"account_id":25155263,"reputation":11,"user_id":19000167,"display_name":"cognosce"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659031594,"creation_date":1659031594,"question_id":73157353,"body_markdown":"I have 2 entities with the `LAZY` `@ManyToMany` relationship, which are mapped through `guest_2_maintenance table`: `[order_id],[guest_id],[maintenance_id],[order_timestamp]`\r\n\r\n    @Entity\r\n    public class Guest {\r\n        @ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, mappedBy = &quot;guests&quot;)\r\n        private List&lt;Maintenance&gt; orderedMaintenances = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    @Entity\r\n    public class Maintenance {\r\n        @ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n        @JoinTable(\r\n            name = &quot;guest_2_maintenance&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;maintenance_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;guest_id&quot;))\r\n        private List&lt;Guest&gt; guests = new ArrayList&lt;&gt;();\r\n    }\r\n\r\nAnd I need to select `List&lt;Maintenance&gt; of the guest` through criteria. I may fetch the whole object and retrieve the `List&lt;Maintenance&gt;` through getter:\r\n\r\n        CriteriaBuilder cb = entityManager.getCriteriaBuilder();\r\n        CriteriaQuery&lt;Guest&gt; cq = cb.createQuery(Guest.class);\r\n        Root&lt;Guest&gt; root = cq.from(Guest.class);\r\n        root.fetch(&quot;orderedMaintenances&quot;, JoinType.INNER);\r\n        TypedQuery&lt;Guest&gt; query = entityManager.createQuery(cq\r\n                .select(root)\r\n                .where(cb.equal(root.get(&quot;id&quot;), guestId))\r\n                .distinct(true));\r\n        Guest guest = query.getSingleResult();\r\n        List&lt;Maintenance&gt; resultList = guest.getOrderedMaintenances();\r\n\r\nBut I want to have the ability for different sortings, so using sql instead of comparator for that is preferable, could you advise, how to select **directly** `List&lt;Maintenance&gt;` from `query.getResultList()`?","title":"How to select fetched List&lt;SomeEntity&gt; in criteria api?","body":"<p>I have 2 entities with the <code>LAZY</code> <code>@ManyToMany</code> relationship, which are mapped through <code>guest_2_maintenance table</code>: <code>[order_id],[guest_id],[maintenance_id],[order_timestamp]</code></p>\n<pre><code>@Entity\npublic class Guest {\n    @ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, mappedBy = &quot;guests&quot;)\n    private List&lt;Maintenance&gt; orderedMaintenances = new ArrayList&lt;&gt;();\n}\n\n@Entity\npublic class Maintenance {\n    @ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    @JoinTable(\n        name = &quot;guest_2_maintenance&quot;,\n        joinColumns = @JoinColumn(name = &quot;maintenance_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;guest_id&quot;))\n    private List&lt;Guest&gt; guests = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>And I need to select <code>List&lt;Maintenance&gt; of the guest</code> through criteria. I may fetch the whole object and retrieve the <code>List&lt;Maintenance&gt;</code> through getter:</p>\n<pre><code>    CriteriaBuilder cb = entityManager.getCriteriaBuilder();\n    CriteriaQuery&lt;Guest&gt; cq = cb.createQuery(Guest.class);\n    Root&lt;Guest&gt; root = cq.from(Guest.class);\n    root.fetch(&quot;orderedMaintenances&quot;, JoinType.INNER);\n    TypedQuery&lt;Guest&gt; query = entityManager.createQuery(cq\n            .select(root)\n            .where(cb.equal(root.get(&quot;id&quot;), guestId))\n            .distinct(true));\n    Guest guest = query.getSingleResult();\n    List&lt;Maintenance&gt; resultList = guest.getOrderedMaintenances();\n</code></pre>\n<p>But I want to have the ability for different sortings, so using sql instead of comparator for that is preferable, could you advise, how to select <strong>directly</strong> <code>List&lt;Maintenance&gt;</code> from <code>query.getResultList()</code>?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1659031675,"post_id":73157055,"comment_id":129204995,"body_markdown":"It looks like you already know the solution: you should be using `Employees[randomNumber]` instead of `&quot;Employee&quot; + randomNumber`.  What else do you need?","body":"It looks like you already know the solution: you should be using <code>Employees[randomNumber]</code> instead of <code>&quot;Employee&quot; + randomNumber</code>.  What else do you need?"},{"owner":{"account_id":25919265,"reputation":1,"user_id":19642195,"display_name":"Jesper.Ba"},"score":0,"creation_date":1659033648,"post_id":73157055,"comment_id":129205514,"body_markdown":"Hi Louis.\n```\nIf (Employees[randomNumber].monShift == false) {\n```\nIs not a valid function. I would need to choose:\n```\nif (Employee1.monShift == false) {\n}\n```\nBut I want it to choose it dynamically and not just hardcode it.","body":"Hi Louis. ``` If (Employees[randomNumber].monShift == false) { ``` Is not a valid function. I would need to choose: ``` if (Employee1.monShift == false) { } ``` But I want it to choose it dynamically and not just hardcode it."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1659041364,"post_id":73157055,"comment_id":129207809,"body_markdown":"What do you mean that it&#39;s not a valid function?  There is no possible way to choose something &quot;dynamically&quot; as you describe.  You must use an array or some other data structure.","body":"What do you mean that it&#39;s not a valid function?  There is no possible way to choose something &quot;dynamically&quot; as you describe.  You must use an array or some other data structure."},{"owner":{"account_id":25919265,"reputation":1,"user_id":19642195,"display_name":"Jesper.Ba"},"score":0,"creation_date":1659092661,"post_id":73157055,"comment_id":129218917,"body_markdown":"How do i create a array structure? Or in another way. If i create a array like this:\n\nEmployee[] Employees = new Employee[2];\n\t\t\nEmployees[0] = new Employee(&quot;Employee1&quot;);\nEmployees[1] = new Employee(&quot;Employee2&quot;);\n\nHow do i pass this array toanother class where it can do the validatation if Employee[1].monShift is true or false?\nI have tried this:\nEmployee.chooseRandomEmployee(Employees[]);\n\nBut it does not seem to work.","body":"How do i create a array structure? Or in another way. If i create a array like this:  Employee[] Employees = new Employee[2]; \t\t Employees[0] = new Employee(&quot;Employee1&quot;); Employees[1] = new Employee(&quot;Employee2&quot;);  How do i pass this array toanother class where it can do the validatation if Employee[1].monShift is true or false? I have tried this: Employee.chooseRandomEmployee(Employees[]);  But it does not seem to work."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1659113222,"post_id":73157055,"comment_id":129223771,"body_markdown":"chooseRandomEmployee should be static, and you should write `chooseRandomEmployee(Employees)` without the [].","body":"chooseRandomEmployee should be static, and you should write <code>chooseRandomEmployee(Employees)</code> without the []."}],"answers":[{"tags":[],"owner":{"account_id":23071589,"reputation":13,"user_id":17265582,"display_name":"Juan Garcia"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1659031495,"creation_date":1659031495,"answer_id":73157336,"question_id":73157055,"body_markdown":"I dont think that putting the chooseRandomEmployee() function inside the Employee object is a good idea beacuse is not a part of the employee, is not an &quot;action&quot; of it. I think you shiudl put it outside but I want to respect your decision so shoudl check the [do while loop][1].\r\n\r\n    import java.util.Random;\r\n    \r\n    public class Employee {\r\n        public String chooseRandomEmployee(String[] Employees) {\r\n\r\n            int randomNumber;\r\n\r\n            do {\r\n\r\n            //Generate a new random number\r\n            Random r = new Random();\r\n            randomNumber = r.nextInt(Employees.length);     \r\n       \r\n            //The line under is the same that saying &quot;If monSift == false return to \r\n            //the beginning and start again generating a new number&quot;\r\n            } while (&quot;Employee&quot; + randomNumber).monShift == false);\r\n\r\n            return Employees[randomNumber];\r\n           \r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://www.javatpoint.com/java-do-while-loop","title":"How do I make a class to dynamic check different objects variable?","body":"<p>I dont think that putting the chooseRandomEmployee() function inside the Employee object is a good idea beacuse is not a part of the employee, is not an &quot;action&quot; of it. I think you shiudl put it outside but I want to respect your decision so shoudl check the <a href=\"https://www.javatpoint.com/java-do-while-loop\" rel=\"nofollow noreferrer\">do while loop</a>.</p>\n<pre><code>import java.util.Random;\n\npublic class Employee {\n    public String chooseRandomEmployee(String[] Employees) {\n\n        int randomNumber;\n\n        do {\n\n        //Generate a new random number\n        Random r = new Random();\n        randomNumber = r.nextInt(Employees.length);     \n   \n        //The line under is the same that saying &quot;If monSift == false return to \n        //the beginning and start again generating a new number&quot;\n        } while (&quot;Employee&quot; + randomNumber).monShift == false);\n\n        return Employees[randomNumber];\n       \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25919265,"reputation":1,"user_id":19642195,"display_name":"Jesper.Ba"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659031495,"creation_date":1659029887,"question_id":73157055,"body_markdown":"I&#39;m new to Java, and i&#39;m trying to create an automatic working shift schedule.\r\n\r\nI want the code to mix four different employees to handle a morning shift and afternoon shift every work day.\r\nI have made some code that just pick a random employee into a shift:\r\n\r\n```\r\nimport java.util.Arrays;\r\nimport java.util.Random;\r\n\r\npublic class CreateNewShift {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tint startWeek = 30; //Which week would start from?\r\n\t\tint endWeek = 32; //which week will you end on?\r\n\t\tgenerateShift(startWeek, endWeek);\r\n\r\n\t}\r\n\r\n\tprivate static void generateShift(int startWeek, int endWeek) {\r\n\r\n        String Employees[] = {&quot;Employee1&quot;, &quot;Employee2&quot;, &quot;Employee3&quot;, &quot;Employee4&quot;};\r\n\t\tString morningShift;\r\n\t\tString afternoonShift;\r\n\r\n      for (int x = 0; x &lt;= (endWeek - startWeek); x++) { //This is counting the number of weeks\r\n\t\t System.out.println(&quot;\\nWeek: &quot; + (startWeek+x));\r\n\r\n      for (int i = 1; i &lt;= 5; i++) {   //this is finding the next working shift day\r\n\t\t  morningShift = p.chooseRandomEmployee(Employees);\r\n\t\t  afternoonShift = p.chooseRandomEmployee(Employees);\r\n\t\t  if (i == 1) {\r\n\t\t    System.out.println(&quot;Mon: &quot; + morningShift + &quot; + &quot; + afternoonShift);\r\n\t\t  }\r\n\t\t  else if (i == 2) {\r\n\t\t    System.out.println(&quot;Tue: &quot; + morningShift + &quot; + &quot; + afternoonShift);\r\n\t\t  }\r\n\t\t  else if (i == 3) {\r\n\t\t     System.out.println(&quot;Wed: &quot; + morningShift + &quot; + &quot; + afternoonShift);\r\n\t\t  }\r\n\t\t  else if (i == 4) {\r\n\t\t    System.out.println(&quot;Thu: &quot; + morningShift + &quot; + &quot; + afternoonShift);\r\n\t\t  }\r\n\t\t  else {\r\n\t\t    System.out.println(&quot;Fri: &quot; + morningShift + &quot; + &quot; + afternoonShift);\r\n\t\t  }\r\n\t\t}\r\n      }\r\n    }\r\n\r\n\r\n\r\npublic class Employee {\r\n  public String chooseRandomEmployee(String[] Employees) {\r\n\t\tRandom r = new Random();\r\n\t\tint randomNumber = r.nextInt(Employees.length);\r\n\t\treturn Employees[randomNumber];\r\n  }\r\n}\r\n```\r\n\r\nHowever, I now want the code to handle more restictions.\r\nSo i&#39;m currently trying to add the option for the employees to choose some specific days that they dont want to have a shift. I have done this by adding this code to the Employee class:\r\n\r\n```\r\npublic class Employee {\r\n  boolean monShift = true;\r\n  boolean tueShift = true;\r\n  boolean wedShift = true;\r\n  boolean thuShift = true;\r\n  boolean friShift = true;\r\n\r\n  public String chooseRandomEmployee(String[] Employees) {\r\n\t\tRandom r = new Random();\r\n\t\tint randomNumber = r.nextInt(Employees.length);\r\n\t\treturn Employees[randomNumber];\r\n  }\r\n}\r\n```\r\n\r\nAnd then i had tried to create new objects in my main class:\r\n\r\n```\r\nprivate static void generateShift(int startWeek, int endWeek) {\r\n        Employee Employee1 = new Employee(&quot;Employee1&quot;);\r\n        Employee Employee2 = new Employee(&quot;Employee2&quot;);\r\n        Employee Employee3 = new Employee(&quot;Employee3&quot;);\r\n        Employee Employee4 = new Employee(&quot;Employee4&quot;);\r\n        String Employees[] = {&quot;Employee1&quot;, &quot;Employee2&quot;, &quot;Employee3&quot;, &quot;Employee4&quot;};\r\n\t\tString morningShift;\r\n\t\tString afternoonShift;\r\n        ....\r\n```\r\n\r\n\r\nQuetions:\r\n\r\nHow can I improve my code in the Employee class to do a check if the random chosen employee have \r\n```\r\nmonShift = true;\r\n```\r\n\r\nI have tried something like this, but i know it will not work, (and does not work either):\r\n\r\n```\r\nimport java.util.Random;\r\n\r\npublic class Employee {\r\n    public String chooseRandomEmployee(String[] Employees) {\r\n\t\tRandom r = new Random();\r\n\t\tint randomNumber = r.nextInt(Employees.length);\r\n        **if ((&quot;Employee&quot; + randomNumber).monShift == false) {**\r\n           // Go back and try find a new random employee\r\n        }\r\n        else {\r\n\t\t  return Employees[randomNumber];\r\n        }\r\n\t}\r\n}\r\n```\r\nSo i need a way to make my code dynamic to know which object (employee) it has to check if they are available that specific day or not.\r\n\r\nFeel free to ask for a deepening if my question is not clear.\r\n\r\n\r\n\r\nSince this i my first question on this forum, I also appriciate feedback if my question and thoughts are too long, or any other comments.","title":"How do I make a class to dynamic check different objects variable?","body":"<p>I'm new to Java, and i'm trying to create an automatic working shift schedule.</p>\n<p>I want the code to mix four different employees to handle a morning shift and afternoon shift every work day.\nI have made some code that just pick a random employee into a shift:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Random;\n\npublic class CreateNewShift {\n\n    public static void main(String[] args) {\n        \n        int startWeek = 30; //Which week would start from?\n        int endWeek = 32; //which week will you end on?\n        generateShift(startWeek, endWeek);\n\n    }\n\n    private static void generateShift(int startWeek, int endWeek) {\n\n        String Employees[] = {&quot;Employee1&quot;, &quot;Employee2&quot;, &quot;Employee3&quot;, &quot;Employee4&quot;};\n        String morningShift;\n        String afternoonShift;\n\n      for (int x = 0; x &lt;= (endWeek - startWeek); x++) { //This is counting the number of weeks\n         System.out.println(&quot;\\nWeek: &quot; + (startWeek+x));\n\n      for (int i = 1; i &lt;= 5; i++) {   //this is finding the next working shift day\n          morningShift = p.chooseRandomEmployee(Employees);\n          afternoonShift = p.chooseRandomEmployee(Employees);\n          if (i == 1) {\n            System.out.println(&quot;Mon: &quot; + morningShift + &quot; + &quot; + afternoonShift);\n          }\n          else if (i == 2) {\n            System.out.println(&quot;Tue: &quot; + morningShift + &quot; + &quot; + afternoonShift);\n          }\n          else if (i == 3) {\n             System.out.println(&quot;Wed: &quot; + morningShift + &quot; + &quot; + afternoonShift);\n          }\n          else if (i == 4) {\n            System.out.println(&quot;Thu: &quot; + morningShift + &quot; + &quot; + afternoonShift);\n          }\n          else {\n            System.out.println(&quot;Fri: &quot; + morningShift + &quot; + &quot; + afternoonShift);\n          }\n        }\n      }\n    }\n\n\n\npublic class Employee {\n  public String chooseRandomEmployee(String[] Employees) {\n        Random r = new Random();\n        int randomNumber = r.nextInt(Employees.length);\n        return Employees[randomNumber];\n  }\n}\n</code></pre>\n<p>However, I now want the code to handle more restictions.\nSo i'm currently trying to add the option for the employees to choose some specific days that they dont want to have a shift. I have done this by adding this code to the Employee class:</p>\n<pre><code>public class Employee {\n  boolean monShift = true;\n  boolean tueShift = true;\n  boolean wedShift = true;\n  boolean thuShift = true;\n  boolean friShift = true;\n\n  public String chooseRandomEmployee(String[] Employees) {\n        Random r = new Random();\n        int randomNumber = r.nextInt(Employees.length);\n        return Employees[randomNumber];\n  }\n}\n</code></pre>\n<p>And then i had tried to create new objects in my main class:</p>\n<pre><code>private static void generateShift(int startWeek, int endWeek) {\n        Employee Employee1 = new Employee(&quot;Employee1&quot;);\n        Employee Employee2 = new Employee(&quot;Employee2&quot;);\n        Employee Employee3 = new Employee(&quot;Employee3&quot;);\n        Employee Employee4 = new Employee(&quot;Employee4&quot;);\n        String Employees[] = {&quot;Employee1&quot;, &quot;Employee2&quot;, &quot;Employee3&quot;, &quot;Employee4&quot;};\n        String morningShift;\n        String afternoonShift;\n        ....\n</code></pre>\n<p>Quetions:</p>\n<p>How can I improve my code in the Employee class to do a check if the random chosen employee have</p>\n<pre><code>monShift = true;\n</code></pre>\n<p>I have tried something like this, but i know it will not work, (and does not work either):</p>\n<pre><code>import java.util.Random;\n\npublic class Employee {\n    public String chooseRandomEmployee(String[] Employees) {\n        Random r = new Random();\n        int randomNumber = r.nextInt(Employees.length);\n        **if ((&quot;Employee&quot; + randomNumber).monShift == false) {**\n           // Go back and try find a new random employee\n        }\n        else {\n          return Employees[randomNumber];\n        }\n    }\n}\n</code></pre>\n<p>So i need a way to make my code dynamic to know which object (employee) it has to check if they are available that specific day or not.</p>\n<p>Feel free to ask for a deepening if my question is not clear.</p>\n<p>Since this i my first question on this forum, I also appriciate feedback if my question and thoughts are too long, or any other comments.</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":15731890,"reputation":917,"user_id":13049473,"display_name":"Sreehari K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652523191,"creation_date":1652509429,"answer_id":72237835,"question_id":72237784,"body_markdown":"Since your `CardView` is not constrained by the buttons at the bottom the `CardView` will take space beyond those buttons. In the screenshot provided from a real device, it is clear that there is not much space to completely accommodate the contents in the `CardView` hence it will be pushed beyond the button. You need to add constraints to `CardView` to align it with the bottom button also you need to add a `ScrollView` if there is more content that the screen can&#39;t fully accommodate. Using this layout may improve the UI\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.activities.DetailedActivity&quot;&gt;\r\n\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/detailed_img&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;200dp&quot;\r\n        android:scaleType=&quot;centerCrop&quot;\r\n        android:src=&quot;@drawable/ic_launcher_background&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n\r\n    &lt;androidx.appcompat.widget.Toolbar\r\n        android:id=&quot;@+id/detailed_toolbar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:title=&quot;Product Detailed&quot; /&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:id=&quot;@+id/cardview&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_marginLeft=&quot;20dp&quot;\r\n        android:layout_marginRight=&quot;20dp&quot;\r\n        android:elevation=&quot;10dp&quot;\r\n        android:translationY=&quot;-50dp&quot;\r\n        app:cardCornerRadius=&quot;10dp&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/add_to_cart&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/detailed_img&quot;&gt;\r\n\r\n        &lt;androidx.core.widget.NestedScrollView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_marginLeft=&quot;20dp&quot;\r\n                android:layout_marginRight=&quot;20dp&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                &lt;RelativeLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n                    &lt;TextView\r\n                        android:id=&quot;@+id/detailed_name&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:fontFamily=&quot;@font/amethysta&quot;\r\n                        android:text=&quot;Product Name&quot;\r\n                        android:textColor=&quot;@color/black&quot;\r\n                        android:textSize=&quot;25sp&quot;\r\n                        android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n                    &lt;TextView\r\n                        android:id=&quot;@+id/rating&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_marginTop=&quot;8dp&quot;\r\n                        android:layout_toStartOf=&quot;@id/my_rating&quot;\r\n                        android:fontFamily=&quot;@font/amethysta&quot;\r\n                        android:text=&quot;4.0&quot;\r\n                        android:textColor=&quot;@color/black&quot;\r\n                        android:textSize=&quot;16sp&quot; /&gt;\r\n\r\n                    &lt;RatingBar\r\n                        android:id=&quot;@+id/my_rating&quot;\r\n                        style=&quot;?android:attr/ratingBarStyleSmall&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_alignParentRight=&quot;true&quot;\r\n                        android:layout_marginTop=&quot;10dp&quot;\r\n                        android:isIndicator=&quot;true&quot;\r\n                        android:numStars=&quot;5&quot;\r\n                        android:stepSize=&quot;0.1&quot; /&gt;\r\n\r\n                &lt;/RelativeLayout&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/detailed_desc&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:fontFamily=&quot;@font/amethysta&quot;\r\n                    android:text=&quot;am following the standard example of how to add a RatingBar. To con The problem is that the number of stars doesn&#39;t seem to do anything a&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_gravity=&quot;center&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:fontFamily=&quot;@font/amethysta&quot;\r\n                    android:text=&quot;Price&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;21sp&quot;\r\n                    android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:gravity=&quot;center&quot;\r\n                    android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n                    &lt;TextView\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:fontFamily=&quot;@font/amethysta&quot;\r\n                        android:text=&quot;$&quot;\r\n                        android:textColor=&quot;@color/purple_700&quot;\r\n                        android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n                    &lt;TextView\r\n                        android:id=&quot;@+id/detailed_price&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:fontFamily=&quot;@font/amethysta&quot;\r\n                        android:text=&quot;20&quot;\r\n                        android:textColor=&quot;@color/purple_700&quot;\r\n                        android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n                &lt;/LinearLayout&gt;\r\n\r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_margin=&quot;10dp&quot;\r\n                    android:gravity=&quot;center_horizontal&quot;\r\n                    android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n                    &lt;ImageView\r\n                        android:id=&quot;@+id/add_item&quot;\r\n                        android:layout_width=&quot;40dp&quot;\r\n                        android:layout_height=&quot;40dp&quot;\r\n                        android:layout_marginRight=&quot;7dp&quot;\r\n                        android:src=&quot;@drawable/plusicon&quot; /&gt;\r\n\r\n                    &lt;TextView\r\n                        android:id=&quot;@+id/quantity&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;1&quot;\r\n                        android:textSize=&quot;30sp&quot;\r\n                        android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n\r\n                    &lt;ImageView\r\n                        android:id=&quot;@+id/remove_item&quot;\r\n                        android:layout_width=&quot;40dp&quot;\r\n                        android:layout_height=&quot;40dp&quot;\r\n                        android:layout_marginLeft=&quot;7dp&quot;\r\n                        android:src=&quot;@drawable/iconminus&quot; /&gt;\r\n                &lt;/LinearLayout&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n        &lt;/androidx.core.widget.NestedScrollView&gt;\r\n\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/add_to_cart&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:backgroundTint=&quot;@color/pink&quot;\r\n        android:drawableLeft=&quot;@drawable/mycart&quot;\r\n        android:drawableTint=&quot;@color/white&quot;\r\n        android:padding=&quot;14dp&quot;\r\n        android:text=&quot;Add To Cart&quot;\r\n        android:textAllCaps=&quot;false&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/buy_now&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintWidth_percent=&quot;.8&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/buy_now&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:drawableLeft=&quot;@drawable/ic_baseline_shopping_cart_24&quot;\r\n        android:drawableTint=&quot;@color/white&quot;\r\n        android:padding=&quot;14dp&quot;\r\n        android:text=&quot;Buy Now&quot;\r\n        android:textAllCaps=&quot;false&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintWidth_percent=&quot;.8&quot; /&gt;\r\n\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```","title":"Android UI broken when run","body":"<p>Since your <code>CardView</code> is not constrained by the buttons at the bottom the <code>CardView</code> will take space beyond those buttons. In the screenshot provided from a real device, it is clear that there is not much space to completely accommodate the contents in the <code>CardView</code> hence it will be pushed beyond the button. You need to add constraints to <code>CardView</code> to align it with the bottom button also you need to add a <code>ScrollView</code> if there is more content that the screen can't fully accommodate. Using this layout may improve the UI</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.activities.DetailedActivity&quot;&gt;\n\n\n    &lt;ImageView\n        android:id=&quot;@+id/detailed_img&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;200dp&quot;\n        android:scaleType=&quot;centerCrop&quot;\n        android:src=&quot;@drawable/ic_launcher_background&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n\n    &lt;androidx.appcompat.widget.Toolbar\n        android:id=&quot;@+id/detailed_toolbar&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:title=&quot;Product Detailed&quot; /&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:id=&quot;@+id/cardview&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:layout_marginLeft=&quot;20dp&quot;\n        android:layout_marginRight=&quot;20dp&quot;\n        android:elevation=&quot;10dp&quot;\n        android:translationY=&quot;-50dp&quot;\n        app:cardCornerRadius=&quot;10dp&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/add_to_cart&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/detailed_img&quot;&gt;\n\n        &lt;androidx.core.widget.NestedScrollView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;&gt;\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:layout_marginLeft=&quot;20dp&quot;\n                android:layout_marginRight=&quot;20dp&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n                &lt;RelativeLayout\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;&gt;\n\n                    &lt;TextView\n                        android:id=&quot;@+id/detailed_name&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:fontFamily=&quot;@font/amethysta&quot;\n                        android:text=&quot;Product Name&quot;\n                        android:textColor=&quot;@color/black&quot;\n                        android:textSize=&quot;25sp&quot;\n                        android:textStyle=&quot;bold&quot; /&gt;\n\n                    &lt;TextView\n                        android:id=&quot;@+id/rating&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_marginTop=&quot;8dp&quot;\n                        android:layout_toStartOf=&quot;@id/my_rating&quot;\n                        android:fontFamily=&quot;@font/amethysta&quot;\n                        android:text=&quot;4.0&quot;\n                        android:textColor=&quot;@color/black&quot;\n                        android:textSize=&quot;16sp&quot; /&gt;\n\n                    &lt;RatingBar\n                        android:id=&quot;@+id/my_rating&quot;\n                        style=&quot;?android:attr/ratingBarStyleSmall&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_alignParentRight=&quot;true&quot;\n                        android:layout_marginTop=&quot;10dp&quot;\n                        android:isIndicator=&quot;true&quot;\n                        android:numStars=&quot;5&quot;\n                        android:stepSize=&quot;0.1&quot; /&gt;\n\n                &lt;/RelativeLayout&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/detailed_desc&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    android:fontFamily=&quot;@font/amethysta&quot;\n                    android:text=&quot;am following the standard example of how to add a RatingBar. To con The problem is that the number of stars doesn't seem to do anything a&quot; /&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_gravity=&quot;center&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    android:fontFamily=&quot;@font/amethysta&quot;\n                    android:text=&quot;Price&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;21sp&quot;\n                    android:textStyle=&quot;bold&quot; /&gt;\n\n                &lt;LinearLayout\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:gravity=&quot;center&quot;\n                    android:orientation=&quot;horizontal&quot;&gt;\n\n                    &lt;TextView\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:fontFamily=&quot;@font/amethysta&quot;\n                        android:text=&quot;$&quot;\n                        android:textColor=&quot;@color/purple_700&quot;\n                        android:textStyle=&quot;bold&quot; /&gt;\n\n                    &lt;TextView\n                        android:id=&quot;@+id/detailed_price&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:fontFamily=&quot;@font/amethysta&quot;\n                        android:text=&quot;20&quot;\n                        android:textColor=&quot;@color/purple_700&quot;\n                        android:textStyle=&quot;bold&quot; /&gt;\n\n                &lt;/LinearLayout&gt;\n\n                &lt;LinearLayout\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_margin=&quot;10dp&quot;\n                    android:gravity=&quot;center_horizontal&quot;\n                    android:orientation=&quot;horizontal&quot;&gt;\n\n                    &lt;ImageView\n                        android:id=&quot;@+id/add_item&quot;\n                        android:layout_width=&quot;40dp&quot;\n                        android:layout_height=&quot;40dp&quot;\n                        android:layout_marginRight=&quot;7dp&quot;\n                        android:src=&quot;@drawable/plusicon&quot; /&gt;\n\n                    &lt;TextView\n                        android:id=&quot;@+id/quantity&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:text=&quot;1&quot;\n                        android:textSize=&quot;30sp&quot;\n                        android:textStyle=&quot;bold&quot; /&gt;\n\n\n                    &lt;ImageView\n                        android:id=&quot;@+id/remove_item&quot;\n                        android:layout_width=&quot;40dp&quot;\n                        android:layout_height=&quot;40dp&quot;\n                        android:layout_marginLeft=&quot;7dp&quot;\n                        android:src=&quot;@drawable/iconminus&quot; /&gt;\n                &lt;/LinearLayout&gt;\n\n            &lt;/LinearLayout&gt;\n        &lt;/androidx.core.widget.NestedScrollView&gt;\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/add_to_cart&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:backgroundTint=&quot;@color/pink&quot;\n        android:drawableLeft=&quot;@drawable/mycart&quot;\n        android:drawableTint=&quot;@color/white&quot;\n        android:padding=&quot;14dp&quot;\n        android:text=&quot;Add To Cart&quot;\n        android:textAllCaps=&quot;false&quot;\n        android:textStyle=&quot;bold&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/buy_now&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintWidth_percent=&quot;.8&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/buy_now&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:drawableLeft=&quot;@drawable/ic_baseline_shopping_cart_24&quot;\n        android:drawableTint=&quot;@color/white&quot;\n        android:padding=&quot;14dp&quot;\n        android:text=&quot;Buy Now&quot;\n        android:textAllCaps=&quot;false&quot;\n        android:textStyle=&quot;bold&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintWidth_percent=&quot;.8&quot; /&gt;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":15887258,"reputation":2164,"user_id":11463296,"display_name":"Pritom Sarkar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72237835,"answer_count":1,"score":0,"last_activity_date":1659031195,"creation_date":1652508761,"question_id":72237784,"body_markdown":"I am facing very strange problem, though I am beginner level on Android. after designed my layout file, when i run this android project by using physical device then i actually not find expected UI.\r\nHere is the Layout UI and it&#39;s XML code:-\r\n\r\nDesign:-\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nXML Code:-\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.activities.DetailedActivity&quot;&gt;\r\n\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/detailed_img&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;200dp&quot;\r\n        android:scaleType=&quot;centerCrop&quot;\r\n        android:src=&quot;@drawable/ic_launcher_background&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n\r\n    &lt;androidx.appcompat.widget.Toolbar\r\n        android:id=&quot;@+id/detailed_toolbar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:title=&quot;Product Detailed&quot; /&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:id=&quot;@+id/cardview&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginLeft=&quot;20dp&quot;\r\n        android:layout_marginRight=&quot;20dp&quot;\r\n        android:elevation=&quot;10dp&quot;\r\n        android:translationY=&quot;-50dp&quot;\r\n        app:cardCornerRadius=&quot;10dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/detailed_img&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_marginLeft=&quot;20dp&quot;\r\n            android:layout_marginRight=&quot;20dp&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;RelativeLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/detailed_name&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:fontFamily=&quot;@font/amethysta&quot;\r\n                    android:text=&quot;Product Name&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;25sp&quot;\r\n                    android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/rating&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;8dp&quot;\r\n                    android:layout_toStartOf=&quot;@id/my_rating&quot;\r\n                    android:fontFamily=&quot;@font/amethysta&quot;\r\n                    android:text=&quot;4.0&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;16sp&quot; /&gt;\r\n\r\n                &lt;RatingBar\r\n                    android:id=&quot;@+id/my_rating&quot;\r\n                    style=&quot;?android:attr/ratingBarStyleSmall&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_alignParentRight=&quot;true&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:isIndicator=&quot;true&quot;\r\n                    android:numStars=&quot;5&quot;\r\n                    android:stepSize=&quot;0.1&quot; /&gt;\r\n\r\n            &lt;/RelativeLayout&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/detailed_desc&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:fontFamily=&quot;@font/amethysta&quot;\r\n                android:text=&quot;am following the standard example of how to add a RatingBar. To con The problem is that the number of stars doesn&#39;t seem to do anything a&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:fontFamily=&quot;@font/amethysta&quot;\r\n                android:text=&quot;Price&quot;\r\n                android:textColor=&quot;@color/black&quot;\r\n                android:textSize=&quot;21sp&quot;\r\n                android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:fontFamily=&quot;@font/amethysta&quot;\r\n                    android:text=&quot;$&quot;\r\n                    android:textColor=&quot;@color/purple_700&quot;\r\n                    android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/detailed_price&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:fontFamily=&quot;@font/amethysta&quot;\r\n                    android:text=&quot;20&quot;\r\n                    android:textColor=&quot;@color/purple_700&quot;\r\n                    android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_margin=&quot;10dp&quot;\r\n                android:gravity=&quot;center_horizontal&quot;\r\n                android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/add_item&quot;\r\n                    android:layout_width=&quot;40dp&quot;\r\n                    android:layout_height=&quot;40dp&quot;\r\n                    android:layout_marginRight=&quot;7dp&quot;\r\n                    android:src=&quot;@drawable/plusicon&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/quantity&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;1&quot;\r\n                    android:textSize=&quot;30sp&quot;\r\n                    android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/remove_item&quot;\r\n                    android:layout_width=&quot;40dp&quot;\r\n                    android:layout_height=&quot;40dp&quot;\r\n                    android:layout_marginLeft=&quot;7dp&quot;\r\n                    android:src=&quot;@drawable/iconminus&quot; /&gt;\r\n            &lt;/LinearLayout&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/add_to_cart&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:backgroundTint=&quot;@color/pink&quot;\r\n        android:drawableLeft=&quot;@drawable/mycart&quot;\r\n        android:drawableTint=&quot;@color/white&quot;\r\n        android:padding=&quot;14dp&quot;\r\n        android:text=&quot;Add To Cart&quot;\r\n        android:textAllCaps=&quot;false&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/buy_now&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/cardview&quot;\r\n        app:layout_constraintVertical_bias=&quot;1&quot;\r\n        app:layout_constraintWidth_percent=&quot;.8&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/buy_now&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:drawableLeft=&quot;@drawable/ic_baseline_shopping_cart_24&quot;\r\n        android:drawableTint=&quot;@color/white&quot;\r\n        android:padding=&quot;14dp&quot;\r\n        android:text=&quot;Buy Now&quot;\r\n        android:textAllCaps=&quot;false&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintWidth_percent=&quot;.8&quot; /&gt;\r\n\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nAnd this is my physical devices unexpected output:-\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wRiy6.png\r\n  [2]: https://i.stack.imgur.com/aDuCW.jpg\r\n\r\nI don&#39;t understand why this output act like that and which is totally unexpected. how I resolve this issue.","title":"Android UI broken when run","body":"<p>I am facing very strange problem, though I am beginner level on Android. after designed my layout file, when i run this android project by using physical device then i actually not find expected UI.\nHere is the Layout UI and it's XML code:-</p>\n<p>Design:-</p>\n<p><a href=\"https://i.stack.imgur.com/wRiy6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wRiy6.png\" alt=\"enter image description here\" /></a></p>\n<p>XML Code:-</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.activities.DetailedActivity&quot;&gt;\n\n\n    &lt;ImageView\n        android:id=&quot;@+id/detailed_img&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;200dp&quot;\n        android:scaleType=&quot;centerCrop&quot;\n        android:src=&quot;@drawable/ic_launcher_background&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n\n    &lt;androidx.appcompat.widget.Toolbar\n        android:id=&quot;@+id/detailed_toolbar&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:title=&quot;Product Detailed&quot; /&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:id=&quot;@+id/cardview&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginLeft=&quot;20dp&quot;\n        android:layout_marginRight=&quot;20dp&quot;\n        android:elevation=&quot;10dp&quot;\n        android:translationY=&quot;-50dp&quot;\n        app:cardCornerRadius=&quot;10dp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/detailed_img&quot;&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_marginLeft=&quot;20dp&quot;\n            android:layout_marginRight=&quot;20dp&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;RelativeLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/detailed_name&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:fontFamily=&quot;@font/amethysta&quot;\n                    android:text=&quot;Product Name&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;25sp&quot;\n                    android:textStyle=&quot;bold&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/rating&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginTop=&quot;8dp&quot;\n                    android:layout_toStartOf=&quot;@id/my_rating&quot;\n                    android:fontFamily=&quot;@font/amethysta&quot;\n                    android:text=&quot;4.0&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;16sp&quot; /&gt;\n\n                &lt;RatingBar\n                    android:id=&quot;@+id/my_rating&quot;\n                    style=&quot;?android:attr/ratingBarStyleSmall&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_alignParentRight=&quot;true&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    android:isIndicator=&quot;true&quot;\n                    android:numStars=&quot;5&quot;\n                    android:stepSize=&quot;0.1&quot; /&gt;\n\n            &lt;/RelativeLayout&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/detailed_desc&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginTop=&quot;10dp&quot;\n                android:fontFamily=&quot;@font/amethysta&quot;\n                android:text=&quot;am following the standard example of how to add a RatingBar. To con The problem is that the number of stars doesn't seem to do anything a&quot; /&gt;\n\n            &lt;TextView\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:layout_marginTop=&quot;10dp&quot;\n                android:fontFamily=&quot;@font/amethysta&quot;\n                android:text=&quot;Price&quot;\n                android:textColor=&quot;@color/black&quot;\n                android:textSize=&quot;21sp&quot;\n                android:textStyle=&quot;bold&quot; /&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:gravity=&quot;center&quot;\n                android:orientation=&quot;horizontal&quot;&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:fontFamily=&quot;@font/amethysta&quot;\n                    android:text=&quot;$&quot;\n                    android:textColor=&quot;@color/purple_700&quot;\n                    android:textStyle=&quot;bold&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/detailed_price&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:fontFamily=&quot;@font/amethysta&quot;\n                    android:text=&quot;20&quot;\n                    android:textColor=&quot;@color/purple_700&quot;\n                    android:textStyle=&quot;bold&quot; /&gt;\n\n            &lt;/LinearLayout&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_margin=&quot;10dp&quot;\n                android:gravity=&quot;center_horizontal&quot;\n                android:orientation=&quot;horizontal&quot;&gt;\n\n                &lt;ImageView\n                    android:id=&quot;@+id/add_item&quot;\n                    android:layout_width=&quot;40dp&quot;\n                    android:layout_height=&quot;40dp&quot;\n                    android:layout_marginRight=&quot;7dp&quot;\n                    android:src=&quot;@drawable/plusicon&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/quantity&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;1&quot;\n                    android:textSize=&quot;30sp&quot;\n                    android:textStyle=&quot;bold&quot; /&gt;\n\n\n                &lt;ImageView\n                    android:id=&quot;@+id/remove_item&quot;\n                    android:layout_width=&quot;40dp&quot;\n                    android:layout_height=&quot;40dp&quot;\n                    android:layout_marginLeft=&quot;7dp&quot;\n                    android:src=&quot;@drawable/iconminus&quot; /&gt;\n            &lt;/LinearLayout&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/add_to_cart&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:backgroundTint=&quot;@color/pink&quot;\n        android:drawableLeft=&quot;@drawable/mycart&quot;\n        android:drawableTint=&quot;@color/white&quot;\n        android:padding=&quot;14dp&quot;\n        android:text=&quot;Add To Cart&quot;\n        android:textAllCaps=&quot;false&quot;\n        android:textStyle=&quot;bold&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/buy_now&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/cardview&quot;\n        app:layout_constraintVertical_bias=&quot;1&quot;\n        app:layout_constraintWidth_percent=&quot;.8&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/buy_now&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:drawableLeft=&quot;@drawable/ic_baseline_shopping_cart_24&quot;\n        android:drawableTint=&quot;@color/white&quot;\n        android:padding=&quot;14dp&quot;\n        android:text=&quot;Buy Now&quot;\n        android:textAllCaps=&quot;false&quot;\n        android:textStyle=&quot;bold&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintWidth_percent=&quot;.8&quot; /&gt;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>And this is my physical devices unexpected output:-</p>\n<p><a href=\"https://i.stack.imgur.com/aDuCW.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aDuCW.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I don't understand why this output act like that and which is totally unexpected. how I resolve this issue.</p>\n"},{"tags":["java","lower-bound"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1658944798,"post_id":73142560,"comment_id":129180614,"body_markdown":"You can call your method `myadd` only with a `List&lt;? super Number&gt;` or a `List&lt;Number&gt;` or a `List&lt;Object&gt;` (because `Object` is the only supertype of `Number`). That&#39;s it. Oh, I forgot the _raw type_ `List`, but you shouldn&#39;t use it at all.","body":"You can call your method <code>myadd</code> only with a <code>List&lt;? super Number&gt;</code> or a <code>List&lt;Number&gt;</code> or a <code>List&lt;Object&gt;</code> (because <code>Object</code> is the only supertype of <code>Number</code>). That&#39;s it. Oh, I forgot the <i>raw type</i> <code>List</code>, but you shouldn&#39;t use it at all."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":3,"creation_date":1658945062,"post_id":73142560,"comment_id":129180691,"body_markdown":"Are you asking about `myadd(empty);` or the fact that your `add(..)` calls all compile?","body":"Are you asking about <code>myadd(empty);</code> or the fact that your <code>add(..)</code> calls all compile?"},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1658945343,"post_id":73142560,"comment_id":129180792,"body_markdown":"It&#39;s hard to understand where you have your problems. To which line exactly does your question &quot;why this method executes perfectly fine&quot; refer to?","body":"It&#39;s hard to understand where you have your problems. To which line exactly does your question &quot;why this method executes perfectly fine&quot; refer to?"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1658950928,"post_id":73142560,"comment_id":129182538,"body_markdown":"It says nums is the list of any subclass of Number.","body":"It says nums is the list of any subclass of Number."},{"owner":{"account_id":25702276,"reputation":121,"user_id":19462159,"display_name":"BigIO"},"score":0,"creation_date":1659009629,"post_id":73142560,"comment_id":129196687,"body_markdown":"@ChengThao According to oracle docs  &lt;? super &gt; means any same or  super class of that type   not subclass  ?","body":"@ChengThao According to oracle docs  &lt;? super &gt; means any same or  super class of that type   not subclass  ?"},{"owner":{"account_id":25702276,"reputation":121,"user_id":19462159,"display_name":"BigIO"},"score":0,"creation_date":1659009987,"post_id":73142560,"comment_id":129196766,"body_markdown":"@Seelenvirtuose  my problem is  int float double are not super classes of Number , the only super class is Object  . Then why I am able to add int float double to my list as according to the definition of lower bound i should only be able to add  Object class ( only super class of Number ) not subclass of Object class (int  float double..) ?","body":"@Seelenvirtuose  my problem is  int float double are not super classes of Number , the only super class is Object  . Then why I am able to add int float double to my list as according to the definition of lower bound i should only be able to add  Object class ( only super class of Number ) not subclass of Object class (int  float double..) ?"},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1659016783,"post_id":73142560,"comment_id":129199472,"body_markdown":"First of all you are dealing with `Integer`, `Float` and `Double` - not with `int`, `float` and `double`. Second, an `Integer` is an `Object`, so you can use an `Integer` everywhere, where an `Object` is expected. That is a fundemental rule in polymorphism.","body":"First of all you are dealing with <code>Integer</code>, <code>Float</code> and <code>Double</code> - not with <code>int</code>, <code>float</code> and <code>double</code>. Second, an <code>Integer</code> is an <code>Object</code>, so you can use an <code>Integer</code> everywhere, where an <code>Object</code> is expected. That is a fundemental rule in polymorphism."},{"owner":{"account_id":25702276,"reputation":121,"user_id":19462159,"display_name":"BigIO"},"score":0,"creation_date":1659019237,"post_id":73142560,"comment_id":129200507,"body_markdown":"Yeah I agree with you it is respective  wrapper classes of int, float, double . But Integer is a subclass of Object class(basically subclass of Number) &amp; if sub classes are also allowed in &quot; ?super &quot; then what is the difference between extends &amp; super?","body":"Yeah I agree with you it is respective  wrapper classes of int, float, double . But Integer is a subclass of Object class(basically subclass of Number) &amp; if sub classes are also allowed in &quot; ?super &quot; then what is the difference between extends &amp; super?"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1659020480,"post_id":73142560,"comment_id":129201001,"body_markdown":"@BigIO, you are correct.  That was what I was thinking but the writing came out wrong.","body":"@BigIO, you are correct.  That was what I was thinking but the writing came out wrong."}],"answers":[{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1659030968,"creation_date":1658945611,"answer_id":73142781,"question_id":73142560,"body_markdown":"`List&lt;? super Number&gt;` means that only `List&lt;Number&gt;` (or some superclass of `Number`, which is `Object`) can be assigned to that variable (`nums`, in your example).\r\n\r\nBecause any `Long`, `Double`, etc. is-a `Number` instance, it can be contained in a `List&lt;Number&gt;`&amp;mdash;or, for that matter, a `List&lt;Object&gt;`. However, if you were to assign an element from the list to another variable, the variable would have to be of type `Object`, since the actual type of the list could be `List&lt;Object&gt;`.\r\n\r\n`List&lt;? extends Number&gt;` would mean that `List&lt;Number&gt;` or `List&lt;Long&gt;` or `List&lt;Double&gt;` or any other subclass of `Number` may be assigned to that variable. \r\n\r\nBecause such a list is permitted to contain only a certain subclass of `Number`&amp;mdash;like `Long` or `Double`&amp;mdash;but the particular subclass is unknown, nothing can be safely added to the list. Any of its elements can be assigned to a variable of type `Number`, however.\r\n\r\nConsider the following examples:\r\n\r\n```java\r\nList&lt;Object&gt; objs = new ArrayList&lt;&gt;();\r\nList&lt;? super Number&gt; nums = objs;\r\n// objs is `List&lt;Object&gt;` so clearly this is fine:\r\nobjs.add(Integer.valueOf(1));\r\nobjs.add(&quot;Hello, World!&quot;);\r\n// We&#39;ve forgotten that nums is actually the same `List&lt;Object&gt;`, so this won&#39;t compile:\r\nnums.add(&quot;Nice to meet you!&quot;); \r\n// But we remember that nums is at least a `Number` so this is okay:\r\nnums.add(Double.valueOf(1.0));\r\n// This won&#39;t compile, because `nums` could/does have a `String` in it:\r\nNumber num = nums.get(0);\r\n// This is okay; nums could hold any superclass of `Number`\r\nObject obj = nums.get(0);\r\n```\r\n\r\n---\r\n&gt; Then what is the difference between both of them because ultimately i am able to add subclasses of Number in both extends &amp; super ?\r\n\r\nNo, this is wrong. As I said, &quot;Because such a list is permitted to contain only a certain subclass of `Number`â€”like `Long` or `Double`â€”but the particular subclass is unknown, nothing can be safely added to the list.&quot; You can&#39;t safely add a subclass of `Number` (or anything) to a `List&lt;? extends Number&gt;`. The `?` doesn&#39;t mean &quot;any subclass&quot;; it means &quot;unknown subclass&quot;. It&#39;s a list of some subclass of `Number` that you don&#39;t know.\r\n\r\n```java\r\nList&lt;Integer&gt; ints = new ArrayList&lt;&gt;();\r\nList&lt;? extends Number&gt; alias = ints;\r\n// This won&#39;t compile, because you&#39;d be polluting `ints` with a float.\r\nalias.add(Float.valueOf(1F));\r\nList&lt;Number&gt; anyNum = new ArrayList&lt;&gt;();\r\n// These adds are fine, anyNum can contain any subclass of Number\r\nanyNum.add(Integer.valueOf(1));\r\nanyNum.add(Float.valueOf(1F));\r\n// This is fine...\r\nalias = anyNum;\r\n// ...but these will fail, because we &quot;forgot&quot; that anyNum points to List&lt;Number&gt;\r\nalias.add(Integer.valueOf(2));\r\nalias.add(Float.value(2F));\r\n```\r\n\r\n&gt; Please Justify what you said in 2nd paragraph of your answer you said &quot; Because any `Long`, `Double`, etc. is-a `Number` instance, it can be contained in a `List&lt;Number&gt;`â€”or, for that matter, a `List&lt;Object&gt;`&quot; I don&#39;t agree since `Long`, `Double` all these wrapper classes are not instances of `Number` class. Instead they are instances of sub-classes of `Number` class.\r\n\r\nI used some jargon there, [&quot;is-a&quot;,][1] with which you may be unfamiliar. When one class is a subclass of another, it should be fully substitutable for the superclass. A `Long` or a `Double` can perform any operation a `Number` can; we say that a `Double` &quot;is-a&quot; `Number`. An assignment like `Number x = Integer.valueOf(1)` is perfectly fine because `Integer` is-a `Number`. And of course, `nums.add(x)` would be perfectly fine, because the type of `x` is `Number`. Would a (widening) cast from type `Child` to type `Parent` succeed? Then `Child` is-a `Parent`.\r\n\r\n&gt; However I agree with this line &quot;if you were to assign an element from the list to another variable, the variable would have to be of type `Object`, since the actual type of the list could be `List&lt;Object&gt;`.&quot; because when i tried to assign a value from the list to a Float variable I had to typecast it to float .This raises more qestion because if List can only accept Object then why it is accepting Integer , FLoat .. in myadd() method???\r\n\r\nA variable of type `List&lt;?&gt;` means that the list has some type, but we don&#39;t know what it is. Nothing can be safely added to it, and if we take an element from it, all we know about the type is that it is an `Object` or any subclass, thus we can only safely assign it to `Object`. Don&#39;t think of `List&lt;?&gt;` as &quot;a list of any type&quot;, but as &quot;a list of unknown type.&quot;\r\n\r\nA variable of type `List&lt;Object&gt;` contains anything that &quot;is-a&quot; `Object`. Since any type ultimately extends `Object`, any type can be added to this list.\r\n\r\nA `List&lt;Number&gt;` contains anything that &quot;is-a&quot; `Number`. `Long`, `Double`, etc. have that &quot;is-a&quot; (subtype) relationship with `Number`, so they can be added to the list. I can define my own custom `Number` type and add it to the list.\r\n\r\nA variable of type `List&lt;? extends Number&gt;` means that the list has some type, but we only know that the type is `Number` or a subclass. We still can&#39;t add anything to it safely, because we don&#39;t know if it&#39;s an alias for a `List&lt;Long&gt;`, `List&lt;Double&gt;`, or what have you. But, if we take an element from it, we can assign it to `Number` instead of `Object`, because we know at least that it is-a `Number`.\r\n\r\nA variable of type `List&lt;? super Number&gt;` means that the list has some type, but we only know that the type is `Number` or a superclass. We can add anything that &quot;is-a&quot; `Number` (which includes subclasses). But, if we take an element from it, we don&#39;t know it is a `Number`; the alias could point to a `List&lt;Object&gt;`, so it might contain objects of any class. We can only safely assign its elements to variables of type `Object`.\r\n\r\nYou can&#39;t use wildcards when you instantiate a generic type. That is, you can&#39;t write `new ArrayList&lt;? extends Number&gt;`. Wildcards are only used like an alias. A value with no wildcard is only *aliased* under a type with a wildcard, whether during assignment to a variable, passing as a parameter, or returning as a method result.\r\n\r\nI keep using the word &quot;safely&quot;, because Java generics are about type-safety. If you don&#39;t suppress or ignore any type-safety warnings, you won&#39;t have any class-cast exceptions at runtime unless there is a corresponding explicit cast in your code. If you suppress or ignore type-safety warnings, you might encounter a class cast exception from a point in your source code where no cast is visible. The compiler inserts these implicit casts for you in order to support generic types.\r\n\r\nBack to your original example, let me rewrite it and ask you where your question lies.\r\n\r\n```java\r\nstatic void myadd(List&lt;? super Number&gt; nums) {\r\n    /* Create Number objects */\r\n    Number anInteger = 1;\r\n    Number aFloat = 1F;\r\n    Number aDouble = 1D;\r\n    Number aLong = 1L;\r\n    /* Add Number objects to list */\r\n    nums.add(anInteger);\r\n    nums.add(aFloat);\r\n    nums.add(aDouble);\r\n    nums.add(aLong);\r\n}\r\n```\r\n\r\nDo you not understand that a `Integer`, `Float`, `Double`, and `Long` can be assigned to a `Number`? Or do you not understand that a `Number` can be added to a `List&lt;? super Number&gt;`?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Is-a","title":"Can anyone explain this code using bounded wildcards in java?","body":"<p><code>List&lt;? super Number&gt;</code> means that only <code>List&lt;Number&gt;</code> (or some superclass of <code>Number</code>, which is <code>Object</code>) can be assigned to that variable (<code>nums</code>, in your example).</p>\n<p>Because any <code>Long</code>, <code>Double</code>, etc. is-a <code>Number</code> instance, it can be contained in a <code>List&lt;Number&gt;</code>â€”or, for that matter, a <code>List&lt;Object&gt;</code>. However, if you were to assign an element from the list to another variable, the variable would have to be of type <code>Object</code>, since the actual type of the list could be <code>List&lt;Object&gt;</code>.</p>\n<p><code>List&lt;? extends Number&gt;</code> would mean that <code>List&lt;Number&gt;</code> or <code>List&lt;Long&gt;</code> or <code>List&lt;Double&gt;</code> or any other subclass of <code>Number</code> may be assigned to that variable.</p>\n<p>Because such a list is permitted to contain only a certain subclass of <code>Number</code>â€”like <code>Long</code> or <code>Double</code>â€”but the particular subclass is unknown, nothing can be safely added to the list. Any of its elements can be assigned to a variable of type <code>Number</code>, however.</p>\n<p>Consider the following examples:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Object&gt; objs = new ArrayList&lt;&gt;();\nList&lt;? super Number&gt; nums = objs;\n// objs is `List&lt;Object&gt;` so clearly this is fine:\nobjs.add(Integer.valueOf(1));\nobjs.add(&quot;Hello, World!&quot;);\n// We've forgotten that nums is actually the same `List&lt;Object&gt;`, so this won't compile:\nnums.add(&quot;Nice to meet you!&quot;); \n// But we remember that nums is at least a `Number` so this is okay:\nnums.add(Double.valueOf(1.0));\n// This won't compile, because `nums` could/does have a `String` in it:\nNumber num = nums.get(0);\n// This is okay; nums could hold any superclass of `Number`\nObject obj = nums.get(0);\n</code></pre>\n<hr />\n<blockquote>\n<p>Then what is the difference between both of them because ultimately i am able to add subclasses of Number in both extends &amp; super ?</p>\n</blockquote>\n<p>No, this is wrong. As I said, &quot;Because such a list is permitted to contain only a certain subclass of <code>Number</code>â€”like <code>Long</code> or <code>Double</code>â€”but the particular subclass is unknown, nothing can be safely added to the list.&quot; You can't safely add a subclass of <code>Number</code> (or anything) to a <code>List&lt;? extends Number&gt;</code>. The <code>?</code> doesn't mean &quot;any subclass&quot;; it means &quot;unknown subclass&quot;. It's a list of some subclass of <code>Number</code> that you don't know.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; ints = new ArrayList&lt;&gt;();\nList&lt;? extends Number&gt; alias = ints;\n// This won't compile, because you'd be polluting `ints` with a float.\nalias.add(Float.valueOf(1F));\nList&lt;Number&gt; anyNum = new ArrayList&lt;&gt;();\n// These adds are fine, anyNum can contain any subclass of Number\nanyNum.add(Integer.valueOf(1));\nanyNum.add(Float.valueOf(1F));\n// This is fine...\nalias = anyNum;\n// ...but these will fail, because we &quot;forgot&quot; that anyNum points to List&lt;Number&gt;\nalias.add(Integer.valueOf(2));\nalias.add(Float.value(2F));\n</code></pre>\n<blockquote>\n<p>Please Justify what you said in 2nd paragraph of your answer you said &quot; Because any <code>Long</code>, <code>Double</code>, etc. is-a <code>Number</code> instance, it can be contained in a <code>List&lt;Number&gt;</code>â€”or, for that matter, a <code>List&lt;Object&gt;</code>&quot; I don't agree since <code>Long</code>, <code>Double</code> all these wrapper classes are not instances of <code>Number</code> class. Instead they are instances of sub-classes of <code>Number</code> class.</p>\n</blockquote>\n<p>I used some jargon there, <a href=\"https://en.wikipedia.org/wiki/Is-a\" rel=\"nofollow noreferrer\">&quot;is-a&quot;,</a> with which you may be unfamiliar. When one class is a subclass of another, it should be fully substitutable for the superclass. A <code>Long</code> or a <code>Double</code> can perform any operation a <code>Number</code> can; we say that a <code>Double</code> &quot;is-a&quot; <code>Number</code>. An assignment like <code>Number x = Integer.valueOf(1)</code> is perfectly fine because <code>Integer</code> is-a <code>Number</code>. And of course, <code>nums.add(x)</code> would be perfectly fine, because the type of <code>x</code> is <code>Number</code>. Would a (widening) cast from type <code>Child</code> to type <code>Parent</code> succeed? Then <code>Child</code> is-a <code>Parent</code>.</p>\n<blockquote>\n<p>However I agree with this line &quot;if you were to assign an element from the list to another variable, the variable would have to be of type <code>Object</code>, since the actual type of the list could be <code>List&lt;Object&gt;</code>.&quot; because when i tried to assign a value from the list to a Float variable I had to typecast it to float .This raises more qestion because if List can only accept Object then why it is accepting Integer , FLoat .. in myadd() method???</p>\n</blockquote>\n<p>A variable of type <code>List&lt;?&gt;</code> means that the list has some type, but we don't know what it is. Nothing can be safely added to it, and if we take an element from it, all we know about the type is that it is an <code>Object</code> or any subclass, thus we can only safely assign it to <code>Object</code>. Don't think of <code>List&lt;?&gt;</code> as &quot;a list of any type&quot;, but as &quot;a list of unknown type.&quot;</p>\n<p>A variable of type <code>List&lt;Object&gt;</code> contains anything that &quot;is-a&quot; <code>Object</code>. Since any type ultimately extends <code>Object</code>, any type can be added to this list.</p>\n<p>A <code>List&lt;Number&gt;</code> contains anything that &quot;is-a&quot; <code>Number</code>. <code>Long</code>, <code>Double</code>, etc. have that &quot;is-a&quot; (subtype) relationship with <code>Number</code>, so they can be added to the list. I can define my own custom <code>Number</code> type and add it to the list.</p>\n<p>A variable of type <code>List&lt;? extends Number&gt;</code> means that the list has some type, but we only know that the type is <code>Number</code> or a subclass. We still can't add anything to it safely, because we don't know if it's an alias for a <code>List&lt;Long&gt;</code>, <code>List&lt;Double&gt;</code>, or what have you. But, if we take an element from it, we can assign it to <code>Number</code> instead of <code>Object</code>, because we know at least that it is-a <code>Number</code>.</p>\n<p>A variable of type <code>List&lt;? super Number&gt;</code> means that the list has some type, but we only know that the type is <code>Number</code> or a superclass. We can add anything that &quot;is-a&quot; <code>Number</code> (which includes subclasses). But, if we take an element from it, we don't know it is a <code>Number</code>; the alias could point to a <code>List&lt;Object&gt;</code>, so it might contain objects of any class. We can only safely assign its elements to variables of type <code>Object</code>.</p>\n<p>You can't use wildcards when you instantiate a generic type. That is, you can't write <code>new ArrayList&lt;? extends Number&gt;</code>. Wildcards are only used like an alias. A value with no wildcard is only <em>aliased</em> under a type with a wildcard, whether during assignment to a variable, passing as a parameter, or returning as a method result.</p>\n<p>I keep using the word &quot;safely&quot;, because Java generics are about type-safety. If you don't suppress or ignore any type-safety warnings, you won't have any class-cast exceptions at runtime unless there is a corresponding explicit cast in your code. If you suppress or ignore type-safety warnings, you might encounter a class cast exception from a point in your source code where no cast is visible. The compiler inserts these implicit casts for you in order to support generic types.</p>\n<p>Back to your original example, let me rewrite it and ask you where your question lies.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static void myadd(List&lt;? super Number&gt; nums) {\n    /* Create Number objects */\n    Number anInteger = 1;\n    Number aFloat = 1F;\n    Number aDouble = 1D;\n    Number aLong = 1L;\n    /* Add Number objects to list */\n    nums.add(anInteger);\n    nums.add(aFloat);\n    nums.add(aDouble);\n    nums.add(aLong);\n}\n</code></pre>\n<p>Do you not understand that a <code>Integer</code>, <code>Float</code>, <code>Double</code>, and <code>Long</code> can be assigned to a <code>Number</code>? Or do you not understand that a <code>Number</code> can be added to a <code>List&lt;? super Number&gt;</code>?</p>\n"}],"owner":{"account_id":25702276,"reputation":121,"user_id":19462159,"display_name":"BigIO"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":280,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"accepted_answer_id":73142781,"answer_count":1,"score":0,"last_activity_date":1659030968,"creation_date":1658944398,"question_id":73142560,"body_markdown":"I  know my question may seem like a duplicated one but i  have read many of the similar questions and answers yet I am confused specifically with lower bounds (? super) .\r\n Please consider this code . \r\n\r\n  \r\n\r\n \r\n\r\n     import java.util.*;\r\n       public class Main {\r\n      // just adds numbers to the List nums\r\n       static void myadd(List&lt;? super Number&gt; nums){\r\n        \r\n        nums.add(1);\r\n        nums.add(1.0f);\r\n        nums.add(1.1);\r\n        nums.add(3l);\r\n      }\r\n      public static void main(String[] args) {\r\n          \r\n          List empty= new ArrayList&lt;&gt;();\r\n          myadd(empty);\r\n          System.out.println(empty);\r\n      }\r\n    }\r\n\r\n\r\n[Here][1] is the Link to execute it .\r\n\r\nAccording to oracle [docs][2]  \r\n\r\n&gt;  a lower bounded wildcard restricts the unknown type to be a specific\r\n&gt; type or a super type of that type\r\n\r\n\r\n**[Number][3] class is the superclass of classes  Double, Float, Integer, Long, and Short then why this method executes perfectly fine ?**\r\nThis method (myadd) should only work for objects which are direct instances of Number class or  it&#39;s super type , not for it&#39;s sub classes.\r\n\r\nI have read following answers still my doubt is not clear . \r\n1. https://stackoverflow.com/questions/19795709/understanding-upper-and-lower-bounds-on-in-java-generics\r\n2. https://stackoverflow.com/questions/13623189/java-lower-bound-wildcards\r\n\r\nIf anyone can explain I will be obliged.\r\n\r\n\r\n  [1]: https://onecompiler.com/java/3yb8ydu8s\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/generics/lowerBounded.html\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/lang/Number.html#:~:text=Class%20Number&amp;text=The%20abstract%20class%20Number%20is,int%20%2C%20long%20%2C%20and%20short%20.","title":"Can anyone explain this code using bounded wildcards in java?","body":"<p>I  know my question may seem like a duplicated one but i  have read many of the similar questions and answers yet I am confused specifically with lower bounds (? super) .\nPlease consider this code .</p>\n<pre><code> import java.util.*;\n   public class Main {\n  // just adds numbers to the List nums\n   static void myadd(List&lt;? super Number&gt; nums){\n    \n    nums.add(1);\n    nums.add(1.0f);\n    nums.add(1.1);\n    nums.add(3l);\n  }\n  public static void main(String[] args) {\n      \n      List empty= new ArrayList&lt;&gt;();\n      myadd(empty);\n      System.out.println(empty);\n  }\n}\n</code></pre>\n<p><a href=\"https://onecompiler.com/java/3yb8ydu8s\" rel=\"nofollow noreferrer\">Here</a> is the Link to execute it .</p>\n<p>According to oracle <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/lowerBounded.html\" rel=\"nofollow noreferrer\">docs</a></p>\n<blockquote>\n<p>a lower bounded wildcard restricts the unknown type to be a specific\ntype or a super type of that type</p>\n</blockquote>\n<p><strong><a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Number.html#:%7E:text=Class%20Number&amp;text=The%20abstract%20class%20Number%20is,int%20%2C%20long%20%2C%20and%20short%20.\" rel=\"nofollow noreferrer\">Number</a> class is the superclass of classes  Double, Float, Integer, Long, and Short then why this method executes perfectly fine ?</strong>\nThis method (myadd) should only work for objects which are direct instances of Number class or  it's super type , not for it's sub classes.</p>\n<p>I have read following answers still my doubt is not clear .</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/19795709/understanding-upper-and-lower-bounds-on-in-java-generics\">Understanding upper and lower bounds on ? in Java Generics</a></li>\n<li><a href=\"https://stackoverflow.com/questions/13623189/java-lower-bound-wildcards\">Java lower bound wildcards</a></li>\n</ol>\n<p>If anyone can explain I will be obliged.</p>\n"},{"tags":["java","file-move"],"comments":[{"owner":{"account_id":3777195,"reputation":1393,"user_id":3137702,"display_name":"alzee"},"score":0,"creation_date":1507243041,"post_id":46595677,"comment_id":80144433,"body_markdown":"Possible duplicate of [java.nio.file.FileSystemException: The process cannot access the file because it is being used by another process](https://stackoverflow.com/questions/33924479/java-nio-file-filesystemexception-the-process-cannot-access-the-file-because-it)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/33924479/java-nio-file-filesystemexception-the-process-cannot-access-the-file-because-it\">java.nio.file.FileSystemException: The process cannot access the file because it is being used by another process</a>"},{"owner":{"account_id":5715690,"reputation":2296,"user_id":4515989,"accept_rate":78,"display_name":"Felix"},"score":3,"creation_date":1507243265,"post_id":46595677,"comment_id":80144485,"body_markdown":"`Files.move(myFile.toPath(), myFolder.toPath().resolve (myFile.getName ()), StandardCopyOption.REPLACE_EXISTING);`","body":"<code>Files.move(myFile.toPath(), myFolder.toPath().resolve (myFile.getName ()), StandardCopyOption.REPLACE_EXISTING);</code>"},{"owner":{"account_id":9525049,"reputation":125,"user_id":7078496,"display_name":"Display name"},"score":0,"creation_date":1507243333,"post_id":46595677,"comment_id":80144496,"body_markdown":"@alzee That solution did not give an error, but the file was not moved at all.","body":"@alzee That solution did not give an error, but the file was not moved at all."},{"owner":{"account_id":9525049,"reputation":125,"user_id":7078496,"display_name":"Display name"},"score":0,"creation_date":1507243606,"post_id":46595677,"comment_id":80144570,"body_markdown":"@rollback We have a winner! This fixes my problem. Thank you.","body":"@rollback We have a winner! This fixes my problem. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":9525049,"reputation":125,"user_id":7078496,"display_name":"Display name"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1507245227,"creation_date":1507245227,"answer_id":46596095,"question_id":46595677,"body_markdown":"Answer from user [rollback][1]:\r\n\r\n    Files.move(myFile.toPath(), myFolder.toPath().resolve(myFile.getName()), StandardCopyOption.REPLACE_EXISTING);\r\n\r\n  [1]: https://stackoverflow.com/users/4515989/rollback &quot;rollback&quot;","title":"Files.move() in Java giving a FilesSystemException error because folder is &quot;being used by another process,&quot; but it&#39;s not","body":"<p>Answer from user <a href=\"https://stackoverflow.com/users/4515989/rollback\" title=\"rollback\">rollback</a>:</p>\n\n<pre><code>Files.move(myFile.toPath(), myFolder.toPath().resolve(myFile.getName()), StandardCopyOption.REPLACE_EXISTING);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10406615,"reputation":21,"user_id":7673358,"display_name":"Lionel Rezoagli"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1507245313,"creation_date":1507245313,"answer_id":46596104,"question_id":46595677,"body_markdown":"I use: \r\n\r\n    public static void moveFile(String origen, String destino) throws IOException {\r\n            Path FROM = Paths.get(origen);\r\n            Path TO = Paths.get(destino);\r\n    \r\n            CopyOption[] options = new CopyOption[]{\r\n                StandardCopyOption.ATOMIC_MOVE\r\n    \r\n            };\r\n            Files.move(FROM, TO, options);\r\n        }","title":"Files.move() in Java giving a FilesSystemException error because folder is &quot;being used by another process,&quot; but it&#39;s not","body":"<p>I use: </p>\n\n<pre><code>public static void moveFile(String origen, String destino) throws IOException {\n        Path FROM = Paths.get(origen);\n        Path TO = Paths.get(destino);\n\n        CopyOption[] options = new CopyOption[]{\n            StandardCopyOption.ATOMIC_MOVE\n\n        };\n        Files.move(FROM, TO, options);\n    }\n</code></pre>\n"}],"owner":{"account_id":9525049,"reputation":125,"user_id":7078496,"display_name":"Display name"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12363,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":46596095,"answer_count":2,"score":4,"last_activity_date":1659030622,"creation_date":1507242311,"question_id":46595677,"body_markdown":"I want to move a single file to another folder, but I can&#39;t because *&quot;it is being used by another process.&quot;* This is my code:\r\n\r\n    static File myFile = new File(&quot;C:\\\\filepath&quot;);\r\n    static File myFolder = new File(&quot;C:\\\\folderpath&quot;);\r\n\r\n    public static void main(String[] args) \r\n\t\t\tthrows IOException {\r\n        fileMove();\r\n    }\r\n\r\n    public static void fileMove() \r\n\t\t\tthrows IOException {\r\n\t\tFiles.move(myFile.toPath(), myFolder.toPath(), StandardCopyOption.REPLACE_EXISTING);\r\n\t\treturn;\r\n\t}\r\n\r\nError message:&lt;br/&gt;\r\n**Exception in thread &quot;main&quot; java.nio.file.FileSystemException: C:\\folderpath: The process cannot access the file because it is being used by another process.**\r\n\r\nI&#39;ve tried out different files, different folders, but everytime it says the file is being used. I&#39;ve tested it with a basic text file that was definitely closed and not being used when I tested it, but I still get the error. Does anyone know what&#39;s going on? Or, is there another way to move files that won&#39;t have this issue?","title":"Files.move() in Java giving a FilesSystemException error because folder is &quot;being used by another process,&quot; but it&#39;s not","body":"<p>I want to move a single file to another folder, but I can't because <em>\"it is being used by another process.\"</em> This is my code:</p>\n\n<pre><code>static File myFile = new File(\"C:\\\\filepath\");\nstatic File myFolder = new File(\"C:\\\\folderpath\");\n\npublic static void main(String[] args) \n        throws IOException {\n    fileMove();\n}\n\npublic static void fileMove() \n        throws IOException {\n    Files.move(myFile.toPath(), myFolder.toPath(), StandardCopyOption.REPLACE_EXISTING);\n    return;\n}\n</code></pre>\n\n<p>Error message:<br/>\n<strong>Exception in thread \"main\" java.nio.file.FileSystemException: C:\\folderpath: The process cannot access the file because it is being used by another process.</strong></p>\n\n<p>I've tried out different files, different folders, but everytime it says the file is being used. I've tested it with a basic text file that was definitely closed and not being used when I tested it, but I still get the error. Does anyone know what's going on? Or, is there another way to move files that won't have this issue?</p>\n"},{"tags":["java","kotlin","oop"],"answers":[{"tags":[],"owner":{"account_id":19366425,"reputation":16,"user_id":14160597,"display_name":"orang3juic3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659030015,"creation_date":1659030015,"answer_id":73157082,"question_id":73136484,"body_markdown":"It should be possible to access these classes with the setup that you described, the only time I get a an `Unresolved reference` error is when there are errors within the java file. Perhaps because `JavaClasses.java` is generated it doesn&#39;t have the correct `package` declaration at the top of the file, which in your case should be `package com.example.mypackage;` ","title":"Access Java class defined in a file with many classes from Kotlin","body":"<p>It should be possible to access these classes with the setup that you described, the only time I get a an <code>Unresolved reference</code> error is when there are errors within the java file. Perhaps because <code>JavaClasses.java</code> is generated it doesn't have the correct <code>package</code> declaration at the top of the file, which in your case should be <code>package com.example.mypackage;</code></p>\n"}],"owner":{"account_id":22104302,"reputation":1415,"user_id":16360266,"display_name":"Eyjafl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659030015,"creation_date":1658918513,"question_id":73136484,"body_markdown":"I have a package which contains a public Kotlin class and a Java file with many package-private top-level classes like so:\r\n\r\n```\r\ncom.example.mypackage\r\n- KotlinClass.kt\r\n- JavaClasses.java\r\n-- Class1\r\n-- Class2\r\n-- ...\r\n```\r\n\r\nIf I try to access any class from `JavaClasses` in `KotlinClass` I get `Unresolved reference` error. Is it possible to access these classes?\r\n\r\nI cannot change `JavaClasses.java` because it&#39;s generated.","title":"Access Java class defined in a file with many classes from Kotlin","body":"<p>I have a package which contains a public Kotlin class and a Java file with many package-private top-level classes like so:</p>\n<pre><code>com.example.mypackage\n- KotlinClass.kt\n- JavaClasses.java\n-- Class1\n-- Class2\n-- ...\n</code></pre>\n<p>If I try to access any class from <code>JavaClasses</code> in <code>KotlinClass</code> I get <code>Unresolved reference</code> error. Is it possible to access these classes?</p>\n<p>I cannot change <code>JavaClasses.java</code> because it's generated.</p>\n"},{"tags":["java","maven","multi-module"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1659029416,"post_id":73156803,"comment_id":129204302,"body_markdown":"That property `${version}` is not defined nor supported. If you like to use that please follow the instruction: https://maven.apache.org/maven-ci-friendly.html also read to the end of the docs(very important!)","body":"That property <code>${version}</code> is not defined nor supported. If you like to use that please follow the instruction: <a href=\"https://maven.apache.org/maven-ci-friendly.html\" rel=\"nofollow noreferrer\">maven.apache.org/maven-ci-friendly.html</a> also read to the end of the docs(very important!)"},{"owner":{"account_id":15988863,"reputation":31,"user_id":11538541,"display_name":"Roopam Gupta"},"score":0,"creation_date":1659029534,"post_id":73156803,"comment_id":129204348,"body_markdown":"its dummy name i used - we are having different name","body":"its dummy name i used - we are having different name"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1659029624,"post_id":73156803,"comment_id":129204378,"body_markdown":"That does not change a thing. because you have to use `${revision}` or `${changelist}` or `${sha1}` nothing else will work! apart from that why not using the real names in the post... that would make it easier to help..","body":"That does not change a thing. because you have to use <code>${revision}</code> or <code>${changelist}</code> or <code>${sha1}</code> nothing else will work! apart from that why not using the real names in the post... that would make it easier to help.."}],"answers":[{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659029940,"creation_date":1659029940,"answer_id":73157068,"question_id":73156803,"body_markdown":"Unless a variable is defined in your current Pom or parent Pom (all the way up to the super Pom) it is not available. \r\n\r\nYou should not define the variable in test1 but in the shared parent Pom. ","title":"Maven property is not being resolved","body":"<p>Unless a variable is defined in your current Pom or parent Pom (all the way up to the super Pom) it is not available.</p>\n<p>You should not define the variable in test1 but in the shared parent Pom.</p>\n"}],"owner":{"account_id":15988863,"reputation":31,"user_id":11538541,"display_name":"Roopam Gupta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659029940,"creation_date":1659028585,"question_id":73156803,"body_markdown":"We have two different maven project - 1. test1 which is multimodule 2. test2 which is also multimodule.\r\nI am trying to use ${test.version} to test2 project pom with the property define version in test1 project but not able to access the property as its looking for the variable version when trying to look for 1.2.2-RELEASE using ${test.version} but the property is not resolving.\r\n\r\nError : **[ERROR] Failed to execute goal on project test-core: Could not resolve dependencies for project com.test2:test-core:jar:1.2.2-RELEASE: Failed to collect dependencies at com.test:common:jar:1.2.2-RELEASE: Failed to read artifact descriptor for dummy:common:jar:1.2.2-RELEASE: Could not find artifact dummy:pom:${test.version} in central** \r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Jbea2.png","title":"Maven property is not being resolved","body":"<p>We have two different maven project - 1. test1 which is multimodule 2. test2 which is also multimodule.\nI am trying to use ${test.version} to test2 project pom with the property define version in test1 project but not able to access the property as its looking for the variable version when trying to look for 1.2.2-RELEASE using ${test.version} but the property is not resolving.</p>\n<p>Error : <strong>[ERROR] Failed to execute goal on project test-core: Could not resolve dependencies for project com.test2:test-core:jar:1.2.2-RELEASE: Failed to collect dependencies at com.test:common:jar:1.2.2-RELEASE: Failed to read artifact descriptor for dummy:common:jar:1.2.2-RELEASE: Could not find artifact dummy:pom:${test.version} in central</strong>\n<a href=\"https://i.stack.imgur.com/Jbea2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jbea2.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2327072,"reputation":7733,"user_id":2041317,"accept_rate":100,"display_name":"cup"},"score":2,"creation_date":1659028090,"post_id":73156660,"comment_id":129203869,"body_markdown":"You need to read up about the pre and post increment operators.","body":"You need to read up about the pre and post increment operators."},{"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":0,"creation_date":1659028099,"post_id":73156660,"comment_id":129203870,"body_markdown":"Currently the calculation is basically `1 + 2 + 3 + 4 + 5 + 6`.  *&quot;And why not ++i?&quot;* - When you change it to that, what happens to the result?","body":"Currently the calculation is basically <code>1 + 2 + 3 + 4 + 5 + 6</code>.  <i>&quot;And why not ++i?&quot;</i> - When you change it to that, what happens to the result?"},{"owner":{"account_id":2119809,"reputation":50937,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1659028440,"post_id":73156660,"comment_id":129203986,"body_markdown":"Right.  The value of `i++` in an expression is the value of `i`.  As a side effect, it also bumps the value stored in `i`, but the bumped value isn&#39;t part of the expression.  The value of `++i` in an expression is `i+1`.","body":"Right.  The value of <code>i++</code> in an expression is the value of <code>i</code>.  As a side effect, it also bumps the value stored in <code>i</code>, but the bumped value isn&#39;t part of the expression.  The value of <code>++i</code> in an expression is <code>i+1</code>."}],"answers":[{"tags":[],"owner":{"account_id":24684320,"reputation":9,"user_id":18577714,"display_name":"Alain Kazadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659029858,"creation_date":1659029764,"answer_id":73157037,"question_id":73156660,"body_markdown":"the answer is 21 because we add each iteration of the loop in the sum. \r\nso at each verification if a number is less than or equal to &lt;=6 we add each in the variable sum. so the increment is after verification and not make the post incrementention. #JAVA\r\n","title":"In java, don&#39;t understand that simple while loop(the sum of 1 to 6)","body":"<p>the answer is 21 because we add each iteration of the loop in the sum.\nso at each verification if a number is less than or equal to &lt;=6 we add each in the variable sum. so the increment is after verification and not make the post incrementention. #JAVA</p>\n"}],"owner":{"account_id":25919216,"reputation":1,"user_id":19642157,"display_name":"Seung-nam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1659028265,"answer_count":1,"score":-2,"last_activity_date":1659029858,"creation_date":1659027870,"question_id":73156660,"body_markdown":"public class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tint i=1,sum=0;\r\n\t\t\r\n\t\twhile(i&lt;=6) {\r\n\t\t\tsum+=i++; \r\n\t\t}\r\n\t\tSystem.out.println(sum);\t\t\r\n}\r\n\r\n}\r\n\r\n\r\nthis is java eclipse code, and it prints 21 normally\r\nBut i don&#39;t understand that &quot;sum += i++; &quot; code.\r\nI understood the meaning of that code as, 1+1 2+1 3+1 4+1 5+1 6+1  -&gt; 2+3+4+5+6 -&gt; 20. \r\nHow is that code calculated in a while loop? And why not ++i? ","title":"In java, don&#39;t understand that simple while loop(the sum of 1 to 6)","body":"<p>public class Main {</p>\n<pre><code>public static void main(String[] args) {\n    \n    int i=1,sum=0;\n    \n    while(i&lt;=6) {\n        sum+=i++; \n    }\n    System.out.println(sum);        \n</code></pre>\n<p>}</p>\n<p>}</p>\n<p>this is java eclipse code, and it prints 21 normally\nBut i don't understand that &quot;sum += i++; &quot; code.\nI understood the meaning of that code as, 1+1 2+1 3+1 4+1 5+1 6+1  -&gt; 2+3+4+5+6 -&gt; 20.\nHow is that code calculated in a while loop? And why not ++i?</p>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1659031985,"post_id":73156975,"comment_id":129205089,"body_markdown":"The first 3 are not Spring security, likely just the first is. The second one is your own findAllByUserId query. Everything after that is also likely related to building Project instances - it seems to fetch a whole lot of data, and some of those have eager relationships to other entities, which Hibernate uses joins for. Turn on parameter logging for proof, and check your entity graph and you&#39;ll be able to explain the queries. I suspect the first is to build the project, and the others are when you serialize the instance and that your serialization process is walking the graph","body":"The first 3 are not Spring security, likely just the first is. The second one is your own findAllByUserId query. Everything after that is also likely related to building Project instances - it seems to fetch a whole lot of data, and some of those have eager relationships to other entities, which Hibernate uses joins for. Turn on parameter logging for proof, and check your entity graph and you&#39;ll be able to explain the queries. I suspect the first is to build the project, and the others are when you serialize the instance and that your serialization process is walking the graph"},{"owner":{"account_id":13038047,"reputation":476,"user_id":9422268,"display_name":"Joonseo Lee"},"score":0,"creation_date":1659182430,"post_id":73156975,"comment_id":129235655,"body_markdown":"I think you should try to map a dto not entity it printed all of related entities. that is why you can see some several queries","body":"I think you should try to map a dto not entity it printed all of related entities. that is why you can see some several queries"}],"owner":{"account_id":10408133,"reputation":176,"user_id":7740426,"display_name":"Ð¡ÐµÑ€Ð³ÐµÐ¹"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659029414,"creation_date":1659029414,"question_id":73156975,"body_markdown":"I have written a simple REST app. These are the fragments from it:\r\n\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Project {\r\n\r\n\t@Id\r\n\t@Column(name = &quot;id&quot;, nullable = false)\r\n\tprivate UUID id;\r\n\r\n\t@Column(name = &quot;title&quot;)\r\n\tprivate String title;\r\n\r\n\t@OneToMany(fetch = FetchType.LAZY)\r\n\tprivate Set&lt;Video&gt; video = new HashSet&lt;&gt;();\r\n\r\n\t@ManyToOne\r\n\tprivate User user;\r\n}\r\n\r\n@Entity\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Video {\r\n\r\n\t@Id\r\n\t@Column(name = &quot;id&quot;, nullable = false)\r\n\tprivate UUID id;\r\n\r\n\t@Column(name = &quot;content&quot;)\r\n\tprivate byte[] content;\r\n}\r\n\r\n@Getter\r\n@Setter\r\n@Entity\r\n@Table(\tname = &quot;users&quot;)\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class User {\r\n\t@Id\r\n\tprivate UUID id;\r\n\r\n\t@NotBlank\r\n\t@Size(max = 50)\r\n\t@Email\r\n\tprivate String email;\r\n\r\n\t@NotBlank\r\n\t@Size(max = 120)\r\n\tprivate String password;\r\n\r\n\t@OneToMany(fetch = FetchType.LAZY)\r\n\tprivate Set&lt;Project&gt; project = new HashSet&lt;&gt;();\r\n}\r\n\r\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\r\n@RestController\r\n@RequestMapping(&quot;/api/v1/&quot;)\r\n@RequiredArgsConstructor\r\npublic class UserController {\r\n\r\n\tprivate final ProjectService projectService;\r\n\t@GetMapping(&quot;/get-projects&quot;)\r\n\tpublic List&lt;Project&gt; getUserProjects() {\r\n\t\tAuthentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n\t\tif (authentication == null) throw new RuntimeException(&quot;NPE&quot;); //todo ÑÐ´ÐµÐ»Ð°Ñ‚ÑŒ Ð½Ð¾Ñ€Ð¼Ð°Ð»ÑŒÐ½Ð¾Ðµ Ð¸ÑÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ\r\n\t\tObject principal = authentication.getPrincipal();\r\n\t\tif (principal == null || !(principal instanceof UserDetailsImpl)) throw new RuntimeException(&quot;NPE or cast exception&quot;); //todo ÑÐ´ÐµÐ»Ð°Ñ‚ÑŒ Ð½Ð¾Ñ€Ð¼Ð°Ð»ÑŒÐ½Ð¾Ðµ Ð¸ÑÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ\r\n\t\tUserDetailsImpl user = (UserDetailsImpl) authentication.getPrincipal();\r\n\t\treturn projectService.findAllByUserId(user.getId());\r\n\t}\r\n}\r\n\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class ProjectService {\r\n\r\n\tprivate final ProjectRepository projectRepository;\r\n\r\n\tpublic List&lt;Project&gt; findAllByUserId(UUID id) {\r\n\t\treturn projectRepository.findAllByUserId(id);\r\n\t}\r\n}\r\n\r\npublic interface ProjectRepository extends JpaRepository&lt;Project, UUID&gt; {\r\n\r\n\t@Query(&quot;select p from Project p where p.user.id = :userId&quot;)\r\n\tList&lt;Project&gt; findAllByUserId(UUID userId);\r\n}\r\n\r\n```\r\nAnd this output I can see in the console:\r\n```\r\nHibernate: \r\n    select\r\n        user0_.id as id1_2_,\r\n        user0_.email as email2_2_,\r\n        user0_.password as password3_2_ \r\n    from\r\n        users user0_ \r\n    where\r\n        user0_.email=?\r\nHibernate: \r\n    select\r\n        project0_.id as id1_0_,\r\n        project0_.title as title2_0_,\r\n        project0_.user_id as user_id3_0_ \r\n    from\r\n        project project0_ \r\n    where\r\n        project0_.user_id=?\r\nHibernate: \r\n    select\r\n        user0_.id as id1_2_0_,\r\n        user0_.email as email2_2_0_,\r\n        user0_.password as password3_2_0_ \r\n    from\r\n        users user0_ \r\n    where\r\n        user0_.id=?\r\nHibernate: \r\n    select\r\n        video0_.project_id as project_1_1_0_,\r\n        video0_.video_id as video_id2_1_0_,\r\n        video1_.id as id1_4_1_,\r\n        video1_.content as content2_4_1_ \r\n    from\r\n        project_video video0_ \r\n    inner join\r\n        video video1_ \r\n            on video0_.video_id=video1_.id \r\n    where\r\n        video0_.project_id=?\r\nHibernate: \r\n    select\r\n        project0_.user_id as user_id1_3_0_,\r\n        project0_.project_id as project_2_3_0_,\r\n        project1_.id as id1_0_1_,\r\n        project1_.title as title2_0_1_,\r\n        project1_.user_id as user_id3_0_1_,\r\n        user2_.id as id1_2_2_,\r\n        user2_.email as email2_2_2_,\r\n        user2_.password as password3_2_2_ \r\n    from\r\n        users_project project0_ \r\n    inner join\r\n        project project1_ \r\n            on project0_.project_id=project1_.id \r\n    left outer join\r\n        users user2_ \r\n            on project1_.user_id=user2_.id \r\n    where\r\n        project0_.user_id=?\r\nHibernate: \r\n    select\r\n        video0_.project_id as project_1_1_0_,\r\n        video0_.video_id as video_id2_1_0_,\r\n        video1_.id as id1_4_1_,\r\n        video1_.content as content2_4_1_ \r\n    from\r\n        project_video video0_ \r\n    inner join\r\n        video video1_ \r\n            on video0_.video_id=video1_.id \r\n    where\r\n        video0_.project_id=?\r\nHibernate: \r\n    select\r\n        video0_.project_id as project_1_1_0_,\r\n        video0_.video_id as video_id2_1_0_,\r\n        video1_.id as id1_4_1_,\r\n        video1_.content as content2_4_1_ \r\n    from\r\n        project_video video0_ \r\n    inner join\r\n        video video1_ \r\n            on video0_.video_id=video1_.id \r\n    where\r\n        video0_.project_id=?\r\n```\r\nI understand where the first three queries are from. They are from the Spring Security and working of the Repository. But origin of the other queries is mystery for me. Please help me to understand.\r\n    ","title":"Hibernate generates strange queries","body":"<p>I have written a simple REST app. These are the fragments from it:</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Project {\n\n    @Id\n    @Column(name = &quot;id&quot;, nullable = false)\n    private UUID id;\n\n    @Column(name = &quot;title&quot;)\n    private String title;\n\n    @OneToMany(fetch = FetchType.LAZY)\n    private Set&lt;Video&gt; video = new HashSet&lt;&gt;();\n\n    @ManyToOne\n    private User user;\n}\n\n@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Video {\n\n    @Id\n    @Column(name = &quot;id&quot;, nullable = false)\n    private UUID id;\n\n    @Column(name = &quot;content&quot;)\n    private byte[] content;\n}\n\n@Getter\n@Setter\n@Entity\n@Table( name = &quot;users&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\npublic class User {\n    @Id\n    private UUID id;\n\n    @NotBlank\n    @Size(max = 50)\n    @Email\n    private String email;\n\n    @NotBlank\n    @Size(max = 120)\n    private String password;\n\n    @OneToMany(fetch = FetchType.LAZY)\n    private Set&lt;Project&gt; project = new HashSet&lt;&gt;();\n}\n\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\n@RestController\n@RequestMapping(&quot;/api/v1/&quot;)\n@RequiredArgsConstructor\npublic class UserController {\n\n    private final ProjectService projectService;\n    @GetMapping(&quot;/get-projects&quot;)\n    public List&lt;Project&gt; getUserProjects() {\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n        if (authentication == null) throw new RuntimeException(&quot;NPE&quot;); //todo ÑÐ´ÐµÐ»Ð°Ñ‚ÑŒ Ð½Ð¾Ñ€Ð¼Ð°Ð»ÑŒÐ½Ð¾Ðµ Ð¸ÑÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ\n        Object principal = authentication.getPrincipal();\n        if (principal == null || !(principal instanceof UserDetailsImpl)) throw new RuntimeException(&quot;NPE or cast exception&quot;); //todo ÑÐ´ÐµÐ»Ð°Ñ‚ÑŒ Ð½Ð¾Ñ€Ð¼Ð°Ð»ÑŒÐ½Ð¾Ðµ Ð¸ÑÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ\n        UserDetailsImpl user = (UserDetailsImpl) authentication.getPrincipal();\n        return projectService.findAllByUserId(user.getId());\n    }\n}\n\n@Service\n@RequiredArgsConstructor\npublic class ProjectService {\n\n    private final ProjectRepository projectRepository;\n\n    public List&lt;Project&gt; findAllByUserId(UUID id) {\n        return projectRepository.findAllByUserId(id);\n    }\n}\n\npublic interface ProjectRepository extends JpaRepository&lt;Project, UUID&gt; {\n\n    @Query(&quot;select p from Project p where p.user.id = :userId&quot;)\n    List&lt;Project&gt; findAllByUserId(UUID userId);\n}\n\n</code></pre>\n<p>And this output I can see in the console:</p>\n<pre><code>Hibernate: \n    select\n        user0_.id as id1_2_,\n        user0_.email as email2_2_,\n        user0_.password as password3_2_ \n    from\n        users user0_ \n    where\n        user0_.email=?\nHibernate: \n    select\n        project0_.id as id1_0_,\n        project0_.title as title2_0_,\n        project0_.user_id as user_id3_0_ \n    from\n        project project0_ \n    where\n        project0_.user_id=?\nHibernate: \n    select\n        user0_.id as id1_2_0_,\n        user0_.email as email2_2_0_,\n        user0_.password as password3_2_0_ \n    from\n        users user0_ \n    where\n        user0_.id=?\nHibernate: \n    select\n        video0_.project_id as project_1_1_0_,\n        video0_.video_id as video_id2_1_0_,\n        video1_.id as id1_4_1_,\n        video1_.content as content2_4_1_ \n    from\n        project_video video0_ \n    inner join\n        video video1_ \n            on video0_.video_id=video1_.id \n    where\n        video0_.project_id=?\nHibernate: \n    select\n        project0_.user_id as user_id1_3_0_,\n        project0_.project_id as project_2_3_0_,\n        project1_.id as id1_0_1_,\n        project1_.title as title2_0_1_,\n        project1_.user_id as user_id3_0_1_,\n        user2_.id as id1_2_2_,\n        user2_.email as email2_2_2_,\n        user2_.password as password3_2_2_ \n    from\n        users_project project0_ \n    inner join\n        project project1_ \n            on project0_.project_id=project1_.id \n    left outer join\n        users user2_ \n            on project1_.user_id=user2_.id \n    where\n        project0_.user_id=?\nHibernate: \n    select\n        video0_.project_id as project_1_1_0_,\n        video0_.video_id as video_id2_1_0_,\n        video1_.id as id1_4_1_,\n        video1_.content as content2_4_1_ \n    from\n        project_video video0_ \n    inner join\n        video video1_ \n            on video0_.video_id=video1_.id \n    where\n        video0_.project_id=?\nHibernate: \n    select\n        video0_.project_id as project_1_1_0_,\n        video0_.video_id as video_id2_1_0_,\n        video1_.id as id1_4_1_,\n        video1_.content as content2_4_1_ \n    from\n        project_video video0_ \n    inner join\n        video video1_ \n            on video0_.video_id=video1_.id \n    where\n        video0_.project_id=?\n</code></pre>\n<p>I understand where the first three queries are from. They are from the Spring Security and working of the Repository. But origin of the other queries is mystery for me. Please help me to understand.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":53674,"reputation":24169,"user_id":160527,"accept_rate":62,"display_name":"Corey Ogburn"},"score":1,"creation_date":1659029546,"post_id":73156965,"comment_id":129204352,"body_markdown":"Constants are compiled into the code as their value. Methods that are part of the SDK are supposed to be implemented on-device so it doesn&#39;t get compiled into the APK.","body":"Constants are compiled into the code as their value. Methods that are part of the SDK are supposed to be implemented on-device so it doesn&#39;t get compiled into the APK."},{"owner":{"account_id":53674,"reputation":24169,"user_id":160527,"accept_rate":62,"display_name":"Corey Ogburn"},"score":0,"creation_date":1659029643,"post_id":73156965,"comment_id":129204384,"body_markdown":"Note that just because it doesn&#39;t crash, doesn&#39;t mean it&#39;ll do what you want it to do. If that constant means something else in an older API, you&#39;ve probably introduced a bug.","body":"Note that just because it doesn&#39;t crash, doesn&#39;t mean it&#39;ll do what you want it to do. If that constant means something else in an older API, you&#39;ve probably introduced a bug."}],"owner":{"account_id":19498202,"reputation":305,"user_id":14368551,"display_name":"VanechikSpace"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659029369,"creation_date":1659029369,"question_id":73156965,"body_markdown":"I have small app. It has [method](https://developer.android.com/reference/android/app/Activity#getMaxNumPictureInPictureActions()) that has been added in 26 API level. \r\n```\r\n...\r\ngetMaxNumPictureInPictureActions();\r\n...\r\n```\r\n\r\nWhen i run it on device that has 24 API level, the app crashes. It&#39;s ok. Then i deleted that method and tried to use [constant](https://developer.android.com/reference/android/Manifest.permission#BIND_AUTOFILL_SERVICE) which has been added in 26 API level as well.\r\n\r\n```\r\n...\r\nString s = Manifest.permission.BIND_AUTOFILL_SERVICE;\r\n...\r\n```\r\n\r\nFor some reason, after reading this line, the app doesn&#39;t crash.\r\n\r\n**Why it doesn&#39;t happen? 24 level doesn&#39;t have that constant and that&#39;s why this app must crash, mustn&#39;t it ?**","title":"Why does device use not existing API?","body":"<p>I have small app. It has <a href=\"https://developer.android.com/reference/android/app/Activity#getMaxNumPictureInPictureActions()\" rel=\"nofollow noreferrer\">method</a> that has been added in 26 API level.</p>\n<pre><code>...\ngetMaxNumPictureInPictureActions();\n...\n</code></pre>\n<p>When i run it on device that has 24 API level, the app crashes. It's ok. Then i deleted that method and tried to use <a href=\"https://developer.android.com/reference/android/Manifest.permission#BIND_AUTOFILL_SERVICE\" rel=\"nofollow noreferrer\">constant</a> which has been added in 26 API level as well.</p>\n<pre><code>...\nString s = Manifest.permission.BIND_AUTOFILL_SERVICE;\n...\n</code></pre>\n<p>For some reason, after reading this line, the app doesn't crash.</p>\n<p><strong>Why it doesn't happen? 24 level doesn't have that constant and that's why this app must crash, mustn't it ?</strong></p>\n"},{"tags":["java","regex","pattern-matching"],"answers":[{"tags":[],"owner":{"account_id":37846,"reputation":6497,"user_id":108326,"display_name":"markusk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659029192,"creation_date":1659029192,"answer_id":73156924,"question_id":73156855,"body_markdown":"If you want to match only cases where the entire string either only contains letters and digits, or else is exactly 5 asterisks, you can use the regex `^(\\*{5}|[a-zA-Z0-9]+)$` .\r\n\r\nThis assumes empty strings are not allowed. If you want to allow empty strings, replace `+` with `*`.","title":"Regular expression that allows only a specific special character when it has a specific length","body":"<p>If you want to match only cases where the entire string either only contains letters and digits, or else is exactly 5 asterisks, you can use the regex <code>^(\\*{5}|[a-zA-Z0-9]+)$</code> .</p>\n<p>This assumes empty strings are not allowed. If you want to allow empty strings, replace <code>+</code> with <code>*</code>.</p>\n"},{"tags":[],"owner":{"account_id":4690657,"reputation":926,"user_id":3796854,"display_name":"edi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659029361,"creation_date":1659029361,"answer_id":73156962,"question_id":73156855,"body_markdown":"It is not totally clear to me what to match in your case, however, something like\r\n\r\n    (^\\*{5}$)|(^[a-zA-Z0-9]+$)\r\n\r\nShould do the trick.","title":"Regular expression that allows only a specific special character when it has a specific length","body":"<p>It is not totally clear to me what to match in your case, however, something like</p>\n<pre><code>(^\\*{5}$)|(^[a-zA-Z0-9]+$)\n</code></pre>\n<p>Should do the trick.</p>\n"}],"owner":{"account_id":24509069,"reputation":23,"user_id":18423650,"display_name":"David D"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":381,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73156924,"answer_count":2,"score":0,"last_activity_date":1659029361,"creation_date":1659028872,"question_id":73156855,"body_markdown":"I need a regular expression that matches these cases: \r\n\r\n    EXAMPLE1\r\n    1EXAMPLE\r\n    EXAMPLE\r\n    ***** \r\n\r\nNot Match\r\n\r\n    EXAMPLE 1\r\n    EXAMPLE.\r\n    **EXAMPLE**\r\n    EXAMPLE**\r\n    **EXAMPLE\r\n    *****EXAMPLE\r\n    EXA MPLE\r\n    *******\r\n    EXAMPLE&#209;\r\n\r\n\r\nI try with this regex `^(\\*{0,5}?)([a-zA-Z0-9])*$` [(DEMO)][1]\r\nbut the regular expression matches cases like these which I don&#39;t need to match:\r\n\r\n\r\n    *****EXAMPLE\r\n    **EXAMPLE\r\n    ****\r\n\r\n\r\nThey should only match when the asterisks have a length of 5 or words without special characters or asterisks\r\n\r\n\r\n  [1]: https://regex101.com/r/NTSpjN/1","title":"Regular expression that allows only a specific special character when it has a specific length","body":"<p>I need a regular expression that matches these cases:</p>\n<pre><code>EXAMPLE1\n1EXAMPLE\nEXAMPLE\n***** \n</code></pre>\n<p>Not Match</p>\n<pre><code>EXAMPLE 1\nEXAMPLE.\n**EXAMPLE**\nEXAMPLE**\n**EXAMPLE\n*****EXAMPLE\nEXA MPLE\n*******\nEXAMPLEÃ‘\n</code></pre>\n<p>I try with this regex <code>^(\\*{0,5}?)([a-zA-Z0-9])*$</code> <a href=\"https://regex101.com/r/NTSpjN/1\" rel=\"nofollow noreferrer\">(DEMO)</a>\nbut the regular expression matches cases like these which I don't need to match:</p>\n<pre><code>*****EXAMPLE\n**EXAMPLE\n****\n</code></pre>\n<p>They should only match when the asterisks have a length of 5 or words without special characters or asterisks</p>\n"},{"tags":["java","lucene"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1627488085,"post_id":68561368,"comment_id":121171618,"body_markdown":"What version of Lucene are you using?","body":"What version of Lucene are you using?"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1627488125,"post_id":68561368,"comment_id":121171634,"body_markdown":"Can you [edit] your question to provide a [mre] which still exhibits this problem, and which we can run for ourselves? For example, can you use one field with the Standard Analyzer (instead of whatever `VersionAnalyzer` and `Tech Analyzer` are doing)? Can you simplify `saveMatchedWords` so it does not need those `if`/`else` checks? Can you provide suitable inputs to help us to recreate the problem? Someone may recognize the problem and &quot;just know&quot; the answer - but otherwise a MRE would be helpful.","body":"Can you <a href=\"https://stackoverflow.com/posts/68561368/edit\">edit</a> your question to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> which still exhibits this problem, and which we can run for ourselves? For example, can you use one field with the Standard Analyzer (instead of whatever <code>VersionAnalyzer</code> and <code>Tech Analyzer</code> are doing)? Can you simplify <code>saveMatchedWords</code> so it does not need those <code>if</code>/<code>else</code> checks? Can you provide suitable inputs to help us to recreate the problem? Someone may recognize the problem and &quot;just know&quot; the answer - but otherwise a MRE would be helpful."},{"owner":{"account_id":1903793,"reputation":87,"user_id":9305821,"display_name":"TrevorN"},"score":0,"creation_date":1627497041,"post_id":68561368,"comment_id":121175038,"body_markdown":"I&#39;ll try to produce a simplified example using the standard analyzer tomorrow.","body":"I&#39;ll try to produce a simplified example using the standard analyzer tomorrow."},{"owner":{"account_id":1903793,"reputation":87,"user_id":9305821,"display_name":"TrevorN"},"score":0,"creation_date":1627586227,"post_id":68561368,"comment_id":121202829,"body_markdown":"Example now provided.","body":"Example now provided."}],"owner":{"account_id":1903793,"reputation":87,"user_id":9305821,"display_name":"TrevorN"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659029292,"creation_date":1627479037,"question_id":68561368,"body_markdown":"***Using Lucene 8.6.3, see the end of this post for how to run an example***\r\n\r\nI need to get a list of indexed words which match a fuzzy search expression, and my code is fine for small numbers of matches but throws an exception when the fuzzy term potentially matches too many words. It&#39;s possible that I am using the wrong technique, or that my implementation needs some defensive code somewhere.\r\n\r\nThe query is read as a text query:\r\n\r\n```text:sle~1```\r\n\r\nand it returns the correct number of matches from the index, through this code:\r\n\r\n```\r\nIndexReader reader = DirectoryReader.open(FSDirectory.open(Paths.get(index)));\r\nIndexSearcher searcher = new IndexSearcher(reader);\r\nMap&lt;String, Analyzer&gt; analyzerPerField = new HashMap&lt;String, Analyzer&gt;();\r\nanalyzerPerField.put(&quot;version&quot;, new VersionAnalyzer());\r\nPerFieldAnalyzerWrapper analyzerWrapper = new PerFieldAnalyzerWrapper(new TechAnalyzer(), analyzerPerField);\r\n\r\nQueryParser parser = new QueryParser(field, analyzerWrapper);\r\nparser.setDefaultOperator(QueryParserBase.AND_OPERATOR);\r\n\r\nQuery query = parser.parse(line);  // line read earlier from input stream\r\n\r\nint max = reader.numDocs();\r\nTopDocs results = searcher.search(query, max);\r\nScoreDoc[] hits = results.scoreDocs;\r\n\r\nint numTotalHits = Math.toIntExact(results.totalHits.value);\r\nHashSet&lt;String&gt; matchedWords = new HashSet&lt;String&gt;();\r\n\r\nint end = Math.min(numTotalHits, max);\r\nfor (int i = 0; i &lt; end; i++) {\r\n    saveMatchedWords(query, searcher, hits[i].doc, matchedWords, false);\r\n}\r\n```\r\n\r\nThe method which captures the matching fuzzy terms is here:\r\n\r\n```\r\nprivate static void saveMatchedWords(Query query, IndexSearcher searcher, int docId, HashSet&lt;String&gt; matchedWords, boolean fuzzy) throws IOException {\r\n    boolean inFuzzy = fuzzy;\r\n    if (query instanceof FuzzyQuery)\r\n        inFuzzy = true;\r\n    if (query instanceof TermQuery) {\r\n        if (inFuzzy &amp;&amp; searcher.explain(query, docId).isMatch())\r\n            matchedWords.add(((TermQuery) query).getTerm().toString().split(&quot;:&quot;)[1]);\r\n    }\r\n    else if (query instanceof BooleanQuery) {\r\n        for (BooleanClause clause : (BooleanQuery) query) {\r\n            saveMatchedWords(clause.getQuery(), searcher, docId, matchedWords, inFuzzy);\r\n        }\r\n    }\r\n    else if (query instanceof MultiTermQuery) {\r\n        ((MultiTermQuery) query).setRewriteMethod(MultiTermQuery.SCORING_BOOLEAN_REWRITE);\r\n        saveMatchedWords(query.rewrite(searcher.getIndexReader()), searcher, docId, matchedWords, inFuzzy);\r\n    }\r\n    else if (query instanceof BoostQuery) {\r\n        saveMatchedWords(((BoostQuery) query).getQuery(), searcher, docId, matchedWords, inFuzzy);\r\n    }\r\n}\r\n```\r\n\r\nWhen I run fuzzy searches like ```sle~1``` the query returns 165 matching documents, and the matchedWords set contains 13 words (in this case, &quot;sale, see, sole, ...&quot;).\r\n\r\nThe problem comes when the fuzzy term matches too many words. I am not sure what the cutoff is, but the largest set of matchedWords I have seen without an exception contained 78 words.\r\n\r\nIn this example, if we change the fuzzy term to ```sle~``` (i.e. a distance of 2) then the query executes and returns 422 matching documents, but the saveMatchedWords call throws an exception:\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: boost must be a positive float, got -1.0\r\n\tat org.apache.lucene.search.BoostQuery.&lt;init&gt;(BoostQuery.java:44)\r\n\tat org.apache.lucene.search.ScoringRewrite$1.addClause(ScoringRewrite.java:69)\r\n\tat org.apache.lucene.search.ScoringRewrite$1.addClause(ScoringRewrite.java:54)\r\n\tat org.apache.lucene.search.ScoringRewrite.rewrite(ScoringRewrite.java:117)\r\n\tat org.apache.lucene.search.MultiTermQuery.rewrite(MultiTermQuery.java:313)\r\n\tat myDemo.SearchIndex.saveMatchedWords(SearchIndex.java:262)\r\n\tat myDemo.SearchIndex.saveMatchedWords(SearchIndex.java:247)\r\n```\r\nI think the error it encounters is misleading, because if it was a problem in how I am extracting the terms then it wouldn&#39;t only happen when the number of terms climbs to 80 or more. More likely something somewhere is overflowing, but I&#39;m not sure what.\r\n\r\nThe example I&#39;ve given is a bit artificial because searching for such a short term with fuzzy distance 2 is practically useless, but it has revealed that my code is not nearly robust enough as it stands.\r\n\r\nCan anybody offer some pointers here that might help?\r\n\r\nCheers\r\nT\r\n\r\n***Edit:***\r\n\r\nI have set up a small Ant application which illustrates this behaviour.\r\nDownload the zipped archive and unzip it into a directory called &quot;mydemo&quot;.\r\n\r\n(That download is approx 5MB because it includes the three Lucene libraries I have used. If you prefer to use your own Lucene, then there is a smaller zip (230KB), but you will have to modify the build appropriately).\r\n\r\nI&#39;m assuming you have Ant, but if not, it should be straightforward to figure out what to do from looking at the targets in ```build.xml```.\r\n\r\n1. From the &quot;mydemo&quot; folder, type &quot;ant index&quot; which builds the index from the supplied data files (which are just long lists of words).\r\n\r\n2. Next type &quot;ant search&quot;. This queries the index with the search text &quot;sle~1&quot;, and it finds 8 matching files, listing their paths in data/query.out, with 18 fuzzy matched words which are listed in data/query.out.matches.\r\n\r\n3. Now edit the file data/query.in, remove the final 1, and save the file. The search text is now &quot;sle~&quot;, which will match far more words. In the mydemo folder, type &quot;ant search&quot; again.\r\n\r\n4. You should see that the query now matches 12 files, but the code which stores the matched words throws the exception.\r\n\r\n***Edit 2:***\r\n\r\nThis has been an interesting exercise... I have found that the exception is happening because the Queryparser has (correctly) parsed the input into a FuzzyQuery, and that the query.rewrite() called in my ```saveMatchedWords``` method has attempted to rewrite this as an N-term Boolean query where N is not the number of matches in the document, but the number of matches in the entire index. For a distance=2 fuzzy match this is potentially a very large number indeed.\r\n\r\nI tested ```BooleanQuery.setMaxClauseCount(num)``` with various values to see if increasing the limit fixed the problem, but even with values greater than the total number of indexed terms I still got the exception. So something is overflowing, but probably not the maximum number of Boolean clauses.\r\n\r\nHowever, because this code is iterating over the total number of potential matched terms once for every single matched document, it really isn&#39;t a suitable technique for acquiring the fuzzy matching terms, even though it seems to work when the numbers it is dealing with are relatively small. If it doesn&#39;t scale, it isn&#39;t going to meet the need.\r\n\r\nBack to the drawing board.\r\n\r\n***Edit 3:***\r\n\r\nI have now removed the download links (as the files are no longer available at the url I provided).","title":"My method to extract fuzzy matched terms is crashing when the number of possible matches is large , how can I prevent this?","body":"<p><em><strong>Using Lucene 8.6.3, see the end of this post for how to run an example</strong></em></p>\n<p>I need to get a list of indexed words which match a fuzzy search expression, and my code is fine for small numbers of matches but throws an exception when the fuzzy term potentially matches too many words. It's possible that I am using the wrong technique, or that my implementation needs some defensive code somewhere.</p>\n<p>The query is read as a text query:</p>\n<p><code>text:sle~1</code></p>\n<p>and it returns the correct number of matches from the index, through this code:</p>\n<pre><code>IndexReader reader = DirectoryReader.open(FSDirectory.open(Paths.get(index)));\nIndexSearcher searcher = new IndexSearcher(reader);\nMap&lt;String, Analyzer&gt; analyzerPerField = new HashMap&lt;String, Analyzer&gt;();\nanalyzerPerField.put(&quot;version&quot;, new VersionAnalyzer());\nPerFieldAnalyzerWrapper analyzerWrapper = new PerFieldAnalyzerWrapper(new TechAnalyzer(), analyzerPerField);\n\nQueryParser parser = new QueryParser(field, analyzerWrapper);\nparser.setDefaultOperator(QueryParserBase.AND_OPERATOR);\n\nQuery query = parser.parse(line);  // line read earlier from input stream\n\nint max = reader.numDocs();\nTopDocs results = searcher.search(query, max);\nScoreDoc[] hits = results.scoreDocs;\n\nint numTotalHits = Math.toIntExact(results.totalHits.value);\nHashSet&lt;String&gt; matchedWords = new HashSet&lt;String&gt;();\n\nint end = Math.min(numTotalHits, max);\nfor (int i = 0; i &lt; end; i++) {\n    saveMatchedWords(query, searcher, hits[i].doc, matchedWords, false);\n}\n</code></pre>\n<p>The method which captures the matching fuzzy terms is here:</p>\n<pre><code>private static void saveMatchedWords(Query query, IndexSearcher searcher, int docId, HashSet&lt;String&gt; matchedWords, boolean fuzzy) throws IOException {\n    boolean inFuzzy = fuzzy;\n    if (query instanceof FuzzyQuery)\n        inFuzzy = true;\n    if (query instanceof TermQuery) {\n        if (inFuzzy &amp;&amp; searcher.explain(query, docId).isMatch())\n            matchedWords.add(((TermQuery) query).getTerm().toString().split(&quot;:&quot;)[1]);\n    }\n    else if (query instanceof BooleanQuery) {\n        for (BooleanClause clause : (BooleanQuery) query) {\n            saveMatchedWords(clause.getQuery(), searcher, docId, matchedWords, inFuzzy);\n        }\n    }\n    else if (query instanceof MultiTermQuery) {\n        ((MultiTermQuery) query).setRewriteMethod(MultiTermQuery.SCORING_BOOLEAN_REWRITE);\n        saveMatchedWords(query.rewrite(searcher.getIndexReader()), searcher, docId, matchedWords, inFuzzy);\n    }\n    else if (query instanceof BoostQuery) {\n        saveMatchedWords(((BoostQuery) query).getQuery(), searcher, docId, matchedWords, inFuzzy);\n    }\n}\n</code></pre>\n<p>When I run fuzzy searches like <code>sle~1</code> the query returns 165 matching documents, and the matchedWords set contains 13 words (in this case, &quot;sale, see, sole, ...&quot;).</p>\n<p>The problem comes when the fuzzy term matches too many words. I am not sure what the cutoff is, but the largest set of matchedWords I have seen without an exception contained 78 words.</p>\n<p>In this example, if we change the fuzzy term to <code>sle~</code> (i.e. a distance of 2) then the query executes and returns 422 matching documents, but the saveMatchedWords call throws an exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: boost must be a positive float, got -1.0\n    at org.apache.lucene.search.BoostQuery.&lt;init&gt;(BoostQuery.java:44)\n    at org.apache.lucene.search.ScoringRewrite$1.addClause(ScoringRewrite.java:69)\n    at org.apache.lucene.search.ScoringRewrite$1.addClause(ScoringRewrite.java:54)\n    at org.apache.lucene.search.ScoringRewrite.rewrite(ScoringRewrite.java:117)\n    at org.apache.lucene.search.MultiTermQuery.rewrite(MultiTermQuery.java:313)\n    at myDemo.SearchIndex.saveMatchedWords(SearchIndex.java:262)\n    at myDemo.SearchIndex.saveMatchedWords(SearchIndex.java:247)\n</code></pre>\n<p>I think the error it encounters is misleading, because if it was a problem in how I am extracting the terms then it wouldn't only happen when the number of terms climbs to 80 or more. More likely something somewhere is overflowing, but I'm not sure what.</p>\n<p>The example I've given is a bit artificial because searching for such a short term with fuzzy distance 2 is practically useless, but it has revealed that my code is not nearly robust enough as it stands.</p>\n<p>Can anybody offer some pointers here that might help?</p>\n<p>Cheers\nT</p>\n<p><em><strong>Edit:</strong></em></p>\n<p>I have set up a small Ant application which illustrates this behaviour.\nDownload the zipped archive and unzip it into a directory called &quot;mydemo&quot;.</p>\n<p>(That download is approx 5MB because it includes the three Lucene libraries I have used. If you prefer to use your own Lucene, then there is a smaller zip (230KB), but you will have to modify the build appropriately).</p>\n<p>I'm assuming you have Ant, but if not, it should be straightforward to figure out what to do from looking at the targets in <code>build.xml</code>.</p>\n<ol>\n<li><p>From the &quot;mydemo&quot; folder, type &quot;ant index&quot; which builds the index from the supplied data files (which are just long lists of words).</p>\n</li>\n<li><p>Next type &quot;ant search&quot;. This queries the index with the search text &quot;sle~1&quot;, and it finds 8 matching files, listing their paths in data/query.out, with 18 fuzzy matched words which are listed in data/query.out.matches.</p>\n</li>\n<li><p>Now edit the file data/query.in, remove the final 1, and save the file. The search text is now &quot;sle~&quot;, which will match far more words. In the mydemo folder, type &quot;ant search&quot; again.</p>\n</li>\n<li><p>You should see that the query now matches 12 files, but the code which stores the matched words throws the exception.</p>\n</li>\n</ol>\n<p><em><strong>Edit 2:</strong></em></p>\n<p>This has been an interesting exercise... I have found that the exception is happening because the Queryparser has (correctly) parsed the input into a FuzzyQuery, and that the query.rewrite() called in my <code>saveMatchedWords</code> method has attempted to rewrite this as an N-term Boolean query where N is not the number of matches in the document, but the number of matches in the entire index. For a distance=2 fuzzy match this is potentially a very large number indeed.</p>\n<p>I tested <code>BooleanQuery.setMaxClauseCount(num)</code> with various values to see if increasing the limit fixed the problem, but even with values greater than the total number of indexed terms I still got the exception. So something is overflowing, but probably not the maximum number of Boolean clauses.</p>\n<p>However, because this code is iterating over the total number of potential matched terms once for every single matched document, it really isn't a suitable technique for acquiring the fuzzy matching terms, even though it seems to work when the numbers it is dealing with are relatively small. If it doesn't scale, it isn't going to meet the need.</p>\n<p>Back to the drawing board.</p>\n<p><em><strong>Edit 3:</strong></em></p>\n<p>I have now removed the download links (as the files are no longer available at the url I provided).</p>\n"},{"tags":["java","php","jwt","jwk","jose"],"comments":[{"owner":{"account_id":335034,"reputation":46179,"user_id":661872,"accept_rate":100,"display_name":"Lawrence Cherone"},"score":0,"creation_date":1659014527,"post_id":73153251,"comment_id":129198725,"body_markdown":"Try it and see, whats the worst that can happen","body":"Try it and see, whats the worst that can happen"},{"owner":{"account_id":2477504,"reputation":15766,"user_id":2157818,"accept_rate":86,"display_name":"Spomky-Labs"},"score":0,"creation_date":1659086085,"post_id":73153251,"comment_id":129216554,"body_markdown":"spomky-labs/jose is deprecated since 2018. would you mind to use a maintained library?","body":"spomky-labs/jose is deprecated since 2018. would you mind to use a maintained library?"}],"answers":[{"tags":[],"owner":{"display_name":"user9775882"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659029246,"creation_date":1659029246,"answer_id":73156936,"question_id":73153251,"body_markdown":"Not sure if it makes a difference but there ought to be no whitespace, such as new line characters, in the x5c members&#39; representation. JWK-P is incorrect in its implementation.","title":"Difference between JWK generated with different libraries","body":"<p>Not sure if it makes a difference but there ought to be no whitespace, such as new line characters, in the x5c members' representation. JWK-P is incorrect in its implementation.</p>\n"}],"owner":{"account_id":25454974,"reputation":41,"user_id":19313923,"display_name":"Prakhar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659029246,"creation_date":1659012637,"question_id":73153251,"body_markdown":"I am working on migration from php to Java, while doing so , I encountered a JWK that is being generated with spomky-jose/JWKFactory (let&#39;s call that JWK-P) while for generating JWK in Java , I am using nimbus-jose-jwt library (let&#39;s call that JWK-J). Both of these JWKs are identical except that x5c parameter of JWK-P has some new line characters (&quot;\\n&quot;) , does this make a difference ? If yes, how should I deal with same? \r\n\r\n**excerpt from JWK-P :**\r\nMIID4DCCAsigAwIBAgIJAOYsgV+iL1VXMA0GCSqGSIb3DQEBCwUAMIGEMQswCQYD **\\n**VQQGEwJJTjELMAkGA1UECAwCVVAxDjAMBgNVBAcMBU5vaWRhMQ8wDQYDVQQKDAZu **\\n**YXV\r\n\r\n**excerpt from JWK-J :** \r\nMIID4DCCAsigAwIBAgIJAOYsgV+iL1VXMA0GCSqGSIb3DQEBCwUAMIGEMQswCQYDVQQGEwJJTjELMAkGA1UECAwCVVAxDjAMBgNVBAcMBU5vaWRhMQ8wDQYDVQQKDAZuYXV\r\n\r\nPS : both JWKs are generated using same PEM certificate.","title":"Difference between JWK generated with different libraries","body":"<p>I am working on migration from php to Java, while doing so , I encountered a JWK that is being generated with spomky-jose/JWKFactory (let's call that JWK-P) while for generating JWK in Java , I am using nimbus-jose-jwt library (let's call that JWK-J). Both of these JWKs are identical except that x5c parameter of JWK-P has some new line characters (&quot;\\n&quot;) , does this make a difference ? If yes, how should I deal with same?</p>\n<p><strong>excerpt from JWK-P :</strong>\nMIID4DCCAsigAwIBAgIJAOYsgV+iL1VXMA0GCSqGSIb3DQEBCwUAMIGEMQswCQYD <strong>\\n</strong>VQQGEwJJTjELMAkGA1UECAwCVVAxDjAMBgNVBAcMBU5vaWRhMQ8wDQYDVQQKDAZu <strong>\\n</strong>YXV</p>\n<p><strong>excerpt from JWK-J :</strong>\nMIID4DCCAsigAwIBAgIJAOYsgV+iL1VXMA0GCSqGSIb3DQEBCwUAMIGEMQswCQYDVQQGEwJJTjELMAkGA1UECAwCVVAxDjAMBgNVBAcMBU5vaWRhMQ8wDQYDVQQKDAZuYXV</p>\n<p>PS : both JWKs are generated using same PEM certificate.</p>\n"},{"tags":["java","selenium","google-chrome","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1659025696,"post_id":73155368,"comment_id":129203025,"body_markdown":"This error is not related to cucumber. Hence I made a bit of update","body":"This error is not related to cucumber. Hence I made a bit of update"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659028602,"creation_date":1659028602,"answer_id":73156807,"question_id":73155368,"body_markdown":"This error message...\r\n\r\n    Exception occurred at =: unknown error: call function result missing &#39;value&#39;\r\n      (Session info: chrome=103.0.5060.134)\r\n      (Driver info: chromedriver=2.29.461591 (62ebf098771772160f391d75e589dc567915b233),platform=Windows NT 10.0.19042 x86_64) (WARNING: The server did not provide any stacktrace information)\r\n\r\n...implies that the [ChromeDriver](https://stackoverflow.com/a/59927747/7429447) was unable to initiate/spawn a new _Browsing Context_ i.e. [tag:google-chrome] session.\r\n\r\nYour main issue is the **incompatibility** between the version of the binaries you are using as follows:\r\n\r\n- You are using _chrome=103.0_\r\n- But you are using _chromedriver=2.29_ \r\n\r\nwhich is **old** and **ancient**.\r\n\r\nSo there is a clear mismatch between _chrome=103.0_ and the _chromedriver=2.29_\r\n\r\n\r\n----------\r\n\r\n\r\n\r\nSolution\r\n--------\r\nEnsure that:\r\n\r\n- _Selenium_ is upgraded to  current released [_**Version 4.3.0**_](https://www.selenium.dev/downloads/).\r\n- _ChromeDriver_ is updated to  current [ChromeDriver v103.0](https://chromedriver.storage.googleapis.com/index.html?path=103.0.5060.53/) level.\r\n- _Chrome Browser_ is updated to  current _chrome=103.0_ (as per [chromedriver=103.0.5060.53 release notes](https://chromedriver.storage.googleapis.com/103.0.5060.53/notes.txt)).\r\n","title":"Exception occurred at =: unknown error: call function result missing &#39;value&#39; using Selenium Python and ChromeDriver","body":"<p>This error message...</p>\n<pre><code>Exception occurred at =: unknown error: call function result missing 'value'\n  (Session info: chrome=103.0.5060.134)\n  (Driver info: chromedriver=2.29.461591 (62ebf098771772160f391d75e589dc567915b233),platform=Windows NT 10.0.19042 x86_64) (WARNING: The server did not provide any stacktrace information)\n</code></pre>\n<p>...implies that the <a href=\"https://stackoverflow.com/a/59927747/7429447\">ChromeDriver</a> was unable to initiate/spawn a new <em>Browsing Context</em> i.e. <a href=\"/questions/tagged/google-chrome\" class=\"post-tag\" title=\"show questions tagged &#39;google-chrome&#39;\" rel=\"tag\">google-chrome</a> session.</p>\n<p>Your main issue is the <strong>incompatibility</strong> between the version of the binaries you are using as follows:</p>\n<ul>\n<li>You are using <em>chrome=103.0</em></li>\n<li>But you are using <em>chromedriver=2.29</em></li>\n</ul>\n<p>which is <strong>old</strong> and <strong>ancient</strong>.</p>\n<p>So there is a clear mismatch between <em>chrome=103.0</em> and the <em>chromedriver=2.29</em></p>\n<hr />\n<h2>Solution</h2>\n<p>Ensure that:</p>\n<ul>\n<li><em>Selenium</em> is upgraded to  current released <a href=\"https://www.selenium.dev/downloads/\" rel=\"nofollow noreferrer\"><em><strong>Version 4.3.0</strong></em></a>.</li>\n<li><em>ChromeDriver</em> is updated to  current <a href=\"https://chromedriver.storage.googleapis.com/index.html?path=103.0.5060.53/\" rel=\"nofollow noreferrer\">ChromeDriver v103.0</a> level.</li>\n<li><em>Chrome Browser</em> is updated to  current <em>chrome=103.0</em> (as per <a href=\"https://chromedriver.storage.googleapis.com/103.0.5060.53/notes.txt\" rel=\"nofollow noreferrer\">chromedriver=103.0.5060.53 release notes</a>).</li>\n</ul>\n"}],"owner":{"account_id":22683307,"reputation":1,"user_id":16853373,"display_name":"Matt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1659028664,"creation_date":1659022072,"question_id":73155368,"body_markdown":"I am a new software developer, and have been asked to edit some scripting test written with Cucumber, but the code is throwing an exception that my team does not recognize. \r\n```\r\nException occurred at =: unknown error: call function result missing &#39;value&#39;\r\n  (Session info: chrome=103.0.5060.134)\r\n  (Driver info: chromedriver=2.29.461591 (62ebf098771772160f391d75e589dc567915b233),platform=Windows NT 10.0.19042 x86_64) (WARNING: The server did not provide any stacktrace information)\r\n```\r\nI am not sure what I am allowed to share but this s the exception that is being thrown. I heard that it could have something to do with the Chrome Driver, but I am not sure how possible it is to update them (I would need to submit a ticket and get the update approved). Has anyone experienced this issue before, and have you had luck finding a solution? \r\n\r\nA quick side note. The issue is only happening with my system. The other person working on this with me is not experiencing any issues.","title":"Exception occurred at =: unknown error: call function result missing &#39;value&#39; using Selenium Python and ChromeDriver","body":"<p>I am a new software developer, and have been asked to edit some scripting test written with Cucumber, but the code is throwing an exception that my team does not recognize.</p>\n<pre><code>Exception occurred at =: unknown error: call function result missing 'value'\n  (Session info: chrome=103.0.5060.134)\n  (Driver info: chromedriver=2.29.461591 (62ebf098771772160f391d75e589dc567915b233),platform=Windows NT 10.0.19042 x86_64) (WARNING: The server did not provide any stacktrace information)\n</code></pre>\n<p>I am not sure what I am allowed to share but this s the exception that is being thrown. I heard that it could have something to do with the Chrome Driver, but I am not sure how possible it is to update them (I would need to submit a ticket and get the update approved). Has anyone experienced this issue before, and have you had luck finding a solution?</p>\n<p>A quick side note. The issue is only happening with my system. The other person working on this with me is not experiencing any issues.</p>\n"},{"tags":["java","spring","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":6323989,"reputation":4294,"user_id":4910973,"display_name":"Hansjoerg Wingeier"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1463575886,"creation_date":1463476030,"answer_id":37271735,"question_id":37238813,"body_markdown":"Don&#39;t instantiate your Steps, Readers, Processers and Writers as Spring-Beans. There is no need to do it. Only your job instance has to be a Spring Bean.\r\n\r\nSo just remove the @Bean and @StepScope configuration from your step, reader, writer and processor creater methods and instantiate them where needed. \r\n\r\nThere is only one catch, you have to call afterPropertiesSet() manually. E.g.:\r\n\r\n    // @Bean -&gt; delete\r\n    // @StepScope -&gt; delete\r\n    public FlatFileItemWriter writer(@Value(&quot;#{jobExecutionContext[fileName]}&quot;) String fileName){\r\n        FlatFileItemWriter writer = new FlatFileItemWriter();\r\n        writer.setResource(new FileSystemResource(new File(TARGET_LOCATION + fileName + TARGET_FILE_EXTENSION)));       \r\n        writer.setLineAggregator(new DelimitedLineAggregator(){{\r\n            setDelimiter(TARGET_DELIMITER);\r\n            setFieldExtractor(new PassThroughFieldExtractor());\r\n            }}\r\n        );\r\n\r\n        // ------- ADD!!\r\n        writer.afterPropertiesSet();\r\n\r\n        return writer;\r\n    }\r\n\r\nThis way, your step, reader, writer instances will be &quot;step scoped&quot; automatically, since you instantiate them for every step explicitely.\r\n\r\nLet me know, if my answer is not clear enough. I will then add a more detailed example.\r\n\r\nEDIT\r\n----\r\nA simple example:\r\n\r\n    @Configuration\r\n    public class MyJobConfiguration {\r\n    \r\n        @Autowired\r\n        private JobBuilderFactory jobBuilderFactory;\r\n    \r\n        @Autowired\r\n        private StepBuilderFactory stepBuilderFactory;\r\n    \t\r\n    \r\n    \tList&lt;String&gt; filenames = Arrays.asList(&quot;file1.txt&quot;, &quot;file2.txt&quot;);\r\n    \r\n    \t@Bean\r\n    \tpublic Job myJob() {\r\n    \t\r\n    \t   List&lt;Step&gt; steps = filenames.stream().map(name -&gt; createStep(filename));\r\n    \t\r\n    \t   return jobBuilderFactory.get(&quot;subsetJob&quot;)               \r\n                .start(createParallelFlow(steps));                \r\n                .end()\r\n                .build();\r\n    \t}\r\n    \r\n    \r\n        // helper method to create a step\r\n    \tprivate Step createStep(String filename) {\r\n    \t{\r\n            return stepBuilderFactory.get(&quot;convertStepFor&quot; + filename); // !!! Stepname has to be unique\r\n                .chunk(100_000)\r\n                .reader(createFileReader(new FileSystemResource(new File(filename)), new YourInputLineMapper()));\r\n                .processor(new YourConversionProcessor());\r\n                .writer(createFileWriter(new FileSystemResource(new File(&quot;converted_&quot;+filename)), new YourOutputLineAggregator()));\r\n                .build();\r\n    \t}\r\n    \t\r\n    \r\n        // helper method to create a split flow out of a List of steps\r\n        private static Flow createParallelFlow(List&lt;Step&gt; steps) {\r\n            SimpleAsyncTaskExecutor taskExecutor = new SimpleAsyncTaskExecutor();\r\n            taskExecutor.setConcurrencyLimit(steps.size());\r\n\r\n            List&lt;Flow&gt; flows = steps.stream() // we have to convert the steps to a flows\r\n                .map(step -&gt; //\r\n                        new FlowBuilder&lt;Flow&gt;(&quot;flow_&quot; + step.getName()) //\r\n                        .start(step) //\r\n                        .build()) //\r\n                .collect(Collectors.toList());\r\n\r\n            return new FlowBuilder&lt;SimpleFlow&gt;(&quot;parallelStepsFlow&quot;).split(taskExecutor) //\r\n                .add(flows.toArray(new Flow[flows.size()])) //\r\n                .build();\r\n        }\r\n    \t\r\n    \r\n        // helper methods to create filereader and filewriters\r\n        public static &lt;T&gt; ItemReader&lt;T&gt; createFileReader(Resource source, LineMapper&lt;T&gt; lineMapper) throws Exception {\r\n            FlatFileItemReader&lt;T&gt; reader = new FlatFileItemReader&lt;&gt;();\r\n    \r\n            reader.setEncoding(&quot;UTF-8&quot;);\r\n            reader.setResource(source);\r\n            reader.setLineMapper(lineMapper);\r\n            reader.afterPropertiesSet();\r\n    \r\n            return reader;\r\n        }\r\n    \r\n        public static &lt;T&gt; ItemWriter&lt;T&gt; createFileWriter(Resource target, LineAggregator&lt;T&gt; aggregator) throws Exception {\r\n            FlatFileItemWriter&lt;T&gt; writer = new FlatFileItemWriter&lt;&gt;();\r\n    \r\n            writer.setEncoding(&quot;UTF-8&quot;);\r\n            writer.setResource(target);\r\n            writer.setLineAggregator(aggregator);\r\n    \r\n            writer.afterPropertiesSet();\r\n            return writer;\r\n        }\r\n    }","title":"Spring Batch - Looping a reader/processor/writer step","body":"<p>Don't instantiate your Steps, Readers, Processers and Writers as Spring-Beans. There is no need to do it. Only your job instance has to be a Spring Bean.</p>\n\n<p>So just remove the @Bean and @StepScope configuration from your step, reader, writer and processor creater methods and instantiate them where needed. </p>\n\n<p>There is only one catch, you have to call afterPropertiesSet() manually. E.g.:</p>\n\n<pre><code>// @Bean -&gt; delete\n// @StepScope -&gt; delete\npublic FlatFileItemWriter writer(@Value(\"#{jobExecutionContext[fileName]}\") String fileName){\n    FlatFileItemWriter writer = new FlatFileItemWriter();\n    writer.setResource(new FileSystemResource(new File(TARGET_LOCATION + fileName + TARGET_FILE_EXTENSION)));       \n    writer.setLineAggregator(new DelimitedLineAggregator(){{\n        setDelimiter(TARGET_DELIMITER);\n        setFieldExtractor(new PassThroughFieldExtractor());\n        }}\n    );\n\n    // ------- ADD!!\n    writer.afterPropertiesSet();\n\n    return writer;\n}\n</code></pre>\n\n<p>This way, your step, reader, writer instances will be \"step scoped\" automatically, since you instantiate them for every step explicitely.</p>\n\n<p>Let me know, if my answer is not clear enough. I will then add a more detailed example.</p>\n\n<h2>EDIT</h2>\n\n<p>A simple example:</p>\n\n<pre><code>@Configuration\npublic class MyJobConfiguration {\n\n    @Autowired\n    private JobBuilderFactory jobBuilderFactory;\n\n    @Autowired\n    private StepBuilderFactory stepBuilderFactory;\n\n\n    List&lt;String&gt; filenames = Arrays.asList(\"file1.txt\", \"file2.txt\");\n\n    @Bean\n    public Job myJob() {\n\n       List&lt;Step&gt; steps = filenames.stream().map(name -&gt; createStep(filename));\n\n       return jobBuilderFactory.get(\"subsetJob\")               \n            .start(createParallelFlow(steps));                \n            .end()\n            .build();\n    }\n\n\n    // helper method to create a step\n    private Step createStep(String filename) {\n    {\n        return stepBuilderFactory.get(\"convertStepFor\" + filename); // !!! Stepname has to be unique\n            .chunk(100_000)\n            .reader(createFileReader(new FileSystemResource(new File(filename)), new YourInputLineMapper()));\n            .processor(new YourConversionProcessor());\n            .writer(createFileWriter(new FileSystemResource(new File(\"converted_\"+filename)), new YourOutputLineAggregator()));\n            .build();\n    }\n\n\n    // helper method to create a split flow out of a List of steps\n    private static Flow createParallelFlow(List&lt;Step&gt; steps) {\n        SimpleAsyncTaskExecutor taskExecutor = new SimpleAsyncTaskExecutor();\n        taskExecutor.setConcurrencyLimit(steps.size());\n\n        List&lt;Flow&gt; flows = steps.stream() // we have to convert the steps to a flows\n            .map(step -&gt; //\n                    new FlowBuilder&lt;Flow&gt;(\"flow_\" + step.getName()) //\n                    .start(step) //\n                    .build()) //\n            .collect(Collectors.toList());\n\n        return new FlowBuilder&lt;SimpleFlow&gt;(\"parallelStepsFlow\").split(taskExecutor) //\n            .add(flows.toArray(new Flow[flows.size()])) //\n            .build();\n    }\n\n\n    // helper methods to create filereader and filewriters\n    public static &lt;T&gt; ItemReader&lt;T&gt; createFileReader(Resource source, LineMapper&lt;T&gt; lineMapper) throws Exception {\n        FlatFileItemReader&lt;T&gt; reader = new FlatFileItemReader&lt;&gt;();\n\n        reader.setEncoding(\"UTF-8\");\n        reader.setResource(source);\n        reader.setLineMapper(lineMapper);\n        reader.afterPropertiesSet();\n\n        return reader;\n    }\n\n    public static &lt;T&gt; ItemWriter&lt;T&gt; createFileWriter(Resource target, LineAggregator&lt;T&gt; aggregator) throws Exception {\n        FlatFileItemWriter&lt;T&gt; writer = new FlatFileItemWriter&lt;&gt;();\n\n        writer.setEncoding(\"UTF-8\");\n        writer.setResource(target);\n        writer.setLineAggregator(aggregator);\n\n        writer.afterPropertiesSet();\n        return writer;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7938637,"reputation":1109,"user_id":5993601,"accept_rate":85,"display_name":"Sander_M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14166,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":37271735,"answer_count":1,"score":5,"last_activity_date":1659028476,"creation_date":1463318453,"question_id":37238813,"body_markdown":"ANSWER\r\n------\r\nBased on the accepted answer code the following adjustment to that code worked for me:\r\n\r\n    // helper method to create a split flow out of a List of steps\r\n    private static Flow createParallelFlow(List&lt;Step&gt; steps) {\r\n    \tSimpleAsyncTaskExecutor taskExecutor = new SimpleAsyncTaskExecutor();\r\n    \ttaskExecutor.setConcurrencyLimit(steps.size());    \t\t\r\n    \t\t\r\n    \tFlow[] flows = new Flow[steps.size()];\r\n    \tfor (int i = 0; i &lt; steps.size(); i++) {\r\n    \t\tflows[i] = new FlowBuilder&lt;SimpleFlow&gt;(steps.get(i).getName()).start(steps.get(i)).build();\r\n    \t}    \t\t\r\n    \r\n   \t    return new FlowBuilder&lt;SimpleFlow&gt;(&quot;parallelStepsFlow&quot;)\r\n   \t\t\t.split(taskExecutor)\t\t\t\t\r\n   \t\t\t.add(flows)\r\n   \t\t\t.build();\r\n   \t}\r\n\r\nEDIT\r\n----\r\nI have updated the question to a version that correctly loops, but as the application will scale, being able to process parallel is important, and I still don&#39;t know how to do that with a java-config dynamically at runtime... \r\n\r\nRefined question: **How do I create a reader-processor-writer dynamically at runtime** for say 5 different situations (5 queries means a loop of 5 as it is configured now)?\r\n\r\nMy LoopDecider looks like this:\r\n\r\n    public class LoopDecider implements JobExecutionDecider {\r\n    \t\r\n    \tprivate static final Logger LOG = LoggerFactory.getLogger(LoopDecider.class);\r\n    \tprivate static final String COMPLETED = &quot;COMPLETED&quot;;\r\n    \tprivate static final String CONTINUE = &quot;CONTINUE&quot;;\r\n    \tprivate static final String ALL = &quot;queries&quot;;\r\n    \tprivate static final String COUNT = &quot;count&quot;;\r\n    \t\r\n    \tprivate int currentQuery;\r\n    \tprivate int limit;\r\n    \r\n    \t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \t@Override\r\n    \tpublic FlowExecutionStatus decide(JobExecution jobExecution, StepExecution stepExecution) {\r\n    \t\tList&lt;String&gt; allQueries = (List&lt;String&gt;) jobExecution.getExecutionContext().get(ALL);\r\n    \t\tthis.limit = allQueries.size();\r\n    \t\tjobExecution.getExecutionContext().put(COUNT, currentQuery);\r\n    \t\tif (++currentQuery &gt;= limit) {\r\n    \t\t\treturn new FlowExecutionStatus(COMPLETED);\r\n    \t\t} else {\r\n    \t\t\tLOG.info(&quot;Looping for query: &quot; + allQueries.get(currentQuery - 1));\r\n    \t\t\treturn new FlowExecutionStatus(CONTINUE);\r\n    \t\t}\t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nBased on a list of queries (HQL queries) I want a reader - processor - writer for each query. My current configuration looks like this:\r\n\r\n**Job**\r\n\r\n    @Bean\r\n    public Job subsetJob() throws Exception {\r\n    \tLoopDecider loopDecider = new LoopDecider();    \t\r\n    \tFlowBuilder&lt;Flow&gt; flowBuilder = new FlowBuilder&lt;&gt;(FLOW_NAME);\r\n    \tFlow flow = flowBuilder\r\n    \t\t\t.start(createHQL())\r\n    \t\t\t.next(extractData())\r\n    \t\t\t.next(loopDecider)\r\n    \t\t\t.on(&quot;CONTINUE&quot;)\r\n    \t\t\t.to(extractData())\r\n    \t\t\t.from(loopDecider)\r\n    \t\t\t.on(&quot;COMPLETED&quot;)    \t\t\t\r\n    \t\t\t.end()\r\n    \t\t\t.build();    \t\r\n    \t\r\n    \treturn jobBuilderFactory.get(&quot;subsetJob&quot;)    \t\t\t\r\n    \t\t\t.start(flow)    \t\t\t\r\n    \t\t\t.end()\r\n    \t\t\t.build();\r\n    }\r\n\r\n**Step**\r\n    \r\n    public Step extractData(){\r\n       \treturn stepBuilderFactory.get(&quot;extractData&quot;)\r\n       \t\t\t.chunk(100_000)\r\n       \t\t\t.reader(reader())\r\n       \t\t\t.processor(processor())\r\n       \t\t\t.writer(writer())\r\n       \t\t\t.build();\r\n    }\r\n\r\n**Reader**\r\n    \r\n    public HibernateCursorItemReader reader(){    \t\r\n\t\tCustomHibernateCursorItemReader reader = new CustomHibernateCursorItemReader();\r\n    \treader.setSessionFactory(HibernateUtil.getSessionFactory());    \t\r\n    \treader.setUseStatelessSession(false);\r\n    \treturn reader;\r\n    }\r\n\r\n**Processor**\r\n    \r\n    public DynamicRecordProcessor processor(){\r\n       \treturn new DynamicRecordProcessor();\r\n    }\r\n\r\n**Writer**\r\n\r\n    public FlatFileItemWriter writer(){\r\n    \tCustomFlatFileItemWriter writer = new CustomFlatFileItemWriter();    \t    \t\r\n    \twriter.setLineAggregator(new DelimitedLineAggregator(){{\r\n    \t\tsetDelimiter(TARGET_DELIMITER);\r\n    \t\tsetFieldExtractor(new PassThroughFieldExtractor());\r\n    \t\t}}\r\n    \t);\r\n    \treturn writer;\r\n    }\r\n\r\nCurrently, the process works fine for a single query. However, I actually have a list of queries.\r\n\r\nMy initial idea is to loop the step and pass the step the list of queries and for each query read - process - write. This would also be ideal for parallel chunking.\r\n\r\nHowever, when I add the list of queries as a parameter to the extract data step and for each query, I create a step, a list of steps is returned, instead of the expected single step. The job starts complaining it expects a single step instead of a list of steps.\r\n\r\nAnother idea was to create a custom MultiHibernateCursorItemReader with the same idea as the MultiItemResourceReader, however, I am really looking for a more out-of-the-box solution.\r\n\r\n    @Bean\r\n    public List&lt;Step&gt; extractData(@Value(&quot;#{jobExecutionContext[HQL]}&quot;) List&lt;String&gt; queries){\r\n    \tList&lt;Step&gt; steps = new ArrayList&lt;Step&gt;();\r\n    \tfor (String query : queries) {\r\n\t\t\tsteps.add(stepBuilderFactory.get(&quot;extractData&quot;)\r\n    \t\t\t.chunk(100_000)\r\n    \t\t\t.reader(reader(query))\r\n    \t\t\t.processor(processor())\r\n    \t\t\t.writer(writer(query))\r\n    \t\t\t.build());\r\n\t\t}\r\n    \treturn steps;\r\n    }\r\n\r\n**Question**    \r\nHow do I loop the step and integrate that into the job?","title":"Spring Batch - Looping a reader/processor/writer step","body":"<h2>ANSWER</h2>\n<p>Based on the accepted answer code the following adjustment to that code worked for me:</p>\n<pre><code>// helper method to create a split flow out of a List of steps\nprivate static Flow createParallelFlow(List&lt;Step&gt; steps) {\n    SimpleAsyncTaskExecutor taskExecutor = new SimpleAsyncTaskExecutor();\n    taskExecutor.setConcurrencyLimit(steps.size());         \n        \n    Flow[] flows = new Flow[steps.size()];\n    for (int i = 0; i &lt; steps.size(); i++) {\n        flows[i] = new FlowBuilder&lt;SimpleFlow&gt;(steps.get(i).getName()).start(steps.get(i)).build();\n    }           \n\n    return new FlowBuilder&lt;SimpleFlow&gt;(&quot;parallelStepsFlow&quot;)\n        .split(taskExecutor)                \n        .add(flows)\n        .build();\n}\n</code></pre>\n<h2>EDIT</h2>\n<p>I have updated the question to a version that correctly loops, but as the application will scale, being able to process parallel is important, and I still don't know how to do that with a java-config dynamically at runtime...</p>\n<p>Refined question: <strong>How do I create a reader-processor-writer dynamically at runtime</strong> for say 5 different situations (5 queries means a loop of 5 as it is configured now)?</p>\n<p>My LoopDecider looks like this:</p>\n<pre><code>public class LoopDecider implements JobExecutionDecider {\n    \n    private static final Logger LOG = LoggerFactory.getLogger(LoopDecider.class);\n    private static final String COMPLETED = &quot;COMPLETED&quot;;\n    private static final String CONTINUE = &quot;CONTINUE&quot;;\n    private static final String ALL = &quot;queries&quot;;\n    private static final String COUNT = &quot;count&quot;;\n    \n    private int currentQuery;\n    private int limit;\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    @Override\n    public FlowExecutionStatus decide(JobExecution jobExecution, StepExecution stepExecution) {\n        List&lt;String&gt; allQueries = (List&lt;String&gt;) jobExecution.getExecutionContext().get(ALL);\n        this.limit = allQueries.size();\n        jobExecution.getExecutionContext().put(COUNT, currentQuery);\n        if (++currentQuery &gt;= limit) {\n            return new FlowExecutionStatus(COMPLETED);\n        } else {\n            LOG.info(&quot;Looping for query: &quot; + allQueries.get(currentQuery - 1));\n            return new FlowExecutionStatus(CONTINUE);\n        }       \n    }\n\n}\n</code></pre>\n<p>Based on a list of queries (HQL queries) I want a reader - processor - writer for each query. My current configuration looks like this:</p>\n<p><strong>Job</strong></p>\n<pre><code>@Bean\npublic Job subsetJob() throws Exception {\n    LoopDecider loopDecider = new LoopDecider();        \n    FlowBuilder&lt;Flow&gt; flowBuilder = new FlowBuilder&lt;&gt;(FLOW_NAME);\n    Flow flow = flowBuilder\n            .start(createHQL())\n            .next(extractData())\n            .next(loopDecider)\n            .on(&quot;CONTINUE&quot;)\n            .to(extractData())\n            .from(loopDecider)\n            .on(&quot;COMPLETED&quot;)                \n            .end()\n            .build();       \n    \n    return jobBuilderFactory.get(&quot;subsetJob&quot;)               \n            .start(flow)                \n            .end()\n            .build();\n}\n</code></pre>\n<p><strong>Step</strong></p>\n<pre><code>public Step extractData(){\n    return stepBuilderFactory.get(&quot;extractData&quot;)\n            .chunk(100_000)\n            .reader(reader())\n            .processor(processor())\n            .writer(writer())\n            .build();\n}\n</code></pre>\n<p><strong>Reader</strong></p>\n<pre><code>public HibernateCursorItemReader reader(){      \n    CustomHibernateCursorItemReader reader = new CustomHibernateCursorItemReader();\n    reader.setSessionFactory(HibernateUtil.getSessionFactory());        \n    reader.setUseStatelessSession(false);\n    return reader;\n}\n</code></pre>\n<p><strong>Processor</strong></p>\n<pre><code>public DynamicRecordProcessor processor(){\n    return new DynamicRecordProcessor();\n}\n</code></pre>\n<p><strong>Writer</strong></p>\n<pre><code>public FlatFileItemWriter writer(){\n    CustomFlatFileItemWriter writer = new CustomFlatFileItemWriter();               \n    writer.setLineAggregator(new DelimitedLineAggregator(){{\n        setDelimiter(TARGET_DELIMITER);\n        setFieldExtractor(new PassThroughFieldExtractor());\n        }}\n    );\n    return writer;\n}\n</code></pre>\n<p>Currently, the process works fine for a single query. However, I actually have a list of queries.</p>\n<p>My initial idea is to loop the step and pass the step the list of queries and for each query read - process - write. This would also be ideal for parallel chunking.</p>\n<p>However, when I add the list of queries as a parameter to the extract data step and for each query, I create a step, a list of steps is returned, instead of the expected single step. The job starts complaining it expects a single step instead of a list of steps.</p>\n<p>Another idea was to create a custom MultiHibernateCursorItemReader with the same idea as the MultiItemResourceReader, however, I am really looking for a more out-of-the-box solution.</p>\n<pre><code>@Bean\npublic List&lt;Step&gt; extractData(@Value(&quot;#{jobExecutionContext[HQL]}&quot;) List&lt;String&gt; queries){\n    List&lt;Step&gt; steps = new ArrayList&lt;Step&gt;();\n    for (String query : queries) {\n        steps.add(stepBuilderFactory.get(&quot;extractData&quot;)\n            .chunk(100_000)\n            .reader(reader(query))\n            .processor(processor())\n            .writer(writer(query))\n            .build());\n    }\n    return steps;\n}\n</code></pre>\n<p><strong>Question</strong><br />\nHow do I loop the step and integrate that into the job?</p>\n"},{"tags":["javascript","java","jsp"],"comments":[{"owner":{"account_id":16742251,"reputation":12067,"user_id":12101554,"display_name":"Samathingamajig"},"score":0,"creation_date":1658982958,"post_id":73147309,"comment_id":129188475,"body_markdown":"This is not possible. You could set a non-HTTP-only cookie and send that with the request but a user would still be able to access it","body":"This is not possible. You could set a non-HTTP-only cookie and send that with the request but a user would still be able to access it"},{"owner":{"account_id":25913581,"reputation":1,"user_id":19637301,"display_name":"saren vs"},"score":0,"creation_date":1658983507,"post_id":73147309,"comment_id":129188549,"body_markdown":"I added a captch on page but the issue I could to able to see the captcha value in request  passing to Java page for validation purpose","body":"I added a captch on page but the issue I could to able to see the captcha value in request  passing to Java page for validation purpose"},{"owner":{"account_id":195407,"reputation":29116,"user_id":438273,"accept_rate":70,"display_name":"jsejcksn"},"score":1,"creation_date":1658986205,"post_id":73147309,"comment_id":129188998,"body_markdown":"**Nothing** that you send to the client is secret. The least accessible tactic you have is to obscure/encode/encrypt data that you send.","body":"<b>Nothing</b> that you send to the client is secret. The least accessible tactic you have is to obscure/encode/encrypt data that you send."}],"answers":[{"tags":[],"owner":{"account_id":25293688,"reputation":86,"user_id":19119227,"display_name":"Saran Raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658983377,"creation_date":1658983377,"answer_id":73147377,"question_id":73147309,"body_markdown":"If this is a form there are two methods,they are post and get method \r\nUsing post method will hide the parameter unlike the get method\r\n\r\nor\r\n\r\nUse session variables instead of the request parameters ","title":"How to hide get request url","body":"<p>If this is a form there are two methods,they are post and get method\nUsing post method will hide the parameter unlike the get method</p>\n<p>or</p>\n<p>Use session variables instead of the request parameters</p>\n"},{"tags":[],"owner":{"account_id":16742251,"reputation":12067,"user_id":12101554,"display_name":"Samathingamajig"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658983404,"creation_date":1658983404,"answer_id":73147381,"question_id":73147309,"body_markdown":"Once a page is loaded, you can do some shenanigans to hide it from the URL bar and from the forward/back navigation, but it&#39;s still accessible from the browser history itself and will stay if JavaScript is disabled.\r\n\r\n```js\r\nconst url = new URL(window.location.href);\r\nurl.searchParams.delete(&quot;recaptcha&quot;);\r\nwindow.history.replaceState({}, &quot;&quot;, url.toString());\r\n```","title":"How to hide get request url","body":"<p>Once a page is loaded, you can do some shenanigans to hide it from the URL bar and from the forward/back navigation, but it's still accessible from the browser history itself and will stay if JavaScript is disabled.</p>\n<pre class=\"lang-js prettyprint-override\"><code>const url = new URL(window.location.href);\nurl.searchParams.delete(&quot;recaptcha&quot;);\nwindow.history.replaceState({}, &quot;&quot;, url.toString());\n</code></pre>\n"}],"owner":{"account_id":25913581,"reputation":1,"user_id":19637301,"display_name":"saren vs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":673,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659028199,"creation_date":1658982800,"question_id":73147309,"body_markdown":"Any one help me how to hide  particular parameter value in url .I&#39;m using jsp,Java struts.\r\nExample:\r\nActual url:\r\nHttp://localhost:8080/getDetail?detailname=Harry&amp;price=200&amp;recaptcha=le3MV\r\nExpected url:\r\nHttp://localhost:8080/getDetail?detailname=Harry&amp;price=200","title":"How to hide get request url","body":"<p>Any one help me how to hide  particular parameter value in url .I'm using jsp,Java struts.\nExample:\nActual url:\nHttp://localhost:8080/getDetail?detailname=Harry&amp;price=200&amp;recaptcha=le3MV\nExpected url:\nHttp://localhost:8080/getDetail?detailname=Harry&amp;price=200</p>\n"},{"tags":["java","jvm","type-erasure","type-systems"],"comments":[{"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"score":0,"creation_date":1659029154,"post_id":73156613,"comment_id":129204209,"body_markdown":"Raw types are _potentially_ unsafe, not _necessarily_ unsafe. Their use can be legit and justified. The warning just means that the code cannot be proven type safe by the compiler.","body":"Raw types are <i>potentially</i> unsafe, not <i>necessarily</i> unsafe. Their use can be legit and justified. The warning just means that the code cannot be proven type safe by the compiler."},{"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"score":0,"creation_date":1659029420,"post_id":73156613,"comment_id":129204305,"body_markdown":"As for why erasure is needed at all, [here](https://openjdk.org/projects/valhalla/design-notes/in-defense-of-erasure) is an explanation by one of the language architects","body":"As for why erasure is needed at all, <a href=\"https://openjdk.org/projects/valhalla/design-notes/in-defense-of-erasure\" rel=\"nofollow noreferrer\">here</a> is an explanation by one of the language architects"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1659179016,"post_id":73156613,"comment_id":129234959,"body_markdown":"â€œ*Why compiler can&#39;t show this as an error (instead of warning)*â€ is an entirely different question than â€œ*Why java type erasure is needed **at runtime** at all?*â€","body":"â€œ<i>Why compiler can&#39;t show this as an error (instead of warning)</i>â€ is an entirely different question than â€œ<i>Why java type erasure is needed <b>at runtime</b> at all?</i>â€"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659028063,"creation_date":1659028063,"answer_id":73156695,"question_id":73156613,"body_markdown":"Java gained type variables in java 1.5. Before java 1.5, they __did not exist__.\r\n\r\nJava also strongly dislikes releasing new versions such that &#39;upgrading&#39; is more involved than just &#39;simply compile your existing code with the new compiler and it all just works exactly like it did before&#39;. Also, &#39;you can run code compiled with the `javac` from java 1.4, on the `java.exe` from 1.5 and it runs fine&#39;.\r\n\r\nWhy? Well, because otherwise you get a split community, and because most projects use 500 dependencies, that is hugely detrimental. You can&#39;t &#39;upgrade&#39; from java 1.4 to 1.5 until each and every single last one of those 500 deps has upgraded.\r\n\r\nCombine these 2 facts and generics makes sense:\r\n\r\n* Why erasure at all? Because how else could it work? Class files stemming from javac1.4 cannot possibly have the generics info, given that they did not exist when javac1.4 was released!\r\n\r\n* Why &#39;raw types&#39;? Because pre-generics code by their nature have them (`List&lt;T&gt;` would be a compiler error on java 1.4), and by their nature, there _is no_ sanity, typevar-wise. You could write this:\r\n\r\n```\r\nList foo = new ArrayList();\r\nfoo.add(5);\r\nfoo.add(&quot;hello&quot;);\r\n```\r\n\r\nand it compiles just fine on javac 1.4. __Therefore it MUST also compile on javac 1.5__. As a compromise, if you attempt to compile that on javac from 1.5, it works and produces a class file that acts identically, but you _do_ get warnings.\r\n\r\njava 1.5 is now 25 years old or whatnot. So it all seems weird and archaic now. But you&#39;re asking &#39;why&#39;. This is why.\r\n","title":"Why java type erasure is needed at runtime at all?","body":"<p>Java gained type variables in java 1.5. Before java 1.5, they <strong>did not exist</strong>.</p>\n<p>Java also strongly dislikes releasing new versions such that 'upgrading' is more involved than just 'simply compile your existing code with the new compiler and it all just works exactly like it did before'. Also, 'you can run code compiled with the <code>javac</code> from java 1.4, on the <code>java.exe</code> from 1.5 and it runs fine'.</p>\n<p>Why? Well, because otherwise you get a split community, and because most projects use 500 dependencies, that is hugely detrimental. You can't 'upgrade' from java 1.4 to 1.5 until each and every single last one of those 500 deps has upgraded.</p>\n<p>Combine these 2 facts and generics makes sense:</p>\n<ul>\n<li><p>Why erasure at all? Because how else could it work? Class files stemming from javac1.4 cannot possibly have the generics info, given that they did not exist when javac1.4 was released!</p>\n</li>\n<li><p>Why 'raw types'? Because pre-generics code by their nature have them (<code>List&lt;T&gt;</code> would be a compiler error on java 1.4), and by their nature, there <em>is no</em> sanity, typevar-wise. You could write this:</p>\n</li>\n</ul>\n<pre><code>List foo = new ArrayList();\nfoo.add(5);\nfoo.add(&quot;hello&quot;);\n</code></pre>\n<p>and it compiles just fine on javac 1.4. <strong>Therefore it MUST also compile on javac 1.5</strong>. As a compromise, if you attempt to compile that on javac from 1.5, it works and produces a class file that acts identically, but you <em>do</em> get warnings.</p>\n<p>java 1.5 is now 25 years old or whatnot. So it all seems weird and archaic now. But you're asking 'why'. This is why.</p>\n"}],"owner":{"account_id":2076853,"reputation":541,"user_id":1856175,"accept_rate":50,"display_name":"timedout"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1659028063,"creation_date":1659027665,"question_id":73156613,"body_markdown":"Below is an excerpt from [java documentation here][1]\r\n\r\n&gt; Because of type erasure, `List&lt;Number&gt;` and `List&lt;String&gt;` both become List. Consequently, the compiler allows the assignment of the object l, which has a raw type of List, to the object ls.\r\n\r\nAlso from the same documentation\r\n\r\n&gt; Consider the following example:\r\n\r\n    List l = new ArrayList&lt;Number&gt;();\r\n    List&lt;String&gt; ls = l;       // unchecked warning\r\n    l.add(0, new Integer(42)); // another unchecked warning\r\n    String s = ls.get(0);      // ClassCastException is thrown\r\n\r\n&gt; During type erasure, the types ArrayList&lt;Number&gt; and List&lt;String&gt; become ArrayList and List, respectively.\r\n\r\nWhy compiler can&#39;t show this as an error (instead of warning). Could someone kindly help with an example where warning is needed and will cause an issue (or make certain useful patterns impossible) when warning becomes an error.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/technotes/guides/language/non-reifiable-varargs.html","title":"Why java type erasure is needed at runtime at all?","body":"<p>Below is an excerpt from <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/language/non-reifiable-varargs.html\" rel=\"nofollow noreferrer\">java documentation here</a></p>\n<blockquote>\n<p>Because of type erasure, <code>List&lt;Number&gt;</code> and <code>List&lt;String&gt;</code> both become List. Consequently, the compiler allows the assignment of the object l, which has a raw type of List, to the object ls.</p>\n</blockquote>\n<p>Also from the same documentation</p>\n<blockquote>\n<p>Consider the following example:</p>\n</blockquote>\n<pre><code>List l = new ArrayList&lt;Number&gt;();\nList&lt;String&gt; ls = l;       // unchecked warning\nl.add(0, new Integer(42)); // another unchecked warning\nString s = ls.get(0);      // ClassCastException is thrown\n</code></pre>\n<blockquote>\n<p>During type erasure, the types ArrayList and List become ArrayList and List, respectively.</p>\n</blockquote>\n<p>Why compiler can't show this as an error (instead of warning). Could someone kindly help with an example where warning is needed and will cause an issue (or make certain useful patterns impossible) when warning becomes an error.</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"score":1,"creation_date":1659018853,"post_id":73154266,"comment_id":129200303,"body_markdown":"Hi there, can you change `android:layout_width=&quot;0dp&quot;`  `android:layout_height=&quot;0dp&quot;` to `match_parent` ?","body":"Hi there, can you change <code>android:layout_width=&quot;0dp&quot;</code>  <code>android:layout_height=&quot;0dp&quot;</code> to <code>match_parent</code> ?"},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":1,"creation_date":1659022931,"post_id":73154266,"comment_id":129201938,"body_markdown":"Post your item layout &quot;folder_view, parent&quot;. Also the layout that holds your _RecyclerVIew_.","body":"Post your item layout &quot;folder_view, parent&quot;. Also the layout that holds your <i>RecyclerVIew</i>."},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":1,"creation_date":1659027445,"post_id":73154266,"comment_id":129203642,"body_markdown":"What is the height and width of the _ConstraintLayout_ that contains the _RecyclerView_? Can you post that XML?","body":"What is the height and width of the <i>ConstraintLayout</i> that contains the <i>RecyclerView</i>? Can you post that XML?"},{"owner":{"account_id":22608731,"reputation":423,"user_id":16789265,"display_name":"Hammad Zafar Bawara"},"score":0,"creation_date":1659027675,"post_id":73154266,"comment_id":129203724,"body_markdown":"Height and width of constraint layout is &quot;match_parent&quot;","body":"Height and width of constraint layout is &quot;match_parent&quot;"},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":1,"creation_date":1659029135,"post_id":73154266,"comment_id":129204201,"body_markdown":"Everything looks OK. Run the app and look in the Layout Inspector of Android Studio to see if the layout is actually displayed or not. You can get the size of the various views from the Layout Inspector if they are on the screen at all. Depending on what you discover, it should send you down a path to figuring out the problem.","body":"Everything looks OK. Run the app and look in the Layout Inspector of Android Studio to see if the layout is actually displayed or not. You can get the size of the various views from the Layout Inspector if they are on the screen at all. Depending on what you discover, it should send you down a path to figuring out the problem."}],"answers":[{"tags":[],"owner":{"account_id":11347613,"reputation":679,"user_id":8319640,"display_name":"Kishan Mevada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659023400,"creation_date":1659023400,"answer_id":73155689,"question_id":73154266,"body_markdown":"&lt;H4&gt;Change 1 : &lt;/H4&gt;\r\n\r\nIn the ```xml``` set attribute ```android:layout_width=&quot;0dp&quot;``` to ```android:layout_width=&quot;match_parent&quot;``` and ```android:layout_height=&quot;0dp&quot;``` to ```android:layout_height=&quot;match_parent&quot;```\r\n\r\n&lt;H4&gt;Change 2 : &lt;/H4&gt;\r\n\r\nIn your ```MainActivity``` code set ```LayoutManager``` to the ```RecyclerView``` before setting up adapter. so the code goes this way :\r\n\r\n\r\n```\r\n//Defining RecyclerView and setting LayoutManager\r\nRecyclerView recyclerView = binding.folderRecyclerView;\r\nFolderListAdapter adapter = new FolderListAdapter(this, folderList);\r\n\r\n//Setting up Adapter\r\nrecyclerView.setLayoutManager(new GridLayoutManager(this, 2));\r\nrecyclerView.setAdapter(adapter);\r\n\r\n```\r\n","title":"RecyclerView Items are not showing","body":"<H4>Change 1 : </H4>\n<p>In the <code>xml</code> set attribute <code>android:layout_width=&quot;0dp&quot;</code> to <code>android:layout_width=&quot;match_parent&quot;</code> and <code>android:layout_height=&quot;0dp&quot;</code> to <code>android:layout_height=&quot;match_parent&quot;</code></p>\n<H4>Change 2 : </H4>\n<p>In your <code>MainActivity</code> code set <code>LayoutManager</code> to the <code>RecyclerView</code> before setting up adapter. so the code goes this way :</p>\n<pre><code>//Defining RecyclerView and setting LayoutManager\nRecyclerView recyclerView = binding.folderRecyclerView;\nFolderListAdapter adapter = new FolderListAdapter(this, folderList);\n\n//Setting up Adapter\nrecyclerView.setLayoutManager(new GridLayoutManager(this, 2));\nrecyclerView.setAdapter(adapter);\n\n</code></pre>\n"}],"owner":{"account_id":22608731,"reputation":423,"user_id":16789265,"display_name":"Hammad Zafar Bawara"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659027746,"creation_date":1659017317,"question_id":73154266,"body_markdown":"FolderListAdapter Code\r\n```\r\npublic class FolderListAdapter extends RecyclerView.Adapter&lt;FolderListAdapter.myViewHolder&gt; {\r\n    private final Context context;\r\n    private final ArrayList&lt;Folder&gt; folderList;\r\n\r\n    public FolderListAdapter(Context context, ArrayList&lt;Folder&gt; folderList) {\r\n        this.context = context;\r\n        this.folderList = folderList;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public myViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(context).inflate(R.layout.folder_view, parent, false);\r\n        return new myViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull myViewHolder holder, int position) {\r\n        Folder folder = folderList.get(position);\r\n        Glide.with(context).load(folder.getFolder()).into(holder.imageView);\r\n        holder.folder_name.setText(folder.getFolder().getName());\r\n        holder.folder_item_count.setText(folder.getFilesList().size() + &quot; Items&quot;);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return folderList.size();\r\n    }\r\n\r\n    public class myViewHolder extends RecyclerView.ViewHolder {\r\n        private final ShapeableImageView imageView;\r\n        private final TextView folder_name;\r\n        private final TextView folder_item_count;\r\n        public myViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            imageView = itemView.findViewById(R.id.folder_image_view);\r\n            folder_name = itemView.findViewById(R.id.folder_name_text_view);\r\n            folder_item_count = itemView.findViewById(R.id.folder_items_count_text_view);\r\n        }\r\n    }\r\n}\r\n```\r\nMainActivity Code for RecyclerView\r\n\r\n```\r\nFolderListAdapter adapter = new FolderListAdapter(this, folderList);\r\n\r\nRecyclerView recyclerView = binding.folderRecyclerView;\r\nrecyclerView.setAdapter(adapter);\r\n\r\nrecyclerView.setLayoutManager(new GridLayoutManager(this, 2));\r\n```\r\n\r\nXML CODE OF recycler view\r\n\r\n```\r\n&lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/folder_recyclerView&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layoutManager=&quot;androidx.recyclerview.widget.GridLayoutManager&quot;\r\n        app:spanCount=&quot;2&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        tools:listitem=&quot;@layout/folder_view&quot; /&gt;\r\n```\r\n\r\n\r\nfolder_view.xml code.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n    &lt;com.google.android.material.imageview.ShapeableImageView\r\n        android:id=&quot;@+id/folder_image_view&quot;\r\n        android:layout_width=&quot;150dp&quot;\r\n        android:layout_height=&quot;150dp&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:scaleType=&quot;centerCrop&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        android:background=&quot;?android:attr/selectableItemBackground&quot;\r\n        app:shapeAppearanceOverlay=&quot;@style/ShapeAppearanceOverlay.App.CornerSize50Percent&quot;\r\n        tools:srcCompat=&quot;@tools:sample/backgrounds/scenic&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/folder_name_text_view&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;4dp&quot;\r\n        android:text=&quot;Camera&quot;\r\n        android:textColor=&quot;@android:color/primary_text_light&quot;\r\n        android:textSize=&quot;16sp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;@+id/folder_image_view&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@+id/folder_image_view&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/folder_image_view&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/folder_items_count_text_view&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;600 Items&quot;\r\n        android:textSize=&quot;12sp&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@+id/folder_name_text_view&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/folder_name_text_view&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n```\r\n\r\nactivity_folder.xml layout file\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.ui.addFiles.FoldersActivity&quot;&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/folder_recyclerView&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n\r\n**OUTPUT**\r\n[![Output Screenshot][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Bbnf7.png\r\n\r\n - The size of folderList is 2\r\n - I also check the size of adapter. It is also 2\r\n - I also tried by making a new Adapter but it also does not work.\r\n I don&#39;t know where I am making mistake and why it is now showing nothing in activity.\r\n","title":"RecyclerView Items are not showing","body":"<p>FolderListAdapter Code</p>\n<pre><code>public class FolderListAdapter extends RecyclerView.Adapter&lt;FolderListAdapter.myViewHolder&gt; {\n    private final Context context;\n    private final ArrayList&lt;Folder&gt; folderList;\n\n    public FolderListAdapter(Context context, ArrayList&lt;Folder&gt; folderList) {\n        this.context = context;\n        this.folderList = folderList;\n    }\n\n    @NonNull\n    @Override\n    public myViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(context).inflate(R.layout.folder_view, parent, false);\n        return new myViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull myViewHolder holder, int position) {\n        Folder folder = folderList.get(position);\n        Glide.with(context).load(folder.getFolder()).into(holder.imageView);\n        holder.folder_name.setText(folder.getFolder().getName());\n        holder.folder_item_count.setText(folder.getFilesList().size() + &quot; Items&quot;);\n    }\n\n    @Override\n    public int getItemCount() {\n        return folderList.size();\n    }\n\n    public class myViewHolder extends RecyclerView.ViewHolder {\n        private final ShapeableImageView imageView;\n        private final TextView folder_name;\n        private final TextView folder_item_count;\n        public myViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            imageView = itemView.findViewById(R.id.folder_image_view);\n            folder_name = itemView.findViewById(R.id.folder_name_text_view);\n            folder_item_count = itemView.findViewById(R.id.folder_items_count_text_view);\n        }\n    }\n}\n</code></pre>\n<p>MainActivity Code for RecyclerView</p>\n<pre><code>FolderListAdapter adapter = new FolderListAdapter(this, folderList);\n\nRecyclerView recyclerView = binding.folderRecyclerView;\nrecyclerView.setAdapter(adapter);\n\nrecyclerView.setLayoutManager(new GridLayoutManager(this, 2));\n</code></pre>\n<p>XML CODE OF recycler view</p>\n<pre><code>&lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/folder_recyclerView&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layoutManager=&quot;androidx.recyclerview.widget.GridLayoutManager&quot;\n        app:spanCount=&quot;2&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        tools:listitem=&quot;@layout/folder_view&quot; /&gt;\n</code></pre>\n<p>folder_view.xml code.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n    &lt;com.google.android.material.imageview.ShapeableImageView\n        android:id=&quot;@+id/folder_image_view&quot;\n        android:layout_width=&quot;150dp&quot;\n        android:layout_height=&quot;150dp&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:scaleType=&quot;centerCrop&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        android:background=&quot;?android:attr/selectableItemBackground&quot;\n        app:shapeAppearanceOverlay=&quot;@style/ShapeAppearanceOverlay.App.CornerSize50Percent&quot;\n        tools:srcCompat=&quot;@tools:sample/backgrounds/scenic&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/folder_name_text_view&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;4dp&quot;\n        android:text=&quot;Camera&quot;\n        android:textColor=&quot;@android:color/primary_text_light&quot;\n        android:textSize=&quot;16sp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;@+id/folder_image_view&quot;\n        app:layout_constraintStart_toStartOf=&quot;@+id/folder_image_view&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/folder_image_view&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/folder_items_count_text_view&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;600 Items&quot;\n        android:textSize=&quot;12sp&quot;\n        app:layout_constraintStart_toStartOf=&quot;@+id/folder_name_text_view&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/folder_name_text_view&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n</code></pre>\n<p>activity_folder.xml layout file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.ui.addFiles.FoldersActivity&quot;&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/folder_recyclerView&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><strong>OUTPUT</strong>\n<a href=\"https://i.stack.imgur.com/Bbnf7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Bbnf7.png\" alt=\"Output Screenshot\" /></a></p>\n<ul>\n<li>The size of folderList is 2</li>\n<li>I also check the size of adapter. It is also 2</li>\n<li>I also tried by making a new Adapter but it also does not work.\nI don't know where I am making mistake and why it is now showing nothing in activity.</li>\n</ul>\n"},{"tags":["java","future","project-reactor","completable-future"],"comments":[{"owner":{"account_id":3031224,"reputation":3564,"user_id":2570189,"accept_rate":17,"display_name":"dvsakgec"},"score":0,"creation_date":1588862246,"post_id":61660537,"comment_id":109068643,"body_markdown":"I am kind of beginner in this area so any help is greatly appreciated","body":"I am kind of beginner in this area so any help is greatly appreciated"},{"owner":{"account_id":1244574,"reputation":13277,"user_id":1206301,"accept_rate":10,"display_name":"Alexei Kaigorodov"},"score":1,"creation_date":1588866531,"post_id":61660537,"comment_id":109071329,"body_markdown":"this is possible but requires a dedicated thread. That is, the main goal of using Mono/Flux, memory economy, would not be achieved anyway.","body":"this is possible but requires a dedicated thread. That is, the main goal of using Mono/Flux, memory economy, would not be achieved anyway."},{"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"score":0,"creation_date":1588867650,"post_id":61660537,"comment_id":109071994,"body_markdown":"This is analogous to transforming a `Future` to a `CompleteableFuture` as described here - since a future has no concept of a &quot;callback&quot; when done, you have to block a thread. It&#39;s certainly not pretty, but alas there&#39;s no sensible way.  https://stackoverflow.com/questions/23301598/transform-java-future-into-a-completablefuture","body":"This is analogous to transforming a <code>Future</code> to a <code>CompleteableFuture</code> as described here - since a future has no concept of a &quot;callback&quot; when done, you have to block a thread. It&#39;s certainly not pretty, but alas there&#39;s no sensible way.  <a href=\"https://stackoverflow.com/questions/23301598/transform-java-future-into-a-completablefuture\" title=\"transform java future into a completablefuture\">stackoverflow.com/questions/23301598/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":11583180,"reputation":68,"user_id":8486341,"display_name":"Yateen Gupta"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1589278378,"creation_date":1589278378,"answer_id":61749098,"question_id":61660537,"body_markdown":"You can use ```Future::get``` as supplier in ```Mono::fromSupplier ```.\r\nLike this, ``` Mono.fromSupplier(Future::get)```.","title":"Convert Future to Mono","body":"<p>You can use <code>Future::get</code> as supplier in <code>Mono::fromSupplier</code>.\nLike this, <code>Mono.fromSupplier(Future::get)</code>.</p>\n"},{"tags":[],"owner":{"account_id":15470820,"reputation":171,"user_id":11160956,"display_name":"Johan Perez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659027550,"creation_date":1659027550,"answer_id":73156586,"question_id":61660537,"body_markdown":"Given that getting the result from a `Future` is always going to be blocking, a possible solution would be move that computation to a blocking-friendly scheduler. \r\n\r\n     Mono.fromCallable(() -&gt; {\r\n            try {\r\n                Future future = null;\r\n                return future.get();\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n     }).subscribeOn(Schedulers.boundedElastic());\r\n\r\nYou can verify that your code is effectively non-blocking by using  BlockHound https://github.com/reactor/BlockHound\r\n","title":"Convert Future to Mono","body":"<p>Given that getting the result from a <code>Future</code> is always going to be blocking, a possible solution would be move that computation to a blocking-friendly scheduler.</p>\n<pre><code> Mono.fromCallable(() -&gt; {\n        try {\n            Future future = null;\n            return future.get();\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n }).subscribeOn(Schedulers.boundedElastic());\n</code></pre>\n<p>You can verify that your code is effectively non-blocking by using  BlockHound <a href=\"https://github.com/reactor/BlockHound\" rel=\"nofollow noreferrer\">https://github.com/reactor/BlockHound</a></p>\n"}],"owner":{"account_id":3031224,"reputation":3564,"user_id":2570189,"accept_rate":17,"display_name":"dvsakgec"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5994,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1659027550,"creation_date":1588862213,"question_id":61660537,"body_markdown":"I have legacy code which returns convert java.util.concurrent.Future, now I am supposed to wrap this method call in a layer which returns reactor publishers Mono or Flux. I believe approach to convert to either of them should be similar so what is the correct way to convert it to Mono.\r\n\r\nSuppose for example I am getting Future&lt;Response&gt; from API and I need Mono&lt;Response&gt; ","title":"Convert Future to Mono","body":"<p>I have legacy code which returns convert java.util.concurrent.Future, now I am supposed to wrap this method call in a layer which returns reactor publishers Mono or Flux. I believe approach to convert to either of them should be similar so what is the correct way to convert it to Mono.</p>\n\n<p>Suppose for example I am getting Future from API and I need Mono </p>\n"},{"tags":["java","dependency-injection","ejb","java-ee-7"],"answers":[{"tags":[],"owner":{"account_id":13830375,"reputation":118,"user_id":9983440,"display_name":"Renato Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659027200,"creation_date":1659027200,"answer_id":73156524,"question_id":72913180,"body_markdown":"You should try to use dynamic bean selection on your Service class:\r\n\r\n```\r\n @Inject\r\n @Property\r\n Instance&lt;String&gt; instance;\r\n```\r\n\r\nand then in your Service method you can do:\r\n\r\n```\r\npublic void callAnotherService() {\r\n     String host = instance.get();\r\n     callRestMethod(host)\r\n}\r\n```\r\n\r\nMore references at https://docs.oracle.com/javaee/7/api/javax/enterprise/inject/Instance.html","title":"How to Inject produces again","body":"<p>You should try to use dynamic bean selection on your Service class:</p>\n<pre><code> @Inject\n @Property\n Instance&lt;String&gt; instance;\n</code></pre>\n<p>and then in your Service method you can do:</p>\n<pre><code>public void callAnotherService() {\n     String host = instance.get();\n     callRestMethod(host)\n}\n</code></pre>\n<p>More references at <a href=\"https://docs.oracle.com/javaee/7/api/javax/enterprise/inject/Instance.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javaee/7/api/javax/enterprise/inject/Instance.html</a></p>\n"}],"owner":{"account_id":12403233,"reputation":13,"user_id":9039438,"display_name":"Ethan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659027200,"creation_date":1657291666,"question_id":72913180,"body_markdown":"Using javaee beans, is there possibility to inject properties again if they are, for example, null? \r\n\r\nMy simplified code: \r\n\r\n**Service** makes rest request to *another* service, and it get host property from a **PropertyProduces** that takes it from a third *config* service. For example, when I first time making **RestService.call()**, *config* service is disabled, so it return host=null. I am not able to  *callAnotherService* properly, this is fine. Then *config* service became enabled, but when I make second **RestService.call()**, *host* is already null and it even do not want to get to **PropertyProduces.produceString**\r\n\r\nCan I somehow intercept usage of *host* property, check if it is null and force it to inject from Produces again?\r\n\r\n```\r\n@ApplicationScoped\r\npublic class Service {\r\n    @Property\r\n    private final String host;\r\n\r\n\tpublic void callAnotherService() {\r\n\t\tcallRestMethod(host)\r\n\t}\r\n}\r\n```\r\n\r\n```\r\n@ApplicationScoped\r\npublic class PropertyProduces {\r\n\r\n    @Inject\r\n    private Config config;\r\n\r\n\t@Property\r\n    @Produces\r\n    public String produceString(InjectionPoint ip) {\r\n        return this.config.getString(ip.getMember().getName());\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Path(&quot;/&quot;)\r\n@ApplicationScoped\r\npublic class RestService {\r\n\t@Inject\r\n\tprivate Service service;\r\n  \r\n\t@POST\r\n\t@Path(&quot;/call&quot;)\r\n\tpublic Response call(Request request)\r\n\t{\r\n\t\tthis.service.callAnotherService();\r\n\t}\r\n}\r\n```\r\n\r\nI know I can change class **Service** to @RequestScoped, so at different rest requests will be created different **Service** instances and host will be produces everytime. But is there another posibility, somehow changing PropertyProduces or making Interceptors? ","title":"How to Inject produces again","body":"<p>Using javaee beans, is there possibility to inject properties again if they are, for example, null?</p>\n<p>My simplified code:</p>\n<p><strong>Service</strong> makes rest request to <em>another</em> service, and it get host property from a <strong>PropertyProduces</strong> that takes it from a third <em>config</em> service. For example, when I first time making <strong>RestService.call()</strong>, <em>config</em> service is disabled, so it return host=null. I am not able to  <em>callAnotherService</em> properly, this is fine. Then <em>config</em> service became enabled, but when I make second <strong>RestService.call()</strong>, <em>host</em> is already null and it even do not want to get to <strong>PropertyProduces.produceString</strong></p>\n<p>Can I somehow intercept usage of <em>host</em> property, check if it is null and force it to inject from Produces again?</p>\n<pre><code>@ApplicationScoped\npublic class Service {\n    @Property\n    private final String host;\n\n    public void callAnotherService() {\n        callRestMethod(host)\n    }\n}\n</code></pre>\n<pre><code>@ApplicationScoped\npublic class PropertyProduces {\n\n    @Inject\n    private Config config;\n\n    @Property\n    @Produces\n    public String produceString(InjectionPoint ip) {\n        return this.config.getString(ip.getMember().getName());\n    }\n}\n</code></pre>\n<pre><code>@Path(&quot;/&quot;)\n@ApplicationScoped\npublic class RestService {\n    @Inject\n    private Service service;\n  \n    @POST\n    @Path(&quot;/call&quot;)\n    public Response call(Request request)\n    {\n        this.service.callAnotherService();\n    }\n}\n</code></pre>\n<p>I know I can change class <strong>Service</strong> to @RequestScoped, so at different rest requests will be created different <strong>Service</strong> instances and host will be produces everytime. But is there another posibility, somehow changing PropertyProduces or making Interceptors?</p>\n"},{"tags":["java","junit5"],"comments":[{"owner":{"account_id":207004,"reputation":3375,"user_id":456635,"display_name":"abdollar"},"score":0,"creation_date":1658695394,"post_id":73101626,"comment_id":129109150,"body_markdown":"Have you tried setting a global timeout - junit.jupiter.execution.timeout.default - then building a callback using TestExecutionExceptionHandler per https://stackoverflow.com/questions/67698512/is-there-a-way-to-get-a-callback-from-junit5-if-a-test-is-timed-out","body":"Have you tried setting a global timeout - junit.jupiter.execution.timeout.default - then building a callback using TestExecutionExceptionHandler per <a href=\"https://stackoverflow.com/questions/67698512/is-there-a-way-to-get-a-callback-from-junit5-if-a-test-is-timed-out\" title=\"is there a way to get a callback from junit5 if a test is timed out\">stackoverflow.com/questions/67698512/&hellip;</a>"},{"owner":{"account_id":1448228,"reputation":3218,"user_id":1366016,"accept_rate":60,"display_name":"Wheezil"},"score":0,"creation_date":1658698598,"post_id":73101626,"comment_id":129109718,"body_markdown":"I&#39;m trying to understand what that code does, but it seems like it interrupts the executing test before any exception is referred to the handler.  If this is the case, a global thread-dump from that handler would already be too late.  I need to stack-trace all threads in the test in its &quot;hung&quot; state before anything interrupts or tears down the test.","body":"I&#39;m trying to understand what that code does, but it seems like it interrupts the executing test before any exception is referred to the handler.  If this is the case, a global thread-dump from that handler would already be too late.  I need to stack-trace all threads in the test in its &quot;hung&quot; state before anything interrupts or tears down the test."},{"owner":{"account_id":207004,"reputation":3375,"user_id":456635,"display_name":"abdollar"},"score":0,"creation_date":1658700021,"post_id":73101626,"comment_id":129109960,"body_markdown":"You could have a separate process constantly running periodically capturing stack traces using jstack for all tests but that could be costly if you have a large test suite.","body":"You could have a separate process constantly running periodically capturing stack traces using jstack for all tests but that could be costly if you have a large test suite."},{"owner":{"account_id":1448228,"reputation":3218,"user_id":1366016,"accept_rate":60,"display_name":"Wheezil"},"score":0,"creation_date":1658793376,"post_id":73101626,"comment_id":129135155,"body_markdown":"I have actually done that in the field, have a variable that can be easily turned on to generate continuous trace dumps.","body":"I have actually done that in the field, have a variable that can be easily turned on to generate continuous trace dumps."},{"owner":{"account_id":207004,"reputation":3375,"user_id":456635,"display_name":"abdollar"},"score":0,"creation_date":1658796135,"post_id":73101626,"comment_id":129135522,"body_markdown":"eclipse uses a timer and a stack dumper, maybe you could try that for each test suite maybe - see https://github.com/eclipse/tycho/blob/master/tycho-surefire/org.eclipse.tycho.surefire.osgibooter/src/main/java/org/eclipse/tycho/surefire/osgibooter/DumpStackTracesTimer.java","body":"eclipse uses a timer and a stack dumper, maybe you could try that for each test suite maybe - see <a href=\"https://github.com/eclipse/tycho/blob/master/tycho-surefire/org.eclipse.tycho.surefire.osgibooter/src/main/java/org/eclipse/tycho/surefire/osgibooter/DumpStackTracesTimer.java\" rel=\"nofollow noreferrer\">github.com/eclipse/tycho/blob/master/tycho-surefire/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1448228,"reputation":3218,"user_id":1366016,"accept_rate":60,"display_name":"Wheezil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659027028,"creation_date":1659025843,"answer_id":73156213,"question_id":73101626,"body_markdown":"A lot of the comments were hinting at a roll-your-own solution, which ultimately I had to do.  It really wasn&#39;t hard, because a colleague of mine had written Junit 5 extensions and I was able to use his expertise, which I am happy to share with the community.\r\n\r\nThis extension involves two things:\r\n\r\n - The extension class\r\n - An annotation that can be added to tests\r\n\r\nOnce you have these two things in your classpath for the test, you can annotate your test class (or a base class of your test class) like:\r\n\r\n    @ExtendWith({TimeoutExtension.class})\r\n    public class Test1Timeout {\r\n\r\nThis enables the extension.  Then annotate either a test class or individual test methods with\r\n\r\n    @Timeout(seconds=100)\r\n\r\nwhich will set the maximum time allowed for a test method to run.  If the test method fails to complete in the allotted time, two things will happen:\r\n\r\n - A dump will be printed to System.out of the stack trace of all running threads\r\n - It will call Thread.interrupt() on the thread which ran the test method, which will tend to dislodge most &quot;waiting for I/O&quot; and &quot;waiting for synchronization&quot; cases.\r\n\r\nThe extension class:\r\n\r\n    public class TimeoutExtension implements InvocationInterceptor {\r\n      private static final ScheduledExecutorService exec = Executors.newScheduledThreadPool(1);\r\n      @Override\r\n      public void interceptTestMethod(Invocation&lt;Void&gt; invocation, ReflectiveInvocationContext&lt;Method&gt; invocationContext, ExtensionContext extensionContext) throws Throwable {\r\n        Timeout timeout = invocationContext.getExecutable().getAnnotation(Timeout.class);\r\n        Class&lt;?&gt; clazz = invocationContext.getExecutable().getDeclaringClass();\r\n        while (timeout == null &amp;&amp; clazz != Object.class) {\r\n          timeout = clazz.getAnnotation(Timeout.class);\r\n          clazz = clazz.getSuperclass();\r\n        }\r\n        if (timeout == null || timeout.seconds() &lt;= 0) {\r\n          invocation.proceed();\r\n          return;\r\n        }\r\n        int seconds = timeout.seconds();\r\n        Thread caller = Thread.currentThread();\r\n        AtomicBoolean timedOut = new AtomicBoolean();\r\n        Future&lt;Void&gt; future = exec.schedule(() -&gt; {\r\n          System.out.println(&quot;**** TIMEOUT ERROR: TEST EXCEEDED &quot; + seconds + &quot; SECONDS ****&quot;);\r\n          printThreadDump();\r\n          timedOut.set(true);\r\n          caller.interrupt();\r\n          return null;\r\n        }, seconds, TimeUnit.SECONDS);\r\n        Exception caught = null;\r\n        try {\r\n          invocation.proceed();\r\n        } catch (Exception ex) {\r\n          caught = ex;\r\n        } finally {\r\n          future.cancel(true);\r\n          if (timedOut.get()) {\r\n            if (timeout.expectTimeout()) {\r\n              // awesome!\r\n            } else {\r\n              Exception ex = new TimeoutException(&quot;Test exceeded timeout of &quot; + seconds + &quot; seconds&quot;);\r\n              if (caught != null) {\r\n                ex.addSuppressed(caught);\r\n              }\r\n              throw ex;\r\n            }\r\n          } else if (caught != null) {\r\n            throw caught;\r\n          } else if (timeout.expectTimeout()) {\r\n            throw new RuntimeException(&quot;Test expected to timeout at &quot; + seconds + &quot; but didn&#39;t&quot;);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\nThe Timeout annotation\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target( { ElementType.METHOD, ElementType.TYPE })\r\n    public @interface Timeout {\r\n      /** Set to zero to disable timeout **/\r\n      int seconds();\r\n      /** Set to true if the test is expected to timeout and this is OK with you. \r\n          This is mostly for self-testing the extension.\r\n      **/\r\n      boolean expectTimeout() default false;\r\n    }\r\n\r\nand finally, the thread-dumper utility\r\n\r\n    public class TestUtils {\r\n      public static String generateThreadDump() {\r\n        final StringBuilder dump = new StringBuilder();\r\n        final ThreadMXBean threadMXBean = ManagementFactory.getThreadMXBean();\r\n        final ThreadInfo[] threadInfos = threadMXBean.getThreadInfo(threadMXBean.getAllThreadIds(), 100);\r\n        for (ThreadInfo threadInfo : threadInfos) {\r\n          dump.append(&#39;&quot;&#39;);\r\n          dump.append(threadInfo.getThreadName());\r\n          dump.append(&quot;\\&quot; &quot;);\r\n          final Thread.State state = threadInfo.getThreadState();\r\n          dump.append(&quot;\\n   java.lang.Thread.State: &quot;);\r\n          dump.append(state);\r\n          final StackTraceElement[] stackTraceElements = threadInfo.getStackTrace();\r\n          for (final StackTraceElement stackTraceElement : stackTraceElements) {\r\n            dump.append(&quot;\\n        at &quot;);\r\n            dump.append(stackTraceElement);\r\n          }\r\n          dump.append(&quot;\\n\\n&quot;);\r\n        }\r\n        return dump.toString();\r\n      }\r\n      public static void printThreadDump() {\r\n        System.out.println(generateThreadDump());\r\n      }\r\n    }\r\n\r\n","title":"How to dump all thread stacks on junit timeout -- making a Junit 5 extension","body":"<p>A lot of the comments were hinting at a roll-your-own solution, which ultimately I had to do.  It really wasn't hard, because a colleague of mine had written Junit 5 extensions and I was able to use his expertise, which I am happy to share with the community.</p>\n<p>This extension involves two things:</p>\n<ul>\n<li>The extension class</li>\n<li>An annotation that can be added to tests</li>\n</ul>\n<p>Once you have these two things in your classpath for the test, you can annotate your test class (or a base class of your test class) like:</p>\n<pre><code>@ExtendWith({TimeoutExtension.class})\npublic class Test1Timeout {\n</code></pre>\n<p>This enables the extension.  Then annotate either a test class or individual test methods with</p>\n<pre><code>@Timeout(seconds=100)\n</code></pre>\n<p>which will set the maximum time allowed for a test method to run.  If the test method fails to complete in the allotted time, two things will happen:</p>\n<ul>\n<li>A dump will be printed to System.out of the stack trace of all running threads</li>\n<li>It will call Thread.interrupt() on the thread which ran the test method, which will tend to dislodge most &quot;waiting for I/O&quot; and &quot;waiting for synchronization&quot; cases.</li>\n</ul>\n<p>The extension class:</p>\n<pre><code>public class TimeoutExtension implements InvocationInterceptor {\n  private static final ScheduledExecutorService exec = Executors.newScheduledThreadPool(1);\n  @Override\n  public void interceptTestMethod(Invocation&lt;Void&gt; invocation, ReflectiveInvocationContext&lt;Method&gt; invocationContext, ExtensionContext extensionContext) throws Throwable {\n    Timeout timeout = invocationContext.getExecutable().getAnnotation(Timeout.class);\n    Class&lt;?&gt; clazz = invocationContext.getExecutable().getDeclaringClass();\n    while (timeout == null &amp;&amp; clazz != Object.class) {\n      timeout = clazz.getAnnotation(Timeout.class);\n      clazz = clazz.getSuperclass();\n    }\n    if (timeout == null || timeout.seconds() &lt;= 0) {\n      invocation.proceed();\n      return;\n    }\n    int seconds = timeout.seconds();\n    Thread caller = Thread.currentThread();\n    AtomicBoolean timedOut = new AtomicBoolean();\n    Future&lt;Void&gt; future = exec.schedule(() -&gt; {\n      System.out.println(&quot;**** TIMEOUT ERROR: TEST EXCEEDED &quot; + seconds + &quot; SECONDS ****&quot;);\n      printThreadDump();\n      timedOut.set(true);\n      caller.interrupt();\n      return null;\n    }, seconds, TimeUnit.SECONDS);\n    Exception caught = null;\n    try {\n      invocation.proceed();\n    } catch (Exception ex) {\n      caught = ex;\n    } finally {\n      future.cancel(true);\n      if (timedOut.get()) {\n        if (timeout.expectTimeout()) {\n          // awesome!\n        } else {\n          Exception ex = new TimeoutException(&quot;Test exceeded timeout of &quot; + seconds + &quot; seconds&quot;);\n          if (caught != null) {\n            ex.addSuppressed(caught);\n          }\n          throw ex;\n        }\n      } else if (caught != null) {\n        throw caught;\n      } else if (timeout.expectTimeout()) {\n        throw new RuntimeException(&quot;Test expected to timeout at &quot; + seconds + &quot; but didn't&quot;);\n      }\n    }\n  }\n}\n</code></pre>\n<p>The Timeout annotation</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target( { ElementType.METHOD, ElementType.TYPE })\npublic @interface Timeout {\n  /** Set to zero to disable timeout **/\n  int seconds();\n  /** Set to true if the test is expected to timeout and this is OK with you. \n      This is mostly for self-testing the extension.\n  **/\n  boolean expectTimeout() default false;\n}\n</code></pre>\n<p>and finally, the thread-dumper utility</p>\n<pre><code>public class TestUtils {\n  public static String generateThreadDump() {\n    final StringBuilder dump = new StringBuilder();\n    final ThreadMXBean threadMXBean = ManagementFactory.getThreadMXBean();\n    final ThreadInfo[] threadInfos = threadMXBean.getThreadInfo(threadMXBean.getAllThreadIds(), 100);\n    for (ThreadInfo threadInfo : threadInfos) {\n      dump.append('&quot;');\n      dump.append(threadInfo.getThreadName());\n      dump.append(&quot;\\&quot; &quot;);\n      final Thread.State state = threadInfo.getThreadState();\n      dump.append(&quot;\\n   java.lang.Thread.State: &quot;);\n      dump.append(state);\n      final StackTraceElement[] stackTraceElements = threadInfo.getStackTrace();\n      for (final StackTraceElement stackTraceElement : stackTraceElements) {\n        dump.append(&quot;\\n        at &quot;);\n        dump.append(stackTraceElement);\n      }\n      dump.append(&quot;\\n\\n&quot;);\n    }\n    return dump.toString();\n  }\n  public static void printThreadDump() {\n    System.out.println(generateThreadDump());\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":1448228,"reputation":3218,"user_id":1366016,"accept_rate":60,"display_name":"Wheezil"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":475,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73156213,"answer_count":1,"score":2,"last_activity_date":1659027028,"creation_date":1658692918,"question_id":73101626,"body_markdown":"I am running tests with junit 5, and occasionally, one will hang.  Usually this is in a driver to a cloud service, but we haven&#39;t caught it in the act so we don&#39;t know exactly where.  I&#39;d like to configure junit to output a stack trace of all threads when the timeout happens.  But I don&#39;t see how that is easily done.  Sure, I can build my own timeout mechanism and install it in @BeforeEach and cancel it in @AfterEach, and it is easy to print the thread stack dump, but it would be nice if junit had something built-in like an &quot;execute this lambda on timeout&quot;.  I don&#39;t see anything like that in the assertTimeout*() functions.\r\n\r\nUPDATE: A Junit5 extension turned out to be the best solution I cound find, see my answer.","title":"How to dump all thread stacks on junit timeout -- making a Junit 5 extension","body":"<p>I am running tests with junit 5, and occasionally, one will hang.  Usually this is in a driver to a cloud service, but we haven't caught it in the act so we don't know exactly where.  I'd like to configure junit to output a stack trace of all threads when the timeout happens.  But I don't see how that is easily done.  Sure, I can build my own timeout mechanism and install it in @BeforeEach and cancel it in @AfterEach, and it is easy to print the thread stack dump, but it would be nice if junit had something built-in like an &quot;execute this lambda on timeout&quot;.  I don't see anything like that in the assertTimeout*() functions.</p>\n<p>UPDATE: A Junit5 extension turned out to be the best solution I cound find, see my answer.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1659023709,"post_id":73155514,"comment_id":129202236,"body_markdown":"take a look [here](https://stackoverflow.com/questions/46057625/externalising-spring-boot-properties-when-deploying-to-docker)","body":"take a look <a href=\"https://stackoverflow.com/questions/46057625/externalising-spring-boot-properties-when-deploying-to-docker\">here</a>"}],"answers":[{"tags":[],"owner":{"account_id":8523194,"reputation":1574,"user_id":6389337,"display_name":"sapan prajapati"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659026437,"creation_date":1659025939,"answer_id":73156230,"question_id":73155514,"body_markdown":"You can mount a volume in docker container to a path in host machine. Now when you create any application.properties file on host machine path, same will be visible and accessible to docker container as well.\r\n\r\nBelow is the plain `docker run` command to achieve it.\r\n\r\n    docker run -it --rm -v /home/k/myDocker:/k busybox sh\r\n\r\nBelow is the `docker-compose.yml` approach\r\n\r\n    version: &#39;3&#39;\r\n    \r\n    services:\r\n      prometheus:\r\n        image: prom/prometheus\r\n        volumes:\r\n          - prometheus-data:/prometheus\r\n    \r\n    volumes:\r\n      prometheus-data:\r\n        driver: local\r\n        driver_opts:\r\n          o: bind\r\n          type: none\r\n          device: /disk1/prometheus-data","title":"java how externalise application.properties from my war file","body":"<p>You can mount a volume in docker container to a path in host machine. Now when you create any application.properties file on host machine path, same will be visible and accessible to docker container as well.</p>\n<p>Below is the plain <code>docker run</code> command to achieve it.</p>\n<pre><code>docker run -it --rm -v /home/k/myDocker:/k busybox sh\n</code></pre>\n<p>Below is the <code>docker-compose.yml</code> approach</p>\n<pre><code>version: '3'\n\nservices:\n  prometheus:\n    image: prom/prometheus\n    volumes:\n      - prometheus-data:/prometheus\n\nvolumes:\n  prometheus-data:\n    driver: local\n    driver_opts:\n      o: bind\n      type: none\n      device: /disk1/prometheus-data\n</code></pre>\n"}],"owner":{"account_id":20222092,"reputation":109,"user_id":14831240,"display_name":"kiki keke"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1659026437,"creation_date":1659022682,"question_id":73155514,"body_markdown":"I was asked to externalize my properties file from my wars file and gave a file an external path, because I have a docker image with a tomcat Inside and I was asked to master the files outside my docker.\r\n\r\nhow to do that?\r\n\r\nI already know how to modify the pom to exclude my file from the build.","title":"java how externalise application.properties from my war file","body":"<p>I was asked to externalize my properties file from my wars file and gave a file an external path, because I have a docker image with a tomcat Inside and I was asked to master the files outside my docker.</p>\n<p>how to do that?</p>\n<p>I already know how to modify the pom to exclude my file from the build.</p>\n"},{"tags":["java","string","substring"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1407644845,"post_id":25225475,"comment_id":39291957,"body_markdown":"Maybe it&#39;s me, but your question and in particular your requirements seem incomplete. Will you always extract a number after the word &quot;no&quot;? Will the String contain no other &quot;no&quot; letter combinations elsewhere within it? Will the String contain no other numbers that you don&#39;t or do wish to extract? Will there always be a space before the number? Will the number always be at the end of the String? Please help clear up my muddled cloudy mind by clarifying your requirements. Also show what you&#39;ve tried and tell us how it&#39;s not working.","body":"Maybe it&#39;s me, but your question and in particular your requirements seem incomplete. Will you always extract a number after the word &quot;no&quot;? Will the String contain no other &quot;no&quot; letter combinations elsewhere within it? Will the String contain no other numbers that you don&#39;t or do wish to extract? Will there always be a space before the number? Will the number always be at the end of the String? Please help clear up my muddled cloudy mind by clarifying your requirements. Also show what you&#39;ve tried and tell us how it&#39;s not working."},{"owner":{"account_id":1017978,"reputation":15346,"user_id":1029088,"accept_rate":60,"display_name":"Bishan"},"score":0,"creation_date":1407645815,"post_id":25225475,"comment_id":39292085,"body_markdown":"@HovercraftFullOfEels Thanks for your informative comment. Yes i&#39;m always extract a number after the word `no`. The String contain no other &quot;no&quot; letter combinations elsewhere within it. String may contain other numbers and i don&#39;t need to extract them. There always be a space before the number and Yes, the number i wish to extract always be at the end of the String.","body":"@HovercraftFullOfEels Thanks for your informative comment. Yes i&#39;m always extract a number after the word <code>no</code>. The String contain no other &quot;no&quot; letter combinations elsewhere within it. String may contain other numbers and i don&#39;t need to extract them. There always be a space before the number and Yes, the number i wish to extract always be at the end of the String."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1407647646,"post_id":25225475,"comment_id":39292352,"body_markdown":"Thank you for the clarification. I&#39;m sure that you can understand why this information should have been in your question from the start.","body":"Thank you for the clarification. I&#39;m sure that you can understand why this information should have been in your question from the start."}],"answers":[{"tags":[],"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1437093282,"creation_date":1407644164,"answer_id":25225482,"question_id":25225475,"body_markdown":"    yourString.substring(yourString.indexOf(&quot;no&quot;) + 3 , yourString.length());","title":"Getting a substring from a string after a particular word","body":"<pre><code>yourString.substring(yourString.indexOf(\"no\") + 3 , yourString.length());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1626304,"reputation":169369,"user_id":1501794,"accept_rate":72,"display_name":"Rahul Tripathi"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1407644532,"creation_date":1407644532,"answer_id":25225513,"question_id":25225475,"body_markdown":"You may try this\r\n\r\n    String example = &quot;ABC Results for draw no 2888&quot;;\r\n    System.out.println(example.substring(example.lastIndexOf(&quot; &quot;) + 1));","title":"Getting a substring from a string after a particular word","body":"<p>You may try this</p>\n\n<pre><code>String example = \"ABC Results for draw no 2888\";\nSystem.out.println(example.substring(example.lastIndexOf(\" \") + 1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":386394,"reputation":9197,"user_id":744133,"accept_rate":57,"display_name":"YoYo"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1437094819,"creation_date":1437094819,"answer_id":31466920,"question_id":25225475,"body_markdown":"You always want to strive something that is easy to configure and modify. That is why I always recommend to choose [Regex Pattern](http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html) matching over other searches.\r\n\r\nExample, consider this for your example:\r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    \r\n    public class Play {\r\n      public static void main(String args[]) { \r\n        Pattern p = Pattern.compile(&quot;^(.*) Results for draw no (\\\\d+)$&quot;);\r\n        Matcher m = p.matcher(&quot;ABC Results for draw no 2888&quot;);\r\n        m.find();\r\n        String groupName = m.group(1);\r\n        String drawNumber = m.group(2);\r\n        System.out.println(&quot;Group: &quot;+groupName);\r\n        System.out.println(&quot;Draw #: &quot;+drawNumber);\r\n      }\r\n    }\r\n\r\nNow from the provided pattern, I can easily identify the useful parts. It helps me to identify problems, and I can identify additional parts in the pattern that is useful to me (I have added the group-name).\r\n\r\nAnother clear benefit is that I can store easily this pattern externally in a configuration file.\r\n","title":"Getting a substring from a string after a particular word","body":"<p>You always want to strive something that is easy to configure and modify. That is why I always recommend to choose <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\" rel=\"noreferrer\">Regex Pattern</a> matching over other searches.</p>\n\n<p>Example, consider this for your example:</p>\n\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\n\npublic class Play {\n  public static void main(String args[]) { \n    Pattern p = Pattern.compile(\"^(.*) Results for draw no (\\\\d+)$\");\n    Matcher m = p.matcher(\"ABC Results for draw no 2888\");\n    m.find();\n    String groupName = m.group(1);\n    String drawNumber = m.group(2);\n    System.out.println(\"Group: \"+groupName);\n    System.out.println(\"Draw #: \"+drawNumber);\n  }\n}\n</code></pre>\n\n<p>Now from the provided pattern, I can easily identify the useful parts. It helps me to identify problems, and I can identify additional parts in the pattern that is useful to me (I have added the group-name).</p>\n\n<p>Another clear benefit is that I can store easily this pattern externally in a configuration file.</p>\n"},{"tags":[],"owner":{"account_id":11174935,"reputation":76,"user_id":8200832,"display_name":"prachi julka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594894510,"creation_date":1594889664,"answer_id":62931049,"question_id":25225475,"body_markdown":"you can also do something like this\r\n```\r\nString demo=&quot;ABC Results for draw no 2888&quot;;\r\n\r\ndemo.substring(demo.indexOf(&quot;no&quot;) + 3)\r\n```","title":"Getting a substring from a string after a particular word","body":"<p>you can also do something like this</p>\n<pre><code>String demo=&quot;ABC Results for draw no 2888&quot;;\n\ndemo.substring(demo.indexOf(&quot;no&quot;) + 3)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6929130,"reputation":71,"user_id":5319181,"display_name":"Brujua"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1601618400,"creation_date":1601618400,"answer_id":64166803,"question_id":25225475,"body_markdown":"For anyone willing to achieve this with the ubiquitous Apache Commons StringUtils:\r\n\r\n    String parsed = StringUtils.substringAfter(yourString, &quot;no &quot;);\r\n","title":"Getting a substring from a string after a particular word","body":"<p>For anyone willing to achieve this with the ubiquitous Apache Commons StringUtils:</p>\n<pre><code>String parsed = StringUtils.substringAfter(yourString, &quot;no &quot;);\n</code></pre>\n"}],"owner":{"account_id":1017978,"reputation":15346,"user_id":1029088,"accept_rate":60,"display_name":"Bishan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128140,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":25225482,"answer_count":5,"score":25,"last_activity_date":1659025906,"creation_date":1407644078,"question_id":25225475,"body_markdown":"I have below String.\r\n\r\n    ABC Results for draw no 2888\r\n\r\nI would like to extract `2888` from here. That means, I need to extract characters after `no` in above string.\r\n\r\nI&#39;m always extract the number after the word `no`. The String contain no other `no` letter combinations elsewhere within it. String may contain other numbers and I don&#39;t need to extract them. Always there will be a space before the number and the number I wish to extract always be at the end of the String.\r\n\r\nHow could I achieve this ?","title":"Getting a substring from a string after a particular word","body":"<p>I have below String.</p>\n\n<pre><code>ABC Results for draw no 2888\n</code></pre>\n\n<p>I would like to extract <code>2888</code> from here. That means, I need to extract characters after <code>no</code> in above string.</p>\n\n<p>I'm always extract the number after the word <code>no</code>. The String contain no other <code>no</code> letter combinations elsewhere within it. String may contain other numbers and I don't need to extract them. Always there will be a space before the number and the number I wish to extract always be at the end of the String.</p>\n\n<p>How could I achieve this ?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8842,"page":1150,"page_size":100}
