{"items":[{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":25397590,"reputation":126,"user_id":19207621,"display_name":"itfedorovsa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653733119,"creation_date":1653732678,"answer_id":72414765,"question_id":72414714,"body_markdown":"I guess you need to use File-Import-Existing_project into the workspace. (apply to each new project). Browse to the location where the .classpath and .project files locates in your project.","title":"How do I refresh the projects that I cannot see in the Eclipse IDE?","body":"<p>I guess you need to use File-Import-Existing_project into the workspace. (apply to each new project). Browse to the location where the .classpath and .project files locates in your project.</p>\n"}],"owner":{"account_id":24926587,"reputation":3,"user_id":18794257,"display_name":"Innocent Grim Reaper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1653734197,"accepted_answer_id":72414765,"answer_count":1,"score":0,"last_activity_date":1653733119,"creation_date":1653732154,"question_id":72414714,"body_markdown":"So I copied a bunch of java projects into my eclipse-workspace, but I cannot refresh the projects because they cannot be seen in the Eclipse. Is there even a way to do it?","title":"How do I refresh the projects that I cannot see in the Eclipse IDE?","body":"<p>So I copied a bunch of java projects into my eclipse-workspace, but I cannot refresh the projects because they cannot be seen in the Eclipse. Is there even a way to do it?</p>\n"},{"tags":["java","perl"],"comments":[{"owner":{"account_id":9396,"reputation":14580,"user_id":17335,"display_name":"Chii"},"score":0,"creation_date":1226161872,"post_id":274840,"comment_id":127799,"body_markdown":"is there a need to pass data around from perl back to java? that is usually where problems/difficulties come in, otherwise, it&#39;d be a matter of opening a process and executing perl script.","body":"is there a need to pass data around from perl back to java? that is usually where problems/difficulties come in, otherwise, it&#39;d be a matter of opening a process and executing perl script."}],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":1,"up_vote_count":19,"is_accepted":true,"score":18,"last_activity_date":1226178416,"creation_date":1226159548,"answer_id":274849,"question_id":274840,"body_markdown":"[Inline-Java][1] is the usual library to call java from Perl, and this [post propose a **org.perl.java**][2] module which should allow calling Perl from Java, as asked.\r\n\r\nHowever, because of the unpredictability of the JNI implementations for different\r\nJVMs it is difficult to say what combinations of JVM and Perl will work. Typically, what is required is Perl with MULTIPLICITY, and threads compiled in. That means he uses a custom built Perl.\r\n\r\nOtherwise, **[Inline::Java::Callback][3]** allows you to call Perl functions from Java. To do this you need to create an &lt;code&gt;**org.perl.inline.java.InlinePerlCaller**&lt;/code&gt; object. Here is a example of a typical use:\r\n\r\n    use Inline Java =&gt; &lt;&lt;END ;\r\n    import java.util.* ;\r\n    import org.perl.inline.java.* ;\r\n    \r\n    class Pod_regexp extends InlineJavaPerlCaller {\r\n        public Pod_regexp() throws InlineJavaException {\r\n        }\r\n    \r\n        public boolean match(String target, String pattern)\r\n            throws InlineJavaException {\r\n            try {\r\n                String m = (String)CallPerlSub(&quot;main::regexp&quot;,\r\n                new Object [] {target, pattern}) ;\r\n    \r\n                if (m.equals(&quot;1&quot;)){\r\n                return true ;\r\n            }\r\n        }\r\n        catch (InlineJavaPerlException pe){\r\n            // $@ is in pe.GetObject()\r\n        }\r\n    \r\n        return false ;\r\n        }\r\n    }\r\n    END\r\n    \r\n    my $re = new Pod_regexp() ;\r\n    my $match = $re-&gt;match(&quot;Inline::Java&quot;, &quot;^Inline&quot;) ;\r\n    print($match . &quot;n&quot;) ; # prints 1\r\n    \r\n    sub regexp {\r\n        my $target = shift ;\r\n        my $pattern = shift ;\r\n    \r\n        return ($target =~ /$pattern/) ;\r\n    } \r\n\r\n  [1]: http://search.cpan.org/~patl/Inline-Java-0.52/Java.pod\r\n  [2]: http://www.piersharding.com/blog/archives/2004/04/calling_perl_fr.html\r\n  [3]: http://linux.wareseeker.com/Programming/inline-java-callback-0.52.zip/326355","title":"How can I call Perl from Java?","body":"<p><a href=\"http://search.cpan.org/~patl/Inline-Java-0.52/Java.pod\" rel=\"noreferrer\">Inline-Java</a> is the usual library to call java from Perl, and this <a href=\"http://www.piersharding.com/blog/archives/2004/04/calling_perl_fr.html\" rel=\"noreferrer\">post propose a <strong>org.perl.java</strong></a> module which should allow calling Perl from Java, as asked.</p>\n\n<p>However, because of the unpredictability of the JNI implementations for different\nJVMs it is difficult to say what combinations of JVM and Perl will work. Typically, what is required is Perl with MULTIPLICITY, and threads compiled in. That means he uses a custom built Perl.</p>\n\n<p>Otherwise, <strong><a href=\"http://linux.wareseeker.com/Programming/inline-java-callback-0.52.zip/326355\" rel=\"noreferrer\">Inline::Java::Callback</a></strong> allows you to call Perl functions from Java. To do this you need to create an <code><strong>org.perl.inline.java.InlinePerlCaller</strong></code> object. Here is a example of a typical use:</p>\n\n<pre><code>use Inline Java =&gt; &lt;&lt;END ;\nimport java.util.* ;\nimport org.perl.inline.java.* ;\n\nclass Pod_regexp extends InlineJavaPerlCaller {\n    public Pod_regexp() throws InlineJavaException {\n    }\n\n    public boolean match(String target, String pattern)\n        throws InlineJavaException {\n        try {\n            String m = (String)CallPerlSub(\"main::regexp\",\n            new Object [] {target, pattern}) ;\n\n            if (m.equals(\"1\")){\n            return true ;\n        }\n    }\n    catch (InlineJavaPerlException pe){\n        // $@ is in pe.GetObject()\n    }\n\n    return false ;\n    }\n}\nEND\n\nmy $re = new Pod_regexp() ;\nmy $match = $re-&gt;match(\"Inline::Java\", \"^Inline\") ;\nprint($match . \"n\") ; # prints 1\n\nsub regexp {\n    my $target = shift ;\n    my $pattern = shift ;\n\n    return ($target =~ /$pattern/) ;\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":15119,"reputation":93923,"user_id":31610,"accept_rate":87,"display_name":"Geo"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1226178465,"creation_date":1226160713,"answer_id":274877,"question_id":274840,"body_markdown":"I don&#39;t know how stable will that be ,or how well maintained it is, so, another option would be to write a script that does something your application will need and then execute that script from Java. Not the most elegant way, but it works.","title":"How can I call Perl from Java?","body":"<p>I don't know how stable will that be ,or how well maintained it is, so, another option would be to write a script that does something your application will need and then execute that script from Java. Not the most elegant way, but it works.</p>\n"},{"tags":[],"owner":{"account_id":16124,"reputation":24617,"user_id":34820,"accept_rate":84,"display_name":"Olie"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1226161166,"creation_date":1226161166,"answer_id":274886,"question_id":274840,"body_markdown":"Is this not what Runtime.exec() is for?\r\n\r\n    Runtime.getRuntime().exec(&quot;/usr/bin/perl myPerl.pl&quot;);\r\n\r\nOr am I misunderstanding the question?","title":"How can I call Perl from Java?","body":"<p>Is this not what Runtime.exec() is for?</p>\n\n<pre><code>Runtime.getRuntime().exec(\"/usr/bin/perl myPerl.pl\");\n</code></pre>\n\n<p>Or am I misunderstanding the question?</p>\n"},{"tags":[],"owner":{"account_id":2733,"reputation":14113,"user_id":3839,"accept_rate":70,"display_name":"Matthew Watson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1226186036,"creation_date":1226186036,"answer_id":275356,"question_id":274840,"body_markdown":"I&#39;ve used Inline::Java a bit, and found it a bit fiddly, if I had my time over, I&#39;d probably reimplement using web services and call the perl code that way.","title":"How can I call Perl from Java?","body":"<p>I've used Inline::Java a bit, and found it a bit fiddly, if I had my time over, I'd probably reimplement using web services and call the perl code that way.</p>\n"},{"tags":[],"owner":{},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1226404831,"creation_date":1226404831,"answer_id":280711,"question_id":274840,"body_markdown":"I found an implementation on JavaWorld by Robert Lawson, which uses XML-RPC to call Perl routines from your Java code: [Call Perl routines from Java][1]\r\n\r\n  [1]: http://www.javaworld.com/javaworld/jw-10-2004/jw-1011-xmlrpc.html","title":"How can I call Perl from Java?","body":"<p>I found an implementation on JavaWorld by Robert Lawson, which uses XML-RPC to call Perl routines from your Java code: <a href=\"http://www.javaworld.com/javaworld/jw-10-2004/jw-1011-xmlrpc.html\" rel=\"nofollow noreferrer\">Call Perl routines from Java</a></p>\n"},{"tags":[],"owner":{"account_id":16279,"reputation":12487,"user_id":35264,"accept_rate":74,"display_name":"Sarel Botha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1275915678,"creation_date":1275915678,"answer_id":2989683,"question_id":274840,"body_markdown":"Sleep is a scripting language with an interpreter that runs in the JVM. From what I understand the Sleep language is basically Perl with some extensions. Your code may be able to run in Sleep. If it does you can instantiate the interpreter, run the code and retrieve the result.","title":"How can I call Perl from Java?","body":"<p>Sleep is a scripting language with an interpreter that runs in the JVM. From what I understand the Sleep language is basically Perl with some extensions. Your code may be able to run in Sleep. If it does you can instantiate the interpreter, run the code and retrieve the result.</p>\n"},{"tags":[],"owner":{"account_id":241880,"reputation":6756,"user_id":512994,"accept_rate":96,"display_name":"wulfgarpro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1311644605,"creation_date":1311644605,"answer_id":6824368,"question_id":274840,"body_markdown":"I know this is old, but I recently came across the same needs. I found [JPerl](http://www.javainc.com/projects/jperl/) more convenient then `Inline::Java::PerlInterpreter`.","title":"How can I call Perl from Java?","body":"<p>I know this is old, but I recently came across the same needs. I found <a href=\"http://www.javainc.com/projects/jperl/\" rel=\"nofollow\">JPerl</a> more convenient then <code>Inline::Java::PerlInterpreter</code>.</p>\n"},{"tags":[],"owner":{"account_id":99410,"reputation":2278,"user_id":268539,"display_name":"&#216;yvind Skaar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1311673461,"creation_date":1311673461,"answer_id":6828143,"question_id":274840,"body_markdown":"Guess it really depends on what your perl code is, and what you&#39;re trying to do.. \r\n\r\nIf just using exec() is too simple, something like [gearman][1] could be helpful  \r\n\r\n\r\n  [1]: http://gearman.org/index.php#introduction","title":"How can I call Perl from Java?","body":"<p>Guess it really depends on what your perl code is, and what you're trying to do.. </p>\n\n<p>If just using exec() is too simple, something like <a href=\"http://gearman.org/index.php#introduction\" rel=\"nofollow\">gearman</a> could be helpful  </p>\n"},{"tags":[],"owner":{"account_id":50693,"reputation":1861,"user_id":151261,"accept_rate":92,"display_name":"sventechie"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1653732843,"creation_date":1375214032,"answer_id":17956150,"question_id":274840,"body_markdown":"[Rakudo][1] allows you to run Perl6 inside a JVM, and there is a [Perl5 add-on][2] that allows you to run most old code, although no XS of course. There is also [JERL][3] that runs current microperl inside the JVM. It depends a lot on what you&#39;re looking to do, but those are worth checking out.\r\n\r\n\r\n  [1]: http://rakudo.org/\r\n  [2]: https://github.com/rakudo-p5/v5/\r\n  [3]: https://github.com/behnaaz/jerl","title":"How can I call Perl from Java?","body":"<p><a href=\"http://rakudo.org/\" rel=\"nofollow noreferrer\">Rakudo</a> allows you to run Perl6 inside a JVM, and there is a <a href=\"https://github.com/rakudo-p5/v5/\" rel=\"nofollow noreferrer\">Perl5 add-on</a> that allows you to run most old code, although no XS of course. There is also <a href=\"https://github.com/behnaaz/jerl\" rel=\"nofollow noreferrer\">JERL</a> that runs current microperl inside the JVM. It depends a lot on what you're looking to do, but those are worth checking out.</p>\n"}],"owner":{"account_id":8241,"reputation":39593,"user_id":14744,"accept_rate":53,"display_name":"Jared"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30483,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":274849,"answer_count":9,"score":16,"last_activity_date":1653732843,"creation_date":1226159048,"question_id":274840,"body_markdown":"I have a Perl module that I would like to use from Java. Is there a way to call this code using either ActiveState Perl on Windows or the generic Perl that comes with Linux? I have found references to JPL but it doesn’t appear to be maintained anymore.","title":"How can I call Perl from Java?","body":"<p>I have a Perl module that I would like to use from Java. Is there a way to call this code using either ActiveState Perl on Windows or the generic Perl that comes with Linux? I have found references to JPL but it doesn’t appear to be maintained anymore.</p>\n"},{"tags":["java","android","xml","inheritance","jackson"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1653740777,"post_id":72414146,"comment_id":127927558,"body_markdown":"You need to tell Jackson what sub-types your class `B` has and how to name them. Jackson also needs to add a field where the actual class type is stored in. See this question how to add the correct annotations: https://stackoverflow.com/questions/29707933/fasterxml-jacksons-json-polymorphism-with-jsonsubtypes-and-jsontypeinfo","body":"You need to tell Jackson what sub-types your class <code>B</code> has and how to name them. Jackson also needs to add a field where the actual class type is stored in. See this question how to add the correct annotations: <a href=\"https://stackoverflow.com/questions/29707933/fasterxml-jacksons-json-polymorphism-with-jsonsubtypes-and-jsontypeinfo\" title=\"fasterxml jacksons json polymorphism with jsonsubtypes and jsontypeinfo\">stackoverflow.com/questions/29707933/&hellip;</a>"},{"owner":{"account_id":2975755,"reputation":26,"user_id":2526823,"display_name":"Kai Frerich"},"score":0,"creation_date":1653741618,"post_id":72414146,"comment_id":127927723,"body_markdown":"Thanks, but the field storing the class type is what I don&#39;t want! I cannot change the XML structure, as the document is given!","body":"Thanks, but the field storing the class type is what I don&#39;t want! I cannot change the XML structure, as the document is given!"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1653744602,"post_id":72414146,"comment_id":127928286,"body_markdown":"Then you need to write a custom deserializer for a basic deserializer see e.g. https://stackoverflow.com/a/50123297/150978","body":"Then you need to write a custom deserializer for a basic deserializer see e.g. <a href=\"https://stackoverflow.com/a/50123297/150978\">stackoverflow.com/a/50123297/150978</a>"}],"owner":{"account_id":2975755,"reputation":26,"user_id":2526823,"display_name":"Kai Frerich"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653732786,"creation_date":1653726928,"question_id":72414146,"body_markdown":"I have a given XML file that I want to parse on an Android device. Since an XmlPullParser has proven too cumbersome to maintain, I would prefer to use Jackson for easier deserialization. JAXB is not supported on Android devices as internal sun.* classes are missing, so it has to be Jackson, as far as I understand.\r\n\r\nThe main object (of type A) is a container for an arbitrary number of elements, each of which is an instance of a subclass of the abstract class B. All child elements of A are to be deserialized into a list of B objects.\r\n\r\nThis is the XML structure:\r\n```\r\n&lt;A&gt;\r\n  &lt;B1/&gt;\r\n  &lt;B2/&gt;\r\n&lt;/A&gt;\r\n```\r\nAnd my POJO class structure looks like this:\r\n```\r\npublic class A { public List&lt;B&gt; list; }\r\npublic abstract class B {}\r\npublic class B1 extends B {}\r\npublic class B2 extends B {}\r\n```\r\nAnd this is my Parser code:\r\n```\r\nInputStream in = context.getResources().openRawResource(R.raw.my_xml_file);\r\nA a = new XmlMapper().readValue(in, A.class));\r\n```\r\nPretty straightforward. But how do I have to annotate these classes with Jackson?\r\n\r\nThere are a lot of examples out there how to do it in JSON, and I tried to use @JsonTypeInfo and @JsonSubTypes to give the name of the subclasses.\r\n```\r\npublic class A {\r\n  @JsonTypeInfo(use=JsonTypeInfo.Id.NAME, include=JsonTypeInfo.As.PROPERTY, property=&quot;type&quot;)\r\n    @JsonSubTypes({\r\n      @JsonSubTypes.Type(name=&quot;B1&quot;, value=B1.class),\r\n      @JsonSubTypes.Type(name=&quot;B2&quot;, value=B2.class)\r\n    })\r\n  public List&lt;B&gt; list;\r\n}\r\npublic abstract class B {}\r\npublic class B1 extends B { @XmlTransient public final String type=&quot;B1&quot;; }\r\npublic class B2 extends B { @XmlTransient public final String type=&quot;B2&quot;; }\r\n```\r\nBut this uses a type property, which I do not have and do not want. I want the element name to be used as type information. If I use JsonTypeInfo.As.WRAPPER_OBJECT, it expects an additional XML element, so my XML would have to look like this:\r\n```\r\n&lt;A&gt;\r\n  &lt;B&gt;&lt;B1/&gt;&lt;/B&gt;\r\n  &lt;B&gt;&lt;B2/&gt;&lt;/B&gt;\r\n&lt;/A&gt;\r\n```\r\nWhat am I missing?","title":"Deserializing a list of subclasses in XML with Jackson on Android","body":"<p>I have a given XML file that I want to parse on an Android device. Since an XmlPullParser has proven too cumbersome to maintain, I would prefer to use Jackson for easier deserialization. JAXB is not supported on Android devices as internal sun.* classes are missing, so it has to be Jackson, as far as I understand.</p>\n<p>The main object (of type A) is a container for an arbitrary number of elements, each of which is an instance of a subclass of the abstract class B. All child elements of A are to be deserialized into a list of B objects.</p>\n<p>This is the XML structure:</p>\n<pre><code>&lt;A&gt;\n  &lt;B1/&gt;\n  &lt;B2/&gt;\n&lt;/A&gt;\n</code></pre>\n<p>And my POJO class structure looks like this:</p>\n<pre><code>public class A { public List&lt;B&gt; list; }\npublic abstract class B {}\npublic class B1 extends B {}\npublic class B2 extends B {}\n</code></pre>\n<p>And this is my Parser code:</p>\n<pre><code>InputStream in = context.getResources().openRawResource(R.raw.my_xml_file);\nA a = new XmlMapper().readValue(in, A.class));\n</code></pre>\n<p>Pretty straightforward. But how do I have to annotate these classes with Jackson?</p>\n<p>There are a lot of examples out there how to do it in JSON, and I tried to use @JsonTypeInfo and @JsonSubTypes to give the name of the subclasses.</p>\n<pre><code>public class A {\n  @JsonTypeInfo(use=JsonTypeInfo.Id.NAME, include=JsonTypeInfo.As.PROPERTY, property=&quot;type&quot;)\n    @JsonSubTypes({\n      @JsonSubTypes.Type(name=&quot;B1&quot;, value=B1.class),\n      @JsonSubTypes.Type(name=&quot;B2&quot;, value=B2.class)\n    })\n  public List&lt;B&gt; list;\n}\npublic abstract class B {}\npublic class B1 extends B { @XmlTransient public final String type=&quot;B1&quot;; }\npublic class B2 extends B { @XmlTransient public final String type=&quot;B2&quot;; }\n</code></pre>\n<p>But this uses a type property, which I do not have and do not want. I want the element name to be used as type information. If I use JsonTypeInfo.As.WRAPPER_OBJECT, it expects an additional XML element, so my XML would have to look like this:</p>\n<pre><code>&lt;A&gt;\n  &lt;B&gt;&lt;B1/&gt;&lt;/B&gt;\n  &lt;B&gt;&lt;B2/&gt;&lt;/B&gt;\n&lt;/A&gt;\n</code></pre>\n<p>What am I missing?</p>\n"},{"tags":["java","sqlite","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1653579924,"post_id":72393450,"comment_id":127890700,"body_markdown":"That doesn&#39;t sound right, if the database does not exist, it should throw an exception.","body":"That doesn&#39;t sound right, if the database does not exist, it should throw an exception."},{"owner":{"account_id":20952722,"reputation":121,"user_id":15394010,"display_name":"devor110"},"score":0,"creation_date":1653588419,"post_id":72393450,"comment_id":127893591,"body_markdown":"No exception was thrown, but an empty points.db was created when I tried this","body":"No exception was thrown, but an empty points.db was created when I tried this"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1653596735,"post_id":72393450,"comment_id":127896278,"body_markdown":"Ah, right, SQLite creates a database if it doesn&#39;t exist yet.","body":"Ah, right, SQLite creates a database if it doesn&#39;t exist yet."}],"answers":[{"tags":[],"owner":{"account_id":20952722,"reputation":121,"user_id":15394010,"display_name":"devor110"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653579939,"creation_date":1653577269,"answer_id":72393902,"question_id":72393450,"body_markdown":"Did some digging around and found a solution.\r\n\r\n```java\r\npublic Connection connect() {\r\n    try {\r\n        String url = &quot;jdbc:sqlite:C:Program Files/sqlite/points.db&quot;;\r\n        // create a connection to the database\r\n        Connection connection = DriverManager.getConnection(url);\r\n        if( connection.isValid(100) ) {\r\n            String sql =  &quot;SELECT * FROM sqlite_master where type = ? and tbl_name = ? &quot;;\r\n            PreparedStatement preparedStatement = connection.prepareStatement(sql);\r\n            preparedStatement.setString(1, &quot;table&quot;);\r\n            preparedStatement.setString(2, &quot;points&quot;);\r\n            ResultSet resultSet = preparedStatement.executeQuery();\r\n            if (resultSet.next() &amp;&amp; resultSet.getString(&quot;name&quot;).equals(&quot;points&quot;) ) {\r\n                resultSet.close();\r\n                return connection;\r\n            }\r\n        }\r\n        return null;\r\n    } catch (SQLException e) {\r\n        System.out.println(&quot;Database connection failed&quot; + e.getMessage());\r\n        return null;\r\n    }\r\n}\r\n```  \r\nThe query to check what tables are available likely doesn&#39;t need to be a prepared statement.","title":"SQLite3 in Java - How can I determine if my connection is valid and a table exists?","body":"<p>Did some digging around and found a solution.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Connection connect() {\n    try {\n        String url = &quot;jdbc:sqlite:C:Program Files/sqlite/points.db&quot;;\n        // create a connection to the database\n        Connection connection = DriverManager.getConnection(url);\n        if( connection.isValid(100) ) {\n            String sql =  &quot;SELECT * FROM sqlite_master where type = ? and tbl_name = ? &quot;;\n            PreparedStatement preparedStatement = connection.prepareStatement(sql);\n            preparedStatement.setString(1, &quot;table&quot;);\n            preparedStatement.setString(2, &quot;points&quot;);\n            ResultSet resultSet = preparedStatement.executeQuery();\n            if (resultSet.next() &amp;&amp; resultSet.getString(&quot;name&quot;).equals(&quot;points&quot;) ) {\n                resultSet.close();\n                return connection;\n            }\n        }\n        return null;\n    } catch (SQLException e) {\n        System.out.println(&quot;Database connection failed&quot; + e.getMessage());\n        return null;\n    }\n}\n</code></pre>\n<p>The query to check what tables are available likely doesn't need to be a prepared statement.</p>\n"},{"tags":[],"owner":{"account_id":9524880,"reputation":458,"user_id":7078384,"accept_rate":75,"display_name":"Fredy Fischer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653732773,"creation_date":1653732773,"answer_id":72414772,"question_id":72393450,"body_markdown":"To be independent of the underlying DB-engine, you can use Java MetaData to find out if an object exists.  To find a table, you can use something like this:  ( I&#39;ve copied the code above)\r\n\r\n    public Connection connect() {\r\n\r\n    // The database to connect to\r\n    String database = &quot;C:Program Files/sqlite/points.db&quot;;\r\n    \r\n    // The tablename, we are checking for\r\n    String tableName = &quot;points&quot;;\r\n   \r\n    // TableTypes might be: &quot;TABLE&quot;, &quot;VIEW&quot;, &quot;ALIAS&quot;,&quot;SYSTEM TABLE&quot;, &quot;GLOBAL TEMPORARY&quot;, &quot;LOCAL TEMPORARY&quot;, &quot;ALIAS&quot;, &quot;SYNONYM&quot; to find all\r\n    // in our case, we are just interested in the table\r\n    String[] tableTypes = {&quot;TABLE&quot;};\r\n\r\n    ResultSet rs = null;\r\n\r\n    try {\r\n        String url = &quot;jdbc:sqlite:&quot; + database ;\r\n        // create a connection to the database\r\n        Connection connection = DriverManager.getConnection(url);\r\n        if( connection.isValid(100) ) {\r\n\r\n           // get Information about the Database\r\n           DatabaseMetaData dmd = connection.getMetaData(); \r\n\r\n           // I&#39;m not experienced with SQLite, evtl. database can be null as well                 \r\n           rs = dmd.getTables(database,null,tableName,tableTypes);\r\n\r\n           // is there a result?\r\n           if ( rs.next) {\r\n              return connection;\r\n           ) else {\r\n             // the Table does not exist, so we can create it and return the connection or directly return null\r\n             \r\n           }\r\n        }\r\n        return null;\r\n    } catch (SQLException e) {\r\n        System.out.println(&quot;Database connection failed&quot; + e.getMessage());\r\n        return null;\r\n    } finally {\r\n        if ( rs != null ) {\r\n          try {\r\n            rs.close();\r\n          } catch ( SQLException sqlex ) {\r\n              System.out.println(&quot;Exception while closing resultset. &quot; + sqlex.getMessage();\r\n          }\r\n        }\r\n    }\r\n    }\r\n\r\n","title":"SQLite3 in Java - How can I determine if my connection is valid and a table exists?","body":"<p>To be independent of the underlying DB-engine, you can use Java MetaData to find out if an object exists.  To find a table, you can use something like this:  ( I've copied the code above)</p>\n<pre><code>public Connection connect() {\n\n// The database to connect to\nString database = &quot;C:Program Files/sqlite/points.db&quot;;\n\n// The tablename, we are checking for\nString tableName = &quot;points&quot;;\n\n// TableTypes might be: &quot;TABLE&quot;, &quot;VIEW&quot;, &quot;ALIAS&quot;,&quot;SYSTEM TABLE&quot;, &quot;GLOBAL TEMPORARY&quot;, &quot;LOCAL TEMPORARY&quot;, &quot;ALIAS&quot;, &quot;SYNONYM&quot; to find all\n// in our case, we are just interested in the table\nString[] tableTypes = {&quot;TABLE&quot;};\n\nResultSet rs = null;\n\ntry {\n    String url = &quot;jdbc:sqlite:&quot; + database ;\n    // create a connection to the database\n    Connection connection = DriverManager.getConnection(url);\n    if( connection.isValid(100) ) {\n\n       // get Information about the Database\n       DatabaseMetaData dmd = connection.getMetaData(); \n\n       // I'm not experienced with SQLite, evtl. database can be null as well                 \n       rs = dmd.getTables(database,null,tableName,tableTypes);\n\n       // is there a result?\n       if ( rs.next) {\n          return connection;\n       ) else {\n         // the Table does not exist, so we can create it and return the connection or directly return null\n         \n       }\n    }\n    return null;\n} catch (SQLException e) {\n    System.out.println(&quot;Database connection failed&quot; + e.getMessage());\n    return null;\n} finally {\n    if ( rs != null ) {\n      try {\n        rs.close();\n      } catch ( SQLException sqlex ) {\n          System.out.println(&quot;Exception while closing resultset. &quot; + sqlex.getMessage();\n      }\n    }\n}\n}\n</code></pre>\n"}],"owner":{"account_id":20952722,"reputation":121,"user_id":15394010,"display_name":"devor110"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653732773,"creation_date":1653575281,"question_id":72393450,"body_markdown":"I&#39;m making a game in Java where I store some data in a single SQLite table. Since a db connection isn&#39;t mandatory for the game, I want it playable if some error happens, but while hiding anything that would lead to a database query or update. Therefore I want to determine if the connection is valid and if my table is present.  \r\n  \r\nHere&#39;s my existing code for connecting to it:  \r\n```java\r\npublic Connection connect() {\r\n    try {\r\n        String url = &quot;jdbc:sqlite:C:Program Files/sqlite/points.db&quot;;\r\n        // create a connection to the database\r\n        Connection connection = DriverManager.getConnection(url);\r\n        if( connection.isValid(100)) {\r\n            return connection;\r\n        }\r\n        return null;\r\n    } catch (SQLException e) {\r\n        System.out.println(&quot;Database connection failed&quot; + e.getMessage());\r\n        return null;\r\n    }\r\n}\r\n```  \r\nHowever this still returns the connection, even if `points.db` does not exist at the specified location. ","title":"SQLite3 in Java - How can I determine if my connection is valid and a table exists?","body":"<p>I'm making a game in Java where I store some data in a single SQLite table. Since a db connection isn't mandatory for the game, I want it playable if some error happens, but while hiding anything that would lead to a database query or update. Therefore I want to determine if the connection is valid and if my table is present.</p>\n<p>Here's my existing code for connecting to it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Connection connect() {\n    try {\n        String url = &quot;jdbc:sqlite:C:Program Files/sqlite/points.db&quot;;\n        // create a connection to the database\n        Connection connection = DriverManager.getConnection(url);\n        if( connection.isValid(100)) {\n            return connection;\n        }\n        return null;\n    } catch (SQLException e) {\n        System.out.println(&quot;Database connection failed&quot; + e.getMessage());\n        return null;\n    }\n}\n</code></pre>\n<p>However this still returns the connection, even if <code>points.db</code> does not exist at the specified location.</p>\n"},{"tags":["java","multithreading","java-stream","guava","multimap"],"comments":[{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1653720228,"post_id":72413416,"comment_id":127923972,"body_markdown":"Does it have to be a separate operation? Can you do it when you insert a mapping into `forwardMap`?","body":"Does it have to be a separate operation? Can you do it when you insert a mapping into <code>forwardMap</code>?"},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1653720339,"post_id":72413416,"comment_id":127923992,"body_markdown":"And if I understand it right, you aren&#39;t updating `reverseMap` when you remove from the `forwardMap`.","body":"And if I understand it right, you aren&#39;t updating <code>reverseMap</code> when you remove from the <code>forwardMap</code>."},{"owner":{"account_id":25410472,"reputation":21,"user_id":19218364,"display_name":"c21at"},"score":0,"creation_date":1653720880,"post_id":72413416,"comment_id":127924060,"body_markdown":"@user7 Thanks for your comment. It is preferable that I do the removal at insertion. I&#39;d also like to update the `reverseMap` at insertion. However, I don&#39;t know how to correctly implement such update.","body":"@user7 Thanks for your comment. It is preferable that I do the removal at insertion. I&#39;d also like to update the <code>reverseMap</code> at insertion. However, I don&#39;t know how to correctly implement such update."},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":1,"creation_date":1653721879,"post_id":72413416,"comment_id":127924180,"body_markdown":"How do inserts happen? How are you keeping both maps updated?","body":"How do inserts happen? How are you keeping both maps updated?"},{"owner":{"account_id":25410472,"reputation":21,"user_id":19218364,"display_name":"c21at"},"score":0,"creation_date":1653724255,"post_id":72413416,"comment_id":127924534,"body_markdown":"@user7 I have edited the post to include insertion. I&#39;m not keeping the `reverseMap` updated and was only using it to remove `Object1` that satisfies the requirements.","body":"@user7 I have edited the post to include insertion. I&#39;m not keeping the <code>reverseMap</code> updated and was only using it to remove <code>Object1</code> that satisfies the requirements."},{"owner":{"account_id":25410472,"reputation":21,"user_id":19218364,"display_name":"c21at"},"score":0,"creation_date":1653733003,"post_id":72413416,"comment_id":127926024,"body_markdown":"@user7 I made another edit and self-answered my first question. Now the method will update both `forwardMap` and `reverseMap` on insertion, and removes excessive objects. Still, I&#39;d appreciate your insight about whether it&#39;s possible to make the method thread-safe without locking both maps.","body":"@user7 I made another edit and self-answered my first question. Now the method will update both <code>forwardMap</code> and <code>reverseMap</code> on insertion, and removes excessive objects. Still, I&#39;d appreciate your insight about whether it&#39;s possible to make the method thread-safe without locking both maps."},{"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"score":0,"creation_date":1653737305,"post_id":72413416,"comment_id":127926875,"body_markdown":"@c21at share the answer please if you managed to solve it","body":"@c21at share the answer please if you managed to solve it"}],"owner":{"account_id":25410472,"reputation":21,"user_id":19218364,"display_name":"c21at"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1653732756,"creation_date":1653719252,"question_id":72413416,"body_markdown":"I have a `forwardMap` that defines a one-to-one relationship and uses `ListMultimap` to store the inverted `forwardMap` that has a one-to-many relationship:\r\n```\r\nclass Object1 { // with custom equals and hashCode }\r\nclass Object2 { // with custom equals and hashCode }\r\n\r\nclass ObjectManager {\r\n  Map&lt;Object1, Object2&gt; forwardMap = \r\n    Collections.synchronizedMap(new LinkedHashMap&lt;&gt;());\r\n  ListMultimap&lt;Object2, Object1&gt; reverseMap = \r\n    Multimaps.invertFrom(Multimaps.forMap(forwardMap), LinkedListMultimap.create());\r\n}\r\n```\r\n\r\nI&#39;d like to implement `put` method in `ObjectManager` that\r\n* puts an `Object1` into both Maps. \r\n* removes existing `Object1` by insertion order from both Maps if there are too many `Object1` mapped to the same `Object2`.\r\n\r\n```\r\n@Synchronized\r\npublic void put(Object1 newForwardKey) {\r\n  Optional&lt;Object1&gt; _closestForwardKey = \r\n    forwardMap.keySet().stream()\r\n      .min(Comparator.comparingDouble(o -&gt; calculateDistance(o, newForwardKey)));\r\n\r\n  // assign matchedForwardValue to a new Object2 by default\r\n  Object2 matchedForwardValue = new Object2();\r\n  \r\n  if (_closestForwardKey.isPresent()) {\r\n    Object1 closestForwardKey = _closestForwardKey.get();\r\n    // reset forwardValue only if closestForwardKey passes some other matching\r\n    if (someOtherMatching(closestForwardKey, newForwardKey))\r\n      matchedForwardValue = forwardMap.get(closestForwardKey);\r\n  }\r\n\r\n  // create appropriate entries for each map\r\n  forwardMap.put(newForwardKey, matchedForwardValue);\r\n  reverseMap.put(matchedForwardValue, newForwardKey);\r\n\r\n  // remove excessive Object1\r\n  // modification to the forwardKeysByValue List view is reflected in reverseMap\r\n  List&lt;Object1&gt; forwardKeysByValue = reverseMap.get(forwardValue);\r\n  while (forwardKeysByValue.size() &gt; MAX_REVERSE_VALUE_COUNT)\r\n    forwardMap.remove(forwardKeysByValue.remove(0));\r\n}\r\n```\r\nI did not test it in a multithreaded environment. Running the method in a single thread seems to have the correct behavior.\r\n\r\nTest code:\r\n```\r\nObject2 o21 = new Object2(1);\r\nObject2 o22 = new Object2(2);\r\nfor (int i = 0; i &lt; 10; i++) {\r\n  Object1 o11 = new Object1(i);\r\n  Object1 o12 = new Object1(i+10);\r\n\r\n  objectManagerInstance.put(o11); // assume always match o21\r\n  objectManagerInstance.put(o12); // assume always match o22\r\n}\r\n\r\n```\r\nContents of both Maps:\r\n```\r\n// forwardMap\r\nObject1(4) -&gt; Object2(1)\r\n...\r\nObject1(9) -&gt; Object2(1)\r\nObject1(14) -&gt; Object2(2)\r\n...\r\nObject1(19) -&gt; Object2(2)\r\n\r\n// reverseMap\r\nObject2(1) -&gt; [Object1(4) ... Object1(9)]\r\nObject2(2) -&gt; [Object1(14) ... Object2(19)]\r\n```\r\nI would appreciate your help explaining:\r\n* Is there a thread-safe implementation that doesn&#39;t synchronize both `forwardMap` and `reverseMap` on object level? Or this kind of action needs to &quot;stop the world&quot;? \r\n\r\n## Edit 2\r\n* Refactored code.\r\n* Self-answered how to make original code more memory efficient (original code generates a reverseMap each time `put` needs to remove some objects)\r\n","title":"Removing Keys in Synchronized LinkedHashMap from a Guava ListMultimap Copy","body":"<p>I have a <code>forwardMap</code> that defines a one-to-one relationship and uses <code>ListMultimap</code> to store the inverted <code>forwardMap</code> that has a one-to-many relationship:</p>\n<pre><code>class Object1 { // with custom equals and hashCode }\nclass Object2 { // with custom equals and hashCode }\n\nclass ObjectManager {\n  Map&lt;Object1, Object2&gt; forwardMap = \n    Collections.synchronizedMap(new LinkedHashMap&lt;&gt;());\n  ListMultimap&lt;Object2, Object1&gt; reverseMap = \n    Multimaps.invertFrom(Multimaps.forMap(forwardMap), LinkedListMultimap.create());\n}\n</code></pre>\n<p>I'd like to implement <code>put</code> method in <code>ObjectManager</code> that</p>\n<ul>\n<li>puts an <code>Object1</code> into both Maps.</li>\n<li>removes existing <code>Object1</code> by insertion order from both Maps if there are too many <code>Object1</code> mapped to the same <code>Object2</code>.</li>\n</ul>\n<pre><code>@Synchronized\npublic void put(Object1 newForwardKey) {\n  Optional&lt;Object1&gt; _closestForwardKey = \n    forwardMap.keySet().stream()\n      .min(Comparator.comparingDouble(o -&gt; calculateDistance(o, newForwardKey)));\n\n  // assign matchedForwardValue to a new Object2 by default\n  Object2 matchedForwardValue = new Object2();\n  \n  if (_closestForwardKey.isPresent()) {\n    Object1 closestForwardKey = _closestForwardKey.get();\n    // reset forwardValue only if closestForwardKey passes some other matching\n    if (someOtherMatching(closestForwardKey, newForwardKey))\n      matchedForwardValue = forwardMap.get(closestForwardKey);\n  }\n\n  // create appropriate entries for each map\n  forwardMap.put(newForwardKey, matchedForwardValue);\n  reverseMap.put(matchedForwardValue, newForwardKey);\n\n  // remove excessive Object1\n  // modification to the forwardKeysByValue List view is reflected in reverseMap\n  List&lt;Object1&gt; forwardKeysByValue = reverseMap.get(forwardValue);\n  while (forwardKeysByValue.size() &gt; MAX_REVERSE_VALUE_COUNT)\n    forwardMap.remove(forwardKeysByValue.remove(0));\n}\n</code></pre>\n<p>I did not test it in a multithreaded environment. Running the method in a single thread seems to have the correct behavior.</p>\n<p>Test code:</p>\n<pre><code>Object2 o21 = new Object2(1);\nObject2 o22 = new Object2(2);\nfor (int i = 0; i &lt; 10; i++) {\n  Object1 o11 = new Object1(i);\n  Object1 o12 = new Object1(i+10);\n\n  objectManagerInstance.put(o11); // assume always match o21\n  objectManagerInstance.put(o12); // assume always match o22\n}\n\n</code></pre>\n<p>Contents of both Maps:</p>\n<pre><code>// forwardMap\nObject1(4) -&gt; Object2(1)\n...\nObject1(9) -&gt; Object2(1)\nObject1(14) -&gt; Object2(2)\n...\nObject1(19) -&gt; Object2(2)\n\n// reverseMap\nObject2(1) -&gt; [Object1(4) ... Object1(9)]\nObject2(2) -&gt; [Object1(14) ... Object2(19)]\n</code></pre>\n<p>I would appreciate your help explaining:</p>\n<ul>\n<li>Is there a thread-safe implementation that doesn't synchronize both <code>forwardMap</code> and <code>reverseMap</code> on object level? Or this kind of action needs to &quot;stop the world&quot;?</li>\n</ul>\n<h2>Edit 2</h2>\n<ul>\n<li>Refactored code.</li>\n<li>Self-answered how to make original code more memory efficient (original code generates a reverseMap each time <code>put</code> needs to remove some objects)</li>\n</ul>\n"},{"tags":["java","android","xml","android-xml"],"comments":[{"owner":{"account_id":3803158,"reputation":5427,"user_id":3156226,"accept_rate":79,"display_name":"josedlujan"},"score":0,"creation_date":1487698342,"post_id":36425707,"comment_id":71897632,"body_markdown":"Do you solved it?","body":"Do you solved it?"},{"owner":{"account_id":13675166,"reputation":678,"user_id":9866847,"display_name":"Pedro Relvas"},"score":0,"creation_date":1545134761,"post_id":36425707,"comment_id":94513435,"body_markdown":"@josedlujan You have to put &quot; android:textColorHint=&quot;@color/yourColor&quot; &quot; in the &quot;android.support.design.widget.TextInputLayout&quot;:","body":"@josedlujan You have to put &quot; android:textColorHint=&quot;@color/yourColor&quot; &quot; in the &quot;android.support.design.widget.TextInputLayout&quot;:"}],"answers":[{"tags":[],"owner":{"account_id":3223770,"reputation":6761,"user_id":2720553,"accept_rate":86,"display_name":"Rohit Arya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459861989,"creation_date":1459857608,"answer_id":36425824,"question_id":36425707,"body_markdown":"You should define more attributes like this:\r\n\r\n    &lt;style name=&quot;TextAppearance.App.TextInputLayout&quot; parent=&quot;TextAppearance.AppCompat&quot;&gt;\r\n       &lt;item name=&quot;android:textColor&quot;&gt;@android:color/white&lt;/item&gt;\r\n       &lt;item name=&quot;android:textColorHint&quot;&gt;@android:color/white&lt;/item&gt;\r\n       &lt;item name=&quot;colorPrimary&quot;&gt;@android:color/white&lt;/item&gt;\r\n       &lt;item name=&quot;colorAccent&quot;&gt;@android:color/white&lt;/item&gt;\r\n\r\n       &lt;item name=&quot;colorControlNormal&quot;&gt;@color/someColor&lt;/item&gt;\r\n       &lt;item name=&quot;colorControlActivated&quot;&gt;@color/someColor&lt;/item&gt;\r\n       &lt;item name=&quot;colorControlHighlight&quot;&gt;@color/someColor&lt;/item&gt;\r\n\r\n    &lt;/style&gt;","title":"Android TextInput hint text color","body":"<p>You should define more attributes like this:</p>\n\n<pre><code>&lt;style name=\"TextAppearance.App.TextInputLayout\" parent=\"TextAppearance.AppCompat\"&gt;\n   &lt;item name=\"android:textColor\"&gt;@android:color/white&lt;/item&gt;\n   &lt;item name=\"android:textColorHint\"&gt;@android:color/white&lt;/item&gt;\n   &lt;item name=\"colorPrimary\"&gt;@android:color/white&lt;/item&gt;\n   &lt;item name=\"colorAccent\"&gt;@android:color/white&lt;/item&gt;\n\n   &lt;item name=\"colorControlNormal\"&gt;@color/someColor&lt;/item&gt;\n   &lt;item name=\"colorControlActivated\"&gt;@color/someColor&lt;/item&gt;\n   &lt;item name=\"colorControlHighlight\"&gt;@color/someColor&lt;/item&gt;\n\n&lt;/style&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5853532,"reputation":573,"user_id":4611516,"display_name":"Hitesh Kalwani"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1621248104,"creation_date":1459860936,"answer_id":36426992,"question_id":36425707,"body_markdown":"1. Use this to change the hint color. \r\n\r\n&gt;     editText.setHintTextColor(getResources().getColor(R.color.white));\r\n\r\n2. Simply add this in your layout for the EditText :\r\n\r\n&gt;     android:textColorHint=&quot;#FFFFFF&quot;\r\n\r\n3. And if you want like this then you can do,\r\n\r\n&gt;     editText.addTextChangedListener(new TextWatcher() {\r\n&gt;\r\n&gt;       public void onTextChanged(CharSequence arg0, int arg1, int arg2,int arg3){\r\n&gt;         //do something\r\n&gt;       }\r\n&gt;     \r\n&gt;       public void beforeTextChanged(CharSequence arg0, int arg1, int arg2, int arg3) \r\n&gt;       {\r\n&gt;         //do something \r\n&gt;       }\r\n&gt; \r\n&gt;       public void afterTextChanged(Editable arg0) {\r\n&gt;         if(arg0.toString().length() &lt;= 0)            \r\n&gt;           tv.setHintTextColor(getResources().getColor(R.color.white));\r\n&gt;       } \r\n&gt;     });\r\n    ","title":"Android TextInput hint text color","body":"<ol>\n<li>Use this to change the hint color.</li>\n</ol>\n<blockquote>\n<pre><code>editText.setHintTextColor(getResources().getColor(R.color.white));\n</code></pre>\n</blockquote>\n<ol start=\"2\">\n<li>Simply add this in your layout for the EditText :</li>\n</ol>\n<blockquote>\n<pre><code>android:textColorHint=&quot;#FFFFFF&quot;\n</code></pre>\n</blockquote>\n<ol start=\"3\">\n<li>And if you want like this then you can do,</li>\n</ol>\n<blockquote>\n<pre><code>editText.addTextChangedListener(new TextWatcher() {\n\n  public void onTextChanged(CharSequence arg0, int arg1, int arg2,int arg3){\n    //do something\n  }\n\n  public void beforeTextChanged(CharSequence arg0, int arg1, int arg2, int arg3) \n  {\n    //do something \n  }\n\n  public void afterTextChanged(Editable arg0) {\n    if(arg0.toString().length() &lt;= 0)            \n      tv.setHintTextColor(getResources().getColor(R.color.white));\n  } \n});\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13675166,"reputation":678,"user_id":9866847,"display_name":"Pedro Relvas"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1653732714,"creation_date":1545134942,"answer_id":53832701,"question_id":36425707,"body_markdown":"You need to put the `android:textColorHint=&quot;@color/yourColor&quot;` in the `TextInputLayout`, just like this:\r\n\r\n    &lt;android.support.design.widget.TextInputLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:hintTextAppearance=&quot;@style/TextAppearance.App.TextInputLayout&quot;\r\n        android:textColorHint=&quot;@color/yourColor&quot;&gt;\r\n\r\nOr in your application theme:\r\n```xml\r\n&lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.NoActionBar&quot;&gt;\r\n    &lt;item name=&quot;android:textColorHint&quot;&gt;@color/yourColor&lt;/item&gt;\r\n&lt;/style&gt;\r\n```","title":"Android TextInput hint text color","body":"<p>You need to put the <code>android:textColorHint=&quot;@color/yourColor&quot;</code> in the <code>TextInputLayout</code>, just like this:</p>\n<pre><code>&lt;android.support.design.widget.TextInputLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:hintTextAppearance=&quot;@style/TextAppearance.App.TextInputLayout&quot;\n    android:textColorHint=&quot;@color/yourColor&quot;&gt;\n</code></pre>\n<p>Or in your application theme:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.NoActionBar&quot;&gt;\n    &lt;item name=&quot;android:textColorHint&quot;&gt;@color/yourColor&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n"}],"owner":{"account_id":6933421,"reputation":1848,"user_id":5322236,"accept_rate":65,"display_name":"Kyryl Zotov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12415,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1653732714,"creation_date":1459857291,"question_id":36425707,"body_markdown":"I have this `TextInputLayout` and `EditText` and my text hint is black color and I want to change it.\r\n\r\nBy the way when the hint is going on top its color is white\r\n\r\n     &lt;android.support.design.widget.TextInputLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    app:hintTextAppearance=&quot;@style/TextAppearance.App.TextInputLayout&quot;&gt;\r\n\r\n                &lt;EditText\r\n                    android:id=&quot;@+id/password&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:hint=&quot;@string/prompt_password&quot;\r\n                    android:imeActionId=&quot;@+id/login&quot;\r\n                    android:imeActionLabel=&quot;@string/action_sign_in_short&quot;\r\n                    android:imeOptions=&quot;actionUnspecified&quot;\r\n                    android:inputType=&quot;textPassword&quot;\r\n                    android:maxLines=&quot;1&quot;\r\n                    android:singleLine=&quot;true&quot;\r\n                    android:textColor=&quot;@android:color/white&quot;\r\n                    android:textColorHint=&quot;@android:color/white&quot; /&gt;\r\n\r\n            &lt;/android.support.design.widget.TextInputLayout&gt;\r\n\r\n\r\nStyles\r\n\r\n    &lt;style name=&quot;TextAppearance.App.TextInputLayout&quot; parent=&quot;@android:style/TextAppearance&quot;&gt;\r\n        &lt;item name=&quot;android:textColor&quot;&gt;@android:color/white&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColorHint&quot;&gt;@android:color/white&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@android:color/white&lt;/item&gt;\r\n        &lt;item name=&quot;colorAccent&quot;&gt;@android:color/white&lt;/item&gt;\r\n    &lt;/style&gt;\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/EG1nu.png","title":"Android TextInput hint text color","body":"<p>I have this <code>TextInputLayout</code> and <code>EditText</code> and my text hint is black color and I want to change it.</p>\n\n<p>By the way when the hint is going on top its color is white</p>\n\n<pre><code> &lt;android.support.design.widget.TextInputLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                app:hintTextAppearance=\"@style/TextAppearance.App.TextInputLayout\"&gt;\n\n            &lt;EditText\n                android:id=\"@+id/password\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:hint=\"@string/prompt_password\"\n                android:imeActionId=\"@+id/login\"\n                android:imeActionLabel=\"@string/action_sign_in_short\"\n                android:imeOptions=\"actionUnspecified\"\n                android:inputType=\"textPassword\"\n                android:maxLines=\"1\"\n                android:singleLine=\"true\"\n                android:textColor=\"@android:color/white\"\n                android:textColorHint=\"@android:color/white\" /&gt;\n\n        &lt;/android.support.design.widget.TextInputLayout&gt;\n</code></pre>\n\n<p>Styles</p>\n\n<pre><code>&lt;style name=\"TextAppearance.App.TextInputLayout\" parent=\"@android:style/TextAppearance\"&gt;\n    &lt;item name=\"android:textColor\"&gt;@android:color/white&lt;/item&gt;\n    &lt;item name=\"android:textColorHint\"&gt;@android:color/white&lt;/item&gt;\n    &lt;item name=\"colorPrimary\"&gt;@android:color/white&lt;/item&gt;\n    &lt;item name=\"colorAccent\"&gt;@android:color/white&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/EG1nu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EG1nu.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","swing","user-interface"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1653759017,"post_id":72413932,"comment_id":127931405,"body_markdown":"You can check out [Resizing Components](https://tips4java.wordpress.com/2009/09/13/resizing-components/) for one solution. Just register the frame and you will be able to resize the frame in any direction.","body":"You can check out <a href=\"https://tips4java.wordpress.com/2009/09/13/resizing-components/\" rel=\"nofollow noreferrer\">Resizing Components</a> for one solution. Just register the frame and you will be able to resize the frame in any direction."}],"owner":{"account_id":24306567,"reputation":30,"user_id":18408629,"display_name":"NullPointerException"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653732268,"creation_date":1653724779,"question_id":72413932,"body_markdown":"I&#39;m making a desktop app (a Markdown editor) in Java, and I&#39;m having problems on frame resizing. The frame I&#39;m working on is **undecorated**. On the left side of the frame is a title bar. The content pane uses a `FlowLayout(FlowLayout.LEFT, 0, 0)` as the \r\ndefault layout. My problem is when I use the following code to achive resizing function, I can only resize my frame on X and Y axis but not both sides at the same time (when you put your cursor on a vertex of the frame), and the layout isn&#39;t working. My goal is to complete a full-functioned resizing system which you can drag and drop the edges of the frame to adjust the size of it.\r\n\r\nMy Code:\r\n```java\r\npackage xmark.ui;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.WindowConstants;\r\n\r\nimport java.awt.Cursor;\r\nimport java.awt.Dimension;\r\nimport java.awt.FlowLayout;\r\nimport java.awt.Point;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\n\r\n\r\npublic class MyFrame extends JFrame {\r\n\r\n    private final TitleBar titleBar = new TitleBar();  // public class TitleBar extends JPanel\r\n\r\n    /**\r\n     * The original content pane on the frame. Is a holder of the title bar.\r\n     */\r\n    public JPanel contentPane = (JPanel) getContentPane();\r\n\r\n\r\n    /**\r\n     * The default constructor. No needs to manually pass in any arguments\r\n     * because it automatically decorates the frame and sets up the title\r\n     * bar. There are two private methods used in the constructor: {@code setUI()}\r\n     * and {@code titleBar()}.\r\n     */\r\n    public MyFrame() {\r\n        setUI();\r\n        titleBar();\r\n    }\r\n\r\n    private void setUI() {\r\n\r\n        // Basic method settings\r\n        setSize(new Dimension(1200, 750));\r\n        setMinimumSize(new Dimension(120, 75));\r\n        setLocationRelativeTo(null);\r\n        setUndecorated(true);\r\n        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n        contentPane.setBackground(UIUtilities.BASE_COLOR); // UIUtilities is a ui utility class for this app\r\n        contentPane.setLayout(new FlowLayout(FlowLayout.LEFT, 0, 0));\r\n\r\n        // Sizing function\r\n        contentPane.addMouseMotionListener(new MouseAdapter() {\r\n\r\n            boolean top = false;\r\n            boolean down = false;\r\n            boolean left = false;\r\n            boolean right = false;\r\n            Point draggingAnchor = null;\r\n\r\n            @Override\r\n            public void mouseMoved(MouseEvent e) {\r\n\r\n                double mouseY = e.getPoint().getY();\r\n                double mouseX = e.getPoint().getX();\r\n\r\n                if (mouseY &gt; 1 &amp;&amp; mouseY &lt; 6) {\r\n                    setCursor(Cursor.getPredefinedCursor(Cursor.N_RESIZE_CURSOR));\r\n                    top = true;\r\n\r\n                } else if (Math.abs(mouseY - getSize().getHeight()) &lt;= 5) {\r\n                    setCursor(Cursor.getPredefinedCursor(Cursor.N_RESIZE_CURSOR));\r\n                    down = true;\r\n\r\n                } else if (mouseX &gt; 1 &amp;&amp; mouseX &lt; 6) {\r\n                    setCursor(Cursor.getPredefinedCursor(Cursor.E_RESIZE_CURSOR));\r\n                    left = true;\r\n\r\n                } else if (Math.abs(mouseX - getSize().getWidth()) &lt;= 5) {\r\n                    setCursor(Cursor.getPredefinedCursor(Cursor.E_RESIZE_CURSOR));\r\n                    right = true;\r\n\r\n                } else {\r\n                    setCursor(Cursor.getPredefinedCursor(Cursor.DEFAULT_CURSOR));\r\n                    draggingAnchor = new Point(e.getX() + contentPane.getX(), e.getY() + contentPane.getY());\r\n                    top = false;\r\n                    down = false;\r\n                    left = false;\r\n                    right = false;\r\n                }\r\n            }\r\n\r\n\r\n            @Override\r\n            public void mouseDragged(MouseEvent e) {\r\n\r\n                Dimension dimension = getSize();\r\n\r\n                if (top) {\r\n                    dimension.setSize(dimension.getWidth(), dimension.getHeight() - e.getY());\r\n                    setSize(dimension);\r\n                    setLocation(getLocationOnScreen().x, getLocationOnScreen().y + e.getY());\r\n\r\n                } else if (down) {\r\n                    dimension.setSize(dimension.getWidth(), e.getY());\r\n                    setSize(dimension);\r\n\r\n                } else if (left) {\r\n                    dimension.setSize(dimension.getWidth() - e.getX(), dimension.getHeight());\r\n                    setSize(dimension);\r\n                    setLocation(getLocationOnScreen().x + e.getX(), getLocationOnScreen().y);\r\n\r\n                } else if (right) {\r\n                    dimension.setSize(e.getX(), dimension.getHeight());\r\n                    setSize(dimension);\r\n\r\n                } else {\r\n                    setLocation(e.getLocationOnScreen().x - draggingAnchor.x, e.getLocationOnScreen().y - draggingAnchor.y);\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\n    private void titleBar() {\r\n\r\n        contentPane.add(titleBar);\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n        new MyFrame().setVisible(true);\r\n    }\r\n\r\n}\r\n\r\n","title":"Undecorated JFrame having problems with resizing","body":"<p>I'm making a desktop app (a Markdown editor) in Java, and I'm having problems on frame resizing. The frame I'm working on is <strong>undecorated</strong>. On the left side of the frame is a title bar. The content pane uses a <code>FlowLayout(FlowLayout.LEFT, 0, 0)</code> as the\ndefault layout. My problem is when I use the following code to achive resizing function, I can only resize my frame on X and Y axis but not both sides at the same time (when you put your cursor on a vertex of the frame), and the layout isn't working. My goal is to complete a full-functioned resizing system which you can drag and drop the edges of the frame to adjust the size of it.</p>\n<p>My Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package xmark.ui;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.WindowConstants;\n\nimport java.awt.Cursor;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\nimport java.awt.Point;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\n\n\npublic class MyFrame extends JFrame {\n\n    private final TitleBar titleBar = new TitleBar();  // public class TitleBar extends JPanel\n\n    /**\n     * The original content pane on the frame. Is a holder of the title bar.\n     */\n    public JPanel contentPane = (JPanel) getContentPane();\n\n\n    /**\n     * The default constructor. No needs to manually pass in any arguments\n     * because it automatically decorates the frame and sets up the title\n     * bar. There are two private methods used in the constructor: {@code setUI()}\n     * and {@code titleBar()}.\n     */\n    public MyFrame() {\n        setUI();\n        titleBar();\n    }\n\n    private void setUI() {\n\n        // Basic method settings\n        setSize(new Dimension(1200, 750));\n        setMinimumSize(new Dimension(120, 75));\n        setLocationRelativeTo(null);\n        setUndecorated(true);\n        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        contentPane.setBackground(UIUtilities.BASE_COLOR); // UIUtilities is a ui utility class for this app\n        contentPane.setLayout(new FlowLayout(FlowLayout.LEFT, 0, 0));\n\n        // Sizing function\n        contentPane.addMouseMotionListener(new MouseAdapter() {\n\n            boolean top = false;\n            boolean down = false;\n            boolean left = false;\n            boolean right = false;\n            Point draggingAnchor = null;\n\n            @Override\n            public void mouseMoved(MouseEvent e) {\n\n                double mouseY = e.getPoint().getY();\n                double mouseX = e.getPoint().getX();\n\n                if (mouseY &gt; 1 &amp;&amp; mouseY &lt; 6) {\n                    setCursor(Cursor.getPredefinedCursor(Cursor.N_RESIZE_CURSOR));\n                    top = true;\n\n                } else if (Math.abs(mouseY - getSize().getHeight()) &lt;= 5) {\n                    setCursor(Cursor.getPredefinedCursor(Cursor.N_RESIZE_CURSOR));\n                    down = true;\n\n                } else if (mouseX &gt; 1 &amp;&amp; mouseX &lt; 6) {\n                    setCursor(Cursor.getPredefinedCursor(Cursor.E_RESIZE_CURSOR));\n                    left = true;\n\n                } else if (Math.abs(mouseX - getSize().getWidth()) &lt;= 5) {\n                    setCursor(Cursor.getPredefinedCursor(Cursor.E_RESIZE_CURSOR));\n                    right = true;\n\n                } else {\n                    setCursor(Cursor.getPredefinedCursor(Cursor.DEFAULT_CURSOR));\n                    draggingAnchor = new Point(e.getX() + contentPane.getX(), e.getY() + contentPane.getY());\n                    top = false;\n                    down = false;\n                    left = false;\n                    right = false;\n                }\n            }\n\n\n            @Override\n            public void mouseDragged(MouseEvent e) {\n\n                Dimension dimension = getSize();\n\n                if (top) {\n                    dimension.setSize(dimension.getWidth(), dimension.getHeight() - e.getY());\n                    setSize(dimension);\n                    setLocation(getLocationOnScreen().x, getLocationOnScreen().y + e.getY());\n\n                } else if (down) {\n                    dimension.setSize(dimension.getWidth(), e.getY());\n                    setSize(dimension);\n\n                } else if (left) {\n                    dimension.setSize(dimension.getWidth() - e.getX(), dimension.getHeight());\n                    setSize(dimension);\n                    setLocation(getLocationOnScreen().x + e.getX(), getLocationOnScreen().y);\n\n                } else if (right) {\n                    dimension.setSize(e.getX(), dimension.getHeight());\n                    setSize(dimension);\n\n                } else {\n                    setLocation(e.getLocationOnScreen().x - draggingAnchor.x, e.getLocationOnScreen().y - draggingAnchor.y);\n                }\n            }\n        });\n\n    }\n\n\n    private void titleBar() {\n\n        contentPane.add(titleBar);\n    }\n\n\n    public static void main(String[] args) {\n        new MyFrame().setVisible(true);\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","rgb","rgba","argb"],"answers":[{"tags":[],"owner":{"account_id":13063676,"reputation":1144,"user_id":9439899,"display_name":"josxha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653731840,"creation_date":1653681983,"answer_id":72410548,"question_id":72410411,"body_markdown":"If you change the order of the for loops it will create one image for each possible colors. But beware that your file manager might not be able to handle that many files inside of one directory.\r\n\r\n\r\n```java\r\nBufferedImage img = null;\r\nFile f = null;\r\n\r\nint width = 1;\r\nint height = 1;\r\nint i = 0;\r\n\r\n// loop for every possible color\r\nfor(int alpha = 0; alpha &lt; 256; alpha++){\r\n\tfor(int red = 0; red &lt; 256; red++){\r\n\t\tfor(int green = 0; green &lt; 256; green++){\r\n\t\t\tfor(int blue = 0; blue &lt; 256; blue++) {\r\n\t\t\t\t\r\n\t\t\t\t// create one image filled with one color\r\n\t\t\t\timg = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\r\n\r\n\t\t\t\tint a = alpha;\r\n\t\t\t\tint r = red;\r\n\t\t\t\tint g = green;\r\n\t\t\t\tint b = blue;\r\n\r\n\t\t\t\tint p = (a &lt;&lt; 24) | (r &lt;&lt; 16) | (g &lt;&lt; 8) | b;\r\n\r\n\t\t\t\t// loop every pixel\r\n\t\t\t\tfor(int y = 0; y &lt; height; y++) {\r\n\t\t\t\t\tfor(int x = 0; x &lt; width; x++){\r\n\t\t\t\t\t\timg.setRGB(x, y, p);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// save to file\r\n\t\t\t\tf = new File(&quot;/Users/dimensionalengineer/Downloads/Colors/Color&quot; + i++ + &quot;.png&quot;);\r\n\t\t\t\tImageIO.write(img, &quot;png&quot;, f);\r\n\t\t\t\t\r\n\t\t\t\t// free ram\r\n\t\t\t\timg.dispose();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"How do I create an image for every color in the ARGB spectrum in java?","body":"<p>If you change the order of the for loops it will create one image for each possible colors. But beware that your file manager might not be able to handle that many files inside of one directory.</p>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedImage img = null;\nFile f = null;\n\nint width = 1;\nint height = 1;\nint i = 0;\n\n// loop for every possible color\nfor(int alpha = 0; alpha &lt; 256; alpha++){\n    for(int red = 0; red &lt; 256; red++){\n        for(int green = 0; green &lt; 256; green++){\n            for(int blue = 0; blue &lt; 256; blue++) {\n                \n                // create one image filled with one color\n                img = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\n\n                int a = alpha;\n                int r = red;\n                int g = green;\n                int b = blue;\n\n                int p = (a &lt;&lt; 24) | (r &lt;&lt; 16) | (g &lt;&lt; 8) | b;\n\n                // loop every pixel\n                for(int y = 0; y &lt; height; y++) {\n                    for(int x = 0; x &lt; width; x++){\n                        img.setRGB(x, y, p);\n                    }\n                }\n                \n                // save to file\n                f = new File(&quot;/Users/dimensionalengineer/Downloads/Colors/Color&quot; + i++ + &quot;.png&quot;);\n                ImageIO.write(img, &quot;png&quot;, f);\n                \n                // free ram\n                img.dispose();\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25408191,"reputation":3,"user_id":19216521,"display_name":"ColorTheory42"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72410548,"answer_count":1,"score":0,"last_activity_date":1653731840,"creation_date":1653680900,"question_id":72410411,"body_markdown":"I wanna make a pixel image for every color, but this code only makes (255,255,255,255) images. It loops through the entire for loop before it uses the int values for the creation of the images. How do I stop it at each integer during the for loop so I can make images that start at (0,0,0,0) then go to (0,0,0,1) and then (0,0,0,2) and so on all the way to (255,255,255,255)? so, I need to make 4,294,967,296 images in total.\r\n\r\n\r\n```\r\n\r\nimport javax.imageio.ImageIO;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws IOException{\r\n\r\n        int width = 1;\r\n        int height = 1;\r\n\r\n        BufferedImage img = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\r\n\r\n        File f = null;\r\n\r\n        try{\r\n            for(int i = 0; i &lt; 4294967297; i++) {\r\n                for(int y = 0; y &lt; height; y++) {\r\n                    for(int x = 0; x &lt; width; x++){\r\n                        for(int alpha = 0; alpha &lt; 256; alpha++){\r\n                            for(int red = 0; red &lt; 256; red++){\r\n                                for(int green = 0; green &lt; 256; green++){\r\n                                    for(int blue = 0; blue &lt; 256; blue++) {\r\n\r\n                                        int a = alpha;\r\n                                        int r = red;\r\n                                        int g = green;\r\n                                        int b = blue;\r\n\r\n                                        int p = (a &lt;&lt; 24) | (r &lt;&lt; 16) | (g &lt;&lt; 8) | b;\r\n\r\n                                        img.setRGB(x, y, p);\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                f = new File(&quot;/Users/dimensionalengineer/Downloads/Colors/Color&quot; + i + &quot;.png&quot;);\r\n                ImageIO.write(img, &quot;png&quot;, f);\r\n            }\r\n        } catch(IOException e) {\r\n\r\n            System.out.println(&quot;Error: &quot; + e);\r\n\r\n        }\r\n\r\n    }\r\n}\r\n\r\n```","title":"How do I create an image for every color in the ARGB spectrum in java?","body":"<p>I wanna make a pixel image for every color, but this code only makes (255,255,255,255) images. It loops through the entire for loop before it uses the int values for the creation of the images. How do I stop it at each integer during the for loop so I can make images that start at (0,0,0,0) then go to (0,0,0,1) and then (0,0,0,2) and so on all the way to (255,255,255,255)? so, I need to make 4,294,967,296 images in total.</p>\n<pre><code>\nimport javax.imageio.ImageIO;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\n\npublic class Main {\n\n    public static void main(String[] args) throws IOException{\n\n        int width = 1;\n        int height = 1;\n\n        BufferedImage img = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\n\n        File f = null;\n\n        try{\n            for(int i = 0; i &lt; 4294967297; i++) {\n                for(int y = 0; y &lt; height; y++) {\n                    for(int x = 0; x &lt; width; x++){\n                        for(int alpha = 0; alpha &lt; 256; alpha++){\n                            for(int red = 0; red &lt; 256; red++){\n                                for(int green = 0; green &lt; 256; green++){\n                                    for(int blue = 0; blue &lt; 256; blue++) {\n\n                                        int a = alpha;\n                                        int r = red;\n                                        int g = green;\n                                        int b = blue;\n\n                                        int p = (a &lt;&lt; 24) | (r &lt;&lt; 16) | (g &lt;&lt; 8) | b;\n\n                                        img.setRGB(x, y, p);\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n                f = new File(&quot;/Users/dimensionalengineer/Downloads/Colors/Color&quot; + i + &quot;.png&quot;);\n                ImageIO.write(img, &quot;png&quot;, f);\n            }\n        } catch(IOException e) {\n\n            System.out.println(&quot;Error: &quot; + e);\n\n        }\n\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring","maven","installation","cassandra"],"comments":[{"owner":{"account_id":6392687,"reputation":466,"user_id":4958233,"display_name":"kus"},"score":0,"creation_date":1647601873,"post_id":71526072,"comment_id":126417439,"body_markdown":"This appears to be Permission issue, could you please share hs_err_pid9436.log or check hs_err_pid9436.log any more details available.","body":"This appears to be Permission issue, could you please share hs_err_pid9436.log or check hs_err_pid9436.log any more details available."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1647601945,"post_id":71526072,"comment_id":126417469,"body_markdown":"Upgrade your JDK version to the most recent version of JDK8... https://adoptium.net/?variant=openjdk8&amp;jvmVariant=hotspot","body":"Upgrade your JDK version to the most recent version of JDK8... <a href=\"https://adoptium.net/?variant=openjdk8&amp;jvmVariant=hotspot\" rel=\"nofollow noreferrer\">adoptium.net/?variant=openjdk8&amp;jvmVariant=hotspot</a>"}],"answers":[{"tags":[],"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647609289,"creation_date":1647609289,"answer_id":71527610,"question_id":71526072,"body_markdown":"Windows support was completely dropped in Cassandra 4.0 ([CASSANDRA-16171][1]). There are several known issues with running Cassandra on Windows so support was limited even in earlier versions of Cassandra.\r\n\r\nThe recommended workarounds are:\r\n\r\n - [Deploy Cassandra in Docker][2]\r\n - Deploy Cassandra in a VM using\r\n   software like VirtualBox\r\n - Deploy Cassandra in a Kubernetes cluster\r\n   with [K8ssandra.io][3]\r\n\r\nOtherwise if you just want to learn how to build apps on Cassandra, [Astra DB][4] has a free tier and you can launch a cluster in 5 clicks. Cheers!\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/CASSANDRA-16171\r\n  [2]: https://cassandra.apache.org/_/quickstart.html\r\n  [3]: https://k8ssandra.io/get-started/\r\n  [4]: https://dtsx.io/3jdZVbU","title":"A fatal error has been detected by the Java Runtime Environment I have getting fatal error while installing cassandra","body":"<p>Windows support was completely dropped in Cassandra 4.0 (<a href=\"https://issues.apache.org/jira/browse/CASSANDRA-16171\" rel=\"nofollow noreferrer\">CASSANDRA-16171</a>). There are several known issues with running Cassandra on Windows so support was limited even in earlier versions of Cassandra.</p>\n<p>The recommended workarounds are:</p>\n<ul>\n<li><a href=\"https://cassandra.apache.org/_/quickstart.html\" rel=\"nofollow noreferrer\">Deploy Cassandra in Docker</a></li>\n<li>Deploy Cassandra in a VM using\nsoftware like VirtualBox</li>\n<li>Deploy Cassandra in a Kubernetes cluster\nwith <a href=\"https://k8ssandra.io/get-started/\" rel=\"nofollow noreferrer\">K8ssandra.io</a></li>\n</ul>\n<p>Otherwise if you just want to learn how to build apps on Cassandra, <a href=\"https://dtsx.io/3jdZVbU\" rel=\"nofollow noreferrer\">Astra DB</a> has a free tier and you can launch a cluster in 5 clicks. Cheers!</p>\n"},{"tags":[],"owner":{"account_id":16744369,"reputation":11,"user_id":12103121,"display_name":"Khoa MinHi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653731151,"creation_date":1653731116,"answer_id":72414594,"question_id":71526072,"body_markdown":"I had got the same problem. I solved that by downgrading the jdk-8u311 to the jdk-8u231.","title":"A fatal error has been detected by the Java Runtime Environment I have getting fatal error while installing cassandra","body":"<p>I had got the same problem. I solved that by downgrading the jdk-8u311 to the jdk-8u231.</p>\n"}],"owner":{"account_id":22985025,"reputation":11,"user_id":17111365,"display_name":"Rahul Rahu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1282,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1653731151,"creation_date":1647601317,"question_id":71526072,"body_markdown":"A fatal error has been detected by the Java Runtime Environment I have getting fatal error while installing cassandra\r\n\r\n     A fatal error has been detected by the Java Runtime Environment:\r\n    #\r\n    #  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x0000000010014ed4, pid=9436, \r\n    tid=0x0000000000000efc\r\n    #\r\n    # JRE version: Java(TM) SE Runtime Environment (8.0_261-b12) (build 1.8.0_261-b12)\r\n    # Java VM: Java HotSpot(TM) 64-Bit Server VM (25.261-b12 mixed mode windows-amd64 compressed \r\n    oops)\r\n    # Problematic frame:\r\n    # C  [sigar-amd64-winnt.dll+0x14ed4]\r\n    #\r\n    # Failed to write core dump. Minidumps are not enabled by default on client versions of \r\n    Windows\r\n    #\r\n    # An error report file with more information is saved as:\r\n    # C:\\Users\\Win10\\hs_err_pid9436.log\r\n    #\r\n    # If you would like to submit a bug report, please visit:\r\n    #   http://bugreport.java.com/bugreport/crash.jsp\r\n    # The crash happened outside the Java Virtual Machine in native code.\r\n    # See problematic frame for where to report the bug.","title":"A fatal error has been detected by the Java Runtime Environment I have getting fatal error while installing cassandra","body":"<p>A fatal error has been detected by the Java Runtime Environment I have getting fatal error while installing cassandra</p>\n<pre><code> A fatal error has been detected by the Java Runtime Environment:\n#\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x0000000010014ed4, pid=9436, \ntid=0x0000000000000efc\n#\n# JRE version: Java(TM) SE Runtime Environment (8.0_261-b12) (build 1.8.0_261-b12)\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (25.261-b12 mixed mode windows-amd64 compressed \noops)\n# Problematic frame:\n# C  [sigar-amd64-winnt.dll+0x14ed4]\n#\n# Failed to write core dump. Minidumps are not enabled by default on client versions of \nWindows\n#\n# An error report file with more information is saved as:\n# C:\\Users\\Win10\\hs_err_pid9436.log\n#\n# If you would like to submit a bug report, please visit:\n#   http://bugreport.java.com/bugreport/crash.jsp\n# The crash happened outside the Java Virtual Machine in native code.\n# See problematic frame for where to report the bug.\n</code></pre>\n"},{"tags":["java","integer"],"answers":[{"tags":[],"owner":{"account_id":4181404,"reputation":6036,"user_id":3426328,"accept_rate":83,"display_name":"TDG"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1653730830,"creation_date":1653730830,"answer_id":72414555,"question_id":72414111,"body_markdown":"Since 46340 * 46340 = 2147395600, when `i=46340, x=2147395600` and you reach the condition `i*i&lt;=x` it evaluates to `true` since 2147395600 = 2147395600. So the loop counter will incremnet by 1 and in the next iteration we will get `i=46341` and `i * i` will cause an overflow - 46341*46341 = -2147479015.  \r\nThe loop condition will still be `true`, since -2147479015 &lt;= 2147395600, and the loop will not stop.  \r\nYou can replace the `&lt;=` with `=`, and check for edge cases that may occur now.","title":"Why does Java integer act erroneously at values near 2^31-1?","body":"<p>Since 46340 * 46340 = 2147395600, when <code>i=46340, x=2147395600</code> and you reach the condition <code>i*i&lt;=x</code> it evaluates to <code>true</code> since 2147395600 = 2147395600. So the loop counter will incremnet by 1 and in the next iteration we will get <code>i=46341</code> and <code>i * i</code> will cause an overflow - 46341*46341 = -2147479015.<br />\nThe loop condition will still be <code>true</code>, since -2147479015 &lt;= 2147395600, and the loop will not stop.<br />\nYou can replace the <code>&lt;=</code> with <code>=</code>, and check for edge cases that may occur now.</p>\n"}],"owner":{"account_id":13603319,"reputation":33,"user_id":9813335,"display_name":"IAmACoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72414555,"answer_count":1,"score":0,"last_activity_date":1653730830,"creation_date":1653726642,"question_id":72414111,"body_markdown":"I&#39;m trying to write a Java program to calculate the square root of an integer x, without using in-built functions like `Math.pow()` . This is the approach I tried - \r\n\r\n    class Solution {\r\n        public int mySqrt(int x) {\r\n            \r\n            if(x==0 || x==1)\r\n                return x;\r\n            \r\n            // if(x&gt;=2147395600)\r\n            //     return 46340;\r\n            \r\n            int i;\r\n            for(i=1 ; i*i&lt;=x ; i++) {}\r\n            return i-1;\r\n            \r\n        }\r\n    }\r\n\r\nWithout the commented part, I start getting errors if x is in the range 2147395600 &lt;= x &lt;= 2^31-1 (which is the upper limit of an int&#39;s value range in Java). For instance, for the input x=2147395600, the expected output is 46340 but the actual output is 289398. Why is this happening? Thanks to all in advance.\r\n\r\nPS - I am aware there are other (better) methods to solve this problem, but I&#39;d really like to know why this code behaves this way.","title":"Why does Java integer act erroneously at values near 2^31-1?","body":"<p>I'm trying to write a Java program to calculate the square root of an integer x, without using in-built functions like <code>Math.pow()</code> . This is the approach I tried -</p>\n<pre><code>class Solution {\n    public int mySqrt(int x) {\n        \n        if(x==0 || x==1)\n            return x;\n        \n        // if(x&gt;=2147395600)\n        //     return 46340;\n        \n        int i;\n        for(i=1 ; i*i&lt;=x ; i++) {}\n        return i-1;\n        \n    }\n}\n</code></pre>\n<p>Without the commented part, I start getting errors if x is in the range 2147395600 &lt;= x &lt;= 2^31-1 (which is the upper limit of an int's value range in Java). For instance, for the input x=2147395600, the expected output is 46340 but the actual output is 289398. Why is this happening? Thanks to all in advance.</p>\n<p>PS - I am aware there are other (better) methods to solve this problem, but I'd really like to know why this code behaves this way.</p>\n"},{"tags":["java","hibernate","jpa","sql-server-2012"],"answers":[{"tags":[],"owner":{"account_id":4575361,"reputation":319,"user_id":3713941,"display_name":"TPEACHES"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1653730664,"creation_date":1437758686,"answer_id":31616368,"question_id":28237915,"body_markdown":"the prob is you are selecting the count and not the entity but you are join fetching.\r\n\r\nYou dont need to load the collection eagerly with an entity you are not fetching. \r\n\r\nTry just using join.\r\n\r\nor this might work too\r\n\r\n    SELECT \r\n    articleType,count(articleType.artTypIndex)\r\n    FROM\r\n    ArticleType articleType \r\n    join fetch articleType.articleSet article\r\n    where articleType.artTypCode = ?","title":"Count query with fetch relation in jpa","body":"<p>the prob is you are selecting the count and not the entity but you are join fetching.</p>\n<p>You dont need to load the collection eagerly with an entity you are not fetching.</p>\n<p>Try just using join.</p>\n<p>or this might work too</p>\n<pre><code>SELECT \narticleType,count(articleType.artTypIndex)\nFROM\nArticleType articleType \njoin fetch articleType.articleSet article\nwhere articleType.artTypCode = ?\n</code></pre>\n"}],"owner":{"account_id":1176521,"reputation":4867,"user_id":1152398,"accept_rate":68,"display_name":"unknown"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2319,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1653730664,"creation_date":1422627802,"question_id":28237915,"body_markdown":"This is my entity :-\r\n\r\n    public class ArticleType extends BaseEntity implements Serializable\r\n    {\r\n    \tprivate static final long\tserialVersionUID\t= 1L;\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Basic(optional = false)\r\n    \t@Column(name = &quot;art_typ_index&quot;)\r\n    \tprivate Integer\t\t\t\tartTypIndex;\r\n    \t//@Basic(optional = false)\r\n    \t@Column(name = &quot;art_typ_code&quot;, nullable = false)\r\n    \tprivate String\t\t\t\tartTypCode;\r\n    \t@OneToMany(mappedBy = &quot;artArtTypIndex&quot;, fetch = FetchType.LAZY)\r\n    \tprivate Set&lt;Article&gt;\t\tarticleSet;\r\n    \r\n    \tpublic ArticleType()\r\n    \t{\r\n    \t}\r\n    \r\n    \tpublic ArticleType(Integer artTypIndex)\r\n    \t{\r\n    \t\tthis.artTypIndex = artTypIndex;\r\n    \t}\r\n    \r\n    \tpublic ArticleType(Integer artTypIndex, String artTypCode)\r\n    \t{\r\n    \t\tthis.artTypIndex = artTypIndex;\r\n    \t\tthis.artTypCode = artTypCode;\r\n    \t}\r\n    \r\n    \tpublic Integer getArtTypIndex()\r\n    \t{\r\n    \t\treturn artTypIndex;\r\n    \t}\r\n    \r\n    \tpublic void setArtTypIndex(Integer artTypIndex)\r\n    \t{\r\n    \t\tthis.artTypIndex = artTypIndex;\r\n    \t}\r\n    \r\n    \tpublic String getArtTypCode()\r\n    \t{\r\n    \t\treturn artTypCode;\r\n    \t}\r\n    \r\n    \tpublic void setArtTypCode(String artTypCode)\r\n    \t{\r\n    \t\tthis.artTypCode = artTypCode;\r\n    \t}\r\n    \r\n    \t@XmlTransient\r\n    \tpublic Set&lt;Article&gt; getArticleSet()\r\n    \t{\r\n    \t\treturn articleSet;\r\n    \t}\r\n    \r\n    \tpublic void setArticleSet(Set&lt;Article&gt; articleSet)\r\n    \t{\r\n    \t\tthis.articleSet = articleSet;\r\n    \t}   \r\n    }\r\n\r\nI want to check that if for a specific article type is there any Article exists or not.  \r\nI have tried this `HQL query` :-\r\n\r\n    SELECT \r\n    count(articleType.artTypIndex)\r\n    FROM\r\n    ArticleType articleType \r\n    join fetch articleType.articleSet article\r\n    where articleType.artTypCode = ?\r\n But this query gives me compilation error :- \r\n\r\n&gt;org.hibernate.QueryException: \r\nquery specified join fetching, but the owner of the fetched association was not present in the select list \r\n[FromElement{explicit,not a collection join,fetch join,fetch non-lazy properties,classAlias=article,role=com.alstom.autofie2.entity.ArticleType.articleSet,tableName=tbl_article,tableAlias=articleset1_,origin=tbl_article_typ\r\ne articletyp0_,columns={articletyp0_.art_typ_index ,className=com.alstom.autofie2.entity.Article}}]\r\n\r\nI don&#39;t understand what is the problem ?  \r\nThank you.","title":"Count query with fetch relation in jpa","body":"<p>This is my entity :-</p>\n\n<pre><code>public class ArticleType extends BaseEntity implements Serializable\n{\n    private static final long   serialVersionUID    = 1L;\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Basic(optional = false)\n    @Column(name = \"art_typ_index\")\n    private Integer             artTypIndex;\n    //@Basic(optional = false)\n    @Column(name = \"art_typ_code\", nullable = false)\n    private String              artTypCode;\n    @OneToMany(mappedBy = \"artArtTypIndex\", fetch = FetchType.LAZY)\n    private Set&lt;Article&gt;        articleSet;\n\n    public ArticleType()\n    {\n    }\n\n    public ArticleType(Integer artTypIndex)\n    {\n        this.artTypIndex = artTypIndex;\n    }\n\n    public ArticleType(Integer artTypIndex, String artTypCode)\n    {\n        this.artTypIndex = artTypIndex;\n        this.artTypCode = artTypCode;\n    }\n\n    public Integer getArtTypIndex()\n    {\n        return artTypIndex;\n    }\n\n    public void setArtTypIndex(Integer artTypIndex)\n    {\n        this.artTypIndex = artTypIndex;\n    }\n\n    public String getArtTypCode()\n    {\n        return artTypCode;\n    }\n\n    public void setArtTypCode(String artTypCode)\n    {\n        this.artTypCode = artTypCode;\n    }\n\n    @XmlTransient\n    public Set&lt;Article&gt; getArticleSet()\n    {\n        return articleSet;\n    }\n\n    public void setArticleSet(Set&lt;Article&gt; articleSet)\n    {\n        this.articleSet = articleSet;\n    }   \n}\n</code></pre>\n\n<p>I want to check that if for a specific article type is there any Article exists or not.<br>\nI have tried this <code>HQL query</code> :-</p>\n\n<pre><code>SELECT \ncount(articleType.artTypIndex)\nFROM\nArticleType articleType \njoin fetch articleType.articleSet article\nwhere articleType.artTypCode = ?\n</code></pre>\n\n<p>But this query gives me compilation error :- </p>\n\n<blockquote>\n  <p>org.hibernate.QueryException: \n  query specified join fetching, but the owner of the fetched association was not present in the select list \n  [FromElement{explicit,not a collection join,fetch join,fetch non-lazy properties,classAlias=article,role=com.alstom.autofie2.entity.ArticleType.articleSet,tableName=tbl_article,tableAlias=articleset1_,origin=tbl_article_typ\n  e articletyp0_,columns={articletyp0_.art_typ_index ,className=com.alstom.autofie2.entity.Article}}]</p>\n</blockquote>\n\n<p>I don't understand what is the problem ?<br>\nThank you.</p>\n"},{"tags":["java","json","kotlin","gson"],"comments":[{"owner":{"account_id":6473006,"reputation":27420,"user_id":6296561,"accept_rate":95,"display_name":"Zoe is on strike"},"score":0,"creation_date":1514818144,"post_id":48050487,"comment_id":83072958,"body_markdown":"Possible duplicate of [Gson deserializing nested objects with InstanceCreator](https://stackoverflow.com/questions/18567719/gson-deserializing-nested-objects-with-instancecreator)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/18567719/gson-deserializing-nested-objects-with-instancecreator\">Gson deserializing nested objects with InstanceCreator</a>"}],"answers":[{"tags":[],"owner":{"account_id":10988981,"reputation":77763,"user_id":8073652,"accept_rate":100,"display_name":"s1m0nw1"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1543414811,"creation_date":1514825509,"answer_id":48051495,"question_id":48050487,"body_markdown":"Gson is having a hard time deserialising polymorphic objects as in your `MutableList&lt;DeviceDef&gt;`. Here&#39;s what you need to do:\r\n\r\n1. Add the [RuntimeTypeAdapterFactory.java][1] to your project manually (does not seem to be [part of gson library][2]). See also this [answer][3].\r\n\r\n2. Change your code to use the factory\r\n\r\n    Create `Gson` instance: \r\n\r\n\n        val adapter = RuntimeTypeAdapterFactory\r\n                .of(DeviceDef::class.java)\r\n                .registerSubtype(BluetoothDef::class.java)\r\n                .registerSubtype(WiFiDef::class.java)\n\n        val gson = GsonBuilder().setPrettyPrinting().registerTypeAdapterFactory(adapter).create()\r\n\r\n3. register each of your subtypes in the factory and it will work as intended :)\r\n\r\n\r\n  [1]: https://github.com/google/gson/blob/master/extras/src/main/java/com/google/gson/typeadapters/RuntimeTypeAdapterFactory.java\r\n  [2]: https://github.com/google/gson/issues/1104\r\n  [3]: https://stackoverflow.com/a/22081826/8073652","title":"How to register an InstanceCreator with Gson in Kotlin?","body":"<p>Gson is having a hard time deserialising polymorphic objects as in your <code>MutableList&lt;DeviceDef&gt;</code>. Here's what you need to do:</p>\n\n<ol>\n<li><p>Add the <a href=\"https://github.com/google/gson/blob/master/extras/src/main/java/com/google/gson/typeadapters/RuntimeTypeAdapterFactory.java\" rel=\"nofollow noreferrer\">RuntimeTypeAdapterFactory.java</a> to your project manually (does not seem to be <a href=\"https://github.com/google/gson/issues/1104\" rel=\"nofollow noreferrer\">part of gson library</a>). See also this <a href=\"https://stackoverflow.com/a/22081826/8073652\">answer</a>.</p></li>\n<li><p>Change your code to use the factory</p>\n\n<p>Create <code>Gson</code> instance: </p>\n\n<pre><code>val adapter = RuntimeTypeAdapterFactory\n        .of(DeviceDef::class.java)\n        .registerSubtype(BluetoothDef::class.java)\n        .registerSubtype(WiFiDef::class.java)\n\nval gson = GsonBuilder().setPrettyPrinting().registerTypeAdapterFactory(adapter).create()\n</code></pre></li>\n<li><p>register each of your subtypes in the factory and it will work as intended :)</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":13626539,"reputation":1469,"user_id":9829662,"display_name":"Mahdi Zareei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653730096,"creation_date":1653730096,"answer_id":72414471,"question_id":48050487,"body_markdown":"maybe you have &#39;by lazy&#39; initializing parameter or value in your data class\r\n[more information][1]\r\n\r\n\r\n  [1]: https://hanru-yeh.medium.com/deserialize-classes-with-fields-by-delegate-crashes-when-using-gson-7c31fb5a792d","title":"How to register an InstanceCreator with Gson in Kotlin?","body":"<p>maybe you have 'by lazy' initializing parameter or value in your data class\n<a href=\"https://hanru-yeh.medium.com/deserialize-classes-with-fields-by-delegate-crashes-when-using-gson-7c31fb5a792d\" rel=\"nofollow noreferrer\">more information</a></p>\n"}],"owner":{"account_id":439749,"reputation":1013,"user_id":828896,"accept_rate":76,"display_name":"HelloCW"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9384,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":48051495,"answer_count":2,"score":8,"last_activity_date":1653730096,"creation_date":1514817052,"question_id":48050487,"body_markdown":"I can use Code 1 to save `MutableList&lt;MDetail&gt;` to json string using Gson correctly,\r\nBut I get the error when I try to restore `MutableList&lt;MDetail&gt;` object from json string with Code 2.\r\nI have search some resources, it seems that I need to register an InstanceCreator.\r\n\r\nHow can I write a register an `InstanceCreator` code with Kotlin? Thanks!\r\n\r\n\r\n \r\n\r\n**Error**\r\n\r\n    Caused by: java.lang.RuntimeException: Unable to invoke no-args constructor for interface model.DeviceDef. Registering an InstanceCreator with Gson for this type may fix this problem.\r\n                                               \r\n\r\n**Code 1**\r\n\r\n    private var listofMDetail: MutableList&lt;MDetail&gt;?=null\r\n    mJson = Gson().toJson(listofMDetail) //Save\r\n     \r\n\r\n**Code 2**\r\n\r\n    var mJson: String by PreferenceTool(this, getString(R.string.SavedJsonName) , &quot;&quot;)\r\n    var aMListDetail= Gson().fromJson&lt;MutableList&lt;MDetail&gt;&gt;(mJson)\r\n    \r\n    inline fun &lt;reified T&gt; Gson.fromJson(json: String) = this.fromJson&lt;T&gt;(json, object: TypeToken&lt;T&gt;() {}.type)\r\n\r\n\r\n**My Class**\r\n\r\n    interface DeviceDef\r\n    \r\n    data class BluetoothDef(val status:Boolean=false):  DeviceDef\r\n    data class WiFiDef(val name:String, val status:Boolean=false) : DeviceDef\r\n    \r\n    data class MDetail(val _id: Long, val deviceList: MutableList&lt;DeviceDef&gt;)\r\n    {\r\n        inline fun &lt;reified T&gt; getDevice(): T {\r\n            return deviceList.filterIsInstance(T::class.java).first()\r\n        }\r\n    }\r\n\r\n**Added**\r\n\r\nAfter I use `val myGson = GsonBuilder().setPrettyPrinting().registerTypeAdapterFactory(adapter).create()`, I can get the correct result when I use `open class DeviceDef` , why?\r\n\r\n\r\n\r\n\r\n    open class DeviceDef\r\n    \r\n    data class BluetoothDef(val status:Boolean=false):  DeviceDef()\r\n    data class WiFiDef(val name:String, val status:Boolean=false) : DeviceDef()\r\n    \r\n    val adapter = RuntimeTypeAdapterFactory\r\n            .of(DeviceDef::class.java)\r\n            .registerSubtype(BluetoothDef::class.java)\r\n            .registerSubtype(WiFiDef::class.java)\r\n    \r\n    \r\n    data class MDetail(val _id: Long, val deviceList: MutableList&lt;DeviceDef&gt;)\r\n    {\r\n        inline fun &lt;reified T&gt; getDevice(): T {\r\n            return deviceList.filterIsInstance(T::class.java).first()\r\n        }\r\n    }\r\n    \r\n    val myGson = GsonBuilder().setPrettyPrinting().registerTypeAdapterFactory(adapter).create()\r\n\r\n","title":"How to register an InstanceCreator with Gson in Kotlin?","body":"<p>I can use Code 1 to save <code>MutableList&lt;MDetail&gt;</code> to json string using Gson correctly,\nBut I get the error when I try to restore <code>MutableList&lt;MDetail&gt;</code> object from json string with Code 2.\nI have search some resources, it seems that I need to register an InstanceCreator.</p>\n\n<p>How can I write a register an <code>InstanceCreator</code> code with Kotlin? Thanks!</p>\n\n<p><strong>Error</strong></p>\n\n<pre><code>Caused by: java.lang.RuntimeException: Unable to invoke no-args constructor for interface model.DeviceDef. Registering an InstanceCreator with Gson for this type may fix this problem.\n</code></pre>\n\n<p><strong>Code 1</strong></p>\n\n<pre><code>private var listofMDetail: MutableList&lt;MDetail&gt;?=null\nmJson = Gson().toJson(listofMDetail) //Save\n</code></pre>\n\n<p><strong>Code 2</strong></p>\n\n<pre><code>var mJson: String by PreferenceTool(this, getString(R.string.SavedJsonName) , \"\")\nvar aMListDetail= Gson().fromJson&lt;MutableList&lt;MDetail&gt;&gt;(mJson)\n\ninline fun &lt;reified T&gt; Gson.fromJson(json: String) = this.fromJson&lt;T&gt;(json, object: TypeToken&lt;T&gt;() {}.type)\n</code></pre>\n\n<p><strong>My Class</strong></p>\n\n<pre><code>interface DeviceDef\n\ndata class BluetoothDef(val status:Boolean=false):  DeviceDef\ndata class WiFiDef(val name:String, val status:Boolean=false) : DeviceDef\n\ndata class MDetail(val _id: Long, val deviceList: MutableList&lt;DeviceDef&gt;)\n{\n    inline fun &lt;reified T&gt; getDevice(): T {\n        return deviceList.filterIsInstance(T::class.java).first()\n    }\n}\n</code></pre>\n\n<p><strong>Added</strong></p>\n\n<p>After I use <code>val myGson = GsonBuilder().setPrettyPrinting().registerTypeAdapterFactory(adapter).create()</code>, I can get the correct result when I use <code>open class DeviceDef</code> , why?</p>\n\n<pre><code>open class DeviceDef\n\ndata class BluetoothDef(val status:Boolean=false):  DeviceDef()\ndata class WiFiDef(val name:String, val status:Boolean=false) : DeviceDef()\n\nval adapter = RuntimeTypeAdapterFactory\n        .of(DeviceDef::class.java)\n        .registerSubtype(BluetoothDef::class.java)\n        .registerSubtype(WiFiDef::class.java)\n\n\ndata class MDetail(val _id: Long, val deviceList: MutableList&lt;DeviceDef&gt;)\n{\n    inline fun &lt;reified T&gt; getDevice(): T {\n        return deviceList.filterIsInstance(T::class.java).first()\n    }\n}\n\nval myGson = GsonBuilder().setPrettyPrinting().registerTypeAdapterFactory(adapter).create()\n</code></pre>\n"},{"tags":["java","maven-3","flyway"],"answers":[{"tags":[],"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653570870,"creation_date":1653570870,"answer_id":72392436,"question_id":72374447,"body_markdown":"The error you&#39;re getting indicates that you have no migration file for V2.0: `No matching migrations found for pattern: 2.0`\r\n\r\nIf i look at your image, the migration files you have available are V1.0 to V1.3.\r\nAny of those values should work.\r\n\r\nIf you want to provide the `cherryPick` value via the Maven commandline, you have to provide them like so: `mvn flyway:undo -Dflyway.cherryPick=1.3`\r\n\r\nSee: https://flywaydb.org/documentation/usage/maven/\r\n\r\nYou can also check if your provided `location` for the migration files is correct by adding the following option:\r\n```\r\n&lt;configuration&gt;\r\n    &lt;failOnMissingLocations&gt;true&lt;/failOnMissingLocations&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nReferences:\r\n- https://flywaydb.org/documentation/configuration/parameters/cherryPick\r\n- https://flywaydb.org/documentation/configuration/parameters/locations\r\n- https://flywaydb.org/documentation/configuration/parameters/failOnMissingLocations","title":"Maven Flyway Plugin, Teams Edition, undo with cherryPick","body":"<p>The error you're getting indicates that you have no migration file for V2.0: <code>No matching migrations found for pattern: 2.0</code></p>\n<p>If i look at your image, the migration files you have available are V1.0 to V1.3.\nAny of those values should work.</p>\n<p>If you want to provide the <code>cherryPick</code> value via the Maven commandline, you have to provide them like so: <code>mvn flyway:undo -Dflyway.cherryPick=1.3</code></p>\n<p>See: <a href=\"https://flywaydb.org/documentation/usage/maven/\" rel=\"nofollow noreferrer\">https://flywaydb.org/documentation/usage/maven/</a></p>\n<p>You can also check if your provided <code>location</code> for the migration files is correct by adding the following option:</p>\n<pre><code>&lt;configuration&gt;\n    &lt;failOnMissingLocations&gt;true&lt;/failOnMissingLocations&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>References:</p>\n<ul>\n<li><a href=\"https://flywaydb.org/documentation/configuration/parameters/cherryPick\" rel=\"nofollow noreferrer\">https://flywaydb.org/documentation/configuration/parameters/cherryPick</a></li>\n<li><a href=\"https://flywaydb.org/documentation/configuration/parameters/locations\" rel=\"nofollow noreferrer\">https://flywaydb.org/documentation/configuration/parameters/locations</a></li>\n<li><a href=\"https://flywaydb.org/documentation/configuration/parameters/failOnMissingLocations\" rel=\"nofollow noreferrer\">https://flywaydb.org/documentation/configuration/parameters/failOnMissingLocations</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":25384435,"reputation":11,"user_id":19196406,"display_name":"javaTopics"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653650116,"creation_date":1653635863,"answer_id":72401790,"question_id":72374447,"body_markdown":"thanks for your answer.\r\ni figured out a similar way, but i am still not satisfied.  \r\nCurrently it works for me with a placeholder variable in my pom.xml script.  \r\n\r\nThe missing Pattern i understand now. I watched out for this, that the versionnumbers are fitting. So these Problem is solved.\r\n\r\nI add these 2 Parts in my pom.xml file:  \r\n```xml\r\n&lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;flyway.cherryPick&gt;${CHERRY_PICK_VERSION}&lt;/flyway.cherryPick&gt;\r\n&lt;/properties&gt;\r\n```\r\nand  \r\n```xml\r\n&lt;configuration&gt;\r\n    &lt;cherryPick&gt;{flyway.cherryPick}&lt;/cherryPick&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nThen i can pass mvn the value of the cherryPick. My Command looks like that: `mvn -DCHERRY_PICK_VERSION=&quot;2&quot; flyway:undo `, but i dont want to give maven the value to set it fix in the pom.xml.  \r\n\r\nI want to pass the cherryPick versions to flyway. So i dont have to pass in every command my CHERRY_PICK_VERSION when i want just `mvn flyway:info` for example. The command with using cherrPick should like that then: `mvn flyway:undo -Dflyway.cherryPick=2`. Both commands should be possible, with and without the flag.  \r\n\r\nI tried already to cut the cherryPick configurations out of my pom.xml and tried the commands:\r\n`mvn flyway:undo -Dflyway.cherryPick=2` &amp; `mvn -Dflyway.cherryPick=2 flyway:undo`  \r\nPS: Versionnumers are 0,1,2,3 now.\r\n  \r\nBoth occurs following Error\r\n```error\r\n[ERROR] Unknown lifecycle phase &quot;.cherryPick=2&quot;. You must specify a valid lifecycle phase or a goal in the format &lt;plugin-prefix&gt;:&lt;goal&gt; or &lt;plugin-group-id&gt;:&lt;plugin-artifact-id&gt;[:&lt;plugin-version&gt;]:&lt;goal&gt;. Available life\r\ncycle phases are: validate, initialize, generate-sources, process-sources, generate-resources, process-resources, compile, process-classes, generate-test-sources, process-test-sources, generate-test-resources, process-te\r\nst-resources, test-compile, process-test-classes, test, prepare-package, package, pre-integration-test, integration-test, post-integration-test, verify, install, deploy, pre-clean, clean, post-clean, pre-site, site, post\r\n-site, site-deploy. -&gt; [Help 1]\r\n```\r\n\r\nIn the flyway-commandwindow itselfs works perfectly fine. But i want it to work with mvn-command too.  \r\nI dont want that u need to download extra Flyway, for the command-window. Instead i want to download it with a plugin for my Mavenproject and execute the flyway goals with Maven.\r\n ","title":"Maven Flyway Plugin, Teams Edition, undo with cherryPick","body":"<p>thanks for your answer.\ni figured out a similar way, but i am still not satisfied.<br />\nCurrently it works for me with a placeholder variable in my pom.xml script.</p>\n<p>The missing Pattern i understand now. I watched out for this, that the versionnumbers are fitting. So these Problem is solved.</p>\n<p>I add these 2 Parts in my pom.xml file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;flyway.cherryPick&gt;${CHERRY_PICK_VERSION}&lt;/flyway.cherryPick&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>and</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n    &lt;cherryPick&gt;{flyway.cherryPick}&lt;/cherryPick&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Then i can pass mvn the value of the cherryPick. My Command looks like that: <code>mvn -DCHERRY_PICK_VERSION=&quot;2&quot; flyway:undo </code>, but i dont want to give maven the value to set it fix in the pom.xml.</p>\n<p>I want to pass the cherryPick versions to flyway. So i dont have to pass in every command my CHERRY_PICK_VERSION when i want just <code>mvn flyway:info</code> for example. The command with using cherrPick should like that then: <code>mvn flyway:undo -Dflyway.cherryPick=2</code>. Both commands should be possible, with and without the flag.</p>\n<p>I tried already to cut the cherryPick configurations out of my pom.xml and tried the commands:\n<code>mvn flyway:undo -Dflyway.cherryPick=2</code> &amp; <code>mvn -Dflyway.cherryPick=2 flyway:undo</code><br />\nPS: Versionnumers are 0,1,2,3 now.</p>\n<p>Both occurs following Error</p>\n<pre><code>[ERROR] Unknown lifecycle phase &quot;.cherryPick=2&quot;. You must specify a valid lifecycle phase or a goal in the format &lt;plugin-prefix&gt;:&lt;goal&gt; or &lt;plugin-group-id&gt;:&lt;plugin-artifact-id&gt;[:&lt;plugin-version&gt;]:&lt;goal&gt;. Available life\ncycle phases are: validate, initialize, generate-sources, process-sources, generate-resources, process-resources, compile, process-classes, generate-test-sources, process-test-sources, generate-test-resources, process-te\nst-resources, test-compile, process-test-classes, test, prepare-package, package, pre-integration-test, integration-test, post-integration-test, verify, install, deploy, pre-clean, clean, post-clean, pre-site, site, post\n-site, site-deploy. -&gt; [Help 1]\n</code></pre>\n<p>In the flyway-commandwindow itselfs works perfectly fine. But i want it to work with mvn-command too.<br />\nI dont want that u need to download extra Flyway, for the command-window. Instead i want to download it with a plugin for my Mavenproject and execute the flyway goals with Maven.</p>\n"},{"tags":[],"owner":{"account_id":25384435,"reputation":11,"user_id":19196406,"display_name":"javaTopics"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653651021,"creation_date":1653651021,"answer_id":72404750,"question_id":72374447,"body_markdown":"I was able to fix it! Dont need any support anymore! Thanks:)","title":"Maven Flyway Plugin, Teams Edition, undo with cherryPick","body":"<p>I was able to fix it! Dont need any support anymore! Thanks:)</p>\n"}],"owner":{"account_id":25384435,"reputation":11,"user_id":19196406,"display_name":"javaTopics"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":581,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1653729827,"creation_date":1653468072,"question_id":72374447,"body_markdown":"I have a Maven project with the Flyway Plugin. This Project should test the function of Flyway with a PostgreSQL Database. I got the Testdrive for the Teams Edition. I am also able to execute every Flyway-Goal also undo. The commands I execute looks like following `mvn flyway:undo` and it works fine.  \r\nWhat i want to execute: `mvn flyway:undo -cherryPick=2` or `mvn flyway:undo -cherryPick=1.2` \r\n\r\nAnyway when i want to add *cherryPick* in my *pom.xml* file with:  \r\n```xml\r\n&lt;configuration&gt;\r\n   &lt;cherryPick&gt;2.0&lt;/cherryPick&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nI use: apache-maven 3.6.1\r\n\r\nI got following Error, no matter which command i try. Error also occurs when executing Flyway-Goals for Community Edition.\r\n```error\r\n...\r\n[ERROR] Failed to execute goal org.flywaydb.enterprise:flyway-maven-plugin:8.5.10:info (default-cli) on project flyway-demo: org.flywaydb.core.api.FlywayException: No matching migrations found for pattern: 2.0 -&gt; [Help 1\r\n]\r\n...\r\n```\r\n\r\nHere my *pom.xml* file:\r\n```xml\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n            &lt;version&gt;8.5.10&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;sql-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.5&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.flywaydb.enterprise&lt;/groupId&gt;\r\n                &lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;8.5.10&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;licenseKey&gt;...&lt;/licenseKey&gt;\r\n                    &lt;url&gt;Database-url&lt;/url&gt;\r\n                    &lt;user&gt;user&lt;/user&gt;\r\n                    &lt;password&gt;pw&lt;/password&gt;\r\n                    &lt;driver&gt;Database.Driver&lt;/driver&gt;\r\n                    &lt;locations&gt;\r\n                        &lt;location&gt;filesystem:src/main/resources/db/migration&lt;/location&gt;\r\n                    &lt;/locations&gt;\r\n                    &lt;outOfOrder&gt;true&lt;/outOfOrder&gt;\r\n                    &lt;cherryPick&gt;1.2&lt;/cherryPick&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n                        &lt;version&gt;42.2.6&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;postgresql&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n                        &lt;version&gt;9.1-901-1.jdbc4&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nMy directory for the SQL-Migrations:\r\n[src-diretory for migration][1]  \r\n\r\nI also tried to name the versions like: V0__C..., V1__A..,U0__D.., usw\r\n\r\nCan someone help me out here? I look also already alot on https://flywaydb.org/documentation/configuration/parameters/\r\nbut found nothing...  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/A1Pn1.png","title":"Maven Flyway Plugin, Teams Edition, undo with cherryPick","body":"<p>I have a Maven project with the Flyway Plugin. This Project should test the function of Flyway with a PostgreSQL Database. I got the Testdrive for the Teams Edition. I am also able to execute every Flyway-Goal also undo. The commands I execute looks like following <code>mvn flyway:undo</code> and it works fine.<br />\nWhat i want to execute: <code>mvn flyway:undo -cherryPick=2</code> or <code>mvn flyway:undo -cherryPick=1.2</code></p>\n<p>Anyway when i want to add <em>cherryPick</em> in my <em>pom.xml</em> file with:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n   &lt;cherryPick&gt;2.0&lt;/cherryPick&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>I use: apache-maven 3.6.1</p>\n<p>I got following Error, no matter which command i try. Error also occurs when executing Flyway-Goals for Community Edition.</p>\n<pre><code>...\n[ERROR] Failed to execute goal org.flywaydb.enterprise:flyway-maven-plugin:8.5.10:info (default-cli) on project flyway-demo: org.flywaydb.core.api.FlywayException: No matching migrations found for pattern: 2.0 -&gt; [Help 1\n]\n...\n</code></pre>\n<p>Here my <em>pom.xml</em> file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n            &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n            &lt;version&gt;8.5.10&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;sql-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.5&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.flywaydb.enterprise&lt;/groupId&gt;\n                &lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;8.5.10&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;licenseKey&gt;...&lt;/licenseKey&gt;\n                    &lt;url&gt;Database-url&lt;/url&gt;\n                    &lt;user&gt;user&lt;/user&gt;\n                    &lt;password&gt;pw&lt;/password&gt;\n                    &lt;driver&gt;Database.Driver&lt;/driver&gt;\n                    &lt;locations&gt;\n                        &lt;location&gt;filesystem:src/main/resources/db/migration&lt;/location&gt;\n                    &lt;/locations&gt;\n                    &lt;outOfOrder&gt;true&lt;/outOfOrder&gt;\n                    &lt;cherryPick&gt;1.2&lt;/cherryPick&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n                        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n                        &lt;version&gt;42.2.6&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;postgresql&lt;/groupId&gt;\n                        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n                        &lt;version&gt;9.1-901-1.jdbc4&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>My directory for the SQL-Migrations:\n<a href=\"https://i.stack.imgur.com/A1Pn1.png\" rel=\"nofollow noreferrer\">src-diretory for migration</a></p>\n<p>I also tried to name the versions like: V0__C..., V1__A..,U0__D.., usw</p>\n<p>Can someone help me out here? I look also already alot on <a href=\"https://flywaydb.org/documentation/configuration/parameters/\" rel=\"nofollow noreferrer\">https://flywaydb.org/documentation/configuration/parameters/</a>\nbut found nothing...</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1653729150,"post_id":72414363,"comment_id":127925328,"body_markdown":"That is because no such file exists","body":"That is because no such file exists"},{"owner":{"account_id":9816917,"reputation":1335,"user_id":7273130,"display_name":"Sharp"},"score":0,"creation_date":1653764149,"post_id":72414363,"comment_id":127932586,"body_markdown":"You renamed the file, but you didn&#39;t rename the class. Right-click on MainActivity -&gt; Refactor -&gt; Rename and change the name to NoteKeeperActivity. The file name should be the same as the activity inside, so change the file name to NoteKeeperActivity as well.","body":"You renamed the file, but you didn&#39;t rename the class. Right-click on MainActivity -&gt; Refactor -&gt; Rename and change the name to NoteKeeperActivity. The file name should be the same as the activity inside, so change the file name to NoteKeeperActivity as well."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1653797947,"post_id":72414363,"comment_id":127936757,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":19568660,"reputation":1,"user_id":19219370,"display_name":"John migwi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653729058,"creation_date":1653729058,"question_id":72414363,"body_markdown":"[when i try changing the MainActivity file name to example(NoteKeeper_Activity error occurs on the code as the screenshot shows)][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Nvf3L.png","title":"How do i prevent this error while changing main activity file name in android studio?","body":"<p><a href=\"https://i.stack.imgur.com/Nvf3L.png\" rel=\"nofollow noreferrer\">when i try changing the MainActivity file name to example(NoteKeeper_Activity error occurs on the code as the screenshot shows)</a></p>\n"},{"tags":["java","arrays","multidimensional-array"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1653670190,"post_id":72408176,"comment_id":127915302,"body_markdown":"Do you really want a 2D array? Your array looks 3D with  5 rows, 5 columns, and each hold an array of 2 values?  Or it could be a 2D array with a String in the form of `[xy, xy2]`.","body":"Do you really want a 2D array? Your array looks 3D with  5 rows, 5 columns, and each hold an array of 2 values?  Or it could be a 2D array with a String in the form of <code>[xy, xy2]</code>."},{"owner":{"account_id":18186567,"reputation":374,"user_id":13233164,"display_name":"Peanut Jams"},"score":0,"creation_date":1653670398,"post_id":72408176,"comment_id":127915357,"body_markdown":"Oh... Didn&#39;t know this is 3D array. Thought this is 2D array but with array elements.","body":"Oh... Didn&#39;t know this is 3D array. Thought this is 2D array but with array elements."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1653671120,"post_id":72408176,"comment_id":127915591,"body_markdown":"It is!! But in Java, multiple dimensional arrays are just arrays of arrays of arrays, etc.  So a `2D` array is a single dimensional array with single dimensional array elements.  And they can be different sizes so you can have `jagged` arrays.","body":"It is!! But in Java, multiple dimensional arrays are just arrays of arrays of arrays, etc.  So a <code>2D</code> array is a single dimensional array with single dimensional array elements.  And they can be different sizes so you can have <code>jagged</code> arrays."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653670839,"creation_date":1653670505,"answer_id":72408737,"question_id":72408176,"body_markdown":"Here is one way to do it. It is a &quot;3D&quot; array.  For an array of `[R][C][Other]`\r\n- the first level `R` is the number of rows.\r\n- the second is `C` the number of columns.\r\n- the third is the size of the array in each `[r][c]` cell.\r\n```\r\nint ASize = 20;\r\nint[][][] loc = new int[5][5][2];\r\nfor (int size = 0, xy = ASize / 2; size &lt; 5;\r\n\t\tsize++, xy += ASize) {\r\n\tfor (int size2 = 0, xy2 = ASize / 2; size2 &lt; 5;\r\n\t\t\tsize2++, xy2 += ASize) {\r\n\t\tloc[size][size2][0] = xy2;\r\n\t\tloc[size][size2][1] = xy;\r\n\t}\r\n\t\r\n}\r\nfor (int[][] arr : loc) {\r\n\tSystem.out.println(Arrays.deepToString(arr));\r\n}\r\n```\r\nPrints\r\n```\r\n[[10, 10], [30, 10], [50, 10], [70, 10], [90, 10]]\r\n[[10, 30], [30, 30], [50, 30], [70, 30], [90, 30]]\r\n[[10, 50], [30, 50], [50, 50], [70, 50], [90, 50]]\r\n[[10, 70], [30, 70], [50, 70], [70, 70], [90, 70]]\r\n[[10, 90], [30, 90], [50, 90], [70, 90], [90, 90]]\r\n```\r\nThis prints as follows.\r\n\r\n- Multiple dimensions in Java are really arrays of arrays.\r\n- so the loop iterates over each row (which is a `[5][2]` array) and prints each row using `Arrays.deepToString()`\r\n- `Arrays.toString()` is normally used to print arrays but only the first level.","title":"Java 3D array with array as elements","body":"<p>Here is one way to do it. It is a &quot;3D&quot; array.  For an array of <code>[R][C][Other]</code></p>\n<ul>\n<li>the first level <code>R</code> is the number of rows.</li>\n<li>the second is <code>C</code> the number of columns.</li>\n<li>the third is the size of the array in each <code>[r][c]</code> cell.</li>\n</ul>\n<pre><code>int ASize = 20;\nint[][][] loc = new int[5][5][2];\nfor (int size = 0, xy = ASize / 2; size &lt; 5;\n        size++, xy += ASize) {\n    for (int size2 = 0, xy2 = ASize / 2; size2 &lt; 5;\n            size2++, xy2 += ASize) {\n        loc[size][size2][0] = xy2;\n        loc[size][size2][1] = xy;\n    }\n    \n}\nfor (int[][] arr : loc) {\n    System.out.println(Arrays.deepToString(arr));\n}\n</code></pre>\n<p>Prints</p>\n<pre><code>[[10, 10], [30, 10], [50, 10], [70, 10], [90, 10]]\n[[10, 30], [30, 30], [50, 30], [70, 30], [90, 30]]\n[[10, 50], [30, 50], [50, 50], [70, 50], [90, 50]]\n[[10, 70], [30, 70], [50, 70], [70, 70], [90, 70]]\n[[10, 90], [30, 90], [50, 90], [70, 90], [90, 90]]\n</code></pre>\n<p>This prints as follows.</p>\n<ul>\n<li>Multiple dimensions in Java are really arrays of arrays.</li>\n<li>so the loop iterates over each row (which is a <code>[5][2]</code> array) and prints each row using <code>Arrays.deepToString()</code></li>\n<li><code>Arrays.toString()</code> is normally used to print arrays but only the first level.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653672349,"creation_date":1653671230,"answer_id":72408867,"question_id":72408176,"body_markdown":"While defining a nested array you have to use a pair of square brackets `[]` for each level of nesting. And for &quot;3d&quot; array it would be `[][][]`.\r\n\r\nNote that there&#39;s actually no &quot;2d&quot; or &quot;3d&quot; array in Java. We can create a *nested array*, i.e. an array that contains other arrays.\r\n\r\nWhile creating a nested array, only the length of the outer (enclosing) array needs to be provided. And you can omit declaring the sizes of the inner arrays, that can useful when inner arrays may differ in length.\r\n\r\nI.e. this declaration will also be valid: \r\n```\r\nint[][][] loc = new int[5][][];\r\n```\r\nAnother important thing about arrays that you need to be aware that although they are objects and inherit all behavior from the `Object` class, array don&#39;t have their own classes. As a consequence of this, if you invoke `toString()`, `hasCode()` and `equals()` on an array, a default implementation from the `Object` class would be invoked. Therefore, an attempt to print an array will result in strange symbols appearing on the console.\r\n\r\nFor that reason, [`Arrays`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Arrays.html) utility class if your friend when need to print or compare arrays.\r\n\r\n    public static void main(String[] args) {\r\n\r\n        int[][][] loc = new int[5][5][2];\r\n        \r\n        for (int row = 0; row &lt; loc.length; row++) {\r\n            for (int col = 0; col &lt; loc[row].length; col++) {\r\n                loc[row][col][0] = (1 + 2 * row) * 10;\r\n                loc[row][col][1] = (1 + 2 * col) * 10;\r\n            }\r\n        }    \r\n    \r\n        print3DArray(loc);\r\n    }\r\n    \r\n    public static void print3DArray(int[][][] arr) {\r\n        for (int row = 0; row &lt; arr.length; row++) {\r\n            for (int col = 0; col &lt; arr[row].length; col++) {\r\n                System.out.print(Arrays.toString(arr[row][col]) + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n*Output:*\r\n```\r\n[10, 10] [10, 30] [10, 50] [10, 70] [10, 90] \r\n[30, 10] [30, 30] [30, 50] [30, 70] [30, 90] \r\n[50, 10] [50, 30] [50, 50] [50, 70] [50, 90] \r\n[70, 10] [70, 30] [70, 50] [70, 70] [70, 90] \r\n[90, 10] [90, 30] [90, 50] [90, 70] [90, 90]\r\n```","title":"Java 3D array with array as elements","body":"<p>While defining a nested array you have to use a pair of square brackets <code>[]</code> for each level of nesting. And for &quot;3d&quot; array it would be <code>[][][]</code>.</p>\n<p>Note that there's actually no &quot;2d&quot; or &quot;3d&quot; array in Java. We can create a <em>nested array</em>, i.e. an array that contains other arrays.</p>\n<p>While creating a nested array, only the length of the outer (enclosing) array needs to be provided. And you can omit declaring the sizes of the inner arrays, that can useful when inner arrays may differ in length.</p>\n<p>I.e. this declaration will also be valid:</p>\n<pre><code>int[][][] loc = new int[5][][];\n</code></pre>\n<p>Another important thing about arrays that you need to be aware that although they are objects and inherit all behavior from the <code>Object</code> class, array don't have their own classes. As a consequence of this, if you invoke <code>toString()</code>, <code>hasCode()</code> and <code>equals()</code> on an array, a default implementation from the <code>Object</code> class would be invoked. Therefore, an attempt to print an array will result in strange symbols appearing on the console.</p>\n<p>For that reason, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Arrays.html\" rel=\"nofollow noreferrer\"><code>Arrays</code></a> utility class if your friend when need to print or compare arrays.</p>\n<pre><code>public static void main(String[] args) {\n\n    int[][][] loc = new int[5][5][2];\n    \n    for (int row = 0; row &lt; loc.length; row++) {\n        for (int col = 0; col &lt; loc[row].length; col++) {\n            loc[row][col][0] = (1 + 2 * row) * 10;\n            loc[row][col][1] = (1 + 2 * col) * 10;\n        }\n    }    \n\n    print3DArray(loc);\n}\n\npublic static void print3DArray(int[][][] arr) {\n    for (int row = 0; row &lt; arr.length; row++) {\n        for (int col = 0; col &lt; arr[row].length; col++) {\n            System.out.print(Arrays.toString(arr[row][col]) + &quot; &quot;);\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[10, 10] [10, 30] [10, 50] [10, 70] [10, 90] \n[30, 10] [30, 30] [30, 50] [30, 70] [30, 90] \n[50, 10] [50, 30] [50, 50] [50, 70] [50, 90] \n[70, 10] [70, 30] [70, 50] [70, 70] [70, 90] \n[90, 10] [90, 30] [90, 50] [90, 70] [90, 90]\n</code></pre>\n"}],"owner":{"account_id":18186567,"reputation":374,"user_id":13233164,"display_name":"Peanut Jams"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72408737,"answer_count":2,"score":0,"last_activity_date":1653728644,"creation_date":1653667490,"question_id":72408176,"body_markdown":"Is quiet new to Java so not sure how to create a 3D array with for-loop array as its element:\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            int ASize = 20;\r\n            int[][] loc = new int[5][5];\r\n            for(int size = 0,xy = ASize/2; size &lt; 5; size ++,xy += ASize) {\r\n                for(int size2 = 0,xy2 = ASize/2; size2 &lt; 5; size2 ++,xy2 += ASize) {\r\n                    loc[size][size2] = xy;\r\n                }\r\n                \r\n            }\r\n\r\n        }\r\n    }\r\n\r\nIs trying to create a 3D array with element array in form of [xy,xy2] but can&#39;t figure out the correct way to express it. Supposedly Both variable xy and xy2 increment with for-loops by `ASize` by 20  with initial value of `ASize/2`. The expected output array should be:\r\n\r\n    [10,10] [30,10] [50,10] [70,10] [90,10]\r\n    [10,30] [30,30] [50,30] [70,30] [90,30]\r\n    [10,50] [30,50] [50,50] [70,50] [90,50]\r\n    [10,70] [30,70] [50,70] [70,70] [90,70]\r\n    [10,90] [30,90] [50,90] [70,90] [90,90]\r\n\r\nSo what&#39;s the correct way to write for-loops in order to create this kind of 3D array with incrementing element arrays? ","title":"Java 3D array with array as elements","body":"<p>Is quiet new to Java so not sure how to create a 3D array with for-loop array as its element:</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        int ASize = 20;\n        int[][] loc = new int[5][5];\n        for(int size = 0,xy = ASize/2; size &lt; 5; size ++,xy += ASize) {\n            for(int size2 = 0,xy2 = ASize/2; size2 &lt; 5; size2 ++,xy2 += ASize) {\n                loc[size][size2] = xy;\n            }\n            \n        }\n\n    }\n}\n</code></pre>\n<p>Is trying to create a 3D array with element array in form of [xy,xy2] but can't figure out the correct way to express it. Supposedly Both variable xy and xy2 increment with for-loops by <code>ASize</code> by 20  with initial value of <code>ASize/2</code>. The expected output array should be:</p>\n<pre><code>[10,10] [30,10] [50,10] [70,10] [90,10]\n[10,30] [30,30] [50,30] [70,30] [90,30]\n[10,50] [30,50] [50,50] [70,50] [90,50]\n[10,70] [30,70] [50,70] [70,70] [90,70]\n[10,90] [30,90] [50,90] [70,90] [90,90]\n</code></pre>\n<p>So what's the correct way to write for-loops in order to create this kind of 3D array with incrementing element arrays?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":4338279,"reputation":558,"user_id":3542239,"display_name":"Idan Elhalwani"},"score":0,"creation_date":1653719471,"post_id":72413373,"comment_id":127923858,"body_markdown":"Does [Load different application.yml in SpringBoot Test](https://stackoverflow.com/questions/38711871/load-different-application-yml-in-springboot-test) answer your  question?","body":"Does <a href=\"https://stackoverflow.com/questions/38711871/load-different-application-yml-in-springboot-test\">Load different application.yml in SpringBoot Test</a> answer your  question?"},{"owner":{"account_id":236189,"reputation":2903,"user_id":503510,"accept_rate":81,"display_name":"Tintin"},"score":0,"creation_date":1653719809,"post_id":72413373,"comment_id":127923914,"body_markdown":"Why would you simply not copy over all needed resources to test/java/resources?  src and test resources and/or data should be decoupled as a fundamental rule.","body":"Why would you simply not copy over all needed resources to test/java/resources?  src and test resources and/or data should be decoupled as a fundamental rule."},{"owner":{"account_id":25229135,"reputation":556,"user_id":19064525,"display_name":"SeanH"},"score":0,"creation_date":1653726953,"post_id":72413373,"comment_id":127924996,"body_markdown":"If you want both,  add a application-test.yml in your test,  and active that profile: &quot;test&quot;.  It will load both the application.yml in main and application-test.yml in test.","body":"If you want both,  add a application-test.yml in your test,  and active that profile: &quot;test&quot;.  It will load both the application.yml in main and application-test.yml in test."}],"answers":[{"tags":[],"owner":{"account_id":5865743,"reputation":2651,"user_id":4619784,"display_name":"Hany Sakr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653728600,"creation_date":1653728600,"answer_id":72414310,"question_id":72413373,"body_markdown":"You should have separate resources for each environment, the test has its own folder structure and should has its own different properties\r\n\r\n**/src/main/java/resources** \r\n\r\n**/src/test/java/resources**\r\n\r\nJust try to copy all the properties to the test resource file and change the values based on your configuration.\r\n\r\n","title":"How do you construct a Spring Boot test that loads main and test config files?","body":"<p>You should have separate resources for each environment, the test has its own folder structure and should has its own different properties</p>\n<p><strong>/src/main/java/resources</strong></p>\n<p><strong>/src/test/java/resources</strong></p>\n<p>Just try to copy all the properties to the test resource file and change the values based on your configuration.</p>\n"}],"owner":{"account_id":2180771,"reputation":1911,"user_id":1930325,"accept_rate":24,"display_name":"peterl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":562,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653728600,"creation_date":1653718779,"question_id":72413373,"body_markdown":"By default in a unit test class annotated with `@SpringBootTest`, a properties file in `/src/main/java/resources` is ignored if one exists in `/src/test/java/resources`. \r\n\r\nHow do you construct a test that loads values from both?\r\n\r\nFor example, this test will pass:\r\n\r\n```java\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT)\r\nclass PortTests {\r\n\r\n  @Test\r\n  void testDefaultPort(@LocalServerPort int port) {\r\n    assertThat(port).isEqualTo(12345);\r\n  }\r\n\r\n}\r\n```\r\n\r\nIf the following file exists:\r\n\r\n`/src/main/java/resources/application.yaml`\r\n```yaml\r\nserver:\r\n  port: 12345\r\n```\r\n\r\n\r\nBut that same test fails if you add the following file as well:\r\n\r\n`/src/test/java/resources/application.yaml`:\r\n```yaml\r\nfoo: bar\r\n```\r\n\r\nHow do you construct a test that passes when both files exist?","title":"How do you construct a Spring Boot test that loads main and test config files?","body":"<p>By default in a unit test class annotated with <code>@SpringBootTest</code>, a properties file in <code>/src/main/java/resources</code> is ignored if one exists in <code>/src/test/java/resources</code>.</p>\n<p>How do you construct a test that loads values from both?</p>\n<p>For example, this test will pass:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT)\nclass PortTests {\n\n  @Test\n  void testDefaultPort(@LocalServerPort int port) {\n    assertThat(port).isEqualTo(12345);\n  }\n\n}\n</code></pre>\n<p>If the following file exists:</p>\n<p><code>/src/main/java/resources/application.yaml</code></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>server:\n  port: 12345\n</code></pre>\n<p>But that same test fails if you add the following file as well:</p>\n<p><code>/src/test/java/resources/application.yaml</code>:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>foo: bar\n</code></pre>\n<p>How do you construct a test that passes when both files exist?</p>\n"},{"tags":["java","https","get"],"answers":[{"tags":[],"owner":{"account_id":3902605,"reputation":6480,"user_id":3230038,"accept_rate":68,"display_name":"Leo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1413412066,"creation_date":1413412066,"answer_id":26393195,"question_id":26393031,"body_markdown":"this is my quick and dirty https client in Java, that ignores invalid certificates and authenticates using BASIC\r\n    \r\n    import java.io.IOException;\r\n    import java.net.URL;\r\n    import java.security.KeyManagementException;\r\n    import java.security.NoSuchAlgorithmException;\r\n    \r\n    import javax.net.ssl.HttpsURLConnection;\r\n    import javax.net.ssl.SSLContext;\r\n    import javax.net.ssl.TrustManager;\r\n    \r\n    \tpublic static HttpsURLConnection getConnection(boolean ignoreInvalidCertificate, String user, String pass, HttpRequestMethod httpRequestMethod, URL url) throws KeyManagementException, NoSuchAlgorithmException, IOException{\r\n    \t\tSSLContext ctx = SSLContext.getInstance(&quot;TLS&quot;);\r\n    \t\tif (ignoreInvalidCertificate){\r\n    \t\t\tctx.init(null, new TrustManager[] { new InvalidCertificateTrustManager() }, null);\t\r\n    \t\t}\t\t\r\n    \t\tSSLContext.setDefault(ctx);\r\n    \t\t\r\n    \t\tString authStr = user+&quot;:&quot;+pass;\r\n    \t\tString authEncoded = Base64.encodeBytes(authStr.getBytes());\r\n    \r\n    \t\tHttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\r\n    \t\t\r\n    \t\tconnection.setRequestMethod(&quot;GET&quot;);\r\n    \t\tconnection.setDoOutput(true);\r\n    \t\tconnection.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot; + authEncoded);\t\t\r\n    \r\n    \t\tif (ignoreInvalidCertificate){\r\n    \t\t\tconnection.setHostnameVerifier(new InvalidCertificateHostVerifier());\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn connection;\r\n    \t}\r\n    \r\n--\r\n    \r\n    import javax.net.ssl.HostnameVerifier;\r\n    import javax.net.ssl.SSLSession;\r\n    \r\n    public class InvalidCertificateHostVerifier implements HostnameVerifier{\r\n    \t@Override\r\n    \tpublic boolean verify(String paramString, SSLSession paramSSLSession) {\r\n    \t\treturn true;\r\n    \t}\r\n    }\r\n    \r\n--\r\n\r\n    \r\n    import java.security.cert.CertificateException;\r\n    import java.security.cert.X509Certificate;\r\n    \r\n    import javax.net.ssl.X509TrustManager;\r\n    \r\n    /**\r\n     * ignore invalid Https certificate from OPAM\r\n     * &lt;p&gt;see http://javaskeleton.blogspot.com.br/2011/01/avoiding-sunsecurityvalidatorvalidatore.html\r\n     */\r\n    public class InvalidCertificateTrustManager implements X509TrustManager{\r\n    \t@Override\r\n    \tpublic X509Certificate[] getAcceptedIssuers() {\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void checkServerTrusted(X509Certificate[] paramArrayOfX509Certificate, String paramString) throws CertificateException {\r\n    \r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void checkClientTrusted(X509Certificate[] paramArrayOfX509Certificate, String paramString) throws CertificateException {\r\n    \t}\r\n    }\r\n    \r\n\r\nmaybe it&#39;s something you can start with.\r\n\r\nof course, since you have the connection, you can retrieve the response contents using\r\n\r\n    InputStream content = (InputStream) connection.getInputStream();\r\n\r\n","title":"How to execute a https GET request from java","body":"<p>this is my quick and dirty https client in Java, that ignores invalid certificates and authenticates using BASIC</p>\n\n<pre><code>import java.io.IOException;\nimport java.net.URL;\nimport java.security.KeyManagementException;\nimport java.security.NoSuchAlgorithmException;\n\nimport javax.net.ssl.HttpsURLConnection;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.TrustManager;\n\n    public static HttpsURLConnection getConnection(boolean ignoreInvalidCertificate, String user, String pass, HttpRequestMethod httpRequestMethod, URL url) throws KeyManagementException, NoSuchAlgorithmException, IOException{\n        SSLContext ctx = SSLContext.getInstance(\"TLS\");\n        if (ignoreInvalidCertificate){\n            ctx.init(null, new TrustManager[] { new InvalidCertificateTrustManager() }, null);  \n        }       \n        SSLContext.setDefault(ctx);\n\n        String authStr = user+\":\"+pass;\n        String authEncoded = Base64.encodeBytes(authStr.getBytes());\n\n        HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\n\n        connection.setRequestMethod(\"GET\");\n        connection.setDoOutput(true);\n        connection.setRequestProperty(\"Authorization\", \"Basic \" + authEncoded);     \n\n        if (ignoreInvalidCertificate){\n            connection.setHostnameVerifier(new InvalidCertificateHostVerifier());\n        }\n\n        return connection;\n    }\n</code></pre>\n\n<p>--</p>\n\n<pre><code>import javax.net.ssl.HostnameVerifier;\nimport javax.net.ssl.SSLSession;\n\npublic class InvalidCertificateHostVerifier implements HostnameVerifier{\n    @Override\n    public boolean verify(String paramString, SSLSession paramSSLSession) {\n        return true;\n    }\n}\n</code></pre>\n\n<p>--</p>\n\n<pre><code>import java.security.cert.CertificateException;\nimport java.security.cert.X509Certificate;\n\nimport javax.net.ssl.X509TrustManager;\n\n/**\n * ignore invalid Https certificate from OPAM\n * &lt;p&gt;see http://javaskeleton.blogspot.com.br/2011/01/avoiding-sunsecurityvalidatorvalidatore.html\n */\npublic class InvalidCertificateTrustManager implements X509TrustManager{\n    @Override\n    public X509Certificate[] getAcceptedIssuers() {\n        return null;\n    }\n\n    @Override\n    public void checkServerTrusted(X509Certificate[] paramArrayOfX509Certificate, String paramString) throws CertificateException {\n\n    }\n\n    @Override\n    public void checkClientTrusted(X509Certificate[] paramArrayOfX509Certificate, String paramString) throws CertificateException {\n    }\n}\n</code></pre>\n\n<p>maybe it's something you can start with.</p>\n\n<p>of course, since you have the connection, you can retrieve the response contents using</p>\n\n<pre><code>InputStream content = (InputStream) connection.getInputStream();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27425,"reputation":8620,"user_id":72420,"accept_rate":82,"display_name":"Luixv"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1413906361,"creation_date":1413906361,"answer_id":26490826,"question_id":26393031,"body_markdown":"I developed a solution which looks easier that what has been posted here\r\n\r\n    private String executeGet(final String https_url, final String proxyName, final int port) {\r\n\t\tString ret = &quot;&quot;;\r\n\t\t\r\n\t\tURL url;\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tHttpsURLConnection con;\r\n\t\t\turl = new URL(https_url);\r\n\t\t\t\r\n\t\t\tif (proxyName.isEmpty()) {\t\r\n\t\t\t\tcon = (HttpsURLConnection) url.openConnection();\r\n\t\t\t} else {\t\t\t\t\r\n\t\t\t\tProxy proxy = new Proxy(Proxy.Type.HTTP, new InetSocketAddress(proxyName, port));\r\n\t\t\t\tcon = (HttpsURLConnection) url.openConnection(proxy);\r\n\t\t\t\tAuthenticator authenticator = new Authenticator() {\r\n\t\t\t\t    public PasswordAuthentication getPasswordAuthentication() {\r\n\t\t\t\t            return (new PasswordAuthentication(USERNAME, PASSWORD.toCharArray()));\r\n\t\t\t\t        }\r\n\t\t\t\t\t};\r\n\t\t\t\tAuthenticator.setDefault(authenticator);\r\n\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\tret = getContent(con);\r\n\r\n\t\t} catch (MalformedURLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\treturn ret;\r\n\t}","title":"How to execute a https GET request from java","body":"<p>I developed a solution which looks easier that what has been posted here</p>\n\n<pre><code>private String executeGet(final String https_url, final String proxyName, final int port) {\n    String ret = \"\";\n\n    URL url;\n    try {\n\n        HttpsURLConnection con;\n        url = new URL(https_url);\n\n        if (proxyName.isEmpty()) {  \n            con = (HttpsURLConnection) url.openConnection();\n        } else {                \n            Proxy proxy = new Proxy(Proxy.Type.HTTP, new InetSocketAddress(proxyName, port));\n            con = (HttpsURLConnection) url.openConnection(proxy);\n            Authenticator authenticator = new Authenticator() {\n                public PasswordAuthentication getPasswordAuthentication() {\n                        return (new PasswordAuthentication(USERNAME, PASSWORD.toCharArray()));\n                    }\n                };\n            Authenticator.setDefault(authenticator);\n        }\n\n        ret = getContent(con);\n\n    } catch (MalformedURLException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    return ret;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25410370,"reputation":1,"user_id":19218281,"display_name":"imliterallydanishlol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653728303,"creation_date":1653728303,"answer_id":72414287,"question_id":26393031,"body_markdown":"this does as a destructive code (i think)`import javax.net.ssl.HttpsURLConnection;\r\nimport javax.net.ssl.SSLContext;\r\nimport javax.net.ssl.TrustManager;\r\n\r\n    public static HttpsURLConnection getConnection(boolean ignoreInvalidCertificate, String user, String pass, HttpRequestMethod httpRequestMethod, URL url) throws KeyManagementException, NoSuchAlgorithmException, IOException{\r\n        SSLContext ctx = SSLContext.getInstance(&quot;TLS&quot;);\r\n        if (ignoreInvalidCertificate){\r\n            ctx.init(null, new TrustManager[] { new InvalidCertificateTrustManager() }, null);  \r\n        }       \r\n        SSLContext.setDefault(ctx);\r\n`","title":"How to execute a https GET request from java","body":"<p>this does as a destructive code (i think)`import javax.net.ssl.HttpsURLConnection;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.TrustManager;</p>\n<pre><code>public static HttpsURLConnection getConnection(boolean ignoreInvalidCertificate, String user, String pass, HttpRequestMethod httpRequestMethod, URL url) throws KeyManagementException, NoSuchAlgorithmException, IOException{\n    SSLContext ctx = SSLContext.getInstance(&quot;TLS&quot;);\n    if (ignoreInvalidCertificate){\n        ctx.init(null, new TrustManager[] { new InvalidCertificateTrustManager() }, null);  \n    }       \n    SSLContext.setDefault(ctx);\n</code></pre>\n<p>`</p>\n"}],"owner":{"account_id":27425,"reputation":8620,"user_id":72420,"accept_rate":82,"display_name":"Luixv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67578,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":26490826,"answer_count":3,"score":9,"last_activity_date":1653728303,"creation_date":1413411206,"question_id":26393031,"body_markdown":"I wrote a Java client which executes `http` GET requests without any problem. \r\nNow I want to modify this client in order to execute `https` GET requests.\r\n\r\n\r\n\r\n    \r\n    import org.apache.http.HttpHost;\r\n    import org.apache.http.auth.AuthScope;\r\n    import org.apache.http.auth.UsernamePasswordCredentials;\r\n    import org.apache.http.client.CredentialsProvider;\r\n    import org.apache.http.client.config.RequestConfig;\r\n    import org.apache.http.client.methods.CloseableHttpResponse;\r\n    import org.apache.http.client.methods.HttpGet;\r\n    import org.apache.http.impl.client.BasicCredentialsProvider;\r\n    import org.apache.http.impl.client.CloseableHttpClient;\r\n    import org.apache.http.impl.client.HttpClients;\r\n\r\n    private String executeGet(final String url, String proxy, int port)\r\n\t\t\tthrows IOException, RequestUnsuccesfulException, InvalidParameterException {\r\n\r\n\t\tCloseableHttpClient httpclient = null;\r\n\t\tString ret = &quot;&quot;;\r\n\t\tRequestConfig config;\r\n\t\t\r\n\t\ttry {\t\t\t\t\t\t\r\n\t\t\tString hostname = extractHostname(url);\r\n\t\t\tlogger.info(&quot;Hostname {}&quot;, hostname);\r\n\t\t\t\r\n\t\t\tHttpHost target = new HttpHost(hostname, 80, null);\r\n\t\t\t\r\n\t\t\tHttpHost myProxy = new HttpHost(proxy, port, &quot;http&quot;);\r\n\t\t\tCredentialsProvider credsProvider = new BasicCredentialsProvider();\r\n\t\t\tcredsProvider.setCredentials(\r\n\t\t\t\t\tAuthScope.ANY,\r\n\t\t\t\t\tnew UsernamePasswordCredentials(USERNAME, PASSWORD));\r\n\t\t\t\r\n\t\t\thttpclient = HttpClients.custom().setDefaultCredentialsProvider(credsProvider).build();\t\t\t\r\n\t\t\tconfig = RequestConfig.custom().setProxy(myProxy).build();\r\n\t\t\t\r\n\r\n\t\t\tHttpGet request = new HttpGet(url);\r\n\t\t\trequest.setConfig(config);\r\n\t\t\tCloseableHttpResponse response = httpclient.execute(target, request);\r\n\t\t\t\r\n\t\t\t...\r\n\r\nI was expecting an easy modification like using &lt;code&gt;HttpsGet&lt;/code&gt; instead of &lt;code&gt;HttpGet&lt;/code&gt; but no, there is no &lt;code&gt;HttpsGet&lt;/code&gt; class available.\r\n\r\nWhat is the easiest way to modify this method in order to handle &lt;code&gt;https&lt;/code&gt; GET requests?","title":"How to execute a https GET request from java","body":"<p>I wrote a Java client which executes <code>http</code> GET requests without any problem. \nNow I want to modify this client in order to execute <code>https</code> GET requests.</p>\n\n<pre><code>import org.apache.http.HttpHost;\nimport org.apache.http.auth.AuthScope;\nimport org.apache.http.auth.UsernamePasswordCredentials;\nimport org.apache.http.client.CredentialsProvider;\nimport org.apache.http.client.config.RequestConfig;\nimport org.apache.http.client.methods.CloseableHttpResponse;\nimport org.apache.http.client.methods.HttpGet;\nimport org.apache.http.impl.client.BasicCredentialsProvider;\nimport org.apache.http.impl.client.CloseableHttpClient;\nimport org.apache.http.impl.client.HttpClients;\n\nprivate String executeGet(final String url, String proxy, int port)\n        throws IOException, RequestUnsuccesfulException, InvalidParameterException {\n\n    CloseableHttpClient httpclient = null;\n    String ret = \"\";\n    RequestConfig config;\n\n    try {                       \n        String hostname = extractHostname(url);\n        logger.info(\"Hostname {}\", hostname);\n\n        HttpHost target = new HttpHost(hostname, 80, null);\n\n        HttpHost myProxy = new HttpHost(proxy, port, \"http\");\n        CredentialsProvider credsProvider = new BasicCredentialsProvider();\n        credsProvider.setCredentials(\n                AuthScope.ANY,\n                new UsernamePasswordCredentials(USERNAME, PASSWORD));\n\n        httpclient = HttpClients.custom().setDefaultCredentialsProvider(credsProvider).build();         \n        config = RequestConfig.custom().setProxy(myProxy).build();\n\n\n        HttpGet request = new HttpGet(url);\n        request.setConfig(config);\n        CloseableHttpResponse response = httpclient.execute(target, request);\n\n        ...\n</code></pre>\n\n<p>I was expecting an easy modification like using <code>HttpsGet</code> instead of <code>HttpGet</code> but no, there is no <code>HttpsGet</code> class available.</p>\n\n<p>What is the easiest way to modify this method in order to handle <code>https</code> GET requests?</p>\n"},{"tags":["java","oracle","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":12498833,"reputation":135387,"user_id":9097906,"display_name":"Littlefoot"},"score":1,"creation_date":1653648501,"post_id":72404059,"comment_id":127907189,"body_markdown":"Which Oracle database version do you use? I suspect that it doesn&#39;t support FETCH ? ROWS ONLY.","body":"Which Oracle database version do you use? I suspect that it doesn&#39;t support FETCH ? ROWS ONLY."}],"answers":[{"tags":[],"owner":{"account_id":25313691,"reputation":83,"user_id":19136108,"display_name":"Andromeda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653648710,"creation_date":1653648498,"answer_id":72404205,"question_id":72404059,"body_markdown":"Try to specific column names in entities:\r\n\r\n    @Column(name = &quot;POST_ID1_1_&quot;)\r\n    private Long postId","title":"SQL Error: 933, SQLState: 42000 and ORA-00933: SQL command not properly ended in spring boot","body":"<p>Try to specific column names in entities:</p>\n<pre><code>@Column(name = &quot;POST_ID1_1_&quot;)\nprivate Long postId\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15034993,"reputation":1,"user_id":10851713,"display_name":"przemo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653728081,"creation_date":1653728081,"answer_id":72414271,"question_id":72404059,"body_markdown":"Set correct dialect for database (application.properties). Try with: \r\n```\r\nspring.jpa.database-platform=org.hibernate.dialect.Oracle10gDialect\r\n```","title":"SQL Error: 933, SQLState: 42000 and ORA-00933: SQL command not properly ended in spring boot","body":"<p>Set correct dialect for database (application.properties). Try with:</p>\n<pre><code>spring.jpa.database-platform=org.hibernate.dialect.Oracle10gDialect\n</code></pre>\n"}],"owner":{"account_id":9761887,"reputation":1,"user_id":7236732,"display_name":"Subelal Pal "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1469,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653728081,"creation_date":1653647655,"question_id":72404059,"body_markdown":"    Hibernate: select post0_.post_id as post_id1_1_, post0_.added_date as added_date2_1_, post0_.category_id as category_id6_1_, post0_.content as content3_1_, post0_.image_name as image_name4_1_, post0_.post_title as post_title5_1_, post0_.user_id as user_id7_1_ from posts post0_ fetch first ? rows only\r\n    2022-05-27 15:54:49.431  WARN 22616 --- [nio-9191-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 933, SQLState: 42000\r\n    2022-05-27 15:54:49.431 ERROR 22616 --- [nio-9191-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : ORA-00933: SQL command not properly ended\r\n    \r\n    2022-05-27 15:54:49.433 ERROR 22616 --- [nio-9191-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet] with root cause\r\n    \r\n    oracle.jdbc.OracleDatabaseException: ORA-00933: SQL command not properly ended","title":"SQL Error: 933, SQLState: 42000 and ORA-00933: SQL command not properly ended in spring boot","body":"<pre><code>Hibernate: select post0_.post_id as post_id1_1_, post0_.added_date as added_date2_1_, post0_.category_id as category_id6_1_, post0_.content as content3_1_, post0_.image_name as image_name4_1_, post0_.post_title as post_title5_1_, post0_.user_id as user_id7_1_ from posts post0_ fetch first ? rows only\n2022-05-27 15:54:49.431  WARN 22616 --- [nio-9191-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 933, SQLState: 42000\n2022-05-27 15:54:49.431 ERROR 22616 --- [nio-9191-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : ORA-00933: SQL command not properly ended\n\n2022-05-27 15:54:49.433 ERROR 22616 --- [nio-9191-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet] with root cause\n\noracle.jdbc.OracleDatabaseException: ORA-00933: SQL command not properly ended\n</code></pre>\n"},{"tags":["java","gradle","junit","build.gradle","gradlew"],"answers":[{"tags":[],"owner":{"account_id":115919,"reputation":43529,"user_id":304151,"accept_rate":81,"display_name":"Mridang Agarwalla"},"down_vote_count":1,"up_vote_count":46,"is_accepted":true,"score":45,"last_activity_date":1500555787,"creation_date":1474899404,"answer_id":39705290,"question_id":38967991,"body_markdown":"This issue seems to be related to Linux rather than Gradle as stated in the Jenkins docs:\r\n\r\n&gt; In cases where virtual memory is running short the kernel OOM (Out of\r\n&gt; Memory) killer may forcibly kill Jenkins or individual builds. If this\r\n&gt; occurs on Linux you may see builds terminate with exit code 137 (128 +\r\n&gt; signal number for SIGKILL). The `dmesg` command output will show log\r\n&gt; messages that will confirm the action that the kernel took.\r\n\r\n[https://wiki.jenkins-ci.org/display/JENKINS/I&#39;m+getting+OutOfMemoryError][1]\r\n\r\n\r\n  [1]: https://wiki.jenkins-ci.org/display/JENKINS/I&#39;m+getting+OutOfMemoryError","title":"Why are my Gradle builds dying with exit-code 137?","body":"<p>This issue seems to be related to Linux rather than Gradle as stated in the Jenkins docs:</p>\n\n<blockquote>\n  <p>In cases where virtual memory is running short the kernel OOM (Out of\n  Memory) killer may forcibly kill Jenkins or individual builds. If this\n  occurs on Linux you may see builds terminate with exit code 137 (128 +\n  signal number for SIGKILL). The <code>dmesg</code> command output will show log\n  messages that will confirm the action that the kernel took.</p>\n</blockquote>\n\n<p><a href=\"https://wiki.jenkins-ci.org/display/JENKINS/I&#39;m+getting+OutOfMemoryError\" rel=\"noreferrer\">https://wiki.jenkins-ci.org/display/JENKINS/I'm+getting+OutOfMemoryError</a></p>\n"},{"tags":[],"owner":{"account_id":5976079,"reputation":1506,"user_id":4696890,"display_name":"Roman Golyshev"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1500220931,"creation_date":1500220931,"answer_id":45130617,"question_id":38967991,"body_markdown":"I&#39;ve had similar issue on DigitalOcean&#39;s server, my gradle build failed completely on `test` stage with very similar stacktrace and without a single test being executed. \r\n\r\nIt is stated in Gradle docs that gradle daemon [should not be run in CI environments][1]. So I just added `--no-daemon` to my build command and everything worked well and good. Also stopping daemon with `./gradlew --stop` has been useful, but it worked only for a single build - the next one also failed.\r\n\r\nMy build command: \r\n\r\n    ./gradlew build --no-daemon\r\n\r\n\r\n  [1]: https://docs.gradle.org/3.3/userguide/gradle_daemon.html#when_should_i_not_use_the_gradle_daemon","title":"Why are my Gradle builds dying with exit-code 137?","body":"<p>I've had similar issue on DigitalOcean's server, my gradle build failed completely on <code>test</code> stage with very similar stacktrace and without a single test being executed. </p>\n\n<p>It is stated in Gradle docs that gradle daemon <a href=\"https://docs.gradle.org/3.3/userguide/gradle_daemon.html#when_should_i_not_use_the_gradle_daemon\" rel=\"noreferrer\">should not be run in CI environments</a>. So I just added <code>--no-daemon</code> to my build command and everything worked well and good. Also stopping daemon with <code>./gradlew --stop</code> has been useful, but it worked only for a single build - the next one also failed.</p>\n\n<p>My build command: </p>\n\n<pre><code>./gradlew build --no-daemon\n</code></pre>\n"},{"tags":[],"owner":{"account_id":900444,"reputation":589,"user_id":936729,"display_name":"Baptiste Mesta"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1531752129,"creation_date":1531752129,"answer_id":51364393,"question_id":38967991,"body_markdown":"I had the same issue but in a CI environment where build are launched in **docker** container.\r\nIn that specific case the JVM is not aware of how much memory it can use and you can experience this type of issues.\r\n\r\nIn order to let the JVM know how much memory is available, you can use \r\n\r\n`gradle build -Dorg.gradle.jvmargs=-XX:+UnlockExperimentalVMOptions -XX:+UseCGroupMemoryLimitForHeap`\r\n\r\nand also set it on your test tasks:\r\n\r\n\r\n    test {\r\n      jvmArgs &quot;-XX:+UnlockExperimentalVMOptions&quot;, &quot;-XX:+UseCGroupMemoryLimitForHeap&quot;\r\n    }\r\n\r\nThis is a new JVM feature introduced in 8u131+\r\n\r\nsee: http://royvanrijn.com/blog/2018/05/java-and-docker-memory-limits/\r\n\r\n","title":"Why are my Gradle builds dying with exit-code 137?","body":"<p>I had the same issue but in a CI environment where build are launched in <strong>docker</strong> container.\nIn that specific case the JVM is not aware of how much memory it can use and you can experience this type of issues.</p>\n\n<p>In order to let the JVM know how much memory is available, you can use </p>\n\n<p><code>gradle build -Dorg.gradle.jvmargs=-XX:+UnlockExperimentalVMOptions -XX:+UseCGroupMemoryLimitForHeap</code></p>\n\n<p>and also set it on your test tasks:</p>\n\n<pre><code>test {\n  jvmArgs \"-XX:+UnlockExperimentalVMOptions\", \"-XX:+UseCGroupMemoryLimitForHeap\"\n}\n</code></pre>\n\n<p>This is a new JVM feature introduced in 8u131+</p>\n\n<p>see: <a href=\"http://royvanrijn.com/blog/2018/05/java-and-docker-memory-limits/\" rel=\"noreferrer\">http://royvanrijn.com/blog/2018/05/java-and-docker-memory-limits/</a></p>\n"},{"tags":[],"owner":{"account_id":8365033,"reputation":574,"user_id":6282033,"display_name":"Mike Rippon"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1535390283,"creation_date":1534998756,"answer_id":51978357,"question_id":38967991,"body_markdown":"I&#39;ve also been having the same problem on CircleCI, but I didn&#39;t have any luck with any of the above. This is what I found:\r\n\r\n* Adding `-Dorg.gradle.daemon=false` to my CircleCI `config.yml` stopped the daemon from being used, but didn&#39;t fix the problem.\r\n* Adding `-Dorg.gradle.workers.max=2` to `GRADLE_OPTS`, or `--max-workers 2` to the gradle command didn&#39;t seem to have much/any effect from what I could see. I tried `--max-workers=2` just in case, because both formats seem to be floating around on Google. I connected to my CircleCI container, and in `top` I could still see 3-4 Java processes forking off, so not sure this is doing anything?\r\n* I also tried max workers = 1 in the combinations above.\r\n* Tried `-XX:+UnlockExperimentalVMOptions` and `-XX:+UseCGroupMemoryLimitForHeap` in both JVM args, and in the `test {}` configuration inside my build as suggested by Baptiste Mesta. I don&#39;t see how this could work; I would have thought the multiple forked processes don&#39;t know what proportion of the container memory the other processes are using up? Unless I&#39;m not understanding it correctly.\r\n\r\nIn the end, I fixed it just by being nice and explicit with the memory settings, rather than using magic:\r\n\r\n* Circle CI config: `GRADLE_OPTS: -Xmx2048m -Dorg.gradle.daemon=false`\r\n* Gradle build: `test { maxHeapSize = &quot;512m&quot; }`\r\n\r\nEdit: You may need to go lower, depending on whether you have other processes running.","title":"Why are my Gradle builds dying with exit-code 137?","body":"<p>I've also been having the same problem on CircleCI, but I didn't have any luck with any of the above. This is what I found:</p>\n\n<ul>\n<li>Adding <code>-Dorg.gradle.daemon=false</code> to my CircleCI <code>config.yml</code> stopped the daemon from being used, but didn't fix the problem.</li>\n<li>Adding <code>-Dorg.gradle.workers.max=2</code> to <code>GRADLE_OPTS</code>, or <code>--max-workers 2</code> to the gradle command didn't seem to have much/any effect from what I could see. I tried <code>--max-workers=2</code> just in case, because both formats seem to be floating around on Google. I connected to my CircleCI container, and in <code>top</code> I could still see 3-4 Java processes forking off, so not sure this is doing anything?</li>\n<li>I also tried max workers = 1 in the combinations above.</li>\n<li>Tried <code>-XX:+UnlockExperimentalVMOptions</code> and <code>-XX:+UseCGroupMemoryLimitForHeap</code> in both JVM args, and in the <code>test {}</code> configuration inside my build as suggested by Baptiste Mesta. I don't see how this could work; I would have thought the multiple forked processes don't know what proportion of the container memory the other processes are using up? Unless I'm not understanding it correctly.</li>\n</ul>\n\n<p>In the end, I fixed it just by being nice and explicit with the memory settings, rather than using magic:</p>\n\n<ul>\n<li>Circle CI config: <code>GRADLE_OPTS: -Xmx2048m -Dorg.gradle.daemon=false</code></li>\n<li>Gradle build: <code>test { maxHeapSize = \"512m\" }</code></li>\n</ul>\n\n<p>Edit: You may need to go lower, depending on whether you have other processes running.</p>\n"},{"tags":[],"owner":{"account_id":332952,"reputation":359,"user_id":658541,"accept_rate":83,"display_name":"k6ps"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1546336658,"creation_date":1546336658,"answer_id":53994529,"question_id":38967991,"body_markdown":"I had a similar issue with Bamboo agents (running on Docker) running Gradle 4.6. The ```test``` task just abruptly terminated with\r\n\r\n        build   27-Dec-2018 22:00:20    22:00:20.018 [DEBUG] [org.gradle.process.internal.DefaultExecHandle] Process &#39;Gradle Test Executor 1&#39; finished with exit value 137 (state: FAILED)\r\n\r\nWe have over 3000 unit tests. In our case, the issue was solved using ```forkEvery``` to limit the number of test classes run per test executor process, and also limiting memory usage:\r\n\r\n        test {\r\n            maxHeapSize &#39;512m&#39;\r\n            forkEvery 100\r\n            jvmArgs &#39;-Xmx512m&#39;, &#39;-Xms512m&#39;\r\n        }","title":"Why are my Gradle builds dying with exit-code 137?","body":"<p>I had a similar issue with Bamboo agents (running on Docker) running Gradle 4.6. The <code>test</code> task just abruptly terminated with</p>\n\n<pre><code>    build   27-Dec-2018 22:00:20    22:00:20.018 [DEBUG] [org.gradle.process.internal.DefaultExecHandle] Process 'Gradle Test Executor 1' finished with exit value 137 (state: FAILED)\n</code></pre>\n\n<p>We have over 3000 unit tests. In our case, the issue was solved using <code>forkEvery</code> to limit the number of test classes run per test executor process, and also limiting memory usage:</p>\n\n<pre><code>    test {\n        maxHeapSize '512m'\n        forkEvery 100\n        jvmArgs '-Xmx512m', '-Xms512m'\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1550728,"reputation":1992,"user_id":1443182,"accept_rate":79,"display_name":"Mark Gilchrist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552495684,"creation_date":1552495684,"answer_id":55147180,"question_id":38967991,"body_markdown":"If you are having trouble with this on CircleCi, where you are trying to run Robolectric Test\r\n\r\nI found the solution to my problems on their documentation page for android \r\n\r\nhttps://circleci.com/docs/2.0/language-android/\r\n\r\nwhich was simply to add \r\n\r\n```groovy\r\nandroid {\r\n    testOptions {\r\n        unitTests {\r\n            returnDefaultValues = true\r\n            includeAndroidResources = true\r\n\r\n            all {\r\n                maxHeapSize = &quot;1024m&quot;\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nIf you are still running into OOM issues you can also limit the max workers for gradle: ./gradlew test --max-workers 4\r\n\r\n","title":"Why are my Gradle builds dying with exit-code 137?","body":"<p>If you are having trouble with this on CircleCi, where you are trying to run Robolectric Test</p>\n\n<p>I found the solution to my problems on their documentation page for android </p>\n\n<p><a href=\"https://circleci.com/docs/2.0/language-android/\" rel=\"nofollow noreferrer\">https://circleci.com/docs/2.0/language-android/</a></p>\n\n<p>which was simply to add </p>\n\n<pre><code>android {\n    testOptions {\n        unitTests {\n            returnDefaultValues = true\n            includeAndroidResources = true\n\n            all {\n                maxHeapSize = \"1024m\"\n            }\n        }\n    }\n</code></pre>\n\n<p>If you are still running into OOM issues you can also limit the max workers for gradle: ./gradlew test --max-workers 4</p>\n"},{"tags":[],"owner":{"account_id":1248466,"reputation":61,"user_id":7146220,"display_name":"Max Mao"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1562604363,"creation_date":1562604363,"answer_id":56939344,"question_id":38967991,"body_markdown":"Similar to Baptiste Mesta&#39;s answer but for JDK 11 I used the UseContainerSupport JVM option to solve my Jenkins build. \r\n\r\n    ./gradlew test --no-daemon -Dorg.gradle.jvmargs=-XX:+UseContainerSupport\r\n\r\n","title":"Why are my Gradle builds dying with exit-code 137?","body":"<p>Similar to Baptiste Mesta's answer but for JDK 11 I used the UseContainerSupport JVM option to solve my Jenkins build. </p>\n\n<pre><code>./gradlew test --no-daemon -Dorg.gradle.jvmargs=-XX:+UseContainerSupport\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3265677,"reputation":2375,"user_id":2750224,"display_name":"Zia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564374733,"creation_date":1564374733,"answer_id":57247224,"question_id":38967991,"body_markdown":"This is actually a memory issue, Generally, Docker container has a memory limit of 4G so you need to take care that your java heap doesn&#39;t cross that limit, there are few solutions to it I am taking reference of android\r\n\r\n1. Add this to gradle.properties (change size according to your need)\r\n\r\n    `org.gradle.jvmargs=-Xmx10248m -XX:MaxPermSize=256m`\r\n\r\n2. Add this to your build.gradle\r\n\r\n    `android.testOptions.unitTests.all { maxHeapSize = &quot;1024m&quot; }`\r\n\r\nor \r\n\r\n    android {\r\n        testOptions {\r\n            unitTests {\r\n                // Any other configurations\r\n                all {\r\n                    maxHeapSize = &quot;1024m&quot;\r\n                }\r\n            }\r\n        }\r\n\r\nIf you are still running into OOM issues you can also limit the max workers for gradle: `./gradlew test --max-workers 4`\r\n\r\nHope this helps.","title":"Why are my Gradle builds dying with exit-code 137?","body":"<p>This is actually a memory issue, Generally, Docker container has a memory limit of 4G so you need to take care that your java heap doesn't cross that limit, there are few solutions to it I am taking reference of android</p>\n\n<ol>\n<li><p>Add this to gradle.properties (change size according to your need)</p>\n\n<p><code>org.gradle.jvmargs=-Xmx10248m -XX:MaxPermSize=256m</code></p></li>\n<li><p>Add this to your build.gradle</p>\n\n<p><code>android.testOptions.unitTests.all { maxHeapSize = \"1024m\" }</code></p></li>\n</ol>\n\n<p>or </p>\n\n<pre><code>android {\n    testOptions {\n        unitTests {\n            // Any other configurations\n            all {\n                maxHeapSize = \"1024m\"\n            }\n        }\n    }\n</code></pre>\n\n<p>If you are still running into OOM issues you can also limit the max workers for gradle: <code>./gradlew test --max-workers 4</code></p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":4787622,"reputation":129,"user_id":3867630,"display_name":"tez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600513345,"creation_date":1600513345,"answer_id":63968011,"question_id":38967991,"body_markdown":"I&#39;d similar issue on intellij. I upgraded the memory as stated in above answers and disabled daemon in gradle.properties file\r\n\r\n    org.gradle.daemon=false\r\n\r\nGradle Daemon is a long lived build process. It caches the information about files, tasks,project structure, etc from the previous build. Hence, making your subsequent builds efficient. Daemon process is enabled by default. But sometimes it gets corrupted, so you may try disabling daemon process.","title":"Why are my Gradle builds dying with exit-code 137?","body":"<p>I'd similar issue on intellij. I upgraded the memory as stated in above answers and disabled daemon in gradle.properties file</p>\n<pre><code>org.gradle.daemon=false\n</code></pre>\n<p>Gradle Daemon is a long lived build process. It caches the information about files, tasks,project structure, etc from the previous build. Hence, making your subsequent builds efficient. Daemon process is enabled by default. But sometimes it gets corrupted, so you may try disabling daemon process.</p>\n"},{"tags":[],"owner":{"account_id":9706811,"reputation":2870,"user_id":7200018,"display_name":"GnanaJeyam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653727914,"creation_date":1653657743,"answer_id":72406148,"question_id":38967991,"body_markdown":"For my project, We are using **Java 11** and **Gradle 7.3.3**\r\n\r\nI fixed this issue by increasing the heap size and added jvm args in the gradle test task.\r\n\r\n    test {\r\n       useJUnitPlatform()\r\n       maxHeapSize(&quot;2048m&quot;)\r\n       jvmArgs &quot;-XX:+UnlockExperimentalVMOptions&quot;\r\n    }","title":"Why are my Gradle builds dying with exit-code 137?","body":"<p>For my project, We are using <strong>Java 11</strong> and <strong>Gradle 7.3.3</strong></p>\n<p>I fixed this issue by increasing the heap size and added jvm args in the gradle test task.</p>\n<pre><code>test {\n   useJUnitPlatform()\n   maxHeapSize(&quot;2048m&quot;)\n   jvmArgs &quot;-XX:+UnlockExperimentalVMOptions&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":115919,"reputation":43529,"user_id":304151,"accept_rate":81,"display_name":"Mridang Agarwalla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58511,"favorite_count":0,"down_vote_count":0,"up_vote_count":82,"accepted_answer_id":39705290,"answer_count":10,"score":82,"last_activity_date":1653727914,"creation_date":1471329004,"question_id":38967991,"body_markdown":"I&#39;ve been trying to compile and test a large project to use Gradle. The test run fine until they die unexpectedly. I dug around and resources said that this is due to a memory issue. If I reduce the number of tests in the suite, it runs fine.\r\n\r\nI increased the memory by 4x increased the debugging level but I still don&#39;t follow what causes this. Here&#39;s the horribly cryptic stacktrace. The last line (scroll right) shows the memory settings that I&#39;ve defined. \r\n\r\n    ...\r\n    ...\r\n    ...\r\n    \r\n    1125 tests completed, 30 failed, 9 skipped\r\n    :test FAILED\r\n    :test (Thread[Daemon worker,5,main]) completed. Took 8 mins 39.684 secs.\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:test&#39;.\r\n    &gt; Process &#39;Gradle Test Executor 1&#39; finished with non-zero exit value 137\r\n    \r\n    * Try:\r\n    Run with --debug option to get more log output.\r\n    \r\n    * Exception is:\r\n    org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:test&#39;.\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:69)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:46)\r\n    \tat org.gradle.api.internal.tasks.execution.PostExecutionAnalysisTaskExecuter.execute(PostExecutionAnalysisTaskExecuter.java:35)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:64)\r\n    \tat org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:52)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:53)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:203)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:185)\r\n    \tat org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.processTask(AbstractTaskPlanExecutor.java:66)\r\n    \tat org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.run(AbstractTaskPlanExecutor.java:50)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor.process(DefaultTaskPlanExecutor.java:25)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.execute(DefaultTaskGraphExecuter.java:110)\r\n    \tat org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:37)\r\n    \tat org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\r\n    \tat org.gradle.execution.DefaultBuildExecuter.access$000(DefaultBuildExecuter.java:23)\r\n    \tat org.gradle.execution.DefaultBuildExecuter$1.proceed(DefaultBuildExecuter.java:43)\r\n    \tat org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:32)\r\n    \tat org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\r\n    \tat org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:30)\r\n    \tat org.gradle.initialization.DefaultGradleLauncher$4.run(DefaultGradleLauncher.java:154)\r\n    \tat org.gradle.internal.Factories$1.create(Factories.java:22)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:52)\r\n    \tat org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:151)\r\n    \tat org.gradle.initialization.DefaultGradleLauncher.access$200(DefaultGradleLauncher.java:32)\r\n    \tat org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:99)\r\n    \tat org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:93)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:62)\r\n    \tat org.gradle.initialization.DefaultGradleLauncher.doBuild(DefaultGradleLauncher.java:93)\r\n    \tat org.gradle.initialization.DefaultGradleLauncher.run(DefaultGradleLauncher.java:82)\r\n    \tat org.gradle.launcher.exec.InProcessBuildActionExecuter$DefaultBuildController.run(InProcessBuildActionExecuter.java:94)\r\n    \tat org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)\r\n    \tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n    \tat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:43)\r\n    \tat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:28)\r\n    \tat org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:78)\r\n    \tat org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:48)\r\n    \tat org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:52)\r\n    \tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\r\n    \tat org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\r\n    \tat org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\r\n    \tat org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\r\n    \tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\r\n    \tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\r\n    \tat org.gradle.util.Swapper.swap(Swapper.java:38)\r\n    \tat org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\r\n    \tat org.gradle.launcher.daemon.server.health.DaemonHealthTracker.execute(DaemonHealthTracker.java:40)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\r\n    \tat org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:66)\r\n    \tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\r\n    \tat org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:72)\r\n    \tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\r\n    \tat org.gradle.launcher.daemon.server.health.HintGCAfterBuild.execute(HintGCAfterBuild.java:41)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\r\n    \tat org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\r\n    \r\n    BUILD FAILED\tat org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:246)\r\n    \r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:54)\r\n    \tat org.gradle.internal.concurrent.StoppableExecutorImpl$1.run(StoppableExecutorImpl.java:40)\r\n    \r\n    Caused by: org.gradle.process.internal.ExecException: Process &#39;Gradle Test Executor 1&#39; finished with non-zero exit value 137\r\n    Total time: 9 mins 38.624 secs\r\n    \tat org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:367)\r\n    \tat org.gradle.process.internal.DefaultWorkerProcess.waitForStop(DefaultWorkerProcess.java:161)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.ForkingTestClassProcessor.stop(ForkingTestClassProcessor.java:86)\r\n    \tat org.gradle.api.internal.tasks.testing.processors.RestartEveryNTestClassProcessor.endBatch(RestartEveryNTestClassProcessor.java:60)\r\n    \tat org.gradle.api.internal.tasks.testing.processors.RestartEveryNTestClassProcessor.stop(RestartEveryNTestClassProcessor.java:54)\r\n    \tat org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\r\n    \tat org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.messaging.dispatch.FailureHandlingDispatch.dispatch(FailureHandlingDispatch.java:29)\r\n    \tat org.gradle.messaging.dispatch.AsyncDispatch.dispatchMessages(AsyncDispatch.java:132)\r\n    \tat org.gradle.messaging.dispatch.AsyncDispatch.access$000(AsyncDispatch.java:33)\r\n    \tat org.gradle.messaging.dispatch.AsyncDispatch$1.run(AsyncDispatch.java:72)\r\n    \t... 2 more\r\n    \r\n    Stopped 0 compiler daemon(s).\r\n    Received result Failure[value=org.gradle.initialization.ReportedException: org.gradle.internal.exceptions.LocationAwareException: Execution failed for task &#39;:test&#39;.] from daemon DaemonInfo{pid=48, address=[65adcc0f-8881-4511-b7a0-1b88c7016510 port:34390, addresses:[/0:0:0:0:0:0:0:1%lo, /127.0.0.1]], idle=false, context=DefaultDaemonContext[uid=14546872-57d6-4da6-8358-dc41cb7bb01d,javaHome=/usr/lib/jvm/java-8-oracle,daemonRegistryDir=/srv/myapplication/.gradle/daemon,pid=48,idleTimeout=120000,daemonOpts=-XX:MaxMetaspaceSize=320m,-XX:+DisableExplicitGC,-XX:+UseConcMarkSweepGC,-XX:NewSize=124m,-XX:SurvivorRatio=16,-Xms257m,-Xmx2049m,-Dfile.encoding=UTF-8,-Duser.country=US,-Duser.language=en,-Duser.variant]} (build should be done).","title":"Why are my Gradle builds dying with exit-code 137?","body":"<p>I've been trying to compile and test a large project to use Gradle. The test run fine until they die unexpectedly. I dug around and resources said that this is due to a memory issue. If I reduce the number of tests in the suite, it runs fine.</p>\n\n<p>I increased the memory by 4x increased the debugging level but I still don't follow what causes this. Here's the horribly cryptic stacktrace. The last line (scroll right) shows the memory settings that I've defined. </p>\n\n<pre><code>...\n...\n...\n\n1125 tests completed, 30 failed, 9 skipped\n:test FAILED\n:test (Thread[Daemon worker,5,main]) completed. Took 8 mins 39.684 secs.\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':test'.\n&gt; Process 'Gradle Test Executor 1' finished with non-zero exit value 137\n\n* Try:\nRun with --debug option to get more log output.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':test'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:69)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.PostExecutionAnalysisTaskExecuter.execute(PostExecutionAnalysisTaskExecuter.java:35)\n    at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:64)\n    at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\n    at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:53)\n    at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:203)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:185)\n    at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.processTask(AbstractTaskPlanExecutor.java:66)\n    at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.run(AbstractTaskPlanExecutor.java:50)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor.process(DefaultTaskPlanExecutor.java:25)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.execute(DefaultTaskGraphExecuter.java:110)\n    at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:37)\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\n    at org.gradle.execution.DefaultBuildExecuter.access$000(DefaultBuildExecuter.java:23)\n    at org.gradle.execution.DefaultBuildExecuter$1.proceed(DefaultBuildExecuter.java:43)\n    at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:32)\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:30)\n    at org.gradle.initialization.DefaultGradleLauncher$4.run(DefaultGradleLauncher.java:154)\n    at org.gradle.internal.Factories$1.create(Factories.java:22)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:52)\n    at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:151)\n    at org.gradle.initialization.DefaultGradleLauncher.access$200(DefaultGradleLauncher.java:32)\n    at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:99)\n    at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:93)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:62)\n    at org.gradle.initialization.DefaultGradleLauncher.doBuild(DefaultGradleLauncher.java:93)\n    at org.gradle.initialization.DefaultGradleLauncher.run(DefaultGradleLauncher.java:82)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter$DefaultBuildController.run(InProcessBuildActionExecuter.java:94)\n    at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:43)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:28)\n    at org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:78)\n    at org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:48)\n    at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:52)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\n    at org.gradle.util.Swapper.swap(Swapper.java:38)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.health.DaemonHealthTracker.execute(DaemonHealthTracker.java:40)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:66)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:72)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.health.HintGCAfterBuild.execute(HintGCAfterBuild.java:41)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\n\nBUILD FAILED    at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:246)\n\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:54)\n    at org.gradle.internal.concurrent.StoppableExecutorImpl$1.run(StoppableExecutorImpl.java:40)\n\nCaused by: org.gradle.process.internal.ExecException: Process 'Gradle Test Executor 1' finished with non-zero exit value 137\nTotal time: 9 mins 38.624 secs\n    at org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:367)\n    at org.gradle.process.internal.DefaultWorkerProcess.waitForStop(DefaultWorkerProcess.java:161)\n    at org.gradle.api.internal.tasks.testing.worker.ForkingTestClassProcessor.stop(ForkingTestClassProcessor.java:86)\n    at org.gradle.api.internal.tasks.testing.processors.RestartEveryNTestClassProcessor.endBatch(RestartEveryNTestClassProcessor.java:60)\n    at org.gradle.api.internal.tasks.testing.processors.RestartEveryNTestClassProcessor.stop(RestartEveryNTestClassProcessor.java:54)\n    at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\n    at org.gradle.messaging.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.messaging.dispatch.FailureHandlingDispatch.dispatch(FailureHandlingDispatch.java:29)\n    at org.gradle.messaging.dispatch.AsyncDispatch.dispatchMessages(AsyncDispatch.java:132)\n    at org.gradle.messaging.dispatch.AsyncDispatch.access$000(AsyncDispatch.java:33)\n    at org.gradle.messaging.dispatch.AsyncDispatch$1.run(AsyncDispatch.java:72)\n    ... 2 more\n\nStopped 0 compiler daemon(s).\nReceived result Failure[value=org.gradle.initialization.ReportedException: org.gradle.internal.exceptions.LocationAwareException: Execution failed for task ':test'.] from daemon DaemonInfo{pid=48, address=[65adcc0f-8881-4511-b7a0-1b88c7016510 port:34390, addresses:[/0:0:0:0:0:0:0:1%lo, /127.0.0.1]], idle=false, context=DefaultDaemonContext[uid=14546872-57d6-4da6-8358-dc41cb7bb01d,javaHome=/usr/lib/jvm/java-8-oracle,daemonRegistryDir=/srv/myapplication/.gradle/daemon,pid=48,idleTimeout=120000,daemonOpts=-XX:MaxMetaspaceSize=320m,-XX:+DisableExplicitGC,-XX:+UseConcMarkSweepGC,-XX:NewSize=124m,-XX:SurvivorRatio=16,-Xms257m,-Xmx2049m,-Dfile.encoding=UTF-8,-Duser.country=US,-Duser.language=en,-Duser.variant]} (build should be done).\n</code></pre>\n"},{"tags":["java","spring","spring-boot","junit","mockito"],"comments":[{"owner":{"account_id":8766155,"reputation":91,"user_id":6554429,"display_name":"mohamed chadad"},"score":0,"creation_date":1653693019,"post_id":72411594,"comment_id":127920957,"body_markdown":"You need to mock the injected dependency which is the `customerRepository` in your case (not the `getById` method)","body":"You need to mock the injected dependency which is the <code>customerRepository</code> in your case (not the <code>getById</code> method)"}],"answers":[{"tags":[],"owner":{"account_id":8766155,"reputation":91,"user_id":6554429,"display_name":"mohamed chadad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653692755,"creation_date":1653692755,"answer_id":72411789,"question_id":72411594,"body_markdown":"You need to mock the `customerRepository` not the `getById` method\r\nFor example:\r\n\r\n    when(customerRepository.findCustomerByIdAndIsDeletedFalse(actualResponse.getId()).thenReturn(Optional.of(WHAT_EVER_YOU_WANT));\r\n\r\n\r\nIn your case I think you have tow scenarios:\r\n\r\nfindCustomerByIdAndIsDeletedFalse =&gt; Optional.of(a customer instance)\r\nfindCustomerByIdAndIsDeletedFalse =&gt; Optional.empty()","title":"mocking a method inside another method return null","body":"<p>You need to mock the <code>customerRepository</code> not the <code>getById</code> method\nFor example:</p>\n<pre><code>when(customerRepository.findCustomerByIdAndIsDeletedFalse(actualResponse.getId()).thenReturn(Optional.of(WHAT_EVER_YOU_WANT));\n</code></pre>\n<p>In your case I think you have tow scenarios:</p>\n<p>findCustomerByIdAndIsDeletedFalse =&gt; Optional.of(a customer instance)\nfindCustomerByIdAndIsDeletedFalse =&gt; Optional.empty()</p>\n"}],"owner":{"account_id":24322483,"reputation":21,"user_id":18262608,"display_name":"alina"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":675,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653727764,"creation_date":1653690353,"question_id":72411594,"body_markdown":"I have service method &quot;customerDetails&quot; to get more info about customer and change some field that using another method inside it &quot;getById&quot; when I do the unit test for customerDetails I mock the other method but the test faild because the mock return null . I try some solutions I found like checking the order of dependencies and using @InjectMocks (which I do)but they did not work for me and I do not know where the problem is.\r\n\r\ncode snippet to understand me better \r\n\r\n**customerService**\r\n\r\n```java\r\npublic class customerService {\r\n\r\n   \tpublic Customer customerDetails(int id) {\r\n   \t\tCustomerDto customer = getById(id) //here is the problem \r\n   \t\t// rest of the code\r\n   \t}\r\n\r\n   \tpublic CustomerDto getById(int id) {\r\n   \t\tOptional&lt;Customer&gt; customer =\r\n   \t\t\tthis.customerRepository.findCustomerByIdAndIsDeletedFalse(id); //return null here\r\n\r\n   \t\tif (!customer.isPresent()) {\r\n   \t\t\t// code to throw Exception customer not found                \r\n   \t\t}\r\n   \t\t//code to retrieve customer \r\n   \t}\r\n}\r\n```\r\n\r\n**customerServiceTest**\r\n\r\n```java\r\npublic class CustomerServiceTest {\r\n    \r\n\t@Mock\r\n\tprivate CustomerRepository customerRepository;\r\n\r\n\t@InjectMocks\r\n\tprivate CustomerService customerService;\r\n\r\n\t@BeforeEach\r\n\tpublic void createMocks() {\r\n\t\tMockitoAnnotations.initMocks(this);\r\n\t}\r\n\t@Test\r\n\tpublic void testCustomerDetails() {\r\n    \tCustomerDto actualResponse = DummyCutomer.createDto(); // the actualResponse is filled successfully \r\n    \r\n    \twhen(customerService.getById(actualResponse.getId()).thenReturn(actualResponse); // but here it send to getById null !! \r\n    \r\n    \t\t//rest of code\r\n    \t}\r\n}\t\t\t    \t\t\t\r\n```\r\n\r\n","title":"mocking a method inside another method return null","body":"<p>I have service method &quot;customerDetails&quot; to get more info about customer and change some field that using another method inside it &quot;getById&quot; when I do the unit test for customerDetails I mock the other method but the test faild because the mock return null . I try some solutions I found like checking the order of dependencies and using @InjectMocks (which I do)but they did not work for me and I do not know where the problem is.</p>\n<p>code snippet to understand me better</p>\n<p><strong>customerService</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class customerService {\n\n    public Customer customerDetails(int id) {\n        CustomerDto customer = getById(id) //here is the problem \n        // rest of the code\n    }\n\n    public CustomerDto getById(int id) {\n        Optional&lt;Customer&gt; customer =\n            this.customerRepository.findCustomerByIdAndIsDeletedFalse(id); //return null here\n\n        if (!customer.isPresent()) {\n            // code to throw Exception customer not found                \n        }\n        //code to retrieve customer \n    }\n}\n</code></pre>\n<p><strong>customerServiceTest</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomerServiceTest {\n    \n    @Mock\n    private CustomerRepository customerRepository;\n\n    @InjectMocks\n    private CustomerService customerService;\n\n    @BeforeEach\n    public void createMocks() {\n        MockitoAnnotations.initMocks(this);\n    }\n    @Test\n    public void testCustomerDetails() {\n        CustomerDto actualResponse = DummyCutomer.createDto(); // the actualResponse is filled successfully \n    \n        when(customerService.getById(actualResponse.getId()).thenReturn(actualResponse); // but here it send to getById null !! \n    \n            //rest of code\n        }\n}                           \n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":2324765,"reputation":3694,"user_id":2039546,"display_name":"İsmail Y."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653727546,"creation_date":1653727546,"answer_id":72414210,"question_id":72414089,"body_markdown":"Java annotations take compile time constants, which are defined as final primitives or strings.\r\n\r\nIn Spring Boot, you can use an application property directly with [fixedDelayString](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html#fixedDelayString--), [fixedRateString](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html#fixedRateString--), [initialDelayString](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html#initialDelayString--)  properties.\r\n\r\n```java\r\n@Bean\r\npublic Runnable method(){\r\n    return new Runnable() {\r\n        @Override\r\n        @Scheduled(fixedDelayString = &quot;${connection-config.connect-monitor-delay}&quot;)\r\n        public void run() {\r\n            // ..\r\n        }\r\n    };\r\n}\r\n```\r\n\r\nCheck out this link for more different approaches: \r\n\r\nhttps://stackoverflow.com/questions/14630539/scheduling-a-job-with-spring-programmatically-with-fixedrate-set-dynamically/14632758","title":"Compile error attribute must be a constant expression when set fixedDelay value in Spring Scheduled annotation","body":"<p>Java annotations take compile time constants, which are defined as final primitives or strings.</p>\n<p>In Spring Boot, you can use an application property directly with <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html#fixedDelayString--\" rel=\"nofollow noreferrer\">fixedDelayString</a>, <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html#fixedRateString--\" rel=\"nofollow noreferrer\">fixedRateString</a>, <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html#initialDelayString--\" rel=\"nofollow noreferrer\">initialDelayString</a>  properties.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic Runnable method(){\n    return new Runnable() {\n        @Override\n        @Scheduled(fixedDelayString = &quot;${connection-config.connect-monitor-delay}&quot;)\n        public void run() {\n            // ..\n        }\n    };\n}\n</code></pre>\n<p>Check out this link for more different approaches:</p>\n<p><a href=\"https://stackoverflow.com/questions/14630539/scheduling-a-job-with-spring-programmatically-with-fixedrate-set-dynamically/14632758\">Scheduling a job with Spring programmatically (with fixedRate set dynamically)</a></p>\n"}],"owner":{"account_id":114905,"reputation":7357,"user_id":301957,"accept_rate":50,"display_name":"Harshana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1323,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653727546,"creation_date":1653726369,"question_id":72414089,"body_markdown":"I want to read fixedDelay from a property file so doing below.\r\n\r\n\r\n    @Bean\r\n    public Runnable method(){  \r\n    static final int delay= properties.getConnectionConfig().getConnectMonitorDelay();\r\n            return new Runnable() {\r\n                @Override\r\n                @Scheduled(fixedDelay = delay)\r\n                public void run() {}\r\n           };\r\n    }\r\n\r\nproperties.getConnectionConfig().getConnectMonitorDelay() already return a primitive int but i am getting below compile error.\r\n\r\n&gt; The value for annotation attribute Scheduled.fixedDelay must be a\r\n&gt; constant expression\r\n\r\nHow to get rid of the compile error?\r\n\r\n","title":"Compile error attribute must be a constant expression when set fixedDelay value in Spring Scheduled annotation","body":"<p>I want to read fixedDelay from a property file so doing below.</p>\n<pre><code>@Bean\npublic Runnable method(){  \nstatic final int delay= properties.getConnectionConfig().getConnectMonitorDelay();\n        return new Runnable() {\n            @Override\n            @Scheduled(fixedDelay = delay)\n            public void run() {}\n       };\n}\n</code></pre>\n<p>properties.getConnectionConfig().getConnectMonitorDelay() already return a primitive int but i am getting below compile error.</p>\n<blockquote>\n<p>The value for annotation attribute Scheduled.fixedDelay must be a\nconstant expression</p>\n</blockquote>\n<p>How to get rid of the compile error?</p>\n"},{"tags":["java","ldap"],"answers":[{"tags":[],"owner":{"account_id":31959,"reputation":10608,"user_id":88122,"accept_rate":0,"display_name":"jwilleke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653726111,"creation_date":1653726111,"answer_id":72414064,"question_id":72404412,"body_markdown":"data 52e - Returns when username is valid but password/credential is invalid.\r\n\r\nI am guessing that you are passing the password to Microsoft Active Directory in plain text which usually will not work.\r\n\r\nWe have a &quot;[updateUserPassword][1]&quot; method in our &quot;JNDI Examples&quot; repository that should help.\r\n\r\n\r\n  [1]: https://github.com/jwilleke/Examples-JNDI/blob/master/src/com/willeke/samples/ldap/jndi/ADConnection.java","title":"Simple LDAP authentication using Java","body":"<p>data 52e - Returns when username is valid but password/credential is invalid.</p>\n<p>I am guessing that you are passing the password to Microsoft Active Directory in plain text which usually will not work.</p>\n<p>We have a &quot;<a href=\"https://github.com/jwilleke/Examples-JNDI/blob/master/src/com/willeke/samples/ldap/jndi/ADConnection.java\" rel=\"nofollow noreferrer\">updateUserPassword</a>&quot; method in our &quot;JNDI Examples&quot; repository that should help.</p>\n"}],"owner":{"account_id":2221210,"reputation":1727,"user_id":1960524,"accept_rate":87,"display_name":"adesh singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653726111,"creation_date":1653649476,"question_id":72404412,"body_markdown":"I am using LDAP authentication using Java . I am using the following code but its throwing error\r\n\r\nException in thread &quot;main&quot; javax.naming.AuthenticationException: [LDAP: error code 49 - 80090308: LdapErr: DSID-0C09044E, comment: AcceptSecurityContext error, data 52e, v2580\r\n\r\nJava Code i am using\r\n\r\n\r\n\r\n     package test;\r\n\r\n    import java.util.*;\r\n    import javax.naming.*;\r\n    import javax.naming.directory.*;\r\n\r\n    public class LoginLDAP {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        Map&lt;String,String&gt; params = createParams(args);\r\n\r\n        // firstname.lastname@mydomain.com\r\n       // String domainName = params.get(&quot;domain&quot;); // mydomain.com or empty\r\n        \r\n       String url=&quot;ldap://ip here:389&quot;;\r\n       String principalName=&quot;username here&quot;;\r\n       String domainName =&quot;domain name&quot;;\r\n       \r\n        if (domainName==null || &quot;&quot;.equals(domainName)) {\r\n            int delim = principalName.indexOf(&#39;@&#39;);\r\n            domainName = principalName.substring(delim+1);\r\n        }\r\n\r\n        Properties props = new Properties();\r\n        props.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);\r\n        props.put(Context.PROVIDER_URL, url); \r\n        props.put(Context.SECURITY_PRINCIPAL, principalName); \r\n          props.put(Context.SECURITY_CREDENTIALS, &quot;password here&quot;);\r\n        if (url.toUpperCase().startsWith(&quot;LDAPS://&quot;)) {\r\n            props.put(Context.SECURITY_PROTOCOL, &quot;ssl&quot;);\r\n            props.put(Context.SECURITY_AUTHENTICATION, &quot;simple&quot;);\r\n            props.put(&quot;java.naming.ldap.factory.socket&quot;, &quot;test.DummySSLSocketFactory&quot;);         \r\n        }\r\n\r\n        InitialDirContext context = new InitialDirContext(props);\r\n        try {\r\n            SearchControls ctrls = new SearchControls();\r\n            ctrls.setSearchScope(SearchControls.SUBTREE_SCOPE);\r\n            NamingEnumeration&lt;SearchResult&gt; results = context.search(toDC(domainName),&quot;(&amp; (userPrincipalName=&quot;+principalName+&quot;)(objectClass=user))&quot;, ctrls);\r\n            if(!results.hasMore())\r\n                throw new AuthenticationException(&quot;Principal name not found&quot;);\r\n\r\n            SearchResult result = results.next();\r\n            System.out.println(&quot;distinguisedName: &quot; + result.getNameInNamespace() ); // CN=Firstname Lastname,OU=Mycity,DC=mydomain,DC=com\r\n\r\n            Attribute memberOf = result.getAttributes().get(&quot;memberOf&quot;);\r\n            if(memberOf!=null) {\r\n                for(int idx=0; idx&lt;memberOf.size(); idx++) {\r\n                    System.out.println(&quot;memberOf: &quot; + memberOf.get(idx).toString() ); // CN=Mygroup,CN=Users,DC=mydomain,DC=com\r\n                    //Attribute att = context.getAttributes(memberOf.get(idx).toString(), new String[]{&quot;CN&quot;}).get(&quot;CN&quot;);\r\n                    //System.out.println( att.get().toString() ); //  CN part of groupname\r\n                }\r\n            }\r\n        } finally {\r\n            try { context.close(); } catch(Exception ex) { }\r\n        }       \r\n    }\r\n\r\n    /**\r\n     * Create &quot;DC=sub,DC=mydomain,DC=com&quot; string\r\n     * @param domainName    sub.mydomain.com\r\n     * @return\r\n     */\r\n    private static String toDC(String domainName) {\r\n        StringBuilder buf = new StringBuilder();\r\n        for (String token : domainName.split(&quot;\\\\.&quot;)) {\r\n            if(token.length()==0) continue;\r\n            if(buf.length()&gt;0)  buf.append(&quot;,&quot;);\r\n            buf.append(&quot;DC=&quot;).append(token);\r\n        }\r\n        return buf.toString();\r\n    }\r\n\r\n    private static Map&lt;String,String&gt; createParams(String[] args) {\r\n        Map&lt;String,String&gt; params = new HashMap&lt;String,String&gt;();  \r\n        for(String str : args) {\r\n            int delim = str.indexOf(&#39;=&#39;);\r\n            if (delim&gt;0) params.put(str.substring(0, delim).trim(), str.substring(delim+1).trim());\r\n            else if (delim==0) params.put(&quot;&quot;, str.substring(1).trim());\r\n            else params.put(str, null);\r\n        }\r\n        return params;\r\n    }\r\n\r\n\r\n\r\n    package test;\r\n\r\n    import java.io.*;\r\n    import java.net.*;\r\n    import java.security.SecureRandom;\r\n    import java.security.cert.X509Certificate;    \r\n    import javax.net.*;\r\n    import javax.net.ssl.*;\r\n\r\n    public class DummySSLSocketFactory extends SSLSocketFactory {\r\n    private SSLSocketFactory socketFactory;\r\n    public DummySSLSocketFactory() {\r\n        try {\r\n          SSLContext ctx = SSLContext.getInstance(&quot;TLS&quot;);\r\n          ctx.init(null, new TrustManager[]{ new DummyTrustManager()}, new SecureRandom());\r\n          socketFactory = ctx.getSocketFactory();\r\n        } catch ( Exception ex ){ throw new IllegalArgumentException(ex); }\r\n    }\r\n\r\n      public static SocketFactory getDefault() { return new DummySSLSocketFactory(); }\r\n\r\n      @Override public String[] getDefaultCipherSuites() { return socketFactory.getDefaultCipherSuites(); }\r\n      @Override public String[] getSupportedCipherSuites() { return socketFactory.getSupportedCipherSuites(); }\r\n\r\n      @Override public Socket createSocket(Socket socket, String string, int i, boolean bln) throws IOException {\r\n        return socketFactory.createSocket(socket, string, i, bln);\r\n      }\r\n      @Override public Socket createSocket(String string, int i) throws IOException, UnknownHostException {\r\n        return socketFactory.createSocket(string, i);\r\n      }\r\n      @Override public Socket createSocket(String string, int i, InetAddress ia, int i1) throws IOException, UnknownHostException {\r\n        return socketFactory.createSocket(string, i, ia, i1);\r\n      }\r\n      @Override public Socket createSocket(InetAddress ia, int i) throws IOException {\r\n        return socketFactory.createSocket(ia, i);\r\n      }\r\n      @Override public Socket createSocket(InetAddress ia, int i, InetAddress ia1, int i1) throws IOException {\r\n        return socketFactory.createSocket(ia, i, ia1, i1);\r\n      }\r\n}\r\n\r\n     class DummyTrustManager implements X509TrustManager {\r\n         @Override public void checkClientTrusted(X509Certificate[] xcs, String str) {\r\n         // do nothing\r\n       }\r\n        @Override public void checkServerTrusted(X509Certificate[] xcs, String str) {\r\n        /*System.out.println(&quot;checkServerTrusted for authType: &quot; + str); // RSA\r\n        for(int idx=0; idx&lt;xcs.length; idx++) {\r\n            X509Certificate cert = xcs[idx];\r\n            System.out.println(&quot;X500Principal: &quot; + cert.getSubjectX500Principal().getName());\r\n          }*/\r\n        }\r\n      @Override public X509Certificate[] getAcceptedIssuers() {\r\n            return new java.security.cert.X509Certificate[0];\r\n       }\r\n    }\r\n\r\n","title":"Simple LDAP authentication using Java","body":"<p>I am using LDAP authentication using Java . I am using the following code but its throwing error</p>\n<p>Exception in thread &quot;main&quot; javax.naming.AuthenticationException: [LDAP: error code 49 - 80090308: LdapErr: DSID-0C09044E, comment: AcceptSecurityContext error, data 52e, v2580</p>\n<p>Java Code i am using</p>\n<pre><code> package test;\n\nimport java.util.*;\nimport javax.naming.*;\nimport javax.naming.directory.*;\n\npublic class LoginLDAP {\n\npublic static void main(String[] args) throws Exception {\n    Map&lt;String,String&gt; params = createParams(args);\n\n    // firstname.lastname@mydomain.com\n   // String domainName = params.get(&quot;domain&quot;); // mydomain.com or empty\n    \n   String url=&quot;ldap://ip here:389&quot;;\n   String principalName=&quot;username here&quot;;\n   String domainName =&quot;domain name&quot;;\n   \n    if (domainName==null || &quot;&quot;.equals(domainName)) {\n        int delim = principalName.indexOf('@');\n        domainName = principalName.substring(delim+1);\n    }\n\n    Properties props = new Properties();\n    props.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);\n    props.put(Context.PROVIDER_URL, url); \n    props.put(Context.SECURITY_PRINCIPAL, principalName); \n      props.put(Context.SECURITY_CREDENTIALS, &quot;password here&quot;);\n    if (url.toUpperCase().startsWith(&quot;LDAPS://&quot;)) {\n        props.put(Context.SECURITY_PROTOCOL, &quot;ssl&quot;);\n        props.put(Context.SECURITY_AUTHENTICATION, &quot;simple&quot;);\n        props.put(&quot;java.naming.ldap.factory.socket&quot;, &quot;test.DummySSLSocketFactory&quot;);         \n    }\n\n    InitialDirContext context = new InitialDirContext(props);\n    try {\n        SearchControls ctrls = new SearchControls();\n        ctrls.setSearchScope(SearchControls.SUBTREE_SCOPE);\n        NamingEnumeration&lt;SearchResult&gt; results = context.search(toDC(domainName),&quot;(&amp; (userPrincipalName=&quot;+principalName+&quot;)(objectClass=user))&quot;, ctrls);\n        if(!results.hasMore())\n            throw new AuthenticationException(&quot;Principal name not found&quot;);\n\n        SearchResult result = results.next();\n        System.out.println(&quot;distinguisedName: &quot; + result.getNameInNamespace() ); // CN=Firstname Lastname,OU=Mycity,DC=mydomain,DC=com\n\n        Attribute memberOf = result.getAttributes().get(&quot;memberOf&quot;);\n        if(memberOf!=null) {\n            for(int idx=0; idx&lt;memberOf.size(); idx++) {\n                System.out.println(&quot;memberOf: &quot; + memberOf.get(idx).toString() ); // CN=Mygroup,CN=Users,DC=mydomain,DC=com\n                //Attribute att = context.getAttributes(memberOf.get(idx).toString(), new String[]{&quot;CN&quot;}).get(&quot;CN&quot;);\n                //System.out.println( att.get().toString() ); //  CN part of groupname\n            }\n        }\n    } finally {\n        try { context.close(); } catch(Exception ex) { }\n    }       \n}\n\n/**\n * Create &quot;DC=sub,DC=mydomain,DC=com&quot; string\n * @param domainName    sub.mydomain.com\n * @return\n */\nprivate static String toDC(String domainName) {\n    StringBuilder buf = new StringBuilder();\n    for (String token : domainName.split(&quot;\\\\.&quot;)) {\n        if(token.length()==0) continue;\n        if(buf.length()&gt;0)  buf.append(&quot;,&quot;);\n        buf.append(&quot;DC=&quot;).append(token);\n    }\n    return buf.toString();\n}\n\nprivate static Map&lt;String,String&gt; createParams(String[] args) {\n    Map&lt;String,String&gt; params = new HashMap&lt;String,String&gt;();  \n    for(String str : args) {\n        int delim = str.indexOf('=');\n        if (delim&gt;0) params.put(str.substring(0, delim).trim(), str.substring(delim+1).trim());\n        else if (delim==0) params.put(&quot;&quot;, str.substring(1).trim());\n        else params.put(str, null);\n    }\n    return params;\n}\n\n\n\npackage test;\n\nimport java.io.*;\nimport java.net.*;\nimport java.security.SecureRandom;\nimport java.security.cert.X509Certificate;    \nimport javax.net.*;\nimport javax.net.ssl.*;\n\npublic class DummySSLSocketFactory extends SSLSocketFactory {\nprivate SSLSocketFactory socketFactory;\npublic DummySSLSocketFactory() {\n    try {\n      SSLContext ctx = SSLContext.getInstance(&quot;TLS&quot;);\n      ctx.init(null, new TrustManager[]{ new DummyTrustManager()}, new SecureRandom());\n      socketFactory = ctx.getSocketFactory();\n    } catch ( Exception ex ){ throw new IllegalArgumentException(ex); }\n}\n\n  public static SocketFactory getDefault() { return new DummySSLSocketFactory(); }\n\n  @Override public String[] getDefaultCipherSuites() { return socketFactory.getDefaultCipherSuites(); }\n  @Override public String[] getSupportedCipherSuites() { return socketFactory.getSupportedCipherSuites(); }\n\n  @Override public Socket createSocket(Socket socket, String string, int i, boolean bln) throws IOException {\n    return socketFactory.createSocket(socket, string, i, bln);\n  }\n  @Override public Socket createSocket(String string, int i) throws IOException, UnknownHostException {\n    return socketFactory.createSocket(string, i);\n  }\n  @Override public Socket createSocket(String string, int i, InetAddress ia, int i1) throws IOException, UnknownHostException {\n    return socketFactory.createSocket(string, i, ia, i1);\n  }\n  @Override public Socket createSocket(InetAddress ia, int i) throws IOException {\n    return socketFactory.createSocket(ia, i);\n  }\n  @Override public Socket createSocket(InetAddress ia, int i, InetAddress ia1, int i1) throws IOException {\n    return socketFactory.createSocket(ia, i, ia1, i1);\n  }\n</code></pre>\n<p>}</p>\n<pre><code> class DummyTrustManager implements X509TrustManager {\n     @Override public void checkClientTrusted(X509Certificate[] xcs, String str) {\n     // do nothing\n   }\n    @Override public void checkServerTrusted(X509Certificate[] xcs, String str) {\n    /*System.out.println(&quot;checkServerTrusted for authType: &quot; + str); // RSA\n    for(int idx=0; idx&lt;xcs.length; idx++) {\n        X509Certificate cert = xcs[idx];\n        System.out.println(&quot;X500Principal: &quot; + cert.getSubjectX500Principal().getName());\n      }*/\n    }\n  @Override public X509Certificate[] getAcceptedIssuers() {\n        return new java.security.cert.X509Certificate[0];\n   }\n}\n</code></pre>\n"},{"tags":["java","android","xml","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653725437,"creation_date":1653725437,"answer_id":72414004,"question_id":72413780,"body_markdown":"If you&#39;re calling `addToList` to add your data, all that does is insert a new item into the list that your Activity and Adapter are sharing - the adapter has no idea anything&#39;s changed, so it won&#39;t update the display\r\n\r\nYou should be calling your `setList` function on the adapter instead - that replaces the current list with the new one (doesn&#39;t matter if it&#39;s actually the same list) and then calls `notifyDataSetChanged()` to display the &quot;new&quot; list.\r\n\r\nIt&#39;s always better to have a function like that on your adapter - when you have new data, you just pass it to the adapter, and it can handle the details of updating itself internally. The thing passing the data doesn&#39;t need to know anything about it. And if you want to update the way the adapter works later (say to be more specific about updating certain items, or to use a ``DiffUtil``) then that&#39;s still an internal detail - the thing passing the data in just needs to pass the data in as usual.\r\n\r\n(You should make ``setList`` make a copy of the list passed in though, like with ``list.toList()`` - if something modifies that original list, you don&#39;t want the adapter&#39;s internal list to change, that can lead to bugs. It&#39;s fine here, but if you used a ``DiffUtil`` for example, your ``oldList`` would also be your ``newList``, and no differences means no update)","title":"I am adding data in RecyclerView but data is not getting reflected instantly","body":"<p>If you're calling <code>addToList</code> to add your data, all that does is insert a new item into the list that your Activity and Adapter are sharing - the adapter has no idea anything's changed, so it won't update the display</p>\n<p>You should be calling your <code>setList</code> function on the adapter instead - that replaces the current list with the new one (doesn't matter if it's actually the same list) and then calls <code>notifyDataSetChanged()</code> to display the &quot;new&quot; list.</p>\n<p>It's always better to have a function like that on your adapter - when you have new data, you just pass it to the adapter, and it can handle the details of updating itself internally. The thing passing the data doesn't need to know anything about it. And if you want to update the way the adapter works later (say to be more specific about updating certain items, or to use a <code>DiffUtil</code>) then that's still an internal detail - the thing passing the data in just needs to pass the data in as usual.</p>\n<p>(You should make <code>setList</code> make a copy of the list passed in though, like with <code>list.toList()</code> - if something modifies that original list, you don't want the adapter's internal list to change, that can lead to bugs. It's fine here, but if you used a <code>DiffUtil</code> for example, your <code>oldList</code> would also be your <code>newList</code>, and no differences means no update)</p>\n"}],"owner":{"account_id":21749146,"reputation":61,"user_id":16055353,"display_name":"roshannepal_x"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72414004,"answer_count":1,"score":0,"last_activity_date":1653725437,"creation_date":1653723466,"question_id":72413780,"body_markdown":"I am trying to add data in `Recycler View` but my  data extracted from `Edit Text` is not getting inserted instantly. Data is getting inserted only after I  do  some other operation like removing a list.\r\nI have attached all of my codes in here .\r\n\r\nI think `notifyDataSetChanged` is not getting called when i try to add a new text from edit text.\r\n\r\n\r\n**Code:**\r\n\r\nMainActivity.java\r\n\r\n    package com.example.sqlitedatabase;\r\n    \r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.view.animation.Animation;\r\n    import android.view.animation.AnimationUtils;\r\n    import android.widget.EditText;\r\n    import android.widget.ImageView;\r\n    import android.widget.TextView;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.constraintlayout.widget.ConstraintLayout;\r\n    import androidx.recyclerview.widget.LinearLayoutManager;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n    Adapter adapter;\r\n    RecyclerView recyclerView;\r\n    TextView textView;\r\n    ImageView addTodo;\r\n    ConstraintLayout constraintLayout;\r\n    ConstraintLayout editTextContainer;\r\n    \r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n    \tsuper.onCreate(savedInstanceState);\r\n    \tsetContentView(R.layout.activity_main);\r\n    \r\n    \tArrayList&lt;ListModel&gt; list = new ArrayList&lt;&gt;();\r\n    \teditTextContainer = findViewById(R.id.constraintParentOfAddTodo);\r\n    \ttextView = findViewById(R.id.textView);\r\n    \taddTodo = findViewById(R.id.addTodo);\r\n    \taddData(list);\r\n    \r\n    \taddTodo_onClickListener(list);\r\n    \r\n    \tadapter = new Adapter(this);\r\n    \trecyclerView = findViewById(R.id.recyclerView);\r\n    \trecyclerView.setAdapter(adapter);\r\n    \trecyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n    \tadapter.setList(list);\r\n    \r\n    \r\n    }\r\n    \r\n    private void addTodo_onClickListener(ArrayList&lt;ListModel&gt; list) {\r\n    \taddTodo.setOnClickListener(v -&gt; {\r\n    \t\taddTodo.setVisibility(View.GONE);\r\n    \t\t\r\n    \t\tView view = getLayoutInflater().inflate(R.layout.after_add_clicked, null, false);\r\n    \t\t//Used for USERS input\r\n    \t\tEditText editText = (EditText) view.findViewById(R.id.editTextTodo);\r\n    \t\t//This ImageView is used as a button to set data in list\r\n    \t\tImageView setTodo = (ImageView) view.findViewById(R.id.sendTodo);\r\n    \t\tAnimation animAddTodo = AnimationUtils.loadAnimation(MainActivity.this, R.anim.righttoleft);\r\n    \t\tview.setAnimation(animAddTodo);\r\n    \t\teditTextContainer.addView(view);\r\n    \r\n    \t\tsetTodo_onClickListener(editText, setTodo, list, view);\r\n    \r\n    \t});\r\n    \r\n    }\r\n    \r\n    private void setTodo_onClickListener(EditText editText, ImageView setTodo, ArrayList&lt;ListModel&gt; list, View view) {\r\n    \tsetTodo.setOnClickListener(v -&gt; {\r\n    \t\t\t\tString txt = editText.getText().toString();\r\n    \t\t\t\taddToList(list, txt);\r\n    \t\t\t\tview.setVisibility(View.GONE);\r\n    \t\t\t\taddTodo.setVisibility(View.VISIBLE);\r\n    \t\t\t}\r\n    \t);\r\n    }\r\n    \r\n    //this function is Supposed to add new data to To do list\r\n    private void addToList(ArrayList&lt;ListModel&gt; list, String text) {\r\n    \t//no work is done on id\r\n    \tlist.add(new ListModel(1, text, true));\r\n    }\r\n    \r\n    //for displaying list initially\r\n    //this data gets inserted instantly\r\n    //No problem with them.\r\n    private void addData(ArrayList&lt;ListModel&gt; list) {\r\n    \tlist.add(new ListModel(1, &quot;1&quot;, false));\r\n    \tlist.add(new ListModel(2, &quot;2&quot;, false));\r\n    \tlist.add(new ListModel(3, &quot;3&quot;, false));\r\n    \tlist.add(new ListModel(4, &quot;4&quot;, false));\r\n    \tlist.add(new ListModel(5, &quot;5&quot;, false));\r\n    \tlist.add(new ListModel(6, &quot;6&quot;, false));\r\n    \tlist.add(new ListModel(7, &quot;7&quot;, false));\r\n    \tlist.add(new ListModel(8, &quot;8&quot;, false));\r\n    \tlist.add(new ListModel(9, &quot;9&quot;, false));\r\n    \tlist.add(new ListModel(10, &quot;10&quot;, false));\r\n    \r\n    }\r\n\r\nAdapter.java\r\n\r\n    package com.example.sqlitedatabase;\r\n    \r\n    import android.content.Context;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.view.animation.Animation;\r\n    import android.view.animation.AnimationUtils;\r\n    import android.widget.ImageView;\r\n    import android.widget.RelativeLayout;\r\n    import android.widget.TextView;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.cardview.widget.CardView;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    public class Adapter extends RecyclerView.Adapter&lt;Adapter.ViewHolder&gt; {\r\n    private final Context context;\r\n    private ArrayList&lt;ListModel&gt; list = new ArrayList&lt;&gt;();\r\n    \r\n    public Adapter(Context context) {\r\n    \tthis.context = context;\r\n    }\r\n    \r\n    @NonNull\r\n    @Override\r\n    public Adapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n    \tView view = LayoutInflater.from(parent.getContext()).inflate(R.layout.list_template, parent, false);\r\n    \treturn new ViewHolder(view);\r\n    }\r\n    \r\n    @Override\r\n    public void onBindViewHolder(@NonNull Adapter.ViewHolder holder, int position) {\r\n    \tholder.todoText.setText(list.get(position).getText());\r\n    \r\n    \tholder.notDoneBtn.setOnClickListener(v -&gt; {\r\n    \t\t\t\tif (list.size() != 0) {\r\n    \r\n    \t\t\t\t\tlist.remove(list.get(position));\r\n    \t\t\t\t\tnotifyDataSetChanged();\r\n    \r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t);\r\n    \r\n    }\r\n    \r\n    @Override\r\n    public int getItemCount() {\r\n    \treturn list.size();\r\n    }\r\n    \r\n    public void setList(ArrayList&lt;ListModel&gt; list) {\r\n    \tthis.list = list;\r\n    \tnotifyDataSetChanged();\r\n    }\r\n    \r\n    public static class ViewHolder extends RecyclerView.ViewHolder {\r\n    \r\n    \tprivate final TextView todoText;\r\n    \tprivate final ImageView doneBtn;\r\n    \tprivate final ImageView notDoneBtn;\r\n    \tprivate  final RelativeLayout listBlock;\r\n    \r\n    \tpublic ViewHolder(@NonNull View itemView) {\r\n    \t\tsuper(itemView);\r\n            listBlock=itemView.findViewById(R.id.listBlock);\r\n    \t\ttodoText = itemView.findViewById(R.id.todoText);\r\n    \t\tdoneBtn = itemView.findViewById(R.id.doneBtn);\r\n    \t\tnotDoneBtn = itemView.findViewById(R.id.notDoneBtn);\r\n    \r\n    \t}\r\n    }\r\n    \r\n    }\r\n\r\nactivity_main.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/constraintLayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:background=&quot;@color/white&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/textView&quot;\r\n            android:layout_width=&quot;200dp&quot;\r\n            android:layout_height=&quot;120dp&quot;\r\n            android:layout_marginTop=&quot;4dp&quot;\r\n            android:fontFamily=&quot;sans-serif-condensed&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;TO-DO LIST&quot;\r\n            android:textSize=&quot;28sp&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.502&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n    \r\n        &lt;/TextView&gt;\r\n    \r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:id=&quot;@+id/constraintLayout3&quot;\r\n            android:layout_width=&quot;300dp&quot;\r\n            android:layout_height=&quot;480dp&quot;\r\n            android:layout_marginTop=&quot;12dp&quot;\r\n    \r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/textView&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.0&quot;&gt;\r\n    \r\n            &lt;ScrollView\r\n                android:layout_width=&quot;300dp&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;1.0&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:layout_constraintVertical_bias=&quot;0.50&quot;&gt;\r\n    \r\n                &lt;androidx.recyclerview.widget.RecyclerView\r\n                    android:id=&quot;@+id/recyclerView&quot;\r\n                    android:layout_width=&quot;280dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_gravity=&quot;center_horizontal&quot;\r\n                    android:layout_marginTop=&quot;12dp&quot;&gt;\r\n    \r\n                &lt;/androidx.recyclerview.widget.RecyclerView&gt;\r\n    \r\n            &lt;/ScrollView&gt;\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n    \r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:id=&quot;@+id/constraintParentOfAddTodo&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;40dp&quot;\r\n            android:layout_marginBottom=&quot;2dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;1.0&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/constraintLayout3&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.794&quot;&gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/addTodo&quot;\r\n                android:layout_width=&quot;44dp&quot;\r\n                android:layout_height=&quot;44dp&quot;\r\n                android:layout_marginVertical=&quot;0dp&quot;\r\n                android:backgroundTint=&quot;@color/white&quot;\r\n                android:elevation=&quot;10dp&quot;\r\n                android:src=&quot;@drawable/add_circle_48px&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.956&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n    \r\n            &lt;/ImageView&gt;\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\nlist_template.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_height=&quot;42dp&quot;\r\n        android:id=&quot;@+id/listBlock&quot;\r\n        android:layout_width=&quot;280dp&quot;\r\n        android:layout_gravity=&quot;center_horizontal&quot;&gt;\r\n        &lt;androidx.cardview.widget.CardView\r\n    \r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;40dp&quot;\r\n            android:layout_gravity=&quot;center_horizontal&quot;\r\n            android:layout_marginTop=&quot;2dp&quot;\r\n            android:layout_marginStart=&quot;1dp&quot;\r\n            android:elevation=&quot;200dp&quot;\r\n            app:cardBackgroundColor=&quot;#932&quot;\r\n            app:cardCornerRadius=&quot;5dp&quot;&gt;\r\n    \r\n            &lt;RelativeLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/todoText&quot;\r\n                    android:layout_width=&quot;190dp&quot;\r\n                    android:layout_height=&quot;40dp&quot;\r\n                    android:layout_marginStart=&quot;10dp&quot;\r\n                    android:fontFamily=&quot;monospace&quot;\r\n                    android:gravity=&quot;center_vertical&quot;\r\n                    android:maxHeight=&quot;40dp&quot;\r\n                    android:padding=&quot;5dp&quot;\r\n                    android:text=&quot;Reading books&quot;\r\n                    android:textColor=&quot;#EFEBE9&quot;\r\n                    android:textSize=&quot;14sp&quot;\r\n                    android:textStyle=&quot;bold&quot;&gt;\r\n    \r\n                &lt;/TextView&gt;\r\n    \r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/notDoneBtn&quot;\r\n                    android:layout_width=&quot;32dp&quot;\r\n                    android:layout_height=&quot;32dp&quot;\r\n                    android:layout_alignBottom=&quot;@id/todoText&quot;\r\n                    android:padding=&quot;5dp&quot;\r\n                    android:layout_marginStart=&quot;5dp&quot;\r\n                    android:layout_marginTop=&quot;4dp&quot;\r\n                    android:layout_marginBottom=&quot;4dp&quot;\r\n                    android:layout_toEndOf=&quot;@+id/todoText&quot;\r\n                    android:background=&quot;#999999&quot;\r\n                    android:src=&quot;@drawable/close_20px&quot;&gt;\r\n                &lt;/ImageView&gt;\r\n    \r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/doneBtn&quot;\r\n                    android:layout_width=&quot;32dp&quot;\r\n                    android:layout_height=&quot;32dp&quot;\r\n                    android:layout_marginStart=&quot;4dp&quot;\r\n                    android:layout_marginTop=&quot;5dp&quot;\r\n                    android:layout_marginBottom=&quot;4dp&quot;\r\n                    android:layout_toEndOf=&quot;@+id/notDoneBtn&quot;\r\n                    android:background=&quot;#999999&quot;\r\n                    android:padding=&quot;5dp&quot;\r\n                    android:src=&quot;@drawable/done_20px&quot;&gt;\r\n    \r\n                &lt;/ImageView&gt;\r\n            &lt;/RelativeLayout&gt;\r\n    \r\n    \r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\nafter_add_clicked.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;40dp&quot;\r\n\r\n        android:layout_marginBottom=&quot;2dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;1.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\r\n\r\n\r\n        &lt;com.google.android.material.card.MaterialCardView\r\n            android:id=&quot;@+id/materialCardView&quot;\r\n            android:layout_width=&quot;310dp&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_marginStart=&quot;50dp&quot;\r\n            android:background=&quot;#121212&quot;\r\n            android:backgroundTint=&quot;@color/white&quot;\r\n            app:cardCornerRadius=&quot;30dp&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:strokeColor=&quot;#888&quot;\r\n            app:strokeWidth=&quot;2dp&quot;&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/editTextTodo&quot;\r\n                android:layout_width=&quot;300dp&quot;\r\n                android:layout_height=&quot;40dp&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:background=&quot;@color/white&quot;\r\n                android:fontFamily=&quot;monospace&quot;\r\n                android:gravity=&quot;center_vertical&quot;\r\n                android:text=&quot;What to do&quot;\r\n                android:inputType=&quot;text&quot;\r\n                android:textSize=&quot;20sp&quot;&gt;\r\n\r\n            &lt;/EditText&gt;\r\n\r\n        &lt;/com.google.android.material.card.MaterialCardView&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/sendTodo&quot;\r\n            android:layout_width=&quot;40dp&quot;\r\n            android:layout_height=&quot;40dp&quot;\r\n            android:layout_margin=&quot;4dp&quot;\r\n            android:layout_marginStart=&quot;4dp&quot;\r\n            android:layout_marginTop=&quot;4dp&quot;\r\n            android:layout_marginEnd=&quot;4dp&quot;\r\n            android:layout_marginBottom=&quot;4dp&quot;\r\n            android:src=&quot;@drawable/ic_baseline_send_24&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.529&quot;\r\n            app:layout_constraintStart_toEndOf=&quot;@+id/materialCardView&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;/ImageView&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/cancel&quot;\r\n            android:layout_width=&quot;40dp&quot;\r\n            android:layout_height=&quot;40dp&quot;\r\n            android:layout_margin=&quot;4dp&quot;\r\n            android:layout_marginStart=&quot;4dp&quot;\r\n            android:layout_marginTop=&quot;4dp&quot;\r\n            android:layout_marginEnd=&quot;4dp&quot;\r\n            android:layout_marginBottom=&quot;4dp&quot;\r\n            android:src=&quot;@drawable/close_20px&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toStartOf=&quot;@+id/materialCardView&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;/ImageView&gt;\r\n\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n\r\n[![Screen shot of application][1]][1]\r\n  This is how my app looks .\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/O8Ws1.png","title":"I am adding data in RecyclerView but data is not getting reflected instantly","body":"<p>I am trying to add data in <code>Recycler View</code> but my  data extracted from <code>Edit Text</code> is not getting inserted instantly. Data is getting inserted only after I  do  some other operation like removing a list.\nI have attached all of my codes in here .</p>\n<p>I think <code>notifyDataSetChanged</code> is not getting called when i try to add a new text from edit text.</p>\n<p><strong>Code:</strong></p>\n<p>MainActivity.java</p>\n<pre><code>package com.example.sqlitedatabase;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.view.animation.Animation;\nimport android.view.animation.AnimationUtils;\nimport android.widget.EditText;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.constraintlayout.widget.ConstraintLayout;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\n\npublic class MainActivity extends AppCompatActivity {\n\nAdapter adapter;\nRecyclerView recyclerView;\nTextView textView;\nImageView addTodo;\nConstraintLayout constraintLayout;\nConstraintLayout editTextContainer;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    ArrayList&lt;ListModel&gt; list = new ArrayList&lt;&gt;();\n    editTextContainer = findViewById(R.id.constraintParentOfAddTodo);\n    textView = findViewById(R.id.textView);\n    addTodo = findViewById(R.id.addTodo);\n    addData(list);\n\n    addTodo_onClickListener(list);\n\n    adapter = new Adapter(this);\n    recyclerView = findViewById(R.id.recyclerView);\n    recyclerView.setAdapter(adapter);\n    recyclerView.setLayoutManager(new LinearLayoutManager(this));\n    adapter.setList(list);\n\n\n}\n\nprivate void addTodo_onClickListener(ArrayList&lt;ListModel&gt; list) {\n    addTodo.setOnClickListener(v -&gt; {\n        addTodo.setVisibility(View.GONE);\n        \n        View view = getLayoutInflater().inflate(R.layout.after_add_clicked, null, false);\n        //Used for USERS input\n        EditText editText = (EditText) view.findViewById(R.id.editTextTodo);\n        //This ImageView is used as a button to set data in list\n        ImageView setTodo = (ImageView) view.findViewById(R.id.sendTodo);\n        Animation animAddTodo = AnimationUtils.loadAnimation(MainActivity.this, R.anim.righttoleft);\n        view.setAnimation(animAddTodo);\n        editTextContainer.addView(view);\n\n        setTodo_onClickListener(editText, setTodo, list, view);\n\n    });\n\n}\n\nprivate void setTodo_onClickListener(EditText editText, ImageView setTodo, ArrayList&lt;ListModel&gt; list, View view) {\n    setTodo.setOnClickListener(v -&gt; {\n                String txt = editText.getText().toString();\n                addToList(list, txt);\n                view.setVisibility(View.GONE);\n                addTodo.setVisibility(View.VISIBLE);\n            }\n    );\n}\n\n//this function is Supposed to add new data to To do list\nprivate void addToList(ArrayList&lt;ListModel&gt; list, String text) {\n    //no work is done on id\n    list.add(new ListModel(1, text, true));\n}\n\n//for displaying list initially\n//this data gets inserted instantly\n//No problem with them.\nprivate void addData(ArrayList&lt;ListModel&gt; list) {\n    list.add(new ListModel(1, &quot;1&quot;, false));\n    list.add(new ListModel(2, &quot;2&quot;, false));\n    list.add(new ListModel(3, &quot;3&quot;, false));\n    list.add(new ListModel(4, &quot;4&quot;, false));\n    list.add(new ListModel(5, &quot;5&quot;, false));\n    list.add(new ListModel(6, &quot;6&quot;, false));\n    list.add(new ListModel(7, &quot;7&quot;, false));\n    list.add(new ListModel(8, &quot;8&quot;, false));\n    list.add(new ListModel(9, &quot;9&quot;, false));\n    list.add(new ListModel(10, &quot;10&quot;, false));\n\n}\n</code></pre>\n<p>Adapter.java</p>\n<pre><code>package com.example.sqlitedatabase;\n\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.view.animation.Animation;\nimport android.view.animation.AnimationUtils;\nimport android.widget.ImageView;\nimport android.widget.RelativeLayout;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.cardview.widget.CardView;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\n\npublic class Adapter extends RecyclerView.Adapter&lt;Adapter.ViewHolder&gt; {\nprivate final Context context;\nprivate ArrayList&lt;ListModel&gt; list = new ArrayList&lt;&gt;();\n\npublic Adapter(Context context) {\n    this.context = context;\n}\n\n@NonNull\n@Override\npublic Adapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.list_template, parent, false);\n    return new ViewHolder(view);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull Adapter.ViewHolder holder, int position) {\n    holder.todoText.setText(list.get(position).getText());\n\n    holder.notDoneBtn.setOnClickListener(v -&gt; {\n                if (list.size() != 0) {\n\n                    list.remove(list.get(position));\n                    notifyDataSetChanged();\n\n                }\n            }\n    );\n\n}\n\n@Override\npublic int getItemCount() {\n    return list.size();\n}\n\npublic void setList(ArrayList&lt;ListModel&gt; list) {\n    this.list = list;\n    notifyDataSetChanged();\n}\n\npublic static class ViewHolder extends RecyclerView.ViewHolder {\n\n    private final TextView todoText;\n    private final ImageView doneBtn;\n    private final ImageView notDoneBtn;\n    private  final RelativeLayout listBlock;\n\n    public ViewHolder(@NonNull View itemView) {\n        super(itemView);\n        listBlock=itemView.findViewById(R.id.listBlock);\n        todoText = itemView.findViewById(R.id.todoText);\n        doneBtn = itemView.findViewById(R.id.doneBtn);\n        notDoneBtn = itemView.findViewById(R.id.notDoneBtn);\n\n    }\n}\n\n}\n</code></pre>\n<p>activity_main.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/constraintLayout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:background=&quot;@color/white&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView&quot;\n        android:layout_width=&quot;200dp&quot;\n        android:layout_height=&quot;120dp&quot;\n        android:layout_marginTop=&quot;4dp&quot;\n        android:fontFamily=&quot;sans-serif-condensed&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;TO-DO LIST&quot;\n        android:textSize=&quot;28sp&quot;\n        android:textStyle=&quot;bold&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.502&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n    &lt;/TextView&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:id=&quot;@+id/constraintLayout3&quot;\n        android:layout_width=&quot;300dp&quot;\n        android:layout_height=&quot;480dp&quot;\n        android:layout_marginTop=&quot;12dp&quot;\n\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView&quot;\n        app:layout_constraintVertical_bias=&quot;0.0&quot;&gt;\n\n        &lt;ScrollView\n            android:layout_width=&quot;300dp&quot;\n            android:layout_height=&quot;match_parent&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_bias=&quot;1.0&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:layout_constraintVertical_bias=&quot;0.50&quot;&gt;\n\n            &lt;androidx.recyclerview.widget.RecyclerView\n                android:id=&quot;@+id/recyclerView&quot;\n                android:layout_width=&quot;280dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center_horizontal&quot;\n                android:layout_marginTop=&quot;12dp&quot;&gt;\n\n            &lt;/androidx.recyclerview.widget.RecyclerView&gt;\n\n        &lt;/ScrollView&gt;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:id=&quot;@+id/constraintParentOfAddTodo&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;40dp&quot;\n        android:layout_marginBottom=&quot;2dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;1.0&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/constraintLayout3&quot;\n        app:layout_constraintVertical_bias=&quot;0.794&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/addTodo&quot;\n            android:layout_width=&quot;44dp&quot;\n            android:layout_height=&quot;44dp&quot;\n            android:layout_marginVertical=&quot;0dp&quot;\n            android:backgroundTint=&quot;@color/white&quot;\n            android:elevation=&quot;10dp&quot;\n            android:src=&quot;@drawable/add_circle_48px&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.956&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;/ImageView&gt;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>list_template.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_height=&quot;42dp&quot;\n    android:id=&quot;@+id/listBlock&quot;\n    android:layout_width=&quot;280dp&quot;\n    android:layout_gravity=&quot;center_horizontal&quot;&gt;\n    &lt;androidx.cardview.widget.CardView\n\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;40dp&quot;\n        android:layout_gravity=&quot;center_horizontal&quot;\n        android:layout_marginTop=&quot;2dp&quot;\n        android:layout_marginStart=&quot;1dp&quot;\n        android:elevation=&quot;200dp&quot;\n        app:cardBackgroundColor=&quot;#932&quot;\n        app:cardCornerRadius=&quot;5dp&quot;&gt;\n\n        &lt;RelativeLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/todoText&quot;\n                android:layout_width=&quot;190dp&quot;\n                android:layout_height=&quot;40dp&quot;\n                android:layout_marginStart=&quot;10dp&quot;\n                android:fontFamily=&quot;monospace&quot;\n                android:gravity=&quot;center_vertical&quot;\n                android:maxHeight=&quot;40dp&quot;\n                android:padding=&quot;5dp&quot;\n                android:text=&quot;Reading books&quot;\n                android:textColor=&quot;#EFEBE9&quot;\n                android:textSize=&quot;14sp&quot;\n                android:textStyle=&quot;bold&quot;&gt;\n\n            &lt;/TextView&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/notDoneBtn&quot;\n                android:layout_width=&quot;32dp&quot;\n                android:layout_height=&quot;32dp&quot;\n                android:layout_alignBottom=&quot;@id/todoText&quot;\n                android:padding=&quot;5dp&quot;\n                android:layout_marginStart=&quot;5dp&quot;\n                android:layout_marginTop=&quot;4dp&quot;\n                android:layout_marginBottom=&quot;4dp&quot;\n                android:layout_toEndOf=&quot;@+id/todoText&quot;\n                android:background=&quot;#999999&quot;\n                android:src=&quot;@drawable/close_20px&quot;&gt;\n            &lt;/ImageView&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/doneBtn&quot;\n                android:layout_width=&quot;32dp&quot;\n                android:layout_height=&quot;32dp&quot;\n                android:layout_marginStart=&quot;4dp&quot;\n                android:layout_marginTop=&quot;5dp&quot;\n                android:layout_marginBottom=&quot;4dp&quot;\n                android:layout_toEndOf=&quot;@+id/notDoneBtn&quot;\n                android:background=&quot;#999999&quot;\n                android:padding=&quot;5dp&quot;\n                android:src=&quot;@drawable/done_20px&quot;&gt;\n\n            &lt;/ImageView&gt;\n        &lt;/RelativeLayout&gt;\n\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>after_add_clicked.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;40dp&quot;\n\n    android:layout_marginBottom=&quot;2dp&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintHorizontal_bias=&quot;1.0&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\n\n\n    &lt;com.google.android.material.card.MaterialCardView\n        android:id=&quot;@+id/materialCardView&quot;\n        android:layout_width=&quot;310dp&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_marginStart=&quot;50dp&quot;\n        android:background=&quot;#121212&quot;\n        android:backgroundTint=&quot;@color/white&quot;\n        app:cardCornerRadius=&quot;30dp&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:strokeColor=&quot;#888&quot;\n        app:strokeWidth=&quot;2dp&quot;&gt;\n\n        &lt;EditText\n            android:id=&quot;@+id/editTextTodo&quot;\n            android:layout_width=&quot;300dp&quot;\n            android:layout_height=&quot;40dp&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:background=&quot;@color/white&quot;\n            android:fontFamily=&quot;monospace&quot;\n            android:gravity=&quot;center_vertical&quot;\n            android:text=&quot;What to do&quot;\n            android:inputType=&quot;text&quot;\n            android:textSize=&quot;20sp&quot;&gt;\n\n        &lt;/EditText&gt;\n\n    &lt;/com.google.android.material.card.MaterialCardView&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/sendTodo&quot;\n        android:layout_width=&quot;40dp&quot;\n        android:layout_height=&quot;40dp&quot;\n        android:layout_margin=&quot;4dp&quot;\n        android:layout_marginStart=&quot;4dp&quot;\n        android:layout_marginTop=&quot;4dp&quot;\n        android:layout_marginEnd=&quot;4dp&quot;\n        android:layout_marginBottom=&quot;4dp&quot;\n        android:src=&quot;@drawable/ic_baseline_send_24&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.529&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/materialCardView&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n    &lt;/ImageView&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/cancel&quot;\n        android:layout_width=&quot;40dp&quot;\n        android:layout_height=&quot;40dp&quot;\n        android:layout_margin=&quot;4dp&quot;\n        android:layout_marginStart=&quot;4dp&quot;\n        android:layout_marginTop=&quot;4dp&quot;\n        android:layout_marginEnd=&quot;4dp&quot;\n        android:layout_marginBottom=&quot;4dp&quot;\n        android:src=&quot;@drawable/close_20px&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@+id/materialCardView&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n    &lt;/ImageView&gt;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/O8Ws1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O8Ws1.png\" alt=\"Screen shot of application\" /></a>\nThis is how my app looks .</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9415453,"reputation":3146,"user_id":7003331,"display_name":"Deepak Patankar"},"score":0,"creation_date":1653712932,"post_id":72412898,"comment_id":127923133,"body_markdown":"I didn&#39;t got the question. Did you mean in which case you will get an exception ?","body":"I didn&#39;t got the question. Did you mean in which case you will get an exception ?"},{"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"score":0,"creation_date":1653713016,"post_id":72412898,"comment_id":127923143,"body_markdown":"give an example of what is the input you are getting exception of.","body":"give an example of what is the input you are getting exception of."},{"owner":{"account_id":25410454,"reputation":13,"user_id":19218350,"display_name":"Gerardo David Gonzalez Nu&#241;ez"},"score":0,"creation_date":1653713600,"post_id":72412898,"comment_id":127923227,"body_markdown":"I have to obtain a exception with the Quadratic Formula setting the a with 0 value.\nThat makes the square root didn&#39;t work because the division can&#39;t  work with a 0.","body":"I have to obtain a exception with the Quadratic Formula setting the a with 0 value. That makes the square root didn&#39;t work because the division can&#39;t  work with a 0."},{"owner":{"account_id":25410454,"reputation":13,"user_id":19218350,"display_name":"Gerardo David Gonzalez Nu&#241;ez"},"score":0,"creation_date":1653713654,"post_id":72412898,"comment_id":127923237,"body_markdown":"Sorry if my English is not good. Im starting learn.","body":"Sorry if my English is not good. Im starting learn."},{"owner":{"account_id":18827263,"reputation":405,"user_id":14499516,"display_name":"hokwanhung"},"score":0,"creation_date":1653714998,"post_id":72412898,"comment_id":127923424,"body_markdown":"See this answer: [Java division by zero doesnt throw an ArithmeticException - why?](https://stackoverflow.com/questions/14137989/java-division-by-zero-doesnt-throw-an-arithmeticexception-why#:~:text=Java%20will%20not%20throw%20an,the%20result%20will%20be%20INFINITY.)","body":"See this answer: <a href=\"https://stackoverflow.com/questions/14137989/java-division-by-zero-doesnt-throw-an-arithmeticexception-why#:~:text=Java%20will%20not%20throw%20an,the%20result%20will%20be%20INFINITY.\">Java division by zero doesnt throw an ArithmeticException - why?</a>"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1653720126,"post_id":72412898,"comment_id":127923959,"body_markdown":"Please explain the problem and what kind of solution you&#39;re looking for in the body of your question.","body":"Please explain the problem and what kind of solution you&#39;re looking for in the body of your question."}],"answers":[{"tags":[],"owner":{"account_id":25401149,"reputation":16,"user_id":19210614,"display_name":"LurkerSpace"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653720431,"creation_date":1653720431,"answer_id":72413515,"question_id":72412898,"body_markdown":"B is value to get square root from answer , then you want to throw exception.\r\n\r\nExample: √0^2 = 0, then yeah not divisible.\r\n\r\nSolution:\r\n\r\n&gt; use If-else statement and throw exceptions(custom or default).\r\n\r\n //If square root B is 0, then Throw error\r\n\r\n    try {\r\n        if(b == 0){\r\n            throw new Exception();\r\n        }\r\n        else {\r\n        x1 = ((-b) - (Math.sqrt(Math.pow(b, 2) - 4 * a * c))) / 2 * a;\r\n        x2 = ((-b) + (Math.sqrt(Math.pow(b, 2) - 4 * a * c))) / 2 * a;\r\n        System.out.println(&quot;x1: &quot; + x1 + &quot;, x2: &quot; + x2);\r\n        }\r\n    \r\n        } catch (Exception e) {\r\n            System.out.println(&quot;There is A Problem&quot;);\r\n        }\r\n\r\nI replicated It, and this is bonus for you:\r\nhttps://onlinegdb.com/9oqNMLySU\r\n\r\n&gt; Give a thumbs up if it helps. [Gladge][1]\r\n\r\n\r\n  [1]: https://cdn.frankerfacez.com/emoticon/509860/4","title":"How can I get an exception from a quadratic formula?","body":"<p>B is value to get square root from answer , then you want to throw exception.</p>\n<p>Example: √0^2 = 0, then yeah not divisible.</p>\n<p>Solution:</p>\n<blockquote>\n<p>use If-else statement and throw exceptions(custom or default).</p>\n</blockquote>\n<p>//If square root B is 0, then Throw error</p>\n<pre><code>try {\n    if(b == 0){\n        throw new Exception();\n    }\n    else {\n    x1 = ((-b) - (Math.sqrt(Math.pow(b, 2) - 4 * a * c))) / 2 * a;\n    x2 = ((-b) + (Math.sqrt(Math.pow(b, 2) - 4 * a * c))) / 2 * a;\n    System.out.println(&quot;x1: &quot; + x1 + &quot;, x2: &quot; + x2);\n    }\n\n    } catch (Exception e) {\n        System.out.println(&quot;There is A Problem&quot;);\n    }\n</code></pre>\n<p>I replicated It, and this is bonus for you:\n<a href=\"https://onlinegdb.com/9oqNMLySU\" rel=\"nofollow noreferrer\">https://onlinegdb.com/9oqNMLySU</a></p>\n<blockquote>\n<p>Give a thumbs up if it helps. <a href=\"https://cdn.frankerfacez.com/emoticon/509860/4\" rel=\"nofollow noreferrer\">Gladge</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653724530,"creation_date":1653724221,"answer_id":72413864,"question_id":72412898,"body_markdown":"Arithmetic with `double` values does not throw exceptions.  Nor does taking a square root of zero or a negative number.  So your code going to have to test for specific inputs (or results) and throw an exception explicitly. \r\n\r\n\r\nHints: \r\n\r\n  - read the javadocs for `Math.sqrt(double)` and `Double.isNaN(double)`\r\n\r\n  - read about what `NaN` means in floating point arithmetic,\r\n\r\n  - read about √-1 and complex numbers (if you have forgotten your high-school math classes),\r\n\r\n  - do some algebra to figure out what values cause the quadratic formula to produce complex numbers as the &quot;roots&quot;.","title":"How can I get an exception from a quadratic formula?","body":"<p>Arithmetic with <code>double</code> values does not throw exceptions.  Nor does taking a square root of zero or a negative number.  So your code going to have to test for specific inputs (or results) and throw an exception explicitly.</p>\n<p>Hints:</p>\n<ul>\n<li><p>read the javadocs for <code>Math.sqrt(double)</code> and <code>Double.isNaN(double)</code></p>\n</li>\n<li><p>read about what <code>NaN</code> means in floating point arithmetic,</p>\n</li>\n<li><p>read about √-1 and complex numbers (if you have forgotten your high-school math classes),</p>\n</li>\n<li><p>do some algebra to figure out what values cause the quadratic formula to produce complex numbers as the &quot;roots&quot;.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":25410454,"reputation":13,"user_id":19218350,"display_name":"Gerardo David Gonzalez Nu&#241;ez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653724397,"creation_date":1653724397,"answer_id":72413888,"question_id":72412898,"body_markdown":"    public static void main(String[] args) throws Exception {\r\n        Scanner sc = new Scanner(System.in);\r\n        int a, b, c;\r\n        int x1, x2, divisor, dividendo1, dividendo2, raiz, resta, cuadrado;\r\n        System.out.println(&quot;Ingresa el valor de a: &quot;);\r\n        a = sc.nextInt();\r\n        System.out.println(&quot;Ingresa el valor de b: &quot;);\r\n        b = sc.nextInt();\r\n        System.out.println(&quot;Ingresa el valor de c: &quot;);\r\n        c = sc.nextInt();\r\n        cuadrado = b * b;\r\n        resta = cuadrado - 4 * a * c;\r\n        raiz = (int)Math.sqrt(resta);\r\n        if (raiz==0) {\r\n            throw new ArithmeticException();\r\n        }\r\n        dividendo1 = -b - raiz;\r\n        dividendo2 = -b + raiz;\r\n        divisor = 2 * a;\r\n        x1 = dividendo1 / divisor;\r\n        x2 = dividendo2 / divisor;    \r\n        System.out.println(&quot;x1: &quot; + x1 + &quot;, x2: &quot; + x2);\r\n        \r\n    }\r\n}\r\n\r\nI got it!","title":"How can I get an exception from a quadratic formula?","body":"<pre><code>public static void main(String[] args) throws Exception {\n    Scanner sc = new Scanner(System.in);\n    int a, b, c;\n    int x1, x2, divisor, dividendo1, dividendo2, raiz, resta, cuadrado;\n    System.out.println(&quot;Ingresa el valor de a: &quot;);\n    a = sc.nextInt();\n    System.out.println(&quot;Ingresa el valor de b: &quot;);\n    b = sc.nextInt();\n    System.out.println(&quot;Ingresa el valor de c: &quot;);\n    c = sc.nextInt();\n    cuadrado = b * b;\n    resta = cuadrado - 4 * a * c;\n    raiz = (int)Math.sqrt(resta);\n    if (raiz==0) {\n        throw new ArithmeticException();\n    }\n    dividendo1 = -b - raiz;\n    dividendo2 = -b + raiz;\n    divisor = 2 * a;\n    x1 = dividendo1 / divisor;\n    x2 = dividendo2 / divisor;    \n    System.out.println(&quot;x1: &quot; + x1 + &quot;, x2: &quot; + x2);\n    \n}\n</code></pre>\n<p>}</p>\n<p>I got it!</p>\n"}],"owner":{"account_id":25410454,"reputation":13,"user_id":19218350,"display_name":"Gerardo David Gonzalez Nu&#241;ez"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1653914057,"accepted_answer_id":72413864,"answer_count":3,"score":1,"last_activity_date":1653724530,"creation_date":1653712787,"question_id":72412898,"body_markdown":"```java\r\npackage com.mycompany.mavenproject1;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Mavenproject1 {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        Scanner sc = new Scanner(System.in);\r\n        double a, b, c;\r\n        double x1, x2;\r\n        System.out.println(&quot;Ingresa el valor de a: &quot;);\r\n        a = sc.nextDouble();\r\n        System.out.println(&quot;Ingresa el valor de b: &quot;);\r\n        b = sc.nextDouble();\r\n        System.out.println(&quot;Ingresa el valor de c: &quot;);\r\n        c = sc.nextDouble();\r\n\r\n        try {\r\n            x1 = ((-b) - (Math.sqrt(Math.pow(b, 2) - 4 * a * c))) / 2 * a;\r\n            x2 = ((-b) + (Math.sqrt(Math.pow(b, 2) - 4 * a * c))) / 2 * a;\r\n            System.out.println(&quot;x1: &quot; + x1 + &quot;, x2: &quot; + x2);\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Hay un problema&quot;);\r\n        }\r\n\r\n    }\r\n}\r\n```","title":"How can I get an exception from a quadratic formula?","body":"<pre class=\"lang-java prettyprint-override\"><code>package com.mycompany.mavenproject1;\n\nimport java.util.Scanner;\n\npublic class Mavenproject1 {\n\n    public static void main(String[] args) throws Exception {\n        Scanner sc = new Scanner(System.in);\n        double a, b, c;\n        double x1, x2;\n        System.out.println(&quot;Ingresa el valor de a: &quot;);\n        a = sc.nextDouble();\n        System.out.println(&quot;Ingresa el valor de b: &quot;);\n        b = sc.nextDouble();\n        System.out.println(&quot;Ingresa el valor de c: &quot;);\n        c = sc.nextDouble();\n\n        try {\n            x1 = ((-b) - (Math.sqrt(Math.pow(b, 2) - 4 * a * c))) / 2 * a;\n            x2 = ((-b) + (Math.sqrt(Math.pow(b, 2) - 4 * a * c))) / 2 * a;\n            System.out.println(&quot;x1: &quot; + x1 + &quot;, x2: &quot; + x2);\n        } catch (Exception e) {\n            System.out.println(&quot;Hay un problema&quot;);\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","maven","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":6105471,"reputation":4298,"user_id":4763309,"accept_rate":75,"display_name":"mrkernelpanic"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1510663259,"creation_date":1510663259,"answer_id":47286187,"question_id":47286144,"body_markdown":"You need to define a property named springframework.version in your maven POM. Like this \r\n\r\n    &lt;properties&gt;\r\n        &lt;springframework.version&gt;4.3.11&lt;/springframework.version&gt;\r\n    &lt;/properties&gt;","title":"IntelliJ - package org.springframework.stereotype does not exist","body":"<p>You need to define a property named springframework.version in your maven POM. Like this </p>\n\n<pre><code>&lt;properties&gt;\n    &lt;springframework.version&gt;4.3.11&lt;/springframework.version&gt;\n&lt;/properties&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7587707,"reputation":373,"user_id":5756251,"accept_rate":50,"display_name":"Waqas Rana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653724523,"creation_date":1653724523,"answer_id":72413902,"question_id":47286144,"body_markdown":"The scope - runtime added for spring-context dependency was the issue in pom. Once removed(runtime attribute)and maven clean install builds successfully.","title":"IntelliJ - package org.springframework.stereotype does not exist","body":"<p>The scope - runtime added for spring-context dependency was the issue in pom. Once removed(runtime attribute)and maven clean install builds successfully.</p>\n"}],"owner":{"account_id":11225950,"reputation":67,"user_id":8235546,"display_name":"JAY"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5634,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":47286187,"answer_count":2,"score":1,"last_activity_date":1653724523,"creation_date":1510663107,"question_id":47286144,"body_markdown":"I&#39;m just starting to use IntelliJ and working on making a very simple &quot;hello world&quot; application. It looks like a very simple setup issue but I can&#39;t find a solution here that works.\r\n\r\nHere&#39;s the pom.xml\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;com.jay.jayWorld&lt;/groupId&gt;\r\n      &lt;artifactId&gt;simple-project&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n      &lt;name&gt;simple-project&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.1&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n          &lt;version&gt;${springframework.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n          &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n          &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\r\n          &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n          &lt;version&gt;1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n          &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.2&lt;/version&gt;\r\n              &lt;configuration&gt;\r\n                &lt;source&gt;1.6&lt;/source&gt;\r\n                &lt;target&gt;1.6&lt;/target&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n        &lt;finalName&gt;Spring4MVCHelloWorldDemo&lt;/finalName&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nIs it because I&#39;m using ${springframework.version}? I&#39;ve seen from some project that this works but not to be the case in my project. Do i need to define it somewhere?\r\n\r\nHere&#39;s the screenshot of the error.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lP8FI.png","title":"IntelliJ - package org.springframework.stereotype does not exist","body":"<p>I'm just starting to use IntelliJ and working on making a very simple \"hello world\" application. It looks like a very simple setup issue but I can't find a solution here that works.</p>\n\n<p>Here's the pom.xml</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.jay.jayWorld&lt;/groupId&gt;\n  &lt;artifactId&gt;simple-project&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;name&gt;simple-project&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n      &lt;version&gt;${springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n      &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\n      &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n      &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.2&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;source&gt;1.6&lt;/source&gt;\n            &lt;target&gt;1.6&lt;/target&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n    &lt;finalName&gt;Spring4MVCHelloWorldDemo&lt;/finalName&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Is it because I'm using ${springframework.version}? I've seen from some project that this works but not to be the case in my project. Do i need to define it somewhere?</p>\n\n<p>Here's the screenshot of the error.\n<a href=\"https://i.stack.imgur.com/lP8FI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lP8FI.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1653596851,"post_id":72394276,"comment_id":127896315,"body_markdown":"The code to write the user data that you shared looks fine. What is the problem you have when reading the data back? If you didn&#39;t try it yet, I recommend starting here: https://firebase.google.com/docs/database/android/read-and-write#read_data","body":"The code to write the user data that you shared looks fine. What is the problem you have when reading the data back? If you didn&#39;t try it yet, I recommend starting here: <a href=\"https://firebase.google.com/docs/database/android/read-and-write#read_data\" rel=\"nofollow noreferrer\">firebase.google.com/docs/database/android/&hellip;</a>"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1653627716,"post_id":72394276,"comment_id":127901355,"body_markdown":"Show us what have you tried in code to read the data. Please respond with @AlexMamo","body":"Show us what have you tried in code to read the data. Please respond with @AlexMamo"},{"owner":{"account_id":24891622,"reputation":11,"user_id":19033919,"display_name":"art_egor"},"score":0,"creation_date":1653632778,"post_id":72394276,"comment_id":127902310,"body_markdown":"@AlexMamo , i cant write my code in comments, because its too long, where can i write it, so you will see it?","body":"@AlexMamo , i cant write my code in comments, because its too long, where can i write it, so you will see it?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1653633378,"post_id":72394276,"comment_id":127902438,"body_markdown":"Please add it to your question.","body":"Please add it to your question."},{"owner":{"account_id":24891622,"reputation":11,"user_id":19033919,"display_name":"art_egor"},"score":0,"creation_date":1653655701,"post_id":72394276,"comment_id":127909592,"body_markdown":"@AlexMamo i added it, hope you will help me :)","body":"@AlexMamo i added it, hope you will help me :)"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1653655888,"post_id":72394276,"comment_id":127909665,"body_markdown":"So do you want to get the data of a specific (signed-in) user, or from all users that exist in the `Users` node?","body":"So do you want to get the data of a specific (signed-in) user, or from all users that exist in the <code>Users</code> node?"},{"owner":{"account_id":24891622,"reputation":11,"user_id":19033919,"display_name":"art_egor"},"score":0,"creation_date":1653656050,"post_id":72394276,"comment_id":127909727,"body_markdown":"@AlexMamo i want to get data from signed-in user. And then use it on button click of the same class (into which I get the data). I cant show you photo of how user-data look in firebase, because i dont hav e enough reputation, but its look like: Database-&gt;Users-&gt;UID-&gt;Data i want to get.","body":"@AlexMamo i want to get data from signed-in user. And then use it on button click of the same class (into which I get the data). I cant show you photo of how user-data look in firebase, because i dont hav e enough reputation, but its look like: Database-&gt;Users-&gt;UID-&gt;Data i want to get."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653723934,"creation_date":1653723934,"answer_id":72413837,"question_id":72394276,"body_markdown":"To be able to get the data of the signed-in user, you have to attach a listener that points exactly to the `Users` node. So please use the following lines of code:\r\n\r\n\tString uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n\tDatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n\tDatabaseReference uidRef = db.child(&quot;Users&quot;).child(uid);\r\n    uidRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n\t\t@Override\r\n\t\tpublic void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n\t\t\tif (task.isSuccessful()) {\r\n                DataSnapshot snapshot = task.getResult();\r\n                String email = snapshot.child(&quot;email&quot;).getValue(String.class);\r\n\t\t\t\tString userBinder = snapshot.child(&quot;userBinder&quot;).getValue(String.class);\r\n\t\t        Log.d(&quot;TAG&quot;, email + &quot;/&quot; + userBinder);\r\n\t\t\t} else {\r\n\t\t\t\tLog.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\nPlease notice that there is no need to loop through the results. You only need to get the data that corresponds to both fields.","title":"How to get data about a specific user from Firebase","body":"<p>To be able to get the data of the signed-in user, you have to attach a listener that points exactly to the <code>Users</code> node. So please use the following lines of code:</p>\n<pre><code>String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\nDatabaseReference db = FirebaseDatabase.getInstance().getReference();\nDatabaseReference uidRef = db.child(&quot;Users&quot;).child(uid);\nuidRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            DataSnapshot snapshot = task.getResult();\n            String email = snapshot.child(&quot;email&quot;).getValue(String.class);\n            String userBinder = snapshot.child(&quot;userBinder&quot;).getValue(String.class);\n            Log.d(&quot;TAG&quot;, email + &quot;/&quot; + userBinder);\n        } else {\n            Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\n        }\n    }\n});\n</code></pre>\n<p>Please notice that there is no need to loop through the results. You only need to get the data that corresponds to both fields.</p>\n"}],"owner":{"account_id":24891622,"reputation":11,"user_id":19033919,"display_name":"art_egor"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653723970,"creation_date":1653578876,"question_id":72394276,"body_markdown":"There is a Firebase Realtime Database into which I drive in some data during registration, they fall into the Users section under the UID key from Auth:\r\n\r\n```\r\npublic void writeUserToDB(Object data, String currentUser){\r\n    DatabaseReference myRef = mDataBase.child(&quot;Users/&quot; + currentUser);\r\n    myRef.setValue(data);\r\n}\r\n\r\n\r\nmRegisterBtn.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View v) {\r\n\r\n        \r\n        String id = mDataBase.getKey();\r\n        String name = mName.getText().toString().trim();\r\n        String email = mEmail.getText().toString().trim();\r\n        String password = mPassword.getText().toString().trim();\r\n        String userBinder = mUserBinder.getText().toString().trim();\r\n\r\n        \r\n        if (TextUtils.isEmpty(email)) {\r\n            mEmail.setError(&quot;Write your email...&quot;);\r\n            return;\r\n        }\r\n        if (TextUtils.isEmpty(password)) {\r\n            mEmail.setError(&quot;Write your password...&quot;);\r\n            return;\r\n        }\r\n        if (TextUtils.isEmpty(name)) {\r\n            mName.setError(&quot;Write your name...&quot;);\r\n            return;\r\n        }\r\n        if (password.length() &lt; 8) {\r\n            mPassword.setError(&quot;Password must have 8+ symbols.&quot;);\r\n            return;\r\n        }\r\n\r\n        \r\n        fAuth.createUserWithEmailAndPassword(email, password).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n            @Override\r\n\r\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                if (task.isSuccessful()) {\r\n                    User newUser = new User(currentUser, id, name, email, password, userBinder);\r\n\r\n                    \r\n                    currentUser = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n                    writeUserToDB(newUser, currentUser);\r\n\r\n                    Toast.makeText(Register.this, &quot;Пользователь зарегистрирован.&quot;, Toast.LENGTH_LONG).show();\r\n                    startActivity(new Intent(getApplicationContext(), MainActivity.class));\r\n\r\n                } else {\r\n                    Toast.makeText(Register.this, &quot;Произошла ошибка. Повторите.&quot; +\r\n                            task.getException().getMessage(), Toast.LENGTH_LONG).show();\r\n                }\r\n            }\r\n        });\r\n    }\r\n});\r\n```\r\n\r\nIn firebase it looks like:\r\n```\r\nUsers:\r\n  UID: {\r\n    email\r\n    name\r\n    password\r\n    userbinder\r\n  }\r\n```\r\nI need to get this data in MainActivity as String variables to use when another button is clicked.\r\nUPD - that&#39;s what I tried to do, but it doesnt work and performs a different function.\r\n```\r\nString uid = FirebaseAuth.getInstance().getUid();\r\n        mDataBase = FirebaseDatabase.getInstance().getReference();\r\n        DatabaseReference uidRef = mDataBase.child(&quot;Users/&quot;).child(uid);\r\n        ValueEventListener valueEventListener = new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                for(DataSnapshot ds : dataSnapshot.getChildren()) {\r\n                    String email = ds.child(&quot;email&quot;).getValue(String.class);\r\n                    String userBinder = ds.child(&quot;userBinder&quot;).getValue(String.class);\r\n                    Log.d(&quot;TAG&quot;, email + &quot;/&quot; + userBinder);\r\n                }\r\n            }\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n                Log.d(&quot;TAG&quot;, databaseError.getMessage()); //Don&#39;t ignore potential errors!\r\n            }\r\n        };\r\n        uidRef.addListenerForSingleValueEvent(valueEventListener);\r\n```\r\nI need to use this data in MainActivity button:\r\n```\r\nmSosButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                DatabaseReference databaseReference = FirebaseDatabase.getInstance()\r\n                        .getReference().child(&quot;Sos&quot;);\r\n                Toast.makeText(MainActivity.this, &quot;Message sended!&quot;, Toast.LENGTH_LONG).show();\r\n\r\n                Sos sos = new Sos(user_email, binded_user_email);\r\n                databaseReference.push().setValue(sos);\r\n            }\r\n        });\r\n```\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1veNb.jpg\r\n","title":"How to get data about a specific user from Firebase","body":"<p>There is a Firebase Realtime Database into which I drive in some data during registration, they fall into the Users section under the UID key from Auth:</p>\n<pre><code>public void writeUserToDB(Object data, String currentUser){\n    DatabaseReference myRef = mDataBase.child(&quot;Users/&quot; + currentUser);\n    myRef.setValue(data);\n}\n\n\nmRegisterBtn.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n\n        \n        String id = mDataBase.getKey();\n        String name = mName.getText().toString().trim();\n        String email = mEmail.getText().toString().trim();\n        String password = mPassword.getText().toString().trim();\n        String userBinder = mUserBinder.getText().toString().trim();\n\n        \n        if (TextUtils.isEmpty(email)) {\n            mEmail.setError(&quot;Write your email...&quot;);\n            return;\n        }\n        if (TextUtils.isEmpty(password)) {\n            mEmail.setError(&quot;Write your password...&quot;);\n            return;\n        }\n        if (TextUtils.isEmpty(name)) {\n            mName.setError(&quot;Write your name...&quot;);\n            return;\n        }\n        if (password.length() &lt; 8) {\n            mPassword.setError(&quot;Password must have 8+ symbols.&quot;);\n            return;\n        }\n\n        \n        fAuth.createUserWithEmailAndPassword(email, password).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n            @Override\n\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                if (task.isSuccessful()) {\n                    User newUser = new User(currentUser, id, name, email, password, userBinder);\n\n                    \n                    currentUser = FirebaseAuth.getInstance().getCurrentUser().getUid();\n                    writeUserToDB(newUser, currentUser);\n\n                    Toast.makeText(Register.this, &quot;Пользователь зарегистрирован.&quot;, Toast.LENGTH_LONG).show();\n                    startActivity(new Intent(getApplicationContext(), MainActivity.class));\n\n                } else {\n                    Toast.makeText(Register.this, &quot;Произошла ошибка. Повторите.&quot; +\n                            task.getException().getMessage(), Toast.LENGTH_LONG).show();\n                }\n            }\n        });\n    }\n});\n</code></pre>\n<p>In firebase it looks like:</p>\n<pre><code>Users:\n  UID: {\n    email\n    name\n    password\n    userbinder\n  }\n</code></pre>\n<p>I need to get this data in MainActivity as String variables to use when another button is clicked.\nUPD - that's what I tried to do, but it doesnt work and performs a different function.</p>\n<pre><code>String uid = FirebaseAuth.getInstance().getUid();\n        mDataBase = FirebaseDatabase.getInstance().getReference();\n        DatabaseReference uidRef = mDataBase.child(&quot;Users/&quot;).child(uid);\n        ValueEventListener valueEventListener = new ValueEventListener() {\n            @Override\n            public void onDataChange(DataSnapshot dataSnapshot) {\n                for(DataSnapshot ds : dataSnapshot.getChildren()) {\n                    String email = ds.child(&quot;email&quot;).getValue(String.class);\n                    String userBinder = ds.child(&quot;userBinder&quot;).getValue(String.class);\n                    Log.d(&quot;TAG&quot;, email + &quot;/&quot; + userBinder);\n                }\n            }\n            @Override\n            public void onCancelled(@NonNull DatabaseError databaseError) {\n                Log.d(&quot;TAG&quot;, databaseError.getMessage()); //Don't ignore potential errors!\n            }\n        };\n        uidRef.addListenerForSingleValueEvent(valueEventListener);\n</code></pre>\n<p>I need to use this data in MainActivity button:</p>\n<pre><code>mSosButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                DatabaseReference databaseReference = FirebaseDatabase.getInstance()\n                        .getReference().child(&quot;Sos&quot;);\n                Toast.makeText(MainActivity.this, &quot;Message sended!&quot;, Toast.LENGTH_LONG).show();\n\n                Sos sos = new Sos(user_email, binded_user_email);\n                databaseReference.push().setValue(sos);\n            }\n        });\n</code></pre>\n"},{"tags":["java","android","sqlite","android-recyclerview"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1653550984,"post_id":72386861,"comment_id":127880692,"body_markdown":"Pretty unclear problem. What does it matter where you store your urls? If you need an image then get the url from the database and load image from url. Of course we assume that you know how to load an image from url.","body":"Pretty unclear problem. What does it matter where you store your urls? If you need an image then get the url from the database and load image from url. Of course we assume that you know how to load an image from url."}],"answers":[{"tags":[],"owner":{"account_id":8566777,"reputation":880,"user_id":6419026,"display_name":"Soumik Bhattacharjee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653541459,"creation_date":1653541459,"answer_id":72386922,"question_id":72386861,"body_markdown":"There are multiple options available to load an image from URL.\r\n\r\nYou can use [Picasso][1] like this: \r\n\r\n```Picasso.get().load(&quot;your_url&quot;).into(imageView);```\r\n\r\nAlso you can use [Glide][2] (Faster than Picasso)\r\n\r\n```Glide.with(this).load(&quot;your_url&quot;).into(imageView);```\r\n\r\nOr you can convert your URL to Bitmap and then set it into ImageView without using any library. See this for this approach: [How to get bitmap from a url in android][3]\r\n\r\n\r\n  [1]: https://square.github.io/picasso/\r\n  [2]: https://github.com/bumptech/glide\r\n  [3]: https://stackoverflow.com/a/11831325/6419026","title":"How to load image from URL that is in database","body":"<p>There are multiple options available to load an image from URL.</p>\n<p>You can use <a href=\"https://square.github.io/picasso/\" rel=\"nofollow noreferrer\">Picasso</a> like this:</p>\n<p><code>Picasso.get().load(&quot;your_url&quot;).into(imageView);</code></p>\n<p>Also you can use <a href=\"https://github.com/bumptech/glide\" rel=\"nofollow noreferrer\">Glide</a> (Faster than Picasso)</p>\n<p><code>Glide.with(this).load(&quot;your_url&quot;).into(imageView);</code></p>\n<p>Or you can convert your URL to Bitmap and then set it into ImageView without using any library. See this for this approach: <a href=\"https://stackoverflow.com/a/11831325/6419026\">How to get bitmap from a url in android</a></p>\n"},{"tags":[],"owner":{"account_id":25392914,"reputation":36,"user_id":19203579,"display_name":"bazaid ehsan gondal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653723648,"creation_date":1653541584,"answer_id":72386936,"question_id":72386861,"body_markdown":"you can load an image from URL by using Glide:\r\n\r\nImport dependency\r\n\r\n&gt; implementation &#39;com.github.bumptech.glide:glide:4.11.0&#39;\r\n\r\n            Glide\r\n            .with(context)\r\n            .load(&quot;URL placed here&quot;)\r\n            .centerCrop()\r\n            .placeholder(R.drawable.placeholder)\r\n            .into(imageview)","title":"How to load image from URL that is in database","body":"<p>you can load an image from URL by using Glide:</p>\n<p>Import dependency</p>\n<blockquote>\n<p>implementation 'com.github.bumptech.glide:glide:4.11.0'</p>\n</blockquote>\n<pre><code>        Glide\n        .with(context)\n        .load(&quot;URL placed here&quot;)\n        .centerCrop()\n        .placeholder(R.drawable.placeholder)\n        .into(imageview)\n</code></pre>\n"}],"owner":{"account_id":24764063,"reputation":3,"user_id":18648097,"display_name":"Whoyoumecallit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":386,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72386936,"answer_count":2,"score":0,"last_activity_date":1653723648,"creation_date":1653540898,"question_id":72386861,"body_markdown":"How can I load an image using a URL that is saved in a database and display it in a Recycler View in an Image View\r\n\r\nI have a database that displays data as an output in my app but I cant figure out how to make the URL for an image in the database load as an image.","title":"How to load image from URL that is in database","body":"<p>How can I load an image using a URL that is saved in a database and display it in a Recycler View in an Image View</p>\n<p>I have a database that displays data as an output in my app but I cant figure out how to make the URL for an image in the database load as an image.</p>\n"},{"tags":["java","android","exception","android-camerax","image-capture"],"comments":[{"owner":{"account_id":103589,"reputation":10607,"user_id":277368,"accept_rate":79,"display_name":"Xi 张熹"},"score":0,"creation_date":1653693348,"post_id":72410198,"comment_id":127920998,"body_markdown":"This happens if the ImageCapture is not bound to a camera. Could you see the preview working when you press the button?","body":"This happens if the ImageCapture is not bound to a camera. Could you see the preview working when you press the button?"},{"owner":{"account_id":17601628,"reputation":13,"user_id":12771486,"display_name":"tqnone"},"score":0,"creation_date":1653716404,"post_id":72410198,"comment_id":127923576,"body_markdown":"Hi Xi 张熹, yes I am able to see the preview using the camera. Thats actually the weird thing.","body":"Hi Xi 张熹, yes I am able to see the preview using the camera. Thats actually the weird thing."},{"owner":{"account_id":103589,"reputation":10607,"user_id":277368,"accept_rate":79,"display_name":"Xi 张熹"},"score":0,"creation_date":1653852867,"post_id":72410198,"comment_id":127947048,"body_markdown":"That is indeed weird. Does it happen on a specific device or does it happen on all devices? If you can upload a minimal reproducible example to GitHub, I can download and take a look.","body":"That is indeed weird. Does it happen on a specific device or does it happen on all devices? If you can upload a minimal reproducible example to GitHub, I can download and take a look."}],"owner":{"account_id":17601628,"reputation":13,"user_id":12771486,"display_name":"tqnone"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":609,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653723476,"creation_date":1653679489,"question_id":72410198,"body_markdown":"I tried to follow the instructions from the google codelab: \r\nhttps://developer.android.com/codelabs/camerax-getting-started#0\r\n\r\nCurrently, I am getting the following exception message when trying to capture a picture:\r\n\r\n    androidx.camera.core.ImageCaptureException: Not bound to a valid Camera\r\n\r\n\r\n\r\nThe version of camerax is 1.2.0-alpha01. The preview is working. I can see the camera.\r\n\r\nI appreciate any help. Thank you in advance.\r\n\r\n**My method takePhoto:**\r\n\r\n        @SuppressLint(&quot;RestrictedApi&quot;)\r\n    private void takePhoto() {\r\n        ImageCapture imageCapture = new ImageCapture.Builder()\r\n                .setTargetRotation(Surface.ROTATION_0)\r\n                .build();\r\n\r\n        SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd-HH-mm-ss-SSS&quot;, Locale.US);\r\n        String name = simpleDateFormat.format(System.currentTimeMillis());\r\n\r\n        ContentValues contentValues = new ContentValues();\r\n        contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, name);\r\n        contentValues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;image/jpeg&quot;);\r\n\r\n        if(Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.P) {\r\n            contentValues.put(MediaStore.Images.Media.RELATIVE_PATH, &quot;Pictures/CameraX-Image&quot;);\r\n        }\r\n\r\n        ImageCapture.OutputFileOptions outputFileOptions = new ImageCapture.OutputFileOptions.Builder(getContentResolver(),\r\n                MediaStore.Images.Media.EXTERNAL_CONTENT_URI,\r\n                contentValues)\r\n                .build();\r\n        \r\n        imageCapture.takePicture(outputFileOptions,\r\n                ContextCompat.getMainExecutor(this),\r\n                new ImageCapture.OnImageSavedCallback() {\r\n                    @Override\r\n                    public void onImageSaved(@NonNull ImageCapture.OutputFileResults outputFileResults) {\r\n                        Uri savedUri = outputFileResults.getSavedUri();\r\n                        String msg = &quot;Photo capture succeeded: $savedUri&quot;;\r\n                        Toast.makeText(getBaseContext(), msg, Toast.LENGTH_SHORT).show();\r\n                        Log.d(TAG, msg);\r\n                    }\r\n\r\n                    @Override\r\n                    public void onError(@NonNull ImageCaptureException exception) {\r\n                        Log.e(TAG, &quot;${exception.message}&quot;, exception);\r\n                    }\r\n                });\r\n    }\r\n\r\n**My method startCamera:**\r\n\r\n        private void startCamera() {\r\n        ListenableFuture&lt;ProcessCameraProvider&gt; providerListenableFuture = ProcessCameraProvider.getInstance(this);\r\n\r\n        providerListenableFuture.addListener(() -&gt; {\r\n            try {\r\n                ImageCapture imageCapture = new ImageCapture.Builder()\r\n                        .setTargetRotation(Surface.ROTATION_0)\r\n                        .build();\r\n\r\n                ProcessCameraProvider cameraProvider = providerListenableFuture.get();\r\n                int rotation = viewBinding.viewFinder.getDisplay().getRotation();\r\n\r\n                Preview preview = new Preview.Builder().setTargetRotation(rotation).build();\r\n                preview.setSurfaceProvider(viewBinding.viewFinder.getSurfaceProvider());\r\n                CameraSelector cameraSelector = CameraSelector.DEFAULT_BACK_CAMERA;\r\n\r\n                cameraProvider.unbindAll();\r\n                cameraProvider.bindToLifecycle(this, cameraSelector, preview, imageCapture);\r\n\r\n            } catch (ExecutionException e) {\r\n                e.printStackTrace();\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }, ContextCompat.getMainExecutor(this));\r\n    }\r\n\r\n","title":"ImageCaptureException: Not bound to a valid Camera","body":"<p>I tried to follow the instructions from the google codelab:\n<a href=\"https://developer.android.com/codelabs/camerax-getting-started#0\" rel=\"nofollow noreferrer\">https://developer.android.com/codelabs/camerax-getting-started#0</a></p>\n<p>Currently, I am getting the following exception message when trying to capture a picture:</p>\n<pre><code>androidx.camera.core.ImageCaptureException: Not bound to a valid Camera\n</code></pre>\n<p>The version of camerax is 1.2.0-alpha01. The preview is working. I can see the camera.</p>\n<p>I appreciate any help. Thank you in advance.</p>\n<p><strong>My method takePhoto:</strong></p>\n<pre><code>    @SuppressLint(&quot;RestrictedApi&quot;)\nprivate void takePhoto() {\n    ImageCapture imageCapture = new ImageCapture.Builder()\n            .setTargetRotation(Surface.ROTATION_0)\n            .build();\n\n    SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd-HH-mm-ss-SSS&quot;, Locale.US);\n    String name = simpleDateFormat.format(System.currentTimeMillis());\n\n    ContentValues contentValues = new ContentValues();\n    contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, name);\n    contentValues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;image/jpeg&quot;);\n\n    if(Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.P) {\n        contentValues.put(MediaStore.Images.Media.RELATIVE_PATH, &quot;Pictures/CameraX-Image&quot;);\n    }\n\n    ImageCapture.OutputFileOptions outputFileOptions = new ImageCapture.OutputFileOptions.Builder(getContentResolver(),\n            MediaStore.Images.Media.EXTERNAL_CONTENT_URI,\n            contentValues)\n            .build();\n    \n    imageCapture.takePicture(outputFileOptions,\n            ContextCompat.getMainExecutor(this),\n            new ImageCapture.OnImageSavedCallback() {\n                @Override\n                public void onImageSaved(@NonNull ImageCapture.OutputFileResults outputFileResults) {\n                    Uri savedUri = outputFileResults.getSavedUri();\n                    String msg = &quot;Photo capture succeeded: $savedUri&quot;;\n                    Toast.makeText(getBaseContext(), msg, Toast.LENGTH_SHORT).show();\n                    Log.d(TAG, msg);\n                }\n\n                @Override\n                public void onError(@NonNull ImageCaptureException exception) {\n                    Log.e(TAG, &quot;${exception.message}&quot;, exception);\n                }\n            });\n}\n</code></pre>\n<p><strong>My method startCamera:</strong></p>\n<pre><code>    private void startCamera() {\n    ListenableFuture&lt;ProcessCameraProvider&gt; providerListenableFuture = ProcessCameraProvider.getInstance(this);\n\n    providerListenableFuture.addListener(() -&gt; {\n        try {\n            ImageCapture imageCapture = new ImageCapture.Builder()\n                    .setTargetRotation(Surface.ROTATION_0)\n                    .build();\n\n            ProcessCameraProvider cameraProvider = providerListenableFuture.get();\n            int rotation = viewBinding.viewFinder.getDisplay().getRotation();\n\n            Preview preview = new Preview.Builder().setTargetRotation(rotation).build();\n            preview.setSurfaceProvider(viewBinding.viewFinder.getSurfaceProvider());\n            CameraSelector cameraSelector = CameraSelector.DEFAULT_BACK_CAMERA;\n\n            cameraProvider.unbindAll();\n            cameraProvider.bindToLifecycle(this, cameraSelector, preview, imageCapture);\n\n        } catch (ExecutionException e) {\n            e.printStackTrace();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }, ContextCompat.getMainExecutor(this));\n}\n</code></pre>\n"},{"tags":["java","scala","apache-spark","apache-spark-sql"],"comments":[{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1648020437,"post_id":71583238,"comment_id":126515040,"body_markdown":"yes, use functions that exists","body":"yes, use functions that exists"},{"owner":{"account_id":13839764,"reputation":301,"user_id":9990411,"display_name":"Deepak"},"score":0,"creation_date":1648020577,"post_id":71583238,"comment_id":126515086,"body_markdown":"hll_init_agg this function is already exist and same one i&#39;m using, but even though it&#39;s not working .","body":"hll_init_agg this function is already exist and same one i&#39;m using, but even though it&#39;s not working ."},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1648020711,"post_id":71583238,"comment_id":126515124,"body_markdown":"check your dependency tree, maybe you have different version loaded from somewhere but in general it will be hard to find an error without any code and error which looks like it was posted here shorter than it was in console","body":"check your dependency tree, maybe you have different version loaded from somewhere but in general it will be hard to find an error without any code and error which looks like it was posted here shorter than it was in console"},{"owner":{"account_id":13839764,"reputation":301,"user_id":9990411,"display_name":"Deepak"},"score":0,"creation_date":1648021643,"post_id":71583238,"comment_id":126515392,"body_markdown":"I&#39;ve added the code. Also maven dependency has only below details for alchemy :\n\n[INFO] +- com.swoop:spark-alchemy_2.12:jar:1.1.0:compile\n[INFO] |  +- org.scala-lang:scala-library:jar:2.12.10:compile\n[INFO] |  +- net.agkn:hll:jar:sources:1.6.0:compile\n[INFO] |  |  \\- it.unimi.dsi:fastutil:jar:6.5.11:compile\n[INFO] |  \\- net.agkn:hll:jar:1.6.0:compile\n[INFO] |     \\- (it.unimi.dsi:fastutil:jar:6.5.11:compile - omitted for duplicate)","body":"I&#39;ve added the code. Also maven dependency has only below details for alchemy :  [INFO] +- com.swoop:spark-alchemy_2.12:jar:1.1.0:compile [INFO] |  +- org.scala-lang:scala-library:jar:2.12.10:compile [INFO] |  +- net.agkn:hll:jar:sources:1.6.0:compile [INFO] |  |  \\- it.unimi.dsi:fastutil:jar:6.5.11:compile [INFO] |  \\- net.agkn:hll:jar:1.6.0:compile [INFO] |     \\- (it.unimi.dsi:fastutil:jar:6.5.11:compile - omitted for duplicate)"}],"answers":[{"tags":[],"owner":{"account_id":13839764,"reputation":301,"user_id":9990411,"display_name":"Deepak"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1648100729,"creation_date":1648100729,"answer_id":71597574,"question_id":71583238,"body_markdown":"Resolved the issue. There was a jar version mismatch. EMR Cluster spark was having  jar `spark-catalyst_2.12-3.0.1-amzn-0.jar` but we have added this jar in our maven dependency `spark-catalyst_2.12-3.1.2-amzn-0.jar`\r\n\r\nUpon updating the version of jar to 3.1.2 , I was able to run the job.","title":"Spark 3.1.2 NoSuchMethodError: org.apache.spark.sql.catalyst.expressions.aggregate.AggregateFunction.toAggregateExpression$default$2()Lscala/Option;","body":"<p>Resolved the issue. There was a jar version mismatch. EMR Cluster spark was having  jar <code>spark-catalyst_2.12-3.0.1-amzn-0.jar</code> but we have added this jar in our maven dependency <code>spark-catalyst_2.12-3.1.2-amzn-0.jar</code></p>\n<p>Upon updating the version of jar to 3.1.2 , I was able to run the job.</p>\n"}],"owner":{"account_id":13839764,"reputation":301,"user_id":9990411,"display_name":"Deepak"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9317,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1653722777,"creation_date":1648020269,"question_id":71583238,"body_markdown":"I&#39;m Building a jar and running it in EMR cluster.\r\n\r\nI&#39;m using spark-alchemy below version and calling a function named ***hll_init_agg*** inside **.agg** and getting above error.\r\n\r\nCODE where it&#39;s called: \r\n\r\n    Dataset&lt;Row&gt; groupByDf = df\r\n                            .groupBy(functions.col(&quot;A&quot;), functions.col(&quot;DAY&quot;), functions.col(&quot;C&quot;), functions.col(&quot;D&quot;))\r\n                        .agg(com.swoop.alchemy.spark.expressions.hll.functions.hll_init_agg(functions.col(&quot;ID&quot;), 0.005, &quot;AGKN&quot;).alias(&quot;NEWID&quot;));\r\n\r\n&gt;     &lt;dependency&gt;\r\n&gt;                    &lt;groupId&gt;com.swoop&lt;/groupId&gt;\r\n&gt;                     &lt;artifactId&gt;spark-alchemy_2.12&lt;/artifactId&gt;\r\n&gt;                     &lt;version&gt;1.1.0&lt;/version&gt;\r\n&gt;                 &lt;/dependency&gt;\r\n\r\n\r\nStack Trace :\r\n\r\n&gt; 22/03/23 07:06:22 ERROR ApplicationMaster: User class threw exception:\r\n&gt; java.lang.NoSuchMethodError:\r\n&gt; org.apache.spark.sql.catalyst.expressions.aggregate.AggregateFunction.toAggregateExpression$default$2()Lscala/Option;\r\n&gt; java.lang.NoSuchMethodError:\r\n&gt; org.apache.spark.sql.catalyst.expressions.aggregate.AggregateFunction.toAggregateExpression$default$2()Lscala/Option;\r\n&gt; \tat\r\n&gt; com.swoop.alchemy.spark.expressions.WithHelper.withAggregateFunction(WithHelper.scala:13)\r\n&gt; \tat\r\n&gt; com.swoop.alchemy.spark.expressions.WithHelper.withAggregateFunction$(WithHelper.scala:10)\r\n&gt; \tat\r\n&gt; com.swoop.alchemy.spark.expressions.hll.functions$.withAggregateFunction(HLLFunctions.scala:653)\r\n&gt; \tat\r\n&gt; com.swoop.alchemy.spark.expressions.hll.HLLFunctions.hll_init_agg(HLLFunctions.scala:695)\r\n&gt; \tat\r\n&gt; com.swoop.alchemy.spark.expressions.hll.HLLFunctions.hll_init_agg$(HLLFunctions.scala:695)\r\n&gt; \tat\r\n&gt; com.swoop.alchemy.spark.expressions.hll.functions$.hll_init_agg(HLLFunctions.scala:653)\r\n&gt; \tat\r\n&gt; com.swoop.alchemy.spark.expressions.hll.functions.hll_init_agg(HLLFunctions.scala)\r\n&gt; \tat\r\n&gt; com.xxx.xxx.xxx.xxxx(xxxx.java:103)\r\n&gt; \tat com.xxx.xxx.xxxxx(MainClass.java:315) \tat\r\n&gt; com.xxxx.xxxx.main(MainClass.java:104) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt; \tat\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.lang.reflect.Method.invoke(Method.java:498) \tat\r\n&gt; org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:728)\r\n&gt; Exception in thread &quot;main&quot; org.apache.spark.SparkException:\r\n&gt; Application application_1647925696500_0096 finished with failed status\r\n&gt;         at org.apache.spark.deploy.yarn.Client.run(Client.scala:1196)\r\n&gt;         at org.apache.spark.deploy.yarn.YarnClusterApplication.start(Client.scala:1587)\r\n&gt;         at org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:936)\r\n&gt;         at org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:180)\r\n&gt;         at org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:203)\r\n&gt;         at org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:90)\r\n&gt;         at org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:1015)\r\n&gt;         at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:1024)\r\n&gt;         at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala) 22/03/23 10:06:14 INFO ShutdownHookManager: Shutdown hook called\r\n&gt; 22/03/23 10:06:14 INFO ShutdownHookManager: Deleting directory\r\n&gt; /tmp/spark-a055b36c-0f9a-46f0-9575-893d300705f8 22/03/23 10:06:14 INFO\r\n&gt; ShutdownHookManager: Deleting directory\r\n&gt; /tmp/spark-9d482629-a936-4c16-8df4-ac426dcc12ff\r\n\r\n\r\n\r\nIs there any heads up on this to resolve the issue.\r\nAny suggestion is much appreciated .\r\n","title":"Spark 3.1.2 NoSuchMethodError: org.apache.spark.sql.catalyst.expressions.aggregate.AggregateFunction.toAggregateExpression$default$2()Lscala/Option;","body":"<p>I'm Building a jar and running it in EMR cluster.</p>\n<p>I'm using spark-alchemy below version and calling a function named <em><strong>hll_init_agg</strong></em> inside <strong>.agg</strong> and getting above error.</p>\n<p>CODE where it's called:</p>\n<pre><code>Dataset&lt;Row&gt; groupByDf = df\n                        .groupBy(functions.col(&quot;A&quot;), functions.col(&quot;DAY&quot;), functions.col(&quot;C&quot;), functions.col(&quot;D&quot;))\n                    .agg(com.swoop.alchemy.spark.expressions.hll.functions.hll_init_agg(functions.col(&quot;ID&quot;), 0.005, &quot;AGKN&quot;).alias(&quot;NEWID&quot;));\n</code></pre>\n<blockquote>\n<pre><code>&lt;dependency&gt;\n               &lt;groupId&gt;com.swoop&lt;/groupId&gt;\n                &lt;artifactId&gt;spark-alchemy_2.12&lt;/artifactId&gt;\n                &lt;version&gt;1.1.0&lt;/version&gt;\n            &lt;/dependency&gt;\n</code></pre>\n</blockquote>\n<p>Stack Trace :</p>\n<blockquote>\n<p>22/03/23 07:06:22 ERROR ApplicationMaster: User class threw exception:\njava.lang.NoSuchMethodError:\norg.apache.spark.sql.catalyst.expressions.aggregate.AggregateFunction.toAggregateExpression$default$2()Lscala/Option;\njava.lang.NoSuchMethodError:\norg.apache.spark.sql.catalyst.expressions.aggregate.AggregateFunction.toAggregateExpression$default$2()Lscala/Option;\nat\ncom.swoop.alchemy.spark.expressions.WithHelper.withAggregateFunction(WithHelper.scala:13)\nat\ncom.swoop.alchemy.spark.expressions.WithHelper.withAggregateFunction$(WithHelper.scala:10)\nat\ncom.swoop.alchemy.spark.expressions.hll.functions$.withAggregateFunction(HLLFunctions.scala:653)\nat\ncom.swoop.alchemy.spark.expressions.hll.HLLFunctions.hll_init_agg(HLLFunctions.scala:695)\nat\ncom.swoop.alchemy.spark.expressions.hll.HLLFunctions.hll_init_agg$(HLLFunctions.scala:695)\nat\ncom.swoop.alchemy.spark.expressions.hll.functions$.hll_init_agg(HLLFunctions.scala:653)\nat\ncom.swoop.alchemy.spark.expressions.hll.functions.hll_init_agg(HLLFunctions.scala)\nat\ncom.xxx.xxx.xxx.xxxx(xxxx.java:103)\nat com.xxx.xxx.xxxxx(MainClass.java:315)    at\ncom.xxxx.xxxx.main(MainClass.java:104)    at\nsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)   at\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)     at\norg.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:728)\nException in thread &quot;main&quot; org.apache.spark.SparkException:\nApplication application_1647925696500_0096 finished with failed status\nat org.apache.spark.deploy.yarn.Client.run(Client.scala:1196)\nat org.apache.spark.deploy.yarn.YarnClusterApplication.start(Client.scala:1587)\nat org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:936)\nat org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:180)\nat org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:203)\nat org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:90)\nat org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:1015)\nat org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:1024)\nat org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala) 22/03/23 10:06:14 INFO ShutdownHookManager: Shutdown hook called\n22/03/23 10:06:14 INFO ShutdownHookManager: Deleting directory\n/tmp/spark-a055b36c-0f9a-46f0-9575-893d300705f8 22/03/23 10:06:14 INFO\nShutdownHookManager: Deleting directory\n/tmp/spark-9d482629-a936-4c16-8df4-ac426dcc12ff</p>\n</blockquote>\n<p>Is there any heads up on this to resolve the issue.\nAny suggestion is much appreciated .</p>\n"},{"tags":["java","list","loops","arraylist","null"],"comments":[{"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"score":0,"creation_date":1653717578,"post_id":72413211,"comment_id":127923686,"body_markdown":"This is  `List&lt;String&gt; values = [&quot;test1&quot;,&quot;test2&quot;,null,&quot;test4&quot;]`  invalid then how come this is `List&lt;String&gt; values = [&quot;test1&quot;,&quot;test2&quot;,null,null]` valid ? Plus are you having `list` with `size 4` only ?","body":"This is  <code>List&lt;String&gt; values = [&quot;test1&quot;,&quot;test2&quot;,null,&quot;test4&quot;]</code>  invalid then how come this is <code>List&lt;String&gt; values = [&quot;test1&quot;,&quot;test2&quot;,null,null]</code> valid ? Plus are you having <code>list</code> with <code>size 4</code> only ?"},{"owner":{"account_id":19246297,"reputation":43,"user_id":14065277,"display_name":"Deepa Das"},"score":0,"creation_date":1653719613,"post_id":72413211,"comment_id":127923883,"body_markdown":"When null comes in the middle it is an invalid case in the current scenario that I am working. There will be maximum of 4 elements in the list.","body":"When null comes in the middle it is an invalid case in the current scenario that I am working. There will be maximum of 4 elements in the list."}],"answers":[{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1653721206,"creation_date":1653720906,"answer_id":72413551,"question_id":72413211,"body_markdown":"You should ensure no non-null elements are present following a null. Otherwise, you will throw an exception\r\n\r\n    boolean nullSeen = false;\r\n    for (String s : list) {\r\n        if (s == null) {\r\n            nullSeen = true;\r\n        } else if (nullSeen) { // for a non-null string\r\n            throw new RuntimeException(&quot;Non-null value followed a null&quot;);\r\n        }\r\n    }\r\n\r\nFor each element, we check if it is *null* and if so, we set the boolean flag, `nullSeen`. And if we encounter a non-null string with `nullSeen` already set to *true*, we throw an exception.\r\n\r\n---\r\n\r\nIf you are using Java 9+ and would prefer a stream based solution, then we can use the [dropWhile](https://docs.oracle.com/javase/9/docs/api/java/util/stream/Stream.html#dropWhile-java.util.function.Predicate-) method.\r\n\r\n\r\n    boolean noNonNullValueAfterNull = list.stream()\r\n                .dropWhile(Objects::nonNull) //dropWhile(s -&gt; s != null)\r\n                .allMatch(Objects::isNull); //allMatch(s -&gt; s == null)\r\n\r\n    if (!noNonNullValueAfterNull) {\r\n        throw new RuntimeException(&quot;Non-null value followed a null&quot;);\r\n    }\r\n\r\nFrom the stream created out of the list, it drops the prefix of elements till it sees a *null*. The rest of the elements in the stream must be *null* for the return value to be *true*.\r\n\r\nNote: For an empty stream (all nulls), it will return *true* which is what we want as well.","title":"Throw exception only in some cases from a list of values in java","body":"<p>You should ensure no non-null elements are present following a null. Otherwise, you will throw an exception</p>\n<pre><code>boolean nullSeen = false;\nfor (String s : list) {\n    if (s == null) {\n        nullSeen = true;\n    } else if (nullSeen) { // for a non-null string\n        throw new RuntimeException(&quot;Non-null value followed a null&quot;);\n    }\n}\n</code></pre>\n<p>For each element, we check if it is <em>null</em> and if so, we set the boolean flag, <code>nullSeen</code>. And if we encounter a non-null string with <code>nullSeen</code> already set to <em>true</em>, we throw an exception.</p>\n<hr />\n<p>If you are using Java 9+ and would prefer a stream based solution, then we can use the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/stream/Stream.html#dropWhile-java.util.function.Predicate-\" rel=\"noreferrer\">dropWhile</a> method.</p>\n<pre><code>boolean noNonNullValueAfterNull = list.stream()\n            .dropWhile(Objects::nonNull) //dropWhile(s -&gt; s != null)\n            .allMatch(Objects::isNull); //allMatch(s -&gt; s == null)\n\nif (!noNonNullValueAfterNull) {\n    throw new RuntimeException(&quot;Non-null value followed a null&quot;);\n}\n</code></pre>\n<p>From the stream created out of the list, it drops the prefix of elements till it sees a <em>null</em>. The rest of the elements in the stream must be <em>null</em> for the return value to be <em>true</em>.</p>\n<p>Note: For an empty stream (all nulls), it will return <em>true</em> which is what we want as well.</p>\n"}],"owner":{"account_id":19246297,"reputation":43,"user_id":14065277,"display_name":"Deepa Das"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72413551,"answer_count":1,"score":1,"last_activity_date":1653722672,"creation_date":1653716856,"question_id":72413211,"body_markdown":"I have a list of values which has maximum of four elements.\r\nI need to loop through the list and need to throw exception only in some cases.\r\nThe different scenarios where the exception needs to be thrown are as follows.\r\n1. When null value comes in the middle of the list.\r\nSome examples are:\r\n```\r\n List&lt;String&gt; values = [&quot;test1&quot;,&quot;test2&quot;,null,&quot;test4&quot;];\r\n List&lt;String&gt; values = [&quot;test1&quot;,null,&quot;test3&quot;,&quot;test4&quot;];\r\n List&lt;String&gt; values = [&quot;test1&quot;,null,null,&quot;test4&quot;];\r\n```\r\n2. When null value comes in the beginning of the list.\r\nSome examples are:\r\n```\r\nList&lt;String&gt; values = [null,&quot;test2&quot;,&quot;test3&quot;,&quot;test4&quot;];\r\nList&lt;String&gt; values = [null,null,&quot;test3&quot;,&quot;test4&quot;];\r\nList&lt;String&gt; values = [null,null,null,&quot;test4&quot;];\r\n```\r\nAll other cases are valid ones and should not throw exception.\r\nValid cases are:\r\n```\r\nList&lt;String&gt; values = [&quot;test1&quot;,&quot;test2&quot;,&quot;test3&quot;,&quot;test4&quot;];\r\nList&lt;String&gt; values = [&quot;test1&quot;,&quot;test2&quot;,&quot;test3&quot;,null];\r\nList&lt;String&gt; values = [&quot;test1&quot;,&quot;test2&quot;,null,null];\r\nList&lt;String&gt; values = [&quot;test1&quot;,null,null,null];\r\nList&lt;String&gt; values = [null,null,null,null];\r\n```\r\nCan someone please help on this?\r\n","title":"Throw exception only in some cases from a list of values in java","body":"<p>I have a list of values which has maximum of four elements.\nI need to loop through the list and need to throw exception only in some cases.\nThe different scenarios where the exception needs to be thrown are as follows.</p>\n<ol>\n<li>When null value comes in the middle of the list.\nSome examples are:</li>\n</ol>\n<pre><code> List&lt;String&gt; values = [&quot;test1&quot;,&quot;test2&quot;,null,&quot;test4&quot;];\n List&lt;String&gt; values = [&quot;test1&quot;,null,&quot;test3&quot;,&quot;test4&quot;];\n List&lt;String&gt; values = [&quot;test1&quot;,null,null,&quot;test4&quot;];\n</code></pre>\n<ol start=\"2\">\n<li>When null value comes in the beginning of the list.\nSome examples are:</li>\n</ol>\n<pre><code>List&lt;String&gt; values = [null,&quot;test2&quot;,&quot;test3&quot;,&quot;test4&quot;];\nList&lt;String&gt; values = [null,null,&quot;test3&quot;,&quot;test4&quot;];\nList&lt;String&gt; values = [null,null,null,&quot;test4&quot;];\n</code></pre>\n<p>All other cases are valid ones and should not throw exception.\nValid cases are:</p>\n<pre><code>List&lt;String&gt; values = [&quot;test1&quot;,&quot;test2&quot;,&quot;test3&quot;,&quot;test4&quot;];\nList&lt;String&gt; values = [&quot;test1&quot;,&quot;test2&quot;,&quot;test3&quot;,null];\nList&lt;String&gt; values = [&quot;test1&quot;,&quot;test2&quot;,null,null];\nList&lt;String&gt; values = [&quot;test1&quot;,null,null,null];\nList&lt;String&gt; values = [null,null,null,null];\n</code></pre>\n<p>Can someone please help on this?</p>\n"},{"tags":["java","arrays","text-files"],"answers":[{"tags":[],"owner":{"account_id":25190184,"reputation":163,"user_id":19030462,"display_name":"Sebastian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653722550,"creation_date":1653722550,"answer_id":72413697,"question_id":72413643,"body_markdown":"An array is fixed sized, you can&#39;t change the size later, however there is a class providing the functionality you are searching for.\r\nYou can simply use an ArrayList.\r\nDefine it like that `ArrayList&lt;Bookmark&gt; bookmarks;` to init it use `bookmarks = new ArrayList();` and with `bookmarks.add(bookmark);` you can add new bookmarks to the list and then access it by `bookmarks.get(index);`\r\n","title":"How can I add into a array that gets it&#39;s data from a txt file?","body":"<p>An array is fixed sized, you can't change the size later, however there is a class providing the functionality you are searching for.\nYou can simply use an ArrayList.\nDefine it like that <code>ArrayList&lt;Bookmark&gt; bookmarks;</code> to init it use <code>bookmarks = new ArrayList();</code> and with <code>bookmarks.add(bookmark);</code> you can add new bookmarks to the list and then access it by <code>bookmarks.get(index);</code></p>\n"}],"owner":{"account_id":18926807,"reputation":31,"user_id":13809747,"display_name":"Dagun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1653731839,"answer_count":1,"score":0,"last_activity_date":1653722550,"creation_date":1653721996,"question_id":72413643,"body_markdown":"    public BookmarkList(String bookmarkFileName) {\r\n\t\tFile file = new File(bookmarkFileName); \r\n\t\tint lineCount = 0; \r\n\t\tint index = 0; \t\t\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\ttry {\r\n\t\t\tinput = new Scanner(file);\r\n\t\t}\r\n\t\tcatch(Exception e) {\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Unknown BookmarkList data File&quot;);\r\n\t\t}\r\n\t\twhile(input.hasNext()) {\r\n\t\t\t\r\n\t\t\tString line = input.nextLine();\r\n\t\t\t\r\n\t\t\tif(line.length() != 0) {\r\n\t\t\t\t\r\n\t\t\t\tif(!(line.charAt(0) == &#39;/&#39;)) {\r\n\t\t\t\t\tlineCount++; \r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t\tbookmarks = new Bookmark[lineCount];\t\r\n\t\ttry {\r\n\t\t\tinput = new Scanner(file);\r\n\t\t}\r\n\t\tcatch(Exception e) {\r\n\t\t\tSystem.out.println(e);\r\n\t\t}\r\n\t\twhile(input.hasNext()) {\r\n\t\t\tString line = input.nextLine();\r\n\t\t\tString[] el = new String[5]; \r\n\t\t\tif(line.length() != 0) { \r\n\t\t\t\tif(!(line.charAt(0) == &#39;/&#39;)) { \r\n\t\t\t\t\tif(line.contains(&quot;,&quot;)) { \r\n\t\t\t\t\t\tel = line.split(&quot;,&quot;,-1); \r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(line.contains(&quot;;&quot;)) { \r\n\t\t\t\t\t\tel = line.split(&quot;;&quot;,-1); \r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor(int i = 0; i &lt; el.length; i++) {\r\n\t\t\t\t\t\tel[i] = el[i].replace(&quot; &quot;,&quot;&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tBookmark bookmark = new Bookmark(el[0], el[1], el[2], el[3], el[4]); \r\n\t\t\t\t\tbookmarks[index] = bookmark; \r\n\t\t\t\t\tindex++; \r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\t\r\n    public Bookmark(String name, String time, String url, String groupName, String memo) {\r\n\t\ttry {\r\n\t\t\tthis.name = name;\r\n\t\t\tthis.time = time;\r\n\t\t\tthis.url = url;\r\n\t\t\tthis.groupName = groupName;\r\n\t\t\tthis.memo = memo;\t\t\t\r\n\t\t\tif(this.url.length() == 0 || !checkDateFormat(this.time)) {\r\n\t\t\t\tthrow new Exception();\r\n\t\t\t}\r\n\t\t} catch(Exception e) {\t\t\r\n\t\t\tif(this.url.length() == 0) {\r\n\t\t\t\tSystem.out.print(&quot;MalformedURLException: wrong URL - No URL ; invalid Bookmark info line: &quot;);\r\n\t\t\t\tSystem.out.println(this.name + &quot;,&quot; + this.time + &quot;,&quot; + this.url + &quot;,&quot; + this.groupName + &quot;,&quot; + this.memo);\r\n\t\t\t}\t\t\r\n\t\t\tif(!checkDateFormat(this.time)) {\r\n\t\t\t\tSystem.out.print(&quot;Date Format Error -&gt; No Created Time invalid Bookmark info line: &quot;);\r\n\t\t\t\tSystem.out.println(this.name + &quot;,&quot; + this.time + &quot;,&quot; + this.url + &quot;,&quot; + this.groupName + &quot;,&quot; + this.memo);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nSo the Bookmark Class defines the bookmarks which are defined by Group, Name, URL, Time, and Memo. The BookmarkList Class saves these bookmarks in an array, and it get&#39;s it&#39;s data from a text file, which contains some bookmarks. I want to add a new bookmark to BookmarkList, but it returns an error since I&#39;ve defined Bookmarklist as bookmarks = new Bookmark[lineCount];, which limits the number of possible bookmarks to the ones in the text file. I thought of changing lineCount to 100, but that makes it difficult to get the length of BookmarkList, which I need to use, since .length will return 100. Can anybody help?","title":"How can I add into a array that gets it&#39;s data from a txt file?","body":"<pre><code>public BookmarkList(String bookmarkFileName) {\n    File file = new File(bookmarkFileName); \n    int lineCount = 0; \n    int index = 0;      \n    Scanner input = new Scanner(System.in);\n    try {\n        input = new Scanner(file);\n    }\n    catch(Exception e) {\n        \n        System.out.println(&quot;Unknown BookmarkList data File&quot;);\n    }\n    while(input.hasNext()) {\n        \n        String line = input.nextLine();\n        \n        if(line.length() != 0) {\n            \n            if(!(line.charAt(0) == '/')) {\n                lineCount++; \n            }\n        }\n    }       \n    bookmarks = new Bookmark[lineCount];    \n    try {\n        input = new Scanner(file);\n    }\n    catch(Exception e) {\n        System.out.println(e);\n    }\n    while(input.hasNext()) {\n        String line = input.nextLine();\n        String[] el = new String[5]; \n        if(line.length() != 0) { \n            if(!(line.charAt(0) == '/')) { \n                if(line.contains(&quot;,&quot;)) { \n                    el = line.split(&quot;,&quot;,-1); \n                }\n                else if(line.contains(&quot;;&quot;)) { \n                    el = line.split(&quot;;&quot;,-1); \n                }\n                \n                for(int i = 0; i &lt; el.length; i++) {\n                    el[i] = el[i].replace(&quot; &quot;,&quot;&quot;);\n                }\n                Bookmark bookmark = new Bookmark(el[0], el[1], el[2], el[3], el[4]); \n                bookmarks[index] = bookmark; \n                index++; \n            }\n        }\n    }\n}   \npublic Bookmark(String name, String time, String url, String groupName, String memo) {\n    try {\n        this.name = name;\n        this.time = time;\n        this.url = url;\n        this.groupName = groupName;\n        this.memo = memo;           \n        if(this.url.length() == 0 || !checkDateFormat(this.time)) {\n            throw new Exception();\n        }\n    } catch(Exception e) {      \n        if(this.url.length() == 0) {\n            System.out.print(&quot;MalformedURLException: wrong URL - No URL ; invalid Bookmark info line: &quot;);\n            System.out.println(this.name + &quot;,&quot; + this.time + &quot;,&quot; + this.url + &quot;,&quot; + this.groupName + &quot;,&quot; + this.memo);\n        }       \n        if(!checkDateFormat(this.time)) {\n            System.out.print(&quot;Date Format Error -&gt; No Created Time invalid Bookmark info line: &quot;);\n            System.out.println(this.name + &quot;,&quot; + this.time + &quot;,&quot; + this.url + &quot;,&quot; + this.groupName + &quot;,&quot; + this.memo);\n        }\n    }\n}\n</code></pre>\n<p>So the Bookmark Class defines the bookmarks which are defined by Group, Name, URL, Time, and Memo. The BookmarkList Class saves these bookmarks in an array, and it get's it's data from a text file, which contains some bookmarks. I want to add a new bookmark to BookmarkList, but it returns an error since I've defined Bookmarklist as bookmarks = new Bookmark[lineCount];, which limits the number of possible bookmarks to the ones in the text file. I thought of changing lineCount to 100, but that makes it difficult to get the length of BookmarkList, which I need to use, since .length will return 100. Can anybody help?</p>\n"},{"tags":["java","libgdx","box2d"],"owner":{"account_id":23667599,"reputation":11,"user_id":17694861,"display_name":"Jchung155"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653722449,"creation_date":1653722449,"question_id":72413688,"body_markdown":"I&#39;ve recently started using libGDX and box2D, and I&#39;ve created a platformer that uses applyLinearImpulse to jump vertically and it works well. However, when I try to apply an impulse in the x direction to create a dash, it doesn&#39;t work.\r\n\r\nThis code works as intended:\r\n\r\n```\t\r\nif(Gdx.input.isKeyJustPressed(Input.Keys.SPACE) &amp;&amp; jumpCounter &lt; 2) {\r\n\t\t\tfloat force = body.getMass() * 18;\r\n\t\t\tbody.setLinearVelocity(body.getLinearVelocity().x,0);\r\n\t\t\tbody.applyLinearImpulse(new Vector2(0, force), body.getPosition(), true);\r\n\t\t\tjumpCounter ++;\r\n\t\t}\r\n```\r\n\r\nBut when I try to apply it in the same way in the x direction it does not work.\r\n```\r\n\r\n\t\tif(Gdx.input.isKeyJustPressed(Input.Keys.K)) {\r\n\t\t\tfloat force = body.getMass() * 18;\r\n\t\t\t body.applyLinearImpulse(new Vector2(force, 0), body.getPosition(), true);\r\n\t\t\t\r\n\t\t}\r\n```\r\n\r\nThis is all I&#39;ve done to set up my world, so I&#39;m not sure if there is another method needed.\r\n``` \r\nthis.world = new World(new Vector2(0,-25f), false); \r\n```\r\n\r\nAnd this is how the body is created.\r\n```\r\npublic static Body createBody(float x, float y, float width, float height, boolean isStatic, World world) {\r\n\t\tBodyDef bodyDef = new BodyDef();\r\n\tbodyDef.type = isStatic ? BodyDef.BodyType.StaticBody : BodyDef.BodyType.DynamicBody;\r\n\tbodyDef.position.set(x/32.0f, y/32.0f);\r\n\tbodyDef.fixedRotation = false;\r\n\tBody body = world.createBody(bodyDef);\r\n\tPolygonShape shape = new PolygonShape();\r\n\tshape.setAsBox(width/2/32.0f, height/2/32.0f);\r\n\t\r\n\tFixtureDef fixtureDef = new FixtureDef();\r\n\tfixtureDef.density = 0.2f;\r\n\tfixtureDef.shape = shape;\r\n\tfixtureDef.friction=0;\r\n\tbody.createFixture(fixtureDef);\r\n\tshape.dispose();\r\n\treturn body;\r\n```\r\n\r\nWhat would need to be changed for this impulse to work?\r\n","title":"Java LibGDX box2D applyLinearImpulse() doesn&#39;t apply horizontal impulse","body":"<p>I've recently started using libGDX and box2D, and I've created a platformer that uses applyLinearImpulse to jump vertically and it works well. However, when I try to apply an impulse in the x direction to create a dash, it doesn't work.</p>\n<p>This code works as intended:</p>\n<pre><code>if(Gdx.input.isKeyJustPressed(Input.Keys.SPACE) &amp;&amp; jumpCounter &lt; 2) {\n            float force = body.getMass() * 18;\n            body.setLinearVelocity(body.getLinearVelocity().x,0);\n            body.applyLinearImpulse(new Vector2(0, force), body.getPosition(), true);\n            jumpCounter ++;\n        }\n</code></pre>\n<p>But when I try to apply it in the same way in the x direction it does not work.</p>\n<pre><code>\n        if(Gdx.input.isKeyJustPressed(Input.Keys.K)) {\n            float force = body.getMass() * 18;\n             body.applyLinearImpulse(new Vector2(force, 0), body.getPosition(), true);\n            \n        }\n</code></pre>\n<p>This is all I've done to set up my world, so I'm not sure if there is another method needed.</p>\n<pre><code>this.world = new World(new Vector2(0,-25f), false); \n</code></pre>\n<p>And this is how the body is created.</p>\n<pre><code>public static Body createBody(float x, float y, float width, float height, boolean isStatic, World world) {\n        BodyDef bodyDef = new BodyDef();\n    bodyDef.type = isStatic ? BodyDef.BodyType.StaticBody : BodyDef.BodyType.DynamicBody;\n    bodyDef.position.set(x/32.0f, y/32.0f);\n    bodyDef.fixedRotation = false;\n    Body body = world.createBody(bodyDef);\n    PolygonShape shape = new PolygonShape();\n    shape.setAsBox(width/2/32.0f, height/2/32.0f);\n    \n    FixtureDef fixtureDef = new FixtureDef();\n    fixtureDef.density = 0.2f;\n    fixtureDef.shape = shape;\n    fixtureDef.friction=0;\n    body.createFixture(fixtureDef);\n    shape.dispose();\n    return body;\n</code></pre>\n<p>What would need to be changed for this impulse to work?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-boot-actuator"],"answers":[{"tags":[],"owner":{"account_id":12634875,"reputation":397,"user_id":9184726,"display_name":"Tung Luong Thanh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651935686,"creation_date":1651935686,"answer_id":72153698,"question_id":72141185,"body_markdown":"You can use &quot;Spring Cloud Bus&quot;. And whenever you change the datasource password configuration, your service can listen for this event so that it can create a new bean based on the new configuration.\r\n\r\nPlease look at this document\r\nhttps://spring.io/projects/spring-cloud-bus","title":"Refresh the datasource on password rotation in SpringBoot Application","body":"<p>You can use &quot;Spring Cloud Bus&quot;. And whenever you change the datasource password configuration, your service can listen for this event so that it can create a new bean based on the new configuration.</p>\n<p>Please look at this document\n<a href=\"https://spring.io/projects/spring-cloud-bus\" rel=\"nofollow noreferrer\">https://spring.io/projects/spring-cloud-bus</a></p>\n"},{"tags":[],"owner":{"account_id":21820986,"reputation":71,"user_id":16117187,"display_name":"vivek075"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653722427,"creation_date":1652367789,"answer_id":72217960,"question_id":72141185,"body_markdown":"This repo has solution for this question : https://github.com/visa2learn/spring-cloud-vault-db-cred-rotation\r\nI find it quite useful.\r\nJust to make solution better read about **SecretLeaseContainer** : \r\nEvent-based container to request secrets from Vault and renew the associated Lease. Secrets can be rotated, depending on the requested *RequestedSecret.getMode()*","title":"Refresh the datasource on password rotation in SpringBoot Application","body":"<p>This repo has solution for this question : <a href=\"https://github.com/visa2learn/spring-cloud-vault-db-cred-rotation\" rel=\"nofollow noreferrer\">https://github.com/visa2learn/spring-cloud-vault-db-cred-rotation</a>\nI find it quite useful.\nJust to make solution better read about <strong>SecretLeaseContainer</strong> :\nEvent-based container to request secrets from Vault and renew the associated Lease. Secrets can be rotated, depending on the requested <em>RequestedSecret.getMode()</em></p>\n"}],"owner":{"account_id":21820986,"reputation":71,"user_id":16117187,"display_name":"vivek075"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2274,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1653722427,"creation_date":1651838644,"question_id":72141185,"body_markdown":"Can someone please guide me, how I can refresh the datasource whenever the password is rotated for the database.\r\nBasically I don&#39;t want any manual step to refresh the datasource(*like calling any endpoint*). Rather than I can poll a file to see if DB credentials are rotated using FileWatcher service.\r\nI have already read few solutions over stackoverflow regarding the same ask. But I couldn&#39;t able to implement it successfully. \r\n*Since I am new to stackoverflow can&#39;t comment on others question to get solution clarified.*\r\nBelow is simple class for creating the connection pool.\r\n\r\n@Configuration\r\n\r\n@EnableTransactionManagement\r\n\r\npublic class JpaConfig {\r\n\r\n\t@Value(&quot;${db.username}&quot;)\r\n\tprivate String username;\r\n\t\r\n\t@Value(&quot;${db.password}&quot;)\r\n\tprivate String password;\r\n\t\r\n\t@Bean\r\n\tpublic LocalContainerEntityManagerFactoryBean entityManagerFactory() {\r\n\t\t\tHibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n\t\t\tvendorAdapter.setGenerateDdl(true);\r\n\r\n\t\t\tLocalContainerEntityManagerFactoryBean factory = new LocalContainerEntityManagerFactoryBean();\r\n\t\t\tfactory.setJpaVendorAdapter(vendorAdapter);\t\t\t\r\n\t\t\tfactory.setPackagesToScan(&quot;com.example&quot;);\r\n\t\t\tfactory.setDataSource(dataSource());\r\n\t\t\t\r\n\t\t\tProperties properties = new Properties();\r\n\t\t\tproperties.put(&quot;hibernate.format_sql&quot;, true);\r\n\t\t\tproperties.put(&quot;hibernate.show_sql&quot;, true);\r\n\t\t\tproperties.put(&quot;hibernate.hbm2ddl.auto&quot;, &quot;none&quot;);\r\n\t\t\tproperties.put(&quot;hibernate.generate_statistics&quot;,  false);\r\n\t\t\tfactory.setJpaProperties(properties);\r\n\t\t\treturn factory;\r\n\t}\t\r\n\t@Bean\r\n\tpublic PlatformTransactionManager transactionManager() {\r\n\t  JpaTransactionManager txManager = new JpaTransactionManager();\r\n\t  txManager.setEntityManagerFactory(entityManagerFactory);\r\n\t  return txManager;\r\n\t}\t\r\n\tprivate DataSource dataSource() {\r\n\t\tHikariConfig hikariConfig = new HikariConfig();\r\n\t\thikariConfig.setJdbcUrl(&quot;db_connection_url&quot;);\r\n\t\thikariConfig.setUsername(username);\r\n\t\thikariConfig.setPassword(password);\r\n\t\thikariConfig.setPoolName(&quot;test_pool&quot;);\r\n\t\tHikariDataSource hikariDataSource = new HikariDataSource(hikariConfig);\r\n\t\treturn hikariDataSource;\r\n\t}\t\r\n}","title":"Refresh the datasource on password rotation in SpringBoot Application","body":"<p>Can someone please guide me, how I can refresh the datasource whenever the password is rotated for the database.\nBasically I don't want any manual step to refresh the datasource(<em>like calling any endpoint</em>). Rather than I can poll a file to see if DB credentials are rotated using FileWatcher service.\nI have already read few solutions over stackoverflow regarding the same ask. But I couldn't able to implement it successfully.\n<em>Since I am new to stackoverflow can't comment on others question to get solution clarified.</em>\nBelow is simple class for creating the connection pool.</p>\n<p>@Configuration</p>\n<p>@EnableTransactionManagement</p>\n<p>public class JpaConfig {</p>\n<pre><code>@Value(&quot;${db.username}&quot;)\nprivate String username;\n\n@Value(&quot;${db.password}&quot;)\nprivate String password;\n\n@Bean\npublic LocalContainerEntityManagerFactoryBean entityManagerFactory() {\n        HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n        vendorAdapter.setGenerateDdl(true);\n\n        LocalContainerEntityManagerFactoryBean factory = new LocalContainerEntityManagerFactoryBean();\n        factory.setJpaVendorAdapter(vendorAdapter);         \n        factory.setPackagesToScan(&quot;com.example&quot;);\n        factory.setDataSource(dataSource());\n        \n        Properties properties = new Properties();\n        properties.put(&quot;hibernate.format_sql&quot;, true);\n        properties.put(&quot;hibernate.show_sql&quot;, true);\n        properties.put(&quot;hibernate.hbm2ddl.auto&quot;, &quot;none&quot;);\n        properties.put(&quot;hibernate.generate_statistics&quot;,  false);\n        factory.setJpaProperties(properties);\n        return factory;\n}   \n@Bean\npublic PlatformTransactionManager transactionManager() {\n  JpaTransactionManager txManager = new JpaTransactionManager();\n  txManager.setEntityManagerFactory(entityManagerFactory);\n  return txManager;\n}   \nprivate DataSource dataSource() {\n    HikariConfig hikariConfig = new HikariConfig();\n    hikariConfig.setJdbcUrl(&quot;db_connection_url&quot;);\n    hikariConfig.setUsername(username);\n    hikariConfig.setPassword(password);\n    hikariConfig.setPoolName(&quot;test_pool&quot;);\n    HikariDataSource hikariDataSource = new HikariDataSource(hikariConfig);\n    return hikariDataSource;\n}   \n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","network-programming","wifi","router"],"comments":[{"owner":{"account_id":2362048,"reputation":373,"user_id":2068541,"display_name":"Wildcopper"},"score":0,"creation_date":1429257323,"post_id":29693283,"comment_id":47523194,"body_markdown":"Why don&#39;t you simply use the name of the access point ?","body":"Why don&#39;t you simply use the name of the access point ?"},{"owner":{"account_id":292906,"reputation":2201,"user_id":595947,"accept_rate":86,"display_name":"Urban"},"score":0,"creation_date":1429257433,"post_id":29693283,"comment_id":47523255,"body_markdown":"Two different houses can have the same access point name (SSID). So thats not unique. For example, a lot of people usually leave the SSID to be the default router name like &#39;linksys-123&#39;.","body":"Two different houses can have the same access point name (SSID). So thats not unique. For example, a lot of people usually leave the SSID to be the default router name like &#39;linksys-123&#39;."},{"owner":{"account_id":2362048,"reputation":373,"user_id":2068541,"display_name":"Wildcopper"},"score":0,"creation_date":1429260376,"post_id":29693283,"comment_id":47525188,"body_markdown":"Ah ok my bad, I thought it would be in a &quot;controlled&quot; environment. But I think using the &quot;MAC&quot; address of the access point would work.","body":"Ah ok my bad, I thought it would be in a &quot;controlled&quot; environment. But I think using the &quot;MAC&quot; address of the access point would work."},{"owner":{"account_id":292906,"reputation":2201,"user_id":595947,"accept_rate":86,"display_name":"Urban"},"score":0,"creation_date":1429260554,"post_id":29693283,"comment_id":47525290,"body_markdown":"@Wildcopper that&#39;s what I thought. However, on a dual band router, you can have two MAC addresses, one for each band. Well, at least that&#39;s what I could perceive when the `getBSSID` method returned two different addresses on two different phones connected to the same WiFi.","body":"@Wildcopper that&#39;s what I thought. However, on a dual band router, you can have two MAC addresses, one for each band. Well, at least that&#39;s what I could perceive when the <code>getBSSID</code> method returned two different addresses on two different phones connected to the same WiFi."},{"owner":{"account_id":347392,"reputation":8392,"user_id":681479,"accept_rate":62,"display_name":"Brian White"},"score":0,"creation_date":1429974415,"post_id":29693283,"comment_id":47858537,"body_markdown":"Perhaps if you explained _why_ you want to do this we could suggest alternatives to accomplish the higher goal.","body":"Perhaps if you explained <i>why</i> you want to do this we could suggest alternatives to accomplish the higher goal."},{"owner":{"account_id":292906,"reputation":2201,"user_id":595947,"accept_rate":86,"display_name":"Urban"},"score":0,"creation_date":1429978654,"post_id":29693283,"comment_id":47860125,"body_markdown":"@BrianWhite updated the question with what I&#39;m trying to achieve.","body":"@BrianWhite updated the question with what I&#39;m trying to achieve."},{"owner":{"account_id":347392,"reputation":8392,"user_id":681479,"accept_rate":62,"display_name":"Brian White"},"score":0,"creation_date":1429984699,"post_id":29693283,"comment_id":47862478,"body_markdown":"Okay, that&#39;s &quot;what&quot; (original question is &quot;how&quot;) but still hazy on &quot;why&quot;.  What&#39;s the purpose of knowing if you&#39;re on the same AP?  What will you accomplish with this information?","body":"Okay, that&#39;s &quot;what&quot; (original question is &quot;how&quot;) but still hazy on &quot;why&quot;.  What&#39;s the purpose of knowing if you&#39;re on the same AP?  What will you accomplish with this information?"},{"owner":{"account_id":292906,"reputation":2201,"user_id":595947,"accept_rate":86,"display_name":"Urban"},"score":0,"creation_date":1429987929,"post_id":29693283,"comment_id":47863743,"body_markdown":"Well my app basically tells you which one of your roommates are home. I&#39;m using wifi to determine if one is home or not. The mac address of the router is used to determine who all are my roommates. Basically who all live in this house.","body":"Well my app basically tells you which one of your roommates are home. I&#39;m using wifi to determine if one is home or not. The mac address of the router is used to determine who all are my roommates. Basically who all live in this house."},{"owner":{"account_id":347392,"reputation":8392,"user_id":681479,"accept_rate":62,"display_name":"Brian White"},"score":0,"creation_date":1429992637,"post_id":29693283,"comment_id":47865281,"body_markdown":"@Urban, In that case, how about querying your public IP address and comparing that?  It&#39;s probably dynamic but won&#39;t change very often.  You&#39;ll match everybody using the same NAT firewall which is somewhat broader than the Access Point but might be okay for your purposes.  Or you could also train the system to recognize multiple MAC addresses as being the same and match that way.  Or there is always the &quot;coarse&quot; location service.","body":"@Urban, In that case, how about querying your public IP address and comparing that?  It&#39;s probably dynamic but won&#39;t change very often.  You&#39;ll match everybody using the same NAT firewall which is somewhat broader than the Access Point but might be okay for your purposes.  Or you could also train the system to recognize multiple MAC addresses as being the same and match that way.  Or there is always the &quot;coarse&quot; location service."},{"owner":{"account_id":292906,"reputation":2201,"user_id":595947,"accept_rate":86,"display_name":"Urban"},"score":0,"creation_date":1430004925,"post_id":29693283,"comment_id":47868818,"body_markdown":"@BrianWhite I&#39;m not very sure about the method you described first, with the public IP address. How would that work again? Also, as you mention, those will change (agreed, not very often, but I think even then it may break the app). \nAbout training to recognize multiple MACs, also I&#39;m not sure how wold that work since a single device won&#39;t even be aware of any other MACs apart from the one it is connected to.\nAs for the third solution, I really wanted to stay clear of location services, but if that&#39;s the only solution, then I might have to reconsider my whole app.","body":"@BrianWhite I&#39;m not very sure about the method you described first, with the public IP address. How would that work again? Also, as you mention, those will change (agreed, not very often, but I think even then it may break the app).  About training to recognize multiple MACs, also I&#39;m not sure how wold that work since a single device won&#39;t even be aware of any other MACs apart from the one it is connected to. As for the third solution, I really wanted to stay clear of location services, but if that&#39;s the only solution, then I might have to reconsider my whole app."},{"owner":{"account_id":347392,"reputation":8392,"user_id":681479,"accept_rate":62,"display_name":"Brian White"},"score":0,"creation_date":1430017719,"post_id":29693283,"comment_id":47871524,"body_markdown":"For the first: Each device would use an external website to query what it&#39;s public IP address is and report it.  All other devices using your app that report the same public IP are connected to the same NAT router.  For the second: It would depend on the devices reporting information (SSID, GPS coords, etc.) that allow such a mapping to be built.; yes, somewhat difficult.","body":"For the first: Each device would use an external website to query what it&#39;s public IP address is and report it.  All other devices using your app that report the same public IP are connected to the same NAT router.  For the second: It would depend on the devices reporting information (SSID, GPS coords, etc.) that allow such a mapping to be built.; yes, somewhat difficult."}],"answers":[{"tags":[],"owner":{"account_id":3576389,"reputation":5318,"user_id":4196778,"accept_rate":81,"display_name":"Willis"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1429642047,"creation_date":1429642047,"answer_id":29780689,"question_id":29693283,"body_markdown":"You are correct in assuming that `getBSSID()` will return two different addresses for the two different bands, as they are essentially two different access points, one 2.4GHz and one 5 GHz, simply wrapped up in the same package. I wrote a quick app that gets and displays all of the available fields that may be obtained using the `WifiInfo` class. When I connected to the 2.4 GHz band of my access point the details were as follows:\n\n![enter image description here][1]\n\nNote that you can tell you are connected to the 2.4 GHz band (&quot;Frequency: 2452&quot;). Repeating the process with the 5 GHz band shows the following:\n\n![enter image description here][2]\n\n\nAs you can see, the MAC addresses for the two different bands differ by only one number; I do not know if this is the case for all routers. If this is indeed the case, then you can conclusively determine which access point you are connected to by analyzing a combination of the MAC address (BSSID) and the frequency.\n\n  [1]: http://i.stack.imgur.com/NV39b.png\n  [2]: http://i.stack.imgur.com/EigBR.png","title":"Fetch unique identifier for a WiFi router","body":"<p>You are correct in assuming that <code>getBSSID()</code> will return two different addresses for the two different bands, as they are essentially two different access points, one 2.4GHz and one 5 GHz, simply wrapped up in the same package. I wrote a quick app that gets and displays all of the available fields that may be obtained using the <code>WifiInfo</code> class. When I connected to the 2.4 GHz band of my access point the details were as follows:</p>\n<p><img src=\"https://i.stack.imgur.com/NV39b.png\" alt=\"enter image description here\" /></p>\n<p>Note that you can tell you are connected to the 2.4 GHz band (&quot;Frequency: 2452&quot;). Repeating the process with the 5 GHz band shows the following:</p>\n<p><img src=\"https://i.stack.imgur.com/EigBR.png\" alt=\"enter image description here\" /></p>\n<p>As you can see, the MAC addresses for the two different bands differ by only one number; I do not know if this is the case for all routers. If this is indeed the case, then you can conclusively determine which access point you are connected to by analyzing a combination of the MAC address (BSSID) and the frequency.</p>\n"},{"tags":[],"owner":{"account_id":5101406,"reputation":235,"user_id":4090942,"display_name":"yaser eftekhari"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1429773538,"creation_date":1429773538,"answer_id":29816347,"question_id":29693283,"body_markdown":"Just use MAC address of the AP. (MAC Address is unique)\r\n\r\nHere is how:\r\nhttps://stackoverflow.com/questions/6063889/can-i-find-the-mac-address-of-my-access-point-in-android","title":"Fetch unique identifier for a WiFi router","body":"<p>Just use MAC address of the AP. (MAC Address is unique)</p>\n\n<p>Here is how:\n<a href=\"https://stackoverflow.com/questions/6063889/can-i-find-the-mac-address-of-my-access-point-in-android\">Can I find the MAC address of my Access point in Android?</a></p>\n"},{"tags":[],"owner":{"account_id":4974437,"reputation":449,"user_id":4001244,"display_name":"Mohit Rajput"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1429782089,"creation_date":1429782089,"answer_id":29819569,"question_id":29693283,"body_markdown":"For unique identifier, you can use\r\nBSSI+Frequency\r\n\r\nExample:-\r\nAA:AA:AA:AA:AA:AA+2432 and AA:AA:AA:AA:AA:AA+5230 are unique in dual band case","title":"Fetch unique identifier for a WiFi router","body":"<p>For unique identifier, you can use\nBSSI+Frequency</p>\n\n<p>Example:-\nAA:AA:AA:AA:AA:AA+2432 and AA:AA:AA:AA:AA:AA+5230 are unique in dual band case</p>\n"},{"tags":[],"owner":{"account_id":236188,"reputation":15922,"user_id":503508,"accept_rate":81,"display_name":"Knossos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1429872313,"creation_date":1429872313,"answer_id":29845450,"question_id":29693283,"body_markdown":"You can find the Mac address of your router and use that as your basis for uniquely identifying it.\r\n\r\nYou can do so by checking your Android devices ARP table and compare the router IP that you are connected to. An example can be shown here:\r\n\r\nhttp://www.flattermann.net/2011/02/android-howto-find-the-hardware-mac-address-of-a-remote-host/\r\n\r\nRelevant code extracted:\r\n\r\n    /**\r\n     * Try to extract a hardware MAC address from a given IP address using the\r\n     * ARP cache (/proc/net/arp).&lt;br&gt;\r\n     * &lt;br&gt;\r\n     * We assume that the file has this structure:&lt;br&gt;\r\n     * &lt;br&gt;\r\n     * IP address       HW type     Flags       HW address            Mask     Device\r\n     * 192.168.18.11    0x1         0x2         00:04:20:06:55:1a     *        eth0\r\n     * 192.168.18.36    0x1         0x2         00:22:43:ab:2a:5b     *        eth0\r\n     *\r\n     * @param ip\r\n     * @return the MAC from the ARP cache\r\n     */\r\n    public static String getMacFromArpCache(String ip) {\r\n        if (ip == null)\r\n            return null;\r\n        BufferedReader br = null;\r\n        try {\r\n            br = new BufferedReader(new FileReader(&quot;/proc/net/arp&quot;));\r\n            String line;\r\n            while ((line = br.readLine()) != null) {\r\n                String[] splitted = line.split(&quot; +&quot;);\r\n                if (splitted != null &amp;&amp; splitted.length &gt;= 4 &amp;&amp; ip.equals(splitted[0])) {\r\n                    // Basic sanity check\r\n                    String mac = splitted[3];\r\n                    if (mac.matches(&quot;..:..:..:..:..:..&quot;)) {\r\n                        return mac;\r\n                    } else {\r\n                        return null;\r\n                    }\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            try {\r\n                br.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        return null;\r\n    }","title":"Fetch unique identifier for a WiFi router","body":"<p>You can find the Mac address of your router and use that as your basis for uniquely identifying it.</p>\n\n<p>You can do so by checking your Android devices ARP table and compare the router IP that you are connected to. An example can be shown here:</p>\n\n<p><a href=\"http://www.flattermann.net/2011/02/android-howto-find-the-hardware-mac-address-of-a-remote-host/\" rel=\"nofollow\">http://www.flattermann.net/2011/02/android-howto-find-the-hardware-mac-address-of-a-remote-host/</a></p>\n\n<p>Relevant code extracted:</p>\n\n<pre><code>/**\n * Try to extract a hardware MAC address from a given IP address using the\n * ARP cache (/proc/net/arp).&lt;br&gt;\n * &lt;br&gt;\n * We assume that the file has this structure:&lt;br&gt;\n * &lt;br&gt;\n * IP address       HW type     Flags       HW address            Mask     Device\n * 192.168.18.11    0x1         0x2         00:04:20:06:55:1a     *        eth0\n * 192.168.18.36    0x1         0x2         00:22:43:ab:2a:5b     *        eth0\n *\n * @param ip\n * @return the MAC from the ARP cache\n */\npublic static String getMacFromArpCache(String ip) {\n    if (ip == null)\n        return null;\n    BufferedReader br = null;\n    try {\n        br = new BufferedReader(new FileReader(\"/proc/net/arp\"));\n        String line;\n        while ((line = br.readLine()) != null) {\n            String[] splitted = line.split(\" +\");\n            if (splitted != null &amp;&amp; splitted.length &gt;= 4 &amp;&amp; ip.equals(splitted[0])) {\n                // Basic sanity check\n                String mac = splitted[3];\n                if (mac.matches(\"..:..:..:..:..:..\")) {\n                    return mac;\n                } else {\n                    return null;\n                }\n            }\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    } finally {\n        try {\n            br.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":347392,"reputation":8392,"user_id":681479,"accept_rate":62,"display_name":"Brian White"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1429974760,"creation_date":1429974383,"answer_id":29866870,"question_id":29693283,"body_markdown":"Sadly, there is no _guaranteed_ method of uniquely identifying a specific access point.  You can come close by using the SSID, MAC, etc. but it wouldn&#39;t necessarily work every time and it would still be possible for someone to spoof this if they desired.\r\n\r\nIf you wish to consider different WiFi interfaces(1) (as opposed to the physical device supporting it) then the MAC address is, by definition, what you need (barring broken devices that wrongly re-use a MAC).\r\n\r\n(1) I use the word &quot;interfaces&quot; because it&#39;s possible to support multiple networks (i.e. SSIDs) on the same interface.  An interface will effectively be a single channel at a single frequency.","title":"Fetch unique identifier for a WiFi router","body":"<p>Sadly, there is no <em>guaranteed</em> method of uniquely identifying a specific access point.  You can come close by using the SSID, MAC, etc. but it wouldn't necessarily work every time and it would still be possible for someone to spoof this if they desired.</p>\n\n<p>If you wish to consider different WiFi interfaces(1) (as opposed to the physical device supporting it) then the MAC address is, by definition, what you need (barring broken devices that wrongly re-use a MAC).</p>\n\n<p>(1) I use the word \"interfaces\" because it's possible to support multiple networks (i.e. SSIDs) on the same interface.  An interface will effectively be a single channel at a single frequency.</p>\n"}],"owner":{"account_id":292906,"reputation":2201,"user_id":595947,"accept_rate":86,"display_name":"Urban"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5567,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":5,"score":20,"last_activity_date":1653722165,"creation_date":1429256788,"question_id":29693283,"body_markdown":"Is there any way I can get any unique identifier for a particular wifi router?\r\n\r\nI&#39;m trying to write an Android app that needs to know which router it is connected to. I know that android provides a way to get the BSSID of the currently connected network, but to my surprise, this is not unique.  \r\nI found out that on dual band routers, two different devices could be getting two different BSSID, even if they are on the same SSID.  \r\nIs there any other parameter I can fetch that can uniquely identify the wifi I am connected to? I would love to try some third party library, if that would allow me, since I am quite certain Android does not come packaged with a better method than giving me the BSSID.  \n\nEdit: I&#39;m trying to find out who all have set their home wifi (via the app) as the same Wi-Fi as me. Each user sets their &#39;home Wi-Fi&#39; which gets saved on the server ( the mac address is what I&#39;m saving). Then each user can query who all are on their Wi-Fi, and if they are currently connected on that Wi-Fi or not. The query of &#39;who is on my wifi&#39; is done by searching for the same MAC address as the one I&#39;m connected to. This fails if my home has a dual band, since they could be connected to the second frequency (and thus second MAC).\r\n","title":"Fetch unique identifier for a WiFi router","body":"<p>Is there any way I can get any unique identifier for a particular wifi router?</p>\n\n<p>I'm trying to write an Android app that needs to know which router it is connected to. I know that android provides a way to get the BSSID of the currently connected network, but to my surprise, this is not unique.<br>\nI found out that on dual band routers, two different devices could be getting two different BSSID, even if they are on the same SSID.<br>\nIs there any other parameter I can fetch that can uniquely identify the wifi I am connected to? I would love to try some third party library, if that would allow me, since I am quite certain Android does not come packaged with a better method than giving me the BSSID.  </p>\n\n<p>Edit: I'm trying to find out who all have set their home wifi (via the app) as the same Wi-Fi as me. Each user sets their 'home Wi-Fi' which gets saved on the server ( the mac address is what I'm saving). Then each user can query who all are on their Wi-Fi, and if they are currently connected on that Wi-Fi or not. The query of 'who is on my wifi' is done by searching for the same MAC address as the one I'm connected to. This fails if my home has a dual band, since they could be connected to the second frequency (and thus second MAC).</p>\n"},{"tags":["java","collections","enums"],"answers":[{"tags":[],"owner":{"account_id":4338279,"reputation":558,"user_id":3542239,"display_name":"Idan Elhalwani"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1653683983,"creation_date":1653683983,"answer_id":72410852,"question_id":72410742,"body_markdown":"You can use the [Java Stream API][1] to filter your list then produce a count, for example;\r\n```java\r\nlong smallRedRectangularHousesCount = houses\r\n        .stream()\r\n        .filter(h -&gt; h.getSize() == Size.SMALL &amp;&amp;\r\n                h.getColor() == Color.RED &amp;&amp;\r\n                h.getShape() == Shape.RECTANGLE\r\n        )\r\n        .count();\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/?java/util/stream/Stream.html","title":"How to group objects by their enum values?","body":"<p>You can use the <a href=\"https://docs.oracle.com/javase/8/docs/api/?java/util/stream/Stream.html\" rel=\"nofollow noreferrer\">Java Stream API</a> to filter your list then produce a count, for example;</p>\n<pre class=\"lang-java prettyprint-override\"><code>long smallRedRectangularHousesCount = houses\n        .stream()\n        .filter(h -&gt; h.getSize() == Size.SMALL &amp;&amp;\n                h.getColor() == Color.RED &amp;&amp;\n                h.getShape() == Shape.RECTANGLE\n        )\n        .count();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653722064,"creation_date":1653701867,"answer_id":72412328,"question_id":72410742,"body_markdown":"First, let&#39;s get some example enum values.\r\n\r\n```java\r\nenum Size\r\n{ TINY, SMALL, MEDIUM, LARGE, MANSION }\r\n\r\nenum Color\r\n{ BEIGE, BROWN, GREEN, GREY }\r\n\r\nenum Shape\r\n{ RECTANGLE, SQUARE, ROUND }\r\n```\r\n\r\nI would redefine that class `House` as a [record][1] for brevity and simplicity. \r\n\r\nAlso, tracking real properties requires additional fields beyond just size, color, and shape. For our purposes here, I will add a [UUID][2] to identify each individual house. \r\n\r\n```java\r\nrecord House ( UUID id , Size size, Color color, Shape shape ) {}\r\n```\r\n\r\nSome sample data.\r\n\r\n```java\r\nList &lt; House &gt; houses =\r\n        List.of(\r\n                new House( UUID.fromString( &quot;d23d3532-7e43-441a-ac49-d2bc37d884a2&quot; ) , Size.MEDIUM , Color.BROWN , Shape.RECTANGLE ) ,\r\n                new House( UUID.fromString( &quot;e0e7d84c-8500-4372-a6ac-6b601e50b31e&quot; ) , Size.LARGE , Color.BROWN , Shape.ROUND ) ,\r\n                new House( UUID.fromString( &quot;ab251020-fc2b-4f3a-ae92-4cd6da850ac0&quot; ) , Size.MEDIUM , Color.GREEN , Shape.RECTANGLE ) ,\r\n                new House( UUID.fromString( &quot;c675f75e-335e-418e-b805-d6563c2c6e0f&quot; ) , Size.LARGE , Color.BROWN , Shape.ROUND )\r\n        );\r\n```\r\n\r\nIf you simply want to search the list for a particular combination of properties, you can use streams to filter as shown in Answer by [Idan Elhalwani][3]. \r\n\r\n    long countBrown = houses.stream().filter( house -&gt; house.color().equals( Color.BROWN ) ).count();\r\n\r\n&gt;3\r\n\r\nFor multiple criteria (color and shape as well as size), use the `&amp;&amp;` syntax seen in the other Answer.\r\n\r\nYour Question is somewhat confused. You seem to be asking about grouping all houses by all possible combinations of criteria. Doing so would be a good idea if you are doing many mare queries than data changes. Doing the grouping ahead of time is much work, but is worth it if you are doing many queries. \r\n\r\nTo do the grouping, let&#39;s define another record, `HouseProfile`, to contain only the three fields of Size, Color, and Shape. We will use loops to instantiate objects of all possible combinations. \r\n\r\n    record HouseProfile( Size size , Color color , Shape shape ) { }\r\n\r\nWe can determine all possible combinations quite easily. Calling `values` on an enum returns an array of all the named objects on that enum. We can then loop on that array.\r\n\r\nWe do this for each of your 3 enums: `Size`, `Color`, and `Shape`. As we go through these, we filter the list of houses that match each enum object. We end up with a list of houses that match each combination of enum objects. That list might be empty, or might have houses. We put each list in a `Map`, a collection of key-value pairings. We use `HouseProfile` as the key to our map, leading to a `List` of type `House`. \r\n\r\nFirst define our map, to hold results.\r\n\r\n    Map &lt; HouseProfile, List &lt; House &gt; &gt; housesByProfile = new HashMap &lt;&gt;();\r\n\r\nThen loop all values of each enum.\r\n\r\n```java\r\nfor ( Size size : Size.values() )\r\n{\r\n    List &lt; House &gt; sized = houses.stream().filter( house -&gt; house.size.equals( size ) ).toList();\r\n    for ( Color color : Color.values() )\r\n    {\r\n        List &lt; House &gt; sizedAndColored = sized.stream().filter( house -&gt; house.color.equals( color ) ).toList();\r\n        for ( Shape shape : Shape.values() )\r\n        {\r\n            List &lt; House &gt; sizedAndColoredAndShaped = sizedAndColored.stream().filter( house -&gt; house.shape.equals( shape ) ).toList();\r\n            housesByProfile.put( new HouseProfile( size , color , shape ) , sizedAndColoredAndShaped );\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nDump to console. \r\n\r\n    System.out.println( &quot;housesByProfile = &quot; + housesByProfile );\r\n\r\nIf you read through the output, you will find each of three sample houses. Notice that for `HouseProfile[size=LARGE, color=BROWN, shape=ROUND]` we have a list of two `House` objects with IDs of &quot;e0e7d84c-8500-4372-a6ac-6b601e50b31e&quot; &amp; &quot;c675f75e-335e-418e-b805-d6563c2c6e0f&quot;.\r\n\r\n&gt;housesByProfile = {HouseProfile[size=MANSION, color=GREEN, shape=RECTANGLE]=[], HouseProfile[size=MANSION, color=GREEN, shape=ROUND]=[], HouseProfile[size=SMALL, color=BROWN, shape=ROUND]=[], HouseProfile[size=LARGE, color=BEIGE, shape=SQUARE]=[], HouseProfile[size=MEDIUM, color=BROWN, shape=RECTANGLE]=[House[id=d23d3532-7e43-441a-ac49-d2bc37d884a2, size=MEDIUM, color=BROWN, shape=RECTANGLE]], HouseProfile[size=MANSION, color=BEIGE, shape=RECTANGLE]=[], HouseProfile[size=LARGE, color=GREEN, shape=SQUARE]=[], HouseProfile[size=MEDIUM, color=BEIGE, shape=ROUND]=[], HouseProfile[size=MEDIUM, color=BEIGE, shape=RECTANGLE]=[], HouseProfile[size=SMALL, color=BEIGE, shape=ROUND]=[], HouseProfile[size=SMALL, color=GREY, shape=RECTANGLE]=[], HouseProfile[size=TINY, color=GREEN, shape=SQUARE]=[], HouseProfile[size=MEDIUM, color=GREEN, shape=RECTANGLE]=[House[id=ab251020-fc2b-4f3a-ae92-4cd6da850ac0, size=MEDIUM, color=GREEN, shape=RECTANGLE]], HouseProfile[size=TINY, color=BEIGE, shape=SQUARE]=[], HouseProfile[size=SMALL, color=BROWN, shape=RECTANGLE]=[], HouseProfile[size=TINY, color=GREY, shape=ROUND]=[], HouseProfile[size=SMALL, color=GREEN, shape=ROUND]=[], HouseProfile[size=MANSION, color=BROWN, shape=RECTANGLE]=[], HouseProfile[size=LARGE, color=BROWN, shape=SQUARE]=[], HouseProfile[size=MEDIUM, color=GREEN, shape=ROUND]=[], HouseProfile[size=MEDIUM, color=GREY, shape=SQUARE]=[], HouseProfile[size=LARGE, color=GREY, shape=RECTANGLE]=[], HouseProfile[size=TINY, color=BROWN, shape=RECTANGLE]=[], HouseProfile[size=LARGE, color=BROWN, shape=ROUND]=[House[id=e0e7d84c-8500-4372-a6ac-6b601e50b31e, size=LARGE, color=BROWN, shape=ROUND], House[id=c675f75e-335e-418e-b805-d6563c2c6e0f, size=LARGE, color=BROWN, shape=ROUND]], HouseProfile[size=TINY, color=BROWN, shape=SQUARE]=[], HouseProfile[size=MANSION, color=BROWN, shape=SQUARE]=[], HouseProfile[size=SMALL, color=GREY, shape=SQUARE]=[], HouseProfile[size=SMALL, color=GREY, shape=ROUND]=[], HouseProfile[size=MEDIUM, color=GREY, shape=RECTANGLE]=[], HouseProfile[size=MEDIUM, color=GREEN, shape=SQUARE]=[], HouseProfile[size=MEDIUM, color=BROWN, shape=ROUND]=[], HouseProfile[size=TINY, color=BEIGE, shape=RECTANGLE]=[], HouseProfile[size=LARGE, color=BEIGE, shape=ROUND]=[], HouseProfile[size=TINY, color=BEIGE, shape=ROUND]=[], HouseProfile[size=LARGE, color=GREEN, shape=RECTANGLE]=[], HouseProfile[size=MEDIUM, color=BEIGE, shape=SQUARE]=[], HouseProfile[size=TINY, color=GREEN, shape=RECTANGLE]=[], HouseProfile[size=LARGE, color=GREEN, shape=ROUND]=[], HouseProfile[size=LARGE, color=BEIGE, shape=RECTANGLE]=[], HouseProfile[size=MANSION, color=GREEN, shape=SQUARE]=[], HouseProfile[size=MANSION, color=GREY, shape=RECTANGLE]=[], HouseProfile[size=MANSION, color=BEIGE, shape=SQUARE]=[], HouseProfile[size=TINY, color=BROWN, shape=ROUND]=[], HouseProfile[size=LARGE, color=GREY, shape=SQUARE]=[], HouseProfile[size=MANSION, color=GREY, shape=ROUND]=[], HouseProfile[size=LARGE, color=BROWN, shape=RECTANGLE]=[], HouseProfile[size=MEDIUM, color=BROWN, shape=SQUARE]=[], HouseProfile[size=MANSION, color=BROWN, shape=ROUND]=[], HouseProfile[size=SMALL, color=GREEN, shape=RECTANGLE]=[], HouseProfile[size=TINY, color=GREY, shape=RECTANGLE]=[], HouseProfile[size=LARGE, color=GREY, shape=ROUND]=[], HouseProfile[size=SMALL, color=GREEN, shape=SQUARE]=[], HouseProfile[size=SMALL, color=BEIGE, shape=SQUARE]=[], HouseProfile[size=TINY, color=GREEN, shape=ROUND]=[], HouseProfile[size=SMALL, color=BEIGE, shape=RECTANGLE]=[], HouseProfile[size=MEDIUM, color=GREY, shape=ROUND]=[], HouseProfile[size=MANSION, color=GREY, shape=SQUARE]=[], HouseProfile[size=SMALL, color=BROWN, shape=SQUARE]=[], HouseProfile[size=MANSION, color=BEIGE, shape=ROUND]=[], HouseProfile[size=TINY, color=GREY, shape=SQUARE]=[]}\r\n\r\nLet’s use that map to get a count of houses meeting a combination of criteria. \r\n\r\n    int countLargeBrownRound = housesByProfile.get( new HouseProfile( Size.LARGE , Color.BROWN , Shape.ROUND ) ).size() ;\r\n\r\n&gt; 2\r\n\r\n\r\n\r\n  [1]: http://openjdk.java.net/jeps/395\r\n  [2]: https://en.wikipedia.org/wiki/Universally_unique_identifier\r\n  [3]: https://stackoverflow.com/a/72410852/642706","title":"How to group objects by their enum values?","body":"<p>First, let's get some example enum values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum Size\n{ TINY, SMALL, MEDIUM, LARGE, MANSION }\n\nenum Color\n{ BEIGE, BROWN, GREEN, GREY }\n\nenum Shape\n{ RECTANGLE, SQUARE, ROUND }\n</code></pre>\n<p>I would redefine that class <code>House</code> as a <a href=\"http://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">record</a> for brevity and simplicity.</p>\n<p>Also, tracking real properties requires additional fields beyond just size, color, and shape. For our purposes here, I will add a <a href=\"https://en.wikipedia.org/wiki/Universally_unique_identifier\" rel=\"nofollow noreferrer\">UUID</a> to identify each individual house.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record House ( UUID id , Size size, Color color, Shape shape ) {}\n</code></pre>\n<p>Some sample data.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; House &gt; houses =\n        List.of(\n                new House( UUID.fromString( &quot;d23d3532-7e43-441a-ac49-d2bc37d884a2&quot; ) , Size.MEDIUM , Color.BROWN , Shape.RECTANGLE ) ,\n                new House( UUID.fromString( &quot;e0e7d84c-8500-4372-a6ac-6b601e50b31e&quot; ) , Size.LARGE , Color.BROWN , Shape.ROUND ) ,\n                new House( UUID.fromString( &quot;ab251020-fc2b-4f3a-ae92-4cd6da850ac0&quot; ) , Size.MEDIUM , Color.GREEN , Shape.RECTANGLE ) ,\n                new House( UUID.fromString( &quot;c675f75e-335e-418e-b805-d6563c2c6e0f&quot; ) , Size.LARGE , Color.BROWN , Shape.ROUND )\n        );\n</code></pre>\n<p>If you simply want to search the list for a particular combination of properties, you can use streams to filter as shown in Answer by <a href=\"https://stackoverflow.com/a/72410852/642706\">Idan Elhalwani</a>.</p>\n<pre><code>long countBrown = houses.stream().filter( house -&gt; house.color().equals( Color.BROWN ) ).count();\n</code></pre>\n<blockquote>\n<p>3</p>\n</blockquote>\n<p>For multiple criteria (color and shape as well as size), use the <code>&amp;&amp;</code> syntax seen in the other Answer.</p>\n<p>Your Question is somewhat confused. You seem to be asking about grouping all houses by all possible combinations of criteria. Doing so would be a good idea if you are doing many mare queries than data changes. Doing the grouping ahead of time is much work, but is worth it if you are doing many queries.</p>\n<p>To do the grouping, let's define another record, <code>HouseProfile</code>, to contain only the three fields of Size, Color, and Shape. We will use loops to instantiate objects of all possible combinations.</p>\n<pre><code>record HouseProfile( Size size , Color color , Shape shape ) { }\n</code></pre>\n<p>We can determine all possible combinations quite easily. Calling <code>values</code> on an enum returns an array of all the named objects on that enum. We can then loop on that array.</p>\n<p>We do this for each of your 3 enums: <code>Size</code>, <code>Color</code>, and <code>Shape</code>. As we go through these, we filter the list of houses that match each enum object. We end up with a list of houses that match each combination of enum objects. That list might be empty, or might have houses. We put each list in a <code>Map</code>, a collection of key-value pairings. We use <code>HouseProfile</code> as the key to our map, leading to a <code>List</code> of type <code>House</code>.</p>\n<p>First define our map, to hold results.</p>\n<pre><code>Map &lt; HouseProfile, List &lt; House &gt; &gt; housesByProfile = new HashMap &lt;&gt;();\n</code></pre>\n<p>Then loop all values of each enum.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for ( Size size : Size.values() )\n{\n    List &lt; House &gt; sized = houses.stream().filter( house -&gt; house.size.equals( size ) ).toList();\n    for ( Color color : Color.values() )\n    {\n        List &lt; House &gt; sizedAndColored = sized.stream().filter( house -&gt; house.color.equals( color ) ).toList();\n        for ( Shape shape : Shape.values() )\n        {\n            List &lt; House &gt; sizedAndColoredAndShaped = sizedAndColored.stream().filter( house -&gt; house.shape.equals( shape ) ).toList();\n            housesByProfile.put( new HouseProfile( size , color , shape ) , sizedAndColoredAndShaped );\n        }\n    }\n}\n</code></pre>\n<p>Dump to console.</p>\n<pre><code>System.out.println( &quot;housesByProfile = &quot; + housesByProfile );\n</code></pre>\n<p>If you read through the output, you will find each of three sample houses. Notice that for <code>HouseProfile[size=LARGE, color=BROWN, shape=ROUND]</code> we have a list of two <code>House</code> objects with IDs of &quot;e0e7d84c-8500-4372-a6ac-6b601e50b31e&quot; &amp; &quot;c675f75e-335e-418e-b805-d6563c2c6e0f&quot;.</p>\n<blockquote>\n<p>housesByProfile = {HouseProfile[size=MANSION, color=GREEN, shape=RECTANGLE]=[], HouseProfile[size=MANSION, color=GREEN, shape=ROUND]=[], HouseProfile[size=SMALL, color=BROWN, shape=ROUND]=[], HouseProfile[size=LARGE, color=BEIGE, shape=SQUARE]=[], HouseProfile[size=MEDIUM, color=BROWN, shape=RECTANGLE]=[House[id=d23d3532-7e43-441a-ac49-d2bc37d884a2, size=MEDIUM, color=BROWN, shape=RECTANGLE]], HouseProfile[size=MANSION, color=BEIGE, shape=RECTANGLE]=[], HouseProfile[size=LARGE, color=GREEN, shape=SQUARE]=[], HouseProfile[size=MEDIUM, color=BEIGE, shape=ROUND]=[], HouseProfile[size=MEDIUM, color=BEIGE, shape=RECTANGLE]=[], HouseProfile[size=SMALL, color=BEIGE, shape=ROUND]=[], HouseProfile[size=SMALL, color=GREY, shape=RECTANGLE]=[], HouseProfile[size=TINY, color=GREEN, shape=SQUARE]=[], HouseProfile[size=MEDIUM, color=GREEN, shape=RECTANGLE]=[House[id=ab251020-fc2b-4f3a-ae92-4cd6da850ac0, size=MEDIUM, color=GREEN, shape=RECTANGLE]], HouseProfile[size=TINY, color=BEIGE, shape=SQUARE]=[], HouseProfile[size=SMALL, color=BROWN, shape=RECTANGLE]=[], HouseProfile[size=TINY, color=GREY, shape=ROUND]=[], HouseProfile[size=SMALL, color=GREEN, shape=ROUND]=[], HouseProfile[size=MANSION, color=BROWN, shape=RECTANGLE]=[], HouseProfile[size=LARGE, color=BROWN, shape=SQUARE]=[], HouseProfile[size=MEDIUM, color=GREEN, shape=ROUND]=[], HouseProfile[size=MEDIUM, color=GREY, shape=SQUARE]=[], HouseProfile[size=LARGE, color=GREY, shape=RECTANGLE]=[], HouseProfile[size=TINY, color=BROWN, shape=RECTANGLE]=[], HouseProfile[size=LARGE, color=BROWN, shape=ROUND]=[House[id=e0e7d84c-8500-4372-a6ac-6b601e50b31e, size=LARGE, color=BROWN, shape=ROUND], House[id=c675f75e-335e-418e-b805-d6563c2c6e0f, size=LARGE, color=BROWN, shape=ROUND]], HouseProfile[size=TINY, color=BROWN, shape=SQUARE]=[], HouseProfile[size=MANSION, color=BROWN, shape=SQUARE]=[], HouseProfile[size=SMALL, color=GREY, shape=SQUARE]=[], HouseProfile[size=SMALL, color=GREY, shape=ROUND]=[], HouseProfile[size=MEDIUM, color=GREY, shape=RECTANGLE]=[], HouseProfile[size=MEDIUM, color=GREEN, shape=SQUARE]=[], HouseProfile[size=MEDIUM, color=BROWN, shape=ROUND]=[], HouseProfile[size=TINY, color=BEIGE, shape=RECTANGLE]=[], HouseProfile[size=LARGE, color=BEIGE, shape=ROUND]=[], HouseProfile[size=TINY, color=BEIGE, shape=ROUND]=[], HouseProfile[size=LARGE, color=GREEN, shape=RECTANGLE]=[], HouseProfile[size=MEDIUM, color=BEIGE, shape=SQUARE]=[], HouseProfile[size=TINY, color=GREEN, shape=RECTANGLE]=[], HouseProfile[size=LARGE, color=GREEN, shape=ROUND]=[], HouseProfile[size=LARGE, color=BEIGE, shape=RECTANGLE]=[], HouseProfile[size=MANSION, color=GREEN, shape=SQUARE]=[], HouseProfile[size=MANSION, color=GREY, shape=RECTANGLE]=[], HouseProfile[size=MANSION, color=BEIGE, shape=SQUARE]=[], HouseProfile[size=TINY, color=BROWN, shape=ROUND]=[], HouseProfile[size=LARGE, color=GREY, shape=SQUARE]=[], HouseProfile[size=MANSION, color=GREY, shape=ROUND]=[], HouseProfile[size=LARGE, color=BROWN, shape=RECTANGLE]=[], HouseProfile[size=MEDIUM, color=BROWN, shape=SQUARE]=[], HouseProfile[size=MANSION, color=BROWN, shape=ROUND]=[], HouseProfile[size=SMALL, color=GREEN, shape=RECTANGLE]=[], HouseProfile[size=TINY, color=GREY, shape=RECTANGLE]=[], HouseProfile[size=LARGE, color=GREY, shape=ROUND]=[], HouseProfile[size=SMALL, color=GREEN, shape=SQUARE]=[], HouseProfile[size=SMALL, color=BEIGE, shape=SQUARE]=[], HouseProfile[size=TINY, color=GREEN, shape=ROUND]=[], HouseProfile[size=SMALL, color=BEIGE, shape=RECTANGLE]=[], HouseProfile[size=MEDIUM, color=GREY, shape=ROUND]=[], HouseProfile[size=MANSION, color=GREY, shape=SQUARE]=[], HouseProfile[size=SMALL, color=BROWN, shape=SQUARE]=[], HouseProfile[size=MANSION, color=BEIGE, shape=ROUND]=[], HouseProfile[size=TINY, color=GREY, shape=SQUARE]=[]}</p>\n</blockquote>\n<p>Let’s use that map to get a count of houses meeting a combination of criteria.</p>\n<pre><code>int countLargeBrownRound = housesByProfile.get( new HouseProfile( Size.LARGE , Color.BROWN , Shape.ROUND ) ).size() ;\n</code></pre>\n<blockquote>\n<p>2</p>\n</blockquote>\n"}],"owner":{"account_id":21665900,"reputation":33,"user_id":15984299,"display_name":"Chocolate173"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":377,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1653722064,"creation_date":1653683177,"question_id":72410742,"body_markdown":"I would like to write a program which analyses properties of houses in a neighborhood. For this I have 3 enums in my program which include the different properties, i.e. size, color and shape of the houses.\r\n\r\nThe houses are defined the following way:\r\n\r\n``` \r\npublic House(Size size, Color color, Shape shape) {\r\n        this.size = size;\r\n        this.color = color;\r\n        this.shape = shape;\r\n    }\r\n```\r\nNow I have an ArrayList with a few hundred different houses and I would like to count how many houses each have which combination of properties (for example &quot;how many houses are big, blue and rectangular?&quot;). If I would create a new ArrayList for each possible combination of these properties I would have more than 30 lists and tons of if-loops in my code.\r\n\r\nIs there an easier way to group houses with the same enum values together?\r\n\r\nThank you very much in advance.\r\n\r\n\r\n","title":"How to group objects by their enum values?","body":"<p>I would like to write a program which analyses properties of houses in a neighborhood. For this I have 3 enums in my program which include the different properties, i.e. size, color and shape of the houses.</p>\n<p>The houses are defined the following way:</p>\n<pre><code>public House(Size size, Color color, Shape shape) {\n        this.size = size;\n        this.color = color;\n        this.shape = shape;\n    }\n</code></pre>\n<p>Now I have an ArrayList with a few hundred different houses and I would like to count how many houses each have which combination of properties (for example &quot;how many houses are big, blue and rectangular?&quot;). If I would create a new ArrayList for each possible combination of these properties I would have more than 30 lists and tons of if-loops in my code.</p>\n<p>Is there an easier way to group houses with the same enum values together?</p>\n<p>Thank you very much in advance.</p>\n"},{"tags":["java","arrays","duplicates"],"comments":[{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":2,"creation_date":1653699142,"post_id":72412154,"comment_id":127921770,"body_markdown":"Welcome to Stack Overflow. Do any of [these search results](https://stackoverflow.com/search?q=%5Bjava%5D+remove+duplicates) answer the question? Please [try to do research](https://meta.stackoverflow.com/questions/261592) before asking.","body":"Welcome to Stack Overflow. Do any of <a href=\"https://stackoverflow.com/search?q=%5Bjava%5D+remove+duplicates\">these search results</a> answer the question? Please <a href=\"https://meta.stackoverflow.com/questions/261592\">try to do research</a> before asking."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1678712734,"post_id":72412154,"comment_id":133581232,"body_markdown":"Instead of `String.valueOf(Arrays.copyOf(str, index))` you can use `new String(str, 0, index)` and save one copy operating during the string concatenation.","body":"Instead of <code>String.valueOf(Arrays.copyOf(str, index))</code> you can use <code>new String(str, 0, index)</code> and save one copy operating during the string concatenation."}],"answers":[{"tags":[],"owner":{"account_id":8766155,"reputation":91,"user_id":6554429,"display_name":"mohamed chadad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653699636,"creation_date":1653699636,"answer_id":72412218,"question_id":72412154,"body_markdown":"This my solution\r\n\r\n    static String removeDuplicate(char str[], int length) {\r\n        if (length == 0) return &quot;&quot;;\r\n        List&lt;Character&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(str[0]);\r\n        for (int i = 1; i &lt; length; i++) {\r\n            if (list.get(list.size() - 1) != str[i]) {\r\n                list.add(str[i]);\r\n            }\r\n        }\r\n        return list.stream()\r\n                .map(Object::toString)\r\n                .collect(Collectors.joining());\r\n    }","title":"avoid repetition in a Java array","body":"<p>This my solution</p>\n<pre><code>static String removeDuplicate(char str[], int length) {\n    if (length == 0) return &quot;&quot;;\n    List&lt;Character&gt; list = new ArrayList&lt;&gt;();\n    list.add(str[0]);\n    for (int i = 1; i &lt; length; i++) {\n        if (list.get(list.size() - 1) != str[i]) {\n            list.add(str[i]);\n        }\n    }\n    return list.stream()\n            .map(Object::toString)\n            .collect(Collectors.joining());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23990345,"reputation":1212,"user_id":17976599,"display_name":"Sumit Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653699765,"creation_date":1653699765,"answer_id":72412225,"question_id":72412154,"body_markdown":"You can do a ***recursive*** call here:\r\n\r\n    import java.util.*;   \r\n\r\n    public class test {   \r\n        \r\n      static String removeDuplicate(String input) {   \r\n            \r\n         if(input.length()&lt;=1)\r\n                return input;\r\n            if(input.charAt(0)==input.charAt(1))\r\n                return removeDuplicate(input.substring(1));\r\n            else\r\n                return input.charAt(0) + removeDuplicate(input.substring(1));\r\n      }   \r\n      \r\n     \r\n      public static void main(String[] args)   {   \r\n          String info = &quot;hannahmontana&quot;;  \r\n          System.out.println(removeDuplicate(info));\r\n      }   \r\n    }  ","title":"avoid repetition in a Java array","body":"<p>You can do a <em><strong>recursive</strong></em> call here:</p>\n<pre><code>import java.util.*;   \n\npublic class test {   \n    \n  static String removeDuplicate(String input) {   \n        \n     if(input.length()&lt;=1)\n            return input;\n        if(input.charAt(0)==input.charAt(1))\n            return removeDuplicate(input.substring(1));\n        else\n            return input.charAt(0) + removeDuplicate(input.substring(1));\n  }   \n  \n \n  public static void main(String[] args)   {   \n      String info = &quot;hannahmontana&quot;;  \n      System.out.println(removeDuplicate(info));\n  }   \n}  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":20261253,"reputation":373,"user_id":14859549,"display_name":"Frank Yang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653700835,"creation_date":1653700835,"answer_id":72412280,"question_id":72412154,"body_markdown":"You can also try RegExp. Maybe not so fast, but I consider it simpler and more readable.\r\n\r\n```java\r\nstatic String removeDuplicate(char[] chars, int ignored) {\r\n    return new String(chars).replaceAll(&quot;(.)\\\\1+&quot;, &quot;$1&quot;)\r\n}\r\n```","title":"avoid repetition in a Java array","body":"<p>You can also try RegExp. Maybe not so fast, but I consider it simpler and more readable.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static String removeDuplicate(char[] chars, int ignored) {\n    return new String(chars).replaceAll(&quot;(.)\\\\1+&quot;, &quot;$1&quot;)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25409594,"reputation":19,"user_id":19217682,"display_name":"hanswillinge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653721008,"creation_date":1653708733,"answer_id":72412670,"question_id":72412154,"body_markdown":"Thanks for all the great answers! It turns out the solution was really simple. I just needed to change `str[j]` to `str[i-1]`.","title":"avoid repetition in a Java array","body":"<p>Thanks for all the great answers! It turns out the solution was really simple. I just needed to change <code>str[j]</code> to <code>str[i-1]</code>.</p>\n"}],"owner":{"account_id":25409594,"reputation":19,"user_id":19217682,"display_name":"hanswillinge"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":4,"score":1,"last_activity_date":1653721008,"creation_date":1653698300,"question_id":72412154,"body_markdown":"I&#39;m trying to get my code to not only search if a char is present in an array, but also if it is present next to one another. So, if the input is hannah, the output should be hanah. It should only remove a char if it is next to the same char.\r\n\r\n```\r\nimport java.util.*;   \r\n\r\npublic class test {   \r\n\t\r\n  static void removeDuplicate(char str[], int length) {   \r\n\t    \r\n      int index = 0; \r\n  \r\n      for (int i = 0; i &lt; length; i++) {   \r\n             \r\n          int j;   \r\n          for (j = 0; j &lt; i; j++) {   \r\n              if (str[i] == str[j])   \r\n              {   \r\n            \t  break;\r\n              }   \r\n          }   \r\n    \r\n          if (j == i)    \r\n          {     \r\n              str[index++] = str[i];   \r\n          }   \r\n      } \r\n      System.out.println(String.valueOf(Arrays.copyOf(str, index)));   \r\n  }   \r\n  \r\n \r\n  public static void main(String[] args)   {   \r\n      String info = &quot;hannahmontana&quot;;  \r\n      char str[] = info.toCharArray();  \r\n      int len = str.length;   \r\n      removeDuplicate(str, len);   \r\n  }   \r\n}  \r\n```","title":"avoid repetition in a Java array","body":"<p>I'm trying to get my code to not only search if a char is present in an array, but also if it is present next to one another. So, if the input is hannah, the output should be hanah. It should only remove a char if it is next to the same char.</p>\n<pre><code>import java.util.*;   \n\npublic class test {   \n    \n  static void removeDuplicate(char str[], int length) {   \n        \n      int index = 0; \n  \n      for (int i = 0; i &lt; length; i++) {   \n             \n          int j;   \n          for (j = 0; j &lt; i; j++) {   \n              if (str[i] == str[j])   \n              {   \n                  break;\n              }   \n          }   \n    \n          if (j == i)    \n          {     \n              str[index++] = str[i];   \n          }   \n      } \n      System.out.println(String.valueOf(Arrays.copyOf(str, index)));   \n  }   \n  \n \n  public static void main(String[] args)   {   \n      String info = &quot;hannahmontana&quot;;  \n      char str[] = info.toCharArray();  \n      int len = str.length;   \n      removeDuplicate(str, len);   \n  }   \n}  \n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":10034154,"reputation":479,"user_id":7419493,"display_name":"justis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653700967,"creation_date":1653699171,"answer_id":72412198,"question_id":72412165,"body_markdown":"As the error is explaining, the method `getCameraIdList()` within CameraManager is non-static, meaning you need an instance of CameraManager in order to access it.\r\n\r\nAssuming you mean Android’s CameraManager class, this is how you might go about obtaining an instance of the CameraManager:\r\n\r\n```\r\nCameraManager cameraManager = (CameraManager) context.getSystemService(Context.CAMERA_SERVICE);\r\n// NOTE: You need an instance of &#39;Context&#39; in order to access getSystemService()\r\n```\r\n\r\nYou can then use `cameraManager.getCameraIdList()` as you have in your examples.","title":"Java: Cannot Make Static Reference to Non Static Method error","body":"<p>As the error is explaining, the method <code>getCameraIdList()</code> within CameraManager is non-static, meaning you need an instance of CameraManager in order to access it.</p>\n<p>Assuming you mean Android’s CameraManager class, this is how you might go about obtaining an instance of the CameraManager:</p>\n<pre><code>CameraManager cameraManager = (CameraManager) context.getSystemService(Context.CAMERA_SERVICE);\n// NOTE: You need an instance of 'Context' in order to access getSystemService()\n</code></pre>\n<p>You can then use <code>cameraManager.getCameraIdList()</code> as you have in your examples.</p>\n"}],"owner":{"account_id":25387313,"reputation":31,"user_id":19198908,"display_name":"db0htc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1653720916,"accepted_answer_id":72412198,"answer_count":1,"score":0,"last_activity_date":1653720884,"creation_date":1653698567,"question_id":72412165,"body_markdown":"I have read every single other post on this specific error, and this still does not make sense to me, at all.\r\n\r\nSo far I have tried:\r\n\r\n````\r\nimport android.hardware.camera2.CameraManager;\r\n\r\npublic class HelloWorld {\r\n    \r\n    public int getcameracount() {\r\n        try {\r\n            return CameraManager.getCameraIdList().length;\r\n        } finally {\r\n            \r\n        }\r\n    }\r\n\r\n    public void main(String[] args) {\r\n\r\nSystem.out.println(&quot;number of cameras: &quot; + getcameracount());\r\n\r\n    }\r\n}\r\n````\r\n\r\nAnd\r\n\r\n````\r\nimport android.hardware.camera2.CameraManager;\r\n\r\npublic class HelloWorld {\r\n\r\n    public void main(String[] args) {\r\n        \r\n        new cameraids list1;\r\n\r\nSystem.out.println(&quot;number of cameras: &quot; + list1.CameraIDList.length);\r\n\r\n    }\r\n}\r\n\r\nclass cameraids {\r\npublic String[] CameraIDList = CameraManager.getCameraIdList();\r\n}\r\n````\r\n\r\nAnd \r\n\r\n````\r\nimport android.hardware.camera2.CameraManager;\r\n\r\npublic class HelloWorld {\r\n\r\n    public void main(String[] args) {\r\n        \r\n        cameraids list1 = new cameraids();\r\n\r\nSystem.out.println(&quot;number of cameras: &quot; + list1.CameraIDList.length);\r\n\r\n    }\r\n}\r\n\r\nclass cameraids {\r\npublic String[] CameraIDList = CameraManager.getCameraIdList();\r\n}\r\n````\r\n\r\nAnd many, many others.\r\n\r\nWithout exception, I get \r\n````none\r\n1. ERROR in /storage/emulated/0/redacted/redacted/src/HelloWorld.java (at line 19)\r\n\tString[] CameraIDList = CameraManager.getCameraIdList();\r\n\t                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nCannot make a static reference to the non-static method getCameraIdList() from the type CameraManager\r\n````\r\n\r\nAs an error. Only the line number changes per attempt.\r\n\r\nI&#39;ve also looked at various code examples, and they all use some variation of\r\n\r\n```\r\nString[] idlist = manager.getCameraIdList();\r\n```\r\n\r\nWhere idlist is any variable name, and manager is any variant of manager, Cmanager, or CameraManager depending on that example&#39;s author&#39;s setup. Mine is CameraManager.\r\n\r\nThe examples all seem to &#39;just work&#39; for their respective authors.\r\n\r\nI don&#39;t know what I&#39;m doing differently. I know some assembly, C++, M and G code, basic etc, and they all seem really straightforward by comparison. Why can&#39;t I just print a number?\r\n\r\nP.S. the filepath is redacted because it contained lots of swearing","title":"Java: Cannot Make Static Reference to Non Static Method error","body":"<p>I have read every single other post on this specific error, and this still does not make sense to me, at all.</p>\n<p>So far I have tried:</p>\n<pre><code>import android.hardware.camera2.CameraManager;\n\npublic class HelloWorld {\n    \n    public int getcameracount() {\n        try {\n            return CameraManager.getCameraIdList().length;\n        } finally {\n            \n        }\n    }\n\n    public void main(String[] args) {\n\nSystem.out.println(&quot;number of cameras: &quot; + getcameracount());\n\n    }\n}\n</code></pre>\n<p>And</p>\n<pre><code>import android.hardware.camera2.CameraManager;\n\npublic class HelloWorld {\n\n    public void main(String[] args) {\n        \n        new cameraids list1;\n\nSystem.out.println(&quot;number of cameras: &quot; + list1.CameraIDList.length);\n\n    }\n}\n\nclass cameraids {\npublic String[] CameraIDList = CameraManager.getCameraIdList();\n}\n</code></pre>\n<p>And</p>\n<pre><code>import android.hardware.camera2.CameraManager;\n\npublic class HelloWorld {\n\n    public void main(String[] args) {\n        \n        cameraids list1 = new cameraids();\n\nSystem.out.println(&quot;number of cameras: &quot; + list1.CameraIDList.length);\n\n    }\n}\n\nclass cameraids {\npublic String[] CameraIDList = CameraManager.getCameraIdList();\n}\n</code></pre>\n<p>And many, many others.</p>\n<p>Without exception, I get</p>\n<pre class=\"lang-none prettyprint-override\"><code>1. ERROR in /storage/emulated/0/redacted/redacted/src/HelloWorld.java (at line 19)\n    String[] CameraIDList = CameraManager.getCameraIdList();\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nCannot make a static reference to the non-static method getCameraIdList() from the type CameraManager\n</code></pre>\n<p>As an error. Only the line number changes per attempt.</p>\n<p>I've also looked at various code examples, and they all use some variation of</p>\n<pre><code>String[] idlist = manager.getCameraIdList();\n</code></pre>\n<p>Where idlist is any variable name, and manager is any variant of manager, Cmanager, or CameraManager depending on that example's author's setup. Mine is CameraManager.</p>\n<p>The examples all seem to 'just work' for their respective authors.</p>\n<p>I don't know what I'm doing differently. I know some assembly, C++, M and G code, basic etc, and they all seem really straightforward by comparison. Why can't I just print a number?</p>\n<p>P.S. the filepath is redacted because it contained lots of swearing</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1653705739,"post_id":72412425,"comment_id":127922396,"body_markdown":"Have you tried reading the [RecyclerView documentation](https://developer.android.com/guide/topics/ui/layout/recyclerview)? It explains in detail what each overridden method does in addition to showing annotated code samples.","body":"Have you tried reading the <a href=\"https://developer.android.com/guide/topics/ui/layout/recyclerview\" rel=\"nofollow noreferrer\">RecyclerView documentation</a>? It explains in detail what each overridden method does in addition to showing annotated code samples."},{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1653713610,"post_id":72412425,"comment_id":127923229,"body_markdown":"It&#39;s used in layout inflation within `onCreateViewHolder()`; but you can totally omit it and use `parent.getContext()` instead","body":"It&#39;s used in layout inflation within <code>onCreateViewHolder()</code>; but you can totally omit it and use <code>parent.getContext()</code> instead"}],"owner":{"account_id":21467365,"reputation":1,"user_id":15817063,"display_name":"Victor Anyichie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1653714234,"answer_count":0,"score":0,"last_activity_date":1653720780,"creation_date":1653703895,"question_id":72412425,"body_markdown":"```java\r\npackage com.example.cardviewapp;\r\n\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\nimport java.util.ArrayList;\r\n\r\npublic class CustomAdapter extends RecyclerView.Adapter&lt;CustomAdapter.ViewHolder&gt;{\r\n\r\n    public Context context;\r\n    public ArrayList&lt;HarryPotterNovel&gt; harryPotterNovel;\r\n\r\n    public CustomAdapter(Context context, ArrayList&lt;HarryPotterNovel&gt; harryPotterNovel) {\r\n        this.context = context;\r\n        this.harryPotterNovel = harryPotterNovel;\r\n    }\r\n\r\n    public static class ViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        ImageView imageView;\r\n        TextView textView;\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            this.imageView = itemView.findViewById(R.id.imageView);\r\n            this.textView = itemView.findViewById(R.id.textView);\r\n        }\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(context).inflate(R.layout.card_view_items, parent, false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        HarryPotterNovel harryPotterNovel2 = harryPotterNovel.get(position);\r\n        holder.textView.setText(harryPotterNovel2.getTitle());\r\n        holder.imageView.setImageResource(harryPotterNovel2.getImage());\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return harryPotterNovel.size();\r\n    }\r\n}\r\n```\r\n\r\nWhat is the use for the context object in this code? I&#39;m still a beginner, please help out. If possible, can you explain the workings of the overridden methods. I don&#39;t know why all the courses I&#39;ve come across do not seem to explain in detail the functionality of the methods, they just tell you to typem but they never explain why you do somethings. Can somebody explain all the methods in detail because I&#39;m really stuck? Like why do we return ViewHolder object? Or like the LayoutInflater parameters and like how are the methods called?","title":"Please what is the use of creating a context object in a custom Recyclerview adapter?","body":"<pre class=\"lang-java prettyprint-override\"><code>package com.example.cardviewapp;\n\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\nimport java.util.ArrayList;\n\npublic class CustomAdapter extends RecyclerView.Adapter&lt;CustomAdapter.ViewHolder&gt;{\n\n    public Context context;\n    public ArrayList&lt;HarryPotterNovel&gt; harryPotterNovel;\n\n    public CustomAdapter(Context context, ArrayList&lt;HarryPotterNovel&gt; harryPotterNovel) {\n        this.context = context;\n        this.harryPotterNovel = harryPotterNovel;\n    }\n\n    public static class ViewHolder extends RecyclerView.ViewHolder {\n\n        ImageView imageView;\n        TextView textView;\n\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n            this.imageView = itemView.findViewById(R.id.imageView);\n            this.textView = itemView.findViewById(R.id.textView);\n        }\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(context).inflate(R.layout.card_view_items, parent, false);\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n        HarryPotterNovel harryPotterNovel2 = harryPotterNovel.get(position);\n        holder.textView.setText(harryPotterNovel2.getTitle());\n        holder.imageView.setImageResource(harryPotterNovel2.getImage());\n    }\n\n    @Override\n    public int getItemCount() {\n        return harryPotterNovel.size();\n    }\n}\n</code></pre>\n<p>What is the use for the context object in this code? I'm still a beginner, please help out. If possible, can you explain the workings of the overridden methods. I don't know why all the courses I've come across do not seem to explain in detail the functionality of the methods, they just tell you to typem but they never explain why you do somethings. Can somebody explain all the methods in detail because I'm really stuck? Like why do we return ViewHolder object? Or like the LayoutInflater parameters and like how are the methods called?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":22191801,"reputation":53,"user_id":16443437,"display_name":"Gustavo Silva Costa"},"score":0,"creation_date":1631823820,"post_id":69214682,"comment_id":122334283,"body_markdown":"dummyRepository is a instance of DummyRepository defined by\n&quot;public interface DummyRepository extends MongoRepository&lt;Dummy, String&gt; {}&quot;","body":"dummyRepository is a instance of DummyRepository defined by &quot;public interface DummyRepository extends MongoRepository&lt;Dummy, String&gt; {}&quot;"}],"answers":[{"tags":[],"owner":{"account_id":20098354,"reputation":504,"user_id":14737400,"display_name":"miroana"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1631824080,"creation_date":1631824080,"answer_id":69214780,"question_id":69214682,"body_markdown":"you could use Spring AOP for this kind of tampering","title":"Spring boot - operation before repository save","body":"<p>you could use Spring AOP for this kind of tampering</p>\n"},{"tags":[],"owner":{"account_id":4645073,"reputation":1083,"user_id":3763679,"display_name":"Andreas Radauer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1631857645,"creation_date":1631857645,"answer_id":69218333,"question_id":69214682,"body_markdown":"I would have a look at the annotations of the Java Persistence API (JPA):\r\n\r\n    @PrePersist \r\n\r\n&gt; Executed before the entity manager persist operation is\r\n&gt; actually executed or cascaded. This call is synchronous with the\r\n&gt; persist operation.\r\n\r\nand\r\n\r\n    @PreUpdate\r\n\r\n&gt; Executed before the database UPDATE operation.\r\n\r\n\r\nThere are various ways to use them:\r\n\r\n&gt; This annotation may be applied to methods of an entity class, a mapped\r\n&gt; superclass, or a callback listener class.\r\n\r\nThe easiest way is to just add a Method in your Entity with this annotation. For example:\r\n\r\n     @PrePersist\r\n     @PreUpdate\r\n     protected void onCreateOrUpdate()\r\n     {\r\n         setLastChangeDate(new Date());\r\n     }","title":"Spring boot - operation before repository save","body":"<p>I would have a look at the annotations of the Java Persistence API (JPA):</p>\n<pre><code>@PrePersist \n</code></pre>\n<blockquote>\n<p>Executed before the entity manager persist operation is\nactually executed or cascaded. This call is synchronous with the\npersist operation.</p>\n</blockquote>\n<p>and</p>\n<pre><code>@PreUpdate\n</code></pre>\n<blockquote>\n<p>Executed before the database UPDATE operation.</p>\n</blockquote>\n<p>There are various ways to use them:</p>\n<blockquote>\n<p>This annotation may be applied to methods of an entity class, a mapped\nsuperclass, or a callback listener class.</p>\n</blockquote>\n<p>The easiest way is to just add a Method in your Entity with this annotation. For example:</p>\n<pre><code> @PrePersist\n @PreUpdate\n protected void onCreateOrUpdate()\n {\n     setLastChangeDate(new Date());\n }\n</code></pre>\n"}],"owner":{"account_id":22191801,"reputation":53,"user_id":16443437,"display_name":"Gustavo Silva Costa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":702,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69218333,"answer_count":2,"score":0,"last_activity_date":1653720555,"creation_date":1631823493,"question_id":69214682,"body_markdown":"I&#39;m supporter one code that have a lot of spread\r\n\r\n    dummyRepository.save(dummy)\r\n\r\nbut I need do some operations with &quot;dummy&quot; object before save, how can I do this?","title":"Spring boot - operation before repository save","body":"<p>I'm supporter one code that have a lot of spread</p>\n<pre><code>dummyRepository.save(dummy)\n</code></pre>\n<p>but I need do some operations with &quot;dummy&quot; object before save, how can I do this?</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","hibernate-mapping"],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636025670,"creation_date":1636025670,"answer_id":69838606,"question_id":69838469,"body_markdown":"The error is definitely on this line.\r\n\r\n```\r\nid bigint NOT NULL GENERATED ALWAYS AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),\r\n\r\n```\r\nIf you want a quick fix, you can change it to the one below.\r\n`SERIAL` works in Postgres just fine. Sure, it might not run on other databases, but how often does an IT project do a DB migration ? Never.\r\n\r\n```\r\nid serial PRIMARY KEY NOT NULL,\r\n\r\n```\r\n\r\nDoes this solve your problem ? Or you somehow need to solve it without SERIAL for some reason ? \r\n","title":"Why am I obtaining this error related the auto increment PK of a PosgreSQL table using Hibernate? ERROR: relation &quot;hibernate_sequence&quot; does not exist","body":"<p>The error is definitely on this line.</p>\n<pre><code>id bigint NOT NULL GENERATED ALWAYS AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),\n\n</code></pre>\n<p>If you want a quick fix, you can change it to the one below.\n<code>SERIAL</code> works in Postgres just fine. Sure, it might not run on other databases, but how often does an IT project do a DB migration ? Never.</p>\n<pre><code>id serial PRIMARY KEY NOT NULL,\n\n</code></pre>\n<p>Does this solve your problem ? Or you somehow need to solve it without SERIAL for some reason ?</p>\n"},{"tags":[],"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653720193,"creation_date":1636027941,"answer_id":69839060,"question_id":69838469,"body_markdown":"Change\r\n```\r\nGeneratedValue(strategy=GenerationType.AUTO)\r\n```\r\n\r\nTo\r\n```\r\n@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n```\r\nBecause `GenerationType.IDENTITY` create `primary key` with `auto increment` that is not modified manually.","title":"Why am I obtaining this error related the auto increment PK of a PosgreSQL table using Hibernate? ERROR: relation &quot;hibernate_sequence&quot; does not exist","body":"<p>Change</p>\n<pre><code>GeneratedValue(strategy=GenerationType.AUTO)\n</code></pre>\n<p>To</p>\n<pre><code>@GeneratedValue(strategy=GenerationType.IDENTITY)\n</code></pre>\n<p>Because <code>GenerationType.IDENTITY</code> create <code>primary key</code> with <code>auto increment</code> that is not modified manually.</p>\n"}],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1062,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69839060,"answer_count":2,"score":1,"last_activity_date":1653720193,"creation_date":1636024990,"question_id":69838469,"body_markdown":"I am working on a Spring Booot application using **Spring Data JPA**.\r\nAs database I am using PostgreSQL and I am finding some problem mapping an auto increment primary key field of a table to the related field of my entity class.\r\n\r\nIn my database I manually created this table:\r\n\r\n    CREATE TABLE IF NOT EXISTS public.&quot;user&quot;\r\n    (\r\n        id bigint NOT NULL GENERATED ALWAYS AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),\r\n        first_name character varying(50) COLLATE pg_catalog.&quot;default&quot; NOT NULL,\r\n        middle_name character varying(50) COLLATE pg_catalog.&quot;default&quot; NOT NULL,\r\n        surname character varying(50) COLLATE pg_catalog.&quot;default&quot; NOT NULL,\r\n        CONSTRAINT user_pkey PRIMARY KEY (id)\r\n    )\r\n\r\nPlease not that the **id** field (my PK) is defined as a **bigint** with the **GENERATED ALWAYS** constraint and not as a **serial** (this because serial data type is deprecated because it is not part of the SQL standard).\r\n\r\nThen I created this entity class mapping this table:\r\n\r\n\tpackage com.easydefi.users.entity;\r\n\timport java.io.Serializable;\r\n\timport java.util.Date;\r\n\timport javax.persistence.Column;\r\n\timport javax.persistence.Entity;\r\n\timport javax.persistence.GeneratedValue;\r\n\timport javax.persistence.GenerationType;\r\n\timport javax.persistence.Id;\r\n\timport javax.persistence.Table;\r\n\timport lombok.Data;\r\n\r\n\t@Entity\r\n\t@Table(name = &quot;portal_user&quot;)\r\n\t@Data\r\n\tpublic class User implements Serializable {\r\n\t\t \r\n\t\tprivate static final long serialVersionUID = 5062673109048808267L;\r\n\t\t\r\n\t\t@Id\r\n\t\t@Column(name = &quot;id&quot;)\r\n\t\tprivate int id;\r\n\t\t\r\n\t\t@Column(name = &quot;first_name&quot;)\r\n\t\tprivate String firstName;\r\n\t\t\r\n\t\t@Column(name = &quot;middle_name&quot;)\r\n\t\tprivate String middleName;\r\n\t\t\r\n\t\t@Column(name = &quot;surname&quot;)\r\n\t\tprivate String surname;\r\n\t\t\r\n\t\tpublic User(String firstName, String middleName, String surname, char sex, Date birthdate, String taxCode,\r\n\t\t\t\tString eMail, String contactNumber, Date createdAt) {\r\n\t\t\tsuper();\r\n\t\t\tthis.firstName = firstName;\r\n\t\t\tthis.middleName = middleName;\r\n\t\t\tthis.surname = surname;\r\n\t\t}\r\n\t\t\r\n\r\n\t}\r\n\r\nThen I have this repository interface (at the moment it is empty because I am testing only the **save()** method directly provided by **JpaRepository**):\r\n\r\n    public interface UsersRepository extends JpaRepository&lt;User, Integer&gt; {\r\n    \r\n    }\r\n\r\n\r\nFinnally I created this simple unit test method in order to test the insert of a new record via the **save()** method of my repository:\r\n\r\n    @SpringBootTest()\r\n    @ContextConfiguration(classes = GetUserWsApplication.class)\r\n    @TestMethodOrder(OrderAnnotation.class)\r\n    public class UserRepositoryTest {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate UsersRepository userRepository;\r\n    \t\r\n    \t\r\n    \t@Test\r\n    \t@Order(1)\r\n    \tpublic void testInsertUser() {\r\n    \t\tUser user = new User(&quot;Mario&quot;, null, &quot;Rossi&quot;, &#39;M&#39;, new Date(), &quot;XXX&quot;, &quot;xxx@gmail.com&quot;, &quot;329123456&quot;, new Date());\r\n    \t\t\r\n    \t\tuserRepository.save(user);\r\n    \t\t\r\n    \t\tassertTrue(true);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }\r\n\r\nthe problem is that when the **save()** method is performed I am obtaining this exception:\r\n\r\n    Hibernate: \r\n        insert \r\n        into\r\n            portal_user\r\n            (first_name, middle_name, surname, id) \r\n        values\r\n            (?, ?, ?, ?)\r\n    2021-11-04 12:17:39.576  WARN 11436 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 428C9\r\n    2021-11-04 12:17:39.578 ERROR 11436 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: cannot insert a non-DEFAULT value into column &quot;id&quot;\r\n      Detail: Column &quot;id&quot; is an identity column defined as GENERATED ALWAYS.\r\n      Hint: Use OVERRIDING SYSTEM VALUE to override.\r\n\r\nSo I try to modify the mapping of the **id** field into my entity class, in this way:\r\n\r\n\t@Id\r\n\t@Column(name = &quot;id&quot;)\r\n\t@GeneratedValue(strategy=GenerationType.AUTO)\r\n\tprivate int id;\r\n\r\nBut running my test method now the **save()** method execution give me this other error:\r\n\r\n    Hibernate: \r\n        select\r\n            nextval (&#39;hibernate_sequence&#39;)\r\n    2021-11-04 12:20:21.133  WARN 11639 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42P01\r\n    2021-11-04 12:20:21.136 ERROR 11639 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: relation &quot;hibernate_sequence&quot; does not exist\r\n      Position: 17\r\n\r\nWhat is the problem? What am I missing? How can I try to fix this issue?\r\n\r\n","title":"Why am I obtaining this error related the auto increment PK of a PosgreSQL table using Hibernate? ERROR: relation &quot;hibernate_sequence&quot; does not exist","body":"<p>I am working on a Spring Booot application using <strong>Spring Data JPA</strong>.\nAs database I am using PostgreSQL and I am finding some problem mapping an auto increment primary key field of a table to the related field of my entity class.</p>\n<p>In my database I manually created this table:</p>\n<pre><code>CREATE TABLE IF NOT EXISTS public.&quot;user&quot;\n(\n    id bigint NOT NULL GENERATED ALWAYS AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),\n    first_name character varying(50) COLLATE pg_catalog.&quot;default&quot; NOT NULL,\n    middle_name character varying(50) COLLATE pg_catalog.&quot;default&quot; NOT NULL,\n    surname character varying(50) COLLATE pg_catalog.&quot;default&quot; NOT NULL,\n    CONSTRAINT user_pkey PRIMARY KEY (id)\n)\n</code></pre>\n<p>Please not that the <strong>id</strong> field (my PK) is defined as a <strong>bigint</strong> with the <strong>GENERATED ALWAYS</strong> constraint and not as a <strong>serial</strong> (this because serial data type is deprecated because it is not part of the SQL standard).</p>\n<p>Then I created this entity class mapping this table:</p>\n<pre><code>package com.easydefi.users.entity;\nimport java.io.Serializable;\nimport java.util.Date;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\nimport lombok.Data;\n\n@Entity\n@Table(name = &quot;portal_user&quot;)\n@Data\npublic class User implements Serializable {\n     \n    private static final long serialVersionUID = 5062673109048808267L;\n    \n    @Id\n    @Column(name = &quot;id&quot;)\n    private int id;\n    \n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n    \n    @Column(name = &quot;middle_name&quot;)\n    private String middleName;\n    \n    @Column(name = &quot;surname&quot;)\n    private String surname;\n    \n    public User(String firstName, String middleName, String surname, char sex, Date birthdate, String taxCode,\n            String eMail, String contactNumber, Date createdAt) {\n        super();\n        this.firstName = firstName;\n        this.middleName = middleName;\n        this.surname = surname;\n    }\n    \n\n}\n</code></pre>\n<p>Then I have this repository interface (at the moment it is empty because I am testing only the <strong>save()</strong> method directly provided by <strong>JpaRepository</strong>):</p>\n<pre><code>public interface UsersRepository extends JpaRepository&lt;User, Integer&gt; {\n\n}\n</code></pre>\n<p>Finnally I created this simple unit test method in order to test the insert of a new record via the <strong>save()</strong> method of my repository:</p>\n<pre><code>@SpringBootTest()\n@ContextConfiguration(classes = GetUserWsApplication.class)\n@TestMethodOrder(OrderAnnotation.class)\npublic class UserRepositoryTest {\n    \n    @Autowired\n    private UsersRepository userRepository;\n    \n    \n    @Test\n    @Order(1)\n    public void testInsertUser() {\n        User user = new User(&quot;Mario&quot;, null, &quot;Rossi&quot;, 'M', new Date(), &quot;XXX&quot;, &quot;xxx@gmail.com&quot;, &quot;329123456&quot;, new Date());\n        \n        userRepository.save(user);\n        \n        assertTrue(true);\n        \n    }\n    \n}\n</code></pre>\n<p>the problem is that when the <strong>save()</strong> method is performed I am obtaining this exception:</p>\n<pre><code>Hibernate: \n    insert \n    into\n        portal_user\n        (first_name, middle_name, surname, id) \n    values\n        (?, ?, ?, ?)\n2021-11-04 12:17:39.576  WARN 11436 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 428C9\n2021-11-04 12:17:39.578 ERROR 11436 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: cannot insert a non-DEFAULT value into column &quot;id&quot;\n  Detail: Column &quot;id&quot; is an identity column defined as GENERATED ALWAYS.\n  Hint: Use OVERRIDING SYSTEM VALUE to override.\n</code></pre>\n<p>So I try to modify the mapping of the <strong>id</strong> field into my entity class, in this way:</p>\n<pre><code>@Id\n@Column(name = &quot;id&quot;)\n@GeneratedValue(strategy=GenerationType.AUTO)\nprivate int id;\n</code></pre>\n<p>But running my test method now the <strong>save()</strong> method execution give me this other error:</p>\n<pre><code>Hibernate: \n    select\n        nextval ('hibernate_sequence')\n2021-11-04 12:20:21.133  WARN 11639 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42P01\n2021-11-04 12:20:21.136 ERROR 11639 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: relation &quot;hibernate_sequence&quot; does not exist\n  Position: 17\n</code></pre>\n<p>What is the problem? What am I missing? How can I try to fix this issue?</p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb"],"owner":{"account_id":21955435,"reputation":11,"user_id":16234065,"display_name":"user16234065"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653720070,"creation_date":1653677212,"question_id":72409867,"body_markdown":"I&#39;m trying to add a binary set attribute to my DynamoDb Table. Each element in the set is an `InternalImage` proto.\r\n\r\n```java\r\n@DynamoDBAttribute\r\n@DynamoDBTypeConverted(converter = Converters.InternalImagesConverter::class)\r\nvar image_assets: Set&lt;InternalImage&gt;? = null\r\n```\r\n\r\n```java\r\nclass InternalImagesConverter : DynamoDBTypeConverter&lt;Set&lt;ByteString&gt;, Set&lt;InternalImage&gt;&gt; {\r\n  override fun convert(input: Set&lt;InternalImage&gt;?): Set&lt;ByteString&gt;? =\r\n    input?.map { it.encodeByteString() }?.toSet()\r\n\r\n  override fun unconvert(input: Set&lt;ByteString&gt;?): Set&lt;InternalImage&gt;? =\r\n    input?.map { InternalImage.ADAPTER.decode(it) }?.toSet()\r\n}\r\n```\r\n\r\nI get the following error when I try to access any element within `unconvert`:\r\n```java\r\nClassCastException: class java.lang.String cannot be cast to class okio.ByteString\r\n```\r\nDigging into this, it looks like DynamoDbMapper casts my ByteString into a String because the `attributeType` of my field is set to `SS` or &quot;String Set&quot; instead of &quot;Binary Set&quot;. So, I tried specifying the type by adding an annotation.\r\n```java\r\n@DynamoDBAttribute\r\n@DynamoDBTyped(value = DynamoDBMapperFieldModel.DynamoDBAttributeType.BS)\r\n@DynamoDBTypeConverted(converter = Converters.InternalImagesConverter::class)\r\nvar image_assets: Set&lt;InternalImage&gt;? = null\r\n```\r\nError:\r\n```java\r\nDynamoDBMappingException: ServiceItem[image_assets] could not be mapped for type Set&lt;Object&gt;\r\nDynamoDBMappingException: type [class java.lang.Object] is not supported; no conversion from class java.nio.ByteBuffer\r\n```\r\n\r\nI&#39;ve tried using `ByteArray` and `ByteBuffer`. I&#39;ve also tried changing my converter to convert just ByteString/ByteArray/ByteBuffer to InternalImage thinking that maybe DynamoDbMapper handles the set part. All resulted in a similar error.\r\n\r\nHas anyone successfully set up a binary set attribute in DynamoDb before? I&#39;m not sure what else to try. ","title":"How to set up a binary set (BS) attribute in DynamoDB","body":"<p>I'm trying to add a binary set attribute to my DynamoDb Table. Each element in the set is an <code>InternalImage</code> proto.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DynamoDBAttribute\n@DynamoDBTypeConverted(converter = Converters.InternalImagesConverter::class)\nvar image_assets: Set&lt;InternalImage&gt;? = null\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class InternalImagesConverter : DynamoDBTypeConverter&lt;Set&lt;ByteString&gt;, Set&lt;InternalImage&gt;&gt; {\n  override fun convert(input: Set&lt;InternalImage&gt;?): Set&lt;ByteString&gt;? =\n    input?.map { it.encodeByteString() }?.toSet()\n\n  override fun unconvert(input: Set&lt;ByteString&gt;?): Set&lt;InternalImage&gt;? =\n    input?.map { InternalImage.ADAPTER.decode(it) }?.toSet()\n}\n</code></pre>\n<p>I get the following error when I try to access any element within <code>unconvert</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ClassCastException: class java.lang.String cannot be cast to class okio.ByteString\n</code></pre>\n<p>Digging into this, it looks like DynamoDbMapper casts my ByteString into a String because the <code>attributeType</code> of my field is set to <code>SS</code> or &quot;String Set&quot; instead of &quot;Binary Set&quot;. So, I tried specifying the type by adding an annotation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DynamoDBAttribute\n@DynamoDBTyped(value = DynamoDBMapperFieldModel.DynamoDBAttributeType.BS)\n@DynamoDBTypeConverted(converter = Converters.InternalImagesConverter::class)\nvar image_assets: Set&lt;InternalImage&gt;? = null\n</code></pre>\n<p>Error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DynamoDBMappingException: ServiceItem[image_assets] could not be mapped for type Set&lt;Object&gt;\nDynamoDBMappingException: type [class java.lang.Object] is not supported; no conversion from class java.nio.ByteBuffer\n</code></pre>\n<p>I've tried using <code>ByteArray</code> and <code>ByteBuffer</code>. I've also tried changing my converter to convert just ByteString/ByteArray/ByteBuffer to InternalImage thinking that maybe DynamoDbMapper handles the set part. All resulted in a similar error.</p>\n<p>Has anyone successfully set up a binary set attribute in DynamoDb before? I'm not sure what else to try.</p>\n"},{"tags":["java","android","google-cloud-platform","google-cloud-vision"],"answers":[{"tags":[],"owner":{"account_id":4680752,"reputation":6906,"user_id":3789527,"accept_rate":70,"display_name":"LS_"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1512638706,"creation_date":1512638706,"answer_id":47691641,"question_id":47691464,"body_markdown":"An example on how to add language hints to `ImageContext` should be:\r\n\r\n    ImageContext imageContext = new ImageContext();\r\n    String [] languages = { &quot;zh-TW&quot; };\r\n    imageContext.setLanguageHints(Arrays.asList(languages));","title":"how to set setLanguageHints","body":"<p>An example on how to add language hints to <code>ImageContext</code> should be:</p>\n\n<pre><code>ImageContext imageContext = new ImageContext();\nString [] languages = { \"zh-TW\" };\nimageContext.setLanguageHints(Arrays.asList(languages));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":907561,"reputation":126,"user_id":942126,"display_name":"bob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653719693,"creation_date":1653719693,"answer_id":72413455,"question_id":47691464,"body_markdown":"The ImageContext class has changed to a builder pattern \r\n\r\n    ImageContext.newBuilder().addLanguageHints(&quot;en&quot;)","title":"how to set setLanguageHints","body":"<p>The ImageContext class has changed to a builder pattern</p>\n<pre><code>ImageContext.newBuilder().addLanguageHints(&quot;en&quot;)\n</code></pre>\n"}],"owner":{"account_id":12400062,"reputation":13,"user_id":9037743,"display_name":"Tipanun Koman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":486,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":47691641,"answer_count":2,"score":1,"last_activity_date":1653719693,"creation_date":1512638103,"question_id":47691464,"body_markdown":" // Base64 encode the **`JPEG`**\r\n                    \r\n\r\n    base64EncodedImage.encodeContent(imageBytes);\r\n    annotateImageRequest.setImage(base64EncodedImage);\r\n\r\n                        // add the features we want\r\n                        annotateImageRequest.setFeatures(new ArrayList&lt;Feature&gt;() {{\r\n                            Feature textDetection = new Feature();\r\n                            textDetection.setType(&quot;TEXT_DETECTION&quot;);\r\n                            add(textDetection);\r\n                        }});\r\n                        ImageContext ImageCon = new ImageContext();\r\n                        ImageCon.cou(&quot;th,us&quot;);\r\n                        annotateImageRequest.setImageContext(ImageCon);\r\n                        // Add the list of one thing} to the request\r\n                        add(annotateImageRequest);\r\n                    }});","title":"how to set setLanguageHints","body":"<p>// Base64 encode the <strong><code>JPEG</code></strong></p>\n\n<pre><code>base64EncodedImage.encodeContent(imageBytes);\nannotateImageRequest.setImage(base64EncodedImage);\n\n                    // add the features we want\n                    annotateImageRequest.setFeatures(new ArrayList&lt;Feature&gt;() {{\n                        Feature textDetection = new Feature();\n                        textDetection.setType(\"TEXT_DETECTION\");\n                        add(textDetection);\n                    }});\n                    ImageContext ImageCon = new ImageContext();\n                    ImageCon.cou(\"th,us\");\n                    annotateImageRequest.setImageContext(ImageCon);\n                    // Add the list of one thing} to the request\n                    add(annotateImageRequest);\n                }});\n</code></pre>\n"},{"tags":["java","opengl","glsl","lwjgl","uniform"],"comments":[{"owner":{"account_id":12716386,"reputation":1527,"user_id":9238288,"display_name":"jackw11111"},"score":1,"creation_date":1653714373,"post_id":72412019,"comment_id":127923354,"body_markdown":"Since you don&#39;t use it anywhere, the compiler optimizes it out.","body":"Since you don&#39;t use it anywhere, the compiler optimizes it out."}],"answers":[{"tags":[],"owner":{"account_id":7322082,"reputation":205321,"user_id":5577765,"display_name":"Rabbid76"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653719464,"creation_date":1653719464,"answer_id":72413436,"question_id":72412019,"body_markdown":"The glsl compiler and linker optimizes the code. Unnecessary code will be removed, and unnecessary uniforms and attributes will not become active program resources. If uniform variables are not used or are only used in a part of the code that is itself optimized out, they do not become active program resources. `lightDirection`, `specularFactor` and `diffuseFactor` are unused variables and therefore not active resources thus no active resources and therefore you cannot get a uniform location for these variables.","title":"Why is my uniform not initializing in openGL?","body":"<p>The glsl compiler and linker optimizes the code. Unnecessary code will be removed, and unnecessary uniforms and attributes will not become active program resources. If uniform variables are not used or are only used in a part of the code that is itself optimized out, they do not become active program resources. <code>lightDirection</code>, <code>specularFactor</code> and <code>diffuseFactor</code> are unused variables and therefore not active resources thus no active resources and therefore you cannot get a uniform location for these variables.</p>\n"}],"owner":{"account_id":24248985,"reputation":23,"user_id":18200270,"display_name":"kibby"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72413436,"answer_count":1,"score":2,"last_activity_date":1653719464,"creation_date":1653695991,"question_id":72412019,"body_markdown":"Why are my uniform vector and float not being initialized? My shader code compiles correctly, my shader is compiling properly, but when I try to get the uniform location of my vec4 ``lightDirection``, and floats `specularFactor` and `diffuseFactor`, it gives me an error. Note I haven&#39;t actually used these uniforms for anything yet, however, that shouldn&#39;t matter.\r\n\r\nHere is my vertex shader, which gets all uniform locations properly:\r\n\r\n    #version 330\r\n    layout (location = 0) in vec3 position;\r\n    layout (location = 1) in vec2 texture_coord;\r\n    layout (location = 2) in vec3 normal;\r\n    layout (location = 3) in vec3 fNormal;\r\n\r\n    uniform mat4 worldMat;\r\n    uniform mat4 projection;\r\n    uniform mat4 transform;\r\n\r\n    out vec2 tex;\r\n    out vec3 n;\r\n    out vec3 fn;\r\n\r\n    void main() {\r\n\t    fn=fNormal;\r\n\t    n=normal;\r\n\t    tex = texture_coord;\r\n\t    gl_Position = projection * worldMat * transform * vec4(position, 1);\r\n\t\r\n    }\r\n\r\nHere is my fragment shader, which only gets the texture sample uniform location:\r\n\r\n    #version 330\r\n\tuniform sampler2D sampleTexture;\r\n\tuniform vec4 lightDirection;\r\n\tuniform float specularFactor;\r\n\tuniform float diffuseFactor;\r\n\r\n\r\n\tin vec2 tex;\r\n\tin vec3 n;\r\n\tin vec3 fn;\r\n\r\n\tout vec4 fragColor;\r\n\r\n\tvoid main() {\r\n\t\tfragColor=texture(sampleTexture, tex);\r\n\t\r\n\t}\r\n\r\nHere is the method I use to get uniform locations (I am using Java):\r\n\r\n\tpublic int loadUniform(String uniformName)throws Exception{\r\n\t\t\tint iD= glGetUniformLocation(program,uniformName);\r\n\t\t\tSystem.out.println(&quot;PROGRAM: &quot;+program+&quot; UNIFORM: &quot;+uniformName+&quot; &quot;+iD);\r\n\t\t\tif(iD==-1) {\r\n\t\t\t\t\tthrow new Exception(&quot;uniform:&quot;+uniformName+&quot; not initialized&quot;);\r\n\t\t\t}\r\n\t\t\treturn iD;\r\n\t}\r\n\r\nNow, here is what is printed in console by print statment/exception. Am confusion. Numbers definitely seem wrong, but whatevs. I don&#39;t understaaaaand.\r\n\r\n\tjava.lang.Exception: uniform:lightDirection not initialized\r\n\t\tat shader_src.Shader.loadUniform(Shader.java:273)\r\n\t\tat shader_src.StaticShader.initValues(StaticShader.java:51)\r\n\t\tat application.Main.main(Main.java:94)\r\n\tPROGRAM: 4 UNIFORM: worldMat 9\r\n\tPROGRAM: 4 UNIFORM: projection 5\r\n\tPROGRAM: 4 UNIFORM: transform 0\r\n\tPROGRAM: 4 UNIFORM: sampleTexture 4\r\n\tPROGRAM: 4 UNIFORM: lightDirection -1","title":"Why is my uniform not initializing in openGL?","body":"<p>Why are my uniform vector and float not being initialized? My shader code compiles correctly, my shader is compiling properly, but when I try to get the uniform location of my vec4 <code>lightDirection</code>, and floats <code>specularFactor</code> and <code>diffuseFactor</code>, it gives me an error. Note I haven't actually used these uniforms for anything yet, however, that shouldn't matter.</p>\n<p>Here is my vertex shader, which gets all uniform locations properly:</p>\n<pre><code>#version 330\nlayout (location = 0) in vec3 position;\nlayout (location = 1) in vec2 texture_coord;\nlayout (location = 2) in vec3 normal;\nlayout (location = 3) in vec3 fNormal;\n\nuniform mat4 worldMat;\nuniform mat4 projection;\nuniform mat4 transform;\n\nout vec2 tex;\nout vec3 n;\nout vec3 fn;\n\nvoid main() {\n    fn=fNormal;\n    n=normal;\n    tex = texture_coord;\n    gl_Position = projection * worldMat * transform * vec4(position, 1);\n\n}\n</code></pre>\n<p>Here is my fragment shader, which only gets the texture sample uniform location:</p>\n<pre><code>#version 330\nuniform sampler2D sampleTexture;\nuniform vec4 lightDirection;\nuniform float specularFactor;\nuniform float diffuseFactor;\n\n\nin vec2 tex;\nin vec3 n;\nin vec3 fn;\n\nout vec4 fragColor;\n\nvoid main() {\n    fragColor=texture(sampleTexture, tex);\n\n}\n</code></pre>\n<p>Here is the method I use to get uniform locations (I am using Java):</p>\n<pre><code>public int loadUniform(String uniformName)throws Exception{\n        int iD= glGetUniformLocation(program,uniformName);\n        System.out.println(&quot;PROGRAM: &quot;+program+&quot; UNIFORM: &quot;+uniformName+&quot; &quot;+iD);\n        if(iD==-1) {\n                throw new Exception(&quot;uniform:&quot;+uniformName+&quot; not initialized&quot;);\n        }\n        return iD;\n}\n</code></pre>\n<p>Now, here is what is printed in console by print statment/exception. Am confusion. Numbers definitely seem wrong, but whatevs. I don't understaaaaand.</p>\n<pre><code>java.lang.Exception: uniform:lightDirection not initialized\n    at shader_src.Shader.loadUniform(Shader.java:273)\n    at shader_src.StaticShader.initValues(StaticShader.java:51)\n    at application.Main.main(Main.java:94)\nPROGRAM: 4 UNIFORM: worldMat 9\nPROGRAM: 4 UNIFORM: projection 5\nPROGRAM: 4 UNIFORM: transform 0\nPROGRAM: 4 UNIFORM: sampleTexture 4\nPROGRAM: 4 UNIFORM: lightDirection -1\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":1,"creation_date":1653718013,"post_id":72412971,"comment_id":127923722,"body_markdown":"BTW, according to my knowledge, you can&#39;t stop that from happening. Android can only notify you about that receiver. But, you _cant_ change the android functionality. Only you can change your app&#39;s functionality. But, the android allows us to be able to read these changes. Not write them","body":"BTW, according to my knowledge, you can&#39;t stop that from happening. Android can only notify you about that receiver. But, you <i>cant</i> change the android functionality. Only you can change your app&#39;s functionality. But, the android allows us to be able to read these changes. Not write them"},{"owner":{"account_id":25073739,"reputation":316,"user_id":18972846,"display_name":"TechGeek"},"score":0,"creation_date":1653718137,"post_id":72412971,"comment_id":127923730,"body_markdown":"We cannot intercept the intent and do something before device goes off?","body":"We cannot intercept the intent and do something before device goes off?"},{"owner":{"account_id":25073739,"reputation":316,"user_id":18972846,"display_name":"TechGeek"},"score":0,"creation_date":1653718907,"post_id":72412971,"comment_id":127923801,"body_markdown":"But it is achievable because I have a phone that does the same","body":"But it is achievable because I have a phone that does the same"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1653719946,"post_id":72412971,"comment_id":127923931,"body_markdown":"`that does the same` becuase that is coded that way by Samsung. We can&#39;t do that.","body":"<code>that does the same</code> becuase that is coded that way by Samsung. We can&#39;t do that."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1653719966,"post_id":72412971,"comment_id":127923937,"body_markdown":"`We cannot intercept the intent and do something before device goes off?` yes you can. But, what can u do when the drive is switched off?","body":"<code>We cannot intercept the intent and do something before device goes off?</code> yes you can. But, what can u do when the drive is switched off?"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1653720016,"post_id":72412971,"comment_id":127923948,"body_markdown":"AND, also, you can intercept the intent. But, you can&#39;t stop the task from happening. You can surely do something before device turns off but can&#39;t stop it from turning off","body":"AND, also, you can intercept the intent. But, you can&#39;t stop the task from happening. You can surely do something before device turns off but can&#39;t stop it from turning off"},{"owner":{"account_id":25073739,"reputation":316,"user_id":18972846,"display_name":"TechGeek"},"score":0,"creation_date":1653720783,"post_id":72412971,"comment_id":127924046,"body_markdown":"Heading over to Samsung devops to get some help.","body":"Heading over to Samsung devops to get some help."},{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":2,"creation_date":1653725907,"post_id":72412971,"comment_id":127924816,"body_markdown":"Phone manufacturers modify the version of Android their devices run, so they&#39;re able to add functionality like changing the UI when you try to power off, and they&#39;re able to grant their own apps privileges that a normal app can&#39;t get, without root anyway. So just because a phone has a feature baked in, it doesn&#39;t mean you (a random person) can write an app that does the same - in fact it&#39;s very unlikely for something like this, where you&#39;re interfering with system functionality","body":"Phone manufacturers modify the version of Android their devices run, so they&#39;re able to add functionality like changing the UI when you try to power off, and they&#39;re able to grant their own apps privileges that a normal app can&#39;t get, without root anyway. So just because a phone has a feature baked in, it doesn&#39;t mean you (a random person) can write an app that does the same - in fact it&#39;s very unlikely for something like this, where you&#39;re interfering with system functionality"}],"owner":{"account_id":25073739,"reputation":316,"user_id":18972846,"display_name":"TechGeek"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1653717716,"creation_date":1653713794,"question_id":72412971,"body_markdown":"Hey guys I have an app that has an antitheft feature called `AnitPowerOff`, this feature needs to stop the user from shutting down the phone while in the locked state. Actually there is a CountDownTimer that times out and then the app locks the device. So I have this Samsung Galaxy A10 smartphone and it whenever I lock the screen and then try to shut down after I click the shut down button then it requires a password. Is there a way of programatically achieving this with Android Java. I have tried using a BroadcatReceiever but the app goes off and does not give the app time to execute the ode inside `OnReceive`. Here is the BroadcastReceiver attempt. I need to use a service that listens on shutdown events.\r\n```\r\n public class ShutdownReceiver : BroadcastReceiver\r\n    {\r\n       \r\n        public override void OnReceive(Context context, Intent intent)\r\n        {\r\n            if (intent.Action == Intent.ActionShutdown)\r\n            {\r\n                Toast.MakeText(context,&quot;Your trying to shut down the device&quot;,ToastLength.Long).Show();\r\n                //require some form of pattern from the device\r\n            }\r\n        }\r\n    }\r\n```\r\nThe code is in C# but any Java code is welcome as I can easily convert it to C# for Xamarin Android. Is there a way to start a service that will capture when the shutdown button is clicked and then before the action goes through we tell the system to require password from the user?","title":"Add a device auth before shutting down the device without unlock","body":"<p>Hey guys I have an app that has an antitheft feature called <code>AnitPowerOff</code>, this feature needs to stop the user from shutting down the phone while in the locked state. Actually there is a CountDownTimer that times out and then the app locks the device. So I have this Samsung Galaxy A10 smartphone and it whenever I lock the screen and then try to shut down after I click the shut down button then it requires a password. Is there a way of programatically achieving this with Android Java. I have tried using a BroadcatReceiever but the app goes off and does not give the app time to execute the ode inside <code>OnReceive</code>. Here is the BroadcastReceiver attempt. I need to use a service that listens on shutdown events.</p>\n<pre><code> public class ShutdownReceiver : BroadcastReceiver\n    {\n       \n        public override void OnReceive(Context context, Intent intent)\n        {\n            if (intent.Action == Intent.ActionShutdown)\n            {\n                Toast.MakeText(context,&quot;Your trying to shut down the device&quot;,ToastLength.Long).Show();\n                //require some form of pattern from the device\n            }\n        }\n    }\n</code></pre>\n<p>The code is in C# but any Java code is welcome as I can easily convert it to C# for Xamarin Android. Is there a way to start a service that will capture when the shutdown button is clicked and then before the action goes through we tell the system to require password from the user?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":4297204,"reputation":2499,"user_id":9926179,"display_name":"b.s"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653716368,"creation_date":1653716368,"answer_id":72413178,"question_id":72410545,"body_markdown":"&gt; I need to intercept **every request** made to a Spring boot\r\n&gt; application\r\n\r\nOne simple way to achieve this by implementing the `Servlet Filter`.\r\n\r\n    @Component\r\n    public class RequestFilter implements Filter {\r\n      \r\n      @Override\r\n      public void init(FilterConfig config) throws ServletException {}\r\n         \r\n      @Override\r\n      public void doFilter(ServletRequest request, ServletResponse response, FilterChain filterChain)\r\n          throws IOException, ServletException {\r\n        HttpServletRequest httpRequest = (HttpServletRequest) request;\r\n        // TODO: Here you can read the request content as per your need from httpRequest object\r\n        filterChain.doFilter(request, response);\r\n      }\r\n      \r\n      @Override\r\n      public void destroy() {}\r\n      \r\n    }\r\n\r\n","title":"Filter the content in POST, UPDATE, DELETE REST requests using Java 8 and Maven with Spring 4.3 filter","body":"<blockquote>\n<p>I need to intercept <strong>every request</strong> made to a Spring boot\napplication</p>\n</blockquote>\n<p>One simple way to achieve this by implementing the <code>Servlet Filter</code>.</p>\n<pre><code>@Component\npublic class RequestFilter implements Filter {\n  \n  @Override\n  public void init(FilterConfig config) throws ServletException {}\n     \n  @Override\n  public void doFilter(ServletRequest request, ServletResponse response, FilterChain filterChain)\n      throws IOException, ServletException {\n    HttpServletRequest httpRequest = (HttpServletRequest) request;\n    // TODO: Here you can read the request content as per your need from httpRequest object\n    filterChain.doFilter(request, response);\n  }\n  \n  @Override\n  public void destroy() {}\n  \n}\n</code></pre>\n"}],"owner":{"account_id":8154587,"reputation":53,"user_id":6419762,"display_name":"Alexandre Barbosa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":499,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653716368,"creation_date":1653681966,"question_id":72410545,"body_markdown":"I need to intercept every request made to a Spring boot application, read the content in the Header, the Body, parsing then and map few fields in the JSON, when it is possible, before to store in a specific table of the application.\r\n\r\nI&#39;ve been trying to use the RequestContextFilter class [like it is described here][1] but it is not working for me. When I make a request to /v1/account/ endpoint, for example, nothing is printed in the log and nothing happen if I try to debug. I believe I am not doing right. \r\n\r\nI really appreciate any idea, example. This project is my personal example project but I will have to apply this solution in Spring 4.3.x.\r\n\r\nI created this filter class as following here but [I also shared the project here][2].\r\n\r\n    @Configuration\r\n    public class AuditingRequestContextFilter {\r\n        @Bean\r\n        public FilterRegistrationBean contextFilterRegistrationBean() {\r\n            FilterRegistrationBean registrationBean = new FilterRegistrationBean();\r\n            RequestContextFilter contextFilter = new RequestContextFilter();\r\n            registrationBean.setFilter(contextFilter);\r\n            registrationBean.setOrder(1);\r\n            System.out.println(&quot;AuditingRequestContextFilter.contextFilterRegistrationBean() - registrationBean: &quot; + registrationBean);\r\n            return registrationBean;\r\n        }\r\n    }\r\n\r\nI also added the spring.factories but I don&#39;t know if it is really necessary.\r\n\r\nThe Spring documentation [only provides this content][3] but please, someone share a simple example to make the filter be called every time any request is made to any controller in the application?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/22453707/how-to-define-servlet-filter-order-of-execution-in-spring-boot-application/23528421#23528421\r\n  [2]: https://github.com/Alexandre1202/desafio-dev-api-rest/blob/master/src/main/java/br/com/dockbank/bankaccount/common/config/AuditingRequestContextFilter.java\r\n  [3]: https://docs.spring.io/spring-framework/docs/4.3.26.RELEASE/spring-framework-reference/htmlsingle/#beans-factory-scopes-other","title":"Filter the content in POST, UPDATE, DELETE REST requests using Java 8 and Maven with Spring 4.3 filter","body":"<p>I need to intercept every request made to a Spring boot application, read the content in the Header, the Body, parsing then and map few fields in the JSON, when it is possible, before to store in a specific table of the application.</p>\n<p>I've been trying to use the RequestContextFilter class <a href=\"https://stackoverflow.com/questions/22453707/how-to-define-servlet-filter-order-of-execution-in-spring-boot-application/23528421#23528421\">like it is described here</a> but it is not working for me. When I make a request to /v1/account/ endpoint, for example, nothing is printed in the log and nothing happen if I try to debug. I believe I am not doing right.</p>\n<p>I really appreciate any idea, example. This project is my personal example project but I will have to apply this solution in Spring 4.3.x.</p>\n<p>I created this filter class as following here but <a href=\"https://github.com/Alexandre1202/desafio-dev-api-rest/blob/master/src/main/java/br/com/dockbank/bankaccount/common/config/AuditingRequestContextFilter.java\" rel=\"nofollow noreferrer\">I also shared the project here</a>.</p>\n<pre><code>@Configuration\npublic class AuditingRequestContextFilter {\n    @Bean\n    public FilterRegistrationBean contextFilterRegistrationBean() {\n        FilterRegistrationBean registrationBean = new FilterRegistrationBean();\n        RequestContextFilter contextFilter = new RequestContextFilter();\n        registrationBean.setFilter(contextFilter);\n        registrationBean.setOrder(1);\n        System.out.println(&quot;AuditingRequestContextFilter.contextFilterRegistrationBean() - registrationBean: &quot; + registrationBean);\n        return registrationBean;\n    }\n}\n</code></pre>\n<p>I also added the spring.factories but I don't know if it is really necessary.</p>\n<p>The Spring documentation <a href=\"https://docs.spring.io/spring-framework/docs/4.3.26.RELEASE/spring-framework-reference/htmlsingle/#beans-factory-scopes-other\" rel=\"nofollow noreferrer\">only provides this content</a> but please, someone share a simple example to make the filter be called every time any request is made to any controller in the application?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1653717265,"post_id":72413171,"comment_id":127923654,"body_markdown":"For [example](https://stackoverflow.com/questions/22396282/how-to-set-text-like-placeholder-in-jtextfield-in-swing/22396303#22396303)","body":"For <a href=\"https://stackoverflow.com/questions/22396282/how-to-set-text-like-placeholder-in-jtextfield-in-swing/22396303#22396303\">example</a>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1653717425,"post_id":72413171,"comment_id":127923672,"body_markdown":"And [example](https://tips4java.wordpress.com/2009/11/29/text-prompt/)","body":"And <a href=\"https://tips4java.wordpress.com/2009/11/29/text-prompt/\" rel=\"nofollow noreferrer\">example</a>"}],"owner":{"account_id":25083391,"reputation":45,"user_id":19149184,"display_name":"NIXON"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1653720246,"answer_count":0,"score":0,"last_activity_date":1653716305,"creation_date":1653716305,"question_id":72413171,"body_markdown":"\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\nThis is my code, I want to add a placeholder to the JtextField, I have watched several YouTube videos but they don&#39;t work, I have tried with libraries but it didn&#39;t work either, I have tried with JtextArea but it doesn&#39;t work either I have tried with several things but it still doesn&#39;t work. \r\nHere is my code and an image where I want to add the placeholder. [![enter image description here][1]][1]\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    package Mantenimiento;\r\n\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.WindowEvent;\r\n    import java.awt.event.WindowListener;\r\n\r\n    import javax.swing.JButton;\r\n    import javax.swing.JDialog;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTable;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.table.DefaultTableModel;\r\n\r\n\r\n    public class Alumno extends JDialog implements WindowListener {\r\n\r\n    \t/**\r\n    \t * \r\n    \t */\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \tpublic static String al;\r\n    \tprivate JTextField txtadicionar;\r\n    \tprivate JTextField txtconsulta;\r\n    \tprivate JTextField txtmodificar;\r\n    \tprivate JTextField txteliminar;\r\n    \tprivate JTable tblTabla;\r\n    \tprivate DefaultTableModel modelo;\r\n    \tprivate JTextField textField_1;\r\n\r\n    \t/**\r\n    \t * Launch the application.\r\n    \t */\r\n    \tpublic static void main(String[] args) {\r\n    \t\ttry {\r\n    \t\t\t//@SuppressWarnings(&quot;unused&quot;)\r\n    \t\t\tAlumno dialog = new Alumno();\r\n    \t\t\t//dialog.setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);\r\n    \t\t\tdialog.setVisible(true);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n\r\n    \t/**\r\n    \t * Create the dialog.\r\n    \t */\r\n    \tpublic Alumno() {\r\n    \t\tsetTitle(&quot;Alumno&quot;);\r\n    \t\taddWindowListener(this);\r\n    \t\tsetAlwaysOnTop(true);\r\n    \t\tal=&quot;alumno&quot;;\r\n    \t\tsetBounds(100, 100, 813, 397);\r\n    \t\tgetContentPane().setLayout(null);\r\n    \t\t\r\n    \t\tJButton btnAdicionar = new JButton(&quot;adicionar&quot;);\r\n    \t\tbtnAdicionar.addActionListener(new ActionListener() {\r\n    \t\t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tbtnAdicionar.setBounds(10, 85, 89, 23);\r\n    \t\tgetContentPane().add(btnAdicionar);\r\n    \t\t\r\n    \t\tJButton btnConsultar = new JButton(&quot;Consultar&quot;);\r\n    \t\tbtnConsultar.addActionListener(new ActionListener() {\r\n    \t\t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tbtnConsultar.setBounds(10, 119, 89, 23);\r\n    \t\tgetContentPane().add(btnConsultar);\r\n    \t\t\r\n    \t\tJButton btnModificar = new JButton(&quot;modificar&quot;);\r\n    \t\tbtnModificar.addActionListener(new ActionListener() {\r\n    \t\t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tbtnModificar.setBounds(10, 153, 89, 23);\r\n    \t\tgetContentPane().add(btnModificar);\r\n    \t\t\r\n    \t\tJButton btnEliminar = new JButton(&quot;eliminar&quot;);\r\n    \t\tbtnEliminar.addActionListener(new ActionListener() {\r\n    \t\t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tbtnEliminar.setBounds(10, 187, 89, 23);\r\n    \t\tgetContentPane().add(btnEliminar);\r\n    \t\t\r\n    \t\t\r\n    \t\t//esto_es_donde_dentra_los datos \r\n    \t\ttxtadicionar = new JTextField();\r\n    \t\ttxtadicionar.setBounds(266, 40, 100, 21);\r\n    \t\tgetContentPane().add(txtadicionar);\r\n    \t\ttxtadicionar.setColumns(10);\r\n    \t\t\r\n    \t\ttxtconsulta = new JTextField();\r\n    \t\ttxtconsulta.setBounds(399, 40, 100, 20);\r\n    \t\tgetContentPane().add(txtconsulta);\r\n    \t\ttxtconsulta.setColumns(10);\r\n    \t\t\r\n    \t\ttxtmodificar = new JTextField();\r\n    \t\ttxtmodificar.setBounds(534, 40, 100, 20);\r\n    \t\tgetContentPane().add(txtmodificar);\r\n    \t\ttxtmodificar.setColumns(10);\r\n    \t\t\r\n    \t\ttxteliminar = new JTextField();\r\n    \t\ttxteliminar.setBounds(665, 40, 100, 20);\r\n    \t\tgetContentPane().add(txteliminar);\r\n    \t\ttxteliminar.setColumns(10);\r\n    \t\t\r\n    \t\tJLabel lblCodigo = new JLabel(&quot;ingrese un codigo&quot;);\r\n    \t\tlblCodigo.setBounds(134, 11, 119, 23);\r\n    \t\tgetContentPane().add(lblCodigo);\r\n    \t\t\r\n    \t\ttextField_1 = new JTextField();\r\n    \t\ttextField_1.setBounds(134, 40, 86, 20);\r\n    \t\tgetContentPane().add(textField_1);\r\n    \t\ttextField_1.setColumns(10);\r\n    \t\t\r\n    \t\tJScrollPane scrollPane = new JScrollPane();\r\n    \t\tscrollPane.setBounds(109, 85, 678, 262);\r\n    \t\tgetContentPane().add(scrollPane);\r\n    \t\t\r\n    \t\t\r\n    \t\t//esto_es la_tabla\r\n    \t\ttblTabla = new JTable();\r\n    \t\ttblTabla.setBorder(null);\r\n    \t\ttblTabla.setFillsViewportHeight(true);\r\n    \t\tscrollPane.setViewportView(tblTabla);\r\n    \t\t\r\n    \t\tmodelo = new DefaultTableModel();\r\n    \t\tmodelo.addColumn(&quot;codigo&quot;);\r\n    \t\tmodelo.addColumn(&quot;nombre&quot;);\r\n    \t\tmodelo.addColumn(&quot;nota 1&quot;);\r\n    \t\tmodelo.addColumn(&quot;nota2&quot;);\r\n    \t\tmodelo.addColumn(&quot;promedio&quot;);\r\n    \t\ttblTabla.setModel(modelo);\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HfwjP.png","title":"I want to put a &quot;placeholder&quot; in a JtextField in Java","body":"<p>This is my code, I want to add a placeholder to the JtextField, I have watched several YouTube videos but they don't work, I have tried with libraries but it didn't work either, I have tried with JtextArea but it doesn't work either I have tried with several things but it still doesn't work.\nHere is my code and an image where I want to add the placeholder. <a href=\"https://i.stack.imgur.com/HfwjP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HfwjP.png\" alt=\"enter image description here\" /></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>package Mantenimiento;\n\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.WindowEvent;\nimport java.awt.event.WindowListener;\n\nimport javax.swing.JButton;\nimport javax.swing.JDialog;\nimport javax.swing.JLabel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.JTextField;\nimport javax.swing.table.DefaultTableModel;\n\n\npublic class Alumno extends JDialog implements WindowListener {\n\n    /**\n     * \n     */\n    private static final long serialVersionUID = 1L;\n    public static String al;\n    private JTextField txtadicionar;\n    private JTextField txtconsulta;\n    private JTextField txtmodificar;\n    private JTextField txteliminar;\n    private JTable tblTabla;\n    private DefaultTableModel modelo;\n    private JTextField textField_1;\n\n    /**\n     * Launch the application.\n     */\n    public static void main(String[] args) {\n        try {\n            //@SuppressWarnings(&quot;unused&quot;)\n            Alumno dialog = new Alumno();\n            //dialog.setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);\n            dialog.setVisible(true);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    /**\n     * Create the dialog.\n     */\n    public Alumno() {\n        setTitle(&quot;Alumno&quot;);\n        addWindowListener(this);\n        setAlwaysOnTop(true);\n        al=&quot;alumno&quot;;\n        setBounds(100, 100, 813, 397);\n        getContentPane().setLayout(null);\n        \n        JButton btnAdicionar = new JButton(&quot;adicionar&quot;);\n        btnAdicionar.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n            }\n        });\n        btnAdicionar.setBounds(10, 85, 89, 23);\n        getContentPane().add(btnAdicionar);\n        \n        JButton btnConsultar = new JButton(&quot;Consultar&quot;);\n        btnConsultar.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n            }\n        });\n        btnConsultar.setBounds(10, 119, 89, 23);\n        getContentPane().add(btnConsultar);\n        \n        JButton btnModificar = new JButton(&quot;modificar&quot;);\n        btnModificar.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n            }\n        });\n        btnModificar.setBounds(10, 153, 89, 23);\n        getContentPane().add(btnModificar);\n        \n        JButton btnEliminar = new JButton(&quot;eliminar&quot;);\n        btnEliminar.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n            }\n        });\n        btnEliminar.setBounds(10, 187, 89, 23);\n        getContentPane().add(btnEliminar);\n        \n        \n        //esto_es_donde_dentra_los datos \n        txtadicionar = new JTextField();\n        txtadicionar.setBounds(266, 40, 100, 21);\n        getContentPane().add(txtadicionar);\n        txtadicionar.setColumns(10);\n        \n        txtconsulta = new JTextField();\n        txtconsulta.setBounds(399, 40, 100, 20);\n        getContentPane().add(txtconsulta);\n        txtconsulta.setColumns(10);\n        \n        txtmodificar = new JTextField();\n        txtmodificar.setBounds(534, 40, 100, 20);\n        getContentPane().add(txtmodificar);\n        txtmodificar.setColumns(10);\n        \n        txteliminar = new JTextField();\n        txteliminar.setBounds(665, 40, 100, 20);\n        getContentPane().add(txteliminar);\n        txteliminar.setColumns(10);\n        \n        JLabel lblCodigo = new JLabel(&quot;ingrese un codigo&quot;);\n        lblCodigo.setBounds(134, 11, 119, 23);\n        getContentPane().add(lblCodigo);\n        \n        textField_1 = new JTextField();\n        textField_1.setBounds(134, 40, 86, 20);\n        getContentPane().add(textField_1);\n        textField_1.setColumns(10);\n        \n        JScrollPane scrollPane = new JScrollPane();\n        scrollPane.setBounds(109, 85, 678, 262);\n        getContentPane().add(scrollPane);\n        \n        \n        //esto_es la_tabla\n        tblTabla = new JTable();\n        tblTabla.setBorder(null);\n        tblTabla.setFillsViewportHeight(true);\n        scrollPane.setViewportView(tblTabla);\n        \n        modelo = new DefaultTableModel();\n        modelo.addColumn(&quot;codigo&quot;);\n        modelo.addColumn(&quot;nombre&quot;);\n        modelo.addColumn(&quot;nota 1&quot;);\n        modelo.addColumn(&quot;nota2&quot;);\n        modelo.addColumn(&quot;promedio&quot;);\n        tblTabla.setModel(modelo);\n        \n    }\n}\n</code></pre>\n"},{"tags":["java","csv"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1653713257,"post_id":72412780,"comment_id":127923184,"body_markdown":"Try Googling for **csv ignore comma inside quotes**. One of the results I got is: [Ignoring Commas in Quotes When Splitting a Comma-separated String](https://www.baeldung.com/java-split-string-commas). Of-course, in your case, you use semicolon (`;`) rather than comma (`,`)","body":"Try Googling for <b>csv ignore comma inside quotes</b>. One of the results I got is: <a href=\"https://www.baeldung.com/java-split-string-commas\" rel=\"nofollow noreferrer\">Ignoring Commas in Quotes When Splitting a Comma-separated String</a>. Of-course, in your case, you use semicolon (<code>;</code>) rather than comma (<code>,</code>)"}],"answers":[{"tags":[],"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653716242,"creation_date":1653715916,"answer_id":72413134,"question_id":72412780,"body_markdown":"You can try a pretty straightforward and hardcoded way to achieve this. Considering you will be getting your value always only in this format `&quot;car1;car2;car3;car4;car5;car6;car7;car8;car8&quot;;USA;26;green;230`\r\n\r\nSplit the string into 2 parts. One will have the value of `&quot;cars&quot;` only and another one will contain the rest of the string. After that perform a split on the 2nd string. \r\n\r\n```\r\nString cars = row.substring(1, row.lastIndexOf(&quot;\\&quot;&quot;));\r\nString withOutcars = row.substring(row.lastIndexOf(&quot;\\&quot;&quot;)+2,row.length());\r\n\r\n//replace the ; in cars value if you want.\r\ncars = cars.replace(&quot;;&quot;, &quot; &quot;);\r\nString arr[] = withOutcars.split(&quot;;&quot;);\r\n\r\nString atributos[] = new String[arr.length+1];\r\natributos[0] = cars;\r\nfor(int i =0 ;i &lt;arr.length ; i++){\r\n\tatributos[i+1] =arr[i] ;\r\n}\r\n```","title":"Reading csv files when having double quotes in a value","body":"<p>You can try a pretty straightforward and hardcoded way to achieve this. Considering you will be getting your value always only in this format <code>&quot;car1;car2;car3;car4;car5;car6;car7;car8;car8&quot;;USA;26;green;230</code></p>\n<p>Split the string into 2 parts. One will have the value of <code>&quot;cars&quot;</code> only and another one will contain the rest of the string. After that perform a split on the 2nd string.</p>\n<pre><code>String cars = row.substring(1, row.lastIndexOf(&quot;\\&quot;&quot;));\nString withOutcars = row.substring(row.lastIndexOf(&quot;\\&quot;&quot;)+2,row.length());\n\n//replace the ; in cars value if you want.\ncars = cars.replace(&quot;;&quot;, &quot; &quot;);\nString arr[] = withOutcars.split(&quot;;&quot;);\n\nString atributos[] = new String[arr.length+1];\natributos[0] = cars;\nfor(int i =0 ;i &lt;arr.length ; i++){\n    atributos[i+1] =arr[i] ;\n}\n</code></pre>\n"}],"owner":{"account_id":25410188,"reputation":11,"user_id":19218141,"display_name":"ArthurF"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":588,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653716242,"creation_date":1653710831,"question_id":72412780,"body_markdown":"I&#39;m trying to read a CSV file that uses semicolon (;) to separate the fields like this:\r\n```none\r\ncars;countries;grades;color;speed\r\n\r\n&quot;car1;car2;car3;car4;car5;car6;car7;car8;car8&quot;;USA;26;green;230\r\n```\r\nAs you guys can see, I have a lot of info in the same &quot;box&quot; separated with ; inside double quotes (&quot;&quot;), but when I try to catch the info and store it inside an `ArrayList` with Java, I&#39;m getting 2 errors: My class below:\r\n```java\r\npublic class ReadCsv {\r\n    \r\n    private ArrayList&lt;IntelCorp &gt; intelList= new ArrayList&lt;&gt;();\r\n\r\n    public ArrayList&lt;IntelCorp &gt; ProcessCsv(String path){\r\n        Path pathToFile = Paths.get(path);\r\n\t\t\ttry(BufferedReader br = Files.newBufferedReader(pathToFile,StandardCharsets.ISO_8859_1)){\r\n\t\t\t\tString row = br.readLine();\r\n\t\t\t\twhile(row!=null) {\r\n\t\t\t\t\tString [] atributos = row.split(&quot;;&quot;);\r\n\t\t\t\t\tIntelCorp intel = getIntel(atributos);\r\n\t\t\t\t\tintelList.add(intel);\r\n\t\t\t\t\trow = br.readLine();\r\n\t\t\t\t}\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\treturn intelList;\r\n    }\r\n    // i use de [] to get only the info that i need in the csv and not all of it\r\n\r\n    private IntelCorp getIntel(String[] atributos) {\r\n        String cars= atributos[0];\r\n        String countries= atributos[1];\r\n        String grades= atributos[2];\r\n        String speed= atributos[4];\r\n\r\n        IntelCorp intel = new IntelCorp (cars, countries, grades, speed);\r\n        return intel;\r\n    }\r\n```\r\nThe problem is, the `String [] atributos = row.split(&quot;;&quot;)` ARE NOT respecting the double quotes (&quot; &quot;) and are using the inside semicolons to split, which is leading me to an `ArrayIndexOutOfBoundException` and messing up the info. \r\n\r\nI tried to use regex like this: `row.split(&quot;;(?=([^\\&quot;]|\\&quot;[^\\&quot;]*\\&quot;)*$)&quot;)` instead, but I&#39;m getting `ArrayIndexOutOfBoundsException` when I run it, AND stackOverFlow error when I try to debug it, which are VERY confusing. I also tried to use some external library but I couldn&#39;t configure it to my needs. I&#39;m dumb, I know. If you could do it I would appreciate. Some help?\r\n\r\n","title":"Reading csv files when having double quotes in a value","body":"<p>I'm trying to read a CSV file that uses semicolon (;) to separate the fields like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>cars;countries;grades;color;speed\n\n&quot;car1;car2;car3;car4;car5;car6;car7;car8;car8&quot;;USA;26;green;230\n</code></pre>\n<p>As you guys can see, I have a lot of info in the same &quot;box&quot; separated with ; inside double quotes (&quot;&quot;), but when I try to catch the info and store it inside an <code>ArrayList</code> with Java, I'm getting 2 errors: My class below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ReadCsv {\n    \n    private ArrayList&lt;IntelCorp &gt; intelList= new ArrayList&lt;&gt;();\n\n    public ArrayList&lt;IntelCorp &gt; ProcessCsv(String path){\n        Path pathToFile = Paths.get(path);\n            try(BufferedReader br = Files.newBufferedReader(pathToFile,StandardCharsets.ISO_8859_1)){\n                String row = br.readLine();\n                while(row!=null) {\n                    String [] atributos = row.split(&quot;;&quot;);\n                    IntelCorp intel = getIntel(atributos);\n                    intelList.add(intel);\n                    row = br.readLine();\n                }\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        return intelList;\n    }\n    // i use de [] to get only the info that i need in the csv and not all of it\n\n    private IntelCorp getIntel(String[] atributos) {\n        String cars= atributos[0];\n        String countries= atributos[1];\n        String grades= atributos[2];\n        String speed= atributos[4];\n\n        IntelCorp intel = new IntelCorp (cars, countries, grades, speed);\n        return intel;\n    }\n</code></pre>\n<p>The problem is, the <code>String [] atributos = row.split(&quot;;&quot;)</code> ARE NOT respecting the double quotes (&quot; &quot;) and are using the inside semicolons to split, which is leading me to an <code>ArrayIndexOutOfBoundException</code> and messing up the info.</p>\n<p>I tried to use regex like this: <code>row.split(&quot;;(?=([^\\&quot;]|\\&quot;[^\\&quot;]*\\&quot;)*$)&quot;)</code> instead, but I'm getting <code>ArrayIndexOutOfBoundsException</code> when I run it, AND stackOverFlow error when I try to debug it, which are VERY confusing. I also tried to use some external library but I couldn't configure it to my needs. I'm dumb, I know. If you could do it I would appreciate. Some help?</p>\n"},{"tags":["java","spring","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1653548560,"creation_date":1653545609,"answer_id":72387477,"question_id":72387393,"body_markdown":"The problem is that you&#39;re using the `name` parameter of `@RequestMapping`, which isn&#39;t what you&#39;re intending. Instead, you should use `value` (which is the default parameter the value is applied to if you don&#39;t specify, as in your `@PostMapping` version) or `path` (which is a Spring alias to make the code more readable).","title":"Why when I use @PostMapping is the result correct, and when I replace it with @RequestMapping the result is a 404 HTTP error？","body":"<p>The problem is that you're using the <code>name</code> parameter of <code>@RequestMapping</code>, which isn't what you're intending. Instead, you should use <code>value</code> (which is the default parameter the value is applied to if you don't specify, as in your <code>@PostMapping</code> version) or <code>path</code> (which is a Spring alias to make the code more readable).</p>\n"},{"tags":[],"owner":{"account_id":12914655,"reputation":1112,"user_id":9339330,"display_name":"Min Hyoung Hong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653547500,"creation_date":1653547500,"answer_id":72387800,"question_id":72387393,"body_markdown":"`@RequestMapping` and `@PostMapping`&#39;s default parameter is `value` and `value` is aliasFor `path`. Both parameter are for path mapping.\r\n\r\n`@PostMapping(&quot;getScreenRecordListByHipJointEntity&quot;)` == \r\n`@RequestMapping(value = &quot;getScreenRecordListByHipJointEntity&quot;, method = RequestMethod.POST)` \r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html","title":"Why when I use @PostMapping is the result correct, and when I replace it with @RequestMapping the result is a 404 HTTP error？","body":"<p><code>@RequestMapping</code> and <code>@PostMapping</code>'s default parameter is <code>value</code> and <code>value</code> is aliasFor <code>path</code>. Both parameter are for path mapping.</p>\n<p><code>@PostMapping(&quot;getScreenRecordListByHipJointEntity&quot;)</code> ==\n<code>@RequestMapping(value = &quot;getScreenRecordListByHipJointEntity&quot;, method = RequestMethod.POST)</code></p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html</a></p>\n"}],"owner":{"account_id":16386819,"reputation":1,"user_id":11836586,"display_name":"berry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653715253,"creation_date":1653545170,"question_id":72387393,"body_markdown":"The code is here:\r\n\r\n```java\r\n@ResponseBody\r\n//@RequestMapping(name = &quot;getScreenRecordListByHipJointEntity&quot;,method = RequestMethod.POST)\r\n@PostMapping(&quot;getScreenRecordListByHipJointEntity&quot;)\r\npublic PageResult getScreenRecordListByHipJointEntity(@RequestBody HipJointVo hipJointVo) {\r\n    return hipJointScreenService.getScreenRecordListByHipJointEntity(hipJointVo);\r\n}\r\n```\r\n\r\nWhen I request this API which uses `PostMapping` annotation, the result code is ok and nothing is wrong, but when I replace the annotation \r\n`@PostMapping(&quot;getScreenRecordListByHipJointEntity&quot;)` with `@RequestMapping(name = &quot;getScreenRecordListByHipJointEntity&quot;,method = RequestMethod.POST)`, the HTTP request code is 404.\r\n\r\n\r\nThe requestBody has no changes. All the data is exactly the same.\r\n\r\nAnd this is how I do the post request in postman\r\n\r\n![and this is how I do the post request in postman][2]\r\n\r\n \r\n  [2]: https://i.stack.imgur.com/SEmbW.png","title":"Why when I use @PostMapping is the result correct, and when I replace it with @RequestMapping the result is a 404 HTTP error？","body":"<p>The code is here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ResponseBody\n//@RequestMapping(name = &quot;getScreenRecordListByHipJointEntity&quot;,method = RequestMethod.POST)\n@PostMapping(&quot;getScreenRecordListByHipJointEntity&quot;)\npublic PageResult getScreenRecordListByHipJointEntity(@RequestBody HipJointVo hipJointVo) {\n    return hipJointScreenService.getScreenRecordListByHipJointEntity(hipJointVo);\n}\n</code></pre>\n<p>When I request this API which uses <code>PostMapping</code> annotation, the result code is ok and nothing is wrong, but when I replace the annotation\n<code>@PostMapping(&quot;getScreenRecordListByHipJointEntity&quot;)</code> with <code>@RequestMapping(name = &quot;getScreenRecordListByHipJointEntity&quot;,method = RequestMethod.POST)</code>, the HTTP request code is 404.</p>\n<p>The requestBody has no changes. All the data is exactly the same.</p>\n<p>And this is how I do the post request in postman</p>\n<p><img src=\"https://i.stack.imgur.com/SEmbW.png\" alt=\"and this is how I do the post request in postman\" /></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":24082746,"reputation":81,"user_id":18057206,"display_name":"mehrdad ghadermarzi"},"score":0,"creation_date":1653741792,"post_id":72401281,"comment_id":127927760,"body_markdown":"Can you help me with this?","body":"Can you help me with this?"}],"owner":{"account_id":24082746,"reputation":81,"user_id":18057206,"display_name":"mehrdad ghadermarzi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653714746,"creation_date":1653632712,"question_id":72401281,"body_markdown":"Although I used the &quot;replace&quot; method on the piece, the second part of the piece runs on the first part It should be noted that my code is only in (main activity) and there is no code in the second fragment section (I mean the &quot;about&quot; fragment here) (there is a fragment class by default) so I sent it I did not\r\n    \r\nI also put a background in the xml file, but the following part works although it is not clear\r\n    \r\nPlease guide me on this\r\n    \r\nThanks\r\n    \r\n    \r\n    public class MainActivity extends AppCompatActivity implements View.OnClickListener {\r\n        .\r\n        .\r\n        .\r\n        LinearLayout lnrRecyclerNoConnection, li_home, li_share, li_about, li_logout;\r\n\r\n   \r\n\r\n    @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            replace(new HomeFragment());\r\n            ...\r\n    \r\n        }\r\n       \r\n        .\r\n        .\r\n        .\r\n    \r\n         \r\n        @Override\r\n        public void onClick(View view) {\r\n            int id = view.getId();\r\n            if (id == R.id.ivMenu) {\r\n                mDrawer.openMenu(true);\r\n            } else if (id == R.id.li_home) {\r\n                replace(new HomeFragment(), &quot;Home&quot;);\r\n                mDrawer.closeMenu(true);\r\n            } else if (id == R.id.li_about) {\r\n                replace(new AboutFragment(), &quot;About&quot;);\r\n                mDrawer.closeMenu(true);\r\n            } else if (id == R.id.li_share) {\r\n                Toast.makeText(this, &quot;share&quot;, Toast.LENGTH_SHORT).show();\r\n                mDrawer.closeMenu(true);\r\n            } else if (id == R.id.li_logout) {\r\n                Toast.makeText(this, &quot;exited&quot;, Toast.LENGTH_SHORT).show();\r\n                finish();\r\n                System.exit(0);\r\n            }\r\n        }\r\n    \r\n        private void replace(Fragment fragment, String string) {\r\n            FragmentTransaction fragmentTransaction = getSupportFragmentManager().beginTransaction();\r\n            fragmentTransaction.replace(R.id.fl_main, fragment);\r\n            fragmentTransaction.addToBackStack(string);\r\n            fragmentTransaction.commit();\r\n        }\r\n        private void replace(Fragment fragment) {\r\n            FragmentTransaction fragmentTransaction = getSupportFragmentManager().beginTransaction();\r\n            fragmentTransaction.replace(R.id.fl_main, fragment);\r\n            fragmentTransaction.commit();\r\n        }\r\n    }\r\n        \r\n    \r\n    \r\n\r\n\r\n----------\r\n\r\nThis is also the XML code section\r\nI put &quot;Replace&quot; in the main activity section\r\n    \r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;com.mxn.soul.flowingdrawer_core.FlowingDrawer xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/drawerlayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:clipChildren=&quot;false&quot;\r\n        android:clipToPadding=&quot;false&quot;\r\n        app:edPosition=&quot;2&quot;\r\n        app:edMenuSize=&quot;260dp&quot;\r\n        app:edMenuBackground=&quot;#F1F1F1&quot;&gt;\r\n    \r\n        &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_marginEnd=&quot;0dp&quot;\r\n            android:animateLayoutChanges=&quot;true&quot;\r\n            android:background=&quot;@color/colorBackground&quot;&gt;\r\n    \r\n            &lt;com.google.android.material.appbar.AppBarLayout\r\n                android:id=&quot;@+id/mainAppBar&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;200dp&quot;\r\n                android:fitsSystemWindows=&quot;true&quot;&gt;\r\n    \r\n                &lt;com.google.android.material.appbar.CollapsingToolbarLayout\r\n                    android:id=&quot;@+id/mainCollapsingToolbar&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;200dp&quot;\r\n                    android:fitsSystemWindows=&quot;true&quot;\r\n                    app:contentScrim=&quot;?attr/colorPrimary&quot;\r\n                    app:expandedTitleGravity=&quot;start|top&quot;\r\n                    app:expandedTitleMarginTop=&quot;56dp&quot;\r\n                    app:layout_scrollFlags=&quot;scroll|exitUntilCollapsed&quot;&gt;\r\n    \r\n    \r\n                    &lt;RelativeLayout\r\n                        android:id=&quot;@+id/mainHeader&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;200dp&quot;&gt;\r\n    \r\n                        &lt;ImageView\r\n                            android:id=&quot;@+id/imgChannelCover&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;match_parent&quot;\r\n                            android:scaleType=&quot;fitXY&quot;\r\n                            android:src=&quot;@drawable/cover_placeholder&quot; /&gt;\r\n    \r\n                        &lt;TextView\r\n                            android:id=&quot;@+id/txtChannelFollower_cnt&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_alignParentStart=&quot;true&quot;\r\n                            android:layout_alignParentEnd=&quot;true&quot;\r\n                            android:layout_alignParentBottom=&quot;true&quot;\r\n                            android:layout_marginStart=&quot;32dp&quot;\r\n                            android:layout_marginEnd=&quot;32dp&quot;\r\n                            android:layout_marginBottom=&quot;32dp&quot;\r\n                            android:fontFamily=&quot;@font/yekan&quot;\r\n                            android:gravity=&quot;center_horizontal&quot;\r\n                            android:textColor=&quot;@color/colorPrimary&quot;\r\n                            android:textSize=&quot;16sp&quot;\r\n                            tools:ignore=&quot;NotSibling&quot; /&gt;\r\n    \r\n                        &lt;TextView\r\n                            android:id=&quot;@+id/txtVideo_cnt&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_alignStart=&quot;@+id/txtChannelFollower_cnt&quot;\r\n                            android:layout_alignEnd=&quot;@+id/txtChannelFollower_cnt&quot;\r\n                            android:layout_alignParentBottom=&quot;true&quot;\r\n                            android:layout_marginBottom=&quot;16dp&quot;\r\n                            android:fontFamily=&quot;@font/yekan&quot;\r\n                            android:gravity=&quot;center_horizontal&quot;\r\n                            android:textColor=&quot;@color/colorPrimary&quot;\r\n                            android:textSize=&quot;16sp&quot; /&gt;\r\n    \r\n    \r\n                    &lt;/RelativeLayout&gt;\r\n    \r\n    \r\n                    &lt;androidx.appcompat.widget.Toolbar\r\n                        android:id=&quot;@+id/mainToolbar&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                        android:paddingStart=&quot;16dp&quot;\r\n                        android:paddingEnd=&quot;16dp&quot;\r\n                        app:layout_collapseMode=&quot;pin&quot;\r\n                        app:popupTheme=&quot;@style/ThemeOverlay.AppCompat.Light&quot;&gt;\r\n    \r\n                        &lt;ImageView\r\n                            android:id=&quot;@+id/imgShowChannelDescription&quot;\r\n                            android:layout_width=&quot;24dp&quot;\r\n                            android:layout_height=&quot;24dp&quot;\r\n                            android:layout_gravity=&quot;start&quot;\r\n                            android:layout_marginStart=&quot;8dp&quot;\r\n                            android:layout_marginTop=&quot;24dp&quot;\r\n                            android:layout_marginEnd=&quot;16dp&quot;\r\n                            android:src=&quot;@drawable/person_outline_24&quot; /&gt;\r\n    \r\n                        &lt;ImageView\r\n                            android:id=&quot;@+id/ivMenu&quot;\r\n                            android:layout_width=&quot;24dp&quot;\r\n                            android:layout_height=&quot;24dp&quot;\r\n                            android:layout_gravity=&quot;end&quot;\r\n                            android:layout_marginStart=&quot;8dp&quot;\r\n                            android:layout_marginTop=&quot;24dp&quot;\r\n                            android:layout_marginEnd=&quot;8dp&quot;\r\n                            android:src=&quot;@drawable/menu_open_24&quot; /&gt;\r\n    \r\n    \r\n    \r\n                    &lt;/androidx.appcompat.widget.Toolbar&gt;\r\n    \r\n                &lt;/com.google.android.material.appbar.CollapsingToolbarLayout&gt;\r\n    \r\n            &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n    \r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/lnrRecyclerNoConnection&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                android:visibility=&quot;gone&quot;&gt;\r\n    \r\n                &lt;pl.droidsonroids.gif.GifImageView\r\n                    android:id=&quot;@+id/gifVideoLoading&quot;\r\n                    android:layout_width=&quot;150dp&quot;\r\n                    android:layout_height=&quot;150dp&quot;\r\n                    android:layout_gravity=&quot;center&quot;\r\n                    android:src=&quot;@drawable/no_connection&quot;\r\n                    android:tint=&quot;@color/colorPrimary&quot; /&gt;\r\n    \r\n                &lt;TextView\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:fontFamily=&quot;@font/yekan&quot;\r\n                    android:gravity=&quot;center_horizontal&quot;\r\n                    android:text=&quot;@string/noConnection&quot; /&gt;\r\n    \r\n                &lt;Button\r\n                    android:id=&quot;@+id/btnRecyclerTryConnection&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_gravity=&quot;center_horizontal&quot;\r\n                    android:layout_marginTop=&quot;16dp&quot;\r\n                    android:background=&quot;@drawable/btn_selector&quot;\r\n                    android:fontFamily=&quot;@font/yekan&quot;\r\n                    android:text=&quot;refresh&quot;\r\n                    android:textColor=&quot;@color/colorWhiteTextColor&quot;\r\n                    android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n            &lt;/LinearLayout&gt;\r\n    \r\n            &lt;com.facebook.shimmer.ShimmerFrameLayout\r\n                android:id=&quot;@+id/shimmerLayout&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_marginTop=&quot;16dp&quot;\r\n                app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;&gt;\r\n    \r\n    \r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n                    &lt;include layout=&quot;@layout/shimmer_screen&quot; /&gt;\r\n    \r\n                    &lt;include layout=&quot;@layout/shimmer_screen&quot; /&gt;\r\n    \r\n                    &lt;include layout=&quot;@layout/shimmer_screen&quot; /&gt;\r\n    \r\n                    &lt;include layout=&quot;@layout/shimmer_screen&quot; /&gt;\r\n    \r\n                &lt;/LinearLayout&gt;\r\n    \r\n    \r\n            &lt;/com.facebook.shimmer.ShimmerFrameLayout&gt;\r\n    \r\n            &lt;androidx.recyclerview.widget.RecyclerView\r\n                android:id=&quot;@+id/mainRecyclerView&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_marginTop=&quot;16dp&quot;\r\n                app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot; /&gt;\r\n    \r\n            &lt;de.hdodenhof.circleimageview.CircleImageView\r\n                android:id=&quot;@+id/CircleImageChannelProfile&quot;\r\n                android:layout_width=&quot;80dp&quot;\r\n                android:layout_height=&quot;80dp&quot;\r\n                android:layout_alignParentEnd=&quot;true&quot;\r\n                android:layout_marginStart=&quot;32dp&quot;\r\n                android:layout_marginEnd=&quot;32dp&quot;\r\n                android:src=&quot;@drawable/image_placeholder&quot;\r\n                app:civ_border_color=&quot;@color/colorPrimary&quot;\r\n                app:civ_border_width=&quot;1dp&quot;\r\n                app:layout_anchor=&quot;@id/mainAppBar&quot;\r\n                app:layout_anchorGravity=&quot;center_vertical|center_horizontal&quot; /&gt;\r\n    \r\n            &lt;!--&lt;de.hdodenhof.circleimageview.CircleImageView\r\n            android:id=&quot;@+id/CircleImageChannelProfile&quot;\r\n            android:layout_width=&quot;80dp&quot;\r\n            android:layout_height=&quot;80dp&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:layout_marginStart=&quot;32dp&quot;\r\n            android:layout_marginEnd=&quot;32dp&quot;\r\n            android:src=&quot;@drawable/image_placeholder&quot;\r\n            app:civ_border_color=&quot;@color/colorPrimary&quot;\r\n            app:civ_border_width=&quot;0.5dp&quot;\r\n            app:layout_anchor=&quot;@id/mainAppBar&quot;\r\n            app:layout_anchorGravity=&quot;bottom|end&quot; /&gt;--&gt;\r\n    \r\n            &lt;!--content--&gt;\r\n            &lt;RelativeLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n                &lt;FrameLayout\r\n                    android:id=&quot;@+id/fl_main&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;/&gt;\r\n    \r\n            &lt;/RelativeLayout&gt;\r\n        &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n    \r\n        &lt;!--menu--&gt;\r\n        &lt;com.mxn.soul.flowingdrawer_core.FlowingMenuLayout\r\n            android:id=&quot;@+id/menulayout&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n            &lt;FrameLayout\r\n                android:id=&quot;@+id/id_container_menu&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;/&gt;\r\n    \r\n            &lt;RelativeLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n                &lt;RelativeLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;200dp&quot;\r\n                    android:id=&quot;@+id/header&quot;&gt;\r\n    \r\n                    &lt;ImageView\r\n                        android:id=&quot;@+id/imgChannelCoverDrawer&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;match_parent&quot;\r\n                        android:src=&quot;@drawable/bg_card_video_main&quot;/&gt;\r\n    \r\n                    &lt;LinearLayout\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;match_parent&quot;\r\n                        android:orientation=&quot;vertical&quot;\r\n                        android:background=&quot;@color/colorPrimary&quot;&gt;\r\n    \r\n                        &lt;de.hdodenhof.circleimageview.CircleImageView\r\n                            android:id=&quot;@+id/CircleImageChannelProfileDrawer&quot;\r\n                            android:layout_width=&quot;80dp&quot;\r\n                            android:layout_height=&quot;80dp&quot;\r\n                            android:layout_gravity=&quot;center_horizontal|center_vertical&quot;\r\n                            android:layout_marginTop=&quot;50dp&quot;\r\n                            android:src=&quot;@drawable/image_placeholder&quot;\r\n                            app:civ_border_color=&quot;@color/colorPrimary&quot;\r\n                            app:layout_anchor=&quot;@id/mainAppBar&quot;\r\n                            app:layout_anchorGravity=&quot;center_vertical|center_horizontal&quot;/&gt;\r\n    \r\n                        &lt;TextView\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;match_parent&quot;\r\n                            android:text=&quot;title&quot;\r\n                            android:textSize=&quot;28sp&quot;\r\n                            android:fontFamily=&quot;@font/yekan&quot;\r\n                            android:textColor=&quot;@color/cardview_dark_background&quot;\r\n                            android:gravity=&quot;center_horizontal|center_vertical&quot;/&gt;\r\n                    &lt;/LinearLayout&gt;\r\n                &lt;/RelativeLayout&gt;\r\n    \r\n                &lt;LinearLayout\r\n                    android:id=&quot;@+id/li_home&quot;\r\n                    android:orientation=&quot;horizontal&quot;\r\n                    android:gravity=&quot;center_vertical&quot;\r\n                    android:layoutDirection=&quot;rtl&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@+id/header&quot;\r\n                    android:layout_marginHorizontal=&quot;24dp&quot;\r\n                    android:layout_marginTop=&quot;48dp&quot; &gt;\r\n                    &lt;ImageView\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:src=&quot;@drawable/home_24&quot;\r\n                        android:padding=&quot;4dp&quot;\r\n                        app:tint=&quot;@color/cardview_dark_background&quot;/&gt;\r\n                    &lt;TextView\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;home&quot;\r\n                        android:textColor=&quot;@color/cardview_dark_background&quot;\r\n                        android:fontFamily=&quot;@font/yekan&quot;\r\n                        android:textSize=&quot;16sp&quot;\r\n                        android:padding=&quot;4dp&quot;/&gt;\r\n                &lt;/LinearLayout&gt;\r\n    \r\n                &lt;!--&lt;LinearLayout\r\n                    android:id=&quot;@+id/li_about&quot;\r\n                    android:orientation=&quot;horizontal&quot;\r\n                    android:gravity=&quot;center_vertical&quot;\r\n                    android:layoutDirection=&quot;rtl&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@+id/li_share&quot;\r\n                    android:layout_marginHorizontal=&quot;24dp&quot;\r\n                    android:layout_marginTop=&quot;24dp&quot; &gt;\r\n                    &lt;ImageView\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:src=&quot;@drawable/person_outline_24&quot;\r\n                        android:padding=&quot;4dp&quot;\r\n                        app:tint=&quot;@color/cardview_dark_background&quot; /&gt;\r\n                    &lt;TextView\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;about&quot;\r\n                        android:textColor=&quot;@color/cardview_dark_background&quot;\r\n                        android:fontFamily=&quot;@font/yekan&quot;\r\n                        android:textSize=&quot;16sp&quot;\r\n                        android:padding=&quot;4dp&quot;/&gt;\r\n                &lt;/LinearLayout&gt;--&gt;\r\n    \r\n                &lt;LinearLayout\r\n                    android:id=&quot;@+id/li_share&quot;\r\n                    android:orientation=&quot;horizontal&quot;\r\n                    android:gravity=&quot;center_vertical&quot;\r\n                    android:layoutDirection=&quot;rtl&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@+id/li_home&quot;\r\n                    android:layout_marginHorizontal=&quot;24dp&quot;\r\n                    android:layout_marginTop=&quot;24dp&quot; &gt;\r\n                    &lt;ImageView\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:src=&quot;@drawable/share_24&quot;\r\n                        android:padding=&quot;4dp&quot;\r\n                        app:tint=&quot;@color/cardview_dark_background&quot; /&gt;\r\n                    &lt;TextView\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;اشتراک گذاری&quot;\r\n                        android:textColor=&quot;@color/cardview_dark_background&quot;\r\n                        android:fontFamily=&quot;@font/yekan&quot;\r\n                        android:textSize=&quot;16sp&quot;\r\n                        android:padding=&quot;4dp&quot;/&gt;\r\n                &lt;/LinearLayout&gt;\r\n    \r\n                &lt;LinearLayout\r\n                    android:id=&quot;@+id/li_logout&quot;\r\n                    android:orientation=&quot;horizontal&quot;\r\n                    android:gravity=&quot;center_vertical&quot;\r\n                    android:layoutDirection=&quot;rtl&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@+id/li_share&quot;\r\n                    android:layout_marginHorizontal=&quot;24dp&quot;\r\n                    android:layout_marginTop=&quot;24dp&quot; &gt;\r\n                    &lt;ImageView\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:src=&quot;@drawable/ic_baseline_power_settings_new_24&quot;\r\n                        android:padding=&quot;4dp&quot;\r\n                        app:tint=&quot;@color/cardview_dark_background&quot; /&gt;\r\n                    &lt;TextView\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;exit&quot;\r\n                        android:textColor=&quot;@color/cardview_dark_background&quot;\r\n                        android:fontFamily=&quot;@font/yekan&quot;\r\n                        android:textSize=&quot;16sp&quot;\r\n                        android:padding=&quot;4dp&quot;/&gt;\r\n                &lt;/LinearLayout&gt;\r\n            &lt;/RelativeLayout&gt;\r\n    \r\n    \r\n    \r\n        &lt;/com.mxn.soul.flowingdrawer_core.FlowingMenuLayout&gt;\r\n    \r\n    \r\n    &lt;/com.mxn.soul.flowingdrawer_core.FlowingDrawer&gt;","title":"Problem displaying two fragments on top of each other - replace method in android","body":"<p>Although I used the &quot;replace&quot; method on the piece, the second part of the piece runs on the first part It should be noted that my code is only in (main activity) and there is no code in the second fragment section (I mean the &quot;about&quot; fragment here) (there is a fragment class by default) so I sent it I did not</p>\n<p>I also put a background in the xml file, but the following part works although it is not clear</p>\n<p>Please guide me on this</p>\n<p>Thanks</p>\n<pre><code>public class MainActivity extends AppCompatActivity implements View.OnClickListener {\n    .\n    .\n    .\n    LinearLayout lnrRecyclerNoConnection, li_home, li_share, li_about, li_logout;\n\n\n\n@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        replace(new HomeFragment());\n        ...\n\n    }\n   \n    .\n    .\n    .\n\n     \n    @Override\n    public void onClick(View view) {\n        int id = view.getId();\n        if (id == R.id.ivMenu) {\n            mDrawer.openMenu(true);\n        } else if (id == R.id.li_home) {\n            replace(new HomeFragment(), &quot;Home&quot;);\n            mDrawer.closeMenu(true);\n        } else if (id == R.id.li_about) {\n            replace(new AboutFragment(), &quot;About&quot;);\n            mDrawer.closeMenu(true);\n        } else if (id == R.id.li_share) {\n            Toast.makeText(this, &quot;share&quot;, Toast.LENGTH_SHORT).show();\n            mDrawer.closeMenu(true);\n        } else if (id == R.id.li_logout) {\n            Toast.makeText(this, &quot;exited&quot;, Toast.LENGTH_SHORT).show();\n            finish();\n            System.exit(0);\n        }\n    }\n\n    private void replace(Fragment fragment, String string) {\n        FragmentTransaction fragmentTransaction = getSupportFragmentManager().beginTransaction();\n        fragmentTransaction.replace(R.id.fl_main, fragment);\n        fragmentTransaction.addToBackStack(string);\n        fragmentTransaction.commit();\n    }\n    private void replace(Fragment fragment) {\n        FragmentTransaction fragmentTransaction = getSupportFragmentManager().beginTransaction();\n        fragmentTransaction.replace(R.id.fl_main, fragment);\n        fragmentTransaction.commit();\n    }\n}\n    \n</code></pre>\n<hr />\n<p>This is also the XML code section\nI put &quot;Replace&quot; in the main activity section</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;com.mxn.soul.flowingdrawer_core.FlowingDrawer xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/drawerlayout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:clipChildren=&quot;false&quot;\n    android:clipToPadding=&quot;false&quot;\n    app:edPosition=&quot;2&quot;\n    app:edMenuSize=&quot;260dp&quot;\n    app:edMenuBackground=&quot;#F1F1F1&quot;&gt;\n\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_marginEnd=&quot;0dp&quot;\n        android:animateLayoutChanges=&quot;true&quot;\n        android:background=&quot;@color/colorBackground&quot;&gt;\n\n        &lt;com.google.android.material.appbar.AppBarLayout\n            android:id=&quot;@+id/mainAppBar&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;200dp&quot;\n            android:fitsSystemWindows=&quot;true&quot;&gt;\n\n            &lt;com.google.android.material.appbar.CollapsingToolbarLayout\n                android:id=&quot;@+id/mainCollapsingToolbar&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;200dp&quot;\n                android:fitsSystemWindows=&quot;true&quot;\n                app:contentScrim=&quot;?attr/colorPrimary&quot;\n                app:expandedTitleGravity=&quot;start|top&quot;\n                app:expandedTitleMarginTop=&quot;56dp&quot;\n                app:layout_scrollFlags=&quot;scroll|exitUntilCollapsed&quot;&gt;\n\n\n                &lt;RelativeLayout\n                    android:id=&quot;@+id/mainHeader&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;200dp&quot;&gt;\n\n                    &lt;ImageView\n                        android:id=&quot;@+id/imgChannelCover&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;match_parent&quot;\n                        android:scaleType=&quot;fitXY&quot;\n                        android:src=&quot;@drawable/cover_placeholder&quot; /&gt;\n\n                    &lt;TextView\n                        android:id=&quot;@+id/txtChannelFollower_cnt&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_alignParentStart=&quot;true&quot;\n                        android:layout_alignParentEnd=&quot;true&quot;\n                        android:layout_alignParentBottom=&quot;true&quot;\n                        android:layout_marginStart=&quot;32dp&quot;\n                        android:layout_marginEnd=&quot;32dp&quot;\n                        android:layout_marginBottom=&quot;32dp&quot;\n                        android:fontFamily=&quot;@font/yekan&quot;\n                        android:gravity=&quot;center_horizontal&quot;\n                        android:textColor=&quot;@color/colorPrimary&quot;\n                        android:textSize=&quot;16sp&quot;\n                        tools:ignore=&quot;NotSibling&quot; /&gt;\n\n                    &lt;TextView\n                        android:id=&quot;@+id/txtVideo_cnt&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_alignStart=&quot;@+id/txtChannelFollower_cnt&quot;\n                        android:layout_alignEnd=&quot;@+id/txtChannelFollower_cnt&quot;\n                        android:layout_alignParentBottom=&quot;true&quot;\n                        android:layout_marginBottom=&quot;16dp&quot;\n                        android:fontFamily=&quot;@font/yekan&quot;\n                        android:gravity=&quot;center_horizontal&quot;\n                        android:textColor=&quot;@color/colorPrimary&quot;\n                        android:textSize=&quot;16sp&quot; /&gt;\n\n\n                &lt;/RelativeLayout&gt;\n\n\n                &lt;androidx.appcompat.widget.Toolbar\n                    android:id=&quot;@+id/mainToolbar&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;?attr/actionBarSize&quot;\n                    android:paddingStart=&quot;16dp&quot;\n                    android:paddingEnd=&quot;16dp&quot;\n                    app:layout_collapseMode=&quot;pin&quot;\n                    app:popupTheme=&quot;@style/ThemeOverlay.AppCompat.Light&quot;&gt;\n\n                    &lt;ImageView\n                        android:id=&quot;@+id/imgShowChannelDescription&quot;\n                        android:layout_width=&quot;24dp&quot;\n                        android:layout_height=&quot;24dp&quot;\n                        android:layout_gravity=&quot;start&quot;\n                        android:layout_marginStart=&quot;8dp&quot;\n                        android:layout_marginTop=&quot;24dp&quot;\n                        android:layout_marginEnd=&quot;16dp&quot;\n                        android:src=&quot;@drawable/person_outline_24&quot; /&gt;\n\n                    &lt;ImageView\n                        android:id=&quot;@+id/ivMenu&quot;\n                        android:layout_width=&quot;24dp&quot;\n                        android:layout_height=&quot;24dp&quot;\n                        android:layout_gravity=&quot;end&quot;\n                        android:layout_marginStart=&quot;8dp&quot;\n                        android:layout_marginTop=&quot;24dp&quot;\n                        android:layout_marginEnd=&quot;8dp&quot;\n                        android:src=&quot;@drawable/menu_open_24&quot; /&gt;\n\n\n\n                &lt;/androidx.appcompat.widget.Toolbar&gt;\n\n            &lt;/com.google.android.material.appbar.CollapsingToolbarLayout&gt;\n\n        &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n        &lt;LinearLayout\n            android:id=&quot;@+id/lnrRecyclerNoConnection&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:gravity=&quot;center&quot;\n            android:orientation=&quot;vertical&quot;\n            android:visibility=&quot;gone&quot;&gt;\n\n            &lt;pl.droidsonroids.gif.GifImageView\n                android:id=&quot;@+id/gifVideoLoading&quot;\n                android:layout_width=&quot;150dp&quot;\n                android:layout_height=&quot;150dp&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:src=&quot;@drawable/no_connection&quot;\n                android:tint=&quot;@color/colorPrimary&quot; /&gt;\n\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:fontFamily=&quot;@font/yekan&quot;\n                android:gravity=&quot;center_horizontal&quot;\n                android:text=&quot;@string/noConnection&quot; /&gt;\n\n            &lt;Button\n                android:id=&quot;@+id/btnRecyclerTryConnection&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center_horizontal&quot;\n                android:layout_marginTop=&quot;16dp&quot;\n                android:background=&quot;@drawable/btn_selector&quot;\n                android:fontFamily=&quot;@font/yekan&quot;\n                android:text=&quot;refresh&quot;\n                android:textColor=&quot;@color/colorWhiteTextColor&quot;\n                android:textStyle=&quot;bold&quot; /&gt;\n\n        &lt;/LinearLayout&gt;\n\n        &lt;com.facebook.shimmer.ShimmerFrameLayout\n            android:id=&quot;@+id/shimmerLayout&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_marginTop=&quot;16dp&quot;\n            app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;&gt;\n\n\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n                &lt;include layout=&quot;@layout/shimmer_screen&quot; /&gt;\n\n                &lt;include layout=&quot;@layout/shimmer_screen&quot; /&gt;\n\n                &lt;include layout=&quot;@layout/shimmer_screen&quot; /&gt;\n\n                &lt;include layout=&quot;@layout/shimmer_screen&quot; /&gt;\n\n            &lt;/LinearLayout&gt;\n\n\n        &lt;/com.facebook.shimmer.ShimmerFrameLayout&gt;\n\n        &lt;androidx.recyclerview.widget.RecyclerView\n            android:id=&quot;@+id/mainRecyclerView&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_marginTop=&quot;16dp&quot;\n            app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot; /&gt;\n\n        &lt;de.hdodenhof.circleimageview.CircleImageView\n            android:id=&quot;@+id/CircleImageChannelProfile&quot;\n            android:layout_width=&quot;80dp&quot;\n            android:layout_height=&quot;80dp&quot;\n            android:layout_alignParentEnd=&quot;true&quot;\n            android:layout_marginStart=&quot;32dp&quot;\n            android:layout_marginEnd=&quot;32dp&quot;\n            android:src=&quot;@drawable/image_placeholder&quot;\n            app:civ_border_color=&quot;@color/colorPrimary&quot;\n            app:civ_border_width=&quot;1dp&quot;\n            app:layout_anchor=&quot;@id/mainAppBar&quot;\n            app:layout_anchorGravity=&quot;center_vertical|center_horizontal&quot; /&gt;\n\n        &lt;!--&lt;de.hdodenhof.circleimageview.CircleImageView\n        android:id=&quot;@+id/CircleImageChannelProfile&quot;\n        android:layout_width=&quot;80dp&quot;\n        android:layout_height=&quot;80dp&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_marginStart=&quot;32dp&quot;\n        android:layout_marginEnd=&quot;32dp&quot;\n        android:src=&quot;@drawable/image_placeholder&quot;\n        app:civ_border_color=&quot;@color/colorPrimary&quot;\n        app:civ_border_width=&quot;0.5dp&quot;\n        app:layout_anchor=&quot;@id/mainAppBar&quot;\n        app:layout_anchorGravity=&quot;bottom|end&quot; /&gt;--&gt;\n\n        &lt;!--content--&gt;\n        &lt;RelativeLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;&gt;\n\n            &lt;FrameLayout\n                android:id=&quot;@+id/fl_main&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;/&gt;\n\n        &lt;/RelativeLayout&gt;\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n\n    &lt;!--menu--&gt;\n    &lt;com.mxn.soul.flowingdrawer_core.FlowingMenuLayout\n        android:id=&quot;@+id/menulayout&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n        &lt;FrameLayout\n            android:id=&quot;@+id/id_container_menu&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;/&gt;\n\n        &lt;RelativeLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;&gt;\n\n            &lt;RelativeLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;200dp&quot;\n                android:id=&quot;@+id/header&quot;&gt;\n\n                &lt;ImageView\n                    android:id=&quot;@+id/imgChannelCoverDrawer&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;match_parent&quot;\n                    android:src=&quot;@drawable/bg_card_video_main&quot;/&gt;\n\n                &lt;LinearLayout\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;match_parent&quot;\n                    android:orientation=&quot;vertical&quot;\n                    android:background=&quot;@color/colorPrimary&quot;&gt;\n\n                    &lt;de.hdodenhof.circleimageview.CircleImageView\n                        android:id=&quot;@+id/CircleImageChannelProfileDrawer&quot;\n                        android:layout_width=&quot;80dp&quot;\n                        android:layout_height=&quot;80dp&quot;\n                        android:layout_gravity=&quot;center_horizontal|center_vertical&quot;\n                        android:layout_marginTop=&quot;50dp&quot;\n                        android:src=&quot;@drawable/image_placeholder&quot;\n                        app:civ_border_color=&quot;@color/colorPrimary&quot;\n                        app:layout_anchor=&quot;@id/mainAppBar&quot;\n                        app:layout_anchorGravity=&quot;center_vertical|center_horizontal&quot;/&gt;\n\n                    &lt;TextView\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;match_parent&quot;\n                        android:text=&quot;title&quot;\n                        android:textSize=&quot;28sp&quot;\n                        android:fontFamily=&quot;@font/yekan&quot;\n                        android:textColor=&quot;@color/cardview_dark_background&quot;\n                        android:gravity=&quot;center_horizontal|center_vertical&quot;/&gt;\n                &lt;/LinearLayout&gt;\n            &lt;/RelativeLayout&gt;\n\n            &lt;LinearLayout\n                android:id=&quot;@+id/li_home&quot;\n                android:orientation=&quot;horizontal&quot;\n                android:gravity=&quot;center_vertical&quot;\n                android:layoutDirection=&quot;rtl&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_below=&quot;@+id/header&quot;\n                android:layout_marginHorizontal=&quot;24dp&quot;\n                android:layout_marginTop=&quot;48dp&quot; &gt;\n                &lt;ImageView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:src=&quot;@drawable/home_24&quot;\n                    android:padding=&quot;4dp&quot;\n                    app:tint=&quot;@color/cardview_dark_background&quot;/&gt;\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;home&quot;\n                    android:textColor=&quot;@color/cardview_dark_background&quot;\n                    android:fontFamily=&quot;@font/yekan&quot;\n                    android:textSize=&quot;16sp&quot;\n                    android:padding=&quot;4dp&quot;/&gt;\n            &lt;/LinearLayout&gt;\n\n            &lt;!--&lt;LinearLayout\n                android:id=&quot;@+id/li_about&quot;\n                android:orientation=&quot;horizontal&quot;\n                android:gravity=&quot;center_vertical&quot;\n                android:layoutDirection=&quot;rtl&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_below=&quot;@+id/li_share&quot;\n                android:layout_marginHorizontal=&quot;24dp&quot;\n                android:layout_marginTop=&quot;24dp&quot; &gt;\n                &lt;ImageView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:src=&quot;@drawable/person_outline_24&quot;\n                    android:padding=&quot;4dp&quot;\n                    app:tint=&quot;@color/cardview_dark_background&quot; /&gt;\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;about&quot;\n                    android:textColor=&quot;@color/cardview_dark_background&quot;\n                    android:fontFamily=&quot;@font/yekan&quot;\n                    android:textSize=&quot;16sp&quot;\n                    android:padding=&quot;4dp&quot;/&gt;\n            &lt;/LinearLayout&gt;--&gt;\n\n            &lt;LinearLayout\n                android:id=&quot;@+id/li_share&quot;\n                android:orientation=&quot;horizontal&quot;\n                android:gravity=&quot;center_vertical&quot;\n                android:layoutDirection=&quot;rtl&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_below=&quot;@+id/li_home&quot;\n                android:layout_marginHorizontal=&quot;24dp&quot;\n                android:layout_marginTop=&quot;24dp&quot; &gt;\n                &lt;ImageView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:src=&quot;@drawable/share_24&quot;\n                    android:padding=&quot;4dp&quot;\n                    app:tint=&quot;@color/cardview_dark_background&quot; /&gt;\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;اشتراک گذاری&quot;\n                    android:textColor=&quot;@color/cardview_dark_background&quot;\n                    android:fontFamily=&quot;@font/yekan&quot;\n                    android:textSize=&quot;16sp&quot;\n                    android:padding=&quot;4dp&quot;/&gt;\n            &lt;/LinearLayout&gt;\n\n            &lt;LinearLayout\n                android:id=&quot;@+id/li_logout&quot;\n                android:orientation=&quot;horizontal&quot;\n                android:gravity=&quot;center_vertical&quot;\n                android:layoutDirection=&quot;rtl&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_below=&quot;@+id/li_share&quot;\n                android:layout_marginHorizontal=&quot;24dp&quot;\n                android:layout_marginTop=&quot;24dp&quot; &gt;\n                &lt;ImageView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:src=&quot;@drawable/ic_baseline_power_settings_new_24&quot;\n                    android:padding=&quot;4dp&quot;\n                    app:tint=&quot;@color/cardview_dark_background&quot; /&gt;\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;exit&quot;\n                    android:textColor=&quot;@color/cardview_dark_background&quot;\n                    android:fontFamily=&quot;@font/yekan&quot;\n                    android:textSize=&quot;16sp&quot;\n                    android:padding=&quot;4dp&quot;/&gt;\n            &lt;/LinearLayout&gt;\n        &lt;/RelativeLayout&gt;\n\n\n\n    &lt;/com.mxn.soul.flowingdrawer_core.FlowingMenuLayout&gt;\n\n\n&lt;/com.mxn.soul.flowingdrawer_core.FlowingDrawer&gt;\n</code></pre>\n"},{"tags":["java","spring","jackson","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":9415453,"reputation":3146,"user_id":7003331,"display_name":"Deepak Patankar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653714451,"creation_date":1653714451,"answer_id":72413012,"question_id":72412929,"body_markdown":"You can use `@JsonTypeInfo` and `@JsonSubType` annotations to marshal the given input.\r\n\r\nOn your dynamicAttributes field you can add a JsonTypeInfo annotation to specify how to create a dynamicAttribute&#39;s object. The `EXTERNAL_PROPERTY` type conveys that the `type` field is present at the level of `dynamicAttributes`.\r\n\r\n```\r\n  @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property =&quot;type&quot;, include = JsonTypeInfo.As.EXTERNAL_PROPERTY,\r\n      visible = true)\r\n  DynamicAttributes dynamicAttributes;\r\n```\r\n\r\nTo specify the possible subtypes use the `JsonSubTypes` annotation as shown below\r\n\r\n```\r\n@JsonSubTypes({\r\n  @JsonSubTypes.Type(value = DynamicAttributesType1.class, name = &quot;type1&quot;)\r\n  , @JsonSubTypes.Type(value = DynamicAttributesType2.class, name = &quot;type2&quot;)\r\n})\r\npublic abstract class DynamicAttributes{\r\n}\r\n```\r\n","title":"How do I unmarshal a dynamic type from JSON with Spring RestTemplate and Jackson","body":"<p>You can use <code>@JsonTypeInfo</code> and <code>@JsonSubType</code> annotations to marshal the given input.</p>\n<p>On your dynamicAttributes field you can add a JsonTypeInfo annotation to specify how to create a dynamicAttribute's object. The <code>EXTERNAL_PROPERTY</code> type conveys that the <code>type</code> field is present at the level of <code>dynamicAttributes</code>.</p>\n<pre><code>  @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property =&quot;type&quot;, include = JsonTypeInfo.As.EXTERNAL_PROPERTY,\n      visible = true)\n  DynamicAttributes dynamicAttributes;\n</code></pre>\n<p>To specify the possible subtypes use the <code>JsonSubTypes</code> annotation as shown below</p>\n<pre><code>@JsonSubTypes({\n  @JsonSubTypes.Type(value = DynamicAttributesType1.class, name = &quot;type1&quot;)\n  , @JsonSubTypes.Type(value = DynamicAttributesType2.class, name = &quot;type2&quot;)\n})\npublic abstract class DynamicAttributes{\n}\n</code></pre>\n"}],"owner":{"account_id":10401081,"reputation":371,"user_id":7669315,"display_name":"JCB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":429,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72413012,"answer_count":1,"score":1,"last_activity_date":1653714451,"creation_date":1653713262,"question_id":72412929,"body_markdown":"I have a JSON response coming from an API that is calling Elastic Search. The following is a sample snippet.\r\n\r\n    {\r\n      &quot;fielda&quot; : &quot;something&quot;,\r\n      &quot;hits&quot; : {\r\n        &quot;total&quot; : &quot;100&quot;,\r\n        &quot;type&quot; : &quot;/some/type&quot;\r\n        &quot;dynamicAttributes&quot;:{\r\n           &quot;somevalue1&quot; : &quot;somevalue&quot;,\r\n           &quot;somevalue2&quot; : &quot;somevalue2&quot;\r\n        }\r\n      }\r\n    }\r\n\r\nThe JSON subtree underneath the `dynamicAttributes` can be different with each result. I am trying to marshal that into an object based on the `type` field that comes in. There will be an established mapping between that value and a class somewhere in a map. It looks like Jackson maps the results into a `LinkedHashMap` if the type is not resolved. I&#39;m looking to use a Custom Deserializer. Is this the best strategy for this? Or is there something simpler that I&#39;m missing.","title":"How do I unmarshal a dynamic type from JSON with Spring RestTemplate and Jackson","body":"<p>I have a JSON response coming from an API that is calling Elastic Search. The following is a sample snippet.</p>\n<pre><code>{\n  &quot;fielda&quot; : &quot;something&quot;,\n  &quot;hits&quot; : {\n    &quot;total&quot; : &quot;100&quot;,\n    &quot;type&quot; : &quot;/some/type&quot;\n    &quot;dynamicAttributes&quot;:{\n       &quot;somevalue1&quot; : &quot;somevalue&quot;,\n       &quot;somevalue2&quot; : &quot;somevalue2&quot;\n    }\n  }\n}\n</code></pre>\n<p>The JSON subtree underneath the <code>dynamicAttributes</code> can be different with each result. I am trying to marshal that into an object based on the <code>type</code> field that comes in. There will be an established mapping between that value and a class somewhere in a map. It looks like Jackson maps the results into a <code>LinkedHashMap</code> if the type is not resolved. I'm looking to use a Custom Deserializer. Is this the best strategy for this? Or is there something simpler that I'm missing.</p>\n"},{"tags":["java","arrays","processing","collision","2d-games"],"answers":[{"tags":[],"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653712503,"creation_date":1653712079,"answer_id":72412841,"question_id":72412655,"body_markdown":"There are a number of ways this can be done. Perhaps the simplest change, given the data structures you already have is to create another array, this time a boolean array, and call it something like `brickIsVisible`.\r\n\r\nThen you can use a simple *if* statement, e.g., `if (brickIsVisible[i])` in your loops to determine how to color the brick. The same variable can be used to tell whether or not to do a collision test between the ball and the brick.\r\n\r\nAs for the coloring itself, there are a couple options.\r\n\r\nI&#39;m not sure how you are drawing your board. If you redraw the entire board with each gameloop frame, then presumably you first draw the background (which covers over the bricks) and then you draw the bricks. If this what is happening, then if `brickIsVisible[i]` is `false` you can simply omit drawing that brick on top of the background.\r\n\r\nAnother technique that is sometimes used is to make use of a transparent color. This is done by adding an *alpha channel* value to the color definition. Thus there are four variables instead of three. They are referred to as RGBA instead of RGB. If the fourth variable is 0, the color will be transparent. If it is 255 it will be fully visible. Intermediate values in sequence can be used if you want to create a fade in or fade out.\r\n\r\nI am guessing you are using `java.awt.Color`. Following is an example that uses the [four argument constructor][1], with the fourth being the alpha channel.\r\n\r\n    Color invisiblePurple = new Color(255, 0, 255, 0);\r\n\r\nIf the color is invisible, the RGB values don&#39;t really matter.\r\n\r\nThese days I mostly use JavaFX for graphics, so I might not be up on all the tricks of the trade with AWT/Swing. With JavaFX, one can directly set an opacity property for a graphic being displayed, which is pretty convenient. I think part of the reason that this is available in JavaFX is that screen graphics are structured more like a DOM tree (like an HTML domain object model), and the redrawing is handled behind the scenes on the current state of the tree, rather than explicitly for each object, as it is with AWT/Swing.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Color.html#%3Cinit%3E(int,int,int,int)","title":"How to make object dissapear when hit","body":"<p>There are a number of ways this can be done. Perhaps the simplest change, given the data structures you already have is to create another array, this time a boolean array, and call it something like <code>brickIsVisible</code>.</p>\n<p>Then you can use a simple <em>if</em> statement, e.g., <code>if (brickIsVisible[i])</code> in your loops to determine how to color the brick. The same variable can be used to tell whether or not to do a collision test between the ball and the brick.</p>\n<p>As for the coloring itself, there are a couple options.</p>\n<p>I'm not sure how you are drawing your board. If you redraw the entire board with each gameloop frame, then presumably you first draw the background (which covers over the bricks) and then you draw the bricks. If this what is happening, then if <code>brickIsVisible[i]</code> is <code>false</code> you can simply omit drawing that brick on top of the background.</p>\n<p>Another technique that is sometimes used is to make use of a transparent color. This is done by adding an <em>alpha channel</em> value to the color definition. Thus there are four variables instead of three. They are referred to as RGBA instead of RGB. If the fourth variable is 0, the color will be transparent. If it is 255 it will be fully visible. Intermediate values in sequence can be used if you want to create a fade in or fade out.</p>\n<p>I am guessing you are using <code>java.awt.Color</code>. Following is an example that uses the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Color.html#%3Cinit%3E(int,int,int,int)\" rel=\"nofollow noreferrer\">four argument constructor</a>, with the fourth being the alpha channel.</p>\n<pre><code>Color invisiblePurple = new Color(255, 0, 255, 0);\n</code></pre>\n<p>If the color is invisible, the RGB values don't really matter.</p>\n<p>These days I mostly use JavaFX for graphics, so I might not be up on all the tricks of the trade with AWT/Swing. With JavaFX, one can directly set an opacity property for a graphic being displayed, which is pretty convenient. I think part of the reason that this is available in JavaFX is that screen graphics are structured more like a DOM tree (like an HTML domain object model), and the redrawing is handled behind the scenes on the current state of the tree, rather than explicitly for each object, as it is with AWT/Swing.</p>\n"},{"tags":[],"owner":{"account_id":17715726,"reputation":2190,"user_id":12862111,"display_name":"apodidae"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653714138,"creation_date":1653714138,"answer_id":72412990,"question_id":72412655,"body_markdown":"Another possible technique shown below uses a brick class array. The class has a &#39;show&#39; boolean associated with it and the bricks are only displayed when brick[id].show is true. In this demo when the brick is selected with a mouse brick[id].show is set to false and that brick is not displayed.  For your project you would have to do this when a brick is hit by the ball.\r\n\r\n```\r\n/*\r\n Creates a grid of rectangles from a Brick class array.\r\n Syntax: brick[id] = new Brick( x, y, w, h, &quot;title&quot;, bkgrndColor, txtColor); \r\n ID is taken from position in array.\r\n */\r\n\r\nfinal int _brickGridX = 40;\r\nfinal int _brickGridY = 60;\r\nfinal int _brickW = 120;\r\nfinal int _brickH = 60;\r\n\r\ncolor BLUE = color(64, 124, 188);\r\ncolor LTGRAY = color(185, 180, 180);\r\ncolor YELLOW = color(245, 250, 13);\r\ncolor RED = color(255, 0, 0);\r\ncolor BLACK = color(0, 0, 0);\r\ncolor WHITE = color(255, 255, 255);\r\n\r\nBrick[] brick;\r\n\r\nclass Brick {\r\n  float x, y, w, h;\r\n  String title;\r\n  color bkgrnd;\r\n  color txtColor;\r\n  boolean show;\r\n\r\n  // Constructor\r\n  Brick(int xpos, int ypos, float wt, float ht, String titleStr, color background, color foreground) {\r\n    x = xpos;\r\n    y = ypos;\r\n    w = wt;\r\n    h = ht;\r\n    title = titleStr;\r\n    bkgrnd = background;\r\n    txtColor = foreground;\r\n  }\r\n\r\n  void display(int id) {\r\n    if (brick[id].show) {\r\n      fill(bkgrnd); // background color\r\n      stroke(0);\r\n      rect(x, y, w, h);\r\n      fill(txtColor); // text color\r\n      textSize(42);\r\n      textAlign(CENTER, CENTER);\r\n      text(title, x, y, w, h);\r\n    }\r\n  }\r\n\r\n  void press(int id) {\r\n    println(&quot;brick id = &quot;, id + &quot;: show =&quot;, brick[id].show);\r\n  }\r\n}\r\n\r\nvoid brickGrid() {\r\n  int left = 0;\r\n  int top = 0;\r\n  int vg = 0; // Space between cols (vert.gutter)\r\n  int hg = 0; // Space between rows (horz.gutter)\r\n  int rows = 5; \r\n  int cols = 5;\r\n  int id = 0;\r\n\r\n  brick = new Brick[rows*cols]; // creates brick array\r\n  for (int k = 0; k &lt; cols; k++) {\r\n    for (int j = 0; j &lt; rows; j++) {\r\n      left = _brickGridX + j * (_brickW + vg);\r\n      top = _brickGridY + k * (_brickH + hg);      \r\n      brick[id] = new Brick(left, top, _brickW, _brickH, str(id), LTGRAY, BLACK);\r\n      brick[id].show = true;\r\n      id++;\r\n    }\r\n  }\r\n}\r\n\r\nvoid setup() {\r\n  size(800, 600);\r\n  background(BLUE);\r\n  brickGrid();\r\n}\r\n\r\nvoid draw() {\r\n  background(BLUE);\r\n  for (int i = 0; i &lt; brick.length; i++) {\r\n    brick[i].display(i);\r\n  }\r\n}\r\n\r\nvoid mousePressed() {\r\n  for (int i = 0; i &lt; brick.length; i++) {\r\n    if ((mouseX &gt;= brick[i].x) &amp;&amp; (mouseX &lt;= brick[i].x + _brickW) &amp;&amp; (mouseY &gt;= brick[i].y) &amp;&amp; (mouseY &lt;= brick[i].y + _brickH)) {\r\n      brick[i].show = false;\r\n     // brick[i].press(i);\r\n    }\r\n  }\r\n}\r\n```","title":"How to make object dissapear when hit","body":"<p>Another possible technique shown below uses a brick class array. The class has a 'show' boolean associated with it and the bricks are only displayed when brick[id].show is true. In this demo when the brick is selected with a mouse brick[id].show is set to false and that brick is not displayed.  For your project you would have to do this when a brick is hit by the ball.</p>\n<pre><code>/*\n Creates a grid of rectangles from a Brick class array.\n Syntax: brick[id] = new Brick( x, y, w, h, &quot;title&quot;, bkgrndColor, txtColor); \n ID is taken from position in array.\n */\n\nfinal int _brickGridX = 40;\nfinal int _brickGridY = 60;\nfinal int _brickW = 120;\nfinal int _brickH = 60;\n\ncolor BLUE = color(64, 124, 188);\ncolor LTGRAY = color(185, 180, 180);\ncolor YELLOW = color(245, 250, 13);\ncolor RED = color(255, 0, 0);\ncolor BLACK = color(0, 0, 0);\ncolor WHITE = color(255, 255, 255);\n\nBrick[] brick;\n\nclass Brick {\n  float x, y, w, h;\n  String title;\n  color bkgrnd;\n  color txtColor;\n  boolean show;\n\n  // Constructor\n  Brick(int xpos, int ypos, float wt, float ht, String titleStr, color background, color foreground) {\n    x = xpos;\n    y = ypos;\n    w = wt;\n    h = ht;\n    title = titleStr;\n    bkgrnd = background;\n    txtColor = foreground;\n  }\n\n  void display(int id) {\n    if (brick[id].show) {\n      fill(bkgrnd); // background color\n      stroke(0);\n      rect(x, y, w, h);\n      fill(txtColor); // text color\n      textSize(42);\n      textAlign(CENTER, CENTER);\n      text(title, x, y, w, h);\n    }\n  }\n\n  void press(int id) {\n    println(&quot;brick id = &quot;, id + &quot;: show =&quot;, brick[id].show);\n  }\n}\n\nvoid brickGrid() {\n  int left = 0;\n  int top = 0;\n  int vg = 0; // Space between cols (vert.gutter)\n  int hg = 0; // Space between rows (horz.gutter)\n  int rows = 5; \n  int cols = 5;\n  int id = 0;\n\n  brick = new Brick[rows*cols]; // creates brick array\n  for (int k = 0; k &lt; cols; k++) {\n    for (int j = 0; j &lt; rows; j++) {\n      left = _brickGridX + j * (_brickW + vg);\n      top = _brickGridY + k * (_brickH + hg);      \n      brick[id] = new Brick(left, top, _brickW, _brickH, str(id), LTGRAY, BLACK);\n      brick[id].show = true;\n      id++;\n    }\n  }\n}\n\nvoid setup() {\n  size(800, 600);\n  background(BLUE);\n  brickGrid();\n}\n\nvoid draw() {\n  background(BLUE);\n  for (int i = 0; i &lt; brick.length; i++) {\n    brick[i].display(i);\n  }\n}\n\nvoid mousePressed() {\n  for (int i = 0; i &lt; brick.length; i++) {\n    if ((mouseX &gt;= brick[i].x) &amp;&amp; (mouseX &lt;= brick[i].x + _brickW) &amp;&amp; (mouseY &gt;= brick[i].y) &amp;&amp; (mouseY &lt;= brick[i].y + _brickH)) {\n      brick[i].show = false;\n     // brick[i].press(i);\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":19138926,"reputation":21,"user_id":13979298,"display_name":"Haadi Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653714138,"creation_date":1653708397,"question_id":72412655,"body_markdown":"I was working on a brick breaker game in proccessing, and was trying to create the collision system for the game. I was able to identify when a collision happens between the ball and the brick, but I was not able to to make the brick dissapear when it gets hit by the ball. How do I do this? I would also appreciate a explanation, as I am a beginner. \r\n\r\nThanks.\r\n\r\n```\r\ncolor black = color(0,0,0);\r\ncolor red = color(255,0,0);\r\ncolor white = color(255,255,255);\r\n\r\nfloat ballx = 412.5, bally = 600, balld = 20, ballr = balld/2, paddleX = 362.5, paddleY = 650;\r\nfloat paddleW = 100, paddleH = 15;\r\nfloat ballspdX, ballspdY;\r\n\r\nboolean ball_drop = true;\r\n\r\nfloat direction_choice;\r\n\r\nfloat[] brickX = new float[10];\r\n\r\nfloat[] brickY = new float[5];\r\n\r\nfloat brickW = 50, brickH = 25;\r\n\r\n\r\nvoid setup(){\r\n  size(825,800);\r\n  surface.setTitle(&quot;Brick breaker&quot;);\r\n  noCursor();\r\n  smooth();\r\n  \r\n  brickX[0] = 50;\r\n  brickX[1] = 125; \r\n  brickX[2] = 200; \r\n  brickX[3] = 275;\r\n  brickX[4] = 350; \r\n  brickX[5] = 425;\r\n  brickX[6] = 500; \r\n  brickX[7] = 575;\r\n  brickX[8] = 650; \r\n  brickX[9] = 725; \r\n  \r\n  brickY[0] = 50; \r\n  brickY[1] = 125; \r\n  brickY[2] = 200; \r\n  brickY[3] = 275;\r\n  brickY[4] = 350; \r\n}\r\n\r\nvoid paddle(){\r\n  noStroke();\r\n  fill(white);\r\n  rect(paddleX, paddleY, paddleW, paddleH);\r\n}\r\nvoid ball(){\r\n  noStroke();\r\n  fill(red);\r\n  circle(ballx, bally, balld);\r\n}\r\n\r\n\r\nvoid draw(){\r\n  background(black);\r\n  paddle();\r\n  ball();\r\n  if (bally + ballr == paddleY &amp;&amp; ballx &gt; paddleX &amp;&amp; ballx &lt; paddleX + (paddleW / 2)){\r\n    ball_drop = false;\r\n    ballspdY = -ballspdY;\r\n    ballspdX = -4;\r\n  }\r\n  \r\n  \r\n  /*\r\n    if (bally + ballr == paddleY &amp;&amp; ballx &gt; paddleX &amp;&amp; ballx &lt; paddleX + paddleW){\r\n    ball_drop = false;\r\n    ballspdY = -ballspdY;\r\n    direction_choice = int(random(1,3));\r\n    if (direction_choice == 1){\r\n     ballspdX = 4; \r\n    }\r\n    if (direction_choice == 2){\r\n      ballspdX = -4;\r\n    }\r\n  }\r\n  println(direction_choice);\r\n  \r\n  */\r\n  if (bally + ballr == paddleY &amp;&amp; ballx &gt; paddleX + (paddleW /2) &amp;&amp; ballx &lt; paddleX + paddleW){\r\n    ball_drop = false;\r\n    ballspdY = -ballspdY;\r\n    ballspdX = 4;\r\n  }\r\n  \r\n  if (ballx + ballr &gt; width || ballx - ballr &lt; 0){\r\n    ballspdX = -ballspdX;\r\n  }\r\n  \r\n  if (bally - ballr &lt; 0){\r\n    ballspdY = -ballspdY;\r\n  }\r\n\r\n  if (ball_drop){\r\n    ballspdX = 0;\r\n    ballspdY = 1;\r\n  }\r\n for (int i = 0; i &lt; brickX.length; i ++){\r\n   for(int j = 0; j &lt; brickY.length; j ++){ \r\n   fill(red);\r\n   rect(brickX[i], brickY[j], brickW, brickH); \r\n   \r\n    if (collideLineCircle(brickX[i], brickY[j] + brickH, brickX[i] + brickW, brickY[j] + brickH, ballx, bally, ballr)){\r\n      ballspdY = -ballspdY;\r\n    }\r\n   \r\n  }\r\n }\r\n\r\n  \r\n if (bally &gt;= 800){\r\n   bally = 600;\r\n   ballx = 412.5;\r\n   ball_drop = true;\r\n }\r\n \r\n \r\n  bally += ballspdY;\r\n  ballx += ballspdX;\r\n  \r\n}\r\n  boolean collideLineCircle(float x1, float y1, float x2, float y2, float cx, float cy, float cr){\r\n    float A = y2 - y1, B = x1 - x2, C = x2*y1 - x1+y2;\r\n    float denom = A+A + B*B;\r\n    if (denom == 0){\r\n    \r\n      return dist(x1,y1, cx, cy) &lt; cr;\r\n    \r\n    }\r\n    \r\n    float Ix = (B*B*cx-A*B*cy - A*C)/denom, Iy = (A*A*cy-A*B*cx - B*C)/denom;\r\n    \r\n    if (Ix &gt;= min(x1,x2) &amp;&amp; Ix &lt;= max(x1,x2) &amp; Iy &gt;= min(y1,y2) &amp;&amp; Iy &lt;= max(y1,y2)) {\r\n      return abs (A*cx + B*cy + C)/sqrt(denom) &lt; cr;\r\n    }\r\n    \r\n    float d1 = dist(x1,y1,cx,cy), d2 = dist(x2,y2,cx,cy);\r\n    return min(d1,d2) &lt; cr;\r\n    \r\n  }\r\n\r\nvoid mouseMoved(MouseEvent evt){\r\n  paddleX = evt.getX();\r\n  }\r\n```","title":"How to make object dissapear when hit","body":"<p>I was working on a brick breaker game in proccessing, and was trying to create the collision system for the game. I was able to identify when a collision happens between the ball and the brick, but I was not able to to make the brick dissapear when it gets hit by the ball. How do I do this? I would also appreciate a explanation, as I am a beginner.</p>\n<p>Thanks.</p>\n<pre><code>color black = color(0,0,0);\ncolor red = color(255,0,0);\ncolor white = color(255,255,255);\n\nfloat ballx = 412.5, bally = 600, balld = 20, ballr = balld/2, paddleX = 362.5, paddleY = 650;\nfloat paddleW = 100, paddleH = 15;\nfloat ballspdX, ballspdY;\n\nboolean ball_drop = true;\n\nfloat direction_choice;\n\nfloat[] brickX = new float[10];\n\nfloat[] brickY = new float[5];\n\nfloat brickW = 50, brickH = 25;\n\n\nvoid setup(){\n  size(825,800);\n  surface.setTitle(&quot;Brick breaker&quot;);\n  noCursor();\n  smooth();\n  \n  brickX[0] = 50;\n  brickX[1] = 125; \n  brickX[2] = 200; \n  brickX[3] = 275;\n  brickX[4] = 350; \n  brickX[5] = 425;\n  brickX[6] = 500; \n  brickX[7] = 575;\n  brickX[8] = 650; \n  brickX[9] = 725; \n  \n  brickY[0] = 50; \n  brickY[1] = 125; \n  brickY[2] = 200; \n  brickY[3] = 275;\n  brickY[4] = 350; \n}\n\nvoid paddle(){\n  noStroke();\n  fill(white);\n  rect(paddleX, paddleY, paddleW, paddleH);\n}\nvoid ball(){\n  noStroke();\n  fill(red);\n  circle(ballx, bally, balld);\n}\n\n\nvoid draw(){\n  background(black);\n  paddle();\n  ball();\n  if (bally + ballr == paddleY &amp;&amp; ballx &gt; paddleX &amp;&amp; ballx &lt; paddleX + (paddleW / 2)){\n    ball_drop = false;\n    ballspdY = -ballspdY;\n    ballspdX = -4;\n  }\n  \n  \n  /*\n    if (bally + ballr == paddleY &amp;&amp; ballx &gt; paddleX &amp;&amp; ballx &lt; paddleX + paddleW){\n    ball_drop = false;\n    ballspdY = -ballspdY;\n    direction_choice = int(random(1,3));\n    if (direction_choice == 1){\n     ballspdX = 4; \n    }\n    if (direction_choice == 2){\n      ballspdX = -4;\n    }\n  }\n  println(direction_choice);\n  \n  */\n  if (bally + ballr == paddleY &amp;&amp; ballx &gt; paddleX + (paddleW /2) &amp;&amp; ballx &lt; paddleX + paddleW){\n    ball_drop = false;\n    ballspdY = -ballspdY;\n    ballspdX = 4;\n  }\n  \n  if (ballx + ballr &gt; width || ballx - ballr &lt; 0){\n    ballspdX = -ballspdX;\n  }\n  \n  if (bally - ballr &lt; 0){\n    ballspdY = -ballspdY;\n  }\n\n  if (ball_drop){\n    ballspdX = 0;\n    ballspdY = 1;\n  }\n for (int i = 0; i &lt; brickX.length; i ++){\n   for(int j = 0; j &lt; brickY.length; j ++){ \n   fill(red);\n   rect(brickX[i], brickY[j], brickW, brickH); \n   \n    if (collideLineCircle(brickX[i], brickY[j] + brickH, brickX[i] + brickW, brickY[j] + brickH, ballx, bally, ballr)){\n      ballspdY = -ballspdY;\n    }\n   \n  }\n }\n\n  \n if (bally &gt;= 800){\n   bally = 600;\n   ballx = 412.5;\n   ball_drop = true;\n }\n \n \n  bally += ballspdY;\n  ballx += ballspdX;\n  \n}\n  boolean collideLineCircle(float x1, float y1, float x2, float y2, float cx, float cy, float cr){\n    float A = y2 - y1, B = x1 - x2, C = x2*y1 - x1+y2;\n    float denom = A+A + B*B;\n    if (denom == 0){\n    \n      return dist(x1,y1, cx, cy) &lt; cr;\n    \n    }\n    \n    float Ix = (B*B*cx-A*B*cy - A*C)/denom, Iy = (A*A*cy-A*B*cx - B*C)/denom;\n    \n    if (Ix &gt;= min(x1,x2) &amp;&amp; Ix &lt;= max(x1,x2) &amp; Iy &gt;= min(y1,y2) &amp;&amp; Iy &lt;= max(y1,y2)) {\n      return abs (A*cx + B*cy + C)/sqrt(denom) &lt; cr;\n    }\n    \n    float d1 = dist(x1,y1,cx,cy), d2 = dist(x2,y2,cx,cy);\n    return min(d1,d2) &lt; cr;\n    \n  }\n\nvoid mouseMoved(MouseEvent evt){\n  paddleX = evt.getX();\n  }\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1653696821,"post_id":72411920,"comment_id":127921462,"body_markdown":"You don&#39;t need to create a local variable in the constructor, but instead have to assign the values to the instance variables you&#39;ve declared. Have a careful look at your text book or take a look at this [tutorial](https://docs.oracle.com/javase/tutorial/java/javaOO/classdecl.html)","body":"You don&#39;t need to create a local variable in the constructor, but instead have to assign the values to the instance variables you&#39;ve declared. Have a careful look at your text book or take a look at this <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/classdecl.html\" rel=\"nofollow noreferrer\">tutorial</a>"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1653696931,"post_id":72411920,"comment_id":127921480,"body_markdown":"`int array[]= new int[10];` should be `this.array = new int[10];` and `int array[]= new int[y];` should be `this.array = new int[y];` shadowing `array` is not what you wanted.","body":"<code>int array[]= new int[10];</code> should be <code>this.array = new int[10];</code> and <code>int array[]= new int[y];</code> should be <code>this.array = new int[y];</code> shadowing <code>array</code> is not what you wanted."}],"answers":[{"tags":[],"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653712420,"creation_date":1653711647,"answer_id":72412817,"question_id":72411920,"body_markdown":"Use the `ArrayClass` for only for declaring your functionality.Call `add` method as `obj.add(number)` until and unless you need to add something inside `ArrayClass` constructor itself.\r\n\r\nModified these things as per my understanding\r\n 1. In your `add` method you are assigning the value first and then adding space if the array is full, in this case, you are increasing the size even if it might not be needed `(i.e not calling add method again)`.\r\nInstead of this increase the size only when you require it.\r\n 2. In `print` function you are iterating through the whole `array`.Modified to-&gt; it will iterate till the last `index` of value `(i.e x)`\r\n\r\n```\r\npackage com.example;\r\npublic class ArrayClass\r\n{\r\n    private int array[];\r\n    private int x=0;\r\n    private final int DEFAULT_SIZE=4;\r\n\r\n   public ArrayClass(){\r\n    this.array = new int[DEFAULT_SIZE];\r\n   }\r\n\r\n   public ArrayClass(int size){\r\n        this.array = new int[size];\r\n   }\r\n\r\n   public void add(int number){\r\n       //check whether array have space or not .if not then increase the space.\r\n       if(x &gt; this.array.length-1){\r\n           addSpace();\r\n       }\r\n       array[x] =number;\r\n       x++; \r\n   }\r\n\r\n   private void addSpace(){\r\n        double newSize = array.length + array.length * 0.25;\r\n        int tempArray[] = new int[(int) newSize];\r\n        for(int i=0; i&lt;array.length; i++){\r\n            tempArray[i]=array[i];            \r\n        }\r\n        this.array = tempArray;\r\n   }\r\n\r\n\r\n   public int size()\r\n    {\r\n        return x;\r\n    }\r\n    public int getThat(int index)\r\n    {\r\n        return array[index];\r\n    }\r\n\r\n    public void print()\r\n    {   \r\n        //instead of of printing the whole array Printed till last value index.\r\n        for(int i=0; i&lt;x; i++)\r\n            System.out.println(array[i]+&quot; &quot;);\r\n    }\r\n\r\n}\r\n```\r\nFrom the `main` method\r\n```\r\n    ArrayClass ac1 = new ArrayClass();\r\n    ac1.add(5);\r\n    ac1.add(4);\r\n    ac1.add(5);\r\n    ac1.add(4);\r\n    ac1.add(7);\r\n    ac1.add(19);\r\n    ac1.print();\r\n    ArrayClass ac2 = new ArrayClass(5);\r\n    ac2.add(1);\r\n    //rest of your function call here \r\n\r\n```","title":"How would I create a method that stores the parameter value in an array at the index of the position variable, then adds 1 to the position variable","body":"<p>Use the <code>ArrayClass</code> for only for declaring your functionality.Call <code>add</code> method as <code>obj.add(number)</code> until and unless you need to add something inside <code>ArrayClass</code> constructor itself.</p>\n<p>Modified these things as per my understanding</p>\n<ol>\n<li>In your <code>add</code> method you are assigning the value first and then adding space if the array is full, in this case, you are increasing the size even if it might not be needed <code>(i.e not calling add method again)</code>.\nInstead of this increase the size only when you require it.</li>\n<li>In <code>print</code> function you are iterating through the whole <code>array</code>.Modified to-&gt; it will iterate till the last <code>index</code> of value <code>(i.e x)</code></li>\n</ol>\n<pre><code>package com.example;\npublic class ArrayClass\n{\n    private int array[];\n    private int x=0;\n    private final int DEFAULT_SIZE=4;\n\n   public ArrayClass(){\n    this.array = new int[DEFAULT_SIZE];\n   }\n\n   public ArrayClass(int size){\n        this.array = new int[size];\n   }\n\n   public void add(int number){\n       //check whether array have space or not .if not then increase the space.\n       if(x &gt; this.array.length-1){\n           addSpace();\n       }\n       array[x] =number;\n       x++; \n   }\n\n   private void addSpace(){\n        double newSize = array.length + array.length * 0.25;\n        int tempArray[] = new int[(int) newSize];\n        for(int i=0; i&lt;array.length; i++){\n            tempArray[i]=array[i];            \n        }\n        this.array = tempArray;\n   }\n\n\n   public int size()\n    {\n        return x;\n    }\n    public int getThat(int index)\n    {\n        return array[index];\n    }\n\n    public void print()\n    {   \n        //instead of of printing the whole array Printed till last value index.\n        for(int i=0; i&lt;x; i++)\n            System.out.println(array[i]+&quot; &quot;);\n    }\n\n}\n</code></pre>\n<p>From the <code>main</code> method</p>\n<pre><code>    ArrayClass ac1 = new ArrayClass();\n    ac1.add(5);\n    ac1.add(4);\n    ac1.add(5);\n    ac1.add(4);\n    ac1.add(7);\n    ac1.add(19);\n    ac1.print();\n    ArrayClass ac2 = new ArrayClass(5);\n    ac2.add(1);\n    //rest of your function call here \n\n</code></pre>\n"}],"owner":{"account_id":24726025,"reputation":15,"user_id":18614514,"display_name":"Brock-ly"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72412817,"answer_count":1,"score":0,"last_activity_date":1653712420,"creation_date":1653694473,"question_id":72411920,"body_markdown":"I have an assignment to create an array class where there are 2 constructors where each constructor sets a different size for the array. \r\n\r\nThe array is already an instance variable along with another instance variable to keep track of the current position in the array. \r\n\r\nI have to create a method called add with an integer parameter that will store the parameter value in the array at the index of the position variable, then add 1 to the position variable. If the incremented position variable is outside the bounds of the array, the method calls the addspace method. \r\n\r\nThe addspace method creates a new array 25% larger than the instance variable array, copies all the values of the instance array to the new array, and assigns the new array to the instance variable.\r\n\r\nI also need a method called size that will return the value in the position variable and a method called get that with 1 parameter(an index), the method returns the value at the parameter index. \r\n\r\nThe last thing I need is a print method that uses a for loop to print the values in the array.\r\n\r\nSo far this is what I have\r\n```\r\npublic class ArrayClass\r\n{\r\n    private int array[];\r\n    private int x=0;\r\n\r\n    public ArrayClass()\r\n    {\r\n        this.array= new int[10];\r\n        add(1);\r\n        getThat(0);\r\n        print();\r\n    }\r\n\r\n    public ArrayClass(int y)\r\n    {\r\n        this.array= new int[y];\r\n        add(2);\r\n        getThat(0);\r\n        print();\r\n    }\r\n\r\n    public void add(int a)\r\n    {\r\n        array[x]=a;\r\n        x++;\r\n        if(x&gt;array.length)\r\n            addspace();\r\n    }\r\n\r\n    public void addspace()\r\n    {\r\n        double d=array.length+(array.length*0.25);\r\n        int v=(int)d;\r\n        int newArray[]= new int[v];\r\n        for(int i=0; i&lt;array.length; i++)\r\n        {\r\n            newArray[i]=array[i];\r\n            System.out.println(newArray[i]);\r\n        }\r\n\r\n    }\r\n    public int size()\r\n    {\r\n        return x;\r\n    }\r\n    public int getThat(int index)\r\n    {\r\n        return array[index];\r\n    }\r\n\r\n    public void print()\r\n    {\r\n        for(int i=0; i&lt;array.length; i++)\r\n            System.out.println(array[i]+&quot; &quot;);\r\n    }\r\n    public static void main(String[] args)\r\n    {\r\n        new ArrayClass();\r\n        new ArrayClass(5);\r\n    }\r\n}\r\n```\r\nI know the title only asks for help with the first method but if someone would be kind enough to help with the other methods and the reason why my code won&#39;t run and print what I want it to that would be much appreciated. \r\n\r\n\r\n\r\n\r\n\r\n","title":"How would I create a method that stores the parameter value in an array at the index of the position variable, then adds 1 to the position variable","body":"<p>I have an assignment to create an array class where there are 2 constructors where each constructor sets a different size for the array.</p>\n<p>The array is already an instance variable along with another instance variable to keep track of the current position in the array.</p>\n<p>I have to create a method called add with an integer parameter that will store the parameter value in the array at the index of the position variable, then add 1 to the position variable. If the incremented position variable is outside the bounds of the array, the method calls the addspace method.</p>\n<p>The addspace method creates a new array 25% larger than the instance variable array, copies all the values of the instance array to the new array, and assigns the new array to the instance variable.</p>\n<p>I also need a method called size that will return the value in the position variable and a method called get that with 1 parameter(an index), the method returns the value at the parameter index.</p>\n<p>The last thing I need is a print method that uses a for loop to print the values in the array.</p>\n<p>So far this is what I have</p>\n<pre><code>public class ArrayClass\n{\n    private int array[];\n    private int x=0;\n\n    public ArrayClass()\n    {\n        this.array= new int[10];\n        add(1);\n        getThat(0);\n        print();\n    }\n\n    public ArrayClass(int y)\n    {\n        this.array= new int[y];\n        add(2);\n        getThat(0);\n        print();\n    }\n\n    public void add(int a)\n    {\n        array[x]=a;\n        x++;\n        if(x&gt;array.length)\n            addspace();\n    }\n\n    public void addspace()\n    {\n        double d=array.length+(array.length*0.25);\n        int v=(int)d;\n        int newArray[]= new int[v];\n        for(int i=0; i&lt;array.length; i++)\n        {\n            newArray[i]=array[i];\n            System.out.println(newArray[i]);\n        }\n\n    }\n    public int size()\n    {\n        return x;\n    }\n    public int getThat(int index)\n    {\n        return array[index];\n    }\n\n    public void print()\n    {\n        for(int i=0; i&lt;array.length; i++)\n            System.out.println(array[i]+&quot; &quot;);\n    }\n    public static void main(String[] args)\n    {\n        new ArrayClass();\n        new ArrayClass(5);\n    }\n}\n</code></pre>\n<p>I know the title only asks for help with the first method but if someone would be kind enough to help with the other methods and the reason why my code won't run and print what I want it to that would be much appreciated.</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":22233599,"reputation":21,"user_id":16469338,"display_name":"quitethenoob"},"score":0,"creation_date":1653657903,"post_id":72406074,"comment_id":127910510,"body_markdown":"Please excuse my format of asking the question. I understand it&#39;s not up to the mark. Really need the help. Thanks.","body":"Please excuse my format of asking the question. I understand it&#39;s not up to the mark. Really need the help. Thanks."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1653658234,"post_id":72406074,"comment_id":127910648,"body_markdown":"remove `hibernate JPA 2.1 api 1.0.2` and keep the `javax.persistence-api`","body":"remove <code>hibernate JPA 2.1 api 1.0.2</code> and keep the <code>javax.persistence-api</code>"},{"owner":{"account_id":22233599,"reputation":21,"user_id":16469338,"display_name":"quitethenoob"},"score":0,"creation_date":1653660553,"post_id":72406074,"comment_id":127911597,"body_markdown":"Caused by: java.lang.NoSuchMethodError: javax.persistence.JoinColumn.foreignKey()Ljavax/persistence/ForeignKey; - this is the error i&#39;m getting when I remove JPA 2.1. How do you suggest this can be fixed?","body":"Caused by: java.lang.NoSuchMethodError: javax.persistence.JoinColumn.foreignKey()Ljavax/persistence/&zwnj;&#8203;ForeignKey; - this is the error i&#39;m getting when I remove JPA 2.1. How do you suggest this can be fixed?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1653661245,"post_id":72406074,"comment_id":127911906,"body_markdown":"Provide a full list of your spring, hibernate, javax dependencies.","body":"Provide a full list of your spring, hibernate, javax dependencies."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1653684750,"post_id":72406074,"comment_id":127919354,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":22233599,"reputation":21,"user_id":16469338,"display_name":"quitethenoob"},"score":0,"creation_date":1653712715,"post_id":72406074,"comment_id":127923112,"body_markdown":"@XtremeBaumer Spring - aop, context, context support, beans, core, data-commons(2.7), data JPA(2.7), expressions, JDBC, orm, tx, web, webmvc (everything else is 5.3.20) \nHibernate core - 5.4.24, Hibernate JPA - 2.1 api - 1.0.2, Hibernate commons annotation -5.1.2\njavax.persistence- api - 2.2, javax.activation -api-1..2.0, javax servlet 3.0","body":"@XtremeBaumer Spring - aop, context, context support, beans, core, data-commons(2.7), data JPA(2.7), expressions, JDBC, orm, tx, web, webmvc (everything else is 5.3.20)  Hibernate core - 5.4.24, Hibernate JPA - 2.1 api - 1.0.2, Hibernate commons annotation -5.1.2 javax.persistence- api - 2.2, javax.activation -api-1..2.0, javax servlet 3.0"}],"owner":{"account_id":22233599,"reputation":21,"user_id":16469338,"display_name":"quitethenoob"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":494,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1653712376,"creation_date":1653657417,"question_id":72406074,"body_markdown":"We&#39;re trying to upgrade the spring version on our existing project to 5.3.20 from 3.0.3. We&#39;ve been stuck on the same errors and circling around it for weeks now. We&#39;re using normal Spring framework. It&#39;s not a maven project. I&#39;ve also updated hibernate from 3.x to 5.1.2 (I&#39;ve also tried using 5.6.9 and went through the same issue) From all that I&#39;ve done until now to fix this issue, this is what I&#39;ve understood:\r\n\r\nI&#39;m using hibernate JPA 2.1 api 1.0.2 and javax persistance api 2.2. There are 2 issues. When I use both together I get this error: \r\n&gt;java.lang.NoSuchMethodError: javax.persistence.JoinColumn.foreignKey()Ljavax/persistence/ForeignKey; \r\n\r\nwhen I try removing javax persistence - I get this TableGenerators class not found error. and when I remove JPA I get JoinColoumns.ForeignKey() method not found error. What am I doing wrong? Am I missing something? Is there a way to exclude certain classes from these jars if it&#39;s not a maven project? Is the actual issue something else altogether?\r\n\r\nStacktrace\r\n\r\n[![enter image description here][1]][1]\r\n\r\n","title":"Hibernate JPA and javax persistence conflicts while upgrading to Spring 5.3.20","body":"<p>We're trying to upgrade the spring version on our existing project to 5.3.20 from 3.0.3. We've been stuck on the same errors and circling around it for weeks now. We're using normal Spring framework. It's not a maven project. I've also updated hibernate from 3.x to 5.1.2 (I've also tried using 5.6.9 and went through the same issue) From all that I've done until now to fix this issue, this is what I've understood:</p>\n<p>I'm using hibernate JPA 2.1 api 1.0.2 and javax persistance api 2.2. There are 2 issues. When I use both together I get this error:</p>\n<blockquote>\n<p>java.lang.NoSuchMethodError: javax.persistence.JoinColumn.foreignKey()Ljavax/persistence/ForeignKey;</p>\n</blockquote>\n<p>when I try removing javax persistence - I get this TableGenerators class not found error. and when I remove JPA I get JoinColoumns.ForeignKey() method not found error. What am I doing wrong? Am I missing something? Is there a way to exclude certain classes from these jars if it's not a maven project? Is the actual issue something else altogether?</p>\n<p>Stacktrace</p>\n<p>[![enter image description here][1]][1]</p>\n"},{"tags":["java","json","rest","spring-mvc","microservices"],"comments":[{"owner":{"account_id":14008000,"reputation":259,"user_id":10117515,"display_name":"Supritam"},"score":0,"creation_date":1653462757,"post_id":72373264,"comment_id":127855432,"body_markdown":"Can share the client code as well?","body":"Can share the client code as well?"},{"owner":{"account_id":9875840,"reputation":829,"user_id":7313637,"accept_rate":0,"display_name":"liotur"},"score":0,"creation_date":1653468234,"post_id":72373264,"comment_id":127857330,"body_markdown":"@Supritam, I updated the code snippet.","body":"@Supritam, I updated the code snippet."}],"answers":[{"tags":[],"owner":{"account_id":9875840,"reputation":829,"user_id":7313637,"accept_rate":0,"display_name":"liotur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653711898,"creation_date":1653711898,"answer_id":72412833,"question_id":72373264,"body_markdown":"I think I managed to find the reason. This happens due to missing property in the base class of one of the members within my payload. \r\n\r\nHere are the [details][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/72396593/jackson-mapper-could-not-resolve-subtype-of-simple-type-class-missing-type","title":"400 : [no body] - Bad request while sending POST request to the server","body":"<p>I think I managed to find the reason. This happens due to missing property in the base class of one of the members within my payload.</p>\n<p>Here are the <a href=\"https://stackoverflow.com/questions/72396593/jackson-mapper-could-not-resolve-subtype-of-simple-type-class-missing-type\">details</a></p>\n"}],"owner":{"account_id":9875840,"reputation":829,"user_id":7313637,"accept_rate":0,"display_name":"liotur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653711898,"creation_date":1653462491,"question_id":72373264,"body_markdown":"I have generated (openapi) payload object.\r\n\r\n    @JsonPropertyOrder({\r\n      MyPayload.JSON_PROPERTY_MY_PROPERTY\r\n    })\r\n    @javax.annotation.Generated(value = &quot;org.openapitools.codegen.languages.JavaClientCodegen&quot;, date = ...&quot;)\r\n    public class MyPayload {\r\n      public static final String JSON_PROPERTY_MY_PROPERTY = &quot;my_properties&quot;;\r\n      private Map&lt;String, MyPropery&gt; myProperties = null;\r\n    ...\r\n        }\r\n\r\nWhen my client micro-service sending post request - it failed with \r\n\r\n    org.springframework.web.client.HttpClientErrorException$BadRequest: 400 : [no body]\r\n\r\nHowever if I would send pure Json as a payload from Postman - seems working fine, coming to the server.\r\n\r\nAs far as I understand issue on client side, can&#39;t find the reason ((( \r\n\r\nBelow code of my client (spring-web 5.3.14)\r\n  \r\n\r\n    private MyClient getMyClient() {\r\n        MyClient myClient = new MyClient();\r\n        HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\r\n        requestFactory.setHttpClient(HttpClients.custom().setSSLHostnameVerifier(new NoopHostnameVerifier()).build());\r\n    \r\n        RestTemplate restTemplate = new RestTemplate(requestFactory);\r\n        restTemplate.setInterceptors(\r\n            Collections.singletonList(\r\n                (ClientHttpRequestInterceptor) new TenantAwareClientInterceptor(storage)));\r\n        ApiClient apiClient = new ApiClient(restTemplate);\r\n        apiClient.setBasePath(&quot;https://myMS:poty/api/v1/...&quot;);\r\n        myClient.setApiClient(apiClient);\r\n    \r\n        return myClient;\r\n      }\r\n\r\nMay it be because of some differences between objects that are in my payload and objects that unmarshalled on server side?\r\n\r\n**UPD:** Seems something wrong with the payload. \r\nWhen I am creating payload with all fields null - everything is working fine...\r\n\r\nWhat might be wrong with payload?","title":"400 : [no body] - Bad request while sending POST request to the server","body":"<p>I have generated (openapi) payload object.</p>\n<pre><code>@JsonPropertyOrder({\n  MyPayload.JSON_PROPERTY_MY_PROPERTY\n})\n@javax.annotation.Generated(value = &quot;org.openapitools.codegen.languages.JavaClientCodegen&quot;, date = ...&quot;)\npublic class MyPayload {\n  public static final String JSON_PROPERTY_MY_PROPERTY = &quot;my_properties&quot;;\n  private Map&lt;String, MyPropery&gt; myProperties = null;\n...\n    }\n</code></pre>\n<p>When my client micro-service sending post request - it failed with</p>\n<pre><code>org.springframework.web.client.HttpClientErrorException$BadRequest: 400 : [no body]\n</code></pre>\n<p>However if I would send pure Json as a payload from Postman - seems working fine, coming to the server.</p>\n<p>As far as I understand issue on client side, can't find the reason (((</p>\n<p>Below code of my client (spring-web 5.3.14)</p>\n<pre><code>private MyClient getMyClient() {\n    MyClient myClient = new MyClient();\n    HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\n    requestFactory.setHttpClient(HttpClients.custom().setSSLHostnameVerifier(new NoopHostnameVerifier()).build());\n\n    RestTemplate restTemplate = new RestTemplate(requestFactory);\n    restTemplate.setInterceptors(\n        Collections.singletonList(\n            (ClientHttpRequestInterceptor) new TenantAwareClientInterceptor(storage)));\n    ApiClient apiClient = new ApiClient(restTemplate);\n    apiClient.setBasePath(&quot;https://myMS:poty/api/v1/...&quot;);\n    myClient.setApiClient(apiClient);\n\n    return myClient;\n  }\n</code></pre>\n<p>May it be because of some differences between objects that are in my payload and objects that unmarshalled on server side?</p>\n<p><strong>UPD:</strong> Seems something wrong with the payload.\nWhen I am creating payload with all fields null - everything is working fine...</p>\n<p>What might be wrong with payload?</p>\n"},{"tags":["java","sorting","hashmap"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":6,"up_vote_count":32,"is_accepted":false,"score":26,"last_activity_date":1321262266,"creation_date":1321262266,"answer_id":8119401,"question_id":8119366,"body_markdown":"You don&#39;t, basically. A `HashMap` is fundamentally unordered. Any patterns you *might* see in the ordering should *not* be relied on.\r\n\r\nThere are sorted maps such as `TreeMap`, but they traditionally sort by key rather than value. It&#39;s relatively unusual to sort by value - especially as multiple keys can have the same value.\r\n\r\nCan you give more context for what you&#39;re trying to do? If you&#39;re really only storing numbers (as strings) for the keys, perhaps a `SortedSet` such as `TreeSet` would work for you?\r\n\r\nAlternatively, you could store two separate collections encapsulated in a single class to update both at the same time?","title":"Sorting HashMap by values","body":"<p>You don't, basically. A <code>HashMap</code> is fundamentally unordered. Any patterns you <em>might</em> see in the ordering should <em>not</em> be relied on.</p>\n\n<p>There are sorted maps such as <code>TreeMap</code>, but they traditionally sort by key rather than value. It's relatively unusual to sort by value - especially as multiple keys can have the same value.</p>\n\n<p>Can you give more context for what you're trying to do? If you're really only storing numbers (as strings) for the keys, perhaps a <code>SortedSet</code> such as <code>TreeSet</code> would work for you?</p>\n\n<p>Alternatively, you could store two separate collections encapsulated in a single class to update both at the same time?</p>\n"},{"tags":[],"owner":{"account_id":185612,"reputation":10597,"user_id":422437,"accept_rate":84,"display_name":"Sandeep Pathak"},"down_vote_count":1,"up_vote_count":102,"is_accepted":true,"score":101,"last_activity_date":1461020985,"creation_date":1321262304,"answer_id":8119406,"question_id":8119366,"body_markdown":"Assuming Java, you could sort hashmap just like this:\r\n\r\n\r\n    public LinkedHashMap&lt;Integer, String&gt; sortHashMapByValues(\r\n            HashMap&lt;Integer, String&gt; passedMap) {\r\n        List&lt;Integer&gt; mapKeys = new ArrayList&lt;&gt;(passedMap.keySet());\r\n        List&lt;String&gt; mapValues = new ArrayList&lt;&gt;(passedMap.values());\r\n        Collections.sort(mapValues);\r\n        Collections.sort(mapKeys);\r\n        \r\n        LinkedHashMap&lt;Integer, String&gt; sortedMap =\r\n            new LinkedHashMap&lt;&gt;();\r\n      \r\n        Iterator&lt;String&gt; valueIt = mapValues.iterator();\r\n        while (valueIt.hasNext()) {\r\n            String val = valueIt.next();\r\n            Iterator&lt;Integer&gt; keyIt = mapKeys.iterator();\r\n        \r\n            while (keyIt.hasNext()) {\r\n                Integer key = keyIt.next();\r\n                String comp1 = passedMap.get(key);\r\n                String comp2 = val;\r\n            \r\n                if (comp1.equals(comp2)) {\r\n                    keyIt.remove();\r\n                    sortedMap.put(key, val);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return sortedMap;\r\n    }\r\n\r\nJust a kick-off example. This way is more useful as it sorts the HashMap and keeps the duplicate values as well.","title":"Sorting HashMap by values","body":"<p>Assuming Java, you could sort hashmap just like this:</p>\n\n<pre><code>public LinkedHashMap&lt;Integer, String&gt; sortHashMapByValues(\n        HashMap&lt;Integer, String&gt; passedMap) {\n    List&lt;Integer&gt; mapKeys = new ArrayList&lt;&gt;(passedMap.keySet());\n    List&lt;String&gt; mapValues = new ArrayList&lt;&gt;(passedMap.values());\n    Collections.sort(mapValues);\n    Collections.sort(mapKeys);\n\n    LinkedHashMap&lt;Integer, String&gt; sortedMap =\n        new LinkedHashMap&lt;&gt;();\n\n    Iterator&lt;String&gt; valueIt = mapValues.iterator();\n    while (valueIt.hasNext()) {\n        String val = valueIt.next();\n        Iterator&lt;Integer&gt; keyIt = mapKeys.iterator();\n\n        while (keyIt.hasNext()) {\n            Integer key = keyIt.next();\n            String comp1 = passedMap.get(key);\n            String comp2 = val;\n\n            if (comp1.equals(comp2)) {\n                keyIt.remove();\n                sortedMap.put(key, val);\n                break;\n            }\n        }\n    }\n    return sortedMap;\n}\n</code></pre>\n\n<p>Just a kick-off example. This way is more useful as it sorts the HashMap and keeps the duplicate values as well.</p>\n"},{"tags":[],"owner":{"account_id":1587132,"reputation":6980,"user_id":1471203,"accept_rate":89,"display_name":"Rais Alam"},"down_vote_count":0,"up_vote_count":189,"is_accepted":false,"score":189,"last_activity_date":1653711426,"creation_date":1355743496,"answer_id":13913206,"question_id":8119366,"body_markdown":"A generic version of a method to sort a `Map` resembles:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n\r\n    private static &lt;K extends Comparable&lt;K&gt;, V extends Comparable&lt;V&gt;&gt; Map&lt;K, V&gt; sort(\r\n            final Map&lt;K, V&gt; unsorted,\r\n            final boolean order) {\r\n        final var list = new LinkedList&lt;&gt;(unsorted.entrySet());\r\n\r\n        list.sort((o1, o2) -&gt; order\r\n                              ? o1.getValue().compareTo(o2.getValue()) == 0\r\n                                ? o1.getKey().compareTo(o2.getKey())\r\n                                : o1.getValue().compareTo(o2.getValue())\r\n                              : o2.getValue().compareTo(o1.getValue()) == 0\r\n                                ? o2.getKey().compareTo(o1.getKey())\r\n                                : o2.getValue().compareTo(o1.getValue()));\r\n        return list.stream().collect(\r\n                Collectors.toMap(\r\n                        Entry::getKey, Entry::getValue, (a, b) -&gt; b, LinkedHashMap::new\r\n                )\r\n        );\r\n    }\r\n\r\nThe following code offers ascending and descending sorting by value:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n    import java.util.HashMap;\r\n    import java.util.LinkedHashMap;\r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Map.Entry;\r\n    \r\n    public class SortMapByValue\r\n    {\r\n    \tpublic static final boolean ASC = true;\r\n    \tpublic static final boolean DESC = false;\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \r\n    \t\t// Creating dummy unsorted map\r\n    \t\tMap&lt;String, Integer&gt; unsortMap = new HashMap&lt;String, Integer&gt;();\r\n    \t\tunsortMap.put(&quot;B&quot;, 55);\r\n    \t\tunsortMap.put(&quot;A&quot;, 80);\r\n    \t\tunsortMap.put(&quot;D&quot;, 20);\r\n    \t\tunsortMap.put(&quot;C&quot;, 70);\r\n    \r\n    \t\tSystem.out.println(&quot;Before sorting......&quot;);\r\n    \t\tprintMap(unsortMap);\r\n    \r\n    \t\tSystem.out.println(&quot;After sorting ascending order......&quot;);\r\n    \t\tMap&lt;String, Integer&gt; sortedMapAsc = sortByComparator(unsortMap, ASC);\r\n    \t\tprintMap(sortedMapAsc);\r\n    \t\t\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;After sorting descindeng order......&quot;);\r\n    \t\tMap&lt;String, Integer&gt; sortedMapDesc = sortByComparator(unsortMap, DESC);\r\n    \t\tprintMap(sortedMapDesc);\r\n    \r\n    \t}\r\n    \r\n    \tprivate static Map&lt;String, Integer&gt; sortByComparator(Map&lt;String, Integer&gt; unsortMap, final boolean order)\r\n    \t{\r\n    \r\n    \t\tList&lt;Entry&lt;String, Integer&gt;&gt; list = new LinkedList&lt;Entry&lt;String, Integer&gt;&gt;(unsortMap.entrySet());\r\n    \r\n    \t\t// Sorting the list based on values\r\n    \t\tCollections.sort(list, new Comparator&lt;Entry&lt;String, Integer&gt;&gt;()\r\n    \t\t{\r\n    \t\t\tpublic int compare(Entry&lt;String, Integer&gt; o1,\r\n    \t\t\t\t\tEntry&lt;String, Integer&gt; o2)\r\n    \t\t\t{\r\n    \t\t\t\tif (order)\r\n    \t\t\t\t{\r\n    \t\t\t\t\treturn o1.getValue().compareTo(o2.getValue());\r\n    \t\t\t\t}\r\n    \t\t\t\telse\r\n    \t\t\t\t{\r\n    \t\t\t\t\treturn o2.getValue().compareTo(o1.getValue());\r\n    \r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\t// Maintaining insertion order with the help of LinkedList\r\n    \t\tMap&lt;String, Integer&gt; sortedMap = new LinkedHashMap&lt;String, Integer&gt;();\r\n    \t\tfor (Entry&lt;String, Integer&gt; entry : list)\r\n    \t\t{\r\n    \t\t\tsortedMap.put(entry.getKey(), entry.getValue());\r\n    \t\t}\r\n    \r\n    \t\treturn sortedMap;\r\n    \t}\r\n    \r\n    \tpublic static void printMap(Map&lt;String, Integer&gt; map)\r\n    \t{\r\n    \t\tfor (Entry&lt;String, Integer&gt; entry : map.entrySet())\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;Key : &quot; + entry.getKey() + &quot; Value : &quot;+ entry.getValue());\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nUsing newer Java features:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n     import java.util.*;\r\n     import java.util.Map.Entry;\r\n     import java.util.stream.Collectors;\r\n        \r\n     public class SortMapByValue\r\n    \r\n     {\r\n        private static final boolean ASC = true;\r\n        private static final boolean DESC = false;\r\n    \tpublic static void main(String[] args)\r\n        {\r\n    \r\n            // Creating dummy unsorted map\r\n            Map&lt;String, Integer&gt; unsortMap = new HashMap&lt;&gt;();\r\n            unsortMap.put(&quot;B&quot;, 55);\r\n            unsortMap.put(&quot;A&quot;, 20);\r\n            unsortMap.put(&quot;D&quot;, 20);\r\n            unsortMap.put(&quot;C&quot;, 70);\r\n    \r\n            System.out.println(&quot;Before sorting......&quot;);\r\n            printMap(unsortMap);\r\n    \r\n            System.out.println(&quot;After sorting ascending order......&quot;);\r\n            Map&lt;String, Integer&gt; sortedMapAsc = sortByValue(unsortMap, ASC);\r\n    \t    printMap(sortedMapAsc);\r\n    \r\n    \r\n            System.out.println(&quot;After sorting descending order......&quot;);\r\n            Map&lt;String, Integer&gt; sortedMapDesc = sortByValue(unsortMap, DESC);\r\n    \t    printMap(sortedMapDesc);\r\n        }\r\n    \r\n        private static Map&lt;String, Integer&gt; sortByValue(Map&lt;String, Integer&gt; unsortMap, final boolean order)\r\n        {\r\n    \t    List&lt;Entry&lt;String, Integer&gt;&gt; list = new LinkedList&lt;&gt;(unsortMap.entrySet());\r\n    \r\n            // Sorting the list based on values\r\n            list.sort((o1, o2) -&gt; order ? o1.getValue().compareTo(o2.getValue()) == 0\r\n    \t\t        ? o1.getKey().compareTo(o2.getKey())\r\n    \t\t        : o1.getValue().compareTo(o2.getValue()) : o2.getValue().compareTo(o1.getValue()) == 0\r\n    \t\t        ? o2.getKey().compareTo(o1.getKey())\r\n    \t\t        : o2.getValue().compareTo(o1.getValue()));\r\n    \t    return list.stream().collect(Collectors.toMap(Entry::getKey, Entry::getValue, (a, b) -&gt; b, LinkedHashMap::new));\r\n    \r\n        }\r\n    \r\n        private static void printMap(Map&lt;String, Integer&gt; map)\r\n        {\r\n    \t    map.forEach((key, value) -&gt; System.out.println(&quot;Key : &quot; + key + &quot; Value : &quot; + value));\r\n        }\r\n    }\r\n\r\n","title":"Sorting HashMap by values","body":"<p>A generic version of a method to sort a <code>Map</code> resembles:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static &lt;K extends Comparable&lt;K&gt;, V extends Comparable&lt;V&gt;&gt; Map&lt;K, V&gt; sort(\n        final Map&lt;K, V&gt; unsorted,\n        final boolean order) {\n    final var list = new LinkedList&lt;&gt;(unsorted.entrySet());\n\n    list.sort((o1, o2) -&gt; order\n                          ? o1.getValue().compareTo(o2.getValue()) == 0\n                            ? o1.getKey().compareTo(o2.getKey())\n                            : o1.getValue().compareTo(o2.getValue())\n                          : o2.getValue().compareTo(o1.getValue()) == 0\n                            ? o2.getKey().compareTo(o1.getKey())\n                            : o2.getValue().compareTo(o1.getValue()));\n    return list.stream().collect(\n            Collectors.toMap(\n                    Entry::getKey, Entry::getValue, (a, b) -&gt; b, LinkedHashMap::new\n            )\n    );\n}\n</code></pre>\n<p>The following code offers ascending and descending sorting by value:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Collections;\nimport java.util.Comparator;\nimport java.util.HashMap;\nimport java.util.LinkedHashMap;\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Map.Entry;\n\npublic class SortMapByValue\n{\n    public static final boolean ASC = true;\n    public static final boolean DESC = false;\n\n    public static void main(String[] args)\n    {\n\n        // Creating dummy unsorted map\n        Map&lt;String, Integer&gt; unsortMap = new HashMap&lt;String, Integer&gt;();\n        unsortMap.put(&quot;B&quot;, 55);\n        unsortMap.put(&quot;A&quot;, 80);\n        unsortMap.put(&quot;D&quot;, 20);\n        unsortMap.put(&quot;C&quot;, 70);\n\n        System.out.println(&quot;Before sorting......&quot;);\n        printMap(unsortMap);\n\n        System.out.println(&quot;After sorting ascending order......&quot;);\n        Map&lt;String, Integer&gt; sortedMapAsc = sortByComparator(unsortMap, ASC);\n        printMap(sortedMapAsc);\n        \n        \n        System.out.println(&quot;After sorting descindeng order......&quot;);\n        Map&lt;String, Integer&gt; sortedMapDesc = sortByComparator(unsortMap, DESC);\n        printMap(sortedMapDesc);\n\n    }\n\n    private static Map&lt;String, Integer&gt; sortByComparator(Map&lt;String, Integer&gt; unsortMap, final boolean order)\n    {\n\n        List&lt;Entry&lt;String, Integer&gt;&gt; list = new LinkedList&lt;Entry&lt;String, Integer&gt;&gt;(unsortMap.entrySet());\n\n        // Sorting the list based on values\n        Collections.sort(list, new Comparator&lt;Entry&lt;String, Integer&gt;&gt;()\n        {\n            public int compare(Entry&lt;String, Integer&gt; o1,\n                    Entry&lt;String, Integer&gt; o2)\n            {\n                if (order)\n                {\n                    return o1.getValue().compareTo(o2.getValue());\n                }\n                else\n                {\n                    return o2.getValue().compareTo(o1.getValue());\n\n                }\n            }\n        });\n\n        // Maintaining insertion order with the help of LinkedList\n        Map&lt;String, Integer&gt; sortedMap = new LinkedHashMap&lt;String, Integer&gt;();\n        for (Entry&lt;String, Integer&gt; entry : list)\n        {\n            sortedMap.put(entry.getKey(), entry.getValue());\n        }\n\n        return sortedMap;\n    }\n\n    public static void printMap(Map&lt;String, Integer&gt; map)\n    {\n        for (Entry&lt;String, Integer&gt; entry : map.entrySet())\n        {\n            System.out.println(&quot;Key : &quot; + entry.getKey() + &quot; Value : &quot;+ entry.getValue());\n        }\n    }\n}\n</code></pre>\n<p>Using newer Java features:</p>\n<pre class=\"lang-java prettyprint-override\"><code> import java.util.*;\n import java.util.Map.Entry;\n import java.util.stream.Collectors;\n    \n public class SortMapByValue\n\n {\n    private static final boolean ASC = true;\n    private static final boolean DESC = false;\n    public static void main(String[] args)\n    {\n\n        // Creating dummy unsorted map\n        Map&lt;String, Integer&gt; unsortMap = new HashMap&lt;&gt;();\n        unsortMap.put(&quot;B&quot;, 55);\n        unsortMap.put(&quot;A&quot;, 20);\n        unsortMap.put(&quot;D&quot;, 20);\n        unsortMap.put(&quot;C&quot;, 70);\n\n        System.out.println(&quot;Before sorting......&quot;);\n        printMap(unsortMap);\n\n        System.out.println(&quot;After sorting ascending order......&quot;);\n        Map&lt;String, Integer&gt; sortedMapAsc = sortByValue(unsortMap, ASC);\n        printMap(sortedMapAsc);\n\n\n        System.out.println(&quot;After sorting descending order......&quot;);\n        Map&lt;String, Integer&gt; sortedMapDesc = sortByValue(unsortMap, DESC);\n        printMap(sortedMapDesc);\n    }\n\n    private static Map&lt;String, Integer&gt; sortByValue(Map&lt;String, Integer&gt; unsortMap, final boolean order)\n    {\n        List&lt;Entry&lt;String, Integer&gt;&gt; list = new LinkedList&lt;&gt;(unsortMap.entrySet());\n\n        // Sorting the list based on values\n        list.sort((o1, o2) -&gt; order ? o1.getValue().compareTo(o2.getValue()) == 0\n                ? o1.getKey().compareTo(o2.getKey())\n                : o1.getValue().compareTo(o2.getValue()) : o2.getValue().compareTo(o1.getValue()) == 0\n                ? o2.getKey().compareTo(o1.getKey())\n                : o2.getValue().compareTo(o1.getValue()));\n        return list.stream().collect(Collectors.toMap(Entry::getKey, Entry::getValue, (a, b) -&gt; b, LinkedHashMap::new));\n\n    }\n\n    private static void printMap(Map&lt;String, Integer&gt; map)\n    {\n        map.forEach((key, value) -&gt; System.out.println(&quot;Key : &quot; + key + &quot; Value : &quot; + value));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1518381,"reputation":824,"user_id":1418801,"accept_rate":85,"display_name":"HakunaMatata"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1374490129,"creation_date":1374490129,"answer_id":17785616,"question_id":8119366,"body_markdown":"    package SortedSet;\r\n\r\n    import java.util.*;\r\n\r\n    public class HashMapValueSort {\r\n    public static void main(String[] args){\r\n        final Map&lt;Integer, String&gt; map = new HashMap&lt;Integer,String&gt;();\r\n        map.put(4,&quot;Mango&quot;);\r\n        map.put(3,&quot;Apple&quot;);\r\n        map.put(5,&quot;Orange&quot;);\r\n        map.put(8,&quot;Fruits&quot;);\r\n        map.put(23,&quot;Vegetables&quot;);\r\n        map.put(1,&quot;Zebra&quot;);\r\n        map.put(5,&quot;Yellow&quot;);\r\n        System.out.println(map);\r\n        final HashMapValueSort sort = new HashMapValueSort();\r\n        final Set&lt;Map.Entry&lt;Integer, String&gt;&gt; entry = map.entrySet();\r\n        final Comparator&lt;Map.Entry&lt;Integer, String&gt;&gt; comparator = new Comparator&lt;Map.Entry&lt;Integer, String&gt;&gt;() {\r\n            @Override\r\n            public int compare(Map.Entry&lt;Integer, String&gt; o1, Map.Entry&lt;Integer, String&gt; o2) {\r\n                String value1 = o1.getValue();\r\n                String value2 = o2.getValue();\r\n                return value1.compareTo(value2);\r\n            }\r\n        };\r\n        final SortedSet&lt;Map.Entry&lt;Integer, String&gt;&gt; sortedSet = new TreeSet(comparator);\r\n        sortedSet.addAll(entry);\r\n        final Map&lt;Integer,String&gt; sortedMap =  new LinkedHashMap&lt;Integer, String&gt;();\r\n        for(Map.Entry&lt;Integer, String&gt; entry1 : sortedSet ){\r\n            sortedMap.put(entry1.getKey(),entry1.getValue());\r\n        }\r\n        System.out.println(sortedMap);\r\n    }\r\n    }\r\n","title":"Sorting HashMap by values","body":"<pre><code>package SortedSet;\n\nimport java.util.*;\n\npublic class HashMapValueSort {\npublic static void main(String[] args){\n    final Map&lt;Integer, String&gt; map = new HashMap&lt;Integer,String&gt;();\n    map.put(4,\"Mango\");\n    map.put(3,\"Apple\");\n    map.put(5,\"Orange\");\n    map.put(8,\"Fruits\");\n    map.put(23,\"Vegetables\");\n    map.put(1,\"Zebra\");\n    map.put(5,\"Yellow\");\n    System.out.println(map);\n    final HashMapValueSort sort = new HashMapValueSort();\n    final Set&lt;Map.Entry&lt;Integer, String&gt;&gt; entry = map.entrySet();\n    final Comparator&lt;Map.Entry&lt;Integer, String&gt;&gt; comparator = new Comparator&lt;Map.Entry&lt;Integer, String&gt;&gt;() {\n        @Override\n        public int compare(Map.Entry&lt;Integer, String&gt; o1, Map.Entry&lt;Integer, String&gt; o2) {\n            String value1 = o1.getValue();\n            String value2 = o2.getValue();\n            return value1.compareTo(value2);\n        }\n    };\n    final SortedSet&lt;Map.Entry&lt;Integer, String&gt;&gt; sortedSet = new TreeSet(comparator);\n    sortedSet.addAll(entry);\n    final Map&lt;Integer,String&gt; sortedMap =  new LinkedHashMap&lt;Integer, String&gt;();\n    for(Map.Entry&lt;Integer, String&gt; entry1 : sortedSet ){\n        sortedMap.put(entry1.getKey(),entry1.getValue());\n    }\n    System.out.println(sortedMap);\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1580254,"reputation":449,"user_id":1465768,"display_name":"Ndroid"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1375546682,"creation_date":1375545905,"answer_id":18034702,"question_id":8119366,"body_markdown":"    public static TreeMap&lt;String, String&gt; sortMap(HashMap&lt;String, String&gt; passedMap, String byParam) {\r\n\t\tif(byParam.trim().toLowerCase().equalsIgnoreCase(&quot;byValue&quot;)) {\r\n\t\t\t// Altering the (key, value) -&gt; (value, key)\r\n\t\t\tHashMap&lt;String, String&gt; newMap =  new HashMap&lt;String, String&gt;();\r\n\t\t\tfor (Map.Entry&lt;String, String&gt; entry : passedMap.entrySet()) {\r\n\t\t\t\tnewMap.put(entry.getValue(), entry.getKey());\r\n\t\t\t}\r\n\t\t\treturn new TreeMap&lt;String, String&gt;(newMap);\r\n\t\t}\r\n\t\treturn new TreeMap&lt;String, String&gt;(passedMap);\r\n\t}","title":"Sorting HashMap by values","body":"<pre><code>public static TreeMap&lt;String, String&gt; sortMap(HashMap&lt;String, String&gt; passedMap, String byParam) {\n    if(byParam.trim().toLowerCase().equalsIgnoreCase(\"byValue\")) {\n        // Altering the (key, value) -&gt; (value, key)\n        HashMap&lt;String, String&gt; newMap =  new HashMap&lt;String, String&gt;();\n        for (Map.Entry&lt;String, String&gt; entry : passedMap.entrySet()) {\n            newMap.put(entry.getValue(), entry.getKey());\n        }\n        return new TreeMap&lt;String, String&gt;(newMap);\n    }\n    return new TreeMap&lt;String, String&gt;(passedMap);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":108817,"reputation":111646,"user_id":288671,"display_name":"Vitalii Fedorenko"},"down_vote_count":1,"up_vote_count":121,"is_accepted":false,"score":120,"last_activity_date":1405261670,"creation_date":1383094083,"answer_id":19671853,"question_id":8119366,"body_markdown":"In Java 8:\r\n\r\n    Map&lt;Integer, String&gt; sortedMap = \r\n         unsortedMap.entrySet().stream()\r\n        .sorted(Entry.comparingByValue())\r\n        .collect(Collectors.toMap(Entry::getKey, Entry::getValue,\r\n                                  (e1, e2) -&gt; e1, LinkedHashMap::new));\r\n\r\n","title":"Sorting HashMap by values","body":"<p>In Java 8:</p>\n\n<pre><code>Map&lt;Integer, String&gt; sortedMap = \n     unsortedMap.entrySet().stream()\n    .sorted(Entry.comparingByValue())\n    .collect(Collectors.toMap(Entry::getKey, Entry::getValue,\n                              (e1, e2) -&gt; e1, LinkedHashMap::new));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3972499,"reputation":9,"user_id":3276696,"display_name":"lohith"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1391627276,"creation_date":1391627276,"answer_id":21586283,"question_id":8119366,"body_markdown":"    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map.Entry;\r\n    \r\n    public class CollectionsSort {\r\n    \r\n    \t/**\r\n    \t * @param args\r\n    \t */`enter code here`\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \r\n    \t\tCollectionsSort colleciotns = new CollectionsSort();\r\n    \r\n    \t\tList&lt;combine&gt; list = new ArrayList&lt;combine&gt;();\r\n    \t\tHashMap&lt;String, Integer&gt; h = new HashMap&lt;String, Integer&gt;();\r\n    \t\th.put(&quot;nayanana&quot;, 10);\r\n    \t\th.put(&quot;lohith&quot;, 5);\r\n    \r\n    \t\tfor (Entry&lt;String, Integer&gt; value : h.entrySet()) {\r\n    \t\t\tcombine a = colleciotns.new combine(value.getValue(),\r\n    \t\t\t\t\tvalue.getKey());\r\n    \t\t\tlist.add(a);\r\n    \t\t}\r\n    \r\n    \t\tCollections.sort(list);\r\n    \t\tfor (int i = 0; i &lt; list.size(); i++) {\r\n    \t\t\tSystem.out.println(list.get(i));\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic class combine implements Comparable&lt;combine&gt; {\r\n    \r\n    \t\tpublic int value;\r\n    \t\tpublic String key;\r\n    \r\n    \t\tpublic combine(int value, String key) {\r\n    \t\t\tthis.value = value;\r\n    \t\t\tthis.key = key;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic int compareTo(combine arg0) {\r\n    \t\t\t// TODO Auto-generated method stub\r\n    \t\t\treturn this.value &gt; arg0.value ? 1 : this.value &lt; arg0.value ? -1\r\n    \t\t\t\t\t: 0;\r\n    \t\t}\r\n    \r\n    \t\tpublic String toString() {\r\n    \t\t\treturn this.value + &quot; &quot; + this.key;\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Sorting HashMap by values","body":"<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map.Entry;\n\npublic class CollectionsSort {\n\n    /**\n     * @param args\n     */`enter code here`\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        CollectionsSort colleciotns = new CollectionsSort();\n\n        List&lt;combine&gt; list = new ArrayList&lt;combine&gt;();\n        HashMap&lt;String, Integer&gt; h = new HashMap&lt;String, Integer&gt;();\n        h.put(\"nayanana\", 10);\n        h.put(\"lohith\", 5);\n\n        for (Entry&lt;String, Integer&gt; value : h.entrySet()) {\n            combine a = colleciotns.new combine(value.getValue(),\n                    value.getKey());\n            list.add(a);\n        }\n\n        Collections.sort(list);\n        for (int i = 0; i &lt; list.size(); i++) {\n            System.out.println(list.get(i));\n        }\n    }\n\n    public class combine implements Comparable&lt;combine&gt; {\n\n        public int value;\n        public String key;\n\n        public combine(int value, String key) {\n            this.value = value;\n            this.key = key;\n        }\n\n        @Override\n        public int compareTo(combine arg0) {\n            // TODO Auto-generated method stub\n            return this.value &gt; arg0.value ? 1 : this.value &lt; arg0.value ? -1\n                    : 0;\n        }\n\n        public String toString() {\n            return this.value + \" \" + this.key;\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3579384,"reputation":10125,"user_id":2987953,"accept_rate":49,"display_name":"lannyf"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1464365739,"creation_date":1405821356,"answer_id":24846609,"question_id":8119366,"body_markdown":"found a solution but not sure the performance if the map has large size, useful for normal case.\r\n\r\n       /**\r\n         * sort HashMap&lt;String, CustomData&gt; by value\r\n         * CustomData needs to provide compareTo() for comparing CustomData\r\n         * @param map\r\n         */\r\n        \r\n        public void sortHashMapByValue(final HashMap&lt;String, CustomData&gt; map) {\r\n            ArrayList&lt;String&gt; keys = new ArrayList&lt;String&gt;();\r\n            keys.addAll(map.keySet());\r\n            Collections.sort(keys, new Comparator&lt;String&gt;() {\r\n                @Override\r\n                public int compare(String lhs, String rhs) {\r\n                    CustomData val1 = map.get(lhs);\r\n                    CustomData val2 = map.get(rhs);\r\n                    if (val1 == null) {\r\n                        return (val2 != null) ? 1 : 0;\r\n                    } else if (val1 != null) &amp;&amp; (val2 != null)) {\r\n                        return = val1.compareTo(val2);\r\n                    }\r\n                    else {\r\n                        return 0;\r\n                    }\r\n                }\r\n            });\r\n            \r\n            for (String key : keys) {\r\n                CustomData c = map.get(key);\r\n                if (c != null) {\r\n                    Log.e(&quot;key:&quot;+key+&quot;, CustomData:&quot;+c.toString());\r\n                } \r\n            }\r\n        }","title":"Sorting HashMap by values","body":"<p>found a solution but not sure the performance if the map has large size, useful for normal case.</p>\n\n<pre><code>   /**\n     * sort HashMap&lt;String, CustomData&gt; by value\n     * CustomData needs to provide compareTo() for comparing CustomData\n     * @param map\n     */\n\n    public void sortHashMapByValue(final HashMap&lt;String, CustomData&gt; map) {\n        ArrayList&lt;String&gt; keys = new ArrayList&lt;String&gt;();\n        keys.addAll(map.keySet());\n        Collections.sort(keys, new Comparator&lt;String&gt;() {\n            @Override\n            public int compare(String lhs, String rhs) {\n                CustomData val1 = map.get(lhs);\n                CustomData val2 = map.get(rhs);\n                if (val1 == null) {\n                    return (val2 != null) ? 1 : 0;\n                } else if (val1 != null) &amp;&amp; (val2 != null)) {\n                    return = val1.compareTo(val2);\n                }\n                else {\n                    return 0;\n                }\n            }\n        });\n\n        for (String key : keys) {\n            CustomData c = map.get(key);\n            if (c != null) {\n                Log.e(\"key:\"+key+\", CustomData:\"+c.toString());\n            } \n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3670736,"reputation":545,"user_id":3058015,"accept_rate":82,"display_name":"kolyaseg"},"down_vote_count":4,"up_vote_count":16,"is_accepted":false,"score":12,"last_activity_date":1411591577,"creation_date":1411591577,"answer_id":26026154,"question_id":8119366,"body_markdown":"As a kind of simple solution you can use temp TreeMap if you need just a final result:\r\n\r\n    TreeMap&lt;String, Integer&gt; sortedMap = new TreeMap&lt;String, Integer&gt;();\r\n    for (Map.Entry entry : map.entrySet()) {\r\n        sortedMap.put((String) entry.getValue(), (Integer)entry.getKey());\r\n    }\r\nThis will get you strings sorted as keys of sortedMap.\r\n","title":"Sorting HashMap by values","body":"<p>As a kind of simple solution you can use temp TreeMap if you need just a final result:</p>\n\n<pre><code>TreeMap&lt;String, Integer&gt; sortedMap = new TreeMap&lt;String, Integer&gt;();\nfor (Map.Entry entry : map.entrySet()) {\n    sortedMap.put((String) entry.getValue(), (Integer)entry.getKey());\n}\n</code></pre>\n\n<p>This will get you strings sorted as keys of sortedMap.</p>\n"},{"tags":[],"owner":{"account_id":5531833,"reputation":347,"user_id":4391598,"display_name":"NAVEEN Kumar"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1449745357,"creation_date":1443713865,"answer_id":32891575,"question_id":8119366,"body_markdown":"    package com.naveen.hashmap;\r\n    \r\n    import java.util.*;\r\n    import java.util.Map.Entry;\r\n    \r\n    public class SortBasedonValues {\r\n    \r\n    \t/**\r\n    \t * @param args\r\n    \t */\r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tHashMap&lt;String, Integer&gt; hm = new HashMap&lt;String, Integer&gt;();\r\n    \t\thm.put(&quot;Naveen&quot;, 2);\r\n    \t\thm.put(&quot;Santosh&quot;, 3);\r\n    \t\thm.put(&quot;Ravi&quot;, 4);\r\n    \t\thm.put(&quot;Pramod&quot;, 1);\r\n    \t\tSet&lt;Entry&lt;String, Integer&gt;&gt; set = hm.entrySet();\r\n    \t\tList&lt;Entry&lt;String, Integer&gt;&gt; list = new ArrayList&lt;Entry&lt;String, Integer&gt;&gt;(\r\n    \t\t\t\tset);\r\n    \t\tCollections.sort(list, new Comparator&lt;Map.Entry&lt;String, Integer&gt;&gt;() {\r\n    \t\t\tpublic int compare(Map.Entry&lt;String, Integer&gt; o1,\r\n    \t\t\t\t\tMap.Entry&lt;String, Integer&gt; o2) {\r\n    \t\t\t\treturn o2.getValue().compareTo(o1.getValue());\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\tfor (Entry&lt;String, Integer&gt; entry : list) {\r\n    \t\t\tSystem.out.println(entry.getValue());\r\n    \r\n    \t\t}\r\n    \r\n    \t}\r\n    }\r\n\r\n","title":"Sorting HashMap by values","body":"<pre><code>package com.naveen.hashmap;\n\nimport java.util.*;\nimport java.util.Map.Entry;\n\npublic class SortBasedonValues {\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n\n        HashMap&lt;String, Integer&gt; hm = new HashMap&lt;String, Integer&gt;();\n        hm.put(\"Naveen\", 2);\n        hm.put(\"Santosh\", 3);\n        hm.put(\"Ravi\", 4);\n        hm.put(\"Pramod\", 1);\n        Set&lt;Entry&lt;String, Integer&gt;&gt; set = hm.entrySet();\n        List&lt;Entry&lt;String, Integer&gt;&gt; list = new ArrayList&lt;Entry&lt;String, Integer&gt;&gt;(\n                set);\n        Collections.sort(list, new Comparator&lt;Map.Entry&lt;String, Integer&gt;&gt;() {\n            public int compare(Map.Entry&lt;String, Integer&gt; o1,\n                    Map.Entry&lt;String, Integer&gt; o2) {\n                return o2.getValue().compareTo(o1.getValue());\n            }\n        });\n\n        for (Entry&lt;String, Integer&gt; entry : list) {\n            System.out.println(entry.getValue());\n\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7250050,"reputation":401,"user_id":5530699,"display_name":"Ola Pola"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1446750065,"creation_date":1446750065,"answer_id":33552682,"question_id":8119366,"body_markdown":"    map.entrySet().stream()\r\n                    .sorted((k1, k2) -&gt; -k1.getValue().compareTo(k2.getValue()))\r\n                    .forEach(k -&gt; System.out.println(k.getKey() + &quot;: &quot; + k.getValue()));","title":"Sorting HashMap by values","body":"<pre><code>map.entrySet().stream()\n                .sorted((k1, k2) -&gt; -k1.getValue().compareTo(k2.getValue()))\n                .forEach(k -&gt; System.out.println(k.getKey() + \": \" + k.getValue()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2347679,"reputation":2849,"user_id":2057463,"display_name":"Wendel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1449074403,"creation_date":1449074403,"answer_id":34048136,"question_id":8119366,"body_markdown":"I extends a TreeMap and override entrySet() and values() methods. Key and value need to be Comparable.\r\n\r\nFollow the code:\r\n\r\n   \r\n    public class ValueSortedMap&lt;K extends Comparable, V extends Comparable&gt; extends TreeMap&lt;K, V&gt; {\r\n    \r\n        @Override\r\n        public Set&lt;Entry&lt;K, V&gt;&gt; entrySet() {\r\n            Set&lt;Entry&lt;K, V&gt;&gt; originalEntries = super.entrySet();\r\n            Set&lt;Entry&lt;K, V&gt;&gt; sortedEntry = new TreeSet&lt;Entry&lt;K, V&gt;&gt;(new Comparator&lt;Entry&lt;K, V&gt;&gt;() {\r\n                @Override\r\n                public int compare(Entry&lt;K, V&gt; entryA, Entry&lt;K, V&gt; entryB) {\r\n                    int compareTo = entryA.getValue().compareTo(entryB.getValue());\r\n                    if(compareTo == 0) {\r\n                        compareTo = entryA.getKey().compareTo(entryB.getKey());\r\n                    }\r\n                    return compareTo;\r\n                }\r\n            });\r\n            sortedEntry.addAll(originalEntries);\r\n            return sortedEntry;\r\n        }\r\n    \r\n        @Override\r\n        public Collection&lt;V&gt; values() {\r\n            Set&lt;V&gt; sortedValues = new TreeSet&lt;&gt;(new Comparator&lt;V&gt;(){\r\n                @Override\r\n                public int compare(V vA, V vB) {\r\n                    return vA.compareTo(vB);\r\n                }\r\n            });\r\n            sortedValues.addAll(super.values());\r\n            return sortedValues;\r\n        }\r\n    }\r\n\r\nUnit Tests:\r\n\r\n    public class ValueSortedMapTest {\r\n    \r\n        @Test\r\n        public void basicTest() {\r\n            Map&lt;String, Integer&gt; sortedMap = new ValueSortedMap&lt;&gt;();\r\n            sortedMap.put(&quot;A&quot;,3);\r\n            sortedMap.put(&quot;B&quot;,1);\r\n            sortedMap.put(&quot;C&quot;,2);\r\n    \r\n            Assert.assertEquals(&quot;{B=1, C=2, A=3}&quot;, sortedMap.toString());\r\n        }\r\n    \r\n        @Test\r\n        public void repeatedValues() {\r\n            Map&lt;String, Double&gt; sortedMap = new ValueSortedMap&lt;&gt;();\r\n            sortedMap.put(&quot;D&quot;,67.3);\r\n            sortedMap.put(&quot;A&quot;,99.5);\r\n            sortedMap.put(&quot;B&quot;,67.4);\r\n            sortedMap.put(&quot;C&quot;,67.4);\r\n        \r\n            Assert.assertEquals(&quot;{D=67.3, B=67.4, C=67.4, A=99.5}&quot;, sortedMap.toString());\r\n        }\r\n    \r\n    }","title":"Sorting HashMap by values","body":"<p>I extends a TreeMap and override entrySet() and values() methods. Key and value need to be Comparable.</p>\n\n<p>Follow the code:</p>\n\n<pre><code>public class ValueSortedMap&lt;K extends Comparable, V extends Comparable&gt; extends TreeMap&lt;K, V&gt; {\n\n    @Override\n    public Set&lt;Entry&lt;K, V&gt;&gt; entrySet() {\n        Set&lt;Entry&lt;K, V&gt;&gt; originalEntries = super.entrySet();\n        Set&lt;Entry&lt;K, V&gt;&gt; sortedEntry = new TreeSet&lt;Entry&lt;K, V&gt;&gt;(new Comparator&lt;Entry&lt;K, V&gt;&gt;() {\n            @Override\n            public int compare(Entry&lt;K, V&gt; entryA, Entry&lt;K, V&gt; entryB) {\n                int compareTo = entryA.getValue().compareTo(entryB.getValue());\n                if(compareTo == 0) {\n                    compareTo = entryA.getKey().compareTo(entryB.getKey());\n                }\n                return compareTo;\n            }\n        });\n        sortedEntry.addAll(originalEntries);\n        return sortedEntry;\n    }\n\n    @Override\n    public Collection&lt;V&gt; values() {\n        Set&lt;V&gt; sortedValues = new TreeSet&lt;&gt;(new Comparator&lt;V&gt;(){\n            @Override\n            public int compare(V vA, V vB) {\n                return vA.compareTo(vB);\n            }\n        });\n        sortedValues.addAll(super.values());\n        return sortedValues;\n    }\n}\n</code></pre>\n\n<p>Unit Tests:</p>\n\n<pre><code>public class ValueSortedMapTest {\n\n    @Test\n    public void basicTest() {\n        Map&lt;String, Integer&gt; sortedMap = new ValueSortedMap&lt;&gt;();\n        sortedMap.put(\"A\",3);\n        sortedMap.put(\"B\",1);\n        sortedMap.put(\"C\",2);\n\n        Assert.assertEquals(\"{B=1, C=2, A=3}\", sortedMap.toString());\n    }\n\n    @Test\n    public void repeatedValues() {\n        Map&lt;String, Double&gt; sortedMap = new ValueSortedMap&lt;&gt;();\n        sortedMap.put(\"D\",67.3);\n        sortedMap.put(\"A\",99.5);\n        sortedMap.put(\"B\",67.4);\n        sortedMap.put(\"C\",67.4);\n\n        Assert.assertEquals(\"{D=67.3, B=67.4, C=67.4, A=99.5}\", sortedMap.toString());\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":984306,"reputation":2033,"user_id":1003216,"accept_rate":62,"display_name":"prof_jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":537206,"favorite_count":0,"down_vote_count":2,"up_vote_count":167,"closed_date":1461021493,"accepted_answer_id":8119406,"answer_count":12,"score":165,"last_activity_date":1653711426,"creation_date":1321262079,"question_id":8119366,"body_markdown":"I need to sort my `HashMap` according to the values stored in it. The `HashMap` contains the contacts name stored in phone.\r\n\r\nAlso I need that the keys get automatically sorted as soon as I sort the values, or you can say the keys and values are bound together thus any changes in values should get reflected in keys.\r\n\r\n    HashMap&lt;Integer,String&gt; map = new HashMap&lt;Integer,String&gt;();\r\n    map.put(1,&quot;froyo&quot;);\r\n    map.put(2,&quot;abby&quot;);\r\n    map.put(3,&quot;denver&quot;);\r\n    map.put(4,&quot;frost&quot;);\r\n    map.put(5,&quot;daisy&quot;);\r\n    \r\nRequired output:\r\n    \r\n    2,abby;\r\n    5,daisy;\r\n    3,denver;\r\n    4,frost;\r\n    1,froyo;\r\n\r\n","title":"Sorting HashMap by values","body":"<p>I need to sort my <code>HashMap</code> according to the values stored in it. The <code>HashMap</code> contains the contacts name stored in phone.</p>\n\n<p>Also I need that the keys get automatically sorted as soon as I sort the values, or you can say the keys and values are bound together thus any changes in values should get reflected in keys.</p>\n\n<pre><code>HashMap&lt;Integer,String&gt; map = new HashMap&lt;Integer,String&gt;();\nmap.put(1,\"froyo\");\nmap.put(2,\"abby\");\nmap.put(3,\"denver\");\nmap.put(4,\"frost\");\nmap.put(5,\"daisy\");\n</code></pre>\n\n<p>Required output:</p>\n\n<pre><code>2,abby;\n5,daisy;\n3,denver;\n4,frost;\n1,froyo;\n</code></pre>\n"},{"tags":["java","android","android-alertdialog","android-dialogfragment"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":3,"creation_date":1653711050,"post_id":72412778,"comment_id":127922967,"body_markdown":"Are you sure you have the correct `AlertDialog` class imported? Looks like you&#39;re set up for `androidx.appcompat.app.AlertDialog`, rather than `android.app.AlertDialog`.","body":"Are you sure you have the correct <code>AlertDialog</code> class imported? Looks like you&#39;re set up for <code>androidx.appcompat.app.AlertDialog</code>, rather than <code>android.app.AlertDialog</code>."},{"owner":{"account_id":8806138,"reputation":523,"user_id":6841157,"display_name":"Jeff L"},"score":1,"creation_date":1653711160,"post_id":72412778,"comment_id":127922979,"body_markdown":"That was it.. Thanks so much for your help. 1 hour wasted for that!","body":"That was it.. Thanks so much for your help. 1 hour wasted for that!"}],"owner":{"account_id":8806138,"reputation":523,"user_id":6841157,"display_name":"Jeff L"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653711202,"creation_date":1653710813,"question_id":72412778,"body_markdown":"I have an `AlertDialog` which is styled to match my app&#39;s theme. I decided to move that dialog to a `DialogFragment`, and the custom style is no longer working.\r\n\r\nHere is the relevant code in the `DialogFragment`:\r\n```java\r\n@NonNull\r\n@Override\r\npublic Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\r\n    return new AlertDialog.Builder(requireContext(), R.style.CustomAlertDialogTheme)\r\n            .setView(R.layout.my_dialog)\r\n            .setCancelable(false)\r\n            .setNegativeButton(android.R.string.cancel,\r\n                    (dialog, which) -&gt; dismiss())\r\n            .setMessage(R.string.my_message)\r\n            .create();\r\n}\r\n```\r\n\r\nAnd here is the relevant code in the `styles.xml`:\r\n```xml\r\n&lt;style name=&quot;CustomAlertDialogTheme&quot; parent=&quot;ThemeOverlay.AppCompat.Dialog.Alert&quot;&gt;\r\n    &lt;item name=&quot;buttonBarNegativeButtonStyle&quot;&gt;@style/NegativeButtonStyle&lt;/item&gt;\r\n    &lt;item name=&quot;buttonBarPositiveButtonStyle&quot;&gt;@style/PositiveButtonStyle&lt;/item&gt;\r\n&lt;/style&gt;\r\n\r\n&lt;style name=&quot;NegativeButtonStyle&quot; parent=&quot;Widget.AppCompat.Button.ButtonBar.AlertDialog&quot;&gt;\r\n    &lt;item name=&quot;android:textColor&quot;&gt;@drawable/textbutton_text_color_selector&lt;/item&gt;\r\n&lt;/style&gt;\r\n\r\n&lt;style name=&quot;PositiveButtonStyle&quot; parent=&quot;Widget.AppCompat.Button.ButtonBar.AlertDialog&quot;&gt;\r\n    &lt;item name=&quot;android:textColor&quot;&gt;@drawable/textbutton_text_color_selector&lt;/item&gt;\r\n&lt;/style&gt;\r\n```\r\n\r\nI&#39;ve also tried using `setStyle` in various places in the `DialogFragment` without success. I&#39;d appreciate any help.","title":"DialogFragment custom style does not work","body":"<p>I have an <code>AlertDialog</code> which is styled to match my app's theme. I decided to move that dialog to a <code>DialogFragment</code>, and the custom style is no longer working.</p>\n<p>Here is the relevant code in the <code>DialogFragment</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NonNull\n@Override\npublic Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\n    return new AlertDialog.Builder(requireContext(), R.style.CustomAlertDialogTheme)\n            .setView(R.layout.my_dialog)\n            .setCancelable(false)\n            .setNegativeButton(android.R.string.cancel,\n                    (dialog, which) -&gt; dismiss())\n            .setMessage(R.string.my_message)\n            .create();\n}\n</code></pre>\n<p>And here is the relevant code in the <code>styles.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;style name=&quot;CustomAlertDialogTheme&quot; parent=&quot;ThemeOverlay.AppCompat.Dialog.Alert&quot;&gt;\n    &lt;item name=&quot;buttonBarNegativeButtonStyle&quot;&gt;@style/NegativeButtonStyle&lt;/item&gt;\n    &lt;item name=&quot;buttonBarPositiveButtonStyle&quot;&gt;@style/PositiveButtonStyle&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=&quot;NegativeButtonStyle&quot; parent=&quot;Widget.AppCompat.Button.ButtonBar.AlertDialog&quot;&gt;\n    &lt;item name=&quot;android:textColor&quot;&gt;@drawable/textbutton_text_color_selector&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=&quot;PositiveButtonStyle&quot; parent=&quot;Widget.AppCompat.Button.ButtonBar.AlertDialog&quot;&gt;\n    &lt;item name=&quot;android:textColor&quot;&gt;@drawable/textbutton_text_color_selector&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p>I've also tried using <code>setStyle</code> in various places in the <code>DialogFragment</code> without success. I'd appreciate any help.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1653710356,"post_id":72412743,"comment_id":127922903,"body_markdown":"You need to call method `nextLine` after you call method `nextInt`. Refer to [Scanner is skipping nextLine() after using next() or nextFoo()?](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo) Alternatively, you could just call `nextLine` (rather than `next` followed by `nextInt`) to read the entire line and parse it yourself.","body":"You need to call method <code>nextLine</code> after you call method <code>nextInt</code>. Refer to <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Scanner is skipping nextLine() after using next() or nextFoo()?</a> Alternatively, you could just call <code>nextLine</code> (rather than <code>next</code> followed by <code>nextInt</code>) to read the entire line and parse it yourself."}],"answers":[{"tags":[],"owner":{"account_id":21521055,"reputation":409,"user_id":15862198,"display_name":"Utkarsh Sahu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653710635,"creation_date":1653710635,"answer_id":72412768,"question_id":72412743,"body_markdown":"After you read a word using `in.next()` , you also need to get rid of the line entered by the user after the word (you might not write any line as a user, still there will be a line since you press enter). To get rid of this line, do this\r\n\r\n    String cmd = in.next();\r\n    in.nextLine();\r\n    double v = in.nextInt();\r\n\r\nNow it will work fine.","title":"Storing string and double values from a single line","body":"<p>After you read a word using <code>in.next()</code> , you also need to get rid of the line entered by the user after the word (you might not write any line as a user, still there will be a line since you press enter). To get rid of this line, do this</p>\n<pre><code>String cmd = in.next();\nin.nextLine();\ndouble v = in.nextInt();\n</code></pre>\n<p>Now it will work fine.</p>\n"}],"owner":{"account_id":21702308,"reputation":5,"user_id":16485782,"display_name":"yashrex12"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653710635,"creation_date":1653710118,"question_id":72412743,"body_markdown":"```java\r\nimport java.util.Scanner;\r\n\r\npublic class a2q1 {\r\n\r\n        public static void main(String[] args) {\r\n            double reg = 0;\r\n            double heap[];\r\n            heap = new double[5];\r\n            boolean end = false;\r\n\r\n            Scanner in = new Scanner(System.in);\r\n            while (!end) {\r\n                System.out.println(&quot;Enter the Command: &quot;);\r\n                String cmd = in.next();\r\n                double v = in.nextInt();\r\n                if (cmd.equalsIgnoreCase(&quot;SET&quot;)){\r\n                    reg = v;\r\n                }\r\n                if (cmd.equalsIgnoreCase(&quot;TELL&quot;)) {\r\n                    System.out.print(reg);\r\n                }\r\n                if (cmd.equalsIgnoreCase(&quot;ADD&quot;)){\r\n                    reg = reg + v;\r\n                }\r\n                if (cmd.equalsIgnoreCase(&quot;SUB&quot;)) {\r\n                    reg = reg - v;\r\n                }\r\n                if (cmd.equalsIgnoreCase(&quot;MUL&quot;)) {\r\n                    reg = reg * v;\r\n                }\r\n                if (cmd.equalsIgnoreCase(&quot;DIV&quot;)) {\r\n                    reg = reg / v;\r\n                }\r\n                if (cmd.equalsIgnoreCase(&quot;HALT&quot;)) {\r\n                    end = true;\r\n                    System.exit(0);\r\n                }\r\n            }\r\n        }\r\n}\r\n```\r\nIn this code, I am trying to read some commands from the user and do the arithmetic accordingly. commands will look like, &#39;Add 1&#39; which should add 1 to the register, &#39;Mul 2&#39; will multiply, &#39;SET 10&#39; will set the value of the register to 10, &#39;HALT&quot; will terminate the program and &#39;TELL&quot; will print the current register value. \r\nAlthough my loop seems to work fine,I think I might be having some problems with storing those string and the number (double). Any suggestions to correct this mistake? Any help is appreciated.    (Ignore the heap array)\r\n\r\nFollowing is the exception it is throwing\r\n\r\n    &gt; Exception in thread &quot;main&quot; java.util.InputMismatchException \tat\r\n    &gt; java.base/java.util.Scanner.throwFor(Scanner.java:943) \tat\r\n    &gt; java.base/java.util.Scanner.next(Scanner.java:1598) \tat\r\n    &gt; java.base/java.util.Scanner.nextInt(Scanner.java:2263) \tat\r\n    &gt; java.base/java.util.Scanner.nextInt(Scanner.java:2217) \tat\r\n    &gt; a2q1.main(a2q1.java:15)","title":"Storing string and double values from a single line","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class a2q1 {\n\n        public static void main(String[] args) {\n            double reg = 0;\n            double heap[];\n            heap = new double[5];\n            boolean end = false;\n\n            Scanner in = new Scanner(System.in);\n            while (!end) {\n                System.out.println(&quot;Enter the Command: &quot;);\n                String cmd = in.next();\n                double v = in.nextInt();\n                if (cmd.equalsIgnoreCase(&quot;SET&quot;)){\n                    reg = v;\n                }\n                if (cmd.equalsIgnoreCase(&quot;TELL&quot;)) {\n                    System.out.print(reg);\n                }\n                if (cmd.equalsIgnoreCase(&quot;ADD&quot;)){\n                    reg = reg + v;\n                }\n                if (cmd.equalsIgnoreCase(&quot;SUB&quot;)) {\n                    reg = reg - v;\n                }\n                if (cmd.equalsIgnoreCase(&quot;MUL&quot;)) {\n                    reg = reg * v;\n                }\n                if (cmd.equalsIgnoreCase(&quot;DIV&quot;)) {\n                    reg = reg / v;\n                }\n                if (cmd.equalsIgnoreCase(&quot;HALT&quot;)) {\n                    end = true;\n                    System.exit(0);\n                }\n            }\n        }\n}\n</code></pre>\n<p>In this code, I am trying to read some commands from the user and do the arithmetic accordingly. commands will look like, 'Add 1' which should add 1 to the register, 'Mul 2' will multiply, 'SET 10' will set the value of the register to 10, 'HALT&quot; will terminate the program and 'TELL&quot; will print the current register value.\nAlthough my loop seems to work fine,I think I might be having some problems with storing those string and the number (double). Any suggestions to correct this mistake? Any help is appreciated.    (Ignore the heap array)</p>\n<p>Following is the exception it is throwing</p>\n<pre><code>&gt; Exception in thread &quot;main&quot; java.util.InputMismatchException   at\n&gt; java.base/java.util.Scanner.throwFor(Scanner.java:943)    at\n&gt; java.base/java.util.Scanner.next(Scanner.java:1598)   at\n&gt; java.base/java.util.Scanner.nextInt(Scanner.java:2263)    at\n&gt; java.base/java.util.Scanner.nextInt(Scanner.java:2217)    at\n&gt; a2q1.main(a2q1.java:15)\n</code></pre>\n"},{"tags":["java","apache-spark","apache-spark-sql"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1633599410,"post_id":69478786,"comment_id":122804859,"body_markdown":"You lack jars on your runtime classpath that were on your buildtime classpath.","body":"You lack jars on your runtime classpath that were on your buildtime classpath."},{"owner":{"account_id":5163592,"reputation":466,"user_id":4134429,"accept_rate":100,"display_name":"Prashant Shubham"},"score":0,"creation_date":1633600154,"post_id":69478786,"comment_id":122805172,"body_markdown":"@Thorbj&#248;rnRavnAndersen I checked dependencies in runtime and build time classpath and they&#39;re similar.\nCan you suggest any other issues?","body":"@Thorbj&#248;rnRavnAndersen I checked dependencies in runtime and build time classpath and they&#39;re similar. Can you suggest any other issues?"},{"owner":{"account_id":3859079,"reputation":2069,"user_id":3197244,"accept_rate":50,"display_name":"jgp"},"score":0,"creation_date":1633601583,"post_id":69478786,"comment_id":122805742,"body_markdown":"How do you run your app? You submit or you connect directly? If you submit, share with us the command line.","body":"How do you run your app? You submit or you connect directly? If you submit, share with us the command line."},{"owner":{"account_id":5163592,"reputation":466,"user_id":4134429,"accept_rate":100,"display_name":"Prashant Shubham"},"score":0,"creation_date":1633603250,"post_id":69478786,"comment_id":122806399,"body_markdown":"@jgp I don&#39;t run it via spark-submit, it&#39;s generated at run-time will update code.","body":"@jgp I don&#39;t run it via spark-submit, it&#39;s generated at run-time will update code."}],"answers":[{"tags":[],"owner":{"account_id":5163592,"reputation":466,"user_id":4134429,"accept_rate":100,"display_name":"Prashant Shubham"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653709459,"creation_date":1653709459,"answer_id":72412711,"question_id":69478786,"body_markdown":"We need to strict `janino:commons-compiler` to version `&#39;3.0.16&#39;`\r\nBelow is the fix which worked:\r\n```\r\n// Spark lib\r\n    compile &quot;org.apache.spark:spark-core_2.12:2.4.3&quot;\r\n    compile &quot;org.apache.spark:spark-sql_2.12:2.4.3&quot;\r\n    implementation(&#39;org.codehaus.janino:commons-compiler&#39;){\r\n        version {\r\n            strictly &#39;3.0.16&#39;\r\n        }\r\n    }\r\n    implementation(&#39;org.codehaus.janino:janino&#39;){\r\n        version {\r\n            strictly &#39;3.0.16&#39;\r\n        }\r\n    }\r\n```","title":"Spark SQL execution fails with error: java.lang.NoClassDefFoundError: org.codehaus.janino.InternalCompilerException","body":"<p>We need to strict <code>janino:commons-compiler</code> to version <code>'3.0.16'</code>\nBelow is the fix which worked:</p>\n<pre><code>// Spark lib\n    compile &quot;org.apache.spark:spark-core_2.12:2.4.3&quot;\n    compile &quot;org.apache.spark:spark-sql_2.12:2.4.3&quot;\n    implementation('org.codehaus.janino:commons-compiler'){\n        version {\n            strictly '3.0.16'\n        }\n    }\n    implementation('org.codehaus.janino:janino'){\n        version {\n            strictly '3.0.16'\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":5163592,"reputation":466,"user_id":4134429,"accept_rate":100,"display_name":"Prashant Shubham"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2777,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1653709459,"creation_date":1633599243,"question_id":69478786,"body_markdown":"Running a Spark SQL program in Java immediately fails with the following exception, as soon as the first action is called on a dataset. Have tried all the suggestions in https://stackoverflow.com/questions/42352091/spark-sql-fails-with-java-lang-noclassdeffounderror-org-codehaus-commons-compil nothing seems to work. Tried upgrading versions of Spark still facing the same error.\r\n\r\nPlease note not running using `spark-submit` but via `java -jar &lt;app-name&gt;`\r\nBelow is Spark Gradle config:\r\n```\r\n    compile group: &#39;org.apache.spark&#39;, name: &#39;spark-sql_2.12&#39;, version: &#39;2.4.3&#39;\r\n    implementation &#39;org.codehaus.janino:commons-compiler:3.0.16&#39;\r\n    implementation &#39;org.codehaus.janino:janino:3.0.16&#39;\r\n```\r\nTried below exclusion config too, still same error persists:\r\n```\r\n    implementation(&#39;org.apache.spark:spark-sql_2.12:2.4.3&#39;) {\r\n        exclude group: &#39;org.codehaus.janino&#39;, module: &#39;janino&#39;\r\n        exclude group: &#39;org.codehaus.janino&#39;, module: &#39;commons-compiler&#39;\r\n    }\r\n    compile &quot;org.codehaus.janino:commons-compiler:3.0.16&quot;\r\n    compile &quot;org.codehaus.janino:janino:3.0.16&quot;\r\n```\r\n\r\nException stack trace:\r\n```\r\njava.lang.NoClassDefFoundError: org.codehaus.janino.InternalCompilerException\r\n\tat org.apache.spark.sql.catalyst.expressions.codegen.JavaCode$.variable(javaCode.scala:63)\r\n\tat org.apache.spark.sql.catalyst.expressions.codegen.JavaCode$.isNullVariable(javaCode.scala:76)\r\n\tat org.apache.spark.sql.catalyst.expressions.Expression.$anonfun$genCode$3(Expression.scala:109)\r\n\tat org.apache.spark.sql.catalyst.expressions.Expression$$Lambda$2984/0x00000000bfa2b020.apply(Unknown Source)\r\n\tat scala.Option.getOrElse(Option.scala:189)\r\n\tat org.apache.spark.sql.catalyst.expressions.Expression.genCode(Expression.scala:105)\r\n\tat org.apache.spark.sql.catalyst.expressions.codegen.GenerateSafeProjection$.$anonfun$create$1(GenerateSafeProjection.scala:155)\r\n\tat org.apache.spark.sql.catalyst.expressions.codegen.GenerateSafeProjection$$$Lambda$2982/0x00000000ef9c1620.apply(Unknown Source)\r\n\tat scala.collection.TraversableLike.$anonfun$map$1(TraversableLike.scala:238)\r\n\tat scala.collection.TraversableLike$$Lambda$1442/0x00000000ff849e20.apply(Unknown Source)\r\n\tat scala.collection.immutable.List.foreach(List.scala:392)\r\n\tat scala.collection.TraversableLike.map(TraversableLike.scala:238)\r\n\tat scala.collection.TraversableLike.map$(TraversableLike.scala:231)\r\n\tat scala.collection.immutable.List.map(List.scala:298)\r\n\tat org.apache.spark.sql.catalyst.expressions.codegen.GenerateSafeProjection$.create(GenerateSafeProjection.scala:152)\r\n\tat org.apache.spark.sql.catalyst.expressions.codegen.GenerateSafeProjection$.create(GenerateSafeProjection.scala:38)\r\n\tat org.apache.spark.sql.catalyst.expressions.codegen.CodeGenerator.generate(CodeGenerator.scala:1193)\r\n\tat org.apache.spark.sql.Dataset.collectFromPlan(Dataset.scala:3382)\r\n\tat org.apache.spark.sql.Dataset.$anonfun$collectAsList$1(Dataset.scala:2794)\r\n\tat org.apache.spark.sql.Dataset$$Lambda$2827/0x00000000af983620.apply(Unknown Source)\r\n\tat org.apache.spark.sql.Dataset.$anonfun$withAction$2(Dataset.scala:3364)\r\n\tat org.apache.spark.sql.Dataset$$Lambda$2919/0x00000000cf9f4220.apply(Unknown Source)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:78)\r\n\tat org.apache.spark.sql.execution.SQLExecution$$$Lambda$2920/0x00000000cfa4f020.apply(Unknown Source)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:125)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:73)\r\n\tat org.apache.spark.sql.Dataset.withAction(Dataset.scala:3364)\r\n\tat org.apache.spark.sql.Dataset.collectAsList(Dataset.scala:2793)\r\n```\r\n\r\nCode implementation:\r\n```\r\nSparkConf sparkConf = new SparkConf().setAppName(&quot;App demo&quot;).setMaster(&quot;local[*]&quot;);\r\n\r\ntry (SparkSession sparkSession = createSparkSession(sparkConf)) {\r\n    Dataset&lt;Row&gt; df = sparkSession.read().json(&quot;/Users/shubhampr/Documents/spark/examples/src/main/resources/people.json&quot;);\r\n    df.show();\r\n} catch (Exception e) {\r\n    log.error(&quot;Error in processing file: {}&quot;, e.getMessage());\r\n            return;\r\n}\r\n\r\nSparkSession createSparkSession(SparkConf sparkConf) {\r\n        return SparkSession.builder()\r\n                .sparkContext(new JavaSparkContext(sparkConf).sc())\r\n                .getOrCreate();\r\n}\r\n```","title":"Spark SQL execution fails with error: java.lang.NoClassDefFoundError: org.codehaus.janino.InternalCompilerException","body":"<p>Running a Spark SQL program in Java immediately fails with the following exception, as soon as the first action is called on a dataset. Have tried all the suggestions in <a href=\"https://stackoverflow.com/questions/42352091/spark-sql-fails-with-java-lang-noclassdeffounderror-org-codehaus-commons-compil\">Spark SQL fails with java.lang.NoClassDefFoundError: org/codehaus/commons/compiler/UncheckedCompileException</a> nothing seems to work. Tried upgrading versions of Spark still facing the same error.</p>\n<p>Please note not running using <code>spark-submit</code> but via <code>java -jar &lt;app-name&gt;</code>\nBelow is Spark Gradle config:</p>\n<pre><code>    compile group: 'org.apache.spark', name: 'spark-sql_2.12', version: '2.4.3'\n    implementation 'org.codehaus.janino:commons-compiler:3.0.16'\n    implementation 'org.codehaus.janino:janino:3.0.16'\n</code></pre>\n<p>Tried below exclusion config too, still same error persists:</p>\n<pre><code>    implementation('org.apache.spark:spark-sql_2.12:2.4.3') {\n        exclude group: 'org.codehaus.janino', module: 'janino'\n        exclude group: 'org.codehaus.janino', module: 'commons-compiler'\n    }\n    compile &quot;org.codehaus.janino:commons-compiler:3.0.16&quot;\n    compile &quot;org.codehaus.janino:janino:3.0.16&quot;\n</code></pre>\n<p>Exception stack trace:</p>\n<pre><code>java.lang.NoClassDefFoundError: org.codehaus.janino.InternalCompilerException\n    at org.apache.spark.sql.catalyst.expressions.codegen.JavaCode$.variable(javaCode.scala:63)\n    at org.apache.spark.sql.catalyst.expressions.codegen.JavaCode$.isNullVariable(javaCode.scala:76)\n    at org.apache.spark.sql.catalyst.expressions.Expression.$anonfun$genCode$3(Expression.scala:109)\n    at org.apache.spark.sql.catalyst.expressions.Expression$$Lambda$2984/0x00000000bfa2b020.apply(Unknown Source)\n    at scala.Option.getOrElse(Option.scala:189)\n    at org.apache.spark.sql.catalyst.expressions.Expression.genCode(Expression.scala:105)\n    at org.apache.spark.sql.catalyst.expressions.codegen.GenerateSafeProjection$.$anonfun$create$1(GenerateSafeProjection.scala:155)\n    at org.apache.spark.sql.catalyst.expressions.codegen.GenerateSafeProjection$$$Lambda$2982/0x00000000ef9c1620.apply(Unknown Source)\n    at scala.collection.TraversableLike.$anonfun$map$1(TraversableLike.scala:238)\n    at scala.collection.TraversableLike$$Lambda$1442/0x00000000ff849e20.apply(Unknown Source)\n    at scala.collection.immutable.List.foreach(List.scala:392)\n    at scala.collection.TraversableLike.map(TraversableLike.scala:238)\n    at scala.collection.TraversableLike.map$(TraversableLike.scala:231)\n    at scala.collection.immutable.List.map(List.scala:298)\n    at org.apache.spark.sql.catalyst.expressions.codegen.GenerateSafeProjection$.create(GenerateSafeProjection.scala:152)\n    at org.apache.spark.sql.catalyst.expressions.codegen.GenerateSafeProjection$.create(GenerateSafeProjection.scala:38)\n    at org.apache.spark.sql.catalyst.expressions.codegen.CodeGenerator.generate(CodeGenerator.scala:1193)\n    at org.apache.spark.sql.Dataset.collectFromPlan(Dataset.scala:3382)\n    at org.apache.spark.sql.Dataset.$anonfun$collectAsList$1(Dataset.scala:2794)\n    at org.apache.spark.sql.Dataset$$Lambda$2827/0x00000000af983620.apply(Unknown Source)\n    at org.apache.spark.sql.Dataset.$anonfun$withAction$2(Dataset.scala:3364)\n    at org.apache.spark.sql.Dataset$$Lambda$2919/0x00000000cf9f4220.apply(Unknown Source)\n    at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:78)\n    at org.apache.spark.sql.execution.SQLExecution$$$Lambda$2920/0x00000000cfa4f020.apply(Unknown Source)\n    at org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:125)\n    at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:73)\n    at org.apache.spark.sql.Dataset.withAction(Dataset.scala:3364)\n    at org.apache.spark.sql.Dataset.collectAsList(Dataset.scala:2793)\n</code></pre>\n<p>Code implementation:</p>\n<pre><code>SparkConf sparkConf = new SparkConf().setAppName(&quot;App demo&quot;).setMaster(&quot;local[*]&quot;);\n\ntry (SparkSession sparkSession = createSparkSession(sparkConf)) {\n    Dataset&lt;Row&gt; df = sparkSession.read().json(&quot;/Users/shubhampr/Documents/spark/examples/src/main/resources/people.json&quot;);\n    df.show();\n} catch (Exception e) {\n    log.error(&quot;Error in processing file: {}&quot;, e.getMessage());\n            return;\n}\n\nSparkSession createSparkSession(SparkConf sparkConf) {\n        return SparkSession.builder()\n                .sparkContext(new JavaSparkContext(sparkConf).sc())\n                .getOrCreate();\n}\n</code></pre>\n"},{"tags":["java","string","junit"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1653709805,"post_id":72412698,"comment_id":127922853,"body_markdown":"You&#39;ll need to override the `equals` method in `ConsLoString` if you want to be able to use `assertEquals` with two `ConsLoString` objects.","body":"You&#39;ll need to override the <code>equals</code> method in <code>ConsLoString</code> if you want to be able to use <code>assertEquals</code> with two <code>ConsLoString</code> objects."},{"owner":{"account_id":25410218,"reputation":21,"user_id":19218164,"display_name":"Silas Spencer"},"score":0,"creation_date":1653710818,"post_id":72412698,"comment_id":127922940,"body_markdown":"The problem is still there after overriding equals:","body":"The problem is still there after overriding equals:"},{"owner":{"account_id":25410218,"reputation":21,"user_id":19218164,"display_name":"Silas Spencer"},"score":0,"creation_date":1653710835,"post_id":72412698,"comment_id":127922941,"body_markdown":"@Override\n  public boolean equals(Object o) {\n    if (this == o) return true;\n    if (o == null || getClass() != o.getClass()) return false;\n    ConsLoString that = (ConsLoString) o;\n    return first.equals(that.first) &amp;&amp; rest.equals(that.rest);\n  }","body":"@Override   public boolean equals(Object o) {     if (this == o) return true;     if (o == null || getClass() != o.getClass()) return false;     ConsLoString that = (ConsLoString) o;     return first.equals(that.first) &amp;&amp; rest.equals(that.rest);   }"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1653771718,"post_id":72412698,"comment_id":127933958,"body_markdown":"Then you should use your debugger to step through your `equals` method and find out why it&#39;s returning `false` when you expect it to return `true`.","body":"Then you should use your debugger to step through your <code>equals</code> method and find out why it&#39;s returning <code>false</code> when you expect it to return <code>true</code>."}],"owner":{"account_id":25410218,"reputation":21,"user_id":19218164,"display_name":"Silas Spencer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653709163,"creation_date":1653709163,"question_id":72412698,"body_markdown":"I am getting the following error for checking if two Lists of Strings are equal:\r\n\r\njava.lang.AssertionError: \r\nExpected :ConsLoString@3e57cd70\r\nActual   :ConsLoString@9a7504c\r\n\r\nConsLoString is a class for lists that have values,\r\nwhile MtLoString is a class for empty lists.\r\nDo I need to override equals or hashcode?\r\n\r\nhere is the code:\r\n```\r\n// to represent a list of Strings\r\ninterface ILoString {\r\n  // combine all Strings in this list into one\r\n  String combine();\r\n  ILoString findAndReplace(String s1, String s2);\r\n}\r\n\r\n// to represent an empty list of Strings\r\nclass MtLoString implements ILoString {\r\n  MtLoString(){}\r\n\r\n  // combine all Strings in this list into one\r\n  public String combine() {\r\n    return &quot;&quot;;\r\n  }\r\n\r\n  @Override\r\n  public ILoString findAndReplace(String s1, String s2) {\r\n    return new MtLoString();\r\n  }\r\n}\r\n\r\n\r\n\r\n// to represent a nonempty list of Strings\r\nclass ConsLoString implements ILoString {\r\n  String first;\r\n  ILoString rest;\r\n\r\n  ConsLoString(String first, ILoString rest) {\r\n    this.first = first;\r\n    this.rest = rest;\r\n  }\r\n    \r\n    /*\r\n     TEMPLATE\r\n     FIELDS:\r\n     ... this.first ...         -- String\r\n     ... this.rest ...          -- ILoString\r\n     \r\n     METHODS\r\n     ... this.combine() ...     -- String\r\n     \r\n     METHODS FOR FIELDS\r\n     ... this.first.concat(String) ...        -- String\r\n     ... this.first.compareTo(String) ...     -- int\r\n     ... this.rest.combine() ...              -- String\r\n     \r\n     */\r\n\r\n  // combine all Strings in this list into one\r\n  public String combine() {\r\n    return this.first.concat(this.rest.combine());\r\n  }\r\n\r\n  // takes in two Strings as arguments.\r\n  // It produces a list where all occurrences of the first given\r\n  // String are replaced by the second given String.\r\n  @Override\r\n  public ILoString findAndReplace(String s1, String s2) {\r\n    // if the strings are the same\r\n    // well then the list is the same; return the same list while\r\n    // still traversing\r\n    if (s1.compareTo(s2) == 0) {\r\n      return new ConsLoString(s2, this.rest.findAndReplace(this.first, s2));\r\n    } else {\r\n      return new ConsLoString(s1, this.rest.findAndReplace(this.first, s2));\r\n    }\r\n  }\r\n}\r\n\r\nimport org.junit.Before;\r\nimport org.junit.Test;\r\n\r\nimport static org.junit.Assert.assertEquals;\r\nimport static org.junit.Assert.assertTrue;\r\n\r\npublic class ExamplesStrings{\r\n\r\n\r\n  ILoString mary = new ConsLoString(&quot;Mary &quot;,\r\n          new ConsLoString(&quot;had &quot;,\r\n                  new ConsLoString(&quot;a &quot;,\r\n                          new ConsLoString(&quot;little &quot;,\r\n                                  new ConsLoString(&quot;lamb.&quot;,\r\n                                          new MtLoString())))));\r\n  ILoString mary1 = new ConsLoString(&quot;Mary &quot;,\r\n          new ConsLoString(&quot;a &quot;,\r\n                  new ConsLoString(&quot;a &quot;,\r\n                          new ConsLoString(&quot;little &quot;,\r\n                                  new ConsLoString(&quot;lamb.&quot;,\r\n                                          new MtLoString())))));\r\n\r\n  @Test\r\n  public void testFindAndReplace() {\r\n    assertEquals(mary.findAndReplace(&quot;had&quot;, &quot;a&quot;), mary1);\r\n    assertEquals(mary.findAndReplace(&quot;monkey&quot;, &quot;deez&quot;),\r\n            mary);\r\n  }\r\n}\r\n```","title":"Java Lang Assertion Error for a list of Strings","body":"<p>I am getting the following error for checking if two Lists of Strings are equal:</p>\n<p>java.lang.AssertionError:\nExpected :ConsLoString@3e57cd70\nActual   :ConsLoString@9a7504c</p>\n<p>ConsLoString is a class for lists that have values,\nwhile MtLoString is a class for empty lists.\nDo I need to override equals or hashcode?</p>\n<p>here is the code:</p>\n<pre><code>// to represent a list of Strings\ninterface ILoString {\n  // combine all Strings in this list into one\n  String combine();\n  ILoString findAndReplace(String s1, String s2);\n}\n\n// to represent an empty list of Strings\nclass MtLoString implements ILoString {\n  MtLoString(){}\n\n  // combine all Strings in this list into one\n  public String combine() {\n    return &quot;&quot;;\n  }\n\n  @Override\n  public ILoString findAndReplace(String s1, String s2) {\n    return new MtLoString();\n  }\n}\n\n\n\n// to represent a nonempty list of Strings\nclass ConsLoString implements ILoString {\n  String first;\n  ILoString rest;\n\n  ConsLoString(String first, ILoString rest) {\n    this.first = first;\n    this.rest = rest;\n  }\n    \n    /*\n     TEMPLATE\n     FIELDS:\n     ... this.first ...         -- String\n     ... this.rest ...          -- ILoString\n     \n     METHODS\n     ... this.combine() ...     -- String\n     \n     METHODS FOR FIELDS\n     ... this.first.concat(String) ...        -- String\n     ... this.first.compareTo(String) ...     -- int\n     ... this.rest.combine() ...              -- String\n     \n     */\n\n  // combine all Strings in this list into one\n  public String combine() {\n    return this.first.concat(this.rest.combine());\n  }\n\n  // takes in two Strings as arguments.\n  // It produces a list where all occurrences of the first given\n  // String are replaced by the second given String.\n  @Override\n  public ILoString findAndReplace(String s1, String s2) {\n    // if the strings are the same\n    // well then the list is the same; return the same list while\n    // still traversing\n    if (s1.compareTo(s2) == 0) {\n      return new ConsLoString(s2, this.rest.findAndReplace(this.first, s2));\n    } else {\n      return new ConsLoString(s1, this.rest.findAndReplace(this.first, s2));\n    }\n  }\n}\n\nimport org.junit.Before;\nimport org.junit.Test;\n\nimport static org.junit.Assert.assertEquals;\nimport static org.junit.Assert.assertTrue;\n\npublic class ExamplesStrings{\n\n\n  ILoString mary = new ConsLoString(&quot;Mary &quot;,\n          new ConsLoString(&quot;had &quot;,\n                  new ConsLoString(&quot;a &quot;,\n                          new ConsLoString(&quot;little &quot;,\n                                  new ConsLoString(&quot;lamb.&quot;,\n                                          new MtLoString())))));\n  ILoString mary1 = new ConsLoString(&quot;Mary &quot;,\n          new ConsLoString(&quot;a &quot;,\n                  new ConsLoString(&quot;a &quot;,\n                          new ConsLoString(&quot;little &quot;,\n                                  new ConsLoString(&quot;lamb.&quot;,\n                                          new MtLoString())))));\n\n  @Test\n  public void testFindAndReplace() {\n    assertEquals(mary.findAndReplace(&quot;had&quot;, &quot;a&quot;), mary1);\n    assertEquals(mary.findAndReplace(&quot;monkey&quot;, &quot;deez&quot;),\n            mary);\n  }\n}\n</code></pre>\n"},{"tags":["java","junit","collections","java-8"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":3,"creation_date":1653519610,"post_id":72384913,"comment_id":127875547,"body_markdown":"I understand that you can&#39;t change the test, presumably for an assignment, but I will note that when writing your own tests you should avoid `assertTrue(a == b)` because failures don&#39;t provide you any helpful information. `assertEquals(a, b)` or `assertSame(a, b)` (depending on which specific semantics) will give you better info in case of failure.","body":"I understand that you can&#39;t change the test, presumably for an assignment, but I will note that when writing your own tests you should avoid <code>assertTrue(a == b)</code> because failures don&#39;t provide you any helpful information. <code>assertEquals(a, b)</code> or <code>assertSame(a, b)</code> (depending on which specific semantics) will give you better info in case of failure."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1653519699,"post_id":72384913,"comment_id":127875562,"body_markdown":"Hint: The name of the &quot;correct&quot; array is `orderedBooks`. Your `Library` doesn&#39;t impose any ordering on the books, and `HashSet` is inherently unordered.","body":"Hint: The name of the &quot;correct&quot; array is <code>orderedBooks</code>. Your <code>Library</code> doesn&#39;t impose any ordering on the books, and <code>HashSet</code> is inherently unordered."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1653520040,"post_id":72384913,"comment_id":127875631,"body_markdown":"How to fix this depends on what order the books should be returned in.  If the right order is whatever order the books were added to the library, you could use an `ArrayList` instead of a `HashSet`.  If it&#39;s some specific order that depends on the books themselves (for example, by author, then by publication date), you could use a `TreeSet` and a custom `Comparator`.","body":"How to fix this depends on what order the books should be returned in.  If the right order is whatever order the books were added to the library, you could use an <code>ArrayList</code> instead of a <code>HashSet</code>.  If it&#39;s some specific order that depends on the books themselves (for example, by author, then by publication date), you could use a <code>TreeSet</code> and a custom <code>Comparator</code>."},{"owner":{"account_id":25391113,"reputation":3,"user_id":19202083,"display_name":"Neha Naik"},"score":0,"creation_date":1653520578,"post_id":72384913,"comment_id":127875713,"body_markdown":"The expected order of books should be like orderedBooks array.\n\nIs there a way to do this by overriding hashCode method for Book(not by hard coding in hashCode method)","body":"The expected order of books should be like orderedBooks array.  Is there a way to do this by overriding hashCode method for Book(not by hard coding in hashCode method)"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1653520808,"post_id":72384913,"comment_id":127875739,"body_markdown":"No.  There is no way to get a deterministic ordering in a `HashSet`.","body":"No.  There is no way to get a deterministic ordering in a <code>HashSet</code>."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1653520908,"post_id":72384913,"comment_id":127875749,"body_markdown":"How do you expect the library to know about the `orderedBooks` array?  You never told it to order the books in any particular fashion.  It would be either magic or coincidence if `getBooks()` returned the books in that order.","body":"How do you expect the library to know about the <code>orderedBooks</code> array?  You never told it to order the books in any particular fashion.  It would be either magic or coincidence if <code>getBooks()</code> returned the books in that order."},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1653561108,"post_id":72384913,"comment_id":127883846,"body_markdown":"There is no indication of how the `Book`s are naturally ordered.  Your internal storage (i.e. `HashSet`) has no established ordering and `Book` does not implement `Comparable`.  Why is [coreJava, hibernate1, hibernate2, electronics, python] the expected order of the books per the unit test? I feel like something is missing from the question.","body":"There is no indication of how the <code>Book</code>s are naturally ordered.  Your internal storage (i.e. <code>HashSet</code>) has no established ordering and <code>Book</code> does not implement <code>Comparable</code>.  Why is [coreJava, hibernate1, hibernate2, electronics, python] the expected order of the books per the unit test? I feel like something is missing from the question."},{"owner":{"account_id":25133794,"reputation":1340,"user_id":18980756,"display_name":"Franck"},"score":0,"creation_date":1653565966,"post_id":72384913,"comment_id":127885367,"body_markdown":"@vsfDawg The most probable scenario is that the books should be sorted by category and then by title within a category. But the problem statement does not support this.","body":"@vsfDawg The most probable scenario is that the books should be sorted by category and then by title within a category. But the problem statement does not support this."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1653569294,"post_id":72384913,"comment_id":127886555,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":25133794,"reputation":1340,"user_id":18980756,"display_name":"Franck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653562982,"creation_date":1653529194,"answer_id":72385785,"question_id":72384913,"body_markdown":"According your constraints you need to make your `Book` class `comparable` in a very particular way.\r\n\r\n*Book.java*\r\n\r\n```java\r\nimport java.util.Arrays;\r\n\r\npublic class Book implements Comparable&lt;Book&gt; {\r\n    static String specialOrder[] = {&quot;coreJava&quot;, &quot;hibernate1&quot;, &quot;hibernate2&quot;, &quot;electronics&quot;, &quot;Python Book&quot;};\r\n\r\n    private int id;\r\n    private final String name;\r\n    private final String description;\r\n    private final Category category;\r\n    public Book(int id, String name, String description, Category category) {\r\n        super();\r\n        this.id = id;\r\n        this.name = name;\r\n        this.description = description;\r\n        this.category = category;\r\n    }\r\n    \r\n    public enum Category {\r\n        CoreJava, Electronics, Python, Hibernate\r\n    }\r\n\r\n    @Override\r\n    public int compareTo(Book otherBook) {\r\n        int index = Arrays.asList(specialOrder).indexOf(name);\r\n        int indexOther = Arrays.asList(specialOrder).indexOf(otherBook.getName());\r\n        if (index != -1 &amp;&amp; indexOther != -1) {\r\n            // both book titles are in the special order array\r\n            // the indices indicate their order\r\n            return Integer.compare(index, indexOther);\r\n        }\r\n        // at least one book title is not in the special array\r\n        // therefore use natural order of String\r\n        return name.compareTo(otherBook.getName());\r\n    }\r\n\r\n    // getter and setters too are there\r\n    String getName(){return name;}\r\n}\r\n```\r\nAnd use a container which maintains the order:\r\n\r\n*Library.java*\r\n\r\n```java\r\nimport java.util.*;\r\npublic class Library {\r\n    private final SortedSet&lt;Book&gt; books = new TreeSet&lt;Book&gt;();\r\n    public boolean addBook(final Book book) {\r\n          return books.add(book);\r\n       }\r\n       \r\n       public Iterator&lt;Book&gt; getBooks() {\r\n          return books.iterator();\r\n       }\r\n}\r\n```\r\n\r\nNow we are set and here we go:\r\n\r\n```none\r\n$ javac Book.java Library.java \r\n$ javac -cp .:junit-4.13.2.jar LibraryTest.java                                          \r\n$ java -cp .:junit-4.13.2.jar:hamcrest-all-1.3.jar org.junit.runner.JUnitCore LibraryTest\r\nJUnit version 4.13.2\r\n.\r\nTime: 0,003\r\n\r\nOK (1 test)\r\n\r\n$ \r\n```","title":"Modifying source code to pass failing junit test regarding element order in a collection","body":"<p>According your constraints you need to make your <code>Book</code> class <code>comparable</code> in a very particular way.</p>\n<p><em>Book.java</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\n\npublic class Book implements Comparable&lt;Book&gt; {\n    static String specialOrder[] = {&quot;coreJava&quot;, &quot;hibernate1&quot;, &quot;hibernate2&quot;, &quot;electronics&quot;, &quot;Python Book&quot;};\n\n    private int id;\n    private final String name;\n    private final String description;\n    private final Category category;\n    public Book(int id, String name, String description, Category category) {\n        super();\n        this.id = id;\n        this.name = name;\n        this.description = description;\n        this.category = category;\n    }\n    \n    public enum Category {\n        CoreJava, Electronics, Python, Hibernate\n    }\n\n    @Override\n    public int compareTo(Book otherBook) {\n        int index = Arrays.asList(specialOrder).indexOf(name);\n        int indexOther = Arrays.asList(specialOrder).indexOf(otherBook.getName());\n        if (index != -1 &amp;&amp; indexOther != -1) {\n            // both book titles are in the special order array\n            // the indices indicate their order\n            return Integer.compare(index, indexOther);\n        }\n        // at least one book title is not in the special array\n        // therefore use natural order of String\n        return name.compareTo(otherBook.getName());\n    }\n\n    // getter and setters too are there\n    String getName(){return name;}\n}\n</code></pre>\n<p>And use a container which maintains the order:</p>\n<p><em>Library.java</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\npublic class Library {\n    private final SortedSet&lt;Book&gt; books = new TreeSet&lt;Book&gt;();\n    public boolean addBook(final Book book) {\n          return books.add(book);\n       }\n       \n       public Iterator&lt;Book&gt; getBooks() {\n          return books.iterator();\n       }\n}\n</code></pre>\n<p>Now we are set and here we go:</p>\n<pre class=\"lang-none prettyprint-override\"><code>$ javac Book.java Library.java \n$ javac -cp .:junit-4.13.2.jar LibraryTest.java                                          \n$ java -cp .:junit-4.13.2.jar:hamcrest-all-1.3.jar org.junit.runner.JUnitCore LibraryTest\nJUnit version 4.13.2\n.\nTime: 0,003\n\nOK (1 test)\n\n$ \n</code></pre>\n"}],"owner":{"account_id":25391113,"reputation":3,"user_id":19202083,"display_name":"Neha Naik"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72385785,"answer_count":1,"score":0,"last_activity_date":1653707596,"creation_date":1653519084,"question_id":72384913,"body_markdown":"I have a test class called `LibraryTest`. The junit test defined in this class is failing. I want to pass the failing junit test by only modifying my source code and without changing anything in the junit test.\r\n\r\nI have the class files *Book.java*\r\n\r\n    public class Book {\r\n    \r\n    \tprivate int id;\r\n    \tprivate final String name;\r\n    \tprivate final String description;\r\n    \tprivate final Category category;\r\n    \tpublic Book(int id, String name, String description, Category category) {\r\n    \t\tsuper();\r\n    \t\tthis.id = id;\r\n    \t\tthis.name = name;\r\n    \t\tthis.description = description;\r\n    \t\tthis.category = category;\r\n    \t}\r\n    \t\r\n    \tpublic enum Category {\r\n    \t\t  CoreJava,\r\n    \t      Electronics,\r\n    \t      Python,\r\n    \t      Hibernate\r\n    \t   }\r\n    \t\r\n    \t// getter and setters too are there\r\n    }\r\n\r\nand *Library.java*\r\n\r\n    public class Library {\r\n    \tprivate final Set&lt;Book&gt; books = new HashSet&lt;Book&gt;();\r\n    \tpublic boolean addBook(final Book book) {\r\n    \t      return books.add(book);\r\n    \t   }\r\n    \t   \r\n    \t   public Iterator&lt;Book&gt; getBooks() {\r\n    \t      return books.iterator();\r\n    \t   }\r\n    }\r\n\r\nThe test class file *LibraryTest.java* is as follows. The junit test `canSortLibrary()` is failing.\r\n\r\n    public class LibraryTest{\r\n    \r\n       private Library library;\r\n       private Book hibernate1 ;\r\n       private Book hibernate2 ;\r\n       private Book coreJava ;\r\n       private Book electronics ;\r\n       private Book python;\r\n    \r\n       @Before\r\n       public void setUp() {\r\n         library = new Library();\r\n         hibernate1 = new Book(0, &quot;hibernate1&quot;, &quot;hibernate book1&quot;, Category.Hibernate);\r\n         hibernate2 = new Book(0, &quot;hibernate2&quot;, &quot;hibernate book2&quot;, Category.Hibernate);\r\n         coreJava = new Book(0, &quot;coreJava&quot;, &quot;written by x&quot;, Category.CoreJava);\r\n         electronics = new Book(0, &quot;electronics&quot;, &quot;written by y&quot;, Category.Electronics);\r\n         python = new Book(0, &quot;Python Book&quot;, &quot;written by someone&quot;, Category.Python);\r\n    \r\n         library.addBook(hibernate1);\r\n    \t library.addBook(hibernate2);\r\n    \t library.addBook(coreJava);\r\n    \t library.addBook(electronics);\r\n    \t library.addBook(python);\r\n       }\r\n    \r\n      @Test\r\n       public void canSortLibrary() throws Exception {\r\n          final Book[] orderedBooks = new Book[] { coreJava, hibernate1, hibernate2, electronics, python};\r\n          int i = 0;\r\n          final Iterator&lt;Book&gt; books= library.getBooks();\r\n          \r\n          while (books.hasNext()) {\r\n             final Book book = books.next();\r\n             Assert.assertTrue(book == orderedBooks[i++]);\r\n          }\r\n          \r\n       }\r\n    }","title":"Modifying source code to pass failing junit test regarding element order in a collection","body":"<p>I have a test class called <code>LibraryTest</code>. The junit test defined in this class is failing. I want to pass the failing junit test by only modifying my source code and without changing anything in the junit test.</p>\n<p>I have the class files <em>Book.java</em></p>\n<pre><code>public class Book {\n\n    private int id;\n    private final String name;\n    private final String description;\n    private final Category category;\n    public Book(int id, String name, String description, Category category) {\n        super();\n        this.id = id;\n        this.name = name;\n        this.description = description;\n        this.category = category;\n    }\n    \n    public enum Category {\n          CoreJava,\n          Electronics,\n          Python,\n          Hibernate\n       }\n    \n    // getter and setters too are there\n}\n</code></pre>\n<p>and <em>Library.java</em></p>\n<pre><code>public class Library {\n    private final Set&lt;Book&gt; books = new HashSet&lt;Book&gt;();\n    public boolean addBook(final Book book) {\n          return books.add(book);\n       }\n       \n       public Iterator&lt;Book&gt; getBooks() {\n          return books.iterator();\n       }\n}\n</code></pre>\n<p>The test class file <em>LibraryTest.java</em> is as follows. The junit test <code>canSortLibrary()</code> is failing.</p>\n<pre><code>public class LibraryTest{\n\n   private Library library;\n   private Book hibernate1 ;\n   private Book hibernate2 ;\n   private Book coreJava ;\n   private Book electronics ;\n   private Book python;\n\n   @Before\n   public void setUp() {\n     library = new Library();\n     hibernate1 = new Book(0, &quot;hibernate1&quot;, &quot;hibernate book1&quot;, Category.Hibernate);\n     hibernate2 = new Book(0, &quot;hibernate2&quot;, &quot;hibernate book2&quot;, Category.Hibernate);\n     coreJava = new Book(0, &quot;coreJava&quot;, &quot;written by x&quot;, Category.CoreJava);\n     electronics = new Book(0, &quot;electronics&quot;, &quot;written by y&quot;, Category.Electronics);\n     python = new Book(0, &quot;Python Book&quot;, &quot;written by someone&quot;, Category.Python);\n\n     library.addBook(hibernate1);\n     library.addBook(hibernate2);\n     library.addBook(coreJava);\n     library.addBook(electronics);\n     library.addBook(python);\n   }\n\n  @Test\n   public void canSortLibrary() throws Exception {\n      final Book[] orderedBooks = new Book[] { coreJava, hibernate1, hibernate2, electronics, python};\n      int i = 0;\n      final Iterator&lt;Book&gt; books= library.getBooks();\n      \n      while (books.hasNext()) {\n         final Book book = books.next();\n         Assert.assertTrue(book == orderedBooks[i++]);\n      }\n      \n   }\n}\n</code></pre>\n"},{"tags":["java","multithreading","caching","guava"],"answers":[{"tags":[],"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653706713,"creation_date":1653676990,"answer_id":72409828,"question_id":72402077,"body_markdown":"Yes, that is basically the pattern except that no locking is needed if present. The cost of the computation is much greater than the penalty of locking (millis or seconds, vs nanos).\r\n\r\nA lookup for the entry is lock-free so this quickly identifies if it is absent, present, or in-flight. \r\n - If absent then the threads race for the segment lock to insert an in-flight entry\r\n   - if winner, then insert an in-flight entry, unlock, and compute\r\n   - otherwise find the entry, unlock, and wait on it\r\n - If the entry is found,\r\n   - if in-flight then a thread will block on it\r\n     waiting for the result.\r\n   - Otherwise the entry&#39;s value is returned immediately. \r\n\r\nA lock is cheap if not on the hot path that serializes all of the threads. Since the in-flight entry is quickly visible in the map and looked up lock-free, the segment holding multiple entries is not locked excessively. The descheduling of the entry&#39;s waiting threads can free resources for other application work.\r\n\r\n`ConcurrentHashMap` added native functionality with `computeIfAbsent`. It reuses the hashbin&#39;s lock (a fine-grained segment), and does a similar pattern. Since a computing thread locks the hashbin which holds multiple entries, there is a higher chance of collisions causing unnecessary stalls. Their approach has nice linearization and memory efficiency benefits, but it can be more problematic for long-running computations. In those cases one can emulate Guava&#39;s approach by storing a `Future&lt;V&gt;` value as the map&#39;s entry. [Caffeine](https://github.com/ben-manes/caffeine), a rewrite of Guava&#39;s cache, offers that through its [AsyncCache](https://github.com/ben-manes/caffeine/wiki/Population#asynchronous-manual).","title":"How does Guava Cache implement &quot;if cached, return; otherwise create, cache and return&quot; pattern?","body":"<p>Yes, that is basically the pattern except that no locking is needed if present. The cost of the computation is much greater than the penalty of locking (millis or seconds, vs nanos).</p>\n<p>A lookup for the entry is lock-free so this quickly identifies if it is absent, present, or in-flight.</p>\n<ul>\n<li>If absent then the threads race for the segment lock to insert an in-flight entry\n<ul>\n<li>if winner, then insert an in-flight entry, unlock, and compute</li>\n<li>otherwise find the entry, unlock, and wait on it</li>\n</ul>\n</li>\n<li>If the entry is found,\n<ul>\n<li>if in-flight then a thread will block on it\nwaiting for the result.</li>\n<li>Otherwise the entry's value is returned immediately.</li>\n</ul>\n</li>\n</ul>\n<p>A lock is cheap if not on the hot path that serializes all of the threads. Since the in-flight entry is quickly visible in the map and looked up lock-free, the segment holding multiple entries is not locked excessively. The descheduling of the entry's waiting threads can free resources for other application work.</p>\n<p><code>ConcurrentHashMap</code> added native functionality with <code>computeIfAbsent</code>. It reuses the hashbin's lock (a fine-grained segment), and does a similar pattern. Since a computing thread locks the hashbin which holds multiple entries, there is a higher chance of collisions causing unnecessary stalls. Their approach has nice linearization and memory efficiency benefits, but it can be more problematic for long-running computations. In those cases one can emulate Guava's approach by storing a <code>Future&lt;V&gt;</code> value as the map's entry. <a href=\"https://github.com/ben-manes/caffeine\" rel=\"nofollow noreferrer\">Caffeine</a>, a rewrite of Guava's cache, offers that through its <a href=\"https://github.com/ben-manes/caffeine/wiki/Population#asynchronous-manual\" rel=\"nofollow noreferrer\">AsyncCache</a>.</p>\n"}],"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":538,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72409828,"answer_count":1,"score":0,"last_activity_date":1653706713,"creation_date":1653637329,"question_id":72402077,"body_markdown":"I am trying to understand how Guava Cache achieves thread-safety in its [get()][1] method and also ensures that **if 2 threads simultaneously invoke the get method and the value is not present only one thread will calculate the value and the rest will wait. Also, when the thread is done with calculating the value the rest of the threads can use that value.**\r\n\r\nThis [SO answer][2] says Guava does this via a combination of `ReentrantLock` and `ConcurrentHashMap`.\r\n\r\nI can intuitively understand how to achieve mutual exclusion via the use of locks.\r\n\r\nBut what I can&#39;t understand is that how after the value is calculated the other threads will not lock and use that value. The only way I can implement this is via **double-checked locking**, but that seems too slow since after the value is calculated **all threads will have to lock once**.\r\n\r\nWhat I mean is the following:\r\n\r\n 1. Check to see if `Item X` is cached.\r\n 2. If missing `tryForLock()` on underlying data-structure (most likely some sort of `HashMap`)\r\n 3. **If lock acquired check to see value computed** (If already computed by another thread) \r\n 4. If not, Compute Value \r\n 5. Put in underlying cache data structure.\r\n 6. Release lock.\r\n\r\n&gt; Now let&#39;s say the above Code is invoked by 3 Threads `A,B,C` : only\r\n&gt; one thread can get the lock when it tries for it. Rest will be waiting\r\n&gt; for lock. Once the thread that got the lock, computes the value,\r\n&gt; releases the lock. \r\n&gt; \r\n&gt; All the other 2 threads will also be acquiring the lock in a\r\n&gt; sequential way. And all will check if the value is computed or not,\r\n&gt; but not compute it themselves. And release the lock. This will all\r\n&gt; happen sequentially.\r\n\r\n**Is this what Guava Cache does? Or is there a better way to implement this pattern?**\r\n\r\n  [1]: https://guava.dev/releases/21.0/api/docs/com/google/common/cache/Cache.html#get-K-java.util.concurrent.Callable-\r\n  [2]: https://stackoverflow.com/a/70655578/7134737","title":"How does Guava Cache implement &quot;if cached, return; otherwise create, cache and return&quot; pattern?","body":"<p>I am trying to understand how Guava Cache achieves thread-safety in its <a href=\"https://guava.dev/releases/21.0/api/docs/com/google/common/cache/Cache.html#get-K-java.util.concurrent.Callable-\" rel=\"nofollow noreferrer\">get()</a> method and also ensures that <strong>if 2 threads simultaneously invoke the get method and the value is not present only one thread will calculate the value and the rest will wait. Also, when the thread is done with calculating the value the rest of the threads can use that value.</strong></p>\n<p>This <a href=\"https://stackoverflow.com/a/70655578/7134737\">SO answer</a> says Guava does this via a combination of <code>ReentrantLock</code> and <code>ConcurrentHashMap</code>.</p>\n<p>I can intuitively understand how to achieve mutual exclusion via the use of locks.</p>\n<p>But what I can't understand is that how after the value is calculated the other threads will not lock and use that value. The only way I can implement this is via <strong>double-checked locking</strong>, but that seems too slow since after the value is calculated <strong>all threads will have to lock once</strong>.</p>\n<p>What I mean is the following:</p>\n<ol>\n<li>Check to see if <code>Item X</code> is cached.</li>\n<li>If missing <code>tryForLock()</code> on underlying data-structure (most likely some sort of <code>HashMap</code>)</li>\n<li><strong>If lock acquired check to see value computed</strong> (If already computed by another thread)</li>\n<li>If not, Compute Value</li>\n<li>Put in underlying cache data structure.</li>\n<li>Release lock.</li>\n</ol>\n<blockquote>\n<p>Now let's say the above Code is invoked by 3 Threads <code>A,B,C</code> : only\none thread can get the lock when it tries for it. Rest will be waiting\nfor lock. Once the thread that got the lock, computes the value,\nreleases the lock.</p>\n<p>All the other 2 threads will also be acquiring the lock in a\nsequential way. And all will check if the value is computed or not,\nbut not compute it themselves. And release the lock. This will all\nhappen sequentially.</p>\n</blockquote>\n<p><strong>Is this what Guava Cache does? Or is there a better way to implement this pattern?</strong></p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"score":0,"creation_date":1653707610,"post_id":72412439,"comment_id":127922602,"body_markdown":"If I understand correctly, this is a &quot;bin packing&quot; problem and has no known direct solution. It&#39;s an NP problem, meaning nondeterministic (N), but a solution can be checked in polynomial (P) time. A nondeterministic solution basically means try every combination, and stop when you find one that works.","body":"If I understand correctly, this is a &quot;bin packing&quot; problem and has no known direct solution. It&#39;s an NP problem, meaning nondeterministic (N), but a solution can be checked in polynomial (P) time. A nondeterministic solution basically means try every combination, and stop when you find one that works."},{"owner":{"account_id":21720118,"reputation":119,"user_id":16130855,"display_name":"Jean Valj"},"score":1,"creation_date":1653716611,"post_id":72412439,"comment_id":127923598,"body_markdown":"To be more precise : this is a two dimensionnal bin packing. It does had exact solutions, but they are not fast. You will also find faster solutions, but they are not exact. See this : https://link.springer.com/article/10.1057/jors.1987.70","body":"To be more precise : this is a two dimensionnal bin packing. It does had exact solutions, but they are not fast. You will also find faster solutions, but they are not exact. See this : <a href=\"https://link.springer.com/article/10.1057/jors.1987.70\" rel=\"nofollow noreferrer\">link.springer.com/article/10.1057/jors.1987.70</a>"}],"owner":{"account_id":3694873,"reputation":53,"user_id":3076539,"accept_rate":0,"display_name":"user3076539"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1653704188,"creation_date":1653704188,"question_id":72412439,"body_markdown":"1. I have N Granite Tiles with size H x W (Same image)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n2. I have M piece of Granite Tiles , each piece has K element with size H1 X W1 (Same image)\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nI want to find the minimum number of Granite Tiles (W x H) to use to cover all M piece of Granite Tiles\r\n\r\nExample input\r\n\r\n[![enter image description here][3]][3]\r\n\r\n[![enter image description here][4]][4]\r\n\r\nWhat is Algorithm will be used for it?\r\n\r\n  [1]: https://i.stack.imgur.com/aoDyb.png\r\n  [2]: https://i.stack.imgur.com/bE0rC.png\r\n  [3]: https://i.stack.imgur.com/yKqsk.png\r\n  [4]: https://i.stack.imgur.com/xIBPJ.png","title":"Algorithm to find the minimum number of Granite Tiles to use","body":"<ol>\n<li>I have N Granite Tiles with size H x W (Same image)</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/aoDyb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aoDyb.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"2\">\n<li>I have M piece of Granite Tiles , each piece has K element with size H1 X W1 (Same image)</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/bE0rC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bE0rC.png\" alt=\"enter image description here\" /></a></p>\n<p>I want to find the minimum number of Granite Tiles (W x H) to use to cover all M piece of Granite Tiles</p>\n<p>Example input</p>\n<p><a href=\"https://i.stack.imgur.com/yKqsk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yKqsk.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/xIBPJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xIBPJ.png\" alt=\"enter image description here\" /></a></p>\n<p>What is Algorithm will be used for it?</p>\n"},{"tags":["java","azure","azure-functions","azure-application-insights"],"answers":[{"tags":[],"owner":{"account_id":481006,"reputation":31216,"user_id":894565,"accept_rate":76,"display_name":"Jatin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653704187,"creation_date":1645439710,"answer_id":71204794,"question_id":71204750,"body_markdown":"This answer does not fully answer the question. I still find the issue present. And don&#39;t really know the cause for missing logs in LogStream. And it is frustrating.\r\n\r\n-------------------------------------\r\n\r\nOne thing that you may want to further take care is: [Sampling][1]. Pasting from the docs:\r\n\r\n&gt; Sampling is helpful if you need to reduce cost. Sampling is performed\r\n&gt; as a function on the operation ID (also known as trace ID), so that\r\n&gt; the same operation ID will always result in the same sampling\r\n&gt; decision. This ensures that you won&#39;t get parts of a distributed\r\n&gt; transaction sampled in while other parts of it are sampled out.\r\n&gt; \r\n&gt; For example, **if you set sampling to 10%, you will only see 10% of your\r\n&gt; transactions**, but each one of those 10% will have full end-to-end\r\n&gt; transaction details.\r\n\r\nTo avoid filtering due to sampling, add the function configuration:\r\n\r\n```\r\nAPPLICATIONINSIGHTS_SAMPLING_PERCENTAGE: 100\r\n```\r\nThis does not omit anything.\r\nFor more details, visit: https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-standalone-config#sampling\r\n\r\n-----------------------\r\n\r\nIn my case, I wanted to include all the logs. But perform sampling for other metrics (like dependencies which includes calls to REST API, database or a file system). \r\n\r\nAn alternative way as well. Edit your `host.json` as:\r\n\r\n    {\r\n      &quot;version&quot;: &quot;2.0&quot;,\r\n      &quot;extensionBundle&quot;: {\r\n        &quot;id&quot;: &quot;Microsoft.Azure.Functions.ExtensionBundle&quot;,\r\n        &quot;version&quot;: &quot;[2.*, 3.0.0)&quot;\r\n      },\r\n      &quot;logging&quot;: {\r\n        &quot;applicationInsights&quot;: {\r\n          &quot;samplingSettings&quot;: {\r\n            &quot;excludedTypes&quot;: &quot;Exception;Trace;Request&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\nThe log statements as such go under `Trace`. So we exclude sampling for it. The rest are sampled (Dependency, Event, PageView, Request)\r\n\r\nTo validate if the above config is working as expected, run the below kusto query:\r\n\r\n    union requests,dependencies,pageViews,browserTimings,exceptions,traces\r\n    | where timestamp &gt; ago(1d)\r\n    | summarize RetainedPercentage = 100/avg(itemCount) by bin(timestamp, 1h), itemType\r\n\r\nLoad test the function. In the output, you should see 100 across the `Exception;Trace;Request`\r\n\r\n[![enter image description here][2]][2]\r\n\r\nTo view full set of config: https://learn.microsoft.com/en-us/azure/azure-functions/functions-host-json#sample-hostjson-file\r\n\r\nTo selectively override (different behavior for different logs): https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-standalone-config#sampling-overrides-preview\r\n\r\n\r\n----------\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-standalone-config#sampling\r\n  [2]: https://i.stack.imgur.com/cY1b8.png","title":"Azure Log Stream Logs missing - Java","body":"<p>This answer does not fully answer the question. I still find the issue present. And don't really know the cause for missing logs in LogStream. And it is frustrating.</p>\n<hr />\n<p>One thing that you may want to further take care is: <a href=\"https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-standalone-config#sampling\" rel=\"nofollow noreferrer\">Sampling</a>. Pasting from the docs:</p>\n<blockquote>\n<p>Sampling is helpful if you need to reduce cost. Sampling is performed\nas a function on the operation ID (also known as trace ID), so that\nthe same operation ID will always result in the same sampling\ndecision. This ensures that you won't get parts of a distributed\ntransaction sampled in while other parts of it are sampled out.</p>\n<p>For example, <strong>if you set sampling to 10%, you will only see 10% of your\ntransactions</strong>, but each one of those 10% will have full end-to-end\ntransaction details.</p>\n</blockquote>\n<p>To avoid filtering due to sampling, add the function configuration:</p>\n<pre><code>APPLICATIONINSIGHTS_SAMPLING_PERCENTAGE: 100\n</code></pre>\n<p>This does not omit anything.\nFor more details, visit: <a href=\"https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-standalone-config#sampling\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-standalone-config#sampling</a></p>\n<hr />\n<p>In my case, I wanted to include all the logs. But perform sampling for other metrics (like dependencies which includes calls to REST API, database or a file system).</p>\n<p>An alternative way as well. Edit your <code>host.json</code> as:</p>\n<pre><code>{\n  &quot;version&quot;: &quot;2.0&quot;,\n  &quot;extensionBundle&quot;: {\n    &quot;id&quot;: &quot;Microsoft.Azure.Functions.ExtensionBundle&quot;,\n    &quot;version&quot;: &quot;[2.*, 3.0.0)&quot;\n  },\n  &quot;logging&quot;: {\n    &quot;applicationInsights&quot;: {\n      &quot;samplingSettings&quot;: {\n        &quot;excludedTypes&quot;: &quot;Exception;Trace;Request&quot;\n      }\n    }\n  }\n}\n</code></pre>\n<p>The log statements as such go under <code>Trace</code>. So we exclude sampling for it. The rest are sampled (Dependency, Event, PageView, Request)</p>\n<p>To validate if the above config is working as expected, run the below kusto query:</p>\n<pre><code>union requests,dependencies,pageViews,browserTimings,exceptions,traces\n| where timestamp &gt; ago(1d)\n| summarize RetainedPercentage = 100/avg(itemCount) by bin(timestamp, 1h), itemType\n</code></pre>\n<p>Load test the function. In the output, you should see 100 across the <code>Exception;Trace;Request</code></p>\n<p><a href=\"https://i.stack.imgur.com/cY1b8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cY1b8.png\" alt=\"enter image description here\" /></a></p>\n<p>To view full set of config: <a href=\"https://learn.microsoft.com/en-us/azure/azure-functions/functions-host-json#sample-hostjson-file\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/azure-functions/functions-host-json#sample-hostjson-file</a></p>\n<p>To selectively override (different behavior for different logs): <a href=\"https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-standalone-config#sampling-overrides-preview\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-standalone-config#sampling-overrides-preview</a></p>\n<hr />\n"}],"owner":{"account_id":481006,"reputation":31216,"user_id":894565,"accept_rate":76,"display_name":"Jatin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653704187,"creation_date":1645439507,"question_id":71204750,"body_markdown":"In my Azure Function, I am using SLF4J for logging (backed by logback). Application Insights supports auto-instrumented logging. Where the logs are automatically collected. Details [here][1].\r\n\r\nBut I find that randomly a lot of logs get missed. They are present during a run and missing some other times when viewed in LogStream. What could be going wrong?\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-standalone-config#auto-collected-logging","title":"Azure Log Stream Logs missing - Java","body":"<p>In my Azure Function, I am using SLF4J for logging (backed by logback). Application Insights supports auto-instrumented logging. Where the logs are automatically collected. Details <a href=\"https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-standalone-config#auto-collected-logging\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>But I find that randomly a lot of logs get missed. They are present during a run and missing some other times when viewed in LogStream. What could be going wrong?</p>\n"},{"tags":["java","joystick"],"answers":[{"tags":[],"owner":{"account_id":4185455,"reputation":9999,"user_id":3429323,"accept_rate":90,"display_name":"Elias Soares"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653693058,"creation_date":1653620164,"answer_id":72399976,"question_id":72399824,"body_markdown":"Transform your X and Y values into an angle and distance from the center, then compare against the angle.\r\n\r\nUsing [this answer](https://stackoverflow.com/a/33043899/3429323) you can do the conversion:\r\n\r\n```\r\nconst radianAngle = Math.atan2(y,x);\r\n```\r\n\r\nThen compare it agains the four quadrants:\r\n\r\n```\r\n0 &lt;= angle &lt; Pi/2 (quadrant A)\r\nPi/2 &lt;= angle &lt; Pi (quadrant B)\r\nPi &lt;= angle &lt; 3Pi/2 (Quadrant C)\r\n3Pi/2 &lt;= angle &lt;= 2Pi (Quadrant D)\r\n```\r\n\r\nThan take a decision acording to each quadrant you are.\r\n\r\n**Edit:** The original question doesn&#39;t say what language is used, so by the syntax I guesses (erroneously) that it was Javascript, but it&#39;s Java.\r\n\r\nFor Java the logic is the same, it also provides the atan2 function.\r\n\r\nThe implementation will be like:\r\n\r\n```\r\ndouble x = analogRead(0);\r\ndouble y = analogRead(1);\r\n\r\ndouble angle = Math.atan2(x, y);\r\nint quadrant = (int) Math.max(1, Math.ceil(2 * angle / Math.PI));\r\n```\r\n\r\nThe `quadrant` variable will be a quadrant from 1 to 4, you can use it value to take a decision.","title":"Breaking a rectangle into four triangles","body":"<p>Transform your X and Y values into an angle and distance from the center, then compare against the angle.</p>\n<p>Using <a href=\"https://stackoverflow.com/a/33043899/3429323\">this answer</a> you can do the conversion:</p>\n<pre><code>const radianAngle = Math.atan2(y,x);\n</code></pre>\n<p>Then compare it agains the four quadrants:</p>\n<pre><code>0 &lt;= angle &lt; Pi/2 (quadrant A)\nPi/2 &lt;= angle &lt; Pi (quadrant B)\nPi &lt;= angle &lt; 3Pi/2 (Quadrant C)\n3Pi/2 &lt;= angle &lt;= 2Pi (Quadrant D)\n</code></pre>\n<p>Than take a decision acording to each quadrant you are.</p>\n<p><strong>Edit:</strong> The original question doesn't say what language is used, so by the syntax I guesses (erroneously) that it was Javascript, but it's Java.</p>\n<p>For Java the logic is the same, it also provides the atan2 function.</p>\n<p>The implementation will be like:</p>\n<pre><code>double x = analogRead(0);\ndouble y = analogRead(1);\n\ndouble angle = Math.atan2(x, y);\nint quadrant = (int) Math.max(1, Math.ceil(2 * angle / Math.PI));\n</code></pre>\n<p>The <code>quadrant</code> variable will be a quadrant from 1 to 4, you can use it value to take a decision.</p>\n"}],"owner":{"account_id":25306618,"reputation":21,"user_id":19130042,"display_name":"potato"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1653702338,"creation_date":1653618284,"question_id":72399824,"body_markdown":"I am trying to use a joystick for controlling something, but the only way I can control it is by having a direction to a corner instead of a side. For example, I would read up when the joystick points to the top left corner. I do that with an if x is greater than 500 (the midpoint) and if the y is greater than 500. Is there a way to make it read when it goes to a side instead of a corner?\r\n\r\n```\r\nif(analogRead(0) &lt; 500 &amp;&amp; analogRead(1) &lt; 500){\r\n    y--;\r\n  } else if (analogRead(0) &gt; 500 &amp;&amp; analogRead(1) &lt; 500){\r\n    x++;\r\n  } else if (analogRead(0) &lt; 500 &amp;&amp; analogRead(1) &gt; 500){\r\n    x--;\r\n  } else if(analogRead(0)&gt;500 &amp;&amp; analogRead(1)&gt;500){\r\n    y++; \r\n  } \r\n```\r\n\r\nI also do know that this is very badly written code, but this code is only for trying to read from a side rather than a corner. ","title":"Breaking a rectangle into four triangles","body":"<p>I am trying to use a joystick for controlling something, but the only way I can control it is by having a direction to a corner instead of a side. For example, I would read up when the joystick points to the top left corner. I do that with an if x is greater than 500 (the midpoint) and if the y is greater than 500. Is there a way to make it read when it goes to a side instead of a corner?</p>\n<pre><code>if(analogRead(0) &lt; 500 &amp;&amp; analogRead(1) &lt; 500){\n    y--;\n  } else if (analogRead(0) &gt; 500 &amp;&amp; analogRead(1) &lt; 500){\n    x++;\n  } else if (analogRead(0) &lt; 500 &amp;&amp; analogRead(1) &gt; 500){\n    x--;\n  } else if(analogRead(0)&gt;500 &amp;&amp; analogRead(1)&gt;500){\n    y++; \n  } \n</code></pre>\n<p>I also do know that this is very badly written code, but this code is only for trying to read from a side rather than a corner.</p>\n"},{"tags":["java","junit"],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653700738,"creation_date":1653700738,"answer_id":72412274,"question_id":72412110,"body_markdown":"&gt; I guess assertEqual is comparing the nodes based on their address not their values inside each object\r\n\r\n`assertEqual` is comparing the nodes based on their `equals(Object)` methods.  It looks like they are inheriting theirs from class `Object`, which yields an identity comparison, equivalent to the `==` operator.  &quot;Address&quot; is not a native Java concept.\r\n\r\nIf you want to compare based on node values instead of node identities then you need to provide an `equals(Object)` implementation that will do so.  And if you do that, then you should also provide a `hashCode()` method consistent with your new `equals()` method, meaning that nodes that compare equal to each other are certain to also have the same hash code.\r\n\r\nIf you cannot override the nodes&#39; `equals(Object)` methods then you cannot use `assertEquals()` in the way you are trying to do.  But you *could* write a custom assertion method in your test class or in a helper class that would  do the job you want for you.","title":"Junit 4 - assertEqual isn&#39;t working on hashmap collection","body":"<blockquote>\n<p>I guess assertEqual is comparing the nodes based on their address not their values inside each object</p>\n</blockquote>\n<p><code>assertEqual</code> is comparing the nodes based on their <code>equals(Object)</code> methods.  It looks like they are inheriting theirs from class <code>Object</code>, which yields an identity comparison, equivalent to the <code>==</code> operator.  &quot;Address&quot; is not a native Java concept.</p>\n<p>If you want to compare based on node values instead of node identities then you need to provide an <code>equals(Object)</code> implementation that will do so.  And if you do that, then you should also provide a <code>hashCode()</code> method consistent with your new <code>equals()</code> method, meaning that nodes that compare equal to each other are certain to also have the same hash code.</p>\n<p>If you cannot override the nodes' <code>equals(Object)</code> methods then you cannot use <code>assertEquals()</code> in the way you are trying to do.  But you <em>could</em> write a custom assertion method in your test class or in a helper class that would  do the job you want for you.</p>\n"}],"owner":{"account_id":25127662,"reputation":1,"user_id":18975285,"display_name":"Mostfa Mostfa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653700738,"creation_date":1653697600,"question_id":72412110,"body_markdown":"    @Test\r\n    \tpublic void checkbuildGraph_ifGraphExists() \r\n    \t{\r\n    \t\tGraph expected =buildGraph(g1.name);\r\n    \t\t\r\n    \t\tassertEquals(expected.nodes, g1.nodes);\r\n    \t}\r\n\r\nI am tring to test buildgraph method that returns a built graph of Graph Object, then comparing it with hand made graph to check if they are equal. They are equal in terms of values not in terms of reference of course. Nonetheless, I am getting \r\n\r\n    java.lang.AssertionError: expected:&lt;[Node@3ada9e37]&gt; but was:&lt;[Node@2a3046da]&gt;\r\n    \tat org.junit.Assert.fail(Assert.java:89)\r\n    \tat org.junit.Assert.failNotEquals(Assert.java:835)\r\n    \tat org.junit.Assert.assertEquals(Assert.java:120)\r\n    \tat org.junit.Assert.assertEquals(Assert.java:146)\r\n    \tat TraceAnalyserTest.checkbuildGraph_ifGraphExists(TraceAnalyserTest.java:131)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n    \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n    \tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n    \tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\r\n    \tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n    \tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n    \tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n    \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)\r\n    \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:542)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:770)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:464)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n\r\n\r\nGraph g1 is made in test class and expected is from a different class. I guess assertEqual is comparing the nodes based on their address not their values inside each object","title":"Junit 4 - assertEqual isn&#39;t working on hashmap collection","body":"<pre><code>@Test\n    public void checkbuildGraph_ifGraphExists() \n    {\n        Graph expected =buildGraph(g1.name);\n        \n        assertEquals(expected.nodes, g1.nodes);\n    }\n</code></pre>\n<p>I am tring to test buildgraph method that returns a built graph of Graph Object, then comparing it with hand made graph to check if they are equal. They are equal in terms of values not in terms of reference of course. Nonetheless, I am getting</p>\n<pre><code>java.lang.AssertionError: expected:&lt;[Node@3ada9e37]&gt; but was:&lt;[Node@2a3046da]&gt;\n    at org.junit.Assert.fail(Assert.java:89)\n    at org.junit.Assert.failNotEquals(Assert.java:835)\n    at org.junit.Assert.assertEquals(Assert.java:120)\n    at org.junit.Assert.assertEquals(Assert.java:146)\n    at TraceAnalyserTest.checkbuildGraph_ifGraphExists(TraceAnalyserTest.java:131)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:542)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:770)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:464)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\n</code></pre>\n<p>Graph g1 is made in test class and expected is from a different class. I guess assertEqual is comparing the nodes based on their address not their values inside each object</p>\n"},{"tags":["java","xml","apache","mod-proxy","ibm-integration-bus"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1653682872,"post_id":72410479,"comment_id":127918878,"body_markdown":"The error text it&#39;s an xml fragment, try to post the complete error please.","body":"The error text it&#39;s an xml fragment, try to post the complete error please."},{"owner":{"account_id":25407965,"reputation":1,"user_id":19216333,"display_name":"Alfredo Faria"},"score":0,"creation_date":1653684708,"post_id":72410479,"comment_id":127919339,"body_markdown":"I&#39;ve edited the text and put the completed xml now. Thanks.","body":"I&#39;ve edited the text and put the completed xml now. Thanks."}],"owner":{"account_id":25407965,"reputation":1,"user_id":19216333,"display_name":"Alfredo Faria"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653700339,"creation_date":1653681367,"question_id":72410479,"body_markdown":"I&#39;m having an issue with the description of the error messages returned by some IIB (IBM Integration Bus) applications sending messages to an endpoint through an apache mod_proxy gateway.\r\n\r\nWhen I sent the message directly to endpoint (without apache) I receive the correct error description: &quot;WEBSERVICE ERROR : W2000101 : Web Service not found&quot;.\r\n\r\nBut if this same message is sent through apache (mod_proxy) the description error is returned by a java message, like below:\r\n\r\n    &lt;NS2:Fault xmlns:NS2=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n        &lt;faultcode&gt;ESB2003&lt;/faultcode&gt;\r\n        &lt;faultstring&gt;Ocorreu um erro ao acionar o sistema Protheus. Consulte o campo de detalhes para mais informa&#231;&#245;es.&lt;/faultstring&gt;  \r\n         &lt;faultactor&gt;ConsultarTituloPrevistoP12.Soap Request P12&lt;/faultactor&gt;\r\n         &lt;detail&gt;&lt;Text&gt;Axis2Requester_processResponseMessageSync, org.apache.axiom.om.OMException: javax.xml.stream.XMLStreamException: White space is required between quot;SYSTEMquot; and the system identifier., Frame : 0 org.apache.axiom.om.OMException: javax.xml.stream.XMLStreamException: White space is required between quot;SYSTEMquot; and the system identifier.| @: org.apache.axiom.om.impl.builder.StAXOMBuilder.nextStAXOMBuilder.java:293| @: org.apache.axiom.soap.impl.builder.StAXSOAPModelBuilder.getSOAPEnvelopeStAXSOAPModelBuilder.java:204| @: org.apache.axiom.soap.impl.builder.StAXSOAPModelBuilder.amp;lt;initamp;gt;StAXSOAPModelBuilder.java:154| @: org.apache.axiom.soap.impl.builder.StAXSOAPModelBuilder.amp;lt;initamp;gt;StAXSOAPModelBuilder.java:140| @: com.ibm.broker.axis2.SoapUtilities.createSOAPMessageSoapUtilities.java:2259| @: com.ibm.broker.axis2.SoapUtilities.createSOAPMessageSoapUtilities.java:1959| @: com.ibm.broker.axis2.Axis2Requester.processResponseMessageSyncAxis2Requester.java:2184| @: com.ibm.broker.plugin.MbOutputTerminal._propagateNative Method| @: com.ibm.broker.plugin.MbOutputTerminal.propagateMbOutputTerminal.java:133| @: com.ibm.broker.plugin.MbOutputTerminal.propagateMbOutputTerminal.java:88| @: com.ibm.broker.ct.mapping.MappingNode.buildAndPropagateMappingNode.java:1118| @: com.ibm.broker.ct.mapping.MappingNode.evaluateMappingNode.java:409| @: com.ibm.broker.plugin.MbNode.evaluateMbNode.java:1453|Frame : 1 javax.xml.stream.XMLStreamException: White space is required between quot;SYSTEMquot; and the system identifier.| @: com.ibm.xml.xlxp2.api.stax.msg.StAXMessageProvider.throwWrappedXMLStreamExceptionStAXMessageProvider.java:76| @: com.ibm.xml.xlxp2.api.stax.XMLStreamReaderImpl.produceFatalErrorEventXMLStreamReaderImpl.java:2008| @: com.ibm.xml.xlxp2.api.jaxb.JAXBXMLStreamReader.produceFatalErrorEventJAXBXMLStreamReader.java:356| @: com.ibm.xml.xlxp2.scan.DocumentScanner.reportFatalErrorDocumentScanner.java:4871| @: com.ibm.xml.xlxp2.scan.DTDScanner.reportFat&lt;/Text&gt;&lt;/detail&gt;&lt;/NS2:Fault&gt;\r\n\r\nThe mod_proxy is configured just to redirect the messages, there&#39;s haven&#39;t any treatment or change in the apache.\r\n\r\n","title":"Description error returning on messages sent through Apache mod_proxy","body":"<p>I'm having an issue with the description of the error messages returned by some IIB (IBM Integration Bus) applications sending messages to an endpoint through an apache mod_proxy gateway.</p>\n<p>When I sent the message directly to endpoint (without apache) I receive the correct error description: &quot;WEBSERVICE ERROR : W2000101 : Web Service not found&quot;.</p>\n<p>But if this same message is sent through apache (mod_proxy) the description error is returned by a java message, like below:</p>\n<pre><code>&lt;NS2:Fault xmlns:NS2=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n    &lt;faultcode&gt;ESB2003&lt;/faultcode&gt;\n    &lt;faultstring&gt;Ocorreu um erro ao acionar o sistema Protheus. Consulte o campo de detalhes para mais informações.&lt;/faultstring&gt;  \n     &lt;faultactor&gt;ConsultarTituloPrevistoP12.Soap Request P12&lt;/faultactor&gt;\n     &lt;detail&gt;&lt;Text&gt;Axis2Requester_processResponseMessageSync, org.apache.axiom.om.OMException: javax.xml.stream.XMLStreamException: White space is required between quot;SYSTEMquot; and the system identifier., Frame : 0 org.apache.axiom.om.OMException: javax.xml.stream.XMLStreamException: White space is required between quot;SYSTEMquot; and the system identifier.| @: org.apache.axiom.om.impl.builder.StAXOMBuilder.nextStAXOMBuilder.java:293| @: org.apache.axiom.soap.impl.builder.StAXSOAPModelBuilder.getSOAPEnvelopeStAXSOAPModelBuilder.java:204| @: org.apache.axiom.soap.impl.builder.StAXSOAPModelBuilder.amp;lt;initamp;gt;StAXSOAPModelBuilder.java:154| @: org.apache.axiom.soap.impl.builder.StAXSOAPModelBuilder.amp;lt;initamp;gt;StAXSOAPModelBuilder.java:140| @: com.ibm.broker.axis2.SoapUtilities.createSOAPMessageSoapUtilities.java:2259| @: com.ibm.broker.axis2.SoapUtilities.createSOAPMessageSoapUtilities.java:1959| @: com.ibm.broker.axis2.Axis2Requester.processResponseMessageSyncAxis2Requester.java:2184| @: com.ibm.broker.plugin.MbOutputTerminal._propagateNative Method| @: com.ibm.broker.plugin.MbOutputTerminal.propagateMbOutputTerminal.java:133| @: com.ibm.broker.plugin.MbOutputTerminal.propagateMbOutputTerminal.java:88| @: com.ibm.broker.ct.mapping.MappingNode.buildAndPropagateMappingNode.java:1118| @: com.ibm.broker.ct.mapping.MappingNode.evaluateMappingNode.java:409| @: com.ibm.broker.plugin.MbNode.evaluateMbNode.java:1453|Frame : 1 javax.xml.stream.XMLStreamException: White space is required between quot;SYSTEMquot; and the system identifier.| @: com.ibm.xml.xlxp2.api.stax.msg.StAXMessageProvider.throwWrappedXMLStreamExceptionStAXMessageProvider.java:76| @: com.ibm.xml.xlxp2.api.stax.XMLStreamReaderImpl.produceFatalErrorEventXMLStreamReaderImpl.java:2008| @: com.ibm.xml.xlxp2.api.jaxb.JAXBXMLStreamReader.produceFatalErrorEventJAXBXMLStreamReader.java:356| @: com.ibm.xml.xlxp2.scan.DocumentScanner.reportFatalErrorDocumentScanner.java:4871| @: com.ibm.xml.xlxp2.scan.DTDScanner.reportFat&lt;/Text&gt;&lt;/detail&gt;&lt;/NS2:Fault&gt;\n</code></pre>\n<p>The mod_proxy is configured just to redirect the messages, there's haven't any treatment or change in the apache.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":17066586,"reputation":4526,"user_id":12348584,"display_name":"H3AR7B3A7"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653699055,"creation_date":1653698741,"answer_id":72412177,"question_id":72412101,"body_markdown":"You use the object. By adding a `@JoinColumn` you can specify what field on that object you are using as reference.\r\n\r\n```java\r\n@Entity\r\npublic class Company {\r\n  @Id\r\n  @GeneratedValue\r\n  private int id;\r\n  private String name;\r\n  @OneToOne\r\n  @JoinColumn(name=&quot;id&quot;)\r\n  private Address address;\r\n}\r\n```\r\n\r\nNote that this is not at all an example of dependency injection.\r\nDependency injection is the concept where your class only knows it requires a type of functionality, and is being provided an implementation of it without having to know of that implementation. In Srping that is generally done by autowiring in some interface and providing the implementation as a Spring bean. This is done by using the `@Autowire` annotation which can be omitted when the field being wired in is final and a constructor is provided, for what is called constructor injection.\r\n\r\n*\\* As an analogy, consider a construction worker asking his pupil to hand him a thing to drill a hole into the wall. He is not concerned with it being a &#39;Bosch&#39; or that it is a 400watt drill. He just cares that it drills holes.*","title":"the `Company` class depends on `Address`, how do I describe such dependency?","body":"<p>You use the object. By adding a <code>@JoinColumn</code> you can specify what field on that object you are using as reference.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Company {\n  @Id\n  @GeneratedValue\n  private int id;\n  private String name;\n  @OneToOne\n  @JoinColumn(name=&quot;id&quot;)\n  private Address address;\n}\n</code></pre>\n<p>Note that this is not at all an example of dependency injection.\nDependency injection is the concept where your class only knows it requires a type of functionality, and is being provided an implementation of it without having to know of that implementation. In Srping that is generally done by autowiring in some interface and providing the implementation as a Spring bean. This is done by using the <code>@Autowire</code> annotation which can be omitted when the field being wired in is final and a constructor is provided, for what is called constructor injection.</p>\n<p><em>* As an analogy, consider a construction worker asking his pupil to hand him a thing to drill a hole into the wall. He is not concerned with it being a 'Bosch' or that it is a 400watt drill. He just cares that it drills holes.</em></p>\n"},{"tags":[],"owner":{"account_id":25373112,"reputation":141,"user_id":19186589,"display_name":"HARI HARAN"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653699395,"creation_date":1653699395,"answer_id":72412205,"question_id":72412101,"body_markdown":"Since you are working with Pojos there is no need of thinking in terms of dependency because those models will not be dependent on any component from the spring container (atleast for your case). You can think of dependency injection when there is a need of single common object/component for your class. \r\n\r\nSo answer to you question is,you need to go with the second approach. You need to go with the address object itself.\r\n\r\nPlease see the documentation:\r\nhttps://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-introduction","title":"the `Company` class depends on `Address`, how do I describe such dependency?","body":"<p>Since you are working with Pojos there is no need of thinking in terms of dependency because those models will not be dependent on any component from the spring container (atleast for your case). You can think of dependency injection when there is a need of single common object/component for your class.</p>\n<p>So answer to you question is,you need to go with the second approach. You need to go with the address object itself.</p>\n<p>Please see the documentation:\n<a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-introduction\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-introduction</a></p>\n"}],"owner":{"account_id":14193578,"reputation":943,"user_id":12214867,"display_name":"JJJohn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72412177,"answer_count":2,"score":1,"last_activity_date":1653699395,"creation_date":1653697376,"question_id":72412101,"body_markdown":"I&#39;m learning spring boot and trying to figure out how should I describe the dependency.\r\n\r\nI&#39;m aware that dependency injection is one of the core features of Spring framework.\r\n\r\nHow should I describe dependency in coding?\r\n\r\nFor example, I have two classes, `Company` and `Address`\r\n\r\n    @Entity\r\n    public class Address {\r\n      @Id \r\n      @GeneratedValue\r\n      private int id;\r\n      private String street;\r\n      private int number;\r\n    }\r\n\r\nthe `Company` class depends on `Address`, how do I describe such dependency?\r\n\r\nshould I go with `addressId`\r\n\r\n    @Entity\r\n    public class Company {\r\n      @Id\r\n      @GeneratedValue\r\n      private int id;\r\n      private String name;\r\n      private int addressId;\r\n    }\r\n\r\nor the `Address` object itself\r\n\r\n    @Entity\r\n    public class Company {\r\n      @Id\r\n      @GeneratedValue\r\n      private int id;\r\n      private String name;\r\n      private Address address;\r\n    }","title":"the `Company` class depends on `Address`, how do I describe such dependency?","body":"<p>I'm learning spring boot and trying to figure out how should I describe the dependency.</p>\n<p>I'm aware that dependency injection is one of the core features of Spring framework.</p>\n<p>How should I describe dependency in coding?</p>\n<p>For example, I have two classes, <code>Company</code> and <code>Address</code></p>\n<pre><code>@Entity\npublic class Address {\n  @Id \n  @GeneratedValue\n  private int id;\n  private String street;\n  private int number;\n}\n</code></pre>\n<p>the <code>Company</code> class depends on <code>Address</code>, how do I describe such dependency?</p>\n<p>should I go with <code>addressId</code></p>\n<pre><code>@Entity\npublic class Company {\n  @Id\n  @GeneratedValue\n  private int id;\n  private String name;\n  private int addressId;\n}\n</code></pre>\n<p>or the <code>Address</code> object itself</p>\n<pre><code>@Entity\npublic class Company {\n  @Id\n  @GeneratedValue\n  private int id;\n  private String name;\n  private Address address;\n}\n</code></pre>\n"},{"tags":["java","android","fileinputstream","parity"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1653627509,"post_id":72400376,"comment_id":127901329,"body_markdown":"You need to check, in principle read can return any number less than or equal to the buffer size.","body":"You need to check, in principle read can return any number less than or equal to the buffer size."},{"owner":{"account_id":1602625,"reputation":2339,"user_id":1483390,"accept_rate":52,"display_name":"Luis A. Florit"},"score":0,"creation_date":1653663769,"post_id":72400376,"comment_id":127912928,"body_markdown":"DataInputStream reads shorts in BigEndian, while WAVE are LittleEndian. No?","body":"DataInputStream reads shorts in BigEndian, while WAVE are LittleEndian. No?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1653680230,"post_id":72400376,"comment_id":127918221,"body_markdown":"What does it matter? Just swap the bytes","body":"What does it matter? Just swap the bytes"},{"owner":{"account_id":1602625,"reputation":2339,"user_id":1483390,"accept_rate":52,"display_name":"Luis A. Florit"},"score":0,"creation_date":1653694737,"post_id":72400376,"comment_id":127921186,"body_markdown":"In my case, I do not quite yet see the advantage. If I use `DataInputStream.readShort()` to read shorts one by one, then the routine is *very* slow (it is to display a waveform) - I just tried. So I need to use buffers anyway, and since I need to compute RMS of *constant* length chunks of audio data, I need to ensure that the correct constant length is being written. So the only savings I see would be to convert 2 byte to short, which is pretty inexpensive, and with `DataInputStream` I need to swap anyway. Hope this makes sense, or maybe I am missing something? I will add an EDIT for this.","body":"In my case, I do not quite yet see the advantage. If I use <code>DataInputStream.readShort()</code> to read shorts one by one, then the routine is <i>very</i> slow (it is to display a waveform) - I just tried. So I need to use buffers anyway, and since I need to compute RMS of <i>constant</i> length chunks of audio data, I need to ensure that the correct constant length is being written. So the only savings I see would be to convert 2 byte to short, which is pretty inexpensive, and with <code>DataInputStream</code> I need to swap anyway. Hope this makes sense, or maybe I am missing something? I will add an EDIT for this."}],"owner":{"account_id":1602625,"reputation":2339,"user_id":1483390,"accept_rate":52,"display_name":"Luis A. Florit"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653699024,"creation_date":1653624573,"question_id":72400376,"body_markdown":"I have a method that reads a 16 bit WAVE file, like this:\r\n\r\n    FileInputStream in = new FileInputStream(file);\r\n    byte[] bytes = new byte[8*Number];\r\n    do {\r\n        readSize = in.read(bytes, 0, 8*Number);\r\n        ...\r\n    } while (...);\r\n\r\nI then need to convert each pair of bytes in `bytes[]` into a short. That is, I better be sure that `readSize` is even! I know that `readSize` is not necessarily equal to `8*Number`, and that it can be smaller...\r\n\r\nIs this parity of `readSize` somehow guaranteed by the read method, or I must check after the `in.read` line?\r\n\r\n**EDIT**\r\n\r\nSince I also need that `readSize` to be equal to `8*Number` and not just even, I use this workaround, where I am reading once and again until I get all the data I need:\r\n\r\n            FileInputStream in = new FileInputStream(f);\r\n            int i, readSize, chunkPerBar = 8*Number;\r\n            byte[] bytes = new byte[chunkPerBar];\r\n            double mean;\r\n            do {\r\n                // If I cannot read *exactly* chunkPerBar bytes, keep adding or exit\r\n                readSize = in.read(bytes, 0, chunkPerBar);\r\n                while ((readSize &lt; chunkPerBar) &amp;&amp; (in.available() &gt; 0))\r\n                    readSize += in.read(bytes, readSize, chunkPerBar - readSize);\r\n                if (readSize &lt; chunkPerBar) break;  // Discard the last chunk if &lt; chunkPerBar\r\n\r\n                mean = 0;\r\n                for (i = 0; i &lt; chunkPerBar / 2; i++) {\r\n                    aux = (short)( ( bytes[2*i] &amp; 0xff )|( bytes[2*i+1] &lt;&lt; 8 ) );\r\n                    mean += aux * aux;\r\n                }\r\n\r\n                waveform.drawNewBar(mean/chunkPerBar);\r\n            } while (in.available() &gt; 0);\r\n            in.close();\r\n            } catch {...}","title":"Can FileInputStream.read read an odd number of bytes?","body":"<p>I have a method that reads a 16 bit WAVE file, like this:</p>\n<pre><code>FileInputStream in = new FileInputStream(file);\nbyte[] bytes = new byte[8*Number];\ndo {\n    readSize = in.read(bytes, 0, 8*Number);\n    ...\n} while (...);\n</code></pre>\n<p>I then need to convert each pair of bytes in <code>bytes[]</code> into a short. That is, I better be sure that <code>readSize</code> is even! I know that <code>readSize</code> is not necessarily equal to <code>8*Number</code>, and that it can be smaller...</p>\n<p>Is this parity of <code>readSize</code> somehow guaranteed by the read method, or I must check after the <code>in.read</code> line?</p>\n<p><strong>EDIT</strong></p>\n<p>Since I also need that <code>readSize</code> to be equal to <code>8*Number</code> and not just even, I use this workaround, where I am reading once and again until I get all the data I need:</p>\n<pre><code>        FileInputStream in = new FileInputStream(f);\n        int i, readSize, chunkPerBar = 8*Number;\n        byte[] bytes = new byte[chunkPerBar];\n        double mean;\n        do {\n            // If I cannot read *exactly* chunkPerBar bytes, keep adding or exit\n            readSize = in.read(bytes, 0, chunkPerBar);\n            while ((readSize &lt; chunkPerBar) &amp;&amp; (in.available() &gt; 0))\n                readSize += in.read(bytes, readSize, chunkPerBar - readSize);\n            if (readSize &lt; chunkPerBar) break;  // Discard the last chunk if &lt; chunkPerBar\n\n            mean = 0;\n            for (i = 0; i &lt; chunkPerBar / 2; i++) {\n                aux = (short)( ( bytes[2*i] &amp; 0xff )|( bytes[2*i+1] &lt;&lt; 8 ) );\n                mean += aux * aux;\n            }\n\n            waveform.drawNewBar(mean/chunkPerBar);\n        } while (in.available() &gt; 0);\n        in.close();\n        } catch {...}\n</code></pre>\n"},{"tags":["java","unit-testing","mockito"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1653698403,"post_id":72412103,"comment_id":127921674,"body_markdown":"Please add the source for `SuspectService`.","body":"Please add the source for <code>SuspectService</code>."},{"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"score":0,"creation_date":1653698499,"post_id":72412103,"comment_id":127921692,"body_markdown":"And `SuspectController`  as well, please","body":"And <code>SuspectController</code>  as well, please"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1653809549,"post_id":72412103,"comment_id":127938145,"body_markdown":"I don&#39;t know how your Model class works, and you haven&#39;t included the full stack trace of the error, but in `NewObject` you pass a `Suspect` to `model.addAttribute(&quot;suspect&quot;, new Suspect())` and in `showById` you pass an Optional&lt;Suspect&gt;`: `model.addAttribute(&quot;suspect&quot;, SuspectService.getById(Long.valueOf(id)));`. I suppose one of those is wrong?","body":"I don&#39;t know how your Model class works, and you haven&#39;t included the full stack trace of the error, but in <code>NewObject</code> you pass a <code>Suspect</code> to <code>model.addAttribute(&quot;suspect&quot;, new Suspect())</code> and in <code>showById</code> you pass an Optional&lt;Suspect&gt;<code>: </code>model.addAttribute(&quot;suspect&quot;, SuspectService.getById(Long.valueOf(id)));`. I suppose one of those is wrong?"}],"owner":{"account_id":18246761,"reputation":41,"user_id":13282704,"display_name":"Ariana"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653698759,"creation_date":1653697413,"question_id":72412103,"body_markdown":"I&#39;m trying to do an Unit test, but I receive the error &#39;cannot resolve the method thenReturn(suspectTest) ; wrap using java.Optional&#39;, but when I do (.thenReturn(Optional.of(suspectTest)), the test fails - &#39;Optional cannot be cast to class Suspect&#39;. Here it is the test, the SuspectService and the SuspectController (edited post*). Thank you in advance!\r\n\r\n```\r\n@DataJpaTest\r\npublic class ControllerTest {\r\n    @Mock\r\n    Model model;\r\n    @Mock\r\n    SuspectService suspectService;\r\n    SuspectController suspectController;\r\n\r\n    @Rule\r\n    public MockitoRule rule = MockitoJUnit.rule();\r\n\r\n    @Before\r\n    public void setUp() throws Exception {\r\n        suspectController = new SuspectController(suspectService);\r\n    }\r\n\r\n    @Captor\r\n    ArgumentCaptor&lt;Suspect&gt; argumentCaptor;\r\n\r\n\r\n    @Test\r\n    public void showById() {\r\n        Integer id = 1;\r\n        Suspect suspectTest = new Suspect();\r\n        suspectTest.setId(Long.valueOf(id));\r\n\r\n        when(suspectService.getById(Long.valueOf(id))).thenReturn(Optional.of(suspectTest));\r\n\r\n        String viewName = suspectController.showById(id.toString(), model);\r\n        Assert.assertEquals(&quot;info&quot;, viewName);\r\n        verify(suspectService, times(1)).getById(Long.valueOf(id));\r\n\r\n        verify(model, times(1))\r\n                .addAttribute(eq(&quot;suspect&quot;), argumentCaptor.capture() );\r\n\r\n        Suspect suspectArg = argumentCaptor.getValue();\r\n        Assert.assertEquals(suspectArg.getId(), suspectTest.getId() );\r\n\r\n    }\r\n}\r\n\r\n\r\n@Service\r\npublic class SuspectService implements BaseService&lt;Suspect&gt; {\r\n    private final com.unibuc.AWBD_Project_v1.repositories.SuspectRepository suspectRepository;\r\n\r\n    @Autowired\r\n    public SuspectService(SuspectRepository SuspectRepository) {\r\n        this.suspectRepository = SuspectRepository;\r\n    }\r\n\r\n    @Override\r\n    public Suspect insert(Suspect object) {\r\n        return suspectRepository.save(object);\r\n    }\r\n\r\n    @Override\r\n    public Suspect update(Long id, Suspect updatedObject) {\r\n        var foundId =  suspectRepository.findById(id);\r\n\r\n        return foundId.map(suspectRepository::save).orElse(null);\r\n    }\r\n\r\n    @Override\r\n    public List&lt;Suspect&gt; getAll() {\r\n        return suspectRepository.findAll();\r\n    }\r\n\r\n    @Override\r\n    public Optional&lt;Suspect&gt; getById(Long id) {\r\n        return suspectRepository.findById(id);\r\n    }\r\n\r\n    @Override\r\n    public void deleteById(Long id)\r\n    {\r\n        try {\r\n            suspectRepository.deleteById(id);\r\n        } catch (SuspectException e) {\r\n            throw  new SuspectException(&quot;Suspect not found&quot;);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public Page&lt;Suspect&gt; findAll(int page, int size, String sortBy, String sortType){\r\n        Sort sort = sortType.equalsIgnoreCase(Sort.Direction.ASC.name()) ? Sort.by(sortBy).ascending() :\r\n                Sort.by(sortBy).descending();\r\n        Pageable pageable = PageRequest.of(page - 1, size, sort);\r\n        return  suspectRepository.findAll(pageable);\r\n    }\r\n\r\n}\r\n\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/suspect&quot;)\r\npublic class SuspectController implements BaseController&lt;Suspect&gt; {\r\n    private final com.unibuc.AWBD_Project_v1.services.SuspectService SuspectService;\r\n\r\n    @Autowired\r\n    public SuspectController(SuspectService SuspectService) {\r\n        this.SuspectService = SuspectService;\r\n    }\r\n\r\n    @PostMapping(&quot;/suspects/add&quot;)\r\n    @Override\r\n    public String NewObject(Model model) {\r\n\r\n        model.addAttribute(&quot;suspect&quot;, new Suspect());\r\n        return &quot;addsuspect&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/suspects/update/{id}&quot;)\r\n    @Override\r\n    public String update(@PathVariable Long id, @Valid @ModelAttribute(&quot;suspect&quot;) Suspect suspect, BindingResult bindingResult, Model model) {\r\n        if(bindingResult.hasErrors())\r\n        {\r\n            boolean update = true;\r\n            model.addAttribute(&quot;update&quot;, update);\r\n            return &quot;addsuspect&quot;;\r\n        }\r\n        SuspectService.insert(suspect);\r\n        return &quot;redirect:/suspects&quot;;\r\n    }\r\n\r\n    @DeleteMapping(&quot;/suspects/delete/{id}&quot;)\r\n    @Override\r\n    public String deleteById(@PathVariable Long id) {\r\n        try {\r\n            SuspectService.deleteById(id);\r\n        } catch (SuspectException e)\r\n        {\r\n            throw new SuspectException(&quot;Suspect with &quot; + id + &quot; does not exist!&quot;);\r\n        }\r\n        return &quot;redirect:/suspects&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/suspect/{id}&quot;)\r\n    public String showById(@PathVariable String id, Model model){\r\n        model.addAttribute(&quot;suspect&quot;,\r\n                SuspectService.getById(Long.valueOf(id)));\r\n        return &quot;info&quot;;\r\n    }\r\n\r\n\r\n    @RequestMapping(&quot;/suspects&quot;)\r\n    public String objectsList(@RequestParam(value = &quot;page&quot;, required = false) Integer page,\r\n                              @RequestParam(value = &quot;sortBy&quot;, required = false) String sortBy,\r\n                              @RequestParam(value = &quot;sortType&quot;, required = false) String sortType, Model model) {\r\n        int size = 5;\r\n        if (page == null)\r\n            page = 1;\r\n        if(sortBy==null)\r\n            sortBy =&quot;name&quot;;\r\n        if(sortType==null)\r\n            sortType =&quot;asc&quot;;\r\n        Page&lt;Suspect&gt; pageSuspect = SuspectService.findAll(page, size, sortBy, sortType);\r\n        List&lt;Suspect&gt; suspects = pageSuspect.getContent();\r\n\r\n        model.addAttribute(&quot;currentPage&quot;, page);\r\n        model.addAttribute(&quot;totalPages&quot;, pageSuspect.getTotalPages());\r\n        model.addAttribute(&quot;totalItems&quot;, pageSuspect.getTotalElements());\r\n\r\n        model.addAttribute(&quot;sortBy&quot;, sortBy);\r\n        model.addAttribute(&quot;sortType&quot;, sortType);\r\n        model.addAttribute(&quot;reverseSortDir&quot;, sortType.equals(&quot;asc&quot;) ? &quot;desc&quot; : &quot;asc&quot;);\r\n        model.addAttribute(&quot;suspects&quot;, suspects);\r\n        var suspect = new Suspect();\r\n        model.addAttribute(&quot;suspect&quot;, suspect);\r\n        return &quot;suspects&quot;;\r\n    }\r\n\r\n\r\n}\r\n\r\n```","title":"thenReturn() wants Optional, but test fails","body":"<p>I'm trying to do an Unit test, but I receive the error 'cannot resolve the method thenReturn(suspectTest) ; wrap using java.Optional', but when I do (.thenReturn(Optional.of(suspectTest)), the test fails - 'Optional cannot be cast to class Suspect'. Here it is the test, the SuspectService and the SuspectController (edited post*). Thank you in advance!</p>\n<pre><code>@DataJpaTest\npublic class ControllerTest {\n    @Mock\n    Model model;\n    @Mock\n    SuspectService suspectService;\n    SuspectController suspectController;\n\n    @Rule\n    public MockitoRule rule = MockitoJUnit.rule();\n\n    @Before\n    public void setUp() throws Exception {\n        suspectController = new SuspectController(suspectService);\n    }\n\n    @Captor\n    ArgumentCaptor&lt;Suspect&gt; argumentCaptor;\n\n\n    @Test\n    public void showById() {\n        Integer id = 1;\n        Suspect suspectTest = new Suspect();\n        suspectTest.setId(Long.valueOf(id));\n\n        when(suspectService.getById(Long.valueOf(id))).thenReturn(Optional.of(suspectTest));\n\n        String viewName = suspectController.showById(id.toString(), model);\n        Assert.assertEquals(&quot;info&quot;, viewName);\n        verify(suspectService, times(1)).getById(Long.valueOf(id));\n\n        verify(model, times(1))\n                .addAttribute(eq(&quot;suspect&quot;), argumentCaptor.capture() );\n\n        Suspect suspectArg = argumentCaptor.getValue();\n        Assert.assertEquals(suspectArg.getId(), suspectTest.getId() );\n\n    }\n}\n\n\n@Service\npublic class SuspectService implements BaseService&lt;Suspect&gt; {\n    private final com.unibuc.AWBD_Project_v1.repositories.SuspectRepository suspectRepository;\n\n    @Autowired\n    public SuspectService(SuspectRepository SuspectRepository) {\n        this.suspectRepository = SuspectRepository;\n    }\n\n    @Override\n    public Suspect insert(Suspect object) {\n        return suspectRepository.save(object);\n    }\n\n    @Override\n    public Suspect update(Long id, Suspect updatedObject) {\n        var foundId =  suspectRepository.findById(id);\n\n        return foundId.map(suspectRepository::save).orElse(null);\n    }\n\n    @Override\n    public List&lt;Suspect&gt; getAll() {\n        return suspectRepository.findAll();\n    }\n\n    @Override\n    public Optional&lt;Suspect&gt; getById(Long id) {\n        return suspectRepository.findById(id);\n    }\n\n    @Override\n    public void deleteById(Long id)\n    {\n        try {\n            suspectRepository.deleteById(id);\n        } catch (SuspectException e) {\n            throw  new SuspectException(&quot;Suspect not found&quot;);\n        }\n    }\n\n    @Override\n    public Page&lt;Suspect&gt; findAll(int page, int size, String sortBy, String sortType){\n        Sort sort = sortType.equalsIgnoreCase(Sort.Direction.ASC.name()) ? Sort.by(sortBy).ascending() :\n                Sort.by(sortBy).descending();\n        Pageable pageable = PageRequest.of(page - 1, size, sort);\n        return  suspectRepository.findAll(pageable);\n    }\n\n}\n\n\n@RestController\n@RequestMapping(&quot;/api/suspect&quot;)\npublic class SuspectController implements BaseController&lt;Suspect&gt; {\n    private final com.unibuc.AWBD_Project_v1.services.SuspectService SuspectService;\n\n    @Autowired\n    public SuspectController(SuspectService SuspectService) {\n        this.SuspectService = SuspectService;\n    }\n\n    @PostMapping(&quot;/suspects/add&quot;)\n    @Override\n    public String NewObject(Model model) {\n\n        model.addAttribute(&quot;suspect&quot;, new Suspect());\n        return &quot;addsuspect&quot;;\n    }\n\n    @PostMapping(&quot;/suspects/update/{id}&quot;)\n    @Override\n    public String update(@PathVariable Long id, @Valid @ModelAttribute(&quot;suspect&quot;) Suspect suspect, BindingResult bindingResult, Model model) {\n        if(bindingResult.hasErrors())\n        {\n            boolean update = true;\n            model.addAttribute(&quot;update&quot;, update);\n            return &quot;addsuspect&quot;;\n        }\n        SuspectService.insert(suspect);\n        return &quot;redirect:/suspects&quot;;\n    }\n\n    @DeleteMapping(&quot;/suspects/delete/{id}&quot;)\n    @Override\n    public String deleteById(@PathVariable Long id) {\n        try {\n            SuspectService.deleteById(id);\n        } catch (SuspectException e)\n        {\n            throw new SuspectException(&quot;Suspect with &quot; + id + &quot; does not exist!&quot;);\n        }\n        return &quot;redirect:/suspects&quot;;\n    }\n\n    @GetMapping(&quot;/suspect/{id}&quot;)\n    public String showById(@PathVariable String id, Model model){\n        model.addAttribute(&quot;suspect&quot;,\n                SuspectService.getById(Long.valueOf(id)));\n        return &quot;info&quot;;\n    }\n\n\n    @RequestMapping(&quot;/suspects&quot;)\n    public String objectsList(@RequestParam(value = &quot;page&quot;, required = false) Integer page,\n                              @RequestParam(value = &quot;sortBy&quot;, required = false) String sortBy,\n                              @RequestParam(value = &quot;sortType&quot;, required = false) String sortType, Model model) {\n        int size = 5;\n        if (page == null)\n            page = 1;\n        if(sortBy==null)\n            sortBy =&quot;name&quot;;\n        if(sortType==null)\n            sortType =&quot;asc&quot;;\n        Page&lt;Suspect&gt; pageSuspect = SuspectService.findAll(page, size, sortBy, sortType);\n        List&lt;Suspect&gt; suspects = pageSuspect.getContent();\n\n        model.addAttribute(&quot;currentPage&quot;, page);\n        model.addAttribute(&quot;totalPages&quot;, pageSuspect.getTotalPages());\n        model.addAttribute(&quot;totalItems&quot;, pageSuspect.getTotalElements());\n\n        model.addAttribute(&quot;sortBy&quot;, sortBy);\n        model.addAttribute(&quot;sortType&quot;, sortType);\n        model.addAttribute(&quot;reverseSortDir&quot;, sortType.equals(&quot;asc&quot;) ? &quot;desc&quot; : &quot;asc&quot;);\n        model.addAttribute(&quot;suspects&quot;, suspects);\n        var suspect = new Suspect();\n        model.addAttribute(&quot;suspect&quot;, suspect);\n        return &quot;suspects&quot;;\n    }\n\n\n}\n\n</code></pre>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":2719313,"reputation":15631,"user_id":2345933,"accept_rate":84,"display_name":"Adam Siemion"},"score":0,"creation_date":1653685312,"post_id":72411022,"comment_id":127919487,"body_markdown":"what does `disconnect()` do? does it call some service so that you can provide a mock and verify a specific method from the mock has been called?","body":"what does <code>disconnect()</code> do? does it call some service so that you can provide a mock and verify a specific method from the mock has been called?"},{"owner":{"account_id":2169094,"reputation":87,"user_id":2377645,"display_name":"Ivan"},"score":0,"creation_date":1653686410,"post_id":72411022,"comment_id":127919755,"body_markdown":"move out verify() from lambda to test()","body":"move out verify() from lambda to test()"}],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653697316,"creation_date":1653697316,"answer_id":72412098,"question_id":72411022,"body_markdown":"Move `verify(myService, times(1)).expireTokens(any())` out of the `Assert.assertThrows` function context.\r\n&lt;br&gt;`Assert.assertThrows` equal next construction:\r\n```java\r\n        try {\r\n              //run exceptional operation\r\n              service.myFunction(business);\r\n              //code after exceptional operation will not be executed\r\n              verify(myService, times(1)).expireTokens(any());\r\n        } catch (Throwable actualThrown) {\r\n            if (expectedThrowable.isInstance(actualThrown)) {\r\n                return actualThrown;                \r\n            } else {\r\n                throw new AssertionError();\r\n            }\r\n        }\r\n```\r\nSo the code defined after the exceptional function will not be executed because of raised exception. This is the reason of the incorrect test behavior.\r\n&lt;br&gt;Example of the correct test implementation:\r\n```java\r\n    @Test\r\n    public void test() {\r\n        MyService myService = mock(MyService.class);\r\n        TestService testService = new TestService(myService);\r\n        Business business = new Business();\r\n\r\n        Assert.assertThrows(Exception.class, () -&gt; {\r\n            testService.myFunction(business);\r\n        });\r\n\r\n        verify(myService, times(1)).expireTokens(any());\r\n    }\r\n\r\npublic class TestService {\r\n\r\n    private MyService myService;\r\n\r\n    public TestService(MyService myService) {\r\n        this.myService = myService;\r\n    }\r\n\r\n    public void myFunction(Business business) throws Exception {\r\n        if(business != null) {\r\n            disconnect(business);\r\n            throw new Exception(&quot;message&quot;);\r\n        }\r\n    }\r\n\r\n    public void disconnect(Business business) {\r\n        myService.expireTokens(business);\r\n    }\r\n}\r\n\r\npublic class MyService {\r\n    public void expireTokens(Business business) {\r\n    }\r\n}\r\n```","title":"Mockito - verify condition inside a method that is supposed to throw error","body":"<p>Move <code>verify(myService, times(1)).expireTokens(any())</code> out of the <code>Assert.assertThrows</code> function context.\n<br><code>Assert.assertThrows</code> equal next construction:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        try {\n              //run exceptional operation\n              service.myFunction(business);\n              //code after exceptional operation will not be executed\n              verify(myService, times(1)).expireTokens(any());\n        } catch (Throwable actualThrown) {\n            if (expectedThrowable.isInstance(actualThrown)) {\n                return actualThrown;                \n            } else {\n                throw new AssertionError();\n            }\n        }\n</code></pre>\n<p>So the code defined after the exceptional function will not be executed because of raised exception. This is the reason of the incorrect test behavior.\n<br>Example of the correct test implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    public void test() {\n        MyService myService = mock(MyService.class);\n        TestService testService = new TestService(myService);\n        Business business = new Business();\n\n        Assert.assertThrows(Exception.class, () -&gt; {\n            testService.myFunction(business);\n        });\n\n        verify(myService, times(1)).expireTokens(any());\n    }\n\npublic class TestService {\n\n    private MyService myService;\n\n    public TestService(MyService myService) {\n        this.myService = myService;\n    }\n\n    public void myFunction(Business business) throws Exception {\n        if(business != null) {\n            disconnect(business);\n            throw new Exception(&quot;message&quot;);\n        }\n    }\n\n    public void disconnect(Business business) {\n        myService.expireTokens(business);\n    }\n}\n\npublic class MyService {\n    public void expireTokens(Business business) {\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":144187,"reputation":7338,"user_id":353046,"accept_rate":47,"display_name":"Mankind1023"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":623,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653697316,"creation_date":1653685171,"question_id":72411022,"body_markdown":"I have the following code that I&#39;m trying to test:\r\n\r\n**class foo:**\r\n\r\n    public void myFunction(Business business) {\r\n      ...\r\n      if(someCondition) {\r\n        disconnect(business);\r\n        throw exception(&quot;message&quot;);\r\n      }\r\n    }\r\n    \r\n    public void disconnect(Business business) {\r\n      ...\r\n      myService.expireTokens(business);\r\n      ...\r\n    }\r\n\r\n**foo test:**\r\n\r\n    @Test\r\n    public void test(){\r\n      Assert.assertThrows(Exception.class, () -&gt; {\r\n        service.myFunction(business);\r\n        verify(myService, times(1)).expireTokens(any());\r\n      });\r\n    }\r\n\r\nSo the problem above is that I can comment out the **disconnect()** in my if clause and the assertThrows would &#39;catch&#39; the erorr / pass the test, and if the normal flow goes through, it would still throw the expected error and pass, how can I test the nested disconnect actually went through before throwing?","title":"Mockito - verify condition inside a method that is supposed to throw error","body":"<p>I have the following code that I'm trying to test:</p>\n<p><strong>class foo:</strong></p>\n<pre><code>public void myFunction(Business business) {\n  ...\n  if(someCondition) {\n    disconnect(business);\n    throw exception(&quot;message&quot;);\n  }\n}\n\npublic void disconnect(Business business) {\n  ...\n  myService.expireTokens(business);\n  ...\n}\n</code></pre>\n<p><strong>foo test:</strong></p>\n<pre><code>@Test\npublic void test(){\n  Assert.assertThrows(Exception.class, () -&gt; {\n    service.myFunction(business);\n    verify(myService, times(1)).expireTokens(any());\n  });\n}\n</code></pre>\n<p>So the problem above is that I can comment out the <strong>disconnect()</strong> in my if clause and the assertThrows would 'catch' the erorr / pass the test, and if the normal flow goes through, it would still throw the expected error and pass, how can I test the nested disconnect actually went through before throwing?</p>\n"},{"tags":["java","spring-boot","jakarta-ee","weblogic","microprofile"],"comments":[{"owner":{"account_id":384402,"reputation":1902,"user_id":740888,"display_name":"httPants"},"score":1,"creation_date":1653798390,"post_id":72412081,"comment_id":127936803,"body_markdown":"You can run a spring boot application in weblogic by packaging it as a war file. (I do this frequently).","body":"You can run a spring boot application in weblogic by packaging it as a war file. (I do this frequently)."},{"owner":{"account_id":6298162,"reputation":178,"user_id":4893618,"display_name":"bobs_007"},"score":0,"creation_date":1653887064,"post_id":72412081,"comment_id":127952025,"body_markdown":"The application has been written in EJB and pure JEE standards. Moving to microprofile may be easier than spring (I would like to avoid all code changes if I can).","body":"The application has been written in EJB and pure JEE standards. Moving to microprofile may be easier than spring (I would like to avoid all code changes if I can)."},{"owner":{"account_id":6298162,"reputation":178,"user_id":4893618,"display_name":"bobs_007"},"score":0,"creation_date":1653890070,"post_id":72412081,"comment_id":127952593,"body_markdown":"Two build packaging through maven - Ear deploys to Weblogic and executable Jar for micro profile.","body":"Two build packaging through maven - Ear deploys to Weblogic and executable Jar for micro profile."}],"owner":{"account_id":6298162,"reputation":178,"user_id":4893618,"display_name":"bobs_007"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653697091,"creation_date":1653697091,"question_id":72412081,"body_markdown":"Is it possible to run **eclipse Microprofile** running in **WebLogic** like **spring boot**? ","title":"Microprofile running in weblogic like spring boot","body":"<p>Is it possible to run <strong>eclipse Microprofile</strong> running in <strong>WebLogic</strong> like <strong>spring boot</strong>?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1391658193,"post_id":21593565,"comment_id":32622424,"body_markdown":"What don&#39;t you understand about the error message? I don&#39;t think it can be any clearer.","body":"What don&#39;t you understand about the error message? I don&#39;t think it can be any clearer."},{"owner":{"account_id":1050089,"reputation":20492,"user_id":1054245,"accept_rate":100,"display_name":"Prince"},"score":0,"creation_date":1391658367,"post_id":21593565,"comment_id":32622474,"body_markdown":"Try removing the `IOException`. Does it give error?","body":"Try removing the <code>IOException</code>. Does it give error?"},{"owner":{"display_name":"user2575725"},"score":0,"creation_date":1391662432,"post_id":21593565,"comment_id":32623740,"body_markdown":"ur code &quot;File f=new File(&quot;D:/abc.txt&quot;);&quot; does not creates a file so there is no need of try-catch block. Now if u add this line: f.createNewFile(); this will create a file without any contents in it and the compilation error will be gone","body":"ur code &quot;File f=new File(&quot;D:/abc.txt&quot;);&quot; does not creates a file so there is no need of try-catch block. Now if u add this line: f.createNewFile(); this will create a file without any contents in it and the compilation error will be gone"}],"answers":[{"tags":[],"owner":{"account_id":3159138,"reputation":33796,"user_id":2670792,"accept_rate":100,"display_name":"Christian Tapia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1391658229,"creation_date":1391658229,"answer_id":21593585,"question_id":21593565,"body_markdown":"From [Java Docs][1]:\r\n\r\n&gt; **Throws:**&lt;br&gt;\r\n&gt; NullPointerException - If the pathname argument is null\r\n\r\nWhen you want to see what Exceptions are being thrown by a method (constructor in this case), you can search in Java Docs, or if you are using Eclipse IDE, put cursor over the method, and press &lt;kbd&gt;F2&lt;/kbd&gt;.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/io/File.html","title":"What exception is thrown while creating a file in java","body":"<p>From <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/File.html\" rel=\"nofollow\">Java Docs</a>:</p>\n\n<blockquote>\n  <p><strong>Throws:</strong><br>\n  NullPointerException - If the pathname argument is null</p>\n</blockquote>\n\n<p>When you want to see what Exceptions are being thrown by a method (constructor in this case), you can search in Java Docs, or if you are using Eclipse IDE, put cursor over the method, and press <kbd>F2</kbd>.</p>\n"},{"tags":[],"owner":{"account_id":3775268,"reputation":739,"user_id":3136271,"accept_rate":33,"display_name":"SuRu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391658532,"creation_date":1391658532,"answer_id":21593630,"question_id":21593565,"body_markdown":"`IOException` comes when\r\n\r\n&gt; Signals that an I/O exception of some sort has occurred. This class is\r\n&gt; the general class of  exceptions produced by failed or interrupted I/O\r\n&gt; operations.\r\n\r\nin your code you are just creating a file object. It throws a `NullPointerException` if the path is null.\r\n\r\nIf you want to do any operations with that file like read, write etc... it throws `FileNotFoundException` and `IOException`","title":"What exception is thrown while creating a file in java","body":"<p><code>IOException</code> comes when</p>\n\n<blockquote>\n  <p>Signals that an I/O exception of some sort has occurred. This class is\n  the general class of  exceptions produced by failed or interrupted I/O\n  operations.</p>\n</blockquote>\n\n<p>in your code you are just creating a file object. It throws a <code>NullPointerException</code> if the path is null.</p>\n\n<p>If you want to do any operations with that file like read, write etc... it throws <code>FileNotFoundException</code> and <code>IOException</code></p>\n"},{"tags":[],"owner":{"account_id":2108963,"reputation":144,"user_id":1874613,"display_name":"SSB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391661349,"creation_date":1391661349,"answer_id":21594080,"question_id":21593565,"body_markdown":"The error caused because your code block will never throw an IOException.\r\nIOException will be thrown mostly when doing IO operations on files or other sources","title":"What exception is thrown while creating a file in java","body":"<p>The error caused because your code block will never throw an IOException.\nIOException will be thrown mostly when doing IO operations on files or other sources</p>\n"},{"tags":[],"owner":{"account_id":25315395,"reputation":1,"user_id":19137573,"display_name":"Zohaib Munir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653696926,"creation_date":1653689150,"answer_id":72411478,"question_id":21593565,"body_markdown":"**Explanation**\r\n\r\nWhen ever you try to catch checked exception only which will never be thrown by your code in try block then compiler will always give you error of compilation.\r\nIn this case you are not performing any file operation(creation, reading, writing).\r\nSo your code will never throw any io exception which is checked exception.\r\nYou can&#39;t catch that exception which will never be thrown by your try block.\r\n\r\n**How To Fix**\r\n\r\nYou can fix by removing io-exception from catch block then code will compile fine.","title":"What exception is thrown while creating a file in java","body":"<p><strong>Explanation</strong></p>\n<p>When ever you try to catch checked exception only which will never be thrown by your code in try block then compiler will always give you error of compilation.\nIn this case you are not performing any file operation(creation, reading, writing).\nSo your code will never throw any io exception which is checked exception.\nYou can't catch that exception which will never be thrown by your try block.</p>\n<p><strong>How To Fix</strong></p>\n<p>You can fix by removing io-exception from catch block then code will compile fine.</p>\n"}],"owner":{"account_id":2162940,"reputation":125,"user_id":1916693,"accept_rate":50,"display_name":"user1916693"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2873,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1653696926,"creation_date":1391658152,"question_id":21593565,"body_markdown":"    import java.io.BufferedWriter;\r\n    import java.io.File;\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    public class Filewrite {\r\n\t    public static void main(String args[]) {\r\n\t\t    try{\r\n\t\t\t    String content=&quot;This is my world&quot;;\r\n\t\t\t    File f=new File(&quot;D:/abc.txt&quot;);\r\n\t\t    }catch(IOException i) {\r\n\t\t\t    i.printStackTrace();\r\n\t\t    }\r\n\t    }\r\n    }\r\n\r\nCompilation of the above code gives an error:\r\n\r\n    IO exception is never thrown by this corresponding try block. \r\n\r\nWhat exception may be thrown while creating a file?","title":"What exception is thrown while creating a file in java","body":"<pre><code>import java.io.BufferedWriter;\nimport java.io.File;\nimport java.io.FileWriter;\nimport java.io.IOException;\npublic class Filewrite {\n    public static void main(String args[]) {\n        try{\n            String content=\"This is my world\";\n            File f=new File(\"D:/abc.txt\");\n        }catch(IOException i) {\n            i.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>Compilation of the above code gives an error:</p>\n\n<pre><code>IO exception is never thrown by this corresponding try block. \n</code></pre>\n\n<p>What exception may be thrown while creating a file?</p>\n"},{"tags":["java","apache-kafka","apache-flink","flink-streaming"],"answers":[{"tags":[],"owner":{"account_id":136699,"reputation":2056,"user_id":340380,"accept_rate":89,"display_name":"Amareswar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653695804,"creation_date":1653695804,"answer_id":72412008,"question_id":71420452,"body_markdown":"yes, your use case can be implemented in flink. RocksDB as a state backend is a good choice.","title":"Apache Flink: Best practice for a pipeline with large state","body":"<p>yes, your use case can be implemented in flink. RocksDB as a state backend is a good choice.</p>\n"}],"owner":{"account_id":1666070,"reputation":15,"user_id":1533434,"display_name":"Voldemort"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653695804,"creation_date":1646898444,"question_id":71420452,"body_markdown":"## Background ##\r\nI want to move a job that running on DB to Flink to make the system works more &quot;real time&quot;.\r\nThis job will re-calculate the &quot;state&quot; of all accounts for each 10 seconds and if this value met some conditions we will notify the user about it. \r\nThe &quot;state&quot; of an account is calculate based on the number of stocks they have and the current price of these stocks.\r\n\r\n## My solution\r\nMy idea is to create a pipeline with these inputs:\r\n- BeginStream: The begin of day data (initial data): The stock price from the last day, the number of stock of each account. The data may read from DB tables or loading from a Kafka topic.\r\n- PriceStream: A Kafka topic with each message contains the price of a stock like this:\r\n{&quot;name&quot;:&quot;stockName&quot;, &quot;price&quot;: currentPrice}\r\n- StockStream: A Kafka topic with each message contains the number of stock that account buy or sell (positive or negative number), like this:\r\n{&quot;account&quot;: accountNumber, &quot;stock&quot;: &quot;stockName&quot;, &quot;quantity&quot;: changingNumber}\r\n\r\nMy solution: Joining BeginStream with StockStream and then joining with PriceStream (all will be keyBy StockName) and for doing calculation for each stock of BeginStream, I&#39;ll create a ListState called stockStates which contains the info about: number of stock and current price.\r\n\r\nFor each event from StockStream and PriceStream, I&#39;ll update the stockStates and then calculate the &quot;state&quot;. And if this value met some conditions, we will send a message to other Kafka topic and remove this account from this ListState\r\n\r\n```\r\nBeginStream\r\n  .keyby(StockName)\r\n  .connect(\r\n      StockStream.\r\n        .keyby(StockName))\r\n  .flatMap(new EnrichmentFucntion())\r\n...\r\n  .connect(\r\n      PriceStream.\r\n        .keyby(StockName))\r\n  .flatMap(new EnrichmentFucntion())\r\n```\r\nThe system contains about 500.000 accounts, 1.000 stocks and each account hold 10-20 stocks, the throughput of PriceStream and StockStream is about 1.000 messages/second. \r\n\r\n## Question\r\nI&#39;m new with Flink and therefore I&#39;m not so sure whether my solution is a good approach ? Are there any design pattern for the similar problems ?\r\nAnd with the number of about 1000 ListState(each list contains state for about 500.000*10/1000=5.000 account) should I use RocksDB for state storing ?\r\n\r\nAny suggestions are greatly appreciated.\r\n","title":"Apache Flink: Best practice for a pipeline with large state","body":"<h2>Background</h2>\n<p>I want to move a job that running on DB to Flink to make the system works more &quot;real time&quot;.\nThis job will re-calculate the &quot;state&quot; of all accounts for each 10 seconds and if this value met some conditions we will notify the user about it.\nThe &quot;state&quot; of an account is calculate based on the number of stocks they have and the current price of these stocks.</p>\n<h2>My solution</h2>\n<p>My idea is to create a pipeline with these inputs:</p>\n<ul>\n<li>BeginStream: The begin of day data (initial data): The stock price from the last day, the number of stock of each account. The data may read from DB tables or loading from a Kafka topic.</li>\n<li>PriceStream: A Kafka topic with each message contains the price of a stock like this:\n{&quot;name&quot;:&quot;stockName&quot;, &quot;price&quot;: currentPrice}</li>\n<li>StockStream: A Kafka topic with each message contains the number of stock that account buy or sell (positive or negative number), like this:\n{&quot;account&quot;: accountNumber, &quot;stock&quot;: &quot;stockName&quot;, &quot;quantity&quot;: changingNumber}</li>\n</ul>\n<p>My solution: Joining BeginStream with StockStream and then joining with PriceStream (all will be keyBy StockName) and for doing calculation for each stock of BeginStream, I'll create a ListState called stockStates which contains the info about: number of stock and current price.</p>\n<p>For each event from StockStream and PriceStream, I'll update the stockStates and then calculate the &quot;state&quot;. And if this value met some conditions, we will send a message to other Kafka topic and remove this account from this ListState</p>\n<pre><code>BeginStream\n  .keyby(StockName)\n  .connect(\n      StockStream.\n        .keyby(StockName))\n  .flatMap(new EnrichmentFucntion())\n...\n  .connect(\n      PriceStream.\n        .keyby(StockName))\n  .flatMap(new EnrichmentFucntion())\n</code></pre>\n<p>The system contains about 500.000 accounts, 1.000 stocks and each account hold 10-20 stocks, the throughput of PriceStream and StockStream is about 1.000 messages/second.</p>\n<h2>Question</h2>\n<p>I'm new with Flink and therefore I'm not so sure whether my solution is a good approach ? Are there any design pattern for the similar problems ?\nAnd with the number of about 1000 ListState(each list contains state for about 500.000*10/1000=5.000 account) should I use RocksDB for state storing ?</p>\n<p>Any suggestions are greatly appreciated.</p>\n"},{"tags":["java","unit-testing","junit","mockito","powermock"],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1653694877,"creation_date":1653694877,"answer_id":72411948,"question_id":72394231,"body_markdown":"The main difference between `Powermock.whenNew` and `Mockito.mockConstruction` is that `Mokito` creates a new mock each time when the new object is instantiating when constructor is calling. But `Powermock.whenNew` can be configured to return one mock always for the construction of several objects.\r\n&lt;br&gt;According to [documentation][1]:\r\n\r\n&gt; Represents a mock of any object construction of the represented type.\r\n&gt; Within the scope of the mocked construction, the invocation of any\r\n&gt; interceptor will generate a mock which will be prepared as specified\r\n&gt; when generating this scope. The mock can also be received via this\r\n&gt; instance.\r\n\r\nYou can use `MockedConstruction&lt;T&gt;.constructed()` to get all generated mocks in context. They can be used for verification.\r\n\r\nExample of test to check behavior:\r\n```java\r\npublic class A {\r\n    private final String test;\r\n\r\n    public A(String test) {\r\n        this.test = test;\r\n    }\r\n\r\n    public String check() {\r\n        return &quot;checked &quot; + this.test;\r\n    }\r\n}\r\n\r\npublic class TestService {\r\n    public String purchaseProduct(String param) {\r\n        A a = new A(param);\r\n        return a.check();\r\n    }\r\n}\r\n\r\nimport org.junit.jupiter.api.AfterEach;\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.mockito.MockedConstruction;\r\nimport org.mockito.Mockito;\r\n\r\nimport static org.mockito.Mockito.*;\r\n\r\npublic class ConstructorMockTest {\r\n    private MockedConstruction&lt;A&gt; mockAController;\r\n\r\n    @BeforeEach\r\n    public void beginTest() {\r\n        //create mock controller for all constructors of the given class\r\n        mockAController = Mockito.mockConstruction(A.class,\r\n                (mock, context) -&gt; {\r\n                    //implement initializer for mock. Set return value for object A mock methods\r\n                    //this initializer will be called each time during mock creation \r\n                    when(mock.check()).thenReturn(&quot; Constructor Mock A &quot;);\r\n                });\r\n    }\r\n\r\n    @Test\r\n    public void test() {\r\n        //each instantiation of class A will return new mock, which initialized by initializer from beginTest method\r\n        //new mock will be stored to mockAController.constructed() collection of mocks\r\n        A aObject = new A(&quot;test&quot;);\r\n        //ensure that method check() returns mocked value\r\n        Assertions.assertEquals(aObject.check(), &quot; Constructor Mock A &quot;);\r\n        //get just created mock for class A from controller. It will be first element of mockAController.constructed() collection\r\n        A aMock = mockAController.constructed().get(0);\r\n        //ensure that we get correct mock from mock controller, that it is equal from new created object\r\n        Assertions.assertEquals(aMock, aObject);\r\n        //verify that check method was executed on Mock\r\n        verify(aMock, times(1)).check();\r\n\r\n        //create new A object, new mock created and stored to mockAController.constructed()\r\n        A aObject2 = new A(&quot;test&quot;);\r\n        //ensure that method check() returns mocked value\r\n        Assertions.assertEquals(aObject2.check(), &quot; Constructor Mock A &quot;);\r\n        //get just created mock for class A from controller, it will be second object from constructed collection\r\n        A aMock2 = mockAController.constructed().get(1);\r\n        //ensure that we get correct mock from mock controller, that it is equal from just created A object\r\n        Assertions.assertEquals(aObject2, aMock2);\r\n        //verify that check method was executed on Mock\r\n        verify(aMock2, times(1)).check();\r\n\r\n        //Example of testing service which creates A object\r\n        TestService service = new TestService();\r\n        String serviceResult = service.purchaseProduct(&quot;test&quot;);\r\n        //ensure that service returned value  from A mock\r\n        Assertions.assertEquals(serviceResult, &quot; Constructor Mock A &quot;);\r\n        //get just created mock for class A from controller, it will be third object from constructed collection\r\n        A aMock3 = mockAController.constructed().get(2);\r\n        //verify that check method was executed on Mock\r\n        verify(aMock3, times(1)).check();\r\n    }\r\n\r\n    @AfterEach\r\n    public void endTest() {\r\n        mockAController.close();\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/MockedConstruction.html","title":"Junit 5 use mockConstruction().withSetting().useConstructor() instead of PowerMock.whenNew().withArguments()","body":"<p>The main difference between <code>Powermock.whenNew</code> and <code>Mockito.mockConstruction</code> is that <code>Mokito</code> creates a new mock each time when the new object is instantiating when constructor is calling. But <code>Powermock.whenNew</code> can be configured to return one mock always for the construction of several objects.\n<br>According to <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/MockedConstruction.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>Represents a mock of any object construction of the represented type.\nWithin the scope of the mocked construction, the invocation of any\ninterceptor will generate a mock which will be prepared as specified\nwhen generating this scope. The mock can also be received via this\ninstance.</p>\n</blockquote>\n<p>You can use <code>MockedConstruction&lt;T&gt;.constructed()</code> to get all generated mocks in context. They can be used for verification.</p>\n<p>Example of test to check behavior:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class A {\n    private final String test;\n\n    public A(String test) {\n        this.test = test;\n    }\n\n    public String check() {\n        return &quot;checked &quot; + this.test;\n    }\n}\n\npublic class TestService {\n    public String purchaseProduct(String param) {\n        A a = new A(param);\n        return a.check();\n    }\n}\n\nimport org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.mockito.MockedConstruction;\nimport org.mockito.Mockito;\n\nimport static org.mockito.Mockito.*;\n\npublic class ConstructorMockTest {\n    private MockedConstruction&lt;A&gt; mockAController;\n\n    @BeforeEach\n    public void beginTest() {\n        //create mock controller for all constructors of the given class\n        mockAController = Mockito.mockConstruction(A.class,\n                (mock, context) -&gt; {\n                    //implement initializer for mock. Set return value for object A mock methods\n                    //this initializer will be called each time during mock creation \n                    when(mock.check()).thenReturn(&quot; Constructor Mock A &quot;);\n                });\n    }\n\n    @Test\n    public void test() {\n        //each instantiation of class A will return new mock, which initialized by initializer from beginTest method\n        //new mock will be stored to mockAController.constructed() collection of mocks\n        A aObject = new A(&quot;test&quot;);\n        //ensure that method check() returns mocked value\n        Assertions.assertEquals(aObject.check(), &quot; Constructor Mock A &quot;);\n        //get just created mock for class A from controller. It will be first element of mockAController.constructed() collection\n        A aMock = mockAController.constructed().get(0);\n        //ensure that we get correct mock from mock controller, that it is equal from new created object\n        Assertions.assertEquals(aMock, aObject);\n        //verify that check method was executed on Mock\n        verify(aMock, times(1)).check();\n\n        //create new A object, new mock created and stored to mockAController.constructed()\n        A aObject2 = new A(&quot;test&quot;);\n        //ensure that method check() returns mocked value\n        Assertions.assertEquals(aObject2.check(), &quot; Constructor Mock A &quot;);\n        //get just created mock for class A from controller, it will be second object from constructed collection\n        A aMock2 = mockAController.constructed().get(1);\n        //ensure that we get correct mock from mock controller, that it is equal from just created A object\n        Assertions.assertEquals(aObject2, aMock2);\n        //verify that check method was executed on Mock\n        verify(aMock2, times(1)).check();\n\n        //Example of testing service which creates A object\n        TestService service = new TestService();\n        String serviceResult = service.purchaseProduct(&quot;test&quot;);\n        //ensure that service returned value  from A mock\n        Assertions.assertEquals(serviceResult, &quot; Constructor Mock A &quot;);\n        //get just created mock for class A from controller, it will be third object from constructed collection\n        A aMock3 = mockAController.constructed().get(2);\n        //verify that check method was executed on Mock\n        verify(aMock3, times(1)).check();\n    }\n\n    @AfterEach\n    public void endTest() {\n        mockAController.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19560342,"reputation":75,"user_id":14313697,"display_name":"PoYu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6385,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":72411948,"answer_count":1,"score":4,"last_activity_date":1653694877,"creation_date":1653578736,"question_id":72394231,"body_markdown":"Now I want to use Junit 5 + Mockito 4.x version + Mockito-inline 4.x Version instead of Junit 4 + PowerMock 2.0.9\r\n\r\nBecause the Junit 5 doesn&#39;t support PowerMock also Mockito-inline can mock static, look like it doesn&#39;t need PowerMock anymore.\r\n\r\nBut when I use Mockito mock static, I want to use the same effect like Powermock.whenNew(xxx.class).withArgument(1,2,3,4).thanReturn(someThing).\r\n\r\nThis is part of my code and it can work. \r\n```\r\n    @Test\r\n    void get_report_page() {\r\n        ReportPageRequest reportPageRequest = prepare_request();\r\n        prepare_reportPage(context, 9999L, pageable);\r\n\r\n        when(reportConverter.toReportSpecification(user, reportPageRequest)).thenReturn(reportSpecification);\r\n        when(PageRequest.of(1, 100)).thenReturn(pageRequest);\r\n        when(reportRepository.findAll(reportSpecification, pageRequest)).thenReturn(reportPage);\r\n        when(reportConverter.toReportPageResponse(context)).thenReturn(reportPageResponses);\r\n        pageMockedConstruction = Mockito.mockConstruction(PageImpl.class,\r\n                withSettings().useConstructor(reportPageResponses, pageable, 9999L), (mock, context) -&gt; {\r\n                    when(mock.getTotalElements()).thenReturn(123456L);\r\n                    when(mock.getTotalPages()).thenReturn(1);\r\n                    when(mock.getContent()).thenReturn(reportPageResponses);\r\n                });\r\n\r\n        Page&lt;ReportPageResponse&gt; actual = sut.getReportPage(user, reportPageRequest);\r\n\r\n        assertThat(actual.getTotalElements()).isEqualTo(123456L);\r\n        assertThat(actual.getTotalPages()).isEqualTo(1);\r\n        assertThat(actual.getContent()).isEqualTo(reportPageResponses);\r\n    }\r\n}\r\n```\r\nAnd my question is I just can verify the mock static object behavior, but can&#39;t verify the result, this is my try\r\n```\r\npageMockedConstruction = Mockito.mockConstruction(PageImpl.class,\r\n                withSettings().useConstructor(reportPageResponses, pageable, 9999L), (mock, context) -&gt; {\r\n                    when(mock.getTotalElements()).thenReturn(123456L);\r\n                    when(mock.getTotalPages()).thenReturn(1);\r\n                    when(mock.getContent()).thenReturn(reportPageResponses);\r\n                });\r\n\r\n        // I thought here will be the same mock object\r\n        // when expected and actual will throught the Mockito.mockConstruction, but actually generate the different object\r\n        PageImpl&lt;ReportPageResponse&gt; expected = new PageImpl&lt;&gt;(this.reportPageResponses, pageable, 9999L);\r\n        Page&lt;ReportPageResponse&gt; actual = sut.getReportPage(user, reportPageRequest);\r\n\r\n        // Here will be wrong, because actual and expected has different hashCode\r\n        Assertions.assertThat(actual).isEqualTo(expected);\r\n```\r\nI research so many articles, but I can&#39;t find the answer.\r\n\r\nHave somebody encountered the same question?","title":"Junit 5 use mockConstruction().withSetting().useConstructor() instead of PowerMock.whenNew().withArguments()","body":"<p>Now I want to use Junit 5 + Mockito 4.x version + Mockito-inline 4.x Version instead of Junit 4 + PowerMock 2.0.9</p>\n<p>Because the Junit 5 doesn't support PowerMock also Mockito-inline can mock static, look like it doesn't need PowerMock anymore.</p>\n<p>But when I use Mockito mock static, I want to use the same effect like Powermock.whenNew(xxx.class).withArgument(1,2,3,4).thanReturn(someThing).</p>\n<p>This is part of my code and it can work.</p>\n<pre><code>    @Test\n    void get_report_page() {\n        ReportPageRequest reportPageRequest = prepare_request();\n        prepare_reportPage(context, 9999L, pageable);\n\n        when(reportConverter.toReportSpecification(user, reportPageRequest)).thenReturn(reportSpecification);\n        when(PageRequest.of(1, 100)).thenReturn(pageRequest);\n        when(reportRepository.findAll(reportSpecification, pageRequest)).thenReturn(reportPage);\n        when(reportConverter.toReportPageResponse(context)).thenReturn(reportPageResponses);\n        pageMockedConstruction = Mockito.mockConstruction(PageImpl.class,\n                withSettings().useConstructor(reportPageResponses, pageable, 9999L), (mock, context) -&gt; {\n                    when(mock.getTotalElements()).thenReturn(123456L);\n                    when(mock.getTotalPages()).thenReturn(1);\n                    when(mock.getContent()).thenReturn(reportPageResponses);\n                });\n\n        Page&lt;ReportPageResponse&gt; actual = sut.getReportPage(user, reportPageRequest);\n\n        assertThat(actual.getTotalElements()).isEqualTo(123456L);\n        assertThat(actual.getTotalPages()).isEqualTo(1);\n        assertThat(actual.getContent()).isEqualTo(reportPageResponses);\n    }\n}\n</code></pre>\n<p>And my question is I just can verify the mock static object behavior, but can't verify the result, this is my try</p>\n<pre><code>pageMockedConstruction = Mockito.mockConstruction(PageImpl.class,\n                withSettings().useConstructor(reportPageResponses, pageable, 9999L), (mock, context) -&gt; {\n                    when(mock.getTotalElements()).thenReturn(123456L);\n                    when(mock.getTotalPages()).thenReturn(1);\n                    when(mock.getContent()).thenReturn(reportPageResponses);\n                });\n\n        // I thought here will be the same mock object\n        // when expected and actual will throught the Mockito.mockConstruction, but actually generate the different object\n        PageImpl&lt;ReportPageResponse&gt; expected = new PageImpl&lt;&gt;(this.reportPageResponses, pageable, 9999L);\n        Page&lt;ReportPageResponse&gt; actual = sut.getReportPage(user, reportPageRequest);\n\n        // Here will be wrong, because actual and expected has different hashCode\n        Assertions.assertThat(actual).isEqualTo(expected);\n</code></pre>\n<p>I research so many articles, but I can't find the answer.</p>\n<p>Have somebody encountered the same question?</p>\n"},{"tags":["java","groovy"],"comments":[{"owner":{"account_id":688414,"reputation":82638,"user_id":542270,"accept_rate":86,"display_name":"Opal"},"score":0,"creation_date":1525769467,"post_id":50229192,"comment_id":87476339,"body_markdown":"Have just checked, it works correctly.","body":"Have just checked, it works correctly."},{"owner":{"account_id":4651818,"reputation":609,"user_id":3768497,"accept_rate":57,"display_name":"Karl"},"score":0,"creation_date":1525773883,"post_id":50229192,"comment_id":87479188,"body_markdown":"Interesting, I have just updated with the full error and some more info.","body":"Interesting, I have just updated with the full error and some more info."}],"answers":[{"tags":[],"owner":{"account_id":4806222,"reputation":71,"user_id":3881184,"display_name":"Sumit Nalawade"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1576477544,"creation_date":1576476376,"answer_id":59351290,"question_id":50229192,"body_markdown":"I was trying to it the same way as you mentioned when I came across [this](https://stackoverflow.com/questions/39619093/how-to-read-properties-file-from-jenkins-2-0-pipeline-script).\r\n\r\nWith [Pipeline Utility Steps](https://wiki.jenkins-ci.org/display/JENKINS/Pipeline+Utility+Steps+Plugin) plugin your work becomes simple:\r\n\r\n```\r\ndef properties = readProperties file: &quot;${WORKSPACE}/sonar-project.properties&quot;\r\necho properties.&quot;sonar.sources&quot;\r\n```","title":"Why am I getting Stream Closed error in Groovy?","body":"<p>I was trying to it the same way as you mentioned when I came across <a href=\"https://stackoverflow.com/questions/39619093/how-to-read-properties-file-from-jenkins-2-0-pipeline-script\">this</a>.</p>\n\n<p>With <a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Pipeline+Utility+Steps+Plugin\" rel=\"nofollow noreferrer\">Pipeline Utility Steps</a> plugin your work becomes simple:</p>\n\n<pre><code>def properties = readProperties file: \"${WORKSPACE}/sonar-project.properties\"\necho properties.\"sonar.sources\"\n</code></pre>\n"}],"owner":{"account_id":4651818,"reputation":609,"user_id":3768497,"accept_rate":57,"display_name":"Karl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1114,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1653694060,"creation_date":1525767979,"question_id":50229192,"body_markdown":"**Relevant sample:**\r\n\r\n    Properties properties = new Properties()\r\n    File propertiesFile = new File(&quot;${WORKSPACE}/sonar- \r\n    project.properties&quot;)\r\n    propertiesFile.withInputStream {\r\n         properties.load(it)\r\n     }\r\n     echo properties.&quot;sonar.sources&quot;\r\n\r\n**The file contains:** \r\n\r\n    sonar.sources=src\r\n    sonar.javascript.lcov.reportPath=coverage/lcov.info\r\n    sonar.exclusions=**/*.spec.js\r\n\r\n**When the code runs, it returns:**\r\n\r\n    `java.io.IOException: Stream closed\r\n    \tat java.io.BufferedInputStream.getBufIfOpen(BufferedInputStream.java:170)\r\n    \tat java.io.BufferedInputStream.read(BufferedInputStream.java:336)\r\n    \tat java.io.FilterInputStream.read(FilterInputStream.java:107)\r\n    \tat java.util.Properties$LineReader.readLine(Properties.java:435)\r\n    \tat java.util.Properties.load0(Properties.java:353)\r\n    \tat java.util.Properties.load(Properties.java:341)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93)\r\n    \tat groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325)\r\n    \tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1218)\r\n    \tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1027)\r\n    \tat org.codehaus.groovy.runtime.callsite.PojoMetaClassSite.call(PojoMetaClassSite.java:47)\r\n    \tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)\r\n    \tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113)\r\n    \tat com.cloudbees.groovy.cps.sandbox.DefaultInvoker.methodCall(DefaultInvoker.java:18)\r\n    \tat sonar.checkForSonarPropertiesFile(/var/jenkins_home/jobs/sc-hum-daemon-logs/builds/134/libs/pipelines/src/sonar.groovy:32)\r\n    \tat sonar.checkForSonarPropertiesFile(/var/jenkins_home/jobs/sc-hum-daemon-logs/builds/134/libs/pipelines/src/sonar.groovy:31)\r\n    \tat sonar.createSonarConfigObject(/var/jenkins_home/jobs/sc-hum-daemon-logs/builds/134/libs/pipelines/src/sonar.groovy:25)\r\n    \tat Script1.run(Script1.groovy:52)\r\n    \tat org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.delegateAndExecute(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:167)\r\n    \tat org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.executeSingleStage(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:427)\r\n    \tat org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.catchRequiredContextForNode(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:183)\r\n    \tat org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.catchRequiredContextForNode(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:181)\r\n    \tat org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.executeSingleStage(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:426)\r\n    \tat org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.call(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:101)\r\n    \tat org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.toolsBlock(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:326)\r\n    \tat org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.toolsBlock(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:325)\r\n    \tat org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.call(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:99)\r\n    \tat org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.withEnvBlock(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:225)\r\n    \tat org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.withEnvBlock(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:224)\r\n    \tat org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.call(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:98)\r\n    \tat org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.withCredentialsBlock(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:262)\r\n    \tat org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.withCredentialsBlock(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:261)\r\n    \tat org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.call(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:97)\r\n    \tat org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.inDeclarativeAgent(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:358)\r\n    \tat org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.inDeclarativeAgent(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:357)\r\n    \tat org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.call(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:95)\r\n    \tat ___cps.transform___(Native Method)\r\n    \tat com.cloudbees.groovy.cps.impl.ContinuationGroup.methodCall(ContinuationGroup.java:57)\r\n    \tat com.cloudbees.groovy.cps.impl.FunctionCallBlock$ContinuationImpl.dispatchOrArg(FunctionCallBlock.java:109)\r\n    \tat com.cloudbees.groovy.cps.impl.FunctionCallBlock$ContinuationImpl.fixArg(FunctionCallBlock.java:82)\r\n    \tat sun.reflect.GeneratedMethodAccessor527.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat com.cloudbees.groovy.cps.impl.ContinuationPtr$ContinuationImpl.receive(ContinuationPtr.java:72)\r\n    \tat com.cloudbees.groovy.cps.impl.LocalVariableBlock$LocalVariable.get(LocalVariableBlock.java:39)\r\n    \tat com.cloudbees.groovy.cps.LValueBlock$GetAdapter.receive(LValueBlock.java:30)\r\n    \tat com.cloudbees.groovy.cps.impl.LocalVariableBlock.evalLValue(LocalVariableBlock.java:28)\r\n    \tat com.cloudbees.groovy.cps.LValueBlock$BlockImpl.eval(LValueBlock.java:55)\r\n    \tat com.cloudbees.groovy.cps.LValueBlock.eval(LValueBlock.java:16)\r\n    \tat com.cloudbees.groovy.cps.Next.step(Next.java:83)\r\n    \tat com.cloudbees.groovy.cps.Continuable$1.call(Continuable.java:173)\r\n    \tat com.cloudbees.groovy.cps.Continuable$1.call(Continuable.java:162)\r\n    \tat org.codehaus.groovy.runtime.GroovyCategorySupport$ThreadCategoryInfo.use(GroovyCategorySupport.java:122)\r\n    \tat org.codehaus.groovy.runtime.GroovyCategorySupport.use(GroovyCategorySupport.java:261)\r\n    \tat com.cloudbees.groovy.cps.Continuable.run0(Continuable.java:162)\r\n    \tat org.jenkinsci.plugins.workflow.cps.SandboxContinuable.access$001(SandboxContinuable.java:19)\r\n    \tat org.jenkinsci.plugins.workflow.cps.SandboxContinuable$1.call(SandboxContinuable.java:35)\r\n    \tat org.jenkinsci.plugins.workflow.cps.SandboxContinuable$1.call(SandboxContinuable.java:32)\r\n    \tat org.jenkinsci.plugins.scriptsecurity.sandbox.groovy.GroovySandbox.runInSandbox(GroovySandbox.java:108)\r\n    \tat org.jenkinsci.plugins.workflow.cps.SandboxContinuable.run0(SandboxContinuable.java:32)\r\n    \tat org.jenkinsci.plugins.workflow.cps.CpsThread.runNextChunk(CpsThread.java:174)\r\n    \tat org.jenkinsci.plugins.workflow.cps.CpsThreadGroup.run(CpsThreadGroup.java:330)\r\n    \tat org.jenkinsci.plugins.workflow.cps.CpsThreadGroup.access$100(CpsThreadGroup.java:82)\r\n    \tat org.jenkinsci.plugins.workflow.cps.CpsThreadGroup$2.call(CpsThreadGroup.java:242)\r\n    \tat org.jenkinsci.plugins.workflow.cps.CpsThreadGroup$2.call(CpsThreadGroup.java:230)\r\n    \tat org.jenkinsci.plugins.workflow.cps.CpsVmExecutorService$2.call(CpsVmExecutorService.java:64)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat hudson.remoting.SingleLaneExecutorService$1.run(SingleLaneExecutorService.java:112)\r\n    \tat jenkins.util.ContextResettingExecutorService$1.run(ContextResettingExecutorService.java:28)\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    Finished: FAILURE`\r\n\r\nThis being run in a Jenkins pipeline, not sure if this would make a difference.\r\n\r\nI am trying to get the properties loaded into the properties object, but it doesn&#39;t seem to work.\r\n\r\nI have tried a number of different ways, but none of them seem to do what I want, where as I believe this should.\r\n","title":"Why am I getting Stream Closed error in Groovy?","body":"<p><strong>Relevant sample:</strong></p>\n<pre><code>Properties properties = new Properties()\nFile propertiesFile = new File(&quot;${WORKSPACE}/sonar- \nproject.properties&quot;)\npropertiesFile.withInputStream {\n     properties.load(it)\n }\n echo properties.&quot;sonar.sources&quot;\n</code></pre>\n<p><strong>The file contains:</strong></p>\n<pre><code>sonar.sources=src\nsonar.javascript.lcov.reportPath=coverage/lcov.info\nsonar.exclusions=**/*.spec.js\n</code></pre>\n<p><strong>When the code runs, it returns:</strong></p>\n<pre><code>`java.io.IOException: Stream closed\n    at java.io.BufferedInputStream.getBufIfOpen(BufferedInputStream.java:170)\n    at java.io.BufferedInputStream.read(BufferedInputStream.java:336)\n    at java.io.FilterInputStream.read(FilterInputStream.java:107)\n    at java.util.Properties$LineReader.readLine(Properties.java:435)\n    at java.util.Properties.load0(Properties.java:353)\n    at java.util.Properties.load(Properties.java:341)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93)\n    at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1218)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1027)\n    at org.codehaus.groovy.runtime.callsite.PojoMetaClassSite.call(PojoMetaClassSite.java:47)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113)\n    at com.cloudbees.groovy.cps.sandbox.DefaultInvoker.methodCall(DefaultInvoker.java:18)\n    at sonar.checkForSonarPropertiesFile(/var/jenkins_home/jobs/sc-hum-daemon-logs/builds/134/libs/pipelines/src/sonar.groovy:32)\n    at sonar.checkForSonarPropertiesFile(/var/jenkins_home/jobs/sc-hum-daemon-logs/builds/134/libs/pipelines/src/sonar.groovy:31)\n    at sonar.createSonarConfigObject(/var/jenkins_home/jobs/sc-hum-daemon-logs/builds/134/libs/pipelines/src/sonar.groovy:25)\n    at Script1.run(Script1.groovy:52)\n    at org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.delegateAndExecute(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:167)\n    at org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.executeSingleStage(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:427)\n    at org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.catchRequiredContextForNode(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:183)\n    at org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.catchRequiredContextForNode(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:181)\n    at org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.executeSingleStage(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:426)\n    at org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.call(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:101)\n    at org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.toolsBlock(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:326)\n    at org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.toolsBlock(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:325)\n    at org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.call(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:99)\n    at org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.withEnvBlock(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:225)\n    at org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.withEnvBlock(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:224)\n    at org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.call(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:98)\n    at org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.withCredentialsBlock(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:262)\n    at org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.withCredentialsBlock(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:261)\n    at org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.call(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:97)\n    at org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.inDeclarativeAgent(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:358)\n    at org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.inDeclarativeAgent(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:357)\n    at org.jenkinsci.plugins.pipeline.modeldefinition.ModelInterpreter.call(jar:file:/var/jenkins_home/plugins/pipeline-model-definition/WEB-INF/lib/pipeline-model-definition.jar!/org/jenkinsci/plugins/pipeline/modeldefinition/ModelInterpreter.groovy:95)\n    at ___cps.transform___(Native Method)\n    at com.cloudbees.groovy.cps.impl.ContinuationGroup.methodCall(ContinuationGroup.java:57)\n    at com.cloudbees.groovy.cps.impl.FunctionCallBlock$ContinuationImpl.dispatchOrArg(FunctionCallBlock.java:109)\n    at com.cloudbees.groovy.cps.impl.FunctionCallBlock$ContinuationImpl.fixArg(FunctionCallBlock.java:82)\n    at sun.reflect.GeneratedMethodAccessor527.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at com.cloudbees.groovy.cps.impl.ContinuationPtr$ContinuationImpl.receive(ContinuationPtr.java:72)\n    at com.cloudbees.groovy.cps.impl.LocalVariableBlock$LocalVariable.get(LocalVariableBlock.java:39)\n    at com.cloudbees.groovy.cps.LValueBlock$GetAdapter.receive(LValueBlock.java:30)\n    at com.cloudbees.groovy.cps.impl.LocalVariableBlock.evalLValue(LocalVariableBlock.java:28)\n    at com.cloudbees.groovy.cps.LValueBlock$BlockImpl.eval(LValueBlock.java:55)\n    at com.cloudbees.groovy.cps.LValueBlock.eval(LValueBlock.java:16)\n    at com.cloudbees.groovy.cps.Next.step(Next.java:83)\n    at com.cloudbees.groovy.cps.Continuable$1.call(Continuable.java:173)\n    at com.cloudbees.groovy.cps.Continuable$1.call(Continuable.java:162)\n    at org.codehaus.groovy.runtime.GroovyCategorySupport$ThreadCategoryInfo.use(GroovyCategorySupport.java:122)\n    at org.codehaus.groovy.runtime.GroovyCategorySupport.use(GroovyCategorySupport.java:261)\n    at com.cloudbees.groovy.cps.Continuable.run0(Continuable.java:162)\n    at org.jenkinsci.plugins.workflow.cps.SandboxContinuable.access$001(SandboxContinuable.java:19)\n    at org.jenkinsci.plugins.workflow.cps.SandboxContinuable$1.call(SandboxContinuable.java:35)\n    at org.jenkinsci.plugins.workflow.cps.SandboxContinuable$1.call(SandboxContinuable.java:32)\n    at org.jenkinsci.plugins.scriptsecurity.sandbox.groovy.GroovySandbox.runInSandbox(GroovySandbox.java:108)\n    at org.jenkinsci.plugins.workflow.cps.SandboxContinuable.run0(SandboxContinuable.java:32)\n    at org.jenkinsci.plugins.workflow.cps.CpsThread.runNextChunk(CpsThread.java:174)\n    at org.jenkinsci.plugins.workflow.cps.CpsThreadGroup.run(CpsThreadGroup.java:330)\n    at org.jenkinsci.plugins.workflow.cps.CpsThreadGroup.access$100(CpsThreadGroup.java:82)\n    at org.jenkinsci.plugins.workflow.cps.CpsThreadGroup$2.call(CpsThreadGroup.java:242)\n    at org.jenkinsci.plugins.workflow.cps.CpsThreadGroup$2.call(CpsThreadGroup.java:230)\n    at org.jenkinsci.plugins.workflow.cps.CpsVmExecutorService$2.call(CpsVmExecutorService.java:64)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at hudson.remoting.SingleLaneExecutorService$1.run(SingleLaneExecutorService.java:112)\n    at jenkins.util.ContextResettingExecutorService$1.run(ContextResettingExecutorService.java:28)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nFinished: FAILURE`\n</code></pre>\n<p>This being run in a Jenkins pipeline, not sure if this would make a difference.</p>\n<p>I am trying to get the properties loaded into the properties object, but it doesn't seem to work.</p>\n<p>I have tried a number of different ways, but none of them seem to do what I want, where as I believe this should.</p>\n"},{"tags":["java","static","constructor"],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1296123121,"creation_date":1296123121,"answer_id":4815023,"question_id":4815014,"body_markdown":"because of this `  String.split(&quot;\\nNEW&quot;);` `split` isn&#39;t static method\r\n\r\nyou probably need \r\n\r\n    public ArchivesManager(String identifier) {\r\n        String[] components = identifier.split(&quot;\\nNEW&quot;);//NOTE: components are local to const. this doesn&#39;t make sense\r\n    }","title":"Java - are constructors static?","body":"<p>because of this <code>String.split(\"\\nNEW\");</code> <code>split</code> isn't static method</p>\n\n<p>you probably need </p>\n\n<pre><code>public ArchivesManager(String identifier) {\n    String[] components = identifier.split(\"\\nNEW\");//NOTE: components are local to const. this doesn't make sense\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":237499,"reputation":22454,"user_id":505722,"accept_rate":86,"display_name":"Jim"},"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1296123124,"creation_date":1296123124,"answer_id":4815024,"question_id":4815014,"body_markdown":"It&#39;s because split should be called on a String object. I.e.\r\n\r\n    String foo = &quot;Hello, world&quot;;\r\n    String[] arr = foo.split(&quot;,&quot;);","title":"Java - are constructors static?","body":"<p>It's because split should be called on a String object. I.e.</p>\n\n<pre><code>String foo = \"Hello, world\";\nString[] arr = foo.split(\",\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1296123235,"creation_date":1296123235,"answer_id":4815050,"question_id":4815014,"body_markdown":"&gt; I know that error message, but why is the constructor static?!\r\n\r\nThe constructor context is not static, but you explicitly invoked the `split` method in a static context when you qualified it with the classname; i.e. `String.split(...)`.\r\n\r\nYou probably meant to write this:\r\n\r\n    String[] components = identifier.split(&quot;\\nNEW&quot;);\r\n\r\nwhich invokes the method in the (non-static) context of the `String` object passed as `identifier`; i.e. it says *which string should be split*.\r\n","title":"Java - are constructors static?","body":"<blockquote>\n  <p>I know that error message, but why is the constructor static?!</p>\n</blockquote>\n\n<p>The constructor context is not static, but you explicitly invoked the <code>split</code> method in a static context when you qualified it with the classname; i.e. <code>String.split(...)</code>.</p>\n\n<p>You probably meant to write this:</p>\n\n<pre><code>String[] components = identifier.split(\"\\nNEW\");\n</code></pre>\n\n<p>which invokes the method in the (non-static) context of the <code>String</code> object passed as <code>identifier</code>; i.e. it says <em>which string should be split</em>.</p>\n"},{"tags":[],"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1296123262,"creation_date":1296123262,"answer_id":4815058,"question_id":4815014,"body_markdown":"Instead of `String.split(&quot;\\nNEW&quot;);` you need to call `identifier.split(&quot;\\nNEW&quot;);`. You want to split the identifier object (which is of type string). Essentially what you&#39;ve said there is &quot;split the string class&quot;, which doesn&#39;t make sense and hence the compiler complains.","title":"Java - are constructors static?","body":"<p>Instead of <code>String.split(\"\\nNEW\");</code> you need to call <code>identifier.split(\"\\nNEW\");</code>. You want to split the identifier object (which is of type string). Essentially what you've said there is \"split the string class\", which doesn't make sense and hence the compiler complains.</p>\n"},{"tags":[],"owner":{"account_id":198620,"reputation":10364,"user_id":443387,"accept_rate":57,"display_name":"N-JOY"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653693658,"creation_date":1296123911,"answer_id":4815149,"question_id":4815014,"body_markdown":"This error does not mean that your constructor is static. It means Split is not static method, you have to call this method from its object.","title":"Java - are constructors static?","body":"<p>This error does not mean that your constructor is static. It means Split is not static method, you have to call this method from its object.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1296125421,"creation_date":1296125421,"answer_id":4815366,"question_id":4815014,"body_markdown":"To answer the question in the title:\r\n\r\n&quot;Constructors are not members&quot; [JLS index] so static isn&#39;t really an appropriate concept. Constructors are not members because they are not inherited (I wish static methods weren&#39;t inherited either). From a class file point of view, they are special instance methods that return `void`. Bytecode calling the constructor first allocates the memory, duplicates the reference to that memory and then calls the constructor on one of those references. (If targeting 1.4 or later, for an inner class assignment of &quot;outer this&quot; and enclosing `final` fields occurs before calling the constructor.)","title":"Java - are constructors static?","body":"<p>To answer the question in the title:</p>\n\n<p>\"Constructors are not members\" [JLS index] so static isn't really an appropriate concept. Constructors are not members because they are not inherited (I wish static methods weren't inherited either). From a class file point of view, they are special instance methods that return <code>void</code>. Bytecode calling the constructor first allocates the memory, duplicates the reference to that memory and then calls the constructor on one of those references. (If targeting 1.4 or later, for an inner class assignment of \"outer this\" and enclosing <code>final</code> fields occurs before calling the constructor.)</p>\n"},{"tags":[],"owner":{"account_id":2738986,"reputation":1,"user_id":2360943,"display_name":"Heather"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1373255090,"creation_date":1373255090,"answer_id":17518888,"question_id":4815014,"body_markdown":"In fact, I don&#39;t know why the constructor is static by default. The book &quot;Thinking in Java&quot; says that, &quot;Even though it doesn&#39;t explicitly use the static keyword, the constructor is actually a static method.&quot;","title":"Java - are constructors static?","body":"<p>In fact, I don't know why the constructor is static by default. The book \"Thinking in Java\" says that, \"Even though it doesn't explicitly use the static keyword, the constructor is actually a static method.\"</p>\n"}],"owner":{"account_id":106021,"reputation":9623,"user_id":282635,"accept_rate":87,"display_name":"ryyst"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2691,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":4815024,"answer_count":7,"score":3,"last_activity_date":1653693658,"creation_date":1296123024,"question_id":4815014,"body_markdown":"I just wrote a constructor like this:\r\n\r\n    public ArchivesManager(String identifier) {\r\n    \tString[] components = String.split(&quot;\\nNEW&quot;);\r\n    }\r\n\r\nBut there&#39;s an error message: `non-static method split(java.lang.String) cannot be referenced from a static context`. I know that error message, but why is the constructor static?!","title":"Java - are constructors static?","body":"<p>I just wrote a constructor like this:</p>\n\n<pre><code>public ArchivesManager(String identifier) {\n    String[] components = String.split(\"\\nNEW\");\n}\n</code></pre>\n\n<p>But there's an error message: <code>non-static method split(java.lang.String) cannot be referenced from a static context</code>. I know that error message, but why is the constructor static?!</p>\n"},{"tags":["java","sql","arrays","database","list"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1653684151,"post_id":72410830,"comment_id":127919209,"body_markdown":"I don&#39;t see any casting. But if you&#39;re trying to convert `Object[]` to string you&#39;re going to need `Arrays.toString()` at minimum.","body":"I don&#39;t see any casting. But if you&#39;re trying to convert <code>Object[]</code> to string you&#39;re going to need <code>Arrays.toString()</code> at minimum."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1653687072,"post_id":72410830,"comment_id":127919898,"body_markdown":"Does `Query#getResultSet` really return a list *of arrays* of objects, or did you mean it returns a list of objects?","body":"Does <code>Query#getResultSet</code> really return a list <i>of arrays</i> of objects, or did you mean it returns a list of objects?"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1653695366,"post_id":72410830,"comment_id":127921284,"body_markdown":"The return statement `return array[index]` always throws an `ArrayIndexOutOfBoundsException`  because `index` is always one more than the size of `array`.","body":"The return statement <code>return array[index]</code> always throws an <code>ArrayIndexOutOfBoundsException</code>  because <code>index</code> is always one more than the size of <code>array</code>."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653692823,"creation_date":1653687354,"answer_id":72411297,"question_id":72410830,"body_markdown":"# tl;dr\r\n\r\n    String.join( &quot; | &quot; , strings )\r\n\r\nOr, using streams:\r\n\r\n```java\r\nList\r\n        .of( LocalDate.now() , &quot;Bob&quot; , new BigDecimal( &quot;123.45&quot; ) )\r\n        .stream()\r\n        .map( Object :: toString )\r\n        .collect( Collectors.joining( &quot; | &quot; ) );\r\n```\r\n\r\n&gt;2022-05-27 | Bob | 123.45\r\n\r\n# Your code works\r\n\r\nBased on the rest of your code, this:\r\n\r\n    List&lt;Object[]&gt; d = q.getResultList();\r\n\r\n… must be mistaken. Apparently `Query#getResultSet` returns a `List` of `Object` objects not really a `List` of arrays of `Object` objects as your code above declares. \r\n\r\nLet&#39;s assume you meant:\r\n\r\n    List&lt; Object &gt; d = q.getResultList() ;\r\n\r\nYour code actually works. I will substitute an `List` of `Object` objects.\r\n\r\n```java\r\nList &lt; Object &gt; d = List.of( LocalDate.now() , &quot;Bob&quot; , new BigDecimal( &quot;123.45&quot; ) );\r\n```\r\n\r\nAnd run your code.\r\n\r\n```java\r\nString[] array = new String[ d.size() ];\r\nint index = 0;\r\nfor ( Object value : d )\r\n{\r\n    array[ index ] = String.valueOf( value );\r\n    index++; //keeps iterating until loop is done\r\n}\r\n```\r\n\r\nDump to console.\r\n\r\n```java\r\nSystem.out.println( Arrays.toString( array ) );\r\n```\r\n\r\nWe get this result.\r\n\r\n&gt;[2022-05-27, Bob, 123.45]\r\n\r\nYou asked:\r\n\r\n&gt; Is my casting logic wrong? \r\n\r\nThere is no [casting][1] in your code.\r\n\r\nYou said:\r\n\r\n&gt; but when I go to see if any numbers are returned from the db via the webpage on localhost, I get a generic template error which usually means nothing returned.\r\n\r\nThis kind of confusion means you have stuck together too much code in one place. Separate logical chunks into separate methods. Then use unit testing to verify expected behavior.\r\n\r\nIn your current situation, the generating of text from a `List` of `Object` objects should be pulled out into its own method. Name that method something like `joinObjectsIntoAString`. Pass the `List&lt; Object &gt;` as an argument to that method. I&#39;ll leave that as an exercise for the reader.\r\n\r\n# Alternate approach\r\n\r\nYou asked:\r\n\r\n&gt; Or is there another way take a list of objects, cast it to a string, then return the string back to the method?\r\n\r\nYes, there are alternatives. \r\n\r\nI would avoid dealing with an index.\r\n\r\nWe can get a textual representation of each object by looping each element, and calling its `Object#toString` method, \r\n\r\n```java\r\nList &lt; String &gt; strings = new ArrayList &lt;&gt;( d.size() );\r\nfor ( Object o : d )\r\n{\r\n    strings.add( o.toString() );\r\n}\r\n```\r\n\r\nWe can combine those produced `String` objects with a call to the `String.join` static method. Pass an argument for your desired delimiter. \r\n\r\n    String result = String.join( &quot; | &quot; , strings );\r\n\r\n\r\n&gt;result = 2022-05-27 | Bob | 123.45\r\n\r\n## Streams\r\n\r\nWe can make that code more concise by using streams.\r\n\r\n```java\r\nList &lt; Object &gt; d = List.of( LocalDate.now() , &quot;Bob&quot; , new BigDecimal( &quot;123.45&quot; ) );\r\nList &lt; String &gt; strings = d.stream().map( object -&gt; object.toString() ).toList();\r\nString result = strings.stream().collect( Collectors.joining( &quot; | &quot; ) );\r\n```\r\n\r\nWe can even turn that into a one-liner. \r\n\r\n```java\r\nString result =\r\n        List\r\n                .of( LocalDate.now() , &quot;Bob&quot; , new BigDecimal( &quot;123.45&quot; ) )\r\n                .stream()\r\n                .map( object -&gt; object.toString() )\r\n                .collect( Collectors.joining( &quot; | &quot; ) );\r\n```\r\n\r\nAnd even shorter by using a method reference, `Object :: toString`. \r\n\r\n```java\r\nString result =\r\n        List\r\n                .of( LocalDate.now() , &quot;Bob&quot; , new BigDecimal( &quot;123.45&quot; ) )\r\n                .stream()\r\n                .map( Object :: toString )\r\n                .collect( Collectors.joining( &quot; | &quot; ) );\r\n```\r\n\r\nSee that [code run live at Ideone.com][2].\r\n\r\n&gt;2022-05-27 | Bob | 123.45\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Type_conversion\r\n  [2]: https://ideone.com/CID126","title":"how to take a list of objects, cast it to a string, then return the string back to the method","body":"<h1>tl;dr</h1>\n<pre><code>String.join( &quot; | &quot; , strings )\n</code></pre>\n<p>Or, using streams:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List\n        .of( LocalDate.now() , &quot;Bob&quot; , new BigDecimal( &quot;123.45&quot; ) )\n        .stream()\n        .map( Object :: toString )\n        .collect( Collectors.joining( &quot; | &quot; ) );\n</code></pre>\n<blockquote>\n<p>2022-05-27 | Bob | 123.45</p>\n</blockquote>\n<h1>Your code works</h1>\n<p>Based on the rest of your code, this:</p>\n<pre><code>List&lt;Object[]&gt; d = q.getResultList();\n</code></pre>\n<p>… must be mistaken. Apparently <code>Query#getResultSet</code> returns a <code>List</code> of <code>Object</code> objects not really a <code>List</code> of arrays of <code>Object</code> objects as your code above declares.</p>\n<p>Let's assume you meant:</p>\n<pre><code>List&lt; Object &gt; d = q.getResultList() ;\n</code></pre>\n<p>Your code actually works. I will substitute an <code>List</code> of <code>Object</code> objects.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; Object &gt; d = List.of( LocalDate.now() , &quot;Bob&quot; , new BigDecimal( &quot;123.45&quot; ) );\n</code></pre>\n<p>And run your code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] array = new String[ d.size() ];\nint index = 0;\nfor ( Object value : d )\n{\n    array[ index ] = String.valueOf( value );\n    index++; //keeps iterating until loop is done\n}\n</code></pre>\n<p>Dump to console.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println( Arrays.toString( array ) );\n</code></pre>\n<p>We get this result.</p>\n<blockquote>\n<p>[2022-05-27, Bob, 123.45]</p>\n</blockquote>\n<p>You asked:</p>\n<blockquote>\n<p>Is my casting logic wrong?</p>\n</blockquote>\n<p>There is no <a href=\"https://en.wikipedia.org/wiki/Type_conversion\" rel=\"nofollow noreferrer\">casting</a> in your code.</p>\n<p>You said:</p>\n<blockquote>\n<p>but when I go to see if any numbers are returned from the db via the webpage on localhost, I get a generic template error which usually means nothing returned.</p>\n</blockquote>\n<p>This kind of confusion means you have stuck together too much code in one place. Separate logical chunks into separate methods. Then use unit testing to verify expected behavior.</p>\n<p>In your current situation, the generating of text from a <code>List</code> of <code>Object</code> objects should be pulled out into its own method. Name that method something like <code>joinObjectsIntoAString</code>. Pass the <code>List&lt; Object &gt;</code> as an argument to that method. I'll leave that as an exercise for the reader.</p>\n<h1>Alternate approach</h1>\n<p>You asked:</p>\n<blockquote>\n<p>Or is there another way take a list of objects, cast it to a string, then return the string back to the method?</p>\n</blockquote>\n<p>Yes, there are alternatives.</p>\n<p>I would avoid dealing with an index.</p>\n<p>We can get a textual representation of each object by looping each element, and calling its <code>Object#toString</code> method,</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; String &gt; strings = new ArrayList &lt;&gt;( d.size() );\nfor ( Object o : d )\n{\n    strings.add( o.toString() );\n}\n</code></pre>\n<p>We can combine those produced <code>String</code> objects with a call to the <code>String.join</code> static method. Pass an argument for your desired delimiter.</p>\n<pre><code>String result = String.join( &quot; | &quot; , strings );\n</code></pre>\n<blockquote>\n<p>result = 2022-05-27 | Bob | 123.45</p>\n</blockquote>\n<h2>Streams</h2>\n<p>We can make that code more concise by using streams.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; Object &gt; d = List.of( LocalDate.now() , &quot;Bob&quot; , new BigDecimal( &quot;123.45&quot; ) );\nList &lt; String &gt; strings = d.stream().map( object -&gt; object.toString() ).toList();\nString result = strings.stream().collect( Collectors.joining( &quot; | &quot; ) );\n</code></pre>\n<p>We can even turn that into a one-liner.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String result =\n        List\n                .of( LocalDate.now() , &quot;Bob&quot; , new BigDecimal( &quot;123.45&quot; ) )\n                .stream()\n                .map( object -&gt; object.toString() )\n                .collect( Collectors.joining( &quot; | &quot; ) );\n</code></pre>\n<p>And even shorter by using a method reference, <code>Object :: toString</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String result =\n        List\n                .of( LocalDate.now() , &quot;Bob&quot; , new BigDecimal( &quot;123.45&quot; ) )\n                .stream()\n                .map( Object :: toString )\n                .collect( Collectors.joining( &quot; | &quot; ) );\n</code></pre>\n<p>See that <a href=\"https://ideone.com/CID126\" rel=\"nofollow noreferrer\">code run live at Ideone.com</a>.</p>\n<blockquote>\n<p>2022-05-27 | Bob | 123.45</p>\n</blockquote>\n"}],"owner":{"account_id":25408582,"reputation":1,"user_id":19216846,"display_name":"Johny Leo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":569,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653692823,"creation_date":1653683793,"question_id":72410830,"body_markdown":"I currently have an application thats trying to get item id&#39;s from a database. It connects to a db, runs a select query alongside a provided &quot;vin&quot; number, obtains one column of information that contains item id numbers, takes the results and puts it into a list of objects. Now I need to find a way to take a list of objects, cast it to a string, then return the string back to the method. \r\n\r\nMy code: \r\n\r\n```java\r\npublic String getItemId(String vin) {// method that accepts string parameter called vin\r\n\tQuery q = entityManager.createNativeQuery(env.getProperty(&quot;item-id&quot;));  //query q created\r\n\tq.setParameter(&quot;vin&quot;, vin); //set parameters\r\n\tList&lt;Object[]&gt; d = q.getResultList(); //takes results and puts into list of objects//\r\n\r\n\tString[] array = new String[d.size()]; //create array of strings, size determined by number of elements from d\r\n\tint index = 0;\r\n\tfor (Object value : d) { //goes through each element in d which contains list of objects\r\n\t\tarray[index] = String.valueOf(value); //adds to index, will accept values that arent just strings,\r\n\t\tindex++; //keeps iterating until loop is done\r\n\t}\r\n\treturn array[index];\r\n}\r\n```\r\nI don&#39;t get any errors when I run the code, but when I go to see if any numbers are returned from the db via the webpage on localhost, I get a generic template error which usually means nothing returned.\r\n\r\nIs my casting logic wrong? Or is there another way take a list of objects, cast it to a string, then return the string back to the method?","title":"how to take a list of objects, cast it to a string, then return the string back to the method","body":"<p>I currently have an application thats trying to get item id's from a database. It connects to a db, runs a select query alongside a provided &quot;vin&quot; number, obtains one column of information that contains item id numbers, takes the results and puts it into a list of objects. Now I need to find a way to take a list of objects, cast it to a string, then return the string back to the method.</p>\n<p>My code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String getItemId(String vin) {// method that accepts string parameter called vin\n    Query q = entityManager.createNativeQuery(env.getProperty(&quot;item-id&quot;));  //query q created\n    q.setParameter(&quot;vin&quot;, vin); //set parameters\n    List&lt;Object[]&gt; d = q.getResultList(); //takes results and puts into list of objects//\n\n    String[] array = new String[d.size()]; //create array of strings, size determined by number of elements from d\n    int index = 0;\n    for (Object value : d) { //goes through each element in d which contains list of objects\n        array[index] = String.valueOf(value); //adds to index, will accept values that arent just strings,\n        index++; //keeps iterating until loop is done\n    }\n    return array[index];\n}\n</code></pre>\n<p>I don't get any errors when I run the code, but when I go to see if any numbers are returned from the db via the webpage on localhost, I get a generic template error which usually means nothing returned.</p>\n<p>Is my casting logic wrong? Or is there another way take a list of objects, cast it to a string, then return the string back to the method?</p>\n"},{"tags":["java","postgresql","database-connection","connection-pooling","pg-jdbc"],"comments":[{"owner":{"account_id":1593549,"reputation":732,"user_id":1476330,"accept_rate":90,"display_name":"Luke A. Leber"},"score":0,"creation_date":1466598218,"post_id":37916489,"comment_id":63381532,"body_markdown":"Inside your listener, the variable &#39;jsonPayload&#39; does not exist.  Also, are you using the same connection to write your updates?  It&#39;s feasible that your connection with the listener attached goes out of scope and is destroyed by the GC.","body":"Inside your listener, the variable &#39;jsonPayload&#39; does not exist.  Also, are you using the same connection to write your updates?  It&#39;s feasible that your connection with the listener attached goes out of scope and is destroyed by the GC."},{"owner":{"account_id":1440381,"reputation":2638,"user_id":1360694,"accept_rate":49,"display_name":"Siddharth Trikha"},"score":0,"creation_date":1466660173,"post_id":37916489,"comment_id":63411146,"body_markdown":"I am not using the same connection. But I checked using `netstat` that the connections were in established state i.e the old connection was not lost. `netstat --numeric-ports|grep 5432|grep my.ip` gave two connections (one old and one new) and both in ESTABLISHED state: `tcp        0      0 192.168.5.126:5432      192.168.105.213:46802   ESTABLISHED\ntcp        0      0 192.168.5.126:5432      192.168.105.213:46805   ESTABLISHED`","body":"I am not using the same connection. But I checked using <code>netstat</code> that the connections were in established state i.e the old connection was not lost. <code>netstat --numeric-ports|grep 5432|grep my.ip</code> gave two connections (one old and one new) and both in ESTABLISHED state: <code>tcp        0      0 192.168.5.126:5432      192.168.105.213:46802   ESTABLISHED tcp        0      0 192.168.5.126:5432      192.168.105.213:46805   ESTABLISHED</code>"},{"owner":{"account_id":1440381,"reputation":2638,"user_id":1360694,"accept_rate":49,"display_name":"Siddharth Trikha"},"score":0,"creation_date":1466670558,"post_id":37916489,"comment_id":63416820,"body_markdown":"@LukeA.Leber: Please check the edit to the question.","body":"@LukeA.Leber: Please check the edit to the question."},{"owner":{"account_id":1440381,"reputation":2638,"user_id":1360694,"accept_rate":49,"display_name":"Siddharth Trikha"},"score":0,"creation_date":1466671960,"post_id":37916489,"comment_id":63417793,"body_markdown":"@LukeA.Leber:  Since my connection is not closed, I feel my listener which I register `pgConnection.addNotificationListener(new PGNotificationListener() {})` goes out of session. Any comments?","body":"@LukeA.Leber:  Since my connection is not closed, I feel my listener which I register <code>pgConnection.addNotificationListener(new PGNotificationListener() {})</code> goes out of session. Any comments?"},{"owner":{"account_id":1593549,"reputation":732,"user_id":1476330,"accept_rate":90,"display_name":"Luke A. Leber"},"score":1,"creation_date":1466680963,"post_id":37916489,"comment_id":63424032,"body_markdown":"The notification listeners are internally maintained by that library as weak references meaning that you have to hold a hard reference externally so they won&#39;t be garbage collected.  Check out the BasicContext class: \nsynchronized (notificationListeners) {\n      notificationListeners.put(key, new WeakReference&lt;NotificationListener&gt;(listener));\n    }\nIf the GC picks up your listener, calls to &quot;get&quot; on the weak reference will return null and will not fire.","body":"The notification listeners are internally maintained by that library as weak references meaning that you have to hold a hard reference externally so they won&#39;t be garbage collected.  Check out the BasicContext class:  synchronized (notificationListeners) {       notificationListeners.put(key, new WeakReference&lt;NotificationListener&gt;(listener));     } If the GC picks up your listener, calls to &quot;get&quot; on the weak reference will return null and will not fire."}],"answers":[{"tags":[],"owner":{"account_id":1593549,"reputation":732,"user_id":1476330,"accept_rate":90,"display_name":"Luke A. Leber"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1598813522,"creation_date":1466732308,"answer_id":38004415,"question_id":37916489,"body_markdown":"The notification listeners are internally maintained by that library as weak references meaning that you have to hold a hard reference externally so they won&#39;t be garbage collected. Check out the BasicContext class lines 642 - 655: \r\n\r\n    public void addNotificationListener(String name, String channelNameFilter, NotificationListener listener) {\r\n\r\n        name = nullToEmpty(name);\r\n        channelNameFilter = channelNameFilter != null ? channelNameFilter : &quot;.*&quot;;\r\n\r\n        Pattern channelNameFilterPattern = Pattern.compile(channelNameFilter);\r\n\r\n        NotificationKey key = new NotificationKey(name, channelNameFilterPattern);\r\n\r\n        synchronized (notificationListeners) {\r\n          notificationListeners.put(key, new WeakReference&lt;NotificationListener&gt;(listener));\r\n        }\r\n\r\n    }\r\n\r\nIf the GC picks up your listener, calls to &quot;get&quot; on the weak reference will return null and will not fire as seen from lines 690 - 710\r\n\r\n      @Override\r\n      public synchronized void reportNotification(int processId, String channelName, String payload) {\r\n    \r\n        Iterator&lt;Map.Entry&lt;NotificationKey, WeakReference&lt;NotificationListener&gt;&gt;&gt; iter = notificationListeners.entrySet().iterator();\r\n        while (iter.hasNext()) {\r\n    \r\n          Map.Entry&lt;NotificationKey, WeakReference&lt;NotificationListener&gt;&gt; entry = iter.next();\r\n    \r\n          NotificationListener listener = entry.getValue().get();\r\n          if (listener == null) {\r\n    \r\n            iter.remove();\r\n          }\r\n          else if (entry.getKey().channelNameFilter.matcher(channelName).matches()) {\r\n    \r\n            listener.notification(processId, channelName, payload);\r\n          }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nTo fix this, add your notification listeners as such:\r\n\r\n    /// Do not let this reference go out of scope!\r\n        PGNotificationListener listener = new PGNotificationListener() {\r\n    \r\n        @Override\r\n        public void notification(int processId, String channelName, String payload) {\r\n            // interesting code\r\n        };\r\n    };\r\n        pgConnection.addNotificationListener(listener);\r\n\r\nQuite an odd use-case for weak references in my opinion...","title":"LISTEN/NOTIFY pgconnection goes down java?","body":"<p>The notification listeners are internally maintained by that library as weak references meaning that you have to hold a hard reference externally so they won't be garbage collected. Check out the BasicContext class lines 642 - 655:</p>\n<pre><code>public void addNotificationListener(String name, String channelNameFilter, NotificationListener listener) {\n\n    name = nullToEmpty(name);\n    channelNameFilter = channelNameFilter != null ? channelNameFilter : &quot;.*&quot;;\n\n    Pattern channelNameFilterPattern = Pattern.compile(channelNameFilter);\n\n    NotificationKey key = new NotificationKey(name, channelNameFilterPattern);\n\n    synchronized (notificationListeners) {\n      notificationListeners.put(key, new WeakReference&lt;NotificationListener&gt;(listener));\n    }\n\n}\n</code></pre>\n<p>If the GC picks up your listener, calls to &quot;get&quot; on the weak reference will return null and will not fire as seen from lines 690 - 710</p>\n<pre><code>  @Override\n  public synchronized void reportNotification(int processId, String channelName, String payload) {\n\n    Iterator&lt;Map.Entry&lt;NotificationKey, WeakReference&lt;NotificationListener&gt;&gt;&gt; iter = notificationListeners.entrySet().iterator();\n    while (iter.hasNext()) {\n\n      Map.Entry&lt;NotificationKey, WeakReference&lt;NotificationListener&gt;&gt; entry = iter.next();\n\n      NotificationListener listener = entry.getValue().get();\n      if (listener == null) {\n\n        iter.remove();\n      }\n      else if (entry.getKey().channelNameFilter.matcher(channelName).matches()) {\n\n        listener.notification(processId, channelName, payload);\n      }\n\n    }\n\n}\n</code></pre>\n<p>To fix this, add your notification listeners as such:</p>\n<pre><code>/// Do not let this reference go out of scope!\n    PGNotificationListener listener = new PGNotificationListener() {\n\n    @Override\n    public void notification(int processId, String channelName, String payload) {\n        // interesting code\n    };\n};\n    pgConnection.addNotificationListener(listener);\n</code></pre>\n<p>Quite an odd use-case for weak references in my opinion...</p>\n"}],"owner":{"account_id":1440381,"reputation":2638,"user_id":1360694,"accept_rate":49,"display_name":"Siddharth Trikha"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5333,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":38004415,"answer_count":1,"score":9,"last_activity_date":1653692806,"creation_date":1466406636,"question_id":37916489,"body_markdown":"I am using PostgreSQL DB and applying it&#39;s `LISTEN/NOTIFY` functionality. So my listener is at my AS (Application Server) and I have triggers configured on my DB such that when CRUD operations are performed on a table a `NOTIFY` request is sent on AS. \r\n\r\n**LISTENER** class in java:\r\n\r\n            @Singleton\r\n            @Startup\r\n        NotificationListenerInterface.class)\r\n            public class NotificationListener extends Thread implements NotificationListenerInterface {\r\n            \r\n            \t@Resource(mappedName=&quot;java:/RESOURCES&quot;) \r\n            \tprivate DataSource ds;\r\n            \r\n            \t@PersistenceContext(unitName = &quot;one&quot;)\r\n            \tEntityManager em;\r\n            \r\n            \tLogger logger = Logger.getLogger(NotificationListener.class);\r\n            \r\n            \tprivate Connection Conn;\r\n            \tprivate PGConnection pgConnection = null;\r\n            \tprivate NotifyRequest notifyRequest = null;\r\n            \r\n            \t@PostConstruct\r\n            \tpublic void notificationListener() throws Throwable {\r\n            \r\n            \t\tSystem.out.println(&quot;Notification****************&quot;);\r\n            \t\ttry\r\n            \t\t{\r\n            \r\n            \r\n            \t\t\tClass.forName(&quot;com.impossibl.postgres.jdbc.PGDriver&quot;);\r\n            \t\t\tString url = &quot;jdbc:pgsql://192.xx.xx.126:5432/postgres&quot;;\r\n            \r\n            \r\n            \t\t\tConn = DriverManager.getConnection(url,&quot;postgres&quot;,&quot;password&quot;);\r\n            \t\t\tthis.pgConnection = (PGConnection) Conn;\r\n            \r\n            \t\t\tSystem.out.println(&quot;PG CONNECTON: &quot;+ pgConnection);\r\n            \t\t\tStatement listenStatement = Conn.createStatement();\r\n            \t\t\tlistenStatement.execute(&quot;LISTEN notify_channel&quot;);\r\n            \t\t\tlistenStatement.close();\r\n            \r\n            \t\t\tpgConnection.addNotificationListener(new PGNotificationListener() {\r\n            \r\n            \t\t\t\t@Override\r\n            \t\t\t\tpublic void notification(int processId, String channelName, String payload){\r\n            \r\n            \t\t\t\t\tSystem.out.println(&quot;*********INSIDE NOTIFICATION*************&quot;);\r\n            \r\n            \t\t\t\t\tSystem.out.println(&quot;Payload: &quot; + jsonPayload);\r\n    \r\n    }\r\n\r\nSo as my AS is up, I have configured that at startup the listener class is called (`@Startup annotation`) and it&#39;s start listening on the channel.\r\n\r\nNow this works fine if like say for testing I edit my table in DB manually, the notification is generated and the LISTENER receives it.\r\n\r\nHowever, when I programmatically send a UPDATE request on the table, the UPADTE is performed successfully but LISTENER is not receiving anything.\r\n\r\nI feel my connection of the LISTENER goes down when I send a request (it also makes a connection to edit entities), but I am not sure. I read about permanent connections and pooled connections, but not able to decide how to pursue that.\r\n\r\nI am using pgjdbc (http://impossibl.github.io/pgjdbc-ng/) jar for async notifications as jdbc connection requires polling.  \r\n\r\n**EDIT:**\r\n\r\nWhen I try the above listener with polling by using the standard jdbc jar (not pgjdbc), I get the notifications.\r\n\r\nI do \r\n `PGNotification notif[]  =  con.getNotifications()`\r\nand I get notifications, however doing it asynchronously like below I don&#39;t get notifications.\r\n\r\n        pgConnection.addNotificationListener(new PGNotificationListener() {\r\n                \r\n             @Override\r\n             public void notification(int processId, String channelName, String payload){\r\n                \r\n       \t\t\tSystem.out.println(&quot;*********INSIDE NOTIFICATION*************&quot;);\r\n             }\r\n\r\n**SOLVED:**\r\n\r\nMy listener **was going out of scope** after the function execution was completed as my listener had the function scope. So kept it into a member variable of my startup bean class and then it worked.\r\n","title":"LISTEN/NOTIFY pgconnection goes down java?","body":"<p>I am using PostgreSQL DB and applying it's <code>LISTEN/NOTIFY</code> functionality. So my listener is at my AS (Application Server) and I have triggers configured on my DB such that when CRUD operations are performed on a table a <code>NOTIFY</code> request is sent on AS. </p>\n\n<p><strong>LISTENER</strong> class in java:</p>\n\n<pre><code>        @Singleton\n        @Startup\n    NotificationListenerInterface.class)\n        public class NotificationListener extends Thread implements NotificationListenerInterface {\n\n            @Resource(mappedName=\"java:/RESOURCES\") \n            private DataSource ds;\n\n            @PersistenceContext(unitName = \"one\")\n            EntityManager em;\n\n            Logger logger = Logger.getLogger(NotificationListener.class);\n\n            private Connection Conn;\n            private PGConnection pgConnection = null;\n            private NotifyRequest notifyRequest = null;\n\n            @PostConstruct\n            public void notificationListener() throws Throwable {\n\n                System.out.println(\"Notification****************\");\n                try\n                {\n\n\n                    Class.forName(\"com.impossibl.postgres.jdbc.PGDriver\");\n                    String url = \"jdbc:pgsql://192.xx.xx.126:5432/postgres\";\n\n\n                    Conn = DriverManager.getConnection(url,\"postgres\",\"password\");\n                    this.pgConnection = (PGConnection) Conn;\n\n                    System.out.println(\"PG CONNECTON: \"+ pgConnection);\n                    Statement listenStatement = Conn.createStatement();\n                    listenStatement.execute(\"LISTEN notify_channel\");\n                    listenStatement.close();\n\n                    pgConnection.addNotificationListener(new PGNotificationListener() {\n\n                        @Override\n                        public void notification(int processId, String channelName, String payload){\n\n                            System.out.println(\"*********INSIDE NOTIFICATION*************\");\n\n                            System.out.println(\"Payload: \" + jsonPayload);\n\n}\n</code></pre>\n\n<p>So as my AS is up, I have configured that at startup the listener class is called (<code>@Startup annotation</code>) and it's start listening on the channel.</p>\n\n<p>Now this works fine if like say for testing I edit my table in DB manually, the notification is generated and the LISTENER receives it.</p>\n\n<p>However, when I programmatically send a UPDATE request on the table, the UPADTE is performed successfully but LISTENER is not receiving anything.</p>\n\n<p>I feel my connection of the LISTENER goes down when I send a request (it also makes a connection to edit entities), but I am not sure. I read about permanent connections and pooled connections, but not able to decide how to pursue that.</p>\n\n<p>I am using pgjdbc (<a href=\"http://impossibl.github.io/pgjdbc-ng/\" rel=\"nofollow\">http://impossibl.github.io/pgjdbc-ng/</a>) jar for async notifications as jdbc connection requires polling.  </p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>When I try the above listener with polling by using the standard jdbc jar (not pgjdbc), I get the notifications.</p>\n\n<p>I do \n <code>PGNotification notif[]  =  con.getNotifications()</code>\nand I get notifications, however doing it asynchronously like below I don't get notifications.</p>\n\n<pre><code>    pgConnection.addNotificationListener(new PGNotificationListener() {\n\n         @Override\n         public void notification(int processId, String channelName, String payload){\n\n            System.out.println(\"*********INSIDE NOTIFICATION*************\");\n         }\n</code></pre>\n\n<p><strong>SOLVED:</strong></p>\n\n<p>My listener <strong>was going out of scope</strong> after the function execution was completed as my listener had the function scope. So kept it into a member variable of my startup bean class and then it worked.</p>\n"},{"tags":["java","selenium","selenium-webdriver","automation","selenium-chromedriver"],"comments":[{"owner":{"account_id":6607120,"reputation":385,"user_id":10982121,"display_name":"steven01804"},"score":2,"creation_date":1653543773,"post_id":72387116,"comment_id":127878949,"body_markdown":"What is the html of the button when it is enabled and disabled?","body":"What is the html of the button when it is enabled and disabled?"},{"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"score":0,"creation_date":1653544037,"post_id":72387116,"comment_id":127879009,"body_markdown":"Steve is correct, we would need HTML when the button does not have `display: none` also when it does have `display: none`","body":"Steve is correct, we would need HTML when the button does not have <code>display: none</code> also when it does have <code>display: none</code>"},{"owner":{"account_id":6607120,"reputation":385,"user_id":10982121,"display_name":"steven01804"},"score":0,"creation_date":1653548115,"post_id":72387116,"comment_id":127879903,"body_markdown":"You can also try `driver.findElement(By.id(&quot;myID&quot;)).getCssValue(&quot;display&quot;) != &quot;none&quot;`","body":"You can also try <code>driver.findElement(By.id(&quot;myID&quot;)).getCssValue(&quot;display&quot;) != &quot;none&quot;</code>"},{"owner":{"account_id":19546691,"reputation":3,"user_id":14303287,"display_name":"Jaderson Rocha Gomes"},"score":0,"creation_date":1653573907,"post_id":72387116,"comment_id":127888347,"body_markdown":"Btn displayed: `&lt;button data-posts-count=&quot;51&quot; class=&quot;btn btn-large btn-blue btn-blue-hover-blue-dark btn-load-more btn-load-more-posts&quot;&gt; &lt;span class=&quot;caption&quot;&gt;Load more&lt;/span&gt; &lt;span class=&quot;ajax-spinner&quot;&gt;&lt;/span&gt; &lt;/button&gt;`\nBtn not displayed: `&lt;button data-posts-count=&quot;51&quot; class=&quot;btn btn-large btn-blue btn-blue-hover-blue-dark btn-load-more btn-load-more-posts&quot; style=&quot;display: none;&quot;&gt; &lt;span class=&quot;caption&quot;&gt;Load more&lt;/span&gt; &lt;span class=&quot;ajax-spinner&quot;&gt;&lt;/span&gt; &lt;/button&gt;`","body":"Btn displayed: <code>&lt;button data-posts-count=&quot;51&quot; class=&quot;btn btn-large btn-blue btn-blue-hover-blue-dark btn-load-more btn-load-more-posts&quot;&gt; &lt;span class=&quot;caption&quot;&gt;Load more&lt;&#47;span&gt; &lt;span class=&quot;ajax-spinner&quot;&gt;&lt;&#47;span&gt; &lt;&#47;button&gt;</code> Btn not displayed: <code>&lt;button data-posts-count=&quot;51&quot; class=&quot;btn btn-large btn-blue btn-blue-hover-blue-dark btn-load-more btn-load-more-posts&quot; style=&quot;display: none;&quot;&gt; &lt;span class=&quot;caption&quot;&gt;Load more&lt;&#47;span&gt; &lt;span class=&quot;ajax-spinner&quot;&gt;&lt;&#47;span&gt; &lt;&#47;button&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":25340921,"reputation":11,"user_id":19159309,"display_name":"htom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653549412,"creation_date":1653549412,"answer_id":72388156,"question_id":72387116,"body_markdown":"You can wait for element&#39;s attribute changed, just use [ExpectedCondition class][1]\r\nfor example: \r\n\r\n        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(15));\r\n    wait.until(ExpectedConditions.attributeToBe(buttonWebElement, &quot;style&quot;, &quot;display: none;&quot;)\r\n\r\nor wait for element displayed with the attribute, for example: \r\n\r\n    wait.visibilityOf(driver.findElement(By.xpath(&quot;//button[@style=&#39;display: none;&#39;]&quot;)))\r\n\r\n  [1]: https://github.com/SeleniumHQ/selenium/blob/trunk/java/src/org/openqa/selenium/support/ui/ExpectedConditions.java","title":"Selenium - How to check if a &quot;Load More&quot; button is clickable/disabled?","body":"<p>You can wait for element's attribute changed, just use <a href=\"https://github.com/SeleniumHQ/selenium/blob/trunk/java/src/org/openqa/selenium/support/ui/ExpectedConditions.java\" rel=\"nofollow noreferrer\">ExpectedCondition class</a>\nfor example:</p>\n<pre><code>    WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(15));\nwait.until(ExpectedConditions.attributeToBe(buttonWebElement, &quot;style&quot;, &quot;display: none;&quot;)\n</code></pre>\n<p>or wait for element displayed with the attribute, for example:</p>\n<pre><code>wait.visibilityOf(driver.findElement(By.xpath(&quot;//button[@style='display: none;']&quot;)))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19546691,"reputation":3,"user_id":14303287,"display_name":"Jaderson Rocha Gomes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653692328,"creation_date":1653692328,"answer_id":72411755,"question_id":72387116,"body_markdown":"In the end, I used try/catch for the Load More button. So when it could not be more &quot;clickable&quot; it would throw an exception. \r\n\r\n&quot;isDisplayed&quot;, &quot;isEnabled&quot;, ExpectedConditions.attributeToBe as mentioned by others did not work.\r\n\r\nHere&#39;s the code:\r\n```\r\npublic void goToArticle(String title){\r\n        int count = 0;\r\n        while(true){\r\n            for(WebElement article:articlesLink){\r\n                if(article.getText().equals(title)){\r\n                    scrollIntoCenter(article);\r\n                    clickArticle(article);\r\n                    break;\r\n                } else {\r\n                    scrollIntoCenter(lastArticle());\r\n                }\r\n            }\r\n            try {\r\n                hoverAndClick(loadMoreBtn);\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;No more load button&quot;);\r\n                count++;\r\n                if (count &gt; 1){\r\n                    System.out.println(&quot;No article found&quot;);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n    }","title":"Selenium - How to check if a &quot;Load More&quot; button is clickable/disabled?","body":"<p>In the end, I used try/catch for the Load More button. So when it could not be more &quot;clickable&quot; it would throw an exception.</p>\n<p>&quot;isDisplayed&quot;, &quot;isEnabled&quot;, ExpectedConditions.attributeToBe as mentioned by others did not work.</p>\n<p>Here's the code:</p>\n<pre><code>public void goToArticle(String title){\n        int count = 0;\n        while(true){\n            for(WebElement article:articlesLink){\n                if(article.getText().equals(title)){\n                    scrollIntoCenter(article);\n                    clickArticle(article);\n                    break;\n                } else {\n                    scrollIntoCenter(lastArticle());\n                }\n            }\n            try {\n                hoverAndClick(loadMoreBtn);\n            } catch (Exception e) {\n                System.out.println(&quot;No more load button&quot;);\n                count++;\n                if (count &gt; 1){\n                    System.out.println(&quot;No article found&quot;);\n                    break;\n                }\n            }\n        }\n\n    }\n</code></pre>\n"}],"owner":{"account_id":19546691,"reputation":3,"user_id":14303287,"display_name":"Jaderson Rocha Gomes"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72411755,"answer_count":2,"score":0,"last_activity_date":1653692328,"creation_date":1653542978,"question_id":72387116,"body_markdown":"I gotta scroll down a list of articles from a Blog until I find a specific article. For that there is a &quot;Load More&quot; button which gives you more and more articles until there&#39;s no more articles to load, so the button disappears, it gets disabled (at least thats what I thought).\r\n\r\nMy idea was to have a &quot;while&quot; loop until the button gets disabled, meanwhile it would check if the requested article showed up:\r\n\r\n``` \r\npublic void scrollIntoArticle(String title){\r\n        while(loadMoreBtn.isEnabled()){\r\n            for(WebElement article : articlesList){\r\n                if(article.getText().equals(title)){\r\n                    scrollInto(article);\r\n                    hoverAndClick(article);\r\n                    break;\r\n                } else{\r\n                    scrollInto(lastArticle());\r\n                    hoverAndClick(loadMoreBtn);\r\n                }\r\n            }\r\n        }\r\n    } \r\n```\r\nHowever, it keeps getting an error: &quot;waiting for visibility of element&quot;. Trying with &quot;isDisplayed&quot; I get the same issue.\r\n\r\nSo apparently the button never gets &quot;disabled&quot;. The only thing that happens to the element is to get a new attribute on HTML: style=&quot;display: none;&quot;. For Selenium, &quot;isEnabled&quot; is always true, so the loop keeps going, &quot;waiting for visibility of element&quot;. \r\n\r\nI am stuck, cannot figure out what condition I can use to check if all the articles got loaded up without checking the &quot;Load More&quot; button. Any suggestions? Appreciate the help!","title":"Selenium - How to check if a &quot;Load More&quot; button is clickable/disabled?","body":"<p>I gotta scroll down a list of articles from a Blog until I find a specific article. For that there is a &quot;Load More&quot; button which gives you more and more articles until there's no more articles to load, so the button disappears, it gets disabled (at least thats what I thought).</p>\n<p>My idea was to have a &quot;while&quot; loop until the button gets disabled, meanwhile it would check if the requested article showed up:</p>\n<pre><code>public void scrollIntoArticle(String title){\n        while(loadMoreBtn.isEnabled()){\n            for(WebElement article : articlesList){\n                if(article.getText().equals(title)){\n                    scrollInto(article);\n                    hoverAndClick(article);\n                    break;\n                } else{\n                    scrollInto(lastArticle());\n                    hoverAndClick(loadMoreBtn);\n                }\n            }\n        }\n    } \n</code></pre>\n<p>However, it keeps getting an error: &quot;waiting for visibility of element&quot;. Trying with &quot;isDisplayed&quot; I get the same issue.</p>\n<p>So apparently the button never gets &quot;disabled&quot;. The only thing that happens to the element is to get a new attribute on HTML: style=&quot;display: none;&quot;. For Selenium, &quot;isEnabled&quot; is always true, so the loop keeps going, &quot;waiting for visibility of element&quot;.</p>\n<p>I am stuck, cannot figure out what condition I can use to check if all the articles got loaded up without checking the &quot;Load More&quot; button. Any suggestions? Appreciate the help!</p>\n"},{"tags":["java","spring","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":19560342,"reputation":75,"user_id":14313697,"display_name":"PoYu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653618644,"creation_date":1653618644,"answer_id":72399858,"question_id":72389685,"body_markdown":"I think I have the same question as you, hope someone can solve our problem.\r\n\r\nIn my case, I also want to got a return object like PowerMock.whenNew().withArguments().thenReturn(someThing), I try a lot of times but it failed. \r\nI think mockConstruction just only can mock their behavior, can&#39;t verify their result like powerMock, and I couldn&#39;t find any articles or answers.\r\nbelow is my post link : \r\n\r\nhttps://stackoverflow.com/questions/72394231/junit-5-use-mockconstruction-withsetting-useconstructor-instead-of-powermo","title":"Mockito.mockConstruction does not return the mocked object","body":"<p>I think I have the same question as you, hope someone can solve our problem.</p>\n<p>In my case, I also want to got a return object like PowerMock.whenNew().withArguments().thenReturn(someThing), I try a lot of times but it failed.\nI think mockConstruction just only can mock their behavior, can't verify their result like powerMock, and I couldn't find any articles or answers.\nbelow is my post link :</p>\n<p><a href=\"https://stackoverflow.com/questions/72394231/junit-5-use-mockconstruction-withsetting-useconstructor-instead-of-powermo\">Junit 5 use mockConstruction().withSetting().useConstructor() instead of PowerMock.whenNew().withArguments()</a></p>\n"},{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1653692133,"creation_date":1653691729,"answer_id":72411719,"question_id":72389685,"body_markdown":"You can access mocks that were created during the instantiation of your objects via [MockedConstruction&lt;T&gt;.constructed()][1] method. It represents a collection of mocks that are created after each constructor&#39;s execution. If your object will be instantiated 3 times `MockedConstruction&lt;T&gt;.constructed()` will return 3 different mock objects for each instantiation.\r\n&lt;br&gt;According to documentation `MockedConstruction&lt;T&gt;`\r\n&gt; Represents a mock of any object construction of the represented type.\r\n&gt; Within the scope of the mocked construction, the invocation of any\r\n&gt; interceptor will generate a mock which will be prepared as specified\r\n&gt; when generating this scope. The mock can also be received via this\r\n&gt; instance.\r\n\r\nSimple implementation with comments below shows how to get mocks from `MockedConstruction` and verify them:\r\n```java\r\npublic class A {\r\n    private final String test;\r\n\r\n    public A(String test) {\r\n        this.test = test;\r\n    }\r\n\r\n    public String check() {\r\n        return &quot;checked &quot; + this.test;\r\n    }\r\n}\r\n\r\npublic class TestService {\r\n    public String purchaseProduct(String param) {\r\n        A a = new A(param);\r\n        return a.check();\r\n    }\r\n}\r\n\r\nimport org.junit.jupiter.api.AfterEach;\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.mockito.MockedConstruction;\r\nimport org.mockito.Mockito;\r\n\r\nimport static org.mockito.Mockito.*;\r\n\r\npublic class ConstructorMockTest {\r\n    private MockedConstruction&lt;A&gt; mockAController;\r\n\r\n    @BeforeEach\r\n    public void beginTest() {\r\n        //create mock controller for all constructors of the given class\r\n        mockAController = Mockito.mockConstruction(A.class,\r\n                (mock, context) -&gt; {\r\n                    //implement initializer for mock. Set return value for object A mock methods\r\n                    when(mock.check()).thenReturn(&quot; Constructor Mock A &quot;);\r\n                });\r\n    }\r\n\r\n    @Test\r\n    public void test() {\r\n        //each instantiation of class A will return new mock, which initialized by initializer from beginTest method\r\n        //new mock will be stored to mockAController.constructed() collection of mocks\r\n        A aObject = new A(&quot;test&quot;);\r\n        //ensure that method check() returns mocked value\r\n        Assertions.assertEquals(aObject.check(), &quot; Constructor Mock A &quot;);\r\n        //get just created mock for class A from controller. It will be first element of mockAController.constructed() collection\r\n        A aMock = mockAController.constructed().get(0);\r\n        //ensure that we get correct mock from mock controller, that it is equal from new created object\r\n        Assertions.assertEquals(aMock, aObject);\r\n        //verify that check method was executed on Mock\r\n        verify(aMock, times(1)).check();\r\n\r\n        //create new A object, new mock created and stored to mockAController.constructed()\r\n        A aObject2 = new A(&quot;test&quot;);\r\n        //ensure that method check() returns mocked value\r\n        Assertions.assertEquals(aObject2.check(), &quot; Constructor Mock A &quot;);\r\n        //get just created mock for class A from controller, it will be second object from constructed collection\r\n        A aMock2 = mockAController.constructed().get(1);\r\n        //ensure that we get correct mock from mock controller, that it is equal from just created A object\r\n        Assertions.assertEquals(aObject2, aMock2);\r\n        //verify that check method was executed on Mock\r\n        verify(aMock2, times(1)).check();\r\n\r\n        //Example of testing service which creates A object\r\n        TestService service = new TestService();\r\n        String serviceResult = service.purchaseProduct(&quot;test&quot;);\r\n        //ensure that service returned value  from A mock\r\n        Assertions.assertEquals(serviceResult, &quot; Constructor Mock A &quot;);\r\n        //get just created mock for class A from controller, it will be third object from constructed collection\r\n        A aMock3 = mockAController.constructed().get(2);\r\n        //verify that check method was executed on Mock\r\n        verify(aMock3, times(1)).check();\r\n    }\r\n\r\n    @AfterEach\r\n    public void endTest() {\r\n        mockAController.close();\r\n    }\r\n}\r\n```\r\nLet&#39;s rewrite your test. I do not have the full code, but I will try to create an example with comments:\r\n```java\r\n    @Test\r\n    void shouldThrowException() throws Exception {\r\n        //given\r\n        UrlLinkDto urlLinkDto =\r\n                UrlPartLinkDto.builder().callId(&quot;333&quot;).videoId(&quot;5555544&quot;).build();\r\n        ArgumentCaptor&lt;UrlPartLinkDto&gt; argumentCaptor = ArgumentCaptor.forClass(UrlPartLinkDto.class);\r\n\r\n        try (MockedConstruction&lt;ObjectMapper&gt; objectMapperMockedConstruction = mockConstruction(ObjectMapper.class,\r\n                (objectMapper, context) -&gt; {\r\n                     //initialize ObjectMapper mock to throw exception when argumentCaptor will come to writeValueAsString method\r\n                    doThrow(JsonProcessingException.class).when(objectMapper).writeValueAsString(argumentCaptor.capture());\r\n                })) {\r\n\r\n            //execute service for testing and catch exception\r\n            Throwable throwable = catchThrowable(() -&gt; partUnlinkService.unlink(urlLinkDto, false));\r\n\r\n            //verify that inner service was executed\r\n            verify(partLogCheckService, times(1)).checkForExistingVideo(urlLinkDto.getVideoId());\r\n\r\n            //verify that ObjectMapper was instantiated\r\n            Assertions.assertEquals(1, objectMapperMockedConstruction.constructed().size());\r\n            //get mock of ObjectMapper which was instantiated during service execution\r\n            ObjectMapper objectMapper = objectMapperMockedConstruction.constructed().get(0);\r\n            //verify that writeValueAsString was executed\r\n            verify(objectMapper, times(1)).writeValueAsString(argumentCaptor.capture());\r\n\r\n            //check that exception is correct\r\n            assertThat(throwable).isInstanceOf(JsonProcessingException.class);\r\n        }\r\n    }\r\n```\r\n\r\n  [1]: https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/MockedConstruction.html","title":"Mockito.mockConstruction does not return the mocked object","body":"<p>You can access mocks that were created during the instantiation of your objects via <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/MockedConstruction.html\" rel=\"noreferrer\">MockedConstruction.constructed()</a> method. It represents a collection of mocks that are created after each constructor's execution. If your object will be instantiated 3 times <code>MockedConstruction&lt;T&gt;.constructed()</code> will return 3 different mock objects for each instantiation.\n<br>According to documentation <code>MockedConstruction&lt;T&gt;</code></p>\n<blockquote>\n<p>Represents a mock of any object construction of the represented type.\nWithin the scope of the mocked construction, the invocation of any\ninterceptor will generate a mock which will be prepared as specified\nwhen generating this scope. The mock can also be received via this\ninstance.</p>\n</blockquote>\n<p>Simple implementation with comments below shows how to get mocks from <code>MockedConstruction</code> and verify them:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class A {\n    private final String test;\n\n    public A(String test) {\n        this.test = test;\n    }\n\n    public String check() {\n        return &quot;checked &quot; + this.test;\n    }\n}\n\npublic class TestService {\n    public String purchaseProduct(String param) {\n        A a = new A(param);\n        return a.check();\n    }\n}\n\nimport org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.mockito.MockedConstruction;\nimport org.mockito.Mockito;\n\nimport static org.mockito.Mockito.*;\n\npublic class ConstructorMockTest {\n    private MockedConstruction&lt;A&gt; mockAController;\n\n    @BeforeEach\n    public void beginTest() {\n        //create mock controller for all constructors of the given class\n        mockAController = Mockito.mockConstruction(A.class,\n                (mock, context) -&gt; {\n                    //implement initializer for mock. Set return value for object A mock methods\n                    when(mock.check()).thenReturn(&quot; Constructor Mock A &quot;);\n                });\n    }\n\n    @Test\n    public void test() {\n        //each instantiation of class A will return new mock, which initialized by initializer from beginTest method\n        //new mock will be stored to mockAController.constructed() collection of mocks\n        A aObject = new A(&quot;test&quot;);\n        //ensure that method check() returns mocked value\n        Assertions.assertEquals(aObject.check(), &quot; Constructor Mock A &quot;);\n        //get just created mock for class A from controller. It will be first element of mockAController.constructed() collection\n        A aMock = mockAController.constructed().get(0);\n        //ensure that we get correct mock from mock controller, that it is equal from new created object\n        Assertions.assertEquals(aMock, aObject);\n        //verify that check method was executed on Mock\n        verify(aMock, times(1)).check();\n\n        //create new A object, new mock created and stored to mockAController.constructed()\n        A aObject2 = new A(&quot;test&quot;);\n        //ensure that method check() returns mocked value\n        Assertions.assertEquals(aObject2.check(), &quot; Constructor Mock A &quot;);\n        //get just created mock for class A from controller, it will be second object from constructed collection\n        A aMock2 = mockAController.constructed().get(1);\n        //ensure that we get correct mock from mock controller, that it is equal from just created A object\n        Assertions.assertEquals(aObject2, aMock2);\n        //verify that check method was executed on Mock\n        verify(aMock2, times(1)).check();\n\n        //Example of testing service which creates A object\n        TestService service = new TestService();\n        String serviceResult = service.purchaseProduct(&quot;test&quot;);\n        //ensure that service returned value  from A mock\n        Assertions.assertEquals(serviceResult, &quot; Constructor Mock A &quot;);\n        //get just created mock for class A from controller, it will be third object from constructed collection\n        A aMock3 = mockAController.constructed().get(2);\n        //verify that check method was executed on Mock\n        verify(aMock3, times(1)).check();\n    }\n\n    @AfterEach\n    public void endTest() {\n        mockAController.close();\n    }\n}\n</code></pre>\n<p>Let's rewrite your test. I do not have the full code, but I will try to create an example with comments:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    void shouldThrowException() throws Exception {\n        //given\n        UrlLinkDto urlLinkDto =\n                UrlPartLinkDto.builder().callId(&quot;333&quot;).videoId(&quot;5555544&quot;).build();\n        ArgumentCaptor&lt;UrlPartLinkDto&gt; argumentCaptor = ArgumentCaptor.forClass(UrlPartLinkDto.class);\n\n        try (MockedConstruction&lt;ObjectMapper&gt; objectMapperMockedConstruction = mockConstruction(ObjectMapper.class,\n                (objectMapper, context) -&gt; {\n                     //initialize ObjectMapper mock to throw exception when argumentCaptor will come to writeValueAsString method\n                    doThrow(JsonProcessingException.class).when(objectMapper).writeValueAsString(argumentCaptor.capture());\n                })) {\n\n            //execute service for testing and catch exception\n            Throwable throwable = catchThrowable(() -&gt; partUnlinkService.unlink(urlLinkDto, false));\n\n            //verify that inner service was executed\n            verify(partLogCheckService, times(1)).checkForExistingVideo(urlLinkDto.getVideoId());\n\n            //verify that ObjectMapper was instantiated\n            Assertions.assertEquals(1, objectMapperMockedConstruction.constructed().size());\n            //get mock of ObjectMapper which was instantiated during service execution\n            ObjectMapper objectMapper = objectMapperMockedConstruction.constructed().get(0);\n            //verify that writeValueAsString was executed\n            verify(objectMapper, times(1)).writeValueAsString(argumentCaptor.capture());\n\n            //check that exception is correct\n            assertThat(throwable).isInstanceOf(JsonProcessingException.class);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":20084709,"reputation":216,"user_id":14726554,"display_name":"Emre Varol"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17639,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":72411719,"answer_count":2,"score":5,"last_activity_date":1653692133,"creation_date":1653557551,"question_id":72389685,"body_markdown":"I don&#39;t want to use powermock anymore. Because junit5 started mocking static classes. So i am trying to get rid of powermock methods.\r\n\r\nAs you know, you can create an instance of a class with whenNew keyword. So i decided to use &quot; mockConstruction &quot; . But mockConstruction does not return the mocked object. It doesn&#39;t go inside the try block.\r\n\r\nThis is my BeforeEach method:\r\n\r\n  \r\n\r\n     @BeforeEach\r\n        void setUp() {\r\n            partUnlinkService =\r\n                spy(new PartVideoUnlinkService(part1, part2,\r\n                    part3));\r\n        }\r\n\r\nThis is my test method:\r\n\r\n      @Test\r\n        void shouldThrowException() throws Exception {\r\n            //given\r\n            UrlLinkDto urlLinkDto =\r\n                UrlPartLinkDto.builder().callId(&quot;333&quot;).videoId(&quot;5555544&quot;).build();\r\n            ArgumentCaptor&lt;UrlPartLinkDto&gt; argumentCaptor = ArgumentCaptor.forClass(UrlPartLinkDto.class);\r\n            //when\r\n            try (MockedConstruction&lt;ObjectMapper&gt; ignoredVariable = mockConstruction(ObjectMapper.class,\r\n                (objectMapper, context) -&gt; {\r\n                    //then\r\n                    partUnlinkService.unlink(urlLinkDto, false);\r\n                    verify(partLogCheckService, times(1)).checkForExistingVideo(\r\n                        urlLinkDto.getVideoId());\r\n                    verify(objectMapper, times(1)).writeValueAsString(argumentCaptor.capture());\r\n                    Throwable throwable =\r\n                        catchThrowable(() -&gt; objectMapper.writeValueAsString(argumentCaptor.capture()));\r\n                    assertThat(throwable).isInstanceOf(JsonProcessingException.class);\r\n                })) {\r\n            } \r\n        }\r\n\r\n\r\nAny help would be appreciated.","title":"Mockito.mockConstruction does not return the mocked object","body":"<p>I don't want to use powermock anymore. Because junit5 started mocking static classes. So i am trying to get rid of powermock methods.</p>\n<p>As you know, you can create an instance of a class with whenNew keyword. So i decided to use &quot; mockConstruction &quot; . But mockConstruction does not return the mocked object. It doesn't go inside the try block.</p>\n<p>This is my BeforeEach method:</p>\n<pre><code> @BeforeEach\n    void setUp() {\n        partUnlinkService =\n            spy(new PartVideoUnlinkService(part1, part2,\n                part3));\n    }\n</code></pre>\n<p>This is my test method:</p>\n<pre><code>  @Test\n    void shouldThrowException() throws Exception {\n        //given\n        UrlLinkDto urlLinkDto =\n            UrlPartLinkDto.builder().callId(&quot;333&quot;).videoId(&quot;5555544&quot;).build();\n        ArgumentCaptor&lt;UrlPartLinkDto&gt; argumentCaptor = ArgumentCaptor.forClass(UrlPartLinkDto.class);\n        //when\n        try (MockedConstruction&lt;ObjectMapper&gt; ignoredVariable = mockConstruction(ObjectMapper.class,\n            (objectMapper, context) -&gt; {\n                //then\n                partUnlinkService.unlink(urlLinkDto, false);\n                verify(partLogCheckService, times(1)).checkForExistingVideo(\n                    urlLinkDto.getVideoId());\n                verify(objectMapper, times(1)).writeValueAsString(argumentCaptor.capture());\n                Throwable throwable =\n                    catchThrowable(() -&gt; objectMapper.writeValueAsString(argumentCaptor.capture()));\n                assertThat(throwable).isInstanceOf(JsonProcessingException.class);\n            })) {\n        } \n    }\n</code></pre>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","hibernate","jpa","google-cloud-sql"],"comments":[{"owner":{"account_id":23696739,"reputation":961,"user_id":17720363,"display_name":"Catherine O"},"score":0,"creation_date":1653879316,"post_id":72411673,"comment_id":127950975,"body_markdown":"Can you share your pom.xml to us to know what version of `Guava` you&#39;re using?","body":"Can you share your pom.xml to us to know what version of <code>Guava</code> you&#39;re using?"},{"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"score":0,"creation_date":1654000201,"post_id":72411673,"comment_id":127983400,"body_markdown":"@CatherineO This project doesn&#39;t use `Guava` at all and that method error is coming from `mysql-socket-factory` dependency if so.","body":"@CatherineO This project doesn&#39;t use <code>Guava</code> at all and that method error is coming from <code>mysql-socket-factory</code> dependency if so."},{"owner":{"account_id":23696739,"reputation":961,"user_id":17720363,"display_name":"Catherine O"},"score":0,"creation_date":1654068653,"post_id":72411673,"comment_id":128001074,"body_markdown":"I found this [post](https://stackoverflow.com/questions/61735945/error-in-connecting-to-google-cloud-sql-com-google-cloud-sql-mysql-socketfactory) that might help. Also you may want to check the version of `mysql-socket-factory` that you use, it might be a version issue.","body":"I found this <a href=\"https://stackoverflow.com/questions/61735945/error-in-connecting-to-google-cloud-sql-com-google-cloud-sql-mysql-socketfactory\">post</a> that might help. Also you may want to check the version of <code>mysql-socket-factory</code> that you use, it might be a version issue."},{"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"score":0,"creation_date":1654094413,"post_id":72411673,"comment_id":128010513,"body_markdown":"@CatherineO Yeah, I have tried to downgrade version and change connector to j-8 but did not help at all. Probably the app is too old to get it to work using instance connection name","body":"@CatherineO Yeah, I have tried to downgrade version and change connector to j-8 but did not help at all. Probably the app is too old to get it to work using instance connection name"}],"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653691122,"creation_date":1653691122,"question_id":72411673,"body_markdown":"I&#39;m trying to connect an old MVC Java web-app to the Cloud SQL using provided instance connection name following steps from https://github.com/GoogleCloudPlatform/cloud-sql-jdbc-socket-factory/blob/main/docs/jdbc-mysql.md \r\n\r\nRelated part of the code looks like:\r\n\r\n```\r\n      JDBCDriverInfo driverInfo = databaseInfo.getJDBCDriverInfo();\r\n\r\n      try {\r\n         Map&lt;String, String&gt; properties = new HashMap&lt;String, String&gt;();\r\n         properties.put(&quot;javax.persistence.jdbc.url&quot;, driverInfo.getJDBCUrl());\r\n         properties.put(&quot;javax.persistence.jdbc.driver&quot;, driverInfo.getJDBCDriver());\r\n\r\n         String username = databaseInfo.getUsername();\r\n         if (username != null &amp;&amp; !username.isEmpty()) {\r\n            properties.put(&quot;javax.persistence.jdbc.user&quot;, username);\r\n         }\r\n\r\n         String password = databaseInfo.getPassword();\r\n         if (password != null &amp;&amp; !password.isEmpty()) {\r\n            properties.put(&quot;javax.persistence.jdbc.password&quot;, password);\r\n         }\r\n\r\n         EntityManagerFactory factory = Persistence.createEntityManagerFactory(&quot;AppPU&quot;, properties);\r\n         DBFactoryInfo factoryInfo = new DBFactoryInfo(factory);\r\n         dbFactories.put(databaseInfo.getDatasource(), factoryInfo);\r\n\r\n         String message = &quot;Created EntityManagerFactory for &quot; + databaseInfo.getDatasource() + &quot;, user &quot; + databaseInfo.getUsername() + &quot;, at &quot;\r\n               + driverInfo.getJDBCUrl() + &quot;.&quot;;\r\n         Logger.log(JPAUtils.class, Level.INFO, message);\r\n      }\r\n```\r\n\r\nwhere\r\n\r\n```\r\n   public MySQLDriverInfo(String ip, String schema) {\r\n      this.ip = ip;\r\n      this.schema = schema;\r\n   }\r\n\r\n   @Override\r\n   public String getJDBCDriver() {\r\n      String jdbcDriver = &quot;com.mysql.jdbc.Driver&quot;;\r\n      return jdbcDriver;\r\n   }\r\n\r\n   @Override\r\n   public String getJDBCUrl() {\r\n      //String dbUrl = &quot;jdbc:mysql:///&lt;DATABASE_NAME&gt;?cloudSqlInstance=&lt;INSTANCE_CONNECTION_NAME&gt;&amp;socketFactory=com.google.cloud.sql.mysql.SocketFactory&amp;user=&lt;MYSQL_USER_NAME&gt;&amp;password=&lt;MYSQL_USER_PASSWORD&gt;&quot;\r\n      String dbUrl = &quot;jdbc:mysql:///my_db?cloudSqlInstance=test:us-east4:cloud-sql&amp;socketFactory=com.google.cloud.sql.mysql.SocketFactory&amp;user=me&amp;password=*****&quot;;\r\n      return dbUrl;\r\n   }\r\n```\r\n\r\nbut that will fail to create `Persistence.createEntityManagerFactory(&quot;AppPU&quot;, properties);` as `Unable to build entity manager factory. NoSuchMethodError thrown. Possible issue with database or database data: com.google.common.util.concurrent.RateLimiter.acquire(I)D`","title":"Use Cloud SQL Instance connection name with Hibernate EntityManagerFactory","body":"<p>I'm trying to connect an old MVC Java web-app to the Cloud SQL using provided instance connection name following steps from <a href=\"https://github.com/GoogleCloudPlatform/cloud-sql-jdbc-socket-factory/blob/main/docs/jdbc-mysql.md\" rel=\"nofollow noreferrer\">https://github.com/GoogleCloudPlatform/cloud-sql-jdbc-socket-factory/blob/main/docs/jdbc-mysql.md</a></p>\n<p>Related part of the code looks like:</p>\n<pre><code>      JDBCDriverInfo driverInfo = databaseInfo.getJDBCDriverInfo();\n\n      try {\n         Map&lt;String, String&gt; properties = new HashMap&lt;String, String&gt;();\n         properties.put(&quot;javax.persistence.jdbc.url&quot;, driverInfo.getJDBCUrl());\n         properties.put(&quot;javax.persistence.jdbc.driver&quot;, driverInfo.getJDBCDriver());\n\n         String username = databaseInfo.getUsername();\n         if (username != null &amp;&amp; !username.isEmpty()) {\n            properties.put(&quot;javax.persistence.jdbc.user&quot;, username);\n         }\n\n         String password = databaseInfo.getPassword();\n         if (password != null &amp;&amp; !password.isEmpty()) {\n            properties.put(&quot;javax.persistence.jdbc.password&quot;, password);\n         }\n\n         EntityManagerFactory factory = Persistence.createEntityManagerFactory(&quot;AppPU&quot;, properties);\n         DBFactoryInfo factoryInfo = new DBFactoryInfo(factory);\n         dbFactories.put(databaseInfo.getDatasource(), factoryInfo);\n\n         String message = &quot;Created EntityManagerFactory for &quot; + databaseInfo.getDatasource() + &quot;, user &quot; + databaseInfo.getUsername() + &quot;, at &quot;\n               + driverInfo.getJDBCUrl() + &quot;.&quot;;\n         Logger.log(JPAUtils.class, Level.INFO, message);\n      }\n</code></pre>\n<p>where</p>\n<pre><code>   public MySQLDriverInfo(String ip, String schema) {\n      this.ip = ip;\n      this.schema = schema;\n   }\n\n   @Override\n   public String getJDBCDriver() {\n      String jdbcDriver = &quot;com.mysql.jdbc.Driver&quot;;\n      return jdbcDriver;\n   }\n\n   @Override\n   public String getJDBCUrl() {\n      //String dbUrl = &quot;jdbc:mysql:///&lt;DATABASE_NAME&gt;?cloudSqlInstance=&lt;INSTANCE_CONNECTION_NAME&gt;&amp;socketFactory=com.google.cloud.sql.mysql.SocketFactory&amp;user=&lt;MYSQL_USER_NAME&gt;&amp;password=&lt;MYSQL_USER_PASSWORD&gt;&quot;\n      String dbUrl = &quot;jdbc:mysql:///my_db?cloudSqlInstance=test:us-east4:cloud-sql&amp;socketFactory=com.google.cloud.sql.mysql.SocketFactory&amp;user=me&amp;password=*****&quot;;\n      return dbUrl;\n   }\n</code></pre>\n<p>but that will fail to create <code>Persistence.createEntityManagerFactory(&quot;AppPU&quot;, properties);</code> as <code>Unable to build entity manager factory. NoSuchMethodError thrown. Possible issue with database or database data: com.google.common.util.concurrent.RateLimiter.acquire(I)D</code></p>\n"},{"tags":["java","ubuntu","netbeans","netbeans-11"],"comments":[{"owner":{"account_id":3588133,"reputation":141,"user_id":2994783,"display_name":"user2994783"},"score":0,"creation_date":1615074479,"post_id":58825429,"comment_id":117580254,"body_markdown":"I tried the above command but I am getting the error: $ netbeans --jdkhome ~/.sdkman/candidates/java/latest\nCannot find java. Please use the --jdkhome switch.","body":"I tried the above command but I am getting the error: $ netbeans --jdkhome ~/.sdkman/candidates/java/latest Cannot find java. Please use the --jdkhome switch."}],"answers":[{"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1573664071,"creation_date":1573664071,"answer_id":58841936,"question_id":58825429,"body_markdown":"There is no direct solution to your problem using snap. See &quot;[Why can snap files not be modified in any way?][1]&quot;:\r\n\r\n&gt; It&#39;s impossible to change the contents of the snap without re-building\r\n&gt; the snap. This is primarily a security measure, to ensure that the\r\n&gt; snap hasn&#39;t been tampered with.\r\n\r\nHowever, there is a workaround: pass the path of the JDK to be used using the **--jdkhome** parameter when starting NetBeans. For example, to start NetBeans 11.2 using JDK 8 on Windows on my PC:\r\n\r\n`C:\\NetBeans112\\bin\\netbeans.exe --jdkhome C:\\Java\\jdk1.8.0_221`\r\n\r\n[![consoleStartUp][3]][3]\r\n\r\nSee [Can I specify the JDK to run NetBeans on?][2] for further details.\r\n\r\n  [1]: https://askubuntu.com/q/919091\r\n  [2]: http://wiki.netbeans.org/FaqJdkHome\r\n  [3]: https://i.stack.imgur.com/57A64.png","title":"How to configure netbeans when installed as snap package?","body":"<p>There is no direct solution to your problem using snap. See \"<a href=\"https://askubuntu.com/q/919091\">Why can snap files not be modified in any way?</a>\":</p>\n\n<blockquote>\n  <p>It's impossible to change the contents of the snap without re-building\n  the snap. This is primarily a security measure, to ensure that the\n  snap hasn't been tampered with.</p>\n</blockquote>\n\n<p>However, there is a workaround: pass the path of the JDK to be used using the <strong>--jdkhome</strong> parameter when starting NetBeans. For example, to start NetBeans 11.2 using JDK 8 on Windows on my PC:</p>\n\n<p><code>C:\\NetBeans112\\bin\\netbeans.exe --jdkhome C:\\Java\\jdk1.8.0_221</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/57A64.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/57A64.png\" alt=\"consoleStartUp\"></a></p>\n\n<p>See <a href=\"http://wiki.netbeans.org/FaqJdkHome\" rel=\"nofollow noreferrer\">Can I specify the JDK to run NetBeans on?</a> for further details.</p>\n"},{"tags":[],"owner":{"account_id":18438410,"reputation":126,"user_id":13431649,"display_name":"Kim Jersin"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1653689983,"creation_date":1588151317,"answer_id":61498091,"question_id":58825429,"body_markdown":"You CAN have user local versions of the netbeans configuration. Just copy the global netbeans.conf from the global snap location to your Netbeans user directory and make your changes there.\r\n\r\nExample for version 11.3 of Netbeans:\r\n&lt;pre&gt;\r\nmkdir -p ~/snap/netbeans/common/data/11.3/etc\r\ncp /snap/netbeans/current/netbeans/etc/netbeans.conf ~/snap/netbeans/common/data/11.3/etc/netbeans.conf\r\ngedit ~/snap/netbeans/common/data/11.3/etc/netbeans.conf\r\n&lt;/pre&gt;\r\n\r\nNOTE: You will need to repeat this process whenever the user directory changes as a result of a version update. Ie. from 11.3 -&gt; 12, etc.\r\n\r\nThis worked till **12.4**. Newer versions of the Snap package has changed the location of the NetBeans userdir so the script above would look like:\r\n\r\n&lt;pre&gt;\r\nmkdir -p ~/snap/netbeans/current/etc\r\ncp /snap/netbeans/current/netbeans/etc/netbeans.conf ~/snap/netbeans/current/etc/netbeans.conf\r\ngedit ~/snap/netbeans/current/etc/netbeans.conf\r\n&lt;/pre&gt;\r\n\r\nNOTE: You **will not need** to repeat this process on version updates.","title":"How to configure netbeans when installed as snap package?","body":"<p>You CAN have user local versions of the netbeans configuration. Just copy the global netbeans.conf from the global snap location to your Netbeans user directory and make your changes there.</p>\n<p>Example for version 11.3 of Netbeans:</p>\n<pre>\nmkdir -p ~/snap/netbeans/common/data/11.3/etc\ncp /snap/netbeans/current/netbeans/etc/netbeans.conf ~/snap/netbeans/common/data/11.3/etc/netbeans.conf\ngedit ~/snap/netbeans/common/data/11.3/etc/netbeans.conf\n</pre>\n<p>NOTE: You will need to repeat this process whenever the user directory changes as a result of a version update. Ie. from 11.3 -&gt; 12, etc.</p>\n<p>This worked till <strong>12.4</strong>. Newer versions of the Snap package has changed the location of the NetBeans userdir so the script above would look like:</p>\n<pre>\nmkdir -p ~/snap/netbeans/current/etc\ncp /snap/netbeans/current/netbeans/etc/netbeans.conf ~/snap/netbeans/current/etc/netbeans.conf\ngedit ~/snap/netbeans/current/etc/netbeans.conf\n</pre>\n<p>NOTE: You <strong>will not need</strong> to repeat this process on version updates.</p>\n"}],"owner":{"account_id":465074,"reputation":12318,"user_id":868941,"accept_rate":75,"display_name":"rmuller"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3018,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":61498091,"answer_count":2,"score":6,"last_activity_date":1653689983,"creation_date":1573586886,"question_id":58825429,"body_markdown":"I installed Netbeans 11.2 on Ubuntu 18.04 via snap.\r\n\r\nNow i want to configure Netbeans, modifying `netbeans.conf`. This file is placed at `/snap/netbeans/current/netbeans/etc/` and is mounted as read-only file system. So i assume you should not edit this file here.\r\n\r\nHow do i configure Netbeans if the classic way (editing `netbeans.conf`) is blocked?\r\n\r\nNote: I want to set `netbeans_jdkhome=&quot;~/.sdkman/candidates/java/latest/&quot;`.\r\n\r\n**UPDATE**\r\n\r\nThis works:\r\n\r\n    netbeans --jdkhome ~/.sdkman/candidates/java/latest\r\n","title":"How to configure netbeans when installed as snap package?","body":"<p>I installed Netbeans 11.2 on Ubuntu 18.04 via snap.</p>\n\n<p>Now i want to configure Netbeans, modifying <code>netbeans.conf</code>. This file is placed at <code>/snap/netbeans/current/netbeans/etc/</code> and is mounted as read-only file system. So i assume you should not edit this file here.</p>\n\n<p>How do i configure Netbeans if the classic way (editing <code>netbeans.conf</code>) is blocked?</p>\n\n<p>Note: I want to set <code>netbeans_jdkhome=\"~/.sdkman/candidates/java/latest/\"</code>.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>This works:</p>\n\n<pre><code>netbeans --jdkhome ~/.sdkman/candidates/java/latest\n</code></pre>\n"},{"tags":["java","xml","xml-parsing"],"comments":[{"owner":{"account_id":4697136,"reputation":61,"user_id":3801748,"display_name":"Darsh"},"score":0,"creation_date":1564402431,"post_id":57253405,"comment_id":101006982,"body_markdown":"thanks for your comment.","body":"thanks for your comment."}],"answers":[{"tags":[],"owner":{"account_id":109492,"reputation":107225,"user_id":290085,"display_name":"kjhughes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1564403220,"creation_date":1564402595,"answer_id":57253703,"question_id":57253405,"body_markdown":"Terminology\r\n--\r\nIn your example, the `description` *element* has *mixed content*.  You&#39;re looking to extract the *text node* children of the `description` element. Identifying the right terminology is the first step to searching for answers (and narrowing overly broad questions).\r\n\r\nParsing XML\r\n---\r\n\r\n**...with Java in general**\r\n\r\n - https://stackoverflow.com/q/373833/290085\r\n - https://stackoverflow.com/questions/5059224/which-is-the-best-library-for-xml-parsing-in-java\r\n - https://stackoverflow.com/questions/4076910/how-to-retrieve-element-value-of-xml-using-java\r\n - https://stackoverflow.com/questions/1719261/is-there-an-easier-way-to-parse-xml-in-java\r\n\r\n**...with mixed content:**\r\n\r\n - https://stackoverflow.com/questions/37820152/parsing-mixed-content-xml-with-sax\r\n\r\n - https://stackoverflow.com/q/16231687/290085\r\n\r\n**...choosing parsing technology:**\r\n\r\nYou can find many tutorials on [choosing a parsing technology][1], but XPath is particularly well-suited for selecting parts of an XML document, and there are libraries available for most languages.\r\n\r\n**...via XPath, for example:**\r\n\r\nThis XPath,\r\n\r\n    //description/text()\r\n\r\nwill select all immediate text node children from the `description` element. It will not include the `p` elements or descendents thereof, as requested. \r\n\r\n  [1]: https://stackoverflow.com/questions/21019509/what-are-the-differences-between-dom-sax-and-stax-xml-parsers","title":"How to parse texts outside XML tag?","body":"<h2>Terminology</h2>\n\n<p>In your example, the <code>description</code> <em>element</em> has <em>mixed content</em>.  You're looking to extract the <em>text node</em> children of the <code>description</code> element. Identifying the right terminology is the first step to searching for answers (and narrowing overly broad questions).</p>\n\n<h2>Parsing XML</h2>\n\n<p><strong>...with Java in general</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/q/373833/290085\">Best XML parser for Java</a></li>\n<li><a href=\"https://stackoverflow.com/questions/5059224/which-is-the-best-library-for-xml-parsing-in-java\">Which is the best library for XML parsing in java</a></li>\n<li><a href=\"https://stackoverflow.com/questions/4076910/how-to-retrieve-element-value-of-xml-using-java\">How to retrieve element value of XML using Java?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/1719261/is-there-an-easier-way-to-parse-xml-in-java\">Is there an easier way to parse XML in Java?</a></li>\n</ul>\n\n<p><strong>...with mixed content:</strong></p>\n\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/37820152/parsing-mixed-content-xml-with-sax\">Parsing Mixed-Content XML with SAX</a></p></li>\n<li><p><a href=\"https://stackoverflow.com/q/16231687/290085\">Problems parsing XML in Java</a></p></li>\n</ul>\n\n<p><strong>...choosing parsing technology:</strong></p>\n\n<p>You can find many tutorials on <a href=\"https://stackoverflow.com/questions/21019509/what-are-the-differences-between-dom-sax-and-stax-xml-parsers\">choosing a parsing technology</a>, but XPath is particularly well-suited for selecting parts of an XML document, and there are libraries available for most languages.</p>\n\n<p><strong>...via XPath, for example:</strong></p>\n\n<p>This XPath,</p>\n\n<pre><code>//description/text()\n</code></pre>\n\n<p>will select all immediate text node children from the <code>description</code> element. It will not include the <code>p</code> elements or descendents thereof, as requested. </p>\n"}],"owner":{"account_id":4697136,"reputation":61,"user_id":3801748,"display_name":"Darsh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":459,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":57253703,"answer_count":1,"score":2,"last_activity_date":1653689960,"creation_date":1564401504,"question_id":57253405,"body_markdown":"I want to parse texts that appear in XML file but outside XML tags. in the attached example I would like to parse only the texts that is outside of `p` tag, such as `&quot;FIELD OF THE TECHNOLOGY&quot;` and `&quot;DETAILED DESCRIPTION OF THE TECHNOLOGY&quot;`.\r\n\r\nAn example of my XML file is:\r\n\r\n    &lt;description&gt;                        \r\n    FIELD OF THE TECHNOLOGY\r\n    &lt;p&gt;The present technology is directed ....&lt;/p&gt;\r\n    &lt;p&gt;The present invention is.....&lt;/p&gt;\r\n    &lt;p&gt;One promising approach has ...,&lt;/p&gt;\r\n  \r\n\r\n    DETAILED DESCRIPTION OF THE TECHNOLOGY\r\n    &lt;p&gt;The present tech provides, ....&lt;/p&gt;\r\n    &lt;p&gt;A report by Kearse et al.,...&lt;/p&gt;\r\n    &lt;/description&gt;\r\n","title":"How to parse texts outside XML tag?","body":"<p>I want to parse texts that appear in XML file but outside XML tags. in the attached example I would like to parse only the texts that is outside of <code>p</code> tag, such as <code>\"FIELD OF THE TECHNOLOGY\"</code> and <code>\"DETAILED DESCRIPTION OF THE TECHNOLOGY\"</code>.</p>\n\n<p>An example of my XML file is:</p>\n\n<pre><code>&lt;description&gt;                        \nFIELD OF THE TECHNOLOGY\n&lt;p&gt;The present technology is directed ....&lt;/p&gt;\n&lt;p&gt;The present invention is.....&lt;/p&gt;\n&lt;p&gt;One promising approach has ...,&lt;/p&gt;\n\n\nDETAILED DESCRIPTION OF THE TECHNOLOGY\n&lt;p&gt;The present tech provides, ....&lt;/p&gt;\n&lt;p&gt;A report by Kearse et al.,...&lt;/p&gt;\n&lt;/description&gt;\n</code></pre>\n"},{"tags":["java","selenium","file-upload","webdriver","sendkeys"],"answers":[{"tags":[],"owner":{"account_id":9088496,"reputation":386,"user_id":6765457,"display_name":"FayazMd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475090087,"creation_date":1475090087,"answer_id":39755880,"question_id":39748411,"body_markdown":"From your explanation, I am assuming that, you have an HTML tag that allows you to upload a file from local drive but it is not enabled. Unless you hit submit button it wont allow you to upload a file.\r\n\r\nIn such case, try to edit the form tag to edit and then try to call sendKeys() method, and you can edit the html elements using javascript executor","title":"Uploading file in Selenium using sendKeys() is not working","body":"<p>From your explanation, I am assuming that, you have an HTML tag that allows you to upload a file from local drive but it is not enabled. Unless you hit submit button it wont allow you to upload a file.</p>\n\n<p>In such case, try to edit the form tag to edit and then try to call sendKeys() method, and you can edit the html elements using javascript executor</p>\n"},{"tags":[],"owner":{"account_id":9088496,"reputation":386,"user_id":6765457,"display_name":"FayazMd"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1475131783,"creation_date":1475131783,"answer_id":39763306,"question_id":39748411,"body_markdown":"Please try the following javascript executor code\r\n\r\n    String filePath = &quot;D:\\\\Images\\\\icons.png&quot;;\r\n    JavascriptExecutor jsx = (JavascriptExecutor) driver;\r\n    jsx.executeScript(&quot;document.getElementById(&#39;iconFlagFile&#39;).value=&#39;&quot; + filePath + &quot;&#39;;&quot;);\r\n\r\n","title":"Uploading file in Selenium using sendKeys() is not working","body":"<p>Please try the following javascript executor code</p>\n\n<pre><code>String filePath = \"D:\\\\Images\\\\icons.png\";\nJavascriptExecutor jsx = (JavascriptExecutor) driver;\njsx.executeScript(\"document.getElementById('iconFlagFile').value='\" + filePath + \"';\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2427689,"reputation":664,"user_id":2119289,"accept_rate":20,"display_name":"Chandra Shekhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475140884,"creation_date":1475140884,"answer_id":39766352,"question_id":39748411,"body_markdown":"Please try this for file upload.\r\n\r\n        String filename = &quot;path of the file&quot;;\r\n        File file = new File(filename);\r\n        String path = file.getAbsolutePath();\r\n\t    // give the URL to upload\r\n    \tdriver.findElement(By locator).sendKeys(path);\r\n    \t \r\n\r\n","title":"Uploading file in Selenium using sendKeys() is not working","body":"<p>Please try this for file upload.</p>\n\n<pre><code>    String filename = \"path of the file\";\n    File file = new File(filename);\n    String path = file.getAbsolutePath();\n    // give the URL to upload\n    driver.findElement(By locator).sendKeys(path);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14162034,"reputation":231,"user_id":10231069,"display_name":"Vikas Rathour"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580381113,"creation_date":1580381113,"answer_id":59984179,"question_id":39748411,"body_markdown":"**Use Clipboard class and Robot class combination**\r\n\r\n        Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\r\n        StringSelection str = new StringSelection(&quot;File Path&quot;);\r\n        clipboard.setContents(str, null);\r\n        \r\n        WebElement element = driver.findElement(By.xpath(&quot;elementXpath&quot;));\r\n        element.click();\r\n        \r\n        Robot robot = new Robot();\r\n        robot.keyPress(KeyEvent.VK_CONTROL);\r\n        robot.keyPress(KeyEvent.VK_V);\r\n        driverwait(1);\r\n        robot.keyRelease(KeyEvent.VK_CONTROL);\r\n        robot.keyRelease(KeyEvent.VK_V);\r\n        driverwait(1);\r\n        robot.keyPress(KeyEvent.VK_ENTER);\r\n        robot.keyRelease(KeyEvent.VK_ENTER);\r\n\r\n","title":"Uploading file in Selenium using sendKeys() is not working","body":"<p><strong>Use Clipboard class and Robot class combination</strong></p>\n\n<pre><code>    Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\n    StringSelection str = new StringSelection(\"File Path\");\n    clipboard.setContents(str, null);\n\n    WebElement element = driver.findElement(By.xpath(\"elementXpath\"));\n    element.click();\n\n    Robot robot = new Robot();\n    robot.keyPress(KeyEvent.VK_CONTROL);\n    robot.keyPress(KeyEvent.VK_V);\n    driverwait(1);\n    robot.keyRelease(KeyEvent.VK_CONTROL);\n    robot.keyRelease(KeyEvent.VK_V);\n    driverwait(1);\n    robot.keyPress(KeyEvent.VK_ENTER);\n    robot.keyRelease(KeyEvent.VK_ENTER);\n</code></pre>\n"}],"owner":{"account_id":8583754,"reputation":116,"user_id":6430579,"display_name":"Ubaid Ahmed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19855,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1653689853,"creation_date":1475067853,"question_id":39748411,"body_markdown":"I am unable to upload files using `sendKeys()`. This is my code\r\n\r\n    driver.findElement(By.xpath(Locators.browseFlagIconBtn)).sendKeys(&quot;D:\\\\Images\\\\icons.png&quot;);\r\n\r\nI have an input tag of type file for file upload\r\n\r\n    &lt;input type=&quot;file&quot; id=&quot;iconFlagFile&quot; name=&quot;iconFile&quot; onchange=&quot;setFlagIconFile()&quot; value=&quot;&quot; class=&quot; file-input-opacity&quot; style=&quot;position: absolute; z-index: 100; font-size: 200px; line-height: 200px; top: 0px; left: 0px; opacity: 0;&quot;&gt;\r\n\r\nHowever when I click on submit button of the form where this input field is then I am redirected to the below page:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nCause of this issue : \r\n\r\nWhen I pass the path using `sendKeys()` then it correctly picks up the file that needs to be uploaded. However, the actual upload takes place when user clicks on the submit button. Now I don&#39;t know why it it searches for the file that it picked in Chrome&#39;s directory, for example: `&quot;C:\\Program Files (x86)\\Google\\Chrome\\Application\\53.0.2785.116&quot;`\r\n\r\nObviously it will not be able to find the file.\r\n\r\nQuestion: How to fix this? Let me know if I need to provide more information.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/ou8hx.png","title":"Uploading file in Selenium using sendKeys() is not working","body":"<p>I am unable to upload files using <code>sendKeys()</code>. This is my code</p>\n\n<pre><code>driver.findElement(By.xpath(Locators.browseFlagIconBtn)).sendKeys(\"D:\\\\Images\\\\icons.png\");\n</code></pre>\n\n<p>I have an input tag of type file for file upload</p>\n\n<pre><code>&lt;input type=\"file\" id=\"iconFlagFile\" name=\"iconFile\" onchange=\"setFlagIconFile()\" value=\"\" class=\" file-input-opacity\" style=\"position: absolute; z-index: 100; font-size: 200px; line-height: 200px; top: 0px; left: 0px; opacity: 0;\"&gt;\n</code></pre>\n\n<p>However when I click on submit button of the form where this input field is then I am redirected to the below page:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ou8hx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ou8hx.png\" alt=\"enter image description here\"></a></p>\n\n<p>Cause of this issue : </p>\n\n<p>When I pass the path using <code>sendKeys()</code> then it correctly picks up the file that needs to be uploaded. However, the actual upload takes place when user clicks on the submit button. Now I don't know why it it searches for the file that it picked in Chrome's directory, for example: <code>\"C:\\Program Files (x86)\\Google\\Chrome\\Application\\53.0.2785.116\"</code></p>\n\n<p>Obviously it will not be able to find the file.</p>\n\n<p>Question: How to fix this? Let me know if I need to provide more information.</p>\n"},{"tags":["java","dependency-injection","guice"],"answers":[{"tags":[],"owner":{"account_id":88375,"reputation":12009,"user_id":244473,"display_name":"gpampara"},"down_vote_count":3,"up_vote_count":32,"is_accepted":true,"score":29,"last_activity_date":1265024901,"creation_date":1265024901,"answer_id":2176396,"question_id":2176216,"body_markdown":"You should not be using the `Injector` directly. Rather pass in the `Provider&lt;FooClass&gt;` instead. Also, you should be injecting the provider in the places where you use `FooClass`.\r\n\r\n    private final Provider&lt;FooClass&gt; provider;\r\n    \r\n    @Inject\r\n    public ClassWhereFooIsUsed(Provider&lt;FooClass&gt; provider) {\r\n        this.provider = provider;\r\n    }\r\n\r\n    .... somewhere else\r\n    FooClass f = provider.get(); // This is lazy","title":"How to inject Injector?","body":"<p>You should not be using the <code>Injector</code> directly. Rather pass in the <code>Provider&lt;FooClass&gt;</code> instead. Also, you should be injecting the provider in the places where you use <code>FooClass</code>.</p>\n\n<pre><code>private final Provider&lt;FooClass&gt; provider;\n\n@Inject\npublic ClassWhereFooIsUsed(Provider&lt;FooClass&gt; provider) {\n    this.provider = provider;\n}\n\n.... somewhere else\nFooClass f = provider.get(); // This is lazy\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1265036782,"creation_date":1265036782,"answer_id":2177574,"question_id":2176216,"body_markdown":"As @gpampara said, &lt;code&gt;Provider&amp;lt;T&amp;gt;&lt;/code&gt; should be used for lazy/optional initialization. Also, as I said in my answer to your other question, you should be avoiding references to the &lt;code&gt;Injector&lt;/code&gt; in your code in almost all cases.\r\n\r\nThat said, in a class that is created by Guice, the &lt;code&gt;Injector&lt;/code&gt; that is creating the object can be injected just by declaring a dependency on &lt;code&gt;Injector&lt;/code&gt;. The &lt;code&gt;Injector&lt;/code&gt; is automatically available for injection without you declaring any binding for it.\r\n\r\nIf you do inject the &lt;code&gt;Injector&lt;/code&gt;, you should think about WHY you want to do that. Why don&#39;t you just declare dependencies on the actual interfaces/classes the class depends on? It&#39;s just as easy to add a new dependency to the constructor as it is to retrieve an instance of some dependency through the &lt;code&gt;Injector&lt;/code&gt; elsewhere in your code, and it makes the code far more understandable as well.","title":"How to inject Injector?","body":"<p>As @gpampara said, <code>Provider&lt;T&gt;</code> should be used for lazy/optional initialization. Also, as I said in my answer to your other question, you should be avoiding references to the <code>Injector</code> in your code in almost all cases.</p>\n\n<p>That said, in a class that is created by Guice, the <code>Injector</code> that is creating the object can be injected just by declaring a dependency on <code>Injector</code>. The <code>Injector</code> is automatically available for injection without you declaring any binding for it.</p>\n\n<p>If you do inject the <code>Injector</code>, you should think about WHY you want to do that. Why don't you just declare dependencies on the actual interfaces/classes the class depends on? It's just as easy to add a new dependency to the constructor as it is to retrieve an instance of some dependency through the <code>Injector</code> elsewhere in your code, and it makes the code far more understandable as well.</p>\n"},{"tags":[],"owner":{"account_id":412905,"reputation":670,"user_id":786242,"display_name":"David Noha"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1522163613,"creation_date":1307382464,"answer_id":6255985,"question_id":2176216,"body_markdown":"As others have already answered, you can simply use `@Inject Injector` because Guice defines the binding itself.\r\n\r\nNormally you only need one `Injector` in your app, and a static variable is an even easier way to store and access a singleton than injecting it.  In our web app, we use [stripes-guicer][1] and get the `Injector` from its static method `GuiceInjectorFactory.getInjector()` when we need it (in our Hibernate interceptor, for example).\r\n\r\nI&#39;m a little baffled by the advice that &quot;you shouldn&#39;t use Injector directly.&quot;  How else would I get an instance injected except by calling `injector.getInstance()` or `injector.injectMembers()`?  There is no way.  Yes, you can define Provider methods, but they will never be called unless somewhere, something uses an Injector.  Yes, there are modules that use the `Injector` for you like the [ServletModule][2]; you have to create the `Injector` yourself, but you can leave it to the `ServletModule` after that.\r\n\r\nSo in some circumstances, you can avoid using the `Injector` directly, but that doesn&#39;t mean you &quot;shouldn&#39;t&quot; use it.  If you&#39;re using Guice alone without any optional modules, then you &quot;should&quot; be using an `Injector` all over the place because there&#39;s no other way to trigger injection.  (I think developers who spend all day writing code inside frameworks sometimes forget that some people actually instantiate their own objects.)\r\n\r\n\r\n  [1]: http://code.google.com/p/stripes-guicer/\r\n  [2]: https://github.com/google/guice/wiki/ServletModule","title":"How to inject Injector?","body":"<p>As others have already answered, you can simply use <code>@Inject Injector</code> because Guice defines the binding itself.</p>\n\n<p>Normally you only need one <code>Injector</code> in your app, and a static variable is an even easier way to store and access a singleton than injecting it.  In our web app, we use <a href=\"http://code.google.com/p/stripes-guicer/\" rel=\"noreferrer\">stripes-guicer</a> and get the <code>Injector</code> from its static method <code>GuiceInjectorFactory.getInjector()</code> when we need it (in our Hibernate interceptor, for example).</p>\n\n<p>I'm a little baffled by the advice that \"you shouldn't use Injector directly.\"  How else would I get an instance injected except by calling <code>injector.getInstance()</code> or <code>injector.injectMembers()</code>?  There is no way.  Yes, you can define Provider methods, but they will never be called unless somewhere, something uses an Injector.  Yes, there are modules that use the <code>Injector</code> for you like the <a href=\"https://github.com/google/guice/wiki/ServletModule\" rel=\"noreferrer\">ServletModule</a>; you have to create the <code>Injector</code> yourself, but you can leave it to the <code>ServletModule</code> after that.</p>\n\n<p>So in some circumstances, you can avoid using the <code>Injector</code> directly, but that doesn't mean you \"shouldn't\" use it.  If you're using Guice alone without any optional modules, then you \"should\" be using an <code>Injector</code> all over the place because there's no other way to trigger injection.  (I think developers who spend all day writing code inside frameworks sometimes forget that some people actually instantiate their own objects.)</p>\n"},{"tags":[],"owner":{"account_id":9399,"reputation":17347,"user_id":17339,"accept_rate":87,"display_name":"Drew Stephens"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1521147579,"creation_date":1521147579,"answer_id":49309100,"question_id":2176216,"body_markdown":"The arguments that you *probably* shouldn&#39;t be injecting an instance of `Injector` are quite valid, but as with any rule there are exceptions.\r\n\r\nI have a factory class that takes in class references for which it needs to provide an instance.  The instances aren&#39;t necessarily known (really, they are, but there are a lot and there might be more) so I can&#39;t make Providers for all of them.\r\n\r\n    public class ThingFactory {\r\n        private Injector injector;\r\n    \r\n        @Inject\r\n        ThingFactory(Injector injector) {\r\n            this.injector = injector;\r\n        }\r\n    \r\n        public &lt;T&gt; T getInstance(Class&lt;T&gt; aClass) {\r\n            return injector.getInstance(aClass);\r\n        }\r\n    }\r\n\r\nThe real class in my app is extending and overriding another class—that&#39;s why this class is basically a passthrough to Guice.","title":"How to inject Injector?","body":"<p>The arguments that you <em>probably</em> shouldn't be injecting an instance of <code>Injector</code> are quite valid, but as with any rule there are exceptions.</p>\n\n<p>I have a factory class that takes in class references for which it needs to provide an instance.  The instances aren't necessarily known (really, they are, but there are a lot and there might be more) so I can't make Providers for all of them.</p>\n\n<pre><code>public class ThingFactory {\n    private Injector injector;\n\n    @Inject\n    ThingFactory(Injector injector) {\n        this.injector = injector;\n    }\n\n    public &lt;T&gt; T getInstance(Class&lt;T&gt; aClass) {\n        return injector.getInstance(aClass);\n    }\n}\n</code></pre>\n\n<p>The real class in my app is extending and overriding another class—that's why this class is basically a passthrough to Guice.</p>\n"}],"owner":{"account_id":90816,"reputation":395,"user_id":249771,"accept_rate":50,"display_name":"Alex M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24796,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":2176396,"answer_count":4,"score":32,"last_activity_date":1653689834,"creation_date":1265022822,"question_id":2176216,"body_markdown":"Situation: i need lazy dependency instantiation in some `FooClass`, so i pass `Injector` to class as a constructor parameter.\r\n\r\n```java\r\nprivate final Injector m_injector;\r\n    \r\npublic FooClass(@Named(&quot;FooInjector&quot;) Injector injector) {\r\n    m_injector = injector;\r\n}\r\n```\r\n\r\nBut guice doesn&#39;t permit to bind core classes (injectors, modules and etc). What is the solution?","title":"How to inject Injector?","body":"<p>Situation: i need lazy dependency instantiation in some <code>FooClass</code>, so i pass <code>Injector</code> to class as a constructor parameter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private final Injector m_injector;\n    \npublic FooClass(@Named(&quot;FooInjector&quot;) Injector injector) {\n    m_injector = injector;\n}\n</code></pre>\n<p>But guice doesn't permit to bind core classes (injectors, modules and etc). What is the solution?</p>\n"},{"tags":["java","android","android-studio","mobile"],"answers":[{"tags":[],"owner":{"account_id":20265612,"reputation":1071,"user_id":14862885,"display_name":"Neptotech -vishnu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641273145,"creation_date":1641273145,"answer_id":70574322,"question_id":70574159,"body_markdown":"IT&#39;S COMMON FOR CERTAIN MODELS OF PHONES,&lt;br&gt;\r\n&gt;My `Samsung galaxy xx` behaves like this(a bit old phone `android version-5.1`)\r\n\r\n&gt;But my other phone-new model does not behave like this(`android version-9`)\r\n\r\n&gt;You need not Restart every time-You can plug out the wire and plug-in (USB wire), if it works or not don&#39;t worry, because it&#39;s common-EVEN IN MY MOBILE IF I RECEIVE A FILE IN WHATSAPP I NEED TO PLUG-OUT AND IN USB CABLE\r\n\r\n&gt;if it does not work try another mobile IT WILL WORK `if` IT WAS A MOBILE WITH GREATER VERSION/NEWER MODEL.\r\n\r\n&gt;P. S I am typing this with a greater experience of my old phone &#128513;","title":"Generated files on Android not visible on PC by USB connect? | Android Studio","body":"<p>IT'S COMMON FOR CERTAIN MODELS OF PHONES,<br></p>\n<blockquote>\n<p>My <code>Samsung galaxy xx</code> behaves like this(a bit old phone <code>android version-5.1</code>)</p>\n</blockquote>\n<blockquote>\n<p>But my other phone-new model does not behave like this(<code>android version-9</code>)</p>\n</blockquote>\n<blockquote>\n<p>You need not Restart every time-You can plug out the wire and plug-in (USB wire), if it works or not don't worry, because it's common-EVEN IN MY MOBILE IF I RECEIVE A FILE IN WHATSAPP I NEED TO PLUG-OUT AND IN USB CABLE</p>\n</blockquote>\n<blockquote>\n<p>if it does not work try another mobile IT WILL WORK <code>if</code> IT WAS A MOBILE WITH GREATER VERSION/NEWER MODEL.</p>\n</blockquote>\n<blockquote>\n<p>P. S I am typing this with a greater experience of my old phone 😁</p>\n</blockquote>\n"}],"owner":{"account_id":23820499,"reputation":11,"user_id":17828198,"display_name":"Surendar Dharani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653689750,"creation_date":1641271172,"question_id":70574159,"body_markdown":"The files generated on Android are not visible on the PC by USB connect. However, after a restart the files do show on the PC.\r\n\r\nAfterwards, if I have generated another new file, I then have to restart my mobile again to make the file visible.\r\n\r\nThis is my relevant piece of code: \r\n\r\n```java\r\nFile exportDir = new File(Environment.getExternalStorageDirectory().getAbsolutePath(), &quot;/storage/data/Scan_CSV_FILE&quot;);\r\nif (!exportDir.exists()) {\r\n\r\n    exportDir.mkdirs();\r\n}\r\nString filename = FileHeander + File_NoET.getText().toString() + &quot;.csv&quot;;\r\nFile file = new File(exportDir, filename);\r\ntry {\r\n    file.createNewFile(); \r\n    CSVWriter csvWrite = new CSVWriter(new FileWriter(file));\r\n    Cursor curCSV = sqliteDb.rawQuery(&quot;SELECT * FROM table&quot;, null);\r\n    String arrHeander[] = {&quot;filed1&quot;, &quot;filed2&quot;, &quot;filed3&quot;,&quot;filed4&quot;};\r\n    csvWrite.writeNext(arrHeander);\r\n    while (curCSV.moveToNext()) {\r\n        //Which column you want to exprort\r\n        String arrStr[] = {curCSV.getString(1), curCSV.getString(2), curCSV.getString(3), curCSV.getString(4)};\r\n        csvWrite.writeNext(arrStr);\r\n    }\r\ncsvWrite.close();\r\ncurCSV.close();\r\nToast.makeText(this, &quot;CSV Downloaded !!!&quot;, Toast.LENGTH_SHORT).show();\r\n```\r\n\r\nHow can I fix the issue so that newly generated files are immediately visible and avoiding having to restart each time?","title":"Generated files on Android not visible on PC by USB connect? | Android Studio","body":"<p>The files generated on Android are not visible on the PC by USB connect. However, after a restart the files do show on the PC.</p>\n<p>Afterwards, if I have generated another new file, I then have to restart my mobile again to make the file visible.</p>\n<p>This is my relevant piece of code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>File exportDir = new File(Environment.getExternalStorageDirectory().getAbsolutePath(), &quot;/storage/data/Scan_CSV_FILE&quot;);\nif (!exportDir.exists()) {\n\n    exportDir.mkdirs();\n}\nString filename = FileHeander + File_NoET.getText().toString() + &quot;.csv&quot;;\nFile file = new File(exportDir, filename);\ntry {\n    file.createNewFile(); \n    CSVWriter csvWrite = new CSVWriter(new FileWriter(file));\n    Cursor curCSV = sqliteDb.rawQuery(&quot;SELECT * FROM table&quot;, null);\n    String arrHeander[] = {&quot;filed1&quot;, &quot;filed2&quot;, &quot;filed3&quot;,&quot;filed4&quot;};\n    csvWrite.writeNext(arrHeander);\n    while (curCSV.moveToNext()) {\n        //Which column you want to exprort\n        String arrStr[] = {curCSV.getString(1), curCSV.getString(2), curCSV.getString(3), curCSV.getString(4)};\n        csvWrite.writeNext(arrStr);\n    }\ncsvWrite.close();\ncurCSV.close();\nToast.makeText(this, &quot;CSV Downloaded !!!&quot;, Toast.LENGTH_SHORT).show();\n</code></pre>\n<p>How can I fix the issue so that newly generated files are immediately visible and avoiding having to restart each time?</p>\n"},{"tags":["java","bluej"],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1414942482,"creation_date":1414942482,"answer_id":26701015,"question_id":26700920,"body_markdown":"The error message says it all:\r\n\r\n&gt; no suitable method found for max(int)\r\n\r\nSo, you want to use a method max, taking a Collection as argument, but what you&#39;re passing to the method is not a Collection, it&#39;s an int:\r\n\r\n    Collections.max(container.differenceInDays())\r\n\r\nwith `differenceInDays()` being defined as\r\n\r\n    public int differenceInDays()\r\n\r\nI assume that what you want is to find the `Container`, inside the set `containerList`, that has the greatest differenceInDays. So you need to call\r\n\r\n    Collections.max(containerList, comparatorComparingContainersByDifferenceInDays)","title":"Find highest value with Collection.max() in HashSet","body":"<p>The error message says it all:</p>\n\n<blockquote>\n  <p>no suitable method found for max(int)</p>\n</blockquote>\n\n<p>So, you want to use a method max, taking a Collection as argument, but what you're passing to the method is not a Collection, it's an int:</p>\n\n<pre><code>Collections.max(container.differenceInDays())\n</code></pre>\n\n<p>with <code>differenceInDays()</code> being defined as</p>\n\n<pre><code>public int differenceInDays()\n</code></pre>\n\n<p>I assume that what you want is to find the <code>Container</code>, inside the set <code>containerList</code>, that has the greatest differenceInDays. So you need to call</p>\n\n<pre><code>Collections.max(containerList, comparatorComparingContainersByDifferenceInDays)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414942745,"creation_date":1414942745,"answer_id":26701058,"question_id":26700920,"body_markdown":"You are using \r\n\r\n    Collections.max(container.differenceInDays())\r\n\r\nWhere your max method takes collection as parameter.see this http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#max%28java.util.Collection%29\r\n\r\nSo if you make your Container implement Comparable and if you try\r\n\r\n    Container container = Collections.max(containerList);//without for loop\r\n\r\nContainer will hold max of all container. Or if Container is third party, i would sugges you creating a static class (or anonymous class) with compare method by implementing Comparator interface. something like\r\n\r\n    private class ContainerComparator implements Comparator&lt;Container&gt; {\r\n        public int compare(Container o1, Container o2) {\r\n            //here calculate diff of each and send difference between the two\r\n        }\r\n    }","title":"Find highest value with Collection.max() in HashSet","body":"<p>You are using </p>\n\n<pre><code>Collections.max(container.differenceInDays())\n</code></pre>\n\n<p>Where your max method takes collection as parameter.see this <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#max%28java.util.Collection%29\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#max%28java.util.Collection%29</a></p>\n\n<p>So if you make your Container implement Comparable and if you try</p>\n\n<pre><code>Container container = Collections.max(containerList);//without for loop\n</code></pre>\n\n<p>Container will hold max of all container. Or if Container is third party, i would sugges you creating a static class (or anonymous class) with compare method by implementing Comparator interface. something like</p>\n\n<pre><code>private class ContainerComparator implements Comparator&lt;Container&gt; {\n    public int compare(Container o1, Container o2) {\n        //here calculate diff of each and send difference between the two\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":386122,"reputation":4332,"user_id":743716,"accept_rate":40,"display_name":"Rafal G."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1414942800,"creation_date":1414942800,"answer_id":26701072,"question_id":26700920,"body_markdown":"In Java 8 you could do the following:\r\n\r\n    OptionalInt max = containerList.stream().mapToInt(Container::differenceInDays).max();\r\n","title":"Find highest value with Collection.max() in HashSet","body":"<p>In Java 8 you could do the following:</p>\n\n<pre><code>OptionalInt max = containerList.stream().mapToInt(Container::differenceInDays).max();\n</code></pre>\n"}],"owner":{"account_id":4541027,"reputation":161,"user_id":3688895,"accept_rate":27,"display_name":"SC92"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":989,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1653689473,"creation_date":1414941917,"question_id":26700920,"body_markdown":"This is coded in BlueJ!\r\n\r\nHi guys, I am trying to find a max value in a HashSet. I&#39;m trying to use the Collection.max method, but it&#39;s not working for me. I&#39;m getting an error: no suitable method found for max(int). The error is in my VerhuurderBedrijf class, the last method called getLongestRentPeriod.\r\n\r\nI have 2 classes, (it&#39;s dutch) VerhuurderBedrijf and Container.\r\nIn the Container class, I have a method called differenceInDays. Here it calculates the difference in days between the startDate and endDate (see fields in Container class). \r\n\r\nIn the VerhuurderBedrijf I am adding the Container objects in a HashSet. In my getLongestRentPeriod, I&#39;m trying to find the highest value calculated in my differenceInDays method(Container class).\r\n\r\nLets say I add 2 container objects in my VerhuurderBedrijf class.  \r\nContainer 1 - startDate = 10-10-2014; endDate = 15-10-2014;  \r\nContainer 2 - startDate = 10-10-2014; endDate = 20-10-2014;  \r\nAs I said, the difference in days is calculated in my differenceInDatys method (Container class)/\r\n\r\nSo with my getLongestRentPeriode(verhuurderbedrijf class) I am trying to get the highest value, that would be 11 days (Container 2);\r\n\r\nSorry if it&#39;s unclear. I am bad in explaining things.\r\n\r\nHere is the full code.\r\n\r\n**VerhuurderBedrijf class**\r\n\r\n```java\r\nimport java.util.*;\r\nimport java.text.DecimalFormat;\r\n    \r\npublic class VerhuurderBedrijf\r\n{\r\n    private HashSet&lt;Container&gt; containerList;\r\n    // Decimalen object\r\n    DecimalFormat df;\r\n    /**\r\n     * Constructor for objects of class VerhuurderBedrijf\r\n     */\r\n    public VerhuurderBedrijf()\r\n    {\r\n        containerList = new HashSet&lt;Container&gt;();\r\n        // Dit zorgt ervoor dat er 2 decimalen achter de komma komen\r\n        df = new DecimalFormat(&quot;0.00&quot;);\r\n    }\r\n    \r\n    public void addContainer(Container container)\r\n    {\r\n        // Voegt een container toe een de HashSet&lt;Container&gt;\r\n        containerList.add(container);\r\n    }\r\n        \r\n    public void gettotalIncome()\r\n    {\r\n        double total = 0;\r\n        for(Container container : containerList)\r\n        {\r\n            total += container.getIncome();\r\n        }\r\n        System.out.println(&quot;The total amount of income for the rented containers are:\\r\\n &quot; + (df.format(total)) + &quot; euros.\\r\\n&quot;);\r\n    }\r\n        \r\n    public void getAverageVolume()\r\n    {\r\n        double average = 0;\r\n        double calc = 0;\r\n        for(Container container : containerList)\r\n        {\r\n            average += container.getVolume();\r\n            calc = average / containerList.size();\r\n        }\r\n        System.out.println(&quot;The average volume of the rented container are:\\r\\n &quot; + (df.format(calc)) + &quot;.\\r\\n&quot;);\r\n    }\r\n        \r\n    public void getLongestRentPeriod()\r\n    {       \r\n        for(Container container : containerList)\r\n        {\r\n            System.out.println(&quot;max : &quot; + Collections.max(container.differenceInDays()));\r\n        }\r\n    }\r\n}  \r\n```\r\n\r\n**Container class**\r\n\r\n```java\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\n    \r\npublic class Container\r\n{\r\n    private int volume;\r\n    private String startDate;\r\n    private String endDate;\r\n    // Tijd object\r\n    SimpleDateFormat format;\r\n    \r\n    public Container(int volume, String startDate, String endDate)\r\n    {\r\n        this.volume = volume;\r\n        this.startDate = startDate;\r\n        this.endDate = endDate;\r\n        // Dit zet de datum om naar een ddmmjjjj formaat, zo is het mogelijk om bijv: 12102014 in te vullen\r\n        format = new SimpleDateFormat(&quot;ddMMyyyy&quot;);\r\n    }\r\n        \r\n    public int getCosts()\r\n    {\r\n        int cost1 = 60;\r\n        int cost2 = 125;\r\n        if(volume &lt;= 2)\r\n        {\r\n            // Als de volume kleiner of gelijk is aan 2, zijn de kosten voor de container 60 euro\r\n            return cost1;\r\n        }\r\n        else\r\n        {\r\n            // Anders zijn de kosten voor de container 125 euro\r\n            return cost2;\r\n        }\r\n    }\r\n        \r\n    public int differenceInDays()\r\n    {\r\n        int startDateCheck = Integer.parseInt(startDate);\r\n        int endDateCheck = Integer.parseInt(endDate);\r\n        if(startDateCheck &gt; endDateCheck)\r\n        {\r\n            // Als er een verkeerde invoer wordt gedaan\r\n            System.out.println(&quot;Your end date cannot be earlier than your start date&quot;);\r\n        }\r\n        else\r\n        {\r\n            // Try &amp; Catch omdat er een error ParseException komt, Date is een long in plaats van een String\r\n            try\r\n            {\r\n                String start = startDate;\r\n                String end = endDate;\r\n                    \r\n                Date day1 = format.parse(start);\r\n                Date day2 = format.parse(end);\r\n                    \r\n                long difference = day2.getTime() - day1.getTime();\r\n                /*\r\n                Verschil in de dagen die hierboven wordt uitgerekend, wordt hier omgezet naar de aantal\r\n                dagen. 24 = uren, 60 = minuten, 60 = seconden, 1000 = milliseconden\r\n                */\r\n                long differenceInDays = difference / (24 * 60 * 60 * 1000) + 1;\r\n                // Hier cast ik het naar een int, omdat het een public int methode is\r\n                int castToInt = (int) differenceInDays;     \r\n                return castToInt;\r\n            }\r\n            catch(Exception e)\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        return 0;\r\n    }\r\n        \r\n    public int getIncome()\r\n    {\r\n        int rent = 40;\r\n        // (Huur container * de ingevoerde volume) + (Huur container * verschil in de dagen)\r\n        int income = (rent * volume) + (rent * differenceInDays());\r\n        return income;\r\n    }\r\n        \r\n    public int getVolume()\r\n    {\r\n        return volume;\r\n    }\r\n}\r\n```\r\n\r\nI also tried this, but it&#39;s not working either. I am getting a value of 72, whats not the right number.\r\n\r\n```java\r\npublic void getLongestRentPeriod()\r\n{   \r\n    int temp = 0;\r\n    for(Container container : containerList)\r\n    {\r\n        if(temp &lt; container.differenceInDays())\r\n        {\r\n            temp = container.differenceInDays();\r\n        }\r\n        //System.out.println(&quot;max : &quot; + Collections.max(container.differenceInDays()));\r\n    }\r\n    System.out.println(&quot;max: &quot; + temp);        \r\n}\r\n```\r\n \r\nCould anyone give me some tips or suggestions for the solution? Thanks.","title":"Find highest value with Collection.max() in HashSet","body":"<p>This is coded in BlueJ!</p>\n<p>Hi guys, I am trying to find a max value in a HashSet. I'm trying to use the Collection.max method, but it's not working for me. I'm getting an error: no suitable method found for max(int). The error is in my VerhuurderBedrijf class, the last method called getLongestRentPeriod.</p>\n<p>I have 2 classes, (it's dutch) VerhuurderBedrijf and Container.\nIn the Container class, I have a method called differenceInDays. Here it calculates the difference in days between the startDate and endDate (see fields in Container class).</p>\n<p>In the VerhuurderBedrijf I am adding the Container objects in a HashSet. In my getLongestRentPeriod, I'm trying to find the highest value calculated in my differenceInDays method(Container class).</p>\n<p>Lets say I add 2 container objects in my VerhuurderBedrijf class.<br />\nContainer 1 - startDate = 10-10-2014; endDate = 15-10-2014;<br />\nContainer 2 - startDate = 10-10-2014; endDate = 20-10-2014;<br />\nAs I said, the difference in days is calculated in my differenceInDatys method (Container class)/</p>\n<p>So with my getLongestRentPeriode(verhuurderbedrijf class) I am trying to get the highest value, that would be 11 days (Container 2);</p>\n<p>Sorry if it's unclear. I am bad in explaining things.</p>\n<p>Here is the full code.</p>\n<p><strong>VerhuurderBedrijf class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.text.DecimalFormat;\n    \npublic class VerhuurderBedrijf\n{\n    private HashSet&lt;Container&gt; containerList;\n    // Decimalen object\n    DecimalFormat df;\n    /**\n     * Constructor for objects of class VerhuurderBedrijf\n     */\n    public VerhuurderBedrijf()\n    {\n        containerList = new HashSet&lt;Container&gt;();\n        // Dit zorgt ervoor dat er 2 decimalen achter de komma komen\n        df = new DecimalFormat(&quot;0.00&quot;);\n    }\n    \n    public void addContainer(Container container)\n    {\n        // Voegt een container toe een de HashSet&lt;Container&gt;\n        containerList.add(container);\n    }\n        \n    public void gettotalIncome()\n    {\n        double total = 0;\n        for(Container container : containerList)\n        {\n            total += container.getIncome();\n        }\n        System.out.println(&quot;The total amount of income for the rented containers are:\\r\\n &quot; + (df.format(total)) + &quot; euros.\\r\\n&quot;);\n    }\n        \n    public void getAverageVolume()\n    {\n        double average = 0;\n        double calc = 0;\n        for(Container container : containerList)\n        {\n            average += container.getVolume();\n            calc = average / containerList.size();\n        }\n        System.out.println(&quot;The average volume of the rented container are:\\r\\n &quot; + (df.format(calc)) + &quot;.\\r\\n&quot;);\n    }\n        \n    public void getLongestRentPeriod()\n    {       \n        for(Container container : containerList)\n        {\n            System.out.println(&quot;max : &quot; + Collections.max(container.differenceInDays()));\n        }\n    }\n}  \n</code></pre>\n<p><strong>Container class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.text.SimpleDateFormat;\nimport java.util.Date;\n    \npublic class Container\n{\n    private int volume;\n    private String startDate;\n    private String endDate;\n    // Tijd object\n    SimpleDateFormat format;\n    \n    public Container(int volume, String startDate, String endDate)\n    {\n        this.volume = volume;\n        this.startDate = startDate;\n        this.endDate = endDate;\n        // Dit zet de datum om naar een ddmmjjjj formaat, zo is het mogelijk om bijv: 12102014 in te vullen\n        format = new SimpleDateFormat(&quot;ddMMyyyy&quot;);\n    }\n        \n    public int getCosts()\n    {\n        int cost1 = 60;\n        int cost2 = 125;\n        if(volume &lt;= 2)\n        {\n            // Als de volume kleiner of gelijk is aan 2, zijn de kosten voor de container 60 euro\n            return cost1;\n        }\n        else\n        {\n            // Anders zijn de kosten voor de container 125 euro\n            return cost2;\n        }\n    }\n        \n    public int differenceInDays()\n    {\n        int startDateCheck = Integer.parseInt(startDate);\n        int endDateCheck = Integer.parseInt(endDate);\n        if(startDateCheck &gt; endDateCheck)\n        {\n            // Als er een verkeerde invoer wordt gedaan\n            System.out.println(&quot;Your end date cannot be earlier than your start date&quot;);\n        }\n        else\n        {\n            // Try &amp; Catch omdat er een error ParseException komt, Date is een long in plaats van een String\n            try\n            {\n                String start = startDate;\n                String end = endDate;\n                    \n                Date day1 = format.parse(start);\n                Date day2 = format.parse(end);\n                    \n                long difference = day2.getTime() - day1.getTime();\n                /*\n                Verschil in de dagen die hierboven wordt uitgerekend, wordt hier omgezet naar de aantal\n                dagen. 24 = uren, 60 = minuten, 60 = seconden, 1000 = milliseconden\n                */\n                long differenceInDays = difference / (24 * 60 * 60 * 1000) + 1;\n                // Hier cast ik het naar een int, omdat het een public int methode is\n                int castToInt = (int) differenceInDays;     \n                return castToInt;\n            }\n            catch(Exception e)\n            {\n                e.printStackTrace();\n            }\n        }\n        return 0;\n    }\n        \n    public int getIncome()\n    {\n        int rent = 40;\n        // (Huur container * de ingevoerde volume) + (Huur container * verschil in de dagen)\n        int income = (rent * volume) + (rent * differenceInDays());\n        return income;\n    }\n        \n    public int getVolume()\n    {\n        return volume;\n    }\n}\n</code></pre>\n<p>I also tried this, but it's not working either. I am getting a value of 72, whats not the right number.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void getLongestRentPeriod()\n{   \n    int temp = 0;\n    for(Container container : containerList)\n    {\n        if(temp &lt; container.differenceInDays())\n        {\n            temp = container.differenceInDays();\n        }\n        //System.out.println(&quot;max : &quot; + Collections.max(container.differenceInDays()));\n    }\n    System.out.println(&quot;max: &quot; + temp);        \n}\n</code></pre>\n<p>Could anyone give me some tips or suggestions for the solution? Thanks.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1653690661,"post_id":72411483,"comment_id":127920569,"body_markdown":"Is there a reason you aren&#39;t just [disabling user input](https://developer.android.com/reference/androidx/viewpager2/widget/ViewPager2#setUserInputEnabled(boolean)) when you don&#39;t want to allow the user to swipe through pages?","body":"Is there a reason you aren&#39;t just <a href=\"https://developer.android.com/reference/androidx/viewpager2/widget/ViewPager2#setUserInputEnabled(boolean)\" rel=\"nofollow noreferrer\">disabling user input</a> when you don&#39;t want to allow the user to swipe through pages?"},{"owner":{"account_id":16141690,"reputation":21,"user_id":11652626,"display_name":"Cris"},"score":0,"creation_date":1653731982,"post_id":72411483,"comment_id":127925819,"body_markdown":"@ianhanniballake I tried that but apparently the returned value for the mode is always NONE. I tried to check if the mode is ZOOM but I don&#39;t actually know how to constantly check the mode","body":"@ianhanniballake I tried that but apparently the returned value for the mode is always NONE. I tried to check if the mode is ZOOM but I don&#39;t actually know how to constantly check the mode"}],"owner":{"account_id":16141690,"reputation":21,"user_id":11652626,"display_name":"Cris"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653689220,"creation_date":1653689220,"question_id":72411483,"body_markdown":"I would like to know how can I make that when my image is zoomed the viewpager2 can&#39;t swipe to the next image.\r\n\r\nThe below code is my image class and it works like it should but when I simply place it in a viewpager2 and I zoom when I try to move the pic it swipes page.\r\n\r\nHow can I make so that if the mode is ZOOM the viewpager2 doesn&#39;t swipe? I would like to make so that when it reaches the image edge it can swipe but I&#39;m okay with the first part too.\r\n\r\n**No third-party libraries**\r\n\r\n```\r\nimport android.content.Context;\r\nimport android.graphics.Matrix;\r\nimport android.graphics.PointF;\r\nimport android.graphics.drawable.Drawable;\r\nimport android.util.AttributeSet;\r\nimport android.util.Log;\r\nimport android.view.MotionEvent;\r\nimport android.view.ScaleGestureDetector;\r\n\r\npublic class ZoomImageView extends androidx.appcompat.widget.AppCompatImageView {\r\n\r\n    // We can be in one of these 3 states\r\n    static final int NONE = 0;\r\n    static final int DRAG = 1;\r\n    static final int ZOOM = 2;\r\n    static final int CLICK = 3;\r\n    protected float origWidth, origHeight;\r\n    Matrix matrix;\r\n    public int mode = NONE;\r\n    // Remember some things for zooming\r\n    PointF last = new PointF();\r\n    PointF start = new PointF();\r\n    float minScale = 1f;\r\n    float maxScale = 3f;\r\n    float[] m;\r\n    int viewWidth, viewHeight;\r\n    float saveScale = 1f;\r\n    int oldMeasuredWidth, oldMeasuredHeight;\r\n\r\n    ScaleGestureDetector mScaleDetector;\r\n\r\n    Context context;\r\n\r\n    public ZoomImageView(Context context) {\r\n        super(context);\r\n        sharedConstructing(context);\r\n    }\r\n\r\n    public ZoomImageView(Context context, AttributeSet attrs) {\r\n        super(context, attrs);\r\n        sharedConstructing(context);\r\n    }\r\n\r\n    private void sharedConstructing(Context context) {\r\n        super.setClickable(true);\r\n        this.context = context;\r\n        mScaleDetector = new ScaleGestureDetector(context, new ScaleListener());\r\n        matrix = new Matrix();\r\n        m = new float[9];\r\n        setImageMatrix(matrix);\r\n        setScaleType(ScaleType.MATRIX);\r\n\r\n        setOnTouchListener((v, event) -&gt; {\r\n            mScaleDetector.onTouchEvent(event);\r\n            PointF curr = new PointF(event.getX(), event.getY());\r\n\r\n            switch (event.getAction()) {\r\n                case MotionEvent.ACTION_DOWN:\r\n                    last.set(curr);\r\n                    start.set(last);\r\n                    mode = DRAG;\r\n                    break;\r\n\r\n                case MotionEvent.ACTION_MOVE:\r\n                    if (mode == DRAG) {\r\n                        float deltaX = curr.x - last.x;\r\n                        float deltaY = curr.y - last.y;\r\n                        float fixTransX = getFixDragTrans(deltaX, viewWidth,\r\n                                origWidth * saveScale);\r\n                        float fixTransY = getFixDragTrans(deltaY, viewHeight,\r\n                                origHeight * saveScale);\r\n                        matrix.postTranslate(fixTransX, fixTransY);\r\n                        fixTrans();\r\n                        last.set(curr.x, curr.y);\r\n                    }\r\n                    break;\r\n\r\n                case MotionEvent.ACTION_UP:\r\n                    mode = NONE;\r\n                    int xDiff = (int) Math.abs(curr.x - start.x);\r\n                    int yDiff = (int) Math.abs(curr.y - start.y);\r\n                    if (xDiff &lt; CLICK &amp;&amp; yDiff &lt; CLICK)\r\n                        performClick();\r\n                    break;\r\n\r\n                case MotionEvent.ACTION_POINTER_UP:\r\n                    mode = NONE;\r\n                    break;\r\n            }\r\n\r\n            setImageMatrix(matrix);\r\n            invalidate();\r\n            return true; // indicate event was handled\r\n        });\r\n    }\r\n\r\n    public void setMaxZoom(float x) {\r\n        maxScale = x;\r\n    }\r\n\r\n    void fixTrans() {\r\n        matrix.getValues(m);\r\n        float transX = m[Matrix.MTRANS_X];\r\n        float transY = m[Matrix.MTRANS_Y];\r\n\r\n        float fixTransX = getFixTrans(transX, viewWidth, origWidth * saveScale);\r\n        float fixTransY = getFixTrans(transY, viewHeight, origHeight\r\n                * saveScale);\r\n\r\n        if (fixTransX != 0 || fixTransY != 0)\r\n            matrix.postTranslate(fixTransX, fixTransY);\r\n    }\r\n\r\n    float getFixTrans(float trans, float viewSize, float contentSize) {\r\n        float minTrans, maxTrans;\r\n\r\n        if (contentSize &lt;= viewSize) {\r\n            minTrans = 0;\r\n            maxTrans = viewSize - contentSize;\r\n        } else {\r\n            minTrans = viewSize - contentSize;\r\n            maxTrans = 0;\r\n        }\r\n\r\n        if (trans &lt; minTrans)\r\n            return -trans + minTrans;\r\n        if (trans &gt; maxTrans)\r\n            return -trans + maxTrans;\r\n        return 0;\r\n    }\r\n\r\n    float getFixDragTrans(float delta, float viewSize, float contentSize) {\r\n        if (contentSize &lt;= viewSize) {\r\n            return 0;\r\n        }\r\n        return delta;\r\n    }\r\n\r\n    @Override\r\n    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\r\n        super.onMeasure(widthMeasureSpec, heightMeasureSpec);\r\n        viewWidth = MeasureSpec.getSize(widthMeasureSpec);\r\n        viewHeight = MeasureSpec.getSize(heightMeasureSpec);\r\n\r\n        //\r\n        // Rescales image on rotation\r\n        //\r\n        if (oldMeasuredHeight == viewWidth &amp;&amp; oldMeasuredHeight == viewHeight\r\n                || viewWidth == 0 || viewHeight == 0)\r\n            return;\r\n        oldMeasuredHeight = viewHeight;\r\n        oldMeasuredWidth = viewWidth;\r\n\r\n        if (saveScale == 1) {\r\n            // Fit to screen.\r\n            float scale;\r\n\r\n            Drawable drawable = getDrawable();\r\n            if (drawable == null || drawable.getIntrinsicWidth() == 0\r\n                    || drawable.getIntrinsicHeight() == 0)\r\n                return;\r\n            int bmWidth = drawable.getIntrinsicWidth();\r\n            int bmHeight = drawable.getIntrinsicHeight();\r\n\r\n            Log.d(&quot;bmSize&quot;, &quot;bmWidth: &quot; + bmWidth + &quot; bmHeight : &quot; + bmHeight);\r\n\r\n            float scaleX = (float) viewWidth / (float) bmWidth;\r\n            float scaleY = (float) viewHeight / (float) bmHeight;\r\n            scale = Math.min(scaleX, scaleY);\r\n            matrix.setScale(scale, scale);\r\n\r\n            //Center the image\r\n            float redundantYSpace = (float) viewHeight - (scale * (float) bmHeight);\r\n            float redundantXSpace = (float) viewWidth - (scale * (float) bmWidth);\r\n            redundantYSpace /= (float) 2;\r\n            redundantXSpace /= (float) 2;\r\n\r\n            matrix.postTranslate(redundantXSpace, redundantYSpace);\r\n\r\n            origWidth = viewWidth - 2 * redundantXSpace;\r\n            origHeight = viewHeight - 2 * redundantYSpace;\r\n            setImageMatrix(matrix);\r\n        }\r\n        fixTrans();\r\n    }\r\n\r\n    private class ScaleListener extends\r\n            ScaleGestureDetector.SimpleOnScaleGestureListener {\r\n        @Override\r\n        public boolean onScaleBegin(ScaleGestureDetector detector) {\r\n            mode = ZOOM;\r\n            return true;\r\n        }\r\n\r\n        @Override\r\n        public boolean onScale(ScaleGestureDetector detector) {\r\n            float mScaleFactor = detector.getScaleFactor();\r\n            float origScale = saveScale;\r\n            saveScale *= mScaleFactor;\r\n            if (saveScale &gt; maxScale) {\r\n                saveScale = maxScale;\r\n                mScaleFactor = maxScale / origScale;\r\n            } else if (saveScale &lt; minScale) {\r\n                saveScale = minScale;\r\n                mScaleFactor = minScale / origScale;\r\n            }\r\n\r\n            if (origWidth * saveScale &lt;= viewWidth\r\n                    || origHeight * saveScale &lt;= viewHeight)\r\n                matrix.postScale(mScaleFactor, mScaleFactor, viewWidth / 2,\r\n                        viewHeight / 2);\r\n            else\r\n                matrix.postScale(mScaleFactor, mScaleFactor,\r\n                        detector.getFocusX(), detector.getFocusY());\r\n\r\n            fixTrans();\r\n            return true;\r\n        }\r\n    }\r\n}\r\n```","title":"How to make a viewpager2 not swipe when an image is zoomed","body":"<p>I would like to know how can I make that when my image is zoomed the viewpager2 can't swipe to the next image.</p>\n<p>The below code is my image class and it works like it should but when I simply place it in a viewpager2 and I zoom when I try to move the pic it swipes page.</p>\n<p>How can I make so that if the mode is ZOOM the viewpager2 doesn't swipe? I would like to make so that when it reaches the image edge it can swipe but I'm okay with the first part too.</p>\n<p><strong>No third-party libraries</strong></p>\n<pre><code>import android.content.Context;\nimport android.graphics.Matrix;\nimport android.graphics.PointF;\nimport android.graphics.drawable.Drawable;\nimport android.util.AttributeSet;\nimport android.util.Log;\nimport android.view.MotionEvent;\nimport android.view.ScaleGestureDetector;\n\npublic class ZoomImageView extends androidx.appcompat.widget.AppCompatImageView {\n\n    // We can be in one of these 3 states\n    static final int NONE = 0;\n    static final int DRAG = 1;\n    static final int ZOOM = 2;\n    static final int CLICK = 3;\n    protected float origWidth, origHeight;\n    Matrix matrix;\n    public int mode = NONE;\n    // Remember some things for zooming\n    PointF last = new PointF();\n    PointF start = new PointF();\n    float minScale = 1f;\n    float maxScale = 3f;\n    float[] m;\n    int viewWidth, viewHeight;\n    float saveScale = 1f;\n    int oldMeasuredWidth, oldMeasuredHeight;\n\n    ScaleGestureDetector mScaleDetector;\n\n    Context context;\n\n    public ZoomImageView(Context context) {\n        super(context);\n        sharedConstructing(context);\n    }\n\n    public ZoomImageView(Context context, AttributeSet attrs) {\n        super(context, attrs);\n        sharedConstructing(context);\n    }\n\n    private void sharedConstructing(Context context) {\n        super.setClickable(true);\n        this.context = context;\n        mScaleDetector = new ScaleGestureDetector(context, new ScaleListener());\n        matrix = new Matrix();\n        m = new float[9];\n        setImageMatrix(matrix);\n        setScaleType(ScaleType.MATRIX);\n\n        setOnTouchListener((v, event) -&gt; {\n            mScaleDetector.onTouchEvent(event);\n            PointF curr = new PointF(event.getX(), event.getY());\n\n            switch (event.getAction()) {\n                case MotionEvent.ACTION_DOWN:\n                    last.set(curr);\n                    start.set(last);\n                    mode = DRAG;\n                    break;\n\n                case MotionEvent.ACTION_MOVE:\n                    if (mode == DRAG) {\n                        float deltaX = curr.x - last.x;\n                        float deltaY = curr.y - last.y;\n                        float fixTransX = getFixDragTrans(deltaX, viewWidth,\n                                origWidth * saveScale);\n                        float fixTransY = getFixDragTrans(deltaY, viewHeight,\n                                origHeight * saveScale);\n                        matrix.postTranslate(fixTransX, fixTransY);\n                        fixTrans();\n                        last.set(curr.x, curr.y);\n                    }\n                    break;\n\n                case MotionEvent.ACTION_UP:\n                    mode = NONE;\n                    int xDiff = (int) Math.abs(curr.x - start.x);\n                    int yDiff = (int) Math.abs(curr.y - start.y);\n                    if (xDiff &lt; CLICK &amp;&amp; yDiff &lt; CLICK)\n                        performClick();\n                    break;\n\n                case MotionEvent.ACTION_POINTER_UP:\n                    mode = NONE;\n                    break;\n            }\n\n            setImageMatrix(matrix);\n            invalidate();\n            return true; // indicate event was handled\n        });\n    }\n\n    public void setMaxZoom(float x) {\n        maxScale = x;\n    }\n\n    void fixTrans() {\n        matrix.getValues(m);\n        float transX = m[Matrix.MTRANS_X];\n        float transY = m[Matrix.MTRANS_Y];\n\n        float fixTransX = getFixTrans(transX, viewWidth, origWidth * saveScale);\n        float fixTransY = getFixTrans(transY, viewHeight, origHeight\n                * saveScale);\n\n        if (fixTransX != 0 || fixTransY != 0)\n            matrix.postTranslate(fixTransX, fixTransY);\n    }\n\n    float getFixTrans(float trans, float viewSize, float contentSize) {\n        float minTrans, maxTrans;\n\n        if (contentSize &lt;= viewSize) {\n            minTrans = 0;\n            maxTrans = viewSize - contentSize;\n        } else {\n            minTrans = viewSize - contentSize;\n            maxTrans = 0;\n        }\n\n        if (trans &lt; minTrans)\n            return -trans + minTrans;\n        if (trans &gt; maxTrans)\n            return -trans + maxTrans;\n        return 0;\n    }\n\n    float getFixDragTrans(float delta, float viewSize, float contentSize) {\n        if (contentSize &lt;= viewSize) {\n            return 0;\n        }\n        return delta;\n    }\n\n    @Override\n    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\n        super.onMeasure(widthMeasureSpec, heightMeasureSpec);\n        viewWidth = MeasureSpec.getSize(widthMeasureSpec);\n        viewHeight = MeasureSpec.getSize(heightMeasureSpec);\n\n        //\n        // Rescales image on rotation\n        //\n        if (oldMeasuredHeight == viewWidth &amp;&amp; oldMeasuredHeight == viewHeight\n                || viewWidth == 0 || viewHeight == 0)\n            return;\n        oldMeasuredHeight = viewHeight;\n        oldMeasuredWidth = viewWidth;\n\n        if (saveScale == 1) {\n            // Fit to screen.\n            float scale;\n\n            Drawable drawable = getDrawable();\n            if (drawable == null || drawable.getIntrinsicWidth() == 0\n                    || drawable.getIntrinsicHeight() == 0)\n                return;\n            int bmWidth = drawable.getIntrinsicWidth();\n            int bmHeight = drawable.getIntrinsicHeight();\n\n            Log.d(&quot;bmSize&quot;, &quot;bmWidth: &quot; + bmWidth + &quot; bmHeight : &quot; + bmHeight);\n\n            float scaleX = (float) viewWidth / (float) bmWidth;\n            float scaleY = (float) viewHeight / (float) bmHeight;\n            scale = Math.min(scaleX, scaleY);\n            matrix.setScale(scale, scale);\n\n            //Center the image\n            float redundantYSpace = (float) viewHeight - (scale * (float) bmHeight);\n            float redundantXSpace = (float) viewWidth - (scale * (float) bmWidth);\n            redundantYSpace /= (float) 2;\n            redundantXSpace /= (float) 2;\n\n            matrix.postTranslate(redundantXSpace, redundantYSpace);\n\n            origWidth = viewWidth - 2 * redundantXSpace;\n            origHeight = viewHeight - 2 * redundantYSpace;\n            setImageMatrix(matrix);\n        }\n        fixTrans();\n    }\n\n    private class ScaleListener extends\n            ScaleGestureDetector.SimpleOnScaleGestureListener {\n        @Override\n        public boolean onScaleBegin(ScaleGestureDetector detector) {\n            mode = ZOOM;\n            return true;\n        }\n\n        @Override\n        public boolean onScale(ScaleGestureDetector detector) {\n            float mScaleFactor = detector.getScaleFactor();\n            float origScale = saveScale;\n            saveScale *= mScaleFactor;\n            if (saveScale &gt; maxScale) {\n                saveScale = maxScale;\n                mScaleFactor = maxScale / origScale;\n            } else if (saveScale &lt; minScale) {\n                saveScale = minScale;\n                mScaleFactor = minScale / origScale;\n            }\n\n            if (origWidth * saveScale &lt;= viewWidth\n                    || origHeight * saveScale &lt;= viewHeight)\n                matrix.postScale(mScaleFactor, mScaleFactor, viewWidth / 2,\n                        viewHeight / 2);\n            else\n                matrix.postScale(mScaleFactor, mScaleFactor,\n                        detector.getFocusX(), detector.getFocusY());\n\n            fixTrans();\n            return true;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","algorithm","backtracking","traveling-salesman"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1653664371,"post_id":72407066,"comment_id":127913173,"body_markdown":"Off the top of my head, I don&#39;t see how a classic backtracking algorithm saves different sequences either.  I guess you can&#39;t use backtracking.  That&#39;s why we have more than one algorithm for solving these things, there&#39;s no universally applicable &quot;it solves everything&quot; solution.","body":"Off the top of my head, I don&#39;t see how a classic backtracking algorithm saves different sequences either.  I guess you can&#39;t use backtracking.  That&#39;s why we have more than one algorithm for solving these things, there&#39;s no universally applicable &quot;it solves everything&quot; solution."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1653667828,"post_id":72407066,"comment_id":127914514,"body_markdown":"Could you provide the rest of your code related to the problem? For example, what `isSolution()` does ?","body":"Could you provide the rest of your code related to the problem? For example, what <code>isSolution()</code> does ?"},{"owner":{"account_id":24171855,"reputation":21,"user_id":19214856,"display_name":"Adri&#225;n"},"score":0,"creation_date":1653675346,"post_id":72407066,"comment_id":127916861,"body_markdown":"Thank you for the answers. I have upload that method. The idea is to store all cities in a structure as a array while we are doing backtracking process. So, if we add a city and it wasn&#39;t the better option the algorithm has to discard it (at the same time it is computing the cost of the path of the cycle). If you know some kind of implementation I would appreciate it very much.","body":"Thank you for the answers. I have upload that method. The idea is to store all cities in a structure as a array while we are doing backtracking process. So, if we add a city and it wasn&#39;t the better option the algorithm has to discard it (at the same time it is computing the cost of the path of the cycle). If you know some kind of implementation I would appreciate it very much."},{"owner":{"account_id":24171855,"reputation":21,"user_id":19214856,"display_name":"Adri&#225;n"},"score":0,"creation_date":1653676074,"post_id":72407066,"comment_id":127917060,"body_markdown":"Note: I know that the code I posted has bugs, I just want to pass on the idea to get some kind of implementation. If you know of a book related to the topic, I am open to suggestions.","body":"Note: I know that the code I posted has bugs, I just want to pass on the idea to get some kind of implementation. If you know of a book related to the topic, I am open to suggestions."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1653686759,"post_id":72407066,"comment_id":127919833,"body_markdown":"Try looking at [Applying the method for solving  Travelling Salesman problem based on backtracking algorithm to order picking](https://www.scirp.org/journal/paperinformation.aspx?paperid=67515)","body":"Try looking at <a href=\"https://www.scirp.org/journal/paperinformation.aspx?paperid=67515\" rel=\"nofollow noreferrer\">Applying the method for solving  Travelling Salesman problem based on backtracking algorithm to order picking</a>"},{"owner":{"account_id":24171855,"reputation":21,"user_id":19214856,"display_name":"Adri&#225;n"},"score":0,"creation_date":1653754598,"post_id":72407066,"comment_id":127930371,"body_markdown":"Finally, I managed to solve the problem, it was easier than I thought. Thank you very much.","body":"Finally, I managed to solve the problem, it was easier than I thought. Thank you very much."}],"owner":{"account_id":24171855,"reputation":21,"user_id":19214856,"display_name":"Adri&#225;n"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":703,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1653689217,"creation_date":1653662265,"question_id":72407066,"body_markdown":"I&#39;ve been trying to solve TSP using backtracking. \r\n\r\nThe question is that I have to print the sequence of  cities which form part of the cycle with minimum cost and its cost.\r\nI don&#39;t know how I could save that sequence. \r\n\r\nHere is an example of the code I&#39;m trying.\r\n\r\n    public void backTracking(int node, int k, int index) {\r\n\t\tint cost = 0;\r\n\t\t\r\n\t\twhile (!isSolution() &amp;&amp; hasMoreChild(node)) { \r\n\t\t\tsolution[index] = node;\r\n\t\t\tint nextChild = getNextChild(node);\r\n\t\t\tcost += matrixAdy[node][nextChild];\r\n\t\t\tbackTracking(nextChild, k + 1, index + 1);\r\n\t\t\tsolution[index] = -1;\r\n\t\t}\r\n\t}\r\n\r\n\r\n    public boolean isSolution() {\r\n\t\tint finalNode = solution[solution.length - 1];\r\n\t\tfor (int adyNode : matrixAdy[finalNode]) {\r\n\t\t\tif (adyNode == start) return true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}","title":"How to apply Backtracking in solving Travelling salesman problem?","body":"<p>I've been trying to solve TSP using backtracking.</p>\n<p>The question is that I have to print the sequence of  cities which form part of the cycle with minimum cost and its cost.\nI don't know how I could save that sequence.</p>\n<p>Here is an example of the code I'm trying.</p>\n<pre><code>public void backTracking(int node, int k, int index) {\n    int cost = 0;\n    \n    while (!isSolution() &amp;&amp; hasMoreChild(node)) { \n        solution[index] = node;\n        int nextChild = getNextChild(node);\n        cost += matrixAdy[node][nextChild];\n        backTracking(nextChild, k + 1, index + 1);\n        solution[index] = -1;\n    }\n}\n\n\npublic boolean isSolution() {\n    int finalNode = solution[solution.length - 1];\n    for (int adyNode : matrixAdy[finalNode]) {\n        if (adyNode == start) return true;\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc","linode"],"answers":[{"tags":[],"owner":{"account_id":4338279,"reputation":558,"user_id":3542239,"display_name":"Idan Elhalwani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653670036,"creation_date":1653662151,"answer_id":72407045,"question_id":72405475,"body_markdown":"You need to specify the Linode endpoint with `withEndpointConfiguration`\r\n\r\n```java\r\n@Bean\r\npublic AmazonS3 linodeClient() {\r\n    AWSCredentials credentials = new BasicAWSCredentials(accessKey, accessSecret);\r\n    return AmazonS3ClientBuilder\r\n            .standard()\r\n            .withEndpointConfiguration(new AwsClientBuilder.EndpointConfiguration(\r\n                    &quot;https://&quot; + region + &quot;.linodeobjects.com&quot;, region))\r\n            .withCredentials(new AWSStaticCredentialsProvider(credentials))\r\n            .build();\r\n}\r\n```\r\n","title":"How to Upload files and download files to LINODE object storage using Springboot?","body":"<p>You need to specify the Linode endpoint with <code>withEndpointConfiguration</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic AmazonS3 linodeClient() {\n    AWSCredentials credentials = new BasicAWSCredentials(accessKey, accessSecret);\n    return AmazonS3ClientBuilder\n            .standard()\n            .withEndpointConfiguration(new AwsClientBuilder.EndpointConfiguration(\n                    &quot;https://&quot; + region + &quot;.linodeobjects.com&quot;, region))\n            .withCredentials(new AWSStaticCredentialsProvider(credentials))\n            .build();\n}\n</code></pre>\n"}],"owner":{"account_id":25403175,"reputation":25,"user_id":19212312,"display_name":"Narashimhaa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":520,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72407045,"answer_count":1,"score":0,"last_activity_date":1653688616,"creation_date":1653654550,"question_id":72405475,"body_markdown":"I am using SpringBoot for development.\r\n\r\nI need to upload and download files from *Linode* Object storage (similar to *Amazon s3 bucket*). \r\n\r\nI didn&#39;t get any artifact dependency for development. I used Amazon S3 methods for development. But it ended up with an error saying Keys doesn&#39;t match s3.\r\n\r\nHere is the config code:\r\n\r\n```java\r\n@Configuration\r\npublic class WebSecurityConfig  {\r\n    @Value(&quot;${cloud.linode.credentials.access-key}&quot;)\r\n    private String accessKey;\r\n\r\n    @Value(&quot;${cloud.linode.credentials.secret-key}&quot;)\r\n    private String accessSecret;\r\n\r\n    @Value(&quot;${cloud.linode.region.static}&quot;)\r\n    private String region;\r\n\r\n    @Bean\r\n    public AmazonS3 linodeClient() {\r\n        AWSCredentials credentials = new BasicAWSCredentials(accessKey, accessSecret);\r\n        return AmazonS3ClientBuilder\r\n                .standard()\r\n                .withCredentials(new AWSStaticCredentialsProvider(credentials))\r\n                .withRegion(region)\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\nHow could I solve this? Need *Linode* methods.","title":"How to Upload files and download files to LINODE object storage using Springboot?","body":"<p>I am using SpringBoot for development.</p>\n<p>I need to upload and download files from <em>Linode</em> Object storage (similar to <em>Amazon s3 bucket</em>).</p>\n<p>I didn't get any artifact dependency for development. I used Amazon S3 methods for development. But it ended up with an error saying Keys doesn't match s3.</p>\n<p>Here is the config code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class WebSecurityConfig  {\n    @Value(&quot;${cloud.linode.credentials.access-key}&quot;)\n    private String accessKey;\n\n    @Value(&quot;${cloud.linode.credentials.secret-key}&quot;)\n    private String accessSecret;\n\n    @Value(&quot;${cloud.linode.region.static}&quot;)\n    private String region;\n\n    @Bean\n    public AmazonS3 linodeClient() {\n        AWSCredentials credentials = new BasicAWSCredentials(accessKey, accessSecret);\n        return AmazonS3ClientBuilder\n                .standard()\n                .withCredentials(new AWSStaticCredentialsProvider(credentials))\n                .withRegion(region)\n                .build();\n    }\n}\n</code></pre>\n<p>How could I solve this? Need <em>Linode</em> methods.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":2,"creation_date":1653661659,"post_id":72406943,"comment_id":127912069,"body_markdown":"If you want to return a value like &quot;A1&quot;, the return type must be `String`, not `int`.","body":"If you want to return a value like &quot;A1&quot;, the return type must be <code>String</code>, not <code>int</code>."}],"answers":[{"tags":[],"owner":{"account_id":11095946,"reputation":315,"user_id":8146089,"display_name":"Dennis LLopis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653677475,"creation_date":1653661821,"answer_id":72406987,"question_id":72406943,"body_markdown":"You&#39;ve declared a data type of String output and returning a string when the method is completed, but if you take a closer look at your method declaration, it is declaring that your method will return an int.\r\n\r\n- `public int getSeatNumber()` &lt;-- need to return an int type.\r\n- `public String getSeatNumber()` should work without throwing errors.","title":"Can&#39;t figure out how to return a string composed of two variables, a string and a integer?- repost, updated","body":"<p>You've declared a data type of String output and returning a string when the method is completed, but if you take a closer look at your method declaration, it is declaring that your method will return an int.</p>\n<ul>\n<li><code>public int getSeatNumber()</code> &lt;-- need to return an int type.</li>\n<li><code>public String getSeatNumber()</code> should work without throwing errors.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":21103765,"reputation":30,"user_id":15513188,"display_name":"NBG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653688402,"creation_date":1653662311,"answer_id":72407074,"question_id":72406943,"body_markdown":"Change your method to this:\r\n\r\n\r\n    public String getSeatNumber() {\r\n\r\n        String output = &quot;&quot; + seatLetter + String.valueOf(seatNumber);\r\n\r\n        return output; \r\n    }\r\n\r\nNotice how I changed the method return type to `String`.\r\n\r\nI advice you use `String.format` instead, as it will make your code cleaner (I didn&#39;t use it since I don&#39;t know the types of your values).\r\n","title":"Can&#39;t figure out how to return a string composed of two variables, a string and a integer?- repost, updated","body":"<p>Change your method to this:</p>\n<pre><code>public String getSeatNumber() {\n\n    String output = &quot;&quot; + seatLetter + String.valueOf(seatNumber);\n\n    return output; \n}\n</code></pre>\n<p>Notice how I changed the method return type to <code>String</code>.</p>\n<p>I advice you use <code>String.format</code> instead, as it will make your code cleaner (I didn't use it since I don't know the types of your values).</p>\n"}],"owner":{"account_id":25139050,"reputation":1,"user_id":18985547,"display_name":"Arkaiid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1653688402,"creation_date":1653661599,"question_id":72406943,"body_markdown":"This program is using a get/set method for both, but I just can&#39;t  figure out how!\r\n\r\nThanks to a helpful user recommending string.valueOf, I now have this\r\n\r\n```java\r\npublic int getSeatNumber() {\r\n    String output = &quot;&quot; + seatLetter + String.valueOf(seatNumber);\r\n    return output;\r\n}\r\n```\r\nbut it still has the same error, \r\n\r\n&gt; &quot;Incompatible types, string cannot be converted to an int&quot;.\r\n\r\nHere is the full object, although not all variables are set, as this is recycled code.\r\n\r\n```java\r\npublic class Ticket {\r\n\r\n    private int seatNumber, phoneNumber;\r\n    private double price;\r\n    private String seatLetter, name;\r\n\r\n    //default constructor\r\n    public Ticket() {\r\n        price = 300;\r\n        seatNumber = 1;\r\n        name = &quot;John Doe&quot;;\r\n        seatLetter = &quot;A&quot;;\r\n        \r\n    }\r\n    public double getPrice() {\r\n      return price;\r\n    }\r\n\r\n    public int getSeatNumber() {\r\n        String output = &quot;&quot; + seatLetter + String.valueOf(seatNumber);\r\n        return output;\r\n    }\r\n\r\n    public String getModel() {\r\n        return model;\r\n    }\r\n\r\n    public void setPrice(double _price) {\r\n        price = _price;\r\n    }\r\n\r\n    public void setSeatNumber(int _seatNumber) {\r\n        seatNumber = _seatNumber;\r\n    }\r\n\r\n    public void setSeatName(String _seatLetter) {\r\n        seatLetter = _seatLetter;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        String output = &quot;&quot;;\r\n        output += &quot;Model = &quot; + model + &quot;\\n&quot;;\r\n        output += &quot;Price = $&quot; + price + &quot;\\n&quot;;\r\n        output += &quot;Horsepower = &quot; + horsePower + &quot;HP&quot;;\r\n        return output;\r\n    }\r\n}\r\n```","title":"Can&#39;t figure out how to return a string composed of two variables, a string and a integer?- repost, updated","body":"<p>This program is using a get/set method for both, but I just can't  figure out how!</p>\n<p>Thanks to a helpful user recommending string.valueOf, I now have this</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int getSeatNumber() {\n    String output = &quot;&quot; + seatLetter + String.valueOf(seatNumber);\n    return output;\n}\n</code></pre>\n<p>but it still has the same error,</p>\n<blockquote>\n<p>&quot;Incompatible types, string cannot be converted to an int&quot;.</p>\n</blockquote>\n<p>Here is the full object, although not all variables are set, as this is recycled code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Ticket {\n\n    private int seatNumber, phoneNumber;\n    private double price;\n    private String seatLetter, name;\n\n    //default constructor\n    public Ticket() {\n        price = 300;\n        seatNumber = 1;\n        name = &quot;John Doe&quot;;\n        seatLetter = &quot;A&quot;;\n        \n    }\n    public double getPrice() {\n      return price;\n    }\n\n    public int getSeatNumber() {\n        String output = &quot;&quot; + seatLetter + String.valueOf(seatNumber);\n        return output;\n    }\n\n    public String getModel() {\n        return model;\n    }\n\n    public void setPrice(double _price) {\n        price = _price;\n    }\n\n    public void setSeatNumber(int _seatNumber) {\n        seatNumber = _seatNumber;\n    }\n\n    public void setSeatName(String _seatLetter) {\n        seatLetter = _seatLetter;\n    }\n\n    @Override\n    public String toString() {\n        String output = &quot;&quot;;\n        output += &quot;Model = &quot; + model + &quot;\\n&quot;;\n        output += &quot;Price = $&quot; + price + &quot;\\n&quot;;\n        output += &quot;Horsepower = &quot; + horsePower + &quot;HP&quot;;\n        return output;\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":18870213,"reputation":84,"user_id":13765021,"display_name":"Alex Verdaguer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653666597,"creation_date":1653607569,"answer_id":72399002,"question_id":72398575,"body_markdown":"# import the library\r\n\r\n    from selenium.webdriver.common.by import By\r\n    from selenium.webdriver.support.ui import WebDriverWait\r\n    from selenium.webdriver.support import expected_conditions as EC\r\n\r\n# set your timeout in seconds (30 , 5, 15 ...)\r\n\r\n    wait = WebDriverWait(driver,25)\r\n\r\n# select the item you want to wait for it to load\r\n\r\n    my_select = wait.until(EC.element_to_be_clickable((By.XPATH, &#39;//[@id=&quot;ui-tabpanel-3 label&quot;]/span&#39;)))\r\n    \r\n\r\n# select the item and click on it\r\n\r\n    my_select = driver.find_element_by_xpath(&#39;//[@id=&quot;ui-tabpanel-3 label&quot;]/span&#39;)\r\n    my_select.click()\r\n# if the normal click does not work, try the following way\r\n\r\n    driver.execute_script(&quot;arguments[0].click();&quot;, my_select)\r\n\r\n\r\n","title":"How can I handle element click intercepted in Selenium with Explicit Wait?","body":"<h1>import the library</h1>\n<pre><code>from selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\n</code></pre>\n<h1>set your timeout in seconds (30 , 5, 15 ...)</h1>\n<pre><code>wait = WebDriverWait(driver,25)\n</code></pre>\n<h1>select the item you want to wait for it to load</h1>\n<pre><code>my_select = wait.until(EC.element_to_be_clickable((By.XPATH, '//[@id=&quot;ui-tabpanel-3 label&quot;]/span')))\n</code></pre>\n<h1>select the item and click on it</h1>\n<pre><code>my_select = driver.find_element_by_xpath('//[@id=&quot;ui-tabpanel-3 label&quot;]/span')\nmy_select.click()\n</code></pre>\n<h1>if the normal click does not work, try the following way</h1>\n<pre><code>driver.execute_script(&quot;arguments[0].click();&quot;, my_select)\n</code></pre>\n"}],"owner":{"account_id":8938634,"reputation":21,"user_id":6668589,"display_name":"JackofallTrade"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":613,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653688338,"creation_date":1653603652,"question_id":72398575,"body_markdown":"After landing to a tab (1st line of code) the page is loading for a while, and it&#39;s not consistent. Sometimes it&#39;s `10`s, `30`s like that. If I put `Thread.sleep()` for a while, then all works fine if the page gets loaded with in that time.\r\n\r\nBut instead of `thread.sleep` if I want to use the explicit wait then every time I am getting an Exception in thread &quot;main&quot; \r\n\r\n    org.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element &lt;span class=&quot;ui-tabview-title&quot;&gt;...&lt;/span&gt; is not clickable at point (115, 124). Other element would receive the click: &lt;div _ngcontent-xnt-c0=&quot;&quot; class=&quot;ui-blockui ui-widget-overlay ng-star-inserted&quot; style=&quot;z-index: 99999&quot;&gt;...&lt;/div&gt;\r\n      (Session info: chrome=101.0.4951.41).\r\n\r\nI have tried `clickable`, `isDiplayed`, `isEnabled` methods to handle this as my requirement is to wait till page loading complete and then only click on web-element.\r\n\r\n    driver1.findElement(By.linkText(&quot;MANAGE CAPS&quot;)).click();\r\n    Thread.sleep(7000);\r\n    wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//*[@id=\\&quot;ui-tabpanel-3 label\\&quot;]/span&quot;)));\r\n    driver1.findElement(By.xpath(&quot;//*[@id=\\&quot;ui-tabpanel-3-label\\&quot;]/span&quot;)).click();","title":"How can I handle element click intercepted in Selenium with Explicit Wait?","body":"<p>After landing to a tab (1st line of code) the page is loading for a while, and it's not consistent. Sometimes it's <code>10</code>s, <code>30</code>s like that. If I put <code>Thread.sleep()</code> for a while, then all works fine if the page gets loaded with in that time.</p>\n<p>But instead of <code>thread.sleep</code> if I want to use the explicit wait then every time I am getting an Exception in thread &quot;main&quot;</p>\n<pre><code>org.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element &lt;span class=&quot;ui-tabview-title&quot;&gt;...&lt;/span&gt; is not clickable at point (115, 124). Other element would receive the click: &lt;div _ngcontent-xnt-c0=&quot;&quot; class=&quot;ui-blockui ui-widget-overlay ng-star-inserted&quot; style=&quot;z-index: 99999&quot;&gt;...&lt;/div&gt;\n  (Session info: chrome=101.0.4951.41).\n</code></pre>\n<p>I have tried <code>clickable</code>, <code>isDiplayed</code>, <code>isEnabled</code> methods to handle this as my requirement is to wait till page loading complete and then only click on web-element.</p>\n<pre><code>driver1.findElement(By.linkText(&quot;MANAGE CAPS&quot;)).click();\nThread.sleep(7000);\nwait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//*[@id=\\&quot;ui-tabpanel-3 label\\&quot;]/span&quot;)));\ndriver1.findElement(By.xpath(&quot;//*[@id=\\&quot;ui-tabpanel-3-label\\&quot;]/span&quot;)).click();\n</code></pre>\n"},{"tags":["java","xml","jdom"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1653660996,"post_id":72406653,"comment_id":127911790,"body_markdown":"Why would you want to explicitly not end a file with a newline?","body":"Why would you want to explicitly not end a file with a newline?"},{"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"score":1,"creation_date":1653665363,"post_id":72406653,"comment_id":127913545,"body_markdown":"1. Output the formatted XML to a string. 2. Call the ```.strip()``` method of the string. 3. Write the string to a file.","body":"1. Output the formatted XML to a string. 2. Call the <code>.strip()</code> method of the string. 3. Write the string to a file."}],"owner":{"account_id":25396246,"reputation":1,"user_id":19206462,"display_name":"Fabiola DIONDOU NANA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653688230,"creation_date":1653660326,"question_id":72406653,"body_markdown":"I used `getPrettyFormat()` in Jdom2 and it gives me a XML file as below.\r\n\r\n \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n       &lt;courses&gt;\r\n          &lt;name id=&quot;1&quot;&gt;CynO&lt;/name&gt;\r\n       &lt;/courses&gt;\r\n\r\nMy XML file generate 5 lines instead of 4. How to delete the fifth empty line?\r\n\r\nMy code:\r\n\r\n \r\n\r\n    XMLOutputter xml = new XMLOutputter();\r\n    xml.setFormat(Format.getPrettyFormat());\r\n    xml.output(doc, new FileWriter(fileName));\r\n\r\n\r\n \r\n\r\n","title":"Remove last empty line in XML generated by Jdom2","body":"<p>I used <code>getPrettyFormat()</code> in Jdom2 and it gives me a XML file as below.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n   &lt;courses&gt;\n      &lt;name id=&quot;1&quot;&gt;CynO&lt;/name&gt;\n   &lt;/courses&gt;\n</code></pre>\n<p>My XML file generate 5 lines instead of 4. How to delete the fifth empty line?</p>\n<p>My code:</p>\n<pre><code>XMLOutputter xml = new XMLOutputter();\nxml.setFormat(Format.getPrettyFormat());\nxml.output(doc, new FileWriter(fileName));\n</code></pre>\n"},{"tags":["java"],"owner":{"account_id":25399218,"reputation":59,"user_id":19209006,"display_name":"MachoMan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653688223,"creation_date":1653688223,"question_id":72411383,"body_markdown":"Using the Eclipse IDE, I am trying to develop components of an application, so it may be deployed on various operating platforms.\r\nMy main goal is to get a login interface to render on the server side. I have added the config.yml file in my project, and now I am getting a runtime error that says: \r\n\r\n    INFO  [2022-05-27 21:02:54,981] \r\n    io.dropwizard.core.server.DefaultServerFactory: Registering \r\n    jersey handler with root path prefix: /\r\n    java.lang.ClassCastException: class \r\n    org.hibernate.validator.internal.engine.ValidatorImpl cannot be \r\n    cast to class javax.validation.Validator \r\n    (org.hibernate.validator.internal.engine.ValidatorImpl and \r\n    javax.validation.Validator are in unnamed module of loader &#39;app&#39;)\r\n    INFO  [2022-05-27 21:02:54,983] \r\n    io.dropwizard.core.server.DefaultServerFactory: Registering admin \r\n    handler with root path prefix: /\r\n    INFO  [2022-05-27 21:02:54,983] \r\n    com.dropwizard.gameauth2.GameAuthApplication: Registering REST \r\n    resources\r\n\tat com.dropwizard.gameauth2.GameAuthApplication.run(GameAuthApplication.java:41)\r\n\tat io.dropwizard.core.cli.EnvironmentCommand.run(EnvironmentCommand.java:67)\r\n\tat io.dropwizard.core.cli.ConfiguredCommand.run(ConfiguredCommand.java:98)\r\n\tat io.dropwizard.core.cli.Cli.run(Cli.java:78)\r\n\tat io.dropwizard.core.Application.run(Application.java:94)\r\n\tat com.dropwizard.gameauth2.GameAuthApplication.main(GameAuthApplication.java:63)\r\n\r\n\r\nHere is my my GameAuthApplication file:\r\n\r\n    package com.dropwizard.gameauth2;\r\n\r\n    import javax.validation.Validator;\r\n    import javax.ws.rs.client.Client;\r\n\r\n    import org.glassfish.jersey.client.JerseyClientBuilder;\r\n    import org.glassfish.jersey.server.filter.RolesAllowedDynamicFeature;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n\r\n    import com.dropwizard.gameauth2.auth.GameAuthenticator;\r\n    import com.dropwizard.gameauth2.auth.GameAuthorizer;\r\n    import com.dropwizard.gameauth2.auth.GameUser;\r\n    import com.dropwizard.gameauth2.controllers.GameUserRESTController;\r\n    import com.dropwizard.gameauth2.controllers.RESTClientController;\r\n    import com.dropwizard.gameauth2.healthcheck.AppHealthCheck;\r\n    import com.dropwizard.gameauth2.healthcheck.HealthCheckController;\r\n\r\n    import io.dropwizard.auth.AuthDynamicFeature;\r\n    import io.dropwizard.auth.AuthValueFactoryProvider;\r\n    import io.dropwizard.auth.basic.BasicCredentialAuthFilter;\r\n    import io.dropwizard.core.Application;\r\n    import io.dropwizard.core.Configuration;\r\n    import io.dropwizard.core.setup.Bootstrap;\r\n    import io.dropwizard.core.setup.Environment;\r\n\r\n    public class GameAuthApplication extends Application&lt;Configuration&gt; {\r\n\t    private static final Logger LOGGER = LoggerFactory.getLogger(GameAuthApplication.class);\r\n\r\n\t@Override\r\n\tpublic void initialize(Bootstrap&lt;Configuration&gt; b) {\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run(Configuration c, Environment e) throws Exception \r\n\t{\r\n\t\t\r\n\t\tLOGGER.info(&quot;Registering REST resources&quot;);\r\n \r\n\t\t// FIXME: register GameUserRESTController (based on BasicAuth Security Example)\r\n\t\te.jersey().register(new GameUserRESTController((Validator) e.getValidator()));\r\n\t\t// FIXME: Create io.dropwizard.client.JerseyClientBuilder instance and give it io.dropwizard.setup.Environment reference (based on BasicAuth Security Example)\r\n\t\tfinal Client client = (Client) new JerseyClientBuilder().build();\r\n\t\te.jersey().register(new RESTClientController(client));\r\n\r\n\t\t// Application health check\r\n\t\te.healthChecks().register(&quot;APIHealthCheck&quot;, new AppHealthCheck(client));\r\n\r\n\t\t// Run multiple health checks\r\n\t\te.jersey().register(new HealthCheckController(e.healthChecks()));\r\n\t\t\r\n\t\t//Setup Basic Security\r\n\t\te.jersey().register(new AuthDynamicFeature(new \r\n    BasicCredentialAuthFilter.Builder&lt;GameUser&gt;()\r\n                .setAuthenticator(new GameAuthenticator())\r\n                .setAuthorizer(new GameAuthorizer())\r\n                .setRealm(&quot;App Security&quot;)\r\n                .buildAuthFilter()));\r\n        e.jersey().register(new AuthValueFactoryProvider.Binder&lt;&gt;(GameUser.class));\r\n        e.jersey().register(RolesAllowedDynamicFeature.class);\r\n\t}\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tnew GameAuthApplication().run(args);\r\n\t}\r\n\r\nIs there something in my GameAuthApplication file that I need to change?","title":"class org.hibernate.validator.internal.engine.ValidatorImpl cannot be cast to class javax.validation.Validator","body":"<p>Using the Eclipse IDE, I am trying to develop components of an application, so it may be deployed on various operating platforms.\nMy main goal is to get a login interface to render on the server side. I have added the config.yml file in my project, and now I am getting a runtime error that says:</p>\n<pre><code>INFO  [2022-05-27 21:02:54,981] \nio.dropwizard.core.server.DefaultServerFactory: Registering \njersey handler with root path prefix: /\njava.lang.ClassCastException: class \norg.hibernate.validator.internal.engine.ValidatorImpl cannot be \ncast to class javax.validation.Validator \n(org.hibernate.validator.internal.engine.ValidatorImpl and \njavax.validation.Validator are in unnamed module of loader 'app')\nINFO  [2022-05-27 21:02:54,983] \nio.dropwizard.core.server.DefaultServerFactory: Registering admin \nhandler with root path prefix: /\nINFO  [2022-05-27 21:02:54,983] \ncom.dropwizard.gameauth2.GameAuthApplication: Registering REST \nresources\nat com.dropwizard.gameauth2.GameAuthApplication.run(GameAuthApplication.java:41)\nat io.dropwizard.core.cli.EnvironmentCommand.run(EnvironmentCommand.java:67)\nat io.dropwizard.core.cli.ConfiguredCommand.run(ConfiguredCommand.java:98)\nat io.dropwizard.core.cli.Cli.run(Cli.java:78)\nat io.dropwizard.core.Application.run(Application.java:94)\nat com.dropwizard.gameauth2.GameAuthApplication.main(GameAuthApplication.java:63)\n</code></pre>\n<p>Here is my my GameAuthApplication file:</p>\n<pre><code>package com.dropwizard.gameauth2;\n\nimport javax.validation.Validator;\nimport javax.ws.rs.client.Client;\n\nimport org.glassfish.jersey.client.JerseyClientBuilder;\nimport org.glassfish.jersey.server.filter.RolesAllowedDynamicFeature;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport com.dropwizard.gameauth2.auth.GameAuthenticator;\nimport com.dropwizard.gameauth2.auth.GameAuthorizer;\nimport com.dropwizard.gameauth2.auth.GameUser;\nimport com.dropwizard.gameauth2.controllers.GameUserRESTController;\nimport com.dropwizard.gameauth2.controllers.RESTClientController;\nimport com.dropwizard.gameauth2.healthcheck.AppHealthCheck;\nimport com.dropwizard.gameauth2.healthcheck.HealthCheckController;\n\nimport io.dropwizard.auth.AuthDynamicFeature;\nimport io.dropwizard.auth.AuthValueFactoryProvider;\nimport io.dropwizard.auth.basic.BasicCredentialAuthFilter;\nimport io.dropwizard.core.Application;\nimport io.dropwizard.core.Configuration;\nimport io.dropwizard.core.setup.Bootstrap;\nimport io.dropwizard.core.setup.Environment;\n\npublic class GameAuthApplication extends Application&lt;Configuration&gt; {\n    private static final Logger LOGGER = LoggerFactory.getLogger(GameAuthApplication.class);\n\n@Override\npublic void initialize(Bootstrap&lt;Configuration&gt; b) {\n}\n\n@Override\npublic void run(Configuration c, Environment e) throws Exception \n{\n    \n    LOGGER.info(&quot;Registering REST resources&quot;);\n\n    // FIXME: register GameUserRESTController (based on BasicAuth Security Example)\n    e.jersey().register(new GameUserRESTController((Validator) e.getValidator()));\n    // FIXME: Create io.dropwizard.client.JerseyClientBuilder instance and give it io.dropwizard.setup.Environment reference (based on BasicAuth Security Example)\n    final Client client = (Client) new JerseyClientBuilder().build();\n    e.jersey().register(new RESTClientController(client));\n\n    // Application health check\n    e.healthChecks().register(&quot;APIHealthCheck&quot;, new AppHealthCheck(client));\n\n    // Run multiple health checks\n    e.jersey().register(new HealthCheckController(e.healthChecks()));\n    \n    //Setup Basic Security\n    e.jersey().register(new AuthDynamicFeature(new \nBasicCredentialAuthFilter.Builder&lt;GameUser&gt;()\n            .setAuthenticator(new GameAuthenticator())\n            .setAuthorizer(new GameAuthorizer())\n            .setRealm(&quot;App Security&quot;)\n            .buildAuthFilter()));\n    e.jersey().register(new AuthValueFactoryProvider.Binder&lt;&gt;(GameUser.class));\n    e.jersey().register(RolesAllowedDynamicFeature.class);\n}\n\npublic static void main(String[] args) throws Exception {\n    new GameAuthApplication().run(args);\n}\n</code></pre>\n<p>Is there something in my GameAuthApplication file that I need to change?</p>\n"},{"tags":["java","integer","overflow","math","binary-search"],"answers":[{"tags":[],"owner":{"account_id":115911,"reputation":7995,"user_id":304138,"accept_rate":88,"display_name":"Mormegil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1296408576,"creation_date":1296408576,"answer_id":4844340,"question_id":4844165,"body_markdown":"Note that none of your ideas works for `low=-MAX_INT-1, high=MAX_INT`. The best I could come with is something like `low/2 + high/2 + ((low &amp;&#160;1) + (high &amp; 1))/2`.","title":"Safe integer middle value formula","body":"<p>Note that none of your ideas works for <code>low=-MAX_INT-1, high=MAX_INT</code>. The best I could come with is something like <code>low/2 + high/2 + ((low &amp; 1) + (high &amp; 1))/2</code>.</p>\n"},{"tags":[],"owner":{"account_id":104943,"reputation":14856,"user_id":280314,"accept_rate":86,"display_name":"Peter G."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1296408936,"creation_date":1296408936,"answer_id":4844374,"question_id":4844165,"body_markdown":"    int half_low = low/2;\r\n    int lsb_low = low - 2*half_low;\r\n    int half_high = high/2;\r\n    int lsb_high = high - 2*half_high;\r\n    int mean = half_low + half_high + (lsb_low + lsb_high)/2;","title":"Safe integer middle value formula","body":"<pre><code>int half_low = low/2;\nint lsb_low = low - 2*half_low;\nint half_high = high/2;\nint lsb_high = high - 2*half_high;\nint mean = half_low + half_high + (lsb_low + lsb_high)/2;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":209311,"reputation":5389,"user_id":460258,"display_name":"Jander"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1653688175,"creation_date":1296412180,"answer_id":4844672,"question_id":4844165,"body_markdown":"From http://aggregate.org/MAGIC/#Average%20of%20Integers:\r\n\r\n    (low &amp; high) + ((low ^ high) / 2)\r\n\r\nis an overflow-proof average of two unsigned integers.\r\n\r\nNow, this trick only works on unsigned integers.  But because `((a+x) + (b+x))/2 = (a+b)/2 + x`, you can fudge it as follows, if you have unsigned integers with the same bit size as your signed integers:\r\n\r\n    unsigned int u_low  = low + MAX_INT + 1;\r\n    unsigned int u_high = high + MAX_INT + 1;\r\n    unsigned int u_avg  = (u_low &amp; u_high) + (u_low ^ u_high)/2;\r\n    int avg = u_avg - MAX_INT - 1;\r\n\r\n----\r\n**UPDATE**: On further thought, this will work even if you don&#39;t have signed integers.  Signed and unsigned integers are equivalent over addition, subtraction, and bitwise operations.  So all we need to worry about is making sure that divide acts like an unsigned divide, which we can do by using a shift and masking out the uppermost bit.\r\n\r\n    low += MAX_INT + 1;\r\n    high += MAX_INT + 1;\r\n    avg = (low &amp; high) + (((low ^ high) &gt;&gt; 1) &amp; MAX_INT);\r\n    avg -= MAX_INT + 1;\r\n\r\n(Note that if you&#39;re using Java, you can use an unsigned shift, `... &gt;&gt;&gt; 1`, instead of `(... &gt;&gt; 1) &amp; MAX_INT`.)\r\n\r\n**HOWEVER,** there&#39;s an alternative I stumbled upon that&#39;s even simpler, and I haven&#39;t yet figured out how it works.  There&#39;s no need to adjust the numbers by MAX_INT or use unsigned variables or anything.  It&#39;s simply:\r\n\r\n    avg = (low &amp; high) + ((low ^ high) &gt;&gt; 1);\r\n\r\nTested with all combinations of 16-bit signed integers `low` and `high` in the range -32768..32767, but not yet proven outright (by me anyway).","title":"Safe integer middle value formula","body":"<p>From <a href=\"http://aggregate.org/MAGIC/#Average%20of%20Integers\" rel=\"nofollow noreferrer\">http://aggregate.org/MAGIC/#Average%20of%20Integers</a>:</p>\n<pre><code>(low &amp; high) + ((low ^ high) / 2)\n</code></pre>\n<p>is an overflow-proof average of two unsigned integers.</p>\n<p>Now, this trick only works on unsigned integers.  But because <code>((a+x) + (b+x))/2 = (a+b)/2 + x</code>, you can fudge it as follows, if you have unsigned integers with the same bit size as your signed integers:</p>\n<pre><code>unsigned int u_low  = low + MAX_INT + 1;\nunsigned int u_high = high + MAX_INT + 1;\nunsigned int u_avg  = (u_low &amp; u_high) + (u_low ^ u_high)/2;\nint avg = u_avg - MAX_INT - 1;\n</code></pre>\n<hr />\n<p><strong>UPDATE</strong>: On further thought, this will work even if you don't have signed integers.  Signed and unsigned integers are equivalent over addition, subtraction, and bitwise operations.  So all we need to worry about is making sure that divide acts like an unsigned divide, which we can do by using a shift and masking out the uppermost bit.</p>\n<pre><code>low += MAX_INT + 1;\nhigh += MAX_INT + 1;\navg = (low &amp; high) + (((low ^ high) &gt;&gt; 1) &amp; MAX_INT);\navg -= MAX_INT + 1;\n</code></pre>\n<p>(Note that if you're using Java, you can use an unsigned shift, <code>... &gt;&gt;&gt; 1</code>, instead of <code>(... &gt;&gt; 1) &amp; MAX_INT</code>.)</p>\n<p><strong>HOWEVER,</strong> there's an alternative I stumbled upon that's even simpler, and I haven't yet figured out how it works.  There's no need to adjust the numbers by MAX_INT or use unsigned variables or anything.  It's simply:</p>\n<pre><code>avg = (low &amp; high) + ((low ^ high) &gt;&gt; 1);\n</code></pre>\n<p>Tested with all combinations of 16-bit signed integers <code>low</code> and <code>high</code> in the range -32768..32767, but not yet proven outright (by me anyway).</p>\n"},{"tags":[],"owner":{"account_id":311784,"reputation":11,"user_id":625548,"display_name":"Lorenzo Castelli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1298229152,"creation_date":1298229152,"answer_id":5059336,"question_id":4844165,"body_markdown":"Assuming &lt;code&gt;high &gt;= low&lt;/code&gt;, a variant of your initial approach should also work, that is:\r\n\r\n    low + ((high - low) &gt;&gt;&gt; 1)\r\n\r\nwhere &lt;code&gt;&gt;&gt;&gt;&lt;/code&gt; is an unsigned shift (as in Java).\r\n\r\nThe idea is that &lt;code&gt;high - low&lt;/code&gt; never overflows if the result is interpreted as an unsigned integer, so the unsigned shift correctly performs division by 2 and the formula computes the middle value.","title":"Safe integer middle value formula","body":"<p>Assuming <code>high >= low</code>, a variant of your initial approach should also work, that is:</p>\n\n<pre><code>low + ((high - low) &gt;&gt;&gt; 1)\n</code></pre>\n\n<p>where <code>>>></code> is an unsigned shift (as in Java).</p>\n\n<p>The idea is that <code>high - low</code> never overflows if the result is interpreted as an unsigned integer, so the unsigned shift correctly performs division by 2 and the formula computes the middle value.</p>\n"}],"owner":{"account_id":169578,"reputation":5972,"user_id":395744,"accept_rate":61,"display_name":"eold"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4334,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":4844672,"answer_count":4,"score":9,"last_activity_date":1653688175,"creation_date":1296406940,"question_id":4844165,"body_markdown":"I am looking for an efficient formula working in Java which calculates the following expression:\r\n\r\n    (low + high) / 2\r\nwhich is used for binary search.\r\nSo far, I have been using &quot;low + (high - low) / 2&quot; and &quot;high - (high - low) / 2&quot;\r\nto avoid overflow and underflows in some cases, but not both.\r\nNow I am looking for an efficient way to do this, which would for for any integer (assuming integers range from -MAX_INT - 1 to MAX_INT).\r\n\r\n**UPDATE**:\r\nCombining the answers from Jander and Peter G. and experimenting a while I got the following formulas for middle value element and its immediate neighbors:\r\n\r\nLowest-midpoint (equal to `floor((low + high)/2)`, e.g. [2 3] -&gt; 2, [2 4] -&gt; 3, [-3 -2] -&gt; -3)\r\n\r\n    mid = (low &amp; high) + ((low ^ high) &gt;&gt; 1);\r\n\r\nHighest-midpoint (equal to `ceil((low + high)/2)`, e.g. [2 3] -&gt; 3, [2 4] -&gt; 3, [-3 -2] -&gt; -2)\r\n\r\n    low++;\r\n    mid = (low &amp; high) + ((low ^ high) &gt;&gt; 1);\r\nBefore-midpoint (equal to `floor((low + high - 1)/2))`, e.g. [2 3] -&gt; 2, [2 4] -&gt; 2, [-7 -3] -&gt; -6)\r\n\r\n    high--;\r\n    mid = (low &amp; high) + ((low ^ high) &gt;&gt; 1);\r\n\r\nAfter-midpoint (equal to `ceil((low + high + 1)/2))`, e.g. [2 3] -&gt; 3, [2 4] -&gt; 4, [-7 -3] -&gt; -4)\r\n\r\n    mid = (low &amp; high) + ((low ^ high) &gt;&gt; 1) + 1;\r\n\r\nOr, without bitwise and (&amp;) and or (|), slightly slower code (`x &gt;&gt; 1` can be replaced with `floor(x / 2)` to obtain bitwise operator free formulas):\r\n\r\nLeftmost-midpoint\r\n\r\n    halfLow = (low &gt;&gt; 1), halfHigh = (high &gt;&gt; 1);\r\n    mid = halfLow + halfHigh + ((low-2*halfLow + high-2*halfHigh) &gt;&gt; 1);\r\nRightmost-midpoint\r\n\r\n    low++\r\n    halfLow = (low &gt;&gt; 1), halfHigh = (high &gt;&gt; 1);\r\n    mid = halfLow + halfHigh + ((low-2*halfLow + high-2*halfHigh) &gt;&gt; 1);\r\nBefore-midpoint\r\n\r\n    high--;\r\n    halfLow = (low &gt;&gt; 1), halfHigh = (high &gt;&gt; 1);\r\n    mid = halfLow + halfHigh + ((low-2*halfLow + high-2*halfHigh) &gt;&gt; 1);\r\nAfter-midpoint\r\n\r\n    halfLow = (low &gt;&gt; 1), halfHigh = (high &gt;&gt; 1);\r\n    mid = halfLow + halfHigh + ((low-2*halfLow + high-2*halfHigh) &gt;&gt; 1) + 1;\r\n\r\n**Note**: the above `&gt;&gt;` operator is considered to be signed shift.","title":"Safe integer middle value formula","body":"<p>I am looking for an efficient formula working in Java which calculates the following expression:</p>\n\n<pre><code>(low + high) / 2\n</code></pre>\n\n<p>which is used for binary search.\nSo far, I have been using \"low + (high - low) / 2\" and \"high - (high - low) / 2\"\nto avoid overflow and underflows in some cases, but not both.\nNow I am looking for an efficient way to do this, which would for for any integer (assuming integers range from -MAX_INT - 1 to MAX_INT).</p>\n\n<p><strong>UPDATE</strong>:\nCombining the answers from Jander and Peter G. and experimenting a while I got the following formulas for middle value element and its immediate neighbors:</p>\n\n<p>Lowest-midpoint (equal to <code>floor((low + high)/2)</code>, e.g. [2 3] -> 2, [2 4] -> 3, [-3 -2] -> -3)</p>\n\n<pre><code>mid = (low &amp; high) + ((low ^ high) &gt;&gt; 1);\n</code></pre>\n\n<p>Highest-midpoint (equal to <code>ceil((low + high)/2)</code>, e.g. [2 3] -> 3, [2 4] -> 3, [-3 -2] -> -2)</p>\n\n<pre><code>low++;\nmid = (low &amp; high) + ((low ^ high) &gt;&gt; 1);\n</code></pre>\n\n<p>Before-midpoint (equal to <code>floor((low + high - 1)/2))</code>, e.g. [2 3] -> 2, [2 4] -> 2, [-7 -3] -> -6)</p>\n\n<pre><code>high--;\nmid = (low &amp; high) + ((low ^ high) &gt;&gt; 1);\n</code></pre>\n\n<p>After-midpoint (equal to <code>ceil((low + high + 1)/2))</code>, e.g. [2 3] -> 3, [2 4] -> 4, [-7 -3] -> -4)</p>\n\n<pre><code>mid = (low &amp; high) + ((low ^ high) &gt;&gt; 1) + 1;\n</code></pre>\n\n<p>Or, without bitwise and (&amp;) and or (|), slightly slower code (<code>x &gt;&gt; 1</code> can be replaced with <code>floor(x / 2)</code> to obtain bitwise operator free formulas):</p>\n\n<p>Leftmost-midpoint</p>\n\n<pre><code>halfLow = (low &gt;&gt; 1), halfHigh = (high &gt;&gt; 1);\nmid = halfLow + halfHigh + ((low-2*halfLow + high-2*halfHigh) &gt;&gt; 1);\n</code></pre>\n\n<p>Rightmost-midpoint</p>\n\n<pre><code>low++\nhalfLow = (low &gt;&gt; 1), halfHigh = (high &gt;&gt; 1);\nmid = halfLow + halfHigh + ((low-2*halfLow + high-2*halfHigh) &gt;&gt; 1);\n</code></pre>\n\n<p>Before-midpoint</p>\n\n<pre><code>high--;\nhalfLow = (low &gt;&gt; 1), halfHigh = (high &gt;&gt; 1);\nmid = halfLow + halfHigh + ((low-2*halfLow + high-2*halfHigh) &gt;&gt; 1);\n</code></pre>\n\n<p>After-midpoint</p>\n\n<pre><code>halfLow = (low &gt;&gt; 1), halfHigh = (high &gt;&gt; 1);\nmid = halfLow + halfHigh + ((low-2*halfLow + high-2*halfHigh) &gt;&gt; 1) + 1;\n</code></pre>\n\n<p><strong>Note</strong>: the above <code>&gt;&gt;</code> operator is considered to be signed shift.</p>\n"},{"tags":["java","digital-signature","itext7"],"answers":[{"tags":[],"owner":{"account_id":8178327,"reputation":1669,"user_id":6156384,"display_name":"Samuel Huylebroeck"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1498217877,"creation_date":1498217877,"answer_id":44720542,"question_id":44720054,"body_markdown":"Your signature code is not opening the PDF in append mode, and hence will change the contents when signing the second time, breaking the first signature.\r\n\r\nTo sign in append mode, simply change the following line\r\n\r\n    PdfSigner signer = new PdfSigner(reader, new FileOutputStream(dest), false);\r\n\r\nto\r\n\r\n    PdfSigner signer = new PdfSigner(reader, new FileOutputStream(dest), true);\r\n\r\nThe third argument in the constructor determines whether the signer is used in append mode.","title":"iText7 PDF with multiple signatures","body":"<p>Your signature code is not opening the PDF in append mode, and hence will change the contents when signing the second time, breaking the first signature.</p>\n\n<p>To sign in append mode, simply change the following line</p>\n\n<pre><code>PdfSigner signer = new PdfSigner(reader, new FileOutputStream(dest), false);\n</code></pre>\n\n<p>to</p>\n\n<pre><code>PdfSigner signer = new PdfSigner(reader, new FileOutputStream(dest), true);\n</code></pre>\n\n<p>The third argument in the constructor determines whether the signer is used in append mode.</p>\n"}],"owner":{"account_id":6319274,"reputation":43,"user_id":4908036,"display_name":"Isa&#237;as Louren&#231;o"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2836,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":44720542,"answer_count":1,"score":4,"last_activity_date":1653687938,"creation_date":1498216378,"question_id":44720054,"body_markdown":"I&#39;m migrating code from iText5 to iText7 and currently i&#39;m struggling with appending one signature to a PDF already containing another signature.\r\nThose signatures are made with our National ID Card (Citizen Card).\r\n\r\nIn iText5 i used PdfStamper but it&#39;s missing from iText7...\r\n\r\nThis is what i have so far:\r\n\r\n```java\r\npackage cartaocidadao;\r\n    \r\nimport java.io.FileOutputStream;\r\nimport java.security.KeyStore;\r\nimport java.security.PrivateKey;\r\nimport java.security.Security;\r\nimport java.security.cert.Certificate;\r\nimport javax.swing.JOptionPane;\r\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\r\nimport org.poreid.config.POReIDConfig;\r\nimport org.poreid.crypto.POReIDProvider;\r\nimport com.itextpdf.signatures.OcspClientBouncyCastle;\r\nimport com.itextpdf.signatures.TSAClientBouncyCastle;\r\nimport java.io.IOException;\r\nimport java.util.Collection;\r\n    \r\nimport com.itextpdf.kernel.geom.Rectangle;\r\nimport com.itextpdf.kernel.pdf.PdfReader;\r\nimport com.itextpdf.signatures.BouncyCastleDigest;\r\nimport com.itextpdf.signatures.ICrlClient;\r\nimport com.itextpdf.signatures.DigestAlgorithms;\r\nimport com.itextpdf.signatures.IExternalDigest;\r\nimport com.itextpdf.signatures.IExternalSignature;\r\nimport com.itextpdf.signatures.IOcspClient;\r\nimport com.itextpdf.signatures.PdfSignatureAppearance;\r\nimport com.itextpdf.signatures.PdfSigner;\r\nimport com.itextpdf.signatures.PrivateKeySignature;\r\nimport com.itextpdf.signatures.ITSAClient;\r\nimport com.itextpdf.signatures.OCSPVerifier;\r\nimport java.security.GeneralSecurityException;\r\nimport static javax.swing.JOptionPane.ERROR_MESSAGE;\r\n\r\n/**\r\n *\r\n * @author i.lourenco\r\n */\r\npublic class Signature {\r\n        \r\n    /**\r\n     *  Signs the PDF with the Citizen Card Certificate\r\n     * @param src Source file\r\n     * @param dest Destination file\r\n     * @return TRUE if the PDF was signed successfully\r\n     */\r\n    protected static boolean signPDF(String src, String dest) {   \r\n        try {      \r\n            Security.addProvider(new POReIDProvider()); \r\n            BouncyCastleProvider provider = new BouncyCastleProvider();\r\n            Security.addProvider(provider);\r\n            KeyStore ks = KeyStore.getInstance(POReIDConfig.POREID);\r\n            ks.load(null);\r\n                \r\n            PrivateKey pk = (PrivateKey) ks.getKey(POReIDConfig.ASSINATURA, null);\r\n                \r\n            Certificate[] chain = ks.getCertificateChain(POReIDConfig.ASSINATURA);\r\n                \r\n            OCSPVerifier ocspVerifier = new OCSPVerifier(null, null);\r\n                \r\n            IOcspClient ocspClient = new OcspClientBouncyCastle(ocspVerifier);\r\n                \r\n            ITSAClient tsaClient = new TSAClientBouncyCastle(&quot;http://ts.cartaodecidadao.pt/tsa/server&quot;, &quot;&quot;, &quot;&quot;);\r\n                \r\n            sign(src, dest, chain, pk, DigestAlgorithms.SHA256, POReIDConfig.POREID, PdfSigner.CryptoStandard.CMS, &quot;&quot;, &quot;&quot;, null, ocspClient, tsaClient, 0);\r\n            } catch (Exception e) {\r\n           JOptionPane.showMessageDialog(null, e.getMessage(), &quot;Erro&quot;, ERROR_MESSAGE);\r\n        }\r\n            \r\n       return true;\r\n   }\r\n        \r\n    /**\r\n     * Applies the certificate, timestamp and revocation list to a PDF\r\n     * @param src Original PDF document\r\n     * @param dest Signed PDF document\r\n     * @param chain List of certificates\r\n     * @param pk Private key\r\n     * @param digestAlgorithm Encryption algorithm\r\n     * @param provider Citizen Card provider\r\n     * @param subfilter CMS\r\n     * @param reason Reason for signature\r\n     * @param location Location\r\n     * @param crlList Revocation list\r\n     * @param ocspClient Online Certification Status\r\n     * @param tsaClient Timestamp server\r\n     * @param estimatedSize\r\n     * @throws IOException\r\n     * @throws GeneralSecurityException \r\n     */\r\n    private static void sign(String src, String dest, Certificate[] chain, PrivateKey pk, String digestAlgorithm, \r\n            String provider, PdfSigner.CryptoStandard subfilter, String reason, String location, Collection&lt;ICrlClient&gt; crlList, \r\n            IOcspClient ocspClient, ITSAClient tsaClient, int estimatedSize) throws IOException, GeneralSecurityException {\r\n            \r\n        PdfReader reader = new PdfReader(src);\r\n            \r\n        PdfSigner signer = new PdfSigner(reader, new FileOutputStream(dest), false);\r\n            \r\n        PdfSignatureAppearance appearance = signer.getSignatureAppearance()\r\n                .setReason(reason)\r\n                .setLocation(location)\r\n                .setReuseAppearance(false);\r\n        Rectangle rect = new Rectangle(36, 648, 200, 100);\r\n        appearance.setPageRect(rect).setPageNumber(1);\r\n            \r\n        signer.getNewSigFieldName();\r\n            \r\n        IExternalSignature pks = new PrivateKeySignature(pk, digestAlgorithm, provider);\r\n        IExternalDigest digest = new BouncyCastleDigest();\r\n            \r\n        signer.signDetached(digest, pks, chain, crlList, ocspClient, tsaClient, estimatedSize, subfilter);\r\n    }\r\n    \r\n        \r\n}\r\n```\r\n\r\nPOReID (https://github.com/poreid/poreid) is the library used to interact with the smart card.\r\n\r\nWhen signing the document for the first time, it works fine. When signing the document again, it invalidates the first signature and only the last one is valid.\r\n\r\nPDF:\r\n\r\n[Two Signatures][1]\r\n\r\n  [1]: https://www.dropbox.com/s/xez8q6sm5glj35m/2Sig.pdf?dl=0","title":"iText7 PDF with multiple signatures","body":"<p>I'm migrating code from iText5 to iText7 and currently i'm struggling with appending one signature to a PDF already containing another signature.\nThose signatures are made with our National ID Card (Citizen Card).</p>\n<p>In iText5 i used PdfStamper but it's missing from iText7...</p>\n<p>This is what i have so far:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package cartaocidadao;\n    \nimport java.io.FileOutputStream;\nimport java.security.KeyStore;\nimport java.security.PrivateKey;\nimport java.security.Security;\nimport java.security.cert.Certificate;\nimport javax.swing.JOptionPane;\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\nimport org.poreid.config.POReIDConfig;\nimport org.poreid.crypto.POReIDProvider;\nimport com.itextpdf.signatures.OcspClientBouncyCastle;\nimport com.itextpdf.signatures.TSAClientBouncyCastle;\nimport java.io.IOException;\nimport java.util.Collection;\n    \nimport com.itextpdf.kernel.geom.Rectangle;\nimport com.itextpdf.kernel.pdf.PdfReader;\nimport com.itextpdf.signatures.BouncyCastleDigest;\nimport com.itextpdf.signatures.ICrlClient;\nimport com.itextpdf.signatures.DigestAlgorithms;\nimport com.itextpdf.signatures.IExternalDigest;\nimport com.itextpdf.signatures.IExternalSignature;\nimport com.itextpdf.signatures.IOcspClient;\nimport com.itextpdf.signatures.PdfSignatureAppearance;\nimport com.itextpdf.signatures.PdfSigner;\nimport com.itextpdf.signatures.PrivateKeySignature;\nimport com.itextpdf.signatures.ITSAClient;\nimport com.itextpdf.signatures.OCSPVerifier;\nimport java.security.GeneralSecurityException;\nimport static javax.swing.JOptionPane.ERROR_MESSAGE;\n\n/**\n *\n * @author i.lourenco\n */\npublic class Signature {\n        \n    /**\n     *  Signs the PDF with the Citizen Card Certificate\n     * @param src Source file\n     * @param dest Destination file\n     * @return TRUE if the PDF was signed successfully\n     */\n    protected static boolean signPDF(String src, String dest) {   \n        try {      \n            Security.addProvider(new POReIDProvider()); \n            BouncyCastleProvider provider = new BouncyCastleProvider();\n            Security.addProvider(provider);\n            KeyStore ks = KeyStore.getInstance(POReIDConfig.POREID);\n            ks.load(null);\n                \n            PrivateKey pk = (PrivateKey) ks.getKey(POReIDConfig.ASSINATURA, null);\n                \n            Certificate[] chain = ks.getCertificateChain(POReIDConfig.ASSINATURA);\n                \n            OCSPVerifier ocspVerifier = new OCSPVerifier(null, null);\n                \n            IOcspClient ocspClient = new OcspClientBouncyCastle(ocspVerifier);\n                \n            ITSAClient tsaClient = new TSAClientBouncyCastle(&quot;http://ts.cartaodecidadao.pt/tsa/server&quot;, &quot;&quot;, &quot;&quot;);\n                \n            sign(src, dest, chain, pk, DigestAlgorithms.SHA256, POReIDConfig.POREID, PdfSigner.CryptoStandard.CMS, &quot;&quot;, &quot;&quot;, null, ocspClient, tsaClient, 0);\n            } catch (Exception e) {\n           JOptionPane.showMessageDialog(null, e.getMessage(), &quot;Erro&quot;, ERROR_MESSAGE);\n        }\n            \n       return true;\n   }\n        \n    /**\n     * Applies the certificate, timestamp and revocation list to a PDF\n     * @param src Original PDF document\n     * @param dest Signed PDF document\n     * @param chain List of certificates\n     * @param pk Private key\n     * @param digestAlgorithm Encryption algorithm\n     * @param provider Citizen Card provider\n     * @param subfilter CMS\n     * @param reason Reason for signature\n     * @param location Location\n     * @param crlList Revocation list\n     * @param ocspClient Online Certification Status\n     * @param tsaClient Timestamp server\n     * @param estimatedSize\n     * @throws IOException\n     * @throws GeneralSecurityException \n     */\n    private static void sign(String src, String dest, Certificate[] chain, PrivateKey pk, String digestAlgorithm, \n            String provider, PdfSigner.CryptoStandard subfilter, String reason, String location, Collection&lt;ICrlClient&gt; crlList, \n            IOcspClient ocspClient, ITSAClient tsaClient, int estimatedSize) throws IOException, GeneralSecurityException {\n            \n        PdfReader reader = new PdfReader(src);\n            \n        PdfSigner signer = new PdfSigner(reader, new FileOutputStream(dest), false);\n            \n        PdfSignatureAppearance appearance = signer.getSignatureAppearance()\n                .setReason(reason)\n                .setLocation(location)\n                .setReuseAppearance(false);\n        Rectangle rect = new Rectangle(36, 648, 200, 100);\n        appearance.setPageRect(rect).setPageNumber(1);\n            \n        signer.getNewSigFieldName();\n            \n        IExternalSignature pks = new PrivateKeySignature(pk, digestAlgorithm, provider);\n        IExternalDigest digest = new BouncyCastleDigest();\n            \n        signer.signDetached(digest, pks, chain, crlList, ocspClient, tsaClient, estimatedSize, subfilter);\n    }\n    \n        \n}\n</code></pre>\n<p>POReID (<a href=\"https://github.com/poreid/poreid\" rel=\"nofollow noreferrer\">https://github.com/poreid/poreid</a>) is the library used to interact with the smart card.</p>\n<p>When signing the document for the first time, it works fine. When signing the document again, it invalidates the first signature and only the last one is valid.</p>\n<p>PDF:</p>\n<p><a href=\"https://www.dropbox.com/s/xez8q6sm5glj35m/2Sig.pdf?dl=0\" rel=\"nofollow noreferrer\">Two Signatures</a></p>\n"},{"tags":["java","reflection","equals"],"answers":[{"tags":[],"owner":{"account_id":2961,"reputation":70821,"user_id":4203,"accept_rate":90,"display_name":"Hank Gay"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1653687595,"creation_date":1222213742,"answer_id":124598,"question_id":124585,"body_markdown":"If you did want to whitelist for performance reasons, consider using an annotation to indicate which fields to compare. Also, this implementation won&#39;t work if your fields don&#39;t have good implementations for `equals()`.\r\n\r\nP.S. If you go this route for `equals()`, don&#39;t forget to do something similar for `hashCode()`.\r\n\r\nP.P.S. I trust you already considered [HashCodeBuilder][1] and [EqualsBuilder][2].\r\n\r\n[1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/HashCodeBuilder.html\r\n[2]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/EqualsBuilder.html","title":"Java equals(): to reflect or not to reflect","body":"<p>If you did want to whitelist for performance reasons, consider using an annotation to indicate which fields to compare. Also, this implementation won't work if your fields don't have good implementations for <code>equals()</code>.</p>\n<p>P.S. If you go this route for <code>equals()</code>, don't forget to do something similar for <code>hashCode()</code>.</p>\n<p>P.P.S. I trust you already considered <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/HashCodeBuilder.html\" rel=\"nofollow noreferrer\">HashCodeBuilder</a> and <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/EqualsBuilder.html\" rel=\"nofollow noreferrer\">EqualsBuilder</a>.</p>\n"},{"tags":[],"owner":{"account_id":7795,"reputation":116405,"user_id":13663,"accept_rate":75,"display_name":"Will Hartung"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1222213908,"creation_date":1222213908,"answer_id":124608,"question_id":124585,"body_markdown":"You can always annotate the fields you do/do not want in your equals method, that should be a straightforward and simple change to it.\r\n\r\nPerformance is obviously related to how often the object is actually compared, but a lot of frameworks use hash maps, so your equals may be being used more than you think.\r\n\r\nAlso, speaking of hash maps, you have the same issue with the hashCode method.\r\n\r\nFinally, do you really need to compare all of the fields for equality?\r\n","title":"Java equals(): to reflect or not to reflect","body":"<p>You can always annotate the fields you do/do not want in your equals method, that should be a straightforward and simple change to it.</p>\n\n<p>Performance is obviously related to how often the object is actually compared, but a lot of frameworks use hash maps, so your equals may be being used more than you think.</p>\n\n<p>Also, speaking of hash maps, you have the same issue with the hashCode method.</p>\n\n<p>Finally, do you really need to compare all of the fields for equality?</p>\n"},{"tags":[],"owner":{"account_id":8291,"reputation":860437,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1222213946,"creation_date":1222213946,"answer_id":124610,"question_id":124585,"body_markdown":"If you have access to the names of the fields, why don&#39;t you make it a standard that fields you don&#39;t want to include always start with &quot;local&quot; or &quot;nochk&quot; or something like that.\r\n\r\nThen you blacklist all fields that begin with this (code is not so ugly then).\r\n\r\nI don&#39;t doubt it&#39;s a little slower.  You need to decide whether you want to swap ease-of-updates against execution speed.","title":"Java equals(): to reflect or not to reflect","body":"<p>If you have access to the names of the fields, why don't you make it a standard that fields you don't want to include always start with \"local\" or \"nochk\" or something like that.</p>\n\n<p>Then you blacklist all fields that begin with this (code is not so ugly then).</p>\n\n<p>I don't doubt it's a little slower.  You need to decide whether you want to swap ease-of-updates against execution speed.</p>\n"},{"tags":[],"owner":{"account_id":3416,"reputation":81767,"user_id":4926,"accept_rate":85,"display_name":"Jason Cohen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1222214568,"creation_date":1222214568,"answer_id":124640,"question_id":124585,"body_markdown":"You have a few bugs in your code.\r\n\r\n 1. You cannot assume that `this` and `obj` are the same class.  Indeed, it&#39;s explicitly allowed for `obj` to be any other class.  You could start with `if ( ! obj instanceof myClass ) return false;` however this is *still not correct* because `obj` could be a subclass of `this` with additional fields that might matter.\r\n 1. You have to support `null` values for `obj` with a simple `if ( obj == null ) return false;`\r\n 1. You can&#39;t treat `null` and empty string as equal.  Instead treat `null` specially.  Simplest way here is to start by comparing `Field.get(obj) == Field.get(this)`.  If they are both equal or both happen to point to the same object, this is fast.  (Note: This is also an optimization, which you need since this is a slow routine.)  If this fails, you can use the fast `if ( Field.get(obj) == null || Field.get(this) == null ) return false;` to handle cases where exactly one is `null`.  Finally you can use the usual `equals()`.\r\n 1. You&#39;re not using `foundMismatch`\r\n\r\nI agree with Hank that `[HashCodeBuilder][1]` and `[EqualsBuilder][2]` is a better way to go.  It&#39;s easy to maintain, not a lot of boilerplate code, and you avoid all these issues.\r\n\r\n\r\n  [1]: http://commons.apache.org/lang/api/org/apache/commons/lang/builder/HashCodeBuilder.html\r\n  [2]: http://commons.apache.org/lang/api/org/apache/commons/lang/builder/EqualsBuilder.html","title":"Java equals(): to reflect or not to reflect","body":"<p>You have a few bugs in your code.</p>\n\n<ol>\n<li>You cannot assume that <code>this</code> and <code>obj</code> are the same class.  Indeed, it's explicitly allowed for <code>obj</code> to be any other class.  You could start with <code>if ( ! obj instanceof myClass ) return false;</code> however this is <em>still not correct</em> because <code>obj</code> could be a subclass of <code>this</code> with additional fields that might matter.</li>\n<li>You have to support <code>null</code> values for <code>obj</code> with a simple <code>if ( obj == null ) return false;</code></li>\n<li>You can't treat <code>null</code> and empty string as equal.  Instead treat <code>null</code> specially.  Simplest way here is to start by comparing <code>Field.get(obj) == Field.get(this)</code>.  If they are both equal or both happen to point to the same object, this is fast.  (Note: This is also an optimization, which you need since this is a slow routine.)  If this fails, you can use the fast <code>if ( Field.get(obj) == null || Field.get(this) == null ) return false;</code> to handle cases where exactly one is <code>null</code>.  Finally you can use the usual <code>equals()</code>.</li>\n<li>You're not using <code>foundMismatch</code></li>\n</ol>\n\n<p>I agree with Hank that <code>[HashCodeBuilder][1]</code> and <code>[EqualsBuilder][2]</code> is a better way to go.  It's easy to maintain, not a lot of boilerplate code, and you avoid all these issues.</p>\n"},{"tags":[],"owner":{"display_name":"Piotr"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1388689131,"creation_date":1222214753,"answer_id":124651,"question_id":124585,"body_markdown":"Take a look at org.apache.commons.EqualsBuilder:\r\n\r\nhttp://commons.apache.org/proper/commons-lang/javadocs/api-3.2/org/apache/commons/lang3/builder/EqualsBuilder.html","title":"Java equals(): to reflect or not to reflect","body":"<p>Take a look at org.apache.commons.EqualsBuilder:</p>\n\n<p><a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-3.2/org/apache/commons/lang3/builder/EqualsBuilder.html\" rel=\"nofollow noreferrer\">http://commons.apache.org/proper/commons-lang/javadocs/api-3.2/org/apache/commons/lang3/builder/EqualsBuilder.html</a></p>\n"},{"tags":[],"owner":{"account_id":8291,"reputation":860437,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1222222107,"creation_date":1222222107,"answer_id":125011,"question_id":124585,"body_markdown":"Here&#39;s a thought if you&#39;re worried about:\r\n\r\n1/ Forgetting to update your big series of if-statements for checking equality when you add/remove a field.\r\n\r\n2/ The performance of doing this in the equals() method.\r\n\r\nTry the following:\r\n\r\na/ Revert back to using the long sequence of if-statements in your equals() method.\r\n\r\nb/ Have a single function which contains a list of the fields (in a String array) and which will check that list against reality (i.e., the reflected fields).  It will throw an exception if they don&#39;t match.\r\n\r\nc/ In your constructor for this object, have a synchronized run-once call to this function (similar to a singleton pattern).  In other words, if this is the first object constructed by this class, call the checking function described in (b) above.\r\n\r\nThe exception will make it immediately obvious when you run your program if you haven&#39;t updated your if-statements to match the reflected fields; then you fix the if-statements and update the field list from (b) above.\r\n\r\nSubsequent construction of objects will not do this check and your equals() method will run at it&#39;s maximum possible speed.\r\n\r\nTry as I might, I haven&#39;t been able to find any real problems with this approach (greater minds may exist on StackOverflow) - there&#39;s an extra condition check on each object construction for the run-once behaviour but that seems fairly minor.\r\n\r\nIf you try hard enough, you could still get your if-statements out of step with your field-list and reflected fields but the exception will ensure your field list matches the reflected fields and you just make sure you update the if-statements and field list at the same time.\r\n","title":"Java equals(): to reflect or not to reflect","body":"<p>Here's a thought if you're worried about:</p>\n\n<p>1/ Forgetting to update your big series of if-statements for checking equality when you add/remove a field.</p>\n\n<p>2/ The performance of doing this in the equals() method.</p>\n\n<p>Try the following:</p>\n\n<p>a/ Revert back to using the long sequence of if-statements in your equals() method.</p>\n\n<p>b/ Have a single function which contains a list of the fields (in a String array) and which will check that list against reality (i.e., the reflected fields).  It will throw an exception if they don't match.</p>\n\n<p>c/ In your constructor for this object, have a synchronized run-once call to this function (similar to a singleton pattern).  In other words, if this is the first object constructed by this class, call the checking function described in (b) above.</p>\n\n<p>The exception will make it immediately obvious when you run your program if you haven't updated your if-statements to match the reflected fields; then you fix the if-statements and update the field list from (b) above.</p>\n\n<p>Subsequent construction of objects will not do this check and your equals() method will run at it's maximum possible speed.</p>\n\n<p>Try as I might, I haven't been able to find any real problems with this approach (greater minds may exist on StackOverflow) - there's an extra condition check on each object construction for the run-once behaviour but that seems fairly minor.</p>\n\n<p>If you try hard enough, you could still get your if-statements out of step with your field-list and reflected fields but the exception will ensure your field list matches the reflected fields and you just make sure you update the if-statements and field list at the same time.</p>\n"},{"tags":[],"owner":{"account_id":6957,"reputation":74511,"user_id":11858,"accept_rate":93,"display_name":"daveb"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1222256590,"creation_date":1222256590,"answer_id":126654,"question_id":124585,"body_markdown":"If you do go the reflection approach, EqualsBuilder is still your friend:\r\n\r\n     public boolean equals(Object obj) {\r\n        return EqualsBuilder.reflectionEquals(this, obj);\r\n     }\r\n","title":"Java equals(): to reflect or not to reflect","body":"<p>If you do go the reflection approach, EqualsBuilder is still your friend:</p>\n\n<pre><code> public boolean equals(Object obj) {\n    return EqualsBuilder.reflectionEquals(this, obj);\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5056,"reputation":4017,"user_id":7927,"accept_rate":84,"display_name":"Wouter Lievens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1223293465,"creation_date":1223293465,"answer_id":173982,"question_id":124585,"body_markdown":"You could use Annotations to exclude fields from the check\r\n\r\ne.g.\r\n\r\n    @IgnoreEquals\r\n    String fieldThatShouldNotBeCompared;\r\n\r\nAnd then of course you check the presence of the annotation in your generic equals method.","title":"Java equals(): to reflect or not to reflect","body":"<p>You could use Annotations to exclude fields from the check</p>\n\n<p>e.g.</p>\n\n<pre><code>@IgnoreEquals\nString fieldThatShouldNotBeCompared;\n</code></pre>\n\n<p>And then of course you check the presence of the annotation in your generic equals method.</p>\n"},{"tags":[],"owner":{"account_id":5100,"reputation":29377,"user_id":8026,"accept_rate":63,"display_name":"MetroidFan2002"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1223297030,"creation_date":1223297030,"answer_id":174103,"question_id":124585,"body_markdown":"Use Eclipse, FFS!\r\n\r\nDelete the hashCode and equals methods you have.\r\n\r\nRight click on the file.\r\n\r\nSelect Source-&gt;Generate hashcode and equals...\r\n\r\nDone!  No more worries about reflection.\r\n\r\nRepeat for each field added, you just use the outline view to delete your two methods, and then let Eclipse autogenerate them.\r\n","title":"Java equals(): to reflect or not to reflect","body":"<p>Use Eclipse, FFS!</p>\n\n<p>Delete the hashCode and equals methods you have.</p>\n\n<p>Right click on the file.</p>\n\n<p>Select Source->Generate hashcode and equals...</p>\n\n<p>Done!  No more worries about reflection.</p>\n\n<p>Repeat for each field added, you just use the outline view to delete your two methods, and then let Eclipse autogenerate them.</p>\n"}],"owner":{"account_id":173822,"reputation":4732,"user_id":402777,"accept_rate":87,"display_name":"oreoshake"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6092,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":124598,"answer_count":9,"score":9,"last_activity_date":1653687595,"creation_date":1222213441,"question_id":124585,"body_markdown":"This question is specifically related to overriding the equals() method for objects with a large number of fields.  First off, let me say that this large object cannot be broken down into multiple components without violating OO principles, so telling me &quot;no class should have more than x fields&quot; won&#39;t help.  \r\n\r\nMoving on, the problem came to fruition when I forgot to check one of the fields for equality.  Therefore, my equals method was incorrect.  Then I thought to use reflection:\r\n\r\n    --code removed because it was too distracting--\r\n\r\n\r\nThe purpose of this post isn&#39;t necessarily to refactor the code (this isn&#39;t even the code I am using), but instead to get input on whether or not this is a good idea.  \r\n\r\n**Pros:**\r\n\r\n - If a new field is added, it is automatically included&lt;br&gt; \r\n - The method is much more terse than 30 if statements\r\n\r\n\r\n**Cons:**\r\n\r\n - If a new field is added, it is automatically included, sometimes this is undesirable\r\n - Performance:  This has to be slower, I don&#39;t feel the need to break out a profiler\r\n - \r\nWhitelisting certain fields to ignore in the comparison is a little ugly&lt;br&gt;\r\n\r\nAny thoughts?","title":"Java equals(): to reflect or not to reflect","body":"<p>This question is specifically related to overriding the equals() method for objects with a large number of fields.  First off, let me say that this large object cannot be broken down into multiple components without violating OO principles, so telling me \"no class should have more than x fields\" won't help.  </p>\n\n<p>Moving on, the problem came to fruition when I forgot to check one of the fields for equality.  Therefore, my equals method was incorrect.  Then I thought to use reflection:</p>\n\n<pre><code>--code removed because it was too distracting--\n</code></pre>\n\n<p>The purpose of this post isn't necessarily to refactor the code (this isn't even the code I am using), but instead to get input on whether or not this is a good idea.  </p>\n\n<p><strong>Pros:</strong></p>\n\n<ul>\n<li>If a new field is added, it is automatically included<br> </li>\n<li>The method is much more terse than 30 if statements</li>\n</ul>\n\n<p><strong>Cons:</strong></p>\n\n<ul>\n<li>If a new field is added, it is automatically included, sometimes this is undesirable</li>\n<li>Performance:  This has to be slower, I don't feel the need to break out a profiler</li>\n<li>Whitelisting certain fields to ignore in the comparison is a little ugly<br></li>\n</ul>\n\n<p>Any thoughts?</p>\n"},{"tags":["java","list","java-stream"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1653653813,"post_id":72405246,"comment_id":127908891,"body_markdown":"That looks more like filtering than mapping.","body":"That looks more like filtering than mapping."}],"answers":[{"tags":[],"owner":{"account_id":1507181,"reputation":13906,"user_id":1410303,"accept_rate":40,"display_name":"SomeDude"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653653861,"creation_date":1653653861,"answer_id":72405343,"question_id":72405246,"body_markdown":"You could filter before collecting:\r\n\r\n    list.stream().map( i -&gt; hasSquare(i,list)).filter(e-&gt;e!=0).distinct().collect(Collectors.toList()))\r\n\r\nand also return Integer instead of Object when you are certain that your list contains Integers.\r\n\r\n       private static Integer hasSquare(Integer i, List&lt;Integer&gt; list) {\r\n            if(list.contains(i*i)){\r\n                return i;\r\n            } else return 0;\r\n        }","title":"How to create a List of elements which Squares are present in the Original List using Java Streams","body":"<p>You could filter before collecting:</p>\n<pre><code>list.stream().map( i -&gt; hasSquare(i,list)).filter(e-&gt;e!=0).distinct().collect(Collectors.toList()))\n</code></pre>\n<p>and also return Integer instead of Object when you are certain that your list contains Integers.</p>\n<pre><code>   private static Integer hasSquare(Integer i, List&lt;Integer&gt; list) {\n        if(list.contains(i*i)){\n            return i;\n        } else return 0;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1653654231,"creation_date":1653653958,"answer_id":72405362,"question_id":72405246,"body_markdown":"The problem lies within the stream and your method .\r\n\r\n\r\n 1. You can easily use `filter` method in stream instead of `map` cause all you are doing is contains check in your method.\r\n 2. You are returning the values and in else part returning `0` .That is why you are having 0 in your result . \r\n  Instead of returning the existing value return only `true` or `false` that way it will be much easier to control and organized.\r\n\r\n```\r\n    private static boolean hasSquare(Integer i, List&lt;Integer&gt; list) {\r\n            return list.contains(i*i); \r\n    }\r\n```\r\nStream will be \r\n```\r\nSystem.out.println(list.stream().filter(i-&gt; hasSquare(i, list)).collect(Collectors.toList()));\r\n```","title":"How to create a List of elements which Squares are present in the Original List using Java Streams","body":"<p>The problem lies within the stream and your method .</p>\n<ol>\n<li>You can easily use <code>filter</code> method in stream instead of <code>map</code> cause all you are doing is contains check in your method.</li>\n<li>You are returning the values and in else part returning <code>0</code> .That is why you are having 0 in your result .\nInstead of returning the existing value return only <code>true</code> or <code>false</code> that way it will be much easier to control and organized.</li>\n</ol>\n<pre><code>    private static boolean hasSquare(Integer i, List&lt;Integer&gt; list) {\n            return list.contains(i*i); \n    }\n</code></pre>\n<p>Stream will be</p>\n<pre><code>System.out.println(list.stream().filter(i-&gt; hasSquare(i, list)).collect(Collectors.toList()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653659209,"creation_date":1653657072,"answer_id":72405991,"question_id":72405246,"body_markdown":"Your method `hasSquare()` has a cost **O(n)** because method `contains()` needs to iterate over the given list. And it will give a *quadratic* overall time complexity. But we can do better.\r\n\r\nIn order to do this in a linear time, we need to create a `HashSet` containing all the elements from the source list. And then check if the squared value of each element in the source list is present in a set.\r\n\r\nIt can be written in a single stream-statement by using the built-in collector [`collectingAndThen()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#collectingAndThen(java.util.stream.Collector,java.util.function.Function)) in conjunction with [`toSet()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toSet()). As the second argument `collectingAndThen()` expects a function that is meant to produce the final result.\r\n\r\nThe function creates a stream over the given list, and [`filter()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#filter(java.util.function.Predicate)) operation will take care of keeping only those elements which squared values are present in the set. Operation [`distinct()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#distinct()) is required to insure uniqueness.\r\n\r\n    public static List&lt;Integer&gt; getSquares(List&lt;Integer&gt; list) {\r\n        \r\n        return list.stream()\r\n            .collect(Collectors.collectingAndThen(\r\n                Collectors.toSet(),\r\n                set -&gt; list.stream().filter(num -&gt; set.contains(num * num))\r\n                    .distinct()\r\n                    .collect(Collectors.toList())));\r\n    }\r\n\r\nA more simple approach is to create a `HashSet` separately (and I would rather prefer this version):\r\n\r\n    public static List&lt;Integer&gt; getSquares(List&lt;Integer&gt; list) {\r\n        \r\n        Set&lt;Integer&gt; set = new HashSet&lt;&gt;(list);\r\n        \r\n        return list.stream()\r\n            .filter(num -&gt; set.contains(num * num))\r\n            .distinct()\r\n            .collect(Collectors.toList());\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Integer&gt; source = List.of(2, 3, 6, 8, 14, 15, 9, 4);\r\n    \r\n        System.out.println(getSquares(source));\r\n    }\r\n\r\n*Output:*\r\n```\r\n[2, 3]\r\n```\r\n\r\n[*A link to the Online Demo*](https://www.jdoodle.com/ia/rrD)\r\n\r\n*Sidenote:* if you&#39;re using Java 9 and above, `List.of()` is a preferred way to initialize the List because it doesn&#39;t create an intermediate array (if number of elements not greater than `10`).","title":"How to create a List of elements which Squares are present in the Original List using Java Streams","body":"<p>Your method <code>hasSquare()</code> has a cost <strong>O(n)</strong> because method <code>contains()</code> needs to iterate over the given list. And it will give a <em>quadratic</em> overall time complexity. But we can do better.</p>\n<p>In order to do this in a linear time, we need to create a <code>HashSet</code> containing all the elements from the source list. And then check if the squared value of each element in the source list is present in a set.</p>\n<p>It can be written in a single stream-statement by using the built-in collector <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#collectingAndThen(java.util.stream.Collector,java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>collectingAndThen()</code></a> in conjunction with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toSet()\" rel=\"nofollow noreferrer\"><code>toSet()</code></a>. As the second argument <code>collectingAndThen()</code> expects a function that is meant to produce the final result.</p>\n<p>The function creates a stream over the given list, and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#filter(java.util.function.Predicate)\" rel=\"nofollow noreferrer\"><code>filter()</code></a> operation will take care of keeping only those elements which squared values are present in the set. Operation <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#distinct()\" rel=\"nofollow noreferrer\"><code>distinct()</code></a> is required to insure uniqueness.</p>\n<pre><code>public static List&lt;Integer&gt; getSquares(List&lt;Integer&gt; list) {\n    \n    return list.stream()\n        .collect(Collectors.collectingAndThen(\n            Collectors.toSet(),\n            set -&gt; list.stream().filter(num -&gt; set.contains(num * num))\n                .distinct()\n                .collect(Collectors.toList())));\n}\n</code></pre>\n<p>A more simple approach is to create a <code>HashSet</code> separately (and I would rather prefer this version):</p>\n<pre><code>public static List&lt;Integer&gt; getSquares(List&lt;Integer&gt; list) {\n    \n    Set&lt;Integer&gt; set = new HashSet&lt;&gt;(list);\n    \n    return list.stream()\n        .filter(num -&gt; set.contains(num * num))\n        .distinct()\n        .collect(Collectors.toList());\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    List&lt;Integer&gt; source = List.of(2, 3, 6, 8, 14, 15, 9, 4);\n\n    System.out.println(getSquares(source));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[2, 3]\n</code></pre>\n<p><a href=\"https://www.jdoodle.com/ia/rrD\" rel=\"nofollow noreferrer\"><em>A link to the Online Demo</em></a></p>\n<p><em>Sidenote:</em> if you're using Java 9 and above, <code>List.of()</code> is a preferred way to initialize the List because it doesn't create an intermediate array (if number of elements not greater than <code>10</code>).</p>\n"},{"tags":[],"owner":{"account_id":8709503,"reputation":454,"user_id":6516178,"display_name":"Chris Foley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653659368,"creation_date":1653659368,"answer_id":72406448,"question_id":72405246,"body_markdown":"You want to filter instead of mapping.\r\n\r\n    import java.util.*;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class StreamTEst {\r\n        public static void main(String[] args) {\r\n            List&lt;Integer&gt; list = Arrays.asList(2, 3, 6, 8, 14, 15, 9, 4);\r\n            List&lt;Integer&gt; result = list.stream()\r\n               .filter(i -&gt; list.contains(i*i))\r\n               .distinct()\r\n               .collect(Collectors.toList());\r\n    \t\tSystem.out.println(result);\r\n        }\r\n    }\r\n\r\n\r\nIf you start working with longer lists then you might want to create a hash set for faster lookup like this:\r\n\r\n    import java.util.*;\r\n\timport java.util.stream.Collectors;\r\n\t\r\n\tpublic class StreamTEst {\r\n\t    public static void main(String[] args) {\r\n\t        List&lt;Integer&gt; list = Arrays.asList(2, 3, 6, 8, 14, 15, 9, 4);\r\n\t        Set&lt;Integer&gt; lookup = new HashSet&lt;&gt;(list);\r\n\t        \r\n\t        List&lt;Integer&gt; result = list.stream()\r\n\t           .filter(i -&gt; lookup.contains(i*i))\r\n\t           .distinct()\r\n\t           .collect(Collectors.toList());\r\n\t\t\tSystem.out.println(result);\r\n\t    }\r\n\t}\r\n","title":"How to create a List of elements which Squares are present in the Original List using Java Streams","body":"<p>You want to filter instead of mapping.</p>\n<pre><code>import java.util.*;\nimport java.util.stream.Collectors;\n\npublic class StreamTEst {\n    public static void main(String[] args) {\n        List&lt;Integer&gt; list = Arrays.asList(2, 3, 6, 8, 14, 15, 9, 4);\n        List&lt;Integer&gt; result = list.stream()\n           .filter(i -&gt; list.contains(i*i))\n           .distinct()\n           .collect(Collectors.toList());\n        System.out.println(result);\n    }\n}\n</code></pre>\n<p>If you start working with longer lists then you might want to create a hash set for faster lookup like this:</p>\n<pre><code>import java.util.*;\nimport java.util.stream.Collectors;\n\npublic class StreamTEst {\n    public static void main(String[] args) {\n        List&lt;Integer&gt; list = Arrays.asList(2, 3, 6, 8, 14, 15, 9, 4);\n        Set&lt;Integer&gt; lookup = new HashSet&lt;&gt;(list);\n        \n        List&lt;Integer&gt; result = list.stream()\n           .filter(i -&gt; lookup.contains(i*i))\n           .distinct()\n           .collect(Collectors.toList());\n        System.out.println(result);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5091474,"reputation":57,"user_id":4084394,"display_name":"Burak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653664306,"creation_date":1653664306,"answer_id":72407503,"question_id":72405246,"body_markdown":"My Solution:\r\nTakes advantage of constant lookup time of Set\r\n    \r\n    import java.util.Set;\r\n    import java.util.HashSet;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            List &lt;Integer&gt; list = Arrays.asList(2, 3, 6, 8, 14, 15, 9, 4);\r\n            Set &lt;Integer&gt; numbers = new HashSet &lt;Integer&gt; (list);\r\n            List &lt;Integer&gt; result = list.stream()\r\n                .filter((current) - &gt; numbers.contains(current * current))\r\n                .collect(Collectors.toList());\r\n    \r\n            System.out.println(result);\r\n        }\r\n    \r\n    }\r\n    \r\nSimilar to your approach:\r\n`List.contains()` takes n (element count in your list) time to compute. Applying same operation to each element takes n*n time, which scales logarithmically, inefficient and expensive. Java stream executes in parallel, its fast but still your code not scales well. \r\n\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            List &lt;Integer&gt; list = Arrays.asList(2, 3, 6, 8, 14, 15, 9, 4);\r\n            System.out.println(\r\n                list.stream()\r\n                .filter(i -&gt; hasSquare(i, list))\r\n                .collect(Collectors.toList()));\r\n        }\r\n    \r\n        private static boolean hasSquare(Integer i, List &lt; Integer &gt; list) {\r\n    \r\n            if (list.contains(i * i)) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n    }","title":"How to create a List of elements which Squares are present in the Original List using Java Streams","body":"<p>My Solution:\nTakes advantage of constant lookup time of Set</p>\n<pre><code>import java.util.Set;\nimport java.util.HashSet;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class Main {\n    public static void main(String[] args) {\n        List &lt;Integer&gt; list = Arrays.asList(2, 3, 6, 8, 14, 15, 9, 4);\n        Set &lt;Integer&gt; numbers = new HashSet &lt;Integer&gt; (list);\n        List &lt;Integer&gt; result = list.stream()\n            .filter((current) - &gt; numbers.contains(current * current))\n            .collect(Collectors.toList());\n\n        System.out.println(result);\n    }\n\n}\n</code></pre>\n<p>Similar to your approach:\n<code>List.contains()</code> takes n (element count in your list) time to compute. Applying same operation to each element takes n*n time, which scales logarithmically, inefficient and expensive. Java stream executes in parallel, its fast but still your code not scales well.</p>\n<pre><code>import java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        List &lt;Integer&gt; list = Arrays.asList(2, 3, 6, 8, 14, 15, 9, 4);\n        System.out.println(\n            list.stream()\n            .filter(i -&gt; hasSquare(i, list))\n            .collect(Collectors.toList()));\n    }\n\n    private static boolean hasSquare(Integer i, List &lt; Integer &gt; list) {\n\n        if (list.contains(i * i)) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653664846,"creation_date":1653664846,"answer_id":72407624,"question_id":72405246,"body_markdown":"Your goal is achievable without using a third method. You could simply stream your `list` and use the `filter` operation to keep only the numbers whose square is equal to any number of the same list. Also, if you want to keep distinct elements, you could collect your elements in a `Set` instead of using an expensive operation like `disntict`.\r\n\r\n```\r\nList&lt;Integer&gt; list = Arrays.asList(2, 3, 6, 8, 14, 15, 9, 4);\r\n\r\nSet&lt;Integer&gt; setRes = list.stream()\r\n        .filter(n -&gt; list.stream().anyMatch(x -&gt; x == n * n))\r\n        .collect(Collectors.toSet());\r\n\r\nSystem.out.println(setRes);\r\n```\r\n\r\nHere is a link to test the code:\r\n\r\nhttps://www.jdoodle.com/iembed/v0/rrE\r\n\r\n&lt;h5&gt;Output&lt;/h5&gt;\r\n\r\n`[2, 3]`","title":"How to create a List of elements which Squares are present in the Original List using Java Streams","body":"<p>Your goal is achievable without using a third method. You could simply stream your <code>list</code> and use the <code>filter</code> operation to keep only the numbers whose square is equal to any number of the same list. Also, if you want to keep distinct elements, you could collect your elements in a <code>Set</code> instead of using an expensive operation like <code>disntict</code>.</p>\n<pre><code>List&lt;Integer&gt; list = Arrays.asList(2, 3, 6, 8, 14, 15, 9, 4);\n\nSet&lt;Integer&gt; setRes = list.stream()\n        .filter(n -&gt; list.stream().anyMatch(x -&gt; x == n * n))\n        .collect(Collectors.toSet());\n\nSystem.out.println(setRes);\n</code></pre>\n<p>Here is a link to test the code:</p>\n<p><a href=\"https://www.jdoodle.com/iembed/v0/rrE\" rel=\"nofollow noreferrer\">https://www.jdoodle.com/iembed/v0/rrE</a></p>\n<h5>Output</h5>\n<p><code>[2, 3]</code></p>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653666610,"creation_date":1653666610,"answer_id":72408014,"question_id":72405246,"body_markdown":"I think below is one of straight-forward way: \r\n\r\n    List&lt;Integer&gt; list   = Arrays.asList(2, 3, 6, 8, 14, 15, 9, 4);\r\n    List&lt;Integer&gt; result =  list.stream().collect(ArrayList&lt;Integer&gt;::new, (x, y) -&gt; {\r\n    \t\t\tif (list.contains((int) Math.pow(y, 2)))\r\n    \t\t\t\tx.add(y);\r\n    \t\t}, (x, y) -&gt; y.addAll(x));\r\n    \r\n    \r\n    System.out.println(result);","title":"How to create a List of elements which Squares are present in the Original List using Java Streams","body":"<p>I think below is one of straight-forward way:</p>\n<pre><code>List&lt;Integer&gt; list   = Arrays.asList(2, 3, 6, 8, 14, 15, 9, 4);\nList&lt;Integer&gt; result =  list.stream().collect(ArrayList&lt;Integer&gt;::new, (x, y) -&gt; {\n            if (list.contains((int) Math.pow(y, 2)))\n                x.add(y);\n        }, (x, y) -&gt; y.addAll(x));\n\n\nSystem.out.println(result);\n</code></pre>\n"}],"owner":{"account_id":15567334,"reputation":65,"user_id":11230693,"display_name":"Trups"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":871,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":7,"score":1,"last_activity_date":1653686981,"creation_date":1653653373,"question_id":72405246,"body_markdown":"I have the list of int `- 2, 3, 6, 8, 14, 15, 9, 4`. \r\n\r\nI want to search such numbers whose square is present in the list, ex: `2` square `4` is present, so the output list should have `2`.\r\n\r\n```java\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class StreamTest {\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Integer&gt; list = Arrays.asList(2, 3, 6, 8, 14, 15, 9, 4);\r\n        System.out.println(\r\n                list.stream()\r\n                        .map(i -&gt; hasSquare(i, list))\r\n                        .distinct()\r\n                        .collect(Collectors.toList()));\r\n    }\r\n\r\n    private static Object hasSquare(Integer i, List&lt;Integer&gt; list) {\r\n\r\n        if (list.contains(i * i)) {\r\n            return i;\r\n        } else {\r\n            return 0;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis code is giving me the output `[2, 3, 0]`, but I would like to get rid of `0`. \r\n\r\nIs there a way to do the same without using a third method?","title":"How to create a List of elements which Squares are present in the Original List using Java Streams","body":"<p>I have the list of int <code>- 2, 3, 6, 8, 14, 15, 9, 4</code>.</p>\n<p>I want to search such numbers whose square is present in the list, ex: <code>2</code> square <code>4</code> is present, so the output list should have <code>2</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class StreamTest {\n\n    public static void main(String[] args) {\n        List&lt;Integer&gt; list = Arrays.asList(2, 3, 6, 8, 14, 15, 9, 4);\n        System.out.println(\n                list.stream()\n                        .map(i -&gt; hasSquare(i, list))\n                        .distinct()\n                        .collect(Collectors.toList()));\n    }\n\n    private static Object hasSquare(Integer i, List&lt;Integer&gt; list) {\n\n        if (list.contains(i * i)) {\n            return i;\n        } else {\n            return 0;\n        }\n    }\n}\n</code></pre>\n<p>This code is giving me the output <code>[2, 3, 0]</code>, but I would like to get rid of <code>0</code>.</p>\n<p>Is there a way to do the same without using a third method?</p>\n"},{"tags":["java","opengl","intersection","raytracing"],"comments":[{"owner":{"account_id":21225504,"reputation":1108,"user_id":15611270,"display_name":"Rocco"},"score":0,"creation_date":1620914835,"post_id":67520157,"comment_id":119344528,"body_markdown":"Why not the classic color picking?","body":"Why not the classic color picking?"},{"owner":{"account_id":21064327,"reputation":37,"user_id":15482011,"display_name":"luis"},"score":0,"creation_date":1620915054,"post_id":67520157,"comment_id":119344637,"body_markdown":"@Rocco that&#39;s actually a good idea but I use shaders so the colors are not consistent and they can match with the skybox / chess board txeture","body":"@Rocco that&#39;s actually a good idea but I use shaders so the colors are not consistent and they can match with the skybox / chess board txeture"},{"owner":{"account_id":21225504,"reputation":1108,"user_id":15611270,"display_name":"Rocco"},"score":1,"creation_date":1620915270,"post_id":67520157,"comment_id":119344749,"body_markdown":"What I mean with color picking is that you render the scene in a different buffer, assigning an unique solid color to each entity you want to select, removing any light effect. I&#39;ll search a link describing it since it&#39;s a long time that I don&#39;t personally code with OpenGL","body":"What I mean with color picking is that you render the scene in a different buffer, assigning an unique solid color to each entity you want to select, removing any light effect. I&#39;ll search a link describing it since it&#39;s a long time that I don&#39;t personally code with OpenGL"},{"owner":{"account_id":21064327,"reputation":37,"user_id":15482011,"display_name":"luis"},"score":0,"creation_date":1620915411,"post_id":67520157,"comment_id":119344821,"body_markdown":"Oh that is really smart, didn&#39;t think of that. I am pretty new to opengl so a reference would be helpful. Thanks!","body":"Oh that is really smart, didn&#39;t think of that. I am pretty new to opengl so a reference would be helpful. Thanks!"},{"owner":{"account_id":21225504,"reputation":1108,"user_id":15611270,"display_name":"Rocco"},"score":0,"creation_date":1620915719,"post_id":67520157,"comment_id":119344991,"body_markdown":"http://www.opengl-tutorial.org/miscellaneous/clicking-on-objects/picking-with-an-opengl-hack/ unfortunately it&#39;s not Java, but I think that the concept is clear, a custom fragment shader must produce an uniform color","body":"<a href=\"http://www.opengl-tutorial.org/miscellaneous/clicking-on-objects/picking-with-an-opengl-hack/\" rel=\"nofollow noreferrer\">opengl-tutorial.org/miscellaneous/clicking-on-objects/&hellip;</a> unfortunately it&#39;s not Java, but I think that the concept is clear, a custom fragment shader must produce an uniform color"},{"owner":{"account_id":21064327,"reputation":37,"user_id":15482011,"display_name":"luis"},"score":0,"creation_date":1620915831,"post_id":67520157,"comment_id":119345032,"body_markdown":"Thank you very much I will take a look into that!","body":"Thank you very much I will take a look into that!"},{"owner":{"account_id":2968584,"reputation":50561,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1620976812,"post_id":67520157,"comment_id":119361916,"body_markdown":"see [OpenGL 3D-raypicking with high poly meshes](https://stackoverflow.com/a/51764105/2521214) ... the 8bit stencil is ideal for you as you got just 32 objects ... no need to any heavy change of code just add the stencil commands setting which piece is rendering ...","body":"see <a href=\"https://stackoverflow.com/a/51764105/2521214\">OpenGL 3D-raypicking with high poly meshes</a> ... the 8bit stencil is ideal for you as you got just 32 objects ... no need to any heavy change of code just add the stencil commands setting which piece is rendering ..."},{"owner":{"account_id":21064327,"reputation":37,"user_id":15482011,"display_name":"luis"},"score":0,"creation_date":1621005644,"post_id":67520157,"comment_id":119373023,"body_markdown":"@Spektre thanks. I will take a look into that.","body":"@Spektre thanks. I will take a look into that."}],"answers":[{"tags":[],"owner":{"account_id":16069370,"reputation":26,"user_id":11598165,"display_name":"Vrushal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653686492,"creation_date":1653686492,"answer_id":72411195,"question_id":67520157,"body_markdown":"You&#39;ll have to follow following steps (I&#39;m assuming you are aware of rendering pipeline and aware of OpenGL/WebGL)\r\n\r\n 1. Get the list of all the objects you have. \r\n 2. Assign every object a unique color. Following would be an easy way to assign the unique color based on index of the object in the list.\r\n```\r\n    int i = // Index of the object  \r\n    // We&#39;ve added 1 to the index because 0 index is translated to black color \r\n    // And our background is also rendered as black so we skip will that color.\r\n\tint r = (i + 1 &amp; 0x000000FF) &gt;&gt; 0;\r\n\tint g = (i + 1 &amp; 0x0000FF00) &gt;&gt; 8;\r\n\tint b = (i + 1 &amp; 0x00FF0000) &gt;&gt; 16;\r\n\tglm::vec4 unique_color = glm::vec4(r / 255.0f, g / 255.0f, b / 255.0f, 1.0);\r\n```\r\n3. Create a frame-buffer and render all the objects with their uniquely assigned solid colors.\r\n6. When the rendering is complete, you now read the click position pixel color from the rendered frame buffer texture.\r\n7. Decode the color into index of object back like given below. (This is exactly revers of what we&#39;ve done in step 2)\r\n```\t\r\n\tint triangle_index =\r\n\t\tcolor.r +\r\n\t\tcolor.g * 256 +\r\n\t\tcolor.b * 256 * 256;\r\n```\r\n8. With this index you have the selected object from the initial list of all objects.\r\n9. You can read more about this technique here, http://www.opengl-tutorial.org/miscellaneous/clicking-on-objects/picking-with-an-opengl-hack/","title":"3D Object selection in opengl","body":"<p>You'll have to follow following steps (I'm assuming you are aware of rendering pipeline and aware of OpenGL/WebGL)</p>\n<ol>\n<li>Get the list of all the objects you have.</li>\n<li>Assign every object a unique color. Following would be an easy way to assign the unique color based on index of the object in the list.</li>\n</ol>\n<pre><code>    int i = // Index of the object  \n    // We've added 1 to the index because 0 index is translated to black color \n    // And our background is also rendered as black so we skip will that color.\n    int r = (i + 1 &amp; 0x000000FF) &gt;&gt; 0;\n    int g = (i + 1 &amp; 0x0000FF00) &gt;&gt; 8;\n    int b = (i + 1 &amp; 0x00FF0000) &gt;&gt; 16;\n    glm::vec4 unique_color = glm::vec4(r / 255.0f, g / 255.0f, b / 255.0f, 1.0);\n</code></pre>\n<ol start=\"3\">\n<li>Create a frame-buffer and render all the objects with their uniquely assigned solid colors.</li>\n<li>When the rendering is complete, you now read the click position pixel color from the rendered frame buffer texture.</li>\n<li>Decode the color into index of object back like given below. (This is exactly revers of what we've done in step 2)</li>\n</ol>\n<pre><code>    int triangle_index =\n        color.r +\n        color.g * 256 +\n        color.b * 256 * 256;\n</code></pre>\n<ol start=\"8\">\n<li>With this index you have the selected object from the initial list of all objects.</li>\n<li>You can read more about this technique here, <a href=\"http://www.opengl-tutorial.org/miscellaneous/clicking-on-objects/picking-with-an-opengl-hack/\" rel=\"nofollow noreferrer\">http://www.opengl-tutorial.org/miscellaneous/clicking-on-objects/picking-with-an-opengl-hack/</a></li>\n</ol>\n"}],"owner":{"account_id":21064327,"reputation":37,"user_id":15482011,"display_name":"luis"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1653686492,"creation_date":1620912798,"question_id":67520157,"body_markdown":"I am currently making a 3d chess game in opengl. I still struggle with the selection of the different figures. I followed the tutorials by thinmatrix and came this far: https://i.stack.imgur.com/TRMCG.jpg.\r\n\r\nNow I want the user to be able to select the figures by clicking on them. I have the camera position, the ray in which direction the mouse is pointing and the position of the figures. How can I detect if the ray hits the figure (probably using a rectangle hitbox) when it starts at the position of the camera?\r\n\r\nMy code so far:\r\n```\r\npublic void update(Vector3f mouseRay, Camera camera, Figure figure){\r\n    Vector3f start = camera.getPosition();\r\n    Vector3f figurePos = figure.getPosition();\r\n    if(intersect()){\r\n       selectFigure();\r\n    }\r\n}\r\n```\r\n\r\nEDIT:\r\nI tried this: \r\nhttps://stackoverflow.com/questions/6533856/ray-sphere-intersection?noredirect=1&amp;lq=1\r\nbut it somehow didn&#39;t work. A sphere intersection also seemed very inefficient in respect of a ray box intersection.","title":"3D Object selection in opengl","body":"<p>I am currently making a 3d chess game in opengl. I still struggle with the selection of the different figures. I followed the tutorials by thinmatrix and came this far: <a href=\"https://i.stack.imgur.com/TRMCG.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/TRMCG.jpg</a>.</p>\n<p>Now I want the user to be able to select the figures by clicking on them. I have the camera position, the ray in which direction the mouse is pointing and the position of the figures. How can I detect if the ray hits the figure (probably using a rectangle hitbox) when it starts at the position of the camera?</p>\n<p>My code so far:</p>\n<pre><code>public void update(Vector3f mouseRay, Camera camera, Figure figure){\n    Vector3f start = camera.getPosition();\n    Vector3f figurePos = figure.getPosition();\n    if(intersect()){\n       selectFigure();\n    }\n}\n</code></pre>\n<p>EDIT:\nI tried this:\n<a href=\"https://stackoverflow.com/questions/6533856/ray-sphere-intersection?noredirect=1&amp;lq=1\">Ray-Sphere intersection</a>\nbut it somehow didn't work. A sphere intersection also seemed very inefficient in respect of a ray box intersection.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1653685446,"post_id":72411025,"comment_id":127919522,"body_markdown":"The first snippet skips logical paths. For example, it does nothing when `x1&gt;=x2` but `x1&lt;x3`.","body":"The first snippet skips logical paths. For example, it does nothing when <code>x1&gt;=x2</code> but <code>x1&lt;x3</code>."},{"owner":{"account_id":25359338,"reputation":19,"user_id":19174910,"display_name":"Ryanzz"},"score":1,"creation_date":1653685786,"post_id":72411025,"comment_id":127919608,"body_markdown":"Oh, I see, so it&#39;s terminated at the else if part since 3 is greater than 2 but smaller than 5. And the else if statements made nothing happened. Since there&#39;s no second alternate happened when x2&gt;=x1 but x2 &lt;=x3. Thank you very much shmosel!","body":"Oh, I see, so it&#39;s terminated at the else if part since 3 is greater than 2 but smaller than 5. And the else if statements made nothing happened. Since there&#39;s no second alternate happened when x2&gt;=x1 but x2 &lt;=x3. Thank you very much shmosel!"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1653687929,"post_id":72411025,"comment_id":127920099,"body_markdown":"This code is terrible. `double maxX = Math.max(x1, Math.max(x2, x3));`","body":"This code is terrible. <code>double maxX = Math.max(x1, Math.max(x2, x3));</code>"},{"owner":{"account_id":25359338,"reputation":19,"user_id":19174910,"display_name":"Ryanzz"},"score":0,"creation_date":1653693656,"post_id":72411025,"comment_id":127921038,"body_markdown":"Oh, I&#39;ve never knew this code under Math class, Thank you very much Elliott.","body":"Oh, I&#39;ve never knew this code under Math class, Thank you very much Elliott."}],"answers":[{"tags":[],"owner":{"account_id":454912,"reputation":2664,"user_id":852795,"accept_rate":85,"display_name":"Mark Cramer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653686146,"creation_date":1653686146,"answer_id":72411153,"question_id":72411025,"body_markdown":"In the first example you&#39;ve nested the if-else statements while in the second you&#39;re using logic operators. Let&#39;s just follow the flow.\r\n\r\nIn the first example, is `x1&gt;=x2`? It is not so we drop to the `else`. Is `x2&gt;=x1`? It is, so we execute the following statement. Is `x2&gt;=x3`? It is not so we&#39;re done. `maxX` is not assigned a value. You do not execute the final `else` because `x2&gt;=x1` returned `true`.\r\n\r\nIn the second example, is `(x1&gt;=x2)&amp;&amp;(x1&gt;=x3)` `true` or `false`. We know `x1&gt;=x2` is `false` and so the expression is `false`, which means to drop to the `else`. Is `(x2&gt;=x1)&amp;&amp;(x2&gt;=x3)` `true` or `false`? `x2&gt;=x1` is `true` but `x2&gt;=x3` is `false`, and so the expression is `false`. This means we drop to the final `else` and `maxX=x3`.\r\n\r\nIt the difference between evaluating the conditional one after the other, or at the same time.","title":"What&#39;s the difference between these 2 simply if statements in java","body":"<p>In the first example you've nested the if-else statements while in the second you're using logic operators. Let's just follow the flow.</p>\n<p>In the first example, is <code>x1&gt;=x2</code>? It is not so we drop to the <code>else</code>. Is <code>x2&gt;=x1</code>? It is, so we execute the following statement. Is <code>x2&gt;=x3</code>? It is not so we're done. <code>maxX</code> is not assigned a value. You do not execute the final <code>else</code> because <code>x2&gt;=x1</code> returned <code>true</code>.</p>\n<p>In the second example, is <code>(x1&gt;=x2)&amp;&amp;(x1&gt;=x3)</code> <code>true</code> or <code>false</code>. We know <code>x1&gt;=x2</code> is <code>false</code> and so the expression is <code>false</code>, which means to drop to the <code>else</code>. Is <code>(x2&gt;=x1)&amp;&amp;(x2&gt;=x3)</code> <code>true</code> or <code>false</code>? <code>x2&gt;=x1</code> is <code>true</code> but <code>x2&gt;=x3</code> is <code>false</code>, and so the expression is <code>false</code>. This means we drop to the final <code>else</code> and <code>maxX=x3</code>.</p>\n<p>It the difference between evaluating the conditional one after the other, or at the same time.</p>\n"},{"tags":[],"owner":{"account_id":22798427,"reputation":46,"user_id":16951603,"display_name":"Kognito"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653686350,"creation_date":1653686350,"answer_id":72411174,"question_id":72411025,"body_markdown":"In the first example your second statement does not do anything for the case in which x2 is greater than one, but lower than x3. You also have the same problem a statement before:\r\n\r\n        if(x1&gt;=x2) {\r\n           if(x1&gt;=x3) {\r\n               maxX = x1;\r\n           }\r\n           else {\r\n              //x1 &gt;= x2 &amp;&amp; x1 &lt; x3 =&gt; x3 is the greatest\r\n           }\r\n        }\r\n        else if(x2&gt;=x1) {\r\n           if(x2&gt;=x3)\r\n              maxX = x2;\r\n           }\r\n           else {\r\n              // x2 &gt;= x1 &amp;&amp; x2 &lt; x3 =&gt; x3 is the greatest\r\n           }\r\n        else {\r\n           // Can never be reached, as either x1 &gt;= x2 or x2 &gt;= x1\r\n           maxX = x3;\r\n        }\r\n\r\nI hope this answer was helpful, I never gave one before.","title":"What&#39;s the difference between these 2 simply if statements in java","body":"<p>In the first example your second statement does not do anything for the case in which x2 is greater than one, but lower than x3. You also have the same problem a statement before:</p>\n<pre><code>    if(x1&gt;=x2) {\n       if(x1&gt;=x3) {\n           maxX = x1;\n       }\n       else {\n          //x1 &gt;= x2 &amp;&amp; x1 &lt; x3 =&gt; x3 is the greatest\n       }\n    }\n    else if(x2&gt;=x1) {\n       if(x2&gt;=x3)\n          maxX = x2;\n       }\n       else {\n          // x2 &gt;= x1 &amp;&amp; x2 &lt; x3 =&gt; x3 is the greatest\n       }\n    else {\n       // Can never be reached, as either x1 &gt;= x2 or x2 &gt;= x1\n       maxX = x3;\n    }\n</code></pre>\n<p>I hope this answer was helpful, I never gave one before.</p>\n"}],"owner":{"account_id":25359338,"reputation":19,"user_id":19174910,"display_name":"Ryanzz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":72411174,"answer_count":2,"score":0,"last_activity_date":1653686350,"creation_date":1653685196,"question_id":72411025,"body_markdown":"As the question asked, I was working on an assignment about creating the bounding box of shapes. I was trying to make a comparison for the maximum X coordinate but it won&#39;t work as expected in the following code.\r\n```import java.util.Scanner;\r\npublic class Test{\r\n\tpublic static void main(String []args) {\r\n\t\tScanner in = new Scanner(System.in);\r\n\t\tdouble x1;\r\n\t\tdouble x2;\r\n\t\tdouble x3;\r\n\t\tdouble maxX= 0;\r\n\t\tSystem.out.println(&quot;input x1&quot;);\r\n\t\tx1 = in.nextDouble();\r\n\t\tSystem.out.println(&quot;input x2&quot;);\r\n\t\tx2 = in.nextDouble();\r\n\t\tSystem.out.println(&quot;input x3&quot;);\r\n\t\tx3 = in.nextDouble();\r\n\r\n\t\t    if(x1&gt;=x2) {\r\n\t\t\t\t if(x1&gt;=x3) {\r\n\t\t\t\t\t maxX = x1;\r\n\t\t\t\t }\r\n\t\t\t\t}\r\n\t\t\t else if(x2&gt;=x1) {\r\n\t\t\t\t if(x2&gt;=x3)\r\n\t\t\t\t\t maxX = x2;\r\n\t\t\t }\r\n\t\t\t else {\r\n\t\t\t\t maxX = x3;\r\n\t\t\t }\r\n```\r\nIf I put x1 =2,x2=3,x3=5. The returned value would equal zero. Which is the initialized value.\r\nBut the program would run correctly with the following code.\r\n```import java.util.Scanner;\r\npublic class Test{\r\n\tpublic static void main(String []args) {\r\n\t\tScanner in = new Scanner(System.in);\r\n\t\tdouble x1;\r\n\t\tdouble x2;\r\n\t\tdouble x3;\r\n\t\tdouble maxX= 0;\r\n\t\tSystem.out.println(&quot;input x1&quot;);\r\n\t\tx1 = in.nextDouble();\r\n\t\tSystem.out.println(&quot;input x2&quot;);\r\n\t\tx2 = in.nextDouble();\r\n\t\tSystem.out.println(&quot;input x3&quot;);\r\n\t\tx3 = in.nextDouble();\r\n\r\n\t\t   \r\n\t\t    \r\n\t\t\r\n\t\tif((x1&gt;=x2)&amp;&amp;(x1&gt;=x3)){\r\n\t\t\tmaxX=x1;\r\n\t\t\t\t}\r\n\t\telse if((x2&gt;=x1)&amp;&amp;(x2&gt;=x3)){\r\n\t\t\tmaxX=x2;\r\n\t\t\t}\r\n\t\telse\r\n\t\t\tmaxX=x3;\r\n\t\tSystem.out.println(maxX);\r\n\t}\r\n}\r\n```\r\nThis time the system would print 5, but I really don&#39;t get it. For the other three coordinates, I used the first method and it worked out perfectly. I don&#39;t know why this specific maxX method would get a problem. \r\n","title":"What&#39;s the difference between these 2 simply if statements in java","body":"<p>As the question asked, I was working on an assignment about creating the bounding box of shapes. I was trying to make a comparison for the maximum X coordinate but it won't work as expected in the following code.</p>\n<pre><code>public class Test{\n    public static void main(String []args) {\n        Scanner in = new Scanner(System.in);\n        double x1;\n        double x2;\n        double x3;\n        double maxX= 0;\n        System.out.println(&quot;input x1&quot;);\n        x1 = in.nextDouble();\n        System.out.println(&quot;input x2&quot;);\n        x2 = in.nextDouble();\n        System.out.println(&quot;input x3&quot;);\n        x3 = in.nextDouble();\n\n            if(x1&gt;=x2) {\n                 if(x1&gt;=x3) {\n                     maxX = x1;\n                 }\n                }\n             else if(x2&gt;=x1) {\n                 if(x2&gt;=x3)\n                     maxX = x2;\n             }\n             else {\n                 maxX = x3;\n             }\n</code></pre>\n<p>If I put x1 =2,x2=3,x3=5. The returned value would equal zero. Which is the initialized value.\nBut the program would run correctly with the following code.</p>\n<pre><code>public class Test{\n    public static void main(String []args) {\n        Scanner in = new Scanner(System.in);\n        double x1;\n        double x2;\n        double x3;\n        double maxX= 0;\n        System.out.println(&quot;input x1&quot;);\n        x1 = in.nextDouble();\n        System.out.println(&quot;input x2&quot;);\n        x2 = in.nextDouble();\n        System.out.println(&quot;input x3&quot;);\n        x3 = in.nextDouble();\n\n           \n            \n        \n        if((x1&gt;=x2)&amp;&amp;(x1&gt;=x3)){\n            maxX=x1;\n                }\n        else if((x2&gt;=x1)&amp;&amp;(x2&gt;=x3)){\n            maxX=x2;\n            }\n        else\n            maxX=x3;\n        System.out.println(maxX);\n    }\n}\n</code></pre>\n<p>This time the system would print 5, but I really don't get it. For the other three coordinates, I used the first method and it worked out perfectly. I don't know why this specific maxX method would get a problem.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8684,"page":1308,"page_size":100}
