{"items":[{"tags":["java","spring-boot","spring-webflux","webclient","reactive"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1673938089,"post_id":75141187,"comment_id":132602393,"body_markdown":"i dont see blockhound saying anything, since you havnt posted the error message with the stack trace.","body":"i dont see blockhound saying anything, since you havnt posted the error message with the stack trace."},{"owner":{"account_id":27546149,"reputation":13,"user_id":21022072,"display_name":"Andr&#233; Luiz"},"score":0,"creation_date":1673957648,"post_id":75141187,"comment_id":132607937,"body_markdown":"@Toerktumlare Ive updated the question with stacktrace","body":"@Toerktumlare Ive updated the question with stacktrace"},{"owner":{"account_id":27546149,"reputation":13,"user_id":21022072,"display_name":"Andr&#233; Luiz"},"score":0,"creation_date":1673963234,"post_id":75141187,"comment_id":132609850,"body_markdown":"@Alex Unfortunately no, cause the error comes when client send request","body":"@Alex Unfortunately no, cause the error comes when client send request"},{"owner":{"account_id":8342701,"reputation":1021,"user_id":6267537,"display_name":"Jonathan Chevalier"},"score":0,"creation_date":1673966468,"post_id":75141187,"comment_id":132611133,"body_markdown":"Also interested!","body":"Also interested!"},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1673969299,"post_id":75141187,"comment_id":132612228,"body_markdown":"Please check comments for https://stackoverflow.com/q/71755344/9068895.","body":"Please check comments for <a href=\"https://stackoverflow.com/q/71755344/9068895\">stackoverflow.com/q/71755344/9068895</a>."},{"owner":{"account_id":27546149,"reputation":13,"user_id":21022072,"display_name":"Andr&#233; Luiz"},"score":0,"creation_date":1673971040,"post_id":75141187,"comment_id":132612885,"body_markdown":"@Alex I&#39;ve tried also, no success","body":"@Alex I&#39;ve tried also, no success"},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1673972097,"post_id":75141187,"comment_id":132613279,"body_markdown":"since this is about `SecureRandom` based on out load tests, it didn&#39;t have much influence on the reactive flow performance. \nYou will face a lot of issues like this while using reactive programming because many libraries have issues. In all such cases your choose is always - ignore or switch to `boundedElastic`. In this case, based on out tests, we just ignored it. \nAlso, I hope you are using `blockhound` in tests. I would not recommend to enable it on prod.","body":"since this is about <code>SecureRandom</code> based on out load tests, it didn&#39;t have much influence on the reactive flow performance.  You will face a lot of issues like this while using reactive programming because many libraries have issues. In all such cases your choose is always - ignore or switch to <code>boundedElastic</code>. In this case, based on out tests, we just ignored it.  Also, I hope you are using <code>blockhound</code> in tests. I would not recommend to enable it on prod."}],"answers":[{"tags":[],"owner":{"account_id":8342701,"reputation":1021,"user_id":6267537,"display_name":"Jonathan Chevalier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673976614,"creation_date":1673976614,"answer_id":75150124,"question_id":75141187,"body_markdown":"             .body(\r\n             BodyInserters.fromProducer(\r\n                 Mono.just(builder.build()).subscribeOn(Schedulers.boundedElastic()),\r\n                 MultiValueMap.class));","title":"Send multipart/form via WebClient [Spring boot]","body":"<pre><code>         .body(\n         BodyInserters.fromProducer(\n             Mono.just(builder.build()).subscribeOn(Schedulers.boundedElastic()),\n             MultiValueMap.class));\n</code></pre>\n"}],"owner":{"account_id":27546149,"reputation":13,"user_id":21022072,"display_name":"Andr&#233; Luiz"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":567,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75150124,"answer_count":1,"score":0,"last_activity_date":1673976614,"creation_date":1673918707,"question_id":75141187,"body_markdown":"I&#39;m trying to send an multipart/form in a WebClient request that contains files and String fields, but blockhound notify that FileInputStream is blocking the call.\r\n\r\n\r\n```\r\npublic Mono&lt;ResponseEntity&gt; anotherCall(){\r\n    MultipartBodyBuilder builder = new MultipartBodyBuilder();\r\n    builder.part(&quot;description&quot;, &quot;description&quot;);\r\n    builder.part(&quot;email&quot;, &quot;email&quot;);\r\n    builder.part(&quot;priority&quot;, 1);\r\n    builder.part(&quot;status&quot;, 2);\r\n    builder.part(&quot;subject&quot;, &quot;subject&quot;);\r\n    builder.part(&quot;company_id&quot;, 150000240766l);\r\n  return Mono.defer(() -&gt; {\r\n             return this.webClient.getWebClient().post().uri(URI)\r\n                     .headers(\r\n                      httpHeaders -&gt; {\r\n                          httpHeaders.setBasicAuth(&quot;API_KEY&quot;, &quot;X&quot;);\r\n                      })\r\n                     .bodyValue(builder.build())\r\n                     .contentType(MediaType.MULTIPART_FORM_DATA)\r\n                     .exchangeToMono(\r\n                             response -&gt; {\r\n                                 final HttpStatus status = response.statusCode();\r\n                                 return response\r\n                                         .bodyToMono(Map.class)\r\n                                         .defaultIfEmpty(Map.of())\r\n                                         .map(\r\n                                                 body -&gt; {\r\n                                                     if (status.is2xxSuccessful()) {\r\n                                                         return ResponseEntity.ok().body(body);\r\n                                                     } else {\r\n                                                         return Error(body);\r\n                                                     }\r\n                                                 });\r\n                             });\r\n\r\n         });\r\n```\r\n\r\n\r\nI&#39;ve tried to use builder.asyncPart(), tried to call Flux.then(),\r\ntried .subscribeOn(Schedulers.boundedElastic())\r\n\r\n\r\nHere is the stacktrace from blockhound, I read that webClient block threads to generate boundary for parts of form, I&#39;ve tried to generate boundary and add to header, but no success.\r\n \r\n```\r\n    reactor.blockhound.BlockingOperationError: Blocking call! java.io.FileInputStream#readBytes\r\n    \tat java.base/java.io.FileInputStream.readBytes(FileInputStream.java)\r\n    \tat java.base/java.io.FileInputStream.read(FileInputStream.java:276)\r\n    \tat java.base/java.io.FilterInputStream.read(FilterInputStream.java:132)\r\n    \tat java.base/sun.security.provider.NativePRNG$RandomIO.readFully(NativePRNG.java:425)\r\n    \tat java.base/sun.security.provider.NativePRNG$RandomIO.ensureBufferValid(NativePRNG.java:528)\r\n    \tat java.base/sun.security.provider.NativePRNG$RandomIO.implNextBytes(NativePRNG.java:547)\r\n    \tat java.base/sun.security.provider.NativePRNG.engineNextBytes(NativePRNG.java:221)\r\n    \tat java.base/java.security.SecureRandom.nextBytes(SecureRandom.java:758)\r\n    \tat java.base/java.security.SecureRandom.next(SecureRandom.java:815)\r\n    \tat java.base/java.util.Random.nextInt(Random.java:323)\r\n    \tat org.springframework.util.MimeTypeUtils.generateMultipartBoundary(MimeTypeUtils.java:404)\r\n    \tat org.springframework.http.codec.multipart.MultipartWriterSupport.generateMultipartBoundary(MultipartWriterSupport.java:105)\r\n    \tat org.springframework.http.codec.multipart.MultipartHttpMessageWriter.writeMultipart(MultipartHttpMessageWriter.java:185)\r\n    \tat org.springframework.http.codec.multipart.MultipartHttpMessageWriter.lambda$write$0(MultipartHttpMessageWriter.java:158)\r\n    \tat reactor.core.publisher.FluxFlatMap.trySubscribeScalarMap(FluxFlatMap.java:152)\r\n    \tat reactor.core.publisher.MonoFlatMap.subscribeOrReturn(MonoFlatMap.java:53)\r\n    \tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:57)\r\n    \tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\r\n    \tat reactor.netty.http.client.HttpClientConnect$HttpIOHandlerObserver.onStateChange(HttpClientConnect.java:441)\r\n    \tat reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:677)\r\n    \tat reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.run(DefaultPooledConnectionProvider.java:274)\r\n    \tat io.netty.util.concurrent.AbstractEventExecutor.runTask$$$capture(AbstractEventExecutor.java:174)\r\n    \tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java)\r\n    \tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute$$$capture(AbstractEventExecutor.java:167)\r\n    \tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java)\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n    \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    \r\n    2023-01-17 09:02:07.040  WARN [,19587802144e28cfd5bee3752b442824,a602a51f0e98a86c]   [nio-8080-exec-6] c.i.p.e.api.GlobalExceptionHandler       : Blocking call! java.io.FileInputStream#readBytes; nested exception is reactor.blockhound.BlockingOperationError: Blocking call! java.io.FileInputStream#readBytes\r\n    \r\n    org.springframework.web.reactive.function.client.WebClientRequestException: Blocking call! java.io.FileInputStream#readBytes; nested exception is reactor.blockhound.BlockingOperationError: Blocking call! java.io.FileInputStream#readBytes\r\n    \tat org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141)\r\n    \tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\n    Error has been observed at the following site(s):\r\n    \t*__checkpoint ⇢ Request to POST URI[DefaultWebClient]\r\n    Original Stack Trace:\r\n    \t\tat org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141)\r\n    \t\tat reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:55)\r\n    \t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4490)\r\n    \t\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\r\n    \t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222)\r\n    \t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222)\r\n    \t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222)\r\n    \t\tat reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)\r\n    \t\tat org.springframework.cloud.sleuth.instrument.reactor.ScopePassingSpanSubscriber.onError(ScopePassingSpanSubscriber.java:96)\r\n    \t\tat reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:204)\r\n    \t\tat reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124)\r\n    \t\tat reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:225)\r\n    \t\tat reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:274)\r\n    \t\tat org.springframework.cloud.sleuth.instrument.reactor.ScopePassingSpanSubscriber.onError(ScopePassingSpanSubscriber.java:96)\r\n    \t\tat reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121)\r\n    \t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:415)\r\n    \t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onNext(FluxConcatMap.java:251)\r\n    \t\tat org.springframework.cloud.sleuth.instrument.reactor.ScopePassingSpanSubscriber.onNext(ScopePassingSpanSubscriber.java:89)\r\n    \t\tat reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)\r\n    \t\tat reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:537)\r\n    \t\tat reactor.core.publisher.EmitterProcessor.tryEmitNext(EmitterProcessor.java:343)\r\n    \t\tat reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:100)\r\n    \t\tat reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27)\r\n    \t\tat reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:190)\r\n    \t\tat org.springframework.cloud.sleuth.instrument.reactor.ScopePassingSpanSubscriber.onError(ScopePassingSpanSubscriber.java:96)\r\n    \t\tat reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:201)\r\n    \t\tat reactor.netty.http.client.HttpClientConnect$HttpObserver.onUncaughtException(HttpClientConnect.java:399)\r\n    \t\tat reactor.netty.ReactorNetty$CompositeConnectionObserver.onUncaughtException(ReactorNetty.java:670)\r\n    \t\tat reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onUncaughtException(DefaultPooledConnectionProvider.java:205)\r\n    \t\tat reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnection.onUncaughtException(DefaultPooledConnectionProvider.java:454)\r\n    \t\tat reactor.netty.http.client.HttpClientOperations.onOutboundError(HttpClientOperations.java:583)\r\n    \t\tat reactor.netty.channel.ChannelOperations.onError(ChannelOperations.java:254)\r\n    \t\tat reactor.core.publisher.Operators.error(Operators.java:198)\r\n    \t\tat reactor.core.publisher.FluxFlatMap.trySubscribeScalarMap(FluxFlatMap.java:161)\r\n    \t\tat reactor.core.publisher.MonoFlatMap.subscribeOrReturn(MonoFlatMap.java:53)\r\n    \t\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:57)\r\n    \t\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\r\n    \t\tat reactor.netty.http.client.HttpClientConnect$HttpIOHandlerObserver.onStateChange(HttpClientConnect.java:441)\r\n    \t\tat reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:677)\r\n    \t\tat reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.run(DefaultPooledConnectionProvider.java:274)\r\n    \t\tat io.netty.util.concurrent.AbstractEventExecutor.runTask$$$capture(AbstractEventExecutor.java:174)\r\n    \t\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java)\r\n    \t\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute$$$capture(AbstractEventExecutor.java:167)\r\n    \t\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java)\r\n    \t\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n    \t\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\r\n    \t\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n    \t\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n    \t\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n    \t\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    Caused by: reactor.blockhound.BlockingOperationError: Blocking call! java.io.FileInputStream#readBytes\r\n    \tat java.base/java.io.FileInputStream.readBytes(FileInputStream.java)\r\n    \tat java.base/java.io.FileInputStream.read(FileInputStream.java:276)\r\n    \tat java.base/java.io.FilterInputStream.read(FilterInputStream.java:132)\r\n    \tat java.base/sun.security.provider.NativePRNG$RandomIO.readFully(NativePRNG.java:425)\r\n    \tat java.base/sun.security.provider.NativePRNG$RandomIO.ensureBufferValid(NativePRNG.java:528)\r\n    \tat java.base/sun.security.provider.NativePRNG$RandomIO.implNextBytes(NativePRNG.java:547)\r\n    \tat java.base/sun.security.provider.NativePRNG.engineNextBytes(NativePRNG.java:221)\r\n    \tat java.base/java.security.SecureRandom.nextBytes(SecureRandom.java:758)\r\n    \tat java.base/java.security.SecureRandom.next(SecureRandom.java:815)\r\n    \tat java.base/java.util.Random.nextInt(Random.java:323)\r\n    \tat org.springframework.util.MimeTypeUtils.generateMultipartBoundary(MimeTypeUtils.java:404)\r\n    \tat org.springframework.http.codec.multipart.MultipartWriterSupport.generateMultipartBoundary(MultipartWriterSupport.java:105)\r\n    \tat org.springframework.http.codec.multipart.MultipartHttpMessageWriter.writeMultipart(MultipartHttpMessageWriter.java:185)\r\n    \tat org.springframework.http.codec.multipart.MultipartHttpMessageWriter.lambda$write$0(MultipartHttpMessageWriter.java:158)\r\n    \tat reactor.core.publisher.FluxFlatMap.trySubscribeScalarMap(FluxFlatMap.java:152)\r\n    \tat reactor.core.publisher.MonoFlatMap.subscribeOrReturn(MonoFlatMap.java:53)\r\n    \tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:57)\r\n    \tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\r\n    \tat reactor.netty.http.client.HttpClientConnect$HttpIOHandlerObserver.onStateChange(HttpClientConnect.java:441)\r\n    \tat reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:677)\r\n    \tat reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.run(DefaultPooledConnectionProvider.java:274)\r\n    \tat io.netty.util.concurrent.AbstractEventExecutor.runTask$$$capture(AbstractEventExecutor.java:174)\r\n    \tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java)\r\n    \tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute$$$capture(AbstractEventExecutor.java:167)\r\n    \tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java)\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n    \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```","title":"Send multipart/form via WebClient [Spring boot]","body":"<p>I'm trying to send an multipart/form in a WebClient request that contains files and String fields, but blockhound notify that FileInputStream is blocking the call.</p>\n<pre><code>public Mono&lt;ResponseEntity&gt; anotherCall(){\n    MultipartBodyBuilder builder = new MultipartBodyBuilder();\n    builder.part(&quot;description&quot;, &quot;description&quot;);\n    builder.part(&quot;email&quot;, &quot;email&quot;);\n    builder.part(&quot;priority&quot;, 1);\n    builder.part(&quot;status&quot;, 2);\n    builder.part(&quot;subject&quot;, &quot;subject&quot;);\n    builder.part(&quot;company_id&quot;, 150000240766l);\n  return Mono.defer(() -&gt; {\n             return this.webClient.getWebClient().post().uri(URI)\n                     .headers(\n                      httpHeaders -&gt; {\n                          httpHeaders.setBasicAuth(&quot;API_KEY&quot;, &quot;X&quot;);\n                      })\n                     .bodyValue(builder.build())\n                     .contentType(MediaType.MULTIPART_FORM_DATA)\n                     .exchangeToMono(\n                             response -&gt; {\n                                 final HttpStatus status = response.statusCode();\n                                 return response\n                                         .bodyToMono(Map.class)\n                                         .defaultIfEmpty(Map.of())\n                                         .map(\n                                                 body -&gt; {\n                                                     if (status.is2xxSuccessful()) {\n                                                         return ResponseEntity.ok().body(body);\n                                                     } else {\n                                                         return Error(body);\n                                                     }\n                                                 });\n                             });\n\n         });\n</code></pre>\n<p>I've tried to use builder.asyncPart(), tried to call Flux.then(),\ntried .subscribeOn(Schedulers.boundedElastic())</p>\n<p>Here is the stacktrace from blockhound, I read that webClient block threads to generate boundary for parts of form, I've tried to generate boundary and add to header, but no success.</p>\n<pre><code>    reactor.blockhound.BlockingOperationError: Blocking call! java.io.FileInputStream#readBytes\n        at java.base/java.io.FileInputStream.readBytes(FileInputStream.java)\n        at java.base/java.io.FileInputStream.read(FileInputStream.java:276)\n        at java.base/java.io.FilterInputStream.read(FilterInputStream.java:132)\n        at java.base/sun.security.provider.NativePRNG$RandomIO.readFully(NativePRNG.java:425)\n        at java.base/sun.security.provider.NativePRNG$RandomIO.ensureBufferValid(NativePRNG.java:528)\n        at java.base/sun.security.provider.NativePRNG$RandomIO.implNextBytes(NativePRNG.java:547)\n        at java.base/sun.security.provider.NativePRNG.engineNextBytes(NativePRNG.java:221)\n        at java.base/java.security.SecureRandom.nextBytes(SecureRandom.java:758)\n        at java.base/java.security.SecureRandom.next(SecureRandom.java:815)\n        at java.base/java.util.Random.nextInt(Random.java:323)\n        at org.springframework.util.MimeTypeUtils.generateMultipartBoundary(MimeTypeUtils.java:404)\n        at org.springframework.http.codec.multipart.MultipartWriterSupport.generateMultipartBoundary(MultipartWriterSupport.java:105)\n        at org.springframework.http.codec.multipart.MultipartHttpMessageWriter.writeMultipart(MultipartHttpMessageWriter.java:185)\n        at org.springframework.http.codec.multipart.MultipartHttpMessageWriter.lambda$write$0(MultipartHttpMessageWriter.java:158)\n        at reactor.core.publisher.FluxFlatMap.trySubscribeScalarMap(FluxFlatMap.java:152)\n        at reactor.core.publisher.MonoFlatMap.subscribeOrReturn(MonoFlatMap.java:53)\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:57)\n        at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\n        at reactor.netty.http.client.HttpClientConnect$HttpIOHandlerObserver.onStateChange(HttpClientConnect.java:441)\n        at reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:677)\n        at reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.run(DefaultPooledConnectionProvider.java:274)\n        at io.netty.util.concurrent.AbstractEventExecutor.runTask$$$capture(AbstractEventExecutor.java:174)\n        at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java)\n        at io.netty.util.concurrent.AbstractEventExecutor.safeExecute$$$capture(AbstractEventExecutor.java:167)\n        at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java)\n        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n    \n    2023-01-17 09:02:07.040  WARN [,19587802144e28cfd5bee3752b442824,a602a51f0e98a86c]   [nio-8080-exec-6] c.i.p.e.api.GlobalExceptionHandler       : Blocking call! java.io.FileInputStream#readBytes; nested exception is reactor.blockhound.BlockingOperationError: Blocking call! java.io.FileInputStream#readBytes\n    \n    org.springframework.web.reactive.function.client.WebClientRequestException: Blocking call! java.io.FileInputStream#readBytes; nested exception is reactor.blockhound.BlockingOperationError: Blocking call! java.io.FileInputStream#readBytes\n        at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141)\n        Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \n    Error has been observed at the following site(s):\n        *__checkpoint ⇢ Request to POST URI[DefaultWebClient]\n    Original Stack Trace:\n            at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141)\n            at reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:55)\n            at reactor.core.publisher.Mono.subscribe(Mono.java:4490)\n            at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\n            at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222)\n            at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222)\n            at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222)\n            at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)\n            at org.springframework.cloud.sleuth.instrument.reactor.ScopePassingSpanSubscriber.onError(ScopePassingSpanSubscriber.java:96)\n            at reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:204)\n            at reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124)\n            at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:225)\n            at reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:274)\n            at org.springframework.cloud.sleuth.instrument.reactor.ScopePassingSpanSubscriber.onError(ScopePassingSpanSubscriber.java:96)\n            at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121)\n            at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:415)\n            at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onNext(FluxConcatMap.java:251)\n            at org.springframework.cloud.sleuth.instrument.reactor.ScopePassingSpanSubscriber.onNext(ScopePassingSpanSubscriber.java:89)\n            at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)\n            at reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:537)\n            at reactor.core.publisher.EmitterProcessor.tryEmitNext(EmitterProcessor.java:343)\n            at reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:100)\n            at reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27)\n            at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:190)\n            at org.springframework.cloud.sleuth.instrument.reactor.ScopePassingSpanSubscriber.onError(ScopePassingSpanSubscriber.java:96)\n            at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:201)\n            at reactor.netty.http.client.HttpClientConnect$HttpObserver.onUncaughtException(HttpClientConnect.java:399)\n            at reactor.netty.ReactorNetty$CompositeConnectionObserver.onUncaughtException(ReactorNetty.java:670)\n            at reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onUncaughtException(DefaultPooledConnectionProvider.java:205)\n            at reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnection.onUncaughtException(DefaultPooledConnectionProvider.java:454)\n            at reactor.netty.http.client.HttpClientOperations.onOutboundError(HttpClientOperations.java:583)\n            at reactor.netty.channel.ChannelOperations.onError(ChannelOperations.java:254)\n            at reactor.core.publisher.Operators.error(Operators.java:198)\n            at reactor.core.publisher.FluxFlatMap.trySubscribeScalarMap(FluxFlatMap.java:161)\n            at reactor.core.publisher.MonoFlatMap.subscribeOrReturn(MonoFlatMap.java:53)\n            at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:57)\n            at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\n            at reactor.netty.http.client.HttpClientConnect$HttpIOHandlerObserver.onStateChange(HttpClientConnect.java:441)\n            at reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:677)\n            at reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.run(DefaultPooledConnectionProvider.java:274)\n            at io.netty.util.concurrent.AbstractEventExecutor.runTask$$$capture(AbstractEventExecutor.java:174)\n            at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java)\n            at io.netty.util.concurrent.AbstractEventExecutor.safeExecute$$$capture(AbstractEventExecutor.java:167)\n            at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java)\n            at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\n            at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\n            at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n            at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n            at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n            at java.base/java.lang.Thread.run(Thread.java:833)\n    Caused by: reactor.blockhound.BlockingOperationError: Blocking call! java.io.FileInputStream#readBytes\n        at java.base/java.io.FileInputStream.readBytes(FileInputStream.java)\n        at java.base/java.io.FileInputStream.read(FileInputStream.java:276)\n        at java.base/java.io.FilterInputStream.read(FilterInputStream.java:132)\n        at java.base/sun.security.provider.NativePRNG$RandomIO.readFully(NativePRNG.java:425)\n        at java.base/sun.security.provider.NativePRNG$RandomIO.ensureBufferValid(NativePRNG.java:528)\n        at java.base/sun.security.provider.NativePRNG$RandomIO.implNextBytes(NativePRNG.java:547)\n        at java.base/sun.security.provider.NativePRNG.engineNextBytes(NativePRNG.java:221)\n        at java.base/java.security.SecureRandom.nextBytes(SecureRandom.java:758)\n        at java.base/java.security.SecureRandom.next(SecureRandom.java:815)\n        at java.base/java.util.Random.nextInt(Random.java:323)\n        at org.springframework.util.MimeTypeUtils.generateMultipartBoundary(MimeTypeUtils.java:404)\n        at org.springframework.http.codec.multipart.MultipartWriterSupport.generateMultipartBoundary(MultipartWriterSupport.java:105)\n        at org.springframework.http.codec.multipart.MultipartHttpMessageWriter.writeMultipart(MultipartHttpMessageWriter.java:185)\n        at org.springframework.http.codec.multipart.MultipartHttpMessageWriter.lambda$write$0(MultipartHttpMessageWriter.java:158)\n        at reactor.core.publisher.FluxFlatMap.trySubscribeScalarMap(FluxFlatMap.java:152)\n        at reactor.core.publisher.MonoFlatMap.subscribeOrReturn(MonoFlatMap.java:53)\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:57)\n        at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\n        at reactor.netty.http.client.HttpClientConnect$HttpIOHandlerObserver.onStateChange(HttpClientConnect.java:441)\n        at reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:677)\n        at reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.run(DefaultPooledConnectionProvider.java:274)\n        at io.netty.util.concurrent.AbstractEventExecutor.runTask$$$capture(AbstractEventExecutor.java:174)\n        at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java)\n        at io.netty.util.concurrent.AbstractEventExecutor.safeExecute$$$capture(AbstractEventExecutor.java:167)\n        at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java)\n        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n"},{"tags":["java","android","out-of-memory"],"owner":{"account_id":27425678,"reputation":1,"user_id":20923235,"display_name":"Nikolas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673976420,"creation_date":1673968340,"question_id":75148465,"body_markdown":"So I developed an Android application which acts as a server for my Android game(two separated apps), both applications were written in Java. \r\nPreviously I got messages on the Log like: &quot;Skipped 2000 frames. The main thread could be overworking&quot;. \r\nThis is the code of my app, it&#39;s made of only the MainActivity:\r\n\r\nI tried to introduce concurrent Threads in order to make the main thread lighter. Now the skipped n frames message isn&#39;t showed anymore but messages such like the followings are shown anyways.\r\n&quot;Alloc concurrent copying GC freed&quot;, &quot;Starting a blocking GC alloc&quot;, &quot;Waiting for a blocking GC alloc&quot;, &quot;WaitForGcToComplete blocked alloc on HeapTrim&quot; and all of this ends with \r\nThrowing OutOfMemoryError &quot;Failed to allocate a 32 byte allocation with 15604408 free bytes and 14MB until OOM, target footprint 268435456, growth limit 268435456; failed due to fragmentation (largest possible contiguous allocation 0 bytes)&quot; (VmSize 5539048 kB).\r\n\r\nI tried to deallocate some objects (lines of code which contains &quot;x = null&quot;) but it didn&#39;t solve. Furthermore I checked with a log if there is some sort of endless loop but it doesn&#39;t seem to be the case.\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    private static ActivityMainBinding binding;\r\n    private WSocServer server;\r\n    private int port = 8080;\r\n    private boolean isOnline = false;\r\n    private static ArrayList&lt;String&gt; logs = new ArrayList&lt;&gt;();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n        setSupportActionBar(binding.toolbar);\r\n\r\n        binding.openConnection.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if(!isOnline) {\r\n                    isOnline = true;\r\n                    server = new WSocServer(port);\r\n                    server.start();\r\n                    Toast toast = Toast.makeText(view.getContext(),&quot;Server is on&quot;, Toast.LENGTH_LONG);\r\n                    toast.show();\r\n                    Log.i(&quot;WebSocket Server&quot;, &quot;Started on port &quot; + server.getPort());\r\n                }\r\n                else{\r\n                    Snackbar snack = Snackbar.make(view ,&quot;We are already online!&quot;, Snackbar.LENGTH_INDEFINITE);\r\n                    snack.setAction(&quot;Got it&quot;, new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View view) {\r\n                            snack.dismiss();\r\n                        }\r\n                    });\r\n                    snack.show();\r\n                }\r\n            }\r\n        });\r\n\r\n        binding.closeConnection.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if(isOnline) {\r\n                    isOnline = false;\r\n                    logs.clear();\r\n                    Toast toast = Toast.makeText(view.getContext(),&quot;Server is off&quot;, Toast.LENGTH_LONG);\r\n                    toast.show();\r\n                    try {\r\n                        server.stop();\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n                else{\r\n                    Snackbar snack = Snackbar.make(view ,&quot;We are already offline!&quot;, Snackbar.LENGTH_INDEFINITE);\r\n                    snack.setAction(&quot;Got it&quot;, new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View view) {\r\n                            snack.dismiss();\r\n                        }\r\n                    });\r\n                    snack.show();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    private static void addOnView(){\r\n        ConstraintLayout cl = binding.logsView;\r\n        Handler h = new Handler(Looper.getMainLooper());\r\n        for(int i = 0; i &lt; logs.size(); i++){\r\n            TextView tv = new TextView(binding.getRoot().getContext());\r\n            tv.setTextSize(16);\r\n            tv.setTextAlignment(View.TEXT_ALIGNMENT_CENTER);\r\n            tv.setPadding(40,180*(i+1),40,0);\r\n            tv.setText(logs.get(i));\r\n            Runnable r = new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    cl.addView(tv);\r\n\r\n                }\r\n            };\r\n            h.post(r);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        try {\r\n            server.stop();\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public static class WSocServer extends WebSocketServer {\r\n        private List&lt;String&gt; matchUsers;\r\n        private Integer timerSeconds;\r\n        private UUID matchId;\r\n\r\n        //a key represents a match to which an array of extracted numbers is associated\r\n        private Hashtable&lt;String,Integer[]&gt; matchExtractedNumbers = new Hashtable&lt;&gt;();\r\n        private Hashtable&lt;String, Collection&lt;WebSocket&gt;&gt; matchClients = new Hashtable&lt;&gt;();\r\n        private Hashtable&lt;String,Hashtable&lt;String,ArrayList&lt;String&gt;&gt;&gt; users_scorePerMatch = new Hashtable&lt;&gt;();\r\n        private Hashtable&lt;String,WebSocket&gt; clientConnection = new Hashtable&lt;&gt;();\r\n\r\n        private void initTimer(){\r\n            timerSeconds = 60;\r\n            Timer timer = new Timer();\r\n            TimerTask task = new TimerTask() {\r\n                public void run() {\r\n                    if(timerSeconds &gt; 0) timerSeconds--;\r\n                    else {\r\n                        timerSeconds = 60; timer.cancel(); timer.purge();\r\n                    }\r\n                }\r\n            };\r\n            timer.schedule(task,0L,1000L);\r\n        }\r\n\r\n        private String UsersListToString(List list){\r\n            return list.toString().replace(&quot;[&quot;,&quot;&quot;).replace(&quot;]&quot;,&quot;&quot;);\r\n        }\r\n\r\n        private Integer[] generateExtractedNumbers(){\r\n            Integer[] callerBoard = new Integer[90];\r\n            List&lt;Integer&gt; boardPool = new ArrayList&lt;&gt;();\r\n            boardPool.addAll(Arrays.asList(IntStream.rangeClosed(1,90).boxed().toArray(Integer[]::new)));\r\n            for(int i = 0; i &lt; 90; i++){\r\n                int rng = ThreadLocalRandom.current().nextInt(0,90-i);\r\n                callerBoard[i] = boardPool.remove(rng);\r\n            }\r\n            return callerBoard;\r\n        }\r\n\r\n        private void initMatch(){\r\n            matchId = UUID.randomUUID();\r\n            Integer[] matchBoard = generateExtractedNumbers();\r\n            matchExtractedNumbers.put(matchId.toString(),matchBoard);\r\n            matchClients.put(matchId.toString(),clientConnection.values());\r\n            Hashtable&lt;String,ArrayList&lt;String&gt;&gt; matchData = new Hashtable&lt;&gt;();\r\n            for(String user: matchUsers) matchData.put(user,new ArrayList&lt;&gt;());\r\n            users_scorePerMatch.put(matchId.toString(), matchData);\r\n        }\r\n\r\n        private Integer getExtractedNumber(String match, Integer turn){\r\n            if(turn &gt;= 90) return -1;\r\n            Integer[] thisMatchExtractedNumbers = matchExtractedNumbers.get(match);\r\n            Integer returning = thisMatchExtractedNumbers[turn];\r\n            thisMatchExtractedNumbers = null;\r\n            return returning;\r\n        }\r\n\r\n        \r\n\r\n        public WSocServer(int port){\r\n            super(new InetSocketAddress(port));\r\n        }\r\n\r\n        public WSocServer(InetSocketAddress address) {\r\n            super(address);\r\n        }\r\n\r\n        @Override\r\n        public void onOpen(WebSocket conn, ClientHandshake handshake) {\r\n            Thread thread = new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    Log.i(&quot;WebSocket(open)&quot;, conn.getRemoteSocketAddress().getAddress().getHostAddress() + &quot; entered the room!&quot;);\r\n                    logs.add(conn.getRemoteSocketAddress().getAddress().getHostAddress() + &quot; entered the room!&quot;);\r\n                    matchUsers = new ArrayList&lt;&gt;();\r\n                    matchUsers.addAll(Arrays.asList(&quot;user1&quot;,&quot;user2&quot;,&quot;user3&quot;,&quot;user4&quot;,&quot;user5&quot;));\r\n                }\r\n            });\r\n            thread.start();\r\n        }\r\n\r\n        @Override\r\n        public void onClose(WebSocket conn, int code, String reason, boolean remote) {\r\n            Thread thread = new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    Log.i(&quot;WebSocket(close)&quot;, conn + &quot; has left the room! Reason: &quot; + reason);\r\n                    logs.add(conn + &quot; has left the room!&quot;);\r\n                }\r\n            });\r\n            thread.start();\r\n        }\r\n\r\n        @Override\r\n        public void onMessage(WebSocket conn, String message) {\r\n            Thread thread = new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    logs.add(message + &quot; from &quot; + conn.getRemoteSocketAddress().getAddress().getHostAddress());\r\n                    Log.i(&quot;WebSocket(message)&quot;, conn + &quot;: &quot; + message);\r\n                    MainActivity.addOnView();\r\n\r\n                    if(message.startsWith(&quot;username&quot;)){\r\n                        if(matchUsers.size() &lt; 6){\r\n                            String user = message.replace(&quot;username;&quot;,&quot;&quot;);\r\n                            if(!matchUsers.contains(user)) {\r\n                                matchUsers.add(user);\r\n                                clientConnection.put(user,conn);\r\n                            }\r\n                            String sending = &quot;matchUsers;&quot; + UsersListToString(matchUsers);\r\n                            conn.send(sending);\r\n                        }\r\n                        else conn.send(&quot;errorUsername&quot;);\r\n                    }\r\n                    else if(message.equals(&quot;timerStart&quot;)){\r\n                        initTimer();\r\n                        if(matchUsers.size() &lt; 6){\r\n                            String sending = &quot;timeStarter;&quot; + timerSeconds.toString();\r\n                            conn.send(sending);\r\n                        }\r\n                        else conn.send(&quot;errorTimer&quot;);\r\n                    }\r\n                    else if(message.equals(&quot;getMatchId&quot;)){\r\n                        if(!matchUsers.isEmpty()){\r\n                            initMatch();\r\n                            matchUsers.clear();\r\n                        }\r\n                        String sending = &quot;matchId;&quot; + matchId.toString();\r\n                        conn.send(sending);\r\n                    }\r\n                    else if(message.startsWith(&quot;inGame&quot;)){\r\n                        String[] fields = message.split(&quot;;&quot;);\r\n                        String matchId = fields[1].split(&quot;=&quot;)[1];\r\n                        int turn = Integer.parseInt(fields[2].split(&quot;=&quot;)[1]);\r\n                        Integer extraction = getExtractedNumber(matchId,turn);\r\n                        fields = null;\r\n                        conn.send(&quot;extracted=&quot; + extraction.toString());\r\n                    }\r\n                    else if(message.startsWith(&quot;score&quot;)){\r\n                        String matchId = message.split(&quot;;&quot;)[1].split(&quot;=&quot;)[1];\r\n                        String score = message.split(&quot;;&quot;)[0].split(&quot;=&quot;)[1];\r\n                        WebSocket[] clients = matchClients.get(matchId).toArray(new WebSocket[0]);\r\n                        String user = &quot;&quot;;\r\n                        Enumeration&lt;String&gt; keys = clientConnection.keys();\r\n                        String key = keys.nextElement();\r\n                        while(!key.isEmpty()){\r\n                            if(clientConnection.get(key) == conn) {\r\n                                user = key;\r\n                                break;\r\n                            }\r\n                            key = keys.nextElement();\r\n                        }\r\n\r\n                        keys = null;\r\n                        Hashtable&lt;String,ArrayList&lt;String&gt;&gt; tmp = users_scorePerMatch.get(matchId);\r\n                        ArrayList&lt;String&gt; tmp_list = tmp.get(user);\r\n                        tmp_list.add(score);\r\n                        tmp.replace(user,tmp_list);\r\n                        users_scorePerMatch.replace(matchId,tmp);\r\n\r\n                        for(int i = 0; i &lt; clients.length; i++){\r\n                            clients[i].send(&quot;statement;&quot; + user + &quot; got &quot; + score + &quot; with&quot;);\r\n                        }\r\n                        clients = null;\r\n                    }\r\n                    else if(message.startsWith(&quot;endMatchData&quot;)){\r\n                        String matchId = message.split(&quot;;&quot;)[1].split(&quot;=&quot;)[1];\r\n                        Hashtable&lt;String,ArrayList&lt;String&gt;&gt; users_ofMatch = users_scorePerMatch.get(matchId);\r\n                        ArrayList&lt;String&gt; users = new ArrayList&lt;&gt;();\r\n                        Enumeration&lt;String&gt; e = users_ofMatch.keys();\r\n\r\n                        while(e.hasMoreElements()){\r\n                            Log.e(&quot;endmatchdata&quot;,&quot;a&quot;);\r\n                            users.add(e.nextElement());\r\n                        }\r\n                        e = null;\r\n                        String sending = &quot;matchEndData;&quot;;\r\n                        for(String user: users) sending += user + &quot;=&quot; + UsersListToString(users_ofMatch.get(user)) + &quot;:&quot;;\r\n                        users_ofMatch = null;\r\n                        conn.send(sending);\r\n                    }\r\n                    else if(message.startsWith(&quot;totalEnd&quot;)){\r\n                        String matchId = message.split(&quot;;&quot;)[1].split(&quot;=&quot;)[1];\r\n                        if(matchClients.get(matchId)!=null) {\r\n                            WebSocket[] clients = matchClients.get(matchId).toArray(new WebSocket[0]);\r\n                            for (WebSocket client : clients) client.close();\r\n                            Enumeration&lt;String&gt; e = clientConnection.keys();\r\n                            boolean exit = false;\r\n                            while (e.hasMoreElements() &amp;&amp; !exit) {\r\n                                Log.e(&quot;totalend&quot;, &quot;while&quot;);\r\n                                for (WebSocket client : clients) {\r\n                                    Log.e(&quot;totalend&quot;, &quot;for&quot;);\r\n                                    String tmp = e.nextElement();\r\n                                    if (clientConnection.get(tmp) == client) {\r\n                                        clientConnection.remove(tmp);\r\n                                        exit = true;\r\n                                        break;\r\n                                    }\r\n                                }\r\n                            }\r\n                            e = null; clients = null;\r\n                            matchClients.remove(matchId);\r\n                            users_scorePerMatch.remove(matchId);\r\n                            matchExtractedNumbers.remove(matchId);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n\r\n            thread.start();\r\n        }\r\n        @Override\r\n        public void onMessage(WebSocket conn, ByteBuffer message) {\r\n            Thread thread = new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    Log.i(&quot;WebSocket(message)&quot;, conn + &quot;: &quot; + message );\r\n\r\n                }\r\n            });\r\n            thread.start();\r\n        }\r\n\r\n        public static void main(String[] args){\r\n        }\r\n        @Override\r\n        public void onError(WebSocket conn, Exception ex) {\r\n            ex.printStackTrace();\r\n        }\r\n\r\n        @Override\r\n        public void onStart() {\r\n            Thread thread = new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    Log.i(&quot;WebSocket&quot;, &quot;Server started!&quot;);\r\n                }\r\n            });\r\n            thread.start();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nEDIT: The thing seems to be happening at the end of the match(i.e in the message.startsWith(&quot;totalEnd&quot;) or message.startsWith(&quot;endmatchdata&quot;) if cases in the onMessage method\r\n\r\nEDIT 2: I found out that the addOnView function was badly written.\r\nI changed it into \r\n```\r\nprivate static void addOnView(){\r\n        ConstraintLayout cl = binding.logsView;\r\n        Handler h = new Handler(Looper.getMainLooper());\r\n\r\n        final TextView tv = new TextView(binding.getRoot().getContext());\r\n        tv.setTextSize(16);\r\n        tv.setTextAlignment(View.TEXT_ALIGNMENT_CENTER);\r\n        tv.setPadding(40,180*(logs.size()+1),40,0);\r\n        tv.setText(logs.get(logs.size()-1));\r\n        Runnable r = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                cl.addView(tv);\r\n\r\n            }\r\n        };\r\n        h.post(r);\r\n        h = null;\r\n        r = null;\r\n    }\r\n```\r\nAnd it solved.","title":"OutOfMemory Exception in Android-Java. Allocation failed due to fragmentation","body":"<p>So I developed an Android application which acts as a server for my Android game(two separated apps), both applications were written in Java.\nPreviously I got messages on the Log like: &quot;Skipped 2000 frames. The main thread could be overworking&quot;.\nThis is the code of my app, it's made of only the MainActivity:</p>\n<p>I tried to introduce concurrent Threads in order to make the main thread lighter. Now the skipped n frames message isn't showed anymore but messages such like the followings are shown anyways.\n&quot;Alloc concurrent copying GC freed&quot;, &quot;Starting a blocking GC alloc&quot;, &quot;Waiting for a blocking GC alloc&quot;, &quot;WaitForGcToComplete blocked alloc on HeapTrim&quot; and all of this ends with\nThrowing OutOfMemoryError &quot;Failed to allocate a 32 byte allocation with 15604408 free bytes and 14MB until OOM, target footprint 268435456, growth limit 268435456; failed due to fragmentation (largest possible contiguous allocation 0 bytes)&quot; (VmSize 5539048 kB).</p>\n<p>I tried to deallocate some objects (lines of code which contains &quot;x = null&quot;) but it didn't solve. Furthermore I checked with a log if there is some sort of endless loop but it doesn't seem to be the case.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    private static ActivityMainBinding binding;\n    private WSocServer server;\n    private int port = 8080;\n    private boolean isOnline = false;\n    private static ArrayList&lt;String&gt; logs = new ArrayList&lt;&gt;();\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n        setSupportActionBar(binding.toolbar);\n\n        binding.openConnection.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if(!isOnline) {\n                    isOnline = true;\n                    server = new WSocServer(port);\n                    server.start();\n                    Toast toast = Toast.makeText(view.getContext(),&quot;Server is on&quot;, Toast.LENGTH_LONG);\n                    toast.show();\n                    Log.i(&quot;WebSocket Server&quot;, &quot;Started on port &quot; + server.getPort());\n                }\n                else{\n                    Snackbar snack = Snackbar.make(view ,&quot;We are already online!&quot;, Snackbar.LENGTH_INDEFINITE);\n                    snack.setAction(&quot;Got it&quot;, new View.OnClickListener() {\n                        @Override\n                        public void onClick(View view) {\n                            snack.dismiss();\n                        }\n                    });\n                    snack.show();\n                }\n            }\n        });\n\n        binding.closeConnection.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if(isOnline) {\n                    isOnline = false;\n                    logs.clear();\n                    Toast toast = Toast.makeText(view.getContext(),&quot;Server is off&quot;, Toast.LENGTH_LONG);\n                    toast.show();\n                    try {\n                        server.stop();\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n                else{\n                    Snackbar snack = Snackbar.make(view ,&quot;We are already offline!&quot;, Snackbar.LENGTH_INDEFINITE);\n                    snack.setAction(&quot;Got it&quot;, new View.OnClickListener() {\n                        @Override\n                        public void onClick(View view) {\n                            snack.dismiss();\n                        }\n                    });\n                    snack.show();\n                }\n            }\n        });\n    }\n\n    private static void addOnView(){\n        ConstraintLayout cl = binding.logsView;\n        Handler h = new Handler(Looper.getMainLooper());\n        for(int i = 0; i &lt; logs.size(); i++){\n            TextView tv = new TextView(binding.getRoot().getContext());\n            tv.setTextSize(16);\n            tv.setTextAlignment(View.TEXT_ALIGNMENT_CENTER);\n            tv.setPadding(40,180*(i+1),40,0);\n            tv.setText(logs.get(i));\n            Runnable r = new Runnable() {\n                @Override\n                public void run() {\n                    cl.addView(tv);\n\n                }\n            };\n            h.post(r);\n        }\n    }\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        try {\n            server.stop();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static class WSocServer extends WebSocketServer {\n        private List&lt;String&gt; matchUsers;\n        private Integer timerSeconds;\n        private UUID matchId;\n\n        //a key represents a match to which an array of extracted numbers is associated\n        private Hashtable&lt;String,Integer[]&gt; matchExtractedNumbers = new Hashtable&lt;&gt;();\n        private Hashtable&lt;String, Collection&lt;WebSocket&gt;&gt; matchClients = new Hashtable&lt;&gt;();\n        private Hashtable&lt;String,Hashtable&lt;String,ArrayList&lt;String&gt;&gt;&gt; users_scorePerMatch = new Hashtable&lt;&gt;();\n        private Hashtable&lt;String,WebSocket&gt; clientConnection = new Hashtable&lt;&gt;();\n\n        private void initTimer(){\n            timerSeconds = 60;\n            Timer timer = new Timer();\n            TimerTask task = new TimerTask() {\n                public void run() {\n                    if(timerSeconds &gt; 0) timerSeconds--;\n                    else {\n                        timerSeconds = 60; timer.cancel(); timer.purge();\n                    }\n                }\n            };\n            timer.schedule(task,0L,1000L);\n        }\n\n        private String UsersListToString(List list){\n            return list.toString().replace(&quot;[&quot;,&quot;&quot;).replace(&quot;]&quot;,&quot;&quot;);\n        }\n\n        private Integer[] generateExtractedNumbers(){\n            Integer[] callerBoard = new Integer[90];\n            List&lt;Integer&gt; boardPool = new ArrayList&lt;&gt;();\n            boardPool.addAll(Arrays.asList(IntStream.rangeClosed(1,90).boxed().toArray(Integer[]::new)));\n            for(int i = 0; i &lt; 90; i++){\n                int rng = ThreadLocalRandom.current().nextInt(0,90-i);\n                callerBoard[i] = boardPool.remove(rng);\n            }\n            return callerBoard;\n        }\n\n        private void initMatch(){\n            matchId = UUID.randomUUID();\n            Integer[] matchBoard = generateExtractedNumbers();\n            matchExtractedNumbers.put(matchId.toString(),matchBoard);\n            matchClients.put(matchId.toString(),clientConnection.values());\n            Hashtable&lt;String,ArrayList&lt;String&gt;&gt; matchData = new Hashtable&lt;&gt;();\n            for(String user: matchUsers) matchData.put(user,new ArrayList&lt;&gt;());\n            users_scorePerMatch.put(matchId.toString(), matchData);\n        }\n\n        private Integer getExtractedNumber(String match, Integer turn){\n            if(turn &gt;= 90) return -1;\n            Integer[] thisMatchExtractedNumbers = matchExtractedNumbers.get(match);\n            Integer returning = thisMatchExtractedNumbers[turn];\n            thisMatchExtractedNumbers = null;\n            return returning;\n        }\n\n        \n\n        public WSocServer(int port){\n            super(new InetSocketAddress(port));\n        }\n\n        public WSocServer(InetSocketAddress address) {\n            super(address);\n        }\n\n        @Override\n        public void onOpen(WebSocket conn, ClientHandshake handshake) {\n            Thread thread = new Thread(new Runnable() {\n                @Override\n                public void run() {\n                    Log.i(&quot;WebSocket(open)&quot;, conn.getRemoteSocketAddress().getAddress().getHostAddress() + &quot; entered the room!&quot;);\n                    logs.add(conn.getRemoteSocketAddress().getAddress().getHostAddress() + &quot; entered the room!&quot;);\n                    matchUsers = new ArrayList&lt;&gt;();\n                    matchUsers.addAll(Arrays.asList(&quot;user1&quot;,&quot;user2&quot;,&quot;user3&quot;,&quot;user4&quot;,&quot;user5&quot;));\n                }\n            });\n            thread.start();\n        }\n\n        @Override\n        public void onClose(WebSocket conn, int code, String reason, boolean remote) {\n            Thread thread = new Thread(new Runnable() {\n                @Override\n                public void run() {\n                    Log.i(&quot;WebSocket(close)&quot;, conn + &quot; has left the room! Reason: &quot; + reason);\n                    logs.add(conn + &quot; has left the room!&quot;);\n                }\n            });\n            thread.start();\n        }\n\n        @Override\n        public void onMessage(WebSocket conn, String message) {\n            Thread thread = new Thread(new Runnable() {\n                @Override\n                public void run() {\n                    logs.add(message + &quot; from &quot; + conn.getRemoteSocketAddress().getAddress().getHostAddress());\n                    Log.i(&quot;WebSocket(message)&quot;, conn + &quot;: &quot; + message);\n                    MainActivity.addOnView();\n\n                    if(message.startsWith(&quot;username&quot;)){\n                        if(matchUsers.size() &lt; 6){\n                            String user = message.replace(&quot;username;&quot;,&quot;&quot;);\n                            if(!matchUsers.contains(user)) {\n                                matchUsers.add(user);\n                                clientConnection.put(user,conn);\n                            }\n                            String sending = &quot;matchUsers;&quot; + UsersListToString(matchUsers);\n                            conn.send(sending);\n                        }\n                        else conn.send(&quot;errorUsername&quot;);\n                    }\n                    else if(message.equals(&quot;timerStart&quot;)){\n                        initTimer();\n                        if(matchUsers.size() &lt; 6){\n                            String sending = &quot;timeStarter;&quot; + timerSeconds.toString();\n                            conn.send(sending);\n                        }\n                        else conn.send(&quot;errorTimer&quot;);\n                    }\n                    else if(message.equals(&quot;getMatchId&quot;)){\n                        if(!matchUsers.isEmpty()){\n                            initMatch();\n                            matchUsers.clear();\n                        }\n                        String sending = &quot;matchId;&quot; + matchId.toString();\n                        conn.send(sending);\n                    }\n                    else if(message.startsWith(&quot;inGame&quot;)){\n                        String[] fields = message.split(&quot;;&quot;);\n                        String matchId = fields[1].split(&quot;=&quot;)[1];\n                        int turn = Integer.parseInt(fields[2].split(&quot;=&quot;)[1]);\n                        Integer extraction = getExtractedNumber(matchId,turn);\n                        fields = null;\n                        conn.send(&quot;extracted=&quot; + extraction.toString());\n                    }\n                    else if(message.startsWith(&quot;score&quot;)){\n                        String matchId = message.split(&quot;;&quot;)[1].split(&quot;=&quot;)[1];\n                        String score = message.split(&quot;;&quot;)[0].split(&quot;=&quot;)[1];\n                        WebSocket[] clients = matchClients.get(matchId).toArray(new WebSocket[0]);\n                        String user = &quot;&quot;;\n                        Enumeration&lt;String&gt; keys = clientConnection.keys();\n                        String key = keys.nextElement();\n                        while(!key.isEmpty()){\n                            if(clientConnection.get(key) == conn) {\n                                user = key;\n                                break;\n                            }\n                            key = keys.nextElement();\n                        }\n\n                        keys = null;\n                        Hashtable&lt;String,ArrayList&lt;String&gt;&gt; tmp = users_scorePerMatch.get(matchId);\n                        ArrayList&lt;String&gt; tmp_list = tmp.get(user);\n                        tmp_list.add(score);\n                        tmp.replace(user,tmp_list);\n                        users_scorePerMatch.replace(matchId,tmp);\n\n                        for(int i = 0; i &lt; clients.length; i++){\n                            clients[i].send(&quot;statement;&quot; + user + &quot; got &quot; + score + &quot; with&quot;);\n                        }\n                        clients = null;\n                    }\n                    else if(message.startsWith(&quot;endMatchData&quot;)){\n                        String matchId = message.split(&quot;;&quot;)[1].split(&quot;=&quot;)[1];\n                        Hashtable&lt;String,ArrayList&lt;String&gt;&gt; users_ofMatch = users_scorePerMatch.get(matchId);\n                        ArrayList&lt;String&gt; users = new ArrayList&lt;&gt;();\n                        Enumeration&lt;String&gt; e = users_ofMatch.keys();\n\n                        while(e.hasMoreElements()){\n                            Log.e(&quot;endmatchdata&quot;,&quot;a&quot;);\n                            users.add(e.nextElement());\n                        }\n                        e = null;\n                        String sending = &quot;matchEndData;&quot;;\n                        for(String user: users) sending += user + &quot;=&quot; + UsersListToString(users_ofMatch.get(user)) + &quot;:&quot;;\n                        users_ofMatch = null;\n                        conn.send(sending);\n                    }\n                    else if(message.startsWith(&quot;totalEnd&quot;)){\n                        String matchId = message.split(&quot;;&quot;)[1].split(&quot;=&quot;)[1];\n                        if(matchClients.get(matchId)!=null) {\n                            WebSocket[] clients = matchClients.get(matchId).toArray(new WebSocket[0]);\n                            for (WebSocket client : clients) client.close();\n                            Enumeration&lt;String&gt; e = clientConnection.keys();\n                            boolean exit = false;\n                            while (e.hasMoreElements() &amp;&amp; !exit) {\n                                Log.e(&quot;totalend&quot;, &quot;while&quot;);\n                                for (WebSocket client : clients) {\n                                    Log.e(&quot;totalend&quot;, &quot;for&quot;);\n                                    String tmp = e.nextElement();\n                                    if (clientConnection.get(tmp) == client) {\n                                        clientConnection.remove(tmp);\n                                        exit = true;\n                                        break;\n                                    }\n                                }\n                            }\n                            e = null; clients = null;\n                            matchClients.remove(matchId);\n                            users_scorePerMatch.remove(matchId);\n                            matchExtractedNumbers.remove(matchId);\n                        }\n                    }\n                }\n            });\n\n            thread.start();\n        }\n        @Override\n        public void onMessage(WebSocket conn, ByteBuffer message) {\n            Thread thread = new Thread(new Runnable() {\n                @Override\n                public void run() {\n                    Log.i(&quot;WebSocket(message)&quot;, conn + &quot;: &quot; + message );\n\n                }\n            });\n            thread.start();\n        }\n\n        public static void main(String[] args){\n        }\n        @Override\n        public void onError(WebSocket conn, Exception ex) {\n            ex.printStackTrace();\n        }\n\n        @Override\n        public void onStart() {\n            Thread thread = new Thread(new Runnable() {\n                @Override\n                public void run() {\n                    Log.i(&quot;WebSocket&quot;, &quot;Server started!&quot;);\n                }\n            });\n            thread.start();\n        }\n    }\n}\n</code></pre>\n<p>EDIT: The thing seems to be happening at the end of the match(i.e in the message.startsWith(&quot;totalEnd&quot;) or message.startsWith(&quot;endmatchdata&quot;) if cases in the onMessage method</p>\n<p>EDIT 2: I found out that the addOnView function was badly written.\nI changed it into</p>\n<pre><code>private static void addOnView(){\n        ConstraintLayout cl = binding.logsView;\n        Handler h = new Handler(Looper.getMainLooper());\n\n        final TextView tv = new TextView(binding.getRoot().getContext());\n        tv.setTextSize(16);\n        tv.setTextAlignment(View.TEXT_ALIGNMENT_CENTER);\n        tv.setPadding(40,180*(logs.size()+1),40,0);\n        tv.setText(logs.get(logs.size()-1));\n        Runnable r = new Runnable() {\n            @Override\n            public void run() {\n                cl.addView(tv);\n\n            }\n        };\n        h.post(r);\n        h = null;\n        r = null;\n    }\n</code></pre>\n<p>And it solved.</p>\n"},{"tags":["java","mysql","sql","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":2435137,"reputation":674,"user_id":2125234,"accept_rate":80,"display_name":"Ashish Mohan"},"down_vote_count":1,"up_vote_count":57,"is_accepted":true,"score":56,"last_activity_date":1390649447,"creation_date":1390649447,"answer_id":21349959,"question_id":21348177,"body_markdown":"CREDENTIAL_USER { ASC_ID, name, ITEM}, CREDENTIAL_USER { MONTH, YEAR, ASC_ID} \r\nboth contain ASC_ID so ASC_ID becomes ambiguous in select query.\r\nSelect your data column wise and give separate alias for each column","title":"NonUniqueDiscoveredSqlAliasException: Encountered a duplicated sql alias [ASC_ID] during auto-discovery of a native-sql query","body":"<p>CREDENTIAL_USER { ASC_ID, name, ITEM}, CREDENTIAL_USER { MONTH, YEAR, ASC_ID} \nboth contain ASC_ID so ASC_ID becomes ambiguous in select query.\nSelect your data column wise and give separate alias for each column</p>\n"},{"tags":[],"owner":{"account_id":4195407,"reputation":456,"user_id":3436941,"accept_rate":75,"display_name":"Khasan 24-7"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1613967309,"creation_date":1480168662,"answer_id":40819095,"question_id":21348177,"body_markdown":"When using coalesce for the first time, I also run into this problem. I have solved it by writing:\r\n\r\n    ...\r\n    coalesce(column_name, &#39;default_value&#39;) as key_word,\r\n    ...\r\n\r\nin my query. \r\n\r\nAdding just coalesce(column_name, &#39;default_value&#39;), creates several values with alias `coalesce` and this error occurs.","title":"NonUniqueDiscoveredSqlAliasException: Encountered a duplicated sql alias [ASC_ID] during auto-discovery of a native-sql query","body":"<p>When using coalesce for the first time, I also run into this problem. I have solved it by writing:</p>\n<pre><code>...\ncoalesce(column_name, 'default_value') as key_word,\n...\n</code></pre>\n<p>in my query.</p>\n<p>Adding just coalesce(column_name, 'default_value'), creates several values with alias <code>coalesce</code> and this error occurs.</p>\n"},{"tags":[],"owner":{"account_id":18018725,"reputation":1,"user_id":13096548,"display_name":"Саша Стрельцов"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673976127,"creation_date":1673976101,"answer_id":75150037,"question_id":21348177,"body_markdown":"If you write a query in JpaRepository, then you need to move the query and the method to the repository, which returns this object in your generic","title":"NonUniqueDiscoveredSqlAliasException: Encountered a duplicated sql alias [ASC_ID] during auto-discovery of a native-sql query","body":"<p>If you write a query in JpaRepository, then you need to move the query and the method to the repository, which returns this object in your generic</p>\n"}],"owner":{"account_id":1940935,"reputation":1396,"user_id":1747165,"accept_rate":44,"display_name":"Avinash Mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84532,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":21349959,"answer_count":3,"score":35,"last_activity_date":1673976127,"creation_date":1390636824,"question_id":21348177,"body_markdown":"I have three tables `CREDENTIAL_USER`, `CREDENTIAL_EXPIRATION` and `ASC_DETAILS` - whose looks like :\r\n\r\n`CREDENTIAL_USER { ASC_ID, name, ITEM}`, `CREDENTIAL_USER { MONTH, YEAR, ASC_ID}` and  `ASC_DETAILS {ASCID, NAME, ROLE}.` \r\n\r\nI executed a simple native SQL join to select only CREDENTIAL_USER.ASC_ID and ASC_DETAAILS.ASCID as :\r\n\r\n    Query query = entityManager.createNativeQuery(&quot;SELECT ad.ASCID,ad.NAME,ad.CRED_EMPLOYEE_FNAME,ad.CRED_EMPLOYEE_LNAME,ad.CRED_EMPLOYEE_EMAIL,ad.CRED_EMPLOYEE_REMINDER,&quot;+\r\n                                  &quot; cu.*, ce.*, cl.* FROM ASC_DETAILS ad,CREDENTIAL_USER cu, CREDENTIAL_EXPIRATION ce, CREDENTIAL_LICENSE cl WHERE&quot;+ \r\n                                  &quot; cu.IS_CRD_EMPLOYEE = true AND cl.IS_EMPLOYEE = true AND  ce.LICENSE_ID = cl.LICENSE_ID  AND cu.ASC_ID=ad.ASCID&quot;+ \r\n                                  &quot; AND ce.LICENSE_EXP_YR &gt;= &quot;+year+&quot; AND (ce.IS_LICENSE_YES=1 OR ce.IS_LICENSE_YES=3) AND cu.ASC_ID=ce.ASC_ID AND&quot;+\r\n                                  &quot; cu.ID=ce.EMPLOYEE_ID&quot;);\r\n\t\t         List&lt;Object[]&gt; list = query.getResultList();\r\n\r\nIts running fine on local, But getting `org.hibernate.loader.custom.NonUniqueDiscoveredSqlAliasException: Encountered a duplicated sql alias [ASC_ID] during auto-discovery of a native-sql query` \r\n\r\nexception on `JBoss` server\r\n\r\n**Stack-trace :**\r\n\r\n    23:30:00,300 ERROR [stderr] (pool-10-thread-1) javax.persistence.PersistenceException: org.hibernate.loader.custom.NonUniqueDiscoveredSqlAliasException: Encountered a duplicated sql alias [ASC_ID] during auto-discovery of a native-sql query\r\n    23:30:00,301 ERROR [stderr] (pool-10-thread-1)  at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1361)\r\n    23:30:00,302 ERROR [stderr] (pool-10-thread-1)  at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1289)\r\n    23:30:00,303 ERROR [stderr] (pool-10-thread-1)  at org.hibernate.ejb.QueryImpl.getResultList(QueryImpl.java:261)\r\n    23:30:00,303 ERROR [stderr] (pool-10-thread-1)  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    23:30:00,304 ERROR [stderr] (pool-10-thread-1)  at  sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    23:30:00,304 ERROR [stderr] (pool-10-thread-1)  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    23:30:00,305 ERROR [stderr] (pool-10-thread-1)  at java.lang.reflect.Method.invoke(Method.java:616)\r\n    23:30:00,305 ERROR [stderr] (pool-10-thread-1)  at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:310)\r\n    23:30:00,306 ERROR [stderr] (pool-10-thread-1)  at sun.proxy.$Proxy42.getResultList(Unknown Source)\r\n     23:30:00,307 ERROR [stderr] (pool-10-thread-1)  at com.asc.dao.UserDAO.getPendingNotificationCredEmployee(UserDAO.java:991)\r\n    23:30:00,307 ERROR [stderr] (pool-10-thread-1)  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    23:30:00,308 ERROR [stderr] (pool-10-thread-1)  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    23:30:00,308 ERROR [stderr] (pool-10-thread-1)  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    23:30:00,309 ERROR [stderr] (pool-10-thread-1)  at java.lang.reflect.Method.invoke(Method.java:616)\r\n    23:30:00,309 ERROR [stderr] (pool-10-thread-1)  at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:309)\r\n    23:30:00,310 ERROR [stderr] (pool-10-thread-1)  at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:196)\r\n    23:30:00,311 ERROR [stderr] (pool-10-thread-1)  at sun.proxy.$Proxy34.getPendingNotificationCredEmployee(Unknown Source)\r\n    23:30:00,311 ERROR [stderr] (pool-10-thread-1)  at com.asc.service.UserService.getPendingNotificationCredEmployee(UserService.java:2661)\r\n    23:30:00,312 ERROR [stderr] (pool-10-thread-1)  at com.asc.service.UserService$$FastClassByCGLIB$$de8fbe27.invoke(&lt;generated&gt;)\r\n    23:30:00,312 ERROR [stderr] (pool-10-thread-1)  at net.sf.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n    23:30:00,313 ERROR [stderr] (pool-10-thread-1)  at org.springframework.aop.framework.Cglib2AopProxy$DynamicAdvisedInterceptor.intercept(Cglib2AopProxy.java:617)\r\n    23:30:00,314 ERROR [stderr] (pool-10-thread-1)  at com.asc.service.UserService$$EnhancerByCGLIB$$d2e7fa8d.getPendingNotificationCredEmployee(&lt;generated&gt;)\r\n    23:30:00,314 ERROR [stderr] (pool-10-thread-1)  at com.asc.service.ExpirationNotificationService.sendAlertToAdmin(ExpirationNotificationService.java:47)\r\n    23:30:00,315 ERROR [stderr] (pool-10-thread-1)  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    23:30:00,316 ERROR [stderr] (pool-10-thread-1)  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    23:30:00,316 ERROR [stderr] (pool-10-thread-1)  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    23:30:00,317 ERROR [stderr] (pool-10-thread-1)  at java.lang.reflect.Method.invoke(Method.java:616)\r\n    23:30:00,317 ERROR [stderr] (pool-10-thread-1)  at org.springframework.util.MethodInvoker.invoke(MethodInvoker.java:273)\r\n    23:30:00,318 ERROR [stderr] (pool-10-thread-1)  at org.springframework.scheduling.support.MethodInvokingRunnable.run(MethodInvokingRunnable.java:65)\r\n    23:30:00,318 ERROR [stderr] (pool-10-thread-1)  at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:51)\r\n    23:30:00,319 ERROR [stderr] (pool-10-thread-1)  at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)\r\n    23:30:00,320 ERROR [stderr] (pool-10-thread-1)  at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\r\n    23:30:00,320 ERROR [stderr] (pool-10-thread-1)  at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)\r\n    23:30:00,321 ERROR [stderr] (pool-10-thread-1)  at java.util.concurrent.FutureTask.run(FutureTask.java:166)\r\n    23:30:00,321 ERROR [stderr] (pool-10-thread-1)  at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:165)\r\n    23:30:00,322 ERROR [stderr] (pool-10-thread-1)  at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:266)\r\n    23:30:00,323 ERROR [stderr] (pool-10-thread-1)  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1146)\r\n    23:30:00,323 ERROR [stderr] (pool-10-thread-1)  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n    23:30:00,324 ERROR [stderr] (pool-10-thread-1)  at java.lang.Thread.run(Thread.java:679)\r\n    23:30:00,325 ERROR [stderr] (pool-10-thread-1) Caused by: org.hibernate.loader.custom.NonUniqueDiscoveredSqlAliasException: Encountered a duplicated sql alias [ASC_ID] during auto-discovery of a native-sql query\r\n    23:30:00,326 ERROR [stderr] (pool-10-thread-1)  at org.hibernate.loader.custom.CustomLoader.autoDiscoverTypes(CustomLoader.java:594)\r\n","title":"NonUniqueDiscoveredSqlAliasException: Encountered a duplicated sql alias [ASC_ID] during auto-discovery of a native-sql query","body":"<p>I have three tables <code>CREDENTIAL_USER</code>, <code>CREDENTIAL_EXPIRATION</code> and <code>ASC_DETAILS</code> - whose looks like :</p>\n\n<p><code>CREDENTIAL_USER { ASC_ID, name, ITEM}</code>, <code>CREDENTIAL_USER { MONTH, YEAR, ASC_ID}</code> and  <code>ASC_DETAILS {ASCID, NAME, ROLE}.</code> </p>\n\n<p>I executed a simple native SQL join to select only CREDENTIAL_USER.ASC_ID and ASC_DETAAILS.ASCID as :</p>\n\n<pre><code>Query query = entityManager.createNativeQuery(\"SELECT ad.ASCID,ad.NAME,ad.CRED_EMPLOYEE_FNAME,ad.CRED_EMPLOYEE_LNAME,ad.CRED_EMPLOYEE_EMAIL,ad.CRED_EMPLOYEE_REMINDER,\"+\n                              \" cu.*, ce.*, cl.* FROM ASC_DETAILS ad,CREDENTIAL_USER cu, CREDENTIAL_EXPIRATION ce, CREDENTIAL_LICENSE cl WHERE\"+ \n                              \" cu.IS_CRD_EMPLOYEE = true AND cl.IS_EMPLOYEE = true AND  ce.LICENSE_ID = cl.LICENSE_ID  AND cu.ASC_ID=ad.ASCID\"+ \n                              \" AND ce.LICENSE_EXP_YR &gt;= \"+year+\" AND (ce.IS_LICENSE_YES=1 OR ce.IS_LICENSE_YES=3) AND cu.ASC_ID=ce.ASC_ID AND\"+\n                              \" cu.ID=ce.EMPLOYEE_ID\");\n             List&lt;Object[]&gt; list = query.getResultList();\n</code></pre>\n\n<p>Its running fine on local, But getting <code>org.hibernate.loader.custom.NonUniqueDiscoveredSqlAliasException: Encountered a duplicated sql alias [ASC_ID] during auto-discovery of a native-sql query</code> </p>\n\n<p>exception on <code>JBoss</code> server</p>\n\n<p><strong>Stack-trace :</strong></p>\n\n<pre><code>23:30:00,300 ERROR [stderr] (pool-10-thread-1) javax.persistence.PersistenceException: org.hibernate.loader.custom.NonUniqueDiscoveredSqlAliasException: Encountered a duplicated sql alias [ASC_ID] during auto-discovery of a native-sql query\n23:30:00,301 ERROR [stderr] (pool-10-thread-1)  at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1361)\n23:30:00,302 ERROR [stderr] (pool-10-thread-1)  at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1289)\n23:30:00,303 ERROR [stderr] (pool-10-thread-1)  at org.hibernate.ejb.QueryImpl.getResultList(QueryImpl.java:261)\n23:30:00,303 ERROR [stderr] (pool-10-thread-1)  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n23:30:00,304 ERROR [stderr] (pool-10-thread-1)  at  sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n23:30:00,304 ERROR [stderr] (pool-10-thread-1)  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n23:30:00,305 ERROR [stderr] (pool-10-thread-1)  at java.lang.reflect.Method.invoke(Method.java:616)\n23:30:00,305 ERROR [stderr] (pool-10-thread-1)  at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:310)\n23:30:00,306 ERROR [stderr] (pool-10-thread-1)  at sun.proxy.$Proxy42.getResultList(Unknown Source)\n 23:30:00,307 ERROR [stderr] (pool-10-thread-1)  at com.asc.dao.UserDAO.getPendingNotificationCredEmployee(UserDAO.java:991)\n23:30:00,307 ERROR [stderr] (pool-10-thread-1)  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n23:30:00,308 ERROR [stderr] (pool-10-thread-1)  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n23:30:00,308 ERROR [stderr] (pool-10-thread-1)  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n23:30:00,309 ERROR [stderr] (pool-10-thread-1)  at java.lang.reflect.Method.invoke(Method.java:616)\n23:30:00,309 ERROR [stderr] (pool-10-thread-1)  at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:309)\n23:30:00,310 ERROR [stderr] (pool-10-thread-1)  at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:196)\n23:30:00,311 ERROR [stderr] (pool-10-thread-1)  at sun.proxy.$Proxy34.getPendingNotificationCredEmployee(Unknown Source)\n23:30:00,311 ERROR [stderr] (pool-10-thread-1)  at com.asc.service.UserService.getPendingNotificationCredEmployee(UserService.java:2661)\n23:30:00,312 ERROR [stderr] (pool-10-thread-1)  at com.asc.service.UserService$$FastClassByCGLIB$$de8fbe27.invoke(&lt;generated&gt;)\n23:30:00,312 ERROR [stderr] (pool-10-thread-1)  at net.sf.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\n23:30:00,313 ERROR [stderr] (pool-10-thread-1)  at org.springframework.aop.framework.Cglib2AopProxy$DynamicAdvisedInterceptor.intercept(Cglib2AopProxy.java:617)\n23:30:00,314 ERROR [stderr] (pool-10-thread-1)  at com.asc.service.UserService$$EnhancerByCGLIB$$d2e7fa8d.getPendingNotificationCredEmployee(&lt;generated&gt;)\n23:30:00,314 ERROR [stderr] (pool-10-thread-1)  at com.asc.service.ExpirationNotificationService.sendAlertToAdmin(ExpirationNotificationService.java:47)\n23:30:00,315 ERROR [stderr] (pool-10-thread-1)  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n23:30:00,316 ERROR [stderr] (pool-10-thread-1)  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n23:30:00,316 ERROR [stderr] (pool-10-thread-1)  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n23:30:00,317 ERROR [stderr] (pool-10-thread-1)  at java.lang.reflect.Method.invoke(Method.java:616)\n23:30:00,317 ERROR [stderr] (pool-10-thread-1)  at org.springframework.util.MethodInvoker.invoke(MethodInvoker.java:273)\n23:30:00,318 ERROR [stderr] (pool-10-thread-1)  at org.springframework.scheduling.support.MethodInvokingRunnable.run(MethodInvokingRunnable.java:65)\n23:30:00,318 ERROR [stderr] (pool-10-thread-1)  at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:51)\n23:30:00,319 ERROR [stderr] (pool-10-thread-1)  at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)\n23:30:00,320 ERROR [stderr] (pool-10-thread-1)  at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\n23:30:00,320 ERROR [stderr] (pool-10-thread-1)  at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)\n23:30:00,321 ERROR [stderr] (pool-10-thread-1)  at java.util.concurrent.FutureTask.run(FutureTask.java:166)\n23:30:00,321 ERROR [stderr] (pool-10-thread-1)  at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:165)\n23:30:00,322 ERROR [stderr] (pool-10-thread-1)  at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:266)\n23:30:00,323 ERROR [stderr] (pool-10-thread-1)  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1146)\n23:30:00,323 ERROR [stderr] (pool-10-thread-1)  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n23:30:00,324 ERROR [stderr] (pool-10-thread-1)  at java.lang.Thread.run(Thread.java:679)\n23:30:00,325 ERROR [stderr] (pool-10-thread-1) Caused by: org.hibernate.loader.custom.NonUniqueDiscoveredSqlAliasException: Encountered a duplicated sql alias [ASC_ID] during auto-discovery of a native-sql query\n23:30:00,326 ERROR [stderr] (pool-10-thread-1)  at org.hibernate.loader.custom.CustomLoader.autoDiscoverTypes(CustomLoader.java:594)\n</code></pre>\n"},{"tags":["java","android","mpandroidchart"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1550050985,"post_id":54665464,"comment_id":96124185,"body_markdown":"As an aside consider throwing away the long outmoded and notoriously troublesome `SimpleDateFormat` and friends, and adding [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP) to your Android project in order to use `java.time`, the modern Java date and time API. It is so much nicer to work with.","body":"As an aside consider throwing away the long outmoded and notoriously troublesome <code>SimpleDateFormat</code> and friends, and adding <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a> to your Android project in order to use <code>java.time</code>, the modern Java date and time API. It is so much nicer to work with."}],"answers":[{"tags":[],"owner":{"account_id":8107521,"reputation":1644,"user_id":6108601,"accept_rate":75,"display_name":"Vygintas B"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1550046739,"creation_date":1550046739,"answer_id":54665649,"question_id":54665464,"body_markdown":"One of possible solutions would be to make your first point hold 0 value.\r\n\r\n Basically you need subtract start_timestamp from every new x value of `Entry` so chart will be started from 0 value and not of timestamp.\r\n\r\n**For example**.\r\n\r\nLet&#39;s assume `start_timestamp` variable holds your first timestamp of datapoints.\r\n\r\nTo add new entry use:\r\n\r\n`SensorData.add(new Entry(readingDate - start_timestamp, 1.5);`\r\n\r\n\r\nTo format x value you just add start_timestamp to provided x value.","title":"MPAndroid Date Formatting and Parsing Loses Precision","body":"<p>One of possible solutions would be to make your first point hold 0 value.</p>\n\n<p>Basically you need subtract start_timestamp from every new x value of <code>Entry</code> so chart will be started from 0 value and not of timestamp.</p>\n\n<p><strong>For example</strong>.</p>\n\n<p>Let's assume <code>start_timestamp</code> variable holds your first timestamp of datapoints.</p>\n\n<p>To add new entry use:</p>\n\n<p><code>SensorData.add(new Entry(readingDate - start_timestamp, 1.5);</code></p>\n\n<p>To format x value you just add start_timestamp to provided x value.</p>\n"},{"tags":[],"owner":{"account_id":8665143,"reputation":350,"user_id":6485987,"display_name":"T77"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673975817,"creation_date":1663267830,"answer_id":73736080,"question_id":54665464,"body_markdown":"Detailing the great Vygintas B&#39;s solution:\r\n```java\r\nprivate static long timestampStart = 0;\r\n...\r\nfor loop-to-fill-dataset {\r\n  if (MyClass.timestampStart == 0)\r\n    MyClass.timestampStart = readingDate;  // the timestamp/epoch\r\n  readingDate -= MyClass.timestampStart;  // first one will be 0 (following ones, the difference to zeroed)\r\n  // and then add to Entry(readingDate, y_value)\r\n...\r\n\r\nprivate class XAxisValueFormatter ... {\r\n@Override\r\npublic String getFormattedValue(final float value) {\r\n  final long timestamp = (long)value + MyClass.timestampStart;\r\n  ...\r\n```","title":"MPAndroid Date Formatting and Parsing Loses Precision","body":"<p>Detailing the great Vygintas B's solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static long timestampStart = 0;\n...\nfor loop-to-fill-dataset {\n  if (MyClass.timestampStart == 0)\n    MyClass.timestampStart = readingDate;  // the timestamp/epoch\n  readingDate -= MyClass.timestampStart;  // first one will be 0 (following ones, the difference to zeroed)\n  // and then add to Entry(readingDate, y_value)\n...\n\nprivate class XAxisValueFormatter ... {\n@Override\npublic String getFormattedValue(final float value) {\n  final long timestamp = (long)value + MyClass.timestampStart;\n  ...\n</code></pre>\n"}],"owner":{"account_id":14234377,"reputation":43,"user_id":10282591,"display_name":"TheChosenWan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":422,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54665649,"answer_count":2,"score":0,"last_activity_date":1673975817,"creation_date":1550045980,"question_id":54665464,"body_markdown":"I&#39;m using the MPAndroid library for the graph of my android app. I have a long value inputted to the entry. My problem is that when I format the values of x axis, it uses float value instead of long so it loses precision.\r\n\r\nHere is my code for the entry to the graph:\r\n\r\n    String dateString = &quot;02/13/2019(11:23:45)&quot;;\r\n    long readingDate = 0;\r\n    try {\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;MM/dd/yyyy(kk:mm:ss)&quot;, Locale.US);\r\n        Date date = sdf.parse(dateString);\r\n        readingDate = date.getTime();\r\n        } catch (ParseException e) {\r\n             e.printStackTrace();\r\n        }\r\n    SensorData.add(new Entry(readingDate, 1.5);\r\n\r\nHere is my code for formatting the x axis:\r\n\r\n    private class XAxisValueFormatter implements IAxisValueFormatter {\r\n\r\n        @Override\r\n        public String getFormattedValue(float value, AxisBase axis) {\r\n            String dateString = new SimpleDateFormat(&quot;MM/dd/yyyy(kk:mm:ss)&quot;, Locale.US).format(value);\r\n            return dateString;\r\n        }\r\n    }\r\n\r\nHow can I fix this problem?","title":"MPAndroid Date Formatting and Parsing Loses Precision","body":"<p>I'm using the MPAndroid library for the graph of my android app. I have a long value inputted to the entry. My problem is that when I format the values of x axis, it uses float value instead of long so it loses precision.</p>\n\n<p>Here is my code for the entry to the graph:</p>\n\n<pre><code>String dateString = \"02/13/2019(11:23:45)\";\nlong readingDate = 0;\ntry {\n    SimpleDateFormat sdf = new SimpleDateFormat(\"MM/dd/yyyy(kk:mm:ss)\", Locale.US);\n    Date date = sdf.parse(dateString);\n    readingDate = date.getTime();\n    } catch (ParseException e) {\n         e.printStackTrace();\n    }\nSensorData.add(new Entry(readingDate, 1.5);\n</code></pre>\n\n<p>Here is my code for formatting the x axis:</p>\n\n<pre><code>private class XAxisValueFormatter implements IAxisValueFormatter {\n\n    @Override\n    public String getFormattedValue(float value, AxisBase axis) {\n        String dateString = new SimpleDateFormat(\"MM/dd/yyyy(kk:mm:ss)\", Locale.US).format(value);\n        return dateString;\n    }\n}\n</code></pre>\n\n<p>How can I fix this problem?</p>\n"},{"tags":["java","mysql","spring","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1672639703,"post_id":74977308,"comment_id":132316616,"body_markdown":"Can you please share application.properties file","body":"Can you please share application.properties file"},{"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"score":0,"creation_date":1672640557,"post_id":74977308,"comment_id":132316749,"body_markdown":"I have added it now. Please check","body":"I have added it now. Please check"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1672674198,"post_id":74977308,"comment_id":132324900,"body_markdown":"If possible can you please share your code in some repo for debugging?","body":"If possible can you please share your code in some repo for debugging?"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1672771610,"post_id":74977308,"comment_id":132348001,"body_markdown":"Thanks for sharing the code, please read my answer to know the fix.","body":"Thanks for sharing the code, please read my answer to know the fix."}],"answers":[{"tags":[],"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672772129,"creation_date":1672771583,"answer_id":74997498,"question_id":74977308,"body_markdown":"I have analysed your code, Here are my findings.\r\n\r\n1. Found some issues in ```BatchConfig``` class. You are using ```new JobBuilder()```, ```new StepBuilder()``` while creating Job and Step. The right way is to use ```JobBuilderFactory```, ```StepBuilderFactory```.\r\n2. I can see entity class (user) name is in lower, It should be in camelcase (User). \r\n\r\n*PS: I tested with PostgreSQL database using these properties but I am sure it will work with MySQL database as well*\r\n\r\n**application.properties**\r\n\r\n```\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/batch_db\r\nspring.datasource.username=root\r\nspring.datasource.password=admin\r\n#show the queries in the console\r\nspring.jpa.show-sql=true\r\n#to format the queries for readability\r\nspring.jpa.properties.hibernate.format_sql=true\r\nspring.jpa.properties.hibernate.globally_quoted_identifiers=true\r\nserver.port=8081\r\nspring.batch.jdbc.initialize-schema=always\r\n#spring.batch.job.enabled=false\r\n#to initalize the tables\r\n\r\n```\r\n\r\n**pom.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.7&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.ayushsingh&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring_boot_batch_demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;spring_boot_batch_demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t  &lt;/dependency&gt;\r\n\t  \r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n&lt;!--\t\t&lt;dependency&gt;--&gt;\r\n&lt;!--\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;--&gt;\r\n&lt;!--\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;--&gt;\r\n&lt;!--\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;--&gt;\r\n&lt;!--\t\t&lt;/dependency&gt;--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-batch-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n**BatchConfig**\r\n\r\n```\r\npackage com.ayushsingh.spring_boot_batch_demo.config;\r\n\r\nimport com.ayushsingh.spring_boot_batch_demo.entities.User;\r\nimport org.springframework.batch.core.Job;\r\nimport org.springframework.batch.core.Step;\r\nimport org.springframework.batch.core.configuration.annotation.EnableBatchProcessing;\r\nimport org.springframework.batch.core.configuration.annotation.JobBuilderFactory;\r\nimport org.springframework.batch.core.configuration.annotation.StepBuilderFactory;\r\nimport org.springframework.batch.core.launch.support.RunIdIncrementer;\r\nimport org.springframework.batch.item.database.BeanPropertyItemSqlParameterSourceProvider;\r\nimport org.springframework.batch.item.database.JdbcBatchItemWriter;\r\nimport org.springframework.batch.item.file.FlatFileItemReader;\r\nimport org.springframework.batch.item.file.LineMapper;\r\nimport org.springframework.batch.item.file.mapping.BeanWrapperFieldSetMapper;\r\nimport org.springframework.batch.item.file.mapping.DefaultLineMapper;\r\nimport org.springframework.batch.item.file.transform.DelimitedLineTokenizer;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.core.io.ClassPathResource;\r\n\r\nimport javax.sql.DataSource;\r\n\r\n@Configuration //this is important- enables batch processing in the project\r\n@EnableBatchProcessing\r\npublic class BatchConfig {\r\n    @Autowired\r\n    private DataSource dataSource;\r\n\r\n    @Autowired\r\n    private JobBuilderFactory jobBuilderFactory;\r\n\r\n    @Autowired\r\n    private StepBuilderFactory stepBuilderFactory;\r\n\r\n    @Bean\r\n    public FlatFileItemReader&lt;User&gt; reader(){\r\n        FlatFileItemReader&lt;User&gt; reader=new FlatFileItemReader&lt;&gt;();\r\n        reader.setResource(new ClassPathResource(&quot;records.csv&quot;));\r\n        reader.setLineMapper(getLineMapper()); //how to map the line which is read.\r\n        reader.setLinesToSkip(1); // skip lines when error occurs\r\n        return reader;\r\n    }\r\n    private LineMapper&lt;User&gt; getLineMapper() {\r\n        DefaultLineMapper&lt;User&gt; lineMapper=new DefaultLineMapper&lt;&gt;();\r\n        DelimitedLineTokenizer delimitedLineTokenizer=new DelimitedLineTokenizer();\r\n\r\n        delimitedLineTokenizer.setNames(new String[]{&quot;Roll Number&quot;,&quot;Name of Student&quot;,&quot;Personal Email ID&quot;,&quot;SMVDU Email ID&quot;,&quot;MOBILE NO&quot;});\r\n        delimitedLineTokenizer.setIncludedFields(new int[]{1,2,3,4,5});\r\n\r\n        BeanWrapperFieldSetMapper&lt;User&gt; fieldSetMapper=new BeanWrapperFieldSetMapper&lt;&gt;();\r\n        fieldSetMapper.setTargetType(User.class);\r\n        lineMapper.setLineTokenizer(delimitedLineTokenizer);\r\n        lineMapper.setFieldSetMapper(fieldSetMapper);\r\n\r\n        return lineMapper;\r\n    }\r\n    @Bean\r\n    public UserItemProcessor processor(){\r\n        return new UserItemProcessor();\r\n    }\r\n    @Bean\r\n    public JdbcBatchItemWriter&lt;User&gt; writer(){\r\n        JdbcBatchItemWriter&lt;User&gt; writer= new JdbcBatchItemWriter&lt;&gt;();\r\n        writer.setItemSqlParameterSourceProvider(new BeanPropertyItemSqlParameterSourceProvider&lt;User&gt;());\r\n        writer.setSql(&quot;insert into user(rollNo,name,personalEmail,officialEmail,mobileNo) values (:rollNo,:name,:personalEmail,:officalEmail,:mobileNo)&quot;);\r\n        writer.setDataSource(dataSource);\r\n        return writer;\r\n    }\r\n\r\n\r\n\r\n    @Bean \r\n    public Job importUserJob(){\r\n\r\n        return jobBuilderFactory.get(&quot;USER_IMPORT_JOB&quot;)\r\n        .incrementer(new RunIdIncrementer())\r\n        .flow(step1())\r\n        .end()\r\n        .build();\r\n    }\r\n\r\n    @Bean\r\n    public Step step1(){\r\n        return stepBuilderFactory.get(&quot;Step 1&quot;)\r\n        .&lt;User,User&gt;chunk(5)\r\n        .reader(reader())\r\n        .writer(writer())\r\n        .build();\r\n    }\r\n}\r\n\r\n```","title":"Problem in Building Spring Boot Batch Application: Spring Boot","body":"<p>I have analysed your code, Here are my findings.</p>\n<ol>\n<li>Found some issues in <code>BatchConfig</code> class. You are using <code>new JobBuilder()</code>, <code>new StepBuilder()</code> while creating Job and Step. The right way is to use <code>JobBuilderFactory</code>, <code>StepBuilderFactory</code>.</li>\n<li>I can see entity class (user) name is in lower, It should be in camelcase (User).</li>\n</ol>\n<p><em>PS: I tested with PostgreSQL database using these properties but I am sure it will work with MySQL database as well</em></p>\n<p><strong>application.properties</strong></p>\n<pre><code>spring.datasource.driver-class-name=org.postgresql.Driver\nspring.datasource.url=jdbc:postgresql://localhost:5432/batch_db\nspring.datasource.username=root\nspring.datasource.password=admin\n#show the queries in the console\nspring.jpa.show-sql=true\n#to format the queries for readability\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.properties.hibernate.globally_quoted_identifiers=true\nserver.port=8081\nspring.batch.jdbc.initialize-schema=always\n#spring.batch.job.enabled=false\n#to initalize the tables\n\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.7&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.ayushsingh&lt;/groupId&gt;\n    &lt;artifactId&gt;spring_boot_batch_demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;spring_boot_batch_demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n          &lt;/dependency&gt;\n      \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;com.mysql&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;scope&gt;runtime&lt;/scope&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-batch-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p><strong>BatchConfig</strong></p>\n<pre><code>package com.ayushsingh.spring_boot_batch_demo.config;\n\nimport com.ayushsingh.spring_boot_batch_demo.entities.User;\nimport org.springframework.batch.core.Job;\nimport org.springframework.batch.core.Step;\nimport org.springframework.batch.core.configuration.annotation.EnableBatchProcessing;\nimport org.springframework.batch.core.configuration.annotation.JobBuilderFactory;\nimport org.springframework.batch.core.configuration.annotation.StepBuilderFactory;\nimport org.springframework.batch.core.launch.support.RunIdIncrementer;\nimport org.springframework.batch.item.database.BeanPropertyItemSqlParameterSourceProvider;\nimport org.springframework.batch.item.database.JdbcBatchItemWriter;\nimport org.springframework.batch.item.file.FlatFileItemReader;\nimport org.springframework.batch.item.file.LineMapper;\nimport org.springframework.batch.item.file.mapping.BeanWrapperFieldSetMapper;\nimport org.springframework.batch.item.file.mapping.DefaultLineMapper;\nimport org.springframework.batch.item.file.transform.DelimitedLineTokenizer;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.io.ClassPathResource;\n\nimport javax.sql.DataSource;\n\n@Configuration //this is important- enables batch processing in the project\n@EnableBatchProcessing\npublic class BatchConfig {\n    @Autowired\n    private DataSource dataSource;\n\n    @Autowired\n    private JobBuilderFactory jobBuilderFactory;\n\n    @Autowired\n    private StepBuilderFactory stepBuilderFactory;\n\n    @Bean\n    public FlatFileItemReader&lt;User&gt; reader(){\n        FlatFileItemReader&lt;User&gt; reader=new FlatFileItemReader&lt;&gt;();\n        reader.setResource(new ClassPathResource(&quot;records.csv&quot;));\n        reader.setLineMapper(getLineMapper()); //how to map the line which is read.\n        reader.setLinesToSkip(1); // skip lines when error occurs\n        return reader;\n    }\n    private LineMapper&lt;User&gt; getLineMapper() {\n        DefaultLineMapper&lt;User&gt; lineMapper=new DefaultLineMapper&lt;&gt;();\n        DelimitedLineTokenizer delimitedLineTokenizer=new DelimitedLineTokenizer();\n\n        delimitedLineTokenizer.setNames(new String[]{&quot;Roll Number&quot;,&quot;Name of Student&quot;,&quot;Personal Email ID&quot;,&quot;SMVDU Email ID&quot;,&quot;MOBILE NO&quot;});\n        delimitedLineTokenizer.setIncludedFields(new int[]{1,2,3,4,5});\n\n        BeanWrapperFieldSetMapper&lt;User&gt; fieldSetMapper=new BeanWrapperFieldSetMapper&lt;&gt;();\n        fieldSetMapper.setTargetType(User.class);\n        lineMapper.setLineTokenizer(delimitedLineTokenizer);\n        lineMapper.setFieldSetMapper(fieldSetMapper);\n\n        return lineMapper;\n    }\n    @Bean\n    public UserItemProcessor processor(){\n        return new UserItemProcessor();\n    }\n    @Bean\n    public JdbcBatchItemWriter&lt;User&gt; writer(){\n        JdbcBatchItemWriter&lt;User&gt; writer= new JdbcBatchItemWriter&lt;&gt;();\n        writer.setItemSqlParameterSourceProvider(new BeanPropertyItemSqlParameterSourceProvider&lt;User&gt;());\n        writer.setSql(&quot;insert into user(rollNo,name,personalEmail,officialEmail,mobileNo) values (:rollNo,:name,:personalEmail,:officalEmail,:mobileNo)&quot;);\n        writer.setDataSource(dataSource);\n        return writer;\n    }\n\n\n\n    @Bean \n    public Job importUserJob(){\n\n        return jobBuilderFactory.get(&quot;USER_IMPORT_JOB&quot;)\n        .incrementer(new RunIdIncrementer())\n        .flow(step1())\n        .end()\n        .build();\n    }\n\n    @Bean\n    public Step step1(){\n        return stepBuilderFactory.get(&quot;Step 1&quot;)\n        .&lt;User,User&gt;chunk(5)\n        .reader(reader())\n        .writer(writer())\n        .build();\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":495,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74997498,"answer_count":1,"score":0,"last_activity_date":1673975732,"creation_date":1672606055,"question_id":74977308,"body_markdown":"I am building a Spring Boot application (version 2.7.7) to dump data from .csv to MySQL db. I am getting several exceptions on building the project.  \r\n**application.properties-**\r\n```\r\nspring.datasource.driver-class-name= com.mysql.cj.jdbc.Driver\r\nspring.datasource.url=jdbc:mysql://localhost:3306/batch_db\r\nspring.datasource.username=hbstudent\r\nspring.datasource.password=hbstudent\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\nspring.jpa.properties.hibernate.globally_quoted_identifiers=true\r\nserver.port=8081\r\n\r\nspring.batch.jdbc.initialize-schema=always \r\n#to initalize the tables\r\n```\r\n**Batch Configuration-**\r\n```\r\n@Configuration\r\n@EnableBatchProcessing \r\npublic class BatchConfig {\r\n    @Autowired\r\n    private DataSource dataSource;\r\n\r\n    @Bean\r\n    public FlatFileItemReader&lt;User&gt; reader(){\r\n        FlatFileItemReader&lt;User&gt; reader=new FlatFileItemReader&lt;&gt;();\r\n        reader.setResource(new ClassPathResource(&quot;records.csv&quot;));\r\n        reader.setLineMapper(getLineMapper()); //how to map the line which is read.\r\n        reader.setLinesToSkip(1); // skip lines when error occurs\r\n        return reader;\r\n    }\r\n    private LineMapper&lt;User&gt; getLineMapper() {\r\n        DefaultLineMapper&lt;User&gt; lineMapper=new DefaultLineMapper&lt;&gt;();\r\n        DelimitedLineTokenizer delimitedLineTokenizer=new DelimitedLineTokenizer();\r\n\r\n        delimitedLineTokenizer.setNames(new String[]{&quot;Roll Number&quot;,&quot;Name of Student&quot;,&quot;Personal Email ID&quot;,&quot;Email ID&quot;,&quot;MOBILE NO&quot;});\r\n        delimitedLineTokenizer.setIncludedFields(new int[]{1,2,3,4,5});\r\n\r\n        BeanWrapperFieldSetMapper&lt;User&gt; fieldSetMapper=new BeanWrapperFieldSetMapper&lt;&gt;();\r\n        fieldSetMapper.setTargetType(User.class);\r\n        lineMapper.setLineTokenizer(delimitedLineTokenizer);\r\n        lineMapper.setFieldSetMapper(fieldSetMapper);\r\n\r\n        return lineMapper;\r\n    }\r\n    @Bean\r\n    public UserItemProcessor processor(){\r\n        return new UserItemProcessor();\r\n    }\r\n    @Bean\r\n    public JdbcBatchItemWriter&lt;User&gt; writer(){\r\n        JdbcBatchItemWriter&lt;User&gt; writer= new JdbcBatchItemWriter&lt;&gt;();\r\n        writer.setItemSqlParameterSourceProvider(new BeanPropertyItemSqlParameterSourceProvider&lt;User&gt;());\r\n        writer.setSql(&quot;insert into user(rollNo,name,personalEmail,officialEmail,mobileNo) values (:rollNo,:name,:personalEmail,:officalEmail,:mobileNo)&quot;);\r\n        writer.setDataSource(dataSource);\r\n        return writer;\r\n    }\r\n\r\n    @Bean \r\n    public Job importUserJob(){\r\n\r\n        return new JobBuilder(&quot;USER_IMPORT_JOB&quot;)\r\n        .incrementer(new RunIdIncrementer())\r\n        .flow(step1())\r\n        .end()\r\n        .build();\r\n    }\r\n\r\n    @Bean\r\n    public Step step1(){\r\n        return new StepBuilder(&quot;Step 1&quot;)\r\n        .&lt;User,User&gt;chunk(5)\r\n        .reader(reader())\r\n        .writer(writer())\r\n        .build();\r\n    }\r\n}\r\n```\r\n\r\nOn building the project I am getting the following exceptions-\r\n```\r\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [com.example.spring_boot_batch_demo.SpringBootBatchDemoApplication]; nested exception is java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.batch.BatchAutoConfiguration$DataSourceInitializerConfiguration\r\n        at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:609) ~[spring-context-5.3.24.jar:5.3.24]\r\n        at org.springframework.context.annotation.ConfigurationClassParser.access$800(ConfigurationClassParser.java:110) ~[spring-context-5.3.24.jar:5.3.24]\r\n        at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.lambda$processGroupImports$1(ConfigurationClassParser.java:812) ~[spring-context-5.3.24.jar:5.3.24]\r\n        at java.base/java.util.ArrayList.forEach(Unknown Source) ~[na:na]\r\n        at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.processGroupImports(ConfigurationClassParser.java:809) ~[spring-context-5.3.24.jar:5.3.24]\r\n        at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorHandler.process(ConfigurationClassParser.java:780) ~[spring-context-5.3.24.jar:5.3.24]\r\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:192) ~[spring-context-5.3.24.jar:5.3.24]     \r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331) ~[spring-context-5.3.24.jar:5.3.24]\r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.24.jar:5.3.24]\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.24.jar:5.3.24]\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.24.jar:5.3.24]\r\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.24.jar:5.3.24]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.24.jar:5.3.24]  \r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.7.jar:2.7.7]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.7.jar:2.7.7]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.7.jar:2.7.7]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.7.jar:2.7.7]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.7.jar:2.7.7]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.7.jar:2.7.7]\r\n        at com.example.spring_boot_batch_demo.SpringBootBatchDemoApplication.main(SpringBootBatchDemoApplication.java:10) ~[classes/:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Unknown Source) ~[na:na]\r\n        at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.7.jar:2.7.7]\r\nCaused by: java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.batch.BatchAutoConfiguration$DataSourceInitializerConfiguration\r\n        at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-2.7.7.jar:2.7.7]\r\n        at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-5.3.24.jar:5.3.24]\r\n        at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:225) ~[spring-context-5.3.24.jar:5.3.24]\r\n        at org.springframework.context.annotation.ConfigurationClassParser.processMemberClasses(ConfigurationClassParser.java:371) ~[spring-context-5.3.24.jar:5.3.24]\r\n        at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:271) ~[spring-context-5.3.24.jar:5.3.24]\r\n        at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:249) ~[spring-context-5.399) ~[spring-context-5.3.24.jar:5.3.24]\r\n        ... 24 common frames omittedCaused by: java.lang.IllegalArgumentException: No enum constant org.springframework.boot.sql.init.DatabaseInitializationMode.ALWAYS\r\n        at java.base/java.lang.Enum.valueOf(Unknown Source) ~[na:na]\r\n        at org.springframework.boot.sql.init.DatabaseInitializationMode.valueOf(DatabaseInitializationMode.java:26) ~[spring-boot-2.7.7.jar:2.7.7]\r\n        at org.springframework.boot.autoconfigure.sql.init.OnDatabaseInitializationCondition.getDatabaseInitializationMode(OnDatabaseInitializationCondition.java:75) ~[spring-boot-autoconfigure-2.7.7.jar:2.7.7]\r\n        at org.springframework.boot.autoconfigure.sql.init.OnDatabaseInitializationCondition.getMatchOutcome(OnDatabaseInitializationCondition.java:60) ~[spring-boot-autoconfigure-2.7.7.jar:2.7.7]\r\n        at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-2.7.7.jar:2.7.7]\r\n        ... 30 common frames omitted\r\n\r\n```\r\nFor referred several other posts which stated versioning problem, but it didn&#39;t help.\r\nI cannot find the problem with the code, can somebody help me?","title":"Problem in Building Spring Boot Batch Application: Spring Boot","body":"<p>I am building a Spring Boot application (version 2.7.7) to dump data from .csv to MySQL db. I am getting several exceptions on building the project.<br />\n<strong>application.properties-</strong></p>\n<pre><code>spring.datasource.driver-class-name= com.mysql.cj.jdbc.Driver\nspring.datasource.url=jdbc:mysql://localhost:3306/batch_db\nspring.datasource.username=hbstudent\nspring.datasource.password=hbstudent\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.properties.hibernate.globally_quoted_identifiers=true\nserver.port=8081\n\nspring.batch.jdbc.initialize-schema=always \n#to initalize the tables\n</code></pre>\n<p><strong>Batch Configuration-</strong></p>\n<pre><code>@Configuration\n@EnableBatchProcessing \npublic class BatchConfig {\n    @Autowired\n    private DataSource dataSource;\n\n    @Bean\n    public FlatFileItemReader&lt;User&gt; reader(){\n        FlatFileItemReader&lt;User&gt; reader=new FlatFileItemReader&lt;&gt;();\n        reader.setResource(new ClassPathResource(&quot;records.csv&quot;));\n        reader.setLineMapper(getLineMapper()); //how to map the line which is read.\n        reader.setLinesToSkip(1); // skip lines when error occurs\n        return reader;\n    }\n    private LineMapper&lt;User&gt; getLineMapper() {\n        DefaultLineMapper&lt;User&gt; lineMapper=new DefaultLineMapper&lt;&gt;();\n        DelimitedLineTokenizer delimitedLineTokenizer=new DelimitedLineTokenizer();\n\n        delimitedLineTokenizer.setNames(new String[]{&quot;Roll Number&quot;,&quot;Name of Student&quot;,&quot;Personal Email ID&quot;,&quot;Email ID&quot;,&quot;MOBILE NO&quot;});\n        delimitedLineTokenizer.setIncludedFields(new int[]{1,2,3,4,5});\n\n        BeanWrapperFieldSetMapper&lt;User&gt; fieldSetMapper=new BeanWrapperFieldSetMapper&lt;&gt;();\n        fieldSetMapper.setTargetType(User.class);\n        lineMapper.setLineTokenizer(delimitedLineTokenizer);\n        lineMapper.setFieldSetMapper(fieldSetMapper);\n\n        return lineMapper;\n    }\n    @Bean\n    public UserItemProcessor processor(){\n        return new UserItemProcessor();\n    }\n    @Bean\n    public JdbcBatchItemWriter&lt;User&gt; writer(){\n        JdbcBatchItemWriter&lt;User&gt; writer= new JdbcBatchItemWriter&lt;&gt;();\n        writer.setItemSqlParameterSourceProvider(new BeanPropertyItemSqlParameterSourceProvider&lt;User&gt;());\n        writer.setSql(&quot;insert into user(rollNo,name,personalEmail,officialEmail,mobileNo) values (:rollNo,:name,:personalEmail,:officalEmail,:mobileNo)&quot;);\n        writer.setDataSource(dataSource);\n        return writer;\n    }\n\n    @Bean \n    public Job importUserJob(){\n\n        return new JobBuilder(&quot;USER_IMPORT_JOB&quot;)\n        .incrementer(new RunIdIncrementer())\n        .flow(step1())\n        .end()\n        .build();\n    }\n\n    @Bean\n    public Step step1(){\n        return new StepBuilder(&quot;Step 1&quot;)\n        .&lt;User,User&gt;chunk(5)\n        .reader(reader())\n        .writer(writer())\n        .build();\n    }\n}\n</code></pre>\n<p>On building the project I am getting the following exceptions-</p>\n<pre><code>org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [com.example.spring_boot_batch_demo.SpringBootBatchDemoApplication]; nested exception is java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.batch.BatchAutoConfiguration$DataSourceInitializerConfiguration\n        at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:609) ~[spring-context-5.3.24.jar:5.3.24]\n        at org.springframework.context.annotation.ConfigurationClassParser.access$800(ConfigurationClassParser.java:110) ~[spring-context-5.3.24.jar:5.3.24]\n        at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.lambda$processGroupImports$1(ConfigurationClassParser.java:812) ~[spring-context-5.3.24.jar:5.3.24]\n        at java.base/java.util.ArrayList.forEach(Unknown Source) ~[na:na]\n        at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.processGroupImports(ConfigurationClassParser.java:809) ~[spring-context-5.3.24.jar:5.3.24]\n        at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorHandler.process(ConfigurationClassParser.java:780) ~[spring-context-5.3.24.jar:5.3.24]\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:192) ~[spring-context-5.3.24.jar:5.3.24]     \n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331) ~[spring-context-5.3.24.jar:5.3.24]\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.24.jar:5.3.24]\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.24.jar:5.3.24]\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.24.jar:5.3.24]\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.24.jar:5.3.24]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.24.jar:5.3.24]  \n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.7.jar:2.7.7]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.7.jar:2.7.7]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.7.jar:2.7.7]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.7.jar:2.7.7]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.7.jar:2.7.7]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.7.jar:2.7.7]\n        at com.example.spring_boot_batch_demo.SpringBootBatchDemoApplication.main(SpringBootBatchDemoApplication.java:10) ~[classes/:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Unknown Source) ~[na:na]\n        at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.7.jar:2.7.7]\nCaused by: java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.batch.BatchAutoConfiguration$DataSourceInitializerConfiguration\n        at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-2.7.7.jar:2.7.7]\n        at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-5.3.24.jar:5.3.24]\n        at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:225) ~[spring-context-5.3.24.jar:5.3.24]\n        at org.springframework.context.annotation.ConfigurationClassParser.processMemberClasses(ConfigurationClassParser.java:371) ~[spring-context-5.3.24.jar:5.3.24]\n        at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:271) ~[spring-context-5.3.24.jar:5.3.24]\n        at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:249) ~[spring-context-5.399) ~[spring-context-5.3.24.jar:5.3.24]\n        ... 24 common frames omittedCaused by: java.lang.IllegalArgumentException: No enum constant org.springframework.boot.sql.init.DatabaseInitializationMode.ALWAYS\n        at java.base/java.lang.Enum.valueOf(Unknown Source) ~[na:na]\n        at org.springframework.boot.sql.init.DatabaseInitializationMode.valueOf(DatabaseInitializationMode.java:26) ~[spring-boot-2.7.7.jar:2.7.7]\n        at org.springframework.boot.autoconfigure.sql.init.OnDatabaseInitializationCondition.getDatabaseInitializationMode(OnDatabaseInitializationCondition.java:75) ~[spring-boot-autoconfigure-2.7.7.jar:2.7.7]\n        at org.springframework.boot.autoconfigure.sql.init.OnDatabaseInitializationCondition.getMatchOutcome(OnDatabaseInitializationCondition.java:60) ~[spring-boot-autoconfigure-2.7.7.jar:2.7.7]\n        at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-2.7.7.jar:2.7.7]\n        ... 30 common frames omitted\n\n</code></pre>\n<p>For referred several other posts which stated versioning problem, but it didn't help.\nI cannot find the problem with the code, can somebody help me?</p>\n"},{"tags":["java","spring","spring-mvc","spring-boot","jackson"],"comments":[{"owner":{"account_id":395375,"reputation":7111,"user_id":3591528,"display_name":"teppic"},"score":3,"creation_date":1542914949,"post_id":53437011,"comment_id":93747913,"body_markdown":"Don&#39;t add `@EnableWebMvc`. Spring boot sets up spring mvc automatically without it. Similar problems discussed [here](https://stackoverflow.com/questions/53364800/spring-boot-2-not-serializing-localdatetime#comment93640725_53364800) and [here](https://stackoverflow.com/a/51065174/3591528).","body":"Don&#39;t add <code>@EnableWebMvc</code>. Spring boot sets up spring mvc automatically without it. Similar problems discussed <a href=\"https://stackoverflow.com/questions/53364800/spring-boot-2-not-serializing-localdatetime#comment93640725_53364800\">here</a> and <a href=\"https://stackoverflow.com/a/51065174/3591528\">here</a>."},{"owner":{"account_id":1301815,"reputation":31761,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"score":0,"creation_date":1542953252,"post_id":53437011,"comment_id":93755697,"body_markdown":"Add this as en anwser.","body":"Add this as en anwser."}],"answers":[{"tags":[],"owner":{"account_id":15021840,"reputation":51,"user_id":10843049,"display_name":"Shivendra Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673975272,"creation_date":1673975272,"answer_id":75149902,"question_id":53437011,"body_markdown":"Let&#39;s first understand why we need to use @EnableWebMvc.\r\nSpring traditionally supports two types of configurations:\r\n\r\n[XML based configuration][1]\r\n\r\n[Annotation based configuration][2]\r\n\r\nSo if we want spring to support annotation we add @EnableWebMvc. But\r\nif we are using Spring Boot, it will auto-configure the equivalent of @EnableWebMvc for you. Unless you want to switch off all of Boot&#39;s opinions about how Spring MVC should be configured, you should not use @EnableWebMvc in your application.\r\n\r\nNow in your case by giving a Jackson2ObjectMapperBuilderCustomizer you want jackson to customize the behavior but @EnableWebMvc is switching off any opinion your object mapper is providing. \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/2.5.5/reference/xsd-config.html\r\n  [2]: https://www.tutorialspoint.com/spring/spring_annotation_based_configuration.htm","title":"@EnableWebMvc &quot;disables&quot; Jackson2ObjectMapperBuilderCustomizer how to fix?","body":"<p>Let's first understand why we need to use @EnableWebMvc.\nSpring traditionally supports two types of configurations:</p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/2.5.5/reference/xsd-config.html\" rel=\"nofollow noreferrer\">XML based configuration</a></p>\n<p><a href=\"https://www.tutorialspoint.com/spring/spring_annotation_based_configuration.htm\" rel=\"nofollow noreferrer\">Annotation based configuration</a></p>\n<p>So if we want spring to support annotation we add @EnableWebMvc. But\nif we are using Spring Boot, it will auto-configure the equivalent of @EnableWebMvc for you. Unless you want to switch off all of Boot's opinions about how Spring MVC should be configured, you should not use @EnableWebMvc in your application.</p>\n<p>Now in your case by giving a Jackson2ObjectMapperBuilderCustomizer you want jackson to customize the behavior but @EnableWebMvc is switching off any opinion your object mapper is providing.</p>\n"}],"owner":{"account_id":1301815,"reputation":31761,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1227,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673975272,"creation_date":1542914475,"question_id":53437011,"body_markdown":"I have confiured annotation introspector ([source][1])\r\n\r\n    public Jackson2ObjectMapperBuilderCustomizer addCustomBigDecimalDeserialization() {\r\n        return new Jackson2ObjectMapperBuilderCustomizer() {\r\n            @Override\r\n            public void customize(Jackson2ObjectMapperBuilder jacksonObjectMapperBuilder) {\r\n                jacksonObjectMapperBuilder.annotationIntrospector(\r\n                        new JacksonAnnotationIntrospector() {\r\n                            @Override\r\n                            public JsonPOJOBuilder.Value findPOJOBuilderConfig(AnnotatedClass ac) {\r\n                                if (ac.hasAnnotation(\r\n                                        JsonPOJOBuilder.class)) {//If no annotation present use default as empty prefix\r\n                                    return super.findPOJOBuilderConfig(ac);\r\n                                }\r\n                                return new JsonPOJOBuilder.Value(&quot;build&quot;, &quot;&quot;);\r\n                            }\r\n                        }\r\n                );\r\n            }\r\n        };\r\n    }\r\n\r\nAnd everything works until I added `@EnableWebMvc` to `Applciation` class. Now all dtos which have lombok `@Value` and `@Builder` annotations are fileld with nulls. It seems that my annotation introspector was replaced some where by spring. But where? Spring [boot documentation][2] said that it is enough to define `Jackson2ObjectMapperBuilderCustomizer` bean.\r\n\r\nAny ideas how configure/fix setting annotation introspectors with `@EnableWebMvc`?\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/48801237/1251549\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/reference/html/howto-spring-mvc.html#howto-customize-the-jackson-objectmapper","title":"@EnableWebMvc &quot;disables&quot; Jackson2ObjectMapperBuilderCustomizer how to fix?","body":"<p>I have confiured annotation introspector (<a href=\"https://stackoverflow.com/a/48801237/1251549\">source</a>)</p>\n\n<pre><code>public Jackson2ObjectMapperBuilderCustomizer addCustomBigDecimalDeserialization() {\n    return new Jackson2ObjectMapperBuilderCustomizer() {\n        @Override\n        public void customize(Jackson2ObjectMapperBuilder jacksonObjectMapperBuilder) {\n            jacksonObjectMapperBuilder.annotationIntrospector(\n                    new JacksonAnnotationIntrospector() {\n                        @Override\n                        public JsonPOJOBuilder.Value findPOJOBuilderConfig(AnnotatedClass ac) {\n                            if (ac.hasAnnotation(\n                                    JsonPOJOBuilder.class)) {//If no annotation present use default as empty prefix\n                                return super.findPOJOBuilderConfig(ac);\n                            }\n                            return new JsonPOJOBuilder.Value(\"build\", \"\");\n                        }\n                    }\n            );\n        }\n    };\n}\n</code></pre>\n\n<p>And everything works until I added <code>@EnableWebMvc</code> to <code>Applciation</code> class. Now all dtos which have lombok <code>@Value</code> and <code>@Builder</code> annotations are fileld with nulls. It seems that my annotation introspector was replaced some where by spring. But where? Spring <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto-spring-mvc.html#howto-customize-the-jackson-objectmapper\" rel=\"nofollow noreferrer\">boot documentation</a> said that it is enough to define <code>Jackson2ObjectMapperBuilderCustomizer</code> bean.</p>\n\n<p>Any ideas how configure/fix setting annotation introspectors with <code>@EnableWebMvc</code>?</p>\n"},{"tags":["java","intellij-idea","gradle"],"comments":[{"owner":{"account_id":261539,"reputation":19938,"user_id":981715,"accept_rate":74,"display_name":"Eugen Martynov"},"score":0,"creation_date":1464515920,"post_id":37490567,"comment_id":62510987,"body_markdown":"What version of idea and kotlin do you use? I would ask quesiton on JetBrains issue tracker","body":"What version of idea and kotlin do you use? I would ask quesiton on JetBrains issue tracker"},{"owner":{"account_id":4356170,"reputation":3164,"user_id":3554721,"accept_rate":50,"display_name":"0x60"},"score":0,"creation_date":1464520557,"post_id":37490567,"comment_id":62512258,"body_markdown":"@EugenMartynov IDEA is 2016.1.2. Kotlin is 1.0.2, I guess... I have `kotlin-gradle-plugin:1.0.2` and `kotlin-stdlib:1.0.2` listed in Gradle dependencies","body":"@EugenMartynov IDEA is 2016.1.2. Kotlin is 1.0.2, I guess... I have <code>kotlin-gradle-plugin:1.0.2</code> and <code>kotlin-stdlib:1.0.2</code> listed in Gradle dependencies"}],"answers":[{"tags":[],"owner":{"account_id":7451588,"reputation":811,"user_id":5666171,"accept_rate":86,"display_name":"CLOVIS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673975197,"creation_date":1673975197,"answer_id":75149884,"question_id":37490567,"body_markdown":"The `test` source set already depends on the `main` source set by default. Something is mostly likely wrong with your IntelliJ configuration, but it&#39;s not possible to know what without looking at the project.","title":"Gradle: Make &quot;test&quot; source set depend on &quot;main&quot; source set","body":"<p>The <code>test</code> source set already depends on the <code>main</code> source set by default. Something is mostly likely wrong with your IntelliJ configuration, but it's not possible to know what without looking at the project.</p>\n"}],"owner":{"account_id":4356170,"reputation":3164,"user_id":3554721,"accept_rate":50,"display_name":"0x60"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673975197,"creation_date":1464375504,"question_id":37490567,"body_markdown":"Here is my project structure:\r\n\r\n[![IDEA Gradle project structure][1]][1]\r\n\r\nIt is the default project structure created by Intellij IDEA for Kotlin projects built with Gradle. For some reason `main` source set is not set as a dependency for `test` source set, making it impossible to write unit tests. I can manually add this dependency in IDEA&#39;s &quot;module settings&quot;, but every time there is a Gradle refresh this setting goes away.\r\n\r\nMy guess is that when Gradle is used, IDEA module settings completely copy Gradle settings, so in order to make the dependency persistent, it has to be added to `build.gradle`. What would the syntax be?\r\n\r\n  [1]: http://i.stack.imgur.com/HBsVU.jpg","title":"Gradle: Make &quot;test&quot; source set depend on &quot;main&quot; source set","body":"<p>Here is my project structure:</p>\n\n<p><a href=\"https://i.stack.imgur.com/HBsVU.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HBsVU.jpg\" alt=\"IDEA Gradle project structure\"></a></p>\n\n<p>It is the default project structure created by Intellij IDEA for Kotlin projects built with Gradle. For some reason <code>main</code> source set is not set as a dependency for <code>test</code> source set, making it impossible to write unit tests. I can manually add this dependency in IDEA's \"module settings\", but every time there is a Gradle refresh this setting goes away.</p>\n\n<p>My guess is that when Gradle is used, IDEA module settings completely copy Gradle settings, so in order to make the dependency persistent, it has to be added to <code>build.gradle</code>. What would the syntax be?</p>\n"},{"tags":["java","date","timestamp","simpledateformat"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1673922875,"post_id":75141361,"comment_id":132600237,"body_markdown":"Timestamp is a thin wrapper around java.util.Date.  Date is a Long.  &quot;20220321211529042 &quot; is a String","body":"Timestamp is a thin wrapper around java.util.Date.  Date is a Long.  &quot;20220321211529042 &quot; is a String"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673934607,"post_id":75141361,"comment_id":132601787,"body_markdown":"I strongly recommend you neither use `SimpleDateFormat` nor `Date`. The latter is poorly designed, the former a notorious troublemaker of a class, you don’t want to struggle with them. Fortunately both are long outdated and replaced by [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html). Use `LocalDateTime` and `DateTimeFormatter` from the modern API.","body":"I strongly recommend you neither use <code>SimpleDateFormat</code> nor <code>Date</code>. The latter is poorly designed, the former a notorious troublemaker of a class, you don’t want to struggle with them. Fortunately both are long outdated and replaced by <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. Use <code>LocalDateTime</code> and <code>DateTimeFormatter</code> from the modern API."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673934739,"post_id":75141361,"comment_id":132601803,"body_markdown":"`&quot;20220321211529042&quot;` (2022 Match 21 at 21:15:29.042) is in which time zone? In which time zone do you want the date format?","body":"<code>&quot;20220321211529042&quot;</code> (2022 Match 21 at 21:15:29.042) is in which time zone? In which time zone do you want the date format?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673934940,"post_id":75141361,"comment_id":132601833,"body_markdown":"Please give a concrete example of the value and type you are passing to `format()` in your code? Passing a string, whether `&quot;date_column_from_db&quot;` or `&quot;20220321211529042&quot;`, is expected to generate the exception you mention. Passing a number, for example `20220321211529042L`, will not (but will also in this case not give you the expected result).","body":"Please give a concrete example of the value and type you are passing to <code>format()</code> in your code? Passing a string, whether <code>&quot;date_column_from_db&quot;</code> or <code>&quot;20220321211529042&quot;</code>, is expected to generate the exception you mention. Passing a number, for example <code>20220321211529042L</code>, will not (but will also in this case not give you the expected result)."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673935298,"post_id":75141361,"comment_id":132601880,"body_markdown":"You likely want `LocalDateTime.parse(&quot;20220321211529042&quot;, DateTimeFormatter.ofPattern(&quot;uuuuMMddHHmmssSSS&quot;)).format(DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;))`. It yields `21/03/2022`.","body":"You likely want <code>LocalDateTime.parse(&quot;20220321211529042&quot;, DateTimeFormatter.ofPattern(&quot;uuuuMMddHHmmssSSS&quot;)).format(Dat&zwnj;&#8203;eTimeFormatter.ofPat&zwnj;&#8203;tern(&quot;dd&#47;MM&#47;yyyy&quot;))</code>. It yields <code>21&#47;03&#47;2022</code>."},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1673971425,"post_id":75141361,"comment_id":132613041,"body_markdown":"The `java.util` Date-Time API and their formatting API, `SimpleDateFormat` are outdated and error-prone. It is recommended to stop using them completely and switch to the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html). Check [this answer](https://stackoverflow.com/a/67752047/10819573) and [this answer](https://stackoverflow.com/a/67505173/10819573) to learn how to use `java.time` API with JDBC.","body":"The <code>java.util</code> Date-Time API and their formatting API, <code>SimpleDateFormat</code> are outdated and error-prone. It is recommended to stop using them completely and switch to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a>. Check <a href=\"https://stackoverflow.com/a/67752047/10819573\">this answer</a> and <a href=\"https://stackoverflow.com/a/67505173/10819573\">this answer</a> to learn how to use <code>java.time</code> API with JDBC."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1673977647,"post_id":75141361,"comment_id":132615039,"body_markdown":"@ArvindKumarAvinash Thanks. I suspect that the OP is keeping the timestamp in a `char` or `varchar` column in their database. Your suggestion would require them to change that to `timestamp` (with or without time zone). Which they should anyway, so it is a very good suggestion.","body":"@ArvindKumarAvinash Thanks. I suspect that the OP is keeping the timestamp in a <code>char</code> or <code>varchar</code> column in their database. Your suggestion would require them to change that to <code>timestamp</code> (with or without time zone). Which they should anyway, so it is a very good suggestion."}],"answers":[{"tags":[],"owner":{"account_id":5198556,"reputation":90,"user_id":4158858,"display_name":"TYZRPVX"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673923005,"creation_date":1673923005,"answer_id":75141499,"question_id":75141361,"body_markdown":"Just test the below code, `format()` method only allows `Date` or `Number` as an argument, `String` is invalid.\r\n\r\n```\r\nString column = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;).format(20220321211529042L);\r\nSystem.out.println(&quot;column = &quot; + column);\r\n```\r\n\r\n`DateFormat` source may be more detailed https://developer.classpath.org/doc/java/text/DateFormat-source.html\r\n\r\n\r\n\r\n```\r\npublic final StringBuffer format(Object obj, StringBuffer toAppendTo,\r\n                                 FieldPosition fieldPosition)\r\n{\r\n    if (obj instanceof Date)\r\n        return format( (Date)obj, toAppendTo, fieldPosition );\r\n    else if (obj instanceof Number)\r\n        return format( new Date(((Number)obj).longValue()),\r\n                      toAppendTo, fieldPosition );\r\n    else\r\n        throw new IllegalArgumentException(&quot;Cannot format given Object as a Date&quot;);\r\n}\r\n```","title":"Formatting timestamp to Date format","body":"<p>Just test the below code, <code>format()</code> method only allows <code>Date</code> or <code>Number</code> as an argument, <code>String</code> is invalid.</p>\n<pre><code>String column = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;).format(20220321211529042L);\nSystem.out.println(&quot;column = &quot; + column);\n</code></pre>\n<p><code>DateFormat</code> source may be more detailed <a href=\"https://developer.classpath.org/doc/java/text/DateFormat-source.html\" rel=\"nofollow noreferrer\">https://developer.classpath.org/doc/java/text/DateFormat-source.html</a></p>\n<pre><code>public final StringBuffer format(Object obj, StringBuffer toAppendTo,\n                                 FieldPosition fieldPosition)\n{\n    if (obj instanceof Date)\n        return format( (Date)obj, toAppendTo, fieldPosition );\n    else if (obj instanceof Number)\n        return format( new Date(((Number)obj).longValue()),\n                      toAppendTo, fieldPosition );\n    else\n        throw new IllegalArgumentException(&quot;Cannot format given Object as a Date&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1673937449,"creation_date":1673923108,"answer_id":75141505,"question_id":75141361,"body_markdown":"Your use of the term &#39;timestamp&#39; is misleading - it is really an encoded string.\r\n\r\nYou will need to decode the DB string and then recode it in the new format you want. Something like:\r\n\r\n    var timestring = &quot;20220321211529042&quot;;\r\n    var parsedTimestamp = DateTimeFormatter.ofPattern(&quot;uuuuMMddHHmmssSSS&quot;).parse(timestring);\r\n    var output = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;).format(parsedTimestamp);\r\n\r\n\r\nAs an alternative, you can use an intermediate `LocalDateTime` variable:\r\n\r\n    var timestring = &quot;20220321211529042&quot;;\r\n    var dateTime = LocalDateTime.parse(timestring, DateTimeFormatter.ofPattern(&quot;uuuuMMddHHmmssSSS&quot;));\r\n    var output = dateTime.format(DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;));\r\n\r\n\r\n","title":"Formatting timestamp to Date format","body":"<p>Your use of the term 'timestamp' is misleading - it is really an encoded string.</p>\n<p>You will need to decode the DB string and then recode it in the new format you want. Something like:</p>\n<pre><code>var timestring = &quot;20220321211529042&quot;;\nvar parsedTimestamp = DateTimeFormatter.ofPattern(&quot;uuuuMMddHHmmssSSS&quot;).parse(timestring);\nvar output = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;).format(parsedTimestamp);\n</code></pre>\n<p>As an alternative, you can use an intermediate <code>LocalDateTime</code> variable:</p>\n<pre><code>var timestring = &quot;20220321211529042&quot;;\nvar dateTime = LocalDateTime.parse(timestring, DateTimeFormatter.ofPattern(&quot;uuuuMMddHHmmssSSS&quot;));\nvar output = dateTime.format(DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;));\n</code></pre>\n"}],"owner":{"account_id":23696244,"reputation":1,"user_id":17719934,"display_name":"Syafiza Surani"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":524,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673973702,"answer_count":2,"score":0,"last_activity_date":1673974785,"creation_date":1673921044,"question_id":75141361,"body_markdown":"I have a question. I need to convert and display the data from database which it&#39;s a timestamp to date format only. *the format is dd/MM/yyyy\r\n\r\nCurrently I writng the code like this but the error says &quot;Cannot format given Object as a Date&quot;\r\n\r\n    xi.setItem(&quot;Dte&quot;,db.getDataAt(i,\r\n               new SimpleDateFormat(&quot;dd/MM/yyyy&quot;).format(&quot;date_column_from_db&quot;)));\r\n\r\n\r\nthis is the example of the date column in the database:\r\n20220321211529042  (basically it is a timestamp)\r\n\r\nand I want to convert and display the data to date format only, like this:\r\n21/03/2022\r\n\r\n\r\n\r\nHope to get solution. Thank you!","title":"Formatting timestamp to Date format","body":"<p>I have a question. I need to convert and display the data from database which it's a timestamp to date format only. *the format is dd/MM/yyyy</p>\n<p>Currently I writng the code like this but the error says &quot;Cannot format given Object as a Date&quot;</p>\n<pre><code>xi.setItem(&quot;Dte&quot;,db.getDataAt(i,\n           new SimpleDateFormat(&quot;dd/MM/yyyy&quot;).format(&quot;date_column_from_db&quot;)));\n</code></pre>\n<p>this is the example of the date column in the database:\n20220321211529042  (basically it is a timestamp)</p>\n<p>and I want to convert and display the data to date format only, like this:\n21/03/2022</p>\n<p>Hope to get solution. Thank you!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1673973481,"post_id":75149506,"comment_id":132613762,"body_markdown":"The % is the modulo operator. The result is the remainder. So `year%4==0` checks if a year is divisible by 4 without a remainder.","body":"The % is the modulo operator. The result is the remainder. So <code>year%4==0</code> checks if a year is divisible by 4 without a remainder."},{"owner":{"account_id":25936706,"reputation":353,"user_id":19656840,"display_name":"Gabriel Aoki"},"score":0,"creation_date":1673973551,"post_id":75149506,"comment_id":132613788,"body_markdown":"Please read https://www.wikihow.com/Ask-a-Question-on-Stack-Overflow#:~:text=Navigate%20to%20the%20Stack%20Overflow,you%20should%20click%20to%20continue.","body":"Please read <a href=\"https://www.wikihow.com/Ask-a-Question-on-Stack-Overflow#:~:text=Navigate%20to%20the%20Stack%20Overflow,you%20should%20click%20to%20continue\" rel=\"nofollow noreferrer\">wikihow.com/&hellip;</a>."},{"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"score":2,"creation_date":1673973713,"post_id":75149506,"comment_id":132613830,"body_markdown":"Not a good title: &quot;Can someone explain me what is happening here in the Java code?&quot;. A better title: &quot;Understanding formula for leap years&quot;. Better questions result in better answers!","body":"Not a good title: &quot;Can someone explain me what is happening here in the Java code?&quot;. A better title: &quot;Understanding formula for leap years&quot;. Better questions result in better answers!"},{"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"score":0,"creation_date":1673973868,"post_id":75149506,"comment_id":132613887,"body_markdown":"Does this answer your question? [Java Code for calculating Leap Year](https://stackoverflow.com/questions/1021324/java-code-for-calculating-leap-year)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1021324/java-code-for-calculating-leap-year\">Java Code for calculating Leap Year</a>"}],"answers":[{"tags":[],"owner":{"account_id":19933869,"reputation":3,"user_id":14606969,"display_name":"Manu Add1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673974211,"creation_date":1673974211,"answer_id":75149685,"question_id":75149506,"body_markdown":"The &quot;TB&quot; is a Input scanner that gets the input you put in your Console.\r\n\r\n&gt; int year = TB.nextInt();\r\n\r\nConverts your String input into an int\r\n\r\n&gt; boolean isLeapYear = (year % 4 == 0 &amp;&amp; year % 100 != 0) || year % 400 == 0;\r\n\r\nyou could also wirte it like this\r\n\r\n```\r\nif((year % 4 == 0 &amp;&amp; year % 100 != 0) || year % 400 == 0){\r\n    isLeapYear = true;\r\n}else{isLeapYear = false;}\r\n```\r\n\r\n% opperator takes makes a division and returns the remainder for example 9 % 4 = 1, because 9 / 4 = 2 with a remainder of 1.\r\nAlso called Modulo.\r\n\r\nso basicly if the remainder of &quot;year / 4 = 0&quot; and the remainder of &quot;year / 100 is not 0&quot; or &quot;year / 400 has a remainder of 0&quot; the boolean will be True otherwise its False.\r\n\r\nSystem.out.println(isLeapYear); just prints the result that i just talked about.\r\n","title":"Understanding formula for leap years","body":"<p>The &quot;TB&quot; is a Input scanner that gets the input you put in your Console.</p>\n<blockquote>\n<p>int year = TB.nextInt();</p>\n</blockquote>\n<p>Converts your String input into an int</p>\n<blockquote>\n<p>boolean isLeapYear = (year % 4 == 0 &amp;&amp; year % 100 != 0) || year % 400 == 0;</p>\n</blockquote>\n<p>you could also wirte it like this</p>\n<pre><code>if((year % 4 == 0 &amp;&amp; year % 100 != 0) || year % 400 == 0){\n    isLeapYear = true;\n}else{isLeapYear = false;}\n</code></pre>\n<p>% opperator takes makes a division and returns the remainder for example 9 % 4 = 1, because 9 / 4 = 2 with a remainder of 1.\nAlso called Modulo.</p>\n<p>so basicly if the remainder of &quot;year / 4 = 0&quot; and the remainder of &quot;year / 100 is not 0&quot; or &quot;year / 400 has a remainder of 0&quot; the boolean will be True otherwise its False.</p>\n<p>System.out.println(isLeapYear); just prints the result that i just talked about.</p>\n"},{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673974781,"creation_date":1673974781,"answer_id":75149796,"question_id":75149506,"body_markdown":"You can split your formula into several parts to better understand it:\r\n\r\n```\r\nboolean isLeapYear = (year % 4 == 0 &amp;&amp; year % 100 != 0) || year % 400 == 0\r\n```\r\n\r\nThis creates a `boolean` variable from the `year`, `boolean` can only be `true` or `false`, while `year` is of type `int`, a whole number with a range enough for years (the exact values don&#39;t matter for this answer).\r\n\r\nFirst you can set more parenthesis to make it clearer and separated:\r\n```\r\n(((year % 4) == 0) &amp;&amp; ((year % 100) != 0)) || ((year % 400) == 0)\r\n```\r\n\r\nThen the parts explained:\r\n\r\n* `(year % 4)` calculates the remainder of division by 4\r\n* `((year % 4) == 0)` is `true`, if the remainder of the division by 4 is 0, that means, it is dividable by 4 without remainder =&gt; `dividableBy4`\r\n* `((year % 100) != 0))` similar to above (is `true` if `year` is *not* dividable by 100 without remainder) =&gt; `notDividableBy100`\r\n* `((year % 400) == 0))` the same as with 4 but for division by 400 =&gt; `dividableBy400`\r\n\r\nNow you have: \r\n``` \r\n(dividableBy4 &amp;&amp; notDividableBy100) || dividableBy400\r\n```\r\n\r\n`&amp;&amp;` and `||` are operators for `boolean` variables, `&amp;&amp;` stands for logical AND, `||` is for logical OR, so the expression above means:\r\n\r\neither (dividable by 4 AND not dividable by 100) or dividable by 400","title":"Understanding formula for leap years","body":"<p>You can split your formula into several parts to better understand it:</p>\n<pre><code>boolean isLeapYear = (year % 4 == 0 &amp;&amp; year % 100 != 0) || year % 400 == 0\n</code></pre>\n<p>This creates a <code>boolean</code> variable from the <code>year</code>, <code>boolean</code> can only be <code>true</code> or <code>false</code>, while <code>year</code> is of type <code>int</code>, a whole number with a range enough for years (the exact values don't matter for this answer).</p>\n<p>First you can set more parenthesis to make it clearer and separated:</p>\n<pre><code>(((year % 4) == 0) &amp;&amp; ((year % 100) != 0)) || ((year % 400) == 0)\n</code></pre>\n<p>Then the parts explained:</p>\n<ul>\n<li><code>(year % 4)</code> calculates the remainder of division by 4</li>\n<li><code>((year % 4) == 0)</code> is <code>true</code>, if the remainder of the division by 4 is 0, that means, it is dividable by 4 without remainder =&gt; <code>dividableBy4</code></li>\n<li><code>((year % 100) != 0))</code> similar to above (is <code>true</code> if <code>year</code> is <em>not</em> dividable by 100 without remainder) =&gt; <code>notDividableBy100</code></li>\n<li><code>((year % 400) == 0))</code> the same as with 4 but for division by 400 =&gt; <code>dividableBy400</code></li>\n</ul>\n<p>Now you have:</p>\n<pre><code>(dividableBy4 &amp;&amp; notDividableBy100) || dividableBy400\n</code></pre>\n<p><code>&amp;&amp;</code> and <code>||</code> are operators for <code>boolean</code> variables, <code>&amp;&amp;</code> stands for logical AND, <code>||</code> is for logical OR, so the expression above means:</p>\n<p>either (dividable by 4 AND not dividable by 100) or dividable by 400</p>\n"}],"owner":{"account_id":27554722,"reputation":11,"user_id":21029162,"display_name":"Tomas Bernatonis"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1674310846,"accepted_answer_id":75149796,"answer_count":2,"score":-2,"last_activity_date":1673974781,"creation_date":1673973378,"question_id":75149506,"body_markdown":"I&#39;m trying to understand this solution right here:\r\nWhat I don&#39;t understand is what means `== 0` ??? And **why** it is: **if it equals to 0?**.\r\n\r\n**This was my task:**\r\n\r\n&gt; In leap years, February has 29 days instead of the usual 28 days. We can determine leap years by the fact that the year number is divisible by 4. However, the year must not be divisible by 100. If the year is divisible by 400, it is a leap year.\r\nWrite a program in Java that checks whether a given year is a leap year. If the year is a leap year, true is output. If this is not the case, false is output.\r\n\r\nI tried many things and then I wanted to look up from the solution and now I want to understand it.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Leapyear {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Scanner TB = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Type in a year which you want to test if it is a leapyear or not:&quot;);\r\n        int year = TB.nextInt();\r\n\r\n        boolean isLeapYear = (year % 4 == 0 &amp;&amp; year % 100 != 0) || year % 400 == 0;\r\n\r\n        System.out.println(isLeapYear);\r\n\r\n    }\r\n}\r\n```\r\n","title":"Understanding formula for leap years","body":"<p>I'm trying to understand this solution right here:\nWhat I don't understand is what means <code>== 0</code> ??? And <strong>why</strong> it is: <strong>if it equals to 0?</strong>.</p>\n<p><strong>This was my task:</strong></p>\n<blockquote>\n<p>In leap years, February has 29 days instead of the usual 28 days. We can determine leap years by the fact that the year number is divisible by 4. However, the year must not be divisible by 100. If the year is divisible by 400, it is a leap year.\nWrite a program in Java that checks whether a given year is a leap year. If the year is a leap year, true is output. If this is not the case, false is output.</p>\n</blockquote>\n<p>I tried many things and then I wanted to look up from the solution and now I want to understand it.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Leapyear {\n\n    public static void main(String[] args) {\n\n        Scanner TB = new Scanner(System.in);\n\n        System.out.println(&quot;Type in a year which you want to test if it is a leapyear or not:&quot;);\n        int year = TB.nextInt();\n\n        boolean isLeapYear = (year % 4 == 0 &amp;&amp; year % 100 != 0) || year % 400 == 0;\n\n        System.out.println(isLeapYear);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","maven","azure-cosmosdb","always-encrypted"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674036948,"post_id":75141464,"comment_id":132627471,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":550920,"reputation":8228,"user_id":884931,"display_name":"Mark Brown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673974101,"creation_date":1673974101,"answer_id":75149660,"question_id":75141464,"body_markdown":"This isn&#39;t currently supported by the Cosmos DB Spring Data SDK. Only the core .NET and Java SDK&#39;s support the always encrypted feature in Azure.","title":"How to implement Always Encrypted into a Spring Boot Application using Azure Cosmos DB?","body":"<p>This isn't currently supported by the Cosmos DB Spring Data SDK. Only the core .NET and Java SDK's support the always encrypted feature in Azure.</p>\n"}],"owner":{"account_id":27488081,"reputation":1,"user_id":20973982,"display_name":"Andy Escobar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673974101,"creation_date":1673922480,"question_id":75141464,"body_markdown":"I wanted to implement an Always Encrypted feature in my SpringBoot application using CosmosDB. I know microsoft dicates to use a Windows Environment or Docker to run MSSQL but I believe there must be a way to implemented inside the application using JDBC.\r\n\r\nI have tried this solution but I could not make it work, even after seing his example he uses gradle and uses Java Keystore instead of Azure Keyvault and with Cosmos DB. I tried replacing and following Microsoft guides but I am confused on the correct implementation.","title":"How to implement Always Encrypted into a Spring Boot Application using Azure Cosmos DB?","body":"<p>I wanted to implement an Always Encrypted feature in my SpringBoot application using CosmosDB. I know microsoft dicates to use a Windows Environment or Docker to run MSSQL but I believe there must be a way to implemented inside the application using JDBC.</p>\n<p>I have tried this solution but I could not make it work, even after seing his example he uses gradle and uses Java Keystore instead of Azure Keyvault and with Cosmos DB. I tried replacing and following Microsoft guides but I am confused on the correct implementation.</p>\n"},{"tags":["java","servlets","cdi","java-ee-8","jsf-2.3"],"answers":[{"tags":[],"owner":{"account_id":217137,"reputation":37872,"user_id":472792,"accept_rate":50,"display_name":"Arjan Tijms"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1631207235,"creation_date":1631207235,"answer_id":69122227,"question_id":69101304,"body_markdown":"There&#39;s not a single good answer here. \r\n\r\nTo start with, `HttpServletRequest` is produced by CDI, not Faces. As for `HttpServletResponse` I&#39;m not sure why it wasn&#39;t original included in CDI, but I do know that all the Servlet artefacts should originally not have been provided by CDI. \r\n\r\nInstead, CDI should have asked Servlet to provide &quot;producers&quot; for them (technically, build-in beans). Jakarta Transactions (JTA back then) did something similar)\r\n\r\nCurrently, CDI doesn&#39;t want to enhance or expand the Servlet artefacts, and with good reason. CDI is focussing on its core bean model and injection.\r\n\r\nHowever, in Servlet there is a huge misunderstanding of what it means to provide producers. At least one person in Servlet thinks it&#39;s about providing integration points, or about Servlet having to become completely CDI based, or about Jetty having to support all 10 CDI implementations out there (there are only 2, but that aside).\r\n\r\nThis discussion has been going on for at least 8 years. Issues have been opened and closed again.\r\n\r\nI&#39;m a Servlet member myself so I hope I have some influence, but still have not been able to get this resolved.\r\n\r\nWe could alternatively have Faces provide `HttpServletResponse`, but Faces also does not own that type, and it would likely only contribute to the confusion.","title":"Why is HTTPServletRequest injectable via CDI but HTTPServletResponse isn&#39;t?","body":"<p>There's not a single good answer here.</p>\n<p>To start with, <code>HttpServletRequest</code> is produced by CDI, not Faces. As for <code>HttpServletResponse</code> I'm not sure why it wasn't original included in CDI, but I do know that all the Servlet artefacts should originally not have been provided by CDI.</p>\n<p>Instead, CDI should have asked Servlet to provide &quot;producers&quot; for them (technically, build-in beans). Jakarta Transactions (JTA back then) did something similar)</p>\n<p>Currently, CDI doesn't want to enhance or expand the Servlet artefacts, and with good reason. CDI is focussing on its core bean model and injection.</p>\n<p>However, in Servlet there is a huge misunderstanding of what it means to provide producers. At least one person in Servlet thinks it's about providing integration points, or about Servlet having to become completely CDI based, or about Jetty having to support all 10 CDI implementations out there (there are only 2, but that aside).</p>\n<p>This discussion has been going on for at least 8 years. Issues have been opened and closed again.</p>\n<p>I'm a Servlet member myself so I hope I have some influence, but still have not been able to get this resolved.</p>\n<p>We could alternatively have Faces provide <code>HttpServletResponse</code>, but Faces also does not own that type, and it would likely only contribute to the confusion.</p>\n"},{"tags":[],"owner":{"account_id":22099310,"reputation":3,"user_id":16356022,"display_name":"orudicKS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673973872,"creation_date":1673971924,"answer_id":75149207,"question_id":69101304,"body_markdown":"As said already injecting the `HttpServletResponse` is not supported by CDI by default. The [Servlet module from Apache DeltaSpike][2] however allows for injectable servlet objects such as the `HttpServletResponse`. So there is no need for writing a custom CDI `Producer` or `@Produces` method in order to inject the `HttpServletResponse` via CDI.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/472792/arjan-tijms\r\n  [2]: https://deltaspike.apache.org/documentation/servlet.html","title":"Why is HTTPServletRequest injectable via CDI but HTTPServletResponse isn&#39;t?","body":"<p>As said already injecting the <code>HttpServletResponse</code> is not supported by CDI by default. The <a href=\"https://deltaspike.apache.org/documentation/servlet.html\" rel=\"nofollow noreferrer\">Servlet module from Apache DeltaSpike</a> however allows for injectable servlet objects such as the <code>HttpServletResponse</code>. So there is no need for writing a custom CDI <code>Producer</code> or <code>@Produces</code> method in order to inject the <code>HttpServletResponse</code> via CDI.</p>\n"}],"owner":{"account_id":16725216,"reputation":184,"user_id":12088967,"display_name":"Diggi55"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":412,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":69122227,"answer_count":2,"score":10,"last_activity_date":1673973872,"creation_date":1631096594,"question_id":69101304,"body_markdown":"This question took off because I read [Arjan Tijms blogpost about JSF 2.3](https://arjan-tijms.omnifaces.org/p/jsf-23.html#cdi). There, he list all JSF artifacts which can be injected via CDI. Although `HttpServletRequest` is mentioned, `HttpServletResponse` doesn&#39;t appear on the said list which I didn&#39;t believe at first. \r\n\r\nTo try things out, I setup a simple Server (JavaEE8, Wildfy22):\r\n\r\n - `@Inject private HttpServletRequest req;` works just fine\r\n - `@Inject private HttpServletResponse res;` throws `DeploymentException: WELD-001408: Unsatisfied dependencies for type HttpServletResponse`\r\n\r\nI don&#39;t see why `HttpServletResponse` should not be injectable. After all, the goal was to replace convulent method chains by a concise injection.\r\nIn case of `HttpServletRequest`, `FacesContext.getCurrentInstance().getExternalContext().getRequest();` can now be shortened to the above injection.\r\n\r\nWell, in case of `HttpServletResponse`, there is no injection candidate to replace `FacesContext.getCurrentInstance().getExternalContext().getResponse();` as shown above.\r\n\r\nSummarized: Why is `HttpServletRequest` injectable via CDI but `HttpServletResponse` isn&#39;t?","title":"Why is HTTPServletRequest injectable via CDI but HTTPServletResponse isn&#39;t?","body":"<p>This question took off because I read <a href=\"https://arjan-tijms.omnifaces.org/p/jsf-23.html#cdi\" rel=\"noreferrer\">Arjan Tijms blogpost about JSF 2.3</a>. There, he list all JSF artifacts which can be injected via CDI. Although <code>HttpServletRequest</code> is mentioned, <code>HttpServletResponse</code> doesn't appear on the said list which I didn't believe at first.</p>\n<p>To try things out, I setup a simple Server (JavaEE8, Wildfy22):</p>\n<ul>\n<li><code>@Inject private HttpServletRequest req;</code> works just fine</li>\n<li><code>@Inject private HttpServletResponse res;</code> throws <code>DeploymentException: WELD-001408: Unsatisfied dependencies for type HttpServletResponse</code></li>\n</ul>\n<p>I don't see why <code>HttpServletResponse</code> should not be injectable. After all, the goal was to replace convulent method chains by a concise injection.\nIn case of <code>HttpServletRequest</code>, <code>FacesContext.getCurrentInstance().getExternalContext().getRequest();</code> can now be shortened to the above injection.</p>\n<p>Well, in case of <code>HttpServletResponse</code>, there is no injection candidate to replace <code>FacesContext.getCurrentInstance().getExternalContext().getResponse();</code> as shown above.</p>\n<p>Summarized: Why is <code>HttpServletRequest</code> injectable via CDI but <code>HttpServletResponse</code> isn't?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","micrometer"],"answers":[{"tags":[],"owner":{"account_id":4632643,"reputation":543,"user_id":3754710,"display_name":"Tommy Ludwig"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1644204209,"creation_date":1644204209,"answer_id":71013144,"question_id":70997020,"body_markdown":"You are using Spring Boot&#39;s configuration properties in `application.yml` but you are also making your own `DatadogMeterRegistry` that doesn&#39;t use those configuration properties, and therefore it will not have the required API key configuration.\r\n\r\nYou can delete the `MeterRegistryConfig` class entirely and instead use the `DatadogMeterRegistry` that Spring Boot will auto-configure from configuration properties because you have the `micrometer-registry-datadog` dependency on your classpath. See [this section][1] of the Spring Boot documentation.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#actuator.metrics.getting-started","title":"datadog.apiKey was &#39;null&#39; but it is required","body":"<p>You are using Spring Boot's configuration properties in <code>application.yml</code> but you are also making your own <code>DatadogMeterRegistry</code> that doesn't use those configuration properties, and therefore it will not have the required API key configuration.</p>\n<p>You can delete the <code>MeterRegistryConfig</code> class entirely and instead use the <code>DatadogMeterRegistry</code> that Spring Boot will auto-configure from configuration properties because you have the <code>micrometer-registry-datadog</code> dependency on your classpath. See <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#actuator.metrics.getting-started\" rel=\"nofollow noreferrer\">this section</a> of the Spring Boot documentation.</p>\n"},{"tags":[],"owner":{"account_id":5438682,"reputation":850,"user_id":4327319,"accept_rate":100,"display_name":"Almustafa Azhari"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1673973670,"creation_date":1673973670,"answer_id":75149570,"question_id":70997020,"body_markdown":"For me, it was just the hierarchy is changed when updated from Spring boot 2 -&gt; 3.\r\n\r\n**Update the below:** \r\n\r\n    management:\r\n      .....\r\n      metrics: // Changed to datadog\r\n        .....\r\n        export: // Changed to metrics\r\n          datadog: // Changed to export\r\n            step: 30s\r\n            enabled: true\r\n            api-key: xxxxxxx\r\n        .....\r\n\r\n**To :**\r\n\r\n    management:\r\n      .....\r\n      datadog:\r\n        .....\r\n        metrics:\r\n          export:\r\n            step: 30s\r\n            enabled: true\r\n            api-key: xxxxxxx\r\n        .....","title":"datadog.apiKey was &#39;null&#39; but it is required","body":"<p>For me, it was just the hierarchy is changed when updated from Spring boot 2 -&gt; 3.</p>\n<p><strong>Update the below:</strong></p>\n<pre><code>management:\n  .....\n  metrics: // Changed to datadog\n    .....\n    export: // Changed to metrics\n      datadog: // Changed to export\n        step: 30s\n        enabled: true\n        api-key: xxxxxxx\n    .....\n</code></pre>\n<p><strong>To :</strong></p>\n<pre><code>management:\n  .....\n  datadog:\n    .....\n    metrics:\n      export:\n        step: 30s\n        enabled: true\n        api-key: xxxxxxx\n    .....\n</code></pre>\n"}],"owner":{"account_id":5598166,"reputation":2293,"user_id":4435214,"accept_rate":78,"display_name":"Omkar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3160,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71013144,"answer_count":2,"score":1,"last_activity_date":1673973670,"creation_date":1644056054,"question_id":70997020,"body_markdown":"I am currently using spring boot `2.7.0-M1` and following is my dependencies in `build.gradle`:\r\n\r\n```\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.springframework.cloud:spring-cloud-starter-config&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-cache&#39;\r\n    compileOnly &#39;org.projectlombok:lombok&#39;\r\n    implementation &#39;org.springframework.cloud:spring-cloud-starter-bootstrap&#39;\r\n    developmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n    implementation &#39;io.micrometer:micrometer-registry-datadog:latest.release&#39;\r\n    datadogagent(&quot;com.datadoghq:dd-java-agent:$datadoghq_dd_version&quot;)\r\n    implementation(&quot;com.datadoghq:dd-trace-api:${datadoghq_dd_version}&quot;)\r\n```\r\nHowever, when i try to set micrometer bean:\r\n```\r\n@Configuration\r\npublic class MeterRegistryConfig {\r\n  @Bean\r\n  MeterRegistry meterRegistry(ApplicationContext context) {\r\n    DatadogConfig config = new DatadogConfig() {\r\n      @Override\r\n      public Duration step() {\r\n        return Duration.ofSeconds(10);\r\n      }\r\n\r\n      @Override\r\n      public String get(String k) {\r\n        return null; // accept the rest of the defaults\r\n      }\r\n    };\r\n\r\n    return new DatadogMeterRegistry(config, Clock.SYSTEM);\r\n  }\r\n}\r\n```\r\n\r\nI am getting a startup error:\r\n```\r\n2022-02-05 05:07:56.457 ERROR 7897 --- [  restartedMain] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name &#39;webMvcMetricsFilter&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/web/servlet/WebMvcMetricsAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;webMvcMetricsFilter&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;compositeMeterRegistry&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/CompositeMeterRegistryConfiguration.class]: Unsatisfied dependency expressed through method &#39;compositeMeterRegistry&#39; parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;meterRegistry&#39; defined in class path resource [com/hbomax/ml/mlsvc/config/MeterRegistryConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [io.micrometer.core.instrument.MeterRegistry]: Factory method &#39;meterRegistry&#39; threw exception; nested exception is io.micrometer.core.instrument.config.validate.ValidationException: datadog.apiKey was &#39;null&#39; but it is required\r\n2022-02-05 05:07:56.504  INFO 7897 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2022-02-05 05:07:56.520  WARN 7897 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n2022-02-05 05:07:56.541  INFO 7897 --- [  restartedMain] ConditionEvaluationReportLoggingListener : \r\n```\r\n\r\nHere&#39;s my `application.yaml`:\r\n```\r\nmanagement:\r\n  info:\r\n    git:\r\n      mode: full\r\n  metrics:\r\n    distribution:\r\n      percentiles:\r\n        http:\r\n          server:\r\n            requests: 0.5, 0.95, 0.99\r\n      percentiles-histogram:\r\n        http:\r\n          server:\r\n            requests: true\r\n      sla:\r\n        http:\r\n          server:\r\n            requests: 200ms, 400ms, 600ms\r\n    export:\r\n      datadog:\r\n        step: 30s\r\n        enabled: true\r\n        api-key: xxxxxxx\r\n    tags:\r\n      application: ${spring.application.name}\r\n      env: ${spring.profiles}\r\n```\r\nCan someone help me understand what is the issue? I tried searching around but din&#39;t get any solution. I tried replacing `api-key` with `apiKey`(I know it&#39;s silly) but no success.\r\n\r\nAny help folks?","title":"datadog.apiKey was &#39;null&#39; but it is required","body":"<p>I am currently using spring boot <code>2.7.0-M1</code> and following is my dependencies in <code>build.gradle</code>:</p>\n<pre><code>    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.cloud:spring-cloud-starter-config'\n    implementation 'org.springframework.boot:spring-boot-starter-cache'\n    compileOnly 'org.projectlombok:lombok'\n    implementation 'org.springframework.cloud:spring-cloud-starter-bootstrap'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    implementation 'io.micrometer:micrometer-registry-datadog:latest.release'\n    datadogagent(&quot;com.datadoghq:dd-java-agent:$datadoghq_dd_version&quot;)\n    implementation(&quot;com.datadoghq:dd-trace-api:${datadoghq_dd_version}&quot;)\n</code></pre>\n<p>However, when i try to set micrometer bean:</p>\n<pre><code>@Configuration\npublic class MeterRegistryConfig {\n  @Bean\n  MeterRegistry meterRegistry(ApplicationContext context) {\n    DatadogConfig config = new DatadogConfig() {\n      @Override\n      public Duration step() {\n        return Duration.ofSeconds(10);\n      }\n\n      @Override\n      public String get(String k) {\n        return null; // accept the rest of the defaults\n      }\n    };\n\n    return new DatadogMeterRegistry(config, Clock.SYSTEM);\n  }\n}\n</code></pre>\n<p>I am getting a startup error:</p>\n<pre><code>2022-02-05 05:07:56.457 ERROR 7897 --- [  restartedMain] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'webMvcMetricsFilter' defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/web/servlet/WebMvcMetricsAutoConfiguration.class]: Unsatisfied dependency expressed through method 'webMvcMetricsFilter' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'compositeMeterRegistry' defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/CompositeMeterRegistryConfiguration.class]: Unsatisfied dependency expressed through method 'compositeMeterRegistry' parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'meterRegistry' defined in class path resource [com/hbomax/ml/mlsvc/config/MeterRegistryConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [io.micrometer.core.instrument.MeterRegistry]: Factory method 'meterRegistry' threw exception; nested exception is io.micrometer.core.instrument.config.validate.ValidationException: datadog.apiKey was 'null' but it is required\n2022-02-05 05:07:56.504  INFO 7897 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2022-02-05 05:07:56.520  WARN 7897 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n2022-02-05 05:07:56.541  INFO 7897 --- [  restartedMain] ConditionEvaluationReportLoggingListener : \n</code></pre>\n<p>Here's my <code>application.yaml</code>:</p>\n<pre><code>management:\n  info:\n    git:\n      mode: full\n  metrics:\n    distribution:\n      percentiles:\n        http:\n          server:\n            requests: 0.5, 0.95, 0.99\n      percentiles-histogram:\n        http:\n          server:\n            requests: true\n      sla:\n        http:\n          server:\n            requests: 200ms, 400ms, 600ms\n    export:\n      datadog:\n        step: 30s\n        enabled: true\n        api-key: xxxxxxx\n    tags:\n      application: ${spring.application.name}\n      env: ${spring.profiles}\n</code></pre>\n<p>Can someone help me understand what is the issue? I tried searching around but din't get any solution. I tried replacing <code>api-key</code> with <code>apiKey</code>(I know it's silly) but no success.</p>\n<p>Any help folks?</p>\n"},{"tags":["java","jdbc","hana"],"comments":[{"owner":{"account_id":4954362,"reputation":1595,"user_id":3987417,"accept_rate":100,"display_name":"Hafiz Mujadid"},"score":0,"creation_date":1429088813,"post_id":19527109,"comment_id":47432412,"body_markdown":"Hi Davidson? I want to know how to get started to connect hana with java applications?","body":"Hi Davidson? I want to know how to get started to connect hana with java applications?"}],"answers":[{"tags":[],"owner":{"account_id":752393,"reputation":1064,"user_id":1068388,"accept_rate":69,"display_name":"Davidson"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1511814586,"creation_date":1382558649,"answer_id":19551257,"question_id":19527109,"body_markdown":"I was using the incorrect SAP jar.  I was using sapdbc.jar when I needed the HANA client jar (ngdbc.jar).  It all connected after that jar and driver switch.\r\n\r\n\ttry {\r\n\t\tClass.forName(&quot;com.sap.db.jdbc.Driver&quot;);\r\n\t\t\r\n\t\tString url = &quot;jdbc:sap://xx.x.x.xxx:30015/?databaseName=DBNAME&quot;;\r\n\t\tString user = &quot;user&quot;;\r\n\t\tString password = &quot;password&quot;;\r\n\r\n\t\tConnection cn = java.sql.DriverManager.getConnection(url, user, password);\r\n\t\t\r\n\t\tResultSet rs = cn.createStatement().executeQuery(&quot;CALL MY_SCHEMA.STORED_PROC&quot;);\r\n\r\n        // ... do whatever with the results ...\r\n\r\n\t} catch (Exception e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\n","title":"Trouble connecting to a remote HANA database via JDBC","body":"<p>I was using the incorrect SAP jar.  I was using sapdbc.jar when I needed the HANA client jar (ngdbc.jar).  It all connected after that jar and driver switch.</p>\n\n<pre><code>try {\n    Class.forName(\"com.sap.db.jdbc.Driver\");\n\n    String url = \"jdbc:sap://xx.x.x.xxx:30015/?databaseName=DBNAME\";\n    String user = \"user\";\n    String password = \"password\";\n\n    Connection cn = java.sql.DriverManager.getConnection(url, user, password);\n\n    ResultSet rs = cn.createStatement().executeQuery(\"CALL MY_SCHEMA.STORED_PROC\");\n\n    // ... do whatever with the results ...\n\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4254882,"reputation":705,"user_id":3480833,"accept_rate":79,"display_name":"JSNinja"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1398927219,"creation_date":1398927219,"answer_id":23403402,"question_id":19527109,"body_markdown":"Yes you are right you need to use the ngdbc.jar to make the connection.\r\n \r\nThe instance number is included in the port no. that you are connecting to.\r\n\r\ne.g if your port no. is 30015, then 00 is the instance.\r\n\r\nHope this helps. ","title":"Trouble connecting to a remote HANA database via JDBC","body":"<p>Yes you are right you need to use the ngdbc.jar to make the connection.</p>\n\n<p>The instance number is included in the port no. that you are connecting to.</p>\n\n<p>e.g if your port no. is 30015, then 00 is the instance.</p>\n\n<p>Hope this helps. </p>\n"}],"owner":{"account_id":752393,"reputation":1064,"user_id":1068388,"accept_rate":69,"display_name":"Davidson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20578,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":19551257,"answer_count":2,"score":2,"last_activity_date":1673973565,"creation_date":1382471749,"question_id":19527109,"body_markdown":"I&#39;m running a small Java program from my laptop trying to connect via JDBC to our HANA server for a &quot;Can we?&quot; prototype.\r\n\r\nI understand it&#39;s possible to connect via JDBC connection to a remote HANA server.\r\n\r\nHowever, I cannot.  Here&#39;s the methodology I&#39;m using from the Java program using the `sapdbc.jar` file.  I&#39;m just testing a connection here.\r\n\r\n\t\tDataSourceSapDB ds = new DataSourceSapDB();\r\n\t\tds.setServerName(&quot;10.x.x.xxx&quot;);\r\n\t\tds.setPort(30015);\r\n\t\tds.setDatabaseName(&quot;dbNAME&quot;);\r\n\t\tds.setUser(&quot;myUser&quot;);\r\n\t\tds.setPassword(&quot;myPassword&quot;);\r\n\t\tConnection c = ds.getConnection();\r\n\r\n\t\tif (c == null) return;\t\r\n\r\nThe instance is 00 but don&#39;t see where to include it in the connect string, if it is required.  I&#39;ve double-checked all the properties.\r\n\r\nOur HANA server is hosted by another company though access to it is inside our network.  Could this be a reason?  \r\n\r\nThanks for any assinstance.\r\n\r\nThe connection error I get is:\r\n\r\n&gt;    com.sap.dbtech.jdbc.exceptions.JDBCDriverException: SAP DBTech JDBC: Cannot connect to jdbc:sapdb://10.x.x.xxxx:30015/dbNAME [Connect reply receive failed [Connection reset].].\r\n&gt;\r\n&gt;  at com.sap.dbtech.jdbc.DriverSapDB.connect(DriverSapDB.java:178)\r\n&gt;\r\n&gt;  at com.sap.dbtech.jdbcext.DataSourceSapDBBase.openPhysicalConnection(DataSourceSapDBBase.java:374)\r\n&gt;\r\n&gt;  at com.sap.dbtech.jdbcext.DataSourceSapDB.getConnection(DataSourceSapDB.java:49)\r\n&gt;\r\n&gt;  at com.glazers.hana.utils.HanaStoredProcedure.execute(HanaStoredProcedure.java:37)\r\n&gt;\r\n&gt;  at com.glazers.hana.utils.HanaStoredProcedure.main(HanaStoredProcedure.java:24)\r\n\r\n","title":"Trouble connecting to a remote HANA database via JDBC","body":"<p>I'm running a small Java program from my laptop trying to connect via JDBC to our HANA server for a &quot;Can we?&quot; prototype.</p>\n<p>I understand it's possible to connect via JDBC connection to a remote HANA server.</p>\n<p>However, I cannot.  Here's the methodology I'm using from the Java program using the <code>sapdbc.jar</code> file.  I'm just testing a connection here.</p>\n<pre><code>    DataSourceSapDB ds = new DataSourceSapDB();\n    ds.setServerName(&quot;10.x.x.xxx&quot;);\n    ds.setPort(30015);\n    ds.setDatabaseName(&quot;dbNAME&quot;);\n    ds.setUser(&quot;myUser&quot;);\n    ds.setPassword(&quot;myPassword&quot;);\n    Connection c = ds.getConnection();\n\n    if (c == null) return;  \n</code></pre>\n<p>The instance is 00 but don't see where to include it in the connect string, if it is required.  I've double-checked all the properties.</p>\n<p>Our HANA server is hosted by another company though access to it is inside our network.  Could this be a reason?</p>\n<p>Thanks for any assinstance.</p>\n<p>The connection error I get is:</p>\n<blockquote>\n<p>com.sap.dbtech.jdbc.exceptions.JDBCDriverException: SAP DBTech JDBC: Cannot connect to jdbc:sapdb://10.x.x.xxxx:30015/dbNAME [Connect reply receive failed [Connection reset].].</p>\n<p>at com.sap.dbtech.jdbc.DriverSapDB.connect(DriverSapDB.java:178)</p>\n<p>at com.sap.dbtech.jdbcext.DataSourceSapDBBase.openPhysicalConnection(DataSourceSapDBBase.java:374)</p>\n<p>at com.sap.dbtech.jdbcext.DataSourceSapDB.getConnection(DataSourceSapDB.java:49)</p>\n<p>at com.glazers.hana.utils.HanaStoredProcedure.execute(HanaStoredProcedure.java:37)</p>\n<p>at com.glazers.hana.utils.HanaStoredProcedure.main(HanaStoredProcedure.java:24)</p>\n</blockquote>\n"},{"tags":["java","maven","pom.xml","project"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1673973149,"post_id":75148972,"comment_id":132613650,"body_markdown":"This is not about a pom file - the pom will be created by the `archetype:generate`. The `IOException` has a different cause. Your command works fine on my machine. Can you try running this command in a folder without spaces? The space in &quot;Program Files&quot; has caused some issues for me in the past too.","body":"This is not about a pom file - the pom will be created by the <code>archetype:generate</code>. The <code>IOException</code> has a different cause. Your command works fine on my machine. Can you try running this command in a folder without spaces? The space in &quot;Program Files&quot; has caused some issues for me in the past too."},{"owner":{"account_id":20353987,"reputation":11,"user_id":14929953,"display_name":"Aleks Uher"},"score":0,"creation_date":1674053175,"post_id":75148972,"comment_id":132632993,"body_markdown":"Ok it worked in a different folder","body":"Ok it worked in a different folder"}],"owner":{"account_id":20353987,"reputation":11,"user_id":14929953,"display_name":"Aleks Uher"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673973561,"creation_date":1673970736,"question_id":75148972,"body_markdown":"I was able to install Maven on my system (i.e. mvn --version returns the right result). However, I get an error when I try to build a project with mvn archetype:generate -DgroupId=com.mycompany.app -DartifactId=my-app -DarchetypeArtifactId=maven-archetype-quickstart -DarchetypeVersion=1.4 -DinteractiveMode=false. I am including a screenshot of the error as an image[Maven error](https://i.stack.imgur.com/1bxiS.png). I can&#39;t seem to find the pom.xml file to target a Java version. Where is the pom.xml file after I installed Maven? I have the latest version of Maven. Thank you.\r\n\r\nI was able to install Maven, however, I followed the instructions on the site https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html for creating a project and it didn&#39;t work. ","title":"Trouble making a project with Maven","body":"<p>I was able to install Maven on my system (i.e. mvn --version returns the right result). However, I get an error when I try to build a project with mvn archetype:generate -DgroupId=com.mycompany.app -DartifactId=my-app -DarchetypeArtifactId=maven-archetype-quickstart -DarchetypeVersion=1.4 -DinteractiveMode=false. I am including a screenshot of the error as an image<a href=\"https://i.stack.imgur.com/1bxiS.png\" rel=\"nofollow noreferrer\">Maven error</a>. I can't seem to find the pom.xml file to target a Java version. Where is the pom.xml file after I installed Maven? I have the latest version of Maven. Thank you.</p>\n<p>I was able to install Maven, however, I followed the instructions on the site <a href=\"https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html</a> for creating a project and it didn't work.</p>\n"},{"tags":["java","kotlin","gradle"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1673966572,"post_id":75147723,"comment_id":132611170,"body_markdown":"This suggests that you should not use compileOnly: https://tomgregory.com/gradle-implementation-vs-compile-dependencies/","body":"This suggests that you should not use compileOnly: <a href=\"https://tomgregory.com/gradle-implementation-vs-compile-dependencies/\" rel=\"nofollow noreferrer\">tomgregory.com/gradle-implementation-vs-compile-dependencies</a>"}],"owner":{"account_id":27553475,"reputation":11,"user_id":21028111,"display_name":"HEROOSTECH"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673973529,"creation_date":1673964668,"question_id":75147723,"body_markdown":"i have a problem with Intellij. I have a dependency in gradle build file, when i use it in class and i will compile it with gradle it works without any problem, but intellij doesn&#39;t recognize classes in this one dependency.\r\n\r\n```\r\nplugins {\r\n    id (&quot;java&quot;)\r\n    id (&quot;org.jetbrains.kotlin.jvm&quot;) version &quot;1.8.0&quot;\r\n}\r\n\r\ngroup = &quot;org.hypejet.exparkour&quot;\r\nversion = &quot;1.0&quot;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n    maven(&quot;https://jitpack.io&quot;)\r\n}\r\n\r\ndependencies {\r\n    compileOnly(&quot;com.github.Minestom:Minestom:c995f9c3a9&quot;)\r\n    compileOnly(&quot;com.github.HypeJet:HypeStom:4a6bf2a44a&quot;)\r\n    compileOnly(&quot;org.mongodb:mongo-java-driver:3.12.11&quot;)\r\n}\r\n\r\njava {\r\n    toolchain {\r\n        languageVersion.set(JavaLanguageVersion.of(17))\r\n    }\r\n}\r\n```\r\n\r\nI tried invalidating cache, removing .idea and .gradle folders, but nothing changed. I use kotlin and gradle kotlin dsl btw.","title":"Intellij doesn&#39;t recognize dependencies","body":"<p>i have a problem with Intellij. I have a dependency in gradle build file, when i use it in class and i will compile it with gradle it works without any problem, but intellij doesn't recognize classes in this one dependency.</p>\n<pre><code>plugins {\n    id (&quot;java&quot;)\n    id (&quot;org.jetbrains.kotlin.jvm&quot;) version &quot;1.8.0&quot;\n}\n\ngroup = &quot;org.hypejet.exparkour&quot;\nversion = &quot;1.0&quot;\n\nrepositories {\n    mavenCentral()\n    maven(&quot;https://jitpack.io&quot;)\n}\n\ndependencies {\n    compileOnly(&quot;com.github.Minestom:Minestom:c995f9c3a9&quot;)\n    compileOnly(&quot;com.github.HypeJet:HypeStom:4a6bf2a44a&quot;)\n    compileOnly(&quot;org.mongodb:mongo-java-driver:3.12.11&quot;)\n}\n\njava {\n    toolchain {\n        languageVersion.set(JavaLanguageVersion.of(17))\n    }\n}\n</code></pre>\n<p>I tried invalidating cache, removing .idea and .gradle folders, but nothing changed. I use kotlin and gradle kotlin dsl btw.</p>\n"},{"tags":["java","ios","swift","encryption","public-key-encryption"],"comments":[{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":3,"creation_date":1671400425,"post_id":74844528,"comment_id":132086068,"body_markdown":"Java does **not** encode public keys using the PKCS1 format, instead it uses an arguably more common (and better) standard called SubjectPublicKeyInfo (or SPKI) format, specified in [RFC 5280](https://datatracker.ietf.org/doc/html/rfc5280#section-4.1.2.7). This standard is supported by many software packages, not just Java.","body":"Java does <b>not</b> encode public keys using the PKCS1 format, instead it uses an arguably more common (and better) standard called SubjectPublicKeyInfo (or SPKI) format, specified in <a href=\"https://datatracker.ietf.org/doc/html/rfc5280#section-4.1.2.7\" rel=\"nofollow noreferrer\">RFC 5280</a>. This standard is supported by many software packages, not just Java."},{"owner":{"account_id":12986278,"reputation":171,"user_id":9387072,"display_name":"d.braun1991"},"score":0,"creation_date":1671442093,"post_id":74844528,"comment_id":132092231,"body_markdown":"Thanks a lot @PresidentJamesK.Polk .. :) ... This little comment untied a huge knot I was carrying around .. :D","body":"Thanks a lot @PresidentJamesK.Polk .. :) ... This little comment untied a huge knot I was carrying around .. :D"}],"answers":[{"tags":[],"owner":{"account_id":12986278,"reputation":171,"user_id":9387072,"display_name":"d.braun1991"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673973498,"creation_date":1671744135,"answer_id":74893980,"question_id":74844528,"body_markdown":"# Why ... .. .\r\n\r\nBy today I have at least a **guess WHY** the keys differ.\r\nIf I had to categorize those two types ..\r\n* Public-Key Cryptography Standards (**PKCS**)\r\n* Simple public key infrastructure (**SPKI**)\r\n\r\n.. it would look like follows:\r\n\r\n```\r\nASN.1 object\r\n├── Human readable &amp; File-oriented\r\n│&#160;&#160; ├── base64\r\n│&#160;&#160; │&#160;&#160; └── PEM\r\n│&#160;&#160; └── binary\r\n│&#160;&#160;     ├── BER\r\n│&#160;&#160;     └── DER\r\n└── Compile time-oriented\r\n    └── SPKI\r\n```\r\nThe ASN.1-object is the upper level container ([Definition][1]).\r\n\r\nPEM, DER and BER are file-oriented representations of the key ([Source][2]).\r\n\r\n### PKCS#1 in PEM\r\n\r\n```\r\nTheory:\r\n-----Header----\r\n$ Base65 encoded Key (Here: PKCS#1\r\n-----Footer-----\r\n\r\nPraxis:\r\n-----BEGIN RSA PRIVATE KEY-----\r\nMIHgMIGaAgEBMA0GCSqG...\r\n-----END RSA PRIVATE KEY-----\r\n```\r\n\r\nHeader and Footer contain meta-information about the delivered key, here: *RSA PRIVATE KEY*\r\nThis makes the key more likely to be human-readable - at least regarding the key administration &#39;by hand&#39;.\r\n\r\n### SPKI\r\n\r\nI assume that this meta-information is encoded within the SPKI-format. Therefore there is no further meta-information needed to parse the key. On the other hand this information can not be obtained easily without further knowledge. The human-readability is largely limited.\r\n\r\nHence:\r\n* Choose the key-format regarding your purpose.\r\n** For *machine-to-machine communication* **SPKI** might be the better choice.\r\n** For key administration which include human interaction, PEM seems a good choice.\r\n\r\nAfterall, in terms of security the two formats do not differ.\r\n\r\n\r\n# How ... .. .\r\n\r\nMore specifically, the **HOW** can be answered ...\r\n\r\n... the subsequent analysis stems from Java 17.\r\nThe information provided by Java is seen **here** as the &#39;ground truth&#39;. ... ;-)\r\n\r\n## Analyze keys generated by Java itself\r\n\r\n```java\r\n// Static inputs\r\nString algorithm = &quot;RSA&quot;;\r\nint keySize = 4096;\r\n\r\n// Key generation\r\nKeyPairGenerator generator = KeyPairGenerator.getInstance(algorithm);\r\ngenerator.initialize(keySize);\r\nKeyPair pair = generator.generateKeyPair();\r\n\r\n// Analysis\r\nSystem.out.println(&quot;----- PublicKey information -----&quot;);\r\nSystem.out.println(&quot;PublicKey algorithm: &quot; + pair.getPublic().getAlgorithm());\r\nSystem.out.println(&quot;PublicKey format: &quot; + pair.getPublic().getFormat());\r\n\r\nSystem.out.println(&quot;----- PrivateKey information -----&quot;);\r\nSystem.out.println(&quot;PrivateKey algorithm: &quot; + pair.getPrivate().getAlgorithm());\r\nSystem.out.println(&quot;PrivateKey format: &quot; + pair.getPrivate().getFormat());\r\n```\r\nOutput:\r\n```bash\r\n----- PublicKey information -----\r\nPublicKey algorithm: RSA\r\nPublicKey format: X.509\r\n----- PrivateKey information -----\r\nPrivateKey algorithm: RSA\r\nPrivateKey format: PKCS#8\r\n```\r\n\r\n## Conclusion\r\n\r\n### Java\r\n- Java generates its **PublicKeys** in the **x.509**-format.\r\n- PrivateKeys are generated in the PKCS#8-format.\r\n\r\n### Swift\r\n- Swift generates its **PublicKeys** in the **PKCS#1**-format.\r\n\r\nThese findings match the following answer in the apple-developer forum:\r\n- https://developer.apple.com/forums/thread/85915\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc8017#appendix-A\r\n  [2]: https://www.cryptosys.net/pki/manpki/pki_asn1objects.html","title":"Why do PKCS#1 PublicKeys from &#39;Java17 KeyFactory&#39; and Swift (iOS) differ?","body":"<h1>Why ... .. .</h1>\n<p>By today I have at least a <strong>guess WHY</strong> the keys differ.\nIf I had to categorize those two types ..</p>\n<ul>\n<li>Public-Key Cryptography Standards (<strong>PKCS</strong>)</li>\n<li>Simple public key infrastructure (<strong>SPKI</strong>)</li>\n</ul>\n<p>.. it would look like follows:</p>\n<pre><code>ASN.1 object\n├── Human readable &amp; File-oriented\n│   ├── base64\n│   │   └── PEM\n│   └── binary\n│       ├── BER\n│       └── DER\n└── Compile time-oriented\n    └── SPKI\n</code></pre>\n<p>The ASN.1-object is the upper level container (<a href=\"https://www.rfc-editor.org/rfc/rfc8017#appendix-A\" rel=\"nofollow noreferrer\">Definition</a>).</p>\n<p>PEM, DER and BER are file-oriented representations of the key (<a href=\"https://www.cryptosys.net/pki/manpki/pki_asn1objects.html\" rel=\"nofollow noreferrer\">Source</a>).</p>\n<h3>PKCS#1 in PEM</h3>\n<pre><code>Theory:\n-----Header----\n$ Base65 encoded Key (Here: PKCS#1\n-----Footer-----\n\nPraxis:\n-----BEGIN RSA PRIVATE KEY-----\nMIHgMIGaAgEBMA0GCSqG...\n-----END RSA PRIVATE KEY-----\n</code></pre>\n<p>Header and Footer contain meta-information about the delivered key, here: <em>RSA PRIVATE KEY</em>\nThis makes the key more likely to be human-readable - at least regarding the key administration 'by hand'.</p>\n<h3>SPKI</h3>\n<p>I assume that this meta-information is encoded within the SPKI-format. Therefore there is no further meta-information needed to parse the key. On the other hand this information can not be obtained easily without further knowledge. The human-readability is largely limited.</p>\n<p>Hence:</p>\n<ul>\n<li>Choose the key-format regarding your purpose.\n** For <em>machine-to-machine communication</em> <strong>SPKI</strong> might be the better choice.\n** For key administration which include human interaction, PEM seems a good choice.</li>\n</ul>\n<p>Afterall, in terms of security the two formats do not differ.</p>\n<h1>How ... .. .</h1>\n<p>More specifically, the <strong>HOW</strong> can be answered ...</p>\n<p>... the subsequent analysis stems from Java 17.\nThe information provided by Java is seen <strong>here</strong> as the 'ground truth'. ... ;-)</p>\n<h2>Analyze keys generated by Java itself</h2>\n<pre class=\"lang-java prettyprint-override\"><code>// Static inputs\nString algorithm = &quot;RSA&quot;;\nint keySize = 4096;\n\n// Key generation\nKeyPairGenerator generator = KeyPairGenerator.getInstance(algorithm);\ngenerator.initialize(keySize);\nKeyPair pair = generator.generateKeyPair();\n\n// Analysis\nSystem.out.println(&quot;----- PublicKey information -----&quot;);\nSystem.out.println(&quot;PublicKey algorithm: &quot; + pair.getPublic().getAlgorithm());\nSystem.out.println(&quot;PublicKey format: &quot; + pair.getPublic().getFormat());\n\nSystem.out.println(&quot;----- PrivateKey information -----&quot;);\nSystem.out.println(&quot;PrivateKey algorithm: &quot; + pair.getPrivate().getAlgorithm());\nSystem.out.println(&quot;PrivateKey format: &quot; + pair.getPrivate().getFormat());\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>----- PublicKey information -----\nPublicKey algorithm: RSA\nPublicKey format: X.509\n----- PrivateKey information -----\nPrivateKey algorithm: RSA\nPrivateKey format: PKCS#8\n</code></pre>\n<h2>Conclusion</h2>\n<h3>Java</h3>\n<ul>\n<li>Java generates its <strong>PublicKeys</strong> in the <strong>x.509</strong>-format.</li>\n<li>PrivateKeys are generated in the PKCS#8-format.</li>\n</ul>\n<h3>Swift</h3>\n<ul>\n<li>Swift generates its <strong>PublicKeys</strong> in the <strong>PKCS#1</strong>-format.</li>\n</ul>\n<p>These findings match the following answer in the apple-developer forum:</p>\n<ul>\n<li><a href=\"https://developer.apple.com/forums/thread/85915\" rel=\"nofollow noreferrer\">https://developer.apple.com/forums/thread/85915</a></li>\n</ul>\n"}],"owner":{"account_id":12986278,"reputation":171,"user_id":9387072,"display_name":"d.braun1991"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":488,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"answer_count":1,"score":2,"last_activity_date":1673973498,"creation_date":1671398708,"question_id":74844528,"body_markdown":"# Update (tl;dr)\r\n\r\n- **Swift** (iOS) produces PKCS#1-formatted keys\r\n- **Java** 17 produces keys which look alike but are slightly different using the **SubjectPublicKeyInfo** (or SPKI) specification, following [RFC 5280][1]\r\n\r\n---\r\n\r\n# Objective\r\nCreating equally formatted public keys in PKCS#1-format\r\n\r\n## General approach\r\nI am generating 4096 RSA public keys, in both ...\r\n- Java 17\r\n- Swift in iOS emulator (iPhone 14)\r\n\r\nSamples of the subsequent generated and keys can be found in the **Appendix**.\r\n\r\n\r\n### Sample Code: Generating a KeyPair (Swift - iOS)\r\n```swift\r\n// Keypair attributes\r\nlet tag = &quot;my_personal_keystore_keypair_alias&quot;.data(using: .utf8)!\r\nlet attributes: [String: Any] =\r\n    [kSecAttrKeyType as String:            kSecAttrKeyTypeRSA,\r\n     kSecAttrKeySizeInBits as String:      &quot;4096&quot;,\r\n     kSecPrivateKeyAttrs as String:\r\n        [kSecAttrIsPermanent as String:    true,\r\n         kSecAttrApplicationTag as String: tag]\r\n]\r\nvar error: Unmanaged&lt;CFError&gt;?\r\n\r\n// Generate PrivateKey / Keypair\r\nguard let privateKey = SecKeyCreateRandomKey(attributes as CFDictionary, &amp;error) else {\r\n    throw error!.takeRetainedValue() as Error\r\n}\r\n\r\n// Extract PublicKey\r\nguard let publicKey = SecKeyCopyPublicKey(privateKey),\r\n      let publicKeyOptional = SecKeyCopyExternalRepresentation(publicKey, nil) else {\r\n    return &quot;PublicKey could not be accessed.&quot;\r\n}\r\nlet publicKeyData = publicKeyOptional as Data\r\nlet base64PublicKey = publicKeyData.base64EncodedString()\r\nprint(&quot;PublicKey, base64:   &quot;, base64PublicKey)\r\n```\r\n\r\n\r\n### Sample Code: Generating a KeyPair (Java 17)\r\n\r\n```java\r\nprivate static String getPublicKey() {\r\n    KeyPairGenerator generator;\r\n    try {\r\n        generator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n    } catch (NoSuchAlgorithmException e) {\r\n        throw new EncryptionException(e);\r\n    }\r\n    generator.initialize(4096);\r\n    KeyPair pair = generator.generateKeyPair();\r\n    return Base64.getEncoder().encodeToString(pair.getPublic().getEncoded());\r\n}\r\n```\r\n\r\n# Aim - Parsing the keys in Java 17\r\nContrary to the assumption that the keys are formatted equally, the Java-side code is only capable to read the keys generated by Java itself.\r\n\r\n## Solution for keys generated by Java 17\r\n\r\nParsing the key(s) generated by Java 17:\r\n```java\r\npublic Optional&lt;PublicKey&gt; validateKeyFromJava(String publicKey) {\r\n    try {\r\n        byte[] publicKeyBytes = Base64.getDecoder().decode(publicKey);\r\n        KeyFactory keyFactory = KeyFactory.getInstance(EncryptionProperties.ALGORITHM);\r\n        EncodedKeySpec publicKeySpec = new X509EncodedKeySpec(publicKeyBytes);\r\n        return Optional.ofNullable(keyFactory.generatePublic(publicKeySpec));\r\n    } catch (NoSuchAlgorithmException | InvalidKeySpecException | IllegalArgumentException | NullPointerException e) {\r\n        return Optional.empty();\r\n    }\r\n}\r\n```\r\n\r\n## Problem: Parsing the keys generated via Swift (iOS)\r\n&gt; java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException: algid parse error, not a sequence\r\n\tat java.base/sun.security.rsa.RSAKeyFactory.engineGeneratePublic(RSAKeyFactory.java:241)\r\n\tat java.base/java.security.KeyFactory.generatePublic(KeyFactory.java:351)\r\n\r\n\r\n### NOT WANTED - Workaround for keys generated via Swift (iOS)\r\n\r\nUsing an external dependency ..\r\n&gt; import org.bouncycastle.asn1.ASN1Sequence;\r\n\r\n.. it is possible to parse the iOS keys as well.\r\nThe key can thereafter be used to properly encrypt &#39;payload&#39; ...\r\n\r\nParsing the key(s) generated via Swift (iOS):\r\n```java\r\npublic Optional&lt;PublicKey&gt; validateKeyFromIOS (String publicKeyANS1) {\r\n    try {\r\n        byte[] publicKeyBytes = Base64.getDecoder().decode(publicKeyANS1);\r\n\r\n        ASN1Sequence sequence = ASN1Sequence.getInstance(publicKeyBytes);\r\n        ASN1Integer modulus = ASN1Integer.getInstance(sequence.getObjectAt(0));\r\n        ASN1Integer exponent = ASN1Integer.getInstance(sequence.getObjectAt(1));\r\n        RSAPublicKeySpec keySpec = new RSAPublicKeySpec(modulus.getPositiveValue(),\r\n                exponent.getPositiveValue());\r\n\r\n        KeyFactory factory = KeyFactory.getInstance(EncryptionProperties.ALGORITHM);\r\n\r\n        return Optional.ofNullable(factory.generatePublic(keySpec));\r\n    } catch (NoSuchAlgorithmException e) {\r\n        String errorInfo = &quot;iOS-PublicKey - Erwarteter Algorithmus: RSA, Retrieved: &quot; +\r\n                e.getMessage();\r\n        sendToErrorQueue(e, errorInfo);\r\n        return Optional.empty();\r\n    } catch (InvalidKeySpecException | IllegalArgumentException | NullPointerException e) {\r\n        sendToErrorQueue(e, &quot;Der iOS-PublicKey entspricht nicht der erwarteten Specification.&quot;);\r\n        return Optional.empty();\r\n    }\r\n}\r\n```\r\n\r\n... Still it is a different way to read the keys.\r\nTherefore the keys have to be somehow different.\r\n\r\n\r\n### Wrapping up\r\n\r\nBoth systems produce keys which are PKCS#1-formatted.\r\nThis can be examined (see Appendix)\r\nThe keys are somewhat different.\r\n\r\n# Questions to be answered:\r\n1) What is the difference?\r\n2) Major - is it possible to generate public keys in Swift (iOS) alike those in Java 17?\r\n3) Minor - is it possible for Java 17 to read the keys generated by Swift (iOS) without the BouncyCastle dependency?\r\n- Aim: Reduction of switches in the code for different input paths.\r\n\r\n\r\n# Appendix\r\n\r\nAll keys may be analyzed:\r\n- https://8gwifi.org/PemParserFunctions.jsp\r\n\r\nMultiple keys are given to prevent &#39;lucky shots&#39; ..  ;-)\r\n\r\n\r\n## Sample keys - Swift iOS\r\nFirst:\r\n&gt; MIICCgKCAgEAl0HYn9IdRmexAR9dSh3SxmFazWF0RV2TKmtRxGySvCA+aHZ/Dp+8tC0YDWpQzP+tZdlDWNOBj/D7i1z4b+UZk8F9ZEoi+w61kYQz+KjMkRuYrPBFi4A/gsS2qGeFJ4OvLQzGObZ0C+5/E+wunUWyQCVjgjTHKH8yqfVXeWYFKmaSSZblSZJAObE8Ao5J38DMINF1oWG+GdZt8RTLf35ULLEa8zKvFXrfBkDjiQH90WKPwDxWwvFInqZhjpsFxLytiKW+iBLqa4+0P7uwXVodFXa38RW9dk9mEsLvj6764BKtPAaWym9XZfEZNBu0jwlfO07k0augynGps6bsSIyYglDImlTRagdA/e+1AMBlSxEFVO4NpCjEpMT7rNX/LYPeEaJ8fTC3axOM1yEntcwUfSSCDulVPGlWlFbPxt29y1RrGtMmwfbTlbOQf2okMf0mGx9Ytd9HWadIdWh4FqDVWA8MF82PP1YsOW5TA0hkprK1qJwfkaLRKnmpfL5a7gWn4HWzpdDqrezhbc/zTCeHbX5c61mgWsAIWnB3fyXsJHpR62+QtBEznwhDxafVCQyUmsDqbncBxilEnFIn08G+6ox2PQC8GhNdpFVGsSoqpDfctsm51/tUYLpyeIBdzw/3nMLL1J5jL3yWr7ZKgnzNwjpC8l6c6gpsF3NRodeVhp8CAwEAAQ==\r\n\r\n\r\nSecond:\r\n&gt; MIICCgKCAgEAlSbN7rlX6EMCDGuxQm9G6qqXIWshDvI5VaN4QPNCFcFzPjI/FyaHqi43+mxTyKGycT6TNqvanSu67yoIA80tSlFH2LndWv6sPQeHKxNwwFKU98Y/uL3M6hKIVXDwa6kZGM58dfY9qMWEOPXB4AwZtVaxJ4ePHFAR0kEOAHLCPpQxFkNlkg9FlCwlBzZbhHkI5uhCmlGEiLpLaJNJzjn7yo33m65189J6tIh3vopZ2ahFHb/vo6SVSbtS7Y0YlinJwH3MCGLm5+pKBpE64t5lgEhDPYSF7pKpLhEVqC5ETaya3mYTkXPSCiY/9Mo5zddniUGrxAJaY940jY3QNYeFmWPEEdhhIW2tUbuiM3IlHAqk4Du5p/2o1QcSVZdBsHStSGdcWqs00Z+ooxXwrOpMOUnZeb8Jt5dGDyHwjOmPf0N8dDQwz+5pgOoTkxd/z5cTK9tMv/nC+Mbbt8LRsct16M3LYrRAYnA8unX1ZD3eXTJPOSB/fM9Hmf1ObxQro9tatC5RaJjS0Xg5aepUsey62BW9lj4kHCkRPD4w1OmjDWGUCOSEhwy0KwqFyRBppYUMndEbJb3GKEjpekcQYwjERPtH/vEVxaN5gGYaCORancUaNH+d03zAmi0G830QXQvyohyKUkGw5qljEBH5R5Wqu7YLTlUes0rQEx8DpLVclaMCAwEAAQ==\r\n\r\n\r\n\r\n## Sample keys - Java 17\r\nFirst:\r\n&gt; MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAqwMRLS3hhNuVBQTqRT4714fbl4h3PtrSZQ8Ry1qMCefFOLzmLmLD/VdnFoHj3QiqlZMlajvVuJonprhOy911aNW2Qs2VZ+zoMkLRjah9gqg00dLVtdWa2FXjAX6bh/rSR6jmF1hzfLPs/CqOKyDpX003AUF/WvgHkuAizQjZeskEDKawbExs6RSSFHNycrGwB9hBhAwGvyZpC2+fqPN/93W2NZ8xyb5H6CmM7pCpG+sTcsEEYOZjjq2HV8vYdM9KHi7O+nmY0MJxjLJ5JOv5oLqPXFt4Epezz4v2C3oE3Leu4gIy1r1D2xHuxu0pyQ9F2nI7a+6mGZbRAYDA8Yq2oidqBDC9pKogoHcMYhXj/G0WNEhE9ODuHg+GkiiGc3zysuKwfKu1Z5ZmUtlI1kVFqUEEi81smylTXtkU/oEf7P0OX94XcNTq1N3iO+nuFayAhINlvLUXwyO4JQUsmCyu0bH17XuNUfbnSCmOfGhFSjpyU0PthW9Qtf9yY9MmyZz9c9T2kfxoUxBnNRhVUZ+Kg8oA6kkNJp/ac+AdZzkPZFev91ZKYCbyI+rcakJ4KBQ5YoprDtpHmAQZ5E3/rWcq1Tis0yiomE2+natrzaO4aQbrljOHEgB6arbMkeu7/sZHEvYfK7ilH7tsZfDdU2DVOV0yxNReYwOHAFgFMTNQvBsCAwEAAQ==\r\n\r\n\r\nSecond:\r\n&gt; MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAs9ywiZnmv9Ewf+dIsmwV8ZlZKQNg4lbVLpNptb3pftnoukvBjak1rDqb6GcxXtM+UuBgr4Wigi0TI+vItzWv6QlBB8HShA4WImKrOCD3+U1fFdDpwCxQO+oHqTqeNKhRcKcM0e0C/c88hJo8l9G2OCjIANW3O+pGeMirB/XjPdcQ+d37TFGpRs83wPR8gUFQsH8qQMkS7uOtTCZHfcK6UzbvJB3Gf/llcCSfPYKUMY9SXIc5K9hpI0E1v5EdEUvdbhiilZI0esntr5BzeO5AxH/m9fFPH9ekZZyc9nXsHY7tPOJMD+wsTad4D9NBGi9x+lzxZRdxyDLote4ix+aHSqMgcdtOyJ69WFym2Ty1VfCgrmG8fhC/PZBEzk6obK5uJD4mO3owrKgYsmJgZHO3CbVkmv04+EEPpQLippQu8uCl+2KO480EvjSco5ryVH3XEsAGokBLCsZviBtntY/Ia0OLXPmy7WWXigxsVQkgPZ1SyZa3FUp/Zuwtoo0BWDI/9JdUZPfKhbQkcxtnKbCe8QXf51YUgIfKXPTBlmk/Zj931EzXdQCZFMvgK+I5p79DqCsD9yKbiUnfK9tXJ4SzMfuiLd4pqB0UIMVMQEj5SZPYn7eHRZyje4v96FDwtj56NQ/kZPYXKqLoOv5nvMALZngzJ6aFaGjkWZX9RNQLfA8CAwEAAQ==\r\n\r\n\r\n  [1]: https://datatracker.ietf.org/doc/html/rfc5280#section-4.1.2.7","title":"Why do PKCS#1 PublicKeys from &#39;Java17 KeyFactory&#39; and Swift (iOS) differ?","body":"<h1>Update (tl;dr)</h1>\n<ul>\n<li><strong>Swift</strong> (iOS) produces PKCS#1-formatted keys</li>\n<li><strong>Java</strong> 17 produces keys which look alike but are slightly different using the <strong>SubjectPublicKeyInfo</strong> (or SPKI) specification, following <a href=\"https://datatracker.ietf.org/doc/html/rfc5280#section-4.1.2.7\" rel=\"nofollow noreferrer\">RFC 5280</a></li>\n</ul>\n<hr />\n<h1>Objective</h1>\n<p>Creating equally formatted public keys in PKCS#1-format</p>\n<h2>General approach</h2>\n<p>I am generating 4096 RSA public keys, in both ...</p>\n<ul>\n<li>Java 17</li>\n<li>Swift in iOS emulator (iPhone 14)</li>\n</ul>\n<p>Samples of the subsequent generated and keys can be found in the <strong>Appendix</strong>.</p>\n<h3>Sample Code: Generating a KeyPair (Swift - iOS)</h3>\n<pre class=\"lang-swift prettyprint-override\"><code>// Keypair attributes\nlet tag = &quot;my_personal_keystore_keypair_alias&quot;.data(using: .utf8)!\nlet attributes: [String: Any] =\n    [kSecAttrKeyType as String:            kSecAttrKeyTypeRSA,\n     kSecAttrKeySizeInBits as String:      &quot;4096&quot;,\n     kSecPrivateKeyAttrs as String:\n        [kSecAttrIsPermanent as String:    true,\n         kSecAttrApplicationTag as String: tag]\n]\nvar error: Unmanaged&lt;CFError&gt;?\n\n// Generate PrivateKey / Keypair\nguard let privateKey = SecKeyCreateRandomKey(attributes as CFDictionary, &amp;error) else {\n    throw error!.takeRetainedValue() as Error\n}\n\n// Extract PublicKey\nguard let publicKey = SecKeyCopyPublicKey(privateKey),\n      let publicKeyOptional = SecKeyCopyExternalRepresentation(publicKey, nil) else {\n    return &quot;PublicKey could not be accessed.&quot;\n}\nlet publicKeyData = publicKeyOptional as Data\nlet base64PublicKey = publicKeyData.base64EncodedString()\nprint(&quot;PublicKey, base64:   &quot;, base64PublicKey)\n</code></pre>\n<h3>Sample Code: Generating a KeyPair (Java 17)</h3>\n<pre class=\"lang-java prettyprint-override\"><code>private static String getPublicKey() {\n    KeyPairGenerator generator;\n    try {\n        generator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\n    } catch (NoSuchAlgorithmException e) {\n        throw new EncryptionException(e);\n    }\n    generator.initialize(4096);\n    KeyPair pair = generator.generateKeyPair();\n    return Base64.getEncoder().encodeToString(pair.getPublic().getEncoded());\n}\n</code></pre>\n<h1>Aim - Parsing the keys in Java 17</h1>\n<p>Contrary to the assumption that the keys are formatted equally, the Java-side code is only capable to read the keys generated by Java itself.</p>\n<h2>Solution for keys generated by Java 17</h2>\n<p>Parsing the key(s) generated by Java 17:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Optional&lt;PublicKey&gt; validateKeyFromJava(String publicKey) {\n    try {\n        byte[] publicKeyBytes = Base64.getDecoder().decode(publicKey);\n        KeyFactory keyFactory = KeyFactory.getInstance(EncryptionProperties.ALGORITHM);\n        EncodedKeySpec publicKeySpec = new X509EncodedKeySpec(publicKeyBytes);\n        return Optional.ofNullable(keyFactory.generatePublic(publicKeySpec));\n    } catch (NoSuchAlgorithmException | InvalidKeySpecException | IllegalArgumentException | NullPointerException e) {\n        return Optional.empty();\n    }\n}\n</code></pre>\n<h2>Problem: Parsing the keys generated via Swift (iOS)</h2>\n<blockquote>\n<p>java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException: algid parse error, not a sequence\nat java.base/sun.security.rsa.RSAKeyFactory.engineGeneratePublic(RSAKeyFactory.java:241)\nat java.base/java.security.KeyFactory.generatePublic(KeyFactory.java:351)</p>\n</blockquote>\n<h3>NOT WANTED - Workaround for keys generated via Swift (iOS)</h3>\n<p>Using an external dependency ..</p>\n<blockquote>\n<p>import org.bouncycastle.asn1.ASN1Sequence;</p>\n</blockquote>\n<p>.. it is possible to parse the iOS keys as well.\nThe key can thereafter be used to properly encrypt 'payload' ...</p>\n<p>Parsing the key(s) generated via Swift (iOS):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Optional&lt;PublicKey&gt; validateKeyFromIOS (String publicKeyANS1) {\n    try {\n        byte[] publicKeyBytes = Base64.getDecoder().decode(publicKeyANS1);\n\n        ASN1Sequence sequence = ASN1Sequence.getInstance(publicKeyBytes);\n        ASN1Integer modulus = ASN1Integer.getInstance(sequence.getObjectAt(0));\n        ASN1Integer exponent = ASN1Integer.getInstance(sequence.getObjectAt(1));\n        RSAPublicKeySpec keySpec = new RSAPublicKeySpec(modulus.getPositiveValue(),\n                exponent.getPositiveValue());\n\n        KeyFactory factory = KeyFactory.getInstance(EncryptionProperties.ALGORITHM);\n\n        return Optional.ofNullable(factory.generatePublic(keySpec));\n    } catch (NoSuchAlgorithmException e) {\n        String errorInfo = &quot;iOS-PublicKey - Erwarteter Algorithmus: RSA, Retrieved: &quot; +\n                e.getMessage();\n        sendToErrorQueue(e, errorInfo);\n        return Optional.empty();\n    } catch (InvalidKeySpecException | IllegalArgumentException | NullPointerException e) {\n        sendToErrorQueue(e, &quot;Der iOS-PublicKey entspricht nicht der erwarteten Specification.&quot;);\n        return Optional.empty();\n    }\n}\n</code></pre>\n<p>... Still it is a different way to read the keys.\nTherefore the keys have to be somehow different.</p>\n<h3>Wrapping up</h3>\n<p>Both systems produce keys which are PKCS#1-formatted.\nThis can be examined (see Appendix)\nThe keys are somewhat different.</p>\n<h1>Questions to be answered:</h1>\n<ol>\n<li>What is the difference?</li>\n<li>Major - is it possible to generate public keys in Swift (iOS) alike those in Java 17?</li>\n<li>Minor - is it possible for Java 17 to read the keys generated by Swift (iOS) without the BouncyCastle dependency?</li>\n</ol>\n<ul>\n<li>Aim: Reduction of switches in the code for different input paths.</li>\n</ul>\n<h1>Appendix</h1>\n<p>All keys may be analyzed:</p>\n<ul>\n<li><a href=\"https://8gwifi.org/PemParserFunctions.jsp\" rel=\"nofollow noreferrer\">https://8gwifi.org/PemParserFunctions.jsp</a></li>\n</ul>\n<p>Multiple keys are given to prevent 'lucky shots' ..  ;-)</p>\n<h2>Sample keys - Swift iOS</h2>\n<p>First:</p>\n<blockquote>\n<p>MIICCgKCAgEAl0HYn9IdRmexAR9dSh3SxmFazWF0RV2TKmtRxGySvCA+aHZ/Dp+8tC0YDWpQzP+tZdlDWNOBj/D7i1z4b+UZk8F9ZEoi+w61kYQz+KjMkRuYrPBFi4A/gsS2qGeFJ4OvLQzGObZ0C+5/E+wunUWyQCVjgjTHKH8yqfVXeWYFKmaSSZblSZJAObE8Ao5J38DMINF1oWG+GdZt8RTLf35ULLEa8zKvFXrfBkDjiQH90WKPwDxWwvFInqZhjpsFxLytiKW+iBLqa4+0P7uwXVodFXa38RW9dk9mEsLvj6764BKtPAaWym9XZfEZNBu0jwlfO07k0augynGps6bsSIyYglDImlTRagdA/e+1AMBlSxEFVO4NpCjEpMT7rNX/LYPeEaJ8fTC3axOM1yEntcwUfSSCDulVPGlWlFbPxt29y1RrGtMmwfbTlbOQf2okMf0mGx9Ytd9HWadIdWh4FqDVWA8MF82PP1YsOW5TA0hkprK1qJwfkaLRKnmpfL5a7gWn4HWzpdDqrezhbc/zTCeHbX5c61mgWsAIWnB3fyXsJHpR62+QtBEznwhDxafVCQyUmsDqbncBxilEnFIn08G+6ox2PQC8GhNdpFVGsSoqpDfctsm51/tUYLpyeIBdzw/3nMLL1J5jL3yWr7ZKgnzNwjpC8l6c6gpsF3NRodeVhp8CAwEAAQ==</p>\n</blockquote>\n<p>Second:</p>\n<blockquote>\n<p>MIICCgKCAgEAlSbN7rlX6EMCDGuxQm9G6qqXIWshDvI5VaN4QPNCFcFzPjI/FyaHqi43+mxTyKGycT6TNqvanSu67yoIA80tSlFH2LndWv6sPQeHKxNwwFKU98Y/uL3M6hKIVXDwa6kZGM58dfY9qMWEOPXB4AwZtVaxJ4ePHFAR0kEOAHLCPpQxFkNlkg9FlCwlBzZbhHkI5uhCmlGEiLpLaJNJzjn7yo33m65189J6tIh3vopZ2ahFHb/vo6SVSbtS7Y0YlinJwH3MCGLm5+pKBpE64t5lgEhDPYSF7pKpLhEVqC5ETaya3mYTkXPSCiY/9Mo5zddniUGrxAJaY940jY3QNYeFmWPEEdhhIW2tUbuiM3IlHAqk4Du5p/2o1QcSVZdBsHStSGdcWqs00Z+ooxXwrOpMOUnZeb8Jt5dGDyHwjOmPf0N8dDQwz+5pgOoTkxd/z5cTK9tMv/nC+Mbbt8LRsct16M3LYrRAYnA8unX1ZD3eXTJPOSB/fM9Hmf1ObxQro9tatC5RaJjS0Xg5aepUsey62BW9lj4kHCkRPD4w1OmjDWGUCOSEhwy0KwqFyRBppYUMndEbJb3GKEjpekcQYwjERPtH/vEVxaN5gGYaCORancUaNH+d03zAmi0G830QXQvyohyKUkGw5qljEBH5R5Wqu7YLTlUes0rQEx8DpLVclaMCAwEAAQ==</p>\n</blockquote>\n<h2>Sample keys - Java 17</h2>\n<p>First:</p>\n<blockquote>\n<p>MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAqwMRLS3hhNuVBQTqRT4714fbl4h3PtrSZQ8Ry1qMCefFOLzmLmLD/VdnFoHj3QiqlZMlajvVuJonprhOy911aNW2Qs2VZ+zoMkLRjah9gqg00dLVtdWa2FXjAX6bh/rSR6jmF1hzfLPs/CqOKyDpX003AUF/WvgHkuAizQjZeskEDKawbExs6RSSFHNycrGwB9hBhAwGvyZpC2+fqPN/93W2NZ8xyb5H6CmM7pCpG+sTcsEEYOZjjq2HV8vYdM9KHi7O+nmY0MJxjLJ5JOv5oLqPXFt4Epezz4v2C3oE3Leu4gIy1r1D2xHuxu0pyQ9F2nI7a+6mGZbRAYDA8Yq2oidqBDC9pKogoHcMYhXj/G0WNEhE9ODuHg+GkiiGc3zysuKwfKu1Z5ZmUtlI1kVFqUEEi81smylTXtkU/oEf7P0OX94XcNTq1N3iO+nuFayAhINlvLUXwyO4JQUsmCyu0bH17XuNUfbnSCmOfGhFSjpyU0PthW9Qtf9yY9MmyZz9c9T2kfxoUxBnNRhVUZ+Kg8oA6kkNJp/ac+AdZzkPZFev91ZKYCbyI+rcakJ4KBQ5YoprDtpHmAQZ5E3/rWcq1Tis0yiomE2+natrzaO4aQbrljOHEgB6arbMkeu7/sZHEvYfK7ilH7tsZfDdU2DVOV0yxNReYwOHAFgFMTNQvBsCAwEAAQ==</p>\n</blockquote>\n<p>Second:</p>\n<blockquote>\n<p>MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAs9ywiZnmv9Ewf+dIsmwV8ZlZKQNg4lbVLpNptb3pftnoukvBjak1rDqb6GcxXtM+UuBgr4Wigi0TI+vItzWv6QlBB8HShA4WImKrOCD3+U1fFdDpwCxQO+oHqTqeNKhRcKcM0e0C/c88hJo8l9G2OCjIANW3O+pGeMirB/XjPdcQ+d37TFGpRs83wPR8gUFQsH8qQMkS7uOtTCZHfcK6UzbvJB3Gf/llcCSfPYKUMY9SXIc5K9hpI0E1v5EdEUvdbhiilZI0esntr5BzeO5AxH/m9fFPH9ekZZyc9nXsHY7tPOJMD+wsTad4D9NBGi9x+lzxZRdxyDLote4ix+aHSqMgcdtOyJ69WFym2Ty1VfCgrmG8fhC/PZBEzk6obK5uJD4mO3owrKgYsmJgZHO3CbVkmv04+EEPpQLippQu8uCl+2KO480EvjSco5ryVH3XEsAGokBLCsZviBtntY/Ia0OLXPmy7WWXigxsVQkgPZ1SyZa3FUp/Zuwtoo0BWDI/9JdUZPfKhbQkcxtnKbCe8QXf51YUgIfKXPTBlmk/Zj931EzXdQCZFMvgK+I5p79DqCsD9yKbiUnfK9tXJ4SzMfuiLd4pqB0UIMVMQEj5SZPYn7eHRZyje4v96FDwtj56NQ/kZPYXKqLoOv5nvMALZngzJ6aFaGjkWZX9RNQLfA8CAwEAAQ==</p>\n</blockquote>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673903108,"post_id":75137779,"comment_id":132596792,"body_markdown":"Calling partition function on the same key would result in the exact same partition since it&#39;s a hash. Please show your producer code in a [mcve]. Also, just try upgrading and see if it&#39;s fixed. Your clients don&#39;t need to match the broker","body":"Calling partition function on the same key would result in the exact same partition since it&#39;s a hash. Please show your producer code in a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Also, just try upgrading and see if it&#39;s fixed. Your clients don&#39;t need to match the broker"},{"owner":{"account_id":16412982,"reputation":87,"user_id":11855780,"display_name":"ctimus"},"score":0,"creation_date":1673905116,"post_id":75137779,"comment_id":132597341,"body_markdown":"I have updated the description with further details.","body":"I have updated the description with further details."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673913804,"post_id":75137779,"comment_id":132599031,"body_markdown":"You&#39;ve pointed at source code, sure. But show your actual producer application, proving that offsets are &quot;only written to even partitions&quot;","body":"You&#39;ve pointed at source code, sure. But show your actual producer application, proving that offsets are &quot;only written to even partitions&quot;"},{"owner":{"account_id":16412982,"reputation":87,"user_id":11855780,"display_name":"ctimus"},"score":0,"creation_date":1673934551,"post_id":75137779,"comment_id":132601780,"body_markdown":"Yes updated with code snippets and results","body":"Yes updated with code snippets and results"},{"owner":{"account_id":14472778,"reputation":171,"user_id":10454213,"display_name":"BLUE"},"score":0,"creation_date":1698909094,"post_id":75137779,"comment_id":136464625,"body_markdown":"Bumped into the same situation. I don&#39;t understand why KAFKA is ignoring this issue.","body":"Bumped into the same situation. I don&#39;t understand why KAFKA is ignoring this issue."}],"owner":{"account_id":16412982,"reputation":87,"user_id":11855780,"display_name":"ctimus"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673973375,"creation_date":1673890653,"question_id":75137779,"body_markdown":"I have encountered an issue where I found that Kafka is sending to messages only to the even numbered partitions. \r\n\r\nAfter exploring, found that Kafka has this open bug reported wherein partition method gets called twice, leading to skipping odd partitions.\r\n\r\nhttps://issues.apache.org/jira/browse/KAFKA-9965\r\n\r\nThere was PR raised during Oct 2021 and after that couldn&#39;t find any further update.\r\n\r\n**Does anyone know if Kafka has fixed this issue and released any patch ? I am using Kakfa version 2.4.1.**\r\n\r\nPlease see the comment from the ticket\r\n\r\n*RoundRobinPartitioner states that it will provide equal distribution of records across partitions. However with the enhancements made in KIP-480, it may not. In some cases, when a new batch is started, the partitioner may be called a second time for the same record:\r\nhttps://github.com/apache/kafka/blob/2.4/clients/src/main/java/org/apache/kafka/clients/producer/KafkaProducer.java#L909\r\nhttps://github.com/apache/kafka/blob/2.4/clients/src/main/java/org/apache/kafka/clients/producer/KafkaProducer.java#L934\r\nEach time the partitioner is called, it increments a counter in RoundRobinPartitioner, so this can result in unequal distribution.*\r\n\r\n\r\n**Code snippet**\r\n\r\n    package com.example.javakafka;\r\n    \r\n    import org.apache.kafka.clients.producer.KafkaProducer;\r\n    import org.apache.kafka.clients.producer.ProducerConfig;\r\n    import org.apache.kafka.clients.producer.ProducerRecord;\r\n    import org.apache.kafka.common.serialization.StringSerializer;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    import java.util.Properties;\r\n    \r\n    public class ProducerDemo {\r\n        private static final Logger log = LoggerFactory.getLogger(ProducerDemo.class);\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            String bootstrapServers = &quot;127.0.0.1:9092&quot;;\r\n    \r\n            // create Producer properties\r\n            Properties properties = new Properties();\r\n            properties.setProperty(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\r\n            properties.setProperty(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\r\n            properties.setProperty(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\r\n            properties.setProperty(&quot;partitioner.class&quot;, &quot;com.example.javakafka.RoundRobinPartitionerNew&quot;);\r\n    \r\n            // create the producer\r\n            KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(properties);\r\n    \r\n            // create a producer record\r\n            ProducerRecord&lt;String, String&gt; producerRecord ;\r\n    \r\n            int counter = 0;\r\n    \r\n            while(counter &lt; 40) {\r\n    \r\n                // create a producer record\r\n                producerRecord =\r\n                        new ProducerRecord&lt;&gt;(&quot;demo-java-topic-10&quot;, &quot;hello world&quot;);\r\n    \r\n                // send data - asynchronous\r\n                producer.send(producerRecord);\r\n                counter++;\r\n            }\r\n    \r\n            // flush data - synchronous\r\n            producer.flush();\r\n            // flush and close producer\r\n            producer.close();\r\n        }\r\n    }\r\n\r\nRoundRobinPartitionerNew Class - Same code as in Kafka API *org.apache.kafka.clients.producer.RoundRobinPartitioner*\r\n\r\n    package com.example.javakafka;\r\n    \r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.concurrent.ConcurrentHashMap;\r\n    import java.util.concurrent.ConcurrentMap;\r\n    import java.util.concurrent.atomic.AtomicInteger;\r\n    \r\n    import org.apache.kafka.clients.producer.Partitioner;\r\n    import org.apache.kafka.common.Cluster;\r\n    import org.apache.kafka.common.PartitionInfo;\r\n    import org.apache.kafka.common.utils.Utils;\r\n    \r\n    public class RoundRobinPartitionerNew implements Partitioner {\r\n        private final ConcurrentMap&lt;String, AtomicInteger&gt; topicCounterMap = new ConcurrentHashMap();\r\n    \r\n        public RoundRobinPartitionerNew() {\r\n        }\r\n    \r\n        public void configure(Map&lt;String, ?&gt; configs) {\r\n        }\r\n    \r\n        public int partition(String topic, Object key, byte[] keyBytes, Object value, byte[] valueBytes, Cluster cluster) {\r\n            List&lt;PartitionInfo&gt; partitions = cluster.partitionsForTopic(topic);\r\n            int numPartitions = partitions.size();\r\n            int nextValue = this.nextValue(topic);\r\n            List&lt;PartitionInfo&gt; availablePartitions = cluster.availablePartitionsForTopic(topic);\r\n            if (!availablePartitions.isEmpty()) {\r\n                int part = Utils.toPositive(nextValue) % availablePartitions.size();\r\n                return ((PartitionInfo)availablePartitions.get(part)).partition();\r\n            } else {\r\n                return Utils.toPositive(nextValue) % numPartitions;\r\n            }\r\n        }\r\n    \r\n        private int nextValue(String topic) {\r\n            AtomicInteger counter = (AtomicInteger)this.topicCounterMap.computeIfAbsent(topic, (k) -&gt; {\r\n                return new AtomicInteger(0);\r\n            });\r\n            return counter.getAndIncrement();\r\n        }\r\n    \r\n        public void close() {\r\n        }\r\n    }\r\n\r\n\r\nIf I use version 1.0.0 and use the partitioner &quot;org.apache.kafka.clients.producer.RoundRobinPartitionerNew&quot; \r\n\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nit will properly distribute the messages as follows:\r\n\r\n\r\n\r\n    CreateTime:1673933856783\tPartition:9\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:9\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:9\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:9\tnull\thello world\r\n    CreateTime:1673933856783\tPartition:8\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:8\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:8\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:8\tnull\thello world\r\n    CreateTime:1673933856783\tPartition:5\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:5\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:5\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:5\tnull\thello world\r\n    CreateTime:1673933856783\tPartition:4\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:4\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:4\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:4\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:7\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:7\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:7\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:7\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:6\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:6\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:6\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:6\tnull\thello world\r\n    CreateTime:1673933856783\tPartition:1\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:1\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:1\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:1\tnull\thello world\r\n    CreateTime:1673933856781\tPartition:0\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:0\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:0\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:0\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:3\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:3\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:3\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:3\tnull\thello world\r\n    CreateTime:1673933856783\tPartition:2\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:2\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:2\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:2\tnull\thello world\r\n\r\n\r\nIf I use the version 2.4.1 onwards and use the same partitioner \r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.4.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI get below where only even numbered partitions are assigned\r\n\r\n    CreateTime:1673933438685\tPartition:8\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:8\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:8\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:8\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:8\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:8\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:8\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:8\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:4\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:4\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:4\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:4\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:4\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:4\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:4\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:4\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:6\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:6\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:6\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:6\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:6\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:6\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:6\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:6\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:0\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:0\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:0\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:0\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:0\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:0\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:0\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:0\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:2\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:2\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:2\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:2\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:2\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:2\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:2\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:2\tnull\thello world\r\n\r\n\r\n","title":"Kafka RoundRobinPartitioner Uneven Distribution in Kakfa 2.4+","body":"<p>I have encountered an issue where I found that Kafka is sending to messages only to the even numbered partitions.</p>\n<p>After exploring, found that Kafka has this open bug reported wherein partition method gets called twice, leading to skipping odd partitions.</p>\n<p><a href=\"https://issues.apache.org/jira/browse/KAFKA-9965\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/KAFKA-9965</a></p>\n<p>There was PR raised during Oct 2021 and after that couldn't find any further update.</p>\n<p><strong>Does anyone know if Kafka has fixed this issue and released any patch ? I am using Kakfa version 2.4.1.</strong></p>\n<p>Please see the comment from the ticket</p>\n<p><em>RoundRobinPartitioner states that it will provide equal distribution of records across partitions. However with the enhancements made in KIP-480, it may not. In some cases, when a new batch is started, the partitioner may be called a second time for the same record:\n<a href=\"https://github.com/apache/kafka/blob/2.4/clients/src/main/java/org/apache/kafka/clients/producer/KafkaProducer.java#L909\" rel=\"nofollow noreferrer\">https://github.com/apache/kafka/blob/2.4/clients/src/main/java/org/apache/kafka/clients/producer/KafkaProducer.java#L909</a>\n<a href=\"https://github.com/apache/kafka/blob/2.4/clients/src/main/java/org/apache/kafka/clients/producer/KafkaProducer.java#L934\" rel=\"nofollow noreferrer\">https://github.com/apache/kafka/blob/2.4/clients/src/main/java/org/apache/kafka/clients/producer/KafkaProducer.java#L934</a>\nEach time the partitioner is called, it increments a counter in RoundRobinPartitioner, so this can result in unequal distribution.</em></p>\n<p><strong>Code snippet</strong></p>\n<pre><code>package com.example.javakafka;\n\nimport org.apache.kafka.clients.producer.KafkaProducer;\nimport org.apache.kafka.clients.producer.ProducerConfig;\nimport org.apache.kafka.clients.producer.ProducerRecord;\nimport org.apache.kafka.common.serialization.StringSerializer;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport java.util.Properties;\n\npublic class ProducerDemo {\n    private static final Logger log = LoggerFactory.getLogger(ProducerDemo.class);\n\n    public static void main(String[] args) {\n\n        String bootstrapServers = &quot;127.0.0.1:9092&quot;;\n\n        // create Producer properties\n        Properties properties = new Properties();\n        properties.setProperty(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\n        properties.setProperty(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\n        properties.setProperty(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\n        properties.setProperty(&quot;partitioner.class&quot;, &quot;com.example.javakafka.RoundRobinPartitionerNew&quot;);\n\n        // create the producer\n        KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(properties);\n\n        // create a producer record\n        ProducerRecord&lt;String, String&gt; producerRecord ;\n\n        int counter = 0;\n\n        while(counter &lt; 40) {\n\n            // create a producer record\n            producerRecord =\n                    new ProducerRecord&lt;&gt;(&quot;demo-java-topic-10&quot;, &quot;hello world&quot;);\n\n            // send data - asynchronous\n            producer.send(producerRecord);\n            counter++;\n        }\n\n        // flush data - synchronous\n        producer.flush();\n        // flush and close producer\n        producer.close();\n    }\n}\n</code></pre>\n<p>RoundRobinPartitionerNew Class - Same code as in Kafka API <em>org.apache.kafka.clients.producer.RoundRobinPartitioner</em></p>\n<pre><code>package com.example.javakafka;\n\nimport java.util.List;\nimport java.util.Map;\nimport java.util.concurrent.ConcurrentHashMap;\nimport java.util.concurrent.ConcurrentMap;\nimport java.util.concurrent.atomic.AtomicInteger;\n\nimport org.apache.kafka.clients.producer.Partitioner;\nimport org.apache.kafka.common.Cluster;\nimport org.apache.kafka.common.PartitionInfo;\nimport org.apache.kafka.common.utils.Utils;\n\npublic class RoundRobinPartitionerNew implements Partitioner {\n    private final ConcurrentMap&lt;String, AtomicInteger&gt; topicCounterMap = new ConcurrentHashMap();\n\n    public RoundRobinPartitionerNew() {\n    }\n\n    public void configure(Map&lt;String, ?&gt; configs) {\n    }\n\n    public int partition(String topic, Object key, byte[] keyBytes, Object value, byte[] valueBytes, Cluster cluster) {\n        List&lt;PartitionInfo&gt; partitions = cluster.partitionsForTopic(topic);\n        int numPartitions = partitions.size();\n        int nextValue = this.nextValue(topic);\n        List&lt;PartitionInfo&gt; availablePartitions = cluster.availablePartitionsForTopic(topic);\n        if (!availablePartitions.isEmpty()) {\n            int part = Utils.toPositive(nextValue) % availablePartitions.size();\n            return ((PartitionInfo)availablePartitions.get(part)).partition();\n        } else {\n            return Utils.toPositive(nextValue) % numPartitions;\n        }\n    }\n\n    private int nextValue(String topic) {\n        AtomicInteger counter = (AtomicInteger)this.topicCounterMap.computeIfAbsent(topic, (k) -&gt; {\n            return new AtomicInteger(0);\n        });\n        return counter.getAndIncrement();\n    }\n\n    public void close() {\n    }\n}\n</code></pre>\n<p>If I use version 1.0.0 and use the partitioner &quot;org.apache.kafka.clients.producer.RoundRobinPartitionerNew&quot;</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n    &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>it will properly distribute the messages as follows:</p>\n<pre><code>CreateTime:1673933856783    Partition:9 null    hello world\nCreateTime:1673933856784    Partition:9 null    hello world\nCreateTime:1673933856784    Partition:9 null    hello world\nCreateTime:1673933856784    Partition:9 null    hello world\nCreateTime:1673933856783    Partition:8 null    hello world\nCreateTime:1673933856784    Partition:8 null    hello world\nCreateTime:1673933856784    Partition:8 null    hello world\nCreateTime:1673933856784    Partition:8 null    hello world\nCreateTime:1673933856783    Partition:5 null    hello world\nCreateTime:1673933856784    Partition:5 null    hello world\nCreateTime:1673933856784    Partition:5 null    hello world\nCreateTime:1673933856784    Partition:5 null    hello world\nCreateTime:1673933856783    Partition:4 null    hello world\nCreateTime:1673933856784    Partition:4 null    hello world\nCreateTime:1673933856784    Partition:4 null    hello world\nCreateTime:1673933856784    Partition:4 null    hello world\nCreateTime:1673933856784    Partition:7 null    hello world\nCreateTime:1673933856784    Partition:7 null    hello world\nCreateTime:1673933856784    Partition:7 null    hello world\nCreateTime:1673933856784    Partition:7 null    hello world\nCreateTime:1673933856784    Partition:6 null    hello world\nCreateTime:1673933856784    Partition:6 null    hello world\nCreateTime:1673933856784    Partition:6 null    hello world\nCreateTime:1673933856784    Partition:6 null    hello world\nCreateTime:1673933856783    Partition:1 null    hello world\nCreateTime:1673933856784    Partition:1 null    hello world\nCreateTime:1673933856784    Partition:1 null    hello world\nCreateTime:1673933856784    Partition:1 null    hello world\nCreateTime:1673933856781    Partition:0 null    hello world\nCreateTime:1673933856784    Partition:0 null    hello world\nCreateTime:1673933856784    Partition:0 null    hello world\nCreateTime:1673933856784    Partition:0 null    hello world\nCreateTime:1673933856784    Partition:3 null    hello world\nCreateTime:1673933856784    Partition:3 null    hello world\nCreateTime:1673933856784    Partition:3 null    hello world\nCreateTime:1673933856784    Partition:3 null    hello world\nCreateTime:1673933856783    Partition:2 null    hello world\nCreateTime:1673933856784    Partition:2 null    hello world\nCreateTime:1673933856784    Partition:2 null    hello world\nCreateTime:1673933856784    Partition:2 null    hello world\n</code></pre>\n<p>If I use the version 2.4.1 onwards and use the same partitioner</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n    &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n    &lt;version&gt;2.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I get below where only even numbered partitions are assigned</p>\n<pre><code>CreateTime:1673933438685    Partition:8 null    hello world\nCreateTime:1673933438688    Partition:8 null    hello world\nCreateTime:1673933438688    Partition:8 null    hello world\nCreateTime:1673933438688    Partition:8 null    hello world\nCreateTime:1673933438688    Partition:8 null    hello world\nCreateTime:1673933438688    Partition:8 null    hello world\nCreateTime:1673933438688    Partition:8 null    hello world\nCreateTime:1673933438688    Partition:8 null    hello world\nCreateTime:1673933438688    Partition:4 null    hello world\nCreateTime:1673933438688    Partition:4 null    hello world\nCreateTime:1673933438688    Partition:4 null    hello world\nCreateTime:1673933438688    Partition:4 null    hello world\nCreateTime:1673933438688    Partition:4 null    hello world\nCreateTime:1673933438688    Partition:4 null    hello world\nCreateTime:1673933438688    Partition:4 null    hello world\nCreateTime:1673933438688    Partition:4 null    hello world\nCreateTime:1673933438688    Partition:6 null    hello world\nCreateTime:1673933438688    Partition:6 null    hello world\nCreateTime:1673933438688    Partition:6 null    hello world\nCreateTime:1673933438688    Partition:6 null    hello world\nCreateTime:1673933438688    Partition:6 null    hello world\nCreateTime:1673933438688    Partition:6 null    hello world\nCreateTime:1673933438688    Partition:6 null    hello world\nCreateTime:1673933438688    Partition:6 null    hello world\nCreateTime:1673933438688    Partition:0 null    hello world\nCreateTime:1673933438688    Partition:0 null    hello world\nCreateTime:1673933438688    Partition:0 null    hello world\nCreateTime:1673933438688    Partition:0 null    hello world\nCreateTime:1673933438688    Partition:0 null    hello world\nCreateTime:1673933438688    Partition:0 null    hello world\nCreateTime:1673933438688    Partition:0 null    hello world\nCreateTime:1673933438688    Partition:0 null    hello world\nCreateTime:1673933438688    Partition:2 null    hello world\nCreateTime:1673933438688    Partition:2 null    hello world\nCreateTime:1673933438688    Partition:2 null    hello world\nCreateTime:1673933438688    Partition:2 null    hello world\nCreateTime:1673933438688    Partition:2 null    hello world\nCreateTime:1673933438688    Partition:2 null    hello world\nCreateTime:1673933438688    Partition:2 null    hello world\nCreateTime:1673933438688    Partition:2 null    hello world\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-cloud-feign"],"comments":[{"owner":{"account_id":8860353,"reputation":883,"user_id":6616740,"accept_rate":0,"display_name":"Vikram Pathania"},"score":0,"creation_date":1610924679,"post_id":61789163,"comment_id":116279595,"body_markdown":"Hi Guys,\nI am also facing same issue. Did anybody have any pointers for same.\nRegards,","body":"Hi Guys, I am also facing same issue. Did anybody have any pointers for same. Regards,"},{"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"score":0,"creation_date":1613563487,"post_id":61789163,"comment_id":117111550,"body_markdown":"@VikramPathania I&#39;ve added an answer that resolved this for me at least","body":"@VikramPathania I&#39;ve added an answer that resolved this for me at least"},{"owner":{"account_id":11556456,"reputation":247,"user_id":8467490,"display_name":"Kleo G"},"score":0,"creation_date":1621955612,"post_id":61789163,"comment_id":119647397,"body_markdown":"Did this ever get resolved? Having the same issue at the moment","body":"Did this ever get resolved? Having the same issue at the moment"},{"owner":{"account_id":13384537,"reputation":428,"user_id":9658836,"display_name":"Miguel Ruiz"},"score":0,"creation_date":1635254649,"post_id":61789163,"comment_id":123243493,"body_markdown":"@KleoG in case you have more than one feign client in your application, your issue may be solved in the way I lay out in [my answer](https://stackoverflow.com/a/69715642/9658836)","body":"@KleoG in case you have more than one feign client in your application, your issue may be solved in the way I lay out in <a href=\"https://stackoverflow.com/a/69715642/9658836\">my answer</a>"}],"answers":[{"tags":[],"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1613563458,"creation_date":1613563458,"answer_id":66241604,"question_id":61789163,"body_markdown":"I had this same problem.\r\n\r\nFor me it was a maven issue, it seemed like 2 copies of the same library were being used (not because of a real problem but because maven had &quot;got confused&quot;. I had been maven installing local builds of a library). \r\n\r\nI resolved the problem by deleting my C:\\Users\\{user}\\.m2\\repository and then reimporting the project","title":"The bean &#39;exampleService.FeignClientSpecification&#39; could not be registered. Bean already defined and overriding is disabled","body":"<p>I had this same problem.</p>\n<p>For me it was a maven issue, it seemed like 2 copies of the same library were being used (not because of a real problem but because maven had &quot;got confused&quot;. I had been maven installing local builds of a library).</p>\n<p>I resolved the problem by deleting my C:\\Users{user}.m2\\repository and then reimporting the project</p>\n"},{"tags":[],"owner":{"account_id":5859376,"reputation":21,"user_id":4615630,"display_name":"karan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652179432,"creation_date":1620961695,"answer_id":67528608,"question_id":61789163,"body_markdown":"This can also happen if you have more than 1 @FeignClients defined with the same name:\r\n[Link][1]\r\n\r\n  [1]: https://github.com/spring-cloud/spring-cloud-openfeign/issues/81#issuecomment-444771087\r\nGiving unique names in my clients fixed it for me","title":"The bean &#39;exampleService.FeignClientSpecification&#39; could not be registered. Bean already defined and overriding is disabled","body":"<p>This can also happen if you have more than 1 @FeignClients defined with the same name:\n<a href=\"https://github.com/spring-cloud/spring-cloud-openfeign/issues/81#issuecomment-444771087\" rel=\"nofollow noreferrer\">Link</a></p>\n<p>Giving unique names in my clients fixed it for me</p>\n"},{"tags":[],"owner":{"account_id":16562500,"reputation":11,"user_id":11968074,"display_name":"Rajesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633239985,"creation_date":1633239985,"answer_id":69422382,"question_id":61789163,"body_markdown":"Try deleting FeignClient interface(ExampleClient) from your test package and run the test case and I hope it should work now.","title":"The bean &#39;exampleService.FeignClientSpecification&#39; could not be registered. Bean already defined and overriding is disabled","body":"<p>Try deleting FeignClient interface(ExampleClient) from your test package and run the test case and I hope it should work now.</p>\n"},{"tags":[],"owner":{"account_id":13384537,"reputation":428,"user_id":9658836,"display_name":"Miguel Ruiz"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1635254688,"creation_date":1635202575,"answer_id":69715642,"question_id":61789163,"body_markdown":"It might not be the OP&#39;s problem since he has only one feign client, but to anyone that got here by googling the same error: \r\n\r\nThe `name` attribute of the `@FeignClient` annotation works as a unique identifier to the client.\r\nIf you want to have multiple feign clients within the same Spring context, each needs to have a unique `name` (or `value`, as [these two attributes are aliases to each other][1])\r\n\r\nFor instance:\r\n\r\n    @RequestMapping(value=&quot;/endpoint/path&quot;)\r\n    @FeignClient(name = &quot;MUST-BE-UNIQUE&quot;)\r\n    public interface MyClient {\r\n    }\r\n\r\n  [1]: https://javadoc.io/doc/org.springframework.cloud/spring-cloud-netflix-core/1.2.1.RELEASE/org/springframework/cloud/netflix/feign/FeignClient.html#value--","title":"The bean &#39;exampleService.FeignClientSpecification&#39; could not be registered. Bean already defined and overriding is disabled","body":"<p>It might not be the OP's problem since he has only one feign client, but to anyone that got here by googling the same error:</p>\n<p>The <code>name</code> attribute of the <code>@FeignClient</code> annotation works as a unique identifier to the client.\nIf you want to have multiple feign clients within the same Spring context, each needs to have a unique <code>name</code> (or <code>value</code>, as <a href=\"https://javadoc.io/doc/org.springframework.cloud/spring-cloud-netflix-core/1.2.1.RELEASE/org/springframework/cloud/netflix/feign/FeignClient.html#value--\" rel=\"noreferrer\">these two attributes are aliases to each other</a>)</p>\n<p>For instance:</p>\n<pre><code>@RequestMapping(value=&quot;/endpoint/path&quot;)\n@FeignClient(name = &quot;MUST-BE-UNIQUE&quot;)\npublic interface MyClient {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2794316,"reputation":1918,"user_id":2403836,"accept_rate":72,"display_name":"mr nooby noob"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655881592,"creation_date":1655881592,"answer_id":72711043,"question_id":61789163,"body_markdown":"I had this issue even though my two FeignClients were completely different. The problem went away once I added `@Component` to both of my FeignClient classes","title":"The bean &#39;exampleService.FeignClientSpecification&#39; could not be registered. Bean already defined and overriding is disabled","body":"<p>I had this issue even though my two FeignClients were completely different. The problem went away once I added <code>@Component</code> to both of my FeignClient classes</p>\n"},{"tags":[],"owner":{"account_id":14034584,"reputation":1,"user_id":10137602,"display_name":"Aktion 23"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663231038,"creation_date":1663231038,"answer_id":73728023,"question_id":61789163,"body_markdown":"I hab this problem because i had the same contextId in two FeignClients. I made them unique and it worked","title":"The bean &#39;exampleService.FeignClientSpecification&#39; could not be registered. Bean already defined and overriding is disabled","body":"<p>I hab this problem because i had the same contextId in two FeignClients. I made them unique and it worked</p>\n"},{"tags":[],"owner":{"account_id":7452114,"reputation":326,"user_id":5666521,"display_name":"Rail Yulgutlin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1668772113,"creation_date":1668772113,"answer_id":74489200,"question_id":61789163,"body_markdown":"That might happen if you have two \r\n\r\n    @EnableFeignClients\r\n\r\nannotations, with properties that cover one or more feign clients multiple times, for example\r\n\r\n    @EnableFeignClients(basePackages = {&quot;com.example.feign.api&quot;})\r\n    public class FeignConfigs {\r\n    ...\r\n    }\r\n    @EnableFeignClients(basePackages = {&quot;com.example&quot;})\r\n    public class Application {\r\n    ...\r\n    }\r\nThat was my case. Hope that helps.","title":"The bean &#39;exampleService.FeignClientSpecification&#39; could not be registered. Bean already defined and overriding is disabled","body":"<p>That might happen if you have two</p>\n<pre><code>@EnableFeignClients\n</code></pre>\n<p>annotations, with properties that cover one or more feign clients multiple times, for example</p>\n<pre><code>@EnableFeignClients(basePackages = {&quot;com.example.feign.api&quot;})\npublic class FeignConfigs {\n...\n}\n@EnableFeignClients(basePackages = {&quot;com.example&quot;})\npublic class Application {\n...\n}\n</code></pre>\n<p>That was my case. Hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":6867511,"reputation":345,"user_id":5279345,"display_name":"Katia Savina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673973262,"creation_date":1673973262,"answer_id":75149494,"question_id":61789163,"body_markdown":"In my case, it was the simplest typo in the `application.properties`:\r\n```\r\nexamples.api.service.name=example-api\r\nspring.security.oauth2.client.registration.examples-api.provider=examples-api\r\n```\r\nAs you can see, it&#39;s in plural everywhere except for the `service.name`.\r\n\r\nAfter fixing it to be in plural as well, it started working.","title":"The bean &#39;exampleService.FeignClientSpecification&#39; could not be registered. Bean already defined and overriding is disabled","body":"<p>In my case, it was the simplest typo in the <code>application.properties</code>:</p>\n<pre><code>examples.api.service.name=example-api\nspring.security.oauth2.client.registration.examples-api.provider=examples-api\n</code></pre>\n<p>As you can see, it's in plural everywhere except for the <code>service.name</code>.</p>\n<p>After fixing it to be in plural as well, it started working.</p>\n"}],"owner":{"account_id":4800418,"reputation":221,"user_id":3877207,"display_name":"Pi53"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17563,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":8,"score":10,"last_activity_date":1673973262,"creation_date":1589429352,"question_id":61789163,"body_markdown":"My feign client class is as below along with the Application class.\r\n```\r\n@FeignClient(name = &quot;ExampleService&quot;, configuration = FeignClientConfig.class, url = &quot;http://localhost:8091&quot;)\r\npublic interface ExampleClient {\r\n  @GetMapping(value = &quot;exampleService/exampleDetails/{id}&quot;)\r\n  public List&lt;ExampleDTO&gt; getExampleDetails(@PathVariable(name = &quot;id&quot;) final Long id);\r\n}\r\n\r\n@EnableAutoConfiguration\r\n@EnableScheduling\r\n@SpringBootApplication\r\n@EnableFeignClients(basePackages = {&quot;com.package.example&quot;})\r\n@ComponentScan(basePackages = {&quot;com.package&quot;})\r\npublic class ExampleApplication extends SpringBootServletInitializer {\r\n  public static void main(String[] args) {\r\n    SpringApplication.run(ExampleApplication.class, args);\r\n  }\r\n}\r\n```\r\nIn the above code I&#39;m getting the error as given below \r\n```\r\nAPPLICATION FAILED TO START\r\n\r\nDescription:\r\nThe bean &#39;ExampleService.FeignClientSpecification&#39; could not be registered. A bean with that name has already been defined and overriding is disabled.\r\n\r\nAction: \r\nConsider renaming one of the beans or enabling overriding by setting spring.main.allow-bean-definition-overriding = true\r\n```\r\n\r\nFirst of all, there&#39;s only 1 feign client by that name being defined in the project. \r\nSecond I tried giving it a context ID just in case there was a bean with the same name being defined somewhere I must&#39;ve missed.\r\n```\r\n@FeignClient(contextId = &quot;myExampleService&quot;, name=&quot;ExampleService&quot;, configuration = FeignClientConfig.class, url = &quot;http://localhost:8091&quot;)\r\n```\r\nbut again it gave me the same error \r\n```\r\nThe bean &#39;myExampleService.FeignClientSpecification&#39; could not be registered. A bean with that name has already been defined and overriding is disabled.\r\n\r\n```\r\nThird, I also tried by giving the property in application.properties file for overriding the bean \r\n```\r\nspring.main.allow-bean-definition-overriding = true\r\n```\r\nbut still I&#39;m getting the same error. \r\nAny reason why I&#39;m getting this issue even though there is only 1 bean with the name available for Spring&#39;s app context?","title":"The bean &#39;exampleService.FeignClientSpecification&#39; could not be registered. Bean already defined and overriding is disabled","body":"<p>My feign client class is as below along with the Application class.</p>\n\n<pre><code>@FeignClient(name = \"ExampleService\", configuration = FeignClientConfig.class, url = \"http://localhost:8091\")\npublic interface ExampleClient {\n  @GetMapping(value = \"exampleService/exampleDetails/{id}\")\n  public List&lt;ExampleDTO&gt; getExampleDetails(@PathVariable(name = \"id\") final Long id);\n}\n\n@EnableAutoConfiguration\n@EnableScheduling\n@SpringBootApplication\n@EnableFeignClients(basePackages = {\"com.package.example\"})\n@ComponentScan(basePackages = {\"com.package\"})\npublic class ExampleApplication extends SpringBootServletInitializer {\n  public static void main(String[] args) {\n    SpringApplication.run(ExampleApplication.class, args);\n  }\n}\n</code></pre>\n\n<p>In the above code I'm getting the error as given below </p>\n\n<pre><code>APPLICATION FAILED TO START\n\nDescription:\nThe bean 'ExampleService.FeignClientSpecification' could not be registered. A bean with that name has already been defined and overriding is disabled.\n\nAction: \nConsider renaming one of the beans or enabling overriding by setting spring.main.allow-bean-definition-overriding = true\n</code></pre>\n\n<p>First of all, there's only 1 feign client by that name being defined in the project. \nSecond I tried giving it a context ID just in case there was a bean with the same name being defined somewhere I must've missed.</p>\n\n<pre><code>@FeignClient(contextId = \"myExampleService\", name=\"ExampleService\", configuration = FeignClientConfig.class, url = \"http://localhost:8091\")\n</code></pre>\n\n<p>but again it gave me the same error </p>\n\n<pre><code>The bean 'myExampleService.FeignClientSpecification' could not be registered. A bean with that name has already been defined and overriding is disabled.\n\n</code></pre>\n\n<p>Third, I also tried by giving the property in application.properties file for overriding the bean </p>\n\n<pre><code>spring.main.allow-bean-definition-overriding = true\n</code></pre>\n\n<p>but still I'm getting the same error. \nAny reason why I'm getting this issue even though there is only 1 bean with the name available for Spring's app context?</p>\n"},{"tags":["java","android","webview","android-developer-api"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1673976505,"post_id":75149481,"comment_id":132614688,"body_markdown":"Use the CookieManager to get the value of the login cookie.  Store it to shared preferences.  Then when you open the app, read in that shared preference and set the cookie.  That way you will keep the cookie across sessions.","body":"Use the CookieManager to get the value of the login cookie.  Store it to shared preferences.  Then when you open the app, read in that shared preference and set the cookie.  That way you will keep the cookie across sessions."}],"owner":{"account_id":19571342,"reputation":31,"user_id":14322442,"display_name":"BM Yadav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1673973230,"creation_date":1673973230,"question_id":75149481,"body_markdown":"I have recently make a food ordering website where people can login and start ordering once user login they can stay 30 days because we have save their cookie for 30 days.\r\n\r\nand recently i have coverted that website to mobile app using android webview. but one once user login on our app and close app and if they re open again they have to again login. so, how i can prevent it and stay logged in user.\r\n\r\nI want to even set cookie in android webview in which once user login they can stay 30 days without re login.\r\n\r\nplease spread your knowledge if you have knowledge about this.\r\n\r\nHere is my mainactivity.java code where we should place your code.\r\n\r\n```\r\npackage com.eatlaza;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.app.AlertDialog;\r\nimport android.content.Context;\r\nimport android.content.DialogInterface;\r\nimport android.net.ConnectivityManager;\r\nimport android.net.NetworkInfo;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.webkit.CookieManager;\r\nimport android.webkit.WebChromeClient;\r\nimport android.webkit.WebView;\r\nimport android.webkit.WebViewClient;\r\nimport android.widget.Button;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.RelativeLayout;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    WebView webView;\r\n    ProgressBar progressBarWeb;\r\n\r\n    RelativeLayout relativeLayout;\r\n    Button btnNoConnection;\r\n//cookie allow\r\n\r\n\r\n        @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\r\n        @Override\r\n        protected void onCreate (Bundle savedInstanceState){\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n\r\n            webView = (WebView) findViewById(R.id.myWebView);\r\n            progressBarWeb = (ProgressBar) findViewById(R.id.progressBar);\r\n            btnNoConnection = (Button) findViewById(R.id.btnNoConnection);\r\n            relativeLayout = (RelativeLayout) findViewById(R.id.relativelayoiut);\r\n\r\n            //javascript enable\r\n            webView.getSettings().setJavaScriptEnabled(true);\r\n            checkInternetConnection();\r\n\r\n\r\n            webView.setWebViewClient(new WebViewClient() {\r\n                @Override\r\n                public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n                    view.loadUrl(url);\r\n                    return true;\r\n                }\r\n            });\r\n            webView.setWebChromeClient(new WebChromeClient() {\r\n                @Override\r\n                public void onProgressChanged(WebView view, int newProgress) {\r\n                    progressBarWeb.setVisibility(View.VISIBLE);\r\n                    progressBarWeb.setProgress(newProgress);\r\n                    if (newProgress == 100) {\r\n                        progressBarWeb.setVisibility(View.GONE);\r\n                    }\r\n\r\n\r\n                    super.onProgressChanged(view, newProgress);\r\n                }\r\n            });\r\n            //retry\r\n            btnNoConnection.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    checkInternetConnection();\r\n                }\r\n            });\r\n        }\r\n\r\n        @Override\r\n        public void onBackPressed () {\r\n            if (webView.canGoBack()) {\r\n                webView.goBack();\r\n            } else {\r\n                AlertDialog alertDialog = new AlertDialog.Builder(this)\r\n//set message\r\n                        .setMessage(&quot;Are You Sure You want to close it?&quot;)\r\n//set positive button\r\n                        .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(DialogInterface dialogInterface, int i) {\r\n                                //set what would happen when positive button is clicked\r\n                                finish();\r\n                            }\r\n                        })\r\n//set negative button\r\n                        .setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(DialogInterface dialogInterface, int i) {\r\n                                //set what should happen when negative button is clicked\r\n                                // Toast.makeText(getApplicationContext(),&quot;Nothing Happened&quot;,Toast.LENGTH_LONG).show();\r\n                            }\r\n                        })\r\n                        .show();\r\n                //super.onBackPressed();\r\n            }\r\n        }\r\n        //class for check internet connection\r\n        public void checkInternetConnection () {\r\n            ConnectivityManager connectivityManager = (ConnectivityManager)\r\n                    this.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n            NetworkInfo wifi = connectivityManager.getNetworkInfo(ConnectivityManager.TYPE_WIFI);\r\n            NetworkInfo mobileNetwork = connectivityManager.getNetworkInfo(ConnectivityManager.TYPE_MOBILE);\r\n\r\n            String webUrl = &quot;https://eatlaza.com&quot;;\r\n            if (wifi.isConnected()) {\r\n                webView.loadUrl(webUrl);\r\n                webView.setVisibility(View.VISIBLE);\r\n                relativeLayout.setVisibility(View.GONE);\r\n            } else if (mobileNetwork.isConnected()) {\r\n                webView.loadUrl(webUrl);\r\n                webView.setVisibility(View.VISIBLE);\r\n                relativeLayout.setVisibility(View.GONE);\r\n            } else {\r\n                webView.setVisibility(View.GONE);\r\n                relativeLayout.setVisibility(View.VISIBLE);\r\n            }\r\n        }\r\n    }\r\n\r\n```\r\n\r\n\r\nplease tell me how can we set cookie using android webview.","title":"How to Enable Cookies in Android WebView App (Android Studio - JAVA)","body":"<p>I have recently make a food ordering website where people can login and start ordering once user login they can stay 30 days because we have save their cookie for 30 days.</p>\n<p>and recently i have coverted that website to mobile app using android webview. but one once user login on our app and close app and if they re open again they have to again login. so, how i can prevent it and stay logged in user.</p>\n<p>I want to even set cookie in android webview in which once user login they can stay 30 days without re login.</p>\n<p>please spread your knowledge if you have knowledge about this.</p>\n<p>Here is my mainactivity.java code where we should place your code.</p>\n<pre><code>package com.eatlaza;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.annotation.SuppressLint;\nimport android.app.AlertDialog;\nimport android.content.Context;\nimport android.content.DialogInterface;\nimport android.net.ConnectivityManager;\nimport android.net.NetworkInfo;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.webkit.CookieManager;\nimport android.webkit.WebChromeClient;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\nimport android.widget.Button;\nimport android.widget.ProgressBar;\nimport android.widget.RelativeLayout;\n\npublic class MainActivity extends AppCompatActivity {\n\n    WebView webView;\n    ProgressBar progressBarWeb;\n\n    RelativeLayout relativeLayout;\n    Button btnNoConnection;\n//cookie allow\n\n\n        @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\n        @Override\n        protected void onCreate (Bundle savedInstanceState){\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_main);\n\n            webView = (WebView) findViewById(R.id.myWebView);\n            progressBarWeb = (ProgressBar) findViewById(R.id.progressBar);\n            btnNoConnection = (Button) findViewById(R.id.btnNoConnection);\n            relativeLayout = (RelativeLayout) findViewById(R.id.relativelayoiut);\n\n            //javascript enable\n            webView.getSettings().setJavaScriptEnabled(true);\n            checkInternetConnection();\n\n\n            webView.setWebViewClient(new WebViewClient() {\n                @Override\n                public boolean shouldOverrideUrlLoading(WebView view, String url) {\n                    view.loadUrl(url);\n                    return true;\n                }\n            });\n            webView.setWebChromeClient(new WebChromeClient() {\n                @Override\n                public void onProgressChanged(WebView view, int newProgress) {\n                    progressBarWeb.setVisibility(View.VISIBLE);\n                    progressBarWeb.setProgress(newProgress);\n                    if (newProgress == 100) {\n                        progressBarWeb.setVisibility(View.GONE);\n                    }\n\n\n                    super.onProgressChanged(view, newProgress);\n                }\n            });\n            //retry\n            btnNoConnection.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    checkInternetConnection();\n                }\n            });\n        }\n\n        @Override\n        public void onBackPressed () {\n            if (webView.canGoBack()) {\n                webView.goBack();\n            } else {\n                AlertDialog alertDialog = new AlertDialog.Builder(this)\n//set message\n                        .setMessage(&quot;Are You Sure You want to close it?&quot;)\n//set positive button\n                        .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\n                            @Override\n                            public void onClick(DialogInterface dialogInterface, int i) {\n                                //set what would happen when positive button is clicked\n                                finish();\n                            }\n                        })\n//set negative button\n                        .setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\n                            @Override\n                            public void onClick(DialogInterface dialogInterface, int i) {\n                                //set what should happen when negative button is clicked\n                                // Toast.makeText(getApplicationContext(),&quot;Nothing Happened&quot;,Toast.LENGTH_LONG).show();\n                            }\n                        })\n                        .show();\n                //super.onBackPressed();\n            }\n        }\n        //class for check internet connection\n        public void checkInternetConnection () {\n            ConnectivityManager connectivityManager = (ConnectivityManager)\n                    this.getSystemService(Context.CONNECTIVITY_SERVICE);\n            NetworkInfo wifi = connectivityManager.getNetworkInfo(ConnectivityManager.TYPE_WIFI);\n            NetworkInfo mobileNetwork = connectivityManager.getNetworkInfo(ConnectivityManager.TYPE_MOBILE);\n\n            String webUrl = &quot;https://eatlaza.com&quot;;\n            if (wifi.isConnected()) {\n                webView.loadUrl(webUrl);\n                webView.setVisibility(View.VISIBLE);\n                relativeLayout.setVisibility(View.GONE);\n            } else if (mobileNetwork.isConnected()) {\n                webView.loadUrl(webUrl);\n                webView.setVisibility(View.VISIBLE);\n                relativeLayout.setVisibility(View.GONE);\n            } else {\n                webView.setVisibility(View.GONE);\n                relativeLayout.setVisibility(View.VISIBLE);\n            }\n        }\n    }\n\n</code></pre>\n<p>please tell me how can we set cookie using android webview.</p>\n"},{"tags":["java","spring-boot","smtp"],"answers":[{"tags":[],"owner":{"account_id":3569709,"reputation":3532,"user_id":2980345,"accept_rate":75,"display_name":"ndrone"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1482871419,"creation_date":1482869507,"answer_id":41351612,"question_id":41351540,"body_markdown":"I believe you got the port wrong. I believe it&#39;s `587`\r\n\r\n**Updated**\r\n\r\nNow we need to set StartTLS\r\n\r\nadd\r\n\r\n    mail:\r\n      host: smtp.gmail.com\r\n      port: 587\r\n      username: myemail@gmail.com\r\n      password: mypassword\r\n      properties:\r\n        starttls.enable: true\r\n\r\n\r\n","title":"Configure SMTP host using YAML file in Spring boot","body":"<p>I believe you got the port wrong. I believe it's <code>587</code></p>\n\n<p><strong>Updated</strong></p>\n\n<p>Now we need to set StartTLS</p>\n\n<p>add</p>\n\n<pre><code>mail:\n  host: smtp.gmail.com\n  port: 587\n  username: myemail@gmail.com\n  password: mypassword\n  properties:\n    starttls.enable: true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7249701,"reputation":359,"user_id":5530462,"accept_rate":43,"display_name":"Elena Alexandra Dobrescu"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1482872957,"creation_date":1482872957,"answer_id":41352260,"question_id":41351540,"body_markdown":"I made the following changes and now it works fine:\r\n\r\n     mail:\r\n        host: smtp.gmail.com\r\n        port: 587\r\n        username: mymail@gmail.com\r\n        password: mypassword\r\n        protocol: smtp\r\n        tls: true\r\n        properties.mail.smtp:\r\n            auth: true\r\n            starttls.enable: true\r\n            ssl.trust: smtp.gmail.com\r\n","title":"Configure SMTP host using YAML file in Spring boot","body":"<p>I made the following changes and now it works fine:</p>\n\n<pre><code> mail:\n    host: smtp.gmail.com\n    port: 587\n    username: mymail@gmail.com\n    password: mypassword\n    protocol: smtp\n    tls: true\n    properties.mail.smtp:\n        auth: true\n        starttls.enable: true\n        ssl.trust: smtp.gmail.com\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4834459,"reputation":2108,"user_id":3901630,"display_name":"Amol Suryawanshi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1516171732,"creation_date":1516171732,"answer_id":48295146,"question_id":41351540,"body_markdown":"I have used following YAML configuration for sending mail via Gmail\r\n\r\n    spring:\r\n      mail:\r\n        default-encoding: UTF-8\r\n        host: smtp.gmail.com\r\n        username: &lt;Gmail username&gt;\r\n        password: &lt;Gmail password&gt;\r\n        port: 587\r\n        properties:\r\n          mail:\r\n            smtp:\r\n              auth: true\r\n              starttls:\r\n                enable: true\r\n        protocol: smtp\r\n        test-connection: false","title":"Configure SMTP host using YAML file in Spring boot","body":"<p>I have used following YAML configuration for sending mail via Gmail</p>\n\n<pre><code>spring:\n  mail:\n    default-encoding: UTF-8\n    host: smtp.gmail.com\n    username: &lt;Gmail username&gt;\n    password: &lt;Gmail password&gt;\n    port: 587\n    properties:\n      mail:\n        smtp:\n          auth: true\n          starttls:\n            enable: true\n    protocol: smtp\n    test-connection: false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3146638,"reputation":35,"user_id":2661009,"display_name":"BriniH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673973088,"creation_date":1673973088,"answer_id":75149450,"question_id":41351540,"body_markdown":"you can try the conf below. It&#39;s working in my environment.\r\n\r\n      mail:\r\n        debug: false\r\n        host: host\r\n        port: port_number\r\n        properties:\r\n          mail:\r\n            protocol: smtp\r\n            smtp:\r\n              ssl:\r\n                enable: true\r\n                trust: &quot;*&quot;\r\n              auth: false\r\n              starttls:\r\n                enable: true\r\n                required: false","title":"Configure SMTP host using YAML file in Spring boot","body":"<p>you can try the conf below. It's working in my environment.</p>\n<pre><code>  mail:\n    debug: false\n    host: host\n    port: port_number\n    properties:\n      mail:\n        protocol: smtp\n        smtp:\n          ssl:\n            enable: true\n            trust: &quot;*&quot;\n          auth: false\n          starttls:\n            enable: true\n            required: false\n</code></pre>\n"}],"owner":{"account_id":7249701,"reputation":359,"user_id":5530462,"accept_rate":43,"display_name":"Elena Alexandra Dobrescu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21573,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1673973088,"creation_date":1482869191,"question_id":41351540,"body_markdown":"I am trying to configure an SMTP host for my Spring boot application. \r\n\r\nI have this code in my `application-dev.yml` file:\r\n\r\n     mail:\r\n        host: smtp.gmail.com\r\n        port: 465\r\n        username: myemail@gmail.com\r\n        password: mypassword\r\n\r\nHowever, when I am trying to send an email I get this exception:\r\n\r\n    Caused by: javax.mail.MessagingException: Could not connect to \r\n    SMTP host: smtp.gmail.com, \r\n    port: 465, response: -1\r\n\r\nAlso, I have generated this code with JHipster and I am not sure whether I should modify something else or this is enough to configure a SMTP host.\r\n\r\nAfter changing the port to 587, I am getting this:\r\n\r\n    \r\n    org.springframework.mail.MailSendException: \r\n    Failed messages:    com.sun.mail.smtp.SMTPSendFailedException: 530 5.7.0 Must issue \r\n    a STARTTLS command first. jm6sm60863600wjb.27 - gsmtp\r\n\r\n","title":"Configure SMTP host using YAML file in Spring boot","body":"<p>I am trying to configure an SMTP host for my Spring boot application. </p>\n\n<p>I have this code in my <code>application-dev.yml</code> file:</p>\n\n<pre><code> mail:\n    host: smtp.gmail.com\n    port: 465\n    username: myemail@gmail.com\n    password: mypassword\n</code></pre>\n\n<p>However, when I am trying to send an email I get this exception:</p>\n\n<pre><code>Caused by: javax.mail.MessagingException: Could not connect to \nSMTP host: smtp.gmail.com, \nport: 465, response: -1\n</code></pre>\n\n<p>Also, I have generated this code with JHipster and I am not sure whether I should modify something else or this is enough to configure a SMTP host.</p>\n\n<p>After changing the port to 587, I am getting this:</p>\n\n<pre><code>org.springframework.mail.MailSendException: \nFailed messages:    com.sun.mail.smtp.SMTPSendFailedException: 530 5.7.0 Must issue \na STARTTLS command first. jm6sm60863600wjb.27 - gsmtp\n</code></pre>\n"},{"tags":["java","function","collections","anylogic"],"comments":[{"owner":{"account_id":22899823,"reputation":217,"user_id":17038740,"display_name":"Shingston"},"score":0,"creation_date":1673973009,"post_id":75147748,"comment_id":132613616,"body_markdown":"If you&#39;ve explored your functions and collections, I&#39;d suggest saving the start time of an agent&#39;s process duration in a variable within the agent. Then, when the agent exits the process, save the duration within (you can get the current time by calling time(), then just compute the difference) a separate collection/statistics/object of your choice for each agent type. Otherwise, you can do as Benjamin suggested below.","body":"If you&#39;ve explored your functions and collections, I&#39;d suggest saving the start time of an agent&#39;s process duration in a variable within the agent. Then, when the agent exits the process, save the duration within (you can get the current time by calling time(), then just compute the difference) a separate collection/statistics/object of your choice for each agent type. Otherwise, you can do as Benjamin suggested below."},{"owner":{"account_id":27553283,"reputation":3,"user_id":21027953,"display_name":"Simran "},"score":0,"creation_date":1674050288,"post_id":75147748,"comment_id":132631839,"body_markdown":"I did this in the service block, but that gives the average waiting time of all the agent types; please can you suggest how to find it for each patient type (1-6)?","body":"I did this in the service block, but that gives the average waiting time of all the agent types; please can you suggest how to find it for each patient type (1-6)?"},{"owner":{"account_id":22899823,"reputation":217,"user_id":17038740,"display_name":"Shingston"},"score":0,"creation_date":1674067538,"post_id":75147748,"comment_id":132638131,"body_markdown":"As previously mentioned, you should save each patient type&#39;s waiting time in a separate collection object. The way you do this is up to you but I&#39;d assume you have a parameter determining each agent&#39;s type - just sort them into their respective collection object according to that.","body":"As previously mentioned, you should save each patient type&#39;s waiting time in a separate collection object. The way you do this is up to you but I&#39;d assume you have a parameter determining each agent&#39;s type - just sort them into their respective collection object according to that."}],"answers":[{"tags":[],"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673972762,"creation_date":1673972762,"answer_id":75149384,"question_id":75147748,"body_markdown":"Looks like you are a beginner. In that case, I&#39;d suggest that you use the &quot;Select output 5&quot; object before the queue and route your patients through different flows, each with its own queue and &quot;time measure&quot; blocks.\r\n\r\nThis way you have full control. You can route your agents in the &quot;select output 5&quot; block using &#39;agent.myPatientType&#39; (or similar) so that they join the right flow (check the help and example models for this)\r\n\r\nHowever, it is also the least elegant choice &#128578;","title":"Waiting time in queue for different types of agents coming from one source and getting served in one service in Anylogic","body":"<p>Looks like you are a beginner. In that case, I'd suggest that you use the &quot;Select output 5&quot; object before the queue and route your patients through different flows, each with its own queue and &quot;time measure&quot; blocks.</p>\n<p>This way you have full control. You can route your agents in the &quot;select output 5&quot; block using 'agent.myPatientType' (or similar) so that they join the right flow (check the help and example models for this)</p>\n<p>However, it is also the least elegant choice 🙂</p>\n"}],"owner":{"account_id":27553283,"reputation":3,"user_id":21027953,"display_name":"Simran "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673972762,"creation_date":1673964750,"question_id":75147748,"body_markdown":"I want to find waiting time of each patient type (agent type) coming from one source and getting served by one machine. I have classified patient types using schedule block and function as shown in photo1[function body for classifying agent types](https://i.stack.imgur.com/4RQVV.png), and now I wish to calculate mean waiting time of each patient type(1-6) in queue of one service block. As of now there are 4 patients scheduled of each type in every two hours ( simulation is run for 12 hours).  \r\nThanks\r\n\r\nI&#39;m not sure whether timeMeasureStart and End blocks will be of some use here. \r\nData and Statistics block (model in photo2[model](https://i.stack.imgur.com/tVJUU.png)) are giving mean waiting time of all the patients and not for each patient type. \r\nI&#39;m struggling from quite some time now, and tried to use function and collection also for the same, but didn&#39;t got anything. Any hint or suggestion to solve this will be of great help. \r\n","title":"Waiting time in queue for different types of agents coming from one source and getting served in one service in Anylogic","body":"<p>I want to find waiting time of each patient type (agent type) coming from one source and getting served by one machine. I have classified patient types using schedule block and function as shown in photo1<a href=\"https://i.stack.imgur.com/4RQVV.png\" rel=\"nofollow noreferrer\">function body for classifying agent types</a>, and now I wish to calculate mean waiting time of each patient type(1-6) in queue of one service block. As of now there are 4 patients scheduled of each type in every two hours ( simulation is run for 12 hours).<br />\nThanks</p>\n<p>I'm not sure whether timeMeasureStart and End blocks will be of some use here.\nData and Statistics block (model in photo2<a href=\"https://i.stack.imgur.com/tVJUU.png\" rel=\"nofollow noreferrer\">model</a>) are giving mean waiting time of all the patients and not for each patient type.\nI'm struggling from quite some time now, and tried to use function and collection also for the same, but didn't got anything. Any hint or suggestion to solve this will be of great help.</p>\n"},{"tags":["java","multithreading","executorservice","callable","countdownlatch"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1673972186,"post_id":75149095,"comment_id":132613317,"body_markdown":"What do you mean with &quot;this implementation is ok?&quot; ? Do you have any problems with it or does it work as intended? If you have problems, which?","body":"What do you mean with &quot;this implementation is ok?&quot; ? Do you have any problems with it or does it work as intended? If you have problems, which?"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1673973052,"post_id":75149095,"comment_id":132613627,"body_markdown":"OK? It prints the correct answer, so... OK, Right? But the CountDownLatch is redundant with the Futures. `future1.get()` and `future2.get()` _wait_ until the tasks are finished. `countDownLatch.await()` also waits until the tasks are finished. You could completely get rid of the CountDownLatch, and the program still would behave the same way.","body":"OK? It prints the correct answer, so... OK, Right? But the CountDownLatch is redundant with the Futures. <code>future1.get()</code> and <code>future2.get()</code> <i>wait</i> until the tasks are finished. <code>countDownLatch.await()</code> also waits until the tasks are finished. You could completely get rid of the CountDownLatch, and the program still would behave the same way."}],"answers":[{"tags":[],"owner":{"account_id":7916222,"reputation":303,"user_id":5978561,"display_name":"Jake Henry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673972477,"creation_date":1673972477,"answer_id":75149337,"question_id":75149095,"body_markdown":"&gt; I want to know this implementation is ok?\r\n\r\nThat totally depends on what you are trying to achieve with this code.\r\nAs is, your code is simply adding 5 and 4 together and printing the result of 9 to the console. You could simply do that with:\r\n\r\n    System.out.println(5+4);\r\n\r\nIf the point of your code is to use a CountDownLatch effectively, then yes you are using it correctly to detect that the Call() method has been invoked on both Person objects in an asynchronous manner before continuing the main method/thread.","title":"How to return value from Callable with CountDownLatch?","body":"<blockquote>\n<p>I want to know this implementation is ok?</p>\n</blockquote>\n<p>That totally depends on what you are trying to achieve with this code.\nAs is, your code is simply adding 5 and 4 together and printing the result of 9 to the console. You could simply do that with:</p>\n<pre><code>System.out.println(5+4);\n</code></pre>\n<p>If the point of your code is to use a CountDownLatch effectively, then yes you are using it correctly to detect that the Call() method has been invoked on both Person objects in an asynchronous manner before continuing the main method/thread.</p>\n"}],"owner":{"account_id":20102366,"reputation":23,"user_id":14740582,"display_name":"stewie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673972477,"creation_date":1673971340,"question_id":75149095,"body_markdown":"I want to use `CountDownLatch` with `Callabe` interface. I have `Person` class implements `Callable` interface which has `CountDownLatch` and `Integer`, `Person#call()` method returns integer value and within finally block `countDown()` method called. 2 Threads created by `Executors.newFixedThreadPool(2)` and submitted `Person` objects within `Main class`.I want to know this implementation is ok?\r\n\r\n```\r\npublic class Person implements Callable&lt;Integer&gt; {\r\n    private final CountDownLatch countDownLatch;\r\n    private final Integer count;\r\n\r\n    public Person(CountDownLatch countDownLatch, Integer count) {\r\n        this.countDownLatch = countDownLatch;\r\n        this.count = count;\r\n    }\r\n\r\n    @Override\r\n    public Integer call() throws Exception {\r\n        try {\r\n            return count;\r\n        } finally {\r\n            countDownLatch.countDown();\r\n        }\r\n    }\r\n}\r\n```\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) throws InterruptedException, ExecutionException {\r\n        CountDownLatch countDownLatch = new CountDownLatch(2);\r\n        ExecutorService executorService = Executors.newFixedThreadPool(2);\r\n        Future&lt;Integer&gt; future1 = executorService.submit(new Person(countDownLatch, 5));\r\n        Future&lt;Integer&gt; future2 = executorService.submit(new Person(countDownLatch, 4));\r\n        countDownLatch.await();\r\n        executorService.shutdown();\r\n        System.out.println(future1.get() + future2.get());\r\n    }\r\n}\r\n```","title":"How to return value from Callable with CountDownLatch?","body":"<p>I want to use <code>CountDownLatch</code> with <code>Callabe</code> interface. I have <code>Person</code> class implements <code>Callable</code> interface which has <code>CountDownLatch</code> and <code>Integer</code>, <code>Person#call()</code> method returns integer value and within finally block <code>countDown()</code> method called. 2 Threads created by <code>Executors.newFixedThreadPool(2)</code> and submitted <code>Person</code> objects within <code>Main class</code>.I want to know this implementation is ok?</p>\n<pre><code>public class Person implements Callable&lt;Integer&gt; {\n    private final CountDownLatch countDownLatch;\n    private final Integer count;\n\n    public Person(CountDownLatch countDownLatch, Integer count) {\n        this.countDownLatch = countDownLatch;\n        this.count = count;\n    }\n\n    @Override\n    public Integer call() throws Exception {\n        try {\n            return count;\n        } finally {\n            countDownLatch.countDown();\n        }\n    }\n}\n</code></pre>\n<pre><code>public class Main {\n    public static void main(String[] args) throws InterruptedException, ExecutionException {\n        CountDownLatch countDownLatch = new CountDownLatch(2);\n        ExecutorService executorService = Executors.newFixedThreadPool(2);\n        Future&lt;Integer&gt; future1 = executorService.submit(new Person(countDownLatch, 5));\n        Future&lt;Integer&gt; future2 = executorService.submit(new Person(countDownLatch, 4));\n        countDownLatch.await();\n        executorService.shutdown();\n        System.out.println(future1.get() + future2.get());\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","api","rest","maven"],"answers":[{"tags":[],"owner":{"account_id":16831616,"reputation":208,"user_id":12169433,"display_name":"Saurabh Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673972030,"creation_date":1673972030,"answer_id":75149225,"question_id":75148587,"body_markdown":"Create a Custom DTO class which will represent the response from Third party API. What It means is it should have all fields which should map with corresponding required field of response payload of third party API. It will be populated on de-serializing the third party API response. You can take help of feign client here. Its very easy and declarative way to make REST API call.\r\n\r\nCreate a separate response DTO with 2 fields 1 which will have the static value and second the DTO which we created above (which will be populated with the response of third party API). This DTO will be the response from POST &quot;/write&quot;","title":"How to wrap an external API inside a custom API with Spring Boot","body":"<p>Create a Custom DTO class which will represent the response from Third party API. What It means is it should have all fields which should map with corresponding required field of response payload of third party API. It will be populated on de-serializing the third party API response. You can take help of feign client here. Its very easy and declarative way to make REST API call.</p>\n<p>Create a separate response DTO with 2 fields 1 which will have the static value and second the DTO which we created above (which will be populated with the response of third party API). This DTO will be the response from POST &quot;/write&quot;</p>\n"}],"owner":{"account_id":18210790,"reputation":35,"user_id":13253367,"display_name":"Steviee kann"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673972030,"creation_date":1673968859,"question_id":75148587,"body_markdown":"Let&#39;s say I have a third party rest api (&quot;https://example.com/write&quot;) that allows POST requests with the following body structure:\r\n\r\n```\r\n{\r\n&quot;id&quot;: &quot;abc&quot;,\r\n&quot;Config&quot;: {&quot;Comments&quot;:&quot;text&quot;}\r\n}\r\n```\r\nI am completely new to Java and the Spring Framework, but I want to create a custom API with Spring  that **only** allow users to change the **text** part of the body. Other parts of the JSON body should have a fixed value (for example id is always &quot;abc&quot;). Basically, when user input a custom text string, my api will compile the input and consume the external api and get the results from it accordingly\r\n\r\nI understand the basics of @Getmapping / @RequestMapping after doing some research. Here is what I have so far for my custom API, and I am stuck at the post mapping section. \r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\n\r\npublic class ApiController {\r\n    @Autowired\r\n    private Environment env;\r\n\r\n // GET\r\n @RequestMapping(value = &quot;/retrive&quot;, method = { RequestMethod.GET })\r\n    public ResponseEntity&lt;?&gt; retrive (HttpServletRequest request, HttpServletResponse response) throws IOException {\r\n        // URL\r\n        URL u = new URL(&quot;https://example.com/get&quot;);\r\n        HttpURLConnection uc = (HttpURLConnection) u.openConnection();\r\n\r\n        // Create HttpHeaders for ResponseEntity\r\n        HttpHeaders responseHeaders = new HttpHeaders();\r\n        uc.setRequestProperty (&quot;Authentication&quot;, &quot;Bearer &quot;+ env.getProperty(&quot;api-key&quot;)); \r\n\r\n        try (InputStream inputStream = uc.getInputStream();\r\n             OutputStream outputStream = response.getOutputStream();\r\n    )\r\n        {IOUtils.copy(inputStream, outputStream);\r\n    }\r\n        return new ResponseEntity&lt;&gt;(responseHeaders, HttpStatus.OK);\r\n    }\r\n\r\n // POST\r\n @RequestMapping(value = &quot;/write&quot;, method = { RequestMethod.POST },\r\n            consumes = {MediaType.APPLICATION_JSON_VALUE})\r\n      public ResponseEntity process(@RequestBody Root input) throws IOException {\r\n      \r\n      // Operation goes here...       \r\n\r\n       return new ResponseEntity&lt;&gt;(input, HttpStatus.OK);\r\n\r\n    }\r\n\r\npublic class Root{\r\n  private String Comments;\r\n\r\n// Getters and Setters\r\n\r\n}\r\n\r\n```","title":"How to wrap an external API inside a custom API with Spring Boot","body":"<p>Let's say I have a third party rest api (&quot;https://example.com/write&quot;) that allows POST requests with the following body structure:</p>\n<pre><code>{\n&quot;id&quot;: &quot;abc&quot;,\n&quot;Config&quot;: {&quot;Comments&quot;:&quot;text&quot;}\n}\n</code></pre>\n<p>I am completely new to Java and the Spring Framework, but I want to create a custom API with Spring  that <strong>only</strong> allow users to change the <strong>text</strong> part of the body. Other parts of the JSON body should have a fixed value (for example id is always &quot;abc&quot;). Basically, when user input a custom text string, my api will compile the input and consume the external api and get the results from it accordingly</p>\n<p>I understand the basics of @Getmapping / @RequestMapping after doing some research. Here is what I have so far for my custom API, and I am stuck at the post mapping section.</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\n\npublic class ApiController {\n    @Autowired\n    private Environment env;\n\n // GET\n @RequestMapping(value = &quot;/retrive&quot;, method = { RequestMethod.GET })\n    public ResponseEntity&lt;?&gt; retrive (HttpServletRequest request, HttpServletResponse response) throws IOException {\n        // URL\n        URL u = new URL(&quot;https://example.com/get&quot;);\n        HttpURLConnection uc = (HttpURLConnection) u.openConnection();\n\n        // Create HttpHeaders for ResponseEntity\n        HttpHeaders responseHeaders = new HttpHeaders();\n        uc.setRequestProperty (&quot;Authentication&quot;, &quot;Bearer &quot;+ env.getProperty(&quot;api-key&quot;)); \n\n        try (InputStream inputStream = uc.getInputStream();\n             OutputStream outputStream = response.getOutputStream();\n    )\n        {IOUtils.copy(inputStream, outputStream);\n    }\n        return new ResponseEntity&lt;&gt;(responseHeaders, HttpStatus.OK);\n    }\n\n // POST\n @RequestMapping(value = &quot;/write&quot;, method = { RequestMethod.POST },\n            consumes = {MediaType.APPLICATION_JSON_VALUE})\n      public ResponseEntity process(@RequestBody Root input) throws IOException {\n      \n      // Operation goes here...       \n\n       return new ResponseEntity&lt;&gt;(input, HttpStatus.OK);\n\n    }\n\npublic class Root{\n  private String Comments;\n\n// Getters and Setters\n\n}\n\n</code></pre>\n"},{"tags":["java","android","listview","gridview"],"owner":{"account_id":25618608,"reputation":23,"user_id":19390835,"display_name":"Alhe Mora"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673971894,"creation_date":1673967927,"question_id":75148385,"body_markdown":"\r\nI&#39;m having trouble removing the &quot;parent channel shortcut&quot; even though I already have it hidden **(view2.setvisiblity(view.GONE))**. I&#39;m using gridview **android:numColumns=&quot;3&quot;**.The list user display starts from the left side, If I want to remove it, how do I do that?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    @Override\r\n            public int getCount() {\r\n                int count = currentusers.size() + subchannels.size() + stickychannels.size();\r\n                if ((curchannel != null) &amp;&amp; (curchannel.nParentID &gt; 0)) {\r\n                    count++; // include parent channel shortcut\r\n                }\r\n                return count;\r\n            }\r\n    \r\n            @Override\r\n            public Object getItem(int position) {\r\n    \r\n                if (position &lt; stickychannels.size()) {\r\n                    return stickychannels.get(position);\r\n                }\r\n    \r\n                // sticky channels are first so subtract these\r\n                position -= stickychannels.size();\r\n    \r\n                if (position &lt; currentusers.size()) {\r\n                    return currentusers.get(position);\r\n                }\r\n    \r\n                // users are first so subtract these\r\n                position -= currentusers.size();\r\n    \r\n                if ((curchannel != null) &amp;&amp; (curchannel.nParentID &gt; 0)) {\r\n                    if(position == 0) {\r\n                        Channel parent = ttservice.getChannels().get(curchannel.nParentID);\r\n    \r\n                        if(parent != null)\r\n                            return parent;\r\n                        return new Channel();\r\n                    }\r\n    \r\n                    position--; // subtract parent channel shortcut\r\n                }\r\n                return subchannels.get(position);\r\n            }\r\n    \r\n            @Override\r\n            public long getItemId(int position) {\r\n                return position;\r\n            }\r\n    \r\n            @Override\r\n            public int getItemViewType(int position) {\r\n    \r\n                if (position &lt; stickychannels.size())\r\n                    return INFO_VIEW_TYPE;\r\n    \r\n                // sticky channels are first so subtract these\r\n                position -= stickychannels.size();\r\n    \r\n                if (position &lt; currentusers.size())\r\n                    return USER_VIEW_TYPE;\r\n    \r\n                // users are first so subtract these\r\n                position -= currentusers.size();\r\n    \r\n                if ((curchannel != null) &amp;&amp; (curchannel.nParentID &gt; 0)) {\r\n                    if (position == 0) {\r\n                        return PARENT_CHANNEL_VIEW_TYPE;\r\n                    }\r\n    \r\n                    position--; // subtract parent channel shortcut\r\n                }\r\n    \r\n                return CHANNEL_VIEW_TYPE;\r\n            }\r\n    \r\n            @Override\r\n            public int getViewTypeCount() {\r\n                return VIEW_TYPE_COUNT;\r\n            }\r\n    \r\n            @Override\r\n            public View getView(int position, View convertView, ViewGroup parent) {\r\n    \r\n                Object item = getItem(position);\r\n    \r\n                if(item instanceof Channel) {\r\n    \r\n                    final Channel channel = (Channel) item;\r\n    \r\n                    switch (getItemViewType(position)) {\r\n                        case PARENT_CHANNEL_VIEW_TYPE :\r\n                            // show parent channel shortcut\r\n                            if (convertView == null ||\r\n                                    convertView.findViewById(R.id.parentname) == null)\r\n                                convertView = inflater.inflate(R.layout.item_channel_back, parent, false);\r\n                                convertView.setVisibility(view.GONE)\r\n                            break;\r\n    \r\n                        case CHANNEL_VIEW_TYPE :\r\n                            if (convertView == null ||\r\n                                    convertView.findViewById(R.id.channelname) == null)\r\n                                convertView = inflater.inflate(R.layout.item_channel, parent, false);\r\n    \r\n                            ImageView chanicon = convertView.findViewById(R.id.channelicon);\r\n                            TextView name = convertView.findViewById(R.id.channelname);\r\n                            TextView topic = convertView.findViewById(R.id.chantopic);\r\n                            Button join = convertView.findViewById(R.id.join_btn);\r\n                            int icon_resource = R.drawable.channel_orange;\r\n                            if(channel.bPassword) {\r\n                                icon_resource = R.drawable.channel_pink;\r\n                                chanicon.setContentDescription(getString(R.string.text_passwdprot));\r\n                                chanicon.setImportantForAccessibility(View.IMPORTANT_FOR_ACCESSIBILITY_YES);\r\n                            }\r\n                            else {\r\n                                chanicon.setContentDescription(null);\r\n                                chanicon.setImportantForAccessibility(View.IMPORTANT_FOR_ACCESSIBILITY_NO);\r\n                            }\r\n                            chanicon.setImageResource(icon_resource);\r\n    \r\n                            if(channel.nParentID == 0) {\r\n                                // show server name as channel name for root channel\r\n                                ServerProperties srvprop = new ServerProperties();\r\n                                ttclient.getServerProperties(srvprop);\r\n                                name.setText(srvprop.szServerName);\r\n                            }\r\n                            else {\r\n                                name.setText(channel.szName);\r\n                            }\r\n                            topic.setText(channel.szTopic);\r\n    \r\n                            OnClickListener listener = v -&gt; {\r\n                                if (v.getId() == R.id.join_btn) {\r\n                                    joinChannel(channel);\r\n                                }\r\n                            };\r\n                            join.setOnClickListener(listener);\r\n                            join.setAccessibilityDelegate(accessibilityAssistant);\r\n                            join.setEnabled(channel.nChannelID != ttclient.getMyChannelID());\r\n    \r\n                            if (channel.nMaxUsers &gt; 0) {\r\n                                int population = Utils.getUsers(channel.nChannelID, ttservice.getUsers()).size();\r\n                                ((TextView)convertView.findViewById(R.id.population)).setText((population &gt; 0) ? String.format(&quot;(%d)&quot;, population) : &quot;&quot;);\r\n                            }\r\n    \r\n                            break;\r\n    \r\n                        case INFO_VIEW_TYPE :\r\n                            if (convertView == null ||\r\n                                    convertView.findViewById(R.id.titletext) == null)\r\n                                convertView = inflater.inflate(R.layout.item_info, parent, false);\r\n                            TextView title = convertView.findViewById(R.id.titletext);\r\n                            TextView details = convertView.findViewById(R.id.infodetails);\r\n                            title.setText(channel.szName);\r\n                            details.setText(channel.szTopic);\r\n                            break;\r\n                    }\r\n                }\r\n                else if(item instanceof User) {\r\n                    if (convertView == null ||\r\n                        convertView.findViewById(R.id.nickname) == null)\r\n                        convertView = inflater.inflate(R.layout.item_user, parent, false);\r\n                    ImageView usericon = convertView.findViewById(R.id.usericon);\r\n                    TextView nickname = convertView.findViewById(R.id.nickname);\r\n                    TextView status = convertView.findViewById(R.id.status);\r\n                    final User user = (User) item;\r\n                    String name = Utils.getDisplayName(getBaseContext(), user);\r\n                    nickname.setText(name);\r\n                    status.setText(user.szStatusMsg);\r\n                    \r\n                    boolean talking = (user.uUserState &amp; UserState.USERSTATE_VOICE) != 0;\r\n                    boolean female = (user.nStatusMode &amp; TeamTalkConstants.STATUSMODE_FEMALE) != 0;\r\n                    boolean away =  (user.nStatusMode &amp; TeamTalkConstants.STATUSMODE_AWAY) != 0;\r\n                    int icon_resource;\r\n                    \r\n                    if(user.nUserID == ttservice.getTTInstance().getMyUserID()) {\r\n                        talking = ttservice.isVoiceTransmitting();\r\n                    }\r\n                    if(talking) {\r\n                        if(female) {\r\n                            icon_resource = R.drawable.woman_green;\r\n                            nickname.setContentDescription(getString(R.string.user_state_now_speaking, name) + &quot; &#128105;&quot;);\r\n                        }\r\n                        else {\r\n                            icon_resource = R.drawable.man_green;\r\n                            nickname.setContentDescription(getString(R.string.user_state_now_speaking, name) + &quot; &#128104;&quot;);\r\n                        }\r\n                    }\r\n                    else {\r\n                        if(female) {\r\n                            icon_resource = away? R.drawable.woman_orange : R.drawable.woman_blue;\r\n                            nickname.setContentDescription(name + &quot; &#128105;&quot;);\r\n                        }\r\n                        else {\r\n                            icon_resource = away? R.drawable.man_orange : R.drawable.man_blue;\r\n                            nickname.setContentDescription(name + &quot; &#128104;&quot;);\r\n                        }\r\n                    }\r\n                    status.setContentDescription(away ? getString(R.string.user_state_away) : null);\r\n    \r\n                    usericon.setImageResource(icon_resource);\r\n                    usericon.setImportantForAccessibility(View.IMPORTANT_FOR_ACCESSIBILITY_NO);\r\n                    \r\n                    Button sndmsg = convertView.findViewById(R.id.msg_btn);\r\n                    OnClickListener listener = v -&gt; {\r\n                        if (v.getId() == R.id.msg_btn) {\r\n                            Intent intent = new Intent(MainActivity.this, TextMessageActivity.class);\r\n                            startActivity(intent.putExtra(TextMessageActivity.EXTRA_USERID, user.nUserID));\r\n                        }\r\n                    };\r\n                    sndmsg.setOnClickListener(listener);\r\n                    sndmsg.setAccessibilityDelegate(accessibilityAssistant);\r\n                }\r\n                convertView.setAccessibilityDelegate(accessibilityAssistant);\r\n                return convertView;\r\n            }\r\nThe list user display starts from the left side\r\n\r\n  [1]: https://i.stack.imgur.com/DBdtc.png","title":"Display list user with gridview android studio","body":"<p>I'm having trouble removing the &quot;parent channel shortcut&quot; even though I already have it hidden <strong>(view2.setvisiblity(view.GONE))</strong>. I'm using gridview <strong>android:numColumns=&quot;3&quot;</strong>.The list user display starts from the left side, If I want to remove it, how do I do that?</p>\n<p><a href=\"https://i.stack.imgur.com/DBdtc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DBdtc.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>@Override\n        public int getCount() {\n            int count = currentusers.size() + subchannels.size() + stickychannels.size();\n            if ((curchannel != null) &amp;&amp; (curchannel.nParentID &gt; 0)) {\n                count++; // include parent channel shortcut\n            }\n            return count;\n        }\n\n        @Override\n        public Object getItem(int position) {\n\n            if (position &lt; stickychannels.size()) {\n                return stickychannels.get(position);\n            }\n\n            // sticky channels are first so subtract these\n            position -= stickychannels.size();\n\n            if (position &lt; currentusers.size()) {\n                return currentusers.get(position);\n            }\n\n            // users are first so subtract these\n            position -= currentusers.size();\n\n            if ((curchannel != null) &amp;&amp; (curchannel.nParentID &gt; 0)) {\n                if(position == 0) {\n                    Channel parent = ttservice.getChannels().get(curchannel.nParentID);\n\n                    if(parent != null)\n                        return parent;\n                    return new Channel();\n                }\n\n                position--; // subtract parent channel shortcut\n            }\n            return subchannels.get(position);\n        }\n\n        @Override\n        public long getItemId(int position) {\n            return position;\n        }\n\n        @Override\n        public int getItemViewType(int position) {\n\n            if (position &lt; stickychannels.size())\n                return INFO_VIEW_TYPE;\n\n            // sticky channels are first so subtract these\n            position -= stickychannels.size();\n\n            if (position &lt; currentusers.size())\n                return USER_VIEW_TYPE;\n\n            // users are first so subtract these\n            position -= currentusers.size();\n\n            if ((curchannel != null) &amp;&amp; (curchannel.nParentID &gt; 0)) {\n                if (position == 0) {\n                    return PARENT_CHANNEL_VIEW_TYPE;\n                }\n\n                position--; // subtract parent channel shortcut\n            }\n\n            return CHANNEL_VIEW_TYPE;\n        }\n\n        @Override\n        public int getViewTypeCount() {\n            return VIEW_TYPE_COUNT;\n        }\n\n        @Override\n        public View getView(int position, View convertView, ViewGroup parent) {\n\n            Object item = getItem(position);\n\n            if(item instanceof Channel) {\n\n                final Channel channel = (Channel) item;\n\n                switch (getItemViewType(position)) {\n                    case PARENT_CHANNEL_VIEW_TYPE :\n                        // show parent channel shortcut\n                        if (convertView == null ||\n                                convertView.findViewById(R.id.parentname) == null)\n                            convertView = inflater.inflate(R.layout.item_channel_back, parent, false);\n                            convertView.setVisibility(view.GONE)\n                        break;\n\n                    case CHANNEL_VIEW_TYPE :\n                        if (convertView == null ||\n                                convertView.findViewById(R.id.channelname) == null)\n                            convertView = inflater.inflate(R.layout.item_channel, parent, false);\n\n                        ImageView chanicon = convertView.findViewById(R.id.channelicon);\n                        TextView name = convertView.findViewById(R.id.channelname);\n                        TextView topic = convertView.findViewById(R.id.chantopic);\n                        Button join = convertView.findViewById(R.id.join_btn);\n                        int icon_resource = R.drawable.channel_orange;\n                        if(channel.bPassword) {\n                            icon_resource = R.drawable.channel_pink;\n                            chanicon.setContentDescription(getString(R.string.text_passwdprot));\n                            chanicon.setImportantForAccessibility(View.IMPORTANT_FOR_ACCESSIBILITY_YES);\n                        }\n                        else {\n                            chanicon.setContentDescription(null);\n                            chanicon.setImportantForAccessibility(View.IMPORTANT_FOR_ACCESSIBILITY_NO);\n                        }\n                        chanicon.setImageResource(icon_resource);\n\n                        if(channel.nParentID == 0) {\n                            // show server name as channel name for root channel\n                            ServerProperties srvprop = new ServerProperties();\n                            ttclient.getServerProperties(srvprop);\n                            name.setText(srvprop.szServerName);\n                        }\n                        else {\n                            name.setText(channel.szName);\n                        }\n                        topic.setText(channel.szTopic);\n\n                        OnClickListener listener = v -&gt; {\n                            if (v.getId() == R.id.join_btn) {\n                                joinChannel(channel);\n                            }\n                        };\n                        join.setOnClickListener(listener);\n                        join.setAccessibilityDelegate(accessibilityAssistant);\n                        join.setEnabled(channel.nChannelID != ttclient.getMyChannelID());\n\n                        if (channel.nMaxUsers &gt; 0) {\n                            int population = Utils.getUsers(channel.nChannelID, ttservice.getUsers()).size();\n                            ((TextView)convertView.findViewById(R.id.population)).setText((population &gt; 0) ? String.format(&quot;(%d)&quot;, population) : &quot;&quot;);\n                        }\n\n                        break;\n\n                    case INFO_VIEW_TYPE :\n                        if (convertView == null ||\n                                convertView.findViewById(R.id.titletext) == null)\n                            convertView = inflater.inflate(R.layout.item_info, parent, false);\n                        TextView title = convertView.findViewById(R.id.titletext);\n                        TextView details = convertView.findViewById(R.id.infodetails);\n                        title.setText(channel.szName);\n                        details.setText(channel.szTopic);\n                        break;\n                }\n            }\n            else if(item instanceof User) {\n                if (convertView == null ||\n                    convertView.findViewById(R.id.nickname) == null)\n                    convertView = inflater.inflate(R.layout.item_user, parent, false);\n                ImageView usericon = convertView.findViewById(R.id.usericon);\n                TextView nickname = convertView.findViewById(R.id.nickname);\n                TextView status = convertView.findViewById(R.id.status);\n                final User user = (User) item;\n                String name = Utils.getDisplayName(getBaseContext(), user);\n                nickname.setText(name);\n                status.setText(user.szStatusMsg);\n                \n                boolean talking = (user.uUserState &amp; UserState.USERSTATE_VOICE) != 0;\n                boolean female = (user.nStatusMode &amp; TeamTalkConstants.STATUSMODE_FEMALE) != 0;\n                boolean away =  (user.nStatusMode &amp; TeamTalkConstants.STATUSMODE_AWAY) != 0;\n                int icon_resource;\n                \n                if(user.nUserID == ttservice.getTTInstance().getMyUserID()) {\n                    talking = ttservice.isVoiceTransmitting();\n                }\n                if(talking) {\n                    if(female) {\n                        icon_resource = R.drawable.woman_green;\n                        nickname.setContentDescription(getString(R.string.user_state_now_speaking, name) + &quot; 👩&quot;);\n                    }\n                    else {\n                        icon_resource = R.drawable.man_green;\n                        nickname.setContentDescription(getString(R.string.user_state_now_speaking, name) + &quot; 👨&quot;);\n                    }\n                }\n                else {\n                    if(female) {\n                        icon_resource = away? R.drawable.woman_orange : R.drawable.woman_blue;\n                        nickname.setContentDescription(name + &quot; 👩&quot;);\n                    }\n                    else {\n                        icon_resource = away? R.drawable.man_orange : R.drawable.man_blue;\n                        nickname.setContentDescription(name + &quot; 👨&quot;);\n                    }\n                }\n                status.setContentDescription(away ? getString(R.string.user_state_away) : null);\n\n                usericon.setImageResource(icon_resource);\n                usericon.setImportantForAccessibility(View.IMPORTANT_FOR_ACCESSIBILITY_NO);\n                \n                Button sndmsg = convertView.findViewById(R.id.msg_btn);\n                OnClickListener listener = v -&gt; {\n                    if (v.getId() == R.id.msg_btn) {\n                        Intent intent = new Intent(MainActivity.this, TextMessageActivity.class);\n                        startActivity(intent.putExtra(TextMessageActivity.EXTRA_USERID, user.nUserID));\n                    }\n                };\n                sndmsg.setOnClickListener(listener);\n                sndmsg.setAccessibilityDelegate(accessibilityAssistant);\n            }\n            convertView.setAccessibilityDelegate(accessibilityAssistant);\n            return convertView;\n        }\n</code></pre>\n<p>The list user display starts from the left side</p>\n"},{"tags":["java","class","constructor","private","abstract"],"comments":[{"owner":{"account_id":56144,"reputation":87639,"user_id":168175,"accept_rate":88,"display_name":"Flexo"},"score":0,"creation_date":1343113509,"post_id":11625635,"comment_id":15395995,"body_markdown":"I didn&#39;t vote on this question but I suspect the people downvoting are objecting to *&quot;Maybe there is more elegant usage&quot;* - that&#39;s pretty broad and sounds quite rhetorical.","body":"I didn&#39;t vote on this question but I suspect the people downvoting are objecting to <i>&quot;Maybe there is more elegant usage&quot;</i> - that&#39;s pretty broad and sounds quite rhetorical."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":2,"creation_date":1343113668,"post_id":11625635,"comment_id":15396049,"body_markdown":"The question is: *&quot; In Java what is the purpose of using private constructor in abstract class?&quot;*. That seems specific enough to me.","body":"The question is: <i>&quot; In Java what is the purpose of using private constructor in abstract class?&quot;</i>. That seems specific enough to me."},{"owner":{"account_id":217708,"reputation":23000,"user_id":473637,"accept_rate":88,"display_name":"Jeshurun"},"score":3,"creation_date":1343114144,"post_id":11625635,"comment_id":15396213,"body_markdown":"when you get questions like this in interviews, there usually isn&#39;t one right answer. The interviewer might simply be looking to test your thought process.","body":"when you get questions like this in interviews, there usually isn&#39;t one right answer. The interviewer might simply be looking to test your thought process."},{"owner":{"account_id":3475990,"reputation":791,"user_id":2909166,"display_name":"Kurt Schultz"},"score":0,"creation_date":1456940537,"post_id":11625635,"comment_id":59181975,"body_markdown":"If you change the initial question to &quot;In Java what is the purpose of using a private no-argument constructor in an abstract class?&quot; then there is a good answer.  It is to force sub-classes to provide constructors which match the signature of another constructor in the abstract class which contains required parameters.  The compiler will enforce this which helps to prevent errors in subclasses.   If the question is re-opened I can provide detailed example code.","body":"If you change the initial question to &quot;In Java what is the purpose of using a private no-argument constructor in an abstract class?&quot; then there is a good answer.  It is to force sub-classes to provide constructors which match the signature of another constructor in the abstract class which contains required parameters.  The compiler will enforce this which helps to prevent errors in subclasses.   If the question is re-opened I can provide detailed example code."}],"answers":[{"tags":[],"owner":{"account_id":1424974,"reputation":4002,"user_id":1348753,"accept_rate":58,"display_name":"ManMohan Vyas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1343113215,"creation_date":1343113215,"answer_id":11625704,"question_id":11625635,"body_markdown":"no other elegant use is possible","title":"Private constructor in abstract class","body":"<p>no other elegant use is possible</p>\n"},{"tags":[],"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1343113237,"creation_date":1343113237,"answer_id":11625709,"question_id":11625635,"body_markdown":"Only thing I can think of is reusing common code shared by the other (protected) constructors. They could then call the private constructor in their first line.","title":"Private constructor in abstract class","body":"<p>Only thing I can think of is reusing common code shared by the other (protected) constructors. They could then call the private constructor in their first line.</p>\n"},{"tags":[],"owner":{"account_id":217708,"reputation":23000,"user_id":473637,"accept_rate":88,"display_name":"Jeshurun"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1343114070,"creation_date":1343113693,"answer_id":11625792,"question_id":11625635,"body_markdown":"Sometimes, the default no-arg constructor is made private, and another constructor which accepts arguments is provided. This constructor might then invoke other private constructor(s) .  This forces implementations to supply these arguments, which might ensure some variable is always initialized, although this is not common practice (in my experience). If this is the requirement, you would be better off checking your variables and throwing an `IllegalArgumentExeption`, explaining why the variable needs to be initialized.\r\n\r\nIf you create an abstract class with *only* private constructors, the class is practically useless as no instances can ever be created. If the intention is to create a utility class with only static methods (like the `Math` class in the `java.lang` package), private constructors are acceptable, however the class should be marked final instead, as marking the class as abstract implies the class is to be extended.","title":"Private constructor in abstract class","body":"<p>Sometimes, the default no-arg constructor is made private, and another constructor which accepts arguments is provided. This constructor might then invoke other private constructor(s) .  This forces implementations to supply these arguments, which might ensure some variable is always initialized, although this is not common practice (in my experience). If this is the requirement, you would be better off checking your variables and throwing an <code>IllegalArgumentExeption</code>, explaining why the variable needs to be initialized.</p>\n\n<p>If you create an abstract class with <em>only</em> private constructors, the class is practically useless as no instances can ever be created. If the intention is to create a utility class with only static methods (like the <code>Math</code> class in the <code>java.lang</code> package), private constructors are acceptable, however the class should be marked final instead, as marking the class as abstract implies the class is to be extended.</p>\n"},{"tags":[],"owner":{"account_id":1557597,"reputation":8312,"user_id":1448212,"display_name":"Richard Sitze"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1343115835,"creation_date":1343114273,"answer_id":11625940,"question_id":11625635,"body_markdown":"1. As mentioned, to be used as a common, internal-use only constructor.\r\n\r\n2. Abstract or not abstract, it&#39;s not uncommon to declare a private default constructor on a class containing only static public methods [helper methods] to prevent instantiating the class.\r\n","title":"Private constructor in abstract class","body":"<ol>\n<li><p>As mentioned, to be used as a common, internal-use only constructor.</p></li>\n<li><p>Abstract or not abstract, it's not uncommon to declare a private default constructor on a class containing only static public methods [helper methods] to prevent instantiating the class.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1673971527,"creation_date":1343115267,"answer_id":11626160,"question_id":11625635,"body_markdown":"If the `private` constructor is the **only** constructor of the class, then the reason is clear: to prevent subclassing. Some classes serve only as holders for static fields/methods and do not want to be either instantiated or subclassed. Note that the `abstract` modifier is in this case redundant&amp;mdash;with or without it there would be no instantiation possible. As @JB Nizet notes below, the `abstract` modifier is also bad practice because it sends wrong signals to the class&#39;s clients. The class should in fact have been `final`.\r\n\r\nThere is another use case, quite rare though: you can have an `abstract class` with only `private` constructors that contains its own subclasses as nested classes. This idiom makes sure those nested classes are the only subclasses. In fact, `enum`s in Java use just this idiom.\r\n\r\nIf there are other constructors around, well then there&#39;s really nothing special about the `private` constructor. It gets used in an `abstract` class just as in any other.","title":"Private constructor in abstract class","body":"<p>If the <code>private</code> constructor is the <strong>only</strong> constructor of the class, then the reason is clear: to prevent subclassing. Some classes serve only as holders for static fields/methods and do not want to be either instantiated or subclassed. Note that the <code>abstract</code> modifier is in this case redundant—with or without it there would be no instantiation possible. As @JB Nizet notes below, the <code>abstract</code> modifier is also bad practice because it sends wrong signals to the class's clients. The class should in fact have been <code>final</code>.</p>\n<p>There is another use case, quite rare though: you can have an <code>abstract class</code> with only <code>private</code> constructors that contains its own subclasses as nested classes. This idiom makes sure those nested classes are the only subclasses. In fact, <code>enum</code>s in Java use just this idiom.</p>\n<p>If there are other constructors around, well then there's really nothing special about the <code>private</code> constructor. It gets used in an <code>abstract</code> class just as in any other.</p>\n"},{"tags":[],"owner":{"account_id":8129122,"reputation":1496,"user_id":6122976,"display_name":"wilmol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561716413,"creation_date":1561716413,"answer_id":56804940,"question_id":11625635,"body_markdown":"A private constructor in an abstract class can also serve the purpose of ```sealed``` classes (like in Scala or Kotlin etc.). Since you can still provide subclasses from within the abstract class, but outsiders cannot extend/implement (as @Marko Topolnik answered).\r\n\r\nIt does look like we will be getting ```sealed interface``` to more cleanly support this. See https://openjdk.java.net/jeps/8222777","title":"Private constructor in abstract class","body":"<p>A private constructor in an abstract class can also serve the purpose of <code>sealed</code> classes (like in Scala or Kotlin etc.). Since you can still provide subclasses from within the abstract class, but outsiders cannot extend/implement (as @Marko Topolnik answered).</p>\n\n<p>It does look like we will be getting <code>sealed interface</code> to more cleanly support this. See <a href=\"https://openjdk.java.net/jeps/8222777\" rel=\"nofollow noreferrer\">https://openjdk.java.net/jeps/8222777</a></p>\n"},{"tags":[],"owner":{"account_id":5261556,"reputation":51,"user_id":4202962,"display_name":"Kevin LeBlanc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574169883,"creation_date":1574169883,"answer_id":58935152,"question_id":11625635,"body_markdown":"A final class with only private constructors is a design used by singletons and multitons.\r\n\r\nAn abstract class which has only private constructors is the only way I&#39;ve seen to prevent a class from being instantiated.  I have seen it used to create utility classes (which only have static methods and/or members).\r\n\r\nAs for setting up user expectations I see that https://docs.oracle.com/javase/tutorial/java/IandI/abstract.html states &quot;Abstract classes cannot be instantiated, but they **can be** subclassed.&quot;  I note that it does not state any intention that they are expected to be subclassed.\r\n\r\nI also note however that viewing some Java source code I find the following designs are used (none of which are abstract classes with only private constructors):\r\n\r\n - Final utility classes with private constructors\r\n  - http://developer.classpath.org/doc/java/lang/Math-source.html\r\n  - http://developer.classpath.org/doc/java/lang/System-source.html\r\n - Final utility classes with private constructors which\r\n   throw exceptions\r\n  - http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/Objects.java\r\n - Neither abstract nor final utility classes with private constructors\r\n  - http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/ArrayPrefixHelpers.java\r\n  - http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/Arrays.java\r\n  - https://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/Collections.java\r\n  - http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/FormattableFlags.java\r\n - Looks like a utility, but apparently can be instantiated (no private\r\n   constructors)\r\n  - http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/ArraysParallelSortHelpers.java\r\n","title":"Private constructor in abstract class","body":"<p>A final class with only private constructors is a design used by singletons and multitons.</p>\n\n<p>An abstract class which has only private constructors is the only way I've seen to prevent a class from being instantiated.  I have seen it used to create utility classes (which only have static methods and/or members).</p>\n\n<p>As for setting up user expectations I see that <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/abstract.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/IandI/abstract.html</a> states \"Abstract classes cannot be instantiated, but they <strong>can be</strong> subclassed.\"  I note that it does not state any intention that they are expected to be subclassed.</p>\n\n<p>I also note however that viewing some Java source code I find the following designs are used (none of which are abstract classes with only private constructors):</p>\n\n<ul>\n<li>Final utility classes with private constructors\n\n<ul>\n<li><a href=\"http://developer.classpath.org/doc/java/lang/Math-source.html\" rel=\"nofollow noreferrer\">http://developer.classpath.org/doc/java/lang/Math-source.html</a></li>\n<li><a href=\"http://developer.classpath.org/doc/java/lang/System-source.html\" rel=\"nofollow noreferrer\">http://developer.classpath.org/doc/java/lang/System-source.html</a></li>\n</ul></li>\n<li>Final utility classes with private constructors which\nthrow exceptions\n\n<ul>\n<li><a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/Objects.java\" rel=\"nofollow noreferrer\">http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/Objects.java</a></li>\n</ul></li>\n<li>Neither abstract nor final utility classes with private constructors\n\n<ul>\n<li><a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/ArrayPrefixHelpers.java\" rel=\"nofollow noreferrer\">http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/ArrayPrefixHelpers.java</a></li>\n<li><a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/Arrays.java\" rel=\"nofollow noreferrer\">http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/Arrays.java</a></li>\n<li><a href=\"https://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/Collections.java\" rel=\"nofollow noreferrer\">https://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/Collections.java</a></li>\n<li><a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/FormattableFlags.java\" rel=\"nofollow noreferrer\">http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/FormattableFlags.java</a></li>\n</ul></li>\n<li>Looks like a utility, but apparently can be instantiated (no private\nconstructors)\n\n<ul>\n<li><a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/ArraysParallelSortHelpers.java\" rel=\"nofollow noreferrer\">http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/ArraysParallelSortHelpers.java</a></li>\n</ul></li>\n</ul>\n"}],"owner":{"account_id":1381946,"reputation":1068,"user_id":1314748,"accept_rate":75,"display_name":"Chris"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17686,"favorite_count":0,"down_vote_count":4,"up_vote_count":20,"accepted_answer_id":11626160,"answer_count":7,"score":16,"last_activity_date":1673971527,"creation_date":1343112894,"question_id":11625635,"body_markdown":"In Java what is the purpose of using private constructor in an abstract class? \r\n\r\nIn a review I got this question, and I am curious, for what situation we need to use the constructor in such way?\r\n\r\nI think it can be used in pair with another constructor in abstract class, but this is very trivial. Also it can be used for constructing static inner classes which will excend abstract class.\r\n\r\nMaybe there is more elegant usage?","title":"Private constructor in abstract class","body":"<p>In Java what is the purpose of using private constructor in an abstract class? </p>\n\n<p>In a review I got this question, and I am curious, for what situation we need to use the constructor in such way?</p>\n\n<p>I think it can be used in pair with another constructor in abstract class, but this is very trivial. Also it can be used for constructing static inner classes which will excend abstract class.</p>\n\n<p>Maybe there is more elegant usage?</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","pre-signed-url"],"comments":[{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1673968318,"post_id":75148357,"comment_id":132611879,"body_markdown":"That&#39;s not a [pre-signed URL](https://docs.aws.amazon.com/AmazonS3/latest/userguide/using-presigned-url.html).","body":"That&#39;s not a <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/using-presigned-url.html\" rel=\"nofollow noreferrer\">pre-signed URL</a>."}],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673970631,"creation_date":1673970008,"answer_id":75148811,"question_id":75148357,"body_markdown":"The URL you are showing is not a Pre-signed URL. A Pre-signed URL look like this:\r\n\r\nhttps://bucketxxxxxx.s3.amazonaws.com/note.txt?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Date=20230117T153509Z&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Expires=3599&amp;X-Amz-Credential=AKIA33JWY3BX2TYWxxxxxxxxxxx%2Fus-east-1%2Fs3%2Faws4_request&amp;X-Amz-Signature=e55142af548e46fc2870bb03331d0e9aa9ffbd21xxxxxxxxxxxxxxxxxx\r\n\r\nOnce you generate a valid Pre-signed URL, you do not need a proxy. A user can download the object in the given time window - which you define when you create **GetObjectPresignRequest** . \r\n\r\n    GetObjectPresignRequest getObjectPresignRequest = GetObjectPresignRequest.builder()\r\n                       .signatureDuration(Duration.ofMinutes(60))\r\n                       .getObjectRequest(getObjectRequest)\r\n                       .build();\r\n\r\nYou can see the proper way to create a pre-signed URL using AWS SDK for Java v2 in the **AWS Code Github** here:\r\n\r\nhttps://github.com/awsdocs/aws-doc-sdk-examples/blob/main/javav2/example_code/s3/src/main/java/com/example/s3/GetObjectPresignedUrl.java \r\n\r\nTO read more about using the AWS SDK for Java v2 to create them, see this topic in the **AWS Java V2 Developer Guide**.\r\n\r\n[Working with Amazon S3 presigned URLs][1]\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-s3-presign.html","title":"Amazon S3 signed urls accessible from outside world","body":"<p>The URL you are showing is not a Pre-signed URL. A Pre-signed URL look like this:</p>\n<p><a href=\"https://bucketxxxxxx.s3.amazonaws.com/note.txt?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Date=20230117T153509Z&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Expires=3599&amp;X-Amz-Credential=AKIA33JWY3BX2TYWxxxxxxxxxxx%2Fus-east-1%2Fs3%2Faws4_request&amp;X-Amz-Signature=e55142af548e46fc2870bb03331d0e9aa9ffbd21xxxxxxxxxxxxxxxxxx\" rel=\"nofollow noreferrer\">https://bucketxxxxxx.s3.amazonaws.com/note.txt?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Date=20230117T153509Z&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Expires=3599&amp;X-Amz-Credential=AKIA33JWY3BX2TYWxxxxxxxxxxx%2Fus-east-1%2Fs3%2Faws4_request&amp;X-Amz-Signature=e55142af548e46fc2870bb03331d0e9aa9ffbd21xxxxxxxxxxxxxxxxxx</a></p>\n<p>Once you generate a valid Pre-signed URL, you do not need a proxy. A user can download the object in the given time window - which you define when you create <strong>GetObjectPresignRequest</strong> .</p>\n<pre><code>GetObjectPresignRequest getObjectPresignRequest = GetObjectPresignRequest.builder()\n                   .signatureDuration(Duration.ofMinutes(60))\n                   .getObjectRequest(getObjectRequest)\n                   .build();\n</code></pre>\n<p>You can see the proper way to create a pre-signed URL using AWS SDK for Java v2 in the <strong>AWS Code Github</strong> here:</p>\n<p><a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/blob/main/javav2/example_code/s3/src/main/java/com/example/s3/GetObjectPresignedUrl.java\" rel=\"nofollow noreferrer\">https://github.com/awsdocs/aws-doc-sdk-examples/blob/main/javav2/example_code/s3/src/main/java/com/example/s3/GetObjectPresignedUrl.java</a></p>\n<p>TO read more about using the AWS SDK for Java v2 to create them, see this topic in the <strong>AWS Java V2 Developer Guide</strong>.</p>\n<p><a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-s3-presign.html\" rel=\"nofollow noreferrer\">Working with Amazon S3 presigned URLs</a></p>\n"}],"owner":{"account_id":1410257,"reputation":2118,"user_id":1337007,"accept_rate":72,"display_name":"ghostrider"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":351,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1673971082,"creation_date":1673967794,"question_id":75148357,"body_markdown":"So we have a use case where we need to be able to download the `S3` files from the outside world on the internet. For this we are creating `s3 pre signed url` as below. My doubt is how can we access this on the internet? Are these urls accessible by default on the internet. Or do we need to create a proxy. \r\n\r\n    https://&lt;bucket-name&gt;.s3.amazonaws.com/&lt;filename&gt;&lt;some other parameters&gt;\r\n\r\n","title":"Amazon S3 signed urls accessible from outside world","body":"<p>So we have a use case where we need to be able to download the <code>S3</code> files from the outside world on the internet. For this we are creating <code>s3 pre signed url</code> as below. My doubt is how can we access this on the internet? Are these urls accessible by default on the internet. Or do we need to create a proxy.</p>\n<pre><code>https://&lt;bucket-name&gt;.s3.amazonaws.com/&lt;filename&gt;&lt;some other parameters&gt;\n</code></pre>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674004510,"post_id":75143618,"comment_id":132621372,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":27433137,"reputation":11,"user_id":20929462,"display_name":"M Thomas Mary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673971062,"creation_date":1673971062,"answer_id":75149033,"question_id":75143618,"body_markdown":"I fixed it by myself:\r\n\r\n    public static void log(String message) throws IOException { \r\n        \t      PrintWriter out = new PrintWriter(new FileWriter(&quot;D:/MOV/Working.txt&quot;, true), true);\r\n        \t      out.println(message);\r\n        \t      out.close();\r\n        \t    }","title":"How to append the console output to a txt file in Selenium JAVA inside for loop?","body":"<p>I fixed it by myself:</p>\n<pre><code>public static void log(String message) throws IOException { \n              PrintWriter out = new PrintWriter(new FileWriter(&quot;D:/MOV/Working.txt&quot;, true), true);\n              out.println(message);\n              out.close();\n            }\n</code></pre>\n"}],"owner":{"account_id":27433137,"reputation":11,"user_id":20929462,"display_name":"M Thomas Mary"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673971062,"creation_date":1673943979,"question_id":75143618,"body_markdown":"```\r\npublic static void name(String line) throws IOException {\r\n\t\t\r\n\t\t  String TestFile = &quot;D:/temp.txt&quot;;\r\n\t\t  File FC = new File(TestFile);//Created object of java File class.\r\n\t\t  FC.createNewFile();//Create file.\r\n\t\t  \r\n\t\t\r\n\t\t  FileWriter FW = new FileWriter(TestFile);\r\n\t\t  BufferedWriter BW = new BufferedWriter(FW);\r\n\t\t\r\n\t\t  BW.append(line); \r\n\t\t\r\n\t\t  BW.close();\r\n\t}\r\n```\r\n\r\n\r\n\r\nThis function overiding the previous line instead of creating new line for **for looping** output.","title":"How to append the console output to a txt file in Selenium JAVA inside for loop?","body":"<pre><code>public static void name(String line) throws IOException {\n        \n          String TestFile = &quot;D:/temp.txt&quot;;\n          File FC = new File(TestFile);//Created object of java File class.\n          FC.createNewFile();//Create file.\n          \n        \n          FileWriter FW = new FileWriter(TestFile);\n          BufferedWriter BW = new BufferedWriter(FW);\n        \n          BW.append(line); \n        \n          BW.close();\n    }\n</code></pre>\n<p>This function overiding the previous line instead of creating new line for <strong>for looping</strong> output.</p>\n"},{"tags":["java","sql-server","jpa","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1673606836,"post_id":75107881,"comment_id":132542119,"body_markdown":"Don&#39;t you need just one `AT TIME ZONE …`? The time stored (in an unknown type) should be in the source zone and you can express it in another zone with `AT TIME ZONE`. That would explain the error message `unexpected token: AT`…","body":"Don&#39;t you need just one <code>AT TIME ZONE …</code>? The time stored (in an unknown type) should be in the source zone and you can express it in another zone with <code>AT TIME ZONE</code>. That would explain the error message <code>unexpected token: AT</code>…"},{"owner":{"account_id":10056831,"reputation":435,"user_id":7434767,"display_name":"Ram"},"score":0,"creation_date":1673608394,"post_id":75107881,"comment_id":132542588,"body_markdown":"@deHaar, tested with one AT TIME ZONE with native query, but date is not being converted, but it is with two AT TIME ZONE . I read somewhere that first it converts the date to source time zone and from that it converts to target time zone. However, I will try with one in JPQL.","body":"@deHaar, tested with one AT TIME ZONE with native query, but date is not being converted, but it is with two AT TIME ZONE . I read somewhere that first it converts the date to source time zone and from that it converts to target time zone. However, I will try with one in JPQL."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1673609190,"post_id":75107881,"comment_id":132542816,"body_markdown":"That&#39;s because your query is entirely missing the required `CONVERT(type, value, 126) AT TIME ZONE …`, see examples [here](https://learn.microsoft.com/en-us/sql/t-sql/queries/at-time-zone-transact-sql?view=sql-server-ver16)","body":"That&#39;s because your query is entirely missing the required <code>CONVERT(type, value, 126) AT TIME ZONE …</code>, see examples <a href=\"https://learn.microsoft.com/en-us/sql/t-sql/queries/at-time-zone-transact-sql?view=sql-server-ver16\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":10056831,"reputation":435,"user_id":7434767,"display_name":"Ram"},"score":0,"creation_date":1673616699,"post_id":75107881,"comment_id":132545198,"body_markdown":"It is still same even after using `CONVERT(type, value, 126) AT TIME ZONE`. Question is updated with query with `CONVERT` and error.","body":"It is still same even after using <code>CONVERT(type, value, 126) AT TIME ZONE</code>. Question is updated with query with <code>CONVERT</code> and error."}],"answers":[{"tags":[],"owner":{"account_id":10056831,"reputation":435,"user_id":7434767,"display_name":"Ram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673970826,"creation_date":1673970826,"answer_id":75148994,"question_id":75107881,"body_markdown":"After did some research on this, found that we can not call/use this SQL Server *&quot;AT TIME ZONE*&quot; clause directly in JPQL.\r\n\r\nAs explained in [MetadataBuilderContributor][1], used  `MetadataBuilderContributor` utility to customize the `MetadataBuilder` like below:\r\n\r\n    public class SqlTimeZoneMetadataBuilderContributor implements MetadataBuilderContributor {\r\n\t\r\n\t@Override\r\n\tpublic void contribute(MetadataBuilder metadataBuilder) {\r\n\t\tmetadataBuilder.applySqlFunction(&quot;CONVERT_TIMEZONE&quot;, new SQLFunctionTemplate(StandardBasicTypes.TIMESTAMP,\r\n\t\t\t\t&quot;CONVERT(datetime, ?1 AT TIME ZONE ?2 AT TIME ZONE ?3)&quot;));\r\n\r\n\t}\r\n\r\n}\r\n\r\nSpecified this to `jpaProperties` property of `org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean` as property.\r\n\r\n    &lt;prop key=&quot;hibernate.metadata_builder_contributor&quot;&gt;com.grc.common.SqlTimeZoneMetadataBuilderContributor&lt;/prop&gt;\r\n\r\n**Usage in JPQL:**\r\n\r\n    and (CONVERT_TIMEZONE(PR.requestDate, &#39;&quot;+serverDisplayName+&quot;&#39;, &#39;&quot;+clientDisplayName+&quot;&#39;)) &gt;= ?\r\n\r\n\r\n  [1]: https://vladmihalcea.com/hibernate-sql-function-jpql-criteria-api-query/","title":"How to use SQL Server AT TIME ZONE clause with JPQL?","body":"<p>After did some research on this, found that we can not call/use this SQL Server <em>&quot;AT TIME ZONE</em>&quot; clause directly in JPQL.</p>\n<p>As explained in <a href=\"https://vladmihalcea.com/hibernate-sql-function-jpql-criteria-api-query/\" rel=\"nofollow noreferrer\">MetadataBuilderContributor</a>, used  <code>MetadataBuilderContributor</code> utility to customize the <code>MetadataBuilder</code> like below:</p>\n<pre><code>public class SqlTimeZoneMetadataBuilderContributor implements MetadataBuilderContributor {\n\n@Override\npublic void contribute(MetadataBuilder metadataBuilder) {\n    metadataBuilder.applySqlFunction(&quot;CONVERT_TIMEZONE&quot;, new SQLFunctionTemplate(StandardBasicTypes.TIMESTAMP,\n            &quot;CONVERT(datetime, ?1 AT TIME ZONE ?2 AT TIME ZONE ?3)&quot;));\n\n}\n</code></pre>\n<p>}</p>\n<p>Specified this to <code>jpaProperties</code> property of <code>org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean</code> as property.</p>\n<pre><code>&lt;prop key=&quot;hibernate.metadata_builder_contributor&quot;&gt;com.grc.common.SqlTimeZoneMetadataBuilderContributor&lt;/prop&gt;\n</code></pre>\n<p><strong>Usage in JPQL:</strong></p>\n<pre><code>and (CONVERT_TIMEZONE(PR.requestDate, '&quot;+serverDisplayName+&quot;', '&quot;+clientDisplayName+&quot;')) &gt;= ?\n</code></pre>\n"}],"owner":{"account_id":10056831,"reputation":435,"user_id":7434767,"display_name":"Ram"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75148994,"answer_count":1,"score":0,"last_activity_date":1673970826,"creation_date":1673605434,"question_id":75107881,"body_markdown":"I have to convert date fields in *where* clause of query from one time zone(server time zone) to another (client time zone). I am able to achieve this for MySQL database using **CONVERT_TZ** function, but for Microsoft SQL Server, AT TIME ZONE clause throwing error in below JPQL.\r\n\r\n    select (PR.requestDate AT TIME ZONE &#39;Central European Time&#39; AT TIME ZONE &#39;India Standard Time&#39;),count(*)  FROM com.grc.pam.model.entity.PrivilegeRequest PR  where 1 = 1  and (PR.requestDate AT TIME ZONE &#39;Central European Time&#39; AT TIME ZONE &#39;India Standard Time&#39;) &gt;= ?1  and (PR.requestDate AT TIME ZONE &#39;Central European Time&#39; AT TIME ZONE &#39;India Standard Time&#39;) &lt; ?2  GROUP BY (PR.requestDate AT TIME ZONE &#39;Central European Time&#39; AT TIME ZONE &#39;India Standard Time&#39;)\r\n\r\n**Error:**\r\n\r\n    18:13:50.006 [http-nio-8080-exec-10] ERROR org.hibernate.hql.internal.ast.ErrorTracker - line 1:24: unexpected token: AT\r\n    antlr.NoViableAltException: unexpected token: AT at org.hibernate.hql.internal.antlr.HqlBaseParser.expressionOrVector(HqlBaseParser.java:5226) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\r\nDoes this **AT TIME ZONE**  clause works in JPQL? or is there any other way to achieve this?\r\n\r\n**Update:**\r\n\r\nQuery with `CONVERT` funtion:\r\n\r\n    select (CONVERT(datetime,PR.requestDate,120) AT TIME ZONE &#39;India Standard Time&#39;),count(*)  FROM com.grc.pam.model.entity.PrivilegeRequest PR  where 1 = 1  and (CONVERT(datetime,PR.requestDate,120) AT TIME ZONE &#39;India Standard Time&#39;) &gt;= ?1  and (CONVERT(datetime,PR.requestDate,120) AT TIME ZONE &#39;India Standard Time&#39;) &lt; ?2  GROUP BY (CONVERT(datetime,PR.requestDate,120) AT TIME ZONE &#39;India Standard Time&#39;)\r\n\r\n**Error:**\r\n\r\n    14:23:06.303 [http-nio-8080-exec-4] ERROR \r\n    org.hibernate.hql.internal.ast.ErrorTracker - line 1:46: unexpected \r\n    token: AT\r\n    14:23:06.319 [http-nio-8080-exec-4] ERROR \r\n    org.hibernate.hql.internal.ast.ErrorTracker - line 1:46: unexpected \r\n    token: AT\r\n    antlr.NoViableAltException: unexpected token: AT\r\n    \r\n    \r\n    Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: \r\n    unexpected token: AT near line 1, column 46 [select \r\n    (CONVERT(datetime,PR.requestDate,120) AT TIME ZONE &#39;India Standard \r\n    Time&#39;),count(*)  FROM com.grc.pam.model.entity.PrivilegeRequest PR  \r\n    where 1 = 1  and (CONVERT(datetime,PR.requestDate,120) AT TIME ZONE \r\n    &#39;India Standard Time&#39;) &gt;= ?1  and \r\n    (CONVERT(datetime,PR.requestDate,120) AT TIME ZONE &#39;India Standard \r\n    Time&#39;) &lt; ?2  GROUP BY (CONVERT(datetime,PR.requestDate,120) AT TIME \r\n    ZONE &#39;India Standard Time&#39;)]","title":"How to use SQL Server AT TIME ZONE clause with JPQL?","body":"<p>I have to convert date fields in <em>where</em> clause of query from one time zone(server time zone) to another (client time zone). I am able to achieve this for MySQL database using <strong>CONVERT_TZ</strong> function, but for Microsoft SQL Server, AT TIME ZONE clause throwing error in below JPQL.</p>\n<pre><code>select (PR.requestDate AT TIME ZONE 'Central European Time' AT TIME ZONE 'India Standard Time'),count(*)  FROM com.grc.pam.model.entity.PrivilegeRequest PR  where 1 = 1  and (PR.requestDate AT TIME ZONE 'Central European Time' AT TIME ZONE 'India Standard Time') &gt;= ?1  and (PR.requestDate AT TIME ZONE 'Central European Time' AT TIME ZONE 'India Standard Time') &lt; ?2  GROUP BY (PR.requestDate AT TIME ZONE 'Central European Time' AT TIME ZONE 'India Standard Time')\n</code></pre>\n<p><strong>Error:</strong></p>\n<pre><code>18:13:50.006 [http-nio-8080-exec-10] ERROR org.hibernate.hql.internal.ast.ErrorTracker - line 1:24: unexpected token: AT\nantlr.NoViableAltException: unexpected token: AT at org.hibernate.hql.internal.antlr.HqlBaseParser.expressionOrVector(HqlBaseParser.java:5226) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n</code></pre>\n<p>Does this <strong>AT TIME ZONE</strong>  clause works in JPQL? or is there any other way to achieve this?</p>\n<p><strong>Update:</strong></p>\n<p>Query with <code>CONVERT</code> funtion:</p>\n<pre><code>select (CONVERT(datetime,PR.requestDate,120) AT TIME ZONE 'India Standard Time'),count(*)  FROM com.grc.pam.model.entity.PrivilegeRequest PR  where 1 = 1  and (CONVERT(datetime,PR.requestDate,120) AT TIME ZONE 'India Standard Time') &gt;= ?1  and (CONVERT(datetime,PR.requestDate,120) AT TIME ZONE 'India Standard Time') &lt; ?2  GROUP BY (CONVERT(datetime,PR.requestDate,120) AT TIME ZONE 'India Standard Time')\n</code></pre>\n<p><strong>Error:</strong></p>\n<pre><code>14:23:06.303 [http-nio-8080-exec-4] ERROR \norg.hibernate.hql.internal.ast.ErrorTracker - line 1:46: unexpected \ntoken: AT\n14:23:06.319 [http-nio-8080-exec-4] ERROR \norg.hibernate.hql.internal.ast.ErrorTracker - line 1:46: unexpected \ntoken: AT\nantlr.NoViableAltException: unexpected token: AT\n\n\nCaused by: org.hibernate.hql.internal.ast.QuerySyntaxException: \nunexpected token: AT near line 1, column 46 [select \n(CONVERT(datetime,PR.requestDate,120) AT TIME ZONE 'India Standard \nTime'),count(*)  FROM com.grc.pam.model.entity.PrivilegeRequest PR  \nwhere 1 = 1  and (CONVERT(datetime,PR.requestDate,120) AT TIME ZONE \n'India Standard Time') &gt;= ?1  and \n(CONVERT(datetime,PR.requestDate,120) AT TIME ZONE 'India Standard \nTime') &lt; ?2  GROUP BY (CONVERT(datetime,PR.requestDate,120) AT TIME \nZONE 'India Standard Time')]\n</code></pre>\n"},{"tags":["java","json","performance"],"answers":[{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673970636,"creation_date":1673970636,"answer_id":75148944,"question_id":75145254,"body_markdown":"Use JSON library such as _Josson_ to do the transformation.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n__Deserialization__\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;    \\&quot;ad002\\&quot;: \\&quot;5601087282462117\\&quot;,&quot; +\r\n        &quot;    \\&quot;be003\\&quot;: \\&quot;{\\\\\\&quot;1\\\\\\&quot;:\\\\\\&quot;ABC\\\\\\&quot;,\\\\\\&quot;2\\\\\\&quot;:\\\\\\&quot;DEF\\\\\\&quot;,\\\\\\&quot;3\\\\\\&quot;:\\\\\\&quot;DEF\\\\\\&quot;}\\&quot;,&quot; +\r\n        &quot;    \\&quot;ze024\\&quot;: \\&quot;18\\&quot;&quot; +\r\n        &quot;}&quot;);\r\n\r\n__Transformation__\r\n\r\n    JsonNode node = josson.getNode(\r\n        &quot;entries()&quot; +        // Step 1\r\n        &quot;.field(value&quot; +\r\n        &quot;       .if(startsWith(&#39;{&#39;),&quot; + // Assume it is an object\r\n        &quot;           json().entries().value.@join(),&quot; +\r\n        &quot;           ?)&quot; +\r\n        &quot;       )&quot; +         // Step 2\r\n        &quot;.map(key::value)&quot; + // Step 3\r\n        &quot;.mergeObjects()&quot;);  // Final step\r\n    System.out.println(node.toPrettyString());\r\n\r\n__Output__\r\n\r\n    {\r\n      &quot;ad002&quot; : &quot;5601087282462117&quot;,\r\n      &quot;be003&quot; : &quot;ABCDEFDEF&quot;,\r\n      &quot;ze024&quot; : &quot;18&quot;\r\n    }\r\n\r\n__Path Trace__\r\n\r\nYou can use function `getPathTrace()` to see the output of each step.\r\n\r\n    PathTrace trace = josson.getPathTrace(...)\r\n\r\n_Step 1 output_\r\n\r\n    [ {\r\n      &quot;key&quot; : &quot;ad002&quot;,\r\n      &quot;value&quot; : &quot;5601087282462117&quot;\r\n    }, {\r\n      &quot;key&quot; : &quot;be003&quot;,\r\n      &quot;value&quot; : &quot;{\\&quot;1\\&quot;:\\&quot;ABC\\&quot;,\\&quot;2\\&quot;:\\&quot;DEF\\&quot;,\\&quot;3\\&quot;:\\&quot;DEF\\&quot;}&quot;\r\n    }, {\r\n      &quot;key&quot; : &quot;ze024&quot;,\r\n      &quot;value&quot; : &quot;18&quot;\r\n    } ]\r\n\r\n_Step 2 output_\r\n\r\n    [ {\r\n      &quot;key&quot; : &quot;ad002&quot;,\r\n      &quot;value&quot; : &quot;5601087282462117&quot;\r\n    }, {\r\n      &quot;key&quot; : &quot;be003&quot;,\r\n      &quot;value&quot; : &quot;ABCDEFDEF&quot;\r\n    }, {\r\n      &quot;key&quot; : &quot;ze024&quot;,\r\n      &quot;value&quot; : &quot;18&quot;\r\n    } ]\r\n\r\n_Step 3 output_\r\n\r\n    [ {\r\n      &quot;ad002&quot; : &quot;5601087282462117&quot;\r\n    }, {\r\n      &quot;be003&quot; : &quot;ABCDEFDEF&quot;\r\n    }, {\r\n      &quot;ze024&quot; : &quot;18&quot;\r\n    } ]\r\n","title":"JSON object parsing without keys and concatenate inner json values","body":"<p>Use JSON library such as <em>Josson</em> to do the transformation.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p><strong>Deserialization</strong></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;    \\&quot;ad002\\&quot;: \\&quot;5601087282462117\\&quot;,&quot; +\n    &quot;    \\&quot;be003\\&quot;: \\&quot;{\\\\\\&quot;1\\\\\\&quot;:\\\\\\&quot;ABC\\\\\\&quot;,\\\\\\&quot;2\\\\\\&quot;:\\\\\\&quot;DEF\\\\\\&quot;,\\\\\\&quot;3\\\\\\&quot;:\\\\\\&quot;DEF\\\\\\&quot;}\\&quot;,&quot; +\n    &quot;    \\&quot;ze024\\&quot;: \\&quot;18\\&quot;&quot; +\n    &quot;}&quot;);\n</code></pre>\n<p><strong>Transformation</strong></p>\n<pre><code>JsonNode node = josson.getNode(\n    &quot;entries()&quot; +        // Step 1\n    &quot;.field(value&quot; +\n    &quot;       .if(startsWith('{'),&quot; + // Assume it is an object\n    &quot;           json().entries().value.@join(),&quot; +\n    &quot;           ?)&quot; +\n    &quot;       )&quot; +         // Step 2\n    &quot;.map(key::value)&quot; + // Step 3\n    &quot;.mergeObjects()&quot;);  // Final step\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>{\n  &quot;ad002&quot; : &quot;5601087282462117&quot;,\n  &quot;be003&quot; : &quot;ABCDEFDEF&quot;,\n  &quot;ze024&quot; : &quot;18&quot;\n}\n</code></pre>\n<p><strong>Path Trace</strong></p>\n<p>You can use function <code>getPathTrace()</code> to see the output of each step.</p>\n<pre><code>PathTrace trace = josson.getPathTrace(...)\n</code></pre>\n<p><em>Step 1 output</em></p>\n<pre><code>[ {\n  &quot;key&quot; : &quot;ad002&quot;,\n  &quot;value&quot; : &quot;5601087282462117&quot;\n}, {\n  &quot;key&quot; : &quot;be003&quot;,\n  &quot;value&quot; : &quot;{\\&quot;1\\&quot;:\\&quot;ABC\\&quot;,\\&quot;2\\&quot;:\\&quot;DEF\\&quot;,\\&quot;3\\&quot;:\\&quot;DEF\\&quot;}&quot;\n}, {\n  &quot;key&quot; : &quot;ze024&quot;,\n  &quot;value&quot; : &quot;18&quot;\n} ]\n</code></pre>\n<p><em>Step 2 output</em></p>\n<pre><code>[ {\n  &quot;key&quot; : &quot;ad002&quot;,\n  &quot;value&quot; : &quot;5601087282462117&quot;\n}, {\n  &quot;key&quot; : &quot;be003&quot;,\n  &quot;value&quot; : &quot;ABCDEFDEF&quot;\n}, {\n  &quot;key&quot; : &quot;ze024&quot;,\n  &quot;value&quot; : &quot;18&quot;\n} ]\n</code></pre>\n<p><em>Step 3 output</em></p>\n<pre><code>[ {\n  &quot;ad002&quot; : &quot;5601087282462117&quot;\n}, {\n  &quot;be003&quot; : &quot;ABCDEFDEF&quot;\n}, {\n  &quot;ze024&quot; : &quot;18&quot;\n} ]\n</code></pre>\n"}],"owner":{"account_id":4712286,"reputation":3,"user_id":3812445,"display_name":"user3812445"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75148944,"answer_count":1,"score":0,"last_activity_date":1673970636,"creation_date":1673952311,"question_id":75145254,"body_markdown":"I have a column in DB which stored data in following json format like below:\r\n{&quot;ad002&quot;:&quot;5601087282462117&quot;,&quot;be003&quot;:&quot;{\\&quot;1\\&quot;:\\&quot;ABC\\&quot;,\\&quot;2\\&quot;:\\&quot;DEF\\&quot;,\\&quot;3\\&quot;:\\&quot;DEF\\&quot;}&quot;,&quot;ze024&quot;:&quot;18&quot;}\r\n\r\nI want to iterate the data without keys as there are thousand of keys in data and if some element found like be003 where it has further key values then all the values should be concatenate and return that value. \r\n\r\nI tried below solution \r\n\r\n`JSONObject outerObject = new JSONObject(jsonInput);\r\n    String ad002Value = outerObject.optString(&quot;ad002&quot;);\r\n      JSONObject be003Object = new JSONObject(outerObject.optString(&quot;be003&quot;));`\r\n\r\nbut here I need to depend in keys which is not required as there are thousand of keys. I need to further set values to some object.","title":"JSON object parsing without keys and concatenate inner json values","body":"<p>I have a column in DB which stored data in following json format like below:\n{&quot;ad002&quot;:&quot;5601087282462117&quot;,&quot;be003&quot;:&quot;{&quot;1&quot;:&quot;ABC&quot;,&quot;2&quot;:&quot;DEF&quot;,&quot;3&quot;:&quot;DEF&quot;}&quot;,&quot;ze024&quot;:&quot;18&quot;}</p>\n<p>I want to iterate the data without keys as there are thousand of keys in data and if some element found like be003 where it has further key values then all the values should be concatenate and return that value.</p>\n<p>I tried below solution</p>\n<p><code>JSONObject outerObject = new JSONObject(jsonInput); String ad002Value = outerObject.optString(&quot;ad002&quot;); JSONObject be003Object = new JSONObject(outerObject.optString(&quot;be003&quot;));</code></p>\n<p>but here I need to depend in keys which is not required as there are thousand of keys. I need to further set values to some object.</p>\n"},{"tags":["java","gradle","protocol-buffers"],"owner":{"account_id":19981042,"reputation":1,"user_id":21028574,"display_name":"Андрей Ельцов"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673970559,"creation_date":1673970559,"question_id":75148929,"body_markdown":"I try to generate my proto-files using Protofub Plugin, but my configuration doesn&#39;t work.\r\nI have the following project structure:\r\n[enter image description here](https://i.stack.imgur.com/p0N85.png)\r\nSo, my .proto files and gnerated code are in one folder for module.\r\nI tried to configure a both modules (actions &amp; server) separately. And received the following gradle configuration:\r\nbuild.gradle in actions equals with build.bradle in server:\r\n\r\n```\r\nplugins {\r\n    id &quot;com.google.protobuf&quot; version &quot;0.9.1&quot;\r\n    id &quot;java&quot;\r\n}\r\n\r\nsourceSets {\r\n    main {\r\n        proto {\r\n            srcDir &#39;src/main/java/com/company/protos/*.proto&#39;\r\n        }\r\n        java {\r\n            srcDirs &#39;src/main/java/com/geargames/aow/protos&#39;\r\n        }\r\n    }\r\n}\r\n\r\nprotobuf {\r\n    protoc {\r\n        artifact = &quot;com.google.protobuf:protoc:3.21.7&quot;\r\n    }\r\n    plugins {\r\n        grpc {\r\n            artifact = &quot;io.grpc:protoc-gen-grpc-java:1.52.0&quot;\r\n        }\r\n    }\r\n\r\n    generateProtoTasks.generatedFilesBaseDir = &#39;src/main/java/com/company/protos&#39;\r\n\r\n    generateProtoTasks {\r\n        all()*.builtins {\r\n            java {\r\n                outputSubDir = &#39;protos&#39;\r\n            }\r\n        }\r\n        all()*.plugins {\r\n            grpc {}\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen I execute `./gradlew geneateProto` nothing happens, but it&#39;s worked and I see `BUIND SUCCESSFUL`\r\nWhat am I missing?\r\nThanks.\r\n\r\nI used [docs](https://github.com/google/protobuf-gradle-plugin) and other sources, but it don&#39;t work for my case.\r\nIt is important for me to put the generated files in /protos/[one/two/three] directories in modules.","title":"protoc-gen-grpc on Gradle plugin","body":"<p>I try to generate my proto-files using Protofub Plugin, but my configuration doesn't work.\nI have the following project structure:\n<a href=\"https://i.stack.imgur.com/p0N85.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nSo, my .proto files and gnerated code are in one folder for module.\nI tried to configure a both modules (actions &amp; server) separately. And received the following gradle configuration:\nbuild.gradle in actions equals with build.bradle in server:</p>\n<pre><code>plugins {\n    id &quot;com.google.protobuf&quot; version &quot;0.9.1&quot;\n    id &quot;java&quot;\n}\n\nsourceSets {\n    main {\n        proto {\n            srcDir 'src/main/java/com/company/protos/*.proto'\n        }\n        java {\n            srcDirs 'src/main/java/com/geargames/aow/protos'\n        }\n    }\n}\n\nprotobuf {\n    protoc {\n        artifact = &quot;com.google.protobuf:protoc:3.21.7&quot;\n    }\n    plugins {\n        grpc {\n            artifact = &quot;io.grpc:protoc-gen-grpc-java:1.52.0&quot;\n        }\n    }\n\n    generateProtoTasks.generatedFilesBaseDir = 'src/main/java/com/company/protos'\n\n    generateProtoTasks {\n        all()*.builtins {\n            java {\n                outputSubDir = 'protos'\n            }\n        }\n        all()*.plugins {\n            grpc {}\n        }\n    }\n}\n</code></pre>\n<p>When I execute <code>./gradlew geneateProto</code> nothing happens, but it's worked and I see <code>BUIND SUCCESSFUL</code>\nWhat am I missing?\nThanks.</p>\n<p>I used <a href=\"https://github.com/google/protobuf-gradle-plugin\" rel=\"nofollow noreferrer\">docs</a> and other sources, but it don't work for my case.\nIt is important for me to put the generated files in /protos/[one/two/three] directories in modules.</p>\n"},{"tags":["java","spring-boot","spring-webflux"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673960074,"post_id":75145163,"comment_id":132608794,"body_markdown":"`produces` doesn&#39;t do what you think it does, it only is used for mapping **Not** for enforcing a return type. If you want 1 controller to do both, stop using `@RestController` and use a regular `@Controller` and return the name of the view and stuff your data in a `Model`. Then for the JSON case use a `MappingJackson2JsonView` to create JSON. Use a `ContentNegotationViewResolver` to select the proper View to use based on the content type.","body":"<code>produces</code> doesn&#39;t do what you think it does, it only is used for mapping <b>Not</b> for enforcing a return type. If you want 1 controller to do both, stop using <code>@RestController</code> and use a regular <code>@Controller</code> and return the name of the view and stuff your data in a <code>Model</code>. Then for the JSON case use a <code>MappingJackson2JsonView</code> to create JSON. Use a <code>ContentNegotationViewResolver</code> to select the proper View to use based on the content type."}],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673970160,"creation_date":1673970160,"answer_id":75148845,"question_id":75145163,"body_markdown":"You could use Spring WebFlux [Functional Endpoints](https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#webflux-fn) that &quot;*a lightweight functional programming model in which functions are used to route and handle requests*&quot; instead of `@RequestMapping`. It provides more flexible model and you can generate routes dynamically and reuse handlers.\r\n\r\n```\r\n@Bean\r\npublic RouterFunction&lt;ServerResponse&gt; setupRoutes() {\r\n\tString uri = &quot;/test&quot;;\r\n\treturn\r\n\t\t\troute(\r\n\t\t\t\t\tPOST(uri).and(accept(MediaType.TEXT_HTML)),\r\n\t\t\t\t\trouteHandler::getHtml\r\n\t\t\t)\r\n\t\t\t.andRoute(\r\n\t\t\t\t\tPOST(uri).and(accept(MediaType.APPLICATION_JSON)),\r\n\t\t\t\t\trouteHandler::getJson\r\n\t\t\t);\r\n}\r\n``` ","title":"Spring Boot Webflux controller different responses for different media types","body":"<p>You could use Spring WebFlux <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#webflux-fn\" rel=\"nofollow noreferrer\">Functional Endpoints</a> that &quot;<em>a lightweight functional programming model in which functions are used to route and handle requests</em>&quot; instead of <code>@RequestMapping</code>. It provides more flexible model and you can generate routes dynamically and reuse handlers.</p>\n<pre><code>@Bean\npublic RouterFunction&lt;ServerResponse&gt; setupRoutes() {\n    String uri = &quot;/test&quot;;\n    return\n            route(\n                    POST(uri).and(accept(MediaType.TEXT_HTML)),\n                    routeHandler::getHtml\n            )\n            .andRoute(\n                    POST(uri).and(accept(MediaType.APPLICATION_JSON)),\n                    routeHandler::getJson\n            );\n}\n</code></pre>\n"}],"owner":{"account_id":27551368,"reputation":11,"user_id":21026379,"display_name":"Oliver"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":448,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673970160,"creation_date":1673951728,"question_id":75145163,"body_markdown":"I am building a REST application with Spring Boot and Webflux. There will be number of different endpoints that are will return a JSON resources.\r\nAlso, there is a requirement that the endpoints should be capable of returning different responses when:\r\n\r\n- `Accept: application/json` then JSON response\r\n- `Accept: text/html` then simple HTML page, where response JSON is formatted and simple CSS applied.\r\n\r\nAs there can be 100+ endpoints then it would be nice if this could be done dynamically instead of creating two `@RequestMapping` methods for each media type. \r\n\r\nHow could this be solved using Spring Boot and Webflux?\r\n\r\nI have searched Google and have few ideas of using ByteBuddy to dynamically create the `text/html` endpoints.\r\nIf just adding `produces = {MediaType.APPLICATION_JSON_VALUE, MediaType.TEXT_HTML_VALUE}` then I get error in logs: \r\n`no encoder for with preset Content-Type &#39;null&#39;`","title":"Spring Boot Webflux controller different responses for different media types","body":"<p>I am building a REST application with Spring Boot and Webflux. There will be number of different endpoints that are will return a JSON resources.\nAlso, there is a requirement that the endpoints should be capable of returning different responses when:</p>\n<ul>\n<li><code>Accept: application/json</code> then JSON response</li>\n<li><code>Accept: text/html</code> then simple HTML page, where response JSON is formatted and simple CSS applied.</li>\n</ul>\n<p>As there can be 100+ endpoints then it would be nice if this could be done dynamically instead of creating two <code>@RequestMapping</code> methods for each media type.</p>\n<p>How could this be solved using Spring Boot and Webflux?</p>\n<p>I have searched Google and have few ideas of using ByteBuddy to dynamically create the <code>text/html</code> endpoints.\nIf just adding <code>produces = {MediaType.APPLICATION_JSON_VALUE, MediaType.TEXT_HTML_VALUE}</code> then I get error in logs:\n<code>no encoder for with preset Content-Type 'null'</code></p>\n"},{"tags":["java","spring-boot","validation","apache-camel","bean-validation"],"answers":[{"tags":[],"owner":{"account_id":25341111,"reputation":26,"user_id":19159479,"display_name":"Giorgio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673970026,"creation_date":1673970026,"answer_id":75148815,"question_id":73566436,"body_markdown":"I probably solved it by using all the class path related to group:\r\n\r\n    .to(&quot;bean-validator://x?group=com.application.dto.validation.group.AdvancedValidation&quot;)\r\n\r\n","title":"Camel bean-validator with group validation doesn&#39;t start for FailedToStartRouteException","body":"<p>I probably solved it by using all the class path related to group:</p>\n<pre><code>.to(&quot;bean-validator://x?group=com.application.dto.validation.group.AdvancedValidation&quot;)\n</code></pre>\n"}],"owner":{"account_id":25080079,"reputation":27,"user_id":18932947,"display_name":"Alexxxx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":408,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75148815,"answer_count":1,"score":0,"last_activity_date":1673970026,"creation_date":1662021405,"question_id":73566436,"body_markdown":"I&#39;m trying to use the camel-bean-validator dependency in my project but I have a problem with group validation.\r\nI&#39;m using a springboot project with spring-boot-starter-parent 2.7.3 and these dependencies in pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.18.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;camel-jackson-starter&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.18.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;camel-bean-validator-starter&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.18.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nMy SimpleDto is:\r\n\r\n    @Data\r\n    public class SimpleDto {\r\n    \r\n        @NotNull(groups = BasicValidation.class)\r\n        private Long id;\r\n    \r\n        @NotBlank(groups = AdvancedValidation.class)\r\n        private String name;\r\n\r\n        @NotBlank\r\n        private String value;\r\n    \r\n    }\r\n\r\nAnd I created two interfaces for validation:\r\n```\r\n    public interface AdvancedValidation {\r\n    }\r\n```\r\n```\r\n    public interface AdvancedValidation {\r\n    }\r\n```\r\n\r\nWhen I want to use a standard validation like this in my route the application starts without problem:\r\n```\r\n@Component\r\npublic class ValidationRoute extends RouteBuilder {\r\n\r\n\r\n    @Override\r\n    public void configure() throws Exception {\r\n\r\n        from(&quot;timer:val-timer?period=5000&quot;)\r\n            .process(new Processor() {\r\n                @Override\r\n                public void process(Exchange exchange) throws Exception {\r\n                    SimpleDto simpleDto = new SimpleDto();\r\n                    exchange.getIn().setBody(simpleDto);\r\n                }\r\n            })\r\n            .log(&quot;Setted body: ${body}&quot;)\r\n            .to(&quot;bean-validator://x&quot;)\r\n            .log(&quot;Validated message&quot;);\r\n    }\r\n}\r\n\r\n```\r\nbut when I change the validation endpoint in:\r\n```\r\n.to(&quot;bean-validator://x?group=AdvancedValidation&quot;)\r\n```\r\nlike in the example in Apache Camel documentation, here:\r\n\r\nhttps://camel.netlify.app/components/latest/bean-validator-component.html\r\n\r\nthe application stop working and this is the error I have starting it:\r\n```\r\norg.apache.camel.FailedToStartRouteException: Failed to start route route1 because of null\r\n\tat org.apache.camel.impl.engine.RouteService.warmUp(RouteService.java:123)\r\n\tat org.apache.camel.impl.engine.InternalRouteStartupManager.doWarmUpRoutes(InternalRouteStartupManager.java:306)\r\n\tat org.apache.camel.impl.engine.InternalRouteStartupManager.safelyStartRouteServices(InternalRouteStartupManager.java:189)\r\n\tat org.apache.camel.impl.engine.InternalRouteStartupManager.doStartOrResumeRoutes(InternalRouteStartupManager.java:147)\r\n\tat org.apache.camel.impl.engine.AbstractCamelContext.doStartCamel(AbstractCamelContext.java:3365)\r\n\tat org.apache.camel.impl.engine.AbstractCamelContext.doStartContext(AbstractCamelContext.java:3033)\r\n\tat org.apache.camel.impl.engine.AbstractCamelContext.doStart(AbstractCamelContext.java:2988)\r\n\tat org.apache.camel.spring.boot.SpringBootCamelContext.doStart(SpringBootCamelContext.java:43)\r\n\tat org.apache.camel.support.service.BaseService.start(BaseService.java:119)\r\n\tat org.apache.camel.impl.engine.AbstractCamelContext.start(AbstractCamelContext.java:2649)\r\n\tat org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:262)\r\n\tat org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:119)\r\n\tat org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:151)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421)\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:938)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n\tat it.ale.CamelArchetypeTestApplication.main(CamelArchetypeTestApplication.java:16)\r\nCaused by: org.apache.camel.RuntimeCamelException: java.lang.ClassNotFoundException: AdvancedValidation\r\n\tat org.apache.camel.RuntimeCamelException.wrapRuntimeException(RuntimeCamelException.java:66)\r\n\tat org.apache.camel.support.service.BaseService.doFail(BaseService.java:413)\r\n\tat org.apache.camel.support.service.BaseService.fail(BaseService.java:342)\r\n\tat org.apache.camel.support.service.BaseService.start(BaseService.java:132)\r\n\tat org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:113)\r\n\tat org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:130)\r\n\tat org.apache.camel.processor.errorhandler.RedeliveryErrorHandler.doStart(RedeliveryErrorHandler.java:1670)\r\n\tat org.apache.camel.support.ChildServiceSupport.start(ChildServiceSupport.java:60)\r\n\tat org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:113)\r\n\tat org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:130)\r\n\tat org.apache.camel.impl.engine.DefaultChannel.doStart(DefaultChannel.java:126)\r\n\tat org.apache.camel.support.service.BaseService.start(BaseService.java:119)\r\n\tat org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:113)\r\n\tat org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:116)\r\n\tat org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:130)\r\n\tat org.apache.camel.processor.Pipeline.doStart(Pipeline.java:224)\r\n\tat org.apache.camel.support.service.BaseService.start(BaseService.java:119)\r\n\tat org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:113)\r\n\tat org.apache.camel.support.processor.DelegateAsyncProcessor.doStart(DelegateAsyncProcessor.java:89)\r\n\tat org.apache.camel.support.service.BaseService.start(BaseService.java:119)\r\n\tat org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:113)\r\n\tat org.apache.camel.impl.engine.RouteService.startChildServices(RouteService.java:396)\r\n\tat org.apache.camel.impl.engine.RouteService.doWarmUp(RouteService.java:193)\r\n\tat org.apache.camel.impl.engine.RouteService.warmUp(RouteService.java:121)\r\n\t... 24 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: AdvancedValidation\r\n\tat org.apache.camel.impl.engine.DefaultClassResolver.resolveMandatoryClass(DefaultClassResolver.java:103)\r\n\tat org.apache.camel.component.bean.validator.BeanValidatorEndpoint.createProducer(BeanValidatorEndpoint.java:73)\r\n\tat org.apache.camel.support.DefaultEndpoint.createAsyncProducer(DefaultEndpoint.java:200)\r\n\tat org.apache.camel.processor.SendProcessor.doStart(SendProcessor.java:242)\r\n\tat org.apache.camel.support.service.BaseService.start(BaseService.java:119)\r\n\t... 44 common frames omitted\r\n\r\nProcess finished with exit code 1\r\n```\r\nI already tried to change the endpoint with:\r\n```\r\n.to(&quot;bean-validator://x?group=AdvancedValidation.class&quot;)\r\n```\r\nand this time the error was:\r\n```\r\nCaused by: org.apache.camel.RuntimeCamelException: java.lang.ClassNotFoundException: AdvancedValidation.class\r\n```\r\nAlso adding the annotation @Component to the interface I haven&#39;t solved the problem.\r\n\r\nDoes anyone know why it is not working and how to solve it?\r\nI followed the documentation and there it seem work.\r\n\r\nUsing the same interfaces and the same project in a RestController and validating it with @Valid or @Validated(AdvancedValidation.class) worked correctly, so this is a Camel issue","title":"Camel bean-validator with group validation doesn&#39;t start for FailedToStartRouteException","body":"<p>I'm trying to use the camel-bean-validator dependency in my project but I have a problem with group validation.\nI'm using a springboot project with spring-boot-starter-parent 2.7.3 and these dependencies in pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n    &lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;3.18.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n    &lt;artifactId&gt;camel-jackson-starter&lt;/artifactId&gt;\n    &lt;version&gt;3.18.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n    &lt;artifactId&gt;camel-bean-validator-starter&lt;/artifactId&gt;\n    &lt;version&gt;3.18.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>My SimpleDto is:</p>\n<pre><code>@Data\npublic class SimpleDto {\n\n    @NotNull(groups = BasicValidation.class)\n    private Long id;\n\n    @NotBlank(groups = AdvancedValidation.class)\n    private String name;\n\n    @NotBlank\n    private String value;\n\n}\n</code></pre>\n<p>And I created two interfaces for validation:</p>\n<pre><code>    public interface AdvancedValidation {\n    }\n</code></pre>\n<pre><code>    public interface AdvancedValidation {\n    }\n</code></pre>\n<p>When I want to use a standard validation like this in my route the application starts without problem:</p>\n<pre><code>@Component\npublic class ValidationRoute extends RouteBuilder {\n\n\n    @Override\n    public void configure() throws Exception {\n\n        from(&quot;timer:val-timer?period=5000&quot;)\n            .process(new Processor() {\n                @Override\n                public void process(Exchange exchange) throws Exception {\n                    SimpleDto simpleDto = new SimpleDto();\n                    exchange.getIn().setBody(simpleDto);\n                }\n            })\n            .log(&quot;Setted body: ${body}&quot;)\n            .to(&quot;bean-validator://x&quot;)\n            .log(&quot;Validated message&quot;);\n    }\n}\n\n</code></pre>\n<p>but when I change the validation endpoint in:</p>\n<pre><code>.to(&quot;bean-validator://x?group=AdvancedValidation&quot;)\n</code></pre>\n<p>like in the example in Apache Camel documentation, here:</p>\n<p><a href=\"https://camel.netlify.app/components/latest/bean-validator-component.html\" rel=\"nofollow noreferrer\">https://camel.netlify.app/components/latest/bean-validator-component.html</a></p>\n<p>the application stop working and this is the error I have starting it:</p>\n<pre><code>org.apache.camel.FailedToStartRouteException: Failed to start route route1 because of null\n    at org.apache.camel.impl.engine.RouteService.warmUp(RouteService.java:123)\n    at org.apache.camel.impl.engine.InternalRouteStartupManager.doWarmUpRoutes(InternalRouteStartupManager.java:306)\n    at org.apache.camel.impl.engine.InternalRouteStartupManager.safelyStartRouteServices(InternalRouteStartupManager.java:189)\n    at org.apache.camel.impl.engine.InternalRouteStartupManager.doStartOrResumeRoutes(InternalRouteStartupManager.java:147)\n    at org.apache.camel.impl.engine.AbstractCamelContext.doStartCamel(AbstractCamelContext.java:3365)\n    at org.apache.camel.impl.engine.AbstractCamelContext.doStartContext(AbstractCamelContext.java:3033)\n    at org.apache.camel.impl.engine.AbstractCamelContext.doStart(AbstractCamelContext.java:2988)\n    at org.apache.camel.spring.boot.SpringBootCamelContext.doStart(SpringBootCamelContext.java:43)\n    at org.apache.camel.support.service.BaseService.start(BaseService.java:119)\n    at org.apache.camel.impl.engine.AbstractCamelContext.start(AbstractCamelContext.java:2649)\n    at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:262)\n    at org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:119)\n    at org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:151)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421)\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378)\n    at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:938)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at it.ale.CamelArchetypeTestApplication.main(CamelArchetypeTestApplication.java:16)\nCaused by: org.apache.camel.RuntimeCamelException: java.lang.ClassNotFoundException: AdvancedValidation\n    at org.apache.camel.RuntimeCamelException.wrapRuntimeException(RuntimeCamelException.java:66)\n    at org.apache.camel.support.service.BaseService.doFail(BaseService.java:413)\n    at org.apache.camel.support.service.BaseService.fail(BaseService.java:342)\n    at org.apache.camel.support.service.BaseService.start(BaseService.java:132)\n    at org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:113)\n    at org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:130)\n    at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler.doStart(RedeliveryErrorHandler.java:1670)\n    at org.apache.camel.support.ChildServiceSupport.start(ChildServiceSupport.java:60)\n    at org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:113)\n    at org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:130)\n    at org.apache.camel.impl.engine.DefaultChannel.doStart(DefaultChannel.java:126)\n    at org.apache.camel.support.service.BaseService.start(BaseService.java:119)\n    at org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:113)\n    at org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:116)\n    at org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:130)\n    at org.apache.camel.processor.Pipeline.doStart(Pipeline.java:224)\n    at org.apache.camel.support.service.BaseService.start(BaseService.java:119)\n    at org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:113)\n    at org.apache.camel.support.processor.DelegateAsyncProcessor.doStart(DelegateAsyncProcessor.java:89)\n    at org.apache.camel.support.service.BaseService.start(BaseService.java:119)\n    at org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:113)\n    at org.apache.camel.impl.engine.RouteService.startChildServices(RouteService.java:396)\n    at org.apache.camel.impl.engine.RouteService.doWarmUp(RouteService.java:193)\n    at org.apache.camel.impl.engine.RouteService.warmUp(RouteService.java:121)\n    ... 24 common frames omitted\nCaused by: java.lang.ClassNotFoundException: AdvancedValidation\n    at org.apache.camel.impl.engine.DefaultClassResolver.resolveMandatoryClass(DefaultClassResolver.java:103)\n    at org.apache.camel.component.bean.validator.BeanValidatorEndpoint.createProducer(BeanValidatorEndpoint.java:73)\n    at org.apache.camel.support.DefaultEndpoint.createAsyncProducer(DefaultEndpoint.java:200)\n    at org.apache.camel.processor.SendProcessor.doStart(SendProcessor.java:242)\n    at org.apache.camel.support.service.BaseService.start(BaseService.java:119)\n    ... 44 common frames omitted\n\nProcess finished with exit code 1\n</code></pre>\n<p>I already tried to change the endpoint with:</p>\n<pre><code>.to(&quot;bean-validator://x?group=AdvancedValidation.class&quot;)\n</code></pre>\n<p>and this time the error was:</p>\n<pre><code>Caused by: org.apache.camel.RuntimeCamelException: java.lang.ClassNotFoundException: AdvancedValidation.class\n</code></pre>\n<p>Also adding the annotation @Component to the interface I haven't solved the problem.</p>\n<p>Does anyone know why it is not working and how to solve it?\nI followed the documentation and there it seem work.</p>\n<p>Using the same interfaces and the same project in a RestController and validating it with @Valid or @Validated(AdvancedValidation.class) worked correctly, so this is a Camel issue</p>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673866358,"post_id":75133139,"comment_id":132585316,"body_markdown":"You need to explicity run the job, it won&#39;t automatically run the job (it did that in earlier versions, now you need to pass a parameter to specify which job launch).","body":"You need to explicity run the job, it won&#39;t automatically run the job (it did that in earlier versions, now you need to pass a parameter to specify which job launch)."},{"owner":{"account_id":25810883,"reputation":85,"user_id":19551694,"display_name":"Aryan Singh"},"score":0,"creation_date":1673874556,"post_id":75133139,"comment_id":132587845,"body_markdown":"Thanks for the suggestion. Please elaborate for a better understanding.","body":"Thanks for the suggestion. Please elaborate for a better understanding."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":1,"creation_date":1673948817,"post_id":75133139,"comment_id":132605333,"body_markdown":"With Spring Boot 3, you don&#39;t need `@EnableBatchProcessing`. Have you tried to remove that annotation?","body":"With Spring Boot 3, you don&#39;t need <code>@EnableBatchProcessing</code>. Have you tried to remove that annotation?"},{"owner":{"account_id":25810883,"reputation":85,"user_id":19551694,"display_name":"Aryan Singh"},"score":0,"creation_date":1673963642,"post_id":75133139,"comment_id":132610027,"body_markdown":"It is running after removing the annotation but now getting a parsing error with        \n IncorrectTokenCountException: Incorrect number of tokens found in record: expected 24 actual 7.                      \nParsing error at line: 2 in resource=[class path resource [People2.csv]], input=[aardsda01,1981,12,27,USA,CO,Denver,2022,2,22,USA,NJ,Atlanta,David,Aardsma,David Allan,215,75,R,R,06-04-2004,23-08-2015,aardd001,aardsda01]","body":"It is running after removing the annotation but now getting a parsing error with          IncorrectTokenCountException: Incorrect number of tokens found in record: expected 24 actual 7.                       Parsing error at line: 2 in resource=[class path resource [People2.csv]], input=[aardsda01,1981,12,27,USA,CO,Denver,2022,2,22,USA,NJ,A&zwnj;&#8203;tlanta,David,Aardsma&zwnj;&#8203;,David Allan,215,75,R,R,06-04-2004,23-08-2015,aardd001,aardsda01]"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1673969810,"post_id":75133139,"comment_id":132612413,"body_markdown":"Glad to hear that helped! I updated the answer accordingly. The parsing error is a different problem, please ask a different question and paste the full stacktrace of the error.","body":"Glad to hear that helped! I updated the answer accordingly. The parsing error is a different problem, please ask a different question and paste the full stacktrace of the error."}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673969740,"creation_date":1673866845,"answer_id":75133298,"question_id":75133139,"body_markdown":"With Spring Boot 3, you don&#39;t need `@EnableBatchProcessing`, unless you want to take complete control on how Spring Batch is configured and executed. So if you remove that annotation, your job should be executed on startup.\r\n\r\nOn another note, you are using a `PlayerRepository`, which I guess is a JPA repository. If it is the case, make sure the transaction manager used in your step is a `JpaTransactionManager`. The reason you are not seeing data being persisted is probably related to the fact that Spring Boot auto-configures a `DataSourceTransactionManager` for the `DataSource` you provided.\r\n\r\n&gt; //How to specify name ? \r\n\r\nRegarding this question in the definition of the `importPlayerJob` job bean: you have already specified the name in the `JobBuilder` bean definition in `CsvToMySqlApplication` class. That said, I see no need to define the `JobBuilder` and `StepBuilder` as beans.","title":"Not able to dump data from excel to MySQL using Spring Batch","body":"<p>With Spring Boot 3, you don't need <code>@EnableBatchProcessing</code>, unless you want to take complete control on how Spring Batch is configured and executed. So if you remove that annotation, your job should be executed on startup.</p>\n<p>On another note, you are using a <code>PlayerRepository</code>, which I guess is a JPA repository. If it is the case, make sure the transaction manager used in your step is a <code>JpaTransactionManager</code>. The reason you are not seeing data being persisted is probably related to the fact that Spring Boot auto-configures a <code>DataSourceTransactionManager</code> for the <code>DataSource</code> you provided.</p>\n<blockquote>\n<p>//How to specify name ?</p>\n</blockquote>\n<p>Regarding this question in the definition of the <code>importPlayerJob</code> job bean: you have already specified the name in the <code>JobBuilder</code> bean definition in <code>CsvToMySqlApplication</code> class. That said, I see no need to define the <code>JobBuilder</code> and <code>StepBuilder</code> as beans.</p>\n"}],"owner":{"account_id":25810883,"reputation":85,"user_id":19551694,"display_name":"Aryan Singh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75133298,"answer_count":1,"score":0,"last_activity_date":1673969740,"creation_date":1673866057,"question_id":75133139,"body_markdown":"I am creating a project for importing data from csv to MySQL using Spring batch using Spring 3.0.1. \r\nI created the configuration for Reader, Writer and Processor beans as follows along with step and job.\r\nThe Older method using JobBuilderFactory and StepBuilderFactory is deprecated in Spring Boot  3.0\r\n\r\n    @Configuration\r\n    @EnableBatchProcessing\r\n    public class BatchConfig {\r\n    \t\r\n    \r\n    \t\r\n    \t@Autowired\r\n    \tprivate PlayerRepository playerRepository;\r\n    \t\r\n    \t@Bean\r\n    \tpublic FlatFileItemReader&lt;Player&gt; reader()\r\n    \t{\r\n    \t\t//Subclass of ItemReader class\r\n    \t\t\r\n    \t\tFlatFileItemReader&lt;Player&gt; reader=new FlatFileItemReader&lt;Player&gt;();\r\n    \t\t\r\n    \t\t\r\n    \t\treader.setResource(new ClassPathResource(&quot;People.csv&quot;));\r\n    \t\treader.setLineMapper(getLineMapper());\r\n    \t\treader.setLinesToSkip(1);//Skip line in case of error\r\n    \t\treturn reader;\r\n    \t}\r\n    \r\n    \tprivate LineMapper&lt;Player&gt; getLineMapper() {\r\n    \t\t\r\n    \t\tDefaultLineMapper&lt;Player&gt; lineMapper\r\n    =new DefaultLineMapper&lt;Player&gt;();\r\n    \t\t\r\n    \t\tDelimitedLineTokenizer lineTokenizer=new DelimitedLineTokenizer();\r\n    \t\t\r\n    \t\tlineTokenizer.setNames(new String[] {&quot;playerID&quot;,&quot;birthYear&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;birthCity&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;nameFirst&quot;,&quot;nameLast&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;retroID&quot;,&quot;bbrefID&quot;});\r\n    \t\tlineTokenizer.setIncludedFields(new int[] {0,1,6,13,14,22,23});\r\n    \t\t\r\n    \t\tBeanWrapperFieldSetMapper&lt;Player&gt; fieldSetMapper=new BeanWrapperFieldSetMapper&lt;Player&gt;();\r\n    \t\tfieldSetMapper.setTargetType(Player.class);\r\n    \t\t\r\n    \t\t\r\n    \t\tlineMapper.setLineTokenizer(lineTokenizer);\r\n    \t\tlineMapper.setFieldSetMapper(fieldSetMapper);\r\n    \t\t\r\n    \t\treturn lineMapper;\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic PlayerItemProcessor processor()\r\n    \t{\r\n    \t\treturn new PlayerItemProcessor();\r\n    \t}\r\n    \t\r\n    \t\r\n    \t\r\n    \t@Bean\r\n    \tpublic ItemWriter&lt;Player&gt; writer()\r\n    \t{\r\n    \t\treturn player-&gt; {\r\n    \t\t\tplayerRepository.saveAll(player);\r\n    \t\t};\r\n    \t}\r\n    \t\r\n    \r\n    \t\r\n    \t@Bean\r\n    \tpublic Job importPlayerJob(JobRepository jobRepository,Step step1)\r\n    \t{\r\n    \t\t    \t\treturn new JobBuilder(&quot;PLAYER-IMPORT-JOB&quot;,jobRepository).incrementer(new RunIdIncrementer()).flow(step1).end().build();//Write .start() if there is only one step \r\n    \t\t\t\t\t\t\t\t\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic Step step1(JobRepository jobRepository,JpaTransactionManager jpaTransactionManager) {\r\n    \t\t\r\n    \t\treturn new StepBuilder(&quot;step1&quot;,jobRepository).&lt;Player,Player&gt;chunk(10,jpaTransactionManager).reader(reader()).processor(processor()).writer(writer()).build();\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t\r\n    \t\r\n    \r\n    }\r\nThe PlayerItemProcessor is as follows:\r\n\r\n    package com.aryan.batch.config;\r\n    \r\n    import org.springframework.batch.item.ItemProcessor;\r\n    \r\n    import com.aryan.batch.modal.Player;\r\n    \r\n    public class PlayerItemProcessor implements ItemProcessor&lt;Player, Player&gt; //Input and Output\r\n    {\r\n    \r\n    \t@Override\r\n    \tpublic Player process(Player player) throws Exception {\r\n    \t\t\r\n    \t\treturn player;\r\n    \r\n    }\r\n    }\r\n\r\nPlayer Model is:\r\n\r\n    package com.aryan.batch.modal;\r\n    \r\n    import jakarta.persistence.*;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    \r\n    \r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Entity\r\n    public class Player {\r\n    \r\n    \r\n    \t@Id\r\n    \tprivate String playerId;\r\n    \t\r\n    \tint birthYear;\r\n    \t\r\n    \t\r\n    \tString birthCity;\r\n    \t\r\n    \tString nameFirst;\r\n    \t\r\n    \tString nameLast;\r\n    \t\r\n    \tString retroID;\r\n    \t\r\n    \tString bbrefID;\r\n    }\r\nPlayerRepository:\r\n\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    \r\n    import com.aryan.batch.modal.Player;\r\n    \r\n    public interface PlayerRepository extends JpaRepository&lt;Player, String&gt; {\r\n    \r\n    }\r\n\r\nThe configuration in application.yml is:\r\n\r\n    spring:\r\n      datasource:\r\n        driver-class-name: com.mysql.cj.jdbc.Driver\r\n        \r\n        url: jdbc:mysql://127.0.0.1:3306/batchdemo\r\n        username: hbstudent\r\n        password: hbstudent\r\n        \r\n      batch:\r\n        jdbc:\r\n          initialize-schema: always  \r\n        \r\n      jpa:\r\n        show-sql: true\r\n        hibernate:\r\n          ddl-auto: update\r\n\r\n\r\n\r\nWhen I run the project, the table is created successfully, but data is not inserted in the table.  There are no errors indicating any kind of problem with the code.\r\n","title":"Not able to dump data from excel to MySQL using Spring Batch","body":"<p>I am creating a project for importing data from csv to MySQL using Spring batch using Spring 3.0.1.\nI created the configuration for Reader, Writer and Processor beans as follows along with step and job.\nThe Older method using JobBuilderFactory and StepBuilderFactory is deprecated in Spring Boot  3.0</p>\n<pre><code>@Configuration\n@EnableBatchProcessing\npublic class BatchConfig {\n    \n\n    \n    @Autowired\n    private PlayerRepository playerRepository;\n    \n    @Bean\n    public FlatFileItemReader&lt;Player&gt; reader()\n    {\n        //Subclass of ItemReader class\n        \n        FlatFileItemReader&lt;Player&gt; reader=new FlatFileItemReader&lt;Player&gt;();\n        \n        \n        reader.setResource(new ClassPathResource(&quot;People.csv&quot;));\n        reader.setLineMapper(getLineMapper());\n        reader.setLinesToSkip(1);//Skip line in case of error\n        return reader;\n    }\n\n    private LineMapper&lt;Player&gt; getLineMapper() {\n        \n        DefaultLineMapper&lt;Player&gt; lineMapper\n=new DefaultLineMapper&lt;Player&gt;();\n        \n        DelimitedLineTokenizer lineTokenizer=new DelimitedLineTokenizer();\n        \n        lineTokenizer.setNames(new String[] {&quot;playerID&quot;,&quot;birthYear&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;birthCity&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;nameFirst&quot;,&quot;nameLast&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;retroID&quot;,&quot;bbrefID&quot;});\n        lineTokenizer.setIncludedFields(new int[] {0,1,6,13,14,22,23});\n        \n        BeanWrapperFieldSetMapper&lt;Player&gt; fieldSetMapper=new BeanWrapperFieldSetMapper&lt;Player&gt;();\n        fieldSetMapper.setTargetType(Player.class);\n        \n        \n        lineMapper.setLineTokenizer(lineTokenizer);\n        lineMapper.setFieldSetMapper(fieldSetMapper);\n        \n        return lineMapper;\n    }\n    \n    @Bean\n    public PlayerItemProcessor processor()\n    {\n        return new PlayerItemProcessor();\n    }\n    \n    \n    \n    @Bean\n    public ItemWriter&lt;Player&gt; writer()\n    {\n        return player-&gt; {\n            playerRepository.saveAll(player);\n        };\n    }\n    \n\n    \n    @Bean\n    public Job importPlayerJob(JobRepository jobRepository,Step step1)\n    {\n                    return new JobBuilder(&quot;PLAYER-IMPORT-JOB&quot;,jobRepository).incrementer(new RunIdIncrementer()).flow(step1).end().build();//Write .start() if there is only one step \n                                \n    }\n\n    @Bean\n    public Step step1(JobRepository jobRepository,JpaTransactionManager jpaTransactionManager) {\n        \n        return new StepBuilder(&quot;step1&quot;,jobRepository).&lt;Player,Player&gt;chunk(10,jpaTransactionManager).reader(reader()).processor(processor()).writer(writer()).build();\n        \n    }\n    \n    \n    \n\n}\n</code></pre>\n<p>The PlayerItemProcessor is as follows:</p>\n<pre><code>package com.aryan.batch.config;\n\nimport org.springframework.batch.item.ItemProcessor;\n\nimport com.aryan.batch.modal.Player;\n\npublic class PlayerItemProcessor implements ItemProcessor&lt;Player, Player&gt; //Input and Output\n{\n\n    @Override\n    public Player process(Player player) throws Exception {\n        \n        return player;\n\n}\n}\n</code></pre>\n<p>Player Model is:</p>\n<pre><code>package com.aryan.batch.modal;\n\nimport jakarta.persistence.*;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\npublic class Player {\n\n\n    @Id\n    private String playerId;\n    \n    int birthYear;\n    \n    \n    String birthCity;\n    \n    String nameFirst;\n    \n    String nameLast;\n    \n    String retroID;\n    \n    String bbrefID;\n}\n</code></pre>\n<p>PlayerRepository:</p>\n<pre><code>import org.springframework.data.jpa.repository.JpaRepository;\n\nimport com.aryan.batch.modal.Player;\n\npublic interface PlayerRepository extends JpaRepository&lt;Player, String&gt; {\n\n}\n</code></pre>\n<p>The configuration in application.yml is:</p>\n<pre><code>spring:\n  datasource:\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    \n    url: jdbc:mysql://127.0.0.1:3306/batchdemo\n    username: hbstudent\n    password: hbstudent\n    \n  batch:\n    jdbc:\n      initialize-schema: always  \n    \n  jpa:\n    show-sql: true\n    hibernate:\n      ddl-auto: update\n</code></pre>\n<p>When I run the project, the table is created successfully, but data is not inserted in the table.  There are no errors indicating any kind of problem with the code.</p>\n"},{"tags":["java","ibm-midrange","apache-fop"],"owner":{"account_id":27554173,"reputation":11,"user_id":21028692,"display_name":"Roberto P."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673969652,"creation_date":1673969652,"question_id":75148751,"body_markdown":"i&#39;ve got a problem with Apache FOP and creating PDF files. I&#39;m trying to include an image as a header and an another pdf as an attachment.\r\n\r\n\r\nRunning my application (compiled with Java 8) on Windows it creates PDF with image header and PDF attachment; running the same jar on AS400 machine I got PDF only with image header and no attachment. \r\nMy jar is created with shade plugin; does exists a particular order in pom dependencies to obtain the same result on Windows and AS400?\r\nThanks in advance.\r\n","title":"Apache FOP: fox:external-document and fo:external-graphic","body":"<p>i've got a problem with Apache FOP and creating PDF files. I'm trying to include an image as a header and an another pdf as an attachment.</p>\n<p>Running my application (compiled with Java 8) on Windows it creates PDF with image header and PDF attachment; running the same jar on AS400 machine I got PDF only with image header and no attachment.\nMy jar is created with shade plugin; does exists a particular order in pom dependencies to obtain the same result on Windows and AS400?\nThanks in advance.</p>\n"},{"tags":["java","android","delete-file","native-android"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1672733291,"post_id":74990531,"comment_id":132335845,"body_markdown":"I can&#39;t see any error. I see only a warning","body":"I can&#39;t see any error. I see only a warning"},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1672734867,"post_id":74990531,"comment_id":132336247,"body_markdown":"You really should use [`Files.delete(Path)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#delete(java.nio.file.Path)) or [`Files.deleteIfExists(Path)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#deleteIfExists(java.nio.file.Path)) ...","body":"You really should use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#delete(java.nio.file.Path)\" rel=\"nofollow noreferrer\"><code>Files.delete(Path)</code></a> or <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#deleteIfExists(java.nio.file.Path)\" rel=\"nofollow noreferrer\"><code>Files.deleteIfExists(Path)</code></a> ..."},{"owner":{"account_id":11752927,"reputation":2069,"user_id":8601451,"display_name":"Abraham Mathew"},"score":0,"creation_date":1672738402,"post_id":74990531,"comment_id":132337277,"body_markdown":"which Android API level are you testing on ?","body":"which Android API level are you testing on ?"},{"owner":{"account_id":6746145,"reputation":4817,"user_id":5197712,"display_name":"Anand"},"score":0,"creation_date":1672810458,"post_id":74990531,"comment_id":132355055,"body_markdown":"I tested all these api versions 30,31,32","body":"I tested all these api versions 30,31,32"}],"owner":{"account_id":6746145,"reputation":4817,"user_id":5197712,"display_name":"Anand"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673969627,"creation_date":1672733085,"question_id":74990531,"body_markdown":"File is not getting deleted in Android, I have checked all premissions, and I tried all the solutions available in the internet but nothing helps. Your help will be highly assist me. Thanks in advance.\r\n\r\nI used the below permissions\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_INTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\nAnd this is the code I used\r\n\r\n    File dir = Environment.getExternalStorageDirectory();\r\n    String path = dir.getAbsolutePath() + &quot;/Recordings/Call/&quot; + filename;\r\n    File fdelete = new File(path);\r\n        if (fdelete.exists()) {\r\n          if (fdelete.delete()) {\r\n            System.out.println(&quot;file Deleted :&quot; + path);\r\n          } else {                                              \r\n            System.out.println(&quot;file not Deleted :&quot; + path);\r\n          }\r\n     }\r\n\r\nAnd the err log is\r\n\r\n    W/soft.my_app_name: Got a deoptimization request on un-deoptimizable method void libcore.io.Linux.remove(java.lang.String)\r\n\r\n[![enter image description here][1]][1]\r\n\r\nError log is\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wB0ux.png\r\n  [2]: https://i.stack.imgur.com/KBuyv.png","title":"File is not getting deleted in Android Java?","body":"<p>File is not getting deleted in Android, I have checked all premissions, and I tried all the solutions available in the internet but nothing helps. Your help will be highly assist me. Thanks in advance.</p>\n<p>I used the below permissions</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_INTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n<p>And this is the code I used</p>\n<pre><code>File dir = Environment.getExternalStorageDirectory();\nString path = dir.getAbsolutePath() + &quot;/Recordings/Call/&quot; + filename;\nFile fdelete = new File(path);\n    if (fdelete.exists()) {\n      if (fdelete.delete()) {\n        System.out.println(&quot;file Deleted :&quot; + path);\n      } else {                                              \n        System.out.println(&quot;file not Deleted :&quot; + path);\n      }\n }\n</code></pre>\n<p>And the err log is</p>\n<pre><code>W/soft.my_app_name: Got a deoptimization request on un-deoptimizable method void libcore.io.Linux.remove(java.lang.String)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/wB0ux.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wB0ux.png\" alt=\"enter image description here\" /></a></p>\n<p>Error log is</p>\n<p><a href=\"https://i.stack.imgur.com/KBuyv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KBuyv.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1673969369,"post_id":75148669,"comment_id":132612255,"body_markdown":"What exactly is confusing you? Strings have a natural order just like numbers. So just like you can say that 2 &gt; 1 you can also say that B &gt; A.","body":"What exactly is confusing you? Strings have a natural order just like numbers. So just like you can say that 2 &gt; 1 you can also say that B &gt; A."},{"owner":{"display_name":"user20758216"},"score":0,"creation_date":1673969544,"post_id":75148669,"comment_id":132612325,"body_markdown":"Will it just go through the first letter? Ben &gt; Alex ?","body":"Will it just go through the first letter? Ben &gt; Alex ?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1673969600,"post_id":75148669,"comment_id":132612347,"body_markdown":"Just try the same with `String[] arr` and `String x`. That requires you to replace the comparison operations with `compareTo(...)` and comparing the result with 0 but it should be doable.","body":"Just try the same with <code>String[] arr</code> and <code>String x</code>. That requires you to replace the comparison operations with <code>compareTo(...)</code> and comparing the result with 0 but it should be doable."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":4,"creation_date":1673969738,"post_id":75148669,"comment_id":132612389,"body_markdown":"No, the natural order of strings is defined by their characters (the first that&#39;s greater defines which string is greater) and their length (if all matching chars are the same, the longer string is greater). Hence &quot;Ben&quot; &gt; &quot;Annabel&quot; &gt; &quot;Anna&quot; &gt; &quot;Alex&quot;","body":"No, the natural order of strings is defined by their characters (the first that&#39;s greater defines which string is greater) and their length (if all matching chars are the same, the longer string is greater). Hence &quot;Ben&quot; &gt; &quot;Annabel&quot; &gt; &quot;Anna&quot; &gt; &quot;Alex&quot;"}],"owner":{"display_name":"user20758216"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673969457,"creation_date":1673969243,"question_id":75148669,"body_markdown":"i have been doing research on the jump search algorithm in an array. But i am confused on how you can use the search method with strings. Can anyone give me a link on where to look, or an example on here? Every example i have seen has been with numbers\r\n\r\n\r\n    public class JumpSearch\r\n    {\r\n        public static int jumpSearch(int[] arr, int x)\r\n        {\r\n            int n = arr.length;\r\n      \r\n            int step = (int)Math.floor(Math.sqrt(n));\r\n      \r\n            int prev = 0;\r\n            while (arr[Math.min(step, n)-1] &lt; x)\r\n            {\r\n                prev = step;\r\n                step += (int)Math.floor(Math.sqrt(n));\r\n                if (prev &gt;= n)\r\n                    return -1;\r\n            }\r\n      \r\n            while (arr[prev] &lt; x)\r\n            {\r\n                prev++;\r\n      \r\n                if (prev == Math.min(step, n))\r\n                    return -1;\r\n            }\r\n      \r\n            if (arr[prev] == x)\r\n                return prev;\r\n      \r\n            return -1;\r\n        }\r\n      \r\n        public static void main(String [ ] args)\r\n        {\r\n            int arr[] = { 0, 1, 1, 2, 3, 5, 8, 13, 21,\r\n                        34, 55, 89, 144, 233, 377, 610};\r\n            int x = 55;\r\n      \r\n            // Find the index of &#39;x&#39; using Jump Search\r\n            int index = jumpSearch(arr, x);\r\n      \r\n            System.out.println(&quot;\\nNumber &quot; + x +\r\n                                &quot; is at index &quot; + index);\r\n        }\r\n    }","title":"Jump search with Strings","body":"<p>i have been doing research on the jump search algorithm in an array. But i am confused on how you can use the search method with strings. Can anyone give me a link on where to look, or an example on here? Every example i have seen has been with numbers</p>\n<pre><code>public class JumpSearch\n{\n    public static int jumpSearch(int[] arr, int x)\n    {\n        int n = arr.length;\n  \n        int step = (int)Math.floor(Math.sqrt(n));\n  \n        int prev = 0;\n        while (arr[Math.min(step, n)-1] &lt; x)\n        {\n            prev = step;\n            step += (int)Math.floor(Math.sqrt(n));\n            if (prev &gt;= n)\n                return -1;\n        }\n  \n        while (arr[prev] &lt; x)\n        {\n            prev++;\n  \n            if (prev == Math.min(step, n))\n                return -1;\n        }\n  \n        if (arr[prev] == x)\n            return prev;\n  \n        return -1;\n    }\n  \n    public static void main(String [ ] args)\n    {\n        int arr[] = { 0, 1, 1, 2, 3, 5, 8, 13, 21,\n                    34, 55, 89, 144, 233, 377, 610};\n        int x = 55;\n  \n        // Find the index of 'x' using Jump Search\n        int index = jumpSearch(arr, x);\n  \n        System.out.println(&quot;\\nNumber &quot; + x +\n                            &quot; is at index &quot; + index);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","hdmi-cec"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1673970459,"post_id":75148704,"comment_id":132612642,"body_markdown":"`android.hardware.hdmi.HdmiCecMessage` is not part of the Android SDK, either as a framework class or through a library. There are no classes from `android.hardware.hdmi` in the Android SDK. That class is part of the OS implementation.","body":"<code>android.hardware.hdmi.HdmiCecMessage</code> is not part of the Android SDK, either as a framework class or through a library. There are no classes from <code>android.hardware.hdmi</code> in the Android SDK. That class is part of the OS implementation."},{"owner":{"account_id":18105612,"reputation":171,"user_id":13162956,"display_name":"StackerSapper"},"score":0,"creation_date":1673971533,"post_id":75148704,"comment_id":132613087,"body_markdown":"@CommonsWare is there a way to send HDMI CEC commands through an android app? using https://source.android.com/docs/devices/tv/hdmi-cec somehow? the android HDMI-CEC control service","body":"@CommonsWare is there a way to send HDMI CEC commands through an android app? using <a href=\"https://source.android.com/docs/devices/tv/hdmi-cec\" rel=\"nofollow noreferrer\">source.android.com/docs/devices/tv/hdmi-cec</a> somehow? the android HDMI-CEC control service"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1673972478,"post_id":75148704,"comment_id":132613423,"body_markdown":"I have no idea, sorry.","body":"I have no idea, sorry."}],"owner":{"account_id":18105612,"reputation":171,"user_id":13162956,"display_name":"StackerSapper"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673969382,"creation_date":1673969382,"question_id":75148704,"body_markdown":"I am trying to use `HdmiCecMessage` class in my android app, so I installed this dependency in my gradlef file:\r\n\r\n    dependencies {\r\n        implementation &#39;androidx.hardware:hardware-hdmi:1.0.0&#39;\r\n    }\r\n\r\nbut when I try to import:\r\n\r\n    import android.hardware.hdmi.HdmiCecMessage;\r\n\r\nI get an error I get an error `&quot;cannot find symbol HdmiCecMessage&quot;`.\r\nI saw in google open source that it exsists:\r\nhttps://android.googlesource.com/platform/frameworks/base/+/9302a73/core/java/android/hardware/hdmi/\r\n\r\nany ideas?\r\nthanks","title":"Cant import android HDMI package even though it is in master","body":"<p>I am trying to use <code>HdmiCecMessage</code> class in my android app, so I installed this dependency in my gradlef file:</p>\n<pre><code>dependencies {\n    implementation 'androidx.hardware:hardware-hdmi:1.0.0'\n}\n</code></pre>\n<p>but when I try to import:</p>\n<pre><code>import android.hardware.hdmi.HdmiCecMessage;\n</code></pre>\n<p>I get an error I get an error <code>&quot;cannot find symbol HdmiCecMessage&quot;</code>.\nI saw in google open source that it exsists:\n<a href=\"https://android.googlesource.com/platform/frameworks/base/+/9302a73/core/java/android/hardware/hdmi/\" rel=\"nofollow noreferrer\">https://android.googlesource.com/platform/frameworks/base/+/9302a73/core/java/android/hardware/hdmi/</a></p>\n<p>any ideas?\nthanks</p>\n"},{"tags":["java","aws-sdk-java-2.0","aws-sdk-java"],"comments":[{"owner":{"account_id":13254073,"reputation":23,"user_id":9570749,"display_name":"Pawan Gorai"},"score":0,"creation_date":1674124164,"post_id":75148690,"comment_id":132649482,"body_markdown":"The below response helped me..\nhttps://stackoverflow.com/a/73441024/9570749","body":"The below response helped me.. <a href=\"https://stackoverflow.com/a/73441024/9570749\">stackoverflow.com/a/73441024/9570749</a>"}],"owner":{"account_id":13254073,"reputation":23,"user_id":9570749,"display_name":"Pawan Gorai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673969325,"creation_date":1673969325,"question_id":75148690,"body_markdown":"Do we have any code example for amazon eks APIs using amazon-sdk-java-eks\r\n\r\nI tired to check on https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code\r\nBut didn&#39;t got any for eks.","title":"How to make sdk calls for eks api","body":"<p>Do we have any code example for amazon eks APIs using amazon-sdk-java-eks</p>\n<p>I tired to check on <a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code\" rel=\"nofollow noreferrer\">https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code</a>\nBut didn't got any for eks.</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1444512575,"post_id":33059134,"comment_id":53938207,"body_markdown":"Macen central index rebuilding may take quite a while.  The progress is shown in the Progress pane.","body":"Macen central index rebuilding may take quite a while.  The progress is shown in the Progress pane."},{"owner":{"display_name":"user2173738"},"score":1,"creation_date":1444512586,"post_id":33059134,"comment_id":53938208,"body_markdown":"Don&#39;t give up searching on stackoverflow.","body":"Don&#39;t give up searching on stackoverflow."},{"owner":{"account_id":7100049,"reputation":41,"user_id":5432025,"display_name":"joxwell"},"score":0,"creation_date":1444513327,"post_id":33059134,"comment_id":53938367,"body_markdown":"I have searched and searched and apparently no one posted an issue where there is literally no progress. It stands still on 0%, there is no indication that any gz is downloading and also, i cant see anything new in logs.","body":"I have searched and searched and apparently no one posted an issue where there is literally no progress. It stands still on 0%, there is no indication that any gz is downloading and also, i cant see anything new in logs."},{"owner":{"account_id":4030991,"reputation":24462,"user_id":3357935,"accept_rate":82,"display_name":"Stevoisiak"},"score":0,"creation_date":1507297261,"post_id":33059134,"comment_id":80166019,"body_markdown":"Possible duplicate of [Rebuilding Maven indexes Stuck at 0%](https://stackoverflow.com/questions/36087225/rebuilding-maven-indexes-stuck-at-0)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/36087225/rebuilding-maven-indexes-stuck-at-0\">Rebuilding Maven indexes Stuck at 0%</a>"}],"answers":[{"tags":[],"owner":{"account_id":546657,"reputation":370,"user_id":1072278,"display_name":"milletron"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1454775666,"creation_date":1454775666,"answer_id":35243307,"question_id":33059134,"body_markdown":"The progress indicator appears not to work. Left mine alone for about 8 minutes and all of a sudden it was done. (During which I had googled and found this question.)\r\n\r\nOnce it completed, you can see entries under the Global Repositories &gt; central &quot;folder&quot;.\r\n\r\n[![completed repository index][1]][1]\r\n\r\n\r\nI am using the Eclipse Mars release, btw.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/L3kOg.png","title":"Rebuilding maven indexes using eclipse makes no progress","body":"<p>The progress indicator appears not to work. Left mine alone for about 8 minutes and all of a sudden it was done. (During which I had googled and found this question.)</p>\n\n<p>Once it completed, you can see entries under the Global Repositories > central \"folder\".</p>\n\n<p><a href=\"https://i.stack.imgur.com/L3kOg.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/L3kOg.png\" alt=\"completed repository index\"></a></p>\n\n<p>I am using the Eclipse Mars release, btw.</p>\n"},{"tags":[],"owner":{"account_id":3208426,"reputation":1,"user_id":2708952,"display_name":"user2708952"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645666671,"creation_date":1645666671,"answer_id":71246071,"question_id":33059134,"body_markdown":"If while the update is taking place you start a maven operation, e.g., Project(right-click), Run, Maven build..., &quot;goals: dependency:validate&quot;, a &quot;User Operation is Waiting&quot; popup will show a progress monitor. It will also show your waiting maven operation.\r\n(Offering this because no answer to this question seemed satisfactory, and it still shows up as the first hit when you query &quot;eclipse progress monitor stuck at 0%&quot;.)","title":"Rebuilding maven indexes using eclipse makes no progress","body":"<p>If while the update is taking place you start a maven operation, e.g., Project(right-click), Run, Maven build..., &quot;goals: dependency:validate&quot;, a &quot;User Operation is Waiting&quot; popup will show a progress monitor. It will also show your waiting maven operation.\n(Offering this because no answer to this question seemed satisfactory, and it still shows up as the first hit when you query &quot;eclipse progress monitor stuck at 0%&quot;.)</p>\n"},{"tags":[],"owner":{"account_id":27554174,"reputation":11,"user_id":21028693,"display_name":"user21028693"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673968758,"creation_date":1673968698,"answer_id":75148544,"question_id":33059134,"body_markdown":"Eclipse policy has changed to not rebuild the index now.\r\nWhen directly modifying pom.xml, it has been changed to be suggested in the form of auto complete.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hGLPm.png\r\n\r\n\r\nhttps://github.com/eclipse-m2e/m2e-core/issues/914\r\nhttps://github.com/eclipse-m2e/m2e-core/issues/930","title":"Rebuilding maven indexes using eclipse makes no progress","body":"<p>Eclipse policy has changed to not rebuild the index now.\nWhen directly modifying pom.xml, it has been changed to be suggested in the form of auto complete.</p>\n<p><img src=\"https://i.stack.imgur.com/hGLPm.png\" alt=\"enter image description here\" /></p>\n<p><a href=\"https://github.com/eclipse-m2e/m2e-core/issues/914\" rel=\"nofollow noreferrer\">https://github.com/eclipse-m2e/m2e-core/issues/914</a>\n<a href=\"https://github.com/eclipse-m2e/m2e-core/issues/930\" rel=\"nofollow noreferrer\">https://github.com/eclipse-m2e/m2e-core/issues/930</a></p>\n"}],"owner":{"account_id":7100049,"reputation":41,"user_id":5432025,"display_name":"joxwell"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5765,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":35243307,"answer_count":3,"score":1,"last_activity_date":1673968758,"creation_date":1444512310,"question_id":33059134,"body_markdown":"i am having an issue with maven indexes rebuilding using eclipse. When I start, it just says `Updating index for repository: central|https://repo.maven.apache.org/maven2`\r\n\r\nBut there is no progress, or even error for tens of minutes, or nothing, it just doesn&#39;t give me any feedback.\r\n\r\nI have also tried with other eclipse instance on my computer and problem was the same.\r\n\r\nI am running Eclipse Neon (4.6.0 m1).\r\n\r\nAlso i Have tried to delete nexus folder from my `org.eclipse.m2e.core` folder in workspace.\r\n\r\n\r\nTried with eclipse Kepler on another computer on same network, and there is a progress (gz file being downloaded).\r\n\r\nI am also very sure that i don&#39;t have proxy or any other limitations on my computer or network.","title":"Rebuilding maven indexes using eclipse makes no progress","body":"<p>i am having an issue with maven indexes rebuilding using eclipse. When I start, it just says <code>Updating index for repository: central|https://repo.maven.apache.org/maven2</code></p>\n\n<p>But there is no progress, or even error for tens of minutes, or nothing, it just doesn't give me any feedback.</p>\n\n<p>I have also tried with other eclipse instance on my computer and problem was the same.</p>\n\n<p>I am running Eclipse Neon (4.6.0 m1).</p>\n\n<p>Also i Have tried to delete nexus folder from my <code>org.eclipse.m2e.core</code> folder in workspace.</p>\n\n<p>Tried with eclipse Kepler on another computer on same network, and there is a progress (gz file being downloaded).</p>\n\n<p>I am also very sure that i don't have proxy or any other limitations on my computer or network.</p>\n"},{"tags":["java","android","picasso","android-camera2","android-camera-intent"],"comments":[{"owner":{"account_id":13428169,"reputation":781,"user_id":9688781,"display_name":"jbmcle"},"score":0,"creation_date":1673968307,"post_id":75148414,"comment_id":132611875,"body_markdown":"Have you tried adding a listener to listen for error messages?","body":"Have you tried adding a listener to listen for error messages?"},{"owner":{"account_id":25311834,"reputation":73,"user_id":19134480,"display_name":"Patrick Renaud"},"score":0,"creation_date":1673968589,"post_id":75148414,"comment_id":132611991,"body_markdown":"i usually inspect the logcat for errorrs . But there&#39;s no error displaying and my app doesnt crash too . I just tried to load the image using Picasso but the image doesn&#39;t display","body":"i usually inspect the logcat for errorrs . But there&#39;s no error displaying and my app doesnt crash too . I just tried to load the image using Picasso but the image doesn&#39;t display"},{"owner":{"account_id":13428169,"reputation":781,"user_id":9688781,"display_name":"jbmcle"},"score":0,"creation_date":1673968849,"post_id":75148414,"comment_id":132612082,"body_markdown":"You have to explicitly set a listener for Picasso to listen for events. See this answer: https://stackoverflow.com/questions/26548660/how-to-listen-for-picasso-android-load-complete-events#26548894","body":"You have to explicitly set a listener for Picasso to listen for events. See this answer: <a href=\"https://stackoverflow.com/questions/26548660/how-to-listen-for-picasso-android-load-complete-events#26548894\" title=\"how to listen for picasso android load complete events%2326548894\">stackoverflow.com/questions/26548660/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":26855967,"reputation":2341,"user_id":20440272,"display_name":"Sohaib Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673968524,"creation_date":1673968524,"answer_id":75148506,"question_id":75148414,"body_markdown":"I&#39;m not sure about picasso that it shows image from filePath or not. But glide can do that.\r\n\r\nUsing glide with listener, you can surely achieve image\r\n\r\n    Glide\r\n        .with(context)\r\n        .load(path)\r\n        .listener(object : RequestListener&lt;Drawable&gt; {\r\n            override fun onLoadFailed(e: GlideException?, model: Any?, target: Target&lt;Drawable&gt;?, isFirstResource: Boolean): Boolean {\r\n                //TODO handle error images while loading photo\r\n                return true\r\n            }\r\n\r\n            override fun onResourceReady(resource: Drawable?, model: Any?, target: Target&lt;Drawable&gt;?, dataSource: DataSource?, isFirstResource: Boolean): Boolean {\r\n                //TODO use &quot;resource&quot; as the photo for your ImageView\r\n                return true\r\n            }\r\n\r\n        })\r\n        .into(binding.imageContainer)","title":"How to load a photo with Picasso","body":"<p>I'm not sure about picasso that it shows image from filePath or not. But glide can do that.</p>\n<p>Using glide with listener, you can surely achieve image</p>\n<pre><code>Glide\n    .with(context)\n    .load(path)\n    .listener(object : RequestListener&lt;Drawable&gt; {\n        override fun onLoadFailed(e: GlideException?, model: Any?, target: Target&lt;Drawable&gt;?, isFirstResource: Boolean): Boolean {\n            //TODO handle error images while loading photo\n            return true\n        }\n\n        override fun onResourceReady(resource: Drawable?, model: Any?, target: Target&lt;Drawable&gt;?, dataSource: DataSource?, isFirstResource: Boolean): Boolean {\n            //TODO use &quot;resource&quot; as the photo for your ImageView\n            return true\n        }\n\n    })\n    .into(binding.imageContainer)\n</code></pre>\n"}],"owner":{"account_id":25311834,"reputation":73,"user_id":19134480,"display_name":"Patrick Renaud"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75148506,"answer_count":1,"score":0,"last_activity_date":1673968524,"creation_date":1673968090,"question_id":75148414,"body_markdown":"I am implementing an app and i&#39;m trying to load the photo using picasso but i am not getting any result . How can i figure it out ? Here &#39;s what i&#39;ve done : \r\n\r\n\r\n        public class FullScreenPhoto extends AppCompatActivity {\r\n        ActivityFullScreenPhotoBinding binding;\r\n            @Override\r\n            protected void onCreate(Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n                binding=ActivityFullScreenPhotoBinding.inflate(getLayoutInflater());\r\n                setContentView(binding.getRoot());\r\n        //Retrieving image path\r\n                Intent intent = getIntent();\r\n                String path =intent.getStringExtra(&quot;image_path&quot;);\r\n    //value of path=/storage/emulated/0/Android/data/com.ticanalyse.mheath.bf/files/Pictures/AH144644_7972289747179568715.jpg\r\n                if (Objects.equals(path, &quot;no_image&quot;)) {\r\n                    binding.imageContainer.setVisibility(View.GONE);\r\n                    binding.textView.setVisibility(View.VISIBLE);\r\n                }else{\r\n                    Log.d(&quot;path&quot;,path);\r\n                    binding.imageContainer.setVisibility(View.VISIBLE);\r\n                    Picasso.get()\r\n                            .load(path)\r\n                            .into(binding.imageContainer);\r\n        \r\n                }\r\n            }\r\n        }\r\n\r\n","title":"How to load a photo with Picasso","body":"<p>I am implementing an app and i'm trying to load the photo using picasso but i am not getting any result . How can i figure it out ? Here 's what i've done :</p>\n<pre><code>    public class FullScreenPhoto extends AppCompatActivity {\n    ActivityFullScreenPhotoBinding binding;\n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            binding=ActivityFullScreenPhotoBinding.inflate(getLayoutInflater());\n            setContentView(binding.getRoot());\n    //Retrieving image path\n            Intent intent = getIntent();\n            String path =intent.getStringExtra(&quot;image_path&quot;);\n//value of path=/storage/emulated/0/Android/data/com.ticanalyse.mheath.bf/files/Pictures/AH144644_7972289747179568715.jpg\n            if (Objects.equals(path, &quot;no_image&quot;)) {\n                binding.imageContainer.setVisibility(View.GONE);\n                binding.textView.setVisibility(View.VISIBLE);\n            }else{\n                Log.d(&quot;path&quot;,path);\n                binding.imageContainer.setVisibility(View.VISIBLE);\n                Picasso.get()\n                        .load(path)\n                        .into(binding.imageContainer);\n    \n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1673943743,"post_id":75142519,"comment_id":132603716,"body_markdown":"You are familiar with https://maven.apache.org/plugins/maven-javadoc-plugin/usage.html ?","body":"You are familiar with <a href=\"https://maven.apache.org/plugins/maven-javadoc-plugin/usage.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-javadoc-plugin/usage.html</a> ?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1673955571,"post_id":75142519,"comment_id":132607315,"body_markdown":"Javadoc plugin does not have a configuration with descriptor etc. that looks like a configuration for maven-assembly-plugin...","body":"Javadoc plugin does not have a configuration with descriptor etc. that looks like a configuration for maven-assembly-plugin..."},{"owner":{"account_id":4321457,"reputation":901,"user_id":3529526,"accept_rate":68,"display_name":"tiamat"},"score":0,"creation_date":1673955920,"post_id":75142519,"comment_id":132607425,"body_markdown":"yes it seems javadoc plugin is quite limited for my need...","body":"yes it seems javadoc plugin is quite limited for my need..."}],"answers":[{"tags":[],"owner":{"account_id":2993414,"reputation":12019,"user_id":2540471,"display_name":"Robert Scholte"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673968467,"creation_date":1673968467,"answer_id":75148489,"question_id":75142519,"body_markdown":"Your main question is: why is `maven-assembly-plugin:single` not called during `javadoc:javadoc` call?\r\nFor this you need to understand the difference between lifecycles and plugin goals. \r\nA plugin goal is a single task, easy to recognize by the colon. So `javadoc:javadoc` is a plugin goal.\r\nConsider a lifecycle as an ordered group of plugin goals. You can call a lifecycle-phase (has no colons) and Maven knows which plugins need to be executed. `package` is a lifecycle-phase.\r\n\r\nSo if you are calling `javadoc:javadoc`, that will be the only task. There&#39;s no reason for Maven to also execute `maven-assembly-plugin:single`.\r\n\r\nbtw, did you try `javadoc:jar`? You should know that jar is just a zip file with extras.\r\n","title":"Maven Build Javadoc Zip during mvn javadoc:javadoc","body":"<p>Your main question is: why is <code>maven-assembly-plugin:single</code> not called during <code>javadoc:javadoc</code> call?\nFor this you need to understand the difference between lifecycles and plugin goals.\nA plugin goal is a single task, easy to recognize by the colon. So <code>javadoc:javadoc</code> is a plugin goal.\nConsider a lifecycle as an ordered group of plugin goals. You can call a lifecycle-phase (has no colons) and Maven knows which plugins need to be executed. <code>package</code> is a lifecycle-phase.</p>\n<p>So if you are calling <code>javadoc:javadoc</code>, that will be the only task. There's no reason for Maven to also execute <code>maven-assembly-plugin:single</code>.</p>\n<p>btw, did you try <code>javadoc:jar</code>? You should know that jar is just a zip file with extras.</p>\n"}],"owner":{"account_id":4321457,"reputation":901,"user_id":3529526,"accept_rate":68,"display_name":"tiamat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75148489,"answer_count":1,"score":0,"last_activity_date":1673968467,"creation_date":1673935703,"question_id":75142519,"body_markdown":"I&#39;m generating a ZIP of generated Javadoc during mvn install operation by using the following:\r\n\r\n                &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                  &lt;execution&gt;\r\n                    &lt;id&gt;docs-assembly&lt;/id&gt;\r\n                    &lt;phase&gt;package&lt;/phase&gt;\r\n                    &lt;configuration&gt;\r\n                      &lt;finalName&gt;${project.build.finalName}-${project.version}-Javadoc&lt;/finalName&gt;\r\n                      &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n                      &lt;descriptors&gt;\r\n                        &lt;descriptor&gt;src/main/assemble.xml&lt;/descriptor&gt;\r\n                      &lt;/descriptors&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;goals&gt;\r\n                      &lt;goal&gt;single&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                  &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n              &lt;/plugin&gt;\r\n\r\nBut if I want to generate this ZIP file by launching mvn javadoc:javadoc, the ZIP file is not generated:\r\n\r\n                &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;docs-assembly&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;configuration&gt;\r\n                          &lt;finalName&gt;${project.build.finalName}-${project.version}-Javadoc&lt;/finalName&gt;\r\n                          &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n                          &lt;descriptors&gt;\r\n                            &lt;descriptor&gt;src/main/assemble.xml&lt;/descriptor&gt;\r\n                          &lt;/descriptors&gt;\r\n                        &lt;/configuration&gt;\r\n                        &lt;goals&gt;\r\n                          &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                      &lt;/execution&gt;\r\n                  &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\nI Just copy / paste the execution but the docs-assembly is not executed with javadoc:javadoc...\r\nwhy it is not called during javadoc:javadoc call ?\r\n","title":"Maven Build Javadoc Zip during mvn javadoc:javadoc","body":"<p>I'm generating a ZIP of generated Javadoc during mvn install operation by using the following:</p>\n<pre><code>            &lt;plugin&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n              &lt;execution&gt;\n                &lt;id&gt;docs-assembly&lt;/id&gt;\n                &lt;phase&gt;package&lt;/phase&gt;\n                &lt;configuration&gt;\n                  &lt;finalName&gt;${project.build.finalName}-${project.version}-Javadoc&lt;/finalName&gt;\n                  &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n                  &lt;descriptors&gt;\n                    &lt;descriptor&gt;src/main/assemble.xml&lt;/descriptor&gt;\n                  &lt;/descriptors&gt;\n                &lt;/configuration&gt;\n                &lt;goals&gt;\n                  &lt;goal&gt;single&lt;/goal&gt;\n                &lt;/goals&gt;\n              &lt;/execution&gt;\n            &lt;/executions&gt;\n          &lt;/plugin&gt;\n</code></pre>\n<p>But if I want to generate this ZIP file by launching mvn javadoc:javadoc, the ZIP file is not generated:</p>\n<pre><code>            &lt;plugin&gt;\n            &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;docs-assembly&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;configuration&gt;\n                      &lt;finalName&gt;${project.build.finalName}-${project.version}-Javadoc&lt;/finalName&gt;\n                      &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n                      &lt;descriptors&gt;\n                        &lt;descriptor&gt;src/main/assemble.xml&lt;/descriptor&gt;\n                      &lt;/descriptors&gt;\n                    &lt;/configuration&gt;\n                    &lt;goals&gt;\n                      &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                  &lt;/execution&gt;\n              &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>I Just copy / paste the execution but the docs-assembly is not executed with javadoc:javadoc...\nwhy it is not called during javadoc:javadoc call ?</p>\n"},{"tags":["java","polymorphism","overriding","parent-child","subclass"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1673968109,"post_id":75148387,"comment_id":132611808,"body_markdown":"seeing as you don&#39;t want to call the overridden methods, don&#39;t override them. also, try by just: super.print() instead of super.doPrint()","body":"seeing as you don&#39;t want to call the overridden methods, don&#39;t override them. also, try by just: super.print() instead of super.doPrint()"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":2,"creation_date":1673968153,"post_id":75148387,"comment_id":132611825,"body_markdown":"Did you try debugging to see the flow it takes?","body":"Did you try debugging to see the flow it takes?"},{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":0,"creation_date":1673970265,"post_id":75148387,"comment_id":132612567,"body_markdown":"I suppose you&#39;ll get the same behaviour in C++ if you declare your C++ methods as `virtual`","body":"I suppose you&#39;ll get the same behaviour in C++ if you declare your C++ methods as <code>virtual</code>"}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673968256,"creation_date":1673968256,"answer_id":75148446,"question_id":75148387,"body_markdown":"For instances of B, A&#39;s `doPrint()` which calls `this.print()` invokes the *instance&#39;s* implementation of `print()`, ie B&#39;s `print()`.\r\n\r\n`this.print()` does *not* mean &quot;the implementation of `print()` declared in this class&quot;.\r\n\r\n`this.print()` is the same as just `print()` - qualifying it with `this.` is both implied and redundant.","title":"Calling an overriden function in java","body":"<p>For instances of B, A's <code>doPrint()</code> which calls <code>this.print()</code> invokes the <em>instance's</em> implementation of <code>print()</code>, ie B's <code>print()</code>.</p>\n<p><code>this.print()</code> does <em>not</em> mean &quot;the implementation of <code>print()</code> declared in this class&quot;.</p>\n<p><code>this.print()</code> is the same as just <code>print()</code> - qualifying it with <code>this.</code> is both implied and redundant.</p>\n"}],"owner":{"account_id":4372742,"reputation":39,"user_id":3566594,"display_name":"Star-lordX"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1673968256,"creation_date":1673967948,"question_id":75148387,"body_markdown":"I&#39;m writing a piece of code in which I need to call an overridden method of a parent class. This is easy to do in C++:\r\n\r\n    class A{\r\n      public:\r\n        void doPrint() {\r\n            print();\r\n        }\r\n        \r\n        void print(){\r\n          cout &lt;&lt; &quot;This is A&quot; &lt;&lt; endl;\r\n        }\r\n    };\r\n    \r\n    class B: public A{\r\n      public:\r\n        void doPrint() {\r\n            print();\r\n        }\r\n        \r\n        void print(){\r\n          A::doPrint();\r\n        }\r\n    };\r\n    \r\n    int main() {\r\n      B b;\r\n      b.doPrint();\r\n    \r\n      return 0;\r\n    }\r\n\r\nHowever, I need to do this in java. My current java implementation trying to emulate this behavior from C++ is:\r\n\r\n    class A {\r\n        public void doPrint() {\r\n            this.print();\r\n        }\r\n        \r\n        public void print() {\r\n            System.out.println(&quot;This is A&quot;);\r\n        }\r\n    }\r\n    \r\n    class B extends A {\r\n        @Override\r\n        public void doPrint() {\r\n            this.print();\r\n        }\r\n        \r\n        @Override\r\n        public void print() {\r\n            super.doPrint(); \r\n        }\r\n        \r\n    }\r\n    \r\n    public class main {\r\n        public static void main(String[] args) {\r\n            B b = new B();\r\n            b.doPrint();\r\n        }\r\n    }\r\n\r\nHowever, when I do this I get a stackoverflow error caused by an infinite loop of doPrint and print:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.StackOverflowError\r\n    \tat A.doPrint(A.java:4)\r\n    \tat B.print(B.java:12)\r\n    \tat A.doPrint(A.java:4)\r\n    \tat B.print(B.java:12)\r\n    \tat A.doPrint(A.java:4)\r\n    \tat B.print(B.java:12)\r\n    \tat A.doPrint(A.java:4)\r\n    \tat B.print(B.java:12)\r\n\r\nIs there a way to accomplish what I&#39;m trying to do in Java? I&#39;m having trouble seeing where my logic is going wrong.","title":"Calling an overriden function in java","body":"<p>I'm writing a piece of code in which I need to call an overridden method of a parent class. This is easy to do in C++:</p>\n<pre><code>class A{\n  public:\n    void doPrint() {\n        print();\n    }\n    \n    void print(){\n      cout &lt;&lt; &quot;This is A&quot; &lt;&lt; endl;\n    }\n};\n\nclass B: public A{\n  public:\n    void doPrint() {\n        print();\n    }\n    \n    void print(){\n      A::doPrint();\n    }\n};\n\nint main() {\n  B b;\n  b.doPrint();\n\n  return 0;\n}\n</code></pre>\n<p>However, I need to do this in java. My current java implementation trying to emulate this behavior from C++ is:</p>\n<pre><code>class A {\n    public void doPrint() {\n        this.print();\n    }\n    \n    public void print() {\n        System.out.println(&quot;This is A&quot;);\n    }\n}\n\nclass B extends A {\n    @Override\n    public void doPrint() {\n        this.print();\n    }\n    \n    @Override\n    public void print() {\n        super.doPrint(); \n    }\n    \n}\n\npublic class main {\n    public static void main(String[] args) {\n        B b = new B();\n        b.doPrint();\n    }\n}\n</code></pre>\n<p>However, when I do this I get a stackoverflow error caused by an infinite loop of doPrint and print:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.StackOverflowError\n    at A.doPrint(A.java:4)\n    at B.print(B.java:12)\n    at A.doPrint(A.java:4)\n    at B.print(B.java:12)\n    at A.doPrint(A.java:4)\n    at B.print(B.java:12)\n    at A.doPrint(A.java:4)\n    at B.print(B.java:12)\n</code></pre>\n<p>Is there a way to accomplish what I'm trying to do in Java? I'm having trouble seeing where my logic is going wrong.</p>\n"},{"tags":["java","json","maven","pom.xml"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":4,"creation_date":1673967769,"post_id":75148324,"comment_id":132611686,"body_markdown":"missing `&lt;dependencies&gt;` in structure: https://maven.apache.org/pom.html#dependencies","body":"missing <code>&lt;dependencies&gt;</code> in structure: <a href=\"https://maven.apache.org/pom.html#dependencies\" rel=\"nofollow noreferrer\">maven.apache.org/pom.html#dependencies</a>"},{"owner":{"account_id":6556336,"reputation":1128,"user_id":5128343,"display_name":"Jelaby"},"score":1,"creation_date":1673967864,"post_id":75148324,"comment_id":132611724,"body_markdown":"Please copy and paste the exception message as text rather than as an image -- that will help people find this question and any answers it provides.","body":"Please copy and paste the exception message as text rather than as an image -- that will help people find this question and any answers it provides."},{"owner":{"account_id":22506547,"reputation":965,"user_id":16702058,"display_name":"Hi computer"},"score":0,"creation_date":1673968776,"post_id":75148324,"comment_id":132612062,"body_markdown":"Please [don’t post images of code, error messages, or other textual data.](https://meta.stackoverflow.com/q/285551/16702058)","body":"Please <a href=\"https://meta.stackoverflow.com/q/285551/16702058\">don’t post images of code, error messages, or other textual data.</a>"}],"owner":{"account_id":27553973,"reputation":1,"user_id":21028535,"display_name":"Julie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673967816,"creation_date":1673967605,"question_id":75148324,"body_markdown":"[![\\[enter image description here\\](https://i.stack.imgur.com/fCqXF.png)][1]][1]\r\n\r\n\r\n This is the code I added \r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n    &lt;version&gt;20220924&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/j4Yfx.png","title":"Why does the error appear when I add Json from Maven Repositories to POM in my project?","body":"<p><a href=\"https://i.stack.imgur.com/j4Yfx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j4Yfx.png\" alt=\"[enter image description here](https://i.stack.imgur.com/fCqXF.png)\" /></a></p>\n<p>This is the code I added</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.json&lt;/groupId&gt;\n&lt;artifactId&gt;json&lt;/artifactId&gt;\n&lt;version&gt;20220924&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":325417,"reputation":10221,"user_id":646591,"accept_rate":73,"display_name":"Noel"},"score":2,"creation_date":1674013585,"post_id":75148072,"comment_id":132622469,"body_markdown":"Try enclosing the field in quotes. `@Query(&quot;{&#39;customerServants._id&#39;:?0}&quot;)`","body":"Try enclosing the field in quotes. <code>@Query(&quot;{&#39;customerServants._id&#39;:?0}&quot;)</code>"},{"owner":{"account_id":1373928,"reputation":61,"user_id":1308327,"display_name":"Rodolpho"},"score":0,"creation_date":1686060831,"post_id":75148072,"comment_id":134745435,"body_markdown":"I had the same problem and the @Noel answer, solved the problem. Thanks.","body":"I had the same problem and the @Noel answer, solved the problem. Thanks."}],"owner":{"account_id":23217269,"reputation":21,"user_id":17310018,"display_name":"peebee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673967717,"creation_date":1673966417,"question_id":75148072,"body_markdown":"I have a simple query I want to perform in springboot. I am trying to return a document if a certain embedded document exists and I am searching for it by the value _id.   \r\nThe syntax I am using is:   \r\n\r\n```\r\n  @Query(&quot;{customerServants._id:?0}&quot;)\r\n    TravelAgency findTravelAgency(int id);\r\n```   \r\nThis for some reason returns null eventhough only ids get passed to this query that actually exist in the database.   \r\nI checked it in mongodb with:   \r\n```\r\ndb.travel_agencies.find({&quot;customerServants._id&quot;: 15})\r\n```   \r\nwhich for my understanding should be the same query as the first one, but this one actually returns the right value(15 is just some value that actually gets passed to the spring data query).   \r\nWhat am I missing here? \r\n\r\nAlso this is the error I get:   \r\n```  \r\n  java.lang.StackOverflowError: null\r\n\tat org.bson.AbstractBsonReader.checkPreconditions(AbstractBsonReader.java:721) ~[bson-4.6.0.jar:na]\r\n\tat org.bson.AbstractBsonReader.readStartDocument(AbstractBsonReader.java:449) ~[bson-4.6.0.jar:na]\r\n\tat org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:235) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\r\n\tat org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:67) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\r\n\tat org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.readValue(ParameterBindingDocumentCodec.java:371) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\r\n\tat org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:248) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\r\n\tat org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:67) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\r\n\tat org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.readValue(ParameterBindingDocumentCodec.java:371) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\r\n\tat org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:248) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\r\n\tat org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:67) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\r\n\tat org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.readValue(ParameterBindingDocumentCodec.java:371) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\r\n\tat org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:248) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\r\n\tat org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:67) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\r\n\tat org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.readValue(ParameterBindingDocumentCodec.java:371) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\r\n\tat org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:248) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\r\n\tat org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:67) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\r\n\tat org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.readValue(ParameterBindingDocumentCodec.java:371) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\r\n\tat org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:248) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\r\n\tat org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:67) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\r\n\tat org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.readValue(ParameterBindingDocumentCodec.java:371) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\r\n``` ","title":"Mongodb query vs spring data mongodb query","body":"<p>I have a simple query I want to perform in springboot. I am trying to return a document if a certain embedded document exists and I am searching for it by the value _id.<br />\nThe syntax I am using is:</p>\n<pre><code>  @Query(&quot;{customerServants._id:?0}&quot;)\n    TravelAgency findTravelAgency(int id);\n</code></pre>\n<p>This for some reason returns null eventhough only ids get passed to this query that actually exist in the database.<br />\nI checked it in mongodb with:</p>\n<pre><code>db.travel_agencies.find({&quot;customerServants._id&quot;: 15})\n</code></pre>\n<p>which for my understanding should be the same query as the first one, but this one actually returns the right value(15 is just some value that actually gets passed to the spring data query).<br />\nWhat am I missing here?</p>\n<p>Also this is the error I get:</p>\n<pre><code>  java.lang.StackOverflowError: null\n    at org.bson.AbstractBsonReader.checkPreconditions(AbstractBsonReader.java:721) ~[bson-4.6.0.jar:na]\n    at org.bson.AbstractBsonReader.readStartDocument(AbstractBsonReader.java:449) ~[bson-4.6.0.jar:na]\n    at org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:235) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\n    at org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:67) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\n    at org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.readValue(ParameterBindingDocumentCodec.java:371) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\n    at org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:248) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\n    at org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:67) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\n    at org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.readValue(ParameterBindingDocumentCodec.java:371) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\n    at org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:248) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\n    at org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:67) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\n    at org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.readValue(ParameterBindingDocumentCodec.java:371) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\n    at org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:248) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\n    at org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:67) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\n    at org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.readValue(ParameterBindingDocumentCodec.java:371) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\n    at org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:248) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\n    at org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:67) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\n    at org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.readValue(ParameterBindingDocumentCodec.java:371) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\n    at org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:248) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\n    at org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:67) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\n    at org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.readValue(ParameterBindingDocumentCodec.java:371) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\n</code></pre>\n"},{"tags":["java","serialization","jackson"],"comments":[{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1673972257,"post_id":75148321,"comment_id":132613347,"body_markdown":"My first idea is using [`JsonIgnore`](https://fasterxml.github.io/jackson-annotations/javadoc/2.14/com/fasterxml/jackson/annotation/JsonIgnore.html) with fields you want to be ignored, if I haven&#39;t understood well please include some example.","body":"My first idea is using <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.14/com/fasterxml/jackson/annotation/JsonIgnore.html\" rel=\"nofollow noreferrer\"><code>JsonIgnore</code></a> with fields you want to be ignored, if I haven&#39;t understood well please include some example."},{"owner":{"account_id":2048387,"reputation":321,"user_id":1827955,"accept_rate":33,"display_name":"Fido"},"score":0,"creation_date":1673996285,"post_id":75148321,"comment_id":132620191,"body_markdown":"@dariosicily That would work similarly, but it is not a good solution if you need just one member: everyone then needs to remember to mark new members with JsonIgnore too. Additionally, the JsonValue/Custom serializer solution has the advantage of a flattened hierarchy, the object with that single member is represented by that member in the serialized file.","body":"@dariosicily That would work similarly, but it is not a good solution if you need just one member: everyone then needs to remember to mark new members with JsonIgnore too. Additionally, the JsonValue/Custom serializer solution has the advantage of a flattened hierarchy, the object with that single member is represented by that member in the serialized file."},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1674028248,"post_id":75148321,"comment_id":132624785,"body_markdown":"Thanks for your clarification,  according to the documentation your initial idea of using  `JsonValue` with a getter should have worked with any serializable type.","body":"Thanks for your clarification,  according to the documentation your initial idea of using  <code>JsonValue</code> with a getter should have worked with any serializable type."},{"owner":{"account_id":2048387,"reputation":321,"user_id":1827955,"accept_rate":33,"display_name":"Fido"},"score":0,"creation_date":1674123968,"post_id":75148321,"comment_id":132649419,"body_markdown":"The problem with `JsonValue` is that it serializes the annotated member as a value, while I need to serialize the member normally (i.e., apply standard serialization for the member).","body":"The problem with <code>JsonValue</code> is that it serializes the annotated member as a value, while I need to serialize the member normally (i.e., apply standard serialization for the member)."}],"owner":{"account_id":2048387,"reputation":321,"user_id":1827955,"accept_rate":33,"display_name":"Fido"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673967602,"creation_date":1673967602,"question_id":75148321,"body_markdown":"Consider a Java class with multiple members:\r\n```Java\r\nclass MyClass{\r\n    private OtherClass member;\r\n\r\n    // more properties, getters...\r\n    ...\r\n}\r\n\r\n```\r\n\r\nNow, what can I do to represent `MyClass` by a serialized version of `member`? I&#39;ve tried the `@JsonValue` annotation, but it works just for simple types (String, int).\r\n\r\nCurrently, I resolved that by using a custom serializer for `MyClass`:\r\n```Java\r\npublic class MyClassSerializer extends JsonSerializer&lt;MyClass&gt; {\r\n\t@Override\r\n\tpublic void serialize(\r\n\t\tMyClass myClass, JsonGenerator jsonGenerator, SerializerProvider serializerProvider\r\n\t) throws IOException {\r\n\t\tserializerProvider.defaultSerializeValue(myClass.getMember(), jsonGenerator);\r\n\t}\r\n}\r\n```\r\n\r\n, but it feels like that there must be a simpler solution.","title":"Jackson serialization: represent object by just a single member","body":"<p>Consider a Java class with multiple members:</p>\n<pre><code>class MyClass{\n    private OtherClass member;\n\n    // more properties, getters...\n    ...\n}\n\n</code></pre>\n<p>Now, what can I do to represent <code>MyClass</code> by a serialized version of <code>member</code>? I've tried the <code>@JsonValue</code> annotation, but it works just for simple types (String, int).</p>\n<p>Currently, I resolved that by using a custom serializer for <code>MyClass</code>:</p>\n<pre><code>public class MyClassSerializer extends JsonSerializer&lt;MyClass&gt; {\n    @Override\n    public void serialize(\n        MyClass myClass, JsonGenerator jsonGenerator, SerializerProvider serializerProvider\n    ) throws IOException {\n        serializerProvider.defaultSerializeValue(myClass.getMember(), jsonGenerator);\n    }\n}\n</code></pre>\n<p>, but it feels like that there must be a simpler solution.</p>\n"},{"tags":["java","spring-boot","junit","mocking","mockito"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1673967299,"post_id":75148187,"comment_id":132611471,"body_markdown":"JUnit 4 or 5? You should look at using `@ExtendWith` for JUnit 5. See https://stackoverflow.com/a/40962941/639520","body":"JUnit 4 or 5? You should look at using <code>@ExtendWith</code> for JUnit 5. See <a href=\"https://stackoverflow.com/a/40962941/639520\">stackoverflow.com/a/40962941/639520</a>"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1673967500,"post_id":75148187,"comment_id":132611577,"body_markdown":"Does this answer your question? [How to use Mockito with JUnit5](https://stackoverflow.com/questions/40961057/how-to-use-mockito-with-junit5)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/40961057/how-to-use-mockito-with-junit5\">How to use Mockito with JUnit5</a>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1673967599,"post_id":75148187,"comment_id":132611620,"body_markdown":"And why is this error wrong? Looks like your assertions are wrong, you expect no calls but there is a call. Looks like your test is wrong or your implementation.","body":"And why is this error wrong? Looks like your assertions are wrong, you expect no calls but there is a call. Looks like your test is wrong or your implementation."},{"owner":{"account_id":16404409,"reputation":187,"user_id":11849384,"display_name":"stuchlyf"},"score":0,"creation_date":1673968492,"post_id":75148187,"comment_id":132611962,"body_markdown":"@E-Riz , I&#39;ve just Updated the Code and made it a bit more specific. I&#39;m annotating the class with `@ExtendWith(SpringExtension.class)`, as far as I know this should already include everything for Mockito","body":"@E-Riz , I&#39;ve just Updated the Code and made it a bit more specific. I&#39;m annotating the class with <code>@ExtendWith(SpringExtension.class)</code>, as far as I know this should already include everything for Mockito"},{"owner":{"account_id":16404409,"reputation":187,"user_id":11849384,"display_name":"stuchlyf"},"score":0,"creation_date":1673968608,"post_id":75148187,"comment_id":132611996,"body_markdown":"@M.Deinum , I&#39;ve already verified, that the Methods in the Errors aren&#39;t being called with the debugger. Also when running one Test by itself it work, both of them are successful, they only fail when running the whole class.","body":"@M.Deinum , I&#39;ve already verified, that the Methods in the Errors aren&#39;t being called with the debugger. Also when running one Test by itself it work, both of them are successful, they only fail when running the whole class."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673968774,"post_id":75148187,"comment_id":132612060,"body_markdown":"Then you must be doing weird things in your test. Please add something we can run include dependencies and your configuration.","body":"Then you must be doing weird things in your test. Please add something we can run include dependencies and your configuration."}],"owner":{"account_id":16404409,"reputation":187,"user_id":11849384,"display_name":"stuchlyf"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673967529,"creation_date":1673966960,"question_id":75148187,"body_markdown":"I&#39;m trying to Test a Method where I call a method from three different other Classes (`adapterX`, `adapterY`, `adapterZ`). I want to verify that only one of these Methods is getting executed with the `verify(...)` method from Mockito.\r\n\r\n```java\r\n@ExtendWith(SpringExtension.class)\r\n@ContextConfiguration(classes = {MessageValidationImplTest.TestConfig.class})\r\nclass MessageValidationImplTest {\r\n\r\n    @TestConfiguration\r\n    public static class TestConfig {\r\n        // Creation of other Beans messageValidation depends on\r\n    }\r\n\r\n    @MockBean\r\n    private AdapterY adapterY;\r\n\r\n    @MockBean\r\n    private AdapterX adapterX;\r\n\r\n    @MockBean\r\n    private AdapterZ adapterZ;\r\n\r\n    @Test\r\n    void testJsonPayload() {\r\n        // Arrange\r\n        //...\r\n\r\n        //Act\r\n        this.messageValidation.messageValidation(message, parameter);\r\n\r\n        //Assert\r\n        verify(this.adapterX).sendMessage(messageDto);\r\n        verifyNoInteractions(this.adapterY);\r\n        verifyNoInteractions(this.adapterZ);\r\n    }\r\n\r\n    @Test\r\n    void testCsvPayload() {\r\n        // Arrange\r\n        // ...\r\n\r\n        //Act\r\n        this.messageValidation.messageValidation(message, parameter);\r\n\r\n        //Assert\r\n        verifyNoInteractions(this.adapterX);\r\n        verify(this.adapterY).sendMessage(messageDto);\r\n        verifyNoInteractions(this.adapterZ);\r\n    }\r\n}\r\n```\r\n\r\nI am creating the mocks via `@MockBean` from Spring.  \r\nWhen running the Tests I get this error message in the Logs (I get the same Error for the other Adapter in the second Test):\r\n```\r\norg.mockito.exceptions.verification.NoInteractionsWanted: \r\nNo interactions wanted here:\r\n-&gt; at com.acme.example.moduletest.core.impl.MessageValidationImplTest.testJsonPayload(MessageValidationImplTest.java:155)\r\nBut found these interactions on mock &#39;com.acme.example.y.AdapterY#0 bean&#39;:\r\n-&gt; at com.acme.example.core.impl.MessageValidationImpl.validateMessage(MessageValidationImpl.java:61)\r\nActually, above is the only interaction with this mock.\r\n```\r\n\r\nI&#39;ve already tried manually resetting the Mocks with `clearInvocations(adapterX, adapterY, adapterZ)` but that doesn&#39;t make any difference.","title":"Mockito Mocks don&#39;t reset after a Test or with `clearInvocations(...)` (JUnit, Spring Boot)","body":"<p>I'm trying to Test a Method where I call a method from three different other Classes (<code>adapterX</code>, <code>adapterY</code>, <code>adapterZ</code>). I want to verify that only one of these Methods is getting executed with the <code>verify(...)</code> method from Mockito.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(SpringExtension.class)\n@ContextConfiguration(classes = {MessageValidationImplTest.TestConfig.class})\nclass MessageValidationImplTest {\n\n    @TestConfiguration\n    public static class TestConfig {\n        // Creation of other Beans messageValidation depends on\n    }\n\n    @MockBean\n    private AdapterY adapterY;\n\n    @MockBean\n    private AdapterX adapterX;\n\n    @MockBean\n    private AdapterZ adapterZ;\n\n    @Test\n    void testJsonPayload() {\n        // Arrange\n        //...\n\n        //Act\n        this.messageValidation.messageValidation(message, parameter);\n\n        //Assert\n        verify(this.adapterX).sendMessage(messageDto);\n        verifyNoInteractions(this.adapterY);\n        verifyNoInteractions(this.adapterZ);\n    }\n\n    @Test\n    void testCsvPayload() {\n        // Arrange\n        // ...\n\n        //Act\n        this.messageValidation.messageValidation(message, parameter);\n\n        //Assert\n        verifyNoInteractions(this.adapterX);\n        verify(this.adapterY).sendMessage(messageDto);\n        verifyNoInteractions(this.adapterZ);\n    }\n}\n</code></pre>\n<p>I am creating the mocks via <code>@MockBean</code> from Spring.<br />\nWhen running the Tests I get this error message in the Logs (I get the same Error for the other Adapter in the second Test):</p>\n<pre><code>org.mockito.exceptions.verification.NoInteractionsWanted: \nNo interactions wanted here:\n-&gt; at com.acme.example.moduletest.core.impl.MessageValidationImplTest.testJsonPayload(MessageValidationImplTest.java:155)\nBut found these interactions on mock 'com.acme.example.y.AdapterY#0 bean':\n-&gt; at com.acme.example.core.impl.MessageValidationImpl.validateMessage(MessageValidationImpl.java:61)\nActually, above is the only interaction with this mock.\n</code></pre>\n<p>I've already tried manually resetting the Mocks with <code>clearInvocations(adapterX, adapterY, adapterZ)</code> but that doesn't make any difference.</p>\n"},{"tags":["java","casting","type-conversion","double","bigdecimal"],"comments":[{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":7,"creation_date":1673965388,"post_id":75147812,"comment_id":132610711,"body_markdown":"When you want precision, then don&#39;t use double. When you debug those two lines, then you&#39;ll see that `num` is already slightly rounded.","body":"When you want precision, then don&#39;t use double. When you debug those two lines, then you&#39;ll see that <code>num</code> is already slightly rounded."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1673965648,"post_id":75147812,"comment_id":132610817,"body_markdown":"What you can do is start with a string. So `new BigDecimal(&quot;2334555578912349.13&quot;)`.","body":"What you can do is start with a string. So <code>new BigDecimal(&quot;2334555578912349.13&quot;)</code>."},{"owner":{"account_id":17263689,"reputation":13,"user_id":12500975,"display_name":"Aleyna"},"score":0,"creation_date":1673967453,"post_id":75147812,"comment_id":132611553,"body_markdown":"@FedericoklezCulloca but I have to start with an object.  when I use num.toString() it also does round the last digits.","body":"@FedericoklezCulloca but I have to start with an object.  when I use num.toString() it also does round the last digits."},{"owner":{"account_id":17263689,"reputation":13,"user_id":12500975,"display_name":"Aleyna"},"score":0,"creation_date":1673967559,"post_id":75147812,"comment_id":132611600,"body_markdown":"@Tom oh I saw it okay, how can I fix it? Can&#39;t I convert object value without rounding then?","body":"@Tom oh I saw it okay, how can I fix it? Can&#39;t I convert object value without rounding then?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1673967754,"post_id":75147812,"comment_id":132611683,"body_markdown":"Why you have to start with an object? And even then `Object num = &quot;12334555578912349.13&quot;;` is perfectly valid.","body":"Why you have to start with an object? And even then <code>Object num = &quot;12334555578912349.13&quot;;</code> is perfectly valid."},{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1673967798,"post_id":75147812,"comment_id":132611698,"body_markdown":"It doesn&#39;t matter if the variable is of type Object, Number, double, Double or whatever, that&#39;s not the issue. The issue is `12334555578912349.13`. This is always a double and will always be imprecise. When you get it from somewhere else, then don&#39;t convert it to double and when you already get it as a double, then there is nothing you can do.","body":"It doesn&#39;t matter if the variable is of type Object, Number, double, Double or whatever, that&#39;s not the issue. The issue is <code>12334555578912349.13</code>. This is always a double and will always be imprecise. When you get it from somewhere else, then don&#39;t convert it to double and when you already get it as a double, then there is nothing you can do."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673967451,"creation_date":1673967451,"answer_id":75148289,"question_id":75147812,"body_markdown":"&gt; ```java\r\n&gt; Object num = 12334555578912349.13;\r\n&gt; ```\r\n\r\nYou already lost here. As per the java spec, the literal text &#39;12334555578912349.13&#39; in your source file is interpreted as a double. A `double` value, given that computers aren&#39;t magic, is a 64-bit value, and thus, only at most 2^64 numbers are even representable by it. Let&#39;s call these the &#39;blessed numbers&#39;. 12334555578912349.13 is not one of the blessed numbers. The nearest blessed number to that is 123345555789123504.0 which is what that value &#39;compiles&#39; to. Once you&#39;re at 123345555789123504.0, there&#39;s no way back.\r\n\r\nThe solution then is to __never__ have &#39;12334555578912349.13&#39; as literal in your source file, as that immediately loses you the game if you do that.\r\n\r\nHere&#39;s how we avoid ever having a `double` anywhere:\r\n\r\n```\r\nvar bd = new BigDecimal(&quot;12334555578912349.13&quot;);\r\nSystem.out.println(bd);\r\n```\r\n\r\nIn general if you want to provide meaningful guarantees about precision, if your code contains the word `double` anywhere in it, you broke it. Do a quick search through the code for the word &#39;double&#39; and until that search returns 0 hits, keep eliminating its use.\r\n\r\nAlternatives that can provide guarantees about precision:\r\n\r\n* BigDecimal, of course. Note that BD can&#39;t divide without specifying rules about how to round it (for the same reason 1/3 becomes 0.333333... never ends).\r\n* Eliminate the fraction. For example, if that represents the GDP of a nation, store it as cents and not as euros, in a `long` and not a `double`.\r\n* If the thing doesn&#39;t represent a number that you ever intend to do any math on (for example, it&#39;s a social security number or an ISBN code or some such), store it as a String.\r\n","title":"Java convert/cast object to Double but prevent round?","body":"<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>Object num = 12334555578912349.13;\n</code></pre>\n</blockquote>\n<p>You already lost here. As per the java spec, the literal text '12334555578912349.13' in your source file is interpreted as a double. A <code>double</code> value, given that computers aren't magic, is a 64-bit value, and thus, only at most 2^64 numbers are even representable by it. Let's call these the 'blessed numbers'. 12334555578912349.13 is not one of the blessed numbers. The nearest blessed number to that is 123345555789123504.0 which is what that value 'compiles' to. Once you're at 123345555789123504.0, there's no way back.</p>\n<p>The solution then is to <strong>never</strong> have '12334555578912349.13' as literal in your source file, as that immediately loses you the game if you do that.</p>\n<p>Here's how we avoid ever having a <code>double</code> anywhere:</p>\n<pre><code>var bd = new BigDecimal(&quot;12334555578912349.13&quot;);\nSystem.out.println(bd);\n</code></pre>\n<p>In general if you want to provide meaningful guarantees about precision, if your code contains the word <code>double</code> anywhere in it, you broke it. Do a quick search through the code for the word 'double' and until that search returns 0 hits, keep eliminating its use.</p>\n<p>Alternatives that can provide guarantees about precision:</p>\n<ul>\n<li>BigDecimal, of course. Note that BD can't divide without specifying rules about how to round it (for the same reason 1/3 becomes 0.333333... never ends).</li>\n<li>Eliminate the fraction. For example, if that represents the GDP of a nation, store it as cents and not as euros, in a <code>long</code> and not a <code>double</code>.</li>\n<li>If the thing doesn't represent a number that you ever intend to do any math on (for example, it's a social security number or an ISBN code or some such), store it as a String.</li>\n</ul>\n"}],"owner":{"account_id":17263689,"reputation":13,"user_id":12500975,"display_name":"Aleyna"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75148289,"answer_count":1,"score":-1,"last_activity_date":1673967451,"creation_date":1673965105,"question_id":75147812,"body_markdown":"```\r\nObject num = 12334555578912349.13;\r\n\r\nSystem.out.println(BigDecimal.valueOf(((Number) num).doubleValue()).setScale(2, BigDecimal.ROUND_HALF_EVEN));\r\n```\r\n\r\n\r\n\r\nI expect the value to be 12334555578912349.13\r\nbut output is 123345555789123504.00 \r\n\r\nHow can I prevent it from rounding? ","title":"Java convert/cast object to Double but prevent round?","body":"<pre><code>Object num = 12334555578912349.13;\n\nSystem.out.println(BigDecimal.valueOf(((Number) num).doubleValue()).setScale(2, BigDecimal.ROUND_HALF_EVEN));\n</code></pre>\n<p>I expect the value to be 12334555578912349.13\nbut output is 123345555789123504.00</p>\n<p>How can I prevent it from rounding?</p>\n"},{"tags":["java","oracle","spring-boot","hibernate","hql"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1673952998,"post_id":75145307,"comment_id":132606506,"body_markdown":"Since you are beyond java 7, you should be using `java.time` classes like `LocalDateTime` etc. Perhaps the calculation of timestamp - date does not result in the correct datatype. `The source argument is a DATE, an INTERVAL, or a TIMESTAMP value from which a field is extracted.`","body":"Since you are beyond java 7, you should be using <code>java.time</code> classes like <code>LocalDateTime</code> etc. Perhaps the calculation of timestamp - date does not result in the correct datatype. <code>The source argument is a DATE, an INTERVAL, or a TIMESTAMP value from which a field is extracted.</code>"}],"answers":[{"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673967405,"creation_date":1673967405,"answer_id":75148277,"question_id":75145307,"body_markdown":"The error is perfectly sensible and correct, and your query doesn&#39;t even make sense intuitively.\r\n\r\nThe difference between two timestamps (or in this case, between a timestamp and a date) is not another timestamp, it is a duration.\r\n\r\nAs an example: what is the difference between 25/3/72 and 23/3/74? The only sensible answer is &quot;two days&quot;. Not some nonsensical date like 2/0/0 or something.\r\n\r\nSo, in HQL 6, the correct syntax for what you are trying to do is:\r\n\r\n    (current_date - alarm.date) by day &lt; 1\r\n\r\nWhere:\r\n\r\n1. The expression `current_date - alarm.date` has Java type `Duration`, which is a quantity in nanoseconds.\r\n2. The operator `by day` serves to convert this nanosecond duration to an integer number of days.\r\n\r\n\r\nThis functionality is covered here:\r\n\r\n&lt;https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html#hql-Datetime-arithmetic&gt;\r\n\r\nP.S. You should absolutely not be using `Calendar` to represent a datetime in 2023.","title":"Hibernate - extract function doesnt works anymore due to wrong type","body":"<p>The error is perfectly sensible and correct, and your query doesn't even make sense intuitively.</p>\n<p>The difference between two timestamps (or in this case, between a timestamp and a date) is not another timestamp, it is a duration.</p>\n<p>As an example: what is the difference between 25/3/72 and 23/3/74? The only sensible answer is &quot;two days&quot;. Not some nonsensical date like 2/0/0 or something.</p>\n<p>So, in HQL 6, the correct syntax for what you are trying to do is:</p>\n<pre><code>(current_date - alarm.date) by day &lt; 1\n</code></pre>\n<p>Where:</p>\n<ol>\n<li>The expression <code>current_date - alarm.date</code> has Java type <code>Duration</code>, which is a quantity in nanoseconds.</li>\n<li>The operator <code>by day</code> serves to convert this nanosecond duration to an integer number of days.</li>\n</ol>\n<p>This functionality is covered here:</p>\n<p><a href=\"https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html#hql-Datetime-arithmetic\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html#hql-Datetime-arithmetic</a></p>\n<p>P.S. You should absolutely not be using <code>Calendar</code> to represent a datetime in 2023.</p>\n"}],"owner":{"account_id":2547634,"reputation":5,"user_id":2212094,"display_name":"user2212094"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1305,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75148277,"answer_count":1,"score":0,"last_activity_date":1673967405,"creation_date":1673952770,"question_id":75145307,"body_markdown":"Since a migration to : \r\n\r\nSpring boot : 3.0.1\r\nJava 17: 3.0.1\r\nHibernate : 6.1.6\r\nDialect : Oracle 12c\r\n\r\n\r\n\r\n```\r\n@Column(name = &quot;ALARM_DT&quot;)\r\n\t@Temporal(TemporalType.DATE)\r\n\tprivate Calendar date;\r\n```\r\n\r\n\r\n```\r\nextract(day from (current_timestamp - alarm.date)) &lt; 1\r\n```\r\n\r\nUnfortunately, this error message after the migration :\r\n```\r\n\r\norg.hibernate.QueryException: Parameter 2 of function extract() has type TEMPORAL, but argument is of type java.time.Duration\r\n```\r\n\r\nDoes anyone have a solution for this?\r\nHow Cast the result to date format.\r\n\r\nBest regards\r\n\r\n\r\n","title":"Hibernate - extract function doesnt works anymore due to wrong type","body":"<p>Since a migration to :</p>\n<p>Spring boot : 3.0.1\nJava 17: 3.0.1\nHibernate : 6.1.6\nDialect : Oracle 12c</p>\n<pre><code>@Column(name = &quot;ALARM_DT&quot;)\n    @Temporal(TemporalType.DATE)\n    private Calendar date;\n</code></pre>\n<pre><code>extract(day from (current_timestamp - alarm.date)) &lt; 1\n</code></pre>\n<p>Unfortunately, this error message after the migration :</p>\n<pre><code>\norg.hibernate.QueryException: Parameter 2 of function extract() has type TEMPORAL, but argument is of type java.time.Duration\n</code></pre>\n<p>Does anyone have a solution for this?\nHow Cast the result to date format.</p>\n<p>Best regards</p>\n"},{"tags":["java","json","jackson","deserialization"],"owner":{"account_id":4225673,"reputation":1,"user_id":3459262,"display_name":"user3459262"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673967156,"creation_date":1673967156,"question_id":75148231,"body_markdown":"I am trying to deserialize an object which has polymorphic recursion on a Map value. The first level always deserialize to the correct type, but the recursions are deserialized as LinkedHashMap.\r\n\r\n\r\nCode:\r\n```\r\npublic class Rule {\r\n  private String ruleName;\r\n  private List&lt;Variable&gt; variables;\r\n}\r\n\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;)\r\n@JsonSubTypes({\r\n    @Type(value = ListVariable.class, name = &quot;ListVariable&quot;),\r\n    @Type(value = MapVariable.class, name = &quot;MapVariable&quot;)\r\n})\r\n\r\npublic abstract class Variable&lt;T&gt; {\r\n  private String name;\r\n  private T value;\r\n}\r\n\r\n\r\npublic class ListVariable extends Variable&lt;List&lt;Object&gt;&gt; {\r\n}\r\n\r\npublic class MapVariable extends Variable&lt;Map&lt;String, Object&gt;&gt; {\r\n  private String input;\r\n  private Object defaultValue;\r\n}\r\n```\r\n\r\nJson with multiple levels:\r\n```\r\n{\r\n  &quot;ruleName&quot; : &quot;xyz&quot;,\r\n  &quot;variables&quot; : [ {\r\n    &quot;type&quot; : &quot;MapVariable&quot;,\r\n    &quot;name&quot; : &quot;multi_level_map&quot;,\r\n    &quot;input&quot; : &quot;listing_country&quot;,\r\n    &quot;defaultValue&quot; : &quot;Unknown&quot;,\r\n    &quot;value&quot; : {\r\n      &quot;US&quot; : {\r\n        &quot;type&quot; : &quot;MapVariable&quot;,\r\n        &quot;name&quot; : &quot;multi_level_map_2_us&quot;,\r\n        &quot;input&quot; : &quot;threshold&quot;,\r\n        &quot;defaultValue&quot; : &quot;Unknown&quot;,\r\n        &quot;value&quot; : {\r\n          &quot;Range(0.0,1.0)&quot; : &quot;Low_US&quot;,\r\n          &quot;Range(1.0,2.0)&quot; : &quot;Medium_US&quot;,\r\n          &quot;Range(2.0,3.0)&quot; : &quot;High_US&quot;\r\n        }\r\n      }\r\n    }\r\n  } ]\r\n}\r\n```\r\n\r\n\r\n\r\nDeserialization results:\r\n[enter image description here](https://i.stack.imgur.com/8BpV8.png)\r\n\r\n\r\nDoes anyone know what I am doing wrong and how can I make this recursive deserialization work?","title":"Deserialize json with polymorphic recursion using Jackson","body":"<p>I am trying to deserialize an object which has polymorphic recursion on a Map value. The first level always deserialize to the correct type, but the recursions are deserialized as LinkedHashMap.</p>\n<p>Code:</p>\n<pre><code>public class Rule {\n  private String ruleName;\n  private List&lt;Variable&gt; variables;\n}\n\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;)\n@JsonSubTypes({\n    @Type(value = ListVariable.class, name = &quot;ListVariable&quot;),\n    @Type(value = MapVariable.class, name = &quot;MapVariable&quot;)\n})\n\npublic abstract class Variable&lt;T&gt; {\n  private String name;\n  private T value;\n}\n\n\npublic class ListVariable extends Variable&lt;List&lt;Object&gt;&gt; {\n}\n\npublic class MapVariable extends Variable&lt;Map&lt;String, Object&gt;&gt; {\n  private String input;\n  private Object defaultValue;\n}\n</code></pre>\n<p>Json with multiple levels:</p>\n<pre><code>{\n  &quot;ruleName&quot; : &quot;xyz&quot;,\n  &quot;variables&quot; : [ {\n    &quot;type&quot; : &quot;MapVariable&quot;,\n    &quot;name&quot; : &quot;multi_level_map&quot;,\n    &quot;input&quot; : &quot;listing_country&quot;,\n    &quot;defaultValue&quot; : &quot;Unknown&quot;,\n    &quot;value&quot; : {\n      &quot;US&quot; : {\n        &quot;type&quot; : &quot;MapVariable&quot;,\n        &quot;name&quot; : &quot;multi_level_map_2_us&quot;,\n        &quot;input&quot; : &quot;threshold&quot;,\n        &quot;defaultValue&quot; : &quot;Unknown&quot;,\n        &quot;value&quot; : {\n          &quot;Range(0.0,1.0)&quot; : &quot;Low_US&quot;,\n          &quot;Range(1.0,2.0)&quot; : &quot;Medium_US&quot;,\n          &quot;Range(2.0,3.0)&quot; : &quot;High_US&quot;\n        }\n      }\n    }\n  } ]\n}\n</code></pre>\n<p>Deserialization results:\n<a href=\"https://i.stack.imgur.com/8BpV8.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Does anyone know what I am doing wrong and how can I make this recursive deserialization work?</p>\n"},{"tags":["java","android","retrofit2","android-adapter","android-viewpager2"],"comments":[{"owner":{"account_id":10298759,"reputation":501,"user_id":7598082,"display_name":"Dinesh Sarma"},"score":0,"creation_date":1671745099,"post_id":74893416,"comment_id":132169491,"body_markdown":"try by initializing mediaPlayer into the MusicViewHolder constructor and manage the rest of the mediaPlayer operation accordingly. This might help you. And try to write clean code :) Happy Coding","body":"try by initializing mediaPlayer into the MusicViewHolder constructor and manage the rest of the mediaPlayer operation accordingly. This might help you. And try to write clean code :) Happy Coding"},{"owner":{"account_id":27328781,"reputation":1,"user_id":20841289,"display_name":"sahil gill"},"score":0,"creation_date":1671787852,"post_id":74893416,"comment_id":132175936,"body_markdown":"@DineshSarma Do you mean like this?\n\nclass MusicViewHolder extends RecyclerView.ViewHolder {\n&#160; &#160; &#160; &#160; MediaPlayer mediaPlayer;","body":"@DineshSarma Do you mean like this?  class MusicViewHolder extends RecyclerView.ViewHolder {         MediaPlayer mediaPlayer;"},{"owner":{"account_id":10298759,"reputation":501,"user_id":7598082,"display_name":"Dinesh Sarma"},"score":0,"creation_date":1671842246,"post_id":74893416,"comment_id":132188112,"body_markdown":"public MusicViewHolder(@NonNull View itemView) {\n            super(itemView);\n            .....\n        }\nhere inside the constructor","body":"public MusicViewHolder(@NonNull View itemView) {             super(itemView);             .....         } here inside the constructor"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671906070,"post_id":74893416,"comment_id":132195883,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":27328781,"reputation":1,"user_id":20841289,"display_name":"sahil gill"},"score":0,"creation_date":1671962709,"post_id":74893416,"comment_id":132201345,"body_markdown":"@DineshSarma Thank you, I&#39;m working on it and will let you know how it goes.","body":"@DineshSarma Thank you, I&#39;m working on it and will let you know how it goes."}],"owner":{"account_id":27328781,"reputation":1,"user_id":20841289,"display_name":"sahil gill"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673966656,"creation_date":1671739880,"question_id":74893416,"body_markdown":"When I try to load audio and images from the API into ViewPager2&#39;s media player and image view, they don&#39;t load in the correct order; audio is sometimes different from their image and text when loaded in ViewPager2 (for example, if I slide down or up, music is different from their order, but image and text are in their order).\r\n\r\nWatch this video for a better explanation. &quot;[Video Url](https://drive.google.com/file/d/1jM7fA2bG6ZHL_oNm-vDYOoP9f5bwwtuP/view?usp=share_link)&quot;\r\n\r\nSo I want to create a feature similar to Resso Music App (sliding up and down to change music, similar to how we change videos on TikTok).\r\n\r\nFor this functionality, I use ViewPager2, an array list, an adapter, and Retrofit.\r\n\r\n\r\n**MusicFragment.java**\r\n\r\n```\r\npublic class MusicFragment extends Fragment {\r\n    View v;\r\n    List&lt;AllMusicModel.Data&gt; musicItems;\r\n    ViewPager2 musicsViewPager;\r\n    private MusicAdapter musicAdapter;\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.M)\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        v = inflater.inflate(R.layout.fragment_music, container, false);\r\n        musicsViewPager = v.findViewById(R.id.viewPagerVideos);\r\n        musicsViewPager.setUserInputEnabled(true);\r\n        musicItems = new ArrayList&lt;&gt;();\r\n        musicAdapter = new MusicAdapter(getActivity(), musicItems);\r\n        musicsViewPager.setAdapter(musicAdapter);\r\n        call_music_list_api();\r\n        return v;\r\n    }\r\n\r\n    private void call_music_list_api() {\r\n\r\n        // Api implementation\r\n        String Token = &quot;Bearer &quot; + Config.getToken(requireContext());\r\n        String APIChannel = &quot;App&quot;;\r\n        String AppVersion = BuildConfig.VERSION_NAME;\r\n        Call&lt;AllMusicModel&gt; mCall = RetrofitClient.getAdapter().GetAllMusic(APIChannel, AppVersion, Token);\r\n        mCall.enqueue(new Callback&lt;AllMusicModel&gt;() {\r\n            @SuppressLint(&quot;NotifyDataSetChanged&quot;)\r\n            @Override\r\n            public void onResponse(@NonNull Call&lt;AllMusicModel&gt; call, @NonNull Response&lt;AllMusicModel&gt; response) {\r\n                if (response.isSuccessful()) {\r\n                    AllMusicModel alldata = response.body();\r\n\r\n                    String code;\r\n//                    String message;\r\n                    String status;\r\n\r\n                    if (alldata != null) {\r\n                        code = String.valueOf(alldata.getStatuscode());\r\n//                        message = String.valueOf(alldata.getMessage());\r\n                        status = String.valueOf(alldata.getStatus());\r\n                        if (code.equals(&quot;200&quot;)) {\r\n                            musicItems.clear();\r\n                            musicItems.addAll(alldata.getData());\r\n                            musicAdapter.notifyDataSetChanged();\r\n                        } else if (Objects.equals(code, &quot;401&quot;)) {\r\n                            Log.e(&quot;MusicFragment&quot;, &quot;onResponse: &quot; + status);\r\n                        }\r\n                    }\r\n                } else {\r\n                    Toast.makeText(getContext(), &quot;Something went wrong&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(@NonNull Call&lt;AllMusicModel&gt; call, @NonNull Throwable t) {\r\n                Log.e(&quot;Error&quot;, String.valueOf(t));\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n```\r\n\r\n**fragment_music.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    style=&quot;@style/parent.contentLayout&quot;\r\n    android:fitsSystemWindows=&quot;false&quot;\r\n    tools:context=&quot;.Fragments.MusicFragment&quot;&gt;\r\n        &lt;androidx.viewpager2.widget.ViewPager2\r\n            android:id=&quot;@+id/viewPagerVideos&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n&lt;/FrameLayout&gt;\r\n```\r\n**MusicAdapter.java**\r\n\r\n```\r\npublic class MusicAdapter extends RecyclerView.Adapter&lt;MusicAdapter.MusicViewHolder&gt; {\r\n    private final Context context;\r\n    private final List&lt;AllMusicModel.Data&gt; mMusiclist;\r\n    private MediaPlayer mediaPlayer;\r\n\r\n    public MusicAdapter(Context context, List&lt;AllMusicModel.Data&gt; musicItems) {\r\n        this.context = context;\r\n        mMusiclist = musicItems;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MusicViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        return new MusicViewHolder(LayoutInflater.from(parent.getContext()).inflate(R.layout.music_layout, parent, false));\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MusicViewHolder holder, int position) {\r\n       final MusicViewHolder finalholder = holder;\r\n        finalholder.setMusicData(mMusiclist.get(position));\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return mMusiclist.size();\r\n    }\r\n\r\n    class MusicViewHolder extends RecyclerView.ViewHolder {\r\n        ImageView mImageView, play_pause_image;\r\n        TextView txtTitle, txtDesc;\r\n        ProgressBar mProgressBar;\r\n        ConstraintLayout play_pause_layout, linearLayout;\r\n\r\n        public MusicViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            mImageView = itemView.findViewById(R.id.imageView);\r\n            txtTitle = itemView.findViewById(R.id.txtTitle);\r\n            txtDesc = itemView.findViewById(R.id.txtDesc);\r\n            mProgressBar = itemView.findViewById(R.id.progressBar);\r\n            play_pause_layout = itemView.findViewById(R.id.play_pause_layout);\r\n            play_pause_image = itemView.findViewById(R.id.play_pause_image);\r\n            linearLayout = itemView.findViewById(R.id.linearLayout);\r\n        }\r\n\r\n        void setMusicData(AllMusicModel.Data musicItem) {\r\n\r\n            txtTitle.setText(musicItem.getTitle());\r\n//            txtDesc.setText(musicItem);\r\n            if (mediaPlayer != null) {\r\n                mediaPlayer.stop();\r\n                mediaPlayer.release();\r\n                mediaPlayer = null;\r\n            }\r\n            mImageView.setOnClickListener(v -&gt; {\r\n                if (mediaPlayer.isPlaying()) {\r\n                    //stop or pause your media player mediaPlayer.stop(); or mediaPlayer.pause();\r\n                    play_pause_layout.setVisibility(View.VISIBLE);\r\n                    play_pause_image.setImageResource(R.drawable.ic_round_play);\r\n                    mediaPlayer.pause();\r\n                } else {\r\n                    mediaPlayer.start();\r\n                    play_pause_layout.setVisibility(View.VISIBLE);\r\n                    play_pause_image.setImageResource(R.drawable.ic_round_pause);\r\n                    Handler handler = new Handler();\r\n                    handler.postDelayed(() -&gt; play_pause_layout.setVisibility(View.INVISIBLE), 4000);\r\n                }\r\n            });\r\n\r\n            String audioUrl = ApiUrls.Api_LocalHost_Url + musicItem.getAudio();\r\n            mediaPlayer = new MediaPlayer();\r\n            mediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);\r\n            try {\r\n                mediaPlayer.setDataSource(audioUrl);\r\n                mediaPlayer.prepareAsync();\r\n                mediaPlayer.setOnPreparedListener(mediaPlayer -&gt; {\r\n                    mProgressBar.setVisibility(View.GONE);\r\n                    mediaPlayer.start();\r\n                });\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            mediaPlayer.setOnCompletionListener(MediaPlayer::start);\r\n            String imageUrl = ApiUrls.Api_LocalHost_Url + musicItem.getImage();\r\n            Glide.with(context)\r\n                    .load(imageUrl)\r\n                    .placeholder(R.drawable.loading)\r\n                    .diskCacheStrategy(DiskCacheStrategy.ALL)\r\n                    .error(R.drawable.loading)\r\n                    .into(mImageView);\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**music_layout.xml** (Layout for Load Adater Data)\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:background=&quot;@color/contentBodyColor&quot;\r\n  &gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imageView&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        android:scaleType=&quot;centerCrop&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;/&gt;\r\n    &lt;ProgressBar\r\n        android:id=&quot;@+id/progressBar&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        android:layout_width=&quot;30dp&quot;\r\n        android:layout_height=&quot;30dp&quot;/&gt;\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:id=&quot;@+id/play_pause_layout&quot;\r\n        android:layout_width=&quot;60dp&quot;\r\n        android:layout_height=&quot;60dp&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:visibility=&quot;gone&quot;\r\n        android:background=&quot;@drawable/music_play_pause_bg&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/play_pause_image&quot;\r\n            android:layout_width=&quot;45dp&quot;\r\n            android:layout_height=&quot;45dp&quot;\r\n            android:contentDescription=&quot;@string/back_button&quot;\r\n            android:src=&quot;@drawable/ic_round_play&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    &lt;LinearLayout\r\n        android:layout_marginStart=&quot;5dp&quot;\r\n        android:layout_marginEnd=&quot;5dp&quot;\r\n        android:layout_marginBottom=&quot;80dp&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/txtTitle&quot;\r\n            android:paddingStart=&quot;5dp&quot;\r\n            android:paddingTop=&quot;5dp&quot;\r\n            android:paddingEnd=&quot;5dp&quot;\r\n            android:shadowColor=&quot;@android:color/black&quot;\r\n            android:shadowDx=&quot;0&quot;\r\n            android:shadowDy=&quot;0&quot;\r\n            android:shadowRadius=&quot;15&quot;\r\n            android:textColor=&quot;@android:color/white&quot;\r\n            android:textSize=&quot;25sp&quot;\r\n            android:textAlignment=&quot;center&quot;\r\n            android:fontFamily=&quot;@font/roboto_bold&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;/&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/txtDesc&quot;\r\n            android:paddingStart=&quot;5dp&quot;\r\n            android:paddingTop=&quot;5dp&quot;\r\n            android:paddingEnd=&quot;5dp&quot;\r\n            android:shadowDx=&quot;0&quot;\r\n            android:shadowDy=&quot;0&quot;\r\n            android:shadowRadius=&quot;15&quot;\r\n            android:textColor=&quot;@android:color/white&quot;\r\n            android:textSize=&quot;10sp&quot;\r\n            android:shadowColor=&quot;@android:color/black&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            tools:ignore=&quot;SmallSp&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n**AllMusicModel.java**\r\n\r\n```\r\npublic class AllMusicModel {\r\n\r\n    @SerializedName(&quot;statuscode&quot;)\r\n    @Expose\r\n    private Integer statuscode;\r\n    @SerializedName(&quot;status&quot;)\r\n    @Expose\r\n    private String status;\r\n    @SerializedName(&quot;message&quot;)\r\n    @Expose\r\n    private String message;\r\n    @SerializedName(&quot;data&quot;)\r\n    @Expose\r\n    private List&lt;Data&gt; data = null;\r\n\r\n    public Integer getStatuscode() {\r\n        return statuscode;\r\n    }\r\n\r\n    public void setStatuscode(Integer statuscode) {\r\n        this.statuscode = statuscode;\r\n    }\r\n\r\n    public String getStatus() {\r\n        return status;\r\n    }\r\n\r\n    public void setStatus(String status) {\r\n        this.status = status;\r\n    }\r\n\r\n    public String getMessage() {\r\n        return message;\r\n    }\r\n\r\n    public void setMessage(String message) {\r\n        this.message = message;\r\n    }\r\n\r\n    public List&lt;Data&gt; getData() {\r\n        return data;\r\n    }\r\n\r\n    public void setData(List&lt;Data&gt; data) {\r\n        this.data = data;\r\n    }\r\n    public class Data {\r\n\r\n        @SerializedName(&quot;id&quot;)\r\n        @Expose\r\n        private Integer id;\r\n        @SerializedName(&quot;title&quot;)\r\n        @Expose\r\n        private String title;\r\n        @SerializedName(&quot;image&quot;)\r\n        @Expose\r\n        private String image;\r\n        @SerializedName(&quot;audio&quot;)\r\n        @Expose\r\n        private String audio;\r\n        @SerializedName(&quot;time&quot;)\r\n        @Expose\r\n        private String time;\r\n        @SerializedName(&quot;status&quot;)\r\n        @Expose\r\n        private String status;\r\n        @SerializedName(&quot;createdAt&quot;)\r\n        @Expose\r\n        private String createdAt;\r\n        @SerializedName(&quot;updatedAt&quot;)\r\n        @Expose\r\n        private String updatedAt;\r\n\r\n        public Integer getId() {\r\n            return id;\r\n        }\r\n\r\n        public void setId(Integer id) {\r\n            this.id = id;\r\n        }\r\n\r\n        public String getTitle() {\r\n            return title;\r\n        }\r\n\r\n        public void setTitle(String title) {\r\n            this.title = title;\r\n        }\r\n\r\n        public String getImage() {\r\n            return image;\r\n        }\r\n\r\n        public void setImage(String image) {\r\n            this.image = image;\r\n        }\r\n\r\n        public String getAudio() {\r\n            return audio;\r\n        }\r\n\r\n        public void setAudio(String audio) {\r\n            this.audio = audio;\r\n        }\r\n\r\n        public String getTime() {\r\n            return time;\r\n        }\r\n\r\n        public void setTime(String time) {\r\n            this.time = time;\r\n        }\r\n\r\n        public String getStatus() {\r\n            return status;\r\n        }\r\n\r\n        public void setStatus(String status) {\r\n            this.status = status;\r\n        }\r\n\r\n        public String getCreatedAt() {\r\n            return createdAt;\r\n        }\r\n\r\n        public void setCreatedAt(String createdAt) {\r\n            this.createdAt = createdAt;\r\n        }\r\n\r\n        public String getUpdatedAt() {\r\n            return updatedAt;\r\n        }\r\n\r\n        public void setUpdatedAt(String updatedAt) {\r\n            this.updatedAt = updatedAt;\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\nJson Response From API\r\n\r\n```\r\n{&quot;statuscode&quot;:200,&quot;status&quot;:&quot;Success&quot;,&quot;message&quot;:&quot;Music List&quot;,&quot;data&quot;:[{&quot;id&quot;:6,&quot;title&quot;:&quot;Faded&quot;,&quot;image&quot;:&quot;1156127.jpg&quot;,&quot;audio&quot;:&quot;waha.mp3&quot;,&quot;time&quot;:&quot;Testing&quot;,&quot;status&quot;:&quot;Testing&quot;,&quot;createdAt&quot;:&quot;2022-10-05T20:36:56.000Z&quot;,&quot;updatedAt&quot;:&quot;2022-10-05T20:36:56.000Z&quot;},{&quot;id&quot;:7,&quot;title&quot;:&quot;Drive Forever&quot;,&quot;image&quot;:&quot;driveforever.jpg&quot;,&quot;audio&quot;:&quot;driveforever.mp3&quot;,&quot;time&quot;:&quot;Testing&quot;,&quot;status&quot;:&quot;Testing&quot;,&quot;createdAt&quot;:&quot;2022-10-05T20:46:51.000Z&quot;,&quot;updatedAt&quot;:&quot;2022-10-05T20:46:51.000Z&quot;}]}\r\n```\r\n","title":"When I try to load audio and images from the API into the media player and image view in ViewPager2, they do not appear in the order they were loaded","body":"<p>When I try to load audio and images from the API into ViewPager2's media player and image view, they don't load in the correct order; audio is sometimes different from their image and text when loaded in ViewPager2 (for example, if I slide down or up, music is different from their order, but image and text are in their order).</p>\n<p>Watch this video for a better explanation. &quot;<a href=\"https://drive.google.com/file/d/1jM7fA2bG6ZHL_oNm-vDYOoP9f5bwwtuP/view?usp=share_link\" rel=\"nofollow noreferrer\">Video Url</a>&quot;</p>\n<p>So I want to create a feature similar to Resso Music App (sliding up and down to change music, similar to how we change videos on TikTok).</p>\n<p>For this functionality, I use ViewPager2, an array list, an adapter, and Retrofit.</p>\n<p><strong>MusicFragment.java</strong></p>\n<pre><code>public class MusicFragment extends Fragment {\n    View v;\n    List&lt;AllMusicModel.Data&gt; musicItems;\n    ViewPager2 musicsViewPager;\n    private MusicAdapter musicAdapter;\n\n    @RequiresApi(api = Build.VERSION_CODES.M)\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        v = inflater.inflate(R.layout.fragment_music, container, false);\n        musicsViewPager = v.findViewById(R.id.viewPagerVideos);\n        musicsViewPager.setUserInputEnabled(true);\n        musicItems = new ArrayList&lt;&gt;();\n        musicAdapter = new MusicAdapter(getActivity(), musicItems);\n        musicsViewPager.setAdapter(musicAdapter);\n        call_music_list_api();\n        return v;\n    }\n\n    private void call_music_list_api() {\n\n        // Api implementation\n        String Token = &quot;Bearer &quot; + Config.getToken(requireContext());\n        String APIChannel = &quot;App&quot;;\n        String AppVersion = BuildConfig.VERSION_NAME;\n        Call&lt;AllMusicModel&gt; mCall = RetrofitClient.getAdapter().GetAllMusic(APIChannel, AppVersion, Token);\n        mCall.enqueue(new Callback&lt;AllMusicModel&gt;() {\n            @SuppressLint(&quot;NotifyDataSetChanged&quot;)\n            @Override\n            public void onResponse(@NonNull Call&lt;AllMusicModel&gt; call, @NonNull Response&lt;AllMusicModel&gt; response) {\n                if (response.isSuccessful()) {\n                    AllMusicModel alldata = response.body();\n\n                    String code;\n//                    String message;\n                    String status;\n\n                    if (alldata != null) {\n                        code = String.valueOf(alldata.getStatuscode());\n//                        message = String.valueOf(alldata.getMessage());\n                        status = String.valueOf(alldata.getStatus());\n                        if (code.equals(&quot;200&quot;)) {\n                            musicItems.clear();\n                            musicItems.addAll(alldata.getData());\n                            musicAdapter.notifyDataSetChanged();\n                        } else if (Objects.equals(code, &quot;401&quot;)) {\n                            Log.e(&quot;MusicFragment&quot;, &quot;onResponse: &quot; + status);\n                        }\n                    }\n                } else {\n                    Toast.makeText(getContext(), &quot;Something went wrong&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n\n            @Override\n            public void onFailure(@NonNull Call&lt;AllMusicModel&gt; call, @NonNull Throwable t) {\n                Log.e(&quot;Error&quot;, String.valueOf(t));\n\n            }\n        });\n    }\n\n}\n</code></pre>\n<p><strong>fragment_music.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    style=&quot;@style/parent.contentLayout&quot;\n    android:fitsSystemWindows=&quot;false&quot;\n    tools:context=&quot;.Fragments.MusicFragment&quot;&gt;\n        &lt;androidx.viewpager2.widget.ViewPager2\n            android:id=&quot;@+id/viewPagerVideos&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:orientation=&quot;vertical&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n<p><strong>MusicAdapter.java</strong></p>\n<pre><code>public class MusicAdapter extends RecyclerView.Adapter&lt;MusicAdapter.MusicViewHolder&gt; {\n    private final Context context;\n    private final List&lt;AllMusicModel.Data&gt; mMusiclist;\n    private MediaPlayer mediaPlayer;\n\n    public MusicAdapter(Context context, List&lt;AllMusicModel.Data&gt; musicItems) {\n        this.context = context;\n        mMusiclist = musicItems;\n    }\n\n    @NonNull\n    @Override\n    public MusicViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        return new MusicViewHolder(LayoutInflater.from(parent.getContext()).inflate(R.layout.music_layout, parent, false));\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MusicViewHolder holder, int position) {\n       final MusicViewHolder finalholder = holder;\n        finalholder.setMusicData(mMusiclist.get(position));\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return mMusiclist.size();\n    }\n\n    class MusicViewHolder extends RecyclerView.ViewHolder {\n        ImageView mImageView, play_pause_image;\n        TextView txtTitle, txtDesc;\n        ProgressBar mProgressBar;\n        ConstraintLayout play_pause_layout, linearLayout;\n\n        public MusicViewHolder(@NonNull View itemView) {\n            super(itemView);\n            mImageView = itemView.findViewById(R.id.imageView);\n            txtTitle = itemView.findViewById(R.id.txtTitle);\n            txtDesc = itemView.findViewById(R.id.txtDesc);\n            mProgressBar = itemView.findViewById(R.id.progressBar);\n            play_pause_layout = itemView.findViewById(R.id.play_pause_layout);\n            play_pause_image = itemView.findViewById(R.id.play_pause_image);\n            linearLayout = itemView.findViewById(R.id.linearLayout);\n        }\n\n        void setMusicData(AllMusicModel.Data musicItem) {\n\n            txtTitle.setText(musicItem.getTitle());\n//            txtDesc.setText(musicItem);\n            if (mediaPlayer != null) {\n                mediaPlayer.stop();\n                mediaPlayer.release();\n                mediaPlayer = null;\n            }\n            mImageView.setOnClickListener(v -&gt; {\n                if (mediaPlayer.isPlaying()) {\n                    //stop or pause your media player mediaPlayer.stop(); or mediaPlayer.pause();\n                    play_pause_layout.setVisibility(View.VISIBLE);\n                    play_pause_image.setImageResource(R.drawable.ic_round_play);\n                    mediaPlayer.pause();\n                } else {\n                    mediaPlayer.start();\n                    play_pause_layout.setVisibility(View.VISIBLE);\n                    play_pause_image.setImageResource(R.drawable.ic_round_pause);\n                    Handler handler = new Handler();\n                    handler.postDelayed(() -&gt; play_pause_layout.setVisibility(View.INVISIBLE), 4000);\n                }\n            });\n\n            String audioUrl = ApiUrls.Api_LocalHost_Url + musicItem.getAudio();\n            mediaPlayer = new MediaPlayer();\n            mediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);\n            try {\n                mediaPlayer.setDataSource(audioUrl);\n                mediaPlayer.prepareAsync();\n                mediaPlayer.setOnPreparedListener(mediaPlayer -&gt; {\n                    mProgressBar.setVisibility(View.GONE);\n                    mediaPlayer.start();\n                });\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n            mediaPlayer.setOnCompletionListener(MediaPlayer::start);\n            String imageUrl = ApiUrls.Api_LocalHost_Url + musicItem.getImage();\n            Glide.with(context)\n                    .load(imageUrl)\n                    .placeholder(R.drawable.loading)\n                    .diskCacheStrategy(DiskCacheStrategy.ALL)\n                    .error(R.drawable.loading)\n                    .into(mImageView);\n\n        }\n    }\n}\n</code></pre>\n<p><strong>music_layout.xml</strong> (Layout for Load Adater Data)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:background=&quot;@color/contentBodyColor&quot;\n  &gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/imageView&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        android:scaleType=&quot;centerCrop&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;/&gt;\n    &lt;ProgressBar\n        android:id=&quot;@+id/progressBar&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        android:layout_width=&quot;30dp&quot;\n        android:layout_height=&quot;30dp&quot;/&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:id=&quot;@+id/play_pause_layout&quot;\n        android:layout_width=&quot;60dp&quot;\n        android:layout_height=&quot;60dp&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:visibility=&quot;gone&quot;\n        android:background=&quot;@drawable/music_play_pause_bg&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/play_pause_image&quot;\n            android:layout_width=&quot;45dp&quot;\n            android:layout_height=&quot;45dp&quot;\n            android:contentDescription=&quot;@string/back_button&quot;\n            android:src=&quot;@drawable/ic_round_play&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n    &lt;LinearLayout\n        android:layout_marginStart=&quot;5dp&quot;\n        android:layout_marginEnd=&quot;5dp&quot;\n        android:layout_marginBottom=&quot;80dp&quot;\n        android:orientation=&quot;vertical&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/txtTitle&quot;\n            android:paddingStart=&quot;5dp&quot;\n            android:paddingTop=&quot;5dp&quot;\n            android:paddingEnd=&quot;5dp&quot;\n            android:shadowColor=&quot;@android:color/black&quot;\n            android:shadowDx=&quot;0&quot;\n            android:shadowDy=&quot;0&quot;\n            android:shadowRadius=&quot;15&quot;\n            android:textColor=&quot;@android:color/white&quot;\n            android:textSize=&quot;25sp&quot;\n            android:textAlignment=&quot;center&quot;\n            android:fontFamily=&quot;@font/roboto_bold&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;/&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/txtDesc&quot;\n            android:paddingStart=&quot;5dp&quot;\n            android:paddingTop=&quot;5dp&quot;\n            android:paddingEnd=&quot;5dp&quot;\n            android:shadowDx=&quot;0&quot;\n            android:shadowDy=&quot;0&quot;\n            android:shadowRadius=&quot;15&quot;\n            android:textColor=&quot;@android:color/white&quot;\n            android:textSize=&quot;10sp&quot;\n            android:shadowColor=&quot;@android:color/black&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            tools:ignore=&quot;SmallSp&quot; /&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><strong>AllMusicModel.java</strong></p>\n<pre><code>public class AllMusicModel {\n\n    @SerializedName(&quot;statuscode&quot;)\n    @Expose\n    private Integer statuscode;\n    @SerializedName(&quot;status&quot;)\n    @Expose\n    private String status;\n    @SerializedName(&quot;message&quot;)\n    @Expose\n    private String message;\n    @SerializedName(&quot;data&quot;)\n    @Expose\n    private List&lt;Data&gt; data = null;\n\n    public Integer getStatuscode() {\n        return statuscode;\n    }\n\n    public void setStatuscode(Integer statuscode) {\n        this.statuscode = statuscode;\n    }\n\n    public String getStatus() {\n        return status;\n    }\n\n    public void setStatus(String status) {\n        this.status = status;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n\n    public void setMessage(String message) {\n        this.message = message;\n    }\n\n    public List&lt;Data&gt; getData() {\n        return data;\n    }\n\n    public void setData(List&lt;Data&gt; data) {\n        this.data = data;\n    }\n    public class Data {\n\n        @SerializedName(&quot;id&quot;)\n        @Expose\n        private Integer id;\n        @SerializedName(&quot;title&quot;)\n        @Expose\n        private String title;\n        @SerializedName(&quot;image&quot;)\n        @Expose\n        private String image;\n        @SerializedName(&quot;audio&quot;)\n        @Expose\n        private String audio;\n        @SerializedName(&quot;time&quot;)\n        @Expose\n        private String time;\n        @SerializedName(&quot;status&quot;)\n        @Expose\n        private String status;\n        @SerializedName(&quot;createdAt&quot;)\n        @Expose\n        private String createdAt;\n        @SerializedName(&quot;updatedAt&quot;)\n        @Expose\n        private String updatedAt;\n\n        public Integer getId() {\n            return id;\n        }\n\n        public void setId(Integer id) {\n            this.id = id;\n        }\n\n        public String getTitle() {\n            return title;\n        }\n\n        public void setTitle(String title) {\n            this.title = title;\n        }\n\n        public String getImage() {\n            return image;\n        }\n\n        public void setImage(String image) {\n            this.image = image;\n        }\n\n        public String getAudio() {\n            return audio;\n        }\n\n        public void setAudio(String audio) {\n            this.audio = audio;\n        }\n\n        public String getTime() {\n            return time;\n        }\n\n        public void setTime(String time) {\n            this.time = time;\n        }\n\n        public String getStatus() {\n            return status;\n        }\n\n        public void setStatus(String status) {\n            this.status = status;\n        }\n\n        public String getCreatedAt() {\n            return createdAt;\n        }\n\n        public void setCreatedAt(String createdAt) {\n            this.createdAt = createdAt;\n        }\n\n        public String getUpdatedAt() {\n            return updatedAt;\n        }\n\n        public void setUpdatedAt(String updatedAt) {\n            this.updatedAt = updatedAt;\n        }\n\n    }\n}\n</code></pre>\n<p>Json Response From API</p>\n<pre><code>{&quot;statuscode&quot;:200,&quot;status&quot;:&quot;Success&quot;,&quot;message&quot;:&quot;Music List&quot;,&quot;data&quot;:[{&quot;id&quot;:6,&quot;title&quot;:&quot;Faded&quot;,&quot;image&quot;:&quot;1156127.jpg&quot;,&quot;audio&quot;:&quot;waha.mp3&quot;,&quot;time&quot;:&quot;Testing&quot;,&quot;status&quot;:&quot;Testing&quot;,&quot;createdAt&quot;:&quot;2022-10-05T20:36:56.000Z&quot;,&quot;updatedAt&quot;:&quot;2022-10-05T20:36:56.000Z&quot;},{&quot;id&quot;:7,&quot;title&quot;:&quot;Drive Forever&quot;,&quot;image&quot;:&quot;driveforever.jpg&quot;,&quot;audio&quot;:&quot;driveforever.mp3&quot;,&quot;time&quot;:&quot;Testing&quot;,&quot;status&quot;:&quot;Testing&quot;,&quot;createdAt&quot;:&quot;2022-10-05T20:46:51.000Z&quot;,&quot;updatedAt&quot;:&quot;2022-10-05T20:46:51.000Z&quot;}]}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","marklogic"],"comments":[{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1496871696,"post_id":44423060,"comment_id":75844888,"body_markdown":"you should show the whole pom as Logback is still present at runtime.","body":"you should show the whole pom as Logback is still present at runtime."},{"owner":{"account_id":7647613,"reputation":557,"user_id":5797650,"accept_rate":67,"display_name":"fun_hat"},"score":0,"creation_date":1496872506,"post_id":44423060,"comment_id":75845193,"body_markdown":"@davidxxx added the pom","body":"@davidxxx added the pom"},{"owner":{"account_id":1464832,"reputation":186,"user_id":1378018,"display_name":"David Bradley"},"score":0,"creation_date":1504293115,"post_id":44423060,"comment_id":78974264,"body_markdown":"I&#39;m in a similar boat, but I&#39;m on an dated 10.3.6 version of WebLogic. Figured I&#39;d comment and see if you ever figured it out as I imagine I may end up at the same point with logging broken once I get the app to deploy","body":"I&#39;m in a similar boat, but I&#39;m on an dated 10.3.6 version of WebLogic. Figured I&#39;d comment and see if you ever figured it out as I imagine I may end up at the same point with logging broken once I get the app to deploy"},{"owner":{"account_id":5809819,"reputation":3680,"user_id":4581287,"accept_rate":51,"display_name":"Parag Kadam"},"score":0,"creation_date":1646715341,"post_id":44423060,"comment_id":126186508,"body_markdown":"So did you finally manage to fix this issue?","body":"So did you finally manage to fix this issue?"}],"answers":[{"tags":[],"owner":{"account_id":9027726,"reputation":616,"user_id":6726502,"display_name":"Dev Fh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620304442,"creation_date":1620304442,"answer_id":67418249,"question_id":44423060,"body_markdown":"I had the same issue when deploying Spring boot as a war in wildfly 23\r\n\r\nSo i resolved the issue by adding the dependencies int the below order.\r\n\r\n```\r\n &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n```","title":"Conflicting modules. LoggerFactory is not a Logback LoggerContext but Logback is on the classpath","body":"<p>I had the same issue when deploying Spring boot as a war in wildfly 23</p>\n<p>So i resolved the issue by adding the dependencies int the below order.</p>\n<pre><code> &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23027967,"reputation":531,"user_id":17147888,"display_name":"Praj"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1635348584,"creation_date":1635348584,"answer_id":69741465,"question_id":44423060,"body_markdown":"Spring Boot automatically configures the Log Back library because of the web starter. You should exclude the spring-boot-starter-logging to fix the issue.\r\n\r\nTo exclude the default LogBack configuration in the maven project,\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n[This][1] covers all possible solutions for both Gradle and Maven project.\r\n\r\n\r\n  [1]: https://tedblob.com/loggerfactory-is-not-a-logback-loggercontext-but-logback-is-on-the-classpath/","title":"Conflicting modules. LoggerFactory is not a Logback LoggerContext but Logback is on the classpath","body":"<p>Spring Boot automatically configures the Log Back library because of the web starter. You should exclude the spring-boot-starter-logging to fix the issue.</p>\n<p>To exclude the default LogBack configuration in the maven project,</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://tedblob.com/loggerfactory-is-not-a-logback-loggercontext-but-logback-is-on-the-classpath/\" rel=\"noreferrer\">This</a> covers all possible solutions for both Gradle and Maven project.</p>\n"},{"tags":[],"owner":{"account_id":1398119,"reputation":1477,"user_id":8610216,"display_name":"shortduck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673966089,"creation_date":1673966089,"answer_id":75148006,"question_id":44423060,"body_markdown":"For me the following solution worked on\r\n\r\nWindFly 27.0.1\r\nJDK - openjdk version &quot;17.0.5&quot; 2022-10-18 LTS\r\nApache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\r\nJava version: 17.0.5, vendor: Amazon.com Inc., runtime: C:\\Program Files\\Amazon Corretto\\jdk17.0.5_8\r\n\r\nHere is the pom:\r\n\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-graphql&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-webflux&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.graphql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-graphql-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\nYou can remove &lt;build&gt; tag and all the test tags like - &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\r\nI am not sure that why did the deployed failed when i removed - `&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;`","title":"Conflicting modules. LoggerFactory is not a Logback LoggerContext but Logback is on the classpath","body":"<p>For me the following solution worked on</p>\n<p>WindFly 27.0.1\nJDK - openjdk version &quot;17.0.5&quot; 2022-10-18 LTS\nApache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\nJava version: 17.0.5, vendor: Amazon.com Inc., runtime: C:\\Program Files\\Amazon Corretto\\jdk17.0.5_8</p>\n<p>Here is the pom:</p>\n<pre><code>&lt;packaging&gt;war&lt;/packaging&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-graphql&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webflux&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.graphql&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-graphql-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>You can remove  tag and all the test tags like - spring-boot-starter-test</p>\n<p>I am not sure that why did the deployed failed when i removed - <code>&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;</code></p>\n"}],"owner":{"account_id":7647613,"reputation":557,"user_id":5797650,"accept_rate":67,"display_name":"fun_hat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27705,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":3,"score":16,"last_activity_date":1673966089,"creation_date":1496870833,"question_id":44423060,"body_markdown":"I am getting the error found in the title when I try to run my project. I have read other threads on this error, and found a solution that got rid of the error, but killed all my logging. \r\n\r\n    &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n    \t&lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n\r\nand \r\n\r\n    &lt;exclusions&gt;\r\n\t\t&lt;exclusion&gt;\r\n\t\t\t&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n\t\t&lt;/exclusion&gt;\r\n\t&lt;/exclusions&gt;\r\n\r\nboth serve to rid me of the error and kill my logging. I would rather be able to keep my Spring-Boot logging and resolve this problem, but haven&#39;t been able to find a solution. Is there a way I can keep my current logging and resolve this dependency issue? What is the best way to track down the offending module?\r\n\r\nThe full error is:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.IllegalArgumentException:\r\n&gt; LoggerFactory is not a Logback LoggerContext but Logback is on the\r\n&gt; classpath. Either remove Logback or the competing implementation\r\n&gt; (class org.slf4j.impl.Log4jLoggerFactory loaded from\r\n&gt; file:/C:/Users/me/.m2/repository/org/slf4j/slf4j-log4j12/1.6.4/slf4j-log4j12-1.6.4.jar).\r\n&gt; If you are using WebLogic you will need to add &#39;org.slf4j&#39; to\r\n&gt; prefer-application-packages in WEB-INF/weblogic.xml:\r\n&gt; org.slf4j.impl.Log4jLoggerFactory\r\n\r\n\r\nedit: the pom:\r\n\r\n    &lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.marklogic&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mlcp&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0-4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;avro&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-cli&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-cli&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-configuration&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-configuration&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-modeler&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-modeler&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;11.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hadoop-annotations&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hadoop-auth&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hadoop-hdfs&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hadoop-mapreduce-client-common&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hadoop-mapreduce-client-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hadoop-mapreduce-client-jobclient&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hadoop-yarn-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hadoop-yarn-common&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-jaxrs&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.8.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-xc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.8.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.9.13&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.9.13&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.17&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;xerces&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.10.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;xpp3&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;xpp3&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.3.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.jena&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jena-arq&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.10.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.jena&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jena-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.10.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.jena&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jena-iri&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.9.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.solr&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;solr-commons-csv&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.5.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;xml-apis&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4.01&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;xstream&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.11&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.2.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hadoop-yarn-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.9&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jersey-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.9&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.htrace&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;htrace-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.marklogic&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;marklogic-xcc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.marklogic&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;marklogic-mapreduce2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n","title":"Conflicting modules. LoggerFactory is not a Logback LoggerContext but Logback is on the classpath","body":"<p>I am getting the error found in the title when I try to run my project. I have read other threads on this error, and found a solution that got rid of the error, but killed all my logging. </p>\n\n<pre><code>&lt;exclusions&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n&lt;/exclusions&gt;\n</code></pre>\n\n<p>and </p>\n\n<pre><code>&lt;exclusions&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n&lt;/exclusions&gt;\n</code></pre>\n\n<p>both serve to rid me of the error and kill my logging. I would rather be able to keep my Spring-Boot logging and resolve this problem, but haven't been able to find a solution. Is there a way I can keep my current logging and resolve this dependency issue? What is the best way to track down the offending module?</p>\n\n<p>The full error is:</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.IllegalArgumentException:\n  LoggerFactory is not a Logback LoggerContext but Logback is on the\n  classpath. Either remove Logback or the competing implementation\n  (class org.slf4j.impl.Log4jLoggerFactory loaded from\n  file:/C:/Users/me/.m2/repository/org/slf4j/slf4j-log4j12/1.6.4/slf4j-log4j12-1.6.4.jar).\n  If you are using WebLogic you will need to add 'org.slf4j' to\n  prefer-application-packages in WEB-INF/weblogic.xml:\n  org.slf4j.impl.Log4jLoggerFactory</p>\n</blockquote>\n\n<p>edit: the pom:</p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.marklogic&lt;/groupId&gt;\n        &lt;artifactId&gt;mlcp&lt;/artifactId&gt;\n        &lt;version&gt;8.0-4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\n        &lt;artifactId&gt;avro&lt;/artifactId&gt;\n        &lt;version&gt;1.7.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-cli&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-cli&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n        &lt;version&gt;1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-configuration&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-configuration&lt;/artifactId&gt;\n        &lt;version&gt;1.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n        &lt;version&gt;2.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n        &lt;version&gt;1.1.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-modeler&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-modeler&lt;/artifactId&gt;\n        &lt;version&gt;2.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;version&gt;11.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n        &lt;artifactId&gt;hadoop-annotations&lt;/artifactId&gt;\n        &lt;version&gt;2.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n        &lt;artifactId&gt;hadoop-auth&lt;/artifactId&gt;\n        &lt;version&gt;2.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n        &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\n        &lt;version&gt;2.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n        &lt;artifactId&gt;hadoop-hdfs&lt;/artifactId&gt;\n        &lt;version&gt;2.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n        &lt;artifactId&gt;hadoop-mapreduce-client-common&lt;/artifactId&gt;\n        &lt;version&gt;2.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n        &lt;artifactId&gt;hadoop-mapreduce-client-core&lt;/artifactId&gt;\n        &lt;version&gt;2.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n        &lt;artifactId&gt;hadoop-mapreduce-client-jobclient&lt;/artifactId&gt;\n        &lt;version&gt;2.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n        &lt;artifactId&gt;hadoop-yarn-api&lt;/artifactId&gt;\n        &lt;version&gt;2.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n        &lt;artifactId&gt;hadoop-yarn-common&lt;/artifactId&gt;\n        &lt;version&gt;2.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-jaxrs&lt;/artifactId&gt;\n        &lt;version&gt;1.8.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-xc&lt;/artifactId&gt;\n        &lt;version&gt;1.8.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\n        &lt;version&gt;1.9.13&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n        &lt;version&gt;1.9.13&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;version&gt;1.2.17&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\n        &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\n        &lt;version&gt;2.5.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;1.6.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;version&gt;1.6.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;xerces&lt;/groupId&gt;\n        &lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\n        &lt;version&gt;2.10.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;xpp3&lt;/groupId&gt;\n        &lt;artifactId&gt;xpp3&lt;/artifactId&gt;\n        &lt;version&gt;1.1.3.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.jena&lt;/groupId&gt;\n        &lt;artifactId&gt;jena-arq&lt;/artifactId&gt;\n        &lt;version&gt;2.10.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.jena&lt;/groupId&gt;\n        &lt;artifactId&gt;jena-core&lt;/artifactId&gt;\n        &lt;version&gt;2.10.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.jena&lt;/groupId&gt;\n        &lt;artifactId&gt;jena-iri&lt;/artifactId&gt;\n        &lt;version&gt;0.9.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.solr&lt;/groupId&gt;\n        &lt;artifactId&gt;solr-commons-csv&lt;/artifactId&gt;\n        &lt;version&gt;3.5.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;xml-apis&lt;/groupId&gt;\n        &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\n        &lt;version&gt;1.4.01&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt;\n        &lt;artifactId&gt;xstream&lt;/artifactId&gt;\n        &lt;version&gt;1.4.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.11&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n        &lt;version&gt;3.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n        &lt;artifactId&gt;hadoop-yarn-client&lt;/artifactId&gt;\n        &lt;version&gt;2.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n        &lt;version&gt;1.9&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-core&lt;/artifactId&gt;\n        &lt;version&gt;1.9&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.htrace&lt;/groupId&gt;\n        &lt;artifactId&gt;htrace-core&lt;/artifactId&gt;\n        &lt;version&gt;3.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.marklogic&lt;/groupId&gt;\n        &lt;artifactId&gt;marklogic-xcc&lt;/artifactId&gt;\n        &lt;version&gt;8.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.marklogic&lt;/groupId&gt;\n        &lt;artifactId&gt;marklogic-mapreduce2&lt;/artifactId&gt;\n        &lt;version&gt;2.1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","docker","containers","amazon-ecs"],"comments":[{"owner":{"account_id":6157899,"reputation":19791,"user_id":4800344,"display_name":"Ermiya Eskandary"},"score":0,"creation_date":1673956173,"post_id":75145912,"comment_id":132607494,"body_markdown":"&#39;The container has ~115GB assigned.&#39; - what&#39;s your container definition?","body":"&#39;The container has ~115GB assigned.&#39; - what&#39;s your container definition?"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1673956407,"post_id":75145912,"comment_id":132607575,"body_markdown":"add `-XX:-UseCompressedOops`","body":"add <code>-XX:-UseCompressedOops</code>"},{"owner":{"account_id":5914240,"reputation":1974,"user_id":4653517,"display_name":"James Mudd"},"score":0,"creation_date":1673956442,"post_id":75145912,"comment_id":132607581,"body_markdown":"https://pastebin.com/TU37JBnW I have removed a few identifying bits","body":"<a href=\"https://pastebin.com/TU37JBnW\" rel=\"nofollow noreferrer\">pastebin.com/TU37JBnW</a> I have removed a few identifying bits"}],"answers":[{"tags":[],"owner":{"account_id":5914240,"reputation":1974,"user_id":4653517,"display_name":"James Mudd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673965721,"creation_date":1673965721,"answer_id":75147934,"question_id":75145912,"body_markdown":"Thanks to [Andrey][1]. The solution was to add `-XX:-UseCompressedOops`\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/3426309/andrey-b-panfilov","title":"JVM -XX:MaxRAMPercentage not being applied in container","body":"<p>Thanks to <a href=\"https://stackoverflow.com/users/3426309/andrey-b-panfilov\">Andrey</a>. The solution was to add <code>-XX:-UseCompressedOops</code></p>\n"}],"owner":{"account_id":5914240,"reputation":1974,"user_id":4653517,"display_name":"James Mudd"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1124,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75147934,"answer_count":1,"score":1,"last_activity_date":1673965721,"creation_date":1673955805,"question_id":75145912,"body_markdown":"I am trying to run a Java app which requires a large heap. It is running on AWS ECS inside a container. On a host with 128GB RAM. The container has ~115GB assigned.\r\n\r\nThe Dockerfile is based on `eclipse-temurin:11`\r\n\r\nI am launching with the option `-XX:MaxRAMPercentage=85.0` and also `-XX:+PrintFlagsFinal` to get feedback. This is what I get abridged (too large for SO) Full flags here https://pastebin.com/jm7Md2c8\r\n```\r\n2023-01-17 11:02:40      bool MaxFDLimit                               = true                                      {product} {default}\r\n2023-01-17 11:02:40     uintx MaxGCMinorPauseMillis                    = 18446744073709551615                      {product} {default}\r\n2023-01-17 11:02:40     uintx MaxGCPauseMillis                         = 200                                       {product} {default}\r\n2023-01-17 11:02:40     uintx MaxHeapFreeRatio                         = 70                                     {manageable} {default}\r\n2023-01-17 11:02:40    size_t MaxHeapSize                              = 32178700288                               {product} {ergonomic}\r\n2023-01-17 11:02:40      intx MaxInlineLevel                           = 15                                        {product} {default}\r\n2023-01-17 11:02:40      intx MaxInlineSize                            = 35                                        {product} {default}\r\n2023-01-17 11:02:40    size_t MaxMetaspaceExpansion                    = 5451776                                   {product} {default}\r\n2023-01-17 11:02:40     uintx MaxMetaspaceFreeRatio                    = 70                                        {product} {default}\r\n2023-01-17 11:02:40    size_t MaxMetaspaceSize                         = 18446744073709547520                      {product} {default}\r\n2023-01-17 11:02:40    size_t MaxNewSize                               = 19306381312                               {product} {ergonomic}\r\n2023-01-17 11:02:40      intx MaxNodeLimit                             = 80000                                  {C2 product} {default}\r\n2023-01-17 11:02:40  uint64_t MaxRAM                                   = 137438953472                           {pd product} {default}\r\n2023-01-17 11:02:40     uintx MaxRAMFraction                           = 4                                         {product} {default}\r\n2023-01-17 11:02:40    double MaxRAMPercentage                         = 85.000000                                 {product} {command line}\r\n2023-01-17 11:02:40      intx MaxRecursiveInlineLevel                  = 1                                         {product} {default}\r\n2023-01-17 11:02:40     uintx MaxTenuringThreshold                     = 15                                        {product} {default}\r\n2023-01-17 11:02:40      intx MaxTrivialSize                           = 6                                         {product} {default}\r\n2023-01-17 11:02:40      intx MaxVectorSize                            = 32                                     {C2 product} {default}\r\n2023-01-17 11:02:40    size_t MetaspaceSize                            = 21807104                               {pd product} {default}\r\n2023-01-17 11:02:40      bool MethodFlushing                           = true                                      {product} {default}\r\n2023-01-17 11:02:40    size_t MinHeapDeltaBytes                        = 4194304                                   {product} {ergonomic}\r\n2023-01-17 11:02:40     uintx MinHeapFreeRatio                         = 40                                     {manageable} {default}\r\n2023-01-17 11:02:40      intx MinInliningThreshold                     = 250                                       {product} {default}\r\n2023-01-17 11:02:40      intx MinJumpTableSize                         = 10                                  {C2 pd product} {default}\r\n2023-01-17 11:02:40    size_t MinMetaspaceExpansion                    = 339968                                    {product} {default}\r\n2023-01-17 11:02:40     uintx MinMetaspaceFreeRatio                    = 40                                        {product} {default}\r\n2023-01-17 11:02:40     uintx MinRAMFraction                           = 2                                         {product} {default}\r\n2023-01-17 11:02:40    double MinRAMPercentage                         = 50.000000                                 {product} {default}\r\n2023-01-17 11:02:40     uintx MinSurvivorRatio                         = 3                                         {product} {default}\r\n2023-01-17 11:02:40      bool UseContainerSupport                      = true                                      {product} {default}\r\n```\r\n\r\nSo it seems reasonable, the JVM detected the host ram `MaxRAM = 137438953472` = 128GB the option `MaxRAMPercentage = 85.000000` was correctly set. `UseContainerSupport = true` so my understanding is these options should be applied.\r\n\r\nSo I dont understand why `MaxHeapSize = 32178700288` which is only ~29.9GB? I think its 1/4 of the 115GB assigned to the container which seems to imply my settings are not being applied, why?.\r\n\r\nTesting locally with\r\n```\r\ndocker run --memory=&#39;2g&#39; eclipse-temurin:11 java -XX:MaxRAMPercentage=85.0 -XX:+PrintFlagsFinal -version | grep MaxHeapSize\r\n```\r\nAppears to work as expected when varying the container memory assigned and the `MaxRAMPercentage`","title":"JVM -XX:MaxRAMPercentage not being applied in container","body":"<p>I am trying to run a Java app which requires a large heap. It is running on AWS ECS inside a container. On a host with 128GB RAM. The container has ~115GB assigned.</p>\n<p>The Dockerfile is based on <code>eclipse-temurin:11</code></p>\n<p>I am launching with the option <code>-XX:MaxRAMPercentage=85.0</code> and also <code>-XX:+PrintFlagsFinal</code> to get feedback. This is what I get abridged (too large for SO) Full flags here <a href=\"https://pastebin.com/jm7Md2c8\" rel=\"nofollow noreferrer\">https://pastebin.com/jm7Md2c8</a></p>\n<pre><code>2023-01-17 11:02:40      bool MaxFDLimit                               = true                                      {product} {default}\n2023-01-17 11:02:40     uintx MaxGCMinorPauseMillis                    = 18446744073709551615                      {product} {default}\n2023-01-17 11:02:40     uintx MaxGCPauseMillis                         = 200                                       {product} {default}\n2023-01-17 11:02:40     uintx MaxHeapFreeRatio                         = 70                                     {manageable} {default}\n2023-01-17 11:02:40    size_t MaxHeapSize                              = 32178700288                               {product} {ergonomic}\n2023-01-17 11:02:40      intx MaxInlineLevel                           = 15                                        {product} {default}\n2023-01-17 11:02:40      intx MaxInlineSize                            = 35                                        {product} {default}\n2023-01-17 11:02:40    size_t MaxMetaspaceExpansion                    = 5451776                                   {product} {default}\n2023-01-17 11:02:40     uintx MaxMetaspaceFreeRatio                    = 70                                        {product} {default}\n2023-01-17 11:02:40    size_t MaxMetaspaceSize                         = 18446744073709547520                      {product} {default}\n2023-01-17 11:02:40    size_t MaxNewSize                               = 19306381312                               {product} {ergonomic}\n2023-01-17 11:02:40      intx MaxNodeLimit                             = 80000                                  {C2 product} {default}\n2023-01-17 11:02:40  uint64_t MaxRAM                                   = 137438953472                           {pd product} {default}\n2023-01-17 11:02:40     uintx MaxRAMFraction                           = 4                                         {product} {default}\n2023-01-17 11:02:40    double MaxRAMPercentage                         = 85.000000                                 {product} {command line}\n2023-01-17 11:02:40      intx MaxRecursiveInlineLevel                  = 1                                         {product} {default}\n2023-01-17 11:02:40     uintx MaxTenuringThreshold                     = 15                                        {product} {default}\n2023-01-17 11:02:40      intx MaxTrivialSize                           = 6                                         {product} {default}\n2023-01-17 11:02:40      intx MaxVectorSize                            = 32                                     {C2 product} {default}\n2023-01-17 11:02:40    size_t MetaspaceSize                            = 21807104                               {pd product} {default}\n2023-01-17 11:02:40      bool MethodFlushing                           = true                                      {product} {default}\n2023-01-17 11:02:40    size_t MinHeapDeltaBytes                        = 4194304                                   {product} {ergonomic}\n2023-01-17 11:02:40     uintx MinHeapFreeRatio                         = 40                                     {manageable} {default}\n2023-01-17 11:02:40      intx MinInliningThreshold                     = 250                                       {product} {default}\n2023-01-17 11:02:40      intx MinJumpTableSize                         = 10                                  {C2 pd product} {default}\n2023-01-17 11:02:40    size_t MinMetaspaceExpansion                    = 339968                                    {product} {default}\n2023-01-17 11:02:40     uintx MinMetaspaceFreeRatio                    = 40                                        {product} {default}\n2023-01-17 11:02:40     uintx MinRAMFraction                           = 2                                         {product} {default}\n2023-01-17 11:02:40    double MinRAMPercentage                         = 50.000000                                 {product} {default}\n2023-01-17 11:02:40     uintx MinSurvivorRatio                         = 3                                         {product} {default}\n2023-01-17 11:02:40      bool UseContainerSupport                      = true                                      {product} {default}\n</code></pre>\n<p>So it seems reasonable, the JVM detected the host ram <code>MaxRAM = 137438953472</code> = 128GB the option <code>MaxRAMPercentage = 85.000000</code> was correctly set. <code>UseContainerSupport = true</code> so my understanding is these options should be applied.</p>\n<p>So I dont understand why <code>MaxHeapSize = 32178700288</code> which is only ~29.9GB? I think its 1/4 of the 115GB assigned to the container which seems to imply my settings are not being applied, why?.</p>\n<p>Testing locally with</p>\n<pre><code>docker run --memory='2g' eclipse-temurin:11 java -XX:MaxRAMPercentage=85.0 -XX:+PrintFlagsFinal -version | grep MaxHeapSize\n</code></pre>\n<p>Appears to work as expected when varying the container memory assigned and the <code>MaxRAMPercentage</code></p>\n"},{"tags":["java","junit","mockito","wildfly","datasource"],"answers":[{"tags":[],"owner":{"account_id":16192240,"reputation":393,"user_id":11690682,"display_name":"sweintritt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673964600,"creation_date":1673964600,"answer_id":75147707,"question_id":75147575,"body_markdown":"You could mock the static method of the `Archicon` class with mockito to return a mock of `DataSource`:\r\n\r\n```java\r\ntry (final MockedSatic&lt;Archicon&gt; archicon= Mockito.mockStatic(Archicon.class)) {\r\n    DataSource ds = mock(DataSource.class);\r\n    archicon.when(() -&gt; Archicon.getResource(any())).thenReturn(ds);\r\n}\r\n```","title":"mocking a method with a dynamic datasource","body":"<p>You could mock the static method of the <code>Archicon</code> class with mockito to return a mock of <code>DataSource</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (final MockedSatic&lt;Archicon&gt; archicon= Mockito.mockStatic(Archicon.class)) {\n    DataSource ds = mock(DataSource.class);\n    archicon.when(() -&gt; Archicon.getResource(any())).thenReturn(ds);\n}\n</code></pre>\n"}],"owner":{"account_id":26186898,"reputation":99,"user_id":19869319,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75147707,"answer_count":1,"score":0,"last_activity_date":1673965708,"creation_date":1673964012,"question_id":75147575,"body_markdown":"I need to test this method but I don&#39;t know how can I test without connecting to the db on the server.\r\n\r\n    public List&lt;String&gt; searchQuery(String key) {\r\n\t\tList&lt;String&gt; resultList = null;\r\n\t\ttry {\r\n\t\t\tthis.createConnection(CheckDataServlet.getKey(Integer.parseInt(key)).getConnection().getName());\r\n\t\t\tstmt = conn.prepareStatement(CheckDataServlet.getKey(Integer.parseInt(key)).getSelect().trim());\r\n\t\t\trs = stmt.executeQuery();\r\n\t\t\tresultList = this.getValues(rs);\r\n\t\t} catch ( SQLException e) {\r\n\t\t\tArchicon.getLogger().error(&quot;ValidationData.searchQuery error: &quot;+e);\r\n\t\t}finally {\r\n\t\t\tthis.closeConnection(&quot;searchQuery&quot;,conn,stmt,rs);\r\n\t\t}\r\n\t\tif (resultList == null) {\r\n\t\t\tresultList = new ArrayList&lt;&gt;();\r\n\t\t}\r\n\r\n\t\treturn resultList;\r\n\t}\r\n\r\n    public void createConnection(String key){\r\n    \t\ttry {\r\n    \t\t\tds = (DataSource) Archicon.getResource(&quot;jdbc/&quot;+key);\r\n    \t\t\tconn = ds.getConnection();\r\n    \t\t} catch (SQLException | NamingException e) {\r\n    \t\t\tthrow new RuntimeException(e);\r\n    \t\t}\r\n    \t}\r\n\r\nI tried testing with Mockito but always give me this error because the datasource is null:\r\n\r\n    java.lang.NullPointerException\r\n\tat it.sisal.archicon.model.valor.ValidationData.createConnection(ValidationData.java:157)\r\n\tat it.sisal.archicon.model.valor.ValidationData.searchQuery(ValidationData.java:23)\r\n\tat it.sisal.archicon.model.valor.AwpSapNewRepositoryTest.searchQuery(AwpSapNewRepositoryTest.java:95)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\r\nI tried to build this test class:\r\n\r\n   \r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class AwpSapNewRepositoryTest {\r\n         @Mock\r\n       private ValidationData validationData;\r\n    @Before\r\n        public void setup() throws SQLException {\r\n            MockitoAnnotations.initMocks(this);\r\n         try (final MockedStatic&lt;Archicon&gt; archicon= Mockito.mockStatic(Archicon.class)) {\r\n          DataSource ds = mock(DataSource.class);\r\n          archicon.when(() -&gt; Archicon.getResource(any())).thenReturn(ds);\r\n         }\r\n     @Test\r\n        public void searchQuery() throws NamingException {\r\n    \r\n    \r\n          //  System.setProperty(&quot;jboss.server.config.dir&quot;,&quot;C:\\\\Program Files\\\\wildfly-18.0.0.Final\\\\standalone\\\\configuration\\\\archicon&quot;);\r\n           Archicon.setConfigPath(&quot;C:\\\\Program Files\\\\wildfly-18.0.0.Final\\\\standalone\\\\configuration\\\\archicon&quot;);\r\n            when(validationData.searchQuery(&quot;11&quot;)).thenReturn(new ArrayList&lt;&gt;(List.of(&quot;Name, 99&quot;,&quot;Stuff, 99&quot;)));\r\n            validationData = new ValidationData();\r\n            assertEquals(true,validationData.searchQuery(&quot;11&quot;).size()&gt;0);\r\n        }\r\n\r\n        \r\nDoes anybody know a good way to test this method?","title":"mocking a method with a dynamic datasource","body":"<p>I need to test this method but I don't know how can I test without connecting to the db on the server.</p>\n<pre><code>public List&lt;String&gt; searchQuery(String key) {\n    List&lt;String&gt; resultList = null;\n    try {\n        this.createConnection(CheckDataServlet.getKey(Integer.parseInt(key)).getConnection().getName());\n        stmt = conn.prepareStatement(CheckDataServlet.getKey(Integer.parseInt(key)).getSelect().trim());\n        rs = stmt.executeQuery();\n        resultList = this.getValues(rs);\n    } catch ( SQLException e) {\n        Archicon.getLogger().error(&quot;ValidationData.searchQuery error: &quot;+e);\n    }finally {\n        this.closeConnection(&quot;searchQuery&quot;,conn,stmt,rs);\n    }\n    if (resultList == null) {\n        resultList = new ArrayList&lt;&gt;();\n    }\n\n    return resultList;\n}\n\npublic void createConnection(String key){\n        try {\n            ds = (DataSource) Archicon.getResource(&quot;jdbc/&quot;+key);\n            conn = ds.getConnection();\n        } catch (SQLException | NamingException e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>I tried testing with Mockito but always give me this error because the datasource is null:</p>\n<pre><code>java.lang.NullPointerException\nat it.sisal.archicon.model.valor.ValidationData.createConnection(ValidationData.java:157)\nat it.sisal.archicon.model.valor.ValidationData.searchQuery(ValidationData.java:23)\nat it.sisal.archicon.model.valor.AwpSapNewRepositoryTest.searchQuery(AwpSapNewRepositoryTest.java:95)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n</code></pre>\n<p>I tried to build this test class:</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class AwpSapNewRepositoryTest {\n     @Mock\n   private ValidationData validationData;\n@Before\n    public void setup() throws SQLException {\n        MockitoAnnotations.initMocks(this);\n     try (final MockedStatic&lt;Archicon&gt; archicon= Mockito.mockStatic(Archicon.class)) {\n      DataSource ds = mock(DataSource.class);\n      archicon.when(() -&gt; Archicon.getResource(any())).thenReturn(ds);\n     }\n @Test\n    public void searchQuery() throws NamingException {\n\n\n      //  System.setProperty(&quot;jboss.server.config.dir&quot;,&quot;C:\\\\Program Files\\\\wildfly-18.0.0.Final\\\\standalone\\\\configuration\\\\archicon&quot;);\n       Archicon.setConfigPath(&quot;C:\\\\Program Files\\\\wildfly-18.0.0.Final\\\\standalone\\\\configuration\\\\archicon&quot;);\n        when(validationData.searchQuery(&quot;11&quot;)).thenReturn(new ArrayList&lt;&gt;(List.of(&quot;Name, 99&quot;,&quot;Stuff, 99&quot;)));\n        validationData = new ValidationData();\n        assertEquals(true,validationData.searchQuery(&quot;11&quot;).size()&gt;0);\n    }\n\n    \n</code></pre>\n<p>Does anybody know a good way to test this method?</p>\n"},{"tags":["java","spring","spring-boot","osgi"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673966972,"post_id":75147922,"comment_id":132611328,"body_markdown":"Spring Dynamic Modules has been out of support for many years already and probably doesn&#39;t even work anymore with the current versions of Spring. You could try Spring Plugin to have some dynamic loading. But do you really need dynamic loading (and thus probably also unloading) at runtime, instead of with a restart?","body":"Spring Dynamic Modules has been out of support for many years already and probably doesn&#39;t even work anymore with the current versions of Spring. You could try Spring Plugin to have some dynamic loading. But do you really need dynamic loading (and thus probably also unloading) at runtime, instead of with a restart?"},{"owner":{"account_id":91170,"reputation":6162,"user_id":250517,"accept_rate":75,"display_name":"Grzegorz Grzybek"},"score":0,"creation_date":1673969671,"post_id":75147922,"comment_id":132612373,"body_markdown":"Dynamic loading was the trend when JVM startup time was counted in minutes. Your requirement sounds like an application server... OSGi indeed satisfied demands for highly dynamic JVM processes where ClassLoaders are created in hundreds. This approach is mostly not relevant anymore.\nIn other words - if you want flat classpath with great architecture, use Spring (Boot/Framework). If you need JavaEE application server, where components are WARs, use Tomcat/Jetty. If you need all other kinds of components, use OSGi runtime like Apache Karaf.","body":"Dynamic loading was the trend when JVM startup time was counted in minutes. Your requirement sounds like an application server... OSGi indeed satisfied demands for highly dynamic JVM processes where ClassLoaders are created in hundreds. This approach is mostly not relevant anymore. In other words - if you want flat classpath with great architecture, use Spring (Boot/Framework). If you need JavaEE application server, where components are WARs, use Tomcat/Jetty. If you need all other kinds of components, use OSGi runtime like Apache Karaf."}],"owner":{"account_id":3688369,"reputation":537,"user_id":3071626,"accept_rate":83,"display_name":"Tom Deng Long"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673965675,"creation_date":1673965675,"question_id":75147922,"body_markdown":"I have to develop a program which can be extended by modules at run time using Java Spring Boot.\r\n\r\nA module would be implemented as Spring Controller and then installed and loaded at run time.\r\n\r\nI found out that this could probably be done using a JavaBean which would then be loaded using GenericApplicationContext as described here: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-client\r\n.\r\nUnfortunately this documentation also states that dynamic loading at run-time is possible but not officially supported and could lead to errors:\r\n\r\n    Bean metadata and manually supplied singleton instances need to be registered as early as possible, in order for the container to properly reason about them during autowiring and other introspection steps. While overriding existing metadata and existing singleton instances is supported to some degree, the registration of new beans at runtime (concurrently with live access to the factory) is not officially supported and may lead to concurrent access exceptions, inconsistent state in the bean container, or both.\r\n\r\nHowever I found some posts where people actually do it.\r\n\r\nAnother approach would be to use OSGi. And this doc describes it: https://docs.spring.io/spring-osgi/docs/current/reference/html/app-deploy.html but it looks old and so it is maybe outdated.\r\n\r\nSo does anyone know if OSGi is required to have dynamic module loading at run time for Spring or if Spring does already support this?","title":"Java Spring - dynamic module loading - is OSGi required?","body":"<p>I have to develop a program which can be extended by modules at run time using Java Spring Boot.</p>\n<p>A module would be implemented as Spring Controller and then installed and loaded at run time.</p>\n<p>I found out that this could probably be done using a JavaBean which would then be loaded using GenericApplicationContext as described here: <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-client\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-client</a>\n.\nUnfortunately this documentation also states that dynamic loading at run-time is possible but not officially supported and could lead to errors:</p>\n<pre><code>Bean metadata and manually supplied singleton instances need to be registered as early as possible, in order for the container to properly reason about them during autowiring and other introspection steps. While overriding existing metadata and existing singleton instances is supported to some degree, the registration of new beans at runtime (concurrently with live access to the factory) is not officially supported and may lead to concurrent access exceptions, inconsistent state in the bean container, or both.\n</code></pre>\n<p>However I found some posts where people actually do it.</p>\n<p>Another approach would be to use OSGi. And this doc describes it: <a href=\"https://docs.spring.io/spring-osgi/docs/current/reference/html/app-deploy.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-osgi/docs/current/reference/html/app-deploy.html</a> but it looks old and so it is maybe outdated.</p>\n<p>So does anyone know if OSGi is required to have dynamic module loading at run time for Spring or if Spring does already support this?</p>\n"},{"tags":["java","spring","maven","pom.xml"],"comments":[{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":0,"creation_date":1673965123,"post_id":75147806,"comment_id":132610597,"body_markdown":"If your current project JDK is 16 then you can&#39;t compile Java 17 code. You need Java 17 or higher as your project JDK","body":"If your current project JDK is 16 then you can&#39;t compile Java 17 code. You need Java 17 or higher as your project JDK"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1673965847,"post_id":75147806,"comment_id":132610902,"body_markdown":"I guess that &quot;Current project JDK is 16&quot; means that you have Java 16 installed and that `JAVA_HOME` points to it.  Correct?  If so, Jeroen&#39;s comment is spot on.  Install and configure Java 17.  A Java 16 compiler cannot generate code for target version 17.","body":"I guess that &quot;Current project JDK is 16&quot; means that you have Java 16 installed and that <code>JAVA_HOME</code> points to it.  Correct?  If so, Jeroen&#39;s comment is spot on.  Install and configure Java 17.  A Java 16 compiler cannot generate code for target version 17."},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1673967591,"post_id":75147806,"comment_id":132611615,"body_markdown":"Could also be an IDE configuration issue, where the IDE is only aware of JDK 16 even if 17 is installed.","body":"Could also be an IDE configuration issue, where the IDE is only aware of JDK 16 even if 17 is installed."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1673968673,"post_id":75147806,"comment_id":132612022,"body_markdown":"The OP hasn&#39;t mentioned an IDE, but yea that&#39;s a possibility.  Without some clear information we can only guess.","body":"The OP hasn&#39;t mentioned an IDE, but yea that&#39;s a possibility.  Without some clear information we can only guess."}],"owner":{"account_id":22473794,"reputation":11,"user_id":16673856,"display_name":"Anvit Dubey"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673965536,"creation_date":1673965073,"question_id":75147806,"body_markdown":"The terminal displays that I need to specify the language level in my project but when I do still it show&#39;s the same error. Here&#39;s my Pom.xml:\r\n\r\n```\r\n\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n\t&lt;/properties&gt;\r\n```\r\n\r\nI&#39;m trying to run my Spring application but keep getting this error. What to do next?","title":"Keep getting error: release version 17 not supported Language level is invalid or missing in pom.xml. Current project JDK is 16","body":"<p>The terminal displays that I need to specify the language level in my project but when I do still it show's the same error. Here's my Pom.xml:</p>\n<pre><code>\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n</code></pre>\n<p>I'm trying to run my Spring application but keep getting this error. What to do next?</p>\n"},{"tags":["java","mysql","spring","spring-boot","javabeans"],"answers":[{"tags":[],"owner":{"account_id":17406517,"reputation":26,"user_id":12614512,"display_name":"ocrowo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673965440,"creation_date":1673965440,"answer_id":75147869,"question_id":75147540,"body_markdown":"You have to add the `@Entity` annotation plus getters and setters.\r\n\r\n    @Entity\r\n    public class Korisnik {\r\n     /*\r\n       Getters and Setters...\r\n     */\r\n    }","title":"Error creating bean with name &#39;korisnikController&#39; defined in file","body":"<p>You have to add the <code>@Entity</code> annotation plus getters and setters.</p>\n<pre><code>@Entity\npublic class Korisnik {\n /*\n   Getters and Setters...\n */\n}\n</code></pre>\n"}],"owner":{"account_id":23150564,"reputation":7,"user_id":17252645,"display_name":"Aleksso"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673965558,"answer_count":1,"score":0,"last_activity_date":1673965440,"creation_date":1673963821,"question_id":75147540,"body_markdown":"Right now I am working on some college project with Spring Boot and MySQL db, and I got this error in console for Service, Controller and Repository class of &quot;Korisnik&quot;. Can&#39;t find solution on internet for now and still losing plenty of time on that.\r\n\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;korisnikService&#39; defined in file [/home/sombor/Downloads/Book Your Flight/Book-Your-Flight/target/classes/com/bookyourflight/Book/Your/Flight/korisnik/KorisnikService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;korisnikRepository&#39; defined in com.bookyourflight.Book.Your.Flight.korisnik.KorisnikRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.bookyourflight.Book.Your.Flight.korisnik.Korisnik\r\n\r\n\r\nTried to find solution on internet, expected to fix the problem.","title":"Error creating bean with name &#39;korisnikController&#39; defined in file","body":"<p>Right now I am working on some college project with Spring Boot and MySQL db, and I got this error in console for Service, Controller and Repository class of &quot;Korisnik&quot;. Can't find solution on internet for now and still losing plenty of time on that.</p>\n<p>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'korisnikService' defined in file [/home/sombor/Downloads/Book Your Flight/Book-Your-Flight/target/classes/com/bookyourflight/Book/Your/Flight/korisnik/KorisnikService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'korisnikRepository' defined in com.bookyourflight.Book.Your.Flight.korisnik.KorisnikRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.bookyourflight.Book.Your.Flight.korisnik.Korisnik</p>\n<p>Tried to find solution on internet, expected to fix the problem.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9930295,"reputation":11613,"user_id":11082165,"display_name":"Brian61354270"},"score":0,"creation_date":1673900314,"post_id":75139247,"comment_id":132596095,"body_markdown":"As a side note, `char is not &quot;]&quot;` is bad Python code. It relies on an implementation-specific optimization and isn&#39;t guaranteed to work as expected (see [string interning](https://stackoverflow.com/q/15541404/11082165)). In fact, in Python 3.9+, this code will result in a `SyntaxWarning`. Use `char != &quot;]&quot;` instead","body":"As a side note, <code>char is not &quot;]&quot;</code> is bad Python code. It relies on an implementation-specific optimization and isn&#39;t guaranteed to work as expected (see <a href=\"https://stackoverflow.com/q/15541404/11082165\">string interning</a>). In fact, in Python 3.9+, this code will result in a <code>SyntaxWarning</code>. Use <code>char != &quot;]&quot;</code> instead"}],"answers":[{"tags":[],"owner":{"account_id":20345523,"reputation":160,"user_id":14923551,"display_name":"Samuel"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673900913,"creation_date":1673900913,"answer_id":75139357,"question_id":75139247,"body_markdown":"\r\n\r\n    public class Solution{\r\n        public static String decodeString(String s) {\r\n            StringBuilder stack = new StringBuilder();\r\n            for(char c : s.toCharArray()) {\r\n                if(c != &#39;]&#39;) {\r\n                    stack.append(c);\r\n                } else {\r\n                    StringBuilder sub_str = new StringBuilder();\r\n                    while(stack.charAt(stack.length() - 1) != &#39;[&#39;) {\r\n                        sub_str.insert(0, stack.charAt(stack.length() - 1));\r\n                        stack.deleteCharAt(stack.length() - 1);\r\n                    }\r\n                    stack.deleteCharAt(stack.length() - 1);\r\n    \r\n                    StringBuilder multiplier = new StringBuilder();\r\n                    while(stack.length() &gt; 0 &amp;&amp; Character.isDigit(stack.charAt(stack.length() - 1))) {\r\n                        multiplier.insert(0, stack.charAt(stack.length() - 1));\r\n                        stack.deleteCharAt(stack.length() - 1);\r\n                    }\r\n    \r\n                    for(int i = 0; i &lt; Integer.parseInt(multiplier.toString()); i++) {\r\n                        stack.append(sub_str);\r\n                    }\r\n                }\r\n            }\r\n            return stack.toString();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            System.out.println( decodeString(&quot;3[a2[c]]&quot;));\r\n            //Output: &quot;accaccacc&quot;\r\n            System.out.println( decodeString(&quot;3[a]2[bc]&quot;));\r\n            //Output: &quot;aaabcbc&quot;\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Decode String in Java","body":"<pre><code>public class Solution{\n    public static String decodeString(String s) {\n        StringBuilder stack = new StringBuilder();\n        for(char c : s.toCharArray()) {\n            if(c != ']') {\n                stack.append(c);\n            } else {\n                StringBuilder sub_str = new StringBuilder();\n                while(stack.charAt(stack.length() - 1) != '[') {\n                    sub_str.insert(0, stack.charAt(stack.length() - 1));\n                    stack.deleteCharAt(stack.length() - 1);\n                }\n                stack.deleteCharAt(stack.length() - 1);\n\n                StringBuilder multiplier = new StringBuilder();\n                while(stack.length() &gt; 0 &amp;&amp; Character.isDigit(stack.charAt(stack.length() - 1))) {\n                    multiplier.insert(0, stack.charAt(stack.length() - 1));\n                    stack.deleteCharAt(stack.length() - 1);\n                }\n\n                for(int i = 0; i &lt; Integer.parseInt(multiplier.toString()); i++) {\n                    stack.append(sub_str);\n                }\n            }\n        }\n        return stack.toString();\n    }\n\n    public static void main(String[] args) {\n        System.out.println( decodeString(&quot;3[a2[c]]&quot;));\n        //Output: &quot;accaccacc&quot;\n        System.out.println( decodeString(&quot;3[a]2[bc]&quot;));\n        //Output: &quot;aaabcbc&quot;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7916222,"reputation":303,"user_id":5978561,"display_name":"Jake Henry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673965162,"creation_date":1673902028,"answer_id":75139509,"question_id":75139247,"body_markdown":"The reason why your posted code is not working is because the pop() method in python removes the last element by default. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nBut in Java, the ArrayDeque class&#39;s pop() method removes the first element.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIn order to emulate the python code with the ArrayDeque, you&#39;ll need to use the ***removeLast()*** method of the ArrayDeque instance instead.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kuJLY.png\r\n  [2]: https://i.stack.imgur.com/s2OmL.png","title":"Decode String in Java","body":"<p>The reason why your posted code is not working is because the pop() method in python removes the last element by default.</p>\n<p><a href=\"https://i.stack.imgur.com/kuJLY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kuJLY.png\" alt=\"enter image description here\" /></a></p>\n<p>But in Java, the ArrayDeque class's pop() method removes the first element.</p>\n<p><a href=\"https://i.stack.imgur.com/s2OmL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s2OmL.png\" alt=\"enter image description here\" /></a></p>\n<p>In order to emulate the python code with the ArrayDeque, you'll need to use the <em><strong>removeLast()</strong></em> method of the ArrayDeque instance instead.</p>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":4,"up_vote_count":3,"accepted_answer_id":75139509,"answer_count":2,"score":-1,"last_activity_date":1673965162,"creation_date":1673899989,"question_id":75139247,"body_markdown":"I am trying to convert this Python Solution in Java. For some reason, my Java Solution is not working. How can this be done correctly?\r\n\r\nhttps://leetcode.com/problems/decode-string/description/\r\n\r\n---\r\n\r\nGiven an encoded string, return its decoded string. The encoding rule is: k[encoded_string], where the encoded_string inside the square brackets is being repeated exactly k times. Note that k is guaranteed to be a positive integer.\r\n\r\nYou may assume that the input string is always valid; there are no extra white spaces, square brackets are well-formed, etc. Furthermore, you may assume that the original data does not contain any digits and that digits are only for those repeat numbers, k. For example, there will not be input like 3a or 2[4].\r\n\r\nThe test cases are generated so that the length of the output will never exceed 105.\r\n\r\n \r\n\r\n    Example 1:\r\n\r\n    Input: s = &quot;3[a]2[bc]&quot;\r\n    Output: &quot;aaabcbc&quot;\r\n    Example 2:\r\n    \r\n    Input: s = &quot;3[a2[c]]&quot;\r\n    Output: &quot;accaccacc&quot;\r\n\r\n**Python Solution:**\r\n\r\nclass Solution:\r\n    def decodeString(self, s: str) -&gt; str:\r\n        stack = []\r\n\r\n        for char in s:\r\n            if char is not &quot;]&quot;:\r\n                stack.append(char)\r\n            else:\r\n                sub_str = &quot;&quot;\r\n                while stack[-1] is not &quot;[&quot;:\r\n                    sub_str = stack.pop() + sub_str\r\n                stack.pop()\r\n\r\n                multiplier = &quot;&quot;\r\n                while stack and stack[-1].isdigit():\r\n                    multiplier = stack.pop() + multiplier\r\n\r\n                stack.append(int(multiplier) * sub_str)\r\n\r\n        return &quot;&quot;.join(stack)\r\n\r\n\r\n**Java Attempt:**\r\n\r\n    class Solution {\r\n    \tpublic String decodeString(String s) {\r\n            Deque&lt;String&gt; list = new ArrayDeque&lt;String&gt;();\r\n            String subword = &quot;&quot;;\r\n            String number = &quot;&quot;;\r\n    \r\n            for (int i = 0; i &lt; s.length(); i++) {\r\n                if (s.charAt(i) != &#39;]&#39; ) {\r\n                    list.add(String.valueOf(s.charAt(i)));\r\n                }\r\n                else {\r\n                    subword = &quot;&quot;;\r\n                    while (list.size() &gt; 0 &amp;&amp; !list.getLast().equals(&quot;[&quot;) ) {\r\n                        subword = list.pop() + subword;\r\n                    }\r\n                    if (list.size() &gt; 0) list.pop();\r\n    \r\n                    number = &quot;&quot;;\r\n                    while (list.size() &gt; 0 &amp;&amp; isNumeric(list.getLast())){\r\n                        number = list.pop() + number;\r\n                    }\r\n                    for (int j = 1; (isNumeric(number) &amp;&amp; j &lt;= Integer.parseInt(number)); j++) list.add(subword);   \r\n    \r\n                }\r\n            }\r\n            return String.join(&quot;&quot;, list);\r\n        }\r\n    \r\n        public static boolean isNumeric(String str) { \r\n            try {  \r\n                Double.parseDouble(str);  \r\n                return true;\r\n            } catch(NumberFormatException e){  \r\n                return false;  \r\n            }  \r\n        }   \r\n    }\r\n\r\n","title":"Decode String in Java","body":"<p>I am trying to convert this Python Solution in Java. For some reason, my Java Solution is not working. How can this be done correctly?</p>\n<p><a href=\"https://leetcode.com/problems/decode-string/description/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/decode-string/description/</a></p>\n<hr />\n<p>Given an encoded string, return its decoded string. The encoding rule is: k[encoded_string], where the encoded_string inside the square brackets is being repeated exactly k times. Note that k is guaranteed to be a positive integer.</p>\n<p>You may assume that the input string is always valid; there are no extra white spaces, square brackets are well-formed, etc. Furthermore, you may assume that the original data does not contain any digits and that digits are only for those repeat numbers, k. For example, there will not be input like 3a or 2[4].</p>\n<p>The test cases are generated so that the length of the output will never exceed 105.</p>\n<pre><code>Example 1:\n\nInput: s = &quot;3[a]2[bc]&quot;\nOutput: &quot;aaabcbc&quot;\nExample 2:\n\nInput: s = &quot;3[a2[c]]&quot;\nOutput: &quot;accaccacc&quot;\n</code></pre>\n<p><strong>Python Solution:</strong></p>\n<p>class Solution:\ndef decodeString(self, s: str) -&gt; str:\nstack = []</p>\n<pre><code>    for char in s:\n        if char is not &quot;]&quot;:\n            stack.append(char)\n        else:\n            sub_str = &quot;&quot;\n            while stack[-1] is not &quot;[&quot;:\n                sub_str = stack.pop() + sub_str\n            stack.pop()\n\n            multiplier = &quot;&quot;\n            while stack and stack[-1].isdigit():\n                multiplier = stack.pop() + multiplier\n\n            stack.append(int(multiplier) * sub_str)\n\n    return &quot;&quot;.join(stack)\n</code></pre>\n<p><strong>Java Attempt:</strong></p>\n<pre><code>class Solution {\n    public String decodeString(String s) {\n        Deque&lt;String&gt; list = new ArrayDeque&lt;String&gt;();\n        String subword = &quot;&quot;;\n        String number = &quot;&quot;;\n\n        for (int i = 0; i &lt; s.length(); i++) {\n            if (s.charAt(i) != ']' ) {\n                list.add(String.valueOf(s.charAt(i)));\n            }\n            else {\n                subword = &quot;&quot;;\n                while (list.size() &gt; 0 &amp;&amp; !list.getLast().equals(&quot;[&quot;) ) {\n                    subword = list.pop() + subword;\n                }\n                if (list.size() &gt; 0) list.pop();\n\n                number = &quot;&quot;;\n                while (list.size() &gt; 0 &amp;&amp; isNumeric(list.getLast())){\n                    number = list.pop() + number;\n                }\n                for (int j = 1; (isNumeric(number) &amp;&amp; j &lt;= Integer.parseInt(number)); j++) list.add(subword);   \n\n            }\n        }\n        return String.join(&quot;&quot;, list);\n    }\n\n    public static boolean isNumeric(String str) { \n        try {  \n            Double.parseDouble(str);  \n            return true;\n        } catch(NumberFormatException e){  \n            return false;  \n        }  \n    }   \n}\n</code></pre>\n"},{"tags":["java","maven","google-cloud-dataflow","apache-beam","beam"],"answers":[{"tags":[],"owner":{"account_id":11017333,"reputation":59,"user_id":8092803,"display_name":"ioannespaulus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673964865,"creation_date":1673964865,"answer_id":75147770,"question_id":75146521,"body_markdown":"It was solved by adding this to the pom.\r\n\r\n       &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n        &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\r\n        &lt;version&gt;1.33.2&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Dependency conflict when upgrading Beam version for Cloud Dataflow Template (Java SDK)","body":"<p>It was solved by adding this to the pom.</p>\n<pre><code>   &lt;dependency&gt;\n    &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n    &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\n    &lt;version&gt;1.33.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":11017333,"reputation":59,"user_id":8092803,"display_name":"ioannespaulus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673964865,"creation_date":1673959073,"question_id":75146521,"body_markdown":"I am running a customized Dataflow PubsubToBigQuery template. It is a Java SDK template.\r\n\r\nRight now, I am trying to move from Beam version from 2.36.0 to 2.43.0.\r\n\r\nMy template uses a Cloud storage library which is declared in the pom file as:\r\n\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n          &lt;artifactId&gt;google-api-services-storage&lt;/artifactId&gt;\r\n          &lt;version&gt;v1-rev20181013-1.27.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI change the Beam version to 2.43.0 as mentioned and run the deploy command:\r\n\r\n    mvn compile exec:java ^\r\n    -Dexec.mainClass=com.google.cloud.teleport.templates.PubSubToBigQuery ^\r\n    -Dexec.cleanupDaemonThreads=false ^\r\n    -Dexec.args=&quot;[PRIVATE ARGS]&quot;\r\n\r\nThe deploy task fails with the following error:\r\n\r\n    &quot;You are currently running with version 2.0.0 of google-api-client. You need at least version 1.15 of google-api-client to run version 1.27.0 of the Cloud Storage JSON API library&quot;.\r\n\r\nDetail: google-api-client is not explicit in my pom. Thus no &quot;version 2.0.0&quot; explicitly installed.\r\nAnother question is that message seems totally bonkers, since if I have 2.0.0 and 1.15 at least is required, then I would be more recently than it?\r\n\r\nI already tried to declare the google-api-client with a more recent version than 2.0.0, but then it breaks in one of my code lines.\r\n\r\nAnyone have ideas on how to overcome this?\r\n","title":"Dependency conflict when upgrading Beam version for Cloud Dataflow Template (Java SDK)","body":"<p>I am running a customized Dataflow PubsubToBigQuery template. It is a Java SDK template.</p>\n<p>Right now, I am trying to move from Beam version from 2.36.0 to 2.43.0.</p>\n<p>My template uses a Cloud storage library which is declared in the pom file as:</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n      &lt;artifactId&gt;google-api-services-storage&lt;/artifactId&gt;\n      &lt;version&gt;v1-rev20181013-1.27.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I change the Beam version to 2.43.0 as mentioned and run the deploy command:</p>\n<pre><code>mvn compile exec:java ^\n-Dexec.mainClass=com.google.cloud.teleport.templates.PubSubToBigQuery ^\n-Dexec.cleanupDaemonThreads=false ^\n-Dexec.args=&quot;[PRIVATE ARGS]&quot;\n</code></pre>\n<p>The deploy task fails with the following error:</p>\n<pre><code>&quot;You are currently running with version 2.0.0 of google-api-client. You need at least version 1.15 of google-api-client to run version 1.27.0 of the Cloud Storage JSON API library&quot;.\n</code></pre>\n<p>Detail: google-api-client is not explicit in my pom. Thus no &quot;version 2.0.0&quot; explicitly installed.\nAnother question is that message seems totally bonkers, since if I have 2.0.0 and 1.15 at least is required, then I would be more recently than it?</p>\n<p>I already tried to declare the google-api-client with a more recent version than 2.0.0, but then it breaks in one of my code lines.</p>\n<p>Anyone have ideas on how to overcome this?</p>\n"},{"tags":["java","android","mapbox-android","mapbox-marker"],"answers":[{"tags":[],"owner":{"account_id":266959,"reputation":1154,"user_id":554830,"accept_rate":59,"display_name":"Kutbi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673964726,"creation_date":1673964726,"answer_id":75147742,"question_id":74983234,"body_markdown":"You first need to check whether your annotation is present in the symbol manager. If it isn&#39;t there, add it in symbol manager first, then update that annotation.\r\n\r\n\r\n    if (!symbolManager.getAnnotations().containsValue(&quot;Your symbol&quot;))\r\n    {\r\n        SymbolOptions symbolOptions = new SymbolOptions();\r\n        symbolOptions.withLatLng(newLatLng);\r\n        symbolOptions.withIconImage(&quot;image&quot;);\r\n        Your symbol= symbolManager.create(symbolOptions);\r\n    }","title":"One mapbox map is freezing when two maps load on a same fragment but on a different frame","body":"<p>You first need to check whether your annotation is present in the symbol manager. If it isn't there, add it in symbol manager first, then update that annotation.</p>\n<pre><code>if (!symbolManager.getAnnotations().containsValue(&quot;Your symbol&quot;))\n{\n    SymbolOptions symbolOptions = new SymbolOptions();\n    symbolOptions.withLatLng(newLatLng);\n    symbolOptions.withIconImage(&quot;image&quot;);\n    Your symbol= symbolManager.create(symbolOptions);\n}\n</code></pre>\n"}],"owner":{"account_id":266959,"reputation":1154,"user_id":554830,"accept_rate":59,"display_name":"Kutbi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673964726,"creation_date":1672667549,"question_id":74983234,"body_markdown":"We are getting the below error when trying to load two Mapbox maps in a fragment.\r\n\r\n**Can&#39;t update annotation: Symbol{geometry=Point{type=Point, bbox=null, coordinates=[-121.3559284, 38.9228032]}, properties={&quot;symbol-sort-key&quot;:null,&quot;icon-size&quot;:null,&quot;icon-image&quot;:&quot;marker-icon-id&quot;,&quot;icon-rotate&quot;:165.30766,&quot;icon-offset&quot;:null,&quot;icon-anchor&quot;:null,&quot;text-field&quot;:null,&quot;text-font&quot;:null,&quot;text-size&quot;:null,&quot;text-max-width&quot;:null,&quot;text-letter-spacing&quot;:null,&quot;text-justify&quot;:null,&quot;text-radial-offset&quot;:null,&quot;text-anchor&quot;:null,&quot;text-rotate&quot;:null,&quot;text-transform&quot;:null,&quot;text-offset&quot;:null,&quot;icon-opacity&quot;:null,&quot;icon-color&quot;:null,&quot;icon-halo-color&quot;:null,&quot;icon-halo-width&quot;:null,&quot;icon-halo-blur&quot;:null,&quot;text-opacity&quot;:null,&quot;text-color&quot;:null,&quot;text-halo-color&quot;:null,&quot;text-halo-width&quot;:null,&quot;text-halo-blur&quot;:null,&quot;id&quot;:2,&quot;custom_data&quot;:null}, isDraggable=false}, the annotation isn&#39;t active annotation.**\r\n\r\nWe have a fullscreen mapview on the screen, and on the right bottom, we have a small window for video. Using the symbol manager, we are showing current lat long on the map. It&#39;s working fine, and the symbol is moving properly once the application is loaded. When we click on the video, we get a full-screen video instead of a mapview, and a mapview instead of a small video. On that mapview we can also see the moving symbol with the current lat long. But when we click on that small mapview again, the full screen mapview is showing and the moving map icon is getting frozen.\r\n\r\nPlease see the reference below.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/K0BHL.jpg","title":"One mapbox map is freezing when two maps load on a same fragment but on a different frame","body":"<p>We are getting the below error when trying to load two Mapbox maps in a fragment.</p>\n<p><strong>Can't update annotation: Symbol{geometry=Point{type=Point, bbox=null, coordinates=[-121.3559284, 38.9228032]}, properties={&quot;symbol-sort-key&quot;:null,&quot;icon-size&quot;:null,&quot;icon-image&quot;:&quot;marker-icon-id&quot;,&quot;icon-rotate&quot;:165.30766,&quot;icon-offset&quot;:null,&quot;icon-anchor&quot;:null,&quot;text-field&quot;:null,&quot;text-font&quot;:null,&quot;text-size&quot;:null,&quot;text-max-width&quot;:null,&quot;text-letter-spacing&quot;:null,&quot;text-justify&quot;:null,&quot;text-radial-offset&quot;:null,&quot;text-anchor&quot;:null,&quot;text-rotate&quot;:null,&quot;text-transform&quot;:null,&quot;text-offset&quot;:null,&quot;icon-opacity&quot;:null,&quot;icon-color&quot;:null,&quot;icon-halo-color&quot;:null,&quot;icon-halo-width&quot;:null,&quot;icon-halo-blur&quot;:null,&quot;text-opacity&quot;:null,&quot;text-color&quot;:null,&quot;text-halo-color&quot;:null,&quot;text-halo-width&quot;:null,&quot;text-halo-blur&quot;:null,&quot;id&quot;:2,&quot;custom_data&quot;:null}, isDraggable=false}, the annotation isn't active annotation.</strong></p>\n<p>We have a fullscreen mapview on the screen, and on the right bottom, we have a small window for video. Using the symbol manager, we are showing current lat long on the map. It's working fine, and the symbol is moving properly once the application is loaded. When we click on the video, we get a full-screen video instead of a mapview, and a mapview instead of a small video. On that mapview we can also see the moving symbol with the current lat long. But when we click on that small mapview again, the full screen mapview is showing and the moving map icon is getting frozen.</p>\n<p>Please see the reference below.\n<a href=\"https://i.stack.imgur.com/K0BHL.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K0BHL.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","cdi"],"answers":[{"tags":[],"owner":{"account_id":22099310,"reputation":3,"user_id":16356022,"display_name":"orudicKS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673964657,"creation_date":1673964574,"answer_id":75147703,"question_id":75146962,"body_markdown":"Never mind. I just found the [Servlet module from Apache DeltaSpike][1] which allows for injectable servlet objects such as the `HttpServletResponse`. So there is no need for a custom CDI `Producer` or `@Produces` method.\r\n\r\n\r\n  [1]: https://deltaspike.apache.org/documentation/servlet.html","title":"Producer for injecting HttpServletResponse","body":"<p>Never mind. I just found the <a href=\"https://deltaspike.apache.org/documentation/servlet.html\" rel=\"nofollow noreferrer\">Servlet module from Apache DeltaSpike</a> which allows for injectable servlet objects such as the <code>HttpServletResponse</code>. So there is no need for a custom CDI <code>Producer</code> or <code>@Produces</code> method.</p>\n"}],"owner":{"account_id":22099310,"reputation":3,"user_id":16356022,"display_name":"orudicKS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673964657,"creation_date":1673961175,"question_id":75146962,"body_markdown":"As I&#39;ve read [here](https://stackoverflow.com/questions/69101304/why-is-httpservletrequest-injectable-via-cdi-but-httpservletresponse-isnt) and tried myself, it is not possible to inject the `HttpServletResponse` of the current `@RequestScoped`.\r\n\r\nSo it seems that you have to implement a custom CDI `Procuder` or `@Produces` method to be able to inject the `HttpserlvetResponse`. I have two questions:\r\n\r\n1. Where would one implement this producer? Maybe with a web filter that sets the response in a `@RequestScoped` bean?\r\n2. Is injecting the response even a good idea in the first place since there is no way to inject the response by default?","title":"Producer for injecting HttpServletResponse","body":"<p>As I've read <a href=\"https://stackoverflow.com/questions/69101304/why-is-httpservletrequest-injectable-via-cdi-but-httpservletresponse-isnt\">here</a> and tried myself, it is not possible to inject the <code>HttpServletResponse</code> of the current <code>@RequestScoped</code>.</p>\n<p>So it seems that you have to implement a custom CDI <code>Procuder</code> or <code>@Produces</code> method to be able to inject the <code>HttpserlvetResponse</code>. I have two questions:</p>\n<ol>\n<li>Where would one implement this producer? Maybe with a web filter that sets the response in a <code>@RequestScoped</code> bean?</li>\n<li>Is injecting the response even a good idea in the first place since there is no way to inject the response by default?</li>\n</ol>\n"},{"tags":["java","apache-kafka","osgi","apache-felix","apache-servicemix"],"owner":{"account_id":130083,"reputation":8384,"user_id":329082,"accept_rate":90,"display_name":"Victor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673964619,"creation_date":1673964261,"question_id":75147627,"body_markdown":"I&#39;m adding a Kafka Producer to a legacy OSGi application and I could configure the Kafka Client v3.2.1 as a bundle. It worked well, but when I tried to set up OAuth SASL it failed because OAuthBearerLoginCallbackHandler cannot be cast to AuthenticateCallbackHandler.\r\n\r\nAs I can see on the code [OAuthBearerLoginCallbackHandler][1] implements AuthenticateCallbackHandler. I know that this error can happen when both classes belong to different classloaders, I saw this error happening without OSGi. But how can I fix this error packaging Kafka Client as an OSGi bundle?\r\n\r\n    Error activating Kafka Producer Component: javax.security.auth.login.LoginException: java.lang.IllegalArgumentException: Callback handler must be castable to org.apache.kafka.common.security.auth.AuthenticateCallbackHandler: org.apache.kafka.common.security.oauthbearer.secured.OAuthBearerLoginCallbackHandler\r\n            at org.apache.kafka.common.security.oauthbearer.OAuthBearerLoginModule.initialize(OAuthBearerLoginModule.java:278)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:498)\r\n            at javax.security.auth.login.LoginContext.invoke(LoginContext.java:736)\r\n            at javax.security.auth.login.LoginContext.access$000(LoginContext.java:195)\r\n            at javax.security.auth.login.LoginContext$4.run(LoginContext.java:682)\r\n            at javax.security.auth.login.LoginContext$4.run(LoginContext.java:680)\r\n            at java.security.AccessController.doPrivileged(Native Method)\r\n            at javax.security.auth.login.LoginContext.invokePriv(LoginContext.java:680)\r\n            at javax.security.auth.login.LoginContext.login(LoginContext.java:587)\r\n            at org.apache.kafka.common.security.oauthbearer.internals.expiring.ExpiringCredentialRefreshingLogin.login(ExpiringCredentialRefreshingLogin.java:204)\r\n            at org.apache.kafka.common.security.oauthbearer.internals.OAuthBearerRefreshingLogin.login(OAuthBearerRefreshingLogin.java:150)\r\n            at org.apache.kafka.common.security.authenticator.LoginManager.&lt;init&gt;(LoginManager.java:62)\r\n            at org.apache.kafka.common.security.authenticator.LoginManager.acquireLoginManager(LoginManager.java:105)\r\n            at org.apache.kafka.common.network.SaslChannelBuilder.configure(SaslChannelBuilder.java:170)\r\n            at org.apache.kafka.common.network.ChannelBuilders.create(ChannelBuilders.java:192)\r\n            at org.apache.kafka.common.network.ChannelBuilders.clientChannelBuilder(ChannelBuilders.java:81)\r\n            at org.apache.kafka.clients.ClientUtils.createChannelBuilder(ClientUtils.java:105)\r\n            at org.apache.kafka.clients.producer.KafkaProducer.newSender(KafkaProducer.java:484)\r\n            at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:428)\r\n            at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:289)\r\n            at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:316)\r\n            at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:301)\r\n\r\n\r\nThis is what I&#39;m using as export/import packages:\r\n\r\n        &lt;servicemix.osgi.export.pkg&gt;\r\n            org.apache.kafka,\r\n            org.apache.kafka.clients,\r\n            org.apache.kafka.clients.*,\r\n            org.apache.kafka.common,\r\n            org.apache.kafka.common.*\r\n        &lt;/servicemix.osgi.export.pkg&gt;\r\n        &lt;servicemix.osgi.import.pkg&gt;\r\n            javax.management.*,\r\n            javax.security.*,\r\n            javax.net.ssl.*,\r\n            javax.crypto.*,\r\n            org.ietf.jgss.*,\r\n            org.slf4j.*,\r\n            net.jpountz.*;resolution:=optional,\r\n            javax.xml.bind;resolution:=optional,\r\n            org.xerial.snappy;resolution:=optional;version=&quot;[1.1,2)&quot;,\r\n            sun.misc;resolution:=optional,\r\n            sun.nio.ch;resolution:=optional,\r\n            sun.security.krb5;resolution:=optional,\r\n            com.ibm.security.krb5.internal;resolution:=optional,\r\n            com.github.luben.zstd;resolution:=optional,\r\n            io.confluent.kafka.serializers;resolution:=optional,\r\n            io.confluent.kafka.serializers.context;resolution:=optional,\r\n            io.confluent.kafka.serializers.subject;resolution:=optional\r\n        &lt;/servicemix.osgi.import.pkg&gt;\r\n\r\n  [1]: https://github.com/apache/kafka/blob/3.2/clients/src/main/java/org/apache/kafka/common/security/oauthbearer/secured/OAuthBearerLoginCallbackHandler.java","title":"OSGi Kafka client fail to load OAuthBearerLoginCallbackHandler because of cast exception","body":"<p>I'm adding a Kafka Producer to a legacy OSGi application and I could configure the Kafka Client v3.2.1 as a bundle. It worked well, but when I tried to set up OAuth SASL it failed because OAuthBearerLoginCallbackHandler cannot be cast to AuthenticateCallbackHandler.</p>\n<p>As I can see on the code <a href=\"https://github.com/apache/kafka/blob/3.2/clients/src/main/java/org/apache/kafka/common/security/oauthbearer/secured/OAuthBearerLoginCallbackHandler.java\" rel=\"nofollow noreferrer\">OAuthBearerLoginCallbackHandler</a> implements AuthenticateCallbackHandler. I know that this error can happen when both classes belong to different classloaders, I saw this error happening without OSGi. But how can I fix this error packaging Kafka Client as an OSGi bundle?</p>\n<pre><code>Error activating Kafka Producer Component: javax.security.auth.login.LoginException: java.lang.IllegalArgumentException: Callback handler must be castable to org.apache.kafka.common.security.auth.AuthenticateCallbackHandler: org.apache.kafka.common.security.oauthbearer.secured.OAuthBearerLoginCallbackHandler\n        at org.apache.kafka.common.security.oauthbearer.OAuthBearerLoginModule.initialize(OAuthBearerLoginModule.java:278)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at javax.security.auth.login.LoginContext.invoke(LoginContext.java:736)\n        at javax.security.auth.login.LoginContext.access$000(LoginContext.java:195)\n        at javax.security.auth.login.LoginContext$4.run(LoginContext.java:682)\n        at javax.security.auth.login.LoginContext$4.run(LoginContext.java:680)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at javax.security.auth.login.LoginContext.invokePriv(LoginContext.java:680)\n        at javax.security.auth.login.LoginContext.login(LoginContext.java:587)\n        at org.apache.kafka.common.security.oauthbearer.internals.expiring.ExpiringCredentialRefreshingLogin.login(ExpiringCredentialRefreshingLogin.java:204)\n        at org.apache.kafka.common.security.oauthbearer.internals.OAuthBearerRefreshingLogin.login(OAuthBearerRefreshingLogin.java:150)\n        at org.apache.kafka.common.security.authenticator.LoginManager.&lt;init&gt;(LoginManager.java:62)\n        at org.apache.kafka.common.security.authenticator.LoginManager.acquireLoginManager(LoginManager.java:105)\n        at org.apache.kafka.common.network.SaslChannelBuilder.configure(SaslChannelBuilder.java:170)\n        at org.apache.kafka.common.network.ChannelBuilders.create(ChannelBuilders.java:192)\n        at org.apache.kafka.common.network.ChannelBuilders.clientChannelBuilder(ChannelBuilders.java:81)\n        at org.apache.kafka.clients.ClientUtils.createChannelBuilder(ClientUtils.java:105)\n        at org.apache.kafka.clients.producer.KafkaProducer.newSender(KafkaProducer.java:484)\n        at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:428)\n        at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:289)\n        at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:316)\n        at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:301)\n</code></pre>\n<p>This is what I'm using as export/import packages:</p>\n<pre><code>    &lt;servicemix.osgi.export.pkg&gt;\n        org.apache.kafka,\n        org.apache.kafka.clients,\n        org.apache.kafka.clients.*,\n        org.apache.kafka.common,\n        org.apache.kafka.common.*\n    &lt;/servicemix.osgi.export.pkg&gt;\n    &lt;servicemix.osgi.import.pkg&gt;\n        javax.management.*,\n        javax.security.*,\n        javax.net.ssl.*,\n        javax.crypto.*,\n        org.ietf.jgss.*,\n        org.slf4j.*,\n        net.jpountz.*;resolution:=optional,\n        javax.xml.bind;resolution:=optional,\n        org.xerial.snappy;resolution:=optional;version=&quot;[1.1,2)&quot;,\n        sun.misc;resolution:=optional,\n        sun.nio.ch;resolution:=optional,\n        sun.security.krb5;resolution:=optional,\n        com.ibm.security.krb5.internal;resolution:=optional,\n        com.github.luben.zstd;resolution:=optional,\n        io.confluent.kafka.serializers;resolution:=optional,\n        io.confluent.kafka.serializers.context;resolution:=optional,\n        io.confluent.kafka.serializers.subject;resolution:=optional\n    &lt;/servicemix.osgi.import.pkg&gt;\n</code></pre>\n"},{"tags":["java","aws-lambda"],"comments":[{"owner":{"account_id":4895550,"reputation":854,"user_id":6341307,"display_name":"Mr00Anderson"},"score":0,"creation_date":1532690214,"post_id":51555805,"comment_id":90080251,"body_markdown":"This means the class is not on the class path. But you provided no other information to help specifically. Are you familiar with java or just trying to get it to work work?","body":"This means the class is not on the class path. But you provided no other information to help specifically. Are you familiar with java or just trying to get it to work work?"},{"owner":{"account_id":8919120,"reputation":17,"user_id":6656468,"display_name":"udc"},"score":0,"creation_date":1532695778,"post_id":51555805,"comment_id":90083431,"body_markdown":"I am new to Java. I am just trying to test AWS Lambda function. But I got this exception I don&#39;t know how to solve this issue.","body":"I am new to Java. I am just trying to test AWS Lambda function. But I got this exception I don&#39;t know how to solve this issue."},{"owner":{"account_id":4895550,"reputation":854,"user_id":6341307,"display_name":"Mr00Anderson"},"score":0,"creation_date":1532805936,"post_id":51555805,"comment_id":90114823,"body_markdown":"Basically your issue is that the Java Libraries that contain &#39;com.amazonaws.lambda.demo.LambdaFunctionHandler&#39; are not loaded into the Java Virtual Machine Class Path on launch and thus it is not finding the class definition. This error probably wont be solvable via a question here. Steps I would take to try and solve it, would by looking through the AWS documentation to see if there is FAQ or Support with others having the same issue and or how to fix/properly deploy any software required to get it to work. While this is a Java class/library it really is not an issue with Java the language.","body":"Basically your issue is that the Java Libraries that contain &#39;com.amazonaws.lambda.demo.LambdaFunctionHandler&#39; are not loaded into the Java Virtual Machine Class Path on launch and thus it is not finding the class definition. This error probably wont be solvable via a question here. Steps I would take to try and solve it, would by looking through the AWS documentation to see if there is FAQ or Support with others having the same issue and or how to fix/properly deploy any software required to get it to work. While this is a Java class/library it really is not an issue with Java the language."}],"answers":[{"tags":[],"owner":{"account_id":6769286,"reputation":373,"user_id":5213150,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533742474,"creation_date":1533742474,"answer_id":51750558,"question_id":51555805,"body_markdown":"In the AWS Lambda Console, double check that the value in the &quot;Handler&quot; field matches (exactly) the package and classname of your Java class that will handle the requests.  \r\n\r\nIf you are using CloudFormation to deploy this, then check the handler value in the CloudFormation yaml/json. \r\n\r\n&gt; Either package.class-name::handler or package.class-name.  For\r\n&gt; example, &quot;com.Hello::myHandler&quot; would call the myHandler method\r\n&gt; defined in Hello.java.","title":"Error Loading Class in Lambda function (Java)","body":"<p>In the AWS Lambda Console, double check that the value in the \"Handler\" field matches (exactly) the package and classname of your Java class that will handle the requests.  </p>\n\n<p>If you are using CloudFormation to deploy this, then check the handler value in the CloudFormation yaml/json. </p>\n\n<blockquote>\n  <p>Either package.class-name::handler or package.class-name.  For\n  example, \"com.Hello::myHandler\" would call the myHandler method\n  defined in Hello.java.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3637123,"reputation":10786,"user_id":3032209,"display_name":"Yair Kukielka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673964146,"creation_date":1673964146,"answer_id":75147604,"question_id":51555805,"body_markdown":"If you&#39;re using a jar that uses other libraries you&#39;ll have to use a .zip file, not a .jar file. To compile everything to a zip file, add a task like this one \r\n\r\n    task buildZip(type: Zip) {\r\n    from compileJava\r\n    from processResources\r\n    into(&#39;lib&#39;) {\r\n        from configurations.runtimeClasspath\r\n    }\r\n    }\r\nAs shown [here][1] \r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/lambda/latest/dg/java-package.html#java-package-gradle","title":"Error Loading Class in Lambda function (Java)","body":"<p>If you're using a jar that uses other libraries you'll have to use a .zip file, not a .jar file. To compile everything to a zip file, add a task like this one</p>\n<pre><code>task buildZip(type: Zip) {\nfrom compileJava\nfrom processResources\ninto('lib') {\n    from configurations.runtimeClasspath\n}\n}\n</code></pre>\n<p>As shown <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/java-package.html#java-package-gradle\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":8919120,"reputation":17,"user_id":6656468,"display_name":"udc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1513,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673964146,"creation_date":1532686534,"question_id":51555805,"body_markdown":"I am quite new to AWS service and I am trying to deploy Java Lambda function but I keep getting this error message,       \r\n\r\n    {   \r\n      &quot;errorMessage&quot;: &quot;Error loading class com.amazonaws.lambda.demo.LambdaFunctionHandler: com/amazonaws/AmazonServiceException&quot;,            \r\n      &quot;errorType&quot;: &quot;java.lang.NoClassDefFoundError&quot;         \r\n    }\r\n\r\nI export java project in eclipse to convert .jar file but I can&#39;t add external libraries with .jar file.\r\n\r\nThanks","title":"Error Loading Class in Lambda function (Java)","body":"<p>I am quite new to AWS service and I am trying to deploy Java Lambda function but I keep getting this error message,       </p>\n\n<pre><code>{   \n  \"errorMessage\": \"Error loading class com.amazonaws.lambda.demo.LambdaFunctionHandler: com/amazonaws/AmazonServiceException\",            \n  \"errorType\": \"java.lang.NoClassDefFoundError\"         \n}\n</code></pre>\n\n<p>I export java project in eclipse to convert .jar file but I can't add external libraries with .jar file.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","mongodb","logging"],"comments":[{"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"score":3,"creation_date":1447935616,"post_id":30137564,"comment_id":55372918,"body_markdown":"How did you solve this annoying issue?? @Candroid","body":"How did you solve this annoying issue?? @Candroid"},{"owner":{"account_id":2284823,"reputation":6877,"user_id":2009079,"accept_rate":69,"display_name":"itaied"},"score":0,"creation_date":1447936575,"post_id":30137564,"comment_id":55373573,"body_markdown":"@jipr311 added a new answer","body":"@jipr311 added a new answer"},{"owner":{"account_id":2392816,"reputation":2925,"user_id":2092322,"accept_rate":88,"display_name":"BairDev"},"score":1,"creation_date":1459407276,"post_id":30137564,"comment_id":60274866,"body_markdown":"Does anybody know, what this output actually means? Maybe you can also configure the cluster and connection checking?","body":"Does anybody know, what this output actually means? Maybe you can also configure the cluster and connection checking?"}],"answers":[{"tags":[],"owner":{"account_id":203120,"reputation":1942,"user_id":450586,"accept_rate":71,"display_name":"yuceel"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1493590212,"creation_date":1436520410,"answer_id":31337210,"question_id":30137564,"body_markdown":"If you need dynamic approach you can iterate over loggers and set level of them. Or you can set levels manually. Here are mongo driver loggers:\r\n\r\n    LogManager.getLogger(&quot;org.mongodb.driver.connection&quot;).setLevel(org.apache.log4j.Level.OFF);\r\n    LogManager.getLogger(&quot;org.mongodb.driver.management&quot;).setLevel(org.apache.log4j.Level.OFF);\r\n    LogManager.getLogger(&quot;org.mongodb.driver.cluster&quot;).setLevel(org.apache.log4j.Level.OFF);\r\n    LogManager.getLogger(&quot;org.mongodb.driver.protocol.insert&quot;).setLevel(org.apache.log4j.Level.OFF);\r\n    LogManager.getLogger(&quot;org.mongodb.driver.protocol.query&quot;).setLevel(org.apache.log4j.Level.OFF);\r\n    LogManager.getLogger(&quot;org.mongodb.driver.protocol.update&quot;).setLevel(org.apache.log4j.Level.OFF);","title":"How to disable mongoDB java driver logging?","body":"<p>If you need dynamic approach you can iterate over loggers and set level of them. Or you can set levels manually. Here are mongo driver loggers:</p>\n\n<pre><code>LogManager.getLogger(\"org.mongodb.driver.connection\").setLevel(org.apache.log4j.Level.OFF);\nLogManager.getLogger(\"org.mongodb.driver.management\").setLevel(org.apache.log4j.Level.OFF);\nLogManager.getLogger(\"org.mongodb.driver.cluster\").setLevel(org.apache.log4j.Level.OFF);\nLogManager.getLogger(\"org.mongodb.driver.protocol.insert\").setLevel(org.apache.log4j.Level.OFF);\nLogManager.getLogger(\"org.mongodb.driver.protocol.query\").setLevel(org.apache.log4j.Level.OFF);\nLogManager.getLogger(\"org.mongodb.driver.protocol.update\").setLevel(org.apache.log4j.Level.OFF);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6883083,"reputation":1939,"user_id":5289190,"accept_rate":33,"display_name":"yoga"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673963898,"creation_date":1441124199,"answer_id":32336417,"question_id":30137564,"body_markdown":"use the below import\r\n\r\n```java\r\nimport java.util.logging.Logger;\r\n```\r\n\r\nuse the below in code.\r\n\r\n```java\r\nLogger mongoLogger = Logger.getLogger( &quot;com.mongodb&quot; );\r\nmongoLogger.setLevel(Level.SEVERE);\r\n```","title":"How to disable mongoDB java driver logging?","body":"<p>use the below import</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.logging.Logger;\n</code></pre>\n<p>use the below in code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Logger mongoLogger = Logger.getLogger( &quot;com.mongodb&quot; );\nmongoLogger.setLevel(Level.SEVERE);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2284823,"reputation":6877,"user_id":2009079,"accept_rate":69,"display_name":"itaied"},"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1447937544,"creation_date":1447936511,"answer_id":33804134,"question_id":30137564,"body_markdown":"So this solved this issue:\r\n\r\n    import org.slf4j.LoggerFactory;\r\n    import ch.qos.logback.classic.Level;\r\n    import ch.qos.logback.classic.Logger;\r\n\r\n    ...\r\n    \r\n    static Logger root = (Logger) LoggerFactory\r\n\t\t\t.getLogger(Logger.ROOT_LOGGER_NAME);\r\n\r\n\tstatic {\r\n\t\troot.setLevel(Level.INFO);\r\n\t}\r\n\r\nYou may set the `Level` to a higher `Level` if you wish to hide all the logs.","title":"How to disable mongoDB java driver logging?","body":"<p>So this solved this issue:</p>\n\n<pre><code>import org.slf4j.LoggerFactory;\nimport ch.qos.logback.classic.Level;\nimport ch.qos.logback.classic.Logger;\n\n...\n\nstatic Logger root = (Logger) LoggerFactory\n        .getLogger(Logger.ROOT_LOGGER_NAME);\n\nstatic {\n    root.setLevel(Level.INFO);\n}\n</code></pre>\n\n<p>You may set the <code>Level</code> to a higher <code>Level</code> if you wish to hide all the logs.</p>\n"},{"tags":[],"owner":{"account_id":3204831,"reputation":2141,"user_id":2706051,"accept_rate":100,"display_name":"Christophe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1453372350,"creation_date":1453372350,"answer_id":34921243,"question_id":30137564,"body_markdown":"For thoses who still face the problem with the logging, you have to set the log level of **org.mongodb.driver** to something higher like WARN or ERROR. The class com.mongodb is not used anymore even if it is still written in the logs.\r\n\r\nSee the last answer of this post: https://stackoverflow.com/questions/9545341/configure-logging-for-the-mongodb-java-driver","title":"How to disable mongoDB java driver logging?","body":"<p>For thoses who still face the problem with the logging, you have to set the log level of <strong>org.mongodb.driver</strong> to something higher like WARN or ERROR. The class com.mongodb is not used anymore even if it is still written in the logs.</p>\n\n<p>See the last answer of this post: <a href=\"https://stackoverflow.com/questions/9545341/configure-logging-for-the-mongodb-java-driver\">Configure logging for the MongoDB Java driver</a></p>\n"},{"tags":[],"owner":{"account_id":5488937,"reputation":331,"user_id":4362896,"display_name":"chneau"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1520263850,"creation_date":1480497128,"answer_id":40884256,"question_id":30137564,"body_markdown":"To make this portion of code working you need to have **Logback**. \r\n(If maven project)\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.9.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThen if you only want to disable Mongo driver logging, you should do something like this: \r\n\r\n\tLoggerContext loggerContext = (LoggerContext) LoggerFactory.getILoggerFactory();\r\n\tLogger rootLogger = loggerContext.getLogger(&quot;org.mongodb.driver&quot;);\r\n\trootLogger.setLevel(Level.OFF);\r\n\r\nAgain to be clear, here is the list of import for this code to work:\r\n\r\n    import ch.qos.logback.classic.Level;\r\n    import ch.qos.logback.classic.LoggerContext;\r\n    import org.slf4j.LoggerFactory;\r\n\r\n\r\nThis solution is for mongo java driver 3.0.0 and ^.\r\n\r\n\r\nEdit: Here is a one liner with level set to ERROR.\r\n\r\n    ((LoggerContext) LoggerFactory.getILoggerFactory()).getLogger(&quot;org.mongodb.driver&quot;).setLevel(Level.ERROR);","title":"How to disable mongoDB java driver logging?","body":"<p>To make this portion of code working you need to have <strong>Logback</strong>. \n(If maven project)</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n    &lt;version&gt;2.9.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n    &lt;version&gt;1.2.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Then if you only want to disable Mongo driver logging, you should do something like this: </p>\n\n<pre><code>LoggerContext loggerContext = (LoggerContext) LoggerFactory.getILoggerFactory();\nLogger rootLogger = loggerContext.getLogger(\"org.mongodb.driver\");\nrootLogger.setLevel(Level.OFF);\n</code></pre>\n\n<p>Again to be clear, here is the list of import for this code to work:</p>\n\n<pre><code>import ch.qos.logback.classic.Level;\nimport ch.qos.logback.classic.LoggerContext;\nimport org.slf4j.LoggerFactory;\n</code></pre>\n\n<p>This solution is for mongo java driver 3.0.0 and ^.</p>\n\n<p>Edit: Here is a one liner with level set to ERROR.</p>\n\n<pre><code>((LoggerContext) LoggerFactory.getILoggerFactory()).getLogger(\"org.mongodb.driver\").setLevel(Level.ERROR);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2338750,"reputation":2396,"user_id":2050511,"display_name":"Hemant Thorat"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1486363267,"creation_date":1486363267,"answer_id":42061750,"question_id":30137564,"body_markdown":"I&#39;ve solved it using ,\r\n\r\n    import java.util.logging.Logger;\r\n    import java.util.logging.Level;\r\n\r\n    Logger mongoLogger = Logger.getLogger( &quot;org.mongodb.driver&quot; );\r\n    mongoLogger.setLevel(Level.SEVERE); // e.g. or Log.WARNING, etc.","title":"How to disable mongoDB java driver logging?","body":"<p>I've solved it using ,</p>\n\n<pre><code>import java.util.logging.Logger;\nimport java.util.logging.Level;\n\nLogger mongoLogger = Logger.getLogger( \"org.mongodb.driver\" );\nmongoLogger.setLevel(Level.SEVERE); // e.g. or Log.WARNING, etc.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4029622,"reputation":767,"user_id":3346630,"display_name":"Mohammad Rafigh"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1500283300,"creation_date":1500283300,"answer_id":45140367,"question_id":30137564,"body_markdown":"in case you use xml resource to configure Logback you can easily do it by adding this:\r\n\r\n`&lt;logger name=&quot;org.mongodb.driver.cluster&quot; level=&quot;OFF&quot; /&gt;`\r\n\r\nto your configuration.","title":"How to disable mongoDB java driver logging?","body":"<p>in case you use xml resource to configure Logback you can easily do it by adding this:</p>\n\n<p><code>&lt;logger name=\"org.mongodb.driver.cluster\" level=\"OFF\" /&gt;</code></p>\n\n<p>to your configuration.</p>\n"},{"tags":[],"owner":{"account_id":84595,"reputation":1586,"user_id":236362,"accept_rate":78,"display_name":"Giorgio Vespucci"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1518615706,"creation_date":1518615706,"answer_id":48788646,"question_id":30137564,"body_markdown":"In my case, `MongoDB driver 3.5.0`, `SLF4j+Log4j12`, it&#39;s been sufficient adding:\r\n\r\n    log4j.logger.org.mongodb.driver=OFF\r\n\r\nin my Log4j `.properties` configuration file.","title":"How to disable mongoDB java driver logging?","body":"<p>In my case, <code>MongoDB driver 3.5.0</code>, <code>SLF4j+Log4j12</code>, it's been sufficient adding:</p>\n\n<pre><code>log4j.logger.org.mongodb.driver=OFF\n</code></pre>\n\n<p>in my Log4j <code>.properties</code> configuration file.</p>\n"},{"tags":[],"owner":{"account_id":5649602,"reputation":622,"user_id":4470692,"display_name":"derfect"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587461066,"creation_date":1587456271,"answer_id":61338698,"question_id":30137564,"body_markdown":"import your Mongo client through &quot;com.mongodb.**client**.MongoClient&quot;\r\n\r\n    import com.mongodb.client.MongoClient;\r\n    import com.mongodb.client.MongoClients;\r\n    \r\n    import java.util.function.Consumer;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    \r\n    public class Quick\r\n    {\r\n    \r\n        public static void main(String[] args)\r\n        {\r\n            Logger.getLogger(&quot;org.mongodb.driver&quot;).setLevel(Level.WARNING);\r\n            try (MongoClient mongo = MongoClients.create())\r\n            {\r\n                mongo.listDatabaseNames().forEach((Consumer&lt;String&gt;) System.out::println);\r\n            }\r\n        }\r\n    }\r\n\r\nmake sure you have the latest version of the driver, **3.12.2** at the time I wrote this answer\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\r\n            &lt;version&gt;3.12.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n----------\r\n\r\nif the above doesn&#39;t work, you&#39;re probably using a different logging module, look up how to turn that off, for example if you&#39;re using **slf4j**, create a file named &quot;**simpleLogger.properties**&quot; inside your resources folder and add this line to it\r\n\r\n    org.slf4j.simpleLogger.defaultLogLevel = warn","title":"How to disable mongoDB java driver logging?","body":"<p>import your Mongo client through \"com.mongodb.<strong>client</strong>.MongoClient\"</p>\n\n<pre><code>import com.mongodb.client.MongoClient;\nimport com.mongodb.client.MongoClients;\n\nimport java.util.function.Consumer;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\npublic class Quick\n{\n\n    public static void main(String[] args)\n    {\n        Logger.getLogger(\"org.mongodb.driver\").setLevel(Level.WARNING);\n        try (MongoClient mongo = MongoClients.create())\n        {\n            mongo.listDatabaseNames().forEach((Consumer&lt;String&gt;) System.out::println);\n        }\n    }\n}\n</code></pre>\n\n<p>make sure you have the latest version of the driver, <strong>3.12.2</strong> at the time I wrote this answer</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n        &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\n        &lt;version&gt;3.12.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<hr>\n\n<p>if the above doesn't work, you're probably using a different logging module, look up how to turn that off, for example if you're using <strong>slf4j</strong>, create a file named \"<strong>simpleLogger.properties</strong>\" inside your resources folder and add this line to it</p>\n\n<pre><code>org.slf4j.simpleLogger.defaultLogLevel = warn\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3837093,"reputation":3599,"user_id":3181159,"accept_rate":87,"display_name":"krishna Prasad"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1599105618,"creation_date":1599105618,"answer_id":63716625,"question_id":30137564,"body_markdown":"To disabled the **debug** logging into spring boot application of Mongo Driver, set the below configuration in the `logback-spring.xml` as below:\r\n\r\n    &lt;logger name=&quot;org.mongodb&quot; level=&quot;WARN&quot; /&gt;\r\n\r\nThis will disable the logging into console logger as well as other loggers defined in the configuration file `logback-spring.xml` ","title":"How to disable mongoDB java driver logging?","body":"<p>To disabled the <strong>debug</strong> logging into spring boot application of Mongo Driver, set the below configuration in the <code>logback-spring.xml</code> as below:</p>\n<pre><code>&lt;logger name=&quot;org.mongodb&quot; level=&quot;WARN&quot; /&gt;\n</code></pre>\n<p>This will disable the logging into console logger as well as other loggers defined in the configuration file <code>logback-spring.xml</code></p>\n"},{"tags":[],"owner":{"account_id":450548,"reputation":1417,"user_id":845935,"accept_rate":65,"display_name":"sagus_helgy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642527570,"creation_date":1642527570,"answer_id":70760045,"question_id":30137564,"body_markdown":"You can use logback.xml for that purpose.\r\nFor example, my file\r\n\r\n    &lt;configuration&gt;\r\n        &lt;logger name=&quot;org.mongodb.driver.cluster&quot; level=&quot;INFO&quot;/&gt;\r\n        &lt;logger name=&quot;org.mongodb.driver.protocol&quot; level=&quot;INFO&quot;/&gt;\r\n        &lt;logger name=&quot;org.mongodb.driver.connection&quot; level=&quot;INFO&quot;/&gt;\r\n        &lt;logger name=&quot;org.mongodb.driver.operation&quot; level=&quot;INFO&quot;/&gt;\r\n    &lt;/configuration&gt;\r\n\r\nPut it into the `resources` folder.","title":"How to disable mongoDB java driver logging?","body":"<p>You can use logback.xml for that purpose.\nFor example, my file</p>\n<pre><code>&lt;configuration&gt;\n    &lt;logger name=&quot;org.mongodb.driver.cluster&quot; level=&quot;INFO&quot;/&gt;\n    &lt;logger name=&quot;org.mongodb.driver.protocol&quot; level=&quot;INFO&quot;/&gt;\n    &lt;logger name=&quot;org.mongodb.driver.connection&quot; level=&quot;INFO&quot;/&gt;\n    &lt;logger name=&quot;org.mongodb.driver.operation&quot; level=&quot;INFO&quot;/&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Put it into the <code>resources</code> folder.</p>\n"},{"tags":[],"owner":{"account_id":14890298,"reputation":83,"user_id":12695804,"display_name":"Jo&#227;o Gon&#231;alves"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667477603,"creation_date":1667477603,"answer_id":74302893,"question_id":30137564,"body_markdown":"Using **slf4j** with **simplelogger.properties** file, I just added this line and it worked:\r\n\r\n    org.slf4j.simpleLogger.log.org.mongodb.driver=error\r\n\r\nGeneral log level stays in another line:\r\n\r\n    org.slf4j.simpleLogger.defaultLogLevel=info","title":"How to disable mongoDB java driver logging?","body":"<p>Using <strong>slf4j</strong> with <strong>simplelogger.properties</strong> file, I just added this line and it worked:</p>\n<pre><code>org.slf4j.simpleLogger.log.org.mongodb.driver=error\n</code></pre>\n<p>General log level stays in another line:</p>\n<pre><code>org.slf4j.simpleLogger.defaultLogLevel=info\n</code></pre>\n"},{"tags":[],"owner":{"account_id":61892,"reputation":5204,"user_id":184201,"accept_rate":78,"display_name":"Ahmed Ashour"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673964079,"creation_date":1673964079,"answer_id":75147590,"question_id":30137564,"body_markdown":"With Spring Boot, in `application.yaml` (you can also set it to `OFF`):\r\n\r\n```yaml\r\nlogging:\r\n  level:\r\n    org:\r\n      mongodb:\r\n        driver: WARN\r\n```","title":"How to disable mongoDB java driver logging?","body":"<p>With Spring Boot, in <code>application.yaml</code> (you can also set it to <code>OFF</code>):</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>logging:\n  level:\n    org:\n      mongodb:\n        driver: WARN\n</code></pre>\n"}],"owner":{"account_id":2284823,"reputation":6877,"user_id":2009079,"accept_rate":69,"display_name":"itaied"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41766,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":33804134,"answer_count":13,"score":28,"last_activity_date":1673964108,"creation_date":1431158744,"question_id":30137564,"body_markdown":"I am trying to disable log outputs of `mongo-java-driver-3.0.0`.\r\n\r\nI have tried to set those in the beginning of my application, before loading the `mongo` drivers, but it didn&#39;t help.\r\n\r\n```java\r\n// Enable MongoDB logging in general\r\nSystem.setProperty(&quot;DEBUG.MONGO&quot;, &quot;false&quot;);\r\n\r\n// Enable DB operation tracing\r\nSystem.setProperty(&quot;DB.TRACE&quot;, &quot;false&quot;);  \r\n```\r\nI am getting this kind of logs:\r\n\r\n    11:01:15.406 [pool-1-thread-1] DEBUG org.mongodb.driver.protocol.query - Sending query of namespace susudev.Players on connection [connectionId{localValue:2, serverValue:28}] to server localhost:27017\r\n    11:01:15.406 [pool-1-thread-1] DEBUG org.mongodb.driver.protocol.query - Query completed\r\n\r\n    11:01:25.174 [cluster-ClusterId{value=&#39;554dbecb1b554f11e86c3a69&#39;, description=&#39;null&#39;}-localhost:27017] DEBUG org.mongodb.driver.cluster - Checking status of localhost:27017\r\n    11:01:25.177 [cluster-ClusterId{value=&#39;554dbecb1b554f11e86c3a69&#39;, description=&#39;null&#39;}-localhost:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=STANDALONE, servers=[{address=localhost:27017, type=STANDALONE, roundTripTime=0.6 ms, state=CONNECTED}]\r\n\r\n\r\nSo my console is completely packed with mongo logs and I cant read anything.","title":"How to disable mongoDB java driver logging?","body":"<p>I am trying to disable log outputs of <code>mongo-java-driver-3.0.0</code>.</p>\n<p>I have tried to set those in the beginning of my application, before loading the <code>mongo</code> drivers, but it didn't help.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Enable MongoDB logging in general\nSystem.setProperty(&quot;DEBUG.MONGO&quot;, &quot;false&quot;);\n\n// Enable DB operation tracing\nSystem.setProperty(&quot;DB.TRACE&quot;, &quot;false&quot;);  \n</code></pre>\n<p>I am getting this kind of logs:</p>\n<pre><code>11:01:15.406 [pool-1-thread-1] DEBUG org.mongodb.driver.protocol.query - Sending query of namespace susudev.Players on connection [connectionId{localValue:2, serverValue:28}] to server localhost:27017\n11:01:15.406 [pool-1-thread-1] DEBUG org.mongodb.driver.protocol.query - Query completed\n\n11:01:25.174 [cluster-ClusterId{value='554dbecb1b554f11e86c3a69', description='null'}-localhost:27017] DEBUG org.mongodb.driver.cluster - Checking status of localhost:27017\n11:01:25.177 [cluster-ClusterId{value='554dbecb1b554f11e86c3a69', description='null'}-localhost:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=STANDALONE, servers=[{address=localhost:27017, type=STANDALONE, roundTripTime=0.6 ms, state=CONNECTED}]\n</code></pre>\n<p>So my console is completely packed with mongo logs and I cant read anything.</p>\n"},{"tags":["java","exception","apache-kafka","deserialization"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1664310764,"post_id":73873485,"comment_id":130441532,"body_markdown":"You can configure a deserializer that can handle both. It&#39;s a really common issue with no single answer though, it depends on your use case.","body":"You can configure a deserializer that can handle both. It&#39;s a really common issue with no single answer though, it depends on your use case."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1664342817,"post_id":73873485,"comment_id":130446583,"body_markdown":"Sorry, no, we cannot reproduce that without the rest of your Spring configuration.  Refer [mcve], and please add logs as text, not images. You may want to double check the Spring Kafka documentation on handling JSON events and &quot;trusted packages&quot;.","body":"Sorry, no, we cannot reproduce that without the rest of your Spring configuration.  Refer <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, and please add logs as text, not images. You may want to double check the Spring Kafka documentation on handling JSON events and &quot;trusted packages&quot;."},{"owner":{"account_id":7053142,"reputation":1,"user_id":5401540,"display_name":"Sweet  Pipe"},"score":0,"creation_date":1673962669,"post_id":73873485,"comment_id":132609653,"body_markdown":"After some research I found cause of issue and as summary I can share this [link](https://www.reddit.com/r/apachekafka/comments/10dd0qg/how_to_handle_a_poison_pill_on_consumer_side/)","body":"After some research I found cause of issue and as summary I can share this <a href=\"https://www.reddit.com/r/apachekafka/comments/10dd0qg/how_to_handle_a_poison_pill_on_consumer_side/\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1673964052,"post_id":73873485,"comment_id":132610184,"body_markdown":"I would like to encourage you, @ValeriyFokin, to write a full answer on your own question and also accept it so other readers see that you solved the problem. :)","body":"I would like to encourage you, @ValeriyFokin, to write a full answer on your own question and also accept it so other readers see that you solved the problem. :)"}],"owner":{"account_id":7053142,"reputation":1,"user_id":5401540,"display_name":"Sweet  Pipe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673964072,"creation_date":1664310547,"question_id":73873485,"body_markdown":"I have a problem with my kafka consumer, when consumer start reading from topic, message deserialization fails and block my consumer. Looks like it can&#39;t deserialize massage that has been changed. You can reproduce the problem, just produce message change it structure and produce it again on the same consumer. How I can handle this case and avoid a blocking of consumer?\r\n\r\nError message: \r\n[enter image description here][1]\r\n\r\n```\r\n// initial message \r\nclass Message {\r\n    String name;\r\n}\r\n\r\n// Message after change \r\nclass Message {\r\n    List&lt;String&gt; names;\r\n}\r\n\r\n// When Exception throws, this code does not execute\r\n@KafkaHandler\r\npublic void listenOnMessage(Message message) {\r\n    log.info(&quot;message: {}&quot;, message);\r\n\r\n    // ...\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MCdRn.png\r\n\r\nUpdate:\r\nbasically problem was in producer, it from some point in time started publish different messages structure, solution is simple, all I need to add is ErrorHandling on consumer side, retry logic and recovery. Basically discussion on reddit and repos with similar issue and solution you can find here https://www.reddit.com/r/apachekafka/comments/10dd0qg/how_to_handle_a_poison_pill_on_consumer_side/","title":"DeserializationException on consuming message from Kafka topic","body":"<p>I have a problem with my kafka consumer, when consumer start reading from topic, message deserialization fails and block my consumer. Looks like it can't deserialize massage that has been changed. You can reproduce the problem, just produce message change it structure and produce it again on the same consumer. How I can handle this case and avoid a blocking of consumer?</p>\n<p>Error message:\n<a href=\"https://i.stack.imgur.com/MCdRn.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>// initial message \nclass Message {\n    String name;\n}\n\n// Message after change \nclass Message {\n    List&lt;String&gt; names;\n}\n\n// When Exception throws, this code does not execute\n@KafkaHandler\npublic void listenOnMessage(Message message) {\n    log.info(&quot;message: {}&quot;, message);\n\n    // ...\n}\n</code></pre>\n<p>Update:\nbasically problem was in producer, it from some point in time started publish different messages structure, solution is simple, all I need to add is ErrorHandling on consumer side, retry logic and recovery. Basically discussion on reddit and repos with similar issue and solution you can find here <a href=\"https://www.reddit.com/r/apachekafka/comments/10dd0qg/how_to_handle_a_poison_pill_on_consumer_side/\" rel=\"nofollow noreferrer\">https://www.reddit.com/r/apachekafka/comments/10dd0qg/how_to_handle_a_poison_pill_on_consumer_side/</a></p>\n"},{"tags":["java","mysql","hibernate","spring-data-jpa","database-deadlocks"],"owner":{"account_id":26760409,"reputation":1,"user_id":20358473,"display_name":"Raghav91"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673963719,"creation_date":1673455397,"question_id":75086372,"body_markdown":"I have a mysql table referencing other tables. While performing spring dao to save operation in a transactional block on this table object, I am getting following exception:\r\n\r\n2021-10-09 10:16:27,921 DEBUG [http-nio-8080-exec-446] [my.controller.error.RestResponseEntityExceptionHandler - Exception occurred: \r\norg.springframework.dao.CannotAcquireLockException: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.LockAcquisitionException: could not execute statement\torg.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:246)\torg.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:221)\r\n... 9 lines omitted ...\r\n\r\nNote that this started occurring heavily since a week and before that only some intermittent occurrences. Any leads what might be an issue here and how to resolve?\r\n\r\nMy hibernate cfg configuration is below:\r\n\r\n```\r\n    &lt;bean id=&quot;dataSource&quot;\r\n          class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt;\r\n        &lt;property name=&quot;driverClass&quot; value=&quot;${jdbc.driverClassName}&quot;/&gt;\r\n        &lt;property name=&quot;jdbcUrl&quot; value=&quot;${jdbc.databaseurl}&quot;/&gt;\r\n        &lt;property name=&quot;user&quot; value=&quot;${jdbc.username}&quot;/&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;${jdbc.password}&quot;/&gt;\r\n        &lt;property name=&quot;acquireIncrement&quot; value=&quot;1&quot;/&gt;\r\n        &lt;property name=&quot;minPoolSize&quot; value=&quot;10&quot;/&gt;\r\n        &lt;property name=&quot;maxPoolSize&quot; value=&quot;50&quot;/&gt;\r\n        &lt;property name=&quot;maxIdleTime&quot; value=&quot;1000&quot;/&gt;\r\n    &lt;/bean&gt;\r\n```\r\n\r\nNot sure if it should be fixed at Code level or Database level.","title":"org.springframework.dao.CannotAcquireLockException occurring while doing spring dao save in MYSQL DB","body":"<p>I have a mysql table referencing other tables. While performing spring dao to save operation in a transactional block on this table object, I am getting following exception:</p>\n<p>2021-10-09 10:16:27,921 DEBUG [http-nio-8080-exec-446] [my.controller.error.RestResponseEntityExceptionHandler - Exception occurred:\norg.springframework.dao.CannotAcquireLockException: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.LockAcquisitionException: could not execute statement   org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:246)    org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:221)\n... 9 lines omitted ...</p>\n<p>Note that this started occurring heavily since a week and before that only some intermittent occurrences. Any leads what might be an issue here and how to resolve?</p>\n<p>My hibernate cfg configuration is below:</p>\n<pre><code>    &lt;bean id=&quot;dataSource&quot;\n          class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt;\n        &lt;property name=&quot;driverClass&quot; value=&quot;${jdbc.driverClassName}&quot;/&gt;\n        &lt;property name=&quot;jdbcUrl&quot; value=&quot;${jdbc.databaseurl}&quot;/&gt;\n        &lt;property name=&quot;user&quot; value=&quot;${jdbc.username}&quot;/&gt;\n        &lt;property name=&quot;password&quot; value=&quot;${jdbc.password}&quot;/&gt;\n        &lt;property name=&quot;acquireIncrement&quot; value=&quot;1&quot;/&gt;\n        &lt;property name=&quot;minPoolSize&quot; value=&quot;10&quot;/&gt;\n        &lt;property name=&quot;maxPoolSize&quot; value=&quot;50&quot;/&gt;\n        &lt;property name=&quot;maxIdleTime&quot; value=&quot;1000&quot;/&gt;\n    &lt;/bean&gt;\n</code></pre>\n<p>Not sure if it should be fixed at Code level or Database level.</p>\n"},{"tags":["java","postgresql","spring-boot","junit","h2"],"comments":[{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1610731401,"post_id":65740366,"comment_id":116233703,"body_markdown":"looks like in memory `h2 database doesn&#39;t support that functionality","body":"looks like in memory `h2 database doesn&#39;t support that functionality"},{"owner":{"account_id":5494731,"reputation":1115,"user_id":4366271,"display_name":"Sagar"},"score":0,"creation_date":1610731572,"post_id":65740366,"comment_id":116233762,"body_markdown":"Any alternative???","body":"Any alternative???"},{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1610731675,"post_id":65740366,"comment_id":116233808,"body_markdown":"try docker containers those are the best for integration test cases","body":"try docker containers those are the best for integration test cases"},{"owner":{"account_id":3231647,"reputation":943,"user_id":2726766,"display_name":"Ganesh"},"score":0,"creation_date":1673861648,"post_id":65740366,"comment_id":132583877,"body_markdown":"Anybody any luck on this ? Facing the same issue","body":"Anybody any luck on this ? Facing the same issue"}],"answers":[{"tags":[],"owner":{"account_id":3231647,"reputation":943,"user_id":2726766,"display_name":"Ganesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673879496,"creation_date":1673879496,"answer_id":75135701,"question_id":65740366,"body_markdown":"I got a work around, its not solution but worked for me. \r\n\r\n 1. Created a Duplicate Repository Class in src/test package same as src without `for update skip locked` query. \r\n\r\n    `@Transactional(propagation = Propagation.MANDATORY)`\r\n    \r\n    `@Query(value = &quot;select * from employee where account_id = ?1 limit ?2 &quot;, nativeQuery = true)`\r\n      \r\n     `public List&lt;Employee&gt; getEmployeesByAccountId(String accountId, Integer limit);`\r\n\r\n 2. So that whenever the Test case will execute it will execute the query from repository created in the test package.\r\n 3. It Served the purpose for me to test the single unit while processing.\r\n 4. Drawback is Junit test can not test the functionality of reading the same row at same time.","title":"How to ignore skip locking for update for custom queries for in-memory database against junit test cases","body":"<p>I got a work around, its not solution but worked for me.</p>\n<ol>\n<li><p>Created a Duplicate Repository Class in src/test package same as src without <code>for update skip locked</code> query.</p>\n<p><code>@Transactional(propagation = Propagation.MANDATORY)</code></p>\n<p><code>@Query(value = &quot;select * from employee where account_id = ?1 limit ?2 &quot;, nativeQuery = true)</code></p>\n<p><code>public List&lt;Employee&gt; getEmployeesByAccountId(String accountId, Integer limit);</code></p>\n</li>\n<li><p>So that whenever the Test case will execute it will execute the query from repository created in the test package.</p>\n</li>\n<li><p>It Served the purpose for me to test the single unit while processing.</p>\n</li>\n<li><p>Drawback is Junit test can not test the functionality of reading the same row at same time.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":5494731,"reputation":1115,"user_id":4366271,"display_name":"Sagar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673963586,"creation_date":1610730141,"question_id":65740366,"body_markdown":"I am writing junit test cases for which I have configured in memory h2 database. The functionality I am testing actually picks some records from database and do some processing over the records. When code pick records, it locks those records for update, so that no other process can access those records. This thing works fine but this is causing issue for test cases as I am using in memory db for test cases. How do I resolve this issue. \r\n \r\n\t  @Transactional(propagation = Propagation.MANDATORY)\r\n\t  @Query(value = &quot;select * from employee where account_id = ?1 limit ?2 for update skip locked&quot;, nativeQuery = true)\r\n\t  public List&lt;Employee&gt; getEmployeesByAccountId(String accountId, Integer limit);\r\n\r\n\r\nPlease see above code, this is causing issue for test cases.. \r\n\r\nError: \r\n\r\n        Caused by:\r\n        org.hibernate.exception.SQLGrammarException: could not prepare statement\r\n            at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:63)\r\n            at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\r\n            at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n            at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:186)\r\n            at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:151)\r\n            at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:2104)\r\n            at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2034)\r\n            at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2012)\r\n            at org.hibernate.loader.Loader.doQuery(Loader.java:953)\r\n            at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:354)\r\n            at org.hibernate.loader.Loader.doList(Loader.java:2815)\r\n            at org.hibernate.loader.Loader.doList(Loader.java:2797)\r\n            at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2629)\r\n            at org.hibernate.loader.Loader.list(Loader.java:2624)\r\n            at org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:338)\r\n            at org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2123)\r\n            at org.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1134)\r\n            at org.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:173)\r\n            at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1526)\r\n            at org.hibernate.query.Query.getResultList(Query.java:165)\r\n            at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:126)\r\n            at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88)\r\n            at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:154)\r\n            at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:142)\r\n            at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:618)\r\n            at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:605)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n            at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n            at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:366)\r\n            at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n            at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\r\n            ... 19 more\r\n\r\n            Caused by:\r\n            org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement &quot;SELECT * FROM EMPLOYEE WHERE ACCOUNT_ID = ? LIMIT ? FOR UPDATE SKIP[*] LOCKED&quot;; SQL statement:\r\n            select * from employee where account_id = ? limit ? for update skip locked [42000-200]\r\n                at org.h2.message.DbException.getJdbcSQLException(DbException.java:453)\r\n                at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)\r\n                at org.h2.message.DbException.get(DbException.java:205)\r\n                at org.h2.message.DbException.get(DbException.java:181)\r\n                at org.h2.message.DbException.getSyntaxError(DbException.java:229)\r\n                at org.h2.command.Parser.getSyntaxError(Parser.java:1051)\r\n                at org.h2.command.Parser.prepareCommand(Parser.java:741)\r\n                at org.h2.engine.Session.prepareLocal(Session.java:657)\r\n                at org.h2.engine.Session.prepareCommand(Session.java:595)\r\n                at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1235)\r\n                at org.h2.jdbc.JdbcPreparedStatement.&lt;init&gt;(JdbcPreparedStatement.java:76)\r\n                at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:352)\r\n                at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:316)\r\n                at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)\r\n                at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:149)\r\n                at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:176)\r\n \r\nThanks","title":"How to ignore skip locking for update for custom queries for in-memory database against junit test cases","body":"<p>I am writing junit test cases for which I have configured in memory h2 database. The functionality I am testing actually picks some records from database and do some processing over the records. When code pick records, it locks those records for update, so that no other process can access those records. This thing works fine but this is causing issue for test cases as I am using in memory db for test cases. How do I resolve this issue.</p>\n<pre><code>  @Transactional(propagation = Propagation.MANDATORY)\n  @Query(value = &quot;select * from employee where account_id = ?1 limit ?2 for update skip locked&quot;, nativeQuery = true)\n  public List&lt;Employee&gt; getEmployeesByAccountId(String accountId, Integer limit);\n</code></pre>\n<p>Please see above code, this is causing issue for test cases..</p>\n<p>Error:</p>\n<pre><code>    Caused by:\n    org.hibernate.exception.SQLGrammarException: could not prepare statement\n        at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:63)\n        at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:186)\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:151)\n        at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:2104)\n        at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2034)\n        at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2012)\n        at org.hibernate.loader.Loader.doQuery(Loader.java:953)\n        at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:354)\n        at org.hibernate.loader.Loader.doList(Loader.java:2815)\n        at org.hibernate.loader.Loader.doList(Loader.java:2797)\n        at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2629)\n        at org.hibernate.loader.Loader.list(Loader.java:2624)\n        at org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:338)\n        at org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2123)\n        at org.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1134)\n        at org.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:173)\n        at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1526)\n        at org.hibernate.query.Query.getResultList(Query.java:165)\n        at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:126)\n        at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88)\n        at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:154)\n        at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:142)\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:618)\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:605)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:366)\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n        ... 19 more\n\n        Caused by:\n        org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement &quot;SELECT * FROM EMPLOYEE WHERE ACCOUNT_ID = ? LIMIT ? FOR UPDATE SKIP[*] LOCKED&quot;; SQL statement:\n        select * from employee where account_id = ? limit ? for update skip locked [42000-200]\n            at org.h2.message.DbException.getJdbcSQLException(DbException.java:453)\n            at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)\n            at org.h2.message.DbException.get(DbException.java:205)\n            at org.h2.message.DbException.get(DbException.java:181)\n            at org.h2.message.DbException.getSyntaxError(DbException.java:229)\n            at org.h2.command.Parser.getSyntaxError(Parser.java:1051)\n            at org.h2.command.Parser.prepareCommand(Parser.java:741)\n            at org.h2.engine.Session.prepareLocal(Session.java:657)\n            at org.h2.engine.Session.prepareCommand(Session.java:595)\n            at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1235)\n            at org.h2.jdbc.JdbcPreparedStatement.&lt;init&gt;(JdbcPreparedStatement.java:76)\n            at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:352)\n            at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:316)\n            at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)\n            at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:149)\n            at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:176)\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","arrays","boolean"],"comments":[{"owner":{"account_id":7916222,"reputation":303,"user_id":5978561,"display_name":"Jake Henry"},"score":1,"creation_date":1673898130,"post_id":75138907,"comment_id":132595537,"body_markdown":"You need to use double equal signs when testing a boolean variable. Using only 1 equal sign will actually set the variable to false as you are doing in your code here. Therefore your if statement will never be true and thus you get no output.","body":"You need to use double equal signs when testing a boolean variable. Using only 1 equal sign will actually set the variable to false as you are doing in your code here. Therefore your if statement will never be true and thus you get no output."},{"owner":{"account_id":27546229,"reputation":1,"user_id":21022138,"display_name":"M_DS"},"score":0,"creation_date":1673898497,"post_id":75138907,"comment_id":132595642,"body_markdown":"Could you expand on that? I not sure when to put double = and when I do, it creates an error.","body":"Could you expand on that? I not sure when to put double = and when I do, it creates an error."},{"owner":{"account_id":7916222,"reputation":303,"user_id":5978561,"display_name":"Jake Henry"},"score":0,"creation_date":1673898757,"post_id":75138907,"comment_id":132595701,"body_markdown":"Any time you need to use an &#39;if(condition)&#39; block, you need to use the ==. The double equals is the comparison operator. The single equals sign is the assignment operator. In your code you posted above, if(Mail[print] = false)  is actually setting Mail[print] to false. You&#39;re assigning it not comparing it.","body":"Any time you need to use an &#39;if(condition)&#39; block, you need to use the ==. The double equals is the comparison operator. The single equals sign is the assignment operator. In your code you posted above, if(Mail[print] = false)  is actually setting Mail[print] to false. You&#39;re assigning it not comparing it."},{"owner":{"account_id":27546229,"reputation":1,"user_id":21022138,"display_name":"M_DS"},"score":0,"creation_date":1673899624,"post_id":75138907,"comment_id":132595901,"body_markdown":"Ok, I changed that and received no errors, but I still don&#39;t have an output. I&#39;ll have to ask my teacher. :P","body":"Ok, I changed that and received no errors, but I still don&#39;t have an output. I&#39;ll have to ask my teacher. :P"},{"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"score":0,"creation_date":1673908741,"post_id":75138907,"comment_id":132598193,"body_markdown":"`count = count++` never changes count, just write `count++`. Add outputs in your loops to see what really happens, or use a debugger","body":"<code>count = count++</code> never changes count, just write <code>count++</code>. Add outputs in your loops to see what really happens, or use a debugger"}],"answers":[{"tags":[],"owner":{"account_id":11227882,"reputation":61,"user_id":8236993,"display_name":"Joxtacy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673899464,"creation_date":1673899464,"answer_id":75139169,"question_id":75138907,"body_markdown":"It seems like there are several inconsistencies with your code and parts that can be improved.\r\n\r\nFor instance, when you initialize a boolean array all values are `false` by default so no need to fill the array.\r\n\r\nI also think there are some issues with your for loops that will lead to `IndexOutOfBoundException`s. Since you start your indexing on 0 and end with `count &lt;= Mail.length` which will end on index `100` which does not exist. Last index will be `99`.\r\n\r\nIt is also true about what @Jake Henry said about the comparisons, you need the `==` to do comparisons.\r\n\r\nA neat trick when flipping booleans is to negate the current value and then assign that. Example:\r\n```java\r\nMail[count] = !Mail[count];\r\n```\r\n\r\nI think that you also need to take a look at the logic since it seems like you aren&#39;t following the instructions fully. \r\n\r\nSeeing as this is an assignment, I don&#39;t want to give away too much, but a hint here could be to have a for loop that ticks up the amount of steps you need to take in your inner for loop.\r\n\r\nI hope this helps.\r\n","title":"Stuck on Boolean Array Java Assignment","body":"<p>It seems like there are several inconsistencies with your code and parts that can be improved.</p>\n<p>For instance, when you initialize a boolean array all values are <code>false</code> by default so no need to fill the array.</p>\n<p>I also think there are some issues with your for loops that will lead to <code>IndexOutOfBoundException</code>s. Since you start your indexing on 0 and end with <code>count &lt;= Mail.length</code> which will end on index <code>100</code> which does not exist. Last index will be <code>99</code>.</p>\n<p>It is also true about what @Jake Henry said about the comparisons, you need the <code>==</code> to do comparisons.</p>\n<p>A neat trick when flipping booleans is to negate the current value and then assign that. Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mail[count] = !Mail[count];\n</code></pre>\n<p>I think that you also need to take a look at the logic since it seems like you aren't following the instructions fully.</p>\n<p>Seeing as this is an assignment, I don't want to give away too much, but a hint here could be to have a for loop that ticks up the amount of steps you need to take in your inner for loop.</p>\n<p>I hope this helps.</p>\n"}],"owner":{"account_id":27546229,"reputation":1,"user_id":21022138,"display_name":"M_DS"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673963452,"creation_date":1673897585,"question_id":75138907,"body_markdown":"**I have a Java Assignment I&#39;m really struggling on. This is the notes my instructor gave me:** \r\n\r\nWrite a program that mimics a mailman conducting an experiment in `&quot;flipping mailboxes&quot;`. A flip means opening a mailbox if it is closed, and closing a mailbox if it is open. There are 100 mailboxes numbered 1 to 100 that are all initially closed.\r\n\r\nIn the first step, visiting every mailbox (i.e. mailboxes 1, 2, 3, 4, etc. until he gets to 100), he flips them all.\r\nIn the second step, visiting every second mailbox (i.e. mailboxes 2, 4, 6, 8, etc. until he gets to 100), he flips them.\r\nIn the third step, visiting every third mailbox (i.e. mailboxes 3, 6, 9, 12, etc. until he gets to 99), he flips them.\r\nHe continues in this manner with steps 4, 5, 6, etc. until he finally reaches 100, wherein he directly goes to the 100th mailbox and flips it.\r\nAt the end of this process, which mailboxes are open?\r\nCreate a Java Program that will mimic the said experiment. Once you are done, you are to enumerate all the opened mailboxes.\r\n\r\nHint: Set up an array of booleans all initialized to false, representing closed mailboxes. Then, in steps of 1, 2, 3, ... to 100, go through the sequence of mailboxes and toggle them. In the end, print out the mailbox numbers that are open (have the value true).\r\n\r\n```\r\nimport java.util.Arrays;\r\n\r\n\t\r\n\tpublic class MailManProblem{\r\n\tpublic static void main(String[] args) {\r\n\t\r\nboolean[] Mail = new boolean [100];\r\nArrays.fill(Mail, false);\r\n\r\nfor(int M = 0; M &lt; Mail.length; M++)\r\n{\r\n\r\nMail[M]= false ;\r\n}\r\nfor(int count = 0; count &lt;= Mail.length; count = count++) \r\n{\r\nMail[count] = true;\r\n}\r\nfor(int count2 = 2; count2&lt;=100; count2++) {\r\n\t\r\n\tfor(int count3 = 2; count3 &lt;= 100; count3 = count3 + 3) {\r\n\t\t\r\n\t\tif(Mail[count3] = false) {\r\n\t\tMail[count3] = true;} \r\n\t\telse{ Mail[count3] = false;} \r\n\t}\r\n}\t\t\r\nfor(int print =0; Mail.length&gt;=print; print++)\r\n    if(Mail[print] = false)\r\n    {\r\n        System.out.println(&quot;Mailbox&quot; + print++ + &quot;is closed&quot; );\r\n    }\t\r\n\r\n\t}\r\n\t\t}\r\n```\r\n\r\nThis is my work, unfortunately, I can&#39;t get it to run, it has no errors though, just no output.","title":"Stuck on Boolean Array Java Assignment","body":"<p><strong>I have a Java Assignment I'm really struggling on. This is the notes my instructor gave me:</strong></p>\n<p>Write a program that mimics a mailman conducting an experiment in <code>&quot;flipping mailboxes&quot;</code>. A flip means opening a mailbox if it is closed, and closing a mailbox if it is open. There are 100 mailboxes numbered 1 to 100 that are all initially closed.</p>\n<p>In the first step, visiting every mailbox (i.e. mailboxes 1, 2, 3, 4, etc. until he gets to 100), he flips them all.\nIn the second step, visiting every second mailbox (i.e. mailboxes 2, 4, 6, 8, etc. until he gets to 100), he flips them.\nIn the third step, visiting every third mailbox (i.e. mailboxes 3, 6, 9, 12, etc. until he gets to 99), he flips them.\nHe continues in this manner with steps 4, 5, 6, etc. until he finally reaches 100, wherein he directly goes to the 100th mailbox and flips it.\nAt the end of this process, which mailboxes are open?\nCreate a Java Program that will mimic the said experiment. Once you are done, you are to enumerate all the opened mailboxes.</p>\n<p>Hint: Set up an array of booleans all initialized to false, representing closed mailboxes. Then, in steps of 1, 2, 3, ... to 100, go through the sequence of mailboxes and toggle them. In the end, print out the mailbox numbers that are open (have the value true).</p>\n<pre><code>import java.util.Arrays;\n\n    \n    public class MailManProblem{\n    public static void main(String[] args) {\n    \nboolean[] Mail = new boolean [100];\nArrays.fill(Mail, false);\n\nfor(int M = 0; M &lt; Mail.length; M++)\n{\n\nMail[M]= false ;\n}\nfor(int count = 0; count &lt;= Mail.length; count = count++) \n{\nMail[count] = true;\n}\nfor(int count2 = 2; count2&lt;=100; count2++) {\n    \n    for(int count3 = 2; count3 &lt;= 100; count3 = count3 + 3) {\n        \n        if(Mail[count3] = false) {\n        Mail[count3] = true;} \n        else{ Mail[count3] = false;} \n    }\n}       \nfor(int print =0; Mail.length&gt;=print; print++)\n    if(Mail[print] = false)\n    {\n        System.out.println(&quot;Mailbox&quot; + print++ + &quot;is closed&quot; );\n    }   \n\n    }\n        }\n</code></pre>\n<p>This is my work, unfortunately, I can't get it to run, it has no errors though, just no output.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":10591704,"reputation":506,"user_id":7802046,"display_name":"Kamil Piwowarski"},"score":1,"creation_date":1673953136,"post_id":75145111,"comment_id":132606556,"body_markdown":"could you plese share some relevant code fragments? (configuration, relevant method fragments)","body":"could you plese share some relevant code fragments? (configuration, relevant method fragments)"}],"owner":{"account_id":23011489,"reputation":1,"user_id":17133977,"display_name":"Shijo Chacko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673963353,"creation_date":1673951501,"question_id":75145111,"body_markdown":"I am trying to execute a method and trying to fetch data from postgres and displaying data in to report using an API but found that for the same input found that we are getting response in local environment but failing in server due to error. The configuration is same in both local and server.\r\n\r\nPlease find the error details and please let me know any one can help on this.\r\n\r\n```\r\norg.apache.catalina.connector.ClientAbortException: java.io.IOException: Broken pipe\r\n\tat org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:310)\r\n\tat org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:273)\r\n\tat org.apache.catalina.connector.CoyoteOutputStream.flush(CoyoteOutputStream.java:118)\r\n\tat java.base/java.io.FilterOutputStream.flush(FilterOutputStream.java:153)\r\n\tat com.fasterxml.jackson.core.json.UTF8JsonGenerator.flush(UTF8JsonGenerator.java:1187)\r\n\tat com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1009)\r\n\tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:456)\r\n\tat org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:104)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:290)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:219)\r\n\tat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:135)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:670)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat datadog.trace.instrumentation.springweb.HandlerMappingResourceNameFilter.doFilterInternal(HandlerMappingResourceNameFilter.java:50)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:56)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n```","title":"Broken pipe in while method execution on server but working fine in local environment","body":"<p>I am trying to execute a method and trying to fetch data from postgres and displaying data in to report using an API but found that for the same input found that we are getting response in local environment but failing in server due to error. The configuration is same in both local and server.</p>\n<p>Please find the error details and please let me know any one can help on this.</p>\n<pre><code>org.apache.catalina.connector.ClientAbortException: java.io.IOException: Broken pipe\n    at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:310)\n    at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:273)\n    at org.apache.catalina.connector.CoyoteOutputStream.flush(CoyoteOutputStream.java:118)\n    at java.base/java.io.FilterOutputStream.flush(FilterOutputStream.java:153)\n    at com.fasterxml.jackson.core.json.UTF8JsonGenerator.flush(UTF8JsonGenerator.java:1187)\n    at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1009)\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:456)\n    at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:104)\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:290)\n    at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:219)\n    at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:135)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:670)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at datadog.trace.instrumentation.springweb.HandlerMappingResourceNameFilter.doFilterInternal(HandlerMappingResourceNameFilter.java:50)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:56)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n</code></pre>\n"},{"tags":["java","database","jpa","casting","openjpa"],"comments":[{"owner":{"account_id":1421913,"reputation":11238,"user_id":1346369,"accept_rate":57,"display_name":"vels4j"},"score":1,"creation_date":1513608365,"post_id":47870134,"comment_id":82706839,"body_markdown":"the code for `find` method looks missing?","body":"the code for <code>find</code> method looks missing?"},{"owner":{"account_id":8850149,"reputation":17,"user_id":6609706,"display_name":"Rosa Fago"},"score":0,"creation_date":1513608552,"post_id":47870134,"comment_id":82706956,"body_markdown":"the find is the standard of the EntityManager, it was not implemented by me :(","body":"the find is the standard of the EntityManager, it was not implemented by me :("},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1513610733,"post_id":47870134,"comment_id":82708326,"body_markdown":"You are using a very old OpenJPA Version. Can you upgrade to a newer version? There is a bug reported for an old version but never fixed: https://issues.apache.org/jira/browse/OPENJPA-2448","body":"You are using a very old OpenJPA Version. Can you upgrade to a newer version? There is a bug reported for an old version but never fixed: <a href=\"https://issues.apache.org/jira/browse/OPENJPA-2448\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/OPENJPA-2448</a>"},{"owner":{"account_id":8850149,"reputation":17,"user_id":6609706,"display_name":"Rosa Fago"},"score":0,"creation_date":1513613585,"post_id":47870134,"comment_id":82709920,"body_markdown":"@SimonMartinelli Ok, I upgraded openjpa bringing the version to 2.4.2 but the problem continues to be there....","body":"@SimonMartinelli Ok, I upgraded openjpa bringing the version to 2.4.2 but the problem continues to be there...."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1513616154,"post_id":47870134,"comment_id":82711376,"body_markdown":"@RosaFago Can you please post the new stack trace?","body":"@RosaFago Can you please post the new stack trace?"},{"owner":{"account_id":8850149,"reputation":17,"user_id":6609706,"display_name":"Rosa Fago"},"score":0,"creation_date":1513618044,"post_id":47870134,"comment_id":82712358,"body_markdown":"I put it as answer because it&#39;s too long @SimonMartinelli","body":"I put it as answer because it&#39;s too long @SimonMartinelli"},{"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"score":0,"creation_date":1513632810,"post_id":47870134,"comment_id":82719021,"body_markdown":"@RosaFago your &#180;answer&#180; seems to be deleted since answers should be **answers**. Paste all stuff in your question. Using Oracle? Version?","body":"@RosaFago your &#180;answer&#180; seems to be deleted since answers should be <b>answers</b>. Paste all stuff in your question. Using Oracle? Version?"}],"answers":[{"tags":[],"owner":{"account_id":4751155,"reputation":4879,"user_id":3841161,"display_name":"coladict"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673963253,"creation_date":1513680057,"answer_id":47885122,"question_id":47870134,"body_markdown":"It seem that when you&#39;re calling the `EntityManager.find` interface, you&#39;re invoking it with the wrong type.\r\n\r\nSomewhere (I&#39;m guessing by the stack in `repository.impl.DueDiligenceGestoriRepositoryImpl.getDueDiligenceGestori`) you have something like this:\r\n\r\n    em.find(DueDiligenceGestori.class, 12);\r\n    // or\r\n    int id; // parameter\r\n    em.find(DueDiligenceGestori.class, id);\r\n\r\nYou need to convert that to `long` first. If it&#39;s a constant, then `12L`, if it&#39;s a primitive, then `(long) id`, if it&#39;s an Integer object, you need a null check, then call `id.longValue()`.","title":"Integer To Long error on find() methods JPA","body":"<p>It seem that when you're calling the <code>EntityManager.find</code> interface, you're invoking it with the wrong type.</p>\n<p>Somewhere (I'm guessing by the stack in <code>repository.impl.DueDiligenceGestoriRepositoryImpl.getDueDiligenceGestori</code>) you have something like this:</p>\n<pre><code>em.find(DueDiligenceGestori.class, 12);\n// or\nint id; // parameter\nem.find(DueDiligenceGestori.class, id);\n</code></pre>\n<p>You need to convert that to <code>long</code> first. If it's a constant, then <code>12L</code>, if it's a primitive, then <code>(long) id</code>, if it's an Integer object, you need a null check, then call <code>id.longValue()</code>.</p>\n"}],"owner":{"account_id":8850149,"reputation":17,"user_id":6609706,"display_name":"Rosa Fago"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":605,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":47885122,"answer_count":1,"score":0,"last_activity_date":1673963253,"creation_date":1513605874,"question_id":47870134,"body_markdown":"I have a problem with the *find()* method.\r\n\r\nI have a &#39;DueDiligenceGestori&#39; class that maps a database table. The primary key of the table is a *number(19)* and therefore I mapped the entity with a Long as previously done\r\n\r\nHere is the class\r\n\r\n            package com.xxx.model.duediligencegestori;\r\n    \r\n    import java.io.Serializable;\r\n    import java.util.Date;\r\n    \r\n    import javax.persistence.CascadeType;\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.FetchType;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.JoinColumn;\r\n    import javax.persistence.OneToOne;\r\n    import javax.persistence.SequenceGenerator;\r\n    import javax.persistence.Table;\r\n    \r\n    import com.xxx.model.AbstractVersionEntity;\r\n    import com.xxx.model.duediligence.DueDiligence;\r\n    import com.xxx.model.duediligence.DueDiligenceEnumType;\r\n    import com.xxx.model.masterData.Person;\r\n    \r\n    /**\r\n     * The persistent class for the DUEDILIGENCE_GESTORI database table.\r\n     * \r\n     */\r\n    @Entity\r\n    @Table(name = &quot;DUEDILIGENCE_GESTORI&quot;)\r\n    public class DueDiligenceGestori extends AbstractVersionEntity implements Serializable {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n    \tpublic DueDiligenceGestori() {\r\n    \t}\r\n    \r\n    \t@Id\r\n    \t@SequenceGenerator(name = &quot;DUEDILIGENCE_GEST_ID_SEQ_GENERATOR&quot;, sequenceName = &quot;DDG_SEQ&quot;, allocationSize = 1)\r\n    \t@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;DUEDILIGENCE_GEST_ID_SEQ_GENERATOR&quot;)\r\n    \t@Column(name = &quot;ID&quot;, unique = true, nullable = false)\r\n    \tprivate Long id;\r\n    \r\n    \t@JoinColumn(name = &quot;DUEDILIGENCE_ID&quot;, unique = true)\r\n    \t@OneToOne(cascade = CascadeType.ALL)\r\n    \tprivate DueDiligence dueDiligence;\r\n    \t\r\n    \t@Column(name = &quot;IDENTIFICATIVO_SCHEDA&quot;, unique = true, nullable = false, length = 4000)\r\n    \tprivate String identificativoScheda;\r\n    \r\n    \t@Column(length = 25)\r\n    \tprivate String attivita;\r\n    \r\n    \t@OneToOne(fetch = FetchType.LAZY)\r\n    \t@JoinColumn(name = &quot;CAPO_AREA&quot;)\r\n    \tprivate Person capoArea;\r\n    \r\n    \t@OneToOne(fetch = FetchType.LAZY)\r\n    \t@JoinColumn(name = &quot;FUEL_S3&quot;)\r\n    \tprivate Person fuelS3;\r\n    \t\r\n    \t\tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \t\tpublic DueDiligence getDueDiligence() {\r\n    \t\treturn dueDiligence;\r\n    \t}\r\n    \r\n    \tpublic void setDueDiligence(DueDiligence dueDiligence) {\r\n    \t\tthis.dueDiligence = dueDiligence;\r\n    \t}\r\n    \t\r\n    \t\tpublic String getAttivita() {\r\n    \t\treturn this.attivita;\r\n    \t}\r\n    \r\n    \tpublic void setAttivita(String attivita) {\r\n    \t\tthis.attivita = attivita;\r\n    \t}\r\n    \t\r\n    \t\tpublic Person getCapoArea() {\r\n    \t\treturn capoArea;\r\n    \t}\r\n    \r\n    \tpublic void setCapoArea(Person capoArea) {\r\n    \t\tthis.capoArea = capoArea;\r\n    \t}\r\n    \r\n    \tpublic Person getFuelS3() {\r\n    \t\treturn fuelS3;\r\n    \t}\r\n    \r\n    \tpublic void setFuelS3(Person fuelS3) {\r\n    \t\tthis.fuelS3 = fuelS3;\r\n    \t}\r\n    \t\r\n    \t\r\n    }\r\n\r\nHere is the error at execution\r\n\r\n    18/12/2017 14:38:59,857 [ERROR] [com.xxx.service.BaseRestService] [] [] Rest Service response FAIL Exception {}\r\n    \r\n    &lt;openjpa-1.1.1-SNAPSHOT-r422266:965591 nonfatal general error&gt; org.apache.openjpa.persistence.PersistenceException: java.lang.Integer cannot be cast to java.lang.Long\r\n    \r\n           at org.apache.openjpa.kernel.BrokerImpl.find(BrokerImpl.java:882)\r\n    \r\n           at org.apache.openjpa.kernel.BrokerImpl.find(BrokerImpl.java:776)\r\n    \r\n           at kodo.kernel.KodoBroker.find(KodoBroker.java:232)\r\n    \r\n           at org.apache.openjpa.kernel.DelegatingBroker.find(DelegatingBroker.java:183)\r\n    \r\n           at org.apache.openjpa.persistence.EntityManagerImpl.find(EntityManagerImpl.java:452)\r\n    \r\n           at com.xxx.business.repository.AbstractRepository.find(AbstractRepository.java:254)\r\n    \r\n           at com.xxx.business.repository.AbstractRepository.find(AbstractRepository.java:250)\r\n    \r\n           at com.xxx.business.repository.impl.DueDiligenceGestoriRepositoryImpl.getDueDiligenceGestori(DueDiligenceGestoriRepositoryImpl.java:83)\r\n    \r\n           at com.xxx.business.service.impl.DueDiligenceGestoriServiceImpl.getDueDiligenceGestori(DueDiligenceGestoriServiceImpl.java:74)\r\n    \r\n           at com.xxx.command.duediligencegestori.SaveDueDiligenceGestoriCmd.doExecute(SaveDueDiligenceGestoriCmd.java:83)\r\n    \r\n           at com.xxx.command.duediligencegestori.SaveDueDiligenceGestoriCmd.doExecute(SaveDueDiligenceGestoriCmd.java:28)\r\n    \r\n           at com.xxx.command.AbstractCommand.execute(AbstractCommand.java:88)\r\n    \r\n           at com.xxx.service.BaseRestService.executeCommand(BaseRestService.java:58)\r\n    \r\n           at com.xxx.service.DueDiligenceGestoriRestService.saveDueDiligenceGestoriDTO(DueDiligenceGestoriRestService.java:86)\r\n    \r\n           at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \r\n           at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n    \r\n           at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n    \r\n           at java.lang.reflect.Method.invoke(Method.java:597)\r\n    \r\n           at com.sun.jersey.spi.container.JavaMethodInvokerFactory$1.invoke(JavaMethodInvokerFactory.java:60)\r\n    \r\n           at com.sun.jersey.server.impl.model.method.dispatch.AbstractResourceMethodDispatchProvider$TypeOutInvoker._dispatch(AbstractResourceMethodDispatchProvider.java:185)\r\n    \r\n           at com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:75)\r\n    \r\n           at com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:302)\r\n    \r\n           at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)\r\n    \r\n           at com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:108)\r\n    \r\n           at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)\r\n    \r\n           at com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:84)\r\n    \r\n           at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1511)\r\n    \r\n           at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1442)\r\n    \r\n           at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1391)\r\n    \r\n           at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1381)\r\n    \r\n           at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:416)\r\n    \r\n           at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:538)\r\n    \r\n           at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:716)\r\n    \r\n           at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\r\n    \r\n           at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:227)\r\n    \r\n           at weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:125)\r\n    \r\n           at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:300)\r\n    \r\n           at weblogic.servlet.internal.TailFilter.doFilter(TailFilter.java:26)\r\n    \r\n           at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)\r\n    \r\n           at com.xxx.filter.EnvironmentsFilter.doHttpFilter(EnvironmentsFilter.java:133)\r\n    \r\n           at com.xxx.filter.AbstractFilter.doFilter(AbstractFilter.java:43)\r\n    \r\n           at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)\r\n    \r\n           at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.wrapRun(WebAppServletContext.java:3715)\r\n    \r\n           at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3681)\r\n    \r\n           at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)\r\n    \r\n           at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:120)\r\n    \r\n           at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2277)\r\n    \r\n           at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2183)\r\n    \r\n           at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1454)\r\n    \r\n           at weblogic.work.ExecuteThread.execute(ExecuteThread.java:209)\r\n    \r\n           at weblogic.work.ExecuteThread.run(ExecuteThread.java:178)\r\n    \r\n    Caused by: java.lang.ClassCastException: java.lang.Integer cannot be cast to java.lang.Long\r\n    \r\n           at com.xxx.model.duediligencegestori.DueDiligenceGestori.pcReplaceField(DueDiligenceGestori.java)\r\n    \r\n           at org.apache.openjpa.kernel.StateManagerImpl.replaceField(StateManagerImpl.java:3018)\r\n    \r\n           at org.apache.openjpa.kernel.StateManagerImpl.storeObjectField(StateManagerImpl.java:2456)\r\n    \r\n           at org.apache.openjpa.kernel.StateManagerImpl.storeField(StateManagerImpl.java:2552)\r\n    \r\n           at org.apache.openjpa.kernel.StateManagerImpl.storeField(StateManagerImpl.java:786)\r\n    \r\n           at org.apache.openjpa.kernel.StateManagerImpl.store(StateManagerImpl.java:782)\r\n    \r\n           at org.apache.openjpa.jdbc.meta.strats.HandlerFieldStrategy.load(HandlerFieldStrategy.java:175)\r\n    \r\n           at org.apache.openjpa.jdbc.meta.FieldMapping.load(FieldMapping.java:796)\r\n    \r\n           at org.apache.openjpa.jdbc.kernel.JDBCStoreManager.load(JDBCStoreManager.java:869)\r\n    \r\n           at org.apache.openjpa.jdbc.kernel.JDBCStoreManager.load(JDBCStoreManager.java:821)\r\n    \r\n           at org.apache.openjpa.jdbc.kernel.JDBCStoreManager.initializeState(JDBCStoreManager.java:343)\r\n    \r\n           at org.apache.openjpa.jdbc.kernel.JDBCStoreManager.initialize(JDBCStoreManager.java:264)\r\n    \r\n           at org.apache.openjpa.kernel.DelegatingStoreManager.initialize(DelegatingStoreManager.java:111)\r\n    \r\n           at org.apache.openjpa.datacache.DataCacheStoreManager.initialize(DataCacheStoreManager.java:335)\r\n    \r\n           at org.apache.openjpa.kernel.DelegatingStoreManager.initialize(DelegatingStoreManager.java:111)\r\n    \r\n           at org.apache.openjpa.kernel.ROPStoreManager.initialize(ROPStoreManager.java:57)\r\n    \r\n           at org.apache.openjpa.kernel.BrokerImpl.initialize(BrokerImpl.java:901)\r\n    \r\n           at kodo.kernel.KodoBroker.initialize(KodoBroker.java:65)\r\n    \r\n           at org.apache.openjpa.kernel.BrokerImpl.find(BrokerImpl.java:859)\r\n    \r\n     \r\n\r\nI tried to cast, debug but everything seems to have passed correctly. Does anyone know how to act? Thank you all\r\n\r\n[EDIT] stack trace after upgrade OpenJPA\r\n\r\n    18/12/2017 15:39:01,519 [ERROR] [com.xxx.service.BaseRestService] [] [] Rest Service response FAIL Exception {}\r\n    &lt;openjpa-1.1.1-SNAPSHOT-r422266:965591 nonfatal general error&gt; org.apache.openjpa.persistence.PersistenceException: java.lang.Integer cannot be cast to java.lang.Long\r\n                    at org.apache.openjpa.kernel.BrokerImpl.find(BrokerImpl.java:882)\r\n                    at org.apache.openjpa.kernel.BrokerImpl.find(BrokerImpl.java:776)\r\n                    at kodo.kernel.KodoBroker.find(KodoBroker.java:232)\r\n                    at org.apache.openjpa.kernel.DelegatingBroker.find(DelegatingBroker.java:183)\r\n                    at org.apache.openjpa.persistence.EntityManagerImpl.find(EntityManagerImpl.java:452)\r\n                    at com.xxx.business.repository.AbstractRepository.find(AbstractRepository.java:254)\r\n                    at com.xxx.business.repository.AbstractRepository.find(AbstractRepository.java:250)\r\n                    at com.xxx.business.repository.impl.DueDiligenceGestoriRepositoryImpl.getDueDiligenceGestori(DueDiligenceGestoriRepositoryImpl.java:83)\r\n                    at com.xxx.business.service.impl.DueDiligenceGestoriServiceImpl.getDueDiligenceGestori(DueDiligenceGestoriServiceImpl.java:74)\r\n                    at com.xxx.command.duediligencegestori.SaveDueDiligenceGestoriCmd.doExecute(SaveDueDiligenceGestoriCmd.java:83)\r\n                    at com.xxx.command.duediligencegestori.SaveDueDiligenceGestoriCmd.doExecute(SaveDueDiligenceGestoriCmd.java:28)\r\n                    at com.xxx.command.AbstractCommand.execute(AbstractCommand.java:88)\r\n                    at com.xxx.service.BaseRestService.executeCommand(BaseRestService.java:58)\r\n                    at com.xxx.service.DueDiligenceGestoriRestService.saveDueDiligenceGestoriDTO(DueDiligenceGestoriRestService.java:86)\r\n                    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n                    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n                    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n                    at java.lang.reflect.Method.invoke(Method.java:597)\r\n                    at com.sun.jersey.spi.container.JavaMethodInvokerFactory$1.invoke(JavaMethodInvokerFactory.java:60)\r\n                    at com.sun.jersey.server.impl.model.method.dispatch.AbstractResourceMethodDispatchProvider$TypeOutInvoker._dispatch(AbstractResourceMethodDispatchProvider.java:185)\r\n                    at com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:75)\r\n                    at com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:302)\r\n                    at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)\r\n                    at com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:108)\r\n                    at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)\r\n                    at com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:84)\r\n                    at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1511)\r\n                    at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1442)\r\n                    at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1391)\r\n                    at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1381)\r\n                    at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:416)\r\n                    at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:538)\r\n                    at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:716)\r\n                    at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\r\n                    at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:227)\r\n                    at weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:125)\r\n                    at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:300)\r\n                    at weblogic.servlet.internal.TailFilter.doFilter(TailFilter.java:26)\r\n                    at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)\r\n                    at com.xxx.filter.EnvironmentsFilter.doHttpFilter(EnvironmentsFilter.java:133)\r\n                    at com.xxx.filter.AbstractFilter.doFilter(AbstractFilter.java:43)\r\n                    at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)\r\n                    at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.wrapRun(WebAppServletContext.java:3715)\r\n                    at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3681)\r\n                    at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)\r\n                    at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:120)\r\n                    at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2277)\r\n                    at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2183)\r\n                    at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1454)\r\n                    at weblogic.work.ExecuteThread.execute(ExecuteThread.java:209)\r\n                    at weblogic.work.ExecuteThread.run(ExecuteThread.java:178)\r\n    Caused by: java.lang.ClassCastException: java.lang.Integer cannot be cast to java.lang.Long\r\n                    at com.xxx.model.duediligencegestori.DueDiligenceGestori.pcReplaceField(DueDiligenceGestori.java)\r\n                    at org.apache.openjpa.kernel.StateManagerImpl.replaceField(StateManagerImpl.java:3018)\r\n                    at org.apache.openjpa.kernel.StateManagerImpl.storeObjectField(StateManagerImpl.java:2456)\r\n                    at org.apache.openjpa.kernel.StateManagerImpl.storeField(StateManagerImpl.java:2552)\r\n                    at org.apache.openjpa.kernel.StateManagerImpl.storeField(StateManagerImpl.java:786)\r\n                    at org.apache.openjpa.kernel.StateManagerImpl.store(StateManagerImpl.java:782)\r\n                    at org.apache.openjpa.jdbc.meta.strats.HandlerFieldStrategy.load(HandlerFieldStrategy.java:175)\r\n                    at org.apache.openjpa.jdbc.meta.FieldMapping.load(FieldMapping.java:796)\r\n                    at org.apache.openjpa.jdbc.kernel.JDBCStoreManager.load(JDBCStoreManager.java:869)\r\n                    at org.apache.openjpa.jdbc.kernel.JDBCStoreManager.load(JDBCStoreManager.java:821)\r\n                    at org.apache.openjpa.jdbc.kernel.JDBCStoreManager.initializeState(JDBCStoreManager.java:343)\r\n                    at org.apache.openjpa.jdbc.kernel.JDBCStoreManager.initialize(JDBCStoreManager.java:264)\r\n                    at org.apache.openjpa.kernel.DelegatingStoreManager.initialize(DelegatingStoreManager.java:111)\r\n                    at org.apache.openjpa.datacache.DataCacheStoreManager.initialize(DataCacheStoreManager.java:335)\r\n                    at org.apache.openjpa.kernel.DelegatingStoreManager.initialize(DelegatingStoreManager.java:111)\r\n                    at org.apache.openjpa.kernel.ROPStoreManager.initialize(ROPStoreManager.java:57)\r\n                    at org.apache.openjpa.kernel.BrokerImpl.initialize(BrokerImpl.java:901)\r\n                    at kodo.kernel.KodoBroker.initialize(KodoBroker.java:65)\r\n                    at org.apache.openjpa.kernel.BrokerImpl.find(BrokerImpl.java:859)\r\n                    ... 50 more\r\n\r\n","title":"Integer To Long error on find() methods JPA","body":"<p>I have a problem with the <em>find()</em> method.</p>\n\n<p>I have a 'DueDiligenceGestori' class that maps a database table. The primary key of the table is a <em>number(19)</em> and therefore I mapped the entity with a Long as previously done</p>\n\n<p>Here is the class</p>\n\n<pre><code>        package com.xxx.model.duediligencegestori;\n\nimport java.io.Serializable;\nimport java.util.Date;\n\nimport javax.persistence.CascadeType;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.FetchType;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.OneToOne;\nimport javax.persistence.SequenceGenerator;\nimport javax.persistence.Table;\n\nimport com.xxx.model.AbstractVersionEntity;\nimport com.xxx.model.duediligence.DueDiligence;\nimport com.xxx.model.duediligence.DueDiligenceEnumType;\nimport com.xxx.model.masterData.Person;\n\n/**\n * The persistent class for the DUEDILIGENCE_GESTORI database table.\n * \n */\n@Entity\n@Table(name = \"DUEDILIGENCE_GESTORI\")\npublic class DueDiligenceGestori extends AbstractVersionEntity implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    public DueDiligenceGestori() {\n    }\n\n    @Id\n    @SequenceGenerator(name = \"DUEDILIGENCE_GEST_ID_SEQ_GENERATOR\", sequenceName = \"DDG_SEQ\", allocationSize = 1)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"DUEDILIGENCE_GEST_ID_SEQ_GENERATOR\")\n    @Column(name = \"ID\", unique = true, nullable = false)\n    private Long id;\n\n    @JoinColumn(name = \"DUEDILIGENCE_ID\", unique = true)\n    @OneToOne(cascade = CascadeType.ALL)\n    private DueDiligence dueDiligence;\n\n    @Column(name = \"IDENTIFICATIVO_SCHEDA\", unique = true, nullable = false, length = 4000)\n    private String identificativoScheda;\n\n    @Column(length = 25)\n    private String attivita;\n\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"CAPO_AREA\")\n    private Person capoArea;\n\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"FUEL_S3\")\n    private Person fuelS3;\n\n        public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n        public DueDiligence getDueDiligence() {\n        return dueDiligence;\n    }\n\n    public void setDueDiligence(DueDiligence dueDiligence) {\n        this.dueDiligence = dueDiligence;\n    }\n\n        public String getAttivita() {\n        return this.attivita;\n    }\n\n    public void setAttivita(String attivita) {\n        this.attivita = attivita;\n    }\n\n        public Person getCapoArea() {\n        return capoArea;\n    }\n\n    public void setCapoArea(Person capoArea) {\n        this.capoArea = capoArea;\n    }\n\n    public Person getFuelS3() {\n        return fuelS3;\n    }\n\n    public void setFuelS3(Person fuelS3) {\n        this.fuelS3 = fuelS3;\n    }\n\n\n}\n</code></pre>\n\n<p>Here is the error at execution</p>\n\n<pre><code>18/12/2017 14:38:59,857 [ERROR] [com.xxx.service.BaseRestService] [] [] Rest Service response FAIL Exception {}\n\n&lt;openjpa-1.1.1-SNAPSHOT-r422266:965591 nonfatal general error&gt; org.apache.openjpa.persistence.PersistenceException: java.lang.Integer cannot be cast to java.lang.Long\n\n       at org.apache.openjpa.kernel.BrokerImpl.find(BrokerImpl.java:882)\n\n       at org.apache.openjpa.kernel.BrokerImpl.find(BrokerImpl.java:776)\n\n       at kodo.kernel.KodoBroker.find(KodoBroker.java:232)\n\n       at org.apache.openjpa.kernel.DelegatingBroker.find(DelegatingBroker.java:183)\n\n       at org.apache.openjpa.persistence.EntityManagerImpl.find(EntityManagerImpl.java:452)\n\n       at com.xxx.business.repository.AbstractRepository.find(AbstractRepository.java:254)\n\n       at com.xxx.business.repository.AbstractRepository.find(AbstractRepository.java:250)\n\n       at com.xxx.business.repository.impl.DueDiligenceGestoriRepositoryImpl.getDueDiligenceGestori(DueDiligenceGestoriRepositoryImpl.java:83)\n\n       at com.xxx.business.service.impl.DueDiligenceGestoriServiceImpl.getDueDiligenceGestori(DueDiligenceGestoriServiceImpl.java:74)\n\n       at com.xxx.command.duediligencegestori.SaveDueDiligenceGestoriCmd.doExecute(SaveDueDiligenceGestoriCmd.java:83)\n\n       at com.xxx.command.duediligencegestori.SaveDueDiligenceGestoriCmd.doExecute(SaveDueDiligenceGestoriCmd.java:28)\n\n       at com.xxx.command.AbstractCommand.execute(AbstractCommand.java:88)\n\n       at com.xxx.service.BaseRestService.executeCommand(BaseRestService.java:58)\n\n       at com.xxx.service.DueDiligenceGestoriRestService.saveDueDiligenceGestoriDTO(DueDiligenceGestoriRestService.java:86)\n\n       at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\n       at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\n       at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\n       at java.lang.reflect.Method.invoke(Method.java:597)\n\n       at com.sun.jersey.spi.container.JavaMethodInvokerFactory$1.invoke(JavaMethodInvokerFactory.java:60)\n\n       at com.sun.jersey.server.impl.model.method.dispatch.AbstractResourceMethodDispatchProvider$TypeOutInvoker._dispatch(AbstractResourceMethodDispatchProvider.java:185)\n\n       at com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:75)\n\n       at com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:302)\n\n       at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)\n\n       at com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:108)\n\n       at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)\n\n       at com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:84)\n\n       at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1511)\n\n       at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1442)\n\n       at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1391)\n\n       at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1381)\n\n       at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:416)\n\n       at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:538)\n\n       at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:716)\n\n       at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\n\n       at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:227)\n\n       at weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:125)\n\n       at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:300)\n\n       at weblogic.servlet.internal.TailFilter.doFilter(TailFilter.java:26)\n\n       at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)\n\n       at com.xxx.filter.EnvironmentsFilter.doHttpFilter(EnvironmentsFilter.java:133)\n\n       at com.xxx.filter.AbstractFilter.doFilter(AbstractFilter.java:43)\n\n       at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)\n\n       at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.wrapRun(WebAppServletContext.java:3715)\n\n       at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3681)\n\n       at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)\n\n       at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:120)\n\n       at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2277)\n\n       at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2183)\n\n       at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1454)\n\n       at weblogic.work.ExecuteThread.execute(ExecuteThread.java:209)\n\n       at weblogic.work.ExecuteThread.run(ExecuteThread.java:178)\n\nCaused by: java.lang.ClassCastException: java.lang.Integer cannot be cast to java.lang.Long\n\n       at com.xxx.model.duediligencegestori.DueDiligenceGestori.pcReplaceField(DueDiligenceGestori.java)\n\n       at org.apache.openjpa.kernel.StateManagerImpl.replaceField(StateManagerImpl.java:3018)\n\n       at org.apache.openjpa.kernel.StateManagerImpl.storeObjectField(StateManagerImpl.java:2456)\n\n       at org.apache.openjpa.kernel.StateManagerImpl.storeField(StateManagerImpl.java:2552)\n\n       at org.apache.openjpa.kernel.StateManagerImpl.storeField(StateManagerImpl.java:786)\n\n       at org.apache.openjpa.kernel.StateManagerImpl.store(StateManagerImpl.java:782)\n\n       at org.apache.openjpa.jdbc.meta.strats.HandlerFieldStrategy.load(HandlerFieldStrategy.java:175)\n\n       at org.apache.openjpa.jdbc.meta.FieldMapping.load(FieldMapping.java:796)\n\n       at org.apache.openjpa.jdbc.kernel.JDBCStoreManager.load(JDBCStoreManager.java:869)\n\n       at org.apache.openjpa.jdbc.kernel.JDBCStoreManager.load(JDBCStoreManager.java:821)\n\n       at org.apache.openjpa.jdbc.kernel.JDBCStoreManager.initializeState(JDBCStoreManager.java:343)\n\n       at org.apache.openjpa.jdbc.kernel.JDBCStoreManager.initialize(JDBCStoreManager.java:264)\n\n       at org.apache.openjpa.kernel.DelegatingStoreManager.initialize(DelegatingStoreManager.java:111)\n\n       at org.apache.openjpa.datacache.DataCacheStoreManager.initialize(DataCacheStoreManager.java:335)\n\n       at org.apache.openjpa.kernel.DelegatingStoreManager.initialize(DelegatingStoreManager.java:111)\n\n       at org.apache.openjpa.kernel.ROPStoreManager.initialize(ROPStoreManager.java:57)\n\n       at org.apache.openjpa.kernel.BrokerImpl.initialize(BrokerImpl.java:901)\n\n       at kodo.kernel.KodoBroker.initialize(KodoBroker.java:65)\n\n       at org.apache.openjpa.kernel.BrokerImpl.find(BrokerImpl.java:859)\n</code></pre>\n\n<p>I tried to cast, debug but everything seems to have passed correctly. Does anyone know how to act? Thank you all</p>\n\n<p>[EDIT] stack trace after upgrade OpenJPA</p>\n\n<pre><code>18/12/2017 15:39:01,519 [ERROR] [com.xxx.service.BaseRestService] [] [] Rest Service response FAIL Exception {}\n&lt;openjpa-1.1.1-SNAPSHOT-r422266:965591 nonfatal general error&gt; org.apache.openjpa.persistence.PersistenceException: java.lang.Integer cannot be cast to java.lang.Long\n                at org.apache.openjpa.kernel.BrokerImpl.find(BrokerImpl.java:882)\n                at org.apache.openjpa.kernel.BrokerImpl.find(BrokerImpl.java:776)\n                at kodo.kernel.KodoBroker.find(KodoBroker.java:232)\n                at org.apache.openjpa.kernel.DelegatingBroker.find(DelegatingBroker.java:183)\n                at org.apache.openjpa.persistence.EntityManagerImpl.find(EntityManagerImpl.java:452)\n                at com.xxx.business.repository.AbstractRepository.find(AbstractRepository.java:254)\n                at com.xxx.business.repository.AbstractRepository.find(AbstractRepository.java:250)\n                at com.xxx.business.repository.impl.DueDiligenceGestoriRepositoryImpl.getDueDiligenceGestori(DueDiligenceGestoriRepositoryImpl.java:83)\n                at com.xxx.business.service.impl.DueDiligenceGestoriServiceImpl.getDueDiligenceGestori(DueDiligenceGestoriServiceImpl.java:74)\n                at com.xxx.command.duediligencegestori.SaveDueDiligenceGestoriCmd.doExecute(SaveDueDiligenceGestoriCmd.java:83)\n                at com.xxx.command.duediligencegestori.SaveDueDiligenceGestoriCmd.doExecute(SaveDueDiligenceGestoriCmd.java:28)\n                at com.xxx.command.AbstractCommand.execute(AbstractCommand.java:88)\n                at com.xxx.service.BaseRestService.executeCommand(BaseRestService.java:58)\n                at com.xxx.service.DueDiligenceGestoriRestService.saveDueDiligenceGestoriDTO(DueDiligenceGestoriRestService.java:86)\n                at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n                at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n                at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n                at java.lang.reflect.Method.invoke(Method.java:597)\n                at com.sun.jersey.spi.container.JavaMethodInvokerFactory$1.invoke(JavaMethodInvokerFactory.java:60)\n                at com.sun.jersey.server.impl.model.method.dispatch.AbstractResourceMethodDispatchProvider$TypeOutInvoker._dispatch(AbstractResourceMethodDispatchProvider.java:185)\n                at com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:75)\n                at com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:302)\n                at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)\n                at com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:108)\n                at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)\n                at com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:84)\n                at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1511)\n                at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1442)\n                at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1391)\n                at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1381)\n                at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:416)\n                at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:538)\n                at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:716)\n                at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\n                at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:227)\n                at weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:125)\n                at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:300)\n                at weblogic.servlet.internal.TailFilter.doFilter(TailFilter.java:26)\n                at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)\n                at com.xxx.filter.EnvironmentsFilter.doHttpFilter(EnvironmentsFilter.java:133)\n                at com.xxx.filter.AbstractFilter.doFilter(AbstractFilter.java:43)\n                at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)\n                at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.wrapRun(WebAppServletContext.java:3715)\n                at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3681)\n                at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)\n                at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:120)\n                at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2277)\n                at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2183)\n                at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1454)\n                at weblogic.work.ExecuteThread.execute(ExecuteThread.java:209)\n                at weblogic.work.ExecuteThread.run(ExecuteThread.java:178)\nCaused by: java.lang.ClassCastException: java.lang.Integer cannot be cast to java.lang.Long\n                at com.xxx.model.duediligencegestori.DueDiligenceGestori.pcReplaceField(DueDiligenceGestori.java)\n                at org.apache.openjpa.kernel.StateManagerImpl.replaceField(StateManagerImpl.java:3018)\n                at org.apache.openjpa.kernel.StateManagerImpl.storeObjectField(StateManagerImpl.java:2456)\n                at org.apache.openjpa.kernel.StateManagerImpl.storeField(StateManagerImpl.java:2552)\n                at org.apache.openjpa.kernel.StateManagerImpl.storeField(StateManagerImpl.java:786)\n                at org.apache.openjpa.kernel.StateManagerImpl.store(StateManagerImpl.java:782)\n                at org.apache.openjpa.jdbc.meta.strats.HandlerFieldStrategy.load(HandlerFieldStrategy.java:175)\n                at org.apache.openjpa.jdbc.meta.FieldMapping.load(FieldMapping.java:796)\n                at org.apache.openjpa.jdbc.kernel.JDBCStoreManager.load(JDBCStoreManager.java:869)\n                at org.apache.openjpa.jdbc.kernel.JDBCStoreManager.load(JDBCStoreManager.java:821)\n                at org.apache.openjpa.jdbc.kernel.JDBCStoreManager.initializeState(JDBCStoreManager.java:343)\n                at org.apache.openjpa.jdbc.kernel.JDBCStoreManager.initialize(JDBCStoreManager.java:264)\n                at org.apache.openjpa.kernel.DelegatingStoreManager.initialize(DelegatingStoreManager.java:111)\n                at org.apache.openjpa.datacache.DataCacheStoreManager.initialize(DataCacheStoreManager.java:335)\n                at org.apache.openjpa.kernel.DelegatingStoreManager.initialize(DelegatingStoreManager.java:111)\n                at org.apache.openjpa.kernel.ROPStoreManager.initialize(ROPStoreManager.java:57)\n                at org.apache.openjpa.kernel.BrokerImpl.initialize(BrokerImpl.java:901)\n                at kodo.kernel.KodoBroker.initialize(KodoBroker.java:65)\n                at org.apache.openjpa.kernel.BrokerImpl.find(BrokerImpl.java:859)\n                ... 50 more\n</code></pre>\n"},{"tags":["java","algorithm","recursion"],"comments":[{"owner":{"account_id":17033694,"reputation":4572,"user_id":12323248,"display_name":"akuzminykh"},"score":0,"creation_date":1673695011,"post_id":75117408,"comment_id":132558292,"body_markdown":"Try casting `num` to `double` in `flag =  isAlternatingNumber(num/10);`. Also, `&amp;&amp;` should be `!=`.","body":"Try casting <code>num</code> to <code>double</code> in <code>flag =  isAlternatingNumber(num&#47;10);</code>. Also, <code>&amp;&amp;</code> should be <code>!=</code>."},{"owner":{"account_id":7371223,"reputation":304,"user_id":5611324,"display_name":"buzz8year"},"score":0,"creation_date":1673704352,"post_id":75117408,"comment_id":132559716,"body_markdown":"What are the requirements to the accepted algorithm? E.g. time limit, memory usage limit, size of data, or mb any big-o complexity limits.","body":"What are the requirements to the accepted algorithm? E.g. time limit, memory usage limit, size of data, or mb any big-o complexity limits."}],"answers":[{"tags":[],"owner":{"account_id":7371223,"reputation":304,"user_id":5611324,"display_name":"buzz8year"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673719450,"creation_date":1673702403,"answer_id":75118226,"question_id":75117408,"body_markdown":"This question can actually be *considered (and so tagged?) as algorithmic*. That would gravitate much more attention, interesting implementations, reactions, advices, etc. \r\n\r\nSince OP provided very much close-to-right solution, any 1 correction leads to working algorithm. I just post possible evaluation of the idea of OP.\r\n\r\n\r\n    public static boolean isAlter(int num, boolean isPrevEven) \r\n    {\r\n        int next = (num - num % 10) / 10;\r\n        boolean isCurrEven = num % 2 == 0;\r\n        boolean isOk = (isCurrEven &amp;&amp; !isPrevEven) || (!isCurrEven &amp;&amp; isPrevEven);\r\n\r\n        if (isOk) \r\n             return next == 0 || isAlter(next, isCurrEven);\r\n        else return false;\r\n    }\r\n\r\nAnd what is more interesting on this question is **what are the requirements to the accepted algorithm**? E.g. *time limit, memory usage limit, size of data*, or mb any big-o complexity limits.\r\n\r\nRecursive algorithms most often can be rewritten in iterative way, which also often leads to time / memory consumption improvement. Yet, recursion is elegant, and if it does not contradict requirements or efficiency, nothing bad at all. Just remember to make correct *base cases*, so recursion does not go to infinity, which causes `StackOverflow` error.\r\n\r\nPS: Should method accept only 1 argument, it is surely not an issue:\r\n\r\n    public boolean isAlternatingNumber(int num) \r\n    {\r\n        boolean isEven = num % 2 == 0;\r\n        return isAlter(num, !isEven);\r\n    }\r\n\r\n ","title":"Java : write recursive function and check if one digit is even and the other not","body":"<p>This question can actually be <em>considered (and so tagged?) as algorithmic</em>. That would gravitate much more attention, interesting implementations, reactions, advices, etc.</p>\n<p>Since OP provided very much close-to-right solution, any 1 correction leads to working algorithm. I just post possible evaluation of the idea of OP.</p>\n<pre><code>public static boolean isAlter(int num, boolean isPrevEven) \n{\n    int next = (num - num % 10) / 10;\n    boolean isCurrEven = num % 2 == 0;\n    boolean isOk = (isCurrEven &amp;&amp; !isPrevEven) || (!isCurrEven &amp;&amp; isPrevEven);\n\n    if (isOk) \n         return next == 0 || isAlter(next, isCurrEven);\n    else return false;\n}\n</code></pre>\n<p>And what is more interesting on this question is <strong>what are the requirements to the accepted algorithm</strong>? E.g. <em>time limit, memory usage limit, size of data</em>, or mb any big-o complexity limits.</p>\n<p>Recursive algorithms most often can be rewritten in iterative way, which also often leads to time / memory consumption improvement. Yet, recursion is elegant, and if it does not contradict requirements or efficiency, nothing bad at all. Just remember to make correct <em>base cases</em>, so recursion does not go to infinity, which causes <code>StackOverflow</code> error.</p>\n<p>PS: Should method accept only 1 argument, it is surely not an issue:</p>\n<pre><code>public boolean isAlternatingNumber(int num) \n{\n    boolean isEven = num % 2 == 0;\n    return isAlter(num, !isEven);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22014851,"reputation":102,"user_id":16284523,"display_name":"Yağız Can Aslan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673703095,"creation_date":1673703095,"answer_id":75118302,"question_id":75117408,"body_markdown":"Assuming the original function signature `public static boolean isAlternatingNumber(int num)` cannot be changed, you can solve this problem by using a `recursive helper function` to add additional parameters to your recursive function.\r\n\r\nHere is an example of how you might solve this problem by using a `recursive helper function`;\r\n\r\n    class Main {  \r\n      public static void main(String args[]) { \r\n        System.out.println(&quot;123: &quot; + isAlternatingNumber(123)); // true\r\n        System.out.println(&quot;1234: &quot; + isAlternatingNumber(1234)); // true\r\n        System.out.println(&quot;12354: &quot; + isAlternatingNumber(12354)); // false\r\n      }\r\n      \r\n      // Original function with unmodified signature\r\n      public static boolean isAlternatingNumber(int num) {\r\n        // Base case, returns true if num is only 1 digit\r\n        if (num &lt; 10) {\r\n            return true;\r\n        }\r\n        \r\n        /*\r\n            + First argument; num with its first digit &quot;sliced&quot; (if num is 123, num / 10 is 12)\r\n            + Second argument; Whether or not if the first digit of num is even (if num is 123,\r\n            (num % 10) % 2 == 0 is false, as (num % 10) gives 3, and 3 % 2 is 1, as 3 is an odd number)\r\n        */\r\n        return findIfAlternating((num / 10), (num % 10) % 2 == 0);\r\n      }\r\n    \r\n      /**\r\n      * Recursive helper function to find if a given number is alternating\r\n      * between odd and even (or vice versa) digits\r\n      * @param num number to be checked, without its first digit\r\n      * @param isCurrentDigitEven whether or not if the first digit of the number to be checked is even\r\n      */\r\n      public static boolean findIfAlternating(int num, boolean isCurrentDigitEven) {\r\n        boolean isNextDigitEven = (num % 10) % 2 == 0;\r\n        \r\n        // Base case, returns true if the digits are alternating between odd and even\r\n        if (num &lt; 10) {\r\n            return (isCurrentDigitEven ^ isNextDigitEven); // ^ is the XOR operator in Java, returns true if either one of the variables are true, and returns false if both variables are false or true\r\n        }  \r\n        \r\n        return (isCurrentDigitEven ^ isNextDigitEven) &amp;&amp; findIfAlternating((num / 10), isNextDigitEven);\r\n      }\r\n    }\r\n\r\n","title":"Java : write recursive function and check if one digit is even and the other not","body":"<p>Assuming the original function signature <code>public static boolean isAlternatingNumber(int num)</code> cannot be changed, you can solve this problem by using a <code>recursive helper function</code> to add additional parameters to your recursive function.</p>\n<p>Here is an example of how you might solve this problem by using a <code>recursive helper function</code>;</p>\n<pre><code>class Main {  \n  public static void main(String args[]) { \n    System.out.println(&quot;123: &quot; + isAlternatingNumber(123)); // true\n    System.out.println(&quot;1234: &quot; + isAlternatingNumber(1234)); // true\n    System.out.println(&quot;12354: &quot; + isAlternatingNumber(12354)); // false\n  }\n  \n  // Original function with unmodified signature\n  public static boolean isAlternatingNumber(int num) {\n    // Base case, returns true if num is only 1 digit\n    if (num &lt; 10) {\n        return true;\n    }\n    \n    /*\n        + First argument; num with its first digit &quot;sliced&quot; (if num is 123, num / 10 is 12)\n        + Second argument; Whether or not if the first digit of num is even (if num is 123,\n        (num % 10) % 2 == 0 is false, as (num % 10) gives 3, and 3 % 2 is 1, as 3 is an odd number)\n    */\n    return findIfAlternating((num / 10), (num % 10) % 2 == 0);\n  }\n\n  /**\n  * Recursive helper function to find if a given number is alternating\n  * between odd and even (or vice versa) digits\n  * @param num number to be checked, without its first digit\n  * @param isCurrentDigitEven whether or not if the first digit of the number to be checked is even\n  */\n  public static boolean findIfAlternating(int num, boolean isCurrentDigitEven) {\n    boolean isNextDigitEven = (num % 10) % 2 == 0;\n    \n    // Base case, returns true if the digits are alternating between odd and even\n    if (num &lt; 10) {\n        return (isCurrentDigitEven ^ isNextDigitEven); // ^ is the XOR operator in Java, returns true if either one of the variables are true, and returns false if both variables are false or true\n    }  \n    \n    return (isCurrentDigitEven ^ isNextDigitEven) &amp;&amp; findIfAlternating((num / 10), isNextDigitEven);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673759644,"creation_date":1673705441,"answer_id":75118542,"question_id":75117408,"body_markdown":"&gt;the function I wrote, and I can&#39;t find where my mistake is\r\n\r\n```java\r\nflag =  isAlternatingNumber(num/10);\r\n```\r\nMethod `isAlternatingNumber` keeps calling itself until `num` is less than 10 (ten).\r\n\r\nIf, for example, we initially call method `isAlternatingNumber` with the number 123, then there will be three calls to the method as follows:\r\n```java\r\nisAlternatingNumber(123);\r\nisAlternatingNumber(12);\r\nisAlternatingNumber(1);\r\n```\r\nThe last call will return *true*.  \r\nThen, in the second last call, the method will continue, i.e. the following line will be executed:\r\n```java\r\nif(num%10 % 2 == 0 &amp;&amp; flag)\r\n```\r\nNote that local variable `n` is never used so this line actually does not affect the value returned by method `isAlternatingNumber`:\r\n```java\r\nint n = num % 10;\r\n```\r\nAs soon as `num` is an odd number, method `isAlternatingNumber` will return _false_. Then every recursive call will return _false_.\r\n\r\nFor the last two digits of the number to be alternating even/odd, either the number is even and the number divided by ten is odd or vice versa (unless the number is less than ten which is considered as &quot;true&quot;), i.e.\r\n```java\r\n(num % 2 == 0 &amp;&amp; (num / 10) % 2 == 1) || (num % 2 == 1 &amp;&amp; (num / 10) % 2 == 0) || num &lt; 10\r\n```\r\nIf the above expression returns true (and `num` is greater than ten), then repeat for `num / 10`.\r\n\r\n    public static boolean isAlternatingNumber(int num) {\r\n        if (num &lt; 10) {\r\n            return true;\r\n        }\r\n        else {\r\n            int rem1 = num % 2;\r\n            int rem2 = (num / 10) % 2;\r\n            boolean flag = ((rem1 == 0 &amp;&amp; rem2 == 1) || (rem1 == 1 &amp;&amp; rem2 == 0));\r\n            return flag &amp;&amp; isAlternatingNumber(num / 10);\r\n        }\r\n    }\r\n\r\n`flag` is true if `rem1` and `rem2` do **not** have the same value.\r\n```java\r\nreturn flag &amp;&amp; isAlternatingNumber(num / 10);\r\n```\r\nIf `flag` is false, Java will not [recursively] call method `isAlternatingNumber`.\r\n","title":"Java : write recursive function and check if one digit is even and the other not","body":"<blockquote>\n<p>the function I wrote, and I can't find where my mistake is</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>flag =  isAlternatingNumber(num/10);\n</code></pre>\n<p>Method <code>isAlternatingNumber</code> keeps calling itself until <code>num</code> is less than 10 (ten).</p>\n<p>If, for example, we initially call method <code>isAlternatingNumber</code> with the number 123, then there will be three calls to the method as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>isAlternatingNumber(123);\nisAlternatingNumber(12);\nisAlternatingNumber(1);\n</code></pre>\n<p>The last call will return <em>true</em>.<br />\nThen, in the second last call, the method will continue, i.e. the following line will be executed:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(num%10 % 2 == 0 &amp;&amp; flag)\n</code></pre>\n<p>Note that local variable <code>n</code> is never used so this line actually does not affect the value returned by method <code>isAlternatingNumber</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int n = num % 10;\n</code></pre>\n<p>As soon as <code>num</code> is an odd number, method <code>isAlternatingNumber</code> will return <em>false</em>. Then every recursive call will return <em>false</em>.</p>\n<p>For the last two digits of the number to be alternating even/odd, either the number is even and the number divided by ten is odd or vice versa (unless the number is less than ten which is considered as &quot;true&quot;), i.e.</p>\n<pre class=\"lang-java prettyprint-override\"><code>(num % 2 == 0 &amp;&amp; (num / 10) % 2 == 1) || (num % 2 == 1 &amp;&amp; (num / 10) % 2 == 0) || num &lt; 10\n</code></pre>\n<p>If the above expression returns true (and <code>num</code> is greater than ten), then repeat for <code>num / 10</code>.</p>\n<pre><code>public static boolean isAlternatingNumber(int num) {\n    if (num &lt; 10) {\n        return true;\n    }\n    else {\n        int rem1 = num % 2;\n        int rem2 = (num / 10) % 2;\n        boolean flag = ((rem1 == 0 &amp;&amp; rem2 == 1) || (rem1 == 1 &amp;&amp; rem2 == 0));\n        return flag &amp;&amp; isAlternatingNumber(num / 10);\n    }\n}\n</code></pre>\n<p><code>flag</code> is true if <code>rem1</code> and <code>rem2</code> do <strong>not</strong> have the same value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>return flag &amp;&amp; isAlternatingNumber(num / 10);\n</code></pre>\n<p>If <code>flag</code> is false, Java will not [recursively] call method <code>isAlternatingNumber</code>.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673720261,"creation_date":1673720261,"answer_id":75120265,"question_id":75117408,"body_markdown":"Regex to the rescue:\r\n\r\n    public static boolean isAlternatingNumber(int num) {\r\n        return !(&quot;&quot; + num).matches(&quot;.*([02468]{2}|[13579]{2}).*&quot;);\r\n    }","title":"Java : write recursive function and check if one digit is even and the other not","body":"<p>Regex to the rescue:</p>\n<pre><code>public static boolean isAlternatingNumber(int num) {\n    return !(&quot;&quot; + num).matches(&quot;.*([02468]{2}|[13579]{2}).*&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673761096,"creation_date":1673761096,"answer_id":75123161,"question_id":75117408,"body_markdown":"For recursive solution it is enough to recursively check the last digits with `true/false` ets. On each recursion remove the last digit of the value.\r\n\r\n```java\r\npublic static boolean isAlternatingNumber(int num) {\r\n    boolean lastDigitEven = num % 10 % 2 == 0;\r\n    return isAlternatingNumber(num, lastDigitEven);\r\n}\r\n\r\nprivate static boolean isAlternatingNumber(int num, boolean expectedLastDigitEven) {\r\n    if (num == 0)\r\n        return true;\r\n\r\n    boolean lastDigitEven = num % 10 % 2 == 0;\r\n\r\n    if (lastDigitEven == expectedLastDigitEven)\r\n        return isAlternatingNumber(num / 10, !lastDigitEven);\r\n\r\n    return false;\r\n}\r\n```","title":"Java : write recursive function and check if one digit is even and the other not","body":"<p>For recursive solution it is enough to recursively check the last digits with <code>true/false</code> ets. On each recursion remove the last digit of the value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean isAlternatingNumber(int num) {\n    boolean lastDigitEven = num % 10 % 2 == 0;\n    return isAlternatingNumber(num, lastDigitEven);\n}\n\nprivate static boolean isAlternatingNumber(int num, boolean expectedLastDigitEven) {\n    if (num == 0)\n        return true;\n\n    boolean lastDigitEven = num % 10 % 2 == 0;\n\n    if (lastDigitEven == expectedLastDigitEven)\n        return isAlternatingNumber(num / 10, !lastDigitEven);\n\n    return false;\n}\n</code></pre>\n"}],"owner":{"account_id":24528138,"reputation":151,"user_id":18440338,"display_name":"idan noyshul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":5,"score":0,"last_activity_date":1673963155,"creation_date":1673693729,"question_id":75117408,"body_markdown":"I am struggling with an exercise I got.\r\nI need to write a recursive function that checks if one digit is odd and the other one is even, it is need to toggle in any digit.\r\n\r\nFor example,\r\n\r\n - 123 is true (3 is odd, 2 is even, 1 is odd)\r\n - 1234 is also true\r\n - 12354 is false (4 is even, 5 is odd and 3 is odd)\r\n\r\nThe digits must be alternating between even and odd.\r\n\r\nIf the number is only 1 digit you return true. All numbers are positive.\r\n\r\nBelow is the function I wrote,\r\nand I can&#39;t find where my mistake is :/\r\n\r\n    //Assumption : num &gt; 0\r\n\t//this function will return if true or not if number is alternating\r\n\tpublic static boolean isAlternatingNumber(int num) {\r\n\t\tboolean flag;\r\n\t\tif(num &lt; 10) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tflag =  isAlternatingNumber(num/10);\r\n\t\t\tint n = num% 10;\r\n\t\t\tif(num%10 % 2 == 0 &amp;&amp; flag) {\r\n\t\t\t\treturn true;\r\n\t\t\t}else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n","title":"Java : write recursive function and check if one digit is even and the other not","body":"<p>I am struggling with an exercise I got.\nI need to write a recursive function that checks if one digit is odd and the other one is even, it is need to toggle in any digit.</p>\n<p>For example,</p>\n<ul>\n<li>123 is true (3 is odd, 2 is even, 1 is odd)</li>\n<li>1234 is also true</li>\n<li>12354 is false (4 is even, 5 is odd and 3 is odd)</li>\n</ul>\n<p>The digits must be alternating between even and odd.</p>\n<p>If the number is only 1 digit you return true. All numbers are positive.</p>\n<p>Below is the function I wrote,\nand I can't find where my mistake is :/</p>\n<pre><code>//Assumption : num &gt; 0\n//this function will return if true or not if number is alternating\npublic static boolean isAlternatingNumber(int num) {\n    boolean flag;\n    if(num &lt; 10) {\n        return true;\n    }\n    else {\n        flag =  isAlternatingNumber(num/10);\n        int n = num% 10;\n        if(num%10 % 2 == 0 &amp;&amp; flag) {\n            return true;\n        }else {\n            return false;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","mongodb","spring-data","azure-cosmosdb","ttl"],"answers":[{"tags":[],"owner":{"account_id":6439164,"reputation":23644,"user_id":4989676,"display_name":"Peter Pan"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1486716972,"creation_date":1486659254,"answer_id":42142479,"question_id":42121363,"body_markdown":"According to the blog [DocumentDB now supports Time-To-Live (TTL)][1] &amp; the section [Setting TTL on a document][2] of the offical tutorial Expire data in DocumentDB collections automatically with time to live, the `TTL` setting on Azure DocumentDB is different from MongoDB, although Azure support do the operater on DocumentDB via MongoDB drive &amp; `spring-data` in Java.\r\n\r\nThe `TTL` should be defined as a property on DocumentDB to set a nonzero positive integer value, so please try to change your code as below.\r\n\r\n    public class Train{\r\n       @JsonProperty\r\n       private String id;\r\n    \r\n       @JsonProperty(&quot;last_updated&quot;)\r\n       private Date lastUpdated;\r\n    \r\n       /*\r\n        * Define a property as ttl and set the default value 1.\r\n        */\r\n       @JsonProperty(&quot;ttl&quot;)\r\n       private int expireAfterSeconds = 1;\r\n    \r\n       // Getters &amp; Setters\r\n       .\r\n       .\r\n       .\r\n    }\r\n\r\nHope it helps. Any concern, please feel free to let me know.\r\n\r\n-----------------------\r\n\r\n**Update**:\r\nNotice the below content at https://learn.microsoft.com/en-us/azure/documentdb/documentdb-time-to-live#configuring-ttl.\r\n\r\n&gt; By default, time to live is disabled by default in all DocumentDB collections and on all documents.\r\n\r\nSo please first enable the feature `TIME TO LIVE` on Azure portal as the figure below, or follow the above link to enable it programmatically.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://azure.microsoft.com/en-us/blog/documentdb-now-supports-time-to-live-ttl/\r\n  [2]: https://learn.microsoft.com/en-us/azure/documentdb/documentdb-time-to-live#setting-ttl-on-a-document\r\n  [3]: https://i.stack.imgur.com/QY182.png","title":"AzureDocumentDB MongoDB protocol support: Failing to create TTL index","body":"<p>According to the blog <a href=\"https://azure.microsoft.com/en-us/blog/documentdb-now-supports-time-to-live-ttl/\" rel=\"nofollow noreferrer\">DocumentDB now supports Time-To-Live (TTL)</a> &amp; the section <a href=\"https://learn.microsoft.com/en-us/azure/documentdb/documentdb-time-to-live#setting-ttl-on-a-document\" rel=\"nofollow noreferrer\">Setting TTL on a document</a> of the offical tutorial Expire data in DocumentDB collections automatically with time to live, the <code>TTL</code> setting on Azure DocumentDB is different from MongoDB, although Azure support do the operater on DocumentDB via MongoDB drive &amp; <code>spring-data</code> in Java.</p>\n\n<p>The <code>TTL</code> should be defined as a property on DocumentDB to set a nonzero positive integer value, so please try to change your code as below.</p>\n\n<pre><code>public class Train{\n   @JsonProperty\n   private String id;\n\n   @JsonProperty(\"last_updated\")\n   private Date lastUpdated;\n\n   /*\n    * Define a property as ttl and set the default value 1.\n    */\n   @JsonProperty(\"ttl\")\n   private int expireAfterSeconds = 1;\n\n   // Getters &amp; Setters\n   .\n   .\n   .\n}\n</code></pre>\n\n<p>Hope it helps. Any concern, please feel free to let me know.</p>\n\n<hr>\n\n<p><strong>Update</strong>:\nNotice the below content at <a href=\"https://learn.microsoft.com/en-us/azure/documentdb/documentdb-time-to-live#configuring-ttl\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/documentdb/documentdb-time-to-live#configuring-ttl</a>.</p>\n\n<blockquote>\n  <p>By default, time to live is disabled by default in all DocumentDB collections and on all documents.</p>\n</blockquote>\n\n<p>So please first enable the feature <code>TIME TO LIVE</code> on Azure portal as the figure below, or follow the above link to enable it programmatically.</p>\n\n<p><a href=\"https://i.stack.imgur.com/QY182.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QY182.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":3166335,"reputation":21,"user_id":2676265,"display_name":"Austin Song"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1500486595,"creation_date":1500486595,"answer_id":45197664,"question_id":42121363,"body_markdown":"Revisiting my question I had posted a while back to reply with the solution that I figured out.\r\n\r\nNote that DocumentDB has been renamed to CosmosDB since I posted this question.\r\n\r\nThere was an issue with type casting in either the Spring framework or the CosmosDB/DocumentDB platform side.  Despite documentation saying it needs an integer, you actually need to pass it a double value.\r\n\r\nI&#39;m using something along the lines of the following and it works\r\n\r\n    dcoll.createIndex(new BasicDBObject(&quot;_ts&quot;, 1)\r\n                        , new BasicDBObject(&quot;expireAfterSeconds&quot;, 10.0));","title":"AzureDocumentDB MongoDB protocol support: Failing to create TTL index","body":"<p>Revisiting my question I had posted a while back to reply with the solution that I figured out.</p>\n\n<p>Note that DocumentDB has been renamed to CosmosDB since I posted this question.</p>\n\n<p>There was an issue with type casting in either the Spring framework or the CosmosDB/DocumentDB platform side.  Despite documentation saying it needs an integer, you actually need to pass it a double value.</p>\n\n<p>I'm using something along the lines of the following and it works</p>\n\n<pre><code>dcoll.createIndex(new BasicDBObject(\"_ts\", 1)\n                    , new BasicDBObject(\"expireAfterSeconds\", 10.0));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16631417,"reputation":405,"user_id":12019191,"display_name":"Karunakaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670908221,"creation_date":1670908221,"answer_id":74780245,"question_id":42121363,"body_markdown":"This works for me.\r\n\r\n    db.coll.createIndex( { &quot;_ts&quot;: 1 }, { expireAfterSeconds: 3600 } )","title":"AzureDocumentDB MongoDB protocol support: Failing to create TTL index","body":"<p>This works for me.</p>\n<pre><code>db.coll.createIndex( { &quot;_ts&quot;: 1 }, { expireAfterSeconds: 3600 } )\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3101468,"reputation":3914,"user_id":2625478,"accept_rate":82,"display_name":"caprica"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673963149,"creation_date":1673963149,"answer_id":75147378,"question_id":42121363,"body_markdown":"Using Spring Boot and Spring Data in a `ContextListener`:\r\n\r\n```java\r\nprivate final MongoTemplate mongoTemplate;\r\n\r\n@EventListener(ContextRefreshedEvent.class)\r\npublic void ensureIndexes() {\r\n  mongoTemplate.indexOps(YourCollection.class)\r\n    .ensureIndex(\r\n      new Index()\r\n        .on(&quot;_ts&quot;, Sort.Direction.ASC)\r\n        .expire(30, TimeUnit.SECONDS)\r\n    );\r\n}\r\n```\r\nThe Azure console is a little confusing in the &quot;Settings&quot; options for the collection, it says &quot;To enable time-to-live (TTL) for your collection/documents, create a TTL index&quot; - it will say this even if you do already have such an index created.\r\n\r\nConfirmed working January 2023 with Spring Boot 2.7.6 and Azure CosmosDB.","title":"AzureDocumentDB MongoDB protocol support: Failing to create TTL index","body":"<p>Using Spring Boot and Spring Data in a <code>ContextListener</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private final MongoTemplate mongoTemplate;\n\n@EventListener(ContextRefreshedEvent.class)\npublic void ensureIndexes() {\n  mongoTemplate.indexOps(YourCollection.class)\n    .ensureIndex(\n      new Index()\n        .on(&quot;_ts&quot;, Sort.Direction.ASC)\n        .expire(30, TimeUnit.SECONDS)\n    );\n}\n</code></pre>\n<p>The Azure console is a little confusing in the &quot;Settings&quot; options for the collection, it says &quot;To enable time-to-live (TTL) for your collection/documents, create a TTL index&quot; - it will say this even if you do already have such an index created.</p>\n<p>Confirmed working January 2023 with Spring Boot 2.7.6 and Azure CosmosDB.</p>\n"}],"owner":{"account_id":3166335,"reputation":21,"user_id":2676265,"display_name":"Austin Song"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1451,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":45197664,"answer_count":4,"score":1,"last_activity_date":1673963149,"creation_date":1486580058,"question_id":42121363,"body_markdown":"I&#39;m currently using Spring Data MongoDB to abstract MongoDB operations, and  using an Azure DocumentDB database with MongoDB protocol support. I&#39;ve also run into this using the latest MongoDB Java driver by itself.\r\n\r\nThere is an issue with setting a TTL index in this process.\r\n\r\nI&#39;m receiving the following exception.\r\n\r\n    `Caused by: com.mongodb.CommandFailureException: { &quot;serverUsed&quot; : &quot;****-****-test.documents.azure.com:****&quot; , &quot;_t&quot; : &quot;OKMongoResponse&quot; , &quot;ok&quot; : 0 , &quot;code&quot; : 2 , &quot;errmsg&quot; : &quot;The &#39;expireAfterSeconds&#39; option has invalid value. Ensure to provide a nonzero positive integer, or &#39;-1&#39;` which means never expire.&quot; , &quot;$err&quot; : &quot;The &#39;expireAfterSeconds&#39; option has invalid value. Ensure to provide a nonzero positive integer, or &#39;-1&#39; which means never expire.&quot;}\r\n\tat com.mongodb.CommandResult.getException(CommandResult.java:76)\r\n\tat com.mongodb.CommandResult.throwOnError(CommandResult.java:140)\r\n\tat com.mongodb.DBCollectionImpl.createIndex(DBCollectionImpl.java:399)\r\n\tat com.mongodb.DBCollection.createIndex(DBCollection.java:597)\r\n\r\nThis is a simple representation of the POJO that I&#39;m using.\r\n\r\n    public class Train{\r\n       @JsonProperty\r\n       private String id;\r\n       \r\n       @JsonProperty(&quot;last_updated&quot;)\r\n       @Indexed(expireAfterSeconds = 1)\r\n       private Date lastUpdated;\r\n\r\n       // Getters &amp; Setters\r\n       .\r\n       .\r\n       .\r\n    }\r\n\r\nThis was my initial approach of initializing the index (via the @Indexed annotation).  \r\n\r\nI&#39;ve also attempted to initialize the index via:\r\n\r\n    mongoTemplate.indexOps(collection.getName())\r\n                    .ensureIndex(new Index(&quot;last_updated&quot;, Sort.Direction.DESC)\r\n                    .expire(1, TimeUnit.SECONDS));\r\n\r\nBoth ways of setting the index throw that same execption.\r\n\r\nI&#39;ve also seen an error saying that it can only be done on the &#39;_ts&#39; field.  I think this is due to Azure DocumentDB using the &#39;_ts&#39; field for it&#39;s own TTL operation.  So I&#39;ve tried the following with the same results:\r\n\r\n - Added a new field, Long &#39;_ts&#39;, to the pojo and tried with the annotation.\r\n - Attempted to set the index via the ensureIndex method with &#39;_ts&#39; field.\r\n - Did the same things above but changing the type of &#39;_ts&#39; to Date.\r\n\r\n\r\nI&#39;m new to these technologies (DocumentDB and MongoDB), so I&#39;m probably missing something obvious.  \r\n\r\nAny thoughts?","title":"AzureDocumentDB MongoDB protocol support: Failing to create TTL index","body":"<p>I'm currently using Spring Data MongoDB to abstract MongoDB operations, and  using an Azure DocumentDB database with MongoDB protocol support. I've also run into this using the latest MongoDB Java driver by itself.</p>\n\n<p>There is an issue with setting a TTL index in this process.</p>\n\n<p>I'm receiving the following exception.</p>\n\n<pre><code>`Caused by: com.mongodb.CommandFailureException: { \"serverUsed\" : \"****-****-test.documents.azure.com:****\" , \"_t\" : \"OKMongoResponse\" , \"ok\" : 0 , \"code\" : 2 , \"errmsg\" : \"The 'expireAfterSeconds' option has invalid value. Ensure to provide a nonzero positive integer, or '-1'` which means never expire.\" , \"$err\" : \"The 'expireAfterSeconds' option has invalid value. Ensure to provide a nonzero positive integer, or '-1' which means never expire.\"}\nat com.mongodb.CommandResult.getException(CommandResult.java:76)\nat com.mongodb.CommandResult.throwOnError(CommandResult.java:140)\nat com.mongodb.DBCollectionImpl.createIndex(DBCollectionImpl.java:399)\nat com.mongodb.DBCollection.createIndex(DBCollection.java:597)\n</code></pre>\n\n<p>This is a simple representation of the POJO that I'm using.</p>\n\n<pre><code>public class Train{\n   @JsonProperty\n   private String id;\n\n   @JsonProperty(\"last_updated\")\n   @Indexed(expireAfterSeconds = 1)\n   private Date lastUpdated;\n\n   // Getters &amp; Setters\n   .\n   .\n   .\n}\n</code></pre>\n\n<p>This was my initial approach of initializing the index (via the @Indexed annotation).  </p>\n\n<p>I've also attempted to initialize the index via:</p>\n\n<pre><code>mongoTemplate.indexOps(collection.getName())\n                .ensureIndex(new Index(\"last_updated\", Sort.Direction.DESC)\n                .expire(1, TimeUnit.SECONDS));\n</code></pre>\n\n<p>Both ways of setting the index throw that same execption.</p>\n\n<p>I've also seen an error saying that it can only be done on the '_ts' field.  I think this is due to Azure DocumentDB using the '_ts' field for it's own TTL operation.  So I've tried the following with the same results:</p>\n\n<ul>\n<li>Added a new field, Long '_ts', to the pojo and tried with the annotation.</li>\n<li>Attempted to set the index via the ensureIndex method with '_ts' field.</li>\n<li>Did the same things above but changing the type of '_ts' to Date.</li>\n</ul>\n\n<p>I'm new to these technologies (DocumentDB and MongoDB), so I'm probably missing something obvious.  </p>\n\n<p>Any thoughts?</p>\n"},{"tags":["java","microsoft-openjdk"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1673963080,"post_id":73736345,"comment_id":132609797,"body_markdown":"What is your build system? Could be that you only have an issue in building your jar-file?","body":"What is your build system? Could be that you only have an issue in building your jar-file?"},{"owner":{"account_id":4773203,"reputation":383,"user_id":3857204,"display_name":"Beeker"},"score":0,"creation_date":1674100422,"post_id":73736345,"comment_id":132644391,"body_markdown":"@cyberbrain sorry, I didn&#39;t specify.  I&#39;m running Eclipse IDE","body":"@cyberbrain sorry, I didn&#39;t specify.  I&#39;m running Eclipse IDE"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1674114993,"post_id":73736345,"comment_id":132646738,"body_markdown":"hmmm. you are not using ant, maven, gradle, or any other build system that you could also trigger from the command line?","body":"hmmm. you are not using ant, maven, gradle, or any other build system that you could also trigger from the command line?"}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673963048,"creation_date":1673963048,"answer_id":75147349,"question_id":73736345,"body_markdown":"Probably you are adding an outdated dependency, try \r\n\r\n&gt; javax.mail:javax.mail-api:1.6.2\r\n\r\ninstead. You could use https://mvnrepository.com/artifact/javax.mail/javax.mail-api to get the binary, search for different versions, or try to switch to its successor jakarta.mail-api instead. (But this requires updates to the software as the package names changed.)","title":"Unable to get javax.mail to be found by package","body":"<p>Probably you are adding an outdated dependency, try</p>\n<blockquote>\n<p>javax.mail:javax.mail-api:1.6.2</p>\n</blockquote>\n<p>instead. You could use <a href=\"https://mvnrepository.com/artifact/javax.mail/javax.mail-api\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/javax.mail/javax.mail-api</a> to get the binary, search for different versions, or try to switch to its successor jakarta.mail-api instead. (But this requires updates to the software as the package names changed.)</p>\n"}],"owner":{"account_id":4773203,"reputation":383,"user_id":3857204,"display_name":"Beeker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673963048,"creation_date":1663269526,"question_id":73736345,"body_markdown":"I&#39;ve written a program that uses log4j and it set to use the SMTPAppender at Error/Fatal level\r\n\r\n       &lt;SMTP name=&quot;ErrorMail&quot; subject=&quot;iMCtoOVO ERROR&quot; to=&quot;addresses@company.com&quot; from=&quot;server@client.com&quot; smtpHost=&quot;clientgateway.client.com&quot; smtpPort=&quot;25&quot; bufferSize=&quot;100&quot;&gt;\r\n    \t&lt;ThresholdFilter level=&quot;ERROR&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot;/&gt;\r\n        &lt;/SMTP&gt;\r\n\r\nIt was working fine with standard Oracle Java, but since switching to OpenJDK, due to licensing, installed with the Microsoft installer, I have not been able to get it to work.\r\n\r\n    2022-09-15 14:52:15,568 main ERROR Could not create plugin of type class org.apacche.logging.log4j.core.appender.SmtpAppender for element SMTP: java.lang.NoClassDefFoundError: javax/mail/MessagingException java.lang.NoClassDefFoundError: javax/mail/MessagingException\r\n\r\nUnder Oracle Java, I had only been able to get this to work by putting the javax.mail.jar in the &quot;ext&quot; folder.  I can find no such location now on this system.  I have tried putting the path in the manifest Class-Path, removing Class-Path from the Manifest and specifying the location by java -cp (see below in case I&#39;ve lost my ever loving mind) in various formats (e.g. quoted, \\ and / absolute and relative path, wild card etc), I have rebuilt the runnable JAR with all necessary packages built in (Eclipse IDE) and I am out of ideas.\r\n\r\n    java -cp G:\\iMCAlarmParse\\lib\\javax.mail.jar -Dlog4j.configurationFile=file:/g:/iMCAlarmParse/conf/log4j2-dev.xml -Dimctoovo.WorkPath=g:/imcAlarmParse/ -jar iMCAlarmParse-dev.jar \r\n\r\nI&#39;m sure it&#39;s something amazingly dumb I&#39;m missing in the stack trace but I&#39;m at my wits end.\r\n\r\nFor reference:\r\n    openjdk 17.0.4.1 2022-08-12 LTS\r\n    OpenJDK Runtime Environment Microsoft-40354 (build 17.0.4.1+1-LTS)\r\n    OpenJDK 64-Bit Server VM Microsoft-40354 (build 17.0.4.1+1-LTS, mixed mode, sharing)\r\n\r\nThanks in advance.","title":"Unable to get javax.mail to be found by package","body":"<p>I've written a program that uses log4j and it set to use the SMTPAppender at Error/Fatal level</p>\n<pre><code>   &lt;SMTP name=&quot;ErrorMail&quot; subject=&quot;iMCtoOVO ERROR&quot; to=&quot;addresses@company.com&quot; from=&quot;server@client.com&quot; smtpHost=&quot;clientgateway.client.com&quot; smtpPort=&quot;25&quot; bufferSize=&quot;100&quot;&gt;\n    &lt;ThresholdFilter level=&quot;ERROR&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot;/&gt;\n    &lt;/SMTP&gt;\n</code></pre>\n<p>It was working fine with standard Oracle Java, but since switching to OpenJDK, due to licensing, installed with the Microsoft installer, I have not been able to get it to work.</p>\n<pre><code>2022-09-15 14:52:15,568 main ERROR Could not create plugin of type class org.apacche.logging.log4j.core.appender.SmtpAppender for element SMTP: java.lang.NoClassDefFoundError: javax/mail/MessagingException java.lang.NoClassDefFoundError: javax/mail/MessagingException\n</code></pre>\n<p>Under Oracle Java, I had only been able to get this to work by putting the javax.mail.jar in the &quot;ext&quot; folder.  I can find no such location now on this system.  I have tried putting the path in the manifest Class-Path, removing Class-Path from the Manifest and specifying the location by java -cp (see below in case I've lost my ever loving mind) in various formats (e.g. quoted, \\ and / absolute and relative path, wild card etc), I have rebuilt the runnable JAR with all necessary packages built in (Eclipse IDE) and I am out of ideas.</p>\n<pre><code>java -cp G:\\iMCAlarmParse\\lib\\javax.mail.jar -Dlog4j.configurationFile=file:/g:/iMCAlarmParse/conf/log4j2-dev.xml -Dimctoovo.WorkPath=g:/imcAlarmParse/ -jar iMCAlarmParse-dev.jar \n</code></pre>\n<p>I'm sure it's something amazingly dumb I'm missing in the stack trace but I'm at my wits end.</p>\n<p>For reference:\nopenjdk 17.0.4.1 2022-08-12 LTS\nOpenJDK Runtime Environment Microsoft-40354 (build 17.0.4.1+1-LTS)\nOpenJDK 64-Bit Server VM Microsoft-40354 (build 17.0.4.1+1-LTS, mixed mode, sharing)</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","json","jsonb-api","yasson"],"answers":[{"tags":[],"owner":{"account_id":6332314,"reputation":3940,"user_id":4916898,"display_name":"Arnaud Develay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1567611704,"creation_date":1567611053,"answer_id":57791608,"question_id":57710065,"body_markdown":"I have checked the documentation and the code, and `Yasson` only provide an option for ignoring null values (which is activated by default).\r\n\r\n    JsonbConfig config = new JsonbConfig().withNullValues(false);\r\n    Jsonb jsonb = JsonbBuilder.create(config);\r\n\r\nThe only option seems to be to implement a custom `JsonbSerializer` for your `Person` class and not serialize the field when the value is empty.\r\n\r\n\r\n    public class PersonSerializer implements JsonbSerializer&lt;Person&gt; {\r\n        @Override\r\n        public void serialize(Person person, JsonGenerator generator, SerializationContext serializationContext) {\r\n            generator.writeStartObject();\r\n            generator.write(&quot;id&quot;, person.getId());\r\n            if (person.getName() != null &amp;&amp; !person.getName().isEmpty()) {\r\n                generator.write(&quot;name&quot;, person.getName());\r\n            }\r\n            if (person.getEmail() != null &amp;&amp; !person.getEmail().isEmpty()) {\r\n                generator.write(&quot;email&quot;, person.getEmail());\r\n            }\r\n            // ...\r\n            generator.writeEnd();\r\n        }\r\n    }\r\n\r\nAnd initialize `Yasson` with the following code:\r\n\r\n    JsonbConfig config = new JsonbConfig().withSerializers(new PersonSerializer());\r\n    Jsonb jsonb = JsonbBuilder.create(config);","title":"How can I prevent empty strings and empty collections to be outputted with eclipse Yasson","body":"<p>I have checked the documentation and the code, and <code>Yasson</code> only provide an option for ignoring null values (which is activated by default).</p>\n\n<pre><code>JsonbConfig config = new JsonbConfig().withNullValues(false);\nJsonb jsonb = JsonbBuilder.create(config);\n</code></pre>\n\n<p>The only option seems to be to implement a custom <code>JsonbSerializer</code> for your <code>Person</code> class and not serialize the field when the value is empty.</p>\n\n<pre><code>public class PersonSerializer implements JsonbSerializer&lt;Person&gt; {\n    @Override\n    public void serialize(Person person, JsonGenerator generator, SerializationContext serializationContext) {\n        generator.writeStartObject();\n        generator.write(\"id\", person.getId());\n        if (person.getName() != null &amp;&amp; !person.getName().isEmpty()) {\n            generator.write(\"name\", person.getName());\n        }\n        if (person.getEmail() != null &amp;&amp; !person.getEmail().isEmpty()) {\n            generator.write(\"email\", person.getEmail());\n        }\n        // ...\n        generator.writeEnd();\n    }\n}\n</code></pre>\n\n<p>And initialize <code>Yasson</code> with the following code:</p>\n\n<pre><code>JsonbConfig config = new JsonbConfig().withSerializers(new PersonSerializer());\nJsonb jsonb = JsonbBuilder.create(config);\n</code></pre>\n"}],"owner":{"account_id":16372112,"reputation":23,"user_id":11825183,"display_name":"Gert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":437,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":57791608,"answer_count":1,"score":2,"last_activity_date":1673963015,"creation_date":1567081174,"question_id":57710065,"body_markdown":"We want to create a json string for some Java objects, but we don&#39;t want empty strings or empty arrays to be added to the json output.  We are using Eclipse Yasson 1.0.1 to create the json strings.\r\n\r\nActually what we want is the behaviour of `JsonInclude.Include.NON_EMPTY` of Jackson, but we can not use Jackson.\r\n\r\n```java\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Person {\r\n\r\n    private int id;\r\n\r\n    private String name;\r\n\r\n    private String email;\r\n\r\n    private String birthPlace;\r\n\r\n    private List&lt;String&gt; phones;\r\n}\r\n\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        Jsonb jsonb = JsonbBuilder.create();\r\n\r\n        Person person = Person.builder()\r\n                .id(1)\r\n                .name(&quot;Gert&quot;)\r\n                .email(&quot;&quot;) //Should not be in output -&gt; nok\r\n                .birthPlace(null) //Should not be in output -&gt; ok\r\n                .phones(new ArrayList&lt;&gt;()) //Should not be in output -&gt; nok\r\n                .build();\r\n\r\n        String toJsonString = jsonb.toJson(person);\r\n\r\n        System.out.println(toJsonString);\r\n    }\r\n}\r\n```\r\n\r\nThe current output is \r\n\r\n```\r\n{&quot;email&quot;:&quot;&quot;,&quot;id&quot;:1,&quot;name&quot;:&quot;Gert&quot;,&quot;phones&quot;:[]}\r\n```\r\n\r\nBut we want it to be \r\n\r\n```\r\n{&quot;id&quot;:1,&quot;name&quot;:&quot;Gert&quot;}\r\n```","title":"How can I prevent empty strings and empty collections to be outputted with eclipse Yasson","body":"<p>We want to create a json string for some Java objects, but we don't want empty strings or empty arrays to be added to the json output.  We are using Eclipse Yasson 1.0.1 to create the json strings.</p>\n\n<p>Actually what we want is the behaviour of <code>JsonInclude.Include.NON_EMPTY</code> of Jackson, but we can not use Jackson.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Person {\n\n    private int id;\n\n    private String name;\n\n    private String email;\n\n    private String birthPlace;\n\n    private List&lt;String&gt; phones;\n}\n\npublic class Test {\n    public static void main(String[] args) {\n        Jsonb jsonb = JsonbBuilder.create();\n\n        Person person = Person.builder()\n                .id(1)\n                .name(\"Gert\")\n                .email(\"\") //Should not be in output -&gt; nok\n                .birthPlace(null) //Should not be in output -&gt; ok\n                .phones(new ArrayList&lt;&gt;()) //Should not be in output -&gt; nok\n                .build();\n\n        String toJsonString = jsonb.toJson(person);\n\n        System.out.println(toJsonString);\n    }\n}\n</code></pre>\n\n<p>The current output is </p>\n\n<pre><code>{\"email\":\"\",\"id\":1,\"name\":\"Gert\",\"phones\":[]}\n</code></pre>\n\n<p>But we want it to be </p>\n\n<pre><code>{\"id\":1,\"name\":\"Gert\"}\n</code></pre>\n"},{"tags":["java","netbeans-7"],"comments":[{"owner":{"account_id":220160,"reputation":99410,"user_id":477420,"display_name":"Alexei Levenkov"},"score":0,"creation_date":1484523308,"post_id":41667529,"comment_id":70533184,"body_markdown":"This does not look like JavaScript... Are you sure you are doing your homework using correct language? In any case make sure to read [MCVE] guidance on providing code and search for similar questions for language you actually need to use.","body":"This does not look like JavaScript... Are you sure you are doing your homework using correct language? In any case make sure to read <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> guidance on providing code and search for similar questions for language you actually need to use."},{"owner":{"account_id":8913140,"reputation":23,"user_id":6652569,"accept_rate":50,"display_name":"lec"},"score":0,"creation_date":1484523633,"post_id":41667529,"comment_id":70533259,"body_markdown":"I am doing java project.I clicked javascript sorry &gt;_&lt; thanks","body":"I am doing java project.I clicked javascript sorry &gt;_&lt; thanks"}],"answers":[{"tags":[],"owner":{"account_id":8433338,"reputation":20078,"user_id":6328256,"display_name":"Sash Sinha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673960785,"creation_date":1484525164,"answer_id":41667759,"question_id":41667529,"body_markdown":" - Generally, name variable names in java using [camelCase][1] in most cases. \r\n - You don&#39;t actually need to catch any exception in your case as you can simply do `scanner.next()` if `scanner.hasNextInt()` is `false`. Prompting the user to enter specifically a number this time.\r\n\r\nTry the below code:\r\n\r\n    import java.util.Scanner;\r\n    import java.util.concurrent.ThreadLocalRandom;\r\n    \r\n    class Main {\r\n        private static final String GUESS_PROMPT_PATTERN = &quot;Please enter a guess between %d and %d inclusive: &quot;;\r\n        private static final String WIN_PROMPT_PATTERN = &quot;Well done! The secret number was %d. You took %d guesses.\\n&quot;;\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            int minimumGuess = 1, maximumGuess = 100;\r\n            int secretNumber = ThreadLocalRandom.current().nextInt(minimumGuess, maximumGuess + 1);\r\n            int guesses = 0;\r\n            String guessPrompt = String.format(GUESS_PROMPT_PATTERN, minimumGuess, maximumGuess);\r\n            System.out.println(&quot;Lec&#39;s Guessing Game&quot;);\r\n            System.out.println(&quot;====================&quot;);\r\n            System.out.print(guessPrompt);\r\n            while (scanner.hasNext()) {\r\n                if (scanner.hasNextInt()) {\r\n                    guesses++;\r\n                    int inputNum = scanner.nextInt();\r\n                    if (inputNum == secretNumber) {\r\n                        break;\r\n                    }\r\n                    // Input number too high or too low.\r\n                    if (inputNum &gt; maximumGuess || inputNum &lt; minimumGuess) {\r\n                        System.out.println(&quot;Out of Range!&quot;);\r\n                        scanner.nextLine();\r\n                        System.out.print(guessPrompt);\r\n                    }\r\n                    // Input number was less than the secret number.\r\n                    else if (inputNum &lt; secretNumber) {\r\n                        System.out.println(&quot;Too Low... Try Again!&quot;);\r\n                        System.out.print(guessPrompt);\r\n                    }\r\n                    // Input number was greater than the secret number.\r\n                    else {\r\n                        System.out.println(&quot;Too High... Try Again!&quot;);\r\n                        System.out.print(guessPrompt);\r\n                    }\r\n                } else {\r\n                    System.out.print(&quot;ERROR: Invalid Input&quot;);\r\n                    System.out.print(&quot;Please enter a number: &quot;);\r\n                    scanner.next();\r\n                }\r\n            }\r\n            System.out.printf(WIN_PROMPT_PATTERN, secretNumber, guesses);\r\n        }\r\n    }\r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Camel_case\r\n  [2]: https://repl.it/FKC1/2","title":"InputMismatchException for guess number","body":"<ul>\n<li>Generally, name variable names in java using <a href=\"https://en.wikipedia.org/wiki/Camel_case\" rel=\"nofollow noreferrer\">camelCase</a> in most cases.</li>\n<li>You don't actually need to catch any exception in your case as you can simply do <code>scanner.next()</code> if <code>scanner.hasNextInt()</code> is <code>false</code>. Prompting the user to enter specifically a number this time.</li>\n</ul>\n<p>Try the below code:</p>\n<pre><code>import java.util.Scanner;\nimport java.util.concurrent.ThreadLocalRandom;\n\nclass Main {\n    private static final String GUESS_PROMPT_PATTERN = &quot;Please enter a guess between %d and %d inclusive: &quot;;\n    private static final String WIN_PROMPT_PATTERN = &quot;Well done! The secret number was %d. You took %d guesses.\\n&quot;;\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        int minimumGuess = 1, maximumGuess = 100;\n        int secretNumber = ThreadLocalRandom.current().nextInt(minimumGuess, maximumGuess + 1);\n        int guesses = 0;\n        String guessPrompt = String.format(GUESS_PROMPT_PATTERN, minimumGuess, maximumGuess);\n        System.out.println(&quot;Lec's Guessing Game&quot;);\n        System.out.println(&quot;====================&quot;);\n        System.out.print(guessPrompt);\n        while (scanner.hasNext()) {\n            if (scanner.hasNextInt()) {\n                guesses++;\n                int inputNum = scanner.nextInt();\n                if (inputNum == secretNumber) {\n                    break;\n                }\n                // Input number too high or too low.\n                if (inputNum &gt; maximumGuess || inputNum &lt; minimumGuess) {\n                    System.out.println(&quot;Out of Range!&quot;);\n                    scanner.nextLine();\n                    System.out.print(guessPrompt);\n                }\n                // Input number was less than the secret number.\n                else if (inputNum &lt; secretNumber) {\n                    System.out.println(&quot;Too Low... Try Again!&quot;);\n                    System.out.print(guessPrompt);\n                }\n                // Input number was greater than the secret number.\n                else {\n                    System.out.println(&quot;Too High... Try Again!&quot;);\n                    System.out.print(guessPrompt);\n                }\n            } else {\n                System.out.print(&quot;ERROR: Invalid Input&quot;);\n                System.out.print(&quot;Please enter a number: &quot;);\n                scanner.next();\n            }\n        }\n        System.out.printf(WIN_PROMPT_PATTERN, secretNumber, guesses);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8913140,"reputation":23,"user_id":6652569,"accept_rate":50,"display_name":"lec"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1128,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":41667759,"answer_count":1,"score":2,"last_activity_date":1673960785,"creation_date":1484523071,"question_id":41667529,"body_markdown":"I am doing a guessing game where in I can input 1-100 but I am having a trouble in only accepting numbers if I typed a letter when I first run the program it will give me error and execute the program instantly [image here][1]but if ityped number after I start the program and type letter next it give me a wrong message it should only display message saying &quot;invalid input&quot;.[image here][2] Any suggestion thanks.\r\n\r\n      package m1;\r\n      import java.util.InputMismatchException;\r\n       import java.util.Scanner;\r\n\r\n\r\n      public class M1{\r\n\r\n  \r\n    public static void main(String[] args) {\r\n        \r\n        Scanner Scanner = new Scanner(System.in);\r\n\r\n        int between = 100;\r\n        int secretNumber = (int)(Math.random()*between);\r\n        int inputNum = 0;\r\n        int guesses = 0;\r\n\r\n        System.out.println(&quot;Please enter your guess: &quot;);\r\n        inputNum = Scanner.nextInt();\r\n        guesses++;\r\n\r\n        \r\n        while (inputNum != secretNumber) {  \r\n     \r\n            try {\r\n\r\n            // number too high or too low\r\n            if (inputNum &gt; 100 || inputNum &lt; 1) {\r\n                System.out.println(&quot;Out of Range!&quot;);\r\n                System.out.println(&quot;Enter a guess between 1 and &quot; + between + &quot;.&quot;);\r\n                inputNum = Scanner.nextInt();\r\n            }\r\n\r\n            // less than secretNumber\r\n            if (inputNum &lt; secretNumber) {\r\n                System.out.println(&quot;Too Low...Try Again!&quot;);\r\n                inputNum = Scanner.nextInt();\r\n                guesses++;\r\n            }\r\n\r\n            // greater than secretNumber\r\n          if (inputNum &gt; secretNumber) {\r\n            System.out.println(&quot;Too High...Try Again!&quot;);\r\n            inputNum = Scanner.nextInt();\r\n            guesses++;\r\n        }\r\n        }\r\n        catch(InputMismatchException e){\r\n            System.out.println(&quot;Invalid Input&quot;);\r\n            Scanner.next();\r\n\r\n        }\r\n        }\r\n\r\n\r\n        System.out.println(&quot;\\nWell done! The secret number was &quot; + secretNumber + &quot;.&quot; + &quot;\\nYou took &quot; + guesses +  &quot; guesses.&quot;);\r\n        }\r\n\r\n}\r\n   \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Mvauj.png\r\n  [2]: https://i.stack.imgur.com/Mb73P.png","title":"InputMismatchException for guess number","body":"<p>I am doing a guessing game where in I can input 1-100 but I am having a trouble in only accepting numbers if I typed a letter when I first run the program it will give me error and execute the program instantly <a href=\"https://i.stack.imgur.com/Mvauj.png\" rel=\"nofollow noreferrer\">image here</a>but if ityped number after I start the program and type letter next it give me a wrong message it should only display message saying \"invalid input\".<a href=\"https://i.stack.imgur.com/Mb73P.png\" rel=\"nofollow noreferrer\">image here</a> Any suggestion thanks.</p>\n\n<pre><code>  package m1;\n  import java.util.InputMismatchException;\n   import java.util.Scanner;\n\n\n  public class M1{\n\n\npublic static void main(String[] args) {\n\n    Scanner Scanner = new Scanner(System.in);\n\n    int between = 100;\n    int secretNumber = (int)(Math.random()*between);\n    int inputNum = 0;\n    int guesses = 0;\n\n    System.out.println(\"Please enter your guess: \");\n    inputNum = Scanner.nextInt();\n    guesses++;\n\n\n    while (inputNum != secretNumber) {  \n\n        try {\n\n        // number too high or too low\n        if (inputNum &gt; 100 || inputNum &lt; 1) {\n            System.out.println(\"Out of Range!\");\n            System.out.println(\"Enter a guess between 1 and \" + between + \".\");\n            inputNum = Scanner.nextInt();\n        }\n\n        // less than secretNumber\n        if (inputNum &lt; secretNumber) {\n            System.out.println(\"Too Low...Try Again!\");\n            inputNum = Scanner.nextInt();\n            guesses++;\n        }\n\n        // greater than secretNumber\n      if (inputNum &gt; secretNumber) {\n        System.out.println(\"Too High...Try Again!\");\n        inputNum = Scanner.nextInt();\n        guesses++;\n    }\n    }\n    catch(InputMismatchException e){\n        System.out.println(\"Invalid Input\");\n        Scanner.next();\n\n    }\n    }\n\n\n    System.out.println(\"\\nWell done! The secret number was \" + secretNumber + \".\" + \"\\nYou took \" + guesses +  \" guesses.\");\n    }\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":27552900,"reputation":11,"user_id":21027634,"display_name":"Frank Schnicke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673960270,"creation_date":1673960270,"answer_id":75146795,"question_id":75125825,"body_markdown":"BaSyx offers the possibility to directly utilize the ConnectedAssetAdministrationShell class for Submodel upload. Thus, you can retrieve the AAS from the ConnectedAASManager and upload the Submodel via .addSubmodel(). Afterwards, you can use the AASRegistryProxy to register the new Submodel with the Registry.","title":"BaSyx AAS SDK: Cannot find a way to both upload aas with submodels when using an external address for the aas repository","body":"<p>BaSyx offers the possibility to directly utilize the ConnectedAssetAdministrationShell class for Submodel upload. Thus, you can retrieve the AAS from the ConnectedAASManager and upload the Submodel via .addSubmodel(). Afterwards, you can use the AASRegistryProxy to register the new Submodel with the Registry.</p>\n"}],"owner":{"account_id":27382862,"reputation":61,"user_id":20887216,"display_name":"devledgers1357"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673960270,"creation_date":1673792957,"question_id":75125825,"body_markdown":"In order to prepare for a production deployment of the aas infrastructure including the AAS repository server and AAS registry, there must be a distinction between how these components communicate with each other and how they are accessed externally.\r\n\r\nWhen shells and submodels are registered at the aas registry then it is important that the external aas repository server url is inscribed there. When using the current BaSyx 1.3 I can not find a way to do that completely.\r\n\r\nThe AAS server repository supports the &quot;basyxaas_registry_host=${external_address}&quot; environment variable which I used to ensure that the server registers its stored submodels and shells at startup with the correct external address. I verified this through directly inspecting the MongoDB registry collection that I use for persistence. Adding a shell worked correctly when using the [AASAggregatorProxy](https://javadoc.io/doc/org.eclipse.basyx/basyx.sdk/latest/org/eclipse/basyx/aas/aggregator/proxy/AASAggregatorProxy.html) together with [AASRegistryProxy](https://javadoc.io/doc/org.eclipse.basyx/basyx.sdk/latest/org/eclipse/basyx/aas/registration/proxy/AASRegistryProxy.html).\r\n\r\n```java\r\npublic void uploadShell2(AASBundle bundle) {\r\n\tAASAggregatorProxy repo = getRepository();\r\n\tAASRegistryProxy registry = getRegistry();\r\n\tAssetAdministrationShell aas = (AssetAdministrationShell) bundle.getAAS();\r\n\trepo.createAAS(aas);\r\n\tAASDescriptor descr = new AASDescriptor(aas, config.repoExternal());\r\n\tregistry.register(descr);\r\n}\r\n```\r\n\r\nHowever AASAggregator Proxy doesn&#39;t allow to create or update submodels. There is also a [SubmodelAggregator](https://javadoc.io/static/org.eclipse.basyx/basyx.sdk/1.3.0/org/eclipse/basyx/submodel/aggregator/SubmodelAggregator.html) that would potentially provide the desired operations, but I can&#39;t find a way in the API docs that would allow me to connect it like the former two classes to a server.\r\n\r\nThere is also the [ConnectedAssetAdministrationShellManager](https://javadoc.io/doc/org.eclipse.basyx/basyx.sdk/latest/org/eclipse/basyx/aas/manager/ConnectedAssetAdministrationShellManager.html) and it uploads the submodels, but it only uses the internal address and there is no way to specify that it should register the entities with the external address ${external_address} I need to.\r\n\r\n```java\r\npublic ConnectedAssetAdministrationShellManager getConnection() {\r\n\tAASRegistryProxy registryProxy = getRegistry();\r\n\tConnectedAssetAdministrationShellManager caasm = new ConnectedAssetAdministrationShellManager(registryProxy);\r\n\treturn caasm;\r\n}\r\n\r\npublic void uploadShell(AASBundle bundle) {\r\n\tvar con = getConnection();\r\n\tAssetAdministrationShell aas = (AssetAdministrationShell) bundle.getAAS(); \r\n\tcon.createAAS(aas, config.repository());\r\n\tfor (var sm : bundle.getSubmodels()) {\r\n\t\tcon.createSubmodel(aas.getIdentification(), (Submodel) sm);\r\n\t}\r\n}\r\n```\r\n\r\nWhat I need would be one of these three options:\r\n1. The AASAggregatorProxy should also provide functionality to manage submodels\r\n2. There should be a similar class to AASAggregatorProxy but for submodels\r\n3. There should a possibility to tell ConnectedAssetAdministrationShellManager that registration should be done with another address than the address used to access the aas repository\r\n\r\nSo in code, when the aas repository is accessed with e.g. &quot;http://localhost:8081/aasServer&quot; it should register it with e.g. &quot;http://some-host:17081/aas&quot; and not with the internally used address.","title":"BaSyx AAS SDK: Cannot find a way to both upload aas with submodels when using an external address for the aas repository","body":"<p>In order to prepare for a production deployment of the aas infrastructure including the AAS repository server and AAS registry, there must be a distinction between how these components communicate with each other and how they are accessed externally.</p>\n<p>When shells and submodels are registered at the aas registry then it is important that the external aas repository server url is inscribed there. When using the current BaSyx 1.3 I can not find a way to do that completely.</p>\n<p>The AAS server repository supports the &quot;basyxaas_registry_host=${external_address}&quot; environment variable which I used to ensure that the server registers its stored submodels and shells at startup with the correct external address. I verified this through directly inspecting the MongoDB registry collection that I use for persistence. Adding a shell worked correctly when using the <a href=\"https://javadoc.io/doc/org.eclipse.basyx/basyx.sdk/latest/org/eclipse/basyx/aas/aggregator/proxy/AASAggregatorProxy.html\" rel=\"nofollow noreferrer\">AASAggregatorProxy</a> together with <a href=\"https://javadoc.io/doc/org.eclipse.basyx/basyx.sdk/latest/org/eclipse/basyx/aas/registration/proxy/AASRegistryProxy.html\" rel=\"nofollow noreferrer\">AASRegistryProxy</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void uploadShell2(AASBundle bundle) {\n    AASAggregatorProxy repo = getRepository();\n    AASRegistryProxy registry = getRegistry();\n    AssetAdministrationShell aas = (AssetAdministrationShell) bundle.getAAS();\n    repo.createAAS(aas);\n    AASDescriptor descr = new AASDescriptor(aas, config.repoExternal());\n    registry.register(descr);\n}\n</code></pre>\n<p>However AASAggregator Proxy doesn't allow to create or update submodels. There is also a <a href=\"https://javadoc.io/static/org.eclipse.basyx/basyx.sdk/1.3.0/org/eclipse/basyx/submodel/aggregator/SubmodelAggregator.html\" rel=\"nofollow noreferrer\">SubmodelAggregator</a> that would potentially provide the desired operations, but I can't find a way in the API docs that would allow me to connect it like the former two classes to a server.</p>\n<p>There is also the <a href=\"https://javadoc.io/doc/org.eclipse.basyx/basyx.sdk/latest/org/eclipse/basyx/aas/manager/ConnectedAssetAdministrationShellManager.html\" rel=\"nofollow noreferrer\">ConnectedAssetAdministrationShellManager</a> and it uploads the submodels, but it only uses the internal address and there is no way to specify that it should register the entities with the external address ${external_address} I need to.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ConnectedAssetAdministrationShellManager getConnection() {\n    AASRegistryProxy registryProxy = getRegistry();\n    ConnectedAssetAdministrationShellManager caasm = new ConnectedAssetAdministrationShellManager(registryProxy);\n    return caasm;\n}\n\npublic void uploadShell(AASBundle bundle) {\n    var con = getConnection();\n    AssetAdministrationShell aas = (AssetAdministrationShell) bundle.getAAS(); \n    con.createAAS(aas, config.repository());\n    for (var sm : bundle.getSubmodels()) {\n        con.createSubmodel(aas.getIdentification(), (Submodel) sm);\n    }\n}\n</code></pre>\n<p>What I need would be one of these three options:</p>\n<ol>\n<li>The AASAggregatorProxy should also provide functionality to manage submodels</li>\n<li>There should be a similar class to AASAggregatorProxy but for submodels</li>\n<li>There should a possibility to tell ConnectedAssetAdministrationShellManager that registration should be done with another address than the address used to access the aas repository</li>\n</ol>\n<p>So in code, when the aas repository is accessed with e.g. &quot;http://localhost:8081/aasServer&quot; it should register it with e.g. &quot;http://some-host:17081/aas&quot; and not with the internally used address.</p>\n"},{"tags":["java","rest-assured"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1652413285,"post_id":72223959,"comment_id":127605191,"body_markdown":"try with java 11. It seems RA haven&#39;t supported java18 yet.","body":"try with java 11. It seems RA haven&#39;t supported java18 yet."},{"owner":{"account_id":25269161,"reputation":76,"user_id":19098741,"display_name":"bhave7"},"score":0,"creation_date":1657599083,"post_id":72223959,"comment_id":128842696,"body_markdown":"@lucas-nguyen-17: I am running on open jdk 11.0.13 and still getting same error, any help please.\n.......\nopenjdk 11.0.13 2021-10-19\nOpenJDK Runtime Environment Temurin-11.0.13+8 (build 11.0.13+8)\nOpenJDK 64-Bit Server VM Temurin-11.0.13+8 (build 11.0.13+8, mixed mode)","body":"@lucas-nguyen-17: I am running on open jdk 11.0.13 and still getting same error, any help please. ....... openjdk 11.0.13 2021-10-19 OpenJDK Runtime Environment Temurin-11.0.13+8 (build 11.0.13+8) OpenJDK 64-Bit Server VM Temurin-11.0.13+8 (build 11.0.13+8, mixed mode)"}],"answers":[{"tags":[],"owner":{"account_id":27552872,"reputation":1,"user_id":21027611,"display_name":"mina morkos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673960230,"creation_date":1673960230,"answer_id":75146788,"question_id":72223959,"body_markdown":"I have faced a similar issue, and I have solved it by updating the dependency of restassured to 4.5.1","title":"&quot;java.lang.ExceptionInInitializerError&quot; error in RestAssured post request with body","body":"<p>I have faced a similar issue, and I have solved it by updating the dependency of restassured to 4.5.1</p>\n"}],"owner":{"account_id":1419419,"reputation":69,"user_id":1344367,"accept_rate":0,"display_name":"ramki067"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":916,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673960230,"creation_date":1652410252,"question_id":72223959,"body_markdown":"I&#39;m using restassured library and at the below line i&#39;m getting `&quot;java.lang.ExceptionInInitializerError&quot;` error caused by `&quot;Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make private java.lang.Class(java.lang.ClassLoader,java.lang.Class) accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @36f6e879&quot;` The baseURI is a http link and token_Body \r\n is alphanumeric string. I&quot;m not sure what exactly is the issue. My java -version yields \r\n\r\n    &quot;java version &quot;18.0.1.1&quot; 2022-04-22\r\n    Java(TM) SE Runtime Environment (build 18.0.1.1+2-6)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 18.0.1.1+2-6, mixed mode, sharing)&quot;\r\n\r\nCode:\r\n              \r\n    String bearerToken = given(). with().\r\n    \t\t\t  header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;). body(token_Body).\r\n    \t\t\t  when(). post(baseURI). then(). extract().asString();","title":"&quot;java.lang.ExceptionInInitializerError&quot; error in RestAssured post request with body","body":"<p>I'm using restassured library and at the below line i'm getting <code>&quot;java.lang.ExceptionInInitializerError&quot;</code> error caused by <code>&quot;Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make private java.lang.Class(java.lang.ClassLoader,java.lang.Class) accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @36f6e879&quot;</code> The baseURI is a http link and token_Body\nis alphanumeric string. I&quot;m not sure what exactly is the issue. My java -version yields</p>\n<pre><code>&quot;java version &quot;18.0.1.1&quot; 2022-04-22\nJava(TM) SE Runtime Environment (build 18.0.1.1+2-6)\nJava HotSpot(TM) 64-Bit Server VM (build 18.0.1.1+2-6, mixed mode, sharing)&quot;\n</code></pre>\n<p>Code:</p>\n<pre><code>String bearerToken = given(). with().\n              header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;). body(token_Body).\n              when(). post(baseURI). then(). extract().asString();\n</code></pre>\n"},{"tags":["java","android","android-studio","kotlin","android-recyclerview"],"comments":[{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":0,"creation_date":1660285309,"post_id":73329892,"comment_id":129500769,"body_markdown":"Use layoutmanager scrollToPosition","body":"Use layoutmanager scrollToPosition"}],"answers":[{"tags":[],"owner":{"account_id":16904606,"reputation":561,"user_id":12225165,"display_name":"Jaydeep parmar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665820503,"creation_date":1660285262,"answer_id":73329971,"question_id":73329892,"body_markdown":"If you are looking for how to scroll to that 10th and 30th item then below solution is for you.\r\n\r\n    recyclerView.getLayoutManager().scrollToPosition(position)\r\n\r\nHere `position` is, in which position you want to scroll.\r\n\r\nFor **highlight** that item you can change **text format like** **bold** or **color** of that item of recycler view.\r\n","title":"how to focus a specific item in recycler view?","body":"<p>If you are looking for how to scroll to that 10th and 30th item then below solution is for you.</p>\n<pre><code>recyclerView.getLayoutManager().scrollToPosition(position)\n</code></pre>\n<p>Here <code>position</code> is, in which position you want to scroll.</p>\n<p>For <strong>highlight</strong> that item you can change <strong>text format like</strong> <strong>bold</strong> or <strong>color</strong> of that item of recycler view.</p>\n"},{"tags":[],"owner":{"account_id":2624262,"reputation":1566,"user_id":2271651,"display_name":"sergpetrov"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1660286362,"creation_date":1660286362,"answer_id":73330142,"question_id":73329892,"body_markdown":"You can use the RecyclerView directly for that.\r\n\r\nScroll to item: \r\n\r\n - with animation\r\n```\r\nrecyclerView.smoothScrollToPosition(itemPosition)\r\n```\r\n - without animation\r\n```\r\nrecyclerView.scrollToPosition(itemPosition)\r\n```","title":"how to focus a specific item in recycler view?","body":"<p>You can use the RecyclerView directly for that.</p>\n<p>Scroll to item:</p>\n<ul>\n<li>with animation</li>\n</ul>\n<pre><code>recyclerView.smoothScrollToPosition(itemPosition)\n</code></pre>\n<ul>\n<li>without animation</li>\n</ul>\n<pre><code>recyclerView.scrollToPosition(itemPosition)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12518217,"reputation":649,"user_id":9110576,"display_name":"Haseeb Hassan Asif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660324853,"creation_date":1660324853,"answer_id":73337758,"question_id":73329892,"body_markdown":"If you want to highlight a certain items, then pass another arraylist containing ids to be highlighted to your adapter. And create a function usually through an interface that updates that list and reloads all the items in a different manner. and for scroll use ```smoothScrollToPosition(position)```.","title":"how to focus a specific item in recycler view?","body":"<p>If you want to highlight a certain items, then pass another arraylist containing ids to be highlighted to your adapter. And create a function usually through an interface that updates that list and reloads all the items in a different manner. and for scroll use <code>smoothScrollToPosition(position)</code>.</p>\n"},{"tags":[],"owner":{"account_id":8835635,"reputation":1014,"user_id":6600056,"display_name":"Rob "},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673959927,"creation_date":1673959927,"answer_id":75146716,"question_id":73329892,"body_markdown":"    val itemPositionToFocus = 0 // for example the first item\r\n    val viewHolder = mRecyclerView.findViewHolderForLayoutPosition(itemPositionToFocus)\r\n    viewHolder.itemView.requestFocus()","title":"how to focus a specific item in recycler view?","body":"<pre><code>val itemPositionToFocus = 0 // for example the first item\nval viewHolder = mRecyclerView.findViewHolderForLayoutPosition(itemPositionToFocus)\nviewHolder.itemView.requestFocus()\n</code></pre>\n"}],"owner":{"account_id":24755491,"reputation":21,"user_id":18640466,"display_name":"syed kashifullah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1612,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1673959927,"creation_date":1660284777,"question_id":73329892,"body_markdown":"I have 50 items in my recycler view. I want to focus or show specific item like when I click on button 1 it will focus items 10, and when I click on button 2 it will show/focus on items 30 and so on.","title":"how to focus a specific item in recycler view?","body":"<p>I have 50 items in my recycler view. I want to focus or show specific item like when I click on button 1 it will focus items 10, and when I click on button 2 it will show/focus on items 30 and so on.</p>\n"},{"tags":["java","spring-boot","hibernate","firebird","notnull"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1673959063,"post_id":75139653,"comment_id":132608429,"body_markdown":"The error suggests you&#39;re trying to insert a `NULL` into a `NOT NULL` column.","body":"The error suggests you&#39;re trying to insert a <code>NULL</code> into a <code>NOT NULL</code> column."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1673959447,"post_id":75139653,"comment_id":132608557,"body_markdown":"In any case, the dependencies you list are entirely incompatible. You cannot use Hibernate 6 with Spring Boot 2.6.2, and that you depend on `hibernate-community-dialects` version 6.0.0.Alpha9 makes no sense, because Hibernate 5.6.3.Final which Spring Boot 2.6.2 depends on includes the Firebird dialect as class `org.hibernate.dialect.FirebirdDialect`. Cleanup your dependencies and use compatible versions. (e.g. Spring Boot 2.6.2 is pretty old, the latest 2.6 is 2.6.14, or switch to 2.7.7, or switch to Spring Boot 3 if you want to use Hibernate 6).","body":"In any case, the dependencies you list are entirely incompatible. You cannot use Hibernate 6 with Spring Boot 2.6.2, and that you depend on <code>hibernate-community-dialects</code> version 6.0.0.Alpha9 makes no sense, because Hibernate 5.6.3.Final which Spring Boot 2.6.2 depends on includes the Firebird dialect as class <code>org.hibernate.dialect.FirebirdDialect</code>. Cleanup your dependencies and use compatible versions. (e.g. Spring Boot 2.6.2 is pretty old, the latest 2.6 is 2.6.14, or switch to 2.7.7, or switch to Spring Boot 3 if you want to use Hibernate 6)."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1673959496,"post_id":75139653,"comment_id":132608575,"body_markdown":"Also, I strongly recommend that you use the latest Jaybird (5.0.0, or otherwise 4.0.8, the Jaybird version is **unrelated** to the Firebird version!). And as I mentioned in a different question of yours, given you don&#39;t use a native connection URL (e.g. `jdbc:firebirdsql:native:....`, you don&#39;t need to have JNA 5.5.0 as a dependency.","body":"Also, I strongly recommend that you use the latest Jaybird (5.0.0, or otherwise 4.0.8, the Jaybird version is <b>unrelated</b> to the Firebird version!). And as I mentioned in a different question of yours, given you don&#39;t use a native connection URL (e.g. <code>jdbc:firebirdsql:native:....</code>, you don&#39;t need to have JNA 5.5.0 as a dependency."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1673959688,"post_id":75139653,"comment_id":132608652,"body_markdown":"In any case the actual problem is that `UserServiceImpl.saveUser` does not set the `CPF` field of the `User` instance, it only sets `name`, `email`, `password` and `roles`, so when you then try to store to the DB, `CPF` is `null`, which triggers the `NOT NULL` constraint.","body":"In any case the actual problem is that <code>UserServiceImpl.saveUser</code> does not set the <code>CPF</code> field of the <code>User</code> instance, it only sets <code>name</code>, <code>email</code>, <code>password</code> and <code>roles</code>, so when you then try to store to the DB, <code>CPF</code> is <code>null</code>, which triggers the <code>NOT NULL</code> constraint."},{"owner":{"account_id":26460747,"reputation":63,"user_id":20114912,"display_name":"Paulo Cesar Pereira da costa"},"score":0,"creation_date":1674064244,"post_id":75139653,"comment_id":132637114,"body_markdown":"Your change suggestions were perfect for my problem! Thank you very much!!!","body":"Your change suggestions were perfect for my problem! Thank you very much!!!"}],"owner":{"account_id":26460747,"reputation":63,"user_id":20114912,"display_name":"Paulo Cesar Pereira da costa"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":258,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1673959876,"creation_date":1673902888,"question_id":75139653,"body_markdown":"I&#39;m getting a null value even filling the field and passing the correct parameters, but something is not coming out right,\r\nlook at this login page image filled in correctly\r\n   https://uploaddeimagens.com.br/imagens/P6b20Tg\r\n\r\n**SpringSecurity**\r\n\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.security.web.SecurityFilterChain;\r\n    import org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SpringSecurity {\r\n    \r\n        @Autowired\r\n        private UserDetailsService userDetailsService;\r\n    \r\n        @Bean\r\n        public static PasswordEncoder passwordEncoder(){\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n            http.csrf().disable()\r\n                    .authorizeRequests((authorize)-&gt; authorize\r\n                            .antMatchers(&quot;/register/**&quot;).permitAll()\r\n                            .antMatchers(&quot;/index&quot;).permitAll()\r\n                            .antMatchers(&quot;/users&quot;).hasRole(&quot;ADMIN&quot;)\r\n                            .anyRequest().authenticated()\r\n                            .and()\r\n                    ).formLogin(\r\n                            form -&gt; form\r\n                                    .loginPage(&quot;/login&quot;)\r\n                                    .loginProcessingUrl(&quot;/login&quot;)\r\n                                    .defaultSuccessUrl(&quot;/users&quot;)\r\n                                    .permitAll()\r\n                    ).logout(\r\n                            logout -&gt; logout\r\n                                    .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\r\n                                    .permitAll()\r\n                    );\r\n            return http.build();\r\n        }\r\n    \r\n    \r\n    \r\n        @Autowired\r\n        public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth\r\n                    .userDetailsService(userDetailsService)\r\n                    .passwordEncoder(passwordEncoder());\r\n        }\r\n    }\r\n\r\n**AuthController**\r\n\r\n    package com.xxxxxxxxxxxxxxxxxxxxxxxxxx.controller;\r\n    \r\n    import com.xxxxxxxxxxxxxxxxxxxxxxxxxx.dto.UserDto;\r\n    import com.xxxxxxxxxxxxxxxxxxxxxxxxxx.entity.User;\r\n    import com.xxxxxxxxxxxxxxxxxxxxxxxxxx.service.UserService;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.validation.BindingResult;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.ModelAttribute;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    \r\n    import javax.validation.Valid;\r\n    import java.util.List;\r\n    \r\n    @Controller\r\n    \r\n    public class AuthController {\r\n    \r\n        private UserService userService;\r\n    \r\n        public AuthController(UserService userService) {\r\n            this.userService = userService;\r\n        }\r\n    \r\n        @GetMapping(&quot;index&quot;)\r\n        public String home(){\r\n            return &quot;index&quot;;\r\n        }\r\n    \r\n        @GetMapping(&quot;/login&quot;)\r\n        public String loginForm() {\r\n            return &quot;login&quot;;\r\n        }\r\n    \r\n        // m&#233;todo handler para lidar com a solicita&#231;&#227;o de registro do usu&#225;rio\r\n        @GetMapping(&quot;register&quot;)\r\n        public String showRegistrationForm(Model model){\r\n            UserDto user = new UserDto();\r\n            model.addAttribute(&quot;user&quot;, user);\r\n            return &quot;register&quot;;\r\n        }\r\n    \r\n        // m&#233;todo manipulador para lidar com a solicita&#231;&#227;o de envio do formul&#225;rio de registro do usu&#225;rio\r\n        @PostMapping(&quot;/register/save&quot;)\r\n        public String registration(@Valid @ModelAttribute(&quot;user&quot;) UserDto user,\r\n                                   BindingResult result,\r\n                                   Model model){\r\n            User existing = userService.findByEmail(user.getEmail());\r\n            if (existing != null) {\r\n                result.rejectValue(&quot;email&quot;, null, &quot;J&#225; existe uma conta cadastrada com esse e-mail&quot;);\r\n            }\r\n            if (result.hasErrors()) {\r\n                model.addAttribute(&quot;user&quot;, user);\r\n                return &quot;register&quot;;\r\n            }\r\n            userService.saveUser(user);\r\n            return &quot;redirect:/register?success&quot;;\r\n        }\r\n    \r\n        @GetMapping(&quot;/users&quot;)\r\n        public String listRegisteredUsers(Model model){\r\n            List&lt;UserDto&gt; users = userService.findAllUsers();\r\n            model.addAttribute(&quot;users&quot;, users);\r\n            return &quot;users&quot;;\r\n        }\r\n    }\r\n\r\n**UserDto**\r\n\r\n    package com.xxxxxxxxxxxxxxxxxxxxxxxxxxxxx.dto;\r\n    \r\n    \r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    \r\n    import javax.validation.constraints.Email;\r\n    import javax.validation.constraints.NotEmpty;\r\n    \r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class UserDto\r\n    {\r\n        private Long id;\r\n        @NotEmpty\r\n        private String Name;\r\n        @NotEmpty\r\n        private String CPF;\r\n        @NotEmpty(message = &quot;O CPF n&#227;o deve estar vazio&quot;)\r\n        @Email\r\n        private String email;\r\n        @NotEmpty(message = &quot;A senha n&#227;o deve estar vazia&quot;)\r\n        private String password;\r\n    }\r\n\r\n**Role**\r\n\r\n    package com.xxxxxxxxxxxxxxxxxxxxxxx.entity;\r\n    \r\n    \r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    \r\n    import javax.persistence.*;\r\n    import java.util.List;\r\n    \r\n    @Setter\r\n    @Getter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Entity\r\n    @Table(name=&quot;roles&quot;)\r\n    public class Role\r\n    {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @Column(nullable=false, unique=true)\r\n        private String name;\r\n    \r\n        @ManyToMany(mappedBy=&quot;roles&quot;)\r\n        private List&lt;User&gt; users;\r\n    }\r\n\r\n**User**\r\n\r\n    package com.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx.entity;\r\n    \r\n    \r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    \r\n    import javax.persistence.*;\r\n    import javax.validation.constraints.NotNull;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Entity\r\n    @Table(name=&quot;users&quot;)\r\n    public class User\r\n    {\r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;Nome&quot; ,nullable=false)\r\n        private String name;\r\n    \r\n        @Column(nullable = false)\r\n        private String CPF;\r\n    \r\n        @Column(nullable=false, unique=true)\r\n        private String email;\r\n    \r\n        @Column(nullable=false)\r\n        private String password;\r\n    \r\n        @ManyToMany(fetch = FetchType.EAGER, cascade=CascadeType.ALL)\r\n        @JoinTable(\r\n                name=&quot;users_roles&quot;,\r\n                joinColumns={@JoinColumn(name=&quot;USER_ID&quot;, referencedColumnName=&quot;ID&quot;)},\r\n                inverseJoinColumns={@JoinColumn(name=&quot;ROLE_ID&quot;, referencedColumnName=&quot;ID&quot;)})\r\n        private List&lt;Role&gt; roles = new ArrayList&lt;&gt;();\r\n    \r\n    }\r\n\r\n**RoleRepository**\r\n\r\n    package com.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx.repository;\r\n    \r\n    \r\n    import com.xxxxxxxxxxxxxxxxxxxxxxxxx.entity.Role;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    \r\n    public interface RoleRepository extends JpaRepository&lt;Role, Long&gt; {\r\n    \r\n        Role findByName(String name);\r\n    }\r\n\r\n**UserRepository**\r\n\r\n    package com.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx.repository;\r\n    \r\n    \r\n    import com.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx.entity.User;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    \r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n    \r\n        User findByEmail(String email);\r\n    \r\n    }\r\n\r\n\r\n**CustomUserDetailsService**\r\n\r\n    package com.xxxxxxxxxxxxxxxxxxxxxxxxxxxx.service;\r\n    \r\n    import com.xxxxxxxxxxxxxxxxxxxxxxxxxxxxx.entity.Role;\r\n    import com.xxxxxxxxxxxxxxxxxxxxxxxxxxxxx.entity.User;\r\n    import com.xxxxxxxxxxxxxxxxxxxxxxxxxxxxx.repository.UserRepository;\r\n    \r\n    import org.springframework.security.core.GrantedAuthority;\r\n    import org.springframework.security.core.authority.SimpleGrantedAuthority;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.core.userdetails.UsernameNotFoundException;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.Collection;\r\n    import java.util.stream.Collectors;\r\n    \r\n    @Service\r\n    public class CustomUserDetailsService implements UserDetailsService {\r\n    \r\n        private UserRepository userRepository;\r\n    \r\n        public CustomUserDetailsService(UserRepository userRepository) {\r\n            this.userRepository = userRepository;\r\n        }\r\n    \r\n        @Override\r\n        public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\r\n            User user = userRepository.findByEmail(email);\r\n    \r\n            if (user != null) {\r\n                return new org.springframework.security.core.userdetails.User(user.getEmail(),\r\n                        user.getPassword(),\r\n                        mapRolesToAuthorities(user.getRoles()));\r\n            }else{\r\n                throw new UsernameNotFoundException(&quot;Invalid username or password.&quot;);\r\n            }\r\n        }\r\n    \r\n        private Collection &lt; ? extends GrantedAuthority&gt; mapRolesToAuthorities(Collection &lt;Role&gt; roles) {\r\n            Collection &lt; ? extends GrantedAuthority&gt; mapRoles = roles.stream()\r\n                    .map(role -&gt; new SimpleGrantedAuthority(role.getName()))\r\n                    .collect(Collectors.toList());\r\n            return mapRoles;\r\n        }\r\n    }\r\n\r\n**UserServiceImpl**\r\n\r\n    package com.xxxxxxxxxxxxxxxxxxxxxxxxxx.service.impl;\r\n    \r\n    \r\n    \r\n    import com.xxxxxxxxxxxxxxxxxxxxxxxxxx.dto.UserDto;\r\n    import com.xxxxxxxxxxxxxxxxxxxxxxxxxx.entity.Role;\r\n    import com.xxxxxxxxxxxxxxxxxxxxxxxxxx.entity.User;\r\n    import com.xxxxxxxxxxxxxxxxxxxxxxxxxx.repository.RoleRepository;\r\n    import com.xxxxxxxxxxxxxxxxxxxxxxxxxx.repository.UserRepository;\r\n    import com.xxxxxxxxxxxxxxxxxxxxxxxxxx.service.UserService;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    @Service\r\n    public class UserServiceImpl implements UserService {\r\n    \r\n        private UserRepository userRepository;\r\n        private RoleRepository roleRepository;\r\n        private PasswordEncoder passwordEncoder;\r\n    \r\n        public UserServiceImpl(UserRepository userRepository,\r\n                               RoleRepository roleRepository,\r\n                               PasswordEncoder passwordEncoder) {\r\n            this.userRepository = userRepository;\r\n            this.roleRepository = roleRepository;\r\n            this.passwordEncoder = passwordEncoder;\r\n        }\r\n    \r\n        @Override\r\n        public void saveUser(UserDto userDto) {\r\n            User user = new User();\r\n            user.setName(userDto.getName() + &quot; &quot; + userDto.getCPF());\r\n            user.setEmail(userDto.getEmail());\r\n            // criptografar a senha usando o spring security\r\n            user.setPassword(passwordEncoder.encode(userDto.getPassword()));\r\n    \r\n            Role role = roleRepository.findByName(&quot;ROLE_ADMIN&quot;);\r\n            if(role == null){\r\n                role = checkRoleExist();\r\n            }\r\n            user.setRoles(Arrays.asList(role));\r\n            userRepository.save(user);\r\n        }\r\n    \r\n        @Override\r\n        public User findUserByEmail(String email) {\r\n            return userRepository.findByEmail(email);\r\n        }\r\n    \r\n        @Override\r\n        public User findByEmail(String email) {\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;UserDto&gt; findAllUsers() {\r\n            List&lt;User&gt; users = userRepository.findAll();\r\n            return users.stream()\r\n                    .map((user) -&gt; mapToUserDto(user))\r\n                    .collect(Collectors.toList());\r\n        }\r\n    \r\n        private UserDto mapToUserDto(User user){\r\n            UserDto userDto = new UserDto();\r\n            String[] str = user.getName().split(&quot; &quot;);\r\n            userDto.setName(str[0]);\r\n            userDto.setCPF(str[1]);\r\n            userDto.setEmail(user.getEmail());\r\n            return userDto;\r\n        }\r\n    \r\n        private Role checkRoleExist(){\r\n            Role role = new Role();\r\n            role.setName(&quot;ROLE_ADMIN&quot;);\r\n            return roleRepository.save(role);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n**register.html**\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot;\r\n          xmlns:th=&quot;http://www.thymeleaf.org&quot;\r\n    &gt;\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;title&gt;Registration and Login System&lt;/title&gt;\r\n        &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css&quot;\r\n              rel=&quot;stylesheet&quot;\r\n              integrity=&quot;sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC&quot;\r\n              crossorigin=&quot;anonymous&quot;&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;nav class=&quot;navbar navbar-expand-lg navbar-dark bg-dark&quot;&gt;\r\n        &lt;div class=&quot;container-fluid&quot;&gt;\r\n            &lt;a class=&quot;navbar-brand&quot; th:href=&quot;@{/index}&quot;&gt;Registration and Login System&lt;/a&gt;\r\n            &lt;button class=&quot;navbar-toggler&quot; type=&quot;button&quot; data-bs-toggle=&quot;collapse&quot; data-bs-target=&quot;#navbarSupportedContent&quot; aria-controls=&quot;navbarSupportedContent&quot; aria-expanded=&quot;false&quot; aria-label=&quot;Toggle navigation&quot;&gt;\r\n                &lt;span class=&quot;navbar-toggler-icon&quot;&gt;&lt;/span&gt;\r\n            &lt;/button&gt;\r\n            &lt;div class=&quot;collapse navbar-collapse&quot; id=&quot;navbarSupportedContent&quot;&gt;\r\n                &lt;ul class=&quot;navbar-nav me-auto mb-2 mb-lg-0&quot;&gt;\r\n                    &lt;li class=&quot;nav-item&quot;&gt;\r\n                        &lt;a class=&quot;nav-link active&quot; aria-current=&quot;page&quot; th:href=&quot;@{/login}&quot;&gt;Login&lt;/a&gt;\r\n                    &lt;/li&gt;\r\n                &lt;/ul&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/nav&gt;\r\n    &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;\r\n    &lt;div class=&quot;container&quot;&gt;\r\n        &lt;div class=&quot;row col-md-8 offset-md-2&quot;&gt;\r\n            &lt;div class=&quot;card&quot;&gt;\r\n                &lt;div class=&quot;card-header&quot;&gt;\r\n                    &lt;h2 class=&quot;text-center&quot;&gt;Registration&lt;/h2&gt;\r\n                &lt;/div&gt;\r\n                &lt;div th:if=&quot;${param.success}&quot;&gt;\r\n                    &lt;div class=&quot;alert alert-info&quot;&gt;\r\n                        You have successfully registered our app!\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;card-body&quot;&gt;\r\n                    &lt;form\r\n                            method=&quot;post&quot;\r\n                            role=&quot;form&quot;\r\n                            th:action=&quot;@{/register/save}&quot;\r\n                            th:object=&quot;${user}&quot;\r\n                    &gt;\r\n                        &lt;div class=&quot;form-group mb-3&quot;&gt;\r\n                            &lt;label class=&quot;form-label&quot;&gt;First Name&lt;/label&gt;\r\n                            &lt;input\r\n                                    class=&quot;form-control&quot;\r\n                                    id=&quot;Name&quot;\r\n                                    name=&quot;Name&quot;\r\n                                    placeholder=&quot;Enter first name&quot;\r\n                                    th:field=&quot;*{Name}&quot;\r\n                                    type=&quot;text&quot;\r\n                            /&gt;\r\n                            &lt;p th:errors = &quot;*{Name}&quot; class=&quot;text-danger&quot;\r\n                               th:if=&quot;${#fields.hasErrors(&#39;Name&#39;)}&quot;&gt;&lt;/p&gt;\r\n                        &lt;/div&gt;\r\n    \r\n                        &lt;div class=&quot;form-group mb-3&quot;&gt;\r\n                            &lt;label class=&quot;form-label&quot;&gt;CPF&lt;/label&gt;\r\n                            &lt;input\r\n                                    class=&quot;form-control&quot;\r\n                                    id=&quot;CPF&quot;\r\n                                    name=&quot;CPF&quot;\r\n                                    placeholder=&quot;CPF&quot;\r\n                                    th:field=&quot;*{CPF}&quot;\r\n                                    type=&quot;text&quot;\r\n                            /&gt;\r\n                            &lt;p th:errors = &quot;*{CPF}&quot; class=&quot;text-danger&quot;\r\n                               th:if=&quot;${#fields.hasErrors(&#39;CPF&#39;)}&quot;&gt;&lt;/p&gt;\r\n                        &lt;/div&gt;\r\n    \r\n                        &lt;div class=&quot;form-group mb-3&quot;&gt;\r\n                            &lt;label class=&quot;form-label&quot;&gt;Email&lt;/label&gt;\r\n                            &lt;input\r\n                                    class=&quot;form-control&quot;\r\n                                    id=&quot;email&quot;\r\n                                    name=&quot;email&quot;\r\n                                    placeholder=&quot;Enter email address&quot;\r\n                                    th:field=&quot;*{email}&quot;\r\n                                    type=&quot;email&quot;\r\n                            /&gt;\r\n                            &lt;p th:errors = &quot;*{email}&quot; class=&quot;text-danger&quot;\r\n                               th:if=&quot;${#fields.hasErrors(&#39;email&#39;)}&quot;&gt;&lt;/p&gt;\r\n                        &lt;/div&gt;\r\n    \r\n                        &lt;div class=&quot;form-group mb-3&quot;&gt;\r\n                            &lt;label class=&quot;form-label&quot;&gt;Password&lt;/label&gt;\r\n                            &lt;input\r\n                                    class=&quot;form-control&quot;\r\n                                    id=&quot;password&quot;\r\n                                    name=&quot;password&quot;\r\n                                    placeholder=&quot;Enter password&quot;\r\n                                    th:field=&quot;*{password}&quot;\r\n                                    type=&quot;password&quot;\r\n                            /&gt;\r\n                            &lt;p th:errors = &quot;*{password}&quot; class=&quot;text-danger&quot;\r\n                               th:if=&quot;${#fields.hasErrors(&#39;password&#39;)}&quot;&gt;&lt;/p&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;div class=&quot;form-group&quot;&gt;\r\n                            &lt;button class=&quot;btn btn-primary&quot; type=&quot;submit&quot;&gt;Register&lt;/button&gt;\r\n                            &lt;span&gt;Already registered? &lt;a th:href=&quot;@{/login}&quot;&gt;Login here&lt;/a&gt;&lt;/span&gt;\r\n                        &lt;/div&gt;\r\n                    &lt;/form&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\n\r\n\r\n**application.properties**\r\n\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    #logging.level.org.springframework=DEBUG\r\n\r\n**application.yml**\r\n\r\n    spring:\r\n      datasource:\r\n        driver-class-name: org.firebirdsql.jdbc.FBDriver\r\n        url: jdbc:firebirdsql:localhost/3050:C:/DB/usuarios.FDB?sql_dialect=3&amp;charSet=utf-8\r\n        username: SYSDBA\r\n        password: masterkey\r\n        hikari:\r\n          connection-timeout: 1000\r\n          login-timeout: 1000\r\n          minimum-idle: 10\r\n    \r\n      jpa:\r\n        database-platform: org.hibernate.community.dialect.FirebirdDialect\r\n        hibernate:\r\n          ddl-auto: validate\r\n\r\n**spom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.2&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.xxxxxxx&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;xxxxxxxxxxx&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;DashBoardBackend&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t\t&lt;squiggly.version&gt;1.3.18&lt;/squiggly.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.firebirdsql.jdbc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaybird-jdk17&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.10&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jna&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.5.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-community-dialects&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.0.0.Alpha9&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.github.bohnman&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;squiggly-filter-jackson&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3.18&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\r\n                &lt;artifactId&gt;byte-buddy-agent&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n**Logback**\r\n\r\n    2023-01-16 17:27:20.533  WARN 9548 --- [nio-8080-exec-8] o.a.c.util.SessionIdGeneratorBase        : Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [154] milliseconds.\r\n    2023-01-16 17:27:38.328  WARN 9548 --- [nio-8080-exec-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 335544347, SQLState: 23000\r\n    2023-01-16 17:27:38.328 ERROR 9548 --- [nio-8080-exec-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : validation error for column &quot;USERS&quot;.&quot;CPF&quot;, value &quot;*** null ***&quot; [SQLState:23000, ISC error code:335544347]\r\n    2023-01-16 17:27:38.334  WARN 9548 --- [nio-8080-exec-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: null\r\n    2023-01-16 17:27:38.334  WARN 9548 --- [nio-8080-exec-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : Connection.isValid does not support non-zero timeouts, timeout value 5 has been ignored\r\n    2023-01-16 17:27:38.336 ERROR 9548 --- [nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement] with root cause\r\n    \r\n    org.firebirdsql.jdbc.FBSQLExceptionInfo: validation error for column &quot;USERS&quot;.&quot;CPF&quot;, value &quot;*** null ***&quot;\r\n\r\n\r\n","title":"org.firebirdsql.jdbc.FBSQLExceptionInfo: validation error for column &quot;USERS&quot;.&quot;CPF&quot;, value &quot;*** null ***&quot;","body":"<p>I'm getting a null value even filling the field and passing the correct parameters, but something is not coming out right,\nlook at this login page image filled in correctly\n<a href=\"https://uploaddeimagens.com.br/imagens/P6b20Tg\" rel=\"nofollow noreferrer\">https://uploaddeimagens.com.br/imagens/P6b20Tg</a></p>\n<p><strong>SpringSecurity</strong></p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\n\n@Configuration\n@EnableWebSecurity\npublic class SpringSecurity {\n\n    @Autowired\n    private UserDetailsService userDetailsService;\n\n    @Bean\n    public static PasswordEncoder passwordEncoder(){\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.csrf().disable()\n                .authorizeRequests((authorize)-&gt; authorize\n                        .antMatchers(&quot;/register/**&quot;).permitAll()\n                        .antMatchers(&quot;/index&quot;).permitAll()\n                        .antMatchers(&quot;/users&quot;).hasRole(&quot;ADMIN&quot;)\n                        .anyRequest().authenticated()\n                        .and()\n                ).formLogin(\n                        form -&gt; form\n                                .loginPage(&quot;/login&quot;)\n                                .loginProcessingUrl(&quot;/login&quot;)\n                                .defaultSuccessUrl(&quot;/users&quot;)\n                                .permitAll()\n                ).logout(\n                        logout -&gt; logout\n                                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\n                                .permitAll()\n                );\n        return http.build();\n    }\n\n\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        auth\n                .userDetailsService(userDetailsService)\n                .passwordEncoder(passwordEncoder());\n    }\n}\n</code></pre>\n<p><strong>AuthController</strong></p>\n<pre><code>package com.xxxxxxxxxxxxxxxxxxxxxxxxxx.controller;\n\nimport com.xxxxxxxxxxxxxxxxxxxxxxxxxx.dto.UserDto;\nimport com.xxxxxxxxxxxxxxxxxxxxxxxxxx.entity.User;\nimport com.xxxxxxxxxxxxxxxxxxxxxxxxxx.service.UserService;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.validation.BindingResult;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.PostMapping;\n\nimport javax.validation.Valid;\nimport java.util.List;\n\n@Controller\n\npublic class AuthController {\n\n    private UserService userService;\n\n    public AuthController(UserService userService) {\n        this.userService = userService;\n    }\n\n    @GetMapping(&quot;index&quot;)\n    public String home(){\n        return &quot;index&quot;;\n    }\n\n    @GetMapping(&quot;/login&quot;)\n    public String loginForm() {\n        return &quot;login&quot;;\n    }\n\n    // método handler para lidar com a solicitação de registro do usuário\n    @GetMapping(&quot;register&quot;)\n    public String showRegistrationForm(Model model){\n        UserDto user = new UserDto();\n        model.addAttribute(&quot;user&quot;, user);\n        return &quot;register&quot;;\n    }\n\n    // método manipulador para lidar com a solicitação de envio do formulário de registro do usuário\n    @PostMapping(&quot;/register/save&quot;)\n    public String registration(@Valid @ModelAttribute(&quot;user&quot;) UserDto user,\n                               BindingResult result,\n                               Model model){\n        User existing = userService.findByEmail(user.getEmail());\n        if (existing != null) {\n            result.rejectValue(&quot;email&quot;, null, &quot;Já existe uma conta cadastrada com esse e-mail&quot;);\n        }\n        if (result.hasErrors()) {\n            model.addAttribute(&quot;user&quot;, user);\n            return &quot;register&quot;;\n        }\n        userService.saveUser(user);\n        return &quot;redirect:/register?success&quot;;\n    }\n\n    @GetMapping(&quot;/users&quot;)\n    public String listRegisteredUsers(Model model){\n        List&lt;UserDto&gt; users = userService.findAllUsers();\n        model.addAttribute(&quot;users&quot;, users);\n        return &quot;users&quot;;\n    }\n}\n</code></pre>\n<p><strong>UserDto</strong></p>\n<pre><code>package com.xxxxxxxxxxxxxxxxxxxxxxxxxxxxx.dto;\n\n\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\nimport javax.validation.constraints.Email;\nimport javax.validation.constraints.NotEmpty;\n\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class UserDto\n{\n    private Long id;\n    @NotEmpty\n    private String Name;\n    @NotEmpty\n    private String CPF;\n    @NotEmpty(message = &quot;O CPF não deve estar vazio&quot;)\n    @Email\n    private String email;\n    @NotEmpty(message = &quot;A senha não deve estar vazia&quot;)\n    private String password;\n}\n</code></pre>\n<p><strong>Role</strong></p>\n<pre><code>package com.xxxxxxxxxxxxxxxxxxxxxxx.entity;\n\n\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\nimport javax.persistence.*;\nimport java.util.List;\n\n@Setter\n@Getter\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name=&quot;roles&quot;)\npublic class Role\n{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable=false, unique=true)\n    private String name;\n\n    @ManyToMany(mappedBy=&quot;roles&quot;)\n    private List&lt;User&gt; users;\n}\n</code></pre>\n<p><strong>User</strong></p>\n<pre><code>package com.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx.entity;\n\n\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\nimport javax.persistence.*;\nimport javax.validation.constraints.NotNull;\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name=&quot;users&quot;)\npublic class User\n{\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;Nome&quot; ,nullable=false)\n    private String name;\n\n    @Column(nullable = false)\n    private String CPF;\n\n    @Column(nullable=false, unique=true)\n    private String email;\n\n    @Column(nullable=false)\n    private String password;\n\n    @ManyToMany(fetch = FetchType.EAGER, cascade=CascadeType.ALL)\n    @JoinTable(\n            name=&quot;users_roles&quot;,\n            joinColumns={@JoinColumn(name=&quot;USER_ID&quot;, referencedColumnName=&quot;ID&quot;)},\n            inverseJoinColumns={@JoinColumn(name=&quot;ROLE_ID&quot;, referencedColumnName=&quot;ID&quot;)})\n    private List&lt;Role&gt; roles = new ArrayList&lt;&gt;();\n\n}\n</code></pre>\n<p><strong>RoleRepository</strong></p>\n<pre><code>package com.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx.repository;\n\n\nimport com.xxxxxxxxxxxxxxxxxxxxxxxxx.entity.Role;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\npublic interface RoleRepository extends JpaRepository&lt;Role, Long&gt; {\n\n    Role findByName(String name);\n}\n</code></pre>\n<p><strong>UserRepository</strong></p>\n<pre><code>package com.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx.repository;\n\n\nimport com.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx.entity.User;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n\n    User findByEmail(String email);\n\n}\n</code></pre>\n<p><strong>CustomUserDetailsService</strong></p>\n<pre><code>package com.xxxxxxxxxxxxxxxxxxxxxxxxxxxx.service;\n\nimport com.xxxxxxxxxxxxxxxxxxxxxxxxxxxxx.entity.Role;\nimport com.xxxxxxxxxxxxxxxxxxxxxxxxxxxxx.entity.User;\nimport com.xxxxxxxxxxxxxxxxxxxxxxxxxxxxx.repository.UserRepository;\n\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\n\nimport java.util.Collection;\nimport java.util.stream.Collectors;\n\n@Service\npublic class CustomUserDetailsService implements UserDetailsService {\n\n    private UserRepository userRepository;\n\n    public CustomUserDetailsService(UserRepository userRepository) {\n        this.userRepository = userRepository;\n    }\n\n    @Override\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\n        User user = userRepository.findByEmail(email);\n\n        if (user != null) {\n            return new org.springframework.security.core.userdetails.User(user.getEmail(),\n                    user.getPassword(),\n                    mapRolesToAuthorities(user.getRoles()));\n        }else{\n            throw new UsernameNotFoundException(&quot;Invalid username or password.&quot;);\n        }\n    }\n\n    private Collection &lt; ? extends GrantedAuthority&gt; mapRolesToAuthorities(Collection &lt;Role&gt; roles) {\n        Collection &lt; ? extends GrantedAuthority&gt; mapRoles = roles.stream()\n                .map(role -&gt; new SimpleGrantedAuthority(role.getName()))\n                .collect(Collectors.toList());\n        return mapRoles;\n    }\n}\n</code></pre>\n<p><strong>UserServiceImpl</strong></p>\n<pre><code>package com.xxxxxxxxxxxxxxxxxxxxxxxxxx.service.impl;\n\n\n\nimport com.xxxxxxxxxxxxxxxxxxxxxxxxxx.dto.UserDto;\nimport com.xxxxxxxxxxxxxxxxxxxxxxxxxx.entity.Role;\nimport com.xxxxxxxxxxxxxxxxxxxxxxxxxx.entity.User;\nimport com.xxxxxxxxxxxxxxxxxxxxxxxxxx.repository.RoleRepository;\nimport com.xxxxxxxxxxxxxxxxxxxxxxxxxx.repository.UserRepository;\nimport com.xxxxxxxxxxxxxxxxxxxxxxxxxx.service.UserService;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.stereotype.Service;\n\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\n@Service\npublic class UserServiceImpl implements UserService {\n\n    private UserRepository userRepository;\n    private RoleRepository roleRepository;\n    private PasswordEncoder passwordEncoder;\n\n    public UserServiceImpl(UserRepository userRepository,\n                           RoleRepository roleRepository,\n                           PasswordEncoder passwordEncoder) {\n        this.userRepository = userRepository;\n        this.roleRepository = roleRepository;\n        this.passwordEncoder = passwordEncoder;\n    }\n\n    @Override\n    public void saveUser(UserDto userDto) {\n        User user = new User();\n        user.setName(userDto.getName() + &quot; &quot; + userDto.getCPF());\n        user.setEmail(userDto.getEmail());\n        // criptografar a senha usando o spring security\n        user.setPassword(passwordEncoder.encode(userDto.getPassword()));\n\n        Role role = roleRepository.findByName(&quot;ROLE_ADMIN&quot;);\n        if(role == null){\n            role = checkRoleExist();\n        }\n        user.setRoles(Arrays.asList(role));\n        userRepository.save(user);\n    }\n\n    @Override\n    public User findUserByEmail(String email) {\n        return userRepository.findByEmail(email);\n    }\n\n    @Override\n    public User findByEmail(String email) {\n        return null;\n    }\n\n    @Override\n    public List&lt;UserDto&gt; findAllUsers() {\n        List&lt;User&gt; users = userRepository.findAll();\n        return users.stream()\n                .map((user) -&gt; mapToUserDto(user))\n                .collect(Collectors.toList());\n    }\n\n    private UserDto mapToUserDto(User user){\n        UserDto userDto = new UserDto();\n        String[] str = user.getName().split(&quot; &quot;);\n        userDto.setName(str[0]);\n        userDto.setCPF(str[1]);\n        userDto.setEmail(user.getEmail());\n        return userDto;\n    }\n\n    private Role checkRoleExist(){\n        Role role = new Role();\n        role.setName(&quot;ROLE_ADMIN&quot;);\n        return roleRepository.save(role);\n    }\n}\n</code></pre>\n<p><strong>register.html</strong></p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;\n&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Registration and Login System&lt;/title&gt;\n    &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css&quot;\n          rel=&quot;stylesheet&quot;\n          integrity=&quot;sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC&quot;\n          crossorigin=&quot;anonymous&quot;&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;nav class=&quot;navbar navbar-expand-lg navbar-dark bg-dark&quot;&gt;\n    &lt;div class=&quot;container-fluid&quot;&gt;\n        &lt;a class=&quot;navbar-brand&quot; th:href=&quot;@{/index}&quot;&gt;Registration and Login System&lt;/a&gt;\n        &lt;button class=&quot;navbar-toggler&quot; type=&quot;button&quot; data-bs-toggle=&quot;collapse&quot; data-bs-target=&quot;#navbarSupportedContent&quot; aria-controls=&quot;navbarSupportedContent&quot; aria-expanded=&quot;false&quot; aria-label=&quot;Toggle navigation&quot;&gt;\n            &lt;span class=&quot;navbar-toggler-icon&quot;&gt;&lt;/span&gt;\n        &lt;/button&gt;\n        &lt;div class=&quot;collapse navbar-collapse&quot; id=&quot;navbarSupportedContent&quot;&gt;\n            &lt;ul class=&quot;navbar-nav me-auto mb-2 mb-lg-0&quot;&gt;\n                &lt;li class=&quot;nav-item&quot;&gt;\n                    &lt;a class=&quot;nav-link active&quot; aria-current=&quot;page&quot; th:href=&quot;@{/login}&quot;&gt;Login&lt;/a&gt;\n                &lt;/li&gt;\n            &lt;/ul&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/nav&gt;\n&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;\n&lt;div class=&quot;container&quot;&gt;\n    &lt;div class=&quot;row col-md-8 offset-md-2&quot;&gt;\n        &lt;div class=&quot;card&quot;&gt;\n            &lt;div class=&quot;card-header&quot;&gt;\n                &lt;h2 class=&quot;text-center&quot;&gt;Registration&lt;/h2&gt;\n            &lt;/div&gt;\n            &lt;div th:if=&quot;${param.success}&quot;&gt;\n                &lt;div class=&quot;alert alert-info&quot;&gt;\n                    You have successfully registered our app!\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=&quot;card-body&quot;&gt;\n                &lt;form\n                        method=&quot;post&quot;\n                        role=&quot;form&quot;\n                        th:action=&quot;@{/register/save}&quot;\n                        th:object=&quot;${user}&quot;\n                &gt;\n                    &lt;div class=&quot;form-group mb-3&quot;&gt;\n                        &lt;label class=&quot;form-label&quot;&gt;First Name&lt;/label&gt;\n                        &lt;input\n                                class=&quot;form-control&quot;\n                                id=&quot;Name&quot;\n                                name=&quot;Name&quot;\n                                placeholder=&quot;Enter first name&quot;\n                                th:field=&quot;*{Name}&quot;\n                                type=&quot;text&quot;\n                        /&gt;\n                        &lt;p th:errors = &quot;*{Name}&quot; class=&quot;text-danger&quot;\n                           th:if=&quot;${#fields.hasErrors('Name')}&quot;&gt;&lt;/p&gt;\n                    &lt;/div&gt;\n\n                    &lt;div class=&quot;form-group mb-3&quot;&gt;\n                        &lt;label class=&quot;form-label&quot;&gt;CPF&lt;/label&gt;\n                        &lt;input\n                                class=&quot;form-control&quot;\n                                id=&quot;CPF&quot;\n                                name=&quot;CPF&quot;\n                                placeholder=&quot;CPF&quot;\n                                th:field=&quot;*{CPF}&quot;\n                                type=&quot;text&quot;\n                        /&gt;\n                        &lt;p th:errors = &quot;*{CPF}&quot; class=&quot;text-danger&quot;\n                           th:if=&quot;${#fields.hasErrors('CPF')}&quot;&gt;&lt;/p&gt;\n                    &lt;/div&gt;\n\n                    &lt;div class=&quot;form-group mb-3&quot;&gt;\n                        &lt;label class=&quot;form-label&quot;&gt;Email&lt;/label&gt;\n                        &lt;input\n                                class=&quot;form-control&quot;\n                                id=&quot;email&quot;\n                                name=&quot;email&quot;\n                                placeholder=&quot;Enter email address&quot;\n                                th:field=&quot;*{email}&quot;\n                                type=&quot;email&quot;\n                        /&gt;\n                        &lt;p th:errors = &quot;*{email}&quot; class=&quot;text-danger&quot;\n                           th:if=&quot;${#fields.hasErrors('email')}&quot;&gt;&lt;/p&gt;\n                    &lt;/div&gt;\n\n                    &lt;div class=&quot;form-group mb-3&quot;&gt;\n                        &lt;label class=&quot;form-label&quot;&gt;Password&lt;/label&gt;\n                        &lt;input\n                                class=&quot;form-control&quot;\n                                id=&quot;password&quot;\n                                name=&quot;password&quot;\n                                placeholder=&quot;Enter password&quot;\n                                th:field=&quot;*{password}&quot;\n                                type=&quot;password&quot;\n                        /&gt;\n                        &lt;p th:errors = &quot;*{password}&quot; class=&quot;text-danger&quot;\n                           th:if=&quot;${#fields.hasErrors('password')}&quot;&gt;&lt;/p&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;button class=&quot;btn btn-primary&quot; type=&quot;submit&quot;&gt;Register&lt;/button&gt;\n                        &lt;span&gt;Already registered? &lt;a th:href=&quot;@{/login}&quot;&gt;Login here&lt;/a&gt;&lt;/span&gt;\n                    &lt;/div&gt;\n                &lt;/form&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\n#logging.level.org.springframework=DEBUG\n</code></pre>\n<p><strong>application.yml</strong></p>\n<pre><code>spring:\n  datasource:\n    driver-class-name: org.firebirdsql.jdbc.FBDriver\n    url: jdbc:firebirdsql:localhost/3050:C:/DB/usuarios.FDB?sql_dialect=3&amp;charSet=utf-8\n    username: SYSDBA\n    password: masterkey\n    hikari:\n      connection-timeout: 1000\n      login-timeout: 1000\n      minimum-idle: 10\n\n  jpa:\n    database-platform: org.hibernate.community.dialect.FirebirdDialect\n    hibernate:\n      ddl-auto: validate\n</code></pre>\n<p><strong>spom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.xxxxxxx&lt;/groupId&gt;\n    &lt;artifactId&gt;xxxxxxxxxxx&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;DashBoardBackend&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;squiggly.version&gt;1.3.18&lt;/squiggly.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.firebirdsql.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;jaybird-jdk17&lt;/artifactId&gt;\n            &lt;version&gt;3.0.10&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\n            &lt;artifactId&gt;jna&lt;/artifactId&gt;\n            &lt;version&gt;5.5.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-community-dialects&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0.Alpha9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.bohnman&lt;/groupId&gt;\n            &lt;artifactId&gt;squiggly-filter-jackson&lt;/artifactId&gt;\n            &lt;version&gt;1.3.18&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\n            &lt;artifactId&gt;byte-buddy-agent&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>Logback</strong></p>\n<pre><code>2023-01-16 17:27:20.533  WARN 9548 --- [nio-8080-exec-8] o.a.c.util.SessionIdGeneratorBase        : Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [154] milliseconds.\n2023-01-16 17:27:38.328  WARN 9548 --- [nio-8080-exec-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 335544347, SQLState: 23000\n2023-01-16 17:27:38.328 ERROR 9548 --- [nio-8080-exec-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : validation error for column &quot;USERS&quot;.&quot;CPF&quot;, value &quot;*** null ***&quot; [SQLState:23000, ISC error code:335544347]\n2023-01-16 17:27:38.334  WARN 9548 --- [nio-8080-exec-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: null\n2023-01-16 17:27:38.334  WARN 9548 --- [nio-8080-exec-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : Connection.isValid does not support non-zero timeouts, timeout value 5 has been ignored\n2023-01-16 17:27:38.336 ERROR 9548 --- [nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement] with root cause\n\norg.firebirdsql.jdbc.FBSQLExceptionInfo: validation error for column &quot;USERS&quot;.&quot;CPF&quot;, value &quot;*** null ***&quot;\n</code></pre>\n"},{"tags":["java","cucumber","quarkus"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1673776313,"post_id":75081063,"comment_id":132569755,"body_markdown":"your &quot;.feature&quot; files has to be in test/resources folder , it is how it shown [here](https://quarkiverse.github.io/quarkiverse-docs/quarkus-cucumber/dev/index.html)","body":"your &quot;.feature&quot; files has to be in test/resources folder , it is how it shown <a href=\"https://quarkiverse.github.io/quarkiverse-docs/quarkus-cucumber/dev/index.html\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":6343837,"reputation":69,"user_id":4924981,"display_name":"Christina Unger"},"score":0,"creation_date":1673856277,"post_id":75081063,"comment_id":132582368,"body_markdown":"Doesn&#39;t make a difference. The problem is not the feature files, they are found; the problem is that the step definitions are not picked up - or I run the tests incorrectly.","body":"Doesn&#39;t make a difference. The problem is not the feature files, they are found; the problem is that the step definitions are not picked up - or I run the tests incorrectly."},{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1673856962,"post_id":75081063,"comment_id":132582513,"body_markdown":"can you provide a small reproducer?","body":"can you provide a small reproducer?"},{"owner":{"account_id":6343837,"reputation":69,"user_id":4924981,"display_name":"Christina Unger"},"score":0,"creation_date":1673878077,"post_id":75081063,"comment_id":132589087,"body_markdown":"Yes. Removed some stuff and now it works like a charm: https://github.com/cunger/quarkus-cucumber-example\nThanks for taking the time! :)\nThe only remaining question now is how to trigger these tests with the maven-surefire-plugin (since they run as QuarkusTests and not QuarkusIntegrationTests). If I run `mvn clean test`, for example, it only runs the API test, not the Cucumber tests.","body":"Yes. Removed some stuff and now it works like a charm: <a href=\"https://github.com/cunger/quarkus-cucumber-example\" rel=\"nofollow noreferrer\">github.com/cunger/quarkus-cucumber-example</a> Thanks for taking the time! :) The only remaining question now is how to trigger these tests with the maven-surefire-plugin (since they run as QuarkusTests and not QuarkusIntegrationTests). If I run <code>mvn clean test</code>, for example, it only runs the API test, not the Cucumber tests."},{"owner":{"account_id":5150921,"reputation":310,"user_id":4125555,"display_name":"Tuna Yagci"},"score":0,"creation_date":1675682506,"post_id":75081063,"comment_id":132974858,"body_markdown":"@ChristinaUnger have you found a way to trigger them via Maven?","body":"@ChristinaUnger have you found a way to trigger them via Maven?"},{"owner":{"account_id":6343837,"reputation":69,"user_id":4924981,"display_name":"Christina Unger"},"score":0,"creation_date":1675753782,"post_id":75081063,"comment_id":132991140,"body_markdown":"@TunaYagci Yes, I needed to include the `AcceptanceTest` class in the surefire plugin, see ozkanpakdil&#39;s answer. I also updated the example repo, there it works now.","body":"@TunaYagci Yes, I needed to include the <code>AcceptanceTest</code> class in the surefire plugin, see ozkanpakdil&#39;s answer. I also updated the example repo, there it works now."}],"answers":[{"tags":[],"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673959870,"creation_date":1673899831,"answer_id":75139225,"question_id":75081063,"body_markdown":"Configure surefire plugin like below\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;includes&gt;\r\n            &lt;include&gt;**/AcceptanceTest*.java&lt;/include&gt;\r\n        &lt;/includes&gt;\r\n        &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n        &lt;systemPropertyVariables&gt;\r\n            &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\r\n        &lt;/systemPropertyVariables&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\nbelow you can see how cucumber triggered.\r\n```bash\r\nmintozzy@laptop:~/tmp/quarkus-cucumber-example$ mvn test\r\n[INFO] Scanning for projects...\r\n[WARNING] \r\n[WARNING] Some problems were encountered while building the effective model for com.example:quarkus-cucumber-example:jar:1.0.0-SNAPSHOT\r\n[WARNING] &#39;build.plugins.plugin.version&#39; for io.quarkus.platform:quarkus-maven-plugin is missing. @ line 56, column 15\r\n[WARNING] \r\n[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.\r\n[WARNING] \r\n[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.\r\n[WARNING] \r\n[INFO] \r\n[INFO] ----------------&lt; com.example:quarkus-cucumber-example &gt;----------------\r\n[INFO] Building quarkus-cucumber-example 1.0.0-SNAPSHOT\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO] \r\n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ quarkus-cucumber-example ---\r\n[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n[INFO] skip non existing resourceDirectory /home/mintozzy/tmp/quarkus-cucumber-example/src/main/resources\r\n[INFO] \r\n[INFO] --- quarkus-maven-plugin:3.0.0.Alpha2:generate-code (default) @ quarkus-cucumber-example ---\r\n[INFO] \r\n[INFO] --- maven-compiler-plugin:3.10.1:compile (default-compile) @ quarkus-cucumber-example ---\r\n[INFO] Nothing to compile - all classes are up to date\r\n[INFO] \r\n[INFO] --- quarkus-maven-plugin:3.0.0.Alpha2:generate-code-tests (default) @ quarkus-cucumber-example ---\r\n[INFO] \r\n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ quarkus-cucumber-example ---\r\n[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n[INFO] Copying 1 resource\r\n[INFO] \r\n[INFO] --- maven-compiler-plugin:3.10.1:testCompile (default-testCompile) @ quarkus-cucumber-example ---\r\n[INFO] Nothing to compile - all classes are up to date\r\n[INFO] \r\n[INFO] --- maven-surefire-plugin:3.0.0-M7:test (default-test) @ quarkus-cucumber-example ---\r\n[INFO] Using auto detected provider org.apache.maven.surefire.junitplatform.JUnitPlatformProvider\r\n[INFO] \r\n[INFO] -------------------------------------------------------\r\n[INFO]  T E S T S\r\n[INFO] -------------------------------------------------------\r\n[INFO] Running com.example.test.AcceptanceTestRunner\r\n2023-01-16 20:05:56,769 INFO  [io.quarkus] (main) quarkus-cucumber-example 1.0.0-SNAPSHOT on JVM (powered by Quarkus 2.15.2.Final) started in 2.091s. Listening on: http://localhost:8081\r\n2023-01-16 20:05:56,771 INFO  [io.quarkus] (main) Profile test activated. \r\n2023-01-16 20:05:56,771 INFO  [io.quarkus] (main) Installed features: [cdi, cucumber, resteasy, resteasy-jackson, smallrye-context-propagation, vertx]\r\n\r\nScenario: You&#39;re still alright   # specifications/everything_is_fine.feature:9\r\n  Given you are having coffee    # com.example.test.steps.EverythingIsFineSteps.you_are_having_coffee()\r\n  And there is a fire around you # com.example.test.steps.EverythingIsFineSteps.there_is_a_fire_around_you()\r\n  When you are still alright     # com.example.test.steps.EverythingIsFineSteps.you_are_still_alright()\r\n  Then everything is fine        # com.example.test.steps.EverythingIsFineSteps.everything_is_fine()\r\n\r\nScenario: You start to feel it   # specifications/everything_is_fine.feature:14\r\n  Given you are having coffee    # com.example.test.steps.EverythingIsFineSteps.you_are_having_coffee()\r\n  And there is a fire around you # com.example.test.steps.EverythingIsFineSteps.there_is_a_fire_around_you()\r\n  When you start to feel it      # com.example.test.steps.EverythingIsFineSteps.you_start_to_feel_it()\r\n  Then panic                     # com.example.test.steps.EverythingIsFineSteps.panic()\r\n\r\n2 Scenarios (2 passed)\r\n8 Steps (8 passed)\r\n0m0.893s\r\n\r\n\r\n[INFO] Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 6.11 s - in com.example.test.AcceptanceTestRunner\r\n2023-01-16 20:05:58,732 INFO  [io.quarkus] (main) quarkus-cucumber-example stopped in 0.035s\r\n[INFO] \r\n[INFO] Results:\r\n[INFO] \r\n[INFO] Tests run: 5, Failures: 0, Errors: 0, Skipped: 0\r\n[INFO] \r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  10.311 s\r\n[INFO] Finished at: 2023-01-16T20:05:58Z\r\n[INFO] ------------------------------------------------------------------------\r\n```\r\nhere is the [full code](https://github.com/ozkanpakdil/quarkus-examples/tree/master/cucumber-integration-test).","title":"quarkus-cucumber does not find step definitions","body":"<p>Configure surefire plugin like below</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;includes&gt;\n            &lt;include&gt;**/AcceptanceTest*.java&lt;/include&gt;\n        &lt;/includes&gt;\n        &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n        &lt;systemPropertyVariables&gt;\n            &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\n        &lt;/systemPropertyVariables&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>below you can see how cucumber triggered.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mintozzy@laptop:~/tmp/quarkus-cucumber-example$ mvn test\n[INFO] Scanning for projects...\n[WARNING] \n[WARNING] Some problems were encountered while building the effective model for com.example:quarkus-cucumber-example:jar:1.0.0-SNAPSHOT\n[WARNING] 'build.plugins.plugin.version' for io.quarkus.platform:quarkus-maven-plugin is missing. @ line 56, column 15\n[WARNING] \n[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.\n[WARNING] \n[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.\n[WARNING] \n[INFO] \n[INFO] ----------------&lt; com.example:quarkus-cucumber-example &gt;----------------\n[INFO] Building quarkus-cucumber-example 1.0.0-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ quarkus-cucumber-example ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory /home/mintozzy/tmp/quarkus-cucumber-example/src/main/resources\n[INFO] \n[INFO] --- quarkus-maven-plugin:3.0.0.Alpha2:generate-code (default) @ quarkus-cucumber-example ---\n[INFO] \n[INFO] --- maven-compiler-plugin:3.10.1:compile (default-compile) @ quarkus-cucumber-example ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO] \n[INFO] --- quarkus-maven-plugin:3.0.0.Alpha2:generate-code-tests (default) @ quarkus-cucumber-example ---\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ quarkus-cucumber-example ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 1 resource\n[INFO] \n[INFO] --- maven-compiler-plugin:3.10.1:testCompile (default-testCompile) @ quarkus-cucumber-example ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO] \n[INFO] --- maven-surefire-plugin:3.0.0-M7:test (default-test) @ quarkus-cucumber-example ---\n[INFO] Using auto detected provider org.apache.maven.surefire.junitplatform.JUnitPlatformProvider\n[INFO] \n[INFO] -------------------------------------------------------\n[INFO]  T E S T S\n[INFO] -------------------------------------------------------\n[INFO] Running com.example.test.AcceptanceTestRunner\n2023-01-16 20:05:56,769 INFO  [io.quarkus] (main) quarkus-cucumber-example 1.0.0-SNAPSHOT on JVM (powered by Quarkus 2.15.2.Final) started in 2.091s. Listening on: http://localhost:8081\n2023-01-16 20:05:56,771 INFO  [io.quarkus] (main) Profile test activated. \n2023-01-16 20:05:56,771 INFO  [io.quarkus] (main) Installed features: [cdi, cucumber, resteasy, resteasy-jackson, smallrye-context-propagation, vertx]\n\nScenario: You're still alright   # specifications/everything_is_fine.feature:9\n  Given you are having coffee    # com.example.test.steps.EverythingIsFineSteps.you_are_having_coffee()\n  And there is a fire around you # com.example.test.steps.EverythingIsFineSteps.there_is_a_fire_around_you()\n  When you are still alright     # com.example.test.steps.EverythingIsFineSteps.you_are_still_alright()\n  Then everything is fine        # com.example.test.steps.EverythingIsFineSteps.everything_is_fine()\n\nScenario: You start to feel it   # specifications/everything_is_fine.feature:14\n  Given you are having coffee    # com.example.test.steps.EverythingIsFineSteps.you_are_having_coffee()\n  And there is a fire around you # com.example.test.steps.EverythingIsFineSteps.there_is_a_fire_around_you()\n  When you start to feel it      # com.example.test.steps.EverythingIsFineSteps.you_start_to_feel_it()\n  Then panic                     # com.example.test.steps.EverythingIsFineSteps.panic()\n\n2 Scenarios (2 passed)\n8 Steps (8 passed)\n0m0.893s\n\n\n[INFO] Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 6.11 s - in com.example.test.AcceptanceTestRunner\n2023-01-16 20:05:58,732 INFO  [io.quarkus] (main) quarkus-cucumber-example stopped in 0.035s\n[INFO] \n[INFO] Results:\n[INFO] \n[INFO] Tests run: 5, Failures: 0, Errors: 0, Skipped: 0\n[INFO] \n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  10.311 s\n[INFO] Finished at: 2023-01-16T20:05:58Z\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>here is the <a href=\"https://github.com/ozkanpakdil/quarkus-examples/tree/master/cucumber-integration-test\" rel=\"nofollow noreferrer\">full code</a>.</p>\n"}],"owner":{"account_id":6343837,"reputation":69,"user_id":4924981,"display_name":"Christina Unger"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":477,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75139225,"answer_count":1,"score":1,"last_activity_date":1673959870,"creation_date":1673430481,"question_id":75081063,"body_markdown":"I&#39;m trying to set up acceptance tests for a Quarkus app, using [quarkus-cucumber](https://github.com/quarkiverse/quarkus-cucumber) 0.6.0 (on Quarkus platform version 2.15.2.Final), but it fails to find the step definitions.\r\n\r\nMy package structure looks as follows:\r\n```\r\nsrc\r\n  main\r\n    api\r\n    backend\r\n    gui\r\n  test\r\n    java \r\n      com.example.test\r\n        AcceptanceTest.java\r\n        steps\r\n          BlahSteps.java\r\n          BlubbSteps.java\r\n    specifications\r\n      blah.feature\r\n      blubb.feature\r\n```\r\n\r\nThe `AcceptanceTest.java` specifies the package for the glue: \r\n```\r\npackage com.example.test\r\n\r\n@CucumberOptions(\r\n    features = &quot;src/test/specifications&quot;,\r\n    glue = &quot;com.example.test.steps&quot;\r\n)\r\npublic class AcceptanceTest extends CucumberQuarkusTest {\r\n\r\n    public static void main(String[] args) {\r\n        runMain(AcceptanceTest.class, args);\r\n    }\r\n}\r\n```\r\nAnd the `BlahSteps.java` in that package contains methods for the steps in `blah.feature`. (It also ends up correctly in `target/test-classes`.) \r\n\r\nStill, no matter whether I run `mvn clean test` in the terminal (or `./mvnw quarkus:test` after annotating the `AcceptanceTest` with `@QuarkusTest`) or run the test in IntelliJ, it runs the blah feature and tells me:    \r\n```\r\nYou can implement missing steps with the snippets below:\r\n...\r\n```\r\n\r\nWhy is it not finding the glue? Am I missing something?","title":"quarkus-cucumber does not find step definitions","body":"<p>I'm trying to set up acceptance tests for a Quarkus app, using <a href=\"https://github.com/quarkiverse/quarkus-cucumber\" rel=\"nofollow noreferrer\">quarkus-cucumber</a> 0.6.0 (on Quarkus platform version 2.15.2.Final), but it fails to find the step definitions.</p>\n<p>My package structure looks as follows:</p>\n<pre><code>src\n  main\n    api\n    backend\n    gui\n  test\n    java \n      com.example.test\n        AcceptanceTest.java\n        steps\n          BlahSteps.java\n          BlubbSteps.java\n    specifications\n      blah.feature\n      blubb.feature\n</code></pre>\n<p>The <code>AcceptanceTest.java</code> specifies the package for the glue:</p>\n<pre><code>package com.example.test\n\n@CucumberOptions(\n    features = &quot;src/test/specifications&quot;,\n    glue = &quot;com.example.test.steps&quot;\n)\npublic class AcceptanceTest extends CucumberQuarkusTest {\n\n    public static void main(String[] args) {\n        runMain(AcceptanceTest.class, args);\n    }\n}\n</code></pre>\n<p>And the <code>BlahSteps.java</code> in that package contains methods for the steps in <code>blah.feature</code>. (It also ends up correctly in <code>target/test-classes</code>.)</p>\n<p>Still, no matter whether I run <code>mvn clean test</code> in the terminal (or <code>./mvnw quarkus:test</code> after annotating the <code>AcceptanceTest</code> with <code>@QuarkusTest</code>) or run the test in IntelliJ, it runs the blah feature and tells me:</p>\n<pre><code>You can implement missing steps with the snippets below:\n...\n</code></pre>\n<p>Why is it not finding the glue? Am I missing something?</p>\n"},{"tags":["java","spring","spring-boot","maven","spring-boot-maven-plugin"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673947323,"post_id":75144154,"comment_id":132604792,"body_markdown":"Start with removing all `version` tags from the `org.springframework.boot` dependencies and `spring-security-test` (those are managed by the parent) as well as for the `spring-boot-maven-plugin`. DItch `jakarta.validation-api`. Remove the `source`/`target` from the `maven-compiler-plugin` andyou want to upgrade the `mapstruct` version to 1.5.3. Also as the scope is `provided` for lombok you don&#39;t need the exclude.","body":"Start with removing all <code>version</code> tags from the <code>org.springframework.boot</code> dependencies and <code>spring-security-test</code> (those are managed by the parent) as well as for the <code>spring-boot-maven-plugin</code>. DItch <code>jakarta.validation-api</code>. Remove the <code>source</code>/<code>target</code> from the <code>maven-compiler-plugin</code> andyou want to upgrade the <code>mapstruct</code> version to 1.5.3. Also as the scope is <code>provided</code> for lombok you don&#39;t need the exclude."},{"owner":{"account_id":27550541,"reputation":61,"user_id":21025690,"display_name":"wazzupek01"},"score":0,"creation_date":1673948031,"post_id":75144154,"comment_id":132605040,"body_markdown":"@M.Deinum Unfortunately problem still exists","body":"@M.Deinum Unfortunately problem still exists"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673948550,"post_id":75144154,"comment_id":132605231,"body_markdown":"You removed the exclude as well? You are trying to outsmart things that are already done by Spring Boot as a parent and the starters. The problem is the exclude as it doesn&#39;t allow a version but you shouldn&#39;t need the exclude as a provided dependency isn&#39;t included anyway.","body":"You removed the exclude as well? You are trying to outsmart things that are already done by Spring Boot as a parent and the starters. The problem is the exclude as it doesn&#39;t allow a version but you shouldn&#39;t need the exclude as a provided dependency isn&#39;t included anyway."},{"owner":{"account_id":27550541,"reputation":61,"user_id":21025690,"display_name":"wazzupek01"},"score":0,"creation_date":1673948839,"post_id":75144154,"comment_id":132605345,"body_markdown":"@M.Deinum removing exclude worked, I thought that it was necessary since I was trying to run mapstruct with lombok. Thank you very much","body":"@M.Deinum removing exclude worked, I thought that it was necessary since I was trying to run mapstruct with lombok. Thank you very much"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1673955513,"post_id":75144154,"comment_id":132607288,"body_markdown":"The plugin configuration for maven-compiler-plugin to use source/target with Java 8 is simply wrong. Spring Boot 3.X requires minimum JDK17... which is also in contradiction to the given `java.version` property...","body":"The plugin configuration for maven-compiler-plugin to use source/target with Java 8 is simply wrong. Spring Boot 3.X requires minimum JDK17... which is also in contradiction to the given <code>java.version</code> property..."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673958930,"creation_date":1673949437,"answer_id":75144686,"question_id":75144154,"body_markdown":"The problem is the exclude, which you don&#39;t need, as an exclude only allows for a `groupId` and `artifactId` to be set, no `version`. But as stated you don&#39;t need the exclude. \r\n\r\nLooking at your `pom.xml` you are also trying to outsmart other parts of the dependency management and configuration. \r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.1&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.pedrycz&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tobebought&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;tobebought&lt;/name&gt;\r\n    &lt;description&gt;Service allowing users to store their shopping lists&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;19.0.1&lt;/java.version&gt;\r\n        &lt;mapstruct.version&gt;1.5.3.Final&lt;/mapstruct.version&gt;        \r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.passay&lt;/groupId&gt;\r\n            &lt;artifactId&gt;passay&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.auth0&lt;/groupId&gt;\r\n            &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\r\n            &lt;version&gt;4.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n            &lt;version&gt;0.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;annotationProcessorPaths&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/path&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n                            &lt;version&gt;0.2.0&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n* `spring-boot-starter-validation` already contains the needed dependencies, no need for `jakarta.validation-api` as a dependency\r\n* The `spring-boot-starter-parent` will already manage the dependencies for the starters and supported dependencies (like `spring-security-test`) no need to specify a version\r\n* No version for the `maven-compiler-plugin` and no `source`/`target` those are already set and managed by the `spring-boot-starter-parent` you want to extend the configuration\r\n* Upgrade to a newer Mapstruct version and use a version property\r\n* No version for the `spring-boot-maven-plugin` already managed by the `spring-boot-starter-parent` and the `exclude` doesn&#39;t support `version` as it will automatically exclude the dependency for that specific version (that is basically how excludes work). ","title":"Maven Error: Cannot find &#39;version&#39; in class org.springframework.boot.maven.Exclude","body":"<p>The problem is the exclude, which you don't need, as an exclude only allows for a <code>groupId</code> and <code>artifactId</code> to be set, no <code>version</code>. But as stated you don't need the exclude.</p>\n<p>Looking at your <code>pom.xml</code> you are also trying to outsmart other parts of the dependency management and configuration.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.pedrycz&lt;/groupId&gt;\n    &lt;artifactId&gt;tobebought&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;tobebought&lt;/name&gt;\n    &lt;description&gt;Service allowing users to store their shopping lists&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;19.0.1&lt;/java.version&gt;\n        &lt;mapstruct.version&gt;1.5.3.Final&lt;/mapstruct.version&gt;        \n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.passay&lt;/groupId&gt;\n            &lt;artifactId&gt;passay&lt;/artifactId&gt;\n            &lt;version&gt;1.6.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.auth0&lt;/groupId&gt;\n            &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\n            &lt;version&gt;4.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n            &lt;version&gt;0.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                            &lt;version&gt;0.2.0&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<ul>\n<li><code>spring-boot-starter-validation</code> already contains the needed dependencies, no need for <code>jakarta.validation-api</code> as a dependency</li>\n<li>The <code>spring-boot-starter-parent</code> will already manage the dependencies for the starters and supported dependencies (like <code>spring-security-test</code>) no need to specify a version</li>\n<li>No version for the <code>maven-compiler-plugin</code> and no <code>source</code>/<code>target</code> those are already set and managed by the <code>spring-boot-starter-parent</code> you want to extend the configuration</li>\n<li>Upgrade to a newer Mapstruct version and use a version property</li>\n<li>No version for the <code>spring-boot-maven-plugin</code> already managed by the <code>spring-boot-starter-parent</code> and the <code>exclude</code> doesn't support <code>version</code> as it will automatically exclude the dependency for that specific version (that is basically how excludes work).</li>\n</ul>\n"}],"owner":{"account_id":27550541,"reputation":61,"user_id":21025690,"display_name":"wazzupek01"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1218,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75144686,"answer_count":1,"score":3,"last_activity_date":1673958930,"creation_date":1673946794,"question_id":75144154,"body_markdown":"I encountered a problem with running my spring-boot application using the terminal. In IDE (IntelliJ) app starts perfectly, but when I try to run it by `mvn clean spring-boot:run` an error occurs.\r\n\r\n```\r\nshell\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  5.020 s\r\n[INFO] Finished at: 2023-01-17T09:35:14+01:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.0.1:run (default-cli) on project tobebought: Unable to parse configuration of mojo org.springframework.boot:spring-boot-maven-plugin:3.0.1:run for parameter version: Cannot find &#39;version&#39; in class org.springframework.boot.maven.Exclude -&gt; [Help 1]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginConfigurationException\r\n```\r\n\r\n\r\nI tried changing the version of spring-boot as well as adding the `&lt;version\\&gt;` tag to the parent dependency. Also, I tried deleting the `.m2` folder and downloading all dependencies again.\r\nMaven is up to date because I tried to reinstall it also.\r\n\r\n\r\n**Here is my pom.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.pedrycz&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;tobebought&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;tobebought&lt;/name&gt;\r\n\t&lt;description&gt;Service allowing users to store their shopping lists&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;19.0.1&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.passay/passay --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.passay&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;passay&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${project.parent.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.18.24&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n&lt;!--\t\t https://mvnrepository.com/artifact/com.auth0/java-jwt--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.auth0&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.2.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4.2.Final&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok-mapstruct-binding --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.2.0&lt;/version&gt;\r\n&lt;!--\t\t\t&lt;scope&gt;provided&lt;/scope&gt;--&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${project.parent.version}&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;1.18.24&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.10.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t\t&lt;annotationProcessorPaths&gt;\r\n\t\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;1.18.24&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;1.4.2.Final&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;0.2.0&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t&lt;/annotationProcessorPaths&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"Maven Error: Cannot find &#39;version&#39; in class org.springframework.boot.maven.Exclude","body":"<p>I encountered a problem with running my spring-boot application using the terminal. In IDE (IntelliJ) app starts perfectly, but when I try to run it by <code>mvn clean spring-boot:run</code> an error occurs.</p>\n<pre><code>shell\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  5.020 s\n[INFO] Finished at: 2023-01-17T09:35:14+01:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.0.1:run (default-cli) on project tobebought: Unable to parse configuration of mojo org.springframework.boot:spring-boot-maven-plugin:3.0.1:run for parameter version: Cannot find 'version' in class org.springframework.boot.maven.Exclude -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginConfigurationException\n</code></pre>\n<p>I tried changing the version of spring-boot as well as adding the <code>&lt;version\\&gt;</code> tag to the parent dependency. Also, I tried deleting the <code>.m2</code> folder and downloading all dependencies again.\nMaven is up to date because I tried to reinstall it also.</p>\n<p><strong>Here is my pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.pedrycz&lt;/groupId&gt;\n    &lt;artifactId&gt;tobebought&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;tobebought&lt;/name&gt;\n    &lt;description&gt;Service allowing users to store their shopping lists&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;19.0.1&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.passay/passay --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.passay&lt;/groupId&gt;\n            &lt;artifactId&gt;passay&lt;/artifactId&gt;\n            &lt;version&gt;1.6.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;${project.parent.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.24&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;version&gt;6.0.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n&lt;!--         https://mvnrepository.com/artifact/com.auth0/java-jwt--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.auth0&lt;/groupId&gt;\n            &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\n            &lt;version&gt;4.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;1.4.2.Final&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok-mapstruct-binding --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n            &lt;version&gt;0.2.0&lt;/version&gt;\n&lt;!--            &lt;scope&gt;provided&lt;/scope&gt;--&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${project.parent.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;1.18.24&lt;/version&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;1.18.24&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;1.4.2.Final&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                            &lt;version&gt;0.2.0&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","unit-testing","kotlin","mockito","mockk"],"answers":[{"tags":[],"owner":{"account_id":1096,"reputation":9390,"user_id":1454,"accept_rate":84,"display_name":"Raibaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657311831,"creation_date":1657311831,"answer_id":72916637,"question_id":72905380,"body_markdown":"If i understand correctly, you want a mock that returns the method name and the arguments whenever the return type is `String`, and a default value otherwise.\r\n\r\nThe second branch of your `when` statement is easily attainable with a relaxed mock, i.e. mocking your class with `mockk(YourClass::class, relaxed = true)` or annotating your mock with `@RelaxedMockK` instead of `@MockK`.\r\n\r\nAs for the first branch, mockk currently does not support stubbing all methods that have a return type: I think the only way you have to implement such a behavior would be doing\r\n\r\n```\r\nevery { \r\n    yourMock.method(any())\r\n} answers { \r\n    method.name + args.joinToString(&quot; &quot;) \r\n}\r\n```\r\nfor every method in your mocked class.\r\n\r\nIt shouldn&#39;t be too hard to add a parameter to the `mockk` function to define a strategy that overrides the `DefaultAnswerer`, I&#39;d gladly review a PR about it.","title":"How do I set a default Answer strategy with Mockk","body":"<p>If i understand correctly, you want a mock that returns the method name and the arguments whenever the return type is <code>String</code>, and a default value otherwise.</p>\n<p>The second branch of your <code>when</code> statement is easily attainable with a relaxed mock, i.e. mocking your class with <code>mockk(YourClass::class, relaxed = true)</code> or annotating your mock with <code>@RelaxedMockK</code> instead of <code>@MockK</code>.</p>\n<p>As for the first branch, mockk currently does not support stubbing all methods that have a return type: I think the only way you have to implement such a behavior would be doing</p>\n<pre><code>every { \n    yourMock.method(any())\n} answers { \n    method.name + args.joinToString(&quot; &quot;) \n}\n</code></pre>\n<p>for every method in your mocked class.</p>\n<p>It shouldn't be too hard to add a parameter to the <code>mockk</code> function to define a strategy that overrides the <code>DefaultAnswerer</code>, I'd gladly review a PR about it.</p>\n"},{"tags":[],"owner":{"account_id":167105,"reputation":2892,"user_id":391688,"display_name":"Geoff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673958669,"creation_date":1673958669,"answer_id":75146448,"question_id":72905380,"body_markdown":"This is now possible with [reflective-mockk][1] (an add-on library for mockk). The cleanest approach would probably be to only stub the methods that return Strings.\r\n\r\n    val mock = reflectiveMockk&lt;SomeObject&gt; {\r\n      answerEveryCallIn(normalMemberFunctions.filterReturnType&lt;String&gt;()) {\r\n        method.name + args.joinToString()\r\n      }\r\n    }\r\n\r\nAlternatively, you could provide a defaultAnswer for all methods, but then you need to account for the other possible return types...\r\n\r\n    val mock = reflectiveMockk&lt;SomeObject&gt; {\r\n        defaultAnswer {\r\n            when (method.returnType) {\r\n              String::class -&gt; method.name + args.joinToString()\r\n              Unit::class -&gt; Unit\r\n              else -&gt; null // unsafe\r\n            }\r\n        }\r\n    }\r\n\r\nSee https://episode6.github.io/reflective-mockk/ for more samples.\r\n\r\n**WARNING** reflective-mockk is currently powered by a reflection hack on mockK. If you like it and want it to be officially &quot;supported,&quot; please add a comment on this mockK PR: https://github.com/mockk/mockk/pull/1005, which would remove the need for our hack.\r\n\r\n  [1]: https://episode6.github.io/reflective-mockk/","title":"How do I set a default Answer strategy with Mockk","body":"<p>This is now possible with <a href=\"https://episode6.github.io/reflective-mockk/\" rel=\"nofollow noreferrer\">reflective-mockk</a> (an add-on library for mockk). The cleanest approach would probably be to only stub the methods that return Strings.</p>\n<pre><code>val mock = reflectiveMockk&lt;SomeObject&gt; {\n  answerEveryCallIn(normalMemberFunctions.filterReturnType&lt;String&gt;()) {\n    method.name + args.joinToString()\n  }\n}\n</code></pre>\n<p>Alternatively, you could provide a defaultAnswer for all methods, but then you need to account for the other possible return types...</p>\n<pre><code>val mock = reflectiveMockk&lt;SomeObject&gt; {\n    defaultAnswer {\n        when (method.returnType) {\n          String::class -&gt; method.name + args.joinToString()\n          Unit::class -&gt; Unit\n          else -&gt; null // unsafe\n        }\n    }\n}\n</code></pre>\n<p>See <a href=\"https://episode6.github.io/reflective-mockk/\" rel=\"nofollow noreferrer\">https://episode6.github.io/reflective-mockk/</a> for more samples.</p>\n<p><strong>WARNING</strong> reflective-mockk is currently powered by a reflection hack on mockK. If you like it and want it to be officially &quot;supported,&quot; please add a comment on this mockK PR: <a href=\"https://github.com/mockk/mockk/pull/1005\" rel=\"nofollow noreferrer\">https://github.com/mockk/mockk/pull/1005</a>, which would remove the need for our hack.</p>\n"}],"owner":{"account_id":235565,"reputation":1471,"user_id":502463,"accept_rate":53,"display_name":"Mark Dappollone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2336,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1673958669,"creation_date":1657238443,"question_id":72905380,"body_markdown":"In Mockito, I can create a mock of a class, and specify the default answer for any function calls to that mock, like this:\r\n\r\n      whenever(this.strings).thenReturn(mock(StringProvider::class.java, StringProviderAnswer()))\r\n\r\nWhere the answer might be\r\n\r\n        class StringProviderAnswer : Answer&lt;Any?&gt; {\r\n        private val delegate = Mockito.RETURNS_DEFAULTS!!\r\n    \r\n        override fun answer(invocation: InvocationOnMock?): Any? {\r\n            val invocationMethodReturn = invocation?.method?.returnType\r\n            val stringType = String::class.java\r\n            return when (invocationMethodReturn) {\r\n                stringType -&gt; invocation.method?.name.toString() + invocation.arguments.joinToString()\r\n                else -&gt; delegate.answer(invocation)\r\n            }\r\n        }\r\n    }\r\n\r\nSo I can stub out all the functions of a class in a very detailed way.  Is there a way to do this with Mockk?  I see that there is an `Answer` class, but I don&#39;t see an obvious way to create a mock that will except that as the default answer strategy.","title":"How do I set a default Answer strategy with Mockk","body":"<p>In Mockito, I can create a mock of a class, and specify the default answer for any function calls to that mock, like this:</p>\n<pre><code>  whenever(this.strings).thenReturn(mock(StringProvider::class.java, StringProviderAnswer()))\n</code></pre>\n<p>Where the answer might be</p>\n<pre><code>    class StringProviderAnswer : Answer&lt;Any?&gt; {\n    private val delegate = Mockito.RETURNS_DEFAULTS!!\n\n    override fun answer(invocation: InvocationOnMock?): Any? {\n        val invocationMethodReturn = invocation?.method?.returnType\n        val stringType = String::class.java\n        return when (invocationMethodReturn) {\n            stringType -&gt; invocation.method?.name.toString() + invocation.arguments.joinToString()\n            else -&gt; delegate.answer(invocation)\n        }\n    }\n}\n</code></pre>\n<p>So I can stub out all the functions of a class in a very detailed way.  Is there a way to do this with Mockk?  I see that there is an <code>Answer</code> class, but I don't see an obvious way to create a mock that will except that as the default answer strategy.</p>\n"},{"tags":["java","jvm","garbage-collection"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1673959095,"post_id":75052799,"comment_id":132608447,"body_markdown":"It is possible you are not setting the right JVM options, or not setting them in the right place.  Please rerun your Tomcat with `-XX:+PrintCommandLineFlags` added to the JVM options and show us what is printed to the Tomcat console logfile when you do that.  It will tell us what *effective* options the JVM is using.","body":"It is possible you are not setting the right JVM options, or not setting them in the right place.  Please rerun your Tomcat with <code>-XX:+PrintCommandLineFlags</code> added to the JVM options and show us what is printed to the Tomcat console logfile when you do that.  It will tell us what <i>effective</i> options the JVM is using."}],"owner":{"account_id":11892387,"reputation":334,"user_id":8702806,"display_name":"Uta Alexandru"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673958596,"creation_date":1673233093,"question_id":75052799,"body_markdown":"I am using Tomcat 10 and Java 17 on Windows. I have `-xmx` set at 1GB.\r\n\r\nI activated native memory debug and I can see that GC is taking about 9 GB of memory. Here is the full output for `jcmd PID VM.native_memory` : \r\n\r\n         Native Memory Tracking:\r\n    \r\n         (Omitting categories weighting less than 1KB)\r\n    \r\n         Total: reserved=12037466KB, committed=10529414KB\r\n                  Java Heap (reserved=1048576KB, committed=881664KB)\r\n                            (mmap: reserved=1048576KB, committed=881664KB)\r\n    \r\n                      Class (reserved=1049958KB, committed=7846KB)\r\n                            (classes #11096)\r\n                            (  instance classes #10222, array classes #874)\r\n                            (malloc=1382KB #33141)\r\n                            (mmap: reserved=1048576KB, committed=6464KB)\r\n                            (  Metadata:   )\r\n                            (    reserved=57344KB, committed=55104KB)\r\n                            (    used=54882KB)\r\n                            (    waste=222KB =0.40%)\r\n                            (  Class space:)\r\n                            (    reserved=1048576KB, committed=6464KB)\r\n                            (    used=6163KB)\r\n                            (    waste=301KB =4.65%)\r\n    \r\n                     Thread (reserved=93410KB, committed=5578KB)\r\n                            (thread #91)\r\n                            (stack: reserved=93184KB, committed=5352KB)\r\n                            (malloc=121KB #558)\r\n                            (arena=105KB #180)\r\n    \r\n                       Code (reserved=251223KB, committed=48443KB)\r\n                            (malloc=3479KB #13870)\r\n                            (mmap: reserved=247744KB, committed=44964KB)\r\n    \r\n                         GC (reserved=9484143KB, committed=9477967KB)\r\n                            (malloc=9412015KB #1204531)\r\n                            (mmap: reserved=72128KB, committed=65952KB)\r\n    \r\n                   Compiler (reserved=675KB, committed=675KB)\r\n                            (malloc=510KB #820)\r\n                            (arena=165KB #5)\r\n    \r\n                   Internal (reserved=1359KB, committed=1359KB)\r\n                            (malloc=1295KB #22480)\r\n                            (mmap: reserved=64KB, committed=64KB)\r\n    \r\n                      Other (reserved=367KB, committed=367KB)\r\n                            (malloc=367KB #69)\r\n    \r\n                     Symbol (reserved=11951KB, committed=11951KB)\r\n                            (malloc=10185KB #305552)\r\n                            (arena=1766KB #1)\r\n    \r\n        Native Memory Tracking (reserved=25251KB, committed=25251KB)\r\n                            (malloc=396KB #5669)\r\n                            (tracking overhead=24855KB)\r\n    \r\n         Shared class space (reserved=12096KB, committed=12096KB)\r\n                            (mmap: reserved=12096KB, committed=12096KB)\r\n    \r\n                Arena Chunk (reserved=315KB, committed=315KB)\r\n                            (malloc=315KB)\r\n    \r\n                    Tracing (reserved=32KB, committed=32KB)\r\n                            (arena=32KB #1)\r\n    \r\n                    Logging (reserved=5KB, committed=5KB)\r\n                            (malloc=5KB #216)\r\n    \r\n                  Arguments (reserved=3KB, committed=3KB)\r\n                            (malloc=3KB #92)\r\n    \r\n                     Module (reserved=399KB, committed=399KB)\r\n                            (malloc=399KB #2322)\r\n    \r\n                  Safepoint (reserved=8KB, committed=8KB)\r\n                            (mmap: reserved=8KB, committed=8KB)\r\n    \r\n            Synchronization (reserved=79KB, committed=79KB)\r\n                            (malloc=79KB #849)\r\n    \r\n             Serviceability (reserved=1KB, committed=1KB)\r\n                            (malloc=1KB #14)\r\n    \r\n                  Metaspace (reserved=57614KB, committed=55374KB)\r\n                            (malloc=270KB #236)\r\n                            (mmap: reserved=57344KB, committed=55104KB)\r\n\r\n       String Deduplication (reserved=1KB, committed=1KB)\r\n                            (malloc=1KB #8)\r\n\r\nFrom this, I understand that GC process requires 9 times more memory  than my application memory. (9 GB compared with 1 GB app max heap). Am I miss something?\r\n\r\n","title":"Unusual GC memory usage","body":"<p>I am using Tomcat 10 and Java 17 on Windows. I have <code>-xmx</code> set at 1GB.</p>\n<p>I activated native memory debug and I can see that GC is taking about 9 GB of memory. Here is the full output for <code>jcmd PID VM.native_memory</code> :</p>\n<pre><code>     Native Memory Tracking:\n\n     (Omitting categories weighting less than 1KB)\n\n     Total: reserved=12037466KB, committed=10529414KB\n              Java Heap (reserved=1048576KB, committed=881664KB)\n                        (mmap: reserved=1048576KB, committed=881664KB)\n\n                  Class (reserved=1049958KB, committed=7846KB)\n                        (classes #11096)\n                        (  instance classes #10222, array classes #874)\n                        (malloc=1382KB #33141)\n                        (mmap: reserved=1048576KB, committed=6464KB)\n                        (  Metadata:   )\n                        (    reserved=57344KB, committed=55104KB)\n                        (    used=54882KB)\n                        (    waste=222KB =0.40%)\n                        (  Class space:)\n                        (    reserved=1048576KB, committed=6464KB)\n                        (    used=6163KB)\n                        (    waste=301KB =4.65%)\n\n                 Thread (reserved=93410KB, committed=5578KB)\n                        (thread #91)\n                        (stack: reserved=93184KB, committed=5352KB)\n                        (malloc=121KB #558)\n                        (arena=105KB #180)\n\n                   Code (reserved=251223KB, committed=48443KB)\n                        (malloc=3479KB #13870)\n                        (mmap: reserved=247744KB, committed=44964KB)\n\n                     GC (reserved=9484143KB, committed=9477967KB)\n                        (malloc=9412015KB #1204531)\n                        (mmap: reserved=72128KB, committed=65952KB)\n\n               Compiler (reserved=675KB, committed=675KB)\n                        (malloc=510KB #820)\n                        (arena=165KB #5)\n\n               Internal (reserved=1359KB, committed=1359KB)\n                        (malloc=1295KB #22480)\n                        (mmap: reserved=64KB, committed=64KB)\n\n                  Other (reserved=367KB, committed=367KB)\n                        (malloc=367KB #69)\n\n                 Symbol (reserved=11951KB, committed=11951KB)\n                        (malloc=10185KB #305552)\n                        (arena=1766KB #1)\n\n    Native Memory Tracking (reserved=25251KB, committed=25251KB)\n                        (malloc=396KB #5669)\n                        (tracking overhead=24855KB)\n\n     Shared class space (reserved=12096KB, committed=12096KB)\n                        (mmap: reserved=12096KB, committed=12096KB)\n\n            Arena Chunk (reserved=315KB, committed=315KB)\n                        (malloc=315KB)\n\n                Tracing (reserved=32KB, committed=32KB)\n                        (arena=32KB #1)\n\n                Logging (reserved=5KB, committed=5KB)\n                        (malloc=5KB #216)\n\n              Arguments (reserved=3KB, committed=3KB)\n                        (malloc=3KB #92)\n\n                 Module (reserved=399KB, committed=399KB)\n                        (malloc=399KB #2322)\n\n              Safepoint (reserved=8KB, committed=8KB)\n                        (mmap: reserved=8KB, committed=8KB)\n\n        Synchronization (reserved=79KB, committed=79KB)\n                        (malloc=79KB #849)\n\n         Serviceability (reserved=1KB, committed=1KB)\n                        (malloc=1KB #14)\n\n              Metaspace (reserved=57614KB, committed=55374KB)\n                        (malloc=270KB #236)\n                        (mmap: reserved=57344KB, committed=55104KB)\n\n   String Deduplication (reserved=1KB, committed=1KB)\n                        (malloc=1KB #8)\n</code></pre>\n<p>From this, I understand that GC process requires 9 times more memory  than my application memory. (9 GB compared with 1 GB app max heap). Am I miss something?</p>\n"},{"tags":["java","spring-boot","gemfire","geode","ibm-jdk"],"comments":[{"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":0,"creation_date":1673966371,"post_id":75146408,"comment_id":132611092,"body_markdown":"HAve you tried changing the SSL version in the ssl-protocols property in the gemfire SSL config (https://geode.apache.org/docs/guide/114/managing/security/implementing_ssl.html)?","body":"HAve you tried changing the SSL version in the ssl-protocols property in the gemfire SSL config (<a href=\"https://geode.apache.org/docs/guide/114/managing/security/implementing_ssl.html\" rel=\"nofollow noreferrer\">geode.apache.org/docs/guide/114/managing/security/&hellip;</a>)?"},{"owner":{"account_id":27552162,"reputation":1,"user_id":21027017,"display_name":"Sagar"},"score":0,"creation_date":1674037909,"post_id":75146408,"comment_id":132627756,"body_markdown":"@jon-hanson : we are gemfire client and connecting to gemfire locators, I think the above mentioned property is at server side, I checked with gemfire server team they had ssl-protocols value as TLSv1.2 in gemfire.properties file.","body":"@jon-hanson : we are gemfire client and connecting to gemfire locators, I think the above mentioned property is at server side, I checked with gemfire server team they had ssl-protocols value as TLSv1.2 in gemfire.properties file."}],"owner":{"account_id":27552162,"reputation":1,"user_id":21027017,"display_name":"Sagar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673958464,"creation_date":1673958464,"question_id":75146408,"body_markdown":"We are working on upgrading Gemfire client - Apache Geode 1.12.1 to Apache Geode 1.15.1.\r\n\r\nJava version used is IBM JDK 1.8.0 341 on Linux system.\r\n\r\nWe are getting fatal alert: protocol version error while connecting to Gemfire locators with 1.15.1 jars.\r\n\r\n```\r\njavax.net.ssl.SSLHandshakeException: Received fatal alert: protocol_version\r\n.\r\n.\r\nat com.ibm.jsse2.bj.startHandshake(bj.java:519) ~[?:8.0 build_20220616-536]\r\nat org.apache.geode.internal.net.SocketCreator.configureClientSSLSocket(SocketCreator.java:535)~[geode-core-1.15.1.jar!/:?]\r\n```\r\n\r\n\r\n\r\nWe tried setting the below properties as suggested on different portals, but it didn&#39;t work:\r\n\r\n```\r\nhttps.protocols=SSLv3,TLSv1,TLSv1.1,TLSv1.2\r\nhttps.protocols=TLSv1.2\r\njdk.tls.client.protocols=TLSv1.2\r\n```\r\n\r\nOn enabling ssl debug we observed that with apache geode 1.15.1, clientHello message has supported_versions value as TLSv1.3, whereas on using apache geode 1.12.1 ClientHello message has supported_versions as TLSv1.2.\r\n\r\n```\r\n&quot;supported_versions (43)&quot; : {\r\n\t&quot;versions&quot;: [TLSv1.3]\r\n},\r\n```\r\n\r\nWe tried running application using 1.15.1 jars on different machine having Java Oracle Corporation version 1.8.0_321 and Java Oracle Corporation 11 and it was able to connect to Gemfire locators successfully.\r\n\r\nDue to dependency we have to use IBM JDK and cannot use Oracle JDK as for now.\r\n\r\nCan anyone please suggest if there any way to resolve this issue.","title":"Error connecting to Gemfire locators with IBM Java 1.8 and Apache Geode 1.15.1 jars","body":"<p>We are working on upgrading Gemfire client - Apache Geode 1.12.1 to Apache Geode 1.15.1.</p>\n<p>Java version used is IBM JDK 1.8.0 341 on Linux system.</p>\n<p>We are getting fatal alert: protocol version error while connecting to Gemfire locators with 1.15.1 jars.</p>\n<pre><code>javax.net.ssl.SSLHandshakeException: Received fatal alert: protocol_version\n.\n.\nat com.ibm.jsse2.bj.startHandshake(bj.java:519) ~[?:8.0 build_20220616-536]\nat org.apache.geode.internal.net.SocketCreator.configureClientSSLSocket(SocketCreator.java:535)~[geode-core-1.15.1.jar!/:?]\n</code></pre>\n<p>We tried setting the below properties as suggested on different portals, but it didn't work:</p>\n<pre><code>https.protocols=SSLv3,TLSv1,TLSv1.1,TLSv1.2\nhttps.protocols=TLSv1.2\njdk.tls.client.protocols=TLSv1.2\n</code></pre>\n<p>On enabling ssl debug we observed that with apache geode 1.15.1, clientHello message has supported_versions value as TLSv1.3, whereas on using apache geode 1.12.1 ClientHello message has supported_versions as TLSv1.2.</p>\n<pre><code>&quot;supported_versions (43)&quot; : {\n    &quot;versions&quot;: [TLSv1.3]\n},\n</code></pre>\n<p>We tried running application using 1.15.1 jars on different machine having Java Oracle Corporation version 1.8.0_321 and Java Oracle Corporation 11 and it was able to connect to Gemfire locators successfully.</p>\n<p>Due to dependency we have to use IBM JDK and cannot use Oracle JDK as for now.</p>\n<p>Can anyone please suggest if there any way to resolve this issue.</p>\n"},{"tags":["java","java-11"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1667994933,"post_id":74374456,"comment_id":131299340,"body_markdown":"Yes, this is a change; introduced in.. release 12, I think? `java foo.java` is short for `javac foo.java &amp;&amp; java foo`, more or less.","body":"Yes, this is a change; introduced in.. release 12, I think? <code>java foo.java</code> is short for <code>javac foo.java &amp;&amp; java foo</code>, more or less."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1667995007,"post_id":74374456,"comment_id":131299366,"body_markdown":"Does `java -cp . HelloWorld` work for you?","body":"Does <code>java -cp . HelloWorld</code> work for you?"},{"owner":{"account_id":2402802,"reputation":1973,"user_id":3651739,"accept_rate":90,"display_name":"Jishnu Prathap"},"score":0,"creation_date":1667995163,"post_id":74374456,"comment_id":131299420,"body_markdown":"@JonSkeet yes it works, so they basically removed current folder from class path that is why java HelloWorld was not working?","body":"@JonSkeet yes it works, so they basically removed current folder from class path that is why java HelloWorld was not working?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1667995253,"post_id":74374456,"comment_id":131299453,"body_markdown":"@JishnuPrathap: odds are that you have a `CLASSPATH` defined in your environment and that&#39;s the only change. Try `echo %CLASSPATH%`.","body":"@JishnuPrathap: odds are that you have a <code>CLASSPATH</code> defined in your environment and that&#39;s the only change. Try <code>echo %CLASSPATH%</code>."},{"owner":{"account_id":2402802,"reputation":1973,"user_id":3651739,"accept_rate":90,"display_name":"Jishnu Prathap"},"score":0,"creation_date":1667995329,"post_id":74374456,"comment_id":131299484,"body_markdown":"@JoachimSauer Yes there is class path variable .","body":"@JoachimSauer Yes there is class path variable ."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":5,"creation_date":1667995536,"post_id":74374456,"comment_id":131299563,"body_markdown":"@JishnuPrathap: if you don&#39;t specify a `-cp` then that variable is used, if it&#39;s present. *Otherwise* the current directory is used. The environment variable is tricky, because it&#39;s easy to miss. Its in your best interest to always specify the classpath explicitly using `-cp` to avoid problems like that (that&#39;s *usually* achieved by using a proper build system like Gradle).","body":"@JishnuPrathap: if you don&#39;t specify a <code>-cp</code> then that variable is used, if it&#39;s present. <i>Otherwise</i> the current directory is used. The environment variable is tricky, because it&#39;s easy to miss. Its in your best interest to always specify the classpath explicitly using <code>-cp</code> to avoid problems like that (that&#39;s <i>usually</i> achieved by using a proper build system like Gradle)."},{"owner":{"account_id":1475,"reputation":533754,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":1,"creation_date":1667998645,"post_id":74374456,"comment_id":131300646,"body_markdown":"“`javac filename.java` -&gt; compile and generates filename.class” — **No.** `javac` compiles the input file, but it does *not* generate a `filename.class` output file. Rather, it generates one or more `classname.class` files, one for each class in the input file.","body":"“<code>javac filename.java</code> -&gt; compile and generates filename.class” — <b>No.</b> <code>javac</code> compiles the input file, but it does <i>not</i> generate a <code>filename.class</code> output file. Rather, it generates one or more <code>classname.class</code> files, one for each class in the input file."},{"owner":{"account_id":2402802,"reputation":1973,"user_id":3651739,"accept_rate":90,"display_name":"Jishnu Prathap"},"score":0,"creation_date":1667998998,"post_id":74374456,"comment_id":131300762,"body_markdown":"@KonradRudolph true, corrected the question","body":"@KonradRudolph true, corrected the question"}],"answers":[{"tags":[],"owner":{"account_id":2402802,"reputation":1973,"user_id":3651739,"accept_rate":90,"display_name":"Jishnu Prathap"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1673958412,"creation_date":1667998755,"answer_id":74375281,"question_id":74374456,"body_markdown":"After some help from some stackoverflow veterans in the comment section I was able to understand what went wrong.\r\n\r\nThe latest version of Java have introduced **launching single file source code directly using Java command.**\r\n\r\nfrom [oracle docs.][2]\r\n\r\n&gt; To launch a single source-file program:\r\n&gt; \r\n&gt; java [options] source-file [args ...]\r\n\r\nTo run Helloworld.java, you can directly call execute `java Helloworld.java` it will execute the java program and gives output without generating `.class` file in the   current directory.\r\n\r\n**Why old way of running java class file didn&#39;t work for me?**\r\n\r\nI had a class path variable &#39;`CLASSPATH`&#39; in my environment, so when I execute `java HelloWorld` it is not looking for class in current directory. Give `java -cp .` to explicitly give current directory to classpath.  \r\n\r\n    java -cp . HelloWorld\r\n\r\n\r\nCredits: [Jon Skeet][3],[Joachim Sauer][4], [rzwitserloot][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/768644/rzwitserloot?force_isolation=true\r\n  [2]: https://docs.oracle.com/en/java/javase/13/docs/specs/man/java.html\r\n  [3]: https://stackoverflow.com/users/22656/jon-skeet?force_isolation=true\r\n  [4]: https://stackoverflow.com/users/40342/joachim-sauer?force_isolation=true","title":"&#39;java class name&#39; command not working, is there any change in recent version?","body":"<p>After some help from some stackoverflow veterans in the comment section I was able to understand what went wrong.</p>\n<p>The latest version of Java have introduced <strong>launching single file source code directly using Java command.</strong></p>\n<p>from <a href=\"https://docs.oracle.com/en/java/javase/13/docs/specs/man/java.html\" rel=\"nofollow noreferrer\">oracle docs.</a></p>\n<blockquote>\n<p>To launch a single source-file program:</p>\n<p>java [options] source-file [args ...]</p>\n</blockquote>\n<p>To run Helloworld.java, you can directly call execute <code>java Helloworld.java</code> it will execute the java program and gives output without generating <code>.class</code> file in the   current directory.</p>\n<p><strong>Why old way of running java class file didn't work for me?</strong></p>\n<p>I had a class path variable '<code>CLASSPATH</code>' in my environment, so when I execute <code>java HelloWorld</code> it is not looking for class in current directory. Give <code>java -cp .</code> to explicitly give current directory to classpath.</p>\n<pre><code>java -cp . HelloWorld\n</code></pre>\n<p>Credits: <a href=\"https://stackoverflow.com/users/22656/jon-skeet?force_isolation=true\">Jon Skeet</a>,<a href=\"https://stackoverflow.com/users/40342/joachim-sauer?force_isolation=true\">Joachim Sauer</a>, <a href=\"https://stackoverflow.com/users/768644/rzwitserloot?force_isolation=true\">rzwitserloot</a></p>\n"}],"owner":{"account_id":2402802,"reputation":1973,"user_id":3651739,"accept_rate":90,"display_name":"Jishnu Prathap"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1673958412,"creation_date":1667994809,"question_id":74374456,"body_markdown":"If I remember correctly \r\n\r\n 1. `javac filename.java` -&gt; compile and generates classname.class(es)\r\n 2. `java classname` without .class extension \r\n\r\nBut when I try `java filename.java` executes successfully while `java classname` command  gives the following error ,\r\n\r\n    Error: Could not find or load main class HelloWorld\r\n    Caused by: java.lang.ClassNotFoundException: HelloWorld\r\n\r\n**java -version**\r\n\r\n    openjdk version &quot;11&quot; 2018-09-25\r\n    OpenJDK Runtime Environment 18.9 (build 11+28)\r\n    OpenJDK 64-Bit Server VM 18.9 (build 11+28, mixed mode)\r\n\r\n \r\n**HelloWorld.java**\r\n\r\n    public class HelloWorld {\r\n       public static void main(String[] args) {\r\n          // Prints &quot;Hello, World&quot; in the terminal window.\r\n          System.out.println(&quot;Hello, World&quot;);\r\n       }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n`javap HelloWorld.class` is giving below output \r\n\r\n    Compiled from &quot;HelloWorld.java&quot;\r\n    public class HelloWorld {\r\n      public HelloWorld();\r\n      public static void main(java.lang.String[]);\r\n    }\r\n\r\n\r\n\r\n 1. `java HelloWorld.java` -&gt; executes fine, no class file generated.\r\n 2. `java HelloWorld` -&gt;  didn&#39;t execute.\r\n\r\nAny idea why the program is behaving like this? ","title":"&#39;java class name&#39; command not working, is there any change in recent version?","body":"<p>If I remember correctly</p>\n<ol>\n<li><code>javac filename.java</code> -&gt; compile and generates classname.class(es)</li>\n<li><code>java classname</code> without .class extension</li>\n</ol>\n<p>But when I try <code>java filename.java</code> executes successfully while <code>java classname</code> command  gives the following error ,</p>\n<pre><code>Error: Could not find or load main class HelloWorld\nCaused by: java.lang.ClassNotFoundException: HelloWorld\n</code></pre>\n<p><strong>java -version</strong></p>\n<pre><code>openjdk version &quot;11&quot; 2018-09-25\nOpenJDK Runtime Environment 18.9 (build 11+28)\nOpenJDK 64-Bit Server VM 18.9 (build 11+28, mixed mode)\n</code></pre>\n<p><strong>HelloWorld.java</strong></p>\n<pre><code>public class HelloWorld {\n   public static void main(String[] args) {\n      // Prints &quot;Hello, World&quot; in the terminal window.\n      System.out.println(&quot;Hello, World&quot;);\n   }\n}\n</code></pre>\n<p><code>javap HelloWorld.class</code> is giving below output</p>\n<pre><code>Compiled from &quot;HelloWorld.java&quot;\npublic class HelloWorld {\n  public HelloWorld();\n  public static void main(java.lang.String[]);\n}\n</code></pre>\n<ol>\n<li><code>java HelloWorld.java</code> -&gt; executes fine, no class file generated.</li>\n<li><code>java HelloWorld</code> -&gt;  didn't execute.</li>\n</ol>\n<p>Any idea why the program is behaving like this?</p>\n"},{"tags":["java","spring","spring-boot","kotlin","spring-security"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1673958774,"post_id":75146381,"comment_id":132608325,"body_markdown":"&quot;*Is it possible to implement this?*&quot; Yes. &quot;*is it the right way to do it?*&quot; No. Don&#39;t roll your own auth. Use Okta or MS Entra or something. Spring Security integrates with both.","body":"&quot;<i>Is it possible to implement this?</i>&quot; Yes. &quot;<i>is it the right way to do it?</i>&quot; No. Don&#39;t roll your own auth. Use Okta or MS Entra or something. Spring Security integrates with both."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1673959201,"post_id":75146381,"comment_id":132608473,"body_markdown":"As Michael already pointed out, don&#39;t implement it yourself. You might want to look for OAuth 2.0 or OpenID Connect (which is based on OAuth) and use any identity and authorization server you want, like Keycloak, WSO2, Okta etc. - or an online service like Auth0 or any provided by the cloud providers. The approach is basically to define and assign roles in that service/server, pass them in a JWT or via some other means, and have your services check for the user having those roles.","body":"As Michael already pointed out, don&#39;t implement it yourself. You might want to look for OAuth 2.0 or OpenID Connect (which is based on OAuth) and use any identity and authorization server you want, like Keycloak, WSO2, Okta etc. - or an online service like Auth0 or any provided by the cloud providers. The approach is basically to define and assign roles in that service/server, pass them in a JWT or via some other means, and have your services check for the user having those roles."}],"owner":{"account_id":17217428,"reputation":53,"user_id":13959870,"display_name":"fckNewbee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673958300,"creation_date":1673958300,"question_id":75146381,"body_markdown":"I wrote a chain of **spring applications**, each of which performs some unique functionality. It is a stretch to call this combination of separated services a **microservice architecture**. And now, I would like to **implement spring-security**. However, I think it&#39;s silly to implement authorization and authentication functionality for each of the services. \r\n\r\nCan you advise **how right it is** to make one more service which would serve as a **common place for authorization and authentication?** And already in each of the already written &quot;microservices&quot; I would check this authorization. \r\n\r\nFor example, I see the **following path to a &quot;microservice&quot;**. The client makes a **request to the common security service** and gets some kind of **jwt token** there and with this jwt token **goes to any of the services** and gets **authorized** there. In this case, this jwt token determines what rights are granted to this user. I would like to control access to end-points within the applications themselves, and get the jwt token from the outside.\r\n\r\nThe most important question. **Is it possible** to implement this? If it&#39;s possible, **is it the right** way to do it?\r\n\r\nI would be immensely grateful for any examples or articles on the subject!","title":"How do I make a generic authentication service?","body":"<p>I wrote a chain of <strong>spring applications</strong>, each of which performs some unique functionality. It is a stretch to call this combination of separated services a <strong>microservice architecture</strong>. And now, I would like to <strong>implement spring-security</strong>. However, I think it's silly to implement authorization and authentication functionality for each of the services.</p>\n<p>Can you advise <strong>how right it is</strong> to make one more service which would serve as a <strong>common place for authorization and authentication?</strong> And already in each of the already written &quot;microservices&quot; I would check this authorization.</p>\n<p>For example, I see the <strong>following path to a &quot;microservice&quot;</strong>. The client makes a <strong>request to the common security service</strong> and gets some kind of <strong>jwt token</strong> there and with this jwt token <strong>goes to any of the services</strong> and gets <strong>authorized</strong> there. In this case, this jwt token determines what rights are granted to this user. I would like to control access to end-points within the applications themselves, and get the jwt token from the outside.</p>\n<p>The most important question. <strong>Is it possible</strong> to implement this? If it's possible, <strong>is it the right</strong> way to do it?</p>\n<p>I would be immensely grateful for any examples or articles on the subject!</p>\n"},{"tags":["java","android","picasso","android-camera2","android-camera-intent"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1673958662,"post_id":75146331,"comment_id":132608285,"body_markdown":"You say you get all pictures. But i think you get nothing from getExternalFilesDir() as MediaStore will not index files located there.","body":"You say you get all pictures. But i think you get nothing from getExternalFilesDir() as MediaStore will not index files located there."},{"owner":{"account_id":25311834,"reputation":73,"user_id":19134480,"display_name":"Patrick Renaud"},"score":0,"creation_date":1673959153,"post_id":75146331,"comment_id":132608457,"body_markdown":"@blackapps i am talking about gallery photos when i have mentinned &quot;all pictures&quot; .. But i want to get pictures from getExternalFilesDir()","body":"@blackapps i am talking about gallery photos when i have mentinned &quot;all pictures&quot; .. But i want to get pictures from getExternalFilesDir()"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1673960482,"post_id":75146331,"comment_id":132608934,"body_markdown":"Well i asked you if all pictures means inclusive those from getExternalFilesDir(). Please answer.","body":"Well i asked you if all pictures means inclusive those from getExternalFilesDir(). Please answer."},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1673961000,"post_id":75146331,"comment_id":132609096,"body_markdown":"&quot;I am implementing a gallery app&quot; -- use `MediaStore` please, not filesystem APIs.","body":"&quot;I am implementing a gallery app&quot; -- use <code>MediaStore</code> please, not filesystem APIs."},{"owner":{"account_id":25311834,"reputation":73,"user_id":19134480,"display_name":"Patrick Renaud"},"score":0,"creation_date":1673964768,"post_id":75146331,"comment_id":132610431,"body_markdown":"@blackapps okay , got you now . Yes , you are right . i am getting nothing from from getExternalFilesDir()","body":"@blackapps okay , got you now . Yes , you are right . i am getting nothing from from getExternalFilesDir()"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1673965615,"post_id":75146331,"comment_id":132610802,"body_markdown":"And you also know why? You should know it already. I told you why. But you are not reacting on it with a question that brings you further.","body":"And you also know why? You should know it already. I told you why. But you are not reacting on it with a question that brings you further."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1673965702,"post_id":75146331,"comment_id":132610844,"body_markdown":"What is missing in your post from the beginning is that you did not tell how those image files landed in getExternalFilesDir().","body":"What is missing in your post from the beginning is that you did not tell how those image files landed in getExternalFilesDir()."}],"owner":{"account_id":25311834,"reputation":73,"user_id":19134480,"display_name":"Patrick Renaud"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673958044,"creation_date":1673958044,"question_id":75146331,"body_markdown":"I am implementing a gallery app where i want to use photpos stored in getExternalFilesDir(Environment.DIRECTORY_PICTURES) directory .. Here is the code but what i get is all the gallery photo pictures , how can i figure this out : \r\n\r\n        public class GalleryPhotoActivity extends AppCompatActivity {\r\n    ActivityGalleryPhotoBinding binding;\r\n    ArrayList&lt;Uri&gt; imageuris= new ArrayList&lt;&gt;();\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            binding= ActivityGalleryPhotoBinding.inflate(getLayoutInflater());\r\n            setContentView(binding.getRoot());\r\n    \r\n            String [] projection=new String[]{\r\n                MediaStore.Images.Media._ID,\r\n                    MediaStore.Images.Media.SIZE,\r\n                    MediaStore.Images.Media.DATE_MODIFIED\r\n            };\r\n            String selection=null;\r\n            String[] selectionArgs =null;\r\n            String orderby=null;\r\n            Uri content_uri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI;\r\n            Cursor cursor=getContentResolver().query(content_uri,projection,selection,selectionArgs,orderby);\r\n            if(cursor!=null){\r\n                cursor.moveToPosition(0);\r\n                while(true){\r\n                    long id= cursor.getLong(cursor.getColumnIndexOrThrow(MediaStore.Images.Media._ID));\r\n                    Uri image_uri= ContentUris.withAppendedId(MediaStore.Images.Media.EXTERNAL_CONTENT_URI,id);\r\n    \r\n                    imageuris.add(image_uri);\r\n                    if(!cursor.isLast())\r\n                    cursor.moveToNext();\r\n                    else\r\n                        break;\r\n                }\r\n                binding.rv.setLayoutManager(new GridLayoutManager(this,3));\r\n                RvAdapter adapter = new RvAdapter(imageuris);\r\n                binding.rv.setAdapter(adapter);\r\n            }\r\n    \r\n    \r\n    \r\n        }\r\n    }","title":"How to get photos from getExternalFilesDir","body":"<p>I am implementing a gallery app where i want to use photpos stored in getExternalFilesDir(Environment.DIRECTORY_PICTURES) directory .. Here is the code but what i get is all the gallery photo pictures , how can i figure this out :</p>\n<pre><code>    public class GalleryPhotoActivity extends AppCompatActivity {\nActivityGalleryPhotoBinding binding;\nArrayList&lt;Uri&gt; imageuris= new ArrayList&lt;&gt;();\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding= ActivityGalleryPhotoBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        String [] projection=new String[]{\n            MediaStore.Images.Media._ID,\n                MediaStore.Images.Media.SIZE,\n                MediaStore.Images.Media.DATE_MODIFIED\n        };\n        String selection=null;\n        String[] selectionArgs =null;\n        String orderby=null;\n        Uri content_uri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI;\n        Cursor cursor=getContentResolver().query(content_uri,projection,selection,selectionArgs,orderby);\n        if(cursor!=null){\n            cursor.moveToPosition(0);\n            while(true){\n                long id= cursor.getLong(cursor.getColumnIndexOrThrow(MediaStore.Images.Media._ID));\n                Uri image_uri= ContentUris.withAppendedId(MediaStore.Images.Media.EXTERNAL_CONTENT_URI,id);\n\n                imageuris.add(image_uri);\n                if(!cursor.isLast())\n                cursor.moveToNext();\n                else\n                    break;\n            }\n            binding.rv.setLayoutManager(new GridLayoutManager(this,3));\n            RvAdapter adapter = new RvAdapter(imageuris);\n            binding.rv.setAdapter(adapter);\n        }\n\n\n\n    }\n}\n</code></pre>\n"},{"tags":["java","loops","java-8"],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1503953463,"creation_date":1503953463,"answer_id":45927163,"question_id":45927140,"body_markdown":"You can stream the lists and concat the streams into one:\r\n\r\n    Stream.concat(listA.stream(), listB.stream())\r\n        .forEach(elem -&gt; {\r\n            someCommonMethodToCall(elem);\r\n            someOtherMethodToCall(elem);\r\n        });","title":"Iterate over 2 lists in java","body":"<p>You can stream the lists and concat the streams into one:</p>\n\n<pre><code>Stream.concat(listA.stream(), listB.stream())\n    .forEach(elem -&gt; {\n        someCommonMethodToCall(elem);\n        someOtherMethodToCall(elem);\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":96690,"reputation":37290,"user_id":262683,"display_name":"Costi Ciudatu"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1503953493,"creation_date":1503953493,"answer_id":45927166,"question_id":45927140,"body_markdown":"With Java 8 you can use streams:\r\n\r\n    Stream.concat(listA.stream(), listB.stream())\r\n            .forEach(this::someCommonMethodToCall);","title":"Iterate over 2 lists in java","body":"<p>With Java 8 you can use streams:</p>\n\n<pre><code>Stream.concat(listA.stream(), listB.stream())\n        .forEach(this::someCommonMethodToCall);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503953673,"creation_date":1503953673,"answer_id":45927209,"question_id":45927140,"body_markdown":"Consider Option 3,\r\na DRY approach.\r\nIt seems RYL (repeat yourself less), but it is dryer than your current approach.\r\n\r\n    private void doStuff(final String value)\r\n    {\r\n        someCommonMethodToCall1(value);\r\n        someCommonMethodToCall2(value);\r\n        ...\r\n    }\r\n\r\n    for (final String currentValue: listA)\r\n    {\r\n        doStuff(currentValue);\r\n        ...\r\n    }\r\n\r\n    for (final String currentValue: listB)\r\n    {\r\n        doStuff(currentValue);\r\n        ...\r\n    }\r\n","title":"Iterate over 2 lists in java","body":"<p>Consider Option 3,\na DRY approach.\nIt seems RYL (repeat yourself less), but it is dryer than your current approach.</p>\n\n<pre><code>private void doStuff(final String value)\n{\n    someCommonMethodToCall1(value);\n    someCommonMethodToCall2(value);\n    ...\n}\n\nfor (final String currentValue: listA)\n{\n    doStuff(currentValue);\n    ...\n}\n\nfor (final String currentValue: listB)\n{\n    doStuff(currentValue);\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1503987628,"creation_date":1503987628,"answer_id":45931989,"question_id":45927140,"body_markdown":"You can use the `peek` method of a `Stream` for the first method call followed by `forEach`:\r\n\r\n    List&lt;Integer&gt; one = Arrays.asList(1, 2, 3);\r\n    List&lt;Integer&gt; two = Arrays.asList(4, 5, 6);\r\n    Stream.concat(one.stream(), two.stream())\r\n            .peek(System.out::print)\r\n            .forEach(System.out::println);\r\n\r\nThe following will also work using [Eclipse Collections][1] `tap` method followed by `forEach`:\r\n\r\n    List&lt;Integer&gt; one = Arrays.asList(1, 2, 3);\r\n    List&lt;Integer&gt; two = Arrays.asList(4, 5, 6);\r\n    LazyIterate.concatenate(one, two)\r\n            .tap(System.out::print)\r\n            .forEach(System.out::println);\r\n\r\nYou can chain as many method calls as you need using `peek` or `tap` but what I would recommend is extracting a composite method which makes both method calls.\r\n\r\nNote: I am a committer for Eclipse Collections.\r\n\r\n\r\n  [1]: https://www.eclipse.org/collections/","title":"Iterate over 2 lists in java","body":"<p>You can use the <code>peek</code> method of a <code>Stream</code> for the first method call followed by <code>forEach</code>:</p>\n\n<pre><code>List&lt;Integer&gt; one = Arrays.asList(1, 2, 3);\nList&lt;Integer&gt; two = Arrays.asList(4, 5, 6);\nStream.concat(one.stream(), two.stream())\n        .peek(System.out::print)\n        .forEach(System.out::println);\n</code></pre>\n\n<p>The following will also work using <a href=\"https://www.eclipse.org/collections/\" rel=\"nofollow noreferrer\">Eclipse Collections</a> <code>tap</code> method followed by <code>forEach</code>:</p>\n\n<pre><code>List&lt;Integer&gt; one = Arrays.asList(1, 2, 3);\nList&lt;Integer&gt; two = Arrays.asList(4, 5, 6);\nLazyIterate.concatenate(one, two)\n        .tap(System.out::print)\n        .forEach(System.out::println);\n</code></pre>\n\n<p>You can chain as many method calls as you need using <code>peek</code> or <code>tap</code> but what I would recommend is extracting a composite method which makes both method calls.</p>\n\n<p>Note: I am a committer for Eclipse Collections.</p>\n"},{"tags":[],"owner":{"account_id":20992047,"reputation":60,"user_id":15424719,"display_name":"Annan Yearian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673957560,"creation_date":1673957560,"answer_id":75146247,"question_id":45927140,"body_markdown":"An interesting variation of shmosel&#39;s answer is looping over the stream&#39;s iterator directly. Something like:\r\n\r\n```java\r\nfor (String elem : (Iterable&lt;String&gt;) Stream.concat(listA.stream(), listB.stream())::iterator) {\r\n    someCommonMethodToCall(elem);\r\n    someCommonMethodToCall(elem);\r\n    ...\r\n}\r\n```\r\n\r\nNot sure if it&#39;s faster but does avoid defining an inner lambda as well as other issues of creating a new array or duplicating code.\r\n\r\nIf using often I would create a utility method to reduce line-complexity, `StreamUtils.streamIter()` or something.\r\n\r\n\r\n```java\r\nfor (String elem : streamIter(Stream.concat(listA.stream(), listB.stream()))) {\r\n    someCommonMethodToCall(elem);\r\n    someCommonMethodToCall(elem);\r\n    ...\r\n}\r\n```","title":"Iterate over 2 lists in java","body":"<p>An interesting variation of shmosel's answer is looping over the stream's iterator directly. Something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (String elem : (Iterable&lt;String&gt;) Stream.concat(listA.stream(), listB.stream())::iterator) {\n    someCommonMethodToCall(elem);\n    someCommonMethodToCall(elem);\n    ...\n}\n</code></pre>\n<p>Not sure if it's faster but does avoid defining an inner lambda as well as other issues of creating a new array or duplicating code.</p>\n<p>If using often I would create a utility method to reduce line-complexity, <code>StreamUtils.streamIter()</code> or something.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (String elem : streamIter(Stream.concat(listA.stream(), listB.stream()))) {\n    someCommonMethodToCall(elem);\n    someCommonMethodToCall(elem);\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":4997243,"reputation":675,"user_id":4017375,"accept_rate":33,"display_name":"Ankush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11068,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":45927163,"answer_count":5,"score":5,"last_activity_date":1673957560,"creation_date":1503953327,"question_id":45927140,"body_markdown":"    List&lt;String&gt; listA = new Arraylist();\r\n    List&lt;String&gt; listB = new Arraylist();\r\n\r\nGiven above 2 lists, I want to iterate and call the same method on each element. \r\n\r\n**Option 1**\r\n\r\n    for(String aStr: listA){\r\n        someCommonMethodToCall(aStr);\r\n        someCommonMethodToCall(aStr);\r\n        ...\r\n    }\r\n    for(String bStr: listB){\r\n        someCommonMethodToCall(bStr);\r\n        someCommonMethodToCall(bStr);\r\n        ...\r\n    }\r\n\r\nor\r\n\r\n**Option 2**\r\n\r\n    List&lt;String&gt; mergedList = new ArrayList();\r\n    mergedList.addAll(listA);\r\n    mergedList.addAll(listB);\r\n    \r\n    for(String elem: mergedList){\r\n        someCommonMethodToCall(elem);\r\n        someCommonMethodToCall(elem);\r\n        ...\r\n    }\r\n\r\nor\r\n\r\n**Option 3**\r\n\r\nI feel the Option 1 should be the best. Is there some Java 8 lambda way to do this? Also, performance wise, would anything better than Option 1?","title":"Iterate over 2 lists in java","body":"<pre><code>List&lt;String&gt; listA = new Arraylist();\nList&lt;String&gt; listB = new Arraylist();\n</code></pre>\n\n<p>Given above 2 lists, I want to iterate and call the same method on each element. </p>\n\n<p><strong>Option 1</strong></p>\n\n<pre><code>for(String aStr: listA){\n    someCommonMethodToCall(aStr);\n    someCommonMethodToCall(aStr);\n    ...\n}\nfor(String bStr: listB){\n    someCommonMethodToCall(bStr);\n    someCommonMethodToCall(bStr);\n    ...\n}\n</code></pre>\n\n<p>or</p>\n\n<p><strong>Option 2</strong></p>\n\n<pre><code>List&lt;String&gt; mergedList = new ArrayList();\nmergedList.addAll(listA);\nmergedList.addAll(listB);\n\nfor(String elem: mergedList){\n    someCommonMethodToCall(elem);\n    someCommonMethodToCall(elem);\n    ...\n}\n</code></pre>\n\n<p>or</p>\n\n<p><strong>Option 3</strong></p>\n\n<p>I feel the Option 1 should be the best. Is there some Java 8 lambda way to do this? Also, performance wise, would anything better than Option 1?</p>\n"},{"tags":["java","xml","spring"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1673953963,"post_id":75145544,"comment_id":132606845,"body_markdown":"Why is `arrestedindex` not null if `arrested` is false?","body":"Why is <code>arrestedindex</code> not null if <code>arrested</code> is false?"},{"owner":{"account_id":2557515,"reputation":177,"user_id":2219184,"display_name":"OASE Software GmbH"},"score":0,"creation_date":1673965472,"post_id":75145544,"comment_id":132610738,"body_markdown":"Because that is the use case of the customer. We had to rewrite an old application with spring, so this unfortunatelly is legacy.","body":"Because that is the use case of the customer. We had to rewrite an old application with spring, so this unfortunatelly is legacy."},{"owner":{"account_id":2557515,"reputation":177,"user_id":2219184,"display_name":"OASE Software GmbH"},"score":0,"creation_date":1673977207,"post_id":75145544,"comment_id":132614905,"body_markdown":"I thought this could help, but also with the JsonIcnlude.Include.CUSTOM Annotation I only can check the current value where the annotation is set, but not another value from the same class &#128553; \nhttps://www.logicbig.com/tutorials/misc/jackson/json-include-customized.html","body":"I thought this could help, but also with the JsonIcnlude.Include.CUSTOM Annotation I only can check the current value where the annotation is set, but not another value from the same class 😩  <a href=\"https://www.logicbig.com/tutorials/misc/jackson/json-include-customized.html\" rel=\"nofollow noreferrer\">logicbig.com/tutorials/misc/jackson/&hellip;</a>"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1674025876,"post_id":75145544,"comment_id":132624252,"body_markdown":"The fallback option would be to provide a custom serializer that handles that level and uses the standard serializers for the rest. Have a look here for some more info: https://www.baeldung.com/jackson-custom-serialization","body":"The fallback option would be to provide a custom serializer that handles that level and uses the standard serializers for the rest. Have a look here for some more info: <a href=\"https://www.baeldung.com/jackson-custom-serialization\" rel=\"nofollow noreferrer\">baeldung.com/jackson-custom-serialization</a>"},{"owner":{"account_id":2557515,"reputation":177,"user_id":2219184,"display_name":"OASE Software GmbH"},"score":0,"creation_date":1674039652,"post_id":75145544,"comment_id":132628329,"body_markdown":"Thank you for your input. It seems, that only this can handle my use-case.","body":"Thank you for your input. It seems, that only this can handle my use-case."}],"owner":{"account_id":2557515,"reputation":177,"user_id":2219184,"display_name":"OASE Software GmbH"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673957427,"creation_date":1673953861,"question_id":75145544,"body_markdown":"In a Spring-MVC app in my datamodel I&#39;ve two fields\r\n\r\n`@JsonView(JsonXml_Views.List.class) private Boolean arrested;`  \r\n`@JsonView(JsonXml_Views.List.class) @JsonInclude(Include.NON_EMPTY) private Integer arrestedindex;\r\n`\r\n\r\nThe use case now is, that `arrestedindex` only should be marshalled when `arrested` is set to true. But with the annotation **@JsonInclude(Include.NON_EMPTY)** `arrestedindex` also will be marshalled when `arrested` is set to false which I want to prohibit.\r\nAt the moment I absolutely have no clue how to implement this.\r\nAnybody able to help me with this?\r\n\r\nThanks in advance","title":"@JsonInclude(Include.NON_EMPTY) dependend on another field","body":"<p>In a Spring-MVC app in my datamodel I've two fields</p>\n<p><code>@JsonView(JsonXml_Views.List.class) private Boolean arrested;</code><br />\n<code>@JsonView(JsonXml_Views.List.class) @JsonInclude(Include.NON_EMPTY) private Integer arrestedindex; </code></p>\n<p>The use case now is, that <code>arrestedindex</code> only should be marshalled when <code>arrested</code> is set to true. But with the annotation <strong>@JsonInclude(Include.NON_EMPTY)</strong> <code>arrestedindex</code> also will be marshalled when <code>arrested</code> is set to false which I want to prohibit.\nAt the moment I absolutely have no clue how to implement this.\nAnybody able to help me with this?</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","eclipse","package"],"comments":[{"owner":{"account_id":347037,"reputation":79658,"user_id":680925,"display_name":"Perception"},"score":0,"creation_date":1365040855,"post_id":15801287,"comment_id":22470692,"body_markdown":"Whats a subpackage? You can highlight an existing package and select the new package icon on the run bar, in order to have it pre-populate the existing packages name.","body":"Whats a subpackage? You can highlight an existing package and select the new package icon on the run bar, in order to have it pre-populate the existing packages name."},{"owner":{"account_id":41994,"reputation":20222,"user_id":122207,"display_name":"Tim Bender"},"score":0,"creation_date":1365041161,"post_id":15801287,"comment_id":22470770,"body_markdown":"@jahroy I understand that you are off-put by the OP&#39;s claim to having searched for an answer, but I think a down vote is enough. Why not just answer? Or do your own research and find the duplicate.","body":"@jahroy I understand that you are off-put by the OP&#39;s claim to having searched for an answer, but I think a down vote is enough. Why not just answer? Or do your own research and find the duplicate."},{"owner":{"account_id":2438228,"reputation":1375,"user_id":2127532,"accept_rate":58,"display_name":"CaptainForge"},"score":0,"creation_date":1365041382,"post_id":15801287,"comment_id":22470812,"body_markdown":"@jahroy None of the things anyone is suggesting is actually creating a subpackage, I&#39;ve tried it all already.  I&#39;m wanting to have the packages be folders that I put other packages in, but I&#39;ve tried many methods.  I&#39;ve tried the ones on this page already.  Before you downgrade a question, how about you look into what it&#39;s actually asking?  Either my version of Eclipse is screwed up, or you people are misguided by what I&#39;m asking.","body":"@jahroy None of the things anyone is suggesting is actually creating a subpackage, I&#39;ve tried it all already.  I&#39;m wanting to have the packages be folders that I put other packages in, but I&#39;ve tried many methods.  I&#39;ve tried the ones on this page already.  Before you downgrade a question, how about you look into what it&#39;s actually asking?  Either my version of Eclipse is screwed up, or you people are misguided by what I&#39;m asking."},{"owner":{"account_id":407825,"reputation":22412,"user_id":778118,"accept_rate":67,"display_name":"jahroy"},"score":0,"creation_date":1365042863,"post_id":15801287,"comment_id":22471120,"body_markdown":"Before asking a question, maybe you should determine if your question is valid.  I don&#39;t think you understand packages.","body":"Before asking a question, maybe you should determine if your question is valid.  I don&#39;t think you understand packages."},{"owner":{"account_id":2438228,"reputation":1375,"user_id":2127532,"accept_rate":58,"display_name":"CaptainForge"},"score":0,"creation_date":1365043497,"post_id":15801287,"comment_id":22471270,"body_markdown":"@jahroy I understand that in the default Java library there are sub-packages (Example: superPackage.subPackage.anotherSub.class).  And I found it rather reasonable to assume that Eclipse would have a convenient way of visualizing this.","body":"@jahroy I understand that in the default Java library there are sub-packages (Example: superPackage.subPackage.anotherSub.class).  And I found it rather reasonable to assume that Eclipse would have a convenient way of visualizing this."},{"owner":{"account_id":407825,"reputation":22412,"user_id":778118,"accept_rate":67,"display_name":"jahroy"},"score":0,"creation_date":1365044061,"post_id":15801287,"comment_id":22471415,"body_markdown":"I apologize for that last comment.  At the time it was extremely unclear what you were after.  As always, it helps to add as much detail when asking a question ;-) When in doubt, thorough descriptions and/or screenshots always help.","body":"I apologize for that last comment.  At the time it was extremely unclear what you were after.  As always, it helps to add as much detail when asking a question ;-) When in doubt, thorough descriptions and/or screenshots always help."}],"answers":[{"tags":[],"owner":{"account_id":41994,"reputation":20222,"user_id":122207,"display_name":"Tim Bender"},"down_vote_count":1,"up_vote_count":26,"is_accepted":true,"score":25,"last_activity_date":1365057645,"creation_date":1365040812,"answer_id":15801330,"question_id":15801287,"body_markdown":"Eclipse offers the `Navigator` view which will display your project in the way you are asking.  To open this view select `Window &gt; Show View &gt; Navigator`.","title":"How can I view packages as folder structure in eclipse","body":"<p>Eclipse offers the <code>Navigator</code> view which will display your project in the way you are asking.  To open this view select <code>Window &gt; Show View &gt; Navigator</code>.</p>\n"},{"tags":[],"owner":{"account_id":378962,"reputation":15657,"user_id":732016,"accept_rate":83,"display_name":"wchargin"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1365050065,"creation_date":1365040821,"answer_id":15801332,"question_id":15801287,"body_markdown":"Select the first package in the package explorer. Press &lt;kbd&gt;Alt&lt;/kbd&gt;-&lt;kbd&gt;Shift&lt;/kbd&gt;-&lt;kbd&gt;**N**&lt;/kbd&gt; to open the new item context menu. Click &quot;Package.&quot;\r\n\r\nMake sure that the new package name is a sub-package of the original package. For example, if your original package is `com.example`, the new package might be `com.example.gui`.\r\n\r\n---\r\n\r\n**EDIT**: If you want to *see* the nested packages, [Eugene says](https://stackoverflow.com/a/3916062/732016) that you can do this:\r\n\r\n&gt; Package Explorer / View Menu (Ctrl-F10) / Package Presentation... /\r\n&gt; Hierarchical","title":"How can I view packages as folder structure in eclipse","body":"<p>Select the first package in the package explorer. Press <kbd>Alt</kbd>-<kbd>Shift</kbd>-<kbd><strong>N</strong></kbd> to open the new item context menu. Click \"Package.\"</p>\n\n<p>Make sure that the new package name is a sub-package of the original package. For example, if your original package is <code>com.example</code>, the new package might be <code>com.example.gui</code>.</p>\n\n<hr>\n\n<p><strong>EDIT</strong>: If you want to <em>see</em> the nested packages, <a href=\"https://stackoverflow.com/a/3916062/732016\">Eugene says</a> that you can do this:</p>\n\n<blockquote>\n  <p>Package Explorer / View Menu (Ctrl-F10) / Package Presentation... /\n  Hierarchical</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":27552503,"reputation":1,"user_id":21027296,"display_name":"Rohan Taralkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673957418,"creation_date":1673957418,"answer_id":75146219,"question_id":15801287,"body_markdown":"Click on three dots on project explorer toolbar  -&gt; Package representation -&gt; select  \r\nHierarchical \r\n\r\n[Eclipse Image][1]\r\n  [1]: https://i.stack.imgur.com/qTGqm.png","title":"How can I view packages as folder structure in eclipse","body":"<p>Click on three dots on project explorer toolbar  -&gt; Package representation -&gt; select<br />\nHierarchical</p>\n<p>[Eclipse Image][1]\n[1]: https://i.stack.imgur.com/qTGqm.png</p>\n"}],"owner":{"account_id":2438228,"reputation":1375,"user_id":2127532,"accept_rate":58,"display_name":"CaptainForge"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38225,"favorite_count":0,"down_vote_count":3,"up_vote_count":15,"accepted_answer_id":15801330,"answer_count":3,"score":12,"last_activity_date":1673957418,"creation_date":1365040534,"question_id":15801287,"body_markdown":"In eclipse, I would like to see packages as a folder structure rather than the flattened look provided by the `Package Explorer` default settings, is there a way to do this?","title":"How can I view packages as folder structure in eclipse","body":"<p>In eclipse, I would like to see packages as a folder structure rather than the flattened look provided by the <code>Package Explorer</code> default settings, is there a way to do this?</p>\n"},{"tags":["java","json","java-8","jolt"],"comments":[{"owner":{"account_id":11500422,"reputation":2541,"user_id":8428397,"display_name":"Mohammadreza Khedri"},"score":0,"creation_date":1673874973,"post_id":75134532,"comment_id":132588004,"body_markdown":"The latest version of jolt is `0.1.6`. please see the releases: https://github.com/bazaarvoice/jolt/releases","body":"The latest version of jolt is <code>0.1.6</code>. please see the releases: <a href=\"https://github.com/bazaarvoice/jolt/releases\" rel=\"nofollow noreferrer\">github.com/bazaarvoice/jolt/releases</a>"},{"owner":{"account_id":14739596,"reputation":1972,"user_id":10644550,"display_name":"Shiva"},"score":0,"creation_date":1673887865,"post_id":75134532,"comment_id":132592592,"body_markdown":"@MohammadReza I didn&#39;t get your point. is 0.1.7 in dev? I didn&#39;t see any errors about the version library version though. I mean the code compiles but fails while running the app","body":"@MohammadReza I didn&#39;t get your point. is 0.1.7 in dev? I didn&#39;t see any errors about the version library version though. I mean the code compiles but fails while running the app"},{"owner":{"account_id":14739596,"reputation":1972,"user_id":10644550,"display_name":"Shiva"},"score":0,"creation_date":1673888259,"post_id":75134532,"comment_id":132592727,"body_markdown":"https://mvnrepository.com/artifact/com.bazaarvoice.jolt/jolt-core","body":"<a href=\"https://mvnrepository.com/artifact/com.bazaarvoice.jolt/jolt-core\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.bazaarvoice.jolt/jolt-core</a>"},{"owner":{"account_id":11500422,"reputation":2541,"user_id":8428397,"display_name":"Mohammadreza Khedri"},"score":0,"creation_date":1673896092,"post_id":75134532,"comment_id":132594983,"body_markdown":"I did not downvote your question. Your right. I saw `0.1.7` in the maven repository. I suggest trying version `0.1.1` too.","body":"I did not downvote your question. Your right. I saw <code>0.1.7</code> in the maven repository. I suggest trying version <code>0.1.1</code> too."},{"owner":{"account_id":11500422,"reputation":2541,"user_id":8428397,"display_name":"Mohammadreza Khedri"},"score":0,"creation_date":1673896570,"post_id":75134532,"comment_id":132595102,"body_markdown":"If jolt failed to convert your input JSON return `null`. So the problem may be from the jolt specification. I added an answer that might solve your problem. upvote +1","body":"If jolt failed to convert your input JSON return <code>null</code>. So the problem may be from the jolt specification. I added an answer that might solve your problem. upvote +1"},{"owner":{"account_id":14739596,"reputation":1972,"user_id":10644550,"display_name":"Shiva"},"score":1,"creation_date":1673957496,"post_id":75134532,"comment_id":132607887,"body_markdown":"Same spec worked with online tool but fails with java code. Let me try with older version","body":"Same spec worked with online tool but fails with java code. Let me try with older version"}],"answers":[{"tags":[],"owner":{"account_id":11500422,"reputation":2541,"user_id":8428397,"display_name":"Mohammadreza Khedri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673897358,"creation_date":1673874207,"answer_id":75134613,"question_id":75134532,"body_markdown":"If jolt failed to convert your input JSON return `null`. So it can be for jolt specification.\r\n\r\nLet&#39;s use the demo version of the site. Maybe the problem is solved.\r\n\r\nPlease update your package with version `0.1.1` like the [jolt-demo][1] website, and use the below code.\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;id&quot;: &quot;&amp;&quot;,\r\n      &quot;name&quot;: &quot;fullname&quot;,\r\n      &quot;emailId&quot;: &quot;email&quot;,\r\n      &quot;salary&quot;: &quot;salary&quot;,\r\n      &quot;address&quot;: {\r\n        &quot;*&quot;: &quot;&amp;1&quot;\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: &quot;=join(&#39; &#39;,@0)&quot;\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nIf you have any problem please say in the comment.\r\n\r\n\r\n  [1]: https://jolt-demo.appspot.com/#inception","title":"Jolt returns null after transforming but same works at http://jolt-demo.appspot.com/#inception","body":"<p>If jolt failed to convert your input JSON return <code>null</code>. So it can be for jolt specification.</p>\n<p>Let's use the demo version of the site. Maybe the problem is solved.</p>\n<p>Please update your package with version <code>0.1.1</code> like the <a href=\"https://jolt-demo.appspot.com/#inception\" rel=\"nofollow noreferrer\">jolt-demo</a> website, and use the below code.</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;id&quot;: &quot;&amp;&quot;,\n      &quot;name&quot;: &quot;fullname&quot;,\n      &quot;emailId&quot;: &quot;email&quot;,\n      &quot;salary&quot;: &quot;salary&quot;,\n      &quot;address&quot;: {\n        &quot;*&quot;: &quot;&amp;1&quot;\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: &quot;=join(' ',@0)&quot;\n    }\n  }\n]\n</code></pre>\n<p>If you have any problem please say in the comment.</p>\n"}],"owner":{"account_id":14739596,"reputation":1972,"user_id":10644550,"display_name":"Shiva"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1673957374,"creation_date":1673873721,"question_id":75134532,"body_markdown":"I am trying to transform the below JSON:\r\n\r\n**From:**\r\n\r\n```json\r\n{\r\n  &quot;id&quot;: 123,\r\n  &quot;name&quot;: {\r\n    &quot;firstName&quot;: &quot;shiva&quot;,\r\n    &quot;lastName&quot;: &quot;kumar&quot;\r\n  },\r\n  &quot;dateOfBirth&quot;: &quot;11/09/2012&quot;,\r\n  &quot;emailId&quot;: &quot;mymail@gmail.com&quot;,\r\n  &quot;address&quot;: {\r\n    &quot;addressLine1&quot;: &quot;blr&quot;,\r\n    &quot;addressLine2&quot;: &quot;KA&quot;\r\n  },\r\n  &quot;salary&quot;: 12334\r\n}\r\n```\r\n\r\n**to:**\r\n\r\n```json\r\n{\r\n  &quot;id&quot;: 123,\r\n  &quot;email&quot;: &quot;mymail@gmail.com&quot;,\r\n  &quot;salary&quot;: 12334,\r\n  &quot;fullname&quot;: {\r\n    &quot;firstName&quot;: &quot;shiva&quot;,\r\n    &quot;lastName&quot;: &quot;kumar&quot;\r\n  },\r\n  &quot;fullAdress&quot;: &quot;blr KA&quot;\r\n}\r\n```\r\n\r\n\r\n**Code:** The below code just return `null`.\r\n\r\n```java\r\n    private JSONObject tranformRequest(String json, String specFile){\r\n    \r\n            URI uri = Thread.currentThread().getContextClassLoader().getResource(specFile).toURI();\r\n            String jsonSpec = Files.readAllLines(Paths.get(uri)).stream().collect(Collectors.joining());\r\n            JSONArray jsonArray = new JSONArray(jsonSpec);\r\n            List&lt;Map&lt;String, Object&gt;&gt; list = new ArrayList&lt;&gt;();\r\n            for(int i = 0 ; i &lt; jsonArray.length();i++){\r\n                list.add(jsonArray.getJSONObject(i).toMap());\r\n            }\r\n            Chainr chainr = Chainr.fromSpec(list);//  JsonUtils.classpathToList( &quot;/path/to/chainr/spec.json&quot; );\r\n    \r\n            Object output = chainr.transform( json );\r\n    \r\n            return (JSONObject) output;\r\n        }\r\n\r\npom.xml\r\n\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;com.bazaarvoice.jolt&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jolt-core&lt;/artifactId&gt;\r\n            &lt;version&gt;0.1.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n\r\n[![from jolt transformation tool online [http://jolt-demo.appspot.com/#inception\\]\\[1\\]][1]][2]\r\n\r\n\r\n  [1]: http://jolt-demo.appspot.com/#inception\r\n  [2]: https://i.stack.imgur.com/mc3x2.png","title":"Jolt returns null after transforming but same works at http://jolt-demo.appspot.com/#inception","body":"<p>I am trying to transform the below JSON:</p>\n<p><strong>From:</strong></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;id&quot;: 123,\n  &quot;name&quot;: {\n    &quot;firstName&quot;: &quot;shiva&quot;,\n    &quot;lastName&quot;: &quot;kumar&quot;\n  },\n  &quot;dateOfBirth&quot;: &quot;11/09/2012&quot;,\n  &quot;emailId&quot;: &quot;mymail@gmail.com&quot;,\n  &quot;address&quot;: {\n    &quot;addressLine1&quot;: &quot;blr&quot;,\n    &quot;addressLine2&quot;: &quot;KA&quot;\n  },\n  &quot;salary&quot;: 12334\n}\n</code></pre>\n<p><strong>to:</strong></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;id&quot;: 123,\n  &quot;email&quot;: &quot;mymail@gmail.com&quot;,\n  &quot;salary&quot;: 12334,\n  &quot;fullname&quot;: {\n    &quot;firstName&quot;: &quot;shiva&quot;,\n    &quot;lastName&quot;: &quot;kumar&quot;\n  },\n  &quot;fullAdress&quot;: &quot;blr KA&quot;\n}\n</code></pre>\n<p><strong>Code:</strong> The below code just return <code>null</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private JSONObject tranformRequest(String json, String specFile){\n    \n            URI uri = Thread.currentThread().getContextClassLoader().getResource(specFile).toURI();\n            String jsonSpec = Files.readAllLines(Paths.get(uri)).stream().collect(Collectors.joining());\n            JSONArray jsonArray = new JSONArray(jsonSpec);\n            List&lt;Map&lt;String, Object&gt;&gt; list = new ArrayList&lt;&gt;();\n            for(int i = 0 ; i &lt; jsonArray.length();i++){\n                list.add(jsonArray.getJSONObject(i).toMap());\n            }\n            Chainr chainr = Chainr.fromSpec(list);//  JsonUtils.classpathToList( &quot;/path/to/chainr/spec.json&quot; );\n    \n            Object output = chainr.transform( json );\n    \n            return (JSONObject) output;\n        }\n\npom.xml\n\n         &lt;dependency&gt;\n            &lt;groupId&gt;com.bazaarvoice.jolt&lt;/groupId&gt;\n            &lt;artifactId&gt;jolt-core&lt;/artifactId&gt;\n            &lt;version&gt;0.1.7&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>[<img src=\"https://i.stack.imgur.com/mc3x2.png\" alt=\"from jolt transformation tool online http://jolt-demo.appspot.com/#inception][1]\" /></p>\n"},{"tags":["java","javafx","executable-jar"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1673949884,"post_id":75144576,"comment_id":132605657,"body_markdown":"Which Java version is being used? (JavaFX was removed from *newer* Java versions [some years ago, Java 11] - JavaFX libraries must be added)","body":"Which Java version is being used? (JavaFX was removed from <i>newer</i> Java versions [some years ago, Java 11] - JavaFX libraries must be added)"},{"owner":{"account_id":26491187,"reputation":1,"user_id":20129366,"display_name":"Jeremy"},"score":0,"creation_date":1673950055,"post_id":75144576,"comment_id":132605723,"body_markdown":"java 19 Oracle OpenJDK version 19","body":"java 19 Oracle OpenJDK version 19"}],"answers":[{"tags":[],"owner":{"account_id":26241687,"reputation":21,"user_id":19915899,"display_name":"Mr Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673957070,"creation_date":1673957070,"answer_id":75146149,"question_id":75144576,"body_markdown":"JavaFX support has been removed from JAVA-11. You can find it in older versions. Alternatively, if you want to use a higher version of JAVA you can try the JDK of other vendors such as [AZUL OpenJDK][1] which provides JDK with JavaFX support. Alternatively, you can use [JavaFX SDK][2] along with JDK which will provide you with JavaFX support.\r\n\r\n\r\n  [1]: https://www.azul.com/downloads/?package=jdk\r\n  [2]: https://gluonhq.com/products/javafx/","title":"I created a Jar file with intellij but it wont run","body":"<p>JavaFX support has been removed from JAVA-11. You can find it in older versions. Alternatively, if you want to use a higher version of JAVA you can try the JDK of other vendors such as <a href=\"https://www.azul.com/downloads/?package=jdk\" rel=\"nofollow noreferrer\">AZUL OpenJDK</a> which provides JDK with JavaFX support. Alternatively, you can use <a href=\"https://gluonhq.com/products/javafx/\" rel=\"nofollow noreferrer\">JavaFX SDK</a> along with JDK which will provide you with JavaFX support.</p>\n"}],"owner":{"account_id":26491187,"reputation":1,"user_id":20129366,"display_name":"Jeremy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1673997932,"answer_count":1,"score":-2,"last_activity_date":1673957070,"creation_date":1673948927,"question_id":75144576,"body_markdown":"I used the cmd command java -jar file-name.jar but it wont run.\r\nI get an error in my cmd it states &quot;Error: JavaFX runtime components are missing, and are required to run this application&quot;\r\n\r\n\r\nI used these steps to create a jar: https://medium.com/@vinayprabhu19/creating-executable-javafx-application-part-2-c98cfa65801e\r\nfile but it wont run.","title":"I created a Jar file with intellij but it wont run","body":"<p>I used the cmd command java -jar file-name.jar but it wont run.\nI get an error in my cmd it states &quot;Error: JavaFX runtime components are missing, and are required to run this application&quot;</p>\n<p>I used these steps to create a jar: <a href=\"https://medium.com/@vinayprabhu19/creating-executable-javafx-application-part-2-c98cfa65801e\" rel=\"nofollow noreferrer\">https://medium.com/@vinayprabhu19/creating-executable-javafx-application-part-2-c98cfa65801e</a>\nfile but it wont run.</p>\n"},{"tags":["java","eclipse","apache","tomcat"],"answers":[{"tags":[],"owner":{"account_id":302471,"reputation":8627,"user_id":1130032,"accept_rate":69,"display_name":"Ved"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1354346196,"creation_date":1354346196,"answer_id":13657316,"question_id":13657267,"body_markdown":"It seems that your `tomcat/web.xml` is not properly configured. Follow this steps to get it work - \r\n\r\n 1. First deleted server from servers tab in eclipse.\r\n 2. Then add new server from wizard - which will ask you to give path of your tomcat installation directory usually in - `C:\\Program Files\\Apache Software Foundation`\r\n 3. While last step, you will prompt an dialog box listing all the open projects of eclipse, to be add in tomcat environment.\r\n 4. Click finish and clean/build project.\r\n 5. check in web.xml that, your welcome file is properly added.(usually under WebContent directory )\r\n\r\nHope this will work for you.\r\n\r\nAlso note that, While developing any application, you don&#39;t need to create WAR.\r\n\r\n ","title":"How to deploy Web Application in Tomcat7 using Eclipse Indigo?","body":"<p>It seems that your <code>tomcat/web.xml</code> is not properly configured. Follow this steps to get it work - </p>\n\n<ol>\n<li>First deleted server from servers tab in eclipse.</li>\n<li>Then add new server from wizard - which will ask you to give path of your tomcat installation directory usually in - <code>C:\\Program Files\\Apache Software Foundation</code></li>\n<li>While last step, you will prompt an dialog box listing all the open projects of eclipse, to be add in tomcat environment.</li>\n<li>Click finish and clean/build project.</li>\n<li>check in web.xml that, your welcome file is properly added.(usually under WebContent directory )</li>\n</ol>\n\n<p>Hope this will work for you.</p>\n\n<p>Also note that, While developing any application, you don't need to create WAR.</p>\n"},{"tags":[],"owner":{"account_id":1598249,"reputation":6617,"user_id":1479853,"accept_rate":72,"display_name":"someone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1354346410,"creation_date":1354346410,"answer_id":13657346,"question_id":13657267,"body_markdown":"\r\nYou right click on tomcat icon in server tab then click on properties. In general click on &quot;Switch Location&quot; button then apply and ok. Now double click on Tomcat icon and see your Server Location is now enable. Then click on second radio button and save. Then try again to deploy. It should work.","title":"How to deploy Web Application in Tomcat7 using Eclipse Indigo?","body":"<p>You right click on tomcat icon in server tab then click on properties. In general click on \"Switch Location\" button then apply and ok. Now double click on Tomcat icon and see your Server Location is now enable. Then click on second radio button and save. Then try again to deploy. It should work.</p>\n"}],"owner":{"account_id":2077059,"reputation":47,"user_id":1850112,"accept_rate":17,"display_name":"user1850112"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7628,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1673956940,"creation_date":1354345608,"question_id":13657267,"body_markdown":"Can any one tell how would I deploy my `Web Application` in `Tomcat7` using `Eclipse Indigo`. When I manually create `WAR` and paste it in `WebApps/ROOT` then it works. But in`Eclipse IDE`, server started successfully but not able to deploy `war/web application`. I also added my` Web Application using Add/Remove Server properties` but all in vain. Only `Apache server startUp` page shown. Also when I double click `Server` My `Server Locations` tab is disabled. I don&#39;t know WHY ?\r\n\r\nSecondly by default `apache server access any jsp direct from WEBAPPS/abc.jsp or WEBAPPS/ROOT/abc.jsp `?","title":"How to deploy Web Application in Tomcat7 using Eclipse Indigo?","body":"<p>Can any one tell how would I deploy my <code>Web Application</code> in <code>Tomcat7</code> using <code>Eclipse Indigo</code>. When I manually create <code>WAR</code> and paste it in <code>WebApps/ROOT</code> then it works. But in<code>Eclipse IDE</code>, server started successfully but not able to deploy <code>war/web application</code>. I also added my<code>Web Application using Add/Remove Server properties</code> but all in vain. Only <code>Apache server startUp</code> page shown. Also when I double click <code>Server</code> My <code>Server Locations</code> tab is disabled. I don't know WHY ?</p>\n\n<p>Secondly by default <code>apache server access any jsp direct from WEBAPPS/abc.jsp or WEBAPPS/ROOT/abc.jsp</code>?</p>\n"},{"tags":["java","flexmark"],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1673956618,"creation_date":1672947824,"question_id":75023594,"body_markdown":"Using [Flexmark][1] 0.64.0 with Java 17 I&#39;m expecting the [Typographic Extension][2] to turn `&#39;` into `&amp;rsquo;` with its default configuration, but instead it seems merely to drop the character. The same happens e.g. with `---`.\r\n\r\nI&#39;m setting up my parser and HTML renderer like this:\r\n\r\n```java\r\nMutableDataHolder parserOptions = new MutableDataSet()\r\n    //emoji; see https://www.webfx.com/tools/emoji-cheat-sheet/\r\n    .set(EmojiExtension.USE_IMAGE_TYPE, EmojiImageType.UNICODE_ONLY)\r\n    //GFM tables\r\n    .set(TablesExtension.COLUMN_SPANS, false).set(TablesExtension.APPEND_MISSING_COLUMNS, true).set(TablesExtension.DISCARD_EXTRA_COLUMNS, true)\r\n    .set(TablesExtension.HEADER_SEPARATOR_COLUMN_MATCH, true)\r\n    //extensions\r\n    .set(Parser.EXTENSIONS, List.of(DefinitionExtension.create(), EmojiExtension.create(), SuperscriptExtension.create(), TablesExtension.create(),\r\n        TypographicExtension.create(), YamlFrontMatterExtension.create()));\r\nparser = Parser.builder(parserOptions).build();\r\nhtmlRenderer = HtmlRenderer.builder().build();\r\n```\r\n\r\nNote that I just use `TypographicExtension.create()`. Maybe there are further configurations to do, but by default I wouldn&#39;t expect the extension just to drop characters.\r\n\r\nI use the parser like this:\r\n\r\n```java\r\ncom.vladsch.flexmark.util.ast.Document markdownDocument = parser.parse(&quot;it&#39;s working&quot;);\r\nSystem.out.println(htmlRenderer.render(markdownDocument));\r\n```\r\n\r\nI expect:\r\n\r\n&gt; `&lt;p&gt;it&amp;rsquo;s working&lt;/p&gt;`\r\n\r\nInstead I get:\r\n\r\n&gt; `&lt;p&gt;its working&lt;/p&gt;`\r\n\r\nI tried mucking with the settings, using a literal character instead of a character reference:\r\n\r\n```java\r\n.set(TypographicExtension.ENABLE_QUOTES, true)\r\n.set(TypographicExtension.SINGLE_QUOTE_UNMATCHED, &quot;x&quot;)\r\n```\r\n\r\nNothing changed. The character still simply disappeared\r\n\r\nHowever I was able to _disable quote processing altogether_:\r\n\r\n```java\r\n.set(TypographicExtension.ENABLE_QUOTES, false)\r\n```\r\n\r\nThen I got my original string back. (Of course this defeats the purpose of the extension.)\r\n\r\nDoes this mean the Typographic Extension is simply broken, or am I missing some additional configuration? (In any case, I certainly wouldn&#39;t expect the default configuration to silently discard content.)\r\n\r\nI opened [Flexmark Issue #547][3], but so far I haven&#39;t had any responses. Maybe someone can point out my error.\r\n\r\n\r\n  [1]: https://github.com/vsch/flexmark-java\r\n  [2]: https://github.com/vsch/flexmark-java/wiki/Typographic-Extension\r\n  [3]: https://github.com/vsch/flexmark-java/issues/547","title":"Flexmark Typographic Extension silently dropping characters?","body":"<p>Using <a href=\"https://github.com/vsch/flexmark-java\" rel=\"nofollow noreferrer\">Flexmark</a> 0.64.0 with Java 17 I'm expecting the <a href=\"https://github.com/vsch/flexmark-java/wiki/Typographic-Extension\" rel=\"nofollow noreferrer\">Typographic Extension</a> to turn <code>'</code> into <code>&amp;rsquo;</code> with its default configuration, but instead it seems merely to drop the character. The same happens e.g. with <code>---</code>.</p>\n<p>I'm setting up my parser and HTML renderer like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>MutableDataHolder parserOptions = new MutableDataSet()\n    //emoji; see https://www.webfx.com/tools/emoji-cheat-sheet/\n    .set(EmojiExtension.USE_IMAGE_TYPE, EmojiImageType.UNICODE_ONLY)\n    //GFM tables\n    .set(TablesExtension.COLUMN_SPANS, false).set(TablesExtension.APPEND_MISSING_COLUMNS, true).set(TablesExtension.DISCARD_EXTRA_COLUMNS, true)\n    .set(TablesExtension.HEADER_SEPARATOR_COLUMN_MATCH, true)\n    //extensions\n    .set(Parser.EXTENSIONS, List.of(DefinitionExtension.create(), EmojiExtension.create(), SuperscriptExtension.create(), TablesExtension.create(),\n        TypographicExtension.create(), YamlFrontMatterExtension.create()));\nparser = Parser.builder(parserOptions).build();\nhtmlRenderer = HtmlRenderer.builder().build();\n</code></pre>\n<p>Note that I just use <code>TypographicExtension.create()</code>. Maybe there are further configurations to do, but by default I wouldn't expect the extension just to drop characters.</p>\n<p>I use the parser like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>com.vladsch.flexmark.util.ast.Document markdownDocument = parser.parse(&quot;it's working&quot;);\nSystem.out.println(htmlRenderer.render(markdownDocument));\n</code></pre>\n<p>I expect:</p>\n<blockquote>\n<p><code>&lt;p&gt;it&amp;rsquo;s working&lt;/p&gt;</code></p>\n</blockquote>\n<p>Instead I get:</p>\n<blockquote>\n<p><code>&lt;p&gt;its working&lt;/p&gt;</code></p>\n</blockquote>\n<p>I tried mucking with the settings, using a literal character instead of a character reference:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.set(TypographicExtension.ENABLE_QUOTES, true)\n.set(TypographicExtension.SINGLE_QUOTE_UNMATCHED, &quot;x&quot;)\n</code></pre>\n<p>Nothing changed. The character still simply disappeared</p>\n<p>However I was able to <em>disable quote processing altogether</em>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.set(TypographicExtension.ENABLE_QUOTES, false)\n</code></pre>\n<p>Then I got my original string back. (Of course this defeats the purpose of the extension.)</p>\n<p>Does this mean the Typographic Extension is simply broken, or am I missing some additional configuration? (In any case, I certainly wouldn't expect the default configuration to silently discard content.)</p>\n<p>I opened <a href=\"https://github.com/vsch/flexmark-java/issues/547\" rel=\"nofollow noreferrer\">Flexmark Issue #547</a>, but so far I haven't had any responses. Maybe someone can point out my error.</p>\n"},{"tags":["java","compiler-errors"],"comments":[{"owner":{"account_id":6664,"reputation":85927,"user_id":11296,"display_name":"Bert F"},"score":1,"creation_date":1297176573,"post_id":4934412,"comment_id":5500253,"body_markdown":"You&#39;re getting the error because you&#39;re missing a pair of braces.  Look carefully at the class.","body":"You&#39;re getting the error because you&#39;re missing a pair of braces.  Look carefully at the class."}],"answers":[{"tags":[],"owner":{"account_id":165149,"reputation":1356,"user_id":388356,"accept_rate":85,"display_name":"Bigbohne"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1520953782,"creation_date":1297176481,"answer_id":4934460,"question_id":4934412,"body_markdown":"You have to open and close your class with `{ ... }` like:\r\n\r\n    public class mod_MyMod extends BaseMod\r\n    {\r\n      public String Version()\r\n      {\r\n        return &quot;1.2_02&quot;;\r\n      }\r\n      \r\n      public void AddRecipes(CraftingManager recipes)\r\n      {\r\n         recipes.addRecipe(new ItemStack(Item.diamond), new Object[] {\r\n            &quot;#&quot;, Character.valueOf(&#39;#&#39;), Block.dirt });\r\n      }\r\n    }","title":"Java compile error: &quot;reached end of file while parsing }&quot;","body":"<p>You have to open and close your class with <code>{ ... }</code> like:</p>\n\n<pre><code>public class mod_MyMod extends BaseMod\n{\n  public String Version()\n  {\n    return \"1.2_02\";\n  }\n\n  public void AddRecipes(CraftingManager recipes)\n  {\n     recipes.addRecipe(new ItemStack(Item.diamond), new Object[] {\n        \"#\", Character.valueOf('#'), Block.dirt });\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1297179662,"creation_date":1297176582,"answer_id":4934485,"question_id":4934412,"body_markdown":"You need to enclose your class in `{` and `}`. A few extra pointers: According to the Java coding conventions, you should\r\n\r\n - Put your `{` on the same line as the method declaration:\r\n - Name your classes using CamelCase (with initial capital letter)\r\n - Name your methods using camelCase (with small initial letter)\r\n\r\nHere&#39;s how I would write it:\r\n\r\n    public class ModMyMod extends BaseMod {\r\n\r\n        public String version() {\r\n             return &quot;1.2_02&quot;;\r\n        }\r\n\r\n        public void addRecipes(CraftingManager recipes) {\r\n           recipes.addRecipe(new ItemStack(Item.diamond), new Object[] {\r\n              &quot;#&quot;, Character.valueOf(&#39;#&#39;), Block.dirt\r\n           });\r\n        }\r\n    }\r\n\r\n","title":"Java compile error: &quot;reached end of file while parsing }&quot;","body":"<p>You need to enclose your class in <code>{</code> and <code>}</code>. A few extra pointers: According to the Java coding conventions, you should</p>\n\n<ul>\n<li>Put your <code>{</code> on the same line as the method declaration:</li>\n<li>Name your classes using CamelCase (with initial capital letter)</li>\n<li>Name your methods using camelCase (with small initial letter)</li>\n</ul>\n\n<p>Here's how I would write it:</p>\n\n<pre><code>public class ModMyMod extends BaseMod {\n\n    public String version() {\n         return \"1.2_02\";\n    }\n\n    public void addRecipes(CraftingManager recipes) {\n       recipes.addRecipe(new ItemStack(Item.diamond), new Object[] {\n          \"#\", Character.valueOf('#'), Block.dirt\n       });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5917738,"reputation":341,"user_id":4656009,"display_name":"ntthushara"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1429661789,"creation_date":1429658957,"answer_id":29784991,"question_id":4934412,"body_markdown":"It happens when you don&#39;t properly close the code block:\r\n\r\n    if (condition){\r\n      // your code goes here*\r\n      { // This doesn&#39;t close the code block\r\n\r\nCorrect way:\r\n\r\n    if (condition){\r\n      // your code goes here\r\n    } // Close the code block\r\n","title":"Java compile error: &quot;reached end of file while parsing }&quot;","body":"<p>It happens when you don't properly close the code block:</p>\n\n<pre><code>if (condition){\n  // your code goes here*\n  { // This doesn't close the code block\n</code></pre>\n\n<p>Correct way:</p>\n\n<pre><code>if (condition){\n  // your code goes here\n} // Close the code block\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11487220,"reputation":41,"user_id":8419492,"display_name":"Techno Savage"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1502674130,"creation_date":1502674130,"answer_id":45666351,"question_id":4934412,"body_markdown":"Yes. You were missing a &#39;{&#39; under the public class line. And then one at the end of your code to close it.","title":"Java compile error: &quot;reached end of file while parsing }&quot;","body":"<p>Yes. You were missing a '{' under the public class line. And then one at the end of your code to close it.</p>\n"}],"owner":{"account_id":705887,"reputation":229,"user_id":608289,"display_name":"adeo8"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":323749,"favorite_count":0,"down_vote_count":5,"up_vote_count":23,"answer_count":4,"score":18,"last_activity_date":1673956411,"creation_date":1297176272,"question_id":4934412,"body_markdown":"I have the following source code\r\n\r\n    public class mod_MyMod extends BaseMod\r\n    public String Version()\r\n    {\r\n         return &quot;1.2_02&quot;;\r\n    }\r\n    public void AddRecipes(CraftingManager recipes)\r\n    {\r\n       recipes.addRecipe(new ItemStack(Item.diamond), new Object[] {\r\n          &quot;#&quot;, Character.valueOf(&#39;#&#39;), Block.dirt\r\n       });\r\n    }\r\n\r\n\r\nWhen I try to compile it I get the following error:\r\n\r\n    java:11: reached end of file while parsing }\r\n\r\nWhat am I doing wrong? Any help appreciated.","title":"Java compile error: &quot;reached end of file while parsing }&quot;","body":"<p>I have the following source code</p>\n\n<pre><code>public class mod_MyMod extends BaseMod\npublic String Version()\n{\n     return \"1.2_02\";\n}\npublic void AddRecipes(CraftingManager recipes)\n{\n   recipes.addRecipe(new ItemStack(Item.diamond), new Object[] {\n      \"#\", Character.valueOf('#'), Block.dirt\n   });\n}\n</code></pre>\n\n<p>When I try to compile it I get the following error:</p>\n\n<pre><code>java:11: reached end of file while parsing }\n</code></pre>\n\n<p>What am I doing wrong? Any help appreciated.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":2607825,"reputation":5369,"user_id":2258611,"display_name":"Alexander Hoffmann"},"score":0,"creation_date":1673955813,"post_id":75137208,"comment_id":132607391,"body_markdown":"Can you provide more details? Did you clone a public project? It looks like your import didn&#39;t recognize this as an android project.","body":"Can you provide more details? Did you clone a public project? It looks like your import didn&#39;t recognize this as an android project."}],"owner":{"account_id":24020541,"reputation":754,"user_id":18002913,"display_name":"NewPartizal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1673956384,"creation_date":1673887431,"question_id":75137208,"body_markdown":"why can&#39;t I start my emulator and why my module doesn&#39;t appear ? I cloned project from GitHub and when I want to run project to see on the emulator but there is no emulator and no module. hear is screen shot what can be the problem I couldn&#39;t find it ? [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/thVGd.png\r\n\r\n**SOLVE**\r\n\r\n**I solved the issue.**\r\n****\r\n\r\nI chose the folder where the project is in the project opening screen of android studio and said open it like that and the no module problem was solved. ","title":"Why can&#39;t I see my module in android studio?","body":"<p>why can't I start my emulator and why my module doesn't appear ? I cloned project from GitHub and when I want to run project to see on the emulator but there is no emulator and no module. hear is screen shot what can be the problem I couldn't find it ? <a href=\"https://i.stack.imgur.com/thVGd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/thVGd.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>SOLVE</strong></p>\n<p><strong>I solved the issue.</strong></p>\n<hr />\n<p>I chose the folder where the project is in the project opening screen of android studio and said open it like that and the no module problem was solved.</p>\n"},{"tags":["java","android-cursor","android-cursoradapter"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671906090,"post_id":74889205,"comment_id":132195886,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":15480820,"reputation":71,"user_id":11168157,"display_name":"Chris Damianidis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673361899,"creation_date":1673361899,"answer_id":75071646,"question_id":74889205,"body_markdown":"I&#39;m working o a calendar app with events and I save them in MyDatabaseHelpe, the events are shown in a listview by day, my problem is that in onitemclicked, I want the data of the event to be shown in an AlertDialog, I use a CursorAdapter class and when i am trying to show the data, the data that are in position 0, arent shown and show the data that are in position 1.\r\ncursor adapter getview problem at position 0\r\n\r\nI&#39;ve tried many approches of the way the position could fit in function, and i search many StackOverFlows(and more sites) subjects to find a solution.\r\n\r\n**The delete row function works perfectly without problem.\r\n\r\nAny ideas or approches would be helpuful!!\r\n\r\n**SOLUTION: **\r\n\r\nThe problem was that after sorting list i didn&#39;t called notifyDataChanged();\r\n\r\nFurthermore I made in my CursorAdapter Class a method to retrieve fields via cursor.\r\n\r\nSo in cursor adapter i made this:\r\n\r\n  \r\n\r\n    public View setAllFields(View view,String id, String title, String comment, String date, String time)\r\n    {\r\n    \r\n        TextView id_lv_tv = (TextView) view.findViewById(R.id.id_lv_tv);\r\n        TextView title_lv_tv = (TextView) view.findViewById(R.id.title_lv_tv);\r\n        TextView comment_lv_tv = (TextView) view.findViewById(R.id.comment_lv_tv);\r\n        TextView date_lv_tv = (TextView) view.findViewById(R.id.date_lv_tv);\r\n        TextView time_lv_tv = (TextView) view.findViewById(R.id.time_lv_tv);\r\n    \r\n        id_lv_tv.setText(id);\r\n        title_lv_tv.setText(title);\r\n        comment_lv_tv.setText(comment);\r\n        date_lv_tv.setText(date);\r\n        time_lv_tv.setText(time);\r\n    \r\n        return view;\r\n    }\r\n\r\n****And my main onitemclick now is like this:****\r\n\r\n    public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) { View view1 = getLayoutInflater().inflate(R.layout.show_event_from_listview, null); // private ArrayList MlaDats = new ArrayList(); HourEvent myEvent = (HourEvent) monthListView.getAdapter().getItem(position);\r\n    \r\n                String myEventId= myEvent.getEvents().get(0).getId();\r\n                String myTitle = myEvent.getEvents().get(0).getName();\r\n                String myComment = myEvent.getEvents().get(0).getComment();\r\n                String myDate = String.valueOf(myEvent.getEvents().get(0).getDate());\r\n                String myTime = String.valueOf(myEvent.getEvents().get(0).getTime());\r\n    \r\n    \r\n                View viewFinal;\r\n    \r\n    \r\n    \r\n                AlertDialog.Builder builder = new AlertDialog.Builder(MainActivity.this);\r\n    \r\n                    viewFinal = CA.setAllFields(view1,myEventId,myTitle,myComment,myDate,myTime);\r\n    // viewFinal = SD.getView(position, view1, parent);\r\n    \r\n                builder.setView(viewFinal).\r\n\r\n","title":"cursor adapter getview problem at position 0","body":"<p>I'm working o a calendar app with events and I save them in MyDatabaseHelpe, the events are shown in a listview by day, my problem is that in onitemclicked, I want the data of the event to be shown in an AlertDialog, I use a CursorAdapter class and when i am trying to show the data, the data that are in position 0, arent shown and show the data that are in position 1.\ncursor adapter getview problem at position 0</p>\n<p>I've tried many approches of the way the position could fit in function, and i search many StackOverFlows(and more sites) subjects to find a solution.</p>\n<p>**The delete row function works perfectly without problem.</p>\n<p>Any ideas or approches would be helpuful!!</p>\n<p>**SOLUTION: **</p>\n<p>The problem was that after sorting list i didn't called notifyDataChanged();</p>\n<p>Furthermore I made in my CursorAdapter Class a method to retrieve fields via cursor.</p>\n<p>So in cursor adapter i made this:</p>\n<pre><code>public View setAllFields(View view,String id, String title, String comment, String date, String time)\n{\n\n    TextView id_lv_tv = (TextView) view.findViewById(R.id.id_lv_tv);\n    TextView title_lv_tv = (TextView) view.findViewById(R.id.title_lv_tv);\n    TextView comment_lv_tv = (TextView) view.findViewById(R.id.comment_lv_tv);\n    TextView date_lv_tv = (TextView) view.findViewById(R.id.date_lv_tv);\n    TextView time_lv_tv = (TextView) view.findViewById(R.id.time_lv_tv);\n\n    id_lv_tv.setText(id);\n    title_lv_tv.setText(title);\n    comment_lv_tv.setText(comment);\n    date_lv_tv.setText(date);\n    time_lv_tv.setText(time);\n\n    return view;\n}\n</code></pre>\n<p><strong><strong>And my main onitemclick now is like this:</strong></strong></p>\n<pre><code>public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) { View view1 = getLayoutInflater().inflate(R.layout.show_event_from_listview, null); // private ArrayList MlaDats = new ArrayList(); HourEvent myEvent = (HourEvent) monthListView.getAdapter().getItem(position);\n\n            String myEventId= myEvent.getEvents().get(0).getId();\n            String myTitle = myEvent.getEvents().get(0).getName();\n            String myComment = myEvent.getEvents().get(0).getComment();\n            String myDate = String.valueOf(myEvent.getEvents().get(0).getDate());\n            String myTime = String.valueOf(myEvent.getEvents().get(0).getTime());\n\n\n            View viewFinal;\n\n\n\n            AlertDialog.Builder builder = new AlertDialog.Builder(MainActivity.this);\n\n                viewFinal = CA.setAllFields(view1,myEventId,myTitle,myComment,myDate,myTime);\n// viewFinal = SD.getView(position, view1, parent);\n\n            builder.setView(viewFinal).\n</code></pre>\n"}],"owner":{"account_id":15480820,"reputation":71,"user_id":11168157,"display_name":"Chris Damianidis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75071646,"answer_count":1,"score":0,"last_activity_date":1673955544,"creation_date":1671715717,"question_id":74889205,"body_markdown":"I&#39;m working o a calendar app with events and I save them in MyDatabaseHelpe, the events are shown in a listview by day, my problem is that in onitemclicked, I want the data of the event to be shown in an AlertDialog, I use a CursorAdapter class and when i am trying to show the data, the data that are position 0, arent shown and show the data that are in position 1.\r\n\r\nI&#39;ve tried many approches of the way the position could fit in function, and i search many StackOverFlows(and more sites) subjects to find a solution. \r\n\r\n**The delete row function works perfectly without problem.\r\n\r\nAny ideas or approches would be helpuful!!\r\n\r\n\r\n`\r\n```\r\n```\r\n# Method for listview onitemclicked\r\n`private void DialogClickedItemAndDelete()\r\n{\r\n\r\n    monthListView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n        @Override\r\n        public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n            View view1 = getLayoutInflater().inflate(R.layout.show_event_from_listview, null);\r\n            Object listItem = monthListView.getItemAtPosition(position).toString();\r\n            EventCursorAdapter EC = new EventCursorAdapter(MainActivity.this, myDB.readAllData());\r\n            Cursor cursor = EC.getCursor();\r\n            cursor.moveToPosition(position);\r\n            View view2 = EC.getView(position,view1,parent);\r\n\r\n\r\n\r\n\r\n\r\n                AlertDialog.Builder builder = new AlertDialog.Builder(MainActivity.this);\r\n\r\n\r\n                builder.setView(view2).\r\n\r\n                        setPositiveButton(&quot;Delete&quot;, new DialogInterface.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(DialogInterface dialog, int which) {\r\n\r\n\r\n                                String id_row = hourAdapter.getItem(position).getEvents().get(0).getId();\r\n                                myDB.deleteOneRow(id_row);\r\n\r\n\r\n                                AllEventsList.reloadActivity(MainActivity.this);\r\n\r\n                            }\r\n                        }).setNegativeButton(&quot;Exit&quot;, new DialogInterface.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(DialogInterface dialog, int which) {\r\n                                AllEventsList.reloadActivity(MainActivity.this);\r\n\r\n\r\n                            }\r\n                        });\r\n\r\n                builder.show();\r\n            }\r\n\r\n    });\r\n}\r\n`\r\n```\r\n``\r\n``\r\n\r\n#CursorAdapter Class \r\n````\r\n\r\n```\r\npackage com.example.calendarcapital;\r\n\r\nimport android.content.Context;\r\nimport android.database.Cursor;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.CursorAdapter;\r\nimport android.widget.TextView;\r\n\r\n\r\npublic class EventCursorAdapter extends CursorAdapter {\r\n\r\n\r\n\r\n    public EventCursorAdapter(Context context, Cursor c) {\r\n        super(context, c, 0);\r\n\r\n        c.moveToFirst();\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public View newView(Context context, Cursor cursor, ViewGroup parent) {\r\n        return LayoutInflater.from(context).inflate(R.layout.show_event_from_listview, parent, false);\r\n    }\r\n\r\n    @Override\r\n    public void bindView(View view, Context context, Cursor cursor) {\r\n        TextView id_lv_tv = (TextView) view.findViewById(R.id.id_lv_tv);\r\n        TextView title_lv_tv = (TextView) view.findViewById(R.id.title_lv_tv);\r\n        TextView comment_lv_tv = (TextView) view.findViewById(R.id.comment_lv_tv);\r\n        TextView date_lv_tv = (TextView) view.findViewById(R.id.date_lv_tv);\r\n        TextView time_lv_tv = (TextView) view.findViewById(R.id.time_lv_tv);\r\n\r\n        String id_row = cursor.getString(cursor.getColumnIndexOrThrow(&quot;_id&quot;));\r\n        String title = cursor.getString(cursor.getColumnIndexOrThrow(&quot;event_title&quot;));\r\n        String comment = cursor.getString(cursor.getColumnIndexOrThrow(&quot;event_comment&quot;));\r\n        String date = cursor.getString(cursor.getColumnIndexOrThrow(&quot;event_date&quot;));\r\n        String time = cursor.getString(cursor.getColumnIndexOrThrow(&quot;event_time&quot;));\r\n\r\n        id_lv_tv.setText(id_row);\r\n        title_lv_tv.setText(title);\r\n        comment_lv_tv.setText(comment);\r\n        date_lv_tv.setText(date);\r\n        time_lv_tv.setText(time);\r\n\r\n    }\r\n\r\n    @Override\r\n    public View getView(int position, View convertView, ViewGroup parent) {\r\n\r\n            return super.getView(position, convertView, parent);\r\n\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n#MyDatabaseHelper Class\r\n\r\n    \r\npublic  class MyDatabaseHelper  extends SQLiteOpenHelper {\r\n    private Context context;\r\n    private static final String DATABASE_NAME = &quot;CalendarCapital.db&quot;;\r\n    private static final  int DATABASE_VERSION =1;\r\n\r\n    private static final String TABLE_NAME =&quot;my_events_db&quot;;\r\n    public static final String COLUMN_ID =&quot;_id&quot;;\r\n    private static final String COLUMN_TITLE = &quot;event_title&quot;;\r\n    private static final String COLUMN_COMMENT = &quot;event_comment&quot;;\r\n    private static final String COLUMN_DATE = &quot;event_date&quot;;\r\n    private static final String COLUMN_TIME = &quot;event_time&quot;;\r\n\r\n\r\nMyDatabaseHelper(@Nullable Context context)\r\n{\r\n    super(context,DATABASE_NAME,null,DATABASE_VERSION);\r\n    this.context = context;\r\n}\r\n\r\n@Override\r\n    public void onCreate(SQLiteDatabase db)\r\n{\r\n    String query = &quot;CREATE TABLE &quot; + TABLE_NAME +\r\n            &quot; (&quot; + COLUMN_ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; +\r\n            COLUMN_TITLE + &quot; TEXT, &quot; +\r\n            COLUMN_COMMENT + &quot; TEXT, &quot; +\r\n            COLUMN_DATE + &quot; TEXT, &quot; +\r\n            COLUMN_TIME + &quot; TEXT);&quot;;\r\n    \r\n    db.execSQL(query);\r\n}\r\n    @Override\r\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n\r\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_NAME);\r\n        onCreate(db);\r\n\r\n    }\r\n\r\n    void addEvent(String title, String comment, LocalDate date, LocalTime time)\r\n    {\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        ContentValues cv = new ContentValues();\r\n        \r\n        cv.put(COLUMN_TITLE, title);\r\n        cv.put(COLUMN_COMMENT, comment);\r\n        cv.put(COLUMN_DATE, String.valueOf(date));\r\n        cv.put(COLUMN_TIME,  String.valueOf(time));\r\n        \r\n        long result = db.insert(TABLE_NAME, null, cv);\r\n        if (result== -1)\r\n        {\r\n            Toast.makeText(context, &quot;Data Failed&quot;, Toast.LENGTH_SHORT).show();\r\n        }else\r\n        {\r\n            Toast.makeText(context, &quot;Data Added Successfully&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n    Cursor readAllData(){\r\n        String query = &quot;SELECT * FROM &quot; + TABLE_NAME;\r\n        SQLiteDatabase db = this.getReadableDatabase();\r\n\r\n        Cursor cursor = null;\r\n        if (db != null)\r\n        {\r\n            cursor = db.rawQuery(query, null);\r\n        }\r\n        return cursor;\r\n    }\r\n\r\n    void updateData(String row_id, String title, String comments, String date, String time)\r\n    {\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        ContentValues cv = new ContentValues();\r\n\r\n        cv.put(COLUMN_TITLE,title);\r\n        cv.put(COLUMN_COMMENT,comments);\r\n        cv.put(COLUMN_DATE, String.valueOf(date));\r\n        cv.put(COLUMN_TIME, String.valueOf(time));\r\n\r\n        long result = db.update(TABLE_NAME,cv,&quot;_id=?&quot;,new String[]{row_id});\r\n\r\n        if (result == -1)\r\n        {\r\n            Toast.makeText(context, &quot;Failed to Update&quot;, Toast.LENGTH_SHORT).show();\r\n        }else\r\n        {\r\n            Toast.makeText(context, &quot;Successfully Update&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n    void deleteOneRow(String row_id)\r\n    {\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n\r\n        long result =  db.delete(TABLE_NAME, &quot;_id=?&quot;, new String[]{row_id});\r\n        if (result == -1)\r\n        {\r\n            Toast.makeText(context, &quot;Failed to Delete.&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n        else\r\n        {\r\n            Toast.makeText(context, &quot;Deleted Successfully.&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n    void deleteAllData()\r\n    {\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        db.execSQL(&quot;DELETE FROM &quot; + TABLE_NAME);\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nAnother approch I tried is this\r\n\r\n      View view2 = EC.getView(position,view1,parent);\r\n                View view3 = monthListView.getChildAt(position - monthListView.getFirstVisiblePosition());\r\n                View view4 = EC.newView(EC.mContext,EC.mCursor,parent);\r\n    \r\n                View view5=hourAdapter.getView(position,view1,parent);\r\n\r\nUPDATE: 27/12/2022\r\n\r\nI noticed that my problem is maybe because i sort my list.\r\n\r\nprivate void setMonthAdapter() {\r\n        hourAdapter = new HourAdapter(getApplicationContext(), AllEventsList.hourEventListFromDatabase(getApplicationContext(), myDB));\r\n\r\n        hourAdapter.sort((o1, o2) -&gt; o1.events.get(0).getDate().compareTo(o2.events.get(0).getDate()));\r\n        hourAdapter.sort((o1, o2) -&gt; o1.events.get(0).getTime().compareTo(o2.events.get(0).getTime()));\r\n\r\n\r\n        monthListView.setAdapter(hourAdapter);\r\n\r\n\r\n\r\n    }\r\n\r\n\r\nI can retrieve the values but with the wrong order, in my listview my events are sorted by time and date, when i click item in position 0 it show me the item in position 1 and versa.\r\n\r\n\r\n\r\n**SOLUTION: **\r\n\r\nThe problem was that after sorting list i didn&#39;t called notifyDataChanged();\r\n\r\nFurthermore I made in my CursorAdapter Class a method to retrieve fields via cursor.\r\n\r\nSo in cursor adapter i made this: \r\n\r\n      public View setAllFields(View view,String id, String title, String comment, String date, String time)\r\n    {\r\n\r\n        TextView id_lv_tv = (TextView) view.findViewById(R.id.id_lv_tv);\r\n        TextView title_lv_tv = (TextView) view.findViewById(R.id.title_lv_tv);\r\n        TextView comment_lv_tv = (TextView) view.findViewById(R.id.comment_lv_tv);\r\n        TextView date_lv_tv = (TextView) view.findViewById(R.id.date_lv_tv);\r\n        TextView time_lv_tv = (TextView) view.findViewById(R.id.time_lv_tv);\r\n\r\n        id_lv_tv.setText(id);\r\n        title_lv_tv.setText(title);\r\n        comment_lv_tv.setText(comment);\r\n        date_lv_tv.setText(date);\r\n        time_lv_tv.setText(time);\r\n\r\n        return view;\r\n    }\r\n\r\n\r\nAnd my main onitemclick now is like this:\r\n\r\n public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n                View view1 = getLayoutInflater().inflate(R.layout.show_event_from_listview, null);\r\n//                private ArrayList&lt;MlaData&gt; MlaDats = new ArrayList&lt;MlaData&gt;();\r\n                HourEvent myEvent = (HourEvent) monthListView.getAdapter().getItem(position);\r\n\r\n                String myEventId= myEvent.getEvents().get(0).getId();\r\n                String myTitle = myEvent.getEvents().get(0).getName();\r\n                String myComment = myEvent.getEvents().get(0).getComment();\r\n                String myDate = String.valueOf(myEvent.getEvents().get(0).getDate());\r\n                String myTime = String.valueOf(myEvent.getEvents().get(0).getTime());\r\n\r\n\r\n                View viewFinal;\r\n\r\n\r\n\r\n                AlertDialog.Builder builder = new AlertDialog.Builder(MainActivity.this);\r\n\r\n                    viewFinal = CA.setAllFields(view1,myEventId,myTitle,myComment,myDate,myTime);\r\n//                    viewFinal = SD.getView(position, view1, parent);\r\n\r\n\r\n                builder.setView(viewFinal).\r\n\r\n\r\nCLOSED\r\n\r\n","title":"cursor adapter getview problem at position 0","body":"<p>I'm working o a calendar app with events and I save them in MyDatabaseHelpe, the events are shown in a listview by day, my problem is that in onitemclicked, I want the data of the event to be shown in an AlertDialog, I use a CursorAdapter class and when i am trying to show the data, the data that are position 0, arent shown and show the data that are in position 1.</p>\n<p>I've tried many approches of the way the position could fit in function, and i search many StackOverFlows(and more sites) subjects to find a solution.</p>\n<p>**The delete row function works perfectly without problem.</p>\n<p>Any ideas or approches would be helpuful!!</p>\n<p>`</p>\n<pre><code></code></pre>\n<h1>Method for listview onitemclicked</h1>\n<p>`private void DialogClickedItemAndDelete()\n{</p>\n<pre><code>monthListView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n    @Override\n    public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n        View view1 = getLayoutInflater().inflate(R.layout.show_event_from_listview, null);\n        Object listItem = monthListView.getItemAtPosition(position).toString();\n        EventCursorAdapter EC = new EventCursorAdapter(MainActivity.this, myDB.readAllData());\n        Cursor cursor = EC.getCursor();\n        cursor.moveToPosition(position);\n        View view2 = EC.getView(position,view1,parent);\n\n\n\n\n\n            AlertDialog.Builder builder = new AlertDialog.Builder(MainActivity.this);\n\n\n            builder.setView(view2).\n\n                    setPositiveButton(&quot;Delete&quot;, new DialogInterface.OnClickListener() {\n                        @Override\n                        public void onClick(DialogInterface dialog, int which) {\n\n\n                            String id_row = hourAdapter.getItem(position).getEvents().get(0).getId();\n                            myDB.deleteOneRow(id_row);\n\n\n                            AllEventsList.reloadActivity(MainActivity.this);\n\n                        }\n                    }).setNegativeButton(&quot;Exit&quot;, new DialogInterface.OnClickListener() {\n                        @Override\n                        public void onClick(DialogInterface dialog, int which) {\n                            AllEventsList.reloadActivity(MainActivity.this);\n\n\n                        }\n                    });\n\n            builder.show();\n        }\n\n});\n</code></pre>\n<p>}\n`</p>\n<pre><code>``\n``\n\n#CursorAdapter Class \n</code></pre>\n<pre><code>package com.example.calendarcapital;\n\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.CursorAdapter;\nimport android.widget.TextView;\n\n\npublic class EventCursorAdapter extends CursorAdapter {\n\n\n\n    public EventCursorAdapter(Context context, Cursor c) {\n        super(context, c, 0);\n\n        c.moveToFirst();\n\n\n    }\n\n    @Override\n    public View newView(Context context, Cursor cursor, ViewGroup parent) {\n        return LayoutInflater.from(context).inflate(R.layout.show_event_from_listview, parent, false);\n    }\n\n    @Override\n    public void bindView(View view, Context context, Cursor cursor) {\n        TextView id_lv_tv = (TextView) view.findViewById(R.id.id_lv_tv);\n        TextView title_lv_tv = (TextView) view.findViewById(R.id.title_lv_tv);\n        TextView comment_lv_tv = (TextView) view.findViewById(R.id.comment_lv_tv);\n        TextView date_lv_tv = (TextView) view.findViewById(R.id.date_lv_tv);\n        TextView time_lv_tv = (TextView) view.findViewById(R.id.time_lv_tv);\n\n        String id_row = cursor.getString(cursor.getColumnIndexOrThrow(&quot;_id&quot;));\n        String title = cursor.getString(cursor.getColumnIndexOrThrow(&quot;event_title&quot;));\n        String comment = cursor.getString(cursor.getColumnIndexOrThrow(&quot;event_comment&quot;));\n        String date = cursor.getString(cursor.getColumnIndexOrThrow(&quot;event_date&quot;));\n        String time = cursor.getString(cursor.getColumnIndexOrThrow(&quot;event_time&quot;));\n\n        id_lv_tv.setText(id_row);\n        title_lv_tv.setText(title);\n        comment_lv_tv.setText(comment);\n        date_lv_tv.setText(date);\n        time_lv_tv.setText(time);\n\n    }\n\n    @Override\n    public View getView(int position, View convertView, ViewGroup parent) {\n\n            return super.getView(position, convertView, parent);\n\n\n    }\n\n\n}\n\n</code></pre>\n<pre><code>\n\n\n\n\n#MyDatabaseHelper Class\n\n    \npublic  class MyDatabaseHelper  extends SQLiteOpenHelper {\n    private Context context;\n    private static final String DATABASE_NAME = &quot;CalendarCapital.db&quot;;\n    private static final  int DATABASE_VERSION =1;\n\n    private static final String TABLE_NAME =&quot;my_events_db&quot;;\n    public static final String COLUMN_ID =&quot;_id&quot;;\n    private static final String COLUMN_TITLE = &quot;event_title&quot;;\n    private static final String COLUMN_COMMENT = &quot;event_comment&quot;;\n    private static final String COLUMN_DATE = &quot;event_date&quot;;\n    private static final String COLUMN_TIME = &quot;event_time&quot;;\n\n\nMyDatabaseHelper(@Nullable Context context)\n{\n    super(context,DATABASE_NAME,null,DATABASE_VERSION);\n    this.context = context;\n}\n\n@Override\n    public void onCreate(SQLiteDatabase db)\n{\n    String query = &quot;CREATE TABLE &quot; + TABLE_NAME +\n            &quot; (&quot; + COLUMN_ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; +\n            COLUMN_TITLE + &quot; TEXT, &quot; +\n            COLUMN_COMMENT + &quot; TEXT, &quot; +\n            COLUMN_DATE + &quot; TEXT, &quot; +\n            COLUMN_TIME + &quot; TEXT);&quot;;\n    \n    db.execSQL(query);\n}\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_NAME);\n        onCreate(db);\n\n    }\n\n    void addEvent(String title, String comment, LocalDate date, LocalTime time)\n    {\n        SQLiteDatabase db = this.getWritableDatabase();\n        ContentValues cv = new ContentValues();\n        \n        cv.put(COLUMN_TITLE, title);\n        cv.put(COLUMN_COMMENT, comment);\n        cv.put(COLUMN_DATE, String.valueOf(date));\n        cv.put(COLUMN_TIME,  String.valueOf(time));\n        \n        long result = db.insert(TABLE_NAME, null, cv);\n        if (result== -1)\n        {\n            Toast.makeText(context, &quot;Data Failed&quot;, Toast.LENGTH_SHORT).show();\n        }else\n        {\n            Toast.makeText(context, &quot;Data Added Successfully&quot;, Toast.LENGTH_SHORT).show();\n\n        }\n    }\n\n\n\n    Cursor readAllData(){\n        String query = &quot;SELECT * FROM &quot; + TABLE_NAME;\n        SQLiteDatabase db = this.getReadableDatabase();\n\n        Cursor cursor = null;\n        if (db != null)\n        {\n            cursor = db.rawQuery(query, null);\n        }\n        return cursor;\n    }\n\n    void updateData(String row_id, String title, String comments, String date, String time)\n    {\n        SQLiteDatabase db = this.getWritableDatabase();\n        ContentValues cv = new ContentValues();\n\n        cv.put(COLUMN_TITLE,title);\n        cv.put(COLUMN_COMMENT,comments);\n        cv.put(COLUMN_DATE, String.valueOf(date));\n        cv.put(COLUMN_TIME, String.valueOf(time));\n\n        long result = db.update(TABLE_NAME,cv,&quot;_id=?&quot;,new String[]{row_id});\n\n        if (result == -1)\n        {\n            Toast.makeText(context, &quot;Failed to Update&quot;, Toast.LENGTH_SHORT).show();\n        }else\n        {\n            Toast.makeText(context, &quot;Successfully Update&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n\n    void deleteOneRow(String row_id)\n    {\n        SQLiteDatabase db = this.getWritableDatabase();\n\n        long result =  db.delete(TABLE_NAME, &quot;_id=?&quot;, new String[]{row_id});\n        if (result == -1)\n        {\n            Toast.makeText(context, &quot;Failed to Delete.&quot;, Toast.LENGTH_SHORT).show();\n        }\n        else\n        {\n            Toast.makeText(context, &quot;Deleted Successfully.&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n\n    void deleteAllData()\n    {\n        SQLiteDatabase db = this.getWritableDatabase();\n        db.execSQL(&quot;DELETE FROM &quot; + TABLE_NAME);\n    }\n\n\n}\n\n</code></pre>\n<p>Another approch I tried is this</p>\n<pre><code>  View view2 = EC.getView(position,view1,parent);\n            View view3 = monthListView.getChildAt(position - monthListView.getFirstVisiblePosition());\n            View view4 = EC.newView(EC.mContext,EC.mCursor,parent);\n\n            View view5=hourAdapter.getView(position,view1,parent);\n</code></pre>\n<p>UPDATE: 27/12/2022</p>\n<p>I noticed that my problem is maybe because i sort my list.</p>\n<p>private void setMonthAdapter() {\nhourAdapter = new HourAdapter(getApplicationContext(), AllEventsList.hourEventListFromDatabase(getApplicationContext(), myDB));</p>\n<pre><code>    hourAdapter.sort((o1, o2) -&gt; o1.events.get(0).getDate().compareTo(o2.events.get(0).getDate()));\n    hourAdapter.sort((o1, o2) -&gt; o1.events.get(0).getTime().compareTo(o2.events.get(0).getTime()));\n\n\n    monthListView.setAdapter(hourAdapter);\n\n\n\n}\n</code></pre>\n<p>I can retrieve the values but with the wrong order, in my listview my events are sorted by time and date, when i click item in position 0 it show me the item in position 1 and versa.</p>\n<p>**SOLUTION: **</p>\n<p>The problem was that after sorting list i didn't called notifyDataChanged();</p>\n<p>Furthermore I made in my CursorAdapter Class a method to retrieve fields via cursor.</p>\n<p>So in cursor adapter i made this:</p>\n<pre><code>  public View setAllFields(View view,String id, String title, String comment, String date, String time)\n{\n\n    TextView id_lv_tv = (TextView) view.findViewById(R.id.id_lv_tv);\n    TextView title_lv_tv = (TextView) view.findViewById(R.id.title_lv_tv);\n    TextView comment_lv_tv = (TextView) view.findViewById(R.id.comment_lv_tv);\n    TextView date_lv_tv = (TextView) view.findViewById(R.id.date_lv_tv);\n    TextView time_lv_tv = (TextView) view.findViewById(R.id.time_lv_tv);\n\n    id_lv_tv.setText(id);\n    title_lv_tv.setText(title);\n    comment_lv_tv.setText(comment);\n    date_lv_tv.setText(date);\n    time_lv_tv.setText(time);\n\n    return view;\n}\n</code></pre>\n<p>And my main onitemclick now is like this:</p>\n<p>public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\nView view1 = getLayoutInflater().inflate(R.layout.show_event_from_listview, null);\n//                private ArrayList MlaDats = new ArrayList();\nHourEvent myEvent = (HourEvent) monthListView.getAdapter().getItem(position);</p>\n<pre><code>            String myEventId= myEvent.getEvents().get(0).getId();\n            String myTitle = myEvent.getEvents().get(0).getName();\n            String myComment = myEvent.getEvents().get(0).getComment();\n            String myDate = String.valueOf(myEvent.getEvents().get(0).getDate());\n            String myTime = String.valueOf(myEvent.getEvents().get(0).getTime());\n\n\n            View viewFinal;\n\n\n\n            AlertDialog.Builder builder = new AlertDialog.Builder(MainActivity.this);\n\n                viewFinal = CA.setAllFields(view1,myEventId,myTitle,myComment,myDate,myTime);\n</code></pre>\n<p>//                    viewFinal = SD.getView(position, view1, parent);</p>\n<pre><code>            builder.setView(viewFinal).\n</code></pre>\n<p>CLOSED</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":22264521,"reputation":329,"user_id":20837030,"display_name":"jcredking"},"score":0,"creation_date":1672832324,"post_id":75004564,"comment_id":132360456,"body_markdown":"`setAllEvents();`  , `setDaily();` this all set method is open a fragment ?","body":"<code>setAllEvents();</code>  , <code>setDaily();</code> this all set method is open a fragment ?"},{"owner":{"account_id":15480820,"reputation":71,"user_id":11168157,"display_name":"Chris Damianidis"},"score":0,"creation_date":1672832478,"post_id":75004564,"comment_id":132360498,"body_markdown":"No I dont have any fragments or something, i didn&#39;t put the methods here cause i think is unnecessary, these methods parametrize my Main arraylist of calendar and set visibility to specific componets. I want something like go to previous method called.. I dont know how to explain it better","body":"No I dont have any fragments or something, i didn&#39;t put the methods here cause i think is unnecessary, these methods parametrize my Main arraylist of calendar and set visibility to specific componets. I want something like go to previous method called.. I dont know how to explain it better"},{"owner":{"account_id":7665086,"reputation":330,"user_id":5809025,"display_name":"sravs"},"score":0,"creation_date":1672832680,"post_id":75004564,"comment_id":132360548,"body_markdown":"It is not possible Chirs. Please use fragments for different views","body":"It is not possible Chirs. Please use fragments for different views"},{"owner":{"account_id":15480820,"reputation":71,"user_id":11168157,"display_name":"Chris Damianidis"},"score":0,"creation_date":1672832829,"post_id":75004564,"comment_id":132360595,"body_markdown":"As I read fragments isnt a good way of making projects, even android studio dont recommend it. I&#39;ll wait a little longer if someone has an idea or any other solutions to recommend. Thanks for the interest","body":"As I read fragments isnt a good way of making projects, even android studio dont recommend it. I&#39;ll wait a little longer if someone has an idea or any other solutions to recommend. Thanks for the interest"},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1672835118,"post_id":75004564,"comment_id":132361331,"body_markdown":"Removed `android-studio` tag as that tag is used for questions/issues regarding the Android Studio product. Your question has nothing to do with Android Studio.","body":"Removed <code>android-studio</code> tag as that tag is used for questions/issues regarding the Android Studio product. Your question has nothing to do with Android Studio."},{"owner":{"account_id":15480820,"reputation":71,"user_id":11168157,"display_name":"Chris Damianidis"},"score":0,"creation_date":1672836648,"post_id":75004564,"comment_id":132361794,"body_markdown":"ok i did it, my mistake","body":"ok i did it, my mistake"}],"answers":[{"tags":[],"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672844395,"creation_date":1672835002,"answer_id":75005397,"question_id":75004564,"body_markdown":"You can do this by building a stack that represents the type of view you are showing. Whenever the user selects something from the navigation drawer, you call the method to show that view and you push something on the stack (a `String` or an `Integer` constant) that represents the kind of view you are showing. Then override `onBackPressed()` so that instead of the default behaviour (which is to finish the current `Activity` and return to the previous `Activity`), you so something like this:\r\n\r\n- Pop off the last thing from your stack (this represents the currently shown view)\r\n- If there is nothing left on the stack, you should call the default behaviour with `super.onBackPressed()`, which will send the user back to the HOME screen or whatever\r\n- Otherwise, examine the topmost thing on the stack (this represents the previously shown view) and use it to call the appropriate method to show the view that it represents. In this case remember not to push a new thing onto the stack because the top item on the stack already represents the view that is being shown.\r\n\r\n---\r\nCode Example:\r\n\r\n    // Declare the stack as a member variable in the Activity\r\n    ArrayDeque&lt;String&gt; stack = new ArrayDeque&lt;String&gt;();\r\n\r\ninside your `switch` statement, something like this for each different view type:\r\n\r\n    case R.id.daysView:\r\n            setDaily();\r\n            // push the current view type onto the stack\r\n            stack.addFirst(&quot;day&quot;);\r\n    case R.id.weekView:\r\n            setWeek();\r\n            // push the current view type onto the stack\r\n            stack.addFirst(&quot;week&quot;);\r\n    etc...\r\n\r\nNow override the behaviour of `onBackPressed()`:\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        // Pop current view type off the stack\r\n        stack.removeFirst();\r\n        // Check the previous view type\r\n        String previousViewType = stack.peekFirst();\r\n        if (previousViewType == null) {\r\n            // Nothing to go back to, so finish this Activity\r\n            super.onBackPressed();\r\n            return;\r\n        }\r\n        if (previousViewType.equals(&quot;day&quot;)) {\r\n            setDaily();\r\n        } else if (previousViewType.equals(&quot;week&quot;)) {\r\n            setWeekly();\r\n        } else ... // rest of the view types here\r\n    }\r\n","title":"Android, in same activity go back to previous method called","body":"<p>You can do this by building a stack that represents the type of view you are showing. Whenever the user selects something from the navigation drawer, you call the method to show that view and you push something on the stack (a <code>String</code> or an <code>Integer</code> constant) that represents the kind of view you are showing. Then override <code>onBackPressed()</code> so that instead of the default behaviour (which is to finish the current <code>Activity</code> and return to the previous <code>Activity</code>), you so something like this:</p>\n<ul>\n<li>Pop off the last thing from your stack (this represents the currently shown view)</li>\n<li>If there is nothing left on the stack, you should call the default behaviour with <code>super.onBackPressed()</code>, which will send the user back to the HOME screen or whatever</li>\n<li>Otherwise, examine the topmost thing on the stack (this represents the previously shown view) and use it to call the appropriate method to show the view that it represents. In this case remember not to push a new thing onto the stack because the top item on the stack already represents the view that is being shown.</li>\n</ul>\n<hr />\n<p>Code Example:</p>\n<pre><code>// Declare the stack as a member variable in the Activity\nArrayDeque&lt;String&gt; stack = new ArrayDeque&lt;String&gt;();\n</code></pre>\n<p>inside your <code>switch</code> statement, something like this for each different view type:</p>\n<pre><code>case R.id.daysView:\n        setDaily();\n        // push the current view type onto the stack\n        stack.addFirst(&quot;day&quot;);\ncase R.id.weekView:\n        setWeek();\n        // push the current view type onto the stack\n        stack.addFirst(&quot;week&quot;);\netc...\n</code></pre>\n<p>Now override the behaviour of <code>onBackPressed()</code>:</p>\n<pre><code>@Override\npublic void onBackPressed() {\n    // Pop current view type off the stack\n    stack.removeFirst();\n    // Check the previous view type\n    String previousViewType = stack.peekFirst();\n    if (previousViewType == null) {\n        // Nothing to go back to, so finish this Activity\n        super.onBackPressed();\n        return;\n    }\n    if (previousViewType.equals(&quot;day&quot;)) {\n        setDaily();\n    } else if (previousViewType.equals(&quot;week&quot;)) {\n        setWeekly();\n    } else ... // rest of the view types here\n}\n</code></pre>\n"}],"owner":{"account_id":15480820,"reputation":71,"user_id":11168157,"display_name":"Chris Damianidis"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75005397,"answer_count":1,"score":1,"last_activity_date":1673955485,"creation_date":1672830683,"question_id":75004564,"body_markdown":"I am coding in Java in Android Studio and I am currently making an Calendar app that save, show, edit events. I had to put some view, like MonthView WeekView and DailyView. At first I made it in a way so all of them were activities and when i want to go back the back pressed button almost done my job. Because of some odds, I turned out to keep only one activity and do the same job with some methods instead of making activities. I have a navigation drawer, so in onItemNavigationClick the user can select which view want. So, my problem is that I cant find a way to act the previous method, like if I go to WeekView and press backButton, get back in Month or in Daily view.\r\n\r\nAs I see backpressed is to go back an activity, so I think it cant help me. I would apreciate any help.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n     @Override\r\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n\r\n        switch (item.getItemId()) {\r\n            case R.id.menuSchedule:\r\n                setAllEvents();\r\n                drawerLayout.closeDrawer(GravityCompat.START);\r\n\r\n                break;\r\n            case R.id.daysView:\r\n                setDaily();\r\n                drawerLayout.closeDrawer(GravityCompat.START);\r\n\r\n                break;\r\n\r\n            case R.id.weekView:\r\n\r\n                setWeek();\r\n                drawerLayout.closeDrawer(GravityCompat.START);\r\n\r\n\r\n                break;\r\n\r\n            case R.id.monthView:\r\n                setMonthView();\r\n                drawerLayout.closeDrawer(GravityCompat.START);\r\n\r\n\r\n                break;\r\n            case R.id.refreshItem:\r\n                finish();\r\n                startActivity(getIntent());\r\n                break;\r\n            case R.id.syncItem:\r\n                break;\r\n\r\n            default:\r\n                onNavigationItemSelected(item);\r\n        }\r\n\r\n\r\n        return true;\r\n    }\r\n\r\n\r\n**Example of how my set Methods are working:**\r\n\r\n   \r\n\r\n     private void setMonthView() {\r\n            monthYearText.setText(monthYearFromDate(CalendarUtils.selectedDate));\r\n            ArrayList&lt;LocalDate&gt; daysInMonth = daysInMonthArray();\r\n    \r\n    \r\n            CalendarAdapter calendarAdapter = new CalendarAdapter(daysInMonth, this, getApplicationContext());\r\n            RecyclerView.LayoutManager layoutManager = new GridLayoutManager(getApplicationContext(), 7);\r\n    \r\n    \r\n            calendarRecyclerView.setLayoutManager(layoutManager);\r\n    \r\n            calendarRecyclerView.setAdapter(calendarAdapter);\r\n            ViewGroup.LayoutParams params = calendarRecyclerView.getLayoutParams();\r\n            params.height=1500;\r\n            calendarRecyclerView.setLayoutParams(params);\r\n    \r\n            monthListView.setVisibility(View.GONE);\r\n            monthYearText.setVisibility(View.VISIBLE);\r\n            daysOfWeekDaily.setVisibility(View.GONE);\r\n            daysOfWeek.setVisibility(View.VISIBLE);\r\n            prevMonth.setVisibility(View.VISIBLE);\r\n            nextMonth.setVisibility(View.VISIBLE);\r\n            calendarRecyclerView.setVisibility(View.VISIBLE);\r\n            nestedScrollView.setVisibility(View.VISIBLE);\r\n    \r\n    \r\n        }\r\n\r\n**SOLUTION**\r\n\r\nThanks to David Wesser, the code works in the way I want to, here source code of my problem:\r\n\r\n     public void onMyBackPressed() {\r\n            // Pop current view type off the stack\r\n            stack.removeFirst();\r\n            // Check the previous view type\r\n            String previousViewType = stack.peekFirst();\r\n            if (previousViewType == null) {\r\n                // Nothing to go back to, so finish this Activity\r\n                super.onBackPressed();\r\n                return;\r\n            }\r\n            if (previousViewType.equals(&quot;daily&quot;)) {\r\n                setDaily();\r\n            } else if (previousViewType.equals(&quot;week&quot;)) {\r\n                setWeek();\r\n            } else if (previousViewType.equals(&quot;all&quot;))\r\n            {\r\n                setAllEvents();\r\n            }else if (previousViewType.equals(&quot;month&quot;))\r\n            {\r\n                setMonthView();\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n     @Override\r\n        public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n    \r\n            switch (item.getItemId()) {\r\n                case R.id.menuSchedule:\r\n                    setAllEvents();\r\n                    stack.addFirst(&quot;all&quot;);\r\n                    drawerLayout.closeDrawer(GravityCompat.START);\r\n    \r\n                    break;\r\n                case R.id.daysView:\r\n                    setDaily();\r\n                    stack.addFirst(&quot;daily&quot;);\r\n                    drawerLayout.closeDrawer(GravityCompat.START);\r\n    \r\n                    break;\r\n    \r\n                case R.id.weekView:\r\n    \r\n                    setWeek();\r\n                    stack.addFirst(&quot;week&quot;);\r\n                    drawerLayout.closeDrawer(GravityCompat.START);\r\n    \r\n    \r\n                    break;\r\n    \r\n                case R.id.monthView:\r\n                    setMonthView();\r\n                    stack.addFirst(&quot;month&quot;);\r\n                    drawerLayout.closeDrawer(GravityCompat.START);\r\n    \r\n    \r\n                    break;\r\n                case R.id.refreshItem:\r\n                    finish();\r\n                    startActivity(getIntent());\r\n                    break;\r\n                case R.id.syncItem:\r\n                    break;\r\n    \r\n                default:\r\n                    onNavigationItemSelected(item);\r\n            }\r\n    \r\n    \r\n            return true;\r\n        }\r\n\r\n","title":"Android, in same activity go back to previous method called","body":"<p>I am coding in Java in Android Studio and I am currently making an Calendar app that save, show, edit events. I had to put some view, like MonthView WeekView and DailyView. At first I made it in a way so all of them were activities and when i want to go back the back pressed button almost done my job. Because of some odds, I turned out to keep only one activity and do the same job with some methods instead of making activities. I have a navigation drawer, so in onItemNavigationClick the user can select which view want. So, my problem is that I cant find a way to act the previous method, like if I go to WeekView and press backButton, get back in Month or in Daily view.</p>\n<p>As I see backpressed is to go back an activity, so I think it cant help me. I would apreciate any help.</p>\n<pre><code> @Override\npublic boolean onNavigationItemSelected(@NonNull MenuItem item) {\n\n    switch (item.getItemId()) {\n        case R.id.menuSchedule:\n            setAllEvents();\n            drawerLayout.closeDrawer(GravityCompat.START);\n\n            break;\n        case R.id.daysView:\n            setDaily();\n            drawerLayout.closeDrawer(GravityCompat.START);\n\n            break;\n\n        case R.id.weekView:\n\n            setWeek();\n            drawerLayout.closeDrawer(GravityCompat.START);\n\n\n            break;\n\n        case R.id.monthView:\n            setMonthView();\n            drawerLayout.closeDrawer(GravityCompat.START);\n\n\n            break;\n        case R.id.refreshItem:\n            finish();\n            startActivity(getIntent());\n            break;\n        case R.id.syncItem:\n            break;\n\n        default:\n            onNavigationItemSelected(item);\n    }\n\n\n    return true;\n}\n</code></pre>\n<p><strong>Example of how my set Methods are working:</strong></p>\n<pre><code> private void setMonthView() {\n        monthYearText.setText(monthYearFromDate(CalendarUtils.selectedDate));\n        ArrayList&lt;LocalDate&gt; daysInMonth = daysInMonthArray();\n\n\n        CalendarAdapter calendarAdapter = new CalendarAdapter(daysInMonth, this, getApplicationContext());\n        RecyclerView.LayoutManager layoutManager = new GridLayoutManager(getApplicationContext(), 7);\n\n\n        calendarRecyclerView.setLayoutManager(layoutManager);\n\n        calendarRecyclerView.setAdapter(calendarAdapter);\n        ViewGroup.LayoutParams params = calendarRecyclerView.getLayoutParams();\n        params.height=1500;\n        calendarRecyclerView.setLayoutParams(params);\n\n        monthListView.setVisibility(View.GONE);\n        monthYearText.setVisibility(View.VISIBLE);\n        daysOfWeekDaily.setVisibility(View.GONE);\n        daysOfWeek.setVisibility(View.VISIBLE);\n        prevMonth.setVisibility(View.VISIBLE);\n        nextMonth.setVisibility(View.VISIBLE);\n        calendarRecyclerView.setVisibility(View.VISIBLE);\n        nestedScrollView.setVisibility(View.VISIBLE);\n\n\n    }\n</code></pre>\n<p><strong>SOLUTION</strong></p>\n<p>Thanks to David Wesser, the code works in the way I want to, here source code of my problem:</p>\n<pre><code> public void onMyBackPressed() {\n        // Pop current view type off the stack\n        stack.removeFirst();\n        // Check the previous view type\n        String previousViewType = stack.peekFirst();\n        if (previousViewType == null) {\n            // Nothing to go back to, so finish this Activity\n            super.onBackPressed();\n            return;\n        }\n        if (previousViewType.equals(&quot;daily&quot;)) {\n            setDaily();\n        } else if (previousViewType.equals(&quot;week&quot;)) {\n            setWeek();\n        } else if (previousViewType.equals(&quot;all&quot;))\n        {\n            setAllEvents();\n        }else if (previousViewType.equals(&quot;month&quot;))\n        {\n            setMonthView();\n        }\n    }\n\n\n\n\n @Override\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n\n        switch (item.getItemId()) {\n            case R.id.menuSchedule:\n                setAllEvents();\n                stack.addFirst(&quot;all&quot;);\n                drawerLayout.closeDrawer(GravityCompat.START);\n\n                break;\n            case R.id.daysView:\n                setDaily();\n                stack.addFirst(&quot;daily&quot;);\n                drawerLayout.closeDrawer(GravityCompat.START);\n\n                break;\n\n            case R.id.weekView:\n\n                setWeek();\n                stack.addFirst(&quot;week&quot;);\n                drawerLayout.closeDrawer(GravityCompat.START);\n\n\n                break;\n\n            case R.id.monthView:\n                setMonthView();\n                stack.addFirst(&quot;month&quot;);\n                drawerLayout.closeDrawer(GravityCompat.START);\n\n\n                break;\n            case R.id.refreshItem:\n                finish();\n                startActivity(getIntent());\n                break;\n            case R.id.syncItem:\n                break;\n\n            default:\n                onNavigationItemSelected(item);\n        }\n\n\n        return true;\n    }\n</code></pre>\n"},{"tags":["java","web","thymeleaf"],"owner":{"account_id":27546064,"reputation":11,"user_id":21021994,"display_name":"jannes1302"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673955026,"creation_date":1673897668,"question_id":75138918,"body_markdown":"I want to connect an input from my html page to MYSQL Database via a Controller: \r\n```\r\n&lt;form th:action=&quot;@{/trainees/save}&quot; method=&quot;post&quot; th:object=&quot;${trainee}&quot;\r\n     style=&quot;max-width: 500px; margin: 0 auto;&quot;&gt;\r\n```\r\n\r\n...\r\n\r\n```\r\n &lt;input type=&quot;email&quot; th:field=&quot;*{email}&quot; class=&quot;form-control&quot; required/&gt;\r\n```\r\nController: \r\n```\r\n@PostMapping(&quot;/trainees/save&quot;)\r\npublic String saveTrainee(Trainee trainee){\r\n    service.save(trainee);\r\n    return &quot;redirect:/trainees&quot;;\r\n}\r\n```\r\n\r\nI have no errors at all but for some Reason in every html Document for the Variables &quot;trainee&quot; , &quot;email&quot;, etc. he cannot create a connection and I get the &quot;Cannot resolve&quot; error.\r\n\r\nInspection info: Reports unresolved references and invalid Thymeleaf expressions.\r\n\r\nI have tried to use different expressions like `th:value` instead of `th:field...`","title":"Cant resolve variables in html","body":"<p>I want to connect an input from my html page to MYSQL Database via a Controller:</p>\n<pre><code>&lt;form th:action=&quot;@{/trainees/save}&quot; method=&quot;post&quot; th:object=&quot;${trainee}&quot;\n     style=&quot;max-width: 500px; margin: 0 auto;&quot;&gt;\n</code></pre>\n<p>...</p>\n<pre><code> &lt;input type=&quot;email&quot; th:field=&quot;*{email}&quot; class=&quot;form-control&quot; required/&gt;\n</code></pre>\n<p>Controller:</p>\n<pre><code>@PostMapping(&quot;/trainees/save&quot;)\npublic String saveTrainee(Trainee trainee){\n    service.save(trainee);\n    return &quot;redirect:/trainees&quot;;\n}\n</code></pre>\n<p>I have no errors at all but for some Reason in every html Document for the Variables &quot;trainee&quot; , &quot;email&quot;, etc. he cannot create a connection and I get the &quot;Cannot resolve&quot; error.</p>\n<p>Inspection info: Reports unresolved references and invalid Thymeleaf expressions.</p>\n<p>I have tried to use different expressions like <code>th:value</code> instead of <code>th:field...</code></p>\n"},{"tags":["java","delta-lake","rest-client","delta-sharing"],"comments":[{"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"score":0,"creation_date":1674389099,"post_id":74936790,"comment_id":132700043,"body_markdown":"it looks like a problem with gradle - it looks like you aren&#39;t creating a fat jar","body":"it looks like a problem with gradle - it looks like you aren&#39;t creating a fat jar"}],"owner":{"account_id":5299391,"reputation":11,"user_id":4229570,"display_name":"kaundinya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673954984,"creation_date":1672207630,"question_id":74936790,"body_markdown":"I am trying to create a delta sharing rest client which is accessing shares located in azure blob storage. It&#39;s throwing this exception : java.lang.NoClassDefFoundError: com/fasterxml/jackson/module/scala/ScalaObjectMapper\r\n\r\nBelow is my client code \r\n`\r\n```\r\nString profileFile = &quot;./profile.share&quot;;\r\nConfiguration config = new Configuration();\r\nconfig.set(&quot;fs.AbstractFileSystem.wasb.Impl&quot;, &quot;org.apache.hadoop.fs.azure.Wasb&quot;);\r\nconfig.set(&quot;fs.azure.block.blob.with.compaction.dir&quot;, &quot;/hbase/WALs,/data/myblobfiles&quot;);\r\nconfig.set(&quot;fs.azure&quot;, &quot;org.apache.hadoop.fs.azure.NativeAzureFileSystem&quot;);\r\nconfig.set(&quot;fs.azure.enable.append.support&quot;, &quot;true&quot;);\r\nDeltaSharingProfileProvider profileProvider = new DeltaSharingFileProfileProvider(config, profileFile);\r\nDeltaSharingClient restClient = new DeltaSharingRestClient(profileProvider, 40, 5, true, false);\r\nrestClient.listAllTables();\r\n```\r\n`\r\n\r\nI have placed my account name and account key in the config as well (removed here). Have added all these dependencies in my gradle build\r\n\r\n```\r\nimplementation &#39;org.projectlombok:lombok:1.18.22&#39;\r\ntestImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.1&#39;\r\ntestRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.1&#39;\r\nimplementation&quot;org.springframework.boot:spring-boot-starter:2.3.1.RELEASE&quot;\r\nimplementation&quot;org.springframework.boot:spring-boot-devtools:2.3.1.RELEASE&quot;\r\nimplementation&quot;org.springframework.boot:spring-boot-starter-test:2.3.1.RELEASE&quot;\r\nimplementation&quot;org.springframework.boot:spring-boot-starter-web:2.3.1.RELEASE&quot;\r\nimplementation(&quot;io.delta:delta-standalone_2.12:0.6.0&quot;)\r\nimplementation(&quot;org.apache.hadoop:hadoop-client:3.3.1&quot;)\r\nimplementation(&quot;org.apache.parquet:parquet-hadoop:1.10.1&quot;)\r\nimplementation(&quot;io.delta:delta-sharing-spark_2.12:0.6.0&quot;)\r\nimplementation &#39;io.delta:delta-core_2.12:2.1.0&#39;\r\n```\r\n\r\n\r\nCan anyone please help with this?","title":"Scala object mapper exception while creating delta sharing rest client in Java","body":"<p>I am trying to create a delta sharing rest client which is accessing shares located in azure blob storage. It's throwing this exception : java.lang.NoClassDefFoundError: com/fasterxml/jackson/module/scala/ScalaObjectMapper</p>\n<p>Below is my client code\n`</p>\n<pre><code>String profileFile = &quot;./profile.share&quot;;\nConfiguration config = new Configuration();\nconfig.set(&quot;fs.AbstractFileSystem.wasb.Impl&quot;, &quot;org.apache.hadoop.fs.azure.Wasb&quot;);\nconfig.set(&quot;fs.azure.block.blob.with.compaction.dir&quot;, &quot;/hbase/WALs,/data/myblobfiles&quot;);\nconfig.set(&quot;fs.azure&quot;, &quot;org.apache.hadoop.fs.azure.NativeAzureFileSystem&quot;);\nconfig.set(&quot;fs.azure.enable.append.support&quot;, &quot;true&quot;);\nDeltaSharingProfileProvider profileProvider = new DeltaSharingFileProfileProvider(config, profileFile);\nDeltaSharingClient restClient = new DeltaSharingRestClient(profileProvider, 40, 5, true, false);\nrestClient.listAllTables();\n</code></pre>\n<p>`</p>\n<p>I have placed my account name and account key in the config as well (removed here). Have added all these dependencies in my gradle build</p>\n<pre><code>implementation 'org.projectlombok:lombok:1.18.22'\ntestImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'\ntestRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'\nimplementation&quot;org.springframework.boot:spring-boot-starter:2.3.1.RELEASE&quot;\nimplementation&quot;org.springframework.boot:spring-boot-devtools:2.3.1.RELEASE&quot;\nimplementation&quot;org.springframework.boot:spring-boot-starter-test:2.3.1.RELEASE&quot;\nimplementation&quot;org.springframework.boot:spring-boot-starter-web:2.3.1.RELEASE&quot;\nimplementation(&quot;io.delta:delta-standalone_2.12:0.6.0&quot;)\nimplementation(&quot;org.apache.hadoop:hadoop-client:3.3.1&quot;)\nimplementation(&quot;org.apache.parquet:parquet-hadoop:1.10.1&quot;)\nimplementation(&quot;io.delta:delta-sharing-spark_2.12:0.6.0&quot;)\nimplementation 'io.delta:delta-core_2.12:2.1.0'\n</code></pre>\n<p>Can anyone please help with this?</p>\n"},{"tags":["java","spring","mongodb","spring-boot","spring-data-mongodb"],"comments":[{"owner":{"account_id":17782800,"reputation":87,"user_id":12913619,"display_name":"tknkrtl"},"score":0,"creation_date":1673956087,"post_id":75145751,"comment_id":132607470,"body_markdown":"mongo doesnt support relations, add &quot;courseIds&quot; property to student model and put course ids there. When you want to get course from student first you need to fetch &quot;courseIds&quot; then fetch course by given id(2 queries) otherwise you have to embed student into courses or courses into students but i dont recommend that.","body":"mongo doesnt support relations, add &quot;courseIds&quot; property to student model and put course ids there. When you want to get course from student first you need to fetch &quot;courseIds&quot; then fetch course by given id(2 queries) otherwise you have to embed student into courses or courses into students but i dont recommend that."},{"owner":{"account_id":24280012,"reputation":123,"user_id":18226690,"display_name":"ln3106"},"score":0,"creation_date":1673956743,"post_id":75145751,"comment_id":132607669,"body_markdown":"hi @tknkrtl, can you show me this via the code to see how it looks please?","body":"hi @tknkrtl, can you show me this via the code to see how it looks please?"},{"owner":{"account_id":17782800,"reputation":87,"user_id":12913619,"display_name":"tknkrtl"},"score":0,"creation_date":1673956999,"post_id":75145751,"comment_id":132607746,"body_markdown":"https://www.mongodb.com/community/forums/t/many-to-many-relationship-and-linked-table-collection/130305","body":"<a href=\"https://www.mongodb.com/community/forums/t/many-to-many-relationship-and-linked-table-collection/130305\" rel=\"nofollow noreferrer\">mongodb.com/community/forums/t/&hellip;</a>"}],"owner":{"account_id":24280012,"reputation":123,"user_id":18226690,"display_name":"ln3106"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673954938,"creation_date":1673954938,"question_id":75145751,"body_markdown":"I have two Entities in my Spring-Boot mongoDb Application:\r\n\r\n**Course.java**\r\n\r\n    @Entity\r\n    @Table(name = &quot;students&quot;)\r\n    public class Course {\r\n\t      @Id\r\n\t      @GeneratedValue(strategy = GenerationType.AUTO)\r\n\t      Long id;\r\n\t      String title;\r\n          @Enumerated(EnumType.STRING)\r\n    \t  OptionCourse optionCourse;\r\n          private double fee;\r\n          @ManyToMany(fetch = FetchType.LAZY,\r\n            cascade = {\r\n                    CascadeType.PERSIST,\r\n                    CascadeType.MERGE\r\n            },\r\n            mappedBy = &quot;courses&quot;)\r\n         private Set&lt;Student&gt; student = new HashSet&lt;&gt;();\r\n    }\r\nand\r\n\r\n**Student.java**\r\n\r\n    Entity\r\n    @Table(name = &quot;students&quot;)\r\n    public class Student {\r\n\t      @Id\r\n\t      @GeneratedValue(strategy = GenerationType.AUTO)\r\n\t      Long id;\r\n\t      int age;\r\n\t      String department;\r\n         @ManyToMany(fetch = FetchType.LAZY,\r\n            cascade = {\r\n                    CascadeType.PERSIST,\r\n                    CascadeType.MERGE\r\n            })\r\n         @JoinTable(name = &quot;student_courses&quot;,\r\n            joinColumns = { @JoinColumn(name = &quot;student_id&quot;) },\r\n            inverseJoinColumns = { @JoinColumn(name = &quot;course_id&quot;) })\r\n       private Set&lt;Course&gt; courses = new HashSet&lt;&gt;();\r\n    }\r\n\r\nfor my mongoDb database:\r\n\r\nI want to realise a **Many-to-Many-Relationship** between both Entities. Every courses should be able to assign multiple student.\r\n\r\nHow can i replace my annotations (@Entity, @Table,@Id, @Enumerated(EnumType.STRING) and @ManyToMany(fetch = FetchType.LAZY,...)) in my entities. I use spring-boot-starter-data-mongodb in my maven dependencies\r\n","title":"How to implement many to many relationship in spring boot mongo db","body":"<p>I have two Entities in my Spring-Boot mongoDb Application:</p>\n<p><strong>Course.java</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;students&quot;)\npublic class Course {\n      @Id\n      @GeneratedValue(strategy = GenerationType.AUTO)\n      Long id;\n      String title;\n      @Enumerated(EnumType.STRING)\n      OptionCourse optionCourse;\n      private double fee;\n      @ManyToMany(fetch = FetchType.LAZY,\n        cascade = {\n                CascadeType.PERSIST,\n                CascadeType.MERGE\n        },\n        mappedBy = &quot;courses&quot;)\n     private Set&lt;Student&gt; student = new HashSet&lt;&gt;();\n}\n</code></pre>\n<p>and</p>\n<p><strong>Student.java</strong></p>\n<pre><code>Entity\n@Table(name = &quot;students&quot;)\npublic class Student {\n      @Id\n      @GeneratedValue(strategy = GenerationType.AUTO)\n      Long id;\n      int age;\n      String department;\n     @ManyToMany(fetch = FetchType.LAZY,\n        cascade = {\n                CascadeType.PERSIST,\n                CascadeType.MERGE\n        })\n     @JoinTable(name = &quot;student_courses&quot;,\n        joinColumns = { @JoinColumn(name = &quot;student_id&quot;) },\n        inverseJoinColumns = { @JoinColumn(name = &quot;course_id&quot;) })\n   private Set&lt;Course&gt; courses = new HashSet&lt;&gt;();\n}\n</code></pre>\n<p>for my mongoDb database:</p>\n<p>I want to realise a <strong>Many-to-Many-Relationship</strong> between both Entities. Every courses should be able to assign multiple student.</p>\n<p>How can i replace my annotations (@Entity, @Table,@Id, @Enumerated(EnumType.STRING) and @ManyToMany(fetch = FetchType.LAZY,...)) in my entities. I use spring-boot-starter-data-mongodb in my maven dependencies</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9271,"page":721,"page_size":100}
